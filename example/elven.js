var gle=Object.create;var av=Object.defineProperty;var yle=Object.getOwnPropertyDescriptor;var mle=Object.getOwnPropertyNames;var vle=Object.getPrototypeOf,ble=Object.prototype.hasOwnProperty;var mi=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,r)=>(typeof require<"u"?require:e)[r]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')}),cB=t=>e=>{var r=t[e];if(r)return r();throw new Error("Module not found in bundle: "+e)};var je=(t,e)=>()=>(t&&(e=t(t=0)),e);var R=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Wr=(t,e)=>{for(var r in e)av(t,r,{get:e[r],enumerable:!0})},sv=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of mle(e))!ble.call(t,i)&&i!==r&&av(t,i,{get:()=>e[i],enumerable:!(n=yle(e,i))||n.enumerable});return t},oi=(t,e,r)=>(sv(t,e,"default"),r&&sv(r,e,"default")),at=(t,e,r)=>(r=t!=null?gle(vle(t)):{},sv(e||!t||!t.__esModule?av(r,"default",{value:t,enumerable:!0}):r,t)),Sn=t=>sv(av({},"__esModule",{value:!0}),t);var lB=R(ov=>{"use strict";l();ov.byteLength=_le;ov.toByteArray=Ale;ov.fromByteArray=Tle;var fo=[],Ls=[],wle=typeof Uint8Array<"u"?Uint8Array:Array,JS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(Uf=0,uB=JS.length;Uf<uB;++Uf)fo[Uf]=JS[Uf],Ls[JS.charCodeAt(Uf)]=Uf;var Uf,uB;Ls[45]=62;Ls[95]=63;function fB(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function _le(t){var e=fB(t),r=e[0],n=e[1];return(r+n)*3/4-n}function Ele(t,e,r){return(e+r)*3/4-r}function Ale(t){var e,r=fB(t),n=r[0],i=r[1],s=new wle(Ele(t,n,i)),a=0,o=i>0?n-4:n,c;for(c=0;c<o;c+=4)e=Ls[t.charCodeAt(c)]<<18|Ls[t.charCodeAt(c+1)]<<12|Ls[t.charCodeAt(c+2)]<<6|Ls[t.charCodeAt(c+3)],s[a++]=e>>16&255,s[a++]=e>>8&255,s[a++]=e&255;return i===2&&(e=Ls[t.charCodeAt(c)]<<2|Ls[t.charCodeAt(c+1)]>>4,s[a++]=e&255),i===1&&(e=Ls[t.charCodeAt(c)]<<10|Ls[t.charCodeAt(c+1)]<<4|Ls[t.charCodeAt(c+2)]>>2,s[a++]=e>>8&255,s[a++]=e&255),s}function Sle(t){return fo[t>>18&63]+fo[t>>12&63]+fo[t>>6&63]+fo[t&63]}function xle(t,e,r){for(var n,i=[],s=e;s<r;s+=3)n=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),i.push(Sle(n));return i.join("")}function Tle(t){for(var e,r=t.length,n=r%3,i=[],s=16383,a=0,o=r-n;a<o;a+=s)i.push(xle(t,a,a+s>o?o:a+s));return n===1?(e=t[r-1],i.push(fo[e>>2]+fo[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],i.push(fo[e>>10]+fo[e>>4&63]+fo[e<<2&63]+"=")),i.join("")}});var dB=R(XS=>{l();XS.read=function(t,e,r,n,i){var s,a,o=i*8-n-1,c=(1<<o)-1,u=c>>1,f=-7,d=r?i-1:0,m=r?-1:1,_=t[e+d];for(d+=m,s=_&(1<<-f)-1,_>>=-f,f+=o;f>0;s=s*256+t[e+d],d+=m,f-=8);for(a=s&(1<<-f)-1,s>>=-f,f+=n;f>0;a=a*256+t[e+d],d+=m,f-=8);if(s===0)s=1-u;else{if(s===c)return a?NaN:(_?-1:1)*(1/0);a=a+Math.pow(2,n),s=s-u}return(_?-1:1)*a*Math.pow(2,s-n)};XS.write=function(t,e,r,n,i,s){var a,o,c,u=s*8-i-1,f=(1<<u)-1,d=f>>1,m=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,_=n?0:s-1,x=n?1:-1,P=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,a=f):(a=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-a))<1&&(a--,c*=2),a+d>=1?e+=m/c:e+=m*Math.pow(2,1-d),e*c>=2&&(a++,c/=2),a+d>=f?(o=0,a=f):a+d>=1?(o=(e*c-1)*Math.pow(2,i),a=a+d):(o=e*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;t[r+_]=o&255,_+=x,o/=256,i-=8);for(a=a<<i|o,u+=i;u>0;t[r+_]=a&255,_+=x,a/=256,u-=8);t[r+_-x]|=P*128}});var Qi=R(Dd=>{"use strict";l();var ZS=lB(),Rd=dB(),hB=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Dd.Buffer=Ie;Dd.SlowBuffer=Rle;Dd.INSPECT_MAX_BYTES=50;var cv=2147483647;Dd.kMaxLength=cv;Ie.TYPED_ARRAY_SUPPORT=Ile();!Ie.TYPED_ARRAY_SUPPORT&&typeof console<"u";function Ile(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch{return!1}}Object.defineProperty(Ie.prototype,"parent",{enumerable:!0,get:function(){if(Ie.isBuffer(this))return this.buffer}});Object.defineProperty(Ie.prototype,"offset",{enumerable:!0,get:function(){if(Ie.isBuffer(this))return this.byteOffset}});function pc(t){if(t>cv)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return Object.setPrototypeOf(e,Ie.prototype),e}function Ie(t,e,r){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return n8(t)}return yB(t,e,r)}Ie.poolSize=8192;function yB(t,e,r){if(typeof t=="string")return Nle(t,e);if(ArrayBuffer.isView(t))return Ole(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(lo(t,ArrayBuffer)||t&&lo(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(lo(t,SharedArrayBuffer)||t&&lo(t.buffer,SharedArrayBuffer)))return t8(t,e,r);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var n=t.valueOf&&t.valueOf();if(n!=null&&n!==t)return Ie.from(n,e,r);var i=Ple(t);if(i)return i;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return Ie.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}Ie.from=function(t,e,r){return yB(t,e,r)};Object.setPrototypeOf(Ie.prototype,Uint8Array.prototype);Object.setPrototypeOf(Ie,Uint8Array);function mB(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function Cle(t,e,r){return mB(t),t<=0?pc(t):e!==void 0?typeof r=="string"?pc(t).fill(e,r):pc(t).fill(e):pc(t)}Ie.alloc=function(t,e,r){return Cle(t,e,r)};function n8(t){return mB(t),pc(t<0?0:i8(t)|0)}Ie.allocUnsafe=function(t){return n8(t)};Ie.allocUnsafeSlow=function(t){return n8(t)};function Nle(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!Ie.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var r=vB(t,e)|0,n=pc(r),i=n.write(t,e);return i!==r&&(n=n.slice(0,i)),n}function e8(t){for(var e=t.length<0?0:i8(t.length)|0,r=pc(e),n=0;n<e;n+=1)r[n]=t[n]&255;return r}function Ole(t){if(lo(t,Uint8Array)){var e=new Uint8Array(t);return t8(e.buffer,e.byteOffset,e.byteLength)}return e8(t)}function t8(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return e===void 0&&r===void 0?n=new Uint8Array(t):r===void 0?n=new Uint8Array(t,e):n=new Uint8Array(t,e,r),Object.setPrototypeOf(n,Ie.prototype),n}function Ple(t){if(Ie.isBuffer(t)){var e=i8(t.length)|0,r=pc(e);return r.length===0||t.copy(r,0,0,e),r}if(t.length!==void 0)return typeof t.length!="number"||s8(t.length)?pc(0):e8(t);if(t.type==="Buffer"&&Array.isArray(t.data))return e8(t.data)}function i8(t){if(t>=cv)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+cv.toString(16)+" bytes");return t|0}function Rle(t){return+t!=t&&(t=0),Ie.alloc(+t)}Ie.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==Ie.prototype};Ie.compare=function(e,r){if(lo(e,Uint8Array)&&(e=Ie.from(e,e.offset,e.byteLength)),lo(r,Uint8Array)&&(r=Ie.from(r,r.offset,r.byteLength)),!Ie.isBuffer(e)||!Ie.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===r)return 0;for(var n=e.length,i=r.length,s=0,a=Math.min(n,i);s<a;++s)if(e[s]!==r[s]){n=e[s],i=r[s];break}return n<i?-1:i<n?1:0};Ie.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};Ie.concat=function(e,r){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return Ie.alloc(0);var n;if(r===void 0)for(r=0,n=0;n<e.length;++n)r+=e[n].length;var i=Ie.allocUnsafe(r),s=0;for(n=0;n<e.length;++n){var a=e[n];if(lo(a,Uint8Array))s+a.length>i.length?Ie.from(a).copy(i,s):Uint8Array.prototype.set.call(i,a,s);else if(Ie.isBuffer(a))a.copy(i,s);else throw new TypeError('"list" argument must be an Array of Buffers');s+=a.length}return i};function vB(t,e){if(Ie.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||lo(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var r=t.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&r===0)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return r8(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return SB(t).length;default:if(i)return n?-1:r8(t).length;e=(""+e).toLowerCase(),i=!0}}Ie.byteLength=vB;function Dle(t,e,r){var n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,e>>>=0,r<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return Gle(this,e,r);case"utf8":case"utf-8":return wB(this,e,r);case"ascii":return Vle(this,e,r);case"latin1":case"binary":return Hle(this,e,r);case"base64":return Ule(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return jle(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}Ie.prototype._isBuffer=!0;function kf(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}Ie.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<e;r+=2)kf(this,r,r+1);return this};Ie.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<e;r+=4)kf(this,r,r+3),kf(this,r+1,r+2);return this};Ie.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<e;r+=8)kf(this,r,r+7),kf(this,r+1,r+6),kf(this,r+2,r+5),kf(this,r+3,r+4);return this};Ie.prototype.toString=function(){var e=this.length;return e===0?"":arguments.length===0?wB(this,0,e):Dle.apply(this,arguments)};Ie.prototype.toLocaleString=Ie.prototype.toString;Ie.prototype.equals=function(e){if(!Ie.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:Ie.compare(this,e)===0};Ie.prototype.inspect=function(){var e="",r=Dd.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"};hB&&(Ie.prototype[hB]=Ie.prototype.inspect);Ie.prototype.compare=function(e,r,n,i,s){if(lo(e,Uint8Array)&&(e=Ie.from(e,e.offset,e.byteLength)),!Ie.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(r===void 0&&(r=0),n===void 0&&(n=e?e.length:0),i===void 0&&(i=0),s===void 0&&(s=this.length),r<0||n>e.length||i<0||s>this.length)throw new RangeError("out of range index");if(i>=s&&r>=n)return 0;if(i>=s)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,i>>>=0,s>>>=0,this===e)return 0;for(var a=s-i,o=n-r,c=Math.min(a,o),u=this.slice(i,s),f=e.slice(r,n),d=0;d<c;++d)if(u[d]!==f[d]){a=u[d],o=f[d];break}return a<o?-1:o<a?1:0};function bB(t,e,r,n,i){if(t.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,s8(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0)if(i)r=0;else return-1;if(typeof e=="string"&&(e=Ie.from(e,n)),Ie.isBuffer(e))return e.length===0?-1:pB(t,e,r,n,i);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):pB(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function pB(t,e,r,n,i){var s=1,a=t.length,o=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(t.length<2||e.length<2)return-1;s=2,a/=2,o/=2,r/=2}function c(_,x){return s===1?_[x]:_.readUInt16BE(x*s)}var u;if(i){var f=-1;for(u=r;u<a;u++)if(c(t,u)===c(e,f===-1?0:u-f)){if(f===-1&&(f=u),u-f+1===o)return f*s}else f!==-1&&(u-=u-f),f=-1}else for(r+o>a&&(r=a-o),u=r;u>=0;u--){for(var d=!0,m=0;m<o;m++)if(c(t,u+m)!==c(e,m)){d=!1;break}if(d)return u}return-1}Ie.prototype.includes=function(e,r,n){return this.indexOf(e,r,n)!==-1};Ie.prototype.indexOf=function(e,r,n){return bB(this,e,r,n,!0)};Ie.prototype.lastIndexOf=function(e,r,n){return bB(this,e,r,n,!1)};function Mle(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;var s=e.length;n>s/2&&(n=s/2);for(var a=0;a<n;++a){var o=parseInt(e.substr(a*2,2),16);if(s8(o))return a;t[r+a]=o}return a}function Ble(t,e,r,n){return uv(r8(e,t.length-r),t,r,n)}function Lle(t,e,r,n){return uv(Wle(e),t,r,n)}function qle(t,e,r,n){return uv(SB(e),t,r,n)}function Fle(t,e,r,n){return uv(Qle(e,t.length-r),t,r,n)}Ie.prototype.write=function(e,r,n,i){if(r===void 0)i="utf8",n=this.length,r=0;else if(n===void 0&&typeof r=="string")i=r,n=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(n)?(n=n>>>0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var s=this.length-r;if((n===void 0||n>s)&&(n=s),e.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var a=!1;;)switch(i){case"hex":return Mle(this,e,r,n);case"utf8":case"utf-8":return Ble(this,e,r,n);case"ascii":case"latin1":case"binary":return Lle(this,e,r,n);case"base64":return qle(this,e,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Fle(this,e,r,n);default:if(a)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),a=!0}};Ie.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Ule(t,e,r){return e===0&&r===t.length?ZS.fromByteArray(t):ZS.fromByteArray(t.slice(e,r))}function wB(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var s=t[i],a=null,o=s>239?4:s>223?3:s>191?2:1;if(i+o<=r){var c,u,f,d;switch(o){case 1:s<128&&(a=s);break;case 2:c=t[i+1],(c&192)===128&&(d=(s&31)<<6|c&63,d>127&&(a=d));break;case 3:c=t[i+1],u=t[i+2],(c&192)===128&&(u&192)===128&&(d=(s&15)<<12|(c&63)<<6|u&63,d>2047&&(d<55296||d>57343)&&(a=d));break;case 4:c=t[i+1],u=t[i+2],f=t[i+3],(c&192)===128&&(u&192)===128&&(f&192)===128&&(d=(s&15)<<18|(c&63)<<12|(u&63)<<6|f&63,d>65535&&d<1114112&&(a=d))}}a===null?(a=65533,o=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|a&1023),n.push(a),i+=o}return kle(n)}var gB=4096;function kle(t){var e=t.length;if(e<=gB)return String.fromCharCode.apply(String,t);for(var r="",n=0;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=gB));return r}function Vle(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]&127);return n}function Hle(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function Gle(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",s=e;s<r;++s)i+=$le[t[s]];return i}function jle(t,e,r){for(var n=t.slice(e,r),i="",s=0;s<n.length-1;s+=2)i+=String.fromCharCode(n[s]+n[s+1]*256);return i}Ie.prototype.slice=function(e,r){var n=this.length;e=~~e,r=r===void 0?n:~~r,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<e&&(r=e);var i=this.subarray(e,r);return Object.setPrototypeOf(i,Ie.prototype),i};function Yn(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}Ie.prototype.readUintLE=Ie.prototype.readUIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||Yn(e,r,this.length);for(var i=this[e],s=1,a=0;++a<r&&(s*=256);)i+=this[e+a]*s;return i};Ie.prototype.readUintBE=Ie.prototype.readUIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||Yn(e,r,this.length);for(var i=this[e+--r],s=1;r>0&&(s*=256);)i+=this[e+--r]*s;return i};Ie.prototype.readUint8=Ie.prototype.readUInt8=function(e,r){return e=e>>>0,r||Yn(e,1,this.length),this[e]};Ie.prototype.readUint16LE=Ie.prototype.readUInt16LE=function(e,r){return e=e>>>0,r||Yn(e,2,this.length),this[e]|this[e+1]<<8};Ie.prototype.readUint16BE=Ie.prototype.readUInt16BE=function(e,r){return e=e>>>0,r||Yn(e,2,this.length),this[e]<<8|this[e+1]};Ie.prototype.readUint32LE=Ie.prototype.readUInt32LE=function(e,r){return e=e>>>0,r||Yn(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};Ie.prototype.readUint32BE=Ie.prototype.readUInt32BE=function(e,r){return e=e>>>0,r||Yn(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};Ie.prototype.readIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||Yn(e,r,this.length);for(var i=this[e],s=1,a=0;++a<r&&(s*=256);)i+=this[e+a]*s;return s*=128,i>=s&&(i-=Math.pow(2,8*r)),i};Ie.prototype.readIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||Yn(e,r,this.length);for(var i=r,s=1,a=this[e+--i];i>0&&(s*=256);)a+=this[e+--i]*s;return s*=128,a>=s&&(a-=Math.pow(2,8*r)),a};Ie.prototype.readInt8=function(e,r){return e=e>>>0,r||Yn(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};Ie.prototype.readInt16LE=function(e,r){e=e>>>0,r||Yn(e,2,this.length);var n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};Ie.prototype.readInt16BE=function(e,r){e=e>>>0,r||Yn(e,2,this.length);var n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};Ie.prototype.readInt32LE=function(e,r){return e=e>>>0,r||Yn(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};Ie.prototype.readInt32BE=function(e,r){return e=e>>>0,r||Yn(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};Ie.prototype.readFloatLE=function(e,r){return e=e>>>0,r||Yn(e,4,this.length),Rd.read(this,e,!0,23,4)};Ie.prototype.readFloatBE=function(e,r){return e=e>>>0,r||Yn(e,4,this.length),Rd.read(this,e,!1,23,4)};Ie.prototype.readDoubleLE=function(e,r){return e=e>>>0,r||Yn(e,8,this.length),Rd.read(this,e,!0,52,8)};Ie.prototype.readDoubleBE=function(e,r){return e=e>>>0,r||Yn(e,8,this.length),Rd.read(this,e,!1,52,8)};function Wi(t,e,r,n,i,s){if(!Ie.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<s)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}Ie.prototype.writeUintLE=Ie.prototype.writeUIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){var s=Math.pow(2,8*n)-1;Wi(this,e,r,n,s,0)}var a=1,o=0;for(this[r]=e&255;++o<n&&(a*=256);)this[r+o]=e/a&255;return r+n};Ie.prototype.writeUintBE=Ie.prototype.writeUIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){var s=Math.pow(2,8*n)-1;Wi(this,e,r,n,s,0)}var a=n-1,o=1;for(this[r+a]=e&255;--a>=0&&(o*=256);)this[r+a]=e/o&255;return r+n};Ie.prototype.writeUint8=Ie.prototype.writeUInt8=function(e,r,n){return e=+e,r=r>>>0,n||Wi(this,e,r,1,255,0),this[r]=e&255,r+1};Ie.prototype.writeUint16LE=Ie.prototype.writeUInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||Wi(this,e,r,2,65535,0),this[r]=e&255,this[r+1]=e>>>8,r+2};Ie.prototype.writeUint16BE=Ie.prototype.writeUInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||Wi(this,e,r,2,65535,0),this[r]=e>>>8,this[r+1]=e&255,r+2};Ie.prototype.writeUint32LE=Ie.prototype.writeUInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||Wi(this,e,r,4,4294967295,0),this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=e&255,r+4};Ie.prototype.writeUint32BE=Ie.prototype.writeUInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||Wi(this,e,r,4,4294967295,0),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};Ie.prototype.writeIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){var s=Math.pow(2,8*n-1);Wi(this,e,r,n,s-1,-s)}var a=0,o=1,c=0;for(this[r]=e&255;++a<n&&(o*=256);)e<0&&c===0&&this[r+a-1]!==0&&(c=1),this[r+a]=(e/o>>0)-c&255;return r+n};Ie.prototype.writeIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){var s=Math.pow(2,8*n-1);Wi(this,e,r,n,s-1,-s)}var a=n-1,o=1,c=0;for(this[r+a]=e&255;--a>=0&&(o*=256);)e<0&&c===0&&this[r+a+1]!==0&&(c=1),this[r+a]=(e/o>>0)-c&255;return r+n};Ie.prototype.writeInt8=function(e,r,n){return e=+e,r=r>>>0,n||Wi(this,e,r,1,127,-128),e<0&&(e=255+e+1),this[r]=e&255,r+1};Ie.prototype.writeInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||Wi(this,e,r,2,32767,-32768),this[r]=e&255,this[r+1]=e>>>8,r+2};Ie.prototype.writeInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||Wi(this,e,r,2,32767,-32768),this[r]=e>>>8,this[r+1]=e&255,r+2};Ie.prototype.writeInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||Wi(this,e,r,4,2147483647,-2147483648),this[r]=e&255,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24,r+4};Ie.prototype.writeInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||Wi(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};function _B(t,e,r,n,i,s){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function EB(t,e,r,n,i){return e=+e,r=r>>>0,i||_B(t,e,r,4,34028234663852886e22,-34028234663852886e22),Rd.write(t,e,r,n,23,4),r+4}Ie.prototype.writeFloatLE=function(e,r,n){return EB(this,e,r,!0,n)};Ie.prototype.writeFloatBE=function(e,r,n){return EB(this,e,r,!1,n)};function AB(t,e,r,n,i){return e=+e,r=r>>>0,i||_B(t,e,r,8,17976931348623157e292,-17976931348623157e292),Rd.write(t,e,r,n,52,8),r+8}Ie.prototype.writeDoubleLE=function(e,r,n){return AB(this,e,r,!0,n)};Ie.prototype.writeDoubleBE=function(e,r,n){return AB(this,e,r,!1,n)};Ie.prototype.copy=function(e,r,n,i){if(!Ie.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),!i&&i!==0&&(i=this.length),r>=e.length&&(r=e.length),r||(r=0),i>0&&i<n&&(i=n),i===n||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-r<i-n&&(i=e.length-r+n);var s=i-n;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,n,i):Uint8Array.prototype.set.call(e,this.subarray(n,i),r),s};Ie.prototype.fill=function(e,r,n,i){if(typeof e=="string"){if(typeof r=="string"?(i=r,r=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!Ie.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(e.length===1){var s=e.charCodeAt(0);(i==="utf8"&&s<128||i==="latin1")&&(e=s)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);var a;if(typeof e=="number")for(a=r;a<n;++a)this[a]=e;else{var o=Ie.isBuffer(e)?e:Ie.from(e,i),c=o.length;if(c===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(a=0;a<n-r;++a)this[a+r]=o[a%c]}return this};var zle=/[^+/0-9A-Za-z-_]/g;function Kle(t){if(t=t.split("=")[0],t=t.trim().replace(zle,""),t.length<2)return"";for(;t.length%4!==0;)t=t+"=";return t}function r8(t,e){e=e||1/0;for(var r,n=t.length,i=null,s=[],a=0;a<n;++a){if(r=t.charCodeAt(a),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(a+1===n){(e-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&s.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(e-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;s.push(r)}else if(r<2048){if((e-=2)<0)break;s.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;s.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return s}function Wle(t){for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r)&255);return e}function Qle(t,e){for(var r,n,i,s=[],a=0;a<t.length&&!((e-=2)<0);++a)r=t.charCodeAt(a),n=r>>8,i=r%256,s.push(i),s.push(n);return s}function SB(t){return ZS.toByteArray(Kle(t))}function uv(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function lo(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function s8(t){return t!==t}var $le=function(){for(var t="0123456789abcdef",e=new Array(256),r=0;r<16;++r)for(var n=r*16,i=0;i<16;++i)e[n+i]=t[r]+t[i];return e}()});var NB=R((dGe,CB)=>{l();var xn=CB.exports={},ho,po;function a8(){throw new Error("setTimeout has not been defined")}function o8(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?ho=setTimeout:ho=a8}catch{ho=a8}try{typeof clearTimeout=="function"?po=clearTimeout:po=o8}catch{po=o8}})();function xB(t){if(ho===setTimeout)return setTimeout(t,0);if((ho===a8||!ho)&&setTimeout)return ho=setTimeout,setTimeout(t,0);try{return ho(t,0)}catch{try{return ho.call(null,t,0)}catch{return ho.call(this,t,0)}}}function Yle(t){if(po===clearTimeout)return clearTimeout(t);if((po===o8||!po)&&clearTimeout)return po=clearTimeout,clearTimeout(t);try{return po(t)}catch{try{return po.call(null,t)}catch{return po.call(this,t)}}}var gc=[],Md=!1,Vf,fv=-1;function Jle(){!Md||!Vf||(Md=!1,Vf.length?gc=Vf.concat(gc):fv=-1,gc.length&&TB())}function TB(){if(!Md){var t=xB(Jle);Md=!0;for(var e=gc.length;e;){for(Vf=gc,gc=[];++fv<e;)Vf&&Vf[fv].run();fv=-1,e=gc.length}Vf=null,Md=!1,Yle(t)}}xn.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];gc.push(new IB(t,e)),gc.length===1&&!Md&&xB(TB)};function IB(t,e){this.fun=t,this.array=e}IB.prototype.run=function(){this.fun.apply(null,this.array)};xn.title="browser";xn.browser=!0;xn.env={};xn.argv=[];xn.version="";xn.versions={};function yc(){}xn.on=yc;xn.addListener=yc;xn.once=yc;xn.off=yc;xn.removeListener=yc;xn.removeAllListeners=yc;xn.emit=yc;xn.prependListener=yc;xn.prependOnceListener=yc;xn.listeners=function(t){return[]};xn.binding=function(t){throw new Error("process.binding is not supported")};xn.cwd=function(){return"/"};xn.chdir=function(t){throw new Error("process.chdir is not supported")};xn.umask=function(){return 0}});var y,A,Xle,global,l=je(()=>{y=at(Qi()),A=at(NB()),Xle=function(t){function e(){var n=this||self;return delete t.prototype.__magic__,n}if(typeof globalThis=="object")return globalThis;if(this)return e();t.defineProperty(t.prototype,"__magic__",{configurable:!0,get:e});var r=__magic__;return r}(Object),global=Xle});var Pr=R((OB,lv)=>{l();(function(t){"use strict";var e,r=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,n=Math.ceil,i=Math.floor,s="[BigNumber Error] ",a=s+"Number primitive has more than 15 significant digits: ",o=1e14,c=14,u=9007199254740991,f=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],d=1e7,m=1e9;function _(U){var Q,j,K,$=ee.prototype={constructor:ee,toString:null,valueOf:null},L=new ee(1),v=20,E=4,p=-7,g=21,b=-1e7,I=1e7,O=!1,N=1,w=0,C={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xA0",suffix:""},T="0123456789abcdefghijklmnopqrstuvwxyz",F=!0;function ee(q,G){var W,te,re,J,ae,ce,ue,ye,ge=this;if(!(ge instanceof ee))return new ee(q,G);if(G==null){if(q&&q._isBigNumber===!0){ge.s=q.s,!q.c||q.e>I?ge.c=ge.e=null:q.e<b?ge.c=[ge.e=0]:(ge.e=q.e,ge.c=q.c.slice());return}if((ce=typeof q=="number")&&q*0==0){if(ge.s=1/q<0?(q=-q,-1):1,q===~~q){for(J=0,ae=q;ae>=10;ae/=10,J++);J>I?ge.c=ge.e=null:(ge.e=J,ge.c=[q]);return}ye=String(q)}else{if(!r.test(ye=String(q)))return K(ge,ye,ce);ge.s=ye.charCodeAt(0)==45?(ye=ye.slice(1),-1):1}(J=ye.indexOf("."))>-1&&(ye=ye.replace(".","")),(ae=ye.search(/e/i))>0?(J<0&&(J=ae),J+=+ye.slice(ae+1),ye=ye.substring(0,ae)):J<0&&(J=ye.length)}else{if(k(G,2,T.length,"Base"),G==10&&F)return ge=new ee(q),oe(ge,v+ge.e+1,E);if(ye=String(q),ce=typeof q=="number"){if(q*0!=0)return K(ge,ye,ce,G);if(ge.s=1/q<0?(ye=ye.slice(1),-1):1,ee.DEBUG&&ye.replace(/^0\.0*|\./,"").length>15)throw Error(a+q)}else ge.s=ye.charCodeAt(0)===45?(ye=ye.slice(1),-1):1;for(W=T.slice(0,G),J=ae=0,ue=ye.length;ae<ue;ae++)if(W.indexOf(te=ye.charAt(ae))<0){if(te=="."){if(ae>J){J=ue;continue}}else if(!re&&(ye==ye.toUpperCase()&&(ye=ye.toLowerCase())||ye==ye.toLowerCase()&&(ye=ye.toUpperCase()))){re=!0,ae=-1,J=0;continue}return K(ge,String(q),ce,G)}ce=!1,ye=j(ye,G,10,ge.s),(J=ye.indexOf("."))>-1?ye=ye.replace(".",""):J=ye.length}for(ae=0;ye.charCodeAt(ae)===48;ae++);for(ue=ye.length;ye.charCodeAt(--ue)===48;);if(ye=ye.slice(ae,++ue)){if(ue-=ae,ce&&ee.DEBUG&&ue>15&&(q>u||q!==i(q)))throw Error(a+ge.s*q);if((J=J-ae-1)>I)ge.c=ge.e=null;else if(J<b)ge.c=[ge.e=0];else{if(ge.e=J,ge.c=[],ae=(J+1)%c,J<0&&(ae+=c),ae<ue){for(ae&&ge.c.push(+ye.slice(0,ae)),ue-=c;ae<ue;)ge.c.push(+ye.slice(ae,ae+=c));ae=c-(ye=ye.slice(ae)).length}else ae-=ue;for(;ae--;ye+="0");ge.c.push(+ye)}}else ge.c=[ge.e=0]}ee.clone=_,ee.ROUND_UP=0,ee.ROUND_DOWN=1,ee.ROUND_CEIL=2,ee.ROUND_FLOOR=3,ee.ROUND_HALF_UP=4,ee.ROUND_HALF_DOWN=5,ee.ROUND_HALF_EVEN=6,ee.ROUND_HALF_CEIL=7,ee.ROUND_HALF_FLOOR=8,ee.EUCLID=9,ee.config=ee.set=function(q){var G,W;if(q!=null)if(typeof q=="object"){if(q.hasOwnProperty(G="DECIMAL_PLACES")&&(W=q[G],k(W,0,m,G),v=W),q.hasOwnProperty(G="ROUNDING_MODE")&&(W=q[G],k(W,0,8,G),E=W),q.hasOwnProperty(G="EXPONENTIAL_AT")&&(W=q[G],W&&W.pop?(k(W[0],-m,0,G),k(W[1],0,m,G),p=W[0],g=W[1]):(k(W,-m,m,G),p=-(g=W<0?-W:W))),q.hasOwnProperty(G="RANGE"))if(W=q[G],W&&W.pop)k(W[0],-m,-1,G),k(W[1],1,m,G),b=W[0],I=W[1];else if(k(W,-m,m,G),W)b=-(I=W<0?-W:W);else throw Error(s+G+" cannot be zero: "+W);if(q.hasOwnProperty(G="CRYPTO"))if(W=q[G],W===!!W)if(W)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))O=W;else throw O=!W,Error(s+"crypto unavailable");else O=W;else throw Error(s+G+" not true or false: "+W);if(q.hasOwnProperty(G="MODULO_MODE")&&(W=q[G],k(W,0,9,G),N=W),q.hasOwnProperty(G="POW_PRECISION")&&(W=q[G],k(W,0,m,G),w=W),q.hasOwnProperty(G="FORMAT"))if(W=q[G],typeof W=="object")C=W;else throw Error(s+G+" not an object: "+W);if(q.hasOwnProperty(G="ALPHABET"))if(W=q[G],typeof W=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(W))F=W.slice(0,10)=="0123456789",T=W;else throw Error(s+G+" invalid: "+W)}else throw Error(s+"Object expected: "+q);return{DECIMAL_PLACES:v,ROUNDING_MODE:E,EXPONENTIAL_AT:[p,g],RANGE:[b,I],CRYPTO:O,MODULO_MODE:N,POW_PRECISION:w,FORMAT:C,ALPHABET:T}},ee.isBigNumber=function(q){if(!q||q._isBigNumber!==!0)return!1;if(!ee.DEBUG)return!0;var G,W,te=q.c,re=q.e,J=q.s;e:if({}.toString.call(te)=="[object Array]"){if((J===1||J===-1)&&re>=-m&&re<=m&&re===i(re)){if(te[0]===0){if(re===0&&te.length===1)return!0;break e}if(G=(re+1)%c,G<1&&(G+=c),String(te[0]).length==G){for(G=0;G<te.length;G++)if(W=te[G],W<0||W>=o||W!==i(W))break e;if(W!==0)return!0}}}else if(te===null&&re===null&&(J===null||J===1||J===-1))return!0;throw Error(s+"Invalid BigNumber: "+q)},ee.maximum=ee.max=function(){return B(arguments,-1)},ee.minimum=ee.min=function(){return B(arguments,1)},ee.random=function(){var q=9007199254740992,G=Math.random()*q&2097151?function(){return i(Math.random()*q)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(W){var te,re,J,ae,ce,ue=0,ye=[],ge=new ee(L);if(W==null?W=v:k(W,0,m),ae=n(W/c),O)if(crypto.getRandomValues){for(te=crypto.getRandomValues(new Uint32Array(ae*=2));ue<ae;)ce=te[ue]*131072+(te[ue+1]>>>11),ce>=9e15?(re=crypto.getRandomValues(new Uint32Array(2)),te[ue]=re[0],te[ue+1]=re[1]):(ye.push(ce%1e14),ue+=2);ue=ae/2}else if(crypto.randomBytes){for(te=crypto.randomBytes(ae*=7);ue<ae;)ce=(te[ue]&31)*281474976710656+te[ue+1]*1099511627776+te[ue+2]*4294967296+te[ue+3]*16777216+(te[ue+4]<<16)+(te[ue+5]<<8)+te[ue+6],ce>=9e15?crypto.randomBytes(7).copy(te,ue):(ye.push(ce%1e14),ue+=7);ue=ae/7}else throw O=!1,Error(s+"crypto unavailable");if(!O)for(;ue<ae;)ce=G(),ce<9e15&&(ye[ue++]=ce%1e14);for(ae=ye[--ue],W%=c,ae&&W&&(ce=f[c-W],ye[ue]=i(ae/ce)*ce);ye[ue]===0;ye.pop(),ue--);if(ue<0)ye=[J=0];else{for(J=-1;ye[0]===0;ye.splice(0,1),J-=c);for(ue=1,ce=ye[0];ce>=10;ce/=10,ue++);ue<c&&(J-=c-ue)}return ge.e=J,ge.c=ye,ge}}(),ee.sum=function(){for(var q=1,G=arguments,W=new ee(G[0]);q<G.length;)W=W.plus(G[q++]);return W},j=function(){var q="0123456789";function G(W,te,re,J){for(var ae,ce=[0],ue,ye=0,ge=W.length;ye<ge;){for(ue=ce.length;ue--;ce[ue]*=te);for(ce[0]+=J.indexOf(W.charAt(ye++)),ae=0;ae<ce.length;ae++)ce[ae]>re-1&&(ce[ae+1]==null&&(ce[ae+1]=0),ce[ae+1]+=ce[ae]/re|0,ce[ae]%=re)}return ce.reverse()}return function(W,te,re,J,ae){var ce,ue,ye,ge,ve,Pe,Be,Le,lt=W.indexOf("."),vt=v,qe=E;for(lt>=0&&(ge=w,w=0,W=W.replace(".",""),Le=new ee(te),Pe=Le.pow(W.length-lt),w=ge,Le.c=G(Z(P(Pe.c),Pe.e,"0"),10,re,q),Le.e=Le.c.length),Be=G(W,te,re,ae?(ce=T,q):(ce=q,T)),ye=ge=Be.length;Be[--ge]==0;Be.pop());if(!Be[0])return ce.charAt(0);if(lt<0?--ye:(Pe.c=Be,Pe.e=ye,Pe.s=J,Pe=Q(Pe,Le,vt,qe,re),Be=Pe.c,ve=Pe.r,ye=Pe.e),ue=ye+vt+1,lt=Be[ue],ge=re/2,ve=ve||ue<0||Be[ue+1]!=null,ve=qe<4?(lt!=null||ve)&&(qe==0||qe==(Pe.s<0?3:2)):lt>ge||lt==ge&&(qe==4||ve||qe==6&&Be[ue-1]&1||qe==(Pe.s<0?8:7)),ue<1||!Be[0])W=ve?Z(ce.charAt(1),-vt,ce.charAt(0)):ce.charAt(0);else{if(Be.length=ue,ve)for(--re;++Be[--ue]>re;)Be[ue]=0,ue||(++ye,Be=[1].concat(Be));for(ge=Be.length;!Be[--ge];);for(lt=0,W="";lt<=ge;W+=ce.charAt(Be[lt++]));W=Z(W,ye,ce.charAt(0))}return W}}(),Q=function(){function q(te,re,J){var ae,ce,ue,ye,ge=0,ve=te.length,Pe=re%d,Be=re/d|0;for(te=te.slice();ve--;)ue=te[ve]%d,ye=te[ve]/d|0,ae=Be*ue+ye*Pe,ce=Pe*ue+ae%d*d+ge,ge=(ce/J|0)+(ae/d|0)+Be*ye,te[ve]=ce%J;return ge&&(te=[ge].concat(te)),te}function G(te,re,J,ae){var ce,ue;if(J!=ae)ue=J>ae?1:-1;else for(ce=ue=0;ce<J;ce++)if(te[ce]!=re[ce]){ue=te[ce]>re[ce]?1:-1;break}return ue}function W(te,re,J,ae){for(var ce=0;J--;)te[J]-=ce,ce=te[J]<re[J]?1:0,te[J]=ce*ae+te[J]-re[J];for(;!te[0]&&te.length>1;te.splice(0,1));}return function(te,re,J,ae,ce){var ue,ye,ge,ve,Pe,Be,Le,lt,vt,qe,Ze,At,et,Ut,jt,Xe,Pt,St=te.s==re.s?1:-1,We=te.c,st=re.c;if(!We||!We[0]||!st||!st[0])return new ee(!te.s||!re.s||(We?st&&We[0]==st[0]:!st)?NaN:We&&We[0]==0||!st?St*0:St/0);for(lt=new ee(St),vt=lt.c=[],ye=te.e-re.e,St=J+ye+1,ce||(ce=o,ye=x(te.e/c)-x(re.e/c),St=St/c|0),ge=0;st[ge]==(We[ge]||0);ge++);if(st[ge]>(We[ge]||0)&&ye--,St<0)vt.push(1),ve=!0;else{for(Ut=We.length,Xe=st.length,ge=0,St+=2,Pe=i(ce/(st[0]+1)),Pe>1&&(st=q(st,Pe,ce),We=q(We,Pe,ce),Xe=st.length,Ut=We.length),et=Xe,qe=We.slice(0,Xe),Ze=qe.length;Ze<Xe;qe[Ze++]=0);Pt=st.slice(),Pt=[0].concat(Pt),jt=st[0],st[1]>=ce/2&&jt++;do{if(Pe=0,ue=G(st,qe,Xe,Ze),ue<0){if(At=qe[0],Xe!=Ze&&(At=At*ce+(qe[1]||0)),Pe=i(At/jt),Pe>1)for(Pe>=ce&&(Pe=ce-1),Be=q(st,Pe,ce),Le=Be.length,Ze=qe.length;G(Be,qe,Le,Ze)==1;)Pe--,W(Be,Xe<Le?Pt:st,Le,ce),Le=Be.length,ue=1;else Pe==0&&(ue=Pe=1),Be=st.slice(),Le=Be.length;if(Le<Ze&&(Be=[0].concat(Be)),W(qe,Be,Ze,ce),Ze=qe.length,ue==-1)for(;G(st,qe,Xe,Ze)<1;)Pe++,W(qe,Xe<Ze?Pt:st,Ze,ce),Ze=qe.length}else ue===0&&(Pe++,qe=[0]);vt[ge++]=Pe,qe[0]?qe[Ze++]=We[et]||0:(qe=[We[et]],Ze=1)}while((et++<Ut||qe[0]!=null)&&St--);ve=qe[0]!=null,vt[0]||vt.splice(0,1)}if(ce==o){for(ge=1,St=vt[0];St>=10;St/=10,ge++);oe(lt,J+(lt.e=ge+ye*c-1)+1,ae,ve)}else lt.e=ye,lt.r=+ve;return lt}}();function fe(q,G,W,te){var re,J,ae,ce,ue;if(W==null?W=E:k(W,0,8),!q.c)return q.toString();if(re=q.c[0],ae=q.e,G==null)ue=P(q.c),ue=te==1||te==2&&(ae<=p||ae>=g)?X(ue,ae):Z(ue,ae,"0");else if(q=oe(new ee(q),G,W),J=q.e,ue=P(q.c),ce=ue.length,te==1||te==2&&(G<=J||J<=p)){for(;ce<G;ue+="0",ce++);ue=X(ue,J)}else if(G-=ae,ue=Z(ue,J,"0"),J+1>ce){if(--G>0)for(ue+=".";G--;ue+="0");}else if(G+=J-ce,G>0)for(J+1==ce&&(ue+=".");G--;ue+="0");return q.s<0&&re?"-"+ue:ue}function B(q,G){for(var W,te,re=1,J=new ee(q[0]);re<q.length;re++)te=new ee(q[re]),(!te.s||(W=D(J,te))===G||W===0&&J.s===G)&&(J=te);return J}function ne(q,G,W){for(var te=1,re=G.length;!G[--re];G.pop());for(re=G[0];re>=10;re/=10,te++);return(W=te+W*c-1)>I?q.c=q.e=null:W<b?q.c=[q.e=0]:(q.e=W,q.c=G),q}K=function(){var q=/^(-?)0([xbo])(?=\w[\w.]*$)/i,G=/^([^.]+)\.$/,W=/^\.([^.]+)$/,te=/^-?(Infinity|NaN)$/,re=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(J,ae,ce,ue){var ye,ge=ce?ae:ae.replace(re,"");if(te.test(ge))J.s=isNaN(ge)?null:ge<0?-1:1;else{if(!ce&&(ge=ge.replace(q,function(ve,Pe,Be){return ye=(Be=Be.toLowerCase())=="x"?16:Be=="b"?2:8,!ue||ue==ye?Pe:ve}),ue&&(ye=ue,ge=ge.replace(G,"$1").replace(W,"0.$1")),ae!=ge))return new ee(ge,ye);if(ee.DEBUG)throw Error(s+"Not a"+(ue?" base "+ue:"")+" number: "+ae);J.s=null}J.c=J.e=null}}();function oe(q,G,W,te){var re,J,ae,ce,ue,ye,ge,ve=q.c,Pe=f;if(ve){e:{for(re=1,ce=ve[0];ce>=10;ce/=10,re++);if(J=G-re,J<0)J+=c,ae=G,ue=ve[ye=0],ge=i(ue/Pe[re-ae-1]%10);else if(ye=n((J+1)/c),ye>=ve.length)if(te){for(;ve.length<=ye;ve.push(0));ue=ge=0,re=1,J%=c,ae=J-c+1}else break e;else{for(ue=ce=ve[ye],re=1;ce>=10;ce/=10,re++);J%=c,ae=J-c+re,ge=ae<0?0:i(ue/Pe[re-ae-1]%10)}if(te=te||G<0||ve[ye+1]!=null||(ae<0?ue:ue%Pe[re-ae-1]),te=W<4?(ge||te)&&(W==0||W==(q.s<0?3:2)):ge>5||ge==5&&(W==4||te||W==6&&(J>0?ae>0?ue/Pe[re-ae]:0:ve[ye-1])%10&1||W==(q.s<0?8:7)),G<1||!ve[0])return ve.length=0,te?(G-=q.e+1,ve[0]=Pe[(c-G%c)%c],q.e=-G||0):ve[0]=q.e=0,q;if(J==0?(ve.length=ye,ce=1,ye--):(ve.length=ye+1,ce=Pe[c-J],ve[ye]=ae>0?i(ue/Pe[re-ae]%Pe[ae])*ce:0),te)for(;;)if(ye==0){for(J=1,ae=ve[0];ae>=10;ae/=10,J++);for(ae=ve[0]+=ce,ce=1;ae>=10;ae/=10,ce++);J!=ce&&(q.e++,ve[0]==o&&(ve[0]=1));break}else{if(ve[ye]+=ce,ve[ye]!=o)break;ve[ye--]=0,ce=1}for(J=ve.length;ve[--J]===0;ve.pop());}q.e>I?q.c=q.e=null:q.e<b&&(q.c=[q.e=0])}return q}function de(q){var G,W=q.e;return W===null?q.toString():(G=P(q.c),G=W<=p||W>=g?X(G,W):Z(G,W,"0"),q.s<0?"-"+G:G)}return $.absoluteValue=$.abs=function(){var q=new ee(this);return q.s<0&&(q.s=1),q},$.comparedTo=function(q,G){return D(this,new ee(q,G))},$.decimalPlaces=$.dp=function(q,G){var W,te,re,J=this;if(q!=null)return k(q,0,m),G==null?G=E:k(G,0,8),oe(new ee(J),q+J.e+1,G);if(!(W=J.c))return null;if(te=((re=W.length-1)-x(this.e/c))*c,re=W[re])for(;re%10==0;re/=10,te--);return te<0&&(te=0),te},$.dividedBy=$.div=function(q,G){return Q(this,new ee(q,G),v,E)},$.dividedToIntegerBy=$.idiv=function(q,G){return Q(this,new ee(q,G),0,1)},$.exponentiatedBy=$.pow=function(q,G){var W,te,re,J,ae,ce,ue,ye,ge,ve=this;if(q=new ee(q),q.c&&!q.isInteger())throw Error(s+"Exponent not an integer: "+de(q));if(G!=null&&(G=new ee(G)),ce=q.e>14,!ve.c||!ve.c[0]||ve.c[0]==1&&!ve.e&&ve.c.length==1||!q.c||!q.c[0])return ge=new ee(Math.pow(+de(ve),ce?q.s*(2-Y(q)):+de(q))),G?ge.mod(G):ge;if(ue=q.s<0,G){if(G.c?!G.c[0]:!G.s)return new ee(NaN);te=!ue&&ve.isInteger()&&G.isInteger(),te&&(ve=ve.mod(G))}else{if(q.e>9&&(ve.e>0||ve.e<-1||(ve.e==0?ve.c[0]>1||ce&&ve.c[1]>=24e7:ve.c[0]<8e13||ce&&ve.c[0]<=9999975e7)))return J=ve.s<0&&Y(q)?-0:0,ve.e>-1&&(J=1/J),new ee(ue?1/J:J);w&&(J=n(w/c+2))}for(ce?(W=new ee(.5),ue&&(q.s=1),ye=Y(q)):(re=Math.abs(+de(q)),ye=re%2),ge=new ee(L);;){if(ye){if(ge=ge.times(ve),!ge.c)break;J?ge.c.length>J&&(ge.c.length=J):te&&(ge=ge.mod(G))}if(re){if(re=i(re/2),re===0)break;ye=re%2}else if(q=q.times(W),oe(q,q.e+1,1),q.e>14)ye=Y(q);else{if(re=+de(q),re===0)break;ye=re%2}ve=ve.times(ve),J?ve.c&&ve.c.length>J&&(ve.c.length=J):te&&(ve=ve.mod(G))}return te?ge:(ue&&(ge=L.div(ge)),G?ge.mod(G):J?oe(ge,w,E,ae):ge)},$.integerValue=function(q){var G=new ee(this);return q==null?q=E:k(q,0,8),oe(G,G.e+1,q)},$.isEqualTo=$.eq=function(q,G){return D(this,new ee(q,G))===0},$.isFinite=function(){return!!this.c},$.isGreaterThan=$.gt=function(q,G){return D(this,new ee(q,G))>0},$.isGreaterThanOrEqualTo=$.gte=function(q,G){return(G=D(this,new ee(q,G)))===1||G===0},$.isInteger=function(){return!!this.c&&x(this.e/c)>this.c.length-2},$.isLessThan=$.lt=function(q,G){return D(this,new ee(q,G))<0},$.isLessThanOrEqualTo=$.lte=function(q,G){return(G=D(this,new ee(q,G)))===-1||G===0},$.isNaN=function(){return!this.s},$.isNegative=function(){return this.s<0},$.isPositive=function(){return this.s>0},$.isZero=function(){return!!this.c&&this.c[0]==0},$.minus=function(q,G){var W,te,re,J,ae=this,ce=ae.s;if(q=new ee(q,G),G=q.s,!ce||!G)return new ee(NaN);if(ce!=G)return q.s=-G,ae.plus(q);var ue=ae.e/c,ye=q.e/c,ge=ae.c,ve=q.c;if(!ue||!ye){if(!ge||!ve)return ge?(q.s=-G,q):new ee(ve?ae:NaN);if(!ge[0]||!ve[0])return ve[0]?(q.s=-G,q):new ee(ge[0]?ae:E==3?-0:0)}if(ue=x(ue),ye=x(ye),ge=ge.slice(),ce=ue-ye){for((J=ce<0)?(ce=-ce,re=ge):(ye=ue,re=ve),re.reverse(),G=ce;G--;re.push(0));re.reverse()}else for(te=(J=(ce=ge.length)<(G=ve.length))?ce:G,ce=G=0;G<te;G++)if(ge[G]!=ve[G]){J=ge[G]<ve[G];break}if(J&&(re=ge,ge=ve,ve=re,q.s=-q.s),G=(te=ve.length)-(W=ge.length),G>0)for(;G--;ge[W++]=0);for(G=o-1;te>ce;){if(ge[--te]<ve[te]){for(W=te;W&&!ge[--W];ge[W]=G);--ge[W],ge[te]+=o}ge[te]-=ve[te]}for(;ge[0]==0;ge.splice(0,1),--ye);return ge[0]?ne(q,ge,ye):(q.s=E==3?-1:1,q.c=[q.e=0],q)},$.modulo=$.mod=function(q,G){var W,te,re=this;return q=new ee(q,G),!re.c||!q.s||q.c&&!q.c[0]?new ee(NaN):!q.c||re.c&&!re.c[0]?new ee(re):(N==9?(te=q.s,q.s=1,W=Q(re,q,0,3),q.s=te,W.s*=te):W=Q(re,q,0,N),q=re.minus(W.times(q)),!q.c[0]&&N==1&&(q.s=re.s),q)},$.multipliedBy=$.times=function(q,G){var W,te,re,J,ae,ce,ue,ye,ge,ve,Pe,Be,Le,lt,vt,qe=this,Ze=qe.c,At=(q=new ee(q,G)).c;if(!Ze||!At||!Ze[0]||!At[0])return!qe.s||!q.s||Ze&&!Ze[0]&&!At||At&&!At[0]&&!Ze?q.c=q.e=q.s=null:(q.s*=qe.s,!Ze||!At?q.c=q.e=null:(q.c=[0],q.e=0)),q;for(te=x(qe.e/c)+x(q.e/c),q.s*=qe.s,ue=Ze.length,ve=At.length,ue<ve&&(Le=Ze,Ze=At,At=Le,re=ue,ue=ve,ve=re),re=ue+ve,Le=[];re--;Le.push(0));for(lt=o,vt=d,re=ve;--re>=0;){for(W=0,Pe=At[re]%vt,Be=At[re]/vt|0,ae=ue,J=re+ae;J>re;)ye=Ze[--ae]%vt,ge=Ze[ae]/vt|0,ce=Be*ye+ge*Pe,ye=Pe*ye+ce%vt*vt+Le[J]+W,W=(ye/lt|0)+(ce/vt|0)+Be*ge,Le[J--]=ye%lt;Le[J]=W}return W?++te:Le.splice(0,1),ne(q,Le,te)},$.negated=function(){var q=new ee(this);return q.s=-q.s||null,q},$.plus=function(q,G){var W,te=this,re=te.s;if(q=new ee(q,G),G=q.s,!re||!G)return new ee(NaN);if(re!=G)return q.s=-G,te.minus(q);var J=te.e/c,ae=q.e/c,ce=te.c,ue=q.c;if(!J||!ae){if(!ce||!ue)return new ee(re/0);if(!ce[0]||!ue[0])return ue[0]?q:new ee(ce[0]?te:re*0)}if(J=x(J),ae=x(ae),ce=ce.slice(),re=J-ae){for(re>0?(ae=J,W=ue):(re=-re,W=ce),W.reverse();re--;W.push(0));W.reverse()}for(re=ce.length,G=ue.length,re-G<0&&(W=ue,ue=ce,ce=W,G=re),re=0;G;)re=(ce[--G]=ce[G]+ue[G]+re)/o|0,ce[G]=o===ce[G]?0:ce[G]%o;return re&&(ce=[re].concat(ce),++ae),ne(q,ce,ae)},$.precision=$.sd=function(q,G){var W,te,re,J=this;if(q!=null&&q!==!!q)return k(q,1,m),G==null?G=E:k(G,0,8),oe(new ee(J),q,G);if(!(W=J.c))return null;if(re=W.length-1,te=re*c+1,re=W[re]){for(;re%10==0;re/=10,te--);for(re=W[0];re>=10;re/=10,te++);}return q&&J.e+1>te&&(te=J.e+1),te},$.shiftedBy=function(q){return k(q,-u,u),this.times("1e"+q)},$.squareRoot=$.sqrt=function(){var q,G,W,te,re,J=this,ae=J.c,ce=J.s,ue=J.e,ye=v+4,ge=new ee("0.5");if(ce!==1||!ae||!ae[0])return new ee(!ce||ce<0&&(!ae||ae[0])?NaN:ae?J:1/0);if(ce=Math.sqrt(+de(J)),ce==0||ce==1/0?(G=P(ae),(G.length+ue)%2==0&&(G+="0"),ce=Math.sqrt(+G),ue=x((ue+1)/2)-(ue<0||ue%2),ce==1/0?G="5e"+ue:(G=ce.toExponential(),G=G.slice(0,G.indexOf("e")+1)+ue),W=new ee(G)):W=new ee(ce+""),W.c[0]){for(ue=W.e,ce=ue+ye,ce<3&&(ce=0);;)if(re=W,W=ge.times(re.plus(Q(J,re,ye,1))),P(re.c).slice(0,ce)===(G=P(W.c)).slice(0,ce))if(W.e<ue&&--ce,G=G.slice(ce-3,ce+1),G=="9999"||!te&&G=="4999"){if(!te&&(oe(re,re.e+v+2,0),re.times(re).eq(J))){W=re;break}ye+=4,ce+=4,te=1}else{(!+G||!+G.slice(1)&&G.charAt(0)=="5")&&(oe(W,W.e+v+2,1),q=!W.times(W).eq(J));break}}return oe(W,W.e+v+1,E,q)},$.toExponential=function(q,G){return q!=null&&(k(q,0,m),q++),fe(this,q,G,1)},$.toFixed=function(q,G){return q!=null&&(k(q,0,m),q=q+this.e+1),fe(this,q,G)},$.toFormat=function(q,G,W){var te,re=this;if(W==null)q!=null&&G&&typeof G=="object"?(W=G,G=null):q&&typeof q=="object"?(W=q,q=G=null):W=C;else if(typeof W!="object")throw Error(s+"Argument not an object: "+W);if(te=re.toFixed(q,G),re.c){var J,ae=te.split("."),ce=+W.groupSize,ue=+W.secondaryGroupSize,ye=W.groupSeparator||"",ge=ae[0],ve=ae[1],Pe=re.s<0,Be=Pe?ge.slice(1):ge,Le=Be.length;if(ue&&(J=ce,ce=ue,ue=J,Le-=J),ce>0&&Le>0){for(J=Le%ce||ce,ge=Be.substr(0,J);J<Le;J+=ce)ge+=ye+Be.substr(J,ce);ue>0&&(ge+=ye+Be.slice(J)),Pe&&(ge="-"+ge)}te=ve?ge+(W.decimalSeparator||"")+((ue=+W.fractionGroupSize)?ve.replace(new RegExp("\\d{"+ue+"}\\B","g"),"$&"+(W.fractionGroupSeparator||"")):ve):ge}return(W.prefix||"")+te+(W.suffix||"")},$.toFraction=function(q){var G,W,te,re,J,ae,ce,ue,ye,ge,ve,Pe,Be=this,Le=Be.c;if(q!=null&&(ce=new ee(q),!ce.isInteger()&&(ce.c||ce.s!==1)||ce.lt(L)))throw Error(s+"Argument "+(ce.isInteger()?"out of range: ":"not an integer: ")+de(ce));if(!Le)return new ee(Be);for(G=new ee(L),ye=W=new ee(L),te=ue=new ee(L),Pe=P(Le),J=G.e=Pe.length-Be.e-1,G.c[0]=f[(ae=J%c)<0?c+ae:ae],q=!q||ce.comparedTo(G)>0?J>0?G:ye:ce,ae=I,I=1/0,ce=new ee(Pe),ue.c[0]=0;ge=Q(ce,G,0,1),re=W.plus(ge.times(te)),re.comparedTo(q)!=1;)W=te,te=re,ye=ue.plus(ge.times(re=ye)),ue=re,G=ce.minus(ge.times(re=G)),ce=re;return re=Q(q.minus(W),te,0,1),ue=ue.plus(re.times(ye)),W=W.plus(re.times(te)),ue.s=ye.s=Be.s,J=J*2,ve=Q(ye,te,J,E).minus(Be).abs().comparedTo(Q(ue,W,J,E).minus(Be).abs())<1?[ye,te]:[ue,W],I=ae,ve},$.toNumber=function(){return+de(this)},$.toPrecision=function(q,G){return q!=null&&k(q,1,m),fe(this,q,G,2)},$.toString=function(q){var G,W=this,te=W.s,re=W.e;return re===null?te?(G="Infinity",te<0&&(G="-"+G)):G="NaN":(q==null?G=re<=p||re>=g?X(P(W.c),re):Z(P(W.c),re,"0"):q===10&&F?(W=oe(new ee(W),v+re+1,E),G=Z(P(W.c),W.e,"0")):(k(q,2,T.length,"Base"),G=j(Z(P(W.c),re,"0"),10,q,te,!0)),te<0&&W.c[0]&&(G="-"+G)),G},$.valueOf=$.toJSON=function(){return de(this)},$._isBigNumber=!0,U!=null&&ee.set(U),ee}function x(U){var Q=U|0;return U>0||U===Q?Q:Q-1}function P(U){for(var Q,j,K=1,$=U.length,L=U[0]+"";K<$;){for(Q=U[K++]+"",j=c-Q.length;j--;Q="0"+Q);L+=Q}for($=L.length;L.charCodeAt(--$)===48;);return L.slice(0,$+1||1)}function D(U,Q){var j,K,$=U.c,L=Q.c,v=U.s,E=Q.s,p=U.e,g=Q.e;if(!v||!E)return null;if(j=$&&!$[0],K=L&&!L[0],j||K)return j?K?0:-E:v;if(v!=E)return v;if(j=v<0,K=p==g,!$||!L)return K?0:!$^j?1:-1;if(!K)return p>g^j?1:-1;for(E=(p=$.length)<(g=L.length)?p:g,v=0;v<E;v++)if($[v]!=L[v])return $[v]>L[v]^j?1:-1;return p==g?0:p>g^j?1:-1}function k(U,Q,j,K){if(U<Q||U>j||U!==i(U))throw Error(s+(K||"Argument")+(typeof U=="number"?U<Q||U>j?" out of range: ":" not an integer: ":" not a primitive number: ")+String(U))}function Y(U){var Q=U.c.length-1;return x(U.e/c)==Q&&U.c[Q]%2!=0}function X(U,Q){return(U.length>1?U.charAt(0)+"."+U.slice(1):U)+(Q<0?"e":"e+")+Q}function Z(U,Q,j){var K,$;if(Q<0){for($=j+".";++Q;$+=j);U=$+U}else if(K=U.length,++Q>K){for($=j,Q-=K;--Q;$+=j);U+=$}else Q<K&&(U=U.slice(0,Q)+"."+U.slice(Q));return U}e=_(),e.default=e.BigNumber=e,typeof define=="function"&&define.amd?define(function(){return e}):typeof lv<"u"&&lv.exports?lv.exports=e:(t||(t=typeof self<"u"&&self?self:window),t.BigNumber=e)})(OB)});var It=R(Me=>{"use strict";l();Object.defineProperty(Me,"__esModule",{value:!0});Me.ErrContractQuery=Me.ErrNetworkProvider=Me.ErrBadAddress=Me.ErrSignerCannotSign=Me.ErrBadPEM=Me.ErrBadMnemonicEntropy=Me.ErrWrongMnemonic=Me.ErrSmartContractQuery=Me.ErrParseTransactionOutcome=Me.ErrInvalidInnerTransaction=Me.ErrBadUsage=Me.ErrInvalidTokenIdentifier=Me.ErrIsCompletedFieldIsMissingOnTransaction=Me.ErrGasLimitShouldBe0ForInnerTransaction=Me.ErrInvalidRelayedV2BuilderArguments=Me.ErrInvalidRelayedV1BuilderArguments=Me.ErrNotImplemented=Me.ErrContractInteraction=Me.ErrCodec=Me.ErrCannotParseTransactionOutcome=Me.ErrCannotParseContractResults=Me.ErrMissingFieldOnEnum=Me.ErrMissingFieldOnStruct=Me.ErrTypingSystem=Me.ErrMock=Me.ErrContractHasNoAddress=Me.ErrContract=Me.ErrExpectedTransactionEventsNotFound=Me.ErrExpectedTransactionStatusNotReached=Me.ErrTransactionWatcherTimeout=Me.ErrAsyncTimerAborted=Me.ErrAsyncTimerAlreadyRunning=Me.ErrInvalidFunctionName=Me.ErrSignatureCannotCreate=Me.ErrTransactionOptionsInvalid=Me.ErrTransactionVersionInvalid=Me.ErrNonceInvalid=Me.ErrNotEnoughGas=Me.ErrAddressEmpty=Me.ErrAddressBadHrp=Me.ErrAddressCannotCreate=Me.ErrUnexpectedCondition=Me.ErrInvariantFailed=Me.ErrBadType=Me.ErrUnsupportedOperation=Me.ErrInvalidArgument=Me.Err=void 0;var Ot=class extends Error{constructor(e,r){super(e),this.inner=void 0,this.inner=r}summary(){let e=[];e.push({name:this.name,message:this.message});let r=this.inner;for(;r;)e.push({name:r.name,message:r.message}),r=r.inner;return e}};Me.Err=Ot;var c8=class extends Ot{constructor(e,r){super(`Invalid argument: ${e}`,r)}};Me.ErrInvalidArgument=c8;var u8=class extends Ot{constructor(e,r="not specified"){super(`Operation "${e}" not supported. Reason: ${r}`)}};Me.ErrUnsupportedOperation=u8;var f8=class extends Ot{constructor(e,r,n){super(`Bad type of "${e}": ${n}. Expected type: ${r}`)}};Me.ErrBadType=f8;var l8=class extends Ot{constructor(e){super(`Invariant failed: [${e}]`)}};Me.ErrInvariantFailed=l8;var d8=class extends Ot{constructor(e){super(`Unexpected condition: [${e}]`)}};Me.ErrUnexpectedCondition=d8;var h8=class extends Ot{constructor(e,r){let n=`Cannot create address from: ${e}`;super(n,r)}};Me.ErrAddressCannotCreate=h8;var p8=class extends Ot{constructor(e,r){super(`Wrong address HRP. Expected: ${e}, got ${r}`)}};Me.ErrAddressBadHrp=p8;var g8=class extends Ot{constructor(){super("Address is empty")}};Me.ErrAddressEmpty=g8;var y8=class extends Ot{constructor(e){super(`Not enough gas provided: ${e}`)}};Me.ErrNotEnoughGas=y8;var m8=class extends Ot{constructor(e){super(`Invalid nonce: ${e}`)}};Me.ErrNonceInvalid=m8;var v8=class extends Ot{constructor(e){super(`Invalid transaction version: ${e}`)}};Me.ErrTransactionVersionInvalid=v8;var b8=class extends Ot{constructor(e){super(`Invalid transaction options: ${e}`)}};Me.ErrTransactionOptionsInvalid=b8;var w8=class extends Ot{constructor(e,r){let n=`Cannot create signature from: ${e}`;super(n,r)}};Me.ErrSignatureCannotCreate=w8;var _8=class extends Ot{constructor(){super("Invalid function name")}};Me.ErrInvalidFunctionName=_8;var E8=class extends Ot{constructor(){super("Async timer already running")}};Me.ErrAsyncTimerAlreadyRunning=E8;var A8=class extends Ot{constructor(){super("Async timer aborted")}};Me.ErrAsyncTimerAborted=A8;var S8=class extends Ot{constructor(){super("TransactionWatcher has timed out")}};Me.ErrTransactionWatcherTimeout=S8;var x8=class extends Ot{constructor(){super("Expected transaction status not reached")}};Me.ErrExpectedTransactionStatusNotReached=x8;var T8=class extends Ot{constructor(){super("Expected transaction events not found")}};Me.ErrExpectedTransactionEventsNotFound=T8;var dv=class extends Ot{constructor(e){super(e)}};Me.ErrContract=dv;var I8=class extends dv{constructor(){super(`
The smart contract has no address set. Make sure you provide the address in the constructor, or call setAddress() appropriately.
If you need to recompute the address of the contract, make use of SmartContract.computeAddress() (static method). 
`)}};Me.ErrContractHasNoAddress=I8;var C8=class extends Ot{constructor(e){super(e)}};Me.ErrMock=C8;var N8=class extends Ot{constructor(e){super(e)}};Me.ErrTypingSystem=N8;var O8=class extends Ot{constructor(e,r){super(`field ${e} does not exist on struct ${r}`)}};Me.ErrMissingFieldOnStruct=O8;var P8=class extends Ot{constructor(e,r){super(`field ${e} does not exist on enum ${r}`)}};Me.ErrMissingFieldOnEnum=P8;var R8=class extends Ot{constructor(e){super(`cannot parse contract results: ${e}`)}};Me.ErrCannotParseContractResults=R8;var D8=class extends Ot{constructor(e,r){super(`cannot parse outcome of transaction ${e}: ${r}`)}};Me.ErrCannotParseTransactionOutcome=D8;var M8=class extends Ot{constructor(e){super(e)}};Me.ErrCodec=M8;var B8=class extends Ot{constructor(e){super(e)}};Me.ErrContractInteraction=B8;var L8=class extends Ot{constructor(){super("Method not yet implemented")}};Me.ErrNotImplemented=L8;var q8=class extends Ot{constructor(){super("invalid arguments for relayed v1 builder")}};Me.ErrInvalidRelayedV1BuilderArguments=q8;var F8=class extends Ot{constructor(){super("invalid arguments for relayed v2 builder")}};Me.ErrInvalidRelayedV2BuilderArguments=F8;var U8=class extends Ot{constructor(){super("gas limit must be 0 for the inner transaction for relayed v2")}};Me.ErrGasLimitShouldBe0ForInnerTransaction=U8;var k8=class extends Ot{constructor(){super("The transaction watcher requires the `isCompleted` property to be defined on the transaction object. Perhaps you've used the sdk-network-provider's `ProxyNetworkProvider.getTransaction()` and in that case you should also pass `withProcessStatus=true`.")}};Me.ErrIsCompletedFieldIsMissingOnTransaction=k8;var V8=class extends Ot{constructor(e){super(e)}};Me.ErrInvalidTokenIdentifier=V8;var H8=class extends Ot{constructor(e){super(e)}};Me.ErrBadUsage=H8;var G8=class extends Ot{constructor(e){super(e)}};Me.ErrInvalidInnerTransaction=G8;var j8=class extends Ot{constructor(e){super(e)}};Me.ErrParseTransactionOutcome=j8;var z8=class extends Ot{constructor(e,r){super(r),this.returnCode=e}};Me.ErrSmartContractQuery=z8;var K8=class extends Ot{constructor(){super("Wrong mnemonic format")}};Me.ErrWrongMnemonic=K8;var W8=class extends Ot{constructor(e){super("Bad mnemonic entropy",e)}};Me.ErrBadMnemonicEntropy=W8;var Q8=class extends Ot{constructor(e){super(e?`Bad PEM: ${e}`:"Bad PEM")}};Me.ErrBadPEM=Q8;var $8=class extends Ot{constructor(e){super("Cannot sign",e)}};Me.ErrSignerCannotSign=$8;var Y8=class extends Ot{constructor(e,r){super(`Bad address: ${e}`,r)}};Me.ErrBadAddress=Y8;var J8=class extends Ot{constructor(e,r,n){let i=`Request error on url [${e}]: [${r}]`;super(i,n)}};Me.ErrNetworkProvider=J8;var X8=class extends Ot{constructor(e){super(e.message.replace("executeQuery:",""))}};Me.ErrContractQuery=X8});var Dn=R(ct=>{"use strict";l();Object.defineProperty(ct,"__esModule",{value:!0});ct.ESDT_CONTRACT_ADDRESS=ct.DELEGATION_MANAGER_SC_ADDRESS=ct.CONTRACT_DEPLOY_ADDRESS=ct.BECH32_ADDRESS_LENGTH=ct.DEFAULT_HRP=ct.EGLD_IDENTIFIER_FOR_MULTI_ESDTNFT_TRANSFER=ct.UNKNOWN_SIGNER=ct.SDK_JS_SIGNER=ct.METACHAIN_ID=ct.WasmVirtualMachine=ct.CURRENT_NUMBER_OF_SHARDS_WITHOUT_META=ct.HEX_TRANSACTION_HASH_LENGTH=ct.MESSAGE_PREFIX=ct.DEFAULT_MESSAGE_VERSION=ct.ESDT_CONTRACT_ADDRESS_HEX=ct.DELEGATION_MANAGER_SC_ADDRESS_HEX=ct.CONTRACT_DEPLOY_ADDRESS_HEX=ct.VM_TYPE_WASM_VM=ct.ARGUMENTS_SEPARATOR=ct.ESDT_TRANSFER_VALUE=ct.MULTI_ESDTNFT_TRANSFER_FUNCTION_NAME=ct.ESDTNFT_TRANSFER_FUNCTION_NAME=ct.ESDT_TRANSFER_FUNCTION_NAME=ct.ESDT_TRANSFER_GAS_LIMIT=ct.MIN_TRANSACTION_VERSION_THAT_SUPPORTS_OPTIONS=ct.TRANSACTION_VERSION_DEFAULT=ct.TRANSACTION_OPTIONS_TX_GUARDED=ct.TRANSACTION_OPTIONS_TX_HASH_SIGN=ct.TRANSACTION_OPTIONS_DEFAULT=ct.TRANSACTION_MIN_GAS_PRICE=void 0;ct.TRANSACTION_MIN_GAS_PRICE=1e9;ct.TRANSACTION_OPTIONS_DEFAULT=0;ct.TRANSACTION_OPTIONS_TX_HASH_SIGN=1;ct.TRANSACTION_OPTIONS_TX_GUARDED=2;ct.TRANSACTION_VERSION_DEFAULT=2;ct.MIN_TRANSACTION_VERSION_THAT_SUPPORTS_OPTIONS=2;ct.ESDT_TRANSFER_GAS_LIMIT=5e5;ct.ESDT_TRANSFER_FUNCTION_NAME="ESDTTransfer";ct.ESDTNFT_TRANSFER_FUNCTION_NAME="ESDTNFTTransfer";ct.MULTI_ESDTNFT_TRANSFER_FUNCTION_NAME="MultiESDTNFTTransfer";ct.ESDT_TRANSFER_VALUE="0";ct.ARGUMENTS_SEPARATOR="@";ct.VM_TYPE_WASM_VM=new Uint8Array([5,0]);ct.CONTRACT_DEPLOY_ADDRESS_HEX="0000000000000000000000000000000000000000000000000000000000000000";ct.DELEGATION_MANAGER_SC_ADDRESS_HEX="000000000000000000010000000000000000000000000000000000000004ffff";ct.ESDT_CONTRACT_ADDRESS_HEX="000000000000000000010000000000000000000000000000000000000002ffff";ct.DEFAULT_MESSAGE_VERSION=1;ct.MESSAGE_PREFIX=`Elrond Signed Message:
`;ct.HEX_TRANSACTION_HASH_LENGTH=64;ct.CURRENT_NUMBER_OF_SHARDS_WITHOUT_META=3;ct.WasmVirtualMachine="0500";ct.METACHAIN_ID=4294967295;ct.SDK_JS_SIGNER="sdk-js";ct.UNKNOWN_SIGNER="unknown";ct.EGLD_IDENTIFIER_FOR_MULTI_ESDTNFT_TRANSFER="EGLD-000000";ct.DEFAULT_HRP="erd";ct.BECH32_ADDRESS_LENGTH=62;ct.CONTRACT_DEPLOY_ADDRESS="erd1qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq6gq4hu";ct.DELEGATION_MANAGER_SC_ADDRESS="erd1qqqqqqqqqqqqqqqpqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqylllslmq6y6";ct.ESDT_CONTRACT_ADDRESS="erd1qqqqqqqqqqqqqqqpqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqzllls8a5w6u"});var Gf=R(qs=>{"use strict";l();var Zle=qs&&qs.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(qs,"__esModule",{value:!0});qs.TokenPayment=qs.TokenComputer=qs.TokenTransfer=qs.Token=void 0;var Hf=Zle(Pr()),Bd=It(),ede=Dn(),PB="EGLD",RB=18;Hf.default.set({ROUNDING_MODE:1});var cg=class{constructor(e){this.identifier=e.identifier,this.nonce=e.nonce||0n}};qs.Token=cg;var hv=class t{constructor(e){if(this.isLegacyTokenTransferOptions(e)){let r=new Hf.default(e.amountAsBigInteger);if(!r.isInteger()||r.isNegative())throw new Bd.ErrInvalidArgument(`bad amountAsBigInteger: ${e.amountAsBigInteger}`);this.tokenIdentifier=e.tokenIdentifier,this.nonce=e.nonce,this.amountAsBigInteger=r,this.numDecimals=e.numDecimals||0,this.token=new cg({identifier:e.tokenIdentifier,nonce:BigInt(e.nonce)}),this.amount=BigInt(this.amountAsBigInteger.toFixed(0))}else this.token=e.token,this.amount=e.amount,this.tokenIdentifier=e.token.identifier,this.nonce=Number(e.token.nonce),this.amountAsBigInteger=new Hf.default(this.amount.toString()),this.numDecimals=0}static newFromEgldAmount(e){let r=new cg({identifier:ede.EGLD_IDENTIFIER_FOR_MULTI_ESDTNFT_TRANSFER});return new t({token:r,amount:e})}isLegacyTokenTransferOptions(e){return e.tokenIdentifier!==void 0}static egldFromAmount(e){let r=new Hf.default(e).shiftedBy(RB).decimalPlaces(0);return this.egldFromBigInteger(r)}static egldFromBigInteger(e){return new t({tokenIdentifier:PB,nonce:0,amountAsBigInteger:e,numDecimals:RB})}static fungibleFromAmount(e,r,n){let i=new Hf.default(r).shiftedBy(n).decimalPlaces(0);return this.fungibleFromBigInteger(e,i,n)}static fungibleFromBigInteger(e,r,n=0){return new t({tokenIdentifier:e,nonce:0,amountAsBigInteger:r,numDecimals:n})}static nonFungible(e,r){return new t({tokenIdentifier:e,nonce:r,amountAsBigInteger:1,numDecimals:0})}static semiFungible(e,r,n){return new t({tokenIdentifier:e,nonce:r,amountAsBigInteger:n,numDecimals:0})}static metaEsdtFromAmount(e,r,n,i){let s=new Hf.default(n).shiftedBy(i).decimalPlaces(0);return this.metaEsdtFromBigInteger(e,r,s,i)}static metaEsdtFromBigInteger(e,r,n,i=0){return new t({tokenIdentifier:e,nonce:r,amountAsBigInteger:n,numDecimals:i})}toString(){return this.amount.toString()}valueOf(){return new Hf.default(this.amount.toString())}toPrettyString(){return`${this.toAmount()} ${this.tokenIdentifier}`}toAmount(){return this.amountAsBigInteger.shiftedBy(-this.numDecimals).toFixed(this.numDecimals)}isEgld(){return this.token.identifier==PB}isFungible(){return this.token.nonce==0n}};qs.TokenTransfer=hv;var Z8=class{constructor(){}isFungible(e){return e.nonce===0n}extractNonceFromExtendedIdentifier(e){let r=e.split("-");if(this.checkIfExtendedIdentifierWasProvided(r),this.checkLengthOfRandomSequence(r[1]),r.length==2)return 0;let n=y.Buffer.from(r[2],"hex");return tde(n)}extractIdentifierFromExtendedIdentifier(e){let r=e.split("-");return this.checkIfExtendedIdentifierWasProvided(r),this.ensureTokenTickerValidity(r[0]),this.checkLengthOfRandomSequence(r[1]),r[0]+"-"+r[1]}checkIfExtendedIdentifierWasProvided(e){if(e.length<2||e.length>3)throw new Bd.ErrInvalidTokenIdentifier("Invalid extended token identifier provided")}checkLengthOfRandomSequence(e){if(e.length!==6)throw new Bd.ErrInvalidTokenIdentifier("The identifier is not valid. The random sequence does not have the right length")}ensureTokenTickerValidity(e){if(e.length<3||e.length>10)throw new Bd.ErrInvalidTokenIdentifier("The token ticker should be between 3 and 10 characters");if(!e.match(/^[a-zA-Z0-9]+$/))throw new Bd.ErrInvalidTokenIdentifier("The token ticker should only contain alphanumeric characters");if(e!=e.toUpperCase())throw new Bd.ErrInvalidTokenIdentifier("The token ticker should be upper case")}};qs.TokenComputer=Z8;function tde(t){return t.readUIntBE(0,t.length)}var e4=class extends hv{constructor(e,r,n,i){super({tokenIdentifier:e,nonce:r,amountAsBigInteger:n,numDecimals:i})}};qs.TokenPayment=e4});var iu=R(zf=>{"use strict";l();Object.defineProperty(zf,"__esModule",{value:!0});zf.Logger=zf.LogLevel=void 0;var jf;(function(t){t[t.Trace=0]="Trace",t[t.Debug=1]="Debug",t[t.Info=2]="Info",t[t.Warn=3]="Warn",t[t.Error=4]="Error",t[t.None=5]="None"})(jf=zf.LogLevel||(zf.LogLevel={}));var pv=class t{static setLevel(e){t.logLevel=e}static trace(e,...r){t.logLevel>=jf.Debug}static debug(e,...r){t.logLevel>=jf.Debug}static info(e,...r){t.logLevel>=jf.Info}static warn(e,...r){t.logLevel>=jf.Warn}static error(e,...r){t.logLevel>=jf.Error}};zf.Logger=pv;pv.logLevel=jf.Debug});var ug=R(Fs=>{"use strict";l();var rde=Fs&&Fs.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),nde=Fs&&Fs.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),ide=Fs&&Fs.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&rde(e,t,r);return nde(e,t),e};Object.defineProperty(Fs,"__esModule",{value:!0});Fs.TransactionOptions=Fs.TransactionVersion=void 0;var Ia=Dn(),DB=ide(It()),t4=class t{constructor(e){if(e=Number(e),e<1)throw new DB.ErrTransactionVersionInvalid(e);this.value=e}static withDefaultVersion(){return new t(Ia.TRANSACTION_VERSION_DEFAULT)}static withTxOptions(){return new t(Ia.TRANSACTION_VERSION_DEFAULT)}valueOf(){return this.value}};Fs.TransactionVersion=t4;var r4=class t{constructor(e){if(e=Number(e),e<0)throw new DB.ErrTransactionOptionsInvalid(e);this.value=e}static withDefaultOptions(){return new t(Ia.TRANSACTION_OPTIONS_DEFAULT)}static withOptions(e){let r=0;return e.hashSign&&(r|=Ia.TRANSACTION_OPTIONS_TX_HASH_SIGN),e.guarded&&(r|=Ia.TRANSACTION_OPTIONS_TX_GUARDED),new t(r)}isWithHashSign(){return(this.value&Ia.TRANSACTION_OPTIONS_TX_HASH_SIGN)==Ia.TRANSACTION_OPTIONS_TX_HASH_SIGN}isWithGuardian(){return(this.value&Ia.TRANSACTION_OPTIONS_TX_GUARDED)==Ia.TRANSACTION_OPTIONS_TX_GUARDED}setWithHashSign(){this.value|=Ia.TRANSACTION_OPTIONS_TX_HASH_SIGN}setWithGuardian(){this.value|=Ia.TRANSACTION_OPTIONS_TX_GUARDED}valueOf(){return this.value}};Fs.TransactionOptions=r4});var qB=R((TGe,LB)=>{"use strict";l();var yv="qpzry9x8gf2tvdw0s3jn54khce6mua7l",n4={};for(fg=0;fg<yv.length;fg++){if(gv=yv.charAt(fg),n4[gv]!==void 0)throw new TypeError(gv+" is ambiguous");n4[gv]=fg}var gv,fg;function Ld(t){var e=t>>25;return(t&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}function MB(t){for(var e=1,r=0;r<t.length;++r){var n=t.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+t+")";e=Ld(e)^n>>5}for(e=Ld(e),r=0;r<t.length;++r){var i=t.charCodeAt(r);e=Ld(e)^i&31}return e}function sde(t,e,r){if(r=r||90,t.length+7+e.length>r)throw new TypeError("Exceeds length limit");t=t.toLowerCase();var n=MB(t);if(typeof n=="string")throw new Error(n);for(var i=t+"1",s=0;s<e.length;++s){var a=e[s];if(a>>5)throw new Error("Non 5-bit word");n=Ld(n)^a,i+=yv.charAt(a)}for(s=0;s<6;++s)n=Ld(n);for(n^=1,s=0;s<6;++s){var o=n>>(5-s)*5&31;i+=yv.charAt(o)}return i}function BB(t,e){if(e=e||90,t.length<8)return t+" too short";if(t.length>e)return"Exceeds length limit";var r=t.toLowerCase(),n=t.toUpperCase();if(t!==r&&t!==n)return"Mixed-case string "+t;t=r;var i=t.lastIndexOf("1");if(i===-1)return"No separator character for "+t;if(i===0)return"Missing prefix for "+t;var s=t.slice(0,i),a=t.slice(i+1);if(a.length<6)return"Data too short";var o=MB(s);if(typeof o=="string")return o;for(var c=[],u=0;u<a.length;++u){var f=a.charAt(u),d=n4[f];if(d===void 0)return"Unknown character "+f;o=Ld(o)^d,!(u+6>=a.length)&&c.push(d)}return o!==1?"Invalid checksum for "+t:{prefix:s,words:c}}function ade(){var t=BB.apply(null,arguments);if(typeof t=="object")return t}function ode(t){var e=BB.apply(null,arguments);if(typeof e=="object")return e;throw new Error(e)}function mv(t,e,r,n){for(var i=0,s=0,a=(1<<r)-1,o=[],c=0;c<t.length;++c)for(i=i<<e|t[c],s+=e;s>=r;)s-=r,o.push(i>>s&a);if(n)s>0&&o.push(i<<r-s&a);else{if(s>=e)return"Excess padding";if(i<<r-s&a)return"Non-zero padding"}return o}function cde(t){var e=mv(t,8,5,!0);if(Array.isArray(e))return e}function ude(t){var e=mv(t,8,5,!0);if(Array.isArray(e))return e;throw new Error(e)}function fde(t){var e=mv(t,5,8,!1);if(Array.isArray(e))return e}function lde(t){var e=mv(t,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}LB.exports={decodeUnsafe:ade,decode:ode,encode:sde,toWordsUnsafe:cde,toWords:ude,fromWordsUnsafe:fde,fromWords:lde}});var wv=R(bv=>{"use strict";l();Object.defineProperty(bv,"__esModule",{value:!0});bv.LibraryConfig=void 0;var vv=class{};bv.LibraryConfig=vv;vv.DefaultAddressHrp="erd"});var su=R(Qr=>{"use strict";l();var dde=Qr&&Qr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),hde=Qr&&Qr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),pde=Qr&&Qr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&dde(e,t,r);return hde(e,t),e},gde=Qr&&Qr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Qr,"__esModule",{value:!0});Qr.addressToHex=Qr.bigIntToHex=Qr.byteArrayToHex=Qr.boolToHex=Qr.utf8ToHex=Qr.zeroPadStringIfOddLength=Qr.isPaddedHex=Qr.numberToPaddedHex=void 0;var yde=gde(Pr()),mde=qt(),vde=pde(au());function bde(t){let e;typeof t=="bigint"||typeof t=="number"?e=t:e=new yde.default(t);let r=e.toString(16);return _v(r)}Qr.numberToPaddedHex=bde;function wde(t){t=t||"";let e=y.Buffer.from(t,"hex").toString("hex");return t.toUpperCase()==e.toUpperCase()}Qr.isPaddedHex=wde;function _v(t){return t=t||"",t.length%2==1?"0"+t:t}Qr.zeroPadStringIfOddLength=_v;function FB(t){let e=y.Buffer.from(t).toString("hex");return _v(e)}Qr.utf8ToHex=FB;function _de(t){return FB(t.toString())}Qr.boolToHex=_de;function Ede(t){let e=y.Buffer.from(t).toString("hex");return _v(e)}Qr.byteArrayToHex=Ede;function Ade(t){return t==0?"":vde.getHexMagnitudeOfBigInt(t)}Qr.bigIntToHex=Ade;function Sde(t){return mde.Address.fromBech32(t.toString()).pubkey().toString("hex")}Qr.addressToHex=Sde});var au=R(Mn=>{"use strict";l();var xde=Mn&&Mn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Mn,"__esModule",{value:!0});Mn.prependByteToBuffer=Mn.flipBufferBitsInPlace=Mn.getHexMagnitudeOfBigInt=Mn.bigIntToBuffer=Mn.bufferToBigInt=Mn.cloneBuffer=Mn.isMsbZero=Mn.isMsbOne=void 0;var i4=xde(Pr()),Tde=su();function UB(t,e=0){return t[e]>>7==1}Mn.isMsbOne=UB;function Ide(t,e=0){return!UB(t,e)}Mn.isMsbZero=Ide;function Cde(t){let e=y.Buffer.alloc(t.length);return t.copy(e),e}Mn.cloneBuffer=Cde;function Nde(t){let e=t.toString("hex");return new i4.default(`0x${e}`,16)}Mn.bufferToBigInt=Nde;function Ode(t){let e=kB(t);return y.Buffer.from(e,"hex")}Mn.bigIntToBuffer=Ode;function kB(t){return t=new i4.default(t),t?(t.isNegative()&&(t=t.multipliedBy(new i4.default(-1))),Tde.numberToPaddedHex(t)):""}Mn.getHexMagnitudeOfBigInt=kB;function Pde(t){for(let e=0;e<t.length;e++)t[e]=~t[e]}Mn.flipBufferBitsInPlace=Pde;function Rde(t,e){return y.Buffer.concat([y.Buffer.from([e]),t])}Mn.prependByteToBuffer=Rde});var Ev=R(on=>{"use strict";l();var Dde=on&&on.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Mde=on&&on.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),VB=on&&on.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Dde(e,t,r);return Mde(e,t),e},Bde=on&&on.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(on,"__esModule",{value:!0});on.bufferToHex=on.addressToHex=on.bigIntToHex=on.utf8ToHex=on.bigIntToBuffer=on.bufferToBigInt=on.stringToBuffer=void 0;var Lde=Bde(Pr()),HB=VB(au()),qde=VB(su());function Fde(t){return y.Buffer.from(t)}on.stringToBuffer=Fde;function Ude(t){return t.length==0?new Lde.default(0):HB.bufferToBigInt(t)}on.bufferToBigInt=Ude;function kde(t){return t==0?y.Buffer.from([]):HB.bigIntToBuffer(t)}on.bigIntToBuffer=kde;var s4=su();Object.defineProperty(on,"utf8ToHex",{enumerable:!0,get:function(){return s4.utf8ToHex}});Object.defineProperty(on,"bigIntToHex",{enumerable:!0,get:function(){return s4.bigIntToHex}});Object.defineProperty(on,"addressToHex",{enumerable:!0,get:function(){return s4.addressToHex}});function Vde(t){let e=t.toString("hex");return qde.zeroPadStringIfOddLength(e)}on.bufferToHex=Vde});var Us=R((LGe,a4)=>{"use strict";l();var qd=typeof Reflect=="object"?Reflect:null,GB=qd&&typeof qd.apply=="function"?qd.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},Av;qd&&typeof qd.ownKeys=="function"?Av=qd.ownKeys:Object.getOwnPropertySymbols?Av=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Av=function(e){return Object.getOwnPropertyNames(e)};var zB=Number.isNaN||function(e){return e!==e};function Vr(){Vr.init.call(this)}a4.exports=Vr;a4.exports.once=zde;Vr.EventEmitter=Vr;Vr.prototype._events=void 0;Vr.prototype._eventsCount=0;Vr.prototype._maxListeners=void 0;var jB=10;function Sv(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(Vr,"defaultMaxListeners",{enumerable:!0,get:function(){return jB},set:function(t){if(typeof t!="number"||t<0||zB(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");jB=t}});Vr.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Vr.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||zB(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function KB(t){return t._maxListeners===void 0?Vr.defaultMaxListeners:t._maxListeners}Vr.prototype.getMaxListeners=function(){return KB(this)};Vr.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=e==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var a;if(r.length>0&&(a=r[0]),a instanceof Error)throw a;var o=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw o.context=a,o}var c=s[e];if(c===void 0)return!1;if(typeof c=="function")GB(c,this,r);else for(var u=c.length,f=JB(c,u),n=0;n<u;++n)GB(f[n],this,r);return!0};function WB(t,e,r,n){var i,s,a;if(Sv(r),s=t._events,s===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),s=t._events),a=s[e]),a===void 0)a=s[e]=r,++t._eventsCount;else if(typeof a=="function"?a=s[e]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),i=KB(t),i>0&&a.length>i&&!a.warned){a.warned=!0;var o=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");o.name="MaxListenersExceededWarning",o.emitter=t,o.type=e,o.count=a.length}return t}Vr.prototype.addListener=function(e,r){return WB(this,e,r,!1)};Vr.prototype.on=Vr.prototype.addListener;Vr.prototype.prependListener=function(e,r){return WB(this,e,r,!0)};function Hde(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function QB(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=Hde.bind(n);return i.listener=r,n.wrapFn=i,i}Vr.prototype.once=function(e,r){return Sv(r),this.on(e,QB(this,e,r)),this};Vr.prototype.prependOnceListener=function(e,r){return Sv(r),this.prependListener(e,QB(this,e,r)),this};Vr.prototype.removeListener=function(e,r){var n,i,s,a,o;if(Sv(r),i=this._events,i===void 0)return this;if(n=i[e],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(s=-1,a=n.length-1;a>=0;a--)if(n[a]===r||n[a].listener===r){o=n[a].listener,s=a;break}if(s<0)return this;s===0?n.shift():Gde(n,s),n.length===1&&(i[e]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",e,o||r)}return this};Vr.prototype.off=Vr.prototype.removeListener;Vr.prototype.removeAllListeners=function(e){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var s=Object.keys(n),a;for(i=0;i<s.length;++i)a=s[i],a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(e,r[i]);return this};function $B(t,e,r){var n=t._events;if(n===void 0)return[];var i=n[e];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?jde(i):JB(i,i.length)}Vr.prototype.listeners=function(e){return $B(this,e,!0)};Vr.prototype.rawListeners=function(e){return $B(this,e,!1)};Vr.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):YB.call(t,e)};Vr.prototype.listenerCount=YB;function YB(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}Vr.prototype.eventNames=function(){return this._eventsCount>0?Av(this._events):[]};function JB(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function Gde(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function jde(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function zde(t,e){return new Promise(function(r,n){function i(a){t.removeListener(e,s),n(a)}function s(){typeof t.removeListener=="function"&&t.removeListener("error",i),r([].slice.call(arguments))}XB(t,e,s,{once:!0}),e!=="error"&&Kde(t,i,{once:!0})})}function Kde(t,e,r){typeof t.on=="function"&&XB(t,"error",e,r)}function XB(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(s){n.once&&t.removeEventListener(e,i),r(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}});var o4=R((FGe,ZB)=>{l();ZB.exports=Us().EventEmitter});var c4=R((kGe,eL)=>{"use strict";l();eL.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(e,r);if(a.value!==i||a.enumerable!==!0)return!1}return!0}});var xv=R((HGe,tL)=>{"use strict";l();var Wde=c4();tL.exports=function(){return Wde()&&!!Symbol.toStringTag}});var nL=R((jGe,rL)=>{"use strict";l();rL.exports=Error});var sL=R((KGe,iL)=>{"use strict";l();iL.exports=EvalError});var oL=R((QGe,aL)=>{"use strict";l();aL.exports=RangeError});var uL=R((YGe,cL)=>{"use strict";l();cL.exports=ReferenceError});var u4=R((XGe,fL)=>{"use strict";l();fL.exports=SyntaxError});var Fd=R((eje,lL)=>{"use strict";l();lL.exports=TypeError});var hL=R((rje,dL)=>{"use strict";l();dL.exports=URIError});var yL=R((ije,gL)=>{"use strict";l();var pL=typeof Symbol<"u"&&Symbol,Qde=c4();gL.exports=function(){return typeof pL!="function"||typeof Symbol!="function"||typeof pL("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Qde()}});var vL=R((aje,mL)=>{"use strict";l();var f4={__proto__:null,foo:{}},$de=Object;mL.exports=function(){return{__proto__:f4}.foo===f4.foo&&!(f4 instanceof $de)}});var _L=R((cje,wL)=>{"use strict";l();var Yde="Function.prototype.bind called on incompatible ",Jde=Object.prototype.toString,Xde=Math.max,Zde="[object Function]",bL=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var s=0;s<r.length;s+=1)n[s+e.length]=r[s];return n},ehe=function(e,r){for(var n=[],i=r||0,s=0;i<e.length;i+=1,s+=1)n[s]=e[i];return n},the=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r};wL.exports=function(e){var r=this;if(typeof r!="function"||Jde.apply(r)!==Zde)throw new TypeError(Yde+r);for(var n=ehe(arguments,1),i,s=function(){if(this instanceof i){var f=r.apply(this,bL(n,arguments));return Object(f)===f?f:this}return r.apply(e,bL(n,arguments))},a=Xde(0,r.length-n.length),o=[],c=0;c<a;c++)o[c]="$"+c;if(i=Function("binder","return function ("+the(o,",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var u=function(){};u.prototype=r.prototype,i.prototype=new u,u.prototype=null}return i}});var Tv=R((fje,EL)=>{"use strict";l();var rhe=_L();EL.exports=Function.prototype.bind||rhe});var SL=R((dje,AL)=>{"use strict";l();var nhe=Function.prototype.call,ihe=Object.prototype.hasOwnProperty,she=Tv();AL.exports=she.call(nhe,ihe)});var Qf=R((pje,NL)=>{"use strict";l();var hr,ahe=nL(),ohe=sL(),che=oL(),uhe=uL(),Hd=u4(),Vd=Fd(),fhe=hL(),CL=Function,l4=function(t){try{return CL('"use strict"; return ('+t+").constructor;")()}catch{}},Kf=Object.getOwnPropertyDescriptor;if(Kf)try{Kf({},"")}catch{Kf=null}var d4=function(){throw new Vd},lhe=Kf?function(){try{return arguments.callee,d4}catch{try{return Kf(arguments,"callee").get}catch{return d4}}}():d4,Ud=yL()(),dhe=vL()(),Jn=Object.getPrototypeOf||(dhe?function(t){return t.__proto__}:null),kd={},hhe=typeof Uint8Array>"u"||!Jn?hr:Jn(Uint8Array),Wf={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?hr:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?hr:ArrayBuffer,"%ArrayIteratorPrototype%":Ud&&Jn?Jn([][Symbol.iterator]()):hr,"%AsyncFromSyncIteratorPrototype%":hr,"%AsyncFunction%":kd,"%AsyncGenerator%":kd,"%AsyncGeneratorFunction%":kd,"%AsyncIteratorPrototype%":kd,"%Atomics%":typeof Atomics>"u"?hr:Atomics,"%BigInt%":typeof BigInt>"u"?hr:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?hr:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?hr:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?hr:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":ahe,"%eval%":eval,"%EvalError%":ohe,"%Float32Array%":typeof Float32Array>"u"?hr:Float32Array,"%Float64Array%":typeof Float64Array>"u"?hr:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?hr:FinalizationRegistry,"%Function%":CL,"%GeneratorFunction%":kd,"%Int8Array%":typeof Int8Array>"u"?hr:Int8Array,"%Int16Array%":typeof Int16Array>"u"?hr:Int16Array,"%Int32Array%":typeof Int32Array>"u"?hr:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Ud&&Jn?Jn(Jn([][Symbol.iterator]())):hr,"%JSON%":typeof JSON=="object"?JSON:hr,"%Map%":typeof Map>"u"?hr:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Ud||!Jn?hr:Jn(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?hr:Promise,"%Proxy%":typeof Proxy>"u"?hr:Proxy,"%RangeError%":che,"%ReferenceError%":uhe,"%Reflect%":typeof Reflect>"u"?hr:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?hr:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Ud||!Jn?hr:Jn(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?hr:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Ud&&Jn?Jn(""[Symbol.iterator]()):hr,"%Symbol%":Ud?Symbol:hr,"%SyntaxError%":Hd,"%ThrowTypeError%":lhe,"%TypedArray%":hhe,"%TypeError%":Vd,"%Uint8Array%":typeof Uint8Array>"u"?hr:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?hr:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?hr:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?hr:Uint32Array,"%URIError%":fhe,"%WeakMap%":typeof WeakMap>"u"?hr:WeakMap,"%WeakRef%":typeof WeakRef>"u"?hr:WeakRef,"%WeakSet%":typeof WeakSet>"u"?hr:WeakSet};if(Jn)try{null.error}catch(t){xL=Jn(Jn(t)),Wf["%Error.prototype%"]=xL}var xL,phe=function t(e){var r;if(e==="%AsyncFunction%")r=l4("async function () {}");else if(e==="%GeneratorFunction%")r=l4("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=l4("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&Jn&&(r=Jn(i.prototype))}return Wf[e]=r,r},TL={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},lg=Tv(),Iv=SL(),ghe=lg.call(Function.call,Array.prototype.concat),yhe=lg.call(Function.apply,Array.prototype.splice),IL=lg.call(Function.call,String.prototype.replace),Cv=lg.call(Function.call,String.prototype.slice),mhe=lg.call(Function.call,RegExp.prototype.exec),vhe=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,bhe=/\\(\\)?/g,whe=function(e){var r=Cv(e,0,1),n=Cv(e,-1);if(r==="%"&&n!=="%")throw new Hd("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new Hd("invalid intrinsic syntax, expected opening `%`");var i=[];return IL(e,vhe,function(s,a,o,c){i[i.length]=o?IL(c,bhe,"$1"):a||s}),i},_he=function(e,r){var n=e,i;if(Iv(TL,n)&&(i=TL[n],n="%"+i[0]+"%"),Iv(Wf,n)){var s=Wf[n];if(s===kd&&(s=phe(n)),typeof s>"u"&&!r)throw new Vd("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new Hd("intrinsic "+e+" does not exist!")};NL.exports=function(e,r){if(typeof e!="string"||e.length===0)throw new Vd("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Vd('"allowMissing" argument must be a boolean');if(mhe(/^%?[^%]*%?$/,e)===null)throw new Hd("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=whe(e),i=n.length>0?n[0]:"",s=_he("%"+i+"%",r),a=s.name,o=s.value,c=!1,u=s.alias;u&&(i=u[0],yhe(n,ghe([0,1],u)));for(var f=1,d=!0;f<n.length;f+=1){var m=n[f],_=Cv(m,0,1),x=Cv(m,-1);if((_==='"'||_==="'"||_==="`"||x==='"'||x==="'"||x==="`")&&_!==x)throw new Hd("property names with quotes must have matching quotes");if((m==="constructor"||!d)&&(c=!0),i+="."+m,a="%"+i+"%",Iv(Wf,a))o=Wf[a];else if(o!=null){if(!(m in o)){if(!r)throw new Vd("base intrinsic for "+e+" exists, but the property is not available.");return}if(Kf&&f+1>=n.length){var P=Kf(o,m);d=!!P,d&&"get"in P&&!("originalValue"in P.get)?o=P.get:o=o[m]}else d=Iv(o,m),o=o[m];d&&!c&&(Wf[a]=o)}}return o}});var Ov=R((yje,OL)=>{"use strict";l();var Ehe=Qf(),Nv=Ehe("%Object.defineProperty%",!0)||!1;if(Nv)try{Nv({},"a",{value:1})}catch{Nv=!1}OL.exports=Nv});var Rv=R((vje,PL)=>{"use strict";l();var Ahe=Qf(),Pv=Ahe("%Object.getOwnPropertyDescriptor%",!0);if(Pv)try{Pv([],"length")}catch{Pv=null}PL.exports=Pv});var BL=R((wje,ML)=>{"use strict";l();var RL=Ov(),She=u4(),Gd=Fd(),DL=Rv();ML.exports=function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new Gd("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new Gd("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Gd("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Gd("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Gd("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Gd("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,s=arguments.length>4?arguments[4]:null,a=arguments.length>5?arguments[5]:null,o=arguments.length>6?arguments[6]:!1,c=!!DL&&DL(e,r);if(RL)RL(e,r,{configurable:a===null&&c?c.configurable:!a,enumerable:i===null&&c?c.enumerable:!i,value:n,writable:s===null&&c?c.writable:!s});else if(o||!i&&!s&&!a)e[r]=n;else throw new She("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")}});var FL=R((Eje,qL)=>{"use strict";l();var h4=Ov(),LL=function(){return!!h4};LL.hasArrayLengthDefineBug=function(){if(!h4)return null;try{return h4([],"length",{value:1}).length!==1}catch{return!0}};qL.exports=LL});var GL=R((Sje,HL)=>{"use strict";l();var xhe=Qf(),UL=BL(),The=FL()(),kL=Rv(),VL=Fd(),Ihe=xhe("%Math.floor%");HL.exports=function(e,r){if(typeof e!="function")throw new VL("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||Ihe(r)!==r)throw new VL("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,s=!0;if("length"in e&&kL){var a=kL(e,"length");a&&!a.configurable&&(i=!1),a&&!a.writable&&(s=!1)}return(i||s||!n)&&(The?UL(e,"length",r,!0,!0):UL(e,"length",r)),e}});var g4=R((Tje,Dv)=>{"use strict";l();var p4=Tv(),Mv=Qf(),Che=GL(),Nhe=Fd(),KL=Mv("%Function.prototype.apply%"),WL=Mv("%Function.prototype.call%"),QL=Mv("%Reflect.apply%",!0)||p4.call(WL,KL),jL=Ov(),Ohe=Mv("%Math.max%");Dv.exports=function(e){if(typeof e!="function")throw new Nhe("a function is required");var r=QL(p4,WL,arguments);return Che(r,1+Ohe(0,e.length-(arguments.length-1)),!0)};var zL=function(){return QL(p4,KL,arguments)};jL?jL(Dv.exports,"apply",{value:zL}):Dv.exports.apply=zL});var Bv=R((Cje,JL)=>{"use strict";l();var $L=Qf(),YL=g4(),Phe=YL($L("String.prototype.indexOf"));JL.exports=function(e,r){var n=$L(e,!!r);return typeof n=="function"&&Phe(e,".prototype.")>-1?YL(n):n}});var eq=R((Oje,ZL)=>{"use strict";l();var Rhe=xv()(),Dhe=Bv(),y4=Dhe("Object.prototype.toString"),Lv=function(e){return Rhe&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:y4(e)==="[object Arguments]"},XL=function(e){return Lv(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&y4(e)!=="[object Array]"&&y4(e.callee)==="[object Function]"},Mhe=function(){return Lv(arguments)}();Lv.isLegacyArguments=XL;ZL.exports=Mhe?Lv:XL});var nq=R((Rje,rq)=>{"use strict";l();var Bhe=Object.prototype.toString,Lhe=Function.prototype.toString,qhe=/^\s*(?:function)?\*/,tq=xv()(),m4=Object.getPrototypeOf,Fhe=function(){if(!tq)return!1;try{return Function("return function*() {}")()}catch{}},v4;rq.exports=function(e){if(typeof e!="function")return!1;if(qhe.test(Lhe.call(e)))return!0;if(!tq){var r=Bhe.call(e);return r==="[object GeneratorFunction]"}if(!m4)return!1;if(typeof v4>"u"){var n=Fhe();v4=n?m4(n):!1}return m4(e)===v4}});var oq=R((Mje,aq)=>{"use strict";l();var sq=Function.prototype.toString,jd=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,w4,qv;if(typeof jd=="function"&&typeof Object.defineProperty=="function")try{w4=Object.defineProperty({},"length",{get:function(){throw qv}}),qv={},jd(function(){throw 42},null,w4)}catch(t){t!==qv&&(jd=null)}else jd=null;var Uhe=/^\s*class\b/,_4=function(e){try{var r=sq.call(e);return Uhe.test(r)}catch{return!1}},b4=function(e){try{return _4(e)?!1:(sq.call(e),!0)}catch{return!1}},Fv=Object.prototype.toString,khe="[object Object]",Vhe="[object Function]",Hhe="[object GeneratorFunction]",Ghe="[object HTMLAllCollection]",jhe="[object HTML document.all class]",zhe="[object HTMLCollection]",Khe=typeof Symbol=="function"&&!!Symbol.toStringTag,Whe=!(0 in[,]),E4=function(){return!1};typeof document=="object"&&(iq=document.all,Fv.call(iq)===Fv.call(document.all)&&(E4=function(e){if((Whe||!e)&&(typeof e>"u"||typeof e=="object"))try{var r=Fv.call(e);return(r===Ghe||r===jhe||r===zhe||r===khe)&&e("")==null}catch{}return!1}));var iq;aq.exports=jd?function(e){if(E4(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;try{jd(e,null,w4)}catch(r){if(r!==qv)return!1}return!_4(e)&&b4(e)}:function(e){if(E4(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(Khe)return b4(e);if(_4(e))return!1;var r=Fv.call(e);return r!==Vhe&&r!==Hhe&&!/^\[object HTML/.test(r)?!1:b4(e)}});var fq=R((Lje,uq)=>{"use strict";l();var Qhe=oq(),$he=Object.prototype.toString,cq=Object.prototype.hasOwnProperty,Yhe=function(e,r,n){for(var i=0,s=e.length;i<s;i++)cq.call(e,i)&&(n==null?r(e[i],i,e):r.call(n,e[i],i,e))},Jhe=function(e,r,n){for(var i=0,s=e.length;i<s;i++)n==null?r(e.charAt(i),i,e):r.call(n,e.charAt(i),i,e)},Xhe=function(e,r,n){for(var i in e)cq.call(e,i)&&(n==null?r(e[i],i,e):r.call(n,e[i],i,e))},Zhe=function(e,r,n){if(!Qhe(r))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=n),$he.call(e)==="[object Array]"?Yhe(e,r,i):typeof e=="string"?Jhe(e,r,i):Xhe(e,r,i)};uq.exports=Zhe});var dq=R((Fje,lq)=>{"use strict";l();lq.exports=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]});var pq=R((kje,hq)=>{"use strict";l();var A4=dq(),e0e=typeof globalThis>"u"?global:globalThis;hq.exports=function(){for(var e=[],r=0;r<A4.length;r++)typeof e0e[A4[r]]=="function"&&(e[e.length]=A4[r]);return e}});var C4=R((Hje,vq)=>{"use strict";l();var kv=fq(),t0e=pq(),gq=g4(),T4=Bv(),Uv=Rv(),r0e=T4("Object.prototype.toString"),mq=xv()(),yq=typeof globalThis>"u"?global:globalThis,x4=t0e(),I4=T4("String.prototype.slice"),S4=Object.getPrototypeOf,n0e=T4("Array.prototype.indexOf",!0)||function(e,r){for(var n=0;n<e.length;n+=1)if(e[n]===r)return n;return-1},Vv={__proto__:null};mq&&Uv&&S4?kv(x4,function(t){var e=new yq[t];if(Symbol.toStringTag in e){var r=S4(e),n=Uv(r,Symbol.toStringTag);if(!n){var i=S4(r);n=Uv(i,Symbol.toStringTag)}Vv["$"+t]=gq(n.get)}}):kv(x4,function(t){var e=new yq[t],r=e.slice||e.set;r&&(Vv["$"+t]=gq(r))});var i0e=function(e){var r=!1;return kv(Vv,function(n,i){if(!r)try{"$"+n(e)===i&&(r=I4(i,1))}catch{}}),r},s0e=function(e){var r=!1;return kv(Vv,function(n,i){if(!r)try{n(e),r=I4(i,1)}catch{}}),r};vq.exports=function(e){if(!e||typeof e!="object")return!1;if(!mq){var r=I4(r0e(e),8,-1);return n0e(x4,r)>-1?r:r!=="Object"?!1:s0e(e)}return Uv?i0e(e):null}});var wq=R((jje,bq)=>{"use strict";l();var a0e=C4();bq.exports=function(e){return!!a0e(e)}});var Mq=R(or=>{"use strict";l();var o0e=eq(),c0e=nq(),Ca=C4(),_q=wq();function zd(t){return t.call.bind(t)}var Eq=typeof BigInt<"u",Aq=typeof Symbol<"u",ks=zd(Object.prototype.toString),u0e=zd(Number.prototype.valueOf),f0e=zd(String.prototype.valueOf),l0e=zd(Boolean.prototype.valueOf);Eq&&(Sq=zd(BigInt.prototype.valueOf));var Sq;Aq&&(xq=zd(Symbol.prototype.valueOf));var xq;function hg(t,e){if(typeof t!="object")return!1;try{return e(t),!0}catch{return!1}}or.isArgumentsObject=o0e;or.isGeneratorFunction=c0e;or.isTypedArray=_q;function d0e(t){return typeof Promise<"u"&&t instanceof Promise||t!==null&&typeof t=="object"&&typeof t.then=="function"&&typeof t.catch=="function"}or.isPromise=d0e;function h0e(t){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(t):_q(t)||Iq(t)}or.isArrayBufferView=h0e;function p0e(t){return Ca(t)==="Uint8Array"}or.isUint8Array=p0e;function g0e(t){return Ca(t)==="Uint8ClampedArray"}or.isUint8ClampedArray=g0e;function y0e(t){return Ca(t)==="Uint16Array"}or.isUint16Array=y0e;function m0e(t){return Ca(t)==="Uint32Array"}or.isUint32Array=m0e;function v0e(t){return Ca(t)==="Int8Array"}or.isInt8Array=v0e;function b0e(t){return Ca(t)==="Int16Array"}or.isInt16Array=b0e;function w0e(t){return Ca(t)==="Int32Array"}or.isInt32Array=w0e;function _0e(t){return Ca(t)==="Float32Array"}or.isFloat32Array=_0e;function E0e(t){return Ca(t)==="Float64Array"}or.isFloat64Array=E0e;function A0e(t){return Ca(t)==="BigInt64Array"}or.isBigInt64Array=A0e;function S0e(t){return Ca(t)==="BigUint64Array"}or.isBigUint64Array=S0e;function Hv(t){return ks(t)==="[object Map]"}Hv.working=typeof Map<"u"&&Hv(new Map);function x0e(t){return typeof Map>"u"?!1:Hv.working?Hv(t):t instanceof Map}or.isMap=x0e;function Gv(t){return ks(t)==="[object Set]"}Gv.working=typeof Set<"u"&&Gv(new Set);function T0e(t){return typeof Set>"u"?!1:Gv.working?Gv(t):t instanceof Set}or.isSet=T0e;function jv(t){return ks(t)==="[object WeakMap]"}jv.working=typeof WeakMap<"u"&&jv(new WeakMap);function I0e(t){return typeof WeakMap>"u"?!1:jv.working?jv(t):t instanceof WeakMap}or.isWeakMap=I0e;function O4(t){return ks(t)==="[object WeakSet]"}O4.working=typeof WeakSet<"u"&&O4(new WeakSet);function C0e(t){return O4(t)}or.isWeakSet=C0e;function zv(t){return ks(t)==="[object ArrayBuffer]"}zv.working=typeof ArrayBuffer<"u"&&zv(new ArrayBuffer);function Tq(t){return typeof ArrayBuffer>"u"?!1:zv.working?zv(t):t instanceof ArrayBuffer}or.isArrayBuffer=Tq;function Kv(t){return ks(t)==="[object DataView]"}Kv.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&Kv(new DataView(new ArrayBuffer(1),0,1));function Iq(t){return typeof DataView>"u"?!1:Kv.working?Kv(t):t instanceof DataView}or.isDataView=Iq;var N4=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function dg(t){return ks(t)==="[object SharedArrayBuffer]"}function Cq(t){return typeof N4>"u"?!1:(typeof dg.working>"u"&&(dg.working=dg(new N4)),dg.working?dg(t):t instanceof N4)}or.isSharedArrayBuffer=Cq;function N0e(t){return ks(t)==="[object AsyncFunction]"}or.isAsyncFunction=N0e;function O0e(t){return ks(t)==="[object Map Iterator]"}or.isMapIterator=O0e;function P0e(t){return ks(t)==="[object Set Iterator]"}or.isSetIterator=P0e;function R0e(t){return ks(t)==="[object Generator]"}or.isGeneratorObject=R0e;function D0e(t){return ks(t)==="[object WebAssembly.Module]"}or.isWebAssemblyCompiledModule=D0e;function Nq(t){return hg(t,u0e)}or.isNumberObject=Nq;function Oq(t){return hg(t,f0e)}or.isStringObject=Oq;function Pq(t){return hg(t,l0e)}or.isBooleanObject=Pq;function Rq(t){return Eq&&hg(t,Sq)}or.isBigIntObject=Rq;function Dq(t){return Aq&&hg(t,xq)}or.isSymbolObject=Dq;function M0e(t){return Nq(t)||Oq(t)||Pq(t)||Rq(t)||Dq(t)}or.isBoxedPrimitive=M0e;function B0e(t){return typeof Uint8Array<"u"&&(Tq(t)||Cq(t))}or.isAnyArrayBuffer=B0e;["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(t){Object.defineProperty(or,t,{enumerable:!1,value:function(){throw new Error(t+" is not supported in userland")}})})});var Lq=R((Qje,Bq)=>{l();Bq.exports=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}});var Rt=R((Yje,P4)=>{l();typeof Object.create=="function"?P4.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:P4.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}});var yg=R(vr=>{l();var qq=Object.getOwnPropertyDescriptors||function(e){for(var r=Object.keys(e),n={},i=0;i<r.length;i++)n[r[i]]=Object.getOwnPropertyDescriptor(e,r[i]);return n},L0e=/%[sdj%]/g;vr.format=function(t){if(!Zv(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(ou(arguments[r]));return e.join(" ")}for(var r=1,n=arguments,i=n.length,s=String(t).replace(L0e,function(o){if(o==="%%")return"%";if(r>=i)return o;switch(o){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch{return"[Circular]"}default:return o}}),a=n[r];r<i;a=n[++r])Xv(a)||!Kd(a)?s+=" "+a:s+=" "+ou(a);return s};vr.deprecate=function(t,e){if(typeof A.default<"u"&&A.default.noDeprecation===!0)return t;if(typeof A.default>"u")return function(){return vr.deprecate(t,e).apply(this,arguments)};var r=!1;function n(){if(!r){if(A.default.throwDeprecation)throw new Error(e);A.default.traceDeprecation,r=!0}return t.apply(this,arguments)}return n};var Wv={},Fq=/^$/;A.default.env.NODE_DEBUG&&(Qv=A.default.env.NODE_DEBUG,Qv=Qv.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),Fq=new RegExp("^"+Qv+"$","i"));var Qv;vr.debuglog=function(t){if(t=t.toUpperCase(),!Wv[t])if(Fq.test(t)){var e=A.default.pid;Wv[t]=function(){var r=vr.format.apply(vr,arguments)}}else Wv[t]=function(){};return Wv[t]};function ou(t,e){var r={seen:[],stylize:F0e};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),M4(e)?r.showHidden=e:e&&vr._extend(r,e),Yf(r.showHidden)&&(r.showHidden=!1),Yf(r.depth)&&(r.depth=2),Yf(r.colors)&&(r.colors=!1),Yf(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=q0e),Yv(r,t,r.depth)}vr.inspect=ou;ou.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};ou.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function q0e(t,e){var r=ou.styles[e];return r?"\x1B["+ou.colors[r][0]+"m"+t+"\x1B["+ou.colors[r][1]+"m":t}function F0e(t,e){return t}function U0e(t){var e={};return t.forEach(function(r,n){e[r]=!0}),e}function Yv(t,e,r){if(t.customInspect&&e&&$v(e.inspect)&&e.inspect!==vr.inspect&&!(e.constructor&&e.constructor.prototype===e)){var n=e.inspect(r,t);return Zv(n)||(n=Yv(t,n,r)),n}var i=k0e(t,e);if(i)return i;var s=Object.keys(e),a=U0e(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(e)),gg(e)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return R4(e);if(s.length===0){if($v(e)){var o=e.name?": "+e.name:"";return t.stylize("[Function"+o+"]","special")}if(pg(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(Jv(e))return t.stylize(Date.prototype.toString.call(e),"date");if(gg(e))return R4(e)}var c="",u=!1,f=["{","}"];if(Uq(e)&&(u=!0,f=["[","]"]),$v(e)){var d=e.name?": "+e.name:"";c=" [Function"+d+"]"}if(pg(e)&&(c=" "+RegExp.prototype.toString.call(e)),Jv(e)&&(c=" "+Date.prototype.toUTCString.call(e)),gg(e)&&(c=" "+R4(e)),s.length===0&&(!u||e.length==0))return f[0]+c+f[1];if(r<0)return pg(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var m;return u?m=V0e(t,e,r,a,s):m=s.map(function(_){return D4(t,e,r,a,_,u)}),t.seen.pop(),H0e(m,c,f)}function k0e(t,e){if(Yf(e))return t.stylize("undefined","undefined");if(Zv(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}if(kq(e))return t.stylize(""+e,"number");if(M4(e))return t.stylize(""+e,"boolean");if(Xv(e))return t.stylize("null","null")}function R4(t){return"["+Error.prototype.toString.call(t)+"]"}function V0e(t,e,r,n,i){for(var s=[],a=0,o=e.length;a<o;++a)Vq(e,String(a))?s.push(D4(t,e,r,n,String(a),!0)):s.push("");return i.forEach(function(c){c.match(/^\d+$/)||s.push(D4(t,e,r,n,c,!0))}),s}function D4(t,e,r,n,i,s){var a,o,c;if(c=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]},c.get?c.set?o=t.stylize("[Getter/Setter]","special"):o=t.stylize("[Getter]","special"):c.set&&(o=t.stylize("[Setter]","special")),Vq(n,i)||(a="["+i+"]"),o||(t.seen.indexOf(c.value)<0?(Xv(r)?o=Yv(t,c.value,null):o=Yv(t,c.value,r-1),o.indexOf(`
`)>-1&&(s?o=o.split(`
`).map(function(u){return"  "+u}).join(`
`).slice(2):o=`
`+o.split(`
`).map(function(u){return"   "+u}).join(`
`))):o=t.stylize("[Circular]","special")),Yf(a)){if(s&&i.match(/^\d+$/))return o;a=JSON.stringify(""+i),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.slice(1,-1),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+o}function H0e(t,e,r){var n=0,i=t.reduce(function(s,a){return n++,a.indexOf(`
`)>=0&&n++,s+a.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?r[0]+(e===""?"":e+`
 `)+" "+t.join(`,
  `)+" "+r[1]:r[0]+e+" "+t.join(", ")+" "+r[1]}vr.types=Mq();function Uq(t){return Array.isArray(t)}vr.isArray=Uq;function M4(t){return typeof t=="boolean"}vr.isBoolean=M4;function Xv(t){return t===null}vr.isNull=Xv;function G0e(t){return t==null}vr.isNullOrUndefined=G0e;function kq(t){return typeof t=="number"}vr.isNumber=kq;function Zv(t){return typeof t=="string"}vr.isString=Zv;function j0e(t){return typeof t=="symbol"}vr.isSymbol=j0e;function Yf(t){return t===void 0}vr.isUndefined=Yf;function pg(t){return Kd(t)&&B4(t)==="[object RegExp]"}vr.isRegExp=pg;vr.types.isRegExp=pg;function Kd(t){return typeof t=="object"&&t!==null}vr.isObject=Kd;function Jv(t){return Kd(t)&&B4(t)==="[object Date]"}vr.isDate=Jv;vr.types.isDate=Jv;function gg(t){return Kd(t)&&(B4(t)==="[object Error]"||t instanceof Error)}vr.isError=gg;vr.types.isNativeError=gg;function $v(t){return typeof t=="function"}vr.isFunction=$v;function z0e(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||typeof t>"u"}vr.isPrimitive=z0e;vr.isBuffer=Lq();function B4(t){return Object.prototype.toString.call(t)}vr.log=function(){};vr.inherits=Rt();vr._extend=function(t,e){if(!e||!Kd(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t};function Vq(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var $f=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;vr.promisify=function(e){if(typeof e!="function")throw new TypeError('The "original" argument must be of type Function');if($f&&e[$f]){var r=e[$f];if(typeof r!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(r,$f,{value:r,enumerable:!1,writable:!1,configurable:!0}),r}function r(){for(var n,i,s=new Promise(function(c,u){n=c,i=u}),a=[],o=0;o<arguments.length;o++)a.push(arguments[o]);a.push(function(c,u){c?i(c):n(u)});try{e.apply(this,a)}catch(c){i(c)}return s}return Object.setPrototypeOf(r,Object.getPrototypeOf(e)),$f&&Object.defineProperty(r,$f,{value:r,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(r,qq(e))};vr.promisify.custom=$f;function K0e(t,e){if(!t){var r=new Error("Promise was rejected with a falsy value");r.reason=t,t=r}return e(t)}function W0e(t){if(typeof t!="function")throw new TypeError('The "original" argument must be of type Function');function e(){for(var r=[],n=0;n<arguments.length;n++)r.push(arguments[n]);var i=r.pop();if(typeof i!="function")throw new TypeError("The last argument must be of type Function");var s=this,a=function(){return i.apply(s,arguments)};t.apply(this,r).then(function(o){A.default.nextTick(a.bind(null,null,o))},function(o){A.default.nextTick(K0e.bind(null,o,a))})}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),Object.defineProperties(e,qq(t)),e}vr.callbackify=W0e});var Wq=R((eze,Kq)=>{"use strict";l();function Hq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Gq(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Hq(Object(r),!0).forEach(function(n){Q0e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Hq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Q0e(t,e,r){return e=zq(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jq(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zq(n.key),n)}}function Y0e(t,e,r){return e&&jq(t.prototype,e),r&&jq(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function zq(t){var e=J0e(t,"string");return typeof e=="symbol"?e:String(e)}function J0e(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var X0e=Qi(),eb=X0e.Buffer,Z0e=yg(),L4=Z0e.inspect,epe=L4&&L4.custom||"inspect";function tpe(t,e,r){eb.prototype.copy.call(t,e,r)}Kq.exports=function(){function t(){$0e(this,t),this.head=null,this.tail=null,this.length=0}return Y0e(t,[{key:"push",value:function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length}},{key:"unshift",value:function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i}},{key:"concat",value:function(r){if(this.length===0)return eb.alloc(0);for(var n=eb.allocUnsafe(r>>>0),i=this.head,s=0;i;)tpe(i.data,n,s),s+=i.data.length,i=i.next;return n}},{key:"consume",value:function(r,n){var i;return r<this.head.data.length?(i=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?i=this.shift():i=n?this._getString(r):this._getBuffer(r),i}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var n=this.head,i=1,s=n.data;for(r-=s.length;n=n.next;){var a=n.data,o=r>a.length?a.length:r;if(o===a.length?s+=a:s+=a.slice(0,r),r-=o,r===0){o===a.length?(++i,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=a.slice(o));break}++i}return this.length-=i,s}},{key:"_getBuffer",value:function(r){var n=eb.allocUnsafe(r),i=this.head,s=1;for(i.data.copy(n),r-=i.data.length;i=i.next;){var a=i.data,o=r>a.length?a.length:r;if(a.copy(n,n.length-r,0,o),r-=o,r===0){o===a.length?(++s,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=a.slice(o));break}++s}return this.length-=s,n}},{key:epe,value:function(r,n){return L4(this,Gq(Gq({},n),{},{depth:0,customInspect:!1}))}}]),t}()});var F4=R((rze,$q)=>{"use strict";l();function rpe(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,A.default.nextTick(q4,this,t)):A.default.nextTick(q4,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?r._writableState?r._writableState.errorEmitted?A.default.nextTick(tb,r):(r._writableState.errorEmitted=!0,A.default.nextTick(Qq,r,s)):A.default.nextTick(Qq,r,s):e?(A.default.nextTick(tb,r),e(s)):A.default.nextTick(tb,r)}),this)}function Qq(t,e){q4(t,e),tb(t)}function tb(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function npe(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function q4(t,e){t.emit("error",e)}function ipe(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}$q.exports={destroy:rpe,undestroy:npe,errorOrDestroy:ipe}});var Jf=R((ize,Xq)=>{"use strict";l();function spe(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var Jq={};function Vs(t,e,r){r||(r=Error);function n(s,a,o){return typeof e=="string"?e:e(s,a,o)}var i=function(s){spe(a,s);function a(o,c,u){return s.call(this,n(o,c,u))||this}return a}(r);i.prototype.name=r.name,i.prototype.code=t,Jq[t]=i}function Yq(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function ape(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function ope(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function cpe(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}Vs("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);Vs("ERR_INVALID_ARG_TYPE",function(t,e,r){var n;typeof e=="string"&&ape(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var i;if(ope(t," argument"))i="The ".concat(t," ").concat(n," ").concat(Yq(e,"type"));else{var s=cpe(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(s," ").concat(n," ").concat(Yq(e,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError);Vs("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");Vs("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});Vs("ERR_STREAM_PREMATURE_CLOSE","Premature close");Vs("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});Vs("ERR_MULTIPLE_CALLBACK","Callback called multiple times");Vs("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");Vs("ERR_STREAM_WRITE_AFTER_END","write after end");Vs("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Vs("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);Vs("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");Xq.exports.codes=Jq});var U4=R((aze,Zq)=>{"use strict";l();var upe=Jf().codes.ERR_INVALID_OPT_VALUE;function fpe(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function lpe(t,e,r,n){var i=fpe(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var s=n?r:"highWaterMark";throw new upe(s,i)}return Math.floor(i)}return t.objectMode?16:16*1024}Zq.exports={getHighWaterMark:lpe}});var V4=R((cze,eF)=>{l();eF.exports=dpe;function dpe(t,e){if(k4("noDeprecation"))return t;var r=!1;function n(){if(!r){if(k4("throwDeprecation"))throw new Error(e);k4("traceDeprecation"),r=!0}return t.apply(this,arguments)}return n}function k4(t){try{if(!global.localStorage)return!1}catch{return!1}var e=global.localStorage[t];return e==null?!1:String(e).toLowerCase()==="true"}});var ib=R((fze,aF)=>{"use strict";l();aF.exports=pn;function rF(t){var e=this;this.next=null,this.entry=null,this.finish=function(){Upe(e,t)}}var Wd;pn.WritableState=vg;var hpe={deprecate:V4()},nF=o4(),nb=Qi().Buffer,ppe=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function gpe(t){return nb.from(t)}function ype(t){return nb.isBuffer(t)||t instanceof ppe}var G4=F4(),mpe=U4(),vpe=mpe.getHighWaterMark,cu=Jf().codes,bpe=cu.ERR_INVALID_ARG_TYPE,wpe=cu.ERR_METHOD_NOT_IMPLEMENTED,_pe=cu.ERR_MULTIPLE_CALLBACK,Epe=cu.ERR_STREAM_CANNOT_PIPE,Ape=cu.ERR_STREAM_DESTROYED,Spe=cu.ERR_STREAM_NULL_VALUES,xpe=cu.ERR_STREAM_WRITE_AFTER_END,Tpe=cu.ERR_UNKNOWN_ENCODING,Qd=G4.errorOrDestroy;Rt()(pn,nF);function Ipe(){}function vg(t,e,r){Wd=Wd||uu(),t=t||{},typeof r!="boolean"&&(r=e instanceof Wd),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=vpe(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=t.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(i){Mpe(e,i)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new rF(this)}vg.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(vg.prototype,"buffer",{get:hpe.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var rb;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(rb=Function.prototype[Symbol.hasInstance],Object.defineProperty(pn,Symbol.hasInstance,{value:function(e){return rb.call(this,e)?!0:this!==pn?!1:e&&e._writableState instanceof vg}})):rb=function(e){return e instanceof this};function pn(t){Wd=Wd||uu();var e=this instanceof Wd;if(!e&&!rb.call(pn,this))return new pn(t);this._writableState=new vg(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),nF.call(this)}pn.prototype.pipe=function(){Qd(this,new Epe)};function Cpe(t,e){var r=new xpe;Qd(t,r),A.default.nextTick(e,r)}function Npe(t,e,r,n){var i;return r===null?i=new Spe:typeof r!="string"&&!e.objectMode&&(i=new bpe("chunk",["string","Buffer"],r)),i?(Qd(t,i),A.default.nextTick(n,i),!1):!0}pn.prototype.write=function(t,e,r){var n=this._writableState,i=!1,s=!n.objectMode&&ype(t);return s&&!nb.isBuffer(t)&&(t=gpe(t)),typeof e=="function"&&(r=e,e=null),s?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=Ipe),n.ending?Cpe(this,r):(s||Npe(this,n,t,r))&&(n.pendingcb++,i=Ppe(this,n,s,t,e,r)),i};pn.prototype.cork=function(){this._writableState.corked++};pn.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&iF(this,t))};pn.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new Tpe(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(pn.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function Ope(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=nb.from(e,r)),e}Object.defineProperty(pn.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Ppe(t,e,r,n,i,s){if(!r){var a=Ope(e,n,i);n!==a&&(r=!0,i="buffer",n=a)}var o=e.objectMode?1:n.length;e.length+=o;var c=e.length<e.highWaterMark;if(c||(e.needDrain=!0),e.writing||e.corked){var u=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},u?u.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else H4(t,e,!1,o,n,i,s);return c}function H4(t,e,r,n,i,s,a){e.writelen=n,e.writecb=a,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new Ape("write")):r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}function Rpe(t,e,r,n,i){--e.pendingcb,r?(A.default.nextTick(i,n),A.default.nextTick(mg,t,e),t._writableState.errorEmitted=!0,Qd(t,n)):(i(n),t._writableState.errorEmitted=!0,Qd(t,n),mg(t,e))}function Dpe(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function Mpe(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function")throw new _pe;if(Dpe(r),e)Rpe(t,r,n,e,i);else{var s=sF(r)||t.destroyed;!s&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&iF(t,r),n?A.default.nextTick(tF,t,r,s,i):tF(t,r,s,i)}}function tF(t,e,r,n){r||Bpe(t,e),e.pendingcb--,n(),mg(t,e)}function Bpe(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function iF(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),s=e.corkedRequestsFree;s.entry=r;for(var a=0,o=!0;r;)i[a]=r,r.isBuf||(o=!1),r=r.next,a+=1;i.allBuffers=o,H4(t,e,!0,e.length,i,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new rF(e),e.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,u=r.encoding,f=r.callback,d=e.objectMode?1:c.length;if(H4(t,e,!1,d,c,u,f),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}pn.prototype._write=function(t,e,r){r(new wpe("_write()"))};pn.prototype._writev=null;pn.prototype.end=function(t,e,r){var n=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||Fpe(this,n,r),this};Object.defineProperty(pn.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function sF(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function Lpe(t,e){t._final(function(r){e.pendingcb--,r&&Qd(t,r),e.prefinished=!0,t.emit("prefinish"),mg(t,e)})}function qpe(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,A.default.nextTick(Lpe,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function mg(t,e){var r=sF(e);if(r&&(qpe(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy()}return r}function Fpe(t,e,r){e.ending=!0,mg(t,e),r&&(e.finished?A.default.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function Upe(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree.next=t}Object.defineProperty(pn.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}});pn.prototype.destroy=G4.destroy;pn.prototype._undestroy=G4.undestroy;pn.prototype._destroy=function(t,e){e(t)}});var uu=R((dze,cF)=>{"use strict";l();var kpe=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};cF.exports=go;var oF=ob(),z4=ib();Rt()(go,oF);for(j4=kpe(z4.prototype),sb=0;sb<j4.length;sb++)ab=j4[sb],go.prototype[ab]||(go.prototype[ab]=z4.prototype[ab]);var j4,ab,sb;function go(t){if(!(this instanceof go))return new go(t);oF.call(this,t),z4.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",Vpe)))}Object.defineProperty(go.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(go.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(go.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Vpe(){this._writableState.ended||A.default.nextTick(Hpe,this)}function Hpe(t){t.end()}Object.defineProperty(go.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})});var Dt=R((K4,fF)=>{l();var cb=Qi(),yo=cb.Buffer;function uF(t,e){for(var r in t)e[r]=t[r]}yo.from&&yo.alloc&&yo.allocUnsafe&&yo.allocUnsafeSlow?fF.exports=cb:(uF(cb,K4),K4.Buffer=Xf);function Xf(t,e,r){return yo(t,e,r)}Xf.prototype=Object.create(yo.prototype);uF(yo,Xf);Xf.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return yo(t,e,r)};Xf.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=yo(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n};Xf.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return yo(t)};Xf.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return cb.SlowBuffer(t)}});var ub=R(dF=>{"use strict";l();var Q4=Dt().Buffer,lF=Q4.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Gpe(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function jpe(t){var e=Gpe(t);if(typeof e!="string"&&(Q4.isEncoding===lF||!lF(t)))throw new Error("Unknown encoding: "+t);return e||t}dF.StringDecoder=bg;function bg(t){this.encoding=jpe(t);var e;switch(this.encoding){case"utf16le":this.text=Ype,this.end=Jpe,e=4;break;case"utf8":this.fillLast=Wpe,e=4;break;case"base64":this.text=Xpe,this.end=Zpe,e=3;break;default:this.write=ege,this.end=tge;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=Q4.allocUnsafe(e)}bg.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};bg.prototype.end=$pe;bg.prototype.text=Qpe;bg.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function W4(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function zpe(t,e,r){var n=e.length-1;if(n<r)return 0;var i=W4(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=W4(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=W4(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function Kpe(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function Wpe(t){var e=this.lastTotal-this.lastNeed,r=Kpe(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function Qpe(t,e){var r=zpe(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function $pe(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function Ype(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function Jpe(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function Xpe(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function Zpe(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function ege(t){return t.toString(this.encoding)}function tge(t){return t&&t.length?this.write(t):""}});var wg=R((mze,gF)=>{"use strict";l();var hF=Jf().codes.ERR_STREAM_PREMATURE_CLOSE;function rge(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}function nge(){}function ige(t){return t.setHeader&&typeof t.abort=="function"}function pF(t,e,r){if(typeof e=="function")return pF(t,null,e);e||(e={}),r=rge(r||nge);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,s=function(){t.writable||o()},a=t._writableState&&t._writableState.finished,o=function(){i=!1,a=!0,n||r.call(t)},c=t._readableState&&t._readableState.endEmitted,u=function(){n=!1,c=!0,i||r.call(t)},f=function(x){r.call(t,x)},d=function(){var x;if(n&&!c)return(!t._readableState||!t._readableState.ended)&&(x=new hF),r.call(t,x);if(i&&!a)return(!t._writableState||!t._writableState.ended)&&(x=new hF),r.call(t,x)},m=function(){t.req.on("finish",o)};return ige(t)?(t.on("complete",o),t.on("abort",d),t.req?m():t.on("request",m)):i&&!t._writableState&&(t.on("end",s),t.on("close",s)),t.on("end",u),t.on("finish",o),e.error!==!1&&t.on("error",f),t.on("close",d),function(){t.removeListener("complete",o),t.removeListener("abort",d),t.removeListener("request",m),t.req&&t.req.removeListener("finish",o),t.removeListener("end",s),t.removeListener("close",s),t.removeListener("finish",o),t.removeListener("end",u),t.removeListener("error",f),t.removeListener("close",d)}}gF.exports=pF});var mF=R((bze,yF)=>{"use strict";l();var fb;function fu(t,e,r){return e=sge(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sge(t){var e=age(t,"string");return typeof e=="symbol"?e:String(e)}function age(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oge=wg(),lu=Symbol("lastResolve"),Zf=Symbol("lastReject"),_g=Symbol("error"),lb=Symbol("ended"),el=Symbol("lastPromise"),$4=Symbol("handlePromise"),tl=Symbol("stream");function du(t,e){return{value:t,done:e}}function cge(t){var e=t[lu];if(e!==null){var r=t[tl].read();r!==null&&(t[el]=null,t[lu]=null,t[Zf]=null,e(du(r,!1)))}}function uge(t){A.default.nextTick(cge,t)}function fge(t,e){return function(r,n){t.then(function(){if(e[lb]){r(du(void 0,!0));return}e[$4](r,n)},n)}}var lge=Object.getPrototypeOf(function(){}),dge=Object.setPrototypeOf((fb={get stream(){return this[tl]},next:function(){var e=this,r=this[_g];if(r!==null)return Promise.reject(r);if(this[lb])return Promise.resolve(du(void 0,!0));if(this[tl].destroyed)return new Promise(function(a,o){A.default.nextTick(function(){e[_g]?o(e[_g]):a(du(void 0,!0))})});var n=this[el],i;if(n)i=new Promise(fge(n,this));else{var s=this[tl].read();if(s!==null)return Promise.resolve(du(s,!1));i=new Promise(this[$4])}return this[el]=i,i}},fu(fb,Symbol.asyncIterator,function(){return this}),fu(fb,"return",function(){var e=this;return new Promise(function(r,n){e[tl].destroy(null,function(i){if(i){n(i);return}r(du(void 0,!0))})})}),fb),lge),hge=function(e){var r,n=Object.create(dge,(r={},fu(r,tl,{value:e,writable:!0}),fu(r,lu,{value:null,writable:!0}),fu(r,Zf,{value:null,writable:!0}),fu(r,_g,{value:null,writable:!0}),fu(r,lb,{value:e._readableState.endEmitted,writable:!0}),fu(r,$4,{value:function(s,a){var o=n[tl].read();o?(n[el]=null,n[lu]=null,n[Zf]=null,s(du(o,!1))):(n[lu]=s,n[Zf]=a)},writable:!0}),r));return n[el]=null,oge(e,function(i){if(i&&i.code!=="ERR_STREAM_PREMATURE_CLOSE"){var s=n[Zf];s!==null&&(n[el]=null,n[lu]=null,n[Zf]=null,s(i)),n[_g]=i;return}var a=n[lu];a!==null&&(n[el]=null,n[lu]=null,n[Zf]=null,a(du(void 0,!0))),n[lb]=!0}),e.on("readable",uge.bind(null,n)),n};yF.exports=hge});var bF=R((_ze,vF)=>{l();vF.exports=function(){throw new Error("Readable.from is not available in the browser")}});var ob=R((Sze,NF)=>{"use strict";l();NF.exports=xr;var $d;xr.ReadableState=AF;var Aze=Us().EventEmitter,EF=function(e,r){return e.listeners(r).length},Ag=o4(),db=Qi().Buffer,pge=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function gge(t){return db.from(t)}function yge(t){return db.isBuffer(t)||t instanceof pge}var Y4=yg(),tr;Y4&&Y4.debuglog?tr=Y4.debuglog("stream"):tr=function(){};var mge=Wq(),n5=F4(),vge=U4(),bge=vge.getHighWaterMark,hb=Jf().codes,wge=hb.ERR_INVALID_ARG_TYPE,_ge=hb.ERR_STREAM_PUSH_AFTER_EOF,Ege=hb.ERR_METHOD_NOT_IMPLEMENTED,Age=hb.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,Yd,J4,X4;Rt()(xr,Ag);var Eg=n5.errorOrDestroy,Z4=["error","close","destroy","pause","resume"];function Sge(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function AF(t,e,r){$d=$d||uu(),t=t||{},typeof r!="boolean"&&(r=e instanceof $d),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=bge(this,t,"readableHighWaterMark",r),this.buffer=new mge,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(Yd||(Yd=ub().StringDecoder),this.decoder=new Yd(t.encoding),this.encoding=t.encoding)}function xr(t){if($d=$d||uu(),!(this instanceof xr))return new xr(t);var e=this instanceof $d;this._readableState=new AF(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),Ag.call(this)}Object.defineProperty(xr.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}});xr.prototype.destroy=n5.destroy;xr.prototype._undestroy=n5.undestroy;xr.prototype._destroy=function(t,e){e(t)};xr.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=db.from(t,e),e=""),n=!0),SF(this,t,e,!1,n)};xr.prototype.unshift=function(t){return SF(this,t,null,!0,!1)};function SF(t,e,r,n,i){tr("readableAddChunk",e);var s=t._readableState;if(e===null)s.reading=!1,Ige(t,s);else{var a;if(i||(a=xge(s,e)),a)Eg(t,a);else if(s.objectMode||e&&e.length>0)if(typeof e!="string"&&!s.objectMode&&Object.getPrototypeOf(e)!==db.prototype&&(e=gge(e)),n)s.endEmitted?Eg(t,new Age):e5(t,s,e,!0);else if(s.ended)Eg(t,new _ge);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(e=s.decoder.write(e),s.objectMode||e.length!==0?e5(t,s,e,!1):r5(t,s)):e5(t,s,e,!1)}else n||(s.reading=!1,r5(t,s))}return!s.ended&&(s.length<s.highWaterMark||s.length===0)}function e5(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&pb(t)),r5(t,e)}function xge(t,e){var r;return!yge(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new wge("chunk",["string","Buffer","Uint8Array"],e)),r}xr.prototype.isPaused=function(){return this._readableState.flowing===!1};xr.prototype.setEncoding=function(t){Yd||(Yd=ub().StringDecoder);var e=new Yd(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";r!==null;)n+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),n!==""&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var wF=1073741824;function Tge(t){return t>=wF?t=wF:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function _F(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=Tge(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}xr.prototype.read=function(t){tr("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return tr("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?t5(this):pb(this),null;if(t=_F(t,e),t===0&&e.ended)return e.length===0&&t5(this),null;var n=e.needReadable;tr("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,tr("length less than watermark",n)),e.ended||e.reading?(n=!1,tr("reading or ended",n)):n&&(tr("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=_F(r,e)));var i;return t>0?i=IF(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&t5(this)),i!==null&&this.emit("data",i),i};function Ige(t,e){if(tr("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?pb(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,xF(t)))}}function pb(t){var e=t._readableState;tr("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(tr("emitReadable",e.flowing),e.emittedReadable=!0,A.default.nextTick(xF,t))}function xF(t){var e=t._readableState;tr("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,i5(t)}function r5(t,e){e.readingMore||(e.readingMore=!0,A.default.nextTick(Cge,t,e))}function Cge(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(tr("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}xr.prototype._read=function(t){Eg(this,new Ege("_read()"))};xr.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,tr("pipe count=%d opts=%j",n.pipesCount,e);var i=(!e||e.end!==!1)&&t!==A.default.stdout&&t!==A.default.stderr,s=i?o:P;n.endEmitted?A.default.nextTick(s):r.once("end",s),t.on("unpipe",a);function a(D,k){tr("onunpipe"),D===r&&k&&k.hasUnpiped===!1&&(k.hasUnpiped=!0,f())}function o(){tr("onend"),t.end()}var c=Nge(r);t.on("drain",c);var u=!1;function f(){tr("cleanup"),t.removeListener("close",_),t.removeListener("finish",x),t.removeListener("drain",c),t.removeListener("error",m),t.removeListener("unpipe",a),r.removeListener("end",o),r.removeListener("end",P),r.removeListener("data",d),u=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&c()}r.on("data",d);function d(D){tr("ondata");var k=t.write(D);tr("dest.write",k),k===!1&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&CF(n.pipes,t)!==-1)&&!u&&(tr("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function m(D){tr("onerror",D),P(),t.removeListener("error",m),EF(t,"error")===0&&Eg(t,D)}Sge(t,"error",m);function _(){t.removeListener("finish",x),P()}t.once("close",_);function x(){tr("onfinish"),t.removeListener("close",_),P()}t.once("finish",x);function P(){tr("unpipe"),r.unpipe(t)}return t.emit("pipe",r),n.flowing||(tr("pipe resume"),r.resume()),t};function Nge(t){return function(){var r=t._readableState;tr("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&EF(t,"data")&&(r.flowing=!0,i5(t))}}xr.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,{hasUnpiped:!1});return this}var a=CF(e.pipes,t);return a===-1?this:(e.pipes.splice(a,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};xr.prototype.on=function(t,e){var r=Ag.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,tr("on readable",n.length,n.reading),n.length?pb(this):n.reading||A.default.nextTick(Oge,this)),r};xr.prototype.addListener=xr.prototype.on;xr.prototype.removeListener=function(t,e){var r=Ag.prototype.removeListener.call(this,t,e);return t==="readable"&&A.default.nextTick(TF,this),r};xr.prototype.removeAllListeners=function(t){var e=Ag.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&A.default.nextTick(TF,this),e};function TF(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function Oge(t){tr("readable nexttick read 0"),t.read(0)}xr.prototype.resume=function(){var t=this._readableState;return t.flowing||(tr("resume"),t.flowing=!t.readableListening,Pge(this,t)),t.paused=!1,this};function Pge(t,e){e.resumeScheduled||(e.resumeScheduled=!0,A.default.nextTick(Rge,t,e))}function Rge(t,e){tr("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),i5(t),e.flowing&&!e.reading&&t.read(0)}xr.prototype.pause=function(){return tr("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(tr("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function i5(t){var e=t._readableState;for(tr("flow",e.flowing);e.flowing&&t.read()!==null;);}xr.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(tr("wrapped end"),r.decoder&&!r.ended){var a=r.decoder.end();a&&a.length&&e.push(a)}e.push(null)}),t.on("data",function(a){if(tr("wrapped data"),r.decoder&&(a=r.decoder.write(a)),!(r.objectMode&&a==null)&&!(!r.objectMode&&(!a||!a.length))){var o=e.push(a);o||(n=!0,t.pause())}});for(var i in t)this[i]===void 0&&typeof t[i]=="function"&&(this[i]=function(o){return function(){return t[o].apply(t,arguments)}}(i));for(var s=0;s<Z4.length;s++)t.on(Z4[s],this.emit.bind(this,Z4[s]));return this._read=function(a){tr("wrapped _read",a),n&&(n=!1,t.resume())},this};typeof Symbol=="function"&&(xr.prototype[Symbol.asyncIterator]=function(){return J4===void 0&&(J4=mF()),J4(this)});Object.defineProperty(xr.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(xr.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(xr.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}});xr._fromList=IF;Object.defineProperty(xr.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function IF(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function t5(t){var e=t._readableState;tr("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,A.default.nextTick(Dge,e,t))}function Dge(t,e){if(tr("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}typeof Symbol=="function"&&(xr.from=function(t,e){return X4===void 0&&(X4=bF()),X4(xr,t,e)});function CF(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}});var mb=R((Tze,PF)=>{"use strict";l();PF.exports=mc;var gb=Jf().codes,Mge=gb.ERR_METHOD_NOT_IMPLEMENTED,Bge=gb.ERR_MULTIPLE_CALLBACK,Lge=gb.ERR_TRANSFORM_ALREADY_TRANSFORMING,qge=gb.ERR_TRANSFORM_WITH_LENGTH_0,yb=uu();Rt()(mc,yb);function Fge(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new Bge);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function mc(t){if(!(this instanceof mc))return new mc(t);yb.call(this,t),this._transformState={afterTransform:Fge.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",Uge)}function Uge(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){OF(t,e,r)}):OF(this,null,null)}mc.prototype.push=function(t,e){return this._transformState.needTransform=!1,yb.prototype.push.call(this,t,e)};mc.prototype._transform=function(t,e,r){r(new Mge("_transform()"))};mc.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};mc.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};mc.prototype._destroy=function(t,e){yb.prototype._destroy.call(this,t,function(r){e(r)})};function OF(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new qge;if(t._transformState.transforming)throw new Lge;return t.push(null)}});var s5=R((Cze,DF)=>{"use strict";l();DF.exports=Sg;var RF=mb();Rt()(Sg,RF);function Sg(t){if(!(this instanceof Sg))return new Sg(t);RF.call(this,t)}Sg.prototype._transform=function(t,e,r){r(null,t)}});var o5=R((Oze,qF)=>{"use strict";l();var a5;function kge(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var LF=Jf().codes,Vge=LF.ERR_MISSING_ARGS,Hge=LF.ERR_STREAM_DESTROYED;function MF(t){if(t)throw t}function Gge(t){return t.setHeader&&typeof t.abort=="function"}function jge(t,e,r,n){n=kge(n);var i=!1;t.on("close",function(){i=!0}),a5===void 0&&(a5=wg()),a5(t,{readable:e,writable:r},function(a){if(a)return n(a);i=!0,n()});var s=!1;return function(a){if(!i&&!s){if(s=!0,Gge(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(a||new Hge("pipe"))}}}function BF(t){t()}function zge(t,e){return t.pipe(e)}function Kge(t){return!t.length||typeof t[t.length-1]!="function"?MF:t.pop()}function Wge(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=Kge(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new Vge("streams");var i,s=e.map(function(a,o){var c=o<e.length-1,u=o>0;return jge(a,c,u,function(f){i||(i=f),f&&s.forEach(BF),!c&&(s.forEach(BF),n(i))})});return e.reduce(zge)}qF.exports=Wge});var vb=R((Hs,FF)=>{l();Hs=FF.exports=ob();Hs.Stream=Hs;Hs.Readable=Hs;Hs.Writable=ib();Hs.Duplex=uu();Hs.Transform=mb();Hs.PassThrough=s5();Hs.finished=wg();Hs.pipeline=o5()});var VF=R((Dze,kF)=>{l();var{Transform:Qge}=vb();kF.exports=t=>class UF extends Qge{constructor(r,n,i,s,a){super(a),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._hashBitLength=s,this._options=a,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let s=null;try{this.update(r,n)}catch(a){s=a}i(s)}_flush(r){let n=null;try{this.push(this.digest())}catch(i){n=i}r(n)}update(r,n){if(!y.Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return y.Buffer.isBuffer(r)||(r=y.Buffer.from(r,n)),this._state.absorb(r),this}digest(r){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let n=this._state.squeeze(this._hashBitLength/8);return r!==void 0&&(n=n.toString(r)),this._resetState(),n}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){let r=new UF(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}}});var jF=R((Bze,GF)=>{l();var{Transform:$ge}=vb();GF.exports=t=>class HF extends $ge{constructor(r,n,i,s){super(s),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._options=s,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let s=null;try{this.update(r,n)}catch(a){s=a}i(s)}_flush(){}_read(r){this.push(this.squeeze(r))}update(r,n){if(!y.Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return y.Buffer.isBuffer(r)||(r=y.Buffer.from(r,n)),this._state.absorb(r),this}squeeze(r,n){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let i=this._state.squeeze(r);return n!==void 0&&(i=i.toString(n)),i}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){let r=new HF(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}}});var KF=R((qze,zF)=>{l();var Yge=VF(),Jge=jF();zF.exports=function(t){let e=Yge(t),r=Jge(t);return function(n,i){switch(typeof n=="string"?n.toLowerCase():n){case"keccak224":return new e(1152,448,null,224,i);case"keccak256":return new e(1088,512,null,256,i);case"keccak384":return new e(832,768,null,384,i);case"keccak512":return new e(576,1024,null,512,i);case"sha3-224":return new e(1152,448,6,224,i);case"sha3-256":return new e(1088,512,6,256,i);case"sha3-384":return new e(832,768,6,384,i);case"sha3-512":return new e(576,1024,6,512,i);case"shake128":return new r(1344,256,31,i);case"shake256":return new r(1088,512,31,i);default:throw new Error("Invald algorithm: "+n)}}}});var $F=R(QF=>{l();var WF=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];QF.p1600=function(t){for(let e=0;e<24;++e){let r=t[0]^t[10]^t[20]^t[30]^t[40],n=t[1]^t[11]^t[21]^t[31]^t[41],i=t[2]^t[12]^t[22]^t[32]^t[42],s=t[3]^t[13]^t[23]^t[33]^t[43],a=t[4]^t[14]^t[24]^t[34]^t[44],o=t[5]^t[15]^t[25]^t[35]^t[45],c=t[6]^t[16]^t[26]^t[36]^t[46],u=t[7]^t[17]^t[27]^t[37]^t[47],f=t[8]^t[18]^t[28]^t[38]^t[48],d=t[9]^t[19]^t[29]^t[39]^t[49],m=f^(i<<1|s>>>31),_=d^(s<<1|i>>>31),x=t[0]^m,P=t[1]^_,D=t[10]^m,k=t[11]^_,Y=t[20]^m,X=t[21]^_,Z=t[30]^m,U=t[31]^_,Q=t[40]^m,j=t[41]^_;m=r^(a<<1|o>>>31),_=n^(o<<1|a>>>31);let K=t[2]^m,$=t[3]^_,L=t[12]^m,v=t[13]^_,E=t[22]^m,p=t[23]^_,g=t[32]^m,b=t[33]^_,I=t[42]^m,O=t[43]^_;m=i^(c<<1|u>>>31),_=s^(u<<1|c>>>31);let N=t[4]^m,w=t[5]^_,C=t[14]^m,T=t[15]^_,F=t[24]^m,ee=t[25]^_,fe=t[34]^m,B=t[35]^_,ne=t[44]^m,oe=t[45]^_;m=a^(f<<1|d>>>31),_=o^(d<<1|f>>>31);let de=t[6]^m,q=t[7]^_,G=t[16]^m,W=t[17]^_,te=t[26]^m,re=t[27]^_,J=t[36]^m,ae=t[37]^_,ce=t[46]^m,ue=t[47]^_;m=c^(r<<1|n>>>31),_=u^(n<<1|r>>>31);let ye=t[8]^m,ge=t[9]^_,ve=t[18]^m,Pe=t[19]^_,Be=t[28]^m,Le=t[29]^_,lt=t[38]^m,vt=t[39]^_,qe=t[48]^m,Ze=t[49]^_,At=x,et=P,Ut=k<<4|D>>>28,jt=D<<4|k>>>28,Xe=Y<<3|X>>>29,Pt=X<<3|Y>>>29,St=U<<9|Z>>>23,We=Z<<9|U>>>23,st=Q<<18|j>>>14,Qt=j<<18|Q>>>14,bt=K<<1|$>>>31,Zt=$<<1|K>>>31,ir=v<<12|L>>>20,xt=L<<12|v>>>20,ur=E<<10|p>>>22,Mt=p<<10|E>>>22,dt=b<<13|g>>>19,$t=g<<13|b>>>19,er=I<<2|O>>>30,_t=O<<2|I>>>30,sr=w<<30|N>>>2,fr=N<<30|w>>>2,tt=C<<6|T>>>26,ar=T<<6|C>>>26,M=ee<<11|F>>>21,V=F<<11|ee>>>21,H=fe<<15|B>>>17,S=B<<15|fe>>>17,z=oe<<29|ne>>>3,le=ne<<29|oe>>>3,he=de<<28|q>>>4,me=q<<28|de>>>4,Ae=W<<23|G>>>9,Re=G<<23|W>>>9,Ne=te<<25|re>>>7,Nt=re<<25|te>>>7,ke=J<<21|ae>>>11,rt=ae<<21|J>>>11,it=ue<<24|ce>>>8,ft=ce<<24|ue>>>8,ot=ye<<27|ge>>>5,ht=ge<<27|ye>>>5,mt=ve<<20|Pe>>>12,pt=Pe<<20|ve>>>12,Ge=Le<<7|Be>>>25,$e=Be<<7|Le>>>25,Ve=lt<<8|vt>>>24,ze=vt<<8|lt>>>24,Ke=qe<<14|Ze>>>18,Ue=Ze<<14|qe>>>18;t[0]=At^~ir&M,t[1]=et^~xt&V,t[10]=he^~mt&Xe,t[11]=me^~pt&Pt,t[20]=bt^~tt&Ne,t[21]=Zt^~ar&Nt,t[30]=ot^~Ut&ur,t[31]=ht^~jt&Mt,t[40]=sr^~Ae&Ge,t[41]=fr^~Re&$e,t[2]=ir^~M&ke,t[3]=xt^~V&rt,t[12]=mt^~Xe&dt,t[13]=pt^~Pt&$t,t[22]=tt^~Ne&Ve,t[23]=ar^~Nt&ze,t[32]=Ut^~ur&H,t[33]=jt^~Mt&S,t[42]=Ae^~Ge&St,t[43]=Re^~$e&We,t[4]=M^~ke&Ke,t[5]=V^~rt&Ue,t[14]=Xe^~dt&z,t[15]=Pt^~$t&le,t[24]=Ne^~Ve&st,t[25]=Nt^~ze&Qt,t[34]=ur^~H&it,t[35]=Mt^~S&ft,t[44]=Ge^~St&er,t[45]=$e^~We&_t,t[6]=ke^~Ke&At,t[7]=rt^~Ue&et,t[16]=dt^~z&he,t[17]=$t^~le&me,t[26]=Ve^~st&bt,t[27]=ze^~Qt&Zt,t[36]=H^~it&ot,t[37]=S^~ft&ht,t[46]=St^~er&sr,t[47]=We^~_t&fr,t[8]=Ke^~At&ir,t[9]=Ue^~et&xt,t[18]=z^~he&mt,t[19]=le^~me&pt,t[28]=st^~bt&tt,t[29]=Qt^~Zt&ar,t[38]=it^~ot&Ut,t[39]=ft^~ht&jt,t[48]=er^~sr&Ae,t[49]=_t^~fr&Re,t[0]^=WF[e*2],t[1]^=WF[e*2+1]}}});var JF=R((Vze,YF)=>{l();var bb=$F();function Jd(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}Jd.prototype.initialize=function(t,e){for(let r=0;r<50;++r)this.state[r]=0;this.blockSize=t/8,this.count=0,this.squeezing=!1};Jd.prototype.absorb=function(t){for(let e=0;e<t.length;++e)this.state[~~(this.count/4)]^=t[e]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(bb.p1600(this.state),this.count=0)};Jd.prototype.absorbLastFewBits=function(t){this.state[~~(this.count/4)]^=t<<8*(this.count%4),t&128&&this.count===this.blockSize-1&&bb.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),bb.p1600(this.state),this.count=0,this.squeezing=!0};Jd.prototype.squeeze=function(t){this.squeezing||this.absorbLastFewBits(1);let e=y.Buffer.alloc(t);for(let r=0;r<t;++r)e[r]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(bb.p1600(this.state),this.count=0);return e};Jd.prototype.copy=function(t){for(let e=0;e<50;++e)t.state[e]=this.state[e];t.blockSize=this.blockSize,t.count=this.count,t.squeezing=this.squeezing};YF.exports=Jd});var xg=R((Gze,XF)=>{l();XF.exports=KF()(JF())});var qt=R($i=>{"use strict";l();var Xge=$i&&$i.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Zge=$i&&$i.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),ZF=$i&&$i.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Xge(e,t,r);return Zge(e,t),e},e1e=$i&&$i.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty($i,"__esModule",{value:!0});$i.AddressComputer=$i.Address=void 0;var Xd=ZF(qB()),t1e=e1e(Pr()),Zd=wv(),c5=Dn(),rl=ZF(It()),r1e=Ev(),n1e=xg(),u5=32,i1e="0".repeat(16),wb=class t{constructor(e,r){if(!e){this.publicKey=y.Buffer.from([]),this.hrp=r||Zd.LibraryConfig.DefaultAddressHrp;return}if(ArrayBuffer.isView(e)){if(e.length!=u5)throw new rl.ErrAddressCannotCreate(e);this.publicKey=y.Buffer.from(e),this.hrp=r||Zd.LibraryConfig.DefaultAddressHrp;return}if(e instanceof t){if(r)throw new rl.ErrInvalidArgument("this variant of the Address constructor does not accept the 'hrp' argument");this.publicKey=e.publicKey,this.hrp=e.hrp;return}if(typeof e=="string"){if(t.isValidHex(e)){this.publicKey=y.Buffer.from(e,"hex"),this.hrp=r||Zd.LibraryConfig.DefaultAddressHrp;return}if(r)throw new rl.ErrInvalidArgument("this variant of the Address constructor does not accept the 'hrp' argument");let{hrp:n,pubkey:i}=f5({value:e,allowCustomHrp:!1});this.publicKey=i,this.hrp=n;return}throw new rl.ErrAddressCannotCreate(e)}static newFromBech32(e){let{hrp:r,pubkey:n}=f5({value:e,allowCustomHrp:!0});return new t(n,r)}static fromBech32(e){let{hrp:r,pubkey:n}=f5({value:e,allowCustomHrp:!1});return new t(n,r)}static newFromHex(e,r){if(!t.isValidHex(e))throw new rl.ErrAddressCannotCreate(e);return new t(y.Buffer.from(e,"hex"),r)}static fromHex(e,r){return t.newFromHex(e,r)}static fromAddress(e){return new t(e)}static fromBuffer(e,r){return new t(e,r)}static fromString(e,r){return new t(e,r)}static isValidHex(e){return y.Buffer.from(e,"hex").length==u5}static empty(){return new t("")}static isValid(e){let r=Xd.decodeUnsafe(e),n=r?.prefix,i=r?y.Buffer.from(Xd.fromWords(r.words)):void 0;return!(n!==Zd.LibraryConfig.DefaultAddressHrp||i?.length!==u5)}hex(){return this.toHex()}toHex(){return this.isEmpty()?"":this.publicKey.toString("hex")}bech32(){return this.toBech32()}toBech32(){if(this.isEmpty())return"";let e=Xd.toWords(this.pubkey());return Xd.encode(this.hrp,e)}pubkey(){return this.getPublicKey()}getPublicKey(){return this.publicKey}getHrp(){return this.hrp}isEmpty(){return this.publicKey.length==0}equals(e){return e?this.publicKey.toString()==e.publicKey.toString():!1}toString(){return this.toBech32()}toJSON(){return{bech32:this.toBech32(),pubkey:this.toHex()}}static Zero(){return new t("0".repeat(64))}isContractAddress(){return this.isSmartContract()}isSmartContract(){return this.toHex().startsWith(i1e)}};$i.Address=wb;var l5=class{constructor(e){this.numberOfShardsWithoutMeta=e||c5.CURRENT_NUMBER_OF_SHARDS_WITHOUT_META}computeContractAddress(e,r){let n=y.Buffer.alloc(8,0),i=e.getPublicKey(),s=i.slice(30),a=y.Buffer.alloc(8),o=new t1e.default(r.toString()),c=r1e.bigIntToBuffer(o);a.write(c.reverse().toString("hex"),"hex");let u=y.Buffer.concat([i,a]),f=n1e("keccak256").update(u).digest(),d=y.Buffer.from(c5.WasmVirtualMachine,"hex"),m=y.Buffer.concat([n,d,f.slice(10,30),s]);return new wb(m)}getShardOfAddress(e){return this.getShardOfPubkey(e.getPublicKey(),this.numberOfShardsWithoutMeta)}getShardOfPubkey(e,r){let n=parseInt("11",2),i=parseInt("01",2),s=e[31];if(this.isPubkeyOfMetachain(e))return c5.METACHAIN_ID;let a=s&n;return a>r-1&&(a=s&i),a}isPubkeyOfMetachain(e){let r=y.Buffer.from([0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),n=y.Buffer.from(e).slice(0,r.length);return!!(r.equals(n)||y.Buffer.alloc(32).equals(y.Buffer.from(e)))}};$i.AddressComputer=l5;function f5(t){let e=t.value,r=t.allowCustomHrp,n,i;try{let s=Xd.decode(e);n=s.prefix,i=y.Buffer.from(Xd.fromWords(s.words))}catch(s){throw new rl.ErrAddressCannotCreate(e,s)}if(!r&&n!=Zd.LibraryConfig.DefaultAddressHrp)throw new rl.ErrAddressBadHrp(Zd.LibraryConfig.DefaultAddressHrp,n);return{hrp:n,pubkey:i}}});var Pb=R((Wze,FU)=>{"use strict";l();function pU(t,e){return function(){return t.apply(e,arguments)}}var{toString:s1e}=Object.prototype,{getPrototypeOf:x5}=Object,Tb=(t=>e=>{let r=s1e.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Oa=t=>(t=t.toLowerCase(),e=>Tb(e)===t),Ib=t=>e=>typeof e===t,{isArray:rh}=Array,Ig=Ib("undefined");function a1e(t){return t!==null&&!Ig(t)&&t.constructor!==null&&!Ig(t.constructor)&&Es(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}var gU=Oa("ArrayBuffer");function o1e(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&gU(t.buffer),e}var c1e=Ib("string"),Es=Ib("function"),yU=Ib("number"),Cb=t=>t!==null&&typeof t=="object",u1e=t=>t===!0||t===!1,_b=t=>{if(Tb(t)!=="object")return!1;let e=x5(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},f1e=Oa("Date"),l1e=Oa("File"),d1e=Oa("Blob"),h1e=Oa("FileList"),p1e=t=>Cb(t)&&Es(t.pipe),g1e=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Es(t.append)&&((e=Tb(t))==="formdata"||e==="object"&&Es(t.toString)&&t.toString()==="[object FormData]"))},y1e=Oa("URLSearchParams"),[m1e,v1e,b1e,w1e]=["ReadableStream","Request","Response","Headers"].map(Oa),_1e=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Cg(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),rh(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{let s=r?Object.getOwnPropertyNames(t):Object.keys(t),a=s.length,o;for(n=0;n<a;n++)o=s[n],e.call(null,t[o],o,t)}}function mU(t,e){e=e.toLowerCase();let r=Object.keys(t),n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}var nl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,vU=t=>!Ig(t)&&t!==nl;function y5(){let{caseless:t}=vU(this)&&this||{},e={},r=(n,i)=>{let s=t&&mU(e,i)||i;_b(e[s])&&_b(n)?e[s]=y5(e[s],n):_b(n)?e[s]=y5({},n):rh(n)?e[s]=n.slice():e[s]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&Cg(arguments[n],r);return e}var E1e=(t,e,r,{allOwnKeys:n}={})=>(Cg(e,(i,s)=>{r&&Es(i)?t[s]=pU(i,r):t[s]=i},{allOwnKeys:n}),t),A1e=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),S1e=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},x1e=(t,e,r,n)=>{let i,s,a,o={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)a=i[s],(!n||n(a,t,e))&&!o[a]&&(e[a]=t[a],o[a]=!0);t=r!==!1&&x5(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},T1e=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;let n=t.indexOf(e,r);return n!==-1&&n===r},I1e=t=>{if(!t)return null;if(rh(t))return t;let e=t.length;if(!yU(e))return null;let r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},C1e=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&x5(Uint8Array)),N1e=(t,e)=>{let n=(t&&t[Symbol.iterator]).call(t),i;for(;(i=n.next())&&!i.done;){let s=i.value;e.call(t,s[0],s[1])}},O1e=(t,e)=>{let r,n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},P1e=Oa("HTMLFormElement"),R1e=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),eU=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),D1e=Oa("RegExp"),bU=(t,e)=>{let r=Object.getOwnPropertyDescriptors(t),n={};Cg(r,(i,s)=>{let a;(a=e(i,s,t))!==!1&&(n[s]=a||i)}),Object.defineProperties(t,n)},M1e=t=>{bU(t,(e,r)=>{if(Es(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;let n=t[r];if(Es(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},B1e=(t,e)=>{let r={},n=i=>{i.forEach(s=>{r[s]=!0})};return rh(t)?n(t):n(String(t).split(e)),r},L1e=()=>{},q1e=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,d5="abcdefghijklmnopqrstuvwxyz",tU="0123456789",wU={DIGIT:tU,ALPHA:d5,ALPHA_DIGIT:d5+d5.toUpperCase()+tU},F1e=(t=16,e=wU.ALPHA_DIGIT)=>{let r="",{length:n}=e;for(;t--;)r+=e[Math.random()*n|0];return r};function U1e(t){return!!(t&&Es(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}var k1e=t=>{let e=new Array(10),r=(n,i)=>{if(Cb(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[i]=n;let s=rh(n)?[]:{};return Cg(n,(a,o)=>{let c=r(a,i+1);!Ig(c)&&(s[o]=c)}),e[i]=void 0,s}}return n};return r(t,0)},V1e=Oa("AsyncFunction"),H1e=t=>t&&(Cb(t)||Es(t))&&Es(t.then)&&Es(t.catch),_U=((t,e)=>t?setImmediate:e?((r,n)=>(nl.addEventListener("message",({source:i,data:s})=>{i===nl&&s===r&&n.length&&n.shift()()},!1),i=>{n.push(i),nl.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Es(nl.postMessage)),G1e=typeof queueMicrotask<"u"?queueMicrotask.bind(nl):typeof A.default<"u"&&A.default.nextTick||_U,Ee={isArray:rh,isArrayBuffer:gU,isBuffer:a1e,isFormData:g1e,isArrayBufferView:o1e,isString:c1e,isNumber:yU,isBoolean:u1e,isObject:Cb,isPlainObject:_b,isReadableStream:m1e,isRequest:v1e,isResponse:b1e,isHeaders:w1e,isUndefined:Ig,isDate:f1e,isFile:l1e,isBlob:d1e,isRegExp:D1e,isFunction:Es,isStream:p1e,isURLSearchParams:y1e,isTypedArray:C1e,isFileList:h1e,forEach:Cg,merge:y5,extend:E1e,trim:_1e,stripBOM:A1e,inherits:S1e,toFlatObject:x1e,kindOf:Tb,kindOfTest:Oa,endsWith:T1e,toArray:I1e,forEachEntry:N1e,matchAll:O1e,isHTMLForm:P1e,hasOwnProperty:eU,hasOwnProp:eU,reduceDescriptors:bU,freezeMethods:M1e,toObjectSet:B1e,toCamelCase:R1e,noop:L1e,toFiniteNumber:q1e,findKey:mU,global:nl,isContextDefined:vU,ALPHABET:wU,generateString:F1e,isSpecCompliantForm:U1e,toJSONObject:k1e,isAsyncFn:V1e,isThenable:H1e,setImmediate:_U,asap:G1e};function Kt(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}Ee.inherits(Kt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ee.toJSONObject(this.config),code:this.code,status:this.status}}});var EU=Kt.prototype,AU={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{AU[t]={value:t}});Object.defineProperties(Kt,AU);Object.defineProperty(EU,"isAxiosError",{value:!0});Kt.from=(t,e,r,n,i,s)=>{let a=Object.create(EU);return Ee.toFlatObject(t,a,function(c){return c!==Error.prototype},o=>o!=="isAxiosError"),Kt.call(a,t.message,e,r,n,i),a.cause=t,a.name=t.name,s&&Object.assign(a,s),a};var j1e=null;function m5(t){return Ee.isPlainObject(t)||Ee.isArray(t)}function SU(t){return Ee.endsWith(t,"[]")?t.slice(0,-2):t}function rU(t,e,r){return t?t.concat(e).map(function(i,s){return i=SU(i),!r&&s?"["+i+"]":i}).join(r?".":""):e}function z1e(t){return Ee.isArray(t)&&!t.some(m5)}var K1e=Ee.toFlatObject(Ee,{},null,function(e){return/^is[A-Z]/.test(e)});function Nb(t,e,r){if(!Ee.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=Ee.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(P,D){return!Ee.isUndefined(D[P])});let n=r.metaTokens,i=r.visitor||f,s=r.dots,a=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&Ee.isSpecCompliantForm(e);if(!Ee.isFunction(i))throw new TypeError("visitor must be a function");function u(x){if(x===null)return"";if(Ee.isDate(x))return x.toISOString();if(!c&&Ee.isBlob(x))throw new Kt("Blob is not supported. Use a Buffer instead.");return Ee.isArrayBuffer(x)||Ee.isTypedArray(x)?c&&typeof Blob=="function"?new Blob([x]):y.Buffer.from(x):x}function f(x,P,D){let k=x;if(x&&!D&&typeof x=="object"){if(Ee.endsWith(P,"{}"))P=n?P:P.slice(0,-2),x=JSON.stringify(x);else if(Ee.isArray(x)&&z1e(x)||(Ee.isFileList(x)||Ee.endsWith(P,"[]"))&&(k=Ee.toArray(x)))return P=SU(P),k.forEach(function(X,Z){!(Ee.isUndefined(X)||X===null)&&e.append(a===!0?rU([P],Z,s):a===null?P:P+"[]",u(X))}),!1}return m5(x)?!0:(e.append(rU(D,P,s),u(x)),!1)}let d=[],m=Object.assign(K1e,{defaultVisitor:f,convertValue:u,isVisitable:m5});function _(x,P){if(!Ee.isUndefined(x)){if(d.indexOf(x)!==-1)throw Error("Circular reference detected in "+P.join("."));d.push(x),Ee.forEach(x,function(k,Y){(!(Ee.isUndefined(k)||k===null)&&i.call(e,k,Ee.isString(Y)?Y.trim():Y,P,m))===!0&&_(k,P?P.concat(Y):[Y])}),d.pop()}}if(!Ee.isObject(t))throw new TypeError("data must be an object");return _(t),e}function nU(t){let e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function T5(t,e){this._pairs=[],t&&Nb(t,this,e)}var xU=T5.prototype;xU.append=function(e,r){this._pairs.push([e,r])};xU.toString=function(e){let r=e?function(n){return e.call(this,n,nU)}:nU;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function W1e(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function TU(t,e,r){if(!e)return t;let n=r&&r.encode||W1e,i=r&&r.serialize,s;if(i?s=i(e,r):s=Ee.isURLSearchParams(e)?e.toString():new T5(e,r).toString(n),s){let a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}var v5=class{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Ee.forEach(this.handlers,function(n){n!==null&&e(n)})}},iU=v5,IU={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Q1e=typeof URLSearchParams<"u"?URLSearchParams:T5,$1e=typeof FormData<"u"?FormData:null,Y1e=typeof Blob<"u"?Blob:null,J1e={isBrowser:!0,classes:{URLSearchParams:Q1e,FormData:$1e,Blob:Y1e},protocols:["http","https","file","blob","url","data"]},I5=typeof window<"u"&&typeof document<"u",b5=typeof navigator=="object"&&navigator||void 0,X1e=I5&&(!b5||["ReactNative","NativeScript","NS"].indexOf(b5.product)<0),Z1e=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",eye=I5&&window.location.href||"http://localhost",tye=Object.freeze({__proto__:null,hasBrowserEnv:I5,hasStandardBrowserWebWorkerEnv:Z1e,hasStandardBrowserEnv:X1e,navigator:b5,origin:eye}),Yi={...tye,...J1e};function rye(t,e){return Nb(t,new Yi.classes.URLSearchParams,Object.assign({visitor:function(r,n,i,s){return Yi.isNode&&Ee.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function nye(t){return Ee.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function iye(t){let e={},r=Object.keys(t),n,i=r.length,s;for(n=0;n<i;n++)s=r[n],e[s]=t[s];return e}function CU(t){function e(r,n,i,s){let a=r[s++];if(a==="__proto__")return!0;let o=Number.isFinite(+a),c=s>=r.length;return a=!a&&Ee.isArray(i)?i.length:a,c?(Ee.hasOwnProp(i,a)?i[a]=[i[a],n]:i[a]=n,!o):((!i[a]||!Ee.isObject(i[a]))&&(i[a]=[]),e(r,n,i[a],s)&&Ee.isArray(i[a])&&(i[a]=iye(i[a])),!o)}if(Ee.isFormData(t)&&Ee.isFunction(t.entries)){let r={};return Ee.forEachEntry(t,(n,i)=>{e(nye(n),i,r,0)}),r}return null}function sye(t,e,r){if(Ee.isString(t))try{return(e||JSON.parse)(t),Ee.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}var C5={transitional:IU,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){let n=r.getContentType()||"",i=n.indexOf("application/json")>-1,s=Ee.isObject(e);if(s&&Ee.isHTMLForm(e)&&(e=new FormData(e)),Ee.isFormData(e))return i?JSON.stringify(CU(e)):e;if(Ee.isArrayBuffer(e)||Ee.isBuffer(e)||Ee.isStream(e)||Ee.isFile(e)||Ee.isBlob(e)||Ee.isReadableStream(e))return e;if(Ee.isArrayBufferView(e))return e.buffer;if(Ee.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return rye(e,this.formSerializer).toString();if((o=Ee.isFileList(e))||n.indexOf("multipart/form-data")>-1){let c=this.env&&this.env.FormData;return Nb(o?{"files[]":e}:e,c&&new c,this.formSerializer)}}return s||i?(r.setContentType("application/json",!1),sye(e)):e}],transformResponse:[function(e){let r=this.transitional||C5.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(Ee.isResponse(e)||Ee.isReadableStream(e))return e;if(e&&Ee.isString(e)&&(n&&!this.responseType||i)){let a=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(o){if(a)throw o.name==="SyntaxError"?Kt.from(o,Kt.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Yi.classes.FormData,Blob:Yi.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ee.forEach(["delete","get","head","post","put","patch"],t=>{C5.headers[t]={}});var N5=C5,aye=Ee.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),oye=t=>{let e={},r,n,i;return t&&t.split(`
`).forEach(function(a){i=a.indexOf(":"),r=a.substring(0,i).trim().toLowerCase(),n=a.substring(i+1).trim(),!(!r||e[r]&&aye[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},sU=Symbol("internals");function Tg(t){return t&&String(t).trim().toLowerCase()}function Eb(t){return t===!1||t==null?t:Ee.isArray(t)?t.map(Eb):String(t)}function cye(t){let e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g,n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}var uye=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function h5(t,e,r,n,i){if(Ee.isFunction(n))return n.call(this,e,r);if(i&&(e=r),!!Ee.isString(e)){if(Ee.isString(n))return e.indexOf(n)!==-1;if(Ee.isRegExp(n))return n.test(e)}}function fye(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function lye(t,e){let r=Ee.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(i,s,a){return this[n].call(this,e,i,s,a)},configurable:!0})})}var eh=class{constructor(e){e&&this.set(e)}set(e,r,n){let i=this;function s(o,c,u){let f=Tg(c);if(!f)throw new Error("header name must be a non-empty string");let d=Ee.findKey(i,f);(!d||i[d]===void 0||u===!0||u===void 0&&i[d]!==!1)&&(i[d||c]=Eb(o))}let a=(o,c)=>Ee.forEach(o,(u,f)=>s(u,f,c));if(Ee.isPlainObject(e)||e instanceof this.constructor)a(e,r);else if(Ee.isString(e)&&(e=e.trim())&&!uye(e))a(oye(e),r);else if(Ee.isHeaders(e))for(let[o,c]of e.entries())s(c,o,n);else e!=null&&s(r,e,n);return this}get(e,r){if(e=Tg(e),e){let n=Ee.findKey(this,e);if(n){let i=this[n];if(!r)return i;if(r===!0)return cye(i);if(Ee.isFunction(r))return r.call(this,i,n);if(Ee.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=Tg(e),e){let n=Ee.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||h5(this,this[n],n,r)))}return!1}delete(e,r){let n=this,i=!1;function s(a){if(a=Tg(a),a){let o=Ee.findKey(n,a);o&&(!r||h5(n,n[o],o,r))&&(delete n[o],i=!0)}}return Ee.isArray(e)?e.forEach(s):s(e),i}clear(e){let r=Object.keys(this),n=r.length,i=!1;for(;n--;){let s=r[n];(!e||h5(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){let r=this,n={};return Ee.forEach(this,(i,s)=>{let a=Ee.findKey(n,s);if(a){r[a]=Eb(i),delete r[s];return}let o=e?fye(s):String(s).trim();o!==s&&delete r[s],r[o]=Eb(i),n[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){let r=Object.create(null);return Ee.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=e&&Ee.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){let n=new this(e);return r.forEach(i=>n.set(i)),n}static accessor(e){let n=(this[sU]=this[sU]={accessors:{}}).accessors,i=this.prototype;function s(a){let o=Tg(a);n[o]||(lye(i,a),n[o]=!0)}return Ee.isArray(e)?e.forEach(s):s(e),this}};eh.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ee.reduceDescriptors(eh.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});Ee.freezeMethods(eh);var Na=eh;function p5(t,e){let r=this||N5,n=e||r,i=Na.from(n.headers),s=n.data;return Ee.forEach(t,function(o){s=o.call(r,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function NU(t){return!!(t&&t.__CANCEL__)}function nh(t,e,r){Kt.call(this,t??"canceled",Kt.ERR_CANCELED,e,r),this.name="CanceledError"}Ee.inherits(nh,Kt,{__CANCEL__:!0});function OU(t,e,r){let n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new Kt("Request failed with status code "+r.status,[Kt.ERR_BAD_REQUEST,Kt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function dye(t){let e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function hye(t,e){t=t||10;let r=new Array(t),n=new Array(t),i=0,s=0,a;return e=e!==void 0?e:1e3,function(c){let u=Date.now(),f=n[s];a||(a=u),r[i]=c,n[i]=u;let d=s,m=0;for(;d!==i;)m+=r[d++],d=d%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),u-a<e)return;let _=f&&u-f;return _?Math.round(m*1e3/_):void 0}}function pye(t,e){let r=0,n=1e3/e,i,s,a=(u,f=Date.now())=>{r=f,i=null,s&&(clearTimeout(s),s=null),t.apply(null,u)};return[(...u)=>{let f=Date.now(),d=f-r;d>=n?a(u,f):(i=u,s||(s=setTimeout(()=>{s=null,a(i)},n-d)))},()=>i&&a(i)]}var Sb=(t,e,r=3)=>{let n=0,i=hye(50,250);return pye(s=>{let a=s.loaded,o=s.lengthComputable?s.total:void 0,c=a-n,u=i(c),f=a<=o;n=a;let d={loaded:a,total:o,progress:o?a/o:void 0,bytes:c,rate:u||void 0,estimated:u&&o&&f?(o-a)/u:void 0,event:s,lengthComputable:o!=null,[e?"download":"upload"]:!0};t(d)},r)},aU=(t,e)=>{let r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},oU=t=>(...e)=>Ee.asap(()=>t(...e)),gye=Yi.hasStandardBrowserEnv?function(){let e=Yi.navigator&&/(msie|trident)/i.test(Yi.navigator.userAgent),r=document.createElement("a"),n;function i(s){let a=s;return e&&(r.setAttribute("href",a),a=r.href),r.setAttribute("href",a),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(a){let o=Ee.isString(a)?i(a):a;return o.protocol===n.protocol&&o.host===n.host}}():function(){return function(){return!0}}(),yye=Yi.hasStandardBrowserEnv?{write(t,e,r,n,i,s){let a=[t+"="+encodeURIComponent(e)];Ee.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),Ee.isString(n)&&a.push("path="+n),Ee.isString(i)&&a.push("domain="+i),s===!0&&a.push("secure"),document.cookie=a.join("; ")},read(t){let e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function mye(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function vye(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function PU(t,e){return t&&!mye(e)?vye(t,e):e}var cU=t=>t instanceof Na?{...t}:t;function il(t,e){e=e||{};let r={};function n(u,f,d){return Ee.isPlainObject(u)&&Ee.isPlainObject(f)?Ee.merge.call({caseless:d},u,f):Ee.isPlainObject(f)?Ee.merge({},f):Ee.isArray(f)?f.slice():f}function i(u,f,d){if(Ee.isUndefined(f)){if(!Ee.isUndefined(u))return n(void 0,u,d)}else return n(u,f,d)}function s(u,f){if(!Ee.isUndefined(f))return n(void 0,f)}function a(u,f){if(Ee.isUndefined(f)){if(!Ee.isUndefined(u))return n(void 0,u)}else return n(void 0,f)}function o(u,f,d){if(d in e)return n(u,f);if(d in t)return n(void 0,u)}let c={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(u,f)=>i(cU(u),cU(f),!0)};return Ee.forEach(Object.keys(Object.assign({},t,e)),function(f){let d=c[f]||i,m=d(t[f],e[f],f);Ee.isUndefined(m)&&d!==o||(r[f]=m)}),r}var RU=t=>{let e=il({},t),{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:s,headers:a,auth:o}=e;e.headers=a=Na.from(a),e.url=TU(PU(e.baseURL,e.url),t.params,t.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let c;if(Ee.isFormData(r)){if(Yi.hasStandardBrowserEnv||Yi.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((c=a.getContentType())!==!1){let[u,...f]=c?c.split(";").map(d=>d.trim()).filter(Boolean):[];a.setContentType([u||"multipart/form-data",...f].join("; "))}}if(Yi.hasStandardBrowserEnv&&(n&&Ee.isFunction(n)&&(n=n(e)),n||n!==!1&&gye(e.url))){let u=i&&s&&yye.read(s);u&&a.set(i,u)}return e},bye=typeof XMLHttpRequest<"u",wye=bye&&function(t){return new Promise(function(r,n){let i=RU(t),s=i.data,a=Na.from(i.headers).normalize(),{responseType:o,onUploadProgress:c,onDownloadProgress:u}=i,f,d,m,_,x;function P(){_&&_(),x&&x(),i.cancelToken&&i.cancelToken.unsubscribe(f),i.signal&&i.signal.removeEventListener("abort",f)}let D=new XMLHttpRequest;D.open(i.method.toUpperCase(),i.url,!0),D.timeout=i.timeout;function k(){if(!D)return;let X=Na.from("getAllResponseHeaders"in D&&D.getAllResponseHeaders()),U={data:!o||o==="text"||o==="json"?D.responseText:D.response,status:D.status,statusText:D.statusText,headers:X,config:t,request:D};OU(function(j){r(j),P()},function(j){n(j),P()},U),D=null}"onloadend"in D?D.onloadend=k:D.onreadystatechange=function(){!D||D.readyState!==4||D.status===0&&!(D.responseURL&&D.responseURL.indexOf("file:")===0)||setTimeout(k)},D.onabort=function(){D&&(n(new Kt("Request aborted",Kt.ECONNABORTED,t,D)),D=null)},D.onerror=function(){n(new Kt("Network Error",Kt.ERR_NETWORK,t,D)),D=null},D.ontimeout=function(){let Z=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded",U=i.transitional||IU;i.timeoutErrorMessage&&(Z=i.timeoutErrorMessage),n(new Kt(Z,U.clarifyTimeoutError?Kt.ETIMEDOUT:Kt.ECONNABORTED,t,D)),D=null},s===void 0&&a.setContentType(null),"setRequestHeader"in D&&Ee.forEach(a.toJSON(),function(Z,U){D.setRequestHeader(U,Z)}),Ee.isUndefined(i.withCredentials)||(D.withCredentials=!!i.withCredentials),o&&o!=="json"&&(D.responseType=i.responseType),u&&([m,x]=Sb(u,!0),D.addEventListener("progress",m)),c&&D.upload&&([d,_]=Sb(c),D.upload.addEventListener("progress",d),D.upload.addEventListener("loadend",_)),(i.cancelToken||i.signal)&&(f=X=>{D&&(n(!X||X.type?new nh(null,t,D):X),D.abort(),D=null)},i.cancelToken&&i.cancelToken.subscribe(f),i.signal&&(i.signal.aborted?f():i.signal.addEventListener("abort",f)));let Y=dye(i.url);if(Y&&Yi.protocols.indexOf(Y)===-1){n(new Kt("Unsupported protocol "+Y+":",Kt.ERR_BAD_REQUEST,t));return}D.send(s||null)})},_ye=(t,e)=>{let{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,i,s=function(u){if(!i){i=!0,o();let f=u instanceof Error?u:this.reason;n.abort(f instanceof Kt?f:new nh(f instanceof Error?f.message:f))}},a=e&&setTimeout(()=>{a=null,s(new Kt(`timeout ${e} of ms exceeded`,Kt.ETIMEDOUT))},e),o=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),t=null)};t.forEach(u=>u.addEventListener("abort",s));let{signal:c}=n;return c.unsubscribe=()=>Ee.asap(o),c}},Eye=_ye,Aye=function*(t,e){let r=t.byteLength;if(!e||r<e){yield t;return}let n=0,i;for(;n<r;)i=n+e,yield t.slice(n,i),n=i},Sye=async function*(t,e){for await(let r of xye(t))yield*Aye(r,e)},xye=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}let e=t.getReader();try{for(;;){let{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},uU=(t,e,r,n)=>{let i=Sye(t,e),s=0,a,o=c=>{a||(a=!0,n&&n(c))};return new ReadableStream({async pull(c){try{let{done:u,value:f}=await i.next();if(u){o(),c.close();return}let d=f.byteLength;if(r){let m=s+=d;r(m)}c.enqueue(new Uint8Array(f))}catch(u){throw o(u),u}},cancel(c){return o(c),i.return()}},{highWaterMark:2})},Ob=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",DU=Ob&&typeof ReadableStream=="function",Tye=Ob&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),MU=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Iye=DU&&MU(()=>{let t=!1,e=new Request(Yi.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),fU=64*1024,w5=DU&&MU(()=>Ee.isReadableStream(new Response("").body)),xb={stream:w5&&(t=>t.body)};Ob&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!xb[e]&&(xb[e]=Ee.isFunction(t[e])?r=>r[e]():(r,n)=>{throw new Kt(`Response type '${e}' is not supported`,Kt.ERR_NOT_SUPPORT,n)})})})(new Response);var Cye=async t=>{if(t==null)return 0;if(Ee.isBlob(t))return t.size;if(Ee.isSpecCompliantForm(t))return(await new Request(Yi.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(Ee.isArrayBufferView(t)||Ee.isArrayBuffer(t))return t.byteLength;if(Ee.isURLSearchParams(t)&&(t=t+""),Ee.isString(t))return(await Tye(t)).byteLength},Nye=async(t,e)=>{let r=Ee.toFiniteNumber(t.getContentLength());return r??Cye(e)},Oye=Ob&&(async t=>{let{url:e,method:r,data:n,signal:i,cancelToken:s,timeout:a,onDownloadProgress:o,onUploadProgress:c,responseType:u,headers:f,withCredentials:d="same-origin",fetchOptions:m}=RU(t);u=u?(u+"").toLowerCase():"text";let _=Eye([i,s&&s.toAbortSignal()],a),x,P=_&&_.unsubscribe&&(()=>{_.unsubscribe()}),D;try{if(c&&Iye&&r!=="get"&&r!=="head"&&(D=await Nye(f,n))!==0){let U=new Request(e,{method:"POST",body:n,duplex:"half"}),Q;if(Ee.isFormData(n)&&(Q=U.headers.get("content-type"))&&f.setContentType(Q),U.body){let[j,K]=aU(D,Sb(oU(c)));n=uU(U.body,fU,j,K)}}Ee.isString(d)||(d=d?"include":"omit");let k="credentials"in Request.prototype;x=new Request(e,{...m,signal:_,method:r.toUpperCase(),headers:f.normalize().toJSON(),body:n,duplex:"half",credentials:k?d:void 0});let Y=await fetch(x),X=w5&&(u==="stream"||u==="response");if(w5&&(o||X&&P)){let U={};["status","statusText","headers"].forEach($=>{U[$]=Y[$]});let Q=Ee.toFiniteNumber(Y.headers.get("content-length")),[j,K]=o&&aU(Q,Sb(oU(o),!0))||[];Y=new Response(uU(Y.body,fU,j,()=>{K&&K(),P&&P()}),U)}u=u||"text";let Z=await xb[Ee.findKey(xb,u)||"text"](Y,t);return!X&&P&&P(),await new Promise((U,Q)=>{OU(U,Q,{data:Z,headers:Na.from(Y.headers),status:Y.status,statusText:Y.statusText,config:t,request:x})})}catch(k){throw P&&P(),k&&k.name==="TypeError"&&/fetch/i.test(k.message)?Object.assign(new Kt("Network Error",Kt.ERR_NETWORK,t,x),{cause:k.cause||k}):Kt.from(k,k&&k.code,t,x)}}),_5={http:j1e,xhr:wye,fetch:Oye};Ee.forEach(_5,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});var lU=t=>`- ${t}`,Pye=t=>Ee.isFunction(t)||t===null||t===!1,BU={getAdapter:t=>{t=Ee.isArray(t)?t:[t];let{length:e}=t,r,n,i={};for(let s=0;s<e;s++){r=t[s];let a;if(n=r,!Pye(r)&&(n=_5[(a=String(r)).toLowerCase()],n===void 0))throw new Kt(`Unknown adapter '${a}'`);if(n)break;i[a||"#"+s]=n}if(!n){let s=Object.entries(i).map(([o,c])=>`adapter ${o} `+(c===!1?"is not supported by the environment":"is not available in the build")),a=e?s.length>1?`since :
`+s.map(lU).join(`
`):" "+lU(s[0]):"as no adapter specified";throw new Kt("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return n},adapters:_5};function g5(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new nh(null,t)}function dU(t){return g5(t),t.headers=Na.from(t.headers),t.data=p5.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),BU.getAdapter(t.adapter||N5.adapter)(t).then(function(n){return g5(t),n.data=p5.call(t,t.transformResponse,n),n.headers=Na.from(n.headers),n},function(n){return NU(n)||(g5(t),n&&n.response&&(n.response.data=p5.call(t,t.transformResponse,n.response),n.response.headers=Na.from(n.response.headers))),Promise.reject(n)})}var LU="1.7.7",O5={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{O5[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});var hU={};O5.transitional=function(e,r,n){function i(s,a){return"[Axios v"+LU+"] Transitional option '"+s+"'"+a+(n?". "+n:"")}return(s,a,o)=>{if(e===!1)throw new Kt(i(a," has been removed"+(r?" in "+r:"")),Kt.ERR_DEPRECATED);return r&&!hU[a]&&(hU[a]=!0),e?e(s,a,o):!0}};function Rye(t,e,r){if(typeof t!="object")throw new Kt("options must be an object",Kt.ERR_BAD_OPTION_VALUE);let n=Object.keys(t),i=n.length;for(;i-- >0;){let s=n[i],a=e[s];if(a){let o=t[s],c=o===void 0||a(o,s,t);if(c!==!0)throw new Kt("option "+s+" must be "+c,Kt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Kt("Unknown option "+s,Kt.ERR_BAD_OPTION)}}var E5={assertOptions:Rye,validators:O5},hu=E5.validators,th=class{constructor(e){this.defaults=e,this.interceptors={request:new iU,response:new iU}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;let s=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=il(this.defaults,r);let{transitional:n,paramsSerializer:i,headers:s}=r;n!==void 0&&E5.assertOptions(n,{silentJSONParsing:hu.transitional(hu.boolean),forcedJSONParsing:hu.transitional(hu.boolean),clarifyTimeoutError:hu.transitional(hu.boolean)},!1),i!=null&&(Ee.isFunction(i)?r.paramsSerializer={serialize:i}:E5.assertOptions(i,{encode:hu.function,serialize:hu.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let a=s&&Ee.merge(s.common,s[r.method]);s&&Ee.forEach(["delete","get","head","post","put","patch","common"],x=>{delete s[x]}),r.headers=Na.concat(a,s);let o=[],c=!0;this.interceptors.request.forEach(function(P){typeof P.runWhen=="function"&&P.runWhen(r)===!1||(c=c&&P.synchronous,o.unshift(P.fulfilled,P.rejected))});let u=[];this.interceptors.response.forEach(function(P){u.push(P.fulfilled,P.rejected)});let f,d=0,m;if(!c){let x=[dU.bind(this),void 0];for(x.unshift.apply(x,o),x.push.apply(x,u),m=x.length,f=Promise.resolve(r);d<m;)f=f.then(x[d++],x[d++]);return f}m=o.length;let _=r;for(d=0;d<m;){let x=o[d++],P=o[d++];try{_=x(_)}catch(D){P.call(this,D);break}}try{f=dU.call(this,_)}catch(x){return Promise.reject(x)}for(d=0,m=u.length;d<m;)f=f.then(u[d++],u[d++]);return f}getUri(e){e=il(this.defaults,e);let r=PU(e.baseURL,e.url);return TU(r,e.params,e.paramsSerializer)}};Ee.forEach(["delete","get","head","options"],function(e){th.prototype[e]=function(r,n){return this.request(il(n||{},{method:e,url:r,data:(n||{}).data}))}});Ee.forEach(["post","put","patch"],function(e){function r(n){return function(s,a,o){return this.request(il(o||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}th.prototype[e]=r(),th.prototype[e+"Form"]=r(!0)});var Ab=th,A5=class t{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});let n=this;this.promise.then(i=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](i);n._listeners=null}),this.promise.then=i=>{let s,a=new Promise(o=>{n.subscribe(o),s=o}).then(i);return a.cancel=function(){n.unsubscribe(s)},a},e(function(s,a,o){n.reason||(n.reason=new nh(s,a,o),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;let r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){let e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new t(function(i){e=i}),cancel:e}}},Dye=A5;function Mye(t){return function(r){return t.apply(null,r)}}function Bye(t){return Ee.isObject(t)&&t.isAxiosError===!0}var S5={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(S5).forEach(([t,e])=>{S5[e]=t});var Lye=S5;function qU(t){let e=new Ab(t),r=pU(Ab.prototype.request,e);return Ee.extend(r,Ab.prototype,e,{allOwnKeys:!0}),Ee.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return qU(il(t,i))},r}var Bn=qU(N5);Bn.Axios=Ab;Bn.CanceledError=nh;Bn.CancelToken=Dye;Bn.isCancel=NU;Bn.VERSION=LU;Bn.toFormData=Nb;Bn.AxiosError=Kt;Bn.Cancel=Bn.CanceledError;Bn.all=function(e){return Promise.all(e)};Bn.spread=Mye;Bn.isAxiosError=Bye;Bn.mergeConfig=il;Bn.AxiosHeaders=Na;Bn.formToJSON=t=>CU(Ee.isHTMLForm(t)?new FormData(t):t);Bn.getAdapter=BU.getAdapter;Bn.HttpStatusCode=Lye;Bn.default=Bn;FU.exports=Bn});var Ji=R($r=>{"use strict";l();var qye=$r&&$r.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Fye=$r&&$r.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Uye=$r&&$r.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&qye(e,t,r);return Fye(e,t),e};Object.defineProperty($r,"__esModule",{value:!0});$r.getAxios=$r.isEmpty=$r.guardEmpty=$r.guardNotEmpty=$r.guardLength=$r.guardSameLength=$r.guardValueIsSetWithMessage=$r.guardValueIsSet=$r.guardTrue=void 0;var ih=Uye(It());function kye(t,e){if(!t)throw new ih.ErrInvariantFailed(`[<${e}>] isn't true`)}$r.guardTrue=kye;function Vye(t,e){UU(`${t} isn't set (null or undefined)`,e)}$r.guardValueIsSet=Vye;function UU(t,e){if(e==null||e===void 0)throw new ih.ErrInvariantFailed(t)}$r.guardValueIsSetWithMessage=UU;function Hye(t,e){if(t=t||[],e=e||[],t.length!=e.length)throw new ih.ErrInvariantFailed("arrays do not have the same length")}$r.guardSameLength=Hye;function Gye(t,e){let r=t.length||0;if(r!=e)throw new ih.ErrInvariantFailed(`wrong length, expected: ${e}, actual: ${r}`)}$r.guardLength=Gye;function jye(t,e){if(P5(t))throw new ih.ErrInvariantFailed(`${e} is empty`)}$r.guardNotEmpty=jye;function zye(t,e){if(!P5(t))throw new ih.ErrInvariantFailed(`${e} is not empty`)}$r.guardEmpty=zye;function P5(t){return t.isEmpty?t.isEmpty():t.length===0}$r.isEmpty=P5;function Kye(){try{return Pb()}catch{throw new Error("axios is required but not installed. Please install axios to make network requests.")}}$r.getAxios=Kye});var kU=R(Rb=>{"use strict";l();Object.defineProperty(Rb,"__esModule",{value:!0});Rb.TypeFormula=void 0;var R5=class{constructor(e,r,n){this.name=e,this.typeParameters=r,this.metadata=n}toString(){let r=this.typeParameters.length>0?`<${this.typeParameters.map(i=>i.toString()).join(", ")}>`:"",n=`${this.name}${r}`;return this.metadata!==void 0?`${n}*${this.metadata}*`:n}};Rb.TypeFormula=R5});var VU=R(Db=>{"use strict";l();Object.defineProperty(Db,"__esModule",{value:!0});Db.TypeFormulaParser=void 0;var sh=kU(),mo=class t{parseExpression(e){e=e.trim();let r=this.tokenizeExpression(e).filter(s=>s!==t.COMMA),n=[];for(let s of r)if(this.isPunctuation(s))if(this.isEndOfTypeParameters(s)){let a=this.acquireTypeWithParameters(n);n.push(a)}else if(this.isBeginningOfTypeParameters(s))n.push(s);else throw new Error(`Unexpected token (punctuation): ${s}`);else n.push(s);if(n.length!==1)throw new Error(`Unexpected stack length at end of parsing: ${n.length}`);if(t.PUNCTUATION.includes(n[0]))throw new Error("Unexpected root element.");let i=n[0];if(i instanceof sh.TypeFormula)return i;if(typeof i=="string")return new sh.TypeFormula(i,[]);throw new Error(`Unexpected item on stack: ${i}`)}tokenizeExpression(e){let r=[],n="";for(let i of e)this.isPunctuation(i)?(n&&(r.push(n.trim()),n=""),r.push(i)):n+=i;return n&&r.push(n.trim()),r}acquireTypeWithParameters(e){let r=this.acquireTypeParameters(e),n=e.pop();if(n==="ManagedDecimal"||n==="ManagedDecimalSigned"){let s=r[0].name;return new sh.TypeFormula(n,[],s)}return new sh.TypeFormula(n,r.reverse())}acquireTypeParameters(e){let r=[];for(;;){let n=e.pop();if(n===void 0)throw new Error("Badly specified type parameters");if(this.isBeginningOfTypeParameters(n))break;if(n instanceof sh.TypeFormula)r.push(n);else if(typeof n=="string")r.push(new sh.TypeFormula(n,[]));else throw new Error(`Unexpected type parameter object in stack: ${n}`)}return r}isPunctuation(e){return t.PUNCTUATION.includes(e)}isEndOfTypeParameters(e){return e===t.END_TYPE_PARAMETERS}isBeginningOfTypeParameters(e){return e===t.BEGIN_TYPE_PARAMETERS}};Db.TypeFormulaParser=mo;mo.BEGIN_TYPE_PARAMETERS="<";mo.END_TYPE_PARAMETERS=">";mo.COMMA=",";mo.PUNCTUATION=[mo.COMMA,mo.BEGIN_TYPE_PARAMETERS,mo.END_TYPE_PARAMETERS]});var HU=R(Mb=>{"use strict";l();Object.defineProperty(Mb,"__esModule",{value:!0});Mb.getJavascriptPrototypesInHierarchy=void 0;function Wye(t,e){let r=[],n=Object.getPrototypeOf(t);for(;n&&e(n);)r.push(n),n=Object.getPrototypeOf(n);return r}Mb.getJavascriptPrototypesInHierarchy=Wye});var gn=R(Ln=>{"use strict";l();Object.defineProperty(Ln,"__esModule",{value:!0});Ln.NullType=Ln.TypePlaceholder=Ln.isTyped=Ln.PrimitiveValue=Ln.TypedValue=Ln.CustomType=Ln.PrimitiveType=Ln.TypeCardinality=Ln.Type=void 0;var D5=HU(),GU=Ji(),pu=class t{constructor(e,r=[],n=Ng.fixed(1),i){GU.guardValueIsSet("name",e),this.name=e,this.typeParameters=r,this.cardinality=n,this.metadata=i}getName(){return this.name}getClassName(){return t.ClassName}getClassHierarchy(){return D5.getJavascriptPrototypesInHierarchy(this,n=>n.belongsToTypesystem).map(n=>n.getClassName()).reverse()}getFullyQualifiedName(){return this.isGenericType()||this.hasMetadata()?this.getFullNameForGeneric():`multiversx:types:${this.getName()}`}getFullNameForGeneric(){let e=this.getTypeParameters().length>0,r=e?`${this.getTypeParameters().map(i=>i.getFullyQualifiedName()).join(", ")}`:"",n=`multiversx:types:${this.getName()}`;return e&&(n=`${n}<${r}>`),this.metadata!==void 0&&(n=`${n}*${this.metadata}*`),n}hasExactClass(e){return this.getClassName()==e}hasClassOrSuperclass(e){return this.getClassHierarchy().includes(e)}getTypeParameters(){return this.typeParameters}getMetadata(){return this.metadata}isGenericType(){return this.typeParameters.length>0}hasMetadata(){return!!this.metadata}getFirstTypeParameter(){return GU.guardTrue(this.typeParameters.length>0,"type parameters length > 0"),this.typeParameters[0]}toString(){let e=this.getTypeParameters().map(n=>n.toString()).join(", "),r=e?`<${e}>`:"";return`${this.name}${r}`}equals(e){return t.equals(this,e)}static equals(e,r){return e.getFullyQualifiedName()==r.getFullyQualifiedName()}static equalsMany(e,r){return e.every((n,i)=>n.equals(r[i]))}static isAssignableFromMany(e,r){return e.every((n,i)=>n.isAssignableFrom(r[i]))}differs(e){return!this.equals(e)}valueOf(){return this.name}isAssignableFrom(e){if(!t.equalsMany(this.getTypeParameters(),e.getTypeParameters()))return!1;let n=this.getFullyQualifiedName();return t.getFullyQualifiedNamesInHierarchy(e).includes(n)?!0:e.hasClassOrSuperclass(this.getClassName())}static getFullyQualifiedNamesInHierarchy(e){return D5.getJavascriptPrototypesInHierarchy(e,i=>i.belongsToTypesystem).map(i=>i.getFullyQualifiedName.call(e))}getNamesOfDependencies(){let e=[];for(let r of this.typeParameters)e.push(r.getName()),e.push(...r.getNamesOfDependencies());return[...new Set(e)]}toJSON(){return{name:this.name,typeParameters:this.typeParameters.map(e=>e.toJSON())}}getCardinality(){return this.cardinality}belongsToTypesystem(){}};Ln.Type=pu;pu.ClassName="Type";var Ng=class t{constructor(e,r){this.lowerBound=e,this.upperBound=r}static fixed(e){return new t(e,e)}static variable(e){return new t(0,e)}isSingular(){return this.lowerBound==1&&this.upperBound==1}isSingularOrNone(){return this.lowerBound==0&&this.upperBound==1}isComposite(){return this.upperBound!=1}isFixed(){return this.lowerBound==this.upperBound}getLowerBound(){return this.lowerBound}getUpperBound(){return this.upperBound||t.MaxCardinality}};Ln.TypeCardinality=Ng;Ng.MaxCardinality=4096;var Bb=class t extends pu{constructor(e){super(e)}getClassName(){return t.ClassName}};Ln.PrimitiveType=Bb;Bb.ClassName="PrimitiveType";var Lb=class t extends pu{getClassName(){return t.ClassName}};Ln.CustomType=Lb;Lb.ClassName="CustomType";var Og=class t{constructor(e){this.type=e}getClassName(){return t.ClassName}getClassHierarchy(){return D5.getJavascriptPrototypesInHierarchy(this,n=>n.belongsToTypesystem).map(n=>n.getClassName()).reverse()}getType(){return this.type}hasExactClass(e){return this.getClassName()==e}hasClassOrSuperclass(e){return this.getClassHierarchy().includes(e)}belongsToTypesystem(){}};Ln.TypedValue=Og;Og.ClassName="TypedValue";var qb=class t extends Og{constructor(e){super(e)}getClassName(){return t.ClassName}};Ln.PrimitiveValue=qb;qb.ClassName="PrimitiveValue";function Qye(t){return t.belongsToTypesystem!==void 0}Ln.isTyped=Qye;var Fb=class t extends pu{constructor(){super("...")}getClassName(){return t.ClassName}};Ln.TypePlaceholder=Fb;Fb.ClassName="TypePlaceholder";var Ub=class t extends pu{constructor(){super("?")}getClassName(){return t.ClassName}};Ln.NullType=Ub;Ub.ClassName="NullType"});var Pg=R(kb=>{"use strict";l();Object.defineProperty(kb,"__esModule",{value:!0});kb.TypeExpressionParser=void 0;var $ye=VU(),Yye=It(),Jye=gn(),M5=class{constructor(){this.backingTypeFormulaParser=new $ye.TypeFormulaParser}parse(e){try{return this.doParse(e)}catch(r){throw new Yye.ErrTypingSystem(`Failed to parse type expression: ${e}. Error: ${r}`)}}doParse(e){let r=this.backingTypeFormulaParser.parseExpression(e);return this.typeFormulaToType(r)}typeFormulaToType(e){let r=e.typeParameters.map(n=>this.typeFormulaToType(n));return new Jye.Type(e.name,r,void 0,e.metadata)}};kb.TypeExpressionParser=M5});var L5=R(gu=>{"use strict";l();Object.defineProperty(gu,"__esModule",{value:!0});gu.EndpointParameterDefinition=gu.EndpointModifiers=gu.EndpointDefinition=void 0;var Xye=Pg(),jU="?",Zye="N / A",B5=class t{constructor(e,r,n,i,s){this.input=[],this.output=[],this.name=e,this.title=s||"",this.input=r||[],this.output=n||[],this.modifiers=i}isConstructor(){return this.name=="constructor"}static fromJSON(e){e.name=e.name==null?jU:e.name,e.onlyOwner=e.onlyOwner||!1,e.title=e.title||"",e.payableInTokens=e.payableInTokens||[],e.inputs=e.inputs||[],e.outputs=e.outputs||[];let r=e.inputs.map(s=>Rg.fromJSON(s)),n=e.outputs.map(s=>Rg.fromJSON(s)),i=new Vb(e.mutability,e.payableInTokens,e.onlyOwner);return new t(e.name,r,n,i,e.title)}};gu.EndpointDefinition=B5;var Vb=class{constructor(e,r,n){this.mutability=e||"",this.payableInTokens=r||[],this.onlyOwner=n||!1}isPayableInEGLD(){return this.isPayableInToken("EGLD")}isPayableInToken(e){return this.payableInTokens.includes(e)?!0:this.payableInTokens.includes(`!${e}`)?!1:!!this.payableInTokens.includes("*")}isPayable(){return this.payableInTokens.length!=0}isReadonly(){return this.mutability=="readonly"}isOnlyOwner(){return this.onlyOwner}};gu.EndpointModifiers=Vb;var Rg=class t{constructor(e,r,n){this.name=e,this.description=r,this.type=n}static fromJSON(e){let r=new Xye.TypeExpressionParser().parse(e.type);return new t(e.name||jU,e.description||Zye,r)}};gu.EndpointParameterDefinition=Rg});var ah=R(Xi=>{"use strict";l();var eme=Xi&&Xi.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),tme=Xi&&Xi.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),rme=Xi&&Xi.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&eme(e,t,r);return tme(e,t),e};Object.defineProperty(Xi,"__esModule",{value:!0});Xi.Fields=Xi.Field=Xi.FieldDefinition=void 0;var q5=rme(It()),nme=Pg(),F5=class t{constructor(e,r,n){this.name=e,this.description=r,this.type=n}static fromJSON(e){let r=new nme.TypeExpressionParser().parse(e.type);return new t(e.name,e.description,r)}};Xi.FieldDefinition=F5;var U5=class{constructor(e,r=""){this.value=e,this.name=r}checkTyping(e){let r=this.value.getType();if(!r.equals(e.type))throw new q5.ErrTypingSystem(`check type of field "${e.name}; expected: ${e.type}, actual: ${r}"`);if(this.name!=e.name)throw new q5.ErrTypingSystem(`check name of field "${e.name}"`)}equals(e){return this.name==e.name&&this.value.equals(e.value)}};Xi.Field=U5;var k5=class{static checkTyping(e,r){if(e.length!=r.length)throw new q5.ErrTypingSystem("fields length vs. field definitions length");for(let n=0;n<e.length;n++){let i=e[n],s=r[n];i.checkTyping(s)}}static equals(e,r){if(e.length!=r.length)return!1;for(let n=0;n<e.length;n++){let i=e[n],s=r[n];if(!i.equals(s))return!1}return!0}static getNamesOfTypeDependencies(e){let r=[];for(let n of e)r.push(n.type.getName()),r.push(...n.type.getNamesOfDependencies());return[...new Set(r)]}};Xi.Fields=k5});var Dg=R(yu=>{"use strict";l();Object.defineProperty(yu,"__esModule",{value:!0});yu.EnumValue=yu.EnumVariantDefinition=yu.EnumType=void 0;var ime=It(),V5=Ji(),Hb=ah(),KU=gn(),zU=256,Gb=class t extends KU.CustomType{constructor(e,r){super(e),this.variants=[],this.variants=r}getClassName(){return t.ClassName}static fromJSON(e){let n=t.assignMissingDiscriminants(e.variants||[]).map(i=>jb.fromJSON(i));return new t(e.name,n)}static assignMissingDiscriminants(e){return e.every(n=>n.discriminant==null)?e.map((n,i)=>({...n,discriminant:i})):e}getVariantByDiscriminant(e){let r=this.variants.find(n=>n.discriminant==e);return V5.guardValueIsSet(`variant by discriminant (${e})`,r),r}getVariantByName(e){let r=this.variants.find(n=>n.name==e);return V5.guardValueIsSet(`variant by name (${e})`,r),r}getNamesOfDependencies(){let e=[];for(let r of this.variants)e.push(...r.getNamesOfDependencies());return[...new Set(e)]}};yu.EnumType=Gb;Gb.ClassName="EnumType";var jb=class t{constructor(e,r,n=[]){this.fieldsDefinitions=[],V5.guardTrue(r<zU,`discriminant for simple enum should be less than ${zU}`),this.name=e,this.discriminant=r,this.fieldsDefinitions=n}static fromJSON(e){let r=(e.fields||[]).map(n=>Hb.FieldDefinition.fromJSON(n));return new t(e.name,e.discriminant,r)}getFieldsDefinitions(){return this.fieldsDefinitions}getFieldDefinition(e){return this.fieldsDefinitions.find(r=>r.name==e)}getNamesOfDependencies(){return Hb.Fields.getNamesOfTypeDependencies(this.fieldsDefinitions)}};yu.EnumVariantDefinition=jb;var zb=class t extends KU.TypedValue{constructor(e,r,n){super(e),this.fields=[],this.name=r.name,this.discriminant=r.discriminant,this.fields=n,this.fieldsByName=new Map(n.map(s=>[s.name,s]));let i=r.getFieldsDefinitions();Hb.Fields.checkTyping(this.fields,i)}getClassName(){return t.ClassName}static fromName(e,r){let n=e.getVariantByName(r);return new t(e,n,[])}static fromDiscriminant(e,r){let n=e.getVariantByDiscriminant(r);return new t(e,n,[])}equals(e){if(!this.getType().equals(e.getType()))return!1;let r=this.getFields(),n=e.getFields(),i=this.name==e.name,s=this.discriminant==e.discriminant,a=Hb.Fields.equals(r,n);return i&&s&&a}getFields(){return this.fields}getFieldValue(e){let r=this.fieldsByName.get(e);if(r)return r.value.valueOf();throw new ime.ErrMissingFieldOnEnum(e,this.getType().getName())}valueOf(){let e={name:this.name,fields:[]};return this.fields.forEach((r,n)=>e.fields[n]=r.value.valueOf()),e}};yu.EnumValue=zb;zb.ClassName="EnumValue"});var QU=R(oh=>{"use strict";l();Object.defineProperty(oh,"__esModule",{value:!0});oh.EventTopicDefinition=oh.EventDefinition=void 0;var sme=Pg(),WU="?",H5=class t{constructor(e,r){this.inputs=[],this.identifier=e,this.inputs=r||[]}static fromJSON(e){e.identifier=e.identifier==null?WU:e.identifier,e.inputs=e.inputs||[];let r=e.inputs.map(n=>Kb.fromJSON(n));return new t(e.identifier,r)}};oh.EventDefinition=H5;var Kb=class t{constructor(e){this.name=e.name,this.type=e.type,this.indexed=e.indexed}static fromJSON(e){let r=new sme.TypeExpressionParser().parse(e.type);return new t({name:e.name||WU,type:r,indexed:e.indexed})}};oh.EventTopicDefinition=Kb});var uh=R(ch=>{"use strict";l();Object.defineProperty(ch,"__esModule",{value:!0});ch.Struct=ch.StructType=void 0;var ame=It(),Wb=ah(),$U=gn(),Qb=class t extends $U.CustomType{constructor(e,r){super(e),this.fieldsDefinitions=[],this.fieldsDefinitions=r}getClassName(){return t.ClassName}static fromJSON(e){let r=(e.fields||[]).map(n=>Wb.FieldDefinition.fromJSON(n));return new t(e.name,r)}getFieldsDefinitions(){return this.fieldsDefinitions}getFieldDefinition(e){return this.fieldsDefinitions.find(r=>r.name==e)}getNamesOfDependencies(){return Wb.Fields.getNamesOfTypeDependencies(this.fieldsDefinitions)}};ch.StructType=Qb;Qb.ClassName="StructType";var $b=class t extends $U.TypedValue{constructor(e,r){super(e),this.fields=r,this.fieldsByName=new Map(r.map(n=>[n.name,n])),this.checkTyping()}getClassName(){return t.ClassName}checkTyping(){let r=this.getType().getFieldsDefinitions();Wb.Fields.checkTyping(this.fields,r)}getFields(){return this.fields}getFieldValue(e){let r=this.fieldsByName.get(e);if(r)return r.value.valueOf();throw new ame.ErrMissingFieldOnStruct(e,this.getType().getName())}valueOf(){let e={};for(let r of this.fields)e[r.name]=r.value.valueOf();return e}equals(e){if(!this.getType().equals(e.getType()))return!1;let r=this.getFields(),n=e.getFields();return Wb.Fields.equals(r,n)}};ch.Struct=$b;$b.ClassName="Struct"});var lh=R(fh=>{"use strict";l();Object.defineProperty(fh,"__esModule",{value:!0});fh.AddressValue=fh.AddressType=void 0;var ome=qt(),YU=gn(),Mg=class t extends YU.PrimitiveType{constructor(){super("Address")}getClassName(){return t.ClassName}};fh.AddressType=Mg;Mg.ClassName="AddressType";var Yb=class t extends YU.PrimitiveValue{constructor(e){super(new Mg),this.value=ome.Address.newFromBech32(e.bech32())}getClassName(){return t.ClassName}equals(e){return this.value.equals(e.value)}valueOf(){return this.value}};fh.AddressValue=Yb;Yb.ClassName="AddressValue"});var Xb=R(dh=>{"use strict";l();Object.defineProperty(dh,"__esModule",{value:!0});dh.OptionalValue=dh.OptionalType=void 0;var cme=Ji(),Bg=gn(),Lg=class t extends Bg.Type{constructor(e){super("Optional",[e],Bg.TypeCardinality.variable(1))}getClassName(){return t.ClassName}isAssignableFrom(e){if(!e.hasExactClass(t.ClassName))return!1;let r=this.getFirstTypeParameter().equals(e.getFirstTypeParameter()),n=e.getFirstTypeParameter().hasExactClass(Bg.NullType.ClassName);return r||n}};dh.OptionalType=Lg;Lg.ClassName="OptionalType";var Jb=class t extends Bg.TypedValue{constructor(e,r=null){super(e),this.value=r}getClassName(){return t.ClassName}static newMissing(){let e=new Lg(new Bg.NullType);return new t(e)}isSet(){return!!this.value}getTypedValue(){return cme.guardValueIsSet("value",this.value),this.value}valueOf(){return this.value?this.value.valueOf():null}equals(e){return this.value?.equals(e.value)||!1}};dh.OptionalValue=Jb;Jb.ClassName="OptionalValue"});var Fg=R(hh=>{"use strict";l();Object.defineProperty(hh,"__esModule",{value:!0});hh.BooleanValue=hh.BooleanType=void 0;var JU=gn(),qg=class t extends JU.PrimitiveType{constructor(){super("bool")}getClassName(){return t.ClassName}};hh.BooleanType=qg;qg.ClassName="BooleanType";var Zb=class t extends JU.PrimitiveValue{constructor(e){super(new qg),this.value=e}getClassName(){return t.ClassName}equals(e){return this.value===e.value}isTrue(){return this.value===!0}isFalse(){return!this.isTrue()}valueOf(){return this.value}};hh.BooleanValue=Zb;Zb.ClassName="BooleanValue"});var mu=R(ph=>{"use strict";l();Object.defineProperty(ph,"__esModule",{value:!0});ph.BytesValue=ph.BytesType=void 0;var XU=gn(),Ug=class t extends XU.PrimitiveType{constructor(){super("bytes")}getClassName(){return t.ClassName}};ph.BytesType=Ug;Ug.ClassName="BytesType";var e2=class t extends XU.PrimitiveValue{constructor(e){super(new Ug),this.value=e}getClassName(){return t.ClassName}static fromUTF8(e){let r=y.Buffer.from(e,"utf-8");return new t(r)}static fromHex(e){let r=y.Buffer.from(e,"hex");return new t(r)}getLength(){return this.value.length}equals(e){return this.getLength()!=e.getLength()?!1:this.value.equals(e.value)}valueOf(){return this.value}toString(){return this.value.toString()}};ph.BytesValue=e2;e2.ClassName="BytesValue"});var kg=R(gh=>{"use strict";l();Object.defineProperty(gh,"__esModule",{value:!0});gh.CodeMetadataValue=gh.CodeMetadataType=void 0;var ZU=gn(),t2=class extends ZU.PrimitiveType{constructor(){super("CodeMetadata")}};gh.CodeMetadataType=t2;var G5=class extends ZU.PrimitiveValue{constructor(e){super(new t2),this.value=e}equals(e){return this.value.equals(e.value)}valueOf(){return this.value}};gh.CodeMetadataValue=G5});var n2=R(yh=>{"use strict";l();Object.defineProperty(yh,"__esModule",{value:!0});yh.CompositeValue=yh.CompositeType=void 0;var ume=Ji(),j5=gn(),Vg=class t extends j5.Type{constructor(...e){super("Composite",e,j5.TypeCardinality.variable(e.length))}getClassName(){return t.ClassName}};yh.CompositeType=Vg;Vg.ClassName="CompositeType";var r2=class t extends j5.TypedValue{constructor(e,r){super(e),ume.guardLength(r,e.getTypeParameters().length),this.items=r}getClassName(){return t.ClassName}static fromItems(...e){let r=e.map(i=>i.getType()),n=new Vg(...r);return new t(n,e)}getItems(){return this.items}valueOf(){return this.items.map(e=>e?.valueOf())}equals(e){if(this.getType().differs(e.getType()))return!1;for(let r=0;r<this.items.length;r++){let n=this.items[r],i=e.items[r];if(!n.equals(i))return!1}return!0}};yh.CompositeValue=r2;r2.ClassName="CompositeValue"});var K5=R(i2=>{"use strict";l();Object.defineProperty(i2,"__esModule",{value:!0});i2.CollectionOfTypedValues=void 0;var z5=class{constructor(e){this.items=e}getLength(){return this.items.length}getItems(){return this.items}valueOf(){return this.items.map(e=>e.valueOf())}equals(e){if(this.getLength()!=e.getLength())return!1;for(let r=0;r<this.getLength();r++){let n=this.items[r],i=e.items[r];if(!n.equals(i))return!1}return!0}};i2.CollectionOfTypedValues=z5});var Gg=R(vo=>{"use strict";l();Object.defineProperty(vo,"__esModule",{value:!0});vo.List=vo.OptionValue=vo.ListType=vo.OptionType=void 0;var fme=Ji(),lme=K5(),al=gn(),sl=class t extends al.Type{constructor(e){super("Option",[e])}getClassName(){return t.ClassName}isAssignableFrom(e){if(!e.hasExactClass(t.ClassName))return!1;let r=this.getFirstTypeParameter().equals(e.getFirstTypeParameter()),n=e.getFirstTypeParameter().hasExactClass(al.NullType.ClassName);return r||n}};vo.OptionType=sl;sl.ClassName="OptionType";var Hg=class t extends al.Type{constructor(e){super("List",[e])}getClassName(){return t.ClassName}};vo.ListType=Hg;Hg.ClassName="ListType";var s2=class t extends al.TypedValue{constructor(e,r=null){super(e),this.value=r}getClassName(){return t.ClassName}static newMissing(){let e=new sl(new al.NullType);return new t(e)}static newMissingTyped(e){return new t(new sl(e))}static newProvided(e){let r=new sl(e.getType());return new t(r,e)}isSet(){return!!this.value}getTypedValue(){return fme.guardValueIsSet("value",this.value),this.value}valueOf(){return this.value?this.value.valueOf():null}equals(e){return this.value?.equals(e.value)||!1}};vo.OptionValue=s2;s2.ClassName="OptionValue";var a2=class t extends al.TypedValue{constructor(e,r){super(e),this.backingCollection=new lme.CollectionOfTypedValues(r)}getClassName(){return t.ClassName}static fromItems(e){if(e.length==0)return new t(new al.TypePlaceholder,[]);let r=e[0].getType(),n=new Hg(r);return new t(n,e)}getLength(){return this.backingCollection.getLength()}getItems(){return this.backingCollection.getItems()}valueOf(){return this.backingCollection.valueOf()}equals(e){return this.backingCollection.equals(e.backingCollection)}};vo.List=a2;a2.ClassName="List"});var u2=R(mh=>{"use strict";l();Object.defineProperty(mh,"__esModule",{value:!0});mh.ArrayVec=mh.ArrayVecType=void 0;var ek=Ji(),dme=K5(),tk=gn(),o2=class t extends tk.Type{constructor(e,r){super("Array",[r]),ek.guardTrue(e>0,"array length > 0"),this.length=e}getClassName(){return t.ClassName}};mh.ArrayVecType=o2;o2.ClassName="ArrayVecType";var c2=class t extends tk.TypedValue{constructor(e,r){super(e),ek.guardLength(r,e.length),this.backingCollection=new dme.CollectionOfTypedValues(r)}getClassName(){return t.ClassName}getLength(){return this.backingCollection.getLength()}getItems(){return this.backingCollection.getItems()}valueOf(){return this.backingCollection.valueOf()}equals(e){return this.backingCollection.equals(e.backingCollection)}};mh.ArrayVec=c2;c2.ClassName="ArrayVec"});var zg=R(vh=>{"use strict";l();Object.defineProperty(vh,"__esModule",{value:!0});vh.H256Value=vh.H256Type=void 0;var rk=gn(),jg=class t extends rk.PrimitiveType{constructor(){super("H256")}getClassName(){return t.ClassName}};vh.H256Type=jg;jg.ClassName="H256Type";var f2=class t extends rk.PrimitiveValue{constructor(e){super(new jg),this.value=e}getClassName(){return t.ClassName}equals(e){return this.value.equals(e.value)}valueOf(){return this.value}};vh.H256Value=f2;f2.ClassName="H256Value"});var d2=R(vu=>{"use strict";l();var hme=vu&&vu.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(vu,"__esModule",{value:!0});vu.ManagedDecimalValue=vu.ManagedDecimalType=void 0;var nk=hme(Pr()),ik=gn(),Kg=class t extends ik.Type{constructor(e){super("ManagedDecimal",void 0,void 0,e)}getClassName(){return t.ClassName}getMetadata(){return this.metadata}isVariable(){return this.metadata=="usize"}};vu.ManagedDecimalType=Kg;Kg.ClassName="ManagedDecimalType";var l2=class t extends ik.TypedValue{constructor(e,r,n=!1){super(new Kg(n?"usize":r)),this.value=new nk.default(e),this.scale=r,this.variable=n}getClassName(){return t.ClassName}getScale(){return this.scale}getPrecision(){return this.value.toFixed(this.scale).replace(".","").length}equals(e){return this.getPrecision()!=e.getPrecision()?!1:new nk.default(this.value).eq(e.value)}valueOf(){return this.value}toString(){return this.value.toFixed(this.scale)}isVariable(){return this.variable}};vu.ManagedDecimalValue=l2;l2.ClassName="ManagedDecimalValue"});var p2=R(bu=>{"use strict";l();var pme=bu&&bu.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(bu,"__esModule",{value:!0});bu.ManagedDecimalSignedValue=bu.ManagedDecimalSignedType=void 0;var sk=pme(Pr()),ak=gn(),Wg=class t extends ak.Type{constructor(e){super("ManagedDecimalSigned",void 0,void 0,e)}getClassName(){return t.ClassName}getMetadata(){return this.metadata}isVariable(){return this.metadata=="usize"}};bu.ManagedDecimalSignedType=Wg;Wg.ClassName="ManagedDecimalSignedType";var h2=class t extends ak.TypedValue{constructor(e,r,n=!1){super(new Wg(n?"usize":r)),this.value=new sk.default(e),this.scale=r,this.variable=n}getClassName(){return t.ClassName}getPrecision(){return this.value.toFixed(this.scale).replace(".","").length}getScale(){return this.scale}equals(e){return this.getPrecision()!=e.getPrecision()?!1:new sk.default(this.value).eq(e.value)}valueOf(){return this.value}toString(){return this.value.toFixed(this.scale)}isVariable(){return this.variable}};bu.ManagedDecimalSignedValue=h2;h2.ClassName="ManagedDecimalSignedValue"});var y2=R(bh=>{"use strict";l();Object.defineProperty(bh,"__esModule",{value:!0});bh.NothingValue=bh.NothingType=void 0;var ok=gn(),Qg=class t extends ok.PrimitiveType{constructor(){super("nothing")}getClassName(){return t.ClassName}};bh.NothingType=Qg;Qg.ClassName="NothingType";var g2=class t extends ok.PrimitiveValue{constructor(){super(new Qg)}getClassName(){return t.ClassName}equals(e){return!1}valueOf(){return{}}};bh.NothingValue=g2;g2.ClassName="NothingValue"});var s1=R(Ct=>{"use strict";l();var gme=Ct&&Ct.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),yme=Ct&&Ct.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),mme=Ct&&Ct.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&gme(e,t,r);return yme(e,t),e},vme=Ct&&Ct.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ct,"__esModule",{value:!0});Ct.BigIntValue=Ct.BigUIntValue=Ct.I64Value=Ct.U64Value=Ct.I32Value=Ct.U32Value=Ct.I16Value=Ct.U16Value=Ct.I8Value=Ct.U8Value=Ct.NumericalValue=Ct.BigIntType=Ct.BigUIntType=Ct.I64Type=Ct.U64Type=Ct.I32Type=Ct.U32Type=Ct.I16Type=Ct.U16Type=Ct.I8Type=Ct.U8Type=Ct.NumericalType=void 0;var bme=vme(Pr()),ck=mme(It()),uk=gn(),Zi=class t extends uk.PrimitiveType{constructor(e,r,n){super(e),this.sizeInBytes=r,this.withSign=n}getClassName(){return t.ClassName}hasFixedSize(){return!!this.sizeInBytes}hasArbitrarySize(){return!this.hasFixedSize()}};Ct.NumericalType=Zi;Zi.ClassName="NumericalType";var $g=class t extends Zi{constructor(){super("u8",1,!1)}getClassName(){return t.ClassName}};Ct.U8Type=$g;$g.ClassName="U8Type";var Yg=class t extends Zi{constructor(){super("i8",1,!0)}getClassName(){return t.ClassName}};Ct.I8Type=Yg;Yg.ClassName="I8Type";var Jg=class t extends Zi{constructor(){super("u16",2,!1)}getClassName(){return t.ClassName}};Ct.U16Type=Jg;Jg.ClassName="U16Type";var Xg=class t extends Zi{constructor(){super("i16",2,!0)}getClassName(){return t.ClassName}};Ct.I16Type=Xg;Xg.ClassName="I16Type";var Zg=class t extends Zi{constructor(){super("u32",4,!1)}getClassName(){return t.ClassName}};Ct.U32Type=Zg;Zg.ClassName="U32Type";var e1=class t extends Zi{constructor(){super("i32",4,!0)}getClassName(){return t.ClassName}};Ct.I32Type=e1;e1.ClassName="I32Type";var t1=class t extends Zi{constructor(){super("u64",8,!1)}getClassName(){return t.ClassName}};Ct.U64Type=t1;t1.ClassName="U64Type";var r1=class t extends Zi{constructor(){super("i64",8,!0)}getClassName(){return t.ClassName}};Ct.I64Type=r1;r1.ClassName="I64Type";var n1=class t extends Zi{constructor(){super("BigUint",0,!1)}getClassName(){return t.ClassName}};Ct.BigUIntType=n1;n1.ClassName="BigUIntType";var i1=class t extends Zi{constructor(){super("Bigint",0,!0)}getClassName(){return t.ClassName}};Ct.BigIntType=i1;i1.ClassName="BigIntType";var es=class t extends uk.PrimitiveValue{constructor(e,r){if(super(e),typeof r=="bigint"&&(r=r.toString()),this.value=new bme.default(r),this.sizeInBytes=e.sizeInBytes,this.withSign=e.withSign,this.value.isNaN())throw new ck.ErrInvalidArgument(`not a number: ${r}`);if(!this.withSign&&this.value.isNegative())throw new ck.ErrInvalidArgument(`negative, but type is unsigned: ${r}`)}getClassName(){return t.ClassName}equals(e){return this.value.isEqualTo(e.value)}valueOf(){return this.value}toString(){return this.value.toString()}};Ct.NumericalValue=es;es.ClassName="NumericalValue";var m2=class t extends es{constructor(e){super(new $g,e)}getClassName(){return t.ClassName}};Ct.U8Value=m2;m2.ClassName="U8Value";var v2=class t extends es{constructor(e){super(new Yg,e)}getClassName(){return t.ClassName}};Ct.I8Value=v2;v2.ClassName="I8Value";var b2=class t extends es{constructor(e){super(new Jg,e)}getClassName(){return t.ClassName}};Ct.U16Value=b2;b2.ClassName="U16Value";var w2=class t extends es{constructor(e){super(new Xg,e)}getClassName(){return t.ClassName}};Ct.I16Value=w2;w2.ClassName="I16Value";var _2=class t extends es{constructor(e){super(new Zg,e)}getClassName(){return t.ClassName}};Ct.U32Value=_2;_2.ClassName="U32Value";var E2=class t extends es{constructor(e){super(new e1,e)}getClassName(){return t.ClassName}};Ct.I32Value=E2;E2.ClassName="I32Value";var A2=class t extends es{constructor(e){super(new t1,e)}getClassName(){return t.ClassName}};Ct.U64Value=A2;A2.ClassName="U64Value";var S2=class t extends es{constructor(e){super(new r1,e)}getClassName(){return t.ClassName}};Ct.I64Value=S2;S2.ClassName="I64Value";var x2=class t extends es{constructor(e){super(new n1,e)}getClassName(){return t.ClassName}};Ct.BigUIntValue=x2;x2.ClassName="BigUIntValue";var T2=class t extends es{constructor(e){super(new i1,e)}getClassName(){return t.ClassName}};Ct.BigIntValue=T2;T2.ClassName="BigIntValue"});var C2=R(wh=>{"use strict";l();Object.defineProperty(wh,"__esModule",{value:!0});wh.StringValue=wh.StringType=void 0;var fk=gn(),a1=class t extends fk.PrimitiveType{constructor(){super("utf-8 string")}getClassName(){return t.ClassName}};wh.StringType=a1;a1.ClassName="StringType";var I2=class t extends fk.PrimitiveValue{constructor(e){super(new a1),this.value=e}getClassName(){return t.ClassName}static fromUTF8(e){return new t(e)}static fromHex(e){let r=y.Buffer.from(e,"hex").toString();return new t(r)}getLength(){return this.value.length}equals(e){return this.value===e.value}valueOf(){return this.value}};wh.StringValue=I2;I2.ClassName="StringValue"});var Eh=R(_h=>{"use strict";l();Object.defineProperty(_h,"__esModule",{value:!0});_h.TokenIdentifierValue=_h.TokenIdentifierType=void 0;var lk=gn(),wme="EGLD",o1=class t extends lk.PrimitiveType{constructor(){super("TokenIdentifier")}getClassName(){return t.ClassName}};_h.TokenIdentifierType=o1;o1.ClassName="TokenIdentifierType";var N2=class t extends lk.PrimitiveValue{constructor(e){super(new o1),this.value=e}static egld(){return new t(wme)}static esdtTokenIdentifier(e){return new t(e)}getClassName(){return t.ClassName}getLength(){return this.value.length}equals(e){return this.getLength()!=e.getLength()?!1:this.value==e.value}valueOf(){return this.value}toString(){return this.value.toString()}};_h.TokenIdentifierValue=N2;N2.ClassName="TokenIdentifierValue"});var P2=R(Gs=>{"use strict";l();var _me=Gs&&Gs.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Eme=Gs&&Gs.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Ame=Gs&&Gs.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&_me(e,t,r);return Eme(e,t),e};Object.defineProperty(Gs,"__esModule",{value:!0});Gs.Tuple=Gs.TupleType=void 0;var Sme=Ame(It()),dk=ah(),hk=uh(),c1=class t extends hk.StructType{constructor(...e){super(t.prepareName(e),t.prepareFieldDefinitions(e))}getClassName(){return t.ClassName}static prepareName(e){return`tuple<${e.map(i=>i.toString()).join(", ")}>`}static prepareFieldDefinitions(e){return e.map((n,i)=>new dk.FieldDefinition(pk(i),"anonymous tuple field",n))}};Gs.TupleType=c1;c1.ClassName="TupleType";function pk(t){return`field${t}`}var O2=class t extends hk.Struct{constructor(e,r){super(e,r)}getClassName(){return t.ClassName}static fromItems(e){if(e.length<1)throw new Sme.ErrTypingSystem("bad tuple items");let r=e.map(s=>s.getType()),n=new c1(...r),i=e.map((s,a)=>new dk.Field(s,pk(a)));return new t(n,i)}};Gs.Tuple=O2;O2.ClassName="Tuple"});var M2=R(wu=>{"use strict";l();Object.defineProperty(wu,"__esModule",{value:!0});wu.VariadicValue=wu.CountedVariadicType=wu.VariadicType=void 0;var Ah=gn(),ol=class t extends Ah.Type{constructor(e,r=!1){super("Variadic",[e],Ah.TypeCardinality.variable()),this.isCounted=r}getClassName(){return t.ClassName}};wu.VariadicType=ol;ol.ClassName="VariadicType";var R2=class extends Ah.Type{constructor(e){super("Variadic",[e],Ah.TypeCardinality.variable())}getClassName(){return ol.ClassName}};wu.CountedVariadicType=R2;R2.ClassName="VariadicType";var D2=class t extends Ah.TypedValue{constructor(e,r){super(e),this.items=r}getClassName(){return t.ClassName}static fromItems(...e){return this.createFromItems(e,!1)}static fromItemsCounted(...e){return this.createFromItems(e,!0)}static createFromItems(e,r){if(e.length==0)return new t(new ol(new Ah.TypePlaceholder,r),[]);let n=e[0].getType();return new t(new ol(n,r),e)}getItems(){return this.items}valueOf(){return this.items.map(e=>e.valueOf())}equals(e){if(this.getType().differs(e.getType()))return!1;for(let r=0;r<this.items.length;r++){let n=this.items[r],i=e.items[r];if(!n.equals(i))return!1}return!0}};wu.VariadicValue=D2;D2.ClassName="VariadicValue"});var Y5=R(wo=>{"use strict";l();var xme=wo&&wo.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Tme=wo&&wo.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Ime=wo&&wo.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&xme(e,t,r);return Tme(e,t),e};Object.defineProperty(wo,"__esModule",{value:!0});wo.TypeMapper=void 0;var gk=Ime(It()),Cme=lh(),W5=Xb(),Nme=Fg(),Ome=mu(),Pme=kg(),B2=n2(),Q5=Dg(),Rme=ah(),yk=Gg(),bo=u2(),Dme=zg(),Mme=d2(),Bme=p2(),mk=y2(),js=s1(),Lme=C2(),vk=uh(),bk=Eh(),_u=P2(),L2=M2(),$5=class{constructor(e=[]){this.openTypesFactories=new Map([["Option",(...r)=>new yk.OptionType(r[0])],["List",(...r)=>new yk.ListType(r[0])],["VarArgs",(...r)=>new L2.VariadicType(r[0])],["MultiResultVec",(...r)=>new L2.VariadicType(r[0])],["variadic",(...r)=>new L2.VariadicType(r[0])],["counted-variadic",(...r)=>new L2.VariadicType(r[0],!0)],["OptionalArg",(...r)=>new W5.OptionalType(r[0])],["optional",(...r)=>new W5.OptionalType(r[0])],["OptionalResult",(...r)=>new W5.OptionalType(r[0])],["multi",(...r)=>new B2.CompositeType(...r)],["MultiArg",(...r)=>new B2.CompositeType(...r)],["MultiResult",(...r)=>new B2.CompositeType(...r)],["multi",(...r)=>new B2.CompositeType(...r)],["tuple",(...r)=>new _u.TupleType(...r)],["tuple2",(...r)=>new _u.TupleType(...r)],["tuple3",(...r)=>new _u.TupleType(...r)],["tuple4",(...r)=>new _u.TupleType(...r)],["tuple5",(...r)=>new _u.TupleType(...r)],["tuple6",(...r)=>new _u.TupleType(...r)],["tuple7",(...r)=>new _u.TupleType(...r)],["tuple8",(...r)=>new _u.TupleType(...r)],["array2",(...r)=>new bo.ArrayVecType(2,r[0])],["array8",(...r)=>new bo.ArrayVecType(8,r[0])],["array16",(...r)=>new bo.ArrayVecType(16,r[0])],["array20",(...r)=>new bo.ArrayVecType(20,r[0])],["array32",(...r)=>new bo.ArrayVecType(32,r[0])],["array46",(...r)=>new bo.ArrayVecType(46,r[0])],["array48",(...r)=>new bo.ArrayVecType(48,r[0])],["array64",(...r)=>new bo.ArrayVecType(64,r[0])],["array128",(...r)=>new bo.ArrayVecType(128,r[0])],["array256",(...r)=>new bo.ArrayVecType(256,r[0])],["ManagedDecimal",(...r)=>new Mme.ManagedDecimalType(r)],["ManagedDecimalSigned",(...r)=>new Bme.ManagedDecimalSignedType(r)]]),this.closedTypesMap=new Map([["u8",new js.U8Type],["u16",new js.U16Type],["u32",new js.U32Type],["u64",new js.U64Type],["U64",new js.U64Type],["BigUint",new js.BigUIntType],["i8",new js.I8Type],["i16",new js.I16Type],["i32",new js.I32Type],["i64",new js.I64Type],["Bigint",new js.BigIntType],["BigInt",new js.BigIntType],["bool",new Nme.BooleanType],["bytes",new Ome.BytesType],["Address",new Cme.AddressType],["H256",new Dme.H256Type],["utf-8 string",new Lme.StringType],["TokenIdentifier",new bk.TokenIdentifierType],["EgldOrEsdtTokenIdentifier",new bk.TokenIdentifierType],["CodeMetadata",new Pme.CodeMetadataType],["nothing",new mk.NothingType],["AsyncCall",new mk.NothingType]]),this.learnedTypesMap=new Map;for(let r of e)r.getName()==="ManagedDecimal"||r.getName()==="ManagedDecimalSigned"?this.learnedTypesMap.set(`${r.getName()}_${r.getMetadata()}`,r):this.learnedTypesMap.set(r.getName(),r)}mapType(e){let r=this.mapTypeRecursively(e);if(r)return r.isGenericType()||this.learnType(r),r;throw new gk.ErrTypingSystem(`Cannot map the type "${e.getName()}" to a known type`)}mapTypeRecursively(e){let r=e.isGenericType(),n=e.hasMetadata(),i=this.learnedTypesMap.get(e.getName());if(i)return i;let s=this.closedTypesMap.get(e.getName());return s||(e.hasExactClass(Q5.EnumType.ClassName)?this.mapEnumType(e):e.hasExactClass(vk.StructType.ClassName)?this.mapStructType(e):r||n?this.mapGenericType(e):null)}learnType(e){if(e.getName()==="ManagedDecimal"||e.getName()==="ManagedDecimalSigned"){let r=`${e.getName()}_${e.getMetadata()}`;this.learnedTypesMap.delete(r),this.learnedTypesMap.set(r,e)}else{let r=e.getName();this.learnedTypesMap.delete(r),this.learnedTypesMap.set(r,e)}}mapStructType(e){let r=this.mappedFields(e.getFieldsDefinitions());return new vk.StructType(e.getName(),r)}mapEnumType(e){let r=e.variants.map(i=>new Q5.EnumVariantDefinition(i.name,i.discriminant,this.mappedFields(i.getFieldsDefinitions())));return new Q5.EnumType(e.getName(),r)}mappedFields(e){return e.map(r=>new Rme.FieldDefinition(r.name,r.description,this.mapType(r.type)))}mapGenericType(e){let n=e.getTypeParameters().map(s=>this.mapType(s)),i=this.openTypesFactories.get(e.getName());if(!i)throw new gk.ErrTypingSystem(`Cannot map the generic type "${e.getName()}" to a known type`);return e.hasMetadata()?i(e.getMetadata()):i(...n)}};wo.TypeMapper=$5});var Ak=R(_o=>{"use strict";l();var qme=_o&&_o.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Fme=_o&&_o.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Ume=_o&&_o.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&qme(e,t,r);return Fme(e,t),e};Object.defineProperty(_o,"__esModule",{value:!0});_o.AbiRegistry=void 0;var wk=Ume(It()),u1=Ji(),Sh=L5(),_k=Dg(),X5=QU(),Ek=uh(),kme=Y5(),Vme="?",Z5=class t{constructor(e){this.endpoints=[],this.customTypes=[],this.events=[],this.name=e.name,this.constructorDefinition=e.constructorDefinition,this.upgradeConstructorDefinition=e.upgradeConstructorDefinition,this.endpoints=e.endpoints,this.customTypes=e.customTypes,this.events=e.events||[]}static create(e){let r=e.name||Vme,n=e.constructor||{},i=e.upgradeConstructor||{},s=e.endpoints||[],a=e.types||{},o=e.events||[],c=Sh.EndpointDefinition.fromJSON({name:"constructor",...n}),u=Sh.EndpointDefinition.fromJSON({name:"upgradeConstructor",...i}),f=s.map(P=>Sh.EndpointDefinition.fromJSON(P)),d=[];for(let P in a){let D=a[P];if(D.type=="struct")d.push(Ek.StructType.fromJSON({name:P,fields:D.fields}));else if(D.type=="enum"||D.type=="explicit-enum")d.push(_k.EnumType.fromJSON({name:P,variants:D.variants}));else throw new wk.ErrTypingSystem(`Cannot handle custom type: ${P}`)}let m=o.map(P=>X5.EventDefinition.fromJSON(P));return new t({name:r,constructorDefinition:c,upgradeConstructorDefinition:u,endpoints:f,customTypes:d,events:m}).remapToKnownTypes()}getCustomType(e){let r=this.customTypes.find(n=>n.getName()==e);return u1.guardValueIsSetWithMessage(`custom type [${e}] not found`,r),r}getStruct(e){let r=this.customTypes.find(n=>n.getName()==e&&n.hasExactClass(Ek.StructType.ClassName));return u1.guardValueIsSetWithMessage(`struct [${e}] not found`,r),r}getStructs(e){return e.map(r=>this.getStruct(r))}getEnum(e){let r=this.customTypes.find(n=>n.getName()==e&&n.hasExactClass(_k.EnumType.ClassName));return u1.guardValueIsSetWithMessage(`enum [${e}] not found`,r),r}getEnums(e){return e.map(r=>this.getEnum(r))}getEndpoints(){return this.endpoints}getEndpoint(e){let r=this.endpoints.find(n=>n.name==e);return u1.guardValueIsSetWithMessage(`endpoint [${e}] not found`,r),r}getEvent(e){let r=this.events.find(n=>n.identifier==e);return u1.guardValueIsSetWithMessage(`event [${e}] not found`,r),r}remapToKnownTypes(){let e=new kme.TypeMapper([]),r=[];for(let c of this.customTypes)this.mapCustomTypeDepthFirst(c,this.customTypes,e,r);if(this.customTypes.length!=r.length)throw new wk.ErrTypingSystem("Did not re-map all custom types");let n=J5(this.constructorDefinition,e),i=this.upgradeConstructorDefinition?J5(this.upgradeConstructorDefinition,e):void 0,s=[];for(let c of this.endpoints)s.push(J5(c,e));let a=this.events.map(c=>Hme(c,e));return new t({name:this.name,constructorDefinition:n,upgradeConstructorDefinition:i,endpoints:s,customTypes:r,events:a})}mapCustomTypeDepthFirst(e,r,n,i){if(i.findIndex(o=>o.getName()==e.getName())>=0)return;for(let o of e.getNamesOfDependencies()){let c=r.find(u=>u.getName()==o);c&&this.mapCustomTypeDepthFirst(c,r,n,i)}let a=n.mapType(e);i.push(a)}};_o.AbiRegistry=Z5;function J5(t,e){let r=t.input.map(i=>new Sh.EndpointParameterDefinition(i.name,i.description,e.mapType(i.type))),n=t.output.map(i=>new Sh.EndpointParameterDefinition(i.name,i.description,e.mapType(i.type)));return new Sh.EndpointDefinition(t.name,r,n,t.modifiers,t.title)}function Hme(t,e){let r=t.inputs.map(n=>new X5.EventTopicDefinition({name:n.name,type:e.mapType(n.type),indexed:n.indexed}));return new X5.EventDefinition(t.identifier,r)}});var xk=R(xh=>{"use strict";l();Object.defineProperty(xh,"__esModule",{value:!0});xh.createListOfTokenIdentifiers=xh.createListOfAddresses=void 0;var Gme=lh(),Sk=Gg(),jme=Eh();function zme(t){let e=t.map(n=>new Gme.AddressValue(n));return Sk.List.fromItems(e)}xh.createListOfAddresses=zme;function Kme(t){let e=t.map(n=>new jme.TokenIdentifierValue(n));return Sk.List.fromItems(e)}xh.createListOfTokenIdentifiers=Kme});var Hk=R(vi=>{"use strict";l();var Wme=vi&&vi.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Qme=vi&&vi.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),$me=vi&&vi.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Wme(e,t,r);return Qme(e,t),e};Object.defineProperty(vi,"__esModule",{value:!0});vi.onPrimitiveTypeSelect=vi.onPrimitiveValueSelect=vi.onTypedValueSelect=vi.onTypeSelect=void 0;var F2=$me(It()),Tk=lh(),Ik=Fg(),Ck=mu(),Nk=kg(),Ok=Dg(),q2=Gg(),Pk=zg(),Rk=s1(),Dk=y2(),Mk=uh(),Bk=Eh(),Lk=P2(),qk=gn(),Fk=u2(),Uk=C2(),kk=d2(),Vk=p2();function Yme(t,e){if(t.hasExactClass(q2.OptionType.ClassName))return e.onOption();if(t.hasExactClass(q2.ListType.ClassName))return e.onList();if(t.hasExactClass(Fk.ArrayVecType.ClassName))return e.onArray();if(t.hasClassOrSuperclass(qk.PrimitiveType.ClassName))return e.onPrimitive();if(t.hasExactClass(Mk.StructType.ClassName))return e.onStruct();if(t.hasExactClass(Lk.TupleType.ClassName))return e.onTuple();if(t.hasExactClass(Ok.EnumType.ClassName))return e.onEnum();if(t.hasExactClass(kk.ManagedDecimalType.ClassName))return e.onManagedDecimal();if(t.hasExactClass(Vk.ManagedDecimalSignedType.ClassName))return e.onManagedDecimalSigned();if(e.onOther)return e.onOther();throw new F2.ErrTypingSystem(`type isn't known: ${t}`)}vi.onTypeSelect=Yme;function Jme(t,e){if(t.hasClassOrSuperclass(qk.PrimitiveValue.ClassName))return e.onPrimitive();if(t.hasExactClass(q2.OptionValue.ClassName))return e.onOption();if(t.hasExactClass(q2.List.ClassName))return e.onList();if(t.hasExactClass(Fk.ArrayVec.ClassName))return e.onArray();if(t.hasExactClass(Mk.Struct.ClassName))return e.onStruct();if(t.hasExactClass(Lk.Tuple.ClassName))return e.onTuple();if(t.hasExactClass(Ok.EnumValue.ClassName))return e.onEnum();if(t.hasExactClass(kk.ManagedDecimalValue.ClassName))return e.onManagedDecimal();if(t.hasExactClass(Vk.ManagedDecimalSignedValue.ClassName))return e.onManagedDecimalSigned();if(e.onOther)return e.onOther();throw new F2.ErrTypingSystem(`value isn't typed: ${t}`)}vi.onTypedValueSelect=Jme;function Xme(t,e){if(t.hasExactClass(Ik.BooleanValue.ClassName))return e.onBoolean();if(t.hasClassOrSuperclass(Rk.NumericalValue.ClassName))return e.onNumerical();if(t.hasExactClass(Tk.AddressValue.ClassName))return e.onAddress();if(t.hasExactClass(Ck.BytesValue.ClassName))return e.onBytes();if(t.hasExactClass(Uk.StringValue.ClassName))return e.onString();if(t.hasExactClass(Pk.H256Value.ClassName))return e.onH256();if(t.hasExactClass(Bk.TokenIdentifierValue.ClassName))return e.onTypeIdentifier();if(t.hasExactClass(Nk.CodeMetadataValue.ClassName))return e.onCodeMetadata();if(t.hasExactClass(Dk.NothingValue.ClassName))return e.onNothing();if(e.onOther)return e.onOther();throw new F2.ErrTypingSystem(`value isn't a primitive: ${t.getType()}`)}vi.onPrimitiveValueSelect=Xme;function Zme(t,e){if(t.hasExactClass(Ik.BooleanType.ClassName))return e.onBoolean();if(t.hasClassOrSuperclass(Rk.NumericalType.ClassName))return e.onNumerical();if(t.hasExactClass(Tk.AddressType.ClassName))return e.onAddress();if(t.hasExactClass(Ck.BytesType.ClassName))return e.onBytes();if(t.hasExactClass(Uk.StringType.ClassName))return e.onString();if(t.hasExactClass(Pk.H256Type.ClassName))return e.onH256();if(t.hasExactClass(Bk.TokenIdentifierType.ClassName))return e.onTokenIndetifier();if(t.hasExactClass(Nk.CodeMetadataType.ClassName))return e.onCodeMetadata();if(t.hasExactClass(Dk.NothingType.ClassName))return e.onNothing();if(e.onOther)return e.onOther();throw new F2.ErrTypingSystem(`type isn't a known primitive: ${t}`)}vi.onPrimitiveTypeSelect=Zme});var dn=R(Tr=>{"use strict";l();var eve=Tr&&Tr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),zr=Tr&&Tr.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&eve(e,t,r)};Object.defineProperty(Tr,"__esModule",{value:!0});zr(Ak(),Tr);zr(lh(),Tr);zr(Xb(),Tr);zr(Fg(),Tr);zr(mu(),Tr);zr(kg(),Tr);zr(n2(),Tr);zr(L5(),Tr);zr(Dg(),Tr);zr(xk(),Tr);zr(ah(),Tr);zr(Gg(),Tr);zr(u2(),Tr);zr(zg(),Tr);zr(Hk(),Tr);zr(y2(),Tr);zr(s1(),Tr);zr(C2(),Tr);zr(uh(),Tr);zr(Eh(),Tr);zr(P2(),Tr);zr(Pg(),Tr);zr(Y5(),Tr);zr(gn(),Tr);zr(M2(),Tr);zr(d2(),Tr);zr(p2(),Tr)});var jk=R(Eo=>{"use strict";l();var tve=Eo&&Eo.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),rve=Eo&&Eo.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),nve=Eo&&Eo.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&tve(e,t,r);return rve(e,t),e};Object.defineProperty(Eo,"__esModule",{value:!0});Eo.OptionValueBinaryCodec=void 0;var Gk=nve(It()),U2=dn(),ex=class{constructor(e){this.binaryCodec=e}decodeNested(e,r){if(e[0]==0)return[U2.OptionValue.newMissingTyped(r),1];if(e[0]!=1)throw new Gk.ErrCodec("invalid buffer for optional value");let[n,i]=this.binaryCodec.decodeNested(e.slice(1),r);return[U2.OptionValue.newProvided(n),i+1]}decodeTopLevel(e,r){if(e.length==0)return new U2.OptionValue(r);if(e[0]!=1)throw new Gk.ErrCodec("invalid buffer for optional value");let[n,i]=this.binaryCodec.decodeNested(e.slice(1),r);return new U2.OptionValue(r,n)}encodeNested(e){return e.isSet()?y.Buffer.concat([y.Buffer.from([1]),this.binaryCodec.encodeNested(e.getTypedValue())]):y.Buffer.from([0])}encodeTopLevel(e){return e.isSet()?y.Buffer.concat([y.Buffer.from([1]),this.binaryCodec.encodeNested(e.getTypedValue())]):y.Buffer.from([])}};Eo.OptionValueBinaryCodec=ex});var zk=R(k2=>{"use strict";l();Object.defineProperty(k2,"__esModule",{value:!0});k2.AddressBinaryCodec=void 0;var ive=qt(),sve=dn(),tx=class{decodeNested(e){let r=e.slice(0,32),n=new ive.Address(r);return[new sve.AddressValue(n),32]}decodeTopLevel(e){let[r,n]=this.decodeNested(e);return r}encodeNested(e){return e.valueOf().pubkey()}encodeTopLevel(e){return e.valueOf().pubkey()}};k2.AddressBinaryCodec=tx});var Wk=R(Ao=>{"use strict";l();var ave=Ao&&Ao.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ove=Ao&&Ao.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),cve=Ao&&Ao.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&ave(e,t,r);return ove(e,t),e};Object.defineProperty(Ao,"__esModule",{value:!0});Ao.BooleanBinaryCodec=void 0;var uve=cve(It()),Kk=dn(),f1=class t{decodeNested(e){let r=e.readUInt8(0);return[new Kk.BooleanValue(r==t.TRUE),1]}decodeTopLevel(e){if(e.length>1)throw new uve.ErrInvalidArgument("buffer should be of size <= 1");let r=e[0];return new Kk.BooleanValue(r==t.TRUE)}encodeNested(e){return e.isTrue()?y.Buffer.from([t.TRUE]):y.Buffer.from([t.FALSE])}encodeTopLevel(e){return e.isTrue()?y.Buffer.from([t.TRUE]):y.Buffer.from([])}};Ao.BooleanBinaryCodec=f1;f1.TRUE=1;f1.FALSE=0});var Th=R(V2=>{"use strict";l();Object.defineProperty(V2,"__esModule",{value:!0});V2.SizeOfU32=void 0;V2.SizeOfU32=4});var $k=R(Ih=>{"use strict";l();var fve=Ih&&Ih.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ih,"__esModule",{value:!0});Ih.NumericalBinaryCodec=void 0;var l1=fve(Pr()),rx=dn(),Qk=Th(),Tn=au(),nx=class{decodeNested(e,r){let n=0,i=r.sizeInBytes;i||(n=Qk.SizeOfU32,i=e.readUInt32BE(0));let s=e.slice(n,n+i),a=this.decodeTopLevel(s,r),o=i+n;return[a,o]}decodeTopLevel(e,r){let n=Tn.cloneBuffer(e);if(e.length==0)return new rx.NumericalValue(r,new l1.default(0));if(!r.withSign||Tn.isMsbZero(n)){let u=Tn.bufferToBigInt(n);return new rx.NumericalValue(r,u)}Tn.flipBufferBitsInPlace(n);let c=Tn.bufferToBigInt(n).multipliedBy(new l1.default(-1)).minus(new l1.default(1));return new rx.NumericalValue(r,c)}encodeNested(e){if(e.sizeInBytes)return this.encodeNestedFixedSize(e,e.sizeInBytes);let r=this.encodeTopLevel(e),n=y.Buffer.alloc(Qk.SizeOfU32);return n.writeUInt32BE(r.length),y.Buffer.concat([n,r])}encodeNestedFixedSize(e,r){if(e.value.isZero())return y.Buffer.alloc(r,0);if(!e.withSign){let a=Tn.bigIntToBuffer(e.value),o=y.Buffer.alloc(r-a.length,0);return y.Buffer.concat([o,a])}if(e.value.isPositive()){let a=Tn.bigIntToBuffer(e.value);Tn.isMsbOne(a)&&(a=Tn.prependByteToBuffer(a,0));let o=y.Buffer.alloc(r-a.length,0);return y.Buffer.concat([o,a])}let n=e.value.plus(new l1.default(1)),i=Tn.bigIntToBuffer(n);Tn.flipBufferBitsInPlace(i),Tn.isMsbZero(i)&&(i=Tn.prependByteToBuffer(i,255));let s=y.Buffer.alloc(r-i.length,255);return y.Buffer.concat([s,i])}encodeTopLevel(e){let r=e.withSign;return e.value.isZero()?y.Buffer.alloc(0):r?this.encodePrimitive(e):Tn.bigIntToBuffer(e.value)}encodePrimitive(e){if(e.value.isPositive()){let i=Tn.bigIntToBuffer(e.value);return Tn.isMsbOne(i)&&(i=Tn.prependByteToBuffer(i,0)),i}let r=e.value.plus(new l1.default(1)),n=Tn.bigIntToBuffer(r);return Tn.flipBufferBitsInPlace(n),Tn.isMsbZero(n)&&(n=Tn.prependByteToBuffer(n,255)),n}};Ih.NumericalBinaryCodec=nx});var Yk=R(H2=>{"use strict";l();Object.defineProperty(H2,"__esModule",{value:!0});H2.H256BinaryCodec=void 0;var lve=zg(),ix=class{decodeNested(e){let r=e.slice(0,32);return[new lve.H256Value(r),32]}decodeTopLevel(e){let[r,n]=this.decodeNested(e);return r}encodeNested(e){return e.valueOf()}encodeTopLevel(e){return e.valueOf()}};H2.H256BinaryCodec=ix});var z2=R(j2=>{"use strict";l();Object.defineProperty(j2,"__esModule",{value:!0});j2.BytesBinaryCodec=void 0;var Jk=mu(),G2=Th(),sx=class{decodeNested(e){let r=e.readUInt32BE(0),n=e.slice(G2.SizeOfU32,G2.SizeOfU32+r);return[new Jk.BytesValue(n),G2.SizeOfU32+r]}decodeTopLevel(e){return new Jk.BytesValue(e)}encodeNested(e){let r=y.Buffer.alloc(G2.SizeOfU32);return r.writeUInt32BE(e.getLength()),y.Buffer.concat([r,e.valueOf()])}encodeTopLevel(e){return e.valueOf()}};j2.BytesBinaryCodec=sx});var Zk=R(K2=>{"use strict";l();Object.defineProperty(K2,"__esModule",{value:!0});K2.TokenIdentifierCodec=void 0;var dve=mu(),Xk=Eh(),hve=z2(),ax=class{constructor(){this.bytesCodec=new hve.BytesBinaryCodec}decodeNested(e){let[r,n]=this.bytesCodec.decodeNested(e);return[new Xk.TokenIdentifierValue(r.toString()),n]}decodeTopLevel(e){let r=this.bytesCodec.decodeTopLevel(e);return new Xk.TokenIdentifierValue(r.toString())}encodeNested(e){let r=dve.BytesValue.fromUTF8(e.valueOf());return this.bytesCodec.encodeNested(r)}encodeTopLevel(e){return y.Buffer.from(e.valueOf())}};K2.TokenIdentifierCodec=ax});var Q2=R(W2=>{"use strict";l();Object.defineProperty(W2,"__esModule",{value:!0});W2.CodeMetadata=void 0;var Ch=class t{constructor(e=!0,r=!1,n=!1,i=!1){this.upgradeable=e,this.readable=r,this.payable=n,this.payableBySc=i}static fromBytes(e){return t.fromBuffer(y.Buffer.from(e))}static fromBuffer(e){if(e.length<this.codeMetadataLength)throw new Error("Buffer is too short.");let r=e[0],n=e[1],i=(r&t.ByteZero.Upgradeable)!==0,s=(r&t.ByteZero.Readable)!==0,a=(n&t.ByteOne.Payable)!==0,o=(n&t.ByteOne.PayableBySc)!==0;return new t(i,s,a,o)}toggleUpgradeable(e){this.upgradeable=e}toggleReadable(e){this.readable=e}togglePayable(e){this.payable=e}togglePayableBySc(e){this.payableBySc=e}toBuffer(){let e=0,r=0;return this.upgradeable&&(e|=t.ByteZero.Upgradeable),this.readable&&(e|=t.ByteZero.Readable),this.payable&&(r|=t.ByteOne.Payable),this.payableBySc&&(r|=t.ByteOne.PayableBySc),y.Buffer.from([e,r])}toString(){return this.toBuffer().toString("hex")}toJSON(){return{upgradeable:this.upgradeable,readable:this.readable,payable:this.payable,payableBySc:this.payableBySc}}equals(e){return this.upgradeable==e.upgradeable&&this.readable==e.readable&&this.payable==e.payable&&this.payableBySc==e.payableBySc}};W2.CodeMetadata=Ch;Ch.codeMetadataLength=2;Ch.ByteZero={Upgradeable:1,Reserved2:2,Readable:4};Ch.ByteOne={Reserved1:1,Payable:2,PayableBySc:4}});var rV=R($2=>{"use strict";l();Object.defineProperty($2,"__esModule",{value:!0});$2.CodeMetadataCodec=void 0;var eV=Q2(),tV=kg(),ox=class{decodeNested(e){let r=eV.CodeMetadata.fromBuffer(e);return[new tV.CodeMetadataValue(r),length]}decodeTopLevel(e){let r=eV.CodeMetadata.fromBuffer(e);return new tV.CodeMetadataValue(r)}encodeNested(e){return e.valueOf().toBuffer()}encodeTopLevel(e){return e.valueOf().toBuffer()}};$2.CodeMetadataCodec=ox});var iV=R(Y2=>{"use strict";l();Object.defineProperty(Y2,"__esModule",{value:!0});Y2.NothingCodec=void 0;var nV=dn(),cx=class{decodeNested(){return[new nV.NothingValue,0]}decodeTopLevel(){return new nV.NothingValue}encodeNested(){return y.Buffer.from([])}encodeTopLevel(){return y.Buffer.from([])}};Y2.NothingCodec=cx});var aV=R(J2=>{"use strict";l();Object.defineProperty(J2,"__esModule",{value:!0});J2.StringBinaryCodec=void 0;var sV=dn(),pve=mu(),gve=z2(),ux=class{constructor(){this.bytesBinaryCodec=new gve.BytesBinaryCodec}decodeNested(e){let[r,n]=this.bytesBinaryCodec.decodeNested(e);return[new sV.StringValue(r.valueOf().toString()),n]}decodeTopLevel(e){return new sV.StringValue(e.toString())}encodeNested(e){let r=pve.BytesValue.fromUTF8(e.valueOf());return this.bytesBinaryCodec.encodeNested(r)}encodeTopLevel(e){return y.Buffer.from(e.valueOf())}};J2.StringBinaryCodec=ux});var oV=R(Z2=>{"use strict";l();Object.defineProperty(Z2,"__esModule",{value:!0});Z2.PrimitiveBinaryCodec=void 0;var X2=dn(),yve=zk(),mve=Wk(),vve=$k(),bve=Yk(),wve=z2(),_ve=Zk(),Eve=rV(),Ave=iV(),Sve=aV(),fx=class{constructor(e){this.binaryCodec=e,this.booleanCodec=new mve.BooleanBinaryCodec,this.numericalCodec=new vve.NumericalBinaryCodec,this.addressCodec=new yve.AddressBinaryCodec,this.h256Codec=new bve.H256BinaryCodec,this.bytesCodec=new wve.BytesBinaryCodec,this.stringCodec=new Sve.StringBinaryCodec,this.tokenIdentifierCodec=new _ve.TokenIdentifierCodec,this.codeMetadataCodec=new Eve.CodeMetadataCodec,this.nothingCodec=new Ave.NothingCodec}decodeNested(e,r){return X2.onPrimitiveTypeSelect(r,{onBoolean:()=>this.booleanCodec.decodeNested(e),onNumerical:()=>this.numericalCodec.decodeNested(e,r),onAddress:()=>this.addressCodec.decodeNested(e),onBytes:()=>this.bytesCodec.decodeNested(e),onString:()=>this.stringCodec.decodeNested(e),onH256:()=>this.h256Codec.decodeNested(e),onTokenIndetifier:()=>this.tokenIdentifierCodec.decodeNested(e),onCodeMetadata:()=>this.codeMetadataCodec.decodeNested(e),onNothing:()=>this.nothingCodec.decodeNested()})}decodeTopLevel(e,r){return X2.onPrimitiveTypeSelect(r,{onBoolean:()=>this.booleanCodec.decodeTopLevel(e),onNumerical:()=>this.numericalCodec.decodeTopLevel(e,r),onAddress:()=>this.addressCodec.decodeTopLevel(e),onBytes:()=>this.bytesCodec.decodeTopLevel(e),onString:()=>this.stringCodec.decodeTopLevel(e),onH256:()=>this.h256Codec.decodeTopLevel(e),onTokenIndetifier:()=>this.tokenIdentifierCodec.decodeTopLevel(e),onCodeMetadata:()=>this.codeMetadataCodec.decodeTopLevel(e),onNothing:()=>this.nothingCodec.decodeTopLevel()})}encodeNested(e){return X2.onPrimitiveValueSelect(e,{onBoolean:()=>this.booleanCodec.encodeNested(e),onNumerical:()=>this.numericalCodec.encodeNested(e),onAddress:()=>this.addressCodec.encodeNested(e),onBytes:()=>this.bytesCodec.encodeNested(e),onString:()=>this.stringCodec.encodeNested(e),onH256:()=>this.h256Codec.encodeNested(e),onTypeIdentifier:()=>this.tokenIdentifierCodec.encodeNested(e),onCodeMetadata:()=>this.codeMetadataCodec.encodeNested(e),onNothing:()=>this.nothingCodec.encodeNested()})}encodeTopLevel(e){return X2.onPrimitiveValueSelect(e,{onBoolean:()=>this.booleanCodec.encodeTopLevel(e),onNumerical:()=>this.numericalCodec.encodeTopLevel(e),onAddress:()=>this.addressCodec.encodeTopLevel(e),onBytes:()=>this.bytesCodec.encodeTopLevel(e),onString:()=>this.stringCodec.encodeTopLevel(e),onH256:()=>this.h256Codec.encodeTopLevel(e),onTypeIdentifier:()=>this.tokenIdentifierCodec.encodeTopLevel(e),onCodeMetadata:()=>this.codeMetadataCodec.encodeTopLevel(e),onNothing:()=>this.nothingCodec.encodeTopLevel()})}};Z2.PrimitiveBinaryCodec=fx});var fV=R(ew=>{"use strict";l();Object.defineProperty(ew,"__esModule",{value:!0});ew.ListBinaryCodec=void 0;var cV=dn(),uV=Th(),lx=class{constructor(e){this.binaryCodec=e}decodeNested(e,r){let n=r.getFirstTypeParameter(),i=[],s=e.readUInt32BE(0);this.binaryCodec.constraints.checkListLength(s);let a=e,o=uV.SizeOfU32;e=a.slice(o);for(let c=0;c<s;c++){let[u,f]=this.binaryCodec.decodeNested(e,n);i.push(u),o+=f,e=a.slice(o)}return[new cV.List(r,i),o]}decodeTopLevel(e,r){let n=r.getFirstTypeParameter(),i=[],s=e,a=0;for(;e.length>0;){let[o,c]=this.binaryCodec.decodeNested(e,n);i.push(o),a+=c,e=s.slice(a),this.binaryCodec.constraints.checkListLength(i.length)}return new cV.List(r,i)}encodeNested(e){this.binaryCodec.constraints.checkListLength(e.getLength());let r=y.Buffer.alloc(uV.SizeOfU32);r.writeUInt32BE(e.getLength());let n=[];for(let s of e.getItems()){let a=this.binaryCodec.encodeNested(s);n.push(a)}return y.Buffer.concat([r,...n])}encodeTopLevel(e){this.binaryCodec.constraints.checkListLength(e.getLength());let r=[];for(let i of e.getItems()){let s=this.binaryCodec.encodeNested(i);r.push(s)}return y.Buffer.concat(r)}};ew.ListBinaryCodec=lx});var hx=R(tw=>{"use strict";l();Object.defineProperty(tw,"__esModule",{value:!0});tw.FieldsBinaryCodec=void 0;var xve=dn(),dx=class{constructor(e){this.binaryCodec=e}decodeNested(e,r){let n=[],i=0;for(let s of r){let[a,o]=this.binaryCodec.decodeNested(e,s.type);e=e.slice(o),i+=o;let c=new xve.Field(a,s.name);n.push(c)}return[n,i]}encodeNested(e){let r=[];for(let n of e){let i=this.binaryCodec.encodeNested(n.value);r.push(i)}return y.Buffer.concat(r)}};tw.FieldsBinaryCodec=dx});var gx=R(rw=>{"use strict";l();Object.defineProperty(rw,"__esModule",{value:!0});rw.StructBinaryCodec=void 0;var Tve=dn(),Ive=hx(),px=class{constructor(e){this.fieldsCodec=new Ive.FieldsBinaryCodec(e)}decodeTopLevel(e,r){let[n]=this.decodeNested(e,r);return n}decodeNested(e,r){let n=r.getFieldsDefinitions(),[i,s]=this.fieldsCodec.decodeNested(e,n);return[new Tve.Struct(r,i),s]}encodeNested(e){let r=e.getFields();return this.fieldsCodec.encodeNested(r)}encodeTopLevel(e){return this.encodeNested(e)}};rw.StructBinaryCodec=px});var lV=R(iw=>{"use strict";l();Object.defineProperty(iw,"__esModule",{value:!0});iw.EnumBinaryCodec=void 0;var nw=dn(),Cve=hx(),yx=class{constructor(e){this.binaryCodec=e,this.fieldsCodec=new Cve.FieldsBinaryCodec(e)}decodeTopLevel(e,r){let[n]=this.decodeNested(e,r);return n}decodeNested(e,r){let[n,i]=this.readDiscriminant(e);e=e.slice(i);let s=r.getVariantByDiscriminant(n),a=s.getFieldsDefinitions(),[o,c]=this.fieldsCodec.decodeNested(e,a);return[new nw.EnumValue(r,s,o),i+c]}readDiscriminant(e){let[r,n]=this.binaryCodec.decodeNested(e,new nw.U8Type);return[r.valueOf(),n]}encodeNested(e){let r=new nw.U8Value(e.discriminant),n=this.binaryCodec.encodeNested(r),i=e.getFields(),s=this.fieldsCodec.encodeNested(i);return y.Buffer.concat([n,s])}encodeTopLevel(e){let r=e.getFields(),n=r.length>0,i=this.fieldsCodec.encodeNested(r),s=new nw.U8Value(e.discriminant),a=n?this.binaryCodec.encodeNested(s):this.binaryCodec.encodeTopLevel(s);return y.Buffer.concat([a,i])}};iw.EnumBinaryCodec=yx});var dV=R(sw=>{"use strict";l();Object.defineProperty(sw,"__esModule",{value:!0});sw.TupleBinaryCodec=void 0;var Nve=gx(),mx=class{constructor(e){this.structCodec=new Nve.StructBinaryCodec(e)}decodeTopLevel(e,r){return this.structCodec.decodeTopLevel(e,r)}decodeNested(e,r){return this.structCodec.decodeNested(e,r)}encodeNested(e){return this.structCodec.encodeNested(e)}encodeTopLevel(e){return this.structCodec.encodeTopLevel(e)}};sw.TupleBinaryCodec=mx});var hV=R(aw=>{"use strict";l();Object.defineProperty(aw,"__esModule",{value:!0});aw.ArrayVecBinaryCodec=void 0;var Ove=dn(),vx=class{constructor(e){this.binaryCodec=e}decodeNested(e,r){let n=r.length,i=r.getFirstTypeParameter(),s=[],a=0;for(let o=0;o<n;o++){let[c,u]=this.binaryCodec.decodeNested(e,i);s.push(c),a+=u,e=e.slice(u)}return[new Ove.ArrayVec(r,s),a]}decodeTopLevel(e,r){let[n,i]=this.decodeNested(e,r);return n}encodeNested(e){let r=[];for(let n of e.getItems()){let i=this.binaryCodec.encodeNested(n);r.push(i)}return y.Buffer.concat(r)}encodeTopLevel(e){return this.encodeNested(e)}};aw.ArrayVecBinaryCodec=vx});var pV=R(Oh=>{"use strict";l();var Pve=Oh&&Oh.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Oh,"__esModule",{value:!0});Oh.ManagedDecimalCodec=void 0;var Rve=Pve(Pr()),Nh=dn(),Dve=au(),Mve=Th(),bx=class{constructor(e){this.binaryCodec=e}decodeNested(e,r){let n=e.readUInt32BE(0),i=e.slice(0,n);return[this.decodeTopLevel(i,r),n]}decodeTopLevel(e,r){if(e.length===0)return new Nh.ManagedDecimalValue(new Rve.default(0),0);if(r.isVariable()){let a=e.length-Mve.SizeOfU32,[o]=this.binaryCodec.decodeNested(e.slice(0,a),new Nh.BigUIntType),c=e.readUInt32BE(a);return new Nh.ManagedDecimalValue(o.valueOf().shiftedBy(-c),c)}let n=Dve.bufferToBigInt(e),i=r.getMetadata(),s=i!=="usize"?parseInt(i.toString()):0;return new Nh.ManagedDecimalValue(n.shiftedBy(-s),s)}encodeNested(e){let r=[],n=new Nh.BigUIntValue(e.valueOf().shiftedBy(e.getScale()));return e.isVariable()?(r.push(y.Buffer.from(this.binaryCodec.encodeNested(n))),r.push(y.Buffer.from(this.binaryCodec.encodeNested(new Nh.U32Value(e.getScale()))))):r.push(this.binaryCodec.encodeTopLevel(n)),y.Buffer.concat(r)}encodeTopLevel(e){return this.encodeNested(e)}};Oh.ManagedDecimalCodec=bx});var gV=R(Rh=>{"use strict";l();var Bve=Rh&&Rh.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Rh,"__esModule",{value:!0});Rh.ManagedDecimalSignedCodec=void 0;var Lve=Bve(Pr()),Ph=dn(),qve=au(),Fve=Th(),wx=class{constructor(e){this.binaryCodec=e}decodeNested(e,r){let n=e.readUInt32BE(0),i=e.slice(0,n);return[this.decodeTopLevel(i,r),n]}decodeTopLevel(e,r){if(e.length===0)return new Ph.ManagedDecimalSignedValue(new Lve.default(0),0);if(r.isVariable()){let a=e.length-Fve.SizeOfU32,[o]=this.binaryCodec.decodeNested(e.slice(0,a),new Ph.BigIntType),c=e.readUInt32BE(a);return new Ph.ManagedDecimalSignedValue(o.valueOf().shiftedBy(-c),c)}let n=qve.bufferToBigInt(e),i=r.getMetadata(),s=i!=="usize"?parseInt(i.toString()):0;return new Ph.ManagedDecimalSignedValue(n.shiftedBy(-s),s)}encodeNested(e){let r=[],n=new Ph.BigIntValue(e.valueOf().shiftedBy(e.getScale()));return e.isVariable()?(r.push(y.Buffer.from(this.binaryCodec.encodeNested(n))),r.push(y.Buffer.from(this.binaryCodec.encodeNested(new Ph.U32Value(e.getScale()))))):r.push(y.Buffer.from(this.binaryCodec.encodeTopLevel(n))),y.Buffer.concat(r)}encodeTopLevel(e){return this.encodeNested(e)}};Rh.ManagedDecimalSignedCodec=wx});var Ex=R(zs=>{"use strict";l();var Uve=zs&&zs.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),kve=zs&&zs.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Vve=zs&&zs.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Uve(e,t,r);return kve(e,t),e};Object.defineProperty(zs,"__esModule",{value:!0});zs.BinaryCodecConstraints=zs.BinaryCodec=void 0;var yV=Vve(It()),ow=dn(),mV=Ji(),Hve=jk(),Gve=oV(),jve=fV(),zve=gx(),Kve=lV(),Wve=dV(),Qve=hV(),$ve=pV(),Yve=gV(),_x=class{constructor(e=null){this.constraints=e||new cw,this.optionCodec=new Hve.OptionValueBinaryCodec(this),this.listCodec=new jve.ListBinaryCodec(this),this.arrayCodec=new Qve.ArrayVecBinaryCodec(this),this.primitiveCodec=new Gve.PrimitiveBinaryCodec(this),this.structCodec=new zve.StructBinaryCodec(this),this.tupleCodec=new Wve.TupleBinaryCodec(this),this.enumCodec=new Kve.EnumBinaryCodec(this),this.managedDecimalCodec=new $ve.ManagedDecimalCodec(this),this.managedDecimalSignedCodec=new Yve.ManagedDecimalSignedCodec(this)}decodeTopLevel(e,r){return this.constraints.checkBufferLength(e),ow.onTypeSelect(r,{onOption:()=>this.optionCodec.decodeTopLevel(e,r.getFirstTypeParameter()),onList:()=>this.listCodec.decodeTopLevel(e,r),onArray:()=>this.arrayCodec.decodeTopLevel(e,r),onPrimitive:()=>this.primitiveCodec.decodeTopLevel(e,r),onStruct:()=>this.structCodec.decodeTopLevel(e,r),onTuple:()=>this.tupleCodec.decodeTopLevel(e,r),onEnum:()=>this.enumCodec.decodeTopLevel(e,r),onManagedDecimal:()=>this.managedDecimalCodec.decodeTopLevel(e,r),onManagedDecimalSigned:()=>this.managedDecimalSignedCodec.decodeTopLevel(e,r)})}decodeNested(e,r){this.constraints.checkBufferLength(e);let[n,i]=ow.onTypeSelect(r,{onOption:()=>this.optionCodec.decodeNested(e,r.getFirstTypeParameter()),onList:()=>this.listCodec.decodeNested(e,r),onArray:()=>this.arrayCodec.decodeNested(e,r),onPrimitive:()=>this.primitiveCodec.decodeNested(e,r),onStruct:()=>this.structCodec.decodeNested(e,r),onTuple:()=>this.tupleCodec.decodeNested(e,r),onEnum:()=>this.enumCodec.decodeNested(e,r),onManagedDecimal:()=>this.managedDecimalCodec.decodeNested(e,r),onManagedDecimalSigned:()=>this.managedDecimalSignedCodec.decodeNested(e,r)});return[n,i]}encodeNested(e){return mV.guardTrue(e.getType().getCardinality().isSingular(),"singular cardinality, thus encodable type"),ow.onTypedValueSelect(e,{onPrimitive:()=>this.primitiveCodec.encodeNested(e),onOption:()=>this.optionCodec.encodeNested(e),onList:()=>this.listCodec.encodeNested(e),onArray:()=>this.arrayCodec.encodeNested(e),onStruct:()=>this.structCodec.encodeNested(e),onTuple:()=>this.tupleCodec.encodeNested(e),onEnum:()=>this.enumCodec.encodeNested(e),onManagedDecimal:()=>this.managedDecimalCodec.encodeNested(e),onManagedDecimalSigned:()=>this.managedDecimalSignedCodec.encodeNested(e)})}encodeTopLevel(e){return mV.guardTrue(e.getType().getCardinality().isSingular(),"singular cardinality, thus encodable type"),ow.onTypedValueSelect(e,{onPrimitive:()=>this.primitiveCodec.encodeTopLevel(e),onOption:()=>this.optionCodec.encodeTopLevel(e),onList:()=>this.listCodec.encodeTopLevel(e),onArray:()=>this.arrayCodec.encodeTopLevel(e),onStruct:()=>this.structCodec.encodeTopLevel(e),onTuple:()=>this.tupleCodec.encodeTopLevel(e),onEnum:()=>this.enumCodec.encodeTopLevel(e),onManagedDecimal:()=>this.managedDecimalCodec.encodeTopLevel(e),onManagedDecimalSigned:()=>this.managedDecimalSignedCodec.encodeTopLevel(e)})}};zs.BinaryCodec=_x;var cw=class{constructor(e){this.maxBufferLength=e?.maxBufferLength||256e3,this.maxListLength=e?.maxListLength||128e3}checkBufferLength(e){if(e.length>this.maxBufferLength)throw new yV.ErrCodec(`Buffer too large: ${e.length} > ${this.maxBufferLength}`)}checkListLength(e){if(e>this.maxListLength)throw new yV.ErrCodec(`List too large: ${e} > ${this.maxListLength}`)}};zs.BinaryCodecConstraints=cw});var vV=R(Ks=>{"use strict";l();var Jve=Ks&&Ks.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ks,"__esModule",{value:!0});Ks.decodeBigNumber=Ks.decodeString=Ks.decodeBool=Ks.decodeUnsignedNumber=void 0;var Xve=Jve(Pr()),uw=dn(),Zve=Ex(),fw=new Zve.BinaryCodec;function ebe(t){let e=fw.decodeTopLevel(t,new uw.BigUIntType);return Number(e.valueOf())}Ks.decodeUnsignedNumber=ebe;function tbe(t){return!!fw.decodeTopLevel(t,new uw.BooleanType).valueOf()}Ks.decodeBool=tbe;function rbe(t){let e=fw.decodeTopLevel(t,new uw.BytesType);return String(e.valueOf())}Ks.decodeString=rbe;function nbe(t){let e=fw.decodeTopLevel(t,new uw.BigUIntType);return new Xve.default(e.valueOf())}Ks.decodeBigNumber=nbe});var Ax=R(Eu=>{"use strict";l();var ibe=Eu&&Eu.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),bV=Eu&&Eu.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&ibe(e,t,r)};Object.defineProperty(Eu,"__esModule",{value:!0});bV(Ex(),Eu);bV(vV(),Eu)});var Dh=R(lw=>{"use strict";l();Object.defineProperty(lw,"__esModule",{value:!0});lw.ArgSerializer=void 0;var wV=Dn(),sbe=Ax(),_V=dn(),Sx=Xb(),xx=n2(),Tx=M2(),abe={codec:new sbe.BinaryCodec},Ix=class{constructor(e){e={...abe,...e},this.codec=e.codec}stringToValues(e,r){let n=this.stringToBuffers(e);return this.buffersToValues(n,r)}stringToBuffers(e){return e.split(wV.ARGUMENTS_SEPARATOR).map(r=>y.Buffer.from(r,"hex"))}buffersToValues(e,r){let n=this;e=e||[];let i=[],s=0,a=e.length;for(let d=0;d<r.length;d++){let _=r[d].type,x=o(_);i.push(x)}function o(d){if(d.hasExactClass(Sx.OptionalType.ClassName)){let _=o(d.getFirstTypeParameter());return new Sx.OptionalValue(d,_)}if(d.hasExactClass(Tx.VariadicType.ClassName))return c(d);if(d.hasExactClass(xx.CompositeType.ClassName)){let _=[];for(let x of d.getTypeParameters())_.push(o(x));return new xx.CompositeValue(d,_)}return u(d)}function c(d){let m=d,_=[];if(m.isCounted){let x=o(new _V.U32Type).valueOf().toNumber();for(let P=0;P<x;P++)_.push(o(d.getFirstTypeParameter()))}else for(;!f();)_.push(o(d.getFirstTypeParameter()));return new Tx.VariadicValue(m,_)}function u(d){if(f())return null;let m=e[s++];return n.codec.decodeTopLevel(m,d)}function f(){return s>=a}return i}valuesToString(e){let r=this.valuesToStrings(e),n=r.join(wV.ARGUMENTS_SEPARATOR),i=r.length;return{argumentsString:n,count:i}}valuesToStrings(e){return this.valuesToBuffers(e).map(i=>i.toString("hex"))}valuesToBuffers(e){let r=this,n=[];for(let a of e)i(a);function i(a){if(a.hasExactClass(Sx.OptionalValue.ClassName)){let c=a;c.isSet()&&i(c.getTypedValue());return}if(a.hasExactClass(Tx.VariadicValue.ClassName)){s(a);return}if(a.hasExactClass(xx.CompositeValue.ClassName)){let c=a;for(let u of c.getItems())i(u);return}let o=r.codec.encodeTopLevel(a);n.push(o)}function s(a){if(a.getType().isCounted){let c=new _V.U32Value(a.getItems().length);n.push(r.codec.encodeTopLevel(c))}for(let c of a.getItems())i(c)}return n}};lw.ArgSerializer=Ix});var Cx=R((sQe,EV)=>{l();vc.notEqual=cbe;vc.notOk=ube;vc.equal=obe;vc.ok=vc;EV.exports=vc;function obe(t,e,r){vc(t==e,r)}function cbe(t,e,r){vc(t!=e,r)}function ube(t,e){vc(!t,e)}function vc(t,e){if(!t)throw new Error(e||"AssertionError")}});var SV=R((oQe,AV)=>{l();AV.exports=Nx;Nx.supported=typeof WebAssembly<"u";function Nx(t){if(!Nx.supported)return null;var e=t&&t.imports,r=fbe("AGFzbQEAAAABEANgAn9/AGADf39/AGABfwADBQQAAQICBQUBAQroBwdNBQZtZW1vcnkCAAxibGFrZTJiX2luaXQAAA5ibGFrZTJiX3VwZGF0ZQABDWJsYWtlMmJfZmluYWwAAhBibGFrZTJiX2NvbXByZXNzAAMK00AElgMAIABCADcDACAAQQhqQgA3AwAgAEEQakIANwMAIABBGGpCADcDACAAQSBqQgA3AwAgAEEoakIANwMAIABBMGpCADcDACAAQThqQgA3AwAgAEHAAGpCADcDACAAQcgAakIANwMAIABB0ABqQgA3AwAgAEHYAGpCADcDACAAQeAAakIANwMAIABB6ABqQgA3AwAgAEHwAGpCADcDACAAQfgAakIANwMAIABBgAFqQoiS853/zPmE6gBBACkDAIU3AwAgAEGIAWpCu86qptjQ67O7f0EIKQMAhTcDACAAQZABakKr8NP0r+68tzxBECkDAIU3AwAgAEGYAWpC8e30+KWn/aelf0EYKQMAhTcDACAAQaABakLRhZrv+s+Uh9EAQSApAwCFNwMAIABBqAFqQp/Y+dnCkdqCm39BKCkDAIU3AwAgAEGwAWpC6/qG2r+19sEfQTApAwCFNwMAIABBuAFqQvnC+JuRo7Pw2wBBOCkDAIU3AwAgAEHAAWpCADcDACAAQcgBakIANwMAIABB0AFqQgA3AwALbQEDfyAAQcABaiEDIABByAFqIQQgBCkDAKchBQJAA0AgASACRg0BIAVBgAFGBEAgAyADKQMAIAWtfDcDAEEAIQUgABADCyAAIAVqIAEtAAA6AAAgBUEBaiEFIAFBAWohAQwACwsgBCAFrTcDAAtkAQN/IABBwAFqIQEgAEHIAWohAiABIAEpAwAgAikDAHw3AwAgAEHQAWpCfzcDACACKQMApyEDAkADQCADQYABRg0BIAAgA2pBADoAACADQQFqIQMMAAsLIAIgA603AwAgABADC+U7AiB+CX8gAEGAAWohISAAQYgBaiEiIABBkAFqISMgAEGYAWohJCAAQaABaiElIABBqAFqISYgAEGwAWohJyAAQbgBaiEoICEpAwAhASAiKQMAIQIgIykDACEDICQpAwAhBCAlKQMAIQUgJikDACEGICcpAwAhByAoKQMAIQhCiJLznf/M+YTqACEJQrvOqqbY0Ouzu38hCkKr8NP0r+68tzwhC0Lx7fT4paf9p6V/IQxC0YWa7/rPlIfRACENQp/Y+dnCkdqCm38hDkLr+obav7X2wR8hD0L5wvibkaOz8NsAIRAgACkDACERIABBCGopAwAhEiAAQRBqKQMAIRMgAEEYaikDACEUIABBIGopAwAhFSAAQShqKQMAIRYgAEEwaikDACEXIABBOGopAwAhGCAAQcAAaikDACEZIABByABqKQMAIRogAEHQAGopAwAhGyAAQdgAaikDACEcIABB4ABqKQMAIR0gAEHoAGopAwAhHiAAQfAAaikDACEfIABB+ABqKQMAISAgDSAAQcABaikDAIUhDSAPIABB0AFqKQMAhSEPIAEgBSARfHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgEnx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBN8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAUfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgFXx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIBZ8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAXfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggGHx8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBl8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAafHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgG3x8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBx8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAdfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggHnx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIB98fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAgfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgH3x8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBt8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAVfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgGXx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBp8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAgfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggHnx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBd8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiASfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgHXx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBF8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByATfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggHHx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBh8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAWfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgFHx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIBx8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAZfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgHXx8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBF8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAWfHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgE3x8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIICB8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAefHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgG3x8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIB98fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAUfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgF3x8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBh8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCASfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgGnx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBV8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAYfHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgGnx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBR8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiASfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgHnx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIB18fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAcfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggH3x8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBN8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAXfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgFnx8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBt8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAVfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggEXx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFICB8fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAZfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgGnx8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBF8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAWfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgGHx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBN8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAVfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggG3x8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIICB8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAffHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgEnx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBx8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAdfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggF3x8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBl8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAUfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgHnx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIBN8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAdfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgF3x8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBt8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByARfHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgHHx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBl8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAUfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgFXx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIB58fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAYfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgFnx8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIICB8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCAffHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgEnx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBp8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAdfHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgFnx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBJ8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAgfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgH3x8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIB58fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAVfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggG3x8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBF8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAYfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgF3x8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBR8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAafHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggE3x8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIBl8fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAcfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgHnx8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBx8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAYfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgH3x8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIB18fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByASfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggFHx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBp8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAWfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgEXx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHICB8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAVfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggGXx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBd8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSATfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgG3x8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIBd8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAgfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgH3x8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBp8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAcfHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgFHx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBF8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAZfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgHXx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIBN8fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAefHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgGHx8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBJ8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCAVfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgG3x8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBZ8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAbfHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgE3x8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBl8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAVfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgGHx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIBd8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCASfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggFnx8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGICB8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAcfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgGnx8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIB98fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAUfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggHXx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIB58fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSARfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgEXx8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBJ8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiATfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgFHx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBV8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAWfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggF3x8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBh8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAZfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgGnx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBt8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAcfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggHXx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIB58fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAffHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgIHx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIB98fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAbfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgFXx8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBl8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAafHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgIHx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIB58fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAXfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgEnx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIB18fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByARfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgE3x8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBx8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCAYfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgFnx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBR8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFICEgISkDACABIAmFhTcDACAiICIpAwAgAiAKhYU3AwAgIyAjKQMAIAMgC4WFNwMAICQgJCkDACAEIAyFhTcDACAlICUpAwAgBSANhYU3AwAgJiAmKQMAIAYgDoWFNwMAICcgJykDACAHIA+FhTcDACAoICgpAwAgCCAQhYU3AwAL"),n=null,i={buffer:r,memory:null,exports:null,realloc:s,onload:a};return a(function(){}),i;function s(c){i.exports.memory.grow(Math.ceil(Math.abs(c-i.memory.length)/65536)),i.memory=new Uint8Array(i.exports.memory.buffer)}function a(c){if(i.exports)return c();if(n){n.then(c.bind(null,null)).catch(c);return}try{if(t&&t.async)throw new Error("async");o({instance:new WebAssembly.Instance(new WebAssembly.Module(r),e)})}catch{n=WebAssembly.instantiate(r,e).then(o)}a(c)}function o(c){i.exports=c.instance.exports,i.memory=i.exports.memory&&i.exports.memory.buffer&&new Uint8Array(i.exports.memory.buffer)}}function fbe(t){return typeof atob=="function"?new Uint8Array(atob(t).split("").map(lbe)):new(Qi()).Buffer(t,"base64")}function lbe(t){return t.charCodeAt(0)}});var PV=R((lQe,xo)=>{l();var So=Cx(),Yr=SV()(),bc=64,dw=[];xo.exports=Ws;var xV=xo.exports.BYTES_MIN=16,TV=xo.exports.BYTES_MAX=64,uQe=xo.exports.BYTES=32,IV=xo.exports.KEYBYTES_MIN=16,CV=xo.exports.KEYBYTES_MAX=64,fQe=xo.exports.KEYBYTES=32,NV=xo.exports.SALTBYTES=16,OV=xo.exports.PERSONALBYTES=16;function Ws(t,e,r,n,i){if(!(this instanceof Ws))return new Ws(t,e,r,n,i);if(!(Yr&&Yr.exports))throw new Error("WASM not loaded. Wait for Blake2b.ready(cb)");t||(t=32),i!==!0&&(So(t>=xV,"digestLength must be at least "+xV+", was given "+t),So(t<=TV,"digestLength must be at most "+TV+", was given "+t),e!=null&&So(e.length>=IV,"key must be at least "+IV+", was given "+e.length),e!=null&&So(e.length<=CV,"key must be at least "+CV+", was given "+e.length),r!=null&&So(r.length===NV,"salt must be exactly "+NV+", was given "+r.length),n!=null&&So(n.length===OV,"personal must be exactly "+OV+", was given "+n.length)),dw.length||(dw.push(bc),bc+=216),this.digestLength=t,this.finalized=!1,this.pointer=dw.pop(),Yr.memory.fill(0,0,64),Yr.memory[0]=this.digestLength,Yr.memory[1]=e?e.length:0,Yr.memory[2]=1,Yr.memory[3]=1,r&&Yr.memory.set(r,32),n&&Yr.memory.set(n,48),this.pointer+216>Yr.memory.length&&Yr.realloc(this.pointer+216),Yr.exports.blake2b_init(this.pointer,this.digestLength),e&&(this.update(e),Yr.memory.fill(0,bc,bc+e.length),Yr.memory[this.pointer+200]=128)}Ws.prototype.update=function(t){return So(this.finalized===!1,"Hash instance finalized"),So(t,"input must be TypedArray or Buffer"),bc+t.length>Yr.memory.length&&Yr.realloc(bc+t.length),Yr.memory.set(t,bc),Yr.exports.blake2b_update(this.pointer,bc,bc+t.length),this};Ws.prototype.digest=function(t){if(So(this.finalized===!1,"Hash instance finalized"),this.finalized=!0,dw.push(this.pointer),Yr.exports.blake2b_final(this.pointer),!t||t==="binary")return Yr.memory.slice(this.pointer+128,this.pointer+128+this.digestLength);if(t==="hex")return hbe(Yr.memory,this.pointer+128,this.digestLength);So(t.length>=this.digestLength,"input must be TypedArray or Buffer");for(var e=0;e<this.digestLength;e++)t[e]=Yr.memory[this.pointer+128+e];return t};Ws.prototype.final=Ws.prototype.digest;Ws.WASM=Yr&&Yr.buffer;Ws.SUPPORTED=typeof WebAssembly<"u";Ws.ready=function(t){if(t||(t=dbe),!Yr)return t(new Error("WebAssembly not supported"));var e=new Promise(function(r,n){Yr.onload(function(i){i?n():r(),t(i)})});return e};Ws.prototype.ready=Ws.ready;function dbe(){}function hbe(t,e,r){for(var n="",i=0;i<r;i++)n+=pbe(t[e+i]);return n}function pbe(t){return t<16?"0"+t.toString(16):t.toString(16)}});var Ox=R((gQe,ts)=>{l();var xu=Cx(),h1=PV();function hw(t,e,r){var n=t[e]+t[r],i=t[e+1]+t[r+1];n>=4294967296&&i++,t[e]=n,t[e+1]=i}function RV(t,e,r,n){var i=t[e]+r;r<0&&(i+=4294967296);var s=t[e+1]+n;i>=4294967296&&s++,t[e]=i,t[e+1]=s}function UV(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function Au(t,e,r,n,i,s){var a=d1[i],o=d1[i+1],c=d1[s],u=d1[s+1];hw(Wt,t,e),RV(Wt,t,a,o);var f=Wt[n]^Wt[t],d=Wt[n+1]^Wt[t+1];Wt[n]=d,Wt[n+1]=f,hw(Wt,r,n),f=Wt[e]^Wt[r],d=Wt[e+1]^Wt[r+1],Wt[e]=f>>>24^d<<8,Wt[e+1]=d>>>24^f<<8,hw(Wt,t,e),RV(Wt,t,c,u),f=Wt[n]^Wt[t],d=Wt[n+1]^Wt[t+1],Wt[n]=f>>>16^d<<16,Wt[n+1]=d>>>16^f<<16,hw(Wt,r,n),f=Wt[e]^Wt[r],d=Wt[e+1]^Wt[r+1],Wt[e]=d>>>31^f<<1,Wt[e+1]=f>>>31^d<<1}var kV=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),gbe=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],bi=new Uint8Array(gbe.map(function(t){return t*2})),Wt=new Uint32Array(32),d1=new Uint32Array(32);function VV(t,e){var r=0;for(r=0;r<16;r++)Wt[r]=t.h[r],Wt[r+16]=kV[r];for(Wt[24]=Wt[24]^t.t,Wt[25]=Wt[25]^t.t/4294967296,e&&(Wt[28]=~Wt[28],Wt[29]=~Wt[29]),r=0;r<32;r++)d1[r]=UV(t.b,4*r);for(r=0;r<12;r++)Au(0,8,16,24,bi[r*16+0],bi[r*16+1]),Au(2,10,18,26,bi[r*16+2],bi[r*16+3]),Au(4,12,20,28,bi[r*16+4],bi[r*16+5]),Au(6,14,22,30,bi[r*16+6],bi[r*16+7]),Au(0,10,20,30,bi[r*16+8],bi[r*16+9]),Au(2,12,22,24,bi[r*16+10],bi[r*16+11]),Au(4,14,16,26,bi[r*16+12],bi[r*16+13]),Au(6,8,18,28,bi[r*16+14],bi[r*16+15]);for(r=0;r<16;r++)t.h[r]=t.h[r]^Wt[r]^Wt[r+16]}var Su=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function Mh(t,e,r,n){Su.fill(0),this.b=new Uint8Array(128),this.h=new Uint32Array(16),this.t=0,this.c=0,this.outlen=t,Su[0]=t,e&&(Su[1]=e.length),Su[2]=1,Su[3]=1,r&&Su.set(r,32),n&&Su.set(n,48);for(var i=0;i<16;i++)this.h[i]=kV[i]^UV(Su,i*4);e&&(HV(this,e),this.c=128)}Mh.prototype.update=function(t){return xu(t!=null,"input must be Uint8Array or Buffer"),HV(this,t),this};Mh.prototype.digest=function(t){var e=!t||t==="binary"||t==="hex"?new Uint8Array(this.outlen):t;return xu(e.length>=this.outlen,"out must have at least outlen bytes of space"),ybe(this,e),t==="hex"?mbe(e):e};Mh.prototype.final=Mh.prototype.digest;Mh.ready=function(t){h1.ready(function(){t()})};function HV(t,e){for(var r=0;r<e.length;r++)t.c===128&&(t.t+=t.c,VV(t,!1),t.c=0),t.b[t.c++]=e[r]}function ybe(t,e){for(t.t+=t.c;t.c<128;)t.b[t.c++]=0;VV(t,!0);for(var r=0;r<t.outlen;r++)e[r]=t.h[r>>2]>>8*(r&3);return e}function mbe(t){for(var e="",r=0;r<t.length;r++)e+=vbe(t[r]);return e}function vbe(t){return t<16?"0"+t.toString(16):t.toString(16)}var GV=Mh;ts.exports=function(e,r,n,i,s){return s!==!0&&(xu(e>=DV,"outlen must be at least "+DV+", was given "+e),xu(e<=MV,"outlen must be at most "+MV+", was given "+e),r!=null&&xu(r.length>=BV,"key must be at least "+BV+", was given "+r.length),r!=null&&xu(r.length<=LV,"key must be at most "+LV+", was given "+r.length),n!=null&&xu(n.length===qV,"salt must be exactly "+qV+", was given "+n.length),i!=null&&xu(i.length===FV,"personal must be exactly "+FV+", was given "+i.length)),new GV(e,r,n,i)};ts.exports.ready=function(t){h1.ready(function(){t()})};ts.exports.WASM_SUPPORTED=h1.SUPPORTED;ts.exports.WASM_LOADED=!1;var DV=ts.exports.BYTES_MIN=16,MV=ts.exports.BYTES_MAX=64,hQe=ts.exports.BYTES=32,BV=ts.exports.KEYBYTES_MIN=16,LV=ts.exports.KEYBYTES_MAX=64,pQe=ts.exports.KEYBYTES=32,qV=ts.exports.SALTBYTES=16,FV=ts.exports.PERSONALBYTES=16;h1.ready(function(t){t||(ts.exports.WASM_LOADED=!0,GV=h1)})});var jV=R(pw=>{"use strict";l();Object.defineProperty(pw,"__esModule",{value:!0});pw.Code=void 0;var bbe=Ox(),wbe=32,Px=class t{constructor(e){this.hex=e}static fromBuffer(e){return new t(e.toString("hex"))}static fromHex(e){return new t(e)}toString(){return this.hex}valueOf(){return y.Buffer.from(this.hex,"hex")}computeHash(){let e=bbe(wbe).update(this.valueOf()).digest();return y.Buffer.from(e)}};pw.Code=Px});var Dx=R(To=>{"use strict";l();var _be=To&&To.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Ebe=To&&To.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Abe=To&&To.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&_be(e,t,r);return Ebe(e,t),e};Object.defineProperty(To,"__esModule",{value:!0});To.ContractFunction=void 0;var Sbe=Abe(It()),Rx=class t{constructor(e){if(this.name=e,e==null)throw new Sbe.ErrInvalidFunctionName}static none(){return new t("untitled")}toString(){return this.name}valueOf(){return this.name}};To.ContractFunction=Rx});var Bx=R(gw=>{"use strict";l();Object.defineProperty(gw,"__esModule",{value:!0});gw.Compatibility=void 0;var xbe=qt(),Mx=class{static guardAddressIsSetAndNonZero(e,r,n){!e||e.bech32()==""||e.bech32()==xbe.Address.Zero().bech32()}};gw.Compatibility=Mx});var wc=R(yw=>{"use strict";l();Object.defineProperty(yw,"__esModule",{value:!0});yw.TransactionPayload=void 0;var Lx=class t{constructor(e){this.data=y.Buffer.from(e||[])}static fromEncoded(e){if(!e)return new t("");let r=y.Buffer.from(e,"base64").toString();return new t(r)}isEmpty(){return this.data.length==0}encoded(){return this.data.toString("base64")}valueOf(){return this.data}toString(){return this.data.toString()}getEncodedArguments(){return this.toString().split("@")}getRawArguments(){return this.getEncodedArguments().map(e=>y.Buffer.from(e,"hex"))}length(){return y.Buffer.from(this.data).length}};yw.TransactionPayload=Lx});var Bh=R(mw=>{"use strict";l();Object.defineProperty(mw,"__esModule",{value:!0});mw.TransactionBuilder=void 0;var Tbe=Dn(),Ibe=rs(),Cbe=wc(),qx=class{constructor(e){this.config=e.config,this.sender=e.sender,this.receiver=e.receiver,this.dataParts=e.dataParts,this.providedGasLimit=e.gasLimit,this.addDataMovementGas=e.addDataMovementGas,this.amount=e.amount}computeGasLimit(e){return this.addDataMovementGas?this.config.minGasLimit+this.config.gasLimitPerByte*BigInt(e.length())+this.providedGasLimit:this.providedGasLimit}buildTransactionPayload(){let e=this.dataParts.join(Tbe.ARGUMENTS_SEPARATOR);return new Cbe.TransactionPayload(e)}build(){let e=this.buildTransactionPayload(),r=this.computeGasLimit(e);return new Ibe.Transaction({sender:this.sender.bech32(),receiver:this.receiver.bech32(),gasLimit:r,value:this.amount||0n,data:e.valueOf(),chainID:this.config.chainID})}};mw.TransactionBuilder=qx});var zV=R(vw=>{"use strict";l();Object.defineProperty(vw,"__esModule",{value:!0});vw.DelegationTransactionsFactory=void 0;var Nbe=qt(),Obe=Dn(),Pbe=It(),As=Qs(),ns=Bh(),Fx=class{constructor(e){this.config=e.config,this.argSerializer=new As.ArgSerializer,this.delegationManagerAddress=Nbe.Address.fromHex(Obe.DELEGATION_MANAGER_SC_ADDRESS_HEX,this.config.addressHrp)}createTransactionForNewDelegationContract(e){let r=["createNewDelegationContract",...this.argSerializer.valuesToStrings([new As.BigUIntValue(e.totalDelegationCap),new As.BigUIntValue(e.serviceFee)])],n=this.config.gasLimitCreateDelegationContract+this.config.additionalGasLimitForDelegationOperations;return new ns.TransactionBuilder({config:this.config,sender:e.sender,receiver:this.delegationManagerAddress,dataParts:r,gasLimit:n,addDataMovementGas:!0,amount:e.amount}).build()}createTransactionForAddingNodes(e){if(e.publicKeys.length!==e.signedMessages.length)throw new Pbe.Err("The number of public keys should match the number of signed messages");let r=e.signedMessages.map(a=>new As.BytesValue(y.Buffer.from(a))),n=this.argSerializer.valuesToStrings(r),i=e.publicKeys.length,s=["addNodes"];for(let a=0;a<i;a++)s.push(e.publicKeys[a].hex(),n[a]);return new ns.TransactionBuilder({config:this.config,sender:e.sender,receiver:e.delegationContract,dataParts:s,gasLimit:this.computeExecutionGasLimitForNodesManagement(i),addDataMovementGas:!0}).build()}createTransactionForRemovingNodes(e){let r=["removeNodes"];for(let i of e.publicKeys)r.push(i.hex());let n=e.publicKeys.length;return new ns.TransactionBuilder({config:this.config,sender:e.sender,receiver:e.delegationContract,dataParts:r,gasLimit:this.computeExecutionGasLimitForNodesManagement(n),addDataMovementGas:!0}).build()}createTransactionForStakingNodes(e){let r=["stakeNodes"];for(let a of e.publicKeys)r=r.concat(a.hex());let n=e.publicKeys.length,s=BigInt(n)*this.config.additionalGasLimitPerValidatorNode+this.config.gasLimitStake+this.config.gasLimitDelegationOperations;return new ns.TransactionBuilder({config:this.config,sender:e.sender,receiver:e.delegationContract,dataParts:r,gasLimit:s,addDataMovementGas:!0}).build()}createTransactionForUnbondingNodes(e){let r=["unBondNodes"];for(let s of e.publicKeys)r=r.concat(s.hex());let n=e.publicKeys.length,i=BigInt(n)*this.config.additionalGasLimitPerValidatorNode+this.config.gasLimitUnbond+this.config.gasLimitDelegationOperations;return new ns.TransactionBuilder({config:this.config,sender:e.sender,receiver:e.delegationContract,dataParts:r,gasLimit:i,addDataMovementGas:!0}).build()}createTransactionForUnstakingNodes(e){let r=["unStakeNodes"];for(let s of e.publicKeys)r=r.concat(s.hex());let n=e.publicKeys.length,i=BigInt(n)*this.config.additionalGasLimitPerValidatorNode+this.config.gasLimitUnstake+this.config.gasLimitDelegationOperations;return new ns.TransactionBuilder({config:this.config,sender:e.sender,receiver:e.delegationContract,dataParts:r,gasLimit:i,addDataMovementGas:!0}).build()}createTransactionForUnjailingNodes(e){let r=["unJailNodes"];for(let i of e.publicKeys)r.push(i.hex());let n=e.publicKeys.length;return new ns.TransactionBuilder({config:this.config,sender:e.sender,receiver:e.delegationContract,dataParts:r,gasLimit:this.computeExecutionGasLimitForNodesManagement(n),addDataMovementGas:!0,amount:e.amount}).build()}createTransactionForChangingServiceFee(e){let r=["changeServiceFee",this.argSerializer.valuesToStrings([new As.BigUIntValue(e.serviceFee)])[0]],n=this.config.gasLimitDelegationOperations+this.config.additionalGasLimitForDelegationOperations;return new ns.TransactionBuilder({config:this.config,sender:e.sender,receiver:e.delegationContract,dataParts:r,gasLimit:n,addDataMovementGas:!0}).build()}createTransactionForModifyingDelegationCap(e){let r=["modifyTotalDelegationCap",this.argSerializer.valuesToStrings([new As.BigUIntValue(e.delegationCap)])[0]],n=this.config.gasLimitDelegationOperations+this.config.additionalGasLimitForDelegationOperations;return new ns.TransactionBuilder({config:this.config,sender:e.sender,receiver:e.delegationContract,dataParts:r,gasLimit:n,addDataMovementGas:!0}).build()}createTransactionForSettingAutomaticActivation(e){let r=["setAutomaticActivation",this.argSerializer.valuesToStrings([new As.StringValue("true")])[0]],n=this.config.gasLimitDelegationOperations+this.config.additionalGasLimitForDelegationOperations;return new ns.TransactionBuilder({config:this.config,sender:e.sender,receiver:e.delegationContract,dataParts:r,gasLimit:n,addDataMovementGas:!0}).build()}createTransactionForUnsettingAutomaticActivation(e){let r=["setAutomaticActivation",this.argSerializer.valuesToStrings([new As.StringValue("false")])[0]],n=this.config.gasLimitDelegationOperations+this.config.additionalGasLimitForDelegationOperations;return new ns.TransactionBuilder({config:this.config,sender:e.sender,receiver:e.delegationContract,dataParts:r,gasLimit:n,addDataMovementGas:!0}).build()}createTransactionForSettingCapCheckOnRedelegateRewards(e){let r=["setCheckCapOnReDelegateRewards",this.argSerializer.valuesToStrings([new As.StringValue("true")])[0]],n=this.config.gasLimitDelegationOperations+this.config.additionalGasLimitForDelegationOperations;return new ns.TransactionBuilder({config:this.config,sender:e.sender,receiver:e.delegationContract,dataParts:r,gasLimit:n,addDataMovementGas:!0}).build()}createTransactionForUnsettingCapCheckOnRedelegateRewards(e){let r=["setCheckCapOnReDelegateRewards",this.argSerializer.valuesToStrings([new As.StringValue("false")])[0]],n=this.config.gasLimitDelegationOperations+this.config.additionalGasLimitForDelegationOperations;return new ns.TransactionBuilder({config:this.config,sender:e.sender,receiver:e.delegationContract,dataParts:r,gasLimit:n,addDataMovementGas:!0}).build()}createTransactionForSettingMetadata(e){let r=["setMetaData",...this.argSerializer.valuesToStrings([new As.StringValue(e.name),new As.StringValue(e.website),new As.StringValue(e.identifier)])],n=this.config.gasLimitDelegationOperations+this.config.additionalGasLimitForDelegationOperations;return new ns.TransactionBuilder({config:this.config,sender:e.sender,receiver:e.delegationContract,dataParts:r,gasLimit:n,addDataMovementGas:!0}).build()}computeExecutionGasLimitForNodesManagement(e){let r=this.config.additionalGasLimitPerValidatorNode*BigInt(e);return this.config.gasLimitDelegationOperations+r}};vw.DelegationTransactionsFactory=Fx});var $V=R((NQe,QV)=>{l();var KV=Pr(),WV=QV.exports;(function(){"use strict";function t(u){return u<10?"0"+u:u}var e=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,r=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n,i,s={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},a;function o(u){return r.lastIndex=0,r.test(u)?'"'+u.replace(r,function(f){var d=s[f];return typeof d=="string"?d:"\\u"+("0000"+f.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+u+'"'}function c(u,f){var d,m,_,x,P=n,D,k=f[u],Y=k!=null&&(k instanceof KV||KV.isBigNumber(k));switch(k&&typeof k=="object"&&typeof k.toJSON=="function"&&(k=k.toJSON(u)),typeof a=="function"&&(k=a.call(f,u,k)),typeof k){case"string":return Y?k:o(k);case"number":return isFinite(k)?String(k):"null";case"boolean":case"null":case"bigint":return String(k);case"object":if(!k)return"null";if(n+=i,D=[],Object.prototype.toString.apply(k)==="[object Array]"){for(x=k.length,d=0;d<x;d+=1)D[d]=c(d,k)||"null";return _=D.length===0?"[]":n?`[
`+n+D.join(`,
`+n)+`
`+P+"]":"["+D.join(",")+"]",n=P,_}if(a&&typeof a=="object")for(x=a.length,d=0;d<x;d+=1)typeof a[d]=="string"&&(m=a[d],_=c(m,k),_&&D.push(o(m)+(n?": ":":")+_));else Object.keys(k).forEach(function(X){var Z=c(X,k);Z&&D.push(o(X)+(n?": ":":")+Z)});return _=D.length===0?"{}":n?`{
`+n+D.join(`,
`+n)+`
`+P+"}":"{"+D.join(",")+"}",n=P,_}}typeof WV.stringify!="function"&&(WV.stringify=function(u,f,d){var m;if(n="",i="",typeof d=="number")for(m=0;m<d;m+=1)i+=" ";else typeof d=="string"&&(i=d);if(a=f,f&&typeof f!="function"&&(typeof f!="object"||typeof f.length!="number"))throw new Error("JSON.stringify");return c("",{"":u})})})()});var JV=R((PQe,YV)=>{l();var bw=null,Rbe=/(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])/,Dbe=/(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)/,Mbe=function(t){"use strict";var e={strict:!1,storeAsString:!1,alwaysParseAsBig:!1,useNativeBigInt:!1,protoAction:"error",constructorAction:"error"};if(t!=null){if(t.strict===!0&&(e.strict=!0),t.storeAsString===!0&&(e.storeAsString=!0),e.alwaysParseAsBig=t.alwaysParseAsBig===!0?t.alwaysParseAsBig:!1,e.useNativeBigInt=t.useNativeBigInt===!0?t.useNativeBigInt:!1,typeof t.constructorAction<"u")if(t.constructorAction==="error"||t.constructorAction==="ignore"||t.constructorAction==="preserve")e.constructorAction=t.constructorAction;else throw new Error(`Incorrect value for constructorAction option, must be "error", "ignore" or undefined but passed ${t.constructorAction}`);if(typeof t.protoAction<"u")if(t.protoAction==="error"||t.protoAction==="ignore"||t.protoAction==="preserve")e.protoAction=t.protoAction;else throw new Error(`Incorrect value for protoAction option, must be "error", "ignore" or undefined but passed ${t.protoAction}`)}var r,n,i={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},s,a=function(P){throw{name:"SyntaxError",message:P,at:r,text:s}},o=function(P){return P&&P!==n&&a("Expected '"+P+"' instead of '"+n+"'"),n=s.charAt(r),r+=1,n},c=function(){var P,D="";for(n==="-"&&(D="-",o("-"));n>="0"&&n<="9";)D+=n,o();if(n===".")for(D+=".";o()&&n>="0"&&n<="9";)D+=n;if(n==="e"||n==="E")for(D+=n,o(),(n==="-"||n==="+")&&(D+=n,o());n>="0"&&n<="9";)D+=n,o();if(P=+D,!isFinite(P))a("Bad number");else return bw==null&&(bw=Pr()),D.length>15?e.storeAsString?D:e.useNativeBigInt?BigInt(D):new bw(D):e.alwaysParseAsBig?e.useNativeBigInt?BigInt(P):new bw(P):P},u=function(){var P,D,k="",Y;if(n==='"')for(var X=r;o();){if(n==='"')return r-1>X&&(k+=s.substring(X,r-1)),o(),k;if(n==="\\"){if(r-1>X&&(k+=s.substring(X,r-1)),o(),n==="u"){for(Y=0,D=0;D<4&&(P=parseInt(o(),16),!!isFinite(P));D+=1)Y=Y*16+P;k+=String.fromCharCode(Y)}else if(typeof i[n]=="string")k+=i[n];else break;X=r}}a("Bad string")},f=function(){for(;n&&n<=" ";)o()},d=function(){switch(n){case"t":return o("t"),o("r"),o("u"),o("e"),!0;case"f":return o("f"),o("a"),o("l"),o("s"),o("e"),!1;case"n":return o("n"),o("u"),o("l"),o("l"),null}a("Unexpected '"+n+"'")},m,_=function(){var P=[];if(n==="["){if(o("["),f(),n==="]")return o("]"),P;for(;n;){if(P.push(m()),f(),n==="]")return o("]"),P;o(","),f()}}a("Bad array")},x=function(){var P,D=Object.create(null);if(n==="{"){if(o("{"),f(),n==="}")return o("}"),D;for(;n;){if(P=u(),f(),o(":"),e.strict===!0&&Object.hasOwnProperty.call(D,P)&&a('Duplicate key "'+P+'"'),Rbe.test(P)===!0?e.protoAction==="error"?a("Object contains forbidden prototype property"):e.protoAction==="ignore"?m():D[P]=m():Dbe.test(P)===!0?e.constructorAction==="error"?a("Object contains forbidden constructor property"):e.constructorAction==="ignore"?m():D[P]=m():D[P]=m(),f(),n==="}")return o("}"),D;o(","),f()}}a("Bad object")};return m=function(){switch(f(),n){case"{":return x();case"[":return _();case'"':return u();case"-":return c();default:return n>="0"&&n<="9"?c():d()}},function(P,D){var k;return s=P+"",r=0,n=" ",k=m(),f(),n&&a("Syntax error"),typeof D=="function"?function Y(X,Z){var U,Q,j=X[Z];return j&&typeof j=="object"&&Object.keys(j).forEach(function(K){Q=Y(j,K),Q!==void 0?j[K]=Q:delete j[K]}),D.call(X,Z,j)}({"":k},""):k}};YV.exports=Mbe});var _w=R((DQe,ww)=>{l();var XV=$V().stringify,ZV=JV();ww.exports=function(t){return{parse:ZV(t),stringify:XV}};ww.exports.parse=ZV();ww.exports.stringify=XV});var eH=R(Lh=>{"use strict";l();var Bbe=Lh&&Lh.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Lh,"__esModule",{value:!0});Lh.RelayedTransactionsFactory=void 0;var Lbe=Bbe(Pr()),Ew=qt(),cl=It(),p1=Qs(),Ux=rs(),qbe=_w(),kx=class{constructor(e){this.config=e.config}createRelayedV1Transaction(e){if(!e.innerTransaction.gasLimit)throw new cl.ErrInvalidInnerTransaction("The gas limit is not set for the inner transaction");if(!e.innerTransaction.signature.length)throw new cl.ErrInvalidInnerTransaction("The inner transaction is not signed");let r=this.prepareInnerTransactionForRelayedV1(e.innerTransaction),n=`relayedTx@${y.Buffer.from(r).toString("hex")}`,i=this.config.gasLimitPerByte*BigInt(n.length),s=this.config.minGasLimit+i+e.innerTransaction.gasLimit;return new Ux.Transaction({chainID:this.config.chainID,sender:e.relayerAddress.bech32(),receiver:e.innerTransaction.sender,gasLimit:s,data:y.Buffer.from(n)})}createRelayedV2Transaction(e){if(e.innerTransaction.gasLimit)throw new cl.ErrInvalidInnerTransaction("The gas limit should not be set for the inner transaction");if(!e.innerTransaction.signature.length)throw new cl.ErrInvalidInnerTransaction("The inner transaction is not signed");let{argumentsString:r}=new p1.ArgSerializer().valuesToString([new p1.AddressValue(Ew.Address.fromBech32(e.innerTransaction.receiver)),new p1.U64Value(new Lbe.default(e.innerTransaction.nonce.toString())),new p1.BytesValue(y.Buffer.from(e.innerTransaction.data)),new p1.BytesValue(y.Buffer.from(e.innerTransaction.signature))]),n=`relayedTxV2@${r}`,i=this.config.gasLimitPerByte*BigInt(n.length),s=e.innerTransactionGasLimit+this.config.minGasLimit+i;return new Ux.Transaction({sender:e.relayerAddress.bech32(),receiver:e.innerTransaction.sender,value:0n,gasLimit:s,chainID:this.config.chainID,data:y.Buffer.from(n),version:e.innerTransaction.version,options:e.innerTransaction.options})}createRelayedV3Transaction(e){if(!e.innerTransactions.length)throw new cl.ErrInvalidInnerTransaction("No inner transctions provided");let r=0n;for(let s of e.innerTransactions){if(!s.signature.length)throw new cl.ErrInvalidInnerTransaction("Inner transaction is not signed");if(s.relayer!==e.relayerAddress.bech32())throw new cl.ErrInvalidInnerTransaction("The inner transaction has an incorrect relayer address");r+=s.gasLimit}let i=this.config.minGasLimit*BigInt(e.innerTransactions.length)+r;return new Ux.Transaction({sender:e.relayerAddress.bech32(),receiver:e.relayerAddress.bech32(),chainID:this.config.chainID,gasLimit:i,innerTransactions:e.innerTransactions})}prepareInnerTransactionForRelayedV1(e){let r={nonce:e.nonce,sender:Ew.Address.newFromBech32(e.sender).getPublicKey().toString("base64"),receiver:Ew.Address.newFromBech32(e.receiver).getPublicKey().toString("base64"),value:e.value,gasPrice:e.gasPrice,gasLimit:e.gasLimit,data:y.Buffer.from(e.data).toString("base64"),signature:y.Buffer.from(e.signature).toString("base64"),chainID:y.Buffer.from(e.chainID).toString("base64"),version:e.version,options:e.options.valueOf()==0?void 0:e.options,guardian:e.guardian?Ew.Address.newFromBech32(e.guardian).getPublicKey().toString("base64"):void 0,guardianSignature:e.guardianSignature.length?y.Buffer.from(e.guardianSignature).toString("base64"):void 0,sndUserName:e.senderUsername?y.Buffer.from(e.senderUsername).toString("base64"):void 0,rcvUserName:e.receiverUsername?y.Buffer.from(e.receiverUsername).toString("base64"):void 0};return qbe.stringify(r)}};Lh.RelayedTransactionsFactory=kx});var tH=R(Aw=>{"use strict";l();Object.defineProperty(Aw,"__esModule",{value:!0});Aw.ArgumentErrorContext=void 0;var Fbe=It(),Vx=class{constructor(e,r,n){this.endpointName=e,this.argumentIndex=r,this.parameterDefinition=n}throwError(e){throw new Fbe.ErrInvalidArgument(`Error when converting arguments for endpoint (endpoint name: ${this.endpointName}, argument index: ${this.argumentIndex}, name: ${this.parameterDefinition.name}, type: ${this.parameterDefinition.type})
Nested error: ${e}`)}convertError(e,r){this.throwError(`Can't convert argument (argument: ${e}, type ${typeof e}), wanted type: ${r})`)}unhandledType(e,r){this.throwError(`Unhandled type (function: ${e}, type: ${r})`)}guardSameLength(e,r){e=e||[],e.length!=r.length&&this.throwError(`Incorrect composite type length: have ${e.length}, expected ${r.length} (argument: ${e})`)}guardHasField(e,r){e=e||{},r in e||this.throwError(`Struct argument does not contain a field named "${r}" (argument: ${JSON.stringify(e)})`)}};Aw.ArgumentErrorContext=Vx});var Sw=R(ul=>{"use strict";l();var Ube=ul&&ul.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ul,"__esModule",{value:!0});ul.NativeSerializer=void 0;var kbe=Ube(Pr()),Vbe=qt(),Hx=It(),Hbe=su(),Gbe=tH(),gt=dn(),jbe;(function(t){function e(U,Q){U=U||[],r(U,Q),n(Q)&&(U=i(U,Q));let j=Q.input,K=[];for(let $=0;$<j.length;$++){let L=j[$],v=new Gbe.ArgumentErrorContext(Q.name,$,L),E=a(U[$],L.type,v);K.push(E)}return K}t.nativeToTypedValues=e;function r(U,Q){let{min:j,max:K}=s(Q.input);if(!(j<=U.length&&U.length<=K))throw new Hx.ErrInvalidArgument(`Wrong number of arguments for endpoint ${Q.name}: expected between ${j} and ${K} arguments, have ${U.length}`)}function n(U){let Q=U.input[U.input.length-1];return Q?.type instanceof gt.VariadicType&&!Q.type.isCounted}function i(U,Q){let j=Q.input.length-1,K=U[j];if(K?.belongsToTypesystem){if(!K.hasClassOrSuperclass(gt.VariadicValue.ClassName))throw new Hx.ErrInvalidArgument(`Wrong argument type for endpoint ${Q.name}: typed value provided; expected variadic type, have ${K.getClassName()}`)}else U[j]=U.slice(j);return U}function s(U){let Q=[...U].reverse(),j=U.length,K=U.length,$=!1;Q.length>0&&Q[0].type.getCardinality().isComposite()&&(K=1/0,$=!0);for(let L of Q){if(L.type.getCardinality().isSingular())break;j-=1}return{min:j,max:K,variadic:$}}t.getArgumentsCardinality=s;function a(U,Q,j){if(U&&gt.isTyped(U))return U;if(Q instanceof gt.OptionType)return o(U,Q,j);if(Q instanceof gt.OptionalType)return c(U,Q,j);if(Q instanceof gt.VariadicType)return u(U,Q,j);if(Q instanceof gt.CompositeType)return d(U,Q,j);if(Q instanceof gt.TupleType)return m(U,Q,j);if(Q instanceof gt.StructType)return _(U,Q,j);if(Q instanceof gt.ListType)return f(U,Q,j);if(Q instanceof gt.PrimitiveType)return x(U,Q,j);if(Q instanceof gt.EnumType)return P(U,Q,j);if(Q instanceof gt.ManagedDecimalType)return D(U,Q,j);j.throwError(`convertToTypedValue: unhandled type ${Q}`)}function o(U,Q,j){if(U==null)return gt.OptionValue.newMissing();let K=a(U,Q.getFirstTypeParameter(),j);return gt.OptionValue.newProvided(K)}function c(U,Q,j){if(U==null)return new gt.OptionalValue(Q);let K=a(U,Q.getFirstTypeParameter(),j);return new gt.OptionalValue(Q,K)}function u(U,Q,j){if(Q.isCounted)throw new Hx.ErrInvalidArgument('Counted variadic arguments must be explicitly typed. E.g. use "VariadicValue.fromItemsCounted()" or "new VariadicValue()"');U==null&&(U=[]),U.map===void 0&&j.convertError(U,"Variadic");let K=U.map(function($){return a($,Q.getFirstTypeParameter(),j)});return new gt.VariadicValue(Q,K)}function f(U,Q,j){U.map===void 0&&j.convertError(U,"List");let K=U.map(function($){return a($,Q.getFirstTypeParameter(),j)});return new gt.List(Q,K)}function d(U,Q,j){let K=[],$=Q.getTypeParameters();j.guardSameLength(U,$);for(let L=0;L<$.length;L++)K.push(a(U[L],$[L],j));return new gt.CompositeValue(Q,K)}function m(U,Q,j){let K=[],$=Q.getFieldsDefinitions();j.guardSameLength(U,$);for(let L=0;L<$.length;L++)K.push(a(U[L],$[L].type,j));return gt.Tuple.fromItems(K)}function _(U,Q,j){let K=[],$=Q.getFieldsDefinitions();for(let L=0;L<$.length;L++){let v=$[L].name;j.guardHasField(U,v);let E=U[v],p=a(E,$[L].type,j);K.push(new gt.Field(p,v))}return new gt.Struct(Q,K)}function x(U,Q,j){if(Q instanceof gt.NumericalType){let K=new kbe.default(U);return Z(K,Q,j)}if(Q instanceof gt.BytesType)return k(U,j);if(Q instanceof gt.AddressType)return new gt.AddressValue(X(U,j));if(Q instanceof gt.BooleanType){let K=U.toString().toLowerCase()==="true"||U.toString()==="1";return new gt.BooleanValue(K)}if(Q instanceof gt.TokenIdentifierType)return new gt.TokenIdentifierValue(Y(U,j));j.throwError(`(function: toPrimitive) unsupported type ${Q}`)}function P(U,Q,j){if(typeof U=="number")return gt.EnumValue.fromDiscriminant(Q,U);if(typeof U=="string")return gt.EnumValue.fromName(Q,U);if(typeof U=="object"){j.guardHasField(U,"name");let K=Q.getVariantByName(U.name);j.guardHasField(U,"fields");let $=U.fields,L=[],v=K.getFieldsDefinitions();for(let E=0;E<v.length;E++){let p=v[E].name;j.guardHasField($,p);let g=$[p],b=a(g,v[E].type,j);L.push(new gt.Field(b,p))}return new gt.EnumValue(Q,K,L)}j.throwError(`(function: toEnumValue) unsupported native type ${typeof U}`)}function D(U,Q,j){if(typeof U=="object")return new gt.ManagedDecimalValue(U[0],U[1],Q.isVariable());j.throwError(`(function: toManagedDecimal) unsupported native type ${typeof U}`)}function k(U,Q){let j=U.valueOf();if(U===void 0&&Q.convertError(U,"BytesValue"),U instanceof y.Buffer)return new gt.BytesValue(U);if(typeof U=="string")return gt.BytesValue.fromUTF8(U);if(j instanceof y.Buffer)return new gt.BytesValue(j);if(typeof j=="number")return gt.BytesValue.fromHex(Hbe.numberToPaddedHex(j));Q.convertError(U,"BytesValue")}function Y(U,Q){if(U===void 0&&Q.convertError(U,"Buffer"),U instanceof y.Buffer)return U.toString();if(typeof U=="string")return U;Q.convertError(U,"Buffer")}function X(U,Q){if(U.bech32)return U;if(U.getAddress)return U.getAddress();switch(U.constructor){case y.Buffer:case String:return new Vbe.Address(U);default:Q.convertError(U,"Address")}}t.convertNativeToAddress=X;function Z(U,Q,j){switch(Q.constructor){case gt.U8Type:return new gt.U8Value(U);case gt.I8Type:return new gt.I8Value(U);case gt.U16Type:return new gt.U16Value(U);case gt.I16Type:return new gt.I16Value(U);case gt.U32Type:return new gt.U32Value(U);case gt.I32Type:return new gt.I32Value(U);case gt.U64Type:return new gt.U64Value(U);case gt.I64Type:return new gt.I64Value(U);case gt.BigUIntType:return new gt.BigUIntValue(U);case gt.BigIntType:return new gt.BigIntValue(U);default:j.unhandledType("convertNumericalType",Q)}}})(jbe=ul.NativeSerializer||(ul.NativeSerializer={}))});var jx=R(xw=>{"use strict";l();Object.defineProperty(xw,"__esModule",{value:!0});xw.TokenTransfersDataBuilder=void 0;var zbe=Dh(),Pa=dn(),Kbe=Gf(),Gx=class{constructor(){this.tokenComputer=new Kbe.TokenComputer,this.argsSerializer=new zbe.ArgSerializer}buildDataPartsForESDTTransfer(e){return["ESDTTransfer",...this.argsSerializer.valuesToStrings([new Pa.TokenIdentifierValue(e.token.identifier),new Pa.BigUIntValue(e.amount)])]}buildDataPartsForSingleESDTNFTTransfer(e,r){let n=e.token,i=this.tokenComputer.extractIdentifierFromExtendedIdentifier(n.identifier);return["ESDTNFTTransfer",...this.argsSerializer.valuesToStrings([new Pa.TokenIdentifierValue(i),new Pa.BigUIntValue(n.nonce),new Pa.BigUIntValue(e.amount),new Pa.AddressValue(r)])]}buildDataPartsForMultiESDTNFTTransfer(e,r){let n=[new Pa.AddressValue(e),new Pa.U32Value(r.length)];for(let s of r){let a=this.tokenComputer.extractIdentifierFromExtendedIdentifier(s.token.identifier);n.push(new Pa.TokenIdentifierValue(a),new Pa.BigUIntValue(s.token.nonce),new Pa.BigUIntValue(s.amount))}return["MultiESDTNFTTransfer",...this.argsSerializer.valuesToStrings(n)]}};xw.TokenTransfersDataBuilder=Gx});var Kx=R(Cw=>{"use strict";l();Object.defineProperty(Cw,"__esModule",{value:!0});Cw.SmartContractTransactionsFactory=void 0;var rH=qt(),nH=Dn(),Wbe=It(),Qbe=iu(),Tw=Qs(),$be=Sw(),Ybe=dn(),iH=Gf(),Iw=su(),Jbe=jx(),g1=Bh(),zx=class{constructor(e){this.config=e.config,this.abi=e.abi,this.tokenComputer=new iH.TokenComputer,this.dataArgsBuilder=new Jbe.TokenTransfersDataBuilder,this.contractDeployAddress=rH.Address.fromHex(nH.CONTRACT_DEPLOY_ADDRESS_HEX,this.config.addressHrp)}createTransactionForDeploy(e){let r=e.nativeTransferAmount??0n,n=e.isUpgradeable??!0,i=e.isReadable??!0,s=e.isPayable??!1,a=e.isPayableBySmartContract??!0,o=e.arguments||[],c=new Tw.CodeMetadata(n,i,s,a),u=[Iw.byteArrayToHex(e.bytecode),Iw.byteArrayToHex(nH.VM_TYPE_WASM_VM),c.toString()],f=this.abi?.constructorDefinition,d=this.argsToDataParts(o,f);return u.push(...d),new g1.TransactionBuilder({config:this.config,sender:e.sender,receiver:this.contractDeployAddress,dataParts:u,gasLimit:e.gasLimit,addDataMovementGas:!1,amount:r}).build()}createTransactionForExecute(e){let r=e.arguments||[],n=e.tokenTransfers?[...e.tokenTransfers]:[],i=e.nativeTransferAmount??0n,s=n.length;i&&s&&(n.push(iH.TokenTransfer.newFromEgldAmount(i)),i=0n,s++);let a=e.contract,o=[];if(s===1){let f=n[0];this.tokenComputer.isFungible(f.token)?o=this.dataArgsBuilder.buildDataPartsForESDTTransfer(f):(o=this.dataArgsBuilder.buildDataPartsForSingleESDTNFTTransfer(f,a),a=e.sender)}else s>1&&(o=this.dataArgsBuilder.buildDataPartsForMultiESDTNFTTransfer(a,n),a=e.sender);o.push(o.length?Iw.utf8ToHex(e.function):e.function);let c=this.abi?.getEndpoint(e.function),u=this.argsToDataParts(r,c);return o.push(...u),new g1.TransactionBuilder({config:this.config,sender:e.sender,receiver:a,dataParts:o,gasLimit:e.gasLimit,addDataMovementGas:!1,amount:i}).build()}createTransactionForUpgrade(e){let r=e.nativeTransferAmount??0n,n=e.isUpgradeable??!0,i=e.isReadable??!0,s=e.isPayable??!1,a=e.isPayableBySmartContract??!0,o=e.arguments||[],c=new Tw.CodeMetadata(n,i,s,a),u=["upgradeContract",Iw.byteArrayToHex(e.bytecode),c.toString()],f=this.getEndpointForUpgrade(),d=this.argsToDataParts(o,f);return u.push(...d),new g1.TransactionBuilder({config:this.config,sender:e.sender,receiver:e.contract,dataParts:u,gasLimit:e.gasLimit,addDataMovementGas:!1,amount:r}).build()}getEndpointForUpgrade(){if(this.abi){if(this.abi.upgradeConstructorDefinition)return this.abi.upgradeConstructorDefinition;try{return this.abi.getEndpoint("upgrade")}catch{return Qbe.Logger.warn("In the ABI, cannot find the 'upgrade' endpoint definition. Will use the constructor definition (fallback)."),this.abi.constructorDefinition}}}createTransactionForClaimingDeveloperRewards(e){let r=["ClaimDeveloperRewards"];return new g1.TransactionBuilder({config:this.config,sender:e.sender,receiver:e.contract,dataParts:r,gasLimit:this.config.gasLimitClaimDeveloperRewards,addDataMovementGas:!1}).build()}createTransactionForChangingOwnerAddress(e){let r=["ChangeOwnerAddress",rH.Address.fromBech32(e.newOwner.bech32()).toHex()];return new g1.TransactionBuilder({config:this.config,sender:e.sender,receiver:e.contract,dataParts:r,gasLimit:this.config.gasLimitChangeOwnerAddress,addDataMovementGas:!1}).build()}argsToDataParts(e,r){if(r){let n=$be.NativeSerializer.nativeToTypedValues(e,r);return new Tw.ArgSerializer().valuesToStrings(n)}if(this.areArgsOfTypedValue(e))return new Tw.ArgSerializer().valuesToStrings(e);throw new Wbe.Err("Can't convert args to TypedValues")}areArgsOfTypedValue(e){return e.every(r=>Ybe.isTyped(r))}};Cw.SmartContractTransactionsFactory=zx});var sH=R(Nw=>{"use strict";l();Object.defineProperty(Nw,"__esModule",{value:!0});Nw.TokenManagementTransactionsFactory=void 0;var Xbe=qt(),Zbe=Dn(),e2e=It(),t2e=iu(),be=Qs(),Rr=Bh(),Wx=class{constructor(e){this.config=e.config,this.argSerializer=new be.ArgSerializer,this.trueAsString="true",this.falseAsString="false",this.esdtContractAddress=Xbe.Address.fromHex(Zbe.ESDT_CONTRACT_ADDRESS_HEX,this.config.addressHrp)}createTransactionForIssuingFungible(e){this.notifyAboutUnsettingBurnRoleGlobally();let r=[new be.StringValue(e.tokenName),new be.StringValue(e.tokenTicker),new be.BigUIntValue(e.initialSupply),new be.BigUIntValue(e.numDecimals),new be.StringValue("canFreeze"),new be.StringValue(this.boolToString(e.canFreeze)),new be.StringValue("canWipe"),new be.StringValue(this.boolToString(e.canWipe)),new be.StringValue("canPause"),new be.StringValue(this.boolToString(e.canPause)),new be.StringValue("canChangeOwner"),new be.StringValue(this.boolToString(e.canChangeOwner)),new be.StringValue("canUpgrade"),new be.StringValue(this.boolToString(e.canUpgrade)),new be.StringValue("canAddSpecialRoles"),new be.StringValue(this.boolToString(e.canAddSpecialRoles))],n=["issue",...this.argSerializer.valuesToStrings(r)];return new Rr.TransactionBuilder({config:this.config,sender:e.sender,receiver:this.esdtContractAddress,dataParts:n,gasLimit:this.config.gasLimitIssue,addDataMovementGas:!0,amount:this.config.issueCost}).build()}createTransactionForIssuingSemiFungible(e){this.notifyAboutUnsettingBurnRoleGlobally();let r=[new be.StringValue(e.tokenName),new be.StringValue(e.tokenTicker),new be.StringValue("canFreeze"),new be.StringValue(this.boolToString(e.canFreeze)),new be.StringValue("canWipe"),new be.StringValue(this.boolToString(e.canWipe)),new be.StringValue("canPause"),new be.StringValue(this.boolToString(e.canPause)),new be.StringValue("canTransferNFTCreateRole"),new be.StringValue(this.boolToString(e.canTransferNFTCreateRole)),new be.StringValue("canChangeOwner"),new be.StringValue(this.boolToString(e.canChangeOwner)),new be.StringValue("canUpgrade"),new be.StringValue(this.boolToString(e.canUpgrade)),new be.StringValue("canAddSpecialRoles"),new be.StringValue(this.boolToString(e.canAddSpecialRoles))],n=["issueSemiFungible",...this.argSerializer.valuesToStrings(r)];return new Rr.TransactionBuilder({config:this.config,sender:e.sender,receiver:this.esdtContractAddress,dataParts:n,gasLimit:this.config.gasLimitIssue,addDataMovementGas:!0,amount:this.config.issueCost}).build()}createTransactionForIssuingNonFungible(e){this.notifyAboutUnsettingBurnRoleGlobally();let r=[new be.StringValue(e.tokenName),new be.StringValue(e.tokenTicker),new be.StringValue("canFreeze"),new be.StringValue(this.boolToString(e.canFreeze)),new be.StringValue("canWipe"),new be.StringValue(this.boolToString(e.canWipe)),new be.StringValue("canPause"),new be.StringValue(this.boolToString(e.canPause)),new be.StringValue("canTransferNFTCreateRole"),new be.StringValue(this.boolToString(e.canTransferNFTCreateRole)),new be.StringValue("canChangeOwner"),new be.StringValue(this.boolToString(e.canChangeOwner)),new be.StringValue("canUpgrade"),new be.StringValue(this.boolToString(e.canUpgrade)),new be.StringValue("canAddSpecialRoles"),new be.StringValue(this.boolToString(e.canAddSpecialRoles))],n=["issueNonFungible",...this.argSerializer.valuesToStrings(r)];return new Rr.TransactionBuilder({config:this.config,sender:e.sender,receiver:this.esdtContractAddress,dataParts:n,gasLimit:this.config.gasLimitIssue,addDataMovementGas:!0,amount:this.config.issueCost}).build()}createTransactionForRegisteringMetaESDT(e){this.notifyAboutUnsettingBurnRoleGlobally();let r=[new be.StringValue(e.tokenName),new be.StringValue(e.tokenTicker),new be.BigUIntValue(e.numDecimals),new be.StringValue("canFreeze"),new be.StringValue(this.boolToString(e.canFreeze)),new be.StringValue("canWipe"),new be.StringValue(this.boolToString(e.canWipe)),new be.StringValue("canPause"),new be.StringValue(this.boolToString(e.canPause)),new be.StringValue("canTransferNFTCreateRole"),new be.StringValue(this.boolToString(e.canTransferNFTCreateRole)),new be.StringValue("canChangeOwner"),new be.StringValue(this.boolToString(e.canChangeOwner)),new be.StringValue("canUpgrade"),new be.StringValue(this.boolToString(e.canUpgrade)),new be.StringValue("canAddSpecialRoles"),new be.StringValue(this.boolToString(e.canAddSpecialRoles))],n=["registerMetaESDT",...this.argSerializer.valuesToStrings(r)];return new Rr.TransactionBuilder({config:this.config,sender:e.sender,receiver:this.esdtContractAddress,dataParts:n,gasLimit:this.config.gasLimitIssue,addDataMovementGas:!0,amount:this.config.issueCost}).build()}createTransactionForRegisteringAndSettingRoles(e){this.notifyAboutUnsettingBurnRoleGlobally();let r=["registerAndSetAllRoles",...this.argSerializer.valuesToStrings([new be.StringValue(e.tokenName),new be.StringValue(e.tokenTicker),new be.StringValue(e.tokenType),new be.BigUIntValue(e.numDecimals)])];return new Rr.TransactionBuilder({config:this.config,sender:e.sender,receiver:this.esdtContractAddress,dataParts:r,gasLimit:this.config.gasLimitIssue,addDataMovementGas:!0,amount:this.config.issueCost}).build()}createTransactionForSettingBurnRoleGlobally(e){let r=["setBurnRoleGlobally",...this.argSerializer.valuesToStrings([new be.StringValue(e.tokenIdentifier)])];return new Rr.TransactionBuilder({config:this.config,sender:e.sender,receiver:this.esdtContractAddress,dataParts:r,gasLimit:this.config.gasLimitToggleBurnRoleGlobally,addDataMovementGas:!0}).build()}createTransactionForUnsettingBurnRoleGlobally(e){let r=["unsetBurnRoleGlobally",...this.argSerializer.valuesToStrings([new be.StringValue(e.tokenIdentifier)])];return new Rr.TransactionBuilder({config:this.config,sender:e.sender,receiver:this.esdtContractAddress,dataParts:r,gasLimit:this.config.gasLimitToggleBurnRoleGlobally,addDataMovementGas:!0}).build()}createTransactionForSettingSpecialRoleOnFungibleToken(e){let r=[new be.StringValue(e.tokenIdentifier),new be.AddressValue(e.user)];e.addRoleLocalMint&&r.push(new be.StringValue("ESDTRoleLocalMint")),e.addRoleLocalBurn&&r.push(new be.StringValue("ESDTRoleLocalBurn")),e.addRoleESDTTransferRole&&r.push(new be.StringValue("ESDTTransferRole"));let n=["setSpecialRole",...this.argSerializer.valuesToStrings(r)];return new Rr.TransactionBuilder({config:this.config,sender:e.sender,receiver:this.esdtContractAddress,dataParts:n,gasLimit:this.config.gasLimitSetSpecialRole,addDataMovementGas:!0}).build()}createTransactionForSettingSpecialRoleOnSemiFungibleToken(e){let r=[new be.StringValue(e.tokenIdentifier),new be.AddressValue(e.user)];e.addRoleNFTCreate&&r.push(new be.StringValue("ESDTRoleNFTCreate")),e.addRoleNFTBurn&&r.push(new be.StringValue("ESDTRoleNFTBurn")),e.addRoleNFTAddQuantity&&r.push(new be.StringValue("ESDTRoleNFTAddQuantity")),e.addRoleESDTTransferRole&&r.push(new be.StringValue("ESDTTransferRole")),e.addRoleESDTModifyCreator&&r.push(new be.StringValue("ESDTRoleModifyCreator"));let n=["setSpecialRole",...this.argSerializer.valuesToStrings(r)];return new Rr.TransactionBuilder({config:this.config,sender:e.sender,receiver:this.esdtContractAddress,dataParts:n,gasLimit:this.config.gasLimitSetSpecialRole,addDataMovementGas:!0}).build()}createTransactionForSettingSpecialRoleOnMetaESDT(e){return this.createTransactionForSettingSpecialRoleOnSemiFungibleToken(e)}createTransactionForSettingSpecialRoleOnNonFungibleToken(e){let r=[new be.StringValue(e.tokenIdentifier),new be.AddressValue(e.user)];e.addRoleNFTCreate&&r.push(new be.StringValue("ESDTRoleNFTCreate")),e.addRoleNFTBurn&&r.push(new be.StringValue("ESDTRoleNFTBurn")),e.addRoleNFTUpdateAttributes&&r.push(new be.StringValue("ESDTRoleNFTUpdateAttributes")),e.addRoleNFTAddURI&&r.push(new be.StringValue("ESDTRoleNFTAddURI")),e.addRoleESDTTransferRole&&r.push(new be.StringValue("ESDTTransferRole")),e.addRoleESDTModifyCreator&&r.push(new be.StringValue("ESDTRoleModifyCreator")),e.addRoleNFTRecreate&&r.push(new be.StringValue("ESDTRoleNFTRecreate")),e.addRoleESDTSetNewURI&&r.push(new be.StringValue("ESDTRoleSetNewURI")),e.addRoleESDTModifyRoyalties&&r.push(new be.StringValue("ESDTRoleModifyRoyalties"));let n=["setSpecialRole",...this.argSerializer.valuesToStrings(r)];return new Rr.TransactionBuilder({config:this.config,sender:e.sender,receiver:this.esdtContractAddress,dataParts:n,gasLimit:this.config.gasLimitSetSpecialRole,addDataMovementGas:!0}).build()}createTransactionForCreatingNFT(e){let r=["ESDTNFTCreate",...this.argSerializer.valuesToStrings([new be.StringValue(e.tokenIdentifier),new be.BigUIntValue(e.initialQuantity),new be.StringValue(e.name),new be.BigUIntValue(e.royalties),new be.StringValue(e.hash),new be.BytesValue(y.Buffer.from(e.attributes)),...e.uris.map(s=>new be.StringValue(s))])],n=e.name+e.hash+e.attributes+e.uris.join(""),i=this.config.gasLimitStorePerByte+BigInt(n.length);return new Rr.TransactionBuilder({config:this.config,sender:e.sender,receiver:e.sender,dataParts:r,gasLimit:this.config.gasLimitEsdtNftCreate+i,addDataMovementGas:!0}).build()}createTransactionForPausing(e){let r=["pause",...this.argSerializer.valuesToStrings([new be.StringValue(e.tokenIdentifier)])];return new Rr.TransactionBuilder({config:this.config,sender:e.sender,receiver:e.sender,dataParts:r,gasLimit:this.config.gasLimitPausing,addDataMovementGas:!0}).build()}createTransactionForUnpausing(e){let r=["unPause",...this.argSerializer.valuesToStrings([new be.StringValue(e.tokenIdentifier)])];return new Rr.TransactionBuilder({config:this.config,sender:e.sender,receiver:e.sender,dataParts:r,gasLimit:this.config.gasLimitPausing,addDataMovementGas:!0}).build()}createTransactionForFreezing(e){let r=["freeze",...this.argSerializer.valuesToStrings([new be.StringValue(e.tokenIdentifier),new be.AddressValue(e.user)])];return new Rr.TransactionBuilder({config:this.config,sender:e.sender,receiver:e.sender,dataParts:r,gasLimit:this.config.gasLimitFreezing,addDataMovementGas:!0}).build()}createTransactionForUnfreezing(e){let r=["UnFreeze",...this.argSerializer.valuesToStrings([new be.StringValue(e.tokenIdentifier),new be.AddressValue(e.user)])];return new Rr.TransactionBuilder({config:this.config,sender:e.sender,receiver:e.sender,dataParts:r,gasLimit:this.config.gasLimitFreezing,addDataMovementGas:!0}).build()}createTransactionForWiping(e){let r=["wipe",...this.argSerializer.valuesToStrings([new be.StringValue(e.tokenIdentifier),new be.AddressValue(e.user)])];return new Rr.TransactionBuilder({config:this.config,sender:e.sender,receiver:e.sender,dataParts:r,gasLimit:this.config.gasLimitWiping,addDataMovementGas:!0}).build()}createTransactionForLocalMint(e){let r=["ESDTLocalMint",...this.argSerializer.valuesToStrings([new be.StringValue(e.tokenIdentifier),new be.BigUIntValue(e.supplyToMint)])];return new Rr.TransactionBuilder({config:this.config,sender:e.sender,receiver:e.sender,dataParts:r,gasLimit:this.config.gasLimitEsdtLocalMint,addDataMovementGas:!0}).build()}createTransactionForLocalBurning(e){let r=["ESDTLocalBurn",...this.argSerializer.valuesToStrings([new be.StringValue(e.tokenIdentifier),new be.BigUIntValue(e.supplyToBurn)])];return new Rr.TransactionBuilder({config:this.config,sender:e.sender,receiver:e.sender,dataParts:r,gasLimit:this.config.gasLimitEsdtLocalBurn,addDataMovementGas:!0}).build()}createTransactionForUpdatingAttributes(e){let r=["ESDTNFTUpdateAttributes",...this.argSerializer.valuesToStrings([new be.StringValue(e.tokenIdentifier),new be.BigUIntValue(e.tokenNonce),new be.BytesValue(y.Buffer.from(e.attributes))])];return new Rr.TransactionBuilder({config:this.config,sender:e.sender,receiver:e.sender,dataParts:r,gasLimit:this.config.gasLimitEsdtNftUpdateAttributes,addDataMovementGas:!0}).build()}createTransactionForAddingQuantity(e){let r=["ESDTNFTAddQuantity",...this.argSerializer.valuesToStrings([new be.StringValue(e.tokenIdentifier),new be.BigUIntValue(e.tokenNonce),new be.BigUIntValue(e.quantityToAdd)])];return new Rr.TransactionBuilder({config:this.config,sender:e.sender,receiver:e.sender,dataParts:r,gasLimit:this.config.gasLimitEsdtNftAddQuantity,addDataMovementGas:!0}).build()}createTransactionForBurningQuantity(e){let r=["ESDTNFTBurn",...this.argSerializer.valuesToStrings([new be.StringValue(e.tokenIdentifier),new be.BigUIntValue(e.tokenNonce),new be.BigUIntValue(e.quantityToBurn)])];return new Rr.TransactionBuilder({config:this.config,sender:e.sender,receiver:e.sender,dataParts:r,gasLimit:this.config.gasLimitEsdtNftBurn,addDataMovementGas:!0}).build()}createTransactionForModifyingRoyalties(e){let r=["ESDTModifyRoyalties",...this.argSerializer.valuesToStrings([new be.StringValue(e.tokenIdentifier),new be.BigUIntValue(e.tokenNonce),new be.BigUIntValue(e.newRoyalties)])];return new Rr.TransactionBuilder({config:this.config,sender:e.sender,receiver:e.sender,dataParts:r,gasLimit:this.config.gasLimitEsdtModifyRoyalties,addDataMovementGas:!0}).build()}createTransactionForSettingNewUris(e){if(!e.newUris.length)throw new e2e.ErrBadUsage("No URIs provided");let r=["ESDTSetNewURIs",...this.argSerializer.valuesToStrings([new be.StringValue(e.tokenIdentifier),new be.BigUIntValue(e.tokenNonce),...e.newUris.map(n=>new be.StringValue(n))])];return new Rr.TransactionBuilder({config:this.config,sender:e.sender,receiver:e.sender,dataParts:r,gasLimit:this.config.gasLimitSetNewUris,addDataMovementGas:!0}).build()}createTransactionForModifyingCreator(e){let r=["ESDTModifyCreator",...this.argSerializer.valuesToStrings([new be.StringValue(e.tokenIdentifier),new be.BigUIntValue(e.tokenNonce)])];return new Rr.TransactionBuilder({config:this.config,sender:e.sender,receiver:e.sender,dataParts:r,gasLimit:this.config.gasLimitEsdtModifyCreator,addDataMovementGas:!0}).build()}createTransactionForUpdatingMetadata(e){let r=["ESDTMetaDataUpdate",...this.argSerializer.valuesToStrings([new be.StringValue(e.tokenIdentifier),new be.BigUIntValue(e.tokenNonce),...e.newTokenName?[new be.StringValue(e.newTokenName)]:[],...e.newRoyalties?[new be.BigUIntValue(e.newRoyalties)]:[],...e.newHash?[new be.StringValue(e.newHash)]:[],...e.newAttributes?[new be.BytesValue(y.Buffer.from(e.newAttributes))]:[],...e.newUris?e.newUris.map(n=>new be.StringValue(n)):[]])];return new Rr.TransactionBuilder({config:this.config,sender:e.sender,receiver:e.sender,dataParts:r,gasLimit:this.config.gasLimitEsdtMetadataUpdate,addDataMovementGas:!0}).build()}createTransactionForMetadataRecreate(e){let r=["ESDTMetaDataRecreate",...this.argSerializer.valuesToStrings([new be.StringValue(e.tokenIdentifier),new be.BigUIntValue(e.tokenNonce),...e.newTokenName?[new be.StringValue(e.newTokenName)]:[],...e.newRoyalties?[new be.BigUIntValue(e.newRoyalties)]:[],...e.newHash?[new be.StringValue(e.newHash)]:[],...e.newAttributes?[new be.BytesValue(y.Buffer.from(e.newAttributes))]:[],...e.newUris?e.newUris.map(n=>new be.StringValue(n)):[]])];return new Rr.TransactionBuilder({config:this.config,sender:e.sender,receiver:e.sender,dataParts:r,gasLimit:this.config.gasLimitNftMetadataRecreate,addDataMovementGas:!0}).build()}createTransactionForChangingTokenToDynamic(e){let r=["changeToDynamic",...this.argSerializer.valuesToStrings([new be.StringValue(e.tokenIdentifier)])];return new Rr.TransactionBuilder({config:this.config,sender:e.sender,receiver:this.esdtContractAddress,dataParts:r,gasLimit:this.config.gasLimitNftChangeToDynamic,addDataMovementGas:!0}).build()}createTransactionForUpdatingTokenId(e){let r=["updateTokenID",...this.argSerializer.valuesToStrings([new be.StringValue(e.tokenIdentifier)])];return new Rr.TransactionBuilder({config:this.config,sender:e.sender,receiver:this.esdtContractAddress,dataParts:r,gasLimit:this.config.gasLimitUpdateTokenId,addDataMovementGas:!0}).build()}createTransactionForRegisteringDynamicToken(e){let r=["registerDynamic",...this.argSerializer.valuesToStrings([new be.StringValue(e.tokenName),new be.StringValue(e.tokenTicker),new be.StringValue(e.tokenType)])];return new Rr.TransactionBuilder({config:this.config,sender:e.sender,receiver:this.esdtContractAddress,dataParts:r,gasLimit:this.config.gasLimitRegisterDynamic,addDataMovementGas:!0,amount:this.config.issueCost}).build()}createTransactionForRegisteringDynamicAndSettingRoles(e){let r=["registerAndSetAllRolesDynamic",...this.argSerializer.valuesToStrings([new be.StringValue(e.tokenName),new be.StringValue(e.tokenTicker),new be.StringValue(e.tokenType)])];return new Rr.TransactionBuilder({config:this.config,sender:e.sender,receiver:this.esdtContractAddress,dataParts:r,gasLimit:this.config.gasLimitRegisterDynamic,addDataMovementGas:!0,amount:this.config.issueCost}).build()}notifyAboutUnsettingBurnRoleGlobally(){t2e.Logger.info(`
==========
IMPORTANT!
==========
You are about to issue (register) a new token. This will set the role "ESDTRoleBurnForAll" (globally).
Once the token is registered, you can unset this role by calling "unsetBurnRoleGlobally" (in a separate transaction).`)}boolToString(e){return e?this.trueAsString:this.falseAsString}};Nw.TokenManagementTransactionsFactory=Wx});var $x=R(Ow=>{"use strict";l();Object.defineProperty(Ow,"__esModule",{value:!0});Ow.TransactionsFactoryConfig=void 0;var r2e=wv(),Qx=class{constructor(e){this.chainID=e.chainID,this.addressHrp=r2e.LibraryConfig.DefaultAddressHrp,this.minGasLimit=50000n,this.gasLimitPerByte=1500n,this.gasLimitIssue=60000000n,this.gasLimitToggleBurnRoleGlobally=60000000n,this.gasLimitEsdtLocalMint=300000n,this.gasLimitEsdtLocalBurn=300000n,this.gasLimitSetSpecialRole=60000000n,this.gasLimitPausing=60000000n,this.gasLimitFreezing=60000000n,this.gasLimitWiping=60000000n,this.gasLimitEsdtNftCreate=3000000n,this.gasLimitEsdtNftUpdateAttributes=1000000n,this.gasLimitEsdtNftAddQuantity=1000000n,this.gasLimitEsdtNftBurn=1000000n,this.gasLimitStorePerByte=10000n,this.issueCost=50000000000000000n,this.gasLimitEsdtModifyRoyalties=60000000n,this.gasLimitEsdtModifyCreator=60000000n,this.gasLimitEsdtMetadataUpdate=60000000n,this.gasLimitSetNewUris=60000000n,this.gasLimitNftMetadataRecreate=60000000n,this.gasLimitNftChangeToDynamic=60000000n,this.gasLimitUpdateTokenId=60000000n,this.gasLimitRegisterDynamic=60000000n,this.gasLimitStake=5000000n,this.gasLimitUnstake=5000000n,this.gasLimitUnbond=5000000n,this.gasLimitCreateDelegationContract=50000000n,this.gasLimitDelegationOperations=1000000n,this.additionalGasLimitPerValidatorNode=6000000n,this.additionalGasLimitForDelegationOperations=10000000n,this.gasLimitSaveKeyValue=100000n,this.gasLimitPersistPerByte=1000n,this.gasLimitSetGuardian=250000n,this.gasLimitGuardAccount=250000n,this.gasLimitUnguardAccount=250000n,this.gasLimitESDTTransfer=200000n,this.gasLimitESDTNFTTransfer=200000n,this.gasLimitMultiESDTNFTTransfer=200000n,this.gasLimitClaimDeveloperRewards=6000000n,this.gasLimitChangeOwnerAddress=6000000n}};Ow.TransactionsFactoryConfig=Qx});var uH=R(Pw=>{"use strict";l();Object.defineProperty(Pw,"__esModule",{value:!0});Pw.TransferTransactionsFactory=void 0;var fl=It(),is=Qs(),aH=Gf(),y1=rs(),Yx=wc(),n2e=jx(),oH=Bh(),i2e=1e5,cH=8e5,Jx=class{constructor(e){this.isGasEstimator(e)?this.gasEstimator=e:(this.config=e.config,this.tokenComputer=new aH.TokenComputer,this.tokenTransfersDataBuilder=new n2e.TokenTransfersDataBuilder)}isGasEstimator(e){return typeof e=="object"&&typeof e.forEGLDTransfer=="function"&&typeof e.forESDTTransfer=="function"&&typeof e.forESDTNFTTransfer=="function"&&typeof e.forMultiESDTNFTTransfer=="function"}isGasEstimatorDefined(){return this.gasEstimator!==void 0}ensureConfigIsDefined(){if(this.config===void 0)throw new fl.Err("'config' is not defined")}createTransactionForNativeTokenTransfer(e){this.ensureConfigIsDefined();let r=e.data||new Uint8Array;return new y1.Transaction({sender:e.sender.bech32(),receiver:e.receiver.bech32(),chainID:this.config.chainID,gasLimit:this.computeGasForMoveBalance(this.config,r),data:r,value:e.nativeAmount})}createTransactionForESDTTokenTransfer(e){this.ensureConfigIsDefined();let r=e.tokenTransfers.length;if(r===0)throw new fl.ErrBadUsage("No token transfer has been provided");if(r===1)return this.createSingleESDTTransferTransaction(e);let n=this.tokenTransfersDataBuilder.buildDataPartsForMultiESDTNFTTransfer(e.receiver,e.tokenTransfers),i=this.config.gasLimitMultiESDTNFTTransfer*BigInt(r)+BigInt(cH);return new oH.TransactionBuilder({config:this.config,sender:e.sender,receiver:e.sender,dataParts:n,gasLimit:i,addDataMovementGas:!0}).build()}createTransactionForTransfer(e){let r=e.nativeAmount??0n,n=e.tokenTransfers?[...e.tokenTransfers]:[],i=n.length;if(i&&e.data?.length)throw new fl.ErrBadUsage("Can't set data field when sending esdt tokens");if(r&&i===0||e.data)return this.createTransactionForNativeTokenTransfer({sender:e.sender,receiver:e.receiver,nativeAmount:r,data:e.data});let s=r?aH.TokenTransfer.newFromEgldAmount(r):void 0;return s&&n.push(s),this.createTransactionForESDTTokenTransfer({sender:e.sender,receiver:e.receiver,tokenTransfers:n})}createEGLDTransfer(e){if(!this.isGasEstimatorDefined())throw new fl.Err("You are calling a legacy function to create an EGLD transfer transaction. If this is your intent, then instantiate the class using a `GasEstimator`. Or, instead, use the new, recommended `createTransactionForNativeTokenTransfer` method.");let r=e.data?.length()||0,n=this.gasEstimator.forEGLDTransfer(r);return new y1.Transaction({nonce:e.nonce,value:e.value,receiver:e.receiver,sender:e.sender,gasPrice:e.gasPrice,gasLimit:e.gasLimit||n,data:e.data,chainID:e.chainID})}createESDTTransfer(e){if(!this.isGasEstimatorDefined())throw new fl.Err("You are calling a legacy function to create an ESDT transfer transaction. If this is your intent, then instantiate the class using a `GasEstimator`. Or, instead, use the new, recommended `createTransactionForESDTTokenTransfer` method.");let{argumentsString:r}=new is.ArgSerializer().valuesToString([is.BytesValue.fromUTF8(e.tokenTransfer.tokenIdentifier),new is.BigUIntValue(e.tokenTransfer.valueOf())]),n=`ESDTTransfer@${r}`,i=new Yx.TransactionPayload(n),s=i.length()||0,a=this.gasEstimator.forESDTTransfer(s);return new y1.Transaction({nonce:e.nonce,receiver:e.receiver,sender:e.sender,gasPrice:e.gasPrice,gasLimit:e.gasLimit||a,data:i,chainID:e.chainID})}createESDTNFTTransfer(e){if(!this.isGasEstimatorDefined())throw new fl.Err("You are calling a legacy function to create an ESDTNFT transfer transaction. If this is your intent, then instantiate the class using a `GasEstimator`. Or, instead, use the new, recommended `createTransactionForESDTTokenTransfer` method.");let{argumentsString:r}=new is.ArgSerializer().valuesToString([is.BytesValue.fromUTF8(e.tokenTransfer.tokenIdentifier),new is.U64Value(e.tokenTransfer.nonce),new is.BigUIntValue(e.tokenTransfer.valueOf()),new is.AddressValue(e.destination)]),n=`ESDTNFTTransfer@${r}`,i=new Yx.TransactionPayload(n),s=i.length()||0,a=this.gasEstimator.forESDTNFTTransfer(s);return new y1.Transaction({nonce:e.nonce,receiver:e.sender,sender:e.sender,gasPrice:e.gasPrice,gasLimit:e.gasLimit||a,data:i,chainID:e.chainID})}createMultiESDTNFTTransfer(e){if(!this.isGasEstimatorDefined())throw new fl.Err("You are calling a legacy function to create a MultiESDTNFT transfer transaction. If this is your intent, then instantiate the class using a `GasEstimator`. Or, instead, use the new, recommended `createTransactionForESDTTokenTransfer` method.");let r=[new is.AddressValue(e.destination),new is.U16Value(e.tokenTransfers.length)];for(let c of e.tokenTransfers)r.push(is.BytesValue.fromUTF8(c.tokenIdentifier),new is.U64Value(c.nonce),new is.BigUIntValue(c.valueOf()));let{argumentsString:n}=new is.ArgSerializer().valuesToString(r),i=`MultiESDTNFTTransfer@${n}`,s=new Yx.TransactionPayload(i),a=s.length()||0,o=this.gasEstimator.forMultiESDTNFTTransfer(a,e.tokenTransfers.length);return new y1.Transaction({nonce:e.nonce,receiver:e.sender,sender:e.sender,gasPrice:e.gasPrice,gasLimit:e.gasLimit||o,data:s,chainID:e.chainID})}createSingleESDTTransferTransaction(e){this.ensureConfigIsDefined();let r=[],n=e.tokenTransfers[0],i=0n,s=e.receiver;return this.tokenComputer.isFungible(n.token)?(r=this.tokenTransfersDataBuilder.buildDataPartsForESDTTransfer(n),i=this.config.gasLimitESDTTransfer+BigInt(i2e)):(r=this.tokenTransfersDataBuilder.buildDataPartsForSingleESDTNFTTransfer(n,s),i=this.config.gasLimitESDTNFTTransfer+BigInt(cH),s=e.sender),new oH.TransactionBuilder({config:this.config,sender:e.sender,receiver:s,dataParts:r,gasLimit:i,addDataMovementGas:!0}).build()}computeGasForMoveBalance(e,r){return e.minGasLimit+e.gasLimitPerByte*BigInt(r.length)}};Pw.TransferTransactionsFactory=Jx});var fH=R(Dw=>{"use strict";l();Object.defineProperty(Dw,"__esModule",{value:!0});Dw.AccountTransactionsFactory=void 0;var s2e=qt(),Rw=Bh(),Xx=class{constructor(e){this.config=e.config}createTransactionForSavingKeyValue(e){let r="SaveKeyValue",n=this.computeDataPartsForSavingKeyValue(e.keyValuePairs),i=[r,...n],s=this.computeExtraGasForSavingKeyValue(e.keyValuePairs);return new Rw.TransactionBuilder({config:this.config,sender:e.sender,receiver:e.sender,dataParts:i,gasLimit:s,addDataMovementGas:!0}).build()}computeExtraGasForSavingKeyValue(e){let r=0n;return e.forEach((n,i)=>{r+=this.config.gasLimitPersistPerByte*BigInt(i.length+n.length)+this.config.gasLimitStorePerByte*BigInt(n.length)}),r+this.config.gasLimitSaveKeyValue}computeDataPartsForSavingKeyValue(e){let r=[];return e.forEach((n,i)=>{r.push(y.Buffer.from(i).toString("hex"),y.Buffer.from(n).toString("hex"))}),r}createTransactionForSettingGuardian(e){let r=["SetGuardian",s2e.Address.fromBech32(e.guardianAddress.bech32()).toHex(),y.Buffer.from(e.serviceID).toString("hex")];return new Rw.TransactionBuilder({config:this.config,sender:e.sender,receiver:e.sender,dataParts:r,gasLimit:this.config.gasLimitSetGuardian,addDataMovementGas:!0}).build()}createTransactionForGuardingAccount(e){let r=["GuardAccount"];return new Rw.TransactionBuilder({config:this.config,sender:e.sender,receiver:e.sender,dataParts:r,gasLimit:this.config.gasLimitGuardAccount,addDataMovementGas:!0}).build()}createTransactionForUnguardingAccount(e){let r=["UnGuardAccount"];return new Rw.TransactionBuilder({config:this.config,sender:e.sender,receiver:e.sender,dataParts:r,gasLimit:this.config.gasLimitUnguardAccount,addDataMovementGas:!0}).build()}};Dw.AccountTransactionsFactory=Xx});var Mw=R(Ss=>{"use strict";l();var a2e=Ss&&Ss.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ll=Ss&&Ss.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&a2e(e,t,r)};Object.defineProperty(Ss,"__esModule",{value:!0});ll(zV(),Ss);ll(eH(),Ss);ll(Kx(),Ss);ll(sH(),Ss);ll($x(),Ss);ll(uH(),Ss);ll(fH(),Ss)});var tT=R($s=>{"use strict";l();var o2e=$s&&$s.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),c2e=$s&&$s.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),u2e=$s&&$s.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&o2e(e,t,r);return c2e(e,t),e},f2e=$s&&$s.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty($s,"__esModule",{value:!0});$s.InteractionChecker=void 0;var Zx=u2e(It()),l2e=f2e(Pr()),eT=class{checkInteraction(e,r){this.checkPayable(e,r),this.checkArguments(e,r)}checkPayable(e,r){let n=!new l2e.default(e.getValue().toString()).isZero(),i=r.modifiers.isPayableInEGLD();if(n&&!i)throw new Zx.ErrContractInteraction("cannot send EGLD value to non-payable")}checkArguments(e,r){let n=r.input,i=e.getArguments(),s=n.length,a=i.length;if(s!=a)throw new Zx.ErrContractInteraction(`bad arguments, expected: ${s}, got: ${a}`);for(let o=0;o<s;o++){let c=n[o].type,f=i[o].getType();if(!c.isAssignableFrom(f))throw new Zx.ErrContractInteraction(`type mismatch at index ${o}, expected: ${c}, got: ${f}`)}}};$s.InteractionChecker=eT});var m1=R(Bw=>{"use strict";l();Object.defineProperty(Bw,"__esModule",{value:!0});Bw.Query=void 0;var d2e=qt(),h2e=Dh(),rT=class{constructor(e){this.caller=e.caller||d2e.Address.empty(),this.address=e.address,this.func=e.func,this.args=e.args||[],this.value=e.value||0}getEncodedArguments(){return new h2e.ArgSerializer().valuesToStrings(this.args)}};Bw.Query=rT});var sT=R(Lw=>{"use strict";l();Object.defineProperty(Lw,"__esModule",{value:!0});Lw.Interaction=void 0;var lH=qt(),p2e=Bx(),g2e=Dn(),nT=Gf(),dH=Mw(),y2e=tT(),m2e=m1(),iT=class{constructor(e,r,n){this.nonce=0,this.value="0",this.gasLimit=0,this.gasPrice=void 0,this.chainID="",this.querent=lH.Address.empty(),this.sender=lH.Address.empty(),this.version=g2e.TRANSACTION_VERSION_DEFAULT,this.contract=e,this.function=r,this.args=n,this.tokenTransfers=[]}getContractAddress(){return this.contract.getAddress()}getFunction(){return this.function}getEndpoint(){return this.contract.getEndpoint(this.function)}getArguments(){return this.args}getValue(){return this.value}getTokenTransfers(){return this.tokenTransfers}getGasLimit(){return this.gasLimit}getExplicitReceiver(){return this.explicitReceiver}buildTransaction(){p2e.Compatibility.guardAddressIsSetAndNonZero(this.sender,"'sender' of interaction","use interaction.withSender()");let e=new dH.TransactionsFactoryConfig({chainID:this.chainID.valueOf()}),n=new dH.SmartContractTransactionsFactory({config:e}).createTransactionForExecute({sender:this.sender,contract:this.contract.getAddress(),function:this.function.valueOf(),gasLimit:BigInt(this.gasLimit.valueOf()),arguments:this.args,nativeTransferAmount:BigInt(this.value.toString()),tokenTransfers:this.tokenTransfers});return n.chainID=this.chainID.valueOf(),n.nonce=BigInt(this.nonce.valueOf()),n.version=this.version,this.gasPrice&&(n.gasPrice=BigInt(this.gasPrice.valueOf())),n}buildQuery(){return new m2e.Query({address:this.contract.getAddress(),func:this.function,args:this.args,value:this.value,caller:this.querent})}withValue(e){return this.value=e,this}withSingleESDTTransfer(e){return this.tokenTransfers=[e].map(r=>new nT.TokenTransfer(r)),this}withSingleESDTNFTTransfer(e){return this.tokenTransfers=[e].map(r=>new nT.TokenTransfer(r)),this}withMultiESDTNFTTransfer(e){return this.tokenTransfers=e.map(r=>new nT.TokenTransfer(r)),this}withGasLimit(e){return this.gasLimit=e,this}withGasPrice(e){return this.gasPrice=e,this}withNonce(e){return this.nonce=e,this}useThenIncrementNonceOf(e){return this.withNonce(e.getNonceThenIncrement())}withChainID(e){return this.chainID=e,this}withSender(e){return this.sender=e,this}withVersion(e){return this.version=e,this}withQuerent(e){return this.querent=e,this}withExplicitReceiver(e){return this.explicitReceiver=e,this}check(){return new y2e.InteractionChecker().checkInteraction(this,this.getEndpoint()),this}};Lw.Interaction=iT});var aT=R(hH=>{"use strict";l();Object.defineProperty(hH,"__esModule",{value:!0})});var mH=R(Fh=>{"use strict";l();Object.defineProperty(Fh,"__esModule",{value:!0});Fh.bech32m=Fh.bech32=void 0;var qw="qpzry9x8gf2tvdw0s3jn54khce6mua7l",gH={};for(let t=0;t<qw.length;t++){let e=qw.charAt(t);gH[e]=t}function qh(t){let e=t>>25;return(t&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}function pH(t){let e=1;for(let r=0;r<t.length;++r){let n=t.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+t+")";e=qh(e)^n>>5}e=qh(e);for(let r=0;r<t.length;++r){let n=t.charCodeAt(r);e=qh(e)^n&31}return e}function oT(t,e,r,n){let i=0,s=0,a=(1<<r)-1,o=[];for(let c=0;c<t.length;++c)for(i=i<<e|t[c],s+=e;s>=r;)s-=r,o.push(i>>s&a);if(n)s>0&&o.push(i<<r-s&a);else{if(s>=e)return"Excess padding";if(i<<r-s&a)return"Non-zero padding"}return o}function v2e(t){return oT(t,8,5,!0)}function b2e(t){let e=oT(t,5,8,!1);if(Array.isArray(e))return e}function w2e(t){let e=oT(t,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}function yH(t){let e;t==="bech32"?e=1:e=734539939;function r(a,o,c){if(c=c||90,a.length+7+o.length>c)throw new TypeError("Exceeds length limit");a=a.toLowerCase();let u=pH(a);if(typeof u=="string")throw new Error(u);let f=a+"1";for(let d=0;d<o.length;++d){let m=o[d];if(m>>5)throw new Error("Non 5-bit word");u=qh(u)^m,f+=qw.charAt(m)}for(let d=0;d<6;++d)u=qh(u);u^=e;for(let d=0;d<6;++d){let m=u>>(5-d)*5&31;f+=qw.charAt(m)}return f}function n(a,o){if(o=o||90,a.length<8)return a+" too short";if(a.length>o)return"Exceeds length limit";let c=a.toLowerCase(),u=a.toUpperCase();if(a!==c&&a!==u)return"Mixed-case string "+a;a=c;let f=a.lastIndexOf("1");if(f===-1)return"No separator character for "+a;if(f===0)return"Missing prefix for "+a;let d=a.slice(0,f),m=a.slice(f+1);if(m.length<6)return"Data too short";let _=pH(d);if(typeof _=="string")return _;let x=[];for(let P=0;P<m.length;++P){let D=m.charAt(P),k=gH[D];if(k===void 0)return"Unknown character "+D;_=qh(_)^k,!(P+6>=m.length)&&x.push(k)}return _!==e?"Invalid checksum for "+a:{prefix:d,words:x}}function i(a,o){let c=n(a,o);if(typeof c=="object")return c}function s(a,o){let c=n(a,o);if(typeof c=="object")return c;throw new Error(c)}return{decodeUnsafe:i,decode:s,encode:r,toWords:v2e,fromWordsUnsafe:b2e,fromWords:w2e}}Fh.bech32=yH("bech32");Fh.bech32m=yH("bech32m")});var bH=R(Ys=>{"use strict";l();Object.defineProperty(Ys,"__esModule",{value:!0});Ys.TokenTransferProperties=Ys.TransactionMetadataTransfer=Ys.TransactionMetadata=Ys.TransactionToDecode=Ys.TransactionDecoder=void 0;var vH=mH(),cT=class{getTransactionMetadata(e){let r=this.getNormalTransactionMetadata(e),n=this.getEsdtTransactionMetadata(r);if(n)return n;let i=this.getNftTransferMetadata(r);if(i)return i;let s=this.getMultiTransferMetadata(r);return s||r}getNormalTransactionMetadata(e){let r=new dl;if(r.sender=e.sender,r.receiver=e.receiver,r.value=BigInt(e.value),e.data){let i=this.base64Decode(e.data).split("@"),s=i.slice(1);if(s.every(a=>this.isSmartContractArgument(a))&&(r.functionName=i[0],r.functionArgs=s),r.functionName==="relayedTx"&&r.functionArgs&&r.functionArgs.length===1)try{let a=JSON.parse(this.hexToString(r.functionArgs[0]));return a.value=a.value.toString(),a.sender=this.bech32Encode(this.base64ToHex(a.sender)),a.receiver=this.bech32Encode(this.base64ToHex(a.receiver)),this.getNormalTransactionMetadata(a)}catch{}if(r.functionName==="relayedTxV2"&&r.functionArgs&&r.functionArgs.length===4)try{let a=new Fw;return a.sender=e.receiver,a.receiver=this.bech32Encode(r.functionArgs[0]),a.data=this.base64Encode(this.hexToString(r.functionArgs[2])),a.value="0",this.getNormalTransactionMetadata(a)}catch{}}return r}getMultiTransferMetadata(e){if(e.sender!==e.receiver||e.functionName!=="MultiESDTNFTTransfer")return;let r=e.functionArgs;if(!r||r.length<3||!this.isAddressValid(r[0]))return;let n=this.bech32Encode(r[0]),i=this.hexToNumber(r[1]),s=new dl;s.transfers||(s.transfers=[]);let a=2;for(let o=0;o<i;o++){let c=this.hexToString(r[a++]),u=r[a++],f=this.hexToBigInt(r[a++]);u?s.transfers.push({value:f,properties:{collection:c,identifier:`${c}-${u}`}}):s.transfers.push({value:f,properties:{token:c}})}return s.sender=e.sender,s.receiver=n,r.length>a&&(s.functionName=this.hexToString(r[a++]),s.functionArgs=r.slice(a++)),s}getNftTransferMetadata(e){if(e.sender!==e.receiver||e.functionName!=="ESDTNFTTransfer")return;let r=e.functionArgs;if(!r||r.length<4||!this.isAddressValid(r[3]))return;let n=this.hexToString(r[0]),i=r[1],s=this.hexToBigInt(r[2]),a=this.bech32Encode(r[3]),o=new dl;return o.sender=e.sender,o.receiver=a,o.value=s,r.length>4&&(o.functionName=this.hexToString(r[4]),o.functionArgs=r.slice(5)),o.transfers=[{value:s,properties:{collection:n,identifier:`${n}-${i}`}}],o}base64Encode(e){return y.Buffer.from(e).toString("base64")}base64Decode(e){return y.Buffer.from(e,"base64").toString("binary")}hexToNumber(e){return parseInt(e,16)}getEsdtTransactionMetadata(e){if(e.functionName!=="ESDTTransfer")return;let r=e.functionArgs;if(!r||r.length<2)return;let n=this.hexToString(r[0]),i=this.hexToBigInt(r[1]),s=new dl;return s.sender=e.sender,s.receiver=e.receiver,r.length>2&&(s.functionName=this.hexToString(r[2]),s.functionArgs=r.slice(3)),s.transfers=[{value:i,properties:{identifier:n}}],s.value=i,s}bech32Encode(e){let r=y.Buffer.from(e,"hex"),n=vH.bech32.toWords(r);return vH.bech32.encode("erd",n)}isAddressValid(e){return y.Buffer.from(e,"hex").length==32}isSmartContractArgument(e){return!(!this.isHex(e)||e.length%2!==0)}isHex(e){return new RegExp(/[^a-f0-9]/gi).test(e)===!1}base64ToHex(e){return y.Buffer.from(e,"base64").toString("hex")}hexToString(e){return y.Buffer.from(e,"hex").toString("ascii")}hexToBigInt(e){return BigInt(e?"0x"+e:0)}};Ys.TransactionDecoder=cT;var Fw=class{constructor(){this.sender="",this.receiver="",this.data="",this.value="0"}};Ys.TransactionToDecode=Fw;var dl=class{constructor(){this.sender="",this.receiver="",this.value=BigInt(0)}};Ys.TransactionMetadata=dl;var uT=class{constructor(){this.value=BigInt(0)}};Ys.TransactionMetadataTransfer=uT;var fT=class{};Ys.TokenTransferProperties=fT});var lT=R(Uw=>{"use strict";l();Object.defineProperty(Uw,"__esModule",{value:!0});Uw.ReturnCode=void 0;var Fr=class t{constructor(e){this.text=e}static fromBuffer(e){let r=e.toString();return new t(r)}toString(){return this.text}valueOf(){return this.text}equals(e){return e?this.text==e.text:!1}isSuccess(){return this.equals(t.Ok)||this.equals(t.None)}};Uw.ReturnCode=Fr;Fr.None=new Fr("");Fr.Ok=new Fr("ok");Fr.FunctionNotFound=new Fr("function not found");Fr.FunctionWrongSignature=new Fr("wrong signature for function");Fr.ContractNotFound=new Fr("contract not found");Fr.UserError=new Fr("user error");Fr.OutOfGas=new Fr("out of gas");Fr.AccountCollision=new Fr("account collision");Fr.OutOfFunds=new Fr("out of funds");Fr.CallStackOverFlow=new Fr("call stack overflow");Fr.ContractInvalid=new Fr("contract invalid");Fr.ExecutionFailed=new Fr("execution failed");Fr.Unknown=new Fr("unknown")});var EH=R(kw=>{"use strict";l();Object.defineProperty(kw,"__esModule",{value:!0});kw.ResultsParser=void 0;var _2e=bH(),wH=qt(),_H=It(),Tu=iu(),E2e=Dh(),Uh=lT(),hl;(function(t){t.OnTransactionCompleted="completedTxEvent",t.OnSignalError="signalError",t.OnWriteLog="writeLog"})(hl||(hl={}));var dT;(function(t){t.TooMuchGas="@too much gas provided for processing"})(dT||(dT={}));var A2e={argsSerializer:new E2e.ArgSerializer},hT=class{constructor(e){e={...A2e,...e},this.argsSerializer=e.argsSerializer}parseQueryResponse(e,r){let n=e.getReturnDataParts(),i=this.argsSerializer.buffersToValues(n,r.output);return{returnCode:new Uh.ReturnCode(e.returnCode.toString()),returnMessage:e.returnMessage,values:i,firstValue:i[0],secondValue:i[1],thirdValue:i[2],lastValue:i[i.length-1]}}parseUntypedQueryResponse(e){return{returnCode:new Uh.ReturnCode(e.returnCode.toString()),returnMessage:e.returnMessage,values:e.getReturnDataParts()}}parseOutcome(e,r){let n=this.parseUntypedOutcome(e);return this.parseOutcomeFromUntypedBundle(n,r)}parseOutcomeFromUntypedBundle(e,r){let n=this.argsSerializer.buffersToValues(e.values,r.output);return{returnCode:e.returnCode,returnMessage:e.returnMessage,values:n,firstValue:n[0],secondValue:n[1],thirdValue:n[2],lastValue:n[n.length-1]}}parseUntypedOutcome(e){let r,n=this.parseTransactionMetadata(e);if(r=this.createBundleOnSimpleMoveBalance(e),r)return Tu.Logger.trace("parseUntypedOutcome(): on simple move balance"),r;if(r=this.createBundleOnInvalidTransaction(e),r)return Tu.Logger.trace("parseUntypedOutcome(): on invalid transaction"),r;if(r=this.createBundleOnEasilyFoundResultWithReturnData(e.contractResults),r)return Tu.Logger.trace("parseUntypedOutcome(): on easily found result with return data"),r;if(r=this.createBundleOnSignalError(e.logs),r)return Tu.Logger.trace("parseUntypedOutcome(): on signal error"),r;if(r=this.createBundleOnTooMuchGasWarning(e.logs),r)return Tu.Logger.trace("parseUntypedOutcome(): on 'too much gas' warning"),r;if(r=this.createBundleOnWriteLogWhereFirstTopicEqualsAddress(e.logs,e.sender),r)return Tu.Logger.trace("parseUntypedOutcome(): on writelog with topics[0] == tx.sender"),r;if(r=this.createBundleWithCustomHeuristics(e,n),r)return Tu.Logger.trace("parseUntypedOutcome(): with custom heuristics"),r;if(r=this.createBundleWithFallbackHeuristics(e,n),r)return Tu.Logger.trace("parseUntypedOutcome(): with fallback heuristics"),r;throw new _H.ErrCannotParseContractResults(`transaction ${e.hash.toString()}`)}parseTransactionMetadata(e){return new _2e.TransactionDecoder().getTransactionMetadata({sender:e.sender.bech32(),receiver:e.receiver.bech32(),data:e.data.toString("base64"),value:e.value.toString()})}createBundleOnSimpleMoveBalance(e){let r=e.contractResults.items.length==0,n=e.logs.events.length==0;return r&&n?{returnCode:Uh.ReturnCode.None,returnMessage:Uh.ReturnCode.None.toString(),values:[]}:null}createBundleOnInvalidTransaction(e){return e.status.isInvalid()&&e.receipt.data?{returnCode:Uh.ReturnCode.OutOfFunds,returnMessage:e.receipt.data,values:[]}:null}createBundleOnEasilyFoundResultWithReturnData(e){let r=e.items.find(a=>a.nonce.valueOf()!=0&&a.data.startsWith("@"));if(!r)return null;let{returnCode:n,returnDataParts:i}=this.sliceDataFieldInParts(r.data),s=r.returnMessage||n.toString();return{returnCode:n,returnMessage:s,values:i}}createBundleOnSignalError(e){let r=e.findSingleOrNoneEvent(hl.OnSignalError);if(!r)return null;let{returnCode:n,returnDataParts:i}=this.sliceDataFieldInParts(r.data),a=r.getLastTopic()?.toString()||n.toString();return{returnCode:n,returnMessage:a,values:i}}createBundleOnTooMuchGasWarning(e){let r=e.findSingleOrNoneEvent(hl.OnWriteLog,s=>s.findFirstOrNoneTopic(a=>a.toString().startsWith(dT.TooMuchGas))!=null);if(!r)return null;let{returnCode:n,returnDataParts:i}=this.sliceDataFieldInParts(r.data);return{returnCode:n,returnMessage:n.toString(),values:i}}createBundleOnWriteLogWhereFirstTopicEqualsAddress(e,r){let n=new wH.Address(r.bech32()).hex(),i=e.findSingleOrNoneEvent(hl.OnWriteLog,c=>c.findFirstOrNoneTopic(u=>u.hex()==n)!=null);if(!i)return null;let{returnCode:s,returnDataParts:a}=this.sliceDataFieldInParts(i.data),o=s.toString();return{returnCode:s,returnMessage:o,values:a}}createBundleWithCustomHeuristics(e,r){return null}createBundleWithFallbackHeuristics(e,r){let n=new wH.Address(r.receiver);for(let i of e.contractResults.items){let s=i.logs.findSingleOrNoneEvent(hl.OnWriteLog,a=>{let o=a.address.bech32()==e.sender.bech32(),c=a.topics[0]?.hex()==n.hex();return o&&c});if(s){let{returnCode:a,returnDataParts:o}=this.sliceDataFieldInParts(s.data),c=a.toString();return{returnCode:a,returnMessage:c,values:o}}}for(let i of e.contractResults.items){let s=i.logs.findSingleOrNoneEvent(hl.OnWriteLog,a=>a.address.bech32()==n.toBech32());if(s){let{returnCode:a,returnDataParts:o}=this.sliceDataFieldInParts(s.data),c=a.toString();return{returnCode:a,returnMessage:c,values:o}}}return null}sliceDataFieldInParts(e){let r=1;e.startsWith("ESDTTransfer")&&(r=3);let n=this.argsSerializer.stringToBuffers(e),i=n[r]||y.Buffer.from([]),s=n.slice(r+1);if(i.length==0)throw new _H.ErrCannotParseContractResults("no return code");return{returnCode:Uh.ReturnCode.fromBuffer(i),returnDataParts:s}}parseEvent(e,r){let n=e.topics.map(a=>y.Buffer.from(a.valueOf())).slice(1),i=e.dataPayload?.valueOf()||y.Buffer.from([]),s=e.additionalData?.map(a=>y.Buffer.from(a.valueOf()))||[];return s.length===0&&i.length&&s.push(y.Buffer.from(i)),this.doParseEvent({topics:n,dataItems:s,eventDefinition:r})}doParseEvent(e){let r={},n=e.eventDefinition.inputs.filter(o=>o.indexed),i=this.argsSerializer.buffersToValues(e.topics,n);for(let o=0;o<n.length;o++)r[n[o].name]=i[o].valueOf();let s=e.eventDefinition.inputs.filter(o=>!o.indexed),a=this.argsSerializer.buffersToValues(e.dataItems,s);for(let o=0;o<s.length;o++)r[s[o].name]=a[o].valueOf();return r}};kw.ResultsParser=hT});var TH=R(Hw=>{"use strict";l();Object.defineProperty(Hw,"__esModule",{value:!0});Hw.SmartContract=void 0;var Vw=qt(),pT=Bx(),gT=Dn(),S2e=It(),yT=Kx(),mT=$x(),x2e=Ji(),AH=Q2(),SH=Dx(),xH=sT(),T2e=Sw(),I2e=m1(),vT=class{constructor(e={}){this.address=Vw.Address.empty(),this.methodsExplicit={},this.methods={},this.address=e.address||Vw.Address.empty(),this.abi=e.abi,this.abi&&this.setupMethods()}setupMethods(){let e=this,r=this.getAbi();for(let n of r.getEndpoints()){let i=n.name;this.methodsExplicit[i]=function(s){let a=new SH.ContractFunction(i);return new xH.Interaction(e,a,s||[])},this.methods[i]=function(s){let a=new SH.ContractFunction(i),o=T2e.NativeSerializer.nativeToTypedValues(s||[],n);return new xH.Interaction(e,a,o||[])}}}setAddress(e){this.address=e}getAddress(){return this.address}getAbi(){return x2e.guardValueIsSet("abi",this.abi),this.abi}getEndpoint(e){return this.getAbi().getEndpoint(e)}deploy({deployer:e,code:r,codeMetadata:n,initArguments:i,value:s,gasLimit:a,gasPrice:o,chainID:c}){pT.Compatibility.guardAddressIsSetAndNonZero(e,"'deployer' of SmartContract.deploy()","pass the actual address to deploy()");let u=new mT.TransactionsFactoryConfig({chainID:c.valueOf()}),f=new yT.SmartContractTransactionsFactory({config:u,abi:this.abi}),d=y.Buffer.from(r.toString(),"hex"),m=this.getMetadataPropertiesAsObject(n),_=f.createTransactionForDeploy({sender:e,bytecode:d,gasLimit:BigInt(a.valueOf()),arguments:i,isUpgradeable:m.upgradeable,isReadable:m.readable,isPayable:m.payable,isPayableBySmartContract:m.payableBySc});return _.setChainID(c),_.setValue(s??0),_.setGasPrice(o??gT.TRANSACTION_MIN_GAS_PRICE),_}getMetadataPropertiesAsObject(e){let r;return e?r=AH.CodeMetadata.fromBytes(y.Buffer.from(e.toString(),"hex")):r=new AH.CodeMetadata,r.toJSON()}upgrade({caller:e,code:r,codeMetadata:n,initArguments:i,value:s,gasLimit:a,gasPrice:o,chainID:c}){pT.Compatibility.guardAddressIsSetAndNonZero(e,"'caller' of SmartContract.upgrade()","pass the actual address to upgrade()"),this.ensureHasAddress();let u=new mT.TransactionsFactoryConfig({chainID:c.valueOf()}),f=new yT.SmartContractTransactionsFactory({config:u,abi:this.abi}),d=Uint8Array.from(y.Buffer.from(r.toString(),"hex")),m=this.getMetadataPropertiesAsObject(n),_=f.createTransactionForUpgrade({sender:e,contract:this.getAddress(),bytecode:d,gasLimit:BigInt(a.valueOf()),arguments:i,isUpgradeable:m.upgradeable,isReadable:m.readable,isPayable:m.payable,isPayableBySmartContract:m.payableBySc});return _.setChainID(c),_.setValue(s??0),_.setGasPrice(o??gT.TRANSACTION_MIN_GAS_PRICE),_}call({func:e,args:r,value:n,gasLimit:i,receiver:s,gasPrice:a,chainID:o,caller:c}){pT.Compatibility.guardAddressIsSetAndNonZero(c,"'caller' of SmartContract.call()","pass the actual address to call()"),this.ensureHasAddress();let u=new mT.TransactionsFactoryConfig({chainID:o.valueOf()}),f=new yT.SmartContractTransactionsFactory({config:u,abi:this.abi});r=r||[],n=n||0;let d=f.createTransactionForExecute({sender:c,contract:s||this.getAddress(),function:e.toString(),gasLimit:BigInt(i.valueOf()),arguments:r});return d.setChainID(o),d.setValue(n),d.setGasPrice(a??gT.TRANSACTION_MIN_GAS_PRICE),d}createQuery({func:e,args:r,value:n,caller:i}){return this.ensureHasAddress(),new I2e.Query({address:this.getAddress(),func:e,args:r,value:n,caller:i})}ensureHasAddress(){if(!this.getAddress().bech32())throw new S2e.ErrContractHasNoAddress}static computeAddress(e,r){let n=Vw.Address.fromBech32(e.bech32());return new Vw.AddressComputer().computeContractAddress(n,BigInt(r.valueOf()))}};Hw.SmartContract=vT});var IH=R(Iu=>{"use strict";l();Object.defineProperty(Iu,"__esModule",{value:!0});Iu.ContractCallPayloadBuilder=Iu.ContractUpgradePayloadBuilder=Iu.ContractDeployPayloadBuilder=void 0;var C2e=Dn(),ET=wc(),AT=Ji(),N2e=Dh(),bT=class{constructor(){this.code=null,this.codeMetadata="",this.arguments=[]}setCode(e){return this.code=e,this}setCodeMetadata(e){return this.codeMetadata=e,this}addInitArg(e){return this.arguments.push(e),this}setInitArgs(e){return this.arguments=e,this}build(){AT.guardValueIsSet("code",this.code);let e=this.code.toString(),r=this.codeMetadata.toString(),n=`${e}@${C2e.WasmVirtualMachine}@${r}`;return n=ST(n,this.arguments),new ET.TransactionPayload(n)}};Iu.ContractDeployPayloadBuilder=bT;var wT=class{constructor(){this.code=null,this.codeMetadata="",this.arguments=[]}setCode(e){return this.code=e,this}setCodeMetadata(e){return this.codeMetadata=e,this}addInitArg(e){return this.arguments.push(e),this}setInitArgs(e){return this.arguments=e,this}build(){AT.guardValueIsSet("code",this.code);let e=this.code.toString(),r=this.codeMetadata.toString(),n=`upgradeContract@${e}@${r}`;return n=ST(n,this.arguments),new ET.TransactionPayload(n)}};Iu.ContractUpgradePayloadBuilder=wT;var _T=class{constructor(){this.contractFunction=null,this.arguments=[]}setFunction(e){return this.contractFunction=e,this}addArg(e){return this.arguments.push(e),this}setArgs(e){return this.arguments=e,this}build(){AT.guardValueIsSet("calledFunction",this.contractFunction);let e=this.contractFunction.toString();return e=ST(e,this.arguments),new ET.TransactionPayload(e)}};Iu.ContractCallPayloadBuilder=_T;function ST(t,e){let{argumentsString:r,count:n}=new N2e.ArgSerializer().valuesToString(e);return n==0?t:`${t}@${r}`}});var Qs=R(In=>{"use strict";l();var O2e=In&&In.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Fi=In&&In.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&O2e(e,t,r)};Object.defineProperty(In,"__esModule",{value:!0});Fi(Dh(),In);Fi(jV(),In);Fi(Ax(),In);Fi(Q2(),In);Fi(Dx(),In);Fi(sT(),In);Fi(tT(),In);Fi(aT(),In);Fi(Sw(),In);Fi(m1(),In);Fi(EH(),In);Fi(lT(),In);Fi(TH(),In);Fi(IH(),In);Fi(dn(),In)});var kh=R(qn=>{"use strict";l();Object.defineProperty(qn,"__esModule",{value:!0});qn.gatherAllEvents=qn.findEventsByFirstTopic=qn.findEventsByIdentifier=qn.findEventsByPredicate=qn.SmartContractCallOutcome=qn.TransactionOutcome=qn.SmartContractResult=qn.TransactionLogs=qn.TransactionEvent=void 0;var xT=class{constructor(e){this.address="",this.identifier="",this.topics=[],this.dataItems=[],Object.assign(this,e)}};qn.TransactionEvent=xT;var v1=class{constructor(e){this.address="",this.events=[],Object.assign(this,e)}};qn.TransactionLogs=v1;var TT=class{constructor(e){this.sender="",this.receiver="",this.data=new Uint8Array,this.logs=new v1({}),Object.assign(this,e)}};qn.SmartContractResult=TT;var IT=class{constructor(e){this.directSmartContractCallOutcome=new Gw({}),this.smartContractResults=[],this.logs=new v1({}),Object.assign(this,e)}};qn.TransactionOutcome=IT;var Gw=class{constructor(e){this.function="",this.returnDataParts=[],this.returnMessage="",this.returnCode="",Object.assign(this,e)}};qn.SmartContractCallOutcome=Gw;function CT(t,e){return CH(t).filter(e)}qn.findEventsByPredicate=CT;function P2e(t,e){return CT(t,r=>r.identifier==e)}qn.findEventsByIdentifier=P2e;function R2e(t,e){return CT(t,r=>r.topics[0]?.toString()==e)}qn.findEventsByFirstTopic=R2e;function CH(t){let e=[];e.push(...t.logs.events);for(let r of t.smartContractResults)e.push(...r.logs.events);return e}qn.gatherAllEvents=CH});var b1=R(jw=>{"use strict";l();Object.defineProperty(jw,"__esModule",{value:!0});jw.TransactionsConverter=void 0;var D2e=Qs(),M2e=rs(),Vh=kh(),NT=class{transactionToPlainObject(e){return{nonce:Number(e.nonce),value:e.value.toString(),receiver:e.receiver,sender:e.sender,senderUsername:this.toBase64OrUndefined(e.senderUsername),receiverUsername:this.toBase64OrUndefined(e.receiverUsername),gasPrice:Number(e.gasPrice),gasLimit:Number(e.gasLimit),data:this.toBase64OrUndefined(e.data),chainID:e.chainID.valueOf(),version:e.version,options:e.options==0?void 0:e.options,guardian:e.guardian?e.guardian:void 0,signature:this.toHexOrUndefined(e.signature),guardianSignature:this.toHexOrUndefined(e.guardianSignature),relayer:e.relayer?e.relayer:void 0,innerTransactions:e.innerTransactions.length?e.innerTransactions.map(n=>this.transactionToPlainObject(n)):void 0}}toBase64OrUndefined(e){return e&&e.length?y.Buffer.from(e).toString("base64"):void 0}toHexOrUndefined(e){return e&&e.length?y.Buffer.from(e).toString("hex"):void 0}plainObjectToTransaction(e){return new M2e.Transaction({nonce:BigInt(e.nonce),value:BigInt(e.value||""),receiver:e.receiver,receiverUsername:this.bufferFromBase64(e.receiverUsername).toString(),sender:e.sender,senderUsername:this.bufferFromBase64(e.senderUsername).toString(),guardian:e.guardian,gasPrice:BigInt(e.gasPrice),gasLimit:BigInt(e.gasLimit),data:this.bufferFromBase64(e.data),chainID:String(e.chainID),version:Number(e.version),options:Number(e.options),signature:this.bufferFromHex(e.signature),guardianSignature:this.bufferFromHex(e.guardianSignature),relayer:e.relayer,innerTransactions:e.innerTransactions?e.innerTransactions.map(n=>this.plainObjectToTransaction(n)):void 0})}bufferFromBase64(e){return y.Buffer.from(e||"","base64")}bufferFromHex(e){return y.Buffer.from(e||"","hex")}transactionOnNetworkToOutcome(e){let n=new D2e.ResultsParser().parseUntypedOutcome(e),i=new Vh.SmartContractCallOutcome({function:e.function,returnCode:n.returnCode.toString(),returnMessage:n.returnMessage,returnDataParts:n.values}),s=e.contractResults.items.map(o=>this.smartContractResultOnNetworkToSmartContractResult(o)),a=new Vh.TransactionLogs({address:e.logs.address.bech32(),events:e.logs.events.map(o=>this.eventOnNetworkToEvent(o))});return new Vh.TransactionOutcome({logs:a,smartContractResults:s,directSmartContractCallOutcome:i})}smartContractResultOnNetworkToSmartContractResult(e){return new Vh.SmartContractResult({sender:e.sender.bech32(),receiver:e.receiver.bech32(),data:y.Buffer.from(e.data),logs:new Vh.TransactionLogs({address:e.logs.address.bech32(),events:e.logs.events.map(r=>this.eventOnNetworkToEvent(r))})})}eventOnNetworkToEvent(e){let r=e.dataPayload?.valueOf()||y.Buffer.from(e.data||""),n=e.additionalData?.map(i=>y.Buffer.from(i.valueOf()))||[];return n.length===0&&r.length&&n.push(y.Buffer.from(r)),new Vh.TransactionEvent({address:e.address.bech32(),identifier:e.identifier,topics:e.topics.map(i=>y.Buffer.from(i.hex(),"hex")),dataItems:n})}};jw.TransactionsConverter=NT});var NH=R(Io=>{"use strict";l();var B2e=Io&&Io.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),L2e=Io&&Io.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),q2e=Io&&Io.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&B2e(e,t,r);return L2e(e,t),e};Object.defineProperty(Io,"__esModule",{value:!0});Io.Hash=void 0;var F2e=q2e(It()),OT=class t{constructor(e){if(!e)this.hash=y.Buffer.from([]);else if(e instanceof y.Buffer)this.hash=e;else if(typeof e=="string")this.hash=y.Buffer.from(e,"hex");else throw new F2e.ErrBadType("hash","buffer | string",e)}static empty(){return new t(y.Buffer.from([]))}isEmpty(){return this.hash.length==0}toString(){return this.hex()}hex(){return this.hash.toString("hex")}valueOf(){return this.hash}};Io.Hash=OT});var zw=R(Js=>{"use strict";l();var U2e=Js&&Js.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),k2e=Js&&Js.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),V2e=Js&&Js.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&U2e(e,t,r);return k2e(e,t),e};Object.defineProperty(Js,"__esModule",{value:!0});Js.interpretSignatureAsBuffer=Js.Signature=void 0;var OH=V2e(It()),PH=64,PT=class t{constructor(e){if(this.valueHex="",!!e){if(typeof e=="string")return t.fromHex(e);if(ArrayBuffer.isView(e))return t.fromBuffer(y.Buffer.from(e))}}static empty(){return new t}static fromHex(e){if(e.startsWith("0x")&&(e=e.slice(2)),!t.isValidHex(e))throw new OH.ErrSignatureCannotCreate(e);return t.fromValidHex(e)}static isValidHex(e){return y.Buffer.from(e,"hex").length==PH}static fromValidHex(e){let r=new t;return r.valueHex=e,r}static fromBuffer(e){if(e.length!=PH)throw new OH.ErrSignatureCannotCreate(e);return t.fromValidHex(e.toString("hex"))}hex(){return this.valueHex}};Js.Signature=PT;function H2e(t){if(ArrayBuffer.isView(t))return y.Buffer.from(t);if(t.hex!=null)return y.Buffer.from(t.hex(),"hex");throw new Error(`Object cannot be interpreted as a signature: ${t}`)}Js.interpretSignatureAsBuffer=H2e});var DH=R((P$e,RH)=>{"use strict";l();RH.exports=G2e;function G2e(t,e){for(var r=new Array(arguments.length-1),n=0,i=2,s=!0;i<arguments.length;)r[n++]=arguments[i++];return new Promise(function(o,c){r[n]=function(f){if(s)if(s=!1,f)c(f);else{for(var d=new Array(arguments.length-1),m=0;m<d.length;)d[m++]=arguments[m];o.apply(null,d)}};try{t.apply(e||null,r)}catch(u){s&&(s=!1,c(u))}})}});var qH=R(LH=>{"use strict";l();var Kw=LH;Kw.length=function(e){var r=e.length;if(!r)return 0;for(var n=0;--r%4>1&&e.charAt(r)==="=";)++n;return Math.ceil(e.length*3)/4-n};var Hh=new Array(64),BH=new Array(123);for(Ra=0;Ra<64;)BH[Hh[Ra]=Ra<26?Ra+65:Ra<52?Ra+71:Ra<62?Ra-4:Ra-59|43]=Ra++;var Ra;Kw.encode=function(e,r,n){for(var i=null,s=[],a=0,o=0,c;r<n;){var u=e[r++];switch(o){case 0:s[a++]=Hh[u>>2],c=(u&3)<<4,o=1;break;case 1:s[a++]=Hh[c|u>>4],c=(u&15)<<2,o=2;break;case 2:s[a++]=Hh[c|u>>6],s[a++]=Hh[u&63],o=0;break}a>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,s)),a=0)}return o&&(s[a++]=Hh[c],s[a++]=61,o===1&&(s[a++]=61)),i?(a&&i.push(String.fromCharCode.apply(String,s.slice(0,a))),i.join("")):String.fromCharCode.apply(String,s.slice(0,a))};var MH="invalid encoding";Kw.decode=function(e,r,n){for(var i=n,s=0,a,o=0;o<e.length;){var c=e.charCodeAt(o++);if(c===61&&s>1)break;if((c=BH[c])===void 0)throw Error(MH);switch(s){case 0:a=c,s=1;break;case 1:r[n++]=a<<2|(c&48)>>4,a=c,s=2;break;case 2:r[n++]=(a&15)<<4|(c&60)>>2,a=c,s=3;break;case 3:r[n++]=(a&3)<<6|c,s=0;break}}if(s===1)throw Error(MH);return n-i};Kw.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}});var UH=R((B$e,FH)=>{"use strict";l();FH.exports=Ww;function Ww(){this._listeners={}}Ww.prototype.on=function(e,r,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:r,ctx:n||this}),this};Ww.prototype.off=function(e,r){if(e===void 0)this._listeners={};else if(r===void 0)this._listeners[e]=[];else for(var n=this._listeners[e],i=0;i<n.length;)n[i].fn===r?n.splice(i,1):++i;return this};Ww.prototype.emit=function(e){var r=this._listeners[e];if(r){for(var n=[],i=1;i<arguments.length;)n.push(arguments[i++]);for(i=0;i<r.length;)r[i].fn.apply(r[i++].ctx,n)}return this}});var KH=R((q$e,zH)=>{"use strict";l();zH.exports=kH(kH);function kH(t){return typeof Float32Array<"u"?function(){var e=new Float32Array([-0]),r=new Uint8Array(e.buffer),n=r[3]===128;function i(c,u,f){e[0]=c,u[f]=r[0],u[f+1]=r[1],u[f+2]=r[2],u[f+3]=r[3]}function s(c,u,f){e[0]=c,u[f]=r[3],u[f+1]=r[2],u[f+2]=r[1],u[f+3]=r[0]}t.writeFloatLE=n?i:s,t.writeFloatBE=n?s:i;function a(c,u){return r[0]=c[u],r[1]=c[u+1],r[2]=c[u+2],r[3]=c[u+3],e[0]}function o(c,u){return r[3]=c[u],r[2]=c[u+1],r[1]=c[u+2],r[0]=c[u+3],e[0]}t.readFloatLE=n?a:o,t.readFloatBE=n?o:a}():function(){function e(n,i,s,a){var o=i<0?1:0;if(o&&(i=-i),i===0)n(1/i>0?0:2147483648,s,a);else if(isNaN(i))n(2143289344,s,a);else if(i>34028234663852886e22)n((o<<31|2139095040)>>>0,s,a);else if(i<11754943508222875e-54)n((o<<31|Math.round(i/1401298464324817e-60))>>>0,s,a);else{var c=Math.floor(Math.log(i)/Math.LN2),u=Math.round(i*Math.pow(2,-c)*8388608)&8388607;n((o<<31|c+127<<23|u)>>>0,s,a)}}t.writeFloatLE=e.bind(null,VH),t.writeFloatBE=e.bind(null,HH);function r(n,i,s){var a=n(i,s),o=(a>>31)*2+1,c=a>>>23&255,u=a&8388607;return c===255?u?NaN:o*(1/0):c===0?o*1401298464324817e-60*u:o*Math.pow(2,c-150)*(u+8388608)}t.readFloatLE=r.bind(null,GH),t.readFloatBE=r.bind(null,jH)}(),typeof Float64Array<"u"?function(){var e=new Float64Array([-0]),r=new Uint8Array(e.buffer),n=r[7]===128;function i(c,u,f){e[0]=c,u[f]=r[0],u[f+1]=r[1],u[f+2]=r[2],u[f+3]=r[3],u[f+4]=r[4],u[f+5]=r[5],u[f+6]=r[6],u[f+7]=r[7]}function s(c,u,f){e[0]=c,u[f]=r[7],u[f+1]=r[6],u[f+2]=r[5],u[f+3]=r[4],u[f+4]=r[3],u[f+5]=r[2],u[f+6]=r[1],u[f+7]=r[0]}t.writeDoubleLE=n?i:s,t.writeDoubleBE=n?s:i;function a(c,u){return r[0]=c[u],r[1]=c[u+1],r[2]=c[u+2],r[3]=c[u+3],r[4]=c[u+4],r[5]=c[u+5],r[6]=c[u+6],r[7]=c[u+7],e[0]}function o(c,u){return r[7]=c[u],r[6]=c[u+1],r[5]=c[u+2],r[4]=c[u+3],r[3]=c[u+4],r[2]=c[u+5],r[1]=c[u+6],r[0]=c[u+7],e[0]}t.readDoubleLE=n?a:o,t.readDoubleBE=n?o:a}():function(){function e(n,i,s,a,o,c){var u=a<0?1:0;if(u&&(a=-a),a===0)n(0,o,c+i),n(1/a>0?0:2147483648,o,c+s);else if(isNaN(a))n(0,o,c+i),n(2146959360,o,c+s);else if(a>17976931348623157e292)n(0,o,c+i),n((u<<31|2146435072)>>>0,o,c+s);else{var f;if(a<22250738585072014e-324)f=a/5e-324,n(f>>>0,o,c+i),n((u<<31|f/4294967296)>>>0,o,c+s);else{var d=Math.floor(Math.log(a)/Math.LN2);d===1024&&(d=1023),f=a*Math.pow(2,-d),n(f*4503599627370496>>>0,o,c+i),n((u<<31|d+1023<<20|f*1048576&1048575)>>>0,o,c+s)}}}t.writeDoubleLE=e.bind(null,VH,0,4),t.writeDoubleBE=e.bind(null,HH,4,0);function r(n,i,s,a,o){var c=n(a,o+i),u=n(a,o+s),f=(u>>31)*2+1,d=u>>>20&2047,m=4294967296*(u&1048575)+c;return d===2047?m?NaN:f*(1/0):d===0?f*5e-324*m:f*Math.pow(2,d-1075)*(m+4503599627370496)}t.readDoubleLE=r.bind(null,GH,0,4),t.readDoubleBE=r.bind(null,jH,4,0)}(),t}function VH(t,e,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}function HH(t,e,r){e[r]=t>>>24,e[r+1]=t>>>16&255,e[r+2]=t>>>8&255,e[r+3]=t&255}function GH(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0}function jH(t,e){return(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}});var WH=R((exports,module)=>{"use strict";l();module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(t){}return null}});var $H=R(QH=>{"use strict";l();var RT=QH;RT.length=function(e){for(var r=0,n=0,i=0;i<e.length;++i)n=e.charCodeAt(i),n<128?r+=1:n<2048?r+=2:(n&64512)===55296&&(e.charCodeAt(i+1)&64512)===56320?(++i,r+=4):r+=3;return r};RT.read=function(e,r,n){var i=n-r;if(i<1)return"";for(var s=null,a=[],o=0,c;r<n;)c=e[r++],c<128?a[o++]=c:c>191&&c<224?a[o++]=(c&31)<<6|e[r++]&63:c>239&&c<365?(c=((c&7)<<18|(e[r++]&63)<<12|(e[r++]&63)<<6|e[r++]&63)-65536,a[o++]=55296+(c>>10),a[o++]=56320+(c&1023)):a[o++]=(c&15)<<12|(e[r++]&63)<<6|e[r++]&63,o>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,a)),o=0);return s?(o&&s.push(String.fromCharCode.apply(String,a.slice(0,o))),s.join("")):String.fromCharCode.apply(String,a.slice(0,o))};RT.write=function(e,r,n){for(var i=n,s,a,o=0;o<e.length;++o)s=e.charCodeAt(o),s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=s&63|128):(s&64512)===55296&&((a=e.charCodeAt(o+1))&64512)===56320?(s=65536+((s&1023)<<10)+(a&1023),++o,r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=s&63|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=s&63|128);return n-i}});var JH=R((H$e,YH)=>{"use strict";l();YH.exports=j2e;function j2e(t,e,r){var n=r||8192,i=n>>>1,s=null,a=n;return function(c){if(c<1||c>i)return t(c);a+c>n&&(s=t(n),a=0);var u=e.call(s,a,a+=c);return a&7&&(a=(a|7)+1),u}}});var ZH=R((j$e,XH)=>{"use strict";l();XH.exports=Xn;var w1=Nu();function Xn(t,e){this.lo=t>>>0,this.hi=e>>>0}var pl=Xn.zero=new Xn(0,0);pl.toNumber=function(){return 0};pl.zzEncode=pl.zzDecode=function(){return this};pl.length=function(){return 1};var z2e=Xn.zeroHash="\0\0\0\0\0\0\0\0";Xn.fromNumber=function(e){if(e===0)return pl;var r=e<0;r&&(e=-e);var n=e>>>0,i=(e-n)/4294967296>>>0;return r&&(i=~i>>>0,n=~n>>>0,++n>4294967295&&(n=0,++i>4294967295&&(i=0))),new Xn(n,i)};Xn.from=function(e){if(typeof e=="number")return Xn.fromNumber(e);if(w1.isString(e))if(w1.Long)e=w1.Long.fromString(e);else return Xn.fromNumber(parseInt(e,10));return e.low||e.high?new Xn(e.low>>>0,e.high>>>0):pl};Xn.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var r=~this.lo+1>>>0,n=~this.hi>>>0;return r||(n=n+1>>>0),-(r+n*4294967296)}return this.lo+this.hi*4294967296};Xn.prototype.toLong=function(e){return w1.Long?new w1.Long(this.lo|0,this.hi|0,!!e):{low:this.lo|0,high:this.hi|0,unsigned:!!e}};var Cu=String.prototype.charCodeAt;Xn.fromHash=function(e){return e===z2e?pl:new Xn((Cu.call(e,0)|Cu.call(e,1)<<8|Cu.call(e,2)<<16|Cu.call(e,3)<<24)>>>0,(Cu.call(e,4)|Cu.call(e,5)<<8|Cu.call(e,6)<<16|Cu.call(e,7)<<24)>>>0)};Xn.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};Xn.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this};Xn.prototype.zzDecode=function(){var e=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this};Xn.prototype.length=function(){var e=this.lo,r=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return n===0?r===0?e<16384?e<128?1:2:e<2097152?3:4:r<16384?r<128?5:6:r<2097152?7:8:n<128?9:10}});var Nu=R(DT=>{"use strict";l();var wt=DT;wt.asPromise=DH();wt.base64=qH();wt.EventEmitter=UH();wt.float=KH();wt.inquire=WH();wt.utf8=$H();wt.pool=JH();wt.LongBits=ZH();wt.isNode=!!(typeof global<"u"&&global&&global.process&&global.process.versions&&global.process.versions.node);wt.global=wt.isNode&&global||typeof window<"u"&&window||typeof self<"u"&&self||DT;wt.emptyArray=Object.freeze?Object.freeze([]):[];wt.emptyObject=Object.freeze?Object.freeze({}):{};wt.isInteger=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};wt.isString=function(e){return typeof e=="string"||e instanceof String};wt.isObject=function(e){return e&&typeof e=="object"};wt.isset=wt.isSet=function(e,r){var n=e[r];return n!=null&&e.hasOwnProperty(r)?typeof n!="object"||(Array.isArray(n)?n.length:Object.keys(n).length)>0:!1};wt.Buffer=function(){try{var t=wt.inquire("buffer").Buffer;return t.prototype.utf8Write?t:null}catch{return null}}();wt._Buffer_from=null;wt._Buffer_allocUnsafe=null;wt.newBuffer=function(e){return typeof e=="number"?wt.Buffer?wt._Buffer_allocUnsafe(e):new wt.Array(e):wt.Buffer?wt._Buffer_from(e):typeof Uint8Array>"u"?e:new Uint8Array(e)};wt.Array=typeof Uint8Array<"u"?Uint8Array:Array;wt.Long=wt.global.dcodeIO&&wt.global.dcodeIO.Long||wt.global.Long||wt.inquire("long");wt.key2Re=/^true|false|0|1$/;wt.key32Re=/^-?(?:0|[1-9][0-9]*)$/;wt.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;wt.longToHash=function(e){return e?wt.LongBits.from(e).toHash():wt.LongBits.zeroHash};wt.longFromHash=function(e,r){var n=wt.LongBits.fromHash(e);return wt.Long?wt.Long.fromBits(n.lo,n.hi,r):n.toNumber(!!r)};function eG(t,e,r){for(var n=Object.keys(e),i=0;i<n.length;++i)(t[n[i]]===void 0||!r)&&(t[n[i]]=e[n[i]]);return t}wt.merge=eG;wt.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)};function tG(t){function e(r,n){if(!(this instanceof e))return new e(r,n);Object.defineProperty(this,"message",{get:function(){return r}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:new Error().stack||""}),n&&eG(this,n)}return e.prototype=Object.create(Error.prototype,{constructor:{value:e,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return t},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),e}wt.newError=tG;wt.ProtocolError=tG("ProtocolError");wt.oneOfGetter=function(e){for(var r={},n=0;n<e.length;++n)r[e[n]]=1;return function(){for(var i=Object.keys(this),s=i.length-1;s>-1;--s)if(r[i[s]]===1&&this[i[s]]!==void 0&&this[i[s]]!==null)return i[s]}};wt.oneOfSetter=function(e){return function(r){for(var n=0;n<e.length;++n)e[n]!==r&&delete this[e[n]]}};wt.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};wt._configure=function(){var t=wt.Buffer;if(!t){wt._Buffer_from=wt._Buffer_allocUnsafe=null;return}wt._Buffer_from=t.from!==Uint8Array.from&&t.from||function(r,n){return new t(r,n)},wt._Buffer_allocUnsafe=t.allocUnsafe||function(r){return new t(r)}}});var kT=R((Q$e,sG)=>{"use strict";l();sG.exports=Ir;var Xs=Nu(),MT,Qw=Xs.LongBits,rG=Xs.base64,nG=Xs.utf8;function _1(t,e,r){this.fn=t,this.len=e,this.next=void 0,this.val=r}function LT(){}function K2e(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function Ir(){this.len=0,this.head=new _1(LT,0,0),this.tail=this.head,this.states=null}var iG=function(){return Xs.Buffer?function(){return(Ir.create=function(){return new MT})()}:function(){return new Ir}};Ir.create=iG();Ir.alloc=function(e){return new Xs.Array(e)};Xs.Array!==Array&&(Ir.alloc=Xs.pool(Ir.alloc,Xs.Array.prototype.subarray));Ir.prototype._push=function(e,r,n){return this.tail=this.tail.next=new _1(e,r,n),this.len+=r,this};function qT(t,e,r){e[r]=t&255}function W2e(t,e,r){for(;t>127;)e[r++]=t&127|128,t>>>=7;e[r]=t}function FT(t,e){this.len=t,this.next=void 0,this.val=e}FT.prototype=Object.create(_1.prototype);FT.prototype.fn=W2e;Ir.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new FT((e=e>>>0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this};Ir.prototype.int32=function(e){return e<0?this._push(UT,10,Qw.fromNumber(e)):this.uint32(e)};Ir.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)};function UT(t,e,r){for(;t.hi;)e[r++]=t.lo&127|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;t.lo>127;)e[r++]=t.lo&127|128,t.lo=t.lo>>>7;e[r++]=t.lo}Ir.prototype.uint64=function(e){var r=Qw.from(e);return this._push(UT,r.length(),r)};Ir.prototype.int64=Ir.prototype.uint64;Ir.prototype.sint64=function(e){var r=Qw.from(e).zzEncode();return this._push(UT,r.length(),r)};Ir.prototype.bool=function(e){return this._push(qT,1,e?1:0)};function BT(t,e,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}Ir.prototype.fixed32=function(e){return this._push(BT,4,e>>>0)};Ir.prototype.sfixed32=Ir.prototype.fixed32;Ir.prototype.fixed64=function(e){var r=Qw.from(e);return this._push(BT,4,r.lo)._push(BT,4,r.hi)};Ir.prototype.sfixed64=Ir.prototype.fixed64;Ir.prototype.float=function(e){return this._push(Xs.float.writeFloatLE,4,e)};Ir.prototype.double=function(e){return this._push(Xs.float.writeDoubleLE,8,e)};var Q2e=Xs.Array.prototype.set?function(e,r,n){r.set(e,n)}:function(e,r,n){for(var i=0;i<e.length;++i)r[n+i]=e[i]};Ir.prototype.bytes=function(e){var r=e.length>>>0;if(!r)return this._push(qT,1,0);if(Xs.isString(e)){var n=Ir.alloc(r=rG.length(e));rG.decode(e,n,0),e=n}return this.uint32(r)._push(Q2e,r,e)};Ir.prototype.string=function(e){var r=nG.length(e);return r?this.uint32(r)._push(nG.write,r,e):this._push(qT,1,0)};Ir.prototype.fork=function(){return this.states=new K2e(this),this.head=this.tail=new _1(LT,0,0),this.len=0,this};Ir.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new _1(LT,0,0),this.len=0),this};Ir.prototype.ldelim=function(){var e=this.head,r=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=r,this.len+=n),this};Ir.prototype.finish=function(){for(var e=this.head.next,r=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,r,n),n+=e.len,e=e.next;return r};Ir._configure=function(t){MT=t,Ir.create=iG(),MT._configure()}});var cG=R((Y$e,oG)=>{"use strict";l();oG.exports=Co;var aG=kT();(Co.prototype=Object.create(aG.prototype)).constructor=Co;var Ou=Nu();function Co(){aG.call(this)}Co._configure=function(){Co.alloc=Ou._Buffer_allocUnsafe,Co.writeBytesBuffer=Ou.Buffer&&Ou.Buffer.prototype instanceof Uint8Array&&Ou.Buffer.prototype.set.name==="set"?function(e,r,n){r.set(e,n)}:function(e,r,n){if(e.copy)e.copy(r,n,0,e.length);else for(var i=0;i<e.length;)r[n++]=e[i++]}};Co.prototype.bytes=function(e){Ou.isString(e)&&(e=Ou._Buffer_from(e,"base64"));var r=e.length>>>0;return this.uint32(r),r&&this._push(Co.writeBytesBuffer,r,e),this};function $2e(t,e,r){t.length<40?Ou.utf8.write(t,e,r):e.utf8Write?e.utf8Write(t,r):e.write(t,r)}Co.prototype.string=function(e){var r=Ou.Buffer.byteLength(e);return this.uint32(r),r&&this._push($2e,r,e),this};Co._configure()});var GT=R((X$e,hG)=>{"use strict";l();hG.exports=Cn;var Da=Nu(),HT,lG=Da.LongBits,Y2e=Da.utf8;function Ma(t,e){return RangeError("index out of range: "+t.pos+" + "+(e||1)+" > "+t.len)}function Cn(t){this.buf=t,this.pos=0,this.len=t.length}var uG=typeof Uint8Array<"u"?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new Cn(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new Cn(e);throw Error("illegal buffer")},dG=function(){return Da.Buffer?function(r){return(Cn.create=function(i){return Da.Buffer.isBuffer(i)?new HT(i):uG(i)})(r)}:uG};Cn.create=dG();Cn.prototype._slice=Da.Array.prototype.subarray||Da.Array.prototype.slice;Cn.prototype.uint32=function(){var e=4294967295;return function(){if(e=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(e=(e|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,Ma(this,10);return e}}();Cn.prototype.int32=function(){return this.uint32()|0};Cn.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(e&1)|0};function VT(){var t=new lG(0,0),e=0;if(this.len-this.pos>4){for(;e<4;++e)if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(this.buf[this.pos]&127)<<28)>>>0,t.hi=(t.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return t;e=0}else{for(;e<3;++e){if(this.pos>=this.len)throw Ma(this);if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(this.buf[this.pos++]&127)<<e*7)>>>0,t}if(this.len-this.pos>4){for(;e<5;++e)if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}else for(;e<5;++e){if(this.pos>=this.len)throw Ma(this);if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}Cn.prototype.bool=function(){return this.uint32()!==0};function $w(t,e){return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0}Cn.prototype.fixed32=function(){if(this.pos+4>this.len)throw Ma(this,4);return $w(this.buf,this.pos+=4)};Cn.prototype.sfixed32=function(){if(this.pos+4>this.len)throw Ma(this,4);return $w(this.buf,this.pos+=4)|0};function fG(){if(this.pos+8>this.len)throw Ma(this,8);return new lG($w(this.buf,this.pos+=4),$w(this.buf,this.pos+=4))}Cn.prototype.float=function(){if(this.pos+4>this.len)throw Ma(this,4);var e=Da.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e};Cn.prototype.double=function(){if(this.pos+8>this.len)throw Ma(this,4);var e=Da.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e};Cn.prototype.bytes=function(){var e=this.uint32(),r=this.pos,n=this.pos+e;if(n>this.len)throw Ma(this,e);if(this.pos+=e,Array.isArray(this.buf))return this.buf.slice(r,n);if(r===n){var i=Da.Buffer;return i?i.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,r,n)};Cn.prototype.string=function(){var e=this.bytes();return Y2e.read(e,0,e.length)};Cn.prototype.skip=function(e){if(typeof e=="number"){if(this.pos+e>this.len)throw Ma(this,e);this.pos+=e}else do if(this.pos>=this.len)throw Ma(this);while(this.buf[this.pos++]&128);return this};Cn.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(t=this.uint32()&7)!==4;)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this};Cn._configure=function(t){HT=t,Cn.create=dG(),HT._configure();var e=Da.Long?"toLong":"toNumber";Da.merge(Cn.prototype,{int64:function(){return VT.call(this)[e](!1)},uint64:function(){return VT.call(this)[e](!0)},sint64:function(){return VT.call(this).zzDecode()[e](!1)},fixed64:function(){return fG.call(this)[e](!0)},sfixed64:function(){return fG.call(this)[e](!1)}})}});var mG=R((eYe,yG)=>{"use strict";l();yG.exports=gl;var gG=GT();(gl.prototype=Object.create(gG.prototype)).constructor=gl;var pG=Nu();function gl(t){gG.call(this,t)}gl._configure=function(){pG.Buffer&&(gl.prototype._slice=pG.Buffer.prototype.slice)};gl.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))};gl._configure()});var bG=R((rYe,vG)=>{"use strict";l();vG.exports=E1;var jT=Nu();(E1.prototype=Object.create(jT.EventEmitter.prototype)).constructor=E1;function E1(t,e,r){if(typeof t!="function")throw TypeError("rpcImpl must be a function");jT.EventEmitter.call(this),this.rpcImpl=t,this.requestDelimited=!!e,this.responseDelimited=!!r}E1.prototype.rpcCall=function t(e,r,n,i,s){if(!i)throw TypeError("request must be specified");var a=this;if(!s)return jT.asPromise(t,a,e,r,n,i);if(!a.rpcImpl){setTimeout(function(){s(Error("already ended"))},0);return}try{return a.rpcImpl(e,r[a.requestDelimited?"encodeDelimited":"encode"](i).finish(),function(c,u){if(c)return a.emit("error",c,e),s(c);if(u===null){a.end(!0);return}if(!(u instanceof n))try{u=n[a.responseDelimited?"decodeDelimited":"decode"](u)}catch(f){return a.emit("error",f,e),s(f)}return a.emit("data",u,e),s(null,u)})}catch(o){a.emit("error",o,e),setTimeout(function(){s(o)},0);return}};E1.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}});var _G=R(wG=>{"use strict";l();var J2e=wG;J2e.Service=bG()});var AG=R((aYe,EG)=>{"use strict";l();EG.exports={}});var TG=R(xG=>{"use strict";l();var ss=xG;ss.build="minimal";ss.Writer=kT();ss.BufferWriter=cG();ss.Reader=GT();ss.BufferReader=mG();ss.util=Nu();ss.rpc=_G();ss.roots=AG();ss.configure=SG;function SG(){ss.util._configure(),ss.Writer._configure(ss.BufferWriter),ss.Reader._configure(ss.BufferReader)}SG()});var CG=R((fYe,IG)=>{"use strict";l();IG.exports=TG()});var zT=R((NG,A1)=>{"use strict";l();(function(t,e){typeof define=="function"&&define.amd?define(["protobufjs/minimal"],e):typeof mi=="function"&&typeof A1=="object"&&A1&&A1.exports&&(A1.exports=e(CG()))})(NG,function(t){"use strict";var e=t.Reader,r=t.Writer,n=t.util,i=t.roots.default||(t.roots.default={});return i.proto=function(){var s={};return s.Transaction=function(){function a(o){if(this.InnerTransactions=[],o)for(var c=Object.keys(o),u=0;u<c.length;++u)o[c[u]]!=null&&(this[c[u]]=o[c[u]])}return a.prototype.Nonce=n.Long?n.Long.fromBits(0,0,!0):0,a.prototype.Value=n.newBuffer([]),a.prototype.RcvAddr=n.newBuffer([]),a.prototype.RcvUserName=n.newBuffer([]),a.prototype.SndAddr=n.newBuffer([]),a.prototype.SndUserName=n.newBuffer([]),a.prototype.GasPrice=n.Long?n.Long.fromBits(0,0,!0):0,a.prototype.GasLimit=n.Long?n.Long.fromBits(0,0,!0):0,a.prototype.Data=n.newBuffer([]),a.prototype.ChainID=n.newBuffer([]),a.prototype.Version=0,a.prototype.Signature=n.newBuffer([]),a.prototype.Options=0,a.prototype.GuardianAddr=n.newBuffer([]),a.prototype.GuardianSignature=n.newBuffer([]),a.prototype.Relayer=n.newBuffer([]),a.prototype.InnerTransactions=n.emptyArray,a.create=function(c){return new a(c)},a.encode=function(c,u){if(u||(u=r.create()),c.Nonce!=null&&Object.hasOwnProperty.call(c,"Nonce")&&u.uint32(8).uint64(c.Nonce),c.Value!=null&&Object.hasOwnProperty.call(c,"Value")&&u.uint32(18).bytes(c.Value),c.RcvAddr!=null&&Object.hasOwnProperty.call(c,"RcvAddr")&&u.uint32(26).bytes(c.RcvAddr),c.RcvUserName!=null&&Object.hasOwnProperty.call(c,"RcvUserName")&&u.uint32(34).bytes(c.RcvUserName),c.SndAddr!=null&&Object.hasOwnProperty.call(c,"SndAddr")&&u.uint32(42).bytes(c.SndAddr),c.SndUserName!=null&&Object.hasOwnProperty.call(c,"SndUserName")&&u.uint32(50).bytes(c.SndUserName),c.GasPrice!=null&&Object.hasOwnProperty.call(c,"GasPrice")&&u.uint32(56).uint64(c.GasPrice),c.GasLimit!=null&&Object.hasOwnProperty.call(c,"GasLimit")&&u.uint32(64).uint64(c.GasLimit),c.Data!=null&&Object.hasOwnProperty.call(c,"Data")&&u.uint32(74).bytes(c.Data),c.ChainID!=null&&Object.hasOwnProperty.call(c,"ChainID")&&u.uint32(82).bytes(c.ChainID),c.Version!=null&&Object.hasOwnProperty.call(c,"Version")&&u.uint32(88).uint32(c.Version),c.Signature!=null&&Object.hasOwnProperty.call(c,"Signature")&&u.uint32(98).bytes(c.Signature),c.Options!=null&&Object.hasOwnProperty.call(c,"Options")&&u.uint32(104).uint32(c.Options),c.GuardianAddr!=null&&Object.hasOwnProperty.call(c,"GuardianAddr")&&u.uint32(114).bytes(c.GuardianAddr),c.GuardianSignature!=null&&Object.hasOwnProperty.call(c,"GuardianSignature")&&u.uint32(122).bytes(c.GuardianSignature),c.Relayer!=null&&Object.hasOwnProperty.call(c,"Relayer")&&u.uint32(130).bytes(c.Relayer),c.InnerTransactions!=null&&c.InnerTransactions.length)for(var f=0;f<c.InnerTransactions.length;++f)i.proto.Transaction.encode(c.InnerTransactions[f],u.uint32(138).fork()).ldelim();return u},a.encodeDelimited=function(c,u){return this.encode(c,u).ldelim()},a.decode=function(c,u){c instanceof e||(c=e.create(c));for(var f=u===void 0?c.len:c.pos+u,d=new i.proto.Transaction;c.pos<f;){var m=c.uint32();switch(m>>>3){case 1:{d.Nonce=c.uint64();break}case 2:{d.Value=c.bytes();break}case 3:{d.RcvAddr=c.bytes();break}case 4:{d.RcvUserName=c.bytes();break}case 5:{d.SndAddr=c.bytes();break}case 6:{d.SndUserName=c.bytes();break}case 7:{d.GasPrice=c.uint64();break}case 8:{d.GasLimit=c.uint64();break}case 9:{d.Data=c.bytes();break}case 10:{d.ChainID=c.bytes();break}case 11:{d.Version=c.uint32();break}case 12:{d.Signature=c.bytes();break}case 13:{d.Options=c.uint32();break}case 14:{d.GuardianAddr=c.bytes();break}case 15:{d.GuardianSignature=c.bytes();break}case 16:{d.Relayer=c.bytes();break}case 17:{d.InnerTransactions&&d.InnerTransactions.length||(d.InnerTransactions=[]),d.InnerTransactions.push(i.proto.Transaction.decode(c,c.uint32()));break}default:c.skipType(m&7);break}}return d},a.decodeDelimited=function(c){return c instanceof e||(c=new e(c)),this.decode(c,c.uint32())},a.verify=function(c){if(typeof c!="object"||c===null)return"object expected";if(c.Nonce!=null&&c.hasOwnProperty("Nonce")&&!n.isInteger(c.Nonce)&&!(c.Nonce&&n.isInteger(c.Nonce.low)&&n.isInteger(c.Nonce.high)))return"Nonce: integer|Long expected";if(c.Value!=null&&c.hasOwnProperty("Value")&&!(c.Value&&typeof c.Value.length=="number"||n.isString(c.Value)))return"Value: buffer expected";if(c.RcvAddr!=null&&c.hasOwnProperty("RcvAddr")&&!(c.RcvAddr&&typeof c.RcvAddr.length=="number"||n.isString(c.RcvAddr)))return"RcvAddr: buffer expected";if(c.RcvUserName!=null&&c.hasOwnProperty("RcvUserName")&&!(c.RcvUserName&&typeof c.RcvUserName.length=="number"||n.isString(c.RcvUserName)))return"RcvUserName: buffer expected";if(c.SndAddr!=null&&c.hasOwnProperty("SndAddr")&&!(c.SndAddr&&typeof c.SndAddr.length=="number"||n.isString(c.SndAddr)))return"SndAddr: buffer expected";if(c.SndUserName!=null&&c.hasOwnProperty("SndUserName")&&!(c.SndUserName&&typeof c.SndUserName.length=="number"||n.isString(c.SndUserName)))return"SndUserName: buffer expected";if(c.GasPrice!=null&&c.hasOwnProperty("GasPrice")&&!n.isInteger(c.GasPrice)&&!(c.GasPrice&&n.isInteger(c.GasPrice.low)&&n.isInteger(c.GasPrice.high)))return"GasPrice: integer|Long expected";if(c.GasLimit!=null&&c.hasOwnProperty("GasLimit")&&!n.isInteger(c.GasLimit)&&!(c.GasLimit&&n.isInteger(c.GasLimit.low)&&n.isInteger(c.GasLimit.high)))return"GasLimit: integer|Long expected";if(c.Data!=null&&c.hasOwnProperty("Data")&&!(c.Data&&typeof c.Data.length=="number"||n.isString(c.Data)))return"Data: buffer expected";if(c.ChainID!=null&&c.hasOwnProperty("ChainID")&&!(c.ChainID&&typeof c.ChainID.length=="number"||n.isString(c.ChainID)))return"ChainID: buffer expected";if(c.Version!=null&&c.hasOwnProperty("Version")&&!n.isInteger(c.Version))return"Version: integer expected";if(c.Signature!=null&&c.hasOwnProperty("Signature")&&!(c.Signature&&typeof c.Signature.length=="number"||n.isString(c.Signature)))return"Signature: buffer expected";if(c.Options!=null&&c.hasOwnProperty("Options")&&!n.isInteger(c.Options))return"Options: integer expected";if(c.GuardianAddr!=null&&c.hasOwnProperty("GuardianAddr")&&!(c.GuardianAddr&&typeof c.GuardianAddr.length=="number"||n.isString(c.GuardianAddr)))return"GuardianAddr: buffer expected";if(c.GuardianSignature!=null&&c.hasOwnProperty("GuardianSignature")&&!(c.GuardianSignature&&typeof c.GuardianSignature.length=="number"||n.isString(c.GuardianSignature)))return"GuardianSignature: buffer expected";if(c.Relayer!=null&&c.hasOwnProperty("Relayer")&&!(c.Relayer&&typeof c.Relayer.length=="number"||n.isString(c.Relayer)))return"Relayer: buffer expected";if(c.InnerTransactions!=null&&c.hasOwnProperty("InnerTransactions")){if(!Array.isArray(c.InnerTransactions))return"InnerTransactions: array expected";for(var u=0;u<c.InnerTransactions.length;++u){var f=i.proto.Transaction.verify(c.InnerTransactions[u]);if(f)return"InnerTransactions."+f}}return null},a.fromObject=function(c){if(c instanceof i.proto.Transaction)return c;var u=new i.proto.Transaction;if(c.Nonce!=null&&(n.Long?(u.Nonce=n.Long.fromValue(c.Nonce)).unsigned=!0:typeof c.Nonce=="string"?u.Nonce=parseInt(c.Nonce,10):typeof c.Nonce=="number"?u.Nonce=c.Nonce:typeof c.Nonce=="object"&&(u.Nonce=new n.LongBits(c.Nonce.low>>>0,c.Nonce.high>>>0).toNumber(!0))),c.Value!=null&&(typeof c.Value=="string"?n.base64.decode(c.Value,u.Value=n.newBuffer(n.base64.length(c.Value)),0):c.Value.length>=0&&(u.Value=c.Value)),c.RcvAddr!=null&&(typeof c.RcvAddr=="string"?n.base64.decode(c.RcvAddr,u.RcvAddr=n.newBuffer(n.base64.length(c.RcvAddr)),0):c.RcvAddr.length>=0&&(u.RcvAddr=c.RcvAddr)),c.RcvUserName!=null&&(typeof c.RcvUserName=="string"?n.base64.decode(c.RcvUserName,u.RcvUserName=n.newBuffer(n.base64.length(c.RcvUserName)),0):c.RcvUserName.length>=0&&(u.RcvUserName=c.RcvUserName)),c.SndAddr!=null&&(typeof c.SndAddr=="string"?n.base64.decode(c.SndAddr,u.SndAddr=n.newBuffer(n.base64.length(c.SndAddr)),0):c.SndAddr.length>=0&&(u.SndAddr=c.SndAddr)),c.SndUserName!=null&&(typeof c.SndUserName=="string"?n.base64.decode(c.SndUserName,u.SndUserName=n.newBuffer(n.base64.length(c.SndUserName)),0):c.SndUserName.length>=0&&(u.SndUserName=c.SndUserName)),c.GasPrice!=null&&(n.Long?(u.GasPrice=n.Long.fromValue(c.GasPrice)).unsigned=!0:typeof c.GasPrice=="string"?u.GasPrice=parseInt(c.GasPrice,10):typeof c.GasPrice=="number"?u.GasPrice=c.GasPrice:typeof c.GasPrice=="object"&&(u.GasPrice=new n.LongBits(c.GasPrice.low>>>0,c.GasPrice.high>>>0).toNumber(!0))),c.GasLimit!=null&&(n.Long?(u.GasLimit=n.Long.fromValue(c.GasLimit)).unsigned=!0:typeof c.GasLimit=="string"?u.GasLimit=parseInt(c.GasLimit,10):typeof c.GasLimit=="number"?u.GasLimit=c.GasLimit:typeof c.GasLimit=="object"&&(u.GasLimit=new n.LongBits(c.GasLimit.low>>>0,c.GasLimit.high>>>0).toNumber(!0))),c.Data!=null&&(typeof c.Data=="string"?n.base64.decode(c.Data,u.Data=n.newBuffer(n.base64.length(c.Data)),0):c.Data.length>=0&&(u.Data=c.Data)),c.ChainID!=null&&(typeof c.ChainID=="string"?n.base64.decode(c.ChainID,u.ChainID=n.newBuffer(n.base64.length(c.ChainID)),0):c.ChainID.length>=0&&(u.ChainID=c.ChainID)),c.Version!=null&&(u.Version=c.Version>>>0),c.Signature!=null&&(typeof c.Signature=="string"?n.base64.decode(c.Signature,u.Signature=n.newBuffer(n.base64.length(c.Signature)),0):c.Signature.length>=0&&(u.Signature=c.Signature)),c.Options!=null&&(u.Options=c.Options>>>0),c.GuardianAddr!=null&&(typeof c.GuardianAddr=="string"?n.base64.decode(c.GuardianAddr,u.GuardianAddr=n.newBuffer(n.base64.length(c.GuardianAddr)),0):c.GuardianAddr.length>=0&&(u.GuardianAddr=c.GuardianAddr)),c.GuardianSignature!=null&&(typeof c.GuardianSignature=="string"?n.base64.decode(c.GuardianSignature,u.GuardianSignature=n.newBuffer(n.base64.length(c.GuardianSignature)),0):c.GuardianSignature.length>=0&&(u.GuardianSignature=c.GuardianSignature)),c.Relayer!=null&&(typeof c.Relayer=="string"?n.base64.decode(c.Relayer,u.Relayer=n.newBuffer(n.base64.length(c.Relayer)),0):c.Relayer.length>=0&&(u.Relayer=c.Relayer)),c.InnerTransactions){if(!Array.isArray(c.InnerTransactions))throw TypeError(".proto.Transaction.InnerTransactions: array expected");u.InnerTransactions=[];for(var f=0;f<c.InnerTransactions.length;++f){if(typeof c.InnerTransactions[f]!="object")throw TypeError(".proto.Transaction.InnerTransactions: object expected");u.InnerTransactions[f]=i.proto.Transaction.fromObject(c.InnerTransactions[f])}}return u},a.toObject=function(c,u){u||(u={});var f={};if((u.arrays||u.defaults)&&(f.InnerTransactions=[]),u.defaults){if(n.Long){var d=new n.Long(0,0,!0);f.Nonce=u.longs===String?d.toString():u.longs===Number?d.toNumber():d}else f.Nonce=u.longs===String?"0":0;if(u.bytes===String?f.Value="":(f.Value=[],u.bytes!==Array&&(f.Value=n.newBuffer(f.Value))),u.bytes===String?f.RcvAddr="":(f.RcvAddr=[],u.bytes!==Array&&(f.RcvAddr=n.newBuffer(f.RcvAddr))),u.bytes===String?f.RcvUserName="":(f.RcvUserName=[],u.bytes!==Array&&(f.RcvUserName=n.newBuffer(f.RcvUserName))),u.bytes===String?f.SndAddr="":(f.SndAddr=[],u.bytes!==Array&&(f.SndAddr=n.newBuffer(f.SndAddr))),u.bytes===String?f.SndUserName="":(f.SndUserName=[],u.bytes!==Array&&(f.SndUserName=n.newBuffer(f.SndUserName))),n.Long){var d=new n.Long(0,0,!0);f.GasPrice=u.longs===String?d.toString():u.longs===Number?d.toNumber():d}else f.GasPrice=u.longs===String?"0":0;if(n.Long){var d=new n.Long(0,0,!0);f.GasLimit=u.longs===String?d.toString():u.longs===Number?d.toNumber():d}else f.GasLimit=u.longs===String?"0":0;u.bytes===String?f.Data="":(f.Data=[],u.bytes!==Array&&(f.Data=n.newBuffer(f.Data))),u.bytes===String?f.ChainID="":(f.ChainID=[],u.bytes!==Array&&(f.ChainID=n.newBuffer(f.ChainID))),f.Version=0,u.bytes===String?f.Signature="":(f.Signature=[],u.bytes!==Array&&(f.Signature=n.newBuffer(f.Signature))),f.Options=0,u.bytes===String?f.GuardianAddr="":(f.GuardianAddr=[],u.bytes!==Array&&(f.GuardianAddr=n.newBuffer(f.GuardianAddr))),u.bytes===String?f.GuardianSignature="":(f.GuardianSignature=[],u.bytes!==Array&&(f.GuardianSignature=n.newBuffer(f.GuardianSignature))),u.bytes===String?f.Relayer="":(f.Relayer=[],u.bytes!==Array&&(f.Relayer=n.newBuffer(f.Relayer)))}if(c.Nonce!=null&&c.hasOwnProperty("Nonce")&&(typeof c.Nonce=="number"?f.Nonce=u.longs===String?String(c.Nonce):c.Nonce:f.Nonce=u.longs===String?n.Long.prototype.toString.call(c.Nonce):u.longs===Number?new n.LongBits(c.Nonce.low>>>0,c.Nonce.high>>>0).toNumber(!0):c.Nonce),c.Value!=null&&c.hasOwnProperty("Value")&&(f.Value=u.bytes===String?n.base64.encode(c.Value,0,c.Value.length):u.bytes===Array?Array.prototype.slice.call(c.Value):c.Value),c.RcvAddr!=null&&c.hasOwnProperty("RcvAddr")&&(f.RcvAddr=u.bytes===String?n.base64.encode(c.RcvAddr,0,c.RcvAddr.length):u.bytes===Array?Array.prototype.slice.call(c.RcvAddr):c.RcvAddr),c.RcvUserName!=null&&c.hasOwnProperty("RcvUserName")&&(f.RcvUserName=u.bytes===String?n.base64.encode(c.RcvUserName,0,c.RcvUserName.length):u.bytes===Array?Array.prototype.slice.call(c.RcvUserName):c.RcvUserName),c.SndAddr!=null&&c.hasOwnProperty("SndAddr")&&(f.SndAddr=u.bytes===String?n.base64.encode(c.SndAddr,0,c.SndAddr.length):u.bytes===Array?Array.prototype.slice.call(c.SndAddr):c.SndAddr),c.SndUserName!=null&&c.hasOwnProperty("SndUserName")&&(f.SndUserName=u.bytes===String?n.base64.encode(c.SndUserName,0,c.SndUserName.length):u.bytes===Array?Array.prototype.slice.call(c.SndUserName):c.SndUserName),c.GasPrice!=null&&c.hasOwnProperty("GasPrice")&&(typeof c.GasPrice=="number"?f.GasPrice=u.longs===String?String(c.GasPrice):c.GasPrice:f.GasPrice=u.longs===String?n.Long.prototype.toString.call(c.GasPrice):u.longs===Number?new n.LongBits(c.GasPrice.low>>>0,c.GasPrice.high>>>0).toNumber(!0):c.GasPrice),c.GasLimit!=null&&c.hasOwnProperty("GasLimit")&&(typeof c.GasLimit=="number"?f.GasLimit=u.longs===String?String(c.GasLimit):c.GasLimit:f.GasLimit=u.longs===String?n.Long.prototype.toString.call(c.GasLimit):u.longs===Number?new n.LongBits(c.GasLimit.low>>>0,c.GasLimit.high>>>0).toNumber(!0):c.GasLimit),c.Data!=null&&c.hasOwnProperty("Data")&&(f.Data=u.bytes===String?n.base64.encode(c.Data,0,c.Data.length):u.bytes===Array?Array.prototype.slice.call(c.Data):c.Data),c.ChainID!=null&&c.hasOwnProperty("ChainID")&&(f.ChainID=u.bytes===String?n.base64.encode(c.ChainID,0,c.ChainID.length):u.bytes===Array?Array.prototype.slice.call(c.ChainID):c.ChainID),c.Version!=null&&c.hasOwnProperty("Version")&&(f.Version=c.Version),c.Signature!=null&&c.hasOwnProperty("Signature")&&(f.Signature=u.bytes===String?n.base64.encode(c.Signature,0,c.Signature.length):u.bytes===Array?Array.prototype.slice.call(c.Signature):c.Signature),c.Options!=null&&c.hasOwnProperty("Options")&&(f.Options=c.Options),c.GuardianAddr!=null&&c.hasOwnProperty("GuardianAddr")&&(f.GuardianAddr=u.bytes===String?n.base64.encode(c.GuardianAddr,0,c.GuardianAddr.length):u.bytes===Array?Array.prototype.slice.call(c.GuardianAddr):c.GuardianAddr),c.GuardianSignature!=null&&c.hasOwnProperty("GuardianSignature")&&(f.GuardianSignature=u.bytes===String?n.base64.encode(c.GuardianSignature,0,c.GuardianSignature.length):u.bytes===Array?Array.prototype.slice.call(c.GuardianSignature):c.GuardianSignature),c.Relayer!=null&&c.hasOwnProperty("Relayer")&&(f.Relayer=u.bytes===String?n.base64.encode(c.Relayer,0,c.Relayer.length):u.bytes===Array?Array.prototype.slice.call(c.Relayer):c.Relayer),c.InnerTransactions&&c.InnerTransactions.length){f.InnerTransactions=[];for(var m=0;m<c.InnerTransactions.length;++m)f.InnerTransactions[m]=i.proto.Transaction.toObject(c.InnerTransactions[m],u)}return f},a.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},a.getTypeUrl=function(c){return c===void 0&&(c="type.googleapis.com"),c+"/proto.Transaction"},a}(),s}(),i})});var OG=R(Zs=>{"use strict";l();var X2e=Zs&&Zs.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Z2e=Zs&&Zs.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),ewe=Zs&&Zs.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&X2e(e,t,r);return Z2e(e,t),e},twe=Zs&&Zs.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Zs,"__esModule",{value:!0});Zs.ProtoSerializer=void 0;var rwe=twe(Pr()),Yw=qt(),KT=Dn(),nwe=ewe(It()),iwe=au(),WT=class{serializeTransaction(e){let r=zT().proto,n=this.convertToProtoMessage(e),i=r.Transaction.encode(n).finish();return y.Buffer.from(i)}convertToProtoMessage(e){let r=zT().proto,n=new Yw.Address(e.receiver).getPublicKey(),i=new Yw.Address(e.sender).getPublicKey(),s=new r.Transaction({Nonce:Number(e.nonce)?Number(e.nonce):void 0,Value:this.serializeTransactionValue(e.value),RcvAddr:n,RcvUserName:e.receiverUsername?y.Buffer.from(e.receiverUsername).toString("base64"):void 0,SndAddr:i,SndUserName:e.senderUsername?y.Buffer.from(e.senderUsername).toString("base64"):void 0,GasPrice:Number(e.gasPrice),GasLimit:Number(e.gasLimit),Data:e.data.length==0?null:e.data,ChainID:y.Buffer.from(e.chainID),Version:e.version,Signature:e.signature});return e.options!==KT.TRANSACTION_OPTIONS_DEFAULT&&(s.Options=e.options),this.isGuardedTransaction(e)&&(s.GuardianAddr=new Yw.Address(e.guardian).getPublicKey(),s.GuardianSignature=e.guardianSignature),e.relayer&&(s.Relayer=new Yw.Address(e.relayer).getPublicKey()),s.InnerTransactions=e.innerTransactions.map(a=>this.convertToProtoMessage(a)),s}serializeTransactionValue(e){let r=new rwe.default(e.toString());if(r.isZero())return y.Buffer.from([0,0]);let n=iwe.bigIntToBuffer(r);return n=y.Buffer.concat([y.Buffer.from([0]),n]),n}isGuardedTransaction(e){let r=e.guardian.length>0,n=e.guardianSignature.length>0;return this.isWithGuardian(e)&&r&&n}isWithGuardian(e){return(e.options&KT.TRANSACTION_OPTIONS_TX_GUARDED)==KT.TRANSACTION_OPTIONS_TX_GUARDED}deserializeTransaction(e){throw new nwe.ErrUnsupportedOperation("deserializeTransaction")}};Zs.ProtoSerializer=WT});var PG=R(yl=>{"use strict";l();var swe=yl&&yl.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),awe=yl&&yl.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&swe(e,t,r)};Object.defineProperty(yl,"__esModule",{value:!0});awe(OG(),yl)});var Jw=R(ta=>{"use strict";l();var owe=ta&&ta.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),cwe=ta&&ta.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),uwe=ta&&ta.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&owe(e,t,r);return cwe(e,t),e},fwe=ta&&ta.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ta,"__esModule",{value:!0});ta.TransactionComputer=void 0;var RG=fwe(Pr()),ea=Dn(),QT=uwe(It()),lwe=PG(),dwe=rs(),hwe=Ox(),pwe=xg(),gwe=32,$T=class{constructor(){}computeTransactionFee(e,r){let n=BigInt(r.MinGasLimit+e.data.length*r.GasPerDataByte);if(n>e.gasLimit)throw new QT.ErrNotEnoughGas(parseInt(e.gasLimit.toString(),10));let i=e.gasPrice,s=n*i;if(n===e.gasLimit)return s;let a=e.gasLimit-n,o=BigInt(new RG.default(i.toString()).multipliedBy(new RG.default(r.GasPriceModifier)).toFixed(0)),c=a*o;return s+c}computeBytesForSigning(e){this.ensureValidTransactionFields(e);let r=this.toPlainObject(e),n=JSON.stringify(r);return new Uint8Array(y.Buffer.from(n))}computeBytesForVerifying(e){return this.hasOptionsSetForHashSigning(e)?this.computeHashForSigning(e):this.computeBytesForSigning(e)}computeHashForSigning(e){let r=this.toPlainObject(e),n=y.Buffer.from(JSON.stringify(r));return pwe("keccak256").update(n).digest()}computeTransactionHash(e){let n=new lwe.ProtoSerializer().serializeTransaction(new dwe.Transaction(e)),i=hwe(gwe).update(n).digest("hex");return y.Buffer.from(i,"hex")}hasOptionsSetForGuardedTransaction(e){return(e.options&ea.TRANSACTION_OPTIONS_TX_GUARDED)==ea.TRANSACTION_OPTIONS_TX_GUARDED}hasOptionsSetForHashSigning(e){return(e.options&ea.TRANSACTION_OPTIONS_TX_HASH_SIGN)==ea.TRANSACTION_OPTIONS_TX_HASH_SIGN}applyGuardian(e,r){e.version<ea.MIN_TRANSACTION_VERSION_THAT_SUPPORTS_OPTIONS&&(e.version=ea.MIN_TRANSACTION_VERSION_THAT_SUPPORTS_OPTIONS),e.options=e.options|ea.TRANSACTION_OPTIONS_TX_GUARDED,e.guardian=r}applyOptionsForHashSigning(e){e.version<ea.MIN_TRANSACTION_VERSION_THAT_SUPPORTS_OPTIONS&&(e.version=ea.MIN_TRANSACTION_VERSION_THAT_SUPPORTS_OPTIONS),e.options=e.options|ea.TRANSACTION_OPTIONS_TX_HASH_SIGN}toPlainObject(e,r){let n={nonce:Number(e.nonce),value:e.value.toString(),receiver:e.receiver,sender:e.sender,senderUsername:this.toBase64OrUndefined(e.senderUsername),receiverUsername:this.toBase64OrUndefined(e.receiverUsername),gasPrice:Number(e.gasPrice),gasLimit:Number(e.gasLimit),data:this.toBase64OrUndefined(e.data)};return r&&(n.signature=this.toHexOrUndefined(e.signature)),n.chainID=e.chainID,n.version=e.version,n.options=e.options?e.options:void 0,n.guardian=e.guardian?e.guardian:void 0,n.relayer=e.relayer?e.relayer:void 0,n.innerTransactions=e.innerTransactions.length?e.innerTransactions.map(i=>this.toPlainObject(i,!0)):void 0,n}toHexOrUndefined(e){return e&&e.length?y.Buffer.from(e).toString("hex"):void 0}toBase64OrUndefined(e){return e&&e.length?y.Buffer.from(e).toString("base64"):void 0}ensureValidTransactionFields(e){if(!e.chainID.length)throw new QT.ErrBadUsage("The `chainID` field is not set");if(e.version<ea.MIN_TRANSACTION_VERSION_THAT_SUPPORTS_OPTIONS&&(this.hasOptionsSetForGuardedTransaction(e)||this.hasOptionsSetForHashSigning(e)))throw new QT.ErrBadUsage(`Non-empty transaction options requires transaction version >= ${ea.MIN_TRANSACTION_VERSION_THAT_SUPPORTS_OPTIONS}`)}};ta.TransactionComputer=$T});var rs=R(Gh=>{"use strict";l();Object.defineProperty(Gh,"__esModule",{value:!0});Gh.TransactionHash=Gh.Transaction=void 0;var DG=Pr(),YT=qt(),JT=Dn(),MG=b1(),ywe=NH(),BG=ug(),LG=zw(),mwe=wc(),XT=Jw(),ZT=class{constructor(e){this.nonce=BigInt(e.nonce?.valueOf()||0n),this.value=e.value?BigInt(new DG.BigNumber(e.value.toString()).toFixed(0)):0n,this.sender=this.addressAsBech32(e.sender),this.receiver=this.addressAsBech32(e.receiver),this.senderUsername=e.senderUsername||"",this.receiverUsername=e.receiverUsername||"",this.gasPrice=BigInt(e.gasPrice?.valueOf()||JT.TRANSACTION_MIN_GAS_PRICE),this.gasLimit=BigInt(e.gasLimit.valueOf()),this.data=e.data?.valueOf()||new Uint8Array,this.chainID=e.chainID.valueOf(),this.version=Number(e.version?.valueOf()||JT.TRANSACTION_VERSION_DEFAULT),this.options=Number(e.options?.valueOf()||JT.TRANSACTION_OPTIONS_DEFAULT),this.guardian=e.guardian?this.addressAsBech32(e.guardian):"",this.signature=e.signature||y.Buffer.from([]),this.guardianSignature=e.guardianSignature||y.Buffer.from([]),this.relayer=e.relayer||"",this.innerTransactions=e.innerTransactions||[]}addressAsBech32(e){return typeof e=="string"?e:e.bech32()}getNonce(){return Number(this.nonce)}setNonce(e){this.nonce=BigInt(e.valueOf())}getValue(){return this.value}setValue(e){this.value=BigInt(e.toString())}getSender(){return YT.Address.fromBech32(this.sender)}setSender(e){this.sender=typeof e=="string"?e:e.bech32()}getReceiver(){return YT.Address.fromBech32(this.receiver)}getSenderUsername(){return this.senderUsername}setSenderUsername(e){this.senderUsername=e}getReceiverUsername(){return this.receiverUsername}setReceiverUsername(e){this.receiverUsername=e}getGuardian(){return new YT.Address(this.guardian)}getGasPrice(){return Number(this.gasPrice)}setGasPrice(e){this.gasPrice=BigInt(e.valueOf())}getGasLimit(){return Number(this.gasLimit)}setGasLimit(e){this.gasLimit=BigInt(e.valueOf())}getData(){return new mwe.TransactionPayload(y.Buffer.from(this.data))}getChainID(){return this.chainID}setChainID(e){this.chainID=e.valueOf()}getVersion(){return new BG.TransactionVersion(this.version)}setVersion(e){this.version=e.valueOf()}getOptions(){return new BG.TransactionOptions(this.options.valueOf())}setOptions(e){this.options=e.valueOf()}getSignature(){return y.Buffer.from(this.signature)}getGuardianSignature(){return y.Buffer.from(this.guardianSignature)}setGuardian(e){this.guardian=typeof e=="string"?e:e.bech32()}getHash(){return Xw.compute(this)}serializeForSigning(){let r=new XT.TransactionComputer().computeBytesForSigning(this);return y.Buffer.from(r)}isGuardedTransaction(){let e=this.guardian.length>0,r=this.guardianSignature.length>0;return this.getOptions().isWithGuardian()&&e&&r}toPlainObject(){return new MG.TransactionsConverter().transactionToPlainObject(this)}static fromPlainObject(e){return new MG.TransactionsConverter().plainObjectToTransaction(e)}applySignature(e){this.signature=LG.interpretSignatureAsBuffer(e)}applyGuardianSignature(e){this.guardianSignature=LG.interpretSignatureAsBuffer(e)}toSendable(){return this.toPlainObject()}computeFee(e){let n=new XT.TransactionComputer().computeTransactionFee(this,e);return new DG.BigNumber(n.toString())}};Gh.Transaction=ZT;var Xw=class t extends ywe.Hash{constructor(e){super(e)}static compute(e){let n=new XT.TransactionComputer().computeTransactionHash(e);return new t(y.Buffer.from(n).toString("hex"))}};Gh.TransactionHash=Xw});var FG=R(Zw=>{"use strict";l();Object.defineProperty(Zw,"__esModule",{value:!0});Zw.TokenOperationsFactory=void 0;var eI=Dn(),vwe=iu(),qG=ug(),bwe=rs(),wwe=wc(),Fe=Ev(),tI=class{constructor(e){this.config=e,this.trueAsHex=Fe.utf8ToHex("true"),this.falseAsHex=Fe.utf8ToHex("false")}issueFungible(e){this.notifyAboutUnsettingBurnRoleGlobally();let r=["issue",Fe.utf8ToHex(e.tokenName),Fe.utf8ToHex(e.tokenTicker),Fe.bigIntToHex(e.initialSupply),Fe.bigIntToHex(e.numDecimals),Fe.utf8ToHex("canFreeze"),e.canFreeze?this.trueAsHex:this.falseAsHex,Fe.utf8ToHex("canWipe"),e.canWipe?this.trueAsHex:this.falseAsHex,Fe.utf8ToHex("canPause"),e.canPause?this.trueAsHex:this.falseAsHex,Fe.utf8ToHex("canChangeOwner"),e.canChangeOwner?this.trueAsHex:this.falseAsHex,Fe.utf8ToHex("canUpgrade"),e.canUpgrade?this.trueAsHex:this.falseAsHex,Fe.utf8ToHex("canAddSpecialRoles"),e.canAddSpecialRoles?this.trueAsHex:this.falseAsHex];return this.createTransaction({sender:e.issuer,receiver:this.config.esdtContractAddress,nonce:e.transactionNonce,value:this.config.issueCost,gasPrice:e.gasPrice,gasLimitHint:e.gasLimit,executionGasLimit:this.config.gasLimitIssue,dataParts:r})}notifyAboutUnsettingBurnRoleGlobally(){vwe.Logger.info(`
==========
IMPORTANT!
==========
You are about to issue (register) a new token. This will set the role "ESDTRoleBurnForAll" (globally).
Once the token is registered, you can unset this role by calling "unsetBurnRoleGlobally" (in a separate transaction).`)}issueSemiFungible(e){this.notifyAboutUnsettingBurnRoleGlobally();let r=["issueSemiFungible",Fe.utf8ToHex(e.tokenName),Fe.utf8ToHex(e.tokenTicker),Fe.utf8ToHex("canFreeze"),e.canFreeze?this.trueAsHex:this.falseAsHex,Fe.utf8ToHex("canWipe"),e.canWipe?this.trueAsHex:this.falseAsHex,Fe.utf8ToHex("canPause"),e.canPause?this.trueAsHex:this.falseAsHex,Fe.utf8ToHex("canTransferNFTCreateRole"),e.canTransferNFTCreateRole?this.trueAsHex:this.falseAsHex,Fe.utf8ToHex("canChangeOwner"),e.canChangeOwner?this.trueAsHex:this.falseAsHex,Fe.utf8ToHex("canUpgrade"),e.canUpgrade?this.trueAsHex:this.falseAsHex,Fe.utf8ToHex("canAddSpecialRoles"),e.canAddSpecialRoles?this.trueAsHex:this.falseAsHex];return this.createTransaction({sender:e.issuer,receiver:this.config.esdtContractAddress,nonce:e.transactionNonce,value:this.config.issueCost,gasPrice:e.gasPrice,gasLimitHint:e.gasLimit,executionGasLimit:this.config.gasLimitIssue,dataParts:r})}issueNonFungible(e){this.notifyAboutUnsettingBurnRoleGlobally();let r=["issueNonFungible",Fe.utf8ToHex(e.tokenName),Fe.utf8ToHex(e.tokenTicker),Fe.utf8ToHex("canFreeze"),e.canFreeze?this.trueAsHex:this.falseAsHex,Fe.utf8ToHex("canWipe"),e.canWipe?this.trueAsHex:this.falseAsHex,Fe.utf8ToHex("canPause"),e.canPause?this.trueAsHex:this.falseAsHex,Fe.utf8ToHex("canTransferNFTCreateRole"),e.canTransferNFTCreateRole?this.trueAsHex:this.falseAsHex,Fe.utf8ToHex("canChangeOwner"),e.canChangeOwner?this.trueAsHex:this.falseAsHex,Fe.utf8ToHex("canUpgrade"),e.canUpgrade?this.trueAsHex:this.falseAsHex,Fe.utf8ToHex("canAddSpecialRoles"),e.canAddSpecialRoles?this.trueAsHex:this.falseAsHex];return this.createTransaction({sender:e.issuer,receiver:this.config.esdtContractAddress,nonce:e.transactionNonce,value:this.config.issueCost,gasPrice:e.gasPrice,gasLimitHint:e.gasLimit,executionGasLimit:this.config.gasLimitIssue,dataParts:r})}registerMetaESDT(e){this.notifyAboutUnsettingBurnRoleGlobally();let r=["registerMetaESDT",Fe.utf8ToHex(e.tokenName),Fe.utf8ToHex(e.tokenTicker),Fe.bigIntToHex(e.numDecimals),Fe.utf8ToHex("canFreeze"),e.canFreeze?this.trueAsHex:this.falseAsHex,Fe.utf8ToHex("canWipe"),e.canWipe?this.trueAsHex:this.falseAsHex,Fe.utf8ToHex("canPause"),e.canPause?this.trueAsHex:this.falseAsHex,Fe.utf8ToHex("canTransferNFTCreateRole"),e.canTransferNFTCreateRole?this.trueAsHex:this.falseAsHex,Fe.utf8ToHex("canChangeOwner"),e.canChangeOwner?this.trueAsHex:this.falseAsHex,Fe.utf8ToHex("canUpgrade"),e.canUpgrade?this.trueAsHex:this.falseAsHex,Fe.utf8ToHex("canAddSpecialRoles"),e.canAddSpecialRoles?this.trueAsHex:this.falseAsHex];return this.createTransaction({sender:e.issuer,receiver:this.config.esdtContractAddress,nonce:e.transactionNonce,value:this.config.issueCost,gasPrice:e.gasPrice,gasLimitHint:e.gasLimit,executionGasLimit:this.config.gasLimitIssue,dataParts:r})}registerAndSetAllRoles(e){this.notifyAboutUnsettingBurnRoleGlobally();let r=["registerAndSetAllRoles",Fe.utf8ToHex(e.tokenName),Fe.utf8ToHex(e.tokenTicker),Fe.utf8ToHex(e.tokenType),Fe.bigIntToHex(e.numDecimals)];return this.createTransaction({sender:e.issuer,receiver:this.config.esdtContractAddress,nonce:e.transactionNonce,value:this.config.issueCost,gasPrice:e.gasPrice,gasLimitHint:e.gasLimit,executionGasLimit:this.config.gasLimitIssue,dataParts:r})}setBurnRoleGlobally(e){let r=["setBurnRoleGlobally",Fe.utf8ToHex(e.tokenIdentifier)];return this.createTransaction({sender:e.manager,receiver:this.config.esdtContractAddress,nonce:e.transactionNonce,gasPrice:e.gasPrice,gasLimitHint:e.gasLimit,executionGasLimit:this.config.gasLimitToggleBurnRoleGlobally,dataParts:r})}unsetBurnRoleGlobally(e){let r=["unsetBurnRoleGlobally",Fe.utf8ToHex(e.tokenIdentifier)];return this.createTransaction({sender:e.manager,receiver:this.config.esdtContractAddress,nonce:e.transactionNonce,gasPrice:e.gasPrice,gasLimitHint:e.gasLimit,executionGasLimit:this.config.gasLimitToggleBurnRoleGlobally,dataParts:r})}setSpecialRoleOnFungible(e){let r=["setSpecialRole",Fe.utf8ToHex(e.tokenIdentifier),Fe.addressToHex(e.user),...e.addRoleLocalMint?[Fe.utf8ToHex("ESDTRoleLocalMint")]:[],...e.addRoleLocalBurn?[Fe.utf8ToHex("ESDTRoleLocalBurn")]:[]];return this.createTransaction({sender:e.manager,receiver:this.config.esdtContractAddress,nonce:e.transactionNonce,gasPrice:e.gasPrice,gasLimitHint:e.gasLimit,executionGasLimit:this.config.gasLimitSetSpecialRole,dataParts:r})}setSpecialRoleOnSemiFungible(e){let r=["setSpecialRole",Fe.utf8ToHex(e.tokenIdentifier),Fe.addressToHex(e.user),...e.addRoleNFTCreate?[Fe.utf8ToHex("ESDTRoleNFTCreate")]:[],...e.addRoleNFTBurn?[Fe.utf8ToHex("ESDTRoleNFTBurn")]:[],...e.addRoleNFTAddQuantity?[Fe.utf8ToHex("ESDTRoleNFTAddQuantity")]:[],...e.addRoleESDTTransferRole?[Fe.utf8ToHex("ESDTTransferRole")]:[]];return this.createTransaction({sender:e.manager,receiver:this.config.esdtContractAddress,nonce:e.transactionNonce,gasPrice:e.gasPrice,gasLimitHint:e.gasLimit,executionGasLimit:this.config.gasLimitSetSpecialRole,dataParts:r})}setSpecialRoleOnMetaESDT(e){return this.setSpecialRoleOnSemiFungible(e)}setSpecialRoleOnNonFungible(e){let r=["setSpecialRole",Fe.utf8ToHex(e.tokenIdentifier),Fe.addressToHex(e.user),...e.addRoleNFTCreate?[Fe.utf8ToHex("ESDTRoleNFTCreate")]:[],...e.addRoleNFTBurn?[Fe.utf8ToHex("ESDTRoleNFTBurn")]:[],...e.addRoleNFTUpdateAttributes?[Fe.utf8ToHex("ESDTRoleNFTUpdateAttributes")]:[],...e.addRoleNFTAddURI?[Fe.utf8ToHex("ESDTRoleNFTAddURI")]:[],...e.addRoleESDTTransferRole?[Fe.utf8ToHex("ESDTTransferRole")]:[]];return this.createTransaction({sender:e.manager,receiver:this.config.esdtContractAddress,nonce:e.transactionNonce,gasPrice:e.gasPrice,gasLimitHint:e.gasLimit,executionGasLimit:this.config.gasLimitSetSpecialRole,dataParts:r})}nftCreate(e){let r=["ESDTNFTCreate",Fe.utf8ToHex(e.tokenIdentifier),Fe.bigIntToHex(e.initialQuantity),Fe.utf8ToHex(e.name),Fe.bigIntToHex(e.royalties),Fe.utf8ToHex(e.hash),Fe.bufferToHex(e.attributes),...e.uris.map(Fe.utf8ToHex)],i=(e.name+e.hash+e.attributes+e.uris.join("")).length*this.config.gasLimitStorePerByte.valueOf();return this.createTransaction({sender:e.creator,receiver:e.creator,nonce:e.transactionNonce,gasPrice:e.gasPrice,gasLimitHint:e.gasLimit,executionGasLimit:this.config.gasLimitESDTNFTCreate.valueOf()+i.valueOf(),dataParts:r})}pause(e){let r=["pause",Fe.utf8ToHex(e.tokenIdentifier)];return this.createTransaction({sender:e.manager,receiver:this.config.esdtContractAddress,nonce:e.transactionNonce,gasPrice:e.gasPrice,gasLimitHint:e.gasLimit,executionGasLimit:this.config.gasLimitPausing,dataParts:r})}unpause(e){let r=["unPause",Fe.utf8ToHex(e.tokenIdentifier)];return this.createTransaction({sender:e.manager,receiver:this.config.esdtContractAddress,nonce:e.transactionNonce,gasPrice:e.gasPrice,gasLimitHint:e.gasLimit,executionGasLimit:this.config.gasLimitPausing,dataParts:r})}freeze(e){let r=["freeze",Fe.utf8ToHex(e.tokenIdentifier),Fe.addressToHex(e.user)];return this.createTransaction({sender:e.manager,receiver:this.config.esdtContractAddress,nonce:e.transactionNonce,gasPrice:e.gasPrice,gasLimitHint:e.gasLimit,executionGasLimit:this.config.gasLimitFreezing,dataParts:r})}unfreeze(e){let r=["unFreeze",Fe.utf8ToHex(e.tokenIdentifier),Fe.addressToHex(e.user)];return this.createTransaction({sender:e.manager,receiver:this.config.esdtContractAddress,nonce:e.transactionNonce,gasPrice:e.gasPrice,gasLimitHint:e.gasLimit,executionGasLimit:this.config.gasLimitFreezing,dataParts:r})}wipe(e){let r=["wipe",Fe.utf8ToHex(e.tokenIdentifier),Fe.addressToHex(e.user)];return this.createTransaction({sender:e.manager,receiver:this.config.esdtContractAddress,nonce:e.transactionNonce,gasPrice:e.gasPrice,gasLimitHint:e.gasLimit,executionGasLimit:this.config.gasLimitWiping,dataParts:r})}localMint(e){let r=["ESDTLocalMint",Fe.utf8ToHex(e.tokenIdentifier),Fe.bigIntToHex(e.supplyToMint)];return this.createTransaction({sender:e.manager,receiver:e.manager,nonce:e.transactionNonce,gasPrice:e.gasPrice,gasLimitHint:e.gasLimit,executionGasLimit:this.config.gasLimitESDTLocalMint,dataParts:r})}localBurn(e){let r=["ESDTLocalBurn",Fe.utf8ToHex(e.tokenIdentifier),Fe.bigIntToHex(e.supplyToBurn)];return this.createTransaction({sender:e.manager,receiver:e.manager,nonce:e.transactionNonce,gasPrice:e.gasPrice,gasLimitHint:e.gasLimit,executionGasLimit:this.config.gasLimitESDTLocalBurn,dataParts:r})}updateAttributes(e){let r=["ESDTNFTUpdateAttributes",Fe.utf8ToHex(e.tokenIdentifier),Fe.bigIntToHex(e.tokenNonce),Fe.bufferToHex(e.attributes)];return this.createTransaction({sender:e.manager,receiver:e.manager,nonce:e.transactionNonce,gasPrice:e.gasPrice,gasLimitHint:e.gasLimit,executionGasLimit:this.config.gasLimitESDTNFTUpdateAttributes,dataParts:r})}addQuantity(e){let r=["ESDTNFTAddQuantity",Fe.utf8ToHex(e.tokenIdentifier),Fe.bigIntToHex(e.tokenNonce),Fe.bigIntToHex(e.quantityToAdd)];return this.createTransaction({sender:e.manager,receiver:e.manager,nonce:e.transactionNonce,gasPrice:e.gasPrice,gasLimitHint:e.gasLimit,executionGasLimit:this.config.gasLimitESDTNFTAddQuantity,dataParts:r})}burnQuantity(e){let r=["ESDTNFTBurn",Fe.utf8ToHex(e.tokenIdentifier),Fe.bigIntToHex(e.tokenNonce),Fe.bigIntToHex(e.quantityToBurn)];return this.createTransaction({sender:e.manager,receiver:e.manager,nonce:e.transactionNonce,gasPrice:e.gasPrice,gasLimitHint:e.gasLimit,executionGasLimit:this.config.gasLimitESDTNFTBurn,dataParts:r})}createTransaction({sender:e,receiver:r,nonce:n,value:i,gasPrice:s,gasLimitHint:a,executionGasLimit:o,dataParts:c}){let u=this.buildTransactionPayload(c),f=a||this.computeGasLimit(u,o),d=new qG.TransactionVersion(eI.TRANSACTION_VERSION_DEFAULT),m=new qG.TransactionOptions(eI.TRANSACTION_OPTIONS_DEFAULT);return new bwe.Transaction({chainID:this.config.chainID,sender:e,receiver:r,gasLimit:f,gasPrice:s,nonce:n||0,value:i||0,data:u,version:d,options:m})}buildTransactionPayload(e){let r=e.join(eI.ARGUMENTS_SEPARATOR);return new wwe.TransactionPayload(r)}computeGasLimit(e,r){return this.config.minGasLimit.valueOf()+this.config.gasLimitPerByte.valueOf()*e.length()+r.valueOf()}};Zw.TokenOperationsFactory=tI});var UG=R(e_=>{"use strict";l();Object.defineProperty(e_,"__esModule",{value:!0});e_.TokenOperationsFactoryConfig=void 0;var _we=qt(),rI=class{constructor(e){this.minGasPrice=1e9,this.minGasLimit=5e4,this.gasLimitPerByte=1500,this.gasLimitIssue=6e7,this.gasLimitToggleBurnRoleGlobally=6e7,this.gasLimitESDTLocalMint=3e5,this.gasLimitESDTLocalBurn=3e5,this.gasLimitSetSpecialRole=6e7,this.gasLimitPausing=6e7,this.gasLimitFreezing=6e7,this.gasLimitWiping=6e7,this.gasLimitESDTNFTCreate=3e6,this.gasLimitESDTNFTUpdateAttributes=1e6,this.gasLimitESDTNFTAddQuantity=1e6,this.gasLimitESDTNFTBurn=1e6,this.gasLimitStorePerByte=5e4,this.issueCost="50000000000000000",this.esdtContractAddress=_we.Address.fromBech32("erd1qqqqqqqqqqqqqqqpqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqzllls8a5w6u"),this.chainID=e}};e_.TokenOperationsFactoryConfig=rI});var VG=R(t_=>{"use strict";l();Object.defineProperty(t_,"__esModule",{value:!0});t_.TokenOperationsOutcomeParser=void 0;var Ewe=qt(),nI=It(),kG=Ev(),iI=class{parseIssueFungible(e){this.ensureNoError(e);let r=this.findSingleEventByIdentifier(e,"issue");return{tokenIdentifier:this.extractTokenIdentifier(r)}}parseIssueNonFungible(e){this.ensureNoError(e);let r=this.findSingleEventByIdentifier(e,"issueNonFungible");return{tokenIdentifier:this.extractTokenIdentifier(r)}}parseIssueSemiFungible(e){this.ensureNoError(e);let r=this.findSingleEventByIdentifier(e,"issueSemiFungible");return{tokenIdentifier:this.extractTokenIdentifier(r)}}parseRegisterMetaESDT(e){this.ensureNoError(e);let r=this.findSingleEventByIdentifier(e,"registerMetaESDT");return{tokenIdentifier:this.extractTokenIdentifier(r)}}parseRegisterAndSetAllRoles(e){this.ensureNoError(e);let r=this.findSingleEventByIdentifier(e,"registerAndSetAllRoles"),n=this.extractTokenIdentifier(r),s=this.findSingleEventByIdentifier(e,"ESDTSetRole").topics.slice(3).map(a=>a.valueOf().toString());return{tokenIdentifier:n,roles:s}}parseSetBurnRoleGlobally(e){return this.ensureNoError(e),{}}parseUnsetBurnRoleGlobally(e){return this.ensureNoError(e),{}}parseSetSpecialRole(e){this.ensureNoError(e);let r=this.findSingleEventByIdentifier(e,"ESDTSetRole"),n=r.address.toString(),i=this.extractTokenIdentifier(r),s=r.topics.slice(3).map(a=>a.valueOf().toString());return{userAddress:n,tokenIdentifier:i,roles:s}}parseNFTCreate(e){this.ensureNoError(e);let r=this.findSingleEventByIdentifier(e,"ESDTNFTCreate"),n=this.extractTokenIdentifier(r),i=this.extractNonce(r),s=this.extractAmount(r);return{tokenIdentifier:n,nonce:i,initialQuantity:s}}parseLocalMint(e){this.ensureNoError(e);let r=this.findSingleEventByIdentifier(e,"ESDTLocalMint"),n=r.address.toString(),i=this.extractTokenIdentifier(r),s=this.extractNonce(r),a=this.extractAmount(r);return{userAddress:n,tokenIdentifier:i,nonce:s,mintedSupply:a}}parseLocalBurn(e){this.ensureNoError(e);let r=this.findSingleEventByIdentifier(e,"ESDTLocalBurn"),n=r.address.toString(),i=this.extractTokenIdentifier(r),s=this.extractNonce(r),a=this.extractAmount(r);return{userAddress:n,tokenIdentifier:i,nonce:s,burntSupply:a}}parsePause(e){this.ensureNoError(e);let r=this.findSingleEventByIdentifier(e,"ESDTPause");return{}}parseUnpause(e){this.ensureNoError(e);let r=this.findSingleEventByIdentifier(e,"ESDTUnPause");return{}}parseFreeze(e){this.ensureNoError(e);let r=this.findSingleEventByIdentifier(e,"ESDTFreeze"),n=this.extractTokenIdentifier(r),i=this.extractNonce(r),s=this.extractAmount(r);return{userAddress:this.extractAddress(r),tokenIdentifier:n,nonce:i,balance:s}}parseUnfreeze(e){this.ensureNoError(e);let r=this.findSingleEventByIdentifier(e,"ESDTUnFreeze"),n=this.extractTokenIdentifier(r),i=this.extractNonce(r),s=this.extractAmount(r);return{userAddress:this.extractAddress(r),tokenIdentifier:n,nonce:i,balance:s}}parseWipe(e){this.ensureNoError(e);let r=this.findSingleEventByIdentifier(e,"ESDTWipe"),n=this.extractTokenIdentifier(r),i=this.extractNonce(r),s=this.extractAmount(r);return{userAddress:this.extractAddress(r),tokenIdentifier:n,nonce:i,balance:s}}parseUpdateAttributes(e){this.ensureNoError(e);let r=this.findSingleEventByIdentifier(e,"ESDTNFTUpdateAttributes"),n=this.extractTokenIdentifier(r),i=this.extractNonce(r),s=r.topics[3]?.valueOf();return{tokenIdentifier:n,nonce:i,attributes:s}}parseAddQuantity(e){this.ensureNoError(e);let r=this.findSingleEventByIdentifier(e,"ESDTNFTAddQuantity"),n=this.extractTokenIdentifier(r),i=this.extractNonce(r),s=this.extractAmount(r);return{tokenIdentifier:n,nonce:i,addedQuantity:s}}parseBurnQuantity(e){this.ensureNoError(e);let r=this.findSingleEventByIdentifier(e,"ESDTNFTBurn"),n=this.extractTokenIdentifier(r),i=this.extractNonce(r),s=this.extractAmount(r);return{tokenIdentifier:n,nonce:i,burntQuantity:s}}ensureNoError(e){for(let r of e.logs.events)if(r.identifier=="signalError"){let n=y.Buffer.from(r.data.substring(1),"hex").toString(),i=r.topics[1]?.valueOf().toString();throw new nI.ErrCannotParseTransactionOutcome(e.hash,`encountered signalError: ${i} (${n})`)}}findSingleEventByIdentifier(e,r){let n=this.gatherAllEvents(e).filter(i=>i.identifier==r);if(n.length==0)throw new nI.ErrCannotParseTransactionOutcome(e.hash,`cannot find event of type ${r}`);if(n.length>1)throw new nI.ErrCannotParseTransactionOutcome(e.hash,`more than one event of type ${r}`);return n[0]}gatherAllEvents(e){let r=[];r.push(...e.logs.events);for(let n of e.contractResults.items)r.push(...n.logs.events);return r}extractTokenIdentifier(e){return e.topics[0]?.valueOf().toString()}extractNonce(e){return kG.bufferToBigInt(e.topics[1]?.valueOf()).toFixed(0)}extractAmount(e){return kG.bufferToBigInt(e.topics[2]?.valueOf()).toFixed(0)}extractAddress(e){return Ewe.Address.fromBuffer(e.topics[3]?.valueOf()).toString()}};t_.TokenOperationsOutcomeParser=iI});var aI=R(_c=>{"use strict";l();var Awe=_c&&_c.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),sI=_c&&_c.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Awe(e,t,r)};Object.defineProperty(_c,"__esModule",{value:!0});sI(FG(),_c);sI(UG(),_c);sI(VG(),_c)});var HG=R(r_=>{"use strict";l();Object.defineProperty(r_,"__esModule",{value:!0});r_.DelegationTransactionsOutcomeParser=void 0;var Swe=qt(),xwe=b1(),Twe=It(),Iwe=kh(),oI=class{constructor(){}parseCreateNewDelegationContract(e){return e=this.ensureTransactionOutcome(e),this.ensureNoError(e.logs.events),Iwe.findEventsByIdentifier(e,"SCDeploy").map(n=>({contractAddress:this.extractContractAddress(n)}))}ensureTransactionOutcome(e){return"hash"in e?new xwe.TransactionsConverter().transactionOnNetworkToOutcome(e):e}ensureNoError(e){for(let r of e)if(r.identifier=="signalError"){let n=y.Buffer.from(r.dataItems[0]?.toString().slice(1)).toString()||"",i=this.decodeTopicAsString(r.topics[1]);throw new Twe.ErrParseTransactionOutcome(`encountered signalError: ${i} (${y.Buffer.from(n,"hex").toString()})`)}}extractContractAddress(e){if(!e.topics[0]?.length)return"";let r=y.Buffer.from(e.topics[0]);return Swe.Address.fromBuffer(r).bech32()}decodeTopicAsString(e){return y.Buffer.from(e).toString()}};r_.DelegationTransactionsOutcomeParser=oI});var zG=R(n_=>{"use strict";l();Object.defineProperty(n_,"__esModule",{value:!0});n_.SmartContractTransactionsOutcomeParser=void 0;var GG=qt(),Cwe=Dn(),jG=It(),jh=Qs(),S1=kh(),zh;(function(t){t.SCDeploy="SCDeploy",t.SignalError="signalError",t.WriteLog="writeLog"})(zh||(zh={}));var cI=class{constructor(e){this.abi=e?.abi,this.legacyResultsParser=e?.legacyResultsParser||new jh.ResultsParser}parseDeploy(e){return"transactionOutcome"in e?this.parseDeployGivenTransactionOutcome(e.transactionOutcome):this.parseDeployGivenTransactionOnNetwork(e.transactionOnNetwork)}parseDeployGivenTransactionOutcome(e){let r=e.directSmartContractCallOutcome,i=S1.findEventsByIdentifier(e,zh.SCDeploy).map(s=>this.parseScDeployEvent(s));return{returnCode:r.returnCode,returnMessage:r.returnMessage,contracts:i}}parseDeployGivenTransactionOnNetwork(e){let r=this.findDirectSmartContractCallOutcome(e),i=e.logs.events.concat(e.contractResults.items.flatMap(s=>s.logs.events)).filter(s=>s.identifier===zh.SCDeploy).map(s=>this.parseScDeployEvent({topics:s.topics.map(a=>y.Buffer.from(a.hex(),"hex"))}));return{returnCode:r.returnCode,returnMessage:r.returnMessage,contracts:i}}parseScDeployEvent(e){let r=e.topics[0],n=e.topics[1],i=e.topics[2],s=r?.length?new GG.Address(r).toBech32():"",a=n?.length?new GG.Address(n).toBech32():"";return{address:s,ownerAddress:a,codeHash:i}}parseExecute(e){return"transactionOutcome"in e?this.parseExecuteGivenTransactionOutcome(e.transactionOutcome,e.function):this.parseExecuteGivenTransactionOnNetwork(e.transactionOnNetwork,e.function)}parseExecuteGivenTransactionOutcome(e,r){let n=e.directSmartContractCallOutcome;if(!this.abi)return{values:n.returnDataParts,returnCode:n.returnCode,returnMessage:n.returnMessage};if(r=r||n.function,!r)throw new jG.Err('Function name is not available in the transaction outcome, thus endpoint definition (ABI) cannot be picked (for parsing). Maybe provide the "function" parameter explicitly?');let i=this.abi.getEndpoint(r),s={returnCode:new jh.ReturnCode(n.returnCode),returnMessage:n.returnMessage,values:n.returnDataParts.map(o=>y.Buffer.from(o))},a=this.legacyResultsParser.parseOutcomeFromUntypedBundle(s,i);return{values:a.values.map(o=>o.valueOf()),returnCode:a.returnCode.toString(),returnMessage:a.returnMessage}}parseExecuteGivenTransactionOnNetwork(e,r){let n=this.findDirectSmartContractCallOutcome(e);if(!this.abi)return{values:n.returnDataParts,returnCode:n.returnCode,returnMessage:n.returnMessage};if(r=r||n.function,!r)throw new jG.Err('Function name is not available in the transaction, thus endpoint definition (ABI) cannot be picked (for parsing). Maybe provide the "function" parameter explicitly?');let i=new jh.ArgSerializer,s=this.abi.getEndpoint(r),a=n.returnDataParts.map(c=>y.Buffer.from(c)),o=i.buffersToValues(a,s.output);return{returnCode:n.returnCode,returnMessage:n.returnMessage,values:o}}findDirectSmartContractCallOutcome(e){let r=this.findDirectSmartContractCallOutcomeWithinSmartContractResults(e);return r||(r=this.findDirectSmartContractCallOutcomeIfError(e),r)||(r=this.findDirectSmartContractCallOutcomeWithinWriteLogEvents(e),r)?r:new S1.SmartContractCallOutcome({function:e.function,returnCode:"",returnMessage:"",returnDataParts:[]})}findDirectSmartContractCallOutcomeWithinSmartContractResults(e){let r=new jh.ArgSerializer,n=[];for(let c of e.contractResults.items){let u=c.data.startsWith(Cwe.ARGUMENTS_SEPARATOR),f=c.receiver.bech32()===e.sender.bech32(),d=c.previousHash===e.hash;u&&f&&d&&n.push(c)}if(n.length===0)return null;if(n.length>1)throw new Error(`More than one smart contract result (holding the return data) found for transaction: ${e.hash}`);let[i]=n,[s,a,...o]=r.stringToBuffers(i.data);return new S1.SmartContractCallOutcome({function:e.function,returnCode:a?.toString(),returnMessage:i.returnMessage||a?.toString(),returnDataParts:o})}findDirectSmartContractCallOutcomeIfError(e){let r=new jh.ArgSerializer,n=zh.SignalError,i=[];i.push(...e.logs.events.filter(f=>f.identifier===n));for(let f of e.contractResults.items)f.previousHash==e.hash&&i.push(...f.logs.events.filter(d=>d.identifier===n));if(i.length===0)return null;if(i.length>1)throw new Error(`More than one "${n}" event found for transaction: ${e.hash}`);let[s]=i,a=s.dataPayload?.valueOf().toString()||"",o=s.getLastTopic()?.toString(),c=r.stringToBuffers(a),u=c[c.length-1];return new S1.SmartContractCallOutcome({function:e.function,returnCode:u?.toString()||n,returnMessage:o||u?.toString()||n,returnDataParts:[]})}findDirectSmartContractCallOutcomeWithinWriteLogEvents(e){let r=new jh.ArgSerializer,n=zh.WriteLog,i=[];i.push(...e.logs.events.filter(f=>f.identifier===n));for(let f of e.contractResults.items)f.previousHash==e.hash&&i.push(...f.logs.events.filter(d=>d.identifier===n));if(i.length===0)return null;if(i.length>1)throw new Error(`More than one "${n}" event found for transaction: ${e.hash}`);let[s]=i,a=s.dataPayload?.valueOf().toString()||"",[o,c,...u]=r.stringToBuffers(a);return new S1.SmartContractCallOutcome({function:e.function,returnCode:c?.toString(),returnMessage:c?.toString(),returnDataParts:u})}};n_.SmartContractTransactionsOutcomeParser=cI});var QG=R(i_=>{"use strict";l();Object.defineProperty(i_,"__esModule",{value:!0});i_.TokenManagementTransactionsOutcomeParser=void 0;var Nwe=qt(),Owe=b1(),KG=It(),WG=au(),Zn=kh(),uI=class{constructor(){}parseIssueFungible(e){return e=this.ensureTransactionOutcome(e),this.ensureNoError(e.logs.events),Zn.findEventsByIdentifier(e,"issue").map(n=>({tokenIdentifier:this.extractTokenIdentifier(n)}))}parseIssueNonFungible(e){return e=this.ensureTransactionOutcome(e),this.ensureNoError(e.logs.events),Zn.findEventsByIdentifier(e,"issueNonFungible").map(n=>({tokenIdentifier:this.extractTokenIdentifier(n)}))}parseIssueSemiFungible(e){return e=this.ensureTransactionOutcome(e),this.ensureNoError(e.logs.events),Zn.findEventsByIdentifier(e,"issueSemiFungible").map(n=>({tokenIdentifier:this.extractTokenIdentifier(n)}))}parseRegisterMetaEsdt(e){return e=this.ensureTransactionOutcome(e),this.ensureNoError(e.logs.events),Zn.findEventsByIdentifier(e,"registerMetaESDT").map(n=>({tokenIdentifier:this.extractTokenIdentifier(n)}))}parseRegisterAndSetAllRoles(e){e=this.ensureTransactionOutcome(e),this.ensureNoError(e.logs.events);let r=Zn.findEventsByIdentifier(e,"registerAndSetAllRoles"),n=Zn.findEventsByIdentifier(e,"ESDTSetRole");if(r.length!==n.length)throw new KG.ErrParseTransactionOutcome("Register Events and Set Role events mismatch. Should have the same number of events.");return r.map((i,s)=>{let a=this.extractTokenIdentifier(i),c=n[s].topics.slice(3).map(u=>this.decodeTopicAsString(u));return{tokenIdentifier:a,roles:c}})}parseSetBurnRoleGlobally(e){e=this.ensureTransactionOutcome(e),this.ensureNoError(e.logs.events)}parseUnsetBurnRoleGlobally(e){e=this.ensureTransactionOutcome(e),this.ensureNoError(e.logs.events)}parseSetSpecialRole(e){return e=this.ensureTransactionOutcome(e),this.ensureNoError(e.logs.events),Zn.findEventsByIdentifier(e,"ESDTSetRole").map(n=>this.getOutputForSetSpecialRoleEvent(n))}getOutputForSetSpecialRoleEvent(e){let r=e.address,n=this.extractTokenIdentifier(e),s=e.topics.slice(3).map(a=>this.decodeTopicAsString(a));return{userAddress:r,tokenIdentifier:n,roles:s}}parseNftCreate(e){return e=this.ensureTransactionOutcome(e),this.ensureNoError(e.logs.events),Zn.findEventsByIdentifier(e,"ESDTNFTCreate").map(n=>this.getOutputForNftCreateEvent(n))}getOutputForNftCreateEvent(e){let r=this.extractTokenIdentifier(e),n=this.extractNonce(e),i=this.extractAmount(e);return{tokenIdentifier:r,nonce:n,initialQuantity:i}}parseLocalMint(e){return e=this.ensureTransactionOutcome(e),this.ensureNoError(e.logs.events),Zn.findEventsByIdentifier(e,"ESDTLocalMint").map(n=>this.getOutputForLocalMintEvent(n))}getOutputForLocalMintEvent(e){let r=e.address,n=this.extractTokenIdentifier(e),i=this.extractNonce(e),s=this.extractAmount(e);return{userAddress:r,tokenIdentifier:n,nonce:i,mintedSupply:s}}parseLocalBurn(e){return e=this.ensureTransactionOutcome(e),this.ensureNoError(e.logs.events),Zn.findEventsByIdentifier(e,"ESDTLocalBurn").map(n=>this.getOutputForLocalBurnEvent(n))}getOutputForLocalBurnEvent(e){let r=e.address,n=this.extractTokenIdentifier(e),i=this.extractNonce(e),s=this.extractAmount(e);return{userAddress:r,tokenIdentifier:n,nonce:i,burntSupply:s}}parsePause(e){return e=this.ensureTransactionOutcome(e),this.ensureNoError(e.logs.events),Zn.findEventsByIdentifier(e,"ESDTPause").map(n=>({tokenIdentifier:this.extractTokenIdentifier(n)}))}parseUnpause(e){return e=this.ensureTransactionOutcome(e),this.ensureNoError(e.logs.events),Zn.findEventsByIdentifier(e,"ESDTUnPause").map(n=>({tokenIdentifier:this.extractTokenIdentifier(n)}))}parseFreeze(e){return e=this.ensureTransactionOutcome(e),this.ensureNoError(e.logs.events),Zn.findEventsByIdentifier(e,"ESDTFreeze").map(n=>this.getOutputForFreezeEvent(n))}getOutputForFreezeEvent(e){let r=this.extractAddress(e),n=this.extractTokenIdentifier(e),i=this.extractNonce(e),s=this.extractAmount(e);return{userAddress:r,tokenIdentifier:n,nonce:i,balance:s}}parseUnfreeze(e){return e=this.ensureTransactionOutcome(e),this.ensureNoError(e.logs.events),Zn.findEventsByIdentifier(e,"ESDTUnFreeze").map(n=>this.getOutputForUnfreezeEvent(n))}getOutputForUnfreezeEvent(e){let r=this.extractAddress(e),n=this.extractTokenIdentifier(e),i=this.extractNonce(e),s=this.extractAmount(e);return{userAddress:r,tokenIdentifier:n,nonce:i,balance:s}}parseWipe(e){return e=this.ensureTransactionOutcome(e),this.ensureNoError(e.logs.events),Zn.findEventsByIdentifier(e,"ESDTWipe").map(n=>this.getOutputForWipeEvent(n))}getOutputForWipeEvent(e){let r=this.extractAddress(e),n=this.extractTokenIdentifier(e),i=this.extractNonce(e),s=this.extractAmount(e);return{userAddress:r,tokenIdentifier:n,nonce:i,balance:s}}parseUpdateAttributes(e){return e=this.ensureTransactionOutcome(e),this.ensureNoError(e.logs.events),Zn.findEventsByIdentifier(e,"ESDTNFTUpdateAttributes").map(n=>this.getOutputForUpdateAttributesEvent(n))}getOutputForUpdateAttributesEvent(e){let r=this.extractTokenIdentifier(e),n=this.extractNonce(e),i=e.topics[3]?e.topics[3]:new Uint8Array;return{tokenIdentifier:r,nonce:n,attributes:i}}parseAddQuantity(e){return e=this.ensureTransactionOutcome(e),this.ensureNoError(e.logs.events),Zn.findEventsByIdentifier(e,"ESDTNFTAddQuantity").map(n=>this.getOutputForAddQuantityEvent(n))}getOutputForAddQuantityEvent(e){let r=this.extractTokenIdentifier(e),n=this.extractNonce(e),i=this.extractAmount(e);return{tokenIdentifier:r,nonce:n,addedQuantity:i}}parseBurnQuantity(e){return e=this.ensureTransactionOutcome(e),this.ensureNoError(e.logs.events),Zn.findEventsByIdentifier(e,"ESDTNFTBurn").map(n=>this.getOutputForBurnQuantityEvent(n))}getOutputForBurnQuantityEvent(e){let r=this.extractTokenIdentifier(e),n=this.extractNonce(e),i=this.extractAmount(e);return{tokenIdentifier:r,nonce:n,burntQuantity:i}}ensureTransactionOutcome(e){return"hash"in e?new Owe.TransactionsConverter().transactionOnNetworkToOutcome(e):e}ensureNoError(e){for(let r of e)if(r.identifier=="signalError"){let n=y.Buffer.from(r.dataItems[0]?.toString().slice(1)).toString()||"",i=this.decodeTopicAsString(r.topics[1]);throw new KG.ErrParseTransactionOutcome(`encountered signalError: ${i} (${y.Buffer.from(n,"hex").toString()})`)}}extractTokenIdentifier(e){return e.topics[0]?.length?this.decodeTopicAsString(e.topics[0]):""}extractNonce(e){if(!e.topics[1]?.length)return BigInt(0);let r=y.Buffer.from(e.topics[1]);return BigInt(WG.bufferToBigInt(r).toFixed(0))}extractAmount(e){if(!e.topics[2]?.length)return BigInt(0);let r=y.Buffer.from(e.topics[2]);return BigInt(WG.bufferToBigInt(r).toFixed(0))}extractAddress(e){if(!e.topics[3]?.length)return"";let r=y.Buffer.from(e.topics[3]);return Nwe.Address.fromBuffer(r).bech32()}decodeTopicAsString(e){return y.Buffer.from(e).toString()}};i_.TokenManagementTransactionsOutcomeParser=uI});var $G=R(s_=>{"use strict";l();Object.defineProperty(s_,"__esModule",{value:!0});s_.TransactionEventsParser=void 0;var Pwe=Qs(),fI=class{constructor(e){this.legacyResultsParser=new Pwe.ResultsParser,this.abi=e.abi,this.firstTopicIsIdentifier=e.firstTopicIsIdentifier??!0}parseEvents(e){let r=[];for(let n of e.events){let i=this.parseEvent({event:n});r.push(i)}return r}parseEvent(e){let r=e.event.topics.map(o=>y.Buffer.from(o)),n=this.firstTopicIsIdentifier?r[0]?.toString():e.event.identifier;this.firstTopicIsIdentifier&&r.shift();let i=e.event.dataItems.map(o=>y.Buffer.from(o)),s=this.abi.getEvent(n);return this.legacyResultsParser.doParseEvent({topics:r,dataItems:i,eventDefinition:s})}};s_.TransactionEventsParser=fI});var lI=R(Ba=>{"use strict";l();var Rwe=Ba&&Ba.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),x1=Ba&&Ba.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Rwe(e,t,r)};Object.defineProperty(Ba,"__esModule",{value:!0});x1(HG(),Ba);x1(kh(),Ba);x1(zG(),Ba);x1(QG(),Ba);x1($G(),Ba)});var Kh=R(a_=>{"use strict";l();Object.defineProperty(a_,"__esModule",{value:!0});a_.Account=void 0;var Dwe=qt(),dI=class{constructor(e){this.address=Dwe.Address.empty(),this.nonce=0,this.balance="0",this.address=e}update(e){this.nonce=e.nonce,this.balance=e.balance}incrementNonce(){this.nonce=this.nonce.valueOf()+1}getNonceThenIncrement(){let e=this.nonce;return this.nonce=this.nonce.valueOf()+1,e}toJSON(){return{address:this.address.bech32(),nonce:this.nonce.valueOf(),balance:this.balance.toString()}}};a_.Account=dI});var c_=R(Wh=>{"use strict";l();Object.defineProperty(Wh,"__esModule",{value:!0});Wh.MessageComputer=Wh.Message=void 0;var T1=Dn(),Mwe=qt(),Bwe=xg(),o_=class{constructor(e){this.data=e.data,this.signature=e.signature,this.address=e.address,this.version=e.version||T1.DEFAULT_MESSAGE_VERSION,this.signer=e.signer||T1.SDK_JS_SIGNER}};Wh.Message=o_;var hI=class{constructor(){}computeBytesForSigning(e){let r=y.Buffer.from(e.data.length.toString()),n=y.Buffer.concat([r,e.data]),i=y.Buffer.concat([y.Buffer.from(T1.MESSAGE_PREFIX),n]);return Bwe("keccak256").update(i).digest()}computeBytesForVerifying(e){return this.computeBytesForSigning(e)}packMessage(e){return{message:y.Buffer.from(e.data).toString("hex"),signature:e.signature?y.Buffer.from(e.signature).toString("hex"):"",address:e.address?e.address.bech32():"",version:e.version,signer:e.signer}}unpackMessage(e){let r=this.trimHexPrefix(e.message),n=y.Buffer.from(r,"hex"),i=this.trimHexPrefix(e.signature||""),s=y.Buffer.from(i,"hex"),a;e.address&&(a=Mwe.Address.fromBech32(e.address));let o=e.version||T1.DEFAULT_MESSAGE_VERSION,c=e.signer||T1.UNKNOWN_SIGNER;return new o_({data:n,signature:s,address:a,version:o,signer:c})}trimHexPrefix(e){return e.startsWith("0x")||e.startsWith("0X")?e.slice(2):e}};Wh.MessageComputer=hI});var yI=R(No=>{"use strict";l();var Lwe=No&&No.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),qwe=No&&No.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Fwe=No&&No.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Lwe(e,t,r);return qwe(e,t),e};Object.defineProperty(No,"__esModule",{value:!0});No.AsyncTimer=void 0;var Uwe=Fwe(It()),kwe=It(),pI=iu(),gI=class{constructor(e){this.timeoutHandle=null,this.rejectionFunc=null,this.name=e,this.correlationTag=0}start(e){if(this.timeoutHandle)throw new Uwe.ErrAsyncTimerAlreadyRunning;return this.correlationTag++,pI.Logger.trace(`AsyncTimer[${this.name}'${this.correlationTag}].start()`),new Promise((r,n)=>{this.rejectionFunc=n;let i=()=>{this.rejectionFunc=null,this.stop(),r()};this.timeoutHandle=setTimeout(i,e)})}abort(){pI.Logger.trace(`AsyncTimer[${this.name}'${this.correlationTag}].abort()`),this.rejectionFunc&&(this.rejectionFunc(new kwe.ErrAsyncTimerAborted),this.rejectionFunc=null),this.stop()}stop(){this.isStopped()||(pI.Logger.trace(`AsyncTimer[${this.name}'${this.correlationTag}].stop()`),this.timeoutHandle&&(clearTimeout(this.timeoutHandle),this.timeoutHandle=null))}isStopped(){return!this.timeoutHandle}};No.AsyncTimer=gI});var f_=R(u_=>{"use strict";l();Object.defineProperty(u_,"__esModule",{value:!0});u_.TransactionWatcher=void 0;var mI=yI(),YG=Dn(),Ec=It(),JG=iu(),Pu=class t{constructor(e,r={}){this.fetcher=new vI(e),this.pollingIntervalMilliseconds=r.pollingIntervalMilliseconds||t.DefaultPollingInterval,this.timeoutMilliseconds=r.timeoutMilliseconds||t.DefaultTimeout,this.patienceMilliseconds=r.patienceMilliseconds||t.DefaultPatience}async awaitPending(e){let r=s=>s.status.isPending(),n=async()=>{let s=this.transactionOrTxHashToTxHash(e);return await this.fetcher.getTransaction(s)},i=()=>new Ec.ErrExpectedTransactionStatusNotReached;return this.awaitConditionally(r,n,i)}async awaitCompleted(e){let r=s=>{if(s.isCompleted===void 0)throw new Ec.ErrIsCompletedFieldIsMissingOnTransaction;return s.isCompleted},n=async()=>{let s=this.transactionOrTxHashToTxHash(e);return await this.fetcher.getTransaction(s)},i=()=>new Ec.ErrExpectedTransactionStatusNotReached;return this.awaitConditionally(r,n,i)}async awaitAllEvents(e,r){let n=a=>{let o=this.getAllTransactionEvents(a).map(u=>u.identifier);return r.every(u=>o.includes(u))},i=async()=>{let a=this.transactionOrTxHashToTxHash(e);return await this.fetcher.getTransaction(a)},s=()=>new Ec.ErrExpectedTransactionEventsNotFound;return this.awaitConditionally(n,i,s)}async awaitAnyEvent(e,r){let n=a=>{let o=this.getAllTransactionEvents(a).map(u=>u.identifier);return r.find(u=>o.includes(u))!=null},i=async()=>{let a=this.transactionOrTxHashToTxHash(e);return await this.fetcher.getTransaction(a)},s=()=>new Ec.ErrExpectedTransactionEventsNotFound;return this.awaitConditionally(n,i,s)}async awaitOnCondition(e,r){let n=async()=>{let s=this.transactionOrTxHashToTxHash(e);return await this.fetcher.getTransaction(s)},i=()=>new Ec.ErrExpectedTransactionStatusNotReached;return this.awaitConditionally(r,n,i)}transactionOrTxHashToTxHash(e){let r=typeof e=="string"?e:e.getHash().hex();if(r.length!==YG.HEX_TRANSACTION_HASH_LENGTH)throw new Ec.Err(`Invalid transaction hash length. The length of a hex encoded hash should be ${YG.HEX_TRANSACTION_HASH_LENGTH}.`);return r}async awaitConditionally(e,r,n){let i=new mI.AsyncTimer("watcher:periodic"),s=new mI.AsyncTimer("watcher:patience"),a=new mI.AsyncTimer("watcher:timeout"),o=!1,c,u=!1;for(a.start(this.timeoutMilliseconds).finally(()=>{a.stop(),o=!0});!o;){await i.start(this.pollingIntervalMilliseconds);try{if(c=await r(),u=e(c),u||o)break}catch(f){if(JG.Logger.debug("TransactionWatcher.awaitConditionally(): cannot (yet) fetch data."),f instanceof Ec.ErrIsCompletedFieldIsMissingOnTransaction||!(f instanceof Ec.Err))throw f}}if(u&&await s.start(this.patienceMilliseconds),a.isStopped()||a.stop(),!c||!u)throw n();return c}getAllTransactionEvents(e){let r=[...e.logs.events];for(let n of e.contractResults.items)r.push(...n.logs.events);return r}};u_.TransactionWatcher=Pu;Pu.DefaultPollingInterval=6e3;Pu.DefaultTimeout=Pu.DefaultPollingInterval*15;Pu.DefaultPatience=0;Pu.NoopOnStatusReceived=t=>{};var vI=class{constructor(e){this.fetcher=e}async getTransaction(e){return JG.Logger.debug(`transactionWatcher, getTransaction(${e})`),await this.fetcher.getTransaction(e)}}});var I1=R(ra=>{"use strict";l();var Vwe=ra&&ra.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ra,"__esModule",{value:!0});ra.UnknownClientName=ra.BaseUserAgent=ra.EsdtContractAddress=ra.MaxUint64AsBigNumber=void 0;var Hwe=Vwe(Pr()),Gwe=qt();ra.MaxUint64AsBigNumber=new Hwe.default("18446744073709551615");ra.EsdtContractAddress=new Gwe.Address("erd1qqqqqqqqqqqqqqqpqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqzllls8a5w6u");ra.BaseUserAgent="multiversx-sdk";ra.UnknownClientName="unknown"});var $h=R(Qh=>{"use strict";l();var jwe=Qh&&Qh.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Qh,"__esModule",{value:!0});Qh.ContractQueryResponse=void 0;var zwe=jwe(Pr()),Kwe=I1(),bI=class t{constructor(e){this.returnData=e?.returnData||[],this.returnCode=e?.returnCode||"",this.returnMessage=e?.returnMessage||"",this.gasUsed=e?.gasUsed||0}static fromHttpResponse(e){let r=e.returnData||e.ReturnData,n=e.returnCode||e.ReturnCode,i=e.returnMessage||e.ReturnMessage,s=new zwe.default(e.gasRemaining||e.GasRemaining||0),a=Kwe.MaxUint64AsBigNumber.minus(s).toNumber();return new t({returnData:r,returnCode:n,returnMessage:i,gasUsed:a})}getReturnDataParts(){return this.returnData.map(e=>y.Buffer.from(e||"","base64"))}toJSON(){return{returnData:this.returnData,returnCode:this.returnCode,returnMessage:this.returnMessage,gasUsed:this.gasUsed.valueOf()}}};Qh.ContractQueryResponse=bI});var XG=R(()=>{"use strict";l();global.Buffer||(global.Buffer=Qi().Buffer)});var EI=R(Yh=>{"use strict";l();Object.defineProperty(Yh,"__esModule",{value:!0});Yh.SmartContractQueryResponse=Yh.SmartContractQuery=void 0;var wI=class{constructor(e){this.contract=e.contract,this.caller=e.caller,this.value=e.value,this.function=e.function,this.arguments=e.arguments}};Yh.SmartContractQuery=wI;var _I=class{constructor(e){this.function=e.function,this.returnCode=e.returnCode,this.returnMessage=e.returnMessage,this.returnDataParts=e.returnDataParts}};Yh.SmartContractQueryResponse=_I});var ej=R(l_=>{"use strict";l();Object.defineProperty(l_,"__esModule",{value:!0});l_.QueryRunnerAdapter=void 0;var ZG=qt(),Wwe=EI(),AI=class{constructor(e){this.networkProvider=e.networkProvider}async runQuery(e){let r={address:ZG.Address.fromBech32(e.contract),caller:e.caller?ZG.Address.fromBech32(e.caller):void 0,func:e.function,value:e.value,getEncodedArguments:()=>e.arguments.map(i=>y.Buffer.from(i).toString("hex"))},n=await this.networkProvider.queryContract(r);return new Wwe.SmartContractQueryResponse({function:e.function,returnCode:n.returnCode.toString(),returnMessage:n.returnMessage,returnDataParts:n.getReturnDataParts()})}};l_.QueryRunnerAdapter=AI});var tj=R(ml=>{"use strict";l();var Qwe=ml&&ml.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),$we=ml&&ml.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Qwe(e,t,r)};Object.defineProperty(ml,"__esModule",{value:!0});$we(ej(),ml)});var rj=R(vl=>{"use strict";l();var Ywe=vl&&vl.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Jwe=vl&&vl.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Ywe(e,t,r)};Object.defineProperty(vl,"__esModule",{value:!0});Jwe(b1(),vl)});var ij=R(bl=>{"use strict";l();Object.defineProperty(bl,"__esModule",{value:!0});bl.GasEstimator=bl.DefaultGasConfiguration=void 0;bl.DefaultGasConfiguration={minGasLimit:5e4,gasPerDataByte:1500,gasCostESDTTransfer:2e5,gasCostESDTNFTTransfer:2e5,gasCostESDTNFTMultiTransfer:2e5};var Xwe=1e5,nj=8e5,SI=class{constructor(e){this.gasConfiguration=e||bl.DefaultGasConfiguration}forEGLDTransfer(e){return this.gasConfiguration.minGasLimit+this.gasConfiguration.gasPerDataByte*e}forESDTTransfer(e){return this.gasConfiguration.minGasLimit+this.gasConfiguration.gasCostESDTTransfer+this.gasConfiguration.gasPerDataByte*e+Xwe}forESDTNFTTransfer(e){return this.gasConfiguration.minGasLimit+this.gasConfiguration.gasCostESDTNFTTransfer+this.gasConfiguration.gasPerDataByte*e+nj}forMultiESDTNFTTransfer(e,r){return this.gasConfiguration.minGasLimit+(this.gasConfiguration.gasCostESDTNFTMultiTransfer+nj)*r+this.gasConfiguration.gasPerDataByte*e}};bl.GasEstimator=SI});var aj=R(sj=>{"use strict";l();Object.defineProperty(sj,"__esModule",{value:!0})});var cj=R(oj=>{"use strict";l();Object.defineProperty(oj,"__esModule",{value:!0})});var uj=R(d_=>{"use strict";l();Object.defineProperty(d_,"__esModule",{value:!0});d_.RelayedTransactionV1Builder=void 0;var xI=qt(),Zwe=It(),e_e=rs(),t_e=wc(),r_e=_w(),TI=class{setInnerTransaction(e){return this.innerTransaction=e,this}setNetworkConfig(e){return this.netConfig=e,this}setRelayerAddress(e){return this.relayerAddress=e,this}setRelayerNonce(e){return this.relayerNonce=e,this}setRelayedTransactionVersion(e){return this.relayedTransactionVersion=e,this}setRelayedTransactionOptions(e){return this.relayedTransactionOptions=e,this}setRelayedTransactionGuardian(e){return this.relayedTransactionGuardian=e,this}build(){if(!this.innerTransaction||!this.netConfig||!this.relayerAddress||!this.innerTransaction.getSignature())throw new Zwe.ErrInvalidRelayedV1BuilderArguments;let e=this.prepareInnerTransaction(),r=`relayedTx@${y.Buffer.from(e).toString("hex")}`,n=new t_e.TransactionPayload(r),i=this.netConfig.MinGasLimit+this.netConfig.GasPerDataByte*n.length()+this.innerTransaction.getGasLimit().valueOf(),s=new e_e.Transaction({nonce:this.relayerNonce,sender:this.relayerAddress,receiver:this.innerTransaction.getSender(),value:0,gasLimit:i,data:n,chainID:this.netConfig.ChainID,version:this.relayedTransactionVersion,options:this.relayedTransactionOptions,guardian:this.relayedTransactionGuardian});return this.relayerNonce&&s.setNonce(this.relayerNonce),s}prepareInnerTransaction(){if(!this.innerTransaction)return"";let e={nonce:this.innerTransaction.getNonce().valueOf(),sender:new xI.Address(this.innerTransaction.getSender().bech32()).pubkey().toString("base64"),receiver:new xI.Address(this.innerTransaction.getReceiver().bech32()).pubkey().toString("base64"),value:BigInt(this.innerTransaction.getValue().toString()),gasPrice:this.innerTransaction.getGasPrice().valueOf(),gasLimit:this.innerTransaction.getGasLimit().valueOf(),data:this.innerTransaction.getData().valueOf().toString("base64"),signature:this.innerTransaction.getSignature().toString("base64"),chainID:y.Buffer.from(this.innerTransaction.getChainID().valueOf()).toString("base64"),version:this.innerTransaction.getVersion().valueOf(),options:this.innerTransaction.getOptions().valueOf()==0?void 0:this.innerTransaction.getOptions().valueOf(),guardian:this.innerTransaction.getGuardian().bech32()?new xI.Address(this.innerTransaction.getGuardian().bech32()).pubkey().toString("base64"):void 0,guardianSignature:this.innerTransaction.getGuardianSignature().toString("hex")?this.innerTransaction.getGuardianSignature().toString("base64"):void 0,sndUserName:this.innerTransaction.getSenderUsername()?y.Buffer.from(this.innerTransaction.getSenderUsername()).toString("base64"):void 0,rcvUserName:this.innerTransaction.getReceiverUsername()?y.Buffer.from(this.innerTransaction.getReceiverUsername()).toString("base64"):void 0};return r_e.stringify(e)}};d_.RelayedTransactionV1Builder=TI});var lj=R(h_=>{"use strict";l();Object.defineProperty(h_,"__esModule",{value:!0});h_.RelayedTransactionV2Builder=void 0;var fj=It(),C1=Qs(),n_e=rs(),i_e=wc(),II=class{setInnerTransaction(e){return this.innerTransaction=e,this}setInnerTransactionGasLimit(e){return this.innerTransactionGasLimit=e,this}setNetworkConfig(e){return this.netConfig=e,this}setRelayerAddress(e){return this.relayerAddress=e,this}setRelayerNonce(e){return this.relayerNonce=e,this}build(){if(!this.innerTransaction||!this.innerTransactionGasLimit||!this.relayerAddress||!this.netConfig||!this.innerTransaction.getSignature())throw new fj.ErrInvalidRelayedV2BuilderArguments;if(this.innerTransaction.getGasLimit()!=0)throw new fj.ErrGasLimitShouldBe0ForInnerTransaction;let{argumentsString:e}=new C1.ArgSerializer().valuesToString([new C1.AddressValue(this.innerTransaction.getReceiver()),new C1.U64Value(this.innerTransaction.getNonce().valueOf()),new C1.BytesValue(this.innerTransaction.getData().valueOf()),new C1.BytesValue(this.innerTransaction.getSignature())]),r=`relayedTxV2@${e}`,n=new i_e.TransactionPayload(r),i=new n_e.Transaction({sender:this.relayerAddress,receiver:this.innerTransaction.getSender(),value:0,gasLimit:this.innerTransactionGasLimit.valueOf()+this.netConfig.MinGasLimit+this.netConfig.GasPerDataByte*n.length(),data:n,chainID:this.netConfig.ChainID,version:this.innerTransaction.getVersion(),options:this.innerTransaction.getOptions()});return this.relayerNonce&&i.setNonce(this.relayerNonce),i}};h_.RelayedTransactionV2Builder=II});var dj=R(p_=>{"use strict";l();Object.defineProperty(p_,"__esModule",{value:!0});p_.SignableMessage=void 0;var s_e=qt(),a_e=zw(),o_e=Dn(),c_e=xg(),CI=class{constructor(e){this.message=y.Buffer.from([]),this.signature=y.Buffer.from([]),this.version=1,this.signer="ErdJS",this.address=s_e.Address.empty(),Object.assign(this,e)}serializeForSigning(){let e=y.Buffer.from(this.message.length.toString()),r=y.Buffer.concat([e,this.message]),n=y.Buffer.concat([y.Buffer.from(o_e.MESSAGE_PREFIX),r]);return c_e("keccak256").update(n).digest()}serializeForSigningRaw(){return y.Buffer.concat([this.getMessageSize(),this.message])}getSignature(){return this.signature}applySignature(e){this.signature=a_e.interpretSignatureAsBuffer(e)}getMessageSize(){let e=y.Buffer.alloc(4);return e.writeUInt32BE(this.message.length,0),e}toJSON(){return{address:this.address.bech32(),message:"0x"+this.message.toString("hex"),signature:"0x"+this.signature.toString("hex"),version:this.version,signer:this.signer}}};p_.SignableMessage=CI});var pj=R(y_=>{"use strict";l();Object.defineProperty(y_,"__esModule",{value:!0});y_.SmartContractQueriesController=void 0;var hj=It(),u_e=EI(),g_=Qs(),f_e=dn(),NI=class{constructor(e){this.abi=e.abi,this.queryRunner=e.queryRunner,this.legacyResultsParser=new g_.ResultsParser}async query(e){let r=this.createQuery(e),n=await this.runQuery(r);return this.raiseForStatus(n),this.parseQueryResponse(n)}raiseForStatus(e){if(!(e.returnCode==="ok"))throw new hj.ErrSmartContractQuery(e.returnCode,e.returnMessage)}createQuery(e){let r=this.encodeArguments(e.function,e.arguments);return new u_e.SmartContractQuery({contract:e.contract,caller:e.caller,function:e.function,arguments:r,value:e.value})}encodeArguments(e,r){let n=this.abi?.getEndpoint(e);if(n){let i=g_.NativeSerializer.nativeToTypedValues(r,n);return new g_.ArgSerializer().valuesToBuffers(i)}if(this.areArgsOfTypedValue(r))return new g_.ArgSerializer().valuesToBuffers(r);if(this.areArgsBuffers(r))return r.map(i=>y.Buffer.from(i));throw new hj.Err("cannot encode arguments: when ABI is not available, they must be either typed values or buffers")}areArgsOfTypedValue(e){return e.every(r=>f_e.isTyped(r))}areArgsBuffers(e){for(let r of e)if(!ArrayBuffer.isView(r))return!1;return!0}async runQuery(e){return await this.queryRunner.runQuery(e)}parseQueryResponse(e){if(!this.abi)return e.returnDataParts;let r={returnCode:e.returnCode,returnMessage:e.returnMessage,getReturnDataParts:()=>e.returnDataParts.map(o=>y.Buffer.from(o))},n=e.function,i=this.abi.getEndpoint(n);return this.legacyResultsParser.parseQueryResponse(r,i).values.map(o=>o.valueOf())}};y_.SmartContractQueriesController=NI});var b_=R(Ru=>{"use strict";l();var l_e=Ru&&Ru.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ru,"__esModule",{value:!0});Ru.GuardianData=Ru.AccountOnNetwork=void 0;var gj=l_e(Pr()),m_=qt(),OI=class t{constructor(e){this.address=m_.Address.empty(),this.nonce=0,this.balance=new gj.default(0),this.code="",this.userName="",Object.assign(this,e)}static fromHttpResponse(e){let r=new t;return r.address=new m_.Address(e.address||""),r.nonce=Number(e.nonce||0),r.balance=new gj.default(e.balance||0),r.code=e.code||"",r.userName=e.username||"",r}};Ru.AccountOnNetwork=OI;var PI=class t{constructor(e){this.guarded=!1,Object.assign(this,e)}static fromHttpResponse(e){let r=new t;return r.guarded=e.guarded||!1,e.activeGuardian&&(r.activeGuardian=v_.fromHttpResponse(e.activeGuardian)),e.pendingGuardian&&(r.pendingGuardian=v_.fromHttpResponse(e.pendingGuardian)),r}getCurrentGuardianAddress(){if(this.guarded)return this.activeGuardian?.address}};Ru.GuardianData=PI;var v_=class t{constructor(){this.activationEpoch=0,this.address=m_.Address.empty(),this.serviceUID=""}static fromHttpResponse(e){let r=new t;return r.activationEpoch=Number(e.activationEpoch||0),r.address=new m_.Address(e.address||""),r.serviceUID=e.serviceUID||"",r}}});var RI=R(Jh=>{"use strict";l();Object.defineProperty(Jh,"__esModule",{value:!0});Jh.defaultPagination=Jh.defaultAxiosConfig=void 0;var d_e=_w()({constructorAction:"ignore"});Jh.defaultAxiosConfig={timeout:5e3,transformResponse:[function(t){return d_e.parse(t)}]};Jh.defaultPagination={from:0,size:100}});var __=R(w_=>{"use strict";l();Object.defineProperty(w_,"__esModule",{value:!0});w_.ContractQueryRequest=void 0;var DI=class{constructor(e){this.query=e}toHttpRequest(){let e={},r=this.query;return e.scAddress=r.address.bech32(),e.caller=r.caller?.bech32()?r.caller.bech32():void 0,e.funcName=r.func.toString(),e.value=r.value?r.value.toString():void 0,e.args=r.getEncodedArguments(),e}};w_.ContractQueryRequest=DI});var BI=R(E_=>{"use strict";l();Object.defineProperty(E_,"__esModule",{value:!0});E_.NetworkGeneralStatistics=void 0;var MI=class t{constructor(){this.Shards=0,this.Blocks=0,this.Accounts=0,this.Transactions=0,this.RefreshRate=0,this.Epoch=0,this.RoundsPassed=0,this.RoundsPerEpoch=0}static fromHttpResponse(e){let r=new t;return r.Shards=Number(e.shards),r.Blocks=Number(e.blocks),r.Accounts=Number(e.accounts),r.Transactions=Number(e.transactions),r.RefreshRate=Number(e.refreshRate),r.Epoch=Number(e.epoch),r.RoundsPassed=Number(e.roundsPassed),r.RoundsPerEpoch=Number(e.roundsPerEpoch),r}};E_.NetworkGeneralStatistics=MI});var qI=R(Xh=>{"use strict";l();var h_e=Xh&&Xh.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Xh,"__esModule",{value:!0});Xh.NetworkStake=void 0;var yj=h_e(Pr()),LI=class t{constructor(){this.TotalValidators=0,this.ActiveValidators=0,this.QueueSize=0,this.TotalStaked=new yj.default(0)}static fromHttpResponse(e){let r=new t;return r.TotalValidators=Number(e.totalValidators),r.ActiveValidators=Number(e.activeValidators),r.QueueSize=Number(e.queueSize),r.TotalStaked=new yj.default(e.totalStaked),r}};Xh.NetworkStake=LI});var vj=R(Zh=>{"use strict";l();var p_e=Zh&&Zh.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Zh,"__esModule",{value:!0});Zh.PairOnNetwork=void 0;var Oo=p_e(Pr()),mj=qt(),FI=class t{constructor(e){this.address=mj.Address.empty(),this.id="",this.symbol="",this.name="",this.price=new Oo.default(0),this.baseId="",this.basePrice=new Oo.default(0),this.baseSymbol="",this.baseName="",this.quoteId="",this.quotePrice=new Oo.default(0),this.quoteSymbol="",this.quoteName="",this.totalValue=new Oo.default(0),this.volume24h=new Oo.default(0),this.state="",this.type="",this.rawResponse={},Object.assign(this,e)}static fromApiHttpResponse(e){let r=new t;return r.address=new mj.Address(e.address||""),r.id=e.id||"",r.symbol=e.symbol||"",r.name=e.name||"",r.price=new Oo.default(e.price||0),r.baseId=e.baseId||"",r.basePrice=new Oo.default(e.basePrice||0),r.baseSymbol=e.baseSymbol||"",r.baseName=e.baseName||"",r.quoteId=e.quoteId||"",r.quotePrice=new Oo.default(e.quotePrice||0),r.quoteSymbol=e.quoteSymbol||"",r.quoteName=e.quoteName||"",r.totalValue=new Oo.default(e.totalValue||0),r.volume24h=new Oo.default(e.volume24h||0),r.state=e.state||"",r.type=e.type||"",r.rawResponse=e,r}};Zh.PairOnNetwork=FI});var kI=R(e0=>{"use strict";l();var g_e=e0&&e0.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e0,"__esModule",{value:!0});e0.NetworkConfig=void 0;var bj=g_e(Pr()),UI=class t{constructor(){this.ChainID="T",this.GasPerDataByte=1500,this.TopUpFactor=0,this.RoundDuration=0,this.RoundsPerEpoch=0,this.TopUpRewardsGradientPoint=new bj.default(0),this.MinGasLimit=5e4,this.MinGasPrice=1e9,this.GasPriceModifier=1,this.MinTransactionVersion=1}static fromHttpResponse(e){let r=new t;return r.ChainID=String(e.erd_chain_id),r.GasPerDataByte=Number(e.erd_gas_per_data_byte),r.TopUpFactor=Number(e.erd_top_up_factor),r.RoundDuration=Number(e.erd_round_duration),r.RoundsPerEpoch=Number(e.erd_rounds_per_epoch),r.TopUpRewardsGradientPoint=new bj.default(e.erd_rewards_top_up_gradient_point),r.MinGasLimit=Number(e.erd_min_gas_limit),r.MinGasPrice=Number(e.erd_min_gas_price),r.MinTransactionVersion=Number(e.erd_min_transaction_version),r.GasPriceModifier=Number(e.erd_gas_price_modifier),r}};e0.NetworkConfig=UI});var HI=R(A_=>{"use strict";l();Object.defineProperty(A_,"__esModule",{value:!0});A_.NetworkStatus=void 0;var VI=class t{constructor(){this.CurrentRound=0,this.EpochNumber=0,this.HighestFinalNonce=0,this.Nonce=0,this.NonceAtEpochStart=0,this.NoncesPassedInCurrentEpoch=0,this.RoundAtEpochStart=0,this.RoundsPassedInCurrentEpoch=0,this.RoundsPerEpoch=0}static fromHttpResponse(e){let r=new t;return r.CurrentRound=Number(e.erd_current_round),r.EpochNumber=Number(e.erd_epoch_number),r.HighestFinalNonce=Number(e.erd_highest_final_nonce),r.Nonce=Number(e.erd_nonce),r.NonceAtEpochStart=Number(e.erd_nonce_at_epoch_start),r.NoncesPassedInCurrentEpoch=Number(e.erd_nonces_passed_in_current_epoch),r.RoundAtEpochStart=Number(e.erd_round_at_epoch_start),r.RoundsPassedInCurrentEpoch=Number(e.erd_rounds_passed_in_current_epoch),r.RoundsPerEpoch=Number(e.erd_rounds_per_epoch),r}};A_.NetworkStatus=VI});var x_=R(Du=>{"use strict";l();var y_e=Du&&Du.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Du,"__esModule",{value:!0});Du.DefinitionOfTokenCollectionOnNetwork=Du.DefinitionOfFungibleTokenOnNetwork=void 0;var S_=y_e(Pr()),t0=qt(),GI=class t{constructor(){this.identifier="",this.name="",this.ticker="",this.owner=t0.Address.empty(),this.decimals=0,this.supply=new S_.default(0),this.isPaused=!1,this.canUpgrade=!1,this.canMint=!1,this.canBurn=!1,this.canChangeOwner=!1,this.canPause=!1,this.canFreeze=!1,this.canWipe=!1,this.canAddSpecialRoles=!1,this.assets={}}static fromApiHttpResponse(e){let r=new t;return r.identifier=e.identifier||"",r.name=e.name||"",r.ticker=e.ticker||"",r.owner=new t0.Address(e.owner||""),r.decimals=e.decimals||0,r.supply=new S_.default(e.supply||"0"),r.isPaused=e.isPaused||!1,r.canUpgrade=e.canUpgrade||!1,r.canMint=e.canMint||!1,r.canBurn=e.canBurn||!1,r.canChangeOwner=e.canChangeOwner||!1,r.canPause=e.canPause||!1,r.canFreeze=e.canFreeze||!1,r.canWipe=e.canWipe||!1,r.assets=e.assets||{},r}static fromResponseOfGetTokenProperties(e,r){let n=new t,[i,s,a,o,...c]=r,u=wj(c);return n.identifier=e,n.name=i.toString(),n.ticker=e,n.owner=new t0.Address(a),n.decimals=u.NumDecimals.toNumber(),n.supply=new S_.default(o.toString()).shiftedBy(-n.decimals),n.isPaused=u.IsPaused,n.canUpgrade=u.CanUpgrade,n.canMint=u.CanMint,n.canBurn=u.CanBurn,n.canChangeOwner=u.CanChangeOwner,n.canPause=u.CanPause,n.canFreeze=u.CanFreeze,n.canWipe=u.CanWipe,n}};Du.DefinitionOfFungibleTokenOnNetwork=GI;var jI=class t{constructor(){this.collection="",this.type="",this.name="",this.ticker="",this.owner=t0.Address.empty(),this.decimals=0,this.canPause=!1,this.canFreeze=!1,this.canWipe=!1,this.canUpgrade=!1,this.canChangeOwner=!1,this.canAddSpecialRoles=!1,this.canTransferNftCreateRole=!1,this.canCreateMultiShard=!1}static fromApiHttpResponse(e){let r=new t;return r.collection=e.collection||"",r.type=e.type||"",r.name=e.name||"",r.ticker=e.ticker||"",r.owner=new t0.Address(e.owner||""),r.decimals=e.decimals||0,r.canPause=e.canPause||!1,r.canFreeze=e.canFreeze||!1,r.canWipe=e.canWipe||!1,r.canUpgrade=e.canUpgrade||!1,r.canAddSpecialRoles=e.canAddSpecialRoles||!1,r.canTransferNftCreateRole=e.canTransferNftCreateRole||!1,r}static fromResponseOfGetTokenProperties(e,r){let n=new t,[i,s,a,o,c,...u]=r,f=wj(u);return n.collection=e,n.type=s.toString(),n.name=i.toString(),n.ticker=e,n.owner=new t0.Address(a),n.decimals=f.NumDecimals.toNumber()??0,n.canPause=f.CanPause||!1,n.canFreeze=f.CanFreeze||!1,n.canWipe=f.CanWipe||!1,n.canUpgrade=f.CanUpgrade||!1,n.canChangeOwner=f.CanChangeOwner||!1,n.canAddSpecialRoles=f.CanAddSpecialRoles||!1,n.canTransferNftCreateRole=f.CanTransferNFTCreateRole||!1,n.canCreateMultiShard=f.CanCreateMultiShard||!1,n}};Du.DefinitionOfTokenCollectionOnNetwork=jI;function wj(t){let e={};for(let r of t){let[n,i]=r.toString().split("-");e[n]=m_e(i)}return e}function m_e(t){switch(t){case"true":return!0;case"false":return!1;default:return new S_.default(t)}}});var T_=R(r0=>{"use strict";l();Object.defineProperty(r0,"__esModule",{value:!0});r0.NonFungibleTokenOfAccountOnNetwork=r0.FungibleTokenOfAccountOnNetwork=void 0;var Po=Pr(),_j=qt(),v_e=su(),zI=class t{constructor(){this.identifier="",this.balance=new Po.BigNumber(0),this.rawResponse={}}static fromHttpResponse(e){let r=new t;return r.identifier=e.tokenIdentifier||e.identifier||"",r.balance=new Po.BigNumber(e.balance||0),r.rawResponse=e,r}};r0.FungibleTokenOfAccountOnNetwork=zI;var KI=class t{constructor(e){this.identifier="",this.collection="",this.timestamp=0,this.attributes=y.Buffer.from([]),this.nonce=0,this.type="",this.name="",this.creator=_j.Address.empty(),this.supply=new Po.BigNumber(0),this.decimals=0,this.royalties=new Po.BigNumber(0),this.assets=[],this.balance=new Po.BigNumber(0),Object.assign(this,e)}static fromProxyHttpResponse(e){let r=t.fromHttpResponse(e);return r.identifier=e.tokenIdentifier||"",r.collection=t.parseCollectionFromIdentifier(r.identifier),r.royalties=new Po.BigNumber(e.royalties||0).div(100),r}static fromProxyHttpResponseByNonce(e){let r=t.fromHttpResponse(e),n=v_e.numberToPaddedHex(r.nonce);return r.identifier=`${e.tokenIdentifier}-${n}`,r.collection=e.tokenIdentifier||"",r.royalties=new Po.BigNumber(e.royalties||0).div(100),r}static fromApiHttpResponse(e){let r=t.fromHttpResponse(e);return r.identifier=e.identifier||"",r.collection=e.collection||"",r}static fromHttpResponse(e){let r=new t;return r.timestamp=Number(e.timestamp||0),r.attributes=y.Buffer.from(e.attributes||"","base64"),r.nonce=e.nonce||0,r.type=e.type||"",r.name=e.name||"",r.creator=new _j.Address(e.creator||""),r.decimals=Number(e.decimals||0),r.supply=new Po.BigNumber(e.balance||1),r.royalties=new Po.BigNumber(e.royalties||0),r.assets=e.assets||[],r.balance=new Po.BigNumber(e.balance||1),r}static parseCollectionFromIdentifier(e){return e.split("-").slice(0,2).join("-")}};r0.NonFungibleTokenOfAccountOnNetwork=KI});var QI=R(Mu=>{"use strict";l();Object.defineProperty(Mu,"__esModule",{value:!0});Mu.TransactionEventTopic=Mu.TransactionEventData=Mu.TransactionEvent=void 0;var Ej=qt(),WI=class t{constructor(e){this.address=Ej.Address.empty(),this.identifier="",this.topics=[],this.data="",this.dataPayload=new n0(y.Buffer.from("","utf8")),this.additionalData=[],Object.assign(this,e)}static fromHttpResponse(e){let r=new t;return r.address=new Ej.Address(e.address),r.identifier=e.identifier||"",r.topics=(e.topics||[]).map(n=>new I_(n)),r.dataPayload=n0.fromBase64(e.data),r.additionalData=(e.additionalData||[]).map(n0.fromBase64),r.data=r.dataPayload.toString(),r}findFirstOrNoneTopic(e){return this.topics.filter(r=>e(r))[0]}getLastTopic(){return this.topics[this.topics.length-1]}};Mu.TransactionEvent=WI;var n0=class t{constructor(e){this.raw=e}static fromBase64(e){return new t(y.Buffer.from(e||"","base64"))}toString(){return this.raw.toString("utf8")}hex(){return this.raw.toString("hex")}valueOf(){return this.raw}};Mu.TransactionEventData=n0;var I_=class{constructor(e){this.raw=y.Buffer.from(e||"","base64")}toString(){return this.raw.toString("utf8")}hex(){return this.raw.toString("hex")}valueOf(){return this.raw}};Mu.TransactionEventTopic=I_});var N1=R(C_=>{"use strict";l();Object.defineProperty(C_,"__esModule",{value:!0});C_.TransactionLogs=void 0;var Aj=qt(),b_e=It(),w_e=QI(),$I=class t{constructor(e){this.address=Aj.Address.empty(),this.events=[],Object.assign(this,e)}static fromHttpResponse(e){let r=new t;return r.address=new Aj.Address(e.address),r.events=(e.events||[]).map(n=>w_e.TransactionEvent.fromHttpResponse(n)),r}findSingleOrNoneEvent(e,r){let n=this.findEvents(e,r);if(n.length>1)throw new b_e.ErrUnexpectedCondition(`more than one event of type ${e}`);return n[0]}findFirstOrNoneEvent(e,r){return this.findEvents(e,r)[0]}findEvents(e,r){let n=this.events.filter(i=>i.identifier==e);return r&&(n=n.filter(i=>r(i))),n}};C_.TransactionLogs=$I});var O_=R(i0=>{"use strict";l();Object.defineProperty(i0,"__esModule",{value:!0});i0.ContractResultItem=i0.ContractResults=void 0;var N_=qt(),Sj=N1(),YI=class t{constructor(e){this.items=e,this.items.sort(function(r,n){return r.nonce.valueOf()-n.nonce.valueOf()})}static fromProxyHttpResponse(e){let r=e.map(n=>O1.fromProxyHttpResponse(n));return new t(r)}static fromApiHttpResponse(e){let r=e.map(n=>O1.fromApiHttpResponse(n));return new t(r)}};i0.ContractResults=YI;var O1=class t{constructor(e){this.hash="",this.nonce=0,this.value="",this.receiver=N_.Address.empty(),this.sender=N_.Address.empty(),this.data="",this.previousHash="",this.originalHash="",this.gasLimit=0,this.gasPrice=0,this.callType=0,this.returnMessage="",this.logs=new Sj.TransactionLogs,Object.assign(this,e)}static fromProxyHttpResponse(e){return t.fromHttpResponse(e)}static fromApiHttpResponse(e){let r=t.fromHttpResponse(e);return r.data=y.Buffer.from(r.data,"base64").toString(),r.callType=Number(r.callType),r}static fromHttpResponse(e){let r=new t;return r.hash=e.hash,r.nonce=Number(e.nonce||0),r.value=(e.value||0).toString(),r.receiver=new N_.Address(e.receiver),r.sender=new N_.Address(e.sender),r.previousHash=e.prevTxHash,r.originalHash=e.originalTxHash,r.gasLimit=Number(e.gasLimit||0),r.gasPrice=Number(e.gasPrice||0),r.data=e.data||"",r.callType=e.callType,r.returnMessage=e.returnMessage,r.logs=Sj.TransactionLogs.fromHttpResponse(e.logs||{}),r}};i0.ContractResultItem=O1});var R_=R(P_=>{"use strict";l();Object.defineProperty(P_,"__esModule",{value:!0});P_.TransactionReceipt=void 0;var xj=qt(),JI=class t{constructor(){this.value="",this.sender=xj.Address.empty(),this.data="",this.hash=""}static fromHttpResponse(e){let r=new t;return r.value=(e.value||0).toString(),r.sender=new xj.Address(e.sender),r.data=e.data,r.hash=e.txHash,r}};P_.TransactionReceipt=JI});var s0=R(D_=>{"use strict";l();Object.defineProperty(D_,"__esModule",{value:!0});D_.TransactionStatus=void 0;var XI=class t{constructor(e){this.status=(e||"").toLowerCase()}static createUnknown(){return new t("unknown")}isPending(){return this.status=="received"||this.status=="pending"}isExecuted(){return this.isSuccessful()||this.isFailed()||this.isInvalid()}isSuccessful(){return this.status=="executed"||this.status=="success"||this.status=="successful"}isFailed(){return this.status=="fail"||this.status=="failed"||this.status=="unsuccessful"||this.isInvalid()}isInvalid(){return this.status=="invalid"}toString(){return this.status}valueOf(){return this.status}equals(e){return e?this.status==e.status:!1}};D_.TransactionStatus=XI});var B_=R(a0=>{"use strict";l();Object.defineProperty(a0,"__esModule",{value:!0});a0.TransactionOnNetwork=a0.prepareTransactionForBroadcasting=void 0;var M_=qt(),ZI=O_(),Tj=N1(),Ij=R_(),Cj=s0();function __e(t){return"toSendable"in t?t.toSendable():{nonce:Number(t.nonce),value:t.value.toString(),receiver:t.receiver,sender:t.sender,senderUsername:t.senderUsername?y.Buffer.from(t.senderUsername).toString("base64"):void 0,receiverUsername:t.receiverUsername?y.Buffer.from(t.receiverUsername).toString("base64"):void 0,gasPrice:Number(t.gasPrice),gasLimit:Number(t.gasLimit),data:t.data.length===0?void 0:y.Buffer.from(t.data).toString("base64"),chainID:t.chainID,version:t.version,options:t.options,guardian:t.guardian||void 0,signature:y.Buffer.from(t.signature).toString("hex"),guardianSignature:t.guardianSignature.length===0?void 0:y.Buffer.from(t.guardianSignature).toString("hex")}}a0.prepareTransactionForBroadcasting=__e;var eC=class t{constructor(e){this.hash="",this.type="",this.nonce=0,this.round=0,this.epoch=0,this.value="",this.receiver=M_.Address.empty(),this.sender=M_.Address.empty(),this.gasLimit=0,this.gasPrice=0,this.function="",this.data=y.Buffer.from([]),this.signature="",this.status=Cj.TransactionStatus.createUnknown(),this.timestamp=0,this.blockNonce=0,this.hyperblockNonce=0,this.hyperblockHash="",this.receipt=new Ij.TransactionReceipt,this.contractResults=new ZI.ContractResults([]),this.logs=new Tj.TransactionLogs,Object.assign(this,e)}static fromProxyHttpResponse(e,r,n){let i=t.fromHttpResponse(e,r);return i.contractResults=ZI.ContractResults.fromProxyHttpResponse(r.smartContractResults||[]),n&&(i.status=n,i.isCompleted=i.status.isSuccessful()||i.status.isFailed()),i}static fromApiHttpResponse(e,r){let n=t.fromHttpResponse(e,r);return n.contractResults=ZI.ContractResults.fromApiHttpResponse(r.results||[]),n.isCompleted=!n.status.isPending(),n}static fromHttpResponse(e,r){let n=new t;return n.hash=e,n.type=r.type||"",n.nonce=r.nonce||0,n.round=r.round,n.epoch=r.epoch||0,n.value=(r.value||0).toString(),n.sender=new M_.Address(r.sender),n.receiver=new M_.Address(r.receiver),n.gasPrice=r.gasPrice||0,n.gasLimit=r.gasLimit||0,n.function=r.function||"",n.data=y.Buffer.from(r.data||"","base64"),n.status=new Cj.TransactionStatus(r.status),n.timestamp=r.timestamp||0,n.blockNonce=r.blockNonce||0,n.hyperblockNonce=r.hyperblockNonce||0,n.hyperblockHash=r.hyperblockHash||"",n.receipt=Ij.TransactionReceipt.fromHttpResponse(r.receipt||{}),n.logs=Tj.TransactionLogs.fromHttpResponse(r.logs||{}),n}getDateTime(){return new Date(this.timestamp*1e3)}};a0.TransactionOnNetwork=eC});var tC=R(L_=>{"use strict";l();Object.defineProperty(L_,"__esModule",{value:!0});L_.extendUserAgent=void 0;var Nj=Pb(),E_e=I1();function A_e(t,e){e.headers||(e.headers=new Nj.AxiosHeaders({})),e.clientName;let r=Nj.AxiosHeaders.from(e.headers).normalize(!0),n=e.clientName||E_e.UnknownClientName,i=r.hasUserAgent()?r.getUserAgent():"",s=i?`${i} ${t}/${n}`:`${t}/${n}`;r.setUserAgent(s,!0)}L_.extendUserAgent=A_e});var iC=R(F_=>{"use strict";l();Object.defineProperty(F_,"__esModule",{value:!0});F_.ProxyNetworkProvider=void 0;var rC=It(),S_e=Ji(),Oj=b_(),x_e=RI(),Pj=I1(),T_e=__(),I_e=$h(),C_e=kI(),N_e=HI(),Rj=x_(),q_=T_(),P1=B_(),O_e=s0(),P_e=tC(),nC=class{constructor(e,r){this.userAgentPrefix=`${Pj.BaseUserAgent}/proxy`,this.url=e,this.config={...x_e.defaultAxiosConfig,...r},this.axios=S_e.getAxios(),P_e.extendUserAgent(this.userAgentPrefix,this.config)}async getNetworkConfig(){let e=await this.doGetGeneric("network/config");return C_e.NetworkConfig.fromHttpResponse(e.config)}async getNetworkStatus(){let e=await this.doGetGeneric("network/status/4294967295");return N_e.NetworkStatus.fromHttpResponse(e.status)}async getNetworkStakeStatistics(){throw new Error("Method not implemented.")}async getNetworkGeneralStatistics(){throw new Error("Method not implemented.")}async getAccount(e){let r=await this.doGetGeneric(`address/${e.bech32()}`);return Oj.AccountOnNetwork.fromHttpResponse(r.account)}async getGuardianData(e){let r=await this.doGetGeneric(`address/${e.bech32()}/guardian-data`);return Oj.GuardianData.fromHttpResponse(r.guardianData)}async getFungibleTokensOfAccount(e,r){let n=`address/${e.bech32()}/esdt`,i=await this.doGetGeneric(n),o=Object.values(i.esdts).filter(c=>!c.nonce).map(c=>q_.FungibleTokenOfAccountOnNetwork.fromHttpResponse(c));return o.sort((c,u)=>c.identifier.localeCompare(u.identifier)),o}async getNonFungibleTokensOfAccount(e,r){let n=`address/${e.bech32()}/esdt`,i=await this.doGetGeneric(n),o=Object.values(i.esdts).filter(c=>c.nonce>=0).map(c=>q_.NonFungibleTokenOfAccountOnNetwork.fromProxyHttpResponse(c));return o.sort((c,u)=>c.identifier.localeCompare(u.identifier)),o}async getFungibleTokenOfAccount(e,r){let n=await this.doGetGeneric(`address/${e.bech32()}/esdt/${r}`);return q_.FungibleTokenOfAccountOnNetwork.fromHttpResponse(n.tokenData)}async getNonFungibleTokenOfAccount(e,r,n){let i=await this.doGetGeneric(`address/${e.bech32()}/nft/${r}/nonce/${n.valueOf()}`);return q_.NonFungibleTokenOfAccountOnNetwork.fromProxyHttpResponseByNonce(i.tokenData)}async getTransaction(e,r){let n;r===!0&&(n=this.getTransactionStatus(e));let i=this.buildUrlWithQueryParameters(`transaction/${e}`,{withResults:"true"}),s=await this.doGetGeneric(i);if(n){let a=await n;return P1.TransactionOnNetwork.fromProxyHttpResponse(e,s.transaction,a)}return P1.TransactionOnNetwork.fromProxyHttpResponse(e,s.transaction)}async getTransactionStatus(e){let r=await this.doGetGeneric(`transaction/${e}/process-status`);return new O_e.TransactionStatus(r.status)}async sendTransaction(e){let r=P1.prepareTransactionForBroadcasting(e);return(await this.doPostGeneric("transaction/send",r)).txHash}async sendTransactions(e){let r=e.map(s=>P1.prepareTransactionForBroadcasting(s)),n=await this.doPostGeneric("transaction/send-multiple",r),i=Array(e.length).fill(null);for(let s=0;s<e.length;s++)i[s]=n.txsHashes[s.toString()]||null;return i}async simulateTransaction(e){let r=P1.prepareTransactionForBroadcasting(e);return await this.doPostGeneric("transaction/simulate",r)}async queryContract(e){try{let r=new T_e.ContractQueryRequest(e).toHttpRequest(),n=await this.doPostGeneric("vm-values/query",r);return I_e.ContractQueryResponse.fromHttpResponse(n.data)}catch(r){throw new rC.ErrContractQuery(r)}}async getDefinitionOfFungibleToken(e){let r=await this.getTokenProperties(e);return Rj.DefinitionOfFungibleTokenOnNetwork.fromResponseOfGetTokenProperties(e,r)}async getTokenProperties(e){let r=y.Buffer.from(e).toString("hex");return(await this.queryContract({address:Pj.EsdtContractAddress,func:"getTokenProperties",getEncodedArguments:()=>[r]})).getReturnDataParts()}async getDefinitionOfTokenCollection(e){let r=await this.getTokenProperties(e);return Rj.DefinitionOfTokenCollectionOnNetwork.fromResponseOfGetTokenProperties(e,r)}async getNonFungibleToken(e,r){throw new Error("Method not implemented.")}async doGetGeneric(e){return await this.doGet(e)}async doPostGeneric(e,r){return await this.doPost(e,r)}async doGet(e){let r=`${this.url}/${e}`;try{return(await this.axios.default.get(r,this.config)).data.data}catch(n){this.handleApiError(n,e)}}async doPost(e,r){let n=`${this.url}/${e}`;try{return(await this.axios.default.post(n,r,{...this.config,headers:{"Content-Type":"application/json",...this.config.headers}})).data.data}catch(i){this.handleApiError(i,e)}}buildUrlWithQueryParameters(e,r){let n=new URLSearchParams;for(let[i,s]of Object.entries(r))s&&n.append(i,s);return`${e}?${n.toString()}`}handleApiError(e,r){if(!e.response)throw new rC.ErrNetworkProvider(r,e.toString(),e);let n=e.response.data,i=n.message||n.error||JSON.stringify(n);throw new rC.ErrNetworkProvider(r,i,e)}};F_.ProxyNetworkProvider=nC});var Lj=R(k_=>{"use strict";l();Object.defineProperty(k_,"__esModule",{value:!0});k_.ApiNetworkProvider=void 0;var sC=It(),R_e=Ji(),Dj=su(),D_e=b_(),U_=RI(),M_e=I1(),B_e=__(),L_e=$h(),q_e=BI(),F_e=qI(),U_e=vj(),k_e=iC(),Mj=x_(),R1=T_(),Bj=B_(),V_e=s0(),H_e=tC(),aC=class{constructor(e,r){this.userAgentPrefix=`${M_e.BaseUserAgent}/api`,this.url=e;let n=this.getProxyConfig(r);this.config={...U_.defaultAxiosConfig,...r},this.backingProxyNetworkProvider=new k_e.ProxyNetworkProvider(e,n),this.axios=R_e.getAxios(),H_e.extendUserAgent(this.userAgentPrefix,this.config)}getProxyConfig(e){let r=JSON.parse(JSON.stringify(e||{}));return r={...U_.defaultAxiosConfig,...r},r}async getNetworkConfig(){return await this.backingProxyNetworkProvider.getNetworkConfig()}async getNetworkStatus(){return await this.backingProxyNetworkProvider.getNetworkStatus()}async getNetworkStakeStatistics(){let e=await this.doGetGeneric("stake");return F_e.NetworkStake.fromHttpResponse(e)}async getNetworkGeneralStatistics(){let e=await this.doGetGeneric("stats");return q_e.NetworkGeneralStatistics.fromHttpResponse(e)}async getAccount(e){let r=await this.doGetGeneric(`accounts/${e.bech32()}`);return D_e.AccountOnNetwork.fromHttpResponse(r)}async getGuardianData(e){return await this.backingProxyNetworkProvider.getGuardianData(e)}async getFungibleTokensOfAccount(e,r){r=r||U_.defaultPagination;let n=`accounts/${e.bech32()}/tokens?${this.buildPaginationParams(r)}`,s=(await this.doGetGeneric(n)).map(a=>R1.FungibleTokenOfAccountOnNetwork.fromHttpResponse(a));return s.sort((a,o)=>a.identifier.localeCompare(o.identifier)),s}async getNonFungibleTokensOfAccount(e,r){r=r||U_.defaultPagination;let n=`accounts/${e.bech32()}/nfts?${this.buildPaginationParams(r)}`,s=(await this.doGetGeneric(n)).map(a=>R1.NonFungibleTokenOfAccountOnNetwork.fromApiHttpResponse(a));return s.sort((a,o)=>a.identifier.localeCompare(o.identifier)),s}async getFungibleTokenOfAccount(e,r){let n=await this.doGetGeneric(`accounts/${e.bech32()}/tokens/${r}`);return R1.FungibleTokenOfAccountOnNetwork.fromHttpResponse(n)}async getNonFungibleTokenOfAccount(e,r,n){let i=Dj.numberToPaddedHex(n),s=await this.doGetGeneric(`accounts/${e.bech32()}/nfts/${r}-${i}`);return R1.NonFungibleTokenOfAccountOnNetwork.fromApiHttpResponse(s)}async getMexPairs(e){let r="mex/pairs";return e&&(r=`${r}?from=${e.from}&size=${e.size}`),(await this.doGetGeneric(r)).map(i=>U_e.PairOnNetwork.fromApiHttpResponse(i))}async getTransaction(e){let r=await this.doGetGeneric(`transactions/${e}`);return Bj.TransactionOnNetwork.fromApiHttpResponse(e,r)}async getTransactionStatus(e){let r=await this.doGetGeneric(`transactions/${e}?fields=status`);return new V_e.TransactionStatus(r.status)}async sendTransaction(e){let r=Bj.prepareTransactionForBroadcasting(e);return(await this.doPostGeneric("transactions",r)).txHash}async sendTransactions(e){return await this.backingProxyNetworkProvider.sendTransactions(e)}async simulateTransaction(e){return await this.backingProxyNetworkProvider.simulateTransaction(e)}async queryContract(e){try{let r=new B_e.ContractQueryRequest(e).toHttpRequest(),n=await this.doPostGeneric("query",r);return L_e.ContractQueryResponse.fromHttpResponse(n)}catch(r){throw new sC.ErrContractQuery(r)}}async getDefinitionOfFungibleToken(e){let r=await this.doGetGeneric(`tokens/${e}`);return Mj.DefinitionOfFungibleTokenOnNetwork.fromApiHttpResponse(r)}async getDefinitionOfTokenCollection(e){let r=await this.doGetGeneric(`collections/${e}`);return Mj.DefinitionOfTokenCollectionOnNetwork.fromApiHttpResponse(r)}async getNonFungibleToken(e,r){let n=Dj.numberToPaddedHex(r),i=await this.doGetGeneric(`nfts/${e}-${n}`);return R1.NonFungibleTokenOfAccountOnNetwork.fromApiHttpResponse(i)}async doGetGeneric(e){return await this.doGet(e)}async doPostGeneric(e,r){return await this.doPost(e,r)}buildPaginationParams(e){return`from=${e.from}&size=${e.size}`}async doGet(e){let r=`${this.url}/${e}`;try{return(await this.axios.default.get(r,this.config)).data}catch(n){this.handleApiError(n,e)}}async doPost(e,r){let n=`${this.url}/${e}`;try{return(await this.axios.default.post(n,r,{...this.config,headers:{"Content-Type":"application/json",...this.config.headers}})).data}catch(i){this.handleApiError(i,e)}}handleApiError(e,r){if(!e.response)throw new sC.ErrNetworkProvider(r,e.toString(),e);let n=e.response.data,i=n.message||n.error||JSON.stringify(n);throw new sC.ErrNetworkProvider(r,i,e)}};k_.ApiNetworkProvider=aC});var kj=R(Ft=>{"use strict";l();Object.defineProperty(Ft,"__esModule",{value:!0});Ft.NetworkStatus=Ft.NetworkStake=Ft.NetworkGeneralStatistics=Ft.NetworkConfig=Ft.NonFungibleTokenOfAccountOnNetwork=Ft.FungibleTokenOfAccountOnNetwork=Ft.DefinitionOfTokenCollectionOnNetwork=Ft.DefinitionOfFungibleTokenOnNetwork=Ft.TransactionStatus=Ft.TransactionOnNetwork=Ft.TransactionReceipt=Ft.TransactionLogsOnNetwork=Ft.TransactionEventTopic=Ft.TransactionEventOnNetwork=Ft.TransactionEventData=Ft.ContractResults=Ft.ContractResultItem=Ft.ContractQueryResponse=Ft.AccountOnNetwork=Ft.ProxyNetworkProvider=Ft.ApiNetworkProvider=void 0;var G_e=Lj();Object.defineProperty(Ft,"ApiNetworkProvider",{enumerable:!0,get:function(){return G_e.ApiNetworkProvider}});var j_e=iC();Object.defineProperty(Ft,"ProxyNetworkProvider",{enumerable:!0,get:function(){return j_e.ProxyNetworkProvider}});var z_e=b_();Object.defineProperty(Ft,"AccountOnNetwork",{enumerable:!0,get:function(){return z_e.AccountOnNetwork}});var K_e=$h();Object.defineProperty(Ft,"ContractQueryResponse",{enumerable:!0,get:function(){return K_e.ContractQueryResponse}});var qj=O_();Object.defineProperty(Ft,"ContractResultItem",{enumerable:!0,get:function(){return qj.ContractResultItem}});Object.defineProperty(Ft,"ContractResults",{enumerable:!0,get:function(){return qj.ContractResults}});var oC=QI();Object.defineProperty(Ft,"TransactionEventData",{enumerable:!0,get:function(){return oC.TransactionEventData}});Object.defineProperty(Ft,"TransactionEventOnNetwork",{enumerable:!0,get:function(){return oC.TransactionEvent}});Object.defineProperty(Ft,"TransactionEventTopic",{enumerable:!0,get:function(){return oC.TransactionEventTopic}});var W_e=N1();Object.defineProperty(Ft,"TransactionLogsOnNetwork",{enumerable:!0,get:function(){return W_e.TransactionLogs}});var Q_e=R_();Object.defineProperty(Ft,"TransactionReceipt",{enumerable:!0,get:function(){return Q_e.TransactionReceipt}});var $_e=B_();Object.defineProperty(Ft,"TransactionOnNetwork",{enumerable:!0,get:function(){return $_e.TransactionOnNetwork}});var Y_e=s0();Object.defineProperty(Ft,"TransactionStatus",{enumerable:!0,get:function(){return Y_e.TransactionStatus}});var Fj=x_();Object.defineProperty(Ft,"DefinitionOfFungibleTokenOnNetwork",{enumerable:!0,get:function(){return Fj.DefinitionOfFungibleTokenOnNetwork}});Object.defineProperty(Ft,"DefinitionOfTokenCollectionOnNetwork",{enumerable:!0,get:function(){return Fj.DefinitionOfTokenCollectionOnNetwork}});var Uj=T_();Object.defineProperty(Ft,"FungibleTokenOfAccountOnNetwork",{enumerable:!0,get:function(){return Uj.FungibleTokenOfAccountOnNetwork}});Object.defineProperty(Ft,"NonFungibleTokenOfAccountOnNetwork",{enumerable:!0,get:function(){return Uj.NonFungibleTokenOfAccountOnNetwork}});var J_e=kI();Object.defineProperty(Ft,"NetworkConfig",{enumerable:!0,get:function(){return J_e.NetworkConfig}});var X_e=BI();Object.defineProperty(Ft,"NetworkGeneralStatistics",{enumerable:!0,get:function(){return X_e.NetworkGeneralStatistics}});var Z_e=qI();Object.defineProperty(Ft,"NetworkStake",{enumerable:!0,get:function(){return Z_e.NetworkStake}});var e3e=HI();Object.defineProperty(Ft,"NetworkStatus",{enumerable:!0,get:function(){return e3e.NetworkStatus}})});var H_=R(Ui=>{"use strict";l();Object.defineProperty(Ui,"__esModule",{value:!0});Ui.output=Ui.exists=Ui.hash=Ui.bytes=Ui.bool=Ui.number=void 0;function V_(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}Ui.number=V_;function Vj(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}Ui.bool=Vj;function cC(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}Ui.bytes=cC;function Hj(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");V_(t.outputLen),V_(t.blockLen)}Ui.hash=Hj;function Gj(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}Ui.exists=Gj;function jj(t,e){cC(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}Ui.output=jj;var t3e={number:V_,bool:Vj,bytes:cC,hash:Hj,exists:Gj,output:jj};Ui.default=t3e});var zj=R(G_=>{"use strict";l();Object.defineProperty(G_,"__esModule",{value:!0});G_.crypto=void 0;G_.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0});var wl=R(rr=>{"use strict";l();Object.defineProperty(rr,"__esModule",{value:!0});rr.randomBytes=rr.wrapConstructorWithOpts=rr.wrapConstructor=rr.checkOpts=rr.Hash=rr.concatBytes=rr.toBytes=rr.utf8ToBytes=rr.asyncLoop=rr.nextTick=rr.hexToBytes=rr.bytesToHex=rr.isLE=rr.rotr=rr.createView=rr.u32=rr.u8=void 0;var uC=zj(),r3e=t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength);rr.u8=r3e;var n3e=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4));rr.u32=n3e;var i3e=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);rr.createView=i3e;var s3e=(t,e)=>t<<32-e|t>>>e;rr.rotr=s3e;rr.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!rr.isLE)throw new Error("Non little-endian hardware is not supported");var a3e=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function o3e(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=a3e[t[r]];return e}rr.bytesToHex=o3e;function c3e(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,i=t.slice(n,n+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");e[r]=s}return e}rr.hexToBytes=c3e;var u3e=async()=>{};rr.nextTick=u3e;async function f3e(t,e,r){let n=Date.now();for(let i=0;i<t;i++){r(i);let s=Date.now()-n;s>=0&&s<e||(await(0,rr.nextTick)(),n+=s)}}rr.asyncLoop=f3e;function Kj(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}rr.utf8ToBytes=Kj;function lC(t){if(typeof t=="string"&&(t=Kj(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}rr.toBytes=lC;function l3e(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let s=t[n];r.set(s,i),i+=s.length}return r}rr.concatBytes=l3e;var fC=class{clone(){return this._cloneInto()}};rr.Hash=fC;var d3e=t=>Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object;function h3e(t,e){if(e!==void 0&&(typeof e!="object"||!d3e(e)))throw new TypeError("Options should be object or undefined");return Object.assign(t,e)}rr.checkOpts=h3e;function p3e(t){let e=n=>t().update(lC(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}rr.wrapConstructor=p3e;function g3e(t){let e=(n,i)=>t(i).update(lC(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}rr.wrapConstructorWithOpts=g3e;function y3e(t=32){if(uC.crypto&&typeof uC.crypto.getRandomValues=="function")return uC.crypto.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}rr.randomBytes=y3e});var pC=R(j_=>{"use strict";l();Object.defineProperty(j_,"__esModule",{value:!0});j_.SHA2=void 0;var dC=H_(),D1=wl();function m3e(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),s=BigInt(4294967295),a=Number(r>>i&s),o=Number(r&s),c=n?4:0,u=n?0:4;t.setUint32(e+c,a,n),t.setUint32(e+u,o,n)}var hC=class extends D1.Hash{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,D1.createView)(this.buffer)}update(e){dC.default.exists(this);let{view:r,buffer:n,blockLen:i}=this;e=(0,D1.toBytes)(e);let s=e.length;for(let a=0;a<s;){let o=Math.min(i-this.pos,s-a);if(o===i){let c=(0,D1.createView)(e);for(;i<=s-a;a+=i)this.process(c,a);continue}n.set(e.subarray(a,a+o),this.pos),this.pos+=o,a+=o,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){dC.default.exists(this),dC.default.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:s}=this,{pos:a}=this;r[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(n,0),a=0);for(let d=a;d<i;d++)r[d]=0;m3e(n,i-8,BigInt(this.length*8),s),this.process(n,0);let o=(0,D1.createView)(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let u=c/4,f=this.get();if(u>f.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)o.setUint32(4*d,f[d],s)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:s,destroyed:a,pos:o}=this;return e.length=i,e.pos=o,e.finished=s,e.destroyed=a,i%r&&e.buffer.set(n),e}};j_.SHA2=hC});var Wj=R(o0=>{"use strict";l();Object.defineProperty(o0,"__esModule",{value:!0});o0.sha224=o0.sha256=void 0;var v3e=pC(),na=wl(),b3e=(t,e,r)=>t&e^~t&r,w3e=(t,e,r)=>t&e^t&r^e&r,_3e=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Bu=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Lu=new Uint32Array(64),z_=class extends v3e.SHA2{constructor(){super(64,32,8,!1),this.A=Bu[0]|0,this.B=Bu[1]|0,this.C=Bu[2]|0,this.D=Bu[3]|0,this.E=Bu[4]|0,this.F=Bu[5]|0,this.G=Bu[6]|0,this.H=Bu[7]|0}get(){let{A:e,B:r,C:n,D:i,E:s,F:a,G:o,H:c}=this;return[e,r,n,i,s,a,o,c]}set(e,r,n,i,s,a,o,c){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=a|0,this.G=o|0,this.H=c|0}process(e,r){for(let d=0;d<16;d++,r+=4)Lu[d]=e.getUint32(r,!1);for(let d=16;d<64;d++){let m=Lu[d-15],_=Lu[d-2],x=(0,na.rotr)(m,7)^(0,na.rotr)(m,18)^m>>>3,P=(0,na.rotr)(_,17)^(0,na.rotr)(_,19)^_>>>10;Lu[d]=P+Lu[d-7]+x+Lu[d-16]|0}let{A:n,B:i,C:s,D:a,E:o,F:c,G:u,H:f}=this;for(let d=0;d<64;d++){let m=(0,na.rotr)(o,6)^(0,na.rotr)(o,11)^(0,na.rotr)(o,25),_=f+m+b3e(o,c,u)+_3e[d]+Lu[d]|0,P=((0,na.rotr)(n,2)^(0,na.rotr)(n,13)^(0,na.rotr)(n,22))+w3e(n,i,s)|0;f=u,u=c,c=o,o=a+_|0,a=s,s=i,i=n,n=_+P|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,o=o+this.E|0,c=c+this.F|0,u=u+this.G|0,f=f+this.H|0,this.set(n,i,s,a,o,c,u,f)}roundClean(){Lu.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},gC=class extends z_{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};o0.sha256=(0,na.wrapConstructor)(()=>new z_);o0.sha224=(0,na.wrapConstructor)(()=>new gC)});var Yj=R(ia=>{"use strict";l();Object.defineProperty(ia,"__esModule",{value:!0});ia.add=ia.toBig=ia.split=ia.fromBig=void 0;var K_=BigInt(2**32-1),yC=BigInt(32);function mC(t,e=!1){return e?{h:Number(t&K_),l:Number(t>>yC&K_)}:{h:Number(t>>yC&K_)|0,l:Number(t&K_)|0}}ia.fromBig=mC;function Qj(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:s,l:a}=mC(t[i],e);[r[i],n[i]]=[s,a]}return[r,n]}ia.split=Qj;var E3e=(t,e)=>BigInt(t>>>0)<<yC|BigInt(e>>>0);ia.toBig=E3e;var A3e=(t,e,r)=>t>>>r,S3e=(t,e,r)=>t<<32-r|e>>>r,x3e=(t,e,r)=>t>>>r|e<<32-r,T3e=(t,e,r)=>t<<32-r|e>>>r,I3e=(t,e,r)=>t<<64-r|e>>>r-32,C3e=(t,e,r)=>t>>>r-32|e<<64-r,N3e=(t,e)=>e,O3e=(t,e)=>t,P3e=(t,e,r)=>t<<r|e>>>32-r,R3e=(t,e,r)=>e<<r|t>>>32-r,D3e=(t,e,r)=>e<<r-32|t>>>64-r,M3e=(t,e,r)=>t<<r-32|e>>>64-r;function $j(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}ia.add=$j;var B3e=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),L3e=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,q3e=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),F3e=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,U3e=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),k3e=(t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,V3e={fromBig:mC,split:Qj,toBig:ia.toBig,shrSH:A3e,shrSL:S3e,rotrSH:x3e,rotrSL:T3e,rotrBH:I3e,rotrBL:C3e,rotr32H:N3e,rotr32L:O3e,rotlSH:P3e,rotlSL:R3e,rotlBH:D3e,rotlBL:M3e,add:$j,add3L:B3e,add3H:L3e,add4L:q3e,add4H:F3e,add5H:k3e,add5L:U3e};ia.default=V3e});var _C=R(sa=>{"use strict";l();Object.defineProperty(sa,"__esModule",{value:!0});sa.sha384=sa.sha512_256=sa.sha512_224=sa.sha512=sa.SHA512=void 0;var H3e=pC(),Jt=Yj(),W_=wl(),[G3e,j3e]=Jt.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),qu=new Uint32Array(80),Fu=new Uint32Array(80),_l=class extends H3e.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:a,Dh:o,Dl:c,Eh:u,El:f,Fh:d,Fl:m,Gh:_,Gl:x,Hh:P,Hl:D}=this;return[e,r,n,i,s,a,o,c,u,f,d,m,_,x,P,D]}set(e,r,n,i,s,a,o,c,u,f,d,m,_,x,P,D){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=a|0,this.Dh=o|0,this.Dl=c|0,this.Eh=u|0,this.El=f|0,this.Fh=d|0,this.Fl=m|0,this.Gh=_|0,this.Gl=x|0,this.Hh=P|0,this.Hl=D|0}process(e,r){for(let X=0;X<16;X++,r+=4)qu[X]=e.getUint32(r),Fu[X]=e.getUint32(r+=4);for(let X=16;X<80;X++){let Z=qu[X-15]|0,U=Fu[X-15]|0,Q=Jt.default.rotrSH(Z,U,1)^Jt.default.rotrSH(Z,U,8)^Jt.default.shrSH(Z,U,7),j=Jt.default.rotrSL(Z,U,1)^Jt.default.rotrSL(Z,U,8)^Jt.default.shrSL(Z,U,7),K=qu[X-2]|0,$=Fu[X-2]|0,L=Jt.default.rotrSH(K,$,19)^Jt.default.rotrBH(K,$,61)^Jt.default.shrSH(K,$,6),v=Jt.default.rotrSL(K,$,19)^Jt.default.rotrBL(K,$,61)^Jt.default.shrSL(K,$,6),E=Jt.default.add4L(j,v,Fu[X-7],Fu[X-16]),p=Jt.default.add4H(E,Q,L,qu[X-7],qu[X-16]);qu[X]=p|0,Fu[X]=E|0}let{Ah:n,Al:i,Bh:s,Bl:a,Ch:o,Cl:c,Dh:u,Dl:f,Eh:d,El:m,Fh:_,Fl:x,Gh:P,Gl:D,Hh:k,Hl:Y}=this;for(let X=0;X<80;X++){let Z=Jt.default.rotrSH(d,m,14)^Jt.default.rotrSH(d,m,18)^Jt.default.rotrBH(d,m,41),U=Jt.default.rotrSL(d,m,14)^Jt.default.rotrSL(d,m,18)^Jt.default.rotrBL(d,m,41),Q=d&_^~d&P,j=m&x^~m&D,K=Jt.default.add5L(Y,U,j,j3e[X],Fu[X]),$=Jt.default.add5H(K,k,Z,Q,G3e[X],qu[X]),L=K|0,v=Jt.default.rotrSH(n,i,28)^Jt.default.rotrBH(n,i,34)^Jt.default.rotrBH(n,i,39),E=Jt.default.rotrSL(n,i,28)^Jt.default.rotrBL(n,i,34)^Jt.default.rotrBL(n,i,39),p=n&s^n&o^s&o,g=i&a^i&c^a&c;k=P|0,Y=D|0,P=_|0,D=x|0,_=d|0,x=m|0,{h:d,l:m}=Jt.default.add(u|0,f|0,$|0,L|0),u=o|0,f=c|0,o=s|0,c=a|0,s=n|0,a=i|0;let b=Jt.default.add3L(L,E,g);n=Jt.default.add3H(b,$,v,p),i=b|0}({h:n,l:i}=Jt.default.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:a}=Jt.default.add(this.Bh|0,this.Bl|0,s|0,a|0),{h:o,l:c}=Jt.default.add(this.Ch|0,this.Cl|0,o|0,c|0),{h:u,l:f}=Jt.default.add(this.Dh|0,this.Dl|0,u|0,f|0),{h:d,l:m}=Jt.default.add(this.Eh|0,this.El|0,d|0,m|0),{h:_,l:x}=Jt.default.add(this.Fh|0,this.Fl|0,_|0,x|0),{h:P,l:D}=Jt.default.add(this.Gh|0,this.Gl|0,P|0,D|0),{h:k,l:Y}=Jt.default.add(this.Hh|0,this.Hl|0,k|0,Y|0),this.set(n,i,s,a,o,c,u,f,d,m,_,x,P,D,k,Y)}roundClean(){qu.fill(0),Fu.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};sa.SHA512=_l;var vC=class extends _l{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}},bC=class extends _l{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}},wC=class extends _l{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}};sa.sha512=(0,W_.wrapConstructor)(()=>new _l);sa.sha512_224=(0,W_.wrapConstructor)(()=>new vC);sa.sha512_256=(0,W_.wrapConstructor)(()=>new bC);sa.sha384=(0,W_.wrapConstructor)(()=>new wC)});var Xj=R(M1=>{"use strict";l();Object.defineProperty(M1,"__esModule",{value:!0});M1.hmac=void 0;var Q_=H_(),Jj=wl(),$_=class extends Jj.Hash{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,Q_.default.hash(e);let n=(0,Jj.toBytes)(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let a=0;a<s.length;a++)s[a]^=54;this.iHash.update(s),this.oHash=e.create();for(let a=0;a<s.length;a++)s[a]^=106;this.oHash.update(s),s.fill(0)}update(e){return Q_.default.exists(this),this.iHash.update(e),this}digestInto(e){Q_.default.exists(this),Q_.default.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:a,outputLen:o}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=a,e.outputLen=o,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},z3e=(t,e,r)=>new $_(t,e).update(r).digest();M1.hmac=z3e;M1.hmac.create=(t,e)=>new $_(t,e)});var tz=R(u0=>{"use strict";l();Object.defineProperty(u0,"__esModule",{value:!0});u0.pbkdf2Async=u0.pbkdf2=void 0;var Y_=H_(),K3e=Xj(),c0=wl();function Zj(t,e,r,n){Y_.default.hash(t);let i=(0,c0.checkOpts)({dkLen:32,asyncTick:10},n),{c:s,dkLen:a,asyncTick:o}=i;if(Y_.default.number(s),Y_.default.number(a),Y_.default.number(o),s<1)throw new Error("PBKDF2: iterations (c) should be >= 1");let c=(0,c0.toBytes)(e),u=(0,c0.toBytes)(r),f=new Uint8Array(a),d=K3e.hmac.create(t,c),m=d._cloneInto().update(u);return{c:s,dkLen:a,asyncTick:o,DK:f,PRF:d,PRFSalt:m}}function ez(t,e,r,n,i){return t.destroy(),e.destroy(),n&&n.destroy(),i.fill(0),r}function W3e(t,e,r,n){let{c:i,dkLen:s,DK:a,PRF:o,PRFSalt:c}=Zj(t,e,r,n),u,f=new Uint8Array(4),d=(0,c0.createView)(f),m=new Uint8Array(o.outputLen);for(let _=1,x=0;x<s;_++,x+=o.outputLen){let P=a.subarray(x,x+o.outputLen);d.setInt32(0,_,!1),(u=c._cloneInto(u)).update(f).digestInto(m),P.set(m.subarray(0,P.length));for(let D=1;D<i;D++){o._cloneInto(u).update(m).digestInto(m);for(let k=0;k<P.length;k++)P[k]^=m[k]}}return ez(o,c,a,u,m)}u0.pbkdf2=W3e;async function Q3e(t,e,r,n){let{c:i,dkLen:s,asyncTick:a,DK:o,PRF:c,PRFSalt:u}=Zj(t,e,r,n),f,d=new Uint8Array(4),m=(0,c0.createView)(d),_=new Uint8Array(c.outputLen);for(let x=1,P=0;P<s;x++,P+=c.outputLen){let D=o.subarray(P,P+c.outputLen);m.setInt32(0,x,!1),(f=u._cloneInto(f)).update(d).digestInto(_),D.set(_.subarray(0,D.length)),await(0,c0.asyncLoop)(i-1,a,k=>{c._cloneInto(f).update(_).digestInto(_);for(let Y=0;Y<D.length;Y++)D[Y]^=_[Y]})}return ez(c,u,o,f,_)}u0.pbkdf2Async=Q3e});var EC=R(as=>{"use strict";l();Object.defineProperty(as,"__esModule",{value:!0});var xs={};as.wordlists=xs;var hn;as._default=hn;try{as._default=hn=mi("../node_modules/bip39/src/wordlists/czech.json"),xs.czech=hn}catch{}try{as._default=hn=mi("../node_modules/bip39/src/wordlists/chinese_simplified.json"),xs.chinese_simplified=hn}catch{}try{as._default=hn=mi("../node_modules/bip39/src/wordlists/chinese_traditional.json"),xs.chinese_traditional=hn}catch{}try{as._default=hn=mi("../node_modules/bip39/src/wordlists/korean.json"),xs.korean=hn}catch{}try{as._default=hn=mi("../node_modules/bip39/src/wordlists/french.json"),xs.french=hn}catch{}try{as._default=hn=mi("../node_modules/bip39/src/wordlists/italian.json"),xs.italian=hn}catch{}try{as._default=hn=mi("../node_modules/bip39/src/wordlists/spanish.json"),xs.spanish=hn}catch{}try{as._default=hn=mi("../node_modules/bip39/src/wordlists/japanese.json"),xs.japanese=hn,xs.JA=hn}catch{}try{as._default=hn=mi("../node_modules/bip39/src/wordlists/portuguese.json"),xs.portuguese=hn}catch{}try{as._default=hn=mi("../node_modules/bip39/src/wordlists/english.json"),xs.english=hn,xs.EN=hn}catch{}});var hz=R(La=>{"use strict";l();Object.defineProperty(La,"__esModule",{value:!0});var $3e=Wj(),nz=_C(),iz=tz(),Y3e=wl(),J_=EC(),B1=J_._default,rz="Invalid mnemonic",El="Invalid entropy",J3e="Invalid mnemonic checksum",sz=`A wordlist is required but a default could not be found.
Please pass a 2048 word array explicitly.`;function L1(t){return(t||"").normalize("NFKD")}function az(t,e,r){for(;t.length<r;)t=e+t;return t}function oz(t){return parseInt(t,2)}function cz(t){return t.map(e=>az(e.toString(2),"0",8)).join("")}function uz(t){let r=t.length*8/32,n=$3e.sha256(Uint8Array.from(t));return cz(Array.from(n)).slice(0,r)}function fz(t){return"mnemonic"+(t||"")}function X3e(t,e){let r=Uint8Array.from(y.Buffer.from(L1(t),"utf8")),n=Uint8Array.from(y.Buffer.from(fz(L1(e)),"utf8")),i=iz.pbkdf2(nz.sha512,r,n,{c:2048,dkLen:64});return y.Buffer.from(i)}La.mnemonicToSeedSync=X3e;function Z3e(t,e){let r=Uint8Array.from(y.Buffer.from(L1(t),"utf8")),n=Uint8Array.from(y.Buffer.from(fz(L1(e)),"utf8"));return iz.pbkdf2Async(nz.sha512,r,n,{c:2048,dkLen:64}).then(i=>y.Buffer.from(i))}La.mnemonicToSeed=Z3e;function lz(t,e){if(e=e||B1,!e)throw new Error(sz);let r=L1(t).split(" ");if(r.length%3!==0)throw new Error(rz);let n=r.map(f=>{let d=e.indexOf(f);if(d===-1)throw new Error(rz);return az(d.toString(2),"0",11)}).join(""),i=Math.floor(n.length/33)*32,s=n.slice(0,i),a=n.slice(i),o=s.match(/(.{1,8})/g).map(oz);if(o.length<16)throw new Error(El);if(o.length>32)throw new Error(El);if(o.length%4!==0)throw new Error(El);let c=y.Buffer.from(o);if(uz(c)!==a)throw new Error(J3e);return c.toString("hex")}La.mnemonicToEntropy=lz;function dz(t,e){if(y.Buffer.isBuffer(t)||(t=y.Buffer.from(t,"hex")),e=e||B1,!e)throw new Error(sz);if(t.length<16)throw new TypeError(El);if(t.length>32)throw new TypeError(El);if(t.length%4!==0)throw new TypeError(El);let r=cz(Array.from(t)),n=uz(t),a=(r+n).match(/(.{1,11})/g).map(o=>{let c=oz(o);return e[c]});return e[0]==="\u3042\u3044\u3053\u304F\u3057\u3093"?a.join("\u3000"):a.join(" ")}La.entropyToMnemonic=dz;function e6e(t,e,r){if(t=t||128,t%32!==0)throw new TypeError(El);return e=e||(n=>y.Buffer.from(Y3e.randomBytes(n))),dz(e(t/8),r)}La.generateMnemonic=e6e;function t6e(t,e){try{lz(t,e)}catch{return!1}return!0}La.validateMnemonic=t6e;function r6e(t){let e=J_.wordlists[t];if(e)B1=e;else throw new Error('Could not find wordlist for language "'+t+'"')}La.setDefaultWordlist=r6e;function n6e(){if(!B1)throw new Error("No Default Wordlist set");return Object.keys(J_.wordlists).filter(t=>t==="JA"||t==="EN"?!1:J_.wordlists[t].every((e,r)=>e===B1[r]))[0]}La.getDefaultWordlist=n6e;var i6e=EC();La.wordlists=i6e.wordlists});var gz=R((PXe,pz)=>{l();pz.exports=aa;var AC=Us().EventEmitter,s6e=Rt();s6e(aa,AC);aa.Readable=ob();aa.Writable=ib();aa.Duplex=uu();aa.Transform=mb();aa.PassThrough=s5();aa.finished=wg();aa.pipeline=o5();aa.Stream=aa;function aa(){AC.call(this)}aa.prototype.pipe=function(t,e){var r=this;function n(f){t.writable&&t.write(f)===!1&&r.pause&&r.pause()}r.on("data",n);function i(){r.readable&&r.resume&&r.resume()}t.on("drain",i),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",a),r.on("close",o));var s=!1;function a(){s||(s=!0,t.end())}function o(){s||(s=!0,typeof t.destroy=="function"&&t.destroy())}function c(f){if(u(),AC.listenerCount(this,"error")===0)throw f}r.on("error",c),t.on("error",c);function u(){r.removeListener("data",n),t.removeListener("drain",i),r.removeListener("end",a),r.removeListener("close",o),r.removeListener("error",c),t.removeListener("error",c),r.removeListener("end",u),r.removeListener("close",u),t.removeListener("close",u)}return r.on("end",u),r.on("close",u),t.on("close",u),t.emit("pipe",r),t}});var Ac=R((DXe,vz)=>{l();var yz=Dt().Buffer,mz=gz().Transform,a6e=ub().StringDecoder,o6e=Rt();function qa(t){mz.call(this),this.hashMode=typeof t=="string",this.hashMode?this[t]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}o6e(qa,mz);qa.prototype.update=function(t,e,r){typeof t=="string"&&(t=yz.from(t,e));var n=this._update(t);return this.hashMode?this:(r&&(n=this._toString(n,r)),n)};qa.prototype.setAutoPadding=function(){};qa.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")};qa.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")};qa.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")};qa.prototype._transform=function(t,e,r){var n;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(i){n=i}finally{r(n)}};qa.prototype._flush=function(t){var e;try{this.push(this.__final())}catch(r){e=r}t(e)};qa.prototype._finalOrDigest=function(t){var e=this.__final()||yz.alloc(0);return t&&(e=this._toString(e,t,!0)),e};qa.prototype._toString=function(t,e,r){if(this._decoder||(this._decoder=new a6e(e),this._encoding=e),this._encoding!==e)throw new Error("can't switch encodings");var n=this._decoder.write(t);return r&&(n+=this._decoder.end()),n};vz.exports=qa});var _z=R((BXe,wz)=>{"use strict";l();var c6e=Rt(),Al=Dt().Buffer,bz=Ac(),u6e=Al.alloc(128),f0=64;function X_(t,e){bz.call(this,"digest"),typeof e=="string"&&(e=Al.from(e)),this._alg=t,this._key=e,e.length>f0?e=t(e):e.length<f0&&(e=Al.concat([e,u6e],f0));for(var r=this._ipad=Al.allocUnsafe(f0),n=this._opad=Al.allocUnsafe(f0),i=0;i<f0;i++)r[i]=e[i]^54,n[i]=e[i]^92;this._hash=[r]}c6e(X_,bz);X_.prototype._update=function(t){this._hash.push(t)};X_.prototype._final=function(){var t=this._alg(Al.concat(this._hash));return this._alg(Al.concat([this._opad,t]))};wz.exports=X_});var SC=R((qXe,Az)=>{"use strict";l();var Z_=Dt().Buffer,Ez=vb().Transform,f6e=Rt();function l6e(t,e){if(!Z_.isBuffer(t)&&typeof t!="string")throw new TypeError(e+" must be a string or a buffer")}function Uu(t){Ez.call(this),this._block=Z_.allocUnsafe(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}f6e(Uu,Ez);Uu.prototype._transform=function(t,e,r){var n=null;try{this.update(t,e)}catch(i){n=i}r(n)};Uu.prototype._flush=function(t){var e=null;try{this.push(this.digest())}catch(r){e=r}t(e)};Uu.prototype.update=function(t,e){if(l6e(t,"Data"),this._finalized)throw new Error("Digest already called");Z_.isBuffer(t)||(t=Z_.from(t,e));for(var r=this._block,n=0;this._blockOffset+t.length-n>=this._blockSize;){for(var i=this._blockOffset;i<this._blockSize;)r[i++]=t[n++];this._update(),this._blockOffset=0}for(;n<t.length;)r[this._blockOffset++]=t[n++];for(var s=0,a=t.length*8;a>0;++s)this._length[s]+=a,a=this._length[s]/4294967296|0,a>0&&(this._length[s]-=4294967296*a);return this};Uu.prototype._update=function(){throw new Error("_update is not implemented")};Uu.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();t!==void 0&&(e=e.toString(t)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return e};Uu.prototype._digest=function(){throw new Error("_digest is not implemented")};Az.exports=Uu});var r3=R((UXe,xz)=>{"use strict";l();var d6e=Rt(),Sz=SC(),h6e=Dt().Buffer,p6e=new Array(16);function e3(){Sz.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}d6e(e3,Sz);e3.prototype._update=function(){for(var t=p6e,e=0;e<16;++e)t[e]=this._block.readInt32LE(e*4);var r=this._a,n=this._b,i=this._c,s=this._d;r=wi(r,n,i,s,t[0],3614090360,7),s=wi(s,r,n,i,t[1],3905402710,12),i=wi(i,s,r,n,t[2],606105819,17),n=wi(n,i,s,r,t[3],3250441966,22),r=wi(r,n,i,s,t[4],4118548399,7),s=wi(s,r,n,i,t[5],1200080426,12),i=wi(i,s,r,n,t[6],2821735955,17),n=wi(n,i,s,r,t[7],4249261313,22),r=wi(r,n,i,s,t[8],1770035416,7),s=wi(s,r,n,i,t[9],2336552879,12),i=wi(i,s,r,n,t[10],4294925233,17),n=wi(n,i,s,r,t[11],2304563134,22),r=wi(r,n,i,s,t[12],1804603682,7),s=wi(s,r,n,i,t[13],4254626195,12),i=wi(i,s,r,n,t[14],2792965006,17),n=wi(n,i,s,r,t[15],1236535329,22),r=_i(r,n,i,s,t[1],4129170786,5),s=_i(s,r,n,i,t[6],3225465664,9),i=_i(i,s,r,n,t[11],643717713,14),n=_i(n,i,s,r,t[0],3921069994,20),r=_i(r,n,i,s,t[5],3593408605,5),s=_i(s,r,n,i,t[10],38016083,9),i=_i(i,s,r,n,t[15],3634488961,14),n=_i(n,i,s,r,t[4],3889429448,20),r=_i(r,n,i,s,t[9],568446438,5),s=_i(s,r,n,i,t[14],3275163606,9),i=_i(i,s,r,n,t[3],4107603335,14),n=_i(n,i,s,r,t[8],1163531501,20),r=_i(r,n,i,s,t[13],2850285829,5),s=_i(s,r,n,i,t[2],4243563512,9),i=_i(i,s,r,n,t[7],1735328473,14),n=_i(n,i,s,r,t[12],2368359562,20),r=Ei(r,n,i,s,t[5],4294588738,4),s=Ei(s,r,n,i,t[8],2272392833,11),i=Ei(i,s,r,n,t[11],1839030562,16),n=Ei(n,i,s,r,t[14],4259657740,23),r=Ei(r,n,i,s,t[1],2763975236,4),s=Ei(s,r,n,i,t[4],1272893353,11),i=Ei(i,s,r,n,t[7],4139469664,16),n=Ei(n,i,s,r,t[10],3200236656,23),r=Ei(r,n,i,s,t[13],681279174,4),s=Ei(s,r,n,i,t[0],3936430074,11),i=Ei(i,s,r,n,t[3],3572445317,16),n=Ei(n,i,s,r,t[6],76029189,23),r=Ei(r,n,i,s,t[9],3654602809,4),s=Ei(s,r,n,i,t[12],3873151461,11),i=Ei(i,s,r,n,t[15],530742520,16),n=Ei(n,i,s,r,t[2],3299628645,23),r=Ai(r,n,i,s,t[0],4096336452,6),s=Ai(s,r,n,i,t[7],1126891415,10),i=Ai(i,s,r,n,t[14],2878612391,15),n=Ai(n,i,s,r,t[5],4237533241,21),r=Ai(r,n,i,s,t[12],1700485571,6),s=Ai(s,r,n,i,t[3],2399980690,10),i=Ai(i,s,r,n,t[10],4293915773,15),n=Ai(n,i,s,r,t[1],2240044497,21),r=Ai(r,n,i,s,t[8],1873313359,6),s=Ai(s,r,n,i,t[15],4264355552,10),i=Ai(i,s,r,n,t[6],2734768916,15),n=Ai(n,i,s,r,t[13],1309151649,21),r=Ai(r,n,i,s,t[4],4149444226,6),s=Ai(s,r,n,i,t[11],3174756917,10),i=Ai(i,s,r,n,t[2],718787259,15),n=Ai(n,i,s,r,t[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+n|0,this._c=this._c+i|0,this._d=this._d+s|0};e3.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=h6e.allocUnsafe(16);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t};function t3(t,e){return t<<e|t>>>32-e}function wi(t,e,r,n,i,s,a){return t3(t+(e&r|~e&n)+i+s|0,a)+e|0}function _i(t,e,r,n,i,s,a){return t3(t+(e&n|r&~n)+i+s|0,a)+e|0}function Ei(t,e,r,n,i,s,a){return t3(t+(e^r^n)+i+s|0,a)+e|0}function Ai(t,e,r,n,i,s,a){return t3(t+(r^(e|~n))+i+s|0,a)+e|0}xz.exports=e3});var xC=R((VXe,Tz)=>{l();var g6e=r3();Tz.exports=function(t){return new g6e().update(t).digest()}});var i3=R((GXe,Dz)=>{"use strict";l();var TC=Qi().Buffer,y6e=Rt(),Rz=SC(),m6e=new Array(16),q1=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],F1=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],U1=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],k1=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],V1=[0,1518500249,1859775393,2400959708,2840853838],H1=[1352829926,1548603684,1836072691,2053994217,0];function n3(){Rz.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}y6e(n3,Rz);n3.prototype._update=function(){for(var t=m6e,e=0;e<16;++e)t[e]=this._block.readInt32LE(e*4);for(var r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,a=this._e|0,o=this._a|0,c=this._b|0,u=this._c|0,f=this._d|0,d=this._e|0,m=0;m<80;m+=1){var _,x;m<16?(_=Iz(r,n,i,s,a,t[q1[m]],V1[0],U1[m]),x=Pz(o,c,u,f,d,t[F1[m]],H1[0],k1[m])):m<32?(_=Cz(r,n,i,s,a,t[q1[m]],V1[1],U1[m]),x=Oz(o,c,u,f,d,t[F1[m]],H1[1],k1[m])):m<48?(_=Nz(r,n,i,s,a,t[q1[m]],V1[2],U1[m]),x=Nz(o,c,u,f,d,t[F1[m]],H1[2],k1[m])):m<64?(_=Oz(r,n,i,s,a,t[q1[m]],V1[3],U1[m]),x=Cz(o,c,u,f,d,t[F1[m]],H1[3],k1[m])):(_=Pz(r,n,i,s,a,t[q1[m]],V1[4],U1[m]),x=Iz(o,c,u,f,d,t[F1[m]],H1[4],k1[m])),r=a,a=s,s=Sl(i,10),i=n,n=_,o=d,d=f,f=Sl(u,10),u=c,c=x}var P=this._b+i+f|0;this._b=this._c+s+d|0,this._c=this._d+a+o|0,this._d=this._e+r+c|0,this._e=this._a+n+u|0,this._a=P};n3.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=TC.alloc?TC.alloc(20):new TC(20);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t.writeInt32LE(this._e,16),t};function Sl(t,e){return t<<e|t>>>32-e}function Iz(t,e,r,n,i,s,a,o){return Sl(t+(e^r^n)+s+a|0,o)+i|0}function Cz(t,e,r,n,i,s,a,o){return Sl(t+(e&r|~e&n)+s+a|0,o)+i|0}function Nz(t,e,r,n,i,s,a,o){return Sl(t+((e|~r)^n)+s+a|0,o)+i|0}function Oz(t,e,r,n,i,s,a,o){return Sl(t+(e&n|r&~n)+s+a|0,o)+i|0}function Pz(t,e,r,n,i,s,a,o){return Sl(t+(e^(r|~n))+s+a|0,o)+i|0}Dz.exports=n3});var xl=R((zXe,Bz)=>{l();var Mz=Dt().Buffer;function s3(t,e){this._block=Mz.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}s3.prototype.update=function(t,e){typeof t=="string"&&(e=e||"utf8",t=Mz.from(t,e));for(var r=this._block,n=this._blockSize,i=t.length,s=this._len,a=0;a<i;){for(var o=s%n,c=Math.min(i-a,n-o),u=0;u<c;u++)r[o+u]=t[a+u];s+=c,a+=c,s%n===0&&this._update(r)}return this._len+=i,this};s3.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(r&4294967295)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var s=this._hash();return t?s.toString(t):s};s3.prototype._update=function(){throw new Error("_update must be implemented by subclass")};Bz.exports=s3});var Fz=R((WXe,qz)=>{l();var v6e=Rt(),Lz=xl(),b6e=Dt().Buffer,w6e=[1518500249,1859775393,-1894007588,-899497514],_6e=new Array(80);function G1(){this.init(),this._w=_6e,Lz.call(this,64,56)}v6e(G1,Lz);G1.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function E6e(t){return t<<5|t>>>27}function A6e(t){return t<<30|t>>>2}function S6e(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}G1.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,a=this._e|0,o=0;o<16;++o)e[o]=t.readInt32BE(o*4);for(;o<80;++o)e[o]=e[o-3]^e[o-8]^e[o-14]^e[o-16];for(var c=0;c<80;++c){var u=~~(c/20),f=E6e(r)+S6e(u,n,i,s)+a+e[c]+w6e[u]|0;a=s,s=i,i=A6e(n),n=r,r=f}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=a+this._e|0};G1.prototype._hash=function(){var t=b6e.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};qz.exports=G1});var Vz=R(($Xe,kz)=>{l();var x6e=Rt(),Uz=xl(),T6e=Dt().Buffer,I6e=[1518500249,1859775393,-1894007588,-899497514],C6e=new Array(80);function j1(){this.init(),this._w=C6e,Uz.call(this,64,56)}x6e(j1,Uz);j1.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function N6e(t){return t<<1|t>>>31}function O6e(t){return t<<5|t>>>27}function P6e(t){return t<<30|t>>>2}function R6e(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}j1.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,a=this._e|0,o=0;o<16;++o)e[o]=t.readInt32BE(o*4);for(;o<80;++o)e[o]=N6e(e[o-3]^e[o-8]^e[o-14]^e[o-16]);for(var c=0;c<80;++c){var u=~~(c/20),f=O6e(r)+R6e(u,n,i,s)+a+e[c]+I6e[u]|0;a=s,s=i,i=P6e(n),n=r,r=f}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=a+this._e|0};j1.prototype._hash=function(){var t=T6e.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};kz.exports=j1});var IC=R((JXe,Gz)=>{l();var D6e=Rt(),Hz=xl(),M6e=Dt().Buffer,B6e=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],L6e=new Array(64);function z1(){this.init(),this._w=L6e,Hz.call(this,64,56)}D6e(z1,Hz);z1.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function q6e(t,e,r){return r^t&(e^r)}function F6e(t,e,r){return t&e|r&(t|e)}function U6e(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function k6e(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function V6e(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}function H6e(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10}z1.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,a=this._e|0,o=this._f|0,c=this._g|0,u=this._h|0,f=0;f<16;++f)e[f]=t.readInt32BE(f*4);for(;f<64;++f)e[f]=H6e(e[f-2])+e[f-7]+V6e(e[f-15])+e[f-16]|0;for(var d=0;d<64;++d){var m=u+k6e(a)+q6e(a,o,c)+B6e[d]+e[d]|0,_=U6e(r)+F6e(r,n,i)|0;u=c,c=o,o=a,a=s+m|0,s=i,i=n,n=r,r=m+_|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=a+this._e|0,this._f=o+this._f|0,this._g=c+this._g|0,this._h=u+this._h|0};z1.prototype._hash=function(){var t=M6e.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t};Gz.exports=z1});var zz=R((ZXe,jz)=>{l();var G6e=Rt(),j6e=IC(),z6e=xl(),K6e=Dt().Buffer,W6e=new Array(64);function a3(){this.init(),this._w=W6e,z6e.call(this,64,56)}G6e(a3,j6e);a3.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};a3.prototype._hash=function(){var t=K6e.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t};jz.exports=a3});var CC=R((tZe,Xz)=>{l();var Q6e=Rt(),Jz=xl(),$6e=Dt().Buffer,Kz=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],Y6e=new Array(160);function K1(){this.init(),this._w=Y6e,Jz.call(this,128,112)}Q6e(K1,Jz);K1.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function Wz(t,e,r){return r^t&(e^r)}function Qz(t,e,r){return t&e|r&(t|e)}function $z(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function Yz(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function J6e(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function X6e(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function Z6e(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function eEe(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function ei(t,e){return t>>>0<e>>>0?1:0}K1.prototype._update=function(t){for(var e=this._w,r=this._ah|0,n=this._bh|0,i=this._ch|0,s=this._dh|0,a=this._eh|0,o=this._fh|0,c=this._gh|0,u=this._hh|0,f=this._al|0,d=this._bl|0,m=this._cl|0,_=this._dl|0,x=this._el|0,P=this._fl|0,D=this._gl|0,k=this._hl|0,Y=0;Y<32;Y+=2)e[Y]=t.readInt32BE(Y*4),e[Y+1]=t.readInt32BE(Y*4+4);for(;Y<160;Y+=2){var X=e[Y-30],Z=e[Y-15*2+1],U=J6e(X,Z),Q=X6e(Z,X);X=e[Y-2*2],Z=e[Y-2*2+1];var j=Z6e(X,Z),K=eEe(Z,X),$=e[Y-7*2],L=e[Y-7*2+1],v=e[Y-16*2],E=e[Y-16*2+1],p=Q+L|0,g=U+$+ei(p,Q)|0;p=p+K|0,g=g+j+ei(p,K)|0,p=p+E|0,g=g+v+ei(p,E)|0,e[Y]=g,e[Y+1]=p}for(var b=0;b<160;b+=2){g=e[b],p=e[b+1];var I=Qz(r,n,i),O=Qz(f,d,m),N=$z(r,f),w=$z(f,r),C=Yz(a,x),T=Yz(x,a),F=Kz[b],ee=Kz[b+1],fe=Wz(a,o,c),B=Wz(x,P,D),ne=k+T|0,oe=u+C+ei(ne,k)|0;ne=ne+B|0,oe=oe+fe+ei(ne,B)|0,ne=ne+ee|0,oe=oe+F+ei(ne,ee)|0,ne=ne+p|0,oe=oe+g+ei(ne,p)|0;var de=w+O|0,q=N+I+ei(de,w)|0;u=c,k=D,c=o,D=P,o=a,P=x,x=_+ne|0,a=s+oe+ei(x,_)|0,s=i,_=m,i=n,m=d,n=r,d=f,f=ne+de|0,r=oe+q+ei(f,ne)|0}this._al=this._al+f|0,this._bl=this._bl+d|0,this._cl=this._cl+m|0,this._dl=this._dl+_|0,this._el=this._el+x|0,this._fl=this._fl+P|0,this._gl=this._gl+D|0,this._hl=this._hl+k|0,this._ah=this._ah+r+ei(this._al,f)|0,this._bh=this._bh+n+ei(this._bl,d)|0,this._ch=this._ch+i+ei(this._cl,m)|0,this._dh=this._dh+s+ei(this._dl,_)|0,this._eh=this._eh+a+ei(this._el,x)|0,this._fh=this._fh+o+ei(this._fl,P)|0,this._gh=this._gh+c+ei(this._gl,D)|0,this._hh=this._hh+u+ei(this._hl,k)|0};K1.prototype._hash=function(){var t=$6e.allocUnsafe(64);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t};Xz.exports=K1});var eK=R((nZe,Zz)=>{l();var tEe=Rt(),rEe=CC(),nEe=xl(),iEe=Dt().Buffer,sEe=new Array(160);function o3(){this.init(),this._w=sEe,nEe.call(this,128,112)}tEe(o3,rEe);o3.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};o3.prototype._hash=function(){var t=iEe.allocUnsafe(48);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t};Zz.exports=o3});var c3=R((Sc,tK)=>{l();var Sc=tK.exports=function(e){e=e.toLowerCase();var r=Sc[e];if(!r)throw new Error(e+" is not supported (we accept pull requests)");return new r};Sc.sha=Fz();Sc.sha1=Vz();Sc.sha224=zz();Sc.sha256=IC();Sc.sha384=eK();Sc.sha512=CC()});var u3=R((aZe,nK)=>{"use strict";l();var aEe=Rt(),oEe=_z(),rK=Ac(),W1=Dt().Buffer,cEe=xC(),NC=i3(),OC=c3(),uEe=W1.alloc(128);function Q1(t,e){rK.call(this,"digest"),typeof e=="string"&&(e=W1.from(e));var r=t==="sha512"||t==="sha384"?128:64;if(this._alg=t,this._key=e,e.length>r){var n=t==="rmd160"?new NC:OC(t);e=n.update(e).digest()}else e.length<r&&(e=W1.concat([e,uEe],r));for(var i=this._ipad=W1.allocUnsafe(r),s=this._opad=W1.allocUnsafe(r),a=0;a<r;a++)i[a]=e[a]^54,s[a]=e[a]^92;this._hash=t==="rmd160"?new NC:OC(t),this._hash.update(i)}aEe(Q1,rK);Q1.prototype._update=function(t){this._hash.update(t)};Q1.prototype._final=function(){var t=this._hash.digest(),e=this._alg==="rmd160"?new NC:OC(this._alg);return e.update(this._opad).update(t).digest()};nK.exports=function(e,r){return e=e.toLowerCase(),e==="rmd160"||e==="ripemd160"?new Q1("rmd160",r):e==="md5"?new oEe(cEe,r):new Q1(e,r)}});var Tl=R((cZe,RC)=>{"use strict";l();var PC=65536,fEe=4294967295;function lEe(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var dEe=Dt().Buffer,f3=global.crypto||global.msCrypto;f3&&f3.getRandomValues?RC.exports=hEe:RC.exports=lEe;function hEe(t,e){if(t>fEe)throw new RangeError("requested too many random bytes");var r=dEe.allocUnsafe(t);if(t>0)if(t>PC)for(var n=0;n<t;n+=PC)f3.getRandomValues(r.slice(n,n+PC));else f3.getRandomValues(r);return typeof e=="function"?A.default.nextTick(function(){e(null,r)}):r}});var l0=R((fZe,sK)=>{"use strict";l();var pEe=Rt(),gEe=r3(),yEe=i3(),mEe=c3(),iK=Ac();function l3(t){iK.call(this,"digest"),this._hash=t}pEe(l3,iK);l3.prototype._update=function(t){this._hash.update(t)};l3.prototype._final=function(){return this._hash.digest()};sK.exports=function(e){return e=e.toLowerCase(),e==="md5"?new gEe:e==="rmd160"||e==="ripemd160"?new yEe:new l3(mEe(e))}});var DC=R((dZe,vEe)=>{vEe.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}});var oK=R((hZe,aK)=>{"use strict";l();aK.exports=DC()});var MC=R((gZe,cK)=>{l();var bEe=Math.pow(2,30)-1;cK.exports=function(t,e){if(typeof t!="number")throw new TypeError("Iterations not a number");if(t<0)throw new TypeError("Bad iterations");if(typeof e!="number")throw new TypeError("Key length not a number");if(e<0||e>bEe||e!==e)throw new TypeError("Bad key length")}});var BC=R((mZe,fK)=>{l();var d3;global.process&&global.process.browser?d3="utf-8":global.process&&global.process.version?(uK=parseInt(A.default.version.split(".")[0].slice(1),10),d3=uK>=6?"utf-8":"binary"):d3="utf-8";var uK;fK.exports=d3});var qC=R((bZe,lK)=>{l();var LC=Dt().Buffer;lK.exports=function(t,e,r){if(LC.isBuffer(t))return t;if(typeof t=="string")return LC.from(t,e);if(ArrayBuffer.isView(t))return LC.from(t.buffer);throw new TypeError(r+" must be a string, a Buffer, a typed array or a DataView")}});var FC=R((_Ze,gK)=>{l();var wEe=xC(),_Ee=i3(),EEe=c3(),Il=Dt().Buffer,AEe=MC(),dK=BC(),hK=qC(),SEe=Il.alloc(128),h3={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function pK(t,e,r){var n=xEe(t),i=t==="sha512"||t==="sha384"?128:64;e.length>i?e=n(e):e.length<i&&(e=Il.concat([e,SEe],i));for(var s=Il.allocUnsafe(i+h3[t]),a=Il.allocUnsafe(i+h3[t]),o=0;o<i;o++)s[o]=e[o]^54,a[o]=e[o]^92;var c=Il.allocUnsafe(i+r+4);s.copy(c,0,0,i),this.ipad1=c,this.ipad2=s,this.opad=a,this.alg=t,this.blocksize=i,this.hash=n,this.size=h3[t]}pK.prototype.run=function(t,e){t.copy(e,this.blocksize);var r=this.hash(e);return r.copy(this.opad,this.blocksize),this.hash(this.opad)};function xEe(t){function e(n){return EEe(t).update(n).digest()}function r(n){return new _Ee().update(n).digest()}return t==="rmd160"||t==="ripemd160"?r:t==="md5"?wEe:e}function TEe(t,e,r,n,i){AEe(r,n),t=hK(t,dK,"Password"),e=hK(e,dK,"Salt"),i=i||"sha1";var s=new pK(i,t,e.length),a=Il.allocUnsafe(n),o=Il.allocUnsafe(e.length+4);e.copy(o,0,0,e.length);for(var c=0,u=h3[i],f=Math.ceil(n/u),d=1;d<=f;d++){o.writeUInt32BE(d,e.length);for(var m=s.run(o,s.ipad1),_=m,x=1;x<r;x++){_=s.run(_,s.ipad2);for(var P=0;P<u;P++)m[P]^=_[P]}m.copy(a,c),c+=u}return a}gK.exports=TEe});var EK=R((AZe,_K)=>{l();var bK=Dt().Buffer,IEe=MC(),yK=BC(),mK=FC(),vK=qC(),p3,$1=global.crypto&&global.crypto.subtle,CEe={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},UC=[];function NEe(t){if(global.process&&!global.process.browser||!$1||!$1.importKey||!$1.deriveBits)return Promise.resolve(!1);if(UC[t]!==void 0)return UC[t];p3=p3||bK.alloc(8);var e=wK(p3,p3,10,128,t).then(function(){return!0}).catch(function(){return!1});return UC[t]=e,e}var Cl;function kC(){return Cl||(global.process&&global.process.nextTick?Cl=global.process.nextTick:global.queueMicrotask?Cl=global.queueMicrotask:global.setImmediate?Cl=global.setImmediate:Cl=global.setTimeout,Cl)}function wK(t,e,r,n,i){return $1.importKey("raw",t,{name:"PBKDF2"},!1,["deriveBits"]).then(function(s){return $1.deriveBits({name:"PBKDF2",salt:e,iterations:r,hash:{name:i}},s,n<<3)}).then(function(s){return bK.from(s)})}function OEe(t,e){t.then(function(r){kC()(function(){e(null,r)})},function(r){kC()(function(){e(r)})})}_K.exports=function(t,e,r,n,i,s){typeof i=="function"&&(s=i,i=void 0),i=i||"sha1";var a=CEe[i.toLowerCase()];if(!a||typeof global.Promise!="function"){kC()(function(){var o;try{o=mK(t,e,r,n,i)}catch(c){return s(c)}s(null,o)});return}if(IEe(r,n),t=vK(t,yK,"Password"),e=vK(e,yK,"Salt"),typeof s!="function")throw new Error("No callback provided to pbkdf2");OEe(NEe(a).then(function(o){return o?wK(t,e,r,n,a):mK(t,e,r,n,i)}),s)}});var HC=R(VC=>{l();VC.pbkdf2=EK();VC.pbkdf2Sync=FC()});var GC=R(oa=>{"use strict";l();oa.readUInt32BE=function(e,r){var n=e[0+r]<<24|e[1+r]<<16|e[2+r]<<8|e[3+r];return n>>>0};oa.writeUInt32BE=function(e,r,n){e[0+n]=r>>>24,e[1+n]=r>>>16&255,e[2+n]=r>>>8&255,e[3+n]=r&255};oa.ip=function(e,r,n,i){for(var s=0,a=0,o=6;o>=0;o-=2){for(var c=0;c<=24;c+=8)s<<=1,s|=r>>>c+o&1;for(var c=0;c<=24;c+=8)s<<=1,s|=e>>>c+o&1}for(var o=6;o>=0;o-=2){for(var c=1;c<=25;c+=8)a<<=1,a|=r>>>c+o&1;for(var c=1;c<=25;c+=8)a<<=1,a|=e>>>c+o&1}n[i+0]=s>>>0,n[i+1]=a>>>0};oa.rip=function(e,r,n,i){for(var s=0,a=0,o=0;o<4;o++)for(var c=24;c>=0;c-=8)s<<=1,s|=r>>>c+o&1,s<<=1,s|=e>>>c+o&1;for(var o=4;o<8;o++)for(var c=24;c>=0;c-=8)a<<=1,a|=r>>>c+o&1,a<<=1,a|=e>>>c+o&1;n[i+0]=s>>>0,n[i+1]=a>>>0};oa.pc1=function(e,r,n,i){for(var s=0,a=0,o=7;o>=5;o--){for(var c=0;c<=24;c+=8)s<<=1,s|=r>>c+o&1;for(var c=0;c<=24;c+=8)s<<=1,s|=e>>c+o&1}for(var c=0;c<=24;c+=8)s<<=1,s|=r>>c+o&1;for(var o=1;o<=3;o++){for(var c=0;c<=24;c+=8)a<<=1,a|=r>>c+o&1;for(var c=0;c<=24;c+=8)a<<=1,a|=e>>c+o&1}for(var c=0;c<=24;c+=8)a<<=1,a|=e>>c+o&1;n[i+0]=s>>>0,n[i+1]=a>>>0};oa.r28shl=function(e,r){return e<<r&268435455|e>>>28-r};var g3=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];oa.pc2=function(e,r,n,i){for(var s=0,a=0,o=g3.length>>>1,c=0;c<o;c++)s<<=1,s|=e>>>g3[c]&1;for(var c=o;c<g3.length;c++)a<<=1,a|=r>>>g3[c]&1;n[i+0]=s>>>0,n[i+1]=a>>>0};oa.expand=function(e,r,n){var i=0,s=0;i=(e&1)<<5|e>>>27;for(var a=23;a>=15;a-=4)i<<=6,i|=e>>>a&63;for(var a=11;a>=3;a-=4)s|=e>>>a&63,s<<=6;s|=(e&31)<<1|e>>>31,r[n+0]=i>>>0,r[n+1]=s>>>0};var AK=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];oa.substitute=function(e,r){for(var n=0,i=0;i<4;i++){var s=e>>>18-i*6&63,a=AK[i*64+s];n<<=4,n|=a}for(var i=0;i<4;i++){var s=r>>>18-i*6&63,a=AK[4*64+i*64+s];n<<=4,n|=a}return n>>>0};var SK=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];oa.permute=function(e){for(var r=0,n=0;n<SK.length;n++)r<<=1,r|=e>>>SK[n]&1;return r>>>0};oa.padSplit=function(e,r,n){for(var i=e.toString(2);i.length<r;)i="0"+i;for(var s=[],a=0;a<r;a+=n)s.push(i.slice(a,a+n));return s.join(" ")}});var Ts=R((NZe,TK)=>{l();TK.exports=xK;function xK(t,e){if(!t)throw new Error(e||"Assertion failed")}xK.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)}});var y3=R((PZe,IK)=>{"use strict";l();var PEe=Ts();function ca(t){this.options=t,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=t.padding!==!1}IK.exports=ca;ca.prototype._init=function(){};ca.prototype.update=function(e){return e.length===0?[]:this.type==="decrypt"?this._updateDecrypt(e):this._updateEncrypt(e)};ca.prototype._buffer=function(e,r){for(var n=Math.min(this.buffer.length-this.bufferOff,e.length-r),i=0;i<n;i++)this.buffer[this.bufferOff+i]=e[r+i];return this.bufferOff+=n,n};ca.prototype._flushBuffer=function(e,r){return this._update(this.buffer,0,e,r),this.bufferOff=0,this.blockSize};ca.prototype._updateEncrypt=function(e){var r=0,n=0,i=(this.bufferOff+e.length)/this.blockSize|0,s=new Array(i*this.blockSize);this.bufferOff!==0&&(r+=this._buffer(e,r),this.bufferOff===this.buffer.length&&(n+=this._flushBuffer(s,n)));for(var a=e.length-(e.length-r)%this.blockSize;r<a;r+=this.blockSize)this._update(e,r,s,n),n+=this.blockSize;for(;r<e.length;r++,this.bufferOff++)this.buffer[this.bufferOff]=e[r];return s};ca.prototype._updateDecrypt=function(e){for(var r=0,n=0,i=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1,s=new Array(i*this.blockSize);i>0;i--)r+=this._buffer(e,r),n+=this._flushBuffer(s,n);return r+=this._buffer(e,r),s};ca.prototype.final=function(e){var r;e&&(r=this.update(e));var n;return this.type==="encrypt"?n=this._finalEncrypt():n=this._finalDecrypt(),r?r.concat(n):n};ca.prototype._pad=function(e,r){if(r===0)return!1;for(;r<e.length;)e[r++]=0;return!0};ca.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var e=new Array(this.blockSize);return this._update(this.buffer,0,e,0),e};ca.prototype._unpad=function(e){return e};ca.prototype._finalDecrypt=function(){PEe.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var e=new Array(this.blockSize);return this._flushBuffer(e,0),this._unpad(e)}});var jC=R((DZe,OK)=>{"use strict";l();var CK=Ts(),REe=Rt(),Hn=GC(),NK=y3();function DEe(){this.tmp=new Array(2),this.keys=null}function Ro(t){NK.call(this,t);var e=new DEe;this._desState=e,this.deriveKeys(e,t.key)}REe(Ro,NK);OK.exports=Ro;Ro.create=function(e){return new Ro(e)};var MEe=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];Ro.prototype.deriveKeys=function(e,r){e.keys=new Array(16*2),CK.equal(r.length,this.blockSize,"Invalid key length");var n=Hn.readUInt32BE(r,0),i=Hn.readUInt32BE(r,4);Hn.pc1(n,i,e.tmp,0),n=e.tmp[0],i=e.tmp[1];for(var s=0;s<e.keys.length;s+=2){var a=MEe[s>>>1];n=Hn.r28shl(n,a),i=Hn.r28shl(i,a),Hn.pc2(n,i,e.keys,s)}};Ro.prototype._update=function(e,r,n,i){var s=this._desState,a=Hn.readUInt32BE(e,r),o=Hn.readUInt32BE(e,r+4);Hn.ip(a,o,s.tmp,0),a=s.tmp[0],o=s.tmp[1],this.type==="encrypt"?this._encrypt(s,a,o,s.tmp,0):this._decrypt(s,a,o,s.tmp,0),a=s.tmp[0],o=s.tmp[1],Hn.writeUInt32BE(n,a,i),Hn.writeUInt32BE(n,o,i+4)};Ro.prototype._pad=function(e,r){if(this.padding===!1)return!1;for(var n=e.length-r,i=r;i<e.length;i++)e[i]=n;return!0};Ro.prototype._unpad=function(e){if(this.padding===!1)return e;for(var r=e[e.length-1],n=e.length-r;n<e.length;n++)CK.equal(e[n],r);return e.slice(0,e.length-r)};Ro.prototype._encrypt=function(e,r,n,i,s){for(var a=r,o=n,c=0;c<e.keys.length;c+=2){var u=e.keys[c],f=e.keys[c+1];Hn.expand(o,e.tmp,0),u^=e.tmp[0],f^=e.tmp[1];var d=Hn.substitute(u,f),m=Hn.permute(d),_=o;o=(a^m)>>>0,a=_}Hn.rip(o,a,i,s)};Ro.prototype._decrypt=function(e,r,n,i,s){for(var a=n,o=r,c=e.keys.length-2;c>=0;c-=2){var u=e.keys[c],f=e.keys[c+1];Hn.expand(a,e.tmp,0),u^=e.tmp[0],f^=e.tmp[1];var d=Hn.substitute(u,f),m=Hn.permute(d),_=a;a=(o^m)>>>0,o=_}Hn.rip(a,o,i,s)}});var RK=R(PK=>{"use strict";l();var BEe=Ts(),LEe=Rt(),m3={};function qEe(t){BEe.equal(t.length,8,"Invalid IV length"),this.iv=new Array(8);for(var e=0;e<this.iv.length;e++)this.iv[e]=t[e]}function FEe(t){function e(s){t.call(this,s),this._cbcInit()}LEe(e,t);for(var r=Object.keys(m3),n=0;n<r.length;n++){var i=r[n];e.prototype[i]=m3[i]}return e.create=function(a){return new e(a)},e}PK.instantiate=FEe;m3._cbcInit=function(){var e=new qEe(this.options.iv);this._cbcState=e};m3._update=function(e,r,n,i){var s=this._cbcState,a=this.constructor.super_.prototype,o=s.iv;if(this.type==="encrypt"){for(var c=0;c<this.blockSize;c++)o[c]^=e[r+c];a._update.call(this,o,0,n,i);for(var c=0;c<this.blockSize;c++)o[c]=n[i+c]}else{a._update.call(this,e,r,n,i);for(var c=0;c<this.blockSize;c++)n[i+c]^=o[c];for(var c=0;c<this.blockSize;c++)o[c]=e[r+c]}}});var BK=R((qZe,MK)=>{"use strict";l();var UEe=Ts(),kEe=Rt(),DK=y3(),ku=jC();function VEe(t,e){UEe.equal(e.length,24,"Invalid key length");var r=e.slice(0,8),n=e.slice(8,16),i=e.slice(16,24);t==="encrypt"?this.ciphers=[ku.create({type:"encrypt",key:r}),ku.create({type:"decrypt",key:n}),ku.create({type:"encrypt",key:i})]:this.ciphers=[ku.create({type:"decrypt",key:i}),ku.create({type:"encrypt",key:n}),ku.create({type:"decrypt",key:r})]}function Nl(t){DK.call(this,t);var e=new VEe(this.type,this.options.key);this._edeState=e}kEe(Nl,DK);MK.exports=Nl;Nl.create=function(e){return new Nl(e)};Nl.prototype._update=function(e,r,n,i){var s=this._edeState;s.ciphers[0]._update(e,r,n,i),s.ciphers[1]._update(n,i,n,i),s.ciphers[2]._update(n,i,n,i)};Nl.prototype._pad=ku.prototype._pad;Nl.prototype._unpad=ku.prototype._unpad});var LK=R(d0=>{"use strict";l();d0.utils=GC();d0.Cipher=y3();d0.DES=jC();d0.CBC=RK();d0.EDE=BK()});var UK=R((VZe,FK)=>{l();var qK=Ac(),xc=LK(),HEe=Rt(),Ol=Dt().Buffer,Y1={"des-ede3-cbc":xc.CBC.instantiate(xc.EDE),"des-ede3":xc.EDE,"des-ede-cbc":xc.CBC.instantiate(xc.EDE),"des-ede":xc.EDE,"des-cbc":xc.CBC.instantiate(xc.DES),"des-ecb":xc.DES};Y1.des=Y1["des-cbc"];Y1.des3=Y1["des-ede3-cbc"];FK.exports=v3;HEe(v3,qK);function v3(t){qK.call(this);var e=t.mode.toLowerCase(),r=Y1[e],n;t.decrypt?n="decrypt":n="encrypt";var i=t.key;Ol.isBuffer(i)||(i=Ol.from(i)),(e==="des-ede"||e==="des-ede-cbc")&&(i=Ol.concat([i,i.slice(0,8)]));var s=t.iv;Ol.isBuffer(s)||(s=Ol.from(s)),this._des=r.create({key:i,iv:s,type:n})}v3.prototype._update=function(t){return Ol.from(this._des.update(t))};v3.prototype._final=function(){return Ol.from(this._des.final())}});var kK=R(zC=>{l();zC.encrypt=function(t,e){return t._cipher.encryptBlock(e)};zC.decrypt=function(t,e){return t._cipher.decryptBlock(e)}});var h0=R((zZe,VK)=>{l();VK.exports=function(e,r){for(var n=Math.min(e.length,r.length),i=new y.Buffer(n),s=0;s<n;++s)i[s]=e[s]^r[s];return i}});var GK=R(KC=>{l();var HK=h0();KC.encrypt=function(t,e){var r=HK(e,t._prev);return t._prev=t._cipher.encryptBlock(r),t._prev};KC.decrypt=function(t,e){var r=t._prev;t._prev=e;var n=t._cipher.decryptBlock(e);return HK(n,r)}});var KK=R(zK=>{l();var J1=Dt().Buffer,GEe=h0();function jK(t,e,r){var n=e.length,i=GEe(e,t._cache);return t._cache=t._cache.slice(n),t._prev=J1.concat([t._prev,r?e:i]),i}zK.encrypt=function(t,e,r){for(var n=J1.allocUnsafe(0),i;e.length;)if(t._cache.length===0&&(t._cache=t._cipher.encryptBlock(t._prev),t._prev=J1.allocUnsafe(0)),t._cache.length<=e.length)i=t._cache.length,n=J1.concat([n,jK(t,e.slice(0,i),r)]),e=e.slice(i);else{n=J1.concat([n,jK(t,e,r)]);break}return n}});var QK=R(WK=>{l();var WC=Dt().Buffer;function jEe(t,e,r){var n=t._cipher.encryptBlock(t._prev),i=n[0]^e;return t._prev=WC.concat([t._prev.slice(1),WC.from([r?e:i])]),i}WK.encrypt=function(t,e,r){for(var n=e.length,i=WC.allocUnsafe(n),s=-1;++s<n;)i[s]=jEe(t,e[s],r);return i}});var YK=R($K=>{l();var b3=Dt().Buffer;function zEe(t,e,r){for(var n,i=-1,s=8,a=0,o,c;++i<s;)n=t._cipher.encryptBlock(t._prev),o=e&1<<7-i?128:0,c=n[0]^o,a+=(c&128)>>i%8,t._prev=KEe(t._prev,r?o:c);return a}function KEe(t,e){var r=t.length,n=-1,i=b3.allocUnsafe(t.length);for(t=b3.concat([t,b3.from([e])]);++n<r;)i[n]=t[n]<<1|t[n+1]>>7;return i}$K.encrypt=function(t,e,r){for(var n=e.length,i=b3.allocUnsafe(n),s=-1;++s<n;)i[s]=zEe(t,e[s],r);return i}});var XK=R(JK=>{l();var WEe=h0();function QEe(t){return t._prev=t._cipher.encryptBlock(t._prev),t._prev}JK.encrypt=function(t,e){for(;t._cache.length<e.length;)t._cache=y.Buffer.concat([t._cache,QEe(t)]);var r=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),WEe(e,r)}});var QC=R((net,ZK)=>{l();function $Ee(t){for(var e=t.length,r;e--;)if(r=t.readUInt8(e),r===255)t.writeUInt8(0,e);else{r++,t.writeUInt8(r,e);break}}ZK.exports=$Ee});var YC=R(tW=>{l();var YEe=h0(),eW=Dt().Buffer,JEe=QC();function XEe(t){var e=t._cipher.encryptBlockRaw(t._prev);return JEe(t._prev),e}var $C=16;tW.encrypt=function(t,e){var r=Math.ceil(e.length/$C),n=t._cache.length;t._cache=eW.concat([t._cache,eW.allocUnsafe(r*$C)]);for(var i=0;i<r;i++){var s=XEe(t),a=n+i*$C;t._cache.writeUInt32BE(s[0],a+0),t._cache.writeUInt32BE(s[1],a+4),t._cache.writeUInt32BE(s[2],a+8),t._cache.writeUInt32BE(s[3],a+12)}var o=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),YEe(e,o)}});var JC=R((oet,ZEe)=>{ZEe.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}});var _3=R((cet,rW)=>{l();var eAe={ECB:kK(),CBC:GK(),CFB:KK(),CFB8:QK(),CFB1:YK(),OFB:XK(),CTR:YC(),GCM:YC()},w3=JC();for(XC in w3)w3[XC].module=eAe[w3[XC].mode];var XC;rW.exports=w3});var X1=R((fet,iW)=>{l();var E3=Dt().Buffer;function e7(t){E3.isBuffer(t)||(t=E3.from(t));for(var e=t.length/4|0,r=new Array(e),n=0;n<e;n++)r[n]=t.readUInt32BE(n*4);return r}function ZC(t){for(var e=0;e<t.length;t++)t[e]=0}function nW(t,e,r,n,i){for(var s=r[0],a=r[1],o=r[2],c=r[3],u=t[0]^e[0],f=t[1]^e[1],d=t[2]^e[2],m=t[3]^e[3],_,x,P,D,k=4,Y=1;Y<i;Y++)_=s[u>>>24]^a[f>>>16&255]^o[d>>>8&255]^c[m&255]^e[k++],x=s[f>>>24]^a[d>>>16&255]^o[m>>>8&255]^c[u&255]^e[k++],P=s[d>>>24]^a[m>>>16&255]^o[u>>>8&255]^c[f&255]^e[k++],D=s[m>>>24]^a[u>>>16&255]^o[f>>>8&255]^c[d&255]^e[k++],u=_,f=x,d=P,m=D;return _=(n[u>>>24]<<24|n[f>>>16&255]<<16|n[d>>>8&255]<<8|n[m&255])^e[k++],x=(n[f>>>24]<<24|n[d>>>16&255]<<16|n[m>>>8&255]<<8|n[u&255])^e[k++],P=(n[d>>>24]<<24|n[m>>>16&255]<<16|n[u>>>8&255]<<8|n[f&255])^e[k++],D=(n[m>>>24]<<24|n[u>>>16&255]<<16|n[f>>>8&255]<<8|n[d&255])^e[k++],_=_>>>0,x=x>>>0,P=P>>>0,D=D>>>0,[_,x,P,D]}var tAe=[0,1,2,4,8,16,32,64,128,27,54],Fn=function(){for(var t=new Array(256),e=0;e<256;e++)e<128?t[e]=e<<1:t[e]=e<<1^283;for(var r=[],n=[],i=[[],[],[],[]],s=[[],[],[],[]],a=0,o=0,c=0;c<256;++c){var u=o^o<<1^o<<2^o<<3^o<<4;u=u>>>8^u&255^99,r[a]=u,n[u]=a;var f=t[a],d=t[f],m=t[d],_=t[u]*257^u*16843008;i[0][a]=_<<24|_>>>8,i[1][a]=_<<16|_>>>16,i[2][a]=_<<8|_>>>24,i[3][a]=_,_=m*16843009^d*65537^f*257^a*16843008,s[0][u]=_<<24|_>>>8,s[1][u]=_<<16|_>>>16,s[2][u]=_<<8|_>>>24,s[3][u]=_,a===0?a=o=1:(a=f^t[t[t[m^f]]],o^=t[t[o]])}return{SBOX:r,INV_SBOX:n,SUB_MIX:i,INV_SUB_MIX:s}}();function ua(t){this._key=e7(t),this._reset()}ua.blockSize=4*4;ua.keySize=256/8;ua.prototype.blockSize=ua.blockSize;ua.prototype.keySize=ua.keySize;ua.prototype._reset=function(){for(var t=this._key,e=t.length,r=e+6,n=(r+1)*4,i=[],s=0;s<e;s++)i[s]=t[s];for(s=e;s<n;s++){var a=i[s-1];s%e===0?(a=a<<8|a>>>24,a=Fn.SBOX[a>>>24]<<24|Fn.SBOX[a>>>16&255]<<16|Fn.SBOX[a>>>8&255]<<8|Fn.SBOX[a&255],a^=tAe[s/e|0]<<24):e>6&&s%e===4&&(a=Fn.SBOX[a>>>24]<<24|Fn.SBOX[a>>>16&255]<<16|Fn.SBOX[a>>>8&255]<<8|Fn.SBOX[a&255]),i[s]=i[s-e]^a}for(var o=[],c=0;c<n;c++){var u=n-c,f=i[u-(c%4?0:4)];c<4||u<=4?o[c]=f:o[c]=Fn.INV_SUB_MIX[0][Fn.SBOX[f>>>24]]^Fn.INV_SUB_MIX[1][Fn.SBOX[f>>>16&255]]^Fn.INV_SUB_MIX[2][Fn.SBOX[f>>>8&255]]^Fn.INV_SUB_MIX[3][Fn.SBOX[f&255]]}this._nRounds=r,this._keySchedule=i,this._invKeySchedule=o};ua.prototype.encryptBlockRaw=function(t){return t=e7(t),nW(t,this._keySchedule,Fn.SUB_MIX,Fn.SBOX,this._nRounds)};ua.prototype.encryptBlock=function(t){var e=this.encryptBlockRaw(t),r=E3.allocUnsafe(16);return r.writeUInt32BE(e[0],0),r.writeUInt32BE(e[1],4),r.writeUInt32BE(e[2],8),r.writeUInt32BE(e[3],12),r};ua.prototype.decryptBlock=function(t){t=e7(t);var e=t[1];t[1]=t[3],t[3]=e;var r=nW(t,this._invKeySchedule,Fn.INV_SUB_MIX,Fn.INV_SBOX,this._nRounds),n=E3.allocUnsafe(16);return n.writeUInt32BE(r[0],0),n.writeUInt32BE(r[3],4),n.writeUInt32BE(r[2],8),n.writeUInt32BE(r[1],12),n};ua.prototype.scrub=function(){ZC(this._keySchedule),ZC(this._invKeySchedule),ZC(this._key)};iW.exports.AES=ua});var oW=R((het,aW)=>{l();var p0=Dt().Buffer,rAe=p0.alloc(16,0);function nAe(t){return[t.readUInt32BE(0),t.readUInt32BE(4),t.readUInt32BE(8),t.readUInt32BE(12)]}function sW(t){var e=p0.allocUnsafe(16);return e.writeUInt32BE(t[0]>>>0,0),e.writeUInt32BE(t[1]>>>0,4),e.writeUInt32BE(t[2]>>>0,8),e.writeUInt32BE(t[3]>>>0,12),e}function Z1(t){this.h=t,this.state=p0.alloc(16,0),this.cache=p0.allocUnsafe(0)}Z1.prototype.ghash=function(t){for(var e=-1;++e<t.length;)this.state[e]^=t[e];this._multiply()};Z1.prototype._multiply=function(){for(var t=nAe(this.h),e=[0,0,0,0],r,n,i,s=-1;++s<128;){for(n=(this.state[~~(s/8)]&1<<7-s%8)!==0,n&&(e[0]^=t[0],e[1]^=t[1],e[2]^=t[2],e[3]^=t[3]),i=(t[3]&1)!==0,r=3;r>0;r--)t[r]=t[r]>>>1|(t[r-1]&1)<<31;t[0]=t[0]>>>1,i&&(t[0]=t[0]^225<<24)}this.state=sW(e)};Z1.prototype.update=function(t){this.cache=p0.concat([this.cache,t]);for(var e;this.cache.length>=16;)e=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(e)};Z1.prototype.final=function(t,e){return this.cache.length&&this.ghash(p0.concat([this.cache,rAe],16)),this.ghash(sW([0,t,0,e])),this.state};aW.exports=Z1});var t7=R((get,fW)=>{l();var iAe=X1(),os=Dt().Buffer,cW=Ac(),sAe=Rt(),uW=oW(),aAe=h0(),oAe=QC();function cAe(t,e){var r=0;t.length!==e.length&&r++;for(var n=Math.min(t.length,e.length),i=0;i<n;++i)r+=t[i]^e[i];return r}function uAe(t,e,r){if(e.length===12)return t._finID=os.concat([e,os.from([0,0,0,1])]),os.concat([e,os.from([0,0,0,2])]);var n=new uW(r),i=e.length,s=i%16;n.update(e),s&&(s=16-s,n.update(os.alloc(s,0))),n.update(os.alloc(8,0));var a=i*8,o=os.alloc(8);o.writeUIntBE(a,0,8),n.update(o),t._finID=n.state;var c=os.from(t._finID);return oAe(c),c}function Pl(t,e,r,n){cW.call(this);var i=os.alloc(4,0);this._cipher=new iAe.AES(e);var s=this._cipher.encryptBlock(i);this._ghash=new uW(s),r=uAe(this,r,s),this._prev=os.from(r),this._cache=os.allocUnsafe(0),this._secCache=os.allocUnsafe(0),this._decrypt=n,this._alen=0,this._len=0,this._mode=t,this._authTag=null,this._called=!1}sAe(Pl,cW);Pl.prototype._update=function(t){if(!this._called&&this._alen){var e=16-this._alen%16;e<16&&(e=os.alloc(e,0),this._ghash.update(e))}this._called=!0;var r=this._mode.encrypt(this,t);return this._decrypt?this._ghash.update(t):this._ghash.update(r),this._len+=t.length,r};Pl.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var t=aAe(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&cAe(t,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=t,this._cipher.scrub()};Pl.prototype.getAuthTag=function(){if(this._decrypt||!os.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag};Pl.prototype.setAuthTag=function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e};Pl.prototype.setAAD=function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length};fW.exports=Pl});var n7=R((met,dW)=>{l();var fAe=X1(),r7=Dt().Buffer,lW=Ac(),lAe=Rt();function A3(t,e,r,n){lW.call(this),this._cipher=new fAe.AES(e),this._prev=r7.from(r),this._cache=r7.allocUnsafe(0),this._secCache=r7.allocUnsafe(0),this._decrypt=n,this._mode=t}lAe(A3,lW);A3.prototype._update=function(t){return this._mode.encrypt(this,t,this._decrypt)};A3.prototype._final=function(){this._cipher.scrub()};dW.exports=A3});var ey=R((bet,hW)=>{l();var Rl=Dt().Buffer,dAe=r3();function hAe(t,e,r,n){if(Rl.isBuffer(t)||(t=Rl.from(t,"binary")),e&&(Rl.isBuffer(e)||(e=Rl.from(e,"binary")),e.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var i=r/8,s=Rl.alloc(i),a=Rl.alloc(n||0),o=Rl.alloc(0);i>0||n>0;){var c=new dAe;c.update(o),c.update(t),e&&c.update(e),o=c.digest();var u=0;if(i>0){var f=s.length-i;u=Math.min(i,o.length),o.copy(s,f,0,u),i-=u}if(u<o.length&&n>0){var d=a.length-n,m=Math.min(n,o.length-u);o.copy(a,d,u,u+m),n-=m}}return o.fill(0),{key:s,iv:a}}hW.exports=hAe});var mW=R(i7=>{l();var pW=_3(),pAe=t7(),Tc=Dt().Buffer,gAe=n7(),gW=Ac(),yAe=X1(),mAe=ey(),vAe=Rt();function ty(t,e,r){gW.call(this),this._cache=new S3,this._cipher=new yAe.AES(e),this._prev=Tc.from(r),this._mode=t,this._autopadding=!0}vAe(ty,gW);ty.prototype._update=function(t){this._cache.add(t);for(var e,r,n=[];e=this._cache.get();)r=this._mode.encrypt(this,e),n.push(r);return Tc.concat(n)};var bAe=Tc.alloc(16,16);ty.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return t=this._mode.encrypt(this,t),this._cipher.scrub(),t;if(!t.equals(bAe))throw this._cipher.scrub(),new Error("data not multiple of block length")};ty.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this};function S3(){this.cache=Tc.allocUnsafe(0)}S3.prototype.add=function(t){this.cache=Tc.concat([this.cache,t])};S3.prototype.get=function(){if(this.cache.length>15){var t=this.cache.slice(0,16);return this.cache=this.cache.slice(16),t}return null};S3.prototype.flush=function(){for(var t=16-this.cache.length,e=Tc.allocUnsafe(t),r=-1;++r<t;)e.writeUInt8(t,r);return Tc.concat([this.cache,e])};function yW(t,e,r){var n=pW[t.toLowerCase()];if(!n)throw new TypeError("invalid suite type");if(typeof e=="string"&&(e=Tc.from(e)),e.length!==n.key/8)throw new TypeError("invalid key length "+e.length);if(typeof r=="string"&&(r=Tc.from(r)),n.mode!=="GCM"&&r.length!==n.iv)throw new TypeError("invalid iv length "+r.length);return n.type==="stream"?new gAe(n.module,e,r):n.type==="auth"?new pAe(n.module,e,r):new ty(n.module,e,r)}function wAe(t,e){var r=pW[t.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=mAe(e,!1,r.key,r.iv);return yW(t,n.key,n.iv)}i7.createCipheriv=yW;i7.createCipher=wAe});var _W=R(s7=>{l();var _Ae=t7(),g0=Dt().Buffer,vW=_3(),EAe=n7(),bW=Ac(),AAe=X1(),SAe=ey(),xAe=Rt();function ry(t,e,r){bW.call(this),this._cache=new x3,this._last=void 0,this._cipher=new AAe.AES(e),this._prev=g0.from(r),this._mode=t,this._autopadding=!0}xAe(ry,bW);ry.prototype._update=function(t){this._cache.add(t);for(var e,r,n=[];e=this._cache.get(this._autopadding);)r=this._mode.decrypt(this,e),n.push(r);return g0.concat(n)};ry.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return TAe(this._mode.decrypt(this,t));if(t)throw new Error("data not multiple of block length")};ry.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this};function x3(){this.cache=g0.allocUnsafe(0)}x3.prototype.add=function(t){this.cache=g0.concat([this.cache,t])};x3.prototype.get=function(t){var e;if(t){if(this.cache.length>16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e}else if(this.cache.length>=16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e;return null};x3.prototype.flush=function(){if(this.cache.length)return this.cache};function TAe(t){var e=t[15];if(e<1||e>16)throw new Error("unable to decrypt data");for(var r=-1;++r<e;)if(t[r+(16-e)]!==e)throw new Error("unable to decrypt data");if(e!==16)return t.slice(0,16-e)}function wW(t,e,r){var n=vW[t.toLowerCase()];if(!n)throw new TypeError("invalid suite type");if(typeof r=="string"&&(r=g0.from(r)),n.mode!=="GCM"&&r.length!==n.iv)throw new TypeError("invalid iv length "+r.length);if(typeof e=="string"&&(e=g0.from(e)),e.length!==n.key/8)throw new TypeError("invalid key length "+e.length);return n.type==="stream"?new EAe(n.module,e,r,!0):n.type==="auth"?new _Ae(n.module,e,r,!0):new ry(n.module,e,r)}function IAe(t,e){var r=vW[t.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=SAe(e,!1,r.key,r.iv);return wW(t,n.key,n.iv)}s7.createDecipher=IAe;s7.createDecipheriv=wW});var T3=R(Fa=>{l();var EW=mW(),AW=_W(),CAe=JC();function NAe(){return Object.keys(CAe)}Fa.createCipher=Fa.Cipher=EW.createCipher;Fa.createCipheriv=Fa.Cipheriv=EW.createCipheriv;Fa.createDecipher=Fa.Decipher=AW.createDecipher;Fa.createDecipheriv=Fa.Decipheriv=AW.createDecipheriv;Fa.listCiphers=Fa.getCiphers=NAe});var SW=R(Ic=>{l();Ic["des-ecb"]={key:8,iv:0};Ic["des-cbc"]=Ic.des={key:8,iv:8};Ic["des-ede3-cbc"]=Ic.des3={key:24,iv:8};Ic["des-ede3"]={key:24,iv:0};Ic["des-ede-cbc"]={key:16,iv:8};Ic["des-ede"]={key:16,iv:0}});var NW=R(Ua=>{l();var xW=UK(),a7=T3(),Vu=_3(),Cc=SW(),TW=ey();function OAe(t,e){t=t.toLowerCase();var r,n;if(Vu[t])r=Vu[t].key,n=Vu[t].iv;else if(Cc[t])r=Cc[t].key*8,n=Cc[t].iv;else throw new TypeError("invalid suite type");var i=TW(e,!1,r,n);return IW(t,i.key,i.iv)}function PAe(t,e){t=t.toLowerCase();var r,n;if(Vu[t])r=Vu[t].key,n=Vu[t].iv;else if(Cc[t])r=Cc[t].key*8,n=Cc[t].iv;else throw new TypeError("invalid suite type");var i=TW(e,!1,r,n);return CW(t,i.key,i.iv)}function IW(t,e,r){if(t=t.toLowerCase(),Vu[t])return a7.createCipheriv(t,e,r);if(Cc[t])return new xW({key:e,iv:r,mode:t});throw new TypeError("invalid suite type")}function CW(t,e,r){if(t=t.toLowerCase(),Vu[t])return a7.createDecipheriv(t,e,r);if(Cc[t])return new xW({key:e,iv:r,mode:t,decrypt:!0});throw new TypeError("invalid suite type")}function RAe(){return Object.keys(Cc).concat(a7.getCiphers())}Ua.createCipher=Ua.Cipher=OAe;Ua.createCipheriv=Ua.Cipheriv=IW;Ua.createDecipher=Ua.Decipher=PAe;Ua.createDecipheriv=Ua.Decipheriv=CW;Ua.listCiphers=Ua.getCiphers=RAe});var Nn=R((OW,o7)=>{l();(function(t,e){"use strict";function r(L,v){if(!L)throw new Error(v||"Assertion failed")}function n(L,v){L.super_=v;var E=function(){};E.prototype=v.prototype,L.prototype=new E,L.prototype.constructor=L}function i(L,v,E){if(i.isBN(L))return L;this.negative=0,this.words=null,this.length=0,this.red=null,L!==null&&((v==="le"||v==="be")&&(E=v,v=10),this._init(L||0,v||10,E||"be"))}typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=Qi().Buffer}catch{}i.isBN=function(v){return v instanceof i?!0:v!==null&&typeof v=="object"&&v.constructor.wordSize===i.wordSize&&Array.isArray(v.words)},i.max=function(v,E){return v.cmp(E)>0?v:E},i.min=function(v,E){return v.cmp(E)<0?v:E},i.prototype._init=function(v,E,p){if(typeof v=="number")return this._initNumber(v,E,p);if(typeof v=="object")return this._initArray(v,E,p);E==="hex"&&(E=16),r(E===(E|0)&&E>=2&&E<=36),v=v.toString().replace(/\s+/g,"");var g=0;v[0]==="-"&&(g++,this.negative=1),g<v.length&&(E===16?this._parseHex(v,g,p):(this._parseBase(v,E,g),p==="le"&&this._initArray(this.toArray(),E,p)))},i.prototype._initNumber=function(v,E,p){v<0&&(this.negative=1,v=-v),v<67108864?(this.words=[v&67108863],this.length=1):v<4503599627370496?(this.words=[v&67108863,v/67108864&67108863],this.length=2):(r(v<9007199254740992),this.words=[v&67108863,v/67108864&67108863,1],this.length=3),p==="le"&&this._initArray(this.toArray(),E,p)},i.prototype._initArray=function(v,E,p){if(r(typeof v.length=="number"),v.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(v.length/3),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var b,I,O=0;if(p==="be")for(g=v.length-1,b=0;g>=0;g-=3)I=v[g]|v[g-1]<<8|v[g-2]<<16,this.words[b]|=I<<O&67108863,this.words[b+1]=I>>>26-O&67108863,O+=24,O>=26&&(O-=26,b++);else if(p==="le")for(g=0,b=0;g<v.length;g+=3)I=v[g]|v[g+1]<<8|v[g+2]<<16,this.words[b]|=I<<O&67108863,this.words[b+1]=I>>>26-O&67108863,O+=24,O>=26&&(O-=26,b++);return this.strip()};function a(L,v){var E=L.charCodeAt(v);return E>=65&&E<=70?E-55:E>=97&&E<=102?E-87:E-48&15}function o(L,v,E){var p=a(L,E);return E-1>=v&&(p|=a(L,E-1)<<4),p}i.prototype._parseHex=function(v,E,p){this.length=Math.ceil((v.length-E)/6),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var b=0,I=0,O;if(p==="be")for(g=v.length-1;g>=E;g-=2)O=o(v,E,g)<<b,this.words[I]|=O&67108863,b>=18?(b-=18,I+=1,this.words[I]|=O>>>26):b+=8;else{var N=v.length-E;for(g=N%2===0?E+1:E;g<v.length;g+=2)O=o(v,E,g)<<b,this.words[I]|=O&67108863,b>=18?(b-=18,I+=1,this.words[I]|=O>>>26):b+=8}this.strip()};function c(L,v,E,p){for(var g=0,b=Math.min(L.length,E),I=v;I<b;I++){var O=L.charCodeAt(I)-48;g*=p,O>=49?g+=O-49+10:O>=17?g+=O-17+10:g+=O}return g}i.prototype._parseBase=function(v,E,p){this.words=[0],this.length=1;for(var g=0,b=1;b<=67108863;b*=E)g++;g--,b=b/E|0;for(var I=v.length-p,O=I%g,N=Math.min(I,I-O)+p,w=0,C=p;C<N;C+=g)w=c(v,C,C+g,E),this.imuln(b),this.words[0]+w<67108864?this.words[0]+=w:this._iaddn(w);if(O!==0){var T=1;for(w=c(v,C,v.length,E),C=0;C<O;C++)T*=E;this.imuln(T),this.words[0]+w<67108864?this.words[0]+=w:this._iaddn(w)}this.strip()},i.prototype.copy=function(v){v.words=new Array(this.length);for(var E=0;E<this.length;E++)v.words[E]=this.words[E];v.length=this.length,v.negative=this.negative,v.red=this.red},i.prototype.clone=function(){var v=new i(null);return this.copy(v),v},i.prototype._expand=function(v){for(;this.length<v;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(v,E){v=v||10,E=E|0||1;var p;if(v===16||v==="hex"){p="";for(var g=0,b=0,I=0;I<this.length;I++){var O=this.words[I],N=((O<<g|b)&16777215).toString(16);b=O>>>24-g&16777215,b!==0||I!==this.length-1?p=u[6-N.length]+N+p:p=N+p,g+=2,g>=26&&(g-=26,I--)}for(b!==0&&(p=b.toString(16)+p);p.length%E!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}if(v===(v|0)&&v>=2&&v<=36){var w=f[v],C=d[v];p="";var T=this.clone();for(T.negative=0;!T.isZero();){var F=T.modn(C).toString(v);T=T.idivn(C),T.isZero()?p=F+p:p=u[w-F.length]+F+p}for(this.isZero()&&(p="0"+p);p.length%E!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var v=this.words[0];return this.length===2?v+=this.words[1]*67108864:this.length===3&&this.words[2]===1?v+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-v:v},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(v,E){return r(typeof s<"u"),this.toArrayLike(s,v,E)},i.prototype.toArray=function(v,E){return this.toArrayLike(Array,v,E)},i.prototype.toArrayLike=function(v,E,p){var g=this.byteLength(),b=p||Math.max(1,g);r(g<=b,"byte array longer than desired length"),r(b>0,"Requested array length <= 0"),this.strip();var I=E==="le",O=new v(b),N,w,C=this.clone();if(I){for(w=0;!C.isZero();w++)N=C.andln(255),C.iushrn(8),O[w]=N;for(;w<b;w++)O[w]=0}else{for(w=0;w<b-g;w++)O[w]=0;for(w=0;!C.isZero();w++)N=C.andln(255),C.iushrn(8),O[b-w-1]=N}return O},Math.clz32?i.prototype._countBits=function(v){return 32-Math.clz32(v)}:i.prototype._countBits=function(v){var E=v,p=0;return E>=4096&&(p+=13,E>>>=13),E>=64&&(p+=7,E>>>=7),E>=8&&(p+=4,E>>>=4),E>=2&&(p+=2,E>>>=2),p+E},i.prototype._zeroBits=function(v){if(v===0)return 26;var E=v,p=0;return E&8191||(p+=13,E>>>=13),E&127||(p+=7,E>>>=7),E&15||(p+=4,E>>>=4),E&3||(p+=2,E>>>=2),E&1||p++,p},i.prototype.bitLength=function(){var v=this.words[this.length-1],E=this._countBits(v);return(this.length-1)*26+E};function m(L){for(var v=new Array(L.bitLength()),E=0;E<v.length;E++){var p=E/26|0,g=E%26;v[E]=(L.words[p]&1<<g)>>>g}return v}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var v=0,E=0;E<this.length;E++){var p=this._zeroBits(this.words[E]);if(v+=p,p!==26)break}return v},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(v){return this.negative!==0?this.abs().inotn(v).iaddn(1):this.clone()},i.prototype.fromTwos=function(v){return this.testn(v-1)?this.notn(v).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(v){for(;this.length<v.length;)this.words[this.length++]=0;for(var E=0;E<v.length;E++)this.words[E]=this.words[E]|v.words[E];return this.strip()},i.prototype.ior=function(v){return r((this.negative|v.negative)===0),this.iuor(v)},i.prototype.or=function(v){return this.length>v.length?this.clone().ior(v):v.clone().ior(this)},i.prototype.uor=function(v){return this.length>v.length?this.clone().iuor(v):v.clone().iuor(this)},i.prototype.iuand=function(v){var E;this.length>v.length?E=v:E=this;for(var p=0;p<E.length;p++)this.words[p]=this.words[p]&v.words[p];return this.length=E.length,this.strip()},i.prototype.iand=function(v){return r((this.negative|v.negative)===0),this.iuand(v)},i.prototype.and=function(v){return this.length>v.length?this.clone().iand(v):v.clone().iand(this)},i.prototype.uand=function(v){return this.length>v.length?this.clone().iuand(v):v.clone().iuand(this)},i.prototype.iuxor=function(v){var E,p;this.length>v.length?(E=this,p=v):(E=v,p=this);for(var g=0;g<p.length;g++)this.words[g]=E.words[g]^p.words[g];if(this!==E)for(;g<E.length;g++)this.words[g]=E.words[g];return this.length=E.length,this.strip()},i.prototype.ixor=function(v){return r((this.negative|v.negative)===0),this.iuxor(v)},i.prototype.xor=function(v){return this.length>v.length?this.clone().ixor(v):v.clone().ixor(this)},i.prototype.uxor=function(v){return this.length>v.length?this.clone().iuxor(v):v.clone().iuxor(this)},i.prototype.inotn=function(v){r(typeof v=="number"&&v>=0);var E=Math.ceil(v/26)|0,p=v%26;this._expand(E),p>0&&E--;for(var g=0;g<E;g++)this.words[g]=~this.words[g]&67108863;return p>0&&(this.words[g]=~this.words[g]&67108863>>26-p),this.strip()},i.prototype.notn=function(v){return this.clone().inotn(v)},i.prototype.setn=function(v,E){r(typeof v=="number"&&v>=0);var p=v/26|0,g=v%26;return this._expand(p+1),E?this.words[p]=this.words[p]|1<<g:this.words[p]=this.words[p]&~(1<<g),this.strip()},i.prototype.iadd=function(v){var E;if(this.negative!==0&&v.negative===0)return this.negative=0,E=this.isub(v),this.negative^=1,this._normSign();if(this.negative===0&&v.negative!==0)return v.negative=0,E=this.isub(v),v.negative=1,E._normSign();var p,g;this.length>v.length?(p=this,g=v):(p=v,g=this);for(var b=0,I=0;I<g.length;I++)E=(p.words[I]|0)+(g.words[I]|0)+b,this.words[I]=E&67108863,b=E>>>26;for(;b!==0&&I<p.length;I++)E=(p.words[I]|0)+b,this.words[I]=E&67108863,b=E>>>26;if(this.length=p.length,b!==0)this.words[this.length]=b,this.length++;else if(p!==this)for(;I<p.length;I++)this.words[I]=p.words[I];return this},i.prototype.add=function(v){var E;return v.negative!==0&&this.negative===0?(v.negative=0,E=this.sub(v),v.negative^=1,E):v.negative===0&&this.negative!==0?(this.negative=0,E=v.sub(this),this.negative=1,E):this.length>v.length?this.clone().iadd(v):v.clone().iadd(this)},i.prototype.isub=function(v){if(v.negative!==0){v.negative=0;var E=this.iadd(v);return v.negative=1,E._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(v),this.negative=1,this._normSign();var p=this.cmp(v);if(p===0)return this.negative=0,this.length=1,this.words[0]=0,this;var g,b;p>0?(g=this,b=v):(g=v,b=this);for(var I=0,O=0;O<b.length;O++)E=(g.words[O]|0)-(b.words[O]|0)+I,I=E>>26,this.words[O]=E&67108863;for(;I!==0&&O<g.length;O++)E=(g.words[O]|0)+I,I=E>>26,this.words[O]=E&67108863;if(I===0&&O<g.length&&g!==this)for(;O<g.length;O++)this.words[O]=g.words[O];return this.length=Math.max(this.length,O),g!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(v){return this.clone().isub(v)};function _(L,v,E){E.negative=v.negative^L.negative;var p=L.length+v.length|0;E.length=p,p=p-1|0;var g=L.words[0]|0,b=v.words[0]|0,I=g*b,O=I&67108863,N=I/67108864|0;E.words[0]=O;for(var w=1;w<p;w++){for(var C=N>>>26,T=N&67108863,F=Math.min(w,v.length-1),ee=Math.max(0,w-L.length+1);ee<=F;ee++){var fe=w-ee|0;g=L.words[fe]|0,b=v.words[ee]|0,I=g*b+T,C+=I/67108864|0,T=I&67108863}E.words[w]=T|0,N=C|0}return N!==0?E.words[w]=N|0:E.length--,E.strip()}var x=function(v,E,p){var g=v.words,b=E.words,I=p.words,O=0,N,w,C,T=g[0]|0,F=T&8191,ee=T>>>13,fe=g[1]|0,B=fe&8191,ne=fe>>>13,oe=g[2]|0,de=oe&8191,q=oe>>>13,G=g[3]|0,W=G&8191,te=G>>>13,re=g[4]|0,J=re&8191,ae=re>>>13,ce=g[5]|0,ue=ce&8191,ye=ce>>>13,ge=g[6]|0,ve=ge&8191,Pe=ge>>>13,Be=g[7]|0,Le=Be&8191,lt=Be>>>13,vt=g[8]|0,qe=vt&8191,Ze=vt>>>13,At=g[9]|0,et=At&8191,Ut=At>>>13,jt=b[0]|0,Xe=jt&8191,Pt=jt>>>13,St=b[1]|0,We=St&8191,st=St>>>13,Qt=b[2]|0,bt=Qt&8191,Zt=Qt>>>13,ir=b[3]|0,xt=ir&8191,ur=ir>>>13,Mt=b[4]|0,dt=Mt&8191,$t=Mt>>>13,er=b[5]|0,_t=er&8191,sr=er>>>13,fr=b[6]|0,tt=fr&8191,ar=fr>>>13,M=b[7]|0,V=M&8191,H=M>>>13,S=b[8]|0,z=S&8191,le=S>>>13,he=b[9]|0,me=he&8191,Ae=he>>>13;p.negative=v.negative^E.negative,p.length=19,N=Math.imul(F,Xe),w=Math.imul(F,Pt),w=w+Math.imul(ee,Xe)|0,C=Math.imul(ee,Pt);var Re=(O+N|0)+((w&8191)<<13)|0;O=(C+(w>>>13)|0)+(Re>>>26)|0,Re&=67108863,N=Math.imul(B,Xe),w=Math.imul(B,Pt),w=w+Math.imul(ne,Xe)|0,C=Math.imul(ne,Pt),N=N+Math.imul(F,We)|0,w=w+Math.imul(F,st)|0,w=w+Math.imul(ee,We)|0,C=C+Math.imul(ee,st)|0;var Ne=(O+N|0)+((w&8191)<<13)|0;O=(C+(w>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,N=Math.imul(de,Xe),w=Math.imul(de,Pt),w=w+Math.imul(q,Xe)|0,C=Math.imul(q,Pt),N=N+Math.imul(B,We)|0,w=w+Math.imul(B,st)|0,w=w+Math.imul(ne,We)|0,C=C+Math.imul(ne,st)|0,N=N+Math.imul(F,bt)|0,w=w+Math.imul(F,Zt)|0,w=w+Math.imul(ee,bt)|0,C=C+Math.imul(ee,Zt)|0;var Nt=(O+N|0)+((w&8191)<<13)|0;O=(C+(w>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,N=Math.imul(W,Xe),w=Math.imul(W,Pt),w=w+Math.imul(te,Xe)|0,C=Math.imul(te,Pt),N=N+Math.imul(de,We)|0,w=w+Math.imul(de,st)|0,w=w+Math.imul(q,We)|0,C=C+Math.imul(q,st)|0,N=N+Math.imul(B,bt)|0,w=w+Math.imul(B,Zt)|0,w=w+Math.imul(ne,bt)|0,C=C+Math.imul(ne,Zt)|0,N=N+Math.imul(F,xt)|0,w=w+Math.imul(F,ur)|0,w=w+Math.imul(ee,xt)|0,C=C+Math.imul(ee,ur)|0;var ke=(O+N|0)+((w&8191)<<13)|0;O=(C+(w>>>13)|0)+(ke>>>26)|0,ke&=67108863,N=Math.imul(J,Xe),w=Math.imul(J,Pt),w=w+Math.imul(ae,Xe)|0,C=Math.imul(ae,Pt),N=N+Math.imul(W,We)|0,w=w+Math.imul(W,st)|0,w=w+Math.imul(te,We)|0,C=C+Math.imul(te,st)|0,N=N+Math.imul(de,bt)|0,w=w+Math.imul(de,Zt)|0,w=w+Math.imul(q,bt)|0,C=C+Math.imul(q,Zt)|0,N=N+Math.imul(B,xt)|0,w=w+Math.imul(B,ur)|0,w=w+Math.imul(ne,xt)|0,C=C+Math.imul(ne,ur)|0,N=N+Math.imul(F,dt)|0,w=w+Math.imul(F,$t)|0,w=w+Math.imul(ee,dt)|0,C=C+Math.imul(ee,$t)|0;var rt=(O+N|0)+((w&8191)<<13)|0;O=(C+(w>>>13)|0)+(rt>>>26)|0,rt&=67108863,N=Math.imul(ue,Xe),w=Math.imul(ue,Pt),w=w+Math.imul(ye,Xe)|0,C=Math.imul(ye,Pt),N=N+Math.imul(J,We)|0,w=w+Math.imul(J,st)|0,w=w+Math.imul(ae,We)|0,C=C+Math.imul(ae,st)|0,N=N+Math.imul(W,bt)|0,w=w+Math.imul(W,Zt)|0,w=w+Math.imul(te,bt)|0,C=C+Math.imul(te,Zt)|0,N=N+Math.imul(de,xt)|0,w=w+Math.imul(de,ur)|0,w=w+Math.imul(q,xt)|0,C=C+Math.imul(q,ur)|0,N=N+Math.imul(B,dt)|0,w=w+Math.imul(B,$t)|0,w=w+Math.imul(ne,dt)|0,C=C+Math.imul(ne,$t)|0,N=N+Math.imul(F,_t)|0,w=w+Math.imul(F,sr)|0,w=w+Math.imul(ee,_t)|0,C=C+Math.imul(ee,sr)|0;var it=(O+N|0)+((w&8191)<<13)|0;O=(C+(w>>>13)|0)+(it>>>26)|0,it&=67108863,N=Math.imul(ve,Xe),w=Math.imul(ve,Pt),w=w+Math.imul(Pe,Xe)|0,C=Math.imul(Pe,Pt),N=N+Math.imul(ue,We)|0,w=w+Math.imul(ue,st)|0,w=w+Math.imul(ye,We)|0,C=C+Math.imul(ye,st)|0,N=N+Math.imul(J,bt)|0,w=w+Math.imul(J,Zt)|0,w=w+Math.imul(ae,bt)|0,C=C+Math.imul(ae,Zt)|0,N=N+Math.imul(W,xt)|0,w=w+Math.imul(W,ur)|0,w=w+Math.imul(te,xt)|0,C=C+Math.imul(te,ur)|0,N=N+Math.imul(de,dt)|0,w=w+Math.imul(de,$t)|0,w=w+Math.imul(q,dt)|0,C=C+Math.imul(q,$t)|0,N=N+Math.imul(B,_t)|0,w=w+Math.imul(B,sr)|0,w=w+Math.imul(ne,_t)|0,C=C+Math.imul(ne,sr)|0,N=N+Math.imul(F,tt)|0,w=w+Math.imul(F,ar)|0,w=w+Math.imul(ee,tt)|0,C=C+Math.imul(ee,ar)|0;var ft=(O+N|0)+((w&8191)<<13)|0;O=(C+(w>>>13)|0)+(ft>>>26)|0,ft&=67108863,N=Math.imul(Le,Xe),w=Math.imul(Le,Pt),w=w+Math.imul(lt,Xe)|0,C=Math.imul(lt,Pt),N=N+Math.imul(ve,We)|0,w=w+Math.imul(ve,st)|0,w=w+Math.imul(Pe,We)|0,C=C+Math.imul(Pe,st)|0,N=N+Math.imul(ue,bt)|0,w=w+Math.imul(ue,Zt)|0,w=w+Math.imul(ye,bt)|0,C=C+Math.imul(ye,Zt)|0,N=N+Math.imul(J,xt)|0,w=w+Math.imul(J,ur)|0,w=w+Math.imul(ae,xt)|0,C=C+Math.imul(ae,ur)|0,N=N+Math.imul(W,dt)|0,w=w+Math.imul(W,$t)|0,w=w+Math.imul(te,dt)|0,C=C+Math.imul(te,$t)|0,N=N+Math.imul(de,_t)|0,w=w+Math.imul(de,sr)|0,w=w+Math.imul(q,_t)|0,C=C+Math.imul(q,sr)|0,N=N+Math.imul(B,tt)|0,w=w+Math.imul(B,ar)|0,w=w+Math.imul(ne,tt)|0,C=C+Math.imul(ne,ar)|0,N=N+Math.imul(F,V)|0,w=w+Math.imul(F,H)|0,w=w+Math.imul(ee,V)|0,C=C+Math.imul(ee,H)|0;var ot=(O+N|0)+((w&8191)<<13)|0;O=(C+(w>>>13)|0)+(ot>>>26)|0,ot&=67108863,N=Math.imul(qe,Xe),w=Math.imul(qe,Pt),w=w+Math.imul(Ze,Xe)|0,C=Math.imul(Ze,Pt),N=N+Math.imul(Le,We)|0,w=w+Math.imul(Le,st)|0,w=w+Math.imul(lt,We)|0,C=C+Math.imul(lt,st)|0,N=N+Math.imul(ve,bt)|0,w=w+Math.imul(ve,Zt)|0,w=w+Math.imul(Pe,bt)|0,C=C+Math.imul(Pe,Zt)|0,N=N+Math.imul(ue,xt)|0,w=w+Math.imul(ue,ur)|0,w=w+Math.imul(ye,xt)|0,C=C+Math.imul(ye,ur)|0,N=N+Math.imul(J,dt)|0,w=w+Math.imul(J,$t)|0,w=w+Math.imul(ae,dt)|0,C=C+Math.imul(ae,$t)|0,N=N+Math.imul(W,_t)|0,w=w+Math.imul(W,sr)|0,w=w+Math.imul(te,_t)|0,C=C+Math.imul(te,sr)|0,N=N+Math.imul(de,tt)|0,w=w+Math.imul(de,ar)|0,w=w+Math.imul(q,tt)|0,C=C+Math.imul(q,ar)|0,N=N+Math.imul(B,V)|0,w=w+Math.imul(B,H)|0,w=w+Math.imul(ne,V)|0,C=C+Math.imul(ne,H)|0,N=N+Math.imul(F,z)|0,w=w+Math.imul(F,le)|0,w=w+Math.imul(ee,z)|0,C=C+Math.imul(ee,le)|0;var ht=(O+N|0)+((w&8191)<<13)|0;O=(C+(w>>>13)|0)+(ht>>>26)|0,ht&=67108863,N=Math.imul(et,Xe),w=Math.imul(et,Pt),w=w+Math.imul(Ut,Xe)|0,C=Math.imul(Ut,Pt),N=N+Math.imul(qe,We)|0,w=w+Math.imul(qe,st)|0,w=w+Math.imul(Ze,We)|0,C=C+Math.imul(Ze,st)|0,N=N+Math.imul(Le,bt)|0,w=w+Math.imul(Le,Zt)|0,w=w+Math.imul(lt,bt)|0,C=C+Math.imul(lt,Zt)|0,N=N+Math.imul(ve,xt)|0,w=w+Math.imul(ve,ur)|0,w=w+Math.imul(Pe,xt)|0,C=C+Math.imul(Pe,ur)|0,N=N+Math.imul(ue,dt)|0,w=w+Math.imul(ue,$t)|0,w=w+Math.imul(ye,dt)|0,C=C+Math.imul(ye,$t)|0,N=N+Math.imul(J,_t)|0,w=w+Math.imul(J,sr)|0,w=w+Math.imul(ae,_t)|0,C=C+Math.imul(ae,sr)|0,N=N+Math.imul(W,tt)|0,w=w+Math.imul(W,ar)|0,w=w+Math.imul(te,tt)|0,C=C+Math.imul(te,ar)|0,N=N+Math.imul(de,V)|0,w=w+Math.imul(de,H)|0,w=w+Math.imul(q,V)|0,C=C+Math.imul(q,H)|0,N=N+Math.imul(B,z)|0,w=w+Math.imul(B,le)|0,w=w+Math.imul(ne,z)|0,C=C+Math.imul(ne,le)|0,N=N+Math.imul(F,me)|0,w=w+Math.imul(F,Ae)|0,w=w+Math.imul(ee,me)|0,C=C+Math.imul(ee,Ae)|0;var mt=(O+N|0)+((w&8191)<<13)|0;O=(C+(w>>>13)|0)+(mt>>>26)|0,mt&=67108863,N=Math.imul(et,We),w=Math.imul(et,st),w=w+Math.imul(Ut,We)|0,C=Math.imul(Ut,st),N=N+Math.imul(qe,bt)|0,w=w+Math.imul(qe,Zt)|0,w=w+Math.imul(Ze,bt)|0,C=C+Math.imul(Ze,Zt)|0,N=N+Math.imul(Le,xt)|0,w=w+Math.imul(Le,ur)|0,w=w+Math.imul(lt,xt)|0,C=C+Math.imul(lt,ur)|0,N=N+Math.imul(ve,dt)|0,w=w+Math.imul(ve,$t)|0,w=w+Math.imul(Pe,dt)|0,C=C+Math.imul(Pe,$t)|0,N=N+Math.imul(ue,_t)|0,w=w+Math.imul(ue,sr)|0,w=w+Math.imul(ye,_t)|0,C=C+Math.imul(ye,sr)|0,N=N+Math.imul(J,tt)|0,w=w+Math.imul(J,ar)|0,w=w+Math.imul(ae,tt)|0,C=C+Math.imul(ae,ar)|0,N=N+Math.imul(W,V)|0,w=w+Math.imul(W,H)|0,w=w+Math.imul(te,V)|0,C=C+Math.imul(te,H)|0,N=N+Math.imul(de,z)|0,w=w+Math.imul(de,le)|0,w=w+Math.imul(q,z)|0,C=C+Math.imul(q,le)|0,N=N+Math.imul(B,me)|0,w=w+Math.imul(B,Ae)|0,w=w+Math.imul(ne,me)|0,C=C+Math.imul(ne,Ae)|0;var pt=(O+N|0)+((w&8191)<<13)|0;O=(C+(w>>>13)|0)+(pt>>>26)|0,pt&=67108863,N=Math.imul(et,bt),w=Math.imul(et,Zt),w=w+Math.imul(Ut,bt)|0,C=Math.imul(Ut,Zt),N=N+Math.imul(qe,xt)|0,w=w+Math.imul(qe,ur)|0,w=w+Math.imul(Ze,xt)|0,C=C+Math.imul(Ze,ur)|0,N=N+Math.imul(Le,dt)|0,w=w+Math.imul(Le,$t)|0,w=w+Math.imul(lt,dt)|0,C=C+Math.imul(lt,$t)|0,N=N+Math.imul(ve,_t)|0,w=w+Math.imul(ve,sr)|0,w=w+Math.imul(Pe,_t)|0,C=C+Math.imul(Pe,sr)|0,N=N+Math.imul(ue,tt)|0,w=w+Math.imul(ue,ar)|0,w=w+Math.imul(ye,tt)|0,C=C+Math.imul(ye,ar)|0,N=N+Math.imul(J,V)|0,w=w+Math.imul(J,H)|0,w=w+Math.imul(ae,V)|0,C=C+Math.imul(ae,H)|0,N=N+Math.imul(W,z)|0,w=w+Math.imul(W,le)|0,w=w+Math.imul(te,z)|0,C=C+Math.imul(te,le)|0,N=N+Math.imul(de,me)|0,w=w+Math.imul(de,Ae)|0,w=w+Math.imul(q,me)|0,C=C+Math.imul(q,Ae)|0;var Ge=(O+N|0)+((w&8191)<<13)|0;O=(C+(w>>>13)|0)+(Ge>>>26)|0,Ge&=67108863,N=Math.imul(et,xt),w=Math.imul(et,ur),w=w+Math.imul(Ut,xt)|0,C=Math.imul(Ut,ur),N=N+Math.imul(qe,dt)|0,w=w+Math.imul(qe,$t)|0,w=w+Math.imul(Ze,dt)|0,C=C+Math.imul(Ze,$t)|0,N=N+Math.imul(Le,_t)|0,w=w+Math.imul(Le,sr)|0,w=w+Math.imul(lt,_t)|0,C=C+Math.imul(lt,sr)|0,N=N+Math.imul(ve,tt)|0,w=w+Math.imul(ve,ar)|0,w=w+Math.imul(Pe,tt)|0,C=C+Math.imul(Pe,ar)|0,N=N+Math.imul(ue,V)|0,w=w+Math.imul(ue,H)|0,w=w+Math.imul(ye,V)|0,C=C+Math.imul(ye,H)|0,N=N+Math.imul(J,z)|0,w=w+Math.imul(J,le)|0,w=w+Math.imul(ae,z)|0,C=C+Math.imul(ae,le)|0,N=N+Math.imul(W,me)|0,w=w+Math.imul(W,Ae)|0,w=w+Math.imul(te,me)|0,C=C+Math.imul(te,Ae)|0;var $e=(O+N|0)+((w&8191)<<13)|0;O=(C+(w>>>13)|0)+($e>>>26)|0,$e&=67108863,N=Math.imul(et,dt),w=Math.imul(et,$t),w=w+Math.imul(Ut,dt)|0,C=Math.imul(Ut,$t),N=N+Math.imul(qe,_t)|0,w=w+Math.imul(qe,sr)|0,w=w+Math.imul(Ze,_t)|0,C=C+Math.imul(Ze,sr)|0,N=N+Math.imul(Le,tt)|0,w=w+Math.imul(Le,ar)|0,w=w+Math.imul(lt,tt)|0,C=C+Math.imul(lt,ar)|0,N=N+Math.imul(ve,V)|0,w=w+Math.imul(ve,H)|0,w=w+Math.imul(Pe,V)|0,C=C+Math.imul(Pe,H)|0,N=N+Math.imul(ue,z)|0,w=w+Math.imul(ue,le)|0,w=w+Math.imul(ye,z)|0,C=C+Math.imul(ye,le)|0,N=N+Math.imul(J,me)|0,w=w+Math.imul(J,Ae)|0,w=w+Math.imul(ae,me)|0,C=C+Math.imul(ae,Ae)|0;var Ve=(O+N|0)+((w&8191)<<13)|0;O=(C+(w>>>13)|0)+(Ve>>>26)|0,Ve&=67108863,N=Math.imul(et,_t),w=Math.imul(et,sr),w=w+Math.imul(Ut,_t)|0,C=Math.imul(Ut,sr),N=N+Math.imul(qe,tt)|0,w=w+Math.imul(qe,ar)|0,w=w+Math.imul(Ze,tt)|0,C=C+Math.imul(Ze,ar)|0,N=N+Math.imul(Le,V)|0,w=w+Math.imul(Le,H)|0,w=w+Math.imul(lt,V)|0,C=C+Math.imul(lt,H)|0,N=N+Math.imul(ve,z)|0,w=w+Math.imul(ve,le)|0,w=w+Math.imul(Pe,z)|0,C=C+Math.imul(Pe,le)|0,N=N+Math.imul(ue,me)|0,w=w+Math.imul(ue,Ae)|0,w=w+Math.imul(ye,me)|0,C=C+Math.imul(ye,Ae)|0;var ze=(O+N|0)+((w&8191)<<13)|0;O=(C+(w>>>13)|0)+(ze>>>26)|0,ze&=67108863,N=Math.imul(et,tt),w=Math.imul(et,ar),w=w+Math.imul(Ut,tt)|0,C=Math.imul(Ut,ar),N=N+Math.imul(qe,V)|0,w=w+Math.imul(qe,H)|0,w=w+Math.imul(Ze,V)|0,C=C+Math.imul(Ze,H)|0,N=N+Math.imul(Le,z)|0,w=w+Math.imul(Le,le)|0,w=w+Math.imul(lt,z)|0,C=C+Math.imul(lt,le)|0,N=N+Math.imul(ve,me)|0,w=w+Math.imul(ve,Ae)|0,w=w+Math.imul(Pe,me)|0,C=C+Math.imul(Pe,Ae)|0;var Ke=(O+N|0)+((w&8191)<<13)|0;O=(C+(w>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,N=Math.imul(et,V),w=Math.imul(et,H),w=w+Math.imul(Ut,V)|0,C=Math.imul(Ut,H),N=N+Math.imul(qe,z)|0,w=w+Math.imul(qe,le)|0,w=w+Math.imul(Ze,z)|0,C=C+Math.imul(Ze,le)|0,N=N+Math.imul(Le,me)|0,w=w+Math.imul(Le,Ae)|0,w=w+Math.imul(lt,me)|0,C=C+Math.imul(lt,Ae)|0;var Ue=(O+N|0)+((w&8191)<<13)|0;O=(C+(w>>>13)|0)+(Ue>>>26)|0,Ue&=67108863,N=Math.imul(et,z),w=Math.imul(et,le),w=w+Math.imul(Ut,z)|0,C=Math.imul(Ut,le),N=N+Math.imul(qe,me)|0,w=w+Math.imul(qe,Ae)|0,w=w+Math.imul(Ze,me)|0,C=C+Math.imul(Ze,Ae)|0;var we=(O+N|0)+((w&8191)<<13)|0;O=(C+(w>>>13)|0)+(we>>>26)|0,we&=67108863,N=Math.imul(et,me),w=Math.imul(et,Ae),w=w+Math.imul(Ut,me)|0,C=Math.imul(Ut,Ae);var _e=(O+N|0)+((w&8191)<<13)|0;return O=(C+(w>>>13)|0)+(_e>>>26)|0,_e&=67108863,I[0]=Re,I[1]=Ne,I[2]=Nt,I[3]=ke,I[4]=rt,I[5]=it,I[6]=ft,I[7]=ot,I[8]=ht,I[9]=mt,I[10]=pt,I[11]=Ge,I[12]=$e,I[13]=Ve,I[14]=ze,I[15]=Ke,I[16]=Ue,I[17]=we,I[18]=_e,O!==0&&(I[19]=O,p.length++),p};Math.imul||(x=_);function P(L,v,E){E.negative=v.negative^L.negative,E.length=L.length+v.length;for(var p=0,g=0,b=0;b<E.length-1;b++){var I=g;g=0;for(var O=p&67108863,N=Math.min(b,v.length-1),w=Math.max(0,b-L.length+1);w<=N;w++){var C=b-w,T=L.words[C]|0,F=v.words[w]|0,ee=T*F,fe=ee&67108863;I=I+(ee/67108864|0)|0,fe=fe+O|0,O=fe&67108863,I=I+(fe>>>26)|0,g+=I>>>26,I&=67108863}E.words[b]=O,p=I,I=g}return p!==0?E.words[b]=p:E.length--,E.strip()}function D(L,v,E){var p=new k;return p.mulp(L,v,E)}i.prototype.mulTo=function(v,E){var p,g=this.length+v.length;return this.length===10&&v.length===10?p=x(this,v,E):g<63?p=_(this,v,E):g<1024?p=P(this,v,E):p=D(this,v,E),p};function k(L,v){this.x=L,this.y=v}k.prototype.makeRBT=function(v){for(var E=new Array(v),p=i.prototype._countBits(v)-1,g=0;g<v;g++)E[g]=this.revBin(g,p,v);return E},k.prototype.revBin=function(v,E,p){if(v===0||v===p-1)return v;for(var g=0,b=0;b<E;b++)g|=(v&1)<<E-b-1,v>>=1;return g},k.prototype.permute=function(v,E,p,g,b,I){for(var O=0;O<I;O++)g[O]=E[v[O]],b[O]=p[v[O]]},k.prototype.transform=function(v,E,p,g,b,I){this.permute(I,v,E,p,g,b);for(var O=1;O<b;O<<=1)for(var N=O<<1,w=Math.cos(2*Math.PI/N),C=Math.sin(2*Math.PI/N),T=0;T<b;T+=N)for(var F=w,ee=C,fe=0;fe<O;fe++){var B=p[T+fe],ne=g[T+fe],oe=p[T+fe+O],de=g[T+fe+O],q=F*oe-ee*de;de=F*de+ee*oe,oe=q,p[T+fe]=B+oe,g[T+fe]=ne+de,p[T+fe+O]=B-oe,g[T+fe+O]=ne-de,fe!==N&&(q=w*F-C*ee,ee=w*ee+C*F,F=q)}},k.prototype.guessLen13b=function(v,E){var p=Math.max(E,v)|1,g=p&1,b=0;for(p=p/2|0;p;p=p>>>1)b++;return 1<<b+1+g},k.prototype.conjugate=function(v,E,p){if(!(p<=1))for(var g=0;g<p/2;g++){var b=v[g];v[g]=v[p-g-1],v[p-g-1]=b,b=E[g],E[g]=-E[p-g-1],E[p-g-1]=-b}},k.prototype.normalize13b=function(v,E){for(var p=0,g=0;g<E/2;g++){var b=Math.round(v[2*g+1]/E)*8192+Math.round(v[2*g]/E)+p;v[g]=b&67108863,b<67108864?p=0:p=b/67108864|0}return v},k.prototype.convert13b=function(v,E,p,g){for(var b=0,I=0;I<E;I++)b=b+(v[I]|0),p[2*I]=b&8191,b=b>>>13,p[2*I+1]=b&8191,b=b>>>13;for(I=2*E;I<g;++I)p[I]=0;r(b===0),r((b&-8192)===0)},k.prototype.stub=function(v){for(var E=new Array(v),p=0;p<v;p++)E[p]=0;return E},k.prototype.mulp=function(v,E,p){var g=2*this.guessLen13b(v.length,E.length),b=this.makeRBT(g),I=this.stub(g),O=new Array(g),N=new Array(g),w=new Array(g),C=new Array(g),T=new Array(g),F=new Array(g),ee=p.words;ee.length=g,this.convert13b(v.words,v.length,O,g),this.convert13b(E.words,E.length,C,g),this.transform(O,I,N,w,g,b),this.transform(C,I,T,F,g,b);for(var fe=0;fe<g;fe++){var B=N[fe]*T[fe]-w[fe]*F[fe];w[fe]=N[fe]*F[fe]+w[fe]*T[fe],N[fe]=B}return this.conjugate(N,w,g),this.transform(N,w,ee,I,g,b),this.conjugate(ee,I,g),this.normalize13b(ee,g),p.negative=v.negative^E.negative,p.length=v.length+E.length,p.strip()},i.prototype.mul=function(v){var E=new i(null);return E.words=new Array(this.length+v.length),this.mulTo(v,E)},i.prototype.mulf=function(v){var E=new i(null);return E.words=new Array(this.length+v.length),D(this,v,E)},i.prototype.imul=function(v){return this.clone().mulTo(v,this)},i.prototype.imuln=function(v){r(typeof v=="number"),r(v<67108864);for(var E=0,p=0;p<this.length;p++){var g=(this.words[p]|0)*v,b=(g&67108863)+(E&67108863);E>>=26,E+=g/67108864|0,E+=b>>>26,this.words[p]=b&67108863}return E!==0&&(this.words[p]=E,this.length++),this},i.prototype.muln=function(v){return this.clone().imuln(v)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(v){var E=m(v);if(E.length===0)return new i(1);for(var p=this,g=0;g<E.length&&E[g]===0;g++,p=p.sqr());if(++g<E.length)for(var b=p.sqr();g<E.length;g++,b=b.sqr())E[g]!==0&&(p=p.mul(b));return p},i.prototype.iushln=function(v){r(typeof v=="number"&&v>=0);var E=v%26,p=(v-E)/26,g=67108863>>>26-E<<26-E,b;if(E!==0){var I=0;for(b=0;b<this.length;b++){var O=this.words[b]&g,N=(this.words[b]|0)-O<<E;this.words[b]=N|I,I=O>>>26-E}I&&(this.words[b]=I,this.length++)}if(p!==0){for(b=this.length-1;b>=0;b--)this.words[b+p]=this.words[b];for(b=0;b<p;b++)this.words[b]=0;this.length+=p}return this.strip()},i.prototype.ishln=function(v){return r(this.negative===0),this.iushln(v)},i.prototype.iushrn=function(v,E,p){r(typeof v=="number"&&v>=0);var g;E?g=(E-E%26)/26:g=0;var b=v%26,I=Math.min((v-b)/26,this.length),O=67108863^67108863>>>b<<b,N=p;if(g-=I,g=Math.max(0,g),N){for(var w=0;w<I;w++)N.words[w]=this.words[w];N.length=I}if(I!==0)if(this.length>I)for(this.length-=I,w=0;w<this.length;w++)this.words[w]=this.words[w+I];else this.words[0]=0,this.length=1;var C=0;for(w=this.length-1;w>=0&&(C!==0||w>=g);w--){var T=this.words[w]|0;this.words[w]=C<<26-b|T>>>b,C=T&O}return N&&C!==0&&(N.words[N.length++]=C),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(v,E,p){return r(this.negative===0),this.iushrn(v,E,p)},i.prototype.shln=function(v){return this.clone().ishln(v)},i.prototype.ushln=function(v){return this.clone().iushln(v)},i.prototype.shrn=function(v){return this.clone().ishrn(v)},i.prototype.ushrn=function(v){return this.clone().iushrn(v)},i.prototype.testn=function(v){r(typeof v=="number"&&v>=0);var E=v%26,p=(v-E)/26,g=1<<E;if(this.length<=p)return!1;var b=this.words[p];return!!(b&g)},i.prototype.imaskn=function(v){r(typeof v=="number"&&v>=0);var E=v%26,p=(v-E)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=p)return this;if(E!==0&&p++,this.length=Math.min(p,this.length),E!==0){var g=67108863^67108863>>>E<<E;this.words[this.length-1]&=g}return this.strip()},i.prototype.maskn=function(v){return this.clone().imaskn(v)},i.prototype.iaddn=function(v){return r(typeof v=="number"),r(v<67108864),v<0?this.isubn(-v):this.negative!==0?this.length===1&&(this.words[0]|0)<v?(this.words[0]=v-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(v),this.negative=1,this):this._iaddn(v)},i.prototype._iaddn=function(v){this.words[0]+=v;for(var E=0;E<this.length&&this.words[E]>=67108864;E++)this.words[E]-=67108864,E===this.length-1?this.words[E+1]=1:this.words[E+1]++;return this.length=Math.max(this.length,E+1),this},i.prototype.isubn=function(v){if(r(typeof v=="number"),r(v<67108864),v<0)return this.iaddn(-v);if(this.negative!==0)return this.negative=0,this.iaddn(v),this.negative=1,this;if(this.words[0]-=v,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var E=0;E<this.length&&this.words[E]<0;E++)this.words[E]+=67108864,this.words[E+1]-=1;return this.strip()},i.prototype.addn=function(v){return this.clone().iaddn(v)},i.prototype.subn=function(v){return this.clone().isubn(v)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(v,E,p){var g=v.length+p,b;this._expand(g);var I,O=0;for(b=0;b<v.length;b++){I=(this.words[b+p]|0)+O;var N=(v.words[b]|0)*E;I-=N&67108863,O=(I>>26)-(N/67108864|0),this.words[b+p]=I&67108863}for(;b<this.length-p;b++)I=(this.words[b+p]|0)+O,O=I>>26,this.words[b+p]=I&67108863;if(O===0)return this.strip();for(r(O===-1),O=0,b=0;b<this.length;b++)I=-(this.words[b]|0)+O,O=I>>26,this.words[b]=I&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(v,E){var p=this.length-v.length,g=this.clone(),b=v,I=b.words[b.length-1]|0,O=this._countBits(I);p=26-O,p!==0&&(b=b.ushln(p),g.iushln(p),I=b.words[b.length-1]|0);var N=g.length-b.length,w;if(E!=="mod"){w=new i(null),w.length=N+1,w.words=new Array(w.length);for(var C=0;C<w.length;C++)w.words[C]=0}var T=g.clone()._ishlnsubmul(b,1,N);T.negative===0&&(g=T,w&&(w.words[N]=1));for(var F=N-1;F>=0;F--){var ee=(g.words[b.length+F]|0)*67108864+(g.words[b.length+F-1]|0);for(ee=Math.min(ee/I|0,67108863),g._ishlnsubmul(b,ee,F);g.negative!==0;)ee--,g.negative=0,g._ishlnsubmul(b,1,F),g.isZero()||(g.negative^=1);w&&(w.words[F]=ee)}return w&&w.strip(),g.strip(),E!=="div"&&p!==0&&g.iushrn(p),{div:w||null,mod:g}},i.prototype.divmod=function(v,E,p){if(r(!v.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var g,b,I;return this.negative!==0&&v.negative===0?(I=this.neg().divmod(v,E),E!=="mod"&&(g=I.div.neg()),E!=="div"&&(b=I.mod.neg(),p&&b.negative!==0&&b.iadd(v)),{div:g,mod:b}):this.negative===0&&v.negative!==0?(I=this.divmod(v.neg(),E),E!=="mod"&&(g=I.div.neg()),{div:g,mod:I.mod}):this.negative&v.negative?(I=this.neg().divmod(v.neg(),E),E!=="div"&&(b=I.mod.neg(),p&&b.negative!==0&&b.isub(v)),{div:I.div,mod:b}):v.length>this.length||this.cmp(v)<0?{div:new i(0),mod:this}:v.length===1?E==="div"?{div:this.divn(v.words[0]),mod:null}:E==="mod"?{div:null,mod:new i(this.modn(v.words[0]))}:{div:this.divn(v.words[0]),mod:new i(this.modn(v.words[0]))}:this._wordDiv(v,E)},i.prototype.div=function(v){return this.divmod(v,"div",!1).div},i.prototype.mod=function(v){return this.divmod(v,"mod",!1).mod},i.prototype.umod=function(v){return this.divmod(v,"mod",!0).mod},i.prototype.divRound=function(v){var E=this.divmod(v);if(E.mod.isZero())return E.div;var p=E.div.negative!==0?E.mod.isub(v):E.mod,g=v.ushrn(1),b=v.andln(1),I=p.cmp(g);return I<0||b===1&&I===0?E.div:E.div.negative!==0?E.div.isubn(1):E.div.iaddn(1)},i.prototype.modn=function(v){r(v<=67108863);for(var E=(1<<26)%v,p=0,g=this.length-1;g>=0;g--)p=(E*p+(this.words[g]|0))%v;return p},i.prototype.idivn=function(v){r(v<=67108863);for(var E=0,p=this.length-1;p>=0;p--){var g=(this.words[p]|0)+E*67108864;this.words[p]=g/v|0,E=g%v}return this.strip()},i.prototype.divn=function(v){return this.clone().idivn(v)},i.prototype.egcd=function(v){r(v.negative===0),r(!v.isZero());var E=this,p=v.clone();E.negative!==0?E=E.umod(v):E=E.clone();for(var g=new i(1),b=new i(0),I=new i(0),O=new i(1),N=0;E.isEven()&&p.isEven();)E.iushrn(1),p.iushrn(1),++N;for(var w=p.clone(),C=E.clone();!E.isZero();){for(var T=0,F=1;!(E.words[0]&F)&&T<26;++T,F<<=1);if(T>0)for(E.iushrn(T);T-- >0;)(g.isOdd()||b.isOdd())&&(g.iadd(w),b.isub(C)),g.iushrn(1),b.iushrn(1);for(var ee=0,fe=1;!(p.words[0]&fe)&&ee<26;++ee,fe<<=1);if(ee>0)for(p.iushrn(ee);ee-- >0;)(I.isOdd()||O.isOdd())&&(I.iadd(w),O.isub(C)),I.iushrn(1),O.iushrn(1);E.cmp(p)>=0?(E.isub(p),g.isub(I),b.isub(O)):(p.isub(E),I.isub(g),O.isub(b))}return{a:I,b:O,gcd:p.iushln(N)}},i.prototype._invmp=function(v){r(v.negative===0),r(!v.isZero());var E=this,p=v.clone();E.negative!==0?E=E.umod(v):E=E.clone();for(var g=new i(1),b=new i(0),I=p.clone();E.cmpn(1)>0&&p.cmpn(1)>0;){for(var O=0,N=1;!(E.words[0]&N)&&O<26;++O,N<<=1);if(O>0)for(E.iushrn(O);O-- >0;)g.isOdd()&&g.iadd(I),g.iushrn(1);for(var w=0,C=1;!(p.words[0]&C)&&w<26;++w,C<<=1);if(w>0)for(p.iushrn(w);w-- >0;)b.isOdd()&&b.iadd(I),b.iushrn(1);E.cmp(p)>=0?(E.isub(p),g.isub(b)):(p.isub(E),b.isub(g))}var T;return E.cmpn(1)===0?T=g:T=b,T.cmpn(0)<0&&T.iadd(v),T},i.prototype.gcd=function(v){if(this.isZero())return v.abs();if(v.isZero())return this.abs();var E=this.clone(),p=v.clone();E.negative=0,p.negative=0;for(var g=0;E.isEven()&&p.isEven();g++)E.iushrn(1),p.iushrn(1);do{for(;E.isEven();)E.iushrn(1);for(;p.isEven();)p.iushrn(1);var b=E.cmp(p);if(b<0){var I=E;E=p,p=I}else if(b===0||p.cmpn(1)===0)break;E.isub(p)}while(!0);return p.iushln(g)},i.prototype.invm=function(v){return this.egcd(v).a.umod(v)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(v){return this.words[0]&v},i.prototype.bincn=function(v){r(typeof v=="number");var E=v%26,p=(v-E)/26,g=1<<E;if(this.length<=p)return this._expand(p+1),this.words[p]|=g,this;for(var b=g,I=p;b!==0&&I<this.length;I++){var O=this.words[I]|0;O+=b,b=O>>>26,O&=67108863,this.words[I]=O}return b!==0&&(this.words[I]=b,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(v){var E=v<0;if(this.negative!==0&&!E)return-1;if(this.negative===0&&E)return 1;this.strip();var p;if(this.length>1)p=1;else{E&&(v=-v),r(v<=67108863,"Number is too big");var g=this.words[0]|0;p=g===v?0:g<v?-1:1}return this.negative!==0?-p|0:p},i.prototype.cmp=function(v){if(this.negative!==0&&v.negative===0)return-1;if(this.negative===0&&v.negative!==0)return 1;var E=this.ucmp(v);return this.negative!==0?-E|0:E},i.prototype.ucmp=function(v){if(this.length>v.length)return 1;if(this.length<v.length)return-1;for(var E=0,p=this.length-1;p>=0;p--){var g=this.words[p]|0,b=v.words[p]|0;if(g!==b){g<b?E=-1:g>b&&(E=1);break}}return E},i.prototype.gtn=function(v){return this.cmpn(v)===1},i.prototype.gt=function(v){return this.cmp(v)===1},i.prototype.gten=function(v){return this.cmpn(v)>=0},i.prototype.gte=function(v){return this.cmp(v)>=0},i.prototype.ltn=function(v){return this.cmpn(v)===-1},i.prototype.lt=function(v){return this.cmp(v)===-1},i.prototype.lten=function(v){return this.cmpn(v)<=0},i.prototype.lte=function(v){return this.cmp(v)<=0},i.prototype.eqn=function(v){return this.cmpn(v)===0},i.prototype.eq=function(v){return this.cmp(v)===0},i.red=function(v){return new K(v)},i.prototype.toRed=function(v){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),v.convertTo(this)._forceRed(v)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(v){return this.red=v,this},i.prototype.forceRed=function(v){return r(!this.red,"Already a number in reduction context"),this._forceRed(v)},i.prototype.redAdd=function(v){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,v)},i.prototype.redIAdd=function(v){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,v)},i.prototype.redSub=function(v){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,v)},i.prototype.redISub=function(v){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,v)},i.prototype.redShl=function(v){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,v)},i.prototype.redMul=function(v){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,v),this.red.mul(this,v)},i.prototype.redIMul=function(v){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,v),this.red.imul(this,v)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(v){return r(this.red&&!v.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,v)};var Y={k256:null,p224:null,p192:null,p25519:null};function X(L,v){this.name=L,this.p=new i(v,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}X.prototype._tmp=function(){var v=new i(null);return v.words=new Array(Math.ceil(this.n/13)),v},X.prototype.ireduce=function(v){var E=v,p;do this.split(E,this.tmp),E=this.imulK(E),E=E.iadd(this.tmp),p=E.bitLength();while(p>this.n);var g=p<this.n?-1:E.ucmp(this.p);return g===0?(E.words[0]=0,E.length=1):g>0?E.isub(this.p):E.strip!==void 0?E.strip():E._strip(),E},X.prototype.split=function(v,E){v.iushrn(this.n,0,E)},X.prototype.imulK=function(v){return v.imul(this.k)};function Z(){X.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(Z,X),Z.prototype.split=function(v,E){for(var p=4194303,g=Math.min(v.length,9),b=0;b<g;b++)E.words[b]=v.words[b];if(E.length=g,v.length<=9){v.words[0]=0,v.length=1;return}var I=v.words[9];for(E.words[E.length++]=I&p,b=10;b<v.length;b++){var O=v.words[b]|0;v.words[b-10]=(O&p)<<4|I>>>22,I=O}I>>>=22,v.words[b-10]=I,I===0&&v.length>10?v.length-=10:v.length-=9},Z.prototype.imulK=function(v){v.words[v.length]=0,v.words[v.length+1]=0,v.length+=2;for(var E=0,p=0;p<v.length;p++){var g=v.words[p]|0;E+=g*977,v.words[p]=E&67108863,E=g*64+(E/67108864|0)}return v.words[v.length-1]===0&&(v.length--,v.words[v.length-1]===0&&v.length--),v};function U(){X.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(U,X);function Q(){X.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(Q,X);function j(){X.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(j,X),j.prototype.imulK=function(v){for(var E=0,p=0;p<v.length;p++){var g=(v.words[p]|0)*19+E,b=g&67108863;g>>>=26,v.words[p]=b,E=g}return E!==0&&(v.words[v.length++]=E),v},i._prime=function(v){if(Y[v])return Y[v];var E;if(v==="k256")E=new Z;else if(v==="p224")E=new U;else if(v==="p192")E=new Q;else if(v==="p25519")E=new j;else throw new Error("Unknown prime "+v);return Y[v]=E,E};function K(L){if(typeof L=="string"){var v=i._prime(L);this.m=v.p,this.prime=v}else r(L.gtn(1),"modulus must be greater than 1"),this.m=L,this.prime=null}K.prototype._verify1=function(v){r(v.negative===0,"red works only with positives"),r(v.red,"red works only with red numbers")},K.prototype._verify2=function(v,E){r((v.negative|E.negative)===0,"red works only with positives"),r(v.red&&v.red===E.red,"red works only with red numbers")},K.prototype.imod=function(v){return this.prime?this.prime.ireduce(v)._forceRed(this):v.umod(this.m)._forceRed(this)},K.prototype.neg=function(v){return v.isZero()?v.clone():this.m.sub(v)._forceRed(this)},K.prototype.add=function(v,E){this._verify2(v,E);var p=v.add(E);return p.cmp(this.m)>=0&&p.isub(this.m),p._forceRed(this)},K.prototype.iadd=function(v,E){this._verify2(v,E);var p=v.iadd(E);return p.cmp(this.m)>=0&&p.isub(this.m),p},K.prototype.sub=function(v,E){this._verify2(v,E);var p=v.sub(E);return p.cmpn(0)<0&&p.iadd(this.m),p._forceRed(this)},K.prototype.isub=function(v,E){this._verify2(v,E);var p=v.isub(E);return p.cmpn(0)<0&&p.iadd(this.m),p},K.prototype.shl=function(v,E){return this._verify1(v),this.imod(v.ushln(E))},K.prototype.imul=function(v,E){return this._verify2(v,E),this.imod(v.imul(E))},K.prototype.mul=function(v,E){return this._verify2(v,E),this.imod(v.mul(E))},K.prototype.isqr=function(v){return this.imul(v,v.clone())},K.prototype.sqr=function(v){return this.mul(v,v)},K.prototype.sqrt=function(v){if(v.isZero())return v.clone();var E=this.m.andln(3);if(r(E%2===1),E===3){var p=this.m.add(new i(1)).iushrn(2);return this.pow(v,p)}for(var g=this.m.subn(1),b=0;!g.isZero()&&g.andln(1)===0;)b++,g.iushrn(1);r(!g.isZero());var I=new i(1).toRed(this),O=I.redNeg(),N=this.m.subn(1).iushrn(1),w=this.m.bitLength();for(w=new i(2*w*w).toRed(this);this.pow(w,N).cmp(O)!==0;)w.redIAdd(O);for(var C=this.pow(w,g),T=this.pow(v,g.addn(1).iushrn(1)),F=this.pow(v,g),ee=b;F.cmp(I)!==0;){for(var fe=F,B=0;fe.cmp(I)!==0;B++)fe=fe.redSqr();r(B<ee);var ne=this.pow(C,new i(1).iushln(ee-B-1));T=T.redMul(ne),C=ne.redSqr(),F=F.redMul(C),ee=B}return T},K.prototype.invm=function(v){var E=v._invmp(this.m);return E.negative!==0?(E.negative=0,this.imod(E).redNeg()):this.imod(E)},K.prototype.pow=function(v,E){if(E.isZero())return new i(1).toRed(this);if(E.cmpn(1)===0)return v.clone();var p=4,g=new Array(1<<p);g[0]=new i(1).toRed(this),g[1]=v;for(var b=2;b<g.length;b++)g[b]=this.mul(g[b-1],v);var I=g[0],O=0,N=0,w=E.bitLength()%26;for(w===0&&(w=26),b=E.length-1;b>=0;b--){for(var C=E.words[b],T=w-1;T>=0;T--){var F=C>>T&1;if(I!==g[0]&&(I=this.sqr(I)),F===0&&O===0){N=0;continue}O<<=1,O|=F,N++,!(N!==p&&(b!==0||T!==0))&&(I=this.mul(I,g[O]),N=0,O=0)}w=26}return I},K.prototype.convertTo=function(v){var E=v.umod(this.m);return E===v?E.clone():E},K.prototype.convertFrom=function(v){var E=v.clone();return E.red=null,E},i.mont=function(v){return new $(v)};function $(L){K.call(this,L),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n($,K),$.prototype.convertTo=function(v){return this.imod(v.ushln(this.shift))},$.prototype.convertFrom=function(v){var E=this.imod(v.mul(this.rinv));return E.red=null,E},$.prototype.imul=function(v,E){if(v.isZero()||E.isZero())return v.words[0]=0,v.length=1,v;var p=v.imul(E),g=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),b=p.isub(g).iushrn(this.shift),I=b;return b.cmp(this.m)>=0?I=b.isub(this.m):b.cmpn(0)<0&&(I=b.iadd(this.m)),I._forceRed(this)},$.prototype.mul=function(v,E){if(v.isZero()||E.isZero())return new i(0)._forceRed(this);var p=v.mul(E),g=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),b=p.isub(g).iushrn(this.shift),I=b;return b.cmp(this.m)>=0?I=b.isub(this.m):b.cmpn(0)<0&&(I=b.iadd(this.m)),I._forceRed(this)},$.prototype.invm=function(v){var E=this.imod(v._invmp(this.m).mul(this.r2));return E._forceRed(this)}})(typeof o7>"u"||o7,OW)});var I3=R((Det,f7)=>{l();var c7;f7.exports=function(e){return c7||(c7=new Hu(null)),c7.generate(e)};function Hu(t){this.rand=t}f7.exports.Rand=Hu;Hu.prototype.generate=function(e){return this._rand(e)};Hu.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var r=new Uint8Array(e),n=0;n<r.length;n++)r[n]=this.rand.getByte();return r};if(typeof self=="object")self.crypto&&self.crypto.getRandomValues?Hu.prototype._rand=function(e){var r=new Uint8Array(e);return self.crypto.getRandomValues(r),r}:self.msCrypto&&self.msCrypto.getRandomValues?Hu.prototype._rand=function(e){var r=new Uint8Array(e);return self.msCrypto.getRandomValues(r),r}:typeof window=="object"&&(Hu.prototype._rand=function(){throw new Error("Not implemented yet")});else try{if(u7=cs(),typeof u7.randomBytes!="function")throw new Error("Not supported");Hu.prototype._rand=function(e){return u7.randomBytes(e)}}catch{}var u7});var l7=R((Bet,PW)=>{l();var Dl=Nn(),DAe=I3();function Ml(t){this.rand=t||new DAe.Rand}PW.exports=Ml;Ml.create=function(e){return new Ml(e)};Ml.prototype._randbelow=function(e){var r=e.bitLength(),n=Math.ceil(r/8);do var i=new Dl(this.rand.generate(n));while(i.cmp(e)>=0);return i};Ml.prototype._randrange=function(e,r){var n=r.sub(e);return e.add(this._randbelow(n))};Ml.prototype.test=function(e,r,n){var i=e.bitLength(),s=Dl.mont(e),a=new Dl(1).toRed(s);r||(r=Math.max(1,i/48|0));for(var o=e.subn(1),c=0;!o.testn(c);c++);for(var u=e.shrn(c),f=o.toRed(s),d=!0;r>0;r--){var m=this._randrange(new Dl(2),o);n&&n(m);var _=m.toRed(s).redPow(u);if(!(_.cmp(a)===0||_.cmp(f)===0)){for(var x=1;x<c;x++){if(_=_.redSqr(),_.cmp(a)===0)return!1;if(_.cmp(f)===0)break}if(x===c)return!1}}return d};Ml.prototype.getDivisor=function(e,r){var n=e.bitLength(),i=Dl.mont(e),s=new Dl(1).toRed(i);r||(r=Math.max(1,n/48|0));for(var a=e.subn(1),o=0;!a.testn(o);o++);for(var c=e.shrn(o),u=a.toRed(i);r>0;r--){var f=this._randrange(new Dl(2),a),d=e.gcd(f);if(d.cmpn(1)!==0)return d;var m=f.toRed(i).redPow(c);if(!(m.cmp(s)===0||m.cmp(u)===0)){for(var _=1;_<o;_++){if(m=m.redSqr(),m.cmp(s)===0)return m.fromRed().subn(1).gcd(e);if(m.cmp(u)===0)break}if(_===o)return m=m.redSqr(),m.fromRed().subn(1).gcd(e)}}return!1}});var m7=R((Vet,MW)=>{l();var MAe=Tl();MW.exports=y7;y7.simpleSieve=p7;y7.fermatTest=g7;var ci=Nn(),BAe=new ci(24),LAe=l7(),RW=new LAe,qAe=new ci(1),h7=new ci(2),FAe=new ci(5),qet=new ci(16),Fet=new ci(8),UAe=new ci(10),kAe=new ci(3),Uet=new ci(7),VAe=new ci(11),DW=new ci(4),ket=new ci(12),d7=null;function HAe(){if(d7!==null)return d7;var t=1048576,e=[];e[0]=2;for(var r=1,n=3;n<t;n+=2){for(var i=Math.ceil(Math.sqrt(n)),s=0;s<r&&e[s]<=i&&n%e[s]!==0;s++);r!==s&&e[s]<=i||(e[r++]=n)}return d7=e,e}function p7(t){for(var e=HAe(),r=0;r<e.length;r++)if(t.modn(e[r])===0)return t.cmpn(e[r])===0;return!0}function g7(t){var e=ci.mont(t);return h7.toRed(e).redPow(t.subn(1)).fromRed().cmpn(1)===0}function y7(t,e){if(t<16)return e===2||e===5?new ci([140,123]):new ci([140,39]);e=new ci(e);for(var r,n;;){for(r=new ci(MAe(Math.ceil(t/8)));r.bitLength()>t;)r.ishrn(1);if(r.isEven()&&r.iadd(qAe),r.testn(1)||r.iadd(h7),e.cmp(h7)){if(!e.cmp(FAe))for(;r.mod(UAe).cmp(kAe);)r.iadd(DW)}else for(;r.mod(BAe).cmp(VAe);)r.iadd(DW);if(n=r.shrn(1),p7(n)&&p7(r)&&g7(n)&&g7(r)&&RW.test(n)&&RW.test(r))return r}}});var BW=R((Get,GAe)=>{GAe.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}});var UW=R((jet,FW)=>{l();var fa=Nn(),jAe=l7(),LW=new jAe,zAe=new fa(24),KAe=new fa(11),WAe=new fa(10),QAe=new fa(3),$Ae=new fa(7),qW=m7(),YAe=Tl();FW.exports=Nc;function JAe(t,e){return e=e||"utf8",y.Buffer.isBuffer(t)||(t=new y.Buffer(t,e)),this._pub=new fa(t),this}function XAe(t,e){return e=e||"utf8",y.Buffer.isBuffer(t)||(t=new y.Buffer(t,e)),this._priv=new fa(t),this}var C3={};function ZAe(t,e){var r=e.toString("hex"),n=[r,t.toString(16)].join("_");if(n in C3)return C3[n];var i=0;if(t.isEven()||!qW.simpleSieve||!qW.fermatTest(t)||!LW.test(t))return i+=1,r==="02"||r==="05"?i+=8:i+=4,C3[n]=i,i;LW.test(t.shrn(1))||(i+=2);var s;switch(r){case"02":t.mod(zAe).cmp(KAe)&&(i+=8);break;case"05":s=t.mod(WAe),s.cmp(QAe)&&s.cmp($Ae)&&(i+=8);break;default:i+=4}return C3[n]=i,i}function Nc(t,e,r){this.setGenerator(e),this.__prime=new fa(t),this._prime=fa.mont(this.__prime),this._primeLen=t.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,r?(this.setPublicKey=JAe,this.setPrivateKey=XAe):this._primeCode=8}Object.defineProperty(Nc.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=ZAe(this.__prime,this.__gen)),this._primeCode}});Nc.prototype.generateKeys=function(){return this._priv||(this._priv=new fa(YAe(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()};Nc.prototype.computeSecret=function(t){t=new fa(t),t=t.toRed(this._prime);var e=t.redPow(this._priv).fromRed(),r=new y.Buffer(e.toArray()),n=this.getPrime();if(r.length<n.length){var i=new y.Buffer(n.length-r.length);i.fill(0),r=y.Buffer.concat([i,r])}return r};Nc.prototype.getPublicKey=function(e){return N3(this._pub,e)};Nc.prototype.getPrivateKey=function(e){return N3(this._priv,e)};Nc.prototype.getPrime=function(t){return N3(this.__prime,t)};Nc.prototype.getGenerator=function(t){return N3(this._gen,t)};Nc.prototype.setGenerator=function(t,e){return e=e||"utf8",y.Buffer.isBuffer(t)||(t=new y.Buffer(t,e)),this.__gen=t,this._gen=new fa(t),this};function N3(t,e){var r=new y.Buffer(t.toArray());return e?r.toString(e):r}});var HW=R(y0=>{l();var eSe=m7(),kW=BW(),v7=UW();function tSe(t){var e=new y.Buffer(kW[t].prime,"hex"),r=new y.Buffer(kW[t].gen,"hex");return new v7(e,r)}var rSe={binary:!0,hex:!0,base64:!0};function VW(t,e,r,n){return y.Buffer.isBuffer(e)||rSe[e]===void 0?VW(t,"binary",e,r):(e=e||"binary",n=n||"binary",r=r||new y.Buffer([2]),y.Buffer.isBuffer(r)||(r=new y.Buffer(r,n)),typeof t=="number"?new v7(eSe(t,r),r,!0):(y.Buffer.isBuffer(t)||(t=new y.Buffer(t,e)),new v7(t,r,!0)))}y0.DiffieHellmanGroup=y0.createDiffieHellmanGroup=y0.getDiffieHellman=tSe;y0.createDiffieHellman=y0.DiffieHellman=VW});var ny=R((Qet,b7)=>{"use strict";l();typeof A.default>"u"||!A.default.version||A.default.version.indexOf("v0.")===0||A.default.version.indexOf("v1.")===0&&A.default.version.indexOf("v1.8.")!==0?b7.exports={nextTick:nSe}:b7.exports=A.default;function nSe(t,e,r,n){if(typeof t!="function")throw new TypeError('"callback" argument must be a function');var i=arguments.length,s,a;switch(i){case 0:case 1:return A.default.nextTick(t);case 2:return A.default.nextTick(function(){t.call(null,e)});case 3:return A.default.nextTick(function(){t.call(null,e,r)});case 4:return A.default.nextTick(function(){t.call(null,e,r,n)});default:for(s=new Array(i-1),a=0;a<s.length;)s[a++]=arguments[a];return A.default.nextTick(function(){t.apply(null,s)})}}});var jW=R((Yet,GW)=>{l();var iSe={}.toString;GW.exports=Array.isArray||function(t){return iSe.call(t)=="[object Array]"}});var w7=R((Xet,zW)=>{l();zW.exports=Us().EventEmitter});var m0=R(Si=>{l();function sSe(t){return Array.isArray?Array.isArray(t):O3(t)==="[object Array]"}Si.isArray=sSe;function aSe(t){return typeof t=="boolean"}Si.isBoolean=aSe;function oSe(t){return t===null}Si.isNull=oSe;function cSe(t){return t==null}Si.isNullOrUndefined=cSe;function uSe(t){return typeof t=="number"}Si.isNumber=uSe;function fSe(t){return typeof t=="string"}Si.isString=fSe;function lSe(t){return typeof t=="symbol"}Si.isSymbol=lSe;function dSe(t){return t===void 0}Si.isUndefined=dSe;function hSe(t){return O3(t)==="[object RegExp]"}Si.isRegExp=hSe;function pSe(t){return typeof t=="object"&&t!==null}Si.isObject=pSe;function gSe(t){return O3(t)==="[object Date]"}Si.isDate=gSe;function ySe(t){return O3(t)==="[object Error]"||t instanceof Error}Si.isError=ySe;function mSe(t){return typeof t=="function"}Si.isFunction=mSe;function vSe(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||typeof t>"u"}Si.isPrimitive=vSe;Si.isBuffer=Qi().Buffer.isBuffer;function O3(t){return Object.prototype.toString.call(t)}});var WW=R((rtt,_7)=>{"use strict";l();function bSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var KW=Dt().Buffer,iy=yg();function wSe(t,e,r){t.copy(e,r)}_7.exports=function(){function t(){bSe(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length},t.prototype.unshift=function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length},t.prototype.shift=function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i},t.prototype.concat=function(r){if(this.length===0)return KW.alloc(0);for(var n=KW.allocUnsafe(r>>>0),i=this.head,s=0;i;)wSe(i.data,n,s),s+=i.data.length,i=i.next;return n},t}();iy&&iy.inspect&&iy.inspect.custom&&(_7.exports.prototype[iy.inspect.custom]=function(){var t=iy.inspect({length:this.length});return this.constructor.name+" "+t})});var E7=R((itt,QW)=>{"use strict";l();var P3=ny();function _Se(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,P3.nextTick(R3,this,t)):P3.nextTick(R3,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?r._writableState?r._writableState.errorEmitted||(r._writableState.errorEmitted=!0,P3.nextTick(R3,r,s)):P3.nextTick(R3,r,s):e&&e(s)}),this)}function ESe(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function R3(t,e){t.emit("error",e)}QW.exports={destroy:_Se,undestroy:ESe}});var S7=R((att,rQ)=>{"use strict";l();var Bl=ny();rQ.exports=Un;function YW(t){var e=this;this.next=null,this.entry=null,this.finish=function(){kSe(e,t)}}var ASe=!A.default.browser&&["v0.10","v0.9."].indexOf(A.default.version.slice(0,5))>-1?setImmediate:Bl.nextTick,v0;Un.WritableState=ay;var JW=Object.create(m0());JW.inherits=Rt();var SSe={deprecate:V4()},XW=w7(),M3=Dt().Buffer,xSe=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function TSe(t){return M3.from(t)}function ISe(t){return M3.isBuffer(t)||t instanceof xSe}var ZW=E7();JW.inherits(Un,XW);function CSe(){}function ay(t,e){v0=v0||Ll(),t=t||{};var r=e instanceof v0;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var n=t.highWaterMark,i=t.writableHighWaterMark,s=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=s,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=t.decodeStrings===!1;this.decodeStrings=!a,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(o){BSe(e,o)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new YW(this)}ay.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(ay.prototype,"buffer",{get:SSe.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var D3;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(D3=Function.prototype[Symbol.hasInstance],Object.defineProperty(Un,Symbol.hasInstance,{value:function(t){return D3.call(this,t)?!0:this!==Un?!1:t&&t._writableState instanceof ay}})):D3=function(t){return t instanceof this};function Un(t){if(v0=v0||Ll(),!D3.call(Un,this)&&!(this instanceof v0))return new Un(t);this._writableState=new ay(t,this),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),XW.call(this)}Un.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function NSe(t,e){var r=new Error("write after end");t.emit("error",r),Bl.nextTick(e,r)}function OSe(t,e,r,n){var i=!0,s=!1;return r===null?s=new TypeError("May not write null values to stream"):typeof r!="string"&&r!==void 0&&!e.objectMode&&(s=new TypeError("Invalid non-string/buffer chunk")),s&&(t.emit("error",s),Bl.nextTick(n,s),i=!1),i}Un.prototype.write=function(t,e,r){var n=this._writableState,i=!1,s=!n.objectMode&&ISe(t);return s&&!M3.isBuffer(t)&&(t=TSe(t)),typeof e=="function"&&(r=e,e=null),s?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=CSe),n.ended?NSe(this,r):(s||OSe(this,n,t,r))&&(n.pendingcb++,i=RSe(this,n,s,t,e,r)),i};Un.prototype.cork=function(){var t=this._writableState;t.corked++};Un.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&eQ(this,t))};Un.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this};function PSe(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=M3.from(e,r)),e}Object.defineProperty(Un.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function RSe(t,e,r,n,i,s){if(!r){var a=PSe(e,n,i);n!==a&&(r=!0,i="buffer",n=a)}var o=e.objectMode?1:n.length;e.length+=o;var c=e.length<e.highWaterMark;if(c||(e.needDrain=!0),e.writing||e.corked){var u=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},u?u.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else A7(t,e,!1,o,n,i,s);return c}function A7(t,e,r,n,i,s,a){e.writelen=n,e.writecb=a,e.writing=!0,e.sync=!0,r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}function DSe(t,e,r,n,i){--e.pendingcb,r?(Bl.nextTick(i,n),Bl.nextTick(sy,t,e),t._writableState.errorEmitted=!0,t.emit("error",n)):(i(n),t._writableState.errorEmitted=!0,t.emit("error",n),sy(t,e))}function MSe(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function BSe(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(MSe(r),e)DSe(t,r,n,e,i);else{var s=tQ(r);!s&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&eQ(t,r),n?ASe($W,t,r,s,i):$W(t,r,s,i)}}function $W(t,e,r,n){r||LSe(t,e),e.pendingcb--,n(),sy(t,e)}function LSe(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function eQ(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),s=e.corkedRequestsFree;s.entry=r;for(var a=0,o=!0;r;)i[a]=r,r.isBuf||(o=!1),r=r.next,a+=1;i.allBuffers=o,A7(t,e,!0,e.length,i,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new YW(e),e.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,u=r.encoding,f=r.callback,d=e.objectMode?1:c.length;if(A7(t,e,!1,d,c,u,f),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}Un.prototype._write=function(t,e,r){r(new Error("_write() is not implemented"))};Un.prototype._writev=null;Un.prototype.end=function(t,e,r){var n=this._writableState;typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||USe(this,n,r)};function tQ(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function qSe(t,e){t._final(function(r){e.pendingcb--,r&&t.emit("error",r),e.prefinished=!0,t.emit("prefinish"),sy(t,e)})}function FSe(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"?(e.pendingcb++,e.finalCalled=!0,Bl.nextTick(qSe,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function sy(t,e){var r=tQ(e);return r&&(FSe(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"))),r}function USe(t,e,r){e.ending=!0,sy(t,e),r&&(e.finished?Bl.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function kSe(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree.next=t}Object.defineProperty(Un.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}});Un.prototype.destroy=ZW.destroy;Un.prototype._undestroy=ZW.undestroy;Un.prototype._destroy=function(t,e){this.end(),e(t)}});var Ll=R((ctt,aQ)=>{"use strict";l();var nQ=ny(),VSe=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};aQ.exports=Oc;var iQ=Object.create(m0());iQ.inherits=Rt();var sQ=I7(),T7=S7();iQ.inherits(Oc,sQ);for(x7=VSe(T7.prototype),B3=0;B3<x7.length;B3++)L3=x7[B3],Oc.prototype[L3]||(Oc.prototype[L3]=T7.prototype[L3]);var x7,L3,B3;function Oc(t){if(!(this instanceof Oc))return new Oc(t);sQ.call(this,t),T7.call(this,t),t&&t.readable===!1&&(this.readable=!1),t&&t.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,t&&t.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",HSe)}Object.defineProperty(Oc.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function HSe(){this.allowHalfOpen||this._writableState.ended||nQ.nextTick(GSe,this)}function GSe(t){t.end()}Object.defineProperty(Oc.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(t){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=t,this._writableState.destroyed=t)}});Oc.prototype._destroy=function(t,e){this.push(null),this.end(),nQ.nextTick(e,t)}});var O7=R(cQ=>{"use strict";l();var N7=Dt().Buffer,oQ=N7.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function jSe(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function zSe(t){var e=jSe(t);if(typeof e!="string"&&(N7.isEncoding===oQ||!oQ(t)))throw new Error("Unknown encoding: "+t);return e||t}cQ.StringDecoder=oy;function oy(t){this.encoding=zSe(t);var e;switch(this.encoding){case"utf16le":this.text=JSe,this.end=XSe,e=4;break;case"utf8":this.fillLast=QSe,e=4;break;case"base64":this.text=ZSe,this.end=e8e,e=3;break;default:this.write=t8e,this.end=r8e;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=N7.allocUnsafe(e)}oy.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};oy.prototype.end=YSe;oy.prototype.text=$Se;oy.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function C7(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function KSe(t,e,r){var n=e.length-1;if(n<r)return 0;var i=C7(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=C7(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=C7(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function WSe(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function QSe(t){var e=this.lastTotal-this.lastNeed,r=WSe(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function $Se(t,e){var r=KSe(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function YSe(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function JSe(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function XSe(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function ZSe(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function e8e(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function t8e(t){return t.toString(this.encoding)}function r8e(t){return t&&t.length?this.write(t):""}});var I7=R((htt,wQ)=>{"use strict";l();var w0=ny();wQ.exports=en;var n8e=jW(),cy;en.ReadableState=gQ;var dtt=Us().EventEmitter,dQ=function(t,e){return t.listeners(e).length},B7=w7(),uy=Dt().Buffer,i8e=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function s8e(t){return uy.from(t)}function a8e(t){return uy.isBuffer(t)||t instanceof i8e}var hQ=Object.create(m0());hQ.inherits=Rt();var P7=yg(),Or=void 0;P7&&P7.debuglog?Or=P7.debuglog("stream"):Or=function(){};var o8e=WW(),pQ=E7(),b0;hQ.inherits(en,B7);var R7=["error","close","destroy","pause","resume"];function c8e(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):n8e(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function gQ(t,e){cy=cy||Ll(),t=t||{};var r=e instanceof cy;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var n=t.highWaterMark,i=t.readableHighWaterMark,s=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new o8e,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(b0||(b0=O7().StringDecoder),this.decoder=new b0(t.encoding),this.encoding=t.encoding)}function en(t){if(cy=cy||Ll(),!(this instanceof en))return new en(t);this._readableState=new gQ(t,this),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),B7.call(this)}Object.defineProperty(en.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}});en.prototype.destroy=pQ.destroy;en.prototype._undestroy=pQ.undestroy;en.prototype._destroy=function(t,e){this.push(null),e(t)};en.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=uy.from(t,e),e=""),n=!0),yQ(this,t,e,!1,n)};en.prototype.unshift=function(t){return yQ(this,t,null,!0,!1)};function yQ(t,e,r,n,i){var s=t._readableState;if(e===null)s.reading=!1,d8e(t,s);else{var a;i||(a=u8e(s,e)),a?t.emit("error",a):s.objectMode||e&&e.length>0?(typeof e!="string"&&!s.objectMode&&Object.getPrototypeOf(e)!==uy.prototype&&(e=s8e(e)),n?s.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):D7(t,s,e,!0):s.ended?t.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!r?(e=s.decoder.write(e),s.objectMode||e.length!==0?D7(t,s,e,!1):mQ(t,s)):D7(t,s,e,!1))):n||(s.reading=!1)}return f8e(s)}function D7(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(t.emit("data",r),t.read(0)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&q3(t)),mQ(t,e)}function u8e(t,e){var r;return!a8e(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new TypeError("Invalid non-string/buffer chunk")),r}function f8e(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||t.length===0)}en.prototype.isPaused=function(){return this._readableState.flowing===!1};en.prototype.setEncoding=function(t){return b0||(b0=O7().StringDecoder),this._readableState.decoder=new b0(t),this._readableState.encoding=t,this};var uQ=8388608;function l8e(t){return t>=uQ?t=uQ:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function fQ(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=l8e(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}en.prototype.read=function(t){Or("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return Or("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?M7(this):q3(this),null;if(t=fQ(t,e),t===0&&e.ended)return e.length===0&&M7(this),null;var n=e.needReadable;Or("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,Or("length less than watermark",n)),e.ended||e.reading?(n=!1,Or("reading or ended",n)):n&&(Or("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=fQ(r,e)));var i;return t>0?i=vQ(t,e):i=null,i===null?(e.needReadable=!0,t=0):e.length-=t,e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&M7(this)),i!==null&&this.emit("data",i),i};function d8e(t,e){if(!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,q3(t)}}function q3(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(Or("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?w0.nextTick(lQ,t):lQ(t))}function lQ(t){Or("emit readable"),t.emit("readable"),L7(t)}function mQ(t,e){e.readingMore||(e.readingMore=!0,w0.nextTick(h8e,t,e))}function h8e(t,e){for(var r=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(Or("maybeReadMore read 0"),t.read(0),r!==e.length);)r=e.length;e.readingMore=!1}en.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))};en.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,Or("pipe count=%d opts=%j",n.pipesCount,e);var i=(!e||e.end!==!1)&&t!==A.default.stdout&&t!==A.default.stderr,s=i?o:D;n.endEmitted?w0.nextTick(s):r.once("end",s),t.on("unpipe",a);function a(k,Y){Or("onunpipe"),k===r&&Y&&Y.hasUnpiped===!1&&(Y.hasUnpiped=!0,f())}function o(){Or("onend"),t.end()}var c=p8e(r);t.on("drain",c);var u=!1;function f(){Or("cleanup"),t.removeListener("close",x),t.removeListener("finish",P),t.removeListener("drain",c),t.removeListener("error",_),t.removeListener("unpipe",a),r.removeListener("end",o),r.removeListener("end",D),r.removeListener("data",m),u=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&c()}var d=!1;r.on("data",m);function m(k){Or("ondata"),d=!1;var Y=t.write(k);Y===!1&&!d&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&bQ(n.pipes,t)!==-1)&&!u&&(Or("false write response, pause",n.awaitDrain),n.awaitDrain++,d=!0),r.pause())}function _(k){Or("onerror",k),D(),t.removeListener("error",_),dQ(t,"error")===0&&t.emit("error",k)}c8e(t,"error",_);function x(){t.removeListener("finish",P),D()}t.once("close",x);function P(){Or("onfinish"),t.removeListener("close",x),D()}t.once("finish",P);function D(){Or("unpipe"),r.unpipe(t)}return t.emit("pipe",r),n.flowing||(Or("pipe resume"),r.resume()),t};function p8e(t){return function(){var e=t._readableState;Or("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,e.awaitDrain===0&&dQ(t,"data")&&(e.flowing=!0,L7(t))}}en.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,{hasUnpiped:!1});return this}var a=bQ(e.pipes,t);return a===-1?this:(e.pipes.splice(a,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};en.prototype.on=function(t,e){var r=B7.prototype.on.call(this,t,e);if(t==="data")this._readableState.flowing!==!1&&this.resume();else if(t==="readable"){var n=this._readableState;!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&q3(this):w0.nextTick(g8e,this))}return r};en.prototype.addListener=en.prototype.on;function g8e(t){Or("readable nexttick read 0"),t.read(0)}en.prototype.resume=function(){var t=this._readableState;return t.flowing||(Or("resume"),t.flowing=!0,y8e(this,t)),this};function y8e(t,e){e.resumeScheduled||(e.resumeScheduled=!0,w0.nextTick(m8e,t,e))}function m8e(t,e){e.reading||(Or("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),L7(t),e.flowing&&!e.reading&&t.read(0)}en.prototype.pause=function(){return Or("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Or("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function L7(t){var e=t._readableState;for(Or("flow",e.flowing);e.flowing&&t.read()!==null;);}en.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(Or("wrapped end"),r.decoder&&!r.ended){var a=r.decoder.end();a&&a.length&&e.push(a)}e.push(null)}),t.on("data",function(a){if(Or("wrapped data"),r.decoder&&(a=r.decoder.write(a)),!(r.objectMode&&a==null)&&!(!r.objectMode&&(!a||!a.length))){var o=e.push(a);o||(n=!0,t.pause())}});for(var i in t)this[i]===void 0&&typeof t[i]=="function"&&(this[i]=function(a){return function(){return t[a].apply(t,arguments)}}(i));for(var s=0;s<R7.length;s++)t.on(R7[s],this.emit.bind(this,R7[s]));return this._read=function(a){Or("wrapped _read",a),n&&(n=!1,t.resume())},this};Object.defineProperty(en.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});en._fromList=vQ;function vQ(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.head.data:r=e.buffer.concat(e.length),e.buffer.clear()):r=v8e(t,e.buffer,e.decoder),r}function v8e(t,e,r){var n;return t<e.head.data.length?(n=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):t===e.head.data.length?n=e.shift():n=r?b8e(t,e):w8e(t,e),n}function b8e(t,e){var r=e.head,n=1,i=r.data;for(t-=i.length;r=r.next;){var s=r.data,a=t>s.length?s.length:t;if(a===s.length?i+=s:i+=s.slice(0,t),t-=a,t===0){a===s.length?(++n,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=s.slice(a));break}++n}return e.length-=n,i}function w8e(t,e){var r=uy.allocUnsafe(t),n=e.head,i=1;for(n.data.copy(r),t-=n.data.length;n=n.next;){var s=n.data,a=t>s.length?s.length:t;if(s.copy(r,r.length-t,0,a),t-=a,t===0){a===s.length?(++i,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=s.slice(a));break}++i}return e.length-=i,r}function M7(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,w0.nextTick(_8e,e,t))}function _8e(t,e){!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function bQ(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}});var q7=R((gtt,AQ)=>{"use strict";l();AQ.exports=Pc;var F3=Ll(),EQ=Object.create(m0());EQ.inherits=Rt();EQ.inherits(Pc,F3);function E8e(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Pc(t){if(!(this instanceof Pc))return new Pc(t);F3.call(this,t),this._transformState={afterTransform:E8e.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",A8e)}function A8e(){var t=this;typeof this._flush=="function"?this._flush(function(e,r){_Q(t,e,r)}):_Q(this,null,null)}Pc.prototype.push=function(t,e){return this._transformState.needTransform=!1,F3.prototype.push.call(this,t,e)};Pc.prototype._transform=function(t,e,r){throw new Error("_transform() is not implemented")};Pc.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};Pc.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};Pc.prototype._destroy=function(t,e){var r=this;F3.prototype._destroy.call(this,t,function(n){e(n),r.emit("close")})};function _Q(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}});var IQ=R((mtt,TQ)=>{"use strict";l();TQ.exports=fy;var SQ=q7(),xQ=Object.create(m0());xQ.inherits=Rt();xQ.inherits(fy,SQ);function fy(t){if(!(this instanceof fy))return new fy(t);SQ.call(this,t)}fy.prototype._transform=function(t,e,r){r(null,t)}});var NQ=R((Do,CQ)=>{l();Do=CQ.exports=I7();Do.Stream=Do;Do.Readable=Do;Do.Writable=S7();Do.Duplex=Ll();Do.Transform=q7();Do.PassThrough=IQ()});var U3=R((wtt,RQ)=>{"use strict";l();var _0=Nn(),S8e=Tl(),x8e=Dt().Buffer;function OQ(t){var e=t.modulus.byteLength(),r;do r=new _0(S8e(e));while(r.cmp(t.modulus)>=0||!r.umod(t.prime1)||!r.umod(t.prime2));return r}function T8e(t){var e=OQ(t),r=e.toRed(_0.mont(t.modulus)).redPow(new _0(t.publicExponent)).fromRed();return{blinder:r,unblinder:e.invm(t.modulus)}}function PQ(t,e){var r=T8e(e),n=e.modulus.byteLength(),i=new _0(t).mul(r.blinder).umod(e.modulus),s=i.toRed(_0.mont(e.prime1)),a=i.toRed(_0.mont(e.prime2)),o=e.coefficient,c=e.prime1,u=e.prime2,f=s.redPow(e.exponent1).fromRed(),d=a.redPow(e.exponent2).fromRed(),m=f.isub(d).imul(o).umod(c).imul(u);return d.iadd(m).imul(r.unblinder).umod(e.modulus).toArrayLike(x8e,"be",n)}PQ.getr=OQ;RQ.exports=PQ});var DQ=R((Ett,I8e)=>{I8e.exports={name:"elliptic",version:"6.5.7",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}});var F7=R(LQ=>{"use strict";l();var k3=LQ;function C8e(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t!="string"){for(var n=0;n<t.length;n++)r[n]=t[n]|0;return r}if(e==="hex"){t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t);for(var n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16))}else for(var n=0;n<t.length;n++){var i=t.charCodeAt(n),s=i>>8,a=i&255;s?r.push(s,a):r.push(a)}return r}k3.toArray=C8e;function MQ(t){return t.length===1?"0"+t:t}k3.zero2=MQ;function BQ(t){for(var e="",r=0;r<t.length;r++)e+=MQ(t[r].toString(16));return e}k3.toHex=BQ;k3.encode=function(e,r){return r==="hex"?BQ(e):e}});var Is=R(qQ=>{"use strict";l();var ka=qQ,N8e=Nn(),O8e=Ts(),V3=F7();ka.assert=O8e;ka.toArray=V3.toArray;ka.zero2=V3.zero2;ka.toHex=V3.toHex;ka.encode=V3.encode;function P8e(t,e,r){var n=new Array(Math.max(t.bitLength(),r)+1),i;for(i=0;i<n.length;i+=1)n[i]=0;var s=1<<e+1,a=t.clone();for(i=0;i<n.length;i++){var o,c=a.andln(s-1);a.isOdd()?(c>(s>>1)-1?o=(s>>1)-c:o=c,a.isubn(o)):o=0,n[i]=o,a.iushrn(1)}return n}ka.getNAF=P8e;function R8e(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var n=0,i=0,s;t.cmpn(-n)>0||e.cmpn(-i)>0;){var a=t.andln(3)+n&3,o=e.andln(3)+i&3;a===3&&(a=-1),o===3&&(o=-1);var c;a&1?(s=t.andln(7)+n&7,(s===3||s===5)&&o===2?c=-a:c=a):c=0,r[0].push(c);var u;o&1?(s=e.andln(7)+i&7,(s===3||s===5)&&a===2?u=-o:u=o):u=0,r[1].push(u),2*n===c+1&&(n=1-n),2*i===u+1&&(i=1-i),t.iushrn(1),e.iushrn(1)}return r}ka.getJSF=R8e;function D8e(t,e,r){var n="_"+e;t.prototype[e]=function(){return this[n]!==void 0?this[n]:this[n]=r.call(this)}}ka.cachedProperty=D8e;function M8e(t){return typeof t=="string"?ka.toArray(t,"hex"):t}ka.parseBytes=M8e;function B8e(t){return new N8e(t,"hex","le")}ka.intFromLE=B8e});var dy=R((Itt,FQ)=>{"use strict";l();var ql=Nn(),ly=Is(),H3=ly.getNAF,L8e=ly.getJSF,G3=ly.assert;function Gu(t,e){this.type=t,this.p=new ql(e.p,16),this.red=e.prime?ql.red(e.prime):ql.mont(this.p),this.zero=new ql(0).toRed(this.red),this.one=new ql(1).toRed(this.red),this.two=new ql(2).toRed(this.red),this.n=e.n&&new ql(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}FQ.exports=Gu;Gu.prototype.point=function(){throw new Error("Not implemented")};Gu.prototype.validate=function(){throw new Error("Not implemented")};Gu.prototype._fixedNafMul=function(e,r){G3(e.precomputed);var n=e._getDoubles(),i=H3(r,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var a=[],o,c;for(o=0;o<i.length;o+=n.step){c=0;for(var u=o+n.step-1;u>=o;u--)c=(c<<1)+i[u];a.push(c)}for(var f=this.jpoint(null,null,null),d=this.jpoint(null,null,null),m=s;m>0;m--){for(o=0;o<a.length;o++)c=a[o],c===m?d=d.mixedAdd(n.points[o]):c===-m&&(d=d.mixedAdd(n.points[o].neg()));f=f.add(d)}return f.toP()};Gu.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var s=i.points,a=H3(r,n,this._bitLength),o=this.jpoint(null,null,null),c=a.length-1;c>=0;c--){for(var u=0;c>=0&&a[c]===0;c--)u++;if(c>=0&&u++,o=o.dblp(u),c<0)break;var f=a[c];G3(f!==0),e.type==="affine"?f>0?o=o.mixedAdd(s[f-1>>1]):o=o.mixedAdd(s[-f-1>>1].neg()):f>0?o=o.add(s[f-1>>1]):o=o.add(s[-f-1>>1].neg())}return e.type==="affine"?o.toP():o};Gu.prototype._wnafMulAdd=function(e,r,n,i,s){var a=this._wnafT1,o=this._wnafT2,c=this._wnafT3,u=0,f,d,m;for(f=0;f<i;f++){m=r[f];var _=m._getNAFPoints(e);a[f]=_.wnd,o[f]=_.points}for(f=i-1;f>=1;f-=2){var x=f-1,P=f;if(a[x]!==1||a[P]!==1){c[x]=H3(n[x],a[x],this._bitLength),c[P]=H3(n[P],a[P],this._bitLength),u=Math.max(c[x].length,u),u=Math.max(c[P].length,u);continue}var D=[r[x],null,null,r[P]];r[x].y.cmp(r[P].y)===0?(D[1]=r[x].add(r[P]),D[2]=r[x].toJ().mixedAdd(r[P].neg())):r[x].y.cmp(r[P].y.redNeg())===0?(D[1]=r[x].toJ().mixedAdd(r[P]),D[2]=r[x].add(r[P].neg())):(D[1]=r[x].toJ().mixedAdd(r[P]),D[2]=r[x].toJ().mixedAdd(r[P].neg()));var k=[-3,-1,-5,-7,0,7,5,1,3],Y=L8e(n[x],n[P]);for(u=Math.max(Y[0].length,u),c[x]=new Array(u),c[P]=new Array(u),d=0;d<u;d++){var X=Y[0][d]|0,Z=Y[1][d]|0;c[x][d]=k[(X+1)*3+(Z+1)],c[P][d]=0,o[x]=D}}var U=this.jpoint(null,null,null),Q=this._wnafT4;for(f=u;f>=0;f--){for(var j=0;f>=0;){var K=!0;for(d=0;d<i;d++)Q[d]=c[d][f]|0,Q[d]!==0&&(K=!1);if(!K)break;j++,f--}if(f>=0&&j++,U=U.dblp(j),f<0)break;for(d=0;d<i;d++){var $=Q[d];$!==0&&($>0?m=o[d][$-1>>1]:$<0&&(m=o[d][-$-1>>1].neg()),m.type==="affine"?U=U.mixedAdd(m):U=U.add(m))}}for(f=0;f<i;f++)o[f]=null;return s?U:U.toP()};function la(t,e){this.curve=t,this.type=e,this.precomputed=null}Gu.BasePoint=la;la.prototype.eq=function(){throw new Error("Not implemented")};la.prototype.validate=function(){return this.curve.validate(this)};Gu.prototype.decodePoint=function(e,r){e=ly.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?G3(e[e.length-1]%2===0):e[0]===7&&G3(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};la.prototype.encodeCompressed=function(e){return this.encode(e,!0)};la.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};la.prototype.encode=function(e,r){return ly.encode(this._encode(r),e)};la.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};la.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};la.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<r;s+=e){for(var a=0;a<e;a++)i=i.dbl();n.push(i)}return{step:e,points:n}};la.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)r[s]=r[s-1].add(i);return{wnd:e,points:r}};la.prototype._getBeta=function(){return null};la.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r}});var kQ=R((Ntt,UQ)=>{"use strict";l();var q8e=Is(),yn=Nn(),U7=Rt(),E0=dy(),F8e=q8e.assert;function da(t){E0.call(this,"short",t),this.a=new yn(t.a,16).toRed(this.red),this.b=new yn(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}U7(da,E0);UQ.exports=da;da.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new yn(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new yn(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?n=s[0]:(n=s[1],F8e(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var a;return e.basis?a=e.basis.map(function(o){return{a:new yn(o.a,16),b:new yn(o.b,16)}}):a=this._getEndoBasis(n),{beta:r,lambda:n,basis:a}}};da.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:yn.mont(e),n=new yn(2).toRed(r).redInvm(),i=n.redNeg(),s=new yn(3).toRed(r).redNeg().redSqrt().redMul(n),a=i.redAdd(s).fromRed(),o=i.redSub(s).fromRed();return[a,o]};da.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),s=new yn(1),a=new yn(0),o=new yn(0),c=new yn(1),u,f,d,m,_,x,P,D=0,k,Y;n.cmpn(0)!==0;){var X=i.div(n);k=i.sub(X.mul(n)),Y=o.sub(X.mul(s));var Z=c.sub(X.mul(a));if(!d&&k.cmp(r)<0)u=P.neg(),f=s,d=k.neg(),m=Y;else if(d&&++D===2)break;P=k,i=n,n=k,o=s,s=Y,c=a,a=Z}_=k.neg(),x=Y;var U=d.sqr().add(m.sqr()),Q=_.sqr().add(x.sqr());return Q.cmp(U)>=0&&(_=u,x=f),d.negative&&(d=d.neg(),m=m.neg()),_.negative&&(_=_.neg(),x=x.neg()),[{a:d,b:m},{a:_,b:x}]};da.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],s=i.b.mul(e).divRound(this.n),a=n.b.neg().mul(e).divRound(this.n),o=s.mul(n.a),c=a.mul(i.a),u=s.mul(n.b),f=a.mul(i.b),d=e.sub(o).sub(c),m=u.add(f).neg();return{k1:d,k2:m}};da.prototype.pointFromX=function(e,r){e=new yn(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(r&&!s||!r&&s)&&(i=i.redNeg()),this.point(e,i)};da.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0};da.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,a=0;a<e.length;a++){var o=this._endoSplit(r[a]),c=e[a],u=c._getBeta();o.k1.negative&&(o.k1.ineg(),c=c.neg(!0)),o.k2.negative&&(o.k2.ineg(),u=u.neg(!0)),i[a*2]=c,i[a*2+1]=u,s[a*2]=o.k1,s[a*2+1]=o.k2}for(var f=this._wnafMulAdd(1,i,s,a*2,n),d=0;d<a*2;d++)i[d]=null,s[d]=null;return f};function ti(t,e,r,n){E0.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new yn(e,16),this.y=new yn(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}U7(ti,E0.BasePoint);da.prototype.point=function(e,r,n){return new ti(this,e,r,n)};da.prototype.pointFromJSON=function(e,r){return ti.fromJSON(this,e,r)};ti.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(s){return n.point(s.x.redMul(n.endo.beta),s.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};ti.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};ti.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function s(o){return e.point(o[0],o[1],n)}var a=r[2];return i.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[i].concat(a.doubles.points.map(s))},naf:a.naf&&{wnd:a.naf.wnd,points:[i].concat(a.naf.points.map(s))}},i};ti.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};ti.prototype.isInfinity=function(){return this.inf};ti.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};ti.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),a=s.redSqr().redISub(this.x.redAdd(this.x)),o=s.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,o)};ti.prototype.getX=function(){return this.x.fromRed()};ti.prototype.getY=function(){return this.y.fromRed()};ti.prototype.mul=function(e){return e=new yn(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};ti.prototype.mulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)};ti.prototype.jmulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)};ti.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};ti.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(s){return s.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};ti.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function ui(t,e,r,n){E0.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new yn(0)):(this.x=new yn(e,16),this.y=new yn(r,16),this.z=new yn(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}U7(ui,E0.BasePoint);da.prototype.jpoint=function(e,r,n){return new ui(this,e,r,n)};ui.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};ui.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};ui.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),s=e.x.redMul(n),a=this.y.redMul(r.redMul(e.z)),o=e.y.redMul(n.redMul(this.z)),c=i.redSub(s),u=a.redSub(o);if(c.cmpn(0)===0)return u.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var f=c.redSqr(),d=f.redMul(c),m=i.redMul(f),_=u.redSqr().redIAdd(d).redISub(m).redISub(m),x=u.redMul(m.redISub(_)).redISub(a.redMul(d)),P=this.z.redMul(e.z).redMul(c);return this.curve.jpoint(_,x,P)};ui.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),s=this.y,a=e.y.redMul(r).redMul(this.z),o=n.redSub(i),c=s.redSub(a);if(o.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=o.redSqr(),f=u.redMul(o),d=n.redMul(u),m=c.redSqr().redIAdd(f).redISub(d).redISub(d),_=c.redMul(d.redISub(m)).redISub(s.redMul(f)),x=this.z.redMul(o);return this.curve.jpoint(m,_,x)};ui.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,a=this.x,o=this.y,c=this.z,u=c.redSqr().redSqr(),f=o.redAdd(o);for(r=0;r<e;r++){var d=a.redSqr(),m=f.redSqr(),_=m.redSqr(),x=d.redAdd(d).redIAdd(d).redIAdd(i.redMul(u)),P=a.redMul(m),D=x.redSqr().redISub(P.redAdd(P)),k=P.redISub(D),Y=x.redMul(k);Y=Y.redIAdd(Y).redISub(_);var X=f.redMul(c);r+1<e&&(u=u.redMul(_)),a=D,c=X,f=Y}return this.curve.jpoint(a,f.redMul(s),c)};ui.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};ui.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),a=s.redSqr(),o=this.x.redAdd(s).redSqr().redISub(i).redISub(a);o=o.redIAdd(o);var c=i.redAdd(i).redIAdd(i),u=c.redSqr().redISub(o).redISub(o),f=a.redIAdd(a);f=f.redIAdd(f),f=f.redIAdd(f),e=u,r=c.redMul(o.redISub(u)).redISub(f),n=this.y.redAdd(this.y)}else{var d=this.x.redSqr(),m=this.y.redSqr(),_=m.redSqr(),x=this.x.redAdd(m).redSqr().redISub(d).redISub(_);x=x.redIAdd(x);var P=d.redAdd(d).redIAdd(d),D=P.redSqr(),k=_.redIAdd(_);k=k.redIAdd(k),k=k.redIAdd(k),e=D.redISub(x).redISub(x),r=P.redMul(x.redISub(e)).redISub(k),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};ui.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),a=s.redSqr(),o=this.x.redAdd(s).redSqr().redISub(i).redISub(a);o=o.redIAdd(o);var c=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),u=c.redSqr().redISub(o).redISub(o);e=u;var f=a.redIAdd(a);f=f.redIAdd(f),f=f.redIAdd(f),r=c.redMul(o.redISub(u)).redISub(f),n=this.y.redAdd(this.y)}else{var d=this.z.redSqr(),m=this.y.redSqr(),_=this.x.redMul(m),x=this.x.redSub(d).redMul(this.x.redAdd(d));x=x.redAdd(x).redIAdd(x);var P=_.redIAdd(_);P=P.redIAdd(P);var D=P.redAdd(P);e=x.redSqr().redISub(D),n=this.y.redAdd(this.z).redSqr().redISub(m).redISub(d);var k=m.redSqr();k=k.redIAdd(k),k=k.redIAdd(k),k=k.redIAdd(k),r=x.redMul(P.redISub(e)).redISub(k)}return this.curve.jpoint(e,r,n)};ui.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),a=r.redSqr(),o=n.redSqr(),c=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(s)),u=r.redAdd(r);u=u.redIAdd(u);var f=u.redMul(o),d=c.redSqr().redISub(f.redAdd(f)),m=f.redISub(d),_=o.redSqr();_=_.redIAdd(_),_=_.redIAdd(_),_=_.redIAdd(_);var x=c.redMul(m).redISub(_),P=n.redAdd(n).redMul(i);return this.curve.jpoint(d,x,P)};ui.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),s=e.redAdd(e).redIAdd(e),a=s.redSqr(),o=this.x.redAdd(r).redSqr().redISub(e).redISub(i);o=o.redIAdd(o),o=o.redAdd(o).redIAdd(o),o=o.redISub(a);var c=o.redSqr(),u=i.redIAdd(i);u=u.redIAdd(u),u=u.redIAdd(u),u=u.redIAdd(u);var f=s.redIAdd(o).redSqr().redISub(a).redISub(c).redISub(u),d=r.redMul(f);d=d.redIAdd(d),d=d.redIAdd(d);var m=this.x.redMul(c).redISub(d);m=m.redIAdd(m),m=m.redIAdd(m);var _=this.y.redMul(f.redMul(u.redISub(f)).redISub(o.redMul(c)));_=_.redIAdd(_),_=_.redIAdd(_),_=_.redIAdd(_);var x=this.z.redAdd(o).redSqr().redISub(n).redISub(c);return this.curve.jpoint(m,_,x)};ui.prototype.mul=function(e,r){return e=new yn(e,r),this.curve._wnafMul(this,e)};ui.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),s=n.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0};ui.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}};ui.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};ui.prototype.isInfinity=function(){return this.z.cmpn(0)===0}});var GQ=R((Ptt,HQ)=>{"use strict";l();var A0=Nn(),VQ=Rt(),j3=dy(),U8e=Is();function S0(t){j3.call(this,"mont",t),this.a=new A0(t.a,16).toRed(this.red),this.b=new A0(t.b,16).toRed(this.red),this.i4=new A0(4).toRed(this.red).redInvm(),this.two=new A0(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}VQ(S0,j3);HQ.exports=S0;S0.prototype.validate=function(e){var r=e.normalize().x,n=r.redSqr(),i=n.redMul(r).redAdd(n.redMul(this.a)).redAdd(r),s=i.redSqrt();return s.redSqr().cmp(i)===0};function ri(t,e,r){j3.BasePoint.call(this,t,"projective"),e===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new A0(e,16),this.z=new A0(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}VQ(ri,j3.BasePoint);S0.prototype.decodePoint=function(e,r){return this.point(U8e.toArray(e,r),1)};S0.prototype.point=function(e,r){return new ri(this,e,r)};S0.prototype.pointFromJSON=function(e){return ri.fromJSON(this,e)};ri.prototype.precompute=function(){};ri.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};ri.fromJSON=function(e,r){return new ri(e,r[0],r[1]||e.one)};ri.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};ri.prototype.isInfinity=function(){return this.z.cmpn(0)===0};ri.prototype.dbl=function(){var e=this.x.redAdd(this.z),r=e.redSqr(),n=this.x.redSub(this.z),i=n.redSqr(),s=r.redSub(i),a=r.redMul(i),o=s.redMul(i.redAdd(this.curve.a24.redMul(s)));return this.curve.point(a,o)};ri.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};ri.prototype.diffAdd=function(e,r){var n=this.x.redAdd(this.z),i=this.x.redSub(this.z),s=e.x.redAdd(e.z),a=e.x.redSub(e.z),o=a.redMul(n),c=s.redMul(i),u=r.z.redMul(o.redAdd(c).redSqr()),f=r.x.redMul(o.redISub(c).redSqr());return this.curve.point(u,f)};ri.prototype.mul=function(e){for(var r=e.clone(),n=this,i=this.curve.point(null,null),s=this,a=[];r.cmpn(0)!==0;r.iushrn(1))a.push(r.andln(1));for(var o=a.length-1;o>=0;o--)a[o]===0?(n=n.diffAdd(i,s),i=i.dbl()):(i=n.diffAdd(i,s),n=n.dbl());return i};ri.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};ri.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};ri.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};ri.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};ri.prototype.getX=function(){return this.normalize(),this.x.fromRed()}});var KQ=R((Dtt,zQ)=>{"use strict";l();var k8e=Is(),Rc=Nn(),jQ=Rt(),z3=dy(),V8e=k8e.assert;function Mo(t){this.twisted=(t.a|0)!==1,this.mOneA=this.twisted&&(t.a|0)===-1,this.extended=this.mOneA,z3.call(this,"edwards",t),this.a=new Rc(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new Rc(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new Rc(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),V8e(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(t.c|0)===1}jQ(Mo,z3);zQ.exports=Mo;Mo.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};Mo.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};Mo.prototype.jpoint=function(e,r,n,i){return this.point(e,r,n,i)};Mo.prototype.pointFromX=function(e,r){e=new Rc(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=this.c2.redSub(this.a.redMul(n)),s=this.one.redSub(this.c2.redMul(this.d).redMul(n)),a=i.redMul(s.redInvm()),o=a.redSqrt();if(o.redSqr().redSub(a).cmp(this.zero)!==0)throw new Error("invalid point");var c=o.fromRed().isOdd();return(r&&!c||!r&&c)&&(o=o.redNeg()),this.point(e,o)};Mo.prototype.pointFromY=function(e,r){e=new Rc(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=n.redSub(this.c2),s=n.redMul(this.d).redMul(this.c2).redSub(this.a),a=i.redMul(s.redInvm());if(a.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,e)}var o=a.redSqrt();if(o.redSqr().redSub(a).cmp(this.zero)!==0)throw new Error("invalid point");return o.fromRed().isOdd()!==r&&(o=o.redNeg()),this.point(o,e)};Mo.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var r=e.x.redSqr(),n=e.y.redSqr(),i=r.redMul(this.a).redAdd(n),s=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(n)));return i.cmp(s)===0};function Jr(t,e,r,n,i){z3.BasePoint.call(this,t,"projective"),e===null&&r===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new Rc(e,16),this.y=new Rc(r,16),this.z=n?new Rc(n,16):this.curve.one,this.t=i&&new Rc(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}jQ(Jr,z3.BasePoint);Mo.prototype.pointFromJSON=function(e){return Jr.fromJSON(this,e)};Mo.prototype.point=function(e,r,n,i){return new Jr(this,e,r,n,i)};Jr.fromJSON=function(e,r){return new Jr(e,r[0],r[1],r[2])};Jr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Jr.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};Jr.prototype._extDbl=function(){var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var i=this.curve._mulA(e),s=this.x.redAdd(this.y).redSqr().redISub(e).redISub(r),a=i.redAdd(r),o=a.redSub(n),c=i.redSub(r),u=s.redMul(o),f=a.redMul(c),d=s.redMul(c),m=o.redMul(a);return this.curve.point(u,f,m,d)};Jr.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),n=this.y.redSqr(),i,s,a,o,c,u;if(this.curve.twisted){o=this.curve._mulA(r);var f=o.redAdd(n);this.zOne?(i=e.redSub(r).redSub(n).redMul(f.redSub(this.curve.two)),s=f.redMul(o.redSub(n)),a=f.redSqr().redSub(f).redSub(f)):(c=this.z.redSqr(),u=f.redSub(c).redISub(c),i=e.redSub(r).redISub(n).redMul(u),s=f.redMul(o.redSub(n)),a=f.redMul(u))}else o=r.redAdd(n),c=this.curve._mulC(this.z).redSqr(),u=o.redSub(c).redSub(c),i=this.curve._mulC(e.redISub(o)).redMul(u),s=this.curve._mulC(o).redMul(r.redISub(n)),a=o.redMul(u);return this.curve.point(i,s,a)};Jr.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};Jr.prototype._extAdd=function(e){var r=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),i=this.t.redMul(this.curve.dd).redMul(e.t),s=this.z.redMul(e.z.redAdd(e.z)),a=n.redSub(r),o=s.redSub(i),c=s.redAdd(i),u=n.redAdd(r),f=a.redMul(o),d=c.redMul(u),m=a.redMul(u),_=o.redMul(c);return this.curve.point(f,d,_,m)};Jr.prototype._projAdd=function(e){var r=this.z.redMul(e.z),n=r.redSqr(),i=this.x.redMul(e.x),s=this.y.redMul(e.y),a=this.curve.d.redMul(i).redMul(s),o=n.redSub(a),c=n.redAdd(a),u=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(i).redISub(s),f=r.redMul(o).redMul(u),d,m;return this.curve.twisted?(d=r.redMul(c).redMul(s.redSub(this.curve._mulA(i))),m=o.redMul(c)):(d=r.redMul(c).redMul(s.redSub(i)),m=this.curve._mulC(o).redMul(c)),this.curve.point(f,d,m)};Jr.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};Jr.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};Jr.prototype.mulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!1)};Jr.prototype.jmulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!0)};Jr.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};Jr.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};Jr.prototype.getX=function(){return this.normalize(),this.x.fromRed()};Jr.prototype.getY=function(){return this.normalize(),this.y.fromRed()};Jr.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};Jr.prototype.eqXToP=function(e){var r=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var n=e.clone(),i=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),this.x.cmp(r)===0)return!0}};Jr.prototype.toP=Jr.prototype.normalize;Jr.prototype.mixedAdd=Jr.prototype.add});var k7=R(WQ=>{"use strict";l();var K3=WQ;K3.base=dy();K3.short=kQ();K3.mont=GQ();K3.edwards=KQ()});var Va=R(Kr=>{"use strict";l();var H8e=Ts(),G8e=Rt();Kr.inherits=G8e;function j8e(t,e){return(t.charCodeAt(e)&64512)!==55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)===56320}function z8e(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var n=0,i=0;i<t.length;i++){var s=t.charCodeAt(i);s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=s&63|128):j8e(t,i)?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=s&63|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=s&63|128)}else for(i=0;i<t.length;i++)r[i]=t[i]|0;return r}Kr.toArray=z8e;function K8e(t){for(var e="",r=0;r<t.length;r++)e+=$Q(t[r].toString(16));return e}Kr.toHex=K8e;function QQ(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}Kr.htonl=QQ;function W8e(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];e==="little"&&(i=QQ(i)),r+=YQ(i.toString(16))}return r}Kr.toHex32=W8e;function $Q(t){return t.length===1?"0"+t:t}Kr.zero2=$Q;function YQ(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}Kr.zero8=YQ;function Q8e(t,e,r,n){var i=r-e;H8e(i%4===0);for(var s=new Array(i/4),a=0,o=e;a<s.length;a++,o+=4){var c;n==="big"?c=t[o]<<24|t[o+1]<<16|t[o+2]<<8|t[o+3]:c=t[o+3]<<24|t[o+2]<<16|t[o+1]<<8|t[o],s[a]=c>>>0}return s}Kr.join32=Q8e;function $8e(t,e){for(var r=new Array(t.length*4),n=0,i=0;n<t.length;n++,i+=4){var s=t[n];e==="big"?(r[i]=s>>>24,r[i+1]=s>>>16&255,r[i+2]=s>>>8&255,r[i+3]=s&255):(r[i+3]=s>>>24,r[i+2]=s>>>16&255,r[i+1]=s>>>8&255,r[i]=s&255)}return r}Kr.split32=$8e;function Y8e(t,e){return t>>>e|t<<32-e}Kr.rotr32=Y8e;function J8e(t,e){return t<<e|t>>>32-e}Kr.rotl32=J8e;function X8e(t,e){return t+e>>>0}Kr.sum32=X8e;function Z8e(t,e,r){return t+e+r>>>0}Kr.sum32_3=Z8e;function e4e(t,e,r,n){return t+e+r+n>>>0}Kr.sum32_4=e4e;function t4e(t,e,r,n,i){return t+e+r+n+i>>>0}Kr.sum32_5=t4e;function r4e(t,e,r,n){var i=t[e],s=t[e+1],a=n+s>>>0,o=(a<n?1:0)+r+i;t[e]=o>>>0,t[e+1]=a}Kr.sum64=r4e;function n4e(t,e,r,n){var i=e+n>>>0,s=(i<e?1:0)+t+r;return s>>>0}Kr.sum64_hi=n4e;function i4e(t,e,r,n){var i=e+n;return i>>>0}Kr.sum64_lo=i4e;function s4e(t,e,r,n,i,s,a,o){var c=0,u=e;u=u+n>>>0,c+=u<e?1:0,u=u+s>>>0,c+=u<s?1:0,u=u+o>>>0,c+=u<o?1:0;var f=t+r+i+a+c;return f>>>0}Kr.sum64_4_hi=s4e;function a4e(t,e,r,n,i,s,a,o){var c=e+n+s+o;return c>>>0}Kr.sum64_4_lo=a4e;function o4e(t,e,r,n,i,s,a,o,c,u){var f=0,d=e;d=d+n>>>0,f+=d<e?1:0,d=d+s>>>0,f+=d<s?1:0,d=d+o>>>0,f+=d<o?1:0,d=d+u>>>0,f+=d<u?1:0;var m=t+r+i+a+c+f;return m>>>0}Kr.sum64_5_hi=o4e;function c4e(t,e,r,n,i,s,a,o,c,u){var f=e+n+s+o+u;return f>>>0}Kr.sum64_5_lo=c4e;function u4e(t,e,r){var n=e<<32-r|t>>>r;return n>>>0}Kr.rotr64_hi=u4e;function f4e(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}Kr.rotr64_lo=f4e;function l4e(t,e,r){return t>>>r}Kr.shr64_hi=l4e;function d4e(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}Kr.shr64_lo=d4e});var x0=R(XQ=>{"use strict";l();var JQ=Va(),h4e=Ts();function W3(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}XQ.BlockHash=W3;W3.prototype.update=function(e,r){if(e=JQ.toArray(e,r),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var n=e.length%this._delta8;this.pending=e.slice(e.length-n,e.length),this.pending.length===0&&(this.pending=null),e=JQ.join32(e,0,e.length-n,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this};W3.prototype.digest=function(e){return this.update(this._pad()),h4e(this.pending===null),this._digest(e)};W3.prototype._pad=function(){var e=this.pendingTotal,r=this._delta8,n=r-(e+this.padLength)%r,i=new Array(n+this.padLength);i[0]=128;for(var s=1;s<n;s++)i[s]=0;if(e<<=3,this.endian==="big"){for(var a=8;a<this.padLength;a++)i[s++]=0;i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=e>>>24&255,i[s++]=e>>>16&255,i[s++]=e>>>8&255,i[s++]=e&255}else for(i[s++]=e&255,i[s++]=e>>>8&255,i[s++]=e>>>16&255,i[s++]=e>>>24&255,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,a=8;a<this.padLength;a++)i[s++]=0;return i}});var V7=R(Dc=>{"use strict";l();var p4e=Va(),Bo=p4e.rotr32;function g4e(t,e,r,n){if(t===0)return ZQ(e,r,n);if(t===1||t===3)return t$(e,r,n);if(t===2)return e$(e,r,n)}Dc.ft_1=g4e;function ZQ(t,e,r){return t&e^~t&r}Dc.ch32=ZQ;function e$(t,e,r){return t&e^t&r^e&r}Dc.maj32=e$;function t$(t,e,r){return t^e^r}Dc.p32=t$;function y4e(t){return Bo(t,2)^Bo(t,13)^Bo(t,22)}Dc.s0_256=y4e;function m4e(t){return Bo(t,6)^Bo(t,11)^Bo(t,25)}Dc.s1_256=m4e;function v4e(t){return Bo(t,7)^Bo(t,18)^t>>>3}Dc.g0_256=v4e;function b4e(t){return Bo(t,17)^Bo(t,19)^t>>>10}Dc.g1_256=b4e});var i$=R((Gtt,n$)=>{"use strict";l();var T0=Va(),w4e=x0(),_4e=V7(),H7=T0.rotl32,hy=T0.sum32,E4e=T0.sum32_5,A4e=_4e.ft_1,r$=w4e.BlockHash,S4e=[1518500249,1859775393,2400959708,3395469782];function Lo(){if(!(this instanceof Lo))return new Lo;r$.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}T0.inherits(Lo,r$);n$.exports=Lo;Lo.blockSize=512;Lo.outSize=160;Lo.hmacStrength=80;Lo.padLength=64;Lo.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=H7(n[i-3]^n[i-8]^n[i-14]^n[i-16],1);var s=this.h[0],a=this.h[1],o=this.h[2],c=this.h[3],u=this.h[4];for(i=0;i<n.length;i++){var f=~~(i/20),d=E4e(H7(s,5),A4e(f,a,o,c),u,n[i],S4e[f]);u=c,c=o,o=H7(a,30),a=s,s=d}this.h[0]=hy(this.h[0],s),this.h[1]=hy(this.h[1],a),this.h[2]=hy(this.h[2],o),this.h[3]=hy(this.h[3],c),this.h[4]=hy(this.h[4],u)};Lo.prototype._digest=function(e){return e==="hex"?T0.toHex32(this.h,"big"):T0.split32(this.h,"big")}});var G7=R((ztt,a$)=>{"use strict";l();var I0=Va(),x4e=x0(),C0=V7(),T4e=Ts(),Ha=I0.sum32,I4e=I0.sum32_4,C4e=I0.sum32_5,N4e=C0.ch32,O4e=C0.maj32,P4e=C0.s0_256,R4e=C0.s1_256,D4e=C0.g0_256,M4e=C0.g1_256,s$=x4e.BlockHash,B4e=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function qo(){if(!(this instanceof qo))return new qo;s$.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=B4e,this.W=new Array(64)}I0.inherits(qo,s$);a$.exports=qo;qo.blockSize=512;qo.outSize=256;qo.hmacStrength=192;qo.padLength=64;qo.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=I4e(M4e(n[i-2]),n[i-7],D4e(n[i-15]),n[i-16]);var s=this.h[0],a=this.h[1],o=this.h[2],c=this.h[3],u=this.h[4],f=this.h[5],d=this.h[6],m=this.h[7];for(T4e(this.k.length===n.length),i=0;i<n.length;i++){var _=C4e(m,R4e(u),N4e(u,f,d),this.k[i],n[i]),x=Ha(P4e(s),O4e(s,a,o));m=d,d=f,f=u,u=Ha(c,_),c=o,o=a,a=s,s=Ha(_,x)}this.h[0]=Ha(this.h[0],s),this.h[1]=Ha(this.h[1],a),this.h[2]=Ha(this.h[2],o),this.h[3]=Ha(this.h[3],c),this.h[4]=Ha(this.h[4],u),this.h[5]=Ha(this.h[5],f),this.h[6]=Ha(this.h[6],d),this.h[7]=Ha(this.h[7],m)};qo.prototype._digest=function(e){return e==="hex"?I0.toHex32(this.h,"big"):I0.split32(this.h,"big")}});var u$=R((Wtt,c$)=>{"use strict";l();var j7=Va(),o$=G7();function Mc(){if(!(this instanceof Mc))return new Mc;o$.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}j7.inherits(Mc,o$);c$.exports=Mc;Mc.blockSize=512;Mc.outSize=224;Mc.hmacStrength=192;Mc.padLength=64;Mc.prototype._digest=function(e){return e==="hex"?j7.toHex32(this.h.slice(0,7),"big"):j7.split32(this.h.slice(0,7),"big")}});var W7=R(($tt,h$)=>{"use strict";l();var us=Va(),L4e=x0(),q4e=Ts(),Fo=us.rotr64_hi,Uo=us.rotr64_lo,f$=us.shr64_hi,l$=us.shr64_lo,ju=us.sum64,z7=us.sum64_hi,K7=us.sum64_lo,F4e=us.sum64_4_hi,U4e=us.sum64_4_lo,k4e=us.sum64_5_hi,V4e=us.sum64_5_lo,d$=L4e.BlockHash,H4e=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Ga(){if(!(this instanceof Ga))return new Ga;d$.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=H4e,this.W=new Array(160)}us.inherits(Ga,d$);h$.exports=Ga;Ga.blockSize=1024;Ga.outSize=512;Ga.hmacStrength=192;Ga.padLength=128;Ga.prototype._prepareBlock=function(e,r){for(var n=this.W,i=0;i<32;i++)n[i]=e[r+i];for(;i<n.length;i+=2){var s=Z4e(n[i-4],n[i-3]),a=e5e(n[i-4],n[i-3]),o=n[i-14],c=n[i-13],u=J4e(n[i-30],n[i-29]),f=X4e(n[i-30],n[i-29]),d=n[i-32],m=n[i-31];n[i]=F4e(s,a,o,c,u,f,d,m),n[i+1]=U4e(s,a,o,c,u,f,d,m)}};Ga.prototype._update=function(e,r){this._prepareBlock(e,r);var n=this.W,i=this.h[0],s=this.h[1],a=this.h[2],o=this.h[3],c=this.h[4],u=this.h[5],f=this.h[6],d=this.h[7],m=this.h[8],_=this.h[9],x=this.h[10],P=this.h[11],D=this.h[12],k=this.h[13],Y=this.h[14],X=this.h[15];q4e(this.k.length===n.length);for(var Z=0;Z<n.length;Z+=2){var U=Y,Q=X,j=$4e(m,_),K=Y4e(m,_),$=G4e(m,_,x,P,D,k),L=j4e(m,_,x,P,D,k),v=this.k[Z],E=this.k[Z+1],p=n[Z],g=n[Z+1],b=k4e(U,Q,j,K,$,L,v,E,p,g),I=V4e(U,Q,j,K,$,L,v,E,p,g);U=W4e(i,s),Q=Q4e(i,s),j=z4e(i,s,a,o,c,u),K=K4e(i,s,a,o,c,u);var O=z7(U,Q,j,K),N=K7(U,Q,j,K);Y=D,X=k,D=x,k=P,x=m,P=_,m=z7(f,d,b,I),_=K7(d,d,b,I),f=c,d=u,c=a,u=o,a=i,o=s,i=z7(b,I,O,N),s=K7(b,I,O,N)}ju(this.h,0,i,s),ju(this.h,2,a,o),ju(this.h,4,c,u),ju(this.h,6,f,d),ju(this.h,8,m,_),ju(this.h,10,x,P),ju(this.h,12,D,k),ju(this.h,14,Y,X)};Ga.prototype._digest=function(e){return e==="hex"?us.toHex32(this.h,"big"):us.split32(this.h,"big")};function G4e(t,e,r,n,i){var s=t&r^~t&i;return s<0&&(s+=4294967296),s}function j4e(t,e,r,n,i,s){var a=e&n^~e&s;return a<0&&(a+=4294967296),a}function z4e(t,e,r,n,i){var s=t&r^t&i^r&i;return s<0&&(s+=4294967296),s}function K4e(t,e,r,n,i,s){var a=e&n^e&s^n&s;return a<0&&(a+=4294967296),a}function W4e(t,e){var r=Fo(t,e,28),n=Fo(e,t,2),i=Fo(e,t,7),s=r^n^i;return s<0&&(s+=4294967296),s}function Q4e(t,e){var r=Uo(t,e,28),n=Uo(e,t,2),i=Uo(e,t,7),s=r^n^i;return s<0&&(s+=4294967296),s}function $4e(t,e){var r=Fo(t,e,14),n=Fo(t,e,18),i=Fo(e,t,9),s=r^n^i;return s<0&&(s+=4294967296),s}function Y4e(t,e){var r=Uo(t,e,14),n=Uo(t,e,18),i=Uo(e,t,9),s=r^n^i;return s<0&&(s+=4294967296),s}function J4e(t,e){var r=Fo(t,e,1),n=Fo(t,e,8),i=f$(t,e,7),s=r^n^i;return s<0&&(s+=4294967296),s}function X4e(t,e){var r=Uo(t,e,1),n=Uo(t,e,8),i=l$(t,e,7),s=r^n^i;return s<0&&(s+=4294967296),s}function Z4e(t,e){var r=Fo(t,e,19),n=Fo(e,t,29),i=f$(t,e,6),s=r^n^i;return s<0&&(s+=4294967296),s}function e5e(t,e){var r=Uo(t,e,19),n=Uo(e,t,29),i=l$(t,e,6),s=r^n^i;return s<0&&(s+=4294967296),s}});var y$=R((Jtt,g$)=>{"use strict";l();var Q7=Va(),p$=W7();function Bc(){if(!(this instanceof Bc))return new Bc;p$.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}Q7.inherits(Bc,p$);g$.exports=Bc;Bc.blockSize=1024;Bc.outSize=384;Bc.hmacStrength=192;Bc.padLength=128;Bc.prototype._digest=function(e){return e==="hex"?Q7.toHex32(this.h.slice(0,12),"big"):Q7.split32(this.h.slice(0,12),"big")}});var m$=R(N0=>{"use strict";l();N0.sha1=i$();N0.sha224=u$();N0.sha256=G7();N0.sha384=y$();N0.sha512=W7()});var A$=R(E$=>{"use strict";l();var Fl=Va(),t5e=x0(),Q3=Fl.rotl32,v$=Fl.sum32,py=Fl.sum32_3,b$=Fl.sum32_4,_$=t5e.BlockHash;function ko(){if(!(this instanceof ko))return new ko;_$.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Fl.inherits(ko,_$);E$.ripemd160=ko;ko.blockSize=512;ko.outSize=160;ko.hmacStrength=192;ko.padLength=64;ko.prototype._update=function(e,r){for(var n=this.h[0],i=this.h[1],s=this.h[2],a=this.h[3],o=this.h[4],c=n,u=i,f=s,d=a,m=o,_=0;_<80;_++){var x=v$(Q3(b$(n,w$(_,i,s,a),e[i5e[_]+r],r5e(_)),a5e[_]),o);n=o,o=a,a=Q3(s,10),s=i,i=x,x=v$(Q3(b$(c,w$(79-_,u,f,d),e[s5e[_]+r],n5e(_)),o5e[_]),m),c=m,m=d,d=Q3(f,10),f=u,u=x}x=py(this.h[1],s,d),this.h[1]=py(this.h[2],a,m),this.h[2]=py(this.h[3],o,c),this.h[3]=py(this.h[4],n,u),this.h[4]=py(this.h[0],i,f),this.h[0]=x};ko.prototype._digest=function(e){return e==="hex"?Fl.toHex32(this.h,"little"):Fl.split32(this.h,"little")};function w$(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function r5e(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function n5e(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var i5e=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],s5e=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],a5e=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],o5e=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]});var x$=R((nrt,S$)=>{"use strict";l();var c5e=Va(),u5e=Ts();function O0(t,e,r){if(!(this instanceof O0))return new O0(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(c5e.toArray(e,r))}S$.exports=O0;O0.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),u5e(e.length<=this.blockSize);for(var r=e.length;r<this.blockSize;r++)e.push(0);for(r=0;r<e.length;r++)e[r]^=54;for(this.inner=new this.Hash().update(e),r=0;r<e.length;r++)e[r]^=106;this.outer=new this.Hash().update(e)};O0.prototype.update=function(e,r){return this.inner.update(e,r),this};O0.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}});var $3=R(T$=>{l();var fi=T$;fi.utils=Va();fi.common=x0();fi.sha=m$();fi.ripemd=A$();fi.hmac=x$();fi.sha1=fi.sha.sha1;fi.sha256=fi.sha.sha256;fi.sha224=fi.sha.sha224;fi.sha384=fi.sha.sha384;fi.sha512=fi.sha.sha512;fi.ripemd160=fi.ripemd.ripemd160});var C$=R((ort,I$)=>{l();I$.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}});var Y3=R(P$=>{"use strict";l();var Y7=P$,zu=$3(),$7=k7(),f5e=Is(),N$=f5e.assert;function O$(t){t.type==="short"?this.curve=new $7.short(t):t.type==="edwards"?this.curve=new $7.edwards(t):this.curve=new $7.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,N$(this.g.validate(),"Invalid curve"),N$(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}Y7.PresetCurve=O$;function Ku(t,e){Object.defineProperty(Y7,t,{configurable:!0,enumerable:!0,get:function(){var r=new O$(e);return Object.defineProperty(Y7,t,{configurable:!0,enumerable:!0,value:r}),r}})}Ku("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:zu.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]});Ku("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:zu.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]});Ku("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:zu.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]});Ku("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:zu.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]});Ku("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:zu.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]});Ku("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:zu.sha256,gRed:!1,g:["9"]});Ku("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:zu.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var J7;try{J7=C$()}catch{J7=void 0}Ku("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:zu.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",J7]})});var M$=R((lrt,D$)=>{"use strict";l();var l5e=$3(),Ul=F7(),R$=Ts();function Wu(t){if(!(this instanceof Wu))return new Wu(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Ul.toArray(t.entropy,t.entropyEnc||"hex"),r=Ul.toArray(t.nonce,t.nonceEnc||"hex"),n=Ul.toArray(t.pers,t.persEnc||"hex");R$(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}D$.exports=Wu;Wu.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};Wu.prototype._hmac=function(){return new l5e.hmac(this.hash,this.K)};Wu.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};Wu.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=Ul.toArray(e,r),n=Ul.toArray(n,i),R$(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};Wu.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=Ul.toArray(n,i||"hex"),this._update(n));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var a=s.slice(0,e);return this._update(n),this._reseed++,Ul.encode(a,r)}});var L$=R((hrt,B$)=>{"use strict";l();var d5e=Nn(),h5e=Is(),X7=h5e.assert;function xi(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}B$.exports=xi;xi.fromPublic=function(e,r,n){return r instanceof xi?r:new xi(e,{pub:r,pubEnc:n})};xi.fromPrivate=function(e,r,n){return r instanceof xi?r:new xi(e,{priv:r,privEnc:n})};xi.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};xi.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};xi.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};xi.prototype._importPrivate=function(e,r){this.priv=new d5e(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};xi.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?X7(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&X7(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};xi.prototype.derive=function(e){return e.validate()||X7(e.validate(),"public point not validated"),e.mul(this.priv).getX()};xi.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};xi.prototype.verify=function(e,r){return this.ec.verify(e,r,this)};xi.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}});var U$=R((grt,F$)=>{"use strict";l();var J3=Nn(),t9=Is(),p5e=t9.assert;function X3(t,e){if(t instanceof X3)return t;this._importDER(t,e)||(p5e(t.r&&t.s,"Signature without r or s"),this.r=new J3(t.r,16),this.s=new J3(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}F$.exports=X3;function g5e(){this.place=0}function Z7(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4||t[e.place]===0)return!1;for(var i=0,s=0,a=e.place;s<n;s++,a++)i<<=8,i|=t[a],i>>>=0;return i<=127?!1:(e.place=a,i)}function q$(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}X3.prototype._importDER=function(e,r){e=t9.toArray(e,r);var n=new g5e;if(e[n.place++]!==48)return!1;var i=Z7(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var s=Z7(e,n);if(s===!1||e[n.place]&128)return!1;var a=e.slice(n.place,s+n.place);if(n.place+=s,e[n.place++]!==2)return!1;var o=Z7(e,n);if(o===!1||e.length!==o+n.place||e[n.place]&128)return!1;var c=e.slice(n.place,o+n.place);if(a[0]===0)if(a[1]&128)a=a.slice(1);else return!1;if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;return this.r=new J3(a),this.s=new J3(c),this.recoveryParam=null,!0};function e9(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}X3.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=q$(r),n=q$(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];e9(i,r.length),i=i.concat(r),i.push(2),e9(i,n.length);var s=i.concat(n),a=[48];return e9(a,s.length),a=a.concat(s),t9.encode(a,e)}});var G$=R((mrt,H$)=>{"use strict";l();var kl=Nn(),k$=M$(),y5e=Is(),r9=Y3(),m5e=I3(),V$=y5e.assert,n9=L$(),Z3=U$();function ha(t){if(!(this instanceof ha))return new ha(t);typeof t=="string"&&(V$(Object.prototype.hasOwnProperty.call(r9,t),"Unknown curve "+t),t=r9[t]),t instanceof r9.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}H$.exports=ha;ha.prototype.keyPair=function(e){return new n9(this,e)};ha.prototype.keyFromPrivate=function(e,r){return n9.fromPrivate(this,e,r)};ha.prototype.keyFromPublic=function(e,r){return n9.fromPublic(this,e,r)};ha.prototype.genKeyPair=function(e){e||(e={});for(var r=new k$({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||m5e(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new kl(2));;){var s=new kl(r.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}};ha.prototype._truncateToN=function(e,r){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};ha.prototype.sign=function(e,r,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),r=this.keyFromPrivate(r,n),e=this._truncateToN(new kl(e,16));for(var s=this.n.byteLength(),a=r.getPrivate().toArray("be",s),o=e.toArray("be",s),c=new k$({hash:this.hash,entropy:a,nonce:o,pers:i.pers,persEnc:i.persEnc||"utf8"}),u=this.n.sub(new kl(1)),f=0;;f++){var d=i.k?i.k(f):new kl(c.generate(this.n.byteLength()));if(d=this._truncateToN(d,!0),!(d.cmpn(1)<=0||d.cmp(u)>=0)){var m=this.g.mul(d);if(!m.isInfinity()){var _=m.getX(),x=_.umod(this.n);if(x.cmpn(0)!==0){var P=d.invm(this.n).mul(x.mul(r.getPrivate()).iadd(e));if(P=P.umod(this.n),P.cmpn(0)!==0){var D=(m.getY().isOdd()?1:0)|(_.cmp(x)!==0?2:0);return i.canonical&&P.cmp(this.nh)>0&&(P=this.n.sub(P),D^=1),new Z3({r:x,s:P,recoveryParam:D})}}}}}};ha.prototype.verify=function(e,r,n,i){e=this._truncateToN(new kl(e,16)),n=this.keyFromPublic(n,i),r=new Z3(r,"hex");var s=r.r,a=r.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var o=a.invm(this.n),c=o.mul(e).umod(this.n),u=o.mul(s).umod(this.n),f;return this.curve._maxwellTrick?(f=this.g.jmulAdd(c,n.getPublic(),u),f.isInfinity()?!1:f.eqXToP(s)):(f=this.g.mulAdd(c,n.getPublic(),u),f.isInfinity()?!1:f.getX().umod(this.n).cmp(s)===0)};ha.prototype.recoverPubKey=function(t,e,r,n){V$((3&r)===r,"The recovery param is more than two bits"),e=new Z3(e,n);var i=this.n,s=new kl(t),a=e.r,o=e.s,c=r&1,u=r>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&u)throw new Error("Unable to find sencond key candinate");u?a=this.curve.pointFromX(a.add(this.curve.n),c):a=this.curve.pointFromX(a,c);var f=e.r.invm(i),d=i.sub(s).mul(f).umod(i),m=o.mul(f).umod(i);return this.g.mulAdd(d,a,m)};ha.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new Z3(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")}});var W$=R((brt,K$)=>{"use strict";l();var gy=Is(),z$=gy.assert,j$=gy.parseBytes,P0=gy.cachedProperty;function ni(t,e){this.eddsa=t,this._secret=j$(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=j$(e.pub)}ni.fromPublic=function(e,r){return r instanceof ni?r:new ni(e,{pub:r})};ni.fromSecret=function(e,r){return r instanceof ni?r:new ni(e,{secret:r})};ni.prototype.secret=function(){return this._secret};P0(ni,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});P0(ni,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});P0(ni,"privBytes",function(){var e=this.eddsa,r=this.hash(),n=e.encodingLength-1,i=r.slice(0,e.encodingLength);return i[0]&=248,i[n]&=127,i[n]|=64,i});P0(ni,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});P0(ni,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});P0(ni,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});ni.prototype.sign=function(e){return z$(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};ni.prototype.verify=function(e,r){return this.eddsa.verify(e,r,this)};ni.prototype.getSecret=function(e){return z$(this._secret,"KeyPair is public only"),gy.encode(this.secret(),e)};ni.prototype.getPublic=function(e){return gy.encode(this.pubBytes(),e)};K$.exports=ni});var Y$=R((_rt,$$)=>{"use strict";l();var v5e=Nn(),e6=Is(),Q$=e6.assert,t6=e6.cachedProperty,b5e=e6.parseBytes;function Vl(t,e){this.eddsa=t,typeof e!="object"&&(e=b5e(e)),Array.isArray(e)&&(Q$(e.length===t.encodingLength*2,"Signature has invalid size"),e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),Q$(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof v5e&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}t6(Vl,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});t6(Vl,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});t6(Vl,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});t6(Vl,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});Vl.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};Vl.prototype.toHex=function(){return e6.encode(this.toBytes(),"hex").toUpperCase()};$$.exports=Vl});var tY=R((Art,eY)=>{"use strict";l();var w5e=$3(),_5e=Y3(),R0=Is(),E5e=R0.assert,X$=R0.parseBytes,Z$=W$(),J$=Y$();function fs(t){if(E5e(t==="ed25519","only tested with ed25519 so far"),!(this instanceof fs))return new fs(t);t=_5e[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=w5e.sha512}eY.exports=fs;fs.prototype.sign=function(e,r){e=X$(e);var n=this.keyFromSecret(r),i=this.hashInt(n.messagePrefix(),e),s=this.g.mul(i),a=this.encodePoint(s),o=this.hashInt(a,n.pubBytes(),e).mul(n.priv()),c=i.add(o).umod(this.curve.n);return this.makeSignature({R:s,S:c,Rencoded:a})};fs.prototype.verify=function(e,r,n){if(e=X$(e),r=this.makeSignature(r),r.S().gte(r.eddsa.curve.n)||r.S().isNeg())return!1;var i=this.keyFromPublic(n),s=this.hashInt(r.Rencoded(),i.pubBytes(),e),a=this.g.mul(r.S()),o=r.R().add(i.pub().mul(s));return o.eq(a)};fs.prototype.hashInt=function(){for(var e=this.hash(),r=0;r<arguments.length;r++)e.update(arguments[r]);return R0.intFromLE(e.digest()).umod(this.curve.n)};fs.prototype.keyFromPublic=function(e){return Z$.fromPublic(this,e)};fs.prototype.keyFromSecret=function(e){return Z$.fromSecret(this,e)};fs.prototype.makeSignature=function(e){return e instanceof J$?e:new J$(this,e)};fs.prototype.encodePoint=function(e){var r=e.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=e.getX().isOdd()?128:0,r};fs.prototype.decodePoint=function(e){e=R0.parseBytes(e);var r=e.length-1,n=e.slice(0,r).concat(e[r]&-129),i=(e[r]&128)!==0,s=R0.intFromLE(n);return this.curve.pointFromY(s,i)};fs.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};fs.prototype.decodeInt=function(e){return R0.intFromLE(e)};fs.prototype.isPoint=function(e){return e instanceof this.pointClass}});var yy=R(rY=>{"use strict";l();var Hl=rY;Hl.version=DQ().version;Hl.utils=Is();Hl.rand=I3();Hl.curve=k7();Hl.curves=Y3();Hl.ec=G$();Hl.eddsa=tY()});var nY=R((exports,module)=>{l();var indexOf=function(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0;r<t.length;r++)if(t[r]===e)return r;return-1},Object_keys=function(t){if(Object.keys)return Object.keys(t);var e=[];for(var r in t)e.push(r);return e},forEach=function(t,e){if(t.forEach)return t.forEach(e);for(var r=0;r<t.length;r++)e(t[r],r,t)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(t,e,r){Object.defineProperty(t,e,{writable:!0,enumerable:!1,configurable:!0,value:r})}}catch{return function(e,r,n){e[r]=n}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(e){if(!(this instanceof Script))return new Script(e);this.code=e};Script.prototype.runInContext=function(t){if(!(t instanceof Context))throw new TypeError("needs a 'context' argument.");var e=document.createElement("iframe");e.style||(e.style={}),e.style.display="none",document.body.appendChild(e);var r=e.contentWindow,n=r.eval,i=r.execScript;!n&&i&&(i.call(r,"null"),n=r.eval),forEach(Object_keys(t),function(o){r[o]=t[o]}),forEach(globals,function(o){t[o]&&(r[o]=t[o])});var s=Object_keys(r),a=n.call(r,this.code);return forEach(Object_keys(r),function(o){(o in t||indexOf(s,o)===-1)&&(t[o]=r[o])}),forEach(globals,function(o){o in t||defineProp(t,o,r[o])}),document.body.removeChild(e),a};Script.prototype.runInThisContext=function(){return eval(this.code)};Script.prototype.runInNewContext=function(t){var e=Script.createContext(t),r=this.runInContext(e);return t&&forEach(Object_keys(e),function(n){t[n]=e[n]}),r};forEach(Object_keys(Script.prototype),function(t){exports[t]=Script[t]=function(e){var r=Script(e);return r[t].apply(r,[].slice.call(arguments,1))}});exports.isContext=function(t){return t instanceof Context};exports.createScript=function(t){return exports.Script(t)};exports.createContext=Script.createContext=function(t){var e=new Context;return typeof t=="object"&&forEach(Object_keys(t),function(r){e[r]=t[r]}),e}});var aY=R(sY=>{l();var iY=M0(),A5e=Rt(),S5e=sY;S5e.define=function(e,r){return new D0(e,r)};function D0(t,e){this.name=t,this.body=e,this.decoders={},this.encoders={}}D0.prototype._createNamed=function(e){var r;try{r=nY().runInThisContext("(function "+this.name+`(entity) {
  this._initNamed(entity);
})`)}catch{r=function(i){this._initNamed(i)}}return A5e(r,e),r.prototype._initNamed=function(i){e.call(this,i)},new r(this)};D0.prototype._getDecoder=function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(iY.decoders[e])),this.decoders[e]};D0.prototype.decode=function(e,r,n){return this._getDecoder(r).decode(e,n)};D0.prototype._getEncoder=function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(iY.encoders[e])),this.encoders[e]};D0.prototype.encode=function(e,r,n){return this._getEncoder(r).encode(e,n)}});var cY=R(oY=>{l();var x5e=Rt();function pa(t){this._reporterState={obj:null,path:[],options:t||{},errors:[]}}oY.Reporter=pa;pa.prototype.isError=function(e){return e instanceof B0};pa.prototype.save=function(){var e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}};pa.prototype.restore=function(e){var r=this._reporterState;r.obj=e.obj,r.path=r.path.slice(0,e.pathLen)};pa.prototype.enterKey=function(e){return this._reporterState.path.push(e)};pa.prototype.exitKey=function(e){var r=this._reporterState;r.path=r.path.slice(0,e-1)};pa.prototype.leaveKey=function(e,r,n){var i=this._reporterState;this.exitKey(e),i.obj!==null&&(i.obj[r]=n)};pa.prototype.path=function(){return this._reporterState.path.join("/")};pa.prototype.enterObject=function(){var e=this._reporterState,r=e.obj;return e.obj={},r};pa.prototype.leaveObject=function(e){var r=this._reporterState,n=r.obj;return r.obj=e,n};pa.prototype.error=function(e){var r,n=this._reporterState,i=e instanceof B0;if(i?r=e:r=new B0(n.path.map(function(s){return"["+JSON.stringify(s)+"]"}).join(""),e.message||e,e.stack),!n.options.partial)throw r;return i||n.errors.push(r),r};pa.prototype.wrapResult=function(e){var r=this._reporterState;return r.options.partial?{result:this.isError(e)?null:e,errors:r.errors}:e};function B0(t,e){this.path=t,this.rethrow(e)}x5e(B0,Error);B0.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,B0),!this.stack)try{throw new Error(this.message)}catch(r){this.stack=r.stack}return this}});var s9=R(i9=>{l();var T5e=Rt(),n6=L0().Reporter,my=Qi().Buffer;function Vo(t,e){if(n6.call(this,e),!my.isBuffer(t)){this.error("Input not Buffer");return}this.base=t,this.offset=0,this.length=t.length}T5e(Vo,n6);i9.DecoderBuffer=Vo;Vo.prototype.save=function(){return{offset:this.offset,reporter:n6.prototype.save.call(this)}};Vo.prototype.restore=function(e){var r=new Vo(this.base);return r.offset=e.offset,r.length=this.offset,this.offset=e.offset,n6.prototype.restore.call(this,e.reporter),r};Vo.prototype.isEmpty=function(){return this.offset===this.length};Vo.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")};Vo.prototype.skip=function(e,r){if(!(this.offset+e<=this.length))return this.error(r||"DecoderBuffer overrun");var n=new Vo(this.base);return n._reporterState=this._reporterState,n.offset=this.offset,n.length=this.offset+e,this.offset+=e,n};Vo.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)};function r6(t,e){if(Array.isArray(t))this.length=0,this.value=t.map(function(r){return r instanceof r6||(r=new r6(r,e)),this.length+=r.length,r},this);else if(typeof t=="number"){if(!(0<=t&&t<=255))return e.error("non-byte EncoderBuffer value");this.value=t,this.length=1}else if(typeof t=="string")this.value=t,this.length=my.byteLength(t);else if(my.isBuffer(t))this.value=t,this.length=t.length;else return e.error("Unsupported type: "+typeof t)}i9.EncoderBuffer=r6;r6.prototype.join=function(e,r){return e||(e=new my(this.length)),r||(r=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(n){n.join(e,r),r+=n.length}):(typeof this.value=="number"?e[r]=this.value:typeof this.value=="string"?e.write(this.value,r):my.isBuffer(this.value)&&this.value.copy(e,r),r+=this.length)),e}});var lY=R((Mrt,fY)=>{l();var I5e=L0().Reporter,C5e=L0().EncoderBuffer,N5e=L0().DecoderBuffer,ki=Ts(),uY=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],O5e=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(uY),P5e=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function Hr(t,e){var r={};this._baseState=r,r.enc=t,r.parent=e||null,r.children=null,r.tag=null,r.args=null,r.reverseArgs=null,r.choice=null,r.optional=!1,r.any=!1,r.obj=!1,r.use=null,r.useDecoder=null,r.key=null,r.default=null,r.explicit=null,r.implicit=null,r.contains=null,r.parent||(r.children=[],this._wrap())}fY.exports=Hr;var R5e=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];Hr.prototype.clone=function(){var e=this._baseState,r={};R5e.forEach(function(i){r[i]=e[i]});var n=new this.constructor(r.parent);return n._baseState=r,n};Hr.prototype._wrap=function(){var e=this._baseState;O5e.forEach(function(r){this[r]=function(){var i=new this.constructor(this);return e.children.push(i),i[r].apply(i,arguments)}},this)};Hr.prototype._init=function(e){var r=this._baseState;ki(r.parent===null),e.call(this),r.children=r.children.filter(function(n){return n._baseState.parent===this},this),ki.equal(r.children.length,1,"Root node can have only one child")};Hr.prototype._useArgs=function(e){var r=this._baseState,n=e.filter(function(i){return i instanceof this.constructor},this);e=e.filter(function(i){return!(i instanceof this.constructor)},this),n.length!==0&&(ki(r.children===null),r.children=n,n.forEach(function(i){i._baseState.parent=this},this)),e.length!==0&&(ki(r.args===null),r.args=e,r.reverseArgs=e.map(function(i){if(typeof i!="object"||i.constructor!==Object)return i;var s={};return Object.keys(i).forEach(function(a){a==(a|0)&&(a|=0);var o=i[a];s[o]=a}),s}))};P5e.forEach(function(t){Hr.prototype[t]=function(){var r=this._baseState;throw new Error(t+" not implemented for encoding: "+r.enc)}});uY.forEach(function(t){Hr.prototype[t]=function(){var r=this._baseState,n=Array.prototype.slice.call(arguments);return ki(r.tag===null),r.tag=t,this._useArgs(n),this}});Hr.prototype.use=function(e){ki(e);var r=this._baseState;return ki(r.use===null),r.use=e,this};Hr.prototype.optional=function(){var e=this._baseState;return e.optional=!0,this};Hr.prototype.def=function(e){var r=this._baseState;return ki(r.default===null),r.default=e,r.optional=!0,this};Hr.prototype.explicit=function(e){var r=this._baseState;return ki(r.explicit===null&&r.implicit===null),r.explicit=e,this};Hr.prototype.implicit=function(e){var r=this._baseState;return ki(r.explicit===null&&r.implicit===null),r.implicit=e,this};Hr.prototype.obj=function(){var e=this._baseState,r=Array.prototype.slice.call(arguments);return e.obj=!0,r.length!==0&&this._useArgs(r),this};Hr.prototype.key=function(e){var r=this._baseState;return ki(r.key===null),r.key=e,this};Hr.prototype.any=function(){var e=this._baseState;return e.any=!0,this};Hr.prototype.choice=function(e){var r=this._baseState;return ki(r.choice===null),r.choice=e,this._useArgs(Object.keys(e).map(function(n){return e[n]})),this};Hr.prototype.contains=function(e){var r=this._baseState;return ki(r.use===null),r.contains=e,this};Hr.prototype._decode=function(e,r){var n=this._baseState;if(n.parent===null)return e.wrapResult(n.children[0]._decode(e,r));var i=n.default,s=!0,a=null;if(n.key!==null&&(a=e.enterKey(n.key)),n.optional){var o=null;if(n.explicit!==null?o=n.explicit:n.implicit!==null?o=n.implicit:n.tag!==null&&(o=n.tag),o===null&&!n.any){var c=e.save();try{n.choice===null?this._decodeGeneric(n.tag,e,r):this._decodeChoice(e,r),s=!0}catch{s=!1}e.restore(c)}else if(s=this._peekTag(e,o,n.any),e.isError(s))return s}var u;if(n.obj&&s&&(u=e.enterObject()),s){if(n.explicit!==null){var f=this._decodeTag(e,n.explicit);if(e.isError(f))return f;e=f}var d=e.offset;if(n.use===null&&n.choice===null){if(n.any)var c=e.save();var m=this._decodeTag(e,n.implicit!==null?n.implicit:n.tag,n.any);if(e.isError(m))return m;n.any?i=e.raw(c):e=m}if(r&&r.track&&n.tag!==null&&r.track(e.path(),d,e.length,"tagged"),r&&r.track&&n.tag!==null&&r.track(e.path(),e.offset,e.length,"content"),n.any?i=i:n.choice===null?i=this._decodeGeneric(n.tag,e,r):i=this._decodeChoice(e,r),e.isError(i))return i;if(!n.any&&n.choice===null&&n.children!==null&&n.children.forEach(function(P){P._decode(e,r)}),n.contains&&(n.tag==="octstr"||n.tag==="bitstr")){var _=new N5e(i);i=this._getUse(n.contains,e._reporterState.obj)._decode(_,r)}}return n.obj&&s&&(i=e.leaveObject(u)),n.key!==null&&(i!==null||s===!0)?e.leaveKey(a,n.key,i):a!==null&&e.exitKey(a),i};Hr.prototype._decodeGeneric=function(e,r,n){var i=this._baseState;return e==="seq"||e==="set"?null:e==="seqof"||e==="setof"?this._decodeList(r,e,i.args[0],n):/str$/.test(e)?this._decodeStr(r,e,n):e==="objid"&&i.args?this._decodeObjid(r,i.args[0],i.args[1],n):e==="objid"?this._decodeObjid(r,null,null,n):e==="gentime"||e==="utctime"?this._decodeTime(r,e,n):e==="null_"?this._decodeNull(r,n):e==="bool"?this._decodeBool(r,n):e==="objDesc"?this._decodeStr(r,e,n):e==="int"||e==="enum"?this._decodeInt(r,i.args&&i.args[0],n):i.use!==null?this._getUse(i.use,r._reporterState.obj)._decode(r,n):r.error("unknown tag: "+e)};Hr.prototype._getUse=function(e,r){var n=this._baseState;return n.useDecoder=this._use(e,r),ki(n.useDecoder._baseState.parent===null),n.useDecoder=n.useDecoder._baseState.children[0],n.implicit!==n.useDecoder._baseState.implicit&&(n.useDecoder=n.useDecoder.clone(),n.useDecoder._baseState.implicit=n.implicit),n.useDecoder};Hr.prototype._decodeChoice=function(e,r){var n=this._baseState,i=null,s=!1;return Object.keys(n.choice).some(function(a){var o=e.save(),c=n.choice[a];try{var u=c._decode(e,r);if(e.isError(u))return!1;i={type:a,value:u},s=!0}catch{return e.restore(o),!1}return!0},this),s?i:e.error("Choice not matched")};Hr.prototype._createEncoderBuffer=function(e){return new C5e(e,this.reporter)};Hr.prototype._encode=function(e,r,n){var i=this._baseState;if(!(i.default!==null&&i.default===e)){var s=this._encodeValue(e,r,n);if(s!==void 0&&!this._skipDefault(s,r,n))return s}};Hr.prototype._encodeValue=function(e,r,n){var i=this._baseState;if(i.parent===null)return i.children[0]._encode(e,r||new I5e);var c=null;if(this.reporter=r,i.optional&&e===void 0)if(i.default!==null)e=i.default;else return;var s=null,a=!1;if(i.any)c=this._createEncoderBuffer(e);else if(i.choice)c=this._encodeChoice(e,r);else if(i.contains)s=this._getUse(i.contains,n)._encode(e,r),a=!0;else if(i.children)s=i.children.map(function(d){if(d._baseState.tag==="null_")return d._encode(null,r,e);if(d._baseState.key===null)return r.error("Child should have a key");var m=r.enterKey(d._baseState.key);if(typeof e!="object")return r.error("Child expected, but input is not object");var _=d._encode(e[d._baseState.key],r,e);return r.leaveKey(m),_},this).filter(function(d){return d}),s=this._createEncoderBuffer(s);else if(i.tag==="seqof"||i.tag==="setof"){if(!(i.args&&i.args.length===1))return r.error("Too many args for : "+i.tag);if(!Array.isArray(e))return r.error("seqof/setof, but data is not Array");var o=this.clone();o._baseState.implicit=null,s=this._createEncoderBuffer(e.map(function(d){var m=this._baseState;return this._getUse(m.args[0],e)._encode(d,r)},o))}else i.use!==null?c=this._getUse(i.use,n)._encode(e,r):(s=this._encodePrimitive(i.tag,e),a=!0);var c;if(!i.any&&i.choice===null){var u=i.implicit!==null?i.implicit:i.tag,f=i.implicit===null?"universal":"context";u===null?i.use===null&&r.error("Tag could be omitted only for .use()"):i.use===null&&(c=this._encodeComposite(u,a,f,s))}return i.explicit!==null&&(c=this._encodeComposite(i.explicit,!1,"context",c)),c};Hr.prototype._encodeChoice=function(e,r){var n=this._baseState,i=n.choice[e.type];return i||ki(!1,e.type+" not found in "+JSON.stringify(Object.keys(n.choice))),i._encode(e.value,r)};Hr.prototype._encodePrimitive=function(e,r){var n=this._baseState;if(/str$/.test(e))return this._encodeStr(r,e);if(e==="objid"&&n.args)return this._encodeObjid(r,n.reverseArgs[0],n.args[1]);if(e==="objid")return this._encodeObjid(r,null,null);if(e==="gentime"||e==="utctime")return this._encodeTime(r,e);if(e==="null_")return this._encodeNull();if(e==="int"||e==="enum")return this._encodeInt(r,n.args&&n.reverseArgs[0]);if(e==="bool")return this._encodeBool(r);if(e==="objDesc")return this._encodeStr(r,e);throw new Error("Unsupported tag: "+e)};Hr.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)};Hr.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(e)}});var L0=R(dY=>{l();var i6=dY;i6.Reporter=cY().Reporter;i6.DecoderBuffer=s9().DecoderBuffer;i6.EncoderBuffer=s9().EncoderBuffer;i6.Node=lY()});var pY=R(Gl=>{l();var hY=a9();Gl.tagClass={0:"universal",1:"application",2:"context",3:"private"};Gl.tagClassByName=hY._reverse(Gl.tagClass);Gl.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"};Gl.tagByName=hY._reverse(Gl.tag)});var a9=R(yY=>{l();var gY=yY;gY._reverse=function(e){var r={};return Object.keys(e).forEach(function(n){(n|0)==n&&(n=n|0);var i=e[n];r[i]=n}),r};gY.der=pY()});var u9=R((Hrt,wY)=>{l();var D5e=Rt(),o9=M0(),s6=o9.base,M5e=o9.bignum,mY=o9.constants.der;function vY(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new Cs,this.tree._init(t.body)}wY.exports=vY;vY.prototype.decode=function(e,r){return e instanceof s6.DecoderBuffer||(e=new s6.DecoderBuffer(e,r)),this.tree._decode(e,r)};function Cs(t){s6.Node.call(this,"der",t)}D5e(Cs,s6.Node);Cs.prototype._peekTag=function(e,r,n){if(e.isEmpty())return!1;var i=e.save(),s=c9(e,'Failed to peek tag: "'+r+'"');return e.isError(s)?s:(e.restore(i),s.tag===r||s.tagStr===r||s.tagStr+"of"===r||n)};Cs.prototype._decodeTag=function(e,r,n){var i=c9(e,'Failed to decode tag of "'+r+'"');if(e.isError(i))return i;var s=bY(e,i.primitive,'Failed to get length of "'+r+'"');if(e.isError(s))return s;if(!n&&i.tag!==r&&i.tagStr!==r&&i.tagStr+"of"!==r)return e.error('Failed to match tag: "'+r+'"');if(i.primitive||s!==null)return e.skip(s,'Failed to match body of: "'+r+'"');var a=e.save(),o=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(o)?o:(s=e.offset-a.offset,e.restore(a),e.skip(s,'Failed to match body of: "'+r+'"'))};Cs.prototype._skipUntilEnd=function(e,r){for(;;){var n=c9(e,r);if(e.isError(n))return n;var i=bY(e,n.primitive,r);if(e.isError(i))return i;var s;if(n.primitive||i!==null?s=e.skip(i):s=this._skipUntilEnd(e,r),e.isError(s))return s;if(n.tagStr==="end")break}};Cs.prototype._decodeList=function(e,r,n,i){for(var s=[];!e.isEmpty();){var a=this._peekTag(e,"end");if(e.isError(a))return a;var o=n.decode(e,"der",i);if(e.isError(o)&&a)break;s.push(o)}return s};Cs.prototype._decodeStr=function(e,r){if(r==="bitstr"){var n=e.readUInt8();return e.isError(n)?n:{unused:n,data:e.raw()}}else if(r==="bmpstr"){var i=e.raw();if(i.length%2===1)return e.error("Decoding of string type: bmpstr length mismatch");for(var s="",a=0;a<i.length/2;a++)s+=String.fromCharCode(i.readUInt16BE(a*2));return s}else if(r==="numstr"){var o=e.raw().toString("ascii");return this._isNumstr(o)?o:e.error("Decoding of string type: numstr unsupported characters")}else{if(r==="octstr")return e.raw();if(r==="objDesc")return e.raw();if(r==="printstr"){var c=e.raw().toString("ascii");return this._isPrintstr(c)?c:e.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(r)?e.raw().toString():e.error("Decoding of string type: "+r+" unsupported")}};Cs.prototype._decodeObjid=function(e,r,n){for(var i,s=[],a=0;!e.isEmpty();){var o=e.readUInt8();a<<=7,a|=o&127,o&128||(s.push(a),a=0)}o&128&&s.push(a);var c=s[0]/40|0,u=s[0]%40;if(n?i=s:i=[c,u].concat(s.slice(1)),r){var f=r[i.join(" ")];f===void 0&&(f=r[i.join(".")]),f!==void 0&&(i=f)}return i};Cs.prototype._decodeTime=function(e,r){var n=e.raw().toString();if(r==="gentime")var i=n.slice(0,4)|0,s=n.slice(4,6)|0,a=n.slice(6,8)|0,o=n.slice(8,10)|0,c=n.slice(10,12)|0,u=n.slice(12,14)|0;else if(r==="utctime"){var i=n.slice(0,2)|0,s=n.slice(2,4)|0,a=n.slice(4,6)|0,o=n.slice(6,8)|0,c=n.slice(8,10)|0,u=n.slice(10,12)|0;i<70?i=2e3+i:i=1900+i}else return e.error("Decoding "+r+" time is not supported yet");return Date.UTC(i,s-1,a,o,c,u,0)};Cs.prototype._decodeNull=function(e){return null};Cs.prototype._decodeBool=function(e){var r=e.readUInt8();return e.isError(r)?r:r!==0};Cs.prototype._decodeInt=function(e,r){var n=e.raw(),i=new M5e(n);return r&&(i=r[i.toString(10)]||i),i};Cs.prototype._use=function(e,r){return typeof e=="function"&&(e=e(r)),e._getDecoder("der").tree};function c9(t,e){var r=t.readUInt8(e);if(t.isError(r))return r;var n=mY.tagClass[r>>6],i=(r&32)===0;if((r&31)===31){var s=r;for(r=0;(s&128)===128;){if(s=t.readUInt8(e),t.isError(s))return s;r<<=7,r|=s&127}}else r&=31;var a=mY.tag[r];return{cls:n,primitive:i,tag:r,tagStr:a}}function bY(t,e,r){var n=t.readUInt8(r);if(t.isError(n))return n;if(!e&&n===128)return null;if(!(n&128))return n;var i=n&127;if(i>4)return t.error("length octect is too long");n=0;for(var s=0;s<i;s++){n<<=8;var a=t.readUInt8(r);if(t.isError(a))return a;n|=a}return n}});var EY=R((jrt,_Y)=>{l();var B5e=Rt(),L5e=Qi().Buffer,f9=u9();function l9(t){f9.call(this,t),this.enc="pem"}B5e(l9,f9);_Y.exports=l9;l9.prototype.decode=function(e,r){for(var n=e.toString().split(/[\r\n]+/g),i=r.label.toUpperCase(),s=/^-----(BEGIN|END) ([^-]+)-----$/,a=-1,o=-1,c=0;c<n.length;c++){var u=n[c].match(s);if(u!==null&&u[2]===i)if(a===-1){if(u[1]!=="BEGIN")break;a=c}else{if(u[1]!=="END")break;o=c;break}}if(a===-1||o===-1)throw new Error("PEM section not found for: "+i);var f=n.slice(a+1,o).join("");f.replace(/[^a-z0-9\+\/=]+/gi,"");var d=new L5e(f,"base64");return f9.prototype.decode.call(this,d,r)}});var xY=R(SY=>{l();var AY=SY;AY.der=u9();AY.pem=EY()});var h9=R((Qrt,NY)=>{l();var q5e=Rt(),Lc=Qi().Buffer,TY=M0(),IY=TY.base,d9=TY.constants.der;function CY(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new ja,this.tree._init(t.body)}NY.exports=CY;CY.prototype.encode=function(e,r){return this.tree._encode(e,r).join()};function ja(t){IY.Node.call(this,"der",t)}q5e(ja,IY.Node);ja.prototype._encodeComposite=function(e,r,n,i){var s=F5e(e,r,n,this.reporter);if(i.length<128){var c=new Lc(2);return c[0]=s,c[1]=i.length,this._createEncoderBuffer([c,i])}for(var a=1,o=i.length;o>=256;o>>=8)a++;var c=new Lc(2+a);c[0]=s,c[1]=128|a;for(var o=1+a,u=i.length;u>0;o--,u>>=8)c[o]=u&255;return this._createEncoderBuffer([c,i])};ja.prototype._encodeStr=function(e,r){if(r==="bitstr")return this._createEncoderBuffer([e.unused|0,e.data]);if(r==="bmpstr"){for(var n=new Lc(e.length*2),i=0;i<e.length;i++)n.writeUInt16BE(e.charCodeAt(i),i*2);return this._createEncoderBuffer(n)}else return r==="numstr"?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):r==="printstr"?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(r)?this._createEncoderBuffer(e):r==="objDesc"?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+r+" unsupported")};ja.prototype._encodeObjid=function(e,r,n){if(typeof e=="string"){if(!r)return this.reporter.error("string objid given, but no values map found");if(!r.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=r[e].split(/[\s\.]+/g);for(var i=0;i<e.length;i++)e[i]|=0}else if(Array.isArray(e)){e=e.slice();for(var i=0;i<e.length;i++)e[i]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!n){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,e[0]*40+e[1])}for(var s=0,i=0;i<e.length;i++){var a=e[i];for(s++;a>=128;a>>=7)s++}for(var o=new Lc(s),c=o.length-1,i=e.length-1;i>=0;i--){var a=e[i];for(o[c--]=a&127;(a>>=7)>0;)o[c--]=128|a&127}return this._createEncoderBuffer(o)};function ga(t){return t<10?"0"+t:t}ja.prototype._encodeTime=function(e,r){var n,i=new Date(e);return r==="gentime"?n=[ga(i.getFullYear()),ga(i.getUTCMonth()+1),ga(i.getUTCDate()),ga(i.getUTCHours()),ga(i.getUTCMinutes()),ga(i.getUTCSeconds()),"Z"].join(""):r==="utctime"?n=[ga(i.getFullYear()%100),ga(i.getUTCMonth()+1),ga(i.getUTCDate()),ga(i.getUTCHours()),ga(i.getUTCMinutes()),ga(i.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+r+" time is not supported yet"),this._encodeStr(n,"octstr")};ja.prototype._encodeNull=function(){return this._createEncoderBuffer("")};ja.prototype._encodeInt=function(e,r){if(typeof e=="string"){if(!r)return this.reporter.error("String int or enum given, but no values map");if(!r.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=r[e]}if(typeof e!="number"&&!Lc.isBuffer(e)){var n=e.toArray();!e.sign&&n[0]&128&&n.unshift(0),e=new Lc(n)}if(Lc.isBuffer(e)){var i=e.length;e.length===0&&i++;var a=new Lc(i);return e.copy(a),e.length===0&&(a[0]=0),this._createEncoderBuffer(a)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);for(var i=1,s=e;s>=256;s>>=8)i++;for(var a=new Array(i),s=a.length-1;s>=0;s--)a[s]=e&255,e>>=8;return a[0]&128&&a.unshift(0),this._createEncoderBuffer(new Lc(a))};ja.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)};ja.prototype._use=function(e,r){return typeof e=="function"&&(e=e(r)),e._getEncoder("der").tree};ja.prototype._skipDefault=function(e,r,n){var i=this._baseState,s;if(i.default===null)return!1;var a=e.join();if(i.defaultBuffer===void 0&&(i.defaultBuffer=this._encodeValue(i.default,r,n).join()),a.length!==i.defaultBuffer.length)return!1;for(s=0;s<a.length;s++)if(a[s]!==i.defaultBuffer[s])return!1;return!0};function F5e(t,e,r,n){var i;if(t==="seqof"?t="seq":t==="setof"&&(t="set"),d9.tagByName.hasOwnProperty(t))i=d9.tagByName[t];else if(typeof t=="number"&&(t|0)===t)i=t;else return n.error("Unknown tag: "+t);return i>=31?n.error("Multi-octet tag encoding unsupported"):(e||(i|=32),i|=d9.tagClassByName[r||"universal"]<<6,i)}});var PY=R((Yrt,OY)=>{l();var U5e=Rt(),p9=h9();function g9(t){p9.call(this,t),this.enc="pem"}U5e(g9,p9);OY.exports=g9;g9.prototype.encode=function(e,r){for(var n=p9.prototype.encode.call(this,e),i=n.toString("base64"),s=["-----BEGIN "+r.label+"-----"],a=0;a<i.length;a+=64)s.push(i.slice(a,a+64));return s.push("-----END "+r.label+"-----"),s.join(`
`)}});var MY=R(DY=>{l();var RY=DY;RY.der=h9();RY.pem=PY()});var M0=R(BY=>{l();var q0=BY;q0.bignum=Nn();q0.define=aY().define;q0.base=L0();q0.constants=a9();q0.decoders=xY();q0.encoders=MY()});var UY=R((rnt,FY)=>{"use strict";l();var za=M0(),LY=za.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),k5e=za.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),y9=za.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),V5e=za.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(y9),this.key("subjectPublicKey").bitstr())}),H5e=za.define("RelativeDistinguishedName",function(){this.setof(k5e)}),G5e=za.define("RDNSequence",function(){this.seqof(H5e)}),qY=za.define("Name",function(){this.choice({rdnSequence:this.use(G5e)})}),j5e=za.define("Validity",function(){this.seq().obj(this.key("notBefore").use(LY),this.key("notAfter").use(LY))}),z5e=za.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),K5e=za.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(y9),this.key("issuer").use(qY),this.key("validity").use(j5e),this.key("subject").use(qY),this.key("subjectPublicKeyInfo").use(V5e),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(z5e).optional())}),W5e=za.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(K5e),this.key("signatureAlgorithm").use(y9),this.key("signatureValue").bitstr())});FY.exports=W5e});var VY=R(Wa=>{"use strict";l();var Ka=M0();Wa.certificate=UY();var Q5e=Ka.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});Wa.RSAPrivateKey=Q5e;var $5e=Ka.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});Wa.RSAPublicKey=$5e;var kY=Ka.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),Y5e=Ka.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(kY),this.key("subjectPublicKey").bitstr())});Wa.PublicKey=Y5e;var J5e=Ka.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(kY),this.key("subjectPrivateKey").octstr())});Wa.PrivateKey=J5e;var X5e=Ka.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});Wa.EncryptedPrivateKey=X5e;var Z5e=Ka.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});Wa.DSAPrivateKey=Z5e;Wa.DSAparam=Ka.define("DSAparam",function(){this.int()});var exe=Ka.define("ECParameters",function(){this.choice({namedCurve:this.objid()})}),txe=Ka.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(exe),this.key("publicKey").optional().explicit(1).bitstr())});Wa.ECPrivateKey=txe;Wa.signature=Ka.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})});var HY=R((ant,rxe)=>{rxe.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}});var jY=R((ont,GY)=>{"use strict";l();var nxe=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,ixe=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,sxe=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,axe=ey(),oxe=T3(),a6=Dt().Buffer;GY.exports=function(t,e){var r=t.toString(),n=r.match(nxe),i;if(n){var a="aes"+n[1],o=a6.from(n[2],"hex"),c=a6.from(n[3].replace(/[\r\n]/g,""),"base64"),u=axe(e,o.slice(0,8),parseInt(n[1],10)).key,f=[],d=oxe.createDecipheriv(a,u,o);f.push(d.update(c)),f.push(d.final()),i=a6.concat(f)}else{var s=r.match(sxe);i=a6.from(s[2].replace(/[\r\n]/g,""),"base64")}var m=r.match(ixe)[1];return{tag:m,data:i}}});var vy=R((unt,KY)=>{"use strict";l();var ls=VY(),cxe=HY(),uxe=jY(),fxe=T3(),lxe=HC(),m9=Dt().Buffer;function dxe(t,e){var r=t.algorithm.decrypt.kde.kdeparams.salt,n=parseInt(t.algorithm.decrypt.kde.kdeparams.iters.toString(),10),i=cxe[t.algorithm.decrypt.cipher.algo.join(".")],s=t.algorithm.decrypt.cipher.iv,a=t.subjectPrivateKey,o=parseInt(i.split("-")[1],10)/8,c=lxe.pbkdf2Sync(e,r,n,o,"sha1"),u=fxe.createDecipheriv(i,c,s),f=[];return f.push(u.update(a)),f.push(u.final()),m9.concat(f)}function zY(t){var e;typeof t=="object"&&!m9.isBuffer(t)&&(e=t.passphrase,t=t.key),typeof t=="string"&&(t=m9.from(t));var r=uxe(t,e),n=r.tag,i=r.data,s,a;switch(n){case"CERTIFICATE":a=ls.certificate.decode(i,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(a||(a=ls.PublicKey.decode(i,"der")),s=a.algorithm.algorithm.join("."),s){case"1.2.840.113549.1.1.1":return ls.RSAPublicKey.decode(a.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return a.subjectPrivateKey=a.subjectPublicKey,{type:"ec",data:a};case"1.2.840.10040.4.1":return a.algorithm.params.pub_key=ls.DSAparam.decode(a.subjectPublicKey.data,"der"),{type:"dsa",data:a.algorithm.params};default:throw new Error("unknown key id "+s)}case"ENCRYPTED PRIVATE KEY":i=ls.EncryptedPrivateKey.decode(i,"der"),i=dxe(i,e);case"PRIVATE KEY":switch(a=ls.PrivateKey.decode(i,"der"),s=a.algorithm.algorithm.join("."),s){case"1.2.840.113549.1.1.1":return ls.RSAPrivateKey.decode(a.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:a.algorithm.curve,privateKey:ls.ECPrivateKey.decode(a.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return a.algorithm.params.priv_key=ls.DSAparam.decode(a.subjectPrivateKey,"der"),{type:"dsa",params:a.algorithm.params};default:throw new Error("unknown key id "+s)}case"RSA PUBLIC KEY":return ls.RSAPublicKey.decode(i,"der");case"RSA PRIVATE KEY":return ls.RSAPrivateKey.decode(i,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:ls.DSAPrivateKey.decode(i,"der")};case"EC PRIVATE KEY":return i=ls.ECPrivateKey.decode(i,"der"),{curve:i.parameters.value,privateKey:i.privateKey};default:throw new Error("unknown key type "+n)}}zY.signature=ls.signature;KY.exports=zY});var v9=R((lnt,hxe)=>{hxe.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}});var $Y=R((dnt,c6)=>{"use strict";l();var Ti=Dt().Buffer,jl=u3(),pxe=U3(),gxe=yy().ec,o6=Nn(),yxe=vy(),mxe=v9(),vxe=1;function bxe(t,e,r,n,i){var s=yxe(e);if(s.curve){if(n!=="ecdsa"&&n!=="ecdsa/rsa")throw new Error("wrong private key type");return wxe(t,s)}else if(s.type==="dsa"){if(n!=="dsa")throw new Error("wrong private key type");return _xe(t,s,r)}if(n!=="rsa"&&n!=="ecdsa/rsa")throw new Error("wrong private key type");if(e.padding!==void 0&&e.padding!==vxe)throw new Error("illegal or unsupported padding mode");t=Ti.concat([i,t]);for(var a=s.modulus.byteLength(),o=[0,1];t.length+o.length+1<a;)o.push(255);o.push(0);for(var c=-1;++c<t.length;)o.push(t[c]);var u=pxe(o,s);return u}function wxe(t,e){var r=mxe[e.curve.join(".")];if(!r)throw new Error("unknown curve "+e.curve.join("."));var n=new gxe(r),i=n.keyFromPrivate(e.privateKey),s=i.sign(t);return Ti.from(s.toDER())}function _xe(t,e,r){for(var n=e.params.priv_key,i=e.params.p,s=e.params.q,a=e.params.g,o=new o6(0),c,u=b9(t,s).mod(s),f=!1,d=WY(n,s,t,r);f===!1;)c=QY(s,d,r),o=Sxe(a,c,i,s),f=c.invm(s).imul(u.add(n.mul(o))).mod(s),f.cmpn(0)===0&&(f=!1,o=new o6(0));return Exe(o,f)}function Exe(t,e){t=t.toArray(),e=e.toArray(),t[0]&128&&(t=[0].concat(t)),e[0]&128&&(e=[0].concat(e));var r=t.length+e.length+4,n=[48,r,2,t.length];return n=n.concat(t,[2,e.length],e),Ti.from(n)}function WY(t,e,r,n){if(t=Ti.from(t.toArray()),t.length<e.byteLength()){var i=Ti.alloc(e.byteLength()-t.length);t=Ti.concat([i,t])}var s=r.length,a=Axe(r,e),o=Ti.alloc(s);o.fill(1);var c=Ti.alloc(s);return c=jl(n,c).update(o).update(Ti.from([0])).update(t).update(a).digest(),o=jl(n,c).update(o).digest(),c=jl(n,c).update(o).update(Ti.from([1])).update(t).update(a).digest(),o=jl(n,c).update(o).digest(),{k:c,v:o}}function b9(t,e){var r=new o6(t),n=(t.length<<3)-e.bitLength();return n>0&&r.ishrn(n),r}function Axe(t,e){t=b9(t,e),t=t.mod(e);var r=Ti.from(t.toArray());if(r.length<e.byteLength()){var n=Ti.alloc(e.byteLength()-r.length);r=Ti.concat([n,r])}return r}function QY(t,e,r){var n,i;do{for(n=Ti.alloc(0);n.length*8<t.bitLength();)e.v=jl(r,e.k).update(e.v).digest(),n=Ti.concat([n,e.v]);i=b9(n,t),e.k=jl(r,e.k).update(e.v).update(Ti.from([0])).digest(),e.v=jl(r,e.k).update(e.v).digest()}while(i.cmp(t)!==-1);return i}function Sxe(t,e,r,n){return t.toRed(o6.mont(r)).redPow(e).fromRed().mod(n)}c6.exports=bxe;c6.exports.getKey=WY;c6.exports.makeKey=QY});var ZY=R((pnt,XY)=>{"use strict";l();var w9=Dt().Buffer,by=Nn(),xxe=yy().ec,JY=vy(),Txe=v9();function Ixe(t,e,r,n,i){var s=JY(r);if(s.type==="ec"){if(n!=="ecdsa"&&n!=="ecdsa/rsa")throw new Error("wrong public key type");return Cxe(t,e,s)}else if(s.type==="dsa"){if(n!=="dsa")throw new Error("wrong public key type");return Nxe(t,e,s)}if(n!=="rsa"&&n!=="ecdsa/rsa")throw new Error("wrong public key type");e=w9.concat([i,e]);for(var a=s.modulus.byteLength(),o=[1],c=0;e.length+o.length+2<a;)o.push(255),c+=1;o.push(0);for(var u=-1;++u<e.length;)o.push(e[u]);o=w9.from(o);var f=by.mont(s.modulus);t=new by(t).toRed(f),t=t.redPow(new by(s.publicExponent)),t=w9.from(t.fromRed().toArray());var d=c<8?1:0;for(a=Math.min(t.length,o.length),t.length!==o.length&&(d=1),u=-1;++u<a;)d|=t[u]^o[u];return d===0}function Cxe(t,e,r){var n=Txe[r.data.algorithm.curve.join(".")];if(!n)throw new Error("unknown curve "+r.data.algorithm.curve.join("."));var i=new xxe(n),s=r.data.subjectPrivateKey.data;return i.verify(e,t,s)}function Nxe(t,e,r){var n=r.data.p,i=r.data.q,s=r.data.g,a=r.data.pub_key,o=JY.signature.decode(t,"der"),c=o.s,u=o.r;YY(c,i),YY(u,i);var f=by.mont(n),d=c.invm(i),m=s.toRed(f).redPow(new by(e).mul(d).mod(i)).fromRed().mul(a.toRed(f).redPow(u.mul(d).mod(i)).fromRed()).mod(n).mod(i);return m.cmp(u)===0}function YY(t,e){if(t.cmpn(0)<=0)throw new Error("invalid sig");if(t.cmp(e)>=0)throw new Error("invalid sig")}XY.exports=Ixe});var sJ=R((ynt,iJ)=>{"use strict";l();var u6=Dt().Buffer,rJ=l0(),f6=NQ(),nJ=Rt(),Oxe=$Y(),Pxe=ZY(),zl=DC();Object.keys(zl).forEach(function(t){zl[t].id=u6.from(zl[t].id,"hex"),zl[t.toLowerCase()]=zl[t]});function wy(t){f6.Writable.call(this);var e=zl[t];if(!e)throw new Error("Unknown message digest");this._hashType=e.hash,this._hash=rJ(e.hash),this._tag=e.id,this._signType=e.sign}nJ(wy,f6.Writable);wy.prototype._write=function(e,r,n){this._hash.update(e),n()};wy.prototype.update=function(e,r){return this._hash.update(typeof e=="string"?u6.from(e,r):e),this};wy.prototype.sign=function(e,r){this.end();var n=this._hash.digest(),i=Oxe(n,e,this._hashType,this._signType,this._tag);return r?i.toString(r):i};function _y(t){f6.Writable.call(this);var e=zl[t];if(!e)throw new Error("Unknown message digest");this._hash=rJ(e.hash),this._tag=e.id,this._signType=e.sign}nJ(_y,f6.Writable);_y.prototype._write=function(e,r,n){this._hash.update(e),n()};_y.prototype.update=function(e,r){return this._hash.update(typeof e=="string"?u6.from(e,r):e),this};_y.prototype.verify=function(e,r,n){var i=typeof r=="string"?u6.from(r,n):r;this.end();var s=this._hash.digest();return Pxe(i,s,e,this._signType,this._tag)};function eJ(t){return new wy(t)}function tJ(t){return new _y(t)}iJ.exports={Sign:eJ,Verify:tJ,createSign:eJ,createVerify:tJ}});var oJ=R((vnt,aJ)=>{l();var Rxe=yy(),Dxe=Nn();aJ.exports=function(e){return new Kl(e)};var Ns={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};Ns.p224=Ns.secp224r1;Ns.p256=Ns.secp256r1=Ns.prime256v1;Ns.p192=Ns.secp192r1=Ns.prime192v1;Ns.p384=Ns.secp384r1;Ns.p521=Ns.secp521r1;function Kl(t){this.curveType=Ns[t],this.curveType||(this.curveType={name:t}),this.curve=new Rxe.ec(this.curveType.name),this.keys=void 0}Kl.prototype.generateKeys=function(t,e){return this.keys=this.curve.genKeyPair(),this.getPublicKey(t,e)};Kl.prototype.computeSecret=function(t,e,r){e=e||"utf8",y.Buffer.isBuffer(t)||(t=new y.Buffer(t,e));var n=this.curve.keyFromPublic(t).getPublic(),i=n.mul(this.keys.getPrivate()).getX();return _9(i,r,this.curveType.byteLength)};Kl.prototype.getPublicKey=function(t,e){var r=this.keys.getPublic(e==="compressed",!0);return e==="hybrid"&&(r[r.length-1]%2?r[0]=7:r[0]=6),_9(r,t)};Kl.prototype.getPrivateKey=function(t){return _9(this.keys.getPrivate(),t)};Kl.prototype.setPublicKey=function(t,e){return e=e||"utf8",y.Buffer.isBuffer(t)||(t=new y.Buffer(t,e)),this.keys._importPublic(t),this};Kl.prototype.setPrivateKey=function(t,e){e=e||"utf8",y.Buffer.isBuffer(t)||(t=new y.Buffer(t,e));var r=new Dxe(t);return r=r.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(r),this};function _9(t,e,r){Array.isArray(t)||(t=t.toArray());var n=new y.Buffer(t);if(r&&n.length<r){var i=new y.Buffer(r-n.length);i.fill(0),n=y.Buffer.concat([i,n])}return e?n.toString(e):n}});var A9=R((wnt,cJ)=>{l();var Mxe=l0(),E9=Dt().Buffer;cJ.exports=function(t,e){for(var r=E9.alloc(0),n=0,i;r.length<e;)i=Bxe(n++),r=E9.concat([r,Mxe("sha1").update(t).update(i).digest()]);return r.slice(0,e)};function Bxe(t){var e=E9.allocUnsafe(4);return e.writeUInt32BE(t,0),e}});var S9=R((Ent,uJ)=>{l();uJ.exports=function(e,r){for(var n=e.length,i=-1;++i<n;)e[i]^=r[i];return e}});var x9=R((Snt,lJ)=>{l();var fJ=Nn(),Lxe=Dt().Buffer;function qxe(t,e){return Lxe.from(t.toRed(fJ.mont(e.modulus)).redPow(new fJ(e.publicExponent)).fromRed().toArray())}lJ.exports=qxe});var gJ=R((Tnt,pJ)=>{l();var Fxe=vy(),T9=Tl(),Uxe=l0(),dJ=A9(),hJ=S9(),I9=Nn(),kxe=x9(),Vxe=U3(),Qa=Dt().Buffer;pJ.exports=function(e,r,n){var i;e.padding?i=e.padding:n?i=1:i=4;var s=Fxe(e),a;if(i===4)a=Hxe(s,r);else if(i===1)a=Gxe(s,r,n);else if(i===3){if(a=new I9(r),a.cmp(s.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return n?Vxe(a,s):kxe(a,s)};function Hxe(t,e){var r=t.modulus.byteLength(),n=e.length,i=Uxe("sha1").update(Qa.alloc(0)).digest(),s=i.length,a=2*s;if(n>r-a-2)throw new Error("message too long");var o=Qa.alloc(r-n-a-2),c=r-s-1,u=T9(s),f=hJ(Qa.concat([i,o,Qa.alloc(1,1),e],c),dJ(u,c)),d=hJ(u,dJ(f,s));return new I9(Qa.concat([Qa.alloc(1),d,f],r))}function Gxe(t,e,r){var n=e.length,i=t.modulus.byteLength();if(n>i-11)throw new Error("message too long");var s;return r?s=Qa.alloc(i-n-3,255):s=jxe(i-n-3),new I9(Qa.concat([Qa.from([0,r?1:2]),s,Qa.alloc(1),e],i))}function jxe(t){for(var e=Qa.allocUnsafe(t),r=0,n=T9(t*2),i=0,s;r<t;)i===n.length&&(n=T9(t*2),i=0),s=n[i++],s&&(e[r++]=s);return e}});var wJ=R((Cnt,bJ)=>{l();var zxe=vy(),yJ=A9(),mJ=S9(),vJ=Nn(),Kxe=U3(),Wxe=l0(),Qxe=x9(),Ey=Dt().Buffer;bJ.exports=function(e,r,n){var i;e.padding?i=e.padding:n?i=1:i=4;var s=zxe(e),a=s.modulus.byteLength();if(r.length>a||new vJ(r).cmp(s.modulus)>=0)throw new Error("decryption error");var o;n?o=Qxe(new vJ(r),s):o=Kxe(r,s);var c=Ey.alloc(a-o.length);if(o=Ey.concat([c,o],a),i===4)return $xe(s,o);if(i===1)return Yxe(s,o,n);if(i===3)return o;throw new Error("unknown padding")};function $xe(t,e){var r=t.modulus.byteLength(),n=Wxe("sha1").update(Ey.alloc(0)).digest(),i=n.length;if(e[0]!==0)throw new Error("decryption error");var s=e.slice(1,i+1),a=e.slice(i+1),o=mJ(s,yJ(a,i)),c=mJ(a,yJ(o,r-i-1));if(Jxe(n,c.slice(0,i)))throw new Error("decryption error");for(var u=i;c[u]===0;)u++;if(c[u++]!==1)throw new Error("decryption error");return c.slice(u)}function Yxe(t,e,r){for(var n=e.slice(0,2),i=2,s=0;e[i++]!==0;)if(i>=e.length){s++;break}var a=e.slice(2,i-1);if((n.toString("hex")!=="0002"&&!r||n.toString("hex")!=="0001"&&r)&&s++,a.length<8&&s++,s)throw new Error("decryption error");return e.slice(i)}function Jxe(t,e){t=Ey.from(t),e=Ey.from(e);var r=0,n=t.length;t.length!==e.length&&(r++,n=Math.min(t.length,e.length));for(var i=-1;++i<n;)r+=t[i]^e[i];return r}});var _J=R(Wl=>{l();Wl.publicEncrypt=gJ();Wl.privateDecrypt=wJ();Wl.privateEncrypt=function(e,r){return Wl.publicEncrypt(e,r,!0)};Wl.publicDecrypt=function(e,r){return Wl.privateDecrypt(e,r,!0)}});var PJ=R(Ay=>{"use strict";l();function EJ(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var SJ=Dt(),AJ=Tl(),xJ=SJ.Buffer,TJ=SJ.kMaxLength,C9=global.crypto||global.msCrypto,IJ=Math.pow(2,32)-1;function CJ(t,e){if(typeof t!="number"||t!==t)throw new TypeError("offset must be a number");if(t>IJ||t<0)throw new TypeError("offset must be a uint32");if(t>TJ||t>e)throw new RangeError("offset out of range")}function NJ(t,e,r){if(typeof t!="number"||t!==t)throw new TypeError("size must be a number");if(t>IJ||t<0)throw new TypeError("size must be a uint32");if(t+e>r||t>TJ)throw new RangeError("buffer too small")}C9&&C9.getRandomValues||!A.default.browser?(Ay.randomFill=Xxe,Ay.randomFillSync=Zxe):(Ay.randomFill=EJ,Ay.randomFillSync=EJ);function Xxe(t,e,r,n){if(!xJ.isBuffer(t)&&!(t instanceof global.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof e=="function")n=e,e=0,r=t.length;else if(typeof r=="function")n=r,r=t.length-e;else if(typeof n!="function")throw new TypeError('"cb" argument must be a function');return CJ(e,t.length),NJ(r,e,t.length),OJ(t,e,r,n)}function OJ(t,e,r,n){if(A.default.browser){var i=t.buffer,s=new Uint8Array(i,e,r);if(C9.getRandomValues(s),n){A.default.nextTick(function(){n(null,t)});return}return t}if(n){AJ(r,function(o,c){if(o)return n(o);c.copy(t,e),n(null,t)});return}var a=AJ(r);return a.copy(t,e),t}function Zxe(t,e,r){if(typeof e>"u"&&(e=0),!xJ.isBuffer(t)&&!(t instanceof global.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return CJ(e,t.length),r===void 0&&(r=t.length-e),NJ(r,e,t.length),OJ(t,e,r)}});var cs=R(Xt=>{"use strict";l();Xt.randomBytes=Xt.rng=Xt.pseudoRandomBytes=Xt.prng=Tl();Xt.createHash=Xt.Hash=l0();Xt.createHmac=Xt.Hmac=u3();var eTe=oK(),tTe=Object.keys(eTe),rTe=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(tTe);Xt.getHashes=function(){return rTe};var RJ=HC();Xt.pbkdf2=RJ.pbkdf2;Xt.pbkdf2Sync=RJ.pbkdf2Sync;var Ho=NW();Xt.Cipher=Ho.Cipher;Xt.createCipher=Ho.createCipher;Xt.Cipheriv=Ho.Cipheriv;Xt.createCipheriv=Ho.createCipheriv;Xt.Decipher=Ho.Decipher;Xt.createDecipher=Ho.createDecipher;Xt.Decipheriv=Ho.Decipheriv;Xt.createDecipheriv=Ho.createDecipheriv;Xt.getCiphers=Ho.getCiphers;Xt.listCiphers=Ho.listCiphers;var Sy=HW();Xt.DiffieHellmanGroup=Sy.DiffieHellmanGroup;Xt.createDiffieHellmanGroup=Sy.createDiffieHellmanGroup;Xt.getDiffieHellman=Sy.getDiffieHellman;Xt.createDiffieHellman=Sy.createDiffieHellman;Xt.DiffieHellman=Sy.DiffieHellman;var l6=sJ();Xt.createSign=l6.createSign;Xt.Sign=l6.Sign;Xt.createVerify=l6.createVerify;Xt.Verify=l6.Verify;Xt.createECDH=oJ();var d6=_J();Xt.publicEncrypt=d6.publicEncrypt;Xt.privateEncrypt=d6.privateEncrypt;Xt.publicDecrypt=d6.publicDecrypt;Xt.privateDecrypt=d6.privateDecrypt;var DJ=PJ();Xt.randomFill=DJ.randomFill;Xt.randomFillSync=DJ.randomFillSync;Xt.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))};Xt.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}});var xy=R((Lnt,h6)=>{l();(function(t){"use strict";var e=function(M){var V,H=new Float64Array(16);if(M)for(V=0;V<M.length;V++)H[V]=M[V];return H},r=function(){throw new Error("no PRNG")},n=new Uint8Array(16),i=new Uint8Array(32);i[0]=9;var s=e(),a=e([1]),o=e([56129,1]),c=e([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),u=e([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),f=e([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),d=e([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),m=e([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function _(M,V,H,S){M[V]=H>>24&255,M[V+1]=H>>16&255,M[V+2]=H>>8&255,M[V+3]=H&255,M[V+4]=S>>24&255,M[V+5]=S>>16&255,M[V+6]=S>>8&255,M[V+7]=S&255}function x(M,V,H,S,z){var le,he=0;for(le=0;le<z;le++)he|=M[V+le]^H[S+le];return(1&he-1>>>8)-1}function P(M,V,H,S){return x(M,V,H,S,16)}function D(M,V,H,S){return x(M,V,H,S,32)}function k(M,V,H,S){for(var z=S[0]&255|(S[1]&255)<<8|(S[2]&255)<<16|(S[3]&255)<<24,le=H[0]&255|(H[1]&255)<<8|(H[2]&255)<<16|(H[3]&255)<<24,he=H[4]&255|(H[5]&255)<<8|(H[6]&255)<<16|(H[7]&255)<<24,me=H[8]&255|(H[9]&255)<<8|(H[10]&255)<<16|(H[11]&255)<<24,Ae=H[12]&255|(H[13]&255)<<8|(H[14]&255)<<16|(H[15]&255)<<24,Re=S[4]&255|(S[5]&255)<<8|(S[6]&255)<<16|(S[7]&255)<<24,Ne=V[0]&255|(V[1]&255)<<8|(V[2]&255)<<16|(V[3]&255)<<24,Nt=V[4]&255|(V[5]&255)<<8|(V[6]&255)<<16|(V[7]&255)<<24,ke=V[8]&255|(V[9]&255)<<8|(V[10]&255)<<16|(V[11]&255)<<24,rt=V[12]&255|(V[13]&255)<<8|(V[14]&255)<<16|(V[15]&255)<<24,it=S[8]&255|(S[9]&255)<<8|(S[10]&255)<<16|(S[11]&255)<<24,ft=H[16]&255|(H[17]&255)<<8|(H[18]&255)<<16|(H[19]&255)<<24,ot=H[20]&255|(H[21]&255)<<8|(H[22]&255)<<16|(H[23]&255)<<24,ht=H[24]&255|(H[25]&255)<<8|(H[26]&255)<<16|(H[27]&255)<<24,mt=H[28]&255|(H[29]&255)<<8|(H[30]&255)<<16|(H[31]&255)<<24,pt=S[12]&255|(S[13]&255)<<8|(S[14]&255)<<16|(S[15]&255)<<24,Ge=z,$e=le,Ve=he,ze=me,Ke=Ae,Ue=Re,we=Ne,_e=Nt,Oe=ke,Te=rt,Ce=it,De=ft,Tt=ot,Bt=ht,kt=mt,Lt=pt,ie,Yt=0;Yt<20;Yt+=2)ie=Ge+Tt|0,Ke^=ie<<7|ie>>>25,ie=Ke+Ge|0,Oe^=ie<<9|ie>>>23,ie=Oe+Ke|0,Tt^=ie<<13|ie>>>19,ie=Tt+Oe|0,Ge^=ie<<18|ie>>>14,ie=Ue+$e|0,Te^=ie<<7|ie>>>25,ie=Te+Ue|0,Bt^=ie<<9|ie>>>23,ie=Bt+Te|0,$e^=ie<<13|ie>>>19,ie=$e+Bt|0,Ue^=ie<<18|ie>>>14,ie=Ce+we|0,kt^=ie<<7|ie>>>25,ie=kt+Ce|0,Ve^=ie<<9|ie>>>23,ie=Ve+kt|0,we^=ie<<13|ie>>>19,ie=we+Ve|0,Ce^=ie<<18|ie>>>14,ie=Lt+De|0,ze^=ie<<7|ie>>>25,ie=ze+Lt|0,_e^=ie<<9|ie>>>23,ie=_e+ze|0,De^=ie<<13|ie>>>19,ie=De+_e|0,Lt^=ie<<18|ie>>>14,ie=Ge+ze|0,$e^=ie<<7|ie>>>25,ie=$e+Ge|0,Ve^=ie<<9|ie>>>23,ie=Ve+$e|0,ze^=ie<<13|ie>>>19,ie=ze+Ve|0,Ge^=ie<<18|ie>>>14,ie=Ue+Ke|0,we^=ie<<7|ie>>>25,ie=we+Ue|0,_e^=ie<<9|ie>>>23,ie=_e+we|0,Ke^=ie<<13|ie>>>19,ie=Ke+_e|0,Ue^=ie<<18|ie>>>14,ie=Ce+Te|0,De^=ie<<7|ie>>>25,ie=De+Ce|0,Oe^=ie<<9|ie>>>23,ie=Oe+De|0,Te^=ie<<13|ie>>>19,ie=Te+Oe|0,Ce^=ie<<18|ie>>>14,ie=Lt+kt|0,Tt^=ie<<7|ie>>>25,ie=Tt+Lt|0,Bt^=ie<<9|ie>>>23,ie=Bt+Tt|0,kt^=ie<<13|ie>>>19,ie=kt+Bt|0,Lt^=ie<<18|ie>>>14;Ge=Ge+z|0,$e=$e+le|0,Ve=Ve+he|0,ze=ze+me|0,Ke=Ke+Ae|0,Ue=Ue+Re|0,we=we+Ne|0,_e=_e+Nt|0,Oe=Oe+ke|0,Te=Te+rt|0,Ce=Ce+it|0,De=De+ft|0,Tt=Tt+ot|0,Bt=Bt+ht|0,kt=kt+mt|0,Lt=Lt+pt|0,M[0]=Ge>>>0&255,M[1]=Ge>>>8&255,M[2]=Ge>>>16&255,M[3]=Ge>>>24&255,M[4]=$e>>>0&255,M[5]=$e>>>8&255,M[6]=$e>>>16&255,M[7]=$e>>>24&255,M[8]=Ve>>>0&255,M[9]=Ve>>>8&255,M[10]=Ve>>>16&255,M[11]=Ve>>>24&255,M[12]=ze>>>0&255,M[13]=ze>>>8&255,M[14]=ze>>>16&255,M[15]=ze>>>24&255,M[16]=Ke>>>0&255,M[17]=Ke>>>8&255,M[18]=Ke>>>16&255,M[19]=Ke>>>24&255,M[20]=Ue>>>0&255,M[21]=Ue>>>8&255,M[22]=Ue>>>16&255,M[23]=Ue>>>24&255,M[24]=we>>>0&255,M[25]=we>>>8&255,M[26]=we>>>16&255,M[27]=we>>>24&255,M[28]=_e>>>0&255,M[29]=_e>>>8&255,M[30]=_e>>>16&255,M[31]=_e>>>24&255,M[32]=Oe>>>0&255,M[33]=Oe>>>8&255,M[34]=Oe>>>16&255,M[35]=Oe>>>24&255,M[36]=Te>>>0&255,M[37]=Te>>>8&255,M[38]=Te>>>16&255,M[39]=Te>>>24&255,M[40]=Ce>>>0&255,M[41]=Ce>>>8&255,M[42]=Ce>>>16&255,M[43]=Ce>>>24&255,M[44]=De>>>0&255,M[45]=De>>>8&255,M[46]=De>>>16&255,M[47]=De>>>24&255,M[48]=Tt>>>0&255,M[49]=Tt>>>8&255,M[50]=Tt>>>16&255,M[51]=Tt>>>24&255,M[52]=Bt>>>0&255,M[53]=Bt>>>8&255,M[54]=Bt>>>16&255,M[55]=Bt>>>24&255,M[56]=kt>>>0&255,M[57]=kt>>>8&255,M[58]=kt>>>16&255,M[59]=kt>>>24&255,M[60]=Lt>>>0&255,M[61]=Lt>>>8&255,M[62]=Lt>>>16&255,M[63]=Lt>>>24&255}function Y(M,V,H,S){for(var z=S[0]&255|(S[1]&255)<<8|(S[2]&255)<<16|(S[3]&255)<<24,le=H[0]&255|(H[1]&255)<<8|(H[2]&255)<<16|(H[3]&255)<<24,he=H[4]&255|(H[5]&255)<<8|(H[6]&255)<<16|(H[7]&255)<<24,me=H[8]&255|(H[9]&255)<<8|(H[10]&255)<<16|(H[11]&255)<<24,Ae=H[12]&255|(H[13]&255)<<8|(H[14]&255)<<16|(H[15]&255)<<24,Re=S[4]&255|(S[5]&255)<<8|(S[6]&255)<<16|(S[7]&255)<<24,Ne=V[0]&255|(V[1]&255)<<8|(V[2]&255)<<16|(V[3]&255)<<24,Nt=V[4]&255|(V[5]&255)<<8|(V[6]&255)<<16|(V[7]&255)<<24,ke=V[8]&255|(V[9]&255)<<8|(V[10]&255)<<16|(V[11]&255)<<24,rt=V[12]&255|(V[13]&255)<<8|(V[14]&255)<<16|(V[15]&255)<<24,it=S[8]&255|(S[9]&255)<<8|(S[10]&255)<<16|(S[11]&255)<<24,ft=H[16]&255|(H[17]&255)<<8|(H[18]&255)<<16|(H[19]&255)<<24,ot=H[20]&255|(H[21]&255)<<8|(H[22]&255)<<16|(H[23]&255)<<24,ht=H[24]&255|(H[25]&255)<<8|(H[26]&255)<<16|(H[27]&255)<<24,mt=H[28]&255|(H[29]&255)<<8|(H[30]&255)<<16|(H[31]&255)<<24,pt=S[12]&255|(S[13]&255)<<8|(S[14]&255)<<16|(S[15]&255)<<24,Ge=z,$e=le,Ve=he,ze=me,Ke=Ae,Ue=Re,we=Ne,_e=Nt,Oe=ke,Te=rt,Ce=it,De=ft,Tt=ot,Bt=ht,kt=mt,Lt=pt,ie,Yt=0;Yt<20;Yt+=2)ie=Ge+Tt|0,Ke^=ie<<7|ie>>>25,ie=Ke+Ge|0,Oe^=ie<<9|ie>>>23,ie=Oe+Ke|0,Tt^=ie<<13|ie>>>19,ie=Tt+Oe|0,Ge^=ie<<18|ie>>>14,ie=Ue+$e|0,Te^=ie<<7|ie>>>25,ie=Te+Ue|0,Bt^=ie<<9|ie>>>23,ie=Bt+Te|0,$e^=ie<<13|ie>>>19,ie=$e+Bt|0,Ue^=ie<<18|ie>>>14,ie=Ce+we|0,kt^=ie<<7|ie>>>25,ie=kt+Ce|0,Ve^=ie<<9|ie>>>23,ie=Ve+kt|0,we^=ie<<13|ie>>>19,ie=we+Ve|0,Ce^=ie<<18|ie>>>14,ie=Lt+De|0,ze^=ie<<7|ie>>>25,ie=ze+Lt|0,_e^=ie<<9|ie>>>23,ie=_e+ze|0,De^=ie<<13|ie>>>19,ie=De+_e|0,Lt^=ie<<18|ie>>>14,ie=Ge+ze|0,$e^=ie<<7|ie>>>25,ie=$e+Ge|0,Ve^=ie<<9|ie>>>23,ie=Ve+$e|0,ze^=ie<<13|ie>>>19,ie=ze+Ve|0,Ge^=ie<<18|ie>>>14,ie=Ue+Ke|0,we^=ie<<7|ie>>>25,ie=we+Ue|0,_e^=ie<<9|ie>>>23,ie=_e+we|0,Ke^=ie<<13|ie>>>19,ie=Ke+_e|0,Ue^=ie<<18|ie>>>14,ie=Ce+Te|0,De^=ie<<7|ie>>>25,ie=De+Ce|0,Oe^=ie<<9|ie>>>23,ie=Oe+De|0,Te^=ie<<13|ie>>>19,ie=Te+Oe|0,Ce^=ie<<18|ie>>>14,ie=Lt+kt|0,Tt^=ie<<7|ie>>>25,ie=Tt+Lt|0,Bt^=ie<<9|ie>>>23,ie=Bt+Tt|0,kt^=ie<<13|ie>>>19,ie=kt+Bt|0,Lt^=ie<<18|ie>>>14;M[0]=Ge>>>0&255,M[1]=Ge>>>8&255,M[2]=Ge>>>16&255,M[3]=Ge>>>24&255,M[4]=Ue>>>0&255,M[5]=Ue>>>8&255,M[6]=Ue>>>16&255,M[7]=Ue>>>24&255,M[8]=Ce>>>0&255,M[9]=Ce>>>8&255,M[10]=Ce>>>16&255,M[11]=Ce>>>24&255,M[12]=Lt>>>0&255,M[13]=Lt>>>8&255,M[14]=Lt>>>16&255,M[15]=Lt>>>24&255,M[16]=we>>>0&255,M[17]=we>>>8&255,M[18]=we>>>16&255,M[19]=we>>>24&255,M[20]=_e>>>0&255,M[21]=_e>>>8&255,M[22]=_e>>>16&255,M[23]=_e>>>24&255,M[24]=Oe>>>0&255,M[25]=Oe>>>8&255,M[26]=Oe>>>16&255,M[27]=Oe>>>24&255,M[28]=Te>>>0&255,M[29]=Te>>>8&255,M[30]=Te>>>16&255,M[31]=Te>>>24&255}function X(M,V,H,S){k(M,V,H,S)}function Z(M,V,H,S){Y(M,V,H,S)}var U=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function Q(M,V,H,S,z,le,he){var me=new Uint8Array(16),Ae=new Uint8Array(64),Re,Ne;for(Ne=0;Ne<16;Ne++)me[Ne]=0;for(Ne=0;Ne<8;Ne++)me[Ne]=le[Ne];for(;z>=64;){for(X(Ae,me,he,U),Ne=0;Ne<64;Ne++)M[V+Ne]=H[S+Ne]^Ae[Ne];for(Re=1,Ne=8;Ne<16;Ne++)Re=Re+(me[Ne]&255)|0,me[Ne]=Re&255,Re>>>=8;z-=64,V+=64,S+=64}if(z>0)for(X(Ae,me,he,U),Ne=0;Ne<z;Ne++)M[V+Ne]=H[S+Ne]^Ae[Ne];return 0}function j(M,V,H,S,z){var le=new Uint8Array(16),he=new Uint8Array(64),me,Ae;for(Ae=0;Ae<16;Ae++)le[Ae]=0;for(Ae=0;Ae<8;Ae++)le[Ae]=S[Ae];for(;H>=64;){for(X(he,le,z,U),Ae=0;Ae<64;Ae++)M[V+Ae]=he[Ae];for(me=1,Ae=8;Ae<16;Ae++)me=me+(le[Ae]&255)|0,le[Ae]=me&255,me>>>=8;H-=64,V+=64}if(H>0)for(X(he,le,z,U),Ae=0;Ae<H;Ae++)M[V+Ae]=he[Ae];return 0}function K(M,V,H,S,z){var le=new Uint8Array(32);Z(le,S,z,U);for(var he=new Uint8Array(8),me=0;me<8;me++)he[me]=S[me+16];return j(M,V,H,he,le)}function $(M,V,H,S,z,le,he){var me=new Uint8Array(32);Z(me,le,he,U);for(var Ae=new Uint8Array(8),Re=0;Re<8;Re++)Ae[Re]=le[Re+16];return Q(M,V,H,S,z,Ae,me)}var L=function(M){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var V,H,S,z,le,he,me,Ae;V=M[0]&255|(M[1]&255)<<8,this.r[0]=V&8191,H=M[2]&255|(M[3]&255)<<8,this.r[1]=(V>>>13|H<<3)&8191,S=M[4]&255|(M[5]&255)<<8,this.r[2]=(H>>>10|S<<6)&7939,z=M[6]&255|(M[7]&255)<<8,this.r[3]=(S>>>7|z<<9)&8191,le=M[8]&255|(M[9]&255)<<8,this.r[4]=(z>>>4|le<<12)&255,this.r[5]=le>>>1&8190,he=M[10]&255|(M[11]&255)<<8,this.r[6]=(le>>>14|he<<2)&8191,me=M[12]&255|(M[13]&255)<<8,this.r[7]=(he>>>11|me<<5)&8065,Ae=M[14]&255|(M[15]&255)<<8,this.r[8]=(me>>>8|Ae<<8)&8191,this.r[9]=Ae>>>5&127,this.pad[0]=M[16]&255|(M[17]&255)<<8,this.pad[1]=M[18]&255|(M[19]&255)<<8,this.pad[2]=M[20]&255|(M[21]&255)<<8,this.pad[3]=M[22]&255|(M[23]&255)<<8,this.pad[4]=M[24]&255|(M[25]&255)<<8,this.pad[5]=M[26]&255|(M[27]&255)<<8,this.pad[6]=M[28]&255|(M[29]&255)<<8,this.pad[7]=M[30]&255|(M[31]&255)<<8};L.prototype.blocks=function(M,V,H){for(var S=this.fin?0:2048,z,le,he,me,Ae,Re,Ne,Nt,ke,rt,it,ft,ot,ht,mt,pt,Ge,$e,Ve,ze=this.h[0],Ke=this.h[1],Ue=this.h[2],we=this.h[3],_e=this.h[4],Oe=this.h[5],Te=this.h[6],Ce=this.h[7],De=this.h[8],Tt=this.h[9],Bt=this.r[0],kt=this.r[1],Lt=this.r[2],ie=this.r[3],Yt=this.r[4],yr=this.r[5],mr=this.r[6],zt=this.r[7],lr=this.r[8],dr=this.r[9];H>=16;)z=M[V+0]&255|(M[V+1]&255)<<8,ze+=z&8191,le=M[V+2]&255|(M[V+3]&255)<<8,Ke+=(z>>>13|le<<3)&8191,he=M[V+4]&255|(M[V+5]&255)<<8,Ue+=(le>>>10|he<<6)&8191,me=M[V+6]&255|(M[V+7]&255)<<8,we+=(he>>>7|me<<9)&8191,Ae=M[V+8]&255|(M[V+9]&255)<<8,_e+=(me>>>4|Ae<<12)&8191,Oe+=Ae>>>1&8191,Re=M[V+10]&255|(M[V+11]&255)<<8,Te+=(Ae>>>14|Re<<2)&8191,Ne=M[V+12]&255|(M[V+13]&255)<<8,Ce+=(Re>>>11|Ne<<5)&8191,Nt=M[V+14]&255|(M[V+15]&255)<<8,De+=(Ne>>>8|Nt<<8)&8191,Tt+=Nt>>>5|S,ke=0,rt=ke,rt+=ze*Bt,rt+=Ke*(5*dr),rt+=Ue*(5*lr),rt+=we*(5*zt),rt+=_e*(5*mr),ke=rt>>>13,rt&=8191,rt+=Oe*(5*yr),rt+=Te*(5*Yt),rt+=Ce*(5*ie),rt+=De*(5*Lt),rt+=Tt*(5*kt),ke+=rt>>>13,rt&=8191,it=ke,it+=ze*kt,it+=Ke*Bt,it+=Ue*(5*dr),it+=we*(5*lr),it+=_e*(5*zt),ke=it>>>13,it&=8191,it+=Oe*(5*mr),it+=Te*(5*yr),it+=Ce*(5*Yt),it+=De*(5*ie),it+=Tt*(5*Lt),ke+=it>>>13,it&=8191,ft=ke,ft+=ze*Lt,ft+=Ke*kt,ft+=Ue*Bt,ft+=we*(5*dr),ft+=_e*(5*lr),ke=ft>>>13,ft&=8191,ft+=Oe*(5*zt),ft+=Te*(5*mr),ft+=Ce*(5*yr),ft+=De*(5*Yt),ft+=Tt*(5*ie),ke+=ft>>>13,ft&=8191,ot=ke,ot+=ze*ie,ot+=Ke*Lt,ot+=Ue*kt,ot+=we*Bt,ot+=_e*(5*dr),ke=ot>>>13,ot&=8191,ot+=Oe*(5*lr),ot+=Te*(5*zt),ot+=Ce*(5*mr),ot+=De*(5*yr),ot+=Tt*(5*Yt),ke+=ot>>>13,ot&=8191,ht=ke,ht+=ze*Yt,ht+=Ke*ie,ht+=Ue*Lt,ht+=we*kt,ht+=_e*Bt,ke=ht>>>13,ht&=8191,ht+=Oe*(5*dr),ht+=Te*(5*lr),ht+=Ce*(5*zt),ht+=De*(5*mr),ht+=Tt*(5*yr),ke+=ht>>>13,ht&=8191,mt=ke,mt+=ze*yr,mt+=Ke*Yt,mt+=Ue*ie,mt+=we*Lt,mt+=_e*kt,ke=mt>>>13,mt&=8191,mt+=Oe*Bt,mt+=Te*(5*dr),mt+=Ce*(5*lr),mt+=De*(5*zt),mt+=Tt*(5*mr),ke+=mt>>>13,mt&=8191,pt=ke,pt+=ze*mr,pt+=Ke*yr,pt+=Ue*Yt,pt+=we*ie,pt+=_e*Lt,ke=pt>>>13,pt&=8191,pt+=Oe*kt,pt+=Te*Bt,pt+=Ce*(5*dr),pt+=De*(5*lr),pt+=Tt*(5*zt),ke+=pt>>>13,pt&=8191,Ge=ke,Ge+=ze*zt,Ge+=Ke*mr,Ge+=Ue*yr,Ge+=we*Yt,Ge+=_e*ie,ke=Ge>>>13,Ge&=8191,Ge+=Oe*Lt,Ge+=Te*kt,Ge+=Ce*Bt,Ge+=De*(5*dr),Ge+=Tt*(5*lr),ke+=Ge>>>13,Ge&=8191,$e=ke,$e+=ze*lr,$e+=Ke*zt,$e+=Ue*mr,$e+=we*yr,$e+=_e*Yt,ke=$e>>>13,$e&=8191,$e+=Oe*ie,$e+=Te*Lt,$e+=Ce*kt,$e+=De*Bt,$e+=Tt*(5*dr),ke+=$e>>>13,$e&=8191,Ve=ke,Ve+=ze*dr,Ve+=Ke*lr,Ve+=Ue*zt,Ve+=we*mr,Ve+=_e*yr,ke=Ve>>>13,Ve&=8191,Ve+=Oe*Yt,Ve+=Te*ie,Ve+=Ce*Lt,Ve+=De*kt,Ve+=Tt*Bt,ke+=Ve>>>13,Ve&=8191,ke=(ke<<2)+ke|0,ke=ke+rt|0,rt=ke&8191,ke=ke>>>13,it+=ke,ze=rt,Ke=it,Ue=ft,we=ot,_e=ht,Oe=mt,Te=pt,Ce=Ge,De=$e,Tt=Ve,V+=16,H-=16;this.h[0]=ze,this.h[1]=Ke,this.h[2]=Ue,this.h[3]=we,this.h[4]=_e,this.h[5]=Oe,this.h[6]=Te,this.h[7]=Ce,this.h[8]=De,this.h[9]=Tt},L.prototype.finish=function(M,V){var H=new Uint16Array(10),S,z,le,he;if(this.leftover){for(he=this.leftover,this.buffer[he++]=1;he<16;he++)this.buffer[he]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(S=this.h[1]>>>13,this.h[1]&=8191,he=2;he<10;he++)this.h[he]+=S,S=this.h[he]>>>13,this.h[he]&=8191;for(this.h[0]+=S*5,S=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=S,S=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=S,H[0]=this.h[0]+5,S=H[0]>>>13,H[0]&=8191,he=1;he<10;he++)H[he]=this.h[he]+S,S=H[he]>>>13,H[he]&=8191;for(H[9]-=8192,z=(S^1)-1,he=0;he<10;he++)H[he]&=z;for(z=~z,he=0;he<10;he++)this.h[he]=this.h[he]&z|H[he];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,le=this.h[0]+this.pad[0],this.h[0]=le&65535,he=1;he<8;he++)le=(this.h[he]+this.pad[he]|0)+(le>>>16)|0,this.h[he]=le&65535;M[V+0]=this.h[0]>>>0&255,M[V+1]=this.h[0]>>>8&255,M[V+2]=this.h[1]>>>0&255,M[V+3]=this.h[1]>>>8&255,M[V+4]=this.h[2]>>>0&255,M[V+5]=this.h[2]>>>8&255,M[V+6]=this.h[3]>>>0&255,M[V+7]=this.h[3]>>>8&255,M[V+8]=this.h[4]>>>0&255,M[V+9]=this.h[4]>>>8&255,M[V+10]=this.h[5]>>>0&255,M[V+11]=this.h[5]>>>8&255,M[V+12]=this.h[6]>>>0&255,M[V+13]=this.h[6]>>>8&255,M[V+14]=this.h[7]>>>0&255,M[V+15]=this.h[7]>>>8&255},L.prototype.update=function(M,V,H){var S,z;if(this.leftover){for(z=16-this.leftover,z>H&&(z=H),S=0;S<z;S++)this.buffer[this.leftover+S]=M[V+S];if(H-=z,V+=z,this.leftover+=z,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(H>=16&&(z=H-H%16,this.blocks(M,V,z),V+=z,H-=z),H){for(S=0;S<H;S++)this.buffer[this.leftover+S]=M[V+S];this.leftover+=H}};function v(M,V,H,S,z,le){var he=new L(le);return he.update(H,S,z),he.finish(M,V),0}function E(M,V,H,S,z,le){var he=new Uint8Array(16);return v(he,0,H,S,z,le),P(M,V,he,0)}function p(M,V,H,S,z){var le;if(H<32)return-1;for($(M,0,V,0,H,S,z),v(M,16,M,32,H-32,M),le=0;le<16;le++)M[le]=0;return 0}function g(M,V,H,S,z){var le,he=new Uint8Array(32);if(H<32||(K(he,0,32,S,z),E(V,16,V,32,H-32,he)!==0))return-1;for($(M,0,V,0,H,S,z),le=0;le<32;le++)M[le]=0;return 0}function b(M,V){var H;for(H=0;H<16;H++)M[H]=V[H]|0}function I(M){var V,H,S=1;for(V=0;V<16;V++)H=M[V]+S+65535,S=Math.floor(H/65536),M[V]=H-S*65536;M[0]+=S-1+37*(S-1)}function O(M,V,H){for(var S,z=~(H-1),le=0;le<16;le++)S=z&(M[le]^V[le]),M[le]^=S,V[le]^=S}function N(M,V){var H,S,z,le=e(),he=e();for(H=0;H<16;H++)he[H]=V[H];for(I(he),I(he),I(he),S=0;S<2;S++){for(le[0]=he[0]-65517,H=1;H<15;H++)le[H]=he[H]-65535-(le[H-1]>>16&1),le[H-1]&=65535;le[15]=he[15]-32767-(le[14]>>16&1),z=le[15]>>16&1,le[14]&=65535,O(he,le,1-z)}for(H=0;H<16;H++)M[2*H]=he[H]&255,M[2*H+1]=he[H]>>8}function w(M,V){var H=new Uint8Array(32),S=new Uint8Array(32);return N(H,M),N(S,V),D(H,0,S,0)}function C(M){var V=new Uint8Array(32);return N(V,M),V[0]&1}function T(M,V){var H;for(H=0;H<16;H++)M[H]=V[2*H]+(V[2*H+1]<<8);M[15]&=32767}function F(M,V,H){for(var S=0;S<16;S++)M[S]=V[S]+H[S]}function ee(M,V,H){for(var S=0;S<16;S++)M[S]=V[S]-H[S]}function fe(M,V,H){var S,z,le=0,he=0,me=0,Ae=0,Re=0,Ne=0,Nt=0,ke=0,rt=0,it=0,ft=0,ot=0,ht=0,mt=0,pt=0,Ge=0,$e=0,Ve=0,ze=0,Ke=0,Ue=0,we=0,_e=0,Oe=0,Te=0,Ce=0,De=0,Tt=0,Bt=0,kt=0,Lt=0,ie=H[0],Yt=H[1],yr=H[2],mr=H[3],zt=H[4],lr=H[5],dr=H[6],ln=H[7],Nr=H[8],nn=H[9],sn=H[10],an=H[11],An=H[12],Wn=H[13],Qn=H[14],$n=H[15];S=V[0],le+=S*ie,he+=S*Yt,me+=S*yr,Ae+=S*mr,Re+=S*zt,Ne+=S*lr,Nt+=S*dr,ke+=S*ln,rt+=S*Nr,it+=S*nn,ft+=S*sn,ot+=S*an,ht+=S*An,mt+=S*Wn,pt+=S*Qn,Ge+=S*$n,S=V[1],he+=S*ie,me+=S*Yt,Ae+=S*yr,Re+=S*mr,Ne+=S*zt,Nt+=S*lr,ke+=S*dr,rt+=S*ln,it+=S*Nr,ft+=S*nn,ot+=S*sn,ht+=S*an,mt+=S*An,pt+=S*Wn,Ge+=S*Qn,$e+=S*$n,S=V[2],me+=S*ie,Ae+=S*Yt,Re+=S*yr,Ne+=S*mr,Nt+=S*zt,ke+=S*lr,rt+=S*dr,it+=S*ln,ft+=S*Nr,ot+=S*nn,ht+=S*sn,mt+=S*an,pt+=S*An,Ge+=S*Wn,$e+=S*Qn,Ve+=S*$n,S=V[3],Ae+=S*ie,Re+=S*Yt,Ne+=S*yr,Nt+=S*mr,ke+=S*zt,rt+=S*lr,it+=S*dr,ft+=S*ln,ot+=S*Nr,ht+=S*nn,mt+=S*sn,pt+=S*an,Ge+=S*An,$e+=S*Wn,Ve+=S*Qn,ze+=S*$n,S=V[4],Re+=S*ie,Ne+=S*Yt,Nt+=S*yr,ke+=S*mr,rt+=S*zt,it+=S*lr,ft+=S*dr,ot+=S*ln,ht+=S*Nr,mt+=S*nn,pt+=S*sn,Ge+=S*an,$e+=S*An,Ve+=S*Wn,ze+=S*Qn,Ke+=S*$n,S=V[5],Ne+=S*ie,Nt+=S*Yt,ke+=S*yr,rt+=S*mr,it+=S*zt,ft+=S*lr,ot+=S*dr,ht+=S*ln,mt+=S*Nr,pt+=S*nn,Ge+=S*sn,$e+=S*an,Ve+=S*An,ze+=S*Wn,Ke+=S*Qn,Ue+=S*$n,S=V[6],Nt+=S*ie,ke+=S*Yt,rt+=S*yr,it+=S*mr,ft+=S*zt,ot+=S*lr,ht+=S*dr,mt+=S*ln,pt+=S*Nr,Ge+=S*nn,$e+=S*sn,Ve+=S*an,ze+=S*An,Ke+=S*Wn,Ue+=S*Qn,we+=S*$n,S=V[7],ke+=S*ie,rt+=S*Yt,it+=S*yr,ft+=S*mr,ot+=S*zt,ht+=S*lr,mt+=S*dr,pt+=S*ln,Ge+=S*Nr,$e+=S*nn,Ve+=S*sn,ze+=S*an,Ke+=S*An,Ue+=S*Wn,we+=S*Qn,_e+=S*$n,S=V[8],rt+=S*ie,it+=S*Yt,ft+=S*yr,ot+=S*mr,ht+=S*zt,mt+=S*lr,pt+=S*dr,Ge+=S*ln,$e+=S*Nr,Ve+=S*nn,ze+=S*sn,Ke+=S*an,Ue+=S*An,we+=S*Wn,_e+=S*Qn,Oe+=S*$n,S=V[9],it+=S*ie,ft+=S*Yt,ot+=S*yr,ht+=S*mr,mt+=S*zt,pt+=S*lr,Ge+=S*dr,$e+=S*ln,Ve+=S*Nr,ze+=S*nn,Ke+=S*sn,Ue+=S*an,we+=S*An,_e+=S*Wn,Oe+=S*Qn,Te+=S*$n,S=V[10],ft+=S*ie,ot+=S*Yt,ht+=S*yr,mt+=S*mr,pt+=S*zt,Ge+=S*lr,$e+=S*dr,Ve+=S*ln,ze+=S*Nr,Ke+=S*nn,Ue+=S*sn,we+=S*an,_e+=S*An,Oe+=S*Wn,Te+=S*Qn,Ce+=S*$n,S=V[11],ot+=S*ie,ht+=S*Yt,mt+=S*yr,pt+=S*mr,Ge+=S*zt,$e+=S*lr,Ve+=S*dr,ze+=S*ln,Ke+=S*Nr,Ue+=S*nn,we+=S*sn,_e+=S*an,Oe+=S*An,Te+=S*Wn,Ce+=S*Qn,De+=S*$n,S=V[12],ht+=S*ie,mt+=S*Yt,pt+=S*yr,Ge+=S*mr,$e+=S*zt,Ve+=S*lr,ze+=S*dr,Ke+=S*ln,Ue+=S*Nr,we+=S*nn,_e+=S*sn,Oe+=S*an,Te+=S*An,Ce+=S*Wn,De+=S*Qn,Tt+=S*$n,S=V[13],mt+=S*ie,pt+=S*Yt,Ge+=S*yr,$e+=S*mr,Ve+=S*zt,ze+=S*lr,Ke+=S*dr,Ue+=S*ln,we+=S*Nr,_e+=S*nn,Oe+=S*sn,Te+=S*an,Ce+=S*An,De+=S*Wn,Tt+=S*Qn,Bt+=S*$n,S=V[14],pt+=S*ie,Ge+=S*Yt,$e+=S*yr,Ve+=S*mr,ze+=S*zt,Ke+=S*lr,Ue+=S*dr,we+=S*ln,_e+=S*Nr,Oe+=S*nn,Te+=S*sn,Ce+=S*an,De+=S*An,Tt+=S*Wn,Bt+=S*Qn,kt+=S*$n,S=V[15],Ge+=S*ie,$e+=S*Yt,Ve+=S*yr,ze+=S*mr,Ke+=S*zt,Ue+=S*lr,we+=S*dr,_e+=S*ln,Oe+=S*Nr,Te+=S*nn,Ce+=S*sn,De+=S*an,Tt+=S*An,Bt+=S*Wn,kt+=S*Qn,Lt+=S*$n,le+=38*$e,he+=38*Ve,me+=38*ze,Ae+=38*Ke,Re+=38*Ue,Ne+=38*we,Nt+=38*_e,ke+=38*Oe,rt+=38*Te,it+=38*Ce,ft+=38*De,ot+=38*Tt,ht+=38*Bt,mt+=38*kt,pt+=38*Lt,z=1,S=le+z+65535,z=Math.floor(S/65536),le=S-z*65536,S=he+z+65535,z=Math.floor(S/65536),he=S-z*65536,S=me+z+65535,z=Math.floor(S/65536),me=S-z*65536,S=Ae+z+65535,z=Math.floor(S/65536),Ae=S-z*65536,S=Re+z+65535,z=Math.floor(S/65536),Re=S-z*65536,S=Ne+z+65535,z=Math.floor(S/65536),Ne=S-z*65536,S=Nt+z+65535,z=Math.floor(S/65536),Nt=S-z*65536,S=ke+z+65535,z=Math.floor(S/65536),ke=S-z*65536,S=rt+z+65535,z=Math.floor(S/65536),rt=S-z*65536,S=it+z+65535,z=Math.floor(S/65536),it=S-z*65536,S=ft+z+65535,z=Math.floor(S/65536),ft=S-z*65536,S=ot+z+65535,z=Math.floor(S/65536),ot=S-z*65536,S=ht+z+65535,z=Math.floor(S/65536),ht=S-z*65536,S=mt+z+65535,z=Math.floor(S/65536),mt=S-z*65536,S=pt+z+65535,z=Math.floor(S/65536),pt=S-z*65536,S=Ge+z+65535,z=Math.floor(S/65536),Ge=S-z*65536,le+=z-1+37*(z-1),z=1,S=le+z+65535,z=Math.floor(S/65536),le=S-z*65536,S=he+z+65535,z=Math.floor(S/65536),he=S-z*65536,S=me+z+65535,z=Math.floor(S/65536),me=S-z*65536,S=Ae+z+65535,z=Math.floor(S/65536),Ae=S-z*65536,S=Re+z+65535,z=Math.floor(S/65536),Re=S-z*65536,S=Ne+z+65535,z=Math.floor(S/65536),Ne=S-z*65536,S=Nt+z+65535,z=Math.floor(S/65536),Nt=S-z*65536,S=ke+z+65535,z=Math.floor(S/65536),ke=S-z*65536,S=rt+z+65535,z=Math.floor(S/65536),rt=S-z*65536,S=it+z+65535,z=Math.floor(S/65536),it=S-z*65536,S=ft+z+65535,z=Math.floor(S/65536),ft=S-z*65536,S=ot+z+65535,z=Math.floor(S/65536),ot=S-z*65536,S=ht+z+65535,z=Math.floor(S/65536),ht=S-z*65536,S=mt+z+65535,z=Math.floor(S/65536),mt=S-z*65536,S=pt+z+65535,z=Math.floor(S/65536),pt=S-z*65536,S=Ge+z+65535,z=Math.floor(S/65536),Ge=S-z*65536,le+=z-1+37*(z-1),M[0]=le,M[1]=he,M[2]=me,M[3]=Ae,M[4]=Re,M[5]=Ne,M[6]=Nt,M[7]=ke,M[8]=rt,M[9]=it,M[10]=ft,M[11]=ot,M[12]=ht,M[13]=mt,M[14]=pt,M[15]=Ge}function B(M,V){fe(M,V,V)}function ne(M,V){var H=e(),S;for(S=0;S<16;S++)H[S]=V[S];for(S=253;S>=0;S--)B(H,H),S!==2&&S!==4&&fe(H,H,V);for(S=0;S<16;S++)M[S]=H[S]}function oe(M,V){var H=e(),S;for(S=0;S<16;S++)H[S]=V[S];for(S=250;S>=0;S--)B(H,H),S!==1&&fe(H,H,V);for(S=0;S<16;S++)M[S]=H[S]}function de(M,V,H){var S=new Uint8Array(32),z=new Float64Array(80),le,he,me=e(),Ae=e(),Re=e(),Ne=e(),Nt=e(),ke=e();for(he=0;he<31;he++)S[he]=V[he];for(S[31]=V[31]&127|64,S[0]&=248,T(z,H),he=0;he<16;he++)Ae[he]=z[he],Ne[he]=me[he]=Re[he]=0;for(me[0]=Ne[0]=1,he=254;he>=0;--he)le=S[he>>>3]>>>(he&7)&1,O(me,Ae,le),O(Re,Ne,le),F(Nt,me,Re),ee(me,me,Re),F(Re,Ae,Ne),ee(Ae,Ae,Ne),B(Ne,Nt),B(ke,me),fe(me,Re,me),fe(Re,Ae,Nt),F(Nt,me,Re),ee(me,me,Re),B(Ae,me),ee(Re,Ne,ke),fe(me,Re,o),F(me,me,Ne),fe(Re,Re,me),fe(me,Ne,ke),fe(Ne,Ae,z),B(Ae,Nt),O(me,Ae,le),O(Re,Ne,le);for(he=0;he<16;he++)z[he+16]=me[he],z[he+32]=Re[he],z[he+48]=Ae[he],z[he+64]=Ne[he];var rt=z.subarray(32),it=z.subarray(16);return ne(rt,rt),fe(it,it,rt),N(M,it),0}function q(M,V){return de(M,V,i)}function G(M,V){return r(V,32),q(M,V)}function W(M,V,H){var S=new Uint8Array(32);return de(S,H,V),Z(M,n,S,U)}var te=p,re=g;function J(M,V,H,S,z,le){var he=new Uint8Array(32);return W(he,z,le),te(M,V,H,S,he)}function ae(M,V,H,S,z,le){var he=new Uint8Array(32);return W(he,z,le),re(M,V,H,S,he)}var ce=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function ue(M,V,H,S){for(var z=new Int32Array(16),le=new Int32Array(16),he,me,Ae,Re,Ne,Nt,ke,rt,it,ft,ot,ht,mt,pt,Ge,$e,Ve,ze,Ke,Ue,we,_e,Oe,Te,Ce,De,Tt=M[0],Bt=M[1],kt=M[2],Lt=M[3],ie=M[4],Yt=M[5],yr=M[6],mr=M[7],zt=V[0],lr=V[1],dr=V[2],ln=V[3],Nr=V[4],nn=V[5],sn=V[6],an=V[7],An=0;S>=128;){for(Ke=0;Ke<16;Ke++)Ue=8*Ke+An,z[Ke]=H[Ue+0]<<24|H[Ue+1]<<16|H[Ue+2]<<8|H[Ue+3],le[Ke]=H[Ue+4]<<24|H[Ue+5]<<16|H[Ue+6]<<8|H[Ue+7];for(Ke=0;Ke<80;Ke++)if(he=Tt,me=Bt,Ae=kt,Re=Lt,Ne=ie,Nt=Yt,ke=yr,rt=mr,it=zt,ft=lr,ot=dr,ht=ln,mt=Nr,pt=nn,Ge=sn,$e=an,we=mr,_e=an,Oe=_e&65535,Te=_e>>>16,Ce=we&65535,De=we>>>16,we=(ie>>>14|Nr<<18)^(ie>>>18|Nr<<14)^(Nr>>>9|ie<<23),_e=(Nr>>>14|ie<<18)^(Nr>>>18|ie<<14)^(ie>>>9|Nr<<23),Oe+=_e&65535,Te+=_e>>>16,Ce+=we&65535,De+=we>>>16,we=ie&Yt^~ie&yr,_e=Nr&nn^~Nr&sn,Oe+=_e&65535,Te+=_e>>>16,Ce+=we&65535,De+=we>>>16,we=ce[Ke*2],_e=ce[Ke*2+1],Oe+=_e&65535,Te+=_e>>>16,Ce+=we&65535,De+=we>>>16,we=z[Ke%16],_e=le[Ke%16],Oe+=_e&65535,Te+=_e>>>16,Ce+=we&65535,De+=we>>>16,Te+=Oe>>>16,Ce+=Te>>>16,De+=Ce>>>16,Ve=Ce&65535|De<<16,ze=Oe&65535|Te<<16,we=Ve,_e=ze,Oe=_e&65535,Te=_e>>>16,Ce=we&65535,De=we>>>16,we=(Tt>>>28|zt<<4)^(zt>>>2|Tt<<30)^(zt>>>7|Tt<<25),_e=(zt>>>28|Tt<<4)^(Tt>>>2|zt<<30)^(Tt>>>7|zt<<25),Oe+=_e&65535,Te+=_e>>>16,Ce+=we&65535,De+=we>>>16,we=Tt&Bt^Tt&kt^Bt&kt,_e=zt&lr^zt&dr^lr&dr,Oe+=_e&65535,Te+=_e>>>16,Ce+=we&65535,De+=we>>>16,Te+=Oe>>>16,Ce+=Te>>>16,De+=Ce>>>16,rt=Ce&65535|De<<16,$e=Oe&65535|Te<<16,we=Re,_e=ht,Oe=_e&65535,Te=_e>>>16,Ce=we&65535,De=we>>>16,we=Ve,_e=ze,Oe+=_e&65535,Te+=_e>>>16,Ce+=we&65535,De+=we>>>16,Te+=Oe>>>16,Ce+=Te>>>16,De+=Ce>>>16,Re=Ce&65535|De<<16,ht=Oe&65535|Te<<16,Bt=he,kt=me,Lt=Ae,ie=Re,Yt=Ne,yr=Nt,mr=ke,Tt=rt,lr=it,dr=ft,ln=ot,Nr=ht,nn=mt,sn=pt,an=Ge,zt=$e,Ke%16===15)for(Ue=0;Ue<16;Ue++)we=z[Ue],_e=le[Ue],Oe=_e&65535,Te=_e>>>16,Ce=we&65535,De=we>>>16,we=z[(Ue+9)%16],_e=le[(Ue+9)%16],Oe+=_e&65535,Te+=_e>>>16,Ce+=we&65535,De+=we>>>16,Ve=z[(Ue+1)%16],ze=le[(Ue+1)%16],we=(Ve>>>1|ze<<31)^(Ve>>>8|ze<<24)^Ve>>>7,_e=(ze>>>1|Ve<<31)^(ze>>>8|Ve<<24)^(ze>>>7|Ve<<25),Oe+=_e&65535,Te+=_e>>>16,Ce+=we&65535,De+=we>>>16,Ve=z[(Ue+14)%16],ze=le[(Ue+14)%16],we=(Ve>>>19|ze<<13)^(ze>>>29|Ve<<3)^Ve>>>6,_e=(ze>>>19|Ve<<13)^(Ve>>>29|ze<<3)^(ze>>>6|Ve<<26),Oe+=_e&65535,Te+=_e>>>16,Ce+=we&65535,De+=we>>>16,Te+=Oe>>>16,Ce+=Te>>>16,De+=Ce>>>16,z[Ue]=Ce&65535|De<<16,le[Ue]=Oe&65535|Te<<16;we=Tt,_e=zt,Oe=_e&65535,Te=_e>>>16,Ce=we&65535,De=we>>>16,we=M[0],_e=V[0],Oe+=_e&65535,Te+=_e>>>16,Ce+=we&65535,De+=we>>>16,Te+=Oe>>>16,Ce+=Te>>>16,De+=Ce>>>16,M[0]=Tt=Ce&65535|De<<16,V[0]=zt=Oe&65535|Te<<16,we=Bt,_e=lr,Oe=_e&65535,Te=_e>>>16,Ce=we&65535,De=we>>>16,we=M[1],_e=V[1],Oe+=_e&65535,Te+=_e>>>16,Ce+=we&65535,De+=we>>>16,Te+=Oe>>>16,Ce+=Te>>>16,De+=Ce>>>16,M[1]=Bt=Ce&65535|De<<16,V[1]=lr=Oe&65535|Te<<16,we=kt,_e=dr,Oe=_e&65535,Te=_e>>>16,Ce=we&65535,De=we>>>16,we=M[2],_e=V[2],Oe+=_e&65535,Te+=_e>>>16,Ce+=we&65535,De+=we>>>16,Te+=Oe>>>16,Ce+=Te>>>16,De+=Ce>>>16,M[2]=kt=Ce&65535|De<<16,V[2]=dr=Oe&65535|Te<<16,we=Lt,_e=ln,Oe=_e&65535,Te=_e>>>16,Ce=we&65535,De=we>>>16,we=M[3],_e=V[3],Oe+=_e&65535,Te+=_e>>>16,Ce+=we&65535,De+=we>>>16,Te+=Oe>>>16,Ce+=Te>>>16,De+=Ce>>>16,M[3]=Lt=Ce&65535|De<<16,V[3]=ln=Oe&65535|Te<<16,we=ie,_e=Nr,Oe=_e&65535,Te=_e>>>16,Ce=we&65535,De=we>>>16,we=M[4],_e=V[4],Oe+=_e&65535,Te+=_e>>>16,Ce+=we&65535,De+=we>>>16,Te+=Oe>>>16,Ce+=Te>>>16,De+=Ce>>>16,M[4]=ie=Ce&65535|De<<16,V[4]=Nr=Oe&65535|Te<<16,we=Yt,_e=nn,Oe=_e&65535,Te=_e>>>16,Ce=we&65535,De=we>>>16,we=M[5],_e=V[5],Oe+=_e&65535,Te+=_e>>>16,Ce+=we&65535,De+=we>>>16,Te+=Oe>>>16,Ce+=Te>>>16,De+=Ce>>>16,M[5]=Yt=Ce&65535|De<<16,V[5]=nn=Oe&65535|Te<<16,we=yr,_e=sn,Oe=_e&65535,Te=_e>>>16,Ce=we&65535,De=we>>>16,we=M[6],_e=V[6],Oe+=_e&65535,Te+=_e>>>16,Ce+=we&65535,De+=we>>>16,Te+=Oe>>>16,Ce+=Te>>>16,De+=Ce>>>16,M[6]=yr=Ce&65535|De<<16,V[6]=sn=Oe&65535|Te<<16,we=mr,_e=an,Oe=_e&65535,Te=_e>>>16,Ce=we&65535,De=we>>>16,we=M[7],_e=V[7],Oe+=_e&65535,Te+=_e>>>16,Ce+=we&65535,De+=we>>>16,Te+=Oe>>>16,Ce+=Te>>>16,De+=Ce>>>16,M[7]=mr=Ce&65535|De<<16,V[7]=an=Oe&65535|Te<<16,An+=128,S-=128}return S}function ye(M,V,H){var S=new Int32Array(8),z=new Int32Array(8),le=new Uint8Array(256),he,me=H;for(S[0]=1779033703,S[1]=3144134277,S[2]=1013904242,S[3]=2773480762,S[4]=1359893119,S[5]=2600822924,S[6]=528734635,S[7]=1541459225,z[0]=4089235720,z[1]=2227873595,z[2]=4271175723,z[3]=1595750129,z[4]=2917565137,z[5]=725511199,z[6]=4215389547,z[7]=327033209,ue(S,z,V,H),H%=128,he=0;he<H;he++)le[he]=V[me-H+he];for(le[H]=128,H=256-128*(H<112?1:0),le[H-9]=0,_(le,H-8,me/536870912|0,me<<3),ue(S,z,le,H),he=0;he<8;he++)_(M,8*he,S[he],z[he]);return 0}function ge(M,V){var H=e(),S=e(),z=e(),le=e(),he=e(),me=e(),Ae=e(),Re=e(),Ne=e();ee(H,M[1],M[0]),ee(Ne,V[1],V[0]),fe(H,H,Ne),F(S,M[0],M[1]),F(Ne,V[0],V[1]),fe(S,S,Ne),fe(z,M[3],V[3]),fe(z,z,u),fe(le,M[2],V[2]),F(le,le,le),ee(he,S,H),ee(me,le,z),F(Ae,le,z),F(Re,S,H),fe(M[0],he,me),fe(M[1],Re,Ae),fe(M[2],Ae,me),fe(M[3],he,Re)}function ve(M,V,H){var S;for(S=0;S<4;S++)O(M[S],V[S],H)}function Pe(M,V){var H=e(),S=e(),z=e();ne(z,V[2]),fe(H,V[0],z),fe(S,V[1],z),N(M,S),M[31]^=C(H)<<7}function Be(M,V,H){var S,z;for(b(M[0],s),b(M[1],a),b(M[2],a),b(M[3],s),z=255;z>=0;--z)S=H[z/8|0]>>(z&7)&1,ve(M,V,S),ge(V,M),ge(M,M),ve(M,V,S)}function Le(M,V){var H=[e(),e(),e(),e()];b(H[0],f),b(H[1],d),b(H[2],a),fe(H[3],f,d),Be(M,H,V)}function lt(M,V,H){var S=new Uint8Array(64),z=[e(),e(),e(),e()],le;for(H||r(V,32),ye(S,V,32),S[0]&=248,S[31]&=127,S[31]|=64,Le(z,S),Pe(M,z),le=0;le<32;le++)V[le+32]=M[le];return 0}var vt=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function qe(M,V){var H,S,z,le;for(S=63;S>=32;--S){for(H=0,z=S-32,le=S-12;z<le;++z)V[z]+=H-16*V[S]*vt[z-(S-32)],H=Math.floor((V[z]+128)/256),V[z]-=H*256;V[z]+=H,V[S]=0}for(H=0,z=0;z<32;z++)V[z]+=H-(V[31]>>4)*vt[z],H=V[z]>>8,V[z]&=255;for(z=0;z<32;z++)V[z]-=H*vt[z];for(S=0;S<32;S++)V[S+1]+=V[S]>>8,M[S]=V[S]&255}function Ze(M){var V=new Float64Array(64),H;for(H=0;H<64;H++)V[H]=M[H];for(H=0;H<64;H++)M[H]=0;qe(M,V)}function At(M,V,H,S){var z=new Uint8Array(64),le=new Uint8Array(64),he=new Uint8Array(64),me,Ae,Re=new Float64Array(64),Ne=[e(),e(),e(),e()];ye(z,S,32),z[0]&=248,z[31]&=127,z[31]|=64;var Nt=H+64;for(me=0;me<H;me++)M[64+me]=V[me];for(me=0;me<32;me++)M[32+me]=z[32+me];for(ye(he,M.subarray(32),H+32),Ze(he),Le(Ne,he),Pe(M,Ne),me=32;me<64;me++)M[me]=S[me];for(ye(le,M,H+64),Ze(le),me=0;me<64;me++)Re[me]=0;for(me=0;me<32;me++)Re[me]=he[me];for(me=0;me<32;me++)for(Ae=0;Ae<32;Ae++)Re[me+Ae]+=le[me]*z[Ae];return qe(M.subarray(32),Re),Nt}function et(M,V){var H=e(),S=e(),z=e(),le=e(),he=e(),me=e(),Ae=e();return b(M[2],a),T(M[1],V),B(z,M[1]),fe(le,z,c),ee(z,z,M[2]),F(le,M[2],le),B(he,le),B(me,he),fe(Ae,me,he),fe(H,Ae,z),fe(H,H,le),oe(H,H),fe(H,H,z),fe(H,H,le),fe(H,H,le),fe(M[0],H,le),B(S,M[0]),fe(S,S,le),w(S,z)&&fe(M[0],M[0],m),B(S,M[0]),fe(S,S,le),w(S,z)?-1:(C(M[0])===V[31]>>7&&ee(M[0],s,M[0]),fe(M[3],M[0],M[1]),0)}function Ut(M,V,H,S){var z,le=new Uint8Array(32),he=new Uint8Array(64),me=[e(),e(),e(),e()],Ae=[e(),e(),e(),e()];if(H<64||et(Ae,S))return-1;for(z=0;z<H;z++)M[z]=V[z];for(z=0;z<32;z++)M[z+32]=S[z];if(ye(he,M,H),Ze(he),Be(me,Ae,he),Le(Ae,V.subarray(32)),ge(me,Ae),Pe(le,me),H-=64,D(V,0,le,0)){for(z=0;z<H;z++)M[z]=0;return-1}for(z=0;z<H;z++)M[z]=V[z+64];return H}var jt=32,Xe=24,Pt=32,St=16,We=32,st=32,Qt=32,bt=32,Zt=32,ir=Xe,xt=Pt,ur=St,Mt=64,dt=32,$t=64,er=32,_t=64;t.lowlevel={crypto_core_hsalsa20:Z,crypto_stream_xor:$,crypto_stream:K,crypto_stream_salsa20_xor:Q,crypto_stream_salsa20:j,crypto_onetimeauth:v,crypto_onetimeauth_verify:E,crypto_verify_16:P,crypto_verify_32:D,crypto_secretbox:p,crypto_secretbox_open:g,crypto_scalarmult:de,crypto_scalarmult_base:q,crypto_box_beforenm:W,crypto_box_afternm:te,crypto_box:J,crypto_box_open:ae,crypto_box_keypair:G,crypto_hash:ye,crypto_sign:At,crypto_sign_keypair:lt,crypto_sign_open:Ut,crypto_secretbox_KEYBYTES:jt,crypto_secretbox_NONCEBYTES:Xe,crypto_secretbox_ZEROBYTES:Pt,crypto_secretbox_BOXZEROBYTES:St,crypto_scalarmult_BYTES:We,crypto_scalarmult_SCALARBYTES:st,crypto_box_PUBLICKEYBYTES:Qt,crypto_box_SECRETKEYBYTES:bt,crypto_box_BEFORENMBYTES:Zt,crypto_box_NONCEBYTES:ir,crypto_box_ZEROBYTES:xt,crypto_box_BOXZEROBYTES:ur,crypto_sign_BYTES:Mt,crypto_sign_PUBLICKEYBYTES:dt,crypto_sign_SECRETKEYBYTES:$t,crypto_sign_SEEDBYTES:er,crypto_hash_BYTES:_t,gf:e,D:c,L:vt,pack25519:N,unpack25519:T,M:fe,A:F,S:B,Z:ee,pow2523:oe,add:ge,set25519:b,modL:qe,scalarmult:Be,scalarbase:Le};function sr(M,V){if(M.length!==jt)throw new Error("bad key size");if(V.length!==Xe)throw new Error("bad nonce size")}function fr(M,V){if(M.length!==Qt)throw new Error("bad public key size");if(V.length!==bt)throw new Error("bad secret key size")}function tt(){for(var M=0;M<arguments.length;M++)if(!(arguments[M]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function ar(M){for(var V=0;V<M.length;V++)M[V]=0}t.randomBytes=function(M){var V=new Uint8Array(M);return r(V,M),V},t.secretbox=function(M,V,H){tt(M,V,H),sr(H,V);for(var S=new Uint8Array(Pt+M.length),z=new Uint8Array(S.length),le=0;le<M.length;le++)S[le+Pt]=M[le];return p(z,S,S.length,V,H),z.subarray(St)},t.secretbox.open=function(M,V,H){tt(M,V,H),sr(H,V);for(var S=new Uint8Array(St+M.length),z=new Uint8Array(S.length),le=0;le<M.length;le++)S[le+St]=M[le];return S.length<32||g(z,S,S.length,V,H)!==0?null:z.subarray(Pt)},t.secretbox.keyLength=jt,t.secretbox.nonceLength=Xe,t.secretbox.overheadLength=St,t.scalarMult=function(M,V){if(tt(M,V),M.length!==st)throw new Error("bad n size");if(V.length!==We)throw new Error("bad p size");var H=new Uint8Array(We);return de(H,M,V),H},t.scalarMult.base=function(M){if(tt(M),M.length!==st)throw new Error("bad n size");var V=new Uint8Array(We);return q(V,M),V},t.scalarMult.scalarLength=st,t.scalarMult.groupElementLength=We,t.box=function(M,V,H,S){var z=t.box.before(H,S);return t.secretbox(M,V,z)},t.box.before=function(M,V){tt(M,V),fr(M,V);var H=new Uint8Array(Zt);return W(H,M,V),H},t.box.after=t.secretbox,t.box.open=function(M,V,H,S){var z=t.box.before(H,S);return t.secretbox.open(M,V,z)},t.box.open.after=t.secretbox.open,t.box.keyPair=function(){var M=new Uint8Array(Qt),V=new Uint8Array(bt);return G(M,V),{publicKey:M,secretKey:V}},t.box.keyPair.fromSecretKey=function(M){if(tt(M),M.length!==bt)throw new Error("bad secret key size");var V=new Uint8Array(Qt);return q(V,M),{publicKey:V,secretKey:new Uint8Array(M)}},t.box.publicKeyLength=Qt,t.box.secretKeyLength=bt,t.box.sharedKeyLength=Zt,t.box.nonceLength=ir,t.box.overheadLength=t.secretbox.overheadLength,t.sign=function(M,V){if(tt(M,V),V.length!==$t)throw new Error("bad secret key size");var H=new Uint8Array(Mt+M.length);return At(H,M,M.length,V),H},t.sign.open=function(M,V){if(tt(M,V),V.length!==dt)throw new Error("bad public key size");var H=new Uint8Array(M.length),S=Ut(H,M,M.length,V);if(S<0)return null;for(var z=new Uint8Array(S),le=0;le<z.length;le++)z[le]=H[le];return z},t.sign.detached=function(M,V){for(var H=t.sign(M,V),S=new Uint8Array(Mt),z=0;z<S.length;z++)S[z]=H[z];return S},t.sign.detached.verify=function(M,V,H){if(tt(M,V,H),V.length!==Mt)throw new Error("bad signature size");if(H.length!==dt)throw new Error("bad public key size");var S=new Uint8Array(Mt+M.length),z=new Uint8Array(Mt+M.length),le;for(le=0;le<Mt;le++)S[le]=V[le];for(le=0;le<M.length;le++)S[le+Mt]=M[le];return Ut(z,S,S.length,H)>=0},t.sign.keyPair=function(){var M=new Uint8Array(dt),V=new Uint8Array($t);return lt(M,V),{publicKey:M,secretKey:V}},t.sign.keyPair.fromSecretKey=function(M){if(tt(M),M.length!==$t)throw new Error("bad secret key size");for(var V=new Uint8Array(dt),H=0;H<V.length;H++)V[H]=M[32+H];return{publicKey:V,secretKey:new Uint8Array(M)}},t.sign.keyPair.fromSeed=function(M){if(tt(M),M.length!==er)throw new Error("bad seed size");for(var V=new Uint8Array(dt),H=new Uint8Array($t),S=0;S<32;S++)H[S]=M[S];return lt(V,H,!0),{publicKey:V,secretKey:H}},t.sign.publicKeyLength=dt,t.sign.secretKeyLength=$t,t.sign.seedLength=er,t.sign.signatureLength=Mt,t.hash=function(M){tt(M);var V=new Uint8Array(_t);return ye(V,M,M.length),V},t.hash.hashLength=_t,t.verify=function(M,V){return tt(M,V),M.length===0||V.length===0||M.length!==V.length?!1:x(M,0,V,0,M.length)===0},t.setPRNG=function(M){r=M},function(){var M=typeof self<"u"?self.crypto||self.msCrypto:null;if(M&&M.getRandomValues){var V=65536;t.setPRNG(function(H,S){var z,le=new Uint8Array(S);for(z=0;z<S;z+=V)M.getRandomValues(le.subarray(z,z+Math.min(S-z,V)));for(z=0;z<S;z++)H[z]=le[z];ar(le)})}else typeof mi<"u"&&(M=cs(),M&&M.randomBytes&&t.setPRNG(function(H,S){var z,le=M.randomBytes(S);for(z=0;z<S;z++)H[z]=le[z];ar(le)}))}()})(typeof h6<"u"&&h6.exports?h6.exports:self.nacl=self.nacl||{})});var MJ=R(p6=>{"use strict";l();Object.defineProperty(p6,"__esModule",{value:!0});p6.pathRegex=new RegExp("^m(\\/[0-9]+')+$");p6.replaceDerive=t=>t.replace("'","")});var LJ=R(Qu=>{"use strict";l();Object.defineProperty(Qu,"__esModule",{value:!0});var BJ=u3(),nTe=xy(),N9=MJ(),iTe="ed25519 seed",sTe=2147483648;Qu.getMasterKeyFromSeed=t=>{let r=BJ("sha512",iTe).update(y.Buffer.from(t,"hex")).digest(),n=r.slice(0,32),i=r.slice(32);return{key:n,chainCode:i}};var aTe=({key:t,chainCode:e},r)=>{let n=y.Buffer.allocUnsafe(4);n.writeUInt32BE(r,0);let i=y.Buffer.concat([y.Buffer.alloc(1,0),t,n]),s=BJ("sha512",e).update(i).digest(),a=s.slice(0,32),o=s.slice(32);return{key:a,chainCode:o}};Qu.getPublicKey=(t,e=!0)=>{let n=nTe.sign.keyPair.fromSeed(t).secretKey.subarray(32),i=y.Buffer.alloc(1,0);return e?y.Buffer.concat([i,y.Buffer.from(n)]):y.Buffer.from(n)};Qu.isValidPath=t=>N9.pathRegex.test(t)?!t.split("/").slice(1).map(N9.replaceDerive).some(isNaN):!1;Qu.derivePath=(t,e)=>{if(!Qu.isValidPath(t))throw new Error("Invalid derivation path");let{key:r,chainCode:n}=Qu.getMasterKeyFromSeed(e);return t.split("/").slice(1).map(N9.replaceDerive).map(s=>parseInt(s,10)).reduce((s,a)=>aTe(s,a+sTe),{key:r,chainCode:n})}});var q9=R(br=>{"use strict";l();Object.defineProperty(br,"__esModule",{value:!0});br.utils=br.curve25519=br.getSharedSecret=br.sync=br.verify=br.sign=br.getPublicKey=br.Signature=br.Point=br.RistrettoPoint=br.ExtendedPoint=br.CURVE=void 0;var oTe=cs(),mn=BigInt(0),cr=BigInt(1),Ju=BigInt(2),cTe=BigInt(8),qJ=BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),Ur=Object.freeze({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),P:BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),l:qJ,n:qJ,h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960")});br.CURVE=Ur;var HJ=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),Ty=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),Gnt=BigInt("6853475219497561581579357271197624642482790079785650197046958215289687604742"),uTe=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),fTe=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),lTe=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),dTe=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),kn=class t{constructor(e,r,n,i){this.x=e,this.y=r,this.z=n,this.t=i}static fromAffine(e){if(!(e instanceof cn))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return e.equals(cn.ZERO)?t.ZERO:new t(e.x,e.y,cr,xe(e.x*e.y))}static toAffineBatch(e){let r=gTe(e.map(n=>n.z));return e.map((n,i)=>n.toAffine(r[i]))}static normalizeZ(e){return this.toAffineBatch(e).map(this.fromAffine)}equals(e){UJ(e);let{x:r,y:n,z:i}=this,{x:s,y:a,z:o}=e,c=xe(r*o),u=xe(s*i),f=xe(n*o),d=xe(a*i);return c===u&&f===d}negate(){return new t(xe(-this.x),this.y,this.z,xe(-this.t))}double(){let{x:e,y:r,z:n}=this,{a:i}=Ur,s=xe(e*e),a=xe(r*r),o=xe(Ju*xe(n*n)),c=xe(i*s),u=e+r,f=xe(xe(u*u)-s-a),d=c+a,m=d-o,_=c-a,x=xe(f*m),P=xe(d*_),D=xe(f*_),k=xe(m*d);return new t(x,P,k,D)}add(e){UJ(e);let{x:r,y:n,z:i,t:s}=this,{x:a,y:o,z:c,t:u}=e,f=xe((n-r)*(o+a)),d=xe((n+r)*(o-a)),m=xe(d-f);if(m===mn)return this.double();let _=xe(i*Ju*u),x=xe(s*Ju*c),P=x+_,D=d+f,k=x-_,Y=xe(P*m),X=xe(D*k),Z=xe(P*k),U=xe(m*D);return new t(Y,X,U,Z)}subtract(e){return this.add(e.negate())}precomputeWindow(e){let r=1+256/e,n=[],i=this,s=i;for(let a=0;a<r;a++){s=i,n.push(s);for(let o=1;o<2**(e-1);o++)s=s.add(i),n.push(s);i=s.double()}return n}wNAF(e,r){!r&&this.equals(t.BASE)&&(r=cn.BASE);let n=r&&r._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=r&&D9.get(r);i||(i=this.precomputeWindow(n),r&&n!==1&&(i=t.normalizeZ(i),D9.set(r,i)));let s=t.ZERO,a=t.BASE,o=1+256/n,c=2**(n-1),u=BigInt(2**n-1),f=2**n,d=BigInt(n);for(let m=0;m<o;m++){let _=m*c,x=Number(e&u);e>>=d,x>c&&(x-=f,e+=cr);let P=_,D=_+Math.abs(x)-1,k=m%2!==0,Y=x<0;x===0?a=a.add(FJ(k,i[P])):s=s.add(FJ(Y,i[D]))}return t.normalizeZ([s,a])[0]}multiply(e,r){return this.wNAF(k0(e,Ur.l),r)}multiplyUnsafe(e){let r=k0(e,Ur.l,!1),n=t.BASE,i=t.ZERO;if(r===mn)return i;if(this.equals(i)||r===cr)return this;if(this.equals(n))return this.wNAF(r);let s=i,a=this;for(;r>mn;)r&cr&&(s=s.add(a)),a=a.double(),r>>=cr;return s}isSmallOrder(){return this.multiplyUnsafe(Ur.h).equals(t.ZERO)}isTorsionFree(){let e=this.multiplyUnsafe(Ur.l/Ju).double();return Ur.l%Ju&&(e=e.add(this)),e.equals(t.ZERO)}toAffine(e){let{x:r,y:n,z:i}=this,s=this.equals(t.ZERO);e==null&&(e=s?cTe:m6(i));let a=xe(r*e),o=xe(n*e),c=xe(i*e);if(s)return cn.ZERO;if(c!==cr)throw new Error("invZ was invalid");return new cn(a,o)}fromRistrettoBytes(){P9()}toRistrettoBytes(){P9()}fromRistrettoHash(){P9()}};br.ExtendedPoint=kn;kn.BASE=new kn(Ur.Gx,Ur.Gy,cr,xe(Ur.Gx*Ur.Gy));kn.ZERO=new kn(mn,cr,cr,mn);function FJ(t,e){let r=e.negate();return t?r:e}function UJ(t){if(!(t instanceof kn))throw new TypeError("ExtendedPoint expected")}function O9(t){if(!(t instanceof Xu))throw new TypeError("RistrettoPoint expected")}function P9(){throw new Error("Legacy method: switch to RistrettoPoint")}var Xu=class t{constructor(e){this.ep=e}static calcElligatorRistrettoMap(e){let{d:r}=Ur,n=xe(Ty*e*e),i=xe((n+cr)*lTe),s=BigInt(-1),a=xe((s-r*n)*xe(n+r)),{isValid:o,value:c}=B9(i,a),u=xe(c*e);Yu(u)||(u=xe(-u)),o||(c=u),o||(s=n);let f=xe(s*(n-cr)*dTe-a),d=c*c,m=xe((c+c)*a),_=xe(f*uTe),x=xe(cr-d),P=xe(cr+d);return new kn(xe(m*P),xe(x*_),xe(_*P),xe(m*x))}static hashToCurve(e){e=Ya(e,64);let r=R9(e.slice(0,32)),n=this.calcElligatorRistrettoMap(r),i=R9(e.slice(32,64)),s=this.calcElligatorRistrettoMap(i);return new t(n.add(s))}static fromHex(e){e=Ya(e,32);let{a:r,d:n}=Ur,i="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",s=R9(e);if(!yTe(F0(s),e)||Yu(s))throw new Error(i);let a=xe(s*s),o=xe(cr+r*a),c=xe(cr-r*a),u=xe(o*o),f=xe(c*c),d=xe(r*n*u-f),{isValid:m,value:_}=VJ(xe(d*f)),x=xe(_*c),P=xe(_*x*d),D=xe((s+s)*x);Yu(D)&&(D=xe(-D));let k=xe(o*P),Y=xe(D*k);if(!m||Yu(Y)||k===mn)throw new Error(i);return new t(new kn(D,k,cr,Y))}toRawBytes(){let{x:e,y:r,z:n,t:i}=this.ep,s=xe(xe(n+r)*xe(n-r)),a=xe(e*r),o=xe(a*a),{value:c}=VJ(xe(s*o)),u=xe(c*s),f=xe(c*a),d=xe(u*f*i),m;if(Yu(i*d)){let x=xe(r*Ty),P=xe(e*Ty);e=x,r=P,m=xe(u*fTe)}else m=f;Yu(e*d)&&(r=xe(-r));let _=xe((n-r)*m);return Yu(_)&&(_=xe(-_)),F0(_)}toHex(){return Cy(this.toRawBytes())}toString(){return this.toHex()}equals(e){O9(e);let r=this.ep,n=e.ep,i=xe(r.x*n.y)===xe(r.y*n.x),s=xe(r.y*n.y)===xe(r.x*n.x);return i||s}add(e){return O9(e),new t(this.ep.add(e.ep))}subtract(e){return O9(e),new t(this.ep.subtract(e.ep))}multiply(e){return new t(this.ep.multiply(e))}multiplyUnsafe(e){return new t(this.ep.multiplyUnsafe(e))}};br.RistrettoPoint=Xu;Xu.BASE=new Xu(kn.BASE);Xu.ZERO=new Xu(kn.ZERO);var D9=new WeakMap,cn=class t{constructor(e,r){this.x=e,this.y=r}_setWindowSize(e){this._WINDOW_SIZE=e,D9.delete(this)}static fromHex(e,r=!0){let{d:n,P:i}=Ur;e=Ya(e,32);let s=e.slice();s[31]=e[31]&-129;let a=$l(s);if(r&&a>=i)throw new Error("Expected 0 < hex < P");if(!r&&a>=HJ)throw new Error("Expected 0 < hex < 2**256");let o=xe(a*a),c=xe(o-cr),u=xe(n*o+cr),{isValid:f,value:d}=B9(c,u);if(!f)throw new Error("Point.fromHex: invalid y coordinate");let m=(d&cr)===cr;return(e[31]&128)!==0!==m&&(d=xe(-d)),new t(d,a)}static async fromPrivateKey(e){return(await Ny(e)).point}toRawBytes(){let e=F0(this.y);return e[31]|=this.x&cr?128:0,e}toHex(){return Cy(this.toRawBytes())}toX25519(){let{y:e}=this,r=xe((cr+e)*m6(cr-e));return F0(r)}isTorsionFree(){return kn.fromAffine(this).isTorsionFree()}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new t(xe(-this.x),this.y)}add(e){return kn.fromAffine(this).add(kn.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return kn.fromAffine(this).multiply(e,this).toAffine()}};br.Point=cn;cn.BASE=new cn(Ur.Gx,Ur.Gy);cn.ZERO=new cn(mn,cr);var Ql=class t{constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromHex(e){let r=Ya(e,64),n=cn.fromHex(r.slice(0,32),!1),i=$l(r.slice(32,64));return new t(n,i)}assertValidity(){let{r:e,s:r}=this;if(!(e instanceof cn))throw new Error("Expected Point instance");return k0(r,Ur.l,!1),this}toRawBytes(){let e=new Uint8Array(64);return e.set(this.r.toRawBytes()),e.set(F0(this.s),32),e}toHex(){return Cy(this.toRawBytes())}};br.Signature=Ql;function kJ(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Expected Uint8Array list");if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let s=t[n];r.set(s,i),i+=s.length}return r}var hTe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Cy(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=hTe[t[r]];return e}function M9(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,i=t.slice(n,n+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");e[r]=s}return e}function GJ(t){let r=t.toString(16).padStart(64,"0");return M9(r)}function F0(t){return GJ(t).reverse()}function Yu(t){return(xe(t)&cr)===cr}function $l(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");return BigInt("0x"+Cy(Uint8Array.from(t).reverse()))}var pTe=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function R9(t){return xe($l(t)&pTe)}function xe(t,e=Ur.P){let r=t%e;return r>=mn?r:e+r}function m6(t,e=Ur.P){if(t===mn||e<=mn)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=xe(t,e),n=e,i=mn,s=cr,a=cr,o=mn;for(;r!==mn;){let u=n/r,f=n%r,d=i-a*u,m=s-o*u;n=r,r=f,i=a,s=o,a=d,o=m}if(n!==cr)throw new Error("invert: does not exist");return xe(i,e)}function gTe(t,e=Ur.P){let r=new Array(t.length),n=t.reduce((s,a,o)=>a===mn?s:(r[o]=s,xe(s*a,e)),cr),i=m6(n,e);return t.reduceRight((s,a,o)=>a===mn?s:(r[o]=xe(s*r[o],e),xe(s*a,e)),i),r}function $a(t,e){let{P:r}=Ur,n=t;for(;e-- >mn;)n*=n,n%=r;return n}function jJ(t){let{P:e}=Ur,r=BigInt(5),n=BigInt(10),i=BigInt(20),s=BigInt(40),a=BigInt(80),c=t*t%e*t%e,u=$a(c,Ju)*c%e,f=$a(u,cr)*t%e,d=$a(f,r)*f%e,m=$a(d,n)*d%e,_=$a(m,i)*m%e,x=$a(_,s)*_%e,P=$a(x,a)*x%e,D=$a(P,a)*x%e,k=$a(D,n)*d%e;return{pow_p_5_8:$a(k,Ju)*t%e,b2:c}}function B9(t,e){let r=xe(e*e*e),n=xe(r*r*e),i=jJ(t*n).pow_p_5_8,s=xe(t*r*i),a=xe(e*s*s),o=s,c=xe(s*Ty),u=a===t,f=a===xe(-t),d=a===xe(-t*Ty);return u&&(s=o),(f||d)&&(s=c),Yu(s)&&(s=xe(-s)),{isValid:u||f,value:s}}function VJ(t){return B9(cr,t)}function U0(t){return xe($l(t),Ur.l)}function yTe(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function Ya(t,e){let r=t instanceof Uint8Array?Uint8Array.from(t):M9(t);if(typeof e=="number"&&r.length!==e)throw new Error(`Expected ${e} bytes`);return r}function k0(t,e,r=!0){if(!e)throw new TypeError("Specify max value");if(typeof t=="number"&&Number.isSafeInteger(t)&&(t=BigInt(t)),typeof t=="bigint"&&t<e){if(r){if(mn<t)return t}else if(mn<=t)return t}throw new TypeError("Expected valid scalar: 0 < scalar < max")}function zJ(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function mTe(t){return $l(zJ(Ya(t,32)))}function KJ(t){if(t=typeof t=="bigint"||typeof t=="number"?GJ(k0(t,HJ)):Ya(t),t.length!==32)throw new Error("Expected 32 bytes");return t}function WJ(t){let e=zJ(t.slice(0,32)),r=t.slice(32,64),n=U0(e),i=cn.BASE.multiply(n),s=i.toRawBytes();return{head:e,prefix:r,scalar:n,point:i,pointBytes:s}}var Iy;function y6(...t){if(typeof Iy!="function")throw new Error("utils.sha512Sync must be set to use sync methods");return Iy(...t)}async function Ny(t){return WJ(await br.utils.sha512(KJ(t)))}function L9(t){return WJ(y6(KJ(t)))}async function vTe(t){return(await Ny(t)).pointBytes}br.getPublicKey=vTe;function bTe(t){return L9(t).pointBytes}async function wTe(t,e){t=Ya(t);let{prefix:r,scalar:n,pointBytes:i}=await Ny(e),s=U0(await br.utils.sha512(r,t)),a=cn.BASE.multiply(s),o=U0(await br.utils.sha512(a.toRawBytes(),i,t)),c=xe(s+o*n,Ur.l);return new Ql(a,c).toRawBytes()}br.sign=wTe;function _Te(t,e){t=Ya(t);let{prefix:r,scalar:n,pointBytes:i}=L9(e),s=U0(y6(r,t)),a=cn.BASE.multiply(s),o=U0(y6(a.toRawBytes(),i,t)),c=xe(s+o*n,Ur.l);return new Ql(a,c).toRawBytes()}function QJ(t,e,r){e=Ya(e),r instanceof cn||(r=cn.fromHex(r,!1));let{r:n,s:i}=t instanceof Ql?t.assertValidity():Ql.fromHex(t),s=kn.BASE.multiplyUnsafe(i);return{r:n,s:i,SB:s,pub:r,msg:e}}function $J(t,e,r,n){let i=U0(n),s=kn.fromAffine(t).multiplyUnsafe(i);return kn.fromAffine(e).add(s).subtract(r).multiplyUnsafe(Ur.h).equals(kn.ZERO)}async function ETe(t,e,r){let{r:n,SB:i,msg:s,pub:a}=QJ(t,e,r),o=await br.utils.sha512(n.toRawBytes(),a.toRawBytes(),s);return $J(a,n,i,o)}br.verify=ETe;function ATe(t,e,r){let{r:n,SB:i,msg:s,pub:a}=QJ(t,e,r),o=y6(n.toRawBytes(),a.toRawBytes(),s);return $J(a,n,i,o)}br.sync={getExtendedPublicKey:L9,getPublicKey:bTe,sign:_Te,verify:ATe};async function STe(t,e){let{head:r}=await Ny(t),n=cn.fromHex(e).toX25519();return br.curve25519.scalarMult(r,n)}br.getSharedSecret=STe;cn.BASE._setWindowSize(8);function g6(t,e,r){let n=xe(t*(e-r));return e=xe(e-n),r=xe(r+n),[e,r]}function xTe(t,e){let{P:r}=Ur,n=k0(t,r),i=k0(e,r),s=BigInt(121665),a=n,o=cr,c=mn,u=n,f=cr,d=mn,m;for(let D=BigInt(254);D>=mn;D--){let k=i>>D&cr;d^=k,m=g6(d,o,u),o=m[0],u=m[1],m=g6(d,c,f),c=m[0],f=m[1],d=k;let Y=o+c,X=xe(Y*Y),Z=o-c,U=xe(Z*Z),Q=X-U,j=u+f,K=u-f,$=xe(K*Y),L=xe(j*Z),v=$+L,E=$-L;u=xe(v*v),f=xe(a*xe(E*E)),o=xe(X*U),c=xe(Q*(X+xe(s*Q)))}m=g6(d,o,u),o=m[0],u=m[1],m=g6(d,c,f),c=m[0],f=m[1];let{pow_p_5_8:_,b2:x}=jJ(c),P=xe($a(_,BigInt(3))*x);return xe(o*P)}function TTe(t){return F0(xe(t,Ur.P))}function ITe(t){let e=Ya(t,32);return e[31]&=127,$l(e)}br.curve25519={BASE_POINT_U:"0900000000000000000000000000000000000000000000000000000000000000",scalarMult(t,e){let r=ITe(e),n=mTe(t),i=xTe(r,n);if(i===mn)throw new Error("Invalid private or public key received");return TTe(i)},scalarMultBase(t){return br.curve25519.scalarMult(t,br.curve25519.BASE_POINT_U)}};var $u={node:oTe,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};br.utils={bytesToHex:Cy,hexToBytes:M9,concatBytes:kJ,getExtendedPublicKey:Ny,mod:xe,invert:m6,TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],hashToPrivateScalar:t=>{if(t=Ya(t),t.length<40||t.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");return xe($l(t),Ur.l-cr)+cr},randomBytes:(t=32)=>{if($u.web)return $u.web.getRandomValues(new Uint8Array(t));if($u.node){let{randomBytes:e}=$u.node;return new Uint8Array(e(t).buffer)}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>br.utils.randomBytes(32),sha512:async(...t)=>{let e=kJ(...t);if($u.web){let r=await $u.web.subtle.digest("SHA-512",e.buffer);return new Uint8Array(r)}else{if($u.node)return Uint8Array.from($u.node.createHash("sha512").update(e).digest());throw new Error("The environment doesn't have sha512 function")}},precompute(t=8,e=cn.BASE){let r=e.equals(cn.BASE)?e:new cn(e.x,e.y);return r._setWindowSize(t),r.multiply(Ju),r},sha512Sync:void 0};Object.defineProperties(br.utils,{sha512Sync:{configurable:!1,get(){return Iy},set(t){Iy||(Iy=t)}}})});var F9=R(v6=>{"use strict";l();Object.defineProperty(v6,"__esModule",{value:!0});v6.guardLength=void 0;var CTe=It();function NTe(t,e){let r=t.length||0;if(r!=e)throw new CTe.ErrInvariantFailed(`wrong length, expected: ${e}, actual: ${r}`)}v6.guardLength=NTe});var b6=R((Qnt,JJ)=>{"use strict";l();function Go(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}function YJ(t,e){for(var r="",n=0,i=-1,s=0,a,o=0;o<=t.length;++o){if(o<t.length)a=t.charCodeAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(r.length<2||n!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){var c=r.lastIndexOf("/");if(c!==r.length-1){c===-1?(r="",n=0):(r=r.slice(0,c),n=r.length-1-r.lastIndexOf("/")),i=o,s=0;continue}}else if(r.length===2||r.length===1){r="",n=0,i=o,s=0;continue}}e&&(r.length>0?r+="/..":r="..",n=2)}else r.length>0?r+="/"+t.slice(i+1,o):r=t.slice(i+1,o),n=o-i-1;i=o,s=0}else a===46&&s!==-1?++s:s=-1}return r}function OTe(t,e){var r=e.dir||e.root,n=e.base||(e.name||"")+(e.ext||"");return r?r===e.root?r+n:r+t+n:n}var V0={resolve:function(){for(var e="",r=!1,n,i=arguments.length-1;i>=-1&&!r;i--){var s;i>=0?s=arguments[i]:(n===void 0&&(n=A.default.cwd()),s=n),Go(s),s.length!==0&&(e=s+"/"+e,r=s.charCodeAt(0)===47)}return e=YJ(e,!r),r?e.length>0?"/"+e:"/":e.length>0?e:"."},normalize:function(e){if(Go(e),e.length===0)return".";var r=e.charCodeAt(0)===47,n=e.charCodeAt(e.length-1)===47;return e=YJ(e,!r),e.length===0&&!r&&(e="."),e.length>0&&n&&(e+="/"),r?"/"+e:e},isAbsolute:function(e){return Go(e),e.length>0&&e.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var e,r=0;r<arguments.length;++r){var n=arguments[r];Go(n),n.length>0&&(e===void 0?e=n:e+="/"+n)}return e===void 0?".":V0.normalize(e)},relative:function(e,r){if(Go(e),Go(r),e===r||(e=V0.resolve(e),r=V0.resolve(r),e===r))return"";for(var n=1;n<e.length&&e.charCodeAt(n)===47;++n);for(var i=e.length,s=i-n,a=1;a<r.length&&r.charCodeAt(a)===47;++a);for(var o=r.length,c=o-a,u=s<c?s:c,f=-1,d=0;d<=u;++d){if(d===u){if(c>u){if(r.charCodeAt(a+d)===47)return r.slice(a+d+1);if(d===0)return r.slice(a+d)}else s>u&&(e.charCodeAt(n+d)===47?f=d:d===0&&(f=0));break}var m=e.charCodeAt(n+d),_=r.charCodeAt(a+d);if(m!==_)break;m===47&&(f=d)}var x="";for(d=n+f+1;d<=i;++d)(d===i||e.charCodeAt(d)===47)&&(x.length===0?x+="..":x+="/..");return x.length>0?x+r.slice(a+f):(a+=f,r.charCodeAt(a)===47&&++a,r.slice(a))},_makeLong:function(e){return e},dirname:function(e){if(Go(e),e.length===0)return".";for(var r=e.charCodeAt(0),n=r===47,i=-1,s=!0,a=e.length-1;a>=1;--a)if(r=e.charCodeAt(a),r===47){if(!s){i=a;break}}else s=!1;return i===-1?n?"/":".":n&&i===1?"//":e.slice(0,i)},basename:function(e,r){if(r!==void 0&&typeof r!="string")throw new TypeError('"ext" argument must be a string');Go(e);var n=0,i=-1,s=!0,a;if(r!==void 0&&r.length>0&&r.length<=e.length){if(r.length===e.length&&r===e)return"";var o=r.length-1,c=-1;for(a=e.length-1;a>=0;--a){var u=e.charCodeAt(a);if(u===47){if(!s){n=a+1;break}}else c===-1&&(s=!1,c=a+1),o>=0&&(u===r.charCodeAt(o)?--o===-1&&(i=a):(o=-1,i=c))}return n===i?i=c:i===-1&&(i=e.length),e.slice(n,i)}else{for(a=e.length-1;a>=0;--a)if(e.charCodeAt(a)===47){if(!s){n=a+1;break}}else i===-1&&(s=!1,i=a+1);return i===-1?"":e.slice(n,i)}},extname:function(e){Go(e);for(var r=-1,n=0,i=-1,s=!0,a=0,o=e.length-1;o>=0;--o){var c=e.charCodeAt(o);if(c===47){if(!s){n=o+1;break}continue}i===-1&&(s=!1,i=o+1),c===46?r===-1?r=o:a!==1&&(a=1):r!==-1&&(a=-1)}return r===-1||i===-1||a===0||a===1&&r===i-1&&r===n+1?"":e.slice(r,i)},format:function(e){if(e===null||typeof e!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return OTe("/",e)},parse:function(e){Go(e);var r={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return r;var n=e.charCodeAt(0),i=n===47,s;i?(r.root="/",s=1):s=0;for(var a=-1,o=0,c=-1,u=!0,f=e.length-1,d=0;f>=s;--f){if(n=e.charCodeAt(f),n===47){if(!u){o=f+1;break}continue}c===-1&&(u=!1,c=f+1),n===46?a===-1?a=f:d!==1&&(d=1):a!==-1&&(d=-1)}return a===-1||c===-1||d===0||d===1&&a===c-1&&a===o+1?c!==-1&&(o===0&&i?r.base=r.name=e.slice(1,c):r.base=r.name=e.slice(o,c)):(o===0&&i?(r.name=e.slice(1,a),r.base=e.slice(1,c)):(r.name=e.slice(o,a),r.base=e.slice(o,c)),r.ext=e.slice(a,c)),o>0?r.dir=e.slice(0,o-1):i&&(r.dir="/"),r},sep:"/",delimiter:":",win32:null,posix:null};V0.posix=V0;JJ.exports=V0});var ZJ=R((Ynt,XJ)=>{"use strict";l();var PTe=null;XJ.exports=PTe});var V9=R((w6,k9)=>{l();var U9=function(){var t=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(t=t||__filename),function(r){r=r||{};var r=typeof r<"u"?r:{},n={},i;for(i in r)r.hasOwnProperty(i)&&(n[i]=r[i]);var s=[],a="./this.program",o=function(Ye,Vt){throw Vt},c=!1,u=!1,f=!1,d=!1;c=typeof window=="object",u=typeof importScripts=="function",f=typeof A.default=="object"&&typeof A.default.versions=="object"&&typeof A.default.versions.node=="string",d=!c&&!f&&!u;var m="";function _(Ye){return r.locateFile?r.locateFile(Ye,m):m+Ye}var x,P,D,k,Y,X;f?(u?m=b6().dirname(m)+"/":m=__dirname+"/",x=function(Vt,Sr){return Y||(Y=ZJ()),X||(X=b6()),Vt=X.normalize(Vt),Y.readFileSync(Vt,Sr?null:"utf8")},D=function(Vt){var Sr=x(Vt,!0);return Sr.buffer||(Sr=new Uint8Array(Sr)),E(Sr.buffer),Sr},A.default.argv.length>1&&(a=A.default.argv[1].replace(/\\/g,"/")),s=A.default.argv.slice(2),o=function(Ye){A.default.exit(Ye)},r.inspect=function(){return"[Emscripten Module object]"}):d?(typeof read<"u"&&(x=function(Vt){return read(Vt)}),D=function(Vt){var Sr;return typeof readbuffer=="function"?new Uint8Array(readbuffer(Vt)):(Sr=read(Vt,"binary"),E(typeof Sr=="object"),Sr)},typeof scriptArgs<"u"?s=scriptArgs:typeof arguments<"u"&&(s=arguments),typeof quit=="function"&&(o=function(Ye){quit(Ye)}),typeof print<"u"&&(typeof console>"u"&&(console={}),console.log=print,console.warn=console.error=typeof printErr<"u"?printErr:print)):(c||u)&&(u?m=self.location.href:document.currentScript&&(m=document.currentScript.src),t&&(m=t),m.indexOf("blob:")!==0?m=m.substr(0,m.lastIndexOf("/")+1):m="",x=function(Vt){var Sr=new XMLHttpRequest;return Sr.open("GET",Vt,!1),Sr.send(null),Sr.responseText},u&&(D=function(Vt){var Sr=new XMLHttpRequest;return Sr.open("GET",Vt,!1),Sr.responseType="arraybuffer",Sr.send(null),new Uint8Array(Sr.response)}),P=function(Vt,Sr,og){var Ta=new XMLHttpRequest;Ta.open("GET",Vt,!0),Ta.responseType="arraybuffer",Ta.onload=function(){if(Ta.status==200||Ta.status==0&&Ta.response){Sr(Ta.response);return}og()},Ta.onerror=og,Ta.send(null)},k=function(Ye){document.title=Ye});var Z=r.print||void 0,U=r.printErr||void 0;for(i in n)n.hasOwnProperty(i)&&(r[i]=n[i]);n=null,r.arguments&&(s=r.arguments),r.thisProgram&&(a=r.thisProgram),r.quit&&(o=r.quit);var Q;r.wasmBinary&&(Q=r.wasmBinary);var j;r.noExitRuntime&&(j=r.noExitRuntime),typeof WebAssembly!="object"&&U("no native wasm support detected");var K,$=new WebAssembly.Table({initial:197,maximum:197,element:"anyfunc"}),L=!1,v=0;function E(Ye,Vt){Ye||qe("Assertion failed: "+Vt)}var p=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,g=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,b=65536,I,O,N,w,C,T,F,ee,fe;function B(Ye){I=Ye,r.HEAP8=O=new Int8Array(Ye),r.HEAP16=w=new Int16Array(Ye),r.HEAP32=T=new Int32Array(Ye),r.HEAPU8=N=new Uint8Array(Ye),r.HEAPU16=C=new Uint16Array(Ye),r.HEAPU32=F=new Uint32Array(Ye),r.HEAPF32=ee=new Float32Array(Ye),r.HEAPF64=fe=new Float64Array(Ye)}var ne=5322560,oe=79520,de=r.INITIAL_MEMORY||16777216;r.wasmMemory?K=r.wasmMemory:K=new WebAssembly.Memory({initial:de/b,maximum:de/b}),K&&(I=K.buffer),de=I.byteLength,B(I),T[oe>>2]=ne;function q(Ye){for(;Ye.length>0;){var Vt=Ye.shift();if(typeof Vt=="function"){Vt();continue}var Sr=Vt.func;typeof Sr=="number"?Vt.arg===void 0?r.dynCall_v(Sr):r.dynCall_vi(Sr,Vt.arg):Sr(Vt.arg===void 0?null:Vt.arg)}}var G=[],W=[],te=[],re=[],J=!1;function ae(){if(r.preRun)for(typeof r.preRun=="function"&&(r.preRun=[r.preRun]);r.preRun.length;)ge(r.preRun.shift());q(G)}function ce(){J=!0,q(W)}function ue(){q(te)}function ye(){if(r.postRun)for(typeof r.postRun=="function"&&(r.postRun=[r.postRun]);r.postRun.length;)ve(r.postRun.shift());q(re)}function ge(Ye){G.unshift(Ye)}function ve(Ye){re.unshift(Ye)}var Pe=0,Be=null,Le=null;function lt(Ye){Pe++,r.monitorRunDependencies&&r.monitorRunDependencies(Pe)}function vt(Ye){if(Pe--,r.monitorRunDependencies&&r.monitorRunDependencies(Pe),Pe==0&&(Be!==null&&(clearInterval(Be),Be=null),Le)){var Vt=Le;Le=null,Vt()}}r.preloadedImages={},r.preloadedAudios={};function qe(Ye){throw r.onAbort&&r.onAbort(Ye),Ye+="",Z(Ye),U(Ye),L=!0,v=1,Ye="abort("+Ye+"). Build with -s ASSERTIONS=1 for more info.",new WebAssembly.RuntimeError(Ye)}var Ze="data:application/octet-stream;base64,";function At(Ye){return String.prototype.startsWith?Ye.startsWith(Ze):Ye.indexOf(Ze)===0}var et="bls_c.wasm";At(et)||(et=_(et));function Ut(){try{if(Q)return new Uint8Array(Q);if(D)return D(et);throw"both async and sync fetching of the wasm failed"}catch(Ye){qe(Ye)}}function jt(){return!Q&&(c||u)&&typeof fetch=="function"?fetch(et,{credentials:"same-origin"}).then(function(Ye){if(!Ye.ok)throw"failed to load wasm binary file at '"+et+"'";return Ye.arrayBuffer()}).catch(function(){return Ut()}):new Promise(function(Ye,Vt){Ye(Ut())})}function Xe(){var Ye={a:We};function Vt(hc,Ff){var YS=hc.exports;r.asm=YS,vt("wasm-instantiate")}lt("wasm-instantiate");function Sr(hc){Vt(hc.instance)}function og(hc){return jt().then(function(Ff){return WebAssembly.instantiate(Ff,Ye)}).then(hc,function(Ff){U("failed to asynchronously prepare wasm: "+Ff),qe(Ff)})}function Ta(){if(!Q&&typeof WebAssembly.instantiateStreaming=="function"&&!At(et)&&typeof fetch=="function")fetch(et,{credentials:"same-origin"}).then(function(hc){var Ff=WebAssembly.instantiateStreaming(hc,Ye);return Ff.then(Sr,function(YS){U("wasm streaming compile failed: "+YS),U("falling back to ArrayBuffer instantiation"),og(Sr)})});else return og(Sr)}if(r.instantiateWasm)try{var oB=r.instantiateWasm(Ye,Vt);return oB}catch(hc){return U("Module.instantiateWasm callback failed with error: "+hc),!1}return Ta(),{}}W.push({func:function(){Qt()}});function Pt(Ye,Vt,Sr){N.copyWithin(Ye,Vt,Vt+Sr)}function St(Ye){return!1}var We={a:Pt,b:St,memory:K,table:$},st=Xe();r.asm=st;var Qt=r.___wasm_call_ctors=function(){return(Qt=r.___wasm_call_ctors=r.asm.c).apply(null,arguments)},bt=r._blsSetETHmode=function(){return(bt=r._blsSetETHmode=r.asm.d).apply(null,arguments)},Zt=r._blsInit=function(){return(Zt=r._blsInit=r.asm.e).apply(null,arguments)},ir=r._blsSetETHserialization=function(){return(ir=r._blsSetETHserialization=r.asm.f).apply(null,arguments)},xt=r._blsMalloc=function(){return(xt=r._blsMalloc=r.asm.g).apply(null,arguments)},ur=r._blsFree=function(){return(ur=r._blsFree=r.asm.h).apply(null,arguments)},Mt=r._blsIdSetInt=function(){return(Mt=r._blsIdSetInt=r.asm.i).apply(null,arguments)},dt=r._blsSecretKeySetLittleEndian=function(){return(dt=r._blsSecretKeySetLittleEndian=r.asm.j).apply(null,arguments)},$t=r._blsSecretKeySetLittleEndianMod=function(){return($t=r._blsSecretKeySetLittleEndianMod=r.asm.k).apply(null,arguments)},er=r._blsGetPublicKey=function(){return(er=r._blsGetPublicKey=r.asm.l).apply(null,arguments)},_t=r._blsHashToSignature=function(){return(_t=r._blsHashToSignature=r.asm.m).apply(null,arguments)},sr=r._blsSign=function(){return(sr=r._blsSign=r.asm.n).apply(null,arguments)},fr=r._blsVerify=function(){return(fr=r._blsVerify=r.asm.o).apply(null,arguments)},tt=r._blsMultiVerify=function(){return(tt=r._blsMultiVerify=r.asm.p).apply(null,arguments)},ar=r._blsAggregateSignature=function(){return(ar=r._blsAggregateSignature=r.asm.q).apply(null,arguments)},M=r._blsSignatureAdd=function(){return(M=r._blsSignatureAdd=r.asm.r).apply(null,arguments)},V=r._blsPublicKeyAdd=function(){return(V=r._blsPublicKeyAdd=r.asm.s).apply(null,arguments)},H=r._blsFastAggregateVerify=function(){return(H=r._blsFastAggregateVerify=r.asm.t).apply(null,arguments)},S=r._blsAggregateVerifyNoCheck=function(){return(S=r._blsAggregateVerifyNoCheck=r.asm.u).apply(null,arguments)},z=r._blsIdSerialize=function(){return(z=r._blsIdSerialize=r.asm.v).apply(null,arguments)},le=r._blsSecretKeySerialize=function(){return(le=r._blsSecretKeySerialize=r.asm.w).apply(null,arguments)},he=r._blsPublicKeySerialize=function(){return(he=r._blsPublicKeySerialize=r.asm.x).apply(null,arguments)},me=r._blsSignatureSerialize=function(){return(me=r._blsSignatureSerialize=r.asm.y).apply(null,arguments)},Ae=r._blsIdDeserialize=function(){return(Ae=r._blsIdDeserialize=r.asm.z).apply(null,arguments)},Re=r._blsSecretKeyDeserialize=function(){return(Re=r._blsSecretKeyDeserialize=r.asm.A).apply(null,arguments)},Ne=r._blsPublicKeyDeserialize=function(){return(Ne=r._blsPublicKeyDeserialize=r.asm.B).apply(null,arguments)},Nt=r._blsSignatureDeserialize=function(){return(Nt=r._blsSignatureDeserialize=r.asm.C).apply(null,arguments)},ke=r._blsIdIsEqual=function(){return(ke=r._blsIdIsEqual=r.asm.D).apply(null,arguments)},rt=r._blsSecretKeyIsEqual=function(){return(rt=r._blsSecretKeyIsEqual=r.asm.E).apply(null,arguments)},it=r._blsPublicKeyIsEqual=function(){return(it=r._blsPublicKeyIsEqual=r.asm.F).apply(null,arguments)},ft=r._blsSignatureIsEqual=function(){return(ft=r._blsSignatureIsEqual=r.asm.G).apply(null,arguments)},ot=r._blsIdIsZero=function(){return(ot=r._blsIdIsZero=r.asm.H).apply(null,arguments)},ht=r._blsSecretKeyIsZero=function(){return(ht=r._blsSecretKeyIsZero=r.asm.I).apply(null,arguments)},mt=r._blsPublicKeyIsZero=function(){return(mt=r._blsPublicKeyIsZero=r.asm.J).apply(null,arguments)},pt=r._blsSignatureIsZero=function(){return(pt=r._blsSignatureIsZero=r.asm.K).apply(null,arguments)},Ge=r._blsSecretKeyShare=function(){return(Ge=r._blsSecretKeyShare=r.asm.L).apply(null,arguments)},$e=r._blsPublicKeyShare=function(){return($e=r._blsPublicKeyShare=r.asm.M).apply(null,arguments)},Ve=r._blsSecretKeyRecover=function(){return(Ve=r._blsSecretKeyRecover=r.asm.N).apply(null,arguments)},ze=r._blsPublicKeyRecover=function(){return(ze=r._blsPublicKeyRecover=r.asm.O).apply(null,arguments)},Ke=r._blsSignatureRecover=function(){return(Ke=r._blsSignatureRecover=r.asm.P).apply(null,arguments)},Ue=r._blsSecretKeyAdd=function(){return(Ue=r._blsSecretKeyAdd=r.asm.Q).apply(null,arguments)},we=r._blsSignatureVerifyOrder=function(){return(we=r._blsSignatureVerifyOrder=r.asm.R).apply(null,arguments)},_e=r._blsPublicKeyVerifyOrder=function(){return(_e=r._blsPublicKeyVerifyOrder=r.asm.S).apply(null,arguments)},Oe=r._blsSignatureIsValidOrder=function(){return(Oe=r._blsSignatureIsValidOrder=r.asm.T).apply(null,arguments)},Te=r._blsPublicKeyIsValidOrder=function(){return(Te=r._blsPublicKeyIsValidOrder=r.asm.U).apply(null,arguments)},Ce=r._blsVerifyAggregatedHashes=function(){return(Ce=r._blsVerifyAggregatedHashes=r.asm.V).apply(null,arguments)},De=r._blsSignHash=function(){return(De=r._blsSignHash=r.asm.W).apply(null,arguments)},Tt=r._blsPublicKeySerializeUncompressed=function(){return(Tt=r._blsPublicKeySerializeUncompressed=r.asm.X).apply(null,arguments)},Bt=r._blsSignatureSerializeUncompressed=function(){return(Bt=r._blsSignatureSerializeUncompressed=r.asm.Y).apply(null,arguments)},kt=r._blsPublicKeyDeserializeUncompressed=function(){return(kt=r._blsPublicKeyDeserializeUncompressed=r.asm.Z).apply(null,arguments)},Lt=r._blsSignatureDeserializeUncompressed=function(){return(Lt=r._blsSignatureDeserializeUncompressed=r.asm._).apply(null,arguments)},ie=r._blsVerifyPairing=function(){return(ie=r._blsVerifyPairing=r.asm.$).apply(null,arguments)},Yt=r._blsVerifyHash=function(){return(Yt=r._blsVerifyHash=r.asm.aa).apply(null,arguments)},yr=r._blsSecretKeySub=function(){return(yr=r._blsSecretKeySub=r.asm.ba).apply(null,arguments)},mr=r._blsPublicKeySub=function(){return(mr=r._blsPublicKeySub=r.asm.ca).apply(null,arguments)},zt=r._blsSignatureSub=function(){return(zt=r._blsSignatureSub=r.asm.da).apply(null,arguments)},lr=r._blsGetOpUnitSize=function(){return(lr=r._blsGetOpUnitSize=r.asm.ea).apply(null,arguments)},dr=r._blsGetCurveOrder=function(){return(dr=r._blsGetCurveOrder=r.asm.fa).apply(null,arguments)},ln=r._blsGetFieldOrder=function(){return(ln=r._blsGetFieldOrder=r.asm.ga).apply(null,arguments)},Nr=r._blsGetSerializedSecretKeyByteSize=function(){return(Nr=r._blsGetSerializedSecretKeyByteSize=r.asm.ha).apply(null,arguments)},nn=r._blsGetFrByteSize=function(){return(nn=r._blsGetFrByteSize=r.asm.ia).apply(null,arguments)},sn=r._blsGetSerializedPublicKeyByteSize=function(){return(sn=r._blsGetSerializedPublicKeyByteSize=r.asm.ja).apply(null,arguments)},an=r._blsGetG1ByteSize=function(){return(an=r._blsGetG1ByteSize=r.asm.ka).apply(null,arguments)},An=r._blsGetSerializedSignatureByteSize=function(){return(An=r._blsGetSerializedSignatureByteSize=r.asm.la).apply(null,arguments)},Wn=r._blsGetGeneratorOfPublicKey=function(){return(Wn=r._blsGetGeneratorOfPublicKey=r.asm.ma).apply(null,arguments)},Qn=r._blsIdSetDecStr=function(){return(Qn=r._blsIdSetDecStr=r.asm.na).apply(null,arguments)},$n=r._blsIdSetHexStr=function(){return($n=r._blsIdSetHexStr=r.asm.oa).apply(null,arguments)},$fe=r._blsIdSetLittleEndian=function(){return($fe=r._blsIdSetLittleEndian=r.asm.pa).apply(null,arguments)},Yfe=r._blsIdGetDecStr=function(){return(Yfe=r._blsIdGetDecStr=r.asm.qa).apply(null,arguments)},Jfe=r._blsIdGetHexStr=function(){return(Jfe=r._blsIdGetHexStr=r.asm.ra).apply(null,arguments)},Xfe=r._blsHashToSecretKey=function(){return(Xfe=r._blsHashToSecretKey=r.asm.sa).apply(null,arguments)},Zfe=r._blsGetPop=function(){return(Zfe=r._blsGetPop=r.asm.ta).apply(null,arguments)},ele=r._blsVerifyPop=function(){return(ele=r._blsVerifyPop=r.asm.ua).apply(null,arguments)},tle=r._blsIdGetLittleEndian=function(){return(tle=r._blsIdGetLittleEndian=r.asm.va).apply(null,arguments)},rle=r._blsSecretKeySetDecStr=function(){return(rle=r._blsSecretKeySetDecStr=r.asm.wa).apply(null,arguments)},nle=r._blsSecretKeySetHexStr=function(){return(nle=r._blsSecretKeySetHexStr=r.asm.xa).apply(null,arguments)},ile=r._blsSecretKeyGetLittleEndian=function(){return(ile=r._blsSecretKeyGetLittleEndian=r.asm.ya).apply(null,arguments)},sle=r._blsSecretKeyGetDecStr=function(){return(sle=r._blsSecretKeyGetDecStr=r.asm.za).apply(null,arguments)},ale=r._blsSecretKeyGetHexStr=function(){return(ale=r._blsSecretKeyGetHexStr=r.asm.Aa).apply(null,arguments)},ole=r._blsPublicKeySetHexStr=function(){return(ole=r._blsPublicKeySetHexStr=r.asm.Ba).apply(null,arguments)},cle=r._blsPublicKeyGetHexStr=function(){return(cle=r._blsPublicKeyGetHexStr=r.asm.Ca).apply(null,arguments)},ule=r._blsSignatureSetHexStr=function(){return(ule=r._blsSignatureSetHexStr=r.asm.Da).apply(null,arguments)},fle=r._blsSignatureGetHexStr=function(){return(fle=r._blsSignatureGetHexStr=r.asm.Ea).apply(null,arguments)},lle=r._blsDHKeyExchange=function(){return(lle=r._blsDHKeyExchange=r.asm.Fa).apply(null,arguments)},dle=r._blsMultiAggregateSignature=function(){return(dle=r._blsMultiAggregateSignature=r.asm.Ga).apply(null,arguments)},hle=r._blsMultiAggregatePublicKey=function(){return(hle=r._blsMultiAggregatePublicKey=r.asm.Ha).apply(null,arguments)},ple=r.dynCall_vi=function(){return(ple=r.dynCall_vi=r.asm.Ia).apply(null,arguments)};r.asm=st;var ag;r.then=function(Ye){if(ag)Ye(r);else{var Vt=r.onRuntimeInitialized;r.onRuntimeInitialized=function(){Vt&&Vt(),Ye(r)}}return r},Le=function Ye(){ag||$S(),ag||(Le=Ye)};function $S(Ye){if(Ye=Ye||s,Pe>0||(ae(),Pe>0))return;function Vt(){ag||(ag=!0,r.calledRun=!0,!L&&(ce(),ue(),r.onRuntimeInitialized&&r.onRuntimeInitialized(),ye()))}r.setStatus?(r.setStatus("Running..."),setTimeout(function(){setTimeout(function(){r.setStatus("")},1),Vt()},1)):Vt()}if(r.run=$S,r.preInit)for(typeof r.preInit=="function"&&(r.preInit=[r.preInit]);r.preInit.length>0;)r.preInit.pop()();return j=!0,$S(),r}}();typeof w6=="object"&&typeof k9=="object"?k9.exports=U9:typeof define=="function"&&define.amd?define([],function(){return U9}):typeof w6=="object"&&(w6.Module=U9)});var RTe,H9=je(()=>{RTe=cB({"./bls.js":()=>G9(),"./bls_c.js":()=>V9()})});var G9=R((eX,H0)=>{l();H9();(t=>{if(typeof window=="object"){let e={};typeof H0<"u"&&H0.exports?H0.exports=t(e,!1):window.bls=t(e,!1)}else t(eX,!0)})((t,e)=>{t.BN254=0,t.BN381_1=1,t.BLS12_381=5,t.ethMode=!1,t.ETH_MODE_DRAFT_05=1,t.ETH_MODE_DRAFT_06=2,t.ETH_MODE_DRAFT_07=3;let r=(i,s)=>{let a=i.mod,o=6,c=i.ethMode?4:6,u=i.ethMode?200:0,f=c*10+o+u,d=c*8,m=o*8,_=m*3*(i.ethMode?1:2),x=m*3*(i.ethMode?2:1),P=g=>a._blsMalloc(g),D=g=>{a._blsFree(g)},k=(g,b)=>{let I="";for(let O=0;O<b;O++)I+=String.fromCharCode(a.HEAP8[g+O]);return I},Y=(g,b)=>{for(let I=0;I<b.length;I++)a.HEAP8[g+I]=b.charCodeAt(I)};i.toHex=(g,b,I)=>{let O="";for(let N=0;N<I;N++)O+=("0"+g[b+N].toString(16)).slice(-2);return O},i.toHexStr=g=>i.toHex(g,0,g.length),i.fromHexStr=g=>{if(g.length&1)throw new Error("fromHexStr:length must be even "+g.length);let b=g.length/2,I=new Uint8Array(b);for(let O=0;O<b;O++)I[O]=parseInt(g.slice(O*2,O*2+2),16);return I};let X=(g,b)=>{g.set(a.HEAP32.subarray(b/4,b/4+g.length))},Z=(g,b)=>{a.HEAP32.set(b,g/4)},U=(g,b=!0)=>(I,O=0)=>{let w=P(3096),C=g(w,3096,I,O);if(C<=0)throw new Error("err gen_str:"+I);let T=null;return b?T=k(w,C):T=new Uint8Array(a.HEAP8.subarray(w,w+C)),D(w),T},Q=g=>U(g,!1),j=g=>(b,I)=>{let O=P(I.length);a.HEAP8.set(I,O);let N=g(b,O,I.length);if(D(O),N===0)throw new Error("err _wrapDeserialize",I)},K=(g,b,I=!1)=>function(){let O=[...arguments],N=O[b],w=Object.prototype.toString.apply(N);if(["[object String]","[object Uint8Array]","[object Array]"].indexOf(w)<0)throw new Error(`err bad type:"${w}". Use String or Uint8Array.`);let C=O[b+1],T=P(N.length);w==="[object String]"?Y(T,N):a.HEAP8.set(N,T);let F=g(...O.slice(0,b),T,N.length,C);if(D(T),I)return F;if(F)throw new Error("err _wrapInput "+N)},$=(g,b,I,O)=>{let N=P(b.length*4);g(N,I,O),X(b,N),D(N)},L=(g,b,I,O)=>{let N=P(b.length*4);a.HEAP32.set(b,N/4);let w=g(N,I,O);return D(N),w},v=(g,b,I,O,N)=>{let w=b._allocAndCopy(),C=N._allocAndCopy(),T=P(I*O.length);for(let F=0;F<O.length;F++)Z(T+I*F,O[F].a_);g(w,T,O.length,C),D(T),D(C),b._saveAndFree(w)},E=(g,b,I,O,N)=>{let w=O.length;if(w!=N.length)throw"recover:bad length";let C=b._alloc(),T=P(I*w),F=P(d*w);for(let fe=0;fe<w;fe++)Z(T+I*fe,O[fe].a_),Z(F+d*fe,N[fe].a_);let ee=g(C,T,F,w);if(D(F),D(T),b._saveAndFree(C),ee)throw"callRecover"};i.blsInit=(g=i.ethMode?i.BLS12_381:i.BN254)=>{let b=a._blsInit(g,f);if(b)throw"blsInit err "+b},i.getCurveOrder=U(a._blsGetCurveOrder),i.getFieldOrder=U(a._blsGetFieldOrder),i.blsIdSetDecStr=K(a._blsIdSetDecStr,1),i.blsIdSetHexStr=K(a._blsIdSetHexStr,1),i.blsIdGetDecStr=U(a._blsIdGetDecStr),i.blsIdGetHexStr=U(a._blsIdGetHexStr),i.blsIdSerialize=Q(a._blsIdSerialize),i.blsSecretKeySerialize=Q(a._blsSecretKeySerialize),i.blsPublicKeySerialize=Q(a._blsPublicKeySerialize),i.blsSignatureSerialize=Q(a._blsSignatureSerialize),i.blsIdDeserialize=j(a._blsIdDeserialize),i.blsSecretKeyDeserialize=j(a._blsSecretKeyDeserialize),i.blsPublicKeyDeserialize=j(a._blsPublicKeyDeserialize),i.blsSignatureDeserialize=j(a._blsSignatureDeserialize),i.blsPublicKeySerializeUncompressed=Q(a._blsPublicKeySerializeUncompressed),i.blsSignatureSerializeUncompressed=Q(a._blsSignatureSerializeUncompressed),i.blsPublicKeyDeserializeUncompressed=j(a._blsPublicKeyDeserializeUncompressed),i.blsSignatureDeserializeUncompressed=j(a._blsSignatureDeserializeUncompressed),i.blsSecretKeySetLittleEndian=K(a._blsSecretKeySetLittleEndian,1),i.blsSecretKeySetLittleEndianMod=K(a._blsSecretKeySetLittleEndianMod,1),i.blsHashToSecretKey=K(a._blsHashToSecretKey,1),i.blsSign=K(a._blsSign,2),i.blsVerify=K(a._blsVerify,2,!0);class p{constructor(b){this.a_=new Uint32Array(b/4)}deserializeHexStr(b){this.deserialize(i.fromHexStr(b))}serializeToHexStr(){return i.toHexStr(this.serialize())}dump(b=""){}clear(){this.a_.fill(0)}_alloc(){return P(this.a_.length*4)}_allocAndCopy(){let b=this._alloc();return a.HEAP32.set(this.a_,b/4),b}_save(b){this.a_.set(a.HEAP32.subarray(b/4,b/4+this.a_.length))}_saveAndFree(b){this._save(b),D(b)}_setter(b,I,O){let N=this._alloc(),w=b(N,I,O);if(this._saveAndFree(N),w)throw new Error("_setter err")}_getter(b,I,O){let N=this._allocAndCopy(),w=b(N,I,O);return D(N),w}_isEqual(b,I){let O=this._allocAndCopy(),N=I._allocAndCopy(),w=b(O,N);return D(N),D(O),w===1}_op1(b){let I=new this.constructor,O=this._allocAndCopy(),N=I._alloc();return b(N,O),I._saveAndFree(N),D(O),I}_op2(b,I,O=null){let N=O?new O:new this.constructor,w=this._allocAndCopy(),C=I._allocAndCopy(),T=N._alloc();return b(T,w,C),N._saveAndFree(T),D(C),D(w),N}_update(b,I){let O=this._allocAndCopy(),N=I._allocAndCopy();b(O,N),D(N),this._saveAndFree(O)}}i.Id=class extends p{constructor(){super(d)}setInt(g){this._setter(a._blsIdSetInt,g)}isEqual(g){return this._isEqual(a._blsIdIsEqual,g)}deserialize(g){this._setter(i.blsIdDeserialize,g)}serialize(){return this._getter(i.blsIdSerialize)}setStr(g,b=10){switch(b){case 10:this._setter(i.blsIdSetDecStr,g);return;case 16:this._setter(i.blsIdSetHexStr,g);return;default:throw"BlsId.setStr:bad base:"+b}}getStr(g=10){switch(g){case 10:return this._getter(i.blsIdGetDecStr);case 16:return this._getter(i.blsIdGetHexStr);default:throw"BlsId.getStr:bad base:"+g}}setLittleEndian(g){this._setter(i.blsSecretKeySetLittleEndian,g)}setLittleEndianMod(g){this._setter(i.blsSecretKeySetLittleEndianMod,g)}setByCSPRNG(){let g=new Uint8Array(d);i.getRandomValues(g),this.setLittleEndian(g)}},i.deserializeHexStrToId=g=>{let b=new i.Id;return b.deserializeHexStr(g),b},i.SecretKey=class extends p{constructor(){super(m)}setInt(g){this._setter(a._blsIdSetInt,g)}isZero(){return this._getter(a._blsSecretKeyIsZero)===1}isEqual(g){return this._isEqual(a._blsSecretKeyIsEqual,g)}deserialize(g){this._setter(i.blsSecretKeyDeserialize,g)}serialize(){return this._getter(i.blsSecretKeySerialize)}add(g){this._update(a._blsSecretKeyAdd,g)}share(g,b){v(a._blsSecretKeyShare,this,m,g,b)}recover(g,b){E(a._blsSecretKeyRecover,this,m,g,b)}setHashOf(g){this._setter(i.blsHashToSecretKey,g)}setLittleEndian(g){this._setter(i.blsSecretKeySetLittleEndian,g)}setLittleEndianMod(g){this._setter(i.blsSecretKeySetLittleEndianMod,g)}setByCSPRNG(){let g=new Uint8Array(m);i.getRandomValues(g),this.setLittleEndian(g)}getPublicKey(){let g=new i.PublicKey,b=this._allocAndCopy(),I=g._alloc();return a._blsGetPublicKey(I,b),g._saveAndFree(I),D(b),g}sign(g){let b=new i.Signature,I=this._allocAndCopy(),O=b._alloc();return i.blsSign(O,I,g),b._saveAndFree(O),D(I),b}},i.deserializeHexStrToSecretKey=g=>{let b=new i.SecretKey;return b.deserializeHexStr(g),b},i.PublicKey=class extends p{constructor(){super(_)}isZero(){return this._getter(a._blsPublicKeyIsZero)===1}isEqual(g){return this._isEqual(a._blsPublicKeyIsEqual,g)}deserialize(g){this._setter(i.blsPublicKeyDeserialize,g)}serialize(){return this._getter(i.blsPublicKeySerialize)}deserializeUncompressed(g){this._setter(i.blsPublicKeyDeserializeUncompressed,g)}serializeUncompressed(){return this._getter(i.blsPublicKeySerializeUncompressed)}add(g){this._update(a._blsPublicKeyAdd,g)}share(g,b){v(a._blsPublicKeyShare,this,_,g,b)}recover(g,b){E(a._blsPublicKeyRecover,this,_,g,b)}isValidOrder(){return this._getter(a._blsPublicKeyIsValidOrder)}verify(g,b){let I=this._allocAndCopy(),O=g._allocAndCopy(),N=i.blsVerify(O,I,b);return D(O),D(I),N!=0}},i.deserializeHexStrToPublicKey=g=>{let b=new i.PublicKey;return b.deserializeHexStr(g),b},i.Signature=class extends p{constructor(){super(x)}isZero(){return this._getter(a._blsSignatureIsZero)===1}isEqual(g){return this._isEqual(a._blsSignatureIsEqual,g)}deserialize(g){this._setter(i.blsSignatureDeserialize,g)}serialize(){return this._getter(i.blsSignatureSerialize)}deserializeUncompressed(g){this._setter(i.blsSignatureDeserializeUncompressed,g)}serializeUncompressed(){return this._getter(i.blsSignatureSerializeUncompressed)}add(g){this._update(a._blsSignatureAdd,g)}recover(g,b){E(a._blsSignatureRecover,this,x,g,b)}isValidOrder(){return this._getter(a._blsSignatureIsValidOrder)}aggregate(g){let b=g.length,I=this._allocAndCopy(),O=P(x*b);for(let w=0;w<b;w++)a.HEAP32.set(g[w].a_,(O+x*w)/4);let N=a._blsAggregateSignature(I,O,b);return D(O),this._saveAndFree(I),N==1}fastAggregateVerify(g,b){let I=g.length,O=b.length,N=this._allocAndCopy(),w=P(_*I),C=P(O);for(let F=0;F<I;F++)a.HEAP32.set(g[F].a_,(w+_*F)/4);a.HEAP8.set(b,C);let T=a._blsFastAggregateVerify(N,w,I,C,O);return D(C),D(w),D(N),T==1}aggregateVerifyNoCheck(g,b){let I=g.length,O=32;if(I==0||b.length!=O*I)return!1;let N=this._allocAndCopy(),w=P(_*I),C=P(b.length);for(let F=0;F<I;F++)a.HEAP32.set(g[F].a_,(w+_*F)/4);a.HEAP8.set(b,C);let T=a._blsAggregateVerifyNoCheck(N,w,C,O,I);return D(C),D(w),D(N),T==1}},i.deserializeHexStrToSignature=g=>{let b=new i.Signature;return b.deserializeHexStr(g),b},i.setETHmode=g=>{if(a._blsSetETHmode(g)!=0)throw new Error(`bad setETHmode ${g}`)},i.verifySignatureOrder=g=>{a._blsSignatureVerifyOrder(g)},i.verifyPublicKeyOrder=g=>{a._blsPublicKeyVerifyOrder(g)},i.areAllMsgDifferent=(g,b)=>{let I=g.length/b;if(g.length!=I*b)return!1;h={};for(let O=0;O<I;O++){let N=g.subarray(O*b,(O+1)*b);if(N in h)return!1;h[N]=!0}return!0},i.multiVerify=(g,b,I)=>{let C=b.length;if(g.length!=C||I.length!=C)return!1;for(let ne=0;ne<C;ne++)if(I[ne].length!=32)return!1;let T=P(x*C),F=P(_*C),ee=P(32*C),fe=P(8*C);i.getRandomValues(a.HEAP8.subarray(fe,fe+8*C));for(let ne=0;ne<C;ne++)a.HEAP32.set(b[ne].a_,(T+x*ne)/4),a.HEAP32.set(g[ne].a_,(F+_*ne)/4),a.HEAP8.set(I[ne],ee+32*ne);let B=a._blsMultiVerify(T,F,ee,32,fe,8,C,0);return D(fe),D(ee),D(F),D(T),B==1},i.blsInit(s),i.ethMode&&i.setETHmode(i.ETH_MODE_DRAFT_07)},n=function(i,s){let a=new Uint8Array(s);t.getRandomValues(a);for(let o=0;o<s;o++)t.mod.HEAP8[i+o]=a[o]};return t.setRandFunc=i=>{t.getRandomValues=i},t.init=(i=t.BN254)=>{t.curveType=i;let s="bls_c";return new Promise(a=>{if(e){let o=cs();t.getRandomValues=o.randomFillSync;let c=b6();RTe(`./${s}.js`)({cryptoGetRandomValues:n,locateFile:d=>c.join(__dirname,d)}).then(d=>{t.mod=d,r(t,i),a()})}else{let o=window.crypto||window.msCrypto;t.getRandomValues=c=>o.getRandomValues(c),fetch(`./${s}.wasm`).then(c=>c.arrayBuffer()).then(c=>new Uint8Array(c)).then(()=>{typeof H0<"u"&&H0.exports?t.mod=V9()():t.mod=Module(),t.mod.cryptoGetRandomValues=n,t.mod.onRuntimeInitialized=()=>{r(t,i),a()}})}})},t})});var E6=R(ds=>{"use strict";l();Object.defineProperty(ds,"__esModule",{value:!0});ds.ValidatorPublicKey=ds.ValidatorSecretKey=ds.BLS=ds.VALIDATOR_PUBKEY_LENGTH=ds.VALIDATOR_SECRETKEY_LENGTH=void 0;var DTe=It(),tX=F9(),MTe=A6();ds.VALIDATOR_SECRETKEY_LENGTH=32;ds.VALIDATOR_PUBKEY_LENGTH=96;var G0=class t{static loadBLSModule(){if(!t.bls)try{t.bls=G9()}catch{throw new Error("BLS module is required but not installed. Please install '@multiversx/sdk-bls-wasm'.")}}static async initIfNecessary(){t.isInitialized||(t.loadBLSModule(),await t.bls.init(t.bls.BLS12_381),t.isInitialized=!0)}static guardInitialized(){if(!t.isInitialized)throw new DTe.ErrInvariantFailed("BLS modules are not initalized. Make sure that 'await BLS.initIfNecessary()' is called correctly.")}};ds.BLS=G0;G0.isInitialized=!1;var j9=class{constructor(e){G0.guardInitialized(),tX.guardLength(e,ds.VALIDATOR_SECRETKEY_LENGTH),this.secretKey=new G0.bls.SecretKey,this.secretKey.setLittleEndian(Uint8Array.from(e)),this.publicKey=this.secretKey.getPublicKey()}static fromPem(e,r=0){return MTe.parseValidatorKey(e,r)}generatePublicKey(){let e=y.Buffer.from(this.publicKey.serialize());return new _6(e)}sign(e){let r=this.secretKey.sign(e);return y.Buffer.from(r.serialize())}hex(){return this.valueOf().toString("hex")}valueOf(){return y.Buffer.from(this.secretKey.serialize())}};ds.ValidatorSecretKey=j9;var _6=class{constructor(e){tX.guardLength(e,ds.VALIDATOR_PUBKEY_LENGTH),this.buffer=y.Buffer.from(e)}hex(){return this.buffer.toString("hex")}valueOf(){return this.buffer}};ds.ValidatorPublicKey=_6});var A6=R(ya=>{"use strict";l();Object.defineProperty(ya,"__esModule",{value:!0});ya.parse=ya.parseValidatorKeys=ya.parseValidatorKey=ya.parseUserKeys=ya.parseUserKey=void 0;var rX=It(),S6=Zu(),nX=E6();function BTe(t,e=0){return iX(t)[e]}ya.parseUserKey=BTe;function iX(t){return z9(t,S6.USER_SEED_LENGTH+S6.USER_PUBKEY_LENGTH).map(r=>new S6.UserSecretKey(r.slice(0,S6.USER_SEED_LENGTH)))}ya.parseUserKeys=iX;function LTe(t,e=0){return sX(t)[e]}ya.parseValidatorKey=LTe;function sX(t){return z9(t,nX.VALIDATOR_SECRETKEY_LENGTH).map(r=>new nX.ValidatorSecretKey(r))}ya.parseValidatorKeys=sX;function z9(t,e){let r=t.split(/\r?\n/).map(s=>s.trim()).filter(s=>s.length>0),n=[],i=[];for(let s of r)if(s.startsWith("-----BEGIN"))i=[];else if(s.startsWith("-----END")){let a=i.join(""),o=y.Buffer.from(a,"base64").toString(),c=y.Buffer.from(o,"hex");if(c.length!=e)throw new rX.ErrBadPEM(`incorrect key length: expected ${e}, found ${c.length}`);n.push(c),i=[]}else i.push(s);if(i.length!=0)throw new rX.ErrBadPEM("incorrect file structure");return n}ya.parse=z9});var Zu=R(Gn=>{"use strict";l();var qTe=Gn&&Gn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),FTe=Gn&&Gn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),UTe=Gn&&Gn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&qTe(e,t,r);return FTe(e,t),e};Object.defineProperty(Gn,"__esModule",{value:!0});Gn.UserPublicKey=Gn.UserSecretKey=Gn.USER_PUBKEY_LENGTH=Gn.USER_SEED_LENGTH=void 0;var Oy=UTe(q9()),kTe=_C(),VTe=qt(),K9=F9(),HTe=A6();Gn.USER_SEED_LENGTH=32;Gn.USER_PUBKEY_LENGTH=32;Oy.utils.sha512Sync=(...t)=>kTe.sha512(Oy.utils.concatBytes(...t));var W9=class t{constructor(e){K9.guardLength(e,Gn.USER_SEED_LENGTH),this.buffer=y.Buffer.from(e)}static fromString(e){K9.guardLength(e,Gn.USER_SEED_LENGTH*2);let r=y.Buffer.from(e,"hex");return new t(r)}static fromPem(e,r=0){return HTe.parseUserKey(e,r)}generatePublicKey(){let e=Oy.sync.getPublicKey(new Uint8Array(this.buffer));return new x6(e)}sign(e){let r=Oy.sync.sign(new Uint8Array(e),new Uint8Array(this.buffer));return y.Buffer.from(r)}hex(){return this.buffer.toString("hex")}valueOf(){return this.buffer}};Gn.UserSecretKey=W9;var x6=class{constructor(e){K9.guardLength(e,Gn.USER_PUBKEY_LENGTH),this.buffer=y.Buffer.from(e)}verify(e,r){try{return Oy.sync.verify(new Uint8Array(r),new Uint8Array(e),new Uint8Array(this.buffer))}catch{return!1}}hex(){return this.buffer.toString("hex")}toAddress(e){return new VTe.Address(this.buffer,e)}valueOf(){return this.buffer}};Gn.UserPublicKey=x6});var $9=R(T6=>{"use strict";l();Object.defineProperty(T6,"__esModule",{value:!0});T6.Mnemonic=void 0;var Py=hz(),GTe=LJ(),aX=It(),jTe=Zu(),zTe=256,KTe="m/44'/508'/0'/0'",Q9=class t{constructor(e){this.text=e}static generate(){let e=Py.generateMnemonic(zTe);return new t(e)}static fromString(e){return e=e.trim(),t.assertTextIsValid(e),new t(e)}static fromEntropy(e){try{let r=Py.entropyToMnemonic(y.Buffer.from(e));return new t(r)}catch(r){throw new aX.ErrBadMnemonicEntropy(r)}}static assertTextIsValid(e){if(!Py.validateMnemonic(e))throw new aX.ErrWrongMnemonic}deriveKey(e=0,r=""){let n=Py.mnemonicToSeedSync(this.text,r),i=`${KTe}/${e}'`,a=GTe.derivePath(i,n.toString("hex")).key;return new jTe.UserSecretKey(a)}getWords(){return this.text.split(" ")}getEntropy(){let e=Py.mnemonicToEntropy(this.text);return y.Buffer.from(e,"hex")}toString(){return this.text}};T6.Mnemonic=Q9});var Ry=R(hs=>{"use strict";l();Object.defineProperty(hs,"__esModule",{value:!0});hs.PubKeyEncCipher=hs.PubKeyEncNonceLength=hs.PubKeyEncVersion=hs.KeyDerivationFunction=hs.DigestAlgorithm=hs.CipherAlgorithm=void 0;hs.CipherAlgorithm="aes-128-ctr";hs.DigestAlgorithm="sha256";hs.KeyDerivationFunction="scrypt";hs.PubKeyEncVersion=1;hs.PubKeyEncNonceLength=24;hs.PubKeyEncCipher="x25519-xsalsa20-poly1305"});var J9=R((mit,cX)=>{l();var WTe=cs(),oX=2147483647,QTe=5e3;function $Te(t,e,r,n,i,s,a){if(r===0||r&r-1)throw Error("N must be > 0 and a power of 2");if(r>oX/128/n)throw Error("Parameter N is too large");if(n>oX/128/i)throw Error("Parameter r is too large");let o=y.Buffer.alloc(256*n),c=y.Buffer.alloc(128*n*r),u=new Int32Array(16),f=new Int32Array(16),d=y.Buffer.alloc(64),m=WTe.pbkdf2Sync(t,e,1,i*128*n,"sha256"),_;if(a){let x=i*r*2,P=0;_=function(){++P,P%1e3===0&&a({current:P,total:x,percent:P/x*100})}}return{XY:o,V:c,B32:u,x:f,_X:d,B:m,tickCallback:_}}async function YTe(t,e,r,n,i,s,a,o,c,u,f){f=f||QTe;let d=0,m=128*r,_;for(t.copy(s,d,e,e+m),_=0;_<n;_++)s.copy(i,_*m,d,d+m),_%f===0&&await new Promise(x=>setImmediate(x)),I6(s,d,m,r,a,o,c),u&&u();for(_=0;_<n;_++){let x=d+(2*r-1)*64,P=s.readUInt32LE(x)&n-1;Y9(i,P*m,s,d,m),_%f===0&&await new Promise(D=>setImmediate(D)),I6(s,d,m,r,a,o,c),u&&u()}s.copy(t,e,d,d+m)}function JTe(t,e,r,n,i,s,a,o,c,u){let f=0,d=128*r,m;for(t.copy(s,f,e,e+d),m=0;m<n;m++)s.copy(i,m*d,f,f+d),I6(s,f,d,r,a,o,c),u&&u();for(m=0;m<n;m++){let _=f+(2*r-1)*64,x=s.readUInt32LE(_)&n-1;Y9(i,x*d,s,f,d),I6(s,f,d,r,a,o,c),u&&u()}s.copy(t,e,f,f+d)}function I6(t,e,r,n,i,s,a){let o;for(Dy(t,e+(2*n-1)*64,i,0,64),o=0;o<2*n;o++)Y9(t,o*64,i,0,64),XTe(i,s,a),Dy(i,0,t,r+o*64,64);for(o=0;o<n;o++)Dy(t,r+o*2*64,t,e+o*64,64);for(o=0;o<n;o++)Dy(t,r+(o*2+1)*64,t,e+(o+n)*64,64)}function Cr(t,e){return t<<e|t>>>32-e}function XTe(t,e,r){let n;for(n=0;n<16;n++)e[n]=(t[n*4+0]&255)<<0,e[n]|=(t[n*4+1]&255)<<8,e[n]|=(t[n*4+2]&255)<<16,e[n]|=(t[n*4+3]&255)<<24;for(Dy(e,0,r,0,16),n=8;n>0;n-=2)r[4]^=Cr(r[0]+r[12],7),r[8]^=Cr(r[4]+r[0],9),r[12]^=Cr(r[8]+r[4],13),r[0]^=Cr(r[12]+r[8],18),r[9]^=Cr(r[5]+r[1],7),r[13]^=Cr(r[9]+r[5],9),r[1]^=Cr(r[13]+r[9],13),r[5]^=Cr(r[1]+r[13],18),r[14]^=Cr(r[10]+r[6],7),r[2]^=Cr(r[14]+r[10],9),r[6]^=Cr(r[2]+r[14],13),r[10]^=Cr(r[6]+r[2],18),r[3]^=Cr(r[15]+r[11],7),r[7]^=Cr(r[3]+r[15],9),r[11]^=Cr(r[7]+r[3],13),r[15]^=Cr(r[11]+r[7],18),r[1]^=Cr(r[0]+r[3],7),r[2]^=Cr(r[1]+r[0],9),r[3]^=Cr(r[2]+r[1],13),r[0]^=Cr(r[3]+r[2],18),r[6]^=Cr(r[5]+r[4],7),r[7]^=Cr(r[6]+r[5],9),r[4]^=Cr(r[7]+r[6],13),r[5]^=Cr(r[4]+r[7],18),r[11]^=Cr(r[10]+r[9],7),r[8]^=Cr(r[11]+r[10],9),r[9]^=Cr(r[8]+r[11],13),r[10]^=Cr(r[9]+r[8],18),r[12]^=Cr(r[15]+r[14],7),r[13]^=Cr(r[12]+r[15],9),r[14]^=Cr(r[13]+r[12],13),r[15]^=Cr(r[14]+r[13],18);for(n=0;n<16;++n)e[n]=r[n]+e[n];for(n=0;n<16;n++){let i=n*4;t[i+0]=e[n]>>0&255,t[i+1]=e[n]>>8&255,t[i+2]=e[n]>>16&255,t[i+3]=e[n]>>24&255}}function Y9(t,e,r,n,i){for(let s=0;s<i;s++)r[n+s]^=t[e+s]}function Dy(t,e,r,n,i){if(y.Buffer.isBuffer(t)&&y.Buffer.isBuffer(r))t.copy(r,n,e,e+i);else for(;i--;)r[n++]=t[e++]}cX.exports={checkAndInit:$Te,smix:YTe,smixSync:JTe}});var fX=R((bit,uX)=>{l();var ZTe=cs(),{checkAndInit:eIe,smixSync:tIe}=J9();function rIe(t,e,r,n,i,s,a){let{XY:o,V:c,B32:u,x:f,_X:d,B:m,tickCallback:_}=eIe(t,e,r,n,i,s,a);for(var x=0;x<i;x++)tIe(m,x*128*n,n,r,c,o,d,u,f,_);return ZTe.pbkdf2Sync(t,m,1,s,"sha256")}uX.exports=rIe});var dX=R((_it,lX)=>{l();var nIe=cs(),{checkAndInit:iIe,smix:sIe}=J9();async function aIe(t,e,r,n,i,s,a,o){let{XY:c,V:u,B32:f,x:d,_X:m,B:_,tickCallback:x}=iIe(t,e,r,n,i,s,a);for(var P=0;P<i;P++)await sIe(_,P*128*n,n,r,u,c,m,f,d,x,o);return nIe.pbkdf2Sync(t,_,1,s,"sha256")}lX.exports=aIe});var gX=R((Ait,pX)=>{l();var hX=fX();hX.async=dX();pX.exports=hX});var C6=R(j0=>{"use strict";l();var oIe=j0&&j0.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(j0,"__esModule",{value:!0});j0.ScryptKeyDerivationParams=void 0;var cIe=oIe(gX()),X9=class{constructor(e=4096,r=8,n=1,i=32){this.n=4096,this.r=8,this.p=1,this.dklen=32,this.n=e,this.r=r,this.p=n,this.dklen=i}generateDerivedKey(e,r){return cIe.default(e,r,this.n,this.r,this.p,this.dklen)}};j0.ScryptKeyDerivationParams=X9});var eN=R(N6=>{"use strict";l();Object.defineProperty(N6,"__esModule",{value:!0});N6.EncryptedData=void 0;var uIe=C6(),Z9=class t{constructor(e){this.id=e.id,this.version=e.version,this.ciphertext=e.ciphertext,this.iv=e.iv,this.cipher=e.cipher,this.kdf=e.kdf,this.kdfparams=e.kdfparams,this.mac=e.mac,this.salt=e.salt}toJSON(){return{version:this.version,id:this.id,crypto:{ciphertext:this.ciphertext,cipherparams:{iv:this.iv},cipher:this.cipher,kdf:this.kdf,kdfparams:{dklen:this.kdfparams.dklen,salt:this.salt,n:this.kdfparams.n,r:this.kdfparams.r,p:this.kdfparams.p},mac:this.mac}}}static fromJSON(e){return new t({version:e.version,id:e.id,ciphertext:e.crypto.ciphertext,iv:e.crypto.cipherparams.iv,cipher:e.crypto.cipher,kdf:e.crypto.kdf,kdfparams:new uIe.ScryptKeyDerivationParams(e.crypto.kdfparams.n,e.crypto.kdfparams.r,e.crypto.kdfparams.p,e.crypto.kdfparams.dklen),salt:e.crypto.kdfparams.salt,mac:e.crypto.mac})}};N6.EncryptedData=Z9});function My(){if(!O6&&(O6=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!O6))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return O6(fIe)}var O6,fIe,tN=je(()=>{l();fIe=new Uint8Array(16)});var yX,mX=je(()=>{l();yX=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function lIe(t){return typeof t=="string"&&yX.test(t)}var ef,By=je(()=>{l();mX();ef=lIe});function dIe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(li[t[e+0]]+li[t[e+1]]+li[t[e+2]]+li[t[e+3]]+"-"+li[t[e+4]]+li[t[e+5]]+"-"+li[t[e+6]]+li[t[e+7]]+"-"+li[t[e+8]]+li[t[e+9]]+"-"+li[t[e+10]]+li[t[e+11]]+li[t[e+12]]+li[t[e+13]]+li[t[e+14]]+li[t[e+15]]).toLowerCase();if(!ef(r))throw TypeError("Stringified UUID is invalid");return r}var li,P6,tf,Ly=je(()=>{l();By();li=[];for(P6=0;P6<256;++P6)li.push((P6+256).toString(16).substr(1));tf=dIe});function hIe(t,e,r){var n=e&&r||0,i=e||new Array(16);t=t||{};var s=t.node||vX,a=t.clockseq!==void 0?t.clockseq:rN;if(s==null||a==null){var o=t.random||(t.rng||My)();s==null&&(s=vX=[o[0]|1,o[1],o[2],o[3],o[4],o[5]]),a==null&&(a=rN=(o[6]<<8|o[7])&16383)}var c=t.msecs!==void 0?t.msecs:Date.now(),u=t.nsecs!==void 0?t.nsecs:iN+1,f=c-nN+(u-iN)/1e4;if(f<0&&t.clockseq===void 0&&(a=a+1&16383),(f<0||c>nN)&&t.nsecs===void 0&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");nN=c,iN=u,rN=a,c+=122192928e5;var d=((c&268435455)*1e4+u)%4294967296;i[n++]=d>>>24&255,i[n++]=d>>>16&255,i[n++]=d>>>8&255,i[n++]=d&255;var m=c/4294967296*1e4&268435455;i[n++]=m>>>8&255,i[n++]=m&255,i[n++]=m>>>24&15|16,i[n++]=m>>>16&255,i[n++]=a>>>8|128,i[n++]=a&255;for(var _=0;_<6;++_)i[n+_]=s[_];return e||tf(i)}var vX,rN,nN,iN,bX,wX=je(()=>{l();tN();Ly();nN=0,iN=0;bX=hIe});function pIe(t){if(!ef(t))throw TypeError("Invalid UUID");var e,r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=e&255,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=e&255,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=e&255,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=e&255,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=e&255,r}var R6,sN=je(()=>{l();By();R6=pIe});function gIe(t){t=unescape(encodeURIComponent(t));for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}function D6(t,e,r){function n(i,s,a,o){if(typeof i=="string"&&(i=gIe(i)),typeof s=="string"&&(s=R6(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var c=new Uint8Array(16+i.length);if(c.set(s),c.set(i,s.length),c=r(c),c[6]=c[6]&15|e,c[8]=c[8]&63|128,a){o=o||0;for(var u=0;u<16;++u)a[o+u]=c[u];return a}return tf(c)}try{n.name=t}catch{}return n.DNS=yIe,n.URL=mIe,n}var yIe,mIe,aN=je(()=>{l();Ly();sN();yIe="6ba7b810-9dad-11d1-80b4-00c04fd430c8",mIe="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function vIe(t){if(typeof t=="string"){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var r=0;r<e.length;++r)t[r]=e.charCodeAt(r)}return bIe(wIe(_Ie(t),t.length*8))}function bIe(t){for(var e=[],r=t.length*32,n="0123456789abcdef",i=0;i<r;i+=8){var s=t[i>>5]>>>i%32&255,a=parseInt(n.charAt(s>>>4&15)+n.charAt(s&15),16);e.push(a)}return e}function _X(t){return(t+64>>>9<<4)+14+1}function wIe(t,e){t[e>>5]|=128<<e%32,t[_X(e)-1]=e;for(var r=1732584193,n=-271733879,i=-1732584194,s=271733878,a=0;a<t.length;a+=16){var o=r,c=n,u=i,f=s;r=Ii(r,n,i,s,t[a],7,-680876936),s=Ii(s,r,n,i,t[a+1],12,-389564586),i=Ii(i,s,r,n,t[a+2],17,606105819),n=Ii(n,i,s,r,t[a+3],22,-1044525330),r=Ii(r,n,i,s,t[a+4],7,-176418897),s=Ii(s,r,n,i,t[a+5],12,1200080426),i=Ii(i,s,r,n,t[a+6],17,-1473231341),n=Ii(n,i,s,r,t[a+7],22,-45705983),r=Ii(r,n,i,s,t[a+8],7,1770035416),s=Ii(s,r,n,i,t[a+9],12,-1958414417),i=Ii(i,s,r,n,t[a+10],17,-42063),n=Ii(n,i,s,r,t[a+11],22,-1990404162),r=Ii(r,n,i,s,t[a+12],7,1804603682),s=Ii(s,r,n,i,t[a+13],12,-40341101),i=Ii(i,s,r,n,t[a+14],17,-1502002290),n=Ii(n,i,s,r,t[a+15],22,1236535329),r=Ci(r,n,i,s,t[a+1],5,-165796510),s=Ci(s,r,n,i,t[a+6],9,-1069501632),i=Ci(i,s,r,n,t[a+11],14,643717713),n=Ci(n,i,s,r,t[a],20,-373897302),r=Ci(r,n,i,s,t[a+5],5,-701558691),s=Ci(s,r,n,i,t[a+10],9,38016083),i=Ci(i,s,r,n,t[a+15],14,-660478335),n=Ci(n,i,s,r,t[a+4],20,-405537848),r=Ci(r,n,i,s,t[a+9],5,568446438),s=Ci(s,r,n,i,t[a+14],9,-1019803690),i=Ci(i,s,r,n,t[a+3],14,-187363961),n=Ci(n,i,s,r,t[a+8],20,1163531501),r=Ci(r,n,i,s,t[a+13],5,-1444681467),s=Ci(s,r,n,i,t[a+2],9,-51403784),i=Ci(i,s,r,n,t[a+7],14,1735328473),n=Ci(n,i,s,r,t[a+12],20,-1926607734),r=Ni(r,n,i,s,t[a+5],4,-378558),s=Ni(s,r,n,i,t[a+8],11,-2022574463),i=Ni(i,s,r,n,t[a+11],16,1839030562),n=Ni(n,i,s,r,t[a+14],23,-35309556),r=Ni(r,n,i,s,t[a+1],4,-1530992060),s=Ni(s,r,n,i,t[a+4],11,1272893353),i=Ni(i,s,r,n,t[a+7],16,-155497632),n=Ni(n,i,s,r,t[a+10],23,-1094730640),r=Ni(r,n,i,s,t[a+13],4,681279174),s=Ni(s,r,n,i,t[a],11,-358537222),i=Ni(i,s,r,n,t[a+3],16,-722521979),n=Ni(n,i,s,r,t[a+6],23,76029189),r=Ni(r,n,i,s,t[a+9],4,-640364487),s=Ni(s,r,n,i,t[a+12],11,-421815835),i=Ni(i,s,r,n,t[a+15],16,530742520),n=Ni(n,i,s,r,t[a+2],23,-995338651),r=Oi(r,n,i,s,t[a],6,-198630844),s=Oi(s,r,n,i,t[a+7],10,1126891415),i=Oi(i,s,r,n,t[a+14],15,-1416354905),n=Oi(n,i,s,r,t[a+5],21,-57434055),r=Oi(r,n,i,s,t[a+12],6,1700485571),s=Oi(s,r,n,i,t[a+3],10,-1894986606),i=Oi(i,s,r,n,t[a+10],15,-1051523),n=Oi(n,i,s,r,t[a+1],21,-2054922799),r=Oi(r,n,i,s,t[a+8],6,1873313359),s=Oi(s,r,n,i,t[a+15],10,-30611744),i=Oi(i,s,r,n,t[a+6],15,-1560198380),n=Oi(n,i,s,r,t[a+13],21,1309151649),r=Oi(r,n,i,s,t[a+4],6,-145523070),s=Oi(s,r,n,i,t[a+11],10,-1120210379),i=Oi(i,s,r,n,t[a+2],15,718787259),n=Oi(n,i,s,r,t[a+9],21,-343485551),r=rf(r,o),n=rf(n,c),i=rf(i,u),s=rf(s,f)}return[r,n,i,s]}function _Ie(t){if(t.length===0)return[];for(var e=t.length*8,r=new Uint32Array(_X(e)),n=0;n<e;n+=8)r[n>>5]|=(t[n/8]&255)<<n%32;return r}function rf(t,e){var r=(t&65535)+(e&65535),n=(t>>16)+(e>>16)+(r>>16);return n<<16|r&65535}function EIe(t,e){return t<<e|t>>>32-e}function M6(t,e,r,n,i,s){return rf(EIe(rf(rf(e,t),rf(n,s)),i),r)}function Ii(t,e,r,n,i,s,a){return M6(e&r|~e&n,t,e,i,s,a)}function Ci(t,e,r,n,i,s,a){return M6(e&n|r&~n,t,e,i,s,a)}function Ni(t,e,r,n,i,s,a){return M6(e^r^n,t,e,i,s,a)}function Oi(t,e,r,n,i,s,a){return M6(r^(e|~n),t,e,i,s,a)}var EX,AX=je(()=>{l();EX=vIe});var AIe,SX,xX=je(()=>{l();aN();AX();AIe=D6("v3",48,EX),SX=AIe});function SIe(t,e,r){t=t||{};var n=t.random||(t.rng||My)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(var i=0;i<16;++i)e[r+i]=n[i];return e}return tf(n)}var TX,IX=je(()=>{l();tN();Ly();TX=SIe});function xIe(t,e,r,n){switch(t){case 0:return e&r^~e&n;case 1:return e^r^n;case 2:return e&r^e&n^r&n;case 3:return e^r^n}}function oN(t,e){return t<<e|t>>>32-e}function TIe(t){var e=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var n=unescape(encodeURIComponent(t));t=[];for(var i=0;i<n.length;++i)t.push(n.charCodeAt(i))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var s=t.length/4+2,a=Math.ceil(s/16),o=new Array(a),c=0;c<a;++c){for(var u=new Uint32Array(16),f=0;f<16;++f)u[f]=t[c*64+f*4]<<24|t[c*64+f*4+1]<<16|t[c*64+f*4+2]<<8|t[c*64+f*4+3];o[c]=u}o[a-1][14]=(t.length-1)*8/Math.pow(2,32),o[a-1][14]=Math.floor(o[a-1][14]),o[a-1][15]=(t.length-1)*8&4294967295;for(var d=0;d<a;++d){for(var m=new Uint32Array(80),_=0;_<16;++_)m[_]=o[d][_];for(var x=16;x<80;++x)m[x]=oN(m[x-3]^m[x-8]^m[x-14]^m[x-16],1);for(var P=r[0],D=r[1],k=r[2],Y=r[3],X=r[4],Z=0;Z<80;++Z){var U=Math.floor(Z/20),Q=oN(P,5)+xIe(U,D,k,Y)+X+e[U]+m[Z]>>>0;X=Y,Y=k,k=oN(D,30)>>>0,D=P,P=Q}r[0]=r[0]+P>>>0,r[1]=r[1]+D>>>0,r[2]=r[2]+k>>>0,r[3]=r[3]+Y>>>0,r[4]=r[4]+X>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}var CX,NX=je(()=>{l();CX=TIe});var IIe,OX,PX=je(()=>{l();aN();NX();IIe=D6("v5",80,CX),OX=IIe});var RX,DX=je(()=>{l();RX="00000000-0000-0000-0000-000000000000"});function CIe(t){if(!ef(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}var MX,BX=je(()=>{l();By();MX=CIe});var LX={};Wr(LX,{NIL:()=>RX,parse:()=>R6,stringify:()=>tf,v1:()=>bX,v3:()=>SX,v4:()=>TX,v5:()=>OX,validate:()=>ef,version:()=>MX});var qX=je(()=>{l();wX();xX();IX();PX();DX();BX();By();Ly();sN()});var uN=R(B6=>{"use strict";l();Object.defineProperty(B6,"__esModule",{value:!0});B6.Randomness=void 0;var FX=q9(),NIe=(qX(),Sn(LX)),OIe=cs(),cN=class{constructor(e){this.salt=e?.salt||y.Buffer.from(FX.utils.randomBytes(32)),this.iv=e?.iv||y.Buffer.from(FX.utils.randomBytes(16)),this.id=e?.id||NIe.v4({random:OIe.randomBytes(16)})}};B6.Randomness=cN});var VX=R(qc=>{"use strict";l();var PIe=qc&&qc.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(qc,"__esModule",{value:!0});qc.Encryptor=qc.EncryptorVersion=void 0;var UX=PIe(cs()),L6=Ry(),RIe=C6(),DIe=eN(),MIe=uN(),kX;(function(t){t[t.V4=4]="V4"})(kX=qc.EncryptorVersion||(qc.EncryptorVersion={}));var fN=class{static encrypt(e,r,n=new MIe.Randomness){let i=new RIe.ScryptKeyDerivationParams,s=i.generateDerivedKey(y.Buffer.from(r),n.salt),a=s.slice(0,16),o=s.slice(16,32),c=UX.default.createCipheriv(L6.CipherAlgorithm,a,n.iv),u=y.Buffer.concat([c.update(e),c.final()]),f=UX.default.createHmac(L6.DigestAlgorithm,o).update(u).digest();return new DIe.EncryptedData({version:kX.V4,id:n.id,ciphertext:u.toString("hex"),iv:n.iv.toString("hex"),cipher:L6.CipherAlgorithm,kdf:L6.KeyDerivationFunction,kdfparams:i,mac:f.toString("hex"),salt:n.salt.toString("hex")})}};qc.Encryptor=fN});var GX=R(z0=>{"use strict";l();var BIe=z0&&z0.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(z0,"__esModule",{value:!0});z0.Decryptor=void 0;var HX=BIe(cs()),LIe=It(),qIe=Ry(),lN=class{static decrypt(e,r){let n=e.kdfparams,i=y.Buffer.from(e.salt,"hex"),s=y.Buffer.from(e.iv,"hex"),a=y.Buffer.from(e.ciphertext,"hex"),o=n.generateDerivedKey(y.Buffer.from(r),i),c=o.slice(0,16),u=o.slice(16,32),f=HX.default.createHmac(qIe.DigestAlgorithm,u).update(a).digest(),d=e.mac;if(f.toString("hex")!==d)throw new LIe.Err("MAC mismatch, possibly wrong password");let m=HX.default.createDecipheriv(e.cipher,c,s);return y.Buffer.concat([m.update(a),m.final()])}};z0.Decryptor=lN});var dN=R((jX,q6)=>{l();(function(t,e){"use strict";typeof q6<"u"&&q6.exports?q6.exports=e(xy()):t.ed2curve=e(t.nacl)})(jX,function(t){"use strict";if(!t)throw new Error("tweetnacl not loaded");var e=function($){var L,v=new Float64Array(16);if($)for(L=0;L<$.length;L++)v[L]=$[L];return v},r=e(),n=e([1]),i=e([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),s=e([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function a($){var L,v;for(v=0;v<16;v++)$[v]+=65536,L=Math.floor($[v]/65536),$[(v+1)*(v<15?1:0)]+=L-1+37*(L-1)*(v===15?1:0),$[v]-=L*65536}function o($,L,v){for(var E,p=~(v-1),g=0;g<16;g++)E=p&($[g]^L[g]),$[g]^=E,L[g]^=E}function c($,L){var v;for(v=0;v<16;v++)$[v]=L[2*v]+(L[2*v+1]<<8);$[15]&=32767}function u($,L,v){var E;for(E=0;E<16;E++)$[E]=L[E]+v[E]|0}function f($,L,v){var E;for(E=0;E<16;E++)$[E]=L[E]-v[E]|0}function d($,L,v){var E,p,g=new Float64Array(31);for(E=0;E<31;E++)g[E]=0;for(E=0;E<16;E++)for(p=0;p<16;p++)g[E+p]+=L[E]*v[p];for(E=0;E<15;E++)g[E]+=38*g[E+16];for(E=0;E<16;E++)$[E]=g[E];a($),a($)}function m($,L){d($,L,L)}function _($,L){var v=e(),E;for(E=0;E<16;E++)v[E]=L[E];for(E=253;E>=0;E--)m(v,v),E!==2&&E!==4&&d(v,v,L);for(E=0;E<16;E++)$[E]=v[E]}function x($,L){var v,E,p,g=e(),b=e();for(v=0;v<16;v++)b[v]=L[v];for(a(b),a(b),a(b),E=0;E<2;E++){for(g[0]=b[0]-65517,v=1;v<15;v++)g[v]=b[v]-65535-(g[v-1]>>16&1),g[v-1]&=65535;g[15]=b[15]-32767-(g[14]>>16&1),p=g[15]>>16&1,g[14]&=65535,o(b,g,1-p)}for(v=0;v<16;v++)$[2*v]=b[v]&255,$[2*v+1]=b[v]>>8}function P($){var L=new Uint8Array(32);return x(L,$),L[0]&1}function D($,L,v,E,p){var g,b=0;for(g=0;g<p;g++)b|=$[L+g]^v[E+g];return(1&b-1>>>8)-1}function k($,L,v,E){return D($,L,v,E,32)}function Y($,L){var v=new Uint8Array(32),E=new Uint8Array(32);return x(v,$),x(E,L),k(v,0,E,0)}function X($,L){var v=e(),E;for(E=0;E<16;E++)v[E]=L[E];for(E=250;E>=0;E--)m(v,v),E!==1&&d(v,v,L);for(E=0;E<16;E++)$[E]=v[E]}function Z($,L){var v;for(v=0;v<16;v++)$[v]=L[v]|0}function U($,L){var v=e(),E=e(),p=e(),g=e(),b=e(),I=e(),O=e();return Z($[2],n),c($[1],L),m(p,$[1]),d(g,p,i),f(p,p,$[2]),u(g,$[2],g),m(b,g),m(I,b),d(O,I,b),d(v,O,p),d(v,v,g),X(v,v),d(v,v,p),d(v,v,g),d(v,v,g),d($[0],v,g),m(E,$[0]),d(E,E,g),Y(E,p)&&d($[0],$[0],s),m(E,$[0]),d(E,E,g),Y(E,p)?-1:(P($[0])===L[31]>>7&&f($[0],r,$[0]),d($[3],$[0],$[1]),0)}function Q($){var L=new Uint8Array(32),v=[e(),e(),e(),e()],E=e(),p=e();if(U(v,$))return null;var g=v[1];return u(E,n,g),f(p,n,g),_(p,p),d(E,E,p),x(L,E),L}function j($){var L=new Uint8Array(64),v=new Uint8Array(32),E;for(t.lowlevel.crypto_hash(L,$,32),L[0]&=248,L[31]&=127,L[31]|=64,E=0;E<32;E++)v[E]=L[E];for(E=0;E<64;E++)L[E]=0;return v}function K($){var L=Q($.publicKey);return L?{publicKey:L,secretKey:j($.secretKey)}:null}return{convertPublicKey:Q,convertSecretKey:j,convertKeyPair:K}})});var zX=R(F6=>{"use strict";l();Object.defineProperty(F6,"__esModule",{value:!0});F6.X25519EncryptedData=void 0;var hN=class t{constructor(e){this.nonce=e.nonce,this.version=e.version,this.cipher=e.cipher,this.ciphertext=e.ciphertext,this.mac=e.mac,this.identities=e.identities}toJSON(){return{version:this.version,nonce:this.nonce,identities:this.identities,crypto:{ciphertext:this.ciphertext,cipher:this.cipher,mac:this.mac}}}static fromJSON(e){return new t({nonce:e.nonce,version:e.version,ciphertext:e.crypto.ciphertext,cipher:e.crypto.cipher,mac:e.crypto.mac,identities:e.identities})}};F6.X25519EncryptedData=hN});var QX=R(K0=>{"use strict";l();var yN=K0&&K0.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(K0,"__esModule",{value:!0});K0.PubkeyEncryptor=void 0;var KX=yN(cs()),WX=yN(dN()),pN=yN(xy()),U6=Ry(),FIe=zX(),gN=class{static encrypt(e,r,n){let i=pN.default.sign.keyPair(),s=WX.default.convertPublicKey(r.valueOf());if(s===null)throw new Error("Could not convert ed25519 public key to x25519");let a=WX.default.convertSecretKey(i.secretKey),o=KX.default.createHash("sha256").update(e).digest().slice(0,U6.PubKeyEncNonceLength/2),c=pN.default.randomBytes(U6.PubKeyEncNonceLength/2),u=y.Buffer.concat([o,c]),f=pN.default.box(e,u,s,a),d=KX.default.createHash("sha256").update(y.Buffer.concat([f,i.publicKey])).digest(),m=n.sign(d);return new FIe.X25519EncryptedData({version:U6.PubKeyEncVersion,nonce:y.Buffer.from(u).toString("hex"),cipher:U6.PubKeyEncCipher,ciphertext:y.Buffer.from(f).toString("hex"),mac:m.toString("hex"),identities:{recipient:r.hex(),ephemeralPubKey:y.Buffer.from(i.publicKey).toString("hex"),originatorPubKey:n.generatePublicKey().hex()}})}};K0.PubkeyEncryptor=gN});var YX=R(W0=>{"use strict";l();var vN=W0&&W0.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(W0,"__esModule",{value:!0});W0.PubkeyDecryptor=void 0;var UIe=vN(cs()),kIe=vN(xy()),$X=vN(dN()),VIe=Zu(),mN=class{static decrypt(e,r){let n=y.Buffer.from(e.ciphertext,"hex"),i=y.Buffer.from(e.identities.ephemeralPubKey,"hex"),s=y.Buffer.from(e.identities.originatorPubKey,"hex"),a=new VIe.UserPublicKey(s),o=UIe.default.createHash("sha256").update(y.Buffer.concat([n,i])).digest();if(!a.verify(o,y.Buffer.from(e.mac,"hex")))throw new Error("Invalid authentication for encrypted message originator");let c=y.Buffer.from(e.nonce,"hex"),u=$X.default.convertSecretKey(r.valueOf()),f=$X.default.convertPublicKey(i);if(f===null)throw new Error("Could not convert ed25519 public key to x25519");let d=kIe.default.box.open(n,c,f,u);if(d===null)throw new Error("Failed authentication for given ciphertext");return y.Buffer.from(d)}};W0.PubkeyDecryptor=mN});var JX=R(Os=>{"use strict";l();var HIe=Os&&Os.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Yl=Os&&Os.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&HIe(e,t,r)};Object.defineProperty(Os,"__esModule",{value:!0});Yl(Ry(),Os);Yl(VX(),Os);Yl(GX(),Os);Yl(QX(),Os);Yl(YX(),Os);Yl(eN(),Os);Yl(uN(),Os)});var wN=R(Jl=>{"use strict";l();Object.defineProperty(Jl,"__esModule",{value:!0});Jl.UserWallet=Jl.UserWalletKind=void 0;var qy=It(),Fc=JX(),GIe=C6(),XX=$9(),jIe=Zu(),Ja;(function(t){t.SecretKey="secretKey",t.Mnemonic="mnemonic"})(Ja=Jl.UserWalletKind||(Jl.UserWalletKind={}));var bN=class t{constructor({kind:e,encryptedData:r,publicKeyWhenKindIsSecretKey:n}){this.kind=e,this.encryptedData=r,this.publicKeyWhenKindIsSecretKey=n}static fromSecretKey({secretKey:e,password:r,randomness:n}){n=n||new Fc.Randomness;let i=e.generatePublicKey(),s=y.Buffer.concat([e.valueOf(),i.valueOf()]),a=Fc.Encryptor.encrypt(s,r,n);return new t({kind:Ja.SecretKey,encryptedData:a,publicKeyWhenKindIsSecretKey:i})}static fromMnemonic({mnemonic:e,password:r,randomness:n}){n=n||new Fc.Randomness,XX.Mnemonic.assertTextIsValid(e);let i=y.Buffer.from(e),s=Fc.Encryptor.encrypt(i,r,n);return new t({kind:Ja.Mnemonic,encryptedData:s})}static decrypt(e,r,n){let i=e.kind||Ja.SecretKey;if(i==Ja.SecretKey){if(n!==void 0)throw new qy.Err("addressIndex must not be provided when kind == 'secretKey'");return t.decryptSecretKey(e,r)}if(i==Ja.Mnemonic)return this.decryptMnemonic(e,r).deriveKey(n||0);throw new qy.Err(`Unknown kind: ${i}`)}static decryptSecretKey(e,r){let n=e.kind;if(n&&n!==Ja.SecretKey)throw new qy.Err(`Expected keystore kind to be ${Ja.SecretKey}, but it was ${n}.`);let i=t.edFromJSON(e),s=Fc.Decryptor.decrypt(i,r);for(;s.length<32;){let o=y.Buffer.from([0]);s=y.Buffer.concat([o,s])}let a=s.slice(0,32);return new jIe.UserSecretKey(a)}static decryptMnemonic(e,r){if(e.kind!=Ja.Mnemonic)throw new qy.Err(`Expected keystore kind to be ${Ja.Mnemonic}, but it was ${e.kind}.`);let n=t.edFromJSON(e),i=Fc.Decryptor.decrypt(n,r);return XX.Mnemonic.fromString(i.toString())}static edFromJSON(e){return new Fc.EncryptedData({version:e.version,id:e.id,cipher:e.crypto.cipher,ciphertext:e.crypto.ciphertext,iv:e.crypto.cipherparams.iv,kdf:e.crypto.kdf,kdfparams:new GIe.ScryptKeyDerivationParams(e.crypto.kdfparams.n,e.crypto.kdfparams.r,e.crypto.kdfparams.p,e.crypto.kdfparams.dklen),salt:e.crypto.kdfparams.salt,mac:e.crypto.mac})}toJSON(e){return this.kind==Ja.SecretKey?this.toJSONWhenKindIsSecretKey(e):this.toJSONWhenKindIsMnemonic()}toJSONWhenKindIsSecretKey(e){if(!this.publicKeyWhenKindIsSecretKey)throw new qy.Err("Public key isn't available");let r=this.getCryptoSectionAsJSON();return{version:this.encryptedData.version,kind:this.kind,id:this.encryptedData.id,address:this.publicKeyWhenKindIsSecretKey.hex(),bech32:this.publicKeyWhenKindIsSecretKey.toAddress(e).toString(),crypto:r}}getCryptoSectionAsJSON(){return{ciphertext:this.encryptedData.ciphertext,cipherparams:{iv:this.encryptedData.iv},cipher:Fc.CipherAlgorithm,kdf:Fc.KeyDerivationFunction,kdfparams:{dklen:this.encryptedData.kdfparams.dklen,salt:this.encryptedData.salt,n:this.encryptedData.kdfparams.n,r:this.encryptedData.kdfparams.r,p:this.encryptedData.kdfparams.p},mac:this.encryptedData.mac}}toJSONWhenKindIsMnemonic(){let e=this.getCryptoSectionAsJSON();return{version:this.encryptedData.version,id:this.encryptedData.id,kind:this.kind,crypto:e}}};Jl.UserWallet=bN});var ZX=R(k6=>{"use strict";l();Object.defineProperty(k6,"__esModule",{value:!0});k6.UserSigner=void 0;var zIe=qt(),KIe=It(),WIe=Zu(),QIe=wN(),_N=class t{constructor(e){this.secretKey=e}static fromWallet(e,r,n){let i=QIe.UserWallet.decrypt(e,r,n);return new t(i)}static fromPem(e,r=0){let n=WIe.UserSecretKey.fromPem(e,r);return new t(n)}async sign(e){try{return this.secretKey.sign(e)}catch(r){throw new KIe.ErrSignerCannotSign(r)}}getAddress(e){let r=this.secretKey.generatePublicKey().toAddress(e).bech32();return zIe.Address.newFromBech32(r)}};k6.UserSigner=_N});var eZ=R(V6=>{"use strict";l();Object.defineProperty(V6,"__esModule",{value:!0});V6.UserVerifier=void 0;var $Ie=Zu(),EN=class t{constructor(e){this.publicKey=e}static fromAddress(e){let r=new $Ie.UserPublicKey(e.pubkey());return new t(r)}verify(e,r){return this.publicKey.verify(e,r)}};V6.UserVerifier=EN});var rZ=R(H6=>{"use strict";l();Object.defineProperty(H6,"__esModule",{value:!0});H6.ValidatorSigner=void 0;var YIe=It(),tZ=E6(),AN=class{async signUsingPem(e,r=0,n){await tZ.BLS.initIfNecessary();try{tZ.ValidatorSecretKey.fromPem(e,r).sign(n)}catch(i){throw new YIe.ErrSignerCannotSign(i)}}};H6.ValidatorSigner=AN});var nZ=R(ps=>{"use strict";l();var JIe=ps&&ps.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),nf=ps&&ps.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&JIe(e,t,r)};Object.defineProperty(ps,"__esModule",{value:!0});nf($9(),ps);nf(A6(),ps);nf(Zu(),ps);nf(ZX(),ps);nf(eZ(),ps);nf(wN(),ps);nf(E6(),ps);nf(rZ(),ps)});var Xl=R(wr=>{"use strict";l();var XIe=wr&&wr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),kr=wr&&wr.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&XIe(e,t,r)};Object.defineProperty(wr,"__esModule",{value:!0});XG();kr(Kh(),wr);kr(tj(),wr);kr(qt(),wr);kr(yI(),wr);kr(wv(),wr);kr(rj(),wr);kr(It(),wr);kr(ij(),wr);kr(aj(),wr);kr(cj(),wr);kr(iu(),wr);kr(c_(),wr);kr(ug(),wr);kr(uj(),wr);kr(lj(),wr);kr(dj(),wr);kr(pj(),wr);kr(Qs(),wr);kr(aI(),wr);kr(Gf(),wr);kr(rs(),wr);kr(Jw(),wr);kr(wc(),wr);kr(f_(),wr);kr(Mw(),wr);kr(lI(),wr);kr(Ji(),wr);kr(kj(),wr);kr(nZ(),wr)});var iZ=R(sf=>{"use strict";l();Object.defineProperty(sf,"__esModule",{value:!0});sf.ErrAccountNotConnected=sf.ErrCannotSignSingleTransaction=sf.Err=void 0;var Fy=class extends Error{constructor(e,r){super(e),this.inner=void 0,this.inner=r}};sf.Err=Fy;var SN=class extends Fy{constructor(){super("Cannot sign single transaction.")}};sf.ErrCannotSignSingleTransaction=SN;var xN=class extends Fy{constructor(){super("Account is not connected.")}};sf.ErrAccountNotConnected=xN});var aZ=R(G6=>{"use strict";l();Object.defineProperty(G6,"__esModule",{value:!0});G6.Operation=void 0;var sZ;(function(t){t.Connect="connect",t.Logout="logout",t.SignTransactions="signTransactions",t.SignMessage="signMessage",t.CancelAction="cancelAction"})(sZ||(G6.Operation=sZ={}))});var TN=R(Q0=>{"use strict";l();var Zl=Q0&&Q0.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(f){try{u(n.next(f))}catch(d){a(d)}}function c(f){try{u(n.throw(f))}catch(d){a(d)}}function u(f){f.done?s(f.value):i(f.value).then(o,c)}u((n=n.apply(t,e||[])).next())})};Object.defineProperty(Q0,"__esModule",{value:!0});Q0.ExtensionProvider=void 0;var oZ=Xl(),ZIe=rs(),cZ=iZ(),Uy=aZ(),ky=class t{constructor(){if(this.account={address:""},this.initialized=!1,t._instance)throw new Error("Error: Instantiation failed: Use ExtensionProvider.getInstance() instead of new.");t._instance=this}static getInstance(){return t._instance}setAddress(e){return this.account.address=e,t._instance}init(){return Zl(this,void 0,void 0,function*(){return window&&window.elrondWallet&&(this.initialized=!0),this.initialized})}login(){return Zl(this,arguments,void 0,function*(e={}){if(!this.initialized)throw new Error("Extension provider is not initialised, call init() first");let{token:r}=e,n=r||"";return yield this.startBgrMsgChannel(Uy.Operation.Connect,n),this.account})}logout(){return Zl(this,void 0,void 0,function*(){if(!this.initialized)throw new Error("Extension provider is not initialised, call init() first");try{yield this.startBgrMsgChannel(Uy.Operation.Logout,this.account.address),this.disconnect()}catch{}return!0})}disconnect(){this.account={address:""}}getAddress(){return Zl(this,void 0,void 0,function*(){if(!this.initialized)throw new Error("Extension provider is not initialised, call init() first");return this.account?this.account.address:""})}isInitialized(){return this.initialized}isConnected(){return!!this.account.address}getAccount(){return this.account}setAccount(e){this.account=e}signTransaction(e){return Zl(this,void 0,void 0,function*(){this.ensureConnected();let r=yield this.signTransactions([e]);if(r.length!=1)throw new cZ.ErrCannotSignSingleTransaction;return r[0]})}ensureConnected(){if(!this.account.address)throw new cZ.ErrAccountNotConnected}signTransactions(e){return Zl(this,void 0,void 0,function*(){this.ensureConnected();let r=yield this.startBgrMsgChannel(Uy.Operation.SignTransactions,{from:this.account.address,transactions:e.map(n=>n.toPlainObject())});try{return r.map(i=>ZIe.Transaction.fromPlainObject(i))}catch(n){throw new Error(`Transaction canceled: ${n.message}.`)}})}signMessage(e){return Zl(this,void 0,void 0,function*(){var r;this.ensureConnected();let n={account:this.account.address,message:y.Buffer.from(e.data).toString()},s=(yield this.startBgrMsgChannel(Uy.Operation.SignMessage,n)).signature,a=y.Buffer.from(s,"hex");return new oZ.Message({data:y.Buffer.from(e.data),address:(r=e.address)!==null&&r!==void 0?r:oZ.Address.fromBech32(this.account.address),signer:"extension",version:e.version,signature:a})})}cancelAction(){return this.startBgrMsgChannel(Uy.Operation.CancelAction,{})}startBgrMsgChannel(e,r){return new Promise(n=>{window.postMessage({target:"erdw-inpage",type:e,data:r},window.origin);let i=s=>{s.isTrusted&&s.data.target==="erdw-contentScript"&&(s.data.type==="connectResponse"?(s.data.data&&s.data.data.address&&(this.account=s.data.data),window.removeEventListener("message",i),n(s.data.data)):(window.removeEventListener("message",i),n(s.data.data)))};window.addEventListener("message",i,!1)})}};Q0.ExtensionProvider=ky;ky._instance=new ky});var $0={};Wr($0,{__assign:()=>CN,__asyncDelegator:()=>dCe,__asyncGenerator:()=>lCe,__asyncValues:()=>hCe,__await:()=>Vy,__awaiter:()=>sCe,__classPrivateFieldGet:()=>mCe,__classPrivateFieldSet:()=>vCe,__createBinding:()=>oCe,__decorate:()=>rCe,__exportStar:()=>cCe,__extends:()=>eCe,__generator:()=>aCe,__importDefault:()=>yCe,__importStar:()=>gCe,__makeTemplateObject:()=>pCe,__metadata:()=>iCe,__param:()=>nCe,__read:()=>hZ,__rest:()=>tCe,__spread:()=>uCe,__spreadArrays:()=>fCe,__values:()=>NN});function eCe(t,e){IN(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function tCe(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function rCe(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var o=t.length-1;o>=0;o--)(a=t[o])&&(s=(i<3?a(s):i>3?a(e,r,s):a(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function nCe(t,e){return function(r,n){e(r,n,t)}}function iCe(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function sCe(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(f){try{u(n.next(f))}catch(d){a(d)}}function c(f){try{u(n.throw(f))}catch(d){a(d)}}function u(f){f.done?s(f.value):i(f.value).then(o,c)}u((n=n.apply(t,e||[])).next())})}function aCe(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(u){return function(f){return c([u,f])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(f){u=[6,f],i=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function oCe(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function cCe(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function NN(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function hZ(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(o){a={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return s}function uCe(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(hZ(arguments[e]));return t}function fCe(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],a=0,o=s.length;a<o;a++,i++)n[i]=s[a];return n}function Vy(t){return this instanceof Vy?(this.v=t,this):new Vy(t)}function lCe(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(m){n[m]&&(i[m]=function(_){return new Promise(function(x,P){s.push([m,_,x,P])>1||o(m,_)})})}function o(m,_){try{c(n[m](_))}catch(x){d(s[0][3],x)}}function c(m){m.value instanceof Vy?Promise.resolve(m.value.v).then(u,f):d(s[0][2],m)}function u(m){o("next",m)}function f(m){o("throw",m)}function d(m,_){m(_),s.shift(),s.length&&o(s[0][0],s[0][1])}}function dCe(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=t[i]?function(a){return(r=!r)?{value:Vy(t[i](a)),done:i==="return"}:s?s(a):a}:s}}function hCe(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof NN=="function"?NN(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(a){return new Promise(function(o,c){a=t[s](a),i(o,c,a.done,a.value)})}}function i(s,a,o,c){Promise.resolve(c).then(function(u){s({value:u,done:o})},a)}}function pCe(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function gCe(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function yCe(t){return t&&t.__esModule?t:{default:t}}function mCe(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function vCe(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}var IN,CN,Y0=je(()=>{l();IN=function(t,e){return IN=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},IN(t,e)};CN=function(){return CN=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},CN.apply(this,arguments)}});var pZ=R(W6=>{"use strict";l();Object.defineProperty(W6,"__esModule",{value:!0});W6.delay=void 0;function bCe(t){return new Promise(e=>{setTimeout(()=>{e(!0)},t)})}W6.delay=bCe});var gZ=R(J0=>{"use strict";l();Object.defineProperty(J0,"__esModule",{value:!0});J0.ONE_THOUSAND=J0.ONE_HUNDRED=void 0;J0.ONE_HUNDRED=100;J0.ONE_THOUSAND=1e3});var yZ=R(Qe=>{"use strict";l();Object.defineProperty(Qe,"__esModule",{value:!0});Qe.ONE_YEAR=Qe.FOUR_WEEKS=Qe.THREE_WEEKS=Qe.TWO_WEEKS=Qe.ONE_WEEK=Qe.THIRTY_DAYS=Qe.SEVEN_DAYS=Qe.FIVE_DAYS=Qe.THREE_DAYS=Qe.ONE_DAY=Qe.TWENTY_FOUR_HOURS=Qe.TWELVE_HOURS=Qe.SIX_HOURS=Qe.THREE_HOURS=Qe.ONE_HOUR=Qe.SIXTY_MINUTES=Qe.THIRTY_MINUTES=Qe.TEN_MINUTES=Qe.FIVE_MINUTES=Qe.ONE_MINUTE=Qe.SIXTY_SECONDS=Qe.THIRTY_SECONDS=Qe.TEN_SECONDS=Qe.FIVE_SECONDS=Qe.ONE_SECOND=void 0;Qe.ONE_SECOND=1;Qe.FIVE_SECONDS=5;Qe.TEN_SECONDS=10;Qe.THIRTY_SECONDS=30;Qe.SIXTY_SECONDS=60;Qe.ONE_MINUTE=Qe.SIXTY_SECONDS;Qe.FIVE_MINUTES=Qe.ONE_MINUTE*5;Qe.TEN_MINUTES=Qe.ONE_MINUTE*10;Qe.THIRTY_MINUTES=Qe.ONE_MINUTE*30;Qe.SIXTY_MINUTES=Qe.ONE_MINUTE*60;Qe.ONE_HOUR=Qe.SIXTY_MINUTES;Qe.THREE_HOURS=Qe.ONE_HOUR*3;Qe.SIX_HOURS=Qe.ONE_HOUR*6;Qe.TWELVE_HOURS=Qe.ONE_HOUR*12;Qe.TWENTY_FOUR_HOURS=Qe.ONE_HOUR*24;Qe.ONE_DAY=Qe.TWENTY_FOUR_HOURS;Qe.THREE_DAYS=Qe.ONE_DAY*3;Qe.FIVE_DAYS=Qe.ONE_DAY*5;Qe.SEVEN_DAYS=Qe.ONE_DAY*7;Qe.THIRTY_DAYS=Qe.ONE_DAY*30;Qe.ONE_WEEK=Qe.SEVEN_DAYS;Qe.TWO_WEEKS=Qe.ONE_WEEK*2;Qe.THREE_WEEKS=Qe.ONE_WEEK*3;Qe.FOUR_WEEKS=Qe.ONE_WEEK*4;Qe.ONE_YEAR=Qe.ONE_DAY*365});var ON=R(Q6=>{"use strict";l();Object.defineProperty(Q6,"__esModule",{value:!0});var mZ=(Y0(),Sn($0));mZ.__exportStar(gZ(),Q6);mZ.__exportStar(yZ(),Q6)});var bZ=R(X0=>{"use strict";l();Object.defineProperty(X0,"__esModule",{value:!0});X0.fromMiliseconds=X0.toMiliseconds=void 0;var vZ=ON();function wCe(t){return t*vZ.ONE_THOUSAND}X0.toMiliseconds=wCe;function _Ce(t){return Math.floor(t/vZ.ONE_THOUSAND)}X0.fromMiliseconds=_Ce});var _Z=R($6=>{"use strict";l();Object.defineProperty($6,"__esModule",{value:!0});var wZ=(Y0(),Sn($0));wZ.__exportStar(pZ(),$6);wZ.__exportStar(bZ(),$6)});var EZ=R(Hy=>{"use strict";l();Object.defineProperty(Hy,"__esModule",{value:!0});Hy.Watch=void 0;var Y6=class{constructor(){this.timestamps=new Map}start(e){if(this.timestamps.has(e))throw new Error(`Watch already started for label: ${e}`);this.timestamps.set(e,{started:Date.now()})}stop(e){let r=this.get(e);if(typeof r.elapsed<"u")throw new Error(`Watch already stopped for label: ${e}`);let n=Date.now()-r.started;this.timestamps.set(e,{started:r.started,elapsed:n})}get(e){let r=this.timestamps.get(e);if(typeof r>"u")throw new Error(`No timestamp found for label: ${e}`);return r}elapsed(e){let r=this.get(e);return r.elapsed||Date.now()-r.started}};Hy.Watch=Y6;Hy.default=Y6});var AZ=R(J6=>{"use strict";l();Object.defineProperty(J6,"__esModule",{value:!0});J6.IWatch=void 0;var PN=class{};J6.IWatch=PN});var SZ=R(RN=>{"use strict";l();Object.defineProperty(RN,"__esModule",{value:!0});var ECe=(Y0(),Sn($0));ECe.__exportStar(AZ(),RN)});var ep=R(Z0=>{"use strict";l();Object.defineProperty(Z0,"__esModule",{value:!0});var X6=(Y0(),Sn($0));X6.__exportStar(_Z(),Z0);X6.__exportStar(EZ(),Z0);X6.__exportStar(SZ(),Z0);X6.__exportStar(ON(),Z0)});var Gy,xZ=je(()=>{l();Gy=class{}});var TZ={};Wr(TZ,{IEvents:()=>Gy});var DN=je(()=>{l();xZ()});var NZ={};Wr(NZ,{HEARTBEAT_EVENTS:()=>CZ,HEARTBEAT_INTERVAL:()=>MN,HeartBeat:()=>BN,IHeartBeat:()=>Z6});var IZ,eE,Z6,MN,CZ,BN,OZ=je(()=>{l();IZ=at(Us()),eE=at(ep());DN();Z6=class extends Gy{constructor(e){super()}},MN=eE.FIVE_SECONDS,CZ={pulse:"heartbeat_pulse"},BN=class t extends Z6{constructor(e){super(e),this.events=new IZ.EventEmitter,this.interval=MN,this.interval=e?.interval||MN}static async init(e){let r=new t(e);return await r.init(),r}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),(0,eE.toMiliseconds)(this.interval))}pulse(){this.events.emit(CZ.pulse)}}});function TCe(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){return}return e}function jy(t,e={}){if(typeof t!="string")return t;let r=t.trim();if(t[0]==='"'&&t.endsWith('"')&&!t.includes("\\"))return r.slice(1,-1);if(r.length<=9){let n=r.toLowerCase();if(n==="true")return!0;if(n==="false")return!1;if(n==="undefined")return;if(n==="null")return null;if(n==="nan")return Number.NaN;if(n==="infinity")return Number.POSITIVE_INFINITY;if(n==="-infinity")return Number.NEGATIVE_INFINITY}if(!xCe.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(ACe.test(t)||SCe.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,TCe)}return JSON.parse(t)}catch(n){if(e.strict)throw n;return t}}var ACe,SCe,xCe,PZ=je(()=>{l();ACe=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,SCe=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,xCe=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/});function ICe(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function jn(t,...e){try{return ICe(t(...e))}catch(r){return Promise.reject(r)}}function CCe(t){let e=typeof t;return t===null||e!=="object"&&e!=="function"}function NCe(t){let e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function zy(t){if(CCe(t))return String(t);if(NCe(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return zy(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}function RZ(){if(typeof y.Buffer>"u")throw new TypeError("[unstorage] Buffer is not supported!")}function DZ(t){if(typeof t=="string")return t;RZ();let e=y.Buffer.from(t).toString("base64");return LN+e}function MZ(t){return typeof t!="string"||!t.startsWith(LN)?t:(RZ(),y.Buffer.from(t.slice(LN.length),"base64"))}function Vi(t){return t?t.split("?")[0].replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""):""}function BZ(...t){return Vi(t.join(":"))}function Ky(t){return t=Vi(t),t?t+":":""}var LN,LZ=je(()=>{l();LN="base64:"});function UZ(t={}){let e={mounts:{"":t.driver||PCe()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},r=u=>{for(let f of e.mountpoints)if(u.startsWith(f))return{base:f,relativeKey:u.slice(f.length),driver:e.mounts[f]};return{base:"",relativeKey:u,driver:e.mounts[""]}},n=(u,f)=>e.mountpoints.filter(d=>d.startsWith(u)||f&&u.startsWith(d)).map(d=>({relativeBase:u.length>d.length?u.slice(d.length):void 0,mountpoint:d,driver:e.mounts[d]})),i=(u,f)=>{if(e.watching){f=Vi(f);for(let d of e.watchListeners)d(u,f)}},s=async()=>{if(!e.watching){e.watching=!0;for(let u in e.mounts)e.unwatch[u]=await qZ(e.mounts[u],i,u)}},a=async()=>{if(e.watching){for(let u in e.unwatch)await e.unwatch[u]();e.unwatch={},e.watching=!1}},o=(u,f,d)=>{let m=new Map,_=x=>{let P=m.get(x.base);return P||(P={driver:x.driver,base:x.base,items:[]},m.set(x.base,P)),P};for(let x of u){let P=typeof x=="string",D=Vi(P?x:x.key),k=P?void 0:x.value,Y=P||!x.options?f:{...f,...x.options},X=r(D);_(X).items.push({key:D,value:k,relativeKey:X.relativeKey,options:Y})}return Promise.all([...m.values()].map(x=>d(x))).then(x=>x.flat())},c={hasItem(u,f={}){u=Vi(u);let{relativeKey:d,driver:m}=r(u);return jn(m.hasItem,d,f)},getItem(u,f={}){u=Vi(u);let{relativeKey:d,driver:m}=r(u);return jn(m.getItem,d,f).then(_=>jy(_))},getItems(u,f){return o(u,f,d=>d.driver.getItems?jn(d.driver.getItems,d.items.map(m=>({key:m.relativeKey,options:m.options})),f).then(m=>m.map(_=>({key:BZ(d.base,_.key),value:jy(_.value)}))):Promise.all(d.items.map(m=>jn(d.driver.getItem,m.relativeKey,m.options).then(_=>({key:m.key,value:jy(_)})))))},getItemRaw(u,f={}){u=Vi(u);let{relativeKey:d,driver:m}=r(u);return m.getItemRaw?jn(m.getItemRaw,d,f):jn(m.getItem,d,f).then(_=>MZ(_))},async setItem(u,f,d={}){if(f===void 0)return c.removeItem(u);u=Vi(u);let{relativeKey:m,driver:_}=r(u);_.setItem&&(await jn(_.setItem,m,zy(f),d),_.watch||i("update",u))},async setItems(u,f){await o(u,f,async d=>{if(d.driver.setItems)return jn(d.driver.setItems,d.items.map(m=>({key:m.relativeKey,value:zy(m.value),options:m.options})),f);d.driver.setItem&&await Promise.all(d.items.map(m=>jn(d.driver.setItem,m.relativeKey,zy(m.value),m.options)))})},async setItemRaw(u,f,d={}){if(f===void 0)return c.removeItem(u,d);u=Vi(u);let{relativeKey:m,driver:_}=r(u);if(_.setItemRaw)await jn(_.setItemRaw,m,f,d);else if(_.setItem)await jn(_.setItem,m,DZ(f),d);else return;_.watch||i("update",u)},async removeItem(u,f={}){typeof f=="boolean"&&(f={removeMeta:f}),u=Vi(u);let{relativeKey:d,driver:m}=r(u);m.removeItem&&(await jn(m.removeItem,d,f),(f.removeMeta||f.removeMata)&&await jn(m.removeItem,d+"$",f),m.watch||i("remove",u))},async getMeta(u,f={}){typeof f=="boolean"&&(f={nativeOnly:f}),u=Vi(u);let{relativeKey:d,driver:m}=r(u),_=Object.create(null);if(m.getMeta&&Object.assign(_,await jn(m.getMeta,d,f)),!f.nativeOnly){let x=await jn(m.getItem,d+"$",f).then(P=>jy(P));x&&typeof x=="object"&&(typeof x.atime=="string"&&(x.atime=new Date(x.atime)),typeof x.mtime=="string"&&(x.mtime=new Date(x.mtime)),Object.assign(_,x))}return _},setMeta(u,f,d={}){return this.setItem(u+"$",f,d)},removeMeta(u,f={}){return this.removeItem(u+"$",f)},async getKeys(u,f={}){u=Ky(u);let d=n(u,!0),m=[],_=[];for(let x of d){let P=await jn(x.driver.getKeys,x.relativeBase,f);for(let D of P){let k=x.mountpoint+Vi(D);m.some(Y=>k.startsWith(Y))||_.push(k)}m=[x.mountpoint,...m.filter(D=>!D.startsWith(x.mountpoint))]}return u?_.filter(x=>x.startsWith(u)&&x[x.length-1]!=="$"):_.filter(x=>x[x.length-1]!=="$")},async clear(u,f={}){u=Ky(u),await Promise.all(n(u,!1).map(async d=>{if(d.driver.clear)return jn(d.driver.clear,d.relativeBase,f);if(d.driver.removeItem){let m=await d.driver.getKeys(d.relativeBase||"",f);return Promise.all(m.map(_=>d.driver.removeItem(_,f)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(u=>FZ(u)))},async watch(u){return await s(),e.watchListeners.push(u),async()=>{e.watchListeners=e.watchListeners.filter(f=>f!==u),e.watchListeners.length===0&&await a()}},async unwatch(){e.watchListeners=[],await a()},mount(u,f){if(u=Ky(u),u&&e.mounts[u])throw new Error(`already mounted at ${u}`);return u&&(e.mountpoints.push(u),e.mountpoints.sort((d,m)=>m.length-d.length)),e.mounts[u]=f,e.watching&&Promise.resolve(qZ(f,i,u)).then(d=>{e.unwatch[u]=d}).catch(console.error),c},async unmount(u,f=!0){u=Ky(u),!(!u||!e.mounts[u])&&(e.watching&&u in e.unwatch&&(e.unwatch[u](),delete e.unwatch[u]),f&&await FZ(e.mounts[u]),e.mountpoints=e.mountpoints.filter(d=>d!==u),delete e.mounts[u])},getMount(u=""){u=Vi(u)+":";let f=r(u);return{driver:f.driver,base:f.base}},getMounts(u="",f={}){return u=Vi(u),n(u,f.parents).map(m=>({driver:m.driver,base:m.mountpoint}))},keys:(u,f={})=>c.getKeys(u,f),get:(u,f={})=>c.getItem(u,f),set:(u,f,d={})=>c.setItem(u,f,d),has:(u,f={})=>c.hasItem(u,f),del:(u,f={})=>c.removeItem(u,f),remove:(u,f={})=>c.removeItem(u,f)};return c}function qZ(t,e,r){return t.watch?t.watch((n,i)=>e(n,r+i)):()=>{}}async function FZ(t){typeof t.dispose=="function"&&await jn(t.dispose)}var OCe,PCe,kZ=je(()=>{l();PZ();LZ();OCe="memory",PCe=()=>{let t=new Map;return{name:OCe,getInstance:()=>t,hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,r){t.set(e,r)},setItemRaw(e,r){t.set(e,r)},removeItem(e){t.delete(e)},getKeys(){return[...t.keys()]},clear(){t.clear()},dispose(){t.clear()}}}});function ed(t){return new Promise((e,r)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>r(t.error)})}function FN(t,e){let r=indexedDB.open(t);r.onupgradeneeded=()=>r.result.createObjectStore(e);let n=ed(r);return(i,s)=>n.then(a=>s(a.transaction(e,i).objectStore(e)))}function Wy(){return qN||(qN=FN("keyval-store","keyval")),qN}function UN(t,e=Wy()){return e("readonly",r=>ed(r.get(t)))}function VZ(t,e,r=Wy()){return r("readwrite",n=>(n.put(e,t),ed(n.transaction)))}function HZ(t,e=Wy()){return e("readwrite",r=>(r.delete(t),ed(r.transaction)))}function GZ(t=Wy()){return t("readwrite",e=>(e.clear(),ed(e.transaction)))}function RCe(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},ed(t.transaction)}function jZ(t=Wy()){return t("readonly",e=>{if(e.getAllKeys)return ed(e.getAllKeys());let r=[];return RCe(e,n=>r.push(n.key)).then(()=>r)})}var qN,zZ=je(()=>{l()});var KZ={};Wr(KZ,{safeJsonParse:()=>of,safeJsonStringify:()=>Xa});function of(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return MCe(t)}catch{return t}}function Xa(t){return typeof t=="string"?t:DCe(t)||""}var DCe,MCe,tp=je(()=>{l();DCe=t=>JSON.stringify(t,(e,r)=>typeof r=="bigint"?r.toString()+"n":r),MCe=t=>{let e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,r=t.replace(e,'$1"$2n"$3');return JSON.parse(r,(n,i)=>typeof i=="string"&&i.match(/^\d+n$/)?BigInt(i.substring(0,i.length-1)):i)}});var QZ={};Wr(QZ,{KeyValueStorage:()=>GN,default:()=>GN});function UCe(t){var e;return[t[0],of((e=t[1])!=null?e:"")]}var BCe,LCe,qCe,FCe,VN,kN,tE,HN,kCe,WZ,VCe,HCe,GN,$Z=je(()=>{l();kZ();zZ();tp();BCe="idb-keyval",LCe=(t={})=>{let e=t.base&&t.base.length>0?`${t.base}:`:"",r=i=>e+i,n;return t.dbName&&t.storeName&&(n=FN(t.dbName,t.storeName)),{name:BCe,options:t,async hasItem(i){return!(typeof await UN(r(i),n)>"u")},async getItem(i){return await UN(r(i),n)??null},setItem(i,s){return VZ(r(i),s,n)},removeItem(i){return HZ(r(i),n)},getKeys(){return jZ(n)},clear(){return GZ(n)}}},qCe="WALLET_CONNECT_V2_INDEXED_DB",FCe="keyvaluestorage",VN=class{constructor(){this.indexedDb=UZ({driver:LCe({dbName:qCe,storeName:FCe})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){let r=await this.indexedDb.getItem(e);if(r!==null)return r}async setItem(e,r){await this.indexedDb.setItem(e,Xa(r))}async removeItem(e){await this.indexedDb.removeItem(e)}},kN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},tE={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(r){return this.hasOwnProperty(r)?String(this[r]):null},t.prototype.setItem=function(r,n){this[r]=String(n)},t.prototype.removeItem=function(r){delete this[r]},t.prototype.clear=function(){let r=this;Object.keys(r).forEach(function(n){r[n]=void 0,delete r[n]})},t.prototype.key=function(r){return r=r||0,Object.keys(this)[r]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof kN<"u"&&kN.localStorage?tE.exports=kN.localStorage:typeof window<"u"&&window.localStorage?tE.exports=window.localStorage:tE.exports=new e})();HN=class{constructor(){this.localStorage=tE.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(UCe)}async getItem(e){let r=this.localStorage.getItem(e);if(r!==null)return of(r)}async setItem(e,r){this.localStorage.setItem(e,Xa(r))}async removeItem(e){this.localStorage.removeItem(e)}},kCe="wc_storage_version",WZ=1,VCe=async(t,e,r)=>{let n=kCe,i=await e.getItem(n);if(i&&i>=WZ){r(e);return}let s=await t.getKeys();if(!s.length){r(e);return}let a=[];for(;s.length;){let o=s.shift();if(!o)continue;let c=o.toLowerCase();if(c.includes("wc@")||c.includes("walletconnect")||c.includes("wc_")||c.includes("wallet_connect")){let u=await t.getItem(o);await e.setItem(o,u),a.push(o)}}await e.setItem(n,WZ),r(e),HCe(t,a)},HCe=async(t,e)=>{e.length&&e.forEach(async r=>{await t.removeItem(r)})},GN=class{constructor(){this.initialized=!1,this.setInitialized=r=>{this.storage=r,this.initialized=!0};let e=new HN;this.storage=e;try{let r=new VN;VCe(e,r,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,r){return await this.initialize(),this.storage.setItem(e,r)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{let r=setInterval(()=>{this.initialized&&(clearInterval(r),e())},20)})}}});var JZ=R((rot,YZ)=>{"use strict";l();function GCe(t){try{return JSON.stringify(t)}catch{return'"[Circular]"'}}YZ.exports=jCe;function jCe(t,e,r){var n=r&&r.stringify||GCe,i=1;if(typeof t=="object"&&t!==null){var s=e.length+i;if(s===1)return t;var a=new Array(s);a[0]=n(t);for(var o=1;o<s;o++)a[o]=n(e[o]);return a.join(" ")}if(typeof t!="string")return t;var c=e.length;if(c===0)return t;for(var u="",f=1-i,d=-1,m=t&&t.length||0,_=0;_<m;){if(t.charCodeAt(_)===37&&_+1<m){switch(d=d>-1?d:0,t.charCodeAt(_+1)){case 100:case 102:if(f>=c||e[f]==null)break;d<_&&(u+=t.slice(d,_)),u+=Number(e[f]),d=_+2,_++;break;case 105:if(f>=c||e[f]==null)break;d<_&&(u+=t.slice(d,_)),u+=Math.floor(Number(e[f])),d=_+2,_++;break;case 79:case 111:case 106:if(f>=c||e[f]===void 0)break;d<_&&(u+=t.slice(d,_));var x=typeof e[f];if(x==="string"){u+="'"+e[f]+"'",d=_+2,_++;break}if(x==="function"){u+=e[f].name||"<anonymous>",d=_+2,_++;break}u+=n(e[f]),d=_+2,_++;break;case 115:if(f>=c)break;d<_&&(u+=t.slice(d,_)),u+=String(e[f]),d=_+2,_++;break;case 37:d<_&&(u+=t.slice(d,_)),u+="%",d=_+2,_++,f--;break}++f}++_}return d===-1?t:(d<m&&(u+=t.slice(d)),u)}});var KN=R((iot,tee)=>{"use strict";l();var XZ=JZ();tee.exports=jo;var Qy=e7e().console||{},zCe={mapHttpRequest:rE,mapHttpResponse:rE,wrapRequestSerializer:jN,wrapResponseSerializer:jN,wrapErrorSerializer:jN,req:rE,res:rE,err:YCe};function KCe(t,e){return Array.isArray(t)?t.filter(function(n){return n!=="!stdSerializers.err"}):t===!0?Object.keys(e):!1}function jo(t){t=t||{},t.browser=t.browser||{};let e=t.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");let r=t.browser.write||Qy;t.browser.write&&(t.browser.asObject=!0);let n=t.serializers||{},i=KCe(t.browser.serialize,n),s=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(s=!1);let a=["error","fatal","warn","info","debug","trace"];typeof r=="function"&&(r.error=r.fatal=r.warn=r.info=r.debug=r.trace=r),t.enabled===!1&&(t.level="silent");let o=t.level||"info",c=Object.create(r);c.log||(c.log=$y),Object.defineProperty(c,"levelVal",{get:f}),Object.defineProperty(c,"level",{get:d,set:m});let u={transmit:e,serialize:i,asObject:t.browser.asObject,levels:a,timestamp:JCe(t)};c.levels=jo.levels,c.level=o,c.setMaxListeners=c.getMaxListeners=c.emit=c.addListener=c.on=c.prependListener=c.once=c.prependOnceListener=c.removeListener=c.removeAllListeners=c.listeners=c.listenerCount=c.eventNames=c.write=c.flush=$y,c.serializers=n,c._serialize=i,c._stdErrSerialize=s,c.child=_,e&&(c._logEvent=zN());function f(){return this.level==="silent"?1/0:this.levels.values[this.level]}function d(){return this._level}function m(x){if(x!=="silent"&&!this.levels.values[x])throw Error("unknown level "+x);this._level=x,rp(u,c,"error","log"),rp(u,c,"fatal","error"),rp(u,c,"warn","error"),rp(u,c,"info","log"),rp(u,c,"debug","log"),rp(u,c,"trace","log")}function _(x,P){if(!x)throw new Error("missing bindings for child Pino");P=P||{},i&&x.serializers&&(P.serializers=x.serializers);let D=P.serializers;if(i&&D){var k=Object.assign({},n,D),Y=t.browser.serialize===!0?Object.keys(k):i;delete x.serializers,nE([x],Y,k,this._stdErrSerialize)}function X(Z){this._childLevel=(Z._childLevel|0)+1,this.error=np(Z,x,"error"),this.fatal=np(Z,x,"fatal"),this.warn=np(Z,x,"warn"),this.info=np(Z,x,"info"),this.debug=np(Z,x,"debug"),this.trace=np(Z,x,"trace"),k&&(this.serializers=k,this._serialize=Y),e&&(this._logEvent=zN([].concat(Z._logEvent.bindings,x)))}return X.prototype=this,new X(this)}return c}jo.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};jo.stdSerializers=zCe;jo.stdTimeFunctions=Object.assign({},{nullTime:ZZ,epochTime:eee,unixTime:XCe,isoTime:ZCe});function rp(t,e,r,n){let i=Object.getPrototypeOf(e);e[r]=e.levelVal>e.levels.values[r]?$y:i[r]?i[r]:Qy[r]||Qy[n]||$y,WCe(t,e,r)}function WCe(t,e,r){!t.transmit&&e[r]===$y||(e[r]=function(n){return function(){let s=t.timestamp(),a=new Array(arguments.length),o=Object.getPrototypeOf&&Object.getPrototypeOf(this)===Qy?Qy:this;for(var c=0;c<a.length;c++)a[c]=arguments[c];if(t.serialize&&!t.asObject&&nE(a,this._serialize,this.serializers,this._stdErrSerialize),t.asObject?n.call(o,QCe(this,r,a,s)):n.apply(o,a),t.transmit){let u=t.transmit.level||e.level,f=jo.levels.values[u],d=jo.levels.values[r];if(d<f)return;$Ce(this,{ts:s,methodLevel:r,methodValue:d,transmitLevel:u,transmitValue:jo.levels.values[t.transmit.level||e.level],send:t.transmit.send,val:e.levelVal},a)}}}(e[r]))}function QCe(t,e,r,n){t._serialize&&nE(r,t._serialize,t.serializers,t._stdErrSerialize);let i=r.slice(),s=i[0],a={};n&&(a.time=n),a.level=jo.levels.values[e];let o=(t._childLevel|0)+1;if(o<1&&(o=1),s!==null&&typeof s=="object"){for(;o--&&typeof i[0]=="object";)Object.assign(a,i.shift());s=i.length?XZ(i.shift(),i):void 0}else typeof s=="string"&&(s=XZ(i.shift(),i));return s!==void 0&&(a.msg=s),a}function nE(t,e,r,n){for(let i in t)if(n&&t[i]instanceof Error)t[i]=jo.stdSerializers.err(t[i]);else if(typeof t[i]=="object"&&!Array.isArray(t[i]))for(let s in t[i])e&&e.indexOf(s)>-1&&s in r&&(t[i][s]=r[s](t[i][s]))}function np(t,e,r){return function(){let n=new Array(1+arguments.length);n[0]=e;for(var i=1;i<n.length;i++)n[i]=arguments[i-1];return t[r].apply(this,n)}}function $Ce(t,e,r){let n=e.send,i=e.ts,s=e.methodLevel,a=e.methodValue,o=e.val,c=t._logEvent.bindings;nE(r,t._serialize||Object.keys(t.serializers),t.serializers,t._stdErrSerialize===void 0?!0:t._stdErrSerialize),t._logEvent.ts=i,t._logEvent.messages=r.filter(function(u){return c.indexOf(u)===-1}),t._logEvent.level.label=s,t._logEvent.level.value=a,n(s,t._logEvent,o),t._logEvent=zN(c)}function zN(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}function YCe(t){let e={type:t.constructor.name,msg:t.message,stack:t.stack};for(let r in t)e[r]===void 0&&(e[r]=t[r]);return e}function JCe(t){return typeof t.timestamp=="function"?t.timestamp:t.timestamp===!1?ZZ:eee}function rE(){return{}}function jN(t){return t}function $y(){}function ZZ(){return!1}function eee(){return Date.now()}function XCe(){return Math.round(Date.now()/1e3)}function ZCe(){return new Date(Date.now()).toISOString()}function e7e(){function t(e){return typeof e<"u"&&e}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return t(self)||t(window)||t(this)||{}}}});var YN={};Wr(YN,{MAX_LOG_SIZE_IN_BYTES_DEFAULT:()=>cE,PINO_CUSTOM_CONTEXT_KEY:()=>ip,PINO_LOGGER_DEFAULTS:()=>see,formatChildLoggerContext:()=>uee,generateChildLogger:()=>o7e,generateClientLogger:()=>fee,generatePlatformLogger:()=>c7e,generateServerLogger:()=>lee,getBrowserLoggerContext:()=>aee,getDefaultLoggerOptions:()=>a7e,getLoggerContext:()=>cee,pino:()=>iee.default,setBrowserLoggerContext:()=>oee});function a7e(t){return oE(aE({},t),{level:t?.level||see.level})}function aee(t,e=ip){return t[e]||""}function oee(t,e,r=ip){return t[r]=e,t}function cee(t,e=ip){let r="";return typeof t.bindings>"u"?r=aee(t,e):r=t.bindings().context||"",r}function uee(t,e,r=ip){let n=cee(t,r);return n.trim()?`${n}/${e}`:e}function o7e(t,e,r=ip){let n=uee(t,e,r),i=t.child({context:n});return oee(i,n,r)}function fee(t){var e,r;let n=new QN((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:(0,Uc.default)(oE(aE({},t.opts),{level:"trace",browser:oE(aE({},(r=t.opts)==null?void 0:r.browser),{write:i=>n.write(i)})})),chunkLoggerController:n}}function lee(t){var e;let r=new $N((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:(0,Uc.default)(oE(aE({},t.opts),{level:"trace"}),r),chunkLoggerController:r}}function c7e(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?fee(t):lee(t)}var Uc,iee,see,ip,cE,WN,iE,sE,QN,$N,t7e,r7e,n7e,ree,i7e,s7e,nee,aE,oE,JN=je(()=>{l();Uc=at(KN()),iee=at(KN());tp();see={level:"info"},ip="custom_context",cE=1e3*1024,WN=class{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},iE=class{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){let r=new WN(e);if(r.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${r.size}`);for(;this.size+r.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=r),this.tail=r):(this.head=r,this.tail=r),this.lengthInNodes++,this.sizeInBytes+=r.size}shift(){if(!this.head)return;let e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){let e=[],r=this.head;for(;r!==null;)e.push(r.value),r=r.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};let r=e.value;return e=e.next,{done:!1,value:r}}}}},sE=class{constructor(e,r=cE){this.level=e??"error",this.levelValue=Uc.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=r,this.logs=new iE(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,r){r===Uc.levels.values.error||r===Uc.levels.values.warn||r===Uc.levels.values.debug||Uc.levels.values.trace}appendToLogs(e){this.logs.append(Xa({timestamp:new Date().toISOString(),log:e}));let r=typeof e=="string"?JSON.parse(e).level:e.level;r>=this.levelValue&&this.forwardToConsole(e,r)}getLogs(){return this.logs}clearLogs(){this.logs=new iE(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){let r=this.getLogArray();return r.push(Xa({extraMetadata:e})),new Blob(r,{type:"application/json"})}},QN=class{constructor(e,r=cE){this.baseChunkLogger=new sE(e,r)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){let r=URL.createObjectURL(this.logsToBlob(e)),n=document.createElement("a");n.href=r,n.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r)}},$N=class{constructor(e,r=cE){this.baseChunkLogger=new sE(e,r)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}},t7e=Object.defineProperty,r7e=Object.defineProperties,n7e=Object.getOwnPropertyDescriptors,ree=Object.getOwnPropertySymbols,i7e=Object.prototype.hasOwnProperty,s7e=Object.prototype.propertyIsEnumerable,nee=(t,e,r)=>e in t?t7e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,aE=(t,e)=>{for(var r in e||(e={}))i7e.call(e,r)&&nee(t,r,e[r]);if(ree)for(var r of ree(e))s7e.call(e,r)&&nee(t,r,e[r]);return t},oE=(t,e)=>r7e(t,n7e(e))});var mO=R(On=>{"use strict";l();Object.defineProperty(On,"__esModule",{value:!0});var sp=(DN(),Sn(TZ)),dee=Us();function u7e(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}var f7e=u7e(dee),XN=class extends sp.IEvents{constructor(e){super(),this.opts=e,this.protocol="wc",this.version=2}},ZN=class{constructor(e,r,n){this.core=e,this.logger=r}},eO=class extends sp.IEvents{constructor(e,r){super(),this.core=e,this.logger=r,this.records=new Map}},tO=class{constructor(e,r){this.logger=e,this.core=r}},rO=class extends sp.IEvents{constructor(e,r){super(),this.relayer=e,this.logger=r}},nO=class extends sp.IEvents{constructor(e){super()}},iO=class{constructor(e,r,n,i){this.core=e,this.logger=r,this.name=n}},sO=class{constructor(){this.map=new Map}},aO=class extends sp.IEvents{constructor(e,r){super(),this.relayer=e,this.logger=r}},oO=class{constructor(e,r){this.core=e,this.logger=r}},cO=class extends sp.IEvents{constructor(e,r){super(),this.core=e,this.logger=r}},uO=class{constructor(e,r){this.logger=e,this.core=r}},fO=class{constructor(e,r,n){this.core=e,this.logger=r,this.store=n}},lO=class{constructor(e,r){this.projectId=e,this.logger=r}},dO=class{constructor(e,r,n){this.core=e,this.logger=r,this.telemetryEnabled=n}},hO=class extends f7e.default{constructor(){super()}},pO=class{constructor(e){this.opts=e,this.protocol="wc",this.version=2}},gO=class extends dee.EventEmitter{constructor(){super()}},yO=class{constructor(e){this.client=e}};On.ICore=XN,On.ICrypto=ZN,On.IEchoClient=lO,On.IEngine=yO,On.IEngineEvents=gO,On.IEventClient=dO,On.IExpirer=cO,On.IJsonRpcHistory=eO,On.IKeyChain=oO,On.IMessageTracker=tO,On.IPairing=uO,On.IPublisher=rO,On.IRelayer=nO,On.ISignClient=pO,On.ISignClientEvents=hO,On.IStore=iO,On.ISubscriber=aO,On.ISubscriberTopicMap=sO,On.IVerify=fO});var pee=R(uE=>{"use strict";l();Object.defineProperty(uE,"__esModule",{value:!0});uE.BrowserRandomSource=void 0;var hee=65536,vO=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;let e=typeof self<"u"?self.crypto||self.msCrypto:null;e&&e.getRandomValues!==void 0&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");let r=new Uint8Array(e);for(let n=0;n<r.length;n+=hee)this._crypto.getRandomValues(r.subarray(n,n+Math.min(r.length-n,hee)));return r}};uE.BrowserRandomSource=vO});var ma=R(bO=>{"use strict";l();Object.defineProperty(bO,"__esModule",{value:!0});function l7e(t){for(var e=0;e<t.length;e++)t[e]=0;return t}bO.wipe=l7e});var gee=R(fE=>{"use strict";l();Object.defineProperty(fE,"__esModule",{value:!0});fE.NodeRandomSource=void 0;var d7e=ma(),wO=class{constructor(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof mi<"u"){let e=cs();e&&e.randomBytes&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let r=this._crypto.randomBytes(e);if(r.length!==e)throw new Error("NodeRandomSource: got fewer bytes than requested");let n=new Uint8Array(e);for(let i=0;i<n.length;i++)n[i]=r[i];return(0,d7e.wipe)(r),n}};fE.NodeRandomSource=wO});var yee=R(lE=>{"use strict";l();Object.defineProperty(lE,"__esModule",{value:!0});lE.SystemRandomSource=void 0;var h7e=pee(),p7e=gee(),_O=class{constructor(){if(this.isAvailable=!1,this.name="",this._source=new h7e.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new p7e.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(e)}};lE.SystemRandomSource=_O});var mee=R(Ps=>{"use strict";l();Object.defineProperty(Ps,"__esModule",{value:!0});function g7e(t,e){var r=t>>>16&65535,n=t&65535,i=e>>>16&65535,s=e&65535;return n*s+(r*s+n*i<<16>>>0)|0}Ps.mul=Math.imul||g7e;function y7e(t,e){return t+e|0}Ps.add=y7e;function m7e(t,e){return t-e|0}Ps.sub=m7e;function v7e(t,e){return t<<e|t>>>32-e}Ps.rotl=v7e;function b7e(t,e){return t<<32-e|t>>>e}Ps.rotr=b7e;function w7e(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t}Ps.isInteger=Number.isInteger||w7e;Ps.MAX_SAFE_INTEGER=9007199254740991;Ps.isSafeInteger=function(t){return Ps.isInteger(t)&&t>=-Ps.MAX_SAFE_INTEGER&&t<=Ps.MAX_SAFE_INTEGER}});var ap=R(nr=>{"use strict";l();Object.defineProperty(nr,"__esModule",{value:!0});var vee=mee();function _7e(t,e){return e===void 0&&(e=0),(t[e+0]<<8|t[e+1])<<16>>16}nr.readInt16BE=_7e;function E7e(t,e){return e===void 0&&(e=0),(t[e+0]<<8|t[e+1])>>>0}nr.readUint16BE=E7e;function A7e(t,e){return e===void 0&&(e=0),(t[e+1]<<8|t[e])<<16>>16}nr.readInt16LE=A7e;function S7e(t,e){return e===void 0&&(e=0),(t[e+1]<<8|t[e])>>>0}nr.readUint16LE=S7e;function bee(t,e,r){return e===void 0&&(e=new Uint8Array(2)),r===void 0&&(r=0),e[r+0]=t>>>8,e[r+1]=t>>>0,e}nr.writeUint16BE=bee;nr.writeInt16BE=bee;function wee(t,e,r){return e===void 0&&(e=new Uint8Array(2)),r===void 0&&(r=0),e[r+0]=t>>>0,e[r+1]=t>>>8,e}nr.writeUint16LE=wee;nr.writeInt16LE=wee;function EO(t,e){return e===void 0&&(e=0),t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]}nr.readInt32BE=EO;function AO(t,e){return e===void 0&&(e=0),(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}nr.readUint32BE=AO;function SO(t,e){return e===void 0&&(e=0),t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]}nr.readInt32LE=SO;function xO(t,e){return e===void 0&&(e=0),(t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e])>>>0}nr.readUint32LE=xO;function dE(t,e,r){return e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0),e[r+0]=t>>>24,e[r+1]=t>>>16,e[r+2]=t>>>8,e[r+3]=t>>>0,e}nr.writeUint32BE=dE;nr.writeInt32BE=dE;function hE(t,e,r){return e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0),e[r+0]=t>>>0,e[r+1]=t>>>8,e[r+2]=t>>>16,e[r+3]=t>>>24,e}nr.writeUint32LE=hE;nr.writeInt32LE=hE;function x7e(t,e){e===void 0&&(e=0);var r=EO(t,e),n=EO(t,e+4);return r*4294967296+n-(n>>31)*4294967296}nr.readInt64BE=x7e;function T7e(t,e){e===void 0&&(e=0);var r=AO(t,e),n=AO(t,e+4);return r*4294967296+n}nr.readUint64BE=T7e;function I7e(t,e){e===void 0&&(e=0);var r=SO(t,e),n=SO(t,e+4);return n*4294967296+r-(r>>31)*4294967296}nr.readInt64LE=I7e;function C7e(t,e){e===void 0&&(e=0);var r=xO(t,e),n=xO(t,e+4);return n*4294967296+r}nr.readUint64LE=C7e;function _ee(t,e,r){return e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0),dE(t/4294967296>>>0,e,r),dE(t>>>0,e,r+4),e}nr.writeUint64BE=_ee;nr.writeInt64BE=_ee;function Eee(t,e,r){return e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0),hE(t>>>0,e,r),hE(t/4294967296>>>0,e,r+4),e}nr.writeUint64LE=Eee;nr.writeInt64LE=Eee;function N7e(t,e,r){if(r===void 0&&(r=0),t%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(t/8>e.length-r)throw new Error("readUintBE: array is too short for the given bitLength");for(var n=0,i=1,s=t/8+r-1;s>=r;s--)n+=e[s]*i,i*=256;return n}nr.readUintBE=N7e;function O7e(t,e,r){if(r===void 0&&(r=0),t%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(t/8>e.length-r)throw new Error("readUintLE: array is too short for the given bitLength");for(var n=0,i=1,s=r;s<r+t/8;s++)n+=e[s]*i,i*=256;return n}nr.readUintLE=O7e;function P7e(t,e,r,n){if(r===void 0&&(r=new Uint8Array(t/8)),n===void 0&&(n=0),t%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!vee.isSafeInteger(e))throw new Error("writeUintBE value must be an integer");for(var i=1,s=t/8+n-1;s>=n;s--)r[s]=e/i&255,i*=256;return r}nr.writeUintBE=P7e;function R7e(t,e,r,n){if(r===void 0&&(r=new Uint8Array(t/8)),n===void 0&&(n=0),t%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!vee.isSafeInteger(e))throw new Error("writeUintLE value must be an integer");for(var i=1,s=n;s<n+t/8;s++)r[s]=e/i&255,i*=256;return r}nr.writeUintLE=R7e;function D7e(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat32(e)}nr.readFloat32BE=D7e;function M7e(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat32(e,!0)}nr.readFloat32LE=M7e;function B7e(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat64(e)}nr.readFloat64BE=B7e;function L7e(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat64(e,!0)}nr.readFloat64LE=L7e;function q7e(t,e,r){e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat32(r,t),e}nr.writeFloat32BE=q7e;function F7e(t,e,r){e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat32(r,t,!0),e}nr.writeFloat32LE=F7e;function U7e(t,e,r){e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat64(r,t),e}nr.writeFloat64BE=U7e;function k7e(t,e,r){e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat64(r,t,!0),e}nr.writeFloat64LE=k7e});var Yy=R(Ri=>{"use strict";l();Object.defineProperty(Ri,"__esModule",{value:!0});Ri.randomStringForEntropy=Ri.randomString=Ri.randomUint32=Ri.randomBytes=Ri.defaultRandomSource=void 0;var V7e=yee(),H7e=ap(),Aee=ma();Ri.defaultRandomSource=new V7e.SystemRandomSource;function TO(t,e=Ri.defaultRandomSource){return e.randomBytes(t)}Ri.randomBytes=TO;function G7e(t=Ri.defaultRandomSource){let e=TO(4,t),r=(0,H7e.readUint32LE)(e);return(0,Aee.wipe)(e),r}Ri.randomUint32=G7e;var See="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function xee(t,e=See,r=Ri.defaultRandomSource){if(e.length<2)throw new Error("randomString charset is too short");if(e.length>256)throw new Error("randomString charset is too long");let n="",i=e.length,s=256-256%i;for(;t>0;){let a=TO(Math.ceil(t*256/s),r);for(let o=0;o<a.length&&t>0;o++){let c=a[o];c<s&&(n+=e.charAt(c%i),t--)}(0,Aee.wipe)(a)}return n}Ri.randomString=xee;function j7e(t,e=See,r=Ri.defaultRandomSource){let n=Math.ceil(t/(Math.log(e.length)/Math.LN2));return xee(n,e,r)}Ri.randomStringForEntropy=j7e});var Cee=R(kc=>{"use strict";l();Object.defineProperty(kc,"__esModule",{value:!0});var cp=ap(),op=ma();kc.DIGEST_LENGTH=64;kc.BLOCK_SIZE=128;var Iee=function(){function t(){this.digestLength=kc.DIGEST_LENGTH,this.blockSize=kc.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return t.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},t.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},t.prototype.clean=function(){op.wipe(this._buffer),op.wipe(this._tempHi),op.wipe(this._tempLo),this.reset()},t.prototype.update=function(e,r){if(r===void 0&&(r=e.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var n=0;if(this._bytesHashed+=r,this._bufferLength>0){for(;this._bufferLength<kc.BLOCK_SIZE&&r>0;)this._buffer[this._bufferLength++]=e[n++],r--;this._bufferLength===this.blockSize&&(IO(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(r>=this.blockSize&&(n=IO(this._tempHi,this._tempLo,this._stateHi,this._stateLo,e,n,r),r%=this.blockSize);r>0;)this._buffer[this._bufferLength++]=e[n++],r--;return this},t.prototype.finish=function(e){if(!this._finished){var r=this._bytesHashed,n=this._bufferLength,i=r/536870912|0,s=r<<3,a=r%128<112?128:256;this._buffer[n]=128;for(var o=n+1;o<a-8;o++)this._buffer[o]=0;cp.writeUint32BE(i,this._buffer,a-8),cp.writeUint32BE(s,this._buffer,a-4),IO(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,a),this._finished=!0}for(var o=0;o<this.digestLength/8;o++)cp.writeUint32BE(this._stateHi[o],e,o*8),cp.writeUint32BE(this._stateLo[o],e,o*8+4);return this},t.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},t.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},t.prototype.restoreState=function(e){return this._stateHi.set(e.stateHi),this._stateLo.set(e.stateLo),this._bufferLength=e.bufferLength,e.buffer&&this._buffer.set(e.buffer),this._bytesHashed=e.bytesHashed,this._finished=!1,this},t.prototype.cleanSavedState=function(e){op.wipe(e.stateHi),op.wipe(e.stateLo),e.buffer&&op.wipe(e.buffer),e.bufferLength=0,e.bytesHashed=0},t}();kc.SHA512=Iee;var Tee=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function IO(t,e,r,n,i,s,a){for(var o=r[0],c=r[1],u=r[2],f=r[3],d=r[4],m=r[5],_=r[6],x=r[7],P=n[0],D=n[1],k=n[2],Y=n[3],X=n[4],Z=n[5],U=n[6],Q=n[7],j,K,$,L,v,E,p,g;a>=128;){for(var b=0;b<16;b++){var I=8*b+s;t[b]=cp.readUint32BE(i,I),e[b]=cp.readUint32BE(i,I+4)}for(var b=0;b<80;b++){var O=o,N=c,w=u,C=f,T=d,F=m,ee=_,fe=x,B=P,ne=D,oe=k,de=Y,q=X,G=Z,W=U,te=Q;if(j=x,K=Q,v=K&65535,E=K>>>16,p=j&65535,g=j>>>16,j=(d>>>14|X<<18)^(d>>>18|X<<14)^(X>>>9|d<<23),K=(X>>>14|d<<18)^(X>>>18|d<<14)^(d>>>9|X<<23),v+=K&65535,E+=K>>>16,p+=j&65535,g+=j>>>16,j=d&m^~d&_,K=X&Z^~X&U,v+=K&65535,E+=K>>>16,p+=j&65535,g+=j>>>16,j=Tee[b*2],K=Tee[b*2+1],v+=K&65535,E+=K>>>16,p+=j&65535,g+=j>>>16,j=t[b%16],K=e[b%16],v+=K&65535,E+=K>>>16,p+=j&65535,g+=j>>>16,E+=v>>>16,p+=E>>>16,g+=p>>>16,$=p&65535|g<<16,L=v&65535|E<<16,j=$,K=L,v=K&65535,E=K>>>16,p=j&65535,g=j>>>16,j=(o>>>28|P<<4)^(P>>>2|o<<30)^(P>>>7|o<<25),K=(P>>>28|o<<4)^(o>>>2|P<<30)^(o>>>7|P<<25),v+=K&65535,E+=K>>>16,p+=j&65535,g+=j>>>16,j=o&c^o&u^c&u,K=P&D^P&k^D&k,v+=K&65535,E+=K>>>16,p+=j&65535,g+=j>>>16,E+=v>>>16,p+=E>>>16,g+=p>>>16,fe=p&65535|g<<16,te=v&65535|E<<16,j=C,K=de,v=K&65535,E=K>>>16,p=j&65535,g=j>>>16,j=$,K=L,v+=K&65535,E+=K>>>16,p+=j&65535,g+=j>>>16,E+=v>>>16,p+=E>>>16,g+=p>>>16,C=p&65535|g<<16,de=v&65535|E<<16,c=O,u=N,f=w,d=C,m=T,_=F,x=ee,o=fe,D=B,k=ne,Y=oe,X=de,Z=q,U=G,Q=W,P=te,b%16===15)for(var I=0;I<16;I++)j=t[I],K=e[I],v=K&65535,E=K>>>16,p=j&65535,g=j>>>16,j=t[(I+9)%16],K=e[(I+9)%16],v+=K&65535,E+=K>>>16,p+=j&65535,g+=j>>>16,$=t[(I+1)%16],L=e[(I+1)%16],j=($>>>1|L<<31)^($>>>8|L<<24)^$>>>7,K=(L>>>1|$<<31)^(L>>>8|$<<24)^(L>>>7|$<<25),v+=K&65535,E+=K>>>16,p+=j&65535,g+=j>>>16,$=t[(I+14)%16],L=e[(I+14)%16],j=($>>>19|L<<13)^(L>>>29|$<<3)^$>>>6,K=(L>>>19|$<<13)^($>>>29|L<<3)^(L>>>6|$<<26),v+=K&65535,E+=K>>>16,p+=j&65535,g+=j>>>16,E+=v>>>16,p+=E>>>16,g+=p>>>16,t[I]=p&65535|g<<16,e[I]=v&65535|E<<16}j=o,K=P,v=K&65535,E=K>>>16,p=j&65535,g=j>>>16,j=r[0],K=n[0],v+=K&65535,E+=K>>>16,p+=j&65535,g+=j>>>16,E+=v>>>16,p+=E>>>16,g+=p>>>16,r[0]=o=p&65535|g<<16,n[0]=P=v&65535|E<<16,j=c,K=D,v=K&65535,E=K>>>16,p=j&65535,g=j>>>16,j=r[1],K=n[1],v+=K&65535,E+=K>>>16,p+=j&65535,g+=j>>>16,E+=v>>>16,p+=E>>>16,g+=p>>>16,r[1]=c=p&65535|g<<16,n[1]=D=v&65535|E<<16,j=u,K=k,v=K&65535,E=K>>>16,p=j&65535,g=j>>>16,j=r[2],K=n[2],v+=K&65535,E+=K>>>16,p+=j&65535,g+=j>>>16,E+=v>>>16,p+=E>>>16,g+=p>>>16,r[2]=u=p&65535|g<<16,n[2]=k=v&65535|E<<16,j=f,K=Y,v=K&65535,E=K>>>16,p=j&65535,g=j>>>16,j=r[3],K=n[3],v+=K&65535,E+=K>>>16,p+=j&65535,g+=j>>>16,E+=v>>>16,p+=E>>>16,g+=p>>>16,r[3]=f=p&65535|g<<16,n[3]=Y=v&65535|E<<16,j=d,K=X,v=K&65535,E=K>>>16,p=j&65535,g=j>>>16,j=r[4],K=n[4],v+=K&65535,E+=K>>>16,p+=j&65535,g+=j>>>16,E+=v>>>16,p+=E>>>16,g+=p>>>16,r[4]=d=p&65535|g<<16,n[4]=X=v&65535|E<<16,j=m,K=Z,v=K&65535,E=K>>>16,p=j&65535,g=j>>>16,j=r[5],K=n[5],v+=K&65535,E+=K>>>16,p+=j&65535,g+=j>>>16,E+=v>>>16,p+=E>>>16,g+=p>>>16,r[5]=m=p&65535|g<<16,n[5]=Z=v&65535|E<<16,j=_,K=U,v=K&65535,E=K>>>16,p=j&65535,g=j>>>16,j=r[6],K=n[6],v+=K&65535,E+=K>>>16,p+=j&65535,g+=j>>>16,E+=v>>>16,p+=E>>>16,g+=p>>>16,r[6]=_=p&65535|g<<16,n[6]=U=v&65535|E<<16,j=x,K=Q,v=K&65535,E=K>>>16,p=j&65535,g=j>>>16,j=r[7],K=n[7],v+=K&65535,E+=K>>>16,p+=j&65535,g+=j>>>16,E+=v>>>16,p+=E>>>16,g+=p>>>16,r[7]=x=p&65535|g<<16,n[7]=Q=v&65535|E<<16,s+=128,a-=128}return s}function z7e(t){var e=new Iee;e.update(t);var r=e.digest();return e.clean(),r}kc.hash=z7e});var Hee=R(Dr=>{"use strict";l();Object.defineProperty(Dr,"__esModule",{value:!0});Dr.convertSecretKeyToX25519=Dr.convertPublicKeyToX25519=Dr.verify=Dr.sign=Dr.extractPublicKeyFromSecretKey=Dr.generateKeyPair=Dr.generateKeyPairFromSeed=Dr.SEED_LENGTH=Dr.SECRET_KEY_LENGTH=Dr.PUBLIC_KEY_LENGTH=Dr.SIGNATURE_LENGTH=void 0;var K7e=Yy(),Jy=Cee(),Dee=ma();Dr.SIGNATURE_LENGTH=64;Dr.PUBLIC_KEY_LENGTH=32;Dr.SECRET_KEY_LENGTH=64;Dr.SEED_LENGTH=32;function Et(t){let e=new Float64Array(16);if(t)for(let r=0;r<t.length;r++)e[r]=t[r];return e}var W7e=new Uint8Array(32);W7e[0]=9;var OO=Et(),up=Et([1]),Q7e=Et([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),$7e=Et([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),Nee=Et([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),Oee=Et([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),Y7e=Et([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function cf(t,e){for(let r=0;r<16;r++)t[r]=e[r]|0}function CO(t){let e=1;for(let r=0;r<16;r++){let n=t[r]+e+65535;e=Math.floor(n/65536),t[r]=n-e*65536}t[0]+=e-1+37*(e-1)}function Mee(t,e,r){let n=~(r-1);for(let i=0;i<16;i++){let s=n&(t[i]^e[i]);t[i]^=s,e[i]^=s}}function Xy(t,e){let r=Et(),n=Et();for(let i=0;i<16;i++)n[i]=e[i];CO(n),CO(n),CO(n);for(let i=0;i<2;i++){r[0]=n[0]-65517;for(let a=1;a<15;a++)r[a]=n[a]-65535-(r[a-1]>>16&1),r[a-1]&=65535;r[15]=n[15]-32767-(r[14]>>16&1);let s=r[15]>>16&1;r[14]&=65535,Mee(n,r,1-s)}for(let i=0;i<16;i++)t[2*i]=n[i]&255,t[2*i+1]=n[i]>>8}function Bee(t,e){let r=0;for(let n=0;n<32;n++)r|=t[n]^e[n];return(1&r-1>>>8)-1}function Pee(t,e){let r=new Uint8Array(32),n=new Uint8Array(32);return Xy(r,t),Xy(n,e),Bee(r,n)}function Lee(t){let e=new Uint8Array(32);return Xy(e,t),e[0]&1}function J7e(t,e){for(let r=0;r<16;r++)t[r]=e[2*r]+(e[2*r+1]<<8);t[15]&=32767}function td(t,e,r){for(let n=0;n<16;n++)t[n]=e[n]+r[n]}function nd(t,e,r){for(let n=0;n<16;n++)t[n]=e[n]-r[n]}function Gr(t,e,r){let n,i,s=0,a=0,o=0,c=0,u=0,f=0,d=0,m=0,_=0,x=0,P=0,D=0,k=0,Y=0,X=0,Z=0,U=0,Q=0,j=0,K=0,$=0,L=0,v=0,E=0,p=0,g=0,b=0,I=0,O=0,N=0,w=0,C=r[0],T=r[1],F=r[2],ee=r[3],fe=r[4],B=r[5],ne=r[6],oe=r[7],de=r[8],q=r[9],G=r[10],W=r[11],te=r[12],re=r[13],J=r[14],ae=r[15];n=e[0],s+=n*C,a+=n*T,o+=n*F,c+=n*ee,u+=n*fe,f+=n*B,d+=n*ne,m+=n*oe,_+=n*de,x+=n*q,P+=n*G,D+=n*W,k+=n*te,Y+=n*re,X+=n*J,Z+=n*ae,n=e[1],a+=n*C,o+=n*T,c+=n*F,u+=n*ee,f+=n*fe,d+=n*B,m+=n*ne,_+=n*oe,x+=n*de,P+=n*q,D+=n*G,k+=n*W,Y+=n*te,X+=n*re,Z+=n*J,U+=n*ae,n=e[2],o+=n*C,c+=n*T,u+=n*F,f+=n*ee,d+=n*fe,m+=n*B,_+=n*ne,x+=n*oe,P+=n*de,D+=n*q,k+=n*G,Y+=n*W,X+=n*te,Z+=n*re,U+=n*J,Q+=n*ae,n=e[3],c+=n*C,u+=n*T,f+=n*F,d+=n*ee,m+=n*fe,_+=n*B,x+=n*ne,P+=n*oe,D+=n*de,k+=n*q,Y+=n*G,X+=n*W,Z+=n*te,U+=n*re,Q+=n*J,j+=n*ae,n=e[4],u+=n*C,f+=n*T,d+=n*F,m+=n*ee,_+=n*fe,x+=n*B,P+=n*ne,D+=n*oe,k+=n*de,Y+=n*q,X+=n*G,Z+=n*W,U+=n*te,Q+=n*re,j+=n*J,K+=n*ae,n=e[5],f+=n*C,d+=n*T,m+=n*F,_+=n*ee,x+=n*fe,P+=n*B,D+=n*ne,k+=n*oe,Y+=n*de,X+=n*q,Z+=n*G,U+=n*W,Q+=n*te,j+=n*re,K+=n*J,$+=n*ae,n=e[6],d+=n*C,m+=n*T,_+=n*F,x+=n*ee,P+=n*fe,D+=n*B,k+=n*ne,Y+=n*oe,X+=n*de,Z+=n*q,U+=n*G,Q+=n*W,j+=n*te,K+=n*re,$+=n*J,L+=n*ae,n=e[7],m+=n*C,_+=n*T,x+=n*F,P+=n*ee,D+=n*fe,k+=n*B,Y+=n*ne,X+=n*oe,Z+=n*de,U+=n*q,Q+=n*G,j+=n*W,K+=n*te,$+=n*re,L+=n*J,v+=n*ae,n=e[8],_+=n*C,x+=n*T,P+=n*F,D+=n*ee,k+=n*fe,Y+=n*B,X+=n*ne,Z+=n*oe,U+=n*de,Q+=n*q,j+=n*G,K+=n*W,$+=n*te,L+=n*re,v+=n*J,E+=n*ae,n=e[9],x+=n*C,P+=n*T,D+=n*F,k+=n*ee,Y+=n*fe,X+=n*B,Z+=n*ne,U+=n*oe,Q+=n*de,j+=n*q,K+=n*G,$+=n*W,L+=n*te,v+=n*re,E+=n*J,p+=n*ae,n=e[10],P+=n*C,D+=n*T,k+=n*F,Y+=n*ee,X+=n*fe,Z+=n*B,U+=n*ne,Q+=n*oe,j+=n*de,K+=n*q,$+=n*G,L+=n*W,v+=n*te,E+=n*re,p+=n*J,g+=n*ae,n=e[11],D+=n*C,k+=n*T,Y+=n*F,X+=n*ee,Z+=n*fe,U+=n*B,Q+=n*ne,j+=n*oe,K+=n*de,$+=n*q,L+=n*G,v+=n*W,E+=n*te,p+=n*re,g+=n*J,b+=n*ae,n=e[12],k+=n*C,Y+=n*T,X+=n*F,Z+=n*ee,U+=n*fe,Q+=n*B,j+=n*ne,K+=n*oe,$+=n*de,L+=n*q,v+=n*G,E+=n*W,p+=n*te,g+=n*re,b+=n*J,I+=n*ae,n=e[13],Y+=n*C,X+=n*T,Z+=n*F,U+=n*ee,Q+=n*fe,j+=n*B,K+=n*ne,$+=n*oe,L+=n*de,v+=n*q,E+=n*G,p+=n*W,g+=n*te,b+=n*re,I+=n*J,O+=n*ae,n=e[14],X+=n*C,Z+=n*T,U+=n*F,Q+=n*ee,j+=n*fe,K+=n*B,$+=n*ne,L+=n*oe,v+=n*de,E+=n*q,p+=n*G,g+=n*W,b+=n*te,I+=n*re,O+=n*J,N+=n*ae,n=e[15],Z+=n*C,U+=n*T,Q+=n*F,j+=n*ee,K+=n*fe,$+=n*B,L+=n*ne,v+=n*oe,E+=n*de,p+=n*q,g+=n*G,b+=n*W,I+=n*te,O+=n*re,N+=n*J,w+=n*ae,s+=38*U,a+=38*Q,o+=38*j,c+=38*K,u+=38*$,f+=38*L,d+=38*v,m+=38*E,_+=38*p,x+=38*g,P+=38*b,D+=38*I,k+=38*O,Y+=38*N,X+=38*w,i=1,n=s+i+65535,i=Math.floor(n/65536),s=n-i*65536,n=a+i+65535,i=Math.floor(n/65536),a=n-i*65536,n=o+i+65535,i=Math.floor(n/65536),o=n-i*65536,n=c+i+65535,i=Math.floor(n/65536),c=n-i*65536,n=u+i+65535,i=Math.floor(n/65536),u=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=d+i+65535,i=Math.floor(n/65536),d=n-i*65536,n=m+i+65535,i=Math.floor(n/65536),m=n-i*65536,n=_+i+65535,i=Math.floor(n/65536),_=n-i*65536,n=x+i+65535,i=Math.floor(n/65536),x=n-i*65536,n=P+i+65535,i=Math.floor(n/65536),P=n-i*65536,n=D+i+65535,i=Math.floor(n/65536),D=n-i*65536,n=k+i+65535,i=Math.floor(n/65536),k=n-i*65536,n=Y+i+65535,i=Math.floor(n/65536),Y=n-i*65536,n=X+i+65535,i=Math.floor(n/65536),X=n-i*65536,n=Z+i+65535,i=Math.floor(n/65536),Z=n-i*65536,s+=i-1+37*(i-1),i=1,n=s+i+65535,i=Math.floor(n/65536),s=n-i*65536,n=a+i+65535,i=Math.floor(n/65536),a=n-i*65536,n=o+i+65535,i=Math.floor(n/65536),o=n-i*65536,n=c+i+65535,i=Math.floor(n/65536),c=n-i*65536,n=u+i+65535,i=Math.floor(n/65536),u=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=d+i+65535,i=Math.floor(n/65536),d=n-i*65536,n=m+i+65535,i=Math.floor(n/65536),m=n-i*65536,n=_+i+65535,i=Math.floor(n/65536),_=n-i*65536,n=x+i+65535,i=Math.floor(n/65536),x=n-i*65536,n=P+i+65535,i=Math.floor(n/65536),P=n-i*65536,n=D+i+65535,i=Math.floor(n/65536),D=n-i*65536,n=k+i+65535,i=Math.floor(n/65536),k=n-i*65536,n=Y+i+65535,i=Math.floor(n/65536),Y=n-i*65536,n=X+i+65535,i=Math.floor(n/65536),X=n-i*65536,n=Z+i+65535,i=Math.floor(n/65536),Z=n-i*65536,s+=i-1+37*(i-1),t[0]=s,t[1]=a,t[2]=o,t[3]=c,t[4]=u,t[5]=f,t[6]=d,t[7]=m,t[8]=_,t[9]=x,t[10]=P,t[11]=D,t[12]=k,t[13]=Y,t[14]=X,t[15]=Z}function rd(t,e){Gr(t,e,e)}function qee(t,e){let r=Et(),n;for(n=0;n<16;n++)r[n]=e[n];for(n=253;n>=0;n--)rd(r,r),n!==2&&n!==4&&Gr(r,r,e);for(n=0;n<16;n++)t[n]=r[n]}function X7e(t,e){let r=Et(),n;for(n=0;n<16;n++)r[n]=e[n];for(n=250;n>=0;n--)rd(r,r),n!==1&&Gr(r,r,e);for(n=0;n<16;n++)t[n]=r[n]}function PO(t,e){let r=Et(),n=Et(),i=Et(),s=Et(),a=Et(),o=Et(),c=Et(),u=Et(),f=Et();nd(r,t[1],t[0]),nd(f,e[1],e[0]),Gr(r,r,f),td(n,t[0],t[1]),td(f,e[0],e[1]),Gr(n,n,f),Gr(i,t[3],e[3]),Gr(i,i,$7e),Gr(s,t[2],e[2]),td(s,s,s),nd(a,n,r),nd(o,s,i),td(c,s,i),td(u,n,r),Gr(t[0],a,o),Gr(t[1],u,c),Gr(t[2],c,o),Gr(t[3],a,u)}function Ree(t,e,r){for(let n=0;n<4;n++)Mee(t[n],e[n],r)}function DO(t,e){let r=Et(),n=Et(),i=Et();qee(i,e[2]),Gr(r,e[0],i),Gr(n,e[1],i),Xy(t,n),t[31]^=Lee(r)<<7}function Fee(t,e,r){cf(t[0],OO),cf(t[1],up),cf(t[2],up),cf(t[3],OO);for(let n=255;n>=0;--n){let i=r[n/8|0]>>(n&7)&1;Ree(t,e,i),PO(e,t),PO(t,t),Ree(t,e,i)}}function MO(t,e){let r=[Et(),Et(),Et(),Et()];cf(r[0],Nee),cf(r[1],Oee),cf(r[2],up),Gr(r[3],Nee,Oee),Fee(t,r,e)}function Uee(t){if(t.length!==Dr.SEED_LENGTH)throw new Error(`ed25519: seed must be ${Dr.SEED_LENGTH} bytes`);let e=(0,Jy.hash)(t);e[0]&=248,e[31]&=127,e[31]|=64;let r=new Uint8Array(32),n=[Et(),Et(),Et(),Et()];MO(n,e),DO(r,n);let i=new Uint8Array(64);return i.set(t),i.set(r,32),{publicKey:r,secretKey:i}}Dr.generateKeyPairFromSeed=Uee;function Z7e(t){let e=(0,K7e.randomBytes)(32,t),r=Uee(e);return(0,Dee.wipe)(e),r}Dr.generateKeyPair=Z7e;function e9e(t){if(t.length!==Dr.SECRET_KEY_LENGTH)throw new Error(`ed25519: secret key must be ${Dr.SECRET_KEY_LENGTH} bytes`);return new Uint8Array(t.subarray(32))}Dr.extractPublicKeyFromSecretKey=e9e;var NO=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function kee(t,e){let r,n,i,s;for(n=63;n>=32;--n){for(r=0,i=n-32,s=n-12;i<s;++i)e[i]+=r-16*e[n]*NO[i-(n-32)],r=Math.floor((e[i]+128)/256),e[i]-=r*256;e[i]+=r,e[n]=0}for(r=0,i=0;i<32;i++)e[i]+=r-(e[31]>>4)*NO[i],r=e[i]>>8,e[i]&=255;for(i=0;i<32;i++)e[i]-=r*NO[i];for(n=0;n<32;n++)e[n+1]+=e[n]>>8,t[n]=e[n]&255}function RO(t){let e=new Float64Array(64);for(let r=0;r<64;r++)e[r]=t[r];for(let r=0;r<64;r++)t[r]=0;kee(t,e)}function t9e(t,e){let r=new Float64Array(64),n=[Et(),Et(),Et(),Et()],i=(0,Jy.hash)(t.subarray(0,32));i[0]&=248,i[31]&=127,i[31]|=64;let s=new Uint8Array(64);s.set(i.subarray(32),32);let a=new Jy.SHA512;a.update(s.subarray(32)),a.update(e);let o=a.digest();a.clean(),RO(o),MO(n,o),DO(s,n),a.reset(),a.update(s.subarray(0,32)),a.update(t.subarray(32)),a.update(e);let c=a.digest();RO(c);for(let u=0;u<32;u++)r[u]=o[u];for(let u=0;u<32;u++)for(let f=0;f<32;f++)r[u+f]+=c[u]*i[f];return kee(s.subarray(32),r),s}Dr.sign=t9e;function Vee(t,e){let r=Et(),n=Et(),i=Et(),s=Et(),a=Et(),o=Et(),c=Et();return cf(t[2],up),J7e(t[1],e),rd(i,t[1]),Gr(s,i,Q7e),nd(i,i,t[2]),td(s,t[2],s),rd(a,s),rd(o,a),Gr(c,o,a),Gr(r,c,i),Gr(r,r,s),X7e(r,r),Gr(r,r,i),Gr(r,r,s),Gr(r,r,s),Gr(t[0],r,s),rd(n,t[0]),Gr(n,n,s),Pee(n,i)&&Gr(t[0],t[0],Y7e),rd(n,t[0]),Gr(n,n,s),Pee(n,i)?-1:(Lee(t[0])===e[31]>>7&&nd(t[0],OO,t[0]),Gr(t[3],t[0],t[1]),0)}function r9e(t,e,r){let n=new Uint8Array(32),i=[Et(),Et(),Et(),Et()],s=[Et(),Et(),Et(),Et()];if(r.length!==Dr.SIGNATURE_LENGTH)throw new Error(`ed25519: signature must be ${Dr.SIGNATURE_LENGTH} bytes`);if(Vee(s,t))return!1;let a=new Jy.SHA512;a.update(r.subarray(0,32)),a.update(t),a.update(e);let o=a.digest();return RO(o),Fee(i,s,o),MO(s,r.subarray(32)),PO(i,s),DO(n,i),!Bee(r,n)}Dr.verify=r9e;function n9e(t){let e=[Et(),Et(),Et(),Et()];if(Vee(e,t))throw new Error("Ed25519: invalid public key");let r=Et(),n=Et(),i=e[1];td(r,up,i),nd(n,up,i),qee(n,n),Gr(r,r,n);let s=new Uint8Array(32);return Xy(s,r),s}Dr.convertPublicKeyToX25519=n9e;function i9e(t){let e=(0,Jy.hash)(t.subarray(0,32));e[0]&=248,e[31]&=127,e[31]|=64;let r=new Uint8Array(e.subarray(0,32));return(0,Dee.wipe)(e),r}Dr.convertSecretKeyToX25519=i9e});var pE,gE,id,fp,yE,Zy,mE,vE,bE,lp,wE,_E,Gee,jee,EE=je(()=>{l();pE="EdDSA",gE="JWT",id=".",fp="base64url",yE="utf8",Zy="utf8",mE=":",vE="did",bE="key",lp="base58btc",wE="z",_E="K36",Gee=32,jee=32});function dp(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}var AE=je(()=>{l()});function SE(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));let r=dp(e),n=0;for(let i of t)r.set(i,n),n+=i.length;return r}var BO=je(()=>{l();AE()});function s9e(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),a=s.charCodeAt(0);if(r[a]!==255)throw new TypeError(s+" is ambiguous");r[a]=i}var o=t.length,c=t.charAt(0),u=Math.log(o)/Math.log(256),f=Math.log(256)/Math.log(o);function d(x){if(x instanceof Uint8Array||(ArrayBuffer.isView(x)?x=new Uint8Array(x.buffer,x.byteOffset,x.byteLength):Array.isArray(x)&&(x=Uint8Array.from(x))),!(x instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(x.length===0)return"";for(var P=0,D=0,k=0,Y=x.length;k!==Y&&x[k]===0;)k++,P++;for(var X=(Y-k)*f+1>>>0,Z=new Uint8Array(X);k!==Y;){for(var U=x[k],Q=0,j=X-1;(U!==0||Q<D)&&j!==-1;j--,Q++)U+=256*Z[j]>>>0,Z[j]=U%o>>>0,U=U/o>>>0;if(U!==0)throw new Error("Non-zero carry");D=Q,k++}for(var K=X-D;K!==X&&Z[K]===0;)K++;for(var $=c.repeat(P);K<X;++K)$+=t.charAt(Z[K]);return $}function m(x){if(typeof x!="string")throw new TypeError("Expected String");if(x.length===0)return new Uint8Array;var P=0;if(x[P]!==" "){for(var D=0,k=0;x[P]===c;)D++,P++;for(var Y=(x.length-P)*u+1>>>0,X=new Uint8Array(Y);x[P];){var Z=r[x.charCodeAt(P)];if(Z===255)return;for(var U=0,Q=Y-1;(Z!==0||U<k)&&Q!==-1;Q--,U++)Z+=o*X[Q]>>>0,X[Q]=Z%256>>>0,Z=Z/256>>>0;if(Z!==0)throw new Error("Non-zero carry");k=U,P++}if(x[P]!==" "){for(var j=Y-k;j!==Y&&X[j]===0;)j++;for(var K=new Uint8Array(D+(Y-j)),$=D;j!==Y;)K[$++]=X[j++];return K}}}function _(x){var P=m(x);if(P)return P;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:m,decode:_}}var a9e,o9e,zee,Kee=je(()=>{l();a9e=s9e,o9e=a9e,zee=o9e});var Fot,Wee,Vc,Qee,$ee,uf=je(()=>{l();Fot=new Uint8Array(0),Wee=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0},Vc=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},Qee=t=>new TextEncoder().encode(t),$ee=t=>new TextDecoder().decode(t)});var LO,qO,FO,Jee,UO,hp,ff,c9e,u9e,vn,Za=je(()=>{l();Kee();uf();LO=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},qO=class{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Jee(this,e)}},FO=class{constructor(e){this.decoders=e}or(e){return Jee(this,e)}decode(e){let r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},Jee=(t,e)=>new FO({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}}),UO=class{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new LO(e,r,n),this.decoder=new qO(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},hp=({name:t,prefix:e,encode:r,decode:n})=>new UO(t,e,r,n),ff=({prefix:t,name:e,alphabet:r})=>{let{encode:n,decode:i}=zee(r,e);return hp({prefix:t,name:e,encode:n,decode:s=>Vc(i(s))})},c9e=(t,e,r,n)=>{let i={};for(let f=0;f<e.length;++f)i[e[f]]=f;let s=t.length;for(;t[s-1]==="=";)--s;let a=new Uint8Array(s*r/8|0),o=0,c=0,u=0;for(let f=0;f<s;++f){let d=i[t[f]];if(d===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|d,o+=r,o>=8&&(o-=8,a[u++]=255&c>>o)}if(o>=r||255&c<<8-o)throw new SyntaxError("Unexpected end of data");return a},u9e=(t,e,r)=>{let n=e[e.length-1]==="=",i=(1<<r)-1,s="",a=0,o=0;for(let c=0;c<t.length;++c)for(o=o<<8|t[c],a+=8;a>r;)a-=r,s+=e[i&o>>a];if(a&&(s+=e[i&o<<r-a]),n)for(;s.length*r&7;)s+="=";return s},vn=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>hp({prefix:e,name:t,encode(i){return u9e(i,n,r)},decode(i){return c9e(i,n,r,t)}})});var kO={};Wr(kO,{identity:()=>f9e});var f9e,Xee=je(()=>{l();Za();uf();f9e=hp({prefix:"\0",name:"identity",encode:t=>$ee(t),decode:t=>Qee(t)})});var VO={};Wr(VO,{base2:()=>l9e});var l9e,Zee=je(()=>{l();Za();l9e=vn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1})});var HO={};Wr(HO,{base8:()=>d9e});var d9e,ete=je(()=>{l();Za();d9e=vn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3})});var GO={};Wr(GO,{base10:()=>h9e});var h9e,tte=je(()=>{l();Za();h9e=ff({prefix:"9",name:"base10",alphabet:"0123456789"})});var jO={};Wr(jO,{base16:()=>p9e,base16upper:()=>g9e});var p9e,g9e,rte=je(()=>{l();Za();p9e=vn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),g9e=vn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4})});var zO={};Wr(zO,{base32:()=>pp,base32hex:()=>b9e,base32hexpad:()=>_9e,base32hexpadupper:()=>E9e,base32hexupper:()=>w9e,base32pad:()=>m9e,base32padupper:()=>v9e,base32upper:()=>y9e,base32z:()=>A9e});var pp,y9e,m9e,v9e,b9e,w9e,_9e,E9e,A9e,KO=je(()=>{l();Za();pp=vn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),y9e=vn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),m9e=vn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),v9e=vn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),b9e=vn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),w9e=vn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),_9e=vn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),E9e=vn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),A9e=vn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})});var WO={};Wr(WO,{base36:()=>S9e,base36upper:()=>x9e});var S9e,x9e,nte=je(()=>{l();Za();S9e=ff({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),x9e=ff({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})});var QO={};Wr(QO,{base58btc:()=>zo,base58flickr:()=>T9e});var zo,T9e,$O=je(()=>{l();Za();zo=ff({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),T9e=ff({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})});var YO={};Wr(YO,{base64:()=>I9e,base64pad:()=>C9e,base64url:()=>N9e,base64urlpad:()=>O9e});var I9e,C9e,N9e,O9e,ite=je(()=>{l();Za();I9e=vn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),C9e=vn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),N9e=vn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),O9e=vn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})});var JO={};Wr(JO,{base256emoji:()=>B9e});function D9e(t){return t.reduce((e,r)=>(e+=P9e[r],e),"")}function M9e(t){let e=[];for(let r of t){let n=R9e[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}var ste,P9e,R9e,B9e,ate=je(()=>{l();Za();ste=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),P9e=ste.reduce((t,e,r)=>(t[r]=e,t),[]),R9e=ste.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);B9e=hp({prefix:"\u{1F680}",name:"base256emoji",encode:D9e,decode:M9e})});function ute(t,e,r){e=e||[],r=r||0;for(var n=r;t>=U9e;)e[r++]=t&255|ote,t/=128;for(;t&F9e;)e[r++]=t&255|ote,t>>>=7;return e[r]=t|0,ute.bytes=r-n+1,e}function XO(t,n){var r=0,n=n||0,i=0,s=n,a,o=t.length;do{if(s>=o)throw XO.bytes=0,new RangeError("Could not decode varint");a=t[s++],r+=i<28?(a&cte)<<i:(a&cte)*Math.pow(2,i),i+=7}while(a>=V9e);return XO.bytes=s-n,r}var L9e,ote,q9e,F9e,U9e,k9e,V9e,cte,H9e,G9e,j9e,z9e,K9e,W9e,Q9e,$9e,Y9e,J9e,X9e,Z9e,em,fte=je(()=>{l();L9e=ute,ote=128,q9e=127,F9e=~q9e,U9e=Math.pow(2,31);k9e=XO,V9e=128,cte=127;H9e=Math.pow(2,7),G9e=Math.pow(2,14),j9e=Math.pow(2,21),z9e=Math.pow(2,28),K9e=Math.pow(2,35),W9e=Math.pow(2,42),Q9e=Math.pow(2,49),$9e=Math.pow(2,56),Y9e=Math.pow(2,63),J9e=function(t){return t<H9e?1:t<G9e?2:t<j9e?3:t<z9e?4:t<K9e?5:t<W9e?6:t<Q9e?7:t<$9e?8:t<Y9e?9:10},X9e={encode:L9e,decode:k9e,encodingLength:J9e},Z9e=X9e,em=Z9e});var tm,gp,yp,TE=je(()=>{l();fte();tm=(t,e=0)=>[em.decode(t,e),em.decode.bytes],gp=(t,e,r=0)=>(em.encode(t,e,r),e),yp=t=>em.encodingLength(t)});var sd,lte,dte,mp,nm=je(()=>{l();uf();TE();sd=(t,e)=>{let r=e.byteLength,n=yp(t),i=n+yp(r),s=new Uint8Array(i+r);return gp(t,s,0),gp(r,s,n),s.set(e,i),new mp(t,r,e,s)},lte=t=>{let e=Vc(t),[r,n]=tm(e),[i,s]=tm(e.subarray(n)),a=e.subarray(n+s);if(a.byteLength!==i)throw new Error("Incorrect length");return new mp(r,i,a,e)},dte=(t,e)=>t===e?!0:t.code===e.code&&t.size===e.size&&Wee(t.bytes,e.bytes),mp=class{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}}});var eP,ZO,tP=je(()=>{l();nm();eP=({name:t,code:e,encode:r})=>new ZO(t,e,r),ZO=class{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){let r=this.encode(e);return r instanceof Uint8Array?sd(this.code,r):r.then(n=>sd(this.code,n))}else throw Error("Unknown type, must be binary type")}}});var rP={};Wr(rP,{sha256:()=>eNe,sha512:()=>tNe});var pte,eNe,tNe,gte=je(()=>{l();tP();pte=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),eNe=eP({name:"sha2-256",code:18,encode:pte("SHA-256")}),tNe=eP({name:"sha2-512",code:19,encode:pte("SHA-512")})});var nP={};Wr(nP,{identity:()=>iNe});var yte,rNe,mte,nNe,iNe,vte=je(()=>{l();uf();nm();yte=0,rNe="identity",mte=Vc,nNe=t=>sd(yte,mte(t)),iNe={code:yte,name:rNe,encode:mte,digest:nNe}});var bte=je(()=>{l();uf()});var Sct,xct,wte=je(()=>{l();Sct=new TextEncoder,xct=new TextDecoder});var NE,oNe,cNe,uNe,im,fNe,_te,Ete,IE,CE,lNe,dNe,hNe,Ate=je(()=>{l();TE();nm();$O();KO();uf();NE=class t{constructor(e,r,n,i){this.code=r,this.version=e,this.multihash=n,this.bytes=i,this.byteOffset=i.byteOffset,this.byteLength=i.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:CE,byteLength:CE,code:IE,version:IE,multihash:IE,bytes:IE,_baseCache:CE,asCID:CE})}toV0(){switch(this.version){case 0:return this;default:{let{code:e,multihash:r}=this;if(e!==im)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==fNe)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return t.createV0(r)}}}toV1(){switch(this.version){case 0:{let{code:e,digest:r}=this.multihash,n=sd(e,r);return t.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&dte(this.multihash,e.multihash)}toString(e){let{bytes:r,version:n,_baseCache:i}=this;switch(n){case 0:return cNe(r,i,e||zo.encoder);default:return uNe(r,i,e||pp.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return dNe(/^0\.0/,hNe),!!(e&&(e[Ete]||e.asCID===e))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof t)return e;if(e!=null&&e.asCID===e){let{version:r,code:n,multihash:i,bytes:s}=e;return new t(r,n,i,s||_te(r,n,i.bytes))}else if(e!=null&&e[Ete]===!0){let{version:r,multihash:n,code:i}=e,s=lte(n);return t.create(r,i,s)}else return null}static create(e,r,n){if(typeof r!="number")throw new Error("String codecs are no longer supported");switch(e){case 0:{if(r!==im)throw new Error(`Version 0 CID must use dag-pb (code: ${im}) block encoding`);return new t(e,r,n,n.bytes)}case 1:{let i=_te(e,r,n.bytes);return new t(e,r,n,i)}default:throw new Error("Invalid version")}}static createV0(e){return t.create(0,im,e)}static createV1(e,r){return t.create(1,e,r)}static decode(e){let[r,n]=t.decodeFirst(e);if(n.length)throw new Error("Incorrect length");return r}static decodeFirst(e){let r=t.inspectBytes(e),n=r.size-r.multihashSize,i=Vc(e.subarray(n,n+r.multihashSize));if(i.byteLength!==r.multihashSize)throw new Error("Incorrect length");let s=i.subarray(r.multihashSize-r.digestSize),a=new mp(r.multihashCode,r.digestSize,s,i);return[r.version===0?t.createV0(a):t.createV1(r.codec,a),e.subarray(r.size)]}static inspectBytes(e){let r=0,n=()=>{let[d,m]=tm(e.subarray(r));return r+=m,d},i=n(),s=im;if(i===18?(i=0,r=0):i===1&&(s=n()),i!==0&&i!==1)throw new RangeError(`Invalid CID version ${i}`);let a=r,o=n(),c=n(),u=r+c,f=u-a;return{version:i,codec:s,multihashCode:o,digestSize:c,multihashSize:f,size:u}}static parse(e,r){let[n,i]=oNe(e,r),s=t.decode(i);return s._baseCache.set(n,e),s}},oNe=(t,e)=>{switch(t[0]){case"Q":{let r=e||zo;return[zo.prefix,r.decode(`${zo.prefix}${t}`)]}case zo.prefix:{let r=e||zo;return[zo.prefix,r.decode(t)]}case pp.prefix:{let r=e||pp;return[pp.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}},cNe=(t,e,r)=>{let{prefix:n}=r;if(n!==zo.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let i=e.get(n);if(i==null){let s=r.encode(t).slice(1);return e.set(n,s),s}else return i},uNe=(t,e,r)=>{let{prefix:n}=r,i=e.get(n);if(i==null){let s=r.encode(t);return e.set(n,s),s}else return i},im=112,fNe=18,_te=(t,e,r)=>{let n=yp(t),i=n+yp(e),s=new Uint8Array(i+r.byteLength);return gp(t,s,0),gp(e,s,n),s.set(r,i),s},Ete=Symbol.for("@ipld/js-cid/CID"),IE={writable:!1,configurable:!1,enumerable:!0},CE={writable:!1,enumerable:!1,configurable:!1},lNe="0.0.0-dev",dNe=(t,e)=>{if(!t.test(lNe))throw new Error(e)},hNe=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`});var Ste=je(()=>{l();Ate();TE();uf();tP();nm()});var iP,Lct,xte=je(()=>{l();Xee();Zee();ete();tte();rte();KO();nte();$O();ite();ate();gte();vte();bte();wte();Ste();iP={...kO,...VO,...HO,...GO,...jO,...zO,...WO,...QO,...YO,...JO},Lct={...rP,...nP}});function Ite(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}var Tte,sP,pNe,OE,aP=je(()=>{l();xte();AE();Tte=Ite("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),sP=Ite("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);let e=dp(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),pNe={utf8:Tte,"utf-8":Tte,hex:iP.base16,latin1:sP,ascii:sP,binary:sP,...iP},OE=pNe});function Hc(t,e="utf8"){let r=OE[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}var oP=je(()=>{l();aP()});function Ko(t,e="utf8"){let r=OE[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t,"utf8"):r.decoder.decode(`${r.prefix}${t}`)}var cP=je(()=>{l();aP()});function sm(t){return of(Hc(Ko(t,fp),yE))}function am(t){return Hc(Ko(Xa(t),yE),fp)}function uP(t){let e=Ko(_E,lp),r=wE+Hc(SE([e,t]),lp);return[vE,bE,r].join(mE)}function fP(t){let[e,r,n]=t.split(mE);if(e!==vE||r!==bE)throw new Error('Issuer must be a DID with method "key"');if(n.slice(0,1)!==wE)throw new Error("Issuer must be a key in mulicodec format");let s=Ko(n.slice(1),lp);if(Hc(s.slice(0,2),lp)!==_E)throw new Error('Issuer must be a public key with type "Ed25519"');let o=s.slice(2);if(o.length!==32)throw new Error("Issuer must be a public key with length 32 bytes");return o}function Cte(t){return Hc(t,fp)}function Nte(t){return Ko(t,fp)}function lP(t){return Ko([am(t.header),am(t.payload)].join(id),Zy)}function gNe(t){let e=Hc(t,Zy).split(id),r=sm(e[0]),n=sm(e[1]);return{header:r,payload:n}}function dP(t){return[am(t.header),am(t.payload),Cte(t.signature)].join(id)}function hP(t){let e=t.split(id),r=sm(e[0]),n=sm(e[1]),i=Nte(e[2]),s=Ko(e.slice(0,2).join(id),Zy);return{header:r,payload:n,signature:i,data:s}}var pP=je(()=>{l();BO();oP();cP();tp();EE()});function yNe(t=(0,Ote.randomBytes)(32)){return vp.generateKeyPairFromSeed(t)}async function mNe(t,e,r,n,i=(0,Pte.fromMiliseconds)(Date.now())){let s={alg:pE,typ:gE},a=uP(n.publicKey),o=i+r,c={iss:a,sub:t,aud:e,iat:i,exp:o},u=lP({header:s,payload:c}),f=vp.sign(n.secretKey,u);return dP({header:s,payload:c,signature:f})}async function vNe(t){let{header:e,payload:r,data:n,signature:i}=hP(t);if(e.alg!==pE||e.typ!==gE)throw new Error("JWT must use EdDSA algorithm");let s=fP(r.iss);return vp.verify(s,n,i)}var vp,Ote,Pte,Rte=je(()=>{l();vp=at(Hee()),Ote=at(Yy()),Pte=at(ep());EE();pP()});var Dte=je(()=>{l()});var gP={};Wr(gP,{DATA_ENCODING:()=>Zy,DID_DELIMITER:()=>mE,DID_METHOD:()=>bE,DID_PREFIX:()=>vE,JSON_ENCODING:()=>yE,JWT_DELIMITER:()=>id,JWT_ENCODING:()=>fp,JWT_IRIDIUM_ALG:()=>pE,JWT_IRIDIUM_TYP:()=>gE,KEY_PAIR_SEED_LENGTH:()=>jee,MULTICODEC_ED25519_BASE:()=>wE,MULTICODEC_ED25519_ENCODING:()=>lp,MULTICODEC_ED25519_HEADER:()=>_E,MULTICODEC_ED25519_LENGTH:()=>Gee,decodeData:()=>gNe,decodeIss:()=>fP,decodeJSON:()=>sm,decodeJWT:()=>hP,decodeSig:()=>Nte,encodeData:()=>lP,encodeIss:()=>uP,encodeJSON:()=>am,encodeJWT:()=>dP,encodeSig:()=>Cte,generateKeyPair:()=>yNe,signJWT:()=>mNe,verifyJWT:()=>vNe});var yP=je(()=>{l();Rte();EE();Dte();pP()});var zte=R(un=>{"use strict";l();var Mte=un&&un.__spreadArray||function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))};Object.defineProperty(un,"__esModule",{value:!0});un.getNodeVersion=un.detectOS=un.parseUserAgent=un.browserName=un.detect=un.ReactNativeInfo=un.BotInfo=un.SearchBotDeviceInfo=un.NodeInfo=un.BrowserInfo=void 0;var qte=function(){function t(e,r,n){this.name=e,this.version=r,this.os=n,this.type="browser"}return t}();un.BrowserInfo=qte;var Fte=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=A.default.platform}return t}();un.NodeInfo=Fte;var Ute=function(){function t(e,r,n,i){this.name=e,this.version=r,this.os=n,this.bot=i,this.type="bot-device"}return t}();un.SearchBotDeviceInfo=Ute;var kte=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}();un.BotInfo=kte;var Vte=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}();un.ReactNativeInfo=Vte;var bNe=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,wNe=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,Bte=3,_Ne=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",bNe]],Lte=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function ENe(t){return t?mP(t):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new Vte:typeof navigator<"u"?mP(navigator.userAgent):jte()}un.detect=ENe;function Hte(t){return t!==""&&_Ne.reduce(function(e,r){var n=r[0],i=r[1];if(e)return e;var s=i.exec(t);return!!s&&[n,s]},!1)}function ANe(t){var e=Hte(t);return e?e[0]:null}un.browserName=ANe;function mP(t){var e=Hte(t);if(!e)return null;var r=e[0],n=e[1];if(r==="searchbot")return new kte;var i=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);i?i.length<Bte&&(i=Mte(Mte([],i,!0),SNe(Bte-i.length),!0)):i=[];var s=i.join("."),a=Gte(t),o=wNe.exec(t);return o&&o[1]?new Ute(r,s,a,o[1]):new qte(r,s,a)}un.parseUserAgent=mP;function Gte(t){for(var e=0,r=Lte.length;e<r;e++){var n=Lte[e],i=n[0],s=n[1],a=s.exec(t);if(a)return i}return null}un.detectOS=Gte;function jte(){var t=typeof A.default<"u"&&A.default.version;return t?new Fte(A.default.version.slice(1)):null}un.getNodeVersion=jte;function SNe(t){for(var e=[],r=0;r<t;r++)e.push("0");return e}});var vP=R(Xr=>{"use strict";l();Object.defineProperty(Xr,"__esModule",{value:!0});Xr.getLocalStorage=Xr.getLocalStorageOrThrow=Xr.getCrypto=Xr.getCryptoOrThrow=Xr.getLocation=Xr.getLocationOrThrow=Xr.getNavigator=Xr.getNavigatorOrThrow=Xr.getDocument=Xr.getDocumentOrThrow=Xr.getFromWindowOrThrow=Xr.getFromWindow=void 0;function ad(t){let e;return typeof window<"u"&&typeof window[t]<"u"&&(e=window[t]),e}Xr.getFromWindow=ad;function bp(t){let e=ad(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}Xr.getFromWindowOrThrow=bp;function xNe(){return bp("document")}Xr.getDocumentOrThrow=xNe;function TNe(){return ad("document")}Xr.getDocument=TNe;function INe(){return bp("navigator")}Xr.getNavigatorOrThrow=INe;function CNe(){return ad("navigator")}Xr.getNavigator=CNe;function NNe(){return bp("location")}Xr.getLocationOrThrow=NNe;function ONe(){return ad("location")}Xr.getLocation=ONe;function PNe(){return bp("crypto")}Xr.getCryptoOrThrow=PNe;function RNe(){return ad("crypto")}Xr.getCrypto=RNe;function DNe(){return bp("localStorage")}Xr.getLocalStorageOrThrow=DNe;function MNe(){return ad("localStorage")}Xr.getLocalStorage=MNe});var Wte=R(PE=>{"use strict";l();Object.defineProperty(PE,"__esModule",{value:!0});PE.getWindowMetadata=void 0;var Kte=vP();function BNe(){let t,e;try{t=Kte.getDocumentOrThrow(),e=Kte.getLocationOrThrow()}catch{return null}function r(){let d=t.getElementsByTagName("link"),m=[];for(let _=0;_<d.length;_++){let x=d[_],P=x.getAttribute("rel");if(P&&P.toLowerCase().indexOf("icon")>-1){let D=x.getAttribute("href");if(D)if(D.toLowerCase().indexOf("https:")===-1&&D.toLowerCase().indexOf("http:")===-1&&D.indexOf("//")!==0){let k=e.protocol+"//"+e.host;if(D.indexOf("/")===0)k+=D;else{let Y=e.pathname.split("/");Y.pop();let X=Y.join("/");k+=X+"/"+D}m.push(k)}else if(D.indexOf("//")===0){let k=e.protocol+D;m.push(k)}else m.push(D)}}return m}function n(...d){let m=t.getElementsByTagName("meta");for(let _=0;_<m.length;_++){let x=m[_],P=["itemprop","property","name"].map(D=>x.getAttribute(D)).filter(D=>D?d.includes(D):!1);if(P.length&&P){let D=x.getAttribute("content");if(D)return D}}return""}function i(){let d=n("name","og:site_name","og:title","twitter:title");return d||(d=t.title),d}function s(){return n("description","og:description","twitter:description","keywords")}let a=i(),o=s(),c=e.origin,u=r();return{description:o,url:c,icons:u,name:a}}PE.getWindowMetadata=BNe});var $te=R((vut,Qte)=>{"use strict";l();Qte.exports=t=>encodeURIComponent(t).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`)});var ere=R((wut,Zte)=>{"use strict";l();var Xte="%[a-f0-9]{2}",Yte=new RegExp("("+Xte+")|([^%]+?)","gi"),Jte=new RegExp("("+Xte+")+","gi");function bP(t,e){try{return[decodeURIComponent(t.join(""))]}catch{}if(t.length===1)return t;e=e||1;var r=t.slice(0,e),n=t.slice(e);return Array.prototype.concat.call([],bP(r),bP(n))}function LNe(t){try{return decodeURIComponent(t)}catch{for(var e=t.match(Yte)||[],r=1;r<e.length;r++)t=bP(e,r).join(""),e=t.match(Yte)||[];return t}}function qNe(t){for(var e={"%FE%FF":"\uFFFD\uFFFD","%FF%FE":"\uFFFD\uFFFD"},r=Jte.exec(t);r;){try{e[r[0]]=decodeURIComponent(r[0])}catch{var n=LNe(r[0]);n!==r[0]&&(e[r[0]]=n)}r=Jte.exec(t)}e["%C2"]="\uFFFD";for(var i=Object.keys(e),s=0;s<i.length;s++){var a=i[s];t=t.replace(new RegExp(a,"g"),e[a])}return t}Zte.exports=function(t){if(typeof t!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch{return qNe(t)}}});var rre=R((Eut,tre)=>{"use strict";l();tre.exports=(t,e)=>{if(!(typeof t=="string"&&typeof e=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e==="")return[t];let r=t.indexOf(e);return r===-1?[t]:[t.slice(0,r),t.slice(r+e.length)]}});var ire=R((Sut,nre)=>{"use strict";l();nre.exports=function(t,e){for(var r={},n=Object.keys(t),i=Array.isArray(e),s=0;s<n.length;s++){var a=n[s],o=t[a];(i?e.indexOf(a)!==-1:e(a,o,t))&&(r[a]=o)}return r}});var dre=R(gs=>{"use strict";l();var FNe=$te(),UNe=ere(),are=rre(),kNe=ire(),VNe=t=>t==null,wP=Symbol("encodeFragmentIdentifier");function HNe(t){switch(t.arrayFormat){case"index":return e=>(r,n)=>{let i=r.length;return n===void 0||t.skipNull&&n===null||t.skipEmptyString&&n===""?r:n===null?[...r,[Pn(e,t),"[",i,"]"].join("")]:[...r,[Pn(e,t),"[",Pn(i,t),"]=",Pn(n,t)].join("")]};case"bracket":return e=>(r,n)=>n===void 0||t.skipNull&&n===null||t.skipEmptyString&&n===""?r:n===null?[...r,[Pn(e,t),"[]"].join("")]:[...r,[Pn(e,t),"[]=",Pn(n,t)].join("")];case"colon-list-separator":return e=>(r,n)=>n===void 0||t.skipNull&&n===null||t.skipEmptyString&&n===""?r:n===null?[...r,[Pn(e,t),":list="].join("")]:[...r,[Pn(e,t),":list=",Pn(n,t)].join("")];case"comma":case"separator":case"bracket-separator":{let e=t.arrayFormat==="bracket-separator"?"[]=":"=";return r=>(n,i)=>i===void 0||t.skipNull&&i===null||t.skipEmptyString&&i===""?n:(i=i===null?"":i,n.length===0?[[Pn(r,t),e,Pn(i,t)].join("")]:[[n,Pn(i,t)].join(t.arrayFormatSeparator)])}default:return e=>(r,n)=>n===void 0||t.skipNull&&n===null||t.skipEmptyString&&n===""?r:n===null?[...r,Pn(e,t)]:[...r,[Pn(e,t),"=",Pn(n,t)].join("")]}}function GNe(t){let e;switch(t.arrayFormat){case"index":return(r,n,i)=>{if(e=/\[(\d*)\]$/.exec(r),r=r.replace(/\[\d*\]$/,""),!e){i[r]=n;return}i[r]===void 0&&(i[r]={}),i[r][e[1]]=n};case"bracket":return(r,n,i)=>{if(e=/(\[\])$/.exec(r),r=r.replace(/\[\]$/,""),!e){i[r]=n;return}if(i[r]===void 0){i[r]=[n];return}i[r]=[].concat(i[r],n)};case"colon-list-separator":return(r,n,i)=>{if(e=/(:list)$/.exec(r),r=r.replace(/:list$/,""),!e){i[r]=n;return}if(i[r]===void 0){i[r]=[n];return}i[r]=[].concat(i[r],n)};case"comma":case"separator":return(r,n,i)=>{let s=typeof n=="string"&&n.includes(t.arrayFormatSeparator),a=typeof n=="string"&&!s&&Gc(n,t).includes(t.arrayFormatSeparator);n=a?Gc(n,t):n;let o=s||a?n.split(t.arrayFormatSeparator).map(c=>Gc(c,t)):n===null?n:Gc(n,t);i[r]=o};case"bracket-separator":return(r,n,i)=>{let s=/(\[\])$/.test(r);if(r=r.replace(/\[\]$/,""),!s){i[r]=n&&Gc(n,t);return}let a=n===null?[]:n.split(t.arrayFormatSeparator).map(o=>Gc(o,t));if(i[r]===void 0){i[r]=a;return}i[r]=[].concat(i[r],a)};default:return(r,n,i)=>{if(i[r]===void 0){i[r]=n;return}i[r]=[].concat(i[r],n)}}}function ore(t){if(typeof t!="string"||t.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function Pn(t,e){return e.encode?e.strict?FNe(t):encodeURIComponent(t):t}function Gc(t,e){return e.decode?UNe(t):t}function cre(t){return Array.isArray(t)?t.sort():typeof t=="object"?cre(Object.keys(t)).sort((e,r)=>Number(e)-Number(r)).map(e=>t[e]):t}function ure(t){let e=t.indexOf("#");return e!==-1&&(t=t.slice(0,e)),t}function jNe(t){let e="",r=t.indexOf("#");return r!==-1&&(e=t.slice(r)),e}function fre(t){t=ure(t);let e=t.indexOf("?");return e===-1?"":t.slice(e+1)}function sre(t,e){return e.parseNumbers&&!Number.isNaN(Number(t))&&typeof t=="string"&&t.trim()!==""?t=Number(t):e.parseBooleans&&t!==null&&(t.toLowerCase()==="true"||t.toLowerCase()==="false")&&(t=t.toLowerCase()==="true"),t}function lre(t,e){e=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},e),ore(e.arrayFormatSeparator);let r=GNe(e),n=Object.create(null);if(typeof t!="string"||(t=t.trim().replace(/^[?#&]/,""),!t))return n;for(let i of t.split("&")){if(i==="")continue;let[s,a]=are(e.decode?i.replace(/\+/g," "):i,"=");a=a===void 0?null:["comma","separator","bracket-separator"].includes(e.arrayFormat)?a:Gc(a,e),r(Gc(s,e),a,n)}for(let i of Object.keys(n)){let s=n[i];if(typeof s=="object"&&s!==null)for(let a of Object.keys(s))s[a]=sre(s[a],e);else n[i]=sre(s,e)}return e.sort===!1?n:(e.sort===!0?Object.keys(n).sort():Object.keys(n).sort(e.sort)).reduce((i,s)=>{let a=n[s];return a&&typeof a=="object"&&!Array.isArray(a)?i[s]=cre(a):i[s]=a,i},Object.create(null))}gs.extract=fre;gs.parse=lre;gs.stringify=(t,e)=>{if(!t)return"";e=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},e),ore(e.arrayFormatSeparator);let r=a=>e.skipNull&&VNe(t[a])||e.skipEmptyString&&t[a]==="",n=HNe(e),i={};for(let a of Object.keys(t))r(a)||(i[a]=t[a]);let s=Object.keys(i);return e.sort!==!1&&s.sort(e.sort),s.map(a=>{let o=t[a];return o===void 0?"":o===null?Pn(a,e):Array.isArray(o)?o.length===0&&e.arrayFormat==="bracket-separator"?Pn(a,e)+"[]":o.reduce(n(a),[]).join("&"):Pn(a,e)+"="+Pn(o,e)}).filter(a=>a.length>0).join("&")};gs.parseUrl=(t,e)=>{e=Object.assign({decode:!0},e);let[r,n]=are(t,"#");return Object.assign({url:r.split("?")[0]||"",query:lre(fre(t),e)},e&&e.parseFragmentIdentifier&&n?{fragmentIdentifier:Gc(n,e)}:{})};gs.stringifyUrl=(t,e)=>{e=Object.assign({encode:!0,strict:!0,[wP]:!0},e);let r=ure(t.url).split("?")[0]||"",n=gs.extract(t.url),i=gs.parse(n,{sort:!1}),s=Object.assign(i,t.query),a=gs.stringify(s,e);a&&(a=`?${a}`);let o=jNe(t.url);return t.fragmentIdentifier&&(o=`#${e[wP]?Pn(t.fragmentIdentifier,e):t.fragmentIdentifier}`),`${r}${a}${o}`};gs.pick=(t,e,r)=>{r=Object.assign({parseFragmentIdentifier:!0,[wP]:!1},r);let{url:n,query:i,fragmentIdentifier:s}=gs.parseUrl(t,r);return gs.stringifyUrl({url:n,query:kNe(i,e),fragmentIdentifier:s},r)};gs.exclude=(t,e,r)=>{let n=Array.isArray(e)?i=>!e.includes(i):(i,s)=>!e(i,s);return gs.pick(t,n,r)}});var pre=R(RE=>{"use strict";l();Object.defineProperty(RE,"__esModule",{value:!0});var Di=ap(),_P=ma(),zNe=20;function KNe(t,e,r){for(var n=1634760805,i=857760878,s=2036477234,a=1797285236,o=r[3]<<24|r[2]<<16|r[1]<<8|r[0],c=r[7]<<24|r[6]<<16|r[5]<<8|r[4],u=r[11]<<24|r[10]<<16|r[9]<<8|r[8],f=r[15]<<24|r[14]<<16|r[13]<<8|r[12],d=r[19]<<24|r[18]<<16|r[17]<<8|r[16],m=r[23]<<24|r[22]<<16|r[21]<<8|r[20],_=r[27]<<24|r[26]<<16|r[25]<<8|r[24],x=r[31]<<24|r[30]<<16|r[29]<<8|r[28],P=e[3]<<24|e[2]<<16|e[1]<<8|e[0],D=e[7]<<24|e[6]<<16|e[5]<<8|e[4],k=e[11]<<24|e[10]<<16|e[9]<<8|e[8],Y=e[15]<<24|e[14]<<16|e[13]<<8|e[12],X=n,Z=i,U=s,Q=a,j=o,K=c,$=u,L=f,v=d,E=m,p=_,g=x,b=P,I=D,O=k,N=Y,w=0;w<zNe;w+=2)X=X+j|0,b^=X,b=b>>>16|b<<16,v=v+b|0,j^=v,j=j>>>20|j<<12,Z=Z+K|0,I^=Z,I=I>>>16|I<<16,E=E+I|0,K^=E,K=K>>>20|K<<12,U=U+$|0,O^=U,O=O>>>16|O<<16,p=p+O|0,$^=p,$=$>>>20|$<<12,Q=Q+L|0,N^=Q,N=N>>>16|N<<16,g=g+N|0,L^=g,L=L>>>20|L<<12,U=U+$|0,O^=U,O=O>>>24|O<<8,p=p+O|0,$^=p,$=$>>>25|$<<7,Q=Q+L|0,N^=Q,N=N>>>24|N<<8,g=g+N|0,L^=g,L=L>>>25|L<<7,Z=Z+K|0,I^=Z,I=I>>>24|I<<8,E=E+I|0,K^=E,K=K>>>25|K<<7,X=X+j|0,b^=X,b=b>>>24|b<<8,v=v+b|0,j^=v,j=j>>>25|j<<7,X=X+K|0,N^=X,N=N>>>16|N<<16,p=p+N|0,K^=p,K=K>>>20|K<<12,Z=Z+$|0,b^=Z,b=b>>>16|b<<16,g=g+b|0,$^=g,$=$>>>20|$<<12,U=U+L|0,I^=U,I=I>>>16|I<<16,v=v+I|0,L^=v,L=L>>>20|L<<12,Q=Q+j|0,O^=Q,O=O>>>16|O<<16,E=E+O|0,j^=E,j=j>>>20|j<<12,U=U+L|0,I^=U,I=I>>>24|I<<8,v=v+I|0,L^=v,L=L>>>25|L<<7,Q=Q+j|0,O^=Q,O=O>>>24|O<<8,E=E+O|0,j^=E,j=j>>>25|j<<7,Z=Z+$|0,b^=Z,b=b>>>24|b<<8,g=g+b|0,$^=g,$=$>>>25|$<<7,X=X+K|0,N^=X,N=N>>>24|N<<8,p=p+N|0,K^=p,K=K>>>25|K<<7;Di.writeUint32LE(X+n|0,t,0),Di.writeUint32LE(Z+i|0,t,4),Di.writeUint32LE(U+s|0,t,8),Di.writeUint32LE(Q+a|0,t,12),Di.writeUint32LE(j+o|0,t,16),Di.writeUint32LE(K+c|0,t,20),Di.writeUint32LE($+u|0,t,24),Di.writeUint32LE(L+f|0,t,28),Di.writeUint32LE(v+d|0,t,32),Di.writeUint32LE(E+m|0,t,36),Di.writeUint32LE(p+_|0,t,40),Di.writeUint32LE(g+x|0,t,44),Di.writeUint32LE(b+P|0,t,48),Di.writeUint32LE(I+D|0,t,52),Di.writeUint32LE(O+k|0,t,56),Di.writeUint32LE(N+Y|0,t,60)}function hre(t,e,r,n,i){if(i===void 0&&(i=0),t.length!==32)throw new Error("ChaCha: key size must be 32 bytes");if(n.length<r.length)throw new Error("ChaCha: destination is shorter than source");var s,a;if(i===0){if(e.length!==8&&e.length!==12)throw new Error("ChaCha nonce must be 8 or 12 bytes");s=new Uint8Array(16),a=s.length-e.length,s.set(e,a)}else{if(e.length!==16)throw new Error("ChaCha nonce with counter must be 16 bytes");s=e,a=i}for(var o=new Uint8Array(64),c=0;c<r.length;c+=64){KNe(o,s,t);for(var u=c;u<c+64&&u<r.length;u++)n[u]=r[u]^o[u-c];QNe(s,0,a)}return _P.wipe(o),i===0&&_P.wipe(s),n}RE.streamXOR=hre;function WNe(t,e,r,n){return n===void 0&&(n=0),_P.wipe(r),hre(t,e,r,r,n)}RE.stream=WNe;function QNe(t,e,r){for(var n=1;r--;)n=n+(t[e]&255)|0,t[e]=n&255,n>>>=8,e++;if(n>0)throw new Error("ChaCha: counter overflow")}});var DE=R(wp=>{"use strict";l();Object.defineProperty(wp,"__esModule",{value:!0});function $Ne(t,e,r){return~(t-1)&e|t-1&r}wp.select=$Ne;function YNe(t,e){return(t|0)-(e|0)-1>>>31&1}wp.lessOrEqual=YNe;function gre(t,e){if(t.length!==e.length)return 0;for(var r=0,n=0;n<t.length;n++)r|=t[n]^e[n];return 1&r-1>>>8}wp.compare=gre;function JNe(t,e){return t.length===0||e.length===0?!1:gre(t,e)!==0}wp.equal=JNe});var mre=R(jc=>{"use strict";l();Object.defineProperty(jc,"__esModule",{value:!0});var XNe=DE(),ME=ma();jc.DIGEST_LENGTH=16;var yre=function(){function t(e){this.digestLength=jc.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var r=e[0]|e[1]<<8;this._r[0]=r&8191;var n=e[2]|e[3]<<8;this._r[1]=(r>>>13|n<<3)&8191;var i=e[4]|e[5]<<8;this._r[2]=(n>>>10|i<<6)&7939;var s=e[6]|e[7]<<8;this._r[3]=(i>>>7|s<<9)&8191;var a=e[8]|e[9]<<8;this._r[4]=(s>>>4|a<<12)&255,this._r[5]=a>>>1&8190;var o=e[10]|e[11]<<8;this._r[6]=(a>>>14|o<<2)&8191;var c=e[12]|e[13]<<8;this._r[7]=(o>>>11|c<<5)&8065;var u=e[14]|e[15]<<8;this._r[8]=(c>>>8|u<<8)&8191,this._r[9]=u>>>5&127,this._pad[0]=e[16]|e[17]<<8,this._pad[1]=e[18]|e[19]<<8,this._pad[2]=e[20]|e[21]<<8,this._pad[3]=e[22]|e[23]<<8,this._pad[4]=e[24]|e[25]<<8,this._pad[5]=e[26]|e[27]<<8,this._pad[6]=e[28]|e[29]<<8,this._pad[7]=e[30]|e[31]<<8}return t.prototype._blocks=function(e,r,n){for(var i=this._fin?0:2048,s=this._h[0],a=this._h[1],o=this._h[2],c=this._h[3],u=this._h[4],f=this._h[5],d=this._h[6],m=this._h[7],_=this._h[8],x=this._h[9],P=this._r[0],D=this._r[1],k=this._r[2],Y=this._r[3],X=this._r[4],Z=this._r[5],U=this._r[6],Q=this._r[7],j=this._r[8],K=this._r[9];n>=16;){var $=e[r+0]|e[r+1]<<8;s+=$&8191;var L=e[r+2]|e[r+3]<<8;a+=($>>>13|L<<3)&8191;var v=e[r+4]|e[r+5]<<8;o+=(L>>>10|v<<6)&8191;var E=e[r+6]|e[r+7]<<8;c+=(v>>>7|E<<9)&8191;var p=e[r+8]|e[r+9]<<8;u+=(E>>>4|p<<12)&8191,f+=p>>>1&8191;var g=e[r+10]|e[r+11]<<8;d+=(p>>>14|g<<2)&8191;var b=e[r+12]|e[r+13]<<8;m+=(g>>>11|b<<5)&8191;var I=e[r+14]|e[r+15]<<8;_+=(b>>>8|I<<8)&8191,x+=I>>>5|i;var O=0,N=O;N+=s*P,N+=a*(5*K),N+=o*(5*j),N+=c*(5*Q),N+=u*(5*U),O=N>>>13,N&=8191,N+=f*(5*Z),N+=d*(5*X),N+=m*(5*Y),N+=_*(5*k),N+=x*(5*D),O+=N>>>13,N&=8191;var w=O;w+=s*D,w+=a*P,w+=o*(5*K),w+=c*(5*j),w+=u*(5*Q),O=w>>>13,w&=8191,w+=f*(5*U),w+=d*(5*Z),w+=m*(5*X),w+=_*(5*Y),w+=x*(5*k),O+=w>>>13,w&=8191;var C=O;C+=s*k,C+=a*D,C+=o*P,C+=c*(5*K),C+=u*(5*j),O=C>>>13,C&=8191,C+=f*(5*Q),C+=d*(5*U),C+=m*(5*Z),C+=_*(5*X),C+=x*(5*Y),O+=C>>>13,C&=8191;var T=O;T+=s*Y,T+=a*k,T+=o*D,T+=c*P,T+=u*(5*K),O=T>>>13,T&=8191,T+=f*(5*j),T+=d*(5*Q),T+=m*(5*U),T+=_*(5*Z),T+=x*(5*X),O+=T>>>13,T&=8191;var F=O;F+=s*X,F+=a*Y,F+=o*k,F+=c*D,F+=u*P,O=F>>>13,F&=8191,F+=f*(5*K),F+=d*(5*j),F+=m*(5*Q),F+=_*(5*U),F+=x*(5*Z),O+=F>>>13,F&=8191;var ee=O;ee+=s*Z,ee+=a*X,ee+=o*Y,ee+=c*k,ee+=u*D,O=ee>>>13,ee&=8191,ee+=f*P,ee+=d*(5*K),ee+=m*(5*j),ee+=_*(5*Q),ee+=x*(5*U),O+=ee>>>13,ee&=8191;var fe=O;fe+=s*U,fe+=a*Z,fe+=o*X,fe+=c*Y,fe+=u*k,O=fe>>>13,fe&=8191,fe+=f*D,fe+=d*P,fe+=m*(5*K),fe+=_*(5*j),fe+=x*(5*Q),O+=fe>>>13,fe&=8191;var B=O;B+=s*Q,B+=a*U,B+=o*Z,B+=c*X,B+=u*Y,O=B>>>13,B&=8191,B+=f*k,B+=d*D,B+=m*P,B+=_*(5*K),B+=x*(5*j),O+=B>>>13,B&=8191;var ne=O;ne+=s*j,ne+=a*Q,ne+=o*U,ne+=c*Z,ne+=u*X,O=ne>>>13,ne&=8191,ne+=f*Y,ne+=d*k,ne+=m*D,ne+=_*P,ne+=x*(5*K),O+=ne>>>13,ne&=8191;var oe=O;oe+=s*K,oe+=a*j,oe+=o*Q,oe+=c*U,oe+=u*Z,O=oe>>>13,oe&=8191,oe+=f*X,oe+=d*Y,oe+=m*k,oe+=_*D,oe+=x*P,O+=oe>>>13,oe&=8191,O=(O<<2)+O|0,O=O+N|0,N=O&8191,O=O>>>13,w+=O,s=N,a=w,o=C,c=T,u=F,f=ee,d=fe,m=B,_=ne,x=oe,r+=16,n-=16}this._h[0]=s,this._h[1]=a,this._h[2]=o,this._h[3]=c,this._h[4]=u,this._h[5]=f,this._h[6]=d,this._h[7]=m,this._h[8]=_,this._h[9]=x},t.prototype.finish=function(e,r){r===void 0&&(r=0);var n=new Uint16Array(10),i,s,a,o;if(this._leftover){for(o=this._leftover,this._buffer[o++]=1;o<16;o++)this._buffer[o]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(i=this._h[1]>>>13,this._h[1]&=8191,o=2;o<10;o++)this._h[o]+=i,i=this._h[o]>>>13,this._h[o]&=8191;for(this._h[0]+=i*5,i=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=i,i=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=i,n[0]=this._h[0]+5,i=n[0]>>>13,n[0]&=8191,o=1;o<10;o++)n[o]=this._h[o]+i,i=n[o]>>>13,n[o]&=8191;for(n[9]-=8192,s=(i^1)-1,o=0;o<10;o++)n[o]&=s;for(s=~s,o=0;o<10;o++)this._h[o]=this._h[o]&s|n[o];for(this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,a=this._h[0]+this._pad[0],this._h[0]=a&65535,o=1;o<8;o++)a=(this._h[o]+this._pad[o]|0)+(a>>>16)|0,this._h[o]=a&65535;return e[r+0]=this._h[0]>>>0,e[r+1]=this._h[0]>>>8,e[r+2]=this._h[1]>>>0,e[r+3]=this._h[1]>>>8,e[r+4]=this._h[2]>>>0,e[r+5]=this._h[2]>>>8,e[r+6]=this._h[3]>>>0,e[r+7]=this._h[3]>>>8,e[r+8]=this._h[4]>>>0,e[r+9]=this._h[4]>>>8,e[r+10]=this._h[5]>>>0,e[r+11]=this._h[5]>>>8,e[r+12]=this._h[6]>>>0,e[r+13]=this._h[6]>>>8,e[r+14]=this._h[7]>>>0,e[r+15]=this._h[7]>>>8,this._finished=!0,this},t.prototype.update=function(e){var r=0,n=e.length,i;if(this._leftover){i=16-this._leftover,i>n&&(i=n);for(var s=0;s<i;s++)this._buffer[this._leftover+s]=e[r+s];if(n-=i,r+=i,this._leftover+=i,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(n>=16&&(i=n-n%16,this._blocks(e,r,i),r+=i,n-=i),n){for(var s=0;s<n;s++)this._buffer[this._leftover+s]=e[r+s];this._leftover+=n}return this},t.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var e=new Uint8Array(16);return this.finish(e),e},t.prototype.clean=function(){return ME.wipe(this._buffer),ME.wipe(this._r),ME.wipe(this._h),ME.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},t}();jc.Poly1305=yre;function ZNe(t,e){var r=new yre(t);r.update(e);var n=r.digest();return r.clean(),n}jc.oneTimeAuth=ZNe;function eOe(t,e){return t.length!==jc.DIGEST_LENGTH||e.length!==jc.DIGEST_LENGTH?!1:XNe.equal(t,e)}jc.equal=eOe});var wre=R(zc=>{"use strict";l();Object.defineProperty(zc,"__esModule",{value:!0});var BE=pre(),tOe=mre(),om=ma(),vre=ap(),rOe=DE();zc.KEY_LENGTH=32;zc.NONCE_LENGTH=12;zc.TAG_LENGTH=16;var bre=new Uint8Array(16),nOe=function(){function t(e){if(this.nonceLength=zc.NONCE_LENGTH,this.tagLength=zc.TAG_LENGTH,e.length!==zc.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(e)}return t.prototype.seal=function(e,r,n,i){if(e.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var s=new Uint8Array(16);s.set(e,s.length-e.length);var a=new Uint8Array(32);BE.stream(this._key,s,a,4);var o=r.length+this.tagLength,c;if(i){if(i.length!==o)throw new Error("ChaCha20Poly1305: incorrect destination length");c=i}else c=new Uint8Array(o);return BE.streamXOR(this._key,s,r,c,4),this._authenticate(c.subarray(c.length-this.tagLength,c.length),a,c.subarray(0,c.length-this.tagLength),n),om.wipe(s),c},t.prototype.open=function(e,r,n,i){if(e.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(r.length<this.tagLength)return null;var s=new Uint8Array(16);s.set(e,s.length-e.length);var a=new Uint8Array(32);BE.stream(this._key,s,a,4);var o=new Uint8Array(this.tagLength);if(this._authenticate(o,a,r.subarray(0,r.length-this.tagLength),n),!rOe.equal(o,r.subarray(r.length-this.tagLength,r.length)))return null;var c=r.length-this.tagLength,u;if(i){if(i.length!==c)throw new Error("ChaCha20Poly1305: incorrect destination length");u=i}else u=new Uint8Array(c);return BE.streamXOR(this._key,s,r.subarray(0,r.length-this.tagLength),u,4),om.wipe(s),u},t.prototype.clean=function(){return om.wipe(this._key),this},t.prototype._authenticate=function(e,r,n,i){var s=new tOe.Poly1305(r);i&&(s.update(i),i.length%16>0&&s.update(bre.subarray(i.length%16))),s.update(n),n.length%16>0&&s.update(bre.subarray(n.length%16));var a=new Uint8Array(8);i&&vre.writeUint64LE(i.length,a),s.update(a),vre.writeUint64LE(n.length,a),s.update(a);for(var o=s.digest(),c=0;c<o.length;c++)e[c]=o[c];s.clean(),om.wipe(o),om.wipe(a)},t}();zc.ChaCha20Poly1305=nOe});var _re=R(EP=>{"use strict";l();Object.defineProperty(EP,"__esModule",{value:!0});function iOe(t){return typeof t.saveState<"u"&&typeof t.restoreState<"u"&&typeof t.cleanSavedState<"u"}EP.isSerializableHash=iOe});var Are=R(cm=>{"use strict";l();Object.defineProperty(cm,"__esModule",{value:!0});var Wo=_re(),sOe=DE(),aOe=ma(),Ere=function(){function t(e,r){this._finished=!1,this._inner=new e,this._outer=new e,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var n=new Uint8Array(this.blockSize);r.length>this.blockSize?this._inner.update(r).finish(n).clean():n.set(r);for(var i=0;i<n.length;i++)n[i]^=54;this._inner.update(n);for(var i=0;i<n.length;i++)n[i]^=106;this._outer.update(n),Wo.isSerializableHash(this._inner)&&Wo.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),aOe.wipe(n)}return t.prototype.reset=function(){if(!Wo.isSerializableHash(this._inner)||!Wo.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},t.prototype.clean=function(){Wo.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),Wo.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},t.prototype.update=function(e){return this._inner.update(e),this},t.prototype.finish=function(e){return this._finished?(this._outer.finish(e),this):(this._inner.finish(e),this._outer.update(e.subarray(0,this.digestLength)).finish(e),this._finished=!0,this)},t.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},t.prototype.saveState=function(){if(!Wo.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},t.prototype.restoreState=function(e){if(!Wo.isSerializableHash(this._inner)||!Wo.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(e),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},t.prototype.cleanSavedState=function(e){if(!Wo.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(e)},t}();cm.HMAC=Ere;function oOe(t,e,r){var n=new Ere(t,e);n.update(r);var i=n.digest();return n.clean(),i}cm.hmac=oOe;cm.equal=sOe.equal});var Tre=R(AP=>{"use strict";l();Object.defineProperty(AP,"__esModule",{value:!0});var Sre=Are(),xre=ma(),cOe=function(){function t(e,r,n,i){n===void 0&&(n=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=e,this._info=i;var s=Sre.hmac(this._hash,n,r);this._hmac=new Sre.HMAC(e,s),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return t.prototype._fillBuffer=function(){this._counter[0]++;var e=this._counter[0];if(e===0)throw new Error("hkdf: cannot expand more");this._hmac.reset(),e>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},t.prototype.expand=function(e){for(var r=new Uint8Array(e),n=0;n<r.length;n++)this._bufpos===this._buffer.length&&this._fillBuffer(),r[n]=this._buffer[this._bufpos++];return r},t.prototype.clean=function(){this._hmac.clean(),xre.wipe(this._buffer),xre.wipe(this._counter),this._bufpos=0},t}();AP.HKDF=cOe});var Cre=R(lf=>{"use strict";l();Object.defineProperty(lf,"__esModule",{value:!0});var qE=ap(),LE=ma();lf.DIGEST_LENGTH=32;lf.BLOCK_SIZE=64;var Ire=function(){function t(){this.digestLength=lf.DIGEST_LENGTH,this.blockSize=lf.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return t.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},t.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},t.prototype.clean=function(){LE.wipe(this._buffer),LE.wipe(this._temp),this.reset()},t.prototype.update=function(e,r){if(r===void 0&&(r=e.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var n=0;if(this._bytesHashed+=r,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&r>0;)this._buffer[this._bufferLength++]=e[n++],r--;this._bufferLength===this.blockSize&&(SP(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(r>=this.blockSize&&(n=SP(this._temp,this._state,e,n,r),r%=this.blockSize);r>0;)this._buffer[this._bufferLength++]=e[n++],r--;return this},t.prototype.finish=function(e){if(!this._finished){var r=this._bytesHashed,n=this._bufferLength,i=r/536870912|0,s=r<<3,a=r%64<56?64:128;this._buffer[n]=128;for(var o=n+1;o<a-8;o++)this._buffer[o]=0;qE.writeUint32BE(i,this._buffer,a-8),qE.writeUint32BE(s,this._buffer,a-4),SP(this._temp,this._state,this._buffer,0,a),this._finished=!0}for(var o=0;o<this.digestLength/4;o++)qE.writeUint32BE(this._state[o],e,o*4);return this},t.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},t.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},t.prototype.restoreState=function(e){return this._state.set(e.state),this._bufferLength=e.bufferLength,e.buffer&&this._buffer.set(e.buffer),this._bytesHashed=e.bytesHashed,this._finished=!1,this},t.prototype.cleanSavedState=function(e){LE.wipe(e.state),e.buffer&&LE.wipe(e.buffer),e.bufferLength=0,e.bytesHashed=0},t}();lf.SHA256=Ire;var uOe=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function SP(t,e,r,n,i){for(;i>=64;){for(var s=e[0],a=e[1],o=e[2],c=e[3],u=e[4],f=e[5],d=e[6],m=e[7],_=0;_<16;_++){var x=n+_*4;t[_]=qE.readUint32BE(r,x)}for(var _=16;_<64;_++){var P=t[_-2],D=(P>>>17|P<<15)^(P>>>19|P<<13)^P>>>10;P=t[_-15];var k=(P>>>7|P<<25)^(P>>>18|P<<14)^P>>>3;t[_]=(D+t[_-7]|0)+(k+t[_-16]|0)}for(var _=0;_<64;_++){var D=(((u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7))+(u&f^~u&d)|0)+(m+(uOe[_]+t[_]|0)|0)|0,k=((s>>>2|s<<30)^(s>>>13|s<<19)^(s>>>22|s<<10))+(s&a^s&o^a&o)|0;m=d,d=f,f=u,u=c+D|0,c=o,o=a,a=s,s=D+k|0}e[0]+=s,e[1]+=a,e[2]+=o,e[3]+=c,e[4]+=u,e[5]+=f,e[6]+=d,e[7]+=m,n+=64,i-=64}return n}function fOe(t){var e=new Ire;e.update(t);var r=e.digest();return e.clean(),r}lf.hash=fOe});var Rre=R(bn=>{"use strict";l();Object.defineProperty(bn,"__esModule",{value:!0});bn.sharedKey=bn.generateKeyPair=bn.generateKeyPairFromSeed=bn.scalarMultBase=bn.scalarMult=bn.SHARED_KEY_LENGTH=bn.SECRET_KEY_LENGTH=bn.PUBLIC_KEY_LENGTH=void 0;var lOe=Yy(),dOe=ma();bn.PUBLIC_KEY_LENGTH=32;bn.SECRET_KEY_LENGTH=32;bn.SHARED_KEY_LENGTH=32;function Qo(t){let e=new Float64Array(16);if(t)for(let r=0;r<t.length;r++)e[r]=t[r];return e}var Nre=new Uint8Array(32);Nre[0]=9;var hOe=Qo([56129,1]);function xP(t){let e=1;for(let r=0;r<16;r++){let n=t[r]+e+65535;e=Math.floor(n/65536),t[r]=n-e*65536}t[0]+=e-1+37*(e-1)}function um(t,e,r){let n=~(r-1);for(let i=0;i<16;i++){let s=n&(t[i]^e[i]);t[i]^=s,e[i]^=s}}function pOe(t,e){let r=Qo(),n=Qo();for(let i=0;i<16;i++)n[i]=e[i];xP(n),xP(n),xP(n);for(let i=0;i<2;i++){r[0]=n[0]-65517;for(let a=1;a<15;a++)r[a]=n[a]-65535-(r[a-1]>>16&1),r[a-1]&=65535;r[15]=n[15]-32767-(r[14]>>16&1);let s=r[15]>>16&1;r[14]&=65535,um(n,r,1-s)}for(let i=0;i<16;i++)t[2*i]=n[i]&255,t[2*i+1]=n[i]>>8}function gOe(t,e){for(let r=0;r<16;r++)t[r]=e[2*r]+(e[2*r+1]<<8);t[15]&=32767}function FE(t,e,r){for(let n=0;n<16;n++)t[n]=e[n]+r[n]}function UE(t,e,r){for(let n=0;n<16;n++)t[n]=e[n]-r[n]}function Kc(t,e,r){let n,i,s=0,a=0,o=0,c=0,u=0,f=0,d=0,m=0,_=0,x=0,P=0,D=0,k=0,Y=0,X=0,Z=0,U=0,Q=0,j=0,K=0,$=0,L=0,v=0,E=0,p=0,g=0,b=0,I=0,O=0,N=0,w=0,C=r[0],T=r[1],F=r[2],ee=r[3],fe=r[4],B=r[5],ne=r[6],oe=r[7],de=r[8],q=r[9],G=r[10],W=r[11],te=r[12],re=r[13],J=r[14],ae=r[15];n=e[0],s+=n*C,a+=n*T,o+=n*F,c+=n*ee,u+=n*fe,f+=n*B,d+=n*ne,m+=n*oe,_+=n*de,x+=n*q,P+=n*G,D+=n*W,k+=n*te,Y+=n*re,X+=n*J,Z+=n*ae,n=e[1],a+=n*C,o+=n*T,c+=n*F,u+=n*ee,f+=n*fe,d+=n*B,m+=n*ne,_+=n*oe,x+=n*de,P+=n*q,D+=n*G,k+=n*W,Y+=n*te,X+=n*re,Z+=n*J,U+=n*ae,n=e[2],o+=n*C,c+=n*T,u+=n*F,f+=n*ee,d+=n*fe,m+=n*B,_+=n*ne,x+=n*oe,P+=n*de,D+=n*q,k+=n*G,Y+=n*W,X+=n*te,Z+=n*re,U+=n*J,Q+=n*ae,n=e[3],c+=n*C,u+=n*T,f+=n*F,d+=n*ee,m+=n*fe,_+=n*B,x+=n*ne,P+=n*oe,D+=n*de,k+=n*q,Y+=n*G,X+=n*W,Z+=n*te,U+=n*re,Q+=n*J,j+=n*ae,n=e[4],u+=n*C,f+=n*T,d+=n*F,m+=n*ee,_+=n*fe,x+=n*B,P+=n*ne,D+=n*oe,k+=n*de,Y+=n*q,X+=n*G,Z+=n*W,U+=n*te,Q+=n*re,j+=n*J,K+=n*ae,n=e[5],f+=n*C,d+=n*T,m+=n*F,_+=n*ee,x+=n*fe,P+=n*B,D+=n*ne,k+=n*oe,Y+=n*de,X+=n*q,Z+=n*G,U+=n*W,Q+=n*te,j+=n*re,K+=n*J,$+=n*ae,n=e[6],d+=n*C,m+=n*T,_+=n*F,x+=n*ee,P+=n*fe,D+=n*B,k+=n*ne,Y+=n*oe,X+=n*de,Z+=n*q,U+=n*G,Q+=n*W,j+=n*te,K+=n*re,$+=n*J,L+=n*ae,n=e[7],m+=n*C,_+=n*T,x+=n*F,P+=n*ee,D+=n*fe,k+=n*B,Y+=n*ne,X+=n*oe,Z+=n*de,U+=n*q,Q+=n*G,j+=n*W,K+=n*te,$+=n*re,L+=n*J,v+=n*ae,n=e[8],_+=n*C,x+=n*T,P+=n*F,D+=n*ee,k+=n*fe,Y+=n*B,X+=n*ne,Z+=n*oe,U+=n*de,Q+=n*q,j+=n*G,K+=n*W,$+=n*te,L+=n*re,v+=n*J,E+=n*ae,n=e[9],x+=n*C,P+=n*T,D+=n*F,k+=n*ee,Y+=n*fe,X+=n*B,Z+=n*ne,U+=n*oe,Q+=n*de,j+=n*q,K+=n*G,$+=n*W,L+=n*te,v+=n*re,E+=n*J,p+=n*ae,n=e[10],P+=n*C,D+=n*T,k+=n*F,Y+=n*ee,X+=n*fe,Z+=n*B,U+=n*ne,Q+=n*oe,j+=n*de,K+=n*q,$+=n*G,L+=n*W,v+=n*te,E+=n*re,p+=n*J,g+=n*ae,n=e[11],D+=n*C,k+=n*T,Y+=n*F,X+=n*ee,Z+=n*fe,U+=n*B,Q+=n*ne,j+=n*oe,K+=n*de,$+=n*q,L+=n*G,v+=n*W,E+=n*te,p+=n*re,g+=n*J,b+=n*ae,n=e[12],k+=n*C,Y+=n*T,X+=n*F,Z+=n*ee,U+=n*fe,Q+=n*B,j+=n*ne,K+=n*oe,$+=n*de,L+=n*q,v+=n*G,E+=n*W,p+=n*te,g+=n*re,b+=n*J,I+=n*ae,n=e[13],Y+=n*C,X+=n*T,Z+=n*F,U+=n*ee,Q+=n*fe,j+=n*B,K+=n*ne,$+=n*oe,L+=n*de,v+=n*q,E+=n*G,p+=n*W,g+=n*te,b+=n*re,I+=n*J,O+=n*ae,n=e[14],X+=n*C,Z+=n*T,U+=n*F,Q+=n*ee,j+=n*fe,K+=n*B,$+=n*ne,L+=n*oe,v+=n*de,E+=n*q,p+=n*G,g+=n*W,b+=n*te,I+=n*re,O+=n*J,N+=n*ae,n=e[15],Z+=n*C,U+=n*T,Q+=n*F,j+=n*ee,K+=n*fe,$+=n*B,L+=n*ne,v+=n*oe,E+=n*de,p+=n*q,g+=n*G,b+=n*W,I+=n*te,O+=n*re,N+=n*J,w+=n*ae,s+=38*U,a+=38*Q,o+=38*j,c+=38*K,u+=38*$,f+=38*L,d+=38*v,m+=38*E,_+=38*p,x+=38*g,P+=38*b,D+=38*I,k+=38*O,Y+=38*N,X+=38*w,i=1,n=s+i+65535,i=Math.floor(n/65536),s=n-i*65536,n=a+i+65535,i=Math.floor(n/65536),a=n-i*65536,n=o+i+65535,i=Math.floor(n/65536),o=n-i*65536,n=c+i+65535,i=Math.floor(n/65536),c=n-i*65536,n=u+i+65535,i=Math.floor(n/65536),u=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=d+i+65535,i=Math.floor(n/65536),d=n-i*65536,n=m+i+65535,i=Math.floor(n/65536),m=n-i*65536,n=_+i+65535,i=Math.floor(n/65536),_=n-i*65536,n=x+i+65535,i=Math.floor(n/65536),x=n-i*65536,n=P+i+65535,i=Math.floor(n/65536),P=n-i*65536,n=D+i+65535,i=Math.floor(n/65536),D=n-i*65536,n=k+i+65535,i=Math.floor(n/65536),k=n-i*65536,n=Y+i+65535,i=Math.floor(n/65536),Y=n-i*65536,n=X+i+65535,i=Math.floor(n/65536),X=n-i*65536,n=Z+i+65535,i=Math.floor(n/65536),Z=n-i*65536,s+=i-1+37*(i-1),i=1,n=s+i+65535,i=Math.floor(n/65536),s=n-i*65536,n=a+i+65535,i=Math.floor(n/65536),a=n-i*65536,n=o+i+65535,i=Math.floor(n/65536),o=n-i*65536,n=c+i+65535,i=Math.floor(n/65536),c=n-i*65536,n=u+i+65535,i=Math.floor(n/65536),u=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=d+i+65535,i=Math.floor(n/65536),d=n-i*65536,n=m+i+65535,i=Math.floor(n/65536),m=n-i*65536,n=_+i+65535,i=Math.floor(n/65536),_=n-i*65536,n=x+i+65535,i=Math.floor(n/65536),x=n-i*65536,n=P+i+65535,i=Math.floor(n/65536),P=n-i*65536,n=D+i+65535,i=Math.floor(n/65536),D=n-i*65536,n=k+i+65535,i=Math.floor(n/65536),k=n-i*65536,n=Y+i+65535,i=Math.floor(n/65536),Y=n-i*65536,n=X+i+65535,i=Math.floor(n/65536),X=n-i*65536,n=Z+i+65535,i=Math.floor(n/65536),Z=n-i*65536,s+=i-1+37*(i-1),t[0]=s,t[1]=a,t[2]=o,t[3]=c,t[4]=u,t[5]=f,t[6]=d,t[7]=m,t[8]=_,t[9]=x,t[10]=P,t[11]=D,t[12]=k,t[13]=Y,t[14]=X,t[15]=Z}function fm(t,e){Kc(t,e,e)}function yOe(t,e){let r=Qo();for(let n=0;n<16;n++)r[n]=e[n];for(let n=253;n>=0;n--)fm(r,r),n!==2&&n!==4&&Kc(r,r,e);for(let n=0;n<16;n++)t[n]=r[n]}function TP(t,e){let r=new Uint8Array(32),n=new Float64Array(80),i=Qo(),s=Qo(),a=Qo(),o=Qo(),c=Qo(),u=Qo();for(let _=0;_<31;_++)r[_]=t[_];r[31]=t[31]&127|64,r[0]&=248,gOe(n,e);for(let _=0;_<16;_++)s[_]=n[_];i[0]=o[0]=1;for(let _=254;_>=0;--_){let x=r[_>>>3]>>>(_&7)&1;um(i,s,x),um(a,o,x),FE(c,i,a),UE(i,i,a),FE(a,s,o),UE(s,s,o),fm(o,c),fm(u,i),Kc(i,a,i),Kc(a,s,c),FE(c,i,a),UE(i,i,a),fm(s,i),UE(a,o,u),Kc(i,a,hOe),FE(i,i,o),Kc(a,a,i),Kc(i,o,u),Kc(o,s,n),fm(s,c),um(i,s,x),um(a,o,x)}for(let _=0;_<16;_++)n[_+16]=i[_],n[_+32]=a[_],n[_+48]=s[_],n[_+64]=o[_];let f=n.subarray(32),d=n.subarray(16);yOe(f,f),Kc(d,d,f);let m=new Uint8Array(32);return pOe(m,d),m}bn.scalarMult=TP;function Ore(t){return TP(t,Nre)}bn.scalarMultBase=Ore;function Pre(t){if(t.length!==bn.SECRET_KEY_LENGTH)throw new Error(`x25519: seed must be ${bn.SECRET_KEY_LENGTH} bytes`);let e=new Uint8Array(t);return{publicKey:Ore(e),secretKey:e}}bn.generateKeyPairFromSeed=Pre;function mOe(t){let e=(0,lOe.randomBytes)(32,t),r=Pre(e);return(0,dOe.wipe)(e),r}bn.generateKeyPair=mOe;function vOe(t,e,r=!1){if(t.length!==bn.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect secret key length");if(e.length!==bn.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect public key length");let n=TP(t,e);if(r){let i=0;for(let s=0;s<n.length;s++)i|=n[s];if(i===0)throw new Error("X25519: invalid shared key")}return n}bn.sharedKey=vOe});function Dre(t,e){for(let r=0;r<t.byteLength;r++){if(t[r]<e[r])return-1;if(t[r]>e[r])return 1}return t.byteLength>e.byteLength?1:t.byteLength<e.byteLength?-1:0}var Mre=je(()=>{l()});function Bre(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}var Lre=je(()=>{l()});function qre(t,e){if(t.length!==e.length)throw new Error("Inputs should have the same length");let r=dp(t.length);for(let n=0;n<t.length;n++)r[n]=t[n]^e[n];return r}var Fre=je(()=>{l();AE()});var IP={};Wr(IP,{compare:()=>Dre,concat:()=>SE,equals:()=>Bre,fromString:()=>Ko,toString:()=>Hc,xor:()=>qre});var CP=je(()=>{l();Mre();BO();Lre();cP();oP();Fre()});var Ure={};Wr(Ure,{RELAY_JSONRPC:()=>OOe,isPublishMethod:()=>PP,isPublishParams:()=>RP,isPublishRequest:()=>AOe,isSubscribeMethod:()=>NP,isSubscribeParams:()=>OP,isSubscribeRequest:()=>EOe,isSubscriptionMethod:()=>BP,isSubscriptionParams:()=>LP,isSubscriptionRequest:()=>xOe,isUnsubscribeMethod:()=>DP,isUnsubscribeParams:()=>MP,isUnsubscribeRequest:()=>SOe,parsePublishRequest:()=>IOe,parseSubscribeRequest:()=>TOe,parseSubscriptionRequest:()=>NOe,parseUnsubscribeRequest:()=>COe});function od(t,e,r="string"){if(!t[e]||typeof t[e]!==r)throw new Error(`Missing or invalid "${e}" param`)}function bOe(t,e){let r=!0;return e.forEach(n=>{n in t||(r=!1)}),r}function wOe(t,e){return Array.isArray(t)?t.length===e:Object.keys(t).length===e}function _Oe(t,e){return Array.isArray(t)?t.length>=e:Object.keys(t).length>=e}function kE(t,e,r){return(r.length?_Oe(t,e.length):wOe(t,e.length))?bOe(t,e):!1}function VE(t,e,r="_"){let n=t.split(r);return n[n.length-1].trim().toLowerCase()===e.trim().toLowerCase()}function EOe(t){return NP(t.method)&&OP(t.params)}function NP(t){return VE(t,"subscribe")}function OP(t){return kE(t,["topic"],[])}function AOe(t){return PP(t.method)&&RP(t.params)}function PP(t){return VE(t,"publish")}function RP(t){return kE(t,["message","topic","ttl"],["prompt","tag"])}function SOe(t){return DP(t.method)&&MP(t.params)}function DP(t){return VE(t,"unsubscribe")}function MP(t){return kE(t,["id","topic"],[])}function xOe(t){return BP(t.method)&&LP(t.params)}function BP(t){return VE(t,"subscription")}function LP(t){return kE(t,["id","data"],[])}function TOe(t){if(!NP(t.method))throw new Error("JSON-RPC Request has invalid subscribe method");if(!OP(t.params))throw new Error("JSON-RPC Request has invalid subscribe params");let e=t.params;return od(e,"topic"),e}function IOe(t){if(!PP(t.method))throw new Error("JSON-RPC Request has invalid publish method");if(!RP(t.params))throw new Error("JSON-RPC Request has invalid publish params");let e=t.params;return od(e,"topic"),od(e,"message"),od(e,"ttl","number"),e}function COe(t){if(!DP(t.method))throw new Error("JSON-RPC Request has invalid unsubscribe method");if(!MP(t.params))throw new Error("JSON-RPC Request has invalid unsubscribe params");let e=t.params;return od(e,"id"),e}function NOe(t){if(!BP(t.method))throw new Error("JSON-RPC Request has invalid subscription method");if(!LP(t.params))throw new Error("JSON-RPC Request has invalid subscription params");let e=t.params;return od(e,"id"),od(e,"data"),e}var OOe,kre=je(()=>{l();OOe={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}}});var xm=R(pe=>{"use strict";l();Object.defineProperty(pe,"__esModule",{value:!0});var POe=zte(),Ep=ep(),ud=vP(),ROe=Wte(),DOe=dre(),wne=wre(),MOe=Tre(),nA=Yy(),iA=Cre(),BOe=Rre(),jr=(CP(),Sn(IP)),LOe=yy(),qOe=(yP(),Sn(gP)),FOe=(kre(),Sn(Ure));function _ne(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}),e.default=t,Object.freeze(e)}var YE=_ne(DOe),Ene=_ne(BOe),sA=":";function Ane(t){let[e,r]=t.split(sA);return{namespace:e,reference:r}}function Sne(t){let{namespace:e,reference:r}=t;return[e,r].join(sA)}function cR(t){let[e,r,n]=t.split(sA);return{namespace:e,reference:r,address:n}}function xne(t){let{namespace:e,reference:r,address:n}=t;return[e,r,n].join(sA)}function uR(t,e){let r=[];return t.forEach(n=>{let i=e(n);r.includes(i)||r.push(i)}),r}function Tne(t){let{address:e}=cR(t);return e}function Ine(t){let{namespace:e,reference:r}=cR(t);return Sne({namespace:e,reference:r})}function UOe(t,e){let{namespace:r,reference:n}=Ane(e);return xne({namespace:r,reference:n,address:t})}function kOe(t){return uR(t,Tne)}function Cne(t){return uR(t,Ine)}function VOe(t,e=[]){let r=[];return Object.keys(t).forEach(n=>{if(e.length&&!e.includes(n))return;let i=t[n];r.push(...i.accounts)}),r}function HOe(t,e=[]){let r=[];return Object.keys(t).forEach(n=>{if(e.length&&!e.includes(n))return;let i=t[n];r.push(...Cne(i.accounts))}),r}function GOe(t,e=[]){let r=[];return Object.keys(t).forEach(n=>{if(e.length&&!e.includes(n))return;let i=t[n];r.push(...aA(n,i))}),r}function aA(t,e){return t.includes(":")?[t]:e.chains||[]}var jOe=Object.defineProperty,Vre=Object.getOwnPropertySymbols,zOe=Object.prototype.hasOwnProperty,KOe=Object.prototype.propertyIsEnumerable,Hre=(t,e,r)=>e in t?jOe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Gre=(t,e)=>{for(var r in e||(e={}))zOe.call(e,r)&&Hre(t,r,e[r]);if(Vre)for(var r of Vre(e))KOe.call(e,r)&&Hre(t,r,e[r]);return t},Nne="ReactNative",ji={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},JE=" ",WOe=":",One="/",fR=2,QOe=1e3,Pne="js";function lR(){return typeof A.default<"u"&&typeof A.default.versions<"u"&&typeof A.default.versions.node<"u"}function Cp(){return!ud.getDocument()&&!!ud.getNavigator()&&navigator.product===Nne}function _m(){return!lR()&&!!ud.getNavigator()&&!!ud.getDocument()}function dd(){return Cp()?ji.reactNative:lR()?ji.node:_m()?ji.browser:ji.unknown}function $Oe(){var t;try{return Cp()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(t=global.Application)==null?void 0:t.applicationId:void 0}catch{return}}function Rne(t,e){let r=YE.parse(t);return r=Gre(Gre({},r),e),t=YE.stringify(r),t}function YOe(){return ROe.getWindowMetadata()||{name:"",description:"",url:"",icons:[""]}}function JOe(t,e){var r;let n=dd(),i={protocol:t,version:e,env:n};return n==="browser"&&(i.host=((r=ud.getLocation())==null?void 0:r.host)||"unknown"),i}function Dne(){if(dd()===ji.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){let{OS:r,Version:n}=global.Platform;return[r,n].join("-")}let t=POe.detect();if(t===null)return"unknown";let e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function Mne(){var t;let e=dd();return e===ji.browser?[e,((t=ud.getLocation())==null?void 0:t.host)||"unknown"].join(":"):e}function Bne(t,e,r){let n=Dne(),i=Mne();return[[t,e].join("-"),[Pne,r].join("-"),n,i].join("/")}function XOe({protocol:t,version:e,relayUrl:r,sdkVersion:n,auth:i,projectId:s,useOnCloseEvent:a,bundleId:o}){let c=r.split("?"),u=Bne(t,e,n),f={auth:i,ua:u,projectId:s,useOnCloseEvent:a||void 0,origin:o||void 0},d=Rne(c[1]||"",f);return c[0]+"?"+d}function ZOe(t){let e=(t.match(/^[^:]+(?=:\/\/)/gi)||[])[0],r=typeof e<"u"?t.split("://")[1]:t;return e=e==="wss"?"https":"http",[e,r].join("://")}function ePe(t,e,r){if(!t[e]||typeof t[e]!==r)throw new Error(`Missing or invalid "${e}" param`)}function Lne(t,e=fR){return qne(t.split(One),e)}function tPe(t){return Lne(t).join(JE)}function gf(t,e){return t.filter(r=>e.includes(r)).length===t.length}function qne(t,e=fR){return t.slice(Math.max(t.length-e,0))}function rPe(t){return Object.fromEntries(t.entries())}function nPe(t){return new Map(Object.entries(t))}function iPe(t,e){let r={};return Object.keys(t).forEach(n=>{r[n]=e(t[n])}),r}var sPe=t=>t;function Fne(t){return t.trim().replace(/^\w/,e=>e.toUpperCase())}function aPe(t){return t.split(JE).map(e=>Fne(e)).join(JE)}function oPe(t=Ep.FIVE_MINUTES,e){let r=Ep.toMiliseconds(t||Ep.FIVE_MINUTES),n,i,s;return{resolve:a=>{s&&n&&(clearTimeout(s),n(a))},reject:a=>{s&&i&&(clearTimeout(s),i(a))},done:()=>new Promise((a,o)=>{s=setTimeout(()=>{o(new Error(e))},r),n=a,i=o})}}function cPe(t,e,r){return new Promise(async(n,i)=>{let s=setTimeout(()=>i(new Error(r)),e);try{let a=await t;n(a)}catch(a){i(a)}clearTimeout(s)})}function dR(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function uPe(t){return dR("topic",t)}function fPe(t){return dR("id",t)}function lPe(t){let[e,r]=t.split(":"),n={id:void 0,topic:void 0};if(e==="topic"&&typeof r=="string")n.topic=r;else if(e==="id"&&Number.isInteger(Number(r)))n.id=Number(r);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${r}`);return n}function dPe(t,e){return Ep.fromMiliseconds((e||Date.now())+Ep.toMiliseconds(t))}function hPe(t){return Date.now()>=Ep.toMiliseconds(t)}function pPe(t,e){return`${t}${e?`:${e}`:""}`}function Xc(t=[],e=[]){return[...new Set([...t,...e])]}async function gPe({id:t,topic:e,wcDeepLink:r}){var n;try{if(!r)return;let i=typeof r=="string"?JSON.parse(r):r,s=i?.href;if(typeof s!="string")return;let a=Une(s,t,e),o=dd();if(o===ji.browser){if(!((n=ud.getDocument())!=null&&n.hasFocus()))return;a.startsWith("https://")||a.startsWith("http://")?window.open(a,"_blank","noreferrer noopener"):window.open(a,kne()?"_blank":"_self","noreferrer noopener")}else o===ji.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(a)}catch{}}function Une(t,e,r){let n=`requestId=${e}&sessionTopic=${r}`;t.endsWith("/")&&(t=t.slice(0,-1));let i=`${t}`;if(t.startsWith("https://t.me")){let s=t.includes("?")?"&startapp=":"?startapp=";i=`${i}${s}${Vne(n,!0)}`}else i=`${i}/wc?${n}`;return i}async function yPe(t,e){let r="";try{if(_m()&&(r=localStorage.getItem(e),r))return r;r=await t.getItem(e)}catch{}return r}function XP(t,e){return t.filter(r=>e.includes(r))}function mPe(t,e){if(!t.includes(e))return null;let r=t.split(/([&,?,=])/),n=r.indexOf(e);return r[n+2]}function vPe(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{let e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function bPe(){return typeof A.default<"u"&&A.default.env.IS_VITEST==="true"}function kne(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function Vne(t,e=!1){let r=y.Buffer.from(t).toString("base64");return e?r.replace(/[=]/g,""):r}function hR(t){return y.Buffer.from(t,"base64").toString("utf-8")}var Hne=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wPe(t){var e=t.default;if(typeof e=="function"){var r=function(){return e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var Gne={exports:{}};(function(t){(function(){var e="input is invalid type",r="finalize already called",n=typeof window=="object",i=n?window:{};i.JS_SHA3_NO_WINDOW&&(n=!1);var s=!n&&typeof self=="object",a=!i.JS_SHA3_NO_NODE_JS&&typeof A.default=="object"&&A.default.versions&&A.default.versions.node;a?i=Hne:s&&(i=self);var o=!i.JS_SHA3_NO_COMMON_JS&&!0&&t.exports,c=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",u="0123456789abcdef".split(""),f=[31,7936,2031616,520093696],d=[4,1024,262144,67108864],m=[1,256,65536,16777216],_=[6,1536,393216,100663296],x=[0,8,16,24],P=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],D=[224,256,384,512],k=[128,256],Y=["hex","buffer","arrayBuffer","array","digest"],X={128:168,256:136};(i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(B){return Object.prototype.toString.call(B)==="[object Array]"}),c&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(B){return typeof B=="object"&&B.buffer&&B.buffer.constructor===ArrayBuffer});for(var Z=function(B,ne,oe){return function(de){return new F(B,ne,B).update(de)[oe]()}},U=function(B,ne,oe){return function(de,q){return new F(B,ne,q).update(de)[oe]()}},Q=function(B,ne,oe){return function(de,q,G,W){return g["cshake"+B].update(de,q,G,W)[oe]()}},j=function(B,ne,oe){return function(de,q,G,W){return g["kmac"+B].update(de,q,G,W)[oe]()}},K=function(B,ne,oe,de){for(var q=0;q<Y.length;++q){var G=Y[q];B[G]=ne(oe,de,G)}return B},$=function(B,ne){var oe=Z(B,ne,"hex");return oe.create=function(){return new F(B,ne,B)},oe.update=function(de){return oe.create().update(de)},K(oe,Z,B,ne)},L=function(B,ne){var oe=U(B,ne,"hex");return oe.create=function(de){return new F(B,ne,de)},oe.update=function(de,q){return oe.create(q).update(de)},K(oe,U,B,ne)},v=function(B,ne){var oe=X[B],de=Q(B,ne,"hex");return de.create=function(q,G,W){return!G&&!W?g["shake"+B].create(q):new F(B,ne,q).bytepad([G,W],oe)},de.update=function(q,G,W,te){return de.create(G,W,te).update(q)},K(de,Q,B,ne)},E=function(B,ne){var oe=X[B],de=j(B,ne,"hex");return de.create=function(q,G,W){return new ee(B,ne,G).bytepad(["KMAC",W],oe).bytepad([q],oe)},de.update=function(q,G,W,te){return de.create(q,W,te).update(G)},K(de,j,B,ne)},p=[{name:"keccak",padding:m,bits:D,createMethod:$},{name:"sha3",padding:_,bits:D,createMethod:$},{name:"shake",padding:f,bits:k,createMethod:L},{name:"cshake",padding:d,bits:k,createMethod:v},{name:"kmac",padding:d,bits:k,createMethod:E}],g={},b=[],I=0;I<p.length;++I)for(var O=p[I],N=O.bits,w=0;w<N.length;++w){var C=O.name+"_"+N[w];if(b.push(C),g[C]=O.createMethod(N[w],O.padding),O.name!=="sha3"){var T=O.name+N[w];b.push(T),g[T]=g[C]}}function F(B,ne,oe){this.blocks=[],this.s=[],this.padding=ne,this.outputBits=oe,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(B<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=oe>>5,this.extraBytes=(oe&31)>>3;for(var de=0;de<50;++de)this.s[de]=0}F.prototype.update=function(B){if(this.finalized)throw new Error(r);var ne,oe=typeof B;if(oe!=="string"){if(oe==="object"){if(B===null)throw new Error(e);if(c&&B.constructor===ArrayBuffer)B=new Uint8Array(B);else if(!Array.isArray(B)&&(!c||!ArrayBuffer.isView(B)))throw new Error(e)}else throw new Error(e);ne=!0}for(var de=this.blocks,q=this.byteCount,G=B.length,W=this.blockCount,te=0,re=this.s,J,ae;te<G;){if(this.reset)for(this.reset=!1,de[0]=this.block,J=1;J<W+1;++J)de[J]=0;if(ne)for(J=this.start;te<G&&J<q;++te)de[J>>2]|=B[te]<<x[J++&3];else for(J=this.start;te<G&&J<q;++te)ae=B.charCodeAt(te),ae<128?de[J>>2]|=ae<<x[J++&3]:ae<2048?(de[J>>2]|=(192|ae>>6)<<x[J++&3],de[J>>2]|=(128|ae&63)<<x[J++&3]):ae<55296||ae>=57344?(de[J>>2]|=(224|ae>>12)<<x[J++&3],de[J>>2]|=(128|ae>>6&63)<<x[J++&3],de[J>>2]|=(128|ae&63)<<x[J++&3]):(ae=65536+((ae&1023)<<10|B.charCodeAt(++te)&1023),de[J>>2]|=(240|ae>>18)<<x[J++&3],de[J>>2]|=(128|ae>>12&63)<<x[J++&3],de[J>>2]|=(128|ae>>6&63)<<x[J++&3],de[J>>2]|=(128|ae&63)<<x[J++&3]);if(this.lastByteIndex=J,J>=q){for(this.start=J-q,this.block=de[W],J=0;J<W;++J)re[J]^=de[J];fe(re),this.reset=!0}else this.start=J}return this},F.prototype.encode=function(B,ne){var oe=B&255,de=1,q=[oe];for(B=B>>8,oe=B&255;oe>0;)q.unshift(oe),B=B>>8,oe=B&255,++de;return ne?q.push(de):q.unshift(de),this.update(q),q.length},F.prototype.encodeString=function(B){var ne,oe=typeof B;if(oe!=="string"){if(oe==="object"){if(B===null)throw new Error(e);if(c&&B.constructor===ArrayBuffer)B=new Uint8Array(B);else if(!Array.isArray(B)&&(!c||!ArrayBuffer.isView(B)))throw new Error(e)}else throw new Error(e);ne=!0}var de=0,q=B.length;if(ne)de=q;else for(var G=0;G<B.length;++G){var W=B.charCodeAt(G);W<128?de+=1:W<2048?de+=2:W<55296||W>=57344?de+=3:(W=65536+((W&1023)<<10|B.charCodeAt(++G)&1023),de+=4)}return de+=this.encode(de*8),this.update(B),de},F.prototype.bytepad=function(B,ne){for(var oe=this.encode(ne),de=0;de<B.length;++de)oe+=this.encodeString(B[de]);var q=ne-oe%ne,G=[];return G.length=q,this.update(G),this},F.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var B=this.blocks,ne=this.lastByteIndex,oe=this.blockCount,de=this.s;if(B[ne>>2]|=this.padding[ne&3],this.lastByteIndex===this.byteCount)for(B[0]=B[oe],ne=1;ne<oe+1;++ne)B[ne]=0;for(B[oe-1]|=2147483648,ne=0;ne<oe;++ne)de[ne]^=B[ne];fe(de)}},F.prototype.toString=F.prototype.hex=function(){this.finalize();for(var B=this.blockCount,ne=this.s,oe=this.outputBlocks,de=this.extraBytes,q=0,G=0,W="",te;G<oe;){for(q=0;q<B&&G<oe;++q,++G)te=ne[q],W+=u[te>>4&15]+u[te&15]+u[te>>12&15]+u[te>>8&15]+u[te>>20&15]+u[te>>16&15]+u[te>>28&15]+u[te>>24&15];G%B===0&&(fe(ne),q=0)}return de&&(te=ne[q],W+=u[te>>4&15]+u[te&15],de>1&&(W+=u[te>>12&15]+u[te>>8&15]),de>2&&(W+=u[te>>20&15]+u[te>>16&15])),W},F.prototype.arrayBuffer=function(){this.finalize();var B=this.blockCount,ne=this.s,oe=this.outputBlocks,de=this.extraBytes,q=0,G=0,W=this.outputBits>>3,te;de?te=new ArrayBuffer(oe+1<<2):te=new ArrayBuffer(W);for(var re=new Uint32Array(te);G<oe;){for(q=0;q<B&&G<oe;++q,++G)re[G]=ne[q];G%B===0&&fe(ne)}return de&&(re[q]=ne[q],te=te.slice(0,W)),te},F.prototype.buffer=F.prototype.arrayBuffer,F.prototype.digest=F.prototype.array=function(){this.finalize();for(var B=this.blockCount,ne=this.s,oe=this.outputBlocks,de=this.extraBytes,q=0,G=0,W=[],te,re;G<oe;){for(q=0;q<B&&G<oe;++q,++G)te=G<<2,re=ne[q],W[te]=re&255,W[te+1]=re>>8&255,W[te+2]=re>>16&255,W[te+3]=re>>24&255;G%B===0&&fe(ne)}return de&&(te=G<<2,re=ne[q],W[te]=re&255,de>1&&(W[te+1]=re>>8&255),de>2&&(W[te+2]=re>>16&255)),W};function ee(B,ne,oe){F.call(this,B,ne,oe)}ee.prototype=new F,ee.prototype.finalize=function(){return this.encode(this.outputBits,!0),F.prototype.finalize.call(this)};var fe=function(B){var ne,oe,de,q,G,W,te,re,J,ae,ce,ue,ye,ge,ve,Pe,Be,Le,lt,vt,qe,Ze,At,et,Ut,jt,Xe,Pt,St,We,st,Qt,bt,Zt,ir,xt,ur,Mt,dt,$t,er,_t,sr,fr,tt,ar,M,V,H,S,z,le,he,me,Ae,Re,Ne,Nt,ke,rt,it,ft,ot;for(de=0;de<48;de+=2)q=B[0]^B[10]^B[20]^B[30]^B[40],G=B[1]^B[11]^B[21]^B[31]^B[41],W=B[2]^B[12]^B[22]^B[32]^B[42],te=B[3]^B[13]^B[23]^B[33]^B[43],re=B[4]^B[14]^B[24]^B[34]^B[44],J=B[5]^B[15]^B[25]^B[35]^B[45],ae=B[6]^B[16]^B[26]^B[36]^B[46],ce=B[7]^B[17]^B[27]^B[37]^B[47],ue=B[8]^B[18]^B[28]^B[38]^B[48],ye=B[9]^B[19]^B[29]^B[39]^B[49],ne=ue^(W<<1|te>>>31),oe=ye^(te<<1|W>>>31),B[0]^=ne,B[1]^=oe,B[10]^=ne,B[11]^=oe,B[20]^=ne,B[21]^=oe,B[30]^=ne,B[31]^=oe,B[40]^=ne,B[41]^=oe,ne=q^(re<<1|J>>>31),oe=G^(J<<1|re>>>31),B[2]^=ne,B[3]^=oe,B[12]^=ne,B[13]^=oe,B[22]^=ne,B[23]^=oe,B[32]^=ne,B[33]^=oe,B[42]^=ne,B[43]^=oe,ne=W^(ae<<1|ce>>>31),oe=te^(ce<<1|ae>>>31),B[4]^=ne,B[5]^=oe,B[14]^=ne,B[15]^=oe,B[24]^=ne,B[25]^=oe,B[34]^=ne,B[35]^=oe,B[44]^=ne,B[45]^=oe,ne=re^(ue<<1|ye>>>31),oe=J^(ye<<1|ue>>>31),B[6]^=ne,B[7]^=oe,B[16]^=ne,B[17]^=oe,B[26]^=ne,B[27]^=oe,B[36]^=ne,B[37]^=oe,B[46]^=ne,B[47]^=oe,ne=ae^(q<<1|G>>>31),oe=ce^(G<<1|q>>>31),B[8]^=ne,B[9]^=oe,B[18]^=ne,B[19]^=oe,B[28]^=ne,B[29]^=oe,B[38]^=ne,B[39]^=oe,B[48]^=ne,B[49]^=oe,ge=B[0],ve=B[1],ar=B[11]<<4|B[10]>>>28,M=B[10]<<4|B[11]>>>28,Pt=B[20]<<3|B[21]>>>29,St=B[21]<<3|B[20]>>>29,rt=B[31]<<9|B[30]>>>23,it=B[30]<<9|B[31]>>>23,_t=B[40]<<18|B[41]>>>14,sr=B[41]<<18|B[40]>>>14,Zt=B[2]<<1|B[3]>>>31,ir=B[3]<<1|B[2]>>>31,Pe=B[13]<<12|B[12]>>>20,Be=B[12]<<12|B[13]>>>20,V=B[22]<<10|B[23]>>>22,H=B[23]<<10|B[22]>>>22,We=B[33]<<13|B[32]>>>19,st=B[32]<<13|B[33]>>>19,ft=B[42]<<2|B[43]>>>30,ot=B[43]<<2|B[42]>>>30,me=B[5]<<30|B[4]>>>2,Ae=B[4]<<30|B[5]>>>2,xt=B[14]<<6|B[15]>>>26,ur=B[15]<<6|B[14]>>>26,Le=B[25]<<11|B[24]>>>21,lt=B[24]<<11|B[25]>>>21,S=B[34]<<15|B[35]>>>17,z=B[35]<<15|B[34]>>>17,Qt=B[45]<<29|B[44]>>>3,bt=B[44]<<29|B[45]>>>3,et=B[6]<<28|B[7]>>>4,Ut=B[7]<<28|B[6]>>>4,Re=B[17]<<23|B[16]>>>9,Ne=B[16]<<23|B[17]>>>9,Mt=B[26]<<25|B[27]>>>7,dt=B[27]<<25|B[26]>>>7,vt=B[36]<<21|B[37]>>>11,qe=B[37]<<21|B[36]>>>11,le=B[47]<<24|B[46]>>>8,he=B[46]<<24|B[47]>>>8,fr=B[8]<<27|B[9]>>>5,tt=B[9]<<27|B[8]>>>5,jt=B[18]<<20|B[19]>>>12,Xe=B[19]<<20|B[18]>>>12,Nt=B[29]<<7|B[28]>>>25,ke=B[28]<<7|B[29]>>>25,$t=B[38]<<8|B[39]>>>24,er=B[39]<<8|B[38]>>>24,Ze=B[48]<<14|B[49]>>>18,At=B[49]<<14|B[48]>>>18,B[0]=ge^~Pe&Le,B[1]=ve^~Be&lt,B[10]=et^~jt&Pt,B[11]=Ut^~Xe&St,B[20]=Zt^~xt&Mt,B[21]=ir^~ur&dt,B[30]=fr^~ar&V,B[31]=tt^~M&H,B[40]=me^~Re&Nt,B[41]=Ae^~Ne&ke,B[2]=Pe^~Le&vt,B[3]=Be^~lt&qe,B[12]=jt^~Pt&We,B[13]=Xe^~St&st,B[22]=xt^~Mt&$t,B[23]=ur^~dt&er,B[32]=ar^~V&S,B[33]=M^~H&z,B[42]=Re^~Nt&rt,B[43]=Ne^~ke&it,B[4]=Le^~vt&Ze,B[5]=lt^~qe&At,B[14]=Pt^~We&Qt,B[15]=St^~st&bt,B[24]=Mt^~$t&_t,B[25]=dt^~er&sr,B[34]=V^~S&le,B[35]=H^~z&he,B[44]=Nt^~rt&ft,B[45]=ke^~it&ot,B[6]=vt^~Ze&ge,B[7]=qe^~At&ve,B[16]=We^~Qt&et,B[17]=st^~bt&Ut,B[26]=$t^~_t&Zt,B[27]=er^~sr&ir,B[36]=S^~le&fr,B[37]=z^~he&tt,B[46]=rt^~ft&me,B[47]=it^~ot&Ae,B[8]=Ze^~ge&Pe,B[9]=At^~ve&Be,B[18]=Qt^~et&jt,B[19]=bt^~Ut&Xe,B[28]=_t^~Zt&xt,B[29]=sr^~ir&ur,B[38]=le^~fr&ar,B[39]=he^~tt&M,B[48]=ft^~me&Re,B[49]=ot^~Ae&Ne,B[0]^=P[de],B[1]^=P[de+1]};if(o)t.exports=g;else for(I=0;I<b.length;++I)i[b[I]]=g[b[I]]})()})(Gne);var _Pe=Gne.exports,EPe="logger/5.7.0",jre=!1,zre=!1,WE={debug:1,default:2,info:2,warning:3,error:4,off:5},Kre=WE.default,qP=null;function APe(){try{let t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("\xE9".normalize("NFD")!=="e\u0301")throw new Error("broken implementation")}catch(t){return t.message}return null}var Wre=APe(),ZP;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(ZP||(ZP={}));var to;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(to||(to={}));var Qre="0123456789abcdef",fn=class t{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){let n=e.toLowerCase();WE[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),Kre>WE[n]}debug(...e){this._log(t.levels.DEBUG,e)}info(...e){this._log(t.levels.INFO,e)}warn(...e){this._log(t.levels.WARNING,e)}makeError(e,r,n){if(zre)return this.makeError("censored error",r,{});r||(r=t.errors.UNKNOWN_ERROR),n||(n={});let i=[];Object.keys(n).forEach(c=>{let u=n[c];try{if(u instanceof Uint8Array){let f="";for(let d=0;d<u.length;d++)f+=Qre[u[d]>>4],f+=Qre[u[d]&15];i.push(c+"=Uint8Array(0x"+f+")")}else i.push(c+"="+JSON.stringify(u))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);let s=e,a="";switch(r){case to.NUMERIC_FAULT:{a="NUMERIC_FAULT";let c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":a+="-"+c;break;case"negative-power":case"negative-width":a+="-unsupported";break;case"unbound-bitwise-result":a+="-unbound-result";break}break}case to.CALL_EXCEPTION:case to.INSUFFICIENT_FUNDS:case to.MISSING_NEW:case to.NONCE_EXPIRED:case to.REPLACEMENT_UNDERPRICED:case to.TRANSACTION_REPLACED:case to.UNPREDICTABLE_GAS_LIMIT:a=r;break}a&&(e+=" [ See: https://links.ethers.org/v5-errors-"+a+" ]"),i.length&&(e+=" ("+i.join(", ")+")");let o=new Error(e);return o.reason=s,o.code=r,Object.keys(n).forEach(function(c){o[c]=n[c]}),o}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,t.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){Wre&&this.throwError("platform missing String.prototype.normalize",t.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Wre})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,t.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,t.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,t.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,t.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",t.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",t.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",t.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return qP||(qP=new t(EPe)),qP}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",t.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),jre){if(!e)return;this.globalLogger().throwError("error censorship permanent",t.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}zre=!!e,jre=!!r}static setLogLevel(e){let r=WE[e.toLowerCase()];if(r==null){t.globalLogger().warn("invalid log level - "+e);return}Kre=r}static from(e){return new t(e)}};fn.errors=to,fn.levels=ZP;var SPe="bytes/5.7.0",Rn=new fn(SPe);function jne(t){return!!t.toHexString}function Ap(t){return t.slice||(t.slice=function(){let e=Array.prototype.slice.call(arguments);return Ap(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function xPe(t){return Rs(t)&&!(t.length%2)||Np(t)}function $re(t){return typeof t=="number"&&t==t&&t%1===0}function Np(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!$re(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){let r=t[e];if(!$re(r)||r<0||r>=256)return!1}return!0}function wn(t,e){if(e||(e={}),typeof t=="number"){Rn.checkSafeUint53(t,"invalid arrayify value");let r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),Ap(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),jne(t)&&(t=t.toHexString()),Rs(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":Rn.throwArgumentError("hex data is odd-length","value",t));let n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return Ap(new Uint8Array(n))}return Np(t)?Ap(new Uint8Array(t)):Rn.throwArgumentError("invalid arrayify value","value",t)}function TPe(t){let e=t.map(i=>wn(i)),r=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(r);return e.reduce((i,s)=>(n.set(s,i),i+s.length),0),Ap(n)}function IPe(t,e){t=wn(t),t.length>e&&Rn.throwArgumentError("value out of range","value",arguments[0]);let r=new Uint8Array(e);return r.set(t,e-t.length),Ap(r)}function Rs(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}var FP="0123456789abcdef";function Hi(t,e){if(e||(e={}),typeof t=="number"){Rn.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=FP[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),jne(t))return t.toHexString();if(Rs(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":Rn.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(Np(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=FP[(i&240)>>4]+FP[i&15]}return r}return Rn.throwArgumentError("invalid hexlify value","value",t)}function CPe(t){if(typeof t!="string")t=Hi(t);else if(!Rs(t)||t.length%2)return null;return(t.length-2)/2}function Yre(t,e,r){return typeof t!="string"?t=Hi(t):(!Rs(t)||t.length%2)&&Rn.throwArgumentError("invalid hexData","value",t),e=2+2*e,r!=null?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}function ec(t,e){for(typeof t!="string"?t=Hi(t):Rs(t)||Rn.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&Rn.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function zne(t){let e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(xPe(t)){let r=wn(t);r.length===64?(e.v=27+(r[32]>>7),r[32]&=127,e.r=Hi(r.slice(0,32)),e.s=Hi(r.slice(32,64))):r.length===65?(e.r=Hi(r.slice(0,32)),e.s=Hi(r.slice(32,64)),e.v=r[64]):Rn.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:Rn.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=Hi(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){let i=IPe(wn(e._vs),32);e._vs=Hi(i);let s=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&Rn.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),i[0]&=127;let a=Hi(i);e.s==null?e.s=a:e.s!==a&&Rn.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?Rn.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{let i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&Rn.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!Rs(e.r)?Rn.throwArgumentError("signature missing or invalid r","signature",t):e.r=ec(e.r,32),e.s==null||!Rs(e.s)?Rn.throwArgumentError("signature missing or invalid s","signature",t):e.s=ec(e.s,32);let r=wn(e.s);r[0]>=128&&Rn.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);let n=Hi(r);e._vs&&(Rs(e._vs)||Rn.throwArgumentError("signature invalid _vs","signature",t),e._vs=ec(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&Rn.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}function pR(t){return"0x"+_Pe.keccak_256(wn(t))}var Kne={exports:{}},NPe={},OPe=Object.freeze({__proto__:null,default:NPe}),PPe=wPe(OPe);(function(t){(function(e,r){function n(p,g){if(!p)throw new Error(g||"Assertion failed")}function i(p,g){p.super_=g;var b=function(){};b.prototype=g.prototype,p.prototype=new b,p.prototype.constructor=p}function s(p,g,b){if(s.isBN(p))return p;this.negative=0,this.words=null,this.length=0,this.red=null,p!==null&&((g==="le"||g==="be")&&(b=g,g=10),this._init(p||0,g||10,b||"be"))}typeof e=="object"?e.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var a;try{typeof window<"u"&&typeof window.Buffer<"u"?a=window.Buffer:a=PPe.Buffer}catch{}s.isBN=function(p){return p instanceof s?!0:p!==null&&typeof p=="object"&&p.constructor.wordSize===s.wordSize&&Array.isArray(p.words)},s.max=function(p,g){return p.cmp(g)>0?p:g},s.min=function(p,g){return p.cmp(g)<0?p:g},s.prototype._init=function(p,g,b){if(typeof p=="number")return this._initNumber(p,g,b);if(typeof p=="object")return this._initArray(p,g,b);g==="hex"&&(g=16),n(g===(g|0)&&g>=2&&g<=36),p=p.toString().replace(/\s+/g,"");var I=0;p[0]==="-"&&(I++,this.negative=1),I<p.length&&(g===16?this._parseHex(p,I,b):(this._parseBase(p,g,I),b==="le"&&this._initArray(this.toArray(),g,b)))},s.prototype._initNumber=function(p,g,b){p<0&&(this.negative=1,p=-p),p<67108864?(this.words=[p&67108863],this.length=1):p<4503599627370496?(this.words=[p&67108863,p/67108864&67108863],this.length=2):(n(p<9007199254740992),this.words=[p&67108863,p/67108864&67108863,1],this.length=3),b==="le"&&this._initArray(this.toArray(),g,b)},s.prototype._initArray=function(p,g,b){if(n(typeof p.length=="number"),p.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(p.length/3),this.words=new Array(this.length);for(var I=0;I<this.length;I++)this.words[I]=0;var O,N,w=0;if(b==="be")for(I=p.length-1,O=0;I>=0;I-=3)N=p[I]|p[I-1]<<8|p[I-2]<<16,this.words[O]|=N<<w&67108863,this.words[O+1]=N>>>26-w&67108863,w+=24,w>=26&&(w-=26,O++);else if(b==="le")for(I=0,O=0;I<p.length;I+=3)N=p[I]|p[I+1]<<8|p[I+2]<<16,this.words[O]|=N<<w&67108863,this.words[O+1]=N>>>26-w&67108863,w+=24,w>=26&&(w-=26,O++);return this._strip()};function o(p,g){var b=p.charCodeAt(g);if(b>=48&&b<=57)return b-48;if(b>=65&&b<=70)return b-55;if(b>=97&&b<=102)return b-87;n(!1,"Invalid character in "+p)}function c(p,g,b){var I=o(p,b);return b-1>=g&&(I|=o(p,b-1)<<4),I}s.prototype._parseHex=function(p,g,b){this.length=Math.ceil((p.length-g)/6),this.words=new Array(this.length);for(var I=0;I<this.length;I++)this.words[I]=0;var O=0,N=0,w;if(b==="be")for(I=p.length-1;I>=g;I-=2)w=c(p,g,I)<<O,this.words[N]|=w&67108863,O>=18?(O-=18,N+=1,this.words[N]|=w>>>26):O+=8;else{var C=p.length-g;for(I=C%2===0?g+1:g;I<p.length;I+=2)w=c(p,g,I)<<O,this.words[N]|=w&67108863,O>=18?(O-=18,N+=1,this.words[N]|=w>>>26):O+=8}this._strip()};function u(p,g,b,I){for(var O=0,N=0,w=Math.min(p.length,b),C=g;C<w;C++){var T=p.charCodeAt(C)-48;O*=I,T>=49?N=T-49+10:T>=17?N=T-17+10:N=T,n(T>=0&&N<I,"Invalid character"),O+=N}return O}s.prototype._parseBase=function(p,g,b){this.words=[0],this.length=1;for(var I=0,O=1;O<=67108863;O*=g)I++;I--,O=O/g|0;for(var N=p.length-b,w=N%I,C=Math.min(N,N-w)+b,T=0,F=b;F<C;F+=I)T=u(p,F,F+I,g),this.imuln(O),this.words[0]+T<67108864?this.words[0]+=T:this._iaddn(T);if(w!==0){var ee=1;for(T=u(p,F,p.length,g),F=0;F<w;F++)ee*=g;this.imuln(ee),this.words[0]+T<67108864?this.words[0]+=T:this._iaddn(T)}this._strip()},s.prototype.copy=function(p){p.words=new Array(this.length);for(var g=0;g<this.length;g++)p.words[g]=this.words[g];p.length=this.length,p.negative=this.negative,p.red=this.red};function f(p,g){p.words=g.words,p.length=g.length,p.negative=g.negative,p.red=g.red}if(s.prototype._move=function(p){f(p,this)},s.prototype.clone=function(){var p=new s(null);return this.copy(p),p},s.prototype._expand=function(p){for(;this.length<p;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=d}catch{s.prototype.inspect=d}else s.prototype.inspect=d;function d(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],_=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],x=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(p,g){p=p||10,g=g|0||1;var b;if(p===16||p==="hex"){b="";for(var I=0,O=0,N=0;N<this.length;N++){var w=this.words[N],C=((w<<I|O)&16777215).toString(16);O=w>>>24-I&16777215,I+=2,I>=26&&(I-=26,N--),O!==0||N!==this.length-1?b=m[6-C.length]+C+b:b=C+b}for(O!==0&&(b=O.toString(16)+b);b.length%g!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}if(p===(p|0)&&p>=2&&p<=36){var T=_[p],F=x[p];b="";var ee=this.clone();for(ee.negative=0;!ee.isZero();){var fe=ee.modrn(F).toString(p);ee=ee.idivn(F),ee.isZero()?b=fe+b:b=m[T-fe.length]+fe+b}for(this.isZero()&&(b="0"+b);b.length%g!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var p=this.words[0];return this.length===2?p+=this.words[1]*67108864:this.length===3&&this.words[2]===1?p+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-p:p},s.prototype.toJSON=function(){return this.toString(16,2)},a&&(s.prototype.toBuffer=function(p,g){return this.toArrayLike(a,p,g)}),s.prototype.toArray=function(p,g){return this.toArrayLike(Array,p,g)};var P=function(p,g){return p.allocUnsafe?p.allocUnsafe(g):new p(g)};s.prototype.toArrayLike=function(p,g,b){this._strip();var I=this.byteLength(),O=b||Math.max(1,I);n(I<=O,"byte array longer than desired length"),n(O>0,"Requested array length <= 0");var N=P(p,O),w=g==="le"?"LE":"BE";return this["_toArrayLike"+w](N,I),N},s.prototype._toArrayLikeLE=function(p,g){for(var b=0,I=0,O=0,N=0;O<this.length;O++){var w=this.words[O]<<N|I;p[b++]=w&255,b<p.length&&(p[b++]=w>>8&255),b<p.length&&(p[b++]=w>>16&255),N===6?(b<p.length&&(p[b++]=w>>24&255),I=0,N=0):(I=w>>>24,N+=2)}if(b<p.length)for(p[b++]=I;b<p.length;)p[b++]=0},s.prototype._toArrayLikeBE=function(p,g){for(var b=p.length-1,I=0,O=0,N=0;O<this.length;O++){var w=this.words[O]<<N|I;p[b--]=w&255,b>=0&&(p[b--]=w>>8&255),b>=0&&(p[b--]=w>>16&255),N===6?(b>=0&&(p[b--]=w>>24&255),I=0,N=0):(I=w>>>24,N+=2)}if(b>=0)for(p[b--]=I;b>=0;)p[b--]=0},Math.clz32?s.prototype._countBits=function(p){return 32-Math.clz32(p)}:s.prototype._countBits=function(p){var g=p,b=0;return g>=4096&&(b+=13,g>>>=13),g>=64&&(b+=7,g>>>=7),g>=8&&(b+=4,g>>>=4),g>=2&&(b+=2,g>>>=2),b+g},s.prototype._zeroBits=function(p){if(p===0)return 26;var g=p,b=0;return g&8191||(b+=13,g>>>=13),g&127||(b+=7,g>>>=7),g&15||(b+=4,g>>>=4),g&3||(b+=2,g>>>=2),g&1||b++,b},s.prototype.bitLength=function(){var p=this.words[this.length-1],g=this._countBits(p);return(this.length-1)*26+g};function D(p){for(var g=new Array(p.bitLength()),b=0;b<g.length;b++){var I=b/26|0,O=b%26;g[b]=p.words[I]>>>O&1}return g}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var p=0,g=0;g<this.length;g++){var b=this._zeroBits(this.words[g]);if(p+=b,b!==26)break}return p},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(p){return this.negative!==0?this.abs().inotn(p).iaddn(1):this.clone()},s.prototype.fromTwos=function(p){return this.testn(p-1)?this.notn(p).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(p){for(;this.length<p.length;)this.words[this.length++]=0;for(var g=0;g<p.length;g++)this.words[g]=this.words[g]|p.words[g];return this._strip()},s.prototype.ior=function(p){return n((this.negative|p.negative)===0),this.iuor(p)},s.prototype.or=function(p){return this.length>p.length?this.clone().ior(p):p.clone().ior(this)},s.prototype.uor=function(p){return this.length>p.length?this.clone().iuor(p):p.clone().iuor(this)},s.prototype.iuand=function(p){var g;this.length>p.length?g=p:g=this;for(var b=0;b<g.length;b++)this.words[b]=this.words[b]&p.words[b];return this.length=g.length,this._strip()},s.prototype.iand=function(p){return n((this.negative|p.negative)===0),this.iuand(p)},s.prototype.and=function(p){return this.length>p.length?this.clone().iand(p):p.clone().iand(this)},s.prototype.uand=function(p){return this.length>p.length?this.clone().iuand(p):p.clone().iuand(this)},s.prototype.iuxor=function(p){var g,b;this.length>p.length?(g=this,b=p):(g=p,b=this);for(var I=0;I<b.length;I++)this.words[I]=g.words[I]^b.words[I];if(this!==g)for(;I<g.length;I++)this.words[I]=g.words[I];return this.length=g.length,this._strip()},s.prototype.ixor=function(p){return n((this.negative|p.negative)===0),this.iuxor(p)},s.prototype.xor=function(p){return this.length>p.length?this.clone().ixor(p):p.clone().ixor(this)},s.prototype.uxor=function(p){return this.length>p.length?this.clone().iuxor(p):p.clone().iuxor(this)},s.prototype.inotn=function(p){n(typeof p=="number"&&p>=0);var g=Math.ceil(p/26)|0,b=p%26;this._expand(g),b>0&&g--;for(var I=0;I<g;I++)this.words[I]=~this.words[I]&67108863;return b>0&&(this.words[I]=~this.words[I]&67108863>>26-b),this._strip()},s.prototype.notn=function(p){return this.clone().inotn(p)},s.prototype.setn=function(p,g){n(typeof p=="number"&&p>=0);var b=p/26|0,I=p%26;return this._expand(b+1),g?this.words[b]=this.words[b]|1<<I:this.words[b]=this.words[b]&~(1<<I),this._strip()},s.prototype.iadd=function(p){var g;if(this.negative!==0&&p.negative===0)return this.negative=0,g=this.isub(p),this.negative^=1,this._normSign();if(this.negative===0&&p.negative!==0)return p.negative=0,g=this.isub(p),p.negative=1,g._normSign();var b,I;this.length>p.length?(b=this,I=p):(b=p,I=this);for(var O=0,N=0;N<I.length;N++)g=(b.words[N]|0)+(I.words[N]|0)+O,this.words[N]=g&67108863,O=g>>>26;for(;O!==0&&N<b.length;N++)g=(b.words[N]|0)+O,this.words[N]=g&67108863,O=g>>>26;if(this.length=b.length,O!==0)this.words[this.length]=O,this.length++;else if(b!==this)for(;N<b.length;N++)this.words[N]=b.words[N];return this},s.prototype.add=function(p){var g;return p.negative!==0&&this.negative===0?(p.negative=0,g=this.sub(p),p.negative^=1,g):p.negative===0&&this.negative!==0?(this.negative=0,g=p.sub(this),this.negative=1,g):this.length>p.length?this.clone().iadd(p):p.clone().iadd(this)},s.prototype.isub=function(p){if(p.negative!==0){p.negative=0;var g=this.iadd(p);return p.negative=1,g._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(p),this.negative=1,this._normSign();var b=this.cmp(p);if(b===0)return this.negative=0,this.length=1,this.words[0]=0,this;var I,O;b>0?(I=this,O=p):(I=p,O=this);for(var N=0,w=0;w<O.length;w++)g=(I.words[w]|0)-(O.words[w]|0)+N,N=g>>26,this.words[w]=g&67108863;for(;N!==0&&w<I.length;w++)g=(I.words[w]|0)+N,N=g>>26,this.words[w]=g&67108863;if(N===0&&w<I.length&&I!==this)for(;w<I.length;w++)this.words[w]=I.words[w];return this.length=Math.max(this.length,w),I!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(p){return this.clone().isub(p)};function k(p,g,b){b.negative=g.negative^p.negative;var I=p.length+g.length|0;b.length=I,I=I-1|0;var O=p.words[0]|0,N=g.words[0]|0,w=O*N,C=w&67108863,T=w/67108864|0;b.words[0]=C;for(var F=1;F<I;F++){for(var ee=T>>>26,fe=T&67108863,B=Math.min(F,g.length-1),ne=Math.max(0,F-p.length+1);ne<=B;ne++){var oe=F-ne|0;O=p.words[oe]|0,N=g.words[ne]|0,w=O*N+fe,ee+=w/67108864|0,fe=w&67108863}b.words[F]=fe|0,T=ee|0}return T!==0?b.words[F]=T|0:b.length--,b._strip()}var Y=function(p,g,b){var I=p.words,O=g.words,N=b.words,w=0,C,T,F,ee=I[0]|0,fe=ee&8191,B=ee>>>13,ne=I[1]|0,oe=ne&8191,de=ne>>>13,q=I[2]|0,G=q&8191,W=q>>>13,te=I[3]|0,re=te&8191,J=te>>>13,ae=I[4]|0,ce=ae&8191,ue=ae>>>13,ye=I[5]|0,ge=ye&8191,ve=ye>>>13,Pe=I[6]|0,Be=Pe&8191,Le=Pe>>>13,lt=I[7]|0,vt=lt&8191,qe=lt>>>13,Ze=I[8]|0,At=Ze&8191,et=Ze>>>13,Ut=I[9]|0,jt=Ut&8191,Xe=Ut>>>13,Pt=O[0]|0,St=Pt&8191,We=Pt>>>13,st=O[1]|0,Qt=st&8191,bt=st>>>13,Zt=O[2]|0,ir=Zt&8191,xt=Zt>>>13,ur=O[3]|0,Mt=ur&8191,dt=ur>>>13,$t=O[4]|0,er=$t&8191,_t=$t>>>13,sr=O[5]|0,fr=sr&8191,tt=sr>>>13,ar=O[6]|0,M=ar&8191,V=ar>>>13,H=O[7]|0,S=H&8191,z=H>>>13,le=O[8]|0,he=le&8191,me=le>>>13,Ae=O[9]|0,Re=Ae&8191,Ne=Ae>>>13;b.negative=p.negative^g.negative,b.length=19,C=Math.imul(fe,St),T=Math.imul(fe,We),T=T+Math.imul(B,St)|0,F=Math.imul(B,We);var Nt=(w+C|0)+((T&8191)<<13)|0;w=(F+(T>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,C=Math.imul(oe,St),T=Math.imul(oe,We),T=T+Math.imul(de,St)|0,F=Math.imul(de,We),C=C+Math.imul(fe,Qt)|0,T=T+Math.imul(fe,bt)|0,T=T+Math.imul(B,Qt)|0,F=F+Math.imul(B,bt)|0;var ke=(w+C|0)+((T&8191)<<13)|0;w=(F+(T>>>13)|0)+(ke>>>26)|0,ke&=67108863,C=Math.imul(G,St),T=Math.imul(G,We),T=T+Math.imul(W,St)|0,F=Math.imul(W,We),C=C+Math.imul(oe,Qt)|0,T=T+Math.imul(oe,bt)|0,T=T+Math.imul(de,Qt)|0,F=F+Math.imul(de,bt)|0,C=C+Math.imul(fe,ir)|0,T=T+Math.imul(fe,xt)|0,T=T+Math.imul(B,ir)|0,F=F+Math.imul(B,xt)|0;var rt=(w+C|0)+((T&8191)<<13)|0;w=(F+(T>>>13)|0)+(rt>>>26)|0,rt&=67108863,C=Math.imul(re,St),T=Math.imul(re,We),T=T+Math.imul(J,St)|0,F=Math.imul(J,We),C=C+Math.imul(G,Qt)|0,T=T+Math.imul(G,bt)|0,T=T+Math.imul(W,Qt)|0,F=F+Math.imul(W,bt)|0,C=C+Math.imul(oe,ir)|0,T=T+Math.imul(oe,xt)|0,T=T+Math.imul(de,ir)|0,F=F+Math.imul(de,xt)|0,C=C+Math.imul(fe,Mt)|0,T=T+Math.imul(fe,dt)|0,T=T+Math.imul(B,Mt)|0,F=F+Math.imul(B,dt)|0;var it=(w+C|0)+((T&8191)<<13)|0;w=(F+(T>>>13)|0)+(it>>>26)|0,it&=67108863,C=Math.imul(ce,St),T=Math.imul(ce,We),T=T+Math.imul(ue,St)|0,F=Math.imul(ue,We),C=C+Math.imul(re,Qt)|0,T=T+Math.imul(re,bt)|0,T=T+Math.imul(J,Qt)|0,F=F+Math.imul(J,bt)|0,C=C+Math.imul(G,ir)|0,T=T+Math.imul(G,xt)|0,T=T+Math.imul(W,ir)|0,F=F+Math.imul(W,xt)|0,C=C+Math.imul(oe,Mt)|0,T=T+Math.imul(oe,dt)|0,T=T+Math.imul(de,Mt)|0,F=F+Math.imul(de,dt)|0,C=C+Math.imul(fe,er)|0,T=T+Math.imul(fe,_t)|0,T=T+Math.imul(B,er)|0,F=F+Math.imul(B,_t)|0;var ft=(w+C|0)+((T&8191)<<13)|0;w=(F+(T>>>13)|0)+(ft>>>26)|0,ft&=67108863,C=Math.imul(ge,St),T=Math.imul(ge,We),T=T+Math.imul(ve,St)|0,F=Math.imul(ve,We),C=C+Math.imul(ce,Qt)|0,T=T+Math.imul(ce,bt)|0,T=T+Math.imul(ue,Qt)|0,F=F+Math.imul(ue,bt)|0,C=C+Math.imul(re,ir)|0,T=T+Math.imul(re,xt)|0,T=T+Math.imul(J,ir)|0,F=F+Math.imul(J,xt)|0,C=C+Math.imul(G,Mt)|0,T=T+Math.imul(G,dt)|0,T=T+Math.imul(W,Mt)|0,F=F+Math.imul(W,dt)|0,C=C+Math.imul(oe,er)|0,T=T+Math.imul(oe,_t)|0,T=T+Math.imul(de,er)|0,F=F+Math.imul(de,_t)|0,C=C+Math.imul(fe,fr)|0,T=T+Math.imul(fe,tt)|0,T=T+Math.imul(B,fr)|0,F=F+Math.imul(B,tt)|0;var ot=(w+C|0)+((T&8191)<<13)|0;w=(F+(T>>>13)|0)+(ot>>>26)|0,ot&=67108863,C=Math.imul(Be,St),T=Math.imul(Be,We),T=T+Math.imul(Le,St)|0,F=Math.imul(Le,We),C=C+Math.imul(ge,Qt)|0,T=T+Math.imul(ge,bt)|0,T=T+Math.imul(ve,Qt)|0,F=F+Math.imul(ve,bt)|0,C=C+Math.imul(ce,ir)|0,T=T+Math.imul(ce,xt)|0,T=T+Math.imul(ue,ir)|0,F=F+Math.imul(ue,xt)|0,C=C+Math.imul(re,Mt)|0,T=T+Math.imul(re,dt)|0,T=T+Math.imul(J,Mt)|0,F=F+Math.imul(J,dt)|0,C=C+Math.imul(G,er)|0,T=T+Math.imul(G,_t)|0,T=T+Math.imul(W,er)|0,F=F+Math.imul(W,_t)|0,C=C+Math.imul(oe,fr)|0,T=T+Math.imul(oe,tt)|0,T=T+Math.imul(de,fr)|0,F=F+Math.imul(de,tt)|0,C=C+Math.imul(fe,M)|0,T=T+Math.imul(fe,V)|0,T=T+Math.imul(B,M)|0,F=F+Math.imul(B,V)|0;var ht=(w+C|0)+((T&8191)<<13)|0;w=(F+(T>>>13)|0)+(ht>>>26)|0,ht&=67108863,C=Math.imul(vt,St),T=Math.imul(vt,We),T=T+Math.imul(qe,St)|0,F=Math.imul(qe,We),C=C+Math.imul(Be,Qt)|0,T=T+Math.imul(Be,bt)|0,T=T+Math.imul(Le,Qt)|0,F=F+Math.imul(Le,bt)|0,C=C+Math.imul(ge,ir)|0,T=T+Math.imul(ge,xt)|0,T=T+Math.imul(ve,ir)|0,F=F+Math.imul(ve,xt)|0,C=C+Math.imul(ce,Mt)|0,T=T+Math.imul(ce,dt)|0,T=T+Math.imul(ue,Mt)|0,F=F+Math.imul(ue,dt)|0,C=C+Math.imul(re,er)|0,T=T+Math.imul(re,_t)|0,T=T+Math.imul(J,er)|0,F=F+Math.imul(J,_t)|0,C=C+Math.imul(G,fr)|0,T=T+Math.imul(G,tt)|0,T=T+Math.imul(W,fr)|0,F=F+Math.imul(W,tt)|0,C=C+Math.imul(oe,M)|0,T=T+Math.imul(oe,V)|0,T=T+Math.imul(de,M)|0,F=F+Math.imul(de,V)|0,C=C+Math.imul(fe,S)|0,T=T+Math.imul(fe,z)|0,T=T+Math.imul(B,S)|0,F=F+Math.imul(B,z)|0;var mt=(w+C|0)+((T&8191)<<13)|0;w=(F+(T>>>13)|0)+(mt>>>26)|0,mt&=67108863,C=Math.imul(At,St),T=Math.imul(At,We),T=T+Math.imul(et,St)|0,F=Math.imul(et,We),C=C+Math.imul(vt,Qt)|0,T=T+Math.imul(vt,bt)|0,T=T+Math.imul(qe,Qt)|0,F=F+Math.imul(qe,bt)|0,C=C+Math.imul(Be,ir)|0,T=T+Math.imul(Be,xt)|0,T=T+Math.imul(Le,ir)|0,F=F+Math.imul(Le,xt)|0,C=C+Math.imul(ge,Mt)|0,T=T+Math.imul(ge,dt)|0,T=T+Math.imul(ve,Mt)|0,F=F+Math.imul(ve,dt)|0,C=C+Math.imul(ce,er)|0,T=T+Math.imul(ce,_t)|0,T=T+Math.imul(ue,er)|0,F=F+Math.imul(ue,_t)|0,C=C+Math.imul(re,fr)|0,T=T+Math.imul(re,tt)|0,T=T+Math.imul(J,fr)|0,F=F+Math.imul(J,tt)|0,C=C+Math.imul(G,M)|0,T=T+Math.imul(G,V)|0,T=T+Math.imul(W,M)|0,F=F+Math.imul(W,V)|0,C=C+Math.imul(oe,S)|0,T=T+Math.imul(oe,z)|0,T=T+Math.imul(de,S)|0,F=F+Math.imul(de,z)|0,C=C+Math.imul(fe,he)|0,T=T+Math.imul(fe,me)|0,T=T+Math.imul(B,he)|0,F=F+Math.imul(B,me)|0;var pt=(w+C|0)+((T&8191)<<13)|0;w=(F+(T>>>13)|0)+(pt>>>26)|0,pt&=67108863,C=Math.imul(jt,St),T=Math.imul(jt,We),T=T+Math.imul(Xe,St)|0,F=Math.imul(Xe,We),C=C+Math.imul(At,Qt)|0,T=T+Math.imul(At,bt)|0,T=T+Math.imul(et,Qt)|0,F=F+Math.imul(et,bt)|0,C=C+Math.imul(vt,ir)|0,T=T+Math.imul(vt,xt)|0,T=T+Math.imul(qe,ir)|0,F=F+Math.imul(qe,xt)|0,C=C+Math.imul(Be,Mt)|0,T=T+Math.imul(Be,dt)|0,T=T+Math.imul(Le,Mt)|0,F=F+Math.imul(Le,dt)|0,C=C+Math.imul(ge,er)|0,T=T+Math.imul(ge,_t)|0,T=T+Math.imul(ve,er)|0,F=F+Math.imul(ve,_t)|0,C=C+Math.imul(ce,fr)|0,T=T+Math.imul(ce,tt)|0,T=T+Math.imul(ue,fr)|0,F=F+Math.imul(ue,tt)|0,C=C+Math.imul(re,M)|0,T=T+Math.imul(re,V)|0,T=T+Math.imul(J,M)|0,F=F+Math.imul(J,V)|0,C=C+Math.imul(G,S)|0,T=T+Math.imul(G,z)|0,T=T+Math.imul(W,S)|0,F=F+Math.imul(W,z)|0,C=C+Math.imul(oe,he)|0,T=T+Math.imul(oe,me)|0,T=T+Math.imul(de,he)|0,F=F+Math.imul(de,me)|0,C=C+Math.imul(fe,Re)|0,T=T+Math.imul(fe,Ne)|0,T=T+Math.imul(B,Re)|0,F=F+Math.imul(B,Ne)|0;var Ge=(w+C|0)+((T&8191)<<13)|0;w=(F+(T>>>13)|0)+(Ge>>>26)|0,Ge&=67108863,C=Math.imul(jt,Qt),T=Math.imul(jt,bt),T=T+Math.imul(Xe,Qt)|0,F=Math.imul(Xe,bt),C=C+Math.imul(At,ir)|0,T=T+Math.imul(At,xt)|0,T=T+Math.imul(et,ir)|0,F=F+Math.imul(et,xt)|0,C=C+Math.imul(vt,Mt)|0,T=T+Math.imul(vt,dt)|0,T=T+Math.imul(qe,Mt)|0,F=F+Math.imul(qe,dt)|0,C=C+Math.imul(Be,er)|0,T=T+Math.imul(Be,_t)|0,T=T+Math.imul(Le,er)|0,F=F+Math.imul(Le,_t)|0,C=C+Math.imul(ge,fr)|0,T=T+Math.imul(ge,tt)|0,T=T+Math.imul(ve,fr)|0,F=F+Math.imul(ve,tt)|0,C=C+Math.imul(ce,M)|0,T=T+Math.imul(ce,V)|0,T=T+Math.imul(ue,M)|0,F=F+Math.imul(ue,V)|0,C=C+Math.imul(re,S)|0,T=T+Math.imul(re,z)|0,T=T+Math.imul(J,S)|0,F=F+Math.imul(J,z)|0,C=C+Math.imul(G,he)|0,T=T+Math.imul(G,me)|0,T=T+Math.imul(W,he)|0,F=F+Math.imul(W,me)|0,C=C+Math.imul(oe,Re)|0,T=T+Math.imul(oe,Ne)|0,T=T+Math.imul(de,Re)|0,F=F+Math.imul(de,Ne)|0;var $e=(w+C|0)+((T&8191)<<13)|0;w=(F+(T>>>13)|0)+($e>>>26)|0,$e&=67108863,C=Math.imul(jt,ir),T=Math.imul(jt,xt),T=T+Math.imul(Xe,ir)|0,F=Math.imul(Xe,xt),C=C+Math.imul(At,Mt)|0,T=T+Math.imul(At,dt)|0,T=T+Math.imul(et,Mt)|0,F=F+Math.imul(et,dt)|0,C=C+Math.imul(vt,er)|0,T=T+Math.imul(vt,_t)|0,T=T+Math.imul(qe,er)|0,F=F+Math.imul(qe,_t)|0,C=C+Math.imul(Be,fr)|0,T=T+Math.imul(Be,tt)|0,T=T+Math.imul(Le,fr)|0,F=F+Math.imul(Le,tt)|0,C=C+Math.imul(ge,M)|0,T=T+Math.imul(ge,V)|0,T=T+Math.imul(ve,M)|0,F=F+Math.imul(ve,V)|0,C=C+Math.imul(ce,S)|0,T=T+Math.imul(ce,z)|0,T=T+Math.imul(ue,S)|0,F=F+Math.imul(ue,z)|0,C=C+Math.imul(re,he)|0,T=T+Math.imul(re,me)|0,T=T+Math.imul(J,he)|0,F=F+Math.imul(J,me)|0,C=C+Math.imul(G,Re)|0,T=T+Math.imul(G,Ne)|0,T=T+Math.imul(W,Re)|0,F=F+Math.imul(W,Ne)|0;var Ve=(w+C|0)+((T&8191)<<13)|0;w=(F+(T>>>13)|0)+(Ve>>>26)|0,Ve&=67108863,C=Math.imul(jt,Mt),T=Math.imul(jt,dt),T=T+Math.imul(Xe,Mt)|0,F=Math.imul(Xe,dt),C=C+Math.imul(At,er)|0,T=T+Math.imul(At,_t)|0,T=T+Math.imul(et,er)|0,F=F+Math.imul(et,_t)|0,C=C+Math.imul(vt,fr)|0,T=T+Math.imul(vt,tt)|0,T=T+Math.imul(qe,fr)|0,F=F+Math.imul(qe,tt)|0,C=C+Math.imul(Be,M)|0,T=T+Math.imul(Be,V)|0,T=T+Math.imul(Le,M)|0,F=F+Math.imul(Le,V)|0,C=C+Math.imul(ge,S)|0,T=T+Math.imul(ge,z)|0,T=T+Math.imul(ve,S)|0,F=F+Math.imul(ve,z)|0,C=C+Math.imul(ce,he)|0,T=T+Math.imul(ce,me)|0,T=T+Math.imul(ue,he)|0,F=F+Math.imul(ue,me)|0,C=C+Math.imul(re,Re)|0,T=T+Math.imul(re,Ne)|0,T=T+Math.imul(J,Re)|0,F=F+Math.imul(J,Ne)|0;var ze=(w+C|0)+((T&8191)<<13)|0;w=(F+(T>>>13)|0)+(ze>>>26)|0,ze&=67108863,C=Math.imul(jt,er),T=Math.imul(jt,_t),T=T+Math.imul(Xe,er)|0,F=Math.imul(Xe,_t),C=C+Math.imul(At,fr)|0,T=T+Math.imul(At,tt)|0,T=T+Math.imul(et,fr)|0,F=F+Math.imul(et,tt)|0,C=C+Math.imul(vt,M)|0,T=T+Math.imul(vt,V)|0,T=T+Math.imul(qe,M)|0,F=F+Math.imul(qe,V)|0,C=C+Math.imul(Be,S)|0,T=T+Math.imul(Be,z)|0,T=T+Math.imul(Le,S)|0,F=F+Math.imul(Le,z)|0,C=C+Math.imul(ge,he)|0,T=T+Math.imul(ge,me)|0,T=T+Math.imul(ve,he)|0,F=F+Math.imul(ve,me)|0,C=C+Math.imul(ce,Re)|0,T=T+Math.imul(ce,Ne)|0,T=T+Math.imul(ue,Re)|0,F=F+Math.imul(ue,Ne)|0;var Ke=(w+C|0)+((T&8191)<<13)|0;w=(F+(T>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,C=Math.imul(jt,fr),T=Math.imul(jt,tt),T=T+Math.imul(Xe,fr)|0,F=Math.imul(Xe,tt),C=C+Math.imul(At,M)|0,T=T+Math.imul(At,V)|0,T=T+Math.imul(et,M)|0,F=F+Math.imul(et,V)|0,C=C+Math.imul(vt,S)|0,T=T+Math.imul(vt,z)|0,T=T+Math.imul(qe,S)|0,F=F+Math.imul(qe,z)|0,C=C+Math.imul(Be,he)|0,T=T+Math.imul(Be,me)|0,T=T+Math.imul(Le,he)|0,F=F+Math.imul(Le,me)|0,C=C+Math.imul(ge,Re)|0,T=T+Math.imul(ge,Ne)|0,T=T+Math.imul(ve,Re)|0,F=F+Math.imul(ve,Ne)|0;var Ue=(w+C|0)+((T&8191)<<13)|0;w=(F+(T>>>13)|0)+(Ue>>>26)|0,Ue&=67108863,C=Math.imul(jt,M),T=Math.imul(jt,V),T=T+Math.imul(Xe,M)|0,F=Math.imul(Xe,V),C=C+Math.imul(At,S)|0,T=T+Math.imul(At,z)|0,T=T+Math.imul(et,S)|0,F=F+Math.imul(et,z)|0,C=C+Math.imul(vt,he)|0,T=T+Math.imul(vt,me)|0,T=T+Math.imul(qe,he)|0,F=F+Math.imul(qe,me)|0,C=C+Math.imul(Be,Re)|0,T=T+Math.imul(Be,Ne)|0,T=T+Math.imul(Le,Re)|0,F=F+Math.imul(Le,Ne)|0;var we=(w+C|0)+((T&8191)<<13)|0;w=(F+(T>>>13)|0)+(we>>>26)|0,we&=67108863,C=Math.imul(jt,S),T=Math.imul(jt,z),T=T+Math.imul(Xe,S)|0,F=Math.imul(Xe,z),C=C+Math.imul(At,he)|0,T=T+Math.imul(At,me)|0,T=T+Math.imul(et,he)|0,F=F+Math.imul(et,me)|0,C=C+Math.imul(vt,Re)|0,T=T+Math.imul(vt,Ne)|0,T=T+Math.imul(qe,Re)|0,F=F+Math.imul(qe,Ne)|0;var _e=(w+C|0)+((T&8191)<<13)|0;w=(F+(T>>>13)|0)+(_e>>>26)|0,_e&=67108863,C=Math.imul(jt,he),T=Math.imul(jt,me),T=T+Math.imul(Xe,he)|0,F=Math.imul(Xe,me),C=C+Math.imul(At,Re)|0,T=T+Math.imul(At,Ne)|0,T=T+Math.imul(et,Re)|0,F=F+Math.imul(et,Ne)|0;var Oe=(w+C|0)+((T&8191)<<13)|0;w=(F+(T>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,C=Math.imul(jt,Re),T=Math.imul(jt,Ne),T=T+Math.imul(Xe,Re)|0,F=Math.imul(Xe,Ne);var Te=(w+C|0)+((T&8191)<<13)|0;return w=(F+(T>>>13)|0)+(Te>>>26)|0,Te&=67108863,N[0]=Nt,N[1]=ke,N[2]=rt,N[3]=it,N[4]=ft,N[5]=ot,N[6]=ht,N[7]=mt,N[8]=pt,N[9]=Ge,N[10]=$e,N[11]=Ve,N[12]=ze,N[13]=Ke,N[14]=Ue,N[15]=we,N[16]=_e,N[17]=Oe,N[18]=Te,w!==0&&(N[19]=w,b.length++),b};Math.imul||(Y=k);function X(p,g,b){b.negative=g.negative^p.negative,b.length=p.length+g.length;for(var I=0,O=0,N=0;N<b.length-1;N++){var w=O;O=0;for(var C=I&67108863,T=Math.min(N,g.length-1),F=Math.max(0,N-p.length+1);F<=T;F++){var ee=N-F,fe=p.words[ee]|0,B=g.words[F]|0,ne=fe*B,oe=ne&67108863;w=w+(ne/67108864|0)|0,oe=oe+C|0,C=oe&67108863,w=w+(oe>>>26)|0,O+=w>>>26,w&=67108863}b.words[N]=C,I=w,w=O}return I!==0?b.words[N]=I:b.length--,b._strip()}function Z(p,g,b){return X(p,g,b)}s.prototype.mulTo=function(p,g){var b,I=this.length+p.length;return this.length===10&&p.length===10?b=Y(this,p,g):I<63?b=k(this,p,g):I<1024?b=X(this,p,g):b=Z(this,p,g),b},s.prototype.mul=function(p){var g=new s(null);return g.words=new Array(this.length+p.length),this.mulTo(p,g)},s.prototype.mulf=function(p){var g=new s(null);return g.words=new Array(this.length+p.length),Z(this,p,g)},s.prototype.imul=function(p){return this.clone().mulTo(p,this)},s.prototype.imuln=function(p){var g=p<0;g&&(p=-p),n(typeof p=="number"),n(p<67108864);for(var b=0,I=0;I<this.length;I++){var O=(this.words[I]|0)*p,N=(O&67108863)+(b&67108863);b>>=26,b+=O/67108864|0,b+=N>>>26,this.words[I]=N&67108863}return b!==0&&(this.words[I]=b,this.length++),g?this.ineg():this},s.prototype.muln=function(p){return this.clone().imuln(p)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(p){var g=D(p);if(g.length===0)return new s(1);for(var b=this,I=0;I<g.length&&g[I]===0;I++,b=b.sqr());if(++I<g.length)for(var O=b.sqr();I<g.length;I++,O=O.sqr())g[I]!==0&&(b=b.mul(O));return b},s.prototype.iushln=function(p){n(typeof p=="number"&&p>=0);var g=p%26,b=(p-g)/26,I=67108863>>>26-g<<26-g,O;if(g!==0){var N=0;for(O=0;O<this.length;O++){var w=this.words[O]&I,C=(this.words[O]|0)-w<<g;this.words[O]=C|N,N=w>>>26-g}N&&(this.words[O]=N,this.length++)}if(b!==0){for(O=this.length-1;O>=0;O--)this.words[O+b]=this.words[O];for(O=0;O<b;O++)this.words[O]=0;this.length+=b}return this._strip()},s.prototype.ishln=function(p){return n(this.negative===0),this.iushln(p)},s.prototype.iushrn=function(p,g,b){n(typeof p=="number"&&p>=0);var I;g?I=(g-g%26)/26:I=0;var O=p%26,N=Math.min((p-O)/26,this.length),w=67108863^67108863>>>O<<O,C=b;if(I-=N,I=Math.max(0,I),C){for(var T=0;T<N;T++)C.words[T]=this.words[T];C.length=N}if(N!==0)if(this.length>N)for(this.length-=N,T=0;T<this.length;T++)this.words[T]=this.words[T+N];else this.words[0]=0,this.length=1;var F=0;for(T=this.length-1;T>=0&&(F!==0||T>=I);T--){var ee=this.words[T]|0;this.words[T]=F<<26-O|ee>>>O,F=ee&w}return C&&F!==0&&(C.words[C.length++]=F),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(p,g,b){return n(this.negative===0),this.iushrn(p,g,b)},s.prototype.shln=function(p){return this.clone().ishln(p)},s.prototype.ushln=function(p){return this.clone().iushln(p)},s.prototype.shrn=function(p){return this.clone().ishrn(p)},s.prototype.ushrn=function(p){return this.clone().iushrn(p)},s.prototype.testn=function(p){n(typeof p=="number"&&p>=0);var g=p%26,b=(p-g)/26,I=1<<g;if(this.length<=b)return!1;var O=this.words[b];return!!(O&I)},s.prototype.imaskn=function(p){n(typeof p=="number"&&p>=0);var g=p%26,b=(p-g)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=b)return this;if(g!==0&&b++,this.length=Math.min(b,this.length),g!==0){var I=67108863^67108863>>>g<<g;this.words[this.length-1]&=I}return this._strip()},s.prototype.maskn=function(p){return this.clone().imaskn(p)},s.prototype.iaddn=function(p){return n(typeof p=="number"),n(p<67108864),p<0?this.isubn(-p):this.negative!==0?this.length===1&&(this.words[0]|0)<=p?(this.words[0]=p-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(p),this.negative=1,this):this._iaddn(p)},s.prototype._iaddn=function(p){this.words[0]+=p;for(var g=0;g<this.length&&this.words[g]>=67108864;g++)this.words[g]-=67108864,g===this.length-1?this.words[g+1]=1:this.words[g+1]++;return this.length=Math.max(this.length,g+1),this},s.prototype.isubn=function(p){if(n(typeof p=="number"),n(p<67108864),p<0)return this.iaddn(-p);if(this.negative!==0)return this.negative=0,this.iaddn(p),this.negative=1,this;if(this.words[0]-=p,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var g=0;g<this.length&&this.words[g]<0;g++)this.words[g]+=67108864,this.words[g+1]-=1;return this._strip()},s.prototype.addn=function(p){return this.clone().iaddn(p)},s.prototype.subn=function(p){return this.clone().isubn(p)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(p,g,b){var I=p.length+b,O;this._expand(I);var N,w=0;for(O=0;O<p.length;O++){N=(this.words[O+b]|0)+w;var C=(p.words[O]|0)*g;N-=C&67108863,w=(N>>26)-(C/67108864|0),this.words[O+b]=N&67108863}for(;O<this.length-b;O++)N=(this.words[O+b]|0)+w,w=N>>26,this.words[O+b]=N&67108863;if(w===0)return this._strip();for(n(w===-1),w=0,O=0;O<this.length;O++)N=-(this.words[O]|0)+w,w=N>>26,this.words[O]=N&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(p,g){var b=this.length-p.length,I=this.clone(),O=p,N=O.words[O.length-1]|0,w=this._countBits(N);b=26-w,b!==0&&(O=O.ushln(b),I.iushln(b),N=O.words[O.length-1]|0);var C=I.length-O.length,T;if(g!=="mod"){T=new s(null),T.length=C+1,T.words=new Array(T.length);for(var F=0;F<T.length;F++)T.words[F]=0}var ee=I.clone()._ishlnsubmul(O,1,C);ee.negative===0&&(I=ee,T&&(T.words[C]=1));for(var fe=C-1;fe>=0;fe--){var B=(I.words[O.length+fe]|0)*67108864+(I.words[O.length+fe-1]|0);for(B=Math.min(B/N|0,67108863),I._ishlnsubmul(O,B,fe);I.negative!==0;)B--,I.negative=0,I._ishlnsubmul(O,1,fe),I.isZero()||(I.negative^=1);T&&(T.words[fe]=B)}return T&&T._strip(),I._strip(),g!=="div"&&b!==0&&I.iushrn(b),{div:T||null,mod:I}},s.prototype.divmod=function(p,g,b){if(n(!p.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var I,O,N;return this.negative!==0&&p.negative===0?(N=this.neg().divmod(p,g),g!=="mod"&&(I=N.div.neg()),g!=="div"&&(O=N.mod.neg(),b&&O.negative!==0&&O.iadd(p)),{div:I,mod:O}):this.negative===0&&p.negative!==0?(N=this.divmod(p.neg(),g),g!=="mod"&&(I=N.div.neg()),{div:I,mod:N.mod}):this.negative&p.negative?(N=this.neg().divmod(p.neg(),g),g!=="div"&&(O=N.mod.neg(),b&&O.negative!==0&&O.isub(p)),{div:N.div,mod:O}):p.length>this.length||this.cmp(p)<0?{div:new s(0),mod:this}:p.length===1?g==="div"?{div:this.divn(p.words[0]),mod:null}:g==="mod"?{div:null,mod:new s(this.modrn(p.words[0]))}:{div:this.divn(p.words[0]),mod:new s(this.modrn(p.words[0]))}:this._wordDiv(p,g)},s.prototype.div=function(p){return this.divmod(p,"div",!1).div},s.prototype.mod=function(p){return this.divmod(p,"mod",!1).mod},s.prototype.umod=function(p){return this.divmod(p,"mod",!0).mod},s.prototype.divRound=function(p){var g=this.divmod(p);if(g.mod.isZero())return g.div;var b=g.div.negative!==0?g.mod.isub(p):g.mod,I=p.ushrn(1),O=p.andln(1),N=b.cmp(I);return N<0||O===1&&N===0?g.div:g.div.negative!==0?g.div.isubn(1):g.div.iaddn(1)},s.prototype.modrn=function(p){var g=p<0;g&&(p=-p),n(p<=67108863);for(var b=(1<<26)%p,I=0,O=this.length-1;O>=0;O--)I=(b*I+(this.words[O]|0))%p;return g?-I:I},s.prototype.modn=function(p){return this.modrn(p)},s.prototype.idivn=function(p){var g=p<0;g&&(p=-p),n(p<=67108863);for(var b=0,I=this.length-1;I>=0;I--){var O=(this.words[I]|0)+b*67108864;this.words[I]=O/p|0,b=O%p}return this._strip(),g?this.ineg():this},s.prototype.divn=function(p){return this.clone().idivn(p)},s.prototype.egcd=function(p){n(p.negative===0),n(!p.isZero());var g=this,b=p.clone();g.negative!==0?g=g.umod(p):g=g.clone();for(var I=new s(1),O=new s(0),N=new s(0),w=new s(1),C=0;g.isEven()&&b.isEven();)g.iushrn(1),b.iushrn(1),++C;for(var T=b.clone(),F=g.clone();!g.isZero();){for(var ee=0,fe=1;!(g.words[0]&fe)&&ee<26;++ee,fe<<=1);if(ee>0)for(g.iushrn(ee);ee-- >0;)(I.isOdd()||O.isOdd())&&(I.iadd(T),O.isub(F)),I.iushrn(1),O.iushrn(1);for(var B=0,ne=1;!(b.words[0]&ne)&&B<26;++B,ne<<=1);if(B>0)for(b.iushrn(B);B-- >0;)(N.isOdd()||w.isOdd())&&(N.iadd(T),w.isub(F)),N.iushrn(1),w.iushrn(1);g.cmp(b)>=0?(g.isub(b),I.isub(N),O.isub(w)):(b.isub(g),N.isub(I),w.isub(O))}return{a:N,b:w,gcd:b.iushln(C)}},s.prototype._invmp=function(p){n(p.negative===0),n(!p.isZero());var g=this,b=p.clone();g.negative!==0?g=g.umod(p):g=g.clone();for(var I=new s(1),O=new s(0),N=b.clone();g.cmpn(1)>0&&b.cmpn(1)>0;){for(var w=0,C=1;!(g.words[0]&C)&&w<26;++w,C<<=1);if(w>0)for(g.iushrn(w);w-- >0;)I.isOdd()&&I.iadd(N),I.iushrn(1);for(var T=0,F=1;!(b.words[0]&F)&&T<26;++T,F<<=1);if(T>0)for(b.iushrn(T);T-- >0;)O.isOdd()&&O.iadd(N),O.iushrn(1);g.cmp(b)>=0?(g.isub(b),I.isub(O)):(b.isub(g),O.isub(I))}var ee;return g.cmpn(1)===0?ee=I:ee=O,ee.cmpn(0)<0&&ee.iadd(p),ee},s.prototype.gcd=function(p){if(this.isZero())return p.abs();if(p.isZero())return this.abs();var g=this.clone(),b=p.clone();g.negative=0,b.negative=0;for(var I=0;g.isEven()&&b.isEven();I++)g.iushrn(1),b.iushrn(1);do{for(;g.isEven();)g.iushrn(1);for(;b.isEven();)b.iushrn(1);var O=g.cmp(b);if(O<0){var N=g;g=b,b=N}else if(O===0||b.cmpn(1)===0)break;g.isub(b)}while(!0);return b.iushln(I)},s.prototype.invm=function(p){return this.egcd(p).a.umod(p)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(p){return this.words[0]&p},s.prototype.bincn=function(p){n(typeof p=="number");var g=p%26,b=(p-g)/26,I=1<<g;if(this.length<=b)return this._expand(b+1),this.words[b]|=I,this;for(var O=I,N=b;O!==0&&N<this.length;N++){var w=this.words[N]|0;w+=O,O=w>>>26,w&=67108863,this.words[N]=w}return O!==0&&(this.words[N]=O,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(p){var g=p<0;if(this.negative!==0&&!g)return-1;if(this.negative===0&&g)return 1;this._strip();var b;if(this.length>1)b=1;else{g&&(p=-p),n(p<=67108863,"Number is too big");var I=this.words[0]|0;b=I===p?0:I<p?-1:1}return this.negative!==0?-b|0:b},s.prototype.cmp=function(p){if(this.negative!==0&&p.negative===0)return-1;if(this.negative===0&&p.negative!==0)return 1;var g=this.ucmp(p);return this.negative!==0?-g|0:g},s.prototype.ucmp=function(p){if(this.length>p.length)return 1;if(this.length<p.length)return-1;for(var g=0,b=this.length-1;b>=0;b--){var I=this.words[b]|0,O=p.words[b]|0;if(I!==O){I<O?g=-1:I>O&&(g=1);break}}return g},s.prototype.gtn=function(p){return this.cmpn(p)===1},s.prototype.gt=function(p){return this.cmp(p)===1},s.prototype.gten=function(p){return this.cmpn(p)>=0},s.prototype.gte=function(p){return this.cmp(p)>=0},s.prototype.ltn=function(p){return this.cmpn(p)===-1},s.prototype.lt=function(p){return this.cmp(p)===-1},s.prototype.lten=function(p){return this.cmpn(p)<=0},s.prototype.lte=function(p){return this.cmp(p)<=0},s.prototype.eqn=function(p){return this.cmpn(p)===0},s.prototype.eq=function(p){return this.cmp(p)===0},s.red=function(p){return new v(p)},s.prototype.toRed=function(p){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),p.convertTo(this)._forceRed(p)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(p){return this.red=p,this},s.prototype.forceRed=function(p){return n(!this.red,"Already a number in reduction context"),this._forceRed(p)},s.prototype.redAdd=function(p){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,p)},s.prototype.redIAdd=function(p){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,p)},s.prototype.redSub=function(p){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,p)},s.prototype.redISub=function(p){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,p)},s.prototype.redShl=function(p){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,p)},s.prototype.redMul=function(p){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,p),this.red.mul(this,p)},s.prototype.redIMul=function(p){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,p),this.red.imul(this,p)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(p){return n(this.red&&!p.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,p)};var U={k256:null,p224:null,p192:null,p25519:null};function Q(p,g){this.name=p,this.p=new s(g,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Q.prototype._tmp=function(){var p=new s(null);return p.words=new Array(Math.ceil(this.n/13)),p},Q.prototype.ireduce=function(p){var g=p,b;do this.split(g,this.tmp),g=this.imulK(g),g=g.iadd(this.tmp),b=g.bitLength();while(b>this.n);var I=b<this.n?-1:g.ucmp(this.p);return I===0?(g.words[0]=0,g.length=1):I>0?g.isub(this.p):g.strip!==void 0?g.strip():g._strip(),g},Q.prototype.split=function(p,g){p.iushrn(this.n,0,g)},Q.prototype.imulK=function(p){return p.imul(this.k)};function j(){Q.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(j,Q),j.prototype.split=function(p,g){for(var b=4194303,I=Math.min(p.length,9),O=0;O<I;O++)g.words[O]=p.words[O];if(g.length=I,p.length<=9){p.words[0]=0,p.length=1;return}var N=p.words[9];for(g.words[g.length++]=N&b,O=10;O<p.length;O++){var w=p.words[O]|0;p.words[O-10]=(w&b)<<4|N>>>22,N=w}N>>>=22,p.words[O-10]=N,N===0&&p.length>10?p.length-=10:p.length-=9},j.prototype.imulK=function(p){p.words[p.length]=0,p.words[p.length+1]=0,p.length+=2;for(var g=0,b=0;b<p.length;b++){var I=p.words[b]|0;g+=I*977,p.words[b]=g&67108863,g=I*64+(g/67108864|0)}return p.words[p.length-1]===0&&(p.length--,p.words[p.length-1]===0&&p.length--),p};function K(){Q.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(K,Q);function $(){Q.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i($,Q);function L(){Q.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(L,Q),L.prototype.imulK=function(p){for(var g=0,b=0;b<p.length;b++){var I=(p.words[b]|0)*19+g,O=I&67108863;I>>>=26,p.words[b]=O,g=I}return g!==0&&(p.words[p.length++]=g),p},s._prime=function(p){if(U[p])return U[p];var g;if(p==="k256")g=new j;else if(p==="p224")g=new K;else if(p==="p192")g=new $;else if(p==="p25519")g=new L;else throw new Error("Unknown prime "+p);return U[p]=g,g};function v(p){if(typeof p=="string"){var g=s._prime(p);this.m=g.p,this.prime=g}else n(p.gtn(1),"modulus must be greater than 1"),this.m=p,this.prime=null}v.prototype._verify1=function(p){n(p.negative===0,"red works only with positives"),n(p.red,"red works only with red numbers")},v.prototype._verify2=function(p,g){n((p.negative|g.negative)===0,"red works only with positives"),n(p.red&&p.red===g.red,"red works only with red numbers")},v.prototype.imod=function(p){return this.prime?this.prime.ireduce(p)._forceRed(this):(f(p,p.umod(this.m)._forceRed(this)),p)},v.prototype.neg=function(p){return p.isZero()?p.clone():this.m.sub(p)._forceRed(this)},v.prototype.add=function(p,g){this._verify2(p,g);var b=p.add(g);return b.cmp(this.m)>=0&&b.isub(this.m),b._forceRed(this)},v.prototype.iadd=function(p,g){this._verify2(p,g);var b=p.iadd(g);return b.cmp(this.m)>=0&&b.isub(this.m),b},v.prototype.sub=function(p,g){this._verify2(p,g);var b=p.sub(g);return b.cmpn(0)<0&&b.iadd(this.m),b._forceRed(this)},v.prototype.isub=function(p,g){this._verify2(p,g);var b=p.isub(g);return b.cmpn(0)<0&&b.iadd(this.m),b},v.prototype.shl=function(p,g){return this._verify1(p),this.imod(p.ushln(g))},v.prototype.imul=function(p,g){return this._verify2(p,g),this.imod(p.imul(g))},v.prototype.mul=function(p,g){return this._verify2(p,g),this.imod(p.mul(g))},v.prototype.isqr=function(p){return this.imul(p,p.clone())},v.prototype.sqr=function(p){return this.mul(p,p)},v.prototype.sqrt=function(p){if(p.isZero())return p.clone();var g=this.m.andln(3);if(n(g%2===1),g===3){var b=this.m.add(new s(1)).iushrn(2);return this.pow(p,b)}for(var I=this.m.subn(1),O=0;!I.isZero()&&I.andln(1)===0;)O++,I.iushrn(1);n(!I.isZero());var N=new s(1).toRed(this),w=N.redNeg(),C=this.m.subn(1).iushrn(1),T=this.m.bitLength();for(T=new s(2*T*T).toRed(this);this.pow(T,C).cmp(w)!==0;)T.redIAdd(w);for(var F=this.pow(T,I),ee=this.pow(p,I.addn(1).iushrn(1)),fe=this.pow(p,I),B=O;fe.cmp(N)!==0;){for(var ne=fe,oe=0;ne.cmp(N)!==0;oe++)ne=ne.redSqr();n(oe<B);var de=this.pow(F,new s(1).iushln(B-oe-1));ee=ee.redMul(de),F=de.redSqr(),fe=fe.redMul(F),B=oe}return ee},v.prototype.invm=function(p){var g=p._invmp(this.m);return g.negative!==0?(g.negative=0,this.imod(g).redNeg()):this.imod(g)},v.prototype.pow=function(p,g){if(g.isZero())return new s(1).toRed(this);if(g.cmpn(1)===0)return p.clone();var b=4,I=new Array(1<<b);I[0]=new s(1).toRed(this),I[1]=p;for(var O=2;O<I.length;O++)I[O]=this.mul(I[O-1],p);var N=I[0],w=0,C=0,T=g.bitLength()%26;for(T===0&&(T=26),O=g.length-1;O>=0;O--){for(var F=g.words[O],ee=T-1;ee>=0;ee--){var fe=F>>ee&1;if(N!==I[0]&&(N=this.sqr(N)),fe===0&&w===0){C=0;continue}w<<=1,w|=fe,C++,!(C!==b&&(O!==0||ee!==0))&&(N=this.mul(N,I[w]),C=0,w=0)}T=26}return N},v.prototype.convertTo=function(p){var g=p.umod(this.m);return g===p?g.clone():g},v.prototype.convertFrom=function(p){var g=p.clone();return g.red=null,g},s.mont=function(p){return new E(p)};function E(p){v.call(this,p),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(E,v),E.prototype.convertTo=function(p){return this.imod(p.ushln(this.shift))},E.prototype.convertFrom=function(p){var g=this.imod(p.mul(this.rinv));return g.red=null,g},E.prototype.imul=function(p,g){if(p.isZero()||g.isZero())return p.words[0]=0,p.length=1,p;var b=p.imul(g),I=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),O=b.isub(I).iushrn(this.shift),N=O;return O.cmp(this.m)>=0?N=O.isub(this.m):O.cmpn(0)<0&&(N=O.iadd(this.m)),N._forceRed(this)},E.prototype.mul=function(p,g){if(p.isZero()||g.isZero())return new s(0)._forceRed(this);var b=p.mul(g),I=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),O=b.isub(I).iushrn(this.shift),N=O;return O.cmp(this.m)>=0?N=O.isub(this.m):O.cmpn(0)<0&&(N=O.iadd(this.m)),N._forceRed(this)},E.prototype.invm=function(p){var g=this.imod(p._invmp(this.m).mul(this.r2));return g._forceRed(this)}})(t,Hne)})(Kne);var Ht=Kne.exports,Wne="bignumber/5.7.0",XE=Ht.BN,Qc=new fn(Wne),UP={},Jre=9007199254740991;function RPe(t){return t!=null&&(hi.isBigNumber(t)||typeof t=="number"&&t%1===0||typeof t=="string"&&!!t.match(/^-?[0-9]+$/)||Rs(t)||typeof t=="bigint"||Np(t))}var Xre=!1,hi=class t{constructor(e,r){e!==UP&&Qc.throwError("cannot call constructor directly; use BigNumber.from",fn.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return ys(pr(this).fromTwos(e))}toTwos(e){return ys(pr(this).toTwos(e))}abs(){return this._hex[0]==="-"?t.from(this._hex.substring(1)):this}add(e){return ys(pr(this).add(pr(e)))}sub(e){return ys(pr(this).sub(pr(e)))}div(e){return t.from(e).isZero()&&va("division-by-zero","div"),ys(pr(this).div(pr(e)))}mul(e){return ys(pr(this).mul(pr(e)))}mod(e){let r=pr(e);return r.isNeg()&&va("division-by-zero","mod"),ys(pr(this).umod(r))}pow(e){let r=pr(e);return r.isNeg()&&va("negative-power","pow"),ys(pr(this).pow(r))}and(e){let r=pr(e);return(this.isNegative()||r.isNeg())&&va("unbound-bitwise-result","and"),ys(pr(this).and(r))}or(e){let r=pr(e);return(this.isNegative()||r.isNeg())&&va("unbound-bitwise-result","or"),ys(pr(this).or(r))}xor(e){let r=pr(e);return(this.isNegative()||r.isNeg())&&va("unbound-bitwise-result","xor"),ys(pr(this).xor(r))}mask(e){return(this.isNegative()||e<0)&&va("negative-width","mask"),ys(pr(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&va("negative-width","shl"),ys(pr(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&va("negative-width","shr"),ys(pr(this).shrn(e))}eq(e){return pr(this).eq(pr(e))}lt(e){return pr(this).lt(pr(e))}lte(e){return pr(this).lte(pr(e))}gt(e){return pr(this).gt(pr(e))}gte(e){return pr(this).gte(pr(e))}isNegative(){return this._hex[0]==="-"}isZero(){return pr(this).isZero()}toNumber(){try{return pr(this).toNumber()}catch{va("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return Qc.throwError("this platform does not support BigInt",fn.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?Xre||(Xre=!0,Qc.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?Qc.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",fn.errors.UNEXPECTED_ARGUMENT,{}):Qc.throwError("BigNumber.toString does not accept parameters",fn.errors.UNEXPECTED_ARGUMENT,{})),pr(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof t)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new t(UP,bm(e)):e.match(/^-?[0-9]+$/)?new t(UP,bm(new XE(e))):Qc.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&va("underflow","BigNumber.from",e),(e>=Jre||e<=-Jre)&&va("overflow","BigNumber.from",e),t.from(String(e));let r=e;if(typeof r=="bigint")return t.from(r.toString());if(Np(r))return t.from(Hi(r));if(r)if(r.toHexString){let n=r.toHexString();if(typeof n=="string")return t.from(n)}else{let n=r._hex;if(n==null&&r.type==="BigNumber"&&(n=r.hex),typeof n=="string"&&(Rs(n)||n[0]==="-"&&Rs(n.substring(1))))return t.from(n)}return Qc.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}};function bm(t){if(typeof t!="string")return bm(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&Qc.throwArgumentError("invalid hex","value",t),t=bm(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function ys(t){return hi.from(bm(t))}function pr(t){let e=hi.from(t).toHexString();return e[0]==="-"?new XE("-"+e.substring(3),16):new XE(e.substring(2),16)}function va(t,e,r){let n={fault:t,operation:e};return r!=null&&(n.value=r),Qc.throwError(t,fn.errors.NUMERIC_FAULT,n)}function DPe(t){return new XE(t,36).toString(16)}var Gi=new fn(Wne),gm={},Qne=hi.from(0),$ne=hi.from(-1);function Yne(t,e,r,n){let i={fault:e,operation:r};return n!==void 0&&(i.value=n),Gi.throwError(t,fn.errors.NUMERIC_FAULT,i)}var ym="0";for(;ym.length<256;)ym+=ym;function gR(t){if(typeof t!="number")try{t=hi.from(t).toNumber()}catch{}return typeof t=="number"&&t>=0&&t<=256&&!(t%1)?"1"+ym.substring(0,t):Gi.throwArgumentError("invalid decimal size","decimals",t)}function kP(t,e){e==null&&(e=0);let r=gR(e);t=hi.from(t);let n=t.lt(Qne);n&&(t=t.mul($ne));let i=t.mod(r).toString();for(;i.length<r.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];let s=t.div(r).toString();return r.length===1?t=s:t=s+"."+i,n&&(t="-"+t),t}function Wc(t,e){e==null&&(e=0);let r=gR(e);(typeof t!="string"||!t.match(/^-?[0-9.]+$/))&&Gi.throwArgumentError("invalid decimal value","value",t);let n=t.substring(0,1)==="-";n&&(t=t.substring(1)),t==="."&&Gi.throwArgumentError("missing value","value",t);let i=t.split(".");i.length>2&&Gi.throwArgumentError("too many decimal points","value",t);let s=i[0],a=i[1];for(s||(s="0"),a||(a="0");a[a.length-1]==="0";)a=a.substring(0,a.length-1);for(a.length>r.length-1&&Yne("fractional component exceeds decimals","underflow","parseFixed"),a===""&&(a="0");a.length<r.length-1;)a+="0";let o=hi.from(s),c=hi.from(a),u=o.mul(r).add(c);return n&&(u=u.mul($ne)),u}var mm=class t{constructor(e,r,n,i){e!==gm&&Gi.throwError("cannot use FixedFormat constructor; use FixedFormat.from",fn.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=r,this.width=n,this.decimals=i,this.name=(r?"":"u")+"fixed"+String(n)+"x"+String(i),this._multiplier=gR(i),Object.freeze(this)}static from(e){if(e instanceof t)return e;typeof e=="number"&&(e=`fixed128x${e}`);let r=!0,n=128,i=18;if(typeof e=="string"){if(e!=="fixed")if(e==="ufixed")r=!1;else{let s=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);s||Gi.throwArgumentError("invalid fixed format","format",e),r=s[1]!=="u",n=parseInt(s[2]),i=parseInt(s[3])}}else if(e){let s=(a,o,c)=>e[a]==null?c:(typeof e[a]!==o&&Gi.throwArgumentError("invalid fixed format ("+a+" not "+o+")","format."+a,e[a]),e[a]);r=s("signed","boolean",r),n=s("width","number",n),i=s("decimals","number",i)}return n%8&&Gi.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",n),i>80&&Gi.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",i),new t(gm,r,n,i)}},ZE=class t{constructor(e,r,n,i){e!==gm&&Gi.throwError("cannot use FixedNumber constructor; use FixedNumber.from",fn.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=i,this._hex=r,this._value=n,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&Gi.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);let r=Wc(this._value,this.format.decimals),n=Wc(e._value,e.format.decimals);return t.fromValue(r.add(n),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);let r=Wc(this._value,this.format.decimals),n=Wc(e._value,e.format.decimals);return t.fromValue(r.sub(n),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);let r=Wc(this._value,this.format.decimals),n=Wc(e._value,e.format.decimals);return t.fromValue(r.mul(n).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);let r=Wc(this._value,this.format.decimals),n=Wc(e._value,e.format.decimals);return t.fromValue(r.mul(this.format._multiplier).div(n),this.format.decimals,this.format)}floor(){let e=this.toString().split(".");e.length===1&&e.push("0");let r=t.from(e[0],this.format),n=!e[1].match(/^(0*)$/);return this.isNegative()&&n&&(r=r.subUnsafe(Zre.toFormat(r.format))),r}ceiling(){let e=this.toString().split(".");e.length===1&&e.push("0");let r=t.from(e[0],this.format),n=!e[1].match(/^(0*)$/);return!this.isNegative()&&n&&(r=r.addUnsafe(Zre.toFormat(r.format))),r}round(e){e==null&&(e=0);let r=this.toString().split(".");if(r.length===1&&r.push("0"),(e<0||e>80||e%1)&&Gi.throwArgumentError("invalid decimal count","decimals",e),r[1].length<=e)return this;let n=t.from("1"+ym.substring(0,e),this.format),i=MPe.toFormat(this.format);return this.mulUnsafe(n).addUnsafe(i).floor().divUnsafe(n)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(e){if(e==null)return this._hex;e%8&&Gi.throwArgumentError("invalid byte width","width",e);let r=hi.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return ec(r,e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return t.fromString(this._value,e)}static fromValue(e,r,n){return n==null&&r!=null&&!RPe(r)&&(n=r,r=null),r==null&&(r=0),n==null&&(n="fixed"),t.fromString(kP(e,r),mm.from(n))}static fromString(e,r){r==null&&(r="fixed");let n=mm.from(r),i=Wc(e,n.decimals);!n.signed&&i.lt(Qne)&&Yne("unsigned value cannot be negative","overflow","value",e);let s=null;n.signed?s=i.toTwos(n.width).toHexString():(s=i.toHexString(),s=ec(s,n.width/8));let a=kP(i,n.decimals);return new t(gm,s,a,n)}static fromBytes(e,r){r==null&&(r="fixed");let n=mm.from(r);if(wn(e).length>n.width/8)throw new Error("overflow");let i=hi.from(e);n.signed&&(i=i.fromTwos(n.width));let s=i.toTwos((n.signed?0:1)+n.width).toHexString(),a=kP(i,n.decimals);return new t(gm,s,a,n)}static from(e,r){if(typeof e=="string")return t.fromString(e,r);if(Np(e))return t.fromBytes(e,r);try{return t.fromValue(e,0,r)}catch(n){if(n.code!==fn.errors.INVALID_ARGUMENT)throw n}return Gi.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!!(e&&e._isFixedNumber)}},Zre=ZE.from(1),MPe=ZE.from("0.5"),BPe="strings/5.7.0",Jne=new fn(BPe),eA;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(eA||(eA={}));var Sp;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(Sp||(Sp={}));function LPe(t,e,r,n,i){return Jne.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function Xne(t,e,r,n,i){if(t===Sp.BAD_PREFIX||t===Sp.UNEXPECTED_CONTINUE){let s=0;for(let a=e+1;a<r.length&&r[a]>>6===2;a++)s++;return s}return t===Sp.OVERRUN?r.length-e-1:0}function qPe(t,e,r,n,i){return t===Sp.OVERLONG?(n.push(i),0):(n.push(65533),Xne(t,e,r))}Object.freeze({error:LPe,ignore:Xne,replace:qPe});function VP(t,e=eA.current){e!=eA.current&&(Jne.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;let s=t.charCodeAt(n);if(n>=t.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");let a=65536+((i&1023)<<10)+(s&1023);r.push(a>>18|240),r.push(a>>12&63|128),r.push(a>>6&63|128),r.push(a&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return wn(r)}function FPe(t){if(t.length%4!==0)throw new Error("bad data");let e=[];for(let r=0;r<t.length;r+=4)e.push(parseInt(t.substring(r,r+4),16));return e}function HP(t,e){e||(e=function(i){return[parseInt(i,16)]});let r=0,n={};return t.split(",").forEach(i=>{let s=i.split(":");r+=parseInt(s[0],16),n[r]=e(s[1])}),n}function ene(t){let e=0;return t.split(",").map(r=>{let n=r.split("-");n.length===1?n[1]="0":n[1]===""&&(n[1]="1");let i=e+parseInt(n[0],16);return e=parseInt(n[1],16),{l:i,h:e}})}ene("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),"ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map(t=>parseInt(t,16)),HP("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),HP("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),HP("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",FPe),ene("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");var Zne="hash/5.7.0";function UPe(t){t=atob(t);let e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return wn(e)}function eie(t,e){e==null&&(e=1);let r=[],n=r.forEach,i=function(s,a){n.call(s,function(o){a>0&&Array.isArray(o)?i(o,a-1):r.push(o)})};return i(t,e),r}function kPe(t){let e={};for(let r=0;r<t.length;r++){let n=t[r];e[n[0]]=n[1]}return e}function VPe(t){let e=0;function r(){return t[e++]<<8|t[e++]}let n=r(),i=1,s=[0,1];for(let U=1;U<n;U++)s.push(i+=r());let a=r(),o=e;e+=a;let c=0,u=0;function f(){return c==0&&(u=u<<8|t[e++],c=8),u>>--c&1}let d=31,m=Math.pow(2,d),_=m>>>1,x=_>>1,P=m-1,D=0;for(let U=0;U<d;U++)D=D<<1|f();let k=[],Y=0,X=m;for(;;){let U=Math.floor(((D-Y+1)*i-1)/X),Q=0,j=n;for(;j-Q>1;){let L=Q+j>>>1;U<s[L]?j=L:Q=L}if(Q==0)break;k.push(Q);let K=Y+Math.floor(X*s[Q]/i),$=Y+Math.floor(X*s[Q+1]/i)-1;for(;!((K^$)&_);)D=D<<1&P|f(),K=K<<1&P,$=$<<1&P|1;for(;K&~$&x;)D=D&_|D<<1&P>>>1|f(),K=K<<1^_,$=($^_)<<1|_|1;Y=K,X=1+$-K}let Z=n-4;return k.map(U=>{switch(U-Z){case 3:return Z+65792+(t[o++]<<16|t[o++]<<8|t[o++]);case 2:return Z+256+(t[o++]<<8|t[o++]);case 1:return Z+t[o++];default:return U-1}})}function HPe(t){let e=0;return()=>t[e++]}function GPe(t){return HPe(VPe(t))}function jPe(t){return t&1?~t>>1:t>>1}function zPe(t,e){let r=Array(t);for(let n=0;n<t;n++)r[n]=1+e();return r}function tne(t,e){let r=Array(t);for(let n=0,i=-1;n<t;n++)r[n]=i+=1+e();return r}function KPe(t,e){let r=Array(t);for(let n=0,i=0;n<t;n++)r[n]=i+=jPe(e());return r}function tA(t,e){let r=tne(t(),t),n=t(),i=tne(n,t),s=zPe(n,t);for(let a=0;a<n;a++)for(let o=0;o<s[a];o++)r.push(i[a]+o);return e?r.map(a=>e[a]):r}function WPe(t){let e=[];for(;;){let r=t();if(r==0)break;e.push($Pe(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(YPe(r,t))}return kPe(eie(e))}function QPe(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(r)}return e}function tie(t,e,r){let n=Array(t).fill(void 0).map(()=>[]);for(let i=0;i<e;i++)KPe(t,r).forEach((s,a)=>n[a].push(s));return n}function $Pe(t,e){let r=1+e(),n=e(),i=QPe(e),s=tie(i.length,1+t,e);return eie(s.map((a,o)=>{let c=a[0],u=a.slice(1);return Array(i[o]).fill(void 0).map((f,d)=>{let m=d*n;return[c+d*r,u.map(_=>_+m)]})}))}function YPe(t,e){let r=1+e();return tie(r,1+t,e).map(n=>[n[0],n.slice(1)])}function JPe(t){let e=tA(t).sort((n,i)=>n-i);return r();function r(){let n=[];for(;;){let u=tA(t,e);if(u.length==0)break;n.push({set:new Set(u),node:r()})}n.sort((u,f)=>f.set.size-u.set.size);let i=t(),s=i%3;i=i/3|0;let a=!!(i&1);i>>=1;let o=i==1,c=i==2;return{branches:n,valid:s,fe0f:a,save:o,check:c}}}function XPe(){return GPe(UPe("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}var HE=XPe();new Set(tA(HE)),new Set(tA(HE)),WPe(HE),JPe(HE),new fn(Zne);var ZPe=new Uint8Array(32);ZPe.fill(0);var eRe=`Ethereum Signed Message:
`;function rie(t){return typeof t=="string"&&(t=VP(t)),pR(TPe([VP(eRe),VP(String(t.length)),t]))}var tRe="rlp/5.7.0";new fn(tRe);var rRe="address/5.7.0",pm=new fn(rRe);function rne(t){Rs(t,20)||pm.throwArgumentError("invalid address","address",t),t=t.toLowerCase();let e=t.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);let n=wn(pR(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}var nRe=9007199254740991;function iRe(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}var yR={};for(let t=0;t<10;t++)yR[String(t)]=String(t);for(let t=0;t<26;t++)yR[String.fromCharCode(65+t)]=String(10+t);var nne=Math.floor(iRe(nRe));function sRe(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>yR[n]).join("");for(;e.length>=nne;){let n=e.substring(0,nne);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}function aRe(t){let e=null;if(typeof t!="string"&&pm.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=rne(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&pm.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==sRe(t)&&pm.throwArgumentError("bad icap checksum","address",t),e=DPe(t.substring(4));e.length<40;)e="0"+e;e=rne("0x"+e)}else pm.throwArgumentError("invalid address","address",t);return e}var oRe="properties/5.7.0";new fn(oRe);function lm(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}new fn(Zne);var cRe=new Uint8Array(32);cRe.fill(0),hi.from(-1);var uRe=hi.from(0),fRe=hi.from(1);hi.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),ec(fRe.toHexString(),32),ec(uRe.toHexString(),32);var $o={},gr={},Em=nie;function nie(t,e){if(!t)throw new Error(e||"Assertion failed")}nie.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)};var eR={exports:{}};typeof Object.create=="function"?eR.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:eR.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}};var lRe=Em,dRe=eR.exports;gr.inherits=dRe;function hRe(t,e){return(t.charCodeAt(e)&64512)!==55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)===56320}function pRe(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var n=0,i=0;i<t.length;i++){var s=t.charCodeAt(i);s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=s&63|128):hRe(t,i)?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=s&63|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=s&63|128)}else for(i=0;i<t.length;i++)r[i]=t[i]|0;return r}gr.toArray=pRe;function gRe(t){for(var e="",r=0;r<t.length;r++)e+=sie(t[r].toString(16));return e}gr.toHex=gRe;function iie(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}gr.htonl=iie;function yRe(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];e==="little"&&(i=iie(i)),r+=aie(i.toString(16))}return r}gr.toHex32=yRe;function sie(t){return t.length===1?"0"+t:t}gr.zero2=sie;function aie(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}gr.zero8=aie;function mRe(t,e,r,n){var i=r-e;lRe(i%4===0);for(var s=new Array(i/4),a=0,o=e;a<s.length;a++,o+=4){var c;n==="big"?c=t[o]<<24|t[o+1]<<16|t[o+2]<<8|t[o+3]:c=t[o+3]<<24|t[o+2]<<16|t[o+1]<<8|t[o],s[a]=c>>>0}return s}gr.join32=mRe;function vRe(t,e){for(var r=new Array(t.length*4),n=0,i=0;n<t.length;n++,i+=4){var s=t[n];e==="big"?(r[i]=s>>>24,r[i+1]=s>>>16&255,r[i+2]=s>>>8&255,r[i+3]=s&255):(r[i+3]=s>>>24,r[i+2]=s>>>16&255,r[i+1]=s>>>8&255,r[i]=s&255)}return r}gr.split32=vRe;function bRe(t,e){return t>>>e|t<<32-e}gr.rotr32=bRe;function wRe(t,e){return t<<e|t>>>32-e}gr.rotl32=wRe;function _Re(t,e){return t+e>>>0}gr.sum32=_Re;function ERe(t,e,r){return t+e+r>>>0}gr.sum32_3=ERe;function ARe(t,e,r,n){return t+e+r+n>>>0}gr.sum32_4=ARe;function SRe(t,e,r,n,i){return t+e+r+n+i>>>0}gr.sum32_5=SRe;function xRe(t,e,r,n){var i=t[e],s=t[e+1],a=n+s>>>0,o=(a<n?1:0)+r+i;t[e]=o>>>0,t[e+1]=a}gr.sum64=xRe;function TRe(t,e,r,n){var i=e+n>>>0,s=(i<e?1:0)+t+r;return s>>>0}gr.sum64_hi=TRe;function IRe(t,e,r,n){var i=e+n;return i>>>0}gr.sum64_lo=IRe;function CRe(t,e,r,n,i,s,a,o){var c=0,u=e;u=u+n>>>0,c+=u<e?1:0,u=u+s>>>0,c+=u<s?1:0,u=u+o>>>0,c+=u<o?1:0;var f=t+r+i+a+c;return f>>>0}gr.sum64_4_hi=CRe;function NRe(t,e,r,n,i,s,a,o){var c=e+n+s+o;return c>>>0}gr.sum64_4_lo=NRe;function ORe(t,e,r,n,i,s,a,o,c,u){var f=0,d=e;d=d+n>>>0,f+=d<e?1:0,d=d+s>>>0,f+=d<s?1:0,d=d+o>>>0,f+=d<o?1:0,d=d+u>>>0,f+=d<u?1:0;var m=t+r+i+a+c+f;return m>>>0}gr.sum64_5_hi=ORe;function PRe(t,e,r,n,i,s,a,o,c,u){var f=e+n+s+o+u;return f>>>0}gr.sum64_5_lo=PRe;function RRe(t,e,r){var n=e<<32-r|t>>>r;return n>>>0}gr.rotr64_hi=RRe;function DRe(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}gr.rotr64_lo=DRe;function MRe(t,e,r){return t>>>r}gr.shr64_hi=MRe;function BRe(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}gr.shr64_lo=BRe;var Op={},ine=gr,LRe=Em;function GE(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}Op.BlockHash=GE,GE.prototype.update=function(t,e){if(t=ine.toArray(t,e),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){t=this.pending;var r=t.length%this._delta8;this.pending=t.slice(t.length-r,t.length),this.pending.length===0&&(this.pending=null),t=ine.join32(t,0,t.length-r,this.endian);for(var n=0;n<t.length;n+=this._delta32)this._update(t,n,n+this._delta32)}return this},GE.prototype.digest=function(t){return this.update(this._pad()),LRe(this.pending===null),this._digest(t)},GE.prototype._pad=function(){var t=this.pendingTotal,e=this._delta8,r=e-(t+this.padLength)%e,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(t<<=3,this.endian==="big"){for(var s=8;s<this.padLength;s++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=t>>>24&255,n[i++]=t>>>16&255,n[i++]=t>>>8&255,n[i++]=t&255}else for(n[i++]=t&255,n[i++]=t>>>8&255,n[i++]=t>>>16&255,n[i++]=t>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,s=8;s<this.padLength;s++)n[i++]=0;return n};var _p={},sc={},qRe=gr,tc=qRe.rotr32;function FRe(t,e,r,n){if(t===0)return oie(e,r,n);if(t===1||t===3)return uie(e,r,n);if(t===2)return cie(e,r,n)}sc.ft_1=FRe;function oie(t,e,r){return t&e^~t&r}sc.ch32=oie;function cie(t,e,r){return t&e^t&r^e&r}sc.maj32=cie;function uie(t,e,r){return t^e^r}sc.p32=uie;function URe(t){return tc(t,2)^tc(t,13)^tc(t,22)}sc.s0_256=URe;function kRe(t){return tc(t,6)^tc(t,11)^tc(t,25)}sc.s1_256=kRe;function VRe(t){return tc(t,7)^tc(t,18)^t>>>3}sc.g0_256=VRe;function HRe(t){return tc(t,17)^tc(t,19)^t>>>10}sc.g1_256=HRe;var Tp=gr,GRe=Op,jRe=sc,GP=Tp.rotl32,dm=Tp.sum32,zRe=Tp.sum32_5,KRe=jRe.ft_1,fie=GRe.BlockHash,WRe=[1518500249,1859775393,2400959708,3395469782];function Jo(){if(!(this instanceof Jo))return new Jo;fie.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Tp.inherits(Jo,fie);var QRe=Jo;Jo.blockSize=512,Jo.outSize=160,Jo.hmacStrength=80,Jo.padLength=64,Jo.prototype._update=function(t,e){for(var r=this.W,n=0;n<16;n++)r[n]=t[e+n];for(;n<r.length;n++)r[n]=GP(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],s=this.h[1],a=this.h[2],o=this.h[3],c=this.h[4];for(n=0;n<r.length;n++){var u=~~(n/20),f=zRe(GP(i,5),KRe(u,s,a,o),c,r[n],WRe[u]);c=o,o=a,a=GP(s,30),s=i,i=f}this.h[0]=dm(this.h[0],i),this.h[1]=dm(this.h[1],s),this.h[2]=dm(this.h[2],a),this.h[3]=dm(this.h[3],o),this.h[4]=dm(this.h[4],c)},Jo.prototype._digest=function(t){return t==="hex"?Tp.toHex32(this.h,"big"):Tp.split32(this.h,"big")};var Ip=gr,$Re=Op,Pp=sc,YRe=Em,eo=Ip.sum32,JRe=Ip.sum32_4,XRe=Ip.sum32_5,ZRe=Pp.ch32,eDe=Pp.maj32,tDe=Pp.s0_256,rDe=Pp.s1_256,nDe=Pp.g0_256,iDe=Pp.g1_256,lie=$Re.BlockHash,sDe=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Xo(){if(!(this instanceof Xo))return new Xo;lie.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=sDe,this.W=new Array(64)}Ip.inherits(Xo,lie);var die=Xo;Xo.blockSize=512,Xo.outSize=256,Xo.hmacStrength=192,Xo.padLength=64,Xo.prototype._update=function(t,e){for(var r=this.W,n=0;n<16;n++)r[n]=t[e+n];for(;n<r.length;n++)r[n]=JRe(iDe(r[n-2]),r[n-7],nDe(r[n-15]),r[n-16]);var i=this.h[0],s=this.h[1],a=this.h[2],o=this.h[3],c=this.h[4],u=this.h[5],f=this.h[6],d=this.h[7];for(YRe(this.k.length===r.length),n=0;n<r.length;n++){var m=XRe(d,rDe(c),ZRe(c,u,f),this.k[n],r[n]),_=eo(tDe(i),eDe(i,s,a));d=f,f=u,u=c,c=eo(o,m),o=a,a=s,s=i,i=eo(m,_)}this.h[0]=eo(this.h[0],i),this.h[1]=eo(this.h[1],s),this.h[2]=eo(this.h[2],a),this.h[3]=eo(this.h[3],o),this.h[4]=eo(this.h[4],c),this.h[5]=eo(this.h[5],u),this.h[6]=eo(this.h[6],f),this.h[7]=eo(this.h[7],d)},Xo.prototype._digest=function(t){return t==="hex"?Ip.toHex32(this.h,"big"):Ip.split32(this.h,"big")};var tR=gr,hie=die;function $c(){if(!(this instanceof $c))return new $c;hie.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}tR.inherits($c,hie);var aDe=$c;$c.blockSize=512,$c.outSize=224,$c.hmacStrength=192,$c.padLength=64,$c.prototype._digest=function(t){return t==="hex"?tR.toHex32(this.h.slice(0,7),"big"):tR.split32(this.h.slice(0,7),"big")};var ms=gr,oDe=Op,cDe=Em,rc=ms.rotr64_hi,nc=ms.rotr64_lo,pie=ms.shr64_hi,gie=ms.shr64_lo,df=ms.sum64,jP=ms.sum64_hi,zP=ms.sum64_lo,uDe=ms.sum64_4_hi,fDe=ms.sum64_4_lo,lDe=ms.sum64_5_hi,dDe=ms.sum64_5_lo,yie=oDe.BlockHash,hDe=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function ro(){if(!(this instanceof ro))return new ro;yie.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=hDe,this.W=new Array(160)}ms.inherits(ro,yie);var mie=ro;ro.blockSize=1024,ro.outSize=512,ro.hmacStrength=192,ro.padLength=128,ro.prototype._prepareBlock=function(t,e){for(var r=this.W,n=0;n<32;n++)r[n]=t[e+n];for(;n<r.length;n+=2){var i=SDe(r[n-4],r[n-3]),s=xDe(r[n-4],r[n-3]),a=r[n-14],o=r[n-13],c=EDe(r[n-30],r[n-29]),u=ADe(r[n-30],r[n-29]),f=r[n-32],d=r[n-31];r[n]=uDe(i,s,a,o,c,u,f,d),r[n+1]=fDe(i,s,a,o,c,u,f,d)}},ro.prototype._update=function(t,e){this._prepareBlock(t,e);var r=this.W,n=this.h[0],i=this.h[1],s=this.h[2],a=this.h[3],o=this.h[4],c=this.h[5],u=this.h[6],f=this.h[7],d=this.h[8],m=this.h[9],_=this.h[10],x=this.h[11],P=this.h[12],D=this.h[13],k=this.h[14],Y=this.h[15];cDe(this.k.length===r.length);for(var X=0;X<r.length;X+=2){var Z=k,U=Y,Q=wDe(d,m),j=_De(d,m),K=pDe(d,m,_,x,P),$=gDe(d,m,_,x,P,D),L=this.k[X],v=this.k[X+1],E=r[X],p=r[X+1],g=lDe(Z,U,Q,j,K,$,L,v,E,p),b=dDe(Z,U,Q,j,K,$,L,v,E,p);Z=vDe(n,i),U=bDe(n,i),Q=yDe(n,i,s,a,o),j=mDe(n,i,s,a,o,c);var I=jP(Z,U,Q,j),O=zP(Z,U,Q,j);k=P,Y=D,P=_,D=x,_=d,x=m,d=jP(u,f,g,b),m=zP(f,f,g,b),u=o,f=c,o=s,c=a,s=n,a=i,n=jP(g,b,I,O),i=zP(g,b,I,O)}df(this.h,0,n,i),df(this.h,2,s,a),df(this.h,4,o,c),df(this.h,6,u,f),df(this.h,8,d,m),df(this.h,10,_,x),df(this.h,12,P,D),df(this.h,14,k,Y)},ro.prototype._digest=function(t){return t==="hex"?ms.toHex32(this.h,"big"):ms.split32(this.h,"big")};function pDe(t,e,r,n,i){var s=t&r^~t&i;return s<0&&(s+=4294967296),s}function gDe(t,e,r,n,i,s){var a=e&n^~e&s;return a<0&&(a+=4294967296),a}function yDe(t,e,r,n,i){var s=t&r^t&i^r&i;return s<0&&(s+=4294967296),s}function mDe(t,e,r,n,i,s){var a=e&n^e&s^n&s;return a<0&&(a+=4294967296),a}function vDe(t,e){var r=rc(t,e,28),n=rc(e,t,2),i=rc(e,t,7),s=r^n^i;return s<0&&(s+=4294967296),s}function bDe(t,e){var r=nc(t,e,28),n=nc(e,t,2),i=nc(e,t,7),s=r^n^i;return s<0&&(s+=4294967296),s}function wDe(t,e){var r=rc(t,e,14),n=rc(t,e,18),i=rc(e,t,9),s=r^n^i;return s<0&&(s+=4294967296),s}function _De(t,e){var r=nc(t,e,14),n=nc(t,e,18),i=nc(e,t,9),s=r^n^i;return s<0&&(s+=4294967296),s}function EDe(t,e){var r=rc(t,e,1),n=rc(t,e,8),i=pie(t,e,7),s=r^n^i;return s<0&&(s+=4294967296),s}function ADe(t,e){var r=nc(t,e,1),n=nc(t,e,8),i=gie(t,e,7),s=r^n^i;return s<0&&(s+=4294967296),s}function SDe(t,e){var r=rc(t,e,19),n=rc(e,t,29),i=pie(t,e,6),s=r^n^i;return s<0&&(s+=4294967296),s}function xDe(t,e){var r=nc(t,e,19),n=nc(e,t,29),i=gie(t,e,6),s=r^n^i;return s<0&&(s+=4294967296),s}var rR=gr,vie=mie;function Yc(){if(!(this instanceof Yc))return new Yc;vie.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}rR.inherits(Yc,vie);var TDe=Yc;Yc.blockSize=1024,Yc.outSize=384,Yc.hmacStrength=192,Yc.padLength=128,Yc.prototype._digest=function(t){return t==="hex"?rR.toHex32(this.h.slice(0,12),"big"):rR.split32(this.h.slice(0,12),"big")},_p.sha1=QRe,_p.sha224=aDe,_p.sha256=die,_p.sha384=TDe,_p.sha512=mie;var bie={},cd=gr,IDe=Op,jE=cd.rotl32,sne=cd.sum32,hm=cd.sum32_3,ane=cd.sum32_4,wie=IDe.BlockHash;function Yo(){if(!(this instanceof Yo))return new Yo;wie.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}cd.inherits(Yo,wie),bie.ripemd160=Yo,Yo.blockSize=512,Yo.outSize=160,Yo.hmacStrength=192,Yo.padLength=64,Yo.prototype._update=function(t,e){for(var r=this.h[0],n=this.h[1],i=this.h[2],s=this.h[3],a=this.h[4],o=r,c=n,u=i,f=s,d=a,m=0;m<80;m++){var _=sne(jE(ane(r,one(m,n,i,s),t[ODe[m]+e],CDe(m)),RDe[m]),a);r=a,a=s,s=jE(i,10),i=n,n=_,_=sne(jE(ane(o,one(79-m,c,u,f),t[PDe[m]+e],NDe(m)),DDe[m]),d),o=d,d=f,f=jE(u,10),u=c,c=_}_=hm(this.h[1],i,f),this.h[1]=hm(this.h[2],s,d),this.h[2]=hm(this.h[3],a,o),this.h[3]=hm(this.h[4],r,c),this.h[4]=hm(this.h[0],n,u),this.h[0]=_},Yo.prototype._digest=function(t){return t==="hex"?cd.toHex32(this.h,"little"):cd.split32(this.h,"little")};function one(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function CDe(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function NDe(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var ODe=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],PDe=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],RDe=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],DDe=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],MDe=gr,BDe=Em;function xp(t,e,r){if(!(this instanceof xp))return new xp(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(MDe.toArray(e,r))}var LDe=xp;xp.prototype._init=function(t){t.length>this.blockSize&&(t=new this.Hash().update(t).digest()),BDe(t.length<=this.blockSize);for(var e=t.length;e<this.blockSize;e++)t.push(0);for(e=0;e<t.length;e++)t[e]^=54;for(this.inner=new this.Hash().update(t),e=0;e<t.length;e++)t[e]^=106;this.outer=new this.Hash().update(t)},xp.prototype.update=function(t,e){return this.inner.update(t,e),this},xp.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)},function(t){var e=t;e.utils=gr,e.common=Op,e.sha=_p,e.ripemd=bie,e.hmac=LDe,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160}($o);function Rp(t,e,r){return r={path:e,exports:{},require:function(n,i){return qDe(n,i??r.path)}},t(r,r.exports),r.exports}function qDe(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var mR=_ie;function _ie(t,e){if(!t)throw new Error(e||"Assertion failed")}_ie.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)};var no=Rp(function(t,e){var r=e;function n(a,o){if(Array.isArray(a))return a.slice();if(!a)return[];var c=[];if(typeof a!="string"){for(var u=0;u<a.length;u++)c[u]=a[u]|0;return c}if(o==="hex"){a=a.replace(/[^a-z0-9]+/ig,""),a.length%2!==0&&(a="0"+a);for(var u=0;u<a.length;u+=2)c.push(parseInt(a[u]+a[u+1],16))}else for(var u=0;u<a.length;u++){var f=a.charCodeAt(u),d=f>>8,m=f&255;d?c.push(d,m):c.push(m)}return c}r.toArray=n;function i(a){return a.length===1?"0"+a:a}r.zero2=i;function s(a){for(var o="",c=0;c<a.length;c++)o+=i(a[c].toString(16));return o}r.toHex=s,r.encode=function(a,o){return o==="hex"?s(a):a}}),Ds=Rp(function(t,e){var r=e;r.assert=mR,r.toArray=no.toArray,r.zero2=no.zero2,r.toHex=no.toHex,r.encode=no.encode;function n(c,u,f){var d=new Array(Math.max(c.bitLength(),f)+1);d.fill(0);for(var m=1<<u+1,_=c.clone(),x=0;x<d.length;x++){var P,D=_.andln(m-1);_.isOdd()?(D>(m>>1)-1?P=(m>>1)-D:P=D,_.isubn(P)):P=0,d[x]=P,_.iushrn(1)}return d}r.getNAF=n;function i(c,u){var f=[[],[]];c=c.clone(),u=u.clone();for(var d=0,m=0,_;c.cmpn(-d)>0||u.cmpn(-m)>0;){var x=c.andln(3)+d&3,P=u.andln(3)+m&3;x===3&&(x=-1),P===3&&(P=-1);var D;x&1?(_=c.andln(7)+d&7,(_===3||_===5)&&P===2?D=-x:D=x):D=0,f[0].push(D);var k;P&1?(_=u.andln(7)+m&7,(_===3||_===5)&&x===2?k=-P:k=P):k=0,f[1].push(k),2*d===D+1&&(d=1-d),2*m===k+1&&(m=1-m),c.iushrn(1),u.iushrn(1)}return f}r.getJSF=i;function s(c,u,f){var d="_"+u;c.prototype[u]=function(){return this[d]!==void 0?this[d]:this[d]=f.call(this)}}r.cachedProperty=s;function a(c){return typeof c=="string"?r.toArray(c,"hex"):c}r.parseBytes=a;function o(c){return new Ht(c,"hex","le")}r.intFromLE=o}),zE=Ds.getNAF,FDe=Ds.getJSF,rA=Ds.assert;function hf(t,e){this.type=t,this.p=new Ht(e.p,16),this.red=e.prime?Ht.red(e.prime):Ht.mont(this.p),this.zero=new Ht(0).toRed(this.red),this.one=new Ht(1).toRed(this.red),this.two=new Ht(2).toRed(this.red),this.n=e.n&&new Ht(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var hd=hf;hf.prototype.point=function(){throw new Error("Not implemented")},hf.prototype.validate=function(){throw new Error("Not implemented")},hf.prototype._fixedNafMul=function(t,e){rA(t.precomputed);var r=t._getDoubles(),n=zE(e,1,this._bitLength),i=(1<<r.step+1)-(r.step%2===0?2:1);i/=3;var s=[],a,o;for(a=0;a<n.length;a+=r.step){o=0;for(var c=a+r.step-1;c>=a;c--)o=(o<<1)+n[c];s.push(o)}for(var u=this.jpoint(null,null,null),f=this.jpoint(null,null,null),d=i;d>0;d--){for(a=0;a<s.length;a++)o=s[a],o===d?f=f.mixedAdd(r.points[a]):o===-d&&(f=f.mixedAdd(r.points[a].neg()));u=u.add(f)}return u.toP()},hf.prototype._wnafMul=function(t,e){var r=4,n=t._getNAFPoints(r);r=n.wnd;for(var i=n.points,s=zE(e,r,this._bitLength),a=this.jpoint(null,null,null),o=s.length-1;o>=0;o--){for(var c=0;o>=0&&s[o]===0;o--)c++;if(o>=0&&c++,a=a.dblp(c),o<0)break;var u=s[o];rA(u!==0),t.type==="affine"?u>0?a=a.mixedAdd(i[u-1>>1]):a=a.mixedAdd(i[-u-1>>1].neg()):u>0?a=a.add(i[u-1>>1]):a=a.add(i[-u-1>>1].neg())}return t.type==="affine"?a.toP():a},hf.prototype._wnafMulAdd=function(t,e,r,n,i){var s=this._wnafT1,a=this._wnafT2,o=this._wnafT3,c=0,u,f,d;for(u=0;u<n;u++){d=e[u];var m=d._getNAFPoints(t);s[u]=m.wnd,a[u]=m.points}for(u=n-1;u>=1;u-=2){var _=u-1,x=u;if(s[_]!==1||s[x]!==1){o[_]=zE(r[_],s[_],this._bitLength),o[x]=zE(r[x],s[x],this._bitLength),c=Math.max(o[_].length,c),c=Math.max(o[x].length,c);continue}var P=[e[_],null,null,e[x]];e[_].y.cmp(e[x].y)===0?(P[1]=e[_].add(e[x]),P[2]=e[_].toJ().mixedAdd(e[x].neg())):e[_].y.cmp(e[x].y.redNeg())===0?(P[1]=e[_].toJ().mixedAdd(e[x]),P[2]=e[_].add(e[x].neg())):(P[1]=e[_].toJ().mixedAdd(e[x]),P[2]=e[_].toJ().mixedAdd(e[x].neg()));var D=[-3,-1,-5,-7,0,7,5,1,3],k=FDe(r[_],r[x]);for(c=Math.max(k[0].length,c),o[_]=new Array(c),o[x]=new Array(c),f=0;f<c;f++){var Y=k[0][f]|0,X=k[1][f]|0;o[_][f]=D[(Y+1)*3+(X+1)],o[x][f]=0,a[_]=P}}var Z=this.jpoint(null,null,null),U=this._wnafT4;for(u=c;u>=0;u--){for(var Q=0;u>=0;){var j=!0;for(f=0;f<n;f++)U[f]=o[f][u]|0,U[f]!==0&&(j=!1);if(!j)break;Q++,u--}if(u>=0&&Q++,Z=Z.dblp(Q),u<0)break;for(f=0;f<n;f++){var K=U[f];K!==0&&(K>0?d=a[f][K-1>>1]:K<0&&(d=a[f][-K-1>>1].neg()),d.type==="affine"?Z=Z.mixedAdd(d):Z=Z.add(d))}}for(u=0;u<n;u++)a[u]=null;return i?Z:Z.toP()};function ba(t,e){this.curve=t,this.type=e,this.precomputed=null}hf.BasePoint=ba,ba.prototype.eq=function(){throw new Error("Not implemented")},ba.prototype.validate=function(){return this.curve.validate(this)},hf.prototype.decodePoint=function(t,e){t=Ds.toArray(t,e);var r=this.p.byteLength();if((t[0]===4||t[0]===6||t[0]===7)&&t.length-1===2*r){t[0]===6?rA(t[t.length-1]%2===0):t[0]===7&&rA(t[t.length-1]%2===1);var n=this.point(t.slice(1,1+r),t.slice(1+r,1+2*r));return n}else if((t[0]===2||t[0]===3)&&t.length-1===r)return this.pointFromX(t.slice(1,1+r),t[0]===3);throw new Error("Unknown point format")},ba.prototype.encodeCompressed=function(t){return this.encode(t,!0)},ba.prototype._encode=function(t){var e=this.curve.p.byteLength(),r=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",e))},ba.prototype.encode=function(t,e){return Ds.encode(this._encode(e),t)},ba.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this},ba.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return e?e.points.length>=Math.ceil((t.bitLength()+1)/e.step):!1},ba.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<e;i+=t){for(var s=0;s<t;s++)n=n.dbl();r.push(n)}return{step:t,points:r}},ba.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],r=(1<<t)-1,n=r===1?null:this.dbl(),i=1;i<r;i++)e[i]=e[i-1].add(n);return{wnd:t,points:e}},ba.prototype._getBeta=function(){return null},ba.prototype.dblp=function(t){for(var e=this,r=0;r<t;r++)e=e.dbl();return e};var vR=Rp(function(t){typeof Object.create=="function"?t.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}}),UDe=Ds.assert;function _a(t){hd.call(this,"short",t),this.a=new Ht(t.a,16).toRed(this.red),this.b=new Ht(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}vR(_a,hd);var kDe=_a;_a.prototype._getEndomorphism=function(t){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var e,r;if(t.beta)e=new Ht(t.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);e=n[0].cmp(n[1])<0?n[0]:n[1],e=e.toRed(this.red)}if(t.lambda)r=new Ht(t.lambda,16);else{var i=this._getEndoRoots(this.n);this.g.mul(i[0]).x.cmp(this.g.x.redMul(e))===0?r=i[0]:(r=i[1],UDe(this.g.mul(r).x.cmp(this.g.x.redMul(e))===0))}var s;return t.basis?s=t.basis.map(function(a){return{a:new Ht(a.a,16),b:new Ht(a.b,16)}}):s=this._getEndoBasis(r),{beta:e,lambda:r,basis:s}}},_a.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:Ht.mont(t),r=new Ht(2).toRed(e).redInvm(),n=r.redNeg(),i=new Ht(3).toRed(e).redNeg().redSqrt().redMul(r),s=n.redAdd(i).fromRed(),a=n.redSub(i).fromRed();return[s,a]},_a.prototype._getEndoBasis=function(t){for(var e=this.n.ushrn(Math.floor(this.n.bitLength()/2)),r=t,n=this.n.clone(),i=new Ht(1),s=new Ht(0),a=new Ht(0),o=new Ht(1),c,u,f,d,m,_,x,P=0,D,k;r.cmpn(0)!==0;){var Y=n.div(r);D=n.sub(Y.mul(r)),k=a.sub(Y.mul(i));var X=o.sub(Y.mul(s));if(!f&&D.cmp(e)<0)c=x.neg(),u=i,f=D.neg(),d=k;else if(f&&++P===2)break;x=D,n=r,r=D,a=i,i=k,o=s,s=X}m=D.neg(),_=k;var Z=f.sqr().add(d.sqr()),U=m.sqr().add(_.sqr());return U.cmp(Z)>=0&&(m=c,_=u),f.negative&&(f=f.neg(),d=d.neg()),m.negative&&(m=m.neg(),_=_.neg()),[{a:f,b:d},{a:m,b:_}]},_a.prototype._endoSplit=function(t){var e=this.endo.basis,r=e[0],n=e[1],i=n.b.mul(t).divRound(this.n),s=r.b.neg().mul(t).divRound(this.n),a=i.mul(r.a),o=s.mul(n.a),c=i.mul(r.b),u=s.mul(n.b),f=t.sub(a).sub(o),d=c.add(u).neg();return{k1:f,k2:d}},_a.prototype.pointFromX=function(t,e){t=new Ht(t,16),t.red||(t=t.toRed(this.red));var r=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(n.redSqr().redSub(r).cmp(this.zero)!==0)throw new Error("invalid point");var i=n.fromRed().isOdd();return(e&&!i||!e&&i)&&(n=n.redNeg()),this.point(t,n)},_a.prototype.validate=function(t){if(t.inf)return!0;var e=t.x,r=t.y,n=this.a.redMul(e),i=e.redSqr().redMul(e).redIAdd(n).redIAdd(this.b);return r.redSqr().redISub(i).cmpn(0)===0},_a.prototype._endoWnafMulAdd=function(t,e,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,s=0;s<t.length;s++){var a=this._endoSplit(e[s]),o=t[s],c=o._getBeta();a.k1.negative&&(a.k1.ineg(),o=o.neg(!0)),a.k2.negative&&(a.k2.ineg(),c=c.neg(!0)),n[s*2]=o,n[s*2+1]=c,i[s*2]=a.k1,i[s*2+1]=a.k2}for(var u=this._wnafMulAdd(1,n,i,s*2,r),f=0;f<s*2;f++)n[f]=null,i[f]=null;return u};function ii(t,e,r,n){hd.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Ht(e,16),this.y=new Ht(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}vR(ii,hd.BasePoint),_a.prototype.point=function(t,e,r){return new ii(this,t,e,r)},_a.prototype.pointFromJSON=function(t,e){return ii.fromJSON(this,t,e)},ii.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var r=this.curve,n=function(i){return r.point(i.x.redMul(r.endo.beta),i.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(n)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(n)}}}return e}},ii.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},ii.fromJSON=function(t,e,r){typeof e=="string"&&(e=JSON.parse(e));var n=t.point(e[0],e[1],r);if(!e[2])return n;function i(a){return t.point(a[0],a[1],r)}var s=e[2];return n.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[n].concat(s.doubles.points.map(i))},naf:s.naf&&{wnd:s.naf.wnd,points:[n].concat(s.naf.points.map(i))}},n},ii.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},ii.prototype.isInfinity=function(){return this.inf},ii.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(this.x.cmp(t.x)===0)return this.curve.point(null,null);var e=this.y.redSub(t.y);e.cmpn(0)!==0&&(e=e.redMul(this.x.redSub(t.x).redInvm()));var r=e.redSqr().redISub(this.x).redISub(t.x),n=e.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},ii.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(t.cmpn(0)===0)return this.curve.point(null,null);var e=this.curve.a,r=this.x.redSqr(),n=t.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(e).redMul(n),s=i.redSqr().redISub(this.x.redAdd(this.x)),a=i.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,a)},ii.prototype.getX=function(){return this.x.fromRed()},ii.prototype.getY=function(){return this.y.fromRed()},ii.prototype.mul=function(t){return t=new Ht(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},ii.prototype.mulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},ii.prototype.jmulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},ii.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||this.x.cmp(t.x)===0&&this.y.cmp(t.y)===0)},ii.prototype.neg=function(t){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var r=this.precomputed,n=function(i){return i.neg()};e.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return e},ii.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var t=this.curve.jpoint(this.x,this.y,this.curve.one);return t};function di(t,e,r,n){hd.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Ht(0)):(this.x=new Ht(e,16),this.y=new Ht(r,16),this.z=new Ht(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}vR(di,hd.BasePoint),_a.prototype.jpoint=function(t,e,r){return new di(this,t,e,r)},di.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),r=this.x.redMul(e),n=this.y.redMul(e).redMul(t);return this.curve.point(r,n)},di.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},di.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(e),i=t.x.redMul(r),s=this.y.redMul(e.redMul(t.z)),a=t.y.redMul(r.redMul(this.z)),o=n.redSub(i),c=s.redSub(a);if(o.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=o.redSqr(),f=u.redMul(o),d=n.redMul(u),m=c.redSqr().redIAdd(f).redISub(d).redISub(d),_=c.redMul(d.redISub(m)).redISub(s.redMul(f)),x=this.z.redMul(t.z).redMul(o);return this.curve.jpoint(m,_,x)},di.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),r=this.x,n=t.x.redMul(e),i=this.y,s=t.y.redMul(e).redMul(this.z),a=r.redSub(n),o=i.redSub(s);if(a.cmpn(0)===0)return o.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var c=a.redSqr(),u=c.redMul(a),f=r.redMul(c),d=o.redSqr().redIAdd(u).redISub(f).redISub(f),m=o.redMul(f.redISub(d)).redISub(i.redMul(u)),_=this.z.redMul(a);return this.curve.jpoint(d,m,_)},di.prototype.dblp=function(t){if(t===0)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var e;if(this.curve.zeroA||this.curve.threeA){var r=this;for(e=0;e<t;e++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,s=this.x,a=this.y,o=this.z,c=o.redSqr().redSqr(),u=a.redAdd(a);for(e=0;e<t;e++){var f=s.redSqr(),d=u.redSqr(),m=d.redSqr(),_=f.redAdd(f).redIAdd(f).redIAdd(n.redMul(c)),x=s.redMul(d),P=_.redSqr().redISub(x.redAdd(x)),D=x.redISub(P),k=_.redMul(D);k=k.redIAdd(k).redISub(m);var Y=u.redMul(o);e+1<t&&(c=c.redMul(m)),s=P,o=Y,u=k}return this.curve.jpoint(s,u.redMul(i),o)},di.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},di.prototype._zeroDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(n).redISub(s);a=a.redIAdd(a);var o=n.redAdd(n).redIAdd(n),c=o.redSqr().redISub(a).redISub(a),u=s.redIAdd(s);u=u.redIAdd(u),u=u.redIAdd(u),t=c,e=o.redMul(a.redISub(c)).redISub(u),r=this.y.redAdd(this.y)}else{var f=this.x.redSqr(),d=this.y.redSqr(),m=d.redSqr(),_=this.x.redAdd(d).redSqr().redISub(f).redISub(m);_=_.redIAdd(_);var x=f.redAdd(f).redIAdd(f),P=x.redSqr(),D=m.redIAdd(m);D=D.redIAdd(D),D=D.redIAdd(D),t=P.redISub(_).redISub(_),e=x.redMul(_.redISub(t)).redISub(D),r=this.y.redMul(this.z),r=r.redIAdd(r)}return this.curve.jpoint(t,e,r)},di.prototype._threeDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(n).redISub(s);a=a.redIAdd(a);var o=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),c=o.redSqr().redISub(a).redISub(a);t=c;var u=s.redIAdd(s);u=u.redIAdd(u),u=u.redIAdd(u),e=o.redMul(a.redISub(c)).redISub(u),r=this.y.redAdd(this.y)}else{var f=this.z.redSqr(),d=this.y.redSqr(),m=this.x.redMul(d),_=this.x.redSub(f).redMul(this.x.redAdd(f));_=_.redAdd(_).redIAdd(_);var x=m.redIAdd(m);x=x.redIAdd(x);var P=x.redAdd(x);t=_.redSqr().redISub(P),r=this.y.redAdd(this.z).redSqr().redISub(d).redISub(f);var D=d.redSqr();D=D.redIAdd(D),D=D.redIAdd(D),D=D.redIAdd(D),e=_.redMul(x.redISub(t)).redISub(D)}return this.curve.jpoint(t,e,r)},di.prototype._dbl=function(){var t=this.curve.a,e=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),s=e.redSqr(),a=r.redSqr(),o=s.redAdd(s).redIAdd(s).redIAdd(t.redMul(i)),c=e.redAdd(e);c=c.redIAdd(c);var u=c.redMul(a),f=o.redSqr().redISub(u.redAdd(u)),d=u.redISub(f),m=a.redSqr();m=m.redIAdd(m),m=m.redIAdd(m),m=m.redIAdd(m);var _=o.redMul(d).redISub(m),x=r.redAdd(r).redMul(n);return this.curve.jpoint(f,_,x)},di.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr(),n=e.redSqr(),i=t.redAdd(t).redIAdd(t),s=i.redSqr(),a=this.x.redAdd(e).redSqr().redISub(t).redISub(n);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(s);var o=a.redSqr(),c=n.redIAdd(n);c=c.redIAdd(c),c=c.redIAdd(c),c=c.redIAdd(c);var u=i.redIAdd(a).redSqr().redISub(s).redISub(o).redISub(c),f=e.redMul(u);f=f.redIAdd(f),f=f.redIAdd(f);var d=this.x.redMul(o).redISub(f);d=d.redIAdd(d),d=d.redIAdd(d);var m=this.y.redMul(u.redMul(c.redISub(u)).redISub(a.redMul(o)));m=m.redIAdd(m),m=m.redIAdd(m),m=m.redIAdd(m);var _=this.z.redAdd(a).redSqr().redISub(r).redISub(o);return this.curve.jpoint(d,m,_)},di.prototype.mul=function(t,e){return t=new Ht(t,e),this.curve._wnafMul(this,t)},di.prototype.eq=function(t){if(t.type==="affine")return this.eq(t.toJ());if(this===t)return!0;var e=this.z.redSqr(),r=t.z.redSqr();if(this.x.redMul(r).redISub(t.x.redMul(e)).cmpn(0)!==0)return!1;var n=e.redMul(this.z),i=r.redMul(t.z);return this.y.redMul(i).redISub(t.y.redMul(n)).cmpn(0)===0},di.prototype.eqXToP=function(t){var e=this.z.redSqr(),r=t.toRed(this.curve.red).redMul(e);if(this.x.cmp(r)===0)return!0;for(var n=t.clone(),i=this.curve.redN.redMul(e);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),this.x.cmp(r)===0)return!0}},di.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},di.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var QE=Rp(function(t,e){var r=e;r.base=hd,r.short=kDe,r.mont=null,r.edwards=null}),$E=Rp(function(t,e){var r=e,n=Ds.assert;function i(o){o.type==="short"?this.curve=new QE.short(o):o.type==="edwards"?this.curve=new QE.edwards(o):this.curve=new QE.mont(o),this.g=this.curve.g,this.n=this.curve.n,this.hash=o.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=i;function s(o,c){Object.defineProperty(r,o,{configurable:!0,enumerable:!0,get:function(){var u=new i(c);return Object.defineProperty(r,o,{configurable:!0,enumerable:!0,value:u}),u}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:$o.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:$o.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:$o.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:$o.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:$o.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:$o.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:$o.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var a;try{a=null.crash()}catch{a=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:$o.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",a]})});function pf(t){if(!(this instanceof pf))return new pf(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=no.toArray(t.entropy,t.entropyEnc||"hex"),r=no.toArray(t.nonce,t.nonceEnc||"hex"),n=no.toArray(t.pers,t.persEnc||"hex");mR(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var cne=pf;pf.prototype._init=function(t,e,r){var n=t.concat(e).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},pf.prototype._hmac=function(){return new $o.hmac(this.hash,this.K)},pf.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},pf.prototype.reseed=function(t,e,r,n){typeof e!="string"&&(n=r,r=e,e=null),t=no.toArray(t,e),r=no.toArray(r,n),mR(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(r||[])),this._reseed=1},pf.prototype.generate=function(t,e,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof e!="string"&&(n=r,r=e,e=null),r&&(r=no.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<t;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var s=i.slice(0,t);return this._update(r),this._reseed++,no.encode(s,e)};var KP=Ds.assert;function Mi(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var WP=Mi;Mi.fromPublic=function(t,e,r){return e instanceof Mi?e:new Mi(t,{pub:e,pubEnc:r})},Mi.fromPrivate=function(t,e,r){return e instanceof Mi?e:new Mi(t,{priv:e,privEnc:r})},Mi.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},Mi.prototype.getPublic=function(t,e){return typeof t=="string"&&(e=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub},Mi.prototype.getPrivate=function(t){return t==="hex"?this.priv.toString(16,2):this.priv},Mi.prototype._importPrivate=function(t,e){this.priv=new Ht(t,e||16),this.priv=this.priv.umod(this.ec.curve.n)},Mi.prototype._importPublic=function(t,e){if(t.x||t.y){this.ec.curve.type==="mont"?KP(t.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&KP(t.x&&t.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(t.x,t.y);return}this.pub=this.ec.curve.decodePoint(t,e)},Mi.prototype.derive=function(t){return t.validate()||KP(t.validate(),"public point not validated"),t.mul(this.priv).getX()},Mi.prototype.sign=function(t,e,r){return this.ec.sign(t,this,e,r)},Mi.prototype.verify=function(t,e){return this.ec.verify(t,e,this)},Mi.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var VDe=Ds.assert;function oA(t,e){if(t instanceof oA)return t;this._importDER(t,e)||(VDe(t.r&&t.s,"Signature without r or s"),this.r=new Ht(t.r,16),this.s=new Ht(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var KE=oA;function HDe(){this.place=0}function QP(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4)return!1;for(var i=0,s=0,a=e.place;s<n;s++,a++)i<<=8,i|=t[a],i>>>=0;return i<=127?!1:(e.place=a,i)}function une(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}oA.prototype._importDER=function(t,e){t=Ds.toArray(t,e);var r=new HDe;if(t[r.place++]!==48)return!1;var n=QP(t,r);if(n===!1||n+r.place!==t.length||t[r.place++]!==2)return!1;var i=QP(t,r);if(i===!1)return!1;var s=t.slice(r.place,i+r.place);if(r.place+=i,t[r.place++]!==2)return!1;var a=QP(t,r);if(a===!1||t.length!==a+r.place)return!1;var o=t.slice(r.place,a+r.place);if(s[0]===0)if(s[1]&128)s=s.slice(1);else return!1;if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;return this.r=new Ht(s),this.s=new Ht(o),this.recoveryParam=null,!0};function $P(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}oA.prototype.toDER=function(t){var e=this.r.toArray(),r=this.s.toArray();for(e[0]&128&&(e=[0].concat(e)),r[0]&128&&(r=[0].concat(r)),e=une(e),r=une(r);!r[0]&&!(r[1]&128);)r=r.slice(1);var n=[2];$P(n,e.length),n=n.concat(e),n.push(2),$P(n,r.length);var i=n.concat(r),s=[48];return $P(s,i.length),s=s.concat(i),Ds.encode(s,t)};var GDe=function(){throw new Error("unsupported")},Eie=Ds.assert;function wa(t){if(!(this instanceof wa))return new wa(t);typeof t=="string"&&(Eie(Object.prototype.hasOwnProperty.call($E,t),"Unknown curve "+t),t=$E[t]),t instanceof $E.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var jDe=wa;wa.prototype.keyPair=function(t){return new WP(this,t)},wa.prototype.keyFromPrivate=function(t,e){return WP.fromPrivate(this,t,e)},wa.prototype.keyFromPublic=function(t,e){return WP.fromPublic(this,t,e)},wa.prototype.genKeyPair=function(t){t||(t={});for(var e=new cne({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||GDe(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),n=this.n.sub(new Ht(2));;){var i=new Ht(e.generate(r));if(!(i.cmp(n)>0))return i.iaddn(1),this.keyFromPrivate(i)}},wa.prototype._truncateToN=function(t,e){var r=t.byteLength()*8-this.n.bitLength();return r>0&&(t=t.ushrn(r)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t},wa.prototype.sign=function(t,e,r,n){typeof r=="object"&&(n=r,r=null),n||(n={}),e=this.keyFromPrivate(e,r),t=this._truncateToN(new Ht(t,16));for(var i=this.n.byteLength(),s=e.getPrivate().toArray("be",i),a=t.toArray("be",i),o=new cne({hash:this.hash,entropy:s,nonce:a,pers:n.pers,persEnc:n.persEnc||"utf8"}),c=this.n.sub(new Ht(1)),u=0;;u++){var f=n.k?n.k(u):new Ht(o.generate(this.n.byteLength()));if(f=this._truncateToN(f,!0),!(f.cmpn(1)<=0||f.cmp(c)>=0)){var d=this.g.mul(f);if(!d.isInfinity()){var m=d.getX(),_=m.umod(this.n);if(_.cmpn(0)!==0){var x=f.invm(this.n).mul(_.mul(e.getPrivate()).iadd(t));if(x=x.umod(this.n),x.cmpn(0)!==0){var P=(d.getY().isOdd()?1:0)|(m.cmp(_)!==0?2:0);return n.canonical&&x.cmp(this.nh)>0&&(x=this.n.sub(x),P^=1),new KE({r:_,s:x,recoveryParam:P})}}}}}},wa.prototype.verify=function(t,e,r,n){t=this._truncateToN(new Ht(t,16)),r=this.keyFromPublic(r,n),e=new KE(e,"hex");var i=e.r,s=e.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0||s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var a=s.invm(this.n),o=a.mul(t).umod(this.n),c=a.mul(i).umod(this.n),u;return this.curve._maxwellTrick?(u=this.g.jmulAdd(o,r.getPublic(),c),u.isInfinity()?!1:u.eqXToP(i)):(u=this.g.mulAdd(o,r.getPublic(),c),u.isInfinity()?!1:u.getX().umod(this.n).cmp(i)===0)},wa.prototype.recoverPubKey=function(t,e,r,n){Eie((3&r)===r,"The recovery param is more than two bits"),e=new KE(e,n);var i=this.n,s=new Ht(t),a=e.r,o=e.s,c=r&1,u=r>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&u)throw new Error("Unable to find sencond key candinate");u?a=this.curve.pointFromX(a.add(this.curve.n),c):a=this.curve.pointFromX(a,c);var f=e.r.invm(i),d=i.sub(s).mul(f).umod(i),m=o.mul(f).umod(i);return this.g.mulAdd(d,a,m)},wa.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new KE(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var zDe=Rp(function(t,e){var r=e;r.version="6.5.4",r.utils=Ds,r.rand=function(){throw new Error("unsupported")},r.curve=QE,r.curves=$E,r.ec=jDe,r.eddsa=null}),KDe=zDe.ec,WDe="signing-key/5.7.0",nR=new fn(WDe),YP=null;function Zo(){return YP||(YP=new KDe("secp256k1")),YP}var iR=class{constructor(e){lm(this,"curve","secp256k1"),lm(this,"privateKey",Hi(e)),CPe(this.privateKey)!==32&&nR.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");let r=Zo().keyFromPrivate(wn(this.privateKey));lm(this,"publicKey","0x"+r.getPublic(!1,"hex")),lm(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),lm(this,"_isSigningKey",!0)}_addPoint(e){let r=Zo().keyFromPublic(wn(this.publicKey)),n=Zo().keyFromPublic(wn(e));return"0x"+r.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){let r=Zo().keyFromPrivate(wn(this.privateKey)),n=wn(e);n.length!==32&&nR.throwArgumentError("bad digest length","digest",e);let i=r.sign(n,{canonical:!0});return zne({recoveryParam:i.recoveryParam,r:ec("0x"+i.r.toString(16),32),s:ec("0x"+i.s.toString(16),32)})}computeSharedSecret(e){let r=Zo().keyFromPrivate(wn(this.privateKey)),n=Zo().keyFromPublic(wn(Aie(e)));return ec("0x"+r.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}};function QDe(t,e){let r=zne(e),n={r:wn(r.r),s:wn(r.s)};return"0x"+Zo().recoverPubKey(wn(t),n,r.recoveryParam).encode("hex",!1)}function Aie(t,e){let r=wn(t);if(r.length===32){let n=new iR(r);return e?"0x"+Zo().keyFromPrivate(r).getPublic(!0,"hex"):n.publicKey}else{if(r.length===33)return e?Hi(r):"0x"+Zo().keyFromPublic(r).getPublic(!1,"hex");if(r.length===65)return e?"0x"+Zo().keyFromPublic(r).getPublic(!0,"hex"):Hi(r)}return nR.throwArgumentError("invalid public or private key","key","[REDACTED]")}var $De="transactions/5.7.0";new fn($De);var fne;(function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"})(fne||(fne={}));function YDe(t){let e=Aie(t);return aRe(Yre(pR(Yre(e,1)),12))}function JDe(t,e){return YDe(QDe(wn(t),e))}var XDe="https://rpc.walletconnect.org/v1";async function Sie(t,e,r,n,i,s){switch(r.t){case"eip191":return xie(t,e,r.s);case"eip1271":return await Tie(t,e,r.s,n,i,s);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${r.t}`)}}function xie(t,e,r){return JDe(rie(e),r).toLowerCase()===t.toLowerCase()}async function Tie(t,e,r,n,i,s){try{let a="0x1626ba7e",o="0000000000000000000000000000000000000000000000000000000000000040",c="0000000000000000000000000000000000000000000000000000000000000041",u=r.substring(2),f=rie(e).substring(2),d=a+f+o+c+u,m=await fetch(`${s||XDe}/?chainId=${n}&projectId=${i}`,{method:"POST",body:JSON.stringify({id:ZDe(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:d},"latest"]})}),{result:_}=await m.json();return _?_.slice(0,a.length).toLowerCase()===a.toLowerCase():!1}catch{return!1}}function ZDe(){return Date.now()+Math.floor(Math.random()*1e3)}var eMe=Object.defineProperty,tMe=Object.defineProperties,rMe=Object.getOwnPropertyDescriptors,lne=Object.getOwnPropertySymbols,nMe=Object.prototype.hasOwnProperty,iMe=Object.prototype.propertyIsEnumerable,dne=(t,e,r)=>e in t?eMe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,bR=(t,e)=>{for(var r in e||(e={}))nMe.call(e,r)&&dne(t,r,e[r]);if(lne)for(var r of lne(e))iMe.call(e,r)&&dne(t,r,e[r]);return t},Iie=(t,e)=>tMe(t,rMe(e)),sMe="did:pkh:",cA=t=>t?.split(":"),wR=t=>{let e=t&&cA(t);if(e)return t.includes(sMe)?e[3]:e[1]},aMe=t=>{let e=t&&cA(t);if(e)return e[2]+":"+e[3]},_R=t=>{let e=t&&cA(t);if(e)return e.pop()};async function oMe(t){let{cacao:e,projectId:r}=t,{s:n,p:i}=e,s=Cie(i,i.iss),a=_R(i.iss);return await Sie(a,s,n,wR(i.iss),r)}var Cie=(t,e)=>{let r=`${t.domain} wants you to sign in with your Ethereum account:`,n=_R(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let i=t.statement||void 0,s=`URI: ${t.aud||t.uri}`,a=`Version: ${t.version}`,o=`Chain ID: ${wR(e)}`,c=`Nonce: ${t.nonce}`,u=`Issued At: ${t.iat}`,f=t.exp?`Expiration Time: ${t.exp}`:void 0,d=t.nbf?`Not Before: ${t.nbf}`:void 0,m=t.requestId?`Request ID: ${t.requestId}`:void 0,_=t.resources?`Resources:${t.resources.map(P=>`
- ${P}`).join("")}`:void 0,x=fA(t.resources);if(x){let P=mf(x);i=SR(i,P)}return[r,n,"",i,"",s,a,o,c,u,f,d,m,_].filter(P=>P!=null).join(`
`)};function cMe(t,e,r){return r.includes("did:pkh:")||(r=`did:pkh:${r}`),{h:{t:"caip122"},p:{iss:r,domain:t.domain,aud:t.aud,version:t.version,nonce:t.nonce,iat:t.iat,statement:t.statement,requestId:t.requestId,resources:t.resources,nbf:t.nbf,exp:t.exp},s:e}}function uMe(t){var e;let{authPayload:r,chains:n,methods:i}=t,s=r.statement||"";if(!(n!=null&&n.length))return r;let a=r.chains,o=XP(a,n);if(!(o!=null&&o.length))throw new Error("No supported chains");let c=Nie(r.resources);if(!c)return r;ic(c);let u=Oie(c,"eip155"),f=r?.resources||[];if(u!=null&&u.length){let d=Pie(u),m=XP(d,i);if(!(m!=null&&m.length))throw new Error(`Supported methods don't satisfy the requested: ${JSON.stringify(d)}, supported: ${JSON.stringify(i)}`);let _=ER("request",m,{chains:o}),x=Bie(c,"eip155",_);f=((e=r?.resources)==null?void 0:e.slice(0,-1))||[],f.push(uA(x))}return Iie(bR({},r),{statement:qie(s,fA(f)),chains:o,resources:r!=null&&r.resources||f.length>0?f:void 0})}function Nie(t){let e=fA(t);if(e&&AR(e))return mf(e)}function fMe(t,e){var r;return(r=t?.att)==null?void 0:r.hasOwnProperty(e)}function Oie(t,e){var r,n;return(r=t?.att)!=null&&r[e]?Object.keys((n=t?.att)==null?void 0:n[e]):[]}function lMe(t){return t?.map(e=>Object.keys(e))||[]}function Pie(t){return t?.map(e=>{var r;return(r=e.split("/"))==null?void 0:r[1]})||[]}function Rie(t){return y.Buffer.from(JSON.stringify(t)).toString("base64")}function Die(t){return JSON.parse(y.Buffer.from(t,"base64").toString("utf-8"))}function ic(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");let e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(r=>{let n=t.att[r];if(Array.isArray(n))throw new Error(`Resource must be an object: ${r}`);if(typeof n!="object")throw new Error(`Resource must be an object: ${r}`);if(!Object.keys(n).length)throw new Error(`Resource object is empty: ${r}`);Object.keys(n).forEach(i=>{let s=n[i];if(!Array.isArray(s))throw new Error(`Ability limits ${i} must be an array of objects, found: ${s}`);if(!s.length)throw new Error(`Value of ${i} is empty array, must be an array with objects`);s.forEach(a=>{if(typeof a!="object")throw new Error(`Ability limits (${i}) must be an array of objects, found: ${a}`)})})})}function Mie(t,e,r,n={}){return r?.sort((i,s)=>i.localeCompare(s)),{att:{[t]:ER(e,r,n)}}}function Bie(t,e,r){var n;return t.att[e]=bR({},r),((n=Object.keys(t.att))==null?void 0:n.sort((i,s)=>i.localeCompare(s))).reduce((i,s)=>(i.att[s]=t.att[s],i),{att:{}})}function ER(t,e,r={}){e=e?.sort((i,s)=>i.localeCompare(s));let n=e.map(i=>({[`${t}/${i}`]:[r]}));return Object.assign({},...n)}function uA(t){return ic(t),`urn:recap:${Rie(t).replace(/=/g,"")}`}function mf(t){let e=Die(t.replace("urn:recap:",""));return ic(e),e}function dMe(t,e,r){let n=Mie(t,e,r);return uA(n)}function AR(t){return t&&t.includes("urn:recap:")}function hMe(t,e){let r=mf(t),n=mf(e),i=Lie(r,n);return uA(i)}function Lie(t,e){ic(t),ic(e);let r=Object.keys(t.att).concat(Object.keys(e.att)).sort((i,s)=>i.localeCompare(s)),n={att:{}};return r.forEach(i=>{var s,a;Object.keys(((s=t.att)==null?void 0:s[i])||{}).concat(Object.keys(((a=e.att)==null?void 0:a[i])||{})).sort((o,c)=>o.localeCompare(c)).forEach(o=>{var c,u;n.att[i]=Iie(bR({},n.att[i]),{[o]:((c=t.att[i])==null?void 0:c[o])||((u=e.att[i])==null?void 0:u[o])})})}),n}function SR(t="",e){ic(e);let r="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(r))return t;let n=[],i=0;Object.keys(e.att).forEach(o=>{let c=Object.keys(e.att[o]).map(d=>({ability:d.split("/")[0],action:d.split("/")[1]}));c.sort((d,m)=>d.action.localeCompare(m.action));let u={};c.forEach(d=>{u[d.ability]||(u[d.ability]=[]),u[d.ability].push(d.action)});let f=Object.keys(u).map(d=>(i++,`(${i}) '${d}': '${u[d].join("', '")}' for '${o}'.`));n.push(f.join(", ").replace(".,","."))});let s=n.join(" "),a=`${r}${s}`;return`${t?t+" ":""}${a}`}function pMe(t){var e;let r=mf(t);ic(r);let n=(e=r.att)==null?void 0:e.eip155;return n?Object.keys(n).map(i=>i.split("/")[1]):[]}function gMe(t){let e=mf(t);ic(e);let r=[];return Object.values(e.att).forEach(n=>{Object.values(n).forEach(i=>{var s;(s=i?.[0])!=null&&s.chains&&r.push(i[0].chains)})}),[...new Set(r.flat())]}function qie(t,e){if(!e)return t;let r=mf(e);return ic(r),SR(t,r)}function fA(t){if(!t)return;let e=t?.[t.length-1];return AR(e)?e:void 0}var xR="base10",zi="base16",TR="base64pad",yMe="base64url",Dp="utf8",IR=0,Mp=1,Am=2,mMe=0,hne=1,vm=12,CR=32;function vMe(){let t=Ene.generateKeyPair();return{privateKey:jr.toString(t.secretKey,zi),publicKey:jr.toString(t.publicKey,zi)}}function bMe(){let t=nA.randomBytes(CR);return jr.toString(t,zi)}function wMe(t,e){let r=Ene.sharedKey(jr.fromString(t,zi),jr.fromString(e,zi),!0),n=new MOe.HKDF(iA.SHA256,r).expand(CR);return jr.toString(n,zi)}function _Me(t){let e=iA.hash(jr.fromString(t,zi));return jr.toString(e,zi)}function EMe(t){let e=iA.hash(jr.fromString(t,Dp));return jr.toString(e,zi)}function NR(t){return jr.fromString(`${t}`,xR)}function fd(t){return Number(jr.toString(t,xR))}function AMe(t){let e=NR(typeof t.type<"u"?t.type:IR);if(fd(e)===Mp&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");let r=typeof t.senderPublicKey<"u"?jr.fromString(t.senderPublicKey,zi):void 0,n=typeof t.iv<"u"?jr.fromString(t.iv,zi):nA.randomBytes(vm),i=new wne.ChaCha20Poly1305(jr.fromString(t.symKey,zi)).seal(n,jr.fromString(t.message,Dp));return OR({type:e,sealed:i,iv:n,senderPublicKey:r,encoding:t.encoding})}function SMe(t,e){let r=NR(Am),n=nA.randomBytes(vm),i=jr.fromString(t,Dp);return OR({type:r,sealed:i,iv:n,encoding:e})}function xMe(t){let e=new wne.ChaCha20Poly1305(jr.fromString(t.symKey,zi)),{sealed:r,iv:n}=lA({encoded:t.encoded,encoding:t?.encoding}),i=e.open(n,r);if(i===null)throw new Error("Failed to decrypt");return jr.toString(i,Dp)}function TMe(t,e){let{sealed:r}=lA({encoded:t,encoding:e});return jr.toString(r,Dp)}function OR(t){let{encoding:e=TR}=t;if(fd(t.type)===Am)return jr.toString(jr.concat([t.type,t.sealed]),e);if(fd(t.type)===Mp){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return jr.toString(jr.concat([t.type,t.senderPublicKey,t.iv,t.sealed]),e)}return jr.toString(jr.concat([t.type,t.iv,t.sealed]),e)}function lA(t){let{encoded:e,encoding:r=TR}=t,n=jr.fromString(e,r),i=n.slice(mMe,hne),s=hne;if(fd(i)===Mp){let u=s+CR,f=u+vm,d=n.slice(s,u),m=n.slice(u,f),_=n.slice(f);return{type:i,sealed:_,iv:m,senderPublicKey:d}}if(fd(i)===Am){let u=n.slice(s),f=nA.randomBytes(vm);return{type:i,sealed:u,iv:f}}let a=s+vm,o=n.slice(s,a),c=n.slice(a);return{type:i,sealed:c,iv:o}}function IMe(t,e){let r=lA({encoded:t,encoding:e?.encoding});return Fie({type:fd(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?jr.toString(r.senderPublicKey,zi):void 0,receiverPublicKey:e?.receiverPublicKey})}function Fie(t){let e=t?.type||IR;if(e===Mp){if(typeof t?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof t?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t?.senderPublicKey,receiverPublicKey:t?.receiverPublicKey}}function CMe(t){return t.type===Mp&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function NMe(t){return t.type===Am}function Uie(t){return new LOe.ec("p256").keyFromPublic({x:y.Buffer.from(t.x,"base64").toString("hex"),y:y.Buffer.from(t.y,"base64").toString("hex")},"hex")}function OMe(t){let e=t.replace(/-/g,"+").replace(/_/g,"/"),r=e.length%4;return r>0&&(e+="=".repeat(4-r)),e}function PMe(t){return y.Buffer.from(OMe(t),"base64")}function RMe(t,e){let[r,n,i]=t.split("."),s=PMe(i);if(s.length!==64)throw new Error("Invalid signature length");let a=s.slice(0,32).toString("hex"),o=s.slice(32,64).toString("hex"),c=`${r}.${n}`,u=new iA.SHA256().update(y.Buffer.from(c)).digest(),f=Uie(e),d=y.Buffer.from(u).toString("hex");if(!f.verify(d,{r:a,s:o}))throw new Error("Invalid signature");return qOe.decodeJWT(t).payload}var kie="irn";function DMe(t){return t?.relay||{protocol:kie}}function MMe(t){let e=FOe.RELAY_JSONRPC[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}var BMe=Object.defineProperty,LMe=Object.defineProperties,qMe=Object.getOwnPropertyDescriptors,pne=Object.getOwnPropertySymbols,FMe=Object.prototype.hasOwnProperty,UMe=Object.prototype.propertyIsEnumerable,gne=(t,e,r)=>e in t?BMe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,yne=(t,e)=>{for(var r in e||(e={}))FMe.call(e,r)&&gne(t,r,e[r]);if(pne)for(var r of pne(e))UMe.call(e,r)&&gne(t,r,e[r]);return t},kMe=(t,e)=>LMe(t,qMe(e));function Vie(t,e="-"){let r={},n="relay"+e;return Object.keys(t).forEach(i=>{if(i.startsWith(n)){let s=i.replace(n,""),a=t[i];r[s]=a}}),r}function VMe(t){if(!t.includes("wc:")){let c=hR(t);c!=null&&c.includes("wc:")&&(t=c)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;let e=t.indexOf(":"),r=t.indexOf("?")!==-1?t.indexOf("?"):void 0,n=t.substring(0,e),i=t.substring(e+1,r).split("@"),s=typeof r<"u"?t.substring(r):"",a=YE.parse(s),o=typeof a.methods=="string"?a.methods.split(","):void 0;return{protocol:n,topic:Hie(i[0]),version:parseInt(i[1],10),symKey:a.symKey,relay:Vie(a),methods:o,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function Hie(t){return t.startsWith("//")?t.substring(2):t}function Gie(t,e="-"){let r="relay",n={};return Object.keys(t).forEach(i=>{let s=r+e+i;t[i]&&(n[s]=t[i])}),n}function HMe(t){return`${t.protocol}:${t.topic}@${t.version}?`+YE.stringify(yne(kMe(yne({symKey:t.symKey},Gie(t.relay)),{expiryTimestamp:t.expiryTimestamp}),t.methods?{methods:t.methods.join(",")}:{}))}function GMe(t,e,r){return`${t}?wc_ev=${r}&topic=${e}`}var jMe=Object.defineProperty,zMe=Object.defineProperties,KMe=Object.getOwnPropertyDescriptors,mne=Object.getOwnPropertySymbols,WMe=Object.prototype.hasOwnProperty,QMe=Object.prototype.propertyIsEnumerable,vne=(t,e,r)=>e in t?jMe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,$Me=(t,e)=>{for(var r in e||(e={}))WMe.call(e,r)&&vne(t,r,e[r]);if(mne)for(var r of mne(e))QMe.call(e,r)&&vne(t,r,e[r]);return t},YMe=(t,e)=>zMe(t,KMe(e));function pd(t){let e=[];return t.forEach(r=>{let[n,i]=r.split(":");e.push(`${n}:${i}`)}),e}function jie(t){let e=[];return Object.values(t).forEach(r=>{e.push(...pd(r.accounts))}),e}function zie(t,e){let r=[];return Object.values(t).forEach(n=>{pd(n.accounts).includes(e)&&r.push(...n.methods)}),r}function Kie(t,e){let r=[];return Object.values(t).forEach(n=>{pd(n.accounts).includes(e)&&r.push(...n.events)}),r}function JMe(t,e){let r=nse(t,e);if(r)throw new Error(r.message);let n={};for(let[i,s]of Object.entries(t))n[i]={methods:s.methods,events:s.events,chains:s.accounts.map(a=>`${a.split(":")[0]}:${a.split(":")[1]}`)};return n}function XMe(t){let{proposal:{requiredNamespaces:e,optionalNamespaces:r={}},supportedNamespaces:n}=t,i=sR(e),s=sR(r),a={};Object.keys(n).forEach(u=>{let f=n[u].chains,d=n[u].methods,m=n[u].events,_=n[u].accounts;f.forEach(x=>{if(!_.some(P=>P.includes(x)))throw new Error(`No accounts provided for chain ${x} in namespace ${u}`)}),a[u]={chains:f,methods:d,events:m,accounts:_}});let o=sse(e,a,"approve()");if(o)throw new Error(o.message);let c={};return!Object.keys(e).length&&!Object.keys(r).length?a:(Object.keys(i).forEach(u=>{let f=n[u].chains.filter(x=>{var P,D;return(D=(P=i[u])==null?void 0:P.chains)==null?void 0:D.includes(x)}),d=n[u].methods.filter(x=>{var P,D;return(D=(P=i[u])==null?void 0:P.methods)==null?void 0:D.includes(x)}),m=n[u].events.filter(x=>{var P,D;return(D=(P=i[u])==null?void 0:P.events)==null?void 0:D.includes(x)}),_=f.map(x=>n[u].accounts.filter(P=>P.includes(`${x}:`))).flat();c[u]={chains:f,methods:d,events:m,accounts:_}}),Object.keys(s).forEach(u=>{var f,d,m,_,x,P;if(!n[u])return;let D=(d=(f=s[u])==null?void 0:f.chains)==null?void 0:d.filter(Z=>n[u].chains.includes(Z)),k=n[u].methods.filter(Z=>{var U,Q;return(Q=(U=s[u])==null?void 0:U.methods)==null?void 0:Q.includes(Z)}),Y=n[u].events.filter(Z=>{var U,Q;return(Q=(U=s[u])==null?void 0:U.events)==null?void 0:Q.includes(Z)}),X=D?.map(Z=>n[u].accounts.filter(U=>U.includes(`${Z}:`))).flat();c[u]={chains:Xc((m=c[u])==null?void 0:m.chains,D),methods:Xc((_=c[u])==null?void 0:_.methods,k),events:Xc((x=c[u])==null?void 0:x.events,Y),accounts:Xc((P=c[u])==null?void 0:P.accounts,X)}}),c)}function PR(t){return t.includes(":")}function Wie(t){return PR(t)?t.split(":")[0]:t}function sR(t){var e,r,n;let i={};if(!dA(t))return i;for(let[s,a]of Object.entries(t)){let o=PR(s)?[s]:a.chains,c=a.methods||[],u=a.events||[],f=Wie(s);i[f]=YMe($Me({},i[f]),{chains:Xc(o,(e=i[f])==null?void 0:e.chains),methods:Xc(c,(r=i[f])==null?void 0:r.methods),events:Xc(u,(n=i[f])==null?void 0:n.events)})}return i}function Qie(t){let e={};return t?.forEach(r=>{let[n,i]=r.split(":");e[n]||(e[n]={accounts:[],chains:[],events:[]}),e[n].accounts.push(r),e[n].chains.push(`${n}:${i}`)}),e}function ZMe(t,e){e=e.map(n=>n.replace("did:pkh:",""));let r=Qie(e);for(let[n,i]of Object.entries(r))i.methods?i.methods=Xc(i.methods,t):i.methods=t,i.events=["chainChanged","accountsChanged"];return r}var $ie={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},Yie={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function Jc(t,e){let{message:r,code:n}=Yie[t];return{message:e?`${r} ${e}`:r,code:n}}function ld(t,e){let{message:r,code:n}=$ie[t];return{message:e?`${r} ${e}`:r,code:n}}function Sm(t,e){return Array.isArray(t)?typeof e<"u"&&t.length?t.every(e):!0:!1}function dA(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function yf(t){return typeof t>"u"}function Ms(t,e){return e&&yf(t)?!0:typeof t=="string"&&!!t.trim().length}function hA(t,e){return e&&yf(t)?!0:typeof t=="number"&&!isNaN(t)}function eBe(t,e){let{requiredNamespaces:r}=e,n=Object.keys(t.namespaces),i=Object.keys(r),s=!0;return gf(i,n)?(n.forEach(a=>{let{accounts:o,methods:c,events:u}=t.namespaces[a],f=pd(o),d=r[a];(!gf(aA(a,d),f)||!gf(d.methods,c)||!gf(d.events,u))&&(s=!1)}),s):!1}function wm(t){return Ms(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function Jie(t){if(Ms(t,!1)&&t.includes(":")){let e=t.split(":");if(e.length===3){let r=e[0]+":"+e[1];return!!e[2]&&wm(r)}}return!1}function tBe(t){function e(r){try{return typeof new URL(r)<"u"}catch{return!1}}try{if(Ms(t,!1)){if(e(t))return!0;let r=hR(t);return e(r)}}catch{}return!1}function rBe(t){var e;return(e=t?.proposer)==null?void 0:e.publicKey}function nBe(t){return t?.topic}function iBe(t,e){let r=null;return Ms(t?.publicKey,!1)||(r=Jc("MISSING_OR_INVALID",`${e} controller public key should be a string`)),r}function aR(t){let e=!0;return Sm(t)?t.length&&(e=t.every(r=>Ms(r,!1))):e=!1,e}function Xie(t,e,r){let n=null;return Sm(e)&&e.length?e.forEach(i=>{n||wm(i)||(n=ld("UNSUPPORTED_CHAINS",`${r}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):wm(t)||(n=ld("UNSUPPORTED_CHAINS",`${r}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),n}function Zie(t,e,r){let n=null;return Object.entries(t).forEach(([i,s])=>{if(n)return;let a=Xie(i,aA(i,s),`${e} ${r}`);a&&(n=a)}),n}function ese(t,e){let r=null;return Sm(t)?t.forEach(n=>{r||Jie(n)||(r=ld("UNSUPPORTED_ACCOUNTS",`${e}, account ${n} should be a string and conform to "namespace:chainId:address" format`))}):r=ld("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),r}function tse(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;let i=ese(n?.accounts,`${e} namespace`);i&&(r=i)}),r}function rse(t,e){let r=null;return aR(t?.methods)?aR(t?.events)||(r=ld("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):r=ld("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),r}function RR(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;let i=rse(n,`${e}, namespace`);i&&(r=i)}),r}function sBe(t,e,r){let n=null;if(t&&dA(t)){let i=RR(t,e);i&&(n=i);let s=Zie(t,e,r);s&&(n=s)}else n=Jc("MISSING_OR_INVALID",`${e}, ${r} should be an object with data`);return n}function nse(t,e){let r=null;if(t&&dA(t)){let n=RR(t,e);n&&(r=n);let i=tse(t,e);i&&(r=i)}else r=Jc("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return r}function ise(t){return Ms(t.protocol,!0)}function aBe(t,e){let r=!1;return e&&!t?r=!0:t&&Sm(t)&&t.length&&t.forEach(n=>{r=ise(n)}),r}function oBe(t){return typeof t=="number"}function cBe(t){return typeof t<"u"&&typeof t!==null}function uBe(t){return!(!t||typeof t!="object"||!t.code||!hA(t.code,!1)||!t.message||!Ms(t.message,!1))}function fBe(t){return!(yf(t)||!Ms(t.method,!1))}function lBe(t){return!(yf(t)||yf(t.result)&&yf(t.error)||!hA(t.id,!1)||!Ms(t.jsonrpc,!1))}function dBe(t){return!(yf(t)||!Ms(t.name,!1))}function hBe(t,e){return!(!wm(e)||!jie(t).includes(e))}function pBe(t,e,r){return Ms(r,!1)?zie(t,e).includes(r):!1}function gBe(t,e,r){return Ms(r,!1)?Kie(t,e).includes(r):!1}function sse(t,e,r){let n=null,i=yBe(t),s=mBe(e),a=Object.keys(i),o=Object.keys(s),c=bne(Object.keys(t)),u=bne(Object.keys(e)),f=c.filter(d=>!u.includes(d));return f.length&&(n=Jc("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.
      Required: ${f.toString()}
      Received: ${Object.keys(e).toString()}`)),gf(a,o)||(n=Jc("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.
      Required: ${a.toString()}
      Approved: ${o.toString()}`)),Object.keys(e).forEach(d=>{if(!d.includes(":")||n)return;let m=pd(e[d].accounts);m.includes(d)||(n=Jc("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${d}
        Required: ${d}
        Approved: ${m.toString()}`))}),a.forEach(d=>{n||(gf(i[d].methods,s[d].methods)?gf(i[d].events,s[d].events)||(n=Jc("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${d}`)):n=Jc("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${d}`))}),n}function yBe(t){let e={};return Object.keys(t).forEach(r=>{var n;r.includes(":")?e[r]=t[r]:(n=t[r].chains)==null||n.forEach(i=>{e[i]={methods:t[r].methods,events:t[r].events}})}),e}function bne(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function mBe(t){let e={};return Object.keys(t).forEach(r=>{r.includes(":")?e[r]=t[r]:pd(t[r].accounts)?.forEach(i=>{e[i]={accounts:t[r].accounts.filter(s=>s.includes(`${i}:`)),methods:t[r].methods,events:t[r].events}})}),e}function vBe(t,e){return hA(t,!1)&&t<=e.max&&t>=e.min}function bBe(){let t=dd();return new Promise(e=>{switch(t){case ji.browser:e(ase());break;case ji.reactNative:e(ose());break;case ji.node:e(cse());break;default:e(!0)}})}function ase(){return _m()&&navigator?.onLine}async function ose(){return Cp()&&typeof global<"u"&&global!=null&&global.NetInfo?(await(global==null?void 0:global.NetInfo.fetch()))?.isConnected:!0}function cse(){return!0}function wBe(t){switch(dd()){case ji.browser:use(t);break;case ji.reactNative:fse(t);break;case ji.node:break}}function use(t){!Cp()&&_m()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function fse(t){Cp()&&typeof global<"u"&&global!=null&&global.NetInfo&&global?.NetInfo.addEventListener(e=>t(e?.isConnected))}var JP={},oR=class{static get(e){return JP[e]}static set(e,r){JP[e]=r}static delete(e){delete JP[e]}};pe.BASE10=xR,pe.BASE16=zi,pe.BASE64=TR,pe.BASE64URL=yMe,pe.COLON=WOe,pe.DEFAULT_DEPTH=fR,pe.EMPTY_SPACE=JE,pe.ENV_MAP=ji,pe.INTERNAL_ERRORS=Yie,pe.MemoryStore=oR,pe.ONE_THOUSAND=QOe,pe.REACT_NATIVE_PRODUCT=Nne,pe.RELAYER_DEFAULT_PROTOCOL=kie,pe.SDK_ERRORS=$ie,pe.SDK_TYPE=Pne,pe.SLASH=One,pe.TYPE_0=IR,pe.TYPE_1=Mp,pe.TYPE_2=Am,pe.UTF8=Dp,pe.addResourceToRecap=Bie,pe.appendToQueryString=Rne,pe.assertType=ePe,pe.assignAbilityToActions=ER,pe.base64Decode=Die,pe.base64Encode=Rie,pe.buildApprovedNamespaces=XMe,pe.buildAuthObject=cMe,pe.buildNamespacesFromAuth=ZMe,pe.buildRecapStatement=qie,pe.calcExpiry=dPe,pe.capitalize=aPe,pe.capitalizeWord=Fne,pe.createDelayedPromise=oPe,pe.createEncodedRecap=dMe,pe.createExpiringPromise=cPe,pe.createRecap=Mie,pe.decodeRecap=mf,pe.decodeTypeByte=fd,pe.decodeTypeTwoEnvelope=TMe,pe.decrypt=xMe,pe.deriveSymKey=wMe,pe.deserialize=lA,pe.encodeRecap=uA,pe.encodeTypeByte=NR,pe.encodeTypeTwoEnvelope=SMe,pe.encrypt=AMe,pe.engineEvent=pPe,pe.enumify=sPe,pe.formatAccountId=xne,pe.formatAccountWithChain=UOe,pe.formatChainId=Sne,pe.formatDeeplinkUrl=Une,pe.formatExpirerTarget=dR,pe.formatIdTarget=fPe,pe.formatMessage=Cie,pe.formatMessageContext=tPe,pe.formatRelayParams=Gie,pe.formatRelayRpcUrl=XOe,pe.formatStatementFromRecap=SR,pe.formatTopicTarget=uPe,pe.formatUA=Bne,pe.formatUri=HMe,pe.fromBase64=hR,pe.generateKeyPair=vMe,pe.generateRandomBytes32=bMe,pe.getAccountsChains=pd,pe.getAccountsFromNamespaces=VOe,pe.getAddressFromAccount=Tne,pe.getAddressesFromAccounts=kOe,pe.getAppMetadata=YOe,pe.getBrowserOnlineStatus=ase,pe.getBundleId=$Oe,pe.getChainFromAccount=Ine,pe.getChainsFromAccounts=Cne,pe.getChainsFromNamespace=aA,pe.getChainsFromNamespaces=HOe,pe.getChainsFromRecap=gMe,pe.getChainsFromRequiredNamespaces=GOe,pe.getCommonValuesInArrays=XP,pe.getCryptoKeyFromKeyData=Uie,pe.getDecodedRecapFromResources=Nie,pe.getDeepLink=yPe,pe.getDidAddress=_R,pe.getDidAddressSegments=cA,pe.getDidChainId=wR,pe.getEnvironment=dd,pe.getHttpUrl=ZOe,pe.getInternalError=Jc,pe.getJavascriptID=Mne,pe.getJavascriptOS=Dne,pe.getLastItems=qne,pe.getLinkModeURL=GMe,pe.getMethodsFromRecap=pMe,pe.getNamespacedDidChainId=aMe,pe.getNamespacesChains=jie,pe.getNamespacesEventsForChainId=Kie,pe.getNamespacesFromAccounts=Qie,pe.getNamespacesMethodsForChainId=zie,pe.getNodeOnlineStatus=cse,pe.getReCapActions=Pie,pe.getReactNativeOnlineStatus=ose,pe.getRecapAbilitiesFromResource=lMe,pe.getRecapFromResources=fA,pe.getRecapResource=Oie,pe.getRelayClientMetadata=JOe,pe.getRelayProtocolApi=MMe,pe.getRelayProtocolName=DMe,pe.getRequiredNamespacesFromNamespaces=JMe,pe.getSdkError=ld,pe.getSearchParamFromURL=mPe,pe.getUniqueValues=uR,pe.handleDeeplinkRedirect=gPe,pe.hasOverlap=gf,pe.hashKey=_Me,pe.hashMessage=EMe,pe.isBrowser=_m,pe.isCaipNamespace=PR,pe.isConformingNamespaces=sse,pe.isExpired=hPe,pe.isNode=lR,pe.isOnline=bBe,pe.isProposalStruct=rBe,pe.isReactNative=Cp,pe.isRecap=AR,pe.isSessionCompatible=eBe,pe.isSessionStruct=nBe,pe.isTelegram=kne,pe.isTestRun=bPe,pe.isTypeOneEnvelope=CMe,pe.isTypeTwoEnvelope=NMe,pe.isUndefined=yf,pe.isValidAccountId=Jie,pe.isValidAccounts=ese,pe.isValidActions=rse,pe.isValidArray=Sm,pe.isValidChainId=wm,pe.isValidChains=Xie,pe.isValidController=iBe,pe.isValidEip1271Signature=Tie,pe.isValidEip191Signature=xie,pe.isValidErrorReason=uBe,pe.isValidEvent=dBe,pe.isValidId=oBe,pe.isValidNamespaceAccounts=tse,pe.isValidNamespaceActions=RR,pe.isValidNamespaceChains=Zie,pe.isValidNamespaceMethodsOrEvents=aR,pe.isValidNamespaces=nse,pe.isValidNamespacesChainId=hBe,pe.isValidNamespacesEvent=gBe,pe.isValidNamespacesRequest=pBe,pe.isValidNumber=hA,pe.isValidObject=dA,pe.isValidParams=cBe,pe.isValidRecap=ic,pe.isValidRelay=ise,pe.isValidRelays=aBe,pe.isValidRequest=fBe,pe.isValidRequestExpiry=vBe,pe.isValidRequiredNamespaces=sBe,pe.isValidResponse=lBe,pe.isValidString=Ms,pe.isValidUrl=tBe,pe.mapEntries=iPe,pe.mapToObj=rPe,pe.mergeArrays=Xc,pe.mergeEncodedRecaps=hMe,pe.mergeRecaps=Lie,pe.normalizeNamespaces=sR,pe.objToMap=nPe,pe.parseAccountId=cR,pe.parseChainId=Ane,pe.parseContextNames=Lne,pe.parseExpirerTarget=lPe,pe.parseNamespaceKey=Wie,pe.parseRelayParams=Vie,pe.parseTopic=Hie,pe.parseUri=VMe,pe.populateAuthPayload=uMe,pe.recapHasResource=fMe,pe.serialize=OR,pe.subscribeToBrowserNetworkChange=use,pe.subscribeToNetworkChange=wBe,pe.subscribeToReactNativeNetworkChange=fse,pe.toBase64=Vne,pe.uuidv4=vPe,pe.validateDecoding=IMe,pe.validateEncoding=Fie,pe.validateSignedCacao=oMe,pe.verifyP256Jwt=RMe,pe.verifySignature=Sie});var lse,dse,hse,pse,pA,Tm,DR,gA,vf,Im,yA=je(()=>{l();lse="PARSE_ERROR",dse="INVALID_REQUEST",hse="METHOD_NOT_FOUND",pse="INVALID_PARAMS",pA="INTERNAL_ERROR",Tm="SERVER_ERROR",DR=[-32700,-32600,-32601,-32602,-32603],gA=[-32e3,-32099],vf={[lse]:{code:-32700,message:"Parse error"},[dse]:{code:-32600,message:"Invalid Request"},[hse]:{code:-32601,message:"Method not found"},[pse]:{code:-32602,message:"Invalid params"},[pA]:{code:-32603,message:"Internal error"},[Tm]:{code:-32e3,message:"Server error"}},Im=Tm});function _Be(t){return t<=gA[0]&&t>=gA[1]}function mA(t){return DR.includes(t)}function gse(t){return typeof t=="number"}function vA(t){return Object.keys(vf).includes(t)?vf[t]:vf[Im]}function bA(t){let e=Object.values(vf).find(r=>r.code===t);return e||vf[Im]}function EBe(t){if(typeof t.error.code>"u")return{valid:!1,error:"Missing code for JSON-RPC error"};if(typeof t.error.message>"u")return{valid:!1,error:"Missing message for JSON-RPC error"};if(!gse(t.error.code))return{valid:!1,error:`Invalid error code type for JSON-RPC: ${t.error.code}`};if(mA(t.error.code)){let e=bA(t.error.code);if(e.message!==vf[Im].message&&t.error.message===e.message)return{valid:!1,error:`Invalid error code message for JSON-RPC: ${t.error.code}`}}return{valid:!0}}function MR(t,e,r){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${r} RPC url at ${e}`):t}var BR=je(()=>{l();yA()});var mse=R(bf=>{"use strict";l();Object.defineProperty(bf,"__esModule",{value:!0});bf.isBrowserCryptoAvailable=bf.getSubtleCrypto=bf.getBrowerCrypto=void 0;function LR(){return(global===null||global===void 0?void 0:global.crypto)||(global===null||global===void 0?void 0:global.msCrypto)||{}}bf.getBrowerCrypto=LR;function yse(){let t=LR();return t.subtle||t.webkitSubtle}bf.getSubtleCrypto=yse;function ABe(){return!!LR()&&!!yse()}bf.isBrowserCryptoAvailable=ABe});var wse=R(wf=>{"use strict";l();Object.defineProperty(wf,"__esModule",{value:!0});wf.isBrowser=wf.isNode=wf.isReactNative=void 0;function vse(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}wf.isReactNative=vse;function bse(){return typeof A.default<"u"&&typeof A.default.versions<"u"&&typeof A.default.versions.node<"u"}wf.isNode=bse;function SBe(){return!vse()&&!bse()}wf.isBrowser=SBe});var qR=R(wA=>{"use strict";l();Object.defineProperty(wA,"__esModule",{value:!0});var _se=(Y0(),Sn($0));_se.__exportStar(mse(),wA);_se.__exportStar(wse(),wA)});var si={};Wr(si,{isNodeJs:()=>Ase});var Ese,Ase,Sse=je(()=>{l();Ese=at(qR());oi(si,at(qR()));Ase=Ese.isNode});function FR(t=3){let e=Date.now()*Math.pow(10,t),r=Math.floor(Math.random()*Math.pow(10,t));return e+r}function UR(t=6){return BigInt(FR(t))}function kR(t,e,r){return{id:r||FR(),jsonrpc:"2.0",method:t,params:e}}function xBe(t,e){return{id:t,jsonrpc:"2.0",result:e}}function VR(t,e,r){return{id:t,jsonrpc:"2.0",error:xse(e,r)}}function xse(t,e){return typeof t>"u"?vA(pA):(typeof t=="string"&&(t=Object.assign(Object.assign({},vA(Tm)),{message:t})),typeof e<"u"&&(t.data=e),mA(t.code)&&(t=bA(t.code)),t)}var Tse=je(()=>{l();BR();yA()});function TBe(t){return t.includes("*")?EA(t):!/\W/g.test(t)}function _A(t){return t==="*"}function EA(t){return _A(t)?!0:!(!t.includes("*")||t.split("*").length!==2||t.split("*").filter(e=>e.trim()==="").length!==1)}function IBe(t){return!_A(t)&&EA(t)&&!t.split("*")[0].trim()}function CBe(t){return!_A(t)&&EA(t)&&!t.split("*")[1].trim()}var Ise=je(()=>{l()});var Cm,HR,AA,Nm,Cse=je(()=>{l();Cm=class{},HR=class extends Cm{constructor(e){super()}},AA=class extends Cm{constructor(){super()}},Nm=class extends AA{constructor(e){super()}}});var Nse=je(()=>{l();Cse()});function PBe(t){let e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function Ose(t,e){let r=PBe(t);return typeof r>"u"?!1:new RegExp(e).test(r)}function RBe(t){return Ose(t,NBe)}function SA(t){return Ose(t,OBe)}function GR(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}var NBe,OBe,Pse=je(()=>{l();NBe="^https?:",OBe="^wss?:"});function jR(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function DBe(t){return jR(t)&&"method"in t}function zR(t){return jR(t)&&(Rse(t)||xA(t))}function Rse(t){return"result"in t}function xA(t){return"error"in t}function MBe(t){return"error"in t&&t.valid===!1}var Dse=je(()=>{l()});var Bi={};Wr(Bi,{DEFAULT_ERROR:()=>Im,IBaseJsonRpcProvider:()=>AA,IEvents:()=>Cm,IJsonRpcConnection:()=>HR,IJsonRpcProvider:()=>Nm,INTERNAL_ERROR:()=>pA,INVALID_PARAMS:()=>pse,INVALID_REQUEST:()=>dse,METHOD_NOT_FOUND:()=>hse,PARSE_ERROR:()=>lse,RESERVED_ERROR_CODES:()=>DR,SERVER_ERROR:()=>Tm,SERVER_ERROR_CODE_RANGE:()=>gA,STANDARD_ERROR_MAP:()=>vf,formatErrorMessage:()=>xse,formatJsonRpcError:()=>VR,formatJsonRpcRequest:()=>kR,formatJsonRpcResult:()=>xBe,getBigIntRpcId:()=>UR,getError:()=>vA,getErrorByCode:()=>bA,isHttpUrl:()=>RBe,isJsonRpcError:()=>xA,isJsonRpcPayload:()=>jR,isJsonRpcRequest:()=>DBe,isJsonRpcResponse:()=>zR,isJsonRpcResult:()=>Rse,isJsonRpcValidationInvalid:()=>MBe,isLocalhostUrl:()=>GR,isNodeJs:()=>Ase,isReservedErrorCode:()=>mA,isServerErrorCode:()=>_Be,isValidDefaultRoute:()=>_A,isValidErrorCode:()=>gse,isValidLeadingWildcardRoute:()=>IBe,isValidRoute:()=>TBe,isValidTrailingWildcardRoute:()=>CBe,isValidWildcardRoute:()=>EA,isWsUrl:()=>SA,parseConnectionError:()=>MR,payloadId:()=>FR,validateJsonRpcError:()=>EBe});var Om=je(()=>{l();yA();BR();Sse();oi(Bi,si);Tse();Ise();Nse();Pse();Dse()});var Bse={};Wr(Bse,{JsonRpcProvider:()=>KR,default:()=>KR});var Mse,KR,Lse=je(()=>{l();Mse=at(Us());Om();KR=class extends Nm{constructor(e){super(e),this.events=new Mse.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async request(e,r){return this.requestStrict(kR(e.method,e.params||[],e.id||UR().toString()),r)}async requestStrict(e,r){return new Promise(async(n,i)=>{if(!this.connection.connected)try{await this.open()}catch(s){i(s)}this.events.on(`${e.id}`,s=>{xA(s)?i(s.error):n(s.result)});try{await this.connection.send(e,r)}catch(s){i(s)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),zR(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}}});var Fse=R((Qft,qse)=>{"use strict";l();qse.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}});var Hse={};Wr(Hse,{WsConnection:()=>WR,default:()=>WR});var Vse,BBe,LBe,Use,kse,qBe,WR,Gse=je(()=>{l();Vse=at(Us());tp();Om();BBe=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:Fse(),LBe=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",Use=t=>t.split("?")[0],kse=10,qBe=BBe(),WR=class{constructor(e){if(this.url=e,this.events=new Vse.EventEmitter,this.registering=!1,!SA(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,r)=>{if(typeof this.socket>"u"){r(new Error("Connection already closed"));return}this.socket.onclose=n=>{this.onClose(n),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(Xa(e))}catch(r){this.onError(e.id,r)}}register(e=this.url){if(!SA(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){let r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return i(new Error("WebSocket connection is missing or invalid"));n(this.socket)})})}return this.url=e,this.registering=!0,new Promise((r,n)=>{let i=new URLSearchParams(e).get("origin"),s=(0,Bi.isReactNative)()?{headers:{origin:i}}:{rejectUnauthorized:!GR(e)},a=new qBe(e,[],s);LBe()?a.onerror=o=>{let c=o;n(this.emitError(c.error))}:a.on("error",o=>{n(this.emitError(o))}),a.onopen=()=>{this.onOpen(a),r(a)}})}onOpen(e){e.onmessage=r=>this.onPayload(r),e.onclose=r=>this.onClose(r),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;let r=typeof e.data=="string"?of(e.data):e.data;this.events.emit("payload",r)}onError(e,r){let n=this.parseError(r),i=n.message||n.toString(),s=VR(e,i);this.events.emit("payload",s)}parseError(e,r=this.url){return MR(e,Use(r),"WS")}resetMaxListeners(){this.events.getMaxListeners()>kse&&this.events.setMaxListeners(kse)}emitError(e){let r=this.parseError(new Error(e?.message||`WebSocket connection failed for host: ${Use(this.url)}`));return this.events.emit("register_error",r),r}}});var Sae=R((Pm,Lp)=>{l();var FBe=200,iD="__lodash_hash_undefined__",DA=1,tae=2,rae=9007199254740991,TA="[object Arguments]",JR="[object Array]",UBe="[object AsyncFunction]",nae="[object Boolean]",iae="[object Date]",sae="[object Error]",aae="[object Function]",kBe="[object GeneratorFunction]",IA="[object Map]",oae="[object Number]",VBe="[object Null]",Bp="[object Object]",jse="[object Promise]",HBe="[object Proxy]",cae="[object RegExp]",CA="[object Set]",uae="[object String]",GBe="[object Symbol]",jBe="[object Undefined]",XR="[object WeakMap]",fae="[object ArrayBuffer]",NA="[object DataView]",zBe="[object Float32Array]",KBe="[object Float64Array]",WBe="[object Int8Array]",QBe="[object Int16Array]",$Be="[object Int32Array]",YBe="[object Uint8Array]",JBe="[object Uint8ClampedArray]",XBe="[object Uint16Array]",ZBe="[object Uint32Array]",eLe=/[\\^$.*+?()[\]{}|]/g,tLe=/^\[object .+?Constructor\]$/,rLe=/^(?:0|[1-9]\d*)$/,tn={};tn[zBe]=tn[KBe]=tn[WBe]=tn[QBe]=tn[$Be]=tn[YBe]=tn[JBe]=tn[XBe]=tn[ZBe]=!0;tn[TA]=tn[JR]=tn[fae]=tn[nae]=tn[NA]=tn[iae]=tn[sae]=tn[aae]=tn[IA]=tn[oae]=tn[Bp]=tn[cae]=tn[CA]=tn[uae]=tn[XR]=!1;var lae=typeof global=="object"&&global&&global.Object===Object&&global,nLe=typeof self=="object"&&self&&self.Object===Object&&self,Zc=lae||nLe||Function("return this")(),dae=typeof Pm=="object"&&Pm&&!Pm.nodeType&&Pm,zse=dae&&typeof Lp=="object"&&Lp&&!Lp.nodeType&&Lp,hae=zse&&zse.exports===dae,QR=hae&&lae.process,Kse=function(){try{return QR&&QR.binding&&QR.binding("util")}catch{}}(),Wse=Kse&&Kse.isTypedArray;function iLe(t,e){for(var r=-1,n=t==null?0:t.length,i=0,s=[];++r<n;){var a=t[r];e(a,r,t)&&(s[i++]=a)}return s}function sLe(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}function aLe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}function oLe(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}function cLe(t){return function(e){return t(e)}}function uLe(t,e){return t.has(e)}function fLe(t,e){return t?.[e]}function lLe(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}function dLe(t,e){return function(r){return t(e(r))}}function hLe(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var pLe=Array.prototype,gLe=Function.prototype,MA=Object.prototype,$R=Zc["__core-js_shared__"],pae=gLe.toString,ac=MA.hasOwnProperty,Qse=function(){var t=/[^.]+$/.exec($R&&$R.keys&&$R.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),gae=MA.toString,yLe=RegExp("^"+pae.call(ac).replace(eLe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$se=hae?Zc.Buffer:void 0,OA=Zc.Symbol,Yse=Zc.Uint8Array,yae=MA.propertyIsEnumerable,mLe=pLe.splice,gd=OA?OA.toStringTag:void 0,Jse=Object.getOwnPropertySymbols,vLe=$se?$se.isBuffer:void 0,bLe=dLe(Object.keys,Object),ZR=qp(Zc,"DataView"),Rm=qp(Zc,"Map"),eD=qp(Zc,"Promise"),tD=qp(Zc,"Set"),rD=qp(Zc,"WeakMap"),Dm=qp(Object,"create"),wLe=vd(ZR),_Le=vd(Rm),ELe=vd(eD),ALe=vd(tD),SLe=vd(rD),Xse=OA?OA.prototype:void 0,YR=Xse?Xse.valueOf:void 0;function yd(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function xLe(){this.__data__=Dm?Dm(null):{},this.size=0}function TLe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function ILe(t){var e=this.__data__;if(Dm){var r=e[t];return r===iD?void 0:r}return ac.call(e,t)?e[t]:void 0}function CLe(t){var e=this.__data__;return Dm?e[t]!==void 0:ac.call(e,t)}function NLe(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Dm&&e===void 0?iD:e,this}yd.prototype.clear=xLe;yd.prototype.delete=TLe;yd.prototype.get=ILe;yd.prototype.has=CLe;yd.prototype.set=NLe;function eu(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function OLe(){this.__data__=[],this.size=0}function PLe(t){var e=this.__data__,r=BA(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():mLe.call(e,r,1),--this.size,!0}function RLe(t){var e=this.__data__,r=BA(e,t);return r<0?void 0:e[r][1]}function DLe(t){return BA(this.__data__,t)>-1}function MLe(t,e){var r=this.__data__,n=BA(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}eu.prototype.clear=OLe;eu.prototype.delete=PLe;eu.prototype.get=RLe;eu.prototype.has=DLe;eu.prototype.set=MLe;function md(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function BLe(){this.size=0,this.__data__={hash:new yd,map:new(Rm||eu),string:new yd}}function LLe(t){var e=LA(this,t).delete(t);return this.size-=e?1:0,e}function qLe(t){return LA(this,t).get(t)}function FLe(t){return LA(this,t).has(t)}function ULe(t,e){var r=LA(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}md.prototype.clear=BLe;md.prototype.delete=LLe;md.prototype.get=qLe;md.prototype.has=FLe;md.prototype.set=ULe;function PA(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new md;++e<r;)this.add(t[e])}function kLe(t){return this.__data__.set(t,iD),this}function VLe(t){return this.__data__.has(t)}PA.prototype.add=PA.prototype.push=kLe;PA.prototype.has=VLe;function Ef(t){var e=this.__data__=new eu(t);this.size=e.size}function HLe(){this.__data__=new eu,this.size=0}function GLe(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function jLe(t){return this.__data__.get(t)}function zLe(t){return this.__data__.has(t)}function KLe(t,e){var r=this.__data__;if(r instanceof eu){var n=r.__data__;if(!Rm||n.length<FBe-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new md(n)}return r.set(t,e),this.size=r.size,this}Ef.prototype.clear=HLe;Ef.prototype.delete=GLe;Ef.prototype.get=jLe;Ef.prototype.has=zLe;Ef.prototype.set=KLe;function WLe(t,e){var r=RA(t),n=!r&&cqe(t),i=!r&&!n&&nD(t),s=!r&&!n&&!i&&Aae(t),a=r||n||i||s,o=a?oLe(t.length,String):[],c=o.length;for(var u in t)(e||ac.call(t,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||nqe(u,c)))&&o.push(u);return o}function BA(t,e){for(var r=t.length;r--;)if(bae(t[r][0],e))return r;return-1}function QLe(t,e,r){var n=e(t);return RA(t)?n:sLe(n,r(t))}function Bm(t){return t==null?t===void 0?jBe:VBe:gd&&gd in Object(t)?tqe(t):oqe(t)}function Zse(t){return Mm(t)&&Bm(t)==TA}function mae(t,e,r,n,i){return t===e?!0:t==null||e==null||!Mm(t)&&!Mm(e)?t!==t&&e!==e:$Le(t,e,r,n,mae,i)}function $Le(t,e,r,n,i,s){var a=RA(t),o=RA(e),c=a?JR:_f(t),u=o?JR:_f(e);c=c==TA?Bp:c,u=u==TA?Bp:u;var f=c==Bp,d=u==Bp,m=c==u;if(m&&nD(t)){if(!nD(e))return!1;a=!0,f=!1}if(m&&!f)return s||(s=new Ef),a||Aae(t)?vae(t,e,r,n,i,s):ZLe(t,e,c,r,n,i,s);if(!(r&DA)){var _=f&&ac.call(t,"__wrapped__"),x=d&&ac.call(e,"__wrapped__");if(_||x){var P=_?t.value():t,D=x?e.value():e;return s||(s=new Ef),i(P,D,r,n,s)}}return m?(s||(s=new Ef),eqe(t,e,r,n,i,s)):!1}function YLe(t){if(!Eae(t)||sqe(t))return!1;var e=wae(t)?yLe:tLe;return e.test(vd(t))}function JLe(t){return Mm(t)&&_ae(t.length)&&!!tn[Bm(t)]}function XLe(t){if(!aqe(t))return bLe(t);var e=[];for(var r in Object(t))ac.call(t,r)&&r!="constructor"&&e.push(r);return e}function vae(t,e,r,n,i,s){var a=r&DA,o=t.length,c=e.length;if(o!=c&&!(a&&c>o))return!1;var u=s.get(t);if(u&&s.get(e))return u==e;var f=-1,d=!0,m=r&tae?new PA:void 0;for(s.set(t,e),s.set(e,t);++f<o;){var _=t[f],x=e[f];if(n)var P=a?n(x,_,f,e,t,s):n(_,x,f,t,e,s);if(P!==void 0){if(P)continue;d=!1;break}if(m){if(!aLe(e,function(D,k){if(!uLe(m,k)&&(_===D||i(_,D,r,n,s)))return m.push(k)})){d=!1;break}}else if(!(_===x||i(_,x,r,n,s))){d=!1;break}}return s.delete(t),s.delete(e),d}function ZLe(t,e,r,n,i,s,a){switch(r){case NA:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case fae:return!(t.byteLength!=e.byteLength||!s(new Yse(t),new Yse(e)));case nae:case iae:case oae:return bae(+t,+e);case sae:return t.name==e.name&&t.message==e.message;case cae:case uae:return t==e+"";case IA:var o=lLe;case CA:var c=n&DA;if(o||(o=hLe),t.size!=e.size&&!c)return!1;var u=a.get(t);if(u)return u==e;n|=tae,a.set(t,e);var f=vae(o(t),o(e),n,i,s,a);return a.delete(t),f;case GBe:if(YR)return YR.call(t)==YR.call(e)}return!1}function eqe(t,e,r,n,i,s){var a=r&DA,o=eae(t),c=o.length,u=eae(e),f=u.length;if(c!=f&&!a)return!1;for(var d=c;d--;){var m=o[d];if(!(a?m in e:ac.call(e,m)))return!1}var _=s.get(t);if(_&&s.get(e))return _==e;var x=!0;s.set(t,e),s.set(e,t);for(var P=a;++d<c;){m=o[d];var D=t[m],k=e[m];if(n)var Y=a?n(k,D,m,e,t,s):n(D,k,m,t,e,s);if(!(Y===void 0?D===k||i(D,k,r,n,s):Y)){x=!1;break}P||(P=m=="constructor")}if(x&&!P){var X=t.constructor,Z=e.constructor;X!=Z&&"constructor"in t&&"constructor"in e&&!(typeof X=="function"&&X instanceof X&&typeof Z=="function"&&Z instanceof Z)&&(x=!1)}return s.delete(t),s.delete(e),x}function eae(t){return QLe(t,lqe,rqe)}function LA(t,e){var r=t.__data__;return iqe(e)?r[typeof e=="string"?"string":"hash"]:r.map}function qp(t,e){var r=fLe(t,e);return YLe(r)?r:void 0}function tqe(t){var e=ac.call(t,gd),r=t[gd];try{t[gd]=void 0;var n=!0}catch{}var i=gae.call(t);return n&&(e?t[gd]=r:delete t[gd]),i}var rqe=Jse?function(t){return t==null?[]:(t=Object(t),iLe(Jse(t),function(e){return yae.call(t,e)}))}:dqe,_f=Bm;(ZR&&_f(new ZR(new ArrayBuffer(1)))!=NA||Rm&&_f(new Rm)!=IA||eD&&_f(eD.resolve())!=jse||tD&&_f(new tD)!=CA||rD&&_f(new rD)!=XR)&&(_f=function(t){var e=Bm(t),r=e==Bp?t.constructor:void 0,n=r?vd(r):"";if(n)switch(n){case wLe:return NA;case _Le:return IA;case ELe:return jse;case ALe:return CA;case SLe:return XR}return e});function nqe(t,e){return e=e??rae,!!e&&(typeof t=="number"||rLe.test(t))&&t>-1&&t%1==0&&t<e}function iqe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function sqe(t){return!!Qse&&Qse in t}function aqe(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||MA;return t===r}function oqe(t){return gae.call(t)}function vd(t){if(t!=null){try{return pae.call(t)}catch{}try{return t+""}catch{}}return""}function bae(t,e){return t===e||t!==t&&e!==e}var cqe=Zse(function(){return arguments}())?Zse:function(t){return Mm(t)&&ac.call(t,"callee")&&!yae.call(t,"callee")},RA=Array.isArray;function uqe(t){return t!=null&&_ae(t.length)&&!wae(t)}var nD=vLe||hqe;function fqe(t,e){return mae(t,e)}function wae(t){if(!Eae(t))return!1;var e=Bm(t);return e==aae||e==kBe||e==UBe||e==HBe}function _ae(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=rae}function Eae(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function Mm(t){return t!=null&&typeof t=="object"}var Aae=Wse?cLe(Wse):JLe;function lqe(t){return uqe(t)?WLe(t):XLe(t)}function dqe(){return[]}function hqe(){return!1}Lp.exports=fqe});var Loe=R(He=>{"use strict";l();Object.defineProperty(He,"__esModule",{value:!0});var bd=Us(),kp=(OZ(),Sn(NZ)),pqe=($Z(),Sn(QZ)),Mr=(JN(),Sn(YN)),ao=mO(),Gt=ep(),sD=(tp(),Sn(KZ)),cD=(yP(),Sn(gP)),Se=xm(),gqe=(CP(),Sn(IP)),yqe=(Lse(),Sn(Bse)),vs=(Om(),Sn(Bi)),mqe=(Gse(),Sn(Hse)),vqe=Sae();function XA(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}function bqe(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}),e.default=t,Object.freeze(e)}var wqe=XA(bd),_qe=XA(pqe),qA=bqe(cD),Eqe=XA(mqe),Aqe=XA(vqe),_D="wc",ED=2,ZA="core",so=`${_D}@2:${ZA}:`,Gae={name:ZA,logger:"error"},jae={database:":memory:"},zae="crypto",uD="client_ed25519_seed",Kae=Gt.ONE_DAY,Wae="keychain",Qae="0.3",$ae="messages",Yae="0.3",Jae=Gt.SIX_HOURS,Xae="publisher",Zae="irn",eoe="error",AD="wss://relay.walletconnect.org",toe="relayer",bs={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},roe="_subscription",Bs={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},noe=.1,Sqe={database:":memory:"},FA="2.17.0",xqe=1e4,Af={link_mode:"link_mode",relay:"relay"},ioe="0.3",soe="WALLETCONNECT_CLIENT_ID",fD="WALLETCONNECT_LINK_MODE_APPS",io={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},Tqe=Gt.THIRTY_DAYS,aoe="subscription",ooe="0.3",coe=Gt.FIVE_SECONDS*1e3,uoe="pairing",foe="0.3",Iqe=Gt.THIRTY_DAYS,Fp={wc_pairingDelete:{req:{ttl:Gt.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:Gt.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:Gt.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:Gt.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:Gt.ONE_DAY,prompt:!1,tag:0},res:{ttl:Gt.ONE_DAY,prompt:!1,tag:0}}},Up={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},Ea={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},loe="history",doe="0.3",hoe="expirer",Aa={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},poe="0.3",Cqe=Gt.ONE_DAY,goe="verify-api",Nqe="https://verify.walletconnect.com",yoe="https://verify.walletconnect.org",Fm=yoe,moe=`${Fm}/v3`,voe=[Nqe,yoe],boe="echo",woe="https://echo.walletconnect.com",Oqe="event-client",oc={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},tu={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},Pqe={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},Rqe={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},Dqe={authenticated_session_approve_started:"authenticated_session_approve_started",authenticated_session_not_expired:"authenticated_session_not_expired",chains_caip2_compliant:"chains_caip2_compliant",chains_evm_compliant:"chains_evm_compliant",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve",authenticated_session_approve_publish_success:"authenticated_session_approve_publish_success"},Mqe={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",missing_session_authenticate_request:"missing_session_authenticate_request",session_authenticate_request_expired:"session_authenticate_request_expired",chains_caip2_compliant_failure:"chains_caip2_compliant_failure",chains_evm_compliant_failure:"chains_evm_compliant_failure",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},_oe=.1,Eoe="event-client",Aoe=86400,Soe="https://pulse.walletconnect.org/batch";function Bqe(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),a=s.charCodeAt(0);if(r[a]!==255)throw new TypeError(s+" is ambiguous");r[a]=i}var o=t.length,c=t.charAt(0),u=Math.log(o)/Math.log(256),f=Math.log(256)/Math.log(o);function d(x){if(x instanceof Uint8Array||(ArrayBuffer.isView(x)?x=new Uint8Array(x.buffer,x.byteOffset,x.byteLength):Array.isArray(x)&&(x=Uint8Array.from(x))),!(x instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(x.length===0)return"";for(var P=0,D=0,k=0,Y=x.length;k!==Y&&x[k]===0;)k++,P++;for(var X=(Y-k)*f+1>>>0,Z=new Uint8Array(X);k!==Y;){for(var U=x[k],Q=0,j=X-1;(U!==0||Q<D)&&j!==-1;j--,Q++)U+=256*Z[j]>>>0,Z[j]=U%o>>>0,U=U/o>>>0;if(U!==0)throw new Error("Non-zero carry");D=Q,k++}for(var K=X-D;K!==X&&Z[K]===0;)K++;for(var $=c.repeat(P);K<X;++K)$+=t.charAt(Z[K]);return $}function m(x){if(typeof x!="string")throw new TypeError("Expected String");if(x.length===0)return new Uint8Array;var P=0;if(x[P]!==" "){for(var D=0,k=0;x[P]===c;)D++,P++;for(var Y=(x.length-P)*u+1>>>0,X=new Uint8Array(Y);x[P];){var Z=r[x.charCodeAt(P)];if(Z===255)return;for(var U=0,Q=Y-1;(Z!==0||U<k)&&Q!==-1;Q--,U++)Z+=o*X[Q]>>>0,X[Q]=Z%256>>>0,Z=Z/256>>>0;if(Z!==0)throw new Error("Non-zero carry");k=U,P++}if(x[P]!==" "){for(var j=Y-k;j!==Y&&X[j]===0;)j++;for(var K=new Uint8Array(D+(Y-j)),$=D;j!==Y;)K[$++]=X[j++];return K}}}function _(x){var P=m(x);if(P)return P;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:m,decode:_}}var Lqe=Bqe,qqe=Lqe,xoe=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},Fqe=t=>new TextEncoder().encode(t),Uqe=t=>new TextDecoder().decode(t),lD=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},dD=class{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Toe(this,e)}},hD=class{constructor(e){this.decoders=e}or(e){return Toe(this,e)}decode(e){let r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},Toe=(t,e)=>new hD({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}}),pD=class{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new lD(e,r,n),this.decoder=new dD(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},eS=({name:t,prefix:e,encode:r,decode:n})=>new pD(t,e,r,n),Um=({prefix:t,name:e,alphabet:r})=>{let{encode:n,decode:i}=qqe(r,e);return eS({prefix:t,name:e,encode:n,decode:s=>xoe(i(s))})},kqe=(t,e,r,n)=>{let i={};for(let f=0;f<e.length;++f)i[e[f]]=f;let s=t.length;for(;t[s-1]==="=";)--s;let a=new Uint8Array(s*r/8|0),o=0,c=0,u=0;for(let f=0;f<s;++f){let d=i[t[f]];if(d===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|d,o+=r,o>=8&&(o-=8,a[u++]=255&c>>o)}if(o>=r||255&c<<8-o)throw new SyntaxError("Unexpected end of data");return a},Vqe=(t,e,r)=>{let n=e[e.length-1]==="=",i=(1<<r)-1,s="",a=0,o=0;for(let c=0;c<t.length;++c)for(o=o<<8|t[c],a+=8;a>r;)a-=r,s+=e[i&o>>a];if(a&&(s+=e[i&o<<r-a]),n)for(;s.length*r&7;)s+="=";return s},pi=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>eS({prefix:e,name:t,encode(i){return Vqe(i,n,r)},decode(i){return kqe(i,n,r,t)}}),Hqe=eS({prefix:"\0",name:"identity",encode:t=>Uqe(t),decode:t=>Fqe(t)}),Gqe=Object.freeze({__proto__:null,identity:Hqe}),jqe=pi({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),zqe=Object.freeze({__proto__:null,base2:jqe}),Kqe=pi({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),Wqe=Object.freeze({__proto__:null,base8:Kqe}),Qqe=Um({prefix:"9",name:"base10",alphabet:"0123456789"}),$qe=Object.freeze({__proto__:null,base10:Qqe}),Yqe=pi({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Jqe=pi({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),Xqe=Object.freeze({__proto__:null,base16:Yqe,base16upper:Jqe}),Zqe=pi({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),eFe=pi({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),tFe=pi({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),rFe=pi({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),nFe=pi({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),iFe=pi({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),sFe=pi({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),aFe=pi({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),oFe=pi({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),cFe=Object.freeze({__proto__:null,base32:Zqe,base32upper:eFe,base32pad:tFe,base32padupper:rFe,base32hex:nFe,base32hexupper:iFe,base32hexpad:sFe,base32hexpadupper:aFe,base32z:oFe}),uFe=Um({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),fFe=Um({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),lFe=Object.freeze({__proto__:null,base36:uFe,base36upper:fFe}),dFe=Um({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),hFe=Um({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),pFe=Object.freeze({__proto__:null,base58btc:dFe,base58flickr:hFe}),gFe=pi({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),yFe=pi({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),mFe=pi({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),vFe=pi({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),bFe=Object.freeze({__proto__:null,base64:gFe,base64pad:yFe,base64url:mFe,base64urlpad:vFe}),Ioe=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),wFe=Ioe.reduce((t,e,r)=>(t[r]=e,t),[]),_Fe=Ioe.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function EFe(t){return t.reduce((e,r)=>(e+=wFe[r],e),"")}function AFe(t){let e=[];for(let r of t){let n=_Fe[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}var SFe=eS({prefix:"\u{1F680}",name:"base256emoji",encode:EFe,decode:AFe}),xFe=Object.freeze({__proto__:null,base256emoji:SFe}),TFe=Coe,xae=128,IFe=127,CFe=~IFe,NFe=Math.pow(2,31);function Coe(t,e,r){e=e||[],r=r||0;for(var n=r;t>=NFe;)e[r++]=t&255|xae,t/=128;for(;t&CFe;)e[r++]=t&255|xae,t>>>=7;return e[r]=t|0,Coe.bytes=r-n+1,e}var OFe=gD,PFe=128,Tae=127;function gD(t,n){var r=0,n=n||0,i=0,s=n,a,o=t.length;do{if(s>=o)throw gD.bytes=0,new RangeError("Could not decode varint");a=t[s++],r+=i<28?(a&Tae)<<i:(a&Tae)*Math.pow(2,i),i+=7}while(a>=PFe);return gD.bytes=s-n,r}var RFe=Math.pow(2,7),DFe=Math.pow(2,14),MFe=Math.pow(2,21),BFe=Math.pow(2,28),LFe=Math.pow(2,35),qFe=Math.pow(2,42),FFe=Math.pow(2,49),UFe=Math.pow(2,56),kFe=Math.pow(2,63),VFe=function(t){return t<RFe?1:t<DFe?2:t<MFe?3:t<BFe?4:t<LFe?5:t<qFe?6:t<FFe?7:t<UFe?8:t<kFe?9:10},HFe={encode:TFe,decode:OFe,encodingLength:VFe},Noe=HFe,Iae=(t,e,r=0)=>(Noe.encode(t,e,r),e),Cae=t=>Noe.encodingLength(t),yD=(t,e)=>{let r=e.byteLength,n=Cae(t),i=n+Cae(r),s=new Uint8Array(i+r);return Iae(t,s,0),Iae(r,s,n),s.set(e,i),new mD(t,r,e,s)},mD=class{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}},Ooe=({name:t,code:e,encode:r})=>new vD(t,e,r),vD=class{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){let r=this.encode(e);return r instanceof Uint8Array?yD(this.code,r):r.then(n=>yD(this.code,n))}else throw Error("Unknown type, must be binary type")}},Poe=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),GFe=Ooe({name:"sha2-256",code:18,encode:Poe("SHA-256")}),jFe=Ooe({name:"sha2-512",code:19,encode:Poe("SHA-512")}),zFe=Object.freeze({__proto__:null,sha256:GFe,sha512:jFe}),Roe=0,KFe="identity",Doe=xoe,WFe=t=>yD(Roe,Doe(t)),QFe={code:Roe,name:KFe,encode:Doe,digest:WFe},$Fe=Object.freeze({__proto__:null,identity:QFe});new TextEncoder,new TextDecoder;var Nae={...Gqe,...zqe,...Wqe,...$qe,...Xqe,...cFe,...lFe,...pFe,...bFe,...xFe};({...zFe,...$Fe});function YFe(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}function Moe(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}var Oae=Moe("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),aD=Moe("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);let e=YFe(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),JFe={utf8:Oae,"utf-8":Oae,hex:Nae.base16,latin1:aD,ascii:aD,binary:aD,...Nae};function XFe(t,e="utf8"){let r=JFe[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t,"utf8"):r.decoder.decode(`${r.prefix}${t}`)}var UA=class{constructor(e,r){this.core=e,this.logger=r,this.keychain=new Map,this.name=Wae,this.version=Qae,this.initialized=!1,this.storagePrefix=so,this.init=async()=>{if(!this.initialized){let n=await this.getKeyChain();typeof n<"u"&&(this.keychain=n),this.initialized=!0}},this.has=n=>(this.isInitialized(),this.keychain.has(n)),this.set=async(n,i)=>{this.isInitialized(),this.keychain.set(n,i),await this.persist()},this.get=n=>{this.isInitialized();let i=this.keychain.get(n);if(typeof i>"u"){let{message:s}=Se.getInternalError("NO_MATCHING_KEY",`${this.name}: ${n}`);throw new Error(s)}return i},this.del=async n=>{this.isInitialized(),this.keychain.delete(n),await this.persist()},this.core=e,this.logger=Mr.generateChildLogger(r,this.name)}get context(){return Mr.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,Se.mapToObj(e))}async getKeyChain(){let e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?Se.objToMap(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){let{message:e}=Se.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}},kA=class{constructor(e,r,n){this.core=e,this.logger=r,this.name=zae,this.randomSessionIdentifier=Se.generateRandomBytes32(),this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=i=>(this.isInitialized(),this.keychain.has(i)),this.getClientId=async()=>{this.isInitialized();let i=await this.getClientSeed(),s=qA.generateKeyPair(i);return qA.encodeIss(s.publicKey)},this.generateKeyPair=()=>{this.isInitialized();let i=Se.generateKeyPair();return this.setPrivateKey(i.publicKey,i.privateKey)},this.signJWT=async i=>{this.isInitialized();let s=await this.getClientSeed(),a=qA.generateKeyPair(s),o=this.randomSessionIdentifier,c=Kae;return await qA.signJWT(o,i,c,a)},this.generateSharedKey=(i,s,a)=>{this.isInitialized();let o=this.getPrivateKey(i),c=Se.deriveSymKey(o,s);return this.setSymKey(c,a)},this.setSymKey=async(i,s)=>{this.isInitialized();let a=s||Se.hashKey(i);return await this.keychain.set(a,i),a},this.deleteKeyPair=async i=>{this.isInitialized(),await this.keychain.del(i)},this.deleteSymKey=async i=>{this.isInitialized(),await this.keychain.del(i)},this.encode=async(i,s,a)=>{this.isInitialized();let o=Se.validateEncoding(a),c=sD.safeJsonStringify(s);if(Se.isTypeTwoEnvelope(o))return Se.encodeTypeTwoEnvelope(c,a?.encoding);if(Se.isTypeOneEnvelope(o)){let m=o.senderPublicKey,_=o.receiverPublicKey;i=await this.generateSharedKey(m,_)}let u=this.getSymKey(i),{type:f,senderPublicKey:d}=o;return Se.encrypt({type:f,symKey:u,message:c,senderPublicKey:d,encoding:a?.encoding})},this.decode=async(i,s,a)=>{this.isInitialized();let o=Se.validateDecoding(s,a);if(Se.isTypeTwoEnvelope(o)){let c=Se.decodeTypeTwoEnvelope(s,a?.encoding);return sD.safeJsonParse(c)}if(Se.isTypeOneEnvelope(o)){let c=o.receiverPublicKey,u=o.senderPublicKey;i=await this.generateSharedKey(c,u)}try{let c=this.getSymKey(i),u=Se.decrypt({symKey:c,encoded:s,encoding:a?.encoding});return sD.safeJsonParse(u)}catch(c){this.logger.error(`Failed to decode message from topic: '${i}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}},this.getPayloadType=(i,s=Se.BASE64)=>{let a=Se.deserialize({encoded:i,encoding:s});return Se.decodeTypeByte(a.type)},this.getPayloadSenderPublicKey=(i,s=Se.BASE64)=>{let a=Se.deserialize({encoded:i,encoding:s});return a.senderPublicKey?gqe.toString(a.senderPublicKey,Se.BASE16):void 0},this.core=e,this.logger=Mr.generateChildLogger(r,this.name),this.keychain=n||new UA(this.core,this.logger)}get context(){return Mr.getLoggerContext(this.logger)}async setPrivateKey(e,r){return await this.keychain.set(e,r),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(uD)}catch{e=Se.generateRandomBytes32(),await this.keychain.set(uD,e)}return XFe(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){let{message:e}=Se.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}},VA=class extends ao.IMessageTracker{constructor(e,r){super(e,r),this.logger=e,this.core=r,this.messages=new Map,this.name=$ae,this.version=Yae,this.initialized=!1,this.storagePrefix=so,this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{let n=await this.getRelayerMessages();typeof n<"u"&&(this.messages=n),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(n){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(n)}finally{this.initialized=!0}}},this.set=async(n,i)=>{this.isInitialized();let s=Se.hashMessage(i),a=this.messages.get(n);return typeof a>"u"&&(a={}),typeof a[s]<"u"||(a[s]=i,this.messages.set(n,a),await this.persist()),s},this.get=n=>{this.isInitialized();let i=this.messages.get(n);return typeof i>"u"&&(i={}),i},this.has=(n,i)=>{this.isInitialized();let s=this.get(n),a=Se.hashMessage(i);return typeof s[a]<"u"},this.del=async n=>{this.isInitialized(),this.messages.delete(n),await this.persist()},this.logger=Mr.generateChildLogger(e,this.name),this.core=r}get context(){return Mr.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,Se.mapToObj(e))}async getRelayerMessages(){let e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?Se.objToMap(e):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){let{message:e}=Se.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}},bD=class extends ao.IPublisher{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,this.events=new bd.EventEmitter,this.name=Xae,this.queue=new Map,this.publishTimeout=Gt.toMiliseconds(Gt.ONE_MINUTE),this.failedPublishTimeout=Gt.toMiliseconds(Gt.ONE_SECOND),this.needsTransportRestart=!1,this.publish=async(n,i,s)=>{var a;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:n,message:i,opts:s}});let o=s?.ttl||Jae,c=Se.getRelayProtocolName(s),u=s?.prompt||!1,f=s?.tag||0,d=s?.id||vs.getBigIntRpcId().toString(),m={topic:n,message:i,opts:{ttl:o,relay:c,prompt:u,tag:f,id:d,attestation:s?.attestation}},_=`Failed to publish payload, please try again. id:${d} tag:${f}`,x=Date.now(),P,D=1;try{for(;P===void 0;){if(Date.now()-x>this.publishTimeout)throw new Error(_);this.logger.trace({id:d,attempts:D},`publisher.publish - attempt ${D}`),P=await await Se.createExpiringPromise(this.rpcPublish(n,i,o,c,u,f,d,s?.attestation).catch(k=>this.logger.warn(k)),this.publishTimeout,_),D++,P||await new Promise(k=>setTimeout(k,this.failedPublishTimeout))}this.relayer.events.emit(bs.publish,m),this.logger.debug("Successfully Published Payload"),this.logger.trace({type:"method",method:"publish",params:{id:d,topic:n,message:i,opts:s}})}catch(k){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(k),(a=s?.internal)!=null&&a.throwOnFailedPublish)throw k;this.queue.set(d,m)}},this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.relayer=e,this.logger=Mr.generateChildLogger(r,this.name),this.registerEventListeners()}get context(){return Mr.getLoggerContext(this.logger)}rpcPublish(e,r,n,i,s,a,o,c){var u,f,d,m;let _={method:Se.getRelayProtocolApi(i.protocol).publish,params:{topic:e,message:r,ttl:n,prompt:s,tag:a,attestation:c},id:o};return Se.isUndefined((u=_.params)==null?void 0:u.prompt)&&((f=_.params)==null||delete f.prompt),Se.isUndefined((d=_.params)==null?void 0:d.tag)&&((m=_.params)==null||delete m.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:_}),this.relayer.request(_)}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async e=>{let{topic:r,message:n,opts:i}=e;await this.publish(r,n,i)})}registerEventListeners(){this.relayer.core.heartbeat.on(kp.HEARTBEAT_EVENTS.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(bs.connection_stalled);return}this.checkQueue()}),this.relayer.on(bs.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}},wD=class{constructor(){this.map=new Map,this.set=(e,r)=>{let n=this.get(e);this.exists(e,r)||this.map.set(e,[...n,r])},this.get=e=>this.map.get(e)||[],this.exists=(e,r)=>this.get(e).includes(r),this.delete=(e,r)=>{if(typeof r>"u"){this.map.delete(e);return}if(!this.map.has(e))return;let n=this.get(e);if(!this.exists(e,r))return;let i=n.filter(s=>s!==r);if(!i.length){this.map.delete(e);return}this.map.set(e,i)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}},ZFe=Object.defineProperty,eUe=Object.defineProperties,tUe=Object.getOwnPropertyDescriptors,Pae=Object.getOwnPropertySymbols,rUe=Object.prototype.hasOwnProperty,nUe=Object.prototype.propertyIsEnumerable,Rae=(t,e,r)=>e in t?ZFe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Lm=(t,e)=>{for(var r in e||(e={}))rUe.call(e,r)&&Rae(t,r,e[r]);if(Pae)for(var r of Pae(e))nUe.call(e,r)&&Rae(t,r,e[r]);return t},oD=(t,e)=>eUe(t,tUe(e)),HA=class extends ao.ISubscriber{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,this.subscriptions=new Map,this.topicMap=new wD,this.events=new bd.EventEmitter,this.name=aoe,this.version=ooe,this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=so,this.subscribeTimeout=Gt.toMiliseconds(Gt.ONE_MINUTE),this.restartInProgress=!1,this.batchSubscribeTopicsLimit=500,this.pendingBatchMessages=[],this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),this.clientId=await this.relayer.core.crypto.getClientId(),await this.restore()),this.initialized=!0},this.subscribe=async(n,i)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}});try{let s=Se.getRelayProtocolName(i),a={topic:n,relay:s,transportType:i?.transportType};this.pending.set(n,a);let o=await this.rpcSubscribe(n,s,i?.transportType);return typeof o=="string"&&(this.onSubscribe(o,a),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}})),o}catch(s){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(s),s}},this.unsubscribe=async(n,i)=>{await this.restartToComplete(),this.isInitialized(),typeof i?.id<"u"?await this.unsubscribeById(n,i.id,i):await this.unsubscribeByTopic(n,i)},this.isSubscribed=async n=>{if(this.topics.includes(n))return!0;let i=`${this.pendingSubscriptionWatchLabel}_${n}`;return await new Promise((s,a)=>{let o=new Gt.Watch;o.start(i);let c=setInterval(()=>{!this.pending.has(n)&&this.topics.includes(n)&&(clearInterval(c),o.stop(i),s(!0)),o.elapsed(i)>=coe&&(clearInterval(c),o.stop(i),a(new Error("Subscription resolution timeout")))},this.pollingInterval)}).catch(()=>!1)},this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.start=async()=>{await this.onConnect()},this.stop=async()=>{await this.onDisconnect()},this.restart=async()=>{this.restartInProgress=!0,await this.restore(),await this.reset(),this.restartInProgress=!1},this.relayer=e,this.logger=Mr.generateChildLogger(r,this.name),this.clientId=""}get context(){return Mr.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(e,r){let n=!1;try{n=this.getSubscription(e).topic===r}catch{}return n}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,r){let n=this.topicMap.get(e);await Promise.all(n.map(async i=>await this.unsubscribeById(e,i,r)))}async unsubscribeById(e,r,n){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}});try{let i=Se.getRelayProtocolName(n);await this.rpcUnsubscribe(e,r,i);let s=Se.getSdkError("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,r,s),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}})}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(e,r,n=Af.relay){n===Af.relay&&await this.restartToComplete();let i={method:Se.getRelayProtocolApi(r.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i});try{let s=Se.hashMessage(e+this.clientId);return n===Af.link_mode?(setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(i).catch(a=>this.logger.warn(a))},Gt.toMiliseconds(Gt.ONE_SECOND)),s):await await Se.createExpiringPromise(this.relayer.request(i).catch(a=>this.logger.warn(a)),this.subscribeTimeout)?s:null}catch{this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(bs.connection_stalled)}return null}async rpcBatchSubscribe(e){if(!e.length)return;let r=e[0].relay,n={method:Se.getRelayProtocolApi(r.protocol).batchSubscribe,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{return await await Se.createExpiringPromise(this.relayer.request(n).catch(i=>this.logger.warn(i)),this.subscribeTimeout)}catch{this.relayer.events.emit(bs.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;let r=e[0].relay,n={method:Se.getRelayProtocolApi(r.protocol).batchFetchMessages,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});let i;try{i=await await Se.createExpiringPromise(this.relayer.request(n).catch(s=>this.logger.warn(s)),this.subscribeTimeout)}catch{this.relayer.events.emit(bs.connection_stalled)}return i}rpcUnsubscribe(e,r,n){let i={method:Se.getRelayProtocolApi(n.protocol).unsubscribe,params:{topic:e,id:r}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(e,r){this.setSubscription(e,oD(Lm({},r),{id:e})),this.pending.delete(r.topic)}onBatchSubscribe(e){e.length&&e.forEach(r=>{this.setSubscription(r.id,Lm({},r)),this.pending.delete(r.topic)})}async onUnsubscribe(e,r,n){this.events.removeAllListeners(r),this.hasSubscription(r,e)&&this.deleteSubscription(r,n),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,r){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:r}),this.addSubscription(e,r)}addSubscription(e,r){this.subscriptions.set(e,Lm({},r)),this.topicMap.set(r.topic,e),this.events.emit(io.created,r)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});let r=this.subscriptions.get(e);if(!r){let{message:n}=Se.getInternalError("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}deleteSubscription(e,r){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:r});let n=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(n.topic,e),this.events.emit(io.deleted,oD(Lm({},n),{reason:r}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(io.sync)}async reset(){if(this.cached.length){let e=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<e;r++){let n=this.cached.splice(0,this.batchSubscribeTopicsLimit);await this.batchFetchMessages(n),await this.batchSubscribe(n)}}this.events.emit(io.resubscribed)}async restore(){try{let e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){let{message:r}=Se.getInternalError("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){if(!e.length)return;let r=await this.rpcBatchSubscribe(e);Se.isValidArray(r)&&this.onBatchSubscribe(r.map((n,i)=>oD(Lm({},e[i]),{id:n})))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);let r=await this.rpcBatchFetchMessages(e);r&&r.messages&&(this.pendingBatchMessages=this.pendingBatchMessages.concat(r.messages))}async onConnect(){await this.restart(),this.onEnable()}onDisconnect(){this.onDisable()}async checkPending(){if(!this.initialized||!this.relayer.connected)return;let e=[];this.pending.forEach(r=>{e.push(r)}),await this.batchSubscribe(e),this.pendingBatchMessages.length&&(await this.relayer.handleBatchMessageEvents(this.pendingBatchMessages),this.pendingBatchMessages=[])}registerEventListeners(){this.relayer.core.heartbeat.on(kp.HEARTBEAT_EVENTS.pulse,async()=>{await this.checkPending()}),this.events.on(io.created,async e=>{let r=io.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),await this.persist()}),this.events.on(io.deleted,async e=>{let r=io.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),await this.persist()})}isInitialized(){if(!this.initialized){let{message:e}=Se.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(){!this.relayer.connected&&!this.relayer.connecting&&await this.relayer.transportOpen(),this.restartInProgress&&await new Promise(e=>{let r=setInterval(()=>{this.restartInProgress||(clearInterval(r),e())},this.pollingInterval)})}},iUe=Object.defineProperty,Dae=Object.getOwnPropertySymbols,sUe=Object.prototype.hasOwnProperty,aUe=Object.prototype.propertyIsEnumerable,Mae=(t,e,r)=>e in t?iUe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,oUe=(t,e)=>{for(var r in e||(e={}))sUe.call(e,r)&&Mae(t,r,e[r]);if(Dae)for(var r of Dae(e))aUe.call(e,r)&&Mae(t,r,e[r]);return t},GA=class extends ao.IRelayer{constructor(e){super(e),this.protocol="wc",this.version=2,this.events=new bd.EventEmitter,this.name=toe,this.transportExplicitlyClosed=!1,this.initialized=!1,this.connectionAttemptInProgress=!1,this.connectionStatusPollingInterval=20,this.staleConnectionErrors=["socket hang up","stalled","interrupted"],this.hasExperiencedNetworkDisruption=!1,this.requestsInFlight=new Map,this.heartBeatTimeout=Gt.toMiliseconds(Gt.THIRTY_SECONDS+Gt.ONE_SECOND),this.request=async r=>{var n,i;this.logger.debug("Publishing Request Payload");let s=r.id||vs.getBigIntRpcId().toString();await this.toEstablishConnection();try{let a=this.provider.request(r);this.requestsInFlight.set(s,{promise:a,request:r}),this.logger.trace({id:s,method:r.method,topic:(n=r.params)==null?void 0:n.topic},"relayer.request - attempt to publish...");let o=await new Promise(async(c,u)=>{let f=()=>{u(new Error(`relayer.request - publish interrupted, id: ${s}`))};this.provider.on(Bs.disconnect,f);let d=await a;this.provider.off(Bs.disconnect,f),c(d)});return this.logger.trace({id:s,method:r.method,topic:(i=r.params)==null?void 0:i.topic},"relayer.request - published"),o}catch(a){throw this.logger.debug(`Failed to Publish Request: ${s}`),a}finally{this.requestsInFlight.delete(s)}},this.resetPingTimeout=()=>{if(Se.isNode())try{clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var r,n,i;(i=(n=(r=this.provider)==null?void 0:r.connection)==null?void 0:n.socket)==null||i.terminate()},this.heartBeatTimeout)}catch(r){this.logger.warn(r)}},this.onPayloadHandler=r=>{this.onProviderPayload(r),this.resetPingTimeout()},this.onConnectHandler=()=>{this.logger.trace("relayer connected"),this.startPingTimeout(),this.events.emit(bs.connect)},this.onDisconnectHandler=()=>{this.logger.trace("relayer disconnected"),this.onProviderDisconnect()},this.onProviderErrorHandler=r=>{this.logger.error(r),this.events.emit(bs.error,r),this.logger.info("Fatal socket error received, closing transport"),this.transportClose()},this.registerProviderListeners=()=>{this.provider.on(Bs.payload,this.onPayloadHandler),this.provider.on(Bs.connect,this.onConnectHandler),this.provider.on(Bs.disconnect,this.onDisconnectHandler),this.provider.on(Bs.error,this.onProviderErrorHandler)},this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?Mr.generateChildLogger(e.logger,this.name):Mr.pino(Mr.getDefaultLoggerOptions({level:e.logger||eoe})),this.messages=new VA(this.logger,e.core),this.subscriber=new HA(this,this.logger),this.publisher=new bD(this,this.logger),this.relayUrl=e?.relayUrl||AD,this.projectId=e.projectId,this.bundleId=Se.getBundleId(),this.provider={}}async init(){if(this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.subscriber.cached.length>0)try{await this.transportOpen()}catch(e){this.logger.warn(e)}}get context(){return Mr.getLoggerContext(this.logger)}get connected(){var e,r,n;return((n=(r=(e=this.provider)==null?void 0:e.connection)==null?void 0:r.socket)==null?void 0:n.readyState)===1}get connecting(){var e,r,n;return((n=(r=(e=this.provider)==null?void 0:e.connection)==null?void 0:r.socket)==null?void 0:n.readyState)===0}async publish(e,r,n){this.isInitialized(),await this.publisher.publish(e,r,n),await this.recordMessageEvent({topic:e,message:r,publishedAt:Date.now(),transportType:Af.relay})}async subscribe(e,r){var n;this.isInitialized(),r?.transportType==="relay"&&await this.toEstablishConnection();let i=((n=this.subscriber.topicMap.get(e))==null?void 0:n[0])||"",s,a=o=>{o.topic===e&&(this.subscriber.off(io.created,a),s())};return await Promise.all([new Promise(o=>{s=o,this.subscriber.on(io.created,a)}),new Promise(async o=>{i=await this.subscriber.subscribe(e,r)||i,o()})]),i}async unsubscribe(e,r){this.isInitialized(),await this.subscriber.unsubscribe(e,r)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async transportDisconnect(){if(!this.hasExperiencedNetworkDisruption&&this.connected&&this.requestsInFlight.size>0)try{await Promise.all(Array.from(this.requestsInFlight.values()).map(e=>e.promise))}catch(e){this.logger.warn(e)}this.hasExperiencedNetworkDisruption||this.connected?await Se.createExpiringPromise(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),await this.createProvider(),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;try{await new Promise(async(r,n)=>{let i=()=>{this.provider.off(Bs.disconnect,i),n(new Error("Connection interrupted while trying to subscribe"))};this.provider.on(Bs.disconnect,i),await Se.createExpiringPromise(this.provider.connect(),Gt.toMiliseconds(Gt.ONE_MINUTE),`Socket stalled when trying to connect to ${this.relayUrl}`).catch(s=>{n(s)}).finally(()=>{clearTimeout(this.reconnectTimeout),this.reconnectTimeout=void 0}),this.subscriber.start().catch(s=>{this.logger.error(s),this.onDisconnectHandler()}),this.hasExperiencedNetworkDisruption=!1,r()})}catch(r){this.logger.error(r);let n=r;if(this.hasExperiencedNetworkDisruption=!0,!this.isConnectionStalled(n.message))throw r}finally{this.connectionAttemptInProgress=!1}}async restartTransport(e){this.connectionAttemptInProgress||(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await Se.isOnline())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if(e?.length===0){this.logger.trace("Batch message events is empty. Ignoring...");return}let r=e.sort((n,i)=>n.publishedAt-i.publishedAt);this.logger.trace(`Batch of ${r.length} message events sorted`);for(let n of r)try{await this.onMessageEvent(n)}catch(i){this.logger.warn(i)}this.logger.trace(`Batch of ${r.length} message events processed`)}async onLinkMessageEvent(e,r){let{topic:n}=e;if(!r.sessionExists){let i=Se.calcExpiry(Gt.FIVE_MINUTES),s={topic:n,expiry:i,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(n,s)}this.events.emit(bs.message,e),await this.recordMessageEvent(e)}startPingTimeout(){var e,r,n,i,s;if(Se.isNode())try{(r=(e=this.provider)==null?void 0:e.connection)!=null&&r.socket&&((s=(i=(n=this.provider)==null?void 0:n.connection)==null?void 0:i.socket)==null||s.once("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(a){this.logger.warn(a)}}isConnectionStalled(e){return this.staleConnectionErrors.some(r=>e.includes(r))}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();let e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new yqe.JsonRpcProvider(new Eqe.default(Se.formatRelayRpcUrl({sdkVersion:FA,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId}))),this.registerProviderListeners()}async recordMessageEvent(e){let{topic:r,message:n}=e;await this.messages.set(r,n)}async shouldIgnoreMessageEvent(e){let{topic:r,message:n}=e;if(!n||n.length===0)return this.logger.debug(`Ignoring invalid/empty message: ${n}`),!0;if(!await this.subscriber.isSubscribed(r))return this.logger.debug(`Ignoring message for non-subscribed topic ${r}`),!0;let i=this.messages.has(r,n);return i&&this.logger.debug(`Ignoring duplicate message: ${n}`),i}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),vs.isJsonRpcRequest(e)){if(!e.method.endsWith(roe))return;let r=e.params,{topic:n,message:i,publishedAt:s,attestation:a}=r.data,o={topic:n,message:i,publishedAt:s,transportType:Af.relay,attestation:a};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(oUe({type:"event",event:r.id},o)),this.events.emit(r.id,o),await this.acknowledgePayload(e),await this.onMessageEvent(o)}else vs.isJsonRpcResponse(e)&&this.events.emit(bs.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(this.events.emit(bs.message,e),await this.recordMessageEvent(e))}async acknowledgePayload(e){let r=vs.formatJsonRpcResult(e.id,!0);await this.provider.connection.send(r)}unregisterProviderListeners(){this.provider.off(Bs.payload,this.onPayloadHandler),this.provider.off(Bs.connect,this.onConnectHandler),this.provider.off(Bs.disconnect,this.onDisconnectHandler),this.provider.off(Bs.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await Se.isOnline();Se.subscribeToNetworkChange(async r=>{e!==r&&(e=r,r?await this.restartTransport().catch(n=>this.logger.error(n)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))})}async onProviderDisconnect(){await this.subscriber.stop(),this.requestsInFlight.clear(),clearTimeout(this.pingTimeout),this.events.emit(bs.disconnect),this.connectionAttemptInProgress=!1,!this.transportExplicitlyClosed&&(this.reconnectTimeout||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e))},Gt.toMiliseconds(noe))))}isInitialized(){if(!this.initialized){let{message:e}=Se.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){await this.confirmOnlineStateOrThrow(),!this.connected&&(this.connectionAttemptInProgress&&await new Promise(e=>{let r=setInterval(()=>{this.connected&&(clearInterval(r),e())},this.connectionStatusPollingInterval)}),await this.transportOpen())}},cUe=Object.defineProperty,Bae=Object.getOwnPropertySymbols,uUe=Object.prototype.hasOwnProperty,fUe=Object.prototype.propertyIsEnumerable,Lae=(t,e,r)=>e in t?cUe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,qae=(t,e)=>{for(var r in e||(e={}))uUe.call(e,r)&&Lae(t,r,e[r]);if(Bae)for(var r of Bae(e))fUe.call(e,r)&&Lae(t,r,e[r]);return t},jA=class extends ao.IStore{constructor(e,r,n,i=so,s=void 0){super(e,r,n,i),this.core=e,this.logger=r,this.name=n,this.map=new Map,this.version=ioe,this.cached=[],this.initialized=!1,this.storagePrefix=so,this.recentlyDeleted=[],this.recentlyDeletedLimit=200,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(a=>{this.getKey&&a!==null&&!Se.isUndefined(a)?this.map.set(this.getKey(a),a):Se.isProposalStruct(a)?this.map.set(a.id,a):Se.isSessionStruct(a)&&this.map.set(a.topic,a)}),this.cached=[],this.initialized=!0)},this.set=async(a,o)=>{this.isInitialized(),this.map.has(a)?await this.update(a,o):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:a,value:o}),this.map.set(a,o),await this.persist())},this.get=a=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:a}),this.getData(a)),this.getAll=a=>(this.isInitialized(),a?this.values.filter(o=>Object.keys(a).every(c=>Aqe.default(o[c],a[c]))):this.values),this.update=async(a,o)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:a,update:o});let c=qae(qae({},this.getData(a)),o);this.map.set(a,c),await this.persist()},this.delete=async(a,o)=>{this.isInitialized(),this.map.has(a)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:a,reason:o}),this.map.delete(a),this.addToRecentlyDeleted(a),await this.persist())},this.logger=Mr.generateChildLogger(r,this.name),this.storagePrefix=i,this.getKey=s}get context(){return Mr.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){let r=this.map.get(e);if(!r){if(this.recentlyDeleted.includes(e)){let{message:i}=Se.getInternalError("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}let{message:n}=Se.getInternalError("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(n),new Error(n)}return r}async persist(){await this.setDataStore(this.values)}async restore(){try{let e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){let{message:r}=Se.getInternalError("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){let{message:e}=Se.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}},zA=class{constructor(e,r){this.core=e,this.logger=r,this.name=uoe,this.version=foe,this.events=new wqe.default,this.initialized=!1,this.storagePrefix=so,this.ignoredPayloadTypes=[Se.TYPE_1],this.registeredMethods=[],this.init=async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))},this.register=({methods:n})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...n])]},this.create=async n=>{this.isInitialized();let i=Se.generateRandomBytes32(),s=await this.core.crypto.setSymKey(i),a=Se.calcExpiry(Gt.FIVE_MINUTES),o={protocol:Zae},c={topic:s,expiry:a,relay:o,active:!1,methods:n?.methods},u=Se.formatUri({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:i,relay:o,expiryTimestamp:a,methods:n?.methods});return this.events.emit(Up.create,c),this.core.expirer.set(s,a),await this.pairings.set(s,c),await this.core.relayer.subscribe(s,{transportType:n?.transportType}),{topic:s,uri:u}},this.pair=async n=>{this.isInitialized();let i=this.core.eventClient.createEvent({properties:{topic:n?.uri,trace:[oc.pairing_started]}});this.isValidPair(n,i);let{topic:s,symKey:a,relay:o,expiryTimestamp:c,methods:u}=Se.parseUri(n.uri);i.props.properties.topic=s,i.addTrace(oc.pairing_uri_validation_success),i.addTrace(oc.pairing_uri_not_expired);let f;if(this.pairings.keys.includes(s)){if(f=this.pairings.get(s),i.addTrace(oc.existing_pairing),f.active)throw i.setError(tu.active_pairing_already_exists),new Error(`Pairing already exists: ${s}. Please try again with a new connection URI.`);i.addTrace(oc.pairing_not_expired)}let d=c||Se.calcExpiry(Gt.FIVE_MINUTES),m={topic:s,relay:o,expiry:d,active:!1,methods:u};this.core.expirer.set(s,d),await this.pairings.set(s,m),i.addTrace(oc.store_new_pairing),n.activatePairing&&await this.activate({topic:s}),this.events.emit(Up.create,m),i.addTrace(oc.emit_inactive_pairing),this.core.crypto.keychain.has(s)||await this.core.crypto.setSymKey(a,s),i.addTrace(oc.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{i.setError(tu.no_internet_connection)}try{await this.core.relayer.subscribe(s,{relay:o})}catch(_){throw i.setError(tu.subscribe_pairing_topic_failure),_}return i.addTrace(oc.subscribe_pairing_topic_success),m},this.activate=async({topic:n})=>{this.isInitialized();let i=Se.calcExpiry(Gt.THIRTY_DAYS);this.core.expirer.set(n,i),await this.pairings.update(n,{active:!0,expiry:i})},this.ping=async n=>{this.isInitialized(),await this.isValidPing(n);let{topic:i}=n;if(this.pairings.keys.includes(i)){let s=await this.sendRequest(i,"wc_pairingPing",{}),{done:a,resolve:o,reject:c}=Se.createDelayedPromise();this.events.once(Se.engineEvent("pairing_ping",s),({error:u})=>{u?c(u):o()}),await a()}},this.updateExpiry=async({topic:n,expiry:i})=>{this.isInitialized(),await this.pairings.update(n,{expiry:i})},this.updateMetadata=async({topic:n,metadata:i})=>{this.isInitialized(),await this.pairings.update(n,{peerMetadata:i})},this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=async n=>{this.isInitialized(),await this.isValidDisconnect(n);let{topic:i}=n;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",Se.getSdkError("USER_DISCONNECTED")),await this.deletePairing(i))},this.formatUriFromPairing=n=>{this.isInitialized();let{topic:i,relay:s,expiry:a,methods:o}=n,c=this.core.crypto.keychain.get(i);return Se.formatUri({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:c,relay:s,expiryTimestamp:a,methods:o})},this.sendRequest=async(n,i,s)=>{let a=vs.formatJsonRpcRequest(i,s),o=await this.core.crypto.encode(n,a),c=Fp[i].req;return this.core.history.set(n,a),this.core.relayer.publish(n,o,c),a.id},this.sendResult=async(n,i,s)=>{let a=vs.formatJsonRpcResult(n,s),o=await this.core.crypto.encode(i,a),c=await this.core.history.get(i,n),u=Fp[c.request.method].res;await this.core.relayer.publish(i,o,u),await this.core.history.resolve(a)},this.sendError=async(n,i,s)=>{let a=vs.formatJsonRpcError(n,s),o=await this.core.crypto.encode(i,a),c=await this.core.history.get(i,n),u=Fp[c.request.method]?Fp[c.request.method].res:Fp.unregistered_method.res;await this.core.relayer.publish(i,o,u),await this.core.history.resolve(a)},this.deletePairing=async(n,i)=>{await this.core.relayer.unsubscribe(n),await Promise.all([this.pairings.delete(n,Se.getSdkError("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(n),i?Promise.resolve():this.core.expirer.del(n)])},this.cleanup=async()=>{let n=this.pairings.getAll().filter(i=>Se.isExpired(i.expiry));await Promise.all(n.map(i=>this.deletePairing(i.topic)))},this.onRelayEventRequest=n=>{let{topic:i,payload:s}=n;switch(s.method){case"wc_pairingPing":return this.onPairingPingRequest(i,s);case"wc_pairingDelete":return this.onPairingDeleteRequest(i,s);default:return this.onUnknownRpcMethodRequest(i,s)}},this.onRelayEventResponse=async n=>{let{topic:i,payload:s}=n,a=(await this.core.history.get(i,s.id)).request.method;switch(a){case"wc_pairingPing":return this.onPairingPingResponse(i,s);default:return this.onUnknownRpcMethodResponse(a)}},this.onPairingPingRequest=async(n,i)=>{let{id:s}=i;try{this.isValidPing({topic:n}),await this.sendResult(s,n,!0),this.events.emit(Up.ping,{id:s,topic:n})}catch(a){await this.sendError(s,n,a),this.logger.error(a)}},this.onPairingPingResponse=(n,i)=>{let{id:s}=i;setTimeout(()=>{vs.isJsonRpcResult(i)?this.events.emit(Se.engineEvent("pairing_ping",s),{}):vs.isJsonRpcError(i)&&this.events.emit(Se.engineEvent("pairing_ping",s),{error:i.error})},500)},this.onPairingDeleteRequest=async(n,i)=>{let{id:s}=i;try{this.isValidDisconnect({topic:n}),await this.deletePairing(n),this.events.emit(Up.delete,{id:s,topic:n})}catch(a){await this.sendError(s,n,a),this.logger.error(a)}},this.onUnknownRpcMethodRequest=async(n,i)=>{let{id:s,method:a}=i;try{if(this.registeredMethods.includes(a))return;let o=Se.getSdkError("WC_METHOD_UNSUPPORTED",a);await this.sendError(s,n,o),this.logger.error(o)}catch(o){await this.sendError(s,n,o),this.logger.error(o)}},this.onUnknownRpcMethodResponse=n=>{this.registeredMethods.includes(n)||this.logger.error(Se.getSdkError("WC_METHOD_UNSUPPORTED",n))},this.isValidPair=(n,i)=>{var s;if(!Se.isValidParams(n)){let{message:o}=Se.getInternalError("MISSING_OR_INVALID",`pair() params: ${n}`);throw i.setError(tu.malformed_pairing_uri),new Error(o)}if(!Se.isValidUrl(n.uri)){let{message:o}=Se.getInternalError("MISSING_OR_INVALID",`pair() uri: ${n.uri}`);throw i.setError(tu.malformed_pairing_uri),new Error(o)}let a=Se.parseUri(n?.uri);if(!((s=a?.relay)!=null&&s.protocol)){let{message:o}=Se.getInternalError("MISSING_OR_INVALID","pair() uri#relay-protocol");throw i.setError(tu.malformed_pairing_uri),new Error(o)}if(!(a!=null&&a.symKey)){let{message:o}=Se.getInternalError("MISSING_OR_INVALID","pair() uri#symKey");throw i.setError(tu.malformed_pairing_uri),new Error(o)}if(a!=null&&a.expiryTimestamp&&Gt.toMiliseconds(a?.expiryTimestamp)<Date.now()){i.setError(tu.pairing_expired);let{message:o}=Se.getInternalError("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(o)}},this.isValidPing=async n=>{if(!Se.isValidParams(n)){let{message:s}=Se.getInternalError("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(s)}let{topic:i}=n;await this.isValidPairingTopic(i)},this.isValidDisconnect=async n=>{if(!Se.isValidParams(n)){let{message:s}=Se.getInternalError("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(s)}let{topic:i}=n;await this.isValidPairingTopic(i)},this.isValidPairingTopic=async n=>{if(!Se.isValidString(n,!1)){let{message:i}=Se.getInternalError("MISSING_OR_INVALID",`pairing topic should be a string: ${n}`);throw new Error(i)}if(!this.pairings.keys.includes(n)){let{message:i}=Se.getInternalError("NO_MATCHING_KEY",`pairing topic doesn't exist: ${n}`);throw new Error(i)}if(Se.isExpired(this.pairings.get(n).expiry)){await this.deletePairing(n);let{message:i}=Se.getInternalError("EXPIRED",`pairing topic: ${n}`);throw new Error(i)}},this.core=e,this.logger=Mr.generateChildLogger(r,this.name),this.pairings=new jA(this.core,this.logger,this.name,this.storagePrefix)}get context(){return Mr.getLoggerContext(this.logger)}isInitialized(){if(!this.initialized){let{message:e}=Se.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(bs.message,async e=>{let{topic:r,message:n,transportType:i}=e;if(!this.pairings.keys.includes(r)||i===Af.link_mode||this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(n)))return;let s=await this.core.crypto.decode(r,n);try{vs.isJsonRpcRequest(s)?(this.core.history.set(r,s),this.onRelayEventRequest({topic:r,payload:s})):vs.isJsonRpcResponse(s)&&(await this.core.history.resolve(s),await this.onRelayEventResponse({topic:r,payload:s}),this.core.history.delete(r,s.id))}catch(a){this.logger.error(a)}})}registerExpirerEvents(){this.core.expirer.on(Aa.expired,async e=>{let{topic:r}=Se.parseExpirerTarget(e.target);r&&this.pairings.keys.includes(r)&&(await this.deletePairing(r,!0),this.events.emit(Up.expire,{topic:r}))})}},KA=class extends ao.IJsonRpcHistory{constructor(e,r){super(e,r),this.core=e,this.logger=r,this.records=new Map,this.events=new bd.EventEmitter,this.name=loe,this.version=doe,this.cached=[],this.initialized=!1,this.storagePrefix=so,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.records.set(n.id,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(n,i,s)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:n,request:i,chainId:s}),this.records.has(i.id))return;let a={id:i.id,topic:n,request:{method:i.method,params:i.params||null},chainId:s,expiry:Se.calcExpiry(Gt.THIRTY_DAYS)};this.records.set(a.id,a),this.persist(),this.events.emit(Ea.created,a)},this.resolve=async n=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:n}),!this.records.has(n.id))return;let i=await this.getRecord(n.id);typeof i.response>"u"&&(i.response=vs.isJsonRpcError(n)?{error:n.error}:{result:n.result},this.records.set(i.id,i),this.persist(),this.events.emit(Ea.updated,i))},this.get=async(n,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:n,id:i}),await this.getRecord(i)),this.delete=(n,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(s=>{if(s.topic===n){if(typeof i<"u"&&s.id!==i)return;this.records.delete(s.id),this.events.emit(Ea.deleted,s)}}),this.persist()},this.exists=async(n,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===n:!1),this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.logger=Mr.generateChildLogger(r,this.name)}get context(){return Mr.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){let e=[];return this.values.forEach(r=>{if(typeof r.response<"u")return;let n={topic:r.topic,request:vs.formatJsonRpcRequest(r.request.method,r.request.params,r.id),chainId:r.chainId};return e.push(n)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();let r=this.records.get(e);if(!r){let{message:n}=Se.getInternalError("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(Ea.sync)}async restore(){try{let e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){let{message:r}=Se.getInternalError("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(Ea.created,e=>{let r=Ea.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.events.on(Ea.updated,e=>{let r=Ea.updated;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.events.on(Ea.deleted,e=>{let r=Ea.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.core.heartbeat.on(kp.HEARTBEAT_EVENTS.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(r=>{Gt.toMiliseconds(r.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${r.id}`),this.records.delete(r.id),this.events.emit(Ea.deleted,r,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){let{message:e}=Se.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}},WA=class extends ao.IExpirer{constructor(e,r){super(e,r),this.core=e,this.logger=r,this.expirations=new Map,this.events=new bd.EventEmitter,this.name=hoe,this.version=poe,this.cached=[],this.initialized=!1,this.storagePrefix=so,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.expirations.set(n.target,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=n=>{try{let i=this.formatTarget(n);return typeof this.getExpiration(i)<"u"}catch{return!1}},this.set=(n,i)=>{this.isInitialized();let s=this.formatTarget(n),a={target:s,expiry:i};this.expirations.set(s,a),this.checkExpiry(s,a),this.events.emit(Aa.created,{target:s,expiration:a})},this.get=n=>{this.isInitialized();let i=this.formatTarget(n);return this.getExpiration(i)},this.del=n=>{if(this.isInitialized(),this.has(n)){let i=this.formatTarget(n),s=this.getExpiration(i);this.expirations.delete(i),this.events.emit(Aa.deleted,{target:i,expiration:s})}},this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.logger=Mr.generateChildLogger(r,this.name)}get context(){return Mr.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return Se.formatTopicTarget(e);if(typeof e=="number")return Se.formatIdTarget(e);let{message:r}=Se.getInternalError("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(r)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Aa.sync)}async restore(){try{let e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){let{message:r}=Se.getInternalError("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){let r=this.expirations.get(e);if(!r){let{message:n}=Se.getInternalError("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(n),new Error(n)}return r}checkExpiry(e,r){let{expiry:n}=r;Gt.toMiliseconds(n)-Date.now()<=0&&this.expire(e,r)}expire(e,r){this.expirations.delete(e),this.events.emit(Aa.expired,{target:e,expiration:r})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,r)=>this.checkExpiry(r,e))}registerEventListeners(){this.core.heartbeat.on(kp.HEARTBEAT_EVENTS.pulse,()=>this.checkExpirations()),this.events.on(Aa.created,e=>{let r=Aa.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(Aa.expired,e=>{let r=Aa.expired;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(Aa.deleted,e=>{let r=Aa.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()})}isInitialized(){if(!this.initialized){let{message:e}=Se.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}},rn={};Object.defineProperty(rn,"__esModule",{value:!0}),rn.getLocalStorage=rn.getLocalStorageOrThrow=rn.getCrypto=rn.getCryptoOrThrow=rn.getLocation=rn.getLocationOrThrow=rn.getNavigator=rn.getNavigatorOrThrow=Boe=rn.getDocument=rn.getDocumentOrThrow=rn.getFromWindowOrThrow=rn.getFromWindow=void 0;function wd(t){let e;return typeof window<"u"&&typeof window[t]<"u"&&(e=window[t]),e}rn.getFromWindow=wd;function Vp(t){let e=wd(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}rn.getFromWindowOrThrow=Vp;function lUe(){return Vp("document")}rn.getDocumentOrThrow=lUe;function dUe(){return wd("document")}var Boe=rn.getDocument=dUe;function hUe(){return Vp("navigator")}rn.getNavigatorOrThrow=hUe;function pUe(){return wd("navigator")}rn.getNavigator=pUe;function gUe(){return Vp("location")}rn.getLocationOrThrow=gUe;function yUe(){return wd("location")}rn.getLocation=yUe;function mUe(){return Vp("crypto")}rn.getCryptoOrThrow=mUe;function vUe(){return wd("crypto")}rn.getCrypto=vUe;function bUe(){return Vp("localStorage")}rn.getLocalStorageOrThrow=bUe;function wUe(){return wd("localStorage")}rn.getLocalStorage=wUe;var QA=class extends ao.IVerify{constructor(e,r,n){super(e,r,n),this.core=e,this.logger=r,this.store=n,this.name=goe,this.verifyUrlV3=moe,this.storagePrefix=so,this.version=ED,this.init=async()=>{var i;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&Gt.toMiliseconds((i=this.publicKey)==null?void 0:i.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))},this.register=async i=>{if(!Se.isBrowser()||this.isDevEnv)return;let s=window.location.origin,{id:a,decryptedId:o}=i,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${s}&id=${a}&decryptedId=${o}`;try{let u=Boe(),f=this.startAbortTimer(Gt.ONE_SECOND*5),d=await new Promise((m,_)=>{let x=()=>{window.removeEventListener("message",D),u.body.removeChild(P),_("attestation aborted")};this.abortController.signal.addEventListener("abort",x);let P=u.createElement("iframe");P.src=c,P.style.display="none",P.addEventListener("error",x,{signal:this.abortController.signal});let D=k=>{if(k.data&&typeof k.data=="string")try{let Y=JSON.parse(k.data);if(Y.type==="verify_attestation"){if(cD.decodeJWT(Y.attestation).payload.id!==a)return;clearInterval(f),u.body.removeChild(P),this.abortController.signal.removeEventListener("abort",x),window.removeEventListener("message",D),m(Y.attestation===null?"":Y.attestation)}}catch(Y){this.logger.warn(Y)}};u.body.appendChild(P),window.addEventListener("message",D,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",d),d}catch(u){this.logger.warn(u)}return""},this.resolve=async i=>{if(this.isDevEnv)return"";let{attestationId:s,hash:a,encryptedId:o}=i;if(s===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(s){if(cD.decodeJWT(s).payload.id!==o)return;let u=await this.isValidJwtAttestation(s);if(u){if(!u.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return u}}if(!a)return;let c=this.getVerifyUrl(i?.verifyUrl);return this.fetchAttestation(a,c)},this.fetchAttestation=async(i,s)=>{this.logger.debug(`resolving attestation: ${i} from url: ${s}`);let a=this.startAbortTimer(Gt.ONE_SECOND*5),o=await fetch(`${s}/attestation/${i}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(a),o.status===200?await o.json():void 0},this.getVerifyUrl=i=>{let s=i||Fm;return voe.includes(s)||(this.logger.info(`verify url: ${s}, not included in trusted list, assigning default: ${Fm}`),s=Fm),s},this.fetchPublicKey=async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);let i=this.startAbortTimer(Gt.FIVE_SECONDS),s=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(i),await s.json()}catch(i){this.logger.warn(i)}},this.persistPublicKey=async i=>{this.logger.debug("persisting public key to local storage",i),await this.store.setItem(this.storeKey,i),this.publicKey=i},this.removePublicKey=async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0},this.isValidJwtAttestation=async i=>{let s=await this.getPublicKey();try{if(s)return this.validateAttestation(i,s)}catch(o){this.logger.error(o),this.logger.warn("error validating attestation")}let a=await this.fetchAndPersistPublicKey();try{if(a)return this.validateAttestation(i,a)}catch(o){this.logger.error(o),this.logger.warn("error validating attestation")}},this.getPublicKey=async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey(),this.fetchAndPersistPublicKey=async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async s=>{let a=await this.fetchPublicKey();a&&(await this.persistPublicKey(a),s(a))});let i=await this.fetchPromise;return this.fetchPromise=void 0,i},this.validateAttestation=(i,s)=>{let a=Se.verifyP256Jwt(i,s.publicKey),o={hasExpired:Gt.toMiliseconds(a.exp)<Date.now(),payload:a};if(o.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:o.payload.origin,isScam:o.payload.isScam,isVerified:o.payload.isVerified}},this.logger=Mr.generateChildLogger(r,this.name),this.abortController=new AbortController,this.isDevEnv=Se.isTestRun(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return Mr.getLoggerContext(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),Gt.toMiliseconds(e))}},$A=class extends ao.IEchoClient{constructor(e,r){super(e,r),this.projectId=e,this.logger=r,this.context=boe,this.registerDeviceToken=async n=>{let{clientId:i,token:s,notificationType:a,enableEncrypted:o=!1}=n,c=`${woe}/${this.projectId}/clients`;await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:i,type:a,token:s,always_raw:o})})},this.logger=Mr.generateChildLogger(r,this.context)}},_Ue=Object.defineProperty,Fae=Object.getOwnPropertySymbols,EUe=Object.prototype.hasOwnProperty,AUe=Object.prototype.propertyIsEnumerable,Uae=(t,e,r)=>e in t?_Ue(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,qm=(t,e)=>{for(var r in e||(e={}))EUe.call(e,r)&&Uae(t,r,e[r]);if(Fae)for(var r of Fae(e))AUe.call(e,r)&&Uae(t,r,e[r]);return t},YA=class extends ao.IEventClient{constructor(e,r,n=!0){super(e,r,n),this.core=e,this.logger=r,this.context=Eoe,this.storagePrefix=so,this.storageVersion=_oe,this.events=new Map,this.shouldPersist=!1,this.init=async()=>{if(!Se.isTestRun())try{let i={eventId:Se.uuidv4(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:Se.formatUA(this.core.relayer.protocol,this.core.relayer.version,FA)}}};await this.sendEvent([i])}catch(i){this.logger.warn(i)}},this.createEvent=i=>{let{event:s="ERROR",type:a="",properties:{topic:o,trace:c}}=i,u=Se.uuidv4(),f=this.core.projectId||"",d=Date.now(),m=qm({eventId:u,timestamp:d,props:{event:s,type:a,properties:{topic:o,trace:c}},bundleId:f,domain:this.getAppDomain()},this.setMethods(u));return this.telemetryEnabled&&(this.events.set(u,m),this.shouldPersist=!0),m},this.getEvent=i=>{let{eventId:s,topic:a}=i;if(s)return this.events.get(s);let o=Array.from(this.events.values()).find(c=>c.props.properties.topic===a);if(o)return qm(qm({},o),this.setMethods(o.eventId))},this.deleteEvent=i=>{let{eventId:s}=i;this.events.delete(s),this.shouldPersist=!0},this.setEventListeners=()=>{this.core.heartbeat.on(kp.HEARTBEAT_EVENTS.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(i=>{Gt.fromMiliseconds(Date.now())-Gt.fromMiliseconds(i.timestamp)>Aoe&&(this.events.delete(i.eventId),this.shouldPersist=!0)})})},this.setMethods=i=>({addTrace:s=>this.addTrace(i,s),setError:s=>this.setError(i,s)}),this.addTrace=(i,s)=>{let a=this.events.get(i);a&&(a.props.properties.trace.push(s),this.events.set(i,a),this.shouldPersist=!0)},this.setError=(i,s)=>{let a=this.events.get(i);a&&(a.props.type=s,a.timestamp=Date.now(),this.events.set(i,a),this.shouldPersist=!0)},this.persist=async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1},this.restore=async()=>{try{let i=await this.core.storage.getItem(this.storageKey)||[];if(!i.length)return;i.forEach(s=>{this.events.set(s.eventId,qm(qm({},s),this.setMethods(s.eventId)))})}catch(i){this.logger.warn(i)}},this.submit=async()=>{if(!this.telemetryEnabled||this.events.size===0)return;let i=[];for(let[s,a]of this.events)a.props.type&&i.push(a);if(i.length!==0)try{if((await this.sendEvent(i)).ok)for(let s of i)this.events.delete(s.eventId),this.shouldPersist=!0}catch(s){this.logger.warn(s)}},this.sendEvent=async i=>{let s=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${Soe}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${FA}${s}`,{method:"POST",body:JSON.stringify(i)})},this.getAppDomain=()=>Se.getAppMetadata().url,this.logger=Mr.generateChildLogger(r,this.context),this.telemetryEnabled=n,n?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}},SUe=Object.defineProperty,kae=Object.getOwnPropertySymbols,xUe=Object.prototype.hasOwnProperty,TUe=Object.prototype.propertyIsEnumerable,Vae=(t,e,r)=>e in t?SUe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Hae=(t,e)=>{for(var r in e||(e={}))xUe.call(e,r)&&Vae(t,r,e[r]);if(kae)for(var r of kae(e))TUe.call(e,r)&&Vae(t,r,e[r]);return t},JA=class t extends ao.ICore{constructor(e){var r;super(e),this.protocol=_D,this.version=ED,this.name=ZA,this.events=new bd.EventEmitter,this.initialized=!1,this.on=(a,o)=>this.events.on(a,o),this.once=(a,o)=>this.events.once(a,o),this.off=(a,o)=>this.events.off(a,o),this.removeListener=(a,o)=>this.events.removeListener(a,o),this.dispatchEnvelope=({topic:a,message:o,sessionExists:c})=>{if(!a||!o)return;let u={topic:a,message:o,publishedAt:Date.now(),transportType:Af.link_mode};this.relayer.onLinkMessageEvent(u,{sessionExists:c})},this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||AD,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";let n=Mr.getDefaultLoggerOptions({level:typeof e?.logger=="string"&&e.logger?e.logger:Gae.logger}),{logger:i,chunkLoggerController:s}=Mr.generatePlatformLogger({opts:n,maxSizeInBytes:e?.maxLogBlobSizeInBytes,loggerOverride:e?.logger});this.logChunkController=s,(r=this.logChunkController)!=null&&r.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var a,o;(a=this.logChunkController)!=null&&a.downloadLogsBlobInBrowser&&((o=this.logChunkController)==null||o.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=Mr.generateChildLogger(i,this.name),this.heartbeat=new kp.HeartBeat,this.crypto=new kA(this,this.logger,e?.keychain),this.history=new KA(this,this.logger),this.expirer=new WA(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new _qe.default(Hae(Hae({},jae),e?.storageOptions)),this.relayer=new GA({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new zA(this,this.logger),this.verify=new QA(this,this.logger,this.storage),this.echoClient=new $A(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new YA(this,this.logger,e?.telemetryEnabled)}static async init(e){let r=new t(e);await r.initialize();let n=await r.crypto.getClientId();return await r.storage.setItem(soe,n),r}get context(){return Mr.getLoggerContext(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(fD,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.eventClient.init(),this.linkModeSupportedApps=await this.storage.getItem(fD)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}},IUe=JA;He.CORE_CONTEXT=ZA,He.CORE_DEFAULT=Gae,He.CORE_PROTOCOL=_D,He.CORE_STORAGE_OPTIONS=jae,He.CORE_STORAGE_PREFIX=so,He.CORE_VERSION=ED,He.CRYPTO_CLIENT_SEED=uD,He.CRYPTO_CONTEXT=zae,He.CRYPTO_JWT_TTL=Kae,He.Core=IUe,He.Crypto=kA,He.ECHO_CONTEXT=boe,He.ECHO_URL=woe,He.EVENTS_CLIENT_API_URL=Soe,He.EVENTS_STORAGE_CLEANUP_INTERVAL=Aoe,He.EVENTS_STORAGE_CONTEXT=Eoe,He.EVENTS_STORAGE_VERSION=_oe,He.EVENT_CLIENT_AUTHENTICATE_ERRORS=Mqe,He.EVENT_CLIENT_AUTHENTICATE_TRACES=Dqe,He.EVENT_CLIENT_CONTEXT=Oqe,He.EVENT_CLIENT_PAIRING_ERRORS=tu,He.EVENT_CLIENT_PAIRING_TRACES=oc,He.EVENT_CLIENT_SESSION_ERRORS=Rqe,He.EVENT_CLIENT_SESSION_TRACES=Pqe,He.EXPIRER_CONTEXT=hoe,He.EXPIRER_DEFAULT_TTL=Cqe,He.EXPIRER_EVENTS=Aa,He.EXPIRER_STORAGE_VERSION=poe,He.EchoClient=$A,He.EventClient=YA,He.Expirer=WA,He.HISTORY_CONTEXT=loe,He.HISTORY_EVENTS=Ea,He.HISTORY_STORAGE_VERSION=doe,He.JsonRpcHistory=KA,He.KEYCHAIN_CONTEXT=Wae,He.KEYCHAIN_STORAGE_VERSION=Qae,He.KeyChain=UA,He.MESSAGES_CONTEXT=$ae,He.MESSAGES_STORAGE_VERSION=Yae,He.MessageTracker=VA,He.PAIRING_CONTEXT=uoe,He.PAIRING_DEFAULT_TTL=Iqe,He.PAIRING_EVENTS=Up,He.PAIRING_RPC_OPTS=Fp,He.PAIRING_STORAGE_VERSION=foe,He.PENDING_SUB_RESOLUTION_TIMEOUT=coe,He.PUBLISHER_CONTEXT=Xae,He.PUBLISHER_DEFAULT_TTL=Jae,He.Pairing=zA,He.RELAYER_CONTEXT=toe,He.RELAYER_DEFAULT_LOGGER=eoe,He.RELAYER_DEFAULT_PROTOCOL=Zae,He.RELAYER_DEFAULT_RELAY_URL=AD,He.RELAYER_EVENTS=bs,He.RELAYER_PROVIDER_EVENTS=Bs,He.RELAYER_RECONNECT_TIMEOUT=noe,He.RELAYER_SDK_VERSION=FA,He.RELAYER_STORAGE_OPTIONS=Sqe,He.RELAYER_SUBSCRIBER_SUFFIX=roe,He.RELAYER_TRANSPORT_CUTOFF=xqe,He.Relayer=GA,He.STORE_STORAGE_VERSION=ioe,He.SUBSCRIBER_CONTEXT=aoe,He.SUBSCRIBER_DEFAULT_TTL=Tqe,He.SUBSCRIBER_EVENTS=io,He.SUBSCRIBER_STORAGE_VERSION=ooe,He.Store=jA,He.Subscriber=HA,He.TRANSPORT_TYPES=Af,He.TRUSTED_VERIFY_URLS=voe,He.VERIFY_CONTEXT=goe,He.VERIFY_SERVER=Fm,He.VERIFY_SERVER_V3=moe,He.Verify=QA,He.WALLETCONNECT_CLIENT_ID=soe,He.WALLETCONNECT_LINK_MODE_APPS=fD,He.default=JA});var Xoe=R(_r=>{"use strict";l();Object.defineProperty(_r,"__esModule",{value:!0});var nt=Loe(),tS=(JN(),Sn(YN)),Uoe=mO(),se=xm(),koe=Us(),Br=ep(),Ar=(Om(),Sn(Bi));function CUe(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}var NUe=CUe(koe),RD="wc",DD=2,MD="client",aS=`${RD}@${DD}:${MD}:`,rS={name:MD,logger:"error",controller:!1,relayUrl:"wss://relay.walletconnect.org"},OUe={session_proposal:"session_proposal",session_update:"session_update",session_extend:"session_extend",session_ping:"session_ping",session_delete:"session_delete",session_expire:"session_expire",session_request:"session_request",session_request_sent:"session_request_sent",session_event:"session_event",proposal_expire:"proposal_expire",session_authenticate:"session_authenticate",session_request_expire:"session_request_expire"},PUe={database:":memory:"},SD="WALLETCONNECT_DEEPLINK_CHOICE",RUe={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},DUe="history",MUe="0.3",Voe="proposal",BUe=Br.THIRTY_DAYS,Hoe="Proposal expired",Goe="session",_d=Br.SEVEN_DAYS,joe="engine",zn={wc_sessionPropose:{req:{ttl:Br.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:Br.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:Br.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:Br.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:Br.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:Br.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:Br.ONE_DAY,prompt:!1,tag:1104},res:{ttl:Br.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:Br.ONE_DAY,prompt:!1,tag:1106},res:{ttl:Br.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:Br.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:Br.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:Br.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:Br.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:Br.ONE_DAY,prompt:!1,tag:1112},res:{ttl:Br.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:Br.ONE_DAY,prompt:!1,tag:1114},res:{ttl:Br.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:Br.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:Br.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:Br.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:Br.FIVE_MINUTES,prompt:!1,tag:1119}}},nS={min:Br.FIVE_MINUTES,max:Br.SEVEN_DAYS},co={idle:"IDLE",active:"ACTIVE"},zoe="request",Koe=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],Woe="wc",LUe=1.5,Qoe="auth",$oe="authKeys",Yoe="pairingTopics",Joe="requests",Vm=`${Woe}@${1.5}:${Qoe}:`,km=`${Vm}:PUB_KEY`,qUe=Object.defineProperty,FUe=Object.defineProperties,UUe=Object.getOwnPropertyDescriptors,qoe=Object.getOwnPropertySymbols,kUe=Object.prototype.hasOwnProperty,VUe=Object.prototype.propertyIsEnumerable,Foe=(t,e,r)=>e in t?qUe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,_n=(t,e)=>{for(var r in e||(e={}))kUe.call(e,r)&&Foe(t,r,e[r]);if(qoe)for(var r of qoe(e))VUe.call(e,r)&&Foe(t,r,e[r]);return t},oo=(t,e)=>FUe(t,UUe(e)),xD=class extends Uoe.IEngine{constructor(e){super(e),this.name=joe,this.events=new NUe.default,this.initialized=!1,this.requestQueue={state:co.idle,queue:[]},this.sessionRequestQueue={state:co.idle,queue:[]},this.requestQueueDelay=Br.ONE_SECOND,this.expectedPairingMethodMap=new Map,this.recentlyDeletedMap=new Map,this.recentlyDeletedLimit=200,this.relayMessageCache=[],this.init=async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(zn)}),this.initialized=!0,setTimeout(()=>{this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},Br.toMiliseconds(this.requestQueueDelay)))},this.connect=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();let n=oo(_n({},r),{requiredNamespaces:r.requiredNamespaces||{},optionalNamespaces:r.optionalNamespaces||{}});await this.isValidConnect(n);let{pairingTopic:i,requiredNamespaces:s,optionalNamespaces:a,sessionProperties:o,relays:c}=n,u=i,f,d=!1;try{u&&(d=this.client.core.pairing.pairings.get(u).active)}catch(Z){throw this.client.logger.error(`connect() -> pairing.get(${u}) failed`),Z}if(!u||!d){let{topic:Z,uri:U}=await this.client.core.pairing.create();u=Z,f=U}if(!u){let{message:Z}=se.getInternalError("NO_MATCHING_KEY",`connect() pairing topic: ${u}`);throw new Error(Z)}let m=await this.client.core.crypto.generateKeyPair(),_=zn.wc_sessionPropose.req.ttl||Br.FIVE_MINUTES,x=se.calcExpiry(_),P=_n({requiredNamespaces:s,optionalNamespaces:a,relays:c??[{protocol:nt.RELAYER_DEFAULT_PROTOCOL}],proposer:{publicKey:m,metadata:this.client.metadata},expiryTimestamp:x,pairingTopic:u},o&&{sessionProperties:o}),{reject:D,resolve:k,done:Y}=se.createDelayedPromise(_,Hoe);this.events.once(se.engineEvent("session_connect"),async({error:Z,session:U})=>{if(Z)D(Z);else if(U){U.self.publicKey=m;let Q=oo(_n({},U),{pairingTopic:P.pairingTopic,requiredNamespaces:P.requiredNamespaces,optionalNamespaces:P.optionalNamespaces,transportType:nt.TRANSPORT_TYPES.relay});await this.client.session.set(U.topic,Q),await this.setExpiry(U.topic,U.expiry),u&&await this.client.core.pairing.updateMetadata({topic:u,metadata:U.peer.metadata}),this.cleanupDuplicatePairings(Q),k(Q)}});let X=await this.sendRequest({topic:u,method:"wc_sessionPropose",params:P,throwOnFailedPublish:!0});return await this.setProposal(X,_n({id:X},P)),{uri:f,approval:Y}},this.pair=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(r)}catch(n){throw this.client.logger.error("pair() failed"),n}},this.approve=async r=>{var n,i,s;let a=this.client.core.eventClient.createEvent({properties:{topic:(n=r?.id)==null?void 0:n.toString(),trace:[nt.EVENT_CLIENT_SESSION_TRACES.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(K){throw a.setError(nt.EVENT_CLIENT_SESSION_ERRORS.no_internet_connection),K}try{await this.isValidProposalId(r?.id)}catch(K){throw this.client.logger.error(`approve() -> proposal.get(${r?.id}) failed`),a.setError(nt.EVENT_CLIENT_SESSION_ERRORS.proposal_not_found),K}try{await this.isValidApprove(r)}catch(K){throw this.client.logger.error("approve() -> isValidApprove() failed"),a.setError(nt.EVENT_CLIENT_SESSION_ERRORS.session_approve_namespace_validation_failure),K}let{id:o,relayProtocol:c,namespaces:u,sessionProperties:f,sessionConfig:d}=r,m=this.client.proposal.get(o);this.client.core.eventClient.deleteEvent({eventId:a.eventId});let{pairingTopic:_,proposer:x,requiredNamespaces:P,optionalNamespaces:D}=m,k=(i=this.client.core.eventClient)==null?void 0:i.getEvent({topic:_});k||(k=(s=this.client.core.eventClient)==null?void 0:s.createEvent({type:nt.EVENT_CLIENT_SESSION_TRACES.session_approve_started,properties:{topic:_,trace:[nt.EVENT_CLIENT_SESSION_TRACES.session_approve_started,nt.EVENT_CLIENT_SESSION_TRACES.session_namespaces_validation_success]}}));let Y=await this.client.core.crypto.generateKeyPair(),X=x.publicKey,Z=await this.client.core.crypto.generateSharedKey(Y,X),U=_n(_n({relay:{protocol:c??"irn"},namespaces:u,controller:{publicKey:Y,metadata:this.client.metadata},expiry:se.calcExpiry(_d)},f&&{sessionProperties:f}),d&&{sessionConfig:d}),Q=nt.TRANSPORT_TYPES.relay;k.addTrace(nt.EVENT_CLIENT_SESSION_TRACES.subscribing_session_topic);try{await this.client.core.relayer.subscribe(Z,{transportType:Q})}catch(K){throw k.setError(nt.EVENT_CLIENT_SESSION_ERRORS.subscribe_session_topic_failure),K}k.addTrace(nt.EVENT_CLIENT_SESSION_TRACES.subscribe_session_topic_success);let j=oo(_n({},U),{topic:Z,requiredNamespaces:P,optionalNamespaces:D,pairingTopic:_,acknowledged:!1,self:U.controller,peer:{publicKey:x.publicKey,metadata:x.metadata},controller:Y,transportType:nt.TRANSPORT_TYPES.relay});await this.client.session.set(Z,j),k.addTrace(nt.EVENT_CLIENT_SESSION_TRACES.store_session);try{k.addTrace(nt.EVENT_CLIENT_SESSION_TRACES.publishing_session_settle),await this.sendRequest({topic:Z,method:"wc_sessionSettle",params:U,throwOnFailedPublish:!0}).catch(K=>{throw k?.setError(nt.EVENT_CLIENT_SESSION_ERRORS.session_settle_publish_failure),K}),k.addTrace(nt.EVENT_CLIENT_SESSION_TRACES.session_settle_publish_success),k.addTrace(nt.EVENT_CLIENT_SESSION_TRACES.publishing_session_approve),await this.sendResult({id:o,topic:_,result:{relay:{protocol:c??"irn"},responderPublicKey:Y},throwOnFailedPublish:!0}).catch(K=>{throw k?.setError(nt.EVENT_CLIENT_SESSION_ERRORS.session_approve_publish_failure),K}),k.addTrace(nt.EVENT_CLIENT_SESSION_TRACES.session_approve_publish_success)}catch(K){throw this.client.logger.error(K),this.client.session.delete(Z,se.getSdkError("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(Z),K}return this.client.core.eventClient.deleteEvent({eventId:k.eventId}),await this.client.core.pairing.updateMetadata({topic:_,metadata:x.metadata}),await this.client.proposal.delete(o,se.getSdkError("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:_}),await this.setExpiry(Z,se.calcExpiry(_d)),{topic:Z,acknowledged:()=>Promise.resolve(this.client.session.get(Z))}},this.reject=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(r)}catch(a){throw this.client.logger.error("reject() -> isValidReject() failed"),a}let{id:n,reason:i}=r,s;try{s=this.client.proposal.get(n).pairingTopic}catch(a){throw this.client.logger.error(`reject() -> proposal.get(${n}) failed`),a}s&&(await this.sendError({id:n,topic:s,error:i,rpcOpts:zn.wc_sessionPropose.reject}),await this.client.proposal.delete(n,se.getSdkError("USER_DISCONNECTED")))},this.update=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(r)}catch(d){throw this.client.logger.error("update() -> isValidUpdate() failed"),d}let{topic:n,namespaces:i}=r,{done:s,resolve:a,reject:o}=se.createDelayedPromise(),c=Ar.payloadId(),u=Ar.getBigIntRpcId().toString(),f=this.client.session.get(n).namespaces;return this.events.once(se.engineEvent("session_update",c),({error:d})=>{d?o(d):a()}),await this.client.session.update(n,{namespaces:i}),await this.sendRequest({topic:n,method:"wc_sessionUpdate",params:{namespaces:i},throwOnFailedPublish:!0,clientRpcId:c,relayRpcId:u}).catch(d=>{this.client.logger.error(d),this.client.session.update(n,{namespaces:f}),o(d)}),{acknowledged:s}},this.extend=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(r)}catch(c){throw this.client.logger.error("extend() -> isValidExtend() failed"),c}let{topic:n}=r,i=Ar.payloadId(),{done:s,resolve:a,reject:o}=se.createDelayedPromise();return this.events.once(se.engineEvent("session_extend",i),({error:c})=>{c?o(c):a()}),await this.setExpiry(n,se.calcExpiry(_d)),this.sendRequest({topic:n,method:"wc_sessionExtend",params:{},clientRpcId:i,throwOnFailedPublish:!0}).catch(c=>{o(c)}),{acknowledged:s}},this.request=async r=>{this.isInitialized();try{await this.isValidRequest(r)}catch(x){throw this.client.logger.error("request() -> isValidRequest() failed"),x}let{chainId:n,request:i,topic:s,expiry:a=zn.wc_sessionRequest.req.ttl}=r,o=this.client.session.get(s);o?.transportType===nt.TRANSPORT_TYPES.relay&&await this.confirmOnlineStateOrThrow();let c=Ar.payloadId(),u=Ar.getBigIntRpcId().toString(),{done:f,resolve:d,reject:m}=se.createDelayedPromise(a,"Request expired. Please try again.");this.events.once(se.engineEvent("session_request",c),({error:x,result:P})=>{x?m(x):d(P)});let _=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);return _?(await this.sendRequest({clientRpcId:c,relayRpcId:u,topic:s,method:"wc_sessionRequest",params:{request:oo(_n({},i),{expiryTimestamp:se.calcExpiry(a)}),chainId:n},expiry:a,throwOnFailedPublish:!0,appLink:_}).catch(x=>m(x)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:n,id:c}),await f()):await Promise.all([new Promise(async x=>{await this.sendRequest({clientRpcId:c,relayRpcId:u,topic:s,method:"wc_sessionRequest",params:{request:oo(_n({},i),{expiryTimestamp:se.calcExpiry(a)}),chainId:n},expiry:a,throwOnFailedPublish:!0}).catch(P=>m(P)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:n,id:c}),x()}),new Promise(async x=>{var P;if(!((P=o.sessionConfig)!=null&&P.disableDeepLink)){let D=await se.getDeepLink(this.client.core.storage,SD);await se.handleDeeplinkRedirect({id:c,topic:s,wcDeepLink:D})}x()}),f()]).then(x=>x[2])},this.respond=async r=>{this.isInitialized(),await this.isValidRespond(r);let{topic:n,response:i}=r,{id:s}=i,a=this.client.session.get(n);a.transportType===nt.TRANSPORT_TYPES.relay&&await this.confirmOnlineStateOrThrow();let o=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);Ar.isJsonRpcResult(i)?await this.sendResult({id:s,topic:n,result:i.result,throwOnFailedPublish:!0,appLink:o}):Ar.isJsonRpcError(i)&&await this.sendError({id:s,topic:n,error:i.error,appLink:o}),this.cleanupAfterResponse(r)},this.ping=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(r)}catch(i){throw this.client.logger.error("ping() -> isValidPing() failed"),i}let{topic:n}=r;if(this.client.session.keys.includes(n)){let i=Ar.payloadId(),s=Ar.getBigIntRpcId().toString(),{done:a,resolve:o,reject:c}=se.createDelayedPromise();this.events.once(se.engineEvent("session_ping",i),({error:u})=>{u?c(u):o()}),await Promise.all([this.sendRequest({topic:n,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:i,relayRpcId:s}),a()])}else this.client.core.pairing.pairings.keys.includes(n)&&await this.client.core.pairing.ping({topic:n})},this.emit=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(r);let{topic:n,event:i,chainId:s}=r,a=Ar.getBigIntRpcId().toString();await this.sendRequest({topic:n,method:"wc_sessionEvent",params:{event:i,chainId:s},throwOnFailedPublish:!0,relayRpcId:a})},this.disconnect=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(r);let{topic:n}=r;if(this.client.session.keys.includes(n))await this.sendRequest({topic:n,method:"wc_sessionDelete",params:se.getSdkError("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:n,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(n))await this.client.core.pairing.disconnect({topic:n});else{let{message:i}=se.getInternalError("MISMATCHED_TOPIC",`Session or pairing topic not found: ${n}`);throw new Error(i)}},this.find=r=>(this.isInitialized(),this.client.session.getAll().filter(n=>se.isSessionCompatible(n,r))),this.getPendingSessionRequests=()=>this.client.pendingRequest.getAll(),this.authenticate=async(r,n)=>{var i;this.isInitialized(),this.isValidAuthenticate(r);let s=n&&this.client.core.linkModeSupportedApps.includes(n)&&((i=this.client.metadata.redirect)==null?void 0:i.linkMode),a=s?nt.TRANSPORT_TYPES.link_mode:nt.TRANSPORT_TYPES.relay;a===nt.TRANSPORT_TYPES.relay&&await this.confirmOnlineStateOrThrow();let{chains:o,statement:c="",uri:u,domain:f,nonce:d,type:m,exp:_,nbf:x,methods:P=[],expiry:D}=r,k=[...r.resources||[]],{topic:Y,uri:X}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:a});this.client.logger.info({message:"Generated new pairing",pairing:{topic:Y,uri:X}});let Z=await this.client.core.crypto.generateKeyPair(),U=se.hashKey(Z);if(await Promise.all([this.client.auth.authKeys.set(km,{responseTopic:U,publicKey:Z}),this.client.auth.pairingTopics.set(U,{topic:U,pairingTopic:Y})]),await this.client.core.relayer.subscribe(U,{transportType:a}),this.client.logger.info(`sending request to new pairing topic: ${Y}`),P.length>0){let{namespace:N}=se.parseChainId(o[0]),w=se.createEncodedRecap(N,"request",P);se.getRecapFromResources(k)&&(w=se.mergeEncodedRecaps(w,k.pop())),k.push(w)}let Q=D&&D>zn.wc_sessionAuthenticate.req.ttl?D:zn.wc_sessionAuthenticate.req.ttl,j={authPayload:{type:m??"caip122",chains:o,statement:c,aud:u,domain:f,version:"1",nonce:d,iat:new Date().toISOString(),exp:_,nbf:x,resources:k},requester:{publicKey:Z,metadata:this.client.metadata},expiryTimestamp:se.calcExpiry(Q)},K={eip155:{chains:o,methods:[...new Set(["personal_sign",...P])],events:["chainChanged","accountsChanged"]}},$={requiredNamespaces:{},optionalNamespaces:K,relays:[{protocol:"irn"}],pairingTopic:Y,proposer:{publicKey:Z,metadata:this.client.metadata},expiryTimestamp:se.calcExpiry(zn.wc_sessionPropose.req.ttl)},{done:L,resolve:v,reject:E}=se.createDelayedPromise(Q,"Request expired"),p=async({error:N,session:w})=>{if(this.events.off(se.engineEvent("session_request",b),g),N)E(N);else if(w){w.self.publicKey=Z,await this.client.session.set(w.topic,w),await this.setExpiry(w.topic,w.expiry),Y&&await this.client.core.pairing.updateMetadata({topic:Y,metadata:w.peer.metadata});let C=this.client.session.get(w.topic);await this.deleteProposal(I),v({session:C})}},g=async N=>{var w,C,T;if(await this.deletePendingAuthRequest(b,{message:"fulfilled",code:0}),N.error){let de=se.getSdkError("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return N.error.code===de.code?void 0:(this.events.off(se.engineEvent("session_connect"),p),E(N.error.message))}await this.deleteProposal(I),this.events.off(se.engineEvent("session_connect"),p);let{cacaos:F,responder:ee}=N.result,fe=[],B=[];for(let de of F){await se.validateSignedCacao({cacao:de,projectId:this.client.core.projectId})||(this.client.logger.error(de,"Signature verification failed"),E(se.getSdkError("SESSION_SETTLEMENT_FAILED","Signature verification failed")));let{p:q}=de,G=se.getRecapFromResources(q.resources),W=[se.getNamespacedDidChainId(q.iss)],te=se.getDidAddress(q.iss);if(G){let re=se.getMethodsFromRecap(G),J=se.getChainsFromRecap(G);fe.push(...re),W.push(...J)}for(let re of W)B.push(`${re}:${te}`)}let ne=await this.client.core.crypto.generateSharedKey(Z,ee.publicKey),oe;fe.length>0&&(oe={topic:ne,acknowledged:!0,self:{publicKey:Z,metadata:this.client.metadata},peer:ee,controller:ee.publicKey,expiry:se.calcExpiry(_d),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:Y,namespaces:se.buildNamespacesFromAuth([...new Set(fe)],[...new Set(B)]),transportType:a},await this.client.core.relayer.subscribe(ne,{transportType:a}),await this.client.session.set(ne,oe),Y&&await this.client.core.pairing.updateMetadata({topic:Y,metadata:ee.metadata}),oe=this.client.session.get(ne)),(w=this.client.metadata.redirect)!=null&&w.linkMode&&(C=ee.metadata.redirect)!=null&&C.linkMode&&(T=ee.metadata.redirect)!=null&&T.universal&&n&&(this.client.core.addLinkModeSupportedApp(ee.metadata.redirect.universal),this.client.session.update(ne,{transportType:nt.TRANSPORT_TYPES.link_mode})),v({auths:F,session:oe})},b=Ar.payloadId(),I=Ar.payloadId();this.events.once(se.engineEvent("session_connect"),p),this.events.once(se.engineEvent("session_request",b),g);let O;try{if(s){let N=Ar.formatJsonRpcRequest("wc_sessionAuthenticate",j,b);this.client.core.history.set(Y,N);let w=await this.client.core.crypto.encode("",N,{type:se.TYPE_2,encoding:se.BASE64URL});O=se.getLinkModeURL(n,Y,w)}else await Promise.all([this.sendRequest({topic:Y,method:"wc_sessionAuthenticate",params:j,expiry:r.expiry,throwOnFailedPublish:!0,clientRpcId:b}),this.sendRequest({topic:Y,method:"wc_sessionPropose",params:$,expiry:zn.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:I})])}catch(N){throw this.events.off(se.engineEvent("session_connect"),p),this.events.off(se.engineEvent("session_request",b),g),N}return await this.setProposal(I,_n({id:I},$)),await this.setAuthRequest(b,{request:oo(_n({},j),{verifyContext:{}}),pairingTopic:Y,transportType:a}),{uri:O??X,response:L}},this.approveSessionAuthenticate=async r=>{let{id:n,auths:i}=r,s=this.client.core.eventClient.createEvent({properties:{topic:n.toString(),trace:[nt.EVENT_CLIENT_AUTHENTICATE_TRACES.authenticated_session_approve_started]}});try{this.isInitialized()}catch(D){throw s.setError(nt.EVENT_CLIENT_AUTHENTICATE_ERRORS.no_internet_connection),D}let a=this.getPendingAuthRequest(n);if(!a)throw s.setError(nt.EVENT_CLIENT_AUTHENTICATE_ERRORS.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${n}`);let o=a.transportType||nt.TRANSPORT_TYPES.relay;o===nt.TRANSPORT_TYPES.relay&&await this.confirmOnlineStateOrThrow();let c=a.requester.publicKey,u=await this.client.core.crypto.generateKeyPair(),f=se.hashKey(c),d={type:se.TYPE_1,receiverPublicKey:c,senderPublicKey:u},m=[],_=[];for(let D of i){if(!await se.validateSignedCacao({cacao:D,projectId:this.client.core.projectId})){s.setError(nt.EVENT_CLIENT_AUTHENTICATE_ERRORS.invalid_cacao);let U=se.getSdkError("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:n,topic:f,error:U,encodeOpts:d}),new Error(U.message)}s.addTrace(nt.EVENT_CLIENT_AUTHENTICATE_TRACES.cacaos_verified);let{p:k}=D,Y=se.getRecapFromResources(k.resources),X=[se.getNamespacedDidChainId(k.iss)],Z=se.getDidAddress(k.iss);if(Y){let U=se.getMethodsFromRecap(Y),Q=se.getChainsFromRecap(Y);m.push(...U),X.push(...Q)}for(let U of X)_.push(`${U}:${Z}`)}let x=await this.client.core.crypto.generateSharedKey(u,c);s.addTrace(nt.EVENT_CLIENT_AUTHENTICATE_TRACES.create_authenticated_session_topic);let P;if(m?.length>0){P={topic:x,acknowledged:!0,self:{publicKey:u,metadata:this.client.metadata},peer:{publicKey:c,metadata:a.requester.metadata},controller:c,expiry:se.calcExpiry(_d),authentication:i,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:a.pairingTopic,namespaces:se.buildNamespacesFromAuth([...new Set(m)],[...new Set(_)]),transportType:o},s.addTrace(nt.EVENT_CLIENT_AUTHENTICATE_TRACES.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(x,{transportType:o})}catch(D){throw s.setError(nt.EVENT_CLIENT_AUTHENTICATE_ERRORS.subscribe_authenticated_session_topic_failure),D}s.addTrace(nt.EVENT_CLIENT_AUTHENTICATE_TRACES.subscribe_authenticated_session_topic_success),await this.client.session.set(x,P),s.addTrace(nt.EVENT_CLIENT_AUTHENTICATE_TRACES.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:a.pairingTopic,metadata:a.requester.metadata})}s.addTrace(nt.EVENT_CLIENT_AUTHENTICATE_TRACES.publishing_authenticated_session_approve);try{await this.sendResult({topic:f,id:n,result:{cacaos:i,responder:{publicKey:u,metadata:this.client.metadata}},encodeOpts:d,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(a.requester.metadata,o)})}catch(D){throw s.setError(nt.EVENT_CLIENT_AUTHENTICATE_ERRORS.authenticated_session_approve_publish_failure),D}return await this.client.auth.requests.delete(n,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:a.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:s.eventId}),{session:P}},this.rejectSessionAuthenticate=async r=>{this.isInitialized();let{id:n,reason:i}=r,s=this.getPendingAuthRequest(n);if(!s)throw new Error(`Could not find pending auth request with id ${n}`);s.transportType===nt.TRANSPORT_TYPES.relay&&await this.confirmOnlineStateOrThrow();let a=s.requester.publicKey,o=await this.client.core.crypto.generateKeyPair(),c=se.hashKey(a),u={type:se.TYPE_1,receiverPublicKey:a,senderPublicKey:o};await this.sendError({id:n,topic:c,error:i,encodeOpts:u,rpcOpts:zn.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(s.requester.metadata,s.transportType)}),await this.client.auth.requests.delete(n,{message:"rejected",code:0}),await this.client.proposal.delete(n,se.getSdkError("USER_DISCONNECTED"))},this.formatAuthMessage=r=>{this.isInitialized();let{request:n,iss:i}=r;return se.formatMessage(n,i)},this.processRelayMessageCache=()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{let r=this.relayMessageCache.shift();r&&await this.onRelayMessage(r)}catch(r){this.client.logger.error(r)}},50)},this.cleanupDuplicatePairings=async r=>{if(r.pairingTopic)try{let n=this.client.core.pairing.pairings.get(r.pairingTopic),i=this.client.core.pairing.pairings.getAll().filter(s=>{var a,o;return((a=s.peerMetadata)==null?void 0:a.url)&&((o=s.peerMetadata)==null?void 0:o.url)===r.peer.metadata.url&&s.topic&&s.topic!==n.topic});if(i.length===0)return;this.client.logger.info(`Cleaning up ${i.length} duplicate pairing(s)`),await Promise.all(i.map(s=>this.client.core.pairing.disconnect({topic:s.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(n){this.client.logger.error(n)}},this.deleteSession=async r=>{var n;let{topic:i,expirerHasDeleted:s=!1,emitEvent:a=!0,id:o=0}=r,{self:c}=this.client.session.get(i);await this.client.core.relayer.unsubscribe(i),await this.client.session.delete(i,se.getSdkError("USER_DISCONNECTED")),this.addToRecentlyDeleted(i,"session"),this.client.core.crypto.keychain.has(c.publicKey)&&await this.client.core.crypto.deleteKeyPair(c.publicKey),this.client.core.crypto.keychain.has(i)&&await this.client.core.crypto.deleteSymKey(i),s||this.client.core.expirer.del(i),this.client.core.storage.removeItem(SD).catch(u=>this.client.logger.warn(u)),this.getPendingSessionRequests().forEach(u=>{u.topic===i&&this.deletePendingSessionRequest(u.id,se.getSdkError("USER_DISCONNECTED"))}),i===((n=this.sessionRequestQueue.queue[0])==null?void 0:n.topic)&&(this.sessionRequestQueue.state=co.idle),a&&this.client.events.emit("session_delete",{id:o,topic:i})},this.deleteProposal=async(r,n)=>{if(n)try{let i=this.client.proposal.get(r);this.client.core.eventClient.getEvent({topic:i.pairingTopic})?.setError(nt.EVENT_CLIENT_SESSION_ERRORS.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(r,se.getSdkError("USER_DISCONNECTED")),n?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"proposal")},this.deletePendingSessionRequest=async(r,n,i=!1)=>{await Promise.all([this.client.pendingRequest.delete(r,n),i?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(s=>s.id!==r),i&&(this.sessionRequestQueue.state=co.idle,this.client.events.emit("session_request_expire",{id:r}))},this.deletePendingAuthRequest=async(r,n,i=!1)=>{await Promise.all([this.client.auth.requests.delete(r,n),i?Promise.resolve():this.client.core.expirer.del(r)])},this.setExpiry=async(r,n)=>{this.client.session.keys.includes(r)&&(this.client.core.expirer.set(r,n),await this.client.session.update(r,{expiry:n}))},this.setProposal=async(r,n)=>{this.client.core.expirer.set(r,se.calcExpiry(zn.wc_sessionPropose.req.ttl)),await this.client.proposal.set(r,n)},this.setAuthRequest=async(r,n)=>{let{request:i,pairingTopic:s,transportType:a=nt.TRANSPORT_TYPES.relay}=n;this.client.core.expirer.set(r,i.expiryTimestamp),await this.client.auth.requests.set(r,{authPayload:i.authPayload,requester:i.requester,expiryTimestamp:i.expiryTimestamp,id:r,pairingTopic:s,verifyContext:i.verifyContext,transportType:a})},this.setPendingSessionRequest=async r=>{let{id:n,topic:i,params:s,verifyContext:a}=r,o=s.request.expiryTimestamp||se.calcExpiry(zn.wc_sessionRequest.req.ttl);this.client.core.expirer.set(n,o),await this.client.pendingRequest.set(n,{id:n,topic:i,params:s,verifyContext:a})},this.sendRequest=async r=>{let{topic:n,method:i,params:s,expiry:a,relayRpcId:o,clientRpcId:c,throwOnFailedPublish:u,appLink:f}=r,d=Ar.formatJsonRpcRequest(i,s,c),m,_=!!f;try{let D=_?se.BASE64URL:se.BASE64;m=await this.client.core.crypto.encode(n,d,{encoding:D})}catch(D){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${n} failed`),D}let x;if(Koe.includes(i)){let D=se.hashMessage(JSON.stringify(d)),k=se.hashMessage(m);x=await this.client.core.verify.register({id:k,decryptedId:D})}let P=zn[i].req;if(P.attestation=x,a&&(P.ttl=a),o&&(P.id=o),this.client.core.history.set(n,d),_){let D=se.getLinkModeURL(f,n,m);await global.Linking.openURL(D,this.client.name)}else{let D=zn[i].req;a&&(D.ttl=a),o&&(D.id=o),u?(D.internal=oo(_n({},D.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(n,m,D)):this.client.core.relayer.publish(n,m,D).catch(k=>this.client.logger.error(k))}return d.id},this.sendResult=async r=>{let{id:n,topic:i,result:s,throwOnFailedPublish:a,encodeOpts:o,appLink:c}=r,u=Ar.formatJsonRpcResult(n,s),f,d=c&&typeof(global==null?void 0:global.Linking)<"u";try{let _=d?se.BASE64URL:se.BASE64;f=await this.client.core.crypto.encode(i,u,oo(_n({},o||{}),{encoding:_}))}catch(_){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${i} failed`),_}let m;try{m=await this.client.core.history.get(i,n)}catch(_){throw this.client.logger.error(`sendResult() -> history.get(${i}, ${n}) failed`),_}if(d){let _=se.getLinkModeURL(c,i,f);await global.Linking.openURL(_,this.client.name)}else{let _=zn[m.request.method].res;a?(_.internal=oo(_n({},_.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,f,_)):this.client.core.relayer.publish(i,f,_).catch(x=>this.client.logger.error(x))}await this.client.core.history.resolve(u)},this.sendError=async r=>{let{id:n,topic:i,error:s,encodeOpts:a,rpcOpts:o,appLink:c}=r,u=Ar.formatJsonRpcError(n,s),f,d=c&&typeof(global==null?void 0:global.Linking)<"u";try{let _=d?se.BASE64URL:se.BASE64;f=await this.client.core.crypto.encode(i,u,oo(_n({},a||{}),{encoding:_}))}catch(_){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${i} failed`),_}let m;try{m=await this.client.core.history.get(i,n)}catch(_){throw this.client.logger.error(`sendError() -> history.get(${i}, ${n}) failed`),_}if(d){let _=se.getLinkModeURL(c,i,f);await global.Linking.openURL(_,this.client.name)}else{let _=o||zn[m.request.method].res;this.client.core.relayer.publish(i,f,_)}await this.client.core.history.resolve(u)},this.cleanup=async()=>{let r=[],n=[];this.client.session.getAll().forEach(i=>{let s=!1;se.isExpired(i.expiry)&&(s=!0),this.client.core.crypto.keychain.has(i.topic)||(s=!0),s&&r.push(i.topic)}),this.client.proposal.getAll().forEach(i=>{se.isExpired(i.expiryTimestamp)&&n.push(i.id)}),await Promise.all([...r.map(i=>this.deleteSession({topic:i})),...n.map(i=>this.deleteProposal(i))])},this.onRelayEventRequest=async r=>{this.requestQueue.queue.push(r),await this.processRequestsQueue()},this.processRequestsQueue=async()=>{if(this.requestQueue.state===co.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=co.active;let r=this.requestQueue.queue.shift();if(r)try{await this.processRequest(r)}catch(n){this.client.logger.warn(n)}}this.requestQueue.state=co.idle},this.processRequest=async r=>{let{topic:n,payload:i,attestation:s,transportType:a,encryptedId:o}=r,c=i.method;if(!this.shouldIgnorePairingRequest({topic:n,requestMethod:c}))switch(c){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:n,payload:i,attestation:s,encryptedId:o});case"wc_sessionSettle":return await this.onSessionSettleRequest(n,i);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(n,i);case"wc_sessionExtend":return await this.onSessionExtendRequest(n,i);case"wc_sessionPing":return await this.onSessionPingRequest(n,i);case"wc_sessionDelete":return await this.onSessionDeleteRequest(n,i);case"wc_sessionRequest":return await this.onSessionRequest({topic:n,payload:i,attestation:s,encryptedId:o,transportType:a});case"wc_sessionEvent":return await this.onSessionEventRequest(n,i);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:n,payload:i,attestation:s,encryptedId:o,transportType:a});default:return this.client.logger.info(`Unsupported request method ${c}`)}},this.onRelayEventResponse=async r=>{let{topic:n,payload:i,transportType:s}=r,a=(await this.client.core.history.get(n,i.id)).request.method;switch(a){case"wc_sessionPropose":return this.onSessionProposeResponse(n,i,s);case"wc_sessionSettle":return this.onSessionSettleResponse(n,i);case"wc_sessionUpdate":return this.onSessionUpdateResponse(n,i);case"wc_sessionExtend":return this.onSessionExtendResponse(n,i);case"wc_sessionPing":return this.onSessionPingResponse(n,i);case"wc_sessionRequest":return this.onSessionRequestResponse(n,i);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(n,i);default:return this.client.logger.info(`Unsupported response method ${a}`)}},this.onRelayEventUnknownPayload=r=>{let{topic:n}=r,{message:i}=se.getInternalError("MISSING_OR_INVALID",`Decoded payload on topic ${n} is not identifiable as a JSON-RPC request or a response.`);throw new Error(i)},this.shouldIgnorePairingRequest=r=>{let{topic:n,requestMethod:i}=r,s=this.expectedPairingMethodMap.get(n);return!s||s.includes(i)?!1:!!(s.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)},this.onSessionProposeRequest=async r=>{let{topic:n,payload:i,attestation:s,encryptedId:a}=r,{params:o,id:c}=i;try{let u=this.client.core.eventClient.getEvent({topic:n});this.isValidConnect(_n({},i.params));let f=o.expiryTimestamp||se.calcExpiry(zn.wc_sessionPropose.req.ttl),d=_n({id:c,pairingTopic:n,expiryTimestamp:f},o);await this.setProposal(c,d);let m=await this.getVerifyContext({attestationId:s,hash:se.hashMessage(JSON.stringify(i)),encryptedId:a,metadata:d.proposer.metadata});this.client.events.listenerCount("session_proposal")===0&&u?.setError(nt.EVENT_CLIENT_PAIRING_ERRORS.proposal_listener_not_found),u?.addTrace(nt.EVENT_CLIENT_PAIRING_TRACES.emit_session_proposal),this.client.events.emit("session_proposal",{id:c,params:d,verifyContext:m})}catch(u){await this.sendError({id:c,topic:n,error:u,rpcOpts:zn.wc_sessionPropose.autoReject}),this.client.logger.error(u)}},this.onSessionProposeResponse=async(r,n,i)=>{let{id:s}=n;if(Ar.isJsonRpcResult(n)){let{result:a}=n;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:a});let o=this.client.proposal.get(s);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:o});let c=o.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:c});let u=a.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:u});let f=await this.client.core.crypto.generateSharedKey(c,u);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:f});let d=await this.client.core.relayer.subscribe(f,{transportType:i});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:d}),await this.client.core.pairing.activate({topic:r})}else if(Ar.isJsonRpcError(n)){await this.client.proposal.delete(s,se.getSdkError("USER_DISCONNECTED"));let a=se.engineEvent("session_connect");if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners, 954`);this.events.emit(se.engineEvent("session_connect"),{error:n.error})}},this.onSessionSettleRequest=async(r,n)=>{let{id:i,params:s}=n;try{this.isValidSessionSettleRequest(s);let{relay:a,controller:o,expiry:c,namespaces:u,sessionProperties:f,sessionConfig:d}=n.params,m=oo(_n(_n({topic:r,relay:a,expiry:c,namespaces:u,acknowledged:!0,pairingTopic:"",requiredNamespaces:{},optionalNamespaces:{},controller:o.publicKey,self:{publicKey:"",metadata:this.client.metadata},peer:{publicKey:o.publicKey,metadata:o.metadata}},f&&{sessionProperties:f}),d&&{sessionConfig:d}),{transportType:nt.TRANSPORT_TYPES.relay}),_=se.engineEvent("session_connect");if(this.events.listenerCount(_)===0)throw new Error(`emitting ${_} without any listeners 997`);this.events.emit(se.engineEvent("session_connect"),{session:m}),await this.sendResult({id:n.id,topic:r,result:!0,throwOnFailedPublish:!0})}catch(a){await this.sendError({id:i,topic:r,error:a}),this.client.logger.error(a)}},this.onSessionSettleResponse=async(r,n)=>{let{id:i}=n;Ar.isJsonRpcResult(n)?(await this.client.session.update(r,{acknowledged:!0}),this.events.emit(se.engineEvent("session_approve",i),{})):Ar.isJsonRpcError(n)&&(await this.client.session.delete(r,se.getSdkError("USER_DISCONNECTED")),this.events.emit(se.engineEvent("session_approve",i),{error:n.error}))},this.onSessionUpdateRequest=async(r,n)=>{let{params:i,id:s}=n;try{let a=`${r}_session_update`,o=se.MemoryStore.get(a);if(o&&this.isRequestOutOfSync(o,s)){this.client.logger.info(`Discarding out of sync request - ${s}`),this.sendError({id:s,topic:r,error:se.getSdkError("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(_n({topic:r},i));try{se.MemoryStore.set(a,s),await this.client.session.update(r,{namespaces:i.namespaces}),await this.sendResult({id:s,topic:r,result:!0,throwOnFailedPublish:!0})}catch(c){throw se.MemoryStore.delete(a),c}this.client.events.emit("session_update",{id:s,topic:r,params:i})}catch(a){await this.sendError({id:s,topic:r,error:a}),this.client.logger.error(a)}},this.isRequestOutOfSync=(r,n)=>parseInt(n.toString().slice(0,-3))<=parseInt(r.toString().slice(0,-3)),this.onSessionUpdateResponse=(r,n)=>{let{id:i}=n,s=se.engineEvent("session_update",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);Ar.isJsonRpcResult(n)?this.events.emit(se.engineEvent("session_update",i),{}):Ar.isJsonRpcError(n)&&this.events.emit(se.engineEvent("session_update",i),{error:n.error})},this.onSessionExtendRequest=async(r,n)=>{let{id:i}=n;try{this.isValidExtend({topic:r}),await this.setExpiry(r,se.calcExpiry(_d)),await this.sendResult({id:i,topic:r,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_extend",{id:i,topic:r})}catch(s){await this.sendError({id:i,topic:r,error:s}),this.client.logger.error(s)}},this.onSessionExtendResponse=(r,n)=>{let{id:i}=n,s=se.engineEvent("session_extend",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);Ar.isJsonRpcResult(n)?this.events.emit(se.engineEvent("session_extend",i),{}):Ar.isJsonRpcError(n)&&this.events.emit(se.engineEvent("session_extend",i),{error:n.error})},this.onSessionPingRequest=async(r,n)=>{let{id:i}=n;try{this.isValidPing({topic:r}),await this.sendResult({id:i,topic:r,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:i,topic:r})}catch(s){await this.sendError({id:i,topic:r,error:s}),this.client.logger.error(s)}},this.onSessionPingResponse=(r,n)=>{let{id:i}=n,s=se.engineEvent("session_ping",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);setTimeout(()=>{Ar.isJsonRpcResult(n)?this.events.emit(se.engineEvent("session_ping",i),{}):Ar.isJsonRpcError(n)&&this.events.emit(se.engineEvent("session_ping",i),{error:n.error})},500)},this.onSessionDeleteRequest=async(r,n)=>{let{id:i}=n;try{this.isValidDisconnect({topic:r,reason:n.params}),Promise.all([new Promise(s=>{this.client.core.relayer.once(nt.RELAYER_EVENTS.publish,async()=>{s(await this.deleteSession({topic:r,id:i}))})}),this.sendResult({id:i,topic:r,result:!0,throwOnFailedPublish:!0}),this.cleanupPendingSentRequestsForTopic({topic:r,error:se.getSdkError("USER_DISCONNECTED")})]).catch(s=>this.client.logger.error(s))}catch(s){this.client.logger.error(s)}},this.onSessionRequest=async r=>{var n,i,s;let{topic:a,payload:o,attestation:c,encryptedId:u,transportType:f}=r,{id:d,params:m}=o;try{await this.isValidRequest(_n({topic:a},m));let _=this.client.session.get(a),x=await this.getVerifyContext({attestationId:c,hash:se.hashMessage(JSON.stringify(Ar.formatJsonRpcRequest("wc_sessionRequest",m,d))),encryptedId:u,metadata:_.peer.metadata,transportType:f}),P={id:d,topic:a,params:m,verifyContext:x};await this.setPendingSessionRequest(P),f===nt.TRANSPORT_TYPES.link_mode&&(n=_.peer.metadata.redirect)!=null&&n.universal&&this.client.core.addLinkModeSupportedApp((i=_.peer.metadata.redirect)==null?void 0:i.universal),(s=this.client.signConfig)!=null&&s.disableRequestQueue?this.emitSessionRequest(P):(this.addSessionRequestToSessionRequestQueue(P),this.processSessionRequestQueue())}catch(_){await this.sendError({id:d,topic:a,error:_}),this.client.logger.error(_)}},this.onSessionRequestResponse=(r,n)=>{let{id:i}=n,s=se.engineEvent("session_request",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);Ar.isJsonRpcResult(n)?this.events.emit(se.engineEvent("session_request",i),{result:n.result}):Ar.isJsonRpcError(n)&&this.events.emit(se.engineEvent("session_request",i),{error:n.error})},this.onSessionEventRequest=async(r,n)=>{let{id:i,params:s}=n;try{let a=`${r}_session_event_${s.event.name}`,o=se.MemoryStore.get(a);if(o&&this.isRequestOutOfSync(o,i)){this.client.logger.info(`Discarding out of sync request - ${i}`);return}this.isValidEmit(_n({topic:r},s)),this.client.events.emit("session_event",{id:i,topic:r,params:s}),se.MemoryStore.set(a,i)}catch(a){await this.sendError({id:i,topic:r,error:a}),this.client.logger.error(a)}},this.onSessionAuthenticateResponse=(r,n)=>{let{id:i}=n;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:r,payload:n}),Ar.isJsonRpcResult(n)?this.events.emit(se.engineEvent("session_request",i),{result:n.result}):Ar.isJsonRpcError(n)&&this.events.emit(se.engineEvent("session_request",i),{error:n.error})},this.onSessionAuthenticateRequest=async r=>{var n;let{topic:i,payload:s,attestation:a,encryptedId:o,transportType:c}=r;try{let{requester:u,authPayload:f,expiryTimestamp:d}=s.params,m=await this.getVerifyContext({attestationId:a,hash:se.hashMessage(JSON.stringify(s)),encryptedId:o,metadata:u.metadata,transportType:c}),_={requester:u,pairingTopic:i,id:s.id,authPayload:f,verifyContext:m,expiryTimestamp:d};await this.setAuthRequest(s.id,{request:_,pairingTopic:i,transportType:c}),c===nt.TRANSPORT_TYPES.link_mode&&(n=u.metadata.redirect)!=null&&n.universal&&this.client.core.addLinkModeSupportedApp(u.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:i,params:s.params,id:s.id,verifyContext:m})}catch(u){this.client.logger.error(u);let f=s.params.requester.publicKey,d=await this.client.core.crypto.generateKeyPair(),m=this.getAppLinkIfEnabled(s.params.requester.metadata,c),_={type:se.TYPE_1,receiverPublicKey:f,senderPublicKey:d};await this.sendError({id:s.id,topic:i,error:u,encodeOpts:_,rpcOpts:zn.wc_sessionAuthenticate.autoReject,appLink:m})}},this.addSessionRequestToSessionRequestQueue=r=>{this.sessionRequestQueue.queue.push(r)},this.cleanupAfterResponse=r=>{this.deletePendingSessionRequest(r.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=co.idle,this.processSessionRequestQueue()},Br.toMiliseconds(this.requestQueueDelay))},this.cleanupPendingSentRequestsForTopic=({topic:r,error:n})=>{let i=this.client.core.history.pending;i.length>0&&i.filter(s=>s.topic===r&&s.request.method==="wc_sessionRequest").forEach(s=>{let a=s.request.id,o=se.engineEvent("session_request",a);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners`);this.events.emit(se.engineEvent("session_request",s.request.id),{error:n})})},this.processSessionRequestQueue=()=>{if(this.sessionRequestQueue.state===co.active){this.client.logger.info("session request queue is already active.");return}let r=this.sessionRequestQueue.queue[0];if(!r){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=co.active,this.emitSessionRequest(r)}catch(n){this.client.logger.error(n)}},this.emitSessionRequest=r=>{this.client.events.emit("session_request",r)},this.onPairingCreated=r=>{if(r.methods&&this.expectedPairingMethodMap.set(r.topic,r.methods),r.active)return;let n=this.client.proposal.getAll().find(i=>i.pairingTopic===r.topic);n&&this.onSessionProposeRequest({topic:r.topic,payload:Ar.formatJsonRpcRequest("wc_sessionPropose",{requiredNamespaces:n.requiredNamespaces,optionalNamespaces:n.optionalNamespaces,relays:n.relays,proposer:n.proposer,sessionProperties:n.sessionProperties},n.id)})},this.isValidConnect=async r=>{if(!se.isValidParams(r)){let{message:c}=se.getInternalError("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(r)}`);throw new Error(c)}let{pairingTopic:n,requiredNamespaces:i,optionalNamespaces:s,sessionProperties:a,relays:o}=r;if(se.isUndefined(n)||await this.isValidPairingTopic(n),!se.isValidRelays(o,!0)){let{message:c}=se.getInternalError("MISSING_OR_INVALID",`connect() relays: ${o}`);throw new Error(c)}!se.isUndefined(i)&&se.isValidObject(i)!==0&&this.validateNamespaces(i,"requiredNamespaces"),!se.isUndefined(s)&&se.isValidObject(s)!==0&&this.validateNamespaces(s,"optionalNamespaces"),se.isUndefined(a)||this.validateSessionProps(a,"sessionProperties")},this.validateNamespaces=(r,n)=>{let i=se.isValidRequiredNamespaces(r,"connect()",n);if(i)throw new Error(i.message)},this.isValidApprove=async r=>{if(!se.isValidParams(r))throw new Error(se.getInternalError("MISSING_OR_INVALID",`approve() params: ${r}`).message);let{id:n,namespaces:i,relayProtocol:s,sessionProperties:a}=r;this.checkRecentlyDeleted(n),await this.isValidProposalId(n);let o=this.client.proposal.get(n),c=se.isValidNamespaces(i,"approve()");if(c)throw new Error(c.message);let u=se.isConformingNamespaces(o.requiredNamespaces,i,"approve()");if(u)throw new Error(u.message);if(!se.isValidString(s,!0)){let{message:f}=se.getInternalError("MISSING_OR_INVALID",`approve() relayProtocol: ${s}`);throw new Error(f)}se.isUndefined(a)||this.validateSessionProps(a,"sessionProperties")},this.isValidReject=async r=>{if(!se.isValidParams(r)){let{message:s}=se.getInternalError("MISSING_OR_INVALID",`reject() params: ${r}`);throw new Error(s)}let{id:n,reason:i}=r;if(this.checkRecentlyDeleted(n),await this.isValidProposalId(n),!se.isValidErrorReason(i)){let{message:s}=se.getInternalError("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(i)}`);throw new Error(s)}},this.isValidSessionSettleRequest=r=>{if(!se.isValidParams(r)){let{message:u}=se.getInternalError("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${r}`);throw new Error(u)}let{relay:n,controller:i,namespaces:s,expiry:a}=r;if(!se.isValidRelay(n)){let{message:u}=se.getInternalError("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(u)}let o=se.isValidController(i,"onSessionSettleRequest()");if(o)throw new Error(o.message);let c=se.isValidNamespaces(s,"onSessionSettleRequest()");if(c)throw new Error(c.message);if(se.isExpired(a)){let{message:u}=se.getInternalError("EXPIRED","onSessionSettleRequest()");throw new Error(u)}},this.isValidUpdate=async r=>{if(!se.isValidParams(r)){let{message:c}=se.getInternalError("MISSING_OR_INVALID",`update() params: ${r}`);throw new Error(c)}let{topic:n,namespaces:i}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n);let s=this.client.session.get(n),a=se.isValidNamespaces(i,"update()");if(a)throw new Error(a.message);let o=se.isConformingNamespaces(s.requiredNamespaces,i,"update()");if(o)throw new Error(o.message)},this.isValidExtend=async r=>{if(!se.isValidParams(r)){let{message:i}=se.getInternalError("MISSING_OR_INVALID",`extend() params: ${r}`);throw new Error(i)}let{topic:n}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n)},this.isValidRequest=async r=>{if(!se.isValidParams(r)){let{message:c}=se.getInternalError("MISSING_OR_INVALID",`request() params: ${r}`);throw new Error(c)}let{topic:n,request:i,chainId:s,expiry:a}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n);let{namespaces:o}=this.client.session.get(n);if(!se.isValidNamespacesChainId(o,s)){let{message:c}=se.getInternalError("MISSING_OR_INVALID",`request() chainId: ${s}`);throw new Error(c)}if(!se.isValidRequest(i)){let{message:c}=se.getInternalError("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw new Error(c)}if(!se.isValidNamespacesRequest(o,s,i.method)){let{message:c}=se.getInternalError("MISSING_OR_INVALID",`request() method: ${i.method}`);throw new Error(c)}if(a&&!se.isValidRequestExpiry(a,nS)){let{message:c}=se.getInternalError("MISSING_OR_INVALID",`request() expiry: ${a}. Expiry must be a number (in seconds) between ${nS.min} and ${nS.max}`);throw new Error(c)}},this.isValidRespond=async r=>{var n;if(!se.isValidParams(r)){let{message:a}=se.getInternalError("MISSING_OR_INVALID",`respond() params: ${r}`);throw new Error(a)}let{topic:i,response:s}=r;try{await this.isValidSessionTopic(i)}catch(a){throw(n=r?.response)!=null&&n.id&&this.cleanupAfterResponse(r),a}if(!se.isValidResponse(s)){let{message:a}=se.getInternalError("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(s)}`);throw new Error(a)}},this.isValidPing=async r=>{if(!se.isValidParams(r)){let{message:i}=se.getInternalError("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(i)}let{topic:n}=r;await this.isValidSessionOrPairingTopic(n)},this.isValidEmit=async r=>{if(!se.isValidParams(r)){let{message:o}=se.getInternalError("MISSING_OR_INVALID",`emit() params: ${r}`);throw new Error(o)}let{topic:n,event:i,chainId:s}=r;await this.isValidSessionTopic(n);let{namespaces:a}=this.client.session.get(n);if(!se.isValidNamespacesChainId(a,s)){let{message:o}=se.getInternalError("MISSING_OR_INVALID",`emit() chainId: ${s}`);throw new Error(o)}if(!se.isValidEvent(i)){let{message:o}=se.getInternalError("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(o)}if(!se.isValidNamespacesEvent(a,s,i.name)){let{message:o}=se.getInternalError("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(o)}},this.isValidDisconnect=async r=>{if(!se.isValidParams(r)){let{message:i}=se.getInternalError("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(i)}let{topic:n}=r;await this.isValidSessionOrPairingTopic(n)},this.isValidAuthenticate=r=>{let{chains:n,uri:i,domain:s,nonce:a}=r;if(!Array.isArray(n)||n.length===0)throw new Error("chains is required and must be a non-empty array");if(!se.isValidString(i,!1))throw new Error("uri is required parameter");if(!se.isValidString(s,!1))throw new Error("domain is required parameter");if(!se.isValidString(a,!1))throw new Error("nonce is required parameter");if([...new Set(n.map(c=>se.parseChainId(c).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");let{namespace:o}=se.parseChainId(n[0]);if(o!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")},this.getVerifyContext=async r=>{let{attestationId:n,hash:i,encryptedId:s,metadata:a,transportType:o}=r,c={verified:{verifyUrl:a.verifyUrl||nt.VERIFY_SERVER,validation:"UNKNOWN",origin:a.url||""}};try{if(o===nt.TRANSPORT_TYPES.link_mode){let f=this.getAppLinkIfEnabled(a,o);return c.verified.validation=f&&new URL(f).origin===new URL(a.url).origin?"VALID":"INVALID",c}let u=await this.client.core.verify.resolve({attestationId:n,hash:i,encryptedId:s,verifyUrl:a.verifyUrl});u&&(c.verified.origin=u.origin,c.verified.isScam=u.isScam,c.verified.validation=u.origin===new URL(a.url).origin?"VALID":"INVALID")}catch(u){this.client.logger.warn(u)}return this.client.logger.debug(`Verify context: ${JSON.stringify(c)}`),c},this.validateSessionProps=(r,n)=>{Object.values(r).forEach(i=>{if(!se.isValidString(i,!1)){let{message:s}=se.getInternalError("MISSING_OR_INVALID",`${n} must be in Record<string, string> format. Received: ${JSON.stringify(i)}`);throw new Error(s)}})},this.getPendingAuthRequest=r=>{let n=this.client.auth.requests.get(r);return typeof n=="object"?n:void 0},this.addToRecentlyDeleted=(r,n)=>{if(this.recentlyDeletedMap.set(r,n),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let i=0,s=this.recentlyDeletedLimit/2;for(let a of this.recentlyDeletedMap.keys()){if(i++>=s)break;this.recentlyDeletedMap.delete(a)}}},this.checkRecentlyDeleted=r=>{let n=this.recentlyDeletedMap.get(r);if(n){let{message:i}=se.getInternalError("MISSING_OR_INVALID",`Record was recently deleted - ${n}: ${r}`);throw new Error(i)}},this.isLinkModeEnabled=(r,n)=>{var i,s,a,o,c,u,f,d,m;return!r||n!==nt.TRANSPORT_TYPES.link_mode?!1:((s=(i=this.client.metadata)==null?void 0:i.redirect)==null?void 0:s.linkMode)===!0&&((o=(a=this.client.metadata)==null?void 0:a.redirect)==null?void 0:o.universal)!==void 0&&((u=(c=this.client.metadata)==null?void 0:c.redirect)==null?void 0:u.universal)!==""&&((f=r?.redirect)==null?void 0:f.universal)!==void 0&&((d=r?.redirect)==null?void 0:d.universal)!==""&&((m=r?.redirect)==null?void 0:m.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(r.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"},this.getAppLinkIfEnabled=(r,n)=>{var i;return this.isLinkModeEnabled(r,n)?(i=r?.redirect)==null?void 0:i.universal:void 0},this.handleLinkModeMessage=({url:r})=>{if(!r||!r.includes("wc_ev")||!r.includes("topic"))return;let n=se.getSearchParamFromURL(r,"topic")||"",i=decodeURIComponent(se.getSearchParamFromURL(r,"wc_ev")||""),s=this.client.session.keys.includes(n);s&&this.client.session.update(n,{transportType:nt.TRANSPORT_TYPES.link_mode}),this.client.core.dispatchEnvelope({topic:n,message:i,sessionExists:s})},this.registerLinkModeListeners=async()=>{var r;if(se.isTestRun()||se.isReactNative()&&(r=this.client.metadata.redirect)!=null&&r.linkMode){let n=global==null?void 0:global.Linking;if(typeof n<"u"){n.addEventListener("url",this.handleLinkModeMessage,this.client.name);let i=await n.getInitialURL();i&&setTimeout(()=>{this.handleLinkModeMessage({url:i})},50)}}}}isInitialized(){if(!this.initialized){let{message:e}=se.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(nt.RELAYER_EVENTS.message,e=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(e):this.onRelayMessage(e)})}async onRelayMessage(e){let{topic:r,message:n,attestation:i,transportType:s}=e,{publicKey:a}=this.client.auth.authKeys.keys.includes(km)?this.client.auth.authKeys.get(km):{responseTopic:void 0,publicKey:void 0},o=await this.client.core.crypto.decode(r,n,{receiverPublicKey:a,encoding:s===nt.TRANSPORT_TYPES.link_mode?se.BASE64URL:se.BASE64});try{Ar.isJsonRpcRequest(o)?(this.client.core.history.set(r,o),this.onRelayEventRequest({topic:r,payload:o,attestation:i,transportType:s,encryptedId:se.hashMessage(n)})):Ar.isJsonRpcResponse(o)?(await this.client.core.history.resolve(o),await this.onRelayEventResponse({topic:r,payload:o,transportType:s}),this.client.core.history.delete(r,o.id)):this.onRelayEventUnknownPayload({topic:r,payload:o,transportType:s})}catch(c){this.client.logger.error(c)}}registerExpirerEvents(){this.client.core.expirer.on(nt.EXPIRER_EVENTS.expired,async e=>{let{topic:r,id:n}=se.parseExpirerTarget(e.target);if(n&&this.client.pendingRequest.keys.includes(n))return await this.deletePendingSessionRequest(n,se.getInternalError("EXPIRED"),!0);if(n&&this.client.auth.requests.keys.includes(n))return await this.deletePendingAuthRequest(n,se.getInternalError("EXPIRED"),!0);r?this.client.session.keys.includes(r)&&(await this.deleteSession({topic:r,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:r})):n&&(await this.deleteProposal(n,!0),this.client.events.emit("proposal_expire",{id:n}))})}registerPairingEvents(){this.client.core.pairing.events.on(nt.PAIRING_EVENTS.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(nt.PAIRING_EVENTS.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!se.isValidString(e,!1)){let{message:r}=se.getInternalError("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(r)}if(!this.client.core.pairing.pairings.keys.includes(e)){let{message:r}=se.getInternalError("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(r)}if(se.isExpired(this.client.core.pairing.pairings.get(e).expiry)){let{message:r}=se.getInternalError("EXPIRED",`pairing topic: ${e}`);throw new Error(r)}}async isValidSessionTopic(e){if(!se.isValidString(e,!1)){let{message:r}=se.getInternalError("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(r)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){let{message:r}=se.getInternalError("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(r)}if(se.isExpired(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});let{message:r}=se.getInternalError("EXPIRED",`session topic: ${e}`);throw new Error(r)}if(!this.client.core.crypto.keychain.has(e)){let{message:r}=se.getInternalError("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(r)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(se.isValidString(e,!1)){let{message:r}=se.getInternalError("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(r)}else{let{message:r}=se.getInternalError("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(r)}}async isValidProposalId(e){if(!se.isValidId(e)){let{message:r}=se.getInternalError("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(r)}if(!this.client.proposal.keys.includes(e)){let{message:r}=se.getInternalError("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(r)}if(se.isExpired(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);let{message:r}=se.getInternalError("EXPIRED",`proposal id: ${e}`);throw new Error(r)}}},TD=class extends nt.Store{constructor(e,r){super(e,r,Voe,aS),this.core=e,this.logger=r}},iS=class extends nt.Store{constructor(e,r){super(e,r,Goe,aS),this.core=e,this.logger=r}},ID=class extends nt.Store{constructor(e,r){super(e,r,zoe,aS,n=>n.id),this.core=e,this.logger=r}},CD=class extends nt.Store{constructor(e,r){super(e,r,$oe,Vm,()=>km),this.core=e,this.logger=r}},ND=class extends nt.Store{constructor(e,r){super(e,r,Yoe,Vm),this.core=e,this.logger=r}},OD=class extends nt.Store{constructor(e,r){super(e,r,Joe,Vm,n=>n.id),this.core=e,this.logger=r}},PD=class{constructor(e,r){this.core=e,this.logger=r,this.authKeys=new CD(this.core,this.logger),this.pairingTopics=new ND(this.core,this.logger),this.requests=new OD(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}},sS=class t extends Uoe.ISignClient{constructor(e){super(e),this.protocol=RD,this.version=DD,this.name=rS.name,this.events=new koe.EventEmitter,this.on=(n,i)=>this.events.on(n,i),this.once=(n,i)=>this.events.once(n,i),this.off=(n,i)=>this.events.off(n,i),this.removeListener=(n,i)=>this.events.removeListener(n,i),this.removeAllListeners=n=>this.events.removeAllListeners(n),this.connect=async n=>{try{return await this.engine.connect(n)}catch(i){throw this.logger.error(i.message),i}},this.pair=async n=>{try{return await this.engine.pair(n)}catch(i){throw this.logger.error(i.message),i}},this.approve=async n=>{try{return await this.engine.approve(n)}catch(i){throw this.logger.error(i.message),i}},this.reject=async n=>{try{return await this.engine.reject(n)}catch(i){throw this.logger.error(i.message),i}},this.update=async n=>{try{return await this.engine.update(n)}catch(i){throw this.logger.error(i.message),i}},this.extend=async n=>{try{return await this.engine.extend(n)}catch(i){throw this.logger.error(i.message),i}},this.request=async n=>{try{return await this.engine.request(n)}catch(i){throw this.logger.error(i.message),i}},this.respond=async n=>{try{return await this.engine.respond(n)}catch(i){throw this.logger.error(i.message),i}},this.ping=async n=>{try{return await this.engine.ping(n)}catch(i){throw this.logger.error(i.message),i}},this.emit=async n=>{try{return await this.engine.emit(n)}catch(i){throw this.logger.error(i.message),i}},this.disconnect=async n=>{try{return await this.engine.disconnect(n)}catch(i){throw this.logger.error(i.message),i}},this.find=n=>{try{return this.engine.find(n)}catch(i){throw this.logger.error(i.message),i}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(n){throw this.logger.error(n.message),n}},this.authenticate=async(n,i)=>{try{return await this.engine.authenticate(n,i)}catch(s){throw this.logger.error(s.message),s}},this.formatAuthMessage=n=>{try{return this.engine.formatAuthMessage(n)}catch(i){throw this.logger.error(i.message),i}},this.approveSessionAuthenticate=async n=>{try{return await this.engine.approveSessionAuthenticate(n)}catch(i){throw this.logger.error(i.message),i}},this.rejectSessionAuthenticate=async n=>{try{return await this.engine.rejectSessionAuthenticate(n)}catch(i){throw this.logger.error(i.message),i}},this.name=e?.name||rS.name,this.metadata=e?.metadata||se.getAppMetadata(),this.signConfig=e?.signConfig;let r=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:tS.pino(tS.getDefaultLoggerOptions({level:e?.logger||rS.logger}));this.core=e?.core||new nt.Core(e),this.logger=tS.generateChildLogger(r,this.name),this.session=new iS(this.core,this.logger),this.proposal=new TD(this.core,this.logger),this.pendingRequest=new ID(this.core,this.logger),this.engine=new xD(this),this.auth=new PD(this.core,this.logger)}static async init(e){let r=new t(e);return await r.initialize(),r}get context(){return tS.getLoggerContext(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success"),this.engine.processRelayMessageCache()}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}},HUe=iS,GUe=sS;_r.AUTH_CONTEXT=Qoe,_r.AUTH_KEYS_CONTEXT=$oe,_r.AUTH_PAIRING_TOPIC_CONTEXT=Yoe,_r.AUTH_PROTOCOL=Woe,_r.AUTH_PUBLIC_KEY_NAME=km,_r.AUTH_REQUEST_CONTEXT=Joe,_r.AUTH_STORAGE_PREFIX=Vm,_r.AUTH_VERSION=LUe,_r.ENGINE_CONTEXT=joe,_r.ENGINE_QUEUE_STATES=co,_r.ENGINE_RPC_OPTS=zn,_r.HISTORY_CONTEXT=DUe,_r.HISTORY_EVENTS=RUe,_r.HISTORY_STORAGE_VERSION=MUe,_r.METHODS_TO_VERIFY=Koe,_r.PROPOSAL_CONTEXT=Voe,_r.PROPOSAL_EXPIRY=BUe,_r.PROPOSAL_EXPIRY_MESSAGE=Hoe,_r.REQUEST_CONTEXT=zoe,_r.SESSION_CONTEXT=Goe,_r.SESSION_EXPIRY=_d,_r.SESSION_REQUEST_EXPIRY_BOUNDARIES=nS,_r.SIGN_CLIENT_CONTEXT=MD,_r.SIGN_CLIENT_DEFAULT=rS,_r.SIGN_CLIENT_EVENTS=OUe,_r.SIGN_CLIENT_PROTOCOL=RD,_r.SIGN_CLIENT_STORAGE_OPTIONS=PUe,_r.SIGN_CLIENT_STORAGE_PREFIX=aS,_r.SIGN_CLIENT_VERSION=DD,_r.SessionStore=HUe,_r.SignClient=GUe,_r.WALLETCONNECT_DEEPLINK_CHOICE=SD,_r.default=sS});var oS=R(Hp=>{"use strict";l();Object.defineProperty(Hp,"__esModule",{value:!0});Hp.OptionalOperation=Hp.Operation=void 0;var Zoe;(function(t){t.SIGN_TRANSACTION="mvx_signTransaction",t.SIGN_TRANSACTIONS="mvx_signTransactions",t.SIGN_MESSAGE="mvx_signMessage"})(Zoe||(Hp.Operation=Zoe={}));var ece;(function(t){t.SIGN_LOGIN_TOKEN="mvx_signLoginToken",t.SIGN_NATIVE_AUTH_TOKEN="mvx_signNativeAuthToken",t.CANCEL_ACTION="mvx_cancelAction"})(ece||(Hp.OptionalOperation=ece={}))});var BD=R(cc=>{"use strict";l();Object.defineProperty(cc,"__esModule",{value:!0});cc.WALLETCONNECT_SIGN_LOGIN_DELAY=cc.WALLETCONNECT_MULTIVERSX_OPTIONAL_METHODS=cc.WALLETCONNECT_MULTIVERSX_METHODS=cc.WALLETCONNECT_MULTIVERSX_NAMESPACE=void 0;var tce=oS();cc.WALLETCONNECT_MULTIVERSX_NAMESPACE="mvx";cc.WALLETCONNECT_MULTIVERSX_METHODS=Object.values(tce.Operation);cc.WALLETCONNECT_MULTIVERSX_OPTIONAL_METHODS=Object.values(tce.OptionalOperation);cc.WALLETCONNECT_SIGN_LOGIN_DELAY=500});var FD=R(uc=>{"use strict";l();Object.defineProperty(uc,"__esModule",{value:!0});uc.WalletConnectV2ProviderErrorMessagesEnum=uc.ErrBadAddress=uc.ErrNotImplemented=uc.Err=void 0;var Hm=class extends Error{constructor(e,r){super(e),this.inner=void 0,this.inner=r}};uc.Err=Hm;var LD=class extends Hm{constructor(){super("Method not yet implemented")}};uc.ErrNotImplemented=LD;var qD=class extends Hm{constructor(e,r){super(`Bad address: ${e}`,r)}};uc.ErrBadAddress=qD;var rce;(function(t){t.unableToInit="WalletConnect is unable to init",t.notInitialized="WalletConnect is not initialized",t.unableToConnect="WalletConnect is unable to connect",t.unableToConnectExisting="WalletConnect is unable to connect to existing pairing",t.unableToSignLoginToken="WalletConnect could not sign login token",t.unableToSign="WalletConnect could not sign the message",t.unableToLogin="WalletConnect is unable to login",t.unableToHandleTopic="WalletConnect: Unable to handle topic update",t.unableToHandleEvent="WalletConnect: Unable to handle events",t.unableToHandleCleanup="WalletConnect: Unable to handle cleanup",t.sessionNotConnected="WalletConnect Session is not connected",t.sessionDeleted="WalletConnect Session Deleted",t.sessionExpired="WalletConnect Session Expired",t.alreadyLoggedOut="WalletConnect: Already logged out",t.pingFailed="WalletConnect Ping Failed",t.invalidAddress="WalletConnect: Invalid address",t.requestDifferentChain="WalletConnect: Request Chain Id different than Connection Chain Id",t.invalidMessageResponse="WalletConnect could not sign the message",t.invalidMessageSignature="WalletConnect: Invalid message signature",t.invalidTransactionResponse="WalletConnect could not sign the transactions. Invalid signatures",t.invalidCustomRequestResponse="WalletConnect could not send the custom request",t.transactionError="Transaction canceled",t.connectionError="WalletConnect could not establish a connection",t.invalidGuardian="WalletConnect: Invalid Guardian"})(rce||(uc.WalletConnectV2ProviderErrorMessagesEnum=rce={}))});var kD=R(cS=>{"use strict";l();Object.defineProperty(cS,"__esModule",{value:!0});cS.Logger=void 0;var UD=class{static error(e){}static trace(e){}};cS.Logger=UD});var cce=R(Sa=>{"use strict";l();var jUe=Sa&&Sa.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(f){try{u(n.next(f))}catch(d){a(d)}}function c(f){try{u(n.throw(f))}catch(d){a(d)}}function u(f){f.done?s(f.value):i(f.value).then(o,c)}u((n=n.apply(t,e||[])).next())})};Object.defineProperty(Sa,"__esModule",{value:!0});Sa.getCurrentSession=ace;Sa.getCurrentTopic=KUe;Sa.getConnectionParams=oce;Sa.addressIsValid=WUe;Sa.getAddressFromSession=QUe;Sa.applyTransactionSignature=$Ue;Sa.getMetadata=YUe;Sa.sleep=JUe;var sce=Xl(),nce=zw(),zUe=xm(),uS=BD(),ru=FD(),VD=kD(),ice=oS();function ace(t,e){if(!e)throw new Error(ru.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);let r=e.find(oce(t)).filter(n=>n.acknowledged);if(r.length>0){let n=r.length-1;return r[n]}if(e.session.length>0){let n=e.session.keys.length-1;return e.session.get(e.session.keys[n])}throw VD.Logger.error(ru.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected),new Error(ru.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected)}function KUe(t,e){if(!e)throw new Error(ru.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);let r=ace(t,e);if(!r?.topic)throw new Error(ru.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected);return r.topic}function oce(t,e){var r,n,i;let s=[...uS.WALLETCONNECT_MULTIVERSX_METHODS,...(r=e?.methods)!==null&&r!==void 0?r:[]];!((n=e?.methods)===null||n===void 0)&&n.includes(ice.OptionalOperation.SIGN_LOGIN_TOKEN)||s.push(ice.OptionalOperation.SIGN_LOGIN_TOKEN);let a=[`${uS.WALLETCONNECT_MULTIVERSX_NAMESPACE}:${t}`],o=(i=e?.events)!==null&&i!==void 0?i:[];return{requiredNamespaces:{[uS.WALLETCONNECT_MULTIVERSX_NAMESPACE]:{methods:s,chains:a,events:o}}}}function WUe(t){try{return!sce.Address.fromBech32(t).isEmpty()}catch{return!1}}function QUe(t){let e=t.namespaces[uS.WALLETCONNECT_MULTIVERSX_NAMESPACE];if(e&&e.accounts){let r=e.accounts[0],[n,i,s]=r.split(":");return s}return""}function $Ue({transaction:t,response:e}){if(!e)throw VD.Logger.error(ru.WalletConnectV2ProviderErrorMessagesEnum.invalidTransactionResponse),new Error(ru.WalletConnectV2ProviderErrorMessagesEnum.invalidTransactionResponse);let{signature:r,guardianSignature:n,version:i,options:s,guardian:a}=e,o=t.getGuardian().bech32();if(o&&o!==a)throw VD.Logger.error(ru.WalletConnectV2ProviderErrorMessagesEnum.invalidGuardian),new Error(ru.WalletConnectV2ProviderErrorMessagesEnum.invalidGuardian);return a&&t.setGuardian(sce.Address.fromBech32(a)),i&&t.setVersion(i),s!=null&&t.setOptions(s),t.applySignature(new nce.Signature(r)),n&&t.applyGuardianSignature(new nce.Signature(n)),t}function YUe(t){if(t)return Object.assign(Object.assign({},t),{url:(0,zUe.getAppMetadata)().url})}function JUe(t){return jUe(this,void 0,void 0,function*(){return yield new Promise(e=>setTimeout(()=>{e()},t))})}});var Gm=R(ws=>{"use strict";l();var Kn=ws&&ws.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(f){try{u(n.next(f))}catch(d){a(d)}}function c(f){try{u(n.throw(f))}catch(d){a(d)}}function u(f){f.done?s(f.value):i(f.value).then(o,c)}u((n=n.apply(t,e||[])).next())})},XUe=ws&&ws.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ws,"__esModule",{value:!0});ws.WalletConnectV2Provider=ws.OptionalOperation=ws.Operation=ws.WalletConnectV2ProviderErrorMessagesEnum=void 0;var uce=Xl(),ZUe=XUe(Xoe()),HD=xm(),Ed=BD(),Je=FD();Object.defineProperty(ws,"WalletConnectV2ProviderErrorMessagesEnum",{enumerable:!0,get:function(){return Je.WalletConnectV2ProviderErrorMessagesEnum}});var Er=kD(),Sf=oS();Object.defineProperty(ws,"Operation",{enumerable:!0,get:function(){return Sf.Operation}});Object.defineProperty(ws,"OptionalOperation",{enumerable:!0,get:function(){return Sf.OptionalOperation}});var gi=cce(),GD=class{constructor(e,r,n,i,s){this.chainId="",this.isInitializing=!1,this.processingTopic="",this.options={},this.account={address:""},this.onClientConnect=e,this.chainId=r,this.walletConnectV2Relay=n,this.walletConnectV2ProjectId=i,this.options=s}disconnect(){this.account={address:"",signature:""},this.walletConnector=void 0,this.session=void 0,this.pairings=void 0}init(){return Kn(this,void 0,void 0,function*(){var e,r;if(this.isInitialized())return this.isInitialized();try{if(!this.isInitializing){this.isInitializing=!0,this.disconnect();let n=!((e=this.options)===null||e===void 0)&&e.metadata?{metadata:(0,gi.getMetadata)((r=this.options)===null||r===void 0?void 0:r.metadata)}:{},i=yield ZUe.default.init(Object.assign(Object.assign(Object.assign({},this.options),{relayUrl:this.walletConnectV2Relay,projectId:this.walletConnectV2ProjectId}),n));this.walletConnector=i,this.isInitializing=!1,yield this.subscribeToEvents(i),yield this.checkPersistedState(i)}}catch{throw new Error(Je.WalletConnectV2ProviderErrorMessagesEnum.unableToInit)}finally{return this.isInitializing=!1,this.isInitialized()}})}isInitialized(){return!!this.walletConnector&&!this.isInitializing}isConnected(){return!!(this.isInitialized()&&typeof this.session<"u")}getAccount(){return this.account}setAccount(e){this.account=e}connect(e){return Kn(this,void 0,void 0,function*(){var r,n;if(typeof this.walletConnector>"u")throw new Error(Je.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);let i=(0,gi.getConnectionParams)(this.chainId,e);try{return yield this.walletConnector.connect(Object.assign({pairingTopic:e?.topic},i))}catch{if(e?.topic)try{(n=(r=this.walletConnector.core)===null||r===void 0?void 0:r.expirer)===null||n===void 0||n.set(e.topic,0)}catch{Er.Logger.error(Je.WalletConnectV2ProviderErrorMessagesEnum.unableToHandleCleanup)}throw this.disconnect(),Er.Logger.error(e?.topic?Je.WalletConnectV2ProviderErrorMessagesEnum.unableToConnectExisting:Je.WalletConnectV2ProviderErrorMessagesEnum.unableToConnect),new Error(e?.topic?Je.WalletConnectV2ProviderErrorMessagesEnum.unableToConnectExisting:Je.WalletConnectV2ProviderErrorMessagesEnum.unableToConnect)}})}login(e){return Kn(this,void 0,void 0,function*(){var r;if(this.isInitializing=!0,typeof this.walletConnector>"u"&&(yield this.connect()),typeof this.walletConnector>"u")throw new Error(Je.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);typeof this.session<"u"&&(yield this.logout({topic:(r=this.session)===null||r===void 0?void 0:r.topic}));try{if(e&&e.approval){let n=yield e.approval();if(e.token){yield(0,gi.sleep)(Ed.WALLETCONNECT_SIGN_LOGIN_DELAY);let i=(0,gi.getAddressFromSession)(n),a=n.namespaces[Ed.WALLETCONNECT_MULTIVERSX_NAMESPACE].methods.includes(Sf.OptionalOperation.SIGN_NATIVE_AUTH_TOKEN)?Sf.OptionalOperation.SIGN_NATIVE_AUTH_TOKEN:Sf.OptionalOperation.SIGN_LOGIN_TOKEN,{signature:o}=yield this.walletConnector.request({chainId:`${Ed.WALLETCONNECT_MULTIVERSX_NAMESPACE}:${this.chainId}`,topic:n.topic,request:{method:a,params:{token:e.token,address:i}}});if(!o)throw Er.Logger.error(Je.WalletConnectV2ProviderErrorMessagesEnum.unableToSignLoginToken),new Error(Je.WalletConnectV2ProviderErrorMessagesEnum.unableToSignLoginToken);return yield this.onSessionConnected({session:n,signature:o})}return yield this.onSessionConnected({session:n,signature:""})}}catch{throw this.disconnect(),Er.Logger.error(Je.WalletConnectV2ProviderErrorMessagesEnum.unableToLogin),new Error(Je.WalletConnectV2ProviderErrorMessagesEnum.unableToLogin)}finally{this.isInitializing=!1}return null})}logout(e){return Kn(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw Er.Logger.error(Je.WalletConnectV2ProviderErrorMessagesEnum.notInitialized),new Error(Je.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);try{if(this.processingTopic===(e?.topic||(0,gi.getCurrentTopic)(this.chainId,this.walletConnector)))return!0;if(e?.topic)this.processingTopic=e.topic,yield this.walletConnector.disconnect({topic:e.topic,reason:(0,HD.getSdkError)("USER_DISCONNECTED")});else{let r=(0,gi.getCurrentTopic)(this.chainId,this.walletConnector);this.processingTopic=r,yield this.walletConnector.disconnect({topic:r,reason:(0,HD.getSdkError)("USER_DISCONNECTED")}),this.disconnect(),yield this.cleanupPendingPairings({deletePairings:!0})}}catch{Er.Logger.error(Je.WalletConnectV2ProviderErrorMessagesEnum.alreadyLoggedOut)}finally{this.processingTopic=""}return!0})}getAddress(){if(typeof this.walletConnector>"u")throw Er.Logger.error(Je.WalletConnectV2ProviderErrorMessagesEnum.notInitialized),new Error(Je.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);return this.account.address}getSignature(){if(typeof this.walletConnector>"u")throw Er.Logger.error(Je.WalletConnectV2ProviderErrorMessagesEnum.notInitialized),new Error(Je.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);return this.account.signature}getPairings(){return Kn(this,void 0,void 0,function*(){var e,r,n,i,s;if(typeof this.walletConnector>"u")throw Er.Logger.error(Je.WalletConnectV2ProviderErrorMessagesEnum.notInitialized),new Error(Je.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);return(s=(i=(n=(r=(e=this.walletConnector)===null||e===void 0?void 0:e.core)===null||r===void 0?void 0:r.pairing)===null||n===void 0?void 0:n.pairings)===null||i===void 0?void 0:i.getAll({active:!0}))!==null&&s!==void 0?s:[]})}signMessage(e){return Kn(this,void 0,void 0,function*(){var r;let n=new uce.Message({data:y.Buffer.from(e.data),address:(r=e.address)!==null&&r!==void 0?r:uce.Address.fromBech32(this.account.address),signer:"wallet-connect-v2",version:e.version});if(typeof this.walletConnector>"u")throw Er.Logger.error(Je.WalletConnectV2ProviderErrorMessagesEnum.notInitialized),new Error(Je.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);if(typeof this.session>"u")throw Er.Logger.error(Je.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected),this.onClientConnect.onClientLogout(),new Error(Je.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected);try{let i=this.getAddress(),{signature:s}=yield this.walletConnector.request({chainId:`${Ed.WALLETCONNECT_MULTIVERSX_NAMESPACE}:${this.chainId}`,topic:(0,gi.getCurrentTopic)(this.chainId,this.walletConnector),request:{method:Sf.Operation.SIGN_MESSAGE,params:{address:i,message:n.data.toString()}}});if(!s)throw Er.Logger.error(Je.WalletConnectV2ProviderErrorMessagesEnum.invalidMessageResponse),new Error(Je.WalletConnectV2ProviderErrorMessagesEnum.invalidMessageResponse);try{n.signature=y.Buffer.from(s,"hex")}catch{throw Er.Logger.error(Je.WalletConnectV2ProviderErrorMessagesEnum.invalidMessageSignature),new Error(Je.WalletConnectV2ProviderErrorMessagesEnum.invalidMessageSignature)}}catch{throw new Error(Je.WalletConnectV2ProviderErrorMessagesEnum.unableToSign)}return n})}signTransaction(e){return Kn(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw Er.Logger.error(Je.WalletConnectV2ProviderErrorMessagesEnum.notInitialized),new Error(Je.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);if(typeof this.session>"u")throw Er.Logger.error(Je.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected),this.onClientConnect.onClientLogout(),new Error(Je.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected);let r=e.toPlainObject();if(this.chainId!==e.getChainID().valueOf())throw Er.Logger.error(Je.WalletConnectV2ProviderErrorMessagesEnum.requestDifferentChain),new Error(Je.WalletConnectV2ProviderErrorMessagesEnum.requestDifferentChain);try{let n=yield this.walletConnector.request({chainId:`${Ed.WALLETCONNECT_MULTIVERSX_NAMESPACE}:${this.chainId}`,topic:(0,gi.getCurrentTopic)(this.chainId,this.walletConnector),request:{method:Sf.Operation.SIGN_TRANSACTION,params:{transaction:r}}});return(0,gi.applyTransactionSignature)({transaction:e,response:n})}catch{throw new Error(Je.WalletConnectV2ProviderErrorMessagesEnum.transactionError)}})}signTransactions(e){return Kn(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw Er.Logger.error(Je.WalletConnectV2ProviderErrorMessagesEnum.notInitialized),new Error(Je.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);if(typeof this.session>"u")throw Er.Logger.error(Je.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected),this.onClientConnect.onClientLogout(),new Error(Je.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected);let r=e.map(n=>{if(this.chainId!==n.getChainID().valueOf())throw Er.Logger.error(Je.WalletConnectV2ProviderErrorMessagesEnum.requestDifferentChain),new Error(Je.WalletConnectV2ProviderErrorMessagesEnum.requestDifferentChain);return n.toPlainObject()});try{let{signatures:n}=yield this.walletConnector.request({chainId:`${Ed.WALLETCONNECT_MULTIVERSX_NAMESPACE}:${this.chainId}`,topic:(0,gi.getCurrentTopic)(this.chainId,this.walletConnector),request:{method:Sf.Operation.SIGN_TRANSACTIONS,params:{transactions:r}}});if(!n)throw Er.Logger.error(Je.WalletConnectV2ProviderErrorMessagesEnum.invalidTransactionResponse),new Error(Je.WalletConnectV2ProviderErrorMessagesEnum.invalidTransactionResponse);if(!Array.isArray(n)||e.length!==n.length)throw new Error(Je.WalletConnectV2ProviderErrorMessagesEnum.invalidTransactionResponse);for(let[i,s]of e.entries()){let a=n[i];(0,gi.applyTransactionSignature)({transaction:s,response:a})}return e}catch{throw new Error(Je.WalletConnectV2ProviderErrorMessagesEnum.transactionError)}})}sendCustomRequest(e){return Kn(this,void 0,void 0,function*(){var r;if(typeof this.walletConnector>"u")throw Er.Logger.error(Je.WalletConnectV2ProviderErrorMessagesEnum.notInitialized),new Error(Je.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);if(typeof this.session>"u")throw Er.Logger.error(Je.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected),this.onClientConnect.onClientLogout(),new Error(Je.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected);if(!((r=e?.request)===null||r===void 0)&&r.method){try{let n=Object.assign({},e.request),{method:i}=n,{response:s}=yield this.walletConnector.request({chainId:`${Ed.WALLETCONNECT_MULTIVERSX_NAMESPACE}:${this.chainId}`,topic:(0,gi.getCurrentTopic)(this.chainId,this.walletConnector),request:Object.assign(Object.assign({},n),{method:i})});s||Er.Logger.error(Je.WalletConnectV2ProviderErrorMessagesEnum.invalidCustomRequestResponse)}catch{Er.Logger.error(Je.WalletConnectV2ProviderErrorMessagesEnum.invalidCustomRequestResponse)}return}})}ping(){return Kn(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw Er.Logger.error(Je.WalletConnectV2ProviderErrorMessagesEnum.notInitialized),new Error(Je.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);typeof this.session>"u"&&Er.Logger.error(Je.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected);try{let e=(0,gi.getCurrentTopic)(this.chainId,this.walletConnector);return yield this.walletConnector.ping({topic:e}),!0}catch{return Er.Logger.error(Je.WalletConnectV2ProviderErrorMessagesEnum.pingFailed),!1}})}loginAccount(e){return Kn(this,void 0,void 0,function*(){return e?(0,gi.addressIsValid)(e.address)?(this.account.address=e.address,e.signature&&(this.account.signature=e.signature),this.onClientConnect.onClientLogin(),this.account.address):(Er.Logger.error(`${Je.WalletConnectV2ProviderErrorMessagesEnum.invalidAddress} ${e.address}`),this.walletConnector&&(yield this.logout()),""):""})}onSessionConnected(e){return Kn(this,void 0,void 0,function*(){if(!e)return null;this.session=e.session,this.account.signature=e.signature||"";let r=(0,gi.getAddressFromSession)(e.session);return r?(yield this.loginAccount({address:r,signature:e.signature}),this.account.address=r,this.account):null})}handleTopicUpdateEvent(e){return Kn(this,arguments,void 0,function*({topic:r}){if(typeof this.walletConnector>"u"){Er.Logger.error(Je.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);return}try{let n=yield this.getPairings();if(this.account.address&&!this.isInitializing&&n)if(n?.length===0)this.onClientConnect.onClientLogout();else{let i=n[n.length-1];i?.topic===r&&this.onClientConnect.onClientLogout()}}catch{Er.Logger.error(Je.WalletConnectV2ProviderErrorMessagesEnum.unableToHandleTopic)}finally{this.pairings=yield this.getPairings()}})}handleSessionEvents(e){return Kn(this,arguments,void 0,function*({topic:r,params:n}){var i;if(typeof this.walletConnector>"u")throw new Error(Je.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);if(this.session&&((i=this.session)===null||i===void 0?void 0:i.topic)!==r)return;let{event:s}=n;if(s?.name&&(0,gi.getCurrentTopic)(this.chainId,this.walletConnector)===r){let a=s.data;this.onClientConnect.onClientEvent(a)}})}subscribeToEvents(e){return Kn(this,void 0,void 0,function*(){var r,n,i,s;if(typeof e>"u")throw new Error(Je.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);try{e.on("session_update",({topic:a,params:o})=>{var c;if(!this.session||((c=this.session)===null||c===void 0?void 0:c.topic)!==a)return;let{namespaces:u}=o,f=e.session.get(a),d=Object.assign(Object.assign({},f),{namespaces:u});this.onSessionConnected({session:d})}),e.on("session_event",this.handleSessionEvents.bind(this)),e.on("session_delete",a=>Kn(this,[a],void 0,function*({topic:o}){var c;this.isInitializing&&(this.onClientConnect.onClientLogout(),this.disconnect()),!(!this.session||((c=this.session)===null||c===void 0?void 0:c.topic)!==o)&&(Er.Logger.error(Je.WalletConnectV2ProviderErrorMessagesEnum.sessionDeleted),this.onClientConnect.onClientLogout(),this.disconnect(),yield this.cleanupPendingPairings({deletePairings:!0}))})),e.on("session_expire",a=>Kn(this,[a],void 0,function*({topic:o}){var c;!this.session||((c=this.session)===null||c===void 0?void 0:c.topic)!==o||(Er.Logger.error(Je.WalletConnectV2ProviderErrorMessagesEnum.sessionExpired),this.onClientConnect.onClientLogout(),this.disconnect(),yield this.cleanupPendingPairings({deletePairings:!0}))})),(n=(r=e.core)===null||r===void 0?void 0:r.pairing)===null||n===void 0||n.events.on("pairing_delete",this.handleTopicUpdateEvent.bind(this)),(s=(i=e.core)===null||i===void 0?void 0:i.pairing)===null||s===void 0||s.events.on("pairing_expire",this.handleTopicUpdateEvent.bind(this))}catch{Er.Logger.error(Je.WalletConnectV2ProviderErrorMessagesEnum.unableToHandleEvent)}})}checkPersistedState(e){return Kn(this,void 0,void 0,function*(){if(typeof e>"u")throw new Error(Je.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);if(this.pairings=yield this.getPairings(),!(typeof this.session<"u")&&e.session.length&&!this.account.address&&!this.isInitializing){let r=(0,gi.getCurrentSession)(this.chainId,e);if(r)return yield this.onSessionConnected({session:r}),r}})}cleanupPendingPairings(){return Kn(this,arguments,void 0,function*(e={}){var r,n,i,s,a,o,c,u;if(!(typeof this.walletConnector>"u"))try{let f=(i=(n=(r=this.walletConnector.core)===null||r===void 0?void 0:r.pairing)===null||n===void 0?void 0:n.pairings)===null||i===void 0?void 0:i.getAll({active:!1});if(!(0,HD.isValidArray)(f))return;for(let d of f)if(e.deletePairings)(a=(s=this.walletConnector.core)===null||s===void 0?void 0:s.expirer)===null||a===void 0||a.set(d.topic,0);else try{yield(u=(c=(o=this.walletConnector.core)===null||o===void 0?void 0:o.relayer)===null||c===void 0?void 0:c.subscriber)===null||u===void 0?void 0:u.unsubscribe(d.topic)}catch{Er.Logger.error(Je.WalletConnectV2ProviderErrorMessagesEnum.unableToHandleCleanup)}}catch{Er.Logger.error(Je.WalletConnectV2ProviderErrorMessagesEnum.unableToHandleCleanup)}})}};ws.WalletConnectV2Provider=GD});var fce=R(()=>{l()});var Oce=R((blt,Nce)=>{l();var ZD=typeof Map=="function"&&Map.prototype,jD=Object.getOwnPropertyDescriptor&&ZD?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,lS=ZD&&jD&&typeof jD.get=="function"?jD.get:null,lce=ZD&&Map.prototype.forEach,eM=typeof Set=="function"&&Set.prototype,zD=Object.getOwnPropertyDescriptor&&eM?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,dS=eM&&zD&&typeof zD.get=="function"?zD.get:null,dce=eM&&Set.prototype.forEach,eke=typeof WeakMap=="function"&&WeakMap.prototype,zm=eke?WeakMap.prototype.has:null,tke=typeof WeakSet=="function"&&WeakSet.prototype,Km=tke?WeakSet.prototype.has:null,rke=typeof WeakRef=="function"&&WeakRef.prototype,hce=rke?WeakRef.prototype.deref:null,nke=Boolean.prototype.valueOf,ike=Object.prototype.toString,ske=Function.prototype.toString,ake=String.prototype.match,tM=String.prototype.slice,Tf=String.prototype.replace,oke=String.prototype.toUpperCase,pce=String.prototype.toLowerCase,Ace=RegExp.prototype.test,gce=Array.prototype.concat,fc=Array.prototype.join,cke=Array.prototype.slice,yce=Math.floor,QD=typeof BigInt=="function"?BigInt.prototype.valueOf:null,KD=Object.getOwnPropertySymbols,$D=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Gp=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Li=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Gp||!0)?Symbol.toStringTag:null,Sce=Object.prototype.propertyIsEnumerable,mce=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function vce(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||Ace.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-yce(-t):yce(t);if(n!==t){var i=String(n),s=tM.call(e,i.length+1);return Tf.call(i,r,"$&_")+"."+Tf.call(Tf.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Tf.call(e,r,"$&_")}var YD=fce(),bce=YD.custom,wce=Tce(bce)?bce:null;Nce.exports=function t(e,r,n,i){var s=r||{};if(xf(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(xf(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var a=xf(s,"customInspect")?s.customInspect:!0;if(typeof a!="boolean"&&a!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(xf(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(xf(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var o=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return Cce(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var c=String(e);return o?vce(e,c):c}if(typeof e=="bigint"){var u=String(e)+"n";return o?vce(e,u):u}var f=typeof s.depth>"u"?5:s.depth;if(typeof n>"u"&&(n=0),n>=f&&f>0&&typeof e=="object")return JD(e)?"[Array]":"[Object]";var d=Tke(s,n);if(typeof i>"u")i=[];else if(Ice(i,e)>=0)return"[Circular]";function m(p,g,b){if(g&&(i=cke.call(i),i.push(g)),b){var I={depth:s.depth};return xf(s,"quoteStyle")&&(I.quoteStyle=s.quoteStyle),t(p,I,n+1,i)}return t(p,s,n+1,i)}if(typeof e=="function"&&!_ce(e)){var _=mke(e),x=fS(e,m);return"[Function"+(_?": "+_:" (anonymous)")+"]"+(x.length>0?" { "+fc.call(x,", ")+" }":"")}if(Tce(e)){var P=Gp?Tf.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):$D.call(e);return typeof e=="object"&&!Gp?jm(P):P}if(Ake(e)){for(var D="<"+pce.call(String(e.nodeName)),k=e.attributes||[],Y=0;Y<k.length;Y++)D+=" "+k[Y].name+"="+xce(uke(k[Y].value),"double",s);return D+=">",e.childNodes&&e.childNodes.length&&(D+="..."),D+="</"+pce.call(String(e.nodeName))+">",D}if(JD(e)){if(e.length===0)return"[]";var X=fS(e,m);return d&&!xke(X)?"["+XD(X,d)+"]":"[ "+fc.call(X,", ")+" ]"}if(lke(e)){var Z=fS(e,m);return!("cause"in Error.prototype)&&"cause"in e&&!Sce.call(e,"cause")?"{ ["+String(e)+"] "+fc.call(gce.call("[cause]: "+m(e.cause),Z),", ")+" }":Z.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+fc.call(Z,", ")+" }"}if(typeof e=="object"&&a){if(wce&&typeof e[wce]=="function"&&YD)return YD(e,{depth:f-n});if(a!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(vke(e)){var U=[];return lce&&lce.call(e,function(p,g){U.push(m(g,e,!0)+" => "+m(p,e))}),Ece("Map",lS.call(e),U,d)}if(_ke(e)){var Q=[];return dce&&dce.call(e,function(p){Q.push(m(p,e))}),Ece("Set",dS.call(e),Q,d)}if(bke(e))return WD("WeakMap");if(Eke(e))return WD("WeakSet");if(wke(e))return WD("WeakRef");if(hke(e))return jm(m(Number(e)));if(gke(e))return jm(m(QD.call(e)));if(pke(e))return jm(nke.call(e));if(dke(e))return jm(m(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(typeof globalThis<"u"&&e===globalThis||typeof global<"u"&&e===global)return"{ [object globalThis] }";if(!fke(e)&&!_ce(e)){var j=fS(e,m),K=mce?mce(e)===Object.prototype:e instanceof Object||e.constructor===Object,$=e instanceof Object?"":"null prototype",L=!K&&Li&&Object(e)===e&&Li in e?tM.call(If(e),8,-1):$?"Object":"",v=K||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",E=v+(L||$?"["+fc.call(gce.call([],L||[],$||[]),": ")+"] ":"");return j.length===0?E+"{}":d?E+"{"+XD(j,d)+"}":E+"{ "+fc.call(j,", ")+" }"}return String(e)};function xce(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function uke(t){return Tf.call(String(t),/"/g,"&quot;")}function JD(t){return If(t)==="[object Array]"&&(!Li||!(typeof t=="object"&&Li in t))}function fke(t){return If(t)==="[object Date]"&&(!Li||!(typeof t=="object"&&Li in t))}function _ce(t){return If(t)==="[object RegExp]"&&(!Li||!(typeof t=="object"&&Li in t))}function lke(t){return If(t)==="[object Error]"&&(!Li||!(typeof t=="object"&&Li in t))}function dke(t){return If(t)==="[object String]"&&(!Li||!(typeof t=="object"&&Li in t))}function hke(t){return If(t)==="[object Number]"&&(!Li||!(typeof t=="object"&&Li in t))}function pke(t){return If(t)==="[object Boolean]"&&(!Li||!(typeof t=="object"&&Li in t))}function Tce(t){if(Gp)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!$D)return!1;try{return $D.call(t),!0}catch{}return!1}function gke(t){if(!t||typeof t!="object"||!QD)return!1;try{return QD.call(t),!0}catch{}return!1}var yke=Object.prototype.hasOwnProperty||function(t){return t in this};function xf(t,e){return yke.call(t,e)}function If(t){return ike.call(t)}function mke(t){if(t.name)return t.name;var e=ake.call(ske.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function Ice(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function vke(t){if(!lS||!t||typeof t!="object")return!1;try{lS.call(t);try{dS.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function bke(t){if(!zm||!t||typeof t!="object")return!1;try{zm.call(t,zm);try{Km.call(t,Km)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function wke(t){if(!hce||!t||typeof t!="object")return!1;try{return hce.call(t),!0}catch{}return!1}function _ke(t){if(!dS||!t||typeof t!="object")return!1;try{dS.call(t);try{lS.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function Eke(t){if(!Km||!t||typeof t!="object")return!1;try{Km.call(t,Km);try{zm.call(t,zm)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function Ake(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function Cce(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return Cce(tM.call(t,0,e.maxStringLength),e)+n}var i=Tf.call(Tf.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Ske);return xce(i,"single",e)}function Ske(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+oke.call(e.toString(16))}function jm(t){return"Object("+t+")"}function WD(t){return t+" { ? }"}function Ece(t,e,r,n){var i=n?XD(r,n):fc.call(r,", ");return t+" ("+e+") {"+i+"}"}function xke(t){for(var e=0;e<t.length;e++)if(Ice(t[e],`
`)>=0)return!1;return!0}function Tke(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=fc.call(Array(t.indent+1)," ");else return null;return{base:r,prev:fc.call(Array(e+1),r)}}function XD(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+fc.call(t,","+r)+`
`+e.prev}function fS(t,e){var r=JD(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=xf(t,i)?e(t[i],t):""}var s=typeof KD=="function"?KD(t):[],a;if(Gp){a={};for(var o=0;o<s.length;o++)a["$"+s[o]]=s[o]}for(var c in t)xf(t,c)&&(r&&String(Number(c))===c&&c<t.length||Gp&&a["$"+c]instanceof Symbol||(Ace.call(/[^\w$]/,c)?n.push(e(c,t)+": "+e(t[c],t)):n.push(c+": "+e(t[c],t))));if(typeof KD=="function")for(var u=0;u<s.length;u++)Sce.call(t,s[u])&&n.push("["+e(s[u])+"]: "+e(t[s[u]],t));return n}});var Dce=R((_lt,Rce)=>{"use strict";l();var Pce=Qf(),jp=Bv(),Ike=Oce(),Cke=Fd(),hS=Pce("%WeakMap%",!0),pS=Pce("%Map%",!0),Nke=jp("WeakMap.prototype.get",!0),Oke=jp("WeakMap.prototype.set",!0),Pke=jp("WeakMap.prototype.has",!0),Rke=jp("Map.prototype.get",!0),Dke=jp("Map.prototype.set",!0),Mke=jp("Map.prototype.has",!0),rM=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},Bke=function(t,e){var r=rM(t,e);return r&&r.value},Lke=function(t,e,r){var n=rM(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},qke=function(t,e){return!!rM(t,e)};Rce.exports=function(){var e,r,n,i={assert:function(s){if(!i.has(s))throw new Cke("Side channel does not contain "+Ike(s))},get:function(s){if(hS&&s&&(typeof s=="object"||typeof s=="function")){if(e)return Nke(e,s)}else if(pS){if(r)return Rke(r,s)}else if(n)return Bke(n,s)},has:function(s){if(hS&&s&&(typeof s=="object"||typeof s=="function")){if(e)return Pke(e,s)}else if(pS){if(r)return Mke(r,s)}else if(n)return qke(n,s);return!1},set:function(s,a){hS&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new hS),Oke(e,s,a)):pS?(r||(r=new pS),Dke(r,s,a)):(n||(n={key:{},next:null}),Lke(n,s,a))}};return i}});var gS=R((Alt,Mce)=>{"use strict";l();var Fke=String.prototype.replace,Uke=/%20/g,nM={RFC1738:"RFC1738",RFC3986:"RFC3986"};Mce.exports={default:nM.RFC3986,formatters:{RFC1738:function(t){return Fke.call(t,Uke,"+")},RFC3986:function(t){return String(t)}},RFC1738:nM.RFC1738,RFC3986:nM.RFC3986}});var sM=R((xlt,Lce)=>{"use strict";l();var kke=gS(),iM=Object.prototype.hasOwnProperty,Ad=Array.isArray,lc=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),Vke=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(Ad(n)){for(var i=[],s=0;s<n.length;++s)typeof n[s]<"u"&&i.push(n[s]);r.obj[r.prop]=i}}},Bce=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},Hke=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(Ad(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!iM.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return Ad(e)&&!Ad(r)&&(i=Bce(e,n)),Ad(e)&&Ad(r)?(r.forEach(function(s,a){if(iM.call(e,a)){var o=e[a];o&&typeof o=="object"&&s&&typeof s=="object"?e[a]=t(o,s,n):e.push(s)}else e[a]=s}),e):Object.keys(r).reduce(function(s,a){var o=r[a];return iM.call(s,a)?s[a]=t(s[a],o,n):s[a]=o,s},i)},Gke=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},jke=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},zke=function(e,r,n,i,s){if(e.length===0)return e;var a=e;if(typeof e=="symbol"?a=Symbol.prototype.toString.call(e):typeof e!="string"&&(a=String(e)),n==="iso-8859-1")return escape(a).replace(/%u[0-9a-f]{4}/gi,function(f){return"%26%23"+parseInt(f.slice(2),16)+"%3B"});for(var o="",c=0;c<a.length;++c){var u=a.charCodeAt(c);if(u===45||u===46||u===95||u===126||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||s===kke.RFC1738&&(u===40||u===41)){o+=a.charAt(c);continue}if(u<128){o=o+lc[u];continue}if(u<2048){o=o+(lc[192|u>>6]+lc[128|u&63]);continue}if(u<55296||u>=57344){o=o+(lc[224|u>>12]+lc[128|u>>6&63]+lc[128|u&63]);continue}c+=1,u=65536+((u&1023)<<10|a.charCodeAt(c)&1023),o+=lc[240|u>>18]+lc[128|u>>12&63]+lc[128|u>>6&63]+lc[128|u&63]}return o},Kke=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var s=r[i],a=s.obj[s.prop],o=Object.keys(a),c=0;c<o.length;++c){var u=o[c],f=a[u];typeof f=="object"&&f!==null&&n.indexOf(f)===-1&&(r.push({obj:a,prop:u}),n.push(f))}return Vke(r),e},Wke=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},Qke=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},$ke=function(e,r){return[].concat(e,r)},Yke=function(e,r){if(Ad(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)};Lce.exports={arrayToObject:Bce,assign:Gke,combine:$ke,compact:Kke,decode:jke,encode:zke,isBuffer:Qke,isRegExp:Wke,maybeMap:Yke,merge:Hke}});var Hce=R((Ilt,Vce)=>{"use strict";l();var Uce=Dce(),oM=sM(),Wm=gS(),Jke=Object.prototype.hasOwnProperty,qce={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},Sd=Array.isArray,Xke=String.prototype.split,Zke=Array.prototype.push,kce=function(t,e){Zke.apply(t,Sd(e)?e:[e])},eVe=Date.prototype.toISOString,Fce=Wm.default,yi={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:oM.encode,encodeValuesOnly:!1,format:Fce,formatter:Wm.formatters[Fce],indices:!1,serializeDate:function(e){return eVe.call(e)},skipNulls:!1,strictNullHandling:!1},tVe=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},aM={},rVe=function t(e,r,n,i,s,a,o,c,u,f,d,m,_,x,P){for(var D=e,k=P,Y=0,X=!1;(k=k.get(aM))!==void 0&&!X;){var Z=k.get(e);if(Y+=1,typeof Z<"u"){if(Z===Y)throw new RangeError("Cyclic object value");X=!0}typeof k.get(aM)>"u"&&(Y=0)}if(typeof o=="function"?D=o(r,D):D instanceof Date?D=f(D):n==="comma"&&Sd(D)&&(D=oM.maybeMap(D,function(O){return O instanceof Date?f(O):O})),D===null){if(i)return a&&!_?a(r,yi.encoder,x,"key",d):r;D=""}if(tVe(D)||oM.isBuffer(D)){if(a){var U=_?r:a(r,yi.encoder,x,"key",d);if(n==="comma"&&_){for(var Q=Xke.call(String(D),","),j="",K=0;K<Q.length;++K)j+=(K===0?"":",")+m(a(Q[K],yi.encoder,x,"value",d));return[m(U)+"="+j]}return[m(U)+"="+m(a(D,yi.encoder,x,"value",d))]}return[m(r)+"="+m(String(D))]}var $=[];if(typeof D>"u")return $;var L;if(n==="comma"&&Sd(D))L=[{value:D.length>0?D.join(",")||null:void 0}];else if(Sd(o))L=o;else{var v=Object.keys(D);L=c?v.sort(c):v}for(var E=0;E<L.length;++E){var p=L[E],g=typeof p=="object"&&typeof p.value<"u"?p.value:D[p];if(!(s&&g===null)){var b=Sd(D)?typeof n=="function"?n(r,p):r:r+(u?"."+p:"["+p+"]");P.set(e,Y);var I=Uce();I.set(aM,P),kce($,t(g,b,n,i,s,a,o,c,u,f,d,m,_,x,I))}}return $},nVe=function(e){if(!e)return yi;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||yi.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Wm.default;if(typeof e.format<"u"){if(!Jke.call(Wm.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=Wm.formatters[n],s=yi.filter;return(typeof e.filter=="function"||Sd(e.filter))&&(s=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:yi.addQueryPrefix,allowDots:typeof e.allowDots>"u"?yi.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:yi.charsetSentinel,delimiter:typeof e.delimiter>"u"?yi.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:yi.encode,encoder:typeof e.encoder=="function"?e.encoder:yi.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:yi.encodeValuesOnly,filter:s,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:yi.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:yi.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:yi.strictNullHandling}};Vce.exports=function(t,e){var r=t,n=nVe(e),i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):Sd(n.filter)&&(s=n.filter,i=s);var a=[];if(typeof r!="object"||r===null)return"";var o;e&&e.arrayFormat in qce?o=e.arrayFormat:e&&"indices"in e?o=e.indices?"indices":"repeat":o="indices";var c=qce[o];i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var u=Uce(),f=0;f<i.length;++f){var d=i[f];n.skipNulls&&r[d]===null||kce(a,rVe(r[d],d,c,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,u))}var m=a.join(n.delimiter),_=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?_+="utf8=%26%2310003%3B&":_+="utf8=%E2%9C%93&"),m.length>0?_+m:""}});var zce=R((Nlt,jce)=>{"use strict";l();var zp=sM(),cM=Object.prototype.hasOwnProperty,iVe=Array.isArray,ai={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:zp.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},sVe=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},Gce=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},aVe="utf8=%26%2310003%3B",oVe="utf8=%E2%9C%93",cVe=function(e,r){var n={},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=r.parameterLimit===1/0?void 0:r.parameterLimit,a=i.split(r.delimiter,s),o=-1,c,u=r.charset;if(r.charsetSentinel)for(c=0;c<a.length;++c)a[c].indexOf("utf8=")===0&&(a[c]===oVe?u="utf-8":a[c]===aVe&&(u="iso-8859-1"),o=c,c=a.length);for(c=0;c<a.length;++c)if(c!==o){var f=a[c],d=f.indexOf("]="),m=d===-1?f.indexOf("="):d+1,_,x;m===-1?(_=r.decoder(f,ai.decoder,u,"key"),x=r.strictNullHandling?null:""):(_=r.decoder(f.slice(0,m),ai.decoder,u,"key"),x=zp.maybeMap(Gce(f.slice(m+1),r),function(P){return r.decoder(P,ai.decoder,u,"value")})),x&&r.interpretNumericEntities&&u==="iso-8859-1"&&(x=sVe(x)),f.indexOf("[]=")>-1&&(x=iVe(x)?[x]:x),cM.call(n,_)?n[_]=zp.combine(n[_],x):n[_]=x}return n},uVe=function(t,e,r,n){for(var i=n?e:Gce(e,r),s=t.length-1;s>=0;--s){var a,o=t[s];if(o==="[]"&&r.parseArrays)a=[].concat(i);else{a=r.plainObjects?Object.create(null):{};var c=o.charAt(0)==="["&&o.charAt(o.length-1)==="]"?o.slice(1,-1):o,u=parseInt(c,10);!r.parseArrays&&c===""?a={0:i}:!isNaN(u)&&o!==c&&String(u)===c&&u>=0&&r.parseArrays&&u<=r.arrayLimit?(a=[],a[u]=i):c!=="__proto__"&&(a[c]=i)}i=a}return i},fVe=function(e,r,n,i){if(e){var s=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/,o=/(\[[^[\]]*])/g,c=n.depth>0&&a.exec(s),u=c?s.slice(0,c.index):s,f=[];if(u){if(!n.plainObjects&&cM.call(Object.prototype,u)&&!n.allowPrototypes)return;f.push(u)}for(var d=0;n.depth>0&&(c=o.exec(s))!==null&&d<n.depth;){if(d+=1,!n.plainObjects&&cM.call(Object.prototype,c[1].slice(1,-1))&&!n.allowPrototypes)return;f.push(c[1])}return c&&f.push("["+s.slice(c.index)+"]"),uVe(f,r,n,i)}},lVe=function(e){if(!e)return ai;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?ai.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?ai.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:ai.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:ai.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:ai.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:ai.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:ai.comma,decoder:typeof e.decoder=="function"?e.decoder:ai.decoder,delimiter:typeof e.delimiter=="string"||zp.isRegExp(e.delimiter)?e.delimiter:ai.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:ai.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:ai.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:ai.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:ai.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:ai.strictNullHandling}};jce.exports=function(t,e){var r=lVe(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?cVe(t,r):t,i=r.plainObjects?Object.create(null):{},s=Object.keys(n),a=0;a<s.length;++a){var o=s[a],c=fVe(o,n[o],r,typeof t=="string");i=zp.merge(i,c,r)}return r.allowSparse===!0?i:zp.compact(i)}});var Wce=R((Plt,Kce)=>{"use strict";l();var dVe=Hce(),hVe=zce(),pVe=gS();Kce.exports={formats:pVe,parse:hVe,stringify:dVe}});var uM=R(Lr=>{"use strict";l();Object.defineProperty(Lr,"__esModule",{value:!0});Lr.WALLET_PROVIDER_CALLBACK_PARAM_TX_SIGNED=Lr.WALLET_PROVIDER_CALLBACK_PARAM=Lr.WALLET_PROVIDER_SIGN_MESSAGE_URL=Lr.WALLET_PROVIDER_GUARD_TRANSACTION_URL=Lr.WALLET_PROVIDER_SIGN_TRANSACTION_URL=Lr.WALLET_PROVIDER_SEND_TRANSACTION_URL=Lr.WALLET_PROVIDER_DISCONNECT_URL=Lr.WALLET_PROVIDER_CONNECT_URL=Lr.XALIAS_PROVIDER_TESTNET=Lr.XALIAS_PROVIDER_DEVNET=Lr.XALIAS_PROVIDER_MAINNET=Lr.WALLET_PROVIDER_TESTNET=Lr.WALLET_PROVIDER_DEVNET=Lr.WALLET_PROVIDER_MAINNET=void 0;Lr.WALLET_PROVIDER_MAINNET="https://wallet.multiversx.com/dapp/init";Lr.WALLET_PROVIDER_DEVNET="https://devnet-wallet.multiversx.com/dapp/init";Lr.WALLET_PROVIDER_TESTNET="https://testnet-wallet.multiversx.com/dapp/init";Lr.XALIAS_PROVIDER_MAINNET="https://xalias.com";Lr.XALIAS_PROVIDER_DEVNET="https://devnet.xalias.com";Lr.XALIAS_PROVIDER_TESTNET="https://testnet.xalias.com";Lr.WALLET_PROVIDER_CONNECT_URL="hook/login";Lr.WALLET_PROVIDER_DISCONNECT_URL="hook/logout";Lr.WALLET_PROVIDER_SEND_TRANSACTION_URL="hook/transaction";Lr.WALLET_PROVIDER_SIGN_TRANSACTION_URL="hook/sign";Lr.WALLET_PROVIDER_GUARD_TRANSACTION_URL="hook/2fa";Lr.WALLET_PROVIDER_SIGN_MESSAGE_URL="hook/sign-message";Lr.WALLET_PROVIDER_CALLBACK_PARAM="walletProviderStatus";Lr.WALLET_PROVIDER_CALLBACK_PARAM_TX_SIGNED="transactionsSigned"});var Qce=R(Kp=>{"use strict";l();Object.defineProperty(Kp,"__esModule",{value:!0});Kp.ErrCannotSignedMessage=Kp.ErrCannotGetSignedTransactions=void 0;var fM=class extends Error{constructor(){super("Cannot get signed transaction(s)")}};Kp.ErrCannotGetSignedTransactions=fM;var lM=class extends Error{constructor(){super("Cannot get signed message")}};Kp.ErrCannotSignedMessage=lM});var $ce=R(yS=>{"use strict";l();Object.defineProperty(yS,"__esModule",{value:!0});yS.PlainSignedTransaction=void 0;var dM=class{constructor(e){this.nonce=0,this.value="",this.receiver="",this.sender="",this.gasPrice=0,this.gasLimit=0,this.data="",this.chainID="",this.version=0,this.signature="",Object.assign(this,e)}};yS.PlainSignedTransaction=dM});var Wp=R(Of=>{"use strict";l();var Cf=Of&&Of.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(f){try{u(n.next(f))}catch(d){a(d)}}function c(f){try{u(n.throw(f))}catch(d){a(d)}}function u(f){f.done?s(f.value):i(f.value).then(o,c)}u((n=n.apply(t,e||[])).next())})},gVe=Of&&Of.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Of,"__esModule",{value:!0});Of.WalletProvider=void 0;var yVe=Xl(),hM=gVe(Wce()),Nf=uM(),pM=Qce(),mVe=$ce(),gM=class t{constructor(e){this.walletUrl=e}login(e){return Cf(this,void 0,void 0,function*(){let r=this.buildWalletUrl({endpoint:Nf.WALLET_PROVIDER_CONNECT_URL,callbackUrl:e?.callbackUrl,params:{token:e?.token}});return yield this.redirect(r,e?.redirectDelayMilliseconds),r})}redirect(e,r){return Cf(this,void 0,void 0,function*(){r?yield this.redirectLater(e,r):this.redirectImmediately(e)})}redirectImmediately(e){window.location.href=e}redirectLater(e,r){return Cf(this,void 0,void 0,function*(){yield new Promise(n=>{setTimeout(()=>{window.location.href=e,n(!0)},r)})})}logout(e){return Cf(this,void 0,void 0,function*(){let r=this.buildWalletUrl({endpoint:Nf.WALLET_PROVIDER_DISCONNECT_URL,callbackUrl:e?.callbackUrl});return yield this.redirect(r,e?.redirectDelayMilliseconds),!0})}signMessage(e,r){return Cf(this,void 0,void 0,function*(){let n=new yVe.Message({data:y.Buffer.from(e.data),address:e.address,signer:"web-wallet",version:e.version}),i=this.buildWalletUrl({endpoint:Nf.WALLET_PROVIDER_SIGN_MESSAGE_URL,callbackUrl:r?.callbackUrl,params:{message:n.data.toString()}});return yield this.redirect(i),i})}getMessageSignatureFromWalletUrl(){var e,r;let n=window.location.search.slice(1),i=hM.default.parse(n);if((((e=i.status)===null||e===void 0?void 0:e.toString())||"")!=="signed")throw new pM.ErrCannotSignedMessage;return((r=i.signature)===null||r===void 0?void 0:r.toString())||""}guardTransactions(e,r){return Cf(this,void 0,void 0,function*(){this.redirectTransactionsToEndpoint(Nf.WALLET_PROVIDER_GUARD_TRANSACTION_URL,e,r)})}signTransactions(e,r){return Cf(this,void 0,void 0,function*(){this.redirectTransactionsToEndpoint(Nf.WALLET_PROVIDER_SIGN_TRANSACTION_URL,e,r)})}signTransaction(e,r){return Cf(this,void 0,void 0,function*(){yield this.signTransactions([e],r)})}getTransactionsFromWalletUrl(e=window.location.search){let r=hM.default.parse(e.slice(1));return t.isTxSignReturnSuccess(r)?this.getTxSignReturnValue(r):[]}static isTxSignReturnSuccess(e){return e.hasOwnProperty(Nf.WALLET_PROVIDER_CALLBACK_PARAM)&&e[Nf.WALLET_PROVIDER_CALLBACK_PARAM]===Nf.WALLET_PROVIDER_CALLBACK_PARAM_TX_SIGNED}getTxSignReturnValue(e){let r=["nonce","value","receiver","sender","gasPrice","gasLimit","chainID","version","signature"];for(let s of r)if(!e[s]||!Array.isArray(e[s]))throw new pM.ErrCannotGetSignedTransactions;let n=e.nonce.length;for(let s of r)if(e[s].length!==n)throw new pM.ErrCannotGetSignedTransactions;let i=[];for(let s=0;s<n;s++){let a=new mVe.PlainSignedTransaction(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({nonce:parseInt(e.nonce[s]),value:e.value[s],receiver:e.receiver[s],sender:e.sender[s],gasPrice:parseInt(e.gasPrice[s]),gasLimit:parseInt(e.gasLimit[s]),data:e.data&&e.data[s]?e.data[s]:"",chainID:e.chainID[s],version:parseInt(e.version[s])},e.guardian&&e.guardian[s]?{guardian:e.guardian[s]}:{}),e.guardianSignature&&e.guardianSignature[s]?{guardianSignature:e.guardianSignature[s]}:{}),e.options&&e.options[s]?{options:parseInt(e.options[s])}:{}),e.senderUsername&&e.senderUsername[s]?{senderUsername:e.senderUsername[s]}:{}),e.receiverUsername&&e.receiverUsername[s]?{receiverUsername:e.receiverUsername[s]}:{}),{signature:e.signature[s]}));i.push(a)}return i}static prepareWalletTransaction(e){let r=e.toPlainObject();return r.data?r.data=y.Buffer.from(r.data,"base64").toString():r.data="",r}buildWalletUrl(e){let r=e?.callbackUrl||window.location.href,n=hM.default.stringify(e.params||{}),i=n?`${n}&callbackUrl=${r}`:`callbackUrl=${r}`;return`${this.baseWalletUrl()}/${e.endpoint}?${i}`}baseWalletUrl(){let e=this.walletUrl.split("/"),r=e[0],n=e[2];return r+"//"+n}redirectTransactionsToEndpoint(e,r,n){let i={};r.map(a=>{let o=t.prepareWalletTransaction(a);for(let c in o)o.hasOwnProperty(c)&&!i.hasOwnProperty(c)&&(i[c]=[]),i[c].push(o[c])});let s=this.buildWalletUrl({endpoint:e,callbackUrl:n?.callbackUrl,params:i});window.location.href=s}};Of.WalletProvider=gM});var Yce=R(mS=>{"use strict";l();Object.defineProperty(mS,"__esModule",{value:!0});mS.NativeAuthClientConfig=void 0;var yM=class{constructor(){this.origin=typeof window<"u"&&typeof window.location<"u"?window.location.hostname:"",this.apiUrl="https://api.multiversx.com",this.expirySeconds=60*60*24}};mS.NativeAuthClientConfig=yM});var vM=R(Qp=>{"use strict";l();var xd=Qp&&Qp.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(f){try{u(n.next(f))}catch(d){a(d)}}function c(f){try{u(n.throw(f))}catch(d){a(d)}}function u(f){f.done?s(f.value):i(f.value).then(o,c)}u((n=n.apply(t,e||[])).next())})};Object.defineProperty(Qp,"__esModule",{value:!0});Qp.NativeAuthClient=void 0;var vVe=Pb(),bVe=Yce(),mM=class{constructor(e){this.config=Object.assign(new bVe.NativeAuthClientConfig,e)}getToken(e,r,n){let i=this.encodeValue(e),s=this.encodeValue(r);return`${i}.${s}.${n}`}initialize(e={}){return xd(this,void 0,void 0,function*(){let r=yield this.getCurrentBlockHash(),n=this.encodeValue(JSON.stringify(e));return`${this.encodeValue(this.config.origin)}.${r}.${this.config.expirySeconds}.${n}`})}getCurrentBlockHash(){return xd(this,void 0,void 0,function*(){return this.config.gatewayUrl?yield this.getCurrentBlockHashWithGateway():yield this.getCurrentBlockHashWithApi()})}getCurrentBlockHashWithGateway(){return xd(this,void 0,void 0,function*(){let e=yield this.getCurrentRound(),r=`${this.config.gatewayUrl}/blocks/by-round/${e}`;return(yield this.get(r)).data.data.blocks.filter(a=>a.shard===this.config.blockHashShard)[0].hash})}getCurrentRound(){return xd(this,void 0,void 0,function*(){if(!this.config.gatewayUrl)throw new Error("Gateway URL not set");if(!this.config.blockHashShard)throw new Error("Blockhash shard not set");let e=`${this.config.gatewayUrl}/network/status/${this.config.blockHashShard}`;return(yield this.get(e)).data.data.status.erd_current_round})}getCurrentBlockHashWithApi(){return xd(this,void 0,void 0,function*(){try{let e=`${this.config.apiUrl}/blocks/latest?ttl=${this.config.expirySeconds}&fields=hash`,r=yield this.get(e);if(r.data[0].hash!==void 0)return r.data[0].hash}catch{}return this.getCurrentBlockHashWithApiFallback()})}getCurrentBlockHashWithApiFallback(){return xd(this,void 0,void 0,function*(){let e=`${this.config.apiUrl}/blocks?size=1&fields=hash`;return this.config.blockHashShard!==void 0&&(e+=`&shard=${this.config.blockHashShard}`),(yield this.get(e)).data[0].hash})}encodeValue(e){return this.escape(y.Buffer.from(e,"utf8").toString("base64"))}escape(e){return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}get(e){return xd(this,void 0,void 0,function*(){return yield vVe.default.get(e,{headers:this.config.extraRequestHeaders})})}};Qp.NativeAuthClient=mM});var lue=R((Cdt,fue)=>{l();fue.exports=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}});var Pf=R(Id=>{l();var wM,EVe=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Id.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};Id.getSymbolTotalCodewords=function(e){return EVe[e]};Id.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};Id.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');wM=e};Id.isKanjiModeEnabled=function(){return typeof wM<"u"};Id.toSJIS=function(e){return wM(e)}});var ES=R(xa=>{l();xa.L={bit:1};xa.M={bit:0};xa.Q={bit:3};xa.H={bit:2};function AVe(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return xa.L;case"m":case"medium":return xa.M;case"q":case"quartile":return xa.Q;case"h":case"high":return xa.H;default:throw new Error("Unknown EC Level: "+t)}}xa.isValid=function(e){return e&&typeof e.bit<"u"&&e.bit>=0&&e.bit<4};xa.from=function(e,r){if(xa.isValid(e))return e;try{return AVe(e)}catch{return r}}});var pue=R((Mdt,hue)=>{l();function due(){this.buffer=[],this.length=0}due.prototype={get:function(t){let e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let r=0;r<e;r++)this.putBit((t>>>e-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){let e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};hue.exports=due});var yue=R((Ldt,gue)=>{l();function Qm(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}Qm.prototype.set=function(t,e,r,n){let i=t*this.size+e;this.data[i]=r,n&&(this.reservedBit[i]=!0)};Qm.prototype.get=function(t,e){return this.data[t*this.size+e]};Qm.prototype.xor=function(t,e,r){this.data[t*this.size+e]^=r};Qm.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};gue.exports=Qm});var mue=R(AS=>{l();var SVe=Pf().getSymbolSize;AS.getRowColCoords=function(e){if(e===1)return[];let r=Math.floor(e/7)+2,n=SVe(e),i=n===145?26:Math.ceil((n-13)/(2*r-2))*2,s=[n-7];for(let a=1;a<r-1;a++)s[a]=s[a-1]-i;return s.push(6),s.reverse()};AS.getPositions=function(e){let r=[],n=AS.getRowColCoords(e),i=n.length;for(let s=0;s<i;s++)for(let a=0;a<i;a++)s===0&&a===0||s===0&&a===i-1||s===i-1&&a===0||r.push([n[s],n[a]]);return r}});var wue=R(bue=>{l();var xVe=Pf().getSymbolSize,vue=7;bue.getPositions=function(e){let r=xVe(e);return[[0,0],[r-vue,0],[0,r-vue]]}});var _ue=R(Zr=>{l();Zr.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var Cd={N1:3,N2:3,N3:40,N4:10};Zr.isValid=function(e){return e!=null&&e!==""&&!isNaN(e)&&e>=0&&e<=7};Zr.from=function(e){return Zr.isValid(e)?parseInt(e,10):void 0};Zr.getPenaltyN1=function(e){let r=e.size,n=0,i=0,s=0,a=null,o=null;for(let c=0;c<r;c++){i=s=0,a=o=null;for(let u=0;u<r;u++){let f=e.get(c,u);f===a?i++:(i>=5&&(n+=Cd.N1+(i-5)),a=f,i=1),f=e.get(u,c),f===o?s++:(s>=5&&(n+=Cd.N1+(s-5)),o=f,s=1)}i>=5&&(n+=Cd.N1+(i-5)),s>=5&&(n+=Cd.N1+(s-5))}return n};Zr.getPenaltyN2=function(e){let r=e.size,n=0;for(let i=0;i<r-1;i++)for(let s=0;s<r-1;s++){let a=e.get(i,s)+e.get(i,s+1)+e.get(i+1,s)+e.get(i+1,s+1);(a===4||a===0)&&n++}return n*Cd.N2};Zr.getPenaltyN3=function(e){let r=e.size,n=0,i=0,s=0;for(let a=0;a<r;a++){i=s=0;for(let o=0;o<r;o++)i=i<<1&2047|e.get(a,o),o>=10&&(i===1488||i===93)&&n++,s=s<<1&2047|e.get(o,a),o>=10&&(s===1488||s===93)&&n++}return n*Cd.N3};Zr.getPenaltyN4=function(e){let r=0,n=e.data.length;for(let s=0;s<n;s++)r+=e.data[s];return Math.abs(Math.ceil(r*100/n/5)-10)*Cd.N4};function TVe(t,e,r){switch(t){case Zr.Patterns.PATTERN000:return(e+r)%2===0;case Zr.Patterns.PATTERN001:return e%2===0;case Zr.Patterns.PATTERN010:return r%3===0;case Zr.Patterns.PATTERN011:return(e+r)%3===0;case Zr.Patterns.PATTERN100:return(Math.floor(e/2)+Math.floor(r/3))%2===0;case Zr.Patterns.PATTERN101:return e*r%2+e*r%3===0;case Zr.Patterns.PATTERN110:return(e*r%2+e*r%3)%2===0;case Zr.Patterns.PATTERN111:return(e*r%3+(e+r)%2)%2===0;default:throw new Error("bad maskPattern:"+t)}}Zr.applyMask=function(e,r){let n=r.size;for(let i=0;i<n;i++)for(let s=0;s<n;s++)r.isReserved(s,i)||r.xor(s,i,TVe(e,s,i))};Zr.getBestMask=function(e,r){let n=Object.keys(Zr.Patterns).length,i=0,s=1/0;for(let a=0;a<n;a++){r(a),Zr.applyMask(a,e);let o=Zr.getPenaltyN1(e)+Zr.getPenaltyN2(e)+Zr.getPenaltyN3(e)+Zr.getPenaltyN4(e);Zr.applyMask(a,e),o<s&&(s=o,i=a)}return i}});var EM=R(_M=>{l();var Rf=ES(),SS=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],xS=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];_M.getBlocksCount=function(e,r){switch(r){case Rf.L:return SS[(e-1)*4+0];case Rf.M:return SS[(e-1)*4+1];case Rf.Q:return SS[(e-1)*4+2];case Rf.H:return SS[(e-1)*4+3];default:return}};_M.getTotalCodewordsCount=function(e,r){switch(r){case Rf.L:return xS[(e-1)*4+0];case Rf.M:return xS[(e-1)*4+1];case Rf.Q:return xS[(e-1)*4+2];case Rf.H:return xS[(e-1)*4+3];default:return}}});var Eue=R(IS=>{l();var $m=new Uint8Array(512),TS=new Uint8Array(256);(function(){let e=1;for(let r=0;r<255;r++)$m[r]=e,TS[e]=r,e<<=1,e&256&&(e^=285);for(let r=255;r<512;r++)$m[r]=$m[r-255]})();IS.log=function(e){if(e<1)throw new Error("log("+e+")");return TS[e]};IS.exp=function(e){return $m[e]};IS.mul=function(e,r){return e===0||r===0?0:$m[TS[e]+TS[r]]}});var Aue=R(Ym=>{l();var AM=Eue();Ym.mul=function(e,r){let n=new Uint8Array(e.length+r.length-1);for(let i=0;i<e.length;i++)for(let s=0;s<r.length;s++)n[i+s]^=AM.mul(e[i],r[s]);return n};Ym.mod=function(e,r){let n=new Uint8Array(e);for(;n.length-r.length>=0;){let i=n[0];for(let a=0;a<r.length;a++)n[a]^=AM.mul(r[a],i);let s=0;for(;s<n.length&&n[s]===0;)s++;n=n.slice(s)}return n};Ym.generateECPolynomial=function(e){let r=new Uint8Array([1]);for(let n=0;n<e;n++)r=Ym.mul(r,new Uint8Array([1,AM.exp(n)]));return r}});var Tue=R((Ydt,xue)=>{l();var Sue=Aue();function SM(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}SM.prototype.initialize=function(e){this.degree=e,this.genPoly=Sue.generateECPolynomial(this.degree)};SM.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");let r=new Uint8Array(e.length+this.degree);r.set(e);let n=Sue.mod(r,this.genPoly),i=this.degree-n.length;if(i>0){let s=new Uint8Array(this.degree);return s.set(n,i),s}return n};xue.exports=SM});var xM=R(Iue=>{l();Iue.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}});var TM=R(nu=>{l();var Cue="[0-9]+",IVe="[A-Z $%*+\\-./:]+",Jm="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Jm=Jm.replace(/u/g,"\\u");var CVe="(?:(?![A-Z0-9 $%*+\\-./:]|"+Jm+`)(?:.|[\r
]))+`;nu.KANJI=new RegExp(Jm,"g");nu.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");nu.BYTE=new RegExp(CVe,"g");nu.NUMERIC=new RegExp(Cue,"g");nu.ALPHANUMERIC=new RegExp(IVe,"g");var NVe=new RegExp("^"+Jm+"$"),OVe=new RegExp("^"+Cue+"$"),PVe=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");nu.testKanji=function(e){return NVe.test(e)};nu.testNumeric=function(e){return OVe.test(e)};nu.testAlphanumeric=function(e){return PVe.test(e)}});var Df=R(Vn=>{l();var RVe=xM(),IM=TM();Vn.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]};Vn.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]};Vn.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]};Vn.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]};Vn.MIXED={bit:-1};Vn.getCharCountIndicator=function(e,r){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!RVe.isValid(r))throw new Error("Invalid version: "+r);return r>=1&&r<10?e.ccBits[0]:r<27?e.ccBits[1]:e.ccBits[2]};Vn.getBestModeForData=function(e){return IM.testNumeric(e)?Vn.NUMERIC:IM.testAlphanumeric(e)?Vn.ALPHANUMERIC:IM.testKanji(e)?Vn.KANJI:Vn.BYTE};Vn.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")};Vn.isValid=function(e){return e&&e.bit&&e.ccBits};function DVe(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"numeric":return Vn.NUMERIC;case"alphanumeric":return Vn.ALPHANUMERIC;case"kanji":return Vn.KANJI;case"byte":return Vn.BYTE;default:throw new Error("Unknown mode: "+t)}}Vn.from=function(e,r){if(Vn.isValid(e))return e;try{return DVe(e)}catch{return r}}});var Due=R(Nd=>{l();var CS=Pf(),MVe=EM(),Nue=ES(),Mf=Df(),CM=xM(),Pue=7973,Oue=CS.getBCHDigit(Pue);function BVe(t,e,r){for(let n=1;n<=40;n++)if(e<=Nd.getCapacity(n,r,t))return n}function Rue(t,e){return Mf.getCharCountIndicator(t,e)+4}function LVe(t,e){let r=0;return t.forEach(function(n){let i=Rue(n.mode,e);r+=i+n.getBitsLength()}),r}function qVe(t,e){for(let r=1;r<=40;r++)if(LVe(t,r)<=Nd.getCapacity(r,e,Mf.MIXED))return r}Nd.from=function(e,r){return CM.isValid(e)?parseInt(e,10):r};Nd.getCapacity=function(e,r,n){if(!CM.isValid(e))throw new Error("Invalid QR Code version");typeof n>"u"&&(n=Mf.BYTE);let i=CS.getSymbolTotalCodewords(e),s=MVe.getTotalCodewordsCount(e,r),a=(i-s)*8;if(n===Mf.MIXED)return a;let o=a-Rue(n,e);switch(n){case Mf.NUMERIC:return Math.floor(o/10*3);case Mf.ALPHANUMERIC:return Math.floor(o/11*2);case Mf.KANJI:return Math.floor(o/13);case Mf.BYTE:default:return Math.floor(o/8)}};Nd.getBestVersionForData=function(e,r){let n,i=Nue.from(r,Nue.M);if(Array.isArray(e)){if(e.length>1)return qVe(e,i);if(e.length===0)return 1;n=e[0]}else n=e;return BVe(n.mode,n.getLength(),i)};Nd.getEncodedBits=function(e){if(!CM.isValid(e)||e<7)throw new Error("Invalid QR Code version");let r=e<<12;for(;CS.getBCHDigit(r)-Oue>=0;)r^=Pue<<CS.getBCHDigit(r)-Oue;return e<<12|r}});var que=R(Lue=>{l();var NM=Pf(),Bue=1335,FVe=21522,Mue=NM.getBCHDigit(Bue);Lue.getEncodedBits=function(e,r){let n=e.bit<<3|r,i=n<<10;for(;NM.getBCHDigit(i)-Mue>=0;)i^=Bue<<NM.getBCHDigit(i)-Mue;return(n<<10|i)^FVe}});var Uue=R((cht,Fue)=>{l();var UVe=Df();function Jp(t){this.mode=UVe.NUMERIC,this.data=t.toString()}Jp.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};Jp.prototype.getLength=function(){return this.data.length};Jp.prototype.getBitsLength=function(){return Jp.getBitsLength(this.data.length)};Jp.prototype.write=function(e){let r,n,i;for(r=0;r+3<=this.data.length;r+=3)n=this.data.substr(r,3),i=parseInt(n,10),e.put(i,10);let s=this.data.length-r;s>0&&(n=this.data.substr(r),i=parseInt(n,10),e.put(i,s*3+1))};Fue.exports=Jp});var Vue=R((fht,kue)=>{l();var kVe=Df(),OM=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Xp(t){this.mode=kVe.ALPHANUMERIC,this.data=t}Xp.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};Xp.prototype.getLength=function(){return this.data.length};Xp.prototype.getBitsLength=function(){return Xp.getBitsLength(this.data.length)};Xp.prototype.write=function(e){let r;for(r=0;r+2<=this.data.length;r+=2){let n=OM.indexOf(this.data[r])*45;n+=OM.indexOf(this.data[r+1]),e.put(n,11)}this.data.length%2&&e.put(OM.indexOf(this.data[r]),6)};kue.exports=Xp});var Gue=R((dht,Hue)=>{l();var VVe=Df();function Zp(t){this.mode=VVe.BYTE,typeof t=="string"?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}Zp.getBitsLength=function(e){return e*8};Zp.prototype.getLength=function(){return this.data.length};Zp.prototype.getBitsLength=function(){return Zp.getBitsLength(this.data.length)};Zp.prototype.write=function(t){for(let e=0,r=this.data.length;e<r;e++)t.put(this.data[e],8)};Hue.exports=Zp});var zue=R((pht,jue)=>{l();var HVe=Df(),GVe=Pf();function eg(t){this.mode=HVe.KANJI,this.data=t}eg.getBitsLength=function(e){return e*13};eg.prototype.getLength=function(){return this.data.length};eg.prototype.getBitsLength=function(){return eg.getBitsLength(this.data.length)};eg.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let r=GVe.toSJIS(this.data[e]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),t.put(r,13)}};jue.exports=eg});var Kue=R((yht,PM)=>{"use strict";l();var Xm={single_source_shortest_paths:function(t,e,r){var n={},i={};i[e]=0;var s=Xm.PriorityQueue.make();s.push(e,0);for(var a,o,c,u,f,d,m,_,x;!s.empty();){a=s.pop(),o=a.value,u=a.cost,f=t[o]||{};for(c in f)f.hasOwnProperty(c)&&(d=f[c],m=u+d,_=i[c],x=typeof i[c]>"u",(x||_>m)&&(i[c]=m,s.push(c,m),n[c]=o))}if(typeof r<"u"&&typeof i[r]>"u"){var P=["Could not find a path from ",e," to ",r,"."].join("");throw new Error(P)}return n},extract_shortest_path_from_predecessor_list:function(t,e){for(var r=[],n=e,i;n;)r.push(n),i=t[n],n=t[n];return r.reverse(),r},find_path:function(t,e,r){var n=Xm.single_source_shortest_paths(t,e,r);return Xm.extract_shortest_path_from_predecessor_list(n,r)},PriorityQueue:{make:function(t){var e=Xm.PriorityQueue,r={},n;t=t||{};for(n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);return r.queue=[],r.sorter=t.sorter||e.default_sorter,r},default_sorter:function(t,e){return t.cost-e.cost},push:function(t,e){var r={value:t,cost:e};this.queue.push(r),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};typeof PM<"u"&&(PM.exports=Xm)});var efe=R(tg=>{l();var qr=Df(),$ue=Uue(),Yue=Vue(),Jue=Gue(),Xue=zue(),Zm=TM(),NS=Pf(),jVe=Kue();function Wue(t){return unescape(encodeURIComponent(t)).length}function ev(t,e,r){let n=[],i;for(;(i=t.exec(r))!==null;)n.push({data:i[0],index:i.index,mode:e,length:i[0].length});return n}function Zue(t){let e=ev(Zm.NUMERIC,qr.NUMERIC,t),r=ev(Zm.ALPHANUMERIC,qr.ALPHANUMERIC,t),n,i;return NS.isKanjiModeEnabled()?(n=ev(Zm.BYTE,qr.BYTE,t),i=ev(Zm.KANJI,qr.KANJI,t)):(n=ev(Zm.BYTE_KANJI,qr.BYTE,t),i=[]),e.concat(r,n,i).sort(function(a,o){return a.index-o.index}).map(function(a){return{data:a.data,mode:a.mode,length:a.length}})}function RM(t,e){switch(e){case qr.NUMERIC:return $ue.getBitsLength(t);case qr.ALPHANUMERIC:return Yue.getBitsLength(t);case qr.KANJI:return Xue.getBitsLength(t);case qr.BYTE:return Jue.getBitsLength(t)}}function zVe(t){return t.reduce(function(e,r){let n=e.length-1>=0?e[e.length-1]:null;return n&&n.mode===r.mode?(e[e.length-1].data+=r.data,e):(e.push(r),e)},[])}function KVe(t){let e=[];for(let r=0;r<t.length;r++){let n=t[r];switch(n.mode){case qr.NUMERIC:e.push([n,{data:n.data,mode:qr.ALPHANUMERIC,length:n.length},{data:n.data,mode:qr.BYTE,length:n.length}]);break;case qr.ALPHANUMERIC:e.push([n,{data:n.data,mode:qr.BYTE,length:n.length}]);break;case qr.KANJI:e.push([n,{data:n.data,mode:qr.BYTE,length:Wue(n.data)}]);break;case qr.BYTE:e.push([{data:n.data,mode:qr.BYTE,length:Wue(n.data)}])}}return e}function WVe(t,e){let r={},n={start:{}},i=["start"];for(let s=0;s<t.length;s++){let a=t[s],o=[];for(let c=0;c<a.length;c++){let u=a[c],f=""+s+c;o.push(f),r[f]={node:u,lastCount:0},n[f]={};for(let d=0;d<i.length;d++){let m=i[d];r[m]&&r[m].node.mode===u.mode?(n[m][f]=RM(r[m].lastCount+u.length,u.mode)-RM(r[m].lastCount,u.mode),r[m].lastCount+=u.length):(r[m]&&(r[m].lastCount=u.length),n[m][f]=RM(u.length,u.mode)+4+qr.getCharCountIndicator(u.mode,e))}}i=o}for(let s=0;s<i.length;s++)n[i[s]].end=0;return{map:n,table:r}}function Que(t,e){let r,n=qr.getBestModeForData(t);if(r=qr.from(e,n),r!==qr.BYTE&&r.bit<n.bit)throw new Error('"'+t+'" cannot be encoded with mode '+qr.toString(r)+`.
 Suggested mode is: `+qr.toString(n));switch(r===qr.KANJI&&!NS.isKanjiModeEnabled()&&(r=qr.BYTE),r){case qr.NUMERIC:return new $ue(t);case qr.ALPHANUMERIC:return new Yue(t);case qr.KANJI:return new Xue(t);case qr.BYTE:return new Jue(t)}}tg.fromArray=function(e){return e.reduce(function(r,n){return typeof n=="string"?r.push(Que(n,null)):n.data&&r.push(Que(n.data,n.mode)),r},[])};tg.fromString=function(e,r){let n=Zue(e,NS.isKanjiModeEnabled()),i=KVe(n),s=WVe(i,r),a=jVe.find_path(s.map,"start","end"),o=[];for(let c=1;c<a.length-1;c++)o.push(s.table[a[c]].node);return tg.fromArray(zVe(o))};tg.rawSplit=function(e){return tg.fromArray(Zue(e,NS.isKanjiModeEnabled()))}});var rfe=R(tfe=>{l();var PS=Pf(),DM=ES(),QVe=pue(),$Ve=yue(),YVe=mue(),JVe=wue(),LM=_ue(),qM=EM(),XVe=Tue(),OS=Due(),ZVe=que(),eHe=Df(),MM=efe();function tHe(t,e){let r=t.size,n=JVe.getPositions(e);for(let i=0;i<n.length;i++){let s=n[i][0],a=n[i][1];for(let o=-1;o<=7;o++)if(!(s+o<=-1||r<=s+o))for(let c=-1;c<=7;c++)a+c<=-1||r<=a+c||(o>=0&&o<=6&&(c===0||c===6)||c>=0&&c<=6&&(o===0||o===6)||o>=2&&o<=4&&c>=2&&c<=4?t.set(s+o,a+c,!0,!0):t.set(s+o,a+c,!1,!0))}}function rHe(t){let e=t.size;for(let r=8;r<e-8;r++){let n=r%2===0;t.set(r,6,n,!0),t.set(6,r,n,!0)}}function nHe(t,e){let r=YVe.getPositions(e);for(let n=0;n<r.length;n++){let i=r[n][0],s=r[n][1];for(let a=-2;a<=2;a++)for(let o=-2;o<=2;o++)a===-2||a===2||o===-2||o===2||a===0&&o===0?t.set(i+a,s+o,!0,!0):t.set(i+a,s+o,!1,!0)}}function iHe(t,e){let r=t.size,n=OS.getEncodedBits(e),i,s,a;for(let o=0;o<18;o++)i=Math.floor(o/3),s=o%3+r-8-3,a=(n>>o&1)===1,t.set(i,s,a,!0),t.set(s,i,a,!0)}function BM(t,e,r){let n=t.size,i=ZVe.getEncodedBits(e,r),s,a;for(s=0;s<15;s++)a=(i>>s&1)===1,s<6?t.set(s,8,a,!0):s<8?t.set(s+1,8,a,!0):t.set(n-15+s,8,a,!0),s<8?t.set(8,n-s-1,a,!0):s<9?t.set(8,15-s-1+1,a,!0):t.set(8,15-s-1,a,!0);t.set(n-8,8,1,!0)}function sHe(t,e){let r=t.size,n=-1,i=r-1,s=7,a=0;for(let o=r-1;o>0;o-=2)for(o===6&&o--;;){for(let c=0;c<2;c++)if(!t.isReserved(i,o-c)){let u=!1;a<e.length&&(u=(e[a]>>>s&1)===1),t.set(i,o-c,u),s--,s===-1&&(a++,s=7)}if(i+=n,i<0||r<=i){i-=n,n=-n;break}}}function aHe(t,e,r){let n=new QVe;r.forEach(function(c){n.put(c.mode.bit,4),n.put(c.getLength(),eHe.getCharCountIndicator(c.mode,t)),c.write(n)});let i=PS.getSymbolTotalCodewords(t),s=qM.getTotalCodewordsCount(t,e),a=(i-s)*8;for(n.getLengthInBits()+4<=a&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);let o=(a-n.getLengthInBits())/8;for(let c=0;c<o;c++)n.put(c%2?17:236,8);return oHe(n,t,e)}function oHe(t,e,r){let n=PS.getSymbolTotalCodewords(e),i=qM.getTotalCodewordsCount(e,r),s=n-i,a=qM.getBlocksCount(e,r),o=n%a,c=a-o,u=Math.floor(n/a),f=Math.floor(s/a),d=f+1,m=u-f,_=new XVe(m),x=0,P=new Array(a),D=new Array(a),k=0,Y=new Uint8Array(t.buffer);for(let j=0;j<a;j++){let K=j<c?f:d;P[j]=Y.slice(x,x+K),D[j]=_.encode(P[j]),x+=K,k=Math.max(k,K)}let X=new Uint8Array(n),Z=0,U,Q;for(U=0;U<k;U++)for(Q=0;Q<a;Q++)U<P[Q].length&&(X[Z++]=P[Q][U]);for(U=0;U<m;U++)for(Q=0;Q<a;Q++)X[Z++]=D[Q][U];return X}function cHe(t,e,r,n){let i;if(Array.isArray(t))i=MM.fromArray(t);else if(typeof t=="string"){let u=e;if(!u){let f=MM.rawSplit(t);u=OS.getBestVersionForData(f,r)}i=MM.fromString(t,u||40)}else throw new Error("Invalid data");let s=OS.getBestVersionForData(i,r);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=s;else if(e<s)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+s+`.
`);let a=aHe(e,r,i),o=PS.getSymbolSize(e),c=new $Ve(o);return tHe(c,e),rHe(c),nHe(c,e),BM(c,r,0),e>=7&&iHe(c,e),sHe(c,a),isNaN(n)&&(n=LM.getBestMask(c,BM.bind(null,c,r))),LM.applyMask(n,c),BM(c,r,n),{modules:c,version:e,errorCorrectionLevel:r,maskPattern:n,segments:i}}tfe.create=function(e,r){if(typeof e>"u"||e==="")throw new Error("No input text");let n=DM.M,i,s;return typeof r<"u"&&(n=DM.from(r.errorCorrectionLevel,DM.M),i=OS.from(r.version),s=LM.from(r.maskPattern),r.toSJISFunc&&PS.setToSJISFunction(r.toSJISFunc)),cHe(e,i,n,s)}});var FM=R(Od=>{l();function nfe(t){if(typeof t=="number"&&(t=t.toString()),typeof t!="string")throw new Error("Color should be defined as hex string");let e=t.slice().replace("#","").split("");if(e.length<3||e.length===5||e.length>8)throw new Error("Invalid hex color: "+t);(e.length===3||e.length===4)&&(e=Array.prototype.concat.apply([],e.map(function(n){return[n,n]}))),e.length===6&&e.push("F","F");let r=parseInt(e.join(""),16);return{r:r>>24&255,g:r>>16&255,b:r>>8&255,a:r&255,hex:"#"+e.slice(0,6).join("")}}Od.getOptions=function(e){e||(e={}),e.color||(e.color={});let r=typeof e.margin>"u"||e.margin===null||e.margin<0?4:e.margin,n=e.width&&e.width>=21?e.width:void 0,i=e.scale||4;return{width:n,scale:n?4:i,margin:r,color:{dark:nfe(e.color.dark||"#000000ff"),light:nfe(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}};Od.getScale=function(e,r){return r.width&&r.width>=e+r.margin*2?r.width/(e+r.margin*2):r.scale};Od.getImageWidth=function(e,r){let n=Od.getScale(e,r);return Math.floor((e+r.margin*2)*n)};Od.qrToImageData=function(e,r,n){let i=r.modules.size,s=r.modules.data,a=Od.getScale(i,n),o=Math.floor((i+n.margin*2)*a),c=n.margin*a,u=[n.color.light,n.color.dark];for(let f=0;f<o;f++)for(let d=0;d<o;d++){let m=(f*o+d)*4,_=n.color.light;if(f>=c&&d>=c&&f<o-c&&d<o-c){let x=Math.floor((f-c)/a),P=Math.floor((d-c)/a);_=u[s[x*i+P]?1:0]}e[m++]=_.r,e[m++]=_.g,e[m++]=_.b,e[m]=_.a}}});var ife=R(RS=>{l();var UM=FM();function uHe(t,e,r){t.clearRect(0,0,e.width,e.height),e.style||(e.style={}),e.height=r,e.width=r,e.style.height=r+"px",e.style.width=r+"px"}function fHe(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}RS.render=function(e,r,n){let i=n,s=r;typeof i>"u"&&(!r||!r.getContext)&&(i=r,r=void 0),r||(s=fHe()),i=UM.getOptions(i);let a=UM.getImageWidth(e.modules.size,i),o=s.getContext("2d"),c=o.createImageData(a,a);return UM.qrToImageData(c.data,e,i),uHe(o,s,a),o.putImageData(c,0,0),s};RS.renderToDataURL=function(e,r,n){let i=n;typeof i>"u"&&(!r||!r.getContext)&&(i=r,r=void 0),i||(i={});let s=RS.render(e,r,i),a=i.type||"image/png",o=i.rendererOpts||{};return s.toDataURL(a,o.quality)}});var ofe=R(afe=>{l();var lHe=FM();function sfe(t,e){let r=t.a/255,n=e+'="'+t.hex+'"';return r<1?n+" "+e+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function kM(t,e,r){let n=t+e;return typeof r<"u"&&(n+=" "+r),n}function dHe(t,e,r){let n="",i=0,s=!1,a=0;for(let o=0;o<t.length;o++){let c=Math.floor(o%e),u=Math.floor(o/e);!c&&!s&&(s=!0),t[o]?(a++,o>0&&c>0&&t[o-1]||(n+=s?kM("M",c+r,.5+u+r):kM("m",i,0),i=0,s=!1),c+1<e&&t[o+1]||(n+=kM("h",a),a=0)):i++}return n}afe.render=function(e,r,n){let i=lHe.getOptions(r),s=e.modules.size,a=e.modules.data,o=s+i.margin*2,c=i.color.light.a?"<path "+sfe(i.color.light,"fill")+' d="M0 0h'+o+"v"+o+'H0z"/>':"",u="<path "+sfe(i.color.dark,"stroke")+' d="'+dHe(a,s,i.margin)+'"/>',f='viewBox="0 0 '+o+" "+o+'"',m='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+f+' shape-rendering="crispEdges">'+c+u+`</svg>
`;return typeof n=="function"&&n(null,m),m}});var ufe=R(tv=>{l();var hHe=lue(),VM=rfe(),cfe=ife(),pHe=ofe();function HM(t,e,r,n,i){let s=[].slice.call(arguments,1),a=s.length,o=typeof s[a-1]=="function";if(!o&&!hHe())throw new Error("Callback required as last argument");if(o){if(a<2)throw new Error("Too few arguments provided");a===2?(i=r,r=e,e=n=void 0):a===3&&(e.getContext&&typeof i>"u"?(i=n,n=void 0):(i=n,n=r,r=e,e=void 0))}else{if(a<1)throw new Error("Too few arguments provided");return a===1?(r=e,e=n=void 0):a===2&&!e.getContext&&(n=r,r=e,e=void 0),new Promise(function(c,u){try{let f=VM.create(r,n);c(t(f,e,n))}catch(f){u(f)}})}try{let c=VM.create(r,n);i(null,t(c,e,n))}catch(c){i(c)}}tv.create=VM.create;tv.toCanvas=HM.bind(null,cfe.render);tv.toDataURL=HM.bind(null,cfe.renderToDataURL);tv.toString=HM.bind(null,function(t,e,r){return pHe.render(t,r)})});var wfe=R(Bf=>{"use strict";l();var xHe=Bf&&Bf.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),bfe=Bf&&Bf.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&xHe(e,t,r)};Object.defineProperty(Bf,"__esModule",{value:!0});bfe(Wp(),Bf);bfe(uM(),Bf)});var Ofe=R(FS=>{"use strict";l();Object.defineProperty(FS,"__esModule",{value:!0});FS.isWindowAvailable=void 0;var THe=()=>typeof window<"u"&&typeof window?.location<"u";FS.isWindowAvailable=THe});var KM=R(US=>{"use strict";l();Object.defineProperty(US,"__esModule",{value:!0});US.getTargetOrigin=void 0;var IHe=Ofe(),CHe=()=>{var t;if((0,IHe.isWindowAvailable)()){let e=window.location.ancestorOrigins;return(t=e?.[e.length-1])!==null&&t!==void 0?t:"*"}return"*"};US.getTargetOrigin=CHe});var VS=R(kS=>{"use strict";l();Object.defineProperty(kS,"__esModule",{value:!0});kS.getSafeWindow=void 0;var NHe=()=>typeof window<"u"?window:{};kS.getSafeWindow=NHe});var Pfe=R(HS=>{"use strict";l();Object.defineProperty(HS,"__esModule",{value:!0});HS.isMobileWebview=void 0;var OHe=VS(),PHe=()=>{let t=(0,OHe.getSafeWindow)();return t.ReactNativeWebView||t.webkit};HS.isMobileWebview=PHe});var WM=R(GS=>{"use strict";l();Object.defineProperty(GS,"__esModule",{value:!0});GS.getSafeDocument=void 0;var RHe=()=>typeof document<"u"?document:{};GS.getSafeDocument=RHe});var QM=R(Lf=>{"use strict";l();Object.defineProperty(Lf,"__esModule",{value:!0});Lf.WindowProviderResponseEnums=Lf.WindowProviderRequestEnums=void 0;var DHe;(function(t){t.signTransactionsRequest="SIGN_TRANSACTIONS_REQUEST",t.guardTransactionsRequest="GUARD_TRANSACTIONS_REQUEST",t.signMessageRequest="SIGN_MESSAGE_REQUEST",t.loginRequest="LOGIN_REQUEST",t.logoutRequest="LOGOUT_REQUEST",t.cancelAction="CANCEL_ACTION_REQUEST",t.finalizeHandshakeRequest="FINALIZE_HANDSHAKE_REQUEST",t.finalizeResetStateRequest="FINALIZE_RESET_STATE_REQUEST"})(DHe=Lf.WindowProviderRequestEnums||(Lf.WindowProviderRequestEnums={}));var MHe;(function(t){t.handshakeResponse="HANDSHAKE_RESPONSE",t.guardTransactionsResponse="GUARD_TRANSACTIONS_RESPONSE",t.loginResponse="LOGIN_RESPONSE",t.disconnectResponse="DISCONNECT_RESPONSE",t.cancelResponse="CANCEL_RESPONSE",t.signTransactionsResponse="SIGN_TRANSACTIONS_RESPONSE",t.signMessageResponse="SIGN_MESSAGE_RESPONSE",t.noneResponse="NONE_RESPONSE",t.resetStateResponse="RESET_STATE_RESPONSE"})(MHe=Lf.WindowProviderResponseEnums||(Lf.WindowProviderResponseEnums={}))});var Dfe=R(ng=>{"use strict";l();Object.defineProperty(ng,"__esModule",{value:!0});ng.webviewProviderEventHandler=void 0;var BHe=KM(),Rfe=Pfe(),LHe=VS(),qHe=WM(),FHe=QM(),UHe=(t,e)=>r=>{var n,i,s,a;let o=r.data;try{o=(0,Rfe.isMobileWebview)()&&typeof o=="string"?JSON.parse(o):o}catch{}let{type:c,payload:u}=o;!(0,Rfe.isMobileWebview)()&&r.origin!=(0,BHe.getTargetOrigin)()||!(t===c||c===FHe.WindowProviderResponseEnums.cancelResponse)||((i=(n=(0,LHe.getSafeWindow)()).removeEventListener)===null||i===void 0||i.call(n,"message",(0,ng.webviewProviderEventHandler)(t,e)),(a=(s=(0,qHe.getSafeDocument)()).removeEventListener)===null||a===void 0||a.call(s,"message",(0,ng.webviewProviderEventHandler)(t,e)),e({type:c,payload:u}))};ng.webviewProviderEventHandler=UHe});var Mfe=R(rv=>{"use strict";l();Object.defineProperty(rv,"__esModule",{value:!0});rv.SignMessageStatusEnum=void 0;var kHe;(function(t){t.pending="pending",t.failed="failed",t.signed="signed",t.cancelled="cancelled"})(kHe=rv.SignMessageStatusEnum||(rv.SignMessageStatusEnum={}))});var $M=R(qf=>{"use strict";l();var VHe=qf&&qf.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Bfe=qf&&qf.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&VHe(e,t,r)};Object.defineProperty(qf,"__esModule",{value:!0});Bfe(QM(),qf);Bfe(Mfe(),qf)});var Lfe=R(jS=>{"use strict";l();Object.defineProperty(jS,"__esModule",{value:!0});jS.responseTypeMap=void 0;var qi=$M();jS.responseTypeMap={[qi.WindowProviderRequestEnums.signTransactionsRequest]:qi.WindowProviderResponseEnums.signTransactionsResponse,[qi.WindowProviderRequestEnums.guardTransactionsRequest]:qi.WindowProviderResponseEnums.guardTransactionsResponse,[qi.WindowProviderRequestEnums.signMessageRequest]:qi.WindowProviderResponseEnums.signMessageResponse,[qi.WindowProviderRequestEnums.loginRequest]:qi.WindowProviderResponseEnums.loginResponse,[qi.WindowProviderRequestEnums.logoutRequest]:qi.WindowProviderResponseEnums.disconnectResponse,[qi.WindowProviderRequestEnums.cancelAction]:qi.WindowProviderResponseEnums.cancelResponse,[qi.WindowProviderRequestEnums.finalizeHandshakeRequest]:qi.WindowProviderResponseEnums.noneResponse,[qi.WindowProviderRequestEnums.finalizeResetStateRequest]:qi.WindowProviderResponseEnums.resetStateResponse}});var Ffe=R(ig=>{"use strict";l();var uo=ig&&ig.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(f){try{u(n.next(f))}catch(d){a(d)}}function c(f){try{u(n.throw(f))}catch(d){a(d)}}function u(f){f.done?s(f.value):i(f.value).then(o,c)}u((n=n.apply(t,e||[])).next())})};Object.defineProperty(ig,"__esModule",{value:!0});ig.WebviewProvider=void 0;var HHe=rs(),YM=Dfe(),Ki=$M(),GHe=Lfe(),qfe=KM(),JM=VS(),jHe=WM(),zHe=Xl(),KHe=Xl(),XM=class t{static getInstance(e){return t._instance||(t._instance=new t(e)),t._instance}constructor(e){this.initialized=!1,this.account={address:""},this.resetState=r=>{var n,i;(i=(n=(0,JM.getSafeWindow)()).addEventListener)===null||i===void 0||i.call(n,"message",(0,YM.webviewProviderEventHandler)(Ki.WindowProviderResponseEnums.resetStateResponse,s=>{s.type===Ki.WindowProviderResponseEnums.resetStateResponse&&(r?.(),setTimeout(()=>{this.finalizeResetState()},500))}))},this.init=()=>uo(this,void 0,void 0,function*(){return yield this.sendPostMessage({type:Ki.WindowProviderRequestEnums.finalizeHandshakeRequest,payload:void 0}),this.initialized=!0,this.initialized}),this.login=()=>uo(this,void 0,void 0,function*(){var r;if(!this.initialized)throw new Error("Provider not initialized");let n=yield this.sendPostMessage({type:Ki.WindowProviderRequestEnums.loginRequest,payload:void 0});return n.type==Ki.WindowProviderResponseEnums.cancelResponse?(yield this.cancelAction(),null):n.payload.data?(this.account=n.payload.data,this.account):null}),this.logout=()=>uo(this,void 0,void 0,function*(){let r=yield this.sendPostMessage({type:Ki.WindowProviderRequestEnums.logoutRequest,payload:void 0});return this.initialized=!1,this.disconnect(),!!r.payload.data}),this.relogin=()=>uo(this,void 0,void 0,function*(){var r;let n=yield this.sendPostMessage({type:Ki.WindowProviderRequestEnums.loginRequest,payload:void 0});if(n.type==Ki.WindowProviderResponseEnums.cancelResponse)return yield this.cancelAction(),null;if(!n.payload.data)return null;let{data:i,error:s}=n.payload;if(s||!i)throw new Error("Unable to re-login");let{accessToken:a}=i;return a?(this.account=i,a):null}),this.signTransactions=r=>uo(this,void 0,void 0,function*(){let n=yield this.sendPostMessage({type:Ki.WindowProviderRequestEnums.signTransactionsRequest,payload:r.map(a=>a.toPlainObject())}),{data:i,error:s}=n.payload;return s||!i?null:n.type==Ki.WindowProviderResponseEnums.cancelResponse?(this.cancelAction(),null):i.map(a=>HHe.Transaction.fromPlainObject(a))}),this.signTransaction=r=>uo(this,void 0,void 0,function*(){let n=yield this.signTransactions([r]);return n?.[0]}),this.signMessage=r=>uo(this,void 0,void 0,function*(){var n;let i=yield this.sendPostMessage({type:Ki.WindowProviderRequestEnums.signMessageRequest,payload:{message:y.Buffer.from(r.data).toString()}}),{data:s,error:a}=i.payload;return a||!s?null:i.type==Ki.WindowProviderResponseEnums.cancelResponse?(this.cancelAction(),null):s.status!==Ki.SignMessageStatusEnum.signed?null:new zHe.Message({data:y.Buffer.from(r.data),address:(n=r.address)!==null&&n!==void 0?n:KHe.Address.fromBech32(this.account.address),signer:"webview",version:r.version,signature:y.Buffer.from(String(s.signature),"hex")})}),this.cancelAction=()=>uo(this,void 0,void 0,function*(){return this.sendPostMessage({type:Ki.WindowProviderRequestEnums.cancelAction,payload:void 0})}),this.finalizeResetState=()=>uo(this,void 0,void 0,function*(){return this.sendPostMessage({type:Ki.WindowProviderRequestEnums.finalizeResetStateRequest,payload:void 0})}),this.sendPostMessage=r=>uo(this,void 0,void 0,function*(){var n,i;let s=(0,JM.getSafeWindow)();return s.ReactNativeWebView?s.ReactNativeWebView.postMessage(JSON.stringify(r)):s.webkit?(i=(n=s.webkit.messageHandlers)===null||n===void 0?void 0:n.jsHandler)===null||i===void 0||i.postMessage(JSON.stringify(r),(0,qfe.getTargetOrigin)()):s.parent&&s.parent.postMessage(r,(0,qfe.getTargetOrigin)()),yield this.waitingForResponse(GHe.responseTypeMap[r.type])}),this.waitingForResponse=r=>uo(this,void 0,void 0,function*(){return yield new Promise(n=>{var i,s,a,o;(s=(i=(0,JM.getSafeWindow)()).addEventListener)===null||s===void 0||s.call(i,"message",(0,YM.webviewProviderEventHandler)(r,n)),(o=(a=(0,jHe.getSafeDocument)()).addEventListener)===null||o===void 0||o.call(a,"message",(0,YM.webviewProviderEventHandler)(r,n))})}),e?.resetStateCallback&&this.resetState(e.resetStateCallback)}disconnect(){this.account={address:""}}isInitialized(){return this.initialized}isConnected(){return!!this.account.address}getAccount(){return this.account}setAccount(e){this.account=e}};ig.WebviewProvider=XM});var ZM=R(Pd=>{"use strict";l();var WHe=Pd&&Pd.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),QHe=Pd&&Pd.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&WHe(e,t,r)};Object.defineProperty(Pd,"__esModule",{value:!0});QHe(Ffe(),Pd)});l();var iB=at(Gf(),1),sB=at(aI(),1),QS=at(Mw(),1),aB=at(lI(),1),XHe=at(qt(),1),ZHe=at(Kh(),1),eGe=at(rs(),1),tGe=at(Jw(),1),zfe=at(c_(),1),rGe=at(f_(),1),Kfe=at(mu(),1),dc=at(s1(),1),Wfe=at(Fg(),1),Qfe=at(lh(),1),nGe=at(aT(),1),iGe=at($h(),1);l();l();var dZ=at(TN(),1);l();l();var j6="elvenjs_state",uZ="https://devnet-api.multiversx.com";var af="/dapp/init",z6="devnet",fZ="https://maiar.page.link/?apn=com.elrond.maiar.wallet&isi=1519405832&ibi=com.elrond.maiar.wallet&link=https://xportal.com/",lZ=["wss://relay.walletconnect.com"],Pi={devnet:{id:"devnet",shortId:"D",name:"Devnet",egldLabel:"xEGLD",egldDenomination:"18",decimals:"4",gasPerDataByte:"1500",walletAddress:"https://devnet-wallet.multiversx.com",xAliasAddress:"https://devnet.xalias.com",apiAddress:"https://devnet-api.multiversx.com",explorerAddress:"https://devnet-explorer.multiversx.com",apiTimeout:1e4},testnet:{id:"testnet",shortId:"T",name:"Testnet",egldLabel:"xEGLD",egldDenomination:"18",decimals:"4",gasPerDataByte:"1500",walletAddress:"https://testnet-wallet.multiversx.com",xAliasAddress:"https://testnet.xalias.com",apiAddress:"https://testnet-api.multiversx.com",explorerAddress:"https://testnet-explorer.multiversx.com",apiTimeout:1e4},mainnet:{id:"mainnet",shortId:"1",name:"Mainnet",egldLabel:"EGLD",egldDenomination:"18",decimals:"4",gasPerDataByte:"1500",walletAddress:"https://wallet.multiversx.com",xAliasAddress:"https://xalias.com",apiAddress:"https://api.multiversx.com",explorerAddress:"https://explorer.multiversx.com",apiTimeout:1e4}};var yt={get(t){let e=localStorage.getItem(j6);if(!e)return{};let r=JSON.parse(e);return t?r[t]:r},set(t,e){let r=this.get();r[t]=e,localStorage.setItem(j6,JSON.stringify(r))},clear(){localStorage.removeItem(j6)}};var K6=async()=>{let t=dZ.ExtensionProvider.getInstance();try{let e=await t.init(),r=yt.get();return r?.address&&t.setAddress(r.address),e?t:void 0}catch{}};var eB=at(TN(),1),tB=at(Gm(),1),rB=at(Wp(),1),jfe=at(vM(),1),nv=at(c_(),1);l();var Xce=at(Gm(),1);l();l();var ut=class{static set(e,r){if(!e)return;let n={...this.events,[e]:r};this.events=n}static get(e){if(!(!e||!this.events))return this.events[e]}static run(e,...r){!e||!this.events||this.events[e]?.(...r)}static clear(){this.events=void 0}};l();var Jce=(Y=>(Y.onLoginStart="onLoginStart",Y.onLoginSuccess="onLoginSuccess",Y.onLoginFailure="onLoginFailure",Y.onLogoutStart="onLogoutStart",Y.onLogoutSuccess="onLogoutSuccess",Y.onLogoutFailure="onLogoutFailure",Y.onQrPending="onQrPending",Y.onQrLoaded="onQrLoaded",Y.onTxStart="onTxStart",Y.onTxSent="onTxSent",Y.onTxFinalized="onTxFinalized",Y.onTxFailure="onTxFailure",Y.onSignMsgStart="onSignMsgStart",Y.onSignMsgFinalized="onSignMsgFinalized",Y.onSignMsgFailure="onSignMsgFailure",Y.onQueryStart="onQueryStart",Y.onQueryFinalized="onQueryFinalized",Y.onQueryFailure="onQueryFailure",Y))(Jce||{}),bM=(a=>(a.ledger="ledger",a.mobile="mobile",a.webWallet="web-wallet",a.browserExtension="browser-extension",a.xAlias="x-alias",a.xPortalHub="x-portal-hub",a))(bM||{}),wVe=(r=>(r.mvx_cancelAction="mvx_cancelAction",r.mvx_signNativeAuthToken="mvx_signNativeAuthToken",r))(wVe||{}),_Ve=(e=>(e.hasWebWalletGuardianSign="hasWebWalletGuardianSign",e))(_Ve||{});l();var En=t=>typeof t=="string"?t.toUpperCase():t instanceof Error?t.message:JSON.stringify(t);var $p=async t=>{if(!t.dappProvider)throw new Error("Logout failed: There is no active session!");ut.run("onLogoutStart");try{let e=await t.dappProvider.logout();return e&&(yt.clear(),ut.run("onLogoutSuccess")),e}catch(e){let r=En(e);ut.run("onLogoutFailure",r)}};l();function vS(t){return t[Math.floor(Math.random()*t.length)]}var Zce=async t=>{if(!t.initOptions.walletConnectV2ProjectId||!t.initOptions.chainType)return;let e={onClientLogin:()=>{},onClientLogout:()=>$p(t),onClientEvent:i=>{}},r=vS(t.initOptions.walletConnectV2RelayAddresses),n=new Xce.WalletConnectV2Provider(e,Pi[t.initOptions.chainType].shortId,r,t.initOptions.walletConnectV2ProjectId);try{return await n.init(),n}catch{}};l();var bS=at(qt(),1),eue=at(s0(),1),tue=at(R_(),1),rue=at(N1(),1),nue=at(O_(),1),iue=at($h(),1),sue=at(__(),1),aue=at(m1(),1);var wS=class{constructor({apiUrl:e,chainType:r,apiTimeout:n}){this.chainType=r||z6,this.apiUrl=e||Pi[this.chainType]?.apiAddress,this.apiTimeout=n||Pi[this.chainType]?.apiTimeout}async apiGet(e,r){if(typeof fetch<"u"){let n=new AbortController,i=setTimeout(()=>n.abort(),this.apiTimeout),s={method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"},signal:n.signal};try{let a=await fetch(this.apiUrl+"/"+e,Object.assign(s,r||{})),o=await a.json();if(!a.ok){let c=o?.error||a.status;return clearTimeout(i),Promise.reject(c)}return clearTimeout(i),o}catch(a){this.handleApiError(a,e)}}}async apiPost(e,r,n){if(typeof fetch<"u"){let i=new AbortController,s=setTimeout(()=>i.abort(),this.apiTimeout),a={method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(r||{}),signal:i.signal};try{let o=await fetch(this.apiUrl+"/"+e,Object.assign(a,n||{})),c=await o.json();if(!o.ok){let u=c?.error||o.status;return clearTimeout(s),Promise.reject(u)}return clearTimeout(s),c}catch(o){this.handleApiError(o,e)}}}handleApiError(e,r){if(!e.response)throw new Error(`Request error on url [${r}]: [${e.toString()}]`);let n=e.response.data,i=n.error||n.message||JSON.stringify(n);throw new Error(i)}async sendTransaction(e){return(await this.apiPost("transactions",e.toSendable())).txHash}async getAccount(e){let r=await this.apiGet(`accounts/${e.bech32()}`);return{address:new bS.Address(r?.address||""),nonce:Number(r?.nonce||0),balance:BigInt(r?.balance||0),code:r?.code||"",userName:r?.username||""}}async getGuardianData(e){let r=await this.apiGet(`address/${e.bech32()}/guardian-data`);return{guarded:r?.data?.guardianData?.guarded||!1,activeGuardian:r?.data?.guardianData?.activeGuardian,pendingGuardian:r?.data?.guardianData?.pendingGuardian}}async getTransaction(e){let r=await this.apiGet(`transactions/${e}`),n=new eue.TransactionStatus(r.status);return{hash:e,type:r.type||"",nonce:r.nonce||0,round:r.round,epoch:r.epoch||0,value:(r.value||0).toString(),sender:new bS.Address(r.sender),receiver:new bS.Address(r.receiver),gasPrice:r.gasPrice||0,gasLimit:r.gasLimit||0,data:y.Buffer.from(r.data||"","base64"),status:n,timestamp:r.timestamp||0,blockNonce:r.blockNonce||0,hyperblockNonce:r.hyperblockNonce||0,hyperblockHash:r.hyperblockHash||"",receipt:tue.TransactionReceipt.fromHttpResponse(r.receipt||{}),logs:rue.TransactionLogs.fromHttpResponse(r.logs||{}),contractResults:nue.ContractResults.fromApiHttpResponse(r.results||[]),isCompleted:!n.isPending()}}async queryContract({address:e,func:r,args:n,value:i,caller:s}){try{let a=new aue.Query({address:e,func:r,args:n,value:i,caller:s}),o=new sue.ContractQueryRequest(a).toHttpRequest(),c=await this.apiPost("query",o);return iue.ContractQueryResponse.fromHttpResponse(c)}catch(a){this.handleApiError(a,"query")}}};l();l();var Yp=()=>new Date().setHours(new Date().getHours()+24),_S=t=>Date.now()>t;l();var oue=at(qt(),1),cue=at(Kh(),1);var Td=async t=>{let e=yt.get("address"),r=yt.get("expires");if(!(r&&_S(r))&&e&&t.networkProvider){let i=new oue.Address(e),s=new cue.Account(i);try{let a=await t.networkProvider.getAccount(i),o=await t.networkProvider.getGuardianData(i);yt.set("address",e),yt.set("activeGuardian",o.guarded&&o.activeGuardian?.address?o.activeGuardian.address:""),yt.set("nonce",a.nonce.valueOf()),yt.set("balance",a.balance.toString()),s.update(a)}catch(a){let o=En(a)}}};var uue=async(t,e,r,n="/")=>{let i=await K6(),a={callbackUrl:encodeURIComponent(`${window.location.origin}${n}`),token:e};try{if(i&&!await i.login(a))throw new Error("There were problems while logging in!")}catch(u){let f=En(u);throw new Error(f)}if(!i)throw new Error("There were problems with auth provider initialization!");let o=i.getAccount();yt.set("loginToken",e);let c=o?.signature;if(c&&yt.set("signature",c),t.networkProvider&&c)try{let u=await i.getAddress();if(!u)throw new Error("Canceled!");yt.set("address",u),yt.set("loginMethod","browser-extension"),yt.set("expires",Yp()),await Td(t);let f=r.getToken(u,e,c);return yt.set("accessToken",f),ut.run("onLoginSuccess"),i}catch(u){throw new Error(`Something went wrong trying to synchronize the user account: ${u?.message}`)}};l();l();var ffe=at(ufe(),1),lfe=at(Gm(),1);var gHe=t=>{let e=document.createElement("template");return e.innerHTML=t.trim(),e.content.firstChild?.cloneNode(!0)},yHe=t=>{let e=`${fZ}?wallet-connect=${encodeURIComponent(t)}`,r=document.createElement("a");return r.setAttribute("href",e),r.setAttribute("rel","noopener noreferrer nofollow"),r.setAttribute("target","_blank"),r.textContent="xPortal login",r.classList.add("elven-qr-code-deep-link"),r},mHe=()=>{let t=document.createElement("div");return t.classList.add("elven-wc-pairings"),t},vHe=()=>{let t=document.createElement("div");return t.textContent="Existing WalletConnect pairings:",t.classList.add("elven-wc-pairings-header"),t},GM={},bHe=(t,e)=>{let r=document.createElement("button");return r.classList.add("elven-wc-pairings-remove-btn"),r.textContent="\u2716",GM[t.topic]=new AbortController,r.addEventListener("click",n=>{n.stopImmediatePropagation(),e(t.topic)},{signal:GM[t.topic].signal}),r},DS={},wHe=(t,e,r)=>{let n=document.createElement("div"),i=document.createElement("div");n.classList.add("elven-wc-pairing-item"),n.setAttribute("id",t.topic),i.classList.add("elven-wc-pairing-item-description"),i.textContent=`${t.peerMetadata?.description} (${t.peerMetadata?.url})`,n.appendChild(i);let s=bHe(t,e);return n.appendChild(s),DS[t.topic]=new AbortController,n.addEventListener("click",()=>r(t.topic),{signal:DS[t.topic].signal}),n},_He=()=>{let t=document.createElement("div");return t.classList.add("elven-wc-pairing-item-confirm-msessage"),t.setAttribute("id","elven-wc-pairing-item-confirm-msessage"),t.innerText="Confirm on xPortal app!",t},EHe=t=>{if(!t)return;document.getElementById(t)?.remove()},AHe=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),SHe=async t=>t?await ffe.default.toString(t,{type:"svg"}):void 0,dfe=async(t,e,r,n)=>{if(!t)throw new Error("Please provide the QR Code and WalletConnect Pairings container id!");let i=null;typeof t=="string"?i=document.getElementById(t):t instanceof HTMLElement&&(i=t);let s=await SHe(e),a;if(s&&(a=gHe(s)),i&&a&&(i.replaceChildren(),i.appendChild(a),AHe()&&i.appendChild(yHe(e))),i&&r instanceof lfe.WalletConnectV2Provider){let o=r.pairings,c=async f=>{try{f&&(await r.logout({topic:f}),EHe(f))}catch(d){let m=En(d)}finally{DS[f].abort()}},u=async f=>{try{let{approval:d}=await r.connect({topic:f,methods:["mvx_cancelAction","mvx_signNativeAuthToken"]});document.getElementById("elven-wc-pairing-item-confirm-msessage")||document.getElementById(f)?.after(_He()),await r.login({approval:d,token:n})}catch(d){let m=En(d)}finally{for(let d of Object.values(DS))d?.abort();for(let d of Object.values(GM))d?.abort()}};if(o&&o.length>0){let f=mHe();i.appendChild(f);let d=vHe();f.appendChild(d);for(let m of o){let _=wHe(m,c,u);f.appendChild(_)}}}return i};var MS=at(Gm(),1);var hfe=async(t,e,r,n)=>{if(!n)throw new Error("You haven't provided the QR code container DOM element id");let i=vS(t.initOptions.walletConnectV2RelayAddresses);if(!i||!t.networkProvider)throw new Error("Something wen't wrong with the initialization (ApiNetworkProvider or Wallet Connect Bridge address), plese try to refresh the page!");if(!t.initOptions.walletConnectV2ProjectId)throw new Error("Please provide your WalletConnect project id. You can get it here: https://cloud.walletconnect.com)");if(!t.initOptions.chainType)throw new Error("Please provide the chain type in ElvenJS.init function!");let s,a={onClientLogin:async()=>{if(t.dappProvider instanceof MS.WalletConnectV2Provider){let c=await t.dappProvider.getAddress(),u=await t.dappProvider.getSignature();yt.set("address",c),yt.set("loginMethod","mobile"),yt.set("expires",Yp()),await Td(t),u&&yt.set("signature",u),yt.set("loginToken",e);let f=r.getToken(c,e,u);yt.set("accessToken",f),ut.run("onLoginSuccess"),s?.replaceChildren()}},onClientLogout:async()=>{t.dappProvider instanceof MS.WalletConnectV2Provider&&await $p(t)},onClientEvent:c=>{}},o=new MS.WalletConnectV2Provider(a,Pi[t.initOptions.chainType].shortId,i,t.initOptions.walletConnectV2ProjectId);try{if(o){t.dappProvider=o,ut.run("onQrPending"),await o.init();let{uri:c,approval:u}=await o.connect({methods:["mvx_cancelAction","mvx_signNativeAuthToken"]}),f=e?`${c}&token=${e}`:c;return n&&f&&(s=await dfe(n,f,o,e),ut.run("onQrLoaded")),await o.login({approval:u,token:e}),o}}catch(c){let u=En(c);ut.run("onLoginFailure",u)}};l();var pfe=at(Wp(),1);var jM=async(t,e,r,n)=>{let i=new pfe.WalletProvider(`${t}${af}`),a={callbackUrl:typeof window<"u"?encodeURIComponent(`${window.location.origin}${n||"/"}`):"/",token:e};try{return yt.set("loginMethod",Pi[r].xAliasAddress===t?"x-alias":"web-wallet"),await i.login(a),yt.set("expires",Yp()),yt.set("loginToken",e),i}catch(o){let c=En(o);yt.set("loginMethod",""),ut.run("onLoginFailure",c)}};l();var _s=t=>{if(typeof window<"u"){let e=new URL(window.location.href);return new URLSearchParams(e.search).get(t)}};l();var gfe=at(Wp(),1);var yfe=at(vM(),1),zM=async(t,e)=>{let r=_s("signature"),n=_s("address"),i=yt.get("address"),s=yt.get("loginToken");if(r&&yt.set("signature",r),n||i){n&&(yt.set("address",n),window.history.replaceState(null,"",window.location.pathname));let a=new gfe.WalletProvider(`${t}${af}`);if(r&&e&&n){let c=new yfe.NativeAuthClient({apiUrl:e,origin:window.location.origin}).getToken(n,s,r);yt.set("accessToken",c)}return a}};l();var mfe=at(Kh(),1),vfe=at(f_(),1);var BS=async(t,e)=>{ut.run("onTxSent",t);let n=await new vfe.TransactionWatcher(e).awaitCompleted(t),i=n.sender,s=new mfe.Account(i),a=await e.getAccount(i);s.update(a),yt.set("address",s.address.bech32()),yt.set("balance",s.balance.toString()),ut.run("onTxFinalized",n)};l();var rg=at(wfe(),1),Efe=at(rs(),1);l();var _fe=at(Kh(),1);var LS=t=>{let e=t.getSender(),r=new _fe.Account(e),n=t.nonce.valueOf();r.incrementNonce(),yt.set("nonce",(n+1n).toString())};var Afe=async(t,e,r,n)=>{if(_s(rg.WALLET_PROVIDER_CALLBACK_PARAM)===rg.WALLET_PROVIDER_CALLBACK_PARAM_TX_SIGNED&&t&&e){let s=yt.get("activeGuardian"),a=yt.get("loginMethod"),o=_s("hasWebWalletGuardianSign"),c;if("getTransactionsFromWalletUrl"in t){if(c=t.getTransactionsFromWalletUrl()?.[0],!c)return;a==="web-wallet"&&(c.data=y.Buffer.from(c.data).toString("base64"))}else s&&a!=="web-wallet"&&a!=="x-alias"&&o&&(c=new rg.WalletProvider(`${r}${af}`).getTransactionsFromWalletUrl()?.[0]);if(c){let u=Efe.Transaction.fromPlainObject(c);u.nonce=BigInt(n),LS(u);try{ut.run("onTxStart",u),await e.sendTransaction(u),await BS(u,e)}catch(f){let m=`Getting transaction information failed! ${En(f)}`;throw ut.run("onTxFailure",u,m),new Error(m)}finally{window.history.replaceState(null,"",window.location.pathname)}}window.history.replaceState(null,"",window.location.pathname)}};l();var qS=at(ug(),1),Sfe=at(qt(),1),xfe=at(Wp(),1);var Tfe=t=>{let e=yt.get("activeGuardian");if(e){let r={guarded:!0};t.setVersion(qS.TransactionVersion.withTxOptions()),t.setOptions(qS.TransactionOptions.withOptions(r)),t.setGuardian(Sfe.Address.fromBech32(e))}return t},Ife=async(t,e)=>{let r=new xfe.WalletProvider(`${e}${af}`),n=window?.location.href,i=new URL(n);i.searchParams.set("hasWebWalletGuardianSign","true"),await r.guardTransactions([t],{callbackUrl:encodeURIComponent(i.toString())})},Cfe=t=>{let e=yt.get("activeGuardian");return!(!yt.get("address")||!e||t.isGuardedTransaction())};l();var Nfe=()=>{let t=!_s("walletProviderStatus"),e=_s("status")==="signed",r=_s("message"),n=_s("signature");t&&e&&r&&n&&(ut.run("onSignMsgFinalized",r,n),window.history.replaceState(null,"",window.location.pathname))};var WS=at(ZM(),1);l();l();l();function $He(t){try{let e=atob(t),r=btoa(e),n=y.Buffer.from(t,"base64").toString(),i=y.Buffer.from(n).toString("base64");if(t===r&&t===i||e===n)return!0}catch{return!1}return!1}function sg(t){return $He(t)?atob(t):t}l();var zS=t=>Object.prototype.toString.call(t)==="[object String]";l();var Ufe=t=>{if(!t||!zS(t))return null;let e=t.split(".");if(e.length!==4)return null;try{let[r,n,i,s]=e,a=JSON.parse(sg(s)),o=sg(r);return{ttl:Number(i),extraInfo:a,origin:o,blockHash:n}}catch{return null}};var kfe=t=>{if(!t||!zS(t))return null;let e=t.split(".");if(e.length!==3)return null;try{let[r,n,i]=e,s=sg(r),a=sg(n),o=Ufe(a);if(!o)return{address:s,body:a,signature:i,blockHash:"",origin:"",ttl:0};let c={...o,address:s,body:a,signature:i};return o.extraInfo?.timestamp||delete c.extraInfo,c}catch{return null}};var Vfe=at(ZM(),1);function Hfe(t,e){let r=kfe(t);if(r==null)return;let{signature:n,address:i,body:s}=r;n&&t&&i&&(yt.set("loginToken",s),yt.set("accessToken",t),yt.set("signature",n),yt.set("address",i),yt.set("loginMethod","x-portal-hub"),e.dappProvider=new Vfe.WebviewProvider)}l();var Gfe=t=>{t.onLoginStart&&ut.set("onLoginStart",t.onLoginStart),t.onLoginSuccess&&ut.set("onLoginSuccess",t.onLoginSuccess),t.onLoginFailure&&ut.set("onLoginFailure",t.onLoginFailure),t.onLogoutStart&&ut.set("onLogoutStart",t.onLogoutStart),t.onLogoutSuccess&&ut.set("onLogoutSuccess",t.onLogoutSuccess),t.onLogoutFailure&&ut.set("onLogoutFailure",t.onLogoutFailure),t.onQrPending&&ut.set("onQrPending",t.onQrPending),t.onQrLoaded&&ut.set("onQrLoaded",t.onQrLoaded),t.onTxStart&&ut.set("onTxStart",t.onTxStart),t.onTxSent&&ut.set("onTxSent",t.onTxSent),t.onTxFinalized&&ut.set("onTxFinalized",t.onTxFinalized),t.onTxFailure&&ut.set("onTxFailure",t.onTxFailure),t.onSignMsgStart&&ut.set("onSignMsgStart",t.onSignMsgStart),t.onSignMsgFinalized&&ut.set("onSignMsgFinalized",t.onSignMsgFinalized),t.onSignMsgFailure&&ut.set("onSignMsgFailure",t.onSignMsgFailure),t.onQueryStart&&ut.set("onQueryStart",t.onQueryStart),t.onQueryFinalized&&ut.set("onQueryFinalized",t.onQueryFinalized),t.onQueryFailure&&ut.set("onQueryFailure",t.onQueryFailure)};l();var KS=async t=>{ut.run("onLoginStart");try{await t(()=>{ut.run("onLoginSuccess")})}catch(e){let r=En(e);ut.run("onLoginFailure",r)}};var nB=class{static async init(e){let r=yt.get();if(r.expires&&_S(r.expires)){yt.clear(),this.dappProvider=void 0;return}this.initOptions={chainType:z6,apiUrl:uZ,apiTimeout:1e4,walletConnectV2ProjectId:"",walletConnectV2RelayAddresses:lZ,...e},this.networkProvider=new wS(this.initOptions),Gfe(this.initOptions);let n=_s("accessToken");n&&await KS(async s=>{Hfe(n,this),await Td(this),s()}),(r?.address||(r.loginMethod==="web-wallet"||r.loginMethod==="x-alias")&&_s("address"))&&r?.loginMethod&&(await KS(async s=>{r.loginMethod==="browser-extension"&&(this.dappProvider=await K6()),r.loginMethod==="mobile"&&(this.dappProvider=await Zce(this)),r.loginMethod==="x-portal-hub"&&(this.dappProvider=new WS.WebviewProvider),r.loginMethod==="web-wallet"&&this.initOptions?.chainType&&(this.dappProvider=await zM(Pi[this.initOptions.chainType].walletAddress,this.initOptions.apiUrl)),r.loginMethod==="x-alias"&&this.initOptions?.chainType&&(this.dappProvider=await zM(Pi[this.initOptions.chainType].xAliasAddress,this.initOptions.apiUrl)),await Td(this),s()}),this.initOptions?.chainType&&(await Afe(this.dappProvider,this.networkProvider,Pi[this.initOptions.chainType][r.loginMethod==="x-alias"?"xAliasAddress":"walletAddress"],r.nonce),Nfe()))}static async login(e,r){if(!Object.values(bM).includes(e)){let i="Wrong login method!";throw ut.run("onLoginFailure",i),new Error(i)}if(!this.networkProvider){let i="Login failed: Use ElvenJs.init() first!";throw ut.run("onLoginFailure",i),new Error(i)}await KS(async()=>{let i=new jfe.NativeAuthClient({apiUrl:this.initOptions?.apiUrl,origin:window.location.origin}),s=await i.initialize();if(e==="browser-extension"){let a=await uue(this,s,i,r?.callbackRoute);this.dappProvider=a}if(e==="mobile"){let a=await hfe(this,s,i,r?.qrCodeContainer);this.dappProvider=a}if(e==="web-wallet"&&this.initOptions?.chainType){let a=await jM(Pi[this.initOptions.chainType].walletAddress,s,this.initOptions?.chainType,r?.callbackRoute);this.dappProvider=a}if(e==="x-alias"&&this.initOptions?.chainType){let a=await jM(Pi[this.initOptions.chainType].xAliasAddress,s,this.initOptions?.chainType,r?.callbackRoute);this.dappProvider=a}})}static async logout(){try{let e=await $p(this);return this.dappProvider=void 0,e}catch(e){let r=En(e)}}static async signAndSendTransaction(e){if(!this.dappProvider){let n="Transaction signing failed: There is no active session!";throw ut.run("onTxFailure",e,n),new Error(n)}if(!this.networkProvider){let n="Transaction signing failed: There is no active network provider!";throw ut.run("onTxFailure",e,n),new Error(n)}let r=Tfe(e);try{ut.run("onTxStart",e);let n=yt.get();if(e.nonce=n.nonce,this.dappProvider instanceof eB.ExtensionProvider&&(r=await this.dappProvider.signTransaction(e)),this.dappProvider instanceof tB.WalletConnectV2Provider&&(r=await this.dappProvider.signTransaction(e)),this.dappProvider instanceof WS.WebviewProvider&&(r=await this.dappProvider.signTransaction(e)),this.dappProvider instanceof rB.WalletProvider&&await this.dappProvider.signTransaction(e),n.loginMethod!=="web-wallet"&&n.loginMethod!=="x-alias"){let i=Cfe(r);if(i||LS(r),i&&this.initOptions?.chainType){await Ife(r,Pi[this.initOptions.chainType].walletAddress);return}await this.networkProvider.sendTransaction(r),await BS(r,this.networkProvider)}}catch(n){let i=En(n);throw ut.run("onTxFailure",r,`Getting transaction information failed! ${i}`),new Error(`Getting transaction information failed! ${i}`)}return r}static async signMessage(e,r){if(!this.dappProvider){let i="Message signing failed: There is no active session!";throw ut.run("onSignMsgFailure",e,i),new Error(i)}if(!this.networkProvider){let i="Message signing failed: There is no active network provider!";throw ut.run("onSignMsgFailure",e,i),new Error(i)}let n="";try{if(ut.run("onSignMsgStart",e),this.dappProvider instanceof eB.ExtensionProvider){let s=await this.dappProvider.signMessage(new nv.Message({data:y.Buffer.from(e)}));n=y.Buffer.from(s?.signature||"").toString("hex")}if(this.dappProvider instanceof tB.WalletConnectV2Provider){let s=await this.dappProvider.signMessage(new nv.Message({data:y.Buffer.from(e)}));n=y.Buffer.from(s?.signature||"").toString("hex")}if(this.dappProvider instanceof WS.WebviewProvider){let s=await this.dappProvider.signMessage(new nv.Message({data:y.Buffer.from(e)}));n=y.Buffer.from(s?.signature||"").toString("hex")}if(this.dappProvider instanceof rB.WalletProvider){let s=o=>encodeURIComponent(o).replace(/[!'()*]/g,c=>`%${c.charCodeAt(0).toString(16).toUpperCase()}`),a=r?.callbackUrl||window.location.origin;await this.dappProvider.signMessage(new nv.Message({data:y.Buffer.from(e)}),{callbackUrl:encodeURIComponent(`${a}${a.includes("?")?"&":"?"}message=${s(e)}`)})}let i=yt.get();return i.loginMethod!=="web-wallet"&&i.loginMethod!=="x-alias"&&ut.run("onSignMsgFinalized",e,n),{message:e,messageSignature:n}}catch(i){let s=En(i);throw ut.run("onSignMsgFailure",e,s),new Error(`Message signing failed! ${s}`)}}static async queryContract({address:e,func:r,args:n=[],value:i=0,caller:s}){if(!this.networkProvider)throw new Error("Query failed: There is no active network provider!");if(!e||!r)throw new Error("Query failed: The Query arguments are not valid! Address and func required");let a={address:e,func:r,args:n,value:i,caller:s};try{ut.run("onQueryStart",a);let o=await this.networkProvider.queryContract(a);return ut.run("onQueryFinalized",o),o}catch(o){let c=En(o);throw ut.run("onQueryFinalized",a,c),new Error(`Smart contract query failed! ${c}`)}}static{this.storage=yt}static{this.destroy=()=>{this.networkProvider=void 0,this.dappProvider=void 0,this.initOptions=void 0,ut.clear()}}};l();var iv=at(Pr(),1);iv.default.config({ROUNDING_MODE:iv.default.ROUND_FLOOR});var YHe=({amount:t,decimals:e})=>{if(e<0)throw new Error("Decimal places shouldn't be negative number!");return BigInt(new iv.default(t).shiftedBy(e).toFixed())},JHe=({amount:t,decimals:e,rounding:r=e})=>{if(e<0)throw new Error("Decimal places shouldn't be negative number!");return new iv.default(t).shiftedBy(-e).decimalPlaces(r).toFixed()};var export_Account=ZHe.Account;var export_Address=XHe.Address;var export_AddressType=Qfe.AddressType;var export_AddressValue=Qfe.AddressValue;var export_BigUIntType=dc.BigUIntType;var export_BigUIntValue=dc.BigUIntValue;var export_BooleanType=Wfe.BooleanType;var export_BooleanValue=Wfe.BooleanValue;var export_BytesType=Kfe.BytesType;var export_BytesValue=Kfe.BytesValue;var export_ContractQueryResponse=iGe.ContractQueryResponse;var export_Message=zfe.Message;var export_MessageComputer=zfe.MessageComputer;var export_QueryArguments=nGe.QueryArguments;var export_SmartContractTransactionsFactory=QS.SmartContractTransactionsFactory;var export_SmartContractTransactionsOutcomeParser=aB.SmartContractTransactionsOutcomeParser;var export_Token=iB.Token;var export_TokenComputer=iB.TokenComputer;var export_TokenManagementTransactionsFactory=QS.TokenManagementTransactionsFactory;var export_TokenManagementTransactionsOutcomeParser=aB.TokenManagementTransactionsOutcomeParser;var export_TokenOperationsFactory=sB.TokenOperationsFactory;var export_TokenOperationsFactoryConfig=sB.TokenOperationsFactoryConfig;var export_TokenOperationsOutcomeParser=sB.TokenOperationsOutcomeParser;var export_TokenTransfer=iB.TokenTransfer;var export_Transaction=eGe.Transaction;var export_TransactionComputer=tGe.TransactionComputer;var export_TransactionEventsParser=aB.TransactionEventsParser;var export_TransactionWatcher=rGe.TransactionWatcher;var export_TransactionsFactoryConfig=QS.TransactionsFactoryConfig;var export_TransferTransactionsFactory=QS.TransferTransactionsFactory;var export_U16Type=dc.U16Type;var export_U16Value=dc.U16Value;var export_U32Type=dc.U32Type;var export_U32Value=dc.U32Value;var export_U64Type=dc.U64Type;var export_U64Value=dc.U64Value;var export_U8Type=dc.U8Type;var export_U8Value=dc.U8Value;export{export_Account as Account,export_Address as Address,export_AddressType as AddressType,export_AddressValue as AddressValue,export_BigUIntType as BigUIntType,export_BigUIntValue as BigUIntValue,export_BooleanType as BooleanType,export_BooleanValue as BooleanValue,export_BytesType as BytesType,export_BytesValue as BytesValue,export_ContractQueryResponse as ContractQueryResponse,wVe as DappCoreWCV2CustomMethodsEnum,nB as ElvenJS,Jce as EventStoreEvents,bM as LoginMethodsEnum,export_Message as Message,export_MessageComputer as MessageComputer,export_QueryArguments as QueryArguments,export_SmartContractTransactionsFactory as SmartContractTransactionsFactory,export_SmartContractTransactionsOutcomeParser as SmartContractTransactionsOutcomeParser,export_Token as Token,export_TokenComputer as TokenComputer,export_TokenManagementTransactionsFactory as TokenManagementTransactionsFactory,export_TokenManagementTransactionsOutcomeParser as TokenManagementTransactionsOutcomeParser,export_TokenOperationsFactory as TokenOperationsFactory,export_TokenOperationsFactoryConfig as TokenOperationsFactoryConfig,export_TokenOperationsOutcomeParser as TokenOperationsOutcomeParser,export_TokenTransfer as TokenTransfer,export_Transaction as Transaction,export_TransactionComputer as TransactionComputer,export_TransactionEventsParser as TransactionEventsParser,export_TransactionWatcher as TransactionWatcher,export_TransactionsFactoryConfig as TransactionsFactoryConfig,export_TransferTransactionsFactory as TransferTransactionsFactory,export_U16Type as U16Type,export_U16Value as U16Value,export_U32Type as U32Type,export_U32Value as U32Value,export_U64Type as U64Type,export_U64Value as U64Value,export_U8Type as U8Type,export_U8Value as U8Value,_Ve as WebWalletUrlParamsEnum,JHe as formatAmount,YHe as parseAmount};
/*! Bundled license information:

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

@noble/hashes/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/ed25519/lib/index.js:
  (*! noble-ed25519 - MIT License (c) 2019 Paul Miller (paulmillr.com) *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

@walletconnect/utils/dist/index.cjs.js:
  (**
  * [js-sha3]{@link https://github.com/emn178/js-sha3}
  *
  * @version 0.8.0
  * @author Chen, Yi-Cyuan [emn178@gmail.com]
  * @copyright Chen, Yi-Cyuan 2015-2018
  * @license MIT
  *)
*/
