var w8=Object.create;var Ku=Object.defineProperty,v8=Object.defineProperties,E8=Object.getOwnPropertyDescriptor,A8=Object.getOwnPropertyDescriptors,I8=Object.getOwnPropertyNames,SE=Object.getOwnPropertySymbols,_8=Object.getPrototypeOf,TE=Object.prototype.hasOwnProperty,b8=Object.prototype.propertyIsEnumerable;var xE=(r,e,t)=>e in r?Ku(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,_o=(r,e)=>{for(var t in e||={})TE.call(e,t)&&xE(r,t,e[t]);if(SE)for(var t of SE(e))b8.call(e,t)&&xE(r,t,e[t]);return r},NE=(r,e)=>v8(r,A8(e));var DE=(r=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(r,{get:(e,t)=>(typeof require<"u"?require:e)[t]}):r)(function(r){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+r+'" is not supported')});var me=(r,e)=>()=>(r&&(e=r(r=0)),e);var B=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),ot=(r,e)=>{for(var t in e)Ku(r,t,{get:e[t],enumerable:!0})},Ll=(r,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of I8(e))!TE.call(r,n)&&n!==t&&Ku(r,n,{get:()=>e[n],enumerable:!(i=E8(e,n))||i.enumerable});return r},Zt=(r,e,t)=>(Ll(r,e,"default"),t&&Ll(t,e,"default")),_e=(r,e,t)=>(t=r!=null?w8(_8(r)):{},Ll(e||!r||!r.__esModule?Ku(t,"default",{value:r,enumerable:!0}):t,r)),at=r=>Ll(Ku({},"__esModule",{value:!0}),r);var De=(r,e,t)=>new Promise((i,n)=>{var s=u=>{try{a(t.next(u))}catch(h){n(h)}},o=u=>{try{a(t.throw(u))}catch(h){n(h)}},a=u=>u.done?i(u.value):Promise.resolve(u.value).then(s,o);a((t=t.apply(r,e)).next())});var g0=B(Fl=>{"use strict";f();Fl.byteLength=S8;Fl.toByteArray=T8;Fl.fromByteArray=O8;var ii=[],xr=[],C8=typeof Uint8Array<"u"?Uint8Array:Array,p0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(cs=0,OE=p0.length;cs<OE;++cs)ii[cs]=p0[cs],xr[p0.charCodeAt(cs)]=cs;var cs,OE;xr["-".charCodeAt(0)]=62;xr["_".charCodeAt(0)]=63;function PE(r){var e=r.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=r.indexOf("=");t===-1&&(t=e);var i=t===e?0:4-t%4;return[t,i]}function S8(r){var e=PE(r),t=e[0],i=e[1];return(t+i)*3/4-i}function x8(r,e,t){return(e+t)*3/4-t}function T8(r){var e,t=PE(r),i=t[0],n=t[1],s=new C8(x8(r,i,n)),o=0,a=n>0?i-4:i,u;for(u=0;u<a;u+=4)e=xr[r.charCodeAt(u)]<<18|xr[r.charCodeAt(u+1)]<<12|xr[r.charCodeAt(u+2)]<<6|xr[r.charCodeAt(u+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return n===2&&(e=xr[r.charCodeAt(u)]<<2|xr[r.charCodeAt(u+1)]>>4,s[o++]=e&255),n===1&&(e=xr[r.charCodeAt(u)]<<10|xr[r.charCodeAt(u+1)]<<4|xr[r.charCodeAt(u+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function N8(r){return ii[r>>18&63]+ii[r>>12&63]+ii[r>>6&63]+ii[r&63]}function D8(r,e,t){for(var i,n=[],s=e;s<t;s+=3)i=(r[s]<<16&16711680)+(r[s+1]<<8&65280)+(r[s+2]&255),n.push(N8(i));return n.join("")}function O8(r){for(var e,t=r.length,i=t%3,n=[],s=16383,o=0,a=t-i;o<a;o+=s)n.push(D8(r,o,o+s>a?a:o+s));return i===1?(e=r[t-1],n.push(ii[e>>2]+ii[e<<4&63]+"==")):i===2&&(e=(r[t-2]<<8)+r[t-1],n.push(ii[e>>10]+ii[e>>4&63]+ii[e<<2&63]+"=")),n.join("")}});var m0=B(y0=>{f();y0.read=function(r,e,t,i,n){var s,o,a=n*8-i-1,u=(1<<a)-1,h=u>>1,p=-7,A=t?n-1:0,D=t?-1:1,O=r[e+A];for(A+=D,s=O&(1<<-p)-1,O>>=-p,p+=a;p>0;s=s*256+r[e+A],A+=D,p-=8);for(o=s&(1<<-p)-1,s>>=-p,p+=i;p>0;o=o*256+r[e+A],A+=D,p-=8);if(s===0)s=1-h;else{if(s===u)return o?NaN:(O?-1:1)*(1/0);o=o+Math.pow(2,i),s=s-h}return(O?-1:1)*o*Math.pow(2,s-i)};y0.write=function(r,e,t,i,n,s){var o,a,u,h=s*8-n-1,p=(1<<h)-1,A=p>>1,D=n===23?Math.pow(2,-24)-Math.pow(2,-77):0,O=i?0:s-1,T=i?1:-1,V=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=p):(o=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-o))<1&&(o--,u*=2),o+A>=1?e+=D/u:e+=D*Math.pow(2,1-A),e*u>=2&&(o++,u/=2),o+A>=p?(a=0,o=p):o+A>=1?(a=(e*u-1)*Math.pow(2,n),o=o+A):(a=e*Math.pow(2,A-1)*Math.pow(2,n),o=0));n>=8;r[t+O]=a&255,O+=T,a/=256,n-=8);for(o=o<<n|a,h+=n;h>0;r[t+O]=o&255,O+=T,o/=256,h-=8);r[t+O-T]|=V*128}});var KE=B(Co=>{"use strict";f();var w0=g0(),bo=m0(),BE=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Co.Buffer=oe;Co.SlowBuffer=F8;Co.INSPECT_MAX_BYTES=50;var Ul=2147483647;Co.kMaxLength=Ul;oe.TYPED_ARRAY_SUPPORT=P8();!oe.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function P8(){try{var r=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(r,e),r.foo()===42}catch{return!1}}Object.defineProperty(oe.prototype,"parent",{enumerable:!0,get:function(){if(oe.isBuffer(this))return this.buffer}});Object.defineProperty(oe.prototype,"offset",{enumerable:!0,get:function(){if(oe.isBuffer(this))return this.byteOffset}});function Hi(r){if(r>Ul)throw new RangeError('The value "'+r+'" is invalid for option "size"');var e=new Uint8Array(r);return Object.setPrototypeOf(e,oe.prototype),e}function oe(r,e,t){if(typeof r=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return I0(r)}return LE(r,e,t)}oe.poolSize=8192;function LE(r,e,t){if(typeof r=="string")return M8(r,e);if(ArrayBuffer.isView(r))return R8(r);if(r==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r);if(ni(r,ArrayBuffer)||r&&ni(r.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ni(r,SharedArrayBuffer)||r&&ni(r.buffer,SharedArrayBuffer)))return E0(r,e,t);if(typeof r=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var i=r.valueOf&&r.valueOf();if(i!=null&&i!==r)return oe.from(i,e,t);var n=L8(r);if(n)return n;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof r[Symbol.toPrimitive]=="function")return oe.from(r[Symbol.toPrimitive]("string"),e,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r)}oe.from=function(r,e,t){return LE(r,e,t)};Object.setPrototypeOf(oe.prototype,Uint8Array.prototype);Object.setPrototypeOf(oe,Uint8Array);function FE(r){if(typeof r!="number")throw new TypeError('"size" argument must be of type number');if(r<0)throw new RangeError('The value "'+r+'" is invalid for option "size"')}function B8(r,e,t){return FE(r),r<=0?Hi(r):e!==void 0?typeof t=="string"?Hi(r).fill(e,t):Hi(r).fill(e):Hi(r)}oe.alloc=function(r,e,t){return B8(r,e,t)};function I0(r){return FE(r),Hi(r<0?0:_0(r)|0)}oe.allocUnsafe=function(r){return I0(r)};oe.allocUnsafeSlow=function(r){return I0(r)};function M8(r,e){if((typeof e!="string"||e==="")&&(e="utf8"),!oe.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var t=UE(r,e)|0,i=Hi(t),n=i.write(r,e);return n!==t&&(i=i.slice(0,n)),i}function v0(r){for(var e=r.length<0?0:_0(r.length)|0,t=Hi(e),i=0;i<e;i+=1)t[i]=r[i]&255;return t}function R8(r){if(ni(r,Uint8Array)){var e=new Uint8Array(r);return E0(e.buffer,e.byteOffset,e.byteLength)}return v0(r)}function E0(r,e,t){if(e<0||r.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(r.byteLength<e+(t||0))throw new RangeError('"length" is outside of buffer bounds');var i;return e===void 0&&t===void 0?i=new Uint8Array(r):t===void 0?i=new Uint8Array(r,e):i=new Uint8Array(r,e,t),Object.setPrototypeOf(i,oe.prototype),i}function L8(r){if(oe.isBuffer(r)){var e=_0(r.length)|0,t=Hi(e);return t.length===0||r.copy(t,0,0,e),t}if(r.length!==void 0)return typeof r.length!="number"||b0(r.length)?Hi(0):v0(r);if(r.type==="Buffer"&&Array.isArray(r.data))return v0(r.data)}function _0(r){if(r>=Ul)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Ul.toString(16)+" bytes");return r|0}function F8(r){return+r!=r&&(r=0),oe.alloc(+r)}oe.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==oe.prototype};oe.compare=function(e,t){if(ni(e,Uint8Array)&&(e=oe.from(e,e.offset,e.byteLength)),ni(t,Uint8Array)&&(t=oe.from(t,t.offset,t.byteLength)),!oe.isBuffer(e)||!oe.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var i=e.length,n=t.length,s=0,o=Math.min(i,n);s<o;++s)if(e[s]!==t[s]){i=e[s],n=t[s];break}return i<n?-1:n<i?1:0};oe.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};oe.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return oe.alloc(0);var i;if(t===void 0)for(t=0,i=0;i<e.length;++i)t+=e[i].length;var n=oe.allocUnsafe(t),s=0;for(i=0;i<e.length;++i){var o=e[i];if(ni(o,Uint8Array))s+o.length>n.length?oe.from(o).copy(n,s):Uint8Array.prototype.set.call(n,o,s);else if(oe.isBuffer(o))o.copy(n,s);else throw new TypeError('"list" argument must be an Array of Buffers');s+=o.length}return n};function UE(r,e){if(oe.isBuffer(r))return r.length;if(ArrayBuffer.isView(r)||ni(r,ArrayBuffer))return r.byteLength;if(typeof r!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof r);var t=r.length,i=arguments.length>2&&arguments[2]===!0;if(!i&&t===0)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return A0(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return GE(r).length;default:if(n)return i?-1:A0(r).length;e=(""+e).toLowerCase(),n=!0}}oe.byteLength=UE;function U8(r,e,t){var i=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,e>>>=0,t<=e))return"";for(r||(r="utf8");;)switch(r){case"hex":return W8(this,e,t);case"utf8":case"utf-8":return VE(this,e,t);case"ascii":return z8(this,e,t);case"latin1":case"binary":return k8(this,e,t);case"base64":return G8(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $8(this,e,t);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),i=!0}}oe.prototype._isBuffer=!0;function ls(r,e,t){var i=r[e];r[e]=r[t],r[t]=i}oe.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)ls(this,t,t+1);return this};oe.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)ls(this,t,t+3),ls(this,t+1,t+2);return this};oe.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)ls(this,t,t+7),ls(this,t+1,t+6),ls(this,t+2,t+5),ls(this,t+3,t+4);return this};oe.prototype.toString=function(){var e=this.length;return e===0?"":arguments.length===0?VE(this,0,e):U8.apply(this,arguments)};oe.prototype.toLocaleString=oe.prototype.toString;oe.prototype.equals=function(e){if(!oe.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:oe.compare(this,e)===0};oe.prototype.inspect=function(){var e="",t=Co.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"};BE&&(oe.prototype[BE]=oe.prototype.inspect);oe.prototype.compare=function(e,t,i,n,s){if(ni(e,Uint8Array)&&(e=oe.from(e,e.offset,e.byteLength)),!oe.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),i===void 0&&(i=e?e.length:0),n===void 0&&(n=0),s===void 0&&(s=this.length),t<0||i>e.length||n<0||s>this.length)throw new RangeError("out of range index");if(n>=s&&t>=i)return 0;if(n>=s)return-1;if(t>=i)return 1;if(t>>>=0,i>>>=0,n>>>=0,s>>>=0,this===e)return 0;for(var o=s-n,a=i-t,u=Math.min(o,a),h=this.slice(n,s),p=e.slice(t,i),A=0;A<u;++A)if(h[A]!==p[A]){o=h[A],a=p[A];break}return o<a?-1:a<o?1:0};function qE(r,e,t,i,n){if(r.length===0)return-1;if(typeof t=="string"?(i=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,b0(t)&&(t=n?0:r.length-1),t<0&&(t=r.length+t),t>=r.length){if(n)return-1;t=r.length-1}else if(t<0)if(n)t=0;else return-1;if(typeof e=="string"&&(e=oe.from(e,i)),oe.isBuffer(e))return e.length===0?-1:ME(r,e,t,i,n);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?n?Uint8Array.prototype.indexOf.call(r,e,t):Uint8Array.prototype.lastIndexOf.call(r,e,t):ME(r,[e],t,i,n);throw new TypeError("val must be string, number or Buffer")}function ME(r,e,t,i,n){var s=1,o=r.length,a=e.length;if(i!==void 0&&(i=String(i).toLowerCase(),i==="ucs2"||i==="ucs-2"||i==="utf16le"||i==="utf-16le")){if(r.length<2||e.length<2)return-1;s=2,o/=2,a/=2,t/=2}function u(O,T){return s===1?O[T]:O.readUInt16BE(T*s)}var h;if(n){var p=-1;for(h=t;h<o;h++)if(u(r,h)===u(e,p===-1?0:h-p)){if(p===-1&&(p=h),h-p+1===a)return p*s}else p!==-1&&(h-=h-p),p=-1}else for(t+a>o&&(t=o-a),h=t;h>=0;h--){for(var A=!0,D=0;D<a;D++)if(u(r,h+D)!==u(e,D)){A=!1;break}if(A)return h}return-1}oe.prototype.includes=function(e,t,i){return this.indexOf(e,t,i)!==-1};oe.prototype.indexOf=function(e,t,i){return qE(this,e,t,i,!0)};oe.prototype.lastIndexOf=function(e,t,i){return qE(this,e,t,i,!1)};function q8(r,e,t,i){t=Number(t)||0;var n=r.length-t;i?(i=Number(i),i>n&&(i=n)):i=n;var s=e.length;i>s/2&&(i=s/2);for(var o=0;o<i;++o){var a=parseInt(e.substr(o*2,2),16);if(b0(a))return o;r[t+o]=a}return o}function V8(r,e,t,i){return ql(A0(e,r.length-t),r,t,i)}function H8(r,e,t,i){return ql(X8(e),r,t,i)}function Q8(r,e,t,i){return ql(GE(e),r,t,i)}function j8(r,e,t,i){return ql(Z8(e,r.length-t),r,t,i)}oe.prototype.write=function(e,t,i,n){if(t===void 0)n="utf8",i=this.length,t=0;else if(i===void 0&&typeof t=="string")n=t,i=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(i)?(i=i>>>0,n===void 0&&(n="utf8")):(n=i,i=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var s=this.length-t;if((i===void 0||i>s)&&(i=s),e.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return q8(this,e,t,i);case"utf8":case"utf-8":return V8(this,e,t,i);case"ascii":case"latin1":case"binary":return H8(this,e,t,i);case"base64":return Q8(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j8(this,e,t,i);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}};oe.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function G8(r,e,t){return e===0&&t===r.length?w0.fromByteArray(r):w0.fromByteArray(r.slice(e,t))}function VE(r,e,t){t=Math.min(r.length,t);for(var i=[],n=e;n<t;){var s=r[n],o=null,a=s>239?4:s>223?3:s>191?2:1;if(n+a<=t){var u,h,p,A;switch(a){case 1:s<128&&(o=s);break;case 2:u=r[n+1],(u&192)===128&&(A=(s&31)<<6|u&63,A>127&&(o=A));break;case 3:u=r[n+1],h=r[n+2],(u&192)===128&&(h&192)===128&&(A=(s&15)<<12|(u&63)<<6|h&63,A>2047&&(A<55296||A>57343)&&(o=A));break;case 4:u=r[n+1],h=r[n+2],p=r[n+3],(u&192)===128&&(h&192)===128&&(p&192)===128&&(A=(s&15)<<18|(u&63)<<12|(h&63)<<6|p&63,A>65535&&A<1114112&&(o=A))}}o===null?(o=65533,a=1):o>65535&&(o-=65536,i.push(o>>>10&1023|55296),o=56320|o&1023),i.push(o),n+=a}return K8(i)}var RE=4096;function K8(r){var e=r.length;if(e<=RE)return String.fromCharCode.apply(String,r);for(var t="",i=0;i<e;)t+=String.fromCharCode.apply(String,r.slice(i,i+=RE));return t}function z8(r,e,t){var i="";t=Math.min(r.length,t);for(var n=e;n<t;++n)i+=String.fromCharCode(r[n]&127);return i}function k8(r,e,t){var i="";t=Math.min(r.length,t);for(var n=e;n<t;++n)i+=String.fromCharCode(r[n]);return i}function W8(r,e,t){var i=r.length;(!e||e<0)&&(e=0),(!t||t<0||t>i)&&(t=i);for(var n="",s=e;s<t;++s)n+=eP[r[s]];return n}function $8(r,e,t){for(var i=r.slice(e,t),n="",s=0;s<i.length-1;s+=2)n+=String.fromCharCode(i[s]+i[s+1]*256);return n}oe.prototype.slice=function(e,t){var i=this.length;e=~~e,t=t===void 0?i:~~t,e<0?(e+=i,e<0&&(e=0)):e>i&&(e=i),t<0?(t+=i,t<0&&(t=0)):t>i&&(t=i),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,oe.prototype),n};function Gt(r,e,t){if(r%1!==0||r<0)throw new RangeError("offset is not uint");if(r+e>t)throw new RangeError("Trying to access beyond buffer length")}oe.prototype.readUintLE=oe.prototype.readUIntLE=function(e,t,i){e=e>>>0,t=t>>>0,i||Gt(e,t,this.length);for(var n=this[e],s=1,o=0;++o<t&&(s*=256);)n+=this[e+o]*s;return n};oe.prototype.readUintBE=oe.prototype.readUIntBE=function(e,t,i){e=e>>>0,t=t>>>0,i||Gt(e,t,this.length);for(var n=this[e+--t],s=1;t>0&&(s*=256);)n+=this[e+--t]*s;return n};oe.prototype.readUint8=oe.prototype.readUInt8=function(e,t){return e=e>>>0,t||Gt(e,1,this.length),this[e]};oe.prototype.readUint16LE=oe.prototype.readUInt16LE=function(e,t){return e=e>>>0,t||Gt(e,2,this.length),this[e]|this[e+1]<<8};oe.prototype.readUint16BE=oe.prototype.readUInt16BE=function(e,t){return e=e>>>0,t||Gt(e,2,this.length),this[e]<<8|this[e+1]};oe.prototype.readUint32LE=oe.prototype.readUInt32LE=function(e,t){return e=e>>>0,t||Gt(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};oe.prototype.readUint32BE=oe.prototype.readUInt32BE=function(e,t){return e=e>>>0,t||Gt(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};oe.prototype.readIntLE=function(e,t,i){e=e>>>0,t=t>>>0,i||Gt(e,t,this.length);for(var n=this[e],s=1,o=0;++o<t&&(s*=256);)n+=this[e+o]*s;return s*=128,n>=s&&(n-=Math.pow(2,8*t)),n};oe.prototype.readIntBE=function(e,t,i){e=e>>>0,t=t>>>0,i||Gt(e,t,this.length);for(var n=t,s=1,o=this[e+--n];n>0&&(s*=256);)o+=this[e+--n]*s;return s*=128,o>=s&&(o-=Math.pow(2,8*t)),o};oe.prototype.readInt8=function(e,t){return e=e>>>0,t||Gt(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};oe.prototype.readInt16LE=function(e,t){e=e>>>0,t||Gt(e,2,this.length);var i=this[e]|this[e+1]<<8;return i&32768?i|4294901760:i};oe.prototype.readInt16BE=function(e,t){e=e>>>0,t||Gt(e,2,this.length);var i=this[e+1]|this[e]<<8;return i&32768?i|4294901760:i};oe.prototype.readInt32LE=function(e,t){return e=e>>>0,t||Gt(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};oe.prototype.readInt32BE=function(e,t){return e=e>>>0,t||Gt(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};oe.prototype.readFloatLE=function(e,t){return e=e>>>0,t||Gt(e,4,this.length),bo.read(this,e,!0,23,4)};oe.prototype.readFloatBE=function(e,t){return e=e>>>0,t||Gt(e,4,this.length),bo.read(this,e,!1,23,4)};oe.prototype.readDoubleLE=function(e,t){return e=e>>>0,t||Gt(e,8,this.length),bo.read(this,e,!0,52,8)};oe.prototype.readDoubleBE=function(e,t){return e=e>>>0,t||Gt(e,8,this.length),bo.read(this,e,!1,52,8)};function dr(r,e,t,i,n,s){if(!oe.isBuffer(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>n||e<s)throw new RangeError('"value" argument is out of bounds');if(t+i>r.length)throw new RangeError("Index out of range")}oe.prototype.writeUintLE=oe.prototype.writeUIntLE=function(e,t,i,n){if(e=+e,t=t>>>0,i=i>>>0,!n){var s=Math.pow(2,8*i)-1;dr(this,e,t,i,s,0)}var o=1,a=0;for(this[t]=e&255;++a<i&&(o*=256);)this[t+a]=e/o&255;return t+i};oe.prototype.writeUintBE=oe.prototype.writeUIntBE=function(e,t,i,n){if(e=+e,t=t>>>0,i=i>>>0,!n){var s=Math.pow(2,8*i)-1;dr(this,e,t,i,s,0)}var o=i-1,a=1;for(this[t+o]=e&255;--o>=0&&(a*=256);)this[t+o]=e/a&255;return t+i};oe.prototype.writeUint8=oe.prototype.writeUInt8=function(e,t,i){return e=+e,t=t>>>0,i||dr(this,e,t,1,255,0),this[t]=e&255,t+1};oe.prototype.writeUint16LE=oe.prototype.writeUInt16LE=function(e,t,i){return e=+e,t=t>>>0,i||dr(this,e,t,2,65535,0),this[t]=e&255,this[t+1]=e>>>8,t+2};oe.prototype.writeUint16BE=oe.prototype.writeUInt16BE=function(e,t,i){return e=+e,t=t>>>0,i||dr(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=e&255,t+2};oe.prototype.writeUint32LE=oe.prototype.writeUInt32LE=function(e,t,i){return e=+e,t=t>>>0,i||dr(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255,t+4};oe.prototype.writeUint32BE=oe.prototype.writeUInt32BE=function(e,t,i){return e=+e,t=t>>>0,i||dr(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};oe.prototype.writeIntLE=function(e,t,i,n){if(e=+e,t=t>>>0,!n){var s=Math.pow(2,8*i-1);dr(this,e,t,i,s-1,-s)}var o=0,a=1,u=0;for(this[t]=e&255;++o<i&&(a*=256);)e<0&&u===0&&this[t+o-1]!==0&&(u=1),this[t+o]=(e/a>>0)-u&255;return t+i};oe.prototype.writeIntBE=function(e,t,i,n){if(e=+e,t=t>>>0,!n){var s=Math.pow(2,8*i-1);dr(this,e,t,i,s-1,-s)}var o=i-1,a=1,u=0;for(this[t+o]=e&255;--o>=0&&(a*=256);)e<0&&u===0&&this[t+o+1]!==0&&(u=1),this[t+o]=(e/a>>0)-u&255;return t+i};oe.prototype.writeInt8=function(e,t,i){return e=+e,t=t>>>0,i||dr(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=e&255,t+1};oe.prototype.writeInt16LE=function(e,t,i){return e=+e,t=t>>>0,i||dr(this,e,t,2,32767,-32768),this[t]=e&255,this[t+1]=e>>>8,t+2};oe.prototype.writeInt16BE=function(e,t,i){return e=+e,t=t>>>0,i||dr(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=e&255,t+2};oe.prototype.writeInt32LE=function(e,t,i){return e=+e,t=t>>>0,i||dr(this,e,t,4,2147483647,-2147483648),this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4};oe.prototype.writeInt32BE=function(e,t,i){return e=+e,t=t>>>0,i||dr(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};function HE(r,e,t,i,n,s){if(t+i>r.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function QE(r,e,t,i,n){return e=+e,t=t>>>0,n||HE(r,e,t,4,34028234663852886e22,-34028234663852886e22),bo.write(r,e,t,i,23,4),t+4}oe.prototype.writeFloatLE=function(e,t,i){return QE(this,e,t,!0,i)};oe.prototype.writeFloatBE=function(e,t,i){return QE(this,e,t,!1,i)};function jE(r,e,t,i,n){return e=+e,t=t>>>0,n||HE(r,e,t,8,17976931348623157e292,-17976931348623157e292),bo.write(r,e,t,i,52,8),t+8}oe.prototype.writeDoubleLE=function(e,t,i){return jE(this,e,t,!0,i)};oe.prototype.writeDoubleBE=function(e,t,i){return jE(this,e,t,!1,i)};oe.prototype.copy=function(e,t,i,n){if(!oe.isBuffer(e))throw new TypeError("argument should be a Buffer");if(i||(i=0),!n&&n!==0&&(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<i&&(n=i),n===i||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-i&&(n=e.length-t+i);var s=n-i;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(t,i,n):Uint8Array.prototype.set.call(e,this.subarray(i,n),t),s};oe.prototype.fill=function(e,t,i,n){if(typeof e=="string"){if(typeof t=="string"?(n=t,t=0,i=this.length):typeof i=="string"&&(n=i,i=this.length),n!==void 0&&typeof n!="string")throw new TypeError("encoding must be a string");if(typeof n=="string"&&!oe.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(e.length===1){var s=e.charCodeAt(0);(n==="utf8"&&s<128||n==="latin1")&&(e=s)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;t=t>>>0,i=i===void 0?this.length:i>>>0,e||(e=0);var o;if(typeof e=="number")for(o=t;o<i;++o)this[o]=e;else{var a=oe.isBuffer(e)?e:oe.from(e,n),u=a.length;if(u===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<i-t;++o)this[o+t]=a[o%u]}return this};var Y8=/[^+/0-9A-Za-z-_]/g;function J8(r){if(r=r.split("=")[0],r=r.trim().replace(Y8,""),r.length<2)return"";for(;r.length%4!==0;)r=r+"=";return r}function A0(r,e){e=e||1/0;for(var t,i=r.length,n=null,s=[],o=0;o<i;++o){if(t=r.charCodeAt(o),t>55295&&t<57344){if(!n){if(t>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(o+1===i){(e-=3)>-1&&s.push(239,191,189);continue}n=t;continue}if(t<56320){(e-=3)>-1&&s.push(239,191,189),n=t;continue}t=(n-55296<<10|t-56320)+65536}else n&&(e-=3)>-1&&s.push(239,191,189);if(n=null,t<128){if((e-=1)<0)break;s.push(t)}else if(t<2048){if((e-=2)<0)break;s.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;s.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;s.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return s}function X8(r){for(var e=[],t=0;t<r.length;++t)e.push(r.charCodeAt(t)&255);return e}function Z8(r,e){for(var t,i,n,s=[],o=0;o<r.length&&!((e-=2)<0);++o)t=r.charCodeAt(o),i=t>>8,n=t%256,s.push(n),s.push(i);return s}function GE(r){return w0.toByteArray(J8(r))}function ql(r,e,t,i){for(var n=0;n<i&&!(n+t>=e.length||n>=r.length);++n)e[n+t]=r[n];return n}function ni(r,e){return r instanceof e||r!=null&&r.constructor!=null&&r.constructor.name!=null&&r.constructor.name===e.name}function b0(r){return r!==r}var eP=function(){for(var r="0123456789abcdef",e=new Array(256),t=0;t<16;++t)for(var i=t*16,n=0;n<16;++n)e[i+n]=r[t]+r[n];return e}()});var YE=B((nz,$E)=>{f();var dt=$E.exports={},si,oi;function C0(){throw new Error("setTimeout has not been defined")}function S0(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?si=setTimeout:si=C0}catch{si=C0}try{typeof clearTimeout=="function"?oi=clearTimeout:oi=S0}catch{oi=S0}})();function zE(r){if(si===setTimeout)return setTimeout(r,0);if((si===C0||!si)&&setTimeout)return si=setTimeout,setTimeout(r,0);try{return si(r,0)}catch{try{return si.call(null,r,0)}catch{return si.call(this,r,0)}}}function tP(r){if(oi===clearTimeout)return clearTimeout(r);if((oi===S0||!oi)&&clearTimeout)return oi=clearTimeout,clearTimeout(r);try{return oi(r)}catch{try{return oi.call(null,r)}catch{return oi.call(this,r)}}}var Qi=[],So=!1,fs,Vl=-1;function rP(){!So||!fs||(So=!1,fs.length?Qi=fs.concat(Qi):Vl=-1,Qi.length&&kE())}function kE(){if(!So){var r=zE(rP);So=!0;for(var e=Qi.length;e;){for(fs=Qi,Qi=[];++Vl<e;)fs&&fs[Vl].run();Vl=-1,e=Qi.length}fs=null,So=!1,tP(r)}}dt.nextTick=function(r){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];Qi.push(new WE(r,e)),Qi.length===1&&!So&&zE(kE)};function WE(r,e){this.fun=r,this.array=e}WE.prototype.run=function(){this.fun.apply(null,this.array)};dt.title="browser";dt.browser=!0;dt.env={};dt.argv=[];dt.version="";dt.versions={};function ji(){}dt.on=ji;dt.addListener=ji;dt.once=ji;dt.off=ji;dt.removeListener=ji;dt.removeAllListeners=ji;dt.emit=ji;dt.prependListener=ji;dt.prependOnceListener=ji;dt.listeners=function(r){return[]};dt.binding=function(r){throw new Error("process.binding is not supported")};dt.cwd=function(){return"/"};dt.chdir=function(r){throw new Error("process.chdir is not supported")};dt.umask=function(){return 0}});var y,_,iP,global,f=me(()=>{y=_e(KE()),_=_e(YE()),iP=function(r){function e(){var i=this||self;return delete r.prototype.__magic__,i}if(typeof globalThis=="object")return globalThis;if(this)return e();r.defineProperty(r.prototype,"__magic__",{configurable:!0,get:e});var t=__magic__;return t}(Object),global=iP});var jr=B((JE,Hl)=>{f();(function(r){"use strict";var e,t=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,i=Math.ceil,n=Math.floor,s="[BigNumber Error] ",o=s+"Number primitive has more than 15 significant digits: ",a=1e14,u=14,h=9007199254740991,p=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],A=1e7,D=1e9;function O(W){var k,R,F,G=l.prototype={constructor:l,toString:null,valueOf:null},ce=new l(1),J=20,X=4,E=-7,c=21,d=-1e7,g=1e7,m=!1,w=1,S=0,N={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xA0",suffix:""},I="0123456789abcdefghijklmnopqrstuvwxyz";function l(v,b){var x,L,P,U,q,M,Q,K,H=this;if(!(H instanceof l))return new l(v,b);if(b==null){if(v&&v._isBigNumber===!0){H.s=v.s,!v.c||v.e>g?H.c=H.e=null:v.e<d?H.c=[H.e=0]:(H.e=v.e,H.c=v.c.slice());return}if((M=typeof v=="number")&&v*0==0){if(H.s=1/v<0?(v=-v,-1):1,v===~~v){for(U=0,q=v;q>=10;q/=10,U++);U>g?H.c=H.e=null:(H.e=U,H.c=[v]);return}K=String(v)}else{if(!t.test(K=String(v)))return F(H,K,M);H.s=K.charCodeAt(0)==45?(K=K.slice(1),-1):1}(U=K.indexOf("."))>-1&&(K=K.replace(".","")),(q=K.search(/e/i))>0?(U<0&&(U=q),U+=+K.slice(q+1),K=K.substring(0,q)):U<0&&(U=K.length)}else{if($(b,2,I.length,"Base"),b==10)return H=new l(v),ee(H,J+H.e+1,X);if(K=String(v),M=typeof v=="number"){if(v*0!=0)return F(H,K,M,b);if(H.s=1/v<0?(K=K.slice(1),-1):1,l.DEBUG&&K.replace(/^0\.0*|\./,"").length>15)throw Error(o+v)}else H.s=K.charCodeAt(0)===45?(K=K.slice(1),-1):1;for(x=I.slice(0,b),U=q=0,Q=K.length;q<Q;q++)if(x.indexOf(L=K.charAt(q))<0){if(L=="."){if(q>U){U=Q;continue}}else if(!P&&(K==K.toUpperCase()&&(K=K.toLowerCase())||K==K.toLowerCase()&&(K=K.toUpperCase()))){P=!0,q=-1,U=0;continue}return F(H,String(v),M,b)}M=!1,K=R(K,b,10,H.s),(U=K.indexOf("."))>-1?K=K.replace(".",""):U=K.length}for(q=0;K.charCodeAt(q)===48;q++);for(Q=K.length;K.charCodeAt(--Q)===48;);if(K=K.slice(q,++Q)){if(Q-=q,M&&l.DEBUG&&Q>15&&(v>h||v!==n(v)))throw Error(o+H.s*v);if((U=U-q-1)>g)H.c=H.e=null;else if(U<d)H.c=[H.e=0];else{if(H.e=U,H.c=[],q=(U+1)%u,U<0&&(q+=u),q<Q){for(q&&H.c.push(+K.slice(0,q)),Q-=u;q<Q;)H.c.push(+K.slice(q,q+=u));q=u-(K=K.slice(q)).length}else q-=Q;for(;q--;K+="0");H.c.push(+K)}}else H.c=[H.e=0]}l.clone=O,l.ROUND_UP=0,l.ROUND_DOWN=1,l.ROUND_CEIL=2,l.ROUND_FLOOR=3,l.ROUND_HALF_UP=4,l.ROUND_HALF_DOWN=5,l.ROUND_HALF_EVEN=6,l.ROUND_HALF_CEIL=7,l.ROUND_HALF_FLOOR=8,l.EUCLID=9,l.config=l.set=function(v){var b,x;if(v!=null)if(typeof v=="object"){if(v.hasOwnProperty(b="DECIMAL_PLACES")&&(x=v[b],$(x,0,D,b),J=x),v.hasOwnProperty(b="ROUNDING_MODE")&&(x=v[b],$(x,0,8,b),X=x),v.hasOwnProperty(b="EXPONENTIAL_AT")&&(x=v[b],x&&x.pop?($(x[0],-D,0,b),$(x[1],0,D,b),E=x[0],c=x[1]):($(x,-D,D,b),E=-(c=x<0?-x:x))),v.hasOwnProperty(b="RANGE"))if(x=v[b],x&&x.pop)$(x[0],-D,-1,b),$(x[1],1,D,b),d=x[0],g=x[1];else if($(x,-D,D,b),x)d=-(g=x<0?-x:x);else throw Error(s+b+" cannot be zero: "+x);if(v.hasOwnProperty(b="CRYPTO"))if(x=v[b],x===!!x)if(x)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))m=x;else throw m=!x,Error(s+"crypto unavailable");else m=x;else throw Error(s+b+" not true or false: "+x);if(v.hasOwnProperty(b="MODULO_MODE")&&(x=v[b],$(x,0,9,b),w=x),v.hasOwnProperty(b="POW_PRECISION")&&(x=v[b],$(x,0,D,b),S=x),v.hasOwnProperty(b="FORMAT"))if(x=v[b],typeof x=="object")N=x;else throw Error(s+b+" not an object: "+x);if(v.hasOwnProperty(b="ALPHABET"))if(x=v[b],typeof x=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(x))I=x;else throw Error(s+b+" invalid: "+x)}else throw Error(s+"Object expected: "+v);return{DECIMAL_PLACES:J,ROUNDING_MODE:X,EXPONENTIAL_AT:[E,c],RANGE:[d,g],CRYPTO:m,MODULO_MODE:w,POW_PRECISION:S,FORMAT:N,ALPHABET:I}},l.isBigNumber=function(v){if(!v||v._isBigNumber!==!0)return!1;if(!l.DEBUG)return!0;var b,x,L=v.c,P=v.e,U=v.s;e:if({}.toString.call(L)=="[object Array]"){if((U===1||U===-1)&&P>=-D&&P<=D&&P===n(P)){if(L[0]===0){if(P===0&&L.length===1)return!0;break e}if(b=(P+1)%u,b<1&&(b+=u),String(L[0]).length==b){for(b=0;b<L.length;b++)if(x=L[b],x<0||x>=a||x!==n(x))break e;if(x!==0)return!0}}}else if(L===null&&P===null&&(U===null||U===1||U===-1))return!0;throw Error(s+"Invalid BigNumber: "+v)},l.maximum=l.max=function(){return Z(arguments,G.lt)},l.minimum=l.min=function(){return Z(arguments,G.gt)},l.random=function(){var v=9007199254740992,b=Math.random()*v&2097151?function(){return n(Math.random()*v)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(x){var L,P,U,q,M,Q=0,K=[],H=new l(ce);if(x==null?x=J:$(x,0,D),q=i(x/u),m)if(crypto.getRandomValues){for(L=crypto.getRandomValues(new Uint32Array(q*=2));Q<q;)M=L[Q]*131072+(L[Q+1]>>>11),M>=9e15?(P=crypto.getRandomValues(new Uint32Array(2)),L[Q]=P[0],L[Q+1]=P[1]):(K.push(M%1e14),Q+=2);Q=q/2}else if(crypto.randomBytes){for(L=crypto.randomBytes(q*=7);Q<q;)M=(L[Q]&31)*281474976710656+L[Q+1]*1099511627776+L[Q+2]*4294967296+L[Q+3]*16777216+(L[Q+4]<<16)+(L[Q+5]<<8)+L[Q+6],M>=9e15?crypto.randomBytes(7).copy(L,Q):(K.push(M%1e14),Q+=7);Q=q/7}else throw m=!1,Error(s+"crypto unavailable");if(!m)for(;Q<q;)M=b(),M<9e15&&(K[Q++]=M%1e14);for(q=K[--Q],x%=u,q&&x&&(M=p[u-x],K[Q]=n(q/M)*M);K[Q]===0;K.pop(),Q--);if(Q<0)K=[U=0];else{for(U=-1;K[0]===0;K.splice(0,1),U-=u);for(Q=1,M=K[0];M>=10;M/=10,Q++);Q<u&&(U-=u-Q)}return H.e=U,H.c=K,H}}(),l.sum=function(){for(var v=1,b=arguments,x=new l(b[0]);v<b.length;)x=x.plus(b[v++]);return x},R=function(){var v="0123456789";function b(x,L,P,U){for(var q,M=[0],Q,K=0,H=x.length;K<H;){for(Q=M.length;Q--;M[Q]*=L);for(M[0]+=U.indexOf(x.charAt(K++)),q=0;q<M.length;q++)M[q]>P-1&&(M[q+1]==null&&(M[q+1]=0),M[q+1]+=M[q]/P|0,M[q]%=P)}return M.reverse()}return function(x,L,P,U,q){var M,Q,K,H,ue,he,de,Me,be=x.indexOf("."),xe=J,Be=X;for(be>=0&&(H=S,S=0,x=x.replace(".",""),Me=new l(L),he=Me.pow(x.length-be),S=H,Me.c=b(j(V(he.c),he.e,"0"),10,P,v),Me.e=Me.c.length),de=b(x,L,P,q?(M=I,v):(M=v,I)),K=H=de.length;de[--H]==0;de.pop());if(!de[0])return M.charAt(0);if(be<0?--K:(he.c=de,he.e=K,he.s=U,he=k(he,Me,xe,Be,P),de=he.c,ue=he.r,K=he.e),Q=K+xe+1,be=de[Q],H=P/2,ue=ue||Q<0||de[Q+1]!=null,ue=Be<4?(be!=null||ue)&&(Be==0||Be==(he.s<0?3:2)):be>H||be==H&&(Be==4||ue||Be==6&&de[Q-1]&1||Be==(he.s<0?8:7)),Q<1||!de[0])x=ue?j(M.charAt(1),-xe,M.charAt(0)):M.charAt(0);else{if(de.length=Q,ue)for(--P;++de[--Q]>P;)de[Q]=0,Q||(++K,de=[1].concat(de));for(H=de.length;!de[--H];);for(be=0,x="";be<=H;x+=M.charAt(de[be++]));x=j(x,K,M.charAt(0))}return x}}(),k=function(){function v(L,P,U){var q,M,Q,K,H=0,ue=L.length,he=P%A,de=P/A|0;for(L=L.slice();ue--;)Q=L[ue]%A,K=L[ue]/A|0,q=de*Q+K*he,M=he*Q+q%A*A+H,H=(M/U|0)+(q/A|0)+de*K,L[ue]=M%U;return H&&(L=[H].concat(L)),L}function b(L,P,U,q){var M,Q;if(U!=q)Q=U>q?1:-1;else for(M=Q=0;M<U;M++)if(L[M]!=P[M]){Q=L[M]>P[M]?1:-1;break}return Q}function x(L,P,U,q){for(var M=0;U--;)L[U]-=M,M=L[U]<P[U]?1:0,L[U]=M*q+L[U]-P[U];for(;!L[0]&&L.length>1;L.splice(0,1));}return function(L,P,U,q,M){var Q,K,H,ue,he,de,Me,be,xe,Be,Ie,Pe,us,Ze,et,Ar,ze,Ue=L.s==P.s?1:-1,jt=L.c,Ce=P.c;if(!jt||!jt[0]||!Ce||!Ce[0])return new l(!L.s||!P.s||(jt?Ce&&jt[0]==Ce[0]:!Ce)?NaN:jt&&jt[0]==0||!Ce?Ue*0:Ue/0);for(be=new l(Ue),xe=be.c=[],K=L.e-P.e,Ue=U+K+1,M||(M=a,K=T(L.e/u)-T(P.e/u),Ue=Ue/u|0),H=0;Ce[H]==(jt[H]||0);H++);if(Ce[H]>(jt[H]||0)&&K--,Ue<0)xe.push(1),ue=!0;else{for(Ze=jt.length,Ar=Ce.length,H=0,Ue+=2,he=n(M/(Ce[0]+1)),he>1&&(Ce=v(Ce,he,M),jt=v(jt,he,M),Ar=Ce.length,Ze=jt.length),us=Ar,Be=jt.slice(0,Ar),Ie=Be.length;Ie<Ar;Be[Ie++]=0);ze=Ce.slice(),ze=[0].concat(ze),et=Ce[0],Ce[1]>=M/2&&et++;do{if(he=0,Q=b(Ce,Be,Ar,Ie),Q<0){if(Pe=Be[0],Ar!=Ie&&(Pe=Pe*M+(Be[1]||0)),he=n(Pe/et),he>1)for(he>=M&&(he=M-1),de=v(Ce,he,M),Me=de.length,Ie=Be.length;b(de,Be,Me,Ie)==1;)he--,x(de,Ar<Me?ze:Ce,Me,M),Me=de.length,Q=1;else he==0&&(Q=he=1),de=Ce.slice(),Me=de.length;if(Me<Ie&&(de=[0].concat(de)),x(Be,de,Ie,M),Ie=Be.length,Q==-1)for(;b(Ce,Be,Ar,Ie)<1;)he++,x(Be,Ar<Ie?ze:Ce,Ie,M),Ie=Be.length}else Q===0&&(he++,Be=[0]);xe[H++]=he,Be[0]?Be[Ie++]=jt[us]||0:(Be=[jt[us]],Ie=1)}while((us++<Ze||Be[0]!=null)&&Ue--);ue=Be[0]!=null,xe[0]||xe.splice(0,1)}if(M==a){for(H=1,Ue=xe[0];Ue>=10;Ue/=10,H++);ee(be,U+(be.e=H+K*u-1)+1,q,ue)}else be.e=K,be.r=+ue;return be}}();function C(v,b,x,L){var P,U,q,M,Q;if(x==null?x=X:$(x,0,8),!v.c)return v.toString();if(P=v.c[0],q=v.e,b==null)Q=V(v.c),Q=L==1||L==2&&(q<=E||q>=c)?Y(Q,q):j(Q,q,"0");else if(v=ee(new l(v),b,x),U=v.e,Q=V(v.c),M=Q.length,L==1||L==2&&(b<=U||U<=E)){for(;M<b;Q+="0",M++);Q=Y(Q,U)}else if(b-=q,Q=j(Q,U,"0"),U+1>M){if(--b>0)for(Q+=".";b--;Q+="0");}else if(b+=U-M,b>0)for(U+1==M&&(Q+=".");b--;Q+="0");return v.s<0&&P?"-"+Q:Q}function Z(v,b){for(var x,L=1,P=new l(v[0]);L<v.length;L++)if(x=new l(v[L]),x.s)b.call(P,x)&&(P=x);else{P=x;break}return P}function ie(v,b,x){for(var L=1,P=b.length;!b[--P];b.pop());for(P=b[0];P>=10;P/=10,L++);return(x=L+x*u-1)>g?v.c=v.e=null:x<d?v.c=[v.e=0]:(v.e=x,v.c=b),v}F=function(){var v=/^(-?)0([xbo])(?=\w[\w.]*$)/i,b=/^([^.]+)\.$/,x=/^\.([^.]+)$/,L=/^-?(Infinity|NaN)$/,P=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(U,q,M,Q){var K,H=M?q:q.replace(P,"");if(L.test(H))U.s=isNaN(H)?null:H<0?-1:1;else{if(!M&&(H=H.replace(v,function(ue,he,de){return K=(de=de.toLowerCase())=="x"?16:de=="b"?2:8,!Q||Q==K?he:ue}),Q&&(K=Q,H=H.replace(b,"$1").replace(x,"0.$1")),q!=H))return new l(H,K);if(l.DEBUG)throw Error(s+"Not a"+(Q?" base "+Q:"")+" number: "+q);U.s=null}U.c=U.e=null}}();function ee(v,b,x,L){var P,U,q,M,Q,K,H,ue=v.c,he=p;if(ue){e:{for(P=1,M=ue[0];M>=10;M/=10,P++);if(U=b-P,U<0)U+=u,q=b,Q=ue[K=0],H=Q/he[P-q-1]%10|0;else if(K=i((U+1)/u),K>=ue.length)if(L){for(;ue.length<=K;ue.push(0));Q=H=0,P=1,U%=u,q=U-u+1}else break e;else{for(Q=M=ue[K],P=1;M>=10;M/=10,P++);U%=u,q=U-u+P,H=q<0?0:Q/he[P-q-1]%10|0}if(L=L||b<0||ue[K+1]!=null||(q<0?Q:Q%he[P-q-1]),L=x<4?(H||L)&&(x==0||x==(v.s<0?3:2)):H>5||H==5&&(x==4||L||x==6&&(U>0?q>0?Q/he[P-q]:0:ue[K-1])%10&1||x==(v.s<0?8:7)),b<1||!ue[0])return ue.length=0,L?(b-=v.e+1,ue[0]=he[(u-b%u)%u],v.e=-b||0):ue[0]=v.e=0,v;if(U==0?(ue.length=K,M=1,K--):(ue.length=K+1,M=he[u-U],ue[K]=q>0?n(Q/he[P-q]%he[q])*M:0),L)for(;;)if(K==0){for(U=1,q=ue[0];q>=10;q/=10,U++);for(q=ue[0]+=M,M=1;q>=10;q/=10,M++);U!=M&&(v.e++,ue[0]==a&&(ue[0]=1));break}else{if(ue[K]+=M,ue[K]!=a)break;ue[K--]=0,M=1}for(U=ue.length;ue[--U]===0;ue.pop());}v.e>g?v.c=v.e=null:v.e<d&&(v.c=[v.e=0])}return v}function ae(v){var b,x=v.e;return x===null?v.toString():(b=V(v.c),b=x<=E||x>=c?Y(b,x):j(b,x,"0"),v.s<0?"-"+b:b)}return G.absoluteValue=G.abs=function(){var v=new l(this);return v.s<0&&(v.s=1),v},G.comparedTo=function(v,b){return z(this,new l(v,b))},G.decimalPlaces=G.dp=function(v,b){var x,L,P,U=this;if(v!=null)return $(v,0,D),b==null?b=X:$(b,0,8),ee(new l(U),v+U.e+1,b);if(!(x=U.c))return null;if(L=((P=x.length-1)-T(this.e/u))*u,P=x[P])for(;P%10==0;P/=10,L--);return L<0&&(L=0),L},G.dividedBy=G.div=function(v,b){return k(this,new l(v,b),J,X)},G.dividedToIntegerBy=G.idiv=function(v,b){return k(this,new l(v,b),0,1)},G.exponentiatedBy=G.pow=function(v,b){var x,L,P,U,q,M,Q,K,H,ue=this;if(v=new l(v),v.c&&!v.isInteger())throw Error(s+"Exponent not an integer: "+ae(v));if(b!=null&&(b=new l(b)),M=v.e>14,!ue.c||!ue.c[0]||ue.c[0]==1&&!ue.e&&ue.c.length==1||!v.c||!v.c[0])return H=new l(Math.pow(+ae(ue),M?2-se(v):+ae(v))),b?H.mod(b):H;if(Q=v.s<0,b){if(b.c?!b.c[0]:!b.s)return new l(NaN);L=!Q&&ue.isInteger()&&b.isInteger(),L&&(ue=ue.mod(b))}else{if(v.e>9&&(ue.e>0||ue.e<-1||(ue.e==0?ue.c[0]>1||M&&ue.c[1]>=24e7:ue.c[0]<8e13||M&&ue.c[0]<=9999975e7)))return U=ue.s<0&&se(v)?-0:0,ue.e>-1&&(U=1/U),new l(Q?1/U:U);S&&(U=i(S/u+2))}for(M?(x=new l(.5),Q&&(v.s=1),K=se(v)):(P=Math.abs(+ae(v)),K=P%2),H=new l(ce);;){if(K){if(H=H.times(ue),!H.c)break;U?H.c.length>U&&(H.c.length=U):L&&(H=H.mod(b))}if(P){if(P=n(P/2),P===0)break;K=P%2}else if(v=v.times(x),ee(v,v.e+1,1),v.e>14)K=se(v);else{if(P=+ae(v),P===0)break;K=P%2}ue=ue.times(ue),U?ue.c&&ue.c.length>U&&(ue.c.length=U):L&&(ue=ue.mod(b))}return L?H:(Q&&(H=ce.div(H)),b?H.mod(b):U?ee(H,S,X,q):H)},G.integerValue=function(v){var b=new l(this);return v==null?v=X:$(v,0,8),ee(b,b.e+1,v)},G.isEqualTo=G.eq=function(v,b){return z(this,new l(v,b))===0},G.isFinite=function(){return!!this.c},G.isGreaterThan=G.gt=function(v,b){return z(this,new l(v,b))>0},G.isGreaterThanOrEqualTo=G.gte=function(v,b){return(b=z(this,new l(v,b)))===1||b===0},G.isInteger=function(){return!!this.c&&T(this.e/u)>this.c.length-2},G.isLessThan=G.lt=function(v,b){return z(this,new l(v,b))<0},G.isLessThanOrEqualTo=G.lte=function(v,b){return(b=z(this,new l(v,b)))===-1||b===0},G.isNaN=function(){return!this.s},G.isNegative=function(){return this.s<0},G.isPositive=function(){return this.s>0},G.isZero=function(){return!!this.c&&this.c[0]==0},G.minus=function(v,b){var x,L,P,U,q=this,M=q.s;if(v=new l(v,b),b=v.s,!M||!b)return new l(NaN);if(M!=b)return v.s=-b,q.plus(v);var Q=q.e/u,K=v.e/u,H=q.c,ue=v.c;if(!Q||!K){if(!H||!ue)return H?(v.s=-b,v):new l(ue?q:NaN);if(!H[0]||!ue[0])return ue[0]?(v.s=-b,v):new l(H[0]?q:X==3?-0:0)}if(Q=T(Q),K=T(K),H=H.slice(),M=Q-K){for((U=M<0)?(M=-M,P=H):(K=Q,P=ue),P.reverse(),b=M;b--;P.push(0));P.reverse()}else for(L=(U=(M=H.length)<(b=ue.length))?M:b,M=b=0;b<L;b++)if(H[b]!=ue[b]){U=H[b]<ue[b];break}if(U&&(P=H,H=ue,ue=P,v.s=-v.s),b=(L=ue.length)-(x=H.length),b>0)for(;b--;H[x++]=0);for(b=a-1;L>M;){if(H[--L]<ue[L]){for(x=L;x&&!H[--x];H[x]=b);--H[x],H[L]+=a}H[L]-=ue[L]}for(;H[0]==0;H.splice(0,1),--K);return H[0]?ie(v,H,K):(v.s=X==3?-1:1,v.c=[v.e=0],v)},G.modulo=G.mod=function(v,b){var x,L,P=this;return v=new l(v,b),!P.c||!v.s||v.c&&!v.c[0]?new l(NaN):!v.c||P.c&&!P.c[0]?new l(P):(w==9?(L=v.s,v.s=1,x=k(P,v,0,3),v.s=L,x.s*=L):x=k(P,v,0,w),v=P.minus(x.times(v)),!v.c[0]&&w==1&&(v.s=P.s),v)},G.multipliedBy=G.times=function(v,b){var x,L,P,U,q,M,Q,K,H,ue,he,de,Me,be,xe,Be=this,Ie=Be.c,Pe=(v=new l(v,b)).c;if(!Ie||!Pe||!Ie[0]||!Pe[0])return!Be.s||!v.s||Ie&&!Ie[0]&&!Pe||Pe&&!Pe[0]&&!Ie?v.c=v.e=v.s=null:(v.s*=Be.s,!Ie||!Pe?v.c=v.e=null:(v.c=[0],v.e=0)),v;for(L=T(Be.e/u)+T(v.e/u),v.s*=Be.s,Q=Ie.length,ue=Pe.length,Q<ue&&(Me=Ie,Ie=Pe,Pe=Me,P=Q,Q=ue,ue=P),P=Q+ue,Me=[];P--;Me.push(0));for(be=a,xe=A,P=ue;--P>=0;){for(x=0,he=Pe[P]%xe,de=Pe[P]/xe|0,q=Q,U=P+q;U>P;)K=Ie[--q]%xe,H=Ie[q]/xe|0,M=de*K+H*he,K=he*K+M%xe*xe+Me[U]+x,x=(K/be|0)+(M/xe|0)+de*H,Me[U--]=K%be;Me[U]=x}return x?++L:Me.splice(0,1),ie(v,Me,L)},G.negated=function(){var v=new l(this);return v.s=-v.s||null,v},G.plus=function(v,b){var x,L=this,P=L.s;if(v=new l(v,b),b=v.s,!P||!b)return new l(NaN);if(P!=b)return v.s=-b,L.minus(v);var U=L.e/u,q=v.e/u,M=L.c,Q=v.c;if(!U||!q){if(!M||!Q)return new l(P/0);if(!M[0]||!Q[0])return Q[0]?v:new l(M[0]?L:P*0)}if(U=T(U),q=T(q),M=M.slice(),P=U-q){for(P>0?(q=U,x=Q):(P=-P,x=M),x.reverse();P--;x.push(0));x.reverse()}for(P=M.length,b=Q.length,P-b<0&&(x=Q,Q=M,M=x,b=P),P=0;b;)P=(M[--b]=M[b]+Q[b]+P)/a|0,M[b]=a===M[b]?0:M[b]%a;return P&&(M=[P].concat(M),++q),ie(v,M,q)},G.precision=G.sd=function(v,b){var x,L,P,U=this;if(v!=null&&v!==!!v)return $(v,1,D),b==null?b=X:$(b,0,8),ee(new l(U),v,b);if(!(x=U.c))return null;if(P=x.length-1,L=P*u+1,P=x[P]){for(;P%10==0;P/=10,L--);for(P=x[0];P>=10;P/=10,L++);}return v&&U.e+1>L&&(L=U.e+1),L},G.shiftedBy=function(v){return $(v,-h,h),this.times("1e"+v)},G.squareRoot=G.sqrt=function(){var v,b,x,L,P,U=this,q=U.c,M=U.s,Q=U.e,K=J+4,H=new l("0.5");if(M!==1||!q||!q[0])return new l(!M||M<0&&(!q||q[0])?NaN:q?U:1/0);if(M=Math.sqrt(+ae(U)),M==0||M==1/0?(b=V(q),(b.length+Q)%2==0&&(b+="0"),M=Math.sqrt(+b),Q=T((Q+1)/2)-(Q<0||Q%2),M==1/0?b="5e"+Q:(b=M.toExponential(),b=b.slice(0,b.indexOf("e")+1)+Q),x=new l(b)):x=new l(M+""),x.c[0]){for(Q=x.e,M=Q+K,M<3&&(M=0);;)if(P=x,x=H.times(P.plus(k(U,P,K,1))),V(P.c).slice(0,M)===(b=V(x.c)).slice(0,M))if(x.e<Q&&--M,b=b.slice(M-3,M+1),b=="9999"||!L&&b=="4999"){if(!L&&(ee(P,P.e+J+2,0),P.times(P).eq(U))){x=P;break}K+=4,M+=4,L=1}else{(!+b||!+b.slice(1)&&b.charAt(0)=="5")&&(ee(x,x.e+J+2,1),v=!x.times(x).eq(U));break}}return ee(x,x.e+J+1,X,v)},G.toExponential=function(v,b){return v!=null&&($(v,0,D),v++),C(this,v,b,1)},G.toFixed=function(v,b){return v!=null&&($(v,0,D),v=v+this.e+1),C(this,v,b)},G.toFormat=function(v,b,x){var L,P=this;if(x==null)v!=null&&b&&typeof b=="object"?(x=b,b=null):v&&typeof v=="object"?(x=v,v=b=null):x=N;else if(typeof x!="object")throw Error(s+"Argument not an object: "+x);if(L=P.toFixed(v,b),P.c){var U,q=L.split("."),M=+x.groupSize,Q=+x.secondaryGroupSize,K=x.groupSeparator||"",H=q[0],ue=q[1],he=P.s<0,de=he?H.slice(1):H,Me=de.length;if(Q&&(U=M,M=Q,Q=U,Me-=U),M>0&&Me>0){for(U=Me%M||M,H=de.substr(0,U);U<Me;U+=M)H+=K+de.substr(U,M);Q>0&&(H+=K+de.slice(U)),he&&(H="-"+H)}L=ue?H+(x.decimalSeparator||"")+((Q=+x.fractionGroupSize)?ue.replace(new RegExp("\\d{"+Q+"}\\B","g"),"$&"+(x.fractionGroupSeparator||"")):ue):H}return(x.prefix||"")+L+(x.suffix||"")},G.toFraction=function(v){var b,x,L,P,U,q,M,Q,K,H,ue,he,de=this,Me=de.c;if(v!=null&&(M=new l(v),!M.isInteger()&&(M.c||M.s!==1)||M.lt(ce)))throw Error(s+"Argument "+(M.isInteger()?"out of range: ":"not an integer: ")+ae(M));if(!Me)return new l(de);for(b=new l(ce),K=x=new l(ce),L=Q=new l(ce),he=V(Me),U=b.e=he.length-de.e-1,b.c[0]=p[(q=U%u)<0?u+q:q],v=!v||M.comparedTo(b)>0?U>0?b:K:M,q=g,g=1/0,M=new l(he),Q.c[0]=0;H=k(M,b,0,1),P=x.plus(H.times(L)),P.comparedTo(v)!=1;)x=L,L=P,K=Q.plus(H.times(P=K)),Q=P,b=M.minus(H.times(P=b)),M=P;return P=k(v.minus(x),L,0,1),Q=Q.plus(P.times(K)),x=x.plus(P.times(L)),Q.s=K.s=de.s,U=U*2,ue=k(K,L,U,X).minus(de).abs().comparedTo(k(Q,x,U,X).minus(de).abs())<1?[K,L]:[Q,x],g=q,ue},G.toNumber=function(){return+ae(this)},G.toPrecision=function(v,b){return v!=null&&$(v,1,D),C(this,v,b,2)},G.toString=function(v){var b,x=this,L=x.s,P=x.e;return P===null?L?(b="Infinity",L<0&&(b="-"+b)):b="NaN":(v==null?b=P<=E||P>=c?Y(V(x.c),P):j(V(x.c),P,"0"):v===10?(x=ee(new l(x),J+P+1,X),b=j(V(x.c),x.e,"0")):($(v,2,I.length,"Base"),b=R(j(V(x.c),P,"0"),10,v,L,!0)),L<0&&x.c[0]&&(b="-"+b)),b},G.valueOf=G.toJSON=function(){return ae(this)},G._isBigNumber=!0,W!=null&&l.set(W),l}function T(W){var k=W|0;return W>0||W===k?k:k-1}function V(W){for(var k,R,F=1,G=W.length,ce=W[0]+"";F<G;){for(k=W[F++]+"",R=u-k.length;R--;k="0"+k);ce+=k}for(G=ce.length;ce.charCodeAt(--G)===48;);return ce.slice(0,G+1||1)}function z(W,k){var R,F,G=W.c,ce=k.c,J=W.s,X=k.s,E=W.e,c=k.e;if(!J||!X)return null;if(R=G&&!G[0],F=ce&&!ce[0],R||F)return R?F?0:-X:J;if(J!=X)return J;if(R=J<0,F=E==c,!G||!ce)return F?0:!G^R?1:-1;if(!F)return E>c^R?1:-1;for(X=(E=G.length)<(c=ce.length)?E:c,J=0;J<X;J++)if(G[J]!=ce[J])return G[J]>ce[J]^R?1:-1;return E==c?0:E>c^R?1:-1}function $(W,k,R,F){if(W<k||W>R||W!==n(W))throw Error(s+(F||"Argument")+(typeof W=="number"?W<k||W>R?" out of range: ":" not an integer: ":" not a primitive number: ")+String(W))}function se(W){var k=W.c.length-1;return T(W.e/u)==k&&W.c[k]%2!=0}function Y(W,k){return(W.length>1?W.charAt(0)+"."+W.slice(1):W)+(k<0?"e":"e+")+k}function j(W,k,R){var F,G;if(k<0){for(G=R+".";++k;G+=R);W=G+W}else if(F=W.length,++k>F){for(G=R,k-=F;--k;G+=R);W+=G}else k<F&&(W=W.slice(0,k)+"."+W.slice(k));return W}e=O(),e.default=e.BigNumber=e,typeof define=="function"&&define.amd?define(function(){return e}):typeof Hl<"u"&&Hl.exports?Hl.exports=e:(r||(r=typeof self<"u"&&self?self:window),r.BigNumber=e)})(JE)});var Ye=B(ge=>{"use strict";f();Object.defineProperty(ge,"__esModule",{value:!0});ge.ErrGasLimitShouldBe0ForInnerTransaction=ge.ErrInvalidRelayedV2BuilderArguments=ge.ErrInvalidRelayedV1BuilderArguments=ge.ErrNotImplemented=ge.ErrContractInteraction=ge.ErrCodec=ge.ErrCannotParseTransactionOutcome=ge.ErrCannotParseContractResults=ge.ErrMissingFieldOnEnum=ge.ErrMissingFieldOnStruct=ge.ErrTypeInferenceSystemRequiresRegularJavascriptObjects=ge.ErrTypingSystem=ge.ErrMock=ge.ErrContractHasNoAddress=ge.ErrContract=ge.ErrExpectedTransactionEventsNotFound=ge.ErrExpectedTransactionStatusNotReached=ge.ErrTransactionWatcherTimeout=ge.ErrAsyncTimerAborted=ge.ErrAsyncTimerAlreadyRunning=ge.ErrInvalidFunctionName=ge.ErrSignatureCannotCreate=ge.ErrTransactionOptionsInvalid=ge.ErrTransactionVersionInvalid=ge.ErrNonceInvalid=ge.ErrNotEnoughGas=ge.ErrAddressEmpty=ge.ErrAddressBadHrp=ge.ErrAddressCannotCreate=ge.ErrUnexpectedCondition=ge.ErrInvariantFailed=ge.ErrBadType=ge.ErrUnsupportedOperation=ge.ErrInvalidArgument=ge.Err=void 0;var Re=class extends Error{constructor(e,t){super(e),this.inner=void 0,this.inner=t}summary(){let e=[];e.push({name:this.name,message:this.message});let t=this.inner;for(;t;)e.push({name:t.name,message:t.message}),t=t.inner;return e}};ge.Err=Re;var x0=class extends Re{constructor(e,t){super(`Invalid argument: ${e}`,t)}};ge.ErrInvalidArgument=x0;var T0=class extends Re{constructor(e,t="not specified"){super(`Operation "${e}" not supported. Reason: ${t}`)}};ge.ErrUnsupportedOperation=T0;var N0=class extends Re{constructor(e,t,i){super(`Bad type of "${e}": ${i}. Expected type: ${t}`)}};ge.ErrBadType=N0;var D0=class extends Re{constructor(e){super(`Invariant failed: [${e}]`)}};ge.ErrInvariantFailed=D0;var O0=class extends Re{constructor(e){super(`Unexpected condition: [${e}]`)}};ge.ErrUnexpectedCondition=O0;var P0=class extends Re{constructor(e,t){let i=`Cannot create address from: ${e}`;super(i,t)}};ge.ErrAddressCannotCreate=P0;var B0=class extends Re{constructor(e,t){super(`Wrong address HRP. Expected: ${e}, got ${t}`)}};ge.ErrAddressBadHrp=B0;var M0=class extends Re{constructor(){super("Address is empty")}};ge.ErrAddressEmpty=M0;var R0=class extends Re{constructor(e){super(`Not enough gas provided: ${e}`)}};ge.ErrNotEnoughGas=R0;var L0=class extends Re{constructor(e){super(`Invalid nonce: ${e}`)}};ge.ErrNonceInvalid=L0;var F0=class extends Re{constructor(e){super(`Invalid transaction version: ${e}`)}};ge.ErrTransactionVersionInvalid=F0;var U0=class extends Re{constructor(e){super(`Invalid transaction options: ${e}`)}};ge.ErrTransactionOptionsInvalid=U0;var q0=class extends Re{constructor(e,t){let i=`Cannot create signature from: ${e}`;super(i,t)}};ge.ErrSignatureCannotCreate=q0;var V0=class extends Re{constructor(){super("Invalid function name")}};ge.ErrInvalidFunctionName=V0;var H0=class extends Re{constructor(){super("Async timer already running")}};ge.ErrAsyncTimerAlreadyRunning=H0;var Q0=class extends Re{constructor(){super("Async timer aborted")}};ge.ErrAsyncTimerAborted=Q0;var j0=class extends Re{constructor(){super("TransactionWatcher has timed out")}};ge.ErrTransactionWatcherTimeout=j0;var G0=class extends Re{constructor(){super("Expected transaction status not reached")}};ge.ErrExpectedTransactionStatusNotReached=G0;var K0=class extends Re{constructor(){super("Expected transaction events not found")}};ge.ErrExpectedTransactionEventsNotFound=K0;var Ql=class extends Re{constructor(e){super(e)}};ge.ErrContract=Ql;var z0=class extends Ql{constructor(){super(`
The smart contract has no address set. Make sure you provide the address in the constructor, or call setAddress() appropriately.
If you need to recompute the address of the contract, make use of SmartContract.computeAddress() (static method). 
`)}};ge.ErrContractHasNoAddress=z0;var k0=class extends Re{constructor(e){super(e)}};ge.ErrMock=k0;var jl=class extends Re{constructor(e){super(e)}};ge.ErrTypingSystem=jl;var W0=class extends jl{constructor(e){super(`
argument at position ${e} seems to be a TypedValue. The automatic type inference system requires regular javascript objects as input.
This error might occur when you pass a TypedValue to contract.methods.myFunction([...]). For passing TypedValues instead of regular javascript objects, and bypass the automatic type inference system, use contract.methodsExplicit.myFunction([...]) instead.
Also see https://github.com/multiversx/mx-sdk-js-core/pull/187.
`)}};ge.ErrTypeInferenceSystemRequiresRegularJavascriptObjects=W0;var $0=class extends Re{constructor(e,t){super(`field ${e} does not exist on struct ${t}`)}};ge.ErrMissingFieldOnStruct=$0;var Y0=class extends Re{constructor(e,t){super(`field ${e} does not exist on enum ${t}`)}};ge.ErrMissingFieldOnEnum=Y0;var J0=class extends Re{constructor(e){super(`cannot parse contract results: ${e}`)}};ge.ErrCannotParseContractResults=J0;var X0=class extends Re{constructor(e,t){super(`cannot parse outcome of transaction ${e}: ${t}`)}};ge.ErrCannotParseTransactionOutcome=X0;var Z0=class extends Re{constructor(e){super(e)}};ge.ErrCodec=Z0;var eg=class extends Re{constructor(e){super(e)}};ge.ErrContractInteraction=eg;var tg=class extends Re{constructor(){super("Method not yet implemented")}};ge.ErrNotImplemented=tg;var rg=class extends Re{constructor(){super("invalid arguments for relayed v1 builder")}};ge.ErrInvalidRelayedV1BuilderArguments=rg;var ig=class extends Re{constructor(){super("invalid arguments for relayed v2 builder")}};ge.ErrInvalidRelayedV2BuilderArguments=ig;var ng=class extends Re{constructor(){super("gas limit must be 0 for the inner transaction for relayed v2")}};ge.ErrGasLimitShouldBe0ForInnerTransaction=ng});var sg=B(xo=>{"use strict";f();var nP=xo&&xo.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(xo,"__esModule",{value:!0});xo.TokenPayment=void 0;var zu=nP(jr()),sP=Ye(),XE="EGLD",ZE=18;zu.default.set({ROUNDING_MODE:1});var Gi=class{constructor(e,t,i,n){let s=new zu.default(i);if(!s.isInteger()||s.isNegative())throw new sP.ErrInvalidArgument(`bad amountAsBigInteger: ${i}`);this.tokenIdentifier=e,this.nonce=t,this.amountAsBigInteger=s,this.numDecimals=n}static egldFromAmount(e){let t=new zu.default(e).shiftedBy(ZE).decimalPlaces(0);return this.egldFromBigInteger(t)}static egldFromBigInteger(e){return new Gi(XE,0,e,ZE)}static fungibleFromAmount(e,t,i){let n=new zu.default(t).shiftedBy(i).decimalPlaces(0);return this.fungibleFromBigInteger(e,n,i)}static fungibleFromBigInteger(e,t,i=0){return new Gi(e,0,t,i)}static nonFungible(e,t){return new Gi(e,t,1,0)}static semiFungible(e,t,i){return new Gi(e,t,i,0)}static metaEsdtFromAmount(e,t,i,n){let s=new zu.default(i).shiftedBy(n).decimalPlaces(0);return this.metaEsdtFromBigInteger(e,t,s,n)}static metaEsdtFromBigInteger(e,t,i,n=0){return new Gi(e,t,i,n)}toString(){return this.amountAsBigInteger.toFixed(0)}valueOf(){return this.amountAsBigInteger}toPrettyString(){return`${this.toRationalNumber()} ${this.tokenIdentifier}`}toRationalNumber(){return this.amountAsBigInteger.shiftedBy(-this.numDecimals).toFixed(this.numDecimals)}isEgld(){return this.tokenIdentifier==XE}isFungible(){return this.nonce==0}};xo.TokenPayment=Gi});var kl=B((hz,rA)=>{"use strict";f();var Kl="qpzry9x8gf2tvdw0s3jn54khce6mua7l",og={};for(ku=0;ku<Kl.length;ku++){if(Gl=Kl.charAt(ku),og[Gl]!==void 0)throw new TypeError(Gl+" is ambiguous");og[Gl]=ku}var Gl,ku;function To(r){var e=r>>25;return(r&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}function eA(r){for(var e=1,t=0;t<r.length;++t){var i=r.charCodeAt(t);if(i<33||i>126)return"Invalid prefix ("+r+")";e=To(e)^i>>5}for(e=To(e),t=0;t<r.length;++t){var n=r.charCodeAt(t);e=To(e)^n&31}return e}function oP(r,e,t){if(t=t||90,r.length+7+e.length>t)throw new TypeError("Exceeds length limit");r=r.toLowerCase();var i=eA(r);if(typeof i=="string")throw new Error(i);for(var n=r+"1",s=0;s<e.length;++s){var o=e[s];if(o>>5)throw new Error("Non 5-bit word");i=To(i)^o,n+=Kl.charAt(o)}for(s=0;s<6;++s)i=To(i);for(i^=1,s=0;s<6;++s){var a=i>>(5-s)*5&31;n+=Kl.charAt(a)}return n}function tA(r,e){if(e=e||90,r.length<8)return r+" too short";if(r.length>e)return"Exceeds length limit";var t=r.toLowerCase(),i=r.toUpperCase();if(r!==t&&r!==i)return"Mixed-case string "+r;r=t;var n=r.lastIndexOf("1");if(n===-1)return"No separator character for "+r;if(n===0)return"Missing prefix for "+r;var s=r.slice(0,n),o=r.slice(n+1);if(o.length<6)return"Data too short";var a=eA(s);if(typeof a=="string")return a;for(var u=[],h=0;h<o.length;++h){var p=o.charAt(h),A=og[p];if(A===void 0)return"Unknown character "+p;a=To(a)^A,!(h+6>=o.length)&&u.push(A)}return a!==1?"Invalid checksum for "+r:{prefix:s,words:u}}function aP(){var r=tA.apply(null,arguments);if(typeof r=="object")return r}function uP(r){var e=tA.apply(null,arguments);if(typeof e=="object")return e;throw new Error(e)}function zl(r,e,t,i){for(var n=0,s=0,o=(1<<t)-1,a=[],u=0;u<r.length;++u)for(n=n<<e|r[u],s+=e;s>=t;)s-=t,a.push(n>>s&o);if(i)s>0&&a.push(n<<t-s&o);else{if(s>=e)return"Excess padding";if(n<<t-s&o)return"Non-zero padding"}return a}function cP(r){var e=zl(r,8,5,!0);if(Array.isArray(e))return e}function lP(r){var e=zl(r,8,5,!0);if(Array.isArray(e))return e;throw new Error(e)}function fP(r){var e=zl(r,5,8,!1);if(Array.isArray(e))return e}function hP(r){var e=zl(r,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}rA.exports={decodeUnsafe:aP,decode:uP,encode:oP,toWordsUnsafe:cP,toWords:lP,fromWordsUnsafe:fP,fromWords:hP}});var Gr=B(ai=>{"use strict";f();var dP=ai&&ai.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),pP=ai&&ai.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),iA=ai&&ai.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&dP(e,r,t);return pP(e,r),e};Object.defineProperty(ai,"__esModule",{value:!0});ai.Address=void 0;var Wl=iA(kl()),No=iA(Ye()),ag="erd",ug=32,gP="0".repeat(16),Kt=class{constructor(e){if(this.valueHex="",!!e){if(e instanceof Kt)return Kt.fromAddress(e);if(e instanceof y.Buffer)return Kt.fromBuffer(e);if(typeof e=="string")return Kt.fromString(e);throw new No.ErrAddressCannotCreate(e)}}static fromAddress(e){return Kt.fromValidHex(e.valueHex)}static fromValidHex(e){let t=new Kt;return t.valueHex=e,t}static fromBuffer(e){if(e.length!=ug)throw new No.ErrAddressCannotCreate(e);return Kt.fromValidHex(e.toString("hex"))}static fromString(e){return Kt.isValidHex(e)?Kt.fromValidHex(e):Kt.fromBech32(e)}static isValidHex(e){return y.Buffer.from(e,"hex").length==ug}static fromHex(e){if(!Kt.isValidHex(e))throw new No.ErrAddressCannotCreate(e);return Kt.fromValidHex(e)}static fromBech32(e){let t;try{t=Wl.decode(e)}catch(s){throw new No.ErrAddressCannotCreate(e,s)}let i=t.prefix;if(i!=ag)throw new No.ErrAddressBadHrp(ag,i);let n=y.Buffer.from(Wl.fromWords(t.words));if(n.length!=ug)throw new No.ErrAddressCannotCreate(e);return Kt.fromValidHex(n.toString("hex"))}hex(){return this.isEmpty()?"":this.valueHex}bech32(){if(this.isEmpty())return"";let e=Wl.toWords(this.pubkey());return Wl.encode(ag,e)}pubkey(){return this.isEmpty()?y.Buffer.from([]):y.Buffer.from(this.valueHex,"hex")}isEmpty(){return!this.valueHex}equals(e){return e?this.valueHex==e.valueHex:!1}toString(){return this.bech32()}toJSON(){return{bech32:this.bech32(),pubkey:this.hex()}}static Zero(){return new Kt("0".repeat(64))}isContractAddress(){return this.hex().startsWith(gP)}};ai.Address=Kt});var Wu=B(tt=>{"use strict";f();Object.defineProperty(tt,"__esModule",{value:!0});tt.ARGUMENTS_SEPARATOR=tt.ESDT_TRANSFER_VALUE=tt.MULTI_ESDTNFT_TRANSFER_FUNCTION_NAME=tt.ESDTNFT_TRANSFER_FUNCTION_NAME=tt.ESDT_TRANSFER_FUNCTION_NAME=tt.ESDT_TRANSFER_GAS_LIMIT=tt.TRANSACTION_VERSION_TX_HASH_SIGN=tt.TRANSACTION_VERSION_DEFAULT=tt.TRANSACTION_OPTIONS_TX_HASH_SIGN=tt.TRANSACTION_OPTIONS_DEFAULT=tt.TRANSACTION_MIN_GAS_PRICE=void 0;tt.TRANSACTION_MIN_GAS_PRICE=1e9;tt.TRANSACTION_OPTIONS_DEFAULT=0;tt.TRANSACTION_OPTIONS_TX_HASH_SIGN=1;tt.TRANSACTION_VERSION_DEFAULT=1;tt.TRANSACTION_VERSION_TX_HASH_SIGN=2;tt.ESDT_TRANSFER_GAS_LIMIT=5e5;tt.ESDT_TRANSFER_FUNCTION_NAME="ESDTTransfer";tt.ESDTNFT_TRANSFER_FUNCTION_NAME="ESDTNFTTransfer";tt.MULTI_ESDTNFT_TRANSFER_FUNCTION_NAME="MultiESDTNFTTransfer";tt.ESDT_TRANSFER_VALUE="0";tt.ARGUMENTS_SEPARATOR="@"});var Tr=B(rt=>{"use strict";f();var yP=rt&&rt.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),mP=rt&&rt.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),wP=rt&&rt.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&yP(e,r,t);return mP(e,r),e};Object.defineProperty(rt,"__esModule",{value:!0});rt.isEmpty=rt.guardEmpty=rt.guardNotEmpty=rt.guardLength=rt.guardSameLength=rt.guardValueIsSetWithMessage=rt.guardValueIsSet=rt.guardTrue=void 0;var Do=wP(Ye());function vP(r,e){if(!r)throw new Do.ErrInvariantFailed(`[<${e}>] isn't true`)}rt.guardTrue=vP;function EP(r,e){nA(`${r} isn't set (null or undefined)`,e)}rt.guardValueIsSet=EP;function nA(r,e){if(e==null||e===void 0)throw new Do.ErrInvariantFailed(r)}rt.guardValueIsSetWithMessage=nA;function AP(r,e){if(r=r||[],e=e||[],r.length!=e.length)throw new Do.ErrInvariantFailed("arrays do not have the same length")}rt.guardSameLength=AP;function IP(r,e){let t=r.length||0;if(t!=e)throw new Do.ErrInvariantFailed(`wrong length, expected: ${e}, actual: ${t}`)}rt.guardLength=IP;function _P(r,e){if(cg(r))throw new Do.ErrInvariantFailed(`${e} is empty`)}rt.guardNotEmpty=_P;function bP(r,e){if(!cg(r))throw new Do.ErrInvariantFailed(`${e} is not empty`)}rt.guardEmpty=bP;function cg(r){return r.isEmpty?r.isEmpty():r.length===0}rt.isEmpty=cg});var sA=B($l=>{"use strict";f();Object.defineProperty($l,"__esModule",{value:!0});$l.getJavascriptPrototypesInHierarchy=void 0;function CP(r,e){let t=[],i=Object.getPrototypeOf(r);for(;i&&e(i);)t.push(i),i=Object.getPrototypeOf(i);return t}$l.getJavascriptPrototypesInHierarchy=CP});var Ft=B(Lt=>{"use strict";f();Object.defineProperty(Lt,"__esModule",{value:!0});Lt.NullType=Lt.TypePlaceholder=Lt.isTyped=Lt.PrimitiveValue=Lt.TypedValue=Lt.CustomType=Lt.PrimitiveType=Lt.TypeCardinality=Lt.Type=void 0;var lg=sA(),oA=Tr(),Ir=class{constructor(e,t=[],i=Ki.fixed(1)){oA.guardValueIsSet("name",e),this.name=e,this.typeParameters=t,this.cardinality=i}getName(){return this.name}getClassName(){return Ir.ClassName}getClassHierarchy(){return lg.getJavascriptPrototypesInHierarchy(this,i=>i.belongsToTypesystem).map(i=>i.getClassName()).reverse()}getFullyQualifiedName(){let e=this.getTypeParameters().map(t=>t.getFullyQualifiedName()).join(", ");return this.isGenericType()?`multiversx:types:${this.getName()}<${e}>`:`multiversx:types:${this.getName()}`}hasExactClass(e){return this.getClassName()==e}hasClassOrSuperclass(e){return this.getClassHierarchy().includes(e)}getTypeParameters(){return this.typeParameters}isGenericType(){return this.typeParameters.length>0}getFirstTypeParameter(){return oA.guardTrue(this.typeParameters.length>0,"type parameters length > 0"),this.typeParameters[0]}toString(){let e=this.getTypeParameters().map(i=>i.toString()).join(", "),t=e?`<${e}>`:"";return`${this.name}${t}`}equals(e){return Ir.equals(this,e)}static equals(e,t){return e.getFullyQualifiedName()==t.getFullyQualifiedName()}static equalsMany(e,t){return e.every((i,n)=>i.equals(t[n]))}static isAssignableFromMany(e,t){return e.every((i,n)=>i.isAssignableFrom(t[n]))}differs(e){return!this.equals(e)}valueOf(){return this.name}isAssignableFrom(e){if(!Ir.equalsMany(this.getTypeParameters(),e.getTypeParameters()))return!1;let i=this.getFullyQualifiedName();return Ir.getFullyQualifiedNamesInHierarchy(e).includes(i)?!0:e.hasClassOrSuperclass(this.getClassName())}static getFullyQualifiedNamesInHierarchy(e){return lg.getJavascriptPrototypesInHierarchy(e,n=>n.belongsToTypesystem).map(n=>n.getFullyQualifiedName.call(e))}getNamesOfDependencies(){let e=[];for(let t of this.typeParameters)e.push(t.getName()),e.push(...t.getNamesOfDependencies());return[...new Set(e)]}toJSON(){return{name:this.name,typeParameters:this.typeParameters.map(e=>e.toJSON())}}getCardinality(){return this.cardinality}belongsToTypesystem(){}};Lt.Type=Ir;Ir.ClassName="Type";var Ki=class{constructor(e,t){this.lowerBound=e,this.upperBound=t}static fixed(e){return new Ki(e,e)}static variable(e){return new Ki(0,e)}isSingular(){return this.lowerBound==1&&this.upperBound==1}isSingularOrNone(){return this.lowerBound==0&&this.upperBound==1}isComposite(){return this.upperBound!=1}isFixed(){return this.lowerBound==this.upperBound}getLowerBound(){return this.lowerBound}getUpperBound(){return this.upperBound||Ki.MaxCardinality}};Lt.TypeCardinality=Ki;Ki.MaxCardinality=4096;var Oo=class extends Ir{constructor(e){super(e)}getClassName(){return Oo.ClassName}};Lt.PrimitiveType=Oo;Oo.ClassName="PrimitiveType";var Po=class extends Ir{getClassName(){return Po.ClassName}};Lt.CustomType=Po;Po.ClassName="CustomType";var hs=class{constructor(e){this.type=e}getClassName(){return hs.ClassName}getClassHierarchy(){return lg.getJavascriptPrototypesInHierarchy(this,i=>i.belongsToTypesystem).map(i=>i.getClassName()).reverse()}getType(){return this.type}hasExactClass(e){return this.getClassName()==e}hasClassOrSuperclass(e){return this.getClassHierarchy().includes(e)}belongsToTypesystem(){}};Lt.TypedValue=hs;hs.ClassName="TypedValue";var Bo=class extends hs{constructor(e){super(e)}getClassName(){return Bo.ClassName}};Lt.PrimitiveValue=Bo;Bo.ClassName="PrimitiveValue";function SP(r){return r.belongsToTypesystem!==void 0}Lt.isTyped=SP;var Mo=class extends Ir{constructor(){super("...")}getClassName(){return Mo.ClassName}};Lt.TypePlaceholder=Mo;Mo.ClassName="TypePlaceholder";var Ro=class extends Ir{constructor(){super("?")}getClassName(){return Ro.ClassName}};Lt.NullType=Ro;Ro.ClassName="NullType"});var aA=B((Lo,Fo)=>{f();(function(r){var e=typeof Lo=="object"&&Lo&&!Lo.nodeType&&Lo,t=typeof Fo=="object"&&Fo&&!Fo.nodeType&&Fo,i=typeof global=="object"&&global;(i.global===i||i.window===i||i.self===i)&&(r=i);var n,s=2147483647,o=36,a=1,u=26,h=38,p=700,A=72,D=128,O="-",T=/^xn--/,V=/[^\x20-\x7E]/,z=/[\x2E\u3002\uFF0E\uFF61]/g,$={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},se=o-a,Y=Math.floor,j=String.fromCharCode,W;function k(w){throw new RangeError($[w])}function R(w,S){for(var N=w.length,I=[];N--;)I[N]=S(w[N]);return I}function F(w,S){var N=w.split("@"),I="";N.length>1&&(I=N[0]+"@",w=N[1]),w=w.replace(z,".");var l=w.split("."),C=R(l,S).join(".");return I+C}function G(w){for(var S=[],N=0,I=w.length,l,C;N<I;)l=w.charCodeAt(N++),l>=55296&&l<=56319&&N<I?(C=w.charCodeAt(N++),(C&64512)==56320?S.push(((l&1023)<<10)+(C&1023)+65536):(S.push(l),N--)):S.push(l);return S}function ce(w){return R(w,function(S){var N="";return S>65535&&(S-=65536,N+=j(S>>>10&1023|55296),S=56320|S&1023),N+=j(S),N}).join("")}function J(w){return w-48<10?w-22:w-65<26?w-65:w-97<26?w-97:o}function X(w,S){return w+22+75*(w<26)-((S!=0)<<5)}function E(w,S,N){var I=0;for(w=N?Y(w/p):w>>1,w+=Y(w/S);w>se*u>>1;I+=o)w=Y(w/se);return Y(I+(se+1)*w/(w+h))}function c(w){var S=[],N=w.length,I,l=0,C=D,Z=A,ie,ee,ae,v,b,x,L,P,U;for(ie=w.lastIndexOf(O),ie<0&&(ie=0),ee=0;ee<ie;++ee)w.charCodeAt(ee)>=128&&k("not-basic"),S.push(w.charCodeAt(ee));for(ae=ie>0?ie+1:0;ae<N;){for(v=l,b=1,x=o;ae>=N&&k("invalid-input"),L=J(w.charCodeAt(ae++)),(L>=o||L>Y((s-l)/b))&&k("overflow"),l+=L*b,P=x<=Z?a:x>=Z+u?u:x-Z,!(L<P);x+=o)U=o-P,b>Y(s/U)&&k("overflow"),b*=U;I=S.length+1,Z=E(l-v,I,v==0),Y(l/I)>s-C&&k("overflow"),C+=Y(l/I),l%=I,S.splice(l++,0,C)}return ce(S)}function d(w){var S,N,I,l,C,Z,ie,ee,ae,v,b,x=[],L,P,U,q;for(w=G(w),L=w.length,S=D,N=0,C=A,Z=0;Z<L;++Z)b=w[Z],b<128&&x.push(j(b));for(I=l=x.length,l&&x.push(O);I<L;){for(ie=s,Z=0;Z<L;++Z)b=w[Z],b>=S&&b<ie&&(ie=b);for(P=I+1,ie-S>Y((s-N)/P)&&k("overflow"),N+=(ie-S)*P,S=ie,Z=0;Z<L;++Z)if(b=w[Z],b<S&&++N>s&&k("overflow"),b==S){for(ee=N,ae=o;v=ae<=C?a:ae>=C+u?u:ae-C,!(ee<v);ae+=o)q=ee-v,U=o-v,x.push(j(X(v+q%U,0))),ee=Y(q/U);x.push(j(X(ee,0))),C=E(N,P,I==l),N=0,++I}++N,++S}return x.join("")}function g(w){return F(w,function(S){return T.test(S)?c(S.slice(4).toLowerCase()):S})}function m(w){return F(w,function(S){return V.test(S)?"xn--"+d(S):S})}if(n={version:"1.4.1",ucs2:{decode:G,encode:ce},decode:c,encode:d,toASCII:m,toUnicode:g},typeof define=="function"&&typeof define.amd=="object"&&define.amd)define("punycode",function(){return n});else if(e&&t)if(Fo.exports==e)t.exports=n;else for(W in n)n.hasOwnProperty(W)&&(e[W]=n[W]);else r.punycode=n})(Lo)});var fA=B((Cz,hg)=>{"use strict";f();var cA=aA();function xP(r,e){this.__proto__=new Error(e),this.__proto__.name="BackslashError",this.offset=r}function fg(r){return r>="0"&&r<="7"}function TP(r){return r>="0"&&r<="9"||r>="a"&&r<="f"||r>="A"&&r<="F"}function uA(r){return r=parseInt(r,16),cA.ucs2.encode([r])}function lA(r,e,t){var i=!1,n=[];function s(u){var h=r[u];if(!TP(h))throw new xP(u,"Unexpected token ILLEGAL");return h}for(;e<r.length;){var o=r[e];if(e++,i){switch(i=!1,o){case"n":n.push(`
`);continue;case"r":n.push("\r");continue;case"f":n.push("\f");continue;case"b":n.push("\b");continue;case"t":n.push("	");continue;case"v":n.push("\v");continue;case"\\":n.push("\\");continue}if(o==="x"){n.push(uA(s(e)+s(e+1))),e+=2;continue}if(o==="u"){n.push(uA(s(e)+s(e+1)+s(e+2)+s(e+3))),e+=4;continue}if(fg(o)){var a;fg(a=r[e])&&(e++,o+=a,fg(a=r[e])&&o[0]<="3"&&(e++,o+=a)),n.push(cA.ucs2.encode([parseInt(o,8)]));continue}n.push(o)}else if(o==="\\")i=!0;else if(o===t){e--;break}else n.push(o)}return arguments.length===3?{end:e,value:n.join("")}:n.join("")}hg.exports=function(e){return lA(e,0)};hg.exports.parseUntil=function(e,t,i){return lA(e,t,i)}});var wA=B((xz,mA)=>{f();var pA=fA();mA.exports={validate:NP,parse:DP};function NP(r,e){var t;if(e=e||!1,typeof r!="string")t="Input must be a string";else try{Yl(r,0,e,!1)}catch(i){t=i.message}return t}function DP(r,e){if(typeof r!="string")throw new Error("Input must be a string");e=e||!1;var t=Yl(r,0,e,!0);return t.value}function gA(r,e){for(var t=r.length,i=e,n,s=e;s<t;s++){var o=r[s];if(o===","){n=s;break}else if(o==="]"||o==="}"){n=s-1;break}else if(!ds(o))throw zi(r,s,"expecting end of expression or separator")}var a;return n===void 0?(n=t,a=r[n]):(a=r[n],n++),{start:i,end:n,value:a}}function OP(r,e){for(var t=r.length,i=e,n,s=e;s<t;s++){var o=r[s];if(o===":"){n=s;break}else if(!ds(o))throw zi(r,s,"expecting ':'")}if(n===void 0)throw zi(r,s,"expecting ':'");return n++,{start:i,end:n}}function Yl(r,e,t,i){for(var n=r.length,s,o,a=!1,u=!1,h=!1,p=!1,A=!1,D=!1,O,T=e;T<n;T++){var V=r[T];if(s===void 0){if(!ds(V)){if(V==="[")a=!0;else if(V==="{")u=!0;else if(V==='"')h=!0;else if(RP(r,T)){s=T,T=T+3,o=T,O=!0;break}else if(LP(r,T)){s=T,T=T+4,o=T,O=!1;break}else if(FP(r,T)){s=T,T=T+3,o=T,O=null;break}else if(hA(V))p=!0;else if(V==="-")p=!0;else throw zi(r,T,"");s=T}}else if(a){var z=MP(r,T,t,i);o=z.end,O=z.value;break}else if(u){var $=BP(r,T,t,i);o=$.end,O=$.value;break}else if(h&&V==='"'&&yA(r,T-1)){o=T,O=pA(r.substring(s+1,o));break}else if(p)if(ds(V))D=!0;else if(V===","||V==="]"||V==="}"){O=parseFloat(r.substring(s,o),10),o=T-1;break}else{if(hA(V)&&!D)continue;if(V==="."&&!A&&!D)A=!0;else throw zi(r,T,"expecting number")}}if(o===void 0)if(p)O=parseFloat(r.substring(s,T),10),o=T-1;else throw zi(r,T,"unclosed statement");return o++,{value:O,start:s,end:o}}function PP(r,e){for(var t=r.length,i,n,s=e;s<t;s++){var o=r[s];if(i===void 0){if(!ds(o)){if(o!=='"')throw zi(r,s,"expecting String");i=s}}else if(o==='"'&&yA(r,s-1)){n=s;break}}if(n===void 0)throw zi(r,t,"expecting String");var a=pA(r.substring(i+1,n));if(a==="")throw zi(r,i,"empty string");return n++,{start:i,end:n,value:a}}function BP(r,e,t,i){for(var n=e,s=",",o={},a=[],u=[],h=e;ds(r[h]);)h++;if(r[h]==="}")return{start:e,end:h,value:o};for(;s===",";){var p=PP(r,n),A=OP(r,p.end),D=Yl(r,A.end,t,i),O=gA(r,D.end);t||a.indexOf(p.value)!==-1&&(p.value=p.value+"1"),a.push(p.value),u.push(D.value),n=O.end,s=O.value}if(i){var T=0;for(T=0;T<a.length;T++)o[a[T]]=u[T]}return{start:e,end:n,value:o}}function yA(r,e){for(var t=e,i=0;t>-1&&r[t]==="\\";)i++,t--;return i%2===0}function MP(r,e,t,i){for(var n=e,s=",",o=[],a=e;ds(r[a]);)a++;if(r[a]==="]")return{start:e,end:a,value:o};for(;s===",";){var u=Yl(r,n,t,i),h=gA(r,u.end);i&&o.push(u.value),n=h.end,s=h.value}return{start:e,end:n,value:o}}function RP(r,e){return r.substr(e,4)==="true"}function LP(r,e){return r.substr(e,5)==="false"}function FP(r,e){return r.substr(e,4)==="null"}var UP=new RegExp(/^\s$/);function ds(r){return UP.test(r)}var qP=new RegExp(/^\d$/);function hA(r){return qP.test(r)}function zi(r,e,t){var i=10,n;r.length<e+i?n=r.substr(dA(r.length-i),r.length):e-i/2<0?n=r.substr(0,i):n=r.substr(dA(e-i/2),i);var s;return t?s="Syntax error: "+t+" near "+n:s="Syntax error near "+n,new Error(s)}function dA(r){return r<0?0:r}});var Jl=B(ui=>{"use strict";f();var VP=ui&&ui.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),HP=ui&&ui.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),QP=ui&&ui.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&VP(e,r,t);return HP(e,r),e};Object.defineProperty(ui,"__esModule",{value:!0});ui.TypeExpressionParser=void 0;var vA=QP(Ye()),jP=Ft(),GP=wA(),dg=class{parse(e){let t=this.doParse(e),i=Object.keys(t);if(i.length!=1)throw new vA.ErrTypingSystem(`bad type expression: ${e}`);let n=i[0];return this.nodeToType(n,t[n])}doParse(e){let t=this.getJsonedString(e);try{return GP.parse(t)}catch{throw new vA.ErrTypingSystem(`cannot parse type expression: ${e}. internal json: ${t}.`)}}getJsonedString(e){let t="";for(var i=0;i<e.length;i++){let o=e.charAt(i),a=e.charAt(i-1),u=e.charAt(i+1);o=="<"?t+=": {":o==">"?a!=">"?t+=": {} }":t+="}":o==","?u==">"||(a==">"?t+=",":t+=": {},"):t+=o}let n=/(:|\{|\}|,|\s)/,s=t.replace(/utf\-8\sstring/ig,"utf-8-string").split(n).filter(o=>o);return t=s.map(o=>n.test(o)?o:`"${o}"`).map(o=>o.replace(/utf\-8\-string/ig,"utf-8 string")).join(""),s.length==1?`{${t}: {}}`:`{${t}}`}nodeToType(e,t){e.charAt(e.length-1)==="1"&&(e=e.slice(0,-1));let i=Object.keys(t).map(n=>this.nodeToType(n,t[n]));return new jP.Type(e,i)}};ui.TypeExpressionParser=dg});var Zl=B(hn=>{"use strict";f();Object.defineProperty(hn,"__esModule",{value:!0});hn.EndpointParameterDefinition=hn.EndpointModifiers=hn.EndpointDefinition=void 0;var KP=Jl(),EA="?",zP="N / A",$u=class{constructor(e,t,i,n){this.input=[],this.output=[],this.name=e,this.input=t||[],this.output=i||[],this.modifiers=n}isConstructor(){return this.name=="constructor"}static fromJSON(e){e.name=e.name==null?EA:e.name,e.payableInTokens=e.payableInTokens||[],e.inputs=e.inputs||[],e.outputs=e.outputs||[];let t=e.inputs.map(s=>ps.fromJSON(s)),i=e.outputs.map(s=>ps.fromJSON(s)),n=new Xl(e.mutability,e.payableInTokens);return new $u(e.name,t,i,n)}};hn.EndpointDefinition=$u;var Xl=class{constructor(e,t){this.mutability=e||"",this.payableInTokens=t||[]}isPayableInEGLD(){return this.isPayableInToken("EGLD")}isPayableInToken(e){return this.payableInTokens.includes(e)?!0:this.payableInTokens.includes(`!${e}`)?!1:!!this.payableInTokens.includes("*")}isPayable(){return this.payableInTokens.length!=0}isReadonly(){return this.mutability=="readonly"}};hn.EndpointModifiers=Xl;var ps=class{constructor(e,t,i){this.name=e,this.description=t,this.type=i}static fromJSON(e){let t=new KP.TypeExpressionParser().parse(e.type);return new ps(e.name||EA,e.description||zP,t)}};hn.EndpointParameterDefinition=ps});var pg=B(ef=>{"use strict";f();Object.defineProperty(ef,"__esModule",{value:!0});ef.ContractInterface=void 0;var kP=Tr(),AA=Zl(),WP="?",Yu=class{constructor(e,t,i){this.endpoints=[],this.name=e,this.constructorDefinition=t,this.endpoints=i}static fromJSON(e){e.name=e.name||WP,e.endpoints=e.endpoints||[];let t=$P(e),i=e.endpoints.map(n=>AA.EndpointDefinition.fromJSON(n));return new Yu(e.name,t,i)}getConstructorDefinition(){return this.constructorDefinition}getEndpoint(e){let t=this.endpoints.find(i=>i.name==e);return kP.guardValueIsSetWithMessage(`endpoint [${e}] not found`,t),t}};ef.ContractInterface=Yu;function $P(r){if(r.constructor.inputs===void 0||r.constructor.outputs===void 0)return null;let e=Object.assign({name:"constructor"},r.constructor);return AA.EndpointDefinition.fromJSON(e)}});var Uo=B(pr=>{"use strict";f();var YP=pr&&pr.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),JP=pr&&pr.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),XP=pr&&pr.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&YP(e,r,t);return JP(e,r),e};Object.defineProperty(pr,"__esModule",{value:!0});pr.Fields=pr.Field=pr.FieldDefinition=void 0;var gg=XP(Ye()),ZP=Jl(),Ju=class{constructor(e,t,i){this.name=e,this.description=t,this.type=i}static fromJSON(e){let t=new ZP.TypeExpressionParser().parse(e.type);return new Ju(e.name,e.description,t)}};pr.FieldDefinition=Ju;var yg=class{constructor(e,t=""){this.value=e,this.name=t}checkTyping(e){let t=this.value.getType();if(!t.equals(e.type))throw new gg.ErrTypingSystem(`check type of field "${e.name}; expected: ${e.type}, actual: ${t}"`);if(this.name!=e.name)throw new gg.ErrTypingSystem(`check name of field "${e.name}"`)}equals(e){return this.name==e.name&&this.value.equals(e.value)}};pr.Field=yg;var mg=class{static checkTyping(e,t){if(e.length!=t.length)throw new gg.ErrTypingSystem("fields length vs. field definitions length");for(let i=0;i<e.length;i++){let n=e[i],s=t[i];n.checkTyping(s)}}static equals(e,t){if(e.length!=t.length)return!1;for(let i=0;i<e.length;i++){let n=e[i],s=t[i];if(!n.equals(s))return!1}return!0}static getNamesOfTypeDependencies(e){let t=[];for(let i of e)t.push(i.type.getName()),t.push(...i.type.getNamesOfDependencies());return[...new Set(t)]}};pr.Fields=mg});var Xu=B(pn=>{"use strict";f();Object.defineProperty(pn,"__esModule",{value:!0});pn.EnumValue=pn.EnumVariantDefinition=pn.EnumType=void 0;var eB=Ye(),wg=Tr(),tf=Uo(),_A=Ft(),IA=256,gs=class extends _A.CustomType{constructor(e,t){super(e),this.variants=[],this.variants=t}getClassName(){return gs.ClassName}static fromJSON(e){let t=(e.variants||[]).map(i=>qo.fromJSON(i));return new gs(e.name,t)}getVariantByDiscriminant(e){let t=this.variants.find(i=>i.discriminant==e);return wg.guardValueIsSet(`variant by discriminant (${e})`,t),t}getVariantByName(e){let t=this.variants.find(i=>i.name==e);return wg.guardValueIsSet(`variant by name (${e})`,t),t}getNamesOfDependencies(){let e=[];for(let t of this.variants)e.push(...t.getNamesOfDependencies());return[...new Set(e)]}};pn.EnumType=gs;gs.ClassName="EnumType";var qo=class{constructor(e,t,i=[]){this.fieldsDefinitions=[],wg.guardTrue(t<IA,`discriminant for simple enum should be less than ${IA}`),this.name=e,this.discriminant=t,this.fieldsDefinitions=i}static fromJSON(e){let t=(e.fields||[]).map(i=>tf.FieldDefinition.fromJSON(i));return new qo(e.name,e.discriminant,t)}getFieldsDefinitions(){return this.fieldsDefinitions}getFieldDefinition(e){return this.fieldsDefinitions.find(t=>t.name==e)}getNamesOfDependencies(){return tf.Fields.getNamesOfTypeDependencies(this.fieldsDefinitions)}};pn.EnumVariantDefinition=qo;var dn=class extends _A.TypedValue{constructor(e,t,i){super(e),this.fields=[],this.name=t.name,this.discriminant=t.discriminant,this.fields=i,this.fieldsByName=new Map(i.map(s=>[s.name,s]));let n=t.getFieldsDefinitions();tf.Fields.checkTyping(this.fields,n)}getClassName(){return dn.ClassName}static fromName(e,t){let i=e.getVariantByName(t);return new dn(e,i,[])}static fromDiscriminant(e,t){let i=e.getVariantByDiscriminant(t);return new dn(e,i,[])}equals(e){if(!this.getType().equals(e.getType()))return!1;let t=this.getFields(),i=e.getFields(),n=this.name==e.name,s=this.discriminant==e.discriminant,o=tf.Fields.equals(t,i);return n&&s&&o}getFields(){return this.fields}getFieldValue(e){let t=this.fieldsByName.get(e);if(t)return t.value.valueOf();throw new eB.ErrMissingFieldOnEnum(e,this.getType().getName())}valueOf(){let e={name:this.name,fields:[]};return this.fields.forEach(t=>e.fields[t.name]=t.value.valueOf()),e}};pn.EnumValue=dn;dn.ClassName="EnumValue"});var ms=B(Ho=>{"use strict";f();Object.defineProperty(Ho,"__esModule",{value:!0});Ho.Struct=Ho.StructType=void 0;var tB=Ye(),rf=Uo(),bA=Ft(),ys=class extends bA.CustomType{constructor(e,t){super(e),this.fieldsDefinitions=[],this.fieldsDefinitions=t}getClassName(){return ys.ClassName}static fromJSON(e){let t=(e.fields||[]).map(i=>rf.FieldDefinition.fromJSON(i));return new ys(e.name,t)}getFieldsDefinitions(){return this.fieldsDefinitions}getFieldDefinition(e){return this.fieldsDefinitions.find(t=>t.name==e)}getNamesOfDependencies(){return rf.Fields.getNamesOfTypeDependencies(this.fieldsDefinitions)}};Ho.StructType=ys;ys.ClassName="StructType";var Vo=class extends bA.TypedValue{constructor(e,t){super(e),this.fields=t,this.fieldsByName=new Map(t.map(i=>[i.name,i])),this.checkTyping()}getClassName(){return Vo.ClassName}checkTyping(){let t=this.getType().getFieldsDefinitions();rf.Fields.checkTyping(this.fields,t)}getFields(){return this.fields}getFieldValue(e){let t=this.fieldsByName.get(e);if(t)return t.value.valueOf();throw new tB.ErrMissingFieldOnStruct(e,this.getType().getName())}valueOf(){let e={};for(let t of this.fields)e[t.name]=t.value.valueOf();return e}equals(e){if(!this.getType().equals(e.getType()))return!1;let t=this.getFields(),i=e.getFields();return rf.Fields.equals(t,i)}};Ho.Struct=Vo;Vo.ClassName="Struct"});var Go=B(jo=>{"use strict";f();Object.defineProperty(jo,"__esModule",{value:!0});jo.AddressValue=jo.AddressType=void 0;var rB=Gr(),CA=Ft(),ws=class extends CA.PrimitiveType{constructor(){super("Address")}getClassName(){return ws.ClassName}};jo.AddressType=ws;ws.ClassName="AddressType";var Qo=class extends CA.PrimitiveValue{constructor(e){super(new ws),this.value=new rB.Address(e.bech32())}getClassName(){return Qo.ClassName}equals(e){return this.value.equals(e.value)}valueOf(){return this.value}};jo.AddressValue=Qo;Qo.ClassName="AddressValue"});var nf=B(Ko=>{"use strict";f();Object.defineProperty(Ko,"__esModule",{value:!0});Ko.OptionalValue=Ko.OptionalType=void 0;var iB=Tr(),Zu=Ft(),gn=class extends Zu.Type{constructor(e){super("Optional",[e],Zu.TypeCardinality.variable(1))}getClassName(){return gn.ClassName}isAssignableFrom(e){if(!e.hasExactClass(gn.ClassName))return!1;let t=this.getFirstTypeParameter().equals(e.getFirstTypeParameter()),i=e.getFirstTypeParameter().hasExactClass(Zu.NullType.ClassName);return t||i}};Ko.OptionalType=gn;gn.ClassName="OptionalType";var vs=class extends Zu.TypedValue{constructor(e,t=null){super(e),this.value=t}getClassName(){return vs.ClassName}static newMissing(){let e=new gn(new Zu.NullType);return new vs(e)}isSet(){return!!this.value}getTypedValue(){return iB.guardValueIsSet("value",this.value),this.value}valueOf(){return this.value?this.value.valueOf():null}equals(e){var t;return((t=this.value)===null||t===void 0?void 0:t.equals(e.value))||!1}};Ko.OptionalValue=vs;vs.ClassName="OptionalValue"});var ec=B(ko=>{"use strict";f();Object.defineProperty(ko,"__esModule",{value:!0});ko.BooleanValue=ko.BooleanType=void 0;var SA=Ft(),Es=class extends SA.PrimitiveType{constructor(){super("bool")}getClassName(){return Es.ClassName}};ko.BooleanType=Es;Es.ClassName="BooleanType";var zo=class extends SA.PrimitiveValue{constructor(e){super(new Es),this.value=e}getClassName(){return zo.ClassName}equals(e){return this.value===e.value}isTrue(){return this.value===!0}isFalse(){return!this.isTrue()}valueOf(){return this.value}};ko.BooleanValue=zo;zo.ClassName="BooleanValue"});var mn=B(Wo=>{"use strict";f();Object.defineProperty(Wo,"__esModule",{value:!0});Wo.BytesValue=Wo.BytesType=void 0;var xA=Ft(),As=class extends xA.PrimitiveType{constructor(){super("bytes")}getClassName(){return As.ClassName}};Wo.BytesType=As;As.ClassName="BytesType";var yn=class extends xA.PrimitiveValue{constructor(e){super(new As),this.value=e}getClassName(){return yn.ClassName}static fromUTF8(e){let t=y.Buffer.from(e,"utf-8");return new yn(t)}static fromHex(e){let t=y.Buffer.from(e,"hex");return new yn(t)}getLength(){return this.value.length}equals(e){return this.getLength()!=e.getLength()?!1:this.value.equals(e.value)}valueOf(){return this.value}toString(){return this.value.toString()}};Wo.BytesValue=yn;yn.ClassName="BytesValue"});var NA=B($o=>{"use strict";f();Object.defineProperty($o,"__esModule",{value:!0});$o.CodeMetadataValue=$o.CodeMetadataType=void 0;var TA=Ft(),sf=class extends TA.PrimitiveType{constructor(){super("CodeMetadata")}};$o.CodeMetadataType=sf;var vg=class extends TA.PrimitiveValue{constructor(e){super(new sf),this.value=e}equals(e){return this.value.equals(e.value)}valueOf(){return this.value}};$o.CodeMetadataValue=vg});var of=B(Yo=>{"use strict";f();Object.defineProperty(Yo,"__esModule",{value:!0});Yo.CompositeValue=Yo.CompositeType=void 0;var nB=Tr(),Eg=Ft(),Is=class extends Eg.Type{constructor(...e){super("Composite",e,Eg.TypeCardinality.variable(e.length))}getClassName(){return Is.ClassName}};Yo.CompositeType=Is;Is.ClassName="CompositeType";var _s=class extends Eg.TypedValue{constructor(e,t){super(e),nB.guardLength(t,e.getTypeParameters().length),this.items=t}getClassName(){return _s.ClassName}static fromItems(...e){let t=e.map(n=>n.getType()),i=new Is(...t);return new _s(i,e)}getItems(){return this.items}valueOf(){return this.items.map(e=>e?.valueOf())}equals(e){if(this.getType().differs(e.getType()))return!1;for(let t=0;t<this.items.length;t++){let i=this.items[t],n=e.items[t];if(!i.equals(n))return!1}return!0}};Yo.CompositeValue=_s;_s.ClassName="CompositeValue"});var Ig=B(af=>{"use strict";f();Object.defineProperty(af,"__esModule",{value:!0});af.CollectionOfTypedValues=void 0;var Ag=class{constructor(e){this.items=e}getLength(){return this.items.length}getItems(){return this.items}valueOf(){return this.items.map(e=>e.valueOf())}equals(e){if(this.getLength()!=e.getLength())return!1;for(let t=0;t<this.getLength();t++){let i=this.items[t],n=e.items[t];if(!i.equals(n))return!1}return!0}};af.CollectionOfTypedValues=Ag});var tc=B(ci=>{"use strict";f();Object.defineProperty(ci,"__esModule",{value:!0});ci.List=ci.OptionValue=ci.ListType=ci.OptionType=void 0;var sB=Tr(),oB=Ig(),bs=Ft(),li=class extends bs.Type{constructor(e){super("Option",[e])}getClassName(){return li.ClassName}isAssignableFrom(e){if(!e.hasExactClass(li.ClassName))return!1;let t=this.getFirstTypeParameter().equals(e.getFirstTypeParameter()),i=e.getFirstTypeParameter().hasExactClass(bs.NullType.ClassName);return t||i}};ci.OptionType=li;li.ClassName="OptionType";var Cs=class extends bs.Type{constructor(e){super("List",[e])}getClassName(){return Cs.ClassName}};ci.ListType=Cs;Cs.ClassName="ListType";var ki=class extends bs.TypedValue{constructor(e,t=null){super(e),this.value=t}getClassName(){return ki.ClassName}static newMissing(){let e=new li(new bs.NullType);return new ki(e)}static newMissingTyped(e){return new ki(new li(e))}static newProvided(e){let t=new li(e.getType());return new ki(t,e)}isSet(){return!!this.value}getTypedValue(){return sB.guardValueIsSet("value",this.value),this.value}valueOf(){return this.value?this.value.valueOf():null}equals(e){var t;return((t=this.value)===null||t===void 0?void 0:t.equals(e.value))||!1}};ci.OptionValue=ki;ki.ClassName="OptionValue";var wn=class extends bs.TypedValue{constructor(e,t){super(e),this.backingCollection=new oB.CollectionOfTypedValues(t)}getClassName(){return wn.ClassName}static fromItems(e){if(e.length==0)return new wn(new bs.TypePlaceholder,[]);let t=e[0].getType(),i=new Cs(t);return new wn(i,e)}getLength(){return this.backingCollection.getLength()}getItems(){return this.backingCollection.getItems()}valueOf(){return this.backingCollection.valueOf()}equals(e){return this.backingCollection.equals(e.backingCollection)}};ci.List=wn;wn.ClassName="List"});var uf=B(Zo=>{"use strict";f();Object.defineProperty(Zo,"__esModule",{value:!0});Zo.ArrayVec=Zo.ArrayVecType=void 0;var DA=Tr(),aB=Ig(),OA=Ft(),Jo=class extends OA.Type{constructor(e,t){super("Array",[t]),DA.guardTrue(e>0,"array length > 0"),this.length=e}getClassName(){return Jo.ClassName}};Zo.ArrayVecType=Jo;Jo.ClassName="ArrayVecType";var Xo=class extends OA.TypedValue{constructor(e,t){super(e),DA.guardLength(t,e.length),this.backingCollection=new aB.CollectionOfTypedValues(t)}getClassName(){return Xo.ClassName}getLength(){return this.backingCollection.getLength()}getItems(){return this.backingCollection.getItems()}valueOf(){return this.backingCollection.valueOf()}equals(e){return this.backingCollection.equals(e.backingCollection)}};Zo.ArrayVec=Xo;Xo.ClassName="ArrayVec"});var rc=B(ta=>{"use strict";f();Object.defineProperty(ta,"__esModule",{value:!0});ta.H256Value=ta.H256Type=void 0;var PA=Ft(),Ss=class extends PA.PrimitiveType{constructor(){super("H256")}getClassName(){return Ss.ClassName}};ta.H256Type=Ss;Ss.ClassName="H256Type";var ea=class extends PA.PrimitiveValue{constructor(e){super(new Ss),this.value=e}getClassName(){return ea.ClassName}equals(e){return this.value.equals(e.value)}valueOf(){return this.value}};ta.H256Value=ea;ea.ClassName="H256Value"});var cf=B(ia=>{"use strict";f();Object.defineProperty(ia,"__esModule",{value:!0});ia.NothingValue=ia.NothingType=void 0;var BA=Ft(),xs=class extends BA.PrimitiveType{constructor(){super("nothing")}getClassName(){return xs.ClassName}};ia.NothingType=xs;xs.ClassName="NothingType";var ra=class extends BA.PrimitiveValue{constructor(){super(new xs)}getClassName(){return ra.ClassName}equals(e){return!1}valueOf(){return{}}};ia.NothingValue=ra;ra.ClassName="NothingValue"});var ic=B(Ae=>{"use strict";f();var uB=Ae&&Ae.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),cB=Ae&&Ae.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),lB=Ae&&Ae.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&uB(e,r,t);return cB(e,r),e},fB=Ae&&Ae.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ae,"__esModule",{value:!0});Ae.BigIntValue=Ae.BigUIntValue=Ae.I64Value=Ae.U64Value=Ae.I32Value=Ae.U32Value=Ae.I16Value=Ae.U16Value=Ae.I8Value=Ae.U8Value=Ae.NumericalValue=Ae.BigIntType=Ae.BigUIntType=Ae.I64Type=Ae.U64Type=Ae.I32Type=Ae.U32Type=Ae.I16Type=Ae.U16Type=Ae.I8Type=Ae.U8Type=Ae.NumericalType=void 0;var MA=lB(Ye()),RA=Ft(),Us=fB(jr()),rr=class extends RA.PrimitiveType{constructor(e,t,i){super(e),this.sizeInBytes=t,this.withSign=i}getClassName(){return rr.ClassName}hasFixedSize(){return!!this.sizeInBytes}hasArbitrarySize(){return!this.hasFixedSize()}};Ae.NumericalType=rr;rr.ClassName="NumericalType";var Ts=class extends rr{constructor(){super("u8",1,!1)}getClassName(){return Ts.ClassName}};Ae.U8Type=Ts;Ts.ClassName="U8Type";var Ns=class extends rr{constructor(){super("i8",1,!0)}getClassName(){return Ns.ClassName}};Ae.I8Type=Ns;Ns.ClassName="I8Type";var Ds=class extends rr{constructor(){super("u16",2,!1)}getClassName(){return Ds.ClassName}};Ae.U16Type=Ds;Ds.ClassName="U16Type";var Os=class extends rr{constructor(){super("i16",2,!0)}getClassName(){return Os.ClassName}};Ae.I16Type=Os;Os.ClassName="I16Type";var Ps=class extends rr{constructor(){super("u32",4,!1)}getClassName(){return Ps.ClassName}};Ae.U32Type=Ps;Ps.ClassName="U32Type";var Bs=class extends rr{constructor(){super("i32",4,!0)}getClassName(){return Bs.ClassName}};Ae.I32Type=Bs;Bs.ClassName="I32Type";var Ms=class extends rr{constructor(){super("u64",8,!1)}getClassName(){return Ms.ClassName}};Ae.U64Type=Ms;Ms.ClassName="U64Type";var Rs=class extends rr{constructor(){super("i64",8,!0)}getClassName(){return Rs.ClassName}};Ae.I64Type=Rs;Rs.ClassName="I64Type";var Ls=class extends rr{constructor(){super("BigUint",0,!1)}getClassName(){return Ls.ClassName}};Ae.BigUIntType=Ls;Ls.ClassName="BigUIntType";var Fs=class extends rr{constructor(){super("Bigint",0,!0)}getClassName(){return Fs.ClassName}};Ae.BigIntType=Fs;Fs.ClassName="BigIntType";var ir=class extends RA.PrimitiveValue{constructor(e,t){if(super(e),this.value=new Us.default(t),this.sizeInBytes=e.sizeInBytes,this.withSign=e.withSign,this.value.isNaN())throw new MA.ErrInvalidArgument(`not a number: ${t}`);if(!this.withSign&&this.value.isNegative())throw new MA.ErrInvalidArgument(`negative, but type is unsigned: ${t}`)}getClassName(){return ir.ClassName}equals(e){return this.value.isEqualTo(e.value)}valueOf(){return this.value}toString(){return this.value.toString()}};Ae.NumericalValue=ir;ir.ClassName="NumericalValue";var na=class extends ir{constructor(e){super(new Ts,new Us.default(e))}getClassName(){return na.ClassName}};Ae.U8Value=na;na.ClassName="U8Value";var sa=class extends ir{constructor(e){super(new Ns,new Us.default(e))}getClassName(){return sa.ClassName}};Ae.I8Value=sa;sa.ClassName="I8Value";var oa=class extends ir{constructor(e){super(new Ds,new Us.default(e))}getClassName(){return oa.ClassName}};Ae.U16Value=oa;oa.ClassName="U16Value";var aa=class extends ir{constructor(e){super(new Os,new Us.default(e))}getClassName(){return aa.ClassName}};Ae.I16Value=aa;aa.ClassName="I16Value";var ua=class extends ir{constructor(e){super(new Ps,new Us.default(e))}getClassName(){return ua.ClassName}};Ae.U32Value=ua;ua.ClassName="U32Value";var ca=class extends ir{constructor(e){super(new Bs,new Us.default(e))}getClassName(){return ca.ClassName}};Ae.I32Value=ca;ca.ClassName="I32Value";var la=class extends ir{constructor(e){super(new Ms,e)}getClassName(){return la.ClassName}};Ae.U64Value=la;la.ClassName="U64Value";var fa=class extends ir{constructor(e){super(new Rs,e)}getClassName(){return fa.ClassName}};Ae.I64Value=fa;fa.ClassName="I64Value";var ha=class extends ir{constructor(e){super(new Ls,e)}getClassName(){return ha.ClassName}};Ae.BigUIntValue=ha;ha.ClassName="BigUIntValue";var da=class extends ir{constructor(e){super(new Fs,e)}getClassName(){return da.ClassName}};Ae.BigIntValue=da;da.ClassName="BigIntValue"});var lf=B(pa=>{"use strict";f();Object.defineProperty(pa,"__esModule",{value:!0});pa.StringValue=pa.StringType=void 0;var LA=Ft(),qs=class extends LA.PrimitiveType{constructor(){super("utf-8 string")}getClassName(){return qs.ClassName}};pa.StringType=qs;qs.ClassName="StringType";var vn=class extends LA.PrimitiveValue{constructor(e){super(new qs),this.value=e}getClassName(){return vn.ClassName}static fromUTF8(e){return new vn(e)}static fromHex(e){let t=y.Buffer.from(e,"hex").toString();return new vn(t)}getLength(){return this.value.length}equals(e){return this.value===e.value}valueOf(){return this.value}};pa.StringValue=vn;vn.ClassName="StringValue"});var ya=B(ga=>{"use strict";f();Object.defineProperty(ga,"__esModule",{value:!0});ga.TokenIdentifierValue=ga.TokenIdentifierType=void 0;var FA=Ft(),hB="EGLD",Vs=class extends FA.PrimitiveType{constructor(){super("TokenIdentifier")}getClassName(){return Vs.ClassName}};ga.TokenIdentifierType=Vs;Vs.ClassName="TokenIdentifierType";var En=class extends FA.PrimitiveValue{constructor(e){super(new Vs),this.value=e}static egld(){return new En(hB)}static esdtTokenIdentifier(e){return new En(e)}getClassName(){return En.ClassName}getLength(){return this.value.length}equals(e){return this.getLength()!=e.getLength()?!1:this.value==e.value}valueOf(){return this.value}toString(){return this.value.toString()}};ga.TokenIdentifierValue=En;En.ClassName="TokenIdentifierValue"});var ff=B(Nr=>{"use strict";f();var dB=Nr&&Nr.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),pB=Nr&&Nr.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),gB=Nr&&Nr.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&dB(e,r,t);return pB(e,r),e};Object.defineProperty(Nr,"__esModule",{value:!0});Nr.Tuple=Nr.TupleType=void 0;var yB=gB(Ye()),mB=ms(),UA=Uo(),wB=ms(),Wi=class extends wB.StructType{constructor(...e){super(Wi.prepareName(e),Wi.prepareFieldDefinitions(e))}getClassName(){return Wi.ClassName}static prepareName(e){let t=e.map(n=>n.toString()).join(", ");return`tuple${t.length}<${t}>`}static prepareFieldDefinitions(e){return e.map((i,n)=>new UA.FieldDefinition(qA(n),"anonymous tuple field",i))}};Nr.TupleType=Wi;Wi.ClassName="TupleType";function qA(r){return`field${r}`}var Hs=class extends mB.Struct{constructor(e,t){super(e,t)}getClassName(){return Hs.ClassName}static fromItems(e){if(e.length<1)throw new yB.ErrTypingSystem("bad tuple items");let t=e.map(s=>s.getType()),i=new Wi(...t),n=e.map((s,o)=>new UA.Field(s,qA(o)));return new Hs(i,n)}};Nr.Tuple=Hs;Hs.ClassName="Tuple"});var df=B(ma=>{"use strict";f();Object.defineProperty(ma,"__esModule",{value:!0});ma.VariadicValue=ma.VariadicType=void 0;var hf=Ft(),In=class extends hf.Type{constructor(e){super("Variadic",[e],hf.TypeCardinality.variable())}getClassName(){return In.ClassName}};ma.VariadicType=In;In.ClassName="VariadicType";var An=class extends hf.TypedValue{constructor(e,t){super(e),this.items=t}getClassName(){return An.ClassName}static fromItems(...e){if(e.length==0)return new An(new In(new hf.TypePlaceholder),[]);let t=e[0].getType();return new An(new In(t),e)}getItems(){return this.items}valueOf(){return this.items.map(e=>e.valueOf())}equals(e){if(this.getType().differs(e.getType()))return!1;for(let t=0;t<this.items.length;t++){let i=this.items[t],n=e.items[t];if(!i.equals(n))return!1}return!0}};ma.VariadicValue=An;An.ClassName="VariadicValue"});var xg=B(fi=>{"use strict";f();var vB=fi&&fi.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),EB=fi&&fi.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),AB=fi&&fi.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&vB(e,r,t);return EB(e,r),e};Object.defineProperty(fi,"__esModule",{value:!0});fi.TypeMapper=void 0;var VA=AB(Ye()),IB=Go(),_g=nf(),_B=ec(),bB=mn(),CB=NA(),pf=of(),bg=Xu(),SB=Uo(),HA=tc(),gf=uf(),xB=rc(),QA=cf(),Dr=ic(),TB=lf(),jA=ms(),GA=ya(),_n=ff(),Cg=df(),Sg=class{constructor(e=[]){this.openTypesFactories=new Map([["Option",(...t)=>new HA.OptionType(t[0])],["List",(...t)=>new HA.ListType(t[0])],["VarArgs",(...t)=>new Cg.VariadicType(t[0])],["MultiResultVec",(...t)=>new Cg.VariadicType(t[0])],["variadic",(...t)=>new Cg.VariadicType(t[0])],["OptionalArg",(...t)=>new _g.OptionalType(t[0])],["optional",(...t)=>new _g.OptionalType(t[0])],["OptionalResult",(...t)=>new _g.OptionalType(t[0])],["multi",(...t)=>new pf.CompositeType(...t)],["MultiArg",(...t)=>new pf.CompositeType(...t)],["MultiResult",(...t)=>new pf.CompositeType(...t)],["multi",(...t)=>new pf.CompositeType(...t)],["tuple",(...t)=>new _n.TupleType(...t)],["tuple2",(...t)=>new _n.TupleType(...t)],["tuple3",(...t)=>new _n.TupleType(...t)],["tuple4",(...t)=>new _n.TupleType(...t)],["tuple5",(...t)=>new _n.TupleType(...t)],["tuple6",(...t)=>new _n.TupleType(...t)],["tuple7",(...t)=>new _n.TupleType(...t)],["tuple8",(...t)=>new _n.TupleType(...t)],["array20",(...t)=>new gf.ArrayVecType(20,t[0])],["array32",(...t)=>new gf.ArrayVecType(32,t[0])],["array46",(...t)=>new gf.ArrayVecType(46,t[0])],["array64",(...t)=>new gf.ArrayVecType(64,t[0])]]),this.closedTypesMap=new Map([["u8",new Dr.U8Type],["u16",new Dr.U16Type],["u32",new Dr.U32Type],["u64",new Dr.U64Type],["U64",new Dr.U64Type],["BigUint",new Dr.BigUIntType],["i8",new Dr.I8Type],["i16",new Dr.I16Type],["i32",new Dr.I32Type],["i64",new Dr.I64Type],["Bigint",new Dr.BigIntType],["BigInt",new Dr.BigIntType],["bool",new _B.BooleanType],["bytes",new bB.BytesType],["Address",new IB.AddressType],["H256",new xB.H256Type],["utf-8 string",new TB.StringType],["TokenIdentifier",new GA.TokenIdentifierType],["EgldOrEsdtTokenIdentifier",new GA.TokenIdentifierType],["CodeMetadata",new CB.CodeMetadataType],["nothing",new QA.NothingType],["AsyncCall",new QA.NothingType]]),this.learnedTypesMap=new Map;for(let t of e)this.learnedTypesMap.set(t.getName(),t)}mapType(e){let t=this.mapTypeRecursively(e);if(t)return t.isGenericType()||this.learnType(t),t;throw new VA.ErrTypingSystem(`Cannot map the type "${e.getName()}" to a known type`)}mapTypeRecursively(e){let t=e.isGenericType(),i=this.learnedTypesMap.get(e.getName());if(i)return i;let n=this.closedTypesMap.get(e.getName());return n||(e.hasExactClass(bg.EnumType.ClassName)?this.mapEnumType(e):e.hasExactClass(jA.StructType.ClassName)?this.mapStructType(e):t?this.mapGenericType(e):null)}learnType(e){this.learnedTypesMap.delete(e.getName()),this.learnedTypesMap.set(e.getName(),e)}mapStructType(e){let t=this.mappedFields(e.getFieldsDefinitions());return new jA.StructType(e.getName(),t)}mapEnumType(e){let t=e.variants.map(n=>new bg.EnumVariantDefinition(n.name,n.discriminant,this.mappedFields(n.getFieldsDefinitions())));return new bg.EnumType(e.getName(),t)}mappedFields(e){return e.map(t=>new SB.FieldDefinition(t.name,t.description,this.mapType(t.type)))}mapGenericType(e){let i=e.getTypeParameters().map(s=>this.mapType(s)),n=this.openTypesFactories.get(e.getName());if(!n)throw new VA.ErrTypingSystem(`Cannot map the generic type "${e.getName()}" to a known type`);return n(...i)}};fi.TypeMapper=Sg});var YA=B(hi=>{"use strict";f();var NB=hi&&hi.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),DB=hi&&hi.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),OB=hi&&hi.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&NB(e,r,t);return DB(e,r),e};Object.defineProperty(hi,"__esModule",{value:!0});hi.AbiRegistry=void 0;var KA=OB(Ye()),Tg=Tr(),zA=pg(),Ng=Zl(),kA=Xu(),WA=ms(),PB=xg(),wa=class{constructor(){this.interfaces=[],this.customTypes=[]}static create(e){return new wa().extend(e).remapToKnownTypes()}extend(e){e.types=e.types||{};let t=zA.ContractInterface.fromJSON(e);this.interfaces.push(t);for(let i in e.types){let n=e.types[i],s=n.type;n.name=i;let o=this.createCustomType(s,n);this.customTypes.push(o)}return this}createCustomType(e,t){if(e=="struct")return WA.StructType.fromJSON(t);if(e=="enum")return kA.EnumType.fromJSON(t);throw new KA.ErrTypingSystem(`Unknown type discriminant: ${e}`)}getInterface(e){let t=this.interfaces.find(i=>i.name==e);return Tg.guardValueIsSetWithMessage(`interface [${e}] not found`,t),t}getInterfaces(e){return e.map(t=>this.getInterface(t))}getStruct(e){let t=this.customTypes.find(i=>i.getName()==e&&i.hasExactClass(WA.StructType.ClassName));return Tg.guardValueIsSetWithMessage(`struct [${e}] not found`,t),t}getStructs(e){return e.map(t=>this.getStruct(t))}getEnum(e){let t=this.customTypes.find(i=>i.getName()==e&&i.hasExactClass(kA.EnumType.ClassName));return Tg.guardValueIsSetWithMessage(`enum [${e}] not found`,t),t}getEnums(e){return e.map(t=>this.getEnum(t))}remapToKnownTypes(){let e=new PB.TypeMapper([]),t=[],i=[];for(let s of this.customTypes)this.mapCustomTypeDepthFirst(s,this.customTypes,e,t);if(this.customTypes.length!=t.length)throw new KA.ErrTypingSystem("Did not re-map all custom types");for(let s of this.interfaces){let o=[];for(let u of s.endpoints)o.push($A(u,e));let a=s.constructorDefinition?$A(s.constructorDefinition,e):null;i.push(new zA.ContractInterface(s.name,a,o))}let n=new wa;return n.customTypes.push(...t),n.interfaces.push(...i),n}mapCustomTypeDepthFirst(e,t,i,n){if(n.findIndex(a=>a.getName()==e.getName())>=0)return;for(let a of e.getNamesOfDependencies()){let u=t.find(h=>h.getName()==a);u&&this.mapCustomTypeDepthFirst(u,t,i,n)}let o=i.mapType(e);n.push(o)}};hi.AbiRegistry=wa;function $A(r,e){let t=r.input.map(n=>new Ng.EndpointParameterDefinition(n.name,n.description,e.mapType(n.type))),i=r.output.map(n=>new Ng.EndpointParameterDefinition(n.name,n.description,e.mapType(n.type)));return new Ng.EndpointDefinition(r.name,t,i,r.modifiers)}});var XA=B(va=>{"use strict";f();Object.defineProperty(va,"__esModule",{value:!0});va.createListOfTokenIdentifiers=va.createListOfAddresses=void 0;var BB=Go(),JA=tc(),MB=ya();function RB(r){let e=r.map(i=>new BB.AddressValue(i));return JA.List.fromItems(e)}va.createListOfAddresses=RB;function LB(r){let e=r.map(i=>new MB.TokenIdentifierValue(i));return JA.List.fromItems(e)}va.createListOfTokenIdentifiers=LB});var hI=B(nr=>{"use strict";f();var FB=nr&&nr.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),UB=nr&&nr.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),qB=nr&&nr.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&FB(e,r,t);return UB(e,r),e};Object.defineProperty(nr,"__esModule",{value:!0});nr.onPrimitiveTypeSelect=nr.onPrimitiveValueSelect=nr.onTypedValueSelect=nr.onTypeSelect=void 0;var mf=qB(Ye()),ZA=Go(),eI=ec(),tI=mn(),rI=Xu(),yf=tc(),iI=rc(),nI=ic(),sI=cf(),oI=ms(),aI=ya(),uI=ff(),cI=Ft(),lI=uf(),fI=lf();function VB(r,e){if(r.hasExactClass(yf.OptionType.ClassName))return e.onOption();if(r.hasExactClass(yf.ListType.ClassName))return e.onList();if(r.hasExactClass(lI.ArrayVecType.ClassName))return e.onArray();if(r.hasClassOrSuperclass(cI.PrimitiveType.ClassName))return e.onPrimitive();if(r.hasExactClass(oI.StructType.ClassName))return e.onStruct();if(r.hasExactClass(uI.TupleType.ClassName))return e.onTuple();if(r.hasExactClass(rI.EnumType.ClassName))return e.onEnum();if(e.onOther)return e.onOther();throw new mf.ErrTypingSystem(`type isn't known: ${r}`)}nr.onTypeSelect=VB;function HB(r,e){if(r.hasClassOrSuperclass(cI.PrimitiveValue.ClassName))return e.onPrimitive();if(r.hasExactClass(yf.OptionValue.ClassName))return e.onOption();if(r.hasExactClass(yf.List.ClassName))return e.onList();if(r.hasExactClass(lI.ArrayVec.ClassName))return e.onArray();if(r.hasExactClass(oI.Struct.ClassName))return e.onStruct();if(r.hasExactClass(uI.Tuple.ClassName))return e.onTuple();if(r.hasExactClass(rI.EnumValue.ClassName))return e.onEnum();if(e.onOther)return e.onOther();throw new mf.ErrTypingSystem(`value isn't typed: ${r}`)}nr.onTypedValueSelect=HB;function QB(r,e){if(r.hasExactClass(eI.BooleanValue.ClassName))return e.onBoolean();if(r.hasClassOrSuperclass(nI.NumericalValue.ClassName))return e.onNumerical();if(r.hasExactClass(ZA.AddressValue.ClassName))return e.onAddress();if(r.hasExactClass(tI.BytesValue.ClassName))return e.onBytes();if(r.hasExactClass(fI.StringValue.ClassName))return e.onString();if(r.hasExactClass(iI.H256Value.ClassName))return e.onH256();if(r.hasExactClass(aI.TokenIdentifierValue.ClassName))return e.onTypeIdentifier();if(r.hasExactClass(sI.NothingValue.ClassName))return e.onNothing();if(e.onOther)return e.onOther();throw new mf.ErrTypingSystem(`value isn't a primitive: ${r.getType()}`)}nr.onPrimitiveValueSelect=QB;function jB(r,e){if(r.hasExactClass(eI.BooleanType.ClassName))return e.onBoolean();if(r.hasClassOrSuperclass(nI.NumericalType.ClassName))return e.onNumerical();if(r.hasExactClass(ZA.AddressType.ClassName))return e.onAddress();if(r.hasExactClass(tI.BytesType.ClassName))return e.onBytes();if(r.hasExactClass(fI.StringType.ClassName))return e.onString();if(r.hasExactClass(iI.H256Type.ClassName))return e.onH256();if(r.hasExactClass(aI.TokenIdentifierType.ClassName))return e.onTokenIndetifier();if(r.hasExactClass(sI.NothingType.ClassName))return e.onNothing();if(e.onOther)return e.onOther();throw new mf.ErrTypingSystem(`type isn't a known primitive: ${r}`)}nr.onPrimitiveTypeSelect=jB});var sr=B(Ve=>{"use strict";f();var GB=Ve&&Ve.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),Je=Ve&&Ve.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&GB(e,r,t)};Object.defineProperty(Ve,"__esModule",{value:!0});Je(YA(),Ve);Je(Go(),Ve);Je(nf(),Ve);Je(ec(),Ve);Je(mn(),Ve);Je(of(),Ve);Je(pg(),Ve);Je(Zl(),Ve);Je(Xu(),Ve);Je(XA(),Ve);Je(Uo(),Ve);Je(tc(),Ve);Je(uf(),Ve);Je(rc(),Ve);Je(hI(),Ve);Je(cf(),Ve);Je(ic(),Ve);Je(lf(),Ve);Je(ms(),Ve);Je(ff(),Ve);Je(ya(),Ve);Je(Jl(),Ve);Je(xg(),Ve);Je(Ft(),Ve);Je(df(),Ve)});var pI=B(di=>{"use strict";f();var KB=di&&di.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),zB=di&&di.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),kB=di&&di.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&KB(e,r,t);return zB(e,r),e};Object.defineProperty(di,"__esModule",{value:!0});di.OptionValueBinaryCodec=void 0;var dI=kB(Ye()),wf=sr(),Dg=class{constructor(e){this.binaryCodec=e}decodeNested(e,t){if(e[0]==0)return[wf.OptionValue.newMissingTyped(t),1];if(e[0]!=1)throw new dI.ErrCodec("invalid buffer for optional value");let[i,n]=this.binaryCodec.decodeNested(e.slice(1),t);return[wf.OptionValue.newProvided(i),n+1]}decodeTopLevel(e,t){if(e.length==0)return new wf.OptionValue(t);if(e[0]!=1)throw new dI.ErrCodec("invalid buffer for optional value");let[i,n]=this.binaryCodec.decodeNested(e.slice(1),t);return new wf.OptionValue(t,i)}encodeNested(e){return e.isSet()?y.Buffer.concat([y.Buffer.from([1]),this.binaryCodec.encodeNested(e.getTypedValue())]):y.Buffer.from([0])}encodeTopLevel(e){return e.isSet()?y.Buffer.concat([y.Buffer.from([1]),this.binaryCodec.encodeNested(e.getTypedValue())]):y.Buffer.from([])}};di.OptionValueBinaryCodec=Dg});var gI=B(vf=>{"use strict";f();Object.defineProperty(vf,"__esModule",{value:!0});vf.AddressBinaryCodec=void 0;var WB=Gr(),$B=sr(),Og=class{decodeNested(e){let t=e.slice(0,32),i=new WB.Address(t);return[new $B.AddressValue(i),32]}decodeTopLevel(e){let[t,i]=this.decodeNested(e);return t}encodeNested(e){return e.valueOf().pubkey()}encodeTopLevel(e){return e.valueOf().pubkey()}};vf.AddressBinaryCodec=Og});var mI=B(pi=>{"use strict";f();var YB=pi&&pi.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),JB=pi&&pi.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),XB=pi&&pi.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&YB(e,r,t);return JB(e,r),e};Object.defineProperty(pi,"__esModule",{value:!0});pi.BooleanBinaryCodec=void 0;var ZB=XB(Ye()),yI=sr(),Kr=class{decodeNested(e){let t=e.readUInt8(0);return[new yI.BooleanValue(t==Kr.TRUE),1]}decodeTopLevel(e){if(e.length>1)throw new ZB.ErrInvalidArgument("buffer should be of size <= 1");let t=e[0];return new yI.BooleanValue(t==Kr.TRUE)}encodeNested(e){return e.isTrue()?y.Buffer.from([Kr.TRUE]):y.Buffer.from([Kr.FALSE])}encodeTopLevel(e){return e.isTrue()?y.Buffer.from([Kr.TRUE]):y.Buffer.from([])}};pi.BooleanBinaryCodec=Kr;Kr.TRUE=1;Kr.FALSE=0});var Af=B(Ef=>{"use strict";f();Object.defineProperty(Ef,"__esModule",{value:!0});Ef.SizeOfU32=void 0;Ef.SizeOfU32=4});var vI=B(gi=>{"use strict";f();var eM=gi&&gi.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(gi,"__esModule",{value:!0});gi.zeroPadStringIfOddLength=gi.isPaddedHex=gi.numberToPaddedHex=void 0;var tM=eM(jr());function rM(r){let e=new tM.default(r).toString(16);return wI(e)}gi.numberToPaddedHex=rM;function iM(r){r=r||"";let e=y.Buffer.from(r,"hex").toString("hex");return r.toUpperCase()==e.toUpperCase()}gi.isPaddedHex=iM;function wI(r){return r=r||"",r.length%2==1?"0"+r:r}gi.zeroPadStringIfOddLength=wI});var Bg=B(Ut=>{"use strict";f();var nM=Ut&&Ut.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ut,"__esModule",{value:!0});Ut.prependByteToBuffer=Ut.flipBufferBitsInPlace=Ut.getHexMagnitudeOfBigInt=Ut.bigIntToBuffer=Ut.bufferToBigInt=Ut.cloneBuffer=Ut.isMsbZero=Ut.isMsbOne=void 0;var Pg=nM(jr()),sM=vI();function EI(r,e=0){return r[e]>>7==1}Ut.isMsbOne=EI;function oM(r,e=0){return!EI(r,e)}Ut.isMsbZero=oM;function aM(r){let e=y.Buffer.alloc(r.length);return r.copy(e),e}Ut.cloneBuffer=aM;function uM(r){let e=r.toString("hex");return new Pg.default(`0x${e}`,16)}Ut.bufferToBigInt=uM;function cM(r){let e=AI(r);return y.Buffer.from(e,"hex")}Ut.bigIntToBuffer=cM;function AI(r){return r=new Pg.default(r),r?(r.isNegative()&&(r=r.multipliedBy(new Pg.default(-1))),sM.numberToPaddedHex(r)):""}Ut.getHexMagnitudeOfBigInt=AI;function lM(r){for(let e=0;e<r.length;e++)r[e]=~r[e]}Ut.flipBufferBitsInPlace=lM;function fM(r,e){return y.Buffer.concat([y.Buffer.from([e]),r])}Ut.prependByteToBuffer=fM});var _I=B(Ea=>{"use strict";f();var hM=Ea&&Ea.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ea,"__esModule",{value:!0});Ea.NumericalBinaryCodec=void 0;var nc=hM(jr()),Mg=sr(),II=Af(),pt=Bg(),Rg=class{decodeNested(e,t){let i=0,n=t.sizeInBytes;n||(i=II.SizeOfU32,n=e.readUInt32BE(0));let s=e.slice(i,i+n),o=this.decodeTopLevel(s,t),a=n+i;return[o,a]}decodeTopLevel(e,t){let i=pt.cloneBuffer(e);if(e.length==0)return new Mg.NumericalValue(t,new nc.default(0));if(!t.withSign||pt.isMsbZero(i)){let h=pt.bufferToBigInt(i);return new Mg.NumericalValue(t,h)}pt.flipBufferBitsInPlace(i);let u=pt.bufferToBigInt(i).multipliedBy(new nc.default(-1)).minus(new nc.default(1));return new Mg.NumericalValue(t,u)}encodeNested(e){if(e.sizeInBytes)return this.encodeNestedFixedSize(e,e.sizeInBytes);let t=this.encodeTopLevel(e),i=y.Buffer.alloc(II.SizeOfU32);return i.writeUInt32BE(t.length),y.Buffer.concat([i,t])}encodeNestedFixedSize(e,t){if(e.value.isZero())return y.Buffer.alloc(t,0);if(!e.withSign){let o=pt.bigIntToBuffer(e.value),a=y.Buffer.alloc(t-o.length,0);return y.Buffer.concat([a,o])}if(e.value.isPositive()){let o=pt.bigIntToBuffer(e.value);pt.isMsbOne(o)&&(o=pt.prependByteToBuffer(o,0));let a=y.Buffer.alloc(t-o.length,0);return y.Buffer.concat([a,o])}let i=e.value.plus(new nc.default(1)),n=pt.bigIntToBuffer(i);pt.flipBufferBitsInPlace(n),pt.isMsbZero(n)&&(n=pt.prependByteToBuffer(n,255));let s=y.Buffer.alloc(t-n.length,255);return y.Buffer.concat([s,n])}encodeTopLevel(e){let t=e.withSign;return e.value.isZero()?y.Buffer.alloc(0):t?this.encodePrimitive(e):pt.bigIntToBuffer(e.value)}encodePrimitive(e){if(e.value.isPositive()){let n=pt.bigIntToBuffer(e.value);return pt.isMsbOne(n)&&(n=pt.prependByteToBuffer(n,0)),n}let t=e.value.plus(new nc.default(1)),i=pt.bigIntToBuffer(t);return pt.flipBufferBitsInPlace(i),pt.isMsbZero(i)&&(i=pt.prependByteToBuffer(i,255)),i}};Ea.NumericalBinaryCodec=Rg});var bI=B(If=>{"use strict";f();Object.defineProperty(If,"__esModule",{value:!0});If.H256BinaryCodec=void 0;var dM=rc(),Lg=class{decodeNested(e){let t=e.slice(0,32);return[new dM.H256Value(t),32]}decodeTopLevel(e){let[t,i]=this.decodeNested(e);return t}encodeNested(e){return e.valueOf()}encodeTopLevel(e){return e.valueOf()}};If.H256BinaryCodec=Lg});var Cf=B(bf=>{"use strict";f();Object.defineProperty(bf,"__esModule",{value:!0});bf.BytesBinaryCodec=void 0;var CI=mn(),_f=Af(),Fg=class{decodeNested(e){let t=e.readUInt32BE(0),i=e.slice(_f.SizeOfU32,_f.SizeOfU32+t);return[new CI.BytesValue(i),_f.SizeOfU32+t]}decodeTopLevel(e){return new CI.BytesValue(e)}encodeNested(e){let t=y.Buffer.alloc(_f.SizeOfU32);return t.writeUInt32BE(e.getLength()),y.Buffer.concat([t,e.valueOf()])}encodeTopLevel(e){return e.valueOf()}};bf.BytesBinaryCodec=Fg});var xI=B(Sf=>{"use strict";f();Object.defineProperty(Sf,"__esModule",{value:!0});Sf.TokenIdentifierCodec=void 0;var pM=mn(),SI=ya(),gM=Cf(),Ug=class{constructor(){this.bytesCodec=new gM.BytesBinaryCodec}decodeNested(e){let[t,i]=this.bytesCodec.decodeNested(e);return[new SI.TokenIdentifierValue(t.toString()),i]}decodeTopLevel(e){let t=this.bytesCodec.decodeTopLevel(e);return new SI.TokenIdentifierValue(t.toString())}encodeNested(e){let t=pM.BytesValue.fromUTF8(e.valueOf());return this.bytesCodec.encodeNested(t)}encodeTopLevel(e){return y.Buffer.from(e.valueOf())}};Sf.TokenIdentifierCodec=Ug});var NI=B(xf=>{"use strict";f();Object.defineProperty(xf,"__esModule",{value:!0});xf.NothingCodec=void 0;var TI=sr(),qg=class{decodeNested(){return[new TI.NothingValue,0]}decodeTopLevel(){return new TI.NothingValue}encodeNested(){return y.Buffer.from([])}encodeTopLevel(){return y.Buffer.from([])}};xf.NothingCodec=qg});var OI=B(Tf=>{"use strict";f();Object.defineProperty(Tf,"__esModule",{value:!0});Tf.StringBinaryCodec=void 0;var DI=sr(),yM=mn(),mM=Cf(),Vg=class{constructor(){this.bytesBinaryCodec=new mM.BytesBinaryCodec}decodeNested(e){let[t,i]=this.bytesBinaryCodec.decodeNested(e);return[new DI.StringValue(t.valueOf().toString()),i]}decodeTopLevel(e){return new DI.StringValue(e.toString())}encodeNested(e){let t=yM.BytesValue.fromUTF8(e.valueOf());return this.bytesBinaryCodec.encodeNested(t)}encodeTopLevel(e){return y.Buffer.from(e.valueOf())}};Tf.StringBinaryCodec=Vg});var PI=B(Df=>{"use strict";f();Object.defineProperty(Df,"__esModule",{value:!0});Df.PrimitiveBinaryCodec=void 0;var Nf=sr(),wM=gI(),vM=mI(),EM=_I(),AM=bI(),IM=Cf(),_M=xI(),bM=NI(),CM=OI(),Hg=class{constructor(e){this.binaryCodec=e,this.booleanCodec=new vM.BooleanBinaryCodec,this.numericalCodec=new EM.NumericalBinaryCodec,this.addressCodec=new wM.AddressBinaryCodec,this.h256Codec=new AM.H256BinaryCodec,this.bytesCodec=new IM.BytesBinaryCodec,this.stringCodec=new CM.StringBinaryCodec,this.tokenIdentifierCodec=new _M.TokenIdentifierCodec,this.nothingCodec=new bM.NothingCodec}decodeNested(e,t){return Nf.onPrimitiveTypeSelect(t,{onBoolean:()=>this.booleanCodec.decodeNested(e),onNumerical:()=>this.numericalCodec.decodeNested(e,t),onAddress:()=>this.addressCodec.decodeNested(e),onBytes:()=>this.bytesCodec.decodeNested(e),onString:()=>this.stringCodec.decodeNested(e),onH256:()=>this.h256Codec.decodeNested(e),onTokenIndetifier:()=>this.tokenIdentifierCodec.decodeNested(e),onNothing:()=>this.nothingCodec.decodeNested()})}decodeTopLevel(e,t){return Nf.onPrimitiveTypeSelect(t,{onBoolean:()=>this.booleanCodec.decodeTopLevel(e),onNumerical:()=>this.numericalCodec.decodeTopLevel(e,t),onAddress:()=>this.addressCodec.decodeTopLevel(e),onBytes:()=>this.bytesCodec.decodeTopLevel(e),onString:()=>this.stringCodec.decodeTopLevel(e),onH256:()=>this.h256Codec.decodeTopLevel(e),onTokenIndetifier:()=>this.tokenIdentifierCodec.decodeTopLevel(e),onNothing:()=>this.nothingCodec.decodeTopLevel()})}encodeNested(e){return Nf.onPrimitiveValueSelect(e,{onBoolean:()=>this.booleanCodec.encodeNested(e),onNumerical:()=>this.numericalCodec.encodeNested(e),onAddress:()=>this.addressCodec.encodeNested(e),onBytes:()=>this.bytesCodec.encodeNested(e),onString:()=>this.stringCodec.encodeNested(e),onH256:()=>this.h256Codec.encodeNested(e),onTypeIdentifier:()=>this.tokenIdentifierCodec.encodeNested(e),onNothing:()=>this.nothingCodec.encodeNested()})}encodeTopLevel(e){return Nf.onPrimitiveValueSelect(e,{onBoolean:()=>this.booleanCodec.encodeTopLevel(e),onNumerical:()=>this.numericalCodec.encodeTopLevel(e),onAddress:()=>this.addressCodec.encodeTopLevel(e),onBytes:()=>this.bytesCodec.encodeTopLevel(e),onString:()=>this.stringCodec.encodeTopLevel(e),onH256:()=>this.h256Codec.encodeTopLevel(e),onTypeIdentifier:()=>this.tokenIdentifierCodec.encodeTopLevel(e),onNothing:()=>this.nothingCodec.encodeTopLevel()})}};Df.PrimitiveBinaryCodec=Hg});var RI=B(Of=>{"use strict";f();Object.defineProperty(Of,"__esModule",{value:!0});Of.ListBinaryCodec=void 0;var BI=sr(),MI=Af(),Qg=class{constructor(e){this.binaryCodec=e}decodeNested(e,t){let i=t.getFirstTypeParameter(),n=[],s=e.readUInt32BE(0);this.binaryCodec.constraints.checkListLength(s);let o=e,a=MI.SizeOfU32;e=o.slice(a);for(let u=0;u<s;u++){let[h,p]=this.binaryCodec.decodeNested(e,i);n.push(h),a+=p,e=o.slice(a)}return[new BI.List(t,n),a]}decodeTopLevel(e,t){let i=t.getFirstTypeParameter(),n=[],s=e,o=0;for(;e.length>0;){let[a,u]=this.binaryCodec.decodeNested(e,i);n.push(a),o+=u,e=s.slice(o),this.binaryCodec.constraints.checkListLength(n.length)}return new BI.List(t,n)}encodeNested(e){this.binaryCodec.constraints.checkListLength(e.getLength());let t=y.Buffer.alloc(MI.SizeOfU32);t.writeUInt32BE(e.getLength());let i=[];for(let s of e.getItems()){let o=this.binaryCodec.encodeNested(s);i.push(o)}return y.Buffer.concat([t,...i])}encodeTopLevel(e){this.binaryCodec.constraints.checkListLength(e.getLength());let t=[];for(let n of e.getItems()){let s=this.binaryCodec.encodeNested(n);t.push(s)}return y.Buffer.concat(t)}};Of.ListBinaryCodec=Qg});var Gg=B(Pf=>{"use strict";f();Object.defineProperty(Pf,"__esModule",{value:!0});Pf.FieldsBinaryCodec=void 0;var SM=sr(),jg=class{constructor(e){this.binaryCodec=e}decodeNested(e,t){let i=[],n=0;for(let s of t){let[o,a]=this.binaryCodec.decodeNested(e,s.type);e=e.slice(a),n+=a;let u=new SM.Field(o,s.name);i.push(u)}return[i,n]}encodeNested(e){let t=[];for(let i of e){let n=this.binaryCodec.encodeNested(i.value);t.push(n)}return y.Buffer.concat(t)}};Pf.FieldsBinaryCodec=jg});var zg=B(Bf=>{"use strict";f();Object.defineProperty(Bf,"__esModule",{value:!0});Bf.StructBinaryCodec=void 0;var xM=sr(),TM=Gg(),Kg=class{constructor(e){this.fieldsCodec=new TM.FieldsBinaryCodec(e)}decodeTopLevel(e,t){let[i]=this.decodeNested(e,t);return i}decodeNested(e,t){let i=t.getFieldsDefinitions(),[n,s]=this.fieldsCodec.decodeNested(e,i);return[new xM.Struct(t,n),s]}encodeNested(e){let t=e.getFields();return this.fieldsCodec.encodeNested(t)}encodeTopLevel(e){return this.encodeNested(e)}};Bf.StructBinaryCodec=Kg});var LI=B(Rf=>{"use strict";f();Object.defineProperty(Rf,"__esModule",{value:!0});Rf.EnumBinaryCodec=void 0;var Mf=sr(),NM=Gg(),kg=class{constructor(e){this.binaryCodec=e,this.fieldsCodec=new NM.FieldsBinaryCodec(e)}decodeTopLevel(e,t){let[i]=this.decodeNested(e,t);return i}decodeNested(e,t){let[i,n]=this.readDiscriminant(e);e=e.slice(n);let s=t.getVariantByDiscriminant(i),o=s.getFieldsDefinitions(),[a,u]=this.fieldsCodec.decodeNested(e,o);return[new Mf.EnumValue(t,s,a),n+u]}readDiscriminant(e){let[t,i]=this.binaryCodec.decodeNested(e,new Mf.U8Type);return[t.valueOf(),i]}encodeNested(e){let t=new Mf.U8Value(e.discriminant),i=this.binaryCodec.encodeNested(t),n=e.getFields(),s=this.fieldsCodec.encodeNested(n);return y.Buffer.concat([i,s])}encodeTopLevel(e){let t=e.getFields(),i=t.length>0,n=this.fieldsCodec.encodeNested(t),s=new Mf.U8Value(e.discriminant),o=i?this.binaryCodec.encodeNested(s):this.binaryCodec.encodeTopLevel(s);return y.Buffer.concat([o,n])}};Rf.EnumBinaryCodec=kg});var FI=B(Lf=>{"use strict";f();Object.defineProperty(Lf,"__esModule",{value:!0});Lf.TupleBinaryCodec=void 0;var DM=zg(),Wg=class{constructor(e){this.structCodec=new DM.StructBinaryCodec(e)}decodeTopLevel(e,t){return this.structCodec.decodeTopLevel(e,t)}decodeNested(e,t){return this.structCodec.decodeNested(e,t)}encodeNested(e){return this.structCodec.encodeNested(e)}encodeTopLevel(e){return this.structCodec.encodeTopLevel(e)}};Lf.TupleBinaryCodec=Wg});var UI=B(Ff=>{"use strict";f();Object.defineProperty(Ff,"__esModule",{value:!0});Ff.ArrayVecBinaryCodec=void 0;var OM=sr(),$g=class{constructor(e){this.binaryCodec=e}decodeNested(e,t){let i=t.length,n=t.getFirstTypeParameter(),s=[],o=0;for(let a=0;a<i;a++){let[u,h]=this.binaryCodec.decodeNested(e,n);s.push(u),o+=h,e=e.slice(h)}return[new OM.ArrayVec(t,s),o]}decodeTopLevel(e,t){let[i,n]=this.decodeNested(e,t);return i}encodeNested(e){let t=[];for(let i of e.getItems()){let n=this.binaryCodec.encodeNested(i);t.push(n)}return y.Buffer.concat(t)}encodeTopLevel(e){return this.encodeNested(e)}};Ff.ArrayVecBinaryCodec=$g});var Jg=B(Or=>{"use strict";f();var PM=Or&&Or.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),BM=Or&&Or.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),MM=Or&&Or.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&PM(e,r,t);return BM(e,r),e};Object.defineProperty(Or,"__esModule",{value:!0});Or.BinaryCodecConstraints=Or.BinaryCodec=void 0;var qI=MM(Ye()),Uf=sr(),VI=Tr(),RM=pI(),LM=PI(),FM=RI(),UM=zg(),qM=LI(),VM=FI(),HM=UI(),Yg=class{constructor(e=null){this.constraints=e||new qf,this.optionCodec=new RM.OptionValueBinaryCodec(this),this.listCodec=new FM.ListBinaryCodec(this),this.arrayCodec=new HM.ArrayVecBinaryCodec(this),this.primitiveCodec=new LM.PrimitiveBinaryCodec(this),this.structCodec=new UM.StructBinaryCodec(this),this.tupleCodec=new VM.TupleBinaryCodec(this),this.enumCodec=new qM.EnumBinaryCodec(this)}decodeTopLevel(e,t){return this.constraints.checkBufferLength(e),Uf.onTypeSelect(t,{onOption:()=>this.optionCodec.decodeTopLevel(e,t.getFirstTypeParameter()),onList:()=>this.listCodec.decodeTopLevel(e,t),onArray:()=>this.arrayCodec.decodeTopLevel(e,t),onPrimitive:()=>this.primitiveCodec.decodeTopLevel(e,t),onStruct:()=>this.structCodec.decodeTopLevel(e,t),onTuple:()=>this.tupleCodec.decodeTopLevel(e,t),onEnum:()=>this.enumCodec.decodeTopLevel(e,t)})}decodeNested(e,t){this.constraints.checkBufferLength(e);let[i,n]=Uf.onTypeSelect(t,{onOption:()=>this.optionCodec.decodeNested(e,t.getFirstTypeParameter()),onList:()=>this.listCodec.decodeNested(e,t),onArray:()=>this.arrayCodec.decodeNested(e,t),onPrimitive:()=>this.primitiveCodec.decodeNested(e,t),onStruct:()=>this.structCodec.decodeNested(e,t),onTuple:()=>this.tupleCodec.decodeNested(e,t),onEnum:()=>this.enumCodec.decodeNested(e,t)});return[i,n]}encodeNested(e){return VI.guardTrue(e.getType().getCardinality().isSingular(),"singular cardinality, thus encodable type"),Uf.onTypedValueSelect(e,{onPrimitive:()=>this.primitiveCodec.encodeNested(e),onOption:()=>this.optionCodec.encodeNested(e),onList:()=>this.listCodec.encodeNested(e),onArray:()=>this.arrayCodec.encodeNested(e),onStruct:()=>this.structCodec.encodeNested(e),onTuple:()=>this.tupleCodec.encodeNested(e),onEnum:()=>this.enumCodec.encodeNested(e)})}encodeTopLevel(e){return VI.guardTrue(e.getType().getCardinality().isSingular(),"singular cardinality, thus encodable type"),Uf.onTypedValueSelect(e,{onPrimitive:()=>this.primitiveCodec.encodeTopLevel(e),onOption:()=>this.optionCodec.encodeTopLevel(e),onList:()=>this.listCodec.encodeTopLevel(e),onArray:()=>this.arrayCodec.encodeTopLevel(e),onStruct:()=>this.structCodec.encodeTopLevel(e),onTuple:()=>this.tupleCodec.encodeTopLevel(e),onEnum:()=>this.enumCodec.encodeTopLevel(e)})}};Or.BinaryCodec=Yg;var qf=class{constructor(e){this.maxBufferLength=e?.maxBufferLength||40960,this.maxListLength=e?.maxListLength||8192}checkBufferLength(e){if(e.length>this.maxBufferLength)throw new qI.ErrCodec(`Buffer too large: ${e.length} > ${this.maxBufferLength}`)}checkListLength(e){if(e>this.maxListLength)throw new qI.ErrCodec(`List too large: ${e} > ${this.maxListLength}`)}};Or.BinaryCodecConstraints=qf});var HI=B(Pr=>{"use strict";f();var QM=Pr&&Pr.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Pr,"__esModule",{value:!0});Pr.decodeBigNumber=Pr.decodeString=Pr.decodeBool=Pr.decodeUnsignedNumber=void 0;var jM=QM(jr()),Vf=sr(),GM=Jg(),Hf=new GM.BinaryCodec;function KM(r){let e=Hf.decodeTopLevel(r,new Vf.BigUIntType);return Number(e.valueOf())}Pr.decodeUnsignedNumber=KM;function zM(r){let e=Hf.decodeTopLevel(r,new Vf.BooleanType);return Boolean(e.valueOf())}Pr.decodeBool=zM;function kM(r){let e=Hf.decodeTopLevel(r,new Vf.BytesType);return String(e.valueOf())}Pr.decodeString=kM;function WM(r){let e=Hf.decodeTopLevel(r,new Vf.BigUIntType);return new jM.default(e.valueOf())}Pr.decodeBigNumber=WM});var jI=B(bn=>{"use strict";f();var $M=bn&&bn.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),QI=bn&&bn.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&$M(e,r,t)};Object.defineProperty(bn,"__esModule",{value:!0});QI(Jg(),bn);QI(HI(),bn)});var jf=B(Qf=>{"use strict";f();Object.defineProperty(Qf,"__esModule",{value:!0});Qf.ArgSerializer=void 0;var GI=Wu(),YM=jI(),Xg=nf(),Zg=of(),ey=df(),JM={codec:new YM.BinaryCodec},ty=class{constructor(e){e=Object.assign(Object.assign({},JM),e),this.codec=e.codec}stringToValues(e,t){let i=this.stringToBuffers(e);return this.buffersToValues(i,t)}stringToBuffers(e){return e.split(GI.ARGUMENTS_SEPARATOR).map(t=>y.Buffer.from(t,"hex"))}buffersToValues(e,t){let i=this;e=e||[];let n=[],s=0,o=e.length;for(let p=0;p<t.length;p++){let D=t[p].type,O=a(D);n.push(O)}function a(p){if(p.hasExactClass(Xg.OptionalType.ClassName)){let A=a(p.getFirstTypeParameter());return new Xg.OptionalValue(p,A)}else if(p.hasExactClass(ey.VariadicType.ClassName)){let A=[];for(;!h();)A.push(a(p.getFirstTypeParameter()));return new ey.VariadicValue(p,A)}else if(p.hasExactClass(Zg.CompositeType.ClassName)){let A=[];for(let D of p.getTypeParameters())A.push(a(D));return new Zg.CompositeValue(p,A)}else return u(p)}function u(p){if(h())return null;let A=e[s++];return i.codec.decodeTopLevel(A,p)}function h(){return s>=o}return n}valuesToString(e){let t=this.valuesToStrings(e),i=t.join(GI.ARGUMENTS_SEPARATOR),n=t.length;return{argumentsString:i,count:n}}valuesToStrings(e){return this.valuesToBuffers(e).map(n=>n.toString("hex"))}valuesToBuffers(e){let t=this,i=[];for(let s of e)n(s);function n(s){if(s.hasExactClass(Xg.OptionalValue.ClassName)){let o=s;o.isSet()&&n(o.getTypedValue())}else if(s.hasExactClass(ey.VariadicValue.ClassName)){let o=s;for(let a of o.getItems())n(a)}else if(s.hasExactClass(Zg.CompositeValue.ClassName)){let o=s;for(let a of o.getItems())n(a)}else{let o=t.codec.encodeTopLevel(s);i.push(o)}}return i}};Qf.ArgSerializer=ty});var uy=B(zr=>{"use strict";f();Object.defineProperty(zr,"__esModule",{value:!0});zr.ContractCallPayloadBuilder=zr.ContractUpgradePayloadBuilder=zr.ContractDeployPayloadBuilder=zr.ArwenVirtualMachine=void 0;var sy=sc(),oy=Tr(),XM=jf();zr.ArwenVirtualMachine="0500";var ry=class{constructor(){this.code=null,this.codeMetadata="",this.arguments=[]}setCode(e){return this.code=e,this}setCodeMetadata(e){return this.codeMetadata=e,this}addInitArg(e){return this.arguments.push(e),this}setInitArgs(e){return this.arguments=e,this}build(){oy.guardValueIsSet("code",this.code);let e=this.code.toString(),t=this.codeMetadata.toString(),i=`${e}@${zr.ArwenVirtualMachine}@${t}`;return i=ay(i,this.arguments),new sy.TransactionPayload(i)}};zr.ContractDeployPayloadBuilder=ry;var iy=class{constructor(){this.code=null,this.codeMetadata="",this.arguments=[]}setCode(e){return this.code=e,this}setCodeMetadata(e){return this.codeMetadata=e,this}addInitArg(e){return this.arguments.push(e),this}setInitArgs(e){return this.arguments=e,this}build(){oy.guardValueIsSet("code",this.code);let e=this.code.toString(),t=this.codeMetadata.toString(),i=`upgradeContract@${e}@${t}`;return i=ay(i,this.arguments),new sy.TransactionPayload(i)}};zr.ContractUpgradePayloadBuilder=iy;var ny=class{constructor(){this.contractFunction=null,this.arguments=[]}setFunction(e){return this.contractFunction=e,this}addArg(e){return this.arguments.push(e),this}setArgs(e){return this.arguments=e,this}build(){oy.guardValueIsSet("calledFunction",this.contractFunction);let e=this.contractFunction.name;return e=ay(e,this.arguments),new sy.TransactionPayload(e)}};zr.ContractCallPayloadBuilder=ny;function ay(r,e){let{argumentsString:t,count:i}=new XM.ArgSerializer().valuesToString(e);return i==0?r:`${r}@${t}`}});var sc=B(Gf=>{"use strict";f();Object.defineProperty(Gf,"__esModule",{value:!0});Gf.TransactionPayload=void 0;var cy=uy(),Aa=class{constructor(e){this.data=y.Buffer.from(e||[])}static fromEncoded(e){if(!e)return new Aa("");let t=y.Buffer.from(e,"base64").toString();return new Aa(t)}isEmpty(){return this.data.length==0}encoded(){return this.data.toString("base64")}valueOf(){return this.data}toString(){return this.data.toString()}getEncodedArguments(){return this.toString().split("@")}getRawArguments(){return this.getEncodedArguments().map(e=>y.Buffer.from(e,"hex"))}length(){return y.Buffer.from(this.data).length}static contractDeploy(){return new cy.ContractDeployPayloadBuilder}static contractUpgrade(){return new cy.ContractUpgradePayloadBuilder}static contractCall(){return new cy.ContractCallPayloadBuilder}};Gf.TransactionPayload=Aa});var kI=B(Cn=>{"use strict";f();Object.defineProperty(Cn,"__esModule",{value:!0});Cn.MultiESDTNFTTransferPayloadBuilder=Cn.ESDTNFTTransferPayloadBuilder=Cn.ESDTTransferPayloadBuilder=void 0;var KI=Gr(),dy=jf(),kr=sr(),zI=sg(),py=sc(),ly=class{constructor(){this.payment=zI.TokenPayment.fungibleFromAmount("","0",0)}setPayment(e){return this.payment=e,this}build(){let e=[kr.BytesValue.fromUTF8(this.payment.tokenIdentifier),new kr.BigUIntValue(this.payment.valueOf())],{argumentsString:t}=new dy.ArgSerializer().valuesToString(e),i=`ESDTTransfer@${t}`;return new py.TransactionPayload(i)}};Cn.ESDTTransferPayloadBuilder=ly;var fy=class{constructor(){this.payment=zI.TokenPayment.nonFungible("",0),this.destination=new KI.Address("")}setPayment(e){return this.payment=e,this}setDestination(e){return this.destination=e,this}build(){let e=[kr.BytesValue.fromUTF8(this.payment.tokenIdentifier),new kr.U64Value(this.payment.nonce),new kr.BigUIntValue(this.payment.valueOf()),new kr.AddressValue(this.destination)],{argumentsString:t}=new dy.ArgSerializer().valuesToString(e),i=`ESDTNFTTransfer@${t}`;return new py.TransactionPayload(i)}};Cn.ESDTNFTTransferPayloadBuilder=fy;var hy=class{constructor(){this.payments=[],this.destination=new KI.Address("")}setPayments(e){return this.payments=e,this}setDestination(e){return this.destination=e,this}build(){let e=[new kr.AddressValue(this.destination),new kr.U16Value(this.payments.length)];for(let n of this.payments)e.push(kr.BytesValue.fromUTF8(n.tokenIdentifier),new kr.U64Value(n.nonce),new kr.BigUIntValue(n.valueOf()));let{argumentsString:t}=new dy.ArgSerializer().valuesToString(e),i=`MultiESDTNFTTransfer@${t}`;return new py.TransactionPayload(i)}};Cn.MultiESDTNFTTransferPayloadBuilder=hy});var zf=B(Kf=>{"use strict";f();Object.defineProperty(Kf,"__esModule",{value:!0});Kf.Account=void 0;var ZM=Gr(),gy=class{constructor(e){this.address=new ZM.Address,this.nonce=0,this.balance="0",this.address=e}update(e){this.nonce=e.nonce,this.balance=e.balance}incrementNonce(){this.nonce=this.nonce.valueOf()+1}getNonceThenIncrement(){let e=this.nonce;return this.nonce=this.nonce.valueOf()+1,e}toJSON(){return{address:this.address.bech32(),nonce:this.nonce.valueOf(),balance:this.balance.toString()}}};Kf.Account=gy});var WI=B(yi=>{"use strict";f();var eR=yi&&yi.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),tR=yi&&yi.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),rR=yi&&yi.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&eR(e,r,t);return tR(e,r),e};Object.defineProperty(yi,"__esModule",{value:!0});yi.Hash=void 0;var iR=rR(Ye()),oc=class{constructor(e){if(!e)this.hash=y.Buffer.from([]);else if(e instanceof y.Buffer)this.hash=e;else if(typeof e=="string")this.hash=y.Buffer.from(e,"hex");else throw new iR.ErrBadType("hash","buffer | string",e)}static empty(){return new oc(y.Buffer.from([]))}isEmpty(){return this.hash.length==0}toString(){return this.hex()}hex(){return this.hash.toString("hex")}valueOf(){return this.hash}};yi.Hash=oc});var YI=B(Br=>{"use strict";f();var nR=Br&&Br.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),sR=Br&&Br.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),oR=Br&&Br.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&nR(e,r,t);return sR(e,r),e};Object.defineProperty(Br,"__esModule",{value:!0});Br.TransactionOptions=Br.TransactionVersion=void 0;var $I=oR(Ye()),kf=Wu(),Ia=class{constructor(e){if(e=Number(e),e<1)throw new $I.ErrTransactionVersionInvalid(e);this.value=e}static withDefaultVersion(){return new Ia(kf.TRANSACTION_VERSION_DEFAULT)}static withTxHashSignVersion(){return new Ia(kf.TRANSACTION_VERSION_TX_HASH_SIGN)}valueOf(){return this.value}};Br.TransactionVersion=Ia;var _a=class{constructor(e){if(e=Number(e),e<0)throw new $I.ErrTransactionOptionsInvalid(e);this.value=e}static withDefaultOptions(){return new _a(kf.TRANSACTION_OPTIONS_DEFAULT)}static withTxHashSignOptions(){return new _a(kf.TRANSACTION_OPTIONS_TX_HASH_SIGN)}valueOf(){return this.value}};Br.TransactionOptions=_a});var XI=B((BW,JI)=>{"use strict";f();JI.exports=aR;function aR(r,e){for(var t=new Array(arguments.length-1),i=0,n=2,s=!0;n<arguments.length;)t[i++]=arguments[n++];return new Promise(function(a,u){t[i]=function(p){if(s)if(s=!1,p)u(p);else{for(var A=new Array(arguments.length-1),D=0;D<A.length;)A[D++]=arguments[D];a.apply(null,A)}};try{r.apply(e||null,t)}catch(h){s&&(s=!1,u(h))}})}});var r_=B(t_=>{"use strict";f();var Wf=t_;Wf.length=function(e){var t=e.length;if(!t)return 0;for(var i=0;--t%4>1&&e.charAt(t)==="=";)++i;return Math.ceil(e.length*3)/4-i};var ba=new Array(64),e_=new Array(123);for(Wr=0;Wr<64;)e_[ba[Wr]=Wr<26?Wr+65:Wr<52?Wr+71:Wr<62?Wr-4:Wr-59|43]=Wr++;var Wr;Wf.encode=function(e,t,i){for(var n=null,s=[],o=0,a=0,u;t<i;){var h=e[t++];switch(a){case 0:s[o++]=ba[h>>2],u=(h&3)<<4,a=1;break;case 1:s[o++]=ba[u|h>>4],u=(h&15)<<2,a=2;break;case 2:s[o++]=ba[u|h>>6],s[o++]=ba[h&63],a=0;break}o>8191&&((n||(n=[])).push(String.fromCharCode.apply(String,s)),o=0)}return a&&(s[o++]=ba[u],s[o++]=61,a===1&&(s[o++]=61)),n?(o&&n.push(String.fromCharCode.apply(String,s.slice(0,o))),n.join("")):String.fromCharCode.apply(String,s.slice(0,o))};var ZI="invalid encoding";Wf.decode=function(e,t,i){for(var n=i,s=0,o,a=0;a<e.length;){var u=e.charCodeAt(a++);if(u===61&&s>1)break;if((u=e_[u])===void 0)throw Error(ZI);switch(s){case 0:o=u,s=1;break;case 1:t[i++]=o<<2|(u&48)>>4,o=u,s=2;break;case 2:t[i++]=(o&15)<<4|(u&60)>>2,o=u,s=3;break;case 3:t[i++]=(o&3)<<6|u,s=0;break}}if(s===1)throw Error(ZI);return i-n};Wf.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}});var n_=B((FW,i_)=>{"use strict";f();i_.exports=$f;function $f(){this._listeners={}}$f.prototype.on=function(e,t,i){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:i||this}),this};$f.prototype.off=function(e,t){if(e===void 0)this._listeners={};else if(t===void 0)this._listeners[e]=[];else for(var i=this._listeners[e],n=0;n<i.length;)i[n].fn===t?i.splice(n,1):++n;return this};$f.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var i=[],n=1;n<arguments.length;)i.push(arguments[n++]);for(n=0;n<t.length;)t[n].fn.apply(t[n++].ctx,i)}return this}});var f_=B((qW,l_)=>{"use strict";f();l_.exports=s_(s_);function s_(r){return typeof Float32Array<"u"?function(){var e=new Float32Array([-0]),t=new Uint8Array(e.buffer),i=t[3]===128;function n(u,h,p){e[0]=u,h[p]=t[0],h[p+1]=t[1],h[p+2]=t[2],h[p+3]=t[3]}function s(u,h,p){e[0]=u,h[p]=t[3],h[p+1]=t[2],h[p+2]=t[1],h[p+3]=t[0]}r.writeFloatLE=i?n:s,r.writeFloatBE=i?s:n;function o(u,h){return t[0]=u[h],t[1]=u[h+1],t[2]=u[h+2],t[3]=u[h+3],e[0]}function a(u,h){return t[3]=u[h],t[2]=u[h+1],t[1]=u[h+2],t[0]=u[h+3],e[0]}r.readFloatLE=i?o:a,r.readFloatBE=i?a:o}():function(){function e(i,n,s,o){var a=n<0?1:0;if(a&&(n=-n),n===0)i(1/n>0?0:2147483648,s,o);else if(isNaN(n))i(2143289344,s,o);else if(n>34028234663852886e22)i((a<<31|2139095040)>>>0,s,o);else if(n<11754943508222875e-54)i((a<<31|Math.round(n/1401298464324817e-60))>>>0,s,o);else{var u=Math.floor(Math.log(n)/Math.LN2),h=Math.round(n*Math.pow(2,-u)*8388608)&8388607;i((a<<31|u+127<<23|h)>>>0,s,o)}}r.writeFloatLE=e.bind(null,o_),r.writeFloatBE=e.bind(null,a_);function t(i,n,s){var o=i(n,s),a=(o>>31)*2+1,u=o>>>23&255,h=o&8388607;return u===255?h?NaN:a*(1/0):u===0?a*1401298464324817e-60*h:a*Math.pow(2,u-150)*(h+8388608)}r.readFloatLE=t.bind(null,u_),r.readFloatBE=t.bind(null,c_)}(),typeof Float64Array<"u"?function(){var e=new Float64Array([-0]),t=new Uint8Array(e.buffer),i=t[7]===128;function n(u,h,p){e[0]=u,h[p]=t[0],h[p+1]=t[1],h[p+2]=t[2],h[p+3]=t[3],h[p+4]=t[4],h[p+5]=t[5],h[p+6]=t[6],h[p+7]=t[7]}function s(u,h,p){e[0]=u,h[p]=t[7],h[p+1]=t[6],h[p+2]=t[5],h[p+3]=t[4],h[p+4]=t[3],h[p+5]=t[2],h[p+6]=t[1],h[p+7]=t[0]}r.writeDoubleLE=i?n:s,r.writeDoubleBE=i?s:n;function o(u,h){return t[0]=u[h],t[1]=u[h+1],t[2]=u[h+2],t[3]=u[h+3],t[4]=u[h+4],t[5]=u[h+5],t[6]=u[h+6],t[7]=u[h+7],e[0]}function a(u,h){return t[7]=u[h],t[6]=u[h+1],t[5]=u[h+2],t[4]=u[h+3],t[3]=u[h+4],t[2]=u[h+5],t[1]=u[h+6],t[0]=u[h+7],e[0]}r.readDoubleLE=i?o:a,r.readDoubleBE=i?a:o}():function(){function e(i,n,s,o,a,u){var h=o<0?1:0;if(h&&(o=-o),o===0)i(0,a,u+n),i(1/o>0?0:2147483648,a,u+s);else if(isNaN(o))i(0,a,u+n),i(2146959360,a,u+s);else if(o>17976931348623157e292)i(0,a,u+n),i((h<<31|2146435072)>>>0,a,u+s);else{var p;if(o<22250738585072014e-324)p=o/5e-324,i(p>>>0,a,u+n),i((h<<31|p/4294967296)>>>0,a,u+s);else{var A=Math.floor(Math.log(o)/Math.LN2);A===1024&&(A=1023),p=o*Math.pow(2,-A),i(p*4503599627370496>>>0,a,u+n),i((h<<31|A+1023<<20|p*1048576&1048575)>>>0,a,u+s)}}}r.writeDoubleLE=e.bind(null,o_,0,4),r.writeDoubleBE=e.bind(null,a_,4,0);function t(i,n,s,o,a){var u=i(o,a+n),h=i(o,a+s),p=(h>>31)*2+1,A=h>>>20&2047,D=4294967296*(h&1048575)+u;return A===2047?D?NaN:p*(1/0):A===0?p*5e-324*D:p*Math.pow(2,A-1075)*(D+4503599627370496)}r.readDoubleLE=t.bind(null,u_,0,4),r.readDoubleBE=t.bind(null,c_,4,0)}(),r}function o_(r,e,t){e[t]=r&255,e[t+1]=r>>>8&255,e[t+2]=r>>>16&255,e[t+3]=r>>>24}function a_(r,e,t){e[t]=r>>>24,e[t+1]=r>>>16&255,e[t+2]=r>>>8&255,e[t+3]=r&255}function u_(r,e){return(r[e]|r[e+1]<<8|r[e+2]<<16|r[e+3]<<24)>>>0}function c_(r,e){return(r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3])>>>0}});var h_=B((exports,module)=>{"use strict";f();module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(r){}return null}});var p_=B(d_=>{"use strict";f();var yy=d_;yy.length=function(e){for(var t=0,i=0,n=0;n<e.length;++n)i=e.charCodeAt(n),i<128?t+=1:i<2048?t+=2:(i&64512)===55296&&(e.charCodeAt(n+1)&64512)===56320?(++n,t+=4):t+=3;return t};yy.read=function(e,t,i){var n=i-t;if(n<1)return"";for(var s=null,o=[],a=0,u;t<i;)u=e[t++],u<128?o[a++]=u:u>191&&u<224?o[a++]=(u&31)<<6|e[t++]&63:u>239&&u<365?(u=((u&7)<<18|(e[t++]&63)<<12|(e[t++]&63)<<6|e[t++]&63)-65536,o[a++]=55296+(u>>10),o[a++]=56320+(u&1023)):o[a++]=(u&15)<<12|(e[t++]&63)<<6|e[t++]&63,a>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,o)),a=0);return s?(a&&s.push(String.fromCharCode.apply(String,o.slice(0,a))),s.join("")):String.fromCharCode.apply(String,o.slice(0,a))};yy.write=function(e,t,i){for(var n=i,s,o,a=0;a<e.length;++a)s=e.charCodeAt(a),s<128?t[i++]=s:s<2048?(t[i++]=s>>6|192,t[i++]=s&63|128):(s&64512)===55296&&((o=e.charCodeAt(a+1))&64512)===56320?(s=65536+((s&1023)<<10)+(o&1023),++a,t[i++]=s>>18|240,t[i++]=s>>12&63|128,t[i++]=s>>6&63|128,t[i++]=s&63|128):(t[i++]=s>>12|224,t[i++]=s>>6&63|128,t[i++]=s&63|128);return i-n}});var y_=B((GW,g_)=>{"use strict";f();g_.exports=uR;function uR(r,e,t){var i=t||8192,n=i>>>1,s=null,o=i;return function(u){if(u<1||u>n)return r(u);o+u>i&&(s=r(i),o=0);var h=e.call(s,o,o+=u);return o&7&&(o=(o|7)+1),h}}});var w_=B((zW,m_)=>{"use strict";f();m_.exports=zt;var ac=xn();function zt(r,e){this.lo=r>>>0,this.hi=e>>>0}var Qs=zt.zero=new zt(0,0);Qs.toNumber=function(){return 0};Qs.zzEncode=Qs.zzDecode=function(){return this};Qs.length=function(){return 1};var cR=zt.zeroHash="\0\0\0\0\0\0\0\0";zt.fromNumber=function(e){if(e===0)return Qs;var t=e<0;t&&(e=-e);var i=e>>>0,n=(e-i)/4294967296>>>0;return t&&(n=~n>>>0,i=~i>>>0,++i>4294967295&&(i=0,++n>4294967295&&(n=0))),new zt(i,n)};zt.from=function(e){if(typeof e=="number")return zt.fromNumber(e);if(ac.isString(e))if(ac.Long)e=ac.Long.fromString(e);else return zt.fromNumber(parseInt(e,10));return e.low||e.high?new zt(e.low>>>0,e.high>>>0):Qs};zt.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=~this.lo+1>>>0,i=~this.hi>>>0;return t||(i=i+1>>>0),-(t+i*4294967296)}return this.lo+this.hi*4294967296};zt.prototype.toLong=function(e){return ac.Long?new ac.Long(this.lo|0,this.hi|0,Boolean(e)):{low:this.lo|0,high:this.hi|0,unsigned:Boolean(e)}};var Sn=String.prototype.charCodeAt;zt.fromHash=function(e){return e===cR?Qs:new zt((Sn.call(e,0)|Sn.call(e,1)<<8|Sn.call(e,2)<<16|Sn.call(e,3)<<24)>>>0,(Sn.call(e,4)|Sn.call(e,5)<<8|Sn.call(e,6)<<16|Sn.call(e,7)<<24)>>>0)};zt.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};zt.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this};zt.prototype.zzDecode=function(){var e=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this};zt.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,i=this.hi>>>24;return i===0?t===0?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:i<128?9:10}});var xn=B(my=>{"use strict";f();var we=my;we.asPromise=XI();we.base64=r_();we.EventEmitter=n_();we.float=f_();we.inquire=h_();we.utf8=p_();we.pool=y_();we.LongBits=w_();we.isNode=Boolean(typeof global<"u"&&global&&global.process&&global.process.versions&&global.process.versions.node);we.global=we.isNode&&global||typeof window<"u"&&window||typeof self<"u"&&self||my;we.emptyArray=Object.freeze?Object.freeze([]):[];we.emptyObject=Object.freeze?Object.freeze({}):{};we.isInteger=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};we.isString=function(e){return typeof e=="string"||e instanceof String};we.isObject=function(e){return e&&typeof e=="object"};we.isset=we.isSet=function(e,t){var i=e[t];return i!=null&&e.hasOwnProperty(t)?typeof i!="object"||(Array.isArray(i)?i.length:Object.keys(i).length)>0:!1};we.Buffer=function(){try{var r=we.inquire("buffer").Buffer;return r.prototype.utf8Write?r:null}catch{return null}}();we._Buffer_from=null;we._Buffer_allocUnsafe=null;we.newBuffer=function(e){return typeof e=="number"?we.Buffer?we._Buffer_allocUnsafe(e):new we.Array(e):we.Buffer?we._Buffer_from(e):typeof Uint8Array>"u"?e:new Uint8Array(e)};we.Array=typeof Uint8Array<"u"?Uint8Array:Array;we.Long=we.global.dcodeIO&&we.global.dcodeIO.Long||we.global.Long||we.inquire("long");we.key2Re=/^true|false|0|1$/;we.key32Re=/^-?(?:0|[1-9][0-9]*)$/;we.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;we.longToHash=function(e){return e?we.LongBits.from(e).toHash():we.LongBits.zeroHash};we.longFromHash=function(e,t){var i=we.LongBits.fromHash(e);return we.Long?we.Long.fromBits(i.lo,i.hi,t):i.toNumber(Boolean(t))};function v_(r,e,t){for(var i=Object.keys(e),n=0;n<i.length;++n)(r[i[n]]===void 0||!t)&&(r[i[n]]=e[i[n]]);return r}we.merge=v_;we.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)};function E_(r){function e(t,i){if(!(this instanceof e))return new e(t,i);Object.defineProperty(this,"message",{get:function(){return t}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:new Error().stack||""}),i&&v_(this,i)}return(e.prototype=Object.create(Error.prototype)).constructor=e,Object.defineProperty(e.prototype,"name",{get:function(){return r}}),e.prototype.toString=function(){return this.name+": "+this.message},e}we.newError=E_;we.ProtocolError=E_("ProtocolError");we.oneOfGetter=function(e){for(var t={},i=0;i<e.length;++i)t[e[i]]=1;return function(){for(var n=Object.keys(this),s=n.length-1;s>-1;--s)if(t[n[s]]===1&&this[n[s]]!==void 0&&this[n[s]]!==null)return n[s]}};we.oneOfSetter=function(e){return function(t){for(var i=0;i<e.length;++i)e[i]!==t&&delete this[e[i]]}};we.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};we._configure=function(){var r=we.Buffer;if(!r){we._Buffer_from=we._Buffer_allocUnsafe=null;return}we._Buffer_from=r.from!==Uint8Array.from&&r.from||function(t,i){return new r(t,i)},we._Buffer_allocUnsafe=r.allocUnsafe||function(t){return new r(t)}}});var by=B((YW,b_)=>{"use strict";f();b_.exports=qe;var Mr=xn(),wy,Yf=Mr.LongBits,A_=Mr.base64,I_=Mr.utf8;function uc(r,e,t){this.fn=r,this.len=e,this.next=void 0,this.val=t}function Ey(){}function lR(r){this.head=r.head,this.tail=r.tail,this.len=r.len,this.next=r.states}function qe(){this.len=0,this.head=new uc(Ey,0,0),this.tail=this.head,this.states=null}var __=function(){return Mr.Buffer?function(){return(qe.create=function(){return new wy})()}:function(){return new qe}};qe.create=__();qe.alloc=function(e){return new Mr.Array(e)};Mr.Array!==Array&&(qe.alloc=Mr.pool(qe.alloc,Mr.Array.prototype.subarray));qe.prototype._push=function(e,t,i){return this.tail=this.tail.next=new uc(e,t,i),this.len+=t,this};function Ay(r,e,t){e[t]=r&255}function fR(r,e,t){for(;r>127;)e[t++]=r&127|128,r>>>=7;e[t]=r}function Iy(r,e){this.len=r,this.next=void 0,this.val=e}Iy.prototype=Object.create(uc.prototype);Iy.prototype.fn=fR;qe.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new Iy((e=e>>>0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this};qe.prototype.int32=function(e){return e<0?this._push(_y,10,Yf.fromNumber(e)):this.uint32(e)};qe.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)};function _y(r,e,t){for(;r.hi;)e[t++]=r.lo&127|128,r.lo=(r.lo>>>7|r.hi<<25)>>>0,r.hi>>>=7;for(;r.lo>127;)e[t++]=r.lo&127|128,r.lo=r.lo>>>7;e[t++]=r.lo}qe.prototype.uint64=function(e){var t=Yf.from(e);return this._push(_y,t.length(),t)};qe.prototype.int64=qe.prototype.uint64;qe.prototype.sint64=function(e){var t=Yf.from(e).zzEncode();return this._push(_y,t.length(),t)};qe.prototype.bool=function(e){return this._push(Ay,1,e?1:0)};function vy(r,e,t){e[t]=r&255,e[t+1]=r>>>8&255,e[t+2]=r>>>16&255,e[t+3]=r>>>24}qe.prototype.fixed32=function(e){return this._push(vy,4,e>>>0)};qe.prototype.sfixed32=qe.prototype.fixed32;qe.prototype.fixed64=function(e){var t=Yf.from(e);return this._push(vy,4,t.lo)._push(vy,4,t.hi)};qe.prototype.sfixed64=qe.prototype.fixed64;qe.prototype.float=function(e){return this._push(Mr.float.writeFloatLE,4,e)};qe.prototype.double=function(e){return this._push(Mr.float.writeDoubleLE,8,e)};var hR=Mr.Array.prototype.set?function(e,t,i){t.set(e,i)}:function(e,t,i){for(var n=0;n<e.length;++n)t[i+n]=e[n]};qe.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(Ay,1,0);if(Mr.isString(e)){var i=qe.alloc(t=A_.length(e));A_.decode(e,i,0),e=i}return this.uint32(t)._push(hR,t,e)};qe.prototype.string=function(e){var t=I_.length(e);return t?this.uint32(t)._push(I_.write,t,e):this._push(Ay,1,0)};qe.prototype.fork=function(){return this.states=new lR(this),this.head=this.tail=new uc(Ey,0,0),this.len=0,this};qe.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new uc(Ey,0,0),this.len=0),this};qe.prototype.ldelim=function(){var e=this.head,t=this.tail,i=this.len;return this.reset().uint32(i),i&&(this.tail.next=e.next,this.tail=t,this.len+=i),this};qe.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),i=0;e;)e.fn(e.val,t,i),i+=e.len,e=e.next;return t};qe._configure=function(r){wy=r,qe.create=__(),wy._configure()}});var x_=B((XW,S_)=>{"use strict";f();S_.exports=mi;var C_=by();(mi.prototype=Object.create(C_.prototype)).constructor=mi;var Tn=xn();function mi(){C_.call(this)}mi._configure=function(){mi.alloc=Tn._Buffer_allocUnsafe,mi.writeBytesBuffer=Tn.Buffer&&Tn.Buffer.prototype instanceof Uint8Array&&Tn.Buffer.prototype.set.name==="set"?function(e,t,i){t.set(e,i)}:function(e,t,i){if(e.copy)e.copy(t,i,0,e.length);else for(var n=0;n<e.length;)t[i++]=e[n++]}};mi.prototype.bytes=function(e){Tn.isString(e)&&(e=Tn._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(mi.writeBytesBuffer,t,e),this};function dR(r,e,t){r.length<40?Tn.utf8.write(r,e,t):e.utf8Write?e.utf8Write(r,t):e.write(r,t)}mi.prototype.string=function(e){var t=Tn.Buffer.byteLength(e);return this.uint32(t),t&&this._push(dR,t,e),this};mi._configure()});var xy=B((e$,P_)=>{"use strict";f();P_.exports=gt;var wi=xn(),Sy,D_=wi.LongBits,pR=wi.utf8;function $r(r,e){return RangeError("index out of range: "+r.pos+" + "+(e||1)+" > "+r.len)}function gt(r){this.buf=r,this.pos=0,this.len=r.length}var T_=typeof Uint8Array<"u"?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new gt(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new gt(e);throw Error("illegal buffer")},O_=function(){return wi.Buffer?function(t){return(gt.create=function(n){return wi.Buffer.isBuffer(n)?new Sy(n):T_(n)})(t)}:T_};gt.create=O_();gt.prototype._slice=wi.Array.prototype.subarray||wi.Array.prototype.slice;gt.prototype.uint32=function(){var e=4294967295;return function(){if(e=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(e=(e|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,$r(this,10);return e}}();gt.prototype.int32=function(){return this.uint32()|0};gt.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(e&1)|0};function Cy(){var r=new D_(0,0),e=0;if(this.len-this.pos>4){for(;e<4;++e)if(r.lo=(r.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return r;if(r.lo=(r.lo|(this.buf[this.pos]&127)<<28)>>>0,r.hi=(r.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return r;e=0}else{for(;e<3;++e){if(this.pos>=this.len)throw $r(this);if(r.lo=(r.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return r}return r.lo=(r.lo|(this.buf[this.pos++]&127)<<e*7)>>>0,r}if(this.len-this.pos>4){for(;e<5;++e)if(r.hi=(r.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return r}else for(;e<5;++e){if(this.pos>=this.len)throw $r(this);if(r.hi=(r.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return r}throw Error("invalid varint encoding")}gt.prototype.bool=function(){return this.uint32()!==0};function Jf(r,e){return(r[e-4]|r[e-3]<<8|r[e-2]<<16|r[e-1]<<24)>>>0}gt.prototype.fixed32=function(){if(this.pos+4>this.len)throw $r(this,4);return Jf(this.buf,this.pos+=4)};gt.prototype.sfixed32=function(){if(this.pos+4>this.len)throw $r(this,4);return Jf(this.buf,this.pos+=4)|0};function N_(){if(this.pos+8>this.len)throw $r(this,8);return new D_(Jf(this.buf,this.pos+=4),Jf(this.buf,this.pos+=4))}gt.prototype.float=function(){if(this.pos+4>this.len)throw $r(this,4);var e=wi.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e};gt.prototype.double=function(){if(this.pos+8>this.len)throw $r(this,4);var e=wi.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e};gt.prototype.bytes=function(){var e=this.uint32(),t=this.pos,i=this.pos+e;if(i>this.len)throw $r(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,i):t===i?new this.buf.constructor(0):this._slice.call(this.buf,t,i)};gt.prototype.string=function(){var e=this.bytes();return pR.read(e,0,e.length)};gt.prototype.skip=function(e){if(typeof e=="number"){if(this.pos+e>this.len)throw $r(this,e);this.pos+=e}else do if(this.pos>=this.len)throw $r(this);while(this.buf[this.pos++]&128);return this};gt.prototype.skipType=function(r){switch(r){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(r=this.uint32()&7)!==4;)this.skipType(r);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+r+" at offset "+this.pos)}return this};gt._configure=function(r){Sy=r,gt.create=O_(),Sy._configure();var e=wi.Long?"toLong":"toNumber";wi.merge(gt.prototype,{int64:function(){return Cy.call(this)[e](!1)},uint64:function(){return Cy.call(this)[e](!0)},sint64:function(){return Cy.call(this).zzDecode()[e](!1)},fixed64:function(){return N_.call(this)[e](!0)},sfixed64:function(){return N_.call(this)[e](!1)}})}});var L_=B((r$,R_)=>{"use strict";f();R_.exports=js;var M_=xy();(js.prototype=Object.create(M_.prototype)).constructor=js;var B_=xn();function js(r){M_.call(this,r)}js._configure=function(){B_.Buffer&&(js.prototype._slice=B_.Buffer.prototype.slice)};js.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))};js._configure()});var U_=B((n$,F_)=>{"use strict";f();F_.exports=cc;var Ty=xn();(cc.prototype=Object.create(Ty.EventEmitter.prototype)).constructor=cc;function cc(r,e,t){if(typeof r!="function")throw TypeError("rpcImpl must be a function");Ty.EventEmitter.call(this),this.rpcImpl=r,this.requestDelimited=Boolean(e),this.responseDelimited=Boolean(t)}cc.prototype.rpcCall=function r(e,t,i,n,s){if(!n)throw TypeError("request must be specified");var o=this;if(!s)return Ty.asPromise(r,o,e,t,i,n);if(!o.rpcImpl){setTimeout(function(){s(Error("already ended"))},0);return}try{return o.rpcImpl(e,t[o.requestDelimited?"encodeDelimited":"encode"](n).finish(),function(u,h){if(u)return o.emit("error",u,e),s(u);if(h===null){o.end(!0);return}if(!(h instanceof i))try{h=i[o.responseDelimited?"decodeDelimited":"decode"](h)}catch(p){return o.emit("error",p,e),s(p)}return o.emit("data",h,e),s(null,h)})}catch(a){o.emit("error",a,e),setTimeout(function(){s(a)},0);return}};cc.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}});var V_=B(q_=>{"use strict";f();var gR=q_;gR.Service=U_()});var Q_=B((u$,H_)=>{"use strict";f();H_.exports={}});var K_=B(G_=>{"use strict";f();var gr=G_;gr.build="minimal";gr.Writer=by();gr.BufferWriter=x_();gr.Reader=xy();gr.BufferReader=L_();gr.util=xn();gr.rpc=V_();gr.roots=Q_();gr.configure=j_;function j_(){gr.util._configure(),gr.Writer._configure(gr.BufferWriter),gr.Reader._configure(gr.BufferReader)}j_()});var k_=B((h$,z_)=>{"use strict";f();z_.exports=K_()});var $_=B((p$,W_)=>{"use strict";f();var Ca=k_(),Xf=Ca.Reader,yR=Ca.Writer,le=Ca.util,lc=Ca.roots.default||(Ca.roots.default={});lc.proto=function(){var r={};return r.Transaction=function(){function e(t){if(t)for(var i=Object.keys(t),n=0;n<i.length;++n)t[i[n]]!=null&&(this[i[n]]=t[i[n]])}return e.prototype.Nonce=le.Long?le.Long.fromBits(0,0,!0):0,e.prototype.Value=le.newBuffer([]),e.prototype.RcvAddr=le.newBuffer([]),e.prototype.RcvUserName=le.newBuffer([]),e.prototype.SndAddr=le.newBuffer([]),e.prototype.SndUserName=le.newBuffer([]),e.prototype.GasPrice=le.Long?le.Long.fromBits(0,0,!0):0,e.prototype.GasLimit=le.Long?le.Long.fromBits(0,0,!0):0,e.prototype.Data=le.newBuffer([]),e.prototype.ChainID=le.newBuffer([]),e.prototype.Version=0,e.prototype.Signature=le.newBuffer([]),e.prototype.Options=0,e.create=function(i){return new e(i)},e.encode=function(i,n){return n||(n=yR.create()),i.Nonce!=null&&Object.hasOwnProperty.call(i,"Nonce")&&n.uint32(8).uint64(i.Nonce),i.Value!=null&&Object.hasOwnProperty.call(i,"Value")&&n.uint32(18).bytes(i.Value),i.RcvAddr!=null&&Object.hasOwnProperty.call(i,"RcvAddr")&&n.uint32(26).bytes(i.RcvAddr),i.RcvUserName!=null&&Object.hasOwnProperty.call(i,"RcvUserName")&&n.uint32(34).bytes(i.RcvUserName),i.SndAddr!=null&&Object.hasOwnProperty.call(i,"SndAddr")&&n.uint32(42).bytes(i.SndAddr),i.SndUserName!=null&&Object.hasOwnProperty.call(i,"SndUserName")&&n.uint32(50).bytes(i.SndUserName),i.GasPrice!=null&&Object.hasOwnProperty.call(i,"GasPrice")&&n.uint32(56).uint64(i.GasPrice),i.GasLimit!=null&&Object.hasOwnProperty.call(i,"GasLimit")&&n.uint32(64).uint64(i.GasLimit),i.Data!=null&&Object.hasOwnProperty.call(i,"Data")&&n.uint32(74).bytes(i.Data),i.ChainID!=null&&Object.hasOwnProperty.call(i,"ChainID")&&n.uint32(82).bytes(i.ChainID),i.Version!=null&&Object.hasOwnProperty.call(i,"Version")&&n.uint32(88).uint32(i.Version),i.Signature!=null&&Object.hasOwnProperty.call(i,"Signature")&&n.uint32(98).bytes(i.Signature),i.Options!=null&&Object.hasOwnProperty.call(i,"Options")&&n.uint32(104).uint32(i.Options),n},e.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},e.decode=function(i,n){i instanceof Xf||(i=Xf.create(i));for(var s=n===void 0?i.len:i.pos+n,o=new lc.proto.Transaction;i.pos<s;){var a=i.uint32();switch(a>>>3){case 1:o.Nonce=i.uint64();break;case 2:o.Value=i.bytes();break;case 3:o.RcvAddr=i.bytes();break;case 4:o.RcvUserName=i.bytes();break;case 5:o.SndAddr=i.bytes();break;case 6:o.SndUserName=i.bytes();break;case 7:o.GasPrice=i.uint64();break;case 8:o.GasLimit=i.uint64();break;case 9:o.Data=i.bytes();break;case 10:o.ChainID=i.bytes();break;case 11:o.Version=i.uint32();break;case 12:o.Signature=i.bytes();break;case 13:o.Options=i.uint32();break;default:i.skipType(a&7);break}}return o},e.decodeDelimited=function(i){return i instanceof Xf||(i=new Xf(i)),this.decode(i,i.uint32())},e.verify=function(i){return typeof i!="object"||i===null?"object expected":i.Nonce!=null&&i.hasOwnProperty("Nonce")&&!le.isInteger(i.Nonce)&&!(i.Nonce&&le.isInteger(i.Nonce.low)&&le.isInteger(i.Nonce.high))?"Nonce: integer|Long expected":i.Value!=null&&i.hasOwnProperty("Value")&&!(i.Value&&typeof i.Value.length=="number"||le.isString(i.Value))?"Value: buffer expected":i.RcvAddr!=null&&i.hasOwnProperty("RcvAddr")&&!(i.RcvAddr&&typeof i.RcvAddr.length=="number"||le.isString(i.RcvAddr))?"RcvAddr: buffer expected":i.RcvUserName!=null&&i.hasOwnProperty("RcvUserName")&&!(i.RcvUserName&&typeof i.RcvUserName.length=="number"||le.isString(i.RcvUserName))?"RcvUserName: buffer expected":i.SndAddr!=null&&i.hasOwnProperty("SndAddr")&&!(i.SndAddr&&typeof i.SndAddr.length=="number"||le.isString(i.SndAddr))?"SndAddr: buffer expected":i.SndUserName!=null&&i.hasOwnProperty("SndUserName")&&!(i.SndUserName&&typeof i.SndUserName.length=="number"||le.isString(i.SndUserName))?"SndUserName: buffer expected":i.GasPrice!=null&&i.hasOwnProperty("GasPrice")&&!le.isInteger(i.GasPrice)&&!(i.GasPrice&&le.isInteger(i.GasPrice.low)&&le.isInteger(i.GasPrice.high))?"GasPrice: integer|Long expected":i.GasLimit!=null&&i.hasOwnProperty("GasLimit")&&!le.isInteger(i.GasLimit)&&!(i.GasLimit&&le.isInteger(i.GasLimit.low)&&le.isInteger(i.GasLimit.high))?"GasLimit: integer|Long expected":i.Data!=null&&i.hasOwnProperty("Data")&&!(i.Data&&typeof i.Data.length=="number"||le.isString(i.Data))?"Data: buffer expected":i.ChainID!=null&&i.hasOwnProperty("ChainID")&&!(i.ChainID&&typeof i.ChainID.length=="number"||le.isString(i.ChainID))?"ChainID: buffer expected":i.Version!=null&&i.hasOwnProperty("Version")&&!le.isInteger(i.Version)?"Version: integer expected":i.Signature!=null&&i.hasOwnProperty("Signature")&&!(i.Signature&&typeof i.Signature.length=="number"||le.isString(i.Signature))?"Signature: buffer expected":i.Options!=null&&i.hasOwnProperty("Options")&&!le.isInteger(i.Options)?"Options: integer expected":null},e.fromObject=function(i){if(i instanceof lc.proto.Transaction)return i;var n=new lc.proto.Transaction;return i.Nonce!=null&&(le.Long?(n.Nonce=le.Long.fromValue(i.Nonce)).unsigned=!0:typeof i.Nonce=="string"?n.Nonce=parseInt(i.Nonce,10):typeof i.Nonce=="number"?n.Nonce=i.Nonce:typeof i.Nonce=="object"&&(n.Nonce=new le.LongBits(i.Nonce.low>>>0,i.Nonce.high>>>0).toNumber(!0))),i.Value!=null&&(typeof i.Value=="string"?le.base64.decode(i.Value,n.Value=le.newBuffer(le.base64.length(i.Value)),0):i.Value.length&&(n.Value=i.Value)),i.RcvAddr!=null&&(typeof i.RcvAddr=="string"?le.base64.decode(i.RcvAddr,n.RcvAddr=le.newBuffer(le.base64.length(i.RcvAddr)),0):i.RcvAddr.length&&(n.RcvAddr=i.RcvAddr)),i.RcvUserName!=null&&(typeof i.RcvUserName=="string"?le.base64.decode(i.RcvUserName,n.RcvUserName=le.newBuffer(le.base64.length(i.RcvUserName)),0):i.RcvUserName.length&&(n.RcvUserName=i.RcvUserName)),i.SndAddr!=null&&(typeof i.SndAddr=="string"?le.base64.decode(i.SndAddr,n.SndAddr=le.newBuffer(le.base64.length(i.SndAddr)),0):i.SndAddr.length&&(n.SndAddr=i.SndAddr)),i.SndUserName!=null&&(typeof i.SndUserName=="string"?le.base64.decode(i.SndUserName,n.SndUserName=le.newBuffer(le.base64.length(i.SndUserName)),0):i.SndUserName.length&&(n.SndUserName=i.SndUserName)),i.GasPrice!=null&&(le.Long?(n.GasPrice=le.Long.fromValue(i.GasPrice)).unsigned=!0:typeof i.GasPrice=="string"?n.GasPrice=parseInt(i.GasPrice,10):typeof i.GasPrice=="number"?n.GasPrice=i.GasPrice:typeof i.GasPrice=="object"&&(n.GasPrice=new le.LongBits(i.GasPrice.low>>>0,i.GasPrice.high>>>0).toNumber(!0))),i.GasLimit!=null&&(le.Long?(n.GasLimit=le.Long.fromValue(i.GasLimit)).unsigned=!0:typeof i.GasLimit=="string"?n.GasLimit=parseInt(i.GasLimit,10):typeof i.GasLimit=="number"?n.GasLimit=i.GasLimit:typeof i.GasLimit=="object"&&(n.GasLimit=new le.LongBits(i.GasLimit.low>>>0,i.GasLimit.high>>>0).toNumber(!0))),i.Data!=null&&(typeof i.Data=="string"?le.base64.decode(i.Data,n.Data=le.newBuffer(le.base64.length(i.Data)),0):i.Data.length&&(n.Data=i.Data)),i.ChainID!=null&&(typeof i.ChainID=="string"?le.base64.decode(i.ChainID,n.ChainID=le.newBuffer(le.base64.length(i.ChainID)),0):i.ChainID.length&&(n.ChainID=i.ChainID)),i.Version!=null&&(n.Version=i.Version>>>0),i.Signature!=null&&(typeof i.Signature=="string"?le.base64.decode(i.Signature,n.Signature=le.newBuffer(le.base64.length(i.Signature)),0):i.Signature.length&&(n.Signature=i.Signature)),i.Options!=null&&(n.Options=i.Options>>>0),n},e.toObject=function(i,n){n||(n={});var s={};if(n.defaults){if(le.Long){var o=new le.Long(0,0,!0);s.Nonce=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else s.Nonce=n.longs===String?"0":0;if(n.bytes===String?s.Value="":(s.Value=[],n.bytes!==Array&&(s.Value=le.newBuffer(s.Value))),n.bytes===String?s.RcvAddr="":(s.RcvAddr=[],n.bytes!==Array&&(s.RcvAddr=le.newBuffer(s.RcvAddr))),n.bytes===String?s.RcvUserName="":(s.RcvUserName=[],n.bytes!==Array&&(s.RcvUserName=le.newBuffer(s.RcvUserName))),n.bytes===String?s.SndAddr="":(s.SndAddr=[],n.bytes!==Array&&(s.SndAddr=le.newBuffer(s.SndAddr))),n.bytes===String?s.SndUserName="":(s.SndUserName=[],n.bytes!==Array&&(s.SndUserName=le.newBuffer(s.SndUserName))),le.Long){var o=new le.Long(0,0,!0);s.GasPrice=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else s.GasPrice=n.longs===String?"0":0;if(le.Long){var o=new le.Long(0,0,!0);s.GasLimit=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else s.GasLimit=n.longs===String?"0":0;n.bytes===String?s.Data="":(s.Data=[],n.bytes!==Array&&(s.Data=le.newBuffer(s.Data))),n.bytes===String?s.ChainID="":(s.ChainID=[],n.bytes!==Array&&(s.ChainID=le.newBuffer(s.ChainID))),s.Version=0,n.bytes===String?s.Signature="":(s.Signature=[],n.bytes!==Array&&(s.Signature=le.newBuffer(s.Signature))),s.Options=0}return i.Nonce!=null&&i.hasOwnProperty("Nonce")&&(typeof i.Nonce=="number"?s.Nonce=n.longs===String?String(i.Nonce):i.Nonce:s.Nonce=n.longs===String?le.Long.prototype.toString.call(i.Nonce):n.longs===Number?new le.LongBits(i.Nonce.low>>>0,i.Nonce.high>>>0).toNumber(!0):i.Nonce),i.Value!=null&&i.hasOwnProperty("Value")&&(s.Value=n.bytes===String?le.base64.encode(i.Value,0,i.Value.length):n.bytes===Array?Array.prototype.slice.call(i.Value):i.Value),i.RcvAddr!=null&&i.hasOwnProperty("RcvAddr")&&(s.RcvAddr=n.bytes===String?le.base64.encode(i.RcvAddr,0,i.RcvAddr.length):n.bytes===Array?Array.prototype.slice.call(i.RcvAddr):i.RcvAddr),i.RcvUserName!=null&&i.hasOwnProperty("RcvUserName")&&(s.RcvUserName=n.bytes===String?le.base64.encode(i.RcvUserName,0,i.RcvUserName.length):n.bytes===Array?Array.prototype.slice.call(i.RcvUserName):i.RcvUserName),i.SndAddr!=null&&i.hasOwnProperty("SndAddr")&&(s.SndAddr=n.bytes===String?le.base64.encode(i.SndAddr,0,i.SndAddr.length):n.bytes===Array?Array.prototype.slice.call(i.SndAddr):i.SndAddr),i.SndUserName!=null&&i.hasOwnProperty("SndUserName")&&(s.SndUserName=n.bytes===String?le.base64.encode(i.SndUserName,0,i.SndUserName.length):n.bytes===Array?Array.prototype.slice.call(i.SndUserName):i.SndUserName),i.GasPrice!=null&&i.hasOwnProperty("GasPrice")&&(typeof i.GasPrice=="number"?s.GasPrice=n.longs===String?String(i.GasPrice):i.GasPrice:s.GasPrice=n.longs===String?le.Long.prototype.toString.call(i.GasPrice):n.longs===Number?new le.LongBits(i.GasPrice.low>>>0,i.GasPrice.high>>>0).toNumber(!0):i.GasPrice),i.GasLimit!=null&&i.hasOwnProperty("GasLimit")&&(typeof i.GasLimit=="number"?s.GasLimit=n.longs===String?String(i.GasLimit):i.GasLimit:s.GasLimit=n.longs===String?le.Long.prototype.toString.call(i.GasLimit):n.longs===Number?new le.LongBits(i.GasLimit.low>>>0,i.GasLimit.high>>>0).toNumber(!0):i.GasLimit),i.Data!=null&&i.hasOwnProperty("Data")&&(s.Data=n.bytes===String?le.base64.encode(i.Data,0,i.Data.length):n.bytes===Array?Array.prototype.slice.call(i.Data):i.Data),i.ChainID!=null&&i.hasOwnProperty("ChainID")&&(s.ChainID=n.bytes===String?le.base64.encode(i.ChainID,0,i.ChainID.length):n.bytes===Array?Array.prototype.slice.call(i.ChainID):i.ChainID),i.Version!=null&&i.hasOwnProperty("Version")&&(s.Version=i.Version),i.Signature!=null&&i.hasOwnProperty("Signature")&&(s.Signature=n.bytes===String?le.base64.encode(i.Signature,0,i.Signature.length):n.bytes===Array?Array.prototype.slice.call(i.Signature):i.Signature),i.Options!=null&&i.hasOwnProperty("Options")&&(s.Options=i.Options),s},e.prototype.toJSON=function(){return this.constructor.toObject(this,Ca.util.toJSONOptions)},e}(),r}();W_.exports=lc});var X_=B(Rr=>{"use strict";f();var mR=Rr&&Rr.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),wR=Rr&&Rr.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),vR=Rr&&Rr.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&mR(e,r,t);return wR(e,r),e},ER=Rr&&Rr.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Rr,"__esModule",{value:!0});Rr.ProtoSerializer=void 0;var AR=ER(jr()),Y_=Gr(),IR=Wu(),_R=vR(Ye()),bR=Bg(),J_=$_(),Ny=class{serializeTransaction(e){let t=new Y_.Address(e.getReceiver().bech32()).pubkey(),i=new Y_.Address(e.getSender().bech32()).pubkey(),n=new J_.proto.Transaction({Nonce:e.getNonce().valueOf()?e.getNonce().valueOf():void 0,Value:this.serializeTransactionValue(e.getValue()),RcvAddr:t,RcvUserName:null,SndAddr:i,SndUserName:null,GasPrice:e.getGasPrice().valueOf(),GasLimit:e.getGasLimit().valueOf(),Data:e.getData().length()==0?null:e.getData().valueOf(),ChainID:y.Buffer.from(e.getChainID().valueOf()),Version:e.getVersion().valueOf(),Signature:y.Buffer.from(e.getSignature().hex(),"hex")});e.getOptions().valueOf()!==IR.TRANSACTION_OPTIONS_DEFAULT&&(n.Options=e.getOptions().valueOf());let s=J_.proto.Transaction.encode(n).finish();return y.Buffer.from(s)}serializeTransactionValue(e){let t=new AR.default(e.toString());if(t.isZero())return y.Buffer.from([0,0]);let i=bR.bigIntToBuffer(t);return i=y.Buffer.concat([y.Buffer.from([0]),i]),i}deserializeTransaction(e){throw new _R.ErrUnsupportedOperation("deserializeTransaction")}};Rr.ProtoSerializer=Ny});var Z_=B(Gs=>{"use strict";f();var CR=Gs&&Gs.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),SR=Gs&&Gs.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&CR(e,r,t)};Object.defineProperty(Gs,"__esModule",{value:!0});SR(X_(),Gs)});var rb=B(vi=>{"use strict";f();var xR=vi&&vi.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),TR=vi&&vi.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),NR=vi&&vi.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&xR(e,r,t);return TR(e,r),e};Object.defineProperty(vi,"__esModule",{value:!0});vi.Signature=void 0;var eb=NR(Ye()),tb=64,Yr=class{constructor(e){if(this.valueHex="",!!e){if(typeof e=="string")return Yr.fromHex(e);if(e instanceof y.Buffer)return Yr.fromBuffer(e)}}static empty(){return new Yr}static fromHex(e){if(e.startsWith("0x")&&(e=e.slice(2)),!Yr.isValidHex(e))throw new eb.ErrSignatureCannotCreate(e);return Yr.fromValidHex(e)}static isValidHex(e){return y.Buffer.from(e,"hex").length==tb}static fromValidHex(e){let t=new Yr;return t.valueHex=e,t}static fromBuffer(e){if(e.length!=tb)throw new eb.ErrSignatureCannotCreate(e);return Yr.fromValidHex(e.toString("hex"))}hex(){return this.valueHex}};vi.Signature=Yr});var Dy=B((I$,ib)=>{f();$i.notEqual=OR;$i.notOk=PR;$i.equal=DR;$i.ok=$i;ib.exports=$i;function DR(r,e,t){$i(r==e,t)}function OR(r,e,t){$i(r!=e,t)}function PR(r,e){$i(!r,e)}function $i(r,e){if(!r)throw new Error(e||"AssertionError")}});var Eb=B(Na=>{"use strict";f();var Oy=g0(),xa=m0(),nb=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Na.Buffer=ne;Na.SlowBuffer=UR;Na.INSPECT_MAX_BYTES=50;var Zf=2147483647;Na.kMaxLength=Zf;ne.TYPED_ARRAY_SUPPORT=BR();!ne.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function BR(){try{let r=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(r,e),r.foo()===42}catch{return!1}}Object.defineProperty(ne.prototype,"parent",{enumerable:!0,get:function(){if(ne.isBuffer(this))return this.buffer}});Object.defineProperty(ne.prototype,"offset",{enumerable:!0,get:function(){if(ne.isBuffer(this))return this.byteOffset}});function Yi(r){if(r>Zf)throw new RangeError('The value "'+r+'" is invalid for option "size"');let e=new Uint8Array(r);return Object.setPrototypeOf(e,ne.prototype),e}function ne(r,e,t){if(typeof r=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Ry(r)}return ub(r,e,t)}ne.poolSize=8192;function ub(r,e,t){if(typeof r=="string")return RR(r,e);if(ArrayBuffer.isView(r))return LR(r);if(r==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r);if(Ei(r,ArrayBuffer)||r&&Ei(r.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ei(r,SharedArrayBuffer)||r&&Ei(r.buffer,SharedArrayBuffer)))return By(r,e,t);if(typeof r=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let i=r.valueOf&&r.valueOf();if(i!=null&&i!==r)return ne.from(i,e,t);let n=FR(r);if(n)return n;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof r[Symbol.toPrimitive]=="function")return ne.from(r[Symbol.toPrimitive]("string"),e,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r)}ne.from=function(r,e,t){return ub(r,e,t)};Object.setPrototypeOf(ne.prototype,Uint8Array.prototype);Object.setPrototypeOf(ne,Uint8Array);function cb(r){if(typeof r!="number")throw new TypeError('"size" argument must be of type number');if(r<0)throw new RangeError('The value "'+r+'" is invalid for option "size"')}function MR(r,e,t){return cb(r),r<=0?Yi(r):e!==void 0?typeof t=="string"?Yi(r).fill(e,t):Yi(r).fill(e):Yi(r)}ne.alloc=function(r,e,t){return MR(r,e,t)};function Ry(r){return cb(r),Yi(r<0?0:Ly(r)|0)}ne.allocUnsafe=function(r){return Ry(r)};ne.allocUnsafeSlow=function(r){return Ry(r)};function RR(r,e){if((typeof e!="string"||e==="")&&(e="utf8"),!ne.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let t=lb(r,e)|0,i=Yi(t),n=i.write(r,e);return n!==t&&(i=i.slice(0,n)),i}function Py(r){let e=r.length<0?0:Ly(r.length)|0,t=Yi(e);for(let i=0;i<e;i+=1)t[i]=r[i]&255;return t}function LR(r){if(Ei(r,Uint8Array)){let e=new Uint8Array(r);return By(e.buffer,e.byteOffset,e.byteLength)}return Py(r)}function By(r,e,t){if(e<0||r.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(r.byteLength<e+(t||0))throw new RangeError('"length" is outside of buffer bounds');let i;return e===void 0&&t===void 0?i=new Uint8Array(r):t===void 0?i=new Uint8Array(r,e):i=new Uint8Array(r,e,t),Object.setPrototypeOf(i,ne.prototype),i}function FR(r){if(ne.isBuffer(r)){let e=Ly(r.length)|0,t=Yi(e);return t.length===0||r.copy(t,0,0,e),t}if(r.length!==void 0)return typeof r.length!="number"||Uy(r.length)?Yi(0):Py(r);if(r.type==="Buffer"&&Array.isArray(r.data))return Py(r.data)}function Ly(r){if(r>=Zf)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Zf.toString(16)+" bytes");return r|0}function UR(r){return+r!=r&&(r=0),ne.alloc(+r)}ne.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==ne.prototype};ne.compare=function(e,t){if(Ei(e,Uint8Array)&&(e=ne.from(e,e.offset,e.byteLength)),Ei(t,Uint8Array)&&(t=ne.from(t,t.offset,t.byteLength)),!ne.isBuffer(e)||!ne.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let i=e.length,n=t.length;for(let s=0,o=Math.min(i,n);s<o;++s)if(e[s]!==t[s]){i=e[s],n=t[s];break}return i<n?-1:n<i?1:0};ne.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};ne.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return ne.alloc(0);let i;if(t===void 0)for(t=0,i=0;i<e.length;++i)t+=e[i].length;let n=ne.allocUnsafe(t),s=0;for(i=0;i<e.length;++i){let o=e[i];if(Ei(o,Uint8Array))s+o.length>n.length?(ne.isBuffer(o)||(o=ne.from(o)),o.copy(n,s)):Uint8Array.prototype.set.call(n,o,s);else if(ne.isBuffer(o))o.copy(n,s);else throw new TypeError('"list" argument must be an Array of Buffers');s+=o.length}return n};function lb(r,e){if(ne.isBuffer(r))return r.length;if(ArrayBuffer.isView(r)||Ei(r,ArrayBuffer))return r.byteLength;if(typeof r!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof r);let t=r.length,i=arguments.length>2&&arguments[2]===!0;if(!i&&t===0)return 0;let n=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return My(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return vb(r).length;default:if(n)return i?-1:My(r).length;e=(""+e).toLowerCase(),n=!0}}ne.byteLength=lb;function qR(r,e,t){let i=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,e>>>=0,t<=e))return"";for(r||(r="utf8");;)switch(r){case"hex":return $R(this,e,t);case"utf8":case"utf-8":return hb(this,e,t);case"ascii":return kR(this,e,t);case"latin1":case"binary":return WR(this,e,t);case"base64":return KR(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return YR(this,e,t);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),i=!0}}ne.prototype._isBuffer=!0;function Ks(r,e,t){let i=r[e];r[e]=r[t],r[t]=i}ne.prototype.swap16=function(){let e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)Ks(this,t,t+1);return this};ne.prototype.swap32=function(){let e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)Ks(this,t,t+3),Ks(this,t+1,t+2);return this};ne.prototype.swap64=function(){let e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)Ks(this,t,t+7),Ks(this,t+1,t+6),Ks(this,t+2,t+5),Ks(this,t+3,t+4);return this};ne.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?hb(this,0,e):qR.apply(this,arguments)};ne.prototype.toLocaleString=ne.prototype.toString;ne.prototype.equals=function(e){if(!ne.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:ne.compare(this,e)===0};ne.prototype.inspect=function(){let e="",t=Na.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"};nb&&(ne.prototype[nb]=ne.prototype.inspect);ne.prototype.compare=function(e,t,i,n,s){if(Ei(e,Uint8Array)&&(e=ne.from(e,e.offset,e.byteLength)),!ne.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),i===void 0&&(i=e?e.length:0),n===void 0&&(n=0),s===void 0&&(s=this.length),t<0||i>e.length||n<0||s>this.length)throw new RangeError("out of range index");if(n>=s&&t>=i)return 0;if(n>=s)return-1;if(t>=i)return 1;if(t>>>=0,i>>>=0,n>>>=0,s>>>=0,this===e)return 0;let o=s-n,a=i-t,u=Math.min(o,a),h=this.slice(n,s),p=e.slice(t,i);for(let A=0;A<u;++A)if(h[A]!==p[A]){o=h[A],a=p[A];break}return o<a?-1:a<o?1:0};function fb(r,e,t,i,n){if(r.length===0)return-1;if(typeof t=="string"?(i=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,Uy(t)&&(t=n?0:r.length-1),t<0&&(t=r.length+t),t>=r.length){if(n)return-1;t=r.length-1}else if(t<0)if(n)t=0;else return-1;if(typeof e=="string"&&(e=ne.from(e,i)),ne.isBuffer(e))return e.length===0?-1:sb(r,e,t,i,n);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?n?Uint8Array.prototype.indexOf.call(r,e,t):Uint8Array.prototype.lastIndexOf.call(r,e,t):sb(r,[e],t,i,n);throw new TypeError("val must be string, number or Buffer")}function sb(r,e,t,i,n){let s=1,o=r.length,a=e.length;if(i!==void 0&&(i=String(i).toLowerCase(),i==="ucs2"||i==="ucs-2"||i==="utf16le"||i==="utf-16le")){if(r.length<2||e.length<2)return-1;s=2,o/=2,a/=2,t/=2}function u(p,A){return s===1?p[A]:p.readUInt16BE(A*s)}let h;if(n){let p=-1;for(h=t;h<o;h++)if(u(r,h)===u(e,p===-1?0:h-p)){if(p===-1&&(p=h),h-p+1===a)return p*s}else p!==-1&&(h-=h-p),p=-1}else for(t+a>o&&(t=o-a),h=t;h>=0;h--){let p=!0;for(let A=0;A<a;A++)if(u(r,h+A)!==u(e,A)){p=!1;break}if(p)return h}return-1}ne.prototype.includes=function(e,t,i){return this.indexOf(e,t,i)!==-1};ne.prototype.indexOf=function(e,t,i){return fb(this,e,t,i,!0)};ne.prototype.lastIndexOf=function(e,t,i){return fb(this,e,t,i,!1)};function VR(r,e,t,i){t=Number(t)||0;let n=r.length-t;i?(i=Number(i),i>n&&(i=n)):i=n;let s=e.length;i>s/2&&(i=s/2);let o;for(o=0;o<i;++o){let a=parseInt(e.substr(o*2,2),16);if(Uy(a))return o;r[t+o]=a}return o}function HR(r,e,t,i){return eh(My(e,r.length-t),r,t,i)}function QR(r,e,t,i){return eh(eL(e),r,t,i)}function jR(r,e,t,i){return eh(vb(e),r,t,i)}function GR(r,e,t,i){return eh(tL(e,r.length-t),r,t,i)}ne.prototype.write=function(e,t,i,n){if(t===void 0)n="utf8",i=this.length,t=0;else if(i===void 0&&typeof t=="string")n=t,i=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(i)?(i=i>>>0,n===void 0&&(n="utf8")):(n=i,i=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let s=this.length-t;if((i===void 0||i>s)&&(i=s),e.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let o=!1;for(;;)switch(n){case"hex":return VR(this,e,t,i);case"utf8":case"utf-8":return HR(this,e,t,i);case"ascii":case"latin1":case"binary":return QR(this,e,t,i);case"base64":return jR(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return GR(this,e,t,i);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}};ne.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function KR(r,e,t){return e===0&&t===r.length?Oy.fromByteArray(r):Oy.fromByteArray(r.slice(e,t))}function hb(r,e,t){t=Math.min(r.length,t);let i=[],n=e;for(;n<t;){let s=r[n],o=null,a=s>239?4:s>223?3:s>191?2:1;if(n+a<=t){let u,h,p,A;switch(a){case 1:s<128&&(o=s);break;case 2:u=r[n+1],(u&192)===128&&(A=(s&31)<<6|u&63,A>127&&(o=A));break;case 3:u=r[n+1],h=r[n+2],(u&192)===128&&(h&192)===128&&(A=(s&15)<<12|(u&63)<<6|h&63,A>2047&&(A<55296||A>57343)&&(o=A));break;case 4:u=r[n+1],h=r[n+2],p=r[n+3],(u&192)===128&&(h&192)===128&&(p&192)===128&&(A=(s&15)<<18|(u&63)<<12|(h&63)<<6|p&63,A>65535&&A<1114112&&(o=A))}}o===null?(o=65533,a=1):o>65535&&(o-=65536,i.push(o>>>10&1023|55296),o=56320|o&1023),i.push(o),n+=a}return zR(i)}var ob=4096;function zR(r){let e=r.length;if(e<=ob)return String.fromCharCode.apply(String,r);let t="",i=0;for(;i<e;)t+=String.fromCharCode.apply(String,r.slice(i,i+=ob));return t}function kR(r,e,t){let i="";t=Math.min(r.length,t);for(let n=e;n<t;++n)i+=String.fromCharCode(r[n]&127);return i}function WR(r,e,t){let i="";t=Math.min(r.length,t);for(let n=e;n<t;++n)i+=String.fromCharCode(r[n]);return i}function $R(r,e,t){let i=r.length;(!e||e<0)&&(e=0),(!t||t<0||t>i)&&(t=i);let n="";for(let s=e;s<t;++s)n+=rL[r[s]];return n}function YR(r,e,t){let i=r.slice(e,t),n="";for(let s=0;s<i.length-1;s+=2)n+=String.fromCharCode(i[s]+i[s+1]*256);return n}ne.prototype.slice=function(e,t){let i=this.length;e=~~e,t=t===void 0?i:~~t,e<0?(e+=i,e<0&&(e=0)):e>i&&(e=i),t<0?(t+=i,t<0&&(t=0)):t>i&&(t=i),t<e&&(t=e);let n=this.subarray(e,t);return Object.setPrototypeOf(n,ne.prototype),n};function kt(r,e,t){if(r%1!==0||r<0)throw new RangeError("offset is not uint");if(r+e>t)throw new RangeError("Trying to access beyond buffer length")}ne.prototype.readUintLE=ne.prototype.readUIntLE=function(e,t,i){e=e>>>0,t=t>>>0,i||kt(e,t,this.length);let n=this[e],s=1,o=0;for(;++o<t&&(s*=256);)n+=this[e+o]*s;return n};ne.prototype.readUintBE=ne.prototype.readUIntBE=function(e,t,i){e=e>>>0,t=t>>>0,i||kt(e,t,this.length);let n=this[e+--t],s=1;for(;t>0&&(s*=256);)n+=this[e+--t]*s;return n};ne.prototype.readUint8=ne.prototype.readUInt8=function(e,t){return e=e>>>0,t||kt(e,1,this.length),this[e]};ne.prototype.readUint16LE=ne.prototype.readUInt16LE=function(e,t){return e=e>>>0,t||kt(e,2,this.length),this[e]|this[e+1]<<8};ne.prototype.readUint16BE=ne.prototype.readUInt16BE=function(e,t){return e=e>>>0,t||kt(e,2,this.length),this[e]<<8|this[e+1]};ne.prototype.readUint32LE=ne.prototype.readUInt32LE=function(e,t){return e=e>>>0,t||kt(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};ne.prototype.readUint32BE=ne.prototype.readUInt32BE=function(e,t){return e=e>>>0,t||kt(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};ne.prototype.readBigUInt64LE=Nn(function(e){e=e>>>0,Ta(e,"offset");let t=this[e],i=this[e+7];(t===void 0||i===void 0)&&fc(e,this.length-8);let n=t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,s=this[++e]+this[++e]*2**8+this[++e]*2**16+i*2**24;return BigInt(n)+(BigInt(s)<<BigInt(32))});ne.prototype.readBigUInt64BE=Nn(function(e){e=e>>>0,Ta(e,"offset");let t=this[e],i=this[e+7];(t===void 0||i===void 0)&&fc(e,this.length-8);let n=t*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],s=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+i;return(BigInt(n)<<BigInt(32))+BigInt(s)});ne.prototype.readIntLE=function(e,t,i){e=e>>>0,t=t>>>0,i||kt(e,t,this.length);let n=this[e],s=1,o=0;for(;++o<t&&(s*=256);)n+=this[e+o]*s;return s*=128,n>=s&&(n-=Math.pow(2,8*t)),n};ne.prototype.readIntBE=function(e,t,i){e=e>>>0,t=t>>>0,i||kt(e,t,this.length);let n=t,s=1,o=this[e+--n];for(;n>0&&(s*=256);)o+=this[e+--n]*s;return s*=128,o>=s&&(o-=Math.pow(2,8*t)),o};ne.prototype.readInt8=function(e,t){return e=e>>>0,t||kt(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};ne.prototype.readInt16LE=function(e,t){e=e>>>0,t||kt(e,2,this.length);let i=this[e]|this[e+1]<<8;return i&32768?i|4294901760:i};ne.prototype.readInt16BE=function(e,t){e=e>>>0,t||kt(e,2,this.length);let i=this[e+1]|this[e]<<8;return i&32768?i|4294901760:i};ne.prototype.readInt32LE=function(e,t){return e=e>>>0,t||kt(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};ne.prototype.readInt32BE=function(e,t){return e=e>>>0,t||kt(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};ne.prototype.readBigInt64LE=Nn(function(e){e=e>>>0,Ta(e,"offset");let t=this[e],i=this[e+7];(t===void 0||i===void 0)&&fc(e,this.length-8);let n=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(i<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)});ne.prototype.readBigInt64BE=Nn(function(e){e=e>>>0,Ta(e,"offset");let t=this[e],i=this[e+7];(t===void 0||i===void 0)&&fc(e,this.length-8);let n=(t<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+i)});ne.prototype.readFloatLE=function(e,t){return e=e>>>0,t||kt(e,4,this.length),xa.read(this,e,!0,23,4)};ne.prototype.readFloatBE=function(e,t){return e=e>>>0,t||kt(e,4,this.length),xa.read(this,e,!1,23,4)};ne.prototype.readDoubleLE=function(e,t){return e=e>>>0,t||kt(e,8,this.length),xa.read(this,e,!0,52,8)};ne.prototype.readDoubleBE=function(e,t){return e=e>>>0,t||kt(e,8,this.length),xa.read(this,e,!1,52,8)};function yr(r,e,t,i,n,s){if(!ne.isBuffer(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>n||e<s)throw new RangeError('"value" argument is out of bounds');if(t+i>r.length)throw new RangeError("Index out of range")}ne.prototype.writeUintLE=ne.prototype.writeUIntLE=function(e,t,i,n){if(e=+e,t=t>>>0,i=i>>>0,!n){let a=Math.pow(2,8*i)-1;yr(this,e,t,i,a,0)}let s=1,o=0;for(this[t]=e&255;++o<i&&(s*=256);)this[t+o]=e/s&255;return t+i};ne.prototype.writeUintBE=ne.prototype.writeUIntBE=function(e,t,i,n){if(e=+e,t=t>>>0,i=i>>>0,!n){let a=Math.pow(2,8*i)-1;yr(this,e,t,i,a,0)}let s=i-1,o=1;for(this[t+s]=e&255;--s>=0&&(o*=256);)this[t+s]=e/o&255;return t+i};ne.prototype.writeUint8=ne.prototype.writeUInt8=function(e,t,i){return e=+e,t=t>>>0,i||yr(this,e,t,1,255,0),this[t]=e&255,t+1};ne.prototype.writeUint16LE=ne.prototype.writeUInt16LE=function(e,t,i){return e=+e,t=t>>>0,i||yr(this,e,t,2,65535,0),this[t]=e&255,this[t+1]=e>>>8,t+2};ne.prototype.writeUint16BE=ne.prototype.writeUInt16BE=function(e,t,i){return e=+e,t=t>>>0,i||yr(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=e&255,t+2};ne.prototype.writeUint32LE=ne.prototype.writeUInt32LE=function(e,t,i){return e=+e,t=t>>>0,i||yr(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255,t+4};ne.prototype.writeUint32BE=ne.prototype.writeUInt32BE=function(e,t,i){return e=+e,t=t>>>0,i||yr(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};function db(r,e,t,i,n){wb(e,i,n,r,t,7);let s=Number(e&BigInt(4294967295));r[t++]=s,s=s>>8,r[t++]=s,s=s>>8,r[t++]=s,s=s>>8,r[t++]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return r[t++]=o,o=o>>8,r[t++]=o,o=o>>8,r[t++]=o,o=o>>8,r[t++]=o,t}function pb(r,e,t,i,n){wb(e,i,n,r,t,7);let s=Number(e&BigInt(4294967295));r[t+7]=s,s=s>>8,r[t+6]=s,s=s>>8,r[t+5]=s,s=s>>8,r[t+4]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return r[t+3]=o,o=o>>8,r[t+2]=o,o=o>>8,r[t+1]=o,o=o>>8,r[t]=o,t+8}ne.prototype.writeBigUInt64LE=Nn(function(e,t=0){return db(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))});ne.prototype.writeBigUInt64BE=Nn(function(e,t=0){return pb(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))});ne.prototype.writeIntLE=function(e,t,i,n){if(e=+e,t=t>>>0,!n){let u=Math.pow(2,8*i-1);yr(this,e,t,i,u-1,-u)}let s=0,o=1,a=0;for(this[t]=e&255;++s<i&&(o*=256);)e<0&&a===0&&this[t+s-1]!==0&&(a=1),this[t+s]=(e/o>>0)-a&255;return t+i};ne.prototype.writeIntBE=function(e,t,i,n){if(e=+e,t=t>>>0,!n){let u=Math.pow(2,8*i-1);yr(this,e,t,i,u-1,-u)}let s=i-1,o=1,a=0;for(this[t+s]=e&255;--s>=0&&(o*=256);)e<0&&a===0&&this[t+s+1]!==0&&(a=1),this[t+s]=(e/o>>0)-a&255;return t+i};ne.prototype.writeInt8=function(e,t,i){return e=+e,t=t>>>0,i||yr(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=e&255,t+1};ne.prototype.writeInt16LE=function(e,t,i){return e=+e,t=t>>>0,i||yr(this,e,t,2,32767,-32768),this[t]=e&255,this[t+1]=e>>>8,t+2};ne.prototype.writeInt16BE=function(e,t,i){return e=+e,t=t>>>0,i||yr(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=e&255,t+2};ne.prototype.writeInt32LE=function(e,t,i){return e=+e,t=t>>>0,i||yr(this,e,t,4,2147483647,-2147483648),this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4};ne.prototype.writeInt32BE=function(e,t,i){return e=+e,t=t>>>0,i||yr(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};ne.prototype.writeBigInt64LE=Nn(function(e,t=0){return db(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});ne.prototype.writeBigInt64BE=Nn(function(e,t=0){return pb(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function gb(r,e,t,i,n,s){if(t+i>r.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function yb(r,e,t,i,n){return e=+e,t=t>>>0,n||gb(r,e,t,4,34028234663852886e22,-34028234663852886e22),xa.write(r,e,t,i,23,4),t+4}ne.prototype.writeFloatLE=function(e,t,i){return yb(this,e,t,!0,i)};ne.prototype.writeFloatBE=function(e,t,i){return yb(this,e,t,!1,i)};function mb(r,e,t,i,n){return e=+e,t=t>>>0,n||gb(r,e,t,8,17976931348623157e292,-17976931348623157e292),xa.write(r,e,t,i,52,8),t+8}ne.prototype.writeDoubleLE=function(e,t,i){return mb(this,e,t,!0,i)};ne.prototype.writeDoubleBE=function(e,t,i){return mb(this,e,t,!1,i)};ne.prototype.copy=function(e,t,i,n){if(!ne.isBuffer(e))throw new TypeError("argument should be a Buffer");if(i||(i=0),!n&&n!==0&&(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<i&&(n=i),n===i||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-i&&(n=e.length-t+i);let s=n-i;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(t,i,n):Uint8Array.prototype.set.call(e,this.subarray(i,n),t),s};ne.prototype.fill=function(e,t,i,n){if(typeof e=="string"){if(typeof t=="string"?(n=t,t=0,i=this.length):typeof i=="string"&&(n=i,i=this.length),n!==void 0&&typeof n!="string")throw new TypeError("encoding must be a string");if(typeof n=="string"&&!ne.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(e.length===1){let o=e.charCodeAt(0);(n==="utf8"&&o<128||n==="latin1")&&(e=o)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;t=t>>>0,i=i===void 0?this.length:i>>>0,e||(e=0);let s;if(typeof e=="number")for(s=t;s<i;++s)this[s]=e;else{let o=ne.isBuffer(e)?e:ne.from(e,n),a=o.length;if(a===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(s=0;s<i-t;++s)this[s+t]=o[s%a]}return this};var Sa={};function Fy(r,e,t){Sa[r]=class extends t{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${r}]`,this.stack,delete this.name}get code(){return r}set code(n){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:n,writable:!0})}toString(){return`${this.name} [${r}]: ${this.message}`}}}Fy("ERR_BUFFER_OUT_OF_BOUNDS",function(r){return r?`${r} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);Fy("ERR_INVALID_ARG_TYPE",function(r,e){return`The "${r}" argument must be of type number. Received type ${typeof e}`},TypeError);Fy("ERR_OUT_OF_RANGE",function(r,e,t){let i=`The value of "${r}" is out of range.`,n=t;return Number.isInteger(t)&&Math.abs(t)>2**32?n=ab(String(t)):typeof t=="bigint"&&(n=String(t),(t>BigInt(2)**BigInt(32)||t<-(BigInt(2)**BigInt(32)))&&(n=ab(n)),n+="n"),i+=` It must be ${e}. Received ${n}`,i},RangeError);function ab(r){let e="",t=r.length,i=r[0]==="-"?1:0;for(;t>=i+4;t-=3)e=`_${r.slice(t-3,t)}${e}`;return`${r.slice(0,t)}${e}`}function JR(r,e,t){Ta(e,"offset"),(r[e]===void 0||r[e+t]===void 0)&&fc(e,r.length-(t+1))}function wb(r,e,t,i,n,s){if(r>t||r<e){let o=typeof e=="bigint"?"n":"",a;throw s>3?e===0||e===BigInt(0)?a=`>= 0${o} and < 2${o} ** ${(s+1)*8}${o}`:a=`>= -(2${o} ** ${(s+1)*8-1}${o}) and < 2 ** ${(s+1)*8-1}${o}`:a=`>= ${e}${o} and <= ${t}${o}`,new Sa.ERR_OUT_OF_RANGE("value",a,r)}JR(i,n,s)}function Ta(r,e){if(typeof r!="number")throw new Sa.ERR_INVALID_ARG_TYPE(e,"number",r)}function fc(r,e,t){throw Math.floor(r)!==r?(Ta(r,t),new Sa.ERR_OUT_OF_RANGE(t||"offset","an integer",r)):e<0?new Sa.ERR_BUFFER_OUT_OF_BOUNDS:new Sa.ERR_OUT_OF_RANGE(t||"offset",`>= ${t?1:0} and <= ${e}`,r)}var XR=/[^+/0-9A-Za-z-_]/g;function ZR(r){if(r=r.split("=")[0],r=r.trim().replace(XR,""),r.length<2)return"";for(;r.length%4!==0;)r=r+"=";return r}function My(r,e){e=e||1/0;let t,i=r.length,n=null,s=[];for(let o=0;o<i;++o){if(t=r.charCodeAt(o),t>55295&&t<57344){if(!n){if(t>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(o+1===i){(e-=3)>-1&&s.push(239,191,189);continue}n=t;continue}if(t<56320){(e-=3)>-1&&s.push(239,191,189),n=t;continue}t=(n-55296<<10|t-56320)+65536}else n&&(e-=3)>-1&&s.push(239,191,189);if(n=null,t<128){if((e-=1)<0)break;s.push(t)}else if(t<2048){if((e-=2)<0)break;s.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;s.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;s.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return s}function eL(r){let e=[];for(let t=0;t<r.length;++t)e.push(r.charCodeAt(t)&255);return e}function tL(r,e){let t,i,n,s=[];for(let o=0;o<r.length&&!((e-=2)<0);++o)t=r.charCodeAt(o),i=t>>8,n=t%256,s.push(n),s.push(i);return s}function vb(r){return Oy.toByteArray(ZR(r))}function eh(r,e,t,i){let n;for(n=0;n<i&&!(n+t>=e.length||n>=r.length);++n)e[n+t]=r[n];return n}function Ei(r,e){return r instanceof e||r!=null&&r.constructor!=null&&r.constructor.name!=null&&r.constructor.name===e.name}function Uy(r){return r!==r}var rL=function(){let r="0123456789abcdef",e=new Array(256);for(let t=0;t<16;++t){let i=t*16;for(let n=0;n<16;++n)e[i+n]=r[t]+r[n]}return e}();function Nn(r){return typeof BigInt>"u"?iL:r}function iL(){throw new Error("BigInt not supported")}});var Ib=B((x$,Ab)=>{f();Ab.exports=qy;qy.supported=typeof WebAssembly<"u";function qy(r){if(!qy.supported)return null;var e=r&&r.imports,t=nL("AGFzbQEAAAABEANgAn9/AGADf39/AGABfwADBQQAAQICBQUBAQroBwdNBQZtZW1vcnkCAAxibGFrZTJiX2luaXQAAA5ibGFrZTJiX3VwZGF0ZQABDWJsYWtlMmJfZmluYWwAAhBibGFrZTJiX2NvbXByZXNzAAMK00AElgMAIABCADcDACAAQQhqQgA3AwAgAEEQakIANwMAIABBGGpCADcDACAAQSBqQgA3AwAgAEEoakIANwMAIABBMGpCADcDACAAQThqQgA3AwAgAEHAAGpCADcDACAAQcgAakIANwMAIABB0ABqQgA3AwAgAEHYAGpCADcDACAAQeAAakIANwMAIABB6ABqQgA3AwAgAEHwAGpCADcDACAAQfgAakIANwMAIABBgAFqQoiS853/zPmE6gBBACkDAIU3AwAgAEGIAWpCu86qptjQ67O7f0EIKQMAhTcDACAAQZABakKr8NP0r+68tzxBECkDAIU3AwAgAEGYAWpC8e30+KWn/aelf0EYKQMAhTcDACAAQaABakLRhZrv+s+Uh9EAQSApAwCFNwMAIABBqAFqQp/Y+dnCkdqCm39BKCkDAIU3AwAgAEGwAWpC6/qG2r+19sEfQTApAwCFNwMAIABBuAFqQvnC+JuRo7Pw2wBBOCkDAIU3AwAgAEHAAWpCADcDACAAQcgBakIANwMAIABB0AFqQgA3AwALbQEDfyAAQcABaiEDIABByAFqIQQgBCkDAKchBQJAA0AgASACRg0BIAVBgAFGBEAgAyADKQMAIAWtfDcDAEEAIQUgABADCyAAIAVqIAEtAAA6AAAgBUEBaiEFIAFBAWohAQwACwsgBCAFrTcDAAtkAQN/IABBwAFqIQEgAEHIAWohAiABIAEpAwAgAikDAHw3AwAgAEHQAWpCfzcDACACKQMApyEDAkADQCADQYABRg0BIAAgA2pBADoAACADQQFqIQMMAAsLIAIgA603AwAgABADC+U7AiB+CX8gAEGAAWohISAAQYgBaiEiIABBkAFqISMgAEGYAWohJCAAQaABaiElIABBqAFqISYgAEGwAWohJyAAQbgBaiEoICEpAwAhASAiKQMAIQIgIykDACEDICQpAwAhBCAlKQMAIQUgJikDACEGICcpAwAhByAoKQMAIQhCiJLznf/M+YTqACEJQrvOqqbY0Ouzu38hCkKr8NP0r+68tzwhC0Lx7fT4paf9p6V/IQxC0YWa7/rPlIfRACENQp/Y+dnCkdqCm38hDkLr+obav7X2wR8hD0L5wvibkaOz8NsAIRAgACkDACERIABBCGopAwAhEiAAQRBqKQMAIRMgAEEYaikDACEUIABBIGopAwAhFSAAQShqKQMAIRYgAEEwaikDACEXIABBOGopAwAhGCAAQcAAaikDACEZIABByABqKQMAIRogAEHQAGopAwAhGyAAQdgAaikDACEcIABB4ABqKQMAIR0gAEHoAGopAwAhHiAAQfAAaikDACEfIABB+ABqKQMAISAgDSAAQcABaikDAIUhDSAPIABB0AFqKQMAhSEPIAEgBSARfHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgEnx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBN8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAUfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgFXx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIBZ8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAXfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggGHx8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBl8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAafHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgG3x8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBx8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAdfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggHnx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIB98fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAgfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgH3x8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBt8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAVfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgGXx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBp8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAgfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggHnx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBd8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiASfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgHXx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBF8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByATfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggHHx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBh8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAWfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgFHx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIBx8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAZfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgHXx8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBF8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAWfHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgE3x8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIICB8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAefHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgG3x8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIB98fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAUfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgF3x8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBh8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCASfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgGnx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBV8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAYfHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgGnx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBR8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiASfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgHnx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIB18fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAcfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggH3x8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBN8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAXfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgFnx8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBt8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAVfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggEXx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFICB8fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAZfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgGnx8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBF8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAWfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgGHx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBN8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAVfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggG3x8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIICB8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAffHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgEnx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBx8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAdfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggF3x8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBl8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAUfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgHnx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIBN8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAdfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgF3x8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBt8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByARfHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgHHx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBl8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAUfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgFXx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIB58fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAYfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgFnx8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIICB8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCAffHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgEnx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBp8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAdfHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgFnx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBJ8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAgfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgH3x8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIB58fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAVfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggG3x8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBF8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAYfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgF3x8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBR8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAafHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggE3x8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIBl8fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAcfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgHnx8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBx8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAYfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgH3x8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIB18fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByASfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggFHx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBp8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAWfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgEXx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHICB8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAVfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggGXx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBd8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSATfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgG3x8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIBd8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAgfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgH3x8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBp8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAcfHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgFHx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBF8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAZfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgHXx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIBN8fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAefHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgGHx8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBJ8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCAVfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgG3x8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBZ8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAbfHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgE3x8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBl8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAVfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgGHx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIBd8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCASfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggFnx8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGICB8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAcfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgGnx8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIB98fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAUfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggHXx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIB58fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSARfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgEXx8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBJ8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiATfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgFHx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBV8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAWfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggF3x8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBh8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAZfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgGnx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBt8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAcfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggHXx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIB58fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAffHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgIHx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIB98fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAbfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgFXx8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBl8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAafHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgIHx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIB58fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAXfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgEnx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIB18fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByARfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgE3x8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBx8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCAYfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgFnx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBR8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFICEgISkDACABIAmFhTcDACAiICIpAwAgAiAKhYU3AwAgIyAjKQMAIAMgC4WFNwMAICQgJCkDACAEIAyFhTcDACAlICUpAwAgBSANhYU3AwAgJiAmKQMAIAYgDoWFNwMAICcgJykDACAHIA+FhTcDACAoICgpAwAgCCAQhYU3AwAL"),i=null,n={buffer:t,memory:null,exports:null,realloc:s,onload:o};return o(function(){}),n;function s(u){n.exports.memory.grow(Math.ceil(Math.abs(u-n.memory.length)/65536)),n.memory=new Uint8Array(n.exports.memory.buffer)}function o(u){if(n.exports)return u();if(i){i.then(u.bind(null,null)).catch(u);return}try{if(r&&r.async)throw new Error("async");a({instance:new WebAssembly.Instance(new WebAssembly.Module(t),e)})}catch{i=WebAssembly.instantiate(t,e).then(a)}o(u)}function a(u){n.exports=u.instance.exports,n.memory=n.exports.memory&&n.exports.memory.buffer&&new Uint8Array(n.exports.memory.buffer)}}function nL(r){return typeof atob=="function"?new Uint8Array(atob(r).split("").map(sL)):new(Eb()).Buffer(r,"base64")}function sL(r){return r.charCodeAt(0)}});var Nb=B((O$,Ii)=>{f();var Ai=Dy(),ke=Ib()(),Ji=64,th=[];Ii.exports=Lr;var _b=Ii.exports.BYTES_MIN=16,bb=Ii.exports.BYTES_MAX=64,N$=Ii.exports.BYTES=32,Cb=Ii.exports.KEYBYTES_MIN=16,Sb=Ii.exports.KEYBYTES_MAX=64,D$=Ii.exports.KEYBYTES=32,xb=Ii.exports.SALTBYTES=16,Tb=Ii.exports.PERSONALBYTES=16;function Lr(r,e,t,i,n){if(!(this instanceof Lr))return new Lr(r,e,t,i,n);if(!(ke&&ke.exports))throw new Error("WASM not loaded. Wait for Blake2b.ready(cb)");r||(r=32),n!==!0&&(Ai(r>=_b,"digestLength must be at least "+_b+", was given "+r),Ai(r<=bb,"digestLength must be at most "+bb+", was given "+r),e!=null&&Ai(e.length>=Cb,"key must be at least "+Cb+", was given "+e.length),e!=null&&Ai(e.length<=Sb,"key must be at least "+Sb+", was given "+e.length),t!=null&&Ai(t.length===xb,"salt must be exactly "+xb+", was given "+t.length),i!=null&&Ai(i.length===Tb,"personal must be exactly "+Tb+", was given "+i.length)),th.length||(th.push(Ji),Ji+=216),this.digestLength=r,this.finalized=!1,this.pointer=th.pop(),ke.memory.fill(0,0,64),ke.memory[0]=this.digestLength,ke.memory[1]=e?e.length:0,ke.memory[2]=1,ke.memory[3]=1,t&&ke.memory.set(t,32),i&&ke.memory.set(i,48),this.pointer+216>ke.memory.length&&ke.realloc(this.pointer+216),ke.exports.blake2b_init(this.pointer,this.digestLength),e&&(this.update(e),ke.memory.fill(0,Ji,Ji+e.length),ke.memory[this.pointer+200]=128)}Lr.prototype.update=function(r){return Ai(this.finalized===!1,"Hash instance finalized"),Ai(r,"input must be TypedArray or Buffer"),Ji+r.length>ke.memory.length&&ke.realloc(Ji+r.length),ke.memory.set(r,Ji),ke.exports.blake2b_update(this.pointer,Ji,Ji+r.length),this};Lr.prototype.digest=function(r){if(Ai(this.finalized===!1,"Hash instance finalized"),this.finalized=!0,th.push(this.pointer),ke.exports.blake2b_final(this.pointer),!r||r==="binary")return ke.memory.slice(this.pointer+128,this.pointer+128+this.digestLength);if(r==="hex")return aL(ke.memory,this.pointer+128,this.digestLength);Ai(r.length>=this.digestLength,"input must be TypedArray or Buffer");for(var e=0;e<this.digestLength;e++)r[e]=ke.memory[this.pointer+128+e];return r};Lr.prototype.final=Lr.prototype.digest;Lr.WASM=ke&&ke.buffer;Lr.SUPPORTED=typeof WebAssembly<"u";Lr.ready=function(r){if(r||(r=oL),!ke)return r(new Error("WebAssembly not supported"));var e=new Promise(function(t,i){ke.onload(function(n){n?i():t(),r(n)})});return e};Lr.prototype.ready=Lr.ready;function oL(){}function aL(r,e,t){for(var i="",n=0;n<t;n++)i+=uL(r[e+n]);return i}function uL(r){return r<16?"0"+r.toString(16):r.toString(16)}});var Qb=B((R$,mr)=>{f();var Pn=Dy(),dc=Nb();function rh(r,e,t){var i=r[e]+r[t],n=r[e+1]+r[t+1];i>=4294967296&&n++,r[e]=i,r[e+1]=n}function Db(r,e,t,i){var n=r[e]+t;t<0&&(n+=4294967296);var s=r[e+1]+i;n>=4294967296&&s++,r[e]=n,r[e+1]=s}function Fb(r,e){return r[e]^r[e+1]<<8^r[e+2]<<16^r[e+3]<<24}function Dn(r,e,t,i,n,s){var o=hc[n],a=hc[n+1],u=hc[s],h=hc[s+1];rh(Se,r,e),Db(Se,r,o,a);var p=Se[i]^Se[r],A=Se[i+1]^Se[r+1];Se[i]=A,Se[i+1]=p,rh(Se,t,i),p=Se[e]^Se[t],A=Se[e+1]^Se[t+1],Se[e]=p>>>24^A<<8,Se[e+1]=A>>>24^p<<8,rh(Se,r,e),Db(Se,r,u,h),p=Se[i]^Se[r],A=Se[i+1]^Se[r+1],Se[i]=p>>>16^A<<16,Se[i+1]=A>>>16^p<<16,rh(Se,t,i),p=Se[e]^Se[t],A=Se[e+1]^Se[t+1],Se[e]=A>>>31^p<<1,Se[e+1]=p>>>31^A<<1}var Ub=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),cL=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],or=new Uint8Array(cL.map(function(r){return r*2})),Se=new Uint32Array(32),hc=new Uint32Array(32);function qb(r,e){var t=0;for(t=0;t<16;t++)Se[t]=r.h[t],Se[t+16]=Ub[t];for(Se[24]=Se[24]^r.t,Se[25]=Se[25]^r.t/4294967296,e&&(Se[28]=~Se[28],Se[29]=~Se[29]),t=0;t<32;t++)hc[t]=Fb(r.b,4*t);for(t=0;t<12;t++)Dn(0,8,16,24,or[t*16+0],or[t*16+1]),Dn(2,10,18,26,or[t*16+2],or[t*16+3]),Dn(4,12,20,28,or[t*16+4],or[t*16+5]),Dn(6,14,22,30,or[t*16+6],or[t*16+7]),Dn(0,10,20,30,or[t*16+8],or[t*16+9]),Dn(2,12,22,24,or[t*16+10],or[t*16+11]),Dn(4,14,16,26,or[t*16+12],or[t*16+13]),Dn(6,8,18,28,or[t*16+14],or[t*16+15]);for(t=0;t<16;t++)r.h[t]=r.h[t]^Se[t]^Se[t+16]}var On=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function Da(r,e,t,i){On.fill(0),this.b=new Uint8Array(128),this.h=new Uint32Array(16),this.t=0,this.c=0,this.outlen=r,On[0]=r,e&&(On[1]=e.length),On[2]=1,On[3]=1,t&&On.set(t,32),i&&On.set(i,48);for(var n=0;n<16;n++)this.h[n]=Ub[n]^Fb(On,n*4);e&&(Vb(this,e),this.c=128)}Da.prototype.update=function(r){return Pn(r!=null,"input must be Uint8Array or Buffer"),Vb(this,r),this};Da.prototype.digest=function(r){var e=!r||r==="binary"||r==="hex"?new Uint8Array(this.outlen):r;return Pn(e.length>=this.outlen,"out must have at least outlen bytes of space"),lL(this,e),r==="hex"?fL(e):e};Da.prototype.final=Da.prototype.digest;Da.ready=function(r){dc.ready(function(){r()})};function Vb(r,e){for(var t=0;t<e.length;t++)r.c===128&&(r.t+=r.c,qb(r,!1),r.c=0),r.b[r.c++]=e[t]}function lL(r,e){for(r.t+=r.c;r.c<128;)r.b[r.c++]=0;qb(r,!0);for(var t=0;t<r.outlen;t++)e[t]=r.h[t>>2]>>8*(t&3);return e}function fL(r){for(var e="",t=0;t<r.length;t++)e+=hL(r[t]);return e}function hL(r){return r<16?"0"+r.toString(16):r.toString(16)}var Hb=Da;mr.exports=function(e,t,i,n,s){return s!==!0&&(Pn(e>=Ob,"outlen must be at least "+Ob+", was given "+e),Pn(e<=Pb,"outlen must be at most "+Pb+", was given "+e),t!=null&&Pn(t.length>=Bb,"key must be at least "+Bb+", was given "+t.length),t!=null&&Pn(t.length<=Mb,"key must be at most "+Mb+", was given "+t.length),i!=null&&Pn(i.length===Rb,"salt must be exactly "+Rb+", was given "+i.length),n!=null&&Pn(n.length===Lb,"personal must be exactly "+Lb+", was given "+n.length)),new Hb(e,t,i,n)};mr.exports.ready=function(r){dc.ready(function(){r()})};mr.exports.WASM_SUPPORTED=dc.SUPPORTED;mr.exports.WASM_LOADED=!1;var Ob=mr.exports.BYTES_MIN=16,Pb=mr.exports.BYTES_MAX=64,B$=mr.exports.BYTES=32,Bb=mr.exports.KEYBYTES_MIN=16,Mb=mr.exports.KEYBYTES_MAX=64,M$=mr.exports.KEYBYTES=32,Rb=mr.exports.SALTBYTES=16,Lb=mr.exports.PERSONALBYTES=16;dc.ready(function(r){r||(mr.exports.WASM_LOADED=!0,Hb=dc)})});var Qy=B(Fr=>{"use strict";f();var dL=Fr&&Fr.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),pL=Fr&&Fr.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),gL=Fr&&Fr.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&dL(e,r,t);return pL(e,r),e};Object.defineProperty(Fr,"__esModule",{value:!0});Fr.TransactionHash=Fr.Transaction=void 0;var Oa=jr(),Vy=Gr(),yL=Wu(),mL=gL(Ye()),wL=WI(),Hy=YI(),vL=Z_(),jb=rb(),Gb=sc(),EL=Tr(),AL=Qb(),IL=32,pc=class{constructor({nonce:e,value:t,receiver:i,sender:n,gasPrice:s,gasLimit:o,data:a,chainID:u,version:h,options:p}){this.nonce=e||0,this.value=t?new Oa.BigNumber(t.toString()).toFixed(0):0,this.sender=n,this.receiver=i,this.gasPrice=s||yL.TRANSACTION_MIN_GAS_PRICE,this.gasLimit=o,this.data=a||new Gb.TransactionPayload,this.chainID=u,this.version=h||Hy.TransactionVersion.withDefaultVersion(),this.options=p||Hy.TransactionOptions.withDefaultOptions(),this.signature=jb.Signature.empty(),this.hash=zs.empty()}getNonce(){return this.nonce}setNonce(e){this.nonce=e}getValue(){return this.value}setValue(e){this.value=e}getSender(){return this.sender}getReceiver(){return this.receiver}getGasPrice(){return this.gasPrice}setGasPrice(e){this.gasPrice=e}getGasLimit(){return this.gasLimit}setGasLimit(e){this.gasLimit=e}getData(){return this.data}getChainID(){return this.chainID}setChainID(e){this.chainID=e}getVersion(){return this.version}getOptions(){return this.options}getSignature(){return this.signature}getHash(){return EL.guardNotEmpty(this.hash,"hash"),this.hash}serializeForSigning(e){let t=this.toPlainObject(e);t.signature&&delete t.signature;let i=JSON.stringify(t);return y.Buffer.from(i)}toPlainObject(e){return{nonce:this.nonce.valueOf(),value:this.value.toString(),receiver:this.receiver.bech32(),sender:e?e.bech32():this.sender.bech32(),gasPrice:this.gasPrice.valueOf(),gasLimit:this.gasLimit.valueOf(),data:this.data.length()==0?void 0:this.data.encoded(),chainID:this.chainID.valueOf(),version:this.version.valueOf(),options:this.options.valueOf()==0?void 0:this.options.valueOf(),signature:this.signature.hex()?this.signature.hex():void 0}}static fromPlainObject(e){let t=new pc({nonce:Number(e.nonce),value:new Oa.BigNumber(e.value).toFixed(0),receiver:Vy.Address.fromString(e.receiver),sender:Vy.Address.fromString(e.sender),gasPrice:Number(e.gasPrice),gasLimit:Number(e.gasLimit),data:new Gb.TransactionPayload(y.Buffer.from(e.data||"","base64")),chainID:String(e.chainID),version:new Hy.TransactionVersion(e.version)});return e.signature&&t.applySignature(new jb.Signature(e.signature),Vy.Address.fromString(e.sender)),t}applySignature(e,t){this.signature=e,this.sender=t,this.hash=zs.compute(this)}toSendable(){return this.toPlainObject()}computeFee(e){let t=e.MinGasLimit.valueOf()+this.data.length()*e.GasPerDataByte.valueOf();if(t>this.gasLimit.valueOf())throw new mL.ErrNotEnoughGas(this.gasLimit.valueOf());let i=new Oa.BigNumber(this.gasPrice.valueOf()),n=new Oa.BigNumber(t).multipliedBy(i);if(t===this.gasLimit.valueOf())return n;let s=new Oa.BigNumber(this.gasLimit.valueOf()-t),o=i.multipliedBy(new Oa.BigNumber(e.GasPriceModifier.valueOf())),a=s.multipliedBy(o);return n.plus(a)}};Fr.Transaction=pc;var zs=class extends wL.Hash{constructor(e){super(e)}static compute(e){let i=new vL.ProtoSerializer().serializeTransaction(e),n=AL(IL).update(i).digest("hex");return new zs(n)}};Fr.TransactionHash=zs});var jy=B(Ws=>{"use strict";f();Object.defineProperty(Ws,"__esModule",{value:!0});Ws.Logger=Ws.LogLevel=void 0;var ks;(function(r){r[r.Trace=0]="Trace",r[r.Debug=1]="Debug",r[r.Info=2]="Info",r[r.Warn=3]="Warn",r[r.Error=4]="Error",r[r.None=5]="None"})(ks=Ws.LogLevel||(Ws.LogLevel={}));var Jr=class{static setLevel(e){Jr.logLevel=e}static trace(e,...t){Jr.logLevel>=ks.Debug||console.debug(e,t)}static debug(e,...t){Jr.logLevel>=ks.Debug||console.debug(e,t)}static info(e,...t){Jr.logLevel>=ks.Info||console.log(e,t)}static warn(e,...t){Jr.logLevel>=ks.Warn||console.warn(e,t)}static error(e,...t){Jr.logLevel>=ks.Error||console.error(e,t)}};Ws.Logger=Jr;Jr.logLevel=ks.Debug});var Kb=B(_i=>{"use strict";f();var _L=_i&&_i.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),bL=_i&&_i.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),CL=_i&&_i.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&_L(e,r,t);return bL(e,r),e};Object.defineProperty(_i,"__esModule",{value:!0});_i.AsyncTimer=void 0;var SL=CL(Ye()),xL=Ye(),Gy=jy(),Ky=class{constructor(e){this.timeoutHandle=null,this.rejectionFunc=null,this.name=e,this.correlationTag=0}start(e){if(this.timeoutHandle)throw new SL.ErrAsyncTimerAlreadyRunning;return this.correlationTag++,Gy.Logger.trace(`AsyncTimer[${this.name}'${this.correlationTag}].start()`),new Promise((t,i)=>{this.rejectionFunc=i;let n=()=>{this.rejectionFunc=null,this.stop(),t()};this.timeoutHandle=setTimeout(n,e)})}abort(){Gy.Logger.trace(`AsyncTimer[${this.name}'${this.correlationTag}].abort()`),this.rejectionFunc&&(this.rejectionFunc(new xL.ErrAsyncTimerAborted),this.rejectionFunc=null),this.stop()}stop(){this.isStopped()||(Gy.Logger.trace(`AsyncTimer[${this.name}'${this.correlationTag}].stop()`),this.timeoutHandle&&(clearTimeout(this.timeoutHandle),this.timeoutHandle=null))}isStopped(){return!this.timeoutHandle}};_i.AsyncTimer=Ky});var ky=B(Ba=>{"use strict";f();var Ur=Ba&&Ba.__awaiter||function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(p){try{h(i.next(p))}catch(A){o(A)}}function u(p){try{h(i.throw(p))}catch(A){o(A)}}function h(p){p.done?s(p.value):n(p.value).then(a,u)}h((i=i.apply(r,e||[])).next())})};Object.defineProperty(Ba,"__esModule",{value:!0});Ba.TransactionWatcher=void 0;var zb=Kb(),kb=jy(),Pa=Ye(),bi=class{constructor(e,t=bi.DefaultPollingInterval,i=bi.DefaultTimeout){this.fetcher=new zy(e),this.pollingInterval=t,this.timeout=i}awaitPending(e){return Ur(this,void 0,void 0,function*(){let t=s=>s.status.isPending(),i=()=>Ur(this,void 0,void 0,function*(){return yield this.fetcher.getTransaction(e.getHash().hex())}),n=()=>new Pa.ErrExpectedTransactionStatusNotReached;return this.awaitConditionally(t,i,n)})}awaitCompleted(e){return Ur(this,void 0,void 0,function*(){let t=s=>s.isCompleted,i=()=>Ur(this,void 0,void 0,function*(){return yield this.fetcher.getTransaction(e.getHash().hex())}),n=()=>new Pa.ErrExpectedTransactionStatusNotReached;return this.awaitConditionally(t,i,n)})}awaitAllEvents(e,t){return Ur(this,void 0,void 0,function*(){let i=o=>{let a=this.getAllTransactionEvents(o).map(h=>h.identifier);return t.every(h=>a.includes(h))},n=()=>Ur(this,void 0,void 0,function*(){return yield this.fetcher.getTransaction(e.getHash().hex())}),s=()=>new Pa.ErrExpectedTransactionEventsNotFound;return this.awaitConditionally(i,n,s)})}awaitAnyEvent(e,t){return Ur(this,void 0,void 0,function*(){let i=o=>{let a=this.getAllTransactionEvents(o).map(h=>h.identifier);return t.find(h=>a.includes(h))!=null},n=()=>Ur(this,void 0,void 0,function*(){return yield this.fetcher.getTransaction(e.getHash().hex())}),s=()=>new Pa.ErrExpectedTransactionEventsNotFound;return this.awaitConditionally(i,n,s)})}awaitOnCondition(e,t){return Ur(this,void 0,void 0,function*(){let i=()=>Ur(this,void 0,void 0,function*(){return yield this.fetcher.getTransaction(e.getHash().hex())}),n=()=>new Pa.ErrExpectedTransactionStatusNotReached;return this.awaitConditionally(t,i,n)})}awaitConditionally(e,t,i){return Ur(this,void 0,void 0,function*(){let n=new zb.AsyncTimer("watcher:periodic"),s=new zb.AsyncTimer("watcher:timeout"),o=!1,a,u=!1;for(s.start(this.timeout).finally(()=>{s.stop(),o=!0});!o;){yield n.start(this.pollingInterval);try{if(a=yield t(),u=e(a),u||o)break}catch(h){if(kb.Logger.debug("TransactionWatcher.awaitConditionally(): cannot (yet) fetch data."),!(h instanceof Pa.Err))throw h}}if(s.isStopped()||s.stop(),!a||!u)throw i();return a})}getAllTransactionEvents(e){let t=[...e.logs.events];for(let i of e.contractResults.items)t.push(...i.logs.events);return t}};Ba.TransactionWatcher=bi;bi.DefaultPollingInterval=6e3;bi.DefaultTimeout=bi.DefaultPollingInterval*15;bi.NoopOnStatusReceived=r=>{};var zy=class{constructor(e){this.fetcher=e}getTransaction(e){return Ur(this,void 0,void 0,function*(){return kb.Logger.debug(`transactionWatcher, getTransaction(${e})`),yield this.fetcher.getTransaction(e)})}}});var Wb=B(Ci=>{"use strict";f();var TL=Ci&&Ci.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),NL=Ci&&Ci.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),DL=Ci&&Ci.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&TL(e,r,t);return NL(e,r),e};Object.defineProperty(Ci,"__esModule",{value:!0});Ci.ContractFunction=void 0;var OL=DL(Ye()),gc=class{constructor(e){if(this.name=e,e==null)throw new OL.ErrInvalidFunctionName}static none(){return new gc("untitled")}toString(){return this.name}valueOf(){return this.name}equals(e){return e?this.name==e.name:!1}};Ci.ContractFunction=gc});var $b=B(Ma=>{"use strict";f();Object.defineProperty(Ma,"__esModule",{value:!0});Ma.Signature=Ma.Address=void 0;var Wy=class{constructor(e){this.value=e}bech32(){return this.value}};Ma.Address=Wy;var $y=class{constructor(e){this.value=e}hex(){return this.value}};Ma.Signature=$y});var Yb=B(yc=>{"use strict";f();Object.defineProperty(yc,"__esModule",{value:!0});yc.Operation=void 0;var PL;(function(r){r.Connect="connect",r.Logout="logout",r.SignTransactions="signTransactions",r.SignMessage="signMessage",r.CancelAction="cancelAction"})(PL=yc.Operation||(yc.Operation={}))});var Jb=B(Bn=>{"use strict";f();Object.defineProperty(Bn,"__esModule",{value:!0});Bn.ErrAccountNotConnected=Bn.ErrCannotSignSingleTransaction=Bn.Err=void 0;var mc=class extends Error{constructor(e,t){super(e),this.inner=void 0,this.inner=t}};Bn.Err=mc;var Yy=class extends mc{constructor(){super("Cannot sign single transaction.")}};Bn.ErrCannotSignSingleTransaction=Yy;var Jy=class extends mc{constructor(){super("Account is not connected.")}};Bn.ErrAccountNotConnected=Jy});var Xy=B(Ra=>{"use strict";f();var Mn=Ra&&Ra.__awaiter||function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(p){try{h(i.next(p))}catch(A){o(A)}}function u(p){try{h(i.throw(p))}catch(A){o(A)}}function h(p){p.done?s(p.value):n(p.value).then(a,u)}h((i=i.apply(r,e||[])).next())})};Object.defineProperty(Ra,"__esModule",{value:!0});Ra.ExtensionProvider=void 0;var ih=$b(),wc=Yb(),Xb=Jb(),Si=class{constructor(){if(this.account={address:""},this.initialized=!1,Si._instance)throw new Error("Error: Instantiation failed: Use ExtensionProvider.getInstance() instead of new.");Si._instance=this}static getInstance(){return Si._instance}setAddress(e){return this.account.address=e,Si._instance}init(){return Mn(this,void 0,void 0,function*(){return window&&window.elrondWallet&&(this.initialized=!0),this.initialized})}login(e={}){return Mn(this,void 0,void 0,function*(){if(!this.initialized)throw new Error("Extension provider is not initialised, call init() first");let{token:t}=e,i=t||"";return yield this.startBgrMsgChannel(wc.Operation.Connect,i),this.account.address})}logout(){return Mn(this,void 0,void 0,function*(){if(!this.initialized)throw new Error("Extension provider is not initialised, call init() first");try{yield this.startBgrMsgChannel(wc.Operation.Logout,this.account.address),this.disconnect()}catch(e){console.warn("Extension origin url is already cleared!",e)}return!0})}disconnect(){this.account={address:""}}getAddress(){return Mn(this,void 0,void 0,function*(){if(!this.initialized)throw new Error("Extension provider is not initialised, call init() first");return this.account?this.account.address:""})}isInitialized(){return this.initialized}isConnected(){return Mn(this,void 0,void 0,function*(){return Boolean(this.account.address)})}signTransaction(e){return Mn(this,void 0,void 0,function*(){this.ensureConnected();let t=yield this.signTransactions([e]);if(t.length!=1)throw new Xb.ErrCannotSignSingleTransaction;return t[0]})}ensureConnected(){if(!this.account.address)throw new Xb.ErrAccountNotConnected}signTransactions(e){return Mn(this,void 0,void 0,function*(){this.ensureConnected();let t=yield this.startBgrMsgChannel(wc.Operation.SignTransactions,{from:this.account.address,transactions:e.map(i=>i.toPlainObject())});try{for(let i=0;i<e.length;i++){let n=e[i],s=t[i];n.applySignature(new ih.Signature(s.signature),new ih.Address(this.account.address))}return e}catch(i){throw new Error(`Transaction canceled: ${i.message}.`)}})}signMessage(e){return Mn(this,void 0,void 0,function*(){this.ensureConnected();let t={account:this.account.address,message:e.message.toString()},i=yield this.startBgrMsgChannel(wc.Operation.SignMessage,t);return e.applySignature(new ih.Signature(i.signature),new ih.Address(this.account.address)),e})}cancelAction(){return this.startBgrMsgChannel(wc.Operation.CancelAction,{})}startBgrMsgChannel(e,t){return new Promise(i=>{window.postMessage({target:"erdw-inpage",type:e,data:t},window.origin);let n=s=>{s.isTrusted&&s.data.target==="erdw-contentScript"&&(s.data.type==="connectResponse"?(s.data.data&&Boolean(s.data.data.address)&&(this.account=s.data.data),window.removeEventListener("message",n),i(s.data.data)):(window.removeEventListener("message",n),i(s.data.data)))};window.addEventListener("message",n,!1)})}};Ra.ExtensionProvider=Si;Si._instance=new Si});var nC=B((lY,iC)=>{"use strict";f();function BL(r){try{return JSON.stringify(r)}catch{return'"[Circular]"'}}iC.exports=ML;function ML(r,e,t){var i=t&&t.stringify||BL,n=1;if(typeof r=="object"&&r!==null){var s=e.length+n;if(s===1)return r;var o=new Array(s);o[0]=i(r);for(var a=1;a<s;a++)o[a]=i(e[a]);return o.join(" ")}if(typeof r!="string")return r;var u=e.length;if(u===0)return r;for(var h="",p=1-n,A=-1,D=r&&r.length||0,O=0;O<D;){if(r.charCodeAt(O)===37&&O+1<D){switch(A=A>-1?A:0,r.charCodeAt(O+1)){case 100:case 102:if(p>=u||e[p]==null)break;A<O&&(h+=r.slice(A,O)),h+=Number(e[p]),A=O+2,O++;break;case 105:if(p>=u||e[p]==null)break;A<O&&(h+=r.slice(A,O)),h+=Math.floor(Number(e[p])),A=O+2,O++;break;case 79:case 111:case 106:if(p>=u||e[p]===void 0)break;A<O&&(h+=r.slice(A,O));var T=typeof e[p];if(T==="string"){h+="'"+e[p]+"'",A=O+2,O++;break}if(T==="function"){h+=e[p].name||"<anonymous>",A=O+2,O++;break}h+=i(e[p]),A=O+2,O++;break;case 115:if(p>=u)break;A<O&&(h+=r.slice(A,O)),h+=String(e[p]),A=O+2,O++;break;case 37:A<O&&(h+=r.slice(A,O)),h+="%",A=O+2,O++,p--;break}++p}++O}return A===-1?r:(A<D&&(h+=r.slice(A)),h)}});var lh=B((hY,uC)=>{"use strict";f();var sC=nC();uC.exports=Ti;var vc=GL().console||{},RL={mapHttpRequest:uh,mapHttpResponse:uh,wrapRequestSerializer:Zy,wrapResponseSerializer:Zy,wrapErrorSerializer:Zy,req:uh,res:uh,err:VL};function LL(r,e){return Array.isArray(r)?r.filter(function(i){return i!=="!stdSerializers.err"}):r===!0?Object.keys(e):!1}function Ti(r){r=r||{},r.browser=r.browser||{};let e=r.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");let t=r.browser.write||vc;r.browser.write&&(r.browser.asObject=!0);let i=r.serializers||{},n=LL(r.browser.serialize,i),s=r.browser.serialize;Array.isArray(r.browser.serialize)&&r.browser.serialize.indexOf("!stdSerializers.err")>-1&&(s=!1);let o=["error","fatal","warn","info","debug","trace"];typeof t=="function"&&(t.error=t.fatal=t.warn=t.info=t.debug=t.trace=t),r.enabled===!1&&(r.level="silent");let a=r.level||"info",u=Object.create(t);u.log||(u.log=Ec),Object.defineProperty(u,"levelVal",{get:p}),Object.defineProperty(u,"level",{get:A,set:D});let h={transmit:e,serialize:n,asObject:r.browser.asObject,levels:o,timestamp:HL(r)};u.levels=Ti.levels,u.level=a,u.setMaxListeners=u.getMaxListeners=u.emit=u.addListener=u.on=u.prependListener=u.once=u.prependOnceListener=u.removeListener=u.removeAllListeners=u.listeners=u.listenerCount=u.eventNames=u.write=u.flush=Ec,u.serializers=i,u._serialize=n,u._stdErrSerialize=s,u.child=O,e&&(u._logEvent=em());function p(){return this.level==="silent"?1/0:this.levels.values[this.level]}function A(){return this._level}function D(T){if(T!=="silent"&&!this.levels.values[T])throw Error("unknown level "+T);this._level=T,La(h,u,"error","log"),La(h,u,"fatal","error"),La(h,u,"warn","error"),La(h,u,"info","log"),La(h,u,"debug","log"),La(h,u,"trace","log")}function O(T,V){if(!T)throw new Error("missing bindings for child Pino");V=V||{},n&&T.serializers&&(V.serializers=T.serializers);let z=V.serializers;if(n&&z){var $=Object.assign({},i,z),se=r.browser.serialize===!0?Object.keys($):n;delete T.serializers,ch([T],se,$,this._stdErrSerialize)}function Y(j){this._childLevel=(j._childLevel|0)+1,this.error=Fa(j,T,"error"),this.fatal=Fa(j,T,"fatal"),this.warn=Fa(j,T,"warn"),this.info=Fa(j,T,"info"),this.debug=Fa(j,T,"debug"),this.trace=Fa(j,T,"trace"),$&&(this.serializers=$,this._serialize=se),e&&(this._logEvent=em([].concat(j._logEvent.bindings,T)))}return Y.prototype=this,new Y(this)}return u}Ti.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};Ti.stdSerializers=RL;Ti.stdTimeFunctions=Object.assign({},{nullTime:oC,epochTime:aC,unixTime:QL,isoTime:jL});function La(r,e,t,i){let n=Object.getPrototypeOf(e);e[t]=e.levelVal>e.levels.values[t]?Ec:n[t]?n[t]:vc[t]||vc[i]||Ec,FL(r,e,t)}function FL(r,e,t){!r.transmit&&e[t]===Ec||(e[t]=function(i){return function(){let s=r.timestamp(),o=new Array(arguments.length),a=Object.getPrototypeOf&&Object.getPrototypeOf(this)===vc?vc:this;for(var u=0;u<o.length;u++)o[u]=arguments[u];if(r.serialize&&!r.asObject&&ch(o,this._serialize,this.serializers,this._stdErrSerialize),r.asObject?i.call(a,UL(this,t,o,s)):i.apply(a,o),r.transmit){let h=r.transmit.level||e.level,p=Ti.levels.values[h],A=Ti.levels.values[t];if(A<p)return;qL(this,{ts:s,methodLevel:t,methodValue:A,transmitLevel:h,transmitValue:Ti.levels.values[r.transmit.level||e.level],send:r.transmit.send,val:e.levelVal},o)}}}(e[t]))}function UL(r,e,t,i){r._serialize&&ch(t,r._serialize,r.serializers,r._stdErrSerialize);let n=t.slice(),s=n[0],o={};i&&(o.time=i),o.level=Ti.levels.values[e];let a=(r._childLevel|0)+1;if(a<1&&(a=1),s!==null&&typeof s=="object"){for(;a--&&typeof n[0]=="object";)Object.assign(o,n.shift());s=n.length?sC(n.shift(),n):void 0}else typeof s=="string"&&(s=sC(n.shift(),n));return s!==void 0&&(o.msg=s),o}function ch(r,e,t,i){for(let n in r)if(i&&r[n]instanceof Error)r[n]=Ti.stdSerializers.err(r[n]);else if(typeof r[n]=="object"&&!Array.isArray(r[n]))for(let s in r[n])e&&e.indexOf(s)>-1&&s in t&&(r[n][s]=t[s](r[n][s]))}function Fa(r,e,t){return function(){let i=new Array(1+arguments.length);i[0]=e;for(var n=1;n<i.length;n++)i[n]=arguments[n-1];return r[t].apply(this,i)}}function qL(r,e,t){let i=e.send,n=e.ts,s=e.methodLevel,o=e.methodValue,a=e.val,u=r._logEvent.bindings;ch(t,r._serialize||Object.keys(r.serializers),r.serializers,r._stdErrSerialize===void 0?!0:r._stdErrSerialize),r._logEvent.ts=n,r._logEvent.messages=t.filter(function(h){return u.indexOf(h)===-1}),r._logEvent.level.label=s,r._logEvent.level.value=o,i(s,r._logEvent,a),r._logEvent=em(u)}function em(r){return{ts:0,messages:[],bindings:r||[],level:{label:"",value:0}}}function VL(r){let e={type:r.constructor.name,msg:r.message,stack:r.stack};for(let t in r)e[t]===void 0&&(e[t]=r[t]);return e}function HL(r){return typeof r.timestamp=="function"?r.timestamp:r.timestamp===!1?oC:aC}function uh(){return{}}function Zy(r){return r}function Ec(){}function oC(){return!1}function aC(){return Date.now()}function QL(){return Math.round(Date.now()/1e3)}function jL(){return new Date(Date.now()).toISOString()}function GL(){function r(e){return typeof e<"u"&&e}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return r(self)||r(window)||r(this)||{}}}});var $s=B((pY,tm)=>{"use strict";f();var Ua=typeof Reflect=="object"?Reflect:null,cC=Ua&&typeof Ua.apply=="function"?Ua.apply:function(e,t,i){return Function.prototype.apply.call(e,t,i)},fh;Ua&&typeof Ua.ownKeys=="function"?fh=Ua.ownKeys:Object.getOwnPropertySymbols?fh=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:fh=function(e){return Object.getOwnPropertyNames(e)};function KL(r){console&&console.warn&&console.warn(r)}var fC=Number.isNaN||function(e){return e!==e};function je(){je.init.call(this)}tm.exports=je;tm.exports.once=$L;je.EventEmitter=je;je.prototype._events=void 0;je.prototype._eventsCount=0;je.prototype._maxListeners=void 0;var lC=10;function hh(r){if(typeof r!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof r)}Object.defineProperty(je,"defaultMaxListeners",{enumerable:!0,get:function(){return lC},set:function(r){if(typeof r!="number"||r<0||fC(r))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+r+".");lC=r}});je.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};je.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||fC(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function hC(r){return r._maxListeners===void 0?je.defaultMaxListeners:r._maxListeners}je.prototype.getMaxListeners=function(){return hC(this)};je.prototype.emit=function(e){for(var t=[],i=1;i<arguments.length;i++)t.push(arguments[i]);var n=e==="error",s=this._events;if(s!==void 0)n=n&&s.error===void 0;else if(!n)return!1;if(n){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var u=s[e];if(u===void 0)return!1;if(typeof u=="function")cC(u,this,t);else for(var h=u.length,p=mC(u,h),i=0;i<h;++i)cC(p[i],this,t);return!0};function dC(r,e,t,i){var n,s,o;if(hh(t),s=r._events,s===void 0?(s=r._events=Object.create(null),r._eventsCount=0):(s.newListener!==void 0&&(r.emit("newListener",e,t.listener?t.listener:t),s=r._events),o=s[e]),o===void 0)o=s[e]=t,++r._eventsCount;else if(typeof o=="function"?o=s[e]=i?[t,o]:[o,t]:i?o.unshift(t):o.push(t),n=hC(r),n>0&&o.length>n&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=r,a.type=e,a.count=o.length,KL(a)}return r}je.prototype.addListener=function(e,t){return dC(this,e,t,!1)};je.prototype.on=je.prototype.addListener;je.prototype.prependListener=function(e,t){return dC(this,e,t,!0)};function zL(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function pC(r,e,t){var i={fired:!1,wrapFn:void 0,target:r,type:e,listener:t},n=zL.bind(i);return n.listener=t,i.wrapFn=n,n}je.prototype.once=function(e,t){return hh(t),this.on(e,pC(this,e,t)),this};je.prototype.prependOnceListener=function(e,t){return hh(t),this.prependListener(e,pC(this,e,t)),this};je.prototype.removeListener=function(e,t){var i,n,s,o,a;if(hh(t),n=this._events,n===void 0)return this;if(i=n[e],i===void 0)return this;if(i===t||i.listener===t)--this._eventsCount===0?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,i.listener||t));else if(typeof i!="function"){for(s=-1,o=i.length-1;o>=0;o--)if(i[o]===t||i[o].listener===t){a=i[o].listener,s=o;break}if(s<0)return this;s===0?i.shift():kL(i,s),i.length===1&&(n[e]=i[0]),n.removeListener!==void 0&&this.emit("removeListener",e,a||t)}return this};je.prototype.off=je.prototype.removeListener;je.prototype.removeAllListeners=function(e){var t,i,n;if(i=this._events,i===void 0)return this;if(i.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):i[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete i[e]),this;if(arguments.length===0){var s=Object.keys(i),o;for(n=0;n<s.length;++n)o=s[n],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=i[e],typeof t=="function")this.removeListener(e,t);else if(t!==void 0)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this};function gC(r,e,t){var i=r._events;if(i===void 0)return[];var n=i[e];return n===void 0?[]:typeof n=="function"?t?[n.listener||n]:[n]:t?WL(n):mC(n,n.length)}je.prototype.listeners=function(e){return gC(this,e,!0)};je.prototype.rawListeners=function(e){return gC(this,e,!1)};je.listenerCount=function(r,e){return typeof r.listenerCount=="function"?r.listenerCount(e):yC.call(r,e)};je.prototype.listenerCount=yC;function yC(r){var e=this._events;if(e!==void 0){var t=e[r];if(typeof t=="function")return 1;if(t!==void 0)return t.length}return 0}je.prototype.eventNames=function(){return this._eventsCount>0?fh(this._events):[]};function mC(r,e){for(var t=new Array(e),i=0;i<e;++i)t[i]=r[i];return t}function kL(r,e){for(;e+1<r.length;e++)r[e]=r[e+1];r.pop()}function WL(r){for(var e=new Array(r.length),t=0;t<e.length;++t)e[t]=r[t].listener||r[t];return e}function $L(r,e){return new Promise(function(t,i){function n(o){r.removeListener(e,s),i(o)}function s(){typeof r.removeListener=="function"&&r.removeListener("error",n),t([].slice.call(arguments))}wC(r,e,s,{once:!0}),e!=="error"&&YL(r,n,{once:!0})})}function YL(r,e,t){typeof r.on=="function"&&wC(r,"error",e,t)}function wC(r,e,t,i){if(typeof r.on=="function")i.once?r.once(e,t):r.on(e,t);else if(typeof r.addEventListener=="function")r.addEventListener(e,function n(s){i.once&&r.removeEventListener(e,n),t(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof r)}});var _r={};ot(_r,{__assign:()=>im,__asyncDelegator:()=>c5,__asyncGenerator:()=>u5,__asyncValues:()=>l5,__await:()=>Ac,__awaiter:()=>r5,__classPrivateFieldGet:()=>p5,__classPrivateFieldSet:()=>g5,__createBinding:()=>n5,__decorate:()=>ZL,__exportStar:()=>s5,__extends:()=>JL,__generator:()=>i5,__importDefault:()=>d5,__importStar:()=>h5,__makeTemplateObject:()=>f5,__metadata:()=>t5,__param:()=>e5,__read:()=>vC,__rest:()=>XL,__spread:()=>o5,__spreadArrays:()=>a5,__values:()=>nm});function JL(r,e){rm(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function XL(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(r);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(r,i[n])&&(t[i[n]]=r[i[n]]);return t}function ZL(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s}function e5(r,e){return function(t,i){e(t,i,r)}}function t5(r,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,e)}function r5(r,e,t,i){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(p){try{h(i.next(p))}catch(A){o(A)}}function u(p){try{h(i.throw(p))}catch(A){o(A)}}function h(p){p.done?s(p.value):n(p.value).then(a,u)}h((i=i.apply(r,e||[])).next())})}function i5(r,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,n,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(h){return function(p){return u([h,p])}}function u(h){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,n&&(s=h[0]&2?n.return:h[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,h[1])).done)return s;switch(n=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return t.label++,{value:h[1],done:!1};case 5:t.label++,n=h[1],h=[0];continue;case 7:h=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){t=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){t.label=h[1];break}if(h[0]===6&&t.label<s[1]){t.label=s[1],s=h;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(h);break}s[2]&&t.ops.pop(),t.trys.pop();continue}h=e.call(r,t)}catch(p){h=[6,p],n=0}finally{i=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function n5(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}function s5(r,e){for(var t in r)t!=="default"&&!e.hasOwnProperty(t)&&(e[t]=r[t])}function nm(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],i=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function vC(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var i=t.call(r),n,s=[],o;try{for(;(e===void 0||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(a){o={error:a}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return s}function o5(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(vC(arguments[e]));return r}function a5(){for(var r=0,e=0,t=arguments.length;e<t;e++)r+=arguments[e].length;for(var i=Array(r),n=0,e=0;e<t;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,n++)i[n]=s[o];return i}function Ac(r){return this instanceof Ac?(this.v=r,this):new Ac(r)}function u5(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(r,e||[]),n,s=[];return n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n;function o(D){i[D]&&(n[D]=function(O){return new Promise(function(T,V){s.push([D,O,T,V])>1||a(D,O)})})}function a(D,O){try{u(i[D](O))}catch(T){A(s[0][3],T)}}function u(D){D.value instanceof Ac?Promise.resolve(D.value.v).then(h,p):A(s[0][2],D)}function h(D){a("next",D)}function p(D){a("throw",D)}function A(D,O){D(O),s.shift(),s.length&&a(s[0][0],s[0][1])}}function c5(r){var e,t;return e={},i("next"),i("throw",function(n){throw n}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(n,s){e[n]=r[n]?function(o){return(t=!t)?{value:Ac(r[n](o)),done:n==="return"}:s?s(o):o}:s}}function l5(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof nm=="function"?nm(r):r[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(s){t[s]=r[s]&&function(o){return new Promise(function(a,u){o=r[s](o),n(a,u,o.done,o.value)})}}function n(s,o,a,u){Promise.resolve(u).then(function(h){s({value:h,done:a})},o)}}function f5(r,e){return Object.defineProperty?Object.defineProperty(r,"raw",{value:e}):r.raw=e,r}function h5(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)Object.hasOwnProperty.call(r,t)&&(e[t]=r[t]);return e.default=r,e}function d5(r){return r&&r.__esModule?r:{default:r}}function p5(r,e){if(!e.has(r))throw new TypeError("attempted to get private field on non-instance");return e.get(r)}function g5(r,e,t){if(!e.has(r))throw new TypeError("attempted to set private field on non-instance");return e.set(r,t),t}var rm,im,br=me(()=>{f();rm=function(r,e){return rm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])},rm(r,e)};im=function(){return im=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++){t=arguments[i];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},im.apply(this,arguments)}});var sm=B(dh=>{"use strict";f();Object.defineProperty(dh,"__esModule",{value:!0});function y5(r){if(typeof r!="string")throw new Error(`Cannot safe json parse value of type ${typeof r}`);try{return JSON.parse(r)}catch{return r}}dh.safeJsonParse=y5;function m5(r){return typeof r=="string"?r:JSON.stringify(r,(e,t)=>typeof t>"u"?null:t)}dh.safeJsonStringify=m5});var EC=B((vY,ph)=>{"use strict";f();(function(){"use strict";let r;function e(){}r=e,r.prototype.getItem=function(t){return this.hasOwnProperty(t)?String(this[t]):null},r.prototype.setItem=function(t,i){this[t]=String(i)},r.prototype.removeItem=function(t){delete this[t]},r.prototype.clear=function(){let t=this;Object.keys(t).forEach(function(i){t[i]=void 0,delete t[i]})},r.prototype.key=function(t){return t=t||0,Object.keys(this)[t]},r.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof global<"u"&&global.localStorage?ph.exports=global.localStorage:typeof window<"u"&&window.localStorage?ph.exports=window.localStorage:ph.exports=new e})()});var AC=B(gh=>{"use strict";f();Object.defineProperty(gh,"__esModule",{value:!0});gh.IKeyValueStorage=void 0;var om=class{};gh.IKeyValueStorage=om});var IC=B(yh=>{"use strict";f();Object.defineProperty(yh,"__esModule",{value:!0});yh.parseEntry=void 0;var w5=sm();function v5(r){var e;return[r[0],w5.safeJsonParse((e=r[1])!==null&&e!==void 0?e:"")]}yh.parseEntry=v5});var bC=B(mh=>{"use strict";f();Object.defineProperty(mh,"__esModule",{value:!0});var _C=(br(),at(_r));_C.__exportStar(AC(),mh);_C.__exportStar(IC(),mh)});var SC=B(Ic=>{"use strict";f();Object.defineProperty(Ic,"__esModule",{value:!0});Ic.KeyValueStorage=void 0;var qa=(br(),at(_r)),CC=sm(),E5=qa.__importDefault(EC()),A5=bC(),wh=class{constructor(){this.localStorage=E5.default}getKeys(){return qa.__awaiter(this,void 0,void 0,function*(){return Object.keys(this.localStorage)})}getEntries(){return qa.__awaiter(this,void 0,void 0,function*(){return Object.entries(this.localStorage).map(A5.parseEntry)})}getItem(e){return qa.__awaiter(this,void 0,void 0,function*(){let t=this.localStorage.getItem(e);if(t!==null)return CC.safeJsonParse(t)})}setItem(e,t){return qa.__awaiter(this,void 0,void 0,function*(){this.localStorage.setItem(e,CC.safeJsonStringify(t))})}removeItem(e){return qa.__awaiter(this,void 0,void 0,function*(){this.localStorage.removeItem(e)})}};Ic.KeyValueStorage=wh;Ic.default=wh});var xC=B(vh=>{"use strict";f();Object.defineProperty(vh,"__esModule",{value:!0});vh.delay=void 0;function I5(r){return new Promise(e=>{setTimeout(()=>{e(!0)},r)})}vh.delay=I5});var TC=B(Va=>{"use strict";f();Object.defineProperty(Va,"__esModule",{value:!0});Va.ONE_THOUSAND=Va.ONE_HUNDRED=void 0;Va.ONE_HUNDRED=100;Va.ONE_THOUSAND=1e3});var NC=B(ye=>{"use strict";f();Object.defineProperty(ye,"__esModule",{value:!0});ye.ONE_YEAR=ye.FOUR_WEEKS=ye.THREE_WEEKS=ye.TWO_WEEKS=ye.ONE_WEEK=ye.THIRTY_DAYS=ye.SEVEN_DAYS=ye.FIVE_DAYS=ye.THREE_DAYS=ye.ONE_DAY=ye.TWENTY_FOUR_HOURS=ye.TWELVE_HOURS=ye.SIX_HOURS=ye.THREE_HOURS=ye.ONE_HOUR=ye.SIXTY_MINUTES=ye.THIRTY_MINUTES=ye.TEN_MINUTES=ye.FIVE_MINUTES=ye.ONE_MINUTE=ye.SIXTY_SECONDS=ye.THIRTY_SECONDS=ye.TEN_SECONDS=ye.FIVE_SECONDS=ye.ONE_SECOND=void 0;ye.ONE_SECOND=1;ye.FIVE_SECONDS=5;ye.TEN_SECONDS=10;ye.THIRTY_SECONDS=30;ye.SIXTY_SECONDS=60;ye.ONE_MINUTE=ye.SIXTY_SECONDS;ye.FIVE_MINUTES=ye.ONE_MINUTE*5;ye.TEN_MINUTES=ye.ONE_MINUTE*10;ye.THIRTY_MINUTES=ye.ONE_MINUTE*30;ye.SIXTY_MINUTES=ye.ONE_MINUTE*60;ye.ONE_HOUR=ye.SIXTY_MINUTES;ye.THREE_HOURS=ye.ONE_HOUR*3;ye.SIX_HOURS=ye.ONE_HOUR*6;ye.TWELVE_HOURS=ye.ONE_HOUR*12;ye.TWENTY_FOUR_HOURS=ye.ONE_HOUR*24;ye.ONE_DAY=ye.TWENTY_FOUR_HOURS;ye.THREE_DAYS=ye.ONE_DAY*3;ye.FIVE_DAYS=ye.ONE_DAY*5;ye.SEVEN_DAYS=ye.ONE_DAY*7;ye.THIRTY_DAYS=ye.ONE_DAY*30;ye.ONE_WEEK=ye.SEVEN_DAYS;ye.TWO_WEEKS=ye.ONE_WEEK*2;ye.THREE_WEEKS=ye.ONE_WEEK*3;ye.FOUR_WEEKS=ye.ONE_WEEK*4;ye.ONE_YEAR=ye.ONE_DAY*365});var am=B(Eh=>{"use strict";f();Object.defineProperty(Eh,"__esModule",{value:!0});var DC=(br(),at(_r));DC.__exportStar(TC(),Eh);DC.__exportStar(NC(),Eh)});var PC=B(Ha=>{"use strict";f();Object.defineProperty(Ha,"__esModule",{value:!0});Ha.fromMiliseconds=Ha.toMiliseconds=void 0;var OC=am();function _5(r){return r*OC.ONE_THOUSAND}Ha.toMiliseconds=_5;function b5(r){return Math.floor(r/OC.ONE_THOUSAND)}Ha.fromMiliseconds=b5});var MC=B(Ah=>{"use strict";f();Object.defineProperty(Ah,"__esModule",{value:!0});var BC=(br(),at(_r));BC.__exportStar(xC(),Ah);BC.__exportStar(PC(),Ah)});var RC=B(_c=>{"use strict";f();Object.defineProperty(_c,"__esModule",{value:!0});_c.Watch=void 0;var Ih=class{constructor(){this.timestamps=new Map}start(e){if(this.timestamps.has(e))throw new Error(`Watch already started for label: ${e}`);this.timestamps.set(e,{started:Date.now()})}stop(e){let t=this.get(e);if(typeof t.elapsed<"u")throw new Error(`Watch already stopped for label: ${e}`);let i=Date.now()-t.started;this.timestamps.set(e,{started:t.started,elapsed:i})}get(e){let t=this.timestamps.get(e);if(typeof t>"u")throw new Error(`No timestamp found for label: ${e}`);return t}elapsed(e){let t=this.get(e);return t.elapsed||Date.now()-t.started}};_c.Watch=Ih;_c.default=Ih});var LC=B(_h=>{"use strict";f();Object.defineProperty(_h,"__esModule",{value:!0});_h.IWatch=void 0;var um=class{};_h.IWatch=um});var FC=B(cm=>{"use strict";f();Object.defineProperty(cm,"__esModule",{value:!0});var C5=(br(),at(_r));C5.__exportStar(LC(),cm)});var Ys=B(Qa=>{"use strict";f();Object.defineProperty(Qa,"__esModule",{value:!0});var bh=(br(),at(_r));bh.__exportStar(MC(),Qa);bh.__exportStar(RC(),Qa);bh.__exportStar(FC(),Qa);bh.__exportStar(am(),Qa)});var lm,UC=me(()=>{f();lm=class{}});var fm={};ot(fm,{IEvents:()=>lm});var hm=me(()=>{f();UC()});var qC=B(Ch=>{"use strict";f();Object.defineProperty(Ch,"__esModule",{value:!0});Ch.IHeartBeat=void 0;var S5=(hm(),at(fm)),dm=class extends S5.IEvents{constructor(e){super()}};Ch.IHeartBeat=dm});var gm=B(pm=>{"use strict";f();Object.defineProperty(pm,"__esModule",{value:!0});var x5=(br(),at(_r));x5.__exportStar(qC(),pm)});var VC=B(ja=>{"use strict";f();Object.defineProperty(ja,"__esModule",{value:!0});ja.HEARTBEAT_EVENTS=ja.HEARTBEAT_INTERVAL=void 0;var T5=Ys();ja.HEARTBEAT_INTERVAL=T5.FIVE_SECONDS;ja.HEARTBEAT_EVENTS={pulse:"heartbeat_pulse"}});var mm=B(ym=>{"use strict";f();Object.defineProperty(ym,"__esModule",{value:!0});var N5=(br(),at(_r));N5.__exportStar(VC(),ym)});var HC=B(Sh=>{"use strict";f();Object.defineProperty(Sh,"__esModule",{value:!0});Sh.HeartBeat=void 0;var wm=(br(),at(_r)),D5=$s(),O5=Ys(),P5=gm(),vm=mm(),bc=class extends P5.IHeartBeat{constructor(e){super(e),this.events=new D5.EventEmitter,this.interval=vm.HEARTBEAT_INTERVAL,this.interval=e?.interval||vm.HEARTBEAT_INTERVAL}static init(e){return wm.__awaiter(this,void 0,void 0,function*(){let t=new bc(e);return yield t.init(),t})}init(){return wm.__awaiter(this,void 0,void 0,function*(){yield this.initialize()})}stop(){clearInterval(this.intervalRef)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}initialize(){return wm.__awaiter(this,void 0,void 0,function*(){this.intervalRef=setInterval(()=>this.pulse(),O5.toMiliseconds(this.interval))})}pulse(){this.events.emit(vm.HEARTBEAT_EVENTS.pulse)}};Sh.HeartBeat=bc});var QC=B(Cc=>{"use strict";f();Object.defineProperty(Cc,"__esModule",{value:!0});var Em=(br(),at(_r));Em.__exportStar(HC(),Cc);Em.__exportStar(gm(),Cc);Em.__exportStar(mm(),Cc)});var Am=B(Ga=>{"use strict";f();Object.defineProperty(Ga,"__esModule",{value:!0});Ga.PINO_CUSTOM_CONTEXT_KEY=Ga.PINO_LOGGER_DEFAULTS=void 0;Ga.PINO_LOGGER_DEFAULTS={level:"info"};Ga.PINO_CUSTOM_CONTEXT_KEY="custom_context"});var kC=B(wr=>{"use strict";f();Object.defineProperty(wr,"__esModule",{value:!0});wr.generateChildLogger=wr.formatChildLoggerContext=wr.getLoggerContext=wr.setBrowserLoggerContext=wr.getBrowserLoggerContext=wr.getDefaultLoggerOptions=void 0;var Ka=Am();function B5(r){return Object.assign(Object.assign({},r),{level:r?.level||Ka.PINO_LOGGER_DEFAULTS.level})}wr.getDefaultLoggerOptions=B5;function jC(r,e=Ka.PINO_CUSTOM_CONTEXT_KEY){return r[e]||""}wr.getBrowserLoggerContext=jC;function GC(r,e,t=Ka.PINO_CUSTOM_CONTEXT_KEY){return r[t]=e,r}wr.setBrowserLoggerContext=GC;function KC(r,e=Ka.PINO_CUSTOM_CONTEXT_KEY){let t="";return typeof r.bindings>"u"?t=jC(r,e):t=r.bindings().context||"",t}wr.getLoggerContext=KC;function zC(r,e,t=Ka.PINO_CUSTOM_CONTEXT_KEY){let i=KC(r,t);return i.trim()?`${i}/${e}`:e}wr.formatChildLoggerContext=zC;function M5(r,e,t=Ka.PINO_CUSTOM_CONTEXT_KEY){let i=zC(r,e,t),n=r.child({context:i});return GC(n,i,t)}wr.generateChildLogger=M5});var _m=B(za=>{"use strict";f();Object.defineProperty(za,"__esModule",{value:!0});za.pino=void 0;var Im=(br(),at(_r)),R5=Im.__importDefault(lh());Object.defineProperty(za,"pino",{enumerable:!0,get:function(){return R5.default}});Im.__exportStar(Am(),za);Im.__exportStar(kC(),za)});var Vm=B(Wt=>{"use strict";f();Object.defineProperty(Wt,"__esModule",{value:!0});var ka=(hm(),at(fm)),WC=$s();function L5(r){return r&&typeof r=="object"&&"default"in r?r:{default:r}}var F5=L5(WC),bm=class extends ka.IEvents{constructor(e){super(),this.opts=e,this.protocol="wc",this.version=2}},Cm=class{constructor(e,t,i){this.core=e,this.logger=t}},Sm=class extends ka.IEvents{constructor(e,t){super(),this.core=e,this.logger=t,this.records=new Map}},xm=class{constructor(e,t){this.logger=e,this.core=t}},Tm=class extends ka.IEvents{constructor(e,t){super(),this.relayer=e,this.logger=t}},Nm=class extends ka.IEvents{constructor(e){super()}},Dm=class{constructor(e,t,i,n){this.core=e,this.logger=t,this.name=i}},Om=class{constructor(){this.map=new Map}},Pm=class extends ka.IEvents{constructor(e,t){super(),this.relayer=e,this.logger=t}},Bm=class{constructor(e,t){this.core=e,this.logger=t}},Mm=class extends ka.IEvents{constructor(e,t){super(),this.core=e,this.logger=t}},Rm=class{constructor(e,t){this.logger=e,this.core=t}},Lm=class extends F5.default{constructor(){super()}},Fm=class{constructor(e){this.opts=e,this.protocol="wc",this.version=2}},Um=class extends WC.EventEmitter{constructor(){super()}},qm=class{constructor(e){this.client=e}};Wt.ICore=bm,Wt.ICrypto=Cm,Wt.IEngine=qm,Wt.IEngineEvents=Um,Wt.IExpirer=Mm,Wt.IJsonRpcHistory=Sm,Wt.IKeyChain=Bm,Wt.IMessageTracker=xm,Wt.IPairing=Rm,Wt.IPublisher=Tm,Wt.IRelayer=Nm,Wt.ISignClient=Fm,Wt.ISignClientEvents=Lm,Wt.IStore=Dm,Wt.ISubscriber=Pm,Wt.ISubscriberTopicMap=Om});var $C={};ot($C,{safeJsonParse:()=>Sc,safeJsonStringify:()=>xc});function Sc(r){if(typeof r!="string")throw new Error(`Cannot safe json parse value of type ${typeof r}`);try{return JSON.parse(r)}catch{return r}}function xc(r){return typeof r=="string"?r:JSON.stringify(r)}var xh=me(()=>{f()});var JC=B(Th=>{"use strict";f();Object.defineProperty(Th,"__esModule",{value:!0});Th.BrowserRandomSource=void 0;var YC=65536,Hm=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;let e=typeof self<"u"?self.crypto||self.msCrypto:null;e&&e.getRandomValues!==void 0&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");let t=new Uint8Array(e);for(let i=0;i<t.length;i+=YC)this._crypto.getRandomValues(t.subarray(i,i+Math.min(t.length-i,YC)));return t}};Th.BrowserRandomSource=Hm});var qr=B(Qm=>{"use strict";f();Object.defineProperty(Qm,"__esModule",{value:!0});function U5(r){for(var e=0;e<r.length;e++)r[e]=0;return r}Qm.wipe=U5});var XC=B(()=>{f()});var ZC=B(Nh=>{"use strict";f();Object.defineProperty(Nh,"__esModule",{value:!0});Nh.NodeRandomSource=void 0;var q5=qr(),jm=class{constructor(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof DE<"u"){let e=XC();e&&e.randomBytes&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let t=this._crypto.randomBytes(e);if(t.length!==e)throw new Error("NodeRandomSource: got fewer bytes than requested");let i=new Uint8Array(e);for(let n=0;n<i.length;n++)i[n]=t[n];return(0,q5.wipe)(t),i}};Nh.NodeRandomSource=jm});var eS=B(Dh=>{"use strict";f();Object.defineProperty(Dh,"__esModule",{value:!0});Dh.SystemRandomSource=void 0;var V5=JC(),H5=ZC(),Gm=class{constructor(){if(this.isAvailable=!1,this.name="",this._source=new V5.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new H5.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(e)}};Dh.SystemRandomSource=Gm});var tS=B(Cr=>{"use strict";f();Object.defineProperty(Cr,"__esModule",{value:!0});function Q5(r,e){var t=r>>>16&65535,i=r&65535,n=e>>>16&65535,s=e&65535;return i*s+(t*s+i*n<<16>>>0)|0}Cr.mul=Math.imul||Q5;function j5(r,e){return r+e|0}Cr.add=j5;function G5(r,e){return r-e|0}Cr.sub=G5;function K5(r,e){return r<<e|r>>>32-e}Cr.rotl=K5;function z5(r,e){return r<<32-e|r>>>e}Cr.rotr=z5;function k5(r){return typeof r=="number"&&isFinite(r)&&Math.floor(r)===r}Cr.isInteger=Number.isInteger||k5;Cr.MAX_SAFE_INTEGER=9007199254740991;Cr.isSafeInteger=function(r){return Cr.isInteger(r)&&r>=-Cr.MAX_SAFE_INTEGER&&r<=Cr.MAX_SAFE_INTEGER}});var Wa=B(Oe=>{"use strict";f();Object.defineProperty(Oe,"__esModule",{value:!0});var rS=tS();function W5(r,e){return e===void 0&&(e=0),(r[e+0]<<8|r[e+1])<<16>>16}Oe.readInt16BE=W5;function $5(r,e){return e===void 0&&(e=0),(r[e+0]<<8|r[e+1])>>>0}Oe.readUint16BE=$5;function Y5(r,e){return e===void 0&&(e=0),(r[e+1]<<8|r[e])<<16>>16}Oe.readInt16LE=Y5;function J5(r,e){return e===void 0&&(e=0),(r[e+1]<<8|r[e])>>>0}Oe.readUint16LE=J5;function iS(r,e,t){return e===void 0&&(e=new Uint8Array(2)),t===void 0&&(t=0),e[t+0]=r>>>8,e[t+1]=r>>>0,e}Oe.writeUint16BE=iS;Oe.writeInt16BE=iS;function nS(r,e,t){return e===void 0&&(e=new Uint8Array(2)),t===void 0&&(t=0),e[t+0]=r>>>0,e[t+1]=r>>>8,e}Oe.writeUint16LE=nS;Oe.writeInt16LE=nS;function Km(r,e){return e===void 0&&(e=0),r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3]}Oe.readInt32BE=Km;function zm(r,e){return e===void 0&&(e=0),(r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3])>>>0}Oe.readUint32BE=zm;function km(r,e){return e===void 0&&(e=0),r[e+3]<<24|r[e+2]<<16|r[e+1]<<8|r[e]}Oe.readInt32LE=km;function Wm(r,e){return e===void 0&&(e=0),(r[e+3]<<24|r[e+2]<<16|r[e+1]<<8|r[e])>>>0}Oe.readUint32LE=Wm;function Oh(r,e,t){return e===void 0&&(e=new Uint8Array(4)),t===void 0&&(t=0),e[t+0]=r>>>24,e[t+1]=r>>>16,e[t+2]=r>>>8,e[t+3]=r>>>0,e}Oe.writeUint32BE=Oh;Oe.writeInt32BE=Oh;function Ph(r,e,t){return e===void 0&&(e=new Uint8Array(4)),t===void 0&&(t=0),e[t+0]=r>>>0,e[t+1]=r>>>8,e[t+2]=r>>>16,e[t+3]=r>>>24,e}Oe.writeUint32LE=Ph;Oe.writeInt32LE=Ph;function X5(r,e){e===void 0&&(e=0);var t=Km(r,e),i=Km(r,e+4);return t*4294967296+i-(i>>31)*4294967296}Oe.readInt64BE=X5;function Z5(r,e){e===void 0&&(e=0);var t=zm(r,e),i=zm(r,e+4);return t*4294967296+i}Oe.readUint64BE=Z5;function eF(r,e){e===void 0&&(e=0);var t=km(r,e),i=km(r,e+4);return i*4294967296+t-(t>>31)*4294967296}Oe.readInt64LE=eF;function tF(r,e){e===void 0&&(e=0);var t=Wm(r,e),i=Wm(r,e+4);return i*4294967296+t}Oe.readUint64LE=tF;function sS(r,e,t){return e===void 0&&(e=new Uint8Array(8)),t===void 0&&(t=0),Oh(r/4294967296>>>0,e,t),Oh(r>>>0,e,t+4),e}Oe.writeUint64BE=sS;Oe.writeInt64BE=sS;function oS(r,e,t){return e===void 0&&(e=new Uint8Array(8)),t===void 0&&(t=0),Ph(r>>>0,e,t),Ph(r/4294967296>>>0,e,t+4),e}Oe.writeUint64LE=oS;Oe.writeInt64LE=oS;function rF(r,e,t){if(t===void 0&&(t=0),r%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(r/8>e.length-t)throw new Error("readUintBE: array is too short for the given bitLength");for(var i=0,n=1,s=r/8+t-1;s>=t;s--)i+=e[s]*n,n*=256;return i}Oe.readUintBE=rF;function iF(r,e,t){if(t===void 0&&(t=0),r%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(r/8>e.length-t)throw new Error("readUintLE: array is too short for the given bitLength");for(var i=0,n=1,s=t;s<t+r/8;s++)i+=e[s]*n,n*=256;return i}Oe.readUintLE=iF;function nF(r,e,t,i){if(t===void 0&&(t=new Uint8Array(r/8)),i===void 0&&(i=0),r%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!rS.isSafeInteger(e))throw new Error("writeUintBE value must be an integer");for(var n=1,s=r/8+i-1;s>=i;s--)t[s]=e/n&255,n*=256;return t}Oe.writeUintBE=nF;function sF(r,e,t,i){if(t===void 0&&(t=new Uint8Array(r/8)),i===void 0&&(i=0),r%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!rS.isSafeInteger(e))throw new Error("writeUintLE value must be an integer");for(var n=1,s=i;s<i+r/8;s++)t[s]=e/n&255,n*=256;return t}Oe.writeUintLE=sF;function oF(r,e){e===void 0&&(e=0);var t=new DataView(r.buffer,r.byteOffset,r.byteLength);return t.getFloat32(e)}Oe.readFloat32BE=oF;function aF(r,e){e===void 0&&(e=0);var t=new DataView(r.buffer,r.byteOffset,r.byteLength);return t.getFloat32(e,!0)}Oe.readFloat32LE=aF;function uF(r,e){e===void 0&&(e=0);var t=new DataView(r.buffer,r.byteOffset,r.byteLength);return t.getFloat64(e)}Oe.readFloat64BE=uF;function cF(r,e){e===void 0&&(e=0);var t=new DataView(r.buffer,r.byteOffset,r.byteLength);return t.getFloat64(e,!0)}Oe.readFloat64LE=cF;function lF(r,e,t){e===void 0&&(e=new Uint8Array(4)),t===void 0&&(t=0);var i=new DataView(e.buffer,e.byteOffset,e.byteLength);return i.setFloat32(t,r),e}Oe.writeFloat32BE=lF;function fF(r,e,t){e===void 0&&(e=new Uint8Array(4)),t===void 0&&(t=0);var i=new DataView(e.buffer,e.byteOffset,e.byteLength);return i.setFloat32(t,r,!0),e}Oe.writeFloat32LE=fF;function hF(r,e,t){e===void 0&&(e=new Uint8Array(8)),t===void 0&&(t=0);var i=new DataView(e.buffer,e.byteOffset,e.byteLength);return i.setFloat64(t,r),e}Oe.writeFloat64BE=hF;function dF(r,e,t){e===void 0&&(e=new Uint8Array(8)),t===void 0&&(t=0);var i=new DataView(e.buffer,e.byteOffset,e.byteLength);return i.setFloat64(t,r,!0),e}Oe.writeFloat64LE=dF});var Tc=B(ar=>{"use strict";f();Object.defineProperty(ar,"__esModule",{value:!0});ar.randomStringForEntropy=ar.randomString=ar.randomUint32=ar.randomBytes=ar.defaultRandomSource=void 0;var pF=eS(),gF=Wa(),aS=qr();ar.defaultRandomSource=new pF.SystemRandomSource;function $m(r,e=ar.defaultRandomSource){return e.randomBytes(r)}ar.randomBytes=$m;function yF(r=ar.defaultRandomSource){let e=$m(4,r),t=(0,gF.readUint32LE)(e);return(0,aS.wipe)(e),t}ar.randomUint32=yF;var uS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function cS(r,e=uS,t=ar.defaultRandomSource){if(e.length<2)throw new Error("randomString charset is too short");if(e.length>256)throw new Error("randomString charset is too long");let i="",n=e.length,s=256-256%n;for(;r>0;){let o=$m(Math.ceil(r*256/s),t);for(let a=0;a<o.length&&r>0;a++){let u=o[a];u<s&&(i+=e.charAt(u%n),r--)}(0,aS.wipe)(o)}return i}ar.randomString=cS;function mF(r,e=uS,t=ar.defaultRandomSource){let i=Math.ceil(r/(Math.log(e.length)/Math.LN2));return cS(i,e,t)}ar.randomStringForEntropy=mF});var hS=B(Xi=>{"use strict";f();Object.defineProperty(Xi,"__esModule",{value:!0});var Ya=Wa(),$a=qr();Xi.DIGEST_LENGTH=64;Xi.BLOCK_SIZE=128;var fS=function(){function r(){this.digestLength=Xi.DIGEST_LENGTH,this.blockSize=Xi.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return r.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},r.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},r.prototype.clean=function(){$a.wipe(this._buffer),$a.wipe(this._tempHi),$a.wipe(this._tempLo),this.reset()},r.prototype.update=function(e,t){if(t===void 0&&(t=e.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var i=0;if(this._bytesHashed+=t,this._bufferLength>0){for(;this._bufferLength<Xi.BLOCK_SIZE&&t>0;)this._buffer[this._bufferLength++]=e[i++],t--;this._bufferLength===this.blockSize&&(Ym(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(t>=this.blockSize&&(i=Ym(this._tempHi,this._tempLo,this._stateHi,this._stateLo,e,i,t),t%=this.blockSize);t>0;)this._buffer[this._bufferLength++]=e[i++],t--;return this},r.prototype.finish=function(e){if(!this._finished){var t=this._bytesHashed,i=this._bufferLength,n=t/536870912|0,s=t<<3,o=t%128<112?128:256;this._buffer[i]=128;for(var a=i+1;a<o-8;a++)this._buffer[a]=0;Ya.writeUint32BE(n,this._buffer,o-8),Ya.writeUint32BE(s,this._buffer,o-4),Ym(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,o),this._finished=!0}for(var a=0;a<this.digestLength/8;a++)Ya.writeUint32BE(this._stateHi[a],e,a*8),Ya.writeUint32BE(this._stateLo[a],e,a*8+4);return this},r.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},r.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},r.prototype.restoreState=function(e){return this._stateHi.set(e.stateHi),this._stateLo.set(e.stateLo),this._bufferLength=e.bufferLength,e.buffer&&this._buffer.set(e.buffer),this._bytesHashed=e.bytesHashed,this._finished=!1,this},r.prototype.cleanSavedState=function(e){$a.wipe(e.stateHi),$a.wipe(e.stateLo),e.buffer&&$a.wipe(e.buffer),e.bufferLength=0,e.bytesHashed=0},r}();Xi.SHA512=fS;var lS=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function Ym(r,e,t,i,n,s,o){for(var a=t[0],u=t[1],h=t[2],p=t[3],A=t[4],D=t[5],O=t[6],T=t[7],V=i[0],z=i[1],$=i[2],se=i[3],Y=i[4],j=i[5],W=i[6],k=i[7],R,F,G,ce,J,X,E,c;o>=128;){for(var d=0;d<16;d++){var g=8*d+s;r[d]=Ya.readUint32BE(n,g),e[d]=Ya.readUint32BE(n,g+4)}for(var d=0;d<80;d++){var m=a,w=u,S=h,N=p,I=A,l=D,C=O,Z=T,ie=V,ee=z,ae=$,v=se,b=Y,x=j,L=W,P=k;if(R=T,F=k,J=F&65535,X=F>>>16,E=R&65535,c=R>>>16,R=(A>>>14|Y<<32-14)^(A>>>18|Y<<32-18)^(Y>>>41-32|A<<32-(41-32)),F=(Y>>>14|A<<32-14)^(Y>>>18|A<<32-18)^(A>>>41-32|Y<<32-(41-32)),J+=F&65535,X+=F>>>16,E+=R&65535,c+=R>>>16,R=A&D^~A&O,F=Y&j^~Y&W,J+=F&65535,X+=F>>>16,E+=R&65535,c+=R>>>16,R=lS[d*2],F=lS[d*2+1],J+=F&65535,X+=F>>>16,E+=R&65535,c+=R>>>16,R=r[d%16],F=e[d%16],J+=F&65535,X+=F>>>16,E+=R&65535,c+=R>>>16,X+=J>>>16,E+=X>>>16,c+=E>>>16,G=E&65535|c<<16,ce=J&65535|X<<16,R=G,F=ce,J=F&65535,X=F>>>16,E=R&65535,c=R>>>16,R=(a>>>28|V<<32-28)^(V>>>34-32|a<<32-(34-32))^(V>>>39-32|a<<32-(39-32)),F=(V>>>28|a<<32-28)^(a>>>34-32|V<<32-(34-32))^(a>>>39-32|V<<32-(39-32)),J+=F&65535,X+=F>>>16,E+=R&65535,c+=R>>>16,R=a&u^a&h^u&h,F=V&z^V&$^z&$,J+=F&65535,X+=F>>>16,E+=R&65535,c+=R>>>16,X+=J>>>16,E+=X>>>16,c+=E>>>16,Z=E&65535|c<<16,P=J&65535|X<<16,R=N,F=v,J=F&65535,X=F>>>16,E=R&65535,c=R>>>16,R=G,F=ce,J+=F&65535,X+=F>>>16,E+=R&65535,c+=R>>>16,X+=J>>>16,E+=X>>>16,c+=E>>>16,N=E&65535|c<<16,v=J&65535|X<<16,u=m,h=w,p=S,A=N,D=I,O=l,T=C,a=Z,z=ie,$=ee,se=ae,Y=v,j=b,W=x,k=L,V=P,d%16===15)for(var g=0;g<16;g++)R=r[g],F=e[g],J=F&65535,X=F>>>16,E=R&65535,c=R>>>16,R=r[(g+9)%16],F=e[(g+9)%16],J+=F&65535,X+=F>>>16,E+=R&65535,c+=R>>>16,G=r[(g+1)%16],ce=e[(g+1)%16],R=(G>>>1|ce<<32-1)^(G>>>8|ce<<32-8)^G>>>7,F=(ce>>>1|G<<32-1)^(ce>>>8|G<<32-8)^(ce>>>7|G<<32-7),J+=F&65535,X+=F>>>16,E+=R&65535,c+=R>>>16,G=r[(g+14)%16],ce=e[(g+14)%16],R=(G>>>19|ce<<32-19)^(ce>>>61-32|G<<32-(61-32))^G>>>6,F=(ce>>>19|G<<32-19)^(G>>>61-32|ce<<32-(61-32))^(ce>>>6|G<<32-6),J+=F&65535,X+=F>>>16,E+=R&65535,c+=R>>>16,X+=J>>>16,E+=X>>>16,c+=E>>>16,r[g]=E&65535|c<<16,e[g]=J&65535|X<<16}R=a,F=V,J=F&65535,X=F>>>16,E=R&65535,c=R>>>16,R=t[0],F=i[0],J+=F&65535,X+=F>>>16,E+=R&65535,c+=R>>>16,X+=J>>>16,E+=X>>>16,c+=E>>>16,t[0]=a=E&65535|c<<16,i[0]=V=J&65535|X<<16,R=u,F=z,J=F&65535,X=F>>>16,E=R&65535,c=R>>>16,R=t[1],F=i[1],J+=F&65535,X+=F>>>16,E+=R&65535,c+=R>>>16,X+=J>>>16,E+=X>>>16,c+=E>>>16,t[1]=u=E&65535|c<<16,i[1]=z=J&65535|X<<16,R=h,F=$,J=F&65535,X=F>>>16,E=R&65535,c=R>>>16,R=t[2],F=i[2],J+=F&65535,X+=F>>>16,E+=R&65535,c+=R>>>16,X+=J>>>16,E+=X>>>16,c+=E>>>16,t[2]=h=E&65535|c<<16,i[2]=$=J&65535|X<<16,R=p,F=se,J=F&65535,X=F>>>16,E=R&65535,c=R>>>16,R=t[3],F=i[3],J+=F&65535,X+=F>>>16,E+=R&65535,c+=R>>>16,X+=J>>>16,E+=X>>>16,c+=E>>>16,t[3]=p=E&65535|c<<16,i[3]=se=J&65535|X<<16,R=A,F=Y,J=F&65535,X=F>>>16,E=R&65535,c=R>>>16,R=t[4],F=i[4],J+=F&65535,X+=F>>>16,E+=R&65535,c+=R>>>16,X+=J>>>16,E+=X>>>16,c+=E>>>16,t[4]=A=E&65535|c<<16,i[4]=Y=J&65535|X<<16,R=D,F=j,J=F&65535,X=F>>>16,E=R&65535,c=R>>>16,R=t[5],F=i[5],J+=F&65535,X+=F>>>16,E+=R&65535,c+=R>>>16,X+=J>>>16,E+=X>>>16,c+=E>>>16,t[5]=D=E&65535|c<<16,i[5]=j=J&65535|X<<16,R=O,F=W,J=F&65535,X=F>>>16,E=R&65535,c=R>>>16,R=t[6],F=i[6],J+=F&65535,X+=F>>>16,E+=R&65535,c+=R>>>16,X+=J>>>16,E+=X>>>16,c+=E>>>16,t[6]=O=E&65535|c<<16,i[6]=W=J&65535|X<<16,R=T,F=k,J=F&65535,X=F>>>16,E=R&65535,c=R>>>16,R=t[7],F=i[7],J+=F&65535,X+=F>>>16,E+=R&65535,c+=R>>>16,X+=J>>>16,E+=X>>>16,c+=E>>>16,t[7]=T=E&65535|c<<16,i[7]=k=J&65535|X<<16,s+=128,o-=128}return s}function wF(r){var e=new fS;e.update(r);var t=e.digest();return e.clean(),t}Xi.hash=wF});var SS=B(He=>{"use strict";f();Object.defineProperty(He,"__esModule",{value:!0});He.convertSecretKeyToX25519=He.convertPublicKeyToX25519=He.verify=He.sign=He.extractPublicKeyFromSecretKey=He.generateKeyPair=He.generateKeyPairFromSeed=He.SEED_LENGTH=He.SECRET_KEY_LENGTH=He.PUBLIC_KEY_LENGTH=He.SIGNATURE_LENGTH=void 0;var vF=Tc(),Nc=hS(),mS=qr();He.SIGNATURE_LENGTH=64;He.PUBLIC_KEY_LENGTH=32;He.SECRET_KEY_LENGTH=64;He.SEED_LENGTH=32;function ve(r){let e=new Float64Array(16);if(r)for(let t=0;t<r.length;t++)e[t]=r[t];return e}var EF=new Uint8Array(32);EF[0]=9;var Zm=ve(),Ja=ve([1]),AF=ve([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),IF=ve([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),dS=ve([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),pS=ve([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),_F=ve([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function Rn(r,e){for(let t=0;t<16;t++)r[t]=e[t]|0}function Jm(r){let e=1;for(let t=0;t<16;t++){let i=r[t]+e+65535;e=Math.floor(i/65536),r[t]=i-e*65536}r[0]+=e-1+37*(e-1)}function wS(r,e,t){let i=~(t-1);for(let n=0;n<16;n++){let s=i&(r[n]^e[n]);r[n]^=s,e[n]^=s}}function Dc(r,e){let t=ve(),i=ve();for(let n=0;n<16;n++)i[n]=e[n];Jm(i),Jm(i),Jm(i);for(let n=0;n<2;n++){t[0]=i[0]-65517;for(let o=1;o<15;o++)t[o]=i[o]-65535-(t[o-1]>>16&1),t[o-1]&=65535;t[15]=i[15]-32767-(t[14]>>16&1);let s=t[15]>>16&1;t[14]&=65535,wS(i,t,1-s)}for(let n=0;n<16;n++)r[2*n]=i[n]&255,r[2*n+1]=i[n]>>8}function vS(r,e){let t=0;for(let i=0;i<32;i++)t|=r[i]^e[i];return(1&t-1>>>8)-1}function gS(r,e){let t=new Uint8Array(32),i=new Uint8Array(32);return Dc(t,r),Dc(i,e),vS(t,i)}function ES(r){let e=new Uint8Array(32);return Dc(e,r),e[0]&1}function bF(r,e){for(let t=0;t<16;t++)r[t]=e[2*t]+(e[2*t+1]<<8);r[15]&=32767}function Js(r,e,t){for(let i=0;i<16;i++)r[i]=e[i]+t[i]}function Zs(r,e,t){for(let i=0;i<16;i++)r[i]=e[i]-t[i]}function Ge(r,e,t){let i,n,s=0,o=0,a=0,u=0,h=0,p=0,A=0,D=0,O=0,T=0,V=0,z=0,$=0,se=0,Y=0,j=0,W=0,k=0,R=0,F=0,G=0,ce=0,J=0,X=0,E=0,c=0,d=0,g=0,m=0,w=0,S=0,N=t[0],I=t[1],l=t[2],C=t[3],Z=t[4],ie=t[5],ee=t[6],ae=t[7],v=t[8],b=t[9],x=t[10],L=t[11],P=t[12],U=t[13],q=t[14],M=t[15];i=e[0],s+=i*N,o+=i*I,a+=i*l,u+=i*C,h+=i*Z,p+=i*ie,A+=i*ee,D+=i*ae,O+=i*v,T+=i*b,V+=i*x,z+=i*L,$+=i*P,se+=i*U,Y+=i*q,j+=i*M,i=e[1],o+=i*N,a+=i*I,u+=i*l,h+=i*C,p+=i*Z,A+=i*ie,D+=i*ee,O+=i*ae,T+=i*v,V+=i*b,z+=i*x,$+=i*L,se+=i*P,Y+=i*U,j+=i*q,W+=i*M,i=e[2],a+=i*N,u+=i*I,h+=i*l,p+=i*C,A+=i*Z,D+=i*ie,O+=i*ee,T+=i*ae,V+=i*v,z+=i*b,$+=i*x,se+=i*L,Y+=i*P,j+=i*U,W+=i*q,k+=i*M,i=e[3],u+=i*N,h+=i*I,p+=i*l,A+=i*C,D+=i*Z,O+=i*ie,T+=i*ee,V+=i*ae,z+=i*v,$+=i*b,se+=i*x,Y+=i*L,j+=i*P,W+=i*U,k+=i*q,R+=i*M,i=e[4],h+=i*N,p+=i*I,A+=i*l,D+=i*C,O+=i*Z,T+=i*ie,V+=i*ee,z+=i*ae,$+=i*v,se+=i*b,Y+=i*x,j+=i*L,W+=i*P,k+=i*U,R+=i*q,F+=i*M,i=e[5],p+=i*N,A+=i*I,D+=i*l,O+=i*C,T+=i*Z,V+=i*ie,z+=i*ee,$+=i*ae,se+=i*v,Y+=i*b,j+=i*x,W+=i*L,k+=i*P,R+=i*U,F+=i*q,G+=i*M,i=e[6],A+=i*N,D+=i*I,O+=i*l,T+=i*C,V+=i*Z,z+=i*ie,$+=i*ee,se+=i*ae,Y+=i*v,j+=i*b,W+=i*x,k+=i*L,R+=i*P,F+=i*U,G+=i*q,ce+=i*M,i=e[7],D+=i*N,O+=i*I,T+=i*l,V+=i*C,z+=i*Z,$+=i*ie,se+=i*ee,Y+=i*ae,j+=i*v,W+=i*b,k+=i*x,R+=i*L,F+=i*P,G+=i*U,ce+=i*q,J+=i*M,i=e[8],O+=i*N,T+=i*I,V+=i*l,z+=i*C,$+=i*Z,se+=i*ie,Y+=i*ee,j+=i*ae,W+=i*v,k+=i*b,R+=i*x,F+=i*L,G+=i*P,ce+=i*U,J+=i*q,X+=i*M,i=e[9],T+=i*N,V+=i*I,z+=i*l,$+=i*C,se+=i*Z,Y+=i*ie,j+=i*ee,W+=i*ae,k+=i*v,R+=i*b,F+=i*x,G+=i*L,ce+=i*P,J+=i*U,X+=i*q,E+=i*M,i=e[10],V+=i*N,z+=i*I,$+=i*l,se+=i*C,Y+=i*Z,j+=i*ie,W+=i*ee,k+=i*ae,R+=i*v,F+=i*b,G+=i*x,ce+=i*L,J+=i*P,X+=i*U,E+=i*q,c+=i*M,i=e[11],z+=i*N,$+=i*I,se+=i*l,Y+=i*C,j+=i*Z,W+=i*ie,k+=i*ee,R+=i*ae,F+=i*v,G+=i*b,ce+=i*x,J+=i*L,X+=i*P,E+=i*U,c+=i*q,d+=i*M,i=e[12],$+=i*N,se+=i*I,Y+=i*l,j+=i*C,W+=i*Z,k+=i*ie,R+=i*ee,F+=i*ae,G+=i*v,ce+=i*b,J+=i*x,X+=i*L,E+=i*P,c+=i*U,d+=i*q,g+=i*M,i=e[13],se+=i*N,Y+=i*I,j+=i*l,W+=i*C,k+=i*Z,R+=i*ie,F+=i*ee,G+=i*ae,ce+=i*v,J+=i*b,X+=i*x,E+=i*L,c+=i*P,d+=i*U,g+=i*q,m+=i*M,i=e[14],Y+=i*N,j+=i*I,W+=i*l,k+=i*C,R+=i*Z,F+=i*ie,G+=i*ee,ce+=i*ae,J+=i*v,X+=i*b,E+=i*x,c+=i*L,d+=i*P,g+=i*U,m+=i*q,w+=i*M,i=e[15],j+=i*N,W+=i*I,k+=i*l,R+=i*C,F+=i*Z,G+=i*ie,ce+=i*ee,J+=i*ae,X+=i*v,E+=i*b,c+=i*x,d+=i*L,g+=i*P,m+=i*U,w+=i*q,S+=i*M,s+=38*W,o+=38*k,a+=38*R,u+=38*F,h+=38*G,p+=38*ce,A+=38*J,D+=38*X,O+=38*E,T+=38*c,V+=38*d,z+=38*g,$+=38*m,se+=38*w,Y+=38*S,n=1,i=s+n+65535,n=Math.floor(i/65536),s=i-n*65536,i=o+n+65535,n=Math.floor(i/65536),o=i-n*65536,i=a+n+65535,n=Math.floor(i/65536),a=i-n*65536,i=u+n+65535,n=Math.floor(i/65536),u=i-n*65536,i=h+n+65535,n=Math.floor(i/65536),h=i-n*65536,i=p+n+65535,n=Math.floor(i/65536),p=i-n*65536,i=A+n+65535,n=Math.floor(i/65536),A=i-n*65536,i=D+n+65535,n=Math.floor(i/65536),D=i-n*65536,i=O+n+65535,n=Math.floor(i/65536),O=i-n*65536,i=T+n+65535,n=Math.floor(i/65536),T=i-n*65536,i=V+n+65535,n=Math.floor(i/65536),V=i-n*65536,i=z+n+65535,n=Math.floor(i/65536),z=i-n*65536,i=$+n+65535,n=Math.floor(i/65536),$=i-n*65536,i=se+n+65535,n=Math.floor(i/65536),se=i-n*65536,i=Y+n+65535,n=Math.floor(i/65536),Y=i-n*65536,i=j+n+65535,n=Math.floor(i/65536),j=i-n*65536,s+=n-1+37*(n-1),n=1,i=s+n+65535,n=Math.floor(i/65536),s=i-n*65536,i=o+n+65535,n=Math.floor(i/65536),o=i-n*65536,i=a+n+65535,n=Math.floor(i/65536),a=i-n*65536,i=u+n+65535,n=Math.floor(i/65536),u=i-n*65536,i=h+n+65535,n=Math.floor(i/65536),h=i-n*65536,i=p+n+65535,n=Math.floor(i/65536),p=i-n*65536,i=A+n+65535,n=Math.floor(i/65536),A=i-n*65536,i=D+n+65535,n=Math.floor(i/65536),D=i-n*65536,i=O+n+65535,n=Math.floor(i/65536),O=i-n*65536,i=T+n+65535,n=Math.floor(i/65536),T=i-n*65536,i=V+n+65535,n=Math.floor(i/65536),V=i-n*65536,i=z+n+65535,n=Math.floor(i/65536),z=i-n*65536,i=$+n+65535,n=Math.floor(i/65536),$=i-n*65536,i=se+n+65535,n=Math.floor(i/65536),se=i-n*65536,i=Y+n+65535,n=Math.floor(i/65536),Y=i-n*65536,i=j+n+65535,n=Math.floor(i/65536),j=i-n*65536,s+=n-1+37*(n-1),r[0]=s,r[1]=o,r[2]=a,r[3]=u,r[4]=h,r[5]=p,r[6]=A,r[7]=D,r[8]=O,r[9]=T,r[10]=V,r[11]=z,r[12]=$,r[13]=se,r[14]=Y,r[15]=j}function Xs(r,e){Ge(r,e,e)}function AS(r,e){let t=ve(),i;for(i=0;i<16;i++)t[i]=e[i];for(i=253;i>=0;i--)Xs(t,t),i!==2&&i!==4&&Ge(t,t,e);for(i=0;i<16;i++)r[i]=t[i]}function CF(r,e){let t=ve(),i;for(i=0;i<16;i++)t[i]=e[i];for(i=250;i>=0;i--)Xs(t,t),i!==1&&Ge(t,t,e);for(i=0;i<16;i++)r[i]=t[i]}function e1(r,e){let t=ve(),i=ve(),n=ve(),s=ve(),o=ve(),a=ve(),u=ve(),h=ve(),p=ve();Zs(t,r[1],r[0]),Zs(p,e[1],e[0]),Ge(t,t,p),Js(i,r[0],r[1]),Js(p,e[0],e[1]),Ge(i,i,p),Ge(n,r[3],e[3]),Ge(n,n,IF),Ge(s,r[2],e[2]),Js(s,s,s),Zs(o,i,t),Zs(a,s,n),Js(u,s,n),Js(h,i,t),Ge(r[0],o,a),Ge(r[1],h,u),Ge(r[2],u,a),Ge(r[3],o,h)}function yS(r,e,t){for(let i=0;i<4;i++)wS(r[i],e[i],t)}function r1(r,e){let t=ve(),i=ve(),n=ve();AS(n,e[2]),Ge(t,e[0],n),Ge(i,e[1],n),Dc(r,i),r[31]^=ES(t)<<7}function IS(r,e,t){Rn(r[0],Zm),Rn(r[1],Ja),Rn(r[2],Ja),Rn(r[3],Zm);for(let i=255;i>=0;--i){let n=t[i/8|0]>>(i&7)&1;yS(r,e,n),e1(e,r),e1(r,r),yS(r,e,n)}}function i1(r,e){let t=[ve(),ve(),ve(),ve()];Rn(t[0],dS),Rn(t[1],pS),Rn(t[2],Ja),Ge(t[3],dS,pS),IS(r,t,e)}function _S(r){if(r.length!==He.SEED_LENGTH)throw new Error(`ed25519: seed must be ${He.SEED_LENGTH} bytes`);let e=(0,Nc.hash)(r);e[0]&=248,e[31]&=127,e[31]|=64;let t=new Uint8Array(32),i=[ve(),ve(),ve(),ve()];i1(i,e),r1(t,i);let n=new Uint8Array(64);return n.set(r),n.set(t,32),{publicKey:t,secretKey:n}}He.generateKeyPairFromSeed=_S;function SF(r){let e=(0,vF.randomBytes)(32,r),t=_S(e);return(0,mS.wipe)(e),t}He.generateKeyPair=SF;function xF(r){if(r.length!==He.SECRET_KEY_LENGTH)throw new Error(`ed25519: secret key must be ${He.SECRET_KEY_LENGTH} bytes`);return new Uint8Array(r.subarray(32))}He.extractPublicKeyFromSecretKey=xF;var Xm=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function bS(r,e){let t,i,n,s;for(i=63;i>=32;--i){for(t=0,n=i-32,s=i-12;n<s;++n)e[n]+=t-16*e[i]*Xm[n-(i-32)],t=Math.floor((e[n]+128)/256),e[n]-=t*256;e[n]+=t,e[i]=0}for(t=0,n=0;n<32;n++)e[n]+=t-(e[31]>>4)*Xm[n],t=e[n]>>8,e[n]&=255;for(n=0;n<32;n++)e[n]-=t*Xm[n];for(i=0;i<32;i++)e[i+1]+=e[i]>>8,r[i]=e[i]&255}function t1(r){let e=new Float64Array(64);for(let t=0;t<64;t++)e[t]=r[t];for(let t=0;t<64;t++)r[t]=0;bS(r,e)}function TF(r,e){let t=new Float64Array(64),i=[ve(),ve(),ve(),ve()],n=(0,Nc.hash)(r.subarray(0,32));n[0]&=248,n[31]&=127,n[31]|=64;let s=new Uint8Array(64);s.set(n.subarray(32),32);let o=new Nc.SHA512;o.update(s.subarray(32)),o.update(e);let a=o.digest();o.clean(),t1(a),i1(i,a),r1(s,i),o.reset(),o.update(s.subarray(0,32)),o.update(r.subarray(32)),o.update(e);let u=o.digest();t1(u);for(let h=0;h<32;h++)t[h]=a[h];for(let h=0;h<32;h++)for(let p=0;p<32;p++)t[h+p]+=u[h]*n[p];return bS(s.subarray(32),t),s}He.sign=TF;function CS(r,e){let t=ve(),i=ve(),n=ve(),s=ve(),o=ve(),a=ve(),u=ve();return Rn(r[2],Ja),bF(r[1],e),Xs(n,r[1]),Ge(s,n,AF),Zs(n,n,r[2]),Js(s,r[2],s),Xs(o,s),Xs(a,o),Ge(u,a,o),Ge(t,u,n),Ge(t,t,s),CF(t,t),Ge(t,t,n),Ge(t,t,s),Ge(t,t,s),Ge(r[0],t,s),Xs(i,r[0]),Ge(i,i,s),gS(i,n)&&Ge(r[0],r[0],_F),Xs(i,r[0]),Ge(i,i,s),gS(i,n)?-1:(ES(r[0])===e[31]>>7&&Zs(r[0],Zm,r[0]),Ge(r[3],r[0],r[1]),0)}function NF(r,e,t){let i=new Uint8Array(32),n=[ve(),ve(),ve(),ve()],s=[ve(),ve(),ve(),ve()];if(t.length!==He.SIGNATURE_LENGTH)throw new Error(`ed25519: signature must be ${He.SIGNATURE_LENGTH} bytes`);if(CS(s,r))return!1;let o=new Nc.SHA512;o.update(t.subarray(0,32)),o.update(r),o.update(e);let a=o.digest();return t1(a),IS(n,s,a),i1(s,t.subarray(32)),e1(n,s),r1(i,n),!vS(t,i)}He.verify=NF;function DF(r){let e=[ve(),ve(),ve(),ve()];if(CS(e,r))throw new Error("Ed25519: invalid public key");let t=ve(),i=ve(),n=e[1];Js(t,Ja,n),Zs(i,Ja,n),AS(i,i),Ge(t,t,i);let s=new Uint8Array(32);return Dc(s,t),s}He.convertPublicKeyToX25519=DF;function OF(r){let e=(0,Nc.hash)(r.subarray(0,32));e[0]&=248,e[31]&=127,e[31]|=64;let t=new Uint8Array(e.subarray(0,32));return(0,mS.wipe)(e),t}He.convertSecretKeyToX25519=OF});var Bh,Mh,eo,Xa,Rh,Oc,Lh,Fh,Uh,Za,qh,Vh,xS,TS,Hh=me(()=>{f();Bh="EdDSA",Mh="JWT",eo=".",Xa="base64url",Rh="utf8",Oc="utf8",Lh=":",Fh="did",Uh="key",Za="base58btc",qh="z",Vh="K36",xS=32,TS=32});function eu(r=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(r):new Uint8Array(r)}var Qh=me(()=>{f()});function jh(r,e){e||(e=r.reduce((n,s)=>n+s.length,0));let t=eu(e),i=0;for(let n of r)t.set(n,i),i+=n.length;return t}var n1=me(()=>{f();Qh()});function PF(r,e){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),i=0;i<t.length;i++)t[i]=255;for(var n=0;n<r.length;n++){var s=r.charAt(n),o=s.charCodeAt(0);if(t[o]!==255)throw new TypeError(s+" is ambiguous");t[o]=n}var a=r.length,u=r.charAt(0),h=Math.log(a)/Math.log(256),p=Math.log(256)/Math.log(a);function A(T){if(T instanceof Uint8Array||(ArrayBuffer.isView(T)?T=new Uint8Array(T.buffer,T.byteOffset,T.byteLength):Array.isArray(T)&&(T=Uint8Array.from(T))),!(T instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(T.length===0)return"";for(var V=0,z=0,$=0,se=T.length;$!==se&&T[$]===0;)$++,V++;for(var Y=(se-$)*p+1>>>0,j=new Uint8Array(Y);$!==se;){for(var W=T[$],k=0,R=Y-1;(W!==0||k<z)&&R!==-1;R--,k++)W+=256*j[R]>>>0,j[R]=W%a>>>0,W=W/a>>>0;if(W!==0)throw new Error("Non-zero carry");z=k,$++}for(var F=Y-z;F!==Y&&j[F]===0;)F++;for(var G=u.repeat(V);F<Y;++F)G+=r.charAt(j[F]);return G}function D(T){if(typeof T!="string")throw new TypeError("Expected String");if(T.length===0)return new Uint8Array;var V=0;if(T[V]!==" "){for(var z=0,$=0;T[V]===u;)z++,V++;for(var se=(T.length-V)*h+1>>>0,Y=new Uint8Array(se);T[V];){var j=t[T.charCodeAt(V)];if(j===255)return;for(var W=0,k=se-1;(j!==0||W<$)&&k!==-1;k--,W++)j+=a*Y[k]>>>0,Y[k]=j%256>>>0,j=j/256>>>0;if(j!==0)throw new Error("Non-zero carry");$=W,V++}if(T[V]!==" "){for(var R=se-$;R!==se&&Y[R]===0;)R++;for(var F=new Uint8Array(z+(se-R)),G=z;R!==se;)F[G++]=Y[R++];return F}}}function O(T){var V=D(T);if(V)return V;throw new Error(`Non-${e} character`)}return{encode:A,decodeUnsafe:D,decode:O}}var BF,MF,NS,DS=me(()=>{f();BF=PF,MF=BF,NS=MF});var JJ,OS,Zi,PS,BS,Ln=me(()=>{f();JJ=new Uint8Array(0),OS=(r,e)=>{if(r===e)return!0;if(r.byteLength!==e.byteLength)return!1;for(let t=0;t<r.byteLength;t++)if(r[t]!==e[t])return!1;return!0},Zi=r=>{if(r instanceof Uint8Array&&r.constructor.name==="Uint8Array")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")},PS=r=>new TextEncoder().encode(r),BS=r=>new TextDecoder().decode(r)});var s1,o1,a1,RS,u1,tu,Fn,RF,LF,ut,Xr=me(()=>{f();DS();Ln();s1=class{constructor(e,t,i){this.name=e,this.prefix=t,this.baseEncode=i}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},o1=class{constructor(e,t,i){if(this.name=e,this.prefix=t,t.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=i}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return RS(this,e)}},a1=class{constructor(e){this.decoders=e}or(e){return RS(this,e)}decode(e){let t=e[0],i=this.decoders[t];if(i)return i.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},RS=(r,e)=>new a1({...r.decoders||{[r.prefix]:r},...e.decoders||{[e.prefix]:e}}),u1=class{constructor(e,t,i,n){this.name=e,this.prefix=t,this.baseEncode=i,this.baseDecode=n,this.encoder=new s1(e,t,i),this.decoder=new o1(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},tu=({name:r,prefix:e,encode:t,decode:i})=>new u1(r,e,t,i),Fn=({prefix:r,name:e,alphabet:t})=>{let{encode:i,decode:n}=NS(t,e);return tu({prefix:r,name:e,encode:i,decode:s=>Zi(n(s))})},RF=(r,e,t,i)=>{let n={};for(let p=0;p<e.length;++p)n[e[p]]=p;let s=r.length;for(;r[s-1]==="=";)--s;let o=new Uint8Array(s*t/8|0),a=0,u=0,h=0;for(let p=0;p<s;++p){let A=n[r[p]];if(A===void 0)throw new SyntaxError(`Non-${i} character`);u=u<<t|A,a+=t,a>=8&&(a-=8,o[h++]=255&u>>a)}if(a>=t||255&u<<8-a)throw new SyntaxError("Unexpected end of data");return o},LF=(r,e,t)=>{let i=e[e.length-1]==="=",n=(1<<t)-1,s="",o=0,a=0;for(let u=0;u<r.length;++u)for(a=a<<8|r[u],o+=8;o>t;)o-=t,s+=e[n&a>>o];if(o&&(s+=e[n&a<<t-o]),i)for(;s.length*t&7;)s+="=";return s},ut=({name:r,prefix:e,bitsPerChar:t,alphabet:i})=>tu({prefix:e,name:r,encode(n){return LF(n,i,t)},decode(n){return RF(n,i,t,r)}})});var c1={};ot(c1,{identity:()=>FF});var FF,LS=me(()=>{f();Xr();Ln();FF=tu({prefix:"\0",name:"identity",encode:r=>BS(r),decode:r=>PS(r)})});var l1={};ot(l1,{base2:()=>UF});var UF,FS=me(()=>{f();Xr();UF=ut({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1})});var f1={};ot(f1,{base8:()=>qF});var qF,US=me(()=>{f();Xr();qF=ut({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3})});var h1={};ot(h1,{base10:()=>VF});var VF,qS=me(()=>{f();Xr();VF=Fn({prefix:"9",name:"base10",alphabet:"0123456789"})});var d1={};ot(d1,{base16:()=>HF,base16upper:()=>QF});var HF,QF,VS=me(()=>{f();Xr();HF=ut({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),QF=ut({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4})});var p1={};ot(p1,{base32:()=>ru,base32hex:()=>zF,base32hexpad:()=>WF,base32hexpadupper:()=>$F,base32hexupper:()=>kF,base32pad:()=>GF,base32padupper:()=>KF,base32upper:()=>jF,base32z:()=>YF});var ru,jF,GF,KF,zF,kF,WF,$F,YF,g1=me(()=>{f();Xr();ru=ut({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),jF=ut({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),GF=ut({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),KF=ut({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),zF=ut({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),kF=ut({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),WF=ut({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),$F=ut({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),YF=ut({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})});var y1={};ot(y1,{base36:()=>JF,base36upper:()=>XF});var JF,XF,HS=me(()=>{f();Xr();JF=Fn({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),XF=Fn({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})});var m1={};ot(m1,{base58btc:()=>Ni,base58flickr:()=>ZF});var Ni,ZF,w1=me(()=>{f();Xr();Ni=Fn({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),ZF=Fn({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})});var v1={};ot(v1,{base64:()=>e4,base64pad:()=>t4,base64url:()=>r4,base64urlpad:()=>i4});var e4,t4,r4,i4,QS=me(()=>{f();Xr();e4=ut({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),t4=ut({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),r4=ut({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),i4=ut({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})});var E1={};ot(E1,{base256emoji:()=>u4});function o4(r){return r.reduce((e,t)=>(e+=n4[t],e),"")}function a4(r){let e=[];for(let t of r){let i=s4[t.codePointAt(0)];if(i===void 0)throw new Error(`Non-base256emoji character: ${t}`);e.push(i)}return new Uint8Array(e)}var jS,n4,s4,u4,GS=me(()=>{f();Xr();jS=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),n4=jS.reduce((r,e,t)=>(r[t]=e,r),[]),s4=jS.reduce((r,e,t)=>(r[e.codePointAt(0)]=t,r),[]);u4=tu({prefix:"\u{1F680}",name:"base256emoji",encode:o4,decode:a4})});function kS(r,e,t){e=e||[],t=t||0;for(var i=t;r>=h4;)e[t++]=r&255|KS,r/=128;for(;r&f4;)e[t++]=r&255|KS,r>>>=7;return e[t]=r|0,kS.bytes=t-i+1,e}function A1(r,i){var t=0,i=i||0,n=0,s=i,o,a=r.length;do{if(s>=a)throw A1.bytes=0,new RangeError("Could not decode varint");o=r[s++],t+=n<28?(o&zS)<<n:(o&zS)*Math.pow(2,n),n+=7}while(o>=p4);return A1.bytes=s-i,t}var c4,KS,l4,f4,h4,d4,p4,zS,g4,y4,m4,w4,v4,E4,A4,I4,_4,b4,C4,S4,Pc,WS=me(()=>{f();c4=kS,KS=128,l4=127,f4=~l4,h4=Math.pow(2,31);d4=A1,p4=128,zS=127;g4=Math.pow(2,7),y4=Math.pow(2,14),m4=Math.pow(2,21),w4=Math.pow(2,28),v4=Math.pow(2,35),E4=Math.pow(2,42),A4=Math.pow(2,49),I4=Math.pow(2,56),_4=Math.pow(2,63),b4=function(r){return r<g4?1:r<y4?2:r<m4?3:r<w4?4:r<v4?5:r<E4?6:r<A4?7:r<I4?8:r<_4?9:10},C4={encode:c4,decode:d4,encodingLength:b4},S4=C4,Pc=S4});var Bc,iu,nu,Kh=me(()=>{f();WS();Bc=(r,e=0)=>[Pc.decode(r,e),Pc.decode.bytes],iu=(r,e,t=0)=>(Pc.encode(r,e,t),e),nu=r=>Pc.encodingLength(r)});var to,$S,YS,su,Rc=me(()=>{f();Ln();Kh();to=(r,e)=>{let t=e.byteLength,i=nu(r),n=i+nu(t),s=new Uint8Array(n+t);return iu(r,s,0),iu(t,s,i),s.set(e,n),new su(r,t,e,s)},$S=r=>{let e=Zi(r),[t,i]=Bc(e),[n,s]=Bc(e.subarray(i)),o=e.subarray(i+s);if(o.byteLength!==n)throw new Error("Incorrect length");return new su(t,n,o,e)},YS=(r,e)=>r===e?!0:r.code===e.code&&r.size===e.size&&OS(r.bytes,e.bytes),su=class{constructor(e,t,i,n){this.code=e,this.size=t,this.digest=i,this.bytes=n}}});var _1,I1,b1=me(()=>{f();Rc();_1=({name:r,code:e,encode:t})=>new I1(r,e,t),I1=class{constructor(e,t,i){this.name=e,this.code=t,this.encode=i}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?to(this.code,t):t.then(i=>to(this.code,i))}else throw Error("Unknown type, must be binary type")}}});var C1={};ot(C1,{sha256:()=>x4,sha512:()=>T4});var XS,x4,T4,ZS=me(()=>{f();b1();XS=r=>async e=>new Uint8Array(await crypto.subtle.digest(r,e)),x4=_1({name:"sha2-256",code:18,encode:XS("SHA-256")}),T4=_1({name:"sha2-512",code:19,encode:XS("SHA-512")})});var S1={};ot(S1,{identity:()=>O4});var ex,N4,tx,D4,O4,rx=me(()=>{f();Ln();Rc();ex=0,N4="identity",tx=Zi,D4=r=>to(ex,tx(r)),O4={code:ex,name:N4,encode:tx,digest:D4}});var ix=me(()=>{f();Ln()});var FX,UX,nx=me(()=>{f();FX=new TextEncoder,UX=new TextDecoder});var Vt,M4,R4,L4,Lc,F4,sx,ox,zh,kh,U4,q4,V4,ax=me(()=>{f();Kh();Rc();w1();g1();Ln();Vt=class{constructor(e,t,i,n){this.code=t,this.version=e,this.multihash=i,this.bytes=n,this.byteOffset=n.byteOffset,this.byteLength=n.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:kh,byteLength:kh,code:zh,version:zh,multihash:zh,bytes:zh,_baseCache:kh,asCID:kh})}toV0(){switch(this.version){case 0:return this;default:{let{code:e,multihash:t}=this;if(e!==Lc)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==F4)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return Vt.createV0(t)}}}toV1(){switch(this.version){case 0:{let{code:e,digest:t}=this.multihash,i=to(e,t);return Vt.createV1(this.code,i)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&YS(this.multihash,e.multihash)}toString(e){let{bytes:t,version:i,_baseCache:n}=this;switch(i){case 0:return R4(t,n,e||Ni.encoder);default:return L4(t,n,e||ru.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return q4(/^0\.0/,V4),!!(e&&(e[ox]||e.asCID===e))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof Vt)return e;if(e!=null&&e.asCID===e){let{version:t,code:i,multihash:n,bytes:s}=e;return new Vt(t,i,n,s||sx(t,i,n.bytes))}else if(e!=null&&e[ox]===!0){let{version:t,multihash:i,code:n}=e,s=$S(i);return Vt.create(t,n,s)}else return null}static create(e,t,i){if(typeof t!="number")throw new Error("String codecs are no longer supported");switch(e){case 0:{if(t!==Lc)throw new Error(`Version 0 CID must use dag-pb (code: ${Lc}) block encoding`);return new Vt(e,t,i,i.bytes)}case 1:{let n=sx(e,t,i.bytes);return new Vt(e,t,i,n)}default:throw new Error("Invalid version")}}static createV0(e){return Vt.create(0,Lc,e)}static createV1(e,t){return Vt.create(1,e,t)}static decode(e){let[t,i]=Vt.decodeFirst(e);if(i.length)throw new Error("Incorrect length");return t}static decodeFirst(e){let t=Vt.inspectBytes(e),i=t.size-t.multihashSize,n=Zi(e.subarray(i,i+t.multihashSize));if(n.byteLength!==t.multihashSize)throw new Error("Incorrect length");let s=n.subarray(t.multihashSize-t.digestSize),o=new su(t.multihashCode,t.digestSize,s,n);return[t.version===0?Vt.createV0(o):Vt.createV1(t.codec,o),e.subarray(t.size)]}static inspectBytes(e){let t=0,i=()=>{let[A,D]=Bc(e.subarray(t));return t+=D,A},n=i(),s=Lc;if(n===18?(n=0,t=0):n===1&&(s=i()),n!==0&&n!==1)throw new RangeError(`Invalid CID version ${n}`);let o=t,a=i(),u=i(),h=t+u,p=h-o;return{version:n,codec:s,multihashCode:a,digestSize:u,multihashSize:p,size:h}}static parse(e,t){let[i,n]=M4(e,t),s=Vt.decode(n);return s._baseCache.set(i,e),s}},M4=(r,e)=>{switch(r[0]){case"Q":{let t=e||Ni;return[Ni.prefix,t.decode(`${Ni.prefix}${r}`)]}case Ni.prefix:{let t=e||Ni;return[Ni.prefix,t.decode(r)]}case ru.prefix:{let t=e||ru;return[ru.prefix,t.decode(r)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[r[0],e.decode(r)]}}},R4=(r,e,t)=>{let{prefix:i}=t;if(i!==Ni.prefix)throw Error(`Cannot string encode V0 in ${t.name} encoding`);let n=e.get(i);if(n==null){let s=t.encode(r).slice(1);return e.set(i,s),s}else return n},L4=(r,e,t)=>{let{prefix:i}=t,n=e.get(i);if(n==null){let s=t.encode(r);return e.set(i,s),s}else return n},Lc=112,F4=18,sx=(r,e,t)=>{let i=nu(r),n=i+nu(e),s=new Uint8Array(n+t.byteLength);return iu(r,s,0),iu(e,s,i),s.set(t,n),s},ox=Symbol.for("@ipld/js-cid/CID"),zh={writable:!1,configurable:!1,enumerable:!0},kh={writable:!1,enumerable:!1,configurable:!1},U4="0.0.0-dev",q4=(r,e)=>{if(r.test(U4))console.warn(e);else throw new Error(e)},V4=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`});var ux=me(()=>{f();ax();Kh();Ln();b1();Rc()});var x1,$X,cx=me(()=>{f();LS();FS();US();qS();VS();g1();HS();w1();QS();GS();ZS();rx();ix();nx();ux();x1={...c1,...l1,...f1,...h1,...d1,...p1,...y1,...m1,...v1,...E1},$X={...C1,...S1}});function fx(r,e,t,i){return{name:r,prefix:e,encoder:{name:r,prefix:e,encode:t},decoder:{decode:i}}}var lx,T1,H4,Wh,N1=me(()=>{f();cx();Qh();lx=fx("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>new TextEncoder().encode(r.substring(1))),T1=fx("ascii","a",r=>{let e="a";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e},r=>{r=r.substring(1);let e=eu(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}),H4={utf8:lx,"utf-8":lx,hex:x1.base16,latin1:T1,ascii:T1,binary:T1,...x1},Wh=H4});function en(r,e="utf8"){let t=Wh[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(r.buffer,r.byteOffset,r.byteLength).toString("utf8"):t.encoder.encode(r).substring(1)}var D1=me(()=>{f();N1()});function Di(r,e="utf8"){let t=Wh[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(r,"utf8"):t.decoder.decode(`${t.prefix}${r}`)}var O1=me(()=>{f();N1()});function Fc(r){return Sc(en(Di(r,Xa),Rh))}function Uc(r){return en(Di(xc(r),Rh),Xa)}function P1(r){let e=Di(Vh,Za),t=qh+en(jh([e,r]),Za);return[Fh,Uh,t].join(Lh)}function B1(r){let[e,t,i]=r.split(Lh);if(e!==Fh||t!==Uh)throw new Error('Issuer must be a DID with method "key"');if(i.slice(0,1)!==qh)throw new Error("Issuer must be a key in mulicodec format");let s=Di(i.slice(1),Za);if(en(s.slice(0,2),Za)!==Vh)throw new Error('Issuer must be a public key with type "Ed25519"');let a=s.slice(2);if(a.length!==32)throw new Error("Issuer must be a public key with length 32 bytes");return a}function hx(r){return en(r,Xa)}function dx(r){return Di(r,Xa)}function M1(r){return Di([Uc(r.header),Uc(r.payload)].join(eo),Oc)}function Q4(r){let e=en(r,Oc).split(eo),t=Fc(e[0]),i=Fc(e[1]);return{header:t,payload:i}}function R1(r){return[Uc(r.header),Uc(r.payload),hx(r.signature)].join(eo)}function L1(r){let e=r.split(eo),t=Fc(e[0]),i=Fc(e[1]),n=dx(e[2]),s=Di(e.slice(0,2).join(eo),Oc);return{header:t,payload:i,signature:n,data:s}}var F1=me(()=>{f();n1();D1();O1();xh();Hh()});function j4(r=(0,px.randomBytes)(32)){return ou.generateKeyPairFromSeed(r)}async function G4(r,e,t,i,n=(0,gx.fromMiliseconds)(Date.now())){let s={alg:Bh,typ:Mh},o=P1(i.publicKey),a=n+t,u={iss:o,sub:r,aud:e,iat:n,exp:a},h=M1({header:s,payload:u}),p=ou.sign(i.secretKey,h);return R1({header:s,payload:u,signature:p})}async function K4(r){let{header:e,payload:t,data:i,signature:n}=L1(r);if(e.alg!==Bh||e.typ!==Mh)throw new Error("JWT must use EdDSA algorithm");let s=B1(t.iss);return ou.verify(s,i,n)}var ou,px,gx,yx=me(()=>{f();ou=_e(SS()),px=_e(Tc()),gx=_e(Ys());Hh();F1()});var mx=me(()=>{f()});var wx={};ot(wx,{DATA_ENCODING:()=>Oc,DID_DELIMITER:()=>Lh,DID_METHOD:()=>Uh,DID_PREFIX:()=>Fh,JSON_ENCODING:()=>Rh,JWT_DELIMITER:()=>eo,JWT_ENCODING:()=>Xa,JWT_IRIDIUM_ALG:()=>Bh,JWT_IRIDIUM_TYP:()=>Mh,KEY_PAIR_SEED_LENGTH:()=>TS,MULTICODEC_ED25519_BASE:()=>qh,MULTICODEC_ED25519_ENCODING:()=>Za,MULTICODEC_ED25519_HEADER:()=>Vh,MULTICODEC_ED25519_LENGTH:()=>xS,decodeData:()=>Q4,decodeIss:()=>B1,decodeJSON:()=>Fc,decodeJWT:()=>L1,decodeSig:()=>dx,encodeData:()=>M1,encodeIss:()=>P1,encodeJSON:()=>Uc,encodeJWT:()=>R1,encodeSig:()=>hx,generateKeyPair:()=>j4,signJWT:()=>G4,verifyJWT:()=>K4});var vx=me(()=>{f();yx();Hh();mx();F1()});var Ax=B($h=>{"use strict";f();Object.defineProperty($h,"__esModule",{value:!0});var ur=Wa(),U1=qr(),z4=20;function k4(r,e,t){for(var i=1634760805,n=857760878,s=2036477234,o=1797285236,a=t[3]<<24|t[2]<<16|t[1]<<8|t[0],u=t[7]<<24|t[6]<<16|t[5]<<8|t[4],h=t[11]<<24|t[10]<<16|t[9]<<8|t[8],p=t[15]<<24|t[14]<<16|t[13]<<8|t[12],A=t[19]<<24|t[18]<<16|t[17]<<8|t[16],D=t[23]<<24|t[22]<<16|t[21]<<8|t[20],O=t[27]<<24|t[26]<<16|t[25]<<8|t[24],T=t[31]<<24|t[30]<<16|t[29]<<8|t[28],V=e[3]<<24|e[2]<<16|e[1]<<8|e[0],z=e[7]<<24|e[6]<<16|e[5]<<8|e[4],$=e[11]<<24|e[10]<<16|e[9]<<8|e[8],se=e[15]<<24|e[14]<<16|e[13]<<8|e[12],Y=i,j=n,W=s,k=o,R=a,F=u,G=h,ce=p,J=A,X=D,E=O,c=T,d=V,g=z,m=$,w=se,S=0;S<z4;S+=2)Y=Y+R|0,d^=Y,d=d>>>32-16|d<<16,J=J+d|0,R^=J,R=R>>>32-12|R<<12,j=j+F|0,g^=j,g=g>>>32-16|g<<16,X=X+g|0,F^=X,F=F>>>32-12|F<<12,W=W+G|0,m^=W,m=m>>>32-16|m<<16,E=E+m|0,G^=E,G=G>>>32-12|G<<12,k=k+ce|0,w^=k,w=w>>>32-16|w<<16,c=c+w|0,ce^=c,ce=ce>>>32-12|ce<<12,W=W+G|0,m^=W,m=m>>>32-8|m<<8,E=E+m|0,G^=E,G=G>>>32-7|G<<7,k=k+ce|0,w^=k,w=w>>>32-8|w<<8,c=c+w|0,ce^=c,ce=ce>>>32-7|ce<<7,j=j+F|0,g^=j,g=g>>>32-8|g<<8,X=X+g|0,F^=X,F=F>>>32-7|F<<7,Y=Y+R|0,d^=Y,d=d>>>32-8|d<<8,J=J+d|0,R^=J,R=R>>>32-7|R<<7,Y=Y+F|0,w^=Y,w=w>>>32-16|w<<16,E=E+w|0,F^=E,F=F>>>32-12|F<<12,j=j+G|0,d^=j,d=d>>>32-16|d<<16,c=c+d|0,G^=c,G=G>>>32-12|G<<12,W=W+ce|0,g^=W,g=g>>>32-16|g<<16,J=J+g|0,ce^=J,ce=ce>>>32-12|ce<<12,k=k+R|0,m^=k,m=m>>>32-16|m<<16,X=X+m|0,R^=X,R=R>>>32-12|R<<12,W=W+ce|0,g^=W,g=g>>>32-8|g<<8,J=J+g|0,ce^=J,ce=ce>>>32-7|ce<<7,k=k+R|0,m^=k,m=m>>>32-8|m<<8,X=X+m|0,R^=X,R=R>>>32-7|R<<7,j=j+G|0,d^=j,d=d>>>32-8|d<<8,c=c+d|0,G^=c,G=G>>>32-7|G<<7,Y=Y+F|0,w^=Y,w=w>>>32-8|w<<8,E=E+w|0,F^=E,F=F>>>32-7|F<<7;ur.writeUint32LE(Y+i|0,r,0),ur.writeUint32LE(j+n|0,r,4),ur.writeUint32LE(W+s|0,r,8),ur.writeUint32LE(k+o|0,r,12),ur.writeUint32LE(R+a|0,r,16),ur.writeUint32LE(F+u|0,r,20),ur.writeUint32LE(G+h|0,r,24),ur.writeUint32LE(ce+p|0,r,28),ur.writeUint32LE(J+A|0,r,32),ur.writeUint32LE(X+D|0,r,36),ur.writeUint32LE(E+O|0,r,40),ur.writeUint32LE(c+T|0,r,44),ur.writeUint32LE(d+V|0,r,48),ur.writeUint32LE(g+z|0,r,52),ur.writeUint32LE(m+$|0,r,56),ur.writeUint32LE(w+se|0,r,60)}function Ex(r,e,t,i,n){if(n===void 0&&(n=0),r.length!==32)throw new Error("ChaCha: key size must be 32 bytes");if(i.length<t.length)throw new Error("ChaCha: destination is shorter than source");var s,o;if(n===0){if(e.length!==8&&e.length!==12)throw new Error("ChaCha nonce must be 8 or 12 bytes");s=new Uint8Array(16),o=s.length-e.length,s.set(e,o)}else{if(e.length!==16)throw new Error("ChaCha nonce with counter must be 16 bytes");s=e,o=n}for(var a=new Uint8Array(64),u=0;u<t.length;u+=64){k4(a,s,r);for(var h=u;h<u+64&&h<t.length;h++)i[h]=t[h]^a[h-u];$4(s,0,o)}return U1.wipe(a),n===0&&U1.wipe(s),i}$h.streamXOR=Ex;function W4(r,e,t,i){return i===void 0&&(i=0),U1.wipe(t),Ex(r,e,t,t,i)}$h.stream=W4;function $4(r,e,t){for(var i=1;t--;)i=i+(r[e]&255)|0,r[e]=i&255,i>>>=8,e++;if(i>0)throw new Error("ChaCha: counter overflow")}});var Yh=B(au=>{"use strict";f();Object.defineProperty(au,"__esModule",{value:!0});function Y4(r,e,t){return~(r-1)&e|r-1&t}au.select=Y4;function J4(r,e){return(r|0)-(e|0)-1>>>31&1}au.lessOrEqual=J4;function Ix(r,e){if(r.length!==e.length)return 0;for(var t=0,i=0;i<r.length;i++)t|=r[i]^e[i];return 1&t-1>>>8}au.compare=Ix;function X4(r,e){return r.length===0||e.length===0?!1:Ix(r,e)!==0}au.equal=X4});var bx=B(tn=>{"use strict";f();Object.defineProperty(tn,"__esModule",{value:!0});var Z4=Yh(),Jh=qr();tn.DIGEST_LENGTH=16;var _x=function(){function r(e){this.digestLength=tn.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var t=e[0]|e[1]<<8;this._r[0]=t&8191;var i=e[2]|e[3]<<8;this._r[1]=(t>>>13|i<<3)&8191;var n=e[4]|e[5]<<8;this._r[2]=(i>>>10|n<<6)&7939;var s=e[6]|e[7]<<8;this._r[3]=(n>>>7|s<<9)&8191;var o=e[8]|e[9]<<8;this._r[4]=(s>>>4|o<<12)&255,this._r[5]=o>>>1&8190;var a=e[10]|e[11]<<8;this._r[6]=(o>>>14|a<<2)&8191;var u=e[12]|e[13]<<8;this._r[7]=(a>>>11|u<<5)&8065;var h=e[14]|e[15]<<8;this._r[8]=(u>>>8|h<<8)&8191,this._r[9]=h>>>5&127,this._pad[0]=e[16]|e[17]<<8,this._pad[1]=e[18]|e[19]<<8,this._pad[2]=e[20]|e[21]<<8,this._pad[3]=e[22]|e[23]<<8,this._pad[4]=e[24]|e[25]<<8,this._pad[5]=e[26]|e[27]<<8,this._pad[6]=e[28]|e[29]<<8,this._pad[7]=e[30]|e[31]<<8}return r.prototype._blocks=function(e,t,i){for(var n=this._fin?0:2048,s=this._h[0],o=this._h[1],a=this._h[2],u=this._h[3],h=this._h[4],p=this._h[5],A=this._h[6],D=this._h[7],O=this._h[8],T=this._h[9],V=this._r[0],z=this._r[1],$=this._r[2],se=this._r[3],Y=this._r[4],j=this._r[5],W=this._r[6],k=this._r[7],R=this._r[8],F=this._r[9];i>=16;){var G=e[t+0]|e[t+1]<<8;s+=G&8191;var ce=e[t+2]|e[t+3]<<8;o+=(G>>>13|ce<<3)&8191;var J=e[t+4]|e[t+5]<<8;a+=(ce>>>10|J<<6)&8191;var X=e[t+6]|e[t+7]<<8;u+=(J>>>7|X<<9)&8191;var E=e[t+8]|e[t+9]<<8;h+=(X>>>4|E<<12)&8191,p+=E>>>1&8191;var c=e[t+10]|e[t+11]<<8;A+=(E>>>14|c<<2)&8191;var d=e[t+12]|e[t+13]<<8;D+=(c>>>11|d<<5)&8191;var g=e[t+14]|e[t+15]<<8;O+=(d>>>8|g<<8)&8191,T+=g>>>5|n;var m=0,w=m;w+=s*V,w+=o*(5*F),w+=a*(5*R),w+=u*(5*k),w+=h*(5*W),m=w>>>13,w&=8191,w+=p*(5*j),w+=A*(5*Y),w+=D*(5*se),w+=O*(5*$),w+=T*(5*z),m+=w>>>13,w&=8191;var S=m;S+=s*z,S+=o*V,S+=a*(5*F),S+=u*(5*R),S+=h*(5*k),m=S>>>13,S&=8191,S+=p*(5*W),S+=A*(5*j),S+=D*(5*Y),S+=O*(5*se),S+=T*(5*$),m+=S>>>13,S&=8191;var N=m;N+=s*$,N+=o*z,N+=a*V,N+=u*(5*F),N+=h*(5*R),m=N>>>13,N&=8191,N+=p*(5*k),N+=A*(5*W),N+=D*(5*j),N+=O*(5*Y),N+=T*(5*se),m+=N>>>13,N&=8191;var I=m;I+=s*se,I+=o*$,I+=a*z,I+=u*V,I+=h*(5*F),m=I>>>13,I&=8191,I+=p*(5*R),I+=A*(5*k),I+=D*(5*W),I+=O*(5*j),I+=T*(5*Y),m+=I>>>13,I&=8191;var l=m;l+=s*Y,l+=o*se,l+=a*$,l+=u*z,l+=h*V,m=l>>>13,l&=8191,l+=p*(5*F),l+=A*(5*R),l+=D*(5*k),l+=O*(5*W),l+=T*(5*j),m+=l>>>13,l&=8191;var C=m;C+=s*j,C+=o*Y,C+=a*se,C+=u*$,C+=h*z,m=C>>>13,C&=8191,C+=p*V,C+=A*(5*F),C+=D*(5*R),C+=O*(5*k),C+=T*(5*W),m+=C>>>13,C&=8191;var Z=m;Z+=s*W,Z+=o*j,Z+=a*Y,Z+=u*se,Z+=h*$,m=Z>>>13,Z&=8191,Z+=p*z,Z+=A*V,Z+=D*(5*F),Z+=O*(5*R),Z+=T*(5*k),m+=Z>>>13,Z&=8191;var ie=m;ie+=s*k,ie+=o*W,ie+=a*j,ie+=u*Y,ie+=h*se,m=ie>>>13,ie&=8191,ie+=p*$,ie+=A*z,ie+=D*V,ie+=O*(5*F),ie+=T*(5*R),m+=ie>>>13,ie&=8191;var ee=m;ee+=s*R,ee+=o*k,ee+=a*W,ee+=u*j,ee+=h*Y,m=ee>>>13,ee&=8191,ee+=p*se,ee+=A*$,ee+=D*z,ee+=O*V,ee+=T*(5*F),m+=ee>>>13,ee&=8191;var ae=m;ae+=s*F,ae+=o*R,ae+=a*k,ae+=u*W,ae+=h*j,m=ae>>>13,ae&=8191,ae+=p*Y,ae+=A*se,ae+=D*$,ae+=O*z,ae+=T*V,m+=ae>>>13,ae&=8191,m=(m<<2)+m|0,m=m+w|0,w=m&8191,m=m>>>13,S+=m,s=w,o=S,a=N,u=I,h=l,p=C,A=Z,D=ie,O=ee,T=ae,t+=16,i-=16}this._h[0]=s,this._h[1]=o,this._h[2]=a,this._h[3]=u,this._h[4]=h,this._h[5]=p,this._h[6]=A,this._h[7]=D,this._h[8]=O,this._h[9]=T},r.prototype.finish=function(e,t){t===void 0&&(t=0);var i=new Uint16Array(10),n,s,o,a;if(this._leftover){for(a=this._leftover,this._buffer[a++]=1;a<16;a++)this._buffer[a]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(n=this._h[1]>>>13,this._h[1]&=8191,a=2;a<10;a++)this._h[a]+=n,n=this._h[a]>>>13,this._h[a]&=8191;for(this._h[0]+=n*5,n=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=n,n=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=n,i[0]=this._h[0]+5,n=i[0]>>>13,i[0]&=8191,a=1;a<10;a++)i[a]=this._h[a]+n,n=i[a]>>>13,i[a]&=8191;for(i[9]-=1<<13,s=(n^1)-1,a=0;a<10;a++)i[a]&=s;for(s=~s,a=0;a<10;a++)this._h[a]=this._h[a]&s|i[a];for(this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,o=this._h[0]+this._pad[0],this._h[0]=o&65535,a=1;a<8;a++)o=(this._h[a]+this._pad[a]|0)+(o>>>16)|0,this._h[a]=o&65535;return e[t+0]=this._h[0]>>>0,e[t+1]=this._h[0]>>>8,e[t+2]=this._h[1]>>>0,e[t+3]=this._h[1]>>>8,e[t+4]=this._h[2]>>>0,e[t+5]=this._h[2]>>>8,e[t+6]=this._h[3]>>>0,e[t+7]=this._h[3]>>>8,e[t+8]=this._h[4]>>>0,e[t+9]=this._h[4]>>>8,e[t+10]=this._h[5]>>>0,e[t+11]=this._h[5]>>>8,e[t+12]=this._h[6]>>>0,e[t+13]=this._h[6]>>>8,e[t+14]=this._h[7]>>>0,e[t+15]=this._h[7]>>>8,this._finished=!0,this},r.prototype.update=function(e){var t=0,i=e.length,n;if(this._leftover){n=16-this._leftover,n>i&&(n=i);for(var s=0;s<n;s++)this._buffer[this._leftover+s]=e[t+s];if(i-=n,t+=n,this._leftover+=n,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(i>=16&&(n=i-i%16,this._blocks(e,t,n),t+=n,i-=n),i){for(var s=0;s<i;s++)this._buffer[this._leftover+s]=e[t+s];this._leftover+=i}return this},r.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var e=new Uint8Array(16);return this.finish(e),e},r.prototype.clean=function(){return Jh.wipe(this._buffer),Jh.wipe(this._r),Jh.wipe(this._h),Jh.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},r}();tn.Poly1305=_x;function eU(r,e){var t=new _x(r);t.update(e);var i=t.digest();return t.clean(),i}tn.oneTimeAuth=eU;function tU(r,e){return r.length!==tn.DIGEST_LENGTH||e.length!==tn.DIGEST_LENGTH?!1:Z4.equal(r,e)}tn.equal=tU});var xx=B(rn=>{"use strict";f();Object.defineProperty(rn,"__esModule",{value:!0});var Xh=Ax(),rU=bx(),qc=qr(),Cx=Wa(),iU=Yh();rn.KEY_LENGTH=32;rn.NONCE_LENGTH=12;rn.TAG_LENGTH=16;var Sx=new Uint8Array(16),nU=function(){function r(e){if(this.nonceLength=rn.NONCE_LENGTH,this.tagLength=rn.TAG_LENGTH,e.length!==rn.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(e)}return r.prototype.seal=function(e,t,i,n){if(e.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var s=new Uint8Array(16);s.set(e,s.length-e.length);var o=new Uint8Array(32);Xh.stream(this._key,s,o,4);var a=t.length+this.tagLength,u;if(n){if(n.length!==a)throw new Error("ChaCha20Poly1305: incorrect destination length");u=n}else u=new Uint8Array(a);return Xh.streamXOR(this._key,s,t,u,4),this._authenticate(u.subarray(u.length-this.tagLength,u.length),o,u.subarray(0,u.length-this.tagLength),i),qc.wipe(s),u},r.prototype.open=function(e,t,i,n){if(e.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(t.length<this.tagLength)return null;var s=new Uint8Array(16);s.set(e,s.length-e.length);var o=new Uint8Array(32);Xh.stream(this._key,s,o,4);var a=new Uint8Array(this.tagLength);if(this._authenticate(a,o,t.subarray(0,t.length-this.tagLength),i),!iU.equal(a,t.subarray(t.length-this.tagLength,t.length)))return null;var u=t.length-this.tagLength,h;if(n){if(n.length!==u)throw new Error("ChaCha20Poly1305: incorrect destination length");h=n}else h=new Uint8Array(u);return Xh.streamXOR(this._key,s,t.subarray(0,t.length-this.tagLength),h,4),qc.wipe(s),h},r.prototype.clean=function(){return qc.wipe(this._key),this},r.prototype._authenticate=function(e,t,i,n){var s=new rU.Poly1305(t);n&&(s.update(n),n.length%16>0&&s.update(Sx.subarray(n.length%16))),s.update(i),i.length%16>0&&s.update(Sx.subarray(i.length%16));var o=new Uint8Array(8);n&&Cx.writeUint64LE(n.length,o),s.update(o),Cx.writeUint64LE(i.length,o),s.update(o);for(var a=s.digest(),u=0;u<a.length;u++)e[u]=a[u];s.clean(),qc.wipe(a),qc.wipe(o)},r}();rn.ChaCha20Poly1305=nU});var Tx=B(q1=>{"use strict";f();Object.defineProperty(q1,"__esModule",{value:!0});function sU(r){return typeof r.saveState<"u"&&typeof r.restoreState<"u"&&typeof r.cleanSavedState<"u"}q1.isSerializableHash=sU});var Dx=B(Vc=>{"use strict";f();Object.defineProperty(Vc,"__esModule",{value:!0});var Oi=Tx(),oU=Yh(),aU=qr(),Nx=function(){function r(e,t){this._finished=!1,this._inner=new e,this._outer=new e,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var i=new Uint8Array(this.blockSize);t.length>this.blockSize?this._inner.update(t).finish(i).clean():i.set(t);for(var n=0;n<i.length;n++)i[n]^=54;this._inner.update(i);for(var n=0;n<i.length;n++)i[n]^=106;this._outer.update(i),Oi.isSerializableHash(this._inner)&&Oi.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),aU.wipe(i)}return r.prototype.reset=function(){if(!Oi.isSerializableHash(this._inner)||!Oi.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},r.prototype.clean=function(){Oi.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),Oi.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},r.prototype.update=function(e){return this._inner.update(e),this},r.prototype.finish=function(e){return this._finished?(this._outer.finish(e),this):(this._inner.finish(e),this._outer.update(e.subarray(0,this.digestLength)).finish(e),this._finished=!0,this)},r.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},r.prototype.saveState=function(){if(!Oi.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},r.prototype.restoreState=function(e){if(!Oi.isSerializableHash(this._inner)||!Oi.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(e),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},r.prototype.cleanSavedState=function(e){if(!Oi.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(e)},r}();Vc.HMAC=Nx;function uU(r,e,t){var i=new Nx(r,e);i.update(t);var n=i.digest();return i.clean(),n}Vc.hmac=uU;Vc.equal=oU.equal});var Bx=B(V1=>{"use strict";f();Object.defineProperty(V1,"__esModule",{value:!0});var Ox=Dx(),Px=qr(),cU=function(){function r(e,t,i,n){i===void 0&&(i=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=e,this._info=n;var s=Ox.hmac(this._hash,i,t);this._hmac=new Ox.HMAC(e,s),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return r.prototype._fillBuffer=function(){this._counter[0]++;var e=this._counter[0];if(e===0)throw new Error("hkdf: cannot expand more");this._hmac.reset(),e>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},r.prototype.expand=function(e){for(var t=new Uint8Array(e),i=0;i<t.length;i++)this._bufpos===this._buffer.length&&this._fillBuffer(),t[i]=this._buffer[this._bufpos++];return t},r.prototype.clean=function(){this._hmac.clean(),Px.wipe(this._buffer),Px.wipe(this._counter),this._bufpos=0},r}();V1.HKDF=cU});var Rx=B(Un=>{"use strict";f();Object.defineProperty(Un,"__esModule",{value:!0});var ed=Wa(),Zh=qr();Un.DIGEST_LENGTH=32;Un.BLOCK_SIZE=64;var Mx=function(){function r(){this.digestLength=Un.DIGEST_LENGTH,this.blockSize=Un.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return r.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},r.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},r.prototype.clean=function(){Zh.wipe(this._buffer),Zh.wipe(this._temp),this.reset()},r.prototype.update=function(e,t){if(t===void 0&&(t=e.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var i=0;if(this._bytesHashed+=t,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&t>0;)this._buffer[this._bufferLength++]=e[i++],t--;this._bufferLength===this.blockSize&&(H1(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(t>=this.blockSize&&(i=H1(this._temp,this._state,e,i,t),t%=this.blockSize);t>0;)this._buffer[this._bufferLength++]=e[i++],t--;return this},r.prototype.finish=function(e){if(!this._finished){var t=this._bytesHashed,i=this._bufferLength,n=t/536870912|0,s=t<<3,o=t%64<56?64:128;this._buffer[i]=128;for(var a=i+1;a<o-8;a++)this._buffer[a]=0;ed.writeUint32BE(n,this._buffer,o-8),ed.writeUint32BE(s,this._buffer,o-4),H1(this._temp,this._state,this._buffer,0,o),this._finished=!0}for(var a=0;a<this.digestLength/4;a++)ed.writeUint32BE(this._state[a],e,a*4);return this},r.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},r.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},r.prototype.restoreState=function(e){return this._state.set(e.state),this._bufferLength=e.bufferLength,e.buffer&&this._buffer.set(e.buffer),this._bytesHashed=e.bytesHashed,this._finished=!1,this},r.prototype.cleanSavedState=function(e){Zh.wipe(e.state),e.buffer&&Zh.wipe(e.buffer),e.bufferLength=0,e.bytesHashed=0},r}();Un.SHA256=Mx;var lU=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function H1(r,e,t,i,n){for(;n>=64;){for(var s=e[0],o=e[1],a=e[2],u=e[3],h=e[4],p=e[5],A=e[6],D=e[7],O=0;O<16;O++){var T=i+O*4;r[O]=ed.readUint32BE(t,T)}for(var O=16;O<64;O++){var V=r[O-2],z=(V>>>17|V<<32-17)^(V>>>19|V<<32-19)^V>>>10;V=r[O-15];var $=(V>>>7|V<<32-7)^(V>>>18|V<<32-18)^V>>>3;r[O]=(z+r[O-7]|0)+($+r[O-16]|0)}for(var O=0;O<64;O++){var z=(((h>>>6|h<<26)^(h>>>11|h<<21)^(h>>>25|h<<7))+(h&p^~h&A)|0)+(D+(lU[O]+r[O]|0)|0)|0,$=((s>>>2|s<<32-2)^(s>>>13|s<<32-13)^(s>>>22|s<<32-22))+(s&o^s&a^o&a)|0;D=A,A=p,p=h,h=u+z|0,u=a,a=o,o=s,s=z+$|0}e[0]+=s,e[1]+=o,e[2]+=a,e[3]+=u,e[4]+=h,e[5]+=p,e[6]+=A,e[7]+=D,i+=64,n-=64}return i}function fU(r){var e=new Mx;e.update(r);var t=e.digest();return e.clean(),t}Un.hash=fU});var qx=B(ct=>{"use strict";f();Object.defineProperty(ct,"__esModule",{value:!0});ct.sharedKey=ct.generateKeyPair=ct.generateKeyPairFromSeed=ct.scalarMultBase=ct.scalarMult=ct.SHARED_KEY_LENGTH=ct.SECRET_KEY_LENGTH=ct.PUBLIC_KEY_LENGTH=void 0;var hU=Tc(),dU=qr();ct.PUBLIC_KEY_LENGTH=32;ct.SECRET_KEY_LENGTH=32;ct.SHARED_KEY_LENGTH=32;function Pi(r){let e=new Float64Array(16);if(r)for(let t=0;t<r.length;t++)e[t]=r[t];return e}var Lx=new Uint8Array(32);Lx[0]=9;var pU=Pi([56129,1]);function Q1(r){let e=1;for(let t=0;t<16;t++){let i=r[t]+e+65535;e=Math.floor(i/65536),r[t]=i-e*65536}r[0]+=e-1+37*(e-1)}function Hc(r,e,t){let i=~(t-1);for(let n=0;n<16;n++){let s=i&(r[n]^e[n]);r[n]^=s,e[n]^=s}}function gU(r,e){let t=Pi(),i=Pi();for(let n=0;n<16;n++)i[n]=e[n];Q1(i),Q1(i),Q1(i);for(let n=0;n<2;n++){t[0]=i[0]-65517;for(let o=1;o<15;o++)t[o]=i[o]-65535-(t[o-1]>>16&1),t[o-1]&=65535;t[15]=i[15]-32767-(t[14]>>16&1);let s=t[15]>>16&1;t[14]&=65535,Hc(i,t,1-s)}for(let n=0;n<16;n++)r[2*n]=i[n]&255,r[2*n+1]=i[n]>>8}function yU(r,e){for(let t=0;t<16;t++)r[t]=e[2*t]+(e[2*t+1]<<8);r[15]&=32767}function td(r,e,t){for(let i=0;i<16;i++)r[i]=e[i]+t[i]}function rd(r,e,t){for(let i=0;i<16;i++)r[i]=e[i]-t[i]}function nn(r,e,t){let i,n,s=0,o=0,a=0,u=0,h=0,p=0,A=0,D=0,O=0,T=0,V=0,z=0,$=0,se=0,Y=0,j=0,W=0,k=0,R=0,F=0,G=0,ce=0,J=0,X=0,E=0,c=0,d=0,g=0,m=0,w=0,S=0,N=t[0],I=t[1],l=t[2],C=t[3],Z=t[4],ie=t[5],ee=t[6],ae=t[7],v=t[8],b=t[9],x=t[10],L=t[11],P=t[12],U=t[13],q=t[14],M=t[15];i=e[0],s+=i*N,o+=i*I,a+=i*l,u+=i*C,h+=i*Z,p+=i*ie,A+=i*ee,D+=i*ae,O+=i*v,T+=i*b,V+=i*x,z+=i*L,$+=i*P,se+=i*U,Y+=i*q,j+=i*M,i=e[1],o+=i*N,a+=i*I,u+=i*l,h+=i*C,p+=i*Z,A+=i*ie,D+=i*ee,O+=i*ae,T+=i*v,V+=i*b,z+=i*x,$+=i*L,se+=i*P,Y+=i*U,j+=i*q,W+=i*M,i=e[2],a+=i*N,u+=i*I,h+=i*l,p+=i*C,A+=i*Z,D+=i*ie,O+=i*ee,T+=i*ae,V+=i*v,z+=i*b,$+=i*x,se+=i*L,Y+=i*P,j+=i*U,W+=i*q,k+=i*M,i=e[3],u+=i*N,h+=i*I,p+=i*l,A+=i*C,D+=i*Z,O+=i*ie,T+=i*ee,V+=i*ae,z+=i*v,$+=i*b,se+=i*x,Y+=i*L,j+=i*P,W+=i*U,k+=i*q,R+=i*M,i=e[4],h+=i*N,p+=i*I,A+=i*l,D+=i*C,O+=i*Z,T+=i*ie,V+=i*ee,z+=i*ae,$+=i*v,se+=i*b,Y+=i*x,j+=i*L,W+=i*P,k+=i*U,R+=i*q,F+=i*M,i=e[5],p+=i*N,A+=i*I,D+=i*l,O+=i*C,T+=i*Z,V+=i*ie,z+=i*ee,$+=i*ae,se+=i*v,Y+=i*b,j+=i*x,W+=i*L,k+=i*P,R+=i*U,F+=i*q,G+=i*M,i=e[6],A+=i*N,D+=i*I,O+=i*l,T+=i*C,V+=i*Z,z+=i*ie,$+=i*ee,se+=i*ae,Y+=i*v,j+=i*b,W+=i*x,k+=i*L,R+=i*P,F+=i*U,G+=i*q,ce+=i*M,i=e[7],D+=i*N,O+=i*I,T+=i*l,V+=i*C,z+=i*Z,$+=i*ie,se+=i*ee,Y+=i*ae,j+=i*v,W+=i*b,k+=i*x,R+=i*L,F+=i*P,G+=i*U,ce+=i*q,J+=i*M,i=e[8],O+=i*N,T+=i*I,V+=i*l,z+=i*C,$+=i*Z,se+=i*ie,Y+=i*ee,j+=i*ae,W+=i*v,k+=i*b,R+=i*x,F+=i*L,G+=i*P,ce+=i*U,J+=i*q,X+=i*M,i=e[9],T+=i*N,V+=i*I,z+=i*l,$+=i*C,se+=i*Z,Y+=i*ie,j+=i*ee,W+=i*ae,k+=i*v,R+=i*b,F+=i*x,G+=i*L,ce+=i*P,J+=i*U,X+=i*q,E+=i*M,i=e[10],V+=i*N,z+=i*I,$+=i*l,se+=i*C,Y+=i*Z,j+=i*ie,W+=i*ee,k+=i*ae,R+=i*v,F+=i*b,G+=i*x,ce+=i*L,J+=i*P,X+=i*U,E+=i*q,c+=i*M,i=e[11],z+=i*N,$+=i*I,se+=i*l,Y+=i*C,j+=i*Z,W+=i*ie,k+=i*ee,R+=i*ae,F+=i*v,G+=i*b,ce+=i*x,J+=i*L,X+=i*P,E+=i*U,c+=i*q,d+=i*M,i=e[12],$+=i*N,se+=i*I,Y+=i*l,j+=i*C,W+=i*Z,k+=i*ie,R+=i*ee,F+=i*ae,G+=i*v,ce+=i*b,J+=i*x,X+=i*L,E+=i*P,c+=i*U,d+=i*q,g+=i*M,i=e[13],se+=i*N,Y+=i*I,j+=i*l,W+=i*C,k+=i*Z,R+=i*ie,F+=i*ee,G+=i*ae,ce+=i*v,J+=i*b,X+=i*x,E+=i*L,c+=i*P,d+=i*U,g+=i*q,m+=i*M,i=e[14],Y+=i*N,j+=i*I,W+=i*l,k+=i*C,R+=i*Z,F+=i*ie,G+=i*ee,ce+=i*ae,J+=i*v,X+=i*b,E+=i*x,c+=i*L,d+=i*P,g+=i*U,m+=i*q,w+=i*M,i=e[15],j+=i*N,W+=i*I,k+=i*l,R+=i*C,F+=i*Z,G+=i*ie,ce+=i*ee,J+=i*ae,X+=i*v,E+=i*b,c+=i*x,d+=i*L,g+=i*P,m+=i*U,w+=i*q,S+=i*M,s+=38*W,o+=38*k,a+=38*R,u+=38*F,h+=38*G,p+=38*ce,A+=38*J,D+=38*X,O+=38*E,T+=38*c,V+=38*d,z+=38*g,$+=38*m,se+=38*w,Y+=38*S,n=1,i=s+n+65535,n=Math.floor(i/65536),s=i-n*65536,i=o+n+65535,n=Math.floor(i/65536),o=i-n*65536,i=a+n+65535,n=Math.floor(i/65536),a=i-n*65536,i=u+n+65535,n=Math.floor(i/65536),u=i-n*65536,i=h+n+65535,n=Math.floor(i/65536),h=i-n*65536,i=p+n+65535,n=Math.floor(i/65536),p=i-n*65536,i=A+n+65535,n=Math.floor(i/65536),A=i-n*65536,i=D+n+65535,n=Math.floor(i/65536),D=i-n*65536,i=O+n+65535,n=Math.floor(i/65536),O=i-n*65536,i=T+n+65535,n=Math.floor(i/65536),T=i-n*65536,i=V+n+65535,n=Math.floor(i/65536),V=i-n*65536,i=z+n+65535,n=Math.floor(i/65536),z=i-n*65536,i=$+n+65535,n=Math.floor(i/65536),$=i-n*65536,i=se+n+65535,n=Math.floor(i/65536),se=i-n*65536,i=Y+n+65535,n=Math.floor(i/65536),Y=i-n*65536,i=j+n+65535,n=Math.floor(i/65536),j=i-n*65536,s+=n-1+37*(n-1),n=1,i=s+n+65535,n=Math.floor(i/65536),s=i-n*65536,i=o+n+65535,n=Math.floor(i/65536),o=i-n*65536,i=a+n+65535,n=Math.floor(i/65536),a=i-n*65536,i=u+n+65535,n=Math.floor(i/65536),u=i-n*65536,i=h+n+65535,n=Math.floor(i/65536),h=i-n*65536,i=p+n+65535,n=Math.floor(i/65536),p=i-n*65536,i=A+n+65535,n=Math.floor(i/65536),A=i-n*65536,i=D+n+65535,n=Math.floor(i/65536),D=i-n*65536,i=O+n+65535,n=Math.floor(i/65536),O=i-n*65536,i=T+n+65535,n=Math.floor(i/65536),T=i-n*65536,i=V+n+65535,n=Math.floor(i/65536),V=i-n*65536,i=z+n+65535,n=Math.floor(i/65536),z=i-n*65536,i=$+n+65535,n=Math.floor(i/65536),$=i-n*65536,i=se+n+65535,n=Math.floor(i/65536),se=i-n*65536,i=Y+n+65535,n=Math.floor(i/65536),Y=i-n*65536,i=j+n+65535,n=Math.floor(i/65536),j=i-n*65536,s+=n-1+37*(n-1),r[0]=s,r[1]=o,r[2]=a,r[3]=u,r[4]=h,r[5]=p,r[6]=A,r[7]=D,r[8]=O,r[9]=T,r[10]=V,r[11]=z,r[12]=$,r[13]=se,r[14]=Y,r[15]=j}function Qc(r,e){nn(r,e,e)}function mU(r,e){let t=Pi();for(let i=0;i<16;i++)t[i]=e[i];for(let i=253;i>=0;i--)Qc(t,t),i!==2&&i!==4&&nn(t,t,e);for(let i=0;i<16;i++)r[i]=t[i]}function j1(r,e){let t=new Uint8Array(32),i=new Float64Array(80),n=Pi(),s=Pi(),o=Pi(),a=Pi(),u=Pi(),h=Pi();for(let O=0;O<31;O++)t[O]=r[O];t[31]=r[31]&127|64,t[0]&=248,yU(i,e);for(let O=0;O<16;O++)s[O]=i[O];n[0]=a[0]=1;for(let O=254;O>=0;--O){let T=t[O>>>3]>>>(O&7)&1;Hc(n,s,T),Hc(o,a,T),td(u,n,o),rd(n,n,o),td(o,s,a),rd(s,s,a),Qc(a,u),Qc(h,n),nn(n,o,n),nn(o,s,u),td(u,n,o),rd(n,n,o),Qc(s,n),rd(o,a,h),nn(n,o,pU),td(n,n,a),nn(o,o,n),nn(n,a,h),nn(a,s,i),Qc(s,u),Hc(n,s,T),Hc(o,a,T)}for(let O=0;O<16;O++)i[O+16]=n[O],i[O+32]=o[O],i[O+48]=s[O],i[O+64]=a[O];let p=i.subarray(32),A=i.subarray(16);mU(p,p),nn(A,A,p);let D=new Uint8Array(32);return gU(D,A),D}ct.scalarMult=j1;function Fx(r){return j1(r,Lx)}ct.scalarMultBase=Fx;function Ux(r){if(r.length!==ct.SECRET_KEY_LENGTH)throw new Error(`x25519: seed must be ${ct.SECRET_KEY_LENGTH} bytes`);let e=new Uint8Array(r);return{publicKey:Fx(e),secretKey:e}}ct.generateKeyPairFromSeed=Ux;function wU(r){let e=(0,hU.randomBytes)(32,r),t=Ux(e);return(0,dU.wipe)(e),t}ct.generateKeyPair=wU;function vU(r,e,t=!1){if(r.length!==ct.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect secret key length");if(e.length!==ct.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect public key length");let i=j1(r,e);if(t){let n=0;for(let s=0;s<i.length;s++)n|=i[s];if(n===0)throw new Error("X25519: invalid shared key")}return i}ct.sharedKey=vU});function Vx(r,e){for(let t=0;t<r.byteLength;t++){if(r[t]<e[t])return-1;if(r[t]>e[t])return 1}return r.byteLength>e.byteLength?1:r.byteLength<e.byteLength?-1:0}var Hx=me(()=>{f()});function Qx(r,e){if(r===e)return!0;if(r.byteLength!==e.byteLength)return!1;for(let t=0;t<r.byteLength;t++)if(r[t]!==e[t])return!1;return!0}var jx=me(()=>{f()});function Gx(r,e){if(r.length!==e.length)throw new Error("Inputs should have the same length");let t=eu(r.length);for(let i=0;i<r.length;i++)t[i]=r[i]^e[i];return t}var Kx=me(()=>{f();Qh()});var zx={};ot(zx,{compare:()=>Vx,concat:()=>jh,equals:()=>Qx,fromString:()=>Di,toString:()=>en,xor:()=>Gx});var kx=me(()=>{f();Hx();n1();jx();O1();D1();Kx()});var s2=B(it=>{"use strict";f();var Wx=it&&it.__spreadArray||function(r,e,t){if(t||arguments.length===2)for(var i=0,n=e.length,s;i<n;i++)(s||!(i in e))&&(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return r.concat(s||Array.prototype.slice.call(e))};Object.defineProperty(it,"__esModule",{value:!0});it.getNodeVersion=it.detectOS=it.parseUserAgent=it.browserName=it.detect=it.ReactNativeInfo=it.BotInfo=it.SearchBotDeviceInfo=it.NodeInfo=it.BrowserInfo=void 0;var Jx=function(){function r(e,t,i){this.name=e,this.version=t,this.os=i,this.type="browser"}return r}();it.BrowserInfo=Jx;var Xx=function(){function r(e){this.version=e,this.type="node",this.name="node",this.os=_.default.platform}return r}();it.NodeInfo=Xx;var Zx=function(){function r(e,t,i,n){this.name=e,this.version=t,this.os=i,this.bot=n,this.type="bot-device"}return r}();it.SearchBotDeviceInfo=Zx;var e2=function(){function r(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return r}();it.BotInfo=e2;var t2=function(){function r(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return r}();it.ReactNativeInfo=t2;var EU=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,AU=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,$x=3,IU=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",EU]],Yx=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function _U(r){return r?G1(r):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new t2:typeof navigator<"u"?G1(navigator.userAgent):n2()}it.detect=_U;function r2(r){return r!==""&&IU.reduce(function(e,t){var i=t[0],n=t[1];if(e)return e;var s=n.exec(r);return!!s&&[i,s]},!1)}function bU(r){var e=r2(r);return e?e[0]:null}it.browserName=bU;function G1(r){var e=r2(r);if(!e)return null;var t=e[0],i=e[1];if(t==="searchbot")return new e2;var n=i[1]&&i[1].split(".").join("_").split("_").slice(0,3);n?n.length<$x&&(n=Wx(Wx([],n,!0),CU($x-n.length),!0)):n=[];var s=n.join("."),o=i2(r),a=AU.exec(r);return a&&a[1]?new Zx(t,s,o,a[1]):new Jx(t,s,o)}it.parseUserAgent=G1;function i2(r){for(var e=0,t=Yx.length;e<t;e++){var i=Yx[e],n=i[0],s=i[1],o=s.exec(r);if(o)return n}return null}it.detectOS=i2;function n2(){var r=typeof _.default<"u"&&_.default.version;return r?new Xx(_.default.version.slice(1)):null}it.getNodeVersion=n2;function CU(r){for(var e=[],t=0;t<r;t++)e.push("0");return e}});var K1=B(We=>{"use strict";f();Object.defineProperty(We,"__esModule",{value:!0});We.getLocalStorage=We.getLocalStorageOrThrow=We.getCrypto=We.getCryptoOrThrow=We.getLocation=We.getLocationOrThrow=We.getNavigator=We.getNavigatorOrThrow=We.getDocument=We.getDocumentOrThrow=We.getFromWindowOrThrow=We.getFromWindow=void 0;function ro(r){let e;return typeof window<"u"&&typeof window[r]<"u"&&(e=window[r]),e}We.getFromWindow=ro;function uu(r){let e=ro(r);if(!e)throw new Error(`${r} is not defined in Window`);return e}We.getFromWindowOrThrow=uu;function SU(){return uu("document")}We.getDocumentOrThrow=SU;function xU(){return ro("document")}We.getDocument=xU;function TU(){return uu("navigator")}We.getNavigatorOrThrow=TU;function NU(){return ro("navigator")}We.getNavigator=NU;function DU(){return uu("location")}We.getLocationOrThrow=DU;function OU(){return ro("location")}We.getLocation=OU;function PU(){return uu("crypto")}We.getCryptoOrThrow=PU;function BU(){return ro("crypto")}We.getCrypto=BU;function MU(){return uu("localStorage")}We.getLocalStorageOrThrow=MU;function RU(){return ro("localStorage")}We.getLocalStorage=RU});var a2=B(id=>{"use strict";f();Object.defineProperty(id,"__esModule",{value:!0});id.getWindowMetadata=void 0;var o2=K1();function LU(){let r,e;try{r=o2.getDocumentOrThrow(),e=o2.getLocationOrThrow()}catch{return null}function t(){let A=r.getElementsByTagName("link"),D=[];for(let O=0;O<A.length;O++){let T=A[O],V=T.getAttribute("rel");if(V&&V.toLowerCase().indexOf("icon")>-1){let z=T.getAttribute("href");if(z)if(z.toLowerCase().indexOf("https:")===-1&&z.toLowerCase().indexOf("http:")===-1&&z.indexOf("//")!==0){let $=e.protocol+"//"+e.host;if(z.indexOf("/")===0)$+=z;else{let se=e.pathname.split("/");se.pop();let Y=se.join("/");$+=Y+"/"+z}D.push($)}else if(z.indexOf("//")===0){let $=e.protocol+z;D.push($)}else D.push(z)}}return D}function i(...A){let D=r.getElementsByTagName("meta");for(let O=0;O<D.length;O++){let T=D[O],V=["itemprop","property","name"].map(z=>T.getAttribute(z)).filter(z=>z?A.includes(z):!1);if(V.length&&V){let z=T.getAttribute("content");if(z)return z}}return""}function n(){let A=i("name","og:site_name","og:title","twitter:title");return A||(A=r.title),A}function s(){return i("description","og:description","twitter:description","keywords")}let o=n(),a=s(),u=e.origin,h=t();return{description:a,url:u,icons:h,name:o}}id.getWindowMetadata=LU});var c2=B((cee,u2)=>{"use strict";f();u2.exports=r=>encodeURIComponent(r).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`)});var p2=B((fee,d2)=>{"use strict";f();var h2="%[a-f0-9]{2}",l2=new RegExp("("+h2+")|([^%]+?)","gi"),f2=new RegExp("("+h2+")+","gi");function z1(r,e){try{return[decodeURIComponent(r.join(""))]}catch{}if(r.length===1)return r;e=e||1;var t=r.slice(0,e),i=r.slice(e);return Array.prototype.concat.call([],z1(t),z1(i))}function FU(r){try{return decodeURIComponent(r)}catch{for(var e=r.match(l2)||[],t=1;t<e.length;t++)r=z1(e,t).join(""),e=r.match(l2)||[];return r}}function UU(r){for(var e={"%FE%FF":"\uFFFD\uFFFD","%FF%FE":"\uFFFD\uFFFD"},t=f2.exec(r);t;){try{e[t[0]]=decodeURIComponent(t[0])}catch{var i=FU(t[0]);i!==t[0]&&(e[t[0]]=i)}t=f2.exec(r)}e["%C2"]="\uFFFD";for(var n=Object.keys(e),s=0;s<n.length;s++){var o=n[s];r=r.replace(new RegExp(o,"g"),e[o])}return r}d2.exports=function(r){if(typeof r!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof r+"`");try{return r=r.replace(/\+/g," "),decodeURIComponent(r)}catch{return UU(r)}}});var y2=B((dee,g2)=>{"use strict";f();g2.exports=(r,e)=>{if(!(typeof r=="string"&&typeof e=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e==="")return[r];let t=r.indexOf(e);return t===-1?[r]:[r.slice(0,t),r.slice(t+e.length)]}});var w2=B((gee,m2)=>{"use strict";f();m2.exports=function(r,e){for(var t={},i=Object.keys(r),n=Array.isArray(e),s=0;s<i.length;s++){var o=i[s],a=r[o];(n?e.indexOf(o)!==-1:e(o,a,r))&&(t[o]=a)}return t}});var S2=B(vr=>{"use strict";f();var qU=c2(),VU=p2(),E2=y2(),HU=w2(),QU=r=>r==null,k1=Symbol("encodeFragmentIdentifier");function jU(r){switch(r.arrayFormat){case"index":return e=>(t,i)=>{let n=t.length;return i===void 0||r.skipNull&&i===null||r.skipEmptyString&&i===""?t:i===null?[...t,[yt(e,r),"[",n,"]"].join("")]:[...t,[yt(e,r),"[",yt(n,r),"]=",yt(i,r)].join("")]};case"bracket":return e=>(t,i)=>i===void 0||r.skipNull&&i===null||r.skipEmptyString&&i===""?t:i===null?[...t,[yt(e,r),"[]"].join("")]:[...t,[yt(e,r),"[]=",yt(i,r)].join("")];case"colon-list-separator":return e=>(t,i)=>i===void 0||r.skipNull&&i===null||r.skipEmptyString&&i===""?t:i===null?[...t,[yt(e,r),":list="].join("")]:[...t,[yt(e,r),":list=",yt(i,r)].join("")];case"comma":case"separator":case"bracket-separator":{let e=r.arrayFormat==="bracket-separator"?"[]=":"=";return t=>(i,n)=>n===void 0||r.skipNull&&n===null||r.skipEmptyString&&n===""?i:(n=n===null?"":n,i.length===0?[[yt(t,r),e,yt(n,r)].join("")]:[[i,yt(n,r)].join(r.arrayFormatSeparator)])}default:return e=>(t,i)=>i===void 0||r.skipNull&&i===null||r.skipEmptyString&&i===""?t:i===null?[...t,yt(e,r)]:[...t,[yt(e,r),"=",yt(i,r)].join("")]}}function GU(r){let e;switch(r.arrayFormat){case"index":return(t,i,n)=>{if(e=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),!e){n[t]=i;return}n[t]===void 0&&(n[t]={}),n[t][e[1]]=i};case"bracket":return(t,i,n)=>{if(e=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),!e){n[t]=i;return}if(n[t]===void 0){n[t]=[i];return}n[t]=[].concat(n[t],i)};case"colon-list-separator":return(t,i,n)=>{if(e=/(:list)$/.exec(t),t=t.replace(/:list$/,""),!e){n[t]=i;return}if(n[t]===void 0){n[t]=[i];return}n[t]=[].concat(n[t],i)};case"comma":case"separator":return(t,i,n)=>{let s=typeof i=="string"&&i.includes(r.arrayFormatSeparator),o=typeof i=="string"&&!s&&sn(i,r).includes(r.arrayFormatSeparator);i=o?sn(i,r):i;let a=s||o?i.split(r.arrayFormatSeparator).map(u=>sn(u,r)):i===null?i:sn(i,r);n[t]=a};case"bracket-separator":return(t,i,n)=>{let s=/(\[\])$/.test(t);if(t=t.replace(/\[\]$/,""),!s){n[t]=i&&sn(i,r);return}let o=i===null?[]:i.split(r.arrayFormatSeparator).map(a=>sn(a,r));if(n[t]===void 0){n[t]=o;return}n[t]=[].concat(n[t],o)};default:return(t,i,n)=>{if(n[t]===void 0){n[t]=i;return}n[t]=[].concat(n[t],i)}}}function A2(r){if(typeof r!="string"||r.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function yt(r,e){return e.encode?e.strict?qU(r):encodeURIComponent(r):r}function sn(r,e){return e.decode?VU(r):r}function I2(r){return Array.isArray(r)?r.sort():typeof r=="object"?I2(Object.keys(r)).sort((e,t)=>Number(e)-Number(t)).map(e=>r[e]):r}function _2(r){let e=r.indexOf("#");return e!==-1&&(r=r.slice(0,e)),r}function KU(r){let e="",t=r.indexOf("#");return t!==-1&&(e=r.slice(t)),e}function b2(r){r=_2(r);let e=r.indexOf("?");return e===-1?"":r.slice(e+1)}function v2(r,e){return e.parseNumbers&&!Number.isNaN(Number(r))&&typeof r=="string"&&r.trim()!==""?r=Number(r):e.parseBooleans&&r!==null&&(r.toLowerCase()==="true"||r.toLowerCase()==="false")&&(r=r.toLowerCase()==="true"),r}function C2(r,e){e=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},e),A2(e.arrayFormatSeparator);let t=GU(e),i=Object.create(null);if(typeof r!="string"||(r=r.trim().replace(/^[?#&]/,""),!r))return i;for(let n of r.split("&")){if(n==="")continue;let[s,o]=E2(e.decode?n.replace(/\+/g," "):n,"=");o=o===void 0?null:["comma","separator","bracket-separator"].includes(e.arrayFormat)?o:sn(o,e),t(sn(s,e),o,i)}for(let n of Object.keys(i)){let s=i[n];if(typeof s=="object"&&s!==null)for(let o of Object.keys(s))s[o]=v2(s[o],e);else i[n]=v2(s,e)}return e.sort===!1?i:(e.sort===!0?Object.keys(i).sort():Object.keys(i).sort(e.sort)).reduce((n,s)=>{let o=i[s];return Boolean(o)&&typeof o=="object"&&!Array.isArray(o)?n[s]=I2(o):n[s]=o,n},Object.create(null))}vr.extract=b2;vr.parse=C2;vr.stringify=(r,e)=>{if(!r)return"";e=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},e),A2(e.arrayFormatSeparator);let t=o=>e.skipNull&&QU(r[o])||e.skipEmptyString&&r[o]==="",i=jU(e),n={};for(let o of Object.keys(r))t(o)||(n[o]=r[o]);let s=Object.keys(n);return e.sort!==!1&&s.sort(e.sort),s.map(o=>{let a=r[o];return a===void 0?"":a===null?yt(o,e):Array.isArray(a)?a.length===0&&e.arrayFormat==="bracket-separator"?yt(o,e)+"[]":a.reduce(i(o),[]).join("&"):yt(o,e)+"="+yt(a,e)}).filter(o=>o.length>0).join("&")};vr.parseUrl=(r,e)=>{e=Object.assign({decode:!0},e);let[t,i]=E2(r,"#");return Object.assign({url:t.split("?")[0]||"",query:C2(b2(r),e)},e&&e.parseFragmentIdentifier&&i?{fragmentIdentifier:sn(i,e)}:{})};vr.stringifyUrl=(r,e)=>{e=Object.assign({encode:!0,strict:!0,[k1]:!0},e);let t=_2(r.url).split("?")[0]||"",i=vr.extract(r.url),n=vr.parse(i,{sort:!1}),s=Object.assign(n,r.query),o=vr.stringify(s,e);o&&(o=`?${o}`);let a=KU(r.url);return r.fragmentIdentifier&&(a=`#${e[k1]?yt(r.fragmentIdentifier,e):r.fragmentIdentifier}`),`${t}${o}${a}`};vr.pick=(r,e,t)=>{t=Object.assign({parseFragmentIdentifier:!0,[k1]:!1},t);let{url:i,query:n,fragmentIdentifier:s}=vr.parseUrl(r,t);return vr.stringifyUrl({url:i,query:HU(n,e),fragmentIdentifier:s},t)};vr.exclude=(r,e,t)=>{let i=Array.isArray(e)?n=>!e.includes(n):(n,s)=>!e(n,s);return vr.pick(r,i,t)}});var x2=me(()=>{f()});function qn(r,e,t="string"){if(!r[e]||typeof r[e]!==t)throw new Error(`Missing or invalid "${e}" param`)}function zU(r,e){let t=!0;return e.forEach(i=>{i in r||(t=!1)}),t}function kU(r,e){return Array.isArray(r)?r.length===e:Object.keys(r).length===e}function WU(r,e){return Array.isArray(r)?r.length>=e:Object.keys(r).length>=e}function jc(r,e,t){return(!t.length?kU(r,e.length):WU(r,e.length))?zU(r,e):!1}function Gc(r,e,t="_"){let i=r.split(t);return i[i.length-1].trim().toLowerCase()===e.trim().toLowerCase()}var W1=me(()=>{f()});function $U(r){return nd(r.method)&&sd(r.params)}function nd(r){return Gc(r,"subscribe")}function sd(r){return jc(r,["topic"],[])}function YU(r){return od(r.method)&&ad(r.params)}function od(r){return Gc(r,"publish")}function ad(r){return jc(r,["message","topic","ttl"],["prompt","tag"])}function JU(r){return ud(r.method)&&cd(r.params)}function ud(r){return Gc(r,"unsubscribe")}function cd(r){return jc(r,["id","topic"],[])}function XU(r){return ld(r.method)&&fd(r.params)}function ld(r){return Gc(r,"subscription")}function fd(r){return jc(r,["id","data"],[])}var $1=me(()=>{f();W1()});function ZU(r){if(!nd(r.method))throw new Error("JSON-RPC Request has invalid subscribe method");if(!sd(r.params))throw new Error("JSON-RPC Request has invalid subscribe params");let e=r.params;return qn(e,"topic"),e}function eq(r){if(!od(r.method))throw new Error("JSON-RPC Request has invalid publish method");if(!ad(r.params))throw new Error("JSON-RPC Request has invalid publish params");let e=r.params;return qn(e,"topic"),qn(e,"message"),qn(e,"ttl","number"),e}function tq(r){if(!ud(r.method))throw new Error("JSON-RPC Request has invalid unsubscribe method");if(!cd(r.params))throw new Error("JSON-RPC Request has invalid unsubscribe params");let e=r.params;return qn(e,"id"),e}function rq(r){if(!ld(r.method))throw new Error("JSON-RPC Request has invalid subscription method");if(!fd(r.params))throw new Error("JSON-RPC Request has invalid subscription params");let e=r.params;return qn(e,"id"),qn(e,"data"),e}var T2=me(()=>{f();W1();$1()});var iq,N2=me(()=>{f();iq={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe"}}});var D2={};ot(D2,{RELAY_JSONRPC:()=>iq,isPublishMethod:()=>od,isPublishParams:()=>ad,isPublishRequest:()=>YU,isSubscribeMethod:()=>nd,isSubscribeParams:()=>sd,isSubscribeRequest:()=>$U,isSubscriptionMethod:()=>ld,isSubscriptionParams:()=>fd,isSubscriptionRequest:()=>XU,isUnsubscribeMethod:()=>ud,isUnsubscribeParams:()=>cd,isUnsubscribeRequest:()=>JU,parsePublishRequest:()=>eq,parseSubscribeRequest:()=>ZU,parseSubscriptionRequest:()=>rq,parseUnsubscribeRequest:()=>tq});var O2=me(()=>{f();x2();T2();N2();$1()});var Ed=B(re=>{"use strict";f();Object.defineProperty(re,"__esModule",{value:!0});var U2=xx(),nq=Bx(),q2=Tc(),X1=Rx(),sq=qx(),nt=(kx(),at(zx)),oq=s2(),Kc=Ys(),zc=K1(),aq=a2(),uq=S2(),cq=(O2(),at(D2));function V2(r){if(r&&r.__esModule)return r;var e=Object.create(null);return r&&Object.keys(r).forEach(function(t){if(t!=="default"){var i=Object.getOwnPropertyDescriptor(r,t);Object.defineProperty(e,t,i.get?i:{enumerable:!0,get:function(){return r[t]}})}}),e.default=r,Object.freeze(e)}var H2=V2(sq),hd=V2(uq),gd=":";function Q2(r){let[e,t]=r.split(gd);return{namespace:e,reference:t}}function j2(r){let{namespace:e,reference:t}=r;return[e,t].join(gd)}function Z1(r){let[e,t,i]=r.split(gd);return{namespace:e,reference:t,address:i}}function G2(r){let{namespace:e,reference:t,address:i}=r;return[e,t,i].join(gd)}function ew(r,e){let t=[];return r.forEach(i=>{let n=e(i);t.includes(n)||t.push(n)}),t}function K2(r){let{address:e}=Z1(r);return e}function z2(r){let{namespace:e,reference:t}=Z1(r);return j2({namespace:e,reference:t})}function lq(r,e){let{namespace:t,reference:i}=Q2(e);return G2({namespace:t,reference:i,address:r})}function fq(r){return ew(r,K2)}function k2(r){return ew(r,z2)}function hq(r,e=[]){let t=[];return Object.keys(r).forEach(i=>{if(e.length&&!e.includes(i))return;let n=r[i];t.push(...n.accounts)}),t}function dq(r,e=[]){let t=[];return Object.keys(r).forEach(i=>{if(e.length&&!e.includes(i))return;let n=r[i];t.push(...k2(n.accounts))}),t}function pq(r,e=[]){let t=[];return Object.keys(r).forEach(i=>{if(e.length&&!e.includes(i))return;let n=r[i];t.push(...kc(i,n))}),t}function kc(r,e){return r.includes(":")?[r]:e.chains||[]}var yd=r=>r?.split(":"),W2=r=>{let e=r&&yd(r);if(e)return e[3]},gq=r=>{let e=r&&yd(r);if(e)return e[2]+":"+e[3]},$2=r=>{let e=r&&yd(r);if(e)return e.pop()},yq=(r,e)=>{let t=`${r.domain} wants you to sign in with your Ethereum account:`,i=$2(e),n=r.statement,s=`URI: ${r.aud}`,o=`Version: ${r.version}`,a=`Chain ID: ${W2(e)}`,u=`Nonce: ${r.nonce}`,h=`Issued At: ${r.iat}`,p=r.resources&&r.resources.length>0?`Resources:
${r.resources.map(A=>`- ${A}`).join(`
`)}`:void 0;return[t,i,"",n,"",s,o,a,u,h,p].filter(A=>A!=null).join(`
`)},tw="base10",hr="base16",dd="base64pad",md="utf8",rw=0,lu=1,mq=0,P2=1,Y1=12,iw=32;function wq(){let r=H2.generateKeyPair();return{privateKey:nt.toString(r.secretKey,hr),publicKey:nt.toString(r.publicKey,hr)}}function vq(){let r=q2.randomBytes(iw);return nt.toString(r,hr)}function Eq(r,e){let t=H2.sharedKey(nt.fromString(r,hr),nt.fromString(e,hr)),i=new nq.HKDF(X1.SHA256,t).expand(iw);return nt.toString(i,hr)}function Aq(r){let e=X1.hash(nt.fromString(r,hr));return nt.toString(e,hr)}function Iq(r){let e=X1.hash(nt.fromString(r,md));return nt.toString(e,hr)}function Y2(r){return nt.fromString(`${r}`,tw)}function Wc(r){return Number(nt.toString(r,tw))}function _q(r){let e=Y2(typeof r.type<"u"?r.type:rw);if(Wc(e)===lu&&typeof r.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");let t=typeof r.senderPublicKey<"u"?nt.fromString(r.senderPublicKey,hr):void 0,i=typeof r.iv<"u"?nt.fromString(r.iv,hr):q2.randomBytes(Y1),n=new U2.ChaCha20Poly1305(nt.fromString(r.symKey,hr)).seal(i,nt.fromString(r.message,md));return J2({type:e,sealed:n,iv:i,senderPublicKey:t})}function bq(r){let e=new U2.ChaCha20Poly1305(nt.fromString(r.symKey,hr)),{sealed:t,iv:i}=nw(r.encoded),n=e.open(i,t);if(n===null)throw new Error("Failed to decrypt");return nt.toString(n,md)}function J2(r){if(Wc(r.type)===lu){if(typeof r.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return nt.toString(nt.concat([r.type,r.senderPublicKey,r.iv,r.sealed]),dd)}return nt.toString(nt.concat([r.type,r.iv,r.sealed]),dd)}function nw(r){let e=nt.fromString(r,dd),t=e.slice(mq,P2),i=P2;if(Wc(t)===lu){let a=i+iw,u=a+Y1,h=e.slice(i,a),p=e.slice(a,u),A=e.slice(u);return{type:t,sealed:A,iv:p,senderPublicKey:h}}let n=i+Y1,s=e.slice(i,n),o=e.slice(n);return{type:t,sealed:o,iv:s}}function Cq(r,e){let t=nw(r);return X2({type:Wc(t.type),senderPublicKey:typeof t.senderPublicKey<"u"?nt.toString(t.senderPublicKey,hr):void 0,receiverPublicKey:e?.receiverPublicKey})}function X2(r){let e=r?.type||rw;if(e===lu){if(typeof r?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof r?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:r?.senderPublicKey,receiverPublicKey:r?.receiverPublicKey}}function Sq(r){return r.type===lu&&typeof r.senderPublicKey=="string"&&typeof r.receiverPublicKey=="string"}var xq=Object.defineProperty,B2=Object.getOwnPropertySymbols,Tq=Object.prototype.hasOwnProperty,Nq=Object.prototype.propertyIsEnumerable,M2=(r,e,t)=>e in r?xq(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,R2=(r,e)=>{for(var t in e||(e={}))Tq.call(e,t)&&M2(r,t,e[t]);if(B2)for(var t of B2(e))Nq.call(e,t)&&M2(r,t,e[t]);return r},Z2="ReactNative",cu={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},pd=" ",Dq=":",eT="/",sw=2,Oq=1e3,tT="js";function ow(){return typeof _.default<"u"&&typeof _.default.versions<"u"&&typeof _.default.versions.node<"u"}function rT(){return!zc.getDocument()&&!!zc.getNavigator()&&navigator.product===Z2}function iT(){return!ow()&&!!zc.getNavigator()}function aw(){return rT()?cu.reactNative:ow()?cu.node:iT()?cu.browser:cu.unknown}function nT(r,e){let t=hd.parse(r);return t=R2(R2({},t),e),r=hd.stringify(t),r}function Pq(){return aq.getWindowMetadata()||{name:"",description:"",url:"",icons:[""]}}function Bq(r,e){var t;let i=aw(),n={protocol:r,version:e,env:i};return i==="browser"&&(n.host=((t=zc.getLocation())==null?void 0:t.host)||"unknown"),n}function sT(){let r=oq.detect();if(r===null)return"unknown";let e=r.os?r.os.replace(" ","").toLowerCase():"unknown";return r.type==="browser"?[e,r.name,r.version].join("-"):[e,r.version].join("-")}function oT(){var r;let e=aw();return e===cu.browser?[e,((r=zc.getLocation())==null?void 0:r.host)||"unknown"].join(":"):e}function aT(r,e,t){let i=sT(),n=oT();return[[r,e].join("-"),[tT,t].join("-"),i,n].join("/")}function Mq({protocol:r,version:e,relayUrl:t,sdkVersion:i,auth:n,projectId:s}){let o=t.split("?"),a=aT(r,e,i),u={auth:n,ua:a,projectId:s},h=nT(o[1]||"",u);return o[0]+"?"+h}function Rq(r){let e=(r.match(/^[^:]+(?=:\/\/)/gi)||[])[0],t=typeof e<"u"?r.split("://")[1]:r;return e=e==="wss"?"https":"http",[e,t].join("://")}function Lq(r,e,t){if(!r[e]||typeof r[e]!==t)throw new Error(`Missing or invalid "${e}" param`)}function uT(r,e=sw){return cT(r.split(eT),e)}function Fq(r){return uT(r).join(pd)}function on(r,e){return r.filter(t=>e.includes(t)).length===r.length}function cT(r,e=sw){return r.slice(Math.max(r.length-e,0))}function Uq(r){return Object.fromEntries(r.entries())}function qq(r){return new Map(Object.entries(r))}function Vq(r,e){let t={};return Object.keys(r).forEach(i=>{t[i]=e(r[i])}),t}var Hq=r=>r;function lT(r){return r.trim().replace(/^\w/,e=>e.toUpperCase())}function Qq(r){return r.split(pd).map(e=>lT(e)).join(pd)}function jq(r){let e=Kc.toMiliseconds(r||Kc.FIVE_MINUTES),t,i,n;return{resolve:s=>{n&&t&&(clearTimeout(n),t(s))},reject:s=>{n&&i&&(clearTimeout(n),i(s))},done:()=>new Promise((s,o)=>{n=setTimeout(o,e),t=s,i=o})}}function Gq(r,e){return new Promise(async(t,i)=>{let n=setTimeout(()=>i(),e),s=await r;clearTimeout(n),t(s)})}function uw(r,e){if(typeof e=="string"&&e.startsWith(`${r}:`))return e;if(r.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(r.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${r}`)}function Kq(r){return uw("topic",r)}function zq(r){return uw("id",r)}function kq(r){let[e,t]=r.split(":"),i={id:void 0,topic:void 0};if(e==="topic"&&typeof t=="string")i.topic=t;else if(e==="id"&&Number.isInteger(Number(t)))i.id=Number(t);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${t}`);return i}function Wq(r,e){return Kc.fromMiliseconds((e||Date.now())+Kc.toMiliseconds(r))}function $q(r){return Date.now()>=Kc.toMiliseconds(r)}function Yq(r,e){return`${r}${e?`:${e}`:""}`}var fT="irn";function Jq(r){return r?.relay||{protocol:fT}}function Xq(r){let e=cq.RELAY_JSONRPC[r];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${r}`);return e}var Zq=Object.defineProperty,L2=Object.getOwnPropertySymbols,eV=Object.prototype.hasOwnProperty,tV=Object.prototype.propertyIsEnumerable,F2=(r,e,t)=>e in r?Zq(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,rV=(r,e)=>{for(var t in e||(e={}))eV.call(e,t)&&F2(r,t,e[t]);if(L2)for(var t of L2(e))tV.call(e,t)&&F2(r,t,e[t]);return r};function hT(r,e="-"){let t={},i="relay"+e;return Object.keys(r).forEach(n=>{if(n.startsWith(i)){let s=n.replace(i,""),o=r[n];t[s]=o}}),t}function iV(r){let e=r.indexOf(":"),t=r.indexOf("?")!==-1?r.indexOf("?"):void 0,i=r.substring(0,e),n=r.substring(e+1,t).split("@"),s=typeof t<"u"?r.substring(t):"",o=hd.parse(s);return{protocol:i,topic:n[0],version:parseInt(n[1],10),symKey:o.symKey,relay:hT(o)}}function dT(r,e="-"){let t="relay",i={};return Object.keys(r).forEach(n=>{let s=t+e+n;r[n]&&(i[s]=r[n])}),i}function nV(r){return`${r.protocol}:${r.topic}@${r.version}?`+hd.stringify(rV({symKey:r.symKey},dT(r.relay)))}function fu(r){let e=[];return r.forEach(t=>{let[i,n]=t.split(":");e.push(`${i}:${n}`)}),e}function pT(r){let e=[];return Object.values(r).forEach(t=>{e.push(...fu(t.accounts))}),e}function gT(r,e){let t=[];return Object.values(r).forEach(i=>{fu(i.accounts).includes(e)&&t.push(...i.methods)}),t}function yT(r,e){let t=[];return Object.values(r).forEach(i=>{fu(i.accounts).includes(e)&&t.push(...i.events)}),t}function sV(r,e){let t=_T(r,e);if(t)throw new Error(t.message);let i={};for(let[n,s]of Object.entries(r))i[n]={methods:s.methods,events:s.events,chains:s.accounts.map(o=>`${o.split(":")[0]}:${o.split(":")[1]}`)};return i}var oV={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},aV={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function Vn(r,e){let{message:t,code:i}=aV[r];return{message:e?`${t} ${e}`:t,code:i}}function io(r,e){let{message:t,code:i}=oV[r];return{message:e?`${t} ${e}`:t,code:i}}function $c(r,e){return Array.isArray(r)?typeof e<"u"&&r.length?r.every(e):!0:!1}function cw(r){return Object.getPrototypeOf(r)===Object.prototype&&Object.keys(r).length}function Hn(r){return typeof r>"u"}function Sr(r,e){return e&&Hn(r)?!0:typeof r=="string"&&Boolean(r.trim().length)}function wd(r,e){return e&&Hn(r)?!0:typeof r=="number"&&!isNaN(r)}function uV(r,e){let{requiredNamespaces:t}=e,i=Object.keys(r.namespaces),n=Object.keys(t),s=!0;return on(n,i)?(i.forEach(o=>{let{accounts:a,methods:u,events:h}=r.namespaces[o],p=fu(a),A=t[o];(!on(kc(o,A),p)||!on(A.methods,u)||!on(A.events,h))&&(s=!1)}),s):!1}function vd(r){return Sr(r,!1)&&r.includes(":")?r.split(":").length===2:!1}function mT(r){if(Sr(r,!1)&&r.includes(":")){let e=r.split(":");if(e.length===3){let t=e[0]+":"+e[1];return!!e[2]&&vd(t)}}return!1}function cV(r){if(Sr(r,!1))try{return typeof new URL(r)<"u"}catch{return!1}return!1}function lV(r){var e;return(e=r?.proposer)==null?void 0:e.publicKey}function fV(r){return r?.topic}function hV(r,e){let t=null;return Sr(r?.publicKey,!1)||(t=Vn("MISSING_OR_INVALID",`${e} controller public key should be a string`)),t}function J1(r){let e=!0;return $c(r)?r.length&&(e=r.every(t=>Sr(t,!1))):e=!1,e}function wT(r,e,t){let i=null;return $c(e)?e.forEach(n=>{i||(!vd(n)||!n.includes(r))&&(i=io("UNSUPPORTED_CHAINS",`${t}, chain ${n} should be a string and conform to "namespace:chainId" format`))}):i=io("UNSUPPORTED_CHAINS",`${t}, chains ${e} should be an array of strings conforming to "namespace:chainId" format`),i}function vT(r,e){let t=null;return Object.entries(r).forEach(([i,n])=>{if(t)return;let s=wT(i,kc(i,n),`${e} requiredNamespace`);s&&(t=s)}),t}function ET(r,e){let t=null;return $c(r)?r.forEach(i=>{t||mT(i)||(t=io("UNSUPPORTED_ACCOUNTS",`${e}, account ${i} should be a string and conform to "namespace:chainId:address" format`))}):t=io("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),t}function AT(r,e){let t=null;return Object.values(r).forEach(i=>{if(t)return;let n=ET(i?.accounts,`${e} namespace`);n&&(t=n)}),t}function IT(r,e){let t=null;return J1(r?.methods)?J1(r?.events)||(t=io("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):t=io("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),t}function lw(r,e){let t=null;return Object.values(r).forEach(i=>{if(t)return;let n=IT(i,`${e}, namespace`);n&&(t=n)}),t}function dV(r,e,t){let i=null;if(r&&cw(r)){let n=lw(r,e);n&&(i=n);let s=vT(r,e);s&&(i=s)}else i=Vn("MISSING_OR_INVALID",`${e}, ${t} should be an object with data`);return i}function _T(r,e){let t=null;if(r&&cw(r)){let i=lw(r,e);i&&(t=i);let n=AT(r,e);n&&(t=n)}else t=Vn("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return t}function bT(r){return Sr(r.protocol,!0)}function pV(r,e){let t=!1;return e&&!r?t=!0:r&&$c(r)&&r.length&&r.forEach(i=>{t=bT(i)}),t}function gV(r){return typeof r=="number"}function yV(r){return typeof r<"u"&&typeof r!==null}function mV(r){return!(!r||typeof r!="object"||!r.code||!wd(r.code,!1)||!r.message||!Sr(r.message,!1))}function wV(r){return!(Hn(r)||!Sr(r.method,!1))}function vV(r){return!(Hn(r)||Hn(r.result)&&Hn(r.error)||!wd(r.id,!1)||!Sr(r.jsonrpc,!1))}function EV(r){return!(Hn(r)||!Sr(r.name,!1))}function AV(r,e){return!(!vd(e)||!pT(r).includes(e))}function IV(r,e,t){return Sr(t,!1)?gT(r,e).includes(t):!1}function _V(r,e,t){return Sr(t,!1)?yT(r,e).includes(t):!1}function bV(r,e,t,i){let n=null,s=Object.keys(r),o=Object.keys(e);return on(s,o)?s.forEach(a=>{if(n)return;let u=fu(e[a].accounts);on(kc(a,r[a]),u)?on(r[a].methods,e[a].methods)?on(r[a].events,e[a].events)||(n=Vn("NON_CONFORMING_NAMESPACES",`${t} namespaces events don't satisfy namespace events for ${a}`)):n=Vn("NON_CONFORMING_NAMESPACES",`${t} namespaces methods don't satisfy namespace methods for ${a}`):n=Vn("NON_CONFORMING_NAMESPACES",`${t} namespaces accounts don't satisfy namespace chains for ${a}`)}):n=Vn("NON_CONFORMING_NAMESPACES",`${t} namespaces keys don't satisfy ${i}`),n}function CV(r,e){return wd(r,!1)&&r<=e.max&&r>=e.min}re.BASE10=tw,re.BASE16=hr,re.BASE64=dd,re.COLON=Dq,re.DEFAULT_DEPTH=sw,re.EMPTY_SPACE=pd,re.ENV_MAP=cu,re.ONE_THOUSAND=Oq,re.REACT_NATIVE_PRODUCT=Z2,re.RELAYER_DEFAULT_PROTOCOL=fT,re.SDK_TYPE=tT,re.SLASH=eT,re.TYPE_0=rw,re.TYPE_1=lu,re.UTF8=md,re.appendToQueryString=nT,re.assertType=Lq,re.calcExpiry=Wq,re.capitalize=Qq,re.capitalizeWord=lT,re.createDelayedPromise=jq,re.createExpiringPromise=Gq,re.decodeTypeByte=Wc,re.decrypt=bq,re.deriveSymKey=Eq,re.deserialize=nw,re.encodeTypeByte=Y2,re.encrypt=_q,re.engineEvent=Yq,re.enumify=Hq,re.formatAccountId=G2,re.formatAccountWithChain=lq,re.formatChainId=j2,re.formatExpirerTarget=uw,re.formatIdTarget=zq,re.formatMessage=yq,re.formatMessageContext=Fq,re.formatRelayParams=dT,re.formatRelayRpcUrl=Mq,re.formatTopicTarget=Kq,re.formatUA=aT,re.formatUri=nV,re.generateKeyPair=wq,re.generateRandomBytes32=vq,re.getAccountsChains=fu,re.getAccountsFromNamespaces=hq,re.getAddressFromAccount=K2,re.getAddressesFromAccounts=fq,re.getAppMetadata=Pq,re.getChainFromAccount=z2,re.getChainsFromAccounts=k2,re.getChainsFromNamespace=kc,re.getChainsFromNamespaces=dq,re.getChainsFromRequiredNamespaces=pq,re.getDidAddress=$2,re.getDidAddressSegments=yd,re.getDidChainId=W2,re.getEnvironment=aw,re.getHttpUrl=Rq,re.getInternalError=Vn,re.getJavascriptID=oT,re.getJavascriptOS=sT,re.getLastItems=cT,re.getNamespacedDidChainId=gq,re.getNamespacesChains=pT,re.getNamespacesEventsForChainId=yT,re.getNamespacesMethodsForChainId=gT,re.getRelayClientMetadata=Bq,re.getRelayProtocolApi=Xq,re.getRelayProtocolName=Jq,re.getRequiredNamespacesFromNamespaces=sV,re.getSdkError=io,re.getUniqueValues=ew,re.hasOverlap=on,re.hashKey=Aq,re.hashMessage=Iq,re.isBrowser=iT,re.isConformingNamespaces=bV,re.isExpired=$q,re.isNode=ow,re.isProposalStruct=lV,re.isReactNative=rT,re.isSessionCompatible=uV,re.isSessionStruct=fV,re.isTypeOneEnvelope=Sq,re.isUndefined=Hn,re.isValidAccountId=mT,re.isValidAccounts=ET,re.isValidActions=IT,re.isValidArray=$c,re.isValidChainId=vd,re.isValidChains=wT,re.isValidController=hV,re.isValidErrorReason=mV,re.isValidEvent=EV,re.isValidId=gV,re.isValidNamespaceAccounts=AT,re.isValidNamespaceActions=lw,re.isValidNamespaceChains=vT,re.isValidNamespaceMethodsOrEvents=J1,re.isValidNamespaces=_T,re.isValidNamespacesChainId=AV,re.isValidNamespacesEvent=_V,re.isValidNamespacesRequest=IV,re.isValidNumber=wd,re.isValidObject=cw,re.isValidParams=yV,re.isValidRelay=bT,re.isValidRelays=pV,re.isValidRequest=wV,re.isValidRequestExpiry=CV,re.isValidRequiredNamespaces=dV,re.isValidResponse=vV,re.isValidString=Sr,re.isValidUrl=cV,re.mapEntries=Vq,re.mapToObj=Uq,re.objToMap=qq,re.parseAccountId=Z1,re.parseChainId=Q2,re.parseContextNames=uT,re.parseExpirerTarget=kq,re.parseRelayParams=hT,re.parseUri=iV,re.serialize=J2,re.validateDecoding=Cq,re.validateEncoding=X2});var CT,ST,xT,TT,Ad,Yc,fw,Id,Qn,Jc,_d=me(()=>{f();CT="PARSE_ERROR",ST="INVALID_REQUEST",xT="METHOD_NOT_FOUND",TT="INVALID_PARAMS",Ad="INTERNAL_ERROR",Yc="SERVER_ERROR",fw=[-32700,-32600,-32601,-32602,-32603],Id=[-32e3,-32099],Qn={[CT]:{code:-32700,message:"Parse error"},[ST]:{code:-32600,message:"Invalid Request"},[xT]:{code:-32601,message:"Method not found"},[TT]:{code:-32602,message:"Invalid params"},[Ad]:{code:-32603,message:"Internal error"},[Yc]:{code:-32e3,message:"Server error"}},Jc=Yc});function SV(r){return r<=Id[0]&&r>=Id[1]}function bd(r){return fw.includes(r)}function NT(r){return typeof r=="number"}function Cd(r){return Object.keys(Qn).includes(r)?Qn[r]:Qn[Jc]}function Sd(r){let e=Object.values(Qn).find(t=>t.code===r);return e||Qn[Jc]}function xV(r){if(typeof r.error.code>"u")return{valid:!1,error:"Missing code for JSON-RPC error"};if(typeof r.error.message>"u")return{valid:!1,error:"Missing message for JSON-RPC error"};if(!NT(r.error.code))return{valid:!1,error:`Invalid error code type for JSON-RPC: ${r.error.code}`};if(bd(r.error.code)){let e=Sd(r.error.code);if(e.message!==Qn[Jc].message&&r.error.message===e.message)return{valid:!1,error:`Invalid error code message for JSON-RPC: ${r.error.code}`}}return{valid:!0}}function hw(r,e,t){return r.message.includes("getaddrinfo ENOTFOUND")||r.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${t} RPC url at ${e}`):r}var dw=me(()=>{f();_d()});var OT=B(jn=>{"use strict";f();Object.defineProperty(jn,"__esModule",{value:!0});jn.isBrowserCryptoAvailable=jn.getSubtleCrypto=jn.getBrowerCrypto=void 0;function pw(){return(global===null||global===void 0?void 0:global.crypto)||(global===null||global===void 0?void 0:global.msCrypto)||{}}jn.getBrowerCrypto=pw;function DT(){let r=pw();return r.subtle||r.webkitSubtle}jn.getSubtleCrypto=DT;function TV(){return!!pw()&&!!DT()}jn.isBrowserCryptoAvailable=TV});var MT=B(Gn=>{"use strict";f();Object.defineProperty(Gn,"__esModule",{value:!0});Gn.isBrowser=Gn.isNode=Gn.isReactNative=void 0;function PT(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}Gn.isReactNative=PT;function BT(){return typeof _.default<"u"&&typeof _.default.versions<"u"&&typeof _.default.versions.node<"u"}Gn.isNode=BT;function NV(){return!PT()&&!BT()}Gn.isBrowser=NV});var gw=B(xd=>{"use strict";f();Object.defineProperty(xd,"__esModule",{value:!0});var RT=(br(),at(_r));RT.__exportStar(OT(),xd);RT.__exportStar(MT(),xd)});var $t={};ot($t,{isNodeJs:()=>FT});var LT,FT,UT=me(()=>{f();LT=_e(gw());Zt($t,_e(gw()));FT=LT.isNode});function qT(){let r=Date.now()*Math.pow(10,3),e=Math.floor(Math.random()*Math.pow(10,3));return r+e}function yw(r,e,t){return{id:t||qT(),jsonrpc:"2.0",method:r,params:e}}function DV(r,e){return{id:r,jsonrpc:"2.0",result:e}}function mw(r,e,t){return{id:r,jsonrpc:"2.0",error:VT(e,t)}}function VT(r,e){return typeof r>"u"?Cd(Ad):(typeof r=="string"&&(r=Object.assign(Object.assign({},Cd(Yc)),{message:r})),typeof e<"u"&&(r.data=e),bd(r.code)&&(r=Sd(r.code)),r)}var HT=me(()=>{f();dw();_d()});function OV(r){return r.includes("*")?Nd(r):!/\W/g.test(r)}function Td(r){return r==="*"}function Nd(r){return Td(r)?!0:!(!r.includes("*")||r.split("*").length!==2||r.split("*").filter(e=>e.trim()==="").length!==1)}function PV(r){return!Td(r)&&Nd(r)&&!r.split("*")[0].trim()}function BV(r){return!Td(r)&&Nd(r)&&!r.split("*")[1].trim()}var QT=me(()=>{f()});var jT=me(()=>{f()});var hu,ww=me(()=>{f();hu=class{}});var vw,Dd,Xc,GT=me(()=>{f();ww();vw=class extends hu{constructor(e){super()}},Dd=class extends hu{constructor(){super()}},Xc=class extends Dd{constructor(e){super()}}});var KT=me(()=>{f()});var zT=me(()=>{f();jT();ww();GT();KT()});var kT=me(()=>{f();zT()});function LV(r){let e=r.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function WT(r,e){let t=LV(r);return typeof t>"u"?!1:new RegExp(e).test(t)}function FV(r){return WT(r,MV)}function Od(r){return WT(r,RV)}function Ew(r){return new RegExp("wss?://localhost(:d{2,5})?").test(r)}var MV,RV,$T=me(()=>{f();MV="^https?:",RV="^wss?:"});function Aw(r){return typeof r=="object"&&"id"in r&&"jsonrpc"in r&&r.jsonrpc==="2.0"}function UV(r){return Aw(r)&&"method"in r}function Iw(r){return Aw(r)&&(YT(r)||Pd(r))}function YT(r){return"result"in r}function Pd(r){return"error"in r}function qV(r){return"error"in r&&r.valid===!1}var JT=me(()=>{f()});var cr={};ot(cr,{DEFAULT_ERROR:()=>Jc,IBaseJsonRpcProvider:()=>Dd,IEvents:()=>hu,IJsonRpcConnection:()=>vw,IJsonRpcProvider:()=>Xc,INTERNAL_ERROR:()=>Ad,INVALID_PARAMS:()=>TT,INVALID_REQUEST:()=>ST,METHOD_NOT_FOUND:()=>xT,PARSE_ERROR:()=>CT,RESERVED_ERROR_CODES:()=>fw,SERVER_ERROR:()=>Yc,SERVER_ERROR_CODE_RANGE:()=>Id,STANDARD_ERROR_MAP:()=>Qn,formatErrorMessage:()=>VT,formatJsonRpcError:()=>mw,formatJsonRpcRequest:()=>yw,formatJsonRpcResult:()=>DV,getError:()=>Cd,getErrorByCode:()=>Sd,isHttpUrl:()=>FV,isJsonRpcError:()=>Pd,isJsonRpcPayload:()=>Aw,isJsonRpcRequest:()=>UV,isJsonRpcResponse:()=>Iw,isJsonRpcResult:()=>YT,isJsonRpcValidationInvalid:()=>qV,isLocalhostUrl:()=>Ew,isNodeJs:()=>FT,isReservedErrorCode:()=>bd,isServerErrorCode:()=>SV,isValidDefaultRoute:()=>Td,isValidErrorCode:()=>NT,isValidLeadingWildcardRoute:()=>PV,isValidRoute:()=>OV,isValidTrailingWildcardRoute:()=>BV,isValidWildcardRoute:()=>Nd,isWsUrl:()=>Od,parseConnectionError:()=>hw,payloadId:()=>qT,validateJsonRpcError:()=>xV});var Zc=me(()=>{f();_d();dw();UT();Zt(cr,$t);HT();QT();kT();$T();JT()});var XT,Bd,ZT,_w=me(()=>{f();XT=_e($s());Zc();Bd=class extends Xc{constructor(e){super(e),this.events=new XT.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async request(e,t){return this.requestStrict(yw(e.method,e.params||[]),t)}async requestStrict(e,t){return new Promise(async(i,n)=>{if(!this.connection.connected)try{await this.open()}catch(s){n(s)}this.events.on(`${e.id}`,s=>{Pd(s)?n(s.error):i(s.result)});try{await this.connection.send(e,t)}catch(s){n(s)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),Iw(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",()=>this.events.emit("disconnect")),this.connection.on("error",e=>this.events.emit("error",e)),this.hasRegisteredEventListeners=!0)}},ZT=Bd});var eN={};ot(eN,{JsonRpcProvider:()=>Bd,default:()=>VV});var VV,tN=me(()=>{f();_w();_w();VV=ZT});var iN=B((Ute,rN)=>{"use strict";f();rN.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}});var sN,nN,HV,QV,jV,Md,oN,bw=me(()=>{f();sN=_e($s());xh();Zc();nN=10,HV=()=>typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:iN(),QV=()=>typeof window<"u",jV=HV(),Md=class{constructor(e){if(this.url=e,this.events=new sN.EventEmitter,this.registering=!1,!Od(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,t)=>{if(typeof this.socket>"u"){t(new Error("Connection already closed"));return}this.socket.onclose=()=>{this.onClose(),e()},this.socket.close()})}async send(e,t){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(xc(e))}catch(i){this.onError(e.id,i)}}register(e=this.url){if(!Od(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){let t=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=t||this.events.listenerCount("open")>=t)&&this.events.setMaxListeners(t+1),new Promise((i,n)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),n(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return n(new Error("WebSocket connection is missing or invalid"));i(this.socket)})})}return this.url=e,this.registering=!0,new Promise((t,i)=>{let n=(0,cr.isReactNative)()?void 0:{rejectUnauthorized:!Ew(e)},s=new jV(e,[],n);QV()?s.onerror=o=>{let a=o;i(this.emitError(a.error))}:s.on("error",o=>{i(this.emitError(o))}),s.onopen=()=>{this.onOpen(s),t(s)}})}onOpen(e){e.onmessage=t=>this.onPayload(t),e.onclose=()=>this.onClose(),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(){this.socket=void 0,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;let t=typeof e.data=="string"?Sc(e.data):e.data;this.events.emit("payload",t)}onError(e,t){let i=this.parseError(t),n=i.message||i.toString(),s=mw(e,n);this.events.emit("payload",s)}parseError(e,t=this.url){return hw(e,t,"WS")}resetMaxListeners(){this.events.getMaxListeners()>nN&&this.events.setMaxListeners(nN)}emitError(e){let t=this.parseError(new Error(e?.message||`WebSocket connection failed for URL: ${this.url}`));return this.events.emit("register_error",t),t}},oN=Md});var aN={};ot(aN,{WsConnection:()=>Md,default:()=>GV});var GV,uN=me(()=>{f();bw();bw();GV=oN});var jN=B((el,pu)=>{f();var KV=200,Rw="__lodash_hash_undefined__",Qd=1,EN=2,AN=9007199254740991,Rd="[object Arguments]",Tw="[object Array]",zV="[object AsyncFunction]",IN="[object Boolean]",_N="[object Date]",bN="[object Error]",CN="[object Function]",kV="[object GeneratorFunction]",Ld="[object Map]",SN="[object Number]",WV="[object Null]",du="[object Object]",cN="[object Promise]",$V="[object Proxy]",xN="[object RegExp]",Fd="[object Set]",TN="[object String]",YV="[object Symbol]",JV="[object Undefined]",Nw="[object WeakMap]",NN="[object ArrayBuffer]",Ud="[object DataView]",XV="[object Float32Array]",ZV="[object Float64Array]",e7="[object Int8Array]",t7="[object Int16Array]",r7="[object Int32Array]",i7="[object Uint8Array]",n7="[object Uint8ClampedArray]",s7="[object Uint16Array]",o7="[object Uint32Array]",a7=/[\\^$.*+?()[\]{}|]/g,u7=/^\[object .+?Constructor\]$/,c7=/^(?:0|[1-9]\d*)$/,Xe={};Xe[XV]=Xe[ZV]=Xe[e7]=Xe[t7]=Xe[r7]=Xe[i7]=Xe[n7]=Xe[s7]=Xe[o7]=!0;Xe[Rd]=Xe[Tw]=Xe[NN]=Xe[IN]=Xe[Ud]=Xe[_N]=Xe[bN]=Xe[CN]=Xe[Ld]=Xe[SN]=Xe[du]=Xe[xN]=Xe[Fd]=Xe[TN]=Xe[Nw]=!1;var DN=typeof global=="object"&&global&&global.Object===Object&&global,l7=typeof self=="object"&&self&&self.Object===Object&&self,an=DN||l7||Function("return this")(),ON=typeof el=="object"&&el&&!el.nodeType&&el,lN=ON&&typeof pu=="object"&&pu&&!pu.nodeType&&pu,PN=lN&&lN.exports===ON,Cw=PN&&DN.process,fN=function(){try{return Cw&&Cw.binding&&Cw.binding("util")}catch{}}(),hN=fN&&fN.isTypedArray;function f7(r,e){for(var t=-1,i=r==null?0:r.length,n=0,s=[];++t<i;){var o=r[t];e(o,t,r)&&(s[n++]=o)}return s}function h7(r,e){for(var t=-1,i=e.length,n=r.length;++t<i;)r[n+t]=e[t];return r}function d7(r,e){for(var t=-1,i=r==null?0:r.length;++t<i;)if(e(r[t],t,r))return!0;return!1}function p7(r,e){for(var t=-1,i=Array(r);++t<r;)i[t]=e(t);return i}function g7(r){return function(e){return r(e)}}function y7(r,e){return r.has(e)}function m7(r,e){return r?.[e]}function w7(r){var e=-1,t=Array(r.size);return r.forEach(function(i,n){t[++e]=[n,i]}),t}function v7(r,e){return function(t){return r(e(t))}}function E7(r){var e=-1,t=Array(r.size);return r.forEach(function(i){t[++e]=i}),t}var A7=Array.prototype,I7=Function.prototype,jd=Object.prototype,Sw=an["__core-js_shared__"],BN=I7.toString,Bi=jd.hasOwnProperty,dN=function(){var r=/[^.]+$/.exec(Sw&&Sw.keys&&Sw.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}(),MN=jd.toString,_7=RegExp("^"+BN.call(Bi).replace(a7,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),pN=PN?an.Buffer:void 0,qd=an.Symbol,gN=an.Uint8Array,RN=jd.propertyIsEnumerable,b7=A7.splice,no=qd?qd.toStringTag:void 0,yN=Object.getOwnPropertySymbols,C7=pN?pN.isBuffer:void 0,S7=v7(Object.keys,Object),Dw=gu(an,"DataView"),tl=gu(an,"Map"),Ow=gu(an,"Promise"),Pw=gu(an,"Set"),Bw=gu(an,"WeakMap"),rl=gu(Object,"create"),x7=ao(Dw),T7=ao(tl),N7=ao(Ow),D7=ao(Pw),O7=ao(Bw),mN=qd?qd.prototype:void 0,xw=mN?mN.valueOf:void 0;function so(r){var e=-1,t=r==null?0:r.length;for(this.clear();++e<t;){var i=r[e];this.set(i[0],i[1])}}function P7(){this.__data__=rl?rl(null):{},this.size=0}function B7(r){var e=this.has(r)&&delete this.__data__[r];return this.size-=e?1:0,e}function M7(r){var e=this.__data__;if(rl){var t=e[r];return t===Rw?void 0:t}return Bi.call(e,r)?e[r]:void 0}function R7(r){var e=this.__data__;return rl?e[r]!==void 0:Bi.call(e,r)}function L7(r,e){var t=this.__data__;return this.size+=this.has(r)?0:1,t[r]=rl&&e===void 0?Rw:e,this}so.prototype.clear=P7;so.prototype.delete=B7;so.prototype.get=M7;so.prototype.has=R7;so.prototype.set=L7;function un(r){var e=-1,t=r==null?0:r.length;for(this.clear();++e<t;){var i=r[e];this.set(i[0],i[1])}}function F7(){this.__data__=[],this.size=0}function U7(r){var e=this.__data__,t=Gd(e,r);if(t<0)return!1;var i=e.length-1;return t==i?e.pop():b7.call(e,t,1),--this.size,!0}function q7(r){var e=this.__data__,t=Gd(e,r);return t<0?void 0:e[t][1]}function V7(r){return Gd(this.__data__,r)>-1}function H7(r,e){var t=this.__data__,i=Gd(t,r);return i<0?(++this.size,t.push([r,e])):t[i][1]=e,this}un.prototype.clear=F7;un.prototype.delete=U7;un.prototype.get=q7;un.prototype.has=V7;un.prototype.set=H7;function oo(r){var e=-1,t=r==null?0:r.length;for(this.clear();++e<t;){var i=r[e];this.set(i[0],i[1])}}function Q7(){this.size=0,this.__data__={hash:new so,map:new(tl||un),string:new so}}function j7(r){var e=Kd(this,r).delete(r);return this.size-=e?1:0,e}function G7(r){return Kd(this,r).get(r)}function K7(r){return Kd(this,r).has(r)}function z7(r,e){var t=Kd(this,r),i=t.size;return t.set(r,e),this.size+=t.size==i?0:1,this}oo.prototype.clear=Q7;oo.prototype.delete=j7;oo.prototype.get=G7;oo.prototype.has=K7;oo.prototype.set=z7;function Vd(r){var e=-1,t=r==null?0:r.length;for(this.__data__=new oo;++e<t;)this.add(r[e])}function k7(r){return this.__data__.set(r,Rw),this}function W7(r){return this.__data__.has(r)}Vd.prototype.add=Vd.prototype.push=k7;Vd.prototype.has=W7;function zn(r){var e=this.__data__=new un(r);this.size=e.size}function $7(){this.__data__=new un,this.size=0}function Y7(r){var e=this.__data__,t=e.delete(r);return this.size=e.size,t}function J7(r){return this.__data__.get(r)}function X7(r){return this.__data__.has(r)}function Z7(r,e){var t=this.__data__;if(t instanceof un){var i=t.__data__;if(!tl||i.length<KV-1)return i.push([r,e]),this.size=++t.size,this;t=this.__data__=new oo(i)}return t.set(r,e),this.size=t.size,this}zn.prototype.clear=$7;zn.prototype.delete=Y7;zn.prototype.get=J7;zn.prototype.has=X7;zn.prototype.set=Z7;function eH(r,e){var t=Hd(r),i=!t&&gH(r),n=!t&&!i&&Mw(r),s=!t&&!i&&!n&&QN(r),o=t||i||n||s,a=o?p7(r.length,String):[],u=a.length;for(var h in r)(e||Bi.call(r,h))&&!(o&&(h=="length"||n&&(h=="offset"||h=="parent")||s&&(h=="buffer"||h=="byteLength"||h=="byteOffset")||lH(h,u)))&&a.push(h);return a}function Gd(r,e){for(var t=r.length;t--;)if(UN(r[t][0],e))return t;return-1}function tH(r,e,t){var i=e(r);return Hd(r)?i:h7(i,t(r))}function nl(r){return r==null?r===void 0?JV:WV:no&&no in Object(r)?uH(r):pH(r)}function wN(r){return il(r)&&nl(r)==Rd}function LN(r,e,t,i,n){return r===e?!0:r==null||e==null||!il(r)&&!il(e)?r!==r&&e!==e:rH(r,e,t,i,LN,n)}function rH(r,e,t,i,n,s){var o=Hd(r),a=Hd(e),u=o?Tw:Kn(r),h=a?Tw:Kn(e);u=u==Rd?du:u,h=h==Rd?du:h;var p=u==du,A=h==du,D=u==h;if(D&&Mw(r)){if(!Mw(e))return!1;o=!0,p=!1}if(D&&!p)return s||(s=new zn),o||QN(r)?FN(r,e,t,i,n,s):oH(r,e,u,t,i,n,s);if(!(t&Qd)){var O=p&&Bi.call(r,"__wrapped__"),T=A&&Bi.call(e,"__wrapped__");if(O||T){var V=O?r.value():r,z=T?e.value():e;return s||(s=new zn),n(V,z,t,i,s)}}return D?(s||(s=new zn),aH(r,e,t,i,n,s)):!1}function iH(r){if(!HN(r)||hH(r))return!1;var e=qN(r)?_7:u7;return e.test(ao(r))}function nH(r){return il(r)&&VN(r.length)&&!!Xe[nl(r)]}function sH(r){if(!dH(r))return S7(r);var e=[];for(var t in Object(r))Bi.call(r,t)&&t!="constructor"&&e.push(t);return e}function FN(r,e,t,i,n,s){var o=t&Qd,a=r.length,u=e.length;if(a!=u&&!(o&&u>a))return!1;var h=s.get(r);if(h&&s.get(e))return h==e;var p=-1,A=!0,D=t&EN?new Vd:void 0;for(s.set(r,e),s.set(e,r);++p<a;){var O=r[p],T=e[p];if(i)var V=o?i(T,O,p,e,r,s):i(O,T,p,r,e,s);if(V!==void 0){if(V)continue;A=!1;break}if(D){if(!d7(e,function(z,$){if(!y7(D,$)&&(O===z||n(O,z,t,i,s)))return D.push($)})){A=!1;break}}else if(!(O===T||n(O,T,t,i,s))){A=!1;break}}return s.delete(r),s.delete(e),A}function oH(r,e,t,i,n,s,o){switch(t){case Ud:if(r.byteLength!=e.byteLength||r.byteOffset!=e.byteOffset)return!1;r=r.buffer,e=e.buffer;case NN:return!(r.byteLength!=e.byteLength||!s(new gN(r),new gN(e)));case IN:case _N:case SN:return UN(+r,+e);case bN:return r.name==e.name&&r.message==e.message;case xN:case TN:return r==e+"";case Ld:var a=w7;case Fd:var u=i&Qd;if(a||(a=E7),r.size!=e.size&&!u)return!1;var h=o.get(r);if(h)return h==e;i|=EN,o.set(r,e);var p=FN(a(r),a(e),i,n,s,o);return o.delete(r),p;case YV:if(xw)return xw.call(r)==xw.call(e)}return!1}function aH(r,e,t,i,n,s){var o=t&Qd,a=vN(r),u=a.length,h=vN(e),p=h.length;if(u!=p&&!o)return!1;for(var A=u;A--;){var D=a[A];if(!(o?D in e:Bi.call(e,D)))return!1}var O=s.get(r);if(O&&s.get(e))return O==e;var T=!0;s.set(r,e),s.set(e,r);for(var V=o;++A<u;){D=a[A];var z=r[D],$=e[D];if(i)var se=o?i($,z,D,e,r,s):i(z,$,D,r,e,s);if(!(se===void 0?z===$||n(z,$,t,i,s):se)){T=!1;break}V||(V=D=="constructor")}if(T&&!V){var Y=r.constructor,j=e.constructor;Y!=j&&"constructor"in r&&"constructor"in e&&!(typeof Y=="function"&&Y instanceof Y&&typeof j=="function"&&j instanceof j)&&(T=!1)}return s.delete(r),s.delete(e),T}function vN(r){return tH(r,wH,cH)}function Kd(r,e){var t=r.__data__;return fH(e)?t[typeof e=="string"?"string":"hash"]:t.map}function gu(r,e){var t=m7(r,e);return iH(t)?t:void 0}function uH(r){var e=Bi.call(r,no),t=r[no];try{r[no]=void 0;var i=!0}catch{}var n=MN.call(r);return i&&(e?r[no]=t:delete r[no]),n}var cH=yN?function(r){return r==null?[]:(r=Object(r),f7(yN(r),function(e){return RN.call(r,e)}))}:vH,Kn=nl;(Dw&&Kn(new Dw(new ArrayBuffer(1)))!=Ud||tl&&Kn(new tl)!=Ld||Ow&&Kn(Ow.resolve())!=cN||Pw&&Kn(new Pw)!=Fd||Bw&&Kn(new Bw)!=Nw)&&(Kn=function(r){var e=nl(r),t=e==du?r.constructor:void 0,i=t?ao(t):"";if(i)switch(i){case x7:return Ud;case T7:return Ld;case N7:return cN;case D7:return Fd;case O7:return Nw}return e});function lH(r,e){return e=e??AN,!!e&&(typeof r=="number"||c7.test(r))&&r>-1&&r%1==0&&r<e}function fH(r){var e=typeof r;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?r!=="__proto__":r===null}function hH(r){return!!dN&&dN in r}function dH(r){var e=r&&r.constructor,t=typeof e=="function"&&e.prototype||jd;return r===t}function pH(r){return MN.call(r)}function ao(r){if(r!=null){try{return BN.call(r)}catch{}try{return r+""}catch{}}return""}function UN(r,e){return r===e||r!==r&&e!==e}var gH=wN(function(){return arguments}())?wN:function(r){return il(r)&&Bi.call(r,"callee")&&!RN.call(r,"callee")},Hd=Array.isArray;function yH(r){return r!=null&&VN(r.length)&&!qN(r)}var Mw=C7||EH;function mH(r,e){return LN(r,e)}function qN(r){if(!HN(r))return!1;var e=nl(r);return e==CN||e==kV||e==zV||e==$V}function VN(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=AN}function HN(r){var e=typeof r;return r!=null&&(e=="object"||e=="function")}function il(r){return r!=null&&typeof r=="object"}var QN=hN?g7(hN):nH;function wH(r){return yH(r)?eH(r):sH(r)}function vH(){return[]}function EH(){return!1}pu.exports=mH});var G3=B(Ee=>{"use strict";f();Object.defineProperty(Ee,"__esModule",{value:!0});var uo=$s(),AH=lh(),IH=SC(),ip=QC(),st=_m(),kn=Vm(),GN=(xh(),at($C)),_H=(vx(),at(wx)),fe=Ed(),Ht=Ys(),bH=(tN(),at(eN)),ti=(Zc(),at(cr)),CH=(uN(),at(aN)),SH=jN();function ol(r){return r&&typeof r=="object"&&"default"in r?r:{default:r}}function xH(r){if(r&&r.__esModule)return r;var e=Object.create(null);return r&&Object.keys(r).forEach(function(t){if(t!=="default"){var i=Object.getOwnPropertyDescriptor(r,t);Object.defineProperty(e,t,i.get?i:{enumerable:!0,get:function(){return r[t]}})}}),e.default=r,Object.freeze(e)}var TH=ol(uo),a3=ol(AH),NH=ol(IH),zd=xH(_H),DH=ol(CH),OH=ol(SH);function PH(r,e){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),i=0;i<t.length;i++)t[i]=255;for(var n=0;n<r.length;n++){var s=r.charAt(n),o=s.charCodeAt(0);if(t[o]!==255)throw new TypeError(s+" is ambiguous");t[o]=n}var a=r.length,u=r.charAt(0),h=Math.log(a)/Math.log(256),p=Math.log(256)/Math.log(a);function A(T){if(T instanceof Uint8Array||(ArrayBuffer.isView(T)?T=new Uint8Array(T.buffer,T.byteOffset,T.byteLength):Array.isArray(T)&&(T=Uint8Array.from(T))),!(T instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(T.length===0)return"";for(var V=0,z=0,$=0,se=T.length;$!==se&&T[$]===0;)$++,V++;for(var Y=(se-$)*p+1>>>0,j=new Uint8Array(Y);$!==se;){for(var W=T[$],k=0,R=Y-1;(W!==0||k<z)&&R!==-1;R--,k++)W+=256*j[R]>>>0,j[R]=W%a>>>0,W=W/a>>>0;if(W!==0)throw new Error("Non-zero carry");z=k,$++}for(var F=Y-z;F!==Y&&j[F]===0;)F++;for(var G=u.repeat(V);F<Y;++F)G+=r.charAt(j[F]);return G}function D(T){if(typeof T!="string")throw new TypeError("Expected String");if(T.length===0)return new Uint8Array;var V=0;if(T[V]!==" "){for(var z=0,$=0;T[V]===u;)z++,V++;for(var se=(T.length-V)*h+1>>>0,Y=new Uint8Array(se);T[V];){var j=t[T.charCodeAt(V)];if(j===255)return;for(var W=0,k=se-1;(j!==0||W<$)&&k!==-1;k--,W++)j+=a*Y[k]>>>0,Y[k]=j%256>>>0,j=j/256>>>0;if(j!==0)throw new Error("Non-zero carry");$=W,V++}if(T[V]!==" "){for(var R=se-$;R!==se&&Y[R]===0;)R++;for(var F=new Uint8Array(z+(se-R)),G=z;R!==se;)F[G++]=Y[R++];return F}}}function O(T){var V=D(T);if(V)return V;throw new Error(`Non-${e} character`)}return{encode:A,decodeUnsafe:D,decode:O}}var BH=PH,MH=BH,u3=r=>{if(r instanceof Uint8Array&&r.constructor.name==="Uint8Array")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")},RH=r=>new TextEncoder().encode(r),LH=r=>new TextDecoder().decode(r),Uw=class{constructor(e,t,i){this.name=e,this.prefix=t,this.baseEncode=i}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},qw=class{constructor(e,t,i){if(this.name=e,this.prefix=t,t.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=i}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return c3(this,e)}},Vw=class{constructor(e){this.decoders=e}or(e){return c3(this,e)}decode(e){let t=e[0],i=this.decoders[t];if(i)return i.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},c3=(r,e)=>new Vw({...r.decoders||{[r.prefix]:r},...e.decoders||{[e.prefix]:e}}),Hw=class{constructor(e,t,i,n){this.name=e,this.prefix=t,this.baseEncode=i,this.baseDecode=n,this.encoder=new Uw(e,t,i),this.decoder=new qw(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},np=({name:r,prefix:e,encode:t,decode:i})=>new Hw(r,e,t,i),al=({prefix:r,name:e,alphabet:t})=>{let{encode:i,decode:n}=MH(t,e);return np({prefix:r,name:e,encode:i,decode:s=>u3(n(s))})},FH=(r,e,t,i)=>{let n={};for(let p=0;p<e.length;++p)n[e[p]]=p;let s=r.length;for(;r[s-1]==="=";)--s;let o=new Uint8Array(s*t/8|0),a=0,u=0,h=0;for(let p=0;p<s;++p){let A=n[r[p]];if(A===void 0)throw new SyntaxError(`Non-${i} character`);u=u<<t|A,a+=t,a>=8&&(a-=8,o[h++]=255&u>>a)}if(a>=t||255&u<<8-a)throw new SyntaxError("Unexpected end of data");return o},UH=(r,e,t)=>{let i=e[e.length-1]==="=",n=(1<<t)-1,s="",o=0,a=0;for(let u=0;u<r.length;++u)for(a=a<<8|r[u],o+=8;o>t;)o-=t,s+=e[n&a>>o];if(o&&(s+=e[n&a<<t-o]),i)for(;s.length*t&7;)s+="=";return s},er=({name:r,prefix:e,bitsPerChar:t,alphabet:i})=>np({prefix:e,name:r,encode(n){return UH(n,i,t)},decode(n){return FH(n,i,t,r)}}),qH=np({prefix:"\0",name:"identity",encode:r=>LH(r),decode:r=>RH(r)}),VH=Object.freeze({__proto__:null,identity:qH}),HH=er({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),QH=Object.freeze({__proto__:null,base2:HH}),jH=er({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),GH=Object.freeze({__proto__:null,base8:jH}),KH=al({prefix:"9",name:"base10",alphabet:"0123456789"}),zH=Object.freeze({__proto__:null,base10:KH}),kH=er({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),WH=er({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),$H=Object.freeze({__proto__:null,base16:kH,base16upper:WH}),YH=er({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),JH=er({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),XH=er({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),ZH=er({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),eQ=er({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),tQ=er({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),rQ=er({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),iQ=er({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),nQ=er({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),sQ=Object.freeze({__proto__:null,base32:YH,base32upper:JH,base32pad:XH,base32padupper:ZH,base32hex:eQ,base32hexupper:tQ,base32hexpad:rQ,base32hexpadupper:iQ,base32z:nQ}),oQ=al({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),aQ=al({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),uQ=Object.freeze({__proto__:null,base36:oQ,base36upper:aQ}),cQ=al({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),lQ=al({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),fQ=Object.freeze({__proto__:null,base58btc:cQ,base58flickr:lQ}),hQ=er({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),dQ=er({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),pQ=er({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),gQ=er({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),yQ=Object.freeze({__proto__:null,base64:hQ,base64pad:dQ,base64url:pQ,base64urlpad:gQ}),l3=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),mQ=l3.reduce((r,e,t)=>(r[t]=e,r),[]),wQ=l3.reduce((r,e,t)=>(r[e.codePointAt(0)]=t,r),[]);function vQ(r){return r.reduce((e,t)=>(e+=mQ[t],e),"")}function EQ(r){let e=[];for(let t of r){let i=wQ[t.codePointAt(0)];if(i===void 0)throw new Error(`Non-base256emoji character: ${t}`);e.push(i)}return new Uint8Array(e)}var AQ=np({prefix:"\u{1F680}",name:"base256emoji",encode:vQ,decode:EQ}),IQ=Object.freeze({__proto__:null,base256emoji:AQ}),_Q=f3,KN=128,bQ=127,CQ=~bQ,SQ=Math.pow(2,31);function f3(r,e,t){e=e||[],t=t||0;for(var i=t;r>=SQ;)e[t++]=r&255|KN,r/=128;for(;r&CQ;)e[t++]=r&255|KN,r>>>=7;return e[t]=r|0,f3.bytes=t-i+1,e}var xQ=Qw,TQ=128,zN=127;function Qw(r,i){var t=0,i=i||0,n=0,s=i,o,a=r.length;do{if(s>=a)throw Qw.bytes=0,new RangeError("Could not decode varint");o=r[s++],t+=n<28?(o&zN)<<n:(o&zN)*Math.pow(2,n),n+=7}while(o>=TQ);return Qw.bytes=s-i,t}var NQ=Math.pow(2,7),DQ=Math.pow(2,14),OQ=Math.pow(2,21),PQ=Math.pow(2,28),BQ=Math.pow(2,35),MQ=Math.pow(2,42),RQ=Math.pow(2,49),LQ=Math.pow(2,56),FQ=Math.pow(2,63),UQ=function(r){return r<NQ?1:r<DQ?2:r<OQ?3:r<PQ?4:r<BQ?5:r<MQ?6:r<RQ?7:r<LQ?8:r<FQ?9:10},qQ={encode:_Q,decode:xQ,encodingLength:UQ},h3=qQ,kN=(r,e,t=0)=>(h3.encode(r,e,t),e),WN=r=>h3.encodingLength(r),jw=(r,e)=>{let t=e.byteLength,i=WN(r),n=i+WN(t),s=new Uint8Array(n+t);return kN(r,s,0),kN(t,s,i),s.set(e,n),new Gw(r,t,e,s)},Gw=class{constructor(e,t,i,n){this.code=e,this.size=t,this.digest=i,this.bytes=n}},d3=({name:r,code:e,encode:t})=>new Kw(r,e,t),Kw=class{constructor(e,t,i){this.name=e,this.code=t,this.encode=i}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?jw(this.code,t):t.then(i=>jw(this.code,i))}else throw Error("Unknown type, must be binary type")}},p3=r=>async e=>new Uint8Array(await crypto.subtle.digest(r,e)),VQ=d3({name:"sha2-256",code:18,encode:p3("SHA-256")}),HQ=d3({name:"sha2-512",code:19,encode:p3("SHA-512")}),QQ=Object.freeze({__proto__:null,sha256:VQ,sha512:HQ}),g3=0,jQ="identity",y3=u3,GQ=r=>jw(g3,y3(r)),KQ={code:g3,name:jQ,encode:y3,digest:GQ},zQ=Object.freeze({__proto__:null,identity:KQ});new TextEncoder,new TextDecoder;var $N={...VH,...QH,...GH,...zH,...$H,...sQ,...uQ,...fQ,...yQ,...IQ};({...QQ,...zQ});function kQ(r=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(r):new Uint8Array(r)}function m3(r,e,t,i){return{name:r,prefix:e,encoder:{name:r,prefix:e,encode:t},decoder:{decode:i}}}var YN=m3("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>new TextEncoder().encode(r.substring(1))),Lw=m3("ascii","a",r=>{let e="a";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e},r=>{r=r.substring(1);let e=kQ(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}),WQ={utf8:YN,"utf-8":YN,hex:$N.base16,latin1:Lw,ascii:Lw,binary:Lw,...$N};function $Q(r,e="utf8"){let t=WQ[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(r,"utf8"):t.decoder.decode(`${t.prefix}${r}`)}var Yw="wc",w3=2,sp="core",cn=`${Yw}@2:${sp}:`,v3={name:sp,logger:"error"},E3={database:":memory:"},A3="crypto",zw="client_ed25519_seed",I3=Ht.ONE_DAY,_3="keychain",b3="0.3",C3="messages",S3="0.3",x3=Ht.SIX_HOURS,T3="publisher",N3="irn",D3="error",Jw="wss://relay.walletconnect.com",O3="relayer",lr={message:"relayer_message",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},P3="_subscription",sl={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},kw=Ht.ONE_SECOND,YQ={database:":memory:"},B3="2.4.3",M3="0.3",ei={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},JQ=Ht.THIRTY_DAYS,R3="subscription",L3="0.3",F3=Ht.FIVE_SECONDS*1e3,U3="pairing",q3="0.3",XQ=Ht.THIRTY_DAYS,yu={wc_pairingDelete:{req:{ttl:Ht.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:Ht.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:Ht.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:Ht.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:Ht.ONE_DAY,prompt:!1,tag:0},res:{ttl:Ht.ONE_DAY,prompt:!1,tag:0}}},Zr={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},V3="history",H3="0.3",Q3="expirer",Vr={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},j3="0.3",ZQ=Ht.ONE_DAY,Wd=class{constructor(e,t){this.core=e,this.logger=t,this.keychain=new Map,this.name=_3,this.version=b3,this.initialized=!1,this.storagePrefix=cn,this.init=async()=>{if(!this.initialized){let i=await this.getKeyChain();typeof i<"u"&&(this.keychain=i),this.initialized=!0}},this.has=i=>(this.isInitialized(),this.keychain.has(i)),this.set=async(i,n)=>{this.isInitialized(),this.keychain.set(i,n),await this.persist()},this.get=i=>{this.isInitialized();let n=this.keychain.get(i);if(typeof n>"u"){let{message:s}=fe.getInternalError("NO_MATCHING_KEY",`${this.name}: ${i}`);throw new Error(s)}return n},this.del=async i=>{this.isInitialized(),this.keychain.delete(i),await this.persist()},this.core=e,this.logger=st.generateChildLogger(t,this.name)}get context(){return st.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,fe.mapToObj(e))}async getKeyChain(){let e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?fe.objToMap(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){let{message:e}=fe.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}},$d=class{constructor(e,t,i){this.core=e,this.logger=t,this.name=A3,this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=n=>(this.isInitialized(),this.keychain.has(n)),this.getClientId=async()=>{this.isInitialized();let n=await this.getClientSeed(),s=zd.generateKeyPair(n);return zd.encodeIss(s.publicKey)},this.generateKeyPair=()=>{this.isInitialized();let n=fe.generateKeyPair();return this.setPrivateKey(n.publicKey,n.privateKey)},this.signJWT=async n=>{this.isInitialized();let s=await this.getClientSeed(),o=zd.generateKeyPair(s),a=fe.generateRandomBytes32(),u=I3;return await zd.signJWT(a,n,u,o)},this.generateSharedKey=(n,s,o)=>{this.isInitialized();let a=this.getPrivateKey(n),u=fe.deriveSymKey(a,s);return this.setSymKey(u,o)},this.setSymKey=async(n,s)=>{this.isInitialized();let o=s||fe.hashKey(n);return await this.keychain.set(o,n),o},this.deleteKeyPair=async n=>{this.isInitialized(),await this.keychain.del(n)},this.deleteSymKey=async n=>{this.isInitialized(),await this.keychain.del(n)},this.encode=async(n,s,o)=>{this.isInitialized();let a=fe.validateEncoding(o),u=GN.safeJsonStringify(s);if(fe.isTypeOneEnvelope(a)){let D=a.senderPublicKey,O=a.receiverPublicKey;n=await this.generateSharedKey(D,O)}let h=this.getSymKey(n),{type:p,senderPublicKey:A}=a;return fe.encrypt({type:p,symKey:h,message:u,senderPublicKey:A})},this.decode=async(n,s,o)=>{this.isInitialized();let a=fe.validateDecoding(s,o);if(fe.isTypeOneEnvelope(a)){let p=a.receiverPublicKey,A=a.senderPublicKey;n=await this.generateSharedKey(p,A)}let u=this.getSymKey(n),h=fe.decrypt({symKey:u,encoded:s});return GN.safeJsonParse(h)},this.core=e,this.logger=st.generateChildLogger(t,this.name),this.keychain=i||new Wd(this.core,this.logger)}get context(){return st.getLoggerContext(this.logger)}getPayloadType(e){let t=fe.deserialize(e);return fe.decodeTypeByte(t.type)}async setPrivateKey(e,t){return await this.keychain.set(e,t),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(zw)}catch{e=fe.generateRandomBytes32(),await this.keychain.set(zw,e)}return $Q(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){let{message:e}=fe.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}},Yd=class extends kn.IMessageTracker{constructor(e,t){super(e,t),this.logger=e,this.core=t,this.messages=new Map,this.name=C3,this.version=S3,this.initialized=!1,this.storagePrefix=cn,this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{let i=await this.getRelayerMessages();typeof i<"u"&&(this.messages=i),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(i){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(i)}finally{this.initialized=!0}}},this.set=async(i,n)=>{this.isInitialized();let s=fe.hashMessage(n),o=this.messages.get(i);return typeof o>"u"&&(o={}),typeof o[s]<"u"||(o[s]=n,this.messages.set(i,o),await this.persist()),s},this.get=i=>{this.isInitialized();let n=this.messages.get(i);return typeof n>"u"&&(n={}),n},this.has=(i,n)=>{this.isInitialized();let s=this.get(i),o=fe.hashMessage(n);return typeof s[o]<"u"},this.del=async i=>{this.isInitialized(),this.messages.delete(i),await this.persist()},this.logger=st.generateChildLogger(e,this.name),this.core=t}get context(){return st.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,fe.mapToObj(e))}async getRelayerMessages(){let e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?fe.objToMap(e):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){let{message:e}=fe.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}},Ww=class extends kn.IPublisher{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,this.events=new uo.EventEmitter,this.name=T3,this.queue=new Map,this.publishTimeout=1e4,this.publish=async(i,n,s)=>{this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:i,message:n,opts:s}});try{let o=s?.ttl||x3,a=fe.getRelayProtocolName(s),u=s?.prompt||!1,h=s?.tag||0,p={topic:i,message:n,opts:{ttl:o,relay:a,prompt:u,tag:h}},A=fe.hashMessage(n);this.queue.set(A,p);try{await await fe.createExpiringPromise(this.rpcPublish(i,n,o,a,u,h),this.publishTimeout),this.relayer.events.emit(lr.publish,p)}catch{this.logger.debug("Publishing Payload stalled"),this.relayer.events.emit(lr.connection_stalled);return}this.onPublish(A,p),this.logger.debug("Successfully Published Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:i,message:n,opts:s}})}catch(o){throw this.logger.debug("Failed to Publish Payload"),this.logger.error(o),o}},this.on=(i,n)=>{this.events.on(i,n)},this.once=(i,n)=>{this.events.once(i,n)},this.off=(i,n)=>{this.events.off(i,n)},this.removeListener=(i,n)=>{this.events.removeListener(i,n)},this.relayer=e,this.logger=st.generateChildLogger(t,this.name),this.registerEventListeners()}get context(){return st.getLoggerContext(this.logger)}rpcPublish(e,t,i,n,s,o){var a,u,h,p;let A={method:fe.getRelayProtocolApi(n.protocol).publish,params:{topic:e,message:t,ttl:i,prompt:s,tag:o}};return fe.isUndefined((a=A.params)==null?void 0:a.prompt)&&((u=A.params)==null||delete u.prompt),fe.isUndefined((h=A.params)==null?void 0:h.tag)&&((p=A.params)==null||delete p.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:A}),this.relayer.provider.request(A)}onPublish(e,t){this.queue.delete(e)}checkQueue(){this.queue.forEach(async e=>{let{topic:t,message:i,opts:n}=e;await this.publish(t,i,n)})}registerEventListeners(){this.relayer.core.heartbeat.on(ip.HEARTBEAT_EVENTS.pulse,()=>{this.checkQueue()})}},$w=class{constructor(){this.map=new Map,this.set=(e,t)=>{let i=this.get(e);this.exists(e,t)||this.map.set(e,[...i,t])},this.get=e=>this.map.get(e)||[],this.exists=(e,t)=>this.get(e).includes(t),this.delete=(e,t)=>{if(typeof t>"u"){this.map.delete(e);return}if(!this.map.has(e))return;let i=this.get(e);if(!this.exists(e,t))return;let n=i.filter(s=>s!==t);if(!n.length){this.map.delete(e);return}this.map.set(e,n)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}},e9=Object.defineProperty,t9=Object.defineProperties,r9=Object.getOwnPropertyDescriptors,JN=Object.getOwnPropertySymbols,i9=Object.prototype.hasOwnProperty,n9=Object.prototype.propertyIsEnumerable,XN=(r,e,t)=>e in r?e9(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,kd=(r,e)=>{for(var t in e||(e={}))i9.call(e,t)&&XN(r,t,e[t]);if(JN)for(var t of JN(e))n9.call(e,t)&&XN(r,t,e[t]);return r},Fw=(r,e)=>t9(r,r9(e)),Jd=class extends kn.ISubscriber{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,this.subscriptions=new Map,this.topicMap=new $w,this.events=new uo.EventEmitter,this.name=R3,this.version=L3,this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=cn,this.subscribeTimeout=1e4,this.restartInProgress=!1,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restart(),this.registerEventListeners(),this.onEnable(),this.clientId=await this.relayer.core.crypto.getClientId())},this.subscribe=async(i,n)=>{await this.restartToComplete(),this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:i,opts:n}});try{let s=fe.getRelayProtocolName(n),o={topic:i,relay:s};this.pending.set(i,o);let a=await this.rpcSubscribe(i,s);return this.onSubscribe(a,o),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:i,opts:n}}),a}catch(s){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(s),s}},this.unsubscribe=async(i,n)=>{await this.restartToComplete(),this.isInitialized(),typeof n?.id<"u"?await this.unsubscribeById(i,n.id,n):await this.unsubscribeByTopic(i,n)},this.isSubscribed=async i=>this.topics.includes(i)?!0:await new Promise((n,s)=>{let o=new Ht.Watch;o.start(this.pendingSubscriptionWatchLabel);let a=setInterval(()=>{!this.pending.has(i)&&this.topics.includes(i)&&(clearInterval(a),o.stop(this.pendingSubscriptionWatchLabel),n(!0)),o.elapsed(this.pendingSubscriptionWatchLabel)>=F3&&(clearInterval(a),o.stop(this.pendingSubscriptionWatchLabel),s(!1))},this.pollingInterval)}),this.on=(i,n)=>{this.events.on(i,n)},this.once=(i,n)=>{this.events.once(i,n)},this.off=(i,n)=>{this.events.off(i,n)},this.removeListener=(i,n)=>{this.events.removeListener(i,n)},this.restart=async()=>{this.restartInProgress=!0,await this.restore(),await this.reset(),this.restartInProgress=!1},this.relayer=e,this.logger=st.generateChildLogger(t,this.name),this.clientId=""}get context(){return st.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(e,t){let i=!1;try{i=this.getSubscription(e).topic===t}catch{}return i}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear(),this.initialized=!1}async unsubscribeByTopic(e,t){let i=this.topicMap.get(e);await Promise.all(i.map(async n=>await this.unsubscribeById(e,n,t)))}async unsubscribeById(e,t,i){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:i}});try{let n=fe.getRelayProtocolName(i);await this.rpcUnsubscribe(e,t,n);let s=fe.getSdkError("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,t,s),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:i}})}catch(n){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(n),n}}async rpcSubscribe(e,t){let i={method:fe.getRelayProtocolApi(t.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i});try{await await fe.createExpiringPromise(this.relayer.provider.request(i),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Payload stalled"),this.relayer.events.emit(lr.connection_stalled)}return fe.hashMessage(e+this.clientId)}rpcUnsubscribe(e,t,i){let n={method:fe.getRelayProtocolApi(i.protocol).unsubscribe,params:{topic:e,id:t}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n}),this.relayer.provider.request(n)}onSubscribe(e,t){this.setSubscription(e,Fw(kd({},t),{id:e})),this.pending.delete(t.topic)}onResubscribe(e,t){this.addSubscription(e,Fw(kd({},t),{id:e})),this.pending.delete(t.topic)}async onUnsubscribe(e,t,i){this.events.removeAllListeners(t),this.hasSubscription(t,e)&&this.deleteSubscription(t,i),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,t){this.subscriptions.has(e)||(this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:t}),this.addSubscription(e,t))}addSubscription(e,t){this.subscriptions.set(e,kd({},t)),this.topicMap.set(t.topic,e),this.events.emit(ei.created,t)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});let t=this.subscriptions.get(e);if(!t){let{message:i}=fe.getInternalError("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(i)}return t}deleteSubscription(e,t){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:t});let i=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(i.topic,e),this.events.emit(ei.deleted,Fw(kd({},i),{reason:t}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(ei.sync)}async reset(){this.cached.length&&await Promise.all(this.cached.map(async e=>await this.resubscribe(e))),this.events.emit(ei.resubscribed)}async restore(){try{let e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){let{message:t}=fe.getInternalError("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async resubscribe(e){if(!this.ids.includes(e.id)){let{topic:t,relay:i}=e,n={topic:t,relay:i};this.pending.set(n.topic,n);let s=await this.rpcSubscribe(n.topic,n.relay);this.onResubscribe(s,n)}}async onConnect(){this.restartInProgress||(await this.restart(),this.onEnable())}onDisconnect(){this.onDisable()}checkPending(){this.relayer.transportExplicitlyClosed||this.pending.forEach(async e=>{let t=await this.rpcSubscribe(e.topic,e.relay);this.onSubscribe(t,e)})}registerEventListeners(){this.relayer.core.heartbeat.on(ip.HEARTBEAT_EVENTS.pulse,()=>{this.checkPending()}),this.relayer.on(lr.connect,async()=>{await this.onConnect()}),this.relayer.on(lr.disconnect,()=>{this.onDisconnect()}),this.events.on(ei.created,async e=>{let t=ei.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),await this.persist()}),this.events.on(ei.deleted,async e=>{let t=ei.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),await this.persist()})}isInitialized(){if(!this.initialized){let{message:e}=fe.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(){this.restartInProgress&&await new Promise(e=>{let t=setInterval(()=>{this.restartInProgress||(clearInterval(t),e())},this.pollingInterval)})}},s9=Object.defineProperty,ZN=Object.getOwnPropertySymbols,o9=Object.prototype.hasOwnProperty,a9=Object.prototype.propertyIsEnumerable,e3=(r,e,t)=>e in r?s9(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,u9=(r,e)=>{for(var t in e||(e={}))o9.call(e,t)&&e3(r,t,e[t]);if(ZN)for(var t of ZN(e))a9.call(e,t)&&e3(r,t,e[t]);return r},Xd=class extends kn.IRelayer{constructor(e){super(e),this.protocol="wc",this.version=2,this.events=new uo.EventEmitter,this.name=O3,this.transportExplicitlyClosed=!1,this.initialized=!1,this.reconnecting=!1,this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?st.generateChildLogger(e.logger,this.name):a3.default(st.getDefaultLoggerOptions({level:e.logger||D3})),this.messages=new Yd(this.logger,e.core),this.subscriber=new Jd(this,this.logger),this.publisher=new Ww(this,this.logger),this.relayUrl=e?.relayUrl||Jw,this.projectId=e.projectId,this.provider={}}async init(){this.logger.trace("Initialized"),this.provider=await this.createProvider(),await Promise.all([this.messages.init(),this.transportOpen(),this.subscriber.init()]),this.registerEventListeners(),this.initialized=!0}get context(){return st.getLoggerContext(this.logger)}get connected(){return this.provider.connection.connected}get connecting(){return this.provider.connection.connecting}async publish(e,t,i){this.isInitialized(),await this.publisher.publish(e,t,i),await this.recordMessageEvent({topic:e,message:t})}async subscribe(e,t){this.isInitialized();let i="";return await Promise.all([new Promise(n=>{this.subscriber.once(ei.created,s=>{s.topic===e&&n()})}),new Promise(async n=>{i=await this.subscriber.subscribe(e,t),n()})]),i}async unsubscribe(e,t){this.isInitialized(),await this.subscriber.unsubscribe(e,t)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async transportClose(){this.transportExplicitlyClosed=!0,this.connected&&(await this.provider.disconnect(),this.events.emit(lr.transport_closed))}async transportOpen(e){if(!this.reconnecting){this.relayUrl=e||this.relayUrl,this.transportExplicitlyClosed=!1,this.reconnecting=!0;try{await Promise.all([new Promise(t=>{this.initialized||t(),this.subscriber.once(ei.resubscribed,()=>{t()})}),await Promise.race([new Promise(async t=>{await this.provider.connect(),this.removeListener(lr.transport_closed,this.rejectTransportOpen),t()}),new Promise(t=>this.once(lr.transport_closed,this.rejectTransportOpen))])])}catch(t){let i=t;if(!/socket hang up/i.test(i.message))throw t;this.logger.error(t),this.events.emit(lr.transport_closed)}finally{this.reconnecting=!1}}}async restartTransport(e){this.transportExplicitlyClosed||(await this.transportClose(),await new Promise(t=>setTimeout(t,kw)),await this.transportOpen(e))}rejectTransportOpen(){throw new Error("closeTransport called before connection was established")}async createProvider(){let e=await this.core.crypto.signJWT(this.relayUrl);return new bH.JsonRpcProvider(new DH.default(fe.formatRelayRpcUrl({sdkVersion:B3,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e})))}async recordMessageEvent(e){let{topic:t,message:i}=e;await this.messages.set(t,i)}async shouldIgnoreMessageEvent(e){let{topic:t,message:i}=e;return await this.subscriber.isSubscribed(t)?this.messages.has(t,i):!0}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),ti.isJsonRpcRequest(e)){if(!e.method.endsWith(P3))return;let t=e.params,{topic:i,message:n}=t.data,s={topic:i,message:n};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(u9({type:"event",event:t.id},s)),this.events.emit(t.id,s),await this.acknowledgePayload(e),await this.onMessageEvent(s)}}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(this.events.emit(lr.message,e),await this.recordMessageEvent(e))}async acknowledgePayload(e){let t=ti.formatJsonRpcResult(e.id,!0);await this.provider.connection.send(t)}registerEventListeners(){this.provider.on(sl.payload,e=>this.onProviderPayload(e)),this.provider.on(sl.connect,()=>{this.events.emit(lr.connect)}),this.provider.on(sl.disconnect,()=>{this.events.emit(lr.disconnect),this.attemptToReconnect()}),this.provider.on(sl.error,e=>this.events.emit(lr.error,e)),this.events.on(lr.connection_stalled,async()=>{await this.restartTransport()})}attemptToReconnect(){this.transportExplicitlyClosed||setTimeout(async()=>{await this.transportOpen()},Ht.toMiliseconds(kw))}isInitialized(){if(!this.initialized){let{message:e}=fe.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}},c9=Object.defineProperty,t3=Object.getOwnPropertySymbols,l9=Object.prototype.hasOwnProperty,f9=Object.prototype.propertyIsEnumerable,r3=(r,e,t)=>e in r?c9(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,i3=(r,e)=>{for(var t in e||(e={}))l9.call(e,t)&&r3(r,t,e[t]);if(t3)for(var t of t3(e))f9.call(e,t)&&r3(r,t,e[t]);return r},Zd=class extends kn.IStore{constructor(e,t,i,n=cn,s=void 0){super(e,t,i,n),this.core=e,this.logger=t,this.name=i,this.map=new Map,this.version=M3,this.cached=[],this.initialized=!1,this.storagePrefix=cn,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{fe.isProposalStruct(o)?this.map.set(o.id,o):fe.isSessionStruct(o)?this.map.set(o.topic,o):this.getKey&&o!==null&&!fe.isUndefined(o)&&this.map.set(this.getKey(o),o)}),this.cached=[],this.initialized=!0)},this.set=async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())},this.get=o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o)),this.getAll=o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(u=>OH.default(a[u],o[u]))):this.values),this.update=async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});let u=i3(i3({},this.getData(o)),a);this.map.set(o,u),await this.persist()},this.delete=async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),await this.persist())},this.logger=st.generateChildLogger(t,this.name),this.storagePrefix=n,this.getKey=s}get context(){return st.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){let t=this.map.get(e);if(!t){let{message:i}=fe.getInternalError("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}return t}async persist(){await this.setDataStore(this.values)}async restore(){try{let e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){let{message:t}=fe.getInternalError("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){let{message:e}=fe.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}},ep=class{constructor(e,t){this.core=e,this.logger=t,this.name=U3,this.version=q3,this.events=new TH.default,this.initialized=!1,this.storagePrefix=cn,this.ignoredPayloadTypes=[fe.TYPE_1],this.registeredMethods=[],this.init=async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))},this.register=({methods:i})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...i])]},this.create=async()=>{this.isInitialized();let i=fe.generateRandomBytes32(),n=await this.core.crypto.setSymKey(i),s=fe.calcExpiry(Ht.FIVE_MINUTES),o={protocol:N3},a={topic:n,expiry:s,relay:o,active:!1},u=fe.formatUri({protocol:this.core.protocol,version:this.core.version,topic:n,symKey:i,relay:o});return await this.pairings.set(n,a),await this.core.relayer.subscribe(n),this.core.expirer.set(n,s),{topic:n,uri:u}},this.pair=async i=>{this.isInitialized(),this.isValidPair(i);let{topic:n,symKey:s,relay:o}=fe.parseUri(i.uri),a=fe.calcExpiry(Ht.FIVE_MINUTES),u={topic:n,relay:o,expiry:a,active:!1};return await this.pairings.set(n,u),await this.core.crypto.setSymKey(s,n),await this.core.relayer.subscribe(n,{relay:o}),this.core.expirer.set(n,a),i.activatePairing&&await this.activate({topic:n}),u},this.activate=async({topic:i})=>{this.isInitialized();let n=fe.calcExpiry(Ht.THIRTY_DAYS);await this.pairings.update(i,{active:!0,expiry:n}),this.core.expirer.set(i,n)},this.ping=async i=>{this.isInitialized(),await this.isValidPing(i);let{topic:n}=i;if(this.pairings.keys.includes(n)){let s=await this.sendRequest(n,"wc_pairingPing",{}),{done:o,resolve:a,reject:u}=fe.createDelayedPromise();this.events.once(fe.engineEvent("pairing_ping",s),({error:h})=>{h?u(h):a()}),await o()}},this.updateExpiry=async({topic:i,expiry:n})=>{this.isInitialized(),await this.pairings.update(i,{expiry:n})},this.updateMetadata=async({topic:i,metadata:n})=>{this.isInitialized(),await this.pairings.update(i,{peerMetadata:n})},this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=async i=>{this.isInitialized(),await this.isValidDisconnect(i);let{topic:n}=i;this.pairings.keys.includes(n)&&(await this.sendRequest(n,"wc_pairingDelete",fe.getSdkError("USER_DISCONNECTED")),await this.deletePairing(n))},this.sendRequest=async(i,n,s)=>{let o=ti.formatJsonRpcRequest(n,s),a=await this.core.crypto.encode(i,o),u=yu[n].req;return this.core.history.set(i,o),await this.core.relayer.publish(i,a,u),o.id},this.sendResult=async(i,n,s)=>{let o=ti.formatJsonRpcResult(i,s),a=await this.core.crypto.encode(n,o),u=await this.core.history.get(n,i),h=yu[u.request.method].res;await this.core.relayer.publish(n,a,h),await this.core.history.resolve(o)},this.sendError=async(i,n,s)=>{let o=ti.formatJsonRpcError(i,s),a=await this.core.crypto.encode(n,o),u=await this.core.history.get(n,i),h=yu[u.request.method]?yu[u.request.method].res:yu.unregistered_method.res;await this.core.relayer.publish(n,a,h),await this.core.history.resolve(o)},this.deletePairing=async(i,n)=>{await this.core.relayer.unsubscribe(i),await Promise.all([this.pairings.delete(i,fe.getSdkError("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(i),n?Promise.resolve():this.core.expirer.del(i)])},this.cleanup=async()=>{let i=this.pairings.getAll().filter(n=>fe.isExpired(n.expiry));await Promise.all(i.map(n=>this.deletePairing(n.topic)))},this.onRelayEventRequest=i=>{let{topic:n,payload:s}=i,o=s.method;if(this.pairings.keys.includes(n))switch(o){case"wc_pairingPing":return this.onPairingPingRequest(n,s);case"wc_pairingDelete":return this.onPairingDeleteRequest(n,s);default:return this.onUnknownRpcMethodRequest(n,s)}},this.onRelayEventResponse=async i=>{let{topic:n,payload:s}=i,o=(await this.core.history.get(n,s.id)).request.method;if(this.pairings.keys.includes(n))switch(o){case"wc_pairingPing":return this.onPairingPingResponse(n,s);default:return this.onUnknownRpcMethodResponse(o)}},this.onPairingPingRequest=async(i,n)=>{let{id:s}=n;try{this.isValidPing({topic:i}),await this.sendResult(s,i,!0),this.events.emit("pairing_ping",{id:s,topic:i})}catch(o){await this.sendError(s,i,o),this.logger.error(o)}},this.onPairingPingResponse=(i,n)=>{let{id:s}=n;setTimeout(()=>{ti.isJsonRpcResult(n)?this.events.emit(fe.engineEvent("pairing_ping",s),{}):ti.isJsonRpcError(n)&&this.events.emit(fe.engineEvent("pairing_ping",s),{error:n.error})},500)},this.onPairingDeleteRequest=async(i,n)=>{let{id:s}=n;try{this.isValidDisconnect({topic:i}),await this.sendResult(s,i,!0),await this.deletePairing(i),this.events.emit("pairing_delete",{id:s,topic:i})}catch(o){await this.sendError(s,i,o),this.logger.error(o)}},this.onUnknownRpcMethodRequest=async(i,n)=>{let{id:s,method:o}=n;try{if(this.registeredMethods.includes(o))return;let a=fe.getSdkError("WC_METHOD_UNSUPPORTED",o);await this.sendError(s,i,a),this.logger.error(a)}catch(a){await this.sendError(s,i,a),this.logger.error(a)}},this.onUnknownRpcMethodResponse=i=>{this.registeredMethods.includes(i)||this.logger.error(fe.getSdkError("WC_METHOD_UNSUPPORTED",i))},this.isValidPair=i=>{if(!fe.isValidParams(i)){let{message:n}=fe.getInternalError("MISSING_OR_INVALID",`pair() params: ${i}`);throw new Error(n)}if(!fe.isValidUrl(i.uri)){let{message:n}=fe.getInternalError("MISSING_OR_INVALID",`pair() uri: ${i.uri}`);throw new Error(n)}},this.isValidPing=async i=>{if(!fe.isValidParams(i)){let{message:s}=fe.getInternalError("MISSING_OR_INVALID",`ping() params: ${i}`);throw new Error(s)}let{topic:n}=i;await this.isValidPairingTopic(n)},this.isValidDisconnect=async i=>{if(!fe.isValidParams(i)){let{message:s}=fe.getInternalError("MISSING_OR_INVALID",`disconnect() params: ${i}`);throw new Error(s)}let{topic:n}=i;await this.isValidPairingTopic(n)},this.isValidPairingTopic=async i=>{if(!fe.isValidString(i,!1)){let{message:n}=fe.getInternalError("MISSING_OR_INVALID",`pairing topic should be a string: ${i}`);throw new Error(n)}if(!this.pairings.keys.includes(i)){let{message:n}=fe.getInternalError("NO_MATCHING_KEY",`pairing topic doesn't exist: ${i}`);throw new Error(n)}if(fe.isExpired(this.pairings.get(i).expiry)){await this.deletePairing(i);let{message:n}=fe.getInternalError("EXPIRED",`pairing topic: ${i}`);throw new Error(n)}},this.core=e,this.logger=st.generateChildLogger(t,this.name),this.pairings=new Zd(this.core,this.logger,this.name,this.storagePrefix)}get context(){return st.getLoggerContext(this.logger)}isInitialized(){if(!this.initialized){let{message:e}=fe.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(lr.message,async e=>{let{topic:t,message:i}=e;if(this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(i)))return;let n=await this.core.crypto.decode(t,i);ti.isJsonRpcRequest(n)?(this.core.history.set(t,n),this.onRelayEventRequest({topic:t,payload:n})):ti.isJsonRpcResponse(n)&&(await this.core.history.resolve(n),this.onRelayEventResponse({topic:t,payload:n}))})}registerExpirerEvents(){this.core.expirer.on(Vr.expired,async e=>{let{topic:t}=fe.parseExpirerTarget(e.target);t&&this.pairings.keys.includes(t)&&(await this.deletePairing(t,!0),this.events.emit("pairing_expire",{topic:t}))})}},tp=class extends kn.IJsonRpcHistory{constructor(e,t){super(e,t),this.core=e,this.logger=t,this.records=new Map,this.events=new uo.EventEmitter,this.name=V3,this.version=H3,this.cached=[],this.initialized=!1,this.storagePrefix=cn,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(i=>this.records.set(i.id,i)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(i,n,s)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:i,request:n,chainId:s}),this.records.has(n.id))return;let o={id:n.id,topic:i,request:{method:n.method,params:n.params||null},chainId:s};this.records.set(o.id,o),this.events.emit(Zr.created,o)},this.resolve=async i=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:i}),!this.records.has(i.id))return;let n=await this.getRecord(i.id);typeof n.response>"u"&&(n.response=ti.isJsonRpcError(i)?{error:i.error}:{result:i.result},this.records.set(n.id,n),this.events.emit(Zr.updated,n))},this.get=async(i,n)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:i,id:n}),await this.getRecord(n)),this.delete=(i,n)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:n}),this.values.forEach(s=>{if(s.topic===i){if(typeof n<"u"&&s.id!==n)return;this.records.delete(s.id),this.events.emit(Zr.deleted,s)}})},this.exists=async(i,n)=>(this.isInitialized(),this.records.has(n)?(await this.getRecord(n)).topic===i:!1),this.on=(i,n)=>{this.events.on(i,n)},this.once=(i,n)=>{this.events.once(i,n)},this.off=(i,n)=>{this.events.off(i,n)},this.removeListener=(i,n)=>{this.events.removeListener(i,n)},this.logger=st.generateChildLogger(t,this.name)}get context(){return st.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){let e=[];return this.values.forEach(t=>{if(typeof t.response<"u")return;let i={topic:t.topic,request:ti.formatJsonRpcRequest(t.request.method,t.request.params,t.id),chainId:t.chainId};return e.push(i)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();let t=this.records.get(e);if(!t){let{message:i}=fe.getInternalError("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(i)}return t}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(Zr.sync)}async restore(){try{let e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){let{message:t}=fe.getInternalError("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(Zr.created,e=>{let t=Zr.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e}),this.persist()}),this.events.on(Zr.updated,e=>{let t=Zr.updated;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e}),this.persist()}),this.events.on(Zr.deleted,e=>{let t=Zr.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e}),this.persist()})}isInitialized(){if(!this.initialized){let{message:e}=fe.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}},rp=class extends kn.IExpirer{constructor(e,t){super(e,t),this.core=e,this.logger=t,this.expirations=new Map,this.events=new uo.EventEmitter,this.name=Q3,this.version=j3,this.cached=[],this.initialized=!1,this.storagePrefix=cn,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(i=>this.expirations.set(i.target,i)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=i=>{try{let n=this.formatTarget(i);return typeof this.getExpiration(n)<"u"}catch{return!1}},this.set=(i,n)=>{this.isInitialized();let s=this.formatTarget(i),o={target:s,expiry:n};this.expirations.set(s,o),this.checkExpiry(s,o),this.events.emit(Vr.created,{target:s,expiration:o})},this.get=i=>{this.isInitialized();let n=this.formatTarget(i);return this.getExpiration(n)},this.del=i=>{if(this.isInitialized(),this.has(i)){let n=this.formatTarget(i),s=this.getExpiration(n);this.expirations.delete(n),this.events.emit(Vr.deleted,{target:n,expiration:s})}},this.on=(i,n)=>{this.events.on(i,n)},this.once=(i,n)=>{this.events.once(i,n)},this.off=(i,n)=>{this.events.off(i,n)},this.removeListener=(i,n)=>{this.events.removeListener(i,n)},this.logger=st.generateChildLogger(t,this.name)}get context(){return st.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return fe.formatTopicTarget(e);if(typeof e=="number")return fe.formatIdTarget(e);let{message:t}=fe.getInternalError("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(t)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Vr.sync)}async restore(){try{let e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){let{message:t}=fe.getInternalError("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){let t=this.expirations.get(e);if(!t){let{message:i}=fe.getInternalError("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}return t}checkExpiry(e,t){let{expiry:i}=t;Ht.toMiliseconds(i)-Date.now()<=0&&this.expire(e,t)}expire(e,t){this.expirations.delete(e),this.events.emit(Vr.expired,{target:e,expiration:t})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,t)=>this.checkExpiry(t,e))}registerEventListeners(){this.core.heartbeat.on(ip.HEARTBEAT_EVENTS.pulse,()=>this.checkExpirations()),this.events.on(Vr.created,e=>{let t=Vr.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(Vr.expired,e=>{let t=Vr.expired;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(Vr.deleted,e=>{let t=Vr.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()})}isInitialized(){if(!this.initialized){let{message:e}=fe.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}},h9=Object.defineProperty,n3=Object.getOwnPropertySymbols,d9=Object.prototype.hasOwnProperty,p9=Object.prototype.propertyIsEnumerable,s3=(r,e,t)=>e in r?h9(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,o3=(r,e)=>{for(var t in e||(e={}))d9.call(e,t)&&s3(r,t,e[t]);if(n3)for(var t of n3(e))p9.call(e,t)&&s3(r,t,e[t]);return r},mu=class extends kn.ICore{constructor(e){super(e),this.protocol=Yw,this.version=w3,this.name=sp,this.events=new uo.EventEmitter,this.initialized=!1,this.on=(i,n)=>this.events.on(i,n),this.once=(i,n)=>this.events.once(i,n),this.off=(i,n)=>this.events.off(i,n),this.removeListener=(i,n)=>this.events.removeListener(i,n),this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||Jw;let t=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:a3.default(st.getDefaultLoggerOptions({level:e?.logger||v3.logger}));this.logger=st.generateChildLogger(t,this.name),this.heartbeat=new ip.HeartBeat,this.crypto=new $d(this,this.logger,e?.keychain),this.history=new tp(this,this.logger),this.expirer=new rp(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new NH.default(o3(o3({},E3),e?.storageOptions)),this.relayer=new Xd({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new ep(this,this.logger)}static async init(e){let t=new mu(e);return await t.initialize(),t}get context(){return st.getLoggerContext(this.logger)}async start(){this.initialized||await this.initialize()}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}},g9=mu;Ee.CORE_CONTEXT=sp,Ee.CORE_DEFAULT=v3,Ee.CORE_PROTOCOL=Yw,Ee.CORE_STORAGE_OPTIONS=E3,Ee.CORE_STORAGE_PREFIX=cn,Ee.CORE_VERSION=w3,Ee.CRYPTO_CLIENT_SEED=zw,Ee.CRYPTO_CONTEXT=A3,Ee.CRYPTO_JWT_TTL=I3,Ee.Core=g9,Ee.Crypto=$d,Ee.EXPIRER_CONTEXT=Q3,Ee.EXPIRER_DEFAULT_TTL=ZQ,Ee.EXPIRER_EVENTS=Vr,Ee.EXPIRER_STORAGE_VERSION=j3,Ee.Expirer=rp,Ee.HISTORY_CONTEXT=V3,Ee.HISTORY_EVENTS=Zr,Ee.HISTORY_STORAGE_VERSION=H3,Ee.JsonRpcHistory=tp,Ee.KEYCHAIN_CONTEXT=_3,Ee.KEYCHAIN_STORAGE_VERSION=b3,Ee.KeyChain=Wd,Ee.MESSAGES_CONTEXT=C3,Ee.MESSAGES_STORAGE_VERSION=S3,Ee.MessageTracker=Yd,Ee.PAIRING_CONTEXT=U3,Ee.PAIRING_DEFAULT_TTL=XQ,Ee.PAIRING_RPC_OPTS=yu,Ee.PAIRING_STORAGE_VERSION=q3,Ee.PENDING_SUB_RESOLUTION_TIMEOUT=F3,Ee.PUBLISHER_CONTEXT=T3,Ee.PUBLISHER_DEFAULT_TTL=x3,Ee.Pairing=ep,Ee.RELAYER_CONTEXT=O3,Ee.RELAYER_DEFAULT_LOGGER=D3,Ee.RELAYER_DEFAULT_PROTOCOL=N3,Ee.RELAYER_DEFAULT_RELAY_URL=Jw,Ee.RELAYER_EVENTS=lr,Ee.RELAYER_PROVIDER_EVENTS=sl,Ee.RELAYER_RECONNECT_TIMEOUT=kw,Ee.RELAYER_SDK_VERSION=B3,Ee.RELAYER_STORAGE_OPTIONS=YQ,Ee.RELAYER_SUBSCRIBER_SUFFIX=P3,Ee.Relayer=Xd,Ee.STORE_STORAGE_VERSION=M3,Ee.SUBSCRIBER_CONTEXT=R3,Ee.SUBSCRIBER_DEFAULT_TTL=JQ,Ee.SUBSCRIBER_EVENTS=ei,Ee.SUBSCRIBER_STORAGE_VERSION=L3,Ee.Store=Zd,Ee.Subscriber=Jd,Ee.default=mu});var eD=B(lt=>{"use strict";f();Object.defineProperty(lt,"__esModule",{value:!0});var y9=lh(),Wn=G3(),Xw=_m(),k3=Vm(),te=Ed(),W3=$s(),ft=Ys(),Qt=(Zc(),at(cr));function $3(r){return r&&typeof r=="object"&&"default"in r?r:{default:r}}var m9=$3(y9),w9=$3(W3),nv="wc",sv=2,ov="client",up=`${nv}@${sv}:${ov}:`,op={name:ov,logger:"error",controller:!1,relayUrl:"wss://relay.walletconnect.com"},v9={session_proposal:"session_proposal",session_update:"session_update",session_extend:"session_extend",session_ping:"session_ping",session_delete:"session_delete",session_expire:"session_expire",session_request:"session_request",session_request_sent:"session_request_sent",session_event:"session_event",proposal_expire:"proposal_expire"},E9={database:":memory:"},A9={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},I9="history",_9="0.3",Y3="proposal",b9=ft.THIRTY_DAYS,J3="session",ul=ft.SEVEN_DAYS,X3="engine",wu={wc_sessionPropose:{req:{ttl:ft.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:ft.FIVE_MINUTES,prompt:!1,tag:1101}},wc_sessionSettle:{req:{ttl:ft.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:ft.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:ft.ONE_DAY,prompt:!1,tag:1104},res:{ttl:ft.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:ft.ONE_DAY,prompt:!1,tag:1106},res:{ttl:ft.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:ft.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:ft.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:ft.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:ft.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:ft.ONE_DAY,prompt:!1,tag:1112},res:{ttl:ft.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:ft.THIRTY_SECONDS,prompt:!1,tag:1114},res:{ttl:ft.THIRTY_SECONDS,prompt:!1,tag:1115}}},ap={min:ft.FIVE_MINUTES,max:ft.SEVEN_DAYS},Z3="request",C9=Object.defineProperty,S9=Object.defineProperties,x9=Object.getOwnPropertyDescriptors,K3=Object.getOwnPropertySymbols,T9=Object.prototype.hasOwnProperty,N9=Object.prototype.propertyIsEnumerable,z3=(r,e,t)=>e in r?C9(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Hr=(r,e)=>{for(var t in e||(e={}))T9.call(e,t)&&z3(r,t,e[t]);if(K3)for(var t of K3(e))N9.call(e,t)&&z3(r,t,e[t]);return r},Zw=(r,e)=>S9(r,x9(e)),ev=class extends k3.IEngine{constructor(e){super(e),this.name=X3,this.events=new w9.default,this.initialized=!1,this.ignoredPayloadTypes=[te.TYPE_1],this.init=async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.client.core.pairing.register({methods:Object.keys(wu)}),this.initialized=!0)},this.connect=async t=>{this.isInitialized();let i=Zw(Hr({},t),{requiredNamespaces:t.requiredNamespaces||{},optionalNamespaces:t.optionalNamespaces||{}});await this.isValidConnect(i);let{pairingTopic:n,requiredNamespaces:s,optionalNamespaces:o,sessionProperties:a,relays:u}=i,h=n,p,A=!1;if(h&&(A=this.client.core.pairing.pairings.get(h).active),!h||!A){let{topic:Y,uri:j}=await this.client.core.pairing.create();h=Y,p=j}let D=await this.client.core.crypto.generateKeyPair(),O=Hr({requiredNamespaces:s,optionalNamespaces:o,relays:u??[{protocol:Wn.RELAYER_DEFAULT_PROTOCOL}],proposer:{publicKey:D,metadata:this.client.metadata}},a&&{sessionProperties:a}),{reject:T,resolve:V,done:z}=te.createDelayedPromise();if(this.events.once(te.engineEvent("session_connect"),async({error:Y,session:j})=>{if(Y)T(Y);else if(j){j.self.publicKey=D;let W=Zw(Hr({},j),{requiredNamespaces:j.requiredNamespaces,optionalNamespaces:j.optionalNamespaces});await this.client.session.set(j.topic,W),await this.setExpiry(j.topic,j.expiry),h&&await this.client.core.pairing.updateMetadata({topic:h,metadata:j.peer.metadata}),V(W)}}),!h){let{message:Y}=te.getInternalError("NO_MATCHING_KEY",`connect() pairing topic: ${h}`);throw new Error(Y)}let $=await this.sendRequest(h,"wc_sessionPropose",O),se=te.calcExpiry(ft.FIVE_MINUTES);return await this.setProposal($,Hr({id:$,expiry:se},O)),{uri:p,approval:z}},this.pair=async t=>(this.isInitialized(),await this.client.core.pairing.pair(t)),this.approve=async t=>{this.isInitialized(),await this.isValidApprove(t);let{id:i,relayProtocol:n,namespaces:s,sessionProperties:o}=t,a=this.client.proposal.get(i),{pairingTopic:u,proposer:h,requiredNamespaces:p,optionalNamespaces:A}=a;te.isValidObject(p)||(p=te.getRequiredNamespacesFromNamespaces(s,"approve()"));let D=await this.client.core.crypto.generateKeyPair(),O=h.publicKey,T=await this.client.core.crypto.generateSharedKey(D,O);u&&i&&(await this.client.core.pairing.updateMetadata({topic:u,metadata:h.metadata}),await this.sendResult(i,u,{relay:{protocol:n??"irn"},responderPublicKey:D}),await this.client.proposal.delete(i,te.getSdkError("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:u}));let V=Hr({relay:{protocol:n??"irn"},namespaces:s,requiredNamespaces:p,optionalNamespaces:A,controller:{publicKey:D,metadata:this.client.metadata},expiry:te.calcExpiry(ul)},o&&{sessionProperties:o});await this.client.core.relayer.subscribe(T);let z=await this.sendRequest(T,"wc_sessionSettle",V),{done:$,resolve:se,reject:Y}=te.createDelayedPromise();this.events.once(te.engineEvent("session_approve",z),({error:W})=>{W?Y(W):se(this.client.session.get(T))});let j=Zw(Hr({},V),{topic:T,acknowledged:!1,self:V.controller,peer:{publicKey:h.publicKey,metadata:h.metadata},controller:D});return await this.client.session.set(T,j),await this.setExpiry(T,te.calcExpiry(ul)),{topic:T,acknowledged:$}},this.reject=async t=>{this.isInitialized(),await this.isValidReject(t);let{id:i,reason:n}=t,{pairingTopic:s}=this.client.proposal.get(i);s&&(await this.sendError(i,s,n),await this.client.proposal.delete(i,te.getSdkError("USER_DISCONNECTED")))},this.update=async t=>{this.isInitialized(),await this.isValidUpdate(t);let{topic:i,namespaces:n}=t,s=await this.sendRequest(i,"wc_sessionUpdate",{namespaces:n}),{done:o,resolve:a,reject:u}=te.createDelayedPromise();return this.events.once(te.engineEvent("session_update",s),({error:h})=>{h?u(h):a()}),await this.client.session.update(i,{namespaces:n}),{acknowledged:o}},this.extend=async t=>{this.isInitialized(),await this.isValidExtend(t);let{topic:i}=t,n=await this.sendRequest(i,"wc_sessionExtend",{}),{done:s,resolve:o,reject:a}=te.createDelayedPromise();return this.events.once(te.engineEvent("session_extend",n),({error:u})=>{u?a(u):o()}),await this.setExpiry(i,te.calcExpiry(ul)),{acknowledged:s}},this.request=async t=>{this.isInitialized(),await this.isValidRequest(t);let{chainId:i,request:n,topic:s,expiry:o}=t,a=await this.sendRequest(s,"wc_sessionRequest",{request:n,chainId:i},o),{done:u,resolve:h,reject:p}=te.createDelayedPromise(o);return this.events.once(te.engineEvent("session_request",a),({error:A,result:D})=>{A?p(A):h(D)}),this.client.events.emit("session_request_sent",{topic:s,request:n,chainId:i}),await u()},this.respond=async t=>{this.isInitialized(),await this.isValidRespond(t);let{topic:i,response:n}=t,{id:s}=n;Qt.isJsonRpcResult(n)?await this.sendResult(s,i,n.result):Qt.isJsonRpcError(n)&&await this.sendError(s,i,n.error),this.deletePendingSessionRequest(t.response.id,{message:"fulfilled",code:0})},this.ping=async t=>{this.isInitialized(),await this.isValidPing(t);let{topic:i}=t;if(this.client.session.keys.includes(i)){let n=await this.sendRequest(i,"wc_sessionPing",{}),{done:s,resolve:o,reject:a}=te.createDelayedPromise();this.events.once(te.engineEvent("session_ping",n),({error:u})=>{u?a(u):o()}),await s()}else this.client.core.pairing.pairings.keys.includes(i)&&await this.client.core.pairing.ping({topic:i})},this.emit=async t=>{this.isInitialized(),await this.isValidEmit(t);let{topic:i,event:n,chainId:s}=t;await this.sendRequest(i,"wc_sessionEvent",{event:n,chainId:s})},this.disconnect=async t=>{this.isInitialized(),await this.isValidDisconnect(t);let{topic:i}=t;this.client.session.keys.includes(i)?(await this.sendRequest(i,"wc_sessionDelete",te.getSdkError("USER_DISCONNECTED")),await this.deleteSession(i)):await this.client.core.pairing.disconnect({topic:i})},this.find=t=>(this.isInitialized(),this.client.session.getAll().filter(i=>te.isSessionCompatible(i,t))),this.getPendingSessionRequests=()=>(this.isInitialized(),this.client.pendingRequest.getAll()),this.deleteSession=async(t,i)=>{let{self:n}=this.client.session.get(t);await this.client.core.relayer.unsubscribe(t),await Promise.all([this.client.session.delete(t,te.getSdkError("USER_DISCONNECTED")),this.client.core.crypto.deleteKeyPair(n.publicKey),this.client.core.crypto.deleteSymKey(t),i?Promise.resolve():this.client.core.expirer.del(t)])},this.deleteProposal=async(t,i)=>{await Promise.all([this.client.proposal.delete(t,te.getSdkError("USER_DISCONNECTED")),i?Promise.resolve():this.client.core.expirer.del(t)])},this.deletePendingSessionRequest=async(t,i,n=!1)=>{await Promise.all([this.client.pendingRequest.delete(t,i),n?Promise.resolve():this.client.core.expirer.del(t)])},this.setExpiry=async(t,i)=>{this.client.session.keys.includes(t)&&await this.client.session.update(t,{expiry:i}),this.client.core.expirer.set(t,i)},this.setProposal=async(t,i)=>{await this.client.proposal.set(t,i),this.client.core.expirer.set(t,i.expiry)},this.setPendingSessionRequest=async t=>{let i=wu.wc_sessionRequest.req.ttl,{id:n,topic:s,params:o}=t;await this.client.pendingRequest.set(n,{id:n,topic:s,params:o}),i&&this.client.core.expirer.set(n,te.calcExpiry(i))},this.sendRequest=async(t,i,n,s)=>{let o=Qt.formatJsonRpcRequest(i,n),a=await this.client.core.crypto.encode(t,o),u=wu[i].req;return s&&(u.ttl=s),this.client.core.history.set(t,o),this.client.core.relayer.publish(t,a,u),o.id},this.sendResult=async(t,i,n)=>{let s=Qt.formatJsonRpcResult(t,n),o=await this.client.core.crypto.encode(i,s),a=await this.client.core.history.get(i,t),u=wu[a.request.method].res;this.client.core.relayer.publish(i,o,u),await this.client.core.history.resolve(s)},this.sendError=async(t,i,n)=>{let s=Qt.formatJsonRpcError(t,n),o=await this.client.core.crypto.encode(i,s),a=await this.client.core.history.get(i,t),u=wu[a.request.method].res;this.client.core.relayer.publish(i,o,u),await this.client.core.history.resolve(s)},this.cleanup=async()=>{let t=[],i=[];this.client.session.getAll().forEach(n=>{te.isExpired(n.expiry)&&t.push(n.topic)}),this.client.proposal.getAll().forEach(n=>{te.isExpired(n.expiry)&&i.push(n.id)}),await Promise.all([...t.map(n=>this.deleteSession(n)),...i.map(n=>this.deleteProposal(n))])},this.onRelayEventRequest=t=>{let{topic:i,payload:n}=t,s=n.method;switch(s){case"wc_sessionPropose":return this.onSessionProposeRequest(i,n);case"wc_sessionSettle":return this.onSessionSettleRequest(i,n);case"wc_sessionUpdate":return this.onSessionUpdateRequest(i,n);case"wc_sessionExtend":return this.onSessionExtendRequest(i,n);case"wc_sessionPing":return this.onSessionPingRequest(i,n);case"wc_sessionDelete":return this.onSessionDeleteRequest(i,n);case"wc_sessionRequest":return this.onSessionRequest(i,n);case"wc_sessionEvent":return this.onSessionEventRequest(i,n);default:return this.client.logger.info(`Unsupported request method ${s}`)}},this.onRelayEventResponse=async t=>{let{topic:i,payload:n}=t,s=(await this.client.core.history.get(i,n.id)).request.method;switch(s){case"wc_sessionPropose":return this.onSessionProposeResponse(i,n);case"wc_sessionSettle":return this.onSessionSettleResponse(i,n);case"wc_sessionUpdate":return this.onSessionUpdateResponse(i,n);case"wc_sessionExtend":return this.onSessionExtendResponse(i,n);case"wc_sessionPing":return this.onSessionPingResponse(i,n);case"wc_sessionRequest":return this.onSessionRequestResponse(i,n);default:return this.client.logger.info(`Unsupported response method ${s}`)}},this.onSessionProposeRequest=async(t,i)=>{let{params:n,id:s}=i;try{this.isValidConnect(Hr({},i.params));let o=te.calcExpiry(ft.FIVE_MINUTES),a=Hr({id:s,pairingTopic:t,expiry:o},n);await this.setProposal(s,a),this.client.events.emit("session_proposal",{id:s,params:a})}catch(o){await this.sendError(s,t,o),this.client.logger.error(o)}},this.onSessionProposeResponse=async(t,i)=>{let{id:n}=i;if(Qt.isJsonRpcResult(i)){let{result:s}=i;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:s});let o=this.client.proposal.get(n);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:o});let a=o.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:a});let u=s.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:u});let h=await this.client.core.crypto.generateSharedKey(a,u);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:h});let p=await this.client.core.relayer.subscribe(h);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:p}),await this.client.core.pairing.activate({topic:t})}else Qt.isJsonRpcError(i)&&(await this.client.proposal.delete(n,te.getSdkError("USER_DISCONNECTED")),this.events.emit(te.engineEvent("session_connect"),{error:i.error}))},this.onSessionSettleRequest=async(t,i)=>{let{id:n,params:s}=i;try{this.isValidSessionSettleRequest(s);let{relay:o,controller:a,expiry:u,namespaces:h,requiredNamespaces:p,optionalNamespaces:A,sessionProperties:D}=i.params,O=Hr({topic:t,relay:o,expiry:u,namespaces:h,acknowledged:!0,requiredNamespaces:p,optionalNamespaces:A,controller:a.publicKey,self:{publicKey:"",metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},D&&{sessionProperties:D});await this.sendResult(i.id,t,!0),this.events.emit(te.engineEvent("session_connect"),{session:O})}catch(o){await this.sendError(n,t,o),this.client.logger.error(o)}},this.onSessionSettleResponse=async(t,i)=>{let{id:n}=i;Qt.isJsonRpcResult(i)?(await this.client.session.update(t,{acknowledged:!0}),this.events.emit(te.engineEvent("session_approve",n),{})):Qt.isJsonRpcError(i)&&(await this.client.session.delete(t,te.getSdkError("USER_DISCONNECTED")),this.events.emit(te.engineEvent("session_approve",n),{error:i.error}))},this.onSessionUpdateRequest=async(t,i)=>{let{params:n,id:s}=i;try{this.isValidUpdate(Hr({topic:t},n)),await this.client.session.update(t,{namespaces:n.namespaces}),await this.sendResult(s,t,!0),this.client.events.emit("session_update",{id:s,topic:t,params:n})}catch(o){await this.sendError(s,t,o),this.client.logger.error(o)}},this.onSessionUpdateResponse=(t,i)=>{let{id:n}=i;Qt.isJsonRpcResult(i)?this.events.emit(te.engineEvent("session_update",n),{}):Qt.isJsonRpcError(i)&&this.events.emit(te.engineEvent("session_update",n),{error:i.error})},this.onSessionExtendRequest=async(t,i)=>{let{id:n}=i;try{this.isValidExtend({topic:t}),await this.setExpiry(t,te.calcExpiry(ul)),await this.sendResult(n,t,!0),this.client.events.emit("session_extend",{id:n,topic:t})}catch(s){await this.sendError(n,t,s),this.client.logger.error(s)}},this.onSessionExtendResponse=(t,i)=>{let{id:n}=i;Qt.isJsonRpcResult(i)?this.events.emit(te.engineEvent("session_extend",n),{}):Qt.isJsonRpcError(i)&&this.events.emit(te.engineEvent("session_extend",n),{error:i.error})},this.onSessionPingRequest=async(t,i)=>{let{id:n}=i;try{this.isValidPing({topic:t}),await this.sendResult(n,t,!0),this.client.events.emit("session_ping",{id:n,topic:t})}catch(s){await this.sendError(n,t,s),this.client.logger.error(s)}},this.onSessionPingResponse=(t,i)=>{let{id:n}=i;setTimeout(()=>{Qt.isJsonRpcResult(i)?this.events.emit(te.engineEvent("session_ping",n),{}):Qt.isJsonRpcError(i)&&this.events.emit(te.engineEvent("session_ping",n),{error:i.error})},500)},this.onSessionDeleteRequest=async(t,i)=>{let{id:n}=i;try{this.isValidDisconnect({topic:t,reason:i.params}),this.client.core.relayer.once(Wn.RELAYER_EVENTS.publish,async()=>{await this.deleteSession(t)}),await this.sendResult(n,t,!0),this.client.events.emit("session_delete",{id:n,topic:t})}catch(s){await this.sendError(n,t,s),this.client.logger.error(s)}},this.onSessionRequest=async(t,i)=>{let{id:n,params:s}=i;try{this.isValidRequest(Hr({topic:t},s)),await this.setPendingSessionRequest({id:n,topic:t,params:s}),this.client.events.emit("session_request",{id:n,topic:t,params:s})}catch(o){await this.sendError(n,t,o),this.client.logger.error(o)}},this.onSessionRequestResponse=(t,i)=>{let{id:n}=i;Qt.isJsonRpcResult(i)?this.events.emit(te.engineEvent("session_request",n),{result:i.result}):Qt.isJsonRpcError(i)&&this.events.emit(te.engineEvent("session_request",n),{error:i.error})},this.onSessionEventRequest=async(t,i)=>{let{id:n,params:s}=i;try{this.isValidEmit(Hr({topic:t},s)),this.client.events.emit("session_event",{id:n,topic:t,params:s})}catch(o){await this.sendError(n,t,o),this.client.logger.error(o)}},this.isValidConnect=async t=>{if(!te.isValidParams(t)){let{message:u}=te.getInternalError("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(t)}`);throw new Error(u)}let{pairingTopic:i,requiredNamespaces:n,optionalNamespaces:s,sessionProperties:o,relays:a}=t;if(te.isUndefined(i)||await this.isValidPairingTopic(i),!te.isValidRelays(a,!0)){let{message:u}=te.getInternalError("MISSING_OR_INVALID",`connect() relays: ${a}`);throw new Error(u)}!te.isUndefined(n)&&te.isValidObject(n)!==0&&this.validateNamespaces(n,"requiredNamespaces"),!te.isUndefined(s)&&te.isValidObject(s)!==0&&this.validateNamespaces(s,"optionalNamespaces"),te.isUndefined(o)||this.validateSessionProps(o,"sessionProperties")},this.validateNamespaces=(t,i)=>{let n=te.isValidRequiredNamespaces(t,"connect()",i);if(n)throw new Error(n.message)},this.isValidApprove=async t=>{if(!te.isValidParams(t))throw new Error(te.getInternalError("MISSING_OR_INVALID",`approve() params: ${t}`).message);let{id:i,namespaces:n,relayProtocol:s,sessionProperties:o}=t;await this.isValidProposalId(i);let a=this.client.proposal.get(i),u=te.isValidNamespaces(n,"approve()");if(u)throw new Error(u.message);let h=te.isConformingNamespaces(a.requiredNamespaces,n,"approve()","requiredNamespaces");if(h)throw new Error(h.message);if(!te.isValidString(s,!0)){let{message:p}=te.getInternalError("MISSING_OR_INVALID",`approve() relayProtocol: ${s}`);throw new Error(p)}if(Object.keys(n).length>Object.keys(a.requiredNamespaces).length){let p=Object.keys(a.optionalNamespaces).filter(O=>n[O]),A={};for(let O in a.optionalNamespaces)p.includes(O)&&(A[O]=a.optionalNamespaces[O]);let D=te.isConformingNamespaces(A,n,"approve()","optionalNamespaces");if(D)throw new Error(D.message)}te.isUndefined(o)||this.validateSessionProps(o,"sessionProperties")},this.isValidReject=async t=>{if(!te.isValidParams(t)){let{message:s}=te.getInternalError("MISSING_OR_INVALID",`reject() params: ${t}`);throw new Error(s)}let{id:i,reason:n}=t;if(await this.isValidProposalId(i),!te.isValidErrorReason(n)){let{message:s}=te.getInternalError("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(n)}`);throw new Error(s)}},this.isValidSessionSettleRequest=t=>{if(!te.isValidParams(t)){let{message:h}=te.getInternalError("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${t}`);throw new Error(h)}let{relay:i,controller:n,namespaces:s,expiry:o}=t;if(!te.isValidRelay(i)){let{message:h}=te.getInternalError("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(h)}let a=te.isValidController(n,"onSessionSettleRequest()");if(a)throw new Error(a.message);let u=te.isValidNamespaces(s,"onSessionSettleRequest()");if(u)throw new Error(u.message);if(te.isExpired(o)){let{message:h}=te.getInternalError("EXPIRED","onSessionSettleRequest()");throw new Error(h)}},this.isValidUpdate=async t=>{if(!te.isValidParams(t)){let{message:u}=te.getInternalError("MISSING_OR_INVALID",`update() params: ${t}`);throw new Error(u)}let{topic:i,namespaces:n}=t;await this.isValidSessionTopic(i);let s=this.client.session.get(i),o=te.isValidNamespaces(n,"update()");if(o)throw new Error(o.message);let a=te.isConformingNamespaces(s.requiredNamespaces,n,"update()","requiredNamespaces");if(a)throw new Error(a.message)},this.isValidExtend=async t=>{if(!te.isValidParams(t)){let{message:n}=te.getInternalError("MISSING_OR_INVALID",`extend() params: ${t}`);throw new Error(n)}let{topic:i}=t;await this.isValidSessionTopic(i)},this.isValidRequest=async t=>{if(!te.isValidParams(t)){let{message:u}=te.getInternalError("MISSING_OR_INVALID",`request() params: ${t}`);throw new Error(u)}let{topic:i,request:n,chainId:s,expiry:o}=t;await this.isValidSessionTopic(i);let{namespaces:a}=this.client.session.get(i);if(!te.isValidNamespacesChainId(a,s)){let{message:u}=te.getInternalError("MISSING_OR_INVALID",`request() chainId: ${s}`);throw new Error(u)}if(!te.isValidRequest(n)){let{message:u}=te.getInternalError("MISSING_OR_INVALID",`request() ${JSON.stringify(n)}`);throw new Error(u)}if(!te.isValidNamespacesRequest(a,s,n.method)){let{message:u}=te.getInternalError("MISSING_OR_INVALID",`request() method: ${n.method}`);throw new Error(u)}if(o&&!te.isValidRequestExpiry(o,ap)){let{message:u}=te.getInternalError("MISSING_OR_INVALID",`request() expiry: ${o}. Expiry must be a number (in seconds) between ${ap.min} and ${ap.max}`);throw new Error(u)}},this.isValidRespond=async t=>{if(!te.isValidParams(t)){let{message:s}=te.getInternalError("MISSING_OR_INVALID",`respond() params: ${t}`);throw new Error(s)}let{topic:i,response:n}=t;if(await this.isValidSessionTopic(i),!te.isValidResponse(n)){let{message:s}=te.getInternalError("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(n)}`);throw new Error(s)}},this.isValidPing=async t=>{if(!te.isValidParams(t)){let{message:n}=te.getInternalError("MISSING_OR_INVALID",`ping() params: ${t}`);throw new Error(n)}let{topic:i}=t;await this.isValidSessionOrPairingTopic(i)},this.isValidEmit=async t=>{if(!te.isValidParams(t)){let{message:a}=te.getInternalError("MISSING_OR_INVALID",`emit() params: ${t}`);throw new Error(a)}let{topic:i,event:n,chainId:s}=t;await this.isValidSessionTopic(i);let{namespaces:o}=this.client.session.get(i);if(!te.isValidNamespacesChainId(o,s)){let{message:a}=te.getInternalError("MISSING_OR_INVALID",`emit() chainId: ${s}`);throw new Error(a)}if(!te.isValidEvent(n)){let{message:a}=te.getInternalError("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(n)}`);throw new Error(a)}if(!te.isValidNamespacesEvent(o,s,n.name)){let{message:a}=te.getInternalError("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(n)}`);throw new Error(a)}},this.isValidDisconnect=async t=>{if(!te.isValidParams(t)){let{message:n}=te.getInternalError("MISSING_OR_INVALID",`disconnect() params: ${t}`);throw new Error(n)}let{topic:i}=t;await this.isValidSessionOrPairingTopic(i)},this.validateSessionProps=(t,i)=>{Object.values(t).forEach(n=>{if(!te.isValidString(n,!1)){let{message:s}=te.getInternalError("MISSING_OR_INVALID",`${i} must be in Record<string, string> format. Received: ${JSON.stringify(n)}`);throw new Error(s)}})}}isInitialized(){if(!this.initialized){let{message:e}=te.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.client.core.relayer.on(Wn.RELAYER_EVENTS.message,async e=>{let{topic:t,message:i}=e;if(this.ignoredPayloadTypes.includes(this.client.core.crypto.getPayloadType(i)))return;let n=await this.client.core.crypto.decode(t,i);Qt.isJsonRpcRequest(n)?(this.client.core.history.set(t,n),this.onRelayEventRequest({topic:t,payload:n})):Qt.isJsonRpcResponse(n)&&(await this.client.core.history.resolve(n),this.onRelayEventResponse({topic:t,payload:n}))})}registerExpirerEvents(){this.client.core.expirer.on(Wn.EXPIRER_EVENTS.expired,async e=>{let{topic:t,id:i}=te.parseExpirerTarget(e.target);if(i&&this.client.pendingRequest.keys.includes(i))return await this.deletePendingSessionRequest(i,te.getInternalError("EXPIRED"),!0);t?this.client.session.keys.includes(t)&&(await this.deleteSession(t,!0),this.client.events.emit("session_expire",{topic:t})):i&&(await this.deleteProposal(i,!0),this.client.events.emit("proposal_expire",{id:i}))})}isValidPairingTopic(e){if(!te.isValidString(e,!1)){let{message:t}=te.getInternalError("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(t)}if(!this.client.core.pairing.pairings.keys.includes(e)){let{message:t}=te.getInternalError("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(t)}if(te.isExpired(this.client.core.pairing.pairings.get(e).expiry)){let{message:t}=te.getInternalError("EXPIRED",`pairing topic: ${e}`);throw new Error(t)}}async isValidSessionTopic(e){if(!te.isValidString(e,!1)){let{message:t}=te.getInternalError("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(t)}if(!this.client.session.keys.includes(e)){let{message:t}=te.getInternalError("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(t)}if(te.isExpired(this.client.session.get(e).expiry)){await this.deleteSession(e);let{message:t}=te.getInternalError("EXPIRED",`session topic: ${e}`);throw new Error(t)}}async isValidSessionOrPairingTopic(e){if(this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(te.isValidString(e,!1)){let{message:t}=te.getInternalError("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(t)}else{let{message:t}=te.getInternalError("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(t)}}async isValidProposalId(e){if(!te.isValidId(e)){let{message:t}=te.getInternalError("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(t)}if(!this.client.proposal.keys.includes(e)){let{message:t}=te.getInternalError("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(t)}if(te.isExpired(this.client.proposal.get(e).expiry)){await this.deleteProposal(e);let{message:t}=te.getInternalError("EXPIRED",`proposal id: ${e}`);throw new Error(t)}}},tv=class extends Wn.Store{constructor(e,t){super(e,t,Y3,up),this.core=e,this.logger=t}},rv=class extends Wn.Store{constructor(e,t){super(e,t,J3,up),this.core=e,this.logger=t}},iv=class extends Wn.Store{constructor(e,t){super(e,t,Z3,up),this.core=e,this.logger=t}},vu=class extends k3.ISignClient{constructor(e){super(e),this.protocol=nv,this.version=sv,this.name=op.name,this.events=new W3.EventEmitter,this.on=(i,n)=>this.events.on(i,n),this.once=(i,n)=>this.events.once(i,n),this.off=(i,n)=>this.events.off(i,n),this.removeListener=(i,n)=>this.events.removeListener(i,n),this.removeAllListeners=i=>this.events.removeAllListeners(i),this.connect=async i=>{try{return await this.engine.connect(i)}catch(n){throw this.logger.error(n.message),n}},this.pair=async i=>{try{return await this.engine.pair(i)}catch(n){throw this.logger.error(n.message),n}},this.approve=async i=>{try{return await this.engine.approve(i)}catch(n){throw this.logger.error(n.message),n}},this.reject=async i=>{try{return await this.engine.reject(i)}catch(n){throw this.logger.error(n.message),n}},this.update=async i=>{try{return await this.engine.update(i)}catch(n){throw this.logger.error(n.message),n}},this.extend=async i=>{try{return await this.engine.extend(i)}catch(n){throw this.logger.error(n.message),n}},this.request=async i=>{try{return await this.engine.request(i)}catch(n){throw this.logger.error(n.message),n}},this.respond=async i=>{try{return await this.engine.respond(i)}catch(n){throw this.logger.error(n.message),n}},this.ping=async i=>{try{return await this.engine.ping(i)}catch(n){throw this.logger.error(n.message),n}},this.emit=async i=>{try{return await this.engine.emit(i)}catch(n){throw this.logger.error(n.message),n}},this.disconnect=async i=>{try{return await this.engine.disconnect(i)}catch(n){throw this.logger.error(n.message),n}},this.find=i=>{try{return this.engine.find(i)}catch(n){throw this.logger.error(n.message),n}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(i){throw this.logger.error(i.message),i}},this.name=e?.name||op.name,this.metadata=e?.metadata||te.getAppMetadata();let t=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:m9.default(Xw.getDefaultLoggerOptions({level:e?.logger||op.logger}));this.core=e?.core||new Wn.Core(e),this.logger=Xw.generateChildLogger(t,this.name),this.session=new rv(this.core,this.logger),this.proposal=new tv(this.core,this.logger),this.pendingRequest=new iv(this.core,this.logger),this.engine=new ev(this)}static async init(e){let t=new vu(e);return await t.initialize(),t}get context(){return Xw.getLoggerContext(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}},D9=vu;lt.ENGINE_CONTEXT=X3,lt.ENGINE_RPC_OPTS=wu,lt.HISTORY_CONTEXT=I9,lt.HISTORY_EVENTS=A9,lt.HISTORY_STORAGE_VERSION=_9,lt.PROPOSAL_CONTEXT=Y3,lt.PROPOSAL_EXPIRY=b9,lt.REQUEST_CONTEXT=Z3,lt.SESSION_CONTEXT=J3,lt.SESSION_EXPIRY=ul,lt.SESSION_REQUEST_EXPIRY_BOUNDARIES=ap,lt.SIGN_CLIENT_CONTEXT=ov,lt.SIGN_CLIENT_DEFAULT=op,lt.SIGN_CLIENT_EVENTS=v9,lt.SIGN_CLIENT_PROTOCOL=nv,lt.SIGN_CLIENT_STORAGE_OPTIONS=E9,lt.SIGN_CLIENT_STORAGE_PREFIX=up,lt.SIGN_CLIENT_VERSION=sv,lt.SignClient=D9,lt.default=vu});var tD=B(Mi=>{"use strict";f();Object.defineProperty(Mi,"__esModule",{value:!0});Mi.WALLETCONNECT_OLD_METHOD_PREFIX=Mi.WALLETCONNECT_OLD_NAMESPACE=Mi.WALLETCONNECT_MULTIVERSX_NAMESPACE=Mi.WALLETCONNECT_MULTIVERSX_CHAIN_ID=void 0;Mi.WALLETCONNECT_MULTIVERSX_CHAIN_ID=508;Mi.WALLETCONNECT_MULTIVERSX_NAMESPACE="multiversx";Mi.WALLETCONNECT_OLD_NAMESPACE="elrond";Mi.WALLETCONNECT_OLD_METHOD_PREFIX="erd"});var rD=B($n=>{"use strict";f();Object.defineProperty($n,"__esModule",{value:!0});$n.OldOperation=$n.Operation=void 0;var O9;(function(r){r.SIGN_TRANSACTION="multiversx_signTransaction",r.SIGN_TRANSACTIONS="multiversx_signTransactions",r.SIGN_MESSAGE="multiversx_signMessage",r.SIGN_LOGIN_TOKEN="multiversx_signLoginToken"})(O9=$n.Operation||($n.Operation={}));var P9;(function(r){r.SIGN_TRANSACTION="erd_signTransaction",r.SIGN_TRANSACTIONS="erd_signTransactions",r.SIGN_MESSAGE="erd_signMessage",r.SIGN_LOGIN_TOKEN="erd_signLoginToken"})(P9=$n.OldOperation||($n.OldOperation={}))});var iD=B(cp=>{"use strict";f();Object.defineProperty(cp,"__esModule",{value:!0});cp.Logger=void 0;var av=class{static error(e){console.error(e)}static trace(e){console.trace(e)}};cp.Logger=av});var nD=B(Eu=>{"use strict";f();Object.defineProperty(Eu,"__esModule",{value:!0});Eu.Signature=Eu.Address=void 0;var uv=class{constructor(e){this.value=e}bech32(){return this.value}};Eu.Address=uv;var cl=class{constructor(e){this.buffer=e}static fromHex(e){return new cl(y.Buffer.from(e,"hex"))}hex(){return this.buffer.toString("hex")}};Eu.Signature=cl});var fv=B(ri=>{"use strict";f();Object.defineProperty(ri,"__esModule",{value:!0});ri.WalletConnectV2ProviderErrorMessagesEnum=ri.ErrBadAddress=ri.ErrNotImplemented=ri.Err=void 0;var ll=class extends Error{constructor(e,t){super(e),this.inner=void 0,this.inner=t}};ri.Err=ll;var cv=class extends ll{constructor(){super("Method not yet implemented")}};ri.ErrNotImplemented=cv;var lv=class extends ll{constructor(e,t){super(`Bad address: ${e}`,t)}};ri.ErrBadAddress=lv;var B9;(function(r){r.unableToInit="WalletConnect is unable to init",r.notInitialized="WalletConnect is not initialized",r.unableToConnect="WalletConnect is unable to connect",r.unableToConnectExisting="WalletConnect is unable to connect to existing pairing",r.unableToSignLoginToken="WalletConnect could not sign login token",r.unableToLogin="WalletConnect is unable to login",r.unableToHandleTopic="WalletConnect: Unable to handle topic update",r.unableToHandleEvent="WalletConnect: Unable to handle events",r.sessionNotConnected="WalletConnect Session is not connected",r.sessionDeleted="WalletConnect Session Deleted",r.sessionExpired="WalletConnect Session Expired",r.alreadyLoggedOut="WalletConnect: Already logged out",r.pingFailed="WalletConnect Ping Failed",r.invalidAddress="WalletConnect: Invalid address",r.requestDifferentChain="WalletConnect: Request Chain Id different than Connection Chain Id",r.invalidMessageResponse="WalletConnect could not sign the message",r.invalidMessageSignature="WalletConnect: Invalid message signature",r.invalidTransactionResponse="WalletConnect could not sign the transactions. Invalid signatures",r.invalidCustomRequestResponse="WalletConnect could not send the custom request",r.transactionError="Transaction canceled",r.connectionError="WalletConnect could not establish a connection"})(B9=ri.WalletConnectV2ProviderErrorMessagesEnum||(ri.WalletConnectV2ProviderErrorMessagesEnum={}))});var oD=B(Ri=>{"use strict";f();var M9=Ri&&Ri.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),R9=Ri&&Ri.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),L9=Ri&&Ri.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&M9(e,r,t);return R9(e,r),e};Object.defineProperty(Ri,"__esModule",{value:!0});Ri.UserAddress=void 0;var F9=L9(kl()),sD=fv(),U9="erd",fl=class{constructor(e){this.value=e}static fromBech32(e){let t;try{t=F9.decode(e)}catch(i){throw new sD.ErrBadAddress(e,i)}if(t.prefix!=U9)throw new sD.ErrBadAddress(e);return new fl(e)}bech32(){return this.value}};Ri.UserAddress=fl});var dl=B(Fi=>{"use strict";f();var Yt=Fi&&Fi.__awaiter||function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(p){try{h(i.next(p))}catch(A){o(A)}}function u(p){try{h(i.throw(p))}catch(A){o(A)}}function h(p){p.done?s(p.value):n(p.value).then(a,u)}h((i=i.apply(r,e||[])).next())})},q9=Fi&&Fi.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Fi,"__esModule",{value:!0});Fi.WalletConnectV2Provider=Fi.WalletConnectV2ProviderErrorMessagesEnum=void 0;var V9=q9(eD()),aD=Ed(),Ke=tD(),Li=rD(),Le=iD(),hl=nD(),pe=fv();Object.defineProperty(Fi,"WalletConnectV2ProviderErrorMessagesEnum",{enumerable:!0,get:function(){return pe.WalletConnectV2ProviderErrorMessagesEnum}});var lp=oD(),hv=class{constructor(e,t,i,n,s){this.chainId="",this.address="",this.signature="",this.namespace=Ke.WALLETCONNECT_OLD_NAMESPACE,this.isInitializing=!1,this.events=[],this.methods=[],this.options={},this.onClientConnect=e,this.chainId=t,this.walletConnectV2Relay=i,this.walletConnectV2ProjectId=n,this.options=s}reset(){this.address="",this.signature="",this.namespace=Ke.WALLETCONNECT_OLD_NAMESPACE,this.session=void 0}init(){return Yt(this,void 0,void 0,function*(){if(this.isInitialized())return this.isInitialized();try{this.reset();let e=yield V9.default.init(Object.assign({relayUrl:this.walletConnectV2Relay,projectId:this.walletConnectV2ProjectId},this.options));this.walletConnector=e,yield this.subscribeToEvents(e),yield this.checkPersistedState(e)}catch{throw new Error(pe.WalletConnectV2ProviderErrorMessagesEnum.unableToInit)}finally{return this.isInitializing=!1,this.isInitialized()}})}isInitialized(){return!!this.walletConnector&&!this.isInitializing}isConnected(){return new Promise((e,t)=>e(Boolean(this.isInitialized()&&typeof this.session<"u")))}connect(e){var t;return Yt(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u"&&(yield this.init()),typeof this.walletConnector>"u")throw new Error(pe.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);let i=[...Object.values(Li.Operation),...e?.methods?e.methods.filter(u=>u.startsWith(Ke.WALLETCONNECT_MULTIVERSX_NAMESPACE)):[]],n=[...Object.values(Li.OldOperation),...e?.methods?e.methods.filter(u=>u.startsWith(Ke.WALLETCONNECT_OLD_METHOD_PREFIX)):[]],s=[`${Ke.WALLETCONNECT_MULTIVERSX_NAMESPACE}:${this.chainId}`],o=[`${Ke.WALLETCONNECT_OLD_NAMESPACE}:${this.chainId}`],a=(t=e?.events)!==null&&t!==void 0?t:[];try{let u=yield this.walletConnector.connect({pairingTopic:e?.topic,requiredNamespaces:{[Ke.WALLETCONNECT_OLD_NAMESPACE]:{methods:n,chains:o,events:a}},optionalNamespaces:{[Ke.WALLETCONNECT_MULTIVERSX_NAMESPACE]:{methods:i,chains:s,events:a}}});return this.events=a,this.methods=i,u}catch{throw e?.topic?(yield this.logout({topic:e.topic}),Le.Logger.error(pe.WalletConnectV2ProviderErrorMessagesEnum.unableToConnectExisting),new Error(pe.WalletConnectV2ProviderErrorMessagesEnum.unableToConnectExisting)):(Le.Logger.error(pe.WalletConnectV2ProviderErrorMessagesEnum.unableToConnect),new Error(pe.WalletConnectV2ProviderErrorMessagesEnum.unableToConnect))}})}login(e){var t,i;return Yt(this,void 0,void 0,function*(){if(this.isInitializing=!0,typeof this.walletConnector>"u"&&(yield this.connect()),typeof this.walletConnector>"u")throw new Error(pe.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);typeof this.session<"u"&&(yield this.logout());try{if(e&&e.approval){let n=yield e.approval();if(!((t=n?.namespaces)===null||t===void 0)&&t[Ke.WALLETCONNECT_OLD_NAMESPACE]&&(this.namespace=Ke.WALLETCONNECT_OLD_NAMESPACE),!((i=n?.namespaces)===null||i===void 0)&&i[Ke.WALLETCONNECT_MULTIVERSX_NAMESPACE]&&(this.namespace=Ke.WALLETCONNECT_MULTIVERSX_NAMESPACE),e.token){let s=this.getAddressFromSession(n),{signature:o}=yield this.walletConnector.request({chainId:`${this.namespace}:${this.chainId}`,topic:n.topic,request:{method:this.namespace===Ke.WALLETCONNECT_MULTIVERSX_NAMESPACE?Li.Operation.SIGN_LOGIN_TOKEN:Li.OldOperation.SIGN_LOGIN_TOKEN,params:{token:e.token,address:s}}});if(!o)throw Le.Logger.error(pe.WalletConnectV2ProviderErrorMessagesEnum.unableToSignLoginToken),new Error(pe.WalletConnectV2ProviderErrorMessagesEnum.unableToSignLoginToken);return yield this.onSessionConnected({session:n,signature:o})}return yield this.onSessionConnected({session:n,signature:""})}}catch{throw Le.Logger.error(pe.WalletConnectV2ProviderErrorMessagesEnum.unableToLogin),new Error(pe.WalletConnectV2ProviderErrorMessagesEnum.unableToLogin)}finally{this.isInitializing=!1}return""})}logout(e){var t;return Yt(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw Le.Logger.error(pe.WalletConnectV2ProviderErrorMessagesEnum.notInitialized),new Error(pe.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);try{let i=(t=e?.topic)!==null&&t!==void 0?t:this.getCurrentTopic(this.walletConnector);if(i){yield this.walletConnector.disconnect({topic:i,reason:aD.getSdkError("USER_DISCONNECTED")});let n=this.walletConnector.core.pairing.pairings.getAll({active:!0}).filter(s=>s.topic!==i);this.pairings=n}}catch{Le.Logger.error(pe.WalletConnectV2ProviderErrorMessagesEnum.alreadyLoggedOut)}finally{this.pairings=this.walletConnector.core.pairing.pairings.getAll({active:!0}),this.reset()}return!0})}getAddress(){return Yt(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw Le.Logger.error(pe.WalletConnectV2ProviderErrorMessagesEnum.notInitialized),new Error(pe.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);return this.address})}getSignature(){return Yt(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw Le.Logger.error(pe.WalletConnectV2ProviderErrorMessagesEnum.notInitialized),new Error(pe.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);return this.signature})}getPairings(){var e;return Yt(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw Le.Logger.error(pe.WalletConnectV2ProviderErrorMessagesEnum.notInitialized),new Error(pe.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);return(e=this.pairings)!==null&&e!==void 0?e:this.walletConnector.core.pairing.pairings.getAll({active:!0})})}signMessage(e){return Yt(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw Le.Logger.error(pe.WalletConnectV2ProviderErrorMessagesEnum.notInitialized),new Error(pe.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);if(typeof this.session>"u")throw Le.Logger.error(pe.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected),this.onClientConnect.onClientLogout(),new Error(pe.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected);let t=yield this.getAddress(),{signature:i}=yield this.walletConnector.request({chainId:`${this.namespace}:${this.chainId}`,topic:this.getCurrentTopic(this.walletConnector),request:{method:this.namespace===Ke.WALLETCONNECT_MULTIVERSX_NAMESPACE?Li.Operation.SIGN_MESSAGE:Li.OldOperation.SIGN_MESSAGE,params:{address:t,message:e.message.toString()}}});if(!i)throw Le.Logger.error(pe.WalletConnectV2ProviderErrorMessagesEnum.invalidMessageResponse),new Error(pe.WalletConnectV2ProviderErrorMessagesEnum.invalidMessageResponse);try{e.applySignature(new hl.Signature(i),lp.UserAddress.fromBech32(t))}catch{throw Le.Logger.error(pe.WalletConnectV2ProviderErrorMessagesEnum.invalidMessageSignature),new Error(pe.WalletConnectV2ProviderErrorMessagesEnum.invalidMessageSignature)}return e})}signTransaction(e){return Yt(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw Le.Logger.error(pe.WalletConnectV2ProviderErrorMessagesEnum.notInitialized),new Error(pe.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);if(typeof this.session>"u")throw Le.Logger.error(pe.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected),this.onClientConnect.onClientLogout(),new Error(pe.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected);let t=yield this.getAddress(),i=new hl.Address(t),n=e.toPlainObject(i);if(this.chainId!==e.getChainID().valueOf())throw Le.Logger.error(pe.WalletConnectV2ProviderErrorMessagesEnum.requestDifferentChain),new Error(pe.WalletConnectV2ProviderErrorMessagesEnum.requestDifferentChain);try{let{signature:s}=yield this.walletConnector.request({chainId:`${this.namespace}:${this.chainId}`,topic:this.getCurrentTopic(this.walletConnector),request:{method:this.namespace===Ke.WALLETCONNECT_MULTIVERSX_NAMESPACE?Li.Operation.SIGN_TRANSACTION:Li.OldOperation.SIGN_TRANSACTION,params:{transaction:n}}});if(!s)throw Le.Logger.error(pe.WalletConnectV2ProviderErrorMessagesEnum.requestDifferentChain),new Error(pe.WalletConnectV2ProviderErrorMessagesEnum.requestDifferentChain);return e.applySignature(hl.Signature.fromHex(s),lp.UserAddress.fromBech32(t)),e}catch{throw new Error(pe.WalletConnectV2ProviderErrorMessagesEnum.transactionError)}})}signTransactions(e){return Yt(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw Le.Logger.error(pe.WalletConnectV2ProviderErrorMessagesEnum.notInitialized),new Error(pe.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);if(typeof this.session>"u")throw Le.Logger.error(pe.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected),this.onClientConnect.onClientLogout(),new Error(pe.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected);let t=yield this.getAddress(),i=new hl.Address(t),n=e.map(s=>{if(this.chainId!==s.getChainID().valueOf())throw Le.Logger.error(pe.WalletConnectV2ProviderErrorMessagesEnum.requestDifferentChain),new Error(pe.WalletConnectV2ProviderErrorMessagesEnum.requestDifferentChain);return s.toPlainObject(i)});try{let{signatures:s}=yield this.walletConnector.request({chainId:`${this.namespace}:${this.chainId}`,topic:this.getCurrentTopic(this.walletConnector),request:{method:this.namespace===Ke.WALLETCONNECT_MULTIVERSX_NAMESPACE?Li.Operation.SIGN_TRANSACTIONS:Li.OldOperation.SIGN_TRANSACTIONS,params:{transactions:n}}});(!s||!Array.isArray(s))&&Le.Logger.error(pe.WalletConnectV2ProviderErrorMessagesEnum.invalidTransactionResponse),e.length!==s.length&&Le.Logger.error(pe.WalletConnectV2ProviderErrorMessagesEnum.invalidTransactionResponse);for(let[o,a]of e.entries())a.applySignature(hl.Signature.fromHex(s[o].signature),lp.UserAddress.fromBech32(t));return e}catch{throw new Error(pe.WalletConnectV2ProviderErrorMessagesEnum.transactionError)}})}sendCustomRequest(e){var t;return Yt(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw Le.Logger.error(pe.WalletConnectV2ProviderErrorMessagesEnum.notInitialized),new Error(pe.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);if(typeof this.session>"u")throw Le.Logger.error(pe.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected),this.onClientConnect.onClientLogout(),new Error(pe.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected);if(!((t=e?.request)===null||t===void 0)&&t.method){let i=Object.assign({},e.request),{method:n}=i;i.method.startsWith(Ke.WALLETCONNECT_OLD_METHOD_PREFIX)&&this.namespace===Ke.WALLETCONNECT_MULTIVERSX_NAMESPACE&&(n=n.replace(Ke.WALLETCONNECT_OLD_METHOD_PREFIX,this.namespace)),i.method.startsWith(Ke.WALLETCONNECT_MULTIVERSX_NAMESPACE)&&this.namespace===Ke.WALLETCONNECT_OLD_NAMESPACE&&(n=n.replace(Ke.WALLETCONNECT_MULTIVERSX_NAMESPACE,Ke.WALLETCONNECT_OLD_METHOD_PREFIX));let{response:s}=yield this.walletConnector.request({chainId:`${this.namespace}:${this.chainId}`,topic:this.getCurrentTopic(this.walletConnector),request:Object.assign(Object.assign({},i),{method:n})});if(!s)throw Le.Logger.error(pe.WalletConnectV2ProviderErrorMessagesEnum.invalidCustomRequestResponse),new Error(pe.WalletConnectV2ProviderErrorMessagesEnum.invalidCustomRequestResponse);return s}})}ping(){return Yt(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw Le.Logger.error(pe.WalletConnectV2ProviderErrorMessagesEnum.notInitialized),new Error(pe.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);if(typeof this.session>"u")throw Le.Logger.error(pe.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected),this.onClientConnect.onClientLogout(),new Error(pe.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected);try{return yield this.walletConnector.ping({topic:this.getCurrentTopic(this.walletConnector)}),!0}catch{return Le.Logger.error(pe.WalletConnectV2ProviderErrorMessagesEnum.pingFailed),!1}})}loginAccount(e){return Yt(this,void 0,void 0,function*(){if(e){if(this.addressIsValid(e.address)){this.address=e.address,e.signature&&(this.signature=e.signature),this.onClientConnect.onClientLogin();return}if(Le.Logger.error(`${pe.WalletConnectV2ProviderErrorMessagesEnum.invalidAddress} ${e.address}`),this.walletConnector){yield this.walletConnector.disconnect({topic:this.getCurrentTopic(this.walletConnector),reason:aD.getSdkError("USER_DISCONNECTED")});let t=this.walletConnector.core.pairing.pairings.getAll({active:!0});this.pairings=t}}})}onSessionConnected(e){var t,i,n,s;return Yt(this,void 0,void 0,function*(){if(!e)return"";this.session=e.session,!((i=(t=e.session)===null||t===void 0?void 0:t.namespaces)===null||i===void 0)&&i[Ke.WALLETCONNECT_OLD_NAMESPACE]&&(this.namespace=Ke.WALLETCONNECT_OLD_NAMESPACE),!((s=(n=e.session)===null||n===void 0?void 0:n.namespaces)===null||s===void 0)&&s[Ke.WALLETCONNECT_MULTIVERSX_NAMESPACE]&&(this.namespace=Ke.WALLETCONNECT_MULTIVERSX_NAMESPACE);let o=this.getAddressFromSession(e.session);return o&&(yield this.loginAccount({address:o,signature:e.signature})),""})}handleTopicUpdateEvent({topic:e}){var t;return Yt(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw new Error(pe.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);try{if(this.address&&!this.isInitializing&&this.pairings)if(((t=this.pairings)===null||t===void 0?void 0:t.length)===0)this.onClientConnect.onClientLogout();else{let i=this.pairings[this.pairings.length-1];i?.topic===e&&this.onClientConnect.onClientLogout()}}catch{Le.Logger.error(pe.WalletConnectV2ProviderErrorMessagesEnum.unableToHandleTopic)}finally{this.pairings=this.walletConnector.core.pairing.pairings.getAll({active:!0})}})}handleSessionEvents({topic:e,params:t}){return Yt(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw new Error(pe.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);let{event:i}=t;if(i?.name&&this.getCurrentTopic(this.walletConnector)===e){let n=i.data;this.onClientConnect.onClientEvent(n)}})}subscribeToEvents(e){var t,i,n,s;return Yt(this,void 0,void 0,function*(){if(typeof e>"u")throw new Error(pe.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);try{e.on("session_update",({topic:o,params:a})=>{let{namespaces:u}=a,h=e.session.get(o),p=Object.assign(Object.assign({},h),{namespaces:u});this.onSessionConnected({session:p})}),e.on("session_event",this.handleSessionEvents.bind(this)),e.on("session_delete",()=>{Le.Logger.error(pe.WalletConnectV2ProviderErrorMessagesEnum.sessionDeleted),this.onClientConnect.onClientLogout()}),e.on("session_expire",()=>{Le.Logger.error(pe.WalletConnectV2ProviderErrorMessagesEnum.sessionExpired),this.onClientConnect.onClientLogout()}),(i=(t=e?.core)===null||t===void 0?void 0:t.pairing)===null||i===void 0||i.events.on("pairing_delete",this.handleTopicUpdateEvent.bind(this)),(s=(n=e?.core)===null||n===void 0?void 0:n.pairing)===null||s===void 0||s.events.on("pairing_expire",this.handleTopicUpdateEvent.bind(this))}catch{Le.Logger.error(pe.WalletConnectV2ProviderErrorMessagesEnum.unableToHandleEvent)}})}checkPersistedState(e){return Yt(this,void 0,void 0,function*(){if(typeof e>"u")throw new Error(pe.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);if(this.pairings=e.pairing.getAll({active:!0}),!(typeof this.session<"u")&&e.session.length&&!this.address&&!this.isInitializing){let t=this.getCurrentSession(e);if(t)return yield this.onSessionConnected({session:t}),t}})}getCurrentSession(e){if(typeof e>"u")throw new Error(pe.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);if(e.session.length){let t=e.session.keys.length-1;return e.session.get(e.session.keys[t])}else throw Le.Logger.error(pe.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected),this.onClientConnect.onClientLogout(),new Error(pe.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected)}getCurrentTopic(e){if(typeof e>"u")throw new Error(pe.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);if(e.session.length){let t=e.session.keys.length-1;return e.session.get(e.session.keys[t]).topic}else throw Le.Logger.error(pe.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected),this.onClientConnect.onClientLogout(),new Error(pe.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected)}addressIsValid(e){try{return!!lp.UserAddress.fromBech32(e)}catch{return!1}}getAddressFromSession(e){var t;let i=e.namespaces[(t=this.namespace)!==null&&t!==void 0?t:Ke.WALLETCONNECT_MULTIVERSX_NAMESPACE];if(i&&i.accounts){let n=i.accounts[0],[s,o,a]=n.split(":");return a}return""}};Fi.WalletConnectV2Provider=hv});var cD=B((hre,uD)=>{"use strict";f();uD.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),i=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(i)!=="[object Symbol]")return!1;var n=42;e[t]=n;for(t in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,t);if(o.value!==n||o.enumerable!==!0)return!1}return!0}});var hD=B((pre,fD)=>{"use strict";f();var lD=typeof Symbol<"u"&&Symbol,H9=cD();fD.exports=function(){return typeof lD!="function"||typeof Symbol!="function"||typeof lD("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:H9()}});var pD=B((yre,dD)=>{"use strict";f();var Q9="Function.prototype.bind called on incompatible ",dv=Array.prototype.slice,j9=Object.prototype.toString,G9="[object Function]";dD.exports=function(e){var t=this;if(typeof t!="function"||j9.call(t)!==G9)throw new TypeError(Q9+t);for(var i=dv.call(arguments,1),n,s=function(){if(this instanceof n){var p=t.apply(this,i.concat(dv.call(arguments)));return Object(p)===p?p:this}else return t.apply(e,i.concat(dv.call(arguments)))},o=Math.max(0,t.length-i.length),a=[],u=0;u<o;u++)a.push("$"+u);if(n=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(s),t.prototype){var h=function(){};h.prototype=t.prototype,n.prototype=new h,h.prototype=null}return n}});var fp=B((wre,gD)=>{"use strict";f();var K9=pD();gD.exports=Function.prototype.bind||K9});var mD=B((Ere,yD)=>{"use strict";f();var z9=fp();yD.exports=z9.call(Function.call,Object.prototype.hasOwnProperty)});var pp=B((Ire,AD)=>{"use strict";f();var Fe,Cu=SyntaxError,ED=Function,_u=TypeError,pv=function(r){try{return ED('"use strict"; return ('+r+").constructor;")()}catch{}},co=Object.getOwnPropertyDescriptor;if(co)try{co({},"")}catch{co=null}var gv=function(){throw new _u},k9=co?function(){try{return arguments.callee,gv}catch{try{return co(arguments,"callee").get}catch{return gv}}}():gv,Au=hD()(),Yn=Object.getPrototypeOf||function(r){return r.__proto__},Iu={},W9=typeof Uint8Array>"u"?Fe:Yn(Uint8Array),bu={"%AggregateError%":typeof AggregateError>"u"?Fe:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Fe:ArrayBuffer,"%ArrayIteratorPrototype%":Au?Yn([][Symbol.iterator]()):Fe,"%AsyncFromSyncIteratorPrototype%":Fe,"%AsyncFunction%":Iu,"%AsyncGenerator%":Iu,"%AsyncGeneratorFunction%":Iu,"%AsyncIteratorPrototype%":Iu,"%Atomics%":typeof Atomics>"u"?Fe:Atomics,"%BigInt%":typeof BigInt>"u"?Fe:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Fe:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?Fe:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Fe:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Fe:FinalizationRegistry,"%Function%":ED,"%GeneratorFunction%":Iu,"%Int8Array%":typeof Int8Array>"u"?Fe:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Fe:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Fe:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Au?Yn(Yn([][Symbol.iterator]())):Fe,"%JSON%":typeof JSON=="object"?JSON:Fe,"%Map%":typeof Map>"u"?Fe:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Au?Fe:Yn(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Fe:Promise,"%Proxy%":typeof Proxy>"u"?Fe:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?Fe:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Fe:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Au?Fe:Yn(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Fe:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Au?Yn(""[Symbol.iterator]()):Fe,"%Symbol%":Au?Symbol:Fe,"%SyntaxError%":Cu,"%ThrowTypeError%":k9,"%TypedArray%":W9,"%TypeError%":_u,"%Uint8Array%":typeof Uint8Array>"u"?Fe:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Fe:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Fe:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Fe:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?Fe:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Fe:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Fe:WeakSet},$9=function r(e){var t;if(e==="%AsyncFunction%")t=pv("async function () {}");else if(e==="%GeneratorFunction%")t=pv("function* () {}");else if(e==="%AsyncGeneratorFunction%")t=pv("async function* () {}");else if(e==="%AsyncGenerator%"){var i=r("%AsyncGeneratorFunction%");i&&(t=i.prototype)}else if(e==="%AsyncIteratorPrototype%"){var n=r("%AsyncGenerator%");n&&(t=Yn(n.prototype))}return bu[e]=t,t},wD={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},pl=fp(),hp=mD(),Y9=pl.call(Function.call,Array.prototype.concat),J9=pl.call(Function.apply,Array.prototype.splice),vD=pl.call(Function.call,String.prototype.replace),dp=pl.call(Function.call,String.prototype.slice),X9=pl.call(Function.call,RegExp.prototype.exec),Z9=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ej=/\\(\\)?/g,tj=function(e){var t=dp(e,0,1),i=dp(e,-1);if(t==="%"&&i!=="%")throw new Cu("invalid intrinsic syntax, expected closing `%`");if(i==="%"&&t!=="%")throw new Cu("invalid intrinsic syntax, expected opening `%`");var n=[];return vD(e,Z9,function(s,o,a,u){n[n.length]=a?vD(u,ej,"$1"):o||s}),n},rj=function(e,t){var i=e,n;if(hp(wD,i)&&(n=wD[i],i="%"+n[0]+"%"),hp(bu,i)){var s=bu[i];if(s===Iu&&(s=$9(i)),typeof s>"u"&&!t)throw new _u("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:i,value:s}}throw new Cu("intrinsic "+e+" does not exist!")};AD.exports=function(e,t){if(typeof e!="string"||e.length===0)throw new _u("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof t!="boolean")throw new _u('"allowMissing" argument must be a boolean');if(X9(/^%?[^%]*%?$/,e)===null)throw new Cu("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var i=tj(e),n=i.length>0?i[0]:"",s=rj("%"+n+"%",t),o=s.name,a=s.value,u=!1,h=s.alias;h&&(n=h[0],J9(i,Y9([0,1],h)));for(var p=1,A=!0;p<i.length;p+=1){var D=i[p],O=dp(D,0,1),T=dp(D,-1);if((O==='"'||O==="'"||O==="`"||T==='"'||T==="'"||T==="`")&&O!==T)throw new Cu("property names with quotes must have matching quotes");if((D==="constructor"||!A)&&(u=!0),n+="."+D,o="%"+n+"%",hp(bu,o))a=bu[o];else if(a!=null){if(!(D in a)){if(!t)throw new _u("base intrinsic for "+e+" exists, but the property is not available.");return}if(co&&p+1>=i.length){var V=co(a,D);A=!!V,A&&"get"in V&&!("originalValue"in V.get)?a=V.get:a=a[D]}else A=hp(a,D),a=a[D];A&&!u&&(bu[o]=a)}}return a}});var xD=B((bre,gp)=>{"use strict";f();var yv=fp(),Su=pp(),bD=Su("%Function.prototype.apply%"),CD=Su("%Function.prototype.call%"),SD=Su("%Reflect.apply%",!0)||yv.call(CD,bD),ID=Su("%Object.getOwnPropertyDescriptor%",!0),lo=Su("%Object.defineProperty%",!0),ij=Su("%Math.max%");if(lo)try{lo({},"a",{value:1})}catch{lo=null}gp.exports=function(e){var t=SD(yv,CD,arguments);if(ID&&lo){var i=ID(t,"length");i.configurable&&lo(t,"length",{value:1+ij(0,e.length-(arguments.length-1))})}return t};var _D=function(){return SD(yv,bD,arguments)};lo?lo(gp.exports,"apply",{value:_D}):gp.exports.apply=_D});var OD=B((Sre,DD)=>{"use strict";f();var TD=pp(),ND=xD(),nj=ND(TD("String.prototype.indexOf"));DD.exports=function(e,t){var i=TD(e,!!t);return typeof i=="function"&&nj(e,".prototype.")>-1?ND(i):i}});var PD=B(()=>{f()});var XD=B((Ore,JD)=>{f();var Sv=typeof Map=="function"&&Map.prototype,mv=Object.getOwnPropertyDescriptor&&Sv?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,mp=Sv&&mv&&typeof mv.get=="function"?mv.get:null,BD=Sv&&Map.prototype.forEach,xv=typeof Set=="function"&&Set.prototype,wv=Object.getOwnPropertyDescriptor&&xv?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,wp=xv&&wv&&typeof wv.get=="function"?wv.get:null,MD=xv&&Set.prototype.forEach,sj=typeof WeakMap=="function"&&WeakMap.prototype,yl=sj?WeakMap.prototype.has:null,oj=typeof WeakSet=="function"&&WeakSet.prototype,ml=oj?WeakSet.prototype.has:null,aj=typeof WeakRef=="function"&&WeakRef.prototype,RD=aj?WeakRef.prototype.deref:null,uj=Boolean.prototype.valueOf,cj=Object.prototype.toString,lj=Function.prototype.toString,fj=String.prototype.match,Tv=String.prototype.slice,Xn=String.prototype.replace,hj=String.prototype.toUpperCase,LD=String.prototype.toLowerCase,KD=RegExp.prototype.test,FD=Array.prototype.concat,Ui=Array.prototype.join,dj=Array.prototype.slice,UD=Math.floor,Av=typeof BigInt=="function"?BigInt.prototype.valueOf:null,vv=Object.getOwnPropertySymbols,Iv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,xu=typeof Symbol=="function"&&typeof Symbol.iterator=="object",fr=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===xu||"symbol")?Symbol.toStringTag:null,zD=Object.prototype.propertyIsEnumerable,qD=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(r){return r.__proto__}:null);function VD(r,e){if(r===1/0||r===-1/0||r!==r||r&&r>-1e3&&r<1e3||KD.call(/e/,e))return e;var t=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof r=="number"){var i=r<0?-UD(-r):UD(r);if(i!==r){var n=String(i),s=Tv.call(e,n.length+1);return Xn.call(n,t,"$&_")+"."+Xn.call(Xn.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Xn.call(e,t,"$&_")}var _v=PD(),HD=_v.custom,QD=WD(HD)?HD:null;JD.exports=function r(e,t,i,n){var s=t||{};if(Jn(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Jn(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=Jn(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Jn(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Jn(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return YD(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var u=String(e);return a?VD(e,u):u}if(typeof e=="bigint"){var h=String(e)+"n";return a?VD(e,h):h}var p=typeof s.depth>"u"?5:s.depth;if(typeof i>"u"&&(i=0),i>=p&&p>0&&typeof e=="object")return bv(e)?"[Array]":"[Object]";var A=Oj(s,i);if(typeof n>"u")n=[];else if($D(n,e)>=0)return"[Circular]";function D(E,c,d){if(c&&(n=dj.call(n),n.push(c)),d){var g={depth:s.depth};return Jn(s,"quoteStyle")&&(g.quoteStyle=s.quoteStyle),r(E,g,i+1,n)}return r(E,s,i+1,n)}if(typeof e=="function"&&!jD(e)){var O=Ij(e),T=yp(e,D);return"[Function"+(O?": "+O:" (anonymous)")+"]"+(T.length>0?" { "+Ui.call(T,", ")+" }":"")}if(WD(e)){var V=xu?Xn.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):Iv.call(e);return typeof e=="object"&&!xu?gl(V):V}if(Tj(e)){for(var z="<"+LD.call(String(e.nodeName)),$=e.attributes||[],se=0;se<$.length;se++)z+=" "+$[se].name+"="+kD(pj($[se].value),"double",s);return z+=">",e.childNodes&&e.childNodes.length&&(z+="..."),z+="</"+LD.call(String(e.nodeName))+">",z}if(bv(e)){if(e.length===0)return"[]";var Y=yp(e,D);return A&&!Dj(Y)?"["+Cv(Y,A)+"]":"[ "+Ui.call(Y,", ")+" ]"}if(yj(e)){var j=yp(e,D);return!("cause"in Error.prototype)&&"cause"in e&&!zD.call(e,"cause")?"{ ["+String(e)+"] "+Ui.call(FD.call("[cause]: "+D(e.cause),j),", ")+" }":j.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+Ui.call(j,", ")+" }"}if(typeof e=="object"&&o){if(QD&&typeof e[QD]=="function"&&_v)return _v(e,{depth:p-i});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(_j(e)){var W=[];return BD&&BD.call(e,function(E,c){W.push(D(c,e,!0)+" => "+D(E,e))}),GD("Map",mp.call(e),W,A)}if(Sj(e)){var k=[];return MD&&MD.call(e,function(E){k.push(D(E,e))}),GD("Set",wp.call(e),k,A)}if(bj(e))return Ev("WeakMap");if(xj(e))return Ev("WeakSet");if(Cj(e))return Ev("WeakRef");if(wj(e))return gl(D(Number(e)));if(Ej(e))return gl(D(Av.call(e)));if(vj(e))return gl(uj.call(e));if(mj(e))return gl(D(String(e)));if(!gj(e)&&!jD(e)){var R=yp(e,D),F=qD?qD(e)===Object.prototype:e instanceof Object||e.constructor===Object,G=e instanceof Object?"":"null prototype",ce=!F&&fr&&Object(e)===e&&fr in e?Tv.call(Zn(e),8,-1):G?"Object":"",J=F||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",X=J+(ce||G?"["+Ui.call(FD.call([],ce||[],G||[]),": ")+"] ":"");return R.length===0?X+"{}":A?X+"{"+Cv(R,A)+"}":X+"{ "+Ui.call(R,", ")+" }"}return String(e)};function kD(r,e,t){var i=(t.quoteStyle||e)==="double"?'"':"'";return i+r+i}function pj(r){return Xn.call(String(r),/"/g,"&quot;")}function bv(r){return Zn(r)==="[object Array]"&&(!fr||!(typeof r=="object"&&fr in r))}function gj(r){return Zn(r)==="[object Date]"&&(!fr||!(typeof r=="object"&&fr in r))}function jD(r){return Zn(r)==="[object RegExp]"&&(!fr||!(typeof r=="object"&&fr in r))}function yj(r){return Zn(r)==="[object Error]"&&(!fr||!(typeof r=="object"&&fr in r))}function mj(r){return Zn(r)==="[object String]"&&(!fr||!(typeof r=="object"&&fr in r))}function wj(r){return Zn(r)==="[object Number]"&&(!fr||!(typeof r=="object"&&fr in r))}function vj(r){return Zn(r)==="[object Boolean]"&&(!fr||!(typeof r=="object"&&fr in r))}function WD(r){if(xu)return r&&typeof r=="object"&&r instanceof Symbol;if(typeof r=="symbol")return!0;if(!r||typeof r!="object"||!Iv)return!1;try{return Iv.call(r),!0}catch{}return!1}function Ej(r){if(!r||typeof r!="object"||!Av)return!1;try{return Av.call(r),!0}catch{}return!1}var Aj=Object.prototype.hasOwnProperty||function(r){return r in this};function Jn(r,e){return Aj.call(r,e)}function Zn(r){return cj.call(r)}function Ij(r){if(r.name)return r.name;var e=fj.call(lj.call(r),/^function\s*([\w$]+)/);return e?e[1]:null}function $D(r,e){if(r.indexOf)return r.indexOf(e);for(var t=0,i=r.length;t<i;t++)if(r[t]===e)return t;return-1}function _j(r){if(!mp||!r||typeof r!="object")return!1;try{mp.call(r);try{wp.call(r)}catch{return!0}return r instanceof Map}catch{}return!1}function bj(r){if(!yl||!r||typeof r!="object")return!1;try{yl.call(r,yl);try{ml.call(r,ml)}catch{return!0}return r instanceof WeakMap}catch{}return!1}function Cj(r){if(!RD||!r||typeof r!="object")return!1;try{return RD.call(r),!0}catch{}return!1}function Sj(r){if(!wp||!r||typeof r!="object")return!1;try{wp.call(r);try{mp.call(r)}catch{return!0}return r instanceof Set}catch{}return!1}function xj(r){if(!ml||!r||typeof r!="object")return!1;try{ml.call(r,ml);try{yl.call(r,yl)}catch{return!0}return r instanceof WeakSet}catch{}return!1}function Tj(r){return!r||typeof r!="object"?!1:typeof HTMLElement<"u"&&r instanceof HTMLElement?!0:typeof r.nodeName=="string"&&typeof r.getAttribute=="function"}function YD(r,e){if(r.length>e.maxStringLength){var t=r.length-e.maxStringLength,i="... "+t+" more character"+(t>1?"s":"");return YD(Tv.call(r,0,e.maxStringLength),e)+i}var n=Xn.call(Xn.call(r,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Nj);return kD(n,"single",e)}function Nj(r){var e=r.charCodeAt(0),t={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return t?"\\"+t:"\\x"+(e<16?"0":"")+hj.call(e.toString(16))}function gl(r){return"Object("+r+")"}function Ev(r){return r+" { ? }"}function GD(r,e,t,i){var n=i?Cv(t,i):Ui.call(t,", ");return r+" ("+e+") {"+n+"}"}function Dj(r){for(var e=0;e<r.length;e++)if($D(r[e],`
`)>=0)return!1;return!0}function Oj(r,e){var t;if(r.indent==="	")t="	";else if(typeof r.indent=="number"&&r.indent>0)t=Ui.call(Array(r.indent+1)," ");else return null;return{base:t,prev:Ui.call(Array(e+1),t)}}function Cv(r,e){if(r.length===0)return"";var t=`
`+e.prev+e.base;return t+Ui.call(r,","+t)+`
`+e.prev}function yp(r,e){var t=bv(r),i=[];if(t){i.length=r.length;for(var n=0;n<r.length;n++)i[n]=Jn(r,n)?e(r[n],r):""}var s=typeof vv=="function"?vv(r):[],o;if(xu){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var u in r)Jn(r,u)&&(t&&String(Number(u))===u&&u<r.length||xu&&o["$"+u]instanceof Symbol||(KD.call(/[^\w$]/,u)?i.push(e(u,r)+": "+e(r[u],r)):i.push(u+": "+e(r[u],r))));if(typeof vv=="function")for(var h=0;h<s.length;h++)zD.call(r,s[h])&&i.push("["+e(s[h])+"]: "+e(r[s[h]],r));return i}});var eO=B((Bre,ZD)=>{"use strict";f();var Nv=pp(),Tu=OD(),Pj=XD(),Bj=Nv("%TypeError%"),vp=Nv("%WeakMap%",!0),Ep=Nv("%Map%",!0),Mj=Tu("WeakMap.prototype.get",!0),Rj=Tu("WeakMap.prototype.set",!0),Lj=Tu("WeakMap.prototype.has",!0),Fj=Tu("Map.prototype.get",!0),Uj=Tu("Map.prototype.set",!0),qj=Tu("Map.prototype.has",!0),Dv=function(r,e){for(var t=r,i;(i=t.next)!==null;t=i)if(i.key===e)return t.next=i.next,i.next=r.next,r.next=i,i},Vj=function(r,e){var t=Dv(r,e);return t&&t.value},Hj=function(r,e,t){var i=Dv(r,e);i?i.value=t:r.next={key:e,next:r.next,value:t}},Qj=function(r,e){return!!Dv(r,e)};ZD.exports=function(){var e,t,i,n={assert:function(s){if(!n.has(s))throw new Bj("Side channel does not contain "+Pj(s))},get:function(s){if(vp&&s&&(typeof s=="object"||typeof s=="function")){if(e)return Mj(e,s)}else if(Ep){if(t)return Fj(t,s)}else if(i)return Vj(i,s)},has:function(s){if(vp&&s&&(typeof s=="object"||typeof s=="function")){if(e)return Lj(e,s)}else if(Ep){if(t)return qj(t,s)}else if(i)return Qj(i,s);return!1},set:function(s,o){vp&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new vp),Rj(e,s,o)):Ep?(t||(t=new Ep),Uj(t,s,o)):(i||(i={key:{},next:null}),Hj(i,s,o))}};return n}});var Ap=B((Rre,tO)=>{"use strict";f();var jj=String.prototype.replace,Gj=/%20/g,Ov={RFC1738:"RFC1738",RFC3986:"RFC3986"};tO.exports={default:Ov.RFC3986,formatters:{RFC1738:function(r){return jj.call(r,Gj,"+")},RFC3986:function(r){return String(r)}},RFC1738:Ov.RFC1738,RFC3986:Ov.RFC3986}});var Bv=B((Fre,iO)=>{"use strict";f();var Kj=Ap(),Pv=Object.prototype.hasOwnProperty,fo=Array.isArray,qi=function(){for(var r=[],e=0;e<256;++e)r.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return r}(),zj=function(e){for(;e.length>1;){var t=e.pop(),i=t.obj[t.prop];if(fo(i)){for(var n=[],s=0;s<i.length;++s)typeof i[s]<"u"&&n.push(i[s]);t.obj[t.prop]=n}}},rO=function(e,t){for(var i=t&&t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)typeof e[n]<"u"&&(i[n]=e[n]);return i},kj=function r(e,t,i){if(!t)return e;if(typeof t!="object"){if(fo(e))e.push(t);else if(e&&typeof e=="object")(i&&(i.plainObjects||i.allowPrototypes)||!Pv.call(Object.prototype,t))&&(e[t]=!0);else return[e,t];return e}if(!e||typeof e!="object")return[e].concat(t);var n=e;return fo(e)&&!fo(t)&&(n=rO(e,i)),fo(e)&&fo(t)?(t.forEach(function(s,o){if(Pv.call(e,o)){var a=e[o];a&&typeof a=="object"&&s&&typeof s=="object"?e[o]=r(a,s,i):e.push(s)}else e[o]=s}),e):Object.keys(t).reduce(function(s,o){var a=t[o];return Pv.call(s,o)?s[o]=r(s[o],a,i):s[o]=a,s},n)},Wj=function(e,t){return Object.keys(t).reduce(function(i,n){return i[n]=t[n],i},e)},$j=function(r,e,t){var i=r.replace(/\+/g," ");if(t==="iso-8859-1")return i.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(i)}catch{return i}},Yj=function(e,t,i,n,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),i==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(p){return"%26%23"+parseInt(p.slice(2),16)+"%3B"});for(var a="",u=0;u<o.length;++u){var h=o.charCodeAt(u);if(h===45||h===46||h===95||h===126||h>=48&&h<=57||h>=65&&h<=90||h>=97&&h<=122||s===Kj.RFC1738&&(h===40||h===41)){a+=o.charAt(u);continue}if(h<128){a=a+qi[h];continue}if(h<2048){a=a+(qi[192|h>>6]+qi[128|h&63]);continue}if(h<55296||h>=57344){a=a+(qi[224|h>>12]+qi[128|h>>6&63]+qi[128|h&63]);continue}u+=1,h=65536+((h&1023)<<10|o.charCodeAt(u)&1023),a+=qi[240|h>>18]+qi[128|h>>12&63]+qi[128|h>>6&63]+qi[128|h&63]}return a},Jj=function(e){for(var t=[{obj:{o:e},prop:"o"}],i=[],n=0;n<t.length;++n)for(var s=t[n],o=s.obj[s.prop],a=Object.keys(o),u=0;u<a.length;++u){var h=a[u],p=o[h];typeof p=="object"&&p!==null&&i.indexOf(p)===-1&&(t.push({obj:o,prop:h}),i.push(p))}return zj(t),e},Xj=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},Zj=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},eG=function(e,t){return[].concat(e,t)},tG=function(e,t){if(fo(e)){for(var i=[],n=0;n<e.length;n+=1)i.push(t(e[n]));return i}return t(e)};iO.exports={arrayToObject:rO,assign:Wj,combine:eG,compact:Jj,decode:$j,encode:Yj,isBuffer:Zj,isRegExp:Xj,maybeMap:tG,merge:kj}});var cO=B((qre,uO)=>{"use strict";f();var oO=eO(),Rv=Bv(),wl=Ap(),rG=Object.prototype.hasOwnProperty,nO={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},ho=Array.isArray,iG=String.prototype.split,nG=Array.prototype.push,aO=function(r,e){nG.apply(r,ho(e)?e:[e])},sG=Date.prototype.toISOString,sO=wl.default,tr={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:Rv.encode,encodeValuesOnly:!1,format:sO,formatter:wl.formatters[sO],indices:!1,serializeDate:function(e){return sG.call(e)},skipNulls:!1,strictNullHandling:!1},oG=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},Mv={},aG=function r(e,t,i,n,s,o,a,u,h,p,A,D,O,T,V){for(var z=e,$=V,se=0,Y=!1;($=$.get(Mv))!==void 0&&!Y;){var j=$.get(e);if(se+=1,typeof j<"u"){if(j===se)throw new RangeError("Cyclic object value");Y=!0}typeof $.get(Mv)>"u"&&(se=0)}if(typeof a=="function"?z=a(t,z):z instanceof Date?z=p(z):i==="comma"&&ho(z)&&(z=Rv.maybeMap(z,function(m){return m instanceof Date?p(m):m})),z===null){if(n)return o&&!O?o(t,tr.encoder,T,"key",A):t;z=""}if(oG(z)||Rv.isBuffer(z)){if(o){var W=O?t:o(t,tr.encoder,T,"key",A);if(i==="comma"&&O){for(var k=iG.call(String(z),","),R="",F=0;F<k.length;++F)R+=(F===0?"":",")+D(o(k[F],tr.encoder,T,"value",A));return[D(W)+"="+R]}return[D(W)+"="+D(o(z,tr.encoder,T,"value",A))]}return[D(t)+"="+D(String(z))]}var G=[];if(typeof z>"u")return G;var ce;if(i==="comma"&&ho(z))ce=[{value:z.length>0?z.join(",")||null:void 0}];else if(ho(a))ce=a;else{var J=Object.keys(z);ce=u?J.sort(u):J}for(var X=0;X<ce.length;++X){var E=ce[X],c=typeof E=="object"&&typeof E.value<"u"?E.value:z[E];if(!(s&&c===null)){var d=ho(z)?typeof i=="function"?i(t,E):t:t+(h?"."+E:"["+E+"]");V.set(e,se);var g=oO();g.set(Mv,V),aO(G,r(c,d,i,n,s,o,a,u,h,p,A,D,O,T,g))}}return G},uG=function(e){if(!e)return tr;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var t=e.charset||tr.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var i=wl.default;if(typeof e.format<"u"){if(!rG.call(wl.formatters,e.format))throw new TypeError("Unknown format option provided.");i=e.format}var n=wl.formatters[i],s=tr.filter;return(typeof e.filter=="function"||ho(e.filter))&&(s=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:tr.addQueryPrefix,allowDots:typeof e.allowDots>"u"?tr.allowDots:!!e.allowDots,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:tr.charsetSentinel,delimiter:typeof e.delimiter>"u"?tr.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:tr.encode,encoder:typeof e.encoder=="function"?e.encoder:tr.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:tr.encodeValuesOnly,filter:s,format:i,formatter:n,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:tr.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:tr.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:tr.strictNullHandling}};uO.exports=function(r,e){var t=r,i=uG(e),n,s;typeof i.filter=="function"?(s=i.filter,t=s("",t)):ho(i.filter)&&(s=i.filter,n=s);var o=[];if(typeof t!="object"||t===null)return"";var a;e&&e.arrayFormat in nO?a=e.arrayFormat:e&&"indices"in e?a=e.indices?"indices":"repeat":a="indices";var u=nO[a];n||(n=Object.keys(t)),i.sort&&n.sort(i.sort);for(var h=oO(),p=0;p<n.length;++p){var A=n[p];i.skipNulls&&t[A]===null||aO(o,aG(t[A],A,u,i.strictNullHandling,i.skipNulls,i.encode?i.encoder:null,i.filter,i.sort,i.allowDots,i.serializeDate,i.format,i.formatter,i.encodeValuesOnly,i.charset,h))}var D=o.join(i.delimiter),O=i.addQueryPrefix===!0?"?":"";return i.charsetSentinel&&(i.charset==="iso-8859-1"?O+="utf8=%26%2310003%3B&":O+="utf8=%E2%9C%93&"),D.length>0?O+D:""}});var hO=B((Hre,fO)=>{"use strict";f();var Nu=Bv(),Lv=Object.prototype.hasOwnProperty,cG=Array.isArray,Jt={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:Nu.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},lG=function(r){return r.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})},lO=function(r,e){return r&&typeof r=="string"&&e.comma&&r.indexOf(",")>-1?r.split(","):r},fG="utf8=%26%2310003%3B",hG="utf8=%E2%9C%93",dG=function(e,t){var i={},n=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=t.parameterLimit===1/0?void 0:t.parameterLimit,o=n.split(t.delimiter,s),a=-1,u,h=t.charset;if(t.charsetSentinel)for(u=0;u<o.length;++u)o[u].indexOf("utf8=")===0&&(o[u]===hG?h="utf-8":o[u]===fG&&(h="iso-8859-1"),a=u,u=o.length);for(u=0;u<o.length;++u)if(u!==a){var p=o[u],A=p.indexOf("]="),D=A===-1?p.indexOf("="):A+1,O,T;D===-1?(O=t.decoder(p,Jt.decoder,h,"key"),T=t.strictNullHandling?null:""):(O=t.decoder(p.slice(0,D),Jt.decoder,h,"key"),T=Nu.maybeMap(lO(p.slice(D+1),t),function(V){return t.decoder(V,Jt.decoder,h,"value")})),T&&t.interpretNumericEntities&&h==="iso-8859-1"&&(T=lG(T)),p.indexOf("[]=")>-1&&(T=cG(T)?[T]:T),Lv.call(i,O)?i[O]=Nu.combine(i[O],T):i[O]=T}return i},pG=function(r,e,t,i){for(var n=i?e:lO(e,t),s=r.length-1;s>=0;--s){var o,a=r[s];if(a==="[]"&&t.parseArrays)o=[].concat(n);else{o=t.plainObjects?Object.create(null):{};var u=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,h=parseInt(u,10);!t.parseArrays&&u===""?o={0:n}:!isNaN(h)&&a!==u&&String(h)===u&&h>=0&&t.parseArrays&&h<=t.arrayLimit?(o=[],o[h]=n):u!=="__proto__"&&(o[u]=n)}n=o}return n},gG=function(e,t,i,n){if(e){var s=i.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,u=i.depth>0&&o.exec(s),h=u?s.slice(0,u.index):s,p=[];if(h){if(!i.plainObjects&&Lv.call(Object.prototype,h)&&!i.allowPrototypes)return;p.push(h)}for(var A=0;i.depth>0&&(u=a.exec(s))!==null&&A<i.depth;){if(A+=1,!i.plainObjects&&Lv.call(Object.prototype,u[1].slice(1,-1))&&!i.allowPrototypes)return;p.push(u[1])}return u&&p.push("["+s.slice(u.index)+"]"),pG(p,t,i,n)}},yG=function(e){if(!e)return Jt;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=typeof e.charset>"u"?Jt.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?Jt.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:Jt.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:Jt.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:Jt.arrayLimit,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Jt.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:Jt.comma,decoder:typeof e.decoder=="function"?e.decoder:Jt.decoder,delimiter:typeof e.delimiter=="string"||Nu.isRegExp(e.delimiter)?e.delimiter:Jt.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:Jt.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:Jt.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:Jt.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:Jt.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Jt.strictNullHandling}};fO.exports=function(r,e){var t=yG(e);if(r===""||r===null||typeof r>"u")return t.plainObjects?Object.create(null):{};for(var i=typeof r=="string"?dG(r,t):r,n=t.plainObjects?Object.create(null):{},s=Object.keys(i),o=0;o<s.length;++o){var a=s[o],u=gG(a,i[a],t,typeof r=="string");n=Nu.merge(n,u,t)}return t.allowSparse===!0?n:Nu.compact(n)}});var pO=B((jre,dO)=>{"use strict";f();var mG=cO(),wG=hO(),vG=Ap();dO.exports={formats:vG,parse:wG,stringify:mG}});var Fv=B(ht=>{"use strict";f();Object.defineProperty(ht,"__esModule",{value:!0});ht.WALLET_PROVIDER_CALLBACK_PARAM_TX_SIGNED=ht.WALLET_PROVIDER_CALLBACK_PARAM=ht.WALLET_PROVIDER_SIGN_MESSAGE_URL=ht.WALLET_PROVIDER_SIGN_TRANSACTION_URL=ht.WALLET_PROVIDER_SEND_TRANSACTION_URL=ht.WALLET_PROVIDER_DISCONNECT_URL=ht.WALLET_PROVIDER_CONNECT_URL=ht.WALLET_PROVIDER_TESTNET=ht.WALLET_PROVIDER_DEVNET=ht.WALLET_PROVIDER_MAINNET=void 0;ht.WALLET_PROVIDER_MAINNET="https://wallet.multiversx.com/dapp/init";ht.WALLET_PROVIDER_DEVNET="https://devnet-wallet.multiversx.com/dapp/init";ht.WALLET_PROVIDER_TESTNET="https://testnet-wallet.multiversx.com/dapp/init";ht.WALLET_PROVIDER_CONNECT_URL="hook/login";ht.WALLET_PROVIDER_DISCONNECT_URL="hook/logout";ht.WALLET_PROVIDER_SEND_TRANSACTION_URL="hook/transaction";ht.WALLET_PROVIDER_SIGN_TRANSACTION_URL="hook/sign";ht.WALLET_PROVIDER_SIGN_MESSAGE_URL="hook/sign-message";ht.WALLET_PROVIDER_CALLBACK_PARAM="walletProviderStatus";ht.WALLET_PROVIDER_CALLBACK_PARAM_TX_SIGNED="transactionsSigned"});var gO=B(Du=>{"use strict";f();Object.defineProperty(Du,"__esModule",{value:!0});Du.ErrInvalidTxSignReturnValue=Du.Err=void 0;var Ip=class extends Error{constructor(e,t){super(e),this.inner=void 0,this.inner=t}};Du.Err=Ip;var Uv=class extends Ip{constructor(){super("Invalid response in transaction sign return url")}};Du.ErrInvalidTxSignReturnValue=Uv});var yO=B(_p=>{"use strict";f();Object.defineProperty(_p,"__esModule",{value:!0});_p.PlainSignedTransaction=void 0;var qv=class{constructor(e){this.nonce=0,this.value="",this.receiver="",this.sender="",this.gasPrice=0,this.gasLimit=0,this.data="",this.chainID="",this.version=0,this.options=void 0,this.signature="",Object.assign(this,e)}};_p.PlainSignedTransaction=qv});var vl=B(es=>{"use strict";f();var po=es&&es.__awaiter||function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(p){try{h(i.next(p))}catch(A){o(A)}}function u(p){try{h(i.throw(p))}catch(A){o(A)}}function h(p){p.done?s(p.value):n(p.value).then(a,u)}h((i=i.apply(r,e||[])).next())})},EG=es&&es.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(es,"__esModule",{value:!0});es.WalletProvider=void 0;var mO=EG(pO()),go=Fv(),wO=gO(),AG=yO(),Ou=class{constructor(e){this.walletUrl=e}login(e){return po(this,void 0,void 0,function*(){let t=this.buildWalletUrl({endpoint:go.WALLET_PROVIDER_CONNECT_URL,callbackUrl:e?.callbackUrl,params:{token:e?.token}});return yield this.redirect(t,e?.redirectDelayMilliseconds),t})}redirect(e,t){return po(this,void 0,void 0,function*(){t?yield this.redirectLater(e,t):this.redirectImmediately(e)})}redirectImmediately(e){window.location.href=e}redirectLater(e,t){return po(this,void 0,void 0,function*(){yield new Promise(i=>{setTimeout(()=>{window.location.href=e,i(!0)},t)})})}logout(e){return po(this,void 0,void 0,function*(){let t=this.buildWalletUrl({endpoint:go.WALLET_PROVIDER_DISCONNECT_URL,callbackUrl:e?.callbackUrl});return yield this.redirect(t,e?.redirectDelayMilliseconds),!0})}signMessage(e,t){return po(this,void 0,void 0,function*(){let i=this.buildWalletUrl({endpoint:go.WALLET_PROVIDER_SIGN_MESSAGE_URL,callbackUrl:t?.callbackUrl,params:{message:e}});return yield this.redirect(i),i})}signTransactions(e,t){return po(this,void 0,void 0,function*(){let i={};e.map(s=>{let o=Ou.prepareWalletTransaction(s);for(let a in o)o.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=[]),i[a].push(o[a])});let n=this.buildWalletUrl({endpoint:go.WALLET_PROVIDER_SIGN_TRANSACTION_URL,callbackUrl:t?.callbackUrl,params:i});window.location.href=n})}signTransaction(e,t){return po(this,void 0,void 0,function*(){yield this.signTransactions([e],t)})}getTransactionsFromWalletUrl(){let e=mO.default.parse(window.location.search.slice(1));return Ou.isTxSignReturnSuccess(e)?this.getTxSignReturnValue(e):[]}static isTxSignReturnSuccess(e){return e.hasOwnProperty(go.WALLET_PROVIDER_CALLBACK_PARAM)&&e[go.WALLET_PROVIDER_CALLBACK_PARAM]===go.WALLET_PROVIDER_CALLBACK_PARAM_TX_SIGNED}getTxSignReturnValue(e){var t;console.info(`Received urlParams: ${e}`);let i=["nonce","value","receiver","sender","gasPrice","gasLimit","chainID","version","signature"];for(let o of i)if(!e[o]||!Array.isArray(e[o]))throw new wO.ErrInvalidTxSignReturnValue;let n=e.nonce.length;for(let o of i)if(e[o].length!==n)throw new wO.ErrInvalidTxSignReturnValue;let s=[];for(let o=0;o<n;o++){let a=new AG.PlainSignedTransaction(Object.assign(Object.assign({nonce:parseInt(e.nonce[o]),value:e.value[o],receiver:e.receiver[o],sender:e.sender[o],gasPrice:parseInt(e.gasPrice[o]),gasLimit:parseInt(e.gasLimit[o]),data:(t=e.data[o])!==null&&t!==void 0?t:"",chainID:e.chainID[o],version:parseInt(e.version[o])},e.options&&e.options[o]?{options:parseInt(e.options[o])}:{}),{signature:e.signature[o]}));s.push(a)}return s}static prepareWalletTransaction(e){let t=e.toPlainObject();return t.data?t.data=y.Buffer.from(t.data,"base64").toString():t.data="",t}buildWalletUrl(e){let t=e?.callbackUrl||window.location.href,i=mO.default.stringify(e.params||{}),n=i?`${i}&callbackUrl=${t}`:`callbackUrl=${t}`,s=`${this.baseWalletUrl()}/${e.endpoint}?${n}`;return console.info(`Redirecting to Wallet URL: ${decodeURI(s)}`),s}baseWalletUrl(){let e=this.walletUrl.split("/"),t=e[0],i=e[2];return t+"//"+i}};es.WalletProvider=Ou});var _O=B(()=>{f()});var CO=B((bO,Vv)=>{f();(function(r,e){"use strict";function t(E,c){if(!E)throw new Error(c||"Assertion failed")}function i(E,c){E.super_=c;var d=function(){};d.prototype=c.prototype,E.prototype=new d,E.prototype.constructor=E}function n(E,c,d){if(n.isBN(E))return E;this.negative=0,this.words=null,this.length=0,this.red=null,E!==null&&((c==="le"||c==="be")&&(d=c,c=10),this._init(E||0,c||10,d||"be"))}typeof r=="object"?r.exports=n:e.BN=n,n.BN=n,n.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=_O().Buffer}catch{}n.isBN=function(c){return c instanceof n?!0:c!==null&&typeof c=="object"&&c.constructor.wordSize===n.wordSize&&Array.isArray(c.words)},n.max=function(c,d){return c.cmp(d)>0?c:d},n.min=function(c,d){return c.cmp(d)<0?c:d},n.prototype._init=function(c,d,g){if(typeof c=="number")return this._initNumber(c,d,g);if(typeof c=="object")return this._initArray(c,d,g);d==="hex"&&(d=16),t(d===(d|0)&&d>=2&&d<=36),c=c.toString().replace(/\s+/g,"");var m=0;c[0]==="-"&&(m++,this.negative=1),m<c.length&&(d===16?this._parseHex(c,m,g):(this._parseBase(c,d,m),g==="le"&&this._initArray(this.toArray(),d,g)))},n.prototype._initNumber=function(c,d,g){c<0&&(this.negative=1,c=-c),c<67108864?(this.words=[c&67108863],this.length=1):c<4503599627370496?(this.words=[c&67108863,c/67108864&67108863],this.length=2):(t(c<9007199254740992),this.words=[c&67108863,c/67108864&67108863,1],this.length=3),g==="le"&&this._initArray(this.toArray(),d,g)},n.prototype._initArray=function(c,d,g){if(t(typeof c.length=="number"),c.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(c.length/3),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var w,S,N=0;if(g==="be")for(m=c.length-1,w=0;m>=0;m-=3)S=c[m]|c[m-1]<<8|c[m-2]<<16,this.words[w]|=S<<N&67108863,this.words[w+1]=S>>>26-N&67108863,N+=24,N>=26&&(N-=26,w++);else if(g==="le")for(m=0,w=0;m<c.length;m+=3)S=c[m]|c[m+1]<<8|c[m+2]<<16,this.words[w]|=S<<N&67108863,this.words[w+1]=S>>>26-N&67108863,N+=24,N>=26&&(N-=26,w++);return this._strip()};function o(E,c){var d=E.charCodeAt(c);if(d>=48&&d<=57)return d-48;if(d>=65&&d<=70)return d-55;if(d>=97&&d<=102)return d-87;t(!1,"Invalid character in "+E)}function a(E,c,d){var g=o(E,d);return d-1>=c&&(g|=o(E,d-1)<<4),g}n.prototype._parseHex=function(c,d,g){this.length=Math.ceil((c.length-d)/6),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var w=0,S=0,N;if(g==="be")for(m=c.length-1;m>=d;m-=2)N=a(c,d,m)<<w,this.words[S]|=N&67108863,w>=18?(w-=18,S+=1,this.words[S]|=N>>>26):w+=8;else{var I=c.length-d;for(m=I%2===0?d+1:d;m<c.length;m+=2)N=a(c,d,m)<<w,this.words[S]|=N&67108863,w>=18?(w-=18,S+=1,this.words[S]|=N>>>26):w+=8}this._strip()};function u(E,c,d,g){for(var m=0,w=0,S=Math.min(E.length,d),N=c;N<S;N++){var I=E.charCodeAt(N)-48;m*=g,I>=49?w=I-49+10:I>=17?w=I-17+10:w=I,t(I>=0&&w<g,"Invalid character"),m+=w}return m}n.prototype._parseBase=function(c,d,g){this.words=[0],this.length=1;for(var m=0,w=1;w<=67108863;w*=d)m++;m--,w=w/d|0;for(var S=c.length-g,N=S%m,I=Math.min(S,S-N)+g,l=0,C=g;C<I;C+=m)l=u(c,C,C+m,d),this.imuln(w),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(N!==0){var Z=1;for(l=u(c,C,c.length,d),C=0;C<N;C++)Z*=d;this.imuln(Z),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this._strip()},n.prototype.copy=function(c){c.words=new Array(this.length);for(var d=0;d<this.length;d++)c.words[d]=this.words[d];c.length=this.length,c.negative=this.negative,c.red=this.red};function h(E,c){E.words=c.words,E.length=c.length,E.negative=c.negative,E.red=c.red}if(n.prototype._move=function(c){h(c,this)},n.prototype.clone=function(){var c=new n(null);return this.copy(c),c},n.prototype._expand=function(c){for(;this.length<c;)this.words[this.length++]=0;return this},n.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},n.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{n.prototype[Symbol.for("nodejs.util.inspect.custom")]=p}catch{n.prototype.inspect=p}else n.prototype.inspect=p;function p(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var A=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],D=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],O=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(c,d){c=c||10,d=d|0||1;var g;if(c===16||c==="hex"){g="";for(var m=0,w=0,S=0;S<this.length;S++){var N=this.words[S],I=((N<<m|w)&16777215).toString(16);w=N>>>24-m&16777215,m+=2,m>=26&&(m-=26,S--),w!==0||S!==this.length-1?g=A[6-I.length]+I+g:g=I+g}for(w!==0&&(g=w.toString(16)+g);g.length%d!==0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}if(c===(c|0)&&c>=2&&c<=36){var l=D[c],C=O[c];g="";var Z=this.clone();for(Z.negative=0;!Z.isZero();){var ie=Z.modrn(C).toString(c);Z=Z.idivn(C),Z.isZero()?g=ie+g:g=A[l-ie.length]+ie+g}for(this.isZero()&&(g="0"+g);g.length%d!==0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}t(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var c=this.words[0];return this.length===2?c+=this.words[1]*67108864:this.length===3&&this.words[2]===1?c+=4503599627370496+this.words[1]*67108864:this.length>2&&t(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-c:c},n.prototype.toJSON=function(){return this.toString(16,2)},s&&(n.prototype.toBuffer=function(c,d){return this.toArrayLike(s,c,d)}),n.prototype.toArray=function(c,d){return this.toArrayLike(Array,c,d)};var T=function(c,d){return c.allocUnsafe?c.allocUnsafe(d):new c(d)};n.prototype.toArrayLike=function(c,d,g){this._strip();var m=this.byteLength(),w=g||Math.max(1,m);t(m<=w,"byte array longer than desired length"),t(w>0,"Requested array length <= 0");var S=T(c,w),N=d==="le"?"LE":"BE";return this["_toArrayLike"+N](S,m),S},n.prototype._toArrayLikeLE=function(c,d){for(var g=0,m=0,w=0,S=0;w<this.length;w++){var N=this.words[w]<<S|m;c[g++]=N&255,g<c.length&&(c[g++]=N>>8&255),g<c.length&&(c[g++]=N>>16&255),S===6?(g<c.length&&(c[g++]=N>>24&255),m=0,S=0):(m=N>>>24,S+=2)}if(g<c.length)for(c[g++]=m;g<c.length;)c[g++]=0},n.prototype._toArrayLikeBE=function(c,d){for(var g=c.length-1,m=0,w=0,S=0;w<this.length;w++){var N=this.words[w]<<S|m;c[g--]=N&255,g>=0&&(c[g--]=N>>8&255),g>=0&&(c[g--]=N>>16&255),S===6?(g>=0&&(c[g--]=N>>24&255),m=0,S=0):(m=N>>>24,S+=2)}if(g>=0)for(c[g--]=m;g>=0;)c[g--]=0},Math.clz32?n.prototype._countBits=function(c){return 32-Math.clz32(c)}:n.prototype._countBits=function(c){var d=c,g=0;return d>=4096&&(g+=13,d>>>=13),d>=64&&(g+=7,d>>>=7),d>=8&&(g+=4,d>>>=4),d>=2&&(g+=2,d>>>=2),g+d},n.prototype._zeroBits=function(c){if(c===0)return 26;var d=c,g=0;return d&8191||(g+=13,d>>>=13),d&127||(g+=7,d>>>=7),d&15||(g+=4,d>>>=4),d&3||(g+=2,d>>>=2),d&1||g++,g},n.prototype.bitLength=function(){var c=this.words[this.length-1],d=this._countBits(c);return(this.length-1)*26+d};function V(E){for(var c=new Array(E.bitLength()),d=0;d<c.length;d++){var g=d/26|0,m=d%26;c[d]=E.words[g]>>>m&1}return c}n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var c=0,d=0;d<this.length;d++){var g=this._zeroBits(this.words[d]);if(c+=g,g!==26)break}return c},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(c){return this.negative!==0?this.abs().inotn(c).iaddn(1):this.clone()},n.prototype.fromTwos=function(c){return this.testn(c-1)?this.notn(c).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return this.negative!==0},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(c){for(;this.length<c.length;)this.words[this.length++]=0;for(var d=0;d<c.length;d++)this.words[d]=this.words[d]|c.words[d];return this._strip()},n.prototype.ior=function(c){return t((this.negative|c.negative)===0),this.iuor(c)},n.prototype.or=function(c){return this.length>c.length?this.clone().ior(c):c.clone().ior(this)},n.prototype.uor=function(c){return this.length>c.length?this.clone().iuor(c):c.clone().iuor(this)},n.prototype.iuand=function(c){var d;this.length>c.length?d=c:d=this;for(var g=0;g<d.length;g++)this.words[g]=this.words[g]&c.words[g];return this.length=d.length,this._strip()},n.prototype.iand=function(c){return t((this.negative|c.negative)===0),this.iuand(c)},n.prototype.and=function(c){return this.length>c.length?this.clone().iand(c):c.clone().iand(this)},n.prototype.uand=function(c){return this.length>c.length?this.clone().iuand(c):c.clone().iuand(this)},n.prototype.iuxor=function(c){var d,g;this.length>c.length?(d=this,g=c):(d=c,g=this);for(var m=0;m<g.length;m++)this.words[m]=d.words[m]^g.words[m];if(this!==d)for(;m<d.length;m++)this.words[m]=d.words[m];return this.length=d.length,this._strip()},n.prototype.ixor=function(c){return t((this.negative|c.negative)===0),this.iuxor(c)},n.prototype.xor=function(c){return this.length>c.length?this.clone().ixor(c):c.clone().ixor(this)},n.prototype.uxor=function(c){return this.length>c.length?this.clone().iuxor(c):c.clone().iuxor(this)},n.prototype.inotn=function(c){t(typeof c=="number"&&c>=0);var d=Math.ceil(c/26)|0,g=c%26;this._expand(d),g>0&&d--;for(var m=0;m<d;m++)this.words[m]=~this.words[m]&67108863;return g>0&&(this.words[m]=~this.words[m]&67108863>>26-g),this._strip()},n.prototype.notn=function(c){return this.clone().inotn(c)},n.prototype.setn=function(c,d){t(typeof c=="number"&&c>=0);var g=c/26|0,m=c%26;return this._expand(g+1),d?this.words[g]=this.words[g]|1<<m:this.words[g]=this.words[g]&~(1<<m),this._strip()},n.prototype.iadd=function(c){var d;if(this.negative!==0&&c.negative===0)return this.negative=0,d=this.isub(c),this.negative^=1,this._normSign();if(this.negative===0&&c.negative!==0)return c.negative=0,d=this.isub(c),c.negative=1,d._normSign();var g,m;this.length>c.length?(g=this,m=c):(g=c,m=this);for(var w=0,S=0;S<m.length;S++)d=(g.words[S]|0)+(m.words[S]|0)+w,this.words[S]=d&67108863,w=d>>>26;for(;w!==0&&S<g.length;S++)d=(g.words[S]|0)+w,this.words[S]=d&67108863,w=d>>>26;if(this.length=g.length,w!==0)this.words[this.length]=w,this.length++;else if(g!==this)for(;S<g.length;S++)this.words[S]=g.words[S];return this},n.prototype.add=function(c){var d;return c.negative!==0&&this.negative===0?(c.negative=0,d=this.sub(c),c.negative^=1,d):c.negative===0&&this.negative!==0?(this.negative=0,d=c.sub(this),this.negative=1,d):this.length>c.length?this.clone().iadd(c):c.clone().iadd(this)},n.prototype.isub=function(c){if(c.negative!==0){c.negative=0;var d=this.iadd(c);return c.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(c),this.negative=1,this._normSign();var g=this.cmp(c);if(g===0)return this.negative=0,this.length=1,this.words[0]=0,this;var m,w;g>0?(m=this,w=c):(m=c,w=this);for(var S=0,N=0;N<w.length;N++)d=(m.words[N]|0)-(w.words[N]|0)+S,S=d>>26,this.words[N]=d&67108863;for(;S!==0&&N<m.length;N++)d=(m.words[N]|0)+S,S=d>>26,this.words[N]=d&67108863;if(S===0&&N<m.length&&m!==this)for(;N<m.length;N++)this.words[N]=m.words[N];return this.length=Math.max(this.length,N),m!==this&&(this.negative=1),this._strip()},n.prototype.sub=function(c){return this.clone().isub(c)};function z(E,c,d){d.negative=c.negative^E.negative;var g=E.length+c.length|0;d.length=g,g=g-1|0;var m=E.words[0]|0,w=c.words[0]|0,S=m*w,N=S&67108863,I=S/67108864|0;d.words[0]=N;for(var l=1;l<g;l++){for(var C=I>>>26,Z=I&67108863,ie=Math.min(l,c.length-1),ee=Math.max(0,l-E.length+1);ee<=ie;ee++){var ae=l-ee|0;m=E.words[ae]|0,w=c.words[ee]|0,S=m*w+Z,C+=S/67108864|0,Z=S&67108863}d.words[l]=Z|0,I=C|0}return I!==0?d.words[l]=I|0:d.length--,d._strip()}var $=function(c,d,g){var m=c.words,w=d.words,S=g.words,N=0,I,l,C,Z=m[0]|0,ie=Z&8191,ee=Z>>>13,ae=m[1]|0,v=ae&8191,b=ae>>>13,x=m[2]|0,L=x&8191,P=x>>>13,U=m[3]|0,q=U&8191,M=U>>>13,Q=m[4]|0,K=Q&8191,H=Q>>>13,ue=m[5]|0,he=ue&8191,de=ue>>>13,Me=m[6]|0,be=Me&8191,xe=Me>>>13,Be=m[7]|0,Ie=Be&8191,Pe=Be>>>13,us=m[8]|0,Ze=us&8191,et=us>>>13,Ar=m[9]|0,ze=Ar&8191,Ue=Ar>>>13,jt=w[0]|0,Ce=jt&8191,mt=jt>>>13,mE=w[1]|0,wt=mE&8191,vt=mE>>>13,wE=w[2]|0,Et=wE&8191,At=wE>>>13,vE=w[3]|0,It=vE&8191,_t=vE>>>13,EE=w[4]|0,bt=EE&8191,Ct=EE>>>13,AE=w[5]|0,St=AE&8191,xt=AE>>>13,IE=w[6]|0,Tt=IE&8191,Nt=IE>>>13,_E=w[7]|0,Dt=_E&8191,Ot=_E>>>13,bE=w[8]|0,Pt=bE&8191,Bt=bE>>>13,CE=w[9]|0,Mt=CE&8191,Rt=CE>>>13;g.negative=c.negative^d.negative,g.length=19,I=Math.imul(ie,Ce),l=Math.imul(ie,mt),l=l+Math.imul(ee,Ce)|0,C=Math.imul(ee,mt);var $p=(N+I|0)+((l&8191)<<13)|0;N=(C+(l>>>13)|0)+($p>>>26)|0,$p&=67108863,I=Math.imul(v,Ce),l=Math.imul(v,mt),l=l+Math.imul(b,Ce)|0,C=Math.imul(b,mt),I=I+Math.imul(ie,wt)|0,l=l+Math.imul(ie,vt)|0,l=l+Math.imul(ee,wt)|0,C=C+Math.imul(ee,vt)|0;var Yp=(N+I|0)+((l&8191)<<13)|0;N=(C+(l>>>13)|0)+(Yp>>>26)|0,Yp&=67108863,I=Math.imul(L,Ce),l=Math.imul(L,mt),l=l+Math.imul(P,Ce)|0,C=Math.imul(P,mt),I=I+Math.imul(v,wt)|0,l=l+Math.imul(v,vt)|0,l=l+Math.imul(b,wt)|0,C=C+Math.imul(b,vt)|0,I=I+Math.imul(ie,Et)|0,l=l+Math.imul(ie,At)|0,l=l+Math.imul(ee,Et)|0,C=C+Math.imul(ee,At)|0;var Jp=(N+I|0)+((l&8191)<<13)|0;N=(C+(l>>>13)|0)+(Jp>>>26)|0,Jp&=67108863,I=Math.imul(q,Ce),l=Math.imul(q,mt),l=l+Math.imul(M,Ce)|0,C=Math.imul(M,mt),I=I+Math.imul(L,wt)|0,l=l+Math.imul(L,vt)|0,l=l+Math.imul(P,wt)|0,C=C+Math.imul(P,vt)|0,I=I+Math.imul(v,Et)|0,l=l+Math.imul(v,At)|0,l=l+Math.imul(b,Et)|0,C=C+Math.imul(b,At)|0,I=I+Math.imul(ie,It)|0,l=l+Math.imul(ie,_t)|0,l=l+Math.imul(ee,It)|0,C=C+Math.imul(ee,_t)|0;var Xp=(N+I|0)+((l&8191)<<13)|0;N=(C+(l>>>13)|0)+(Xp>>>26)|0,Xp&=67108863,I=Math.imul(K,Ce),l=Math.imul(K,mt),l=l+Math.imul(H,Ce)|0,C=Math.imul(H,mt),I=I+Math.imul(q,wt)|0,l=l+Math.imul(q,vt)|0,l=l+Math.imul(M,wt)|0,C=C+Math.imul(M,vt)|0,I=I+Math.imul(L,Et)|0,l=l+Math.imul(L,At)|0,l=l+Math.imul(P,Et)|0,C=C+Math.imul(P,At)|0,I=I+Math.imul(v,It)|0,l=l+Math.imul(v,_t)|0,l=l+Math.imul(b,It)|0,C=C+Math.imul(b,_t)|0,I=I+Math.imul(ie,bt)|0,l=l+Math.imul(ie,Ct)|0,l=l+Math.imul(ee,bt)|0,C=C+Math.imul(ee,Ct)|0;var Zp=(N+I|0)+((l&8191)<<13)|0;N=(C+(l>>>13)|0)+(Zp>>>26)|0,Zp&=67108863,I=Math.imul(he,Ce),l=Math.imul(he,mt),l=l+Math.imul(de,Ce)|0,C=Math.imul(de,mt),I=I+Math.imul(K,wt)|0,l=l+Math.imul(K,vt)|0,l=l+Math.imul(H,wt)|0,C=C+Math.imul(H,vt)|0,I=I+Math.imul(q,Et)|0,l=l+Math.imul(q,At)|0,l=l+Math.imul(M,Et)|0,C=C+Math.imul(M,At)|0,I=I+Math.imul(L,It)|0,l=l+Math.imul(L,_t)|0,l=l+Math.imul(P,It)|0,C=C+Math.imul(P,_t)|0,I=I+Math.imul(v,bt)|0,l=l+Math.imul(v,Ct)|0,l=l+Math.imul(b,bt)|0,C=C+Math.imul(b,Ct)|0,I=I+Math.imul(ie,St)|0,l=l+Math.imul(ie,xt)|0,l=l+Math.imul(ee,St)|0,C=C+Math.imul(ee,xt)|0;var e0=(N+I|0)+((l&8191)<<13)|0;N=(C+(l>>>13)|0)+(e0>>>26)|0,e0&=67108863,I=Math.imul(be,Ce),l=Math.imul(be,mt),l=l+Math.imul(xe,Ce)|0,C=Math.imul(xe,mt),I=I+Math.imul(he,wt)|0,l=l+Math.imul(he,vt)|0,l=l+Math.imul(de,wt)|0,C=C+Math.imul(de,vt)|0,I=I+Math.imul(K,Et)|0,l=l+Math.imul(K,At)|0,l=l+Math.imul(H,Et)|0,C=C+Math.imul(H,At)|0,I=I+Math.imul(q,It)|0,l=l+Math.imul(q,_t)|0,l=l+Math.imul(M,It)|0,C=C+Math.imul(M,_t)|0,I=I+Math.imul(L,bt)|0,l=l+Math.imul(L,Ct)|0,l=l+Math.imul(P,bt)|0,C=C+Math.imul(P,Ct)|0,I=I+Math.imul(v,St)|0,l=l+Math.imul(v,xt)|0,l=l+Math.imul(b,St)|0,C=C+Math.imul(b,xt)|0,I=I+Math.imul(ie,Tt)|0,l=l+Math.imul(ie,Nt)|0,l=l+Math.imul(ee,Tt)|0,C=C+Math.imul(ee,Nt)|0;var t0=(N+I|0)+((l&8191)<<13)|0;N=(C+(l>>>13)|0)+(t0>>>26)|0,t0&=67108863,I=Math.imul(Ie,Ce),l=Math.imul(Ie,mt),l=l+Math.imul(Pe,Ce)|0,C=Math.imul(Pe,mt),I=I+Math.imul(be,wt)|0,l=l+Math.imul(be,vt)|0,l=l+Math.imul(xe,wt)|0,C=C+Math.imul(xe,vt)|0,I=I+Math.imul(he,Et)|0,l=l+Math.imul(he,At)|0,l=l+Math.imul(de,Et)|0,C=C+Math.imul(de,At)|0,I=I+Math.imul(K,It)|0,l=l+Math.imul(K,_t)|0,l=l+Math.imul(H,It)|0,C=C+Math.imul(H,_t)|0,I=I+Math.imul(q,bt)|0,l=l+Math.imul(q,Ct)|0,l=l+Math.imul(M,bt)|0,C=C+Math.imul(M,Ct)|0,I=I+Math.imul(L,St)|0,l=l+Math.imul(L,xt)|0,l=l+Math.imul(P,St)|0,C=C+Math.imul(P,xt)|0,I=I+Math.imul(v,Tt)|0,l=l+Math.imul(v,Nt)|0,l=l+Math.imul(b,Tt)|0,C=C+Math.imul(b,Nt)|0,I=I+Math.imul(ie,Dt)|0,l=l+Math.imul(ie,Ot)|0,l=l+Math.imul(ee,Dt)|0,C=C+Math.imul(ee,Ot)|0;var r0=(N+I|0)+((l&8191)<<13)|0;N=(C+(l>>>13)|0)+(r0>>>26)|0,r0&=67108863,I=Math.imul(Ze,Ce),l=Math.imul(Ze,mt),l=l+Math.imul(et,Ce)|0,C=Math.imul(et,mt),I=I+Math.imul(Ie,wt)|0,l=l+Math.imul(Ie,vt)|0,l=l+Math.imul(Pe,wt)|0,C=C+Math.imul(Pe,vt)|0,I=I+Math.imul(be,Et)|0,l=l+Math.imul(be,At)|0,l=l+Math.imul(xe,Et)|0,C=C+Math.imul(xe,At)|0,I=I+Math.imul(he,It)|0,l=l+Math.imul(he,_t)|0,l=l+Math.imul(de,It)|0,C=C+Math.imul(de,_t)|0,I=I+Math.imul(K,bt)|0,l=l+Math.imul(K,Ct)|0,l=l+Math.imul(H,bt)|0,C=C+Math.imul(H,Ct)|0,I=I+Math.imul(q,St)|0,l=l+Math.imul(q,xt)|0,l=l+Math.imul(M,St)|0,C=C+Math.imul(M,xt)|0,I=I+Math.imul(L,Tt)|0,l=l+Math.imul(L,Nt)|0,l=l+Math.imul(P,Tt)|0,C=C+Math.imul(P,Nt)|0,I=I+Math.imul(v,Dt)|0,l=l+Math.imul(v,Ot)|0,l=l+Math.imul(b,Dt)|0,C=C+Math.imul(b,Ot)|0,I=I+Math.imul(ie,Pt)|0,l=l+Math.imul(ie,Bt)|0,l=l+Math.imul(ee,Pt)|0,C=C+Math.imul(ee,Bt)|0;var i0=(N+I|0)+((l&8191)<<13)|0;N=(C+(l>>>13)|0)+(i0>>>26)|0,i0&=67108863,I=Math.imul(ze,Ce),l=Math.imul(ze,mt),l=l+Math.imul(Ue,Ce)|0,C=Math.imul(Ue,mt),I=I+Math.imul(Ze,wt)|0,l=l+Math.imul(Ze,vt)|0,l=l+Math.imul(et,wt)|0,C=C+Math.imul(et,vt)|0,I=I+Math.imul(Ie,Et)|0,l=l+Math.imul(Ie,At)|0,l=l+Math.imul(Pe,Et)|0,C=C+Math.imul(Pe,At)|0,I=I+Math.imul(be,It)|0,l=l+Math.imul(be,_t)|0,l=l+Math.imul(xe,It)|0,C=C+Math.imul(xe,_t)|0,I=I+Math.imul(he,bt)|0,l=l+Math.imul(he,Ct)|0,l=l+Math.imul(de,bt)|0,C=C+Math.imul(de,Ct)|0,I=I+Math.imul(K,St)|0,l=l+Math.imul(K,xt)|0,l=l+Math.imul(H,St)|0,C=C+Math.imul(H,xt)|0,I=I+Math.imul(q,Tt)|0,l=l+Math.imul(q,Nt)|0,l=l+Math.imul(M,Tt)|0,C=C+Math.imul(M,Nt)|0,I=I+Math.imul(L,Dt)|0,l=l+Math.imul(L,Ot)|0,l=l+Math.imul(P,Dt)|0,C=C+Math.imul(P,Ot)|0,I=I+Math.imul(v,Pt)|0,l=l+Math.imul(v,Bt)|0,l=l+Math.imul(b,Pt)|0,C=C+Math.imul(b,Bt)|0,I=I+Math.imul(ie,Mt)|0,l=l+Math.imul(ie,Rt)|0,l=l+Math.imul(ee,Mt)|0,C=C+Math.imul(ee,Rt)|0;var n0=(N+I|0)+((l&8191)<<13)|0;N=(C+(l>>>13)|0)+(n0>>>26)|0,n0&=67108863,I=Math.imul(ze,wt),l=Math.imul(ze,vt),l=l+Math.imul(Ue,wt)|0,C=Math.imul(Ue,vt),I=I+Math.imul(Ze,Et)|0,l=l+Math.imul(Ze,At)|0,l=l+Math.imul(et,Et)|0,C=C+Math.imul(et,At)|0,I=I+Math.imul(Ie,It)|0,l=l+Math.imul(Ie,_t)|0,l=l+Math.imul(Pe,It)|0,C=C+Math.imul(Pe,_t)|0,I=I+Math.imul(be,bt)|0,l=l+Math.imul(be,Ct)|0,l=l+Math.imul(xe,bt)|0,C=C+Math.imul(xe,Ct)|0,I=I+Math.imul(he,St)|0,l=l+Math.imul(he,xt)|0,l=l+Math.imul(de,St)|0,C=C+Math.imul(de,xt)|0,I=I+Math.imul(K,Tt)|0,l=l+Math.imul(K,Nt)|0,l=l+Math.imul(H,Tt)|0,C=C+Math.imul(H,Nt)|0,I=I+Math.imul(q,Dt)|0,l=l+Math.imul(q,Ot)|0,l=l+Math.imul(M,Dt)|0,C=C+Math.imul(M,Ot)|0,I=I+Math.imul(L,Pt)|0,l=l+Math.imul(L,Bt)|0,l=l+Math.imul(P,Pt)|0,C=C+Math.imul(P,Bt)|0,I=I+Math.imul(v,Mt)|0,l=l+Math.imul(v,Rt)|0,l=l+Math.imul(b,Mt)|0,C=C+Math.imul(b,Rt)|0;var s0=(N+I|0)+((l&8191)<<13)|0;N=(C+(l>>>13)|0)+(s0>>>26)|0,s0&=67108863,I=Math.imul(ze,Et),l=Math.imul(ze,At),l=l+Math.imul(Ue,Et)|0,C=Math.imul(Ue,At),I=I+Math.imul(Ze,It)|0,l=l+Math.imul(Ze,_t)|0,l=l+Math.imul(et,It)|0,C=C+Math.imul(et,_t)|0,I=I+Math.imul(Ie,bt)|0,l=l+Math.imul(Ie,Ct)|0,l=l+Math.imul(Pe,bt)|0,C=C+Math.imul(Pe,Ct)|0,I=I+Math.imul(be,St)|0,l=l+Math.imul(be,xt)|0,l=l+Math.imul(xe,St)|0,C=C+Math.imul(xe,xt)|0,I=I+Math.imul(he,Tt)|0,l=l+Math.imul(he,Nt)|0,l=l+Math.imul(de,Tt)|0,C=C+Math.imul(de,Nt)|0,I=I+Math.imul(K,Dt)|0,l=l+Math.imul(K,Ot)|0,l=l+Math.imul(H,Dt)|0,C=C+Math.imul(H,Ot)|0,I=I+Math.imul(q,Pt)|0,l=l+Math.imul(q,Bt)|0,l=l+Math.imul(M,Pt)|0,C=C+Math.imul(M,Bt)|0,I=I+Math.imul(L,Mt)|0,l=l+Math.imul(L,Rt)|0,l=l+Math.imul(P,Mt)|0,C=C+Math.imul(P,Rt)|0;var o0=(N+I|0)+((l&8191)<<13)|0;N=(C+(l>>>13)|0)+(o0>>>26)|0,o0&=67108863,I=Math.imul(ze,It),l=Math.imul(ze,_t),l=l+Math.imul(Ue,It)|0,C=Math.imul(Ue,_t),I=I+Math.imul(Ze,bt)|0,l=l+Math.imul(Ze,Ct)|0,l=l+Math.imul(et,bt)|0,C=C+Math.imul(et,Ct)|0,I=I+Math.imul(Ie,St)|0,l=l+Math.imul(Ie,xt)|0,l=l+Math.imul(Pe,St)|0,C=C+Math.imul(Pe,xt)|0,I=I+Math.imul(be,Tt)|0,l=l+Math.imul(be,Nt)|0,l=l+Math.imul(xe,Tt)|0,C=C+Math.imul(xe,Nt)|0,I=I+Math.imul(he,Dt)|0,l=l+Math.imul(he,Ot)|0,l=l+Math.imul(de,Dt)|0,C=C+Math.imul(de,Ot)|0,I=I+Math.imul(K,Pt)|0,l=l+Math.imul(K,Bt)|0,l=l+Math.imul(H,Pt)|0,C=C+Math.imul(H,Bt)|0,I=I+Math.imul(q,Mt)|0,l=l+Math.imul(q,Rt)|0,l=l+Math.imul(M,Mt)|0,C=C+Math.imul(M,Rt)|0;var a0=(N+I|0)+((l&8191)<<13)|0;N=(C+(l>>>13)|0)+(a0>>>26)|0,a0&=67108863,I=Math.imul(ze,bt),l=Math.imul(ze,Ct),l=l+Math.imul(Ue,bt)|0,C=Math.imul(Ue,Ct),I=I+Math.imul(Ze,St)|0,l=l+Math.imul(Ze,xt)|0,l=l+Math.imul(et,St)|0,C=C+Math.imul(et,xt)|0,I=I+Math.imul(Ie,Tt)|0,l=l+Math.imul(Ie,Nt)|0,l=l+Math.imul(Pe,Tt)|0,C=C+Math.imul(Pe,Nt)|0,I=I+Math.imul(be,Dt)|0,l=l+Math.imul(be,Ot)|0,l=l+Math.imul(xe,Dt)|0,C=C+Math.imul(xe,Ot)|0,I=I+Math.imul(he,Pt)|0,l=l+Math.imul(he,Bt)|0,l=l+Math.imul(de,Pt)|0,C=C+Math.imul(de,Bt)|0,I=I+Math.imul(K,Mt)|0,l=l+Math.imul(K,Rt)|0,l=l+Math.imul(H,Mt)|0,C=C+Math.imul(H,Rt)|0;var u0=(N+I|0)+((l&8191)<<13)|0;N=(C+(l>>>13)|0)+(u0>>>26)|0,u0&=67108863,I=Math.imul(ze,St),l=Math.imul(ze,xt),l=l+Math.imul(Ue,St)|0,C=Math.imul(Ue,xt),I=I+Math.imul(Ze,Tt)|0,l=l+Math.imul(Ze,Nt)|0,l=l+Math.imul(et,Tt)|0,C=C+Math.imul(et,Nt)|0,I=I+Math.imul(Ie,Dt)|0,l=l+Math.imul(Ie,Ot)|0,l=l+Math.imul(Pe,Dt)|0,C=C+Math.imul(Pe,Ot)|0,I=I+Math.imul(be,Pt)|0,l=l+Math.imul(be,Bt)|0,l=l+Math.imul(xe,Pt)|0,C=C+Math.imul(xe,Bt)|0,I=I+Math.imul(he,Mt)|0,l=l+Math.imul(he,Rt)|0,l=l+Math.imul(de,Mt)|0,C=C+Math.imul(de,Rt)|0;var c0=(N+I|0)+((l&8191)<<13)|0;N=(C+(l>>>13)|0)+(c0>>>26)|0,c0&=67108863,I=Math.imul(ze,Tt),l=Math.imul(ze,Nt),l=l+Math.imul(Ue,Tt)|0,C=Math.imul(Ue,Nt),I=I+Math.imul(Ze,Dt)|0,l=l+Math.imul(Ze,Ot)|0,l=l+Math.imul(et,Dt)|0,C=C+Math.imul(et,Ot)|0,I=I+Math.imul(Ie,Pt)|0,l=l+Math.imul(Ie,Bt)|0,l=l+Math.imul(Pe,Pt)|0,C=C+Math.imul(Pe,Bt)|0,I=I+Math.imul(be,Mt)|0,l=l+Math.imul(be,Rt)|0,l=l+Math.imul(xe,Mt)|0,C=C+Math.imul(xe,Rt)|0;var l0=(N+I|0)+((l&8191)<<13)|0;N=(C+(l>>>13)|0)+(l0>>>26)|0,l0&=67108863,I=Math.imul(ze,Dt),l=Math.imul(ze,Ot),l=l+Math.imul(Ue,Dt)|0,C=Math.imul(Ue,Ot),I=I+Math.imul(Ze,Pt)|0,l=l+Math.imul(Ze,Bt)|0,l=l+Math.imul(et,Pt)|0,C=C+Math.imul(et,Bt)|0,I=I+Math.imul(Ie,Mt)|0,l=l+Math.imul(Ie,Rt)|0,l=l+Math.imul(Pe,Mt)|0,C=C+Math.imul(Pe,Rt)|0;var f0=(N+I|0)+((l&8191)<<13)|0;N=(C+(l>>>13)|0)+(f0>>>26)|0,f0&=67108863,I=Math.imul(ze,Pt),l=Math.imul(ze,Bt),l=l+Math.imul(Ue,Pt)|0,C=Math.imul(Ue,Bt),I=I+Math.imul(Ze,Mt)|0,l=l+Math.imul(Ze,Rt)|0,l=l+Math.imul(et,Mt)|0,C=C+Math.imul(et,Rt)|0;var h0=(N+I|0)+((l&8191)<<13)|0;N=(C+(l>>>13)|0)+(h0>>>26)|0,h0&=67108863,I=Math.imul(ze,Mt),l=Math.imul(ze,Rt),l=l+Math.imul(Ue,Mt)|0,C=Math.imul(Ue,Rt);var d0=(N+I|0)+((l&8191)<<13)|0;return N=(C+(l>>>13)|0)+(d0>>>26)|0,d0&=67108863,S[0]=$p,S[1]=Yp,S[2]=Jp,S[3]=Xp,S[4]=Zp,S[5]=e0,S[6]=t0,S[7]=r0,S[8]=i0,S[9]=n0,S[10]=s0,S[11]=o0,S[12]=a0,S[13]=u0,S[14]=c0,S[15]=l0,S[16]=f0,S[17]=h0,S[18]=d0,N!==0&&(S[19]=N,g.length++),g};Math.imul||($=z);function se(E,c,d){d.negative=c.negative^E.negative,d.length=E.length+c.length;for(var g=0,m=0,w=0;w<d.length-1;w++){var S=m;m=0;for(var N=g&67108863,I=Math.min(w,c.length-1),l=Math.max(0,w-E.length+1);l<=I;l++){var C=w-l,Z=E.words[C]|0,ie=c.words[l]|0,ee=Z*ie,ae=ee&67108863;S=S+(ee/67108864|0)|0,ae=ae+N|0,N=ae&67108863,S=S+(ae>>>26)|0,m+=S>>>26,S&=67108863}d.words[w]=N,g=S,S=m}return g!==0?d.words[w]=g:d.length--,d._strip()}function Y(E,c,d){return se(E,c,d)}n.prototype.mulTo=function(c,d){var g,m=this.length+c.length;return this.length===10&&c.length===10?g=$(this,c,d):m<63?g=z(this,c,d):m<1024?g=se(this,c,d):g=Y(this,c,d),g};function j(E,c){this.x=E,this.y=c}j.prototype.makeRBT=function(c){for(var d=new Array(c),g=n.prototype._countBits(c)-1,m=0;m<c;m++)d[m]=this.revBin(m,g,c);return d},j.prototype.revBin=function(c,d,g){if(c===0||c===g-1)return c;for(var m=0,w=0;w<d;w++)m|=(c&1)<<d-w-1,c>>=1;return m},j.prototype.permute=function(c,d,g,m,w,S){for(var N=0;N<S;N++)m[N]=d[c[N]],w[N]=g[c[N]]},j.prototype.transform=function(c,d,g,m,w,S){this.permute(S,c,d,g,m,w);for(var N=1;N<w;N<<=1)for(var I=N<<1,l=Math.cos(2*Math.PI/I),C=Math.sin(2*Math.PI/I),Z=0;Z<w;Z+=I)for(var ie=l,ee=C,ae=0;ae<N;ae++){var v=g[Z+ae],b=m[Z+ae],x=g[Z+ae+N],L=m[Z+ae+N],P=ie*x-ee*L;L=ie*L+ee*x,x=P,g[Z+ae]=v+x,m[Z+ae]=b+L,g[Z+ae+N]=v-x,m[Z+ae+N]=b-L,ae!==I&&(P=l*ie-C*ee,ee=l*ee+C*ie,ie=P)}},j.prototype.guessLen13b=function(c,d){var g=Math.max(d,c)|1,m=g&1,w=0;for(g=g/2|0;g;g=g>>>1)w++;return 1<<w+1+m},j.prototype.conjugate=function(c,d,g){if(!(g<=1))for(var m=0;m<g/2;m++){var w=c[m];c[m]=c[g-m-1],c[g-m-1]=w,w=d[m],d[m]=-d[g-m-1],d[g-m-1]=-w}},j.prototype.normalize13b=function(c,d){for(var g=0,m=0;m<d/2;m++){var w=Math.round(c[2*m+1]/d)*8192+Math.round(c[2*m]/d)+g;c[m]=w&67108863,w<67108864?g=0:g=w/67108864|0}return c},j.prototype.convert13b=function(c,d,g,m){for(var w=0,S=0;S<d;S++)w=w+(c[S]|0),g[2*S]=w&8191,w=w>>>13,g[2*S+1]=w&8191,w=w>>>13;for(S=2*d;S<m;++S)g[S]=0;t(w===0),t((w&-8192)===0)},j.prototype.stub=function(c){for(var d=new Array(c),g=0;g<c;g++)d[g]=0;return d},j.prototype.mulp=function(c,d,g){var m=2*this.guessLen13b(c.length,d.length),w=this.makeRBT(m),S=this.stub(m),N=new Array(m),I=new Array(m),l=new Array(m),C=new Array(m),Z=new Array(m),ie=new Array(m),ee=g.words;ee.length=m,this.convert13b(c.words,c.length,N,m),this.convert13b(d.words,d.length,C,m),this.transform(N,S,I,l,m,w),this.transform(C,S,Z,ie,m,w);for(var ae=0;ae<m;ae++){var v=I[ae]*Z[ae]-l[ae]*ie[ae];l[ae]=I[ae]*ie[ae]+l[ae]*Z[ae],I[ae]=v}return this.conjugate(I,l,m),this.transform(I,l,ee,S,m,w),this.conjugate(ee,S,m),this.normalize13b(ee,m),g.negative=c.negative^d.negative,g.length=c.length+d.length,g._strip()},n.prototype.mul=function(c){var d=new n(null);return d.words=new Array(this.length+c.length),this.mulTo(c,d)},n.prototype.mulf=function(c){var d=new n(null);return d.words=new Array(this.length+c.length),Y(this,c,d)},n.prototype.imul=function(c){return this.clone().mulTo(c,this)},n.prototype.imuln=function(c){var d=c<0;d&&(c=-c),t(typeof c=="number"),t(c<67108864);for(var g=0,m=0;m<this.length;m++){var w=(this.words[m]|0)*c,S=(w&67108863)+(g&67108863);g>>=26,g+=w/67108864|0,g+=S>>>26,this.words[m]=S&67108863}return g!==0&&(this.words[m]=g,this.length++),d?this.ineg():this},n.prototype.muln=function(c){return this.clone().imuln(c)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(c){var d=V(c);if(d.length===0)return new n(1);for(var g=this,m=0;m<d.length&&d[m]===0;m++,g=g.sqr());if(++m<d.length)for(var w=g.sqr();m<d.length;m++,w=w.sqr())d[m]!==0&&(g=g.mul(w));return g},n.prototype.iushln=function(c){t(typeof c=="number"&&c>=0);var d=c%26,g=(c-d)/26,m=67108863>>>26-d<<26-d,w;if(d!==0){var S=0;for(w=0;w<this.length;w++){var N=this.words[w]&m,I=(this.words[w]|0)-N<<d;this.words[w]=I|S,S=N>>>26-d}S&&(this.words[w]=S,this.length++)}if(g!==0){for(w=this.length-1;w>=0;w--)this.words[w+g]=this.words[w];for(w=0;w<g;w++)this.words[w]=0;this.length+=g}return this._strip()},n.prototype.ishln=function(c){return t(this.negative===0),this.iushln(c)},n.prototype.iushrn=function(c,d,g){t(typeof c=="number"&&c>=0);var m;d?m=(d-d%26)/26:m=0;var w=c%26,S=Math.min((c-w)/26,this.length),N=67108863^67108863>>>w<<w,I=g;if(m-=S,m=Math.max(0,m),I){for(var l=0;l<S;l++)I.words[l]=this.words[l];I.length=S}if(S!==0)if(this.length>S)for(this.length-=S,l=0;l<this.length;l++)this.words[l]=this.words[l+S];else this.words[0]=0,this.length=1;var C=0;for(l=this.length-1;l>=0&&(C!==0||l>=m);l--){var Z=this.words[l]|0;this.words[l]=C<<26-w|Z>>>w,C=Z&N}return I&&C!==0&&(I.words[I.length++]=C),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},n.prototype.ishrn=function(c,d,g){return t(this.negative===0),this.iushrn(c,d,g)},n.prototype.shln=function(c){return this.clone().ishln(c)},n.prototype.ushln=function(c){return this.clone().iushln(c)},n.prototype.shrn=function(c){return this.clone().ishrn(c)},n.prototype.ushrn=function(c){return this.clone().iushrn(c)},n.prototype.testn=function(c){t(typeof c=="number"&&c>=0);var d=c%26,g=(c-d)/26,m=1<<d;if(this.length<=g)return!1;var w=this.words[g];return!!(w&m)},n.prototype.imaskn=function(c){t(typeof c=="number"&&c>=0);var d=c%26,g=(c-d)/26;if(t(this.negative===0,"imaskn works only with positive numbers"),this.length<=g)return this;if(d!==0&&g++,this.length=Math.min(g,this.length),d!==0){var m=67108863^67108863>>>d<<d;this.words[this.length-1]&=m}return this._strip()},n.prototype.maskn=function(c){return this.clone().imaskn(c)},n.prototype.iaddn=function(c){return t(typeof c=="number"),t(c<67108864),c<0?this.isubn(-c):this.negative!==0?this.length===1&&(this.words[0]|0)<=c?(this.words[0]=c-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(c),this.negative=1,this):this._iaddn(c)},n.prototype._iaddn=function(c){this.words[0]+=c;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},n.prototype.isubn=function(c){if(t(typeof c=="number"),t(c<67108864),c<0)return this.iaddn(-c);if(this.negative!==0)return this.negative=0,this.iaddn(c),this.negative=1,this;if(this.words[0]-=c,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this._strip()},n.prototype.addn=function(c){return this.clone().iaddn(c)},n.prototype.subn=function(c){return this.clone().isubn(c)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(c,d,g){var m=c.length+g,w;this._expand(m);var S,N=0;for(w=0;w<c.length;w++){S=(this.words[w+g]|0)+N;var I=(c.words[w]|0)*d;S-=I&67108863,N=(S>>26)-(I/67108864|0),this.words[w+g]=S&67108863}for(;w<this.length-g;w++)S=(this.words[w+g]|0)+N,N=S>>26,this.words[w+g]=S&67108863;if(N===0)return this._strip();for(t(N===-1),N=0,w=0;w<this.length;w++)S=-(this.words[w]|0)+N,N=S>>26,this.words[w]=S&67108863;return this.negative=1,this._strip()},n.prototype._wordDiv=function(c,d){var g=this.length-c.length,m=this.clone(),w=c,S=w.words[w.length-1]|0,N=this._countBits(S);g=26-N,g!==0&&(w=w.ushln(g),m.iushln(g),S=w.words[w.length-1]|0);var I=m.length-w.length,l;if(d!=="mod"){l=new n(null),l.length=I+1,l.words=new Array(l.length);for(var C=0;C<l.length;C++)l.words[C]=0}var Z=m.clone()._ishlnsubmul(w,1,I);Z.negative===0&&(m=Z,l&&(l.words[I]=1));for(var ie=I-1;ie>=0;ie--){var ee=(m.words[w.length+ie]|0)*67108864+(m.words[w.length+ie-1]|0);for(ee=Math.min(ee/S|0,67108863),m._ishlnsubmul(w,ee,ie);m.negative!==0;)ee--,m.negative=0,m._ishlnsubmul(w,1,ie),m.isZero()||(m.negative^=1);l&&(l.words[ie]=ee)}return l&&l._strip(),m._strip(),d!=="div"&&g!==0&&m.iushrn(g),{div:l||null,mod:m}},n.prototype.divmod=function(c,d,g){if(t(!c.isZero()),this.isZero())return{div:new n(0),mod:new n(0)};var m,w,S;return this.negative!==0&&c.negative===0?(S=this.neg().divmod(c,d),d!=="mod"&&(m=S.div.neg()),d!=="div"&&(w=S.mod.neg(),g&&w.negative!==0&&w.iadd(c)),{div:m,mod:w}):this.negative===0&&c.negative!==0?(S=this.divmod(c.neg(),d),d!=="mod"&&(m=S.div.neg()),{div:m,mod:S.mod}):this.negative&c.negative?(S=this.neg().divmod(c.neg(),d),d!=="div"&&(w=S.mod.neg(),g&&w.negative!==0&&w.isub(c)),{div:S.div,mod:w}):c.length>this.length||this.cmp(c)<0?{div:new n(0),mod:this}:c.length===1?d==="div"?{div:this.divn(c.words[0]),mod:null}:d==="mod"?{div:null,mod:new n(this.modrn(c.words[0]))}:{div:this.divn(c.words[0]),mod:new n(this.modrn(c.words[0]))}:this._wordDiv(c,d)},n.prototype.div=function(c){return this.divmod(c,"div",!1).div},n.prototype.mod=function(c){return this.divmod(c,"mod",!1).mod},n.prototype.umod=function(c){return this.divmod(c,"mod",!0).mod},n.prototype.divRound=function(c){var d=this.divmod(c);if(d.mod.isZero())return d.div;var g=d.div.negative!==0?d.mod.isub(c):d.mod,m=c.ushrn(1),w=c.andln(1),S=g.cmp(m);return S<0||w===1&&S===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},n.prototype.modrn=function(c){var d=c<0;d&&(c=-c),t(c<=67108863);for(var g=(1<<26)%c,m=0,w=this.length-1;w>=0;w--)m=(g*m+(this.words[w]|0))%c;return d?-m:m},n.prototype.modn=function(c){return this.modrn(c)},n.prototype.idivn=function(c){var d=c<0;d&&(c=-c),t(c<=67108863);for(var g=0,m=this.length-1;m>=0;m--){var w=(this.words[m]|0)+g*67108864;this.words[m]=w/c|0,g=w%c}return this._strip(),d?this.ineg():this},n.prototype.divn=function(c){return this.clone().idivn(c)},n.prototype.egcd=function(c){t(c.negative===0),t(!c.isZero());var d=this,g=c.clone();d.negative!==0?d=d.umod(c):d=d.clone();for(var m=new n(1),w=new n(0),S=new n(0),N=new n(1),I=0;d.isEven()&&g.isEven();)d.iushrn(1),g.iushrn(1),++I;for(var l=g.clone(),C=d.clone();!d.isZero();){for(var Z=0,ie=1;!(d.words[0]&ie)&&Z<26;++Z,ie<<=1);if(Z>0)for(d.iushrn(Z);Z-- >0;)(m.isOdd()||w.isOdd())&&(m.iadd(l),w.isub(C)),m.iushrn(1),w.iushrn(1);for(var ee=0,ae=1;!(g.words[0]&ae)&&ee<26;++ee,ae<<=1);if(ee>0)for(g.iushrn(ee);ee-- >0;)(S.isOdd()||N.isOdd())&&(S.iadd(l),N.isub(C)),S.iushrn(1),N.iushrn(1);d.cmp(g)>=0?(d.isub(g),m.isub(S),w.isub(N)):(g.isub(d),S.isub(m),N.isub(w))}return{a:S,b:N,gcd:g.iushln(I)}},n.prototype._invmp=function(c){t(c.negative===0),t(!c.isZero());var d=this,g=c.clone();d.negative!==0?d=d.umod(c):d=d.clone();for(var m=new n(1),w=new n(0),S=g.clone();d.cmpn(1)>0&&g.cmpn(1)>0;){for(var N=0,I=1;!(d.words[0]&I)&&N<26;++N,I<<=1);if(N>0)for(d.iushrn(N);N-- >0;)m.isOdd()&&m.iadd(S),m.iushrn(1);for(var l=0,C=1;!(g.words[0]&C)&&l<26;++l,C<<=1);if(l>0)for(g.iushrn(l);l-- >0;)w.isOdd()&&w.iadd(S),w.iushrn(1);d.cmp(g)>=0?(d.isub(g),m.isub(w)):(g.isub(d),w.isub(m))}var Z;return d.cmpn(1)===0?Z=m:Z=w,Z.cmpn(0)<0&&Z.iadd(c),Z},n.prototype.gcd=function(c){if(this.isZero())return c.abs();if(c.isZero())return this.abs();var d=this.clone(),g=c.clone();d.negative=0,g.negative=0;for(var m=0;d.isEven()&&g.isEven();m++)d.iushrn(1),g.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;g.isEven();)g.iushrn(1);var w=d.cmp(g);if(w<0){var S=d;d=g,g=S}else if(w===0||g.cmpn(1)===0)break;d.isub(g)}while(!0);return g.iushln(m)},n.prototype.invm=function(c){return this.egcd(c).a.umod(c)},n.prototype.isEven=function(){return(this.words[0]&1)===0},n.prototype.isOdd=function(){return(this.words[0]&1)===1},n.prototype.andln=function(c){return this.words[0]&c},n.prototype.bincn=function(c){t(typeof c=="number");var d=c%26,g=(c-d)/26,m=1<<d;if(this.length<=g)return this._expand(g+1),this.words[g]|=m,this;for(var w=m,S=g;w!==0&&S<this.length;S++){var N=this.words[S]|0;N+=w,w=N>>>26,N&=67108863,this.words[S]=N}return w!==0&&(this.words[S]=w,this.length++),this},n.prototype.isZero=function(){return this.length===1&&this.words[0]===0},n.prototype.cmpn=function(c){var d=c<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this._strip();var g;if(this.length>1)g=1;else{d&&(c=-c),t(c<=67108863,"Number is too big");var m=this.words[0]|0;g=m===c?0:m<c?-1:1}return this.negative!==0?-g|0:g},n.prototype.cmp=function(c){if(this.negative!==0&&c.negative===0)return-1;if(this.negative===0&&c.negative!==0)return 1;var d=this.ucmp(c);return this.negative!==0?-d|0:d},n.prototype.ucmp=function(c){if(this.length>c.length)return 1;if(this.length<c.length)return-1;for(var d=0,g=this.length-1;g>=0;g--){var m=this.words[g]|0,w=c.words[g]|0;if(m!==w){m<w?d=-1:m>w&&(d=1);break}}return d},n.prototype.gtn=function(c){return this.cmpn(c)===1},n.prototype.gt=function(c){return this.cmp(c)===1},n.prototype.gten=function(c){return this.cmpn(c)>=0},n.prototype.gte=function(c){return this.cmp(c)>=0},n.prototype.ltn=function(c){return this.cmpn(c)===-1},n.prototype.lt=function(c){return this.cmp(c)===-1},n.prototype.lten=function(c){return this.cmpn(c)<=0},n.prototype.lte=function(c){return this.cmp(c)<=0},n.prototype.eqn=function(c){return this.cmpn(c)===0},n.prototype.eq=function(c){return this.cmp(c)===0},n.red=function(c){return new J(c)},n.prototype.toRed=function(c){return t(!this.red,"Already a number in reduction context"),t(this.negative===0,"red works only with positives"),c.convertTo(this)._forceRed(c)},n.prototype.fromRed=function(){return t(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(c){return this.red=c,this},n.prototype.forceRed=function(c){return t(!this.red,"Already a number in reduction context"),this._forceRed(c)},n.prototype.redAdd=function(c){return t(this.red,"redAdd works only with red numbers"),this.red.add(this,c)},n.prototype.redIAdd=function(c){return t(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,c)},n.prototype.redSub=function(c){return t(this.red,"redSub works only with red numbers"),this.red.sub(this,c)},n.prototype.redISub=function(c){return t(this.red,"redISub works only with red numbers"),this.red.isub(this,c)},n.prototype.redShl=function(c){return t(this.red,"redShl works only with red numbers"),this.red.shl(this,c)},n.prototype.redMul=function(c){return t(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.mul(this,c)},n.prototype.redIMul=function(c){return t(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.imul(this,c)},n.prototype.redSqr=function(){return t(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return t(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return t(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return t(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return t(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(c){return t(this.red&&!c.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,c)};var W={k256:null,p224:null,p192:null,p25519:null};function k(E,c){this.name=E,this.p=new n(c,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}k.prototype._tmp=function(){var c=new n(null);return c.words=new Array(Math.ceil(this.n/13)),c},k.prototype.ireduce=function(c){var d=c,g;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),g=d.bitLength();while(g>this.n);var m=g<this.n?-1:d.ucmp(this.p);return m===0?(d.words[0]=0,d.length=1):m>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},k.prototype.split=function(c,d){c.iushrn(this.n,0,d)},k.prototype.imulK=function(c){return c.imul(this.k)};function R(){k.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(R,k),R.prototype.split=function(c,d){for(var g=4194303,m=Math.min(c.length,9),w=0;w<m;w++)d.words[w]=c.words[w];if(d.length=m,c.length<=9){c.words[0]=0,c.length=1;return}var S=c.words[9];for(d.words[d.length++]=S&g,w=10;w<c.length;w++){var N=c.words[w]|0;c.words[w-10]=(N&g)<<4|S>>>22,S=N}S>>>=22,c.words[w-10]=S,S===0&&c.length>10?c.length-=10:c.length-=9},R.prototype.imulK=function(c){c.words[c.length]=0,c.words[c.length+1]=0,c.length+=2;for(var d=0,g=0;g<c.length;g++){var m=c.words[g]|0;d+=m*977,c.words[g]=d&67108863,d=m*64+(d/67108864|0)}return c.words[c.length-1]===0&&(c.length--,c.words[c.length-1]===0&&c.length--),c};function F(){k.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(F,k);function G(){k.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(G,k);function ce(){k.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(ce,k),ce.prototype.imulK=function(c){for(var d=0,g=0;g<c.length;g++){var m=(c.words[g]|0)*19+d,w=m&67108863;m>>>=26,c.words[g]=w,d=m}return d!==0&&(c.words[c.length++]=d),c},n._prime=function(c){if(W[c])return W[c];var d;if(c==="k256")d=new R;else if(c==="p224")d=new F;else if(c==="p192")d=new G;else if(c==="p25519")d=new ce;else throw new Error("Unknown prime "+c);return W[c]=d,d};function J(E){if(typeof E=="string"){var c=n._prime(E);this.m=c.p,this.prime=c}else t(E.gtn(1),"modulus must be greater than 1"),this.m=E,this.prime=null}J.prototype._verify1=function(c){t(c.negative===0,"red works only with positives"),t(c.red,"red works only with red numbers")},J.prototype._verify2=function(c,d){t((c.negative|d.negative)===0,"red works only with positives"),t(c.red&&c.red===d.red,"red works only with red numbers")},J.prototype.imod=function(c){return this.prime?this.prime.ireduce(c)._forceRed(this):(h(c,c.umod(this.m)._forceRed(this)),c)},J.prototype.neg=function(c){return c.isZero()?c.clone():this.m.sub(c)._forceRed(this)},J.prototype.add=function(c,d){this._verify2(c,d);var g=c.add(d);return g.cmp(this.m)>=0&&g.isub(this.m),g._forceRed(this)},J.prototype.iadd=function(c,d){this._verify2(c,d);var g=c.iadd(d);return g.cmp(this.m)>=0&&g.isub(this.m),g},J.prototype.sub=function(c,d){this._verify2(c,d);var g=c.sub(d);return g.cmpn(0)<0&&g.iadd(this.m),g._forceRed(this)},J.prototype.isub=function(c,d){this._verify2(c,d);var g=c.isub(d);return g.cmpn(0)<0&&g.iadd(this.m),g},J.prototype.shl=function(c,d){return this._verify1(c),this.imod(c.ushln(d))},J.prototype.imul=function(c,d){return this._verify2(c,d),this.imod(c.imul(d))},J.prototype.mul=function(c,d){return this._verify2(c,d),this.imod(c.mul(d))},J.prototype.isqr=function(c){return this.imul(c,c.clone())},J.prototype.sqr=function(c){return this.mul(c,c)},J.prototype.sqrt=function(c){if(c.isZero())return c.clone();var d=this.m.andln(3);if(t(d%2===1),d===3){var g=this.m.add(new n(1)).iushrn(2);return this.pow(c,g)}for(var m=this.m.subn(1),w=0;!m.isZero()&&m.andln(1)===0;)w++,m.iushrn(1);t(!m.isZero());var S=new n(1).toRed(this),N=S.redNeg(),I=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new n(2*l*l).toRed(this);this.pow(l,I).cmp(N)!==0;)l.redIAdd(N);for(var C=this.pow(l,m),Z=this.pow(c,m.addn(1).iushrn(1)),ie=this.pow(c,m),ee=w;ie.cmp(S)!==0;){for(var ae=ie,v=0;ae.cmp(S)!==0;v++)ae=ae.redSqr();t(v<ee);var b=this.pow(C,new n(1).iushln(ee-v-1));Z=Z.redMul(b),C=b.redSqr(),ie=ie.redMul(C),ee=v}return Z},J.prototype.invm=function(c){var d=c._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},J.prototype.pow=function(c,d){if(d.isZero())return new n(1).toRed(this);if(d.cmpn(1)===0)return c.clone();var g=4,m=new Array(1<<g);m[0]=new n(1).toRed(this),m[1]=c;for(var w=2;w<m.length;w++)m[w]=this.mul(m[w-1],c);var S=m[0],N=0,I=0,l=d.bitLength()%26;for(l===0&&(l=26),w=d.length-1;w>=0;w--){for(var C=d.words[w],Z=l-1;Z>=0;Z--){var ie=C>>Z&1;if(S!==m[0]&&(S=this.sqr(S)),ie===0&&N===0){I=0;continue}N<<=1,N|=ie,I++,!(I!==g&&(w!==0||Z!==0))&&(S=this.mul(S,m[N]),I=0,N=0)}l=26}return S},J.prototype.convertTo=function(c){var d=c.umod(this.m);return d===c?d.clone():d},J.prototype.convertFrom=function(c){var d=c.clone();return d.red=null,d},n.mont=function(c){return new X(c)};function X(E){J.call(this,E),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(X,J),X.prototype.convertTo=function(c){return this.imod(c.ushln(this.shift))},X.prototype.convertFrom=function(c){var d=this.imod(c.mul(this.rinv));return d.red=null,d},X.prototype.imul=function(c,d){if(c.isZero()||d.isZero())return c.words[0]=0,c.length=1,c;var g=c.imul(d),m=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=g.isub(m).iushrn(this.shift),S=w;return w.cmp(this.m)>=0?S=w.isub(this.m):w.cmpn(0)<0&&(S=w.iadd(this.m)),S._forceRed(this)},X.prototype.mul=function(c,d){if(c.isZero()||d.isZero())return new n(0)._forceRed(this);var g=c.mul(d),m=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=g.isub(m).iushrn(this.shift),S=w;return w.cmp(this.m)>=0?S=w.isub(this.m):w.cmpn(0)<0&&(S=w.iadd(this.m)),S._forceRed(this)},X.prototype.invm=function(c){var d=this.imod(c._invmp(this.m).mul(this.r2));return d._forceRed(this)}})(typeof Vv>"u"||Vv,bO)});var SO=B(Sp=>{"use strict";f();Object.defineProperty(Sp,"__esModule",{value:!0});Sp.TransactionStatus=void 0;var El=class{constructor(e){this.status=(e||"").toLowerCase()}static createUnknown(){return new El("unknown")}isPending(){return this.status=="received"||this.status=="pending"}isExecuted(){return this.isSuccessful()||this.isFailed()||this.isInvalid()}isSuccessful(){return this.status=="executed"||this.status=="success"||this.status=="successful"}isFailed(){return this.status=="fail"||this.status=="failed"||this.status=="unsuccessful"||this.isInvalid()}isInvalid(){return this.status=="invalid"}toString(){return this.status}valueOf(){return this.status}equals(e){return e?this.status==e.status:!1}};Sp.TransactionStatus=El});var Mu=B(Xt=>{"use strict";f();var IG=Xt&&Xt.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),_G=Xt&&Xt.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),bG=Xt&&Xt.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&IG(e,r,t);return _G(e,r),e};Object.defineProperty(Xt,"__esModule",{value:!0});Xt.zeroPadStringIfOddLength=Xt.isPaddedHex=Xt.numberToPaddedHex=Xt.Nonce=Xt.Address=void 0;var xO=bG(kl()),CG="erd",Al=class{constructor(e){this.value=e}static fromPubkey(e){let t=xO.toWords(e),i=xO.encode(CG,t);return new Al(i)}bech32(){return this.value}toString(){return this.bech32()}};Xt.Address=Al;var Hv=class{constructor(e){this.value=e}valueOf(){return this.value}hex(){return TO(this.value)}};Xt.Nonce=Hv;function TO(r){let e=r.toString(16);return NO(e)}Xt.numberToPaddedHex=TO;function SG(r){r=r||"";let e=y.Buffer.from(r,"hex").toString("hex");return r.toUpperCase()==e.toUpperCase()}Xt.isPaddedHex=SG;function NO(r){return r=r||"",r.length%2==1?"0"+r:r}Xt.zeroPadStringIfOddLength=NO});var OO=B(xp=>{"use strict";f();Object.defineProperty(xp,"__esModule",{value:!0});xp.TransactionReceipt=void 0;var DO=Mu(),Il=class{constructor(){this.value="",this.sender=new DO.Address(""),this.data="",this.hash=""}static fromHttpResponse(e){let t=new Il;return t.value=(e.value||0).toString(),t.sender=new DO.Address(e.sender),t.data=e.data,t.hash=e.txHash,t}};xp.TransactionReceipt=Il});var PO=B(Vi=>{"use strict";f();Object.defineProperty(Vi,"__esModule",{value:!0});Vi.ErrContractQuery=Vi.ErrNetworkProvider=Vi.ErrUnexpectedCondition=Vi.Err=void 0;var Ru=class extends Error{constructor(e,t){super(e),this.inner=void 0,this.inner=t}};Vi.Err=Ru;var Qv=class extends Ru{constructor(e){super(`Unexpected condition: [${e}]`)}};Vi.ErrUnexpectedCondition=Qv;var jv=class extends Ru{constructor(e,t,i){let n=`Request error on url [${e}]: [${t}]`;super(n,i)}};Vi.ErrNetworkProvider=jv;var Gv=class extends Ru{constructor(e){super(e.message.replace("executeQuery:",""))}};Vi.ErrContractQuery=Gv});var MO=B(Lu=>{"use strict";f();Object.defineProperty(Lu,"__esModule",{value:!0});Lu.TransactionEventTopic=Lu.TransactionEvent=void 0;var BO=Mu(),_l=class{constructor(e){this.address=new BO.Address(""),this.identifier="",this.topics=[],this.data="",Object.assign(this,e)}static fromHttpResponse(e){let t=new _l;return t.address=new BO.Address(e.address),t.identifier=e.identifier||"",t.topics=(e.topics||[]).map(i=>new Tp(i)),t.data=y.Buffer.from(e.data||"","base64").toString(),t}findFirstOrNoneTopic(e){return this.topics.filter(t=>e(t))[0]}getLastTopic(){return this.topics[this.topics.length-1]}};Lu.TransactionEvent=_l;var Tp=class{constructor(e){this.raw=y.Buffer.from(e||"","base64")}toString(){return this.raw.toString("utf8")}hex(){return this.raw.toString("hex")}valueOf(){return this.raw}};Lu.TransactionEventTopic=Tp});var Kv=B(Np=>{"use strict";f();Object.defineProperty(Np,"__esModule",{value:!0});Np.TransactionLogs=void 0;var xG=PO(),RO=Mu(),TG=MO(),bl=class{constructor(e){this.address=new RO.Address(""),this.events=[],Object.assign(this,e)}static fromHttpResponse(e){let t=new bl;return t.address=new RO.Address(e.address),t.events=(e.events||[]).map(i=>TG.TransactionEvent.fromHttpResponse(i)),t}findSingleOrNoneEvent(e,t){let i=this.findEvents(e,t);if(i.length>1)throw new xG.ErrUnexpectedCondition(`more than one event of type ${e}`);return i[0]}findFirstOrNoneEvent(e,t){return this.findEvents(e,t)[0]}findEvents(e,t){let i=this.events.filter(n=>n.identifier==e);return t&&(i=i.filter(n=>t(n))),i}};Np.TransactionLogs=bl});var FO=B(Uu=>{"use strict";f();Object.defineProperty(Uu,"__esModule",{value:!0});Uu.ContractResultItem=Uu.ContractResults=void 0;var LO=Kv(),Dp=Mu(),Fu=class{constructor(e){this.items=e,this.items.sort(function(t,i){return t.nonce.valueOf()-i.nonce.valueOf()})}static fromProxyHttpResponse(e){let t=e.map(i=>ln.fromProxyHttpResponse(i));return new Fu(t)}static fromApiHttpResponse(e){let t=e.map(i=>ln.fromApiHttpResponse(i));return new Fu(t)}};Uu.ContractResults=Fu;var ln=class{constructor(e){this.hash="",this.nonce=0,this.value="",this.receiver=new Dp.Address(""),this.sender=new Dp.Address(""),this.data="",this.previousHash="",this.originalHash="",this.gasLimit=0,this.gasPrice=0,this.callType=0,this.returnMessage="",this.logs=new LO.TransactionLogs,Object.assign(this,e)}static fromProxyHttpResponse(e){return ln.fromHttpResponse(e)}static fromApiHttpResponse(e){let t=ln.fromHttpResponse(e);return t.data=y.Buffer.from(t.data,"base64").toString(),t.callType=Number(t.callType),t}static fromHttpResponse(e){let t=new ln;return t.hash=e.hash,t.nonce=Number(e.nonce||0),t.value=(e.value||0).toString(),t.receiver=new Dp.Address(e.receiver),t.sender=new Dp.Address(e.sender),t.previousHash=e.prevTxHash,t.originalHash=e.originalTxHash,t.gasLimit=Number(e.gasLimit||0),t.gasPrice=Number(e.gasPrice||0),t.data=e.data||"",t.callType=e.callType,t.returnMessage=e.returnMessage,t.logs=LO.TransactionLogs.fromHttpResponse(e.logs||{}),t}};Uu.ContractResultItem=ln});var UO=B(rs=>{"use strict";f();var NG=rs&&rs.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(rs,"__esModule",{value:!0});rs.EsdtContractAddress=rs.MaxUint64AsBigNumber=void 0;var DG=NG(jr()),OG=Mu();rs.MaxUint64AsBigNumber=new DG.default("18446744073709551615");rs.EsdtContractAddress=new OG.Address("erd1qqqqqqqqqqqqqqqpqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqzllls8a5w6u")});var qO=B(qu=>{"use strict";f();var PG=qu&&qu.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(qu,"__esModule",{value:!0});qu.ContractQueryResponse=void 0;var BG=PG(jr()),MG=UO(),Cl=class{constructor(e){this.returnData=e?.returnData||[],this.returnCode=e?.returnCode||"",this.returnMessage=e?.returnMessage||"",this.gasUsed=e?.gasUsed||0}static fromHttpResponse(e){let t=e.returnData||e.ReturnData,i=e.returnCode||e.ReturnCode,n=e.returnMessage||e.ReturnMessage,s=new BG.default(e.gasRemaining||e.GasRemaining||0),o=MG.MaxUint64AsBigNumber.minus(s).toNumber();return new Cl({returnData:t,returnCode:i,returnMessage:n,gasUsed:o})}getReturnDataParts(){return this.returnData.map(e=>y.Buffer.from(e||"","base64"))}toJSON(){return{returnData:this.returnData,returnCode:this.returnCode,returnMessage:this.returnMessage,gasUsed:this.gasUsed.valueOf()}}};qu.ContractQueryResponse=Cl});var VO=B(Op=>{"use strict";f();Object.defineProperty(Op,"__esModule",{value:!0});Op.ContractQueryRequest=void 0;var zv=class{constructor(e){this.query=e}toHttpRequest(){var e;let t={},i=this.query;return t.scAddress=i.address.bech32(),t.caller=!((e=i.caller)===null||e===void 0)&&e.bech32()?i.caller.bech32():void 0,t.funcName=i.func.toString(),t.value=i.value?i.value.toString():void 0,t.args=i.getEncodedArguments(),t}};Op.ContractQueryRequest=zv});var HO=B(Pp=>{"use strict";f();Object.defineProperty(Pp,"__esModule",{value:!0});Pp.Query=void 0;var RG=Gr(),LG=jf(),kv=class{constructor(e){this.caller=e.caller||new RG.Address,this.address=e.address,this.func=e.func,this.args=e.args||[],this.value=e.value||0}getEncodedArguments(){return new LG.ArgSerializer().valuesToStrings(this.args)}};Pp.Query=kv});var XO=B((wne,JO)=>{f();JO.exports=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}});var is=B(wo=>{f();var Wv,FG=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];wo.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};wo.getSymbolTotalCodewords=function(e){return FG[e]};wo.getBCHDigit=function(r){let e=0;for(;r!==0;)e++,r>>>=1;return e};wo.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');Wv=e};wo.isKanjiModeEnabled=function(){return typeof Wv<"u"};wo.toSJIS=function(e){return Wv(e)}});var Rp=B(Qr=>{f();Qr.L={bit:1};Qr.M={bit:0};Qr.Q={bit:3};Qr.H={bit:2};function UG(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return Qr.L;case"m":case"medium":return Qr.M;case"q":case"quartile":return Qr.Q;case"h":case"high":return Qr.H;default:throw new Error("Unknown EC Level: "+r)}}Qr.isValid=function(e){return e&&typeof e.bit<"u"&&e.bit>=0&&e.bit<4};Qr.from=function(e,t){if(Qr.isValid(e))return e;try{return UG(e)}catch{return t}}});var t6=B((bne,e6)=>{f();function ZO(){this.buffer=[],this.length=0}ZO.prototype={get:function(r){let e=Math.floor(r/8);return(this.buffer[e]>>>7-r%8&1)===1},put:function(r,e){for(let t=0;t<e;t++)this.putBit((r>>>e-t-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(r){let e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),r&&(this.buffer[e]|=128>>>this.length%8),this.length++}};e6.exports=ZO});var i6=B((Sne,r6)=>{f();function Sl(r){if(!r||r<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=r,this.data=new Uint8Array(r*r),this.reservedBit=new Uint8Array(r*r)}Sl.prototype.set=function(r,e,t,i){let n=r*this.size+e;this.data[n]=t,i&&(this.reservedBit[n]=!0)};Sl.prototype.get=function(r,e){return this.data[r*this.size+e]};Sl.prototype.xor=function(r,e,t){this.data[r*this.size+e]^=t};Sl.prototype.isReserved=function(r,e){return this.reservedBit[r*this.size+e]};r6.exports=Sl});var n6=B(Lp=>{f();var qG=is().getSymbolSize;Lp.getRowColCoords=function(e){if(e===1)return[];let t=Math.floor(e/7)+2,i=qG(e),n=i===145?26:Math.ceil((i-13)/(2*t-2))*2,s=[i-7];for(let o=1;o<t-1;o++)s[o]=s[o-1]-n;return s.push(6),s.reverse()};Lp.getPositions=function(e){let t=[],i=Lp.getRowColCoords(e),n=i.length;for(let s=0;s<n;s++)for(let o=0;o<n;o++)s===0&&o===0||s===0&&o===n-1||s===n-1&&o===0||t.push([i[s],i[o]]);return t}});var a6=B(o6=>{f();var VG=is().getSymbolSize,s6=7;o6.getPositions=function(e){let t=VG(e);return[[0,0],[t-s6,0],[0,t-s6]]}});var u6=B($e=>{f();$e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var vo={N1:3,N2:3,N3:40,N4:10};$e.isValid=function(e){return e!=null&&e!==""&&!isNaN(e)&&e>=0&&e<=7};$e.from=function(e){return $e.isValid(e)?parseInt(e,10):void 0};$e.getPenaltyN1=function(e){let t=e.size,i=0,n=0,s=0,o=null,a=null;for(let u=0;u<t;u++){n=s=0,o=a=null;for(let h=0;h<t;h++){let p=e.get(u,h);p===o?n++:(n>=5&&(i+=vo.N1+(n-5)),o=p,n=1),p=e.get(h,u),p===a?s++:(s>=5&&(i+=vo.N1+(s-5)),a=p,s=1)}n>=5&&(i+=vo.N1+(n-5)),s>=5&&(i+=vo.N1+(s-5))}return i};$e.getPenaltyN2=function(e){let t=e.size,i=0;for(let n=0;n<t-1;n++)for(let s=0;s<t-1;s++){let o=e.get(n,s)+e.get(n,s+1)+e.get(n+1,s)+e.get(n+1,s+1);(o===4||o===0)&&i++}return i*vo.N2};$e.getPenaltyN3=function(e){let t=e.size,i=0,n=0,s=0;for(let o=0;o<t;o++){n=s=0;for(let a=0;a<t;a++)n=n<<1&2047|e.get(o,a),a>=10&&(n===1488||n===93)&&i++,s=s<<1&2047|e.get(a,o),a>=10&&(s===1488||s===93)&&i++}return i*vo.N3};$e.getPenaltyN4=function(e){let t=0,i=e.data.length;for(let s=0;s<i;s++)t+=e.data[s];return Math.abs(Math.ceil(t*100/i/5)-10)*vo.N4};function HG(r,e,t){switch(r){case $e.Patterns.PATTERN000:return(e+t)%2===0;case $e.Patterns.PATTERN001:return e%2===0;case $e.Patterns.PATTERN010:return t%3===0;case $e.Patterns.PATTERN011:return(e+t)%3===0;case $e.Patterns.PATTERN100:return(Math.floor(e/2)+Math.floor(t/3))%2===0;case $e.Patterns.PATTERN101:return e*t%2+e*t%3===0;case $e.Patterns.PATTERN110:return(e*t%2+e*t%3)%2===0;case $e.Patterns.PATTERN111:return(e*t%3+(e+t)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}$e.applyMask=function(e,t){let i=t.size;for(let n=0;n<i;n++)for(let s=0;s<i;s++)t.isReserved(s,n)||t.xor(s,n,HG(e,s,n))};$e.getBestMask=function(e,t){let i=Object.keys($e.Patterns).length,n=0,s=1/0;for(let o=0;o<i;o++){t(o),$e.applyMask(o,e);let a=$e.getPenaltyN1(e)+$e.getPenaltyN2(e)+$e.getPenaltyN3(e)+$e.getPenaltyN4(e);$e.applyMask(o,e),a<s&&(s=a,n=o)}return n}});var Yv=B($v=>{f();var ns=Rp(),Fp=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Up=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];$v.getBlocksCount=function(e,t){switch(t){case ns.L:return Fp[(e-1)*4+0];case ns.M:return Fp[(e-1)*4+1];case ns.Q:return Fp[(e-1)*4+2];case ns.H:return Fp[(e-1)*4+3];default:return}};$v.getTotalCodewordsCount=function(e,t){switch(t){case ns.L:return Up[(e-1)*4+0];case ns.M:return Up[(e-1)*4+1];case ns.Q:return Up[(e-1)*4+2];case ns.H:return Up[(e-1)*4+3];default:return}}});var c6=B(Vp=>{f();var xl=new Uint8Array(512),qp=new Uint8Array(256);(function(){let e=1;for(let t=0;t<255;t++)xl[t]=e,qp[e]=t,e<<=1,e&256&&(e^=285);for(let t=255;t<512;t++)xl[t]=xl[t-255]})();Vp.log=function(e){if(e<1)throw new Error("log("+e+")");return qp[e]};Vp.exp=function(e){return xl[e]};Vp.mul=function(e,t){return e===0||t===0?0:xl[qp[e]+qp[t]]}});var l6=B(Tl=>{f();var Jv=c6();Tl.mul=function(e,t){let i=new Uint8Array(e.length+t.length-1);for(let n=0;n<e.length;n++)for(let s=0;s<t.length;s++)i[n+s]^=Jv.mul(e[n],t[s]);return i};Tl.mod=function(e,t){let i=new Uint8Array(e);for(;i.length-t.length>=0;){let n=i[0];for(let o=0;o<t.length;o++)i[o]^=Jv.mul(t[o],n);let s=0;for(;s<i.length&&i[s]===0;)s++;i=i.slice(s)}return i};Tl.generateECPolynomial=function(e){let t=new Uint8Array([1]);for(let i=0;i<e;i++)t=Tl.mul(t,new Uint8Array([1,Jv.exp(i)]));return t}});var d6=B((Vne,h6)=>{f();var f6=l6();function Xv(r){this.genPoly=void 0,this.degree=r,this.degree&&this.initialize(this.degree)}Xv.prototype.initialize=function(e){this.degree=e,this.genPoly=f6.generateECPolynomial(this.degree)};Xv.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");let t=new Uint8Array(e.length+this.degree);t.set(e);let i=f6.mod(t,this.genPoly),n=this.degree-i.length;if(n>0){let s=new Uint8Array(this.degree);return s.set(i,n),s}return i};h6.exports=Xv});var Zv=B(p6=>{f();p6.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}});var eE=B(fn=>{f();var g6="[0-9]+",QG="[A-Z $%*+\\-./:]+",Nl="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Nl=Nl.replace(/u/g,"\\u");var jG="(?:(?![A-Z0-9 $%*+\\-./:]|"+Nl+`)(?:.|[\r
]))+`;fn.KANJI=new RegExp(Nl,"g");fn.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");fn.BYTE=new RegExp(jG,"g");fn.NUMERIC=new RegExp(g6,"g");fn.ALPHANUMERIC=new RegExp(QG,"g");var GG=new RegExp("^"+Nl+"$"),KG=new RegExp("^"+g6+"$"),zG=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");fn.testKanji=function(e){return GG.test(e)};fn.testNumeric=function(e){return KG.test(e)};fn.testAlphanumeric=function(e){return zG.test(e)}});var ss=B(qt=>{f();var kG=Zv(),tE=eE();qt.NUMERIC={id:"Numeric",bit:1<<0,ccBits:[10,12,14]};qt.ALPHANUMERIC={id:"Alphanumeric",bit:1<<1,ccBits:[9,11,13]};qt.BYTE={id:"Byte",bit:1<<2,ccBits:[8,16,16]};qt.KANJI={id:"Kanji",bit:1<<3,ccBits:[8,10,12]};qt.MIXED={bit:-1};qt.getCharCountIndicator=function(e,t){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!kG.isValid(t))throw new Error("Invalid version: "+t);return t>=1&&t<10?e.ccBits[0]:t<27?e.ccBits[1]:e.ccBits[2]};qt.getBestModeForData=function(e){return tE.testNumeric(e)?qt.NUMERIC:tE.testAlphanumeric(e)?qt.ALPHANUMERIC:tE.testKanji(e)?qt.KANJI:qt.BYTE};qt.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")};qt.isValid=function(e){return e&&e.bit&&e.ccBits};function WG(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"numeric":return qt.NUMERIC;case"alphanumeric":return qt.ALPHANUMERIC;case"kanji":return qt.KANJI;case"byte":return qt.BYTE;default:throw new Error("Unknown mode: "+r)}}qt.from=function(e,t){if(qt.isValid(e))return e;try{return WG(e)}catch{return t}}});var E6=B(Eo=>{f();var Hp=is(),$G=Yv(),y6=Rp(),os=ss(),rE=Zv(),w6=1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,m6=Hp.getBCHDigit(w6);function YG(r,e,t){for(let i=1;i<=40;i++)if(e<=Eo.getCapacity(i,t,r))return i}function v6(r,e){return os.getCharCountIndicator(r,e)+4}function JG(r,e){let t=0;return r.forEach(function(i){let n=v6(i.mode,e);t+=n+i.getBitsLength()}),t}function XG(r,e){for(let t=1;t<=40;t++)if(JG(r,t)<=Eo.getCapacity(t,e,os.MIXED))return t}Eo.from=function(e,t){return rE.isValid(e)?parseInt(e,10):t};Eo.getCapacity=function(e,t,i){if(!rE.isValid(e))throw new Error("Invalid QR Code version");typeof i>"u"&&(i=os.BYTE);let n=Hp.getSymbolTotalCodewords(e),s=$G.getTotalCodewordsCount(e,t),o=(n-s)*8;if(i===os.MIXED)return o;let a=o-v6(i,e);switch(i){case os.NUMERIC:return Math.floor(a/10*3);case os.ALPHANUMERIC:return Math.floor(a/11*2);case os.KANJI:return Math.floor(a/13);case os.BYTE:default:return Math.floor(a/8)}};Eo.getBestVersionForData=function(e,t){let i,n=y6.from(t,y6.M);if(Array.isArray(e)){if(e.length>1)return XG(e,n);if(e.length===0)return 1;i=e[0]}else i=e;return YG(i.mode,i.getLength(),n)};Eo.getEncodedBits=function(e){if(!rE.isValid(e)||e<7)throw new Error("Invalid QR Code version");let t=e<<12;for(;Hp.getBCHDigit(t)-m6>=0;)t^=w6<<Hp.getBCHDigit(t)-m6;return e<<12|t}});var b6=B(_6=>{f();var iE=is(),I6=1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,ZG=1<<14|1<<12|1<<10|1<<4|1<<1,A6=iE.getBCHDigit(I6);_6.getEncodedBits=function(e,t){let i=e.bit<<3|t,n=i<<10;for(;iE.getBCHDigit(n)-A6>=0;)n^=I6<<iE.getBCHDigit(n)-A6;return(i<<10|n)^ZG}});var S6=B((Xne,C6)=>{f();var eK=ss();function Vu(r){this.mode=eK.NUMERIC,this.data=r.toString()}Vu.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};Vu.prototype.getLength=function(){return this.data.length};Vu.prototype.getBitsLength=function(){return Vu.getBitsLength(this.data.length)};Vu.prototype.write=function(e){let t,i,n;for(t=0;t+3<=this.data.length;t+=3)i=this.data.substr(t,3),n=parseInt(i,10),e.put(n,10);let s=this.data.length-t;s>0&&(i=this.data.substr(t),n=parseInt(i,10),e.put(n,s*3+1))};C6.exports=Vu});var T6=B((ese,x6)=>{f();var tK=ss(),nE=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Hu(r){this.mode=tK.ALPHANUMERIC,this.data=r}Hu.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};Hu.prototype.getLength=function(){return this.data.length};Hu.prototype.getBitsLength=function(){return Hu.getBitsLength(this.data.length)};Hu.prototype.write=function(e){let t;for(t=0;t+2<=this.data.length;t+=2){let i=nE.indexOf(this.data[t])*45;i+=nE.indexOf(this.data[t+1]),e.put(i,11)}this.data.length%2&&e.put(nE.indexOf(this.data[t]),6)};x6.exports=Hu});var D6=B((rse,N6)=>{"use strict";f();N6.exports=function(e){for(var t=[],i=e.length,n=0;n<i;n++){var s=e.charCodeAt(n);if(s>=55296&&s<=56319&&i>n+1){var o=e.charCodeAt(n+1);o>=56320&&o<=57343&&(s=(s-55296)*1024+o-56320+65536,n+=1)}if(s<128){t.push(s);continue}if(s<2048){t.push(s>>6|192),t.push(s&63|128);continue}if(s<55296||s>=57344&&s<65536){t.push(s>>12|224),t.push(s>>6&63|128),t.push(s&63|128);continue}if(s>=65536&&s<=1114111){t.push(s>>18|240),t.push(s>>12&63|128),t.push(s>>6&63|128),t.push(s&63|128);continue}t.push(239,191,189)}return new Uint8Array(t).buffer}});var P6=B((nse,O6)=>{f();var rK=D6(),iK=ss();function Qu(r){this.mode=iK.BYTE,typeof r=="string"&&(r=rK(r)),this.data=new Uint8Array(r)}Qu.getBitsLength=function(e){return e*8};Qu.prototype.getLength=function(){return this.data.length};Qu.prototype.getBitsLength=function(){return Qu.getBitsLength(this.data.length)};Qu.prototype.write=function(r){for(let e=0,t=this.data.length;e<t;e++)r.put(this.data[e],8)};O6.exports=Qu});var M6=B((ose,B6)=>{f();var nK=ss(),sK=is();function ju(r){this.mode=nK.KANJI,this.data=r}ju.getBitsLength=function(e){return e*13};ju.prototype.getLength=function(){return this.data.length};ju.prototype.getBitsLength=function(){return ju.getBitsLength(this.data.length)};ju.prototype.write=function(r){let e;for(e=0;e<this.data.length;e++){let t=sK.toSJIS(this.data[e]);if(t>=33088&&t<=40956)t-=33088;else if(t>=57408&&t<=60351)t-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);t=(t>>>8&255)*192+(t&255),r.put(t,13)}};B6.exports=ju});var R6=B((use,sE)=>{"use strict";f();var Dl={single_source_shortest_paths:function(r,e,t){var i={},n={};n[e]=0;var s=Dl.PriorityQueue.make();s.push(e,0);for(var o,a,u,h,p,A,D,O,T;!s.empty();){o=s.pop(),a=o.value,h=o.cost,p=r[a]||{};for(u in p)p.hasOwnProperty(u)&&(A=p[u],D=h+A,O=n[u],T=typeof n[u]>"u",(T||O>D)&&(n[u]=D,s.push(u,D),i[u]=a))}if(typeof t<"u"&&typeof n[t]>"u"){var V=["Could not find a path from ",e," to ",t,"."].join("");throw new Error(V)}return i},extract_shortest_path_from_predecessor_list:function(r,e){for(var t=[],i=e,n;i;)t.push(i),n=r[i],i=r[i];return t.reverse(),t},find_path:function(r,e,t){var i=Dl.single_source_shortest_paths(r,e,t);return Dl.extract_shortest_path_from_predecessor_list(i,t)},PriorityQueue:{make:function(r){var e=Dl.PriorityQueue,t={},i;r=r||{};for(i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t.queue=[],t.sorter=r.sorter||e.default_sorter,t},default_sorter:function(r,e){return r.cost-e.cost},push:function(r,e){var t={value:r,cost:e};this.queue.push(t),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};typeof sE<"u"&&(sE.exports=Dl)});var j6=B(Gu=>{f();var Qe=ss(),U6=S6(),q6=T6(),V6=P6(),H6=M6(),Ol=eE(),Qp=is(),oK=R6();function L6(r){return unescape(encodeURIComponent(r)).length}function Pl(r,e,t){let i=[],n;for(;(n=r.exec(t))!==null;)i.push({data:n[0],index:n.index,mode:e,length:n[0].length});return i}function Q6(r){let e=Pl(Ol.NUMERIC,Qe.NUMERIC,r),t=Pl(Ol.ALPHANUMERIC,Qe.ALPHANUMERIC,r),i,n;return Qp.isKanjiModeEnabled()?(i=Pl(Ol.BYTE,Qe.BYTE,r),n=Pl(Ol.KANJI,Qe.KANJI,r)):(i=Pl(Ol.BYTE_KANJI,Qe.BYTE,r),n=[]),e.concat(t,i,n).sort(function(o,a){return o.index-a.index}).map(function(o){return{data:o.data,mode:o.mode,length:o.length}})}function oE(r,e){switch(e){case Qe.NUMERIC:return U6.getBitsLength(r);case Qe.ALPHANUMERIC:return q6.getBitsLength(r);case Qe.KANJI:return H6.getBitsLength(r);case Qe.BYTE:return V6.getBitsLength(r)}}function aK(r){return r.reduce(function(e,t){let i=e.length-1>=0?e[e.length-1]:null;return i&&i.mode===t.mode?(e[e.length-1].data+=t.data,e):(e.push(t),e)},[])}function uK(r){let e=[];for(let t=0;t<r.length;t++){let i=r[t];switch(i.mode){case Qe.NUMERIC:e.push([i,{data:i.data,mode:Qe.ALPHANUMERIC,length:i.length},{data:i.data,mode:Qe.BYTE,length:i.length}]);break;case Qe.ALPHANUMERIC:e.push([i,{data:i.data,mode:Qe.BYTE,length:i.length}]);break;case Qe.KANJI:e.push([i,{data:i.data,mode:Qe.BYTE,length:L6(i.data)}]);break;case Qe.BYTE:e.push([{data:i.data,mode:Qe.BYTE,length:L6(i.data)}])}}return e}function cK(r,e){let t={},i={start:{}},n=["start"];for(let s=0;s<r.length;s++){let o=r[s],a=[];for(let u=0;u<o.length;u++){let h=o[u],p=""+s+u;a.push(p),t[p]={node:h,lastCount:0},i[p]={};for(let A=0;A<n.length;A++){let D=n[A];t[D]&&t[D].node.mode===h.mode?(i[D][p]=oE(t[D].lastCount+h.length,h.mode)-oE(t[D].lastCount,h.mode),t[D].lastCount+=h.length):(t[D]&&(t[D].lastCount=h.length),i[D][p]=oE(h.length,h.mode)+4+Qe.getCharCountIndicator(h.mode,e))}}n=a}for(let s=0;s<n.length;s++)i[n[s]].end=0;return{map:i,table:t}}function F6(r,e){let t,i=Qe.getBestModeForData(r);if(t=Qe.from(e,i),t!==Qe.BYTE&&t.bit<i.bit)throw new Error('"'+r+'" cannot be encoded with mode '+Qe.toString(t)+`.
 Suggested mode is: `+Qe.toString(i));switch(t===Qe.KANJI&&!Qp.isKanjiModeEnabled()&&(t=Qe.BYTE),t){case Qe.NUMERIC:return new U6(r);case Qe.ALPHANUMERIC:return new q6(r);case Qe.KANJI:return new H6(r);case Qe.BYTE:return new V6(r)}}Gu.fromArray=function(e){return e.reduce(function(t,i){return typeof i=="string"?t.push(F6(i,null)):i.data&&t.push(F6(i.data,i.mode)),t},[])};Gu.fromString=function(e,t){let i=Q6(e,Qp.isKanjiModeEnabled()),n=uK(i),s=cK(n,t),o=oK.find_path(s.map,"start","end"),a=[];for(let u=1;u<o.length-1;u++)a.push(s.table[o[u]].node);return Gu.fromArray(aK(a))};Gu.rawSplit=function(e){return Gu.fromArray(Q6(e,Qp.isKanjiModeEnabled()))}});var K6=B(G6=>{f();var Gp=is(),aE=Rp(),lK=t6(),fK=i6(),hK=n6(),dK=a6(),lE=u6(),fE=Yv(),pK=d6(),jp=E6(),gK=b6(),yK=ss(),uE=j6();function mK(r,e){let t=r.size,i=dK.getPositions(e);for(let n=0;n<i.length;n++){let s=i[n][0],o=i[n][1];for(let a=-1;a<=7;a++)if(!(s+a<=-1||t<=s+a))for(let u=-1;u<=7;u++)o+u<=-1||t<=o+u||(a>=0&&a<=6&&(u===0||u===6)||u>=0&&u<=6&&(a===0||a===6)||a>=2&&a<=4&&u>=2&&u<=4?r.set(s+a,o+u,!0,!0):r.set(s+a,o+u,!1,!0))}}function wK(r){let e=r.size;for(let t=8;t<e-8;t++){let i=t%2===0;r.set(t,6,i,!0),r.set(6,t,i,!0)}}function vK(r,e){let t=hK.getPositions(e);for(let i=0;i<t.length;i++){let n=t[i][0],s=t[i][1];for(let o=-2;o<=2;o++)for(let a=-2;a<=2;a++)o===-2||o===2||a===-2||a===2||o===0&&a===0?r.set(n+o,s+a,!0,!0):r.set(n+o,s+a,!1,!0)}}function EK(r,e){let t=r.size,i=jp.getEncodedBits(e),n,s,o;for(let a=0;a<18;a++)n=Math.floor(a/3),s=a%3+t-8-3,o=(i>>a&1)===1,r.set(n,s,o,!0),r.set(s,n,o,!0)}function cE(r,e,t){let i=r.size,n=gK.getEncodedBits(e,t),s,o;for(s=0;s<15;s++)o=(n>>s&1)===1,s<6?r.set(s,8,o,!0):s<8?r.set(s+1,8,o,!0):r.set(i-15+s,8,o,!0),s<8?r.set(8,i-s-1,o,!0):s<9?r.set(8,15-s-1+1,o,!0):r.set(8,15-s-1,o,!0);r.set(i-8,8,1,!0)}function AK(r,e){let t=r.size,i=-1,n=t-1,s=7,o=0;for(let a=t-1;a>0;a-=2)for(a===6&&a--;;){for(let u=0;u<2;u++)if(!r.isReserved(n,a-u)){let h=!1;o<e.length&&(h=(e[o]>>>s&1)===1),r.set(n,a-u,h),s--,s===-1&&(o++,s=7)}if(n+=i,n<0||t<=n){n-=i,i=-i;break}}}function IK(r,e,t){let i=new lK;t.forEach(function(u){i.put(u.mode.bit,4),i.put(u.getLength(),yK.getCharCountIndicator(u.mode,r)),u.write(i)});let n=Gp.getSymbolTotalCodewords(r),s=fE.getTotalCodewordsCount(r,e),o=(n-s)*8;for(i.getLengthInBits()+4<=o&&i.put(0,4);i.getLengthInBits()%8!==0;)i.putBit(0);let a=(o-i.getLengthInBits())/8;for(let u=0;u<a;u++)i.put(u%2?17:236,8);return _K(i,r,e)}function _K(r,e,t){let i=Gp.getSymbolTotalCodewords(e),n=fE.getTotalCodewordsCount(e,t),s=i-n,o=fE.getBlocksCount(e,t),a=i%o,u=o-a,h=Math.floor(i/o),p=Math.floor(s/o),A=p+1,D=h-p,O=new pK(D),T=0,V=new Array(o),z=new Array(o),$=0,se=new Uint8Array(r.buffer);for(let R=0;R<o;R++){let F=R<u?p:A;V[R]=se.slice(T,T+F),z[R]=O.encode(V[R]),T+=F,$=Math.max($,F)}let Y=new Uint8Array(i),j=0,W,k;for(W=0;W<$;W++)for(k=0;k<o;k++)W<V[k].length&&(Y[j++]=V[k][W]);for(W=0;W<D;W++)for(k=0;k<o;k++)Y[j++]=z[k][W];return Y}function bK(r,e,t,i){let n;if(Array.isArray(r))n=uE.fromArray(r);else if(typeof r=="string"){let h=e;if(!h){let p=uE.rawSplit(r);h=jp.getBestVersionForData(p,t)}n=uE.fromString(r,h||40)}else throw new Error("Invalid data");let s=jp.getBestVersionForData(n,t);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=s;else if(e<s)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+s+`.
`);let o=IK(e,t,n),a=Gp.getSymbolSize(e),u=new fK(a);return mK(u,e),wK(u),vK(u,e),cE(u,t,0),e>=7&&EK(u,e),AK(u,o),isNaN(i)&&(i=lE.getBestMask(u,cE.bind(null,u,t))),lE.applyMask(i,u),cE(u,t,i),{modules:u,version:e,errorCorrectionLevel:t,maskPattern:i,segments:n}}G6.create=function(e,t){if(typeof e>"u"||e==="")throw new Error("No input text");let i=aE.M,n,s;return typeof t<"u"&&(i=aE.from(t.errorCorrectionLevel,aE.M),n=jp.from(t.version),s=lE.from(t.maskPattern),t.toSJISFunc&&Gp.setToSJISFunction(t.toSJISFunc)),bK(e,n,i,s)}});var hE=B(Ao=>{f();function z6(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let e=r.slice().replace("#","").split("");if(e.length<3||e.length===5||e.length>8)throw new Error("Invalid hex color: "+r);(e.length===3||e.length===4)&&(e=Array.prototype.concat.apply([],e.map(function(i){return[i,i]}))),e.length===6&&e.push("F","F");let t=parseInt(e.join(""),16);return{r:t>>24&255,g:t>>16&255,b:t>>8&255,a:t&255,hex:"#"+e.slice(0,6).join("")}}Ao.getOptions=function(e){e||(e={}),e.color||(e.color={});let t=typeof e.margin>"u"||e.margin===null||e.margin<0?4:e.margin,i=e.width&&e.width>=21?e.width:void 0,n=e.scale||4;return{width:i,scale:i?4:n,margin:t,color:{dark:z6(e.color.dark||"#000000ff"),light:z6(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}};Ao.getScale=function(e,t){return t.width&&t.width>=e+t.margin*2?t.width/(e+t.margin*2):t.scale};Ao.getImageWidth=function(e,t){let i=Ao.getScale(e,t);return Math.floor((e+t.margin*2)*i)};Ao.qrToImageData=function(e,t,i){let n=t.modules.size,s=t.modules.data,o=Ao.getScale(n,i),a=Math.floor((n+i.margin*2)*o),u=i.margin*o,h=[i.color.light,i.color.dark];for(let p=0;p<a;p++)for(let A=0;A<a;A++){let D=(p*a+A)*4,O=i.color.light;if(p>=u&&A>=u&&p<a-u&&A<a-u){let T=Math.floor((p-u)/o),V=Math.floor((A-u)/o);O=h[s[T*n+V]?1:0]}e[D++]=O.r,e[D++]=O.g,e[D++]=O.b,e[D]=O.a}}});var k6=B(Kp=>{f();var dE=hE();function CK(r,e,t){r.clearRect(0,0,e.width,e.height),e.style||(e.style={}),e.height=t,e.width=t,e.style.height=t+"px",e.style.width=t+"px"}function SK(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}Kp.render=function(e,t,i){let n=i,s=t;typeof n>"u"&&(!t||!t.getContext)&&(n=t,t=void 0),t||(s=SK()),n=dE.getOptions(n);let o=dE.getImageWidth(e.modules.size,n),a=s.getContext("2d"),u=a.createImageData(o,o);return dE.qrToImageData(u.data,e,n),CK(a,s,o),a.putImageData(u,0,0),s};Kp.renderToDataURL=function(e,t,i){let n=i;typeof n>"u"&&(!t||!t.getContext)&&(n=t,t=void 0),n||(n={});let s=Kp.render(e,t,n),o=n.type||"image/png",a=n.rendererOpts||{};return s.toDataURL(o,a.quality)}});var Y6=B($6=>{f();var xK=hE();function W6(r,e){let t=r.a/255,i=e+'="'+r.hex+'"';return t<1?i+" "+e+'-opacity="'+t.toFixed(2).slice(1)+'"':i}function pE(r,e,t){let i=r+e;return typeof t<"u"&&(i+=" "+t),i}function TK(r,e,t){let i="",n=0,s=!1,o=0;for(let a=0;a<r.length;a++){let u=Math.floor(a%e),h=Math.floor(a/e);!u&&!s&&(s=!0),r[a]?(o++,a>0&&u>0&&r[a-1]||(i+=s?pE("M",u+t,.5+h+t):pE("m",n,0),n=0,s=!1),u+1<e&&r[a+1]||(i+=pE("h",o),o=0)):n++}return i}$6.render=function(e,t,i){let n=xK.getOptions(t),s=e.modules.size,o=e.modules.data,a=s+n.margin*2,u=n.color.light.a?"<path "+W6(n.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",h="<path "+W6(n.color.dark,"stroke")+' d="'+TK(o,s,n.margin)+'"/>',p='viewBox="0 0 '+a+" "+a+'"',D='<svg xmlns="http://www.w3.org/2000/svg" '+(n.width?'width="'+n.width+'" height="'+n.width+'" ':"")+p+' shape-rendering="crispEdges">'+u+h+`</svg>
`;return typeof i=="function"&&i(null,D),D}});var X6=B(Bl=>{f();var NK=XO(),gE=K6(),J6=k6(),DK=Y6();function yE(r,e,t,i,n){let s=[].slice.call(arguments,1),o=s.length,a=typeof s[o-1]=="function";if(!a&&!NK())throw new Error("Callback required as last argument");if(a){if(o<2)throw new Error("Too few arguments provided");o===2?(n=t,t=e,e=i=void 0):o===3&&(e.getContext&&typeof n>"u"?(n=i,i=void 0):(n=i,i=t,t=e,e=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(t=e,e=i=void 0):o===2&&!e.getContext&&(i=t,t=e,e=void 0),new Promise(function(u,h){try{let p=gE.create(t,i);u(r(p,e,i))}catch(p){h(p)}})}try{let u=gE.create(t,i);n(null,r(u,e,i))}catch(u){n(u)}}Bl.create=gE.create;Bl.toCanvas=yE.bind(null,J6.render);Bl.toDataURL=yE.bind(null,J6.renderToDataURL);Bl.toString=yE.bind(null,function(r,e,t){return DK.render(r,t)})});var l8=B(as=>{"use strict";f();var qK=as&&as.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),c8=as&&as.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&qK(e,r,t)};Object.defineProperty(as,"__esModule",{value:!0});c8(vl(),as);c8(Fv(),as)});f();var VK=_e(sg()),y8=_e(kI()),HK=_e(Gr()),QK=_e(zf()),jK=_e(Qy()),GK=_e(sc()),KK=_e(ky()),zK=_e(mn()),m8=_e(ic()),kK=_e(ec()),WK=_e(uy()),$K=_e(Wb()),YK=_e(Go());f();f();var rC=_e(Xy());f();f();var nh="elvenjs_state",Zb="https://devnet-api.multiversx.com";var sh="/dapp/init",oh="devnet",eC="https://maiar.page.link/?apn=com.elrond.maiar.wallet&isi=1519405832&ibi=com.elrond.maiar.wallet&link=https://xportal.com/",tC=["wss://relay.walletconnect.com"],xi={devnet:{id:"devnet",shortId:"D",name:"Devnet",egldLabel:"xEGLD",egldDenomination:"18",decimals:"4",gasPerDataByte:"1500",walletAddress:"https://devnet-wallet.multiversx.com",apiAddress:"https://devnet-api.multiversx.com",explorerAddress:"https://devnet-explorer.multiversx.com",apiTimeout:1e4},testnet:{id:"testnet",shortId:"T",name:"Testnet",egldLabel:"xEGLD",egldDenomination:"18",decimals:"4",gasPerDataByte:"1500",walletAddress:"https://testnet-wallet.multiversx.com",apiAddress:"https://testnet-api.multiversx.com",explorerAddress:"https://testnet-explorer.multiversx.com",apiTimeout:1e4},mainnet:{id:"mainnet",shortId:"1",name:"Mainnet",egldLabel:"EGLD",egldDenomination:"18",decimals:"4",gasPerDataByte:"1500",walletAddress:"https://wallet.multiversx.com",apiAddress:"https://api.multiversx.com",explorerAddress:"https://explorer.multiversx.com",apiTimeout:1e4}};var Te={get(r){let e=localStorage.getItem(nh);if(!e)return{};let t=JSON.parse(e);return r?t[r]:t},set(r,e){let t=this.get();t[r]=e,localStorage.setItem(nh,JSON.stringify(t))},clear(){localStorage.removeItem(nh)}};var ah=()=>De(void 0,null,function*(){let r=rC.ExtensionProvider.getInstance();try{let e=yield r.init(),t=Te.get();if(t!=null&&t.address&&r.setAddress(t.address),!e){console.warn("Something went wrong when trying to initialize the ExtensionProvider..");return}return r}catch(e){console.warn("Can't initialize the Dapp Provider!")}});var d8=_e(Xy()),p8=_e(dl()),g8=_e(vl());f();var AO=_e(dl());f();f();var Ne=class{static set(e,t){if(!e)return;let i=NE(_o({},this.events),{[e]:t});this.events=i}static get(e){if(!(!e||!this.events))return this.events[e]}static run(e,...t){var i,n;!e||!this.events||(n=(i=this.events)[e])==null||n.call(i,...t)}static clear(){this.events=void 0}};f();var yo=(n=>(n.ledger="ledger",n.mobile="mobile",n.webWallet="web-wallet",n.browserExtension="browser-extension",n))(yo||{});var Pu=r=>De(void 0,null,function*(){if(!r.dappProvider)throw new Error("Error: Logout failed: There is no active session!");Ne.run("onLoginPending");let e=yield r.dappProvider.logout();return e&&(Te.clear(),Ne.run("onLogout")),e});f();var vO=_e(Gr()),EO=_e(zf());f();var Er=r=>typeof r=="string"?r.toUpperCase():r instanceof Error?r.message:`Error: ${JSON.stringify(r)}`;f();var Bu=()=>new Date().setHours(new Date().getHours()+24),bp=r=>Date.now()>r;var ts=r=>De(void 0,null,function*(){let e=Te.get("address"),t=Te.get("expires");if(!(t&&bp(t))&&e&&r.networkProvider){let n=new vO.Address(e),s=new EO.Account(n);try{let o=yield r.networkProvider.getAccount(n);Te.set("address",e),Te.set("nonce",o.nonce.valueOf()),Te.set("balance",o.balance.toString()),s.update(o)}catch(o){let a=Er(o);console.warn(`Something went wrong trying to synchronize the user account: ${a}`)}}});f();function Cp(r){return r[Math.floor(Math.random()*r.length)]}var IO=r=>De(void 0,null,function*(){if(!r.initOptions.walletConnectV2ProjectId||!r.initOptions.chainType)return;let e={onClientLogin:()=>{ts(r),Ne.run("onLoggedIn")},onClientLogout:()=>Pu(r),onClientEvent:n=>{console.log("wc2 session event: ",n)}},t=Cp(r.initOptions.walletConnectV2RelayAddresses),i=new AO.WalletConnectV2Provider(e,xi[r.initOptions.chainType].shortId,t,r.initOptions.walletConnectV2ProjectId);try{return yield i.init(),i}catch(n){console.warn("Can't initialize the Dapp Provider!")}});f();var QO=_e(CO()),Bp=_e(Gr()),jO=_e(SO()),GO=_e(OO()),KO=_e(Kv()),zO=_e(FO()),kO=_e(qO()),WO=_e(VO()),$O=_e(HO());var Mp=class{constructor({apiUrl:e,chainType:t,apiTimeout:i}){var n,s;this.chainType=t||oh,this.apiUrl=e||((n=xi[this.chainType])==null?void 0:n.apiAddress),this.apiTimeout=i||((s=xi[this.chainType])==null?void 0:s.apiTimeout)}apiGet(e,t){return De(this,null,function*(){if(typeof fetch!="undefined"){let i=new AbortController,n=setTimeout(()=>i.abort(),this.apiTimeout),s={method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"},signal:i.signal};try{let o=yield fetch(this.apiUrl+"/"+e,Object.assign(s,t||{})),a=yield o.json();if(!o.ok){let u=(a==null?void 0:a.error)||o.status;return clearTimeout(n),Promise.reject(u)}return clearTimeout(n),a}catch(o){this.handleApiError(o,e)}}})}apiPost(e,t,i){return De(this,null,function*(){if(typeof fetch!="undefined"){let n=new AbortController,s=setTimeout(()=>n.abort(),this.apiTimeout),o={method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(t||{}),signal:n.signal};try{let a=yield fetch(this.apiUrl+"/"+e,Object.assign(o,i||{})),u=yield a.json();if(!a.ok){let h=(u==null?void 0:u.error)||a.status;return clearTimeout(s),Promise.reject(h)}return clearTimeout(s),u}catch(a){this.handleApiError(a,e)}}})}handleApiError(e,t){if(!e.response)throw new Error(`Request error on url [${t}]: [${e.toString()}]`);let i=e.response.data,n=i.error||i.message||JSON.stringify(i);throw new Error(n)}sendTransaction(e){return De(this,null,function*(){return(yield this.apiPost("transactions",e.toSendable())).txHash})}getAccount(e){return De(this,null,function*(){let t=yield this.apiGet(`accounts/${e.bech32()}`);return{address:new Bp.Address((t==null?void 0:t.address)||""),nonce:Number((t==null?void 0:t.nonce)||0),balance:new QO.default((t==null?void 0:t.balance)||0),code:(t==null?void 0:t.code)||"",userName:(t==null?void 0:t.username)||""}})}getTransaction(e){return De(this,null,function*(){let t=yield this.apiGet(`transactions/${e}`),i=new jO.TransactionStatus(t.status);return{hash:e,type:t.type||"",nonce:t.nonce||0,round:t.round,epoch:t.epoch||0,value:(t.value||0).toString(),sender:new Bp.Address(t.sender),receiver:new Bp.Address(t.receiver),gasPrice:t.gasPrice||0,gasLimit:t.gasLimit||0,data:y.Buffer.from(t.data||"","base64"),status:i,timestamp:t.timestamp||0,blockNonce:t.blockNonce||0,hyperblockNonce:t.hyperblockNonce||0,hyperblockHash:t.hyperblockHash||"",receipt:GO.TransactionReceipt.fromHttpResponse(t.receipt||{}),logs:KO.TransactionLogs.fromHttpResponse(t.logs||{}),contractResults:zO.ContractResults.fromApiHttpResponse(t.results||[]),isCompleted:!i.isPending()}})}queryContract(o){return De(this,arguments,function*({address:e,func:t,args:i,value:n,caller:s}){try{let a=new $O.Query({address:e,func:t,args:i,value:n,caller:s}),u=new WO.ContractQueryRequest(a).toHttpRequest(),h=yield this.apiPost("query",u);return kO.ContractQueryResponse.fromHttpResponse(h)}catch(a){this.handleApiError(a,"query")}})}};f();var YO=(r,e)=>De(void 0,null,function*(){let t=yield ah();try{t&&(yield t.login()),Ne.run("onLoginPending")}catch(n){let s=Er(n);console.warn(`Something went wrong trying to login the user: ${s}`)}if(!t)throw new Error("Error: There were problems with auth provider initialization!");let{signature:i}=t.account;if(e&&Te.set("loginToken",e),i&&Te.set("signature",i),r.networkProvider)try{let n=yield t.getAddress();if(!n)throw new Error("Canceled!");return Te.set("address",n),Te.set("loginMethod","browser-extension"),Te.set("expires",Bu()),yield ts(r),t}catch(n){console.warn(`Something went wrong trying to synchronize the user account: ${n==null?void 0:n.message}`)}finally{Ne.run("onLoggedIn")}});f();f();var Z6=_e(X6()),e8=_e(dl());var OK=r=>{var t;let e=document.createElement("template");return e.innerHTML=r.trim(),(t=e.content.firstChild)==null?void 0:t.cloneNode(!0)},PK=r=>{let e=`${eC}?wallet-connect=${encodeURIComponent(r)}`,t=document.createElement("a");return t.setAttribute("href",e),t.setAttribute("rel","noopener noreferrer nofollow"),t.setAttribute("target","_blank"),t.textContent="Maiar login",t.classList.add("elven-qr-code-deep-link"),t},BK=()=>{let r=document.createElement("div");return r.classList.add("elven-wc-pairings"),r.setAttribute("id","elven-wc-pairings"),r},MK=()=>{let r=document.createElement("div");return r.textContent="Existing WalletConnect pairings:",r.classList.add("elven-wc-pairings-header"),r.setAttribute("id","elven-wc-pairings-header"),r},RK=r=>{let e=document.createElement("button");return e.classList.add("elven-wc-pairings-remove-btn"),e.setAttribute("id","elven-wc-pairings-remove-btn"),e.textContent="\u2716",e.addEventListener("click",()=>console.log("Click, ",r)),e},LK=r=>{var i,n;let e=document.createElement("div");e.classList.add("elven-wc-pairing-item"),e.setAttribute("id","elven-wc-pairing-item"),e.textContent=`${(i=r.peerMetadata)==null?void 0:i.description}
(${(n=r.peerMetadata)==null?void 0:n.url})`;let t=RK(r);return e.appendChild(t),e},FK=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),UK=r=>De(void 0,null,function*(){return r?yield Z6.default.toString(r,{type:"svg"}):void 0}),t8=(r,e,t)=>De(void 0,null,function*(){if(!r)throw new Error("Please provide the QR Code and WalletConnect Pairings container id!");let i=null;typeof r=="string"?i=document.getElementById(r):r instanceof HTMLElement&&(i=r);let n=yield UK(e),s;if(n&&(s=OK(n)),i&&s&&(i.replaceChildren(),i.appendChild(s),FK()&&i.appendChild(PK(e))),i&&t instanceof e8.WalletConnectV2Provider){let o=t.pairings;if(o){let a=BK();i.appendChild(a);let u=MK();a.appendChild(u);for(let h of o){let p=LK(h);a.appendChild(p)}}}return i});var zp=_e(dl());var r8=(r,e,t)=>De(void 0,null,function*(){if(!e)throw new Error("You haven't provided the QR code container DOM element id");let i=Cp(r.initOptions.walletConnectV2RelayAddresses);if(!i||!r.networkProvider)throw new Error("Something wen't wrong with the initialization (ApiNetworkProvider or Wallet Connect Bridge address), plese try to refresh the page!");if(!r.initOptions.walletConnectV2ProjectId)throw new Error("Please provide your WalletConnect project id. You can get it here: https://cloud.walletconnect.com)");if(!r.initOptions.chainType)throw new Error("Please provide the chain type in ElvenJS.init function!");let n,s={onClientLogin:()=>De(void 0,null,function*(){if(r.dappProvider instanceof zp.WalletConnectV2Provider){Ne.run("onLoginPending");let a=yield r.dappProvider.getAddress(),u=yield r.dappProvider.getSignature();Te.set("address",a),Te.set("loginMethod","mobile"),Te.set("expires",Bu()),yield ts(r),u&&Te.set("signature",u),t&&Te.set("loginToken",t),Ne.run("onLoggedIn"),n==null||n.replaceChildren()}}),onClientLogout:()=>De(void 0,null,function*(){r.dappProvider instanceof zp.WalletConnectV2Provider&&(yield Pu(r),Ne.run("onLogout"))}),onClientEvent:a=>{console.log("wc2 session event: ",a)}},o=new zp.WalletConnectV2Provider(s,xi[r.initOptions.chainType].shortId,i,r.initOptions.walletConnectV2ProjectId);try{if(o){r.dappProvider=o,Ne.run("onQrPending");let{uri:a,approval:u}=yield o.connect({methods:["erd_cancelAction"]}),h=t?`${a}&token=${t}`:a;return e&&h&&(n=yield t8(e,h,o),Ne.run("onQrLoaded")),yield o.login({approval:u,token:t}),o}}catch(a){let u=Er(a);console.warn(`Something went wrong trying to login the user: ${u}`)}});f();var i8=_e(vl());var n8=(r,e,t)=>De(void 0,null,function*(){let i=new i8.WalletProvider(`${r}${sh}`),n=typeof window!="undefined"?encodeURIComponent(`${window.location.origin}${e||"/"}`):"/",s=_o({callbackUrl:n},t?{token:t}:{});try{return Ne.run("onLoginPending"),Te.set("loginMethod","web-wallet"),yield i.login(s),Te.set("expires",Bu()),t&&Te.set("loginToken",t),i}catch(o){let a=Er(o);console.warn(`Something went wrong trying to login the user: ${a}`),Te.set("loginMethod","")}});f();var Io=r=>{if(typeof window!="undefined"){let e=new URL(window.location.href);return new URLSearchParams(e.search).get(r)}};f();var s8=_e(vl());var o8=r=>De(void 0,null,function*(){let e=Io("signature"),t=Io("address"),i=Te.get("address");if(e&&Te.set("signature",e),t||i)return t&&(Te.set("address",t),window.history.replaceState(null,"",window.location.pathname)),new s8.WalletProvider(`${r}${sh}`)});f();var a8=_e(zf()),u8=_e(ky());var kp=(r,e)=>De(void 0,null,function*(){Ne.run("onTxSent",r),yield new u8.TransactionWatcher(e).awaitCompleted(r);let i=r.getSender(),n=new a8.Account(i),s=yield e.getAccount(i);n.update(s),Te.set("address",n.address.bech32()),Te.set("nonce",n.getNonceThenIncrement().valueOf()),Te.set("balance",n.balance.toString()),Ne.run("onTxFinalized",r)});f();var Wp=_e(l8()),f8=_e(Qy());var h8=(r,e,t)=>De(void 0,null,function*(){if(Io(Wp.WALLET_PROVIDER_CALLBACK_PARAM)===Wp.WALLET_PROVIDER_CALLBACK_PARAM_TX_SIGNED&&r&&e&&"getTransactionsFromWalletUrl"in r){let n=r.getTransactionsFromWalletUrl();window.history.replaceState(null,"",window.location.pathname);let s=n==null?void 0:n[0];if(s){s.data=y.Buffer.from(s.data).toString("base64");let o=f8.Transaction.fromPlainObject(s);o.setNonce(t);try{Ne.run("onTxStarted",o),yield e.sendTransaction(o),yield kp(o,e)}catch(a){let u=Er(a);throw Ne.run("onTxError",o,u),new Error(`Error: Transaction signing failed! ${u}`)}}}});var Rl=class{static init(e){return De(this,null,function*(){let t=Te.get();if(t.expires&&bp(t.expires)){Te.clear(),this.dappProvider=void 0;return}this.initOptions=_o({chainType:oh,apiUrl:Zb,apiTimeout:1e4,walletConnectV2ProjectId:"",walletConnectV2RelayAddresses:tC},e),this.networkProvider=new Mp(this.initOptions),this.initOptions.onLoginPending&&Ne.set("onLoginPending",this.initOptions.onLoginPending),this.initOptions.onLoggedIn&&Ne.set("onLoggedIn",this.initOptions.onLoggedIn),this.initOptions.onQrPending&&Ne.set("onQrPending",this.initOptions.onQrPending),this.initOptions.onQrLoaded&&Ne.set("onQrLoaded",this.initOptions.onQrLoaded),this.initOptions.onLogout&&Ne.set("onLogout",this.initOptions.onLogout),this.initOptions.onTxStarted&&Ne.set("onTxStarted",this.initOptions.onTxStarted),this.initOptions.onTxSent&&Ne.set("onTxSent",this.initOptions.onTxSent),this.initOptions.onTxFinalized&&Ne.set("onTxFinalized",this.initOptions.onTxFinalized),this.initOptions.onTxError&&Ne.set("onTxError",this.initOptions.onTxError),((t==null?void 0:t.address)||t.loginMethod==="web-wallet"&&Io("address"))&&(t!=null&&t.loginMethod)&&(Ne.run("onLoginPending"),t.loginMethod==="browser-extension"&&(this.dappProvider=yield ah()),t.loginMethod==="mobile"&&(this.dappProvider=yield IO(this)),t.loginMethod==="web-wallet"&&this.initOptions.chainType&&(this.dappProvider=yield o8(xi[this.initOptions.chainType].walletAddress)),yield ts(this),Ne.run("onLoggedIn"),t.loginMethod==="web-wallet"&&(yield h8(this.dappProvider,this.networkProvider,t.nonce)))})}static login(e,t){return De(this,null,function*(){var n;if(!Object.values(yo).includes(e))throw new Error("Error: Wrong login method!");if(!this.networkProvider)throw new Error("Error: Login failed: Use ElvenJs.init() first!");try{if(e==="browser-extension"){let s=yield YO(this,t==null?void 0:t.token);this.dappProvider=s}if(e==="mobile"){let s=yield r8(this,t==null?void 0:t.qrCodeContainer,t==null?void 0:t.token);this.dappProvider=s}if(e==="web-wallet"&&((n=this.initOptions)!=null&&n.chainType)){let s=yield n8(xi[this.initOptions.chainType].walletAddress,t==null?void 0:t.callbackRoute,t==null?void 0:t.token);this.dappProvider=s}}catch(s){let o=Er(s);throw new Error(`Error: ${o}`)}})}static logout(){return De(this,null,function*(){let e=yield Pu(this);return this.dappProvider=void 0,e})}static signAndSendTransaction(e){return De(this,null,function*(){if(!this.dappProvider)throw new Error("Error: Transaction signing failed: There is no active session!");if(!this.networkProvider)throw new Error("Error: Transaction signing failed: There is no active network provider!");try{Ne.run("onTxStarted",e);let t=Te.get();e.setNonce(t.nonce),this.dappProvider instanceof d8.ExtensionProvider&&(yield this.dappProvider.signTransaction(e)),this.dappProvider instanceof p8.WalletConnectV2Provider&&(yield this.dappProvider.signTransaction(e)),this.dappProvider instanceof g8.WalletProvider&&(yield this.dappProvider.signTransaction(e)),t.loginMethod!=="web-wallet"&&(yield this.networkProvider.sendTransaction(e),yield kp(e,this.networkProvider))}catch(t){let i=Er(t);throw Ne.run("onTxError",e,i),new Error(`Error: Transaction signing failed! ${i}`)}return e})}static queryContract(o){return De(this,arguments,function*({address:e,func:t,args:i=[],value:n=0,caller:s}){if(!this.networkProvider)throw new Error("Error: Query failed: There is no active network provider!");if(!e||!t)throw new Error("Error: Query failed: The Query arguments are not valid! Address and func required");try{return yield this.networkProvider.queryContract({address:e,func:t,args:i,value:n,caller:s})}catch(a){let u=Er(a);throw new Error(`Error: Smart contract query failed! ${u}`)}})}},Ml=Rl;Ml.storage=Te,Ml.destroy=()=>{Rl.networkProvider=void 0,Rl.dappProvider=void 0,Rl.initOptions=void 0,Ne.clear()};var export_Account=QK.Account;var export_Address=HK.Address;var export_AddressValue=YK.AddressValue;var export_BigUIntValue=m8.BigUIntValue;var export_BooleanValue=kK.BooleanValue;var export_BytesValue=zK.BytesValue;var export_ContractCallPayloadBuilder=WK.ContractCallPayloadBuilder;var export_ContractFunction=$K.ContractFunction;var export_ESDTNFTTransferPayloadBuilder=y8.ESDTNFTTransferPayloadBuilder;var export_ESDTTransferPayloadBuilder=y8.ESDTTransferPayloadBuilder;var export_TokenPayment=VK.TokenPayment;var export_Transaction=jK.Transaction;var export_TransactionPayload=GK.TransactionPayload;var export_TransactionWatcher=KK.TransactionWatcher;var export_U32Value=m8.U32Value;export{export_Account as Account,export_Address as Address,export_AddressValue as AddressValue,export_BigUIntValue as BigUIntValue,export_BooleanValue as BooleanValue,export_BytesValue as BytesValue,export_ContractCallPayloadBuilder as ContractCallPayloadBuilder,export_ContractFunction as ContractFunction,export_ESDTNFTTransferPayloadBuilder as ESDTNFTTransferPayloadBuilder,export_ESDTTransferPayloadBuilder as ESDTTransferPayloadBuilder,Ml as ElvenJS,yo as LoginMethodsEnum,export_TokenPayment as TokenPayment,export_Transaction as Transaction,export_TransactionPayload as TransactionPayload,export_TransactionWatcher as TransactionWatcher,export_U32Value as U32Value};
/*! Bundled license information:

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

punycode/punycode.js:
  (*! https://mths.be/punycode v1.4.1 by @mathias *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)
*/
