var o8=Object.create;var Gu=Object.defineProperty,a8=Object.defineProperties,u8=Object.getOwnPropertyDescriptor,c8=Object.getOwnPropertyDescriptors,l8=Object.getOwnPropertyNames,vE=Object.getOwnPropertySymbols,f8=Object.getPrototypeOf,AE=Object.prototype.hasOwnProperty,h8=Object.prototype.propertyIsEnumerable;var EE=(r,e,t)=>e in r?Gu(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,wo=(r,e)=>{for(var t in e||={})AE.call(e,t)&&EE(r,t,e[t]);if(vE)for(var t of vE(e))h8.call(e,t)&&EE(r,t,e[t]);return r},IE=(r,e)=>a8(r,c8(e));var _E=(r=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(r,{get:(e,t)=>(typeof require<"u"?require:e)[t]}):r)(function(r){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+r+'" is not supported')});var ye=(r,e)=>()=>(r&&(e=r(r=0)),e);var M=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),it=(r,e)=>{for(var t in e)Gu(r,t,{get:e[t],enumerable:!0})},Pl=(r,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of l8(e))!AE.call(r,n)&&n!==t&&Gu(r,n,{get:()=>e[n],enumerable:!(i=u8(e,n))||i.enumerable});return r},Jt=(r,e,t)=>(Pl(r,e,"default"),t&&Pl(t,e,"default")),Ie=(r,e,t)=>(t=r!=null?o8(f8(r)):{},Pl(e||!r||!r.__esModule?Gu(t,"default",{value:r,enumerable:!0}):t,r)),nt=r=>Pl(Gu({},"__esModule",{value:!0}),r);var Ne=(r,e,t)=>new Promise((i,n)=>{var s=c=>{try{a(t.next(c))}catch(h){n(h)}},o=c=>{try{a(t.throw(c))}catch(h){n(h)}},a=c=>c.done?i(c.value):Promise.resolve(c.value).then(s,o);a((t=t.apply(r,e)).next())});var l0=M(Rl=>{"use strict";f();Rl.byteLength=p8;Rl.toByteArray=y8;Rl.fromByteArray=v8;var ei=[],Cr=[],d8=typeof Uint8Array<"u"?Uint8Array:Array,c0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(ss=0,bE=c0.length;ss<bE;++ss)ei[ss]=c0[ss],Cr[c0.charCodeAt(ss)]=ss;var ss,bE;Cr["-".charCodeAt(0)]=62;Cr["_".charCodeAt(0)]=63;function CE(r){var e=r.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=r.indexOf("=");t===-1&&(t=e);var i=t===e?0:4-t%4;return[t,i]}function p8(r){var e=CE(r),t=e[0],i=e[1];return(t+i)*3/4-i}function g8(r,e,t){return(e+t)*3/4-t}function y8(r){var e,t=CE(r),i=t[0],n=t[1],s=new d8(g8(r,i,n)),o=0,a=n>0?i-4:i,c;for(c=0;c<a;c+=4)e=Cr[r.charCodeAt(c)]<<18|Cr[r.charCodeAt(c+1)]<<12|Cr[r.charCodeAt(c+2)]<<6|Cr[r.charCodeAt(c+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return n===2&&(e=Cr[r.charCodeAt(c)]<<2|Cr[r.charCodeAt(c+1)]>>4,s[o++]=e&255),n===1&&(e=Cr[r.charCodeAt(c)]<<10|Cr[r.charCodeAt(c+1)]<<4|Cr[r.charCodeAt(c+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function m8(r){return ei[r>>18&63]+ei[r>>12&63]+ei[r>>6&63]+ei[r&63]}function w8(r,e,t){for(var i,n=[],s=e;s<t;s+=3)i=(r[s]<<16&16711680)+(r[s+1]<<8&65280)+(r[s+2]&255),n.push(m8(i));return n.join("")}function v8(r){for(var e,t=r.length,i=t%3,n=[],s=16383,o=0,a=t-i;o<a;o+=s)n.push(w8(r,o,o+s>a?a:o+s));return i===1?(e=r[t-1],n.push(ei[e>>2]+ei[e<<4&63]+"==")):i===2&&(e=(r[t-2]<<8)+r[t-1],n.push(ei[e>>10]+ei[e>>4&63]+ei[e<<2&63]+"=")),n.join("")}});var h0=M(f0=>{f();f0.read=function(r,e,t,i,n){var s,o,a=n*8-i-1,c=(1<<a)-1,h=c>>1,p=-7,A=t?n-1:0,D=t?-1:1,O=r[e+A];for(A+=D,s=O&(1<<-p)-1,O>>=-p,p+=a;p>0;s=s*256+r[e+A],A+=D,p-=8);for(o=s&(1<<-p)-1,s>>=-p,p+=i;p>0;o=o*256+r[e+A],A+=D,p-=8);if(s===0)s=1-h;else{if(s===c)return o?NaN:(O?-1:1)*(1/0);o=o+Math.pow(2,i),s=s-h}return(O?-1:1)*o*Math.pow(2,s-i)};f0.write=function(r,e,t,i,n,s){var o,a,c,h=s*8-n-1,p=(1<<h)-1,A=p>>1,D=n===23?Math.pow(2,-24)-Math.pow(2,-77):0,O=i?0:s-1,T=i?1:-1,V=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=p):(o=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+A>=1?e+=D/c:e+=D*Math.pow(2,1-A),e*c>=2&&(o++,c/=2),o+A>=p?(a=0,o=p):o+A>=1?(a=(e*c-1)*Math.pow(2,n),o=o+A):(a=e*Math.pow(2,A-1)*Math.pow(2,n),o=0));n>=8;r[t+O]=a&255,O+=T,a/=256,n-=8);for(o=o<<n|a,h+=n;h>0;r[t+O]=o&255,O+=T,o/=256,h-=8);r[t+O-T]|=V*128}});var UE=M(Eo=>{"use strict";f();var d0=l0(),vo=h0(),xE=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Eo.Buffer=se;Eo.SlowBuffer=C8;Eo.INSPECT_MAX_BYTES=50;var Ll=2147483647;Eo.kMaxLength=Ll;se.TYPED_ARRAY_SUPPORT=E8();!se.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function E8(){try{var r=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(r,e),r.foo()===42}catch{return!1}}Object.defineProperty(se.prototype,"parent",{enumerable:!0,get:function(){if(se.isBuffer(this))return this.buffer}});Object.defineProperty(se.prototype,"offset",{enumerable:!0,get:function(){if(se.isBuffer(this))return this.byteOffset}});function Li(r){if(r>Ll)throw new RangeError('The value "'+r+'" is invalid for option "size"');var e=new Uint8Array(r);return Object.setPrototypeOf(e,se.prototype),e}function se(r,e,t){if(typeof r=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return m0(r)}return NE(r,e,t)}se.poolSize=8192;function NE(r,e,t){if(typeof r=="string")return I8(r,e);if(ArrayBuffer.isView(r))return _8(r);if(r==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r);if(ti(r,ArrayBuffer)||r&&ti(r.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ti(r,SharedArrayBuffer)||r&&ti(r.buffer,SharedArrayBuffer)))return g0(r,e,t);if(typeof r=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var i=r.valueOf&&r.valueOf();if(i!=null&&i!==r)return se.from(i,e,t);var n=b8(r);if(n)return n;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof r[Symbol.toPrimitive]=="function")return se.from(r[Symbol.toPrimitive]("string"),e,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r)}se.from=function(r,e,t){return NE(r,e,t)};Object.setPrototypeOf(se.prototype,Uint8Array.prototype);Object.setPrototypeOf(se,Uint8Array);function DE(r){if(typeof r!="number")throw new TypeError('"size" argument must be of type number');if(r<0)throw new RangeError('The value "'+r+'" is invalid for option "size"')}function A8(r,e,t){return DE(r),r<=0?Li(r):e!==void 0?typeof t=="string"?Li(r).fill(e,t):Li(r).fill(e):Li(r)}se.alloc=function(r,e,t){return A8(r,e,t)};function m0(r){return DE(r),Li(r<0?0:w0(r)|0)}se.allocUnsafe=function(r){return m0(r)};se.allocUnsafeSlow=function(r){return m0(r)};function I8(r,e){if((typeof e!="string"||e==="")&&(e="utf8"),!se.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var t=OE(r,e)|0,i=Li(t),n=i.write(r,e);return n!==t&&(i=i.slice(0,n)),i}function p0(r){for(var e=r.length<0?0:w0(r.length)|0,t=Li(e),i=0;i<e;i+=1)t[i]=r[i]&255;return t}function _8(r){if(ti(r,Uint8Array)){var e=new Uint8Array(r);return g0(e.buffer,e.byteOffset,e.byteLength)}return p0(r)}function g0(r,e,t){if(e<0||r.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(r.byteLength<e+(t||0))throw new RangeError('"length" is outside of buffer bounds');var i;return e===void 0&&t===void 0?i=new Uint8Array(r):t===void 0?i=new Uint8Array(r,e):i=new Uint8Array(r,e,t),Object.setPrototypeOf(i,se.prototype),i}function b8(r){if(se.isBuffer(r)){var e=w0(r.length)|0,t=Li(e);return t.length===0||r.copy(t,0,0,e),t}if(r.length!==void 0)return typeof r.length!="number"||v0(r.length)?Li(0):p0(r);if(r.type==="Buffer"&&Array.isArray(r.data))return p0(r.data)}function w0(r){if(r>=Ll)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Ll.toString(16)+" bytes");return r|0}function C8(r){return+r!=r&&(r=0),se.alloc(+r)}se.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==se.prototype};se.compare=function(e,t){if(ti(e,Uint8Array)&&(e=se.from(e,e.offset,e.byteLength)),ti(t,Uint8Array)&&(t=se.from(t,t.offset,t.byteLength)),!se.isBuffer(e)||!se.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var i=e.length,n=t.length,s=0,o=Math.min(i,n);s<o;++s)if(e[s]!==t[s]){i=e[s],n=t[s];break}return i<n?-1:n<i?1:0};se.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};se.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return se.alloc(0);var i;if(t===void 0)for(t=0,i=0;i<e.length;++i)t+=e[i].length;var n=se.allocUnsafe(t),s=0;for(i=0;i<e.length;++i){var o=e[i];if(ti(o,Uint8Array))s+o.length>n.length?se.from(o).copy(n,s):Uint8Array.prototype.set.call(n,o,s);else if(se.isBuffer(o))o.copy(n,s);else throw new TypeError('"list" argument must be an Array of Buffers');s+=o.length}return n};function OE(r,e){if(se.isBuffer(r))return r.length;if(ArrayBuffer.isView(r)||ti(r,ArrayBuffer))return r.byteLength;if(typeof r!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof r);var t=r.length,i=arguments.length>2&&arguments[2]===!0;if(!i&&t===0)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return y0(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return FE(r).length;default:if(n)return i?-1:y0(r).length;e=(""+e).toLowerCase(),n=!0}}se.byteLength=OE;function x8(r,e,t){var i=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,e>>>=0,t<=e))return"";for(r||(r="utf8");;)switch(r){case"hex":return L8(this,e,t);case"utf8":case"utf-8":return ME(this,e,t);case"ascii":return P8(this,e,t);case"latin1":case"binary":return R8(this,e,t);case"base64":return B8(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F8(this,e,t);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),i=!0}}se.prototype._isBuffer=!0;function os(r,e,t){var i=r[e];r[e]=r[t],r[t]=i}se.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)os(this,t,t+1);return this};se.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)os(this,t,t+3),os(this,t+1,t+2);return this};se.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)os(this,t,t+7),os(this,t+1,t+6),os(this,t+2,t+5),os(this,t+3,t+4);return this};se.prototype.toString=function(){var e=this.length;return e===0?"":arguments.length===0?ME(this,0,e):x8.apply(this,arguments)};se.prototype.toLocaleString=se.prototype.toString;se.prototype.equals=function(e){if(!se.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:se.compare(this,e)===0};se.prototype.inspect=function(){var e="",t=Eo.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"};xE&&(se.prototype[xE]=se.prototype.inspect);se.prototype.compare=function(e,t,i,n,s){if(ti(e,Uint8Array)&&(e=se.from(e,e.offset,e.byteLength)),!se.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),i===void 0&&(i=e?e.length:0),n===void 0&&(n=0),s===void 0&&(s=this.length),t<0||i>e.length||n<0||s>this.length)throw new RangeError("out of range index");if(n>=s&&t>=i)return 0;if(n>=s)return-1;if(t>=i)return 1;if(t>>>=0,i>>>=0,n>>>=0,s>>>=0,this===e)return 0;for(var o=s-n,a=i-t,c=Math.min(o,a),h=this.slice(n,s),p=e.slice(t,i),A=0;A<c;++A)if(h[A]!==p[A]){o=h[A],a=p[A];break}return o<a?-1:a<o?1:0};function BE(r,e,t,i,n){if(r.length===0)return-1;if(typeof t=="string"?(i=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,v0(t)&&(t=n?0:r.length-1),t<0&&(t=r.length+t),t>=r.length){if(n)return-1;t=r.length-1}else if(t<0)if(n)t=0;else return-1;if(typeof e=="string"&&(e=se.from(e,i)),se.isBuffer(e))return e.length===0?-1:SE(r,e,t,i,n);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?n?Uint8Array.prototype.indexOf.call(r,e,t):Uint8Array.prototype.lastIndexOf.call(r,e,t):SE(r,[e],t,i,n);throw new TypeError("val must be string, number or Buffer")}function SE(r,e,t,i,n){var s=1,o=r.length,a=e.length;if(i!==void 0&&(i=String(i).toLowerCase(),i==="ucs2"||i==="ucs-2"||i==="utf16le"||i==="utf-16le")){if(r.length<2||e.length<2)return-1;s=2,o/=2,a/=2,t/=2}function c(O,T){return s===1?O[T]:O.readUInt16BE(T*s)}var h;if(n){var p=-1;for(h=t;h<o;h++)if(c(r,h)===c(e,p===-1?0:h-p)){if(p===-1&&(p=h),h-p+1===a)return p*s}else p!==-1&&(h-=h-p),p=-1}else for(t+a>o&&(t=o-a),h=t;h>=0;h--){for(var A=!0,D=0;D<a;D++)if(c(r,h+D)!==c(e,D)){A=!1;break}if(A)return h}return-1}se.prototype.includes=function(e,t,i){return this.indexOf(e,t,i)!==-1};se.prototype.indexOf=function(e,t,i){return BE(this,e,t,i,!0)};se.prototype.lastIndexOf=function(e,t,i){return BE(this,e,t,i,!1)};function S8(r,e,t,i){t=Number(t)||0;var n=r.length-t;i?(i=Number(i),i>n&&(i=n)):i=n;var s=e.length;i>s/2&&(i=s/2);for(var o=0;o<i;++o){var a=parseInt(e.substr(o*2,2),16);if(v0(a))return o;r[t+o]=a}return o}function T8(r,e,t,i){return Fl(y0(e,r.length-t),r,t,i)}function N8(r,e,t,i){return Fl(V8(e),r,t,i)}function D8(r,e,t,i){return Fl(FE(e),r,t,i)}function O8(r,e,t,i){return Fl(H8(e,r.length-t),r,t,i)}se.prototype.write=function(e,t,i,n){if(t===void 0)n="utf8",i=this.length,t=0;else if(i===void 0&&typeof t=="string")n=t,i=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(i)?(i=i>>>0,n===void 0&&(n="utf8")):(n=i,i=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var s=this.length-t;if((i===void 0||i>s)&&(i=s),e.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return S8(this,e,t,i);case"utf8":case"utf-8":return T8(this,e,t,i);case"ascii":case"latin1":case"binary":return N8(this,e,t,i);case"base64":return D8(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O8(this,e,t,i);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}};se.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function B8(r,e,t){return e===0&&t===r.length?d0.fromByteArray(r):d0.fromByteArray(r.slice(e,t))}function ME(r,e,t){t=Math.min(r.length,t);for(var i=[],n=e;n<t;){var s=r[n],o=null,a=s>239?4:s>223?3:s>191?2:1;if(n+a<=t){var c,h,p,A;switch(a){case 1:s<128&&(o=s);break;case 2:c=r[n+1],(c&192)===128&&(A=(s&31)<<6|c&63,A>127&&(o=A));break;case 3:c=r[n+1],h=r[n+2],(c&192)===128&&(h&192)===128&&(A=(s&15)<<12|(c&63)<<6|h&63,A>2047&&(A<55296||A>57343)&&(o=A));break;case 4:c=r[n+1],h=r[n+2],p=r[n+3],(c&192)===128&&(h&192)===128&&(p&192)===128&&(A=(s&15)<<18|(c&63)<<12|(h&63)<<6|p&63,A>65535&&A<1114112&&(o=A))}}o===null?(o=65533,a=1):o>65535&&(o-=65536,i.push(o>>>10&1023|55296),o=56320|o&1023),i.push(o),n+=a}return M8(i)}var TE=4096;function M8(r){var e=r.length;if(e<=TE)return String.fromCharCode.apply(String,r);for(var t="",i=0;i<e;)t+=String.fromCharCode.apply(String,r.slice(i,i+=TE));return t}function P8(r,e,t){var i="";t=Math.min(r.length,t);for(var n=e;n<t;++n)i+=String.fromCharCode(r[n]&127);return i}function R8(r,e,t){var i="";t=Math.min(r.length,t);for(var n=e;n<t;++n)i+=String.fromCharCode(r[n]);return i}function L8(r,e,t){var i=r.length;(!e||e<0)&&(e=0),(!t||t<0||t>i)&&(t=i);for(var n="",s=e;s<t;++s)n+=Q8[r[s]];return n}function F8(r,e,t){for(var i=r.slice(e,t),n="",s=0;s<i.length-1;s+=2)n+=String.fromCharCode(i[s]+i[s+1]*256);return n}se.prototype.slice=function(e,t){var i=this.length;e=~~e,t=t===void 0?i:~~t,e<0?(e+=i,e<0&&(e=0)):e>i&&(e=i),t<0?(t+=i,t<0&&(t=0)):t>i&&(t=i),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,se.prototype),n};function Qt(r,e,t){if(r%1!==0||r<0)throw new RangeError("offset is not uint");if(r+e>t)throw new RangeError("Trying to access beyond buffer length")}se.prototype.readUintLE=se.prototype.readUIntLE=function(e,t,i){e=e>>>0,t=t>>>0,i||Qt(e,t,this.length);for(var n=this[e],s=1,o=0;++o<t&&(s*=256);)n+=this[e+o]*s;return n};se.prototype.readUintBE=se.prototype.readUIntBE=function(e,t,i){e=e>>>0,t=t>>>0,i||Qt(e,t,this.length);for(var n=this[e+--t],s=1;t>0&&(s*=256);)n+=this[e+--t]*s;return n};se.prototype.readUint8=se.prototype.readUInt8=function(e,t){return e=e>>>0,t||Qt(e,1,this.length),this[e]};se.prototype.readUint16LE=se.prototype.readUInt16LE=function(e,t){return e=e>>>0,t||Qt(e,2,this.length),this[e]|this[e+1]<<8};se.prototype.readUint16BE=se.prototype.readUInt16BE=function(e,t){return e=e>>>0,t||Qt(e,2,this.length),this[e]<<8|this[e+1]};se.prototype.readUint32LE=se.prototype.readUInt32LE=function(e,t){return e=e>>>0,t||Qt(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};se.prototype.readUint32BE=se.prototype.readUInt32BE=function(e,t){return e=e>>>0,t||Qt(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};se.prototype.readIntLE=function(e,t,i){e=e>>>0,t=t>>>0,i||Qt(e,t,this.length);for(var n=this[e],s=1,o=0;++o<t&&(s*=256);)n+=this[e+o]*s;return s*=128,n>=s&&(n-=Math.pow(2,8*t)),n};se.prototype.readIntBE=function(e,t,i){e=e>>>0,t=t>>>0,i||Qt(e,t,this.length);for(var n=t,s=1,o=this[e+--n];n>0&&(s*=256);)o+=this[e+--n]*s;return s*=128,o>=s&&(o-=Math.pow(2,8*t)),o};se.prototype.readInt8=function(e,t){return e=e>>>0,t||Qt(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};se.prototype.readInt16LE=function(e,t){e=e>>>0,t||Qt(e,2,this.length);var i=this[e]|this[e+1]<<8;return i&32768?i|4294901760:i};se.prototype.readInt16BE=function(e,t){e=e>>>0,t||Qt(e,2,this.length);var i=this[e+1]|this[e]<<8;return i&32768?i|4294901760:i};se.prototype.readInt32LE=function(e,t){return e=e>>>0,t||Qt(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};se.prototype.readInt32BE=function(e,t){return e=e>>>0,t||Qt(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};se.prototype.readFloatLE=function(e,t){return e=e>>>0,t||Qt(e,4,this.length),vo.read(this,e,!0,23,4)};se.prototype.readFloatBE=function(e,t){return e=e>>>0,t||Qt(e,4,this.length),vo.read(this,e,!1,23,4)};se.prototype.readDoubleLE=function(e,t){return e=e>>>0,t||Qt(e,8,this.length),vo.read(this,e,!0,52,8)};se.prototype.readDoubleBE=function(e,t){return e=e>>>0,t||Qt(e,8,this.length),vo.read(this,e,!1,52,8)};function fr(r,e,t,i,n,s){if(!se.isBuffer(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>n||e<s)throw new RangeError('"value" argument is out of bounds');if(t+i>r.length)throw new RangeError("Index out of range")}se.prototype.writeUintLE=se.prototype.writeUIntLE=function(e,t,i,n){if(e=+e,t=t>>>0,i=i>>>0,!n){var s=Math.pow(2,8*i)-1;fr(this,e,t,i,s,0)}var o=1,a=0;for(this[t]=e&255;++a<i&&(o*=256);)this[t+a]=e/o&255;return t+i};se.prototype.writeUintBE=se.prototype.writeUIntBE=function(e,t,i,n){if(e=+e,t=t>>>0,i=i>>>0,!n){var s=Math.pow(2,8*i)-1;fr(this,e,t,i,s,0)}var o=i-1,a=1;for(this[t+o]=e&255;--o>=0&&(a*=256);)this[t+o]=e/a&255;return t+i};se.prototype.writeUint8=se.prototype.writeUInt8=function(e,t,i){return e=+e,t=t>>>0,i||fr(this,e,t,1,255,0),this[t]=e&255,t+1};se.prototype.writeUint16LE=se.prototype.writeUInt16LE=function(e,t,i){return e=+e,t=t>>>0,i||fr(this,e,t,2,65535,0),this[t]=e&255,this[t+1]=e>>>8,t+2};se.prototype.writeUint16BE=se.prototype.writeUInt16BE=function(e,t,i){return e=+e,t=t>>>0,i||fr(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=e&255,t+2};se.prototype.writeUint32LE=se.prototype.writeUInt32LE=function(e,t,i){return e=+e,t=t>>>0,i||fr(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255,t+4};se.prototype.writeUint32BE=se.prototype.writeUInt32BE=function(e,t,i){return e=+e,t=t>>>0,i||fr(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};se.prototype.writeIntLE=function(e,t,i,n){if(e=+e,t=t>>>0,!n){var s=Math.pow(2,8*i-1);fr(this,e,t,i,s-1,-s)}var o=0,a=1,c=0;for(this[t]=e&255;++o<i&&(a*=256);)e<0&&c===0&&this[t+o-1]!==0&&(c=1),this[t+o]=(e/a>>0)-c&255;return t+i};se.prototype.writeIntBE=function(e,t,i,n){if(e=+e,t=t>>>0,!n){var s=Math.pow(2,8*i-1);fr(this,e,t,i,s-1,-s)}var o=i-1,a=1,c=0;for(this[t+o]=e&255;--o>=0&&(a*=256);)e<0&&c===0&&this[t+o+1]!==0&&(c=1),this[t+o]=(e/a>>0)-c&255;return t+i};se.prototype.writeInt8=function(e,t,i){return e=+e,t=t>>>0,i||fr(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=e&255,t+1};se.prototype.writeInt16LE=function(e,t,i){return e=+e,t=t>>>0,i||fr(this,e,t,2,32767,-32768),this[t]=e&255,this[t+1]=e>>>8,t+2};se.prototype.writeInt16BE=function(e,t,i){return e=+e,t=t>>>0,i||fr(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=e&255,t+2};se.prototype.writeInt32LE=function(e,t,i){return e=+e,t=t>>>0,i||fr(this,e,t,4,2147483647,-2147483648),this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4};se.prototype.writeInt32BE=function(e,t,i){return e=+e,t=t>>>0,i||fr(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};function PE(r,e,t,i,n,s){if(t+i>r.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function RE(r,e,t,i,n){return e=+e,t=t>>>0,n||PE(r,e,t,4,34028234663852886e22,-34028234663852886e22),vo.write(r,e,t,i,23,4),t+4}se.prototype.writeFloatLE=function(e,t,i){return RE(this,e,t,!0,i)};se.prototype.writeFloatBE=function(e,t,i){return RE(this,e,t,!1,i)};function LE(r,e,t,i,n){return e=+e,t=t>>>0,n||PE(r,e,t,8,17976931348623157e292,-17976931348623157e292),vo.write(r,e,t,i,52,8),t+8}se.prototype.writeDoubleLE=function(e,t,i){return LE(this,e,t,!0,i)};se.prototype.writeDoubleBE=function(e,t,i){return LE(this,e,t,!1,i)};se.prototype.copy=function(e,t,i,n){if(!se.isBuffer(e))throw new TypeError("argument should be a Buffer");if(i||(i=0),!n&&n!==0&&(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<i&&(n=i),n===i||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-i&&(n=e.length-t+i);var s=n-i;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(t,i,n):Uint8Array.prototype.set.call(e,this.subarray(i,n),t),s};se.prototype.fill=function(e,t,i,n){if(typeof e=="string"){if(typeof t=="string"?(n=t,t=0,i=this.length):typeof i=="string"&&(n=i,i=this.length),n!==void 0&&typeof n!="string")throw new TypeError("encoding must be a string");if(typeof n=="string"&&!se.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(e.length===1){var s=e.charCodeAt(0);(n==="utf8"&&s<128||n==="latin1")&&(e=s)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;t=t>>>0,i=i===void 0?this.length:i>>>0,e||(e=0);var o;if(typeof e=="number")for(o=t;o<i;++o)this[o]=e;else{var a=se.isBuffer(e)?e:se.from(e,n),c=a.length;if(c===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<i-t;++o)this[o+t]=a[o%c]}return this};var U8=/[^+/0-9A-Za-z-_]/g;function q8(r){if(r=r.split("=")[0],r=r.trim().replace(U8,""),r.length<2)return"";for(;r.length%4!==0;)r=r+"=";return r}function y0(r,e){e=e||1/0;for(var t,i=r.length,n=null,s=[],o=0;o<i;++o){if(t=r.charCodeAt(o),t>55295&&t<57344){if(!n){if(t>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(o+1===i){(e-=3)>-1&&s.push(239,191,189);continue}n=t;continue}if(t<56320){(e-=3)>-1&&s.push(239,191,189),n=t;continue}t=(n-55296<<10|t-56320)+65536}else n&&(e-=3)>-1&&s.push(239,191,189);if(n=null,t<128){if((e-=1)<0)break;s.push(t)}else if(t<2048){if((e-=2)<0)break;s.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;s.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;s.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return s}function V8(r){for(var e=[],t=0;t<r.length;++t)e.push(r.charCodeAt(t)&255);return e}function H8(r,e){for(var t,i,n,s=[],o=0;o<r.length&&!((e-=2)<0);++o)t=r.charCodeAt(o),i=t>>8,n=t%256,s.push(n),s.push(i);return s}function FE(r){return d0.toByteArray(q8(r))}function Fl(r,e,t,i){for(var n=0;n<i&&!(n+t>=e.length||n>=r.length);++n)e[n+t]=r[n];return n}function ti(r,e){return r instanceof e||r!=null&&r.constructor!=null&&r.constructor.name!=null&&r.constructor.name===e.name}function v0(r){return r!==r}var Q8=function(){for(var r="0123456789abcdef",e=new Array(256),t=0;t<16;++t)for(var i=t*16,n=0;n<16;++n)e[i+n]=r[t]+r[n];return e}()});var jE=M((QK,QE)=>{f();var ut=QE.exports={},ri,ii;function E0(){throw new Error("setTimeout has not been defined")}function A0(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?ri=setTimeout:ri=E0}catch{ri=E0}try{typeof clearTimeout=="function"?ii=clearTimeout:ii=A0}catch{ii=A0}})();function qE(r){if(ri===setTimeout)return setTimeout(r,0);if((ri===E0||!ri)&&setTimeout)return ri=setTimeout,setTimeout(r,0);try{return ri(r,0)}catch{try{return ri.call(null,r,0)}catch{return ri.call(this,r,0)}}}function j8(r){if(ii===clearTimeout)return clearTimeout(r);if((ii===A0||!ii)&&clearTimeout)return ii=clearTimeout,clearTimeout(r);try{return ii(r)}catch{try{return ii.call(null,r)}catch{return ii.call(this,r)}}}var Fi=[],Ao=!1,as,Ul=-1;function G8(){!Ao||!as||(Ao=!1,as.length?Fi=as.concat(Fi):Ul=-1,Fi.length&&VE())}function VE(){if(!Ao){var r=qE(G8);Ao=!0;for(var e=Fi.length;e;){for(as=Fi,Fi=[];++Ul<e;)as&&as[Ul].run();Ul=-1,e=Fi.length}as=null,Ao=!1,j8(r)}}ut.nextTick=function(r){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];Fi.push(new HE(r,e)),Fi.length===1&&!Ao&&qE(VE)};function HE(r,e){this.fun=r,this.array=e}HE.prototype.run=function(){this.fun.apply(null,this.array)};ut.title="browser";ut.browser=!0;ut.env={};ut.argv=[];ut.version="";ut.versions={};function Ui(){}ut.on=Ui;ut.addListener=Ui;ut.once=Ui;ut.off=Ui;ut.removeListener=Ui;ut.removeAllListeners=Ui;ut.emit=Ui;ut.prependListener=Ui;ut.prependOnceListener=Ui;ut.listeners=function(r){return[]};ut.binding=function(r){throw new Error("process.binding is not supported")};ut.cwd=function(){return"/"};ut.chdir=function(r){throw new Error("process.chdir is not supported")};ut.umask=function(){return 0}});var y,_,K8,global,f=ye(()=>{y=Ie(UE()),_=Ie(jE()),K8=function(r){function e(){var i=this||self;return delete r.prototype.__magic__,i}if(typeof globalThis=="object")return globalThis;if(this)return e();r.defineProperty(r.prototype,"__magic__",{configurable:!0,get:e});var t=__magic__;return t}(Object),global=K8});var Vr=M((GE,ql)=>{f();(function(r){"use strict";var e,t=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,i=Math.ceil,n=Math.floor,s="[BigNumber Error] ",o=s+"Number primitive has more than 15 significant digits: ",a=1e14,c=14,h=9007199254740991,p=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],A=1e7,D=1e9;function O($){var k,R,F,K=l.prototype={constructor:l,toString:null,valueOf:null},ce=new l(1),J=20,X=4,E=-7,u=21,d=-1e7,g=1e7,m=!1,w=1,x=0,N={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xA0",suffix:""},I="0123456789abcdefghijklmnopqrstuvwxyz";function l(v,b){var S,L,B,U,q,P,G,z,H=this;if(!(H instanceof l))return new l(v,b);if(b==null){if(v&&v._isBigNumber===!0){H.s=v.s,!v.c||v.e>g?H.c=H.e=null:v.e<d?H.c=[H.e=0]:(H.e=v.e,H.c=v.c.slice());return}if((P=typeof v=="number")&&v*0==0){if(H.s=1/v<0?(v=-v,-1):1,v===~~v){for(U=0,q=v;q>=10;q/=10,U++);U>g?H.c=H.e=null:(H.e=U,H.c=[v]);return}z=String(v)}else{if(!t.test(z=String(v)))return F(H,z,P);H.s=z.charCodeAt(0)==45?(z=z.slice(1),-1):1}(U=z.indexOf("."))>-1&&(z=z.replace(".","")),(q=z.search(/e/i))>0?(U<0&&(U=q),U+=+z.slice(q+1),z=z.substring(0,q)):U<0&&(U=z.length)}else{if(j(b,2,I.length,"Base"),b==10)return H=new l(v),ee(H,J+H.e+1,X);if(z=String(v),P=typeof v=="number"){if(v*0!=0)return F(H,z,P,b);if(H.s=1/v<0?(z=z.slice(1),-1):1,l.DEBUG&&z.replace(/^0\.0*|\./,"").length>15)throw Error(o+v)}else H.s=z.charCodeAt(0)===45?(z=z.slice(1),-1):1;for(S=I.slice(0,b),U=q=0,G=z.length;q<G;q++)if(S.indexOf(L=z.charAt(q))<0){if(L=="."){if(q>U){U=G;continue}}else if(!B&&(z==z.toUpperCase()&&(z=z.toLowerCase())||z==z.toLowerCase()&&(z=z.toUpperCase()))){B=!0,q=-1,U=0;continue}return F(H,String(v),P,b)}P=!1,z=R(z,b,10,H.s),(U=z.indexOf("."))>-1?z=z.replace(".",""):U=z.length}for(q=0;z.charCodeAt(q)===48;q++);for(G=z.length;z.charCodeAt(--G)===48;);if(z=z.slice(q,++G)){if(G-=q,P&&l.DEBUG&&G>15&&(v>h||v!==n(v)))throw Error(o+H.s*v);if((U=U-q-1)>g)H.c=H.e=null;else if(U<d)H.c=[H.e=0];else{if(H.e=U,H.c=[],q=(U+1)%c,U<0&&(q+=c),q<G){for(q&&H.c.push(+z.slice(0,q)),G-=c;q<G;)H.c.push(+z.slice(q,q+=c));q=c-(z=z.slice(q)).length}else q-=G;for(;q--;z+="0");H.c.push(+z)}}else H.c=[H.e=0]}l.clone=O,l.ROUND_UP=0,l.ROUND_DOWN=1,l.ROUND_CEIL=2,l.ROUND_FLOOR=3,l.ROUND_HALF_UP=4,l.ROUND_HALF_DOWN=5,l.ROUND_HALF_EVEN=6,l.ROUND_HALF_CEIL=7,l.ROUND_HALF_FLOOR=8,l.EUCLID=9,l.config=l.set=function(v){var b,S;if(v!=null)if(typeof v=="object"){if(v.hasOwnProperty(b="DECIMAL_PLACES")&&(S=v[b],j(S,0,D,b),J=S),v.hasOwnProperty(b="ROUNDING_MODE")&&(S=v[b],j(S,0,8,b),X=S),v.hasOwnProperty(b="EXPONENTIAL_AT")&&(S=v[b],S&&S.pop?(j(S[0],-D,0,b),j(S[1],0,D,b),E=S[0],u=S[1]):(j(S,-D,D,b),E=-(u=S<0?-S:S))),v.hasOwnProperty(b="RANGE"))if(S=v[b],S&&S.pop)j(S[0],-D,-1,b),j(S[1],1,D,b),d=S[0],g=S[1];else if(j(S,-D,D,b),S)d=-(g=S<0?-S:S);else throw Error(s+b+" cannot be zero: "+S);if(v.hasOwnProperty(b="CRYPTO"))if(S=v[b],S===!!S)if(S)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))m=S;else throw m=!S,Error(s+"crypto unavailable");else m=S;else throw Error(s+b+" not true or false: "+S);if(v.hasOwnProperty(b="MODULO_MODE")&&(S=v[b],j(S,0,9,b),w=S),v.hasOwnProperty(b="POW_PRECISION")&&(S=v[b],j(S,0,D,b),x=S),v.hasOwnProperty(b="FORMAT"))if(S=v[b],typeof S=="object")N=S;else throw Error(s+b+" not an object: "+S);if(v.hasOwnProperty(b="ALPHABET"))if(S=v[b],typeof S=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(S))I=S;else throw Error(s+b+" invalid: "+S)}else throw Error(s+"Object expected: "+v);return{DECIMAL_PLACES:J,ROUNDING_MODE:X,EXPONENTIAL_AT:[E,u],RANGE:[d,g],CRYPTO:m,MODULO_MODE:w,POW_PRECISION:x,FORMAT:N,ALPHABET:I}},l.isBigNumber=function(v){if(!v||v._isBigNumber!==!0)return!1;if(!l.DEBUG)return!0;var b,S,L=v.c,B=v.e,U=v.s;e:if({}.toString.call(L)=="[object Array]"){if((U===1||U===-1)&&B>=-D&&B<=D&&B===n(B)){if(L[0]===0){if(B===0&&L.length===1)return!0;break e}if(b=(B+1)%c,b<1&&(b+=c),String(L[0]).length==b){for(b=0;b<L.length;b++)if(S=L[b],S<0||S>=a||S!==n(S))break e;if(S!==0)return!0}}}else if(L===null&&B===null&&(U===null||U===1||U===-1))return!0;throw Error(s+"Invalid BigNumber: "+v)},l.maximum=l.max=function(){return Z(arguments,K.lt)},l.minimum=l.min=function(){return Z(arguments,K.gt)},l.random=function(){var v=9007199254740992,b=Math.random()*v&2097151?function(){return n(Math.random()*v)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(S){var L,B,U,q,P,G=0,z=[],H=new l(ce);if(S==null?S=J:j(S,0,D),q=i(S/c),m)if(crypto.getRandomValues){for(L=crypto.getRandomValues(new Uint32Array(q*=2));G<q;)P=L[G]*131072+(L[G+1]>>>11),P>=9e15?(B=crypto.getRandomValues(new Uint32Array(2)),L[G]=B[0],L[G+1]=B[1]):(z.push(P%1e14),G+=2);G=q/2}else if(crypto.randomBytes){for(L=crypto.randomBytes(q*=7);G<q;)P=(L[G]&31)*281474976710656+L[G+1]*1099511627776+L[G+2]*4294967296+L[G+3]*16777216+(L[G+4]<<16)+(L[G+5]<<8)+L[G+6],P>=9e15?crypto.randomBytes(7).copy(L,G):(z.push(P%1e14),G+=7);G=q/7}else throw m=!1,Error(s+"crypto unavailable");if(!m)for(;G<q;)P=b(),P<9e15&&(z[G++]=P%1e14);for(q=z[--G],S%=c,q&&S&&(P=p[c-S],z[G]=n(q/P)*P);z[G]===0;z.pop(),G--);if(G<0)z=[U=0];else{for(U=-1;z[0]===0;z.splice(0,1),U-=c);for(G=1,P=z[0];P>=10;P/=10,G++);G<c&&(U-=c-G)}return H.e=U,H.c=z,H}}(),l.sum=function(){for(var v=1,b=arguments,S=new l(b[0]);v<b.length;)S=S.plus(b[v++]);return S},R=function(){var v="0123456789";function b(S,L,B,U){for(var q,P=[0],G,z=0,H=S.length;z<H;){for(G=P.length;G--;P[G]*=L);for(P[0]+=U.indexOf(S.charAt(z++)),q=0;q<P.length;q++)P[q]>B-1&&(P[q+1]==null&&(P[q+1]=0),P[q+1]+=P[q]/B|0,P[q]%=B)}return P.reverse()}return function(S,L,B,U,q){var P,G,z,H,ue,he,de,Me,_e=S.indexOf("."),xe=J,Be=X;for(_e>=0&&(H=x,x=0,S=S.replace(".",""),Me=new l(L),he=Me.pow(S.length-_e),x=H,Me.c=b(W(V(he.c),he.e,"0"),10,B,v),Me.e=Me.c.length),de=b(S,L,B,q?(P=I,v):(P=v,I)),z=H=de.length;de[--H]==0;de.pop());if(!de[0])return P.charAt(0);if(_e<0?--z:(he.c=de,he.e=z,he.s=U,he=k(he,Me,xe,Be,B),de=he.c,ue=he.r,z=he.e),G=z+xe+1,_e=de[G],H=B/2,ue=ue||G<0||de[G+1]!=null,ue=Be<4?(_e!=null||ue)&&(Be==0||Be==(he.s<0?3:2)):_e>H||_e==H&&(Be==4||ue||Be==6&&de[G-1]&1||Be==(he.s<0?8:7)),G<1||!de[0])S=ue?W(P.charAt(1),-xe,P.charAt(0)):P.charAt(0);else{if(de.length=G,ue)for(--B;++de[--G]>B;)de[G]=0,G||(++z,de=[1].concat(de));for(H=de.length;!de[--H];);for(_e=0,S="";_e<=H;S+=P.charAt(de[_e++]));S=W(S,z,P.charAt(0))}return S}}(),k=function(){function v(L,B,U){var q,P,G,z,H=0,ue=L.length,he=B%A,de=B/A|0;for(L=L.slice();ue--;)G=L[ue]%A,z=L[ue]/A|0,q=de*G+z*he,P=he*G+q%A*A+H,H=(P/U|0)+(q/A|0)+de*z,L[ue]=P%U;return H&&(L=[H].concat(L)),L}function b(L,B,U,q){var P,G;if(U!=q)G=U>q?1:-1;else for(P=G=0;P<U;P++)if(L[P]!=B[P]){G=L[P]>B[P]?1:-1;break}return G}function S(L,B,U,q){for(var P=0;U--;)L[U]-=P,P=L[U]<B[U]?1:0,L[U]=P*q+L[U]-B[U];for(;!L[0]&&L.length>1;L.splice(0,1));}return function(L,B,U,q,P){var G,z,H,ue,he,de,Me,_e,xe,Be,Ae,Oe,ns,Je,Xe,vr,Ge,Le=L.s==B.s?1:-1,Ht=L.c,be=B.c;if(!Ht||!Ht[0]||!be||!be[0])return new l(!L.s||!B.s||(Ht?be&&Ht[0]==be[0]:!be)?NaN:Ht&&Ht[0]==0||!be?Le*0:Le/0);for(_e=new l(Le),xe=_e.c=[],z=L.e-B.e,Le=U+z+1,P||(P=a,z=T(L.e/c)-T(B.e/c),Le=Le/c|0),H=0;be[H]==(Ht[H]||0);H++);if(be[H]>(Ht[H]||0)&&z--,Le<0)xe.push(1),ue=!0;else{for(Je=Ht.length,vr=be.length,H=0,Le+=2,he=n(P/(be[0]+1)),he>1&&(be=v(be,he,P),Ht=v(Ht,he,P),vr=be.length,Je=Ht.length),ns=vr,Be=Ht.slice(0,vr),Ae=Be.length;Ae<vr;Be[Ae++]=0);Ge=be.slice(),Ge=[0].concat(Ge),Xe=be[0],be[1]>=P/2&&Xe++;do{if(he=0,G=b(be,Be,vr,Ae),G<0){if(Oe=Be[0],vr!=Ae&&(Oe=Oe*P+(Be[1]||0)),he=n(Oe/Xe),he>1)for(he>=P&&(he=P-1),de=v(be,he,P),Me=de.length,Ae=Be.length;b(de,Be,Me,Ae)==1;)he--,S(de,vr<Me?Ge:be,Me,P),Me=de.length,G=1;else he==0&&(G=he=1),de=be.slice(),Me=de.length;if(Me<Ae&&(de=[0].concat(de)),S(Be,de,Ae,P),Ae=Be.length,G==-1)for(;b(be,Be,vr,Ae)<1;)he++,S(Be,vr<Ae?Ge:be,Ae,P),Ae=Be.length}else G===0&&(he++,Be=[0]);xe[H++]=he,Be[0]?Be[Ae++]=Ht[ns]||0:(Be=[Ht[ns]],Ae=1)}while((ns++<Je||Be[0]!=null)&&Le--);ue=Be[0]!=null,xe[0]||xe.splice(0,1)}if(P==a){for(H=1,Le=xe[0];Le>=10;Le/=10,H++);ee(_e,U+(_e.e=H+z*c-1)+1,q,ue)}else _e.e=z,_e.r=+ue;return _e}}();function C(v,b,S,L){var B,U,q,P,G;if(S==null?S=X:j(S,0,8),!v.c)return v.toString();if(B=v.c[0],q=v.e,b==null)G=V(v.c),G=L==1||L==2&&(q<=E||q>=u)?Y(G,q):W(G,q,"0");else if(v=ee(new l(v),b,S),U=v.e,G=V(v.c),P=G.length,L==1||L==2&&(b<=U||U<=E)){for(;P<b;G+="0",P++);G=Y(G,U)}else if(b-=q,G=W(G,U,"0"),U+1>P){if(--b>0)for(G+=".";b--;G+="0");}else if(b+=U-P,b>0)for(U+1==P&&(G+=".");b--;G+="0");return v.s<0&&B?"-"+G:G}function Z(v,b){for(var S,L=1,B=new l(v[0]);L<v.length;L++)if(S=new l(v[L]),S.s)b.call(B,S)&&(B=S);else{B=S;break}return B}function te(v,b,S){for(var L=1,B=b.length;!b[--B];b.pop());for(B=b[0];B>=10;B/=10,L++);return(S=L+S*c-1)>g?v.c=v.e=null:S<d?v.c=[v.e=0]:(v.e=S,v.c=b),v}F=function(){var v=/^(-?)0([xbo])(?=\w[\w.]*$)/i,b=/^([^.]+)\.$/,S=/^\.([^.]+)$/,L=/^-?(Infinity|NaN)$/,B=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(U,q,P,G){var z,H=P?q:q.replace(B,"");if(L.test(H))U.s=isNaN(H)?null:H<0?-1:1;else{if(!P&&(H=H.replace(v,function(ue,he,de){return z=(de=de.toLowerCase())=="x"?16:de=="b"?2:8,!G||G==z?he:ue}),G&&(z=G,H=H.replace(b,"$1").replace(S,"0.$1")),q!=H))return new l(H,z);if(l.DEBUG)throw Error(s+"Not a"+(G?" base "+G:"")+" number: "+q);U.s=null}U.c=U.e=null}}();function ee(v,b,S,L){var B,U,q,P,G,z,H,ue=v.c,he=p;if(ue){e:{for(B=1,P=ue[0];P>=10;P/=10,B++);if(U=b-B,U<0)U+=c,q=b,G=ue[z=0],H=G/he[B-q-1]%10|0;else if(z=i((U+1)/c),z>=ue.length)if(L){for(;ue.length<=z;ue.push(0));G=H=0,B=1,U%=c,q=U-c+1}else break e;else{for(G=P=ue[z],B=1;P>=10;P/=10,B++);U%=c,q=U-c+B,H=q<0?0:G/he[B-q-1]%10|0}if(L=L||b<0||ue[z+1]!=null||(q<0?G:G%he[B-q-1]),L=S<4?(H||L)&&(S==0||S==(v.s<0?3:2)):H>5||H==5&&(S==4||L||S==6&&(U>0?q>0?G/he[B-q]:0:ue[z-1])%10&1||S==(v.s<0?8:7)),b<1||!ue[0])return ue.length=0,L?(b-=v.e+1,ue[0]=he[(c-b%c)%c],v.e=-b||0):ue[0]=v.e=0,v;if(U==0?(ue.length=z,P=1,z--):(ue.length=z+1,P=he[c-U],ue[z]=q>0?n(G/he[B-q]%he[q])*P:0),L)for(;;)if(z==0){for(U=1,q=ue[0];q>=10;q/=10,U++);for(q=ue[0]+=P,P=1;q>=10;q/=10,P++);U!=P&&(v.e++,ue[0]==a&&(ue[0]=1));break}else{if(ue[z]+=P,ue[z]!=a)break;ue[z--]=0,P=1}for(U=ue.length;ue[--U]===0;ue.pop());}v.e>g?v.c=v.e=null:v.e<d&&(v.c=[v.e=0])}return v}function ae(v){var b,S=v.e;return S===null?v.toString():(b=V(v.c),b=S<=E||S>=u?Y(b,S):W(b,S,"0"),v.s<0?"-"+b:b)}return K.absoluteValue=K.abs=function(){var v=new l(this);return v.s<0&&(v.s=1),v},K.comparedTo=function(v,b){return Q(this,new l(v,b))},K.decimalPlaces=K.dp=function(v,b){var S,L,B,U=this;if(v!=null)return j(v,0,D),b==null?b=X:j(b,0,8),ee(new l(U),v+U.e+1,b);if(!(S=U.c))return null;if(L=((B=S.length-1)-T(this.e/c))*c,B=S[B])for(;B%10==0;B/=10,L--);return L<0&&(L=0),L},K.dividedBy=K.div=function(v,b){return k(this,new l(v,b),J,X)},K.dividedToIntegerBy=K.idiv=function(v,b){return k(this,new l(v,b),0,1)},K.exponentiatedBy=K.pow=function(v,b){var S,L,B,U,q,P,G,z,H,ue=this;if(v=new l(v),v.c&&!v.isInteger())throw Error(s+"Exponent not an integer: "+ae(v));if(b!=null&&(b=new l(b)),P=v.e>14,!ue.c||!ue.c[0]||ue.c[0]==1&&!ue.e&&ue.c.length==1||!v.c||!v.c[0])return H=new l(Math.pow(+ae(ue),P?2-ie(v):+ae(v))),b?H.mod(b):H;if(G=v.s<0,b){if(b.c?!b.c[0]:!b.s)return new l(NaN);L=!G&&ue.isInteger()&&b.isInteger(),L&&(ue=ue.mod(b))}else{if(v.e>9&&(ue.e>0||ue.e<-1||(ue.e==0?ue.c[0]>1||P&&ue.c[1]>=24e7:ue.c[0]<8e13||P&&ue.c[0]<=9999975e7)))return U=ue.s<0&&ie(v)?-0:0,ue.e>-1&&(U=1/U),new l(G?1/U:U);x&&(U=i(x/c+2))}for(P?(S=new l(.5),G&&(v.s=1),z=ie(v)):(B=Math.abs(+ae(v)),z=B%2),H=new l(ce);;){if(z){if(H=H.times(ue),!H.c)break;U?H.c.length>U&&(H.c.length=U):L&&(H=H.mod(b))}if(B){if(B=n(B/2),B===0)break;z=B%2}else if(v=v.times(S),ee(v,v.e+1,1),v.e>14)z=ie(v);else{if(B=+ae(v),B===0)break;z=B%2}ue=ue.times(ue),U?ue.c&&ue.c.length>U&&(ue.c.length=U):L&&(ue=ue.mod(b))}return L?H:(G&&(H=ce.div(H)),b?H.mod(b):U?ee(H,x,X,q):H)},K.integerValue=function(v){var b=new l(this);return v==null?v=X:j(v,0,8),ee(b,b.e+1,v)},K.isEqualTo=K.eq=function(v,b){return Q(this,new l(v,b))===0},K.isFinite=function(){return!!this.c},K.isGreaterThan=K.gt=function(v,b){return Q(this,new l(v,b))>0},K.isGreaterThanOrEqualTo=K.gte=function(v,b){return(b=Q(this,new l(v,b)))===1||b===0},K.isInteger=function(){return!!this.c&&T(this.e/c)>this.c.length-2},K.isLessThan=K.lt=function(v,b){return Q(this,new l(v,b))<0},K.isLessThanOrEqualTo=K.lte=function(v,b){return(b=Q(this,new l(v,b)))===-1||b===0},K.isNaN=function(){return!this.s},K.isNegative=function(){return this.s<0},K.isPositive=function(){return this.s>0},K.isZero=function(){return!!this.c&&this.c[0]==0},K.minus=function(v,b){var S,L,B,U,q=this,P=q.s;if(v=new l(v,b),b=v.s,!P||!b)return new l(NaN);if(P!=b)return v.s=-b,q.plus(v);var G=q.e/c,z=v.e/c,H=q.c,ue=v.c;if(!G||!z){if(!H||!ue)return H?(v.s=-b,v):new l(ue?q:NaN);if(!H[0]||!ue[0])return ue[0]?(v.s=-b,v):new l(H[0]?q:X==3?-0:0)}if(G=T(G),z=T(z),H=H.slice(),P=G-z){for((U=P<0)?(P=-P,B=H):(z=G,B=ue),B.reverse(),b=P;b--;B.push(0));B.reverse()}else for(L=(U=(P=H.length)<(b=ue.length))?P:b,P=b=0;b<L;b++)if(H[b]!=ue[b]){U=H[b]<ue[b];break}if(U&&(B=H,H=ue,ue=B,v.s=-v.s),b=(L=ue.length)-(S=H.length),b>0)for(;b--;H[S++]=0);for(b=a-1;L>P;){if(H[--L]<ue[L]){for(S=L;S&&!H[--S];H[S]=b);--H[S],H[L]+=a}H[L]-=ue[L]}for(;H[0]==0;H.splice(0,1),--z);return H[0]?te(v,H,z):(v.s=X==3?-1:1,v.c=[v.e=0],v)},K.modulo=K.mod=function(v,b){var S,L,B=this;return v=new l(v,b),!B.c||!v.s||v.c&&!v.c[0]?new l(NaN):!v.c||B.c&&!B.c[0]?new l(B):(w==9?(L=v.s,v.s=1,S=k(B,v,0,3),v.s=L,S.s*=L):S=k(B,v,0,w),v=B.minus(S.times(v)),!v.c[0]&&w==1&&(v.s=B.s),v)},K.multipliedBy=K.times=function(v,b){var S,L,B,U,q,P,G,z,H,ue,he,de,Me,_e,xe,Be=this,Ae=Be.c,Oe=(v=new l(v,b)).c;if(!Ae||!Oe||!Ae[0]||!Oe[0])return!Be.s||!v.s||Ae&&!Ae[0]&&!Oe||Oe&&!Oe[0]&&!Ae?v.c=v.e=v.s=null:(v.s*=Be.s,!Ae||!Oe?v.c=v.e=null:(v.c=[0],v.e=0)),v;for(L=T(Be.e/c)+T(v.e/c),v.s*=Be.s,G=Ae.length,ue=Oe.length,G<ue&&(Me=Ae,Ae=Oe,Oe=Me,B=G,G=ue,ue=B),B=G+ue,Me=[];B--;Me.push(0));for(_e=a,xe=A,B=ue;--B>=0;){for(S=0,he=Oe[B]%xe,de=Oe[B]/xe|0,q=G,U=B+q;U>B;)z=Ae[--q]%xe,H=Ae[q]/xe|0,P=de*z+H*he,z=he*z+P%xe*xe+Me[U]+S,S=(z/_e|0)+(P/xe|0)+de*H,Me[U--]=z%_e;Me[U]=S}return S?++L:Me.splice(0,1),te(v,Me,L)},K.negated=function(){var v=new l(this);return v.s=-v.s||null,v},K.plus=function(v,b){var S,L=this,B=L.s;if(v=new l(v,b),b=v.s,!B||!b)return new l(NaN);if(B!=b)return v.s=-b,L.minus(v);var U=L.e/c,q=v.e/c,P=L.c,G=v.c;if(!U||!q){if(!P||!G)return new l(B/0);if(!P[0]||!G[0])return G[0]?v:new l(P[0]?L:B*0)}if(U=T(U),q=T(q),P=P.slice(),B=U-q){for(B>0?(q=U,S=G):(B=-B,S=P),S.reverse();B--;S.push(0));S.reverse()}for(B=P.length,b=G.length,B-b<0&&(S=G,G=P,P=S,b=B),B=0;b;)B=(P[--b]=P[b]+G[b]+B)/a|0,P[b]=a===P[b]?0:P[b]%a;return B&&(P=[B].concat(P),++q),te(v,P,q)},K.precision=K.sd=function(v,b){var S,L,B,U=this;if(v!=null&&v!==!!v)return j(v,1,D),b==null?b=X:j(b,0,8),ee(new l(U),v,b);if(!(S=U.c))return null;if(B=S.length-1,L=B*c+1,B=S[B]){for(;B%10==0;B/=10,L--);for(B=S[0];B>=10;B/=10,L++);}return v&&U.e+1>L&&(L=U.e+1),L},K.shiftedBy=function(v){return j(v,-h,h),this.times("1e"+v)},K.squareRoot=K.sqrt=function(){var v,b,S,L,B,U=this,q=U.c,P=U.s,G=U.e,z=J+4,H=new l("0.5");if(P!==1||!q||!q[0])return new l(!P||P<0&&(!q||q[0])?NaN:q?U:1/0);if(P=Math.sqrt(+ae(U)),P==0||P==1/0?(b=V(q),(b.length+G)%2==0&&(b+="0"),P=Math.sqrt(+b),G=T((G+1)/2)-(G<0||G%2),P==1/0?b="5e"+G:(b=P.toExponential(),b=b.slice(0,b.indexOf("e")+1)+G),S=new l(b)):S=new l(P+""),S.c[0]){for(G=S.e,P=G+z,P<3&&(P=0);;)if(B=S,S=H.times(B.plus(k(U,B,z,1))),V(B.c).slice(0,P)===(b=V(S.c)).slice(0,P))if(S.e<G&&--P,b=b.slice(P-3,P+1),b=="9999"||!L&&b=="4999"){if(!L&&(ee(B,B.e+J+2,0),B.times(B).eq(U))){S=B;break}z+=4,P+=4,L=1}else{(!+b||!+b.slice(1)&&b.charAt(0)=="5")&&(ee(S,S.e+J+2,1),v=!S.times(S).eq(U));break}}return ee(S,S.e+J+1,X,v)},K.toExponential=function(v,b){return v!=null&&(j(v,0,D),v++),C(this,v,b,1)},K.toFixed=function(v,b){return v!=null&&(j(v,0,D),v=v+this.e+1),C(this,v,b)},K.toFormat=function(v,b,S){var L,B=this;if(S==null)v!=null&&b&&typeof b=="object"?(S=b,b=null):v&&typeof v=="object"?(S=v,v=b=null):S=N;else if(typeof S!="object")throw Error(s+"Argument not an object: "+S);if(L=B.toFixed(v,b),B.c){var U,q=L.split("."),P=+S.groupSize,G=+S.secondaryGroupSize,z=S.groupSeparator||"",H=q[0],ue=q[1],he=B.s<0,de=he?H.slice(1):H,Me=de.length;if(G&&(U=P,P=G,G=U,Me-=U),P>0&&Me>0){for(U=Me%P||P,H=de.substr(0,U);U<Me;U+=P)H+=z+de.substr(U,P);G>0&&(H+=z+de.slice(U)),he&&(H="-"+H)}L=ue?H+(S.decimalSeparator||"")+((G=+S.fractionGroupSize)?ue.replace(new RegExp("\\d{"+G+"}\\B","g"),"$&"+(S.fractionGroupSeparator||"")):ue):H}return(S.prefix||"")+L+(S.suffix||"")},K.toFraction=function(v){var b,S,L,B,U,q,P,G,z,H,ue,he,de=this,Me=de.c;if(v!=null&&(P=new l(v),!P.isInteger()&&(P.c||P.s!==1)||P.lt(ce)))throw Error(s+"Argument "+(P.isInteger()?"out of range: ":"not an integer: ")+ae(P));if(!Me)return new l(de);for(b=new l(ce),z=S=new l(ce),L=G=new l(ce),he=V(Me),U=b.e=he.length-de.e-1,b.c[0]=p[(q=U%c)<0?c+q:q],v=!v||P.comparedTo(b)>0?U>0?b:z:P,q=g,g=1/0,P=new l(he),G.c[0]=0;H=k(P,b,0,1),B=S.plus(H.times(L)),B.comparedTo(v)!=1;)S=L,L=B,z=G.plus(H.times(B=z)),G=B,b=P.minus(H.times(B=b)),P=B;return B=k(v.minus(S),L,0,1),G=G.plus(B.times(z)),S=S.plus(B.times(L)),G.s=z.s=de.s,U=U*2,ue=k(z,L,U,X).minus(de).abs().comparedTo(k(G,S,U,X).minus(de).abs())<1?[z,L]:[G,S],g=q,ue},K.toNumber=function(){return+ae(this)},K.toPrecision=function(v,b){return v!=null&&j(v,1,D),C(this,v,b,2)},K.toString=function(v){var b,S=this,L=S.s,B=S.e;return B===null?L?(b="Infinity",L<0&&(b="-"+b)):b="NaN":(v==null?b=B<=E||B>=u?Y(V(S.c),B):W(V(S.c),B,"0"):v===10?(S=ee(new l(S),J+B+1,X),b=W(V(S.c),S.e,"0")):(j(v,2,I.length,"Base"),b=R(W(V(S.c),B,"0"),10,v,L,!0)),L<0&&S.c[0]&&(b="-"+b)),b},K.valueOf=K.toJSON=function(){return ae(this)},K._isBigNumber=!0,$!=null&&l.set($),l}function T($){var k=$|0;return $>0||$===k?k:k-1}function V($){for(var k,R,F=1,K=$.length,ce=$[0]+"";F<K;){for(k=$[F++]+"",R=c-k.length;R--;k="0"+k);ce+=k}for(K=ce.length;ce.charCodeAt(--K)===48;);return ce.slice(0,K+1||1)}function Q($,k){var R,F,K=$.c,ce=k.c,J=$.s,X=k.s,E=$.e,u=k.e;if(!J||!X)return null;if(R=K&&!K[0],F=ce&&!ce[0],R||F)return R?F?0:-X:J;if(J!=X)return J;if(R=J<0,F=E==u,!K||!ce)return F?0:!K^R?1:-1;if(!F)return E>u^R?1:-1;for(X=(E=K.length)<(u=ce.length)?E:u,J=0;J<X;J++)if(K[J]!=ce[J])return K[J]>ce[J]^R?1:-1;return E==u?0:E>u^R?1:-1}function j($,k,R,F){if($<k||$>R||$!==n($))throw Error(s+(F||"Argument")+(typeof $=="number"?$<k||$>R?" out of range: ":" not an integer: ":" not a primitive number: ")+String($))}function ie($){var k=$.c.length-1;return T($.e/c)==k&&$.c[k]%2!=0}function Y($,k){return($.length>1?$.charAt(0)+"."+$.slice(1):$)+(k<0?"e":"e+")+k}function W($,k,R){var F,K;if(k<0){for(K=R+".";++k;K+=R);$=K+$}else if(F=$.length,++k>F){for(K=R,k-=F;--k;K+=R);$+=K}else k<F&&($=$.slice(0,k)+"."+$.slice(k));return $}e=O(),e.default=e.BigNumber=e,typeof define=="function"&&define.amd?define(function(){return e}):typeof ql<"u"&&ql.exports?ql.exports=e:(r||(r=typeof self<"u"&&self?self:window),r.BigNumber=e)})(GE)});var $e=M(ge=>{"use strict";f();Object.defineProperty(ge,"__esModule",{value:!0});ge.ErrGasLimitShouldBe0ForInnerTransaction=ge.ErrInvalidRelayedV2BuilderArguments=ge.ErrInvalidRelayedV1BuilderArguments=ge.ErrNotImplemented=ge.ErrContractInteraction=ge.ErrCodec=ge.ErrCannotParseContractResults=ge.ErrMissingFieldOnEnum=ge.ErrMissingFieldOnStruct=ge.ErrTypeInferenceSystemRequiresRegularJavascriptObjects=ge.ErrTypingSystem=ge.ErrMock=ge.ErrContractHasNoAddress=ge.ErrContract=ge.ErrExpectedTransactionEventsNotFound=ge.ErrExpectedTransactionStatusNotReached=ge.ErrTransactionWatcherTimeout=ge.ErrAsyncTimerAborted=ge.ErrAsyncTimerAlreadyRunning=ge.ErrInvalidFunctionName=ge.ErrSignatureCannotCreate=ge.ErrTransactionOptionsInvalid=ge.ErrTransactionVersionInvalid=ge.ErrNonceInvalid=ge.ErrNotEnoughGas=ge.ErrAddressEmpty=ge.ErrAddressBadHrp=ge.ErrAddressCannotCreate=ge.ErrUnexpectedCondition=ge.ErrInvariantFailed=ge.ErrBadType=ge.ErrUnsupportedOperation=ge.ErrInvalidArgument=ge.Err=void 0;var Pe=class extends Error{constructor(e,t){super(e),this.inner=void 0,this.inner=t}summary(){let e=[];e.push({name:this.name,message:this.message});let t=this.inner;for(;t;)e.push({name:t.name,message:t.message}),t=t.inner;return e}};ge.Err=Pe;var I0=class extends Pe{constructor(e,t){super(`Invalid argument: ${e}`,t)}};ge.ErrInvalidArgument=I0;var _0=class extends Pe{constructor(e,t="not specified"){super(`Operation "${e}" not supported. Reason: ${t}`)}};ge.ErrUnsupportedOperation=_0;var b0=class extends Pe{constructor(e,t,i){super(`Bad type of "${e}": ${i}. Expected type: ${t}`)}};ge.ErrBadType=b0;var C0=class extends Pe{constructor(e){super(`Invariant failed: [${e}]`)}};ge.ErrInvariantFailed=C0;var x0=class extends Pe{constructor(e){super(`Unexpected condition: [${e}]`)}};ge.ErrUnexpectedCondition=x0;var S0=class extends Pe{constructor(e,t){let i=`Cannot create address from: ${e}`;super(i,t)}};ge.ErrAddressCannotCreate=S0;var T0=class extends Pe{constructor(e,t){super(`Wrong address HRP. Expected: ${e}, got ${t}`)}};ge.ErrAddressBadHrp=T0;var N0=class extends Pe{constructor(){super("Address is empty")}};ge.ErrAddressEmpty=N0;var D0=class extends Pe{constructor(e){super(`Not enough gas provided: ${e}`)}};ge.ErrNotEnoughGas=D0;var O0=class extends Pe{constructor(e){super(`Invalid nonce: ${e}`)}};ge.ErrNonceInvalid=O0;var B0=class extends Pe{constructor(e){super(`Invalid transaction version: ${e}`)}};ge.ErrTransactionVersionInvalid=B0;var M0=class extends Pe{constructor(e){super(`Invalid transaction options: ${e}`)}};ge.ErrTransactionOptionsInvalid=M0;var P0=class extends Pe{constructor(e,t){let i=`Cannot create signature from: ${e}`;super(i,t)}};ge.ErrSignatureCannotCreate=P0;var R0=class extends Pe{constructor(){super("Invalid function name")}};ge.ErrInvalidFunctionName=R0;var L0=class extends Pe{constructor(){super("Async timer already running")}};ge.ErrAsyncTimerAlreadyRunning=L0;var F0=class extends Pe{constructor(){super("Async timer aborted")}};ge.ErrAsyncTimerAborted=F0;var U0=class extends Pe{constructor(){super("TransactionWatcher has timed out")}};ge.ErrTransactionWatcherTimeout=U0;var q0=class extends Pe{constructor(){super("Expected transaction status not reached")}};ge.ErrExpectedTransactionStatusNotReached=q0;var V0=class extends Pe{constructor(){super("Expected transaction events not found")}};ge.ErrExpectedTransactionEventsNotFound=V0;var Vl=class extends Pe{constructor(e){super(e)}};ge.ErrContract=Vl;var H0=class extends Vl{constructor(){super(`
The smart contract has no address set. Make sure you provide the address in the constructor, or call setAddress() appropriately.
If you need to recompute the address of the contract, make use of SmartContract.computeAddress() (static method). 
`)}};ge.ErrContractHasNoAddress=H0;var Q0=class extends Pe{constructor(e){super(e)}};ge.ErrMock=Q0;var Hl=class extends Pe{constructor(e){super(e)}};ge.ErrTypingSystem=Hl;var j0=class extends Hl{constructor(e){super(`
argument at position ${e} seems to be a TypedValue. The automatic type inference system requires regular javascript objects as input.
This error might occur when you pass a TypedValue to contract.methods.myFunction([...]). For passing TypedValues instead of regular javascript objects, and bypass the automatic type inference system, use contract.methodsExplicit.myFunction([...]) instead.
Also see https://github.com/ElrondNetwork/elrond-sdk-erdjs/pull/187.
`)}};ge.ErrTypeInferenceSystemRequiresRegularJavascriptObjects=j0;var G0=class extends Pe{constructor(e,t){super(`field ${e} does not exist on struct ${t}`)}};ge.ErrMissingFieldOnStruct=G0;var K0=class extends Pe{constructor(e,t){super(`field ${e} does not exist on enum ${t}`)}};ge.ErrMissingFieldOnEnum=K0;var z0=class extends Pe{constructor(e){super(`cannot parse contract results: ${e}`)}};ge.ErrCannotParseContractResults=z0;var k0=class extends Pe{constructor(e){super(e)}};ge.ErrCodec=k0;var $0=class extends Pe{constructor(e){super(e)}};ge.ErrContractInteraction=$0;var W0=class extends Pe{constructor(){super("Method not yet implemented")}};ge.ErrNotImplemented=W0;var Y0=class extends Pe{constructor(){super("invalid arguments for relayed v1 builder")}};ge.ErrInvalidRelayedV1BuilderArguments=Y0;var J0=class extends Pe{constructor(){super("invalid arguments for relayed v2 builder")}};ge.ErrInvalidRelayedV2BuilderArguments=J0;var X0=class extends Pe{constructor(){super("gas limit must be 0 for the inner transaction for relayed v2")}};ge.ErrGasLimitShouldBe0ForInnerTransaction=X0});var Z0=M(Io=>{"use strict";f();var z8=Io&&Io.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Io,"__esModule",{value:!0});Io.TokenPayment=void 0;var Ku=z8(Vr()),k8=$e(),KE="EGLD",zE=18;Ku.default.set({ROUNDING_MODE:1});var qi=class{constructor(e,t,i,n){let s=new Ku.default(i);if(!s.isInteger()||s.isNegative())throw new k8.ErrInvalidArgument(`bad amountAsBigInteger: ${i}`);this.tokenIdentifier=e,this.nonce=t,this.amountAsBigInteger=s,this.numDecimals=n}static egldFromAmount(e){let t=new Ku.default(e).shiftedBy(zE).decimalPlaces(0);return this.egldFromBigInteger(t)}static egldFromBigInteger(e){return new qi(KE,0,e,zE)}static fungibleFromAmount(e,t,i){let n=new Ku.default(t).shiftedBy(i).decimalPlaces(0);return this.fungibleFromBigInteger(e,n,i)}static fungibleFromBigInteger(e,t,i=0){return new qi(e,0,t,i)}static nonFungible(e,t){return new qi(e,t,1,0)}static semiFungible(e,t,i){return new qi(e,t,i,0)}static metaEsdtFromAmount(e,t,i,n){let s=new Ku.default(i).shiftedBy(n).decimalPlaces(0);return this.metaEsdtFromBigInteger(e,t,s,n)}static metaEsdtFromBigInteger(e,t,i,n=0){return new qi(e,t,i,n)}toString(){return this.amountAsBigInteger.toFixed(0)}valueOf(){return this.amountAsBigInteger}toPrettyString(){return`${this.toRationalNumber()} ${this.tokenIdentifier}`}toRationalNumber(){return this.amountAsBigInteger.shiftedBy(-this.numDecimals).toFixed(this.numDecimals)}isEgld(){return this.tokenIdentifier==KE}isFungible(){return this.nonce==0}};Io.TokenPayment=qi});var Kl=M((YK,WE)=>{"use strict";f();var jl="qpzry9x8gf2tvdw0s3jn54khce6mua7l",eg={};for(zu=0;zu<jl.length;zu++){if(Ql=jl.charAt(zu),eg[Ql]!==void 0)throw new TypeError(Ql+" is ambiguous");eg[Ql]=zu}var Ql,zu;function _o(r){var e=r>>25;return(r&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}function kE(r){for(var e=1,t=0;t<r.length;++t){var i=r.charCodeAt(t);if(i<33||i>126)return"Invalid prefix ("+r+")";e=_o(e)^i>>5}for(e=_o(e),t=0;t<r.length;++t){var n=r.charCodeAt(t);e=_o(e)^n&31}return e}function $8(r,e,t){if(t=t||90,r.length+7+e.length>t)throw new TypeError("Exceeds length limit");r=r.toLowerCase();var i=kE(r);if(typeof i=="string")throw new Error(i);for(var n=r+"1",s=0;s<e.length;++s){var o=e[s];if(o>>5)throw new Error("Non 5-bit word");i=_o(i)^o,n+=jl.charAt(o)}for(s=0;s<6;++s)i=_o(i);for(i^=1,s=0;s<6;++s){var a=i>>(5-s)*5&31;n+=jl.charAt(a)}return n}function $E(r,e){if(e=e||90,r.length<8)return r+" too short";if(r.length>e)return"Exceeds length limit";var t=r.toLowerCase(),i=r.toUpperCase();if(r!==t&&r!==i)return"Mixed-case string "+r;r=t;var n=r.lastIndexOf("1");if(n===-1)return"No separator character for "+r;if(n===0)return"Missing prefix for "+r;var s=r.slice(0,n),o=r.slice(n+1);if(o.length<6)return"Data too short";var a=kE(s);if(typeof a=="string")return a;for(var c=[],h=0;h<o.length;++h){var p=o.charAt(h),A=eg[p];if(A===void 0)return"Unknown character "+p;a=_o(a)^A,!(h+6>=o.length)&&c.push(A)}return a!==1?"Invalid checksum for "+r:{prefix:s,words:c}}function W8(){var r=$E.apply(null,arguments);if(typeof r=="object")return r}function Y8(r){var e=$E.apply(null,arguments);if(typeof e=="object")return e;throw new Error(e)}function Gl(r,e,t,i){for(var n=0,s=0,o=(1<<t)-1,a=[],c=0;c<r.length;++c)for(n=n<<e|r[c],s+=e;s>=t;)s-=t,a.push(n>>s&o);if(i)s>0&&a.push(n<<t-s&o);else{if(s>=e)return"Excess padding";if(n<<t-s&o)return"Non-zero padding"}return a}function J8(r){var e=Gl(r,8,5,!0);if(Array.isArray(e))return e}function X8(r){var e=Gl(r,8,5,!0);if(Array.isArray(e))return e;throw new Error(e)}function Z8(r){var e=Gl(r,5,8,!1);if(Array.isArray(e))return e}function eB(r){var e=Gl(r,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}WE.exports={decodeUnsafe:W8,decode:Y8,encode:$8,toWordsUnsafe:J8,toWords:X8,fromWordsUnsafe:Z8,fromWords:eB}});var Hr=M(ni=>{"use strict";f();var tB=ni&&ni.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),rB=ni&&ni.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),YE=ni&&ni.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&tB(e,r,t);return rB(e,r),e};Object.defineProperty(ni,"__esModule",{value:!0});ni.Address=void 0;var zl=YE(Kl()),bo=YE($e()),tg="erd",rg=32,iB="0".repeat(16),jt=class{constructor(e){if(this.valueHex="",!!e){if(e instanceof jt)return jt.fromAddress(e);if(e instanceof y.Buffer)return jt.fromBuffer(e);if(typeof e=="string")return jt.fromString(e);throw new bo.ErrAddressCannotCreate(e)}}static fromAddress(e){return jt.fromValidHex(e.valueHex)}static fromValidHex(e){let t=new jt;return t.valueHex=e,t}static fromBuffer(e){if(e.length!=rg)throw new bo.ErrAddressCannotCreate(e);return jt.fromValidHex(e.toString("hex"))}static fromString(e){return jt.isValidHex(e)?jt.fromValidHex(e):jt.fromBech32(e)}static isValidHex(e){return y.Buffer.from(e,"hex").length==rg}static fromHex(e){if(!jt.isValidHex(e))throw new bo.ErrAddressCannotCreate(e);return jt.fromValidHex(e)}static fromBech32(e){let t;try{t=zl.decode(e)}catch(s){throw new bo.ErrAddressCannotCreate(e,s)}let i=t.prefix;if(i!=tg)throw new bo.ErrAddressBadHrp(tg,i);let n=y.Buffer.from(zl.fromWords(t.words));if(n.length!=rg)throw new bo.ErrAddressCannotCreate(e);return jt.fromValidHex(n.toString("hex"))}hex(){return this.isEmpty()?"":this.valueHex}bech32(){if(this.isEmpty())return"";let e=zl.toWords(this.pubkey());return zl.encode(tg,e)}pubkey(){return this.isEmpty()?y.Buffer.from([]):y.Buffer.from(this.valueHex,"hex")}isEmpty(){return!this.valueHex}equals(e){return e?this.valueHex==e.valueHex:!1}toString(){return this.bech32()}toJSON(){return{bech32:this.bech32(),pubkey:this.hex()}}static Zero(){return new jt("0".repeat(64))}isContractAddress(){return this.hex().startsWith(iB)}};ni.Address=jt});var xr=M(Ze=>{"use strict";f();var nB=Ze&&Ze.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),sB=Ze&&Ze.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),oB=Ze&&Ze.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&nB(e,r,t);return sB(e,r),e};Object.defineProperty(Ze,"__esModule",{value:!0});Ze.isEmpty=Ze.guardEmpty=Ze.guardNotEmpty=Ze.guardLength=Ze.guardSameLength=Ze.guardValueIsSetWithMessage=Ze.guardValueIsSet=Ze.guardTrue=void 0;var Co=oB($e());function aB(r,e){if(!r)throw new Co.ErrInvariantFailed(`[<${e}>] isn't true`)}Ze.guardTrue=aB;function uB(r,e){JE(`${r} isn't set (null or undefined)`,e)}Ze.guardValueIsSet=uB;function JE(r,e){if(e==null||e===void 0)throw new Co.ErrInvariantFailed(r)}Ze.guardValueIsSetWithMessage=JE;function cB(r,e){if(r=r||[],e=e||[],r.length!=e.length)throw new Co.ErrInvariantFailed("arrays do not have the same length")}Ze.guardSameLength=cB;function lB(r,e){let t=r.length||0;if(t!=e)throw new Co.ErrInvariantFailed(`wrong length, expected: ${e}, actual: ${t}`)}Ze.guardLength=lB;function fB(r,e){if(ig(r))throw new Co.ErrInvariantFailed(`${e} is empty`)}Ze.guardNotEmpty=fB;function hB(r,e){if(!ig(r))throw new Co.ErrInvariantFailed(`${e} is not empty`)}Ze.guardEmpty=hB;function ig(r){return r.isEmpty?r.isEmpty():r.length===0}Ze.isEmpty=ig});var XE=M(kl=>{"use strict";f();Object.defineProperty(kl,"__esModule",{value:!0});kl.getJavascriptPrototypesInHierarchy=void 0;function dB(r,e){let t=[],i=Object.getPrototypeOf(r);for(;i&&e(i);)t.push(i),i=Object.getPrototypeOf(i);return t}kl.getJavascriptPrototypesInHierarchy=dB});var Bt=M(Ot=>{"use strict";f();Object.defineProperty(Ot,"__esModule",{value:!0});Ot.NullType=Ot.TypePlaceholder=Ot.isTyped=Ot.PrimitiveValue=Ot.TypedValue=Ot.CustomType=Ot.PrimitiveType=Ot.TypeCardinality=Ot.Type=void 0;var ng=XE(),ZE=xr(),Er=class{constructor(e,t=[],i=Vi.fixed(1)){ZE.guardValueIsSet("name",e),this.name=e,this.typeParameters=t,this.cardinality=i}getName(){return this.name}getClassName(){return Er.ClassName}getClassHierarchy(){return ng.getJavascriptPrototypesInHierarchy(this,i=>i.belongsToTypesystem).map(i=>i.getClassName()).reverse()}getFullyQualifiedName(){let e=this.getTypeParameters().map(t=>t.getFullyQualifiedName()).join(", ");return this.isGenericType()?`erdjs:types:${this.getName()}<${e}>`:`erdjs:types:${this.getName()}`}hasExactClass(e){return this.getClassName()==e}hasClassOrSuperclass(e){return this.getClassHierarchy().includes(e)}getTypeParameters(){return this.typeParameters}isGenericType(){return this.typeParameters.length>0}getFirstTypeParameter(){return ZE.guardTrue(this.typeParameters.length>0,"type parameters length > 0"),this.typeParameters[0]}toString(){let e=this.getTypeParameters().map(i=>i.toString()).join(", "),t=e?`<${e}>`:"";return`${this.name}${t}`}equals(e){return Er.equals(this,e)}static equals(e,t){return e.getFullyQualifiedName()==t.getFullyQualifiedName()}static equalsMany(e,t){return e.every((i,n)=>i.equals(t[n]))}static isAssignableFromMany(e,t){return e.every((i,n)=>i.isAssignableFrom(t[n]))}differs(e){return!this.equals(e)}valueOf(){return this.name}isAssignableFrom(e){if(!Er.equalsMany(this.getTypeParameters(),e.getTypeParameters()))return!1;let i=this.getFullyQualifiedName();return Er.getFullyQualifiedNamesInHierarchy(e).includes(i)?!0:e.hasClassOrSuperclass(this.getClassName())}static getFullyQualifiedNamesInHierarchy(e){return ng.getJavascriptPrototypesInHierarchy(e,n=>n.belongsToTypesystem).map(n=>n.getFullyQualifiedName.call(e))}getNamesOfDependencies(){let e=[];for(let t of this.typeParameters)e.push(t.getName()),e.push(...t.getNamesOfDependencies());return[...new Set(e)]}toJSON(){return{name:this.name,typeParameters:this.typeParameters.map(e=>e.toJSON())}}getCardinality(){return this.cardinality}belongsToTypesystem(){}};Ot.Type=Er;Er.ClassName="Type";var Vi=class{constructor(e,t){this.lowerBound=e,this.upperBound=t}static fixed(e){return new Vi(e,e)}static variable(e){return new Vi(0,e)}isSingular(){return this.lowerBound==1&&this.upperBound==1}isSingularOrNone(){return this.lowerBound==0&&this.upperBound==1}isComposite(){return this.upperBound!=1}isFixed(){return this.lowerBound==this.upperBound}getLowerBound(){return this.lowerBound}getUpperBound(){return this.upperBound||Vi.MaxCardinality}};Ot.TypeCardinality=Vi;Vi.MaxCardinality=4096;var xo=class extends Er{constructor(e){super(e)}getClassName(){return xo.ClassName}};Ot.PrimitiveType=xo;xo.ClassName="PrimitiveType";var So=class extends Er{getClassName(){return So.ClassName}};Ot.CustomType=So;So.ClassName="CustomType";var us=class{constructor(e){this.type=e}getClassName(){return us.ClassName}getClassHierarchy(){return ng.getJavascriptPrototypesInHierarchy(this,i=>i.belongsToTypesystem).map(i=>i.getClassName()).reverse()}getType(){return this.type}hasExactClass(e){return this.getClassName()==e}hasClassOrSuperclass(e){return this.getClassHierarchy().includes(e)}belongsToTypesystem(){}};Ot.TypedValue=us;us.ClassName="TypedValue";var To=class extends us{constructor(e){super(e)}getClassName(){return To.ClassName}};Ot.PrimitiveValue=To;To.ClassName="PrimitiveValue";function pB(r){return r.belongsToTypesystem!==void 0}Ot.isTyped=pB;var No=class extends Er{constructor(){super("...")}getClassName(){return No.ClassName}};Ot.TypePlaceholder=No;No.ClassName="TypePlaceholder";var Do=class extends Er{constructor(){super("?")}getClassName(){return Do.ClassName}};Ot.NullType=Do;Do.ClassName="NullType"});var eA=M((Oo,Bo)=>{f();(function(r){var e=typeof Oo=="object"&&Oo&&!Oo.nodeType&&Oo,t=typeof Bo=="object"&&Bo&&!Bo.nodeType&&Bo,i=typeof global=="object"&&global;(i.global===i||i.window===i||i.self===i)&&(r=i);var n,s=2147483647,o=36,a=1,c=26,h=38,p=700,A=72,D=128,O="-",T=/^xn--/,V=/[^\x20-\x7E]/,Q=/[\x2E\u3002\uFF0E\uFF61]/g,j={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},ie=o-a,Y=Math.floor,W=String.fromCharCode,$;function k(w){throw new RangeError(j[w])}function R(w,x){for(var N=w.length,I=[];N--;)I[N]=x(w[N]);return I}function F(w,x){var N=w.split("@"),I="";N.length>1&&(I=N[0]+"@",w=N[1]),w=w.replace(Q,".");var l=w.split("."),C=R(l,x).join(".");return I+C}function K(w){for(var x=[],N=0,I=w.length,l,C;N<I;)l=w.charCodeAt(N++),l>=55296&&l<=56319&&N<I?(C=w.charCodeAt(N++),(C&64512)==56320?x.push(((l&1023)<<10)+(C&1023)+65536):(x.push(l),N--)):x.push(l);return x}function ce(w){return R(w,function(x){var N="";return x>65535&&(x-=65536,N+=W(x>>>10&1023|55296),x=56320|x&1023),N+=W(x),N}).join("")}function J(w){return w-48<10?w-22:w-65<26?w-65:w-97<26?w-97:o}function X(w,x){return w+22+75*(w<26)-((x!=0)<<5)}function E(w,x,N){var I=0;for(w=N?Y(w/p):w>>1,w+=Y(w/x);w>ie*c>>1;I+=o)w=Y(w/ie);return Y(I+(ie+1)*w/(w+h))}function u(w){var x=[],N=w.length,I,l=0,C=D,Z=A,te,ee,ae,v,b,S,L,B,U;for(te=w.lastIndexOf(O),te<0&&(te=0),ee=0;ee<te;++ee)w.charCodeAt(ee)>=128&&k("not-basic"),x.push(w.charCodeAt(ee));for(ae=te>0?te+1:0;ae<N;){for(v=l,b=1,S=o;ae>=N&&k("invalid-input"),L=J(w.charCodeAt(ae++)),(L>=o||L>Y((s-l)/b))&&k("overflow"),l+=L*b,B=S<=Z?a:S>=Z+c?c:S-Z,!(L<B);S+=o)U=o-B,b>Y(s/U)&&k("overflow"),b*=U;I=x.length+1,Z=E(l-v,I,v==0),Y(l/I)>s-C&&k("overflow"),C+=Y(l/I),l%=I,x.splice(l++,0,C)}return ce(x)}function d(w){var x,N,I,l,C,Z,te,ee,ae,v,b,S=[],L,B,U,q;for(w=K(w),L=w.length,x=D,N=0,C=A,Z=0;Z<L;++Z)b=w[Z],b<128&&S.push(W(b));for(I=l=S.length,l&&S.push(O);I<L;){for(te=s,Z=0;Z<L;++Z)b=w[Z],b>=x&&b<te&&(te=b);for(B=I+1,te-x>Y((s-N)/B)&&k("overflow"),N+=(te-x)*B,x=te,Z=0;Z<L;++Z)if(b=w[Z],b<x&&++N>s&&k("overflow"),b==x){for(ee=N,ae=o;v=ae<=C?a:ae>=C+c?c:ae-C,!(ee<v);ae+=o)q=ee-v,U=o-v,S.push(W(X(v+q%U,0))),ee=Y(q/U);S.push(W(X(ee,0))),C=E(N,B,I==l),N=0,++I}++N,++x}return S.join("")}function g(w){return F(w,function(x){return T.test(x)?u(x.slice(4).toLowerCase()):x})}function m(w){return F(w,function(x){return V.test(x)?"xn--"+d(x):x})}if(n={version:"1.4.1",ucs2:{decode:K,encode:ce},decode:u,encode:d,toASCII:m,toUnicode:g},typeof define=="function"&&typeof define.amd=="object"&&define.amd)define("punycode",function(){return n});else if(e&&t)if(Bo.exports==e)t.exports=n;else for($ in n)n.hasOwnProperty($)&&(e[$]=n[$]);else r.punycode=n})(Oo)});var nA=M((az,og)=>{"use strict";f();var rA=eA();function gB(r,e){this.__proto__=new Error(e),this.__proto__.name="BackslashError",this.offset=r}function sg(r){return r>="0"&&r<="7"}function yB(r){return r>="0"&&r<="9"||r>="a"&&r<="f"||r>="A"&&r<="F"}function tA(r){return r=parseInt(r,16),rA.ucs2.encode([r])}function iA(r,e,t){var i=!1,n=[];function s(c){var h=r[c];if(!yB(h))throw new gB(c,"Unexpected token ILLEGAL");return h}for(;e<r.length;){var o=r[e];if(e++,i){switch(i=!1,o){case"n":n.push(`
`);continue;case"r":n.push("\r");continue;case"f":n.push("\f");continue;case"b":n.push("\b");continue;case"t":n.push("	");continue;case"v":n.push("\v");continue;case"\\":n.push("\\");continue}if(o==="x"){n.push(tA(s(e)+s(e+1))),e+=2;continue}if(o==="u"){n.push(tA(s(e)+s(e+1)+s(e+2)+s(e+3))),e+=4;continue}if(sg(o)){var a;sg(a=r[e])&&(e++,o+=a,sg(a=r[e])&&o[0]<="3"&&(e++,o+=a)),n.push(rA.ucs2.encode([parseInt(o,8)]));continue}n.push(o)}else if(o==="\\")i=!0;else if(o===t){e--;break}else n.push(o)}return arguments.length===3?{end:e,value:n.join("")}:n.join("")}og.exports=function(e){return iA(e,0)};og.exports.parseUntil=function(e,t,i){return iA(e,t,i)}});var fA=M((cz,lA)=>{f();var aA=nA();lA.exports={validate:mB,parse:wB};function mB(r,e){var t;if(e=e||!1,typeof r!="string")t="Input must be a string";else try{$l(r,0,e,!1)}catch(i){t=i.message}return t}function wB(r,e){if(typeof r!="string")throw new Error("Input must be a string");e=e||!1;var t=$l(r,0,e,!0);return t.value}function uA(r,e){for(var t=r.length,i=e,n,s=e;s<t;s++){var o=r[s];if(o===","){n=s;break}else if(o==="]"||o==="}"){n=s-1;break}else if(!cs(o))throw Hi(r,s,"expecting end of expression or separator")}var a;return n===void 0?(n=t,a=r[n]):(a=r[n],n++),{start:i,end:n,value:a}}function vB(r,e){for(var t=r.length,i=e,n,s=e;s<t;s++){var o=r[s];if(o===":"){n=s;break}else if(!cs(o))throw Hi(r,s,"expecting ':'")}if(n===void 0)throw Hi(r,s,"expecting ':'");return n++,{start:i,end:n}}function $l(r,e,t,i){for(var n=r.length,s,o,a=!1,c=!1,h=!1,p=!1,A=!1,D=!1,O,T=e;T<n;T++){var V=r[T];if(s===void 0){if(!cs(V)){if(V==="[")a=!0;else if(V==="{")c=!0;else if(V==='"')h=!0;else if(_B(r,T)){s=T,T=T+3,o=T,O=!0;break}else if(bB(r,T)){s=T,T=T+4,o=T,O=!1;break}else if(CB(r,T)){s=T,T=T+3,o=T,O=null;break}else if(sA(V))p=!0;else if(V==="-")p=!0;else throw Hi(r,T,"");s=T}}else if(a){var Q=IB(r,T,t,i);o=Q.end,O=Q.value;break}else if(c){var j=AB(r,T,t,i);o=j.end,O=j.value;break}else if(h&&V==='"'&&cA(r,T-1)){o=T,O=aA(r.substring(s+1,o));break}else if(p)if(cs(V))D=!0;else if(V===","||V==="]"||V==="}"){O=parseFloat(r.substring(s,o),10),o=T-1;break}else{if(sA(V)&&!D)continue;if(V==="."&&!A&&!D)A=!0;else throw Hi(r,T,"expecting number")}}if(o===void 0)if(p)O=parseFloat(r.substring(s,T),10),o=T-1;else throw Hi(r,T,"unclosed statement");return o++,{value:O,start:s,end:o}}function EB(r,e){for(var t=r.length,i,n,s=e;s<t;s++){var o=r[s];if(i===void 0){if(!cs(o)){if(o!=='"')throw Hi(r,s,"expecting String");i=s}}else if(o==='"'&&cA(r,s-1)){n=s;break}}if(n===void 0)throw Hi(r,t,"expecting String");var a=aA(r.substring(i+1,n));if(a==="")throw Hi(r,i,"empty string");return n++,{start:i,end:n,value:a}}function AB(r,e,t,i){for(var n=e,s=",",o={},a=[],c=[],h=e;cs(r[h]);)h++;if(r[h]==="}")return{start:e,end:h,value:o};for(;s===",";){var p=EB(r,n),A=vB(r,p.end),D=$l(r,A.end,t,i),O=uA(r,D.end);t||a.indexOf(p.value)!==-1&&(p.value=p.value+"1"),a.push(p.value),c.push(D.value),n=O.end,s=O.value}if(i){var T=0;for(T=0;T<a.length;T++)o[a[T]]=c[T]}return{start:e,end:n,value:o}}function cA(r,e){for(var t=e,i=0;t>-1&&r[t]==="\\";)i++,t--;return i%2===0}function IB(r,e,t,i){for(var n=e,s=",",o=[],a=e;cs(r[a]);)a++;if(r[a]==="]")return{start:e,end:a,value:o};for(;s===",";){var c=$l(r,n,t,i),h=uA(r,c.end);i&&o.push(c.value),n=h.end,s=h.value}return{start:e,end:n,value:o}}function _B(r,e){return r.substr(e,4)==="true"}function bB(r,e){return r.substr(e,5)==="false"}function CB(r,e){return r.substr(e,4)==="null"}var xB=new RegExp(/^\s$/);function cs(r){return xB.test(r)}var SB=new RegExp(/^\d$/);function sA(r){return SB.test(r)}function Hi(r,e,t){var i=10,n;r.length<e+i?n=r.substr(oA(r.length-i),r.length):e-i/2<0?n=r.substr(0,i):n=r.substr(oA(e-i/2),i);var s;return t?s="Syntax error: "+t+" near "+n:s="Syntax error near "+n,new Error(s)}function oA(r){return r<0?0:r}});var Wl=M(si=>{"use strict";f();var TB=si&&si.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),NB=si&&si.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),DB=si&&si.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&TB(e,r,t);return NB(e,r),e};Object.defineProperty(si,"__esModule",{value:!0});si.TypeExpressionParser=void 0;var hA=DB($e()),OB=Bt(),BB=fA(),ag=class{parse(e){let t=this.doParse(e),i=Object.keys(t);if(i.length!=1)throw new hA.ErrTypingSystem(`bad type expression: ${e}`);let n=i[0];return this.nodeToType(n,t[n])}doParse(e){let t=this.getJsonedString(e);try{return BB.parse(t)}catch{throw new hA.ErrTypingSystem(`cannot parse type expression: ${e}. internal json: ${t}.`)}}getJsonedString(e){let t="";for(var i=0;i<e.length;i++){let o=e.charAt(i),a=e.charAt(i-1),c=e.charAt(i+1);o=="<"?t+=": {":o==">"?a!=">"?t+=": {} }":t+="}":o==","?c==">"||(a==">"?t+=",":t+=": {},"):t+=o}let n=/(:|\{|\}|,|\s)/,s=t.replace(/utf\-8\sstring/ig,"utf-8-string").split(n).filter(o=>o);return t=s.map(o=>n.test(o)?o:`"${o}"`).map(o=>o.replace(/utf\-8\-string/ig,"utf-8 string")).join(""),s.length==1?`{${t}: {}}`:`{${t}}`}nodeToType(e,t){e.charAt(e.length-1)==="1"&&(e=e.slice(0,-1));let i=Object.keys(t).map(n=>this.nodeToType(n,t[n]));return new OB.Type(e,i)}};si.TypeExpressionParser=ag});var Mo=M(hr=>{"use strict";f();var MB=hr&&hr.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),PB=hr&&hr.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),RB=hr&&hr.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&MB(e,r,t);return PB(e,r),e};Object.defineProperty(hr,"__esModule",{value:!0});hr.Fields=hr.Field=hr.FieldDefinition=void 0;var ug=RB($e()),LB=Wl(),ku=class{constructor(e,t,i){this.name=e,this.description=t,this.type=i}static fromJSON(e){let t=new LB.TypeExpressionParser().parse(e.type);return new ku(e.name,e.description,t)}};hr.FieldDefinition=ku;var cg=class{constructor(e,t=""){this.value=e,this.name=t}checkTyping(e){let t=this.value.getType();if(!t.equals(e.type))throw new ug.ErrTypingSystem(`check type of field "${e.name}; expected: ${e.type}, actual: ${t}"`);if(this.name!=e.name)throw new ug.ErrTypingSystem(`check name of field "${e.name}"`)}equals(e){return this.name==e.name&&this.value.equals(e.value)}};hr.Field=cg;var lg=class{static checkTyping(e,t){if(e.length!=t.length)throw new ug.ErrTypingSystem("fields length vs. field definitions length");for(let i=0;i<e.length;i++){let n=e[i],s=t[i];n.checkTyping(s)}}static equals(e,t){if(e.length!=t.length)return!1;for(let i=0;i<e.length;i++){let n=e[i],s=t[i];if(!n.equals(s))return!1}return!0}static getNamesOfTypeDependencies(e){let t=[];for(let i of e)t.push(i.type.getName()),t.push(...i.type.getNamesOfDependencies());return[...new Set(t)]}};hr.Fields=lg});var fs=M(Ro=>{"use strict";f();Object.defineProperty(Ro,"__esModule",{value:!0});Ro.Struct=Ro.StructType=void 0;var FB=$e(),Yl=Mo(),dA=Bt(),ls=class extends dA.CustomType{constructor(e,t){super(e),this.fieldsDefinitions=[],this.fieldsDefinitions=t}getClassName(){return ls.ClassName}static fromJSON(e){let t=(e.fields||[]).map(i=>Yl.FieldDefinition.fromJSON(i));return new ls(e.name,t)}getFieldsDefinitions(){return this.fieldsDefinitions}getFieldDefinition(e){return this.fieldsDefinitions.find(t=>t.name==e)}getNamesOfDependencies(){return Yl.Fields.getNamesOfTypeDependencies(this.fieldsDefinitions)}};Ro.StructType=ls;ls.ClassName="StructType";var Po=class extends dA.TypedValue{constructor(e,t){super(e),this.fields=t,this.fieldsByName=new Map(t.map(i=>[i.name,i])),this.checkTyping()}getClassName(){return Po.ClassName}checkTyping(){let t=this.getType().getFieldsDefinitions();Yl.Fields.checkTyping(this.fields,t)}getFields(){return this.fields}getFieldValue(e){let t=this.fieldsByName.get(e);if(t)return t.value.valueOf();throw new FB.ErrMissingFieldOnStruct(e,this.getType().getName())}valueOf(){let e={};for(let t of this.fields)e[t.name]=t.value.valueOf();return e}equals(e){if(!this.getType().equals(e.getType()))return!1;let t=this.getFields(),i=e.getFields();return Yl.Fields.equals(t,i)}};Ro.Struct=Po;Po.ClassName="Struct"});var Xl=M(an=>{"use strict";f();Object.defineProperty(an,"__esModule",{value:!0});an.EndpointParameterDefinition=an.EndpointModifiers=an.EndpointDefinition=void 0;var UB=Wl(),pA="?",qB="N / A",$u=class{constructor(e,t,i,n){this.input=[],this.output=[],this.name=e,this.input=t||[],this.output=i||[],this.modifiers=n}isConstructor(){return this.name=="constructor"}static fromJSON(e){e.name=e.name==null?pA:e.name,e.payableInTokens=e.payableInTokens||[],e.inputs=e.inputs||[],e.outputs=e.outputs||[];let t=e.inputs.map(s=>hs.fromJSON(s)),i=e.outputs.map(s=>hs.fromJSON(s)),n=new Jl(e.mutability,e.payableInTokens);return new $u(e.name,t,i,n)}};an.EndpointDefinition=$u;var Jl=class{constructor(e,t){this.mutability=e||"",this.payableInTokens=t||[]}isPayableInEGLD(){return this.isPayableInToken("EGLD")}isPayableInToken(e){return this.payableInTokens.includes(e)?!0:this.payableInTokens.includes(`!${e}`)?!1:!!this.payableInTokens.includes("*")}isPayable(){return this.payableInTokens.length!=0}isReadonly(){return this.mutability=="readonly"}};an.EndpointModifiers=Jl;var hs=class{constructor(e,t,i){this.name=e,this.description=t,this.type=i}static fromJSON(e){let t=new UB.TypeExpressionParser().parse(e.type);return new hs(e.name||pA,e.description||qB,t)}};an.EndpointParameterDefinition=hs});var fg=M(Zl=>{"use strict";f();Object.defineProperty(Zl,"__esModule",{value:!0});Zl.ContractInterface=void 0;var VB=xr(),gA=Xl(),HB="?",Wu=class{constructor(e,t,i){this.endpoints=[],this.name=e,this.constructorDefinition=t,this.endpoints=i}static fromJSON(e){e.name=e.name||HB,e.endpoints=e.endpoints||[];let t=QB(e),i=e.endpoints.map(n=>gA.EndpointDefinition.fromJSON(n));return new Wu(e.name,t,i)}getConstructorDefinition(){return this.constructorDefinition}getEndpoint(e){let t=this.endpoints.find(i=>i.name==e);return VB.guardValueIsSetWithMessage(`endpoint [${e}] not found`,t),t}};Zl.ContractInterface=Wu;function QB(r){if(r.constructor.inputs===void 0||r.constructor.outputs===void 0)return null;let e=Object.assign({name:"constructor"},r.constructor);return gA.EndpointDefinition.fromJSON(e)}});var Yu=M(cn=>{"use strict";f();Object.defineProperty(cn,"__esModule",{value:!0});cn.EnumValue=cn.EnumVariantDefinition=cn.EnumType=void 0;var jB=$e(),hg=xr(),ef=Mo(),mA=Bt(),yA=256,ds=class extends mA.CustomType{constructor(e,t){super(e),this.variants=[],this.variants=t}getClassName(){return ds.ClassName}static fromJSON(e){let t=(e.variants||[]).map(i=>Lo.fromJSON(i));return new ds(e.name,t)}getVariantByDiscriminant(e){let t=this.variants.find(i=>i.discriminant==e);return hg.guardValueIsSet(`variant by discriminant (${e})`,t),t}getVariantByName(e){let t=this.variants.find(i=>i.name==e);return hg.guardValueIsSet(`variant by name (${e})`,t),t}getNamesOfDependencies(){let e=[];for(let t of this.variants)e.push(...t.getNamesOfDependencies());return[...new Set(e)]}};cn.EnumType=ds;ds.ClassName="EnumType";var Lo=class{constructor(e,t,i=[]){this.fieldsDefinitions=[],hg.guardTrue(t<yA,`discriminant for simple enum should be less than ${yA}`),this.name=e,this.discriminant=t,this.fieldsDefinitions=i}static fromJSON(e){let t=(e.fields||[]).map(i=>ef.FieldDefinition.fromJSON(i));return new Lo(e.name,e.discriminant,t)}getFieldsDefinitions(){return this.fieldsDefinitions}getFieldDefinition(e){return this.fieldsDefinitions.find(t=>t.name==e)}getNamesOfDependencies(){return ef.Fields.getNamesOfTypeDependencies(this.fieldsDefinitions)}};cn.EnumVariantDefinition=Lo;var un=class extends mA.TypedValue{constructor(e,t,i){super(e),this.fields=[],this.name=t.name,this.discriminant=t.discriminant,this.fields=i,this.fieldsByName=new Map(i.map(s=>[s.name,s]));let n=t.getFieldsDefinitions();ef.Fields.checkTyping(this.fields,n)}getClassName(){return un.ClassName}static fromName(e,t){let i=e.getVariantByName(t);return new un(e,i,[])}static fromDiscriminant(e,t){let i=e.getVariantByDiscriminant(t);return new un(e,i,[])}equals(e){if(!this.getType().equals(e.getType()))return!1;let t=this.getFields(),i=e.getFields(),n=this.name==e.name,s=this.discriminant==e.discriminant,o=ef.Fields.equals(t,i);return n&&s&&o}getFields(){return this.fields}getFieldValue(e){let t=this.fieldsByName.get(e);if(t)return t.value.valueOf();throw new jB.ErrMissingFieldOnEnum(e,this.getType().getName())}valueOf(){let e={name:this.name,fields:[]};return this.fields.forEach(t=>e.fields[t.name]=t.value.valueOf()),e}};cn.EnumValue=un;un.ClassName="EnumValue"});var qo=M(Uo=>{"use strict";f();Object.defineProperty(Uo,"__esModule",{value:!0});Uo.AddressValue=Uo.AddressType=void 0;var GB=Hr(),wA=Bt(),ps=class extends wA.PrimitiveType{constructor(){super("Address")}getClassName(){return ps.ClassName}};Uo.AddressType=ps;ps.ClassName="AddressType";var Fo=class extends wA.PrimitiveValue{constructor(e){super(new ps),this.value=new GB.Address(e.bech32())}getClassName(){return Fo.ClassName}equals(e){return this.value.equals(e.value)}valueOf(){return this.value}};Uo.AddressValue=Fo;Fo.ClassName="AddressValue"});var Ju=M(Ho=>{"use strict";f();Object.defineProperty(Ho,"__esModule",{value:!0});Ho.BooleanValue=Ho.BooleanType=void 0;var vA=Bt(),gs=class extends vA.PrimitiveType{constructor(){super("bool")}getClassName(){return gs.ClassName}};Ho.BooleanType=gs;gs.ClassName="BooleanType";var Vo=class extends vA.PrimitiveValue{constructor(e){super(new gs),this.value=e}getClassName(){return Vo.ClassName}equals(e){return this.value===e.value}isTrue(){return this.value===!0}isFalse(){return!this.isTrue()}valueOf(){return this.value}};Ho.BooleanValue=Vo;Vo.ClassName="BooleanValue"});var fn=M(Qo=>{"use strict";f();Object.defineProperty(Qo,"__esModule",{value:!0});Qo.BytesValue=Qo.BytesType=void 0;var EA=Bt(),ys=class extends EA.PrimitiveType{constructor(){super("bytes")}getClassName(){return ys.ClassName}};Qo.BytesType=ys;ys.ClassName="BytesType";var ln=class extends EA.PrimitiveValue{constructor(e){super(new ys),this.value=e}getClassName(){return ln.ClassName}static fromUTF8(e){let t=y.Buffer.from(e,"utf-8");return new ln(t)}static fromHex(e){let t=y.Buffer.from(e,"hex");return new ln(t)}getLength(){return this.value.length}equals(e){return this.getLength()!=e.getLength()?!1:this.value.equals(e.value)}valueOf(){return this.value}toString(){return this.value.toString()}};Qo.BytesValue=ln;ln.ClassName="BytesValue"});var tf=M(jo=>{"use strict";f();Object.defineProperty(jo,"__esModule",{value:!0});jo.CompositeValue=jo.CompositeType=void 0;var KB=xr(),dg=Bt(),ms=class extends dg.Type{constructor(...e){super("Composite",e,dg.TypeCardinality.variable(e.length))}getClassName(){return ms.ClassName}};jo.CompositeType=ms;ms.ClassName="CompositeType";var ws=class extends dg.TypedValue{constructor(e,t){super(e),KB.guardLength(t,e.getTypeParameters().length),this.items=t}getClassName(){return ws.ClassName}static fromItems(...e){let t=e.map(n=>n.getType()),i=new ms(...t);return new ws(i,e)}getItems(){return this.items}valueOf(){return this.items.map(e=>e?.valueOf())}equals(e){if(this.getType().differs(e.getType()))return!1;for(let t=0;t<this.items.length;t++){let i=this.items[t],n=e.items[t];if(!i.equals(n))return!1}return!0}};jo.CompositeValue=ws;ws.ClassName="CompositeValue"});var gg=M(rf=>{"use strict";f();Object.defineProperty(rf,"__esModule",{value:!0});rf.CollectionOfTypedValues=void 0;var pg=class{constructor(e){this.items=e}getLength(){return this.items.length}getItems(){return this.items}valueOf(){return this.items.map(e=>e.valueOf())}equals(e){if(this.getLength()!=e.getLength())return!1;for(let t=0;t<this.getLength();t++){let i=this.items[t],n=e.items[t];if(!i.equals(n))return!1}return!0}};rf.CollectionOfTypedValues=pg});var Xu=M(oi=>{"use strict";f();Object.defineProperty(oi,"__esModule",{value:!0});oi.List=oi.OptionValue=oi.ListType=oi.OptionType=void 0;var zB=xr(),kB=gg(),vs=Bt(),ai=class extends vs.Type{constructor(e){super("Option",[e])}getClassName(){return ai.ClassName}isAssignableFrom(e){if(!e.hasExactClass(ai.ClassName))return!1;let t=this.getFirstTypeParameter().equals(e.getFirstTypeParameter()),i=e.getFirstTypeParameter().hasExactClass(vs.NullType.ClassName);return t||i}};oi.OptionType=ai;ai.ClassName="OptionType";var Es=class extends vs.Type{constructor(e){super("List",[e])}getClassName(){return Es.ClassName}};oi.ListType=Es;Es.ClassName="ListType";var Qi=class extends vs.TypedValue{constructor(e,t=null){super(e),this.value=t}getClassName(){return Qi.ClassName}static newMissing(){let e=new ai(new vs.NullType);return new Qi(e)}static newMissingTyped(e){return new Qi(new ai(e))}static newProvided(e){let t=new ai(e.getType());return new Qi(t,e)}isSet(){return!!this.value}getTypedValue(){return zB.guardValueIsSet("value",this.value),this.value}valueOf(){return this.value?this.value.valueOf():null}equals(e){var t;return((t=this.value)===null||t===void 0?void 0:t.equals(e.value))||!1}};oi.OptionValue=Qi;Qi.ClassName="OptionValue";var hn=class extends vs.TypedValue{constructor(e,t){super(e),this.backingCollection=new kB.CollectionOfTypedValues(t)}getClassName(){return hn.ClassName}static fromItems(e){if(e.length==0)return new hn(new vs.TypePlaceholder,[]);let t=e[0].getType(),i=new Es(t);return new hn(i,e)}getLength(){return this.backingCollection.getLength()}getItems(){return this.backingCollection.getItems()}valueOf(){return this.backingCollection.valueOf()}equals(e){return this.backingCollection.equals(e.backingCollection)}};oi.List=hn;hn.ClassName="List"});var Zu=M(Ko=>{"use strict";f();Object.defineProperty(Ko,"__esModule",{value:!0});Ko.H256Value=Ko.H256Type=void 0;var AA=Bt(),As=class extends AA.PrimitiveType{constructor(){super("H256")}getClassName(){return As.ClassName}};Ko.H256Type=As;As.ClassName="H256Type";var Go=class extends AA.PrimitiveValue{constructor(e){super(new As),this.value=e}getClassName(){return Go.ClassName}equals(e){return this.value.equals(e.value)}valueOf(){return this.value}};Ko.H256Value=Go;Go.ClassName="H256Value"});var ec=M(Ee=>{"use strict";f();var $B=Ee&&Ee.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),WB=Ee&&Ee.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),YB=Ee&&Ee.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&$B(e,r,t);return WB(e,r),e},JB=Ee&&Ee.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ee,"__esModule",{value:!0});Ee.BigIntValue=Ee.BigUIntValue=Ee.I64Value=Ee.U64Value=Ee.I32Value=Ee.U32Value=Ee.I16Value=Ee.U16Value=Ee.I8Value=Ee.U8Value=Ee.NumericalValue=Ee.BigIntType=Ee.BigUIntType=Ee.I64Type=Ee.U64Type=Ee.I32Type=Ee.U32Type=Ee.I16Type=Ee.U16Type=Ee.I8Type=Ee.U8Type=Ee.NumericalType=void 0;var IA=YB($e()),_A=Bt(),Bs=JB(Vr()),er=class extends _A.PrimitiveType{constructor(e,t,i){super(e),this.sizeInBytes=t,this.withSign=i}getClassName(){return er.ClassName}hasFixedSize(){return!!this.sizeInBytes}hasArbitrarySize(){return!this.hasFixedSize()}};Ee.NumericalType=er;er.ClassName="NumericalType";var Is=class extends er{constructor(){super("u8",1,!1)}getClassName(){return Is.ClassName}};Ee.U8Type=Is;Is.ClassName="U8Type";var _s=class extends er{constructor(){super("i8",1,!0)}getClassName(){return _s.ClassName}};Ee.I8Type=_s;_s.ClassName="I8Type";var bs=class extends er{constructor(){super("u16",2,!1)}getClassName(){return bs.ClassName}};Ee.U16Type=bs;bs.ClassName="U16Type";var Cs=class extends er{constructor(){super("i16",2,!0)}getClassName(){return Cs.ClassName}};Ee.I16Type=Cs;Cs.ClassName="I16Type";var xs=class extends er{constructor(){super("u32",4,!1)}getClassName(){return xs.ClassName}};Ee.U32Type=xs;xs.ClassName="U32Type";var Ss=class extends er{constructor(){super("i32",4,!0)}getClassName(){return Ss.ClassName}};Ee.I32Type=Ss;Ss.ClassName="I32Type";var Ts=class extends er{constructor(){super("u64",8,!1)}getClassName(){return Ts.ClassName}};Ee.U64Type=Ts;Ts.ClassName="U64Type";var Ns=class extends er{constructor(){super("i64",8,!0)}getClassName(){return Ns.ClassName}};Ee.I64Type=Ns;Ns.ClassName="I64Type";var Ds=class extends er{constructor(){super("BigUint",0,!1)}getClassName(){return Ds.ClassName}};Ee.BigUIntType=Ds;Ds.ClassName="BigUIntType";var Os=class extends er{constructor(){super("Bigint",0,!0)}getClassName(){return Os.ClassName}};Ee.BigIntType=Os;Os.ClassName="BigIntType";var tr=class extends _A.PrimitiveValue{constructor(e,t){if(super(e),this.value=new Bs.default(t),this.sizeInBytes=e.sizeInBytes,this.withSign=e.withSign,this.value.isNaN())throw new IA.ErrInvalidArgument(`not a number: ${t}`);if(!this.withSign&&this.value.isNegative())throw new IA.ErrInvalidArgument(`negative, but type is unsigned: ${t}`)}getClassName(){return tr.ClassName}equals(e){return this.value.isEqualTo(e.value)}valueOf(){return this.value}toString(){return this.value.toString()}};Ee.NumericalValue=tr;tr.ClassName="NumericalValue";var zo=class extends tr{constructor(e){super(new Is,new Bs.default(e))}getClassName(){return zo.ClassName}};Ee.U8Value=zo;zo.ClassName="U8Value";var ko=class extends tr{constructor(e){super(new _s,new Bs.default(e))}getClassName(){return ko.ClassName}};Ee.I8Value=ko;ko.ClassName="I8Value";var $o=class extends tr{constructor(e){super(new bs,new Bs.default(e))}getClassName(){return $o.ClassName}};Ee.U16Value=$o;$o.ClassName="U16Value";var Wo=class extends tr{constructor(e){super(new Cs,new Bs.default(e))}getClassName(){return Wo.ClassName}};Ee.I16Value=Wo;Wo.ClassName="I16Value";var Yo=class extends tr{constructor(e){super(new xs,new Bs.default(e))}getClassName(){return Yo.ClassName}};Ee.U32Value=Yo;Yo.ClassName="U32Value";var Jo=class extends tr{constructor(e){super(new Ss,new Bs.default(e))}getClassName(){return Jo.ClassName}};Ee.I32Value=Jo;Jo.ClassName="I32Value";var Xo=class extends tr{constructor(e){super(new Ts,e)}getClassName(){return Xo.ClassName}};Ee.U64Value=Xo;Xo.ClassName="U64Value";var Zo=class extends tr{constructor(e){super(new Ns,e)}getClassName(){return Zo.ClassName}};Ee.I64Value=Zo;Zo.ClassName="I64Value";var ea=class extends tr{constructor(e){super(new Ds,e)}getClassName(){return ea.ClassName}};Ee.BigUIntValue=ea;ea.ClassName="BigUIntValue";var ta=class extends tr{constructor(e){super(new Os,e)}getClassName(){return ta.ClassName}};Ee.BigIntValue=ta;ta.ClassName="BigIntValue"});var ia=M(ra=>{"use strict";f();Object.defineProperty(ra,"__esModule",{value:!0});ra.TokenIdentifierValue=ra.TokenIdentifierType=void 0;var bA=Bt(),XB="EGLD",Ms=class extends bA.PrimitiveType{constructor(){super("TokenIdentifier")}getClassName(){return Ms.ClassName}};ra.TokenIdentifierType=Ms;Ms.ClassName="TokenIdentifierType";var dn=class extends bA.PrimitiveValue{constructor(e){super(new Ms),this.value=e}static egld(){return new dn(XB)}static esdtTokenIdentifier(e){return new dn(e)}getClassName(){return dn.ClassName}getLength(){return this.value.length}equals(e){return this.getLength()!=e.getLength()?!1:this.value==e.value}valueOf(){return this.value}toString(){return this.value.toString()}};ra.TokenIdentifierValue=dn;dn.ClassName="TokenIdentifierValue"});var sf=M(na=>{"use strict";f();Object.defineProperty(na,"__esModule",{value:!0});na.VariadicValue=na.VariadicType=void 0;var nf=Bt(),gn=class extends nf.Type{constructor(e){super("Variadic",[e],nf.TypeCardinality.variable())}getClassName(){return gn.ClassName}};na.VariadicType=gn;gn.ClassName="VariadicType";var pn=class extends nf.TypedValue{constructor(e,t){super(e),this.items=t}getClassName(){return pn.ClassName}static fromItems(...e){if(e.length==0)return new pn(new gn(new nf.TypePlaceholder),[]);let t=e[0].getType();return new pn(new gn(t),e)}getItems(){return this.items}valueOf(){return this.items.map(e=>e.valueOf())}equals(e){if(this.getType().differs(e.getType()))return!1;for(let t=0;t<this.items.length;t++){let i=this.items[t],n=e.items[t];if(!i.equals(n))return!1}return!0}};na.VariadicValue=pn;pn.ClassName="VariadicValue"});var of=M(sa=>{"use strict";f();Object.defineProperty(sa,"__esModule",{value:!0});sa.OptionalValue=sa.OptionalType=void 0;var ZB=xr(),tc=Bt(),yn=class extends tc.Type{constructor(e){super("Optional",[e],tc.TypeCardinality.variable(1))}getClassName(){return yn.ClassName}isAssignableFrom(e){if(!e.hasExactClass(yn.ClassName))return!1;let t=this.getFirstTypeParameter().equals(e.getFirstTypeParameter()),i=e.getFirstTypeParameter().hasExactClass(tc.NullType.ClassName);return t||i}};sa.OptionalType=yn;yn.ClassName="OptionalType";var Ps=class extends tc.TypedValue{constructor(e,t=null){super(e),this.value=t}getClassName(){return Ps.ClassName}static newMissing(){let e=new yn(new tc.NullType);return new Ps(e)}isSet(){return!!this.value}getTypedValue(){return ZB.guardValueIsSet("value",this.value),this.value}valueOf(){return this.value?this.value.valueOf():null}equals(e){var t;return((t=this.value)===null||t===void 0?void 0:t.equals(e.value))||!1}};sa.OptionalValue=Ps;Ps.ClassName="OptionalValue"});var af=M(ua=>{"use strict";f();Object.defineProperty(ua,"__esModule",{value:!0});ua.ArrayVec=ua.ArrayVecType=void 0;var CA=xr(),eM=gg(),xA=Bt(),oa=class extends xA.Type{constructor(e,t){super("Array",[t]),CA.guardTrue(e>0,"array length > 0"),this.length=e}getClassName(){return oa.ClassName}};ua.ArrayVecType=oa;oa.ClassName="ArrayVecType";var aa=class extends xA.TypedValue{constructor(e,t){super(e),CA.guardLength(t,e.length),this.backingCollection=new eM.CollectionOfTypedValues(t)}getClassName(){return aa.ClassName}getLength(){return this.backingCollection.getLength()}getItems(){return this.backingCollection.getItems()}valueOf(){return this.backingCollection.valueOf()}equals(e){return this.backingCollection.equals(e.backingCollection)}};ua.ArrayVec=aa;aa.ClassName="ArrayVec"});var uf=M(ca=>{"use strict";f();Object.defineProperty(ca,"__esModule",{value:!0});ca.StringValue=ca.StringType=void 0;var SA=Bt(),Rs=class extends SA.PrimitiveType{constructor(){super("utf-8 string")}getClassName(){return Rs.ClassName}};ca.StringType=Rs;Rs.ClassName="StringType";var mn=class extends SA.PrimitiveValue{constructor(e){super(new Rs),this.value=e}getClassName(){return mn.ClassName}static fromUTF8(e){return new mn(e)}static fromHex(e){let t=y.Buffer.from(e,"hex").toString();return new mn(t)}getLength(){return this.value.length}equals(e){return this.value===e.value}valueOf(){return this.value}};ca.StringValue=mn;mn.ClassName="StringValue"});var cf=M(Sr=>{"use strict";f();var tM=Sr&&Sr.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),rM=Sr&&Sr.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),iM=Sr&&Sr.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&tM(e,r,t);return rM(e,r),e};Object.defineProperty(Sr,"__esModule",{value:!0});Sr.Tuple=Sr.TupleType=void 0;var nM=iM($e()),sM=fs(),TA=Mo(),oM=fs(),ji=class extends oM.StructType{constructor(...e){super(ji.prepareName(e),ji.prepareFieldDefinitions(e))}getClassName(){return ji.ClassName}static prepareName(e){let t=e.map(n=>n.toString()).join(", ");return`tuple${t.length}<${t}>`}static prepareFieldDefinitions(e){return e.map((i,n)=>new TA.FieldDefinition(NA(n),"anonymous tuple field",i))}};Sr.TupleType=ji;ji.ClassName="TupleType";function NA(r){return`field${r}`}var Ls=class extends sM.Struct{constructor(e,t){super(e,t)}getClassName(){return Ls.ClassName}static fromItems(e){if(e.length<1)throw new nM.ErrTypingSystem("bad tuple items");let t=e.map(s=>s.getType()),i=new ji(...t),n=e.map((s,o)=>new TA.Field(s,NA(o)));return new Ls(i,n)}};Sr.Tuple=Ls;Ls.ClassName="Tuple"});var OA=M(la=>{"use strict";f();Object.defineProperty(la,"__esModule",{value:!0});la.CodeMetadataValue=la.CodeMetadataType=void 0;var DA=Bt(),lf=class extends DA.PrimitiveType{constructor(){super("CodeMetadata")}};la.CodeMetadataType=lf;var yg=class extends DA.PrimitiveValue{constructor(e){super(new lf),this.value=e}equals(e){return this.value.equals(e.value)}valueOf(){return this.value}};la.CodeMetadataValue=yg});var ff=M(ha=>{"use strict";f();Object.defineProperty(ha,"__esModule",{value:!0});ha.NothingValue=ha.NothingType=void 0;var BA=Bt(),Fs=class extends BA.PrimitiveType{constructor(){super("nothing")}getClassName(){return Fs.ClassName}};ha.NothingType=Fs;Fs.ClassName="NothingType";var fa=class extends BA.PrimitiveValue{constructor(){super(new Fs)}getClassName(){return fa.ClassName}equals(e){return!1}valueOf(){return{}}};ha.NothingValue=fa;fa.ClassName="NothingValue"});var Ag=M(ui=>{"use strict";f();var aM=ui&&ui.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),uM=ui&&ui.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),cM=ui&&ui.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&aM(e,r,t);return uM(e,r),e};Object.defineProperty(ui,"__esModule",{value:!0});ui.TypeMapper=void 0;var MA=cM($e()),lM=qo(),fM=Ju(),hM=fn(),hf=tf(),mg=Yu(),PA=Xu(),dM=Zu(),Tr=ec(),RA=fs(),pM=Mo(),LA=ia(),wg=sf(),vg=of(),df=af(),gM=uf(),wn=cf(),yM=OA(),FA=ff(),Eg=class{constructor(e=[]){this.openTypesFactories=new Map([["Option",(...t)=>new PA.OptionType(t[0])],["List",(...t)=>new PA.ListType(t[0])],["VarArgs",(...t)=>new wg.VariadicType(t[0])],["MultiResultVec",(...t)=>new wg.VariadicType(t[0])],["variadic",(...t)=>new wg.VariadicType(t[0])],["OptionalArg",(...t)=>new vg.OptionalType(t[0])],["optional",(...t)=>new vg.OptionalType(t[0])],["OptionalResult",(...t)=>new vg.OptionalType(t[0])],["multi",(...t)=>new hf.CompositeType(...t)],["MultiArg",(...t)=>new hf.CompositeType(...t)],["MultiResult",(...t)=>new hf.CompositeType(...t)],["multi",(...t)=>new hf.CompositeType(...t)],["tuple",(...t)=>new wn.TupleType(...t)],["tuple2",(...t)=>new wn.TupleType(...t)],["tuple3",(...t)=>new wn.TupleType(...t)],["tuple4",(...t)=>new wn.TupleType(...t)],["tuple5",(...t)=>new wn.TupleType(...t)],["tuple6",(...t)=>new wn.TupleType(...t)],["tuple7",(...t)=>new wn.TupleType(...t)],["tuple8",(...t)=>new wn.TupleType(...t)],["array20",(...t)=>new df.ArrayVecType(20,t[0])],["array32",(...t)=>new df.ArrayVecType(32,t[0])],["array46",(...t)=>new df.ArrayVecType(46,t[0])],["array64",(...t)=>new df.ArrayVecType(64,t[0])]]),this.closedTypesMap=new Map([["u8",new Tr.U8Type],["u16",new Tr.U16Type],["u32",new Tr.U32Type],["u64",new Tr.U64Type],["U64",new Tr.U64Type],["BigUint",new Tr.BigUIntType],["i8",new Tr.I8Type],["i16",new Tr.I16Type],["i32",new Tr.I32Type],["i64",new Tr.I64Type],["Bigint",new Tr.BigIntType],["BigInt",new Tr.BigIntType],["bool",new fM.BooleanType],["bytes",new hM.BytesType],["Address",new lM.AddressType],["H256",new dM.H256Type],["utf-8 string",new gM.StringType],["TokenIdentifier",new LA.TokenIdentifierType],["EgldOrEsdtTokenIdentifier",new LA.TokenIdentifierType],["CodeMetadata",new yM.CodeMetadataType],["nothing",new FA.NothingType],["AsyncCall",new FA.NothingType]]),this.learnedTypesMap=new Map;for(let t of e)this.learnedTypesMap.set(t.getName(),t)}mapType(e){let t=this.mapRecursiveType(e);if(t)return t.isGenericType()||this.learnType(t),t;throw new MA.ErrTypingSystem(`Cannot map the type "${e.getName()}" to a known type`)}mapRecursiveType(e){let t=e.isGenericType(),i=this.learnedTypesMap.get(e.getName());if(i)return i;let n=this.closedTypesMap.get(e.getName());return n||(e.hasExactClass(mg.EnumType.ClassName)?this.mapEnumType(e):e.hasExactClass(RA.StructType.ClassName)?this.mapStructType(e):t?this.mapGenericType(e):null)}learnType(e){this.learnedTypesMap.delete(e.getName()),this.learnedTypesMap.set(e.getName(),e)}mapStructType(e){let t=this.mappedFields(e.getFieldsDefinitions());return new RA.StructType(e.getName(),t)}mapEnumType(e){let t=e.variants.map(n=>new mg.EnumVariantDefinition(n.name,n.discriminant,this.mappedFields(n.getFieldsDefinitions())));return new mg.EnumType(e.getName(),t)}mappedFields(e){return e.map(t=>new pM.FieldDefinition(t.name,t.description,this.mapType(t.type)))}mapGenericType(e){let i=e.getTypeParameters().map(s=>this.mapType(s)),n=this.openTypesFactories.get(e.getName());if(!n)throw new MA.ErrTypingSystem(`Cannot map the generic type "${e.getName()}" to a known type`);return n(...i)}};ui.TypeMapper=Eg});var jA=M(ci=>{"use strict";f();var mM=ci&&ci.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),wM=ci&&ci.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),vM=ci&&ci.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&mM(e,r,t);return wM(e,r),e};Object.defineProperty(ci,"__esModule",{value:!0});ci.AbiRegistry=void 0;var EM=vM($e()),Ig=xr(),UA=fs(),qA=fg(),VA=Yu(),HA=Ag(),_g=Xl(),da=class{constructor(){this.interfaces=[],this.customTypes=[]}static create(e){return new da().extend(e).remapToKnownTypes()}extend(e){e.types=e.types||{};let t=qA.ContractInterface.fromJSON(e);this.interfaces.push(t);for(let i in e.types){let n=e.types[i],s=n.type;n.name=i;let o=this.createCustomType(s,n);this.customTypes.push(o)}return this.sortCustomTypesByDependencies(),this}createCustomType(e,t){if(e=="struct")return UA.StructType.fromJSON(t);if(e=="enum")return VA.EnumType.fromJSON(t);throw new EM.ErrTypingSystem(`Unknown type discriminant: ${e}`)}sortCustomTypesByDependencies(){this.customTypes.sort((e,t)=>t.getNamesOfDependencies().indexOf(e.getName())>-1?-1:1)}getInterface(e){let t=this.interfaces.find(i=>i.name==e);return Ig.guardValueIsSetWithMessage(`interface [${e}] not found`,t),t}getInterfaces(e){return e.map(t=>this.getInterface(t))}getStruct(e){let t=this.customTypes.find(i=>i.getName()==e&&i.hasExactClass(UA.StructType.ClassName));return Ig.guardValueIsSetWithMessage(`struct [${e}] not found`,t),t}getStructs(e){return e.map(t=>this.getStruct(t))}getEnum(e){let t=this.customTypes.find(i=>i.getName()==e&&i.hasExactClass(VA.EnumType.ClassName));return Ig.guardValueIsSetWithMessage(`enum [${e}] not found`,t),t}getEnums(e){return e.map(t=>this.getEnum(t))}remapToKnownTypes(){let e=new HA.TypeMapper([]),t=[],i=[];for(let s of this.customTypes){let o=e.mapType(s);t.push(o)}e=new HA.TypeMapper(t);for(let s of this.interfaces){let o=[];for(let c of s.endpoints)o.push(QA(c,e));let a=s.constructorDefinition?QA(s.constructorDefinition,e):null;i.push(new qA.ContractInterface(s.name,a,o))}let n=new da;return n.customTypes.push(...t),n.interfaces.push(...i),n}};ci.AbiRegistry=da;function QA(r,e){let t=r.input.map(n=>new _g.EndpointParameterDefinition(n.name,n.description,e.mapType(n.type))),i=r.output.map(n=>new _g.EndpointParameterDefinition(n.name,n.description,e.mapType(n.type)));return new _g.EndpointDefinition(r.name,t,i,r.modifiers)}});var KA=M(pa=>{"use strict";f();Object.defineProperty(pa,"__esModule",{value:!0});pa.createListOfTokenIdentifiers=pa.createListOfAddresses=void 0;var AM=qo(),GA=Xu(),IM=ia();function _M(r){let e=r.map(i=>new AM.AddressValue(i));return GA.List.fromItems(e)}pa.createListOfAddresses=_M;function bM(r){let e=r.map(i=>new IM.TokenIdentifierValue(i));return GA.List.fromItems(e)}pa.createListOfTokenIdentifiers=bM});var sI=M(rr=>{"use strict";f();var CM=rr&&rr.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),xM=rr&&rr.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),SM=rr&&rr.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&CM(e,r,t);return xM(e,r),e};Object.defineProperty(rr,"__esModule",{value:!0});rr.onPrimitiveTypeSelect=rr.onPrimitiveValueSelect=rr.onTypedValueSelect=rr.onTypeSelect=void 0;var gf=SM($e()),zA=qo(),kA=Ju(),$A=fn(),WA=Yu(),pf=Xu(),YA=Zu(),JA=ec(),XA=ff(),ZA=fs(),eI=ia(),tI=cf(),rI=Bt(),iI=af(),nI=uf();function TM(r,e){if(r.hasExactClass(pf.OptionType.ClassName))return e.onOption();if(r.hasExactClass(pf.ListType.ClassName))return e.onList();if(r.hasExactClass(iI.ArrayVecType.ClassName))return e.onArray();if(r.hasClassOrSuperclass(rI.PrimitiveType.ClassName))return e.onPrimitive();if(r.hasExactClass(ZA.StructType.ClassName))return e.onStruct();if(r.hasExactClass(tI.TupleType.ClassName))return e.onTuple();if(r.hasExactClass(WA.EnumType.ClassName))return e.onEnum();if(e.onOther)return e.onOther();throw new gf.ErrTypingSystem(`type isn't known: ${r}`)}rr.onTypeSelect=TM;function NM(r,e){if(r.hasClassOrSuperclass(rI.PrimitiveValue.ClassName))return e.onPrimitive();if(r.hasExactClass(pf.OptionValue.ClassName))return e.onOption();if(r.hasExactClass(pf.List.ClassName))return e.onList();if(r.hasExactClass(iI.ArrayVec.ClassName))return e.onArray();if(r.hasExactClass(ZA.Struct.ClassName))return e.onStruct();if(r.hasExactClass(tI.Tuple.ClassName))return e.onTuple();if(r.hasExactClass(WA.EnumValue.ClassName))return e.onEnum();if(e.onOther)return e.onOther();throw new gf.ErrTypingSystem(`value isn't typed: ${r}`)}rr.onTypedValueSelect=NM;function DM(r,e){if(r.hasExactClass(kA.BooleanValue.ClassName))return e.onBoolean();if(r.hasClassOrSuperclass(JA.NumericalValue.ClassName))return e.onNumerical();if(r.hasExactClass(zA.AddressValue.ClassName))return e.onAddress();if(r.hasExactClass($A.BytesValue.ClassName))return e.onBytes();if(r.hasExactClass(nI.StringValue.ClassName))return e.onString();if(r.hasExactClass(YA.H256Value.ClassName))return e.onH256();if(r.hasExactClass(eI.TokenIdentifierValue.ClassName))return e.onTypeIdentifier();if(r.hasExactClass(XA.NothingValue.ClassName))return e.onNothing();if(e.onOther)return e.onOther();throw new gf.ErrTypingSystem(`value isn't a primitive: ${r.getType()}`)}rr.onPrimitiveValueSelect=DM;function OM(r,e){if(r.hasExactClass(kA.BooleanType.ClassName))return e.onBoolean();if(r.hasClassOrSuperclass(JA.NumericalType.ClassName))return e.onNumerical();if(r.hasExactClass(zA.AddressType.ClassName))return e.onAddress();if(r.hasExactClass($A.BytesType.ClassName))return e.onBytes();if(r.hasExactClass(nI.StringType.ClassName))return e.onString();if(r.hasExactClass(YA.H256Type.ClassName))return e.onH256();if(r.hasExactClass(eI.TokenIdentifierType.ClassName))return e.onTokenIndetifier();if(r.hasExactClass(XA.NothingType.ClassName))return e.onNothing();if(e.onOther)return e.onOther();throw new gf.ErrTypingSystem(`type isn't a known primitive: ${r}`)}rr.onPrimitiveTypeSelect=OM});var ir=M(Ue=>{"use strict";f();var BM=Ue&&Ue.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),We=Ue&&Ue.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&BM(e,r,t)};Object.defineProperty(Ue,"__esModule",{value:!0});We(jA(),Ue);We(qo(),Ue);We(of(),Ue);We(Ju(),Ue);We(fn(),Ue);We(tf(),Ue);We(fg(),Ue);We(Xl(),Ue);We(Yu(),Ue);We(KA(),Ue);We(Mo(),Ue);We(Xu(),Ue);We(af(),Ue);We(Zu(),Ue);We(sI(),Ue);We(ff(),Ue);We(ec(),Ue);We(uf(),Ue);We(fs(),Ue);We(cf(),Ue);We(ia(),Ue);We(Wl(),Ue);We(Ag(),Ue);We(Bt(),Ue);We(sf(),Ue)});var aI=M(li=>{"use strict";f();var MM=li&&li.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),PM=li&&li.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),RM=li&&li.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&MM(e,r,t);return PM(e,r),e};Object.defineProperty(li,"__esModule",{value:!0});li.OptionValueBinaryCodec=void 0;var oI=RM($e()),yf=ir(),bg=class{constructor(e){this.binaryCodec=e}decodeNested(e,t){if(e[0]==0)return[yf.OptionValue.newMissingTyped(t),1];if(e[0]!=1)throw new oI.ErrCodec("invalid buffer for optional value");let[i,n]=this.binaryCodec.decodeNested(e.slice(1),t);return[yf.OptionValue.newProvided(i),n+1]}decodeTopLevel(e,t){if(e.length==0)return new yf.OptionValue(t);if(e[0]!=1)throw new oI.ErrCodec("invalid buffer for optional value");let[i,n]=this.binaryCodec.decodeNested(e.slice(1),t);return new yf.OptionValue(t,i)}encodeNested(e){return e.isSet()?y.Buffer.concat([y.Buffer.from([1]),this.binaryCodec.encodeNested(e.getTypedValue())]):y.Buffer.from([0])}encodeTopLevel(e){return e.isSet()?y.Buffer.concat([y.Buffer.from([1]),this.binaryCodec.encodeNested(e.getTypedValue())]):y.Buffer.from([])}};li.OptionValueBinaryCodec=bg});var uI=M(mf=>{"use strict";f();Object.defineProperty(mf,"__esModule",{value:!0});mf.AddressBinaryCodec=void 0;var LM=Hr(),FM=ir(),Cg=class{decodeNested(e){let t=e.slice(0,32),i=new LM.Address(t);return[new FM.AddressValue(i),32]}decodeTopLevel(e){let[t,i]=this.decodeNested(e);return t}encodeNested(e){return e.valueOf().pubkey()}encodeTopLevel(e){return e.valueOf().pubkey()}};mf.AddressBinaryCodec=Cg});var lI=M(fi=>{"use strict";f();var UM=fi&&fi.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),qM=fi&&fi.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),VM=fi&&fi.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&UM(e,r,t);return qM(e,r),e};Object.defineProperty(fi,"__esModule",{value:!0});fi.BooleanBinaryCodec=void 0;var HM=VM($e()),cI=ir(),Qr=class{decodeNested(e){let t=e.readUInt8(0);return[new cI.BooleanValue(t==Qr.TRUE),1]}decodeTopLevel(e){if(e.length>1)throw new HM.ErrInvalidArgument("buffer should be of size <= 1");let t=e[0];return new cI.BooleanValue(t==Qr.TRUE)}encodeNested(e){return e.isTrue()?y.Buffer.from([Qr.TRUE]):y.Buffer.from([Qr.FALSE])}encodeTopLevel(e){return e.isTrue()?y.Buffer.from([Qr.TRUE]):y.Buffer.from([])}};fi.BooleanBinaryCodec=Qr;Qr.TRUE=1;Qr.FALSE=0});var hI=M(hi=>{"use strict";f();var QM=hi&&hi.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(hi,"__esModule",{value:!0});hi.zeroPadStringIfOddLength=hi.isPaddedHex=hi.numberToPaddedHex=void 0;var jM=QM(Vr());function GM(r){let e=new jM.default(r).toString(16);return fI(e)}hi.numberToPaddedHex=GM;function KM(r){r=r||"";let e=y.Buffer.from(r,"hex").toString("hex");return r.toUpperCase()==e.toUpperCase()}hi.isPaddedHex=KM;function fI(r){return r=r||"",r.length%2==1?"0"+r:r}hi.zeroPadStringIfOddLength=fI});var xg=M(Mt=>{"use strict";f();var zM=Mt&&Mt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Mt,"__esModule",{value:!0});Mt.prependByteToBuffer=Mt.flipBufferBitsInPlace=Mt.getHexMagnitudeOfBigInt=Mt.bigIntToBuffer=Mt.bufferToBigInt=Mt.cloneBuffer=Mt.isMsbZero=Mt.isMsbOne=void 0;var dI=zM(Vr()),kM=hI();function pI(r,e=0){return r[e]>>7==1}Mt.isMsbOne=pI;function $M(r,e=0){return!pI(r,e)}Mt.isMsbZero=$M;function WM(r){let e=y.Buffer.alloc(r.length);return r.copy(e),e}Mt.cloneBuffer=WM;function YM(r){let e=r.toString("hex");return new dI.default(`0x${e}`,16)}Mt.bufferToBigInt=YM;function JM(r){let e=gI(r);return y.Buffer.from(e,"hex")}Mt.bigIntToBuffer=JM;function gI(r){return r?(r.isNegative()&&(r=r.multipliedBy(new dI.default(-1))),kM.numberToPaddedHex(r)):""}Mt.getHexMagnitudeOfBigInt=gI;function XM(r){for(let e=0;e<r.length;e++)r[e]=~r[e]}Mt.flipBufferBitsInPlace=XM;function ZM(r,e){return y.Buffer.concat([y.Buffer.from([e]),r])}Mt.prependByteToBuffer=ZM});var vf=M(wf=>{"use strict";f();Object.defineProperty(wf,"__esModule",{value:!0});wf.SizeOfU32=void 0;wf.SizeOfU32=4});var mI=M(ga=>{"use strict";f();var eP=ga&&ga.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ga,"__esModule",{value:!0});ga.NumericalBinaryCodec=void 0;var Sg=ir(),ct=xg(),rc=eP(Vr()),yI=vf(),Tg=class{decodeNested(e,t){let i=0,n=t.sizeInBytes;n||(i=yI.SizeOfU32,n=e.readUInt32BE(0));let s=e.slice(i,i+n),o=this.decodeTopLevel(s,t),a=n+i;return[o,a]}decodeTopLevel(e,t){let i=ct.cloneBuffer(e);if(e.length==0)return new Sg.NumericalValue(t,new rc.default(0));if(!t.withSign||ct.isMsbZero(i)){let h=ct.bufferToBigInt(i);return new Sg.NumericalValue(t,h)}ct.flipBufferBitsInPlace(i);let c=ct.bufferToBigInt(i).multipliedBy(new rc.default(-1)).minus(new rc.default(1));return new Sg.NumericalValue(t,c)}encodeNested(e){if(e.sizeInBytes)return this.encodeNestedFixedSize(e,e.sizeInBytes);let t=this.encodeTopLevel(e),i=y.Buffer.alloc(yI.SizeOfU32);return i.writeUInt32BE(t.length),y.Buffer.concat([i,t])}encodeNestedFixedSize(e,t){if(e.value.isZero())return y.Buffer.alloc(t,0);if(!e.withSign){let o=ct.bigIntToBuffer(e.value),a=y.Buffer.alloc(t-o.length,0);return y.Buffer.concat([a,o])}if(e.value.isPositive()){let o=ct.bigIntToBuffer(e.value);ct.isMsbOne(o)&&(o=ct.prependByteToBuffer(o,0));let a=y.Buffer.alloc(t-o.length,0);return y.Buffer.concat([a,o])}let i=e.value.plus(new rc.default(1)),n=ct.bigIntToBuffer(i);ct.flipBufferBitsInPlace(n),ct.isMsbZero(n)&&(n=ct.prependByteToBuffer(n,255));let s=y.Buffer.alloc(t-n.length,255);return y.Buffer.concat([s,n])}encodeTopLevel(e){let t=e.withSign;return e.value.isZero()?y.Buffer.alloc(0):t?this.encodePrimitive(e):ct.bigIntToBuffer(e.value)}encodePrimitive(e){if(e.value.isPositive()){let n=ct.bigIntToBuffer(e.value);return ct.isMsbOne(n)&&(n=ct.prependByteToBuffer(n,0)),n}let t=e.value.plus(new rc.default(1)),i=ct.bigIntToBuffer(t);return ct.flipBufferBitsInPlace(i),ct.isMsbZero(i)&&(i=ct.prependByteToBuffer(i,255)),i}};ga.NumericalBinaryCodec=Tg});var wI=M(Ef=>{"use strict";f();Object.defineProperty(Ef,"__esModule",{value:!0});Ef.H256BinaryCodec=void 0;var tP=Zu(),Ng=class{decodeNested(e){let t=e.slice(0,32);return[new tP.H256Value(t),32]}decodeTopLevel(e){let[t,i]=this.decodeNested(e);return t}encodeNested(e){return e.valueOf()}encodeTopLevel(e){return e.valueOf()}};Ef.H256BinaryCodec=Ng});var _f=M(If=>{"use strict";f();Object.defineProperty(If,"__esModule",{value:!0});If.BytesBinaryCodec=void 0;var vI=fn(),Af=vf(),Dg=class{decodeNested(e){let t=e.readUInt32BE(0),i=e.slice(Af.SizeOfU32,Af.SizeOfU32+t);return[new vI.BytesValue(i),Af.SizeOfU32+t]}decodeTopLevel(e){return new vI.BytesValue(e)}encodeNested(e){let t=y.Buffer.alloc(Af.SizeOfU32);return t.writeUInt32BE(e.getLength()),y.Buffer.concat([t,e.valueOf()])}encodeTopLevel(e){return e.valueOf()}};If.BytesBinaryCodec=Dg});var AI=M(bf=>{"use strict";f();Object.defineProperty(bf,"__esModule",{value:!0});bf.TokenIdentifierCodec=void 0;var rP=fn(),EI=ia(),iP=_f(),Og=class{constructor(){this.bytesCodec=new iP.BytesBinaryCodec}decodeNested(e){let[t,i]=this.bytesCodec.decodeNested(e);return[new EI.TokenIdentifierValue(t.toString()),i]}decodeTopLevel(e){let t=this.bytesCodec.decodeTopLevel(e);return new EI.TokenIdentifierValue(t.toString())}encodeNested(e){let t=rP.BytesValue.fromUTF8(e.valueOf());return this.bytesCodec.encodeNested(t)}encodeTopLevel(e){return y.Buffer.from(e.valueOf())}};bf.TokenIdentifierCodec=Og});var _I=M(Cf=>{"use strict";f();Object.defineProperty(Cf,"__esModule",{value:!0});Cf.NothingCodec=void 0;var II=ir(),Bg=class{decodeNested(){return[new II.NothingValue,0]}decodeTopLevel(){return new II.NothingValue}encodeNested(){return y.Buffer.from([])}encodeTopLevel(){return y.Buffer.from([])}};Cf.NothingCodec=Bg});var CI=M(xf=>{"use strict";f();Object.defineProperty(xf,"__esModule",{value:!0});xf.StringBinaryCodec=void 0;var bI=ir(),nP=fn(),sP=_f(),Mg=class{constructor(){this.bytesBinaryCodec=new sP.BytesBinaryCodec}decodeNested(e){let[t,i]=this.bytesBinaryCodec.decodeNested(e);return[new bI.StringValue(t.valueOf().toString()),i]}decodeTopLevel(e){return new bI.StringValue(e.toString())}encodeNested(e){let t=nP.BytesValue.fromUTF8(e.valueOf());return this.bytesBinaryCodec.encodeNested(t)}encodeTopLevel(e){return y.Buffer.from(e.valueOf())}};xf.StringBinaryCodec=Mg});var xI=M(Tf=>{"use strict";f();Object.defineProperty(Tf,"__esModule",{value:!0});Tf.PrimitiveBinaryCodec=void 0;var Sf=ir(),oP=uI(),aP=lI(),uP=mI(),cP=wI(),lP=_f(),fP=AI(),hP=_I(),dP=CI(),Pg=class{constructor(e){this.binaryCodec=e,this.booleanCodec=new aP.BooleanBinaryCodec,this.numericalCodec=new uP.NumericalBinaryCodec,this.addressCodec=new oP.AddressBinaryCodec,this.h256Codec=new cP.H256BinaryCodec,this.bytesCodec=new lP.BytesBinaryCodec,this.stringCodec=new dP.StringBinaryCodec,this.tokenIdentifierCodec=new fP.TokenIdentifierCodec,this.nothingCodec=new hP.NothingCodec}decodeNested(e,t){return Sf.onPrimitiveTypeSelect(t,{onBoolean:()=>this.booleanCodec.decodeNested(e),onNumerical:()=>this.numericalCodec.decodeNested(e,t),onAddress:()=>this.addressCodec.decodeNested(e),onBytes:()=>this.bytesCodec.decodeNested(e),onString:()=>this.stringCodec.decodeNested(e),onH256:()=>this.h256Codec.decodeNested(e),onTokenIndetifier:()=>this.tokenIdentifierCodec.decodeNested(e),onNothing:()=>this.nothingCodec.decodeNested()})}decodeTopLevel(e,t){return Sf.onPrimitiveTypeSelect(t,{onBoolean:()=>this.booleanCodec.decodeTopLevel(e),onNumerical:()=>this.numericalCodec.decodeTopLevel(e,t),onAddress:()=>this.addressCodec.decodeTopLevel(e),onBytes:()=>this.bytesCodec.decodeTopLevel(e),onString:()=>this.stringCodec.decodeTopLevel(e),onH256:()=>this.h256Codec.decodeTopLevel(e),onTokenIndetifier:()=>this.tokenIdentifierCodec.decodeTopLevel(e),onNothing:()=>this.nothingCodec.decodeTopLevel()})}encodeNested(e){return Sf.onPrimitiveValueSelect(e,{onBoolean:()=>this.booleanCodec.encodeNested(e),onNumerical:()=>this.numericalCodec.encodeNested(e),onAddress:()=>this.addressCodec.encodeNested(e),onBytes:()=>this.bytesCodec.encodeNested(e),onString:()=>this.stringCodec.encodeNested(e),onH256:()=>this.h256Codec.encodeNested(e),onTypeIdentifier:()=>this.tokenIdentifierCodec.encodeNested(e),onNothing:()=>this.nothingCodec.encodeNested()})}encodeTopLevel(e){return Sf.onPrimitiveValueSelect(e,{onBoolean:()=>this.booleanCodec.encodeTopLevel(e),onNumerical:()=>this.numericalCodec.encodeTopLevel(e),onAddress:()=>this.addressCodec.encodeTopLevel(e),onBytes:()=>this.bytesCodec.encodeTopLevel(e),onString:()=>this.stringCodec.encodeTopLevel(e),onH256:()=>this.h256Codec.encodeTopLevel(e),onTypeIdentifier:()=>this.tokenIdentifierCodec.encodeTopLevel(e),onNothing:()=>this.nothingCodec.encodeTopLevel()})}};Tf.PrimitiveBinaryCodec=Pg});var NI=M(Nf=>{"use strict";f();Object.defineProperty(Nf,"__esModule",{value:!0});Nf.ListBinaryCodec=void 0;var SI=ir(),TI=vf(),Rg=class{constructor(e){this.binaryCodec=e}decodeNested(e,t){let i=t.getFirstTypeParameter(),n=[],s=e.readUInt32BE(0);this.binaryCodec.constraints.checkListLength(s);let o=e,a=TI.SizeOfU32;e=o.slice(a);for(let c=0;c<s;c++){let[h,p]=this.binaryCodec.decodeNested(e,i);n.push(h),a+=p,e=o.slice(a)}return[new SI.List(t,n),a]}decodeTopLevel(e,t){let i=t.getFirstTypeParameter(),n=[],s=e,o=0;for(;e.length>0;){let[a,c]=this.binaryCodec.decodeNested(e,i);n.push(a),o+=c,e=s.slice(o),this.binaryCodec.constraints.checkListLength(n.length)}return new SI.List(t,n)}encodeNested(e){this.binaryCodec.constraints.checkListLength(e.getLength());let t=y.Buffer.alloc(TI.SizeOfU32);t.writeUInt32BE(e.getLength());let i=[];for(let s of e.getItems()){let o=this.binaryCodec.encodeNested(s);i.push(o)}return y.Buffer.concat([t,...i])}encodeTopLevel(e){this.binaryCodec.constraints.checkListLength(e.getLength());let t=[];for(let n of e.getItems()){let s=this.binaryCodec.encodeNested(n);t.push(s)}return y.Buffer.concat(t)}};Nf.ListBinaryCodec=Rg});var Fg=M(Df=>{"use strict";f();Object.defineProperty(Df,"__esModule",{value:!0});Df.FieldsBinaryCodec=void 0;var pP=ir(),Lg=class{constructor(e){this.binaryCodec=e}decodeNested(e,t){let i=[],n=0;for(let s of t){let[o,a]=this.binaryCodec.decodeNested(e,s.type);e=e.slice(a),n+=a;let c=new pP.Field(o,s.name);i.push(c)}return[i,n]}encodeNested(e){let t=[];for(let i of e){let n=this.binaryCodec.encodeNested(i.value);t.push(n)}return y.Buffer.concat(t)}};Df.FieldsBinaryCodec=Lg});var qg=M(Of=>{"use strict";f();Object.defineProperty(Of,"__esModule",{value:!0});Of.StructBinaryCodec=void 0;var gP=ir(),yP=Fg(),Ug=class{constructor(e){this.fieldsCodec=new yP.FieldsBinaryCodec(e)}decodeTopLevel(e,t){let[i]=this.decodeNested(e,t);return i}decodeNested(e,t){let i=t.getFieldsDefinitions(),[n,s]=this.fieldsCodec.decodeNested(e,i);return[new gP.Struct(t,n),s]}encodeNested(e){let t=e.getFields();return this.fieldsCodec.encodeNested(t)}encodeTopLevel(e){return this.encodeNested(e)}};Of.StructBinaryCodec=Ug});var DI=M(Mf=>{"use strict";f();Object.defineProperty(Mf,"__esModule",{value:!0});Mf.EnumBinaryCodec=void 0;var Bf=ir(),mP=Fg(),Vg=class{constructor(e){this.binaryCodec=e,this.fieldsCodec=new mP.FieldsBinaryCodec(e)}decodeTopLevel(e,t){let[i]=this.decodeNested(e,t);return i}decodeNested(e,t){let[i,n]=this.readDiscriminant(e);e=e.slice(n);let s=t.getVariantByDiscriminant(i),o=s.getFieldsDefinitions(),[a,c]=this.fieldsCodec.decodeNested(e,o);return[new Bf.EnumValue(t,s,a),n+c]}readDiscriminant(e){let[t,i]=this.binaryCodec.decodeNested(e,new Bf.U8Type);return[t.valueOf(),i]}encodeNested(e){let t=new Bf.U8Value(e.discriminant),i=this.binaryCodec.encodeNested(t),n=e.getFields(),s=this.fieldsCodec.encodeNested(n);return y.Buffer.concat([i,s])}encodeTopLevel(e){let t=e.getFields(),i=t.length>0,n=this.fieldsCodec.encodeNested(t),s=new Bf.U8Value(e.discriminant),o=i?this.binaryCodec.encodeNested(s):this.binaryCodec.encodeTopLevel(s);return y.Buffer.concat([o,n])}};Mf.EnumBinaryCodec=Vg});var OI=M(Pf=>{"use strict";f();Object.defineProperty(Pf,"__esModule",{value:!0});Pf.TupleBinaryCodec=void 0;var wP=qg(),Hg=class{constructor(e){this.structCodec=new wP.StructBinaryCodec(e)}decodeTopLevel(e,t){return this.structCodec.decodeTopLevel(e,t)}decodeNested(e,t){return this.structCodec.decodeNested(e,t)}encodeNested(e){return this.structCodec.encodeNested(e)}encodeTopLevel(e){return this.structCodec.encodeTopLevel(e)}};Pf.TupleBinaryCodec=Hg});var BI=M(Rf=>{"use strict";f();Object.defineProperty(Rf,"__esModule",{value:!0});Rf.ArrayVecBinaryCodec=void 0;var vP=ir(),Qg=class{constructor(e){this.binaryCodec=e}decodeNested(e,t){let i=t.length,n=t.getFirstTypeParameter(),s=[],o=0;for(let a=0;a<i;a++){let[c,h]=this.binaryCodec.decodeNested(e,n);s.push(c),o+=h,e=e.slice(h)}return[new vP.ArrayVec(t,s),o]}decodeTopLevel(e,t){let[i,n]=this.decodeNested(e,t);return i}encodeNested(e){let t=[];for(let i of e.getItems()){let n=this.binaryCodec.encodeNested(i);t.push(n)}return y.Buffer.concat(t)}encodeTopLevel(e){return this.encodeNested(e)}};Rf.ArrayVecBinaryCodec=Qg});var Gg=M(Nr=>{"use strict";f();var EP=Nr&&Nr.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),AP=Nr&&Nr.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),IP=Nr&&Nr.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&EP(e,r,t);return AP(e,r),e};Object.defineProperty(Nr,"__esModule",{value:!0});Nr.BinaryCodecConstraints=Nr.BinaryCodec=void 0;var MI=IP($e()),Lf=ir(),PI=xr(),_P=aI(),bP=xI(),CP=NI(),xP=qg(),SP=DI(),TP=OI(),NP=BI(),jg=class{constructor(e=null){this.constraints=e||new Ff,this.optionCodec=new _P.OptionValueBinaryCodec(this),this.listCodec=new CP.ListBinaryCodec(this),this.arrayCodec=new NP.ArrayVecBinaryCodec(this),this.primitiveCodec=new bP.PrimitiveBinaryCodec(this),this.structCodec=new xP.StructBinaryCodec(this),this.tupleCodec=new TP.TupleBinaryCodec(this),this.enumCodec=new SP.EnumBinaryCodec(this)}decodeTopLevel(e,t){return this.constraints.checkBufferLength(e),Lf.onTypeSelect(t,{onOption:()=>this.optionCodec.decodeTopLevel(e,t.getFirstTypeParameter()),onList:()=>this.listCodec.decodeTopLevel(e,t),onArray:()=>this.arrayCodec.decodeTopLevel(e,t),onPrimitive:()=>this.primitiveCodec.decodeTopLevel(e,t),onStruct:()=>this.structCodec.decodeTopLevel(e,t),onTuple:()=>this.tupleCodec.decodeTopLevel(e,t),onEnum:()=>this.enumCodec.decodeTopLevel(e,t)})}decodeNested(e,t){this.constraints.checkBufferLength(e);let[i,n]=Lf.onTypeSelect(t,{onOption:()=>this.optionCodec.decodeNested(e,t.getFirstTypeParameter()),onList:()=>this.listCodec.decodeNested(e,t),onArray:()=>this.arrayCodec.decodeNested(e,t),onPrimitive:()=>this.primitiveCodec.decodeNested(e,t),onStruct:()=>this.structCodec.decodeNested(e,t),onTuple:()=>this.tupleCodec.decodeNested(e,t),onEnum:()=>this.enumCodec.decodeNested(e,t)});return[i,n]}encodeNested(e){return PI.guardTrue(e.getType().getCardinality().isSingular(),"singular cardinality, thus encodable type"),Lf.onTypedValueSelect(e,{onPrimitive:()=>this.primitiveCodec.encodeNested(e),onOption:()=>this.optionCodec.encodeNested(e),onList:()=>this.listCodec.encodeNested(e),onArray:()=>this.arrayCodec.encodeNested(e),onStruct:()=>this.structCodec.encodeNested(e),onTuple:()=>this.tupleCodec.encodeNested(e),onEnum:()=>this.enumCodec.encodeNested(e)})}encodeTopLevel(e){return PI.guardTrue(e.getType().getCardinality().isSingular(),"singular cardinality, thus encodable type"),Lf.onTypedValueSelect(e,{onPrimitive:()=>this.primitiveCodec.encodeTopLevel(e),onOption:()=>this.optionCodec.encodeTopLevel(e),onList:()=>this.listCodec.encodeTopLevel(e),onArray:()=>this.arrayCodec.encodeTopLevel(e),onStruct:()=>this.structCodec.encodeTopLevel(e),onTuple:()=>this.tupleCodec.encodeTopLevel(e),onEnum:()=>this.enumCodec.encodeTopLevel(e)})}};Nr.BinaryCodec=jg;var Ff=class{constructor(e){this.maxBufferLength=e?.maxBufferLength||40960,this.maxListLength=e?.maxListLength||8192}checkBufferLength(e){if(e.length>this.maxBufferLength)throw new MI.ErrCodec(`Buffer too large: ${e.length} > ${this.maxBufferLength}`)}checkListLength(e){if(e>this.maxListLength)throw new MI.ErrCodec(`List too large: ${e} > ${this.maxListLength}`)}};Nr.BinaryCodecConstraints=Ff});var RI=M(Dr=>{"use strict";f();var DP=Dr&&Dr.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Dr,"__esModule",{value:!0});Dr.decodeBigNumber=Dr.decodeString=Dr.decodeBool=Dr.decodeUnsignedNumber=void 0;var OP=DP(Vr()),Uf=ir(),BP=Gg(),qf=new BP.BinaryCodec;function MP(r){let e=qf.decodeTopLevel(r,new Uf.BigUIntType);return Number(e.valueOf())}Dr.decodeUnsignedNumber=MP;function PP(r){let e=qf.decodeTopLevel(r,new Uf.BooleanType);return Boolean(e.valueOf())}Dr.decodeBool=PP;function RP(r){let e=qf.decodeTopLevel(r,new Uf.BytesType);return String(e.valueOf())}Dr.decodeString=RP;function LP(r){let e=qf.decodeTopLevel(r,new Uf.BigUIntType);return new OP.default(e.valueOf())}Dr.decodeBigNumber=LP});var FI=M(vn=>{"use strict";f();var FP=vn&&vn.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),LI=vn&&vn.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&FP(e,r,t)};Object.defineProperty(vn,"__esModule",{value:!0});LI(Gg(),vn);LI(RI(),vn)});var Vf=M(En=>{"use strict";f();Object.defineProperty(En,"__esModule",{value:!0});En.ArgSerializer=En.ArgumentsSeparator=void 0;var UP=FI(),Kg=of(),zg=tf(),kg=sf();En.ArgumentsSeparator="@";var qP={codec:new UP.BinaryCodec},$g=class{constructor(e){e=Object.assign(Object.assign({},qP),e),this.codec=e.codec}stringToValues(e,t){let i=this.stringToBuffers(e);return this.buffersToValues(i,t)}stringToBuffers(e){return e.split(En.ArgumentsSeparator).map(t=>y.Buffer.from(t,"hex"))}buffersToValues(e,t){let i=this;e=e||[];let n=[],s=0,o=e.length;for(let p=0;p<t.length;p++){let D=t[p].type,O=a(D);n.push(O)}function a(p){if(p.hasExactClass(Kg.OptionalType.ClassName)){let A=a(p.getFirstTypeParameter());return new Kg.OptionalValue(p,A)}else if(p.hasExactClass(kg.VariadicType.ClassName)){let A=[];for(;!h();)A.push(a(p.getFirstTypeParameter()));return new kg.VariadicValue(p,A)}else if(p.hasExactClass(zg.CompositeType.ClassName)){let A=[];for(let D of p.getTypeParameters())A.push(a(D));return new zg.CompositeValue(p,A)}else return c(p)}function c(p){if(h())return null;let A=e[s++];return i.codec.decodeTopLevel(A,p)}function h(){return s>=o}return n}valuesToString(e){let t=this.valuesToStrings(e),i=t.join(En.ArgumentsSeparator),n=t.length;return{argumentsString:i,count:n}}valuesToStrings(e){return this.valuesToBuffers(e).map(n=>n.toString("hex"))}valuesToBuffers(e){let t=this,i=[];for(let s of e)n(s);function n(s){if(s.hasExactClass(Kg.OptionalValue.ClassName)){let o=s;o.isSet()&&n(o.getTypedValue())}else if(s.hasExactClass(kg.VariadicValue.ClassName)){let o=s;for(let a of o.getItems())n(a)}else if(s.hasExactClass(zg.CompositeValue.ClassName)){let o=s;for(let a of o.getItems())n(a)}else{let o=t.codec.encodeTopLevel(s);i.push(o)}}return i}};En.ArgSerializer=$g});var ty=M(jr=>{"use strict";f();Object.defineProperty(jr,"__esModule",{value:!0});jr.ContractCallPayloadBuilder=jr.ContractUpgradePayloadBuilder=jr.ContractDeployPayloadBuilder=jr.ArwenVirtualMachine=void 0;var Xg=ic(),Zg=xr(),VP=Vf();jr.ArwenVirtualMachine="0500";var Wg=class{constructor(){this.code=null,this.codeMetadata="",this.arguments=[]}setCode(e){return this.code=e,this}setCodeMetadata(e){return this.codeMetadata=e,this}addInitArg(e){return this.arguments.push(e),this}setInitArgs(e){return this.arguments=e,this}build(){Zg.guardValueIsSet("code",this.code);let e=this.code.toString(),t=this.codeMetadata.toString(),i=`${e}@${jr.ArwenVirtualMachine}@${t}`;return i=ey(i,this.arguments),new Xg.TransactionPayload(i)}};jr.ContractDeployPayloadBuilder=Wg;var Yg=class{constructor(){this.code=null,this.codeMetadata="",this.arguments=[]}setCode(e){return this.code=e,this}setCodeMetadata(e){return this.codeMetadata=e,this}addInitArg(e){return this.arguments.push(e),this}setInitArgs(e){return this.arguments=e,this}build(){Zg.guardValueIsSet("code",this.code);let e=this.code.toString(),t=this.codeMetadata.toString(),i=`upgradeContract@${e}@${t}`;return i=ey(i,this.arguments),new Xg.TransactionPayload(i)}};jr.ContractUpgradePayloadBuilder=Yg;var Jg=class{constructor(){this.contractFunction=null,this.arguments=[]}setFunction(e){return this.contractFunction=e,this}addArg(e){return this.arguments.push(e),this}setArgs(e){return this.arguments=e,this}build(){Zg.guardValueIsSet("calledFunction",this.contractFunction);let e=this.contractFunction.name;return e=ey(e,this.arguments),new Xg.TransactionPayload(e)}};jr.ContractCallPayloadBuilder=Jg;function ey(r,e){let{argumentsString:t,count:i}=new VP.ArgSerializer().valuesToString(e);return i==0?r:`${r}@${t}`}});var ic=M(Hf=>{"use strict";f();Object.defineProperty(Hf,"__esModule",{value:!0});Hf.TransactionPayload=void 0;var ry=ty(),ya=class{constructor(e){this.data=y.Buffer.from(e||[])}static fromEncoded(e){if(!e)return new ya("");let t=y.Buffer.from(e,"base64").toString();return new ya(t)}isEmpty(){return this.data.length==0}encoded(){return this.data.toString("base64")}valueOf(){return this.data}toString(){return this.data.toString()}getEncodedArguments(){return this.toString().split("@")}getRawArguments(){return this.getEncodedArguments().map(e=>y.Buffer.from(e,"hex"))}length(){return y.Buffer.from(this.data).length}static contractDeploy(){return new ry.ContractDeployPayloadBuilder}static contractUpgrade(){return new ry.ContractUpgradePayloadBuilder}static contractCall(){return new ry.ContractCallPayloadBuilder}};Hf.TransactionPayload=ya});var VI=M(An=>{"use strict";f();Object.defineProperty(An,"__esModule",{value:!0});An.MultiESDTNFTTransferPayloadBuilder=An.ESDTNFTTransferPayloadBuilder=An.ESDTTransferPayloadBuilder=void 0;var UI=Hr(),oy=Vf(),Gr=ir(),qI=Z0(),ay=ic(),iy=class{constructor(){this.payment=qI.TokenPayment.fungibleFromAmount("","0",0)}setPayment(e){return this.payment=e,this}build(){let e=[Gr.BytesValue.fromUTF8(this.payment.tokenIdentifier),new Gr.BigUIntValue(this.payment.valueOf())],{argumentsString:t}=new oy.ArgSerializer().valuesToString(e),i=`ESDTTransfer@${t}`;return new ay.TransactionPayload(i)}};An.ESDTTransferPayloadBuilder=iy;var ny=class{constructor(){this.payment=qI.TokenPayment.nonFungible("",0),this.destination=new UI.Address("")}setPayment(e){return this.payment=e,this}setDestination(e){return this.destination=e,this}build(){let e=[Gr.BytesValue.fromUTF8(this.payment.tokenIdentifier),new Gr.U64Value(this.payment.nonce),new Gr.BigUIntValue(this.payment.valueOf()),new Gr.AddressValue(this.destination)],{argumentsString:t}=new oy.ArgSerializer().valuesToString(e),i=`ESDTNFTTransfer@${t}`;return new ay.TransactionPayload(i)}};An.ESDTNFTTransferPayloadBuilder=ny;var sy=class{constructor(){this.payments=[],this.destination=new UI.Address("")}setPayments(e){return this.payments=e,this}setDestination(e){return this.destination=e,this}build(){let e=[new Gr.AddressValue(this.destination),new Gr.U16Value(this.payments.length)];for(let n of this.payments)e.push(Gr.BytesValue.fromUTF8(n.tokenIdentifier),new Gr.U64Value(n.nonce),new Gr.BigUIntValue(n.valueOf()));let{argumentsString:t}=new oy.ArgSerializer().valuesToString(e),i=`MultiESDTNFTTransfer@${t}`;return new ay.TransactionPayload(i)}};An.MultiESDTNFTTransferPayloadBuilder=sy});var jf=M(Qf=>{"use strict";f();Object.defineProperty(Qf,"__esModule",{value:!0});Qf.Account=void 0;var HP=Hr(),uy=class{constructor(e){this.address=new HP.Address,this.nonce=0,this.balance="0",this.address=e}update(e){this.nonce=e.nonce,this.balance=e.balance}incrementNonce(){this.nonce=this.nonce.valueOf()+1}getNonceThenIncrement(){let e=this.nonce;return this.nonce=this.nonce.valueOf()+1,e}toJSON(){return{address:this.address.bech32(),nonce:this.nonce.valueOf(),balance:this.balance.toString()}}};Qf.Account=uy});var Gf=M(st=>{"use strict";f();Object.defineProperty(st,"__esModule",{value:!0});st.ESDT_TRANSFER_VALUE=st.MULTI_ESDTNFT_TRANSFER_FUNCTION_NAME=st.ESDTNFT_TRANSFER_FUNCTION_NAME=st.ESDT_TRANSFER_FUNCTION_NAME=st.ESDT_TRANSFER_GAS_LIMIT=st.TRANSACTION_VERSION_TX_HASH_SIGN=st.TRANSACTION_VERSION_DEFAULT=st.TRANSACTION_OPTIONS_TX_HASH_SIGN=st.TRANSACTION_OPTIONS_DEFAULT=st.TRANSACTION_MIN_GAS_PRICE=void 0;st.TRANSACTION_MIN_GAS_PRICE=1e9;st.TRANSACTION_OPTIONS_DEFAULT=0;st.TRANSACTION_OPTIONS_TX_HASH_SIGN=1;st.TRANSACTION_VERSION_DEFAULT=1;st.TRANSACTION_VERSION_TX_HASH_SIGN=2;st.ESDT_TRANSFER_GAS_LIMIT=5e5;st.ESDT_TRANSFER_FUNCTION_NAME="ESDTTransfer";st.ESDTNFT_TRANSFER_FUNCTION_NAME="ESDTNFTTransfer";st.MULTI_ESDTNFT_TRANSFER_FUNCTION_NAME="MultiESDTNFTTransfer";st.ESDT_TRANSFER_VALUE="0"});var QI=M(Or=>{"use strict";f();var QP=Or&&Or.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),jP=Or&&Or.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),GP=Or&&Or.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&QP(e,r,t);return jP(e,r),e};Object.defineProperty(Or,"__esModule",{value:!0});Or.TransactionOptions=Or.TransactionVersion=void 0;var HI=GP($e()),Kf=Gf(),ma=class{constructor(e){if(e=Number(e),e<1)throw new HI.ErrTransactionVersionInvalid(e);this.value=e}static withDefaultVersion(){return new ma(Kf.TRANSACTION_VERSION_DEFAULT)}static withTxHashSignVersion(){return new ma(Kf.TRANSACTION_VERSION_TX_HASH_SIGN)}valueOf(){return this.value}};Or.TransactionVersion=ma;var wa=class{constructor(e){if(e=Number(e),e<0)throw new HI.ErrTransactionOptionsInvalid(e);this.value=e}static withDefaultOptions(){return new wa(Kf.TRANSACTION_OPTIONS_DEFAULT)}static withTxHashSignOptions(){return new wa(Kf.TRANSACTION_OPTIONS_TX_HASH_SIGN)}valueOf(){return this.value}};Or.TransactionOptions=wa});var KI=M(di=>{"use strict";f();var KP=di&&di.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),zP=di&&di.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),kP=di&&di.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&KP(e,r,t);return zP(e,r),e};Object.defineProperty(di,"__esModule",{value:!0});di.Signature=void 0;var jI=kP($e()),GI=64,Kr=class{constructor(e){if(this.valueHex="",!!e){if(typeof e=="string")return Kr.fromHex(e);if(e instanceof y.Buffer)return Kr.fromBuffer(e)}}static empty(){return new Kr}static fromHex(e){if(e.startsWith("0x")&&(e=e.slice(2)),!Kr.isValidHex(e))throw new jI.ErrSignatureCannotCreate(e);return Kr.fromValidHex(e)}static isValidHex(e){return y.Buffer.from(e,"hex").length==GI}static fromValidHex(e){let t=new Kr;return t.valueHex=e,t}static fromBuffer(e){if(e.length!=GI)throw new jI.ErrSignatureCannotCreate(e);return Kr.fromValidHex(e.toString("hex"))}hex(){return this.valueHex}};di.Signature=Kr});var kI=M((m$,zI)=>{"use strict";f();zI.exports=$P;function $P(r,e){for(var t=new Array(arguments.length-1),i=0,n=2,s=!0;n<arguments.length;)t[i++]=arguments[n++];return new Promise(function(a,c){t[i]=function(p){if(s)if(s=!1,p)c(p);else{for(var A=new Array(arguments.length-1),D=0;D<A.length;)A[D++]=arguments[D];a.apply(null,A)}};try{r.apply(e||null,t)}catch(h){s&&(s=!1,c(h))}})}});var JI=M(YI=>{"use strict";f();var zf=YI;zf.length=function(e){var t=e.length;if(!t)return 0;for(var i=0;--t%4>1&&e.charAt(t)==="=";)++i;return Math.ceil(e.length*3)/4-i};var va=new Array(64),WI=new Array(123);for(zr=0;zr<64;)WI[va[zr]=zr<26?zr+65:zr<52?zr+71:zr<62?zr-4:zr-59|43]=zr++;var zr;zf.encode=function(e,t,i){for(var n=null,s=[],o=0,a=0,c;t<i;){var h=e[t++];switch(a){case 0:s[o++]=va[h>>2],c=(h&3)<<4,a=1;break;case 1:s[o++]=va[c|h>>4],c=(h&15)<<2,a=2;break;case 2:s[o++]=va[c|h>>6],s[o++]=va[h&63],a=0;break}o>8191&&((n||(n=[])).push(String.fromCharCode.apply(String,s)),o=0)}return a&&(s[o++]=va[c],s[o++]=61,a===1&&(s[o++]=61)),n?(o&&n.push(String.fromCharCode.apply(String,s.slice(0,o))),n.join("")):String.fromCharCode.apply(String,s.slice(0,o))};var $I="invalid encoding";zf.decode=function(e,t,i){for(var n=i,s=0,o,a=0;a<e.length;){var c=e.charCodeAt(a++);if(c===61&&s>1)break;if((c=WI[c])===void 0)throw Error($I);switch(s){case 0:o=c,s=1;break;case 1:t[i++]=o<<2|(c&48)>>4,o=c,s=2;break;case 2:t[i++]=(o&15)<<4|(c&60)>>2,o=c,s=3;break;case 3:t[i++]=(o&3)<<6|c,s=0;break}}if(s===1)throw Error($I);return i-n};zf.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}});var ZI=M((A$,XI)=>{"use strict";f();XI.exports=kf;function kf(){this._listeners={}}kf.prototype.on=function(e,t,i){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:i||this}),this};kf.prototype.off=function(e,t){if(e===void 0)this._listeners={};else if(t===void 0)this._listeners[e]=[];else for(var i=this._listeners[e],n=0;n<i.length;)i[n].fn===t?i.splice(n,1):++n;return this};kf.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var i=[],n=1;n<arguments.length;)i.push(arguments[n++]);for(n=0;n<t.length;)t[n].fn.apply(t[n++].ctx,i)}return this}});var o_=M((_$,s_)=>{"use strict";f();s_.exports=e_(e_);function e_(r){return typeof Float32Array<"u"?function(){var e=new Float32Array([-0]),t=new Uint8Array(e.buffer),i=t[3]===128;function n(c,h,p){e[0]=c,h[p]=t[0],h[p+1]=t[1],h[p+2]=t[2],h[p+3]=t[3]}function s(c,h,p){e[0]=c,h[p]=t[3],h[p+1]=t[2],h[p+2]=t[1],h[p+3]=t[0]}r.writeFloatLE=i?n:s,r.writeFloatBE=i?s:n;function o(c,h){return t[0]=c[h],t[1]=c[h+1],t[2]=c[h+2],t[3]=c[h+3],e[0]}function a(c,h){return t[3]=c[h],t[2]=c[h+1],t[1]=c[h+2],t[0]=c[h+3],e[0]}r.readFloatLE=i?o:a,r.readFloatBE=i?a:o}():function(){function e(i,n,s,o){var a=n<0?1:0;if(a&&(n=-n),n===0)i(1/n>0?0:2147483648,s,o);else if(isNaN(n))i(2143289344,s,o);else if(n>34028234663852886e22)i((a<<31|2139095040)>>>0,s,o);else if(n<11754943508222875e-54)i((a<<31|Math.round(n/1401298464324817e-60))>>>0,s,o);else{var c=Math.floor(Math.log(n)/Math.LN2),h=Math.round(n*Math.pow(2,-c)*8388608)&8388607;i((a<<31|c+127<<23|h)>>>0,s,o)}}r.writeFloatLE=e.bind(null,t_),r.writeFloatBE=e.bind(null,r_);function t(i,n,s){var o=i(n,s),a=(o>>31)*2+1,c=o>>>23&255,h=o&8388607;return c===255?h?NaN:a*(1/0):c===0?a*1401298464324817e-60*h:a*Math.pow(2,c-150)*(h+8388608)}r.readFloatLE=t.bind(null,i_),r.readFloatBE=t.bind(null,n_)}(),typeof Float64Array<"u"?function(){var e=new Float64Array([-0]),t=new Uint8Array(e.buffer),i=t[7]===128;function n(c,h,p){e[0]=c,h[p]=t[0],h[p+1]=t[1],h[p+2]=t[2],h[p+3]=t[3],h[p+4]=t[4],h[p+5]=t[5],h[p+6]=t[6],h[p+7]=t[7]}function s(c,h,p){e[0]=c,h[p]=t[7],h[p+1]=t[6],h[p+2]=t[5],h[p+3]=t[4],h[p+4]=t[3],h[p+5]=t[2],h[p+6]=t[1],h[p+7]=t[0]}r.writeDoubleLE=i?n:s,r.writeDoubleBE=i?s:n;function o(c,h){return t[0]=c[h],t[1]=c[h+1],t[2]=c[h+2],t[3]=c[h+3],t[4]=c[h+4],t[5]=c[h+5],t[6]=c[h+6],t[7]=c[h+7],e[0]}function a(c,h){return t[7]=c[h],t[6]=c[h+1],t[5]=c[h+2],t[4]=c[h+3],t[3]=c[h+4],t[2]=c[h+5],t[1]=c[h+6],t[0]=c[h+7],e[0]}r.readDoubleLE=i?o:a,r.readDoubleBE=i?a:o}():function(){function e(i,n,s,o,a,c){var h=o<0?1:0;if(h&&(o=-o),o===0)i(0,a,c+n),i(1/o>0?0:2147483648,a,c+s);else if(isNaN(o))i(0,a,c+n),i(2146959360,a,c+s);else if(o>17976931348623157e292)i(0,a,c+n),i((h<<31|2146435072)>>>0,a,c+s);else{var p;if(o<22250738585072014e-324)p=o/5e-324,i(p>>>0,a,c+n),i((h<<31|p/4294967296)>>>0,a,c+s);else{var A=Math.floor(Math.log(o)/Math.LN2);A===1024&&(A=1023),p=o*Math.pow(2,-A),i(p*4503599627370496>>>0,a,c+n),i((h<<31|A+1023<<20|p*1048576&1048575)>>>0,a,c+s)}}}r.writeDoubleLE=e.bind(null,t_,0,4),r.writeDoubleBE=e.bind(null,r_,4,0);function t(i,n,s,o,a){var c=i(o,a+n),h=i(o,a+s),p=(h>>31)*2+1,A=h>>>20&2047,D=4294967296*(h&1048575)+c;return A===2047?D?NaN:p*(1/0):A===0?p*5e-324*D:p*Math.pow(2,A-1075)*(D+4503599627370496)}r.readDoubleLE=t.bind(null,i_,0,4),r.readDoubleBE=t.bind(null,n_,4,0)}(),r}function t_(r,e,t){e[t]=r&255,e[t+1]=r>>>8&255,e[t+2]=r>>>16&255,e[t+3]=r>>>24}function r_(r,e,t){e[t]=r>>>24,e[t+1]=r>>>16&255,e[t+2]=r>>>8&255,e[t+3]=r&255}function i_(r,e){return(r[e]|r[e+1]<<8|r[e+2]<<16|r[e+3]<<24)>>>0}function n_(r,e){return(r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3])>>>0}});var a_=M((exports,module)=>{"use strict";f();module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(r){}return null}});var c_=M(u_=>{"use strict";f();var cy=u_;cy.length=function(e){for(var t=0,i=0,n=0;n<e.length;++n)i=e.charCodeAt(n),i<128?t+=1:i<2048?t+=2:(i&64512)===55296&&(e.charCodeAt(n+1)&64512)===56320?(++n,t+=4):t+=3;return t};cy.read=function(e,t,i){var n=i-t;if(n<1)return"";for(var s=null,o=[],a=0,c;t<i;)c=e[t++],c<128?o[a++]=c:c>191&&c<224?o[a++]=(c&31)<<6|e[t++]&63:c>239&&c<365?(c=((c&7)<<18|(e[t++]&63)<<12|(e[t++]&63)<<6|e[t++]&63)-65536,o[a++]=55296+(c>>10),o[a++]=56320+(c&1023)):o[a++]=(c&15)<<12|(e[t++]&63)<<6|e[t++]&63,a>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,o)),a=0);return s?(a&&s.push(String.fromCharCode.apply(String,o.slice(0,a))),s.join("")):String.fromCharCode.apply(String,o.slice(0,a))};cy.write=function(e,t,i){for(var n=i,s,o,a=0;a<e.length;++a)s=e.charCodeAt(a),s<128?t[i++]=s:s<2048?(t[i++]=s>>6|192,t[i++]=s&63|128):(s&64512)===55296&&((o=e.charCodeAt(a+1))&64512)===56320?(s=65536+((s&1023)<<10)+(o&1023),++a,t[i++]=s>>18|240,t[i++]=s>>12&63|128,t[i++]=s>>6&63|128,t[i++]=s&63|128):(t[i++]=s>>12|224,t[i++]=s>>6&63|128,t[i++]=s&63|128);return i-n}});var f_=M((T$,l_)=>{"use strict";f();l_.exports=WP;function WP(r,e,t){var i=t||8192,n=i>>>1,s=null,o=i;return function(c){if(c<1||c>n)return r(c);o+c>i&&(s=r(i),o=0);var h=e.call(s,o,o+=c);return o&7&&(o=(o|7)+1),h}}});var d_=M((D$,h_)=>{"use strict";f();h_.exports=Gt;var nc=_n();function Gt(r,e){this.lo=r>>>0,this.hi=e>>>0}var Us=Gt.zero=new Gt(0,0);Us.toNumber=function(){return 0};Us.zzEncode=Us.zzDecode=function(){return this};Us.length=function(){return 1};var YP=Gt.zeroHash="\0\0\0\0\0\0\0\0";Gt.fromNumber=function(e){if(e===0)return Us;var t=e<0;t&&(e=-e);var i=e>>>0,n=(e-i)/4294967296>>>0;return t&&(n=~n>>>0,i=~i>>>0,++i>4294967295&&(i=0,++n>4294967295&&(n=0))),new Gt(i,n)};Gt.from=function(e){if(typeof e=="number")return Gt.fromNumber(e);if(nc.isString(e))if(nc.Long)e=nc.Long.fromString(e);else return Gt.fromNumber(parseInt(e,10));return e.low||e.high?new Gt(e.low>>>0,e.high>>>0):Us};Gt.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=~this.lo+1>>>0,i=~this.hi>>>0;return t||(i=i+1>>>0),-(t+i*4294967296)}return this.lo+this.hi*4294967296};Gt.prototype.toLong=function(e){return nc.Long?new nc.Long(this.lo|0,this.hi|0,Boolean(e)):{low:this.lo|0,high:this.hi|0,unsigned:Boolean(e)}};var In=String.prototype.charCodeAt;Gt.fromHash=function(e){return e===YP?Us:new Gt((In.call(e,0)|In.call(e,1)<<8|In.call(e,2)<<16|In.call(e,3)<<24)>>>0,(In.call(e,4)|In.call(e,5)<<8|In.call(e,6)<<16|In.call(e,7)<<24)>>>0)};Gt.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};Gt.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this};Gt.prototype.zzDecode=function(){var e=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this};Gt.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,i=this.hi>>>24;return i===0?t===0?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:i<128?9:10}});var _n=M(ly=>{"use strict";f();var me=ly;me.asPromise=kI();me.base64=JI();me.EventEmitter=ZI();me.float=o_();me.inquire=a_();me.utf8=c_();me.pool=f_();me.LongBits=d_();me.isNode=Boolean(typeof global<"u"&&global&&global.process&&global.process.versions&&global.process.versions.node);me.global=me.isNode&&global||typeof window<"u"&&window||typeof self<"u"&&self||ly;me.emptyArray=Object.freeze?Object.freeze([]):[];me.emptyObject=Object.freeze?Object.freeze({}):{};me.isInteger=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};me.isString=function(e){return typeof e=="string"||e instanceof String};me.isObject=function(e){return e&&typeof e=="object"};me.isset=me.isSet=function(e,t){var i=e[t];return i!=null&&e.hasOwnProperty(t)?typeof i!="object"||(Array.isArray(i)?i.length:Object.keys(i).length)>0:!1};me.Buffer=function(){try{var r=me.inquire("buffer").Buffer;return r.prototype.utf8Write?r:null}catch{return null}}();me._Buffer_from=null;me._Buffer_allocUnsafe=null;me.newBuffer=function(e){return typeof e=="number"?me.Buffer?me._Buffer_allocUnsafe(e):new me.Array(e):me.Buffer?me._Buffer_from(e):typeof Uint8Array>"u"?e:new Uint8Array(e)};me.Array=typeof Uint8Array<"u"?Uint8Array:Array;me.Long=me.global.dcodeIO&&me.global.dcodeIO.Long||me.global.Long||me.inquire("long");me.key2Re=/^true|false|0|1$/;me.key32Re=/^-?(?:0|[1-9][0-9]*)$/;me.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;me.longToHash=function(e){return e?me.LongBits.from(e).toHash():me.LongBits.zeroHash};me.longFromHash=function(e,t){var i=me.LongBits.fromHash(e);return me.Long?me.Long.fromBits(i.lo,i.hi,t):i.toNumber(Boolean(t))};function p_(r,e,t){for(var i=Object.keys(e),n=0;n<i.length;++n)(r[i[n]]===void 0||!t)&&(r[i[n]]=e[i[n]]);return r}me.merge=p_;me.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)};function g_(r){function e(t,i){if(!(this instanceof e))return new e(t,i);Object.defineProperty(this,"message",{get:function(){return t}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:new Error().stack||""}),i&&p_(this,i)}return(e.prototype=Object.create(Error.prototype)).constructor=e,Object.defineProperty(e.prototype,"name",{get:function(){return r}}),e.prototype.toString=function(){return this.name+": "+this.message},e}me.newError=g_;me.ProtocolError=g_("ProtocolError");me.oneOfGetter=function(e){for(var t={},i=0;i<e.length;++i)t[e[i]]=1;return function(){for(var n=Object.keys(this),s=n.length-1;s>-1;--s)if(t[n[s]]===1&&this[n[s]]!==void 0&&this[n[s]]!==null)return n[s]}};me.oneOfSetter=function(e){return function(t){for(var i=0;i<e.length;++i)e[i]!==t&&delete this[e[i]]}};me.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};me._configure=function(){var r=me.Buffer;if(!r){me._Buffer_from=me._Buffer_allocUnsafe=null;return}me._Buffer_from=r.from!==Uint8Array.from&&r.from||function(t,i){return new r(t,i)},me._Buffer_allocUnsafe=r.allocUnsafe||function(t){return new r(t)}}});var my=M((P$,v_)=>{"use strict";f();v_.exports=Fe;var Br=_n(),fy,$f=Br.LongBits,y_=Br.base64,m_=Br.utf8;function sc(r,e,t){this.fn=r,this.len=e,this.next=void 0,this.val=t}function dy(){}function JP(r){this.head=r.head,this.tail=r.tail,this.len=r.len,this.next=r.states}function Fe(){this.len=0,this.head=new sc(dy,0,0),this.tail=this.head,this.states=null}var w_=function(){return Br.Buffer?function(){return(Fe.create=function(){return new fy})()}:function(){return new Fe}};Fe.create=w_();Fe.alloc=function(e){return new Br.Array(e)};Br.Array!==Array&&(Fe.alloc=Br.pool(Fe.alloc,Br.Array.prototype.subarray));Fe.prototype._push=function(e,t,i){return this.tail=this.tail.next=new sc(e,t,i),this.len+=t,this};function py(r,e,t){e[t]=r&255}function XP(r,e,t){for(;r>127;)e[t++]=r&127|128,r>>>=7;e[t]=r}function gy(r,e){this.len=r,this.next=void 0,this.val=e}gy.prototype=Object.create(sc.prototype);gy.prototype.fn=XP;Fe.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new gy((e=e>>>0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this};Fe.prototype.int32=function(e){return e<0?this._push(yy,10,$f.fromNumber(e)):this.uint32(e)};Fe.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)};function yy(r,e,t){for(;r.hi;)e[t++]=r.lo&127|128,r.lo=(r.lo>>>7|r.hi<<25)>>>0,r.hi>>>=7;for(;r.lo>127;)e[t++]=r.lo&127|128,r.lo=r.lo>>>7;e[t++]=r.lo}Fe.prototype.uint64=function(e){var t=$f.from(e);return this._push(yy,t.length(),t)};Fe.prototype.int64=Fe.prototype.uint64;Fe.prototype.sint64=function(e){var t=$f.from(e).zzEncode();return this._push(yy,t.length(),t)};Fe.prototype.bool=function(e){return this._push(py,1,e?1:0)};function hy(r,e,t){e[t]=r&255,e[t+1]=r>>>8&255,e[t+2]=r>>>16&255,e[t+3]=r>>>24}Fe.prototype.fixed32=function(e){return this._push(hy,4,e>>>0)};Fe.prototype.sfixed32=Fe.prototype.fixed32;Fe.prototype.fixed64=function(e){var t=$f.from(e);return this._push(hy,4,t.lo)._push(hy,4,t.hi)};Fe.prototype.sfixed64=Fe.prototype.fixed64;Fe.prototype.float=function(e){return this._push(Br.float.writeFloatLE,4,e)};Fe.prototype.double=function(e){return this._push(Br.float.writeDoubleLE,8,e)};var ZP=Br.Array.prototype.set?function(e,t,i){t.set(e,i)}:function(e,t,i){for(var n=0;n<e.length;++n)t[i+n]=e[n]};Fe.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(py,1,0);if(Br.isString(e)){var i=Fe.alloc(t=y_.length(e));y_.decode(e,i,0),e=i}return this.uint32(t)._push(ZP,t,e)};Fe.prototype.string=function(e){var t=m_.length(e);return t?this.uint32(t)._push(m_.write,t,e):this._push(py,1,0)};Fe.prototype.fork=function(){return this.states=new JP(this),this.head=this.tail=new sc(dy,0,0),this.len=0,this};Fe.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new sc(dy,0,0),this.len=0),this};Fe.prototype.ldelim=function(){var e=this.head,t=this.tail,i=this.len;return this.reset().uint32(i),i&&(this.tail.next=e.next,this.tail=t,this.len+=i),this};Fe.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),i=0;e;)e.fn(e.val,t,i),i+=e.len,e=e.next;return t};Fe._configure=function(r){fy=r,Fe.create=w_(),fy._configure()}});var I_=M((L$,A_)=>{"use strict";f();A_.exports=pi;var E_=my();(pi.prototype=Object.create(E_.prototype)).constructor=pi;var bn=_n();function pi(){E_.call(this)}pi._configure=function(){pi.alloc=bn._Buffer_allocUnsafe,pi.writeBytesBuffer=bn.Buffer&&bn.Buffer.prototype instanceof Uint8Array&&bn.Buffer.prototype.set.name==="set"?function(e,t,i){t.set(e,i)}:function(e,t,i){if(e.copy)e.copy(t,i,0,e.length);else for(var n=0;n<e.length;)t[i++]=e[n++]}};pi.prototype.bytes=function(e){bn.isString(e)&&(e=bn._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(pi.writeBytesBuffer,t,e),this};function e5(r,e,t){r.length<40?bn.utf8.write(r,e,t):e.utf8Write?e.utf8Write(r,t):e.write(r,t)}pi.prototype.string=function(e){var t=bn.Buffer.byteLength(e);return this.uint32(t),t&&this._push(e5,t,e),this};pi._configure()});var Ey=M((U$,S_)=>{"use strict";f();S_.exports=lt;var gi=_n(),vy,C_=gi.LongBits,t5=gi.utf8;function kr(r,e){return RangeError("index out of range: "+r.pos+" + "+(e||1)+" > "+r.len)}function lt(r){this.buf=r,this.pos=0,this.len=r.length}var __=typeof Uint8Array<"u"?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new lt(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new lt(e);throw Error("illegal buffer")},x_=function(){return gi.Buffer?function(t){return(lt.create=function(n){return gi.Buffer.isBuffer(n)?new vy(n):__(n)})(t)}:__};lt.create=x_();lt.prototype._slice=gi.Array.prototype.subarray||gi.Array.prototype.slice;lt.prototype.uint32=function(){var e=4294967295;return function(){if(e=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(e=(e|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,kr(this,10);return e}}();lt.prototype.int32=function(){return this.uint32()|0};lt.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(e&1)|0};function wy(){var r=new C_(0,0),e=0;if(this.len-this.pos>4){for(;e<4;++e)if(r.lo=(r.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return r;if(r.lo=(r.lo|(this.buf[this.pos]&127)<<28)>>>0,r.hi=(r.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return r;e=0}else{for(;e<3;++e){if(this.pos>=this.len)throw kr(this);if(r.lo=(r.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return r}return r.lo=(r.lo|(this.buf[this.pos++]&127)<<e*7)>>>0,r}if(this.len-this.pos>4){for(;e<5;++e)if(r.hi=(r.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return r}else for(;e<5;++e){if(this.pos>=this.len)throw kr(this);if(r.hi=(r.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return r}throw Error("invalid varint encoding")}lt.prototype.bool=function(){return this.uint32()!==0};function Wf(r,e){return(r[e-4]|r[e-3]<<8|r[e-2]<<16|r[e-1]<<24)>>>0}lt.prototype.fixed32=function(){if(this.pos+4>this.len)throw kr(this,4);return Wf(this.buf,this.pos+=4)};lt.prototype.sfixed32=function(){if(this.pos+4>this.len)throw kr(this,4);return Wf(this.buf,this.pos+=4)|0};function b_(){if(this.pos+8>this.len)throw kr(this,8);return new C_(Wf(this.buf,this.pos+=4),Wf(this.buf,this.pos+=4))}lt.prototype.float=function(){if(this.pos+4>this.len)throw kr(this,4);var e=gi.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e};lt.prototype.double=function(){if(this.pos+8>this.len)throw kr(this,4);var e=gi.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e};lt.prototype.bytes=function(){var e=this.uint32(),t=this.pos,i=this.pos+e;if(i>this.len)throw kr(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,i):t===i?new this.buf.constructor(0):this._slice.call(this.buf,t,i)};lt.prototype.string=function(){var e=this.bytes();return t5.read(e,0,e.length)};lt.prototype.skip=function(e){if(typeof e=="number"){if(this.pos+e>this.len)throw kr(this,e);this.pos+=e}else do if(this.pos>=this.len)throw kr(this);while(this.buf[this.pos++]&128);return this};lt.prototype.skipType=function(r){switch(r){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(r=this.uint32()&7)!==4;)this.skipType(r);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+r+" at offset "+this.pos)}return this};lt._configure=function(r){vy=r,lt.create=x_(),vy._configure();var e=gi.Long?"toLong":"toNumber";gi.merge(lt.prototype,{int64:function(){return wy.call(this)[e](!1)},uint64:function(){return wy.call(this)[e](!0)},sint64:function(){return wy.call(this).zzDecode()[e](!1)},fixed64:function(){return b_.call(this)[e](!0)},sfixed64:function(){return b_.call(this)[e](!1)}})}});var O_=M((V$,D_)=>{"use strict";f();D_.exports=qs;var N_=Ey();(qs.prototype=Object.create(N_.prototype)).constructor=qs;var T_=_n();function qs(r){N_.call(this,r)}qs._configure=function(){T_.Buffer&&(qs.prototype._slice=T_.Buffer.prototype.slice)};qs.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))};qs._configure()});var M_=M((Q$,B_)=>{"use strict";f();B_.exports=oc;var Ay=_n();(oc.prototype=Object.create(Ay.EventEmitter.prototype)).constructor=oc;function oc(r,e,t){if(typeof r!="function")throw TypeError("rpcImpl must be a function");Ay.EventEmitter.call(this),this.rpcImpl=r,this.requestDelimited=Boolean(e),this.responseDelimited=Boolean(t)}oc.prototype.rpcCall=function r(e,t,i,n,s){if(!n)throw TypeError("request must be specified");var o=this;if(!s)return Ay.asPromise(r,o,e,t,i,n);if(!o.rpcImpl){setTimeout(function(){s(Error("already ended"))},0);return}try{return o.rpcImpl(e,t[o.requestDelimited?"encodeDelimited":"encode"](n).finish(),function(c,h){if(c)return o.emit("error",c,e),s(c);if(h===null){o.end(!0);return}if(!(h instanceof i))try{h=i[o.responseDelimited?"decodeDelimited":"decode"](h)}catch(p){return o.emit("error",p,e),s(p)}return o.emit("data",h,e),s(null,h)})}catch(a){o.emit("error",a,e),setTimeout(function(){s(a)},0);return}};oc.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}});var R_=M(P_=>{"use strict";f();var r5=P_;r5.Service=M_()});var F_=M((z$,L_)=>{"use strict";f();L_.exports={}});var V_=M(q_=>{"use strict";f();var dr=q_;dr.build="minimal";dr.Writer=my();dr.BufferWriter=I_();dr.Reader=Ey();dr.BufferReader=O_();dr.util=_n();dr.rpc=R_();dr.roots=F_();dr.configure=U_;function U_(){dr.util._configure(),dr.Writer._configure(dr.BufferWriter),dr.Reader._configure(dr.BufferReader)}U_()});var Q_=M((Y$,H_)=>{"use strict";f();H_.exports=V_()});var G_=M((X$,j_)=>{"use strict";f();var Ea=Q_(),Yf=Ea.Reader,i5=Ea.Writer,le=Ea.util,ac=Ea.roots.default||(Ea.roots.default={});ac.proto=function(){var r={};return r.Transaction=function(){function e(t){if(t)for(var i=Object.keys(t),n=0;n<i.length;++n)t[i[n]]!=null&&(this[i[n]]=t[i[n]])}return e.prototype.Nonce=le.Long?le.Long.fromBits(0,0,!0):0,e.prototype.Value=le.newBuffer([]),e.prototype.RcvAddr=le.newBuffer([]),e.prototype.RcvUserName=le.newBuffer([]),e.prototype.SndAddr=le.newBuffer([]),e.prototype.SndUserName=le.newBuffer([]),e.prototype.GasPrice=le.Long?le.Long.fromBits(0,0,!0):0,e.prototype.GasLimit=le.Long?le.Long.fromBits(0,0,!0):0,e.prototype.Data=le.newBuffer([]),e.prototype.ChainID=le.newBuffer([]),e.prototype.Version=0,e.prototype.Signature=le.newBuffer([]),e.prototype.Options=0,e.create=function(i){return new e(i)},e.encode=function(i,n){return n||(n=i5.create()),i.Nonce!=null&&Object.hasOwnProperty.call(i,"Nonce")&&n.uint32(8).uint64(i.Nonce),i.Value!=null&&Object.hasOwnProperty.call(i,"Value")&&n.uint32(18).bytes(i.Value),i.RcvAddr!=null&&Object.hasOwnProperty.call(i,"RcvAddr")&&n.uint32(26).bytes(i.RcvAddr),i.RcvUserName!=null&&Object.hasOwnProperty.call(i,"RcvUserName")&&n.uint32(34).bytes(i.RcvUserName),i.SndAddr!=null&&Object.hasOwnProperty.call(i,"SndAddr")&&n.uint32(42).bytes(i.SndAddr),i.SndUserName!=null&&Object.hasOwnProperty.call(i,"SndUserName")&&n.uint32(50).bytes(i.SndUserName),i.GasPrice!=null&&Object.hasOwnProperty.call(i,"GasPrice")&&n.uint32(56).uint64(i.GasPrice),i.GasLimit!=null&&Object.hasOwnProperty.call(i,"GasLimit")&&n.uint32(64).uint64(i.GasLimit),i.Data!=null&&Object.hasOwnProperty.call(i,"Data")&&n.uint32(74).bytes(i.Data),i.ChainID!=null&&Object.hasOwnProperty.call(i,"ChainID")&&n.uint32(82).bytes(i.ChainID),i.Version!=null&&Object.hasOwnProperty.call(i,"Version")&&n.uint32(88).uint32(i.Version),i.Signature!=null&&Object.hasOwnProperty.call(i,"Signature")&&n.uint32(98).bytes(i.Signature),i.Options!=null&&Object.hasOwnProperty.call(i,"Options")&&n.uint32(104).uint32(i.Options),n},e.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},e.decode=function(i,n){i instanceof Yf||(i=Yf.create(i));for(var s=n===void 0?i.len:i.pos+n,o=new ac.proto.Transaction;i.pos<s;){var a=i.uint32();switch(a>>>3){case 1:o.Nonce=i.uint64();break;case 2:o.Value=i.bytes();break;case 3:o.RcvAddr=i.bytes();break;case 4:o.RcvUserName=i.bytes();break;case 5:o.SndAddr=i.bytes();break;case 6:o.SndUserName=i.bytes();break;case 7:o.GasPrice=i.uint64();break;case 8:o.GasLimit=i.uint64();break;case 9:o.Data=i.bytes();break;case 10:o.ChainID=i.bytes();break;case 11:o.Version=i.uint32();break;case 12:o.Signature=i.bytes();break;case 13:o.Options=i.uint32();break;default:i.skipType(a&7);break}}return o},e.decodeDelimited=function(i){return i instanceof Yf||(i=new Yf(i)),this.decode(i,i.uint32())},e.verify=function(i){return typeof i!="object"||i===null?"object expected":i.Nonce!=null&&i.hasOwnProperty("Nonce")&&!le.isInteger(i.Nonce)&&!(i.Nonce&&le.isInteger(i.Nonce.low)&&le.isInteger(i.Nonce.high))?"Nonce: integer|Long expected":i.Value!=null&&i.hasOwnProperty("Value")&&!(i.Value&&typeof i.Value.length=="number"||le.isString(i.Value))?"Value: buffer expected":i.RcvAddr!=null&&i.hasOwnProperty("RcvAddr")&&!(i.RcvAddr&&typeof i.RcvAddr.length=="number"||le.isString(i.RcvAddr))?"RcvAddr: buffer expected":i.RcvUserName!=null&&i.hasOwnProperty("RcvUserName")&&!(i.RcvUserName&&typeof i.RcvUserName.length=="number"||le.isString(i.RcvUserName))?"RcvUserName: buffer expected":i.SndAddr!=null&&i.hasOwnProperty("SndAddr")&&!(i.SndAddr&&typeof i.SndAddr.length=="number"||le.isString(i.SndAddr))?"SndAddr: buffer expected":i.SndUserName!=null&&i.hasOwnProperty("SndUserName")&&!(i.SndUserName&&typeof i.SndUserName.length=="number"||le.isString(i.SndUserName))?"SndUserName: buffer expected":i.GasPrice!=null&&i.hasOwnProperty("GasPrice")&&!le.isInteger(i.GasPrice)&&!(i.GasPrice&&le.isInteger(i.GasPrice.low)&&le.isInteger(i.GasPrice.high))?"GasPrice: integer|Long expected":i.GasLimit!=null&&i.hasOwnProperty("GasLimit")&&!le.isInteger(i.GasLimit)&&!(i.GasLimit&&le.isInteger(i.GasLimit.low)&&le.isInteger(i.GasLimit.high))?"GasLimit: integer|Long expected":i.Data!=null&&i.hasOwnProperty("Data")&&!(i.Data&&typeof i.Data.length=="number"||le.isString(i.Data))?"Data: buffer expected":i.ChainID!=null&&i.hasOwnProperty("ChainID")&&!(i.ChainID&&typeof i.ChainID.length=="number"||le.isString(i.ChainID))?"ChainID: buffer expected":i.Version!=null&&i.hasOwnProperty("Version")&&!le.isInteger(i.Version)?"Version: integer expected":i.Signature!=null&&i.hasOwnProperty("Signature")&&!(i.Signature&&typeof i.Signature.length=="number"||le.isString(i.Signature))?"Signature: buffer expected":i.Options!=null&&i.hasOwnProperty("Options")&&!le.isInteger(i.Options)?"Options: integer expected":null},e.fromObject=function(i){if(i instanceof ac.proto.Transaction)return i;var n=new ac.proto.Transaction;return i.Nonce!=null&&(le.Long?(n.Nonce=le.Long.fromValue(i.Nonce)).unsigned=!0:typeof i.Nonce=="string"?n.Nonce=parseInt(i.Nonce,10):typeof i.Nonce=="number"?n.Nonce=i.Nonce:typeof i.Nonce=="object"&&(n.Nonce=new le.LongBits(i.Nonce.low>>>0,i.Nonce.high>>>0).toNumber(!0))),i.Value!=null&&(typeof i.Value=="string"?le.base64.decode(i.Value,n.Value=le.newBuffer(le.base64.length(i.Value)),0):i.Value.length&&(n.Value=i.Value)),i.RcvAddr!=null&&(typeof i.RcvAddr=="string"?le.base64.decode(i.RcvAddr,n.RcvAddr=le.newBuffer(le.base64.length(i.RcvAddr)),0):i.RcvAddr.length&&(n.RcvAddr=i.RcvAddr)),i.RcvUserName!=null&&(typeof i.RcvUserName=="string"?le.base64.decode(i.RcvUserName,n.RcvUserName=le.newBuffer(le.base64.length(i.RcvUserName)),0):i.RcvUserName.length&&(n.RcvUserName=i.RcvUserName)),i.SndAddr!=null&&(typeof i.SndAddr=="string"?le.base64.decode(i.SndAddr,n.SndAddr=le.newBuffer(le.base64.length(i.SndAddr)),0):i.SndAddr.length&&(n.SndAddr=i.SndAddr)),i.SndUserName!=null&&(typeof i.SndUserName=="string"?le.base64.decode(i.SndUserName,n.SndUserName=le.newBuffer(le.base64.length(i.SndUserName)),0):i.SndUserName.length&&(n.SndUserName=i.SndUserName)),i.GasPrice!=null&&(le.Long?(n.GasPrice=le.Long.fromValue(i.GasPrice)).unsigned=!0:typeof i.GasPrice=="string"?n.GasPrice=parseInt(i.GasPrice,10):typeof i.GasPrice=="number"?n.GasPrice=i.GasPrice:typeof i.GasPrice=="object"&&(n.GasPrice=new le.LongBits(i.GasPrice.low>>>0,i.GasPrice.high>>>0).toNumber(!0))),i.GasLimit!=null&&(le.Long?(n.GasLimit=le.Long.fromValue(i.GasLimit)).unsigned=!0:typeof i.GasLimit=="string"?n.GasLimit=parseInt(i.GasLimit,10):typeof i.GasLimit=="number"?n.GasLimit=i.GasLimit:typeof i.GasLimit=="object"&&(n.GasLimit=new le.LongBits(i.GasLimit.low>>>0,i.GasLimit.high>>>0).toNumber(!0))),i.Data!=null&&(typeof i.Data=="string"?le.base64.decode(i.Data,n.Data=le.newBuffer(le.base64.length(i.Data)),0):i.Data.length&&(n.Data=i.Data)),i.ChainID!=null&&(typeof i.ChainID=="string"?le.base64.decode(i.ChainID,n.ChainID=le.newBuffer(le.base64.length(i.ChainID)),0):i.ChainID.length&&(n.ChainID=i.ChainID)),i.Version!=null&&(n.Version=i.Version>>>0),i.Signature!=null&&(typeof i.Signature=="string"?le.base64.decode(i.Signature,n.Signature=le.newBuffer(le.base64.length(i.Signature)),0):i.Signature.length&&(n.Signature=i.Signature)),i.Options!=null&&(n.Options=i.Options>>>0),n},e.toObject=function(i,n){n||(n={});var s={};if(n.defaults){if(le.Long){var o=new le.Long(0,0,!0);s.Nonce=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else s.Nonce=n.longs===String?"0":0;if(n.bytes===String?s.Value="":(s.Value=[],n.bytes!==Array&&(s.Value=le.newBuffer(s.Value))),n.bytes===String?s.RcvAddr="":(s.RcvAddr=[],n.bytes!==Array&&(s.RcvAddr=le.newBuffer(s.RcvAddr))),n.bytes===String?s.RcvUserName="":(s.RcvUserName=[],n.bytes!==Array&&(s.RcvUserName=le.newBuffer(s.RcvUserName))),n.bytes===String?s.SndAddr="":(s.SndAddr=[],n.bytes!==Array&&(s.SndAddr=le.newBuffer(s.SndAddr))),n.bytes===String?s.SndUserName="":(s.SndUserName=[],n.bytes!==Array&&(s.SndUserName=le.newBuffer(s.SndUserName))),le.Long){var o=new le.Long(0,0,!0);s.GasPrice=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else s.GasPrice=n.longs===String?"0":0;if(le.Long){var o=new le.Long(0,0,!0);s.GasLimit=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else s.GasLimit=n.longs===String?"0":0;n.bytes===String?s.Data="":(s.Data=[],n.bytes!==Array&&(s.Data=le.newBuffer(s.Data))),n.bytes===String?s.ChainID="":(s.ChainID=[],n.bytes!==Array&&(s.ChainID=le.newBuffer(s.ChainID))),s.Version=0,n.bytes===String?s.Signature="":(s.Signature=[],n.bytes!==Array&&(s.Signature=le.newBuffer(s.Signature))),s.Options=0}return i.Nonce!=null&&i.hasOwnProperty("Nonce")&&(typeof i.Nonce=="number"?s.Nonce=n.longs===String?String(i.Nonce):i.Nonce:s.Nonce=n.longs===String?le.Long.prototype.toString.call(i.Nonce):n.longs===Number?new le.LongBits(i.Nonce.low>>>0,i.Nonce.high>>>0).toNumber(!0):i.Nonce),i.Value!=null&&i.hasOwnProperty("Value")&&(s.Value=n.bytes===String?le.base64.encode(i.Value,0,i.Value.length):n.bytes===Array?Array.prototype.slice.call(i.Value):i.Value),i.RcvAddr!=null&&i.hasOwnProperty("RcvAddr")&&(s.RcvAddr=n.bytes===String?le.base64.encode(i.RcvAddr,0,i.RcvAddr.length):n.bytes===Array?Array.prototype.slice.call(i.RcvAddr):i.RcvAddr),i.RcvUserName!=null&&i.hasOwnProperty("RcvUserName")&&(s.RcvUserName=n.bytes===String?le.base64.encode(i.RcvUserName,0,i.RcvUserName.length):n.bytes===Array?Array.prototype.slice.call(i.RcvUserName):i.RcvUserName),i.SndAddr!=null&&i.hasOwnProperty("SndAddr")&&(s.SndAddr=n.bytes===String?le.base64.encode(i.SndAddr,0,i.SndAddr.length):n.bytes===Array?Array.prototype.slice.call(i.SndAddr):i.SndAddr),i.SndUserName!=null&&i.hasOwnProperty("SndUserName")&&(s.SndUserName=n.bytes===String?le.base64.encode(i.SndUserName,0,i.SndUserName.length):n.bytes===Array?Array.prototype.slice.call(i.SndUserName):i.SndUserName),i.GasPrice!=null&&i.hasOwnProperty("GasPrice")&&(typeof i.GasPrice=="number"?s.GasPrice=n.longs===String?String(i.GasPrice):i.GasPrice:s.GasPrice=n.longs===String?le.Long.prototype.toString.call(i.GasPrice):n.longs===Number?new le.LongBits(i.GasPrice.low>>>0,i.GasPrice.high>>>0).toNumber(!0):i.GasPrice),i.GasLimit!=null&&i.hasOwnProperty("GasLimit")&&(typeof i.GasLimit=="number"?s.GasLimit=n.longs===String?String(i.GasLimit):i.GasLimit:s.GasLimit=n.longs===String?le.Long.prototype.toString.call(i.GasLimit):n.longs===Number?new le.LongBits(i.GasLimit.low>>>0,i.GasLimit.high>>>0).toNumber(!0):i.GasLimit),i.Data!=null&&i.hasOwnProperty("Data")&&(s.Data=n.bytes===String?le.base64.encode(i.Data,0,i.Data.length):n.bytes===Array?Array.prototype.slice.call(i.Data):i.Data),i.ChainID!=null&&i.hasOwnProperty("ChainID")&&(s.ChainID=n.bytes===String?le.base64.encode(i.ChainID,0,i.ChainID.length):n.bytes===Array?Array.prototype.slice.call(i.ChainID):i.ChainID),i.Version!=null&&i.hasOwnProperty("Version")&&(s.Version=i.Version),i.Signature!=null&&i.hasOwnProperty("Signature")&&(s.Signature=n.bytes===String?le.base64.encode(i.Signature,0,i.Signature.length):n.bytes===Array?Array.prototype.slice.call(i.Signature):i.Signature),i.Options!=null&&i.hasOwnProperty("Options")&&(s.Options=i.Options),s},e.prototype.toJSON=function(){return this.constructor.toObject(this,Ea.util.toJSONOptions)},e}(),r}();j_.exports=ac});var k_=M(Mr=>{"use strict";f();var n5=Mr&&Mr.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),s5=Mr&&Mr.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),o5=Mr&&Mr.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&n5(e,r,t);return s5(e,r),e},a5=Mr&&Mr.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Mr,"__esModule",{value:!0});Mr.ProtoSerializer=void 0;var u5=o5($e()),c5=xg(),K_=G_(),l5=Gf(),z_=Hr(),f5=a5(Vr()),Iy=class{serializeTransaction(e){let t=new z_.Address(e.getReceiver().bech32()).pubkey(),i=new z_.Address(e.getSender().bech32()).pubkey(),n=new K_.proto.Transaction({Nonce:e.getNonce().valueOf()?e.getNonce().valueOf():void 0,Value:this.serializeTransactionValue(e.getValue()),RcvAddr:t,RcvUserName:null,SndAddr:i,SndUserName:null,GasPrice:e.getGasPrice().valueOf(),GasLimit:e.getGasLimit().valueOf(),Data:e.getData().length()==0?null:e.getData().valueOf(),ChainID:y.Buffer.from(e.getChainID().valueOf()),Version:e.getVersion().valueOf(),Signature:y.Buffer.from(e.getSignature().hex(),"hex")});e.getOptions().valueOf()!==l5.TRANSACTION_OPTIONS_DEFAULT&&(n.Options=e.getOptions().valueOf());let s=K_.proto.Transaction.encode(n).finish();return y.Buffer.from(s)}serializeTransactionValue(e){let t=new f5.default(e.toString());if(t.isZero())return y.Buffer.from([0,0]);let i=c5.bigIntToBuffer(t);return i=y.Buffer.concat([y.Buffer.from([0]),i]),i}deserializeTransaction(e){throw new u5.ErrUnsupportedOperation("deserializeTransaction")}};Mr.ProtoSerializer=Iy});var $_=M(Vs=>{"use strict";f();var h5=Vs&&Vs.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),d5=Vs&&Vs.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&h5(e,r,t)};Object.defineProperty(Vs,"__esModule",{value:!0});d5(k_(),Vs)});var W_=M(yi=>{"use strict";f();var p5=yi&&yi.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),g5=yi&&yi.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),y5=yi&&yi.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&p5(e,r,t);return g5(e,r),e};Object.defineProperty(yi,"__esModule",{value:!0});yi.Hash=void 0;var m5=y5($e()),uc=class{constructor(e){if(!e)this.hash=y.Buffer.from([]);else if(e instanceof y.Buffer)this.hash=e;else if(typeof e=="string")this.hash=y.Buffer.from(e,"hex");else throw new m5.ErrBadType("hash","buffer | string",e)}static empty(){return new uc(y.Buffer.from([]))}isEmpty(){return this.hash.length==0}toString(){return this.hex()}hex(){return this.hash.toString("hex")}valueOf(){return this.hash}};yi.Hash=uc});var _y=M((oW,Y_)=>{f();Gi.notEqual=v5;Gi.notOk=E5;Gi.equal=w5;Gi.ok=Gi;Y_.exports=Gi;function w5(r,e,t){Gi(r==e,t)}function v5(r,e,t){Gi(r!=e,t)}function E5(r,e){Gi(!r,e)}function Gi(r,e){if(!r)throw new Error(e||"AssertionError")}});var db=M(ba=>{"use strict";f();var by=l0(),Ia=h0(),J_=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;ba.Buffer=re;ba.SlowBuffer=x5;ba.INSPECT_MAX_BYTES=50;var Jf=2147483647;ba.kMaxLength=Jf;re.TYPED_ARRAY_SUPPORT=A5();!re.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function A5(){try{let r=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(r,e),r.foo()===42}catch{return!1}}Object.defineProperty(re.prototype,"parent",{enumerable:!0,get:function(){if(re.isBuffer(this))return this.buffer}});Object.defineProperty(re.prototype,"offset",{enumerable:!0,get:function(){if(re.isBuffer(this))return this.byteOffset}});function Ki(r){if(r>Jf)throw new RangeError('The value "'+r+'" is invalid for option "size"');let e=new Uint8Array(r);return Object.setPrototypeOf(e,re.prototype),e}function re(r,e,t){if(typeof r=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Ty(r)}return tb(r,e,t)}re.poolSize=8192;function tb(r,e,t){if(typeof r=="string")return _5(r,e);if(ArrayBuffer.isView(r))return b5(r);if(r==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r);if(mi(r,ArrayBuffer)||r&&mi(r.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(mi(r,SharedArrayBuffer)||r&&mi(r.buffer,SharedArrayBuffer)))return xy(r,e,t);if(typeof r=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let i=r.valueOf&&r.valueOf();if(i!=null&&i!==r)return re.from(i,e,t);let n=C5(r);if(n)return n;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof r[Symbol.toPrimitive]=="function")return re.from(r[Symbol.toPrimitive]("string"),e,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r)}re.from=function(r,e,t){return tb(r,e,t)};Object.setPrototypeOf(re.prototype,Uint8Array.prototype);Object.setPrototypeOf(re,Uint8Array);function rb(r){if(typeof r!="number")throw new TypeError('"size" argument must be of type number');if(r<0)throw new RangeError('The value "'+r+'" is invalid for option "size"')}function I5(r,e,t){return rb(r),r<=0?Ki(r):e!==void 0?typeof t=="string"?Ki(r).fill(e,t):Ki(r).fill(e):Ki(r)}re.alloc=function(r,e,t){return I5(r,e,t)};function Ty(r){return rb(r),Ki(r<0?0:Ny(r)|0)}re.allocUnsafe=function(r){return Ty(r)};re.allocUnsafeSlow=function(r){return Ty(r)};function _5(r,e){if((typeof e!="string"||e==="")&&(e="utf8"),!re.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let t=ib(r,e)|0,i=Ki(t),n=i.write(r,e);return n!==t&&(i=i.slice(0,n)),i}function Cy(r){let e=r.length<0?0:Ny(r.length)|0,t=Ki(e);for(let i=0;i<e;i+=1)t[i]=r[i]&255;return t}function b5(r){if(mi(r,Uint8Array)){let e=new Uint8Array(r);return xy(e.buffer,e.byteOffset,e.byteLength)}return Cy(r)}function xy(r,e,t){if(e<0||r.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(r.byteLength<e+(t||0))throw new RangeError('"length" is outside of buffer bounds');let i;return e===void 0&&t===void 0?i=new Uint8Array(r):t===void 0?i=new Uint8Array(r,e):i=new Uint8Array(r,e,t),Object.setPrototypeOf(i,re.prototype),i}function C5(r){if(re.isBuffer(r)){let e=Ny(r.length)|0,t=Ki(e);return t.length===0||r.copy(t,0,0,e),t}if(r.length!==void 0)return typeof r.length!="number"||Oy(r.length)?Ki(0):Cy(r);if(r.type==="Buffer"&&Array.isArray(r.data))return Cy(r.data)}function Ny(r){if(r>=Jf)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Jf.toString(16)+" bytes");return r|0}function x5(r){return+r!=r&&(r=0),re.alloc(+r)}re.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==re.prototype};re.compare=function(e,t){if(mi(e,Uint8Array)&&(e=re.from(e,e.offset,e.byteLength)),mi(t,Uint8Array)&&(t=re.from(t,t.offset,t.byteLength)),!re.isBuffer(e)||!re.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let i=e.length,n=t.length;for(let s=0,o=Math.min(i,n);s<o;++s)if(e[s]!==t[s]){i=e[s],n=t[s];break}return i<n?-1:n<i?1:0};re.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};re.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return re.alloc(0);let i;if(t===void 0)for(t=0,i=0;i<e.length;++i)t+=e[i].length;let n=re.allocUnsafe(t),s=0;for(i=0;i<e.length;++i){let o=e[i];if(mi(o,Uint8Array))s+o.length>n.length?(re.isBuffer(o)||(o=re.from(o)),o.copy(n,s)):Uint8Array.prototype.set.call(n,o,s);else if(re.isBuffer(o))o.copy(n,s);else throw new TypeError('"list" argument must be an Array of Buffers');s+=o.length}return n};function ib(r,e){if(re.isBuffer(r))return r.length;if(ArrayBuffer.isView(r)||mi(r,ArrayBuffer))return r.byteLength;if(typeof r!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof r);let t=r.length,i=arguments.length>2&&arguments[2]===!0;if(!i&&t===0)return 0;let n=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return Sy(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return hb(r).length;default:if(n)return i?-1:Sy(r).length;e=(""+e).toLowerCase(),n=!0}}re.byteLength=ib;function S5(r,e,t){let i=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,e>>>=0,t<=e))return"";for(r||(r="utf8");;)switch(r){case"hex":return F5(this,e,t);case"utf8":case"utf-8":return sb(this,e,t);case"ascii":return R5(this,e,t);case"latin1":case"binary":return L5(this,e,t);case"base64":return M5(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U5(this,e,t);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),i=!0}}re.prototype._isBuffer=!0;function Hs(r,e,t){let i=r[e];r[e]=r[t],r[t]=i}re.prototype.swap16=function(){let e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)Hs(this,t,t+1);return this};re.prototype.swap32=function(){let e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)Hs(this,t,t+3),Hs(this,t+1,t+2);return this};re.prototype.swap64=function(){let e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)Hs(this,t,t+7),Hs(this,t+1,t+6),Hs(this,t+2,t+5),Hs(this,t+3,t+4);return this};re.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?sb(this,0,e):S5.apply(this,arguments)};re.prototype.toLocaleString=re.prototype.toString;re.prototype.equals=function(e){if(!re.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:re.compare(this,e)===0};re.prototype.inspect=function(){let e="",t=ba.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"};J_&&(re.prototype[J_]=re.prototype.inspect);re.prototype.compare=function(e,t,i,n,s){if(mi(e,Uint8Array)&&(e=re.from(e,e.offset,e.byteLength)),!re.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),i===void 0&&(i=e?e.length:0),n===void 0&&(n=0),s===void 0&&(s=this.length),t<0||i>e.length||n<0||s>this.length)throw new RangeError("out of range index");if(n>=s&&t>=i)return 0;if(n>=s)return-1;if(t>=i)return 1;if(t>>>=0,i>>>=0,n>>>=0,s>>>=0,this===e)return 0;let o=s-n,a=i-t,c=Math.min(o,a),h=this.slice(n,s),p=e.slice(t,i);for(let A=0;A<c;++A)if(h[A]!==p[A]){o=h[A],a=p[A];break}return o<a?-1:a<o?1:0};function nb(r,e,t,i,n){if(r.length===0)return-1;if(typeof t=="string"?(i=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,Oy(t)&&(t=n?0:r.length-1),t<0&&(t=r.length+t),t>=r.length){if(n)return-1;t=r.length-1}else if(t<0)if(n)t=0;else return-1;if(typeof e=="string"&&(e=re.from(e,i)),re.isBuffer(e))return e.length===0?-1:X_(r,e,t,i,n);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?n?Uint8Array.prototype.indexOf.call(r,e,t):Uint8Array.prototype.lastIndexOf.call(r,e,t):X_(r,[e],t,i,n);throw new TypeError("val must be string, number or Buffer")}function X_(r,e,t,i,n){let s=1,o=r.length,a=e.length;if(i!==void 0&&(i=String(i).toLowerCase(),i==="ucs2"||i==="ucs-2"||i==="utf16le"||i==="utf-16le")){if(r.length<2||e.length<2)return-1;s=2,o/=2,a/=2,t/=2}function c(p,A){return s===1?p[A]:p.readUInt16BE(A*s)}let h;if(n){let p=-1;for(h=t;h<o;h++)if(c(r,h)===c(e,p===-1?0:h-p)){if(p===-1&&(p=h),h-p+1===a)return p*s}else p!==-1&&(h-=h-p),p=-1}else for(t+a>o&&(t=o-a),h=t;h>=0;h--){let p=!0;for(let A=0;A<a;A++)if(c(r,h+A)!==c(e,A)){p=!1;break}if(p)return h}return-1}re.prototype.includes=function(e,t,i){return this.indexOf(e,t,i)!==-1};re.prototype.indexOf=function(e,t,i){return nb(this,e,t,i,!0)};re.prototype.lastIndexOf=function(e,t,i){return nb(this,e,t,i,!1)};function T5(r,e,t,i){t=Number(t)||0;let n=r.length-t;i?(i=Number(i),i>n&&(i=n)):i=n;let s=e.length;i>s/2&&(i=s/2);let o;for(o=0;o<i;++o){let a=parseInt(e.substr(o*2,2),16);if(Oy(a))return o;r[t+o]=a}return o}function N5(r,e,t,i){return Xf(Sy(e,r.length-t),r,t,i)}function D5(r,e,t,i){return Xf(Q5(e),r,t,i)}function O5(r,e,t,i){return Xf(hb(e),r,t,i)}function B5(r,e,t,i){return Xf(j5(e,r.length-t),r,t,i)}re.prototype.write=function(e,t,i,n){if(t===void 0)n="utf8",i=this.length,t=0;else if(i===void 0&&typeof t=="string")n=t,i=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(i)?(i=i>>>0,n===void 0&&(n="utf8")):(n=i,i=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let s=this.length-t;if((i===void 0||i>s)&&(i=s),e.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let o=!1;for(;;)switch(n){case"hex":return T5(this,e,t,i);case"utf8":case"utf-8":return N5(this,e,t,i);case"ascii":case"latin1":case"binary":return D5(this,e,t,i);case"base64":return O5(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B5(this,e,t,i);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}};re.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function M5(r,e,t){return e===0&&t===r.length?by.fromByteArray(r):by.fromByteArray(r.slice(e,t))}function sb(r,e,t){t=Math.min(r.length,t);let i=[],n=e;for(;n<t;){let s=r[n],o=null,a=s>239?4:s>223?3:s>191?2:1;if(n+a<=t){let c,h,p,A;switch(a){case 1:s<128&&(o=s);break;case 2:c=r[n+1],(c&192)===128&&(A=(s&31)<<6|c&63,A>127&&(o=A));break;case 3:c=r[n+1],h=r[n+2],(c&192)===128&&(h&192)===128&&(A=(s&15)<<12|(c&63)<<6|h&63,A>2047&&(A<55296||A>57343)&&(o=A));break;case 4:c=r[n+1],h=r[n+2],p=r[n+3],(c&192)===128&&(h&192)===128&&(p&192)===128&&(A=(s&15)<<18|(c&63)<<12|(h&63)<<6|p&63,A>65535&&A<1114112&&(o=A))}}o===null?(o=65533,a=1):o>65535&&(o-=65536,i.push(o>>>10&1023|55296),o=56320|o&1023),i.push(o),n+=a}return P5(i)}var Z_=4096;function P5(r){let e=r.length;if(e<=Z_)return String.fromCharCode.apply(String,r);let t="",i=0;for(;i<e;)t+=String.fromCharCode.apply(String,r.slice(i,i+=Z_));return t}function R5(r,e,t){let i="";t=Math.min(r.length,t);for(let n=e;n<t;++n)i+=String.fromCharCode(r[n]&127);return i}function L5(r,e,t){let i="";t=Math.min(r.length,t);for(let n=e;n<t;++n)i+=String.fromCharCode(r[n]);return i}function F5(r,e,t){let i=r.length;(!e||e<0)&&(e=0),(!t||t<0||t>i)&&(t=i);let n="";for(let s=e;s<t;++s)n+=G5[r[s]];return n}function U5(r,e,t){let i=r.slice(e,t),n="";for(let s=0;s<i.length-1;s+=2)n+=String.fromCharCode(i[s]+i[s+1]*256);return n}re.prototype.slice=function(e,t){let i=this.length;e=~~e,t=t===void 0?i:~~t,e<0?(e+=i,e<0&&(e=0)):e>i&&(e=i),t<0?(t+=i,t<0&&(t=0)):t>i&&(t=i),t<e&&(t=e);let n=this.subarray(e,t);return Object.setPrototypeOf(n,re.prototype),n};function Kt(r,e,t){if(r%1!==0||r<0)throw new RangeError("offset is not uint");if(r+e>t)throw new RangeError("Trying to access beyond buffer length")}re.prototype.readUintLE=re.prototype.readUIntLE=function(e,t,i){e=e>>>0,t=t>>>0,i||Kt(e,t,this.length);let n=this[e],s=1,o=0;for(;++o<t&&(s*=256);)n+=this[e+o]*s;return n};re.prototype.readUintBE=re.prototype.readUIntBE=function(e,t,i){e=e>>>0,t=t>>>0,i||Kt(e,t,this.length);let n=this[e+--t],s=1;for(;t>0&&(s*=256);)n+=this[e+--t]*s;return n};re.prototype.readUint8=re.prototype.readUInt8=function(e,t){return e=e>>>0,t||Kt(e,1,this.length),this[e]};re.prototype.readUint16LE=re.prototype.readUInt16LE=function(e,t){return e=e>>>0,t||Kt(e,2,this.length),this[e]|this[e+1]<<8};re.prototype.readUint16BE=re.prototype.readUInt16BE=function(e,t){return e=e>>>0,t||Kt(e,2,this.length),this[e]<<8|this[e+1]};re.prototype.readUint32LE=re.prototype.readUInt32LE=function(e,t){return e=e>>>0,t||Kt(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};re.prototype.readUint32BE=re.prototype.readUInt32BE=function(e,t){return e=e>>>0,t||Kt(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};re.prototype.readBigUInt64LE=Cn(function(e){e=e>>>0,_a(e,"offset");let t=this[e],i=this[e+7];(t===void 0||i===void 0)&&cc(e,this.length-8);let n=t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,s=this[++e]+this[++e]*2**8+this[++e]*2**16+i*2**24;return BigInt(n)+(BigInt(s)<<BigInt(32))});re.prototype.readBigUInt64BE=Cn(function(e){e=e>>>0,_a(e,"offset");let t=this[e],i=this[e+7];(t===void 0||i===void 0)&&cc(e,this.length-8);let n=t*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],s=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+i;return(BigInt(n)<<BigInt(32))+BigInt(s)});re.prototype.readIntLE=function(e,t,i){e=e>>>0,t=t>>>0,i||Kt(e,t,this.length);let n=this[e],s=1,o=0;for(;++o<t&&(s*=256);)n+=this[e+o]*s;return s*=128,n>=s&&(n-=Math.pow(2,8*t)),n};re.prototype.readIntBE=function(e,t,i){e=e>>>0,t=t>>>0,i||Kt(e,t,this.length);let n=t,s=1,o=this[e+--n];for(;n>0&&(s*=256);)o+=this[e+--n]*s;return s*=128,o>=s&&(o-=Math.pow(2,8*t)),o};re.prototype.readInt8=function(e,t){return e=e>>>0,t||Kt(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};re.prototype.readInt16LE=function(e,t){e=e>>>0,t||Kt(e,2,this.length);let i=this[e]|this[e+1]<<8;return i&32768?i|4294901760:i};re.prototype.readInt16BE=function(e,t){e=e>>>0,t||Kt(e,2,this.length);let i=this[e+1]|this[e]<<8;return i&32768?i|4294901760:i};re.prototype.readInt32LE=function(e,t){return e=e>>>0,t||Kt(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};re.prototype.readInt32BE=function(e,t){return e=e>>>0,t||Kt(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};re.prototype.readBigInt64LE=Cn(function(e){e=e>>>0,_a(e,"offset");let t=this[e],i=this[e+7];(t===void 0||i===void 0)&&cc(e,this.length-8);let n=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(i<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)});re.prototype.readBigInt64BE=Cn(function(e){e=e>>>0,_a(e,"offset");let t=this[e],i=this[e+7];(t===void 0||i===void 0)&&cc(e,this.length-8);let n=(t<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+i)});re.prototype.readFloatLE=function(e,t){return e=e>>>0,t||Kt(e,4,this.length),Ia.read(this,e,!0,23,4)};re.prototype.readFloatBE=function(e,t){return e=e>>>0,t||Kt(e,4,this.length),Ia.read(this,e,!1,23,4)};re.prototype.readDoubleLE=function(e,t){return e=e>>>0,t||Kt(e,8,this.length),Ia.read(this,e,!0,52,8)};re.prototype.readDoubleBE=function(e,t){return e=e>>>0,t||Kt(e,8,this.length),Ia.read(this,e,!1,52,8)};function pr(r,e,t,i,n,s){if(!re.isBuffer(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>n||e<s)throw new RangeError('"value" argument is out of bounds');if(t+i>r.length)throw new RangeError("Index out of range")}re.prototype.writeUintLE=re.prototype.writeUIntLE=function(e,t,i,n){if(e=+e,t=t>>>0,i=i>>>0,!n){let a=Math.pow(2,8*i)-1;pr(this,e,t,i,a,0)}let s=1,o=0;for(this[t]=e&255;++o<i&&(s*=256);)this[t+o]=e/s&255;return t+i};re.prototype.writeUintBE=re.prototype.writeUIntBE=function(e,t,i,n){if(e=+e,t=t>>>0,i=i>>>0,!n){let a=Math.pow(2,8*i)-1;pr(this,e,t,i,a,0)}let s=i-1,o=1;for(this[t+s]=e&255;--s>=0&&(o*=256);)this[t+s]=e/o&255;return t+i};re.prototype.writeUint8=re.prototype.writeUInt8=function(e,t,i){return e=+e,t=t>>>0,i||pr(this,e,t,1,255,0),this[t]=e&255,t+1};re.prototype.writeUint16LE=re.prototype.writeUInt16LE=function(e,t,i){return e=+e,t=t>>>0,i||pr(this,e,t,2,65535,0),this[t]=e&255,this[t+1]=e>>>8,t+2};re.prototype.writeUint16BE=re.prototype.writeUInt16BE=function(e,t,i){return e=+e,t=t>>>0,i||pr(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=e&255,t+2};re.prototype.writeUint32LE=re.prototype.writeUInt32LE=function(e,t,i){return e=+e,t=t>>>0,i||pr(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255,t+4};re.prototype.writeUint32BE=re.prototype.writeUInt32BE=function(e,t,i){return e=+e,t=t>>>0,i||pr(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};function ob(r,e,t,i,n){fb(e,i,n,r,t,7);let s=Number(e&BigInt(4294967295));r[t++]=s,s=s>>8,r[t++]=s,s=s>>8,r[t++]=s,s=s>>8,r[t++]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return r[t++]=o,o=o>>8,r[t++]=o,o=o>>8,r[t++]=o,o=o>>8,r[t++]=o,t}function ab(r,e,t,i,n){fb(e,i,n,r,t,7);let s=Number(e&BigInt(4294967295));r[t+7]=s,s=s>>8,r[t+6]=s,s=s>>8,r[t+5]=s,s=s>>8,r[t+4]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return r[t+3]=o,o=o>>8,r[t+2]=o,o=o>>8,r[t+1]=o,o=o>>8,r[t]=o,t+8}re.prototype.writeBigUInt64LE=Cn(function(e,t=0){return ob(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))});re.prototype.writeBigUInt64BE=Cn(function(e,t=0){return ab(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))});re.prototype.writeIntLE=function(e,t,i,n){if(e=+e,t=t>>>0,!n){let c=Math.pow(2,8*i-1);pr(this,e,t,i,c-1,-c)}let s=0,o=1,a=0;for(this[t]=e&255;++s<i&&(o*=256);)e<0&&a===0&&this[t+s-1]!==0&&(a=1),this[t+s]=(e/o>>0)-a&255;return t+i};re.prototype.writeIntBE=function(e,t,i,n){if(e=+e,t=t>>>0,!n){let c=Math.pow(2,8*i-1);pr(this,e,t,i,c-1,-c)}let s=i-1,o=1,a=0;for(this[t+s]=e&255;--s>=0&&(o*=256);)e<0&&a===0&&this[t+s+1]!==0&&(a=1),this[t+s]=(e/o>>0)-a&255;return t+i};re.prototype.writeInt8=function(e,t,i){return e=+e,t=t>>>0,i||pr(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=e&255,t+1};re.prototype.writeInt16LE=function(e,t,i){return e=+e,t=t>>>0,i||pr(this,e,t,2,32767,-32768),this[t]=e&255,this[t+1]=e>>>8,t+2};re.prototype.writeInt16BE=function(e,t,i){return e=+e,t=t>>>0,i||pr(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=e&255,t+2};re.prototype.writeInt32LE=function(e,t,i){return e=+e,t=t>>>0,i||pr(this,e,t,4,2147483647,-2147483648),this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4};re.prototype.writeInt32BE=function(e,t,i){return e=+e,t=t>>>0,i||pr(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};re.prototype.writeBigInt64LE=Cn(function(e,t=0){return ob(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});re.prototype.writeBigInt64BE=Cn(function(e,t=0){return ab(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ub(r,e,t,i,n,s){if(t+i>r.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function cb(r,e,t,i,n){return e=+e,t=t>>>0,n||ub(r,e,t,4,34028234663852886e22,-34028234663852886e22),Ia.write(r,e,t,i,23,4),t+4}re.prototype.writeFloatLE=function(e,t,i){return cb(this,e,t,!0,i)};re.prototype.writeFloatBE=function(e,t,i){return cb(this,e,t,!1,i)};function lb(r,e,t,i,n){return e=+e,t=t>>>0,n||ub(r,e,t,8,17976931348623157e292,-17976931348623157e292),Ia.write(r,e,t,i,52,8),t+8}re.prototype.writeDoubleLE=function(e,t,i){return lb(this,e,t,!0,i)};re.prototype.writeDoubleBE=function(e,t,i){return lb(this,e,t,!1,i)};re.prototype.copy=function(e,t,i,n){if(!re.isBuffer(e))throw new TypeError("argument should be a Buffer");if(i||(i=0),!n&&n!==0&&(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<i&&(n=i),n===i||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-i&&(n=e.length-t+i);let s=n-i;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(t,i,n):Uint8Array.prototype.set.call(e,this.subarray(i,n),t),s};re.prototype.fill=function(e,t,i,n){if(typeof e=="string"){if(typeof t=="string"?(n=t,t=0,i=this.length):typeof i=="string"&&(n=i,i=this.length),n!==void 0&&typeof n!="string")throw new TypeError("encoding must be a string");if(typeof n=="string"&&!re.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(e.length===1){let o=e.charCodeAt(0);(n==="utf8"&&o<128||n==="latin1")&&(e=o)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;t=t>>>0,i=i===void 0?this.length:i>>>0,e||(e=0);let s;if(typeof e=="number")for(s=t;s<i;++s)this[s]=e;else{let o=re.isBuffer(e)?e:re.from(e,n),a=o.length;if(a===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(s=0;s<i-t;++s)this[s+t]=o[s%a]}return this};var Aa={};function Dy(r,e,t){Aa[r]=class extends t{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${r}]`,this.stack,delete this.name}get code(){return r}set code(n){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:n,writable:!0})}toString(){return`${this.name} [${r}]: ${this.message}`}}}Dy("ERR_BUFFER_OUT_OF_BOUNDS",function(r){return r?`${r} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);Dy("ERR_INVALID_ARG_TYPE",function(r,e){return`The "${r}" argument must be of type number. Received type ${typeof e}`},TypeError);Dy("ERR_OUT_OF_RANGE",function(r,e,t){let i=`The value of "${r}" is out of range.`,n=t;return Number.isInteger(t)&&Math.abs(t)>2**32?n=eb(String(t)):typeof t=="bigint"&&(n=String(t),(t>BigInt(2)**BigInt(32)||t<-(BigInt(2)**BigInt(32)))&&(n=eb(n)),n+="n"),i+=` It must be ${e}. Received ${n}`,i},RangeError);function eb(r){let e="",t=r.length,i=r[0]==="-"?1:0;for(;t>=i+4;t-=3)e=`_${r.slice(t-3,t)}${e}`;return`${r.slice(0,t)}${e}`}function q5(r,e,t){_a(e,"offset"),(r[e]===void 0||r[e+t]===void 0)&&cc(e,r.length-(t+1))}function fb(r,e,t,i,n,s){if(r>t||r<e){let o=typeof e=="bigint"?"n":"",a;throw s>3?e===0||e===BigInt(0)?a=`>= 0${o} and < 2${o} ** ${(s+1)*8}${o}`:a=`>= -(2${o} ** ${(s+1)*8-1}${o}) and < 2 ** ${(s+1)*8-1}${o}`:a=`>= ${e}${o} and <= ${t}${o}`,new Aa.ERR_OUT_OF_RANGE("value",a,r)}q5(i,n,s)}function _a(r,e){if(typeof r!="number")throw new Aa.ERR_INVALID_ARG_TYPE(e,"number",r)}function cc(r,e,t){throw Math.floor(r)!==r?(_a(r,t),new Aa.ERR_OUT_OF_RANGE(t||"offset","an integer",r)):e<0?new Aa.ERR_BUFFER_OUT_OF_BOUNDS:new Aa.ERR_OUT_OF_RANGE(t||"offset",`>= ${t?1:0} and <= ${e}`,r)}var V5=/[^+/0-9A-Za-z-_]/g;function H5(r){if(r=r.split("=")[0],r=r.trim().replace(V5,""),r.length<2)return"";for(;r.length%4!==0;)r=r+"=";return r}function Sy(r,e){e=e||1/0;let t,i=r.length,n=null,s=[];for(let o=0;o<i;++o){if(t=r.charCodeAt(o),t>55295&&t<57344){if(!n){if(t>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(o+1===i){(e-=3)>-1&&s.push(239,191,189);continue}n=t;continue}if(t<56320){(e-=3)>-1&&s.push(239,191,189),n=t;continue}t=(n-55296<<10|t-56320)+65536}else n&&(e-=3)>-1&&s.push(239,191,189);if(n=null,t<128){if((e-=1)<0)break;s.push(t)}else if(t<2048){if((e-=2)<0)break;s.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;s.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;s.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return s}function Q5(r){let e=[];for(let t=0;t<r.length;++t)e.push(r.charCodeAt(t)&255);return e}function j5(r,e){let t,i,n,s=[];for(let o=0;o<r.length&&!((e-=2)<0);++o)t=r.charCodeAt(o),i=t>>8,n=t%256,s.push(n),s.push(i);return s}function hb(r){return by.toByteArray(H5(r))}function Xf(r,e,t,i){let n;for(n=0;n<i&&!(n+t>=e.length||n>=r.length);++n)e[n+t]=r[n];return n}function mi(r,e){return r instanceof e||r!=null&&r.constructor!=null&&r.constructor.name!=null&&r.constructor.name===e.name}function Oy(r){return r!==r}var G5=function(){let r="0123456789abcdef",e=new Array(256);for(let t=0;t<16;++t){let i=t*16;for(let n=0;n<16;++n)e[i+n]=r[t]+r[n]}return e}();function Cn(r){return typeof BigInt>"u"?K5:r}function K5(){throw new Error("BigInt not supported")}});var gb=M((fW,pb)=>{f();pb.exports=By;By.supported=typeof WebAssembly<"u";function By(r){if(!By.supported)return null;var e=r&&r.imports,t=z5("AGFzbQEAAAABEANgAn9/AGADf39/AGABfwADBQQAAQICBQUBAQroBwdNBQZtZW1vcnkCAAxibGFrZTJiX2luaXQAAA5ibGFrZTJiX3VwZGF0ZQABDWJsYWtlMmJfZmluYWwAAhBibGFrZTJiX2NvbXByZXNzAAMK00AElgMAIABCADcDACAAQQhqQgA3AwAgAEEQakIANwMAIABBGGpCADcDACAAQSBqQgA3AwAgAEEoakIANwMAIABBMGpCADcDACAAQThqQgA3AwAgAEHAAGpCADcDACAAQcgAakIANwMAIABB0ABqQgA3AwAgAEHYAGpCADcDACAAQeAAakIANwMAIABB6ABqQgA3AwAgAEHwAGpCADcDACAAQfgAakIANwMAIABBgAFqQoiS853/zPmE6gBBACkDAIU3AwAgAEGIAWpCu86qptjQ67O7f0EIKQMAhTcDACAAQZABakKr8NP0r+68tzxBECkDAIU3AwAgAEGYAWpC8e30+KWn/aelf0EYKQMAhTcDACAAQaABakLRhZrv+s+Uh9EAQSApAwCFNwMAIABBqAFqQp/Y+dnCkdqCm39BKCkDAIU3AwAgAEGwAWpC6/qG2r+19sEfQTApAwCFNwMAIABBuAFqQvnC+JuRo7Pw2wBBOCkDAIU3AwAgAEHAAWpCADcDACAAQcgBakIANwMAIABB0AFqQgA3AwALbQEDfyAAQcABaiEDIABByAFqIQQgBCkDAKchBQJAA0AgASACRg0BIAVBgAFGBEAgAyADKQMAIAWtfDcDAEEAIQUgABADCyAAIAVqIAEtAAA6AAAgBUEBaiEFIAFBAWohAQwACwsgBCAFrTcDAAtkAQN/IABBwAFqIQEgAEHIAWohAiABIAEpAwAgAikDAHw3AwAgAEHQAWpCfzcDACACKQMApyEDAkADQCADQYABRg0BIAAgA2pBADoAACADQQFqIQMMAAsLIAIgA603AwAgABADC+U7AiB+CX8gAEGAAWohISAAQYgBaiEiIABBkAFqISMgAEGYAWohJCAAQaABaiElIABBqAFqISYgAEGwAWohJyAAQbgBaiEoICEpAwAhASAiKQMAIQIgIykDACEDICQpAwAhBCAlKQMAIQUgJikDACEGICcpAwAhByAoKQMAIQhCiJLznf/M+YTqACEJQrvOqqbY0Ouzu38hCkKr8NP0r+68tzwhC0Lx7fT4paf9p6V/IQxC0YWa7/rPlIfRACENQp/Y+dnCkdqCm38hDkLr+obav7X2wR8hD0L5wvibkaOz8NsAIRAgACkDACERIABBCGopAwAhEiAAQRBqKQMAIRMgAEEYaikDACEUIABBIGopAwAhFSAAQShqKQMAIRYgAEEwaikDACEXIABBOGopAwAhGCAAQcAAaikDACEZIABByABqKQMAIRogAEHQAGopAwAhGyAAQdgAaikDACEcIABB4ABqKQMAIR0gAEHoAGopAwAhHiAAQfAAaikDACEfIABB+ABqKQMAISAgDSAAQcABaikDAIUhDSAPIABB0AFqKQMAhSEPIAEgBSARfHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgEnx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBN8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAUfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgFXx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIBZ8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAXfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggGHx8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBl8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAafHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgG3x8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBx8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAdfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggHnx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIB98fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAgfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgH3x8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBt8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAVfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgGXx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBp8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAgfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggHnx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBd8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiASfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgHXx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBF8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByATfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggHHx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBh8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAWfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgFHx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIBx8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAZfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgHXx8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBF8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAWfHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgE3x8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIICB8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAefHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgG3x8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIB98fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAUfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgF3x8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBh8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCASfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgGnx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBV8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAYfHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgGnx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBR8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiASfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgHnx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIB18fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAcfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggH3x8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBN8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAXfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgFnx8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBt8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAVfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggEXx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFICB8fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAZfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgGnx8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBF8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAWfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgGHx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBN8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAVfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggG3x8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIICB8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAffHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgEnx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBx8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAdfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggF3x8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBl8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAUfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgHnx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIBN8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAdfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgF3x8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBt8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByARfHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgHHx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBl8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAUfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgFXx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIB58fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAYfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgFnx8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIICB8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCAffHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgEnx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBp8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAdfHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgFnx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBJ8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAgfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgH3x8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIB58fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAVfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggG3x8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBF8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAYfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgF3x8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBR8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAafHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggE3x8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIBl8fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAcfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgHnx8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBx8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAYfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgH3x8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIB18fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByASfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggFHx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBp8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAWfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgEXx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHICB8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAVfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggGXx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBd8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSATfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgG3x8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIBd8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAgfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgH3x8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBp8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAcfHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgFHx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBF8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAZfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgHXx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIBN8fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAefHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgGHx8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBJ8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCAVfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgG3x8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBZ8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAbfHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgE3x8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBl8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAVfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgGHx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIBd8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCASfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggFnx8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGICB8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAcfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgGnx8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIB98fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAUfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggHXx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIB58fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSARfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgEXx8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBJ8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiATfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgFHx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBV8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAWfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggF3x8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBh8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAZfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgGnx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBt8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAcfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggHXx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIB58fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAffHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgIHx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIB98fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAbfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgFXx8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBl8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAafHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgIHx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIB58fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAXfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgEnx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIB18fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByARfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgE3x8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBx8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCAYfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgFnx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBR8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFICEgISkDACABIAmFhTcDACAiICIpAwAgAiAKhYU3AwAgIyAjKQMAIAMgC4WFNwMAICQgJCkDACAEIAyFhTcDACAlICUpAwAgBSANhYU3AwAgJiAmKQMAIAYgDoWFNwMAICcgJykDACAHIA+FhTcDACAoICgpAwAgCCAQhYU3AwAL"),i=null,n={buffer:t,memory:null,exports:null,realloc:s,onload:o};return o(function(){}),n;function s(c){n.exports.memory.grow(Math.ceil(Math.abs(c-n.memory.length)/65536)),n.memory=new Uint8Array(n.exports.memory.buffer)}function o(c){if(n.exports)return c();if(i){i.then(c.bind(null,null)).catch(c);return}try{if(r&&r.async)throw new Error("async");a({instance:new WebAssembly.Instance(new WebAssembly.Module(t),e)})}catch{i=WebAssembly.instantiate(t,e).then(a)}o(c)}function a(c){n.exports=c.instance.exports,n.memory=n.exports.memory&&n.exports.memory.buffer&&new Uint8Array(n.exports.memory.buffer)}}function z5(r){return typeof atob=="function"?new Uint8Array(atob(r).split("").map(k5)):new(db()).Buffer(r,"base64")}function k5(r){return r.charCodeAt(0)}});var Ib=M((gW,vi)=>{f();var wi=_y(),Ke=gb()(),zi=64,Zf=[];vi.exports=Pr;var yb=vi.exports.BYTES_MIN=16,mb=vi.exports.BYTES_MAX=64,dW=vi.exports.BYTES=32,wb=vi.exports.KEYBYTES_MIN=16,vb=vi.exports.KEYBYTES_MAX=64,pW=vi.exports.KEYBYTES=32,Eb=vi.exports.SALTBYTES=16,Ab=vi.exports.PERSONALBYTES=16;function Pr(r,e,t,i,n){if(!(this instanceof Pr))return new Pr(r,e,t,i,n);if(!(Ke&&Ke.exports))throw new Error("WASM not loaded. Wait for Blake2b.ready(cb)");r||(r=32),n!==!0&&(wi(r>=yb,"digestLength must be at least "+yb+", was given "+r),wi(r<=mb,"digestLength must be at most "+mb+", was given "+r),e!=null&&wi(e.length>=wb,"key must be at least "+wb+", was given "+e.length),e!=null&&wi(e.length<=vb,"key must be at least "+vb+", was given "+e.length),t!=null&&wi(t.length===Eb,"salt must be exactly "+Eb+", was given "+t.length),i!=null&&wi(i.length===Ab,"personal must be exactly "+Ab+", was given "+i.length)),Zf.length||(Zf.push(zi),zi+=216),this.digestLength=r,this.finalized=!1,this.pointer=Zf.pop(),Ke.memory.fill(0,0,64),Ke.memory[0]=this.digestLength,Ke.memory[1]=e?e.length:0,Ke.memory[2]=1,Ke.memory[3]=1,t&&Ke.memory.set(t,32),i&&Ke.memory.set(i,48),this.pointer+216>Ke.memory.length&&Ke.realloc(this.pointer+216),Ke.exports.blake2b_init(this.pointer,this.digestLength),e&&(this.update(e),Ke.memory.fill(0,zi,zi+e.length),Ke.memory[this.pointer+200]=128)}Pr.prototype.update=function(r){return wi(this.finalized===!1,"Hash instance finalized"),wi(r,"input must be TypedArray or Buffer"),zi+r.length>Ke.memory.length&&Ke.realloc(zi+r.length),Ke.memory.set(r,zi),Ke.exports.blake2b_update(this.pointer,zi,zi+r.length),this};Pr.prototype.digest=function(r){if(wi(this.finalized===!1,"Hash instance finalized"),this.finalized=!0,Zf.push(this.pointer),Ke.exports.blake2b_final(this.pointer),!r||r==="binary")return Ke.memory.slice(this.pointer+128,this.pointer+128+this.digestLength);if(r==="hex")return W5(Ke.memory,this.pointer+128,this.digestLength);wi(r.length>=this.digestLength,"input must be TypedArray or Buffer");for(var e=0;e<this.digestLength;e++)r[e]=Ke.memory[this.pointer+128+e];return r};Pr.prototype.final=Pr.prototype.digest;Pr.WASM=Ke&&Ke.buffer;Pr.SUPPORTED=typeof WebAssembly<"u";Pr.ready=function(r){if(r||(r=$5),!Ke)return r(new Error("WebAssembly not supported"));var e=new Promise(function(t,i){Ke.onload(function(n){n?i():t(),r(n)})});return e};Pr.prototype.ready=Pr.ready;function $5(){}function W5(r,e,t){for(var i="",n=0;n<t;n++)i+=Y5(r[e+n]);return i}function Y5(r){return r<16?"0"+r.toString(16):r.toString(16)}});var Rb=M((vW,gr)=>{f();var Tn=_y(),fc=Ib();function eh(r,e,t){var i=r[e]+r[t],n=r[e+1]+r[t+1];i>=4294967296&&n++,r[e]=i,r[e+1]=n}function _b(r,e,t,i){var n=r[e]+t;t<0&&(n+=4294967296);var s=r[e+1]+i;n>=4294967296&&s++,r[e]=n,r[e+1]=s}function Db(r,e){return r[e]^r[e+1]<<8^r[e+2]<<16^r[e+3]<<24}function xn(r,e,t,i,n,s){var o=lc[n],a=lc[n+1],c=lc[s],h=lc[s+1];eh(Ce,r,e),_b(Ce,r,o,a);var p=Ce[i]^Ce[r],A=Ce[i+1]^Ce[r+1];Ce[i]=A,Ce[i+1]=p,eh(Ce,t,i),p=Ce[e]^Ce[t],A=Ce[e+1]^Ce[t+1],Ce[e]=p>>>24^A<<8,Ce[e+1]=A>>>24^p<<8,eh(Ce,r,e),_b(Ce,r,c,h),p=Ce[i]^Ce[r],A=Ce[i+1]^Ce[r+1],Ce[i]=p>>>16^A<<16,Ce[i+1]=A>>>16^p<<16,eh(Ce,t,i),p=Ce[e]^Ce[t],A=Ce[e+1]^Ce[t+1],Ce[e]=A>>>31^p<<1,Ce[e+1]=p>>>31^A<<1}var Ob=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),J5=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],nr=new Uint8Array(J5.map(function(r){return r*2})),Ce=new Uint32Array(32),lc=new Uint32Array(32);function Bb(r,e){var t=0;for(t=0;t<16;t++)Ce[t]=r.h[t],Ce[t+16]=Ob[t];for(Ce[24]=Ce[24]^r.t,Ce[25]=Ce[25]^r.t/4294967296,e&&(Ce[28]=~Ce[28],Ce[29]=~Ce[29]),t=0;t<32;t++)lc[t]=Db(r.b,4*t);for(t=0;t<12;t++)xn(0,8,16,24,nr[t*16+0],nr[t*16+1]),xn(2,10,18,26,nr[t*16+2],nr[t*16+3]),xn(4,12,20,28,nr[t*16+4],nr[t*16+5]),xn(6,14,22,30,nr[t*16+6],nr[t*16+7]),xn(0,10,20,30,nr[t*16+8],nr[t*16+9]),xn(2,12,22,24,nr[t*16+10],nr[t*16+11]),xn(4,14,16,26,nr[t*16+12],nr[t*16+13]),xn(6,8,18,28,nr[t*16+14],nr[t*16+15]);for(t=0;t<16;t++)r.h[t]=r.h[t]^Ce[t]^Ce[t+16]}var Sn=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function Ca(r,e,t,i){Sn.fill(0),this.b=new Uint8Array(128),this.h=new Uint32Array(16),this.t=0,this.c=0,this.outlen=r,Sn[0]=r,e&&(Sn[1]=e.length),Sn[2]=1,Sn[3]=1,t&&Sn.set(t,32),i&&Sn.set(i,48);for(var n=0;n<16;n++)this.h[n]=Ob[n]^Db(Sn,n*4);e&&(Mb(this,e),this.c=128)}Ca.prototype.update=function(r){return Tn(r!=null,"input must be Uint8Array or Buffer"),Mb(this,r),this};Ca.prototype.digest=function(r){var e=!r||r==="binary"||r==="hex"?new Uint8Array(this.outlen):r;return Tn(e.length>=this.outlen,"out must have at least outlen bytes of space"),X5(this,e),r==="hex"?Z5(e):e};Ca.prototype.final=Ca.prototype.digest;Ca.ready=function(r){fc.ready(function(){r()})};function Mb(r,e){for(var t=0;t<e.length;t++)r.c===128&&(r.t+=r.c,Bb(r,!1),r.c=0),r.b[r.c++]=e[t]}function X5(r,e){for(r.t+=r.c;r.c<128;)r.b[r.c++]=0;Bb(r,!0);for(var t=0;t<r.outlen;t++)e[t]=r.h[t>>2]>>8*(t&3);return e}function Z5(r){for(var e="",t=0;t<r.length;t++)e+=eR(r[t]);return e}function eR(r){return r<16?"0"+r.toString(16):r.toString(16)}var Pb=Ca;gr.exports=function(e,t,i,n,s){return s!==!0&&(Tn(e>=bb,"outlen must be at least "+bb+", was given "+e),Tn(e<=Cb,"outlen must be at most "+Cb+", was given "+e),t!=null&&Tn(t.length>=xb,"key must be at least "+xb+", was given "+t.length),t!=null&&Tn(t.length<=Sb,"key must be at most "+Sb+", was given "+t.length),i!=null&&Tn(i.length===Tb,"salt must be exactly "+Tb+", was given "+i.length),n!=null&&Tn(n.length===Nb,"personal must be exactly "+Nb+", was given "+n.length)),new Pb(e,t,i,n)};gr.exports.ready=function(r){fc.ready(function(){r()})};gr.exports.WASM_SUPPORTED=fc.SUPPORTED;gr.exports.WASM_LOADED=!1;var bb=gr.exports.BYTES_MIN=16,Cb=gr.exports.BYTES_MAX=64,mW=gr.exports.BYTES=32,xb=gr.exports.KEYBYTES_MIN=16,Sb=gr.exports.KEYBYTES_MAX=64,wW=gr.exports.KEYBYTES=32,Tb=gr.exports.SALTBYTES=16,Nb=gr.exports.PERSONALBYTES=16;fc.ready(function(r){r||(gr.exports.WASM_LOADED=!0,Pb=fc)})});var Ry=M(Rr=>{"use strict";f();var tR=Rr&&Rr.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),rR=Rr&&Rr.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),iR=Rr&&Rr.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&tR(e,r,t);return rR(e,r),e};Object.defineProperty(Rr,"__esModule",{value:!0});Rr.TransactionHash=Rr.Transaction=void 0;var hc=Vr(),My=Hr(),Py=QI(),Lb=KI(),nR=xr(),Fb=ic(),sR=iR($e()),oR=$_(),aR=W_(),uR=Gf(),cR=Rb(),lR=32,dc=class{constructor({nonce:e,value:t,receiver:i,sender:n,gasPrice:s,gasLimit:o,data:a,chainID:c,version:h,options:p}){this.nonce=e||0,this.value=t||0,this.sender=n,this.receiver=i,this.gasPrice=s||uR.TRANSACTION_MIN_GAS_PRICE,this.gasLimit=o,this.data=a||new Fb.TransactionPayload,this.chainID=c,this.version=h||Py.TransactionVersion.withDefaultVersion(),this.options=p||Py.TransactionOptions.withDefaultOptions(),this.signature=Lb.Signature.empty(),this.hash=Qs.empty()}getNonce(){return this.nonce}setNonce(e){this.nonce=e}getValue(){return this.value}setValue(e){this.value=e}getSender(){return this.sender}getReceiver(){return this.receiver}getGasPrice(){return this.gasPrice}setGasPrice(e){this.gasPrice=e}getGasLimit(){return this.gasLimit}setGasLimit(e){this.gasLimit=e}getData(){return this.data}getChainID(){return this.chainID}setChainID(e){this.chainID=e}getVersion(){return this.version}getOptions(){return this.options}getSignature(){return this.signature}getHash(){return nR.guardNotEmpty(this.hash,"hash"),this.hash}serializeForSigning(e){let t=this.toPlainObject(e);t.signature&&delete t.signature;let i=JSON.stringify(t);return y.Buffer.from(i)}toPlainObject(e){return{nonce:this.nonce.valueOf(),value:this.value.toString(),receiver:this.receiver.bech32(),sender:e?e.bech32():this.sender.bech32(),gasPrice:this.gasPrice.valueOf(),gasLimit:this.gasLimit.valueOf(),data:this.data.length()==0?void 0:this.data.encoded(),chainID:this.chainID.valueOf(),version:this.version.valueOf(),options:this.options.valueOf()==0?void 0:this.options.valueOf(),signature:this.signature.hex()?this.signature.hex():void 0}}static fromPlainObject(e){let t=new dc({nonce:Number(e.nonce),value:new hc.BigNumber(e.value),receiver:My.Address.fromString(e.receiver),sender:My.Address.fromString(e.sender),gasPrice:Number(e.gasPrice),gasLimit:Number(e.gasLimit),data:new Fb.TransactionPayload(y.Buffer.from(e.data||"","base64")),chainID:String(e.chainID),version:new Py.TransactionVersion(e.version)});return e.signature&&t.applySignature(new Lb.Signature(e.signature),My.Address.fromString(e.sender)),t}applySignature(e,t){this.signature=e,this.sender=t,this.hash=Qs.compute(this)}toSendable(){return this.toPlainObject()}computeFee(e){let t=e.MinGasLimit.valueOf()+this.data.length()*e.GasPerDataByte.valueOf();if(t>this.gasLimit.valueOf())throw new sR.ErrNotEnoughGas(this.gasLimit.valueOf());let i=new hc.BigNumber(this.gasPrice.valueOf()),n=new hc.BigNumber(t).multipliedBy(i);if(t===this.gasLimit.valueOf())return n;let s=new hc.BigNumber(this.gasLimit.valueOf()-t),o=i.multipliedBy(new hc.BigNumber(e.GasPriceModifier.valueOf())),a=s.multipliedBy(o);return n.plus(a)}};Rr.Transaction=dc;var Qs=class extends aR.Hash{constructor(e){super(e)}static compute(e){let i=new oR.ProtoSerializer().serializeTransaction(e),n=cR(lR).update(i).digest("hex");return new Qs(n)}};Rr.TransactionHash=Qs});var Ly=M(Gs=>{"use strict";f();Object.defineProperty(Gs,"__esModule",{value:!0});Gs.Logger=Gs.LogLevel=void 0;var js;(function(r){r[r.Trace=0]="Trace",r[r.Debug=1]="Debug",r[r.Info=2]="Info",r[r.Warn=3]="Warn",r[r.Error=4]="Error",r[r.None=5]="None"})(js=Gs.LogLevel||(Gs.LogLevel={}));var $r=class{static setLevel(e){$r.logLevel=e}static trace(e,...t){$r.logLevel>=js.Debug||console.debug(e,t)}static debug(e,...t){$r.logLevel>=js.Debug||console.debug(e,t)}static info(e,...t){$r.logLevel>=js.Info||console.log(e,t)}static warn(e,...t){$r.logLevel>=js.Warn||console.warn(e,t)}static error(e,...t){$r.logLevel>=js.Error||console.error(e,t)}};Gs.Logger=$r;$r.logLevel=js.Debug});var Ub=M(Ei=>{"use strict";f();var fR=Ei&&Ei.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),hR=Ei&&Ei.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),dR=Ei&&Ei.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&fR(e,r,t);return hR(e,r),e};Object.defineProperty(Ei,"__esModule",{value:!0});Ei.AsyncTimer=void 0;var pR=dR($e()),gR=$e(),Fy=Ly(),Uy=class{constructor(e){this.timeoutHandle=null,this.rejectionFunc=null,this.name=e,this.correlationTag=0}start(e){if(this.timeoutHandle)throw new pR.ErrAsyncTimerAlreadyRunning;return this.correlationTag++,Fy.Logger.trace(`AsyncTimer[${this.name}'${this.correlationTag}].start()`),new Promise((t,i)=>{this.rejectionFunc=i;let n=()=>{this.rejectionFunc=null,this.stop(),t()};this.timeoutHandle=setTimeout(n,e)})}abort(){Fy.Logger.trace(`AsyncTimer[${this.name}'${this.correlationTag}].abort()`),this.rejectionFunc&&(this.rejectionFunc(new gR.ErrAsyncTimerAborted),this.rejectionFunc=null),this.stop()}stop(){this.isStopped()||(Fy.Logger.trace(`AsyncTimer[${this.name}'${this.correlationTag}].stop()`),this.timeoutHandle&&(clearTimeout(this.timeoutHandle),this.timeoutHandle=null))}isStopped(){return!this.timeoutHandle}};Ei.AsyncTimer=Uy});var Vy=M(Sa=>{"use strict";f();var Lr=Sa&&Sa.__awaiter||function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(p){try{h(i.next(p))}catch(A){o(A)}}function c(p){try{h(i.throw(p))}catch(A){o(A)}}function h(p){p.done?s(p.value):n(p.value).then(a,c)}h((i=i.apply(r,e||[])).next())})};Object.defineProperty(Sa,"__esModule",{value:!0});Sa.TransactionWatcher=void 0;var qb=Ub(),Vb=Ly(),xa=$e(),Ai=class{constructor(e,t=Ai.DefaultPollingInterval,i=Ai.DefaultTimeout){this.fetcher=new qy(e),this.pollingInterval=t,this.timeout=i}awaitPending(e){return Lr(this,void 0,void 0,function*(){let t=s=>s.status.isPending(),i=()=>Lr(this,void 0,void 0,function*(){return yield this.fetcher.getTransaction(e.getHash().hex())}),n=()=>new xa.ErrExpectedTransactionStatusNotReached;return this.awaitConditionally(t,i,n)})}awaitCompleted(e){return Lr(this,void 0,void 0,function*(){let t=s=>s.isCompleted,i=()=>Lr(this,void 0,void 0,function*(){return yield this.fetcher.getTransaction(e.getHash().hex())}),n=()=>new xa.ErrExpectedTransactionStatusNotReached;return this.awaitConditionally(t,i,n)})}awaitAllEvents(e,t){return Lr(this,void 0,void 0,function*(){let i=o=>{let a=this.getAllTransactionEvents(o).map(h=>h.identifier);return t.every(h=>a.includes(h))},n=()=>Lr(this,void 0,void 0,function*(){return yield this.fetcher.getTransaction(e.getHash().hex())}),s=()=>new xa.ErrExpectedTransactionEventsNotFound;return this.awaitConditionally(i,n,s)})}awaitAnyEvent(e,t){return Lr(this,void 0,void 0,function*(){let i=o=>{let a=this.getAllTransactionEvents(o).map(h=>h.identifier);return t.find(h=>a.includes(h))!=null},n=()=>Lr(this,void 0,void 0,function*(){return yield this.fetcher.getTransaction(e.getHash().hex())}),s=()=>new xa.ErrExpectedTransactionEventsNotFound;return this.awaitConditionally(i,n,s)})}awaitOnCondition(e,t){return Lr(this,void 0,void 0,function*(){let i=()=>Lr(this,void 0,void 0,function*(){return yield this.fetcher.getTransaction(e.getHash().hex())}),n=()=>new xa.ErrExpectedTransactionStatusNotReached;return this.awaitConditionally(t,i,n)})}awaitConditionally(e,t,i){return Lr(this,void 0,void 0,function*(){let n=new qb.AsyncTimer("watcher:periodic"),s=new qb.AsyncTimer("watcher:timeout"),o=!1,a,c=!1;for(s.start(this.timeout).finally(()=>{s.stop(),o=!0});!o;){yield n.start(this.pollingInterval);try{if(a=yield t(),c=e(a),c||o)break}catch(h){if(Vb.Logger.debug("TransactionWatcher.awaitConditionally(): cannot (yet) fetch data."),!(h instanceof xa.Err))throw h}}if(s.isStopped()||s.stop(),!a||!c)throw i();return a})}getAllTransactionEvents(e){let t=[...e.logs.events];for(let i of e.contractResults.items)t.push(...i.logs.events);return t}};Sa.TransactionWatcher=Ai;Ai.DefaultPollingInterval=6e3;Ai.DefaultTimeout=Ai.DefaultPollingInterval*15;Ai.NoopOnStatusReceived=r=>{};var qy=class{constructor(e){this.fetcher=e}getTransaction(e){return Lr(this,void 0,void 0,function*(){return Vb.Logger.debug(`transactionWatcher, getTransaction(${e})`),yield this.fetcher.getTransaction(e)})}}});var Hb=M(Ii=>{"use strict";f();var yR=Ii&&Ii.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),mR=Ii&&Ii.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),wR=Ii&&Ii.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&yR(e,r,t);return mR(e,r),e};Object.defineProperty(Ii,"__esModule",{value:!0});Ii.ContractFunction=void 0;var vR=wR($e()),pc=class{constructor(e){if(this.name=e,e==null)throw new vR.ErrInvalidFunctionName}static none(){return new pc("untitled")}toString(){return this.name}valueOf(){return this.name}equals(e){return e?this.name==e.name:!1}};Ii.ContractFunction=pc});var Qb=M(Ta=>{"use strict";f();Object.defineProperty(Ta,"__esModule",{value:!0});Ta.Signature=Ta.Address=void 0;var Hy=class{constructor(e){this.value=e}bech32(){return this.value}};Ta.Address=Hy;var Qy=class{constructor(e){this.value=e}hex(){return this.value}};Ta.Signature=Qy});var jb=M(gc=>{"use strict";f();Object.defineProperty(gc,"__esModule",{value:!0});gc.Operation=void 0;var ER;(function(r){r.Connect="connect",r.Logout="logout",r.SignTransactions="signTransactions",r.SignMessage="signMessage",r.CancelAction="cancelAction"})(ER=gc.Operation||(gc.Operation={}))});var Gb=M(Nn=>{"use strict";f();Object.defineProperty(Nn,"__esModule",{value:!0});Nn.ErrAccountNotConnected=Nn.ErrCannotSignSingleTransaction=Nn.Err=void 0;var yc=class extends Error{constructor(e,t){super(e),this.inner=void 0,this.inner=t}};Nn.Err=yc;var jy=class extends yc{constructor(){super("Cannot sign single transaction.")}};Nn.ErrCannotSignSingleTransaction=jy;var Gy=class extends yc{constructor(){super("Account is not connected.")}};Nn.ErrAccountNotConnected=Gy});var Ky=M(Na=>{"use strict";f();var Dn=Na&&Na.__awaiter||function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(p){try{h(i.next(p))}catch(A){o(A)}}function c(p){try{h(i.throw(p))}catch(A){o(A)}}function h(p){p.done?s(p.value):n(p.value).then(a,c)}h((i=i.apply(r,e||[])).next())})};Object.defineProperty(Na,"__esModule",{value:!0});Na.ExtensionProvider=void 0;var th=Qb(),mc=jb(),Kb=Gb(),_i=class{constructor(){if(this.account={address:""},this.initialized=!1,_i._instance)throw new Error("Error: Instantiation failed: Use ExtensionProvider.getInstance() instead of new.");_i._instance=this}static getInstance(){return _i._instance}setAddress(e){return this.account.address=e,_i._instance}init(){return Dn(this,void 0,void 0,function*(){return window&&window.elrondWallet&&(this.initialized=!0),this.initialized})}login(e={}){return Dn(this,void 0,void 0,function*(){if(!this.initialized)throw new Error("Extension provider is not initialised, call init() first");let{token:t}=e,i=t||"";return yield this.startBgrMsgChannel(mc.Operation.Connect,i),this.account.address})}logout(){return Dn(this,void 0,void 0,function*(){if(!this.initialized)throw new Error("Extension provider is not initialised, call init() first");try{yield this.startBgrMsgChannel(mc.Operation.Logout,this.account.address),this.disconnect()}catch(e){console.warn("Extension origin url is already cleared!",e)}return!0})}disconnect(){this.account={address:""}}getAddress(){return Dn(this,void 0,void 0,function*(){if(!this.initialized)throw new Error("Extension provider is not initialised, call init() first");return this.account?this.account.address:""})}isInitialized(){return this.initialized}isConnected(){return Dn(this,void 0,void 0,function*(){return Boolean(this.account.address)})}signTransaction(e){return Dn(this,void 0,void 0,function*(){this.ensureConnected();let t=yield this.signTransactions([e]);if(t.length!=1)throw new Kb.ErrCannotSignSingleTransaction;return t[0]})}ensureConnected(){if(!this.account.address)throw new Kb.ErrAccountNotConnected}signTransactions(e){return Dn(this,void 0,void 0,function*(){this.ensureConnected();let t=yield this.startBgrMsgChannel(mc.Operation.SignTransactions,{from:this.account.address,transactions:e.map(i=>i.toPlainObject())});try{for(let i=0;i<e.length;i++){let n=e[i],s=t[i];n.applySignature(new th.Signature(s.signature),new th.Address(this.account.address))}return e}catch(i){throw new Error(`Transaction canceled: ${i.message}.`)}})}signMessage(e){return Dn(this,void 0,void 0,function*(){this.ensureConnected();let t={account:this.account.address,message:e.message.toString()},i=yield this.startBgrMsgChannel(mc.Operation.SignMessage,t);return e.applySignature(new th.Signature(i.signature),new th.Address(this.account.address)),e})}cancelAction(){return this.startBgrMsgChannel(mc.Operation.CancelAction,{})}startBgrMsgChannel(e,t){return new Promise(i=>{window.postMessage({target:"erdw-inpage",type:e,data:t},window.origin);let n=s=>{s.isTrusted&&s.data.target==="erdw-contentScript"&&(s.data.type==="connectResponse"?(s.data.data&&Boolean(s.data.data.address)&&(this.account=s.data.data),window.removeEventListener("message",n),i(s.data.data)):(window.removeEventListener("message",n),i(s.data.data)))};window.addEventListener("message",n,!1)})}};Na.ExtensionProvider=_i;_i._instance=new _i});var Jb=M(($W,Yb)=>{"use strict";f();function AR(r){try{return JSON.stringify(r)}catch{return'"[Circular]"'}}Yb.exports=IR;function IR(r,e,t){var i=t&&t.stringify||AR,n=1;if(typeof r=="object"&&r!==null){var s=e.length+n;if(s===1)return r;var o=new Array(s);o[0]=i(r);for(var a=1;a<s;a++)o[a]=i(e[a]);return o.join(" ")}if(typeof r!="string")return r;var c=e.length;if(c===0)return r;for(var h="",p=1-n,A=-1,D=r&&r.length||0,O=0;O<D;){if(r.charCodeAt(O)===37&&O+1<D){switch(A=A>-1?A:0,r.charCodeAt(O+1)){case 100:case 102:if(p>=c||e[p]==null)break;A<O&&(h+=r.slice(A,O)),h+=Number(e[p]),A=O+2,O++;break;case 105:if(p>=c||e[p]==null)break;A<O&&(h+=r.slice(A,O)),h+=Math.floor(Number(e[p])),A=O+2,O++;break;case 79:case 111:case 106:if(p>=c||e[p]===void 0)break;A<O&&(h+=r.slice(A,O));var T=typeof e[p];if(T==="string"){h+="'"+e[p]+"'",A=O+2,O++;break}if(T==="function"){h+=e[p].name||"<anonymous>",A=O+2,O++;break}h+=i(e[p]),A=O+2,O++;break;case 115:if(p>=c)break;A<O&&(h+=r.slice(A,O)),h+=String(e[p]),A=O+2,O++;break;case 37:A<O&&(h+=r.slice(A,O)),h+="%",A=O+2,O++,p--;break}++p}++O}return A===-1?r:(A<D&&(h+=r.slice(A)),h)}});var uh=M((YW,tC)=>{"use strict";f();var Xb=Jb();tC.exports=Ci;var wc=BR().console||{},_R={mapHttpRequest:oh,mapHttpResponse:oh,wrapRequestSerializer:zy,wrapResponseSerializer:zy,wrapErrorSerializer:zy,req:oh,res:oh,err:TR};function bR(r,e){return Array.isArray(r)?r.filter(function(i){return i!=="!stdSerializers.err"}):r===!0?Object.keys(e):!1}function Ci(r){r=r||{},r.browser=r.browser||{};let e=r.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");let t=r.browser.write||wc;r.browser.write&&(r.browser.asObject=!0);let i=r.serializers||{},n=bR(r.browser.serialize,i),s=r.browser.serialize;Array.isArray(r.browser.serialize)&&r.browser.serialize.indexOf("!stdSerializers.err")>-1&&(s=!1);let o=["error","fatal","warn","info","debug","trace"];typeof t=="function"&&(t.error=t.fatal=t.warn=t.info=t.debug=t.trace=t),r.enabled===!1&&(r.level="silent");let a=r.level||"info",c=Object.create(t);c.log||(c.log=vc),Object.defineProperty(c,"levelVal",{get:p}),Object.defineProperty(c,"level",{get:A,set:D});let h={transmit:e,serialize:n,asObject:r.browser.asObject,levels:o,timestamp:NR(r)};c.levels=Ci.levels,c.level=a,c.setMaxListeners=c.getMaxListeners=c.emit=c.addListener=c.on=c.prependListener=c.once=c.prependOnceListener=c.removeListener=c.removeAllListeners=c.listeners=c.listenerCount=c.eventNames=c.write=c.flush=vc,c.serializers=i,c._serialize=n,c._stdErrSerialize=s,c.child=O,e&&(c._logEvent=ky());function p(){return this.level==="silent"?1/0:this.levels.values[this.level]}function A(){return this._level}function D(T){if(T!=="silent"&&!this.levels.values[T])throw Error("unknown level "+T);this._level=T,Da(h,c,"error","log"),Da(h,c,"fatal","error"),Da(h,c,"warn","error"),Da(h,c,"info","log"),Da(h,c,"debug","log"),Da(h,c,"trace","log")}function O(T,V){if(!T)throw new Error("missing bindings for child Pino");V=V||{},n&&T.serializers&&(V.serializers=T.serializers);let Q=V.serializers;if(n&&Q){var j=Object.assign({},i,Q),ie=r.browser.serialize===!0?Object.keys(j):n;delete T.serializers,ah([T],ie,j,this._stdErrSerialize)}function Y(W){this._childLevel=(W._childLevel|0)+1,this.error=Oa(W,T,"error"),this.fatal=Oa(W,T,"fatal"),this.warn=Oa(W,T,"warn"),this.info=Oa(W,T,"info"),this.debug=Oa(W,T,"debug"),this.trace=Oa(W,T,"trace"),j&&(this.serializers=j,this._serialize=ie),e&&(this._logEvent=ky([].concat(W._logEvent.bindings,T)))}return Y.prototype=this,new Y(this)}return c}Ci.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};Ci.stdSerializers=_R;Ci.stdTimeFunctions=Object.assign({},{nullTime:Zb,epochTime:eC,unixTime:DR,isoTime:OR});function Da(r,e,t,i){let n=Object.getPrototypeOf(e);e[t]=e.levelVal>e.levels.values[t]?vc:n[t]?n[t]:wc[t]||wc[i]||vc,CR(r,e,t)}function CR(r,e,t){!r.transmit&&e[t]===vc||(e[t]=function(i){return function(){let s=r.timestamp(),o=new Array(arguments.length),a=Object.getPrototypeOf&&Object.getPrototypeOf(this)===wc?wc:this;for(var c=0;c<o.length;c++)o[c]=arguments[c];if(r.serialize&&!r.asObject&&ah(o,this._serialize,this.serializers,this._stdErrSerialize),r.asObject?i.call(a,xR(this,t,o,s)):i.apply(a,o),r.transmit){let h=r.transmit.level||e.level,p=Ci.levels.values[h],A=Ci.levels.values[t];if(A<p)return;SR(this,{ts:s,methodLevel:t,methodValue:A,transmitLevel:h,transmitValue:Ci.levels.values[r.transmit.level||e.level],send:r.transmit.send,val:e.levelVal},o)}}}(e[t]))}function xR(r,e,t,i){r._serialize&&ah(t,r._serialize,r.serializers,r._stdErrSerialize);let n=t.slice(),s=n[0],o={};i&&(o.time=i),o.level=Ci.levels.values[e];let a=(r._childLevel|0)+1;if(a<1&&(a=1),s!==null&&typeof s=="object"){for(;a--&&typeof n[0]=="object";)Object.assign(o,n.shift());s=n.length?Xb(n.shift(),n):void 0}else typeof s=="string"&&(s=Xb(n.shift(),n));return s!==void 0&&(o.msg=s),o}function ah(r,e,t,i){for(let n in r)if(i&&r[n]instanceof Error)r[n]=Ci.stdSerializers.err(r[n]);else if(typeof r[n]=="object"&&!Array.isArray(r[n]))for(let s in r[n])e&&e.indexOf(s)>-1&&s in t&&(r[n][s]=t[s](r[n][s]))}function Oa(r,e,t){return function(){let i=new Array(1+arguments.length);i[0]=e;for(var n=1;n<i.length;n++)i[n]=arguments[n-1];return r[t].apply(this,i)}}function SR(r,e,t){let i=e.send,n=e.ts,s=e.methodLevel,o=e.methodValue,a=e.val,c=r._logEvent.bindings;ah(t,r._serialize||Object.keys(r.serializers),r.serializers,r._stdErrSerialize===void 0?!0:r._stdErrSerialize),r._logEvent.ts=n,r._logEvent.messages=t.filter(function(h){return c.indexOf(h)===-1}),r._logEvent.level.label=s,r._logEvent.level.value=o,i(s,r._logEvent,a),r._logEvent=ky(c)}function ky(r){return{ts:0,messages:[],bindings:r||[],level:{label:"",value:0}}}function TR(r){let e={type:r.constructor.name,msg:r.message,stack:r.stack};for(let t in r)e[t]===void 0&&(e[t]=r[t]);return e}function NR(r){return typeof r.timestamp=="function"?r.timestamp:r.timestamp===!1?Zb:eC}function oh(){return{}}function zy(r){return r}function vc(){}function Zb(){return!1}function eC(){return Date.now()}function DR(){return Math.round(Date.now()/1e3)}function OR(){return new Date(Date.now()).toISOString()}function BR(){function r(e){return typeof e<"u"&&e}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return r(self)||r(window)||r(this)||{}}}});var Ks=M((XW,$y)=>{"use strict";f();var Ba=typeof Reflect=="object"?Reflect:null,rC=Ba&&typeof Ba.apply=="function"?Ba.apply:function(e,t,i){return Function.prototype.apply.call(e,t,i)},ch;Ba&&typeof Ba.ownKeys=="function"?ch=Ba.ownKeys:Object.getOwnPropertySymbols?ch=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:ch=function(e){return Object.getOwnPropertyNames(e)};function MR(r){console&&console.warn&&console.warn(r)}var nC=Number.isNaN||function(e){return e!==e};function He(){He.init.call(this)}$y.exports=He;$y.exports.once=FR;He.EventEmitter=He;He.prototype._events=void 0;He.prototype._eventsCount=0;He.prototype._maxListeners=void 0;var iC=10;function lh(r){if(typeof r!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof r)}Object.defineProperty(He,"defaultMaxListeners",{enumerable:!0,get:function(){return iC},set:function(r){if(typeof r!="number"||r<0||nC(r))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+r+".");iC=r}});He.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};He.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||nC(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function sC(r){return r._maxListeners===void 0?He.defaultMaxListeners:r._maxListeners}He.prototype.getMaxListeners=function(){return sC(this)};He.prototype.emit=function(e){for(var t=[],i=1;i<arguments.length;i++)t.push(arguments[i]);var n=e==="error",s=this._events;if(s!==void 0)n=n&&s.error===void 0;else if(!n)return!1;if(n){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=s[e];if(c===void 0)return!1;if(typeof c=="function")rC(c,this,t);else for(var h=c.length,p=lC(c,h),i=0;i<h;++i)rC(p[i],this,t);return!0};function oC(r,e,t,i){var n,s,o;if(lh(t),s=r._events,s===void 0?(s=r._events=Object.create(null),r._eventsCount=0):(s.newListener!==void 0&&(r.emit("newListener",e,t.listener?t.listener:t),s=r._events),o=s[e]),o===void 0)o=s[e]=t,++r._eventsCount;else if(typeof o=="function"?o=s[e]=i?[t,o]:[o,t]:i?o.unshift(t):o.push(t),n=sC(r),n>0&&o.length>n&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=r,a.type=e,a.count=o.length,MR(a)}return r}He.prototype.addListener=function(e,t){return oC(this,e,t,!1)};He.prototype.on=He.prototype.addListener;He.prototype.prependListener=function(e,t){return oC(this,e,t,!0)};function PR(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function aC(r,e,t){var i={fired:!1,wrapFn:void 0,target:r,type:e,listener:t},n=PR.bind(i);return n.listener=t,i.wrapFn=n,n}He.prototype.once=function(e,t){return lh(t),this.on(e,aC(this,e,t)),this};He.prototype.prependOnceListener=function(e,t){return lh(t),this.prependListener(e,aC(this,e,t)),this};He.prototype.removeListener=function(e,t){var i,n,s,o,a;if(lh(t),n=this._events,n===void 0)return this;if(i=n[e],i===void 0)return this;if(i===t||i.listener===t)--this._eventsCount===0?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,i.listener||t));else if(typeof i!="function"){for(s=-1,o=i.length-1;o>=0;o--)if(i[o]===t||i[o].listener===t){a=i[o].listener,s=o;break}if(s<0)return this;s===0?i.shift():RR(i,s),i.length===1&&(n[e]=i[0]),n.removeListener!==void 0&&this.emit("removeListener",e,a||t)}return this};He.prototype.off=He.prototype.removeListener;He.prototype.removeAllListeners=function(e){var t,i,n;if(i=this._events,i===void 0)return this;if(i.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):i[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete i[e]),this;if(arguments.length===0){var s=Object.keys(i),o;for(n=0;n<s.length;++n)o=s[n],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=i[e],typeof t=="function")this.removeListener(e,t);else if(t!==void 0)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this};function uC(r,e,t){var i=r._events;if(i===void 0)return[];var n=i[e];return n===void 0?[]:typeof n=="function"?t?[n.listener||n]:[n]:t?LR(n):lC(n,n.length)}He.prototype.listeners=function(e){return uC(this,e,!0)};He.prototype.rawListeners=function(e){return uC(this,e,!1)};He.listenerCount=function(r,e){return typeof r.listenerCount=="function"?r.listenerCount(e):cC.call(r,e)};He.prototype.listenerCount=cC;function cC(r){var e=this._events;if(e!==void 0){var t=e[r];if(typeof t=="function")return 1;if(t!==void 0)return t.length}return 0}He.prototype.eventNames=function(){return this._eventsCount>0?ch(this._events):[]};function lC(r,e){for(var t=new Array(e),i=0;i<e;++i)t[i]=r[i];return t}function RR(r,e){for(;e+1<r.length;e++)r[e]=r[e+1];r.pop()}function LR(r){for(var e=new Array(r.length),t=0;t<e.length;++t)e[t]=r[t].listener||r[t];return e}function FR(r,e){return new Promise(function(t,i){function n(o){r.removeListener(e,s),i(o)}function s(){typeof r.removeListener=="function"&&r.removeListener("error",n),t([].slice.call(arguments))}fC(r,e,s,{once:!0}),e!=="error"&&UR(r,n,{once:!0})})}function UR(r,e,t){typeof r.on=="function"&&fC(r,"error",e,t)}function fC(r,e,t,i){if(typeof r.on=="function")i.once?r.once(e,t):r.on(e,t);else if(typeof r.addEventListener=="function")r.addEventListener(e,function n(s){i.once&&r.removeEventListener(e,n),t(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof r)}});var Ar={};it(Ar,{__assign:()=>Yy,__asyncDelegator:()=>JR,__asyncGenerator:()=>YR,__asyncValues:()=>XR,__await:()=>Ec,__awaiter:()=>GR,__classPrivateFieldGet:()=>rL,__classPrivateFieldSet:()=>iL,__createBinding:()=>zR,__decorate:()=>HR,__exportStar:()=>kR,__extends:()=>qR,__generator:()=>KR,__importDefault:()=>tL,__importStar:()=>eL,__makeTemplateObject:()=>ZR,__metadata:()=>jR,__param:()=>QR,__read:()=>hC,__rest:()=>VR,__spread:()=>$R,__spreadArrays:()=>WR,__values:()=>Jy});function qR(r,e){Wy(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function VR(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(r);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(r,i[n])&&(t[i[n]]=r[i[n]]);return t}function HR(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s}function QR(r,e){return function(t,i){e(t,i,r)}}function jR(r,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,e)}function GR(r,e,t,i){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(p){try{h(i.next(p))}catch(A){o(A)}}function c(p){try{h(i.throw(p))}catch(A){o(A)}}function h(p){p.done?s(p.value):n(p.value).then(a,c)}h((i=i.apply(r,e||[])).next())})}function KR(r,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,n,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(h){return function(p){return c([h,p])}}function c(h){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,n&&(s=h[0]&2?n.return:h[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,h[1])).done)return s;switch(n=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return t.label++,{value:h[1],done:!1};case 5:t.label++,n=h[1],h=[0];continue;case 7:h=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){t=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){t.label=h[1];break}if(h[0]===6&&t.label<s[1]){t.label=s[1],s=h;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(h);break}s[2]&&t.ops.pop(),t.trys.pop();continue}h=e.call(r,t)}catch(p){h=[6,p],n=0}finally{i=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function zR(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}function kR(r,e){for(var t in r)t!=="default"&&!e.hasOwnProperty(t)&&(e[t]=r[t])}function Jy(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],i=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function hC(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var i=t.call(r),n,s=[],o;try{for(;(e===void 0||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(a){o={error:a}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return s}function $R(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(hC(arguments[e]));return r}function WR(){for(var r=0,e=0,t=arguments.length;e<t;e++)r+=arguments[e].length;for(var i=Array(r),n=0,e=0;e<t;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,n++)i[n]=s[o];return i}function Ec(r){return this instanceof Ec?(this.v=r,this):new Ec(r)}function YR(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(r,e||[]),n,s=[];return n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n;function o(D){i[D]&&(n[D]=function(O){return new Promise(function(T,V){s.push([D,O,T,V])>1||a(D,O)})})}function a(D,O){try{c(i[D](O))}catch(T){A(s[0][3],T)}}function c(D){D.value instanceof Ec?Promise.resolve(D.value.v).then(h,p):A(s[0][2],D)}function h(D){a("next",D)}function p(D){a("throw",D)}function A(D,O){D(O),s.shift(),s.length&&a(s[0][0],s[0][1])}}function JR(r){var e,t;return e={},i("next"),i("throw",function(n){throw n}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(n,s){e[n]=r[n]?function(o){return(t=!t)?{value:Ec(r[n](o)),done:n==="return"}:s?s(o):o}:s}}function XR(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof Jy=="function"?Jy(r):r[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(s){t[s]=r[s]&&function(o){return new Promise(function(a,c){o=r[s](o),n(a,c,o.done,o.value)})}}function n(s,o,a,c){Promise.resolve(c).then(function(h){s({value:h,done:a})},o)}}function ZR(r,e){return Object.defineProperty?Object.defineProperty(r,"raw",{value:e}):r.raw=e,r}function eL(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)Object.hasOwnProperty.call(r,t)&&(e[t]=r[t]);return e.default=r,e}function tL(r){return r&&r.__esModule?r:{default:r}}function rL(r,e){if(!e.has(r))throw new TypeError("attempted to get private field on non-instance");return e.get(r)}function iL(r,e,t){if(!e.has(r))throw new TypeError("attempted to set private field on non-instance");return e.set(r,t),t}var Wy,Yy,Ir=ye(()=>{f();Wy=function(r,e){return Wy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])},Wy(r,e)};Yy=function(){return Yy=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++){t=arguments[i];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Yy.apply(this,arguments)}});var Xy=M(fh=>{"use strict";f();Object.defineProperty(fh,"__esModule",{value:!0});function nL(r){if(typeof r!="string")throw new Error(`Cannot safe json parse value of type ${typeof r}`);try{return JSON.parse(r)}catch{return r}}fh.safeJsonParse=nL;function sL(r){return typeof r=="string"?r:JSON.stringify(r,(e,t)=>typeof t>"u"?null:t)}fh.safeJsonStringify=sL});var dC=M((iY,hh)=>{"use strict";f();(function(){"use strict";let r;function e(){}r=e,r.prototype.getItem=function(t){return this.hasOwnProperty(t)?String(this[t]):null},r.prototype.setItem=function(t,i){this[t]=String(i)},r.prototype.removeItem=function(t){delete this[t]},r.prototype.clear=function(){let t=this;Object.keys(t).forEach(function(i){t[i]=void 0,delete t[i]})},r.prototype.key=function(t){return t=t||0,Object.keys(this)[t]},r.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof global<"u"&&global.localStorage?hh.exports=global.localStorage:typeof window<"u"&&window.localStorage?hh.exports=window.localStorage:hh.exports=new e})()});var pC=M(dh=>{"use strict";f();Object.defineProperty(dh,"__esModule",{value:!0});dh.IKeyValueStorage=void 0;var Zy=class{};dh.IKeyValueStorage=Zy});var gC=M(ph=>{"use strict";f();Object.defineProperty(ph,"__esModule",{value:!0});ph.parseEntry=void 0;var oL=Xy();function aL(r){var e;return[r[0],oL.safeJsonParse((e=r[1])!==null&&e!==void 0?e:"")]}ph.parseEntry=aL});var mC=M(gh=>{"use strict";f();Object.defineProperty(gh,"__esModule",{value:!0});var yC=(Ir(),nt(Ar));yC.__exportStar(pC(),gh);yC.__exportStar(gC(),gh)});var vC=M(Ac=>{"use strict";f();Object.defineProperty(Ac,"__esModule",{value:!0});Ac.KeyValueStorage=void 0;var Ma=(Ir(),nt(Ar)),wC=Xy(),uL=Ma.__importDefault(dC()),cL=mC(),yh=class{constructor(){this.localStorage=uL.default}getKeys(){return Ma.__awaiter(this,void 0,void 0,function*(){return Object.keys(this.localStorage)})}getEntries(){return Ma.__awaiter(this,void 0,void 0,function*(){return Object.entries(this.localStorage).map(cL.parseEntry)})}getItem(e){return Ma.__awaiter(this,void 0,void 0,function*(){let t=this.localStorage.getItem(e);if(t!==null)return wC.safeJsonParse(t)})}setItem(e,t){return Ma.__awaiter(this,void 0,void 0,function*(){this.localStorage.setItem(e,wC.safeJsonStringify(t))})}removeItem(e){return Ma.__awaiter(this,void 0,void 0,function*(){this.localStorage.removeItem(e)})}};Ac.KeyValueStorage=yh;Ac.default=yh});var EC=M(mh=>{"use strict";f();Object.defineProperty(mh,"__esModule",{value:!0});mh.delay=void 0;function lL(r){return new Promise(e=>{setTimeout(()=>{e(!0)},r)})}mh.delay=lL});var AC=M(Pa=>{"use strict";f();Object.defineProperty(Pa,"__esModule",{value:!0});Pa.ONE_THOUSAND=Pa.ONE_HUNDRED=void 0;Pa.ONE_HUNDRED=100;Pa.ONE_THOUSAND=1e3});var IC=M(pe=>{"use strict";f();Object.defineProperty(pe,"__esModule",{value:!0});pe.ONE_YEAR=pe.FOUR_WEEKS=pe.THREE_WEEKS=pe.TWO_WEEKS=pe.ONE_WEEK=pe.THIRTY_DAYS=pe.SEVEN_DAYS=pe.FIVE_DAYS=pe.THREE_DAYS=pe.ONE_DAY=pe.TWENTY_FOUR_HOURS=pe.TWELVE_HOURS=pe.SIX_HOURS=pe.THREE_HOURS=pe.ONE_HOUR=pe.SIXTY_MINUTES=pe.THIRTY_MINUTES=pe.TEN_MINUTES=pe.FIVE_MINUTES=pe.ONE_MINUTE=pe.SIXTY_SECONDS=pe.THIRTY_SECONDS=pe.TEN_SECONDS=pe.FIVE_SECONDS=pe.ONE_SECOND=void 0;pe.ONE_SECOND=1;pe.FIVE_SECONDS=5;pe.TEN_SECONDS=10;pe.THIRTY_SECONDS=30;pe.SIXTY_SECONDS=60;pe.ONE_MINUTE=pe.SIXTY_SECONDS;pe.FIVE_MINUTES=pe.ONE_MINUTE*5;pe.TEN_MINUTES=pe.ONE_MINUTE*10;pe.THIRTY_MINUTES=pe.ONE_MINUTE*30;pe.SIXTY_MINUTES=pe.ONE_MINUTE*60;pe.ONE_HOUR=pe.SIXTY_MINUTES;pe.THREE_HOURS=pe.ONE_HOUR*3;pe.SIX_HOURS=pe.ONE_HOUR*6;pe.TWELVE_HOURS=pe.ONE_HOUR*12;pe.TWENTY_FOUR_HOURS=pe.ONE_HOUR*24;pe.ONE_DAY=pe.TWENTY_FOUR_HOURS;pe.THREE_DAYS=pe.ONE_DAY*3;pe.FIVE_DAYS=pe.ONE_DAY*5;pe.SEVEN_DAYS=pe.ONE_DAY*7;pe.THIRTY_DAYS=pe.ONE_DAY*30;pe.ONE_WEEK=pe.SEVEN_DAYS;pe.TWO_WEEKS=pe.ONE_WEEK*2;pe.THREE_WEEKS=pe.ONE_WEEK*3;pe.FOUR_WEEKS=pe.ONE_WEEK*4;pe.ONE_YEAR=pe.ONE_DAY*365});var em=M(wh=>{"use strict";f();Object.defineProperty(wh,"__esModule",{value:!0});var _C=(Ir(),nt(Ar));_C.__exportStar(AC(),wh);_C.__exportStar(IC(),wh)});var CC=M(Ra=>{"use strict";f();Object.defineProperty(Ra,"__esModule",{value:!0});Ra.fromMiliseconds=Ra.toMiliseconds=void 0;var bC=em();function fL(r){return r*bC.ONE_THOUSAND}Ra.toMiliseconds=fL;function hL(r){return Math.floor(r/bC.ONE_THOUSAND)}Ra.fromMiliseconds=hL});var SC=M(vh=>{"use strict";f();Object.defineProperty(vh,"__esModule",{value:!0});var xC=(Ir(),nt(Ar));xC.__exportStar(EC(),vh);xC.__exportStar(CC(),vh)});var TC=M(Ic=>{"use strict";f();Object.defineProperty(Ic,"__esModule",{value:!0});Ic.Watch=void 0;var Eh=class{constructor(){this.timestamps=new Map}start(e){if(this.timestamps.has(e))throw new Error(`Watch already started for label: ${e}`);this.timestamps.set(e,{started:Date.now()})}stop(e){let t=this.get(e);if(typeof t.elapsed<"u")throw new Error(`Watch already stopped for label: ${e}`);let i=Date.now()-t.started;this.timestamps.set(e,{started:t.started,elapsed:i})}get(e){let t=this.timestamps.get(e);if(typeof t>"u")throw new Error(`No timestamp found for label: ${e}`);return t}elapsed(e){let t=this.get(e);return t.elapsed||Date.now()-t.started}};Ic.Watch=Eh;Ic.default=Eh});var NC=M(Ah=>{"use strict";f();Object.defineProperty(Ah,"__esModule",{value:!0});Ah.IWatch=void 0;var tm=class{};Ah.IWatch=tm});var DC=M(rm=>{"use strict";f();Object.defineProperty(rm,"__esModule",{value:!0});var dL=(Ir(),nt(Ar));dL.__exportStar(NC(),rm)});var zs=M(La=>{"use strict";f();Object.defineProperty(La,"__esModule",{value:!0});var Ih=(Ir(),nt(Ar));Ih.__exportStar(SC(),La);Ih.__exportStar(TC(),La);Ih.__exportStar(DC(),La);Ih.__exportStar(em(),La)});var im,OC=ye(()=>{f();im=class{}});var nm={};it(nm,{IEvents:()=>im});var sm=ye(()=>{f();OC()});var BC=M(_h=>{"use strict";f();Object.defineProperty(_h,"__esModule",{value:!0});_h.IHeartBeat=void 0;var pL=(sm(),nt(nm)),om=class extends pL.IEvents{constructor(e){super()}};_h.IHeartBeat=om});var um=M(am=>{"use strict";f();Object.defineProperty(am,"__esModule",{value:!0});var gL=(Ir(),nt(Ar));gL.__exportStar(BC(),am)});var MC=M(Fa=>{"use strict";f();Object.defineProperty(Fa,"__esModule",{value:!0});Fa.HEARTBEAT_EVENTS=Fa.HEARTBEAT_INTERVAL=void 0;var yL=zs();Fa.HEARTBEAT_INTERVAL=yL.FIVE_SECONDS;Fa.HEARTBEAT_EVENTS={pulse:"heartbeat_pulse"}});var lm=M(cm=>{"use strict";f();Object.defineProperty(cm,"__esModule",{value:!0});var mL=(Ir(),nt(Ar));mL.__exportStar(MC(),cm)});var PC=M(bh=>{"use strict";f();Object.defineProperty(bh,"__esModule",{value:!0});bh.HeartBeat=void 0;var fm=(Ir(),nt(Ar)),wL=Ks(),vL=zs(),EL=um(),hm=lm(),_c=class extends EL.IHeartBeat{constructor(e){super(e),this.events=new wL.EventEmitter,this.interval=hm.HEARTBEAT_INTERVAL,this.interval=e?.interval||hm.HEARTBEAT_INTERVAL}static init(e){return fm.__awaiter(this,void 0,void 0,function*(){let t=new _c(e);return yield t.init(),t})}init(){return fm.__awaiter(this,void 0,void 0,function*(){yield this.initialize()})}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}initialize(){return fm.__awaiter(this,void 0,void 0,function*(){setInterval(()=>this.pulse(),vL.toMiliseconds(this.interval))})}pulse(){this.events.emit(hm.HEARTBEAT_EVENTS.pulse)}};bh.HeartBeat=_c});var RC=M(bc=>{"use strict";f();Object.defineProperty(bc,"__esModule",{value:!0});var dm=(Ir(),nt(Ar));dm.__exportStar(PC(),bc);dm.__exportStar(um(),bc);dm.__exportStar(lm(),bc)});var pm=M(Ua=>{"use strict";f();Object.defineProperty(Ua,"__esModule",{value:!0});Ua.PINO_CUSTOM_CONTEXT_KEY=Ua.PINO_LOGGER_DEFAULTS=void 0;Ua.PINO_LOGGER_DEFAULTS={level:"info"};Ua.PINO_CUSTOM_CONTEXT_KEY="custom_context"});var VC=M(yr=>{"use strict";f();Object.defineProperty(yr,"__esModule",{value:!0});yr.generateChildLogger=yr.formatChildLoggerContext=yr.getLoggerContext=yr.setBrowserLoggerContext=yr.getBrowserLoggerContext=yr.getDefaultLoggerOptions=void 0;var qa=pm();function AL(r){return Object.assign(Object.assign({},r),{level:r?.level||qa.PINO_LOGGER_DEFAULTS.level})}yr.getDefaultLoggerOptions=AL;function LC(r,e=qa.PINO_CUSTOM_CONTEXT_KEY){return r[e]||""}yr.getBrowserLoggerContext=LC;function FC(r,e,t=qa.PINO_CUSTOM_CONTEXT_KEY){return r[t]=e,r}yr.setBrowserLoggerContext=FC;function UC(r,e=qa.PINO_CUSTOM_CONTEXT_KEY){let t="";return typeof r.bindings>"u"?t=LC(r,e):t=r.bindings().context||"",t}yr.getLoggerContext=UC;function qC(r,e,t=qa.PINO_CUSTOM_CONTEXT_KEY){let i=UC(r,t);return i.trim()?`${i}/${e}`:e}yr.formatChildLoggerContext=qC;function IL(r,e,t=qa.PINO_CUSTOM_CONTEXT_KEY){let i=qC(r,e,t),n=r.child({context:i});return FC(n,i,t)}yr.generateChildLogger=IL});var ym=M(Va=>{"use strict";f();Object.defineProperty(Va,"__esModule",{value:!0});Va.pino=void 0;var gm=(Ir(),nt(Ar)),_L=gm.__importDefault(uh());Object.defineProperty(Va,"pino",{enumerable:!0,get:function(){return _L.default}});gm.__exportStar(pm(),Va);gm.__exportStar(VC(),Va)});var Mm=M(zt=>{"use strict";f();Object.defineProperty(zt,"__esModule",{value:!0});var Ha=(sm(),nt(nm)),HC=Ks();function bL(r){return r&&typeof r=="object"&&"default"in r?r:{default:r}}var CL=bL(HC),mm=class extends Ha.IEvents{constructor(e){super(),this.opts=e,this.protocol="wc",this.version=2}},wm=class{constructor(e,t,i){this.core=e,this.logger=t}},vm=class extends Ha.IEvents{constructor(e,t){super(),this.core=e,this.logger=t,this.records=new Map}},Em=class{constructor(e,t){this.logger=e,this.core=t}},Am=class extends Ha.IEvents{constructor(e,t){super(),this.relayer=e,this.logger=t}},Im=class extends Ha.IEvents{constructor(e){super()}},_m=class{constructor(e,t,i,n){this.core=e,this.logger=t,this.name=i}},bm=class{constructor(){this.map=new Map}},Cm=class extends Ha.IEvents{constructor(e,t){super(),this.relayer=e,this.logger=t}},xm=class{constructor(e,t){this.core=e,this.logger=t}},Sm=class extends Ha.IEvents{constructor(e,t){super(),this.core=e,this.logger=t}},Tm=class{constructor(e,t){this.logger=e,this.core=t}},Nm=class extends CL.default{constructor(){super()}},Dm=class{constructor(e){this.opts=e,this.protocol="wc",this.version=2}},Om=class extends HC.EventEmitter{constructor(){super()}},Bm=class{constructor(e){this.client=e}};zt.ICore=mm,zt.ICrypto=wm,zt.IEngine=Bm,zt.IEngineEvents=Om,zt.IExpirer=Sm,zt.IJsonRpcHistory=vm,zt.IKeyChain=xm,zt.IMessageTracker=Em,zt.IPairing=Tm,zt.IPublisher=Am,zt.IRelayer=Im,zt.ISignClient=Dm,zt.ISignClientEvents=Nm,zt.IStore=_m,zt.ISubscriber=Cm,zt.ISubscriberTopicMap=bm});var QC={};it(QC,{safeJsonParse:()=>Cc,safeJsonStringify:()=>xc});function Cc(r){if(typeof r!="string")throw new Error(`Cannot safe json parse value of type ${typeof r}`);try{return JSON.parse(r)}catch{return r}}function xc(r){return typeof r=="string"?r:JSON.stringify(r)}var Ch=ye(()=>{f()});var GC=M(xh=>{"use strict";f();Object.defineProperty(xh,"__esModule",{value:!0});xh.BrowserRandomSource=void 0;var jC=65536,Pm=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;let e=typeof self<"u"?self.crypto||self.msCrypto:null;e&&e.getRandomValues!==void 0&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");let t=new Uint8Array(e);for(let i=0;i<t.length;i+=jC)this._crypto.getRandomValues(t.subarray(i,i+Math.min(t.length-i,jC)));return t}};xh.BrowserRandomSource=Pm});var Fr=M(Rm=>{"use strict";f();Object.defineProperty(Rm,"__esModule",{value:!0});function xL(r){for(var e=0;e<r.length;e++)r[e]=0;return r}Rm.wipe=xL});var KC=M(()=>{f()});var zC=M(Sh=>{"use strict";f();Object.defineProperty(Sh,"__esModule",{value:!0});Sh.NodeRandomSource=void 0;var SL=Fr(),Lm=class{constructor(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof _E<"u"){let e=KC();e&&e.randomBytes&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let t=this._crypto.randomBytes(e);if(t.length!==e)throw new Error("NodeRandomSource: got fewer bytes than requested");let i=new Uint8Array(e);for(let n=0;n<i.length;n++)i[n]=t[n];return(0,SL.wipe)(t),i}};Sh.NodeRandomSource=Lm});var kC=M(Th=>{"use strict";f();Object.defineProperty(Th,"__esModule",{value:!0});Th.SystemRandomSource=void 0;var TL=GC(),NL=zC(),Fm=class{constructor(){if(this.isAvailable=!1,this.name="",this._source=new TL.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new NL.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(e)}};Th.SystemRandomSource=Fm});var $C=M(_r=>{"use strict";f();Object.defineProperty(_r,"__esModule",{value:!0});function DL(r,e){var t=r>>>16&65535,i=r&65535,n=e>>>16&65535,s=e&65535;return i*s+(t*s+i*n<<16>>>0)|0}_r.mul=Math.imul||DL;function OL(r,e){return r+e|0}_r.add=OL;function BL(r,e){return r-e|0}_r.sub=BL;function ML(r,e){return r<<e|r>>>32-e}_r.rotl=ML;function PL(r,e){return r<<32-e|r>>>e}_r.rotr=PL;function RL(r){return typeof r=="number"&&isFinite(r)&&Math.floor(r)===r}_r.isInteger=Number.isInteger||RL;_r.MAX_SAFE_INTEGER=9007199254740991;_r.isSafeInteger=function(r){return _r.isInteger(r)&&r>=-_r.MAX_SAFE_INTEGER&&r<=_r.MAX_SAFE_INTEGER}});var Qa=M(De=>{"use strict";f();Object.defineProperty(De,"__esModule",{value:!0});var WC=$C();function LL(r,e){return e===void 0&&(e=0),(r[e+0]<<8|r[e+1])<<16>>16}De.readInt16BE=LL;function FL(r,e){return e===void 0&&(e=0),(r[e+0]<<8|r[e+1])>>>0}De.readUint16BE=FL;function UL(r,e){return e===void 0&&(e=0),(r[e+1]<<8|r[e])<<16>>16}De.readInt16LE=UL;function qL(r,e){return e===void 0&&(e=0),(r[e+1]<<8|r[e])>>>0}De.readUint16LE=qL;function YC(r,e,t){return e===void 0&&(e=new Uint8Array(2)),t===void 0&&(t=0),e[t+0]=r>>>8,e[t+1]=r>>>0,e}De.writeUint16BE=YC;De.writeInt16BE=YC;function JC(r,e,t){return e===void 0&&(e=new Uint8Array(2)),t===void 0&&(t=0),e[t+0]=r>>>0,e[t+1]=r>>>8,e}De.writeUint16LE=JC;De.writeInt16LE=JC;function Um(r,e){return e===void 0&&(e=0),r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3]}De.readInt32BE=Um;function qm(r,e){return e===void 0&&(e=0),(r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3])>>>0}De.readUint32BE=qm;function Vm(r,e){return e===void 0&&(e=0),r[e+3]<<24|r[e+2]<<16|r[e+1]<<8|r[e]}De.readInt32LE=Vm;function Hm(r,e){return e===void 0&&(e=0),(r[e+3]<<24|r[e+2]<<16|r[e+1]<<8|r[e])>>>0}De.readUint32LE=Hm;function Nh(r,e,t){return e===void 0&&(e=new Uint8Array(4)),t===void 0&&(t=0),e[t+0]=r>>>24,e[t+1]=r>>>16,e[t+2]=r>>>8,e[t+3]=r>>>0,e}De.writeUint32BE=Nh;De.writeInt32BE=Nh;function Dh(r,e,t){return e===void 0&&(e=new Uint8Array(4)),t===void 0&&(t=0),e[t+0]=r>>>0,e[t+1]=r>>>8,e[t+2]=r>>>16,e[t+3]=r>>>24,e}De.writeUint32LE=Dh;De.writeInt32LE=Dh;function VL(r,e){e===void 0&&(e=0);var t=Um(r,e),i=Um(r,e+4);return t*4294967296+i-(i>>31)*4294967296}De.readInt64BE=VL;function HL(r,e){e===void 0&&(e=0);var t=qm(r,e),i=qm(r,e+4);return t*4294967296+i}De.readUint64BE=HL;function QL(r,e){e===void 0&&(e=0);var t=Vm(r,e),i=Vm(r,e+4);return i*4294967296+t-(t>>31)*4294967296}De.readInt64LE=QL;function jL(r,e){e===void 0&&(e=0);var t=Hm(r,e),i=Hm(r,e+4);return i*4294967296+t}De.readUint64LE=jL;function XC(r,e,t){return e===void 0&&(e=new Uint8Array(8)),t===void 0&&(t=0),Nh(r/4294967296>>>0,e,t),Nh(r>>>0,e,t+4),e}De.writeUint64BE=XC;De.writeInt64BE=XC;function ZC(r,e,t){return e===void 0&&(e=new Uint8Array(8)),t===void 0&&(t=0),Dh(r>>>0,e,t),Dh(r/4294967296>>>0,e,t+4),e}De.writeUint64LE=ZC;De.writeInt64LE=ZC;function GL(r,e,t){if(t===void 0&&(t=0),r%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(r/8>e.length-t)throw new Error("readUintBE: array is too short for the given bitLength");for(var i=0,n=1,s=r/8+t-1;s>=t;s--)i+=e[s]*n,n*=256;return i}De.readUintBE=GL;function KL(r,e,t){if(t===void 0&&(t=0),r%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(r/8>e.length-t)throw new Error("readUintLE: array is too short for the given bitLength");for(var i=0,n=1,s=t;s<t+r/8;s++)i+=e[s]*n,n*=256;return i}De.readUintLE=KL;function zL(r,e,t,i){if(t===void 0&&(t=new Uint8Array(r/8)),i===void 0&&(i=0),r%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!WC.isSafeInteger(e))throw new Error("writeUintBE value must be an integer");for(var n=1,s=r/8+i-1;s>=i;s--)t[s]=e/n&255,n*=256;return t}De.writeUintBE=zL;function kL(r,e,t,i){if(t===void 0&&(t=new Uint8Array(r/8)),i===void 0&&(i=0),r%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!WC.isSafeInteger(e))throw new Error("writeUintLE value must be an integer");for(var n=1,s=i;s<i+r/8;s++)t[s]=e/n&255,n*=256;return t}De.writeUintLE=kL;function $L(r,e){e===void 0&&(e=0);var t=new DataView(r.buffer,r.byteOffset,r.byteLength);return t.getFloat32(e)}De.readFloat32BE=$L;function WL(r,e){e===void 0&&(e=0);var t=new DataView(r.buffer,r.byteOffset,r.byteLength);return t.getFloat32(e,!0)}De.readFloat32LE=WL;function YL(r,e){e===void 0&&(e=0);var t=new DataView(r.buffer,r.byteOffset,r.byteLength);return t.getFloat64(e)}De.readFloat64BE=YL;function JL(r,e){e===void 0&&(e=0);var t=new DataView(r.buffer,r.byteOffset,r.byteLength);return t.getFloat64(e,!0)}De.readFloat64LE=JL;function XL(r,e,t){e===void 0&&(e=new Uint8Array(4)),t===void 0&&(t=0);var i=new DataView(e.buffer,e.byteOffset,e.byteLength);return i.setFloat32(t,r),e}De.writeFloat32BE=XL;function ZL(r,e,t){e===void 0&&(e=new Uint8Array(4)),t===void 0&&(t=0);var i=new DataView(e.buffer,e.byteOffset,e.byteLength);return i.setFloat32(t,r,!0),e}De.writeFloat32LE=ZL;function eF(r,e,t){e===void 0&&(e=new Uint8Array(8)),t===void 0&&(t=0);var i=new DataView(e.buffer,e.byteOffset,e.byteLength);return i.setFloat64(t,r),e}De.writeFloat64BE=eF;function tF(r,e,t){e===void 0&&(e=new Uint8Array(8)),t===void 0&&(t=0);var i=new DataView(e.buffer,e.byteOffset,e.byteLength);return i.setFloat64(t,r,!0),e}De.writeFloat64LE=tF});var Sc=M(sr=>{"use strict";f();Object.defineProperty(sr,"__esModule",{value:!0});sr.randomStringForEntropy=sr.randomString=sr.randomUint32=sr.randomBytes=sr.defaultRandomSource=void 0;var rF=kC(),iF=Qa(),ex=Fr();sr.defaultRandomSource=new rF.SystemRandomSource;function Qm(r,e=sr.defaultRandomSource){return e.randomBytes(r)}sr.randomBytes=Qm;function nF(r=sr.defaultRandomSource){let e=Qm(4,r),t=(0,iF.readUint32LE)(e);return(0,ex.wipe)(e),t}sr.randomUint32=nF;var tx="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function rx(r,e=tx,t=sr.defaultRandomSource){if(e.length<2)throw new Error("randomString charset is too short");if(e.length>256)throw new Error("randomString charset is too long");let i="",n=e.length,s=256-256%n;for(;r>0;){let o=Qm(Math.ceil(r*256/s),t);for(let a=0;a<o.length&&r>0;a++){let c=o[a];c<s&&(i+=e.charAt(c%n),r--)}(0,ex.wipe)(o)}return i}sr.randomString=rx;function sF(r,e=tx,t=sr.defaultRandomSource){let i=Math.ceil(r/(Math.log(e.length)/Math.LN2));return rx(i,e,t)}sr.randomStringForEntropy=sF});var sx=M(ki=>{"use strict";f();Object.defineProperty(ki,"__esModule",{value:!0});var Ga=Qa(),ja=Fr();ki.DIGEST_LENGTH=64;ki.BLOCK_SIZE=128;var nx=function(){function r(){this.digestLength=ki.DIGEST_LENGTH,this.blockSize=ki.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return r.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},r.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},r.prototype.clean=function(){ja.wipe(this._buffer),ja.wipe(this._tempHi),ja.wipe(this._tempLo),this.reset()},r.prototype.update=function(e,t){if(t===void 0&&(t=e.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var i=0;if(this._bytesHashed+=t,this._bufferLength>0){for(;this._bufferLength<ki.BLOCK_SIZE&&t>0;)this._buffer[this._bufferLength++]=e[i++],t--;this._bufferLength===this.blockSize&&(jm(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(t>=this.blockSize&&(i=jm(this._tempHi,this._tempLo,this._stateHi,this._stateLo,e,i,t),t%=this.blockSize);t>0;)this._buffer[this._bufferLength++]=e[i++],t--;return this},r.prototype.finish=function(e){if(!this._finished){var t=this._bytesHashed,i=this._bufferLength,n=t/536870912|0,s=t<<3,o=t%128<112?128:256;this._buffer[i]=128;for(var a=i+1;a<o-8;a++)this._buffer[a]=0;Ga.writeUint32BE(n,this._buffer,o-8),Ga.writeUint32BE(s,this._buffer,o-4),jm(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,o),this._finished=!0}for(var a=0;a<this.digestLength/8;a++)Ga.writeUint32BE(this._stateHi[a],e,a*8),Ga.writeUint32BE(this._stateLo[a],e,a*8+4);return this},r.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},r.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},r.prototype.restoreState=function(e){return this._stateHi.set(e.stateHi),this._stateLo.set(e.stateLo),this._bufferLength=e.bufferLength,e.buffer&&this._buffer.set(e.buffer),this._bytesHashed=e.bytesHashed,this._finished=!1,this},r.prototype.cleanSavedState=function(e){ja.wipe(e.stateHi),ja.wipe(e.stateLo),e.buffer&&ja.wipe(e.buffer),e.bufferLength=0,e.bytesHashed=0},r}();ki.SHA512=nx;var ix=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function jm(r,e,t,i,n,s,o){for(var a=t[0],c=t[1],h=t[2],p=t[3],A=t[4],D=t[5],O=t[6],T=t[7],V=i[0],Q=i[1],j=i[2],ie=i[3],Y=i[4],W=i[5],$=i[6],k=i[7],R,F,K,ce,J,X,E,u;o>=128;){for(var d=0;d<16;d++){var g=8*d+s;r[d]=Ga.readUint32BE(n,g),e[d]=Ga.readUint32BE(n,g+4)}for(var d=0;d<80;d++){var m=a,w=c,x=h,N=p,I=A,l=D,C=O,Z=T,te=V,ee=Q,ae=j,v=ie,b=Y,S=W,L=$,B=k;if(R=T,F=k,J=F&65535,X=F>>>16,E=R&65535,u=R>>>16,R=(A>>>14|Y<<32-14)^(A>>>18|Y<<32-18)^(Y>>>41-32|A<<32-(41-32)),F=(Y>>>14|A<<32-14)^(Y>>>18|A<<32-18)^(A>>>41-32|Y<<32-(41-32)),J+=F&65535,X+=F>>>16,E+=R&65535,u+=R>>>16,R=A&D^~A&O,F=Y&W^~Y&$,J+=F&65535,X+=F>>>16,E+=R&65535,u+=R>>>16,R=ix[d*2],F=ix[d*2+1],J+=F&65535,X+=F>>>16,E+=R&65535,u+=R>>>16,R=r[d%16],F=e[d%16],J+=F&65535,X+=F>>>16,E+=R&65535,u+=R>>>16,X+=J>>>16,E+=X>>>16,u+=E>>>16,K=E&65535|u<<16,ce=J&65535|X<<16,R=K,F=ce,J=F&65535,X=F>>>16,E=R&65535,u=R>>>16,R=(a>>>28|V<<32-28)^(V>>>34-32|a<<32-(34-32))^(V>>>39-32|a<<32-(39-32)),F=(V>>>28|a<<32-28)^(a>>>34-32|V<<32-(34-32))^(a>>>39-32|V<<32-(39-32)),J+=F&65535,X+=F>>>16,E+=R&65535,u+=R>>>16,R=a&c^a&h^c&h,F=V&Q^V&j^Q&j,J+=F&65535,X+=F>>>16,E+=R&65535,u+=R>>>16,X+=J>>>16,E+=X>>>16,u+=E>>>16,Z=E&65535|u<<16,B=J&65535|X<<16,R=N,F=v,J=F&65535,X=F>>>16,E=R&65535,u=R>>>16,R=K,F=ce,J+=F&65535,X+=F>>>16,E+=R&65535,u+=R>>>16,X+=J>>>16,E+=X>>>16,u+=E>>>16,N=E&65535|u<<16,v=J&65535|X<<16,c=m,h=w,p=x,A=N,D=I,O=l,T=C,a=Z,Q=te,j=ee,ie=ae,Y=v,W=b,$=S,k=L,V=B,d%16===15)for(var g=0;g<16;g++)R=r[g],F=e[g],J=F&65535,X=F>>>16,E=R&65535,u=R>>>16,R=r[(g+9)%16],F=e[(g+9)%16],J+=F&65535,X+=F>>>16,E+=R&65535,u+=R>>>16,K=r[(g+1)%16],ce=e[(g+1)%16],R=(K>>>1|ce<<32-1)^(K>>>8|ce<<32-8)^K>>>7,F=(ce>>>1|K<<32-1)^(ce>>>8|K<<32-8)^(ce>>>7|K<<32-7),J+=F&65535,X+=F>>>16,E+=R&65535,u+=R>>>16,K=r[(g+14)%16],ce=e[(g+14)%16],R=(K>>>19|ce<<32-19)^(ce>>>61-32|K<<32-(61-32))^K>>>6,F=(ce>>>19|K<<32-19)^(K>>>61-32|ce<<32-(61-32))^(ce>>>6|K<<32-6),J+=F&65535,X+=F>>>16,E+=R&65535,u+=R>>>16,X+=J>>>16,E+=X>>>16,u+=E>>>16,r[g]=E&65535|u<<16,e[g]=J&65535|X<<16}R=a,F=V,J=F&65535,X=F>>>16,E=R&65535,u=R>>>16,R=t[0],F=i[0],J+=F&65535,X+=F>>>16,E+=R&65535,u+=R>>>16,X+=J>>>16,E+=X>>>16,u+=E>>>16,t[0]=a=E&65535|u<<16,i[0]=V=J&65535|X<<16,R=c,F=Q,J=F&65535,X=F>>>16,E=R&65535,u=R>>>16,R=t[1],F=i[1],J+=F&65535,X+=F>>>16,E+=R&65535,u+=R>>>16,X+=J>>>16,E+=X>>>16,u+=E>>>16,t[1]=c=E&65535|u<<16,i[1]=Q=J&65535|X<<16,R=h,F=j,J=F&65535,X=F>>>16,E=R&65535,u=R>>>16,R=t[2],F=i[2],J+=F&65535,X+=F>>>16,E+=R&65535,u+=R>>>16,X+=J>>>16,E+=X>>>16,u+=E>>>16,t[2]=h=E&65535|u<<16,i[2]=j=J&65535|X<<16,R=p,F=ie,J=F&65535,X=F>>>16,E=R&65535,u=R>>>16,R=t[3],F=i[3],J+=F&65535,X+=F>>>16,E+=R&65535,u+=R>>>16,X+=J>>>16,E+=X>>>16,u+=E>>>16,t[3]=p=E&65535|u<<16,i[3]=ie=J&65535|X<<16,R=A,F=Y,J=F&65535,X=F>>>16,E=R&65535,u=R>>>16,R=t[4],F=i[4],J+=F&65535,X+=F>>>16,E+=R&65535,u+=R>>>16,X+=J>>>16,E+=X>>>16,u+=E>>>16,t[4]=A=E&65535|u<<16,i[4]=Y=J&65535|X<<16,R=D,F=W,J=F&65535,X=F>>>16,E=R&65535,u=R>>>16,R=t[5],F=i[5],J+=F&65535,X+=F>>>16,E+=R&65535,u+=R>>>16,X+=J>>>16,E+=X>>>16,u+=E>>>16,t[5]=D=E&65535|u<<16,i[5]=W=J&65535|X<<16,R=O,F=$,J=F&65535,X=F>>>16,E=R&65535,u=R>>>16,R=t[6],F=i[6],J+=F&65535,X+=F>>>16,E+=R&65535,u+=R>>>16,X+=J>>>16,E+=X>>>16,u+=E>>>16,t[6]=O=E&65535|u<<16,i[6]=$=J&65535|X<<16,R=T,F=k,J=F&65535,X=F>>>16,E=R&65535,u=R>>>16,R=t[7],F=i[7],J+=F&65535,X+=F>>>16,E+=R&65535,u+=R>>>16,X+=J>>>16,E+=X>>>16,u+=E>>>16,t[7]=T=E&65535|u<<16,i[7]=k=J&65535|X<<16,s+=128,o-=128}return s}function oF(r){var e=new nx;e.update(r);var t=e.digest();return e.clean(),t}ki.hash=oF});var vx=M(qe=>{"use strict";f();Object.defineProperty(qe,"__esModule",{value:!0});qe.convertSecretKeyToX25519=qe.convertPublicKeyToX25519=qe.verify=qe.sign=qe.extractPublicKeyFromSecretKey=qe.generateKeyPair=qe.generateKeyPairFromSeed=qe.SEED_LENGTH=qe.SECRET_KEY_LENGTH=qe.PUBLIC_KEY_LENGTH=qe.SIGNATURE_LENGTH=void 0;var aF=Sc(),Tc=sx(),lx=Fr();qe.SIGNATURE_LENGTH=64;qe.PUBLIC_KEY_LENGTH=32;qe.SECRET_KEY_LENGTH=64;qe.SEED_LENGTH=32;function we(r){let e=new Float64Array(16);if(r)for(let t=0;t<r.length;t++)e[t]=r[t];return e}var uF=new Uint8Array(32);uF[0]=9;var zm=we(),Ka=we([1]),cF=we([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),lF=we([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),ox=we([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),ax=we([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),fF=we([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function On(r,e){for(let t=0;t<16;t++)r[t]=e[t]|0}function Gm(r){let e=1;for(let t=0;t<16;t++){let i=r[t]+e+65535;e=Math.floor(i/65536),r[t]=i-e*65536}r[0]+=e-1+37*(e-1)}function fx(r,e,t){let i=~(t-1);for(let n=0;n<16;n++){let s=i&(r[n]^e[n]);r[n]^=s,e[n]^=s}}function Nc(r,e){let t=we(),i=we();for(let n=0;n<16;n++)i[n]=e[n];Gm(i),Gm(i),Gm(i);for(let n=0;n<2;n++){t[0]=i[0]-65517;for(let o=1;o<15;o++)t[o]=i[o]-65535-(t[o-1]>>16&1),t[o-1]&=65535;t[15]=i[15]-32767-(t[14]>>16&1);let s=t[15]>>16&1;t[14]&=65535,fx(i,t,1-s)}for(let n=0;n<16;n++)r[2*n]=i[n]&255,r[2*n+1]=i[n]>>8}function hx(r,e){let t=0;for(let i=0;i<32;i++)t|=r[i]^e[i];return(1&t-1>>>8)-1}function ux(r,e){let t=new Uint8Array(32),i=new Uint8Array(32);return Nc(t,r),Nc(i,e),hx(t,i)}function dx(r){let e=new Uint8Array(32);return Nc(e,r),e[0]&1}function hF(r,e){for(let t=0;t<16;t++)r[t]=e[2*t]+(e[2*t+1]<<8);r[15]&=32767}function ks(r,e,t){for(let i=0;i<16;i++)r[i]=e[i]+t[i]}function Ws(r,e,t){for(let i=0;i<16;i++)r[i]=e[i]-t[i]}function Qe(r,e,t){let i,n,s=0,o=0,a=0,c=0,h=0,p=0,A=0,D=0,O=0,T=0,V=0,Q=0,j=0,ie=0,Y=0,W=0,$=0,k=0,R=0,F=0,K=0,ce=0,J=0,X=0,E=0,u=0,d=0,g=0,m=0,w=0,x=0,N=t[0],I=t[1],l=t[2],C=t[3],Z=t[4],te=t[5],ee=t[6],ae=t[7],v=t[8],b=t[9],S=t[10],L=t[11],B=t[12],U=t[13],q=t[14],P=t[15];i=e[0],s+=i*N,o+=i*I,a+=i*l,c+=i*C,h+=i*Z,p+=i*te,A+=i*ee,D+=i*ae,O+=i*v,T+=i*b,V+=i*S,Q+=i*L,j+=i*B,ie+=i*U,Y+=i*q,W+=i*P,i=e[1],o+=i*N,a+=i*I,c+=i*l,h+=i*C,p+=i*Z,A+=i*te,D+=i*ee,O+=i*ae,T+=i*v,V+=i*b,Q+=i*S,j+=i*L,ie+=i*B,Y+=i*U,W+=i*q,$+=i*P,i=e[2],a+=i*N,c+=i*I,h+=i*l,p+=i*C,A+=i*Z,D+=i*te,O+=i*ee,T+=i*ae,V+=i*v,Q+=i*b,j+=i*S,ie+=i*L,Y+=i*B,W+=i*U,$+=i*q,k+=i*P,i=e[3],c+=i*N,h+=i*I,p+=i*l,A+=i*C,D+=i*Z,O+=i*te,T+=i*ee,V+=i*ae,Q+=i*v,j+=i*b,ie+=i*S,Y+=i*L,W+=i*B,$+=i*U,k+=i*q,R+=i*P,i=e[4],h+=i*N,p+=i*I,A+=i*l,D+=i*C,O+=i*Z,T+=i*te,V+=i*ee,Q+=i*ae,j+=i*v,ie+=i*b,Y+=i*S,W+=i*L,$+=i*B,k+=i*U,R+=i*q,F+=i*P,i=e[5],p+=i*N,A+=i*I,D+=i*l,O+=i*C,T+=i*Z,V+=i*te,Q+=i*ee,j+=i*ae,ie+=i*v,Y+=i*b,W+=i*S,$+=i*L,k+=i*B,R+=i*U,F+=i*q,K+=i*P,i=e[6],A+=i*N,D+=i*I,O+=i*l,T+=i*C,V+=i*Z,Q+=i*te,j+=i*ee,ie+=i*ae,Y+=i*v,W+=i*b,$+=i*S,k+=i*L,R+=i*B,F+=i*U,K+=i*q,ce+=i*P,i=e[7],D+=i*N,O+=i*I,T+=i*l,V+=i*C,Q+=i*Z,j+=i*te,ie+=i*ee,Y+=i*ae,W+=i*v,$+=i*b,k+=i*S,R+=i*L,F+=i*B,K+=i*U,ce+=i*q,J+=i*P,i=e[8],O+=i*N,T+=i*I,V+=i*l,Q+=i*C,j+=i*Z,ie+=i*te,Y+=i*ee,W+=i*ae,$+=i*v,k+=i*b,R+=i*S,F+=i*L,K+=i*B,ce+=i*U,J+=i*q,X+=i*P,i=e[9],T+=i*N,V+=i*I,Q+=i*l,j+=i*C,ie+=i*Z,Y+=i*te,W+=i*ee,$+=i*ae,k+=i*v,R+=i*b,F+=i*S,K+=i*L,ce+=i*B,J+=i*U,X+=i*q,E+=i*P,i=e[10],V+=i*N,Q+=i*I,j+=i*l,ie+=i*C,Y+=i*Z,W+=i*te,$+=i*ee,k+=i*ae,R+=i*v,F+=i*b,K+=i*S,ce+=i*L,J+=i*B,X+=i*U,E+=i*q,u+=i*P,i=e[11],Q+=i*N,j+=i*I,ie+=i*l,Y+=i*C,W+=i*Z,$+=i*te,k+=i*ee,R+=i*ae,F+=i*v,K+=i*b,ce+=i*S,J+=i*L,X+=i*B,E+=i*U,u+=i*q,d+=i*P,i=e[12],j+=i*N,ie+=i*I,Y+=i*l,W+=i*C,$+=i*Z,k+=i*te,R+=i*ee,F+=i*ae,K+=i*v,ce+=i*b,J+=i*S,X+=i*L,E+=i*B,u+=i*U,d+=i*q,g+=i*P,i=e[13],ie+=i*N,Y+=i*I,W+=i*l,$+=i*C,k+=i*Z,R+=i*te,F+=i*ee,K+=i*ae,ce+=i*v,J+=i*b,X+=i*S,E+=i*L,u+=i*B,d+=i*U,g+=i*q,m+=i*P,i=e[14],Y+=i*N,W+=i*I,$+=i*l,k+=i*C,R+=i*Z,F+=i*te,K+=i*ee,ce+=i*ae,J+=i*v,X+=i*b,E+=i*S,u+=i*L,d+=i*B,g+=i*U,m+=i*q,w+=i*P,i=e[15],W+=i*N,$+=i*I,k+=i*l,R+=i*C,F+=i*Z,K+=i*te,ce+=i*ee,J+=i*ae,X+=i*v,E+=i*b,u+=i*S,d+=i*L,g+=i*B,m+=i*U,w+=i*q,x+=i*P,s+=38*$,o+=38*k,a+=38*R,c+=38*F,h+=38*K,p+=38*ce,A+=38*J,D+=38*X,O+=38*E,T+=38*u,V+=38*d,Q+=38*g,j+=38*m,ie+=38*w,Y+=38*x,n=1,i=s+n+65535,n=Math.floor(i/65536),s=i-n*65536,i=o+n+65535,n=Math.floor(i/65536),o=i-n*65536,i=a+n+65535,n=Math.floor(i/65536),a=i-n*65536,i=c+n+65535,n=Math.floor(i/65536),c=i-n*65536,i=h+n+65535,n=Math.floor(i/65536),h=i-n*65536,i=p+n+65535,n=Math.floor(i/65536),p=i-n*65536,i=A+n+65535,n=Math.floor(i/65536),A=i-n*65536,i=D+n+65535,n=Math.floor(i/65536),D=i-n*65536,i=O+n+65535,n=Math.floor(i/65536),O=i-n*65536,i=T+n+65535,n=Math.floor(i/65536),T=i-n*65536,i=V+n+65535,n=Math.floor(i/65536),V=i-n*65536,i=Q+n+65535,n=Math.floor(i/65536),Q=i-n*65536,i=j+n+65535,n=Math.floor(i/65536),j=i-n*65536,i=ie+n+65535,n=Math.floor(i/65536),ie=i-n*65536,i=Y+n+65535,n=Math.floor(i/65536),Y=i-n*65536,i=W+n+65535,n=Math.floor(i/65536),W=i-n*65536,s+=n-1+37*(n-1),n=1,i=s+n+65535,n=Math.floor(i/65536),s=i-n*65536,i=o+n+65535,n=Math.floor(i/65536),o=i-n*65536,i=a+n+65535,n=Math.floor(i/65536),a=i-n*65536,i=c+n+65535,n=Math.floor(i/65536),c=i-n*65536,i=h+n+65535,n=Math.floor(i/65536),h=i-n*65536,i=p+n+65535,n=Math.floor(i/65536),p=i-n*65536,i=A+n+65535,n=Math.floor(i/65536),A=i-n*65536,i=D+n+65535,n=Math.floor(i/65536),D=i-n*65536,i=O+n+65535,n=Math.floor(i/65536),O=i-n*65536,i=T+n+65535,n=Math.floor(i/65536),T=i-n*65536,i=V+n+65535,n=Math.floor(i/65536),V=i-n*65536,i=Q+n+65535,n=Math.floor(i/65536),Q=i-n*65536,i=j+n+65535,n=Math.floor(i/65536),j=i-n*65536,i=ie+n+65535,n=Math.floor(i/65536),ie=i-n*65536,i=Y+n+65535,n=Math.floor(i/65536),Y=i-n*65536,i=W+n+65535,n=Math.floor(i/65536),W=i-n*65536,s+=n-1+37*(n-1),r[0]=s,r[1]=o,r[2]=a,r[3]=c,r[4]=h,r[5]=p,r[6]=A,r[7]=D,r[8]=O,r[9]=T,r[10]=V,r[11]=Q,r[12]=j,r[13]=ie,r[14]=Y,r[15]=W}function $s(r,e){Qe(r,e,e)}function px(r,e){let t=we(),i;for(i=0;i<16;i++)t[i]=e[i];for(i=253;i>=0;i--)$s(t,t),i!==2&&i!==4&&Qe(t,t,e);for(i=0;i<16;i++)r[i]=t[i]}function dF(r,e){let t=we(),i;for(i=0;i<16;i++)t[i]=e[i];for(i=250;i>=0;i--)$s(t,t),i!==1&&Qe(t,t,e);for(i=0;i<16;i++)r[i]=t[i]}function km(r,e){let t=we(),i=we(),n=we(),s=we(),o=we(),a=we(),c=we(),h=we(),p=we();Ws(t,r[1],r[0]),Ws(p,e[1],e[0]),Qe(t,t,p),ks(i,r[0],r[1]),ks(p,e[0],e[1]),Qe(i,i,p),Qe(n,r[3],e[3]),Qe(n,n,lF),Qe(s,r[2],e[2]),ks(s,s,s),Ws(o,i,t),Ws(a,s,n),ks(c,s,n),ks(h,i,t),Qe(r[0],o,a),Qe(r[1],h,c),Qe(r[2],c,a),Qe(r[3],o,h)}function cx(r,e,t){for(let i=0;i<4;i++)fx(r[i],e[i],t)}function Wm(r,e){let t=we(),i=we(),n=we();px(n,e[2]),Qe(t,e[0],n),Qe(i,e[1],n),Nc(r,i),r[31]^=dx(t)<<7}function gx(r,e,t){On(r[0],zm),On(r[1],Ka),On(r[2],Ka),On(r[3],zm);for(let i=255;i>=0;--i){let n=t[i/8|0]>>(i&7)&1;cx(r,e,n),km(e,r),km(r,r),cx(r,e,n)}}function Ym(r,e){let t=[we(),we(),we(),we()];On(t[0],ox),On(t[1],ax),On(t[2],Ka),Qe(t[3],ox,ax),gx(r,t,e)}function yx(r){if(r.length!==qe.SEED_LENGTH)throw new Error(`ed25519: seed must be ${qe.SEED_LENGTH} bytes`);let e=(0,Tc.hash)(r);e[0]&=248,e[31]&=127,e[31]|=64;let t=new Uint8Array(32),i=[we(),we(),we(),we()];Ym(i,e),Wm(t,i);let n=new Uint8Array(64);return n.set(r),n.set(t,32),{publicKey:t,secretKey:n}}qe.generateKeyPairFromSeed=yx;function pF(r){let e=(0,aF.randomBytes)(32,r),t=yx(e);return(0,lx.wipe)(e),t}qe.generateKeyPair=pF;function gF(r){if(r.length!==qe.SECRET_KEY_LENGTH)throw new Error(`ed25519: secret key must be ${qe.SECRET_KEY_LENGTH} bytes`);return new Uint8Array(r.subarray(32))}qe.extractPublicKeyFromSecretKey=gF;var Km=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function mx(r,e){let t,i,n,s;for(i=63;i>=32;--i){for(t=0,n=i-32,s=i-12;n<s;++n)e[n]+=t-16*e[i]*Km[n-(i-32)],t=Math.floor((e[n]+128)/256),e[n]-=t*256;e[n]+=t,e[i]=0}for(t=0,n=0;n<32;n++)e[n]+=t-(e[31]>>4)*Km[n],t=e[n]>>8,e[n]&=255;for(n=0;n<32;n++)e[n]-=t*Km[n];for(i=0;i<32;i++)e[i+1]+=e[i]>>8,r[i]=e[i]&255}function $m(r){let e=new Float64Array(64);for(let t=0;t<64;t++)e[t]=r[t];for(let t=0;t<64;t++)r[t]=0;mx(r,e)}function yF(r,e){let t=new Float64Array(64),i=[we(),we(),we(),we()],n=(0,Tc.hash)(r.subarray(0,32));n[0]&=248,n[31]&=127,n[31]|=64;let s=new Uint8Array(64);s.set(n.subarray(32),32);let o=new Tc.SHA512;o.update(s.subarray(32)),o.update(e);let a=o.digest();o.clean(),$m(a),Ym(i,a),Wm(s,i),o.reset(),o.update(s.subarray(0,32)),o.update(r.subarray(32)),o.update(e);let c=o.digest();$m(c);for(let h=0;h<32;h++)t[h]=a[h];for(let h=0;h<32;h++)for(let p=0;p<32;p++)t[h+p]+=c[h]*n[p];return mx(s.subarray(32),t),s}qe.sign=yF;function wx(r,e){let t=we(),i=we(),n=we(),s=we(),o=we(),a=we(),c=we();return On(r[2],Ka),hF(r[1],e),$s(n,r[1]),Qe(s,n,cF),Ws(n,n,r[2]),ks(s,r[2],s),$s(o,s),$s(a,o),Qe(c,a,o),Qe(t,c,n),Qe(t,t,s),dF(t,t),Qe(t,t,n),Qe(t,t,s),Qe(t,t,s),Qe(r[0],t,s),$s(i,r[0]),Qe(i,i,s),ux(i,n)&&Qe(r[0],r[0],fF),$s(i,r[0]),Qe(i,i,s),ux(i,n)?-1:(dx(r[0])===e[31]>>7&&Ws(r[0],zm,r[0]),Qe(r[3],r[0],r[1]),0)}function mF(r,e,t){let i=new Uint8Array(32),n=[we(),we(),we(),we()],s=[we(),we(),we(),we()];if(t.length!==qe.SIGNATURE_LENGTH)throw new Error(`ed25519: signature must be ${qe.SIGNATURE_LENGTH} bytes`);if(wx(s,r))return!1;let o=new Tc.SHA512;o.update(t.subarray(0,32)),o.update(r),o.update(e);let a=o.digest();return $m(a),gx(n,s,a),Ym(s,t.subarray(32)),km(n,s),Wm(i,n),!hx(t,i)}qe.verify=mF;function wF(r){let e=[we(),we(),we(),we()];if(wx(e,r))throw new Error("Ed25519: invalid public key");let t=we(),i=we(),n=e[1];ks(t,Ka,n),Ws(i,Ka,n),px(i,i),Qe(t,t,i);let s=new Uint8Array(32);return Nc(s,t),s}qe.convertPublicKeyToX25519=wF;function vF(r){let e=(0,Tc.hash)(r.subarray(0,32));e[0]&=248,e[31]&=127,e[31]|=64;let t=new Uint8Array(e.subarray(0,32));return(0,lx.wipe)(e),t}qe.convertSecretKeyToX25519=vF});var Oh,Bh,Ys,za,Mh,Dc,Ph,Rh,Lh,ka,Fh,Uh,Ex,Ax,qh=ye(()=>{f();Oh="EdDSA",Bh="JWT",Ys=".",za="base64url",Mh="utf8",Dc="utf8",Ph=":",Rh="did",Lh="key",ka="base58btc",Fh="z",Uh="K36",Ex=32,Ax=32});function $a(r=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(r):new Uint8Array(r)}var Vh=ye(()=>{f()});function Hh(r,e){e||(e=r.reduce((n,s)=>n+s.length,0));let t=$a(e),i=0;for(let n of r)t.set(n,i),i+=n.length;return t}var Jm=ye(()=>{f();Vh()});function EF(r,e){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),i=0;i<t.length;i++)t[i]=255;for(var n=0;n<r.length;n++){var s=r.charAt(n),o=s.charCodeAt(0);if(t[o]!==255)throw new TypeError(s+" is ambiguous");t[o]=n}var a=r.length,c=r.charAt(0),h=Math.log(a)/Math.log(256),p=Math.log(256)/Math.log(a);function A(T){if(T instanceof Uint8Array||(ArrayBuffer.isView(T)?T=new Uint8Array(T.buffer,T.byteOffset,T.byteLength):Array.isArray(T)&&(T=Uint8Array.from(T))),!(T instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(T.length===0)return"";for(var V=0,Q=0,j=0,ie=T.length;j!==ie&&T[j]===0;)j++,V++;for(var Y=(ie-j)*p+1>>>0,W=new Uint8Array(Y);j!==ie;){for(var $=T[j],k=0,R=Y-1;($!==0||k<Q)&&R!==-1;R--,k++)$+=256*W[R]>>>0,W[R]=$%a>>>0,$=$/a>>>0;if($!==0)throw new Error("Non-zero carry");Q=k,j++}for(var F=Y-Q;F!==Y&&W[F]===0;)F++;for(var K=c.repeat(V);F<Y;++F)K+=r.charAt(W[F]);return K}function D(T){if(typeof T!="string")throw new TypeError("Expected String");if(T.length===0)return new Uint8Array;var V=0;if(T[V]!==" "){for(var Q=0,j=0;T[V]===c;)Q++,V++;for(var ie=(T.length-V)*h+1>>>0,Y=new Uint8Array(ie);T[V];){var W=t[T.charCodeAt(V)];if(W===255)return;for(var $=0,k=ie-1;(W!==0||$<j)&&k!==-1;k--,$++)W+=a*Y[k]>>>0,Y[k]=W%256>>>0,W=W/256>>>0;if(W!==0)throw new Error("Non-zero carry");j=$,V++}if(T[V]!==" "){for(var R=ie-j;R!==ie&&Y[R]===0;)R++;for(var F=new Uint8Array(Q+(ie-R)),K=Q;R!==ie;)F[K++]=Y[R++];return F}}}function O(T){var V=D(T);if(V)return V;throw new Error(`Non-${e} character`)}return{encode:A,decodeUnsafe:D,decode:O}}var AF,IF,Ix,_x=ye(()=>{f();AF=EF,IF=AF,Ix=IF});var RJ,bx,$i,Cx,xx,Bn=ye(()=>{f();RJ=new Uint8Array(0),bx=(r,e)=>{if(r===e)return!0;if(r.byteLength!==e.byteLength)return!1;for(let t=0;t<r.byteLength;t++)if(r[t]!==e[t])return!1;return!0},$i=r=>{if(r instanceof Uint8Array&&r.constructor.name==="Uint8Array")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")},Cx=r=>new TextEncoder().encode(r),xx=r=>new TextDecoder().decode(r)});var Xm,Zm,e1,Tx,t1,Wa,Mn,_F,bF,ot,Wr=ye(()=>{f();_x();Bn();Xm=class{constructor(e,t,i){this.name=e,this.prefix=t,this.baseEncode=i}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},Zm=class{constructor(e,t,i){if(this.name=e,this.prefix=t,t.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=i}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Tx(this,e)}},e1=class{constructor(e){this.decoders=e}or(e){return Tx(this,e)}decode(e){let t=e[0],i=this.decoders[t];if(i)return i.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},Tx=(r,e)=>new e1({...r.decoders||{[r.prefix]:r},...e.decoders||{[e.prefix]:e}}),t1=class{constructor(e,t,i,n){this.name=e,this.prefix=t,this.baseEncode=i,this.baseDecode=n,this.encoder=new Xm(e,t,i),this.decoder=new Zm(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},Wa=({name:r,prefix:e,encode:t,decode:i})=>new t1(r,e,t,i),Mn=({prefix:r,name:e,alphabet:t})=>{let{encode:i,decode:n}=Ix(t,e);return Wa({prefix:r,name:e,encode:i,decode:s=>$i(n(s))})},_F=(r,e,t,i)=>{let n={};for(let p=0;p<e.length;++p)n[e[p]]=p;let s=r.length;for(;r[s-1]==="=";)--s;let o=new Uint8Array(s*t/8|0),a=0,c=0,h=0;for(let p=0;p<s;++p){let A=n[r[p]];if(A===void 0)throw new SyntaxError(`Non-${i} character`);c=c<<t|A,a+=t,a>=8&&(a-=8,o[h++]=255&c>>a)}if(a>=t||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},bF=(r,e,t)=>{let i=e[e.length-1]==="=",n=(1<<t)-1,s="",o=0,a=0;for(let c=0;c<r.length;++c)for(a=a<<8|r[c],o+=8;o>t;)o-=t,s+=e[n&a>>o];if(o&&(s+=e[n&a<<t-o]),i)for(;s.length*t&7;)s+="=";return s},ot=({name:r,prefix:e,bitsPerChar:t,alphabet:i})=>Wa({prefix:e,name:r,encode(n){return bF(n,i,t)},decode(n){return _F(n,i,t,r)}})});var r1={};it(r1,{identity:()=>CF});var CF,Nx=ye(()=>{f();Wr();Bn();CF=Wa({prefix:"\0",name:"identity",encode:r=>xx(r),decode:r=>Cx(r)})});var i1={};it(i1,{base2:()=>xF});var xF,Dx=ye(()=>{f();Wr();xF=ot({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1})});var n1={};it(n1,{base8:()=>SF});var SF,Ox=ye(()=>{f();Wr();SF=ot({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3})});var s1={};it(s1,{base10:()=>TF});var TF,Bx=ye(()=>{f();Wr();TF=Mn({prefix:"9",name:"base10",alphabet:"0123456789"})});var o1={};it(o1,{base16:()=>NF,base16upper:()=>DF});var NF,DF,Mx=ye(()=>{f();Wr();NF=ot({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),DF=ot({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4})});var a1={};it(a1,{base32:()=>Ya,base32hex:()=>PF,base32hexpad:()=>LF,base32hexpadupper:()=>FF,base32hexupper:()=>RF,base32pad:()=>BF,base32padupper:()=>MF,base32upper:()=>OF,base32z:()=>UF});var Ya,OF,BF,MF,PF,RF,LF,FF,UF,u1=ye(()=>{f();Wr();Ya=ot({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),OF=ot({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),BF=ot({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),MF=ot({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),PF=ot({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),RF=ot({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),LF=ot({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),FF=ot({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),UF=ot({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})});var c1={};it(c1,{base36:()=>qF,base36upper:()=>VF});var qF,VF,Px=ye(()=>{f();Wr();qF=Mn({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),VF=Mn({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})});var l1={};it(l1,{base58btc:()=>xi,base58flickr:()=>HF});var xi,HF,f1=ye(()=>{f();Wr();xi=Mn({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),HF=Mn({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})});var h1={};it(h1,{base64:()=>QF,base64pad:()=>jF,base64url:()=>GF,base64urlpad:()=>KF});var QF,jF,GF,KF,Rx=ye(()=>{f();Wr();QF=ot({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),jF=ot({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),GF=ot({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),KF=ot({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})});var d1={};it(d1,{base256emoji:()=>YF});function $F(r){return r.reduce((e,t)=>(e+=zF[t],e),"")}function WF(r){let e=[];for(let t of r){let i=kF[t.codePointAt(0)];if(i===void 0)throw new Error(`Non-base256emoji character: ${t}`);e.push(i)}return new Uint8Array(e)}var Lx,zF,kF,YF,Fx=ye(()=>{f();Wr();Lx=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),zF=Lx.reduce((r,e,t)=>(r[t]=e,r),[]),kF=Lx.reduce((r,e,t)=>(r[e.codePointAt(0)]=t,r),[]);YF=Wa({prefix:"\u{1F680}",name:"base256emoji",encode:$F,decode:WF})});function Vx(r,e,t){e=e||[],t=t||0;for(var i=t;r>=e4;)e[t++]=r&255|Ux,r/=128;for(;r&ZF;)e[t++]=r&255|Ux,r>>>=7;return e[t]=r|0,Vx.bytes=t-i+1,e}function p1(r,i){var t=0,i=i||0,n=0,s=i,o,a=r.length;do{if(s>=a)throw p1.bytes=0,new RangeError("Could not decode varint");o=r[s++],t+=n<28?(o&qx)<<n:(o&qx)*Math.pow(2,n),n+=7}while(o>=r4);return p1.bytes=s-i,t}var JF,Ux,XF,ZF,e4,t4,r4,qx,i4,n4,s4,o4,a4,u4,c4,l4,f4,h4,d4,p4,Oc,Hx=ye(()=>{f();JF=Vx,Ux=128,XF=127,ZF=~XF,e4=Math.pow(2,31);t4=p1,r4=128,qx=127;i4=Math.pow(2,7),n4=Math.pow(2,14),s4=Math.pow(2,21),o4=Math.pow(2,28),a4=Math.pow(2,35),u4=Math.pow(2,42),c4=Math.pow(2,49),l4=Math.pow(2,56),f4=Math.pow(2,63),h4=function(r){return r<i4?1:r<n4?2:r<s4?3:r<o4?4:r<a4?5:r<u4?6:r<c4?7:r<l4?8:r<f4?9:10},d4={encode:JF,decode:t4,encodingLength:h4},p4=d4,Oc=p4});var Bc,Ja,Xa,jh=ye(()=>{f();Hx();Bc=(r,e=0)=>[Oc.decode(r,e),Oc.decode.bytes],Ja=(r,e,t=0)=>(Oc.encode(r,e,t),e),Xa=r=>Oc.encodingLength(r)});var Js,Qx,jx,Za,Pc=ye(()=>{f();Bn();jh();Js=(r,e)=>{let t=e.byteLength,i=Xa(r),n=i+Xa(t),s=new Uint8Array(n+t);return Ja(r,s,0),Ja(t,s,i),s.set(e,n),new Za(r,t,e,s)},Qx=r=>{let e=$i(r),[t,i]=Bc(e),[n,s]=Bc(e.subarray(i)),o=e.subarray(i+s);if(o.byteLength!==n)throw new Error("Incorrect length");return new Za(t,n,o,e)},jx=(r,e)=>r===e?!0:r.code===e.code&&r.size===e.size&&bx(r.bytes,e.bytes),Za=class{constructor(e,t,i,n){this.code=e,this.size=t,this.digest=i,this.bytes=n}}});var y1,g1,m1=ye(()=>{f();Pc();y1=({name:r,code:e,encode:t})=>new g1(r,e,t),g1=class{constructor(e,t,i){this.name=e,this.code=t,this.encode=i}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?Js(this.code,t):t.then(i=>Js(this.code,i))}else throw Error("Unknown type, must be binary type")}}});var w1={};it(w1,{sha256:()=>g4,sha512:()=>y4});var Kx,g4,y4,zx=ye(()=>{f();m1();Kx=r=>async e=>new Uint8Array(await crypto.subtle.digest(r,e)),g4=y1({name:"sha2-256",code:18,encode:Kx("SHA-256")}),y4=y1({name:"sha2-512",code:19,encode:Kx("SHA-512")})});var v1={};it(v1,{identity:()=>v4});var kx,m4,$x,w4,v4,Wx=ye(()=>{f();Bn();Pc();kx=0,m4="identity",$x=$i,w4=r=>Js(kx,$x(r)),v4={code:kx,name:m4,encode:$x,digest:w4}});var Yx=ye(()=>{f();Bn()});var AX,IX,Jx=ye(()=>{f();AX=new TextEncoder,IX=new TextDecoder});var Ut,I4,_4,b4,Rc,C4,Xx,Zx,Gh,Kh,x4,S4,T4,eS=ye(()=>{f();jh();Pc();f1();u1();Bn();Ut=class{constructor(e,t,i,n){this.code=t,this.version=e,this.multihash=i,this.bytes=n,this.byteOffset=n.byteOffset,this.byteLength=n.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:Kh,byteLength:Kh,code:Gh,version:Gh,multihash:Gh,bytes:Gh,_baseCache:Kh,asCID:Kh})}toV0(){switch(this.version){case 0:return this;default:{let{code:e,multihash:t}=this;if(e!==Rc)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==C4)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return Ut.createV0(t)}}}toV1(){switch(this.version){case 0:{let{code:e,digest:t}=this.multihash,i=Js(e,t);return Ut.createV1(this.code,i)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&jx(this.multihash,e.multihash)}toString(e){let{bytes:t,version:i,_baseCache:n}=this;switch(i){case 0:return _4(t,n,e||xi.encoder);default:return b4(t,n,e||Ya.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return S4(/^0\.0/,T4),!!(e&&(e[Zx]||e.asCID===e))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof Ut)return e;if(e!=null&&e.asCID===e){let{version:t,code:i,multihash:n,bytes:s}=e;return new Ut(t,i,n,s||Xx(t,i,n.bytes))}else if(e!=null&&e[Zx]===!0){let{version:t,multihash:i,code:n}=e,s=Qx(i);return Ut.create(t,n,s)}else return null}static create(e,t,i){if(typeof t!="number")throw new Error("String codecs are no longer supported");switch(e){case 0:{if(t!==Rc)throw new Error(`Version 0 CID must use dag-pb (code: ${Rc}) block encoding`);return new Ut(e,t,i,i.bytes)}case 1:{let n=Xx(e,t,i.bytes);return new Ut(e,t,i,n)}default:throw new Error("Invalid version")}}static createV0(e){return Ut.create(0,Rc,e)}static createV1(e,t){return Ut.create(1,e,t)}static decode(e){let[t,i]=Ut.decodeFirst(e);if(i.length)throw new Error("Incorrect length");return t}static decodeFirst(e){let t=Ut.inspectBytes(e),i=t.size-t.multihashSize,n=$i(e.subarray(i,i+t.multihashSize));if(n.byteLength!==t.multihashSize)throw new Error("Incorrect length");let s=n.subarray(t.multihashSize-t.digestSize),o=new Za(t.multihashCode,t.digestSize,s,n);return[t.version===0?Ut.createV0(o):Ut.createV1(t.codec,o),e.subarray(t.size)]}static inspectBytes(e){let t=0,i=()=>{let[A,D]=Bc(e.subarray(t));return t+=D,A},n=i(),s=Rc;if(n===18?(n=0,t=0):n===1&&(s=i()),n!==0&&n!==1)throw new RangeError(`Invalid CID version ${n}`);let o=t,a=i(),c=i(),h=t+c,p=h-o;return{version:n,codec:s,multihashCode:a,digestSize:c,multihashSize:p,size:h}}static parse(e,t){let[i,n]=I4(e,t),s=Ut.decode(n);return s._baseCache.set(i,e),s}},I4=(r,e)=>{switch(r[0]){case"Q":{let t=e||xi;return[xi.prefix,t.decode(`${xi.prefix}${r}`)]}case xi.prefix:{let t=e||xi;return[xi.prefix,t.decode(r)]}case Ya.prefix:{let t=e||Ya;return[Ya.prefix,t.decode(r)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[r[0],e.decode(r)]}}},_4=(r,e,t)=>{let{prefix:i}=t;if(i!==xi.prefix)throw Error(`Cannot string encode V0 in ${t.name} encoding`);let n=e.get(i);if(n==null){let s=t.encode(r).slice(1);return e.set(i,s),s}else return n},b4=(r,e,t)=>{let{prefix:i}=t,n=e.get(i);if(n==null){let s=t.encode(r);return e.set(i,s),s}else return n},Rc=112,C4=18,Xx=(r,e,t)=>{let i=Xa(r),n=i+Xa(e),s=new Uint8Array(n+t.byteLength);return Ja(r,s,0),Ja(e,s,i),s.set(t,n),s},Zx=Symbol.for("@ipld/js-cid/CID"),Gh={writable:!1,configurable:!1,enumerable:!0},Kh={writable:!1,enumerable:!1,configurable:!1},x4="0.0.0-dev",S4=(r,e)=>{if(r.test(x4))console.warn(e);else throw new Error(e)},T4=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`});var tS=ye(()=>{f();eS();jh();Bn();m1();Pc()});var E1,MX,rS=ye(()=>{f();Nx();Dx();Ox();Bx();Mx();u1();Px();f1();Rx();Fx();zx();Wx();Yx();Jx();tS();E1={...r1,...i1,...n1,...s1,...o1,...a1,...c1,...l1,...h1,...d1},MX={...w1,...v1}});function nS(r,e,t,i){return{name:r,prefix:e,encoder:{name:r,prefix:e,encode:t},decoder:{decode:i}}}var iS,A1,N4,zh,I1=ye(()=>{f();rS();Vh();iS=nS("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>new TextEncoder().encode(r.substring(1))),A1=nS("ascii","a",r=>{let e="a";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e},r=>{r=r.substring(1);let e=$a(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}),N4={utf8:iS,"utf-8":iS,hex:E1.base16,latin1:A1,ascii:A1,binary:A1,...E1},zh=N4});function Wi(r,e="utf8"){let t=zh[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(r.buffer,r.byteOffset,r.byteLength).toString("utf8"):t.encoder.encode(r).substring(1)}var _1=ye(()=>{f();I1()});function Si(r,e="utf8"){let t=zh[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(r,"utf8"):t.decoder.decode(`${t.prefix}${r}`)}var b1=ye(()=>{f();I1()});function Lc(r){return Cc(Wi(Si(r,za),Mh))}function Fc(r){return Wi(Si(xc(r),Mh),za)}function C1(r){let e=Si(Uh,ka),t=Fh+Wi(Hh([e,r]),ka);return[Rh,Lh,t].join(Ph)}function x1(r){let[e,t,i]=r.split(Ph);if(e!==Rh||t!==Lh)throw new Error('Issuer must be a DID with method "key"');if(i.slice(0,1)!==Fh)throw new Error("Issuer must be a key in mulicodec format");let s=Si(i.slice(1),ka);if(Wi(s.slice(0,2),ka)!==Uh)throw new Error('Issuer must be a public key with type "Ed25519"');let a=s.slice(2);if(a.length!==32)throw new Error("Issuer must be a public key with length 32 bytes");return a}function sS(r){return Wi(r,za)}function oS(r){return Si(r,za)}function S1(r){return Si([Fc(r.header),Fc(r.payload)].join(Ys),Dc)}function D4(r){let e=Wi(r,Dc).split(Ys),t=Lc(e[0]),i=Lc(e[1]);return{header:t,payload:i}}function T1(r){return[Fc(r.header),Fc(r.payload),sS(r.signature)].join(Ys)}function N1(r){let e=r.split(Ys),t=Lc(e[0]),i=Lc(e[1]),n=oS(e[2]),s=Si(e.slice(0,2).join(Ys),Dc);return{header:t,payload:i,signature:n,data:s}}var D1=ye(()=>{f();Jm();_1();b1();Ch();qh()});function O4(r=(0,aS.randomBytes)(32)){return eu.generateKeyPairFromSeed(r)}async function B4(r,e,t,i,n=(0,uS.fromMiliseconds)(Date.now())){let s={alg:Oh,typ:Bh},o=C1(i.publicKey),a=n+t,c={iss:o,sub:r,aud:e,iat:n,exp:a},h=S1({header:s,payload:c}),p=eu.sign(i.secretKey,h);return T1({header:s,payload:c,signature:p})}async function M4(r){let{header:e,payload:t,data:i,signature:n}=N1(r);if(e.alg!==Oh||e.typ!==Bh)throw new Error("JWT must use EdDSA algorithm");let s=x1(t.iss);return eu.verify(s,i,n)}var eu,aS,uS,cS=ye(()=>{f();eu=Ie(vx()),aS=Ie(Sc()),uS=Ie(zs());qh();D1()});var lS=ye(()=>{f()});var fS={};it(fS,{DATA_ENCODING:()=>Dc,DID_DELIMITER:()=>Ph,DID_METHOD:()=>Lh,DID_PREFIX:()=>Rh,JSON_ENCODING:()=>Mh,JWT_DELIMITER:()=>Ys,JWT_ENCODING:()=>za,JWT_IRIDIUM_ALG:()=>Oh,JWT_IRIDIUM_TYP:()=>Bh,KEY_PAIR_SEED_LENGTH:()=>Ax,MULTICODEC_ED25519_BASE:()=>Fh,MULTICODEC_ED25519_ENCODING:()=>ka,MULTICODEC_ED25519_HEADER:()=>Uh,MULTICODEC_ED25519_LENGTH:()=>Ex,decodeData:()=>D4,decodeIss:()=>x1,decodeJSON:()=>Lc,decodeJWT:()=>N1,decodeSig:()=>oS,encodeData:()=>S1,encodeIss:()=>C1,encodeJSON:()=>Fc,encodeJWT:()=>T1,encodeSig:()=>sS,generateKeyPair:()=>O4,signJWT:()=>B4,verifyJWT:()=>M4});var hS=ye(()=>{f();cS();qh();lS();D1()});var pS=M(kh=>{"use strict";f();Object.defineProperty(kh,"__esModule",{value:!0});var or=Qa(),O1=Fr(),P4=20;function R4(r,e,t){for(var i=1634760805,n=857760878,s=2036477234,o=1797285236,a=t[3]<<24|t[2]<<16|t[1]<<8|t[0],c=t[7]<<24|t[6]<<16|t[5]<<8|t[4],h=t[11]<<24|t[10]<<16|t[9]<<8|t[8],p=t[15]<<24|t[14]<<16|t[13]<<8|t[12],A=t[19]<<24|t[18]<<16|t[17]<<8|t[16],D=t[23]<<24|t[22]<<16|t[21]<<8|t[20],O=t[27]<<24|t[26]<<16|t[25]<<8|t[24],T=t[31]<<24|t[30]<<16|t[29]<<8|t[28],V=e[3]<<24|e[2]<<16|e[1]<<8|e[0],Q=e[7]<<24|e[6]<<16|e[5]<<8|e[4],j=e[11]<<24|e[10]<<16|e[9]<<8|e[8],ie=e[15]<<24|e[14]<<16|e[13]<<8|e[12],Y=i,W=n,$=s,k=o,R=a,F=c,K=h,ce=p,J=A,X=D,E=O,u=T,d=V,g=Q,m=j,w=ie,x=0;x<P4;x+=2)Y=Y+R|0,d^=Y,d=d>>>32-16|d<<16,J=J+d|0,R^=J,R=R>>>32-12|R<<12,W=W+F|0,g^=W,g=g>>>32-16|g<<16,X=X+g|0,F^=X,F=F>>>32-12|F<<12,$=$+K|0,m^=$,m=m>>>32-16|m<<16,E=E+m|0,K^=E,K=K>>>32-12|K<<12,k=k+ce|0,w^=k,w=w>>>32-16|w<<16,u=u+w|0,ce^=u,ce=ce>>>32-12|ce<<12,$=$+K|0,m^=$,m=m>>>32-8|m<<8,E=E+m|0,K^=E,K=K>>>32-7|K<<7,k=k+ce|0,w^=k,w=w>>>32-8|w<<8,u=u+w|0,ce^=u,ce=ce>>>32-7|ce<<7,W=W+F|0,g^=W,g=g>>>32-8|g<<8,X=X+g|0,F^=X,F=F>>>32-7|F<<7,Y=Y+R|0,d^=Y,d=d>>>32-8|d<<8,J=J+d|0,R^=J,R=R>>>32-7|R<<7,Y=Y+F|0,w^=Y,w=w>>>32-16|w<<16,E=E+w|0,F^=E,F=F>>>32-12|F<<12,W=W+K|0,d^=W,d=d>>>32-16|d<<16,u=u+d|0,K^=u,K=K>>>32-12|K<<12,$=$+ce|0,g^=$,g=g>>>32-16|g<<16,J=J+g|0,ce^=J,ce=ce>>>32-12|ce<<12,k=k+R|0,m^=k,m=m>>>32-16|m<<16,X=X+m|0,R^=X,R=R>>>32-12|R<<12,$=$+ce|0,g^=$,g=g>>>32-8|g<<8,J=J+g|0,ce^=J,ce=ce>>>32-7|ce<<7,k=k+R|0,m^=k,m=m>>>32-8|m<<8,X=X+m|0,R^=X,R=R>>>32-7|R<<7,W=W+K|0,d^=W,d=d>>>32-8|d<<8,u=u+d|0,K^=u,K=K>>>32-7|K<<7,Y=Y+F|0,w^=Y,w=w>>>32-8|w<<8,E=E+w|0,F^=E,F=F>>>32-7|F<<7;or.writeUint32LE(Y+i|0,r,0),or.writeUint32LE(W+n|0,r,4),or.writeUint32LE($+s|0,r,8),or.writeUint32LE(k+o|0,r,12),or.writeUint32LE(R+a|0,r,16),or.writeUint32LE(F+c|0,r,20),or.writeUint32LE(K+h|0,r,24),or.writeUint32LE(ce+p|0,r,28),or.writeUint32LE(J+A|0,r,32),or.writeUint32LE(X+D|0,r,36),or.writeUint32LE(E+O|0,r,40),or.writeUint32LE(u+T|0,r,44),or.writeUint32LE(d+V|0,r,48),or.writeUint32LE(g+Q|0,r,52),or.writeUint32LE(m+j|0,r,56),or.writeUint32LE(w+ie|0,r,60)}function dS(r,e,t,i,n){if(n===void 0&&(n=0),r.length!==32)throw new Error("ChaCha: key size must be 32 bytes");if(i.length<t.length)throw new Error("ChaCha: destination is shorter than source");var s,o;if(n===0){if(e.length!==8&&e.length!==12)throw new Error("ChaCha nonce must be 8 or 12 bytes");s=new Uint8Array(16),o=s.length-e.length,s.set(e,o)}else{if(e.length!==16)throw new Error("ChaCha nonce with counter must be 16 bytes");s=e,o=n}for(var a=new Uint8Array(64),c=0;c<t.length;c+=64){R4(a,s,r);for(var h=c;h<c+64&&h<t.length;h++)i[h]=t[h]^a[h-c];F4(s,0,o)}return O1.wipe(a),n===0&&O1.wipe(s),i}kh.streamXOR=dS;function L4(r,e,t,i){return i===void 0&&(i=0),O1.wipe(t),dS(r,e,t,t,i)}kh.stream=L4;function F4(r,e,t){for(var i=1;t--;)i=i+(r[e]&255)|0,r[e]=i&255,i>>>=8,e++;if(i>0)throw new Error("ChaCha: counter overflow")}});var $h=M(tu=>{"use strict";f();Object.defineProperty(tu,"__esModule",{value:!0});function U4(r,e,t){return~(r-1)&e|r-1&t}tu.select=U4;function q4(r,e){return(r|0)-(e|0)-1>>>31&1}tu.lessOrEqual=q4;function gS(r,e){if(r.length!==e.length)return 0;for(var t=0,i=0;i<r.length;i++)t|=r[i]^e[i];return 1&t-1>>>8}tu.compare=gS;function V4(r,e){return r.length===0||e.length===0?!1:gS(r,e)!==0}tu.equal=V4});var mS=M(Yi=>{"use strict";f();Object.defineProperty(Yi,"__esModule",{value:!0});var H4=$h(),Wh=Fr();Yi.DIGEST_LENGTH=16;var yS=function(){function r(e){this.digestLength=Yi.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var t=e[0]|e[1]<<8;this._r[0]=t&8191;var i=e[2]|e[3]<<8;this._r[1]=(t>>>13|i<<3)&8191;var n=e[4]|e[5]<<8;this._r[2]=(i>>>10|n<<6)&7939;var s=e[6]|e[7]<<8;this._r[3]=(n>>>7|s<<9)&8191;var o=e[8]|e[9]<<8;this._r[4]=(s>>>4|o<<12)&255,this._r[5]=o>>>1&8190;var a=e[10]|e[11]<<8;this._r[6]=(o>>>14|a<<2)&8191;var c=e[12]|e[13]<<8;this._r[7]=(a>>>11|c<<5)&8065;var h=e[14]|e[15]<<8;this._r[8]=(c>>>8|h<<8)&8191,this._r[9]=h>>>5&127,this._pad[0]=e[16]|e[17]<<8,this._pad[1]=e[18]|e[19]<<8,this._pad[2]=e[20]|e[21]<<8,this._pad[3]=e[22]|e[23]<<8,this._pad[4]=e[24]|e[25]<<8,this._pad[5]=e[26]|e[27]<<8,this._pad[6]=e[28]|e[29]<<8,this._pad[7]=e[30]|e[31]<<8}return r.prototype._blocks=function(e,t,i){for(var n=this._fin?0:2048,s=this._h[0],o=this._h[1],a=this._h[2],c=this._h[3],h=this._h[4],p=this._h[5],A=this._h[6],D=this._h[7],O=this._h[8],T=this._h[9],V=this._r[0],Q=this._r[1],j=this._r[2],ie=this._r[3],Y=this._r[4],W=this._r[5],$=this._r[6],k=this._r[7],R=this._r[8],F=this._r[9];i>=16;){var K=e[t+0]|e[t+1]<<8;s+=K&8191;var ce=e[t+2]|e[t+3]<<8;o+=(K>>>13|ce<<3)&8191;var J=e[t+4]|e[t+5]<<8;a+=(ce>>>10|J<<6)&8191;var X=e[t+6]|e[t+7]<<8;c+=(J>>>7|X<<9)&8191;var E=e[t+8]|e[t+9]<<8;h+=(X>>>4|E<<12)&8191,p+=E>>>1&8191;var u=e[t+10]|e[t+11]<<8;A+=(E>>>14|u<<2)&8191;var d=e[t+12]|e[t+13]<<8;D+=(u>>>11|d<<5)&8191;var g=e[t+14]|e[t+15]<<8;O+=(d>>>8|g<<8)&8191,T+=g>>>5|n;var m=0,w=m;w+=s*V,w+=o*(5*F),w+=a*(5*R),w+=c*(5*k),w+=h*(5*$),m=w>>>13,w&=8191,w+=p*(5*W),w+=A*(5*Y),w+=D*(5*ie),w+=O*(5*j),w+=T*(5*Q),m+=w>>>13,w&=8191;var x=m;x+=s*Q,x+=o*V,x+=a*(5*F),x+=c*(5*R),x+=h*(5*k),m=x>>>13,x&=8191,x+=p*(5*$),x+=A*(5*W),x+=D*(5*Y),x+=O*(5*ie),x+=T*(5*j),m+=x>>>13,x&=8191;var N=m;N+=s*j,N+=o*Q,N+=a*V,N+=c*(5*F),N+=h*(5*R),m=N>>>13,N&=8191,N+=p*(5*k),N+=A*(5*$),N+=D*(5*W),N+=O*(5*Y),N+=T*(5*ie),m+=N>>>13,N&=8191;var I=m;I+=s*ie,I+=o*j,I+=a*Q,I+=c*V,I+=h*(5*F),m=I>>>13,I&=8191,I+=p*(5*R),I+=A*(5*k),I+=D*(5*$),I+=O*(5*W),I+=T*(5*Y),m+=I>>>13,I&=8191;var l=m;l+=s*Y,l+=o*ie,l+=a*j,l+=c*Q,l+=h*V,m=l>>>13,l&=8191,l+=p*(5*F),l+=A*(5*R),l+=D*(5*k),l+=O*(5*$),l+=T*(5*W),m+=l>>>13,l&=8191;var C=m;C+=s*W,C+=o*Y,C+=a*ie,C+=c*j,C+=h*Q,m=C>>>13,C&=8191,C+=p*V,C+=A*(5*F),C+=D*(5*R),C+=O*(5*k),C+=T*(5*$),m+=C>>>13,C&=8191;var Z=m;Z+=s*$,Z+=o*W,Z+=a*Y,Z+=c*ie,Z+=h*j,m=Z>>>13,Z&=8191,Z+=p*Q,Z+=A*V,Z+=D*(5*F),Z+=O*(5*R),Z+=T*(5*k),m+=Z>>>13,Z&=8191;var te=m;te+=s*k,te+=o*$,te+=a*W,te+=c*Y,te+=h*ie,m=te>>>13,te&=8191,te+=p*j,te+=A*Q,te+=D*V,te+=O*(5*F),te+=T*(5*R),m+=te>>>13,te&=8191;var ee=m;ee+=s*R,ee+=o*k,ee+=a*$,ee+=c*W,ee+=h*Y,m=ee>>>13,ee&=8191,ee+=p*ie,ee+=A*j,ee+=D*Q,ee+=O*V,ee+=T*(5*F),m+=ee>>>13,ee&=8191;var ae=m;ae+=s*F,ae+=o*R,ae+=a*k,ae+=c*$,ae+=h*W,m=ae>>>13,ae&=8191,ae+=p*Y,ae+=A*ie,ae+=D*j,ae+=O*Q,ae+=T*V,m+=ae>>>13,ae&=8191,m=(m<<2)+m|0,m=m+w|0,w=m&8191,m=m>>>13,x+=m,s=w,o=x,a=N,c=I,h=l,p=C,A=Z,D=te,O=ee,T=ae,t+=16,i-=16}this._h[0]=s,this._h[1]=o,this._h[2]=a,this._h[3]=c,this._h[4]=h,this._h[5]=p,this._h[6]=A,this._h[7]=D,this._h[8]=O,this._h[9]=T},r.prototype.finish=function(e,t){t===void 0&&(t=0);var i=new Uint16Array(10),n,s,o,a;if(this._leftover){for(a=this._leftover,this._buffer[a++]=1;a<16;a++)this._buffer[a]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(n=this._h[1]>>>13,this._h[1]&=8191,a=2;a<10;a++)this._h[a]+=n,n=this._h[a]>>>13,this._h[a]&=8191;for(this._h[0]+=n*5,n=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=n,n=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=n,i[0]=this._h[0]+5,n=i[0]>>>13,i[0]&=8191,a=1;a<10;a++)i[a]=this._h[a]+n,n=i[a]>>>13,i[a]&=8191;for(i[9]-=1<<13,s=(n^1)-1,a=0;a<10;a++)i[a]&=s;for(s=~s,a=0;a<10;a++)this._h[a]=this._h[a]&s|i[a];for(this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,o=this._h[0]+this._pad[0],this._h[0]=o&65535,a=1;a<8;a++)o=(this._h[a]+this._pad[a]|0)+(o>>>16)|0,this._h[a]=o&65535;return e[t+0]=this._h[0]>>>0,e[t+1]=this._h[0]>>>8,e[t+2]=this._h[1]>>>0,e[t+3]=this._h[1]>>>8,e[t+4]=this._h[2]>>>0,e[t+5]=this._h[2]>>>8,e[t+6]=this._h[3]>>>0,e[t+7]=this._h[3]>>>8,e[t+8]=this._h[4]>>>0,e[t+9]=this._h[4]>>>8,e[t+10]=this._h[5]>>>0,e[t+11]=this._h[5]>>>8,e[t+12]=this._h[6]>>>0,e[t+13]=this._h[6]>>>8,e[t+14]=this._h[7]>>>0,e[t+15]=this._h[7]>>>8,this._finished=!0,this},r.prototype.update=function(e){var t=0,i=e.length,n;if(this._leftover){n=16-this._leftover,n>i&&(n=i);for(var s=0;s<n;s++)this._buffer[this._leftover+s]=e[t+s];if(i-=n,t+=n,this._leftover+=n,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(i>=16&&(n=i-i%16,this._blocks(e,t,n),t+=n,i-=n),i){for(var s=0;s<i;s++)this._buffer[this._leftover+s]=e[t+s];this._leftover+=i}return this},r.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var e=new Uint8Array(16);return this.finish(e),e},r.prototype.clean=function(){return Wh.wipe(this._buffer),Wh.wipe(this._r),Wh.wipe(this._h),Wh.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},r}();Yi.Poly1305=yS;function Q4(r,e){var t=new yS(r);t.update(e);var i=t.digest();return t.clean(),i}Yi.oneTimeAuth=Q4;function j4(r,e){return r.length!==Yi.DIGEST_LENGTH||e.length!==Yi.DIGEST_LENGTH?!1:H4.equal(r,e)}Yi.equal=j4});var ES=M(Ji=>{"use strict";f();Object.defineProperty(Ji,"__esModule",{value:!0});var Yh=pS(),G4=mS(),Uc=Fr(),wS=Qa(),K4=$h();Ji.KEY_LENGTH=32;Ji.NONCE_LENGTH=12;Ji.TAG_LENGTH=16;var vS=new Uint8Array(16),z4=function(){function r(e){if(this.nonceLength=Ji.NONCE_LENGTH,this.tagLength=Ji.TAG_LENGTH,e.length!==Ji.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(e)}return r.prototype.seal=function(e,t,i,n){if(e.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var s=new Uint8Array(16);s.set(e,s.length-e.length);var o=new Uint8Array(32);Yh.stream(this._key,s,o,4);var a=t.length+this.tagLength,c;if(n){if(n.length!==a)throw new Error("ChaCha20Poly1305: incorrect destination length");c=n}else c=new Uint8Array(a);return Yh.streamXOR(this._key,s,t,c,4),this._authenticate(c.subarray(c.length-this.tagLength,c.length),o,c.subarray(0,c.length-this.tagLength),i),Uc.wipe(s),c},r.prototype.open=function(e,t,i,n){if(e.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(t.length<this.tagLength)return null;var s=new Uint8Array(16);s.set(e,s.length-e.length);var o=new Uint8Array(32);Yh.stream(this._key,s,o,4);var a=new Uint8Array(this.tagLength);if(this._authenticate(a,o,t.subarray(0,t.length-this.tagLength),i),!K4.equal(a,t.subarray(t.length-this.tagLength,t.length)))return null;var c=t.length-this.tagLength,h;if(n){if(n.length!==c)throw new Error("ChaCha20Poly1305: incorrect destination length");h=n}else h=new Uint8Array(c);return Yh.streamXOR(this._key,s,t.subarray(0,t.length-this.tagLength),h,4),Uc.wipe(s),h},r.prototype.clean=function(){return Uc.wipe(this._key),this},r.prototype._authenticate=function(e,t,i,n){var s=new G4.Poly1305(t);n&&(s.update(n),n.length%16>0&&s.update(vS.subarray(n.length%16))),s.update(i),i.length%16>0&&s.update(vS.subarray(i.length%16));var o=new Uint8Array(8);n&&wS.writeUint64LE(n.length,o),s.update(o),wS.writeUint64LE(i.length,o),s.update(o);for(var a=s.digest(),c=0;c<a.length;c++)e[c]=a[c];s.clean(),Uc.wipe(a),Uc.wipe(o)},r}();Ji.ChaCha20Poly1305=z4});var AS=M(B1=>{"use strict";f();Object.defineProperty(B1,"__esModule",{value:!0});function k4(r){return typeof r.saveState<"u"&&typeof r.restoreState<"u"&&typeof r.cleanSavedState<"u"}B1.isSerializableHash=k4});var _S=M(qc=>{"use strict";f();Object.defineProperty(qc,"__esModule",{value:!0});var Ti=AS(),$4=$h(),W4=Fr(),IS=function(){function r(e,t){this._finished=!1,this._inner=new e,this._outer=new e,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var i=new Uint8Array(this.blockSize);t.length>this.blockSize?this._inner.update(t).finish(i).clean():i.set(t);for(var n=0;n<i.length;n++)i[n]^=54;this._inner.update(i);for(var n=0;n<i.length;n++)i[n]^=106;this._outer.update(i),Ti.isSerializableHash(this._inner)&&Ti.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),W4.wipe(i)}return r.prototype.reset=function(){if(!Ti.isSerializableHash(this._inner)||!Ti.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},r.prototype.clean=function(){Ti.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),Ti.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},r.prototype.update=function(e){return this._inner.update(e),this},r.prototype.finish=function(e){return this._finished?(this._outer.finish(e),this):(this._inner.finish(e),this._outer.update(e.subarray(0,this.digestLength)).finish(e),this._finished=!0,this)},r.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},r.prototype.saveState=function(){if(!Ti.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},r.prototype.restoreState=function(e){if(!Ti.isSerializableHash(this._inner)||!Ti.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(e),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},r.prototype.cleanSavedState=function(e){if(!Ti.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(e)},r}();qc.HMAC=IS;function Y4(r,e,t){var i=new IS(r,e);i.update(t);var n=i.digest();return i.clean(),n}qc.hmac=Y4;qc.equal=$4.equal});var xS=M(M1=>{"use strict";f();Object.defineProperty(M1,"__esModule",{value:!0});var bS=_S(),CS=Fr(),J4=function(){function r(e,t,i,n){i===void 0&&(i=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=e,this._info=n;var s=bS.hmac(this._hash,i,t);this._hmac=new bS.HMAC(e,s),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return r.prototype._fillBuffer=function(){this._counter[0]++;var e=this._counter[0];if(e===0)throw new Error("hkdf: cannot expand more");this._hmac.reset(),e>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},r.prototype.expand=function(e){for(var t=new Uint8Array(e),i=0;i<t.length;i++)this._bufpos===this._buffer.length&&this._fillBuffer(),t[i]=this._buffer[this._bufpos++];return t},r.prototype.clean=function(){this._hmac.clean(),CS.wipe(this._buffer),CS.wipe(this._counter),this._bufpos=0},r}();M1.HKDF=J4});var TS=M(Pn=>{"use strict";f();Object.defineProperty(Pn,"__esModule",{value:!0});var Xh=Qa(),Jh=Fr();Pn.DIGEST_LENGTH=32;Pn.BLOCK_SIZE=64;var SS=function(){function r(){this.digestLength=Pn.DIGEST_LENGTH,this.blockSize=Pn.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return r.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},r.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},r.prototype.clean=function(){Jh.wipe(this._buffer),Jh.wipe(this._temp),this.reset()},r.prototype.update=function(e,t){if(t===void 0&&(t=e.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var i=0;if(this._bytesHashed+=t,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&t>0;)this._buffer[this._bufferLength++]=e[i++],t--;this._bufferLength===this.blockSize&&(P1(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(t>=this.blockSize&&(i=P1(this._temp,this._state,e,i,t),t%=this.blockSize);t>0;)this._buffer[this._bufferLength++]=e[i++],t--;return this},r.prototype.finish=function(e){if(!this._finished){var t=this._bytesHashed,i=this._bufferLength,n=t/536870912|0,s=t<<3,o=t%64<56?64:128;this._buffer[i]=128;for(var a=i+1;a<o-8;a++)this._buffer[a]=0;Xh.writeUint32BE(n,this._buffer,o-8),Xh.writeUint32BE(s,this._buffer,o-4),P1(this._temp,this._state,this._buffer,0,o),this._finished=!0}for(var a=0;a<this.digestLength/4;a++)Xh.writeUint32BE(this._state[a],e,a*4);return this},r.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},r.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},r.prototype.restoreState=function(e){return this._state.set(e.state),this._bufferLength=e.bufferLength,e.buffer&&this._buffer.set(e.buffer),this._bytesHashed=e.bytesHashed,this._finished=!1,this},r.prototype.cleanSavedState=function(e){Jh.wipe(e.state),e.buffer&&Jh.wipe(e.buffer),e.bufferLength=0,e.bytesHashed=0},r}();Pn.SHA256=SS;var X4=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function P1(r,e,t,i,n){for(;n>=64;){for(var s=e[0],o=e[1],a=e[2],c=e[3],h=e[4],p=e[5],A=e[6],D=e[7],O=0;O<16;O++){var T=i+O*4;r[O]=Xh.readUint32BE(t,T)}for(var O=16;O<64;O++){var V=r[O-2],Q=(V>>>17|V<<32-17)^(V>>>19|V<<32-19)^V>>>10;V=r[O-15];var j=(V>>>7|V<<32-7)^(V>>>18|V<<32-18)^V>>>3;r[O]=(Q+r[O-7]|0)+(j+r[O-16]|0)}for(var O=0;O<64;O++){var Q=(((h>>>6|h<<26)^(h>>>11|h<<21)^(h>>>25|h<<7))+(h&p^~h&A)|0)+(D+(X4[O]+r[O]|0)|0)|0,j=((s>>>2|s<<32-2)^(s>>>13|s<<32-13)^(s>>>22|s<<32-22))+(s&o^s&a^o&a)|0;D=A,A=p,p=h,h=c+Q|0,c=a,a=o,o=s,s=Q+j|0}e[0]+=s,e[1]+=o,e[2]+=a,e[3]+=c,e[4]+=h,e[5]+=p,e[6]+=A,e[7]+=D,i+=64,n-=64}return i}function Z4(r){var e=new SS;e.update(r);var t=e.digest();return e.clean(),t}Pn.hash=Z4});var BS=M(at=>{"use strict";f();Object.defineProperty(at,"__esModule",{value:!0});at.sharedKey=at.generateKeyPair=at.generateKeyPairFromSeed=at.scalarMultBase=at.scalarMult=at.SHARED_KEY_LENGTH=at.SECRET_KEY_LENGTH=at.PUBLIC_KEY_LENGTH=void 0;var eU=Sc(),tU=Fr();at.PUBLIC_KEY_LENGTH=32;at.SECRET_KEY_LENGTH=32;at.SHARED_KEY_LENGTH=32;function Ni(r){let e=new Float64Array(16);if(r)for(let t=0;t<r.length;t++)e[t]=r[t];return e}var NS=new Uint8Array(32);NS[0]=9;var rU=Ni([56129,1]);function R1(r){let e=1;for(let t=0;t<16;t++){let i=r[t]+e+65535;e=Math.floor(i/65536),r[t]=i-e*65536}r[0]+=e-1+37*(e-1)}function Vc(r,e,t){let i=~(t-1);for(let n=0;n<16;n++){let s=i&(r[n]^e[n]);r[n]^=s,e[n]^=s}}function iU(r,e){let t=Ni(),i=Ni();for(let n=0;n<16;n++)i[n]=e[n];R1(i),R1(i),R1(i);for(let n=0;n<2;n++){t[0]=i[0]-65517;for(let o=1;o<15;o++)t[o]=i[o]-65535-(t[o-1]>>16&1),t[o-1]&=65535;t[15]=i[15]-32767-(t[14]>>16&1);let s=t[15]>>16&1;t[14]&=65535,Vc(i,t,1-s)}for(let n=0;n<16;n++)r[2*n]=i[n]&255,r[2*n+1]=i[n]>>8}function nU(r,e){for(let t=0;t<16;t++)r[t]=e[2*t]+(e[2*t+1]<<8);r[15]&=32767}function Zh(r,e,t){for(let i=0;i<16;i++)r[i]=e[i]+t[i]}function ed(r,e,t){for(let i=0;i<16;i++)r[i]=e[i]-t[i]}function Xi(r,e,t){let i,n,s=0,o=0,a=0,c=0,h=0,p=0,A=0,D=0,O=0,T=0,V=0,Q=0,j=0,ie=0,Y=0,W=0,$=0,k=0,R=0,F=0,K=0,ce=0,J=0,X=0,E=0,u=0,d=0,g=0,m=0,w=0,x=0,N=t[0],I=t[1],l=t[2],C=t[3],Z=t[4],te=t[5],ee=t[6],ae=t[7],v=t[8],b=t[9],S=t[10],L=t[11],B=t[12],U=t[13],q=t[14],P=t[15];i=e[0],s+=i*N,o+=i*I,a+=i*l,c+=i*C,h+=i*Z,p+=i*te,A+=i*ee,D+=i*ae,O+=i*v,T+=i*b,V+=i*S,Q+=i*L,j+=i*B,ie+=i*U,Y+=i*q,W+=i*P,i=e[1],o+=i*N,a+=i*I,c+=i*l,h+=i*C,p+=i*Z,A+=i*te,D+=i*ee,O+=i*ae,T+=i*v,V+=i*b,Q+=i*S,j+=i*L,ie+=i*B,Y+=i*U,W+=i*q,$+=i*P,i=e[2],a+=i*N,c+=i*I,h+=i*l,p+=i*C,A+=i*Z,D+=i*te,O+=i*ee,T+=i*ae,V+=i*v,Q+=i*b,j+=i*S,ie+=i*L,Y+=i*B,W+=i*U,$+=i*q,k+=i*P,i=e[3],c+=i*N,h+=i*I,p+=i*l,A+=i*C,D+=i*Z,O+=i*te,T+=i*ee,V+=i*ae,Q+=i*v,j+=i*b,ie+=i*S,Y+=i*L,W+=i*B,$+=i*U,k+=i*q,R+=i*P,i=e[4],h+=i*N,p+=i*I,A+=i*l,D+=i*C,O+=i*Z,T+=i*te,V+=i*ee,Q+=i*ae,j+=i*v,ie+=i*b,Y+=i*S,W+=i*L,$+=i*B,k+=i*U,R+=i*q,F+=i*P,i=e[5],p+=i*N,A+=i*I,D+=i*l,O+=i*C,T+=i*Z,V+=i*te,Q+=i*ee,j+=i*ae,ie+=i*v,Y+=i*b,W+=i*S,$+=i*L,k+=i*B,R+=i*U,F+=i*q,K+=i*P,i=e[6],A+=i*N,D+=i*I,O+=i*l,T+=i*C,V+=i*Z,Q+=i*te,j+=i*ee,ie+=i*ae,Y+=i*v,W+=i*b,$+=i*S,k+=i*L,R+=i*B,F+=i*U,K+=i*q,ce+=i*P,i=e[7],D+=i*N,O+=i*I,T+=i*l,V+=i*C,Q+=i*Z,j+=i*te,ie+=i*ee,Y+=i*ae,W+=i*v,$+=i*b,k+=i*S,R+=i*L,F+=i*B,K+=i*U,ce+=i*q,J+=i*P,i=e[8],O+=i*N,T+=i*I,V+=i*l,Q+=i*C,j+=i*Z,ie+=i*te,Y+=i*ee,W+=i*ae,$+=i*v,k+=i*b,R+=i*S,F+=i*L,K+=i*B,ce+=i*U,J+=i*q,X+=i*P,i=e[9],T+=i*N,V+=i*I,Q+=i*l,j+=i*C,ie+=i*Z,Y+=i*te,W+=i*ee,$+=i*ae,k+=i*v,R+=i*b,F+=i*S,K+=i*L,ce+=i*B,J+=i*U,X+=i*q,E+=i*P,i=e[10],V+=i*N,Q+=i*I,j+=i*l,ie+=i*C,Y+=i*Z,W+=i*te,$+=i*ee,k+=i*ae,R+=i*v,F+=i*b,K+=i*S,ce+=i*L,J+=i*B,X+=i*U,E+=i*q,u+=i*P,i=e[11],Q+=i*N,j+=i*I,ie+=i*l,Y+=i*C,W+=i*Z,$+=i*te,k+=i*ee,R+=i*ae,F+=i*v,K+=i*b,ce+=i*S,J+=i*L,X+=i*B,E+=i*U,u+=i*q,d+=i*P,i=e[12],j+=i*N,ie+=i*I,Y+=i*l,W+=i*C,$+=i*Z,k+=i*te,R+=i*ee,F+=i*ae,K+=i*v,ce+=i*b,J+=i*S,X+=i*L,E+=i*B,u+=i*U,d+=i*q,g+=i*P,i=e[13],ie+=i*N,Y+=i*I,W+=i*l,$+=i*C,k+=i*Z,R+=i*te,F+=i*ee,K+=i*ae,ce+=i*v,J+=i*b,X+=i*S,E+=i*L,u+=i*B,d+=i*U,g+=i*q,m+=i*P,i=e[14],Y+=i*N,W+=i*I,$+=i*l,k+=i*C,R+=i*Z,F+=i*te,K+=i*ee,ce+=i*ae,J+=i*v,X+=i*b,E+=i*S,u+=i*L,d+=i*B,g+=i*U,m+=i*q,w+=i*P,i=e[15],W+=i*N,$+=i*I,k+=i*l,R+=i*C,F+=i*Z,K+=i*te,ce+=i*ee,J+=i*ae,X+=i*v,E+=i*b,u+=i*S,d+=i*L,g+=i*B,m+=i*U,w+=i*q,x+=i*P,s+=38*$,o+=38*k,a+=38*R,c+=38*F,h+=38*K,p+=38*ce,A+=38*J,D+=38*X,O+=38*E,T+=38*u,V+=38*d,Q+=38*g,j+=38*m,ie+=38*w,Y+=38*x,n=1,i=s+n+65535,n=Math.floor(i/65536),s=i-n*65536,i=o+n+65535,n=Math.floor(i/65536),o=i-n*65536,i=a+n+65535,n=Math.floor(i/65536),a=i-n*65536,i=c+n+65535,n=Math.floor(i/65536),c=i-n*65536,i=h+n+65535,n=Math.floor(i/65536),h=i-n*65536,i=p+n+65535,n=Math.floor(i/65536),p=i-n*65536,i=A+n+65535,n=Math.floor(i/65536),A=i-n*65536,i=D+n+65535,n=Math.floor(i/65536),D=i-n*65536,i=O+n+65535,n=Math.floor(i/65536),O=i-n*65536,i=T+n+65535,n=Math.floor(i/65536),T=i-n*65536,i=V+n+65535,n=Math.floor(i/65536),V=i-n*65536,i=Q+n+65535,n=Math.floor(i/65536),Q=i-n*65536,i=j+n+65535,n=Math.floor(i/65536),j=i-n*65536,i=ie+n+65535,n=Math.floor(i/65536),ie=i-n*65536,i=Y+n+65535,n=Math.floor(i/65536),Y=i-n*65536,i=W+n+65535,n=Math.floor(i/65536),W=i-n*65536,s+=n-1+37*(n-1),n=1,i=s+n+65535,n=Math.floor(i/65536),s=i-n*65536,i=o+n+65535,n=Math.floor(i/65536),o=i-n*65536,i=a+n+65535,n=Math.floor(i/65536),a=i-n*65536,i=c+n+65535,n=Math.floor(i/65536),c=i-n*65536,i=h+n+65535,n=Math.floor(i/65536),h=i-n*65536,i=p+n+65535,n=Math.floor(i/65536),p=i-n*65536,i=A+n+65535,n=Math.floor(i/65536),A=i-n*65536,i=D+n+65535,n=Math.floor(i/65536),D=i-n*65536,i=O+n+65535,n=Math.floor(i/65536),O=i-n*65536,i=T+n+65535,n=Math.floor(i/65536),T=i-n*65536,i=V+n+65535,n=Math.floor(i/65536),V=i-n*65536,i=Q+n+65535,n=Math.floor(i/65536),Q=i-n*65536,i=j+n+65535,n=Math.floor(i/65536),j=i-n*65536,i=ie+n+65535,n=Math.floor(i/65536),ie=i-n*65536,i=Y+n+65535,n=Math.floor(i/65536),Y=i-n*65536,i=W+n+65535,n=Math.floor(i/65536),W=i-n*65536,s+=n-1+37*(n-1),r[0]=s,r[1]=o,r[2]=a,r[3]=c,r[4]=h,r[5]=p,r[6]=A,r[7]=D,r[8]=O,r[9]=T,r[10]=V,r[11]=Q,r[12]=j,r[13]=ie,r[14]=Y,r[15]=W}function Hc(r,e){Xi(r,e,e)}function sU(r,e){let t=Ni();for(let i=0;i<16;i++)t[i]=e[i];for(let i=253;i>=0;i--)Hc(t,t),i!==2&&i!==4&&Xi(t,t,e);for(let i=0;i<16;i++)r[i]=t[i]}function L1(r,e){let t=new Uint8Array(32),i=new Float64Array(80),n=Ni(),s=Ni(),o=Ni(),a=Ni(),c=Ni(),h=Ni();for(let O=0;O<31;O++)t[O]=r[O];t[31]=r[31]&127|64,t[0]&=248,nU(i,e);for(let O=0;O<16;O++)s[O]=i[O];n[0]=a[0]=1;for(let O=254;O>=0;--O){let T=t[O>>>3]>>>(O&7)&1;Vc(n,s,T),Vc(o,a,T),Zh(c,n,o),ed(n,n,o),Zh(o,s,a),ed(s,s,a),Hc(a,c),Hc(h,n),Xi(n,o,n),Xi(o,s,c),Zh(c,n,o),ed(n,n,o),Hc(s,n),ed(o,a,h),Xi(n,o,rU),Zh(n,n,a),Xi(o,o,n),Xi(n,a,h),Xi(a,s,i),Hc(s,c),Vc(n,s,T),Vc(o,a,T)}for(let O=0;O<16;O++)i[O+16]=n[O],i[O+32]=o[O],i[O+48]=s[O],i[O+64]=a[O];let p=i.subarray(32),A=i.subarray(16);sU(p,p),Xi(A,A,p);let D=new Uint8Array(32);return iU(D,A),D}at.scalarMult=L1;function DS(r){return L1(r,NS)}at.scalarMultBase=DS;function OS(r){if(r.length!==at.SECRET_KEY_LENGTH)throw new Error(`x25519: seed must be ${at.SECRET_KEY_LENGTH} bytes`);let e=new Uint8Array(r);return{publicKey:DS(e),secretKey:e}}at.generateKeyPairFromSeed=OS;function oU(r){let e=(0,eU.randomBytes)(32,r),t=OS(e);return(0,tU.wipe)(e),t}at.generateKeyPair=oU;function aU(r,e,t=!1){if(r.length!==at.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect secret key length");if(e.length!==at.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect public key length");let i=L1(r,e);if(t){let n=0;for(let s=0;s<i.length;s++)n|=i[s];if(n===0)throw new Error("X25519: invalid shared key")}return i}at.sharedKey=aU});function MS(r,e){for(let t=0;t<r.byteLength;t++){if(r[t]<e[t])return-1;if(r[t]>e[t])return 1}return r.byteLength>e.byteLength?1:r.byteLength<e.byteLength?-1:0}var PS=ye(()=>{f()});function RS(r,e){if(r===e)return!0;if(r.byteLength!==e.byteLength)return!1;for(let t=0;t<r.byteLength;t++)if(r[t]!==e[t])return!1;return!0}var LS=ye(()=>{f()});function FS(r,e){if(r.length!==e.length)throw new Error("Inputs should have the same length");let t=$a(r.length);for(let i=0;i<r.length;i++)t[i]=r[i]^e[i];return t}var US=ye(()=>{f();Vh()});var qS={};it(qS,{compare:()=>MS,concat:()=>Hh,equals:()=>RS,fromString:()=>Si,toString:()=>Wi,xor:()=>FS});var VS=ye(()=>{f();PS();Jm();LS();b1();_1();US()});var XS=M(et=>{"use strict";f();var HS=et&&et.__spreadArray||function(r,e,t){if(t||arguments.length===2)for(var i=0,n=e.length,s;i<n;i++)(s||!(i in e))&&(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return r.concat(s||Array.prototype.slice.call(e))};Object.defineProperty(et,"__esModule",{value:!0});et.getNodeVersion=et.detectOS=et.parseUserAgent=et.browserName=et.detect=et.ReactNativeInfo=et.BotInfo=et.SearchBotDeviceInfo=et.NodeInfo=et.BrowserInfo=void 0;var GS=function(){function r(e,t,i){this.name=e,this.version=t,this.os=i,this.type="browser"}return r}();et.BrowserInfo=GS;var KS=function(){function r(e){this.version=e,this.type="node",this.name="node",this.os=_.default.platform}return r}();et.NodeInfo=KS;var zS=function(){function r(e,t,i,n){this.name=e,this.version=t,this.os=i,this.bot=n,this.type="bot-device"}return r}();et.SearchBotDeviceInfo=zS;var kS=function(){function r(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return r}();et.BotInfo=kS;var $S=function(){function r(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return r}();et.ReactNativeInfo=$S;var uU=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,cU=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,QS=3,lU=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",uU]],jS=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function fU(r){return r?F1(r):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new $S:typeof navigator<"u"?F1(navigator.userAgent):JS()}et.detect=fU;function WS(r){return r!==""&&lU.reduce(function(e,t){var i=t[0],n=t[1];if(e)return e;var s=n.exec(r);return!!s&&[i,s]},!1)}function hU(r){var e=WS(r);return e?e[0]:null}et.browserName=hU;function F1(r){var e=WS(r);if(!e)return null;var t=e[0],i=e[1];if(t==="searchbot")return new kS;var n=i[1]&&i[1].split(".").join("_").split("_").slice(0,3);n?n.length<QS&&(n=HS(HS([],n,!0),dU(QS-n.length),!0)):n=[];var s=n.join("."),o=YS(r),a=cU.exec(r);return a&&a[1]?new zS(t,s,o,a[1]):new GS(t,s,o)}et.parseUserAgent=F1;function YS(r){for(var e=0,t=jS.length;e<t;e++){var i=jS[e],n=i[0],s=i[1],o=s.exec(r);if(o)return n}return null}et.detectOS=YS;function JS(){var r=typeof _.default<"u"&&_.default.version;return r?new KS(_.default.version.slice(1)):null}et.getNodeVersion=JS;function dU(r){for(var e=[],t=0;t<r;t++)e.push("0");return e}});var U1=M(ze=>{"use strict";f();Object.defineProperty(ze,"__esModule",{value:!0});ze.getLocalStorage=ze.getLocalStorageOrThrow=ze.getCrypto=ze.getCryptoOrThrow=ze.getLocation=ze.getLocationOrThrow=ze.getNavigator=ze.getNavigatorOrThrow=ze.getDocument=ze.getDocumentOrThrow=ze.getFromWindowOrThrow=ze.getFromWindow=void 0;function Xs(r){let e;return typeof window<"u"&&typeof window[r]<"u"&&(e=window[r]),e}ze.getFromWindow=Xs;function ru(r){let e=Xs(r);if(!e)throw new Error(`${r} is not defined in Window`);return e}ze.getFromWindowOrThrow=ru;function pU(){return ru("document")}ze.getDocumentOrThrow=pU;function gU(){return Xs("document")}ze.getDocument=gU;function yU(){return ru("navigator")}ze.getNavigatorOrThrow=yU;function mU(){return Xs("navigator")}ze.getNavigator=mU;function wU(){return ru("location")}ze.getLocationOrThrow=wU;function vU(){return Xs("location")}ze.getLocation=vU;function EU(){return ru("crypto")}ze.getCryptoOrThrow=EU;function AU(){return Xs("crypto")}ze.getCrypto=AU;function IU(){return ru("localStorage")}ze.getLocalStorageOrThrow=IU;function _U(){return Xs("localStorage")}ze.getLocalStorage=_U});var e2=M(td=>{"use strict";f();Object.defineProperty(td,"__esModule",{value:!0});td.getWindowMetadata=void 0;var ZS=U1();function bU(){let r,e;try{r=ZS.getDocumentOrThrow(),e=ZS.getLocationOrThrow()}catch{return null}function t(){let A=r.getElementsByTagName("link"),D=[];for(let O=0;O<A.length;O++){let T=A[O],V=T.getAttribute("rel");if(V&&V.toLowerCase().indexOf("icon")>-1){let Q=T.getAttribute("href");if(Q)if(Q.toLowerCase().indexOf("https:")===-1&&Q.toLowerCase().indexOf("http:")===-1&&Q.indexOf("//")!==0){let j=e.protocol+"//"+e.host;if(Q.indexOf("/")===0)j+=Q;else{let ie=e.pathname.split("/");ie.pop();let Y=ie.join("/");j+=Y+"/"+Q}D.push(j)}else if(Q.indexOf("//")===0){let j=e.protocol+Q;D.push(j)}else D.push(Q)}}return D}function i(...A){let D=r.getElementsByTagName("meta");for(let O=0;O<D.length;O++){let T=D[O],V=["itemprop","property","name"].map(Q=>T.getAttribute(Q)).filter(Q=>Q?A.includes(Q):!1);if(V.length&&V){let Q=T.getAttribute("content");if(Q)return Q}}return""}function n(){let A=i("name","og:site_name","og:title","twitter:title");return A||(A=r.title),A}function s(){return i("description","og:description","twitter:description","keywords")}let o=n(),a=s(),c=e.origin,h=t();return{description:a,url:c,icons:h,name:o}}td.getWindowMetadata=bU});var r2=M((kZ,t2)=>{"use strict";f();t2.exports=r=>encodeURIComponent(r).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`)});var a2=M((WZ,o2)=>{"use strict";f();var s2="%[a-f0-9]{2}",i2=new RegExp("("+s2+")|([^%]+?)","gi"),n2=new RegExp("("+s2+")+","gi");function q1(r,e){try{return[decodeURIComponent(r.join(""))]}catch{}if(r.length===1)return r;e=e||1;var t=r.slice(0,e),i=r.slice(e);return Array.prototype.concat.call([],q1(t),q1(i))}function CU(r){try{return decodeURIComponent(r)}catch{for(var e=r.match(i2)||[],t=1;t<e.length;t++)r=q1(e,t).join(""),e=r.match(i2)||[];return r}}function xU(r){for(var e={"%FE%FF":"\uFFFD\uFFFD","%FF%FE":"\uFFFD\uFFFD"},t=n2.exec(r);t;){try{e[t[0]]=decodeURIComponent(t[0])}catch{var i=CU(t[0]);i!==t[0]&&(e[t[0]]=i)}t=n2.exec(r)}e["%C2"]="\uFFFD";for(var n=Object.keys(e),s=0;s<n.length;s++){var o=n[s];r=r.replace(new RegExp(o,"g"),e[o])}return r}o2.exports=function(r){if(typeof r!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof r+"`");try{return r=r.replace(/\+/g," "),decodeURIComponent(r)}catch{return xU(r)}}});var c2=M((JZ,u2)=>{"use strict";f();u2.exports=(r,e)=>{if(!(typeof r=="string"&&typeof e=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e==="")return[r];let t=r.indexOf(e);return t===-1?[r]:[r.slice(0,t),r.slice(t+e.length)]}});var f2=M((ZZ,l2)=>{"use strict";f();l2.exports=function(r,e){for(var t={},i=Object.keys(r),n=Array.isArray(e),s=0;s<i.length;s++){var o=i[s],a=r[o];(n?e.indexOf(o)!==-1:e(o,a,r))&&(t[o]=a)}return t}});var v2=M(mr=>{"use strict";f();var SU=r2(),TU=a2(),d2=c2(),NU=f2(),DU=r=>r==null,V1=Symbol("encodeFragmentIdentifier");function OU(r){switch(r.arrayFormat){case"index":return e=>(t,i)=>{let n=t.length;return i===void 0||r.skipNull&&i===null||r.skipEmptyString&&i===""?t:i===null?[...t,[ft(e,r),"[",n,"]"].join("")]:[...t,[ft(e,r),"[",ft(n,r),"]=",ft(i,r)].join("")]};case"bracket":return e=>(t,i)=>i===void 0||r.skipNull&&i===null||r.skipEmptyString&&i===""?t:i===null?[...t,[ft(e,r),"[]"].join("")]:[...t,[ft(e,r),"[]=",ft(i,r)].join("")];case"colon-list-separator":return e=>(t,i)=>i===void 0||r.skipNull&&i===null||r.skipEmptyString&&i===""?t:i===null?[...t,[ft(e,r),":list="].join("")]:[...t,[ft(e,r),":list=",ft(i,r)].join("")];case"comma":case"separator":case"bracket-separator":{let e=r.arrayFormat==="bracket-separator"?"[]=":"=";return t=>(i,n)=>n===void 0||r.skipNull&&n===null||r.skipEmptyString&&n===""?i:(n=n===null?"":n,i.length===0?[[ft(t,r),e,ft(n,r)].join("")]:[[i,ft(n,r)].join(r.arrayFormatSeparator)])}default:return e=>(t,i)=>i===void 0||r.skipNull&&i===null||r.skipEmptyString&&i===""?t:i===null?[...t,ft(e,r)]:[...t,[ft(e,r),"=",ft(i,r)].join("")]}}function BU(r){let e;switch(r.arrayFormat){case"index":return(t,i,n)=>{if(e=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),!e){n[t]=i;return}n[t]===void 0&&(n[t]={}),n[t][e[1]]=i};case"bracket":return(t,i,n)=>{if(e=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),!e){n[t]=i;return}if(n[t]===void 0){n[t]=[i];return}n[t]=[].concat(n[t],i)};case"colon-list-separator":return(t,i,n)=>{if(e=/(:list)$/.exec(t),t=t.replace(/:list$/,""),!e){n[t]=i;return}if(n[t]===void 0){n[t]=[i];return}n[t]=[].concat(n[t],i)};case"comma":case"separator":return(t,i,n)=>{let s=typeof i=="string"&&i.includes(r.arrayFormatSeparator),o=typeof i=="string"&&!s&&Zi(i,r).includes(r.arrayFormatSeparator);i=o?Zi(i,r):i;let a=s||o?i.split(r.arrayFormatSeparator).map(c=>Zi(c,r)):i===null?i:Zi(i,r);n[t]=a};case"bracket-separator":return(t,i,n)=>{let s=/(\[\])$/.test(t);if(t=t.replace(/\[\]$/,""),!s){n[t]=i&&Zi(i,r);return}let o=i===null?[]:i.split(r.arrayFormatSeparator).map(a=>Zi(a,r));if(n[t]===void 0){n[t]=o;return}n[t]=[].concat(n[t],o)};default:return(t,i,n)=>{if(n[t]===void 0){n[t]=i;return}n[t]=[].concat(n[t],i)}}}function p2(r){if(typeof r!="string"||r.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function ft(r,e){return e.encode?e.strict?SU(r):encodeURIComponent(r):r}function Zi(r,e){return e.decode?TU(r):r}function g2(r){return Array.isArray(r)?r.sort():typeof r=="object"?g2(Object.keys(r)).sort((e,t)=>Number(e)-Number(t)).map(e=>r[e]):r}function y2(r){let e=r.indexOf("#");return e!==-1&&(r=r.slice(0,e)),r}function MU(r){let e="",t=r.indexOf("#");return t!==-1&&(e=r.slice(t)),e}function m2(r){r=y2(r);let e=r.indexOf("?");return e===-1?"":r.slice(e+1)}function h2(r,e){return e.parseNumbers&&!Number.isNaN(Number(r))&&typeof r=="string"&&r.trim()!==""?r=Number(r):e.parseBooleans&&r!==null&&(r.toLowerCase()==="true"||r.toLowerCase()==="false")&&(r=r.toLowerCase()==="true"),r}function w2(r,e){e=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},e),p2(e.arrayFormatSeparator);let t=BU(e),i=Object.create(null);if(typeof r!="string"||(r=r.trim().replace(/^[?#&]/,""),!r))return i;for(let n of r.split("&")){if(n==="")continue;let[s,o]=d2(e.decode?n.replace(/\+/g," "):n,"=");o=o===void 0?null:["comma","separator","bracket-separator"].includes(e.arrayFormat)?o:Zi(o,e),t(Zi(s,e),o,i)}for(let n of Object.keys(i)){let s=i[n];if(typeof s=="object"&&s!==null)for(let o of Object.keys(s))s[o]=h2(s[o],e);else i[n]=h2(s,e)}return e.sort===!1?i:(e.sort===!0?Object.keys(i).sort():Object.keys(i).sort(e.sort)).reduce((n,s)=>{let o=i[s];return Boolean(o)&&typeof o=="object"&&!Array.isArray(o)?n[s]=g2(o):n[s]=o,n},Object.create(null))}mr.extract=m2;mr.parse=w2;mr.stringify=(r,e)=>{if(!r)return"";e=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},e),p2(e.arrayFormatSeparator);let t=o=>e.skipNull&&DU(r[o])||e.skipEmptyString&&r[o]==="",i=OU(e),n={};for(let o of Object.keys(r))t(o)||(n[o]=r[o]);let s=Object.keys(n);return e.sort!==!1&&s.sort(e.sort),s.map(o=>{let a=r[o];return a===void 0?"":a===null?ft(o,e):Array.isArray(a)?a.length===0&&e.arrayFormat==="bracket-separator"?ft(o,e)+"[]":a.reduce(i(o),[]).join("&"):ft(o,e)+"="+ft(a,e)}).filter(o=>o.length>0).join("&")};mr.parseUrl=(r,e)=>{e=Object.assign({decode:!0},e);let[t,i]=d2(r,"#");return Object.assign({url:t.split("?")[0]||"",query:w2(m2(r),e)},e&&e.parseFragmentIdentifier&&i?{fragmentIdentifier:Zi(i,e)}:{})};mr.stringifyUrl=(r,e)=>{e=Object.assign({encode:!0,strict:!0,[V1]:!0},e);let t=y2(r.url).split("?")[0]||"",i=mr.extract(r.url),n=mr.parse(i,{sort:!1}),s=Object.assign(n,r.query),o=mr.stringify(s,e);o&&(o=`?${o}`);let a=MU(r.url);return r.fragmentIdentifier&&(a=`#${e[V1]?ft(r.fragmentIdentifier,e):r.fragmentIdentifier}`),`${t}${o}${a}`};mr.pick=(r,e,t)=>{t=Object.assign({parseFragmentIdentifier:!0,[V1]:!1},t);let{url:i,query:n,fragmentIdentifier:s}=mr.parseUrl(r,t);return mr.stringifyUrl({url:i,query:NU(n,e),fragmentIdentifier:s},t)};mr.exclude=(r,e,t)=>{let i=Array.isArray(e)?n=>!e.includes(n):(n,s)=>!e(n,s);return mr.pick(r,i,t)}});var E2=ye(()=>{f()});function Rn(r,e,t="string"){if(!r[e]||typeof r[e]!==t)throw new Error(`Missing or invalid "${e}" param`)}function PU(r,e){let t=!0;return e.forEach(i=>{i in r||(t=!1)}),t}function RU(r,e){return Array.isArray(r)?r.length===e:Object.keys(r).length===e}function LU(r,e){return Array.isArray(r)?r.length>=e:Object.keys(r).length>=e}function Qc(r,e,t){return(!t.length?RU(r,e.length):LU(r,e.length))?PU(r,e):!1}function jc(r,e,t="_"){let i=r.split(t);return i[i.length-1].trim().toLowerCase()===e.trim().toLowerCase()}var H1=ye(()=>{f()});function FU(r){return rd(r.method)&&id(r.params)}function rd(r){return jc(r,"subscribe")}function id(r){return Qc(r,["topic"],[])}function UU(r){return nd(r.method)&&sd(r.params)}function nd(r){return jc(r,"publish")}function sd(r){return Qc(r,["message","topic","ttl"],["prompt","tag"])}function qU(r){return od(r.method)&&ad(r.params)}function od(r){return jc(r,"unsubscribe")}function ad(r){return Qc(r,["id","topic"],[])}function VU(r){return ud(r.method)&&cd(r.params)}function ud(r){return jc(r,"subscription")}function cd(r){return Qc(r,["id","data"],[])}var Q1=ye(()=>{f();H1()});function HU(r){if(!rd(r.method))throw new Error("JSON-RPC Request has invalid subscribe method");if(!id(r.params))throw new Error("JSON-RPC Request has invalid subscribe params");let e=r.params;return Rn(e,"topic"),e}function QU(r){if(!nd(r.method))throw new Error("JSON-RPC Request has invalid publish method");if(!sd(r.params))throw new Error("JSON-RPC Request has invalid publish params");let e=r.params;return Rn(e,"topic"),Rn(e,"message"),Rn(e,"ttl","number"),e}function jU(r){if(!od(r.method))throw new Error("JSON-RPC Request has invalid unsubscribe method");if(!ad(r.params))throw new Error("JSON-RPC Request has invalid unsubscribe params");let e=r.params;return Rn(e,"id"),e}function GU(r){if(!ud(r.method))throw new Error("JSON-RPC Request has invalid subscription method");if(!cd(r.params))throw new Error("JSON-RPC Request has invalid subscription params");let e=r.params;return Rn(e,"id"),Rn(e,"data"),e}var A2=ye(()=>{f();H1();Q1()});var KU,I2=ye(()=>{f();KU={waku:{publish:"waku_publish",subscribe:"waku_subscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe"},irn:{publish:"irn_publish",subscribe:"irn_subscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe"},iridium:{publish:"iridium_publish",subscribe:"iridium_subscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe"}}});var _2={};it(_2,{RELAY_JSONRPC:()=>KU,isPublishMethod:()=>nd,isPublishParams:()=>sd,isPublishRequest:()=>UU,isSubscribeMethod:()=>rd,isSubscribeParams:()=>id,isSubscribeRequest:()=>FU,isSubscriptionMethod:()=>ud,isSubscriptionParams:()=>cd,isSubscriptionRequest:()=>VU,isUnsubscribeMethod:()=>od,isUnsubscribeParams:()=>ad,isUnsubscribeRequest:()=>qU,parsePublishRequest:()=>QU,parseSubscribeRequest:()=>HU,parseSubscriptionRequest:()=>GU,parseUnsubscribeRequest:()=>jU});var b2=ye(()=>{f();E2();A2();I2();Q1()});var md=M(ne=>{"use strict";f();Object.defineProperty(ne,"__esModule",{value:!0});var O2=ES(),zU=xS(),B2=Sc(),$1=TS(),kU=BS(),tt=(VS(),nt(qS)),$U=XS(),nu=zs(),Gc=U1(),WU=e2(),YU=v2(),JU=(b2(),nt(_2));function M2(r){if(r&&r.__esModule)return r;var e=Object.create(null);return r&&Object.keys(r).forEach(function(t){if(t!=="default"){var i=Object.getOwnPropertyDescriptor(r,t);Object.defineProperty(e,t,i.get?i:{enumerable:!0,get:function(){return r[t]}})}}),e.default=r,Object.freeze(e)}var P2=M2(kU),ld=M2(YU),dd=":";function R2(r){let[e,t]=r.split(dd);return{namespace:e,reference:t}}function L2(r){let{namespace:e,reference:t}=r;return[e,t].join(dd)}function W1(r){let[e,t,i]=r.split(dd);return{namespace:e,reference:t,address:i}}function F2(r){let{namespace:e,reference:t,address:i}=r;return[e,t,i].join(dd)}function Y1(r,e){let t=[];return r.forEach(i=>{let n=e(i);t.includes(n)||t.push(n)}),t}function U2(r){let{address:e}=W1(r);return e}function q2(r){let{namespace:e,reference:t}=W1(r);return L2({namespace:e,reference:t})}function XU(r,e){let{namespace:t,reference:i}=R2(e);return F2({namespace:t,reference:i,address:r})}function ZU(r){return Y1(r,U2)}function V2(r){return Y1(r,q2)}function eq(r,e=[]){let t=[];return Object.keys(r).forEach(i=>{if(e.length&&!e.includes(i))return;let n=r[i];t.push(...n.accounts)}),t}function tq(r,e=[]){let t=[];return Object.keys(r).forEach(i=>{if(e.length&&!e.includes(i))return;let n=r[i];t.push(...V2(n.accounts))}),t}function rq(r,e=[]){let t=[];return Object.keys(r).forEach(i=>{if(e.length&&!e.includes(i))return;let n=r[i];t.push(...n.chains)}),t}var J1="base10",lr="base16",fd="base64pad",pd="utf8",X1=0,su=1,iq=0,C2=1,j1=12,Z1=32;function nq(){let r=P2.generateKeyPair();return{privateKey:tt.toString(r.secretKey,lr),publicKey:tt.toString(r.publicKey,lr)}}function sq(){let r=B2.randomBytes(Z1);return tt.toString(r,lr)}function oq(r,e){let t=P2.sharedKey(tt.fromString(r,lr),tt.fromString(e,lr)),i=new zU.HKDF($1.SHA256,t).expand(Z1);return tt.toString(i,lr)}function aq(r){let e=$1.hash(tt.fromString(r,lr));return tt.toString(e,lr)}function uq(r){let e=$1.hash(tt.fromString(r,pd));return tt.toString(e,lr)}function H2(r){return tt.fromString(`${r}`,J1)}function Kc(r){return Number(tt.toString(r,J1))}function cq(r){let e=H2(typeof r.type<"u"?r.type:X1);if(Kc(e)===su&&typeof r.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");let t=typeof r.senderPublicKey<"u"?tt.fromString(r.senderPublicKey,lr):void 0,i=typeof r.iv<"u"?tt.fromString(r.iv,lr):B2.randomBytes(j1),n=new O2.ChaCha20Poly1305(tt.fromString(r.symKey,lr)).seal(i,tt.fromString(r.message,pd));return Q2({type:e,sealed:n,iv:i,senderPublicKey:t})}function lq(r){let e=new O2.ChaCha20Poly1305(tt.fromString(r.symKey,lr)),{sealed:t,iv:i}=ew(r.encoded),n=e.open(i,t);if(n===null)throw new Error("Failed to decrypt");return tt.toString(n,pd)}function Q2(r){if(Kc(r.type)===su){if(typeof r.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return tt.toString(tt.concat([r.type,r.senderPublicKey,r.iv,r.sealed]),fd)}return tt.toString(tt.concat([r.type,r.iv,r.sealed]),fd)}function ew(r){let e=tt.fromString(r,fd),t=e.slice(iq,C2),i=C2;if(Kc(t)===su){let a=i+Z1,c=a+j1,h=e.slice(i,a),p=e.slice(a,c),A=e.slice(c);return{type:t,sealed:A,iv:p,senderPublicKey:h}}let n=i+j1,s=e.slice(i,n),o=e.slice(n);return{type:t,sealed:o,iv:s}}function fq(r,e){let t=ew(r);return j2({type:Kc(t.type),senderPublicKey:typeof t.senderPublicKey<"u"?tt.toString(t.senderPublicKey,lr):void 0,receiverPublicKey:e?.receiverPublicKey})}function j2(r){let e=r?.type||X1;if(e===su){if(typeof r?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof r?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:r?.senderPublicKey,receiverPublicKey:r?.receiverPublicKey}}function hq(r){return r.type===su&&typeof r.senderPublicKey=="string"&&typeof r.receiverPublicKey=="string"}var dq=Object.defineProperty,x2=Object.getOwnPropertySymbols,pq=Object.prototype.hasOwnProperty,gq=Object.prototype.propertyIsEnumerable,S2=(r,e,t)=>e in r?dq(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,T2=(r,e)=>{for(var t in e||(e={}))pq.call(e,t)&&S2(r,t,e[t]);if(x2)for(var t of x2(e))gq.call(e,t)&&S2(r,t,e[t]);return r},G2="ReactNative",iu={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},hd=" ",yq=":",K2="/",tw=2,mq=1e3,z2="js";function rw(){return typeof _.default<"u"&&typeof _.default.versions<"u"&&typeof _.default.versions.node<"u"}function k2(){return!Gc.getDocument()&&!!Gc.getNavigator()&&navigator.product===G2}function $2(){return!rw()&&!!Gc.getNavigator()}function iw(){return k2()?iu.reactNative:rw()?iu.node:$2()?iu.browser:iu.unknown}function W2(r,e){let t=ld.parse(r);return t=T2(T2({},t),e),r=ld.stringify(t),r}function wq(){return WU.getWindowMetadata()||{name:"",description:"",url:"",icons:[""]}}function vq(r,e){var t;let i=iw(),n={protocol:r,version:e,env:i};return i==="browser"&&(n.host=((t=Gc.getLocation())==null?void 0:t.host)||"unknown"),n}function Y2(){let r=$U.detect();if(r===null)return"unknown";let e=r.os?r.os.replace(" ","").toLowerCase():"unknown";return r.type==="browser"?[e,r.name,r.version].join("-"):[e,r.version].join("-")}function J2(){var r;let e=iw();return e===iu.browser?[e,((r=Gc.getLocation())==null?void 0:r.host)||"unknown"].join(":"):e}function X2(r,e,t){let i=Y2(),n=J2();return[[r,e].join("-"),[z2,t].join("-"),i,n].join("/")}function Eq({protocol:r,version:e,relayUrl:t,sdkVersion:i,auth:n,projectId:s}){let o=t.split("?"),a=X2(r,e,i),c={auth:n,ua:a,projectId:s},h=W2(o[1]||"",c);return o[0]+"?"+h}function Aq(r){let e=(r.match(/^[^:]+(?=:\/\/)/gi)||[])[0],t=typeof e<"u"?r.split("://")[1]:r;return e=e==="wss"?"https":"http",[e,t].join("://")}function Iq(r,e,t){if(!r[e]||typeof r[e]!==t)throw new Error(`Missing or invalid "${e}" param`)}function Z2(r,e=tw){return e3(r.split(K2),e)}function _q(r){return Z2(r).join(hd)}function cr(r,e){return r.filter(t=>e.includes(t)).length===r.length}function e3(r,e=tw){return r.slice(Math.max(r.length-e,0))}function bq(r){return Object.fromEntries(r.entries())}function Cq(r){return new Map(Object.entries(r))}function xq(r,e){let t={};return Object.keys(r).forEach(i=>{t[i]=e(r[i])}),t}var Sq=r=>r;function t3(r){return r.trim().replace(/^\w/,e=>e.toUpperCase())}function Tq(r){return r.split(hd).map(e=>t3(e)).join(hd)}function Nq(r,e){return nu.fromMiliseconds((e||Date.now())+nu.toMiliseconds(r))}function Dq(r){return nu.fromMiliseconds(Date.now())>=nu.toMiliseconds(r)}function Oq(){let r=nu.toMiliseconds(nu.FIVE_MINUTES),e,t,i;return{resolve:n=>{i&&e&&(clearTimeout(i),e(n))},reject:n=>{i&&t&&(clearTimeout(i),t(n))},done:()=>new Promise((n,s)=>{i=setTimeout(s,r),e=n,t=s})}}function nw(r,e){if(typeof e=="string"&&e.startsWith(`${r}:`))return e;if(r.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(r.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${r}`)}function Bq(r){return nw("topic",r)}function Mq(r){return nw("id",r)}function Pq(r){let[e,t]=r.split(":"),i={id:void 0,topic:void 0};if(e==="topic"&&typeof t=="string")i.topic=t;else if(e==="id"&&Number.isInteger(Number(t)))i.id=Number(t);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${t}`);return i}function Rq(r,e){return`${r}${e?`:${e}`:""}`}var r3="irn";function Lq(r){return r?.relay||{protocol:r3}}function Fq(r){let e=JU.RELAY_JSONRPC[r];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${r}`);return e}var Uq=Object.defineProperty,N2=Object.getOwnPropertySymbols,qq=Object.prototype.hasOwnProperty,Vq=Object.prototype.propertyIsEnumerable,D2=(r,e,t)=>e in r?Uq(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Hq=(r,e)=>{for(var t in e||(e={}))qq.call(e,t)&&D2(r,t,e[t]);if(N2)for(var t of N2(e))Vq.call(e,t)&&D2(r,t,e[t]);return r};function i3(r,e="-"){let t={},i="relay"+e;return Object.keys(r).forEach(n=>{if(n.startsWith(i)){let s=n.replace(i,""),o=r[n];t[s]=o}}),t}function Qq(r){let e=r.indexOf(":"),t=r.indexOf("?")!==-1?r.indexOf("?"):void 0,i=r.substring(0,e),n=r.substring(e+1,t).split("@"),s=typeof t<"u"?r.substring(t):"",o=ld.parse(s);return{protocol:i,topic:n[0],version:parseInt(n[1],10),symKey:o.symKey,relay:i3(o)}}function n3(r,e="-"){let t="relay",i={};return Object.keys(r).forEach(n=>{let s=t+e+n;r[n]&&(i[s]=r[n])}),i}function jq(r){return`${r.protocol}:${r.topic}@${r.version}?`+ld.stringify(Hq({symKey:r.symKey},n3(r.relay)))}function Jr(r){let e=[];return r.forEach(t=>{let[i,n]=t.split(":");e.push(`${i}:${n}`)}),e}function s3(r){let e=[];return Object.values(r).forEach(t=>{e.push(...Jr(t.accounts)),t.extension&&t.extension.forEach(i=>{e.push(...Jr(i.accounts))})}),e}function o3(r,e){let t=[];return Object.values(r).forEach(i=>{Jr(i.accounts).includes(e)&&t.push(...i.methods),i.extension&&i.extension.forEach(n=>{Jr(n.accounts).includes(e)&&t.push(...n.methods)})}),t}function a3(r,e){let t=[];return Object.values(r).forEach(i=>{Jr(i.accounts).includes(e)&&t.push(...i.events),i.extension&&i.extension.forEach(n=>{Jr(n.accounts).includes(e)&&t.push(...n.events)})}),t}var Gq={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},Kq={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function Yr(r,e){let{message:t,code:i}=Kq[r];return{message:e?`${t} ${e}`:t,code:i}}function Zs(r,e){let{message:t,code:i}=Gq[r];return{message:e?`${t} ${e}`:t,code:i}}function ou(r,e){return Array.isArray(r)?typeof e<"u"&&r.length?r.every(e):!0:!1}function sw(r){return Object.getPrototypeOf(r)===Object.prototype&&Object.keys(r).length}function en(r){return typeof r>"u"}function br(r,e){return e&&en(r)?!0:typeof r=="string"&&Boolean(r.trim().length)}function ow(r,e){return e&&en(r)?!0:typeof r=="number"&&!isNaN(r)}function zq(r,e){let{requiredNamespaces:t}=e,i=Object.keys(r.namespaces),n=Object.keys(t),s=!0;return cr(n,i)?(i.forEach(o=>{let{accounts:a,methods:c,events:h,extension:p}=r.namespaces[o],A=Jr(a),D=t[o];(!cr(D.chains,A)||!cr(D.methods,c)||!cr(D.events,h))&&(s=!1),s&&p&&p.forEach(O=>{var T;let{accounts:V,methods:Q,events:j}=O,ie=Jr(V);(T=D.extension)!=null&&T.find(Y=>cr(Y.chains,ie)&&cr(Y.methods,Q)&&cr(Y.events,j))||(s=!1)})}),s):!1}function gd(r){return br(r,!1)&&r.includes(":")?r.split(":").length===2:!1}function u3(r){if(br(r,!1)&&r.includes(":")){let e=r.split(":");if(e.length===3){let t=e[0]+":"+e[1];return!!e[2]&&gd(t)}}return!1}function kq(r){if(br(r,!1))try{return typeof new URL(r)<"u"}catch{return!1}return!1}function $q(r){var e;return(e=r?.proposer)==null?void 0:e.publicKey}function Wq(r){return r?.topic}function Yq(r,e){let t=null;return br(r?.publicKey,!1)||(t=Yr("MISSING_OR_INVALID",`${e} controller public key should be a string`)),t}function yd(r,e){let t=null;return en(r?.extension)||(!ou(r.extension)||!r.extension.length)&&(t=Yr("MISSING_OR_INVALID",`${e} extension should be an array of namespaces, or omitted`)),t}function G1(r){let e=!0;return ou(r)?r.length&&(e=r.every(t=>br(t,!1))):e=!1,e}function K1(r,e,t){let i=null;return ou(e)?e.forEach(n=>{i||(!gd(n)||!n.includes(r))&&(i=Zs("UNSUPPORTED_CHAINS",`${t}, chain ${n} should be a string and conform to "namespace:chainId" format`))}):i=Zs("UNSUPPORTED_CHAINS",`${t}, chains ${e} should be an array of strings conforming to "namespace:chainId" format`),i}function c3(r,e){let t=null;return Object.entries(r).forEach(([i,n])=>{if(t)return;let s=K1(i,n?.chains,`${e} requiredNamespace`),o=yd(n,e);s?t=s:o?t=o:n.extension&&n.extension.forEach(a=>{if(t)return;let c=K1(i,a.chains,`${e} extension`);c&&(t=c)})}),t}function z1(r,e){let t=null;return ou(r)?r.forEach(i=>{t||u3(i)||(t=Zs("UNSUPPORTED_ACCOUNTS",`${e}, account ${i} should be a string and conform to "namespace:chainId:address" format`))}):t=Zs("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),t}function l3(r,e){let t=null;return Object.values(r).forEach(i=>{if(t)return;let n=z1(i?.accounts,`${e} namespace`),s=yd(i,e);n?t=n:s?t=s:i.extension&&i.extension.forEach(o=>{if(t)return;let a=z1(o.accounts,`${e} extension`);a&&(t=a)})}),t}function k1(r,e){let t=null;return G1(r?.methods)?G1(r?.events)||(t=Zs("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):t=Zs("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),t}function aw(r,e){let t=null;return Object.values(r).forEach(i=>{if(t)return;let n=k1(i,`${e}, namespace`),s=yd(i,e);n?t=n:s?t=s:i.extension&&i.extension.forEach(o=>{if(t)return;let a=k1(o,`${e}, extension`);a&&(t=a)})}),t}function Jq(r,e){let t=null;if(r&&sw(r)){let i=aw(r,e);i&&(t=i);let n=c3(r,e);n&&(t=n)}else t=Yr("MISSING_OR_INVALID",`${e}, requiredNamespaces should be an object with data`);return t}function Xq(r,e){let t=null;if(r&&sw(r)){let i=aw(r,e);i&&(t=i);let n=l3(r,e);n&&(t=n)}else t=Yr("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return t}function f3(r){return br(r.protocol,!0)}function Zq(r,e){let t=!1;return e&&!r?t=!0:r&&ou(r)&&r.length&&r.forEach(i=>{t=f3(i)}),t}function eV(r){return typeof r=="number"}function tV(r){return typeof r<"u"&&typeof r!==null}function rV(r){return!(!r||typeof r!="object"||!r.code||!ow(r.code,!1)||!r.message||!br(r.message,!1))}function iV(r){return!(en(r)||!br(r.method,!1))}function nV(r){return!(en(r)||en(r.result)&&en(r.error)||!ow(r.id,!1)||!br(r.jsonrpc,!1))}function sV(r){return!(en(r)||!br(r.name,!1))}function oV(r,e){return!(!gd(e)||!s3(r).includes(e))}function aV(r,e,t){return br(t,!1)?o3(r,e).includes(t):!1}function uV(r,e,t){return br(t,!1)?a3(r,e).includes(t):!1}function cV(r,e,t){let i=null,n=Object.keys(r),s=Object.keys(e);return cr(n,s)?n.forEach(o=>{var a;if(i)return;let c=r[o].chains,h=Jr(e[o].accounts);cr(c,h)?cr(r[o].methods,e[o].methods)?cr(r[o].events,e[o].events)?r[o].extension&&!e[o].extension?i=Yr("NON_CONFORMING_NAMESPACES",`${t} namespaces extension doesn't satisfy requiredNamespaces extension for ${o}`):r[o].extension&&e[o].extension&&((a=r[o].extension)==null||a.forEach(({methods:p,events:A,chains:D})=>{var O;i||(O=e[o].extension)!=null&&O.find(T=>{let V=Jr(T.accounts);return cr(D,V)&&cr(A,T.events)&&cr(p,T.methods)})||(i=Yr("NON_CONFORMING_NAMESPACES",`${t} namespaces extension doesn't satisfy requiredNamespaces extension for ${o}`))})):i=Yr("NON_CONFORMING_NAMESPACES",`${t} namespaces events don't satisfy requiredNamespaces events for ${o}`):i=Yr("NON_CONFORMING_NAMESPACES",`${t} namespaces methods don't satisfy requiredNamespaces methods for ${o}`):i=Yr("NON_CONFORMING_NAMESPACES",`${t} namespaces accounts don't satisfy requiredNamespaces chains for ${o}`)}):i=Yr("NON_CONFORMING_NAMESPACES",`${t} namespaces keys don't satisfy requiredNamespaces`),i}ne.BASE10=J1,ne.BASE16=lr,ne.BASE64=fd,ne.COLON=yq,ne.DEFAULT_DEPTH=tw,ne.EMPTY_SPACE=hd,ne.ENV_MAP=iu,ne.ONE_THOUSAND=mq,ne.REACT_NATIVE_PRODUCT=G2,ne.RELAYER_DEFAULT_PROTOCOL=r3,ne.SDK_TYPE=z2,ne.SLASH=K2,ne.TYPE_0=X1,ne.TYPE_1=su,ne.UTF8=pd,ne.appendToQueryString=W2,ne.assertType=Iq,ne.calcExpiry=Nq,ne.capitalize=Tq,ne.capitalizeWord=t3,ne.createDelayedPromise=Oq,ne.decodeTypeByte=Kc,ne.decrypt=lq,ne.deriveSymKey=oq,ne.deserialize=ew,ne.encodeTypeByte=H2,ne.encrypt=cq,ne.engineEvent=Rq,ne.enumify=Sq,ne.formatAccountId=F2,ne.formatAccountWithChain=XU,ne.formatChainId=L2,ne.formatExpirerTarget=nw,ne.formatIdTarget=Mq,ne.formatMessageContext=_q,ne.formatRelayParams=n3,ne.formatRelayRpcUrl=Eq,ne.formatTopicTarget=Bq,ne.formatUA=X2,ne.formatUri=jq,ne.generateKeyPair=nq,ne.generateRandomBytes32=sq,ne.getAccountsChains=Jr,ne.getAccountsFromNamespaces=eq,ne.getAddressFromAccount=U2,ne.getAddressesFromAccounts=ZU,ne.getAppMetadata=wq,ne.getChainFromAccount=q2,ne.getChainsFromAccounts=V2,ne.getChainsFromNamespaces=tq,ne.getChainsFromRequiredNamespaces=rq,ne.getEnvironment=iw,ne.getHttpUrl=Aq,ne.getInternalError=Yr,ne.getJavascriptID=J2,ne.getJavascriptOS=Y2,ne.getLastItems=e3,ne.getNamespacesChains=s3,ne.getNamespacesEventsForChainId=a3,ne.getNamespacesMethodsForChainId=o3,ne.getRelayClientMetadata=vq,ne.getRelayProtocolApi=Fq,ne.getRelayProtocolName=Lq,ne.getSdkError=Zs,ne.getUniqueValues=Y1,ne.hasOverlap=cr,ne.hashKey=aq,ne.hashMessage=uq,ne.isBrowser=$2,ne.isConformingNamespaces=cV,ne.isExpired=Dq,ne.isNode=rw,ne.isProposalStruct=$q,ne.isReactNative=k2,ne.isSessionCompatible=zq,ne.isSessionStruct=Wq,ne.isTypeOneEnvelope=hq,ne.isUndefined=en,ne.isValidAccountId=u3,ne.isValidAccounts=z1,ne.isValidActions=k1,ne.isValidArray=ou,ne.isValidChainId=gd,ne.isValidChains=K1,ne.isValidController=Yq,ne.isValidErrorReason=rV,ne.isValidEvent=sV,ne.isValidExtension=yd,ne.isValidId=eV,ne.isValidNamespaceAccounts=l3,ne.isValidNamespaceActions=aw,ne.isValidNamespaceChains=c3,ne.isValidNamespaceMethodsOrEvents=G1,ne.isValidNamespaces=Xq,ne.isValidNamespacesChainId=oV,ne.isValidNamespacesEvent=uV,ne.isValidNamespacesRequest=aV,ne.isValidNumber=ow,ne.isValidObject=sw,ne.isValidParams=tV,ne.isValidRelay=f3,ne.isValidRelays=Zq,ne.isValidRequest=iV,ne.isValidRequiredNamespaces=Jq,ne.isValidResponse=nV,ne.isValidString=br,ne.isValidUrl=kq,ne.mapEntries=xq,ne.mapToObj=bq,ne.objToMap=Cq,ne.parseAccountId=W1,ne.parseChainId=R2,ne.parseContextNames=Z2,ne.parseExpirerTarget=Pq,ne.parseRelayParams=i3,ne.parseUri=Qq,ne.serialize=Q2,ne.validateDecoding=fq,ne.validateEncoding=j2});var h3,d3,p3,g3,wd,zc,uw,vd,Ln,kc,Ed=ye(()=>{f();h3="PARSE_ERROR",d3="INVALID_REQUEST",p3="METHOD_NOT_FOUND",g3="INVALID_PARAMS",wd="INTERNAL_ERROR",zc="SERVER_ERROR",uw=[-32700,-32600,-32601,-32602,-32603],vd=[-32e3,-32099],Ln={[h3]:{code:-32700,message:"Parse error"},[d3]:{code:-32600,message:"Invalid Request"},[p3]:{code:-32601,message:"Method not found"},[g3]:{code:-32602,message:"Invalid params"},[wd]:{code:-32603,message:"Internal error"},[zc]:{code:-32e3,message:"Server error"}},kc=zc});function lV(r){return r<=vd[0]&&r>=vd[1]}function Ad(r){return uw.includes(r)}function y3(r){return typeof r=="number"}function Id(r){return Object.keys(Ln).includes(r)?Ln[r]:Ln[kc]}function _d(r){let e=Object.values(Ln).find(t=>t.code===r);return e||Ln[kc]}function fV(r){if(typeof r.error.code>"u")return{valid:!1,error:"Missing code for JSON-RPC error"};if(typeof r.error.message>"u")return{valid:!1,error:"Missing message for JSON-RPC error"};if(!y3(r.error.code))return{valid:!1,error:`Invalid error code type for JSON-RPC: ${r.error.code}`};if(Ad(r.error.code)){let e=_d(r.error.code);if(e.message!==Ln[kc].message&&r.error.message===e.message)return{valid:!1,error:`Invalid error code message for JSON-RPC: ${r.error.code}`}}return{valid:!0}}function cw(r,e,t){return r.message.includes("getaddrinfo ENOTFOUND")||r.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${t} RPC url at ${e}`):r}var lw=ye(()=>{f();Ed()});var w3=M(Fn=>{"use strict";f();Object.defineProperty(Fn,"__esModule",{value:!0});Fn.isBrowserCryptoAvailable=Fn.getSubtleCrypto=Fn.getBrowerCrypto=void 0;function fw(){return(global===null||global===void 0?void 0:global.crypto)||(global===null||global===void 0?void 0:global.msCrypto)||{}}Fn.getBrowerCrypto=fw;function m3(){let r=fw();return r.subtle||r.webkitSubtle}Fn.getSubtleCrypto=m3;function hV(){return!!fw()&&!!m3()}Fn.isBrowserCryptoAvailable=hV});var A3=M(Un=>{"use strict";f();Object.defineProperty(Un,"__esModule",{value:!0});Un.isBrowser=Un.isNode=Un.isReactNative=void 0;function v3(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}Un.isReactNative=v3;function E3(){return typeof _.default<"u"&&typeof _.default.versions<"u"&&typeof _.default.versions.node<"u"}Un.isNode=E3;function dV(){return!v3()&&!E3()}Un.isBrowser=dV});var hw=M(bd=>{"use strict";f();Object.defineProperty(bd,"__esModule",{value:!0});var I3=(Ir(),nt(Ar));I3.__exportStar(w3(),bd);I3.__exportStar(A3(),bd)});var kt={};it(kt,{isNodeJs:()=>b3});var _3,b3,C3=ye(()=>{f();_3=Ie(hw());Jt(kt,Ie(hw()));b3=_3.isNode});function x3(){let r=Date.now()*Math.pow(10,3),e=Math.floor(Math.random()*Math.pow(10,3));return r+e}function dw(r,e,t){return{id:t||x3(),jsonrpc:"2.0",method:r,params:e}}function pV(r,e){return{id:r,jsonrpc:"2.0",result:e}}function pw(r,e,t){return{id:r,jsonrpc:"2.0",error:S3(e,t)}}function S3(r,e){return typeof r>"u"?Id(wd):(typeof r=="string"&&(r=Object.assign(Object.assign({},Id(zc)),{message:r})),typeof e<"u"&&(r.data=e),Ad(r.code)&&(r=_d(r.code)),r)}var T3=ye(()=>{f();lw();Ed()});function gV(r){return r.includes("*")?xd(r):!/\W/g.test(r)}function Cd(r){return r==="*"}function xd(r){return Cd(r)?!0:!(!r.includes("*")||r.split("*").length!==2||r.split("*").filter(e=>e.trim()==="").length!==1)}function yV(r){return!Cd(r)&&xd(r)&&!r.split("*")[0].trim()}function mV(r){return!Cd(r)&&xd(r)&&!r.split("*")[1].trim()}var N3=ye(()=>{f()});var D3=ye(()=>{f()});var au,gw=ye(()=>{f();au=class{}});var yw,Sd,$c,O3=ye(()=>{f();gw();yw=class extends au{constructor(e){super()}},Sd=class extends au{constructor(){super()}},$c=class extends Sd{constructor(e){super()}}});var B3=ye(()=>{f()});var M3=ye(()=>{f();D3();gw();O3();B3()});var P3=ye(()=>{f();M3()});function EV(r){let e=r.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function R3(r,e){let t=EV(r);return typeof t>"u"?!1:new RegExp(e).test(t)}function AV(r){return R3(r,wV)}function Td(r){return R3(r,vV)}function mw(r){return new RegExp("wss?://localhost(:d{2,5})?").test(r)}var wV,vV,L3=ye(()=>{f();wV="^https?:",vV="^wss?:"});function ww(r){return typeof r=="object"&&"id"in r&&"jsonrpc"in r&&r.jsonrpc==="2.0"}function IV(r){return ww(r)&&"method"in r}function vw(r){return ww(r)&&(F3(r)||Nd(r))}function F3(r){return"result"in r}function Nd(r){return"error"in r}function _V(r){return"error"in r&&r.valid===!1}var U3=ye(()=>{f()});var ar={};it(ar,{DEFAULT_ERROR:()=>kc,IBaseJsonRpcProvider:()=>Sd,IEvents:()=>au,IJsonRpcConnection:()=>yw,IJsonRpcProvider:()=>$c,INTERNAL_ERROR:()=>wd,INVALID_PARAMS:()=>g3,INVALID_REQUEST:()=>d3,METHOD_NOT_FOUND:()=>p3,PARSE_ERROR:()=>h3,RESERVED_ERROR_CODES:()=>uw,SERVER_ERROR:()=>zc,SERVER_ERROR_CODE_RANGE:()=>vd,STANDARD_ERROR_MAP:()=>Ln,formatErrorMessage:()=>S3,formatJsonRpcError:()=>pw,formatJsonRpcRequest:()=>dw,formatJsonRpcResult:()=>pV,getError:()=>Id,getErrorByCode:()=>_d,isHttpUrl:()=>AV,isJsonRpcError:()=>Nd,isJsonRpcPayload:()=>ww,isJsonRpcRequest:()=>IV,isJsonRpcResponse:()=>vw,isJsonRpcResult:()=>F3,isJsonRpcValidationInvalid:()=>_V,isLocalhostUrl:()=>mw,isNodeJs:()=>b3,isReservedErrorCode:()=>Ad,isServerErrorCode:()=>lV,isValidDefaultRoute:()=>Cd,isValidErrorCode:()=>y3,isValidLeadingWildcardRoute:()=>yV,isValidRoute:()=>gV,isValidTrailingWildcardRoute:()=>mV,isValidWildcardRoute:()=>xd,isWsUrl:()=>Td,parseConnectionError:()=>cw,payloadId:()=>x3,validateJsonRpcError:()=>fV});var Wc=ye(()=>{f();Ed();lw();C3();Jt(ar,kt);T3();N3();P3();L3();U3()});var q3,Dd,V3,Ew=ye(()=>{f();q3=Ie(Ks());Wc();Dd=class extends $c{constructor(e){super(e),this.events=new q3.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async request(e,t){return this.requestStrict(dw(e.method,e.params||[]),t)}async requestStrict(e,t){return new Promise(async(i,n)=>{if(!this.connection.connected)try{await this.open()}catch(s){n(s)}this.events.on(`${e.id}`,s=>{Nd(s)?n(s.error):i(s.result)});try{await this.connection.send(e,t)}catch(s){n(s)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),vw(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",()=>this.events.emit("disconnect")),this.connection.on("error",e=>this.events.emit("error",e)),this.hasRegisteredEventListeners=!0)}},V3=Dd});var H3={};it(H3,{JsonRpcProvider:()=>Dd,default:()=>bV});var bV,Q3=ye(()=>{f();Ew();Ew();bV=V3});var G3=M((Ite,j3)=>{"use strict";f();j3.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}});var z3,K3,CV,xV,SV,Od,k3,Aw=ye(()=>{f();z3=Ie(Ks());Ch();Wc();K3=10,CV=()=>typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:G3(),xV=()=>typeof window<"u",SV=CV(),Od=class{constructor(e){if(this.url=e,this.events=new z3.EventEmitter,this.registering=!1,!Td(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(e=this.url){await this.register(e)}async close(){if(typeof this.socket>"u")throw new Error("Connection already closed");this.socket.close(),this.onClose()}async send(e,t){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(xc(e))}catch(i){this.onError(e.id,i)}}register(e=this.url){if(!Td(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){let t=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=t||this.events.listenerCount("open")>=t)&&this.events.setMaxListeners(t+1),new Promise((i,n)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),n(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return n(new Error("WebSocket connection is missing or invalid"));i(this.socket)})})}return this.url=e,this.registering=!0,new Promise((t,i)=>{let n=(0,ar.isReactNative)()?void 0:{rejectUnauthorized:!mw(e)},s=new SV(e,[],n);xV()?s.onerror=o=>{let a=o;i(this.emitError(a.error))}:s.on("error",o=>{i(this.emitError(o))}),s.onopen=()=>{this.onOpen(s),t(s)}})}onOpen(e){e.onmessage=t=>this.onPayload(t),e.onclose=()=>this.onClose(),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(){this.socket=void 0,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;let t=typeof e.data=="string"?Cc(e.data):e.data;this.events.emit("payload",t)}onError(e,t){let i=this.parseError(t),n=i.message||i.toString(),s=pw(e,n);this.events.emit("payload",s)}parseError(e,t=this.url){return cw(e,t,"WS")}resetMaxListeners(){this.events.getMaxListeners()>K3&&this.events.setMaxListeners(K3)}emitError(e){let t=this.parseError(new Error(e?.message||`WebSocket connection failed for URL: ${this.url}`));return this.events.emit("register_error",t),t}},k3=Od});var $3={};it($3,{WsConnection:()=>Od,default:()=>TV});var TV,W3=ye(()=>{f();Aw();Aw();TV=k3});var DT=M((Yc,cu)=>{f();var NV=200,Bw="__lodash_hash_undefined__",qd=1,aT=2,uT=9007199254740991,Bd="[object Arguments]",Cw="[object Array]",DV="[object AsyncFunction]",cT="[object Boolean]",lT="[object Date]",fT="[object Error]",hT="[object Function]",OV="[object GeneratorFunction]",Md="[object Map]",dT="[object Number]",BV="[object Null]",uu="[object Object]",Y3="[object Promise]",MV="[object Proxy]",pT="[object RegExp]",Pd="[object Set]",gT="[object String]",PV="[object Symbol]",RV="[object Undefined]",xw="[object WeakMap]",yT="[object ArrayBuffer]",Rd="[object DataView]",LV="[object Float32Array]",FV="[object Float64Array]",UV="[object Int8Array]",qV="[object Int16Array]",VV="[object Int32Array]",HV="[object Uint8Array]",QV="[object Uint8ClampedArray]",jV="[object Uint16Array]",GV="[object Uint32Array]",KV=/[\\^$.*+?()[\]{}|]/g,zV=/^\[object .+?Constructor\]$/,kV=/^(?:0|[1-9]\d*)$/,Ye={};Ye[LV]=Ye[FV]=Ye[UV]=Ye[qV]=Ye[VV]=Ye[HV]=Ye[QV]=Ye[jV]=Ye[GV]=!0;Ye[Bd]=Ye[Cw]=Ye[yT]=Ye[cT]=Ye[Rd]=Ye[lT]=Ye[fT]=Ye[hT]=Ye[Md]=Ye[dT]=Ye[uu]=Ye[pT]=Ye[Pd]=Ye[gT]=Ye[xw]=!1;var mT=typeof global=="object"&&global&&global.Object===Object&&global,$V=typeof self=="object"&&self&&self.Object===Object&&self,tn=mT||$V||Function("return this")(),wT=typeof Yc=="object"&&Yc&&!Yc.nodeType&&Yc,J3=wT&&typeof cu=="object"&&cu&&!cu.nodeType&&cu,vT=J3&&J3.exports===wT,Iw=vT&&mT.process,X3=function(){try{return Iw&&Iw.binding&&Iw.binding("util")}catch{}}(),Z3=X3&&X3.isTypedArray;function WV(r,e){for(var t=-1,i=r==null?0:r.length,n=0,s=[];++t<i;){var o=r[t];e(o,t,r)&&(s[n++]=o)}return s}function YV(r,e){for(var t=-1,i=e.length,n=r.length;++t<i;)r[n+t]=e[t];return r}function JV(r,e){for(var t=-1,i=r==null?0:r.length;++t<i;)if(e(r[t],t,r))return!0;return!1}function XV(r,e){for(var t=-1,i=Array(r);++t<r;)i[t]=e(t);return i}function ZV(r){return function(e){return r(e)}}function e7(r,e){return r.has(e)}function t7(r,e){return r?.[e]}function r7(r){var e=-1,t=Array(r.size);return r.forEach(function(i,n){t[++e]=[n,i]}),t}function i7(r,e){return function(t){return r(e(t))}}function n7(r){var e=-1,t=Array(r.size);return r.forEach(function(i){t[++e]=i}),t}var s7=Array.prototype,o7=Function.prototype,Vd=Object.prototype,_w=tn["__core-js_shared__"],ET=o7.toString,Di=Vd.hasOwnProperty,eT=function(){var r=/[^.]+$/.exec(_w&&_w.keys&&_w.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}(),AT=Vd.toString,a7=RegExp("^"+ET.call(Di).replace(KV,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),tT=vT?tn.Buffer:void 0,Ld=tn.Symbol,rT=tn.Uint8Array,IT=Vd.propertyIsEnumerable,u7=s7.splice,eo=Ld?Ld.toStringTag:void 0,iT=Object.getOwnPropertySymbols,c7=tT?tT.isBuffer:void 0,l7=i7(Object.keys,Object),Sw=lu(tn,"DataView"),Jc=lu(tn,"Map"),Tw=lu(tn,"Promise"),Nw=lu(tn,"Set"),Dw=lu(tn,"WeakMap"),Xc=lu(Object,"create"),f7=io(Sw),h7=io(Jc),d7=io(Tw),p7=io(Nw),g7=io(Dw),nT=Ld?Ld.prototype:void 0,bw=nT?nT.valueOf:void 0;function to(r){var e=-1,t=r==null?0:r.length;for(this.clear();++e<t;){var i=r[e];this.set(i[0],i[1])}}function y7(){this.__data__=Xc?Xc(null):{},this.size=0}function m7(r){var e=this.has(r)&&delete this.__data__[r];return this.size-=e?1:0,e}function w7(r){var e=this.__data__;if(Xc){var t=e[r];return t===Bw?void 0:t}return Di.call(e,r)?e[r]:void 0}function v7(r){var e=this.__data__;return Xc?e[r]!==void 0:Di.call(e,r)}function E7(r,e){var t=this.__data__;return this.size+=this.has(r)?0:1,t[r]=Xc&&e===void 0?Bw:e,this}to.prototype.clear=y7;to.prototype.delete=m7;to.prototype.get=w7;to.prototype.has=v7;to.prototype.set=E7;function rn(r){var e=-1,t=r==null?0:r.length;for(this.clear();++e<t;){var i=r[e];this.set(i[0],i[1])}}function A7(){this.__data__=[],this.size=0}function I7(r){var e=this.__data__,t=Hd(e,r);if(t<0)return!1;var i=e.length-1;return t==i?e.pop():u7.call(e,t,1),--this.size,!0}function _7(r){var e=this.__data__,t=Hd(e,r);return t<0?void 0:e[t][1]}function b7(r){return Hd(this.__data__,r)>-1}function C7(r,e){var t=this.__data__,i=Hd(t,r);return i<0?(++this.size,t.push([r,e])):t[i][1]=e,this}rn.prototype.clear=A7;rn.prototype.delete=I7;rn.prototype.get=_7;rn.prototype.has=b7;rn.prototype.set=C7;function ro(r){var e=-1,t=r==null?0:r.length;for(this.clear();++e<t;){var i=r[e];this.set(i[0],i[1])}}function x7(){this.size=0,this.__data__={hash:new to,map:new(Jc||rn),string:new to}}function S7(r){var e=Qd(this,r).delete(r);return this.size-=e?1:0,e}function T7(r){return Qd(this,r).get(r)}function N7(r){return Qd(this,r).has(r)}function D7(r,e){var t=Qd(this,r),i=t.size;return t.set(r,e),this.size+=t.size==i?0:1,this}ro.prototype.clear=x7;ro.prototype.delete=S7;ro.prototype.get=T7;ro.prototype.has=N7;ro.prototype.set=D7;function Fd(r){var e=-1,t=r==null?0:r.length;for(this.__data__=new ro;++e<t;)this.add(r[e])}function O7(r){return this.__data__.set(r,Bw),this}function B7(r){return this.__data__.has(r)}Fd.prototype.add=Fd.prototype.push=O7;Fd.prototype.has=B7;function Vn(r){var e=this.__data__=new rn(r);this.size=e.size}function M7(){this.__data__=new rn,this.size=0}function P7(r){var e=this.__data__,t=e.delete(r);return this.size=e.size,t}function R7(r){return this.__data__.get(r)}function L7(r){return this.__data__.has(r)}function F7(r,e){var t=this.__data__;if(t instanceof rn){var i=t.__data__;if(!Jc||i.length<NV-1)return i.push([r,e]),this.size=++t.size,this;t=this.__data__=new ro(i)}return t.set(r,e),this.size=t.size,this}Vn.prototype.clear=M7;Vn.prototype.delete=P7;Vn.prototype.get=R7;Vn.prototype.has=L7;Vn.prototype.set=F7;function U7(r,e){var t=Ud(r),i=!t&&Z7(r),n=!t&&!i&&Ow(r),s=!t&&!i&&!n&&NT(r),o=t||i||n||s,a=o?XV(r.length,String):[],c=a.length;for(var h in r)(e||Di.call(r,h))&&!(o&&(h=="length"||n&&(h=="offset"||h=="parent")||s&&(h=="buffer"||h=="byteLength"||h=="byteOffset")||$7(h,c)))&&a.push(h);return a}function Hd(r,e){for(var t=r.length;t--;)if(CT(r[t][0],e))return t;return-1}function q7(r,e,t){var i=e(r);return Ud(r)?i:YV(i,t(r))}function el(r){return r==null?r===void 0?RV:BV:eo&&eo in Object(r)?z7(r):X7(r)}function sT(r){return Zc(r)&&el(r)==Bd}function _T(r,e,t,i,n){return r===e?!0:r==null||e==null||!Zc(r)&&!Zc(e)?r!==r&&e!==e:V7(r,e,t,i,_T,n)}function V7(r,e,t,i,n,s){var o=Ud(r),a=Ud(e),c=o?Cw:qn(r),h=a?Cw:qn(e);c=c==Bd?uu:c,h=h==Bd?uu:h;var p=c==uu,A=h==uu,D=c==h;if(D&&Ow(r)){if(!Ow(e))return!1;o=!0,p=!1}if(D&&!p)return s||(s=new Vn),o||NT(r)?bT(r,e,t,i,n,s):G7(r,e,c,t,i,n,s);if(!(t&qd)){var O=p&&Di.call(r,"__wrapped__"),T=A&&Di.call(e,"__wrapped__");if(O||T){var V=O?r.value():r,Q=T?e.value():e;return s||(s=new Vn),n(V,Q,t,i,s)}}return D?(s||(s=new Vn),K7(r,e,t,i,n,s)):!1}function H7(r){if(!TT(r)||Y7(r))return!1;var e=xT(r)?a7:zV;return e.test(io(r))}function Q7(r){return Zc(r)&&ST(r.length)&&!!Ye[el(r)]}function j7(r){if(!J7(r))return l7(r);var e=[];for(var t in Object(r))Di.call(r,t)&&t!="constructor"&&e.push(t);return e}function bT(r,e,t,i,n,s){var o=t&qd,a=r.length,c=e.length;if(a!=c&&!(o&&c>a))return!1;var h=s.get(r);if(h&&s.get(e))return h==e;var p=-1,A=!0,D=t&aT?new Fd:void 0;for(s.set(r,e),s.set(e,r);++p<a;){var O=r[p],T=e[p];if(i)var V=o?i(T,O,p,e,r,s):i(O,T,p,r,e,s);if(V!==void 0){if(V)continue;A=!1;break}if(D){if(!JV(e,function(Q,j){if(!e7(D,j)&&(O===Q||n(O,Q,t,i,s)))return D.push(j)})){A=!1;break}}else if(!(O===T||n(O,T,t,i,s))){A=!1;break}}return s.delete(r),s.delete(e),A}function G7(r,e,t,i,n,s,o){switch(t){case Rd:if(r.byteLength!=e.byteLength||r.byteOffset!=e.byteOffset)return!1;r=r.buffer,e=e.buffer;case yT:return!(r.byteLength!=e.byteLength||!s(new rT(r),new rT(e)));case cT:case lT:case dT:return CT(+r,+e);case fT:return r.name==e.name&&r.message==e.message;case pT:case gT:return r==e+"";case Md:var a=r7;case Pd:var c=i&qd;if(a||(a=n7),r.size!=e.size&&!c)return!1;var h=o.get(r);if(h)return h==e;i|=aT,o.set(r,e);var p=bT(a(r),a(e),i,n,s,o);return o.delete(r),p;case PV:if(bw)return bw.call(r)==bw.call(e)}return!1}function K7(r,e,t,i,n,s){var o=t&qd,a=oT(r),c=a.length,h=oT(e),p=h.length;if(c!=p&&!o)return!1;for(var A=c;A--;){var D=a[A];if(!(o?D in e:Di.call(e,D)))return!1}var O=s.get(r);if(O&&s.get(e))return O==e;var T=!0;s.set(r,e),s.set(e,r);for(var V=o;++A<c;){D=a[A];var Q=r[D],j=e[D];if(i)var ie=o?i(j,Q,D,e,r,s):i(Q,j,D,r,e,s);if(!(ie===void 0?Q===j||n(Q,j,t,i,s):ie)){T=!1;break}V||(V=D=="constructor")}if(T&&!V){var Y=r.constructor,W=e.constructor;Y!=W&&"constructor"in r&&"constructor"in e&&!(typeof Y=="function"&&Y instanceof Y&&typeof W=="function"&&W instanceof W)&&(T=!1)}return s.delete(r),s.delete(e),T}function oT(r){return q7(r,rH,k7)}function Qd(r,e){var t=r.__data__;return W7(e)?t[typeof e=="string"?"string":"hash"]:t.map}function lu(r,e){var t=t7(r,e);return H7(t)?t:void 0}function z7(r){var e=Di.call(r,eo),t=r[eo];try{r[eo]=void 0;var i=!0}catch{}var n=AT.call(r);return i&&(e?r[eo]=t:delete r[eo]),n}var k7=iT?function(r){return r==null?[]:(r=Object(r),WV(iT(r),function(e){return IT.call(r,e)}))}:iH,qn=el;(Sw&&qn(new Sw(new ArrayBuffer(1)))!=Rd||Jc&&qn(new Jc)!=Md||Tw&&qn(Tw.resolve())!=Y3||Nw&&qn(new Nw)!=Pd||Dw&&qn(new Dw)!=xw)&&(qn=function(r){var e=el(r),t=e==uu?r.constructor:void 0,i=t?io(t):"";if(i)switch(i){case f7:return Rd;case h7:return Md;case d7:return Y3;case p7:return Pd;case g7:return xw}return e});function $7(r,e){return e=e??uT,!!e&&(typeof r=="number"||kV.test(r))&&r>-1&&r%1==0&&r<e}function W7(r){var e=typeof r;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?r!=="__proto__":r===null}function Y7(r){return!!eT&&eT in r}function J7(r){var e=r&&r.constructor,t=typeof e=="function"&&e.prototype||Vd;return r===t}function X7(r){return AT.call(r)}function io(r){if(r!=null){try{return ET.call(r)}catch{}try{return r+""}catch{}}return""}function CT(r,e){return r===e||r!==r&&e!==e}var Z7=sT(function(){return arguments}())?sT:function(r){return Zc(r)&&Di.call(r,"callee")&&!IT.call(r,"callee")},Ud=Array.isArray;function eH(r){return r!=null&&ST(r.length)&&!xT(r)}var Ow=c7||nH;function tH(r,e){return _T(r,e)}function xT(r){if(!TT(r))return!1;var e=el(r);return e==hT||e==OV||e==DV||e==MV}function ST(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=uT}function TT(r){var e=typeof r;return r!=null&&(e=="object"||e=="function")}function Zc(r){return r!=null&&typeof r=="object"}var NT=Z3?ZV(Z3):Q7;function rH(r){return eH(r)?U7(r):j7(r)}function iH(){return[]}function nH(){return!1}cu.exports=tH});var MN=M(ve=>{"use strict";f();Object.defineProperty(ve,"__esModule",{value:!0});var so=Ks(),sH=uh(),oH=vC(),ep=RC(),rt=ym(),Hn=Mm(),OT=(Ch(),nt(QC)),aH=(hS(),nt(fS)),fe=md(),qt=zs(),uH=(Q3(),nt(H3)),Zr=(Wc(),nt(ar)),cH=(W3(),nt($3)),lH=DT();function tl(r){return r&&typeof r=="object"&&"default"in r?r:{default:r}}function fH(r){if(r&&r.__esModule)return r;var e=Object.create(null);return r&&Object.keys(r).forEach(function(t){if(t!=="default"){var i=Object.getOwnPropertyDescriptor(r,t);Object.defineProperty(e,t,i.get?i:{enumerable:!0,get:function(){return r[t]}})}}),e.default=r,Object.freeze(e)}var hH=tl(so),$T=tl(sH),dH=tl(oH),jd=fH(aH),pH=tl(cH),gH=tl(lH);function yH(r,e){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),i=0;i<t.length;i++)t[i]=255;for(var n=0;n<r.length;n++){var s=r.charAt(n),o=s.charCodeAt(0);if(t[o]!==255)throw new TypeError(s+" is ambiguous");t[o]=n}var a=r.length,c=r.charAt(0),h=Math.log(a)/Math.log(256),p=Math.log(256)/Math.log(a);function A(T){if(T instanceof Uint8Array||(ArrayBuffer.isView(T)?T=new Uint8Array(T.buffer,T.byteOffset,T.byteLength):Array.isArray(T)&&(T=Uint8Array.from(T))),!(T instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(T.length===0)return"";for(var V=0,Q=0,j=0,ie=T.length;j!==ie&&T[j]===0;)j++,V++;for(var Y=(ie-j)*p+1>>>0,W=new Uint8Array(Y);j!==ie;){for(var $=T[j],k=0,R=Y-1;($!==0||k<Q)&&R!==-1;R--,k++)$+=256*W[R]>>>0,W[R]=$%a>>>0,$=$/a>>>0;if($!==0)throw new Error("Non-zero carry");Q=k,j++}for(var F=Y-Q;F!==Y&&W[F]===0;)F++;for(var K=c.repeat(V);F<Y;++F)K+=r.charAt(W[F]);return K}function D(T){if(typeof T!="string")throw new TypeError("Expected String");if(T.length===0)return new Uint8Array;var V=0;if(T[V]!==" "){for(var Q=0,j=0;T[V]===c;)Q++,V++;for(var ie=(T.length-V)*h+1>>>0,Y=new Uint8Array(ie);T[V];){var W=t[T.charCodeAt(V)];if(W===255)return;for(var $=0,k=ie-1;(W!==0||$<j)&&k!==-1;k--,$++)W+=a*Y[k]>>>0,Y[k]=W%256>>>0,W=W/256>>>0;if(W!==0)throw new Error("Non-zero carry");j=$,V++}if(T[V]!==" "){for(var R=ie-j;R!==ie&&Y[R]===0;)R++;for(var F=new Uint8Array(Q+(ie-R)),K=Q;R!==ie;)F[K++]=Y[R++];return F}}}function O(T){var V=D(T);if(V)return V;throw new Error(`Non-${e} character`)}return{encode:A,decodeUnsafe:D,decode:O}}var mH=yH,wH=mH,WT=r=>{if(r instanceof Uint8Array&&r.constructor.name==="Uint8Array")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")},vH=r=>new TextEncoder().encode(r),EH=r=>new TextDecoder().decode(r),Rw=class{constructor(e,t,i){this.name=e,this.prefix=t,this.baseEncode=i}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},Lw=class{constructor(e,t,i){if(this.name=e,this.prefix=t,t.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=i}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return YT(this,e)}},Fw=class{constructor(e){this.decoders=e}or(e){return YT(this,e)}decode(e){let t=e[0],i=this.decoders[t];if(i)return i.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},YT=(r,e)=>new Fw({...r.decoders||{[r.prefix]:r},...e.decoders||{[e.prefix]:e}}),Uw=class{constructor(e,t,i,n){this.name=e,this.prefix=t,this.baseEncode=i,this.baseDecode=n,this.encoder=new Rw(e,t,i),this.decoder=new Lw(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},tp=({name:r,prefix:e,encode:t,decode:i})=>new Uw(r,e,t,i),rl=({prefix:r,name:e,alphabet:t})=>{let{encode:i,decode:n}=wH(t,e);return tp({prefix:r,name:e,encode:i,decode:s=>WT(n(s))})},AH=(r,e,t,i)=>{let n={};for(let p=0;p<e.length;++p)n[e[p]]=p;let s=r.length;for(;r[s-1]==="=";)--s;let o=new Uint8Array(s*t/8|0),a=0,c=0,h=0;for(let p=0;p<s;++p){let A=n[r[p]];if(A===void 0)throw new SyntaxError(`Non-${i} character`);c=c<<t|A,a+=t,a>=8&&(a-=8,o[h++]=255&c>>a)}if(a>=t||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},IH=(r,e,t)=>{let i=e[e.length-1]==="=",n=(1<<t)-1,s="",o=0,a=0;for(let c=0;c<r.length;++c)for(a=a<<8|r[c],o+=8;o>t;)o-=t,s+=e[n&a>>o];if(o&&(s+=e[n&a<<t-o]),i)for(;s.length*t&7;)s+="=";return s},Xt=({name:r,prefix:e,bitsPerChar:t,alphabet:i})=>tp({prefix:e,name:r,encode(n){return IH(n,i,t)},decode(n){return AH(n,i,t,r)}}),_H=tp({prefix:"\0",name:"identity",encode:r=>EH(r),decode:r=>vH(r)}),bH=Object.freeze({__proto__:null,identity:_H}),CH=Xt({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),xH=Object.freeze({__proto__:null,base2:CH}),SH=Xt({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),TH=Object.freeze({__proto__:null,base8:SH}),NH=rl({prefix:"9",name:"base10",alphabet:"0123456789"}),DH=Object.freeze({__proto__:null,base10:NH}),OH=Xt({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),BH=Xt({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),MH=Object.freeze({__proto__:null,base16:OH,base16upper:BH}),PH=Xt({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),RH=Xt({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),LH=Xt({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),FH=Xt({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),UH=Xt({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),qH=Xt({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),VH=Xt({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),HH=Xt({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),QH=Xt({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),jH=Object.freeze({__proto__:null,base32:PH,base32upper:RH,base32pad:LH,base32padupper:FH,base32hex:UH,base32hexupper:qH,base32hexpad:VH,base32hexpadupper:HH,base32z:QH}),GH=rl({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),KH=rl({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),zH=Object.freeze({__proto__:null,base36:GH,base36upper:KH}),kH=rl({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),$H=rl({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),WH=Object.freeze({__proto__:null,base58btc:kH,base58flickr:$H}),YH=Xt({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),JH=Xt({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),XH=Xt({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),ZH=Xt({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),eQ=Object.freeze({__proto__:null,base64:YH,base64pad:JH,base64url:XH,base64urlpad:ZH}),JT=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),tQ=JT.reduce((r,e,t)=>(r[t]=e,r),[]),rQ=JT.reduce((r,e,t)=>(r[e.codePointAt(0)]=t,r),[]);function iQ(r){return r.reduce((e,t)=>(e+=tQ[t],e),"")}function nQ(r){let e=[];for(let t of r){let i=rQ[t.codePointAt(0)];if(i===void 0)throw new Error(`Non-base256emoji character: ${t}`);e.push(i)}return new Uint8Array(e)}var sQ=tp({prefix:"\u{1F680}",name:"base256emoji",encode:iQ,decode:nQ}),oQ=Object.freeze({__proto__:null,base256emoji:sQ}),aQ=XT,BT=128,uQ=127,cQ=~uQ,lQ=Math.pow(2,31);function XT(r,e,t){e=e||[],t=t||0;for(var i=t;r>=lQ;)e[t++]=r&255|BT,r/=128;for(;r&cQ;)e[t++]=r&255|BT,r>>>=7;return e[t]=r|0,XT.bytes=t-i+1,e}var fQ=qw,hQ=128,MT=127;function qw(r,i){var t=0,i=i||0,n=0,s=i,o,a=r.length;do{if(s>=a)throw qw.bytes=0,new RangeError("Could not decode varint");o=r[s++],t+=n<28?(o&MT)<<n:(o&MT)*Math.pow(2,n),n+=7}while(o>=hQ);return qw.bytes=s-i,t}var dQ=Math.pow(2,7),pQ=Math.pow(2,14),gQ=Math.pow(2,21),yQ=Math.pow(2,28),mQ=Math.pow(2,35),wQ=Math.pow(2,42),vQ=Math.pow(2,49),EQ=Math.pow(2,56),AQ=Math.pow(2,63),IQ=function(r){return r<dQ?1:r<pQ?2:r<gQ?3:r<yQ?4:r<mQ?5:r<wQ?6:r<vQ?7:r<EQ?8:r<AQ?9:10},_Q={encode:aQ,decode:fQ,encodingLength:IQ},ZT=_Q,PT=(r,e,t=0)=>(ZT.encode(r,e,t),e),RT=r=>ZT.encodingLength(r),Vw=(r,e)=>{let t=e.byteLength,i=RT(r),n=i+RT(t),s=new Uint8Array(n+t);return PT(r,s,0),PT(t,s,i),s.set(e,n),new Hw(r,t,e,s)},Hw=class{constructor(e,t,i,n){this.code=e,this.size=t,this.digest=i,this.bytes=n}},eN=({name:r,code:e,encode:t})=>new Qw(r,e,t),Qw=class{constructor(e,t,i){this.name=e,this.code=t,this.encode=i}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?Vw(this.code,t):t.then(i=>Vw(this.code,i))}else throw Error("Unknown type, must be binary type")}},tN=r=>async e=>new Uint8Array(await crypto.subtle.digest(r,e)),bQ=eN({name:"sha2-256",code:18,encode:tN("SHA-256")}),CQ=eN({name:"sha2-512",code:19,encode:tN("SHA-512")}),xQ=Object.freeze({__proto__:null,sha256:bQ,sha512:CQ}),rN=0,SQ="identity",iN=WT,TQ=r=>Vw(rN,iN(r)),NQ={code:rN,name:SQ,encode:iN,digest:TQ},DQ=Object.freeze({__proto__:null,identity:NQ});new TextEncoder,new TextDecoder;var LT={...bH,...xH,...TH,...DH,...MH,...jH,...zH,...WH,...eQ,...oQ};({...xQ,...DQ});function OQ(r=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(r):new Uint8Array(r)}function nN(r,e,t,i){return{name:r,prefix:e,encoder:{name:r,prefix:e,encode:t},decoder:{decode:i}}}var FT=nN("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>new TextEncoder().encode(r.substring(1))),Mw=nN("ascii","a",r=>{let e="a";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e},r=>{r=r.substring(1);let e=OQ(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}),BQ={utf8:FT,"utf-8":FT,hex:LT.base16,latin1:Mw,ascii:Mw,binary:Mw,...LT};function MQ(r,e="utf8"){let t=BQ[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(r,"utf8"):t.decoder.decode(`${t.prefix}${r}`)}var zw="wc",sN=2,rp="core",nn=`${zw}@${2}:${rp}:`,oN={name:rp,logger:"error"},aN={database:":memory:"},uN="crypto",jw="client_ed25519_seed",cN=qt.ONE_DAY,lN="keychain",fN="0.3",hN="messages",dN="0.3",pN=qt.SIX_HOURS,gN="publisher",yN="irn",mN="error",wN="wss://relay.walletconnect.com",vN="relayer",hu={message:"relayer_message",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error"},EN="_subscription",no={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},AN=qt.ONE_SECOND,PQ={database:":memory:"},IN="2.1.3",_N="0.3",Oi={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},RQ=qt.THIRTY_DAYS,bN="subscription",CN="0.3",xN=qt.FIVE_SECONDS*1e3,SN="pairing",TN="0.3",LQ=qt.THIRTY_DAYS,fu={wc_pairingDelete:{req:{ttl:qt.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:qt.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:qt.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:qt.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:qt.ONE_DAY,prompt:!1,tag:0},res:{ttl:qt.ONE_DAY,prompt:!1,tag:0}}},Xr={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},NN="history",DN="0.3",ON="expirer",Ur={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},BN="0.3",FQ=qt.ONE_DAY,Kd=class{constructor(e,t){this.core=e,this.logger=t,this.keychain=new Map,this.name=lN,this.version=fN,this.initialized=!1,this.storagePrefix=nn,this.init=async()=>{if(!this.initialized){let i=await this.getKeyChain();typeof i<"u"&&(this.keychain=i),this.initialized=!0}},this.has=i=>(this.isInitialized(),this.keychain.has(i)),this.set=async(i,n)=>{this.isInitialized(),this.keychain.set(i,n),await this.persist()},this.get=i=>{this.isInitialized();let n=this.keychain.get(i);if(typeof n>"u"){let{message:s}=fe.getInternalError("NO_MATCHING_KEY",`${this.name}: ${i}`);throw new Error(s)}return n},this.del=async i=>{this.isInitialized(),this.keychain.delete(i),await this.persist()},this.core=e,this.logger=rt.generateChildLogger(t,this.name)}get context(){return rt.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,fe.mapToObj(e))}async getKeyChain(){let e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?fe.objToMap(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){let{message:e}=fe.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}},zd=class{constructor(e,t,i){this.core=e,this.logger=t,this.name=uN,this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=n=>(this.isInitialized(),this.keychain.has(n)),this.getClientId=async()=>{this.isInitialized();let n=await this.getClientSeed(),s=jd.generateKeyPair(n);return jd.encodeIss(s.publicKey)},this.generateKeyPair=()=>{this.isInitialized();let n=fe.generateKeyPair();return this.setPrivateKey(n.publicKey,n.privateKey)},this.signJWT=async n=>{this.isInitialized();let s=await this.getClientSeed(),o=jd.generateKeyPair(s),a=fe.generateRandomBytes32(),c=cN;return await jd.signJWT(a,n,c,o)},this.generateSharedKey=(n,s,o)=>{this.isInitialized();let a=this.getPrivateKey(n),c=fe.deriveSymKey(a,s);return this.setSymKey(c,o)},this.setSymKey=async(n,s)=>{this.isInitialized();let o=s||fe.hashKey(n);return await this.keychain.set(o,n),o},this.deleteKeyPair=async n=>{this.isInitialized(),await this.keychain.del(n)},this.deleteSymKey=async n=>{this.isInitialized(),await this.keychain.del(n)},this.encode=async(n,s,o)=>{this.isInitialized();let a=fe.validateEncoding(o),c=OT.safeJsonStringify(s);if(fe.isTypeOneEnvelope(a)){let D=a.senderPublicKey,O=a.receiverPublicKey;n=await this.generateSharedKey(D,O)}let h=this.getSymKey(n),{type:p,senderPublicKey:A}=a;return fe.encrypt({type:p,symKey:h,message:c,senderPublicKey:A})},this.decode=async(n,s,o)=>{this.isInitialized();let a=fe.validateDecoding(s,o);if(fe.isTypeOneEnvelope(a)){let p=a.receiverPublicKey,A=a.senderPublicKey;n=await this.generateSharedKey(p,A)}let c=this.getSymKey(n),h=fe.decrypt({symKey:c,encoded:s});return OT.safeJsonParse(h)},this.core=e,this.logger=rt.generateChildLogger(t,this.name),this.keychain=i||new Kd(this.core,this.logger)}get context(){return rt.getLoggerContext(this.logger)}getPayloadType(e){let t=fe.deserialize(e);return fe.decodeTypeByte(t.type)}async setPrivateKey(e,t){return await this.keychain.set(e,t),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(jw)}catch{e=fe.generateRandomBytes32(),await this.keychain.set(jw,e)}return MQ(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){let{message:e}=fe.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}},kd=class extends Hn.IMessageTracker{constructor(e,t){super(e,t),this.logger=e,this.core=t,this.messages=new Map,this.name=hN,this.version=dN,this.initialized=!1,this.storagePrefix=nn,this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{let i=await this.getRelayerMessages();typeof i<"u"&&(this.messages=i),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(i){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(i)}finally{this.initialized=!0}}},this.set=async(i,n)=>{this.isInitialized();let s=fe.hashMessage(n),o=this.messages.get(i);return typeof o>"u"&&(o={}),typeof o[s]<"u"||(o[s]=n,this.messages.set(i,o),await this.persist()),s},this.get=i=>{this.isInitialized();let n=this.messages.get(i);return typeof n>"u"&&(n={}),n},this.has=(i,n)=>{this.isInitialized();let s=this.get(i),o=fe.hashMessage(n);return typeof s[o]<"u"},this.del=async i=>{this.isInitialized(),this.messages.delete(i),await this.persist()},this.logger=rt.generateChildLogger(e,this.name),this.core=t}get context(){return rt.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,fe.mapToObj(e))}async getRelayerMessages(){let e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?fe.objToMap(e):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){let{message:e}=fe.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}},Gw=class extends Hn.IPublisher{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,this.events=new so.EventEmitter,this.name=gN,this.queue=new Map,this.publish=async(i,n,s)=>{this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:i,message:n,opts:s}});try{let o=s?.ttl||pN,a=fe.getRelayProtocolName(s),c=s?.prompt||!1,h=s?.tag||0,p={topic:i,message:n,opts:{ttl:o,relay:a,prompt:c,tag:h}},A=fe.hashMessage(n);this.queue.set(A,p),await this.rpcPublish(i,n,o,a,c,h),this.onPublish(A,p),this.logger.debug("Successfully Published Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:i,message:n,opts:s}})}catch(o){throw this.logger.debug("Failed to Publish Payload"),this.logger.error(o),o}},this.on=(i,n)=>{this.events.on(i,n)},this.once=(i,n)=>{this.events.once(i,n)},this.off=(i,n)=>{this.events.off(i,n)},this.removeListener=(i,n)=>{this.events.removeListener(i,n)},this.relayer=e,this.logger=rt.generateChildLogger(t,this.name),this.registerEventListeners()}get context(){return rt.getLoggerContext(this.logger)}rpcPublish(e,t,i,n,s,o){var a,c,h,p;let A={method:fe.getRelayProtocolApi(n.protocol).publish,params:{topic:e,message:t,ttl:i,prompt:s,tag:o}};return fe.isUndefined((a=A.params)==null?void 0:a.prompt)&&((c=A.params)==null||delete c.prompt),fe.isUndefined((h=A.params)==null?void 0:h.tag)&&((p=A.params)==null||delete p.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:A}),this.relayer.provider.request(A)}onPublish(e,t){this.queue.delete(e)}checkQueue(){this.queue.forEach(async e=>{let{topic:t,message:i,opts:{ttl:n,relay:s,prompt:o,tag:a}}=e,c=fe.hashMessage(i);await this.rpcPublish(t,i,n,s,o,a),this.onPublish(c,e)})}registerEventListeners(){this.relayer.core.heartbeat.on(ep.HEARTBEAT_EVENTS.pulse,()=>{this.checkQueue()})}},Kw=class{constructor(){this.map=new Map,this.set=(e,t)=>{let i=this.get(e);this.exists(e,t)||this.map.set(e,[...i,t])},this.get=e=>this.map.get(e)||[],this.exists=(e,t)=>this.get(e).includes(t),this.delete=(e,t)=>{if(typeof t>"u"){this.map.delete(e);return}if(!this.map.has(e))return;let i=this.get(e);if(!this.exists(e,t))return;let n=i.filter(s=>s!==t);if(!n.length){this.map.delete(e);return}this.map.set(e,n)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}},UQ=Object.defineProperty,qQ=Object.defineProperties,VQ=Object.getOwnPropertyDescriptors,UT=Object.getOwnPropertySymbols,HQ=Object.prototype.hasOwnProperty,QQ=Object.prototype.propertyIsEnumerable,qT=(r,e,t)=>e in r?UQ(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Gd=(r,e)=>{for(var t in e||(e={}))HQ.call(e,t)&&qT(r,t,e[t]);if(UT)for(var t of UT(e))QQ.call(e,t)&&qT(r,t,e[t]);return r},Pw=(r,e)=>qQ(r,VQ(e)),$d=class extends Hn.ISubscriber{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,this.subscriptions=new Map,this.topicMap=new Kw,this.events=new so.EventEmitter,this.name=bN,this.version=CN,this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pendingSubInterval=20,this.storagePrefix=nn,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restart(),this.registerEventListeners(),this.onEnable())},this.subscribe=async(i,n)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:i,opts:n}});try{let s=fe.getRelayProtocolName(n),o={topic:i,relay:s};this.pending.set(i,o);let a=await this.rpcSubscribe(i,s);return this.onSubscribe(a,o),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:i,opts:n}}),a}catch(s){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(s),s}},this.unsubscribe=async(i,n)=>{this.isInitialized(),typeof n?.id<"u"?await this.unsubscribeById(i,n.id,n):await this.unsubscribeByTopic(i,n)},this.isSubscribed=async i=>this.topics.includes(i)?!0:await new Promise((n,s)=>{let o=new qt.Watch;o.start(this.pendingSubscriptionWatchLabel);let a=setInterval(()=>{!this.pending.has(i)&&this.topics.includes(i)&&(clearInterval(a),o.stop(this.pendingSubscriptionWatchLabel),n(!0)),o.elapsed(this.pendingSubscriptionWatchLabel)>=xN&&(clearInterval(a),o.stop(this.pendingSubscriptionWatchLabel),s(!1))},this.pendingSubInterval)}),this.on=(i,n)=>{this.events.on(i,n)},this.once=(i,n)=>{this.events.once(i,n)},this.off=(i,n)=>{this.events.off(i,n)},this.removeListener=(i,n)=>{this.events.removeListener(i,n)},this.restart=async()=>{await this.restore(),await this.reset()},this.relayer=e,this.logger=rt.generateChildLogger(t,this.name)}get context(){return rt.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(e,t){let i=!1;try{i=this.getSubscription(e).topic===t}catch{}return i}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear(),this.initialized=!1}async unsubscribeByTopic(e,t){let i=this.topicMap.get(e);await Promise.all(i.map(async n=>await this.unsubscribeById(e,n,t)))}async unsubscribeById(e,t,i){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:i}});try{let n=fe.getRelayProtocolName(i);await this.rpcUnsubscribe(e,t,n);let s=fe.getSdkError("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,t,s),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:i}})}catch(n){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(n),n}}async rpcSubscribe(e,t){let i={method:fe.getRelayProtocolApi(t.protocol).subscribe,params:{topic:e}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),await this.relayer.provider.request(i)}rpcUnsubscribe(e,t,i){let n={method:fe.getRelayProtocolApi(i.protocol).unsubscribe,params:{topic:e,id:t}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n}),this.relayer.provider.request(n)}onSubscribe(e,t){this.setSubscription(e,Pw(Gd({},t),{id:e})),this.pending.delete(t.topic)}onResubscribe(e,t){this.addSubscription(e,Pw(Gd({},t),{id:e})),this.pending.delete(t.topic)}async onUnsubscribe(e,t,i){this.events.removeAllListeners(t),this.hasSubscription(t,e)&&this.deleteSubscription(t,i),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,t){this.subscriptions.has(e)||(this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:t}),this.addSubscription(e,t))}addSubscription(e,t){this.subscriptions.set(e,Gd({},t)),this.topicMap.set(t.topic,e),this.events.emit(Oi.created,t)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});let t=this.subscriptions.get(e);if(!t){let{message:i}=fe.getInternalError("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(i)}return t}deleteSubscription(e,t){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:t});let i=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(i.topic,e),this.events.emit(Oi.deleted,Pw(Gd({},i),{reason:t}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(Oi.sync)}async reset(){this.cached.length&&await Promise.all(this.cached.map(async e=>await this.resubscribe(e))),this.events.emit(Oi.resubscribed)}async restore(){try{let e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){let{message:t}=fe.getInternalError("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async resubscribe(e){if(!this.ids.includes(e.id)){let{topic:t,relay:i}=e,n={topic:t,relay:i};this.pending.set(n.topic,n);let s=await this.rpcSubscribe(n.topic,n.relay);this.onResubscribe(s,n)}}async onConnect(){await this.restart(),this.onEnable()}onDisconnect(){this.onDisable()}checkPending(){this.relayer.transportExplicitlyClosed||this.pending.forEach(async e=>{let t=await this.rpcSubscribe(e.topic,e.relay);this.onSubscribe(t,e)})}registerEventListeners(){this.relayer.core.heartbeat.on(ep.HEARTBEAT_EVENTS.pulse,()=>{this.checkPending()}),this.relayer.provider.on(no.connect,async()=>{await this.onConnect()}),this.relayer.provider.on(no.disconnect,()=>{this.onDisconnect()}),this.events.on(Oi.created,async e=>{let t=Oi.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),await this.persist()}),this.events.on(Oi.deleted,async e=>{let t=Oi.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),await this.persist()})}isInitialized(){if(!this.initialized){let{message:e}=fe.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}},jQ=Object.defineProperty,VT=Object.getOwnPropertySymbols,GQ=Object.prototype.hasOwnProperty,KQ=Object.prototype.propertyIsEnumerable,HT=(r,e,t)=>e in r?jQ(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,zQ=(r,e)=>{for(var t in e||(e={}))GQ.call(e,t)&&HT(r,t,e[t]);if(VT)for(var t of VT(e))KQ.call(e,t)&&HT(r,t,e[t]);return r},Wd=class extends Hn.IRelayer{constructor(e){super(e),this.protocol="wc",this.version=2,this.events=new so.EventEmitter,this.name=vN,this.transportExplicitlyClosed=!1,this.initialized=!1,this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?rt.generateChildLogger(e.logger,this.name):$T.default(rt.getDefaultLoggerOptions({level:e.logger||mN})),this.messages=new kd(this.logger,e.core),this.subscriber=new $d(this,this.logger),this.publisher=new Gw(this,this.logger),this.relayUrl=e?.relayUrl||wN,this.projectId=e.projectId,this.provider={}}async init(){this.logger.trace("Initialized"),this.provider=await this.createProvider(),await Promise.all([this.messages.init(),this.provider.connect(),this.subscriber.init()]),this.registerEventListeners(),this.initialized=!0}get context(){return rt.getLoggerContext(this.logger)}get connected(){return this.provider.connection.connected}get connecting(){return this.provider.connection.connecting}async publish(e,t,i){this.isInitialized(),await this.publisher.publish(e,t,i),await this.recordMessageEvent({topic:e,message:t})}async subscribe(e,t){return this.isInitialized(),await this.subscriber.subscribe(e,t)}async unsubscribe(e,t){this.isInitialized(),await this.subscriber.unsubscribe(e,t)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async transportClose(){this.transportExplicitlyClosed=!0,await this.provider.disconnect()}async transportOpen(e){this.relayUrl=e||this.relayUrl,this.transportExplicitlyClosed=!1,await this.provider.connect(),await new Promise(t=>{this.subscriber.once(Oi.resubscribed,()=>{t()})})}async createProvider(){let e=await this.core.crypto.signJWT(this.relayUrl);return new uH.JsonRpcProvider(new pH.default(fe.formatRelayRpcUrl({sdkVersion:IN,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e})))}async recordMessageEvent(e){let{topic:t,message:i}=e;await this.messages.set(t,i)}async shouldIgnoreMessageEvent(e){let{topic:t,message:i}=e;return await this.subscriber.isSubscribed(t)?this.messages.has(t,i):!0}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),Zr.isJsonRpcRequest(e)){if(!e.method.endsWith(EN))return;let t=e.params,{topic:i,message:n}=t.data,s={topic:i,message:n};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(zQ({type:"event",event:t.id},s)),this.events.emit(t.id,s),await this.acknowledgePayload(e),await this.onMessageEvent(s)}}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(this.events.emit(hu.message,e),await this.recordMessageEvent(e))}async acknowledgePayload(e){let t=Zr.formatJsonRpcResult(e.id,!0);await this.provider.connection.send(t)}registerEventListeners(){this.provider.on(no.payload,e=>this.onProviderPayload(e)),this.provider.on(no.connect,()=>{this.events.emit(hu.connect)}),this.provider.on(no.disconnect,()=>{this.events.emit(hu.disconnect),this.attemptToReconnect()}),this.provider.on(no.error,e=>this.events.emit(hu.error,e))}attemptToReconnect(){this.transportExplicitlyClosed||setTimeout(()=>{this.provider.connect()},qt.toMiliseconds(AN))}isInitialized(){if(!this.initialized){let{message:e}=fe.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}},kQ=Object.defineProperty,QT=Object.getOwnPropertySymbols,$Q=Object.prototype.hasOwnProperty,WQ=Object.prototype.propertyIsEnumerable,jT=(r,e,t)=>e in r?kQ(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,GT=(r,e)=>{for(var t in e||(e={}))$Q.call(e,t)&&jT(r,t,e[t]);if(QT)for(var t of QT(e))WQ.call(e,t)&&jT(r,t,e[t]);return r},Yd=class extends Hn.IStore{constructor(e,t,i,n=nn,s=void 0){super(e,t,i,n),this.core=e,this.logger=t,this.name=i,this.map=new Map,this.version=_N,this.cached=[],this.initialized=!1,this.storagePrefix=nn,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{fe.isProposalStruct(o)?this.map.set(o.id,o):fe.isSessionStruct(o)?this.map.set(o.topic,o):this.getKey&&o!==null&&!fe.isUndefined(o)&&this.map.set(this.getKey(o),o)}),this.cached=[],this.initialized=!0)},this.set=async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())},this.get=o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o)),this.getAll=o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(c=>gH.default(a[c],o[c]))):this.values),this.update=async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});let c=GT(GT({},this.getData(o)),a);this.map.set(o,c),await this.persist()},this.delete=async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),await this.persist())},this.logger=rt.generateChildLogger(t,this.name),this.storagePrefix=n,this.getKey=s}get context(){return rt.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){let t=this.map.get(e);if(!t){let{message:i}=fe.getInternalError("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}return t}async persist(){await this.setDataStore(this.values)}async restore(){try{let e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){let{message:t}=fe.getInternalError("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){let{message:e}=fe.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}},Jd=class{constructor(e,t){this.core=e,this.logger=t,this.name=SN,this.version=TN,this.events=new hH.default,this.initialized=!1,this.storagePrefix=nn,this.ignoredPayloadTypes=[fe.TYPE_1],this.registeredMethods=[],this.init=async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))},this.register=({methods:i})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...i])]},this.create=async()=>{this.isInitialized();let i=fe.generateRandomBytes32(),n=await this.core.crypto.setSymKey(i),s=fe.calcExpiry(qt.FIVE_MINUTES),o={protocol:yN},a={topic:n,expiry:s,relay:o,active:!1},c=fe.formatUri({protocol:this.core.protocol,version:this.core.version,topic:n,symKey:i,relay:o});return await this.pairings.set(n,a),await this.core.relayer.subscribe(n),this.core.expirer.set(n,s),{topic:n,uri:c}},this.pair=async i=>{this.isInitialized(),this.isValidPair(i);let{topic:n,symKey:s,relay:o}=fe.parseUri(i.uri),a=fe.calcExpiry(qt.FIVE_MINUTES),c={topic:n,relay:o,expiry:a,active:!1};return await this.pairings.set(n,c),await this.core.crypto.setSymKey(s,n),await this.core.relayer.subscribe(n,{relay:o}),this.core.expirer.set(n,a),i.activatePairing&&await this.activate({topic:n}),c},this.activate=async({topic:i})=>{this.isInitialized();let n=fe.calcExpiry(qt.THIRTY_DAYS);await this.pairings.update(i,{active:!0,expiry:n}),this.core.expirer.set(i,n)},this.ping=async i=>{this.isInitialized(),await this.isValidPing(i);let{topic:n}=i;if(this.pairings.keys.includes(n)){let s=await this.sendRequest(n,"wc_pairingPing",{}),{done:o,resolve:a,reject:c}=fe.createDelayedPromise();this.events.once(fe.engineEvent("pairing_ping",s),({error:h})=>{h?c(h):a()}),await o()}},this.updateExpiry=async({topic:i,expiry:n})=>{this.isInitialized(),await this.pairings.update(i,{expiry:n})},this.updateMetadata=async({topic:i,metadata:n})=>{this.isInitialized(),await this.pairings.update(i,{peerMetadata:n})},this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=async i=>{this.isInitialized(),await this.isValidDisconnect(i);let{topic:n}=i;this.pairings.keys.includes(n)&&(await this.sendRequest(n,"wc_pairingDelete",fe.getSdkError("USER_DISCONNECTED")),await this.deletePairing(n))},this.sendRequest=async(i,n,s)=>{let o=Zr.formatJsonRpcRequest(n,s),a=await this.core.crypto.encode(i,o),c=fu[n].req;return this.core.history.set(i,o),await this.core.relayer.publish(i,a,c),o.id},this.sendResult=async(i,n,s)=>{let o=Zr.formatJsonRpcResult(i,s),a=await this.core.crypto.encode(n,o),c=await this.core.history.get(n,i),h=fu[c.request.method].res;await this.core.relayer.publish(n,a,h),await this.core.history.resolve(o)},this.sendError=async(i,n,s)=>{let o=Zr.formatJsonRpcError(i,s),a=await this.core.crypto.encode(n,o),c=await this.core.history.get(n,i),h=fu[c.request.method]?fu[c.request.method].res:fu.unregistered_method.res;await this.core.relayer.publish(n,a,h),await this.core.history.resolve(o)},this.deletePairing=async(i,n)=>{await this.core.relayer.unsubscribe(i),await Promise.all([this.pairings.delete(i,fe.getSdkError("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(i),n?Promise.resolve():this.core.expirer.del(i)])},this.cleanup=async()=>{let i=this.pairings.getAll().filter(n=>fe.isExpired(n.expiry));await Promise.all(i.map(n=>this.deletePairing(n.topic)))},this.onRelayEventRequest=i=>{let{topic:n,payload:s}=i;switch(s.method){case"wc_pairingPing":return this.onPairingPingRequest(n,s);case"wc_pairingDelete":return this.onPairingDeleteRequest(n,s);default:return this.onUnknownRpcMethodRequest(n,s)}},this.onRelayEventResponse=async i=>{let{topic:n,payload:s}=i,o=(await this.core.history.get(n,s.id)).request.method;switch(o){case"wc_pairingPing":return this.onPairingPingResponse(n,s);default:return this.onUnknownRpcMethodResponse(o)}},this.onPairingPingRequest=async(i,n)=>{let{id:s}=n;try{this.isValidPing({topic:i}),await this.sendResult(s,i,!0),this.events.emit("pairing_ping",{id:s,topic:i})}catch(o){await this.sendError(s,i,o),this.logger.error(o)}},this.onPairingPingResponse=(i,n)=>{let{id:s}=n;setTimeout(()=>{Zr.isJsonRpcResult(n)?this.events.emit(fe.engineEvent("pairing_ping",s),{}):Zr.isJsonRpcError(n)&&this.events.emit(fe.engineEvent("pairing_ping",s),{error:n.error})},500)},this.onPairingDeleteRequest=async(i,n)=>{let{id:s}=n;try{this.isValidDisconnect({topic:i}),await this.sendResult(s,i,!0),await this.deletePairing(i),this.events.emit("pairing_delete",{id:s,topic:i})}catch(o){await this.sendError(s,i,o),this.logger.error(o)}},this.onUnknownRpcMethodRequest=async(i,n)=>{let{id:s,method:o}=n;try{if(this.registeredMethods.includes(o))return;let a=fe.getSdkError("WC_METHOD_UNSUPPORTED",o);await this.sendError(s,i,a),this.logger.error(a)}catch(a){await this.sendError(s,i,a),this.logger.error(a)}},this.onUnknownRpcMethodResponse=i=>{this.registeredMethods.includes(i)||this.logger.error(fe.getSdkError("WC_METHOD_UNSUPPORTED",i))},this.isValidPair=i=>{if(!fe.isValidParams(i)){let{message:n}=fe.getInternalError("MISSING_OR_INVALID",`pair() params: ${i}`);throw new Error(n)}if(!fe.isValidUrl(i.uri)){let{message:n}=fe.getInternalError("MISSING_OR_INVALID",`pair() uri: ${i.uri}`);throw new Error(n)}},this.isValidPing=async i=>{if(!fe.isValidParams(i)){let{message:s}=fe.getInternalError("MISSING_OR_INVALID",`ping() params: ${i}`);throw new Error(s)}let{topic:n}=i;await this.isValidPairingTopic(n)},this.isValidDisconnect=async i=>{if(!fe.isValidParams(i)){let{message:s}=fe.getInternalError("MISSING_OR_INVALID",`disconnect() params: ${i}`);throw new Error(s)}let{topic:n}=i;await this.isValidPairingTopic(n)},this.isValidPairingTopic=async i=>{if(!fe.isValidString(i,!1)){let{message:n}=fe.getInternalError("MISSING_OR_INVALID",`pairing topic should be a string: ${i}`);throw new Error(n)}if(!this.pairings.keys.includes(i)){let{message:n}=fe.getInternalError("NO_MATCHING_KEY",`pairing topic doesn't exist: ${i}`);throw new Error(n)}if(fe.isExpired(this.pairings.get(i).expiry)){await this.deletePairing(i);let{message:n}=fe.getInternalError("EXPIRED",`pairing topic: ${i}`);throw new Error(n)}},this.core=e,this.logger=rt.generateChildLogger(t,this.name),this.pairings=new Yd(this.core,this.logger,this.name,this.storagePrefix)}get context(){return rt.getLoggerContext(this.logger)}isInitialized(){if(!this.initialized){let{message:e}=fe.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(hu.message,async e=>{let{topic:t,message:i}=e;if(this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(i)))return;let n=await this.core.crypto.decode(t,i);Zr.isJsonRpcRequest(n)?(this.core.history.set(t,n),this.onRelayEventRequest({topic:t,payload:n})):Zr.isJsonRpcResponse(n)&&(await this.core.history.resolve(n),this.onRelayEventResponse({topic:t,payload:n}))})}registerExpirerEvents(){this.core.expirer.on(Ur.expired,async e=>{let{topic:t}=fe.parseExpirerTarget(e.target);t&&this.pairings.keys.includes(t)&&(await this.deletePairing(t,!0),this.events.emit("pairing_expire",{topic:t}))})}},Xd=class extends Hn.IJsonRpcHistory{constructor(e,t){super(e,t),this.core=e,this.logger=t,this.records=new Map,this.events=new so.EventEmitter,this.name=NN,this.version=DN,this.cached=[],this.initialized=!1,this.storagePrefix=nn,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(i=>this.records.set(i.id,i)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(i,n,s)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:i,request:n,chainId:s}),this.records.has(n.id))return;let o={id:n.id,topic:i,request:{method:n.method,params:n.params||null},chainId:s};this.records.set(o.id,o),this.events.emit(Xr.created,o)},this.resolve=async i=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:i}),!this.records.has(i.id))return;let n=await this.getRecord(i.id);typeof n.response>"u"&&(n.response=Zr.isJsonRpcError(i)?{error:i.error}:{result:i.result},this.records.set(n.id,n),this.events.emit(Xr.updated,n))},this.get=async(i,n)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:i,id:n}),await this.getRecord(n)),this.delete=(i,n)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:n}),this.values.forEach(s=>{if(s.topic===i){if(typeof n<"u"&&s.id!==n)return;this.records.delete(s.id),this.events.emit(Xr.deleted,s)}})},this.exists=async(i,n)=>(this.isInitialized(),this.records.has(n)?(await this.getRecord(n)).topic===i:!1),this.on=(i,n)=>{this.events.on(i,n)},this.once=(i,n)=>{this.events.once(i,n)},this.off=(i,n)=>{this.events.off(i,n)},this.removeListener=(i,n)=>{this.events.removeListener(i,n)},this.logger=rt.generateChildLogger(t,this.name)}get context(){return rt.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){let e=[];return this.values.forEach(t=>{if(typeof t.response<"u")return;let i={topic:t.topic,request:Zr.formatJsonRpcRequest(t.request.method,t.request.params,t.id),chainId:t.chainId};return e.push(i)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();let t=this.records.get(e);if(!t){let{message:i}=fe.getInternalError("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(i)}return t}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(Xr.sync)}async restore(){try{let e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){let{message:t}=fe.getInternalError("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(Xr.created,e=>{let t=Xr.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e}),this.persist()}),this.events.on(Xr.updated,e=>{let t=Xr.updated;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e}),this.persist()}),this.events.on(Xr.deleted,e=>{let t=Xr.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e}),this.persist()})}isInitialized(){if(!this.initialized){let{message:e}=fe.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}},Zd=class extends Hn.IExpirer{constructor(e,t){super(e,t),this.core=e,this.logger=t,this.expirations=new Map,this.events=new so.EventEmitter,this.name=ON,this.version=BN,this.cached=[],this.initialized=!1,this.storagePrefix=nn,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(i=>this.expirations.set(i.target,i)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=i=>{try{let n=this.formatTarget(i);return typeof this.getExpiration(n)<"u"}catch{return!1}},this.set=(i,n)=>{this.isInitialized();let s=this.formatTarget(i),o={target:s,expiry:n};this.expirations.set(s,o),this.checkExpiry(s,o),this.events.emit(Ur.created,{target:s,expiration:o})},this.get=i=>{this.isInitialized();let n=this.formatTarget(i);return this.getExpiration(n)},this.del=i=>{this.isInitialized();let n=this.formatTarget(i);if(this.has(n)){let s=this.getExpiration(n);this.expirations.delete(n),this.events.emit(Ur.deleted,{target:n,expiration:s})}},this.on=(i,n)=>{this.events.on(i,n)},this.once=(i,n)=>{this.events.once(i,n)},this.off=(i,n)=>{this.events.off(i,n)},this.removeListener=(i,n)=>{this.events.removeListener(i,n)},this.logger=rt.generateChildLogger(t,this.name)}get context(){return rt.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return fe.formatTopicTarget(e);if(typeof e=="number")return fe.formatIdTarget(e);let{message:t}=fe.getInternalError("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(t)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Ur.sync)}async restore(){try{let e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){let{message:t}=fe.getInternalError("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){let t=this.expirations.get(e);if(!t){let{message:i}=fe.getInternalError("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}return t}checkExpiry(e,t){let{expiry:i}=t;qt.toMiliseconds(i)-Date.now()<=0&&this.expire(e,t)}expire(e,t){this.expirations.delete(e),this.events.emit(Ur.expired,{target:e,expiration:t})}checkExpirations(){this.expirations.forEach((e,t)=>this.checkExpiry(t,e))}registerEventListeners(){this.core.heartbeat.on(ep.HEARTBEAT_EVENTS.pulse,()=>this.checkExpirations()),this.events.on(Ur.created,e=>{let t=Ur.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(Ur.expired,e=>{let t=Ur.expired;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(Ur.deleted,e=>{let t=Ur.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()})}isInitialized(){if(!this.initialized){let{message:e}=fe.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}},YQ=Object.defineProperty,KT=Object.getOwnPropertySymbols,JQ=Object.prototype.hasOwnProperty,XQ=Object.prototype.propertyIsEnumerable,zT=(r,e,t)=>e in r?YQ(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,kT=(r,e)=>{for(var t in e||(e={}))JQ.call(e,t)&&zT(r,t,e[t]);if(KT)for(var t of KT(e))XQ.call(e,t)&&zT(r,t,e[t]);return r},du=class extends Hn.ICore{constructor(e){super(e),this.protocol=zw,this.version=sN,this.name=rp,this.events=new so.EventEmitter,this.initialized=!1,this.on=(i,n)=>this.events.on(i,n),this.once=(i,n)=>this.events.once(i,n),this.off=(i,n)=>this.events.off(i,n),this.removeListener=(i,n)=>this.events.removeListener(i,n),this.projectId=e?.projectId;let t=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:$T.default(rt.getDefaultLoggerOptions({level:e?.logger||oN.logger}));this.logger=rt.generateChildLogger(t,this.name),this.heartbeat=new ep.HeartBeat,this.crypto=new zd(this,this.logger,e?.keychain),this.history=new Xd(this,this.logger),this.expirer=new Zd(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new dH.default(kT(kT({},aN),e?.storageOptions)),this.relayer=new Wd({core:this,logger:this.logger,relayUrl:e?.relayUrl,projectId:this.projectId}),this.pairing=new Jd(this,this.logger)}static async init(e){let t=new du(e);return await t.initialize(),t}get context(){return rt.getLoggerContext(this.logger)}async start(){this.initialized||await this.initialize()}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.initialized=!0,this.logger.info("Core Initilization Success")}catch(e){throw this.logger.warn(`Core Initilization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}},ZQ=du;ve.CORE_CONTEXT=rp,ve.CORE_DEFAULT=oN,ve.CORE_PROTOCOL=zw,ve.CORE_STORAGE_OPTIONS=aN,ve.CORE_STORAGE_PREFIX=nn,ve.CORE_VERSION=sN,ve.CRYPTO_CLIENT_SEED=jw,ve.CRYPTO_CONTEXT=uN,ve.CRYPTO_JWT_TTL=cN,ve.Core=ZQ,ve.Crypto=zd,ve.EXPIRER_CONTEXT=ON,ve.EXPIRER_DEFAULT_TTL=FQ,ve.EXPIRER_EVENTS=Ur,ve.EXPIRER_STORAGE_VERSION=BN,ve.Expirer=Zd,ve.HISTORY_CONTEXT=NN,ve.HISTORY_EVENTS=Xr,ve.HISTORY_STORAGE_VERSION=DN,ve.JsonRpcHistory=Xd,ve.KEYCHAIN_CONTEXT=lN,ve.KEYCHAIN_STORAGE_VERSION=fN,ve.KeyChain=Kd,ve.MESSAGES_CONTEXT=hN,ve.MESSAGES_STORAGE_VERSION=dN,ve.MessageTracker=kd,ve.PAIRING_CONTEXT=SN,ve.PAIRING_DEFAULT_TTL=LQ,ve.PAIRING_RPC_OPTS=fu,ve.PAIRING_STORAGE_VERSION=TN,ve.PENDING_SUB_RESOLUTION_TIMEOUT=xN,ve.PUBLISHER_CONTEXT=gN,ve.PUBLISHER_DEFAULT_TTL=pN,ve.Pairing=Jd,ve.RELAYER_CONTEXT=vN,ve.RELAYER_DEFAULT_LOGGER=mN,ve.RELAYER_DEFAULT_PROTOCOL=yN,ve.RELAYER_DEFAULT_RELAY_URL=wN,ve.RELAYER_EVENTS=hu,ve.RELAYER_PROVIDER_EVENTS=no,ve.RELAYER_RECONNECT_TIMEOUT=AN,ve.RELAYER_SDK_VERSION=IN,ve.RELAYER_STORAGE_OPTIONS=PQ,ve.RELAYER_SUBSCRIBER_SUFFIX=EN,ve.Relayer=Wd,ve.STORE_STORAGE_VERSION=_N,ve.SUBSCRIBER_CONTEXT=bN,ve.SUBSCRIBER_DEFAULT_TTL=RQ,ve.SUBSCRIBER_EVENTS=Oi,ve.SUBSCRIBER_STORAGE_VERSION=CN,ve.Store=Yd,ve.Subscriber=$d,ve.default=du});var jN=M(Pt=>{"use strict";f();Object.defineProperty(Pt,"__esModule",{value:!0});var e9=uh(),pu=MN(),kw=ym(),FN=Mm(),oe=md(),UN=Ks(),Rt=zs(),Vt=(Wc(),nt(ar));function qN(r){return r&&typeof r=="object"&&"default"in r?r:{default:r}}var t9=qN(e9),r9=qN(UN),Jw="wc",Xw=2,Zw="client",ev=`${Jw}@${Xw}:${Zw}:`,ip={name:Zw,logger:"error",controller:!1,relayUrl:"wss://relay.walletconnect.com"},i9={session_proposal:"session_proposal",session_update:"session_update",session_extend:"session_extend",session_ping:"session_ping",session_delete:"session_delete",session_expire:"session_expire",session_request:"session_request",session_event:"session_event",proposal_expire:"proposal_expire"},n9={database:":memory:"},s9={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},o9="history",a9="0.3",VN="proposal",u9=Rt.THIRTY_DAYS,HN="session",il=Rt.SEVEN_DAYS,QN="engine",nl={wc_sessionPropose:{req:{ttl:Rt.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:Rt.FIVE_MINUTES,prompt:!1,tag:1101}},wc_sessionSettle:{req:{ttl:Rt.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:Rt.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:Rt.ONE_DAY,prompt:!1,tag:1104},res:{ttl:Rt.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:Rt.ONE_DAY,prompt:!1,tag:1106},res:{ttl:Rt.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:Rt.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:Rt.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:Rt.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:Rt.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:Rt.ONE_DAY,prompt:!1,tag:1112},res:{ttl:Rt.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:Rt.THIRTY_SECONDS,prompt:!1,tag:1114},res:{ttl:Rt.THIRTY_SECONDS,prompt:!1,tag:1115}}},c9=Object.defineProperty,l9=Object.defineProperties,f9=Object.getOwnPropertyDescriptors,PN=Object.getOwnPropertySymbols,h9=Object.prototype.hasOwnProperty,d9=Object.prototype.propertyIsEnumerable,RN=(r,e,t)=>e in r?c9(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Qn=(r,e)=>{for(var t in e||(e={}))h9.call(e,t)&&RN(r,t,e[t]);if(PN)for(var t of PN(e))d9.call(e,t)&&RN(r,t,e[t]);return r},LN=(r,e)=>l9(r,f9(e)),$w=class extends FN.IEngine{constructor(e){super(e),this.name=QN,this.events=new r9.default,this.initialized=!1,this.ignoredPayloadTypes=[oe.TYPE_1],this.init=async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.client.core.pairing.register({methods:Object.keys(nl)}),this.initialized=!0)},this.connect=async t=>{this.isInitialized(),await this.isValidConnect(t);let{pairingTopic:i,requiredNamespaces:n,relays:s}=t,o=i,a,c=!1;if(o&&(c=this.client.core.pairing.pairings.get(o).active),!o||!c){let{topic:Q,uri:j}=await this.client.core.pairing.create();o=Q,a=j}let h=await this.client.core.crypto.generateKeyPair(),p={requiredNamespaces:n,relays:s??[{protocol:pu.RELAYER_DEFAULT_PROTOCOL}],proposer:{publicKey:h,metadata:this.client.metadata}},{reject:A,resolve:D,done:O}=oe.createDelayedPromise();if(this.events.once(oe.engineEvent("session_connect"),async({error:Q,session:j})=>{if(Q)A(Q);else if(j){j.self.publicKey=h;let ie=LN(Qn({},j),{requiredNamespaces:n});await this.client.session.set(j.topic,ie),await this.setExpiry(j.topic,j.expiry),o&&await this.client.core.pairing.updateMetadata({topic:o,metadata:j.peer.metadata}),D(ie)}}),!o){let{message:Q}=oe.getInternalError("NO_MATCHING_KEY",`connect() pairing topic: ${o}`);throw new Error(Q)}let T=await this.sendRequest(o,"wc_sessionPropose",p),V=oe.calcExpiry(Rt.FIVE_MINUTES);return await this.setProposal(T,Qn({id:T,expiry:V},p)),{uri:a,approval:O}},this.pair=async t=>(this.isInitialized(),await this.client.core.pairing.pair(t)),this.approve=async t=>{this.isInitialized(),await this.isValidApprove(t);let{id:i,relayProtocol:n,namespaces:s}=t,{pairingTopic:o,proposer:a,requiredNamespaces:c}=this.client.proposal.get(i),h=await this.client.core.crypto.generateKeyPair(),p=a.publicKey,A=await this.client.core.crypto.generateSharedKey(h,p),D={relay:{protocol:n??"irn"},namespaces:s,requiredNamespaces:c,controller:{publicKey:h,metadata:this.client.metadata},expiry:oe.calcExpiry(il)};await this.client.core.relayer.subscribe(A);let O=await this.sendRequest(A,"wc_sessionSettle",D),{done:T,resolve:V,reject:Q}=oe.createDelayedPromise();this.events.once(oe.engineEvent("session_approve",O),({error:ie})=>{ie?Q(ie):V(this.client.session.get(A))});let j=LN(Qn({},D),{topic:A,acknowledged:!1,self:D.controller,peer:{publicKey:a.publicKey,metadata:a.metadata},controller:h});return await this.client.session.set(A,j),await this.setExpiry(A,oe.calcExpiry(il)),o&&await this.client.core.pairing.updateMetadata({topic:o,metadata:j.peer.metadata}),o&&i&&(await this.sendResult(i,o,{relay:{protocol:n??"irn"},responderPublicKey:h}),await this.client.proposal.delete(i,oe.getSdkError("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:o})),{topic:A,acknowledged:T}},this.reject=async t=>{this.isInitialized(),await this.isValidReject(t);let{id:i,reason:n}=t,{pairingTopic:s}=this.client.proposal.get(i);s&&(await this.sendError(i,s,n),await this.client.proposal.delete(i,oe.getSdkError("USER_DISCONNECTED")))},this.update=async t=>{this.isInitialized(),await this.isValidUpdate(t);let{topic:i,namespaces:n}=t,s=await this.sendRequest(i,"wc_sessionUpdate",{namespaces:n}),{done:o,resolve:a,reject:c}=oe.createDelayedPromise();return this.events.once(oe.engineEvent("session_update",s),({error:h})=>{h?c(h):a()}),await this.client.session.update(i,{namespaces:n}),{acknowledged:o}},this.extend=async t=>{this.isInitialized(),await this.isValidExtend(t);let{topic:i}=t,n=await this.sendRequest(i,"wc_sessionExtend",{}),{done:s,resolve:o,reject:a}=oe.createDelayedPromise();return this.events.once(oe.engineEvent("session_extend",n),({error:c})=>{c?a(c):o()}),await this.setExpiry(i,oe.calcExpiry(il)),{acknowledged:s}},this.request=async t=>{this.isInitialized(),await this.isValidRequest(t);let{chainId:i,request:n,topic:s}=t,o=await this.sendRequest(s,"wc_sessionRequest",{request:n,chainId:i}),{done:a,resolve:c,reject:h}=oe.createDelayedPromise();return this.events.once(oe.engineEvent("session_request",o),({error:p,result:A})=>{p?h(p):c(A)}),await a()},this.respond=async t=>{this.isInitialized(),await this.isValidRespond(t);let{topic:i,response:n}=t,{id:s}=n;Vt.isJsonRpcResult(n)?await this.sendResult(s,i,n.result):Vt.isJsonRpcError(n)&&await this.sendError(s,i,n.error)},this.ping=async t=>{this.isInitialized(),await this.isValidPing(t);let{topic:i}=t;if(this.client.session.keys.includes(i)){let n=await this.sendRequest(i,"wc_sessionPing",{}),{done:s,resolve:o,reject:a}=oe.createDelayedPromise();this.events.once(oe.engineEvent("session_ping",n),({error:c})=>{c?a(c):o()}),await s()}else this.client.core.pairing.pairings.keys.includes(i)&&await this.client.core.pairing.ping({topic:i})},this.emit=async t=>{this.isInitialized(),await this.isValidEmit(t);let{topic:i,event:n,chainId:s}=t;await this.sendRequest(i,"wc_sessionEvent",{event:n,chainId:s})},this.disconnect=async t=>{this.isInitialized(),await this.isValidDisconnect(t);let{topic:i}=t;this.client.session.keys.includes(i)?(await this.sendRequest(i,"wc_sessionDelete",oe.getSdkError("USER_DISCONNECTED")),await this.deleteSession(i)):await this.client.core.pairing.disconnect({topic:i})},this.find=t=>(this.isInitialized(),this.client.session.getAll().filter(i=>oe.isSessionCompatible(i,t))),this.deleteSession=async(t,i)=>{let{self:n}=this.client.session.get(t);await this.client.core.relayer.unsubscribe(t),await Promise.all([this.client.session.delete(t,oe.getSdkError("USER_DISCONNECTED")),this.client.core.crypto.deleteKeyPair(n.publicKey),this.client.core.crypto.deleteSymKey(t),i?Promise.resolve():this.client.core.expirer.del(t)])},this.deleteProposal=async(t,i)=>{await Promise.all([this.client.proposal.delete(t,oe.getSdkError("USER_DISCONNECTED")),i?Promise.resolve():this.client.core.expirer.del(t)])},this.setExpiry=async(t,i)=>{this.client.session.keys.includes(t)&&await this.client.session.update(t,{expiry:i}),this.client.core.expirer.set(t,i)},this.setProposal=async(t,i)=>{await this.client.proposal.set(t,i),this.client.core.expirer.set(t,i.expiry)},this.sendRequest=async(t,i,n)=>{let s=Vt.formatJsonRpcRequest(i,n),o=await this.client.core.crypto.encode(t,s),a=nl[i].req;return this.client.core.history.set(t,s),this.client.core.relayer.publish(t,o,a),s.id},this.sendResult=async(t,i,n)=>{let s=Vt.formatJsonRpcResult(t,n),o=await this.client.core.crypto.encode(i,s),a=await this.client.core.history.get(i,t),c=nl[a.request.method].res;this.client.core.relayer.publish(i,o,c),await this.client.core.history.resolve(s)},this.sendError=async(t,i,n)=>{let s=Vt.formatJsonRpcError(t,n),o=await this.client.core.crypto.encode(i,s),a=await this.client.core.history.get(i,t),c=nl[a.request.method].res;this.client.core.relayer.publish(i,o,c),await this.client.core.history.resolve(s)},this.cleanup=async()=>{let t=[],i=[];this.client.session.getAll().forEach(n=>{oe.isExpired(n.expiry)&&t.push(n.topic)}),this.client.proposal.getAll().forEach(n=>{oe.isExpired(n.expiry)&&i.push(n.id)}),await Promise.all([...t.map(n=>this.deleteSession(n)),...i.map(n=>this.deleteProposal(n))])},this.onRelayEventRequest=t=>{let{topic:i,payload:n}=t,s=n.method;switch(s){case"wc_sessionPropose":return this.onSessionProposeRequest(i,n);case"wc_sessionSettle":return this.onSessionSettleRequest(i,n);case"wc_sessionUpdate":return this.onSessionUpdateRequest(i,n);case"wc_sessionExtend":return this.onSessionExtendRequest(i,n);case"wc_sessionPing":return this.onSessionPingRequest(i,n);case"wc_sessionDelete":return this.onSessionDeleteRequest(i,n);case"wc_sessionRequest":return this.onSessionRequest(i,n);case"wc_sessionEvent":return this.onSessionEventRequest(i,n);default:return this.client.logger.info(`Unsupported request method ${s}`)}},this.onRelayEventResponse=async t=>{let{topic:i,payload:n}=t,s=(await this.client.core.history.get(i,n.id)).request.method;switch(s){case"wc_sessionPropose":return this.onSessionProposeResponse(i,n);case"wc_sessionSettle":return this.onSessionSettleResponse(i,n);case"wc_sessionUpdate":return this.onSessionUpdateResponse(i,n);case"wc_sessionExtend":return this.onSessionExtendResponse(i,n);case"wc_sessionPing":return this.onSessionPingResponse(i,n);case"wc_sessionRequest":return this.onSessionRequestResponse(i,n);default:return this.client.logger.info(`Unsupported response method ${s}`)}},this.onSessionProposeRequest=async(t,i)=>{let{params:n,id:s}=i;try{this.isValidConnect(Qn({},i.params));let o=oe.calcExpiry(Rt.FIVE_MINUTES),a=Qn({id:s,pairingTopic:t,expiry:o},n);await this.setProposal(s,a),this.client.events.emit("session_proposal",{id:s,params:a})}catch(o){await this.sendError(s,t,o),this.client.logger.error(o)}},this.onSessionProposeResponse=async(t,i)=>{let{id:n}=i;if(Vt.isJsonRpcResult(i)){let{result:s}=i;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:s});let o=this.client.proposal.get(n);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:o});let a=o.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:a});let c=s.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:c});let h=await this.client.core.crypto.generateSharedKey(a,c);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:h});let p=await this.client.core.relayer.subscribe(h);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:p}),await this.client.core.pairing.activate({topic:t})}else Vt.isJsonRpcError(i)&&(await this.client.proposal.delete(n,oe.getSdkError("USER_DISCONNECTED")),this.events.emit(oe.engineEvent("session_connect"),{error:i.error}))},this.onSessionSettleRequest=async(t,i)=>{let{id:n,params:s}=i;try{this.isValidSessionSettleRequest(s);let{relay:o,controller:a,expiry:c,namespaces:h}=i.params,p={topic:t,relay:o,expiry:c,namespaces:h,acknowledged:!0,controller:a.publicKey,self:{publicKey:"",metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}};await this.sendResult(i.id,t,!0),this.events.emit(oe.engineEvent("session_connect"),{session:p})}catch(o){await this.sendError(n,t,o),this.client.logger.error(o)}},this.onSessionSettleResponse=async(t,i)=>{let{id:n}=i;Vt.isJsonRpcResult(i)?(await this.client.session.update(t,{acknowledged:!0}),this.events.emit(oe.engineEvent("session_approve",n),{})):Vt.isJsonRpcError(i)&&(await this.client.session.delete(t,oe.getSdkError("USER_DISCONNECTED")),this.events.emit(oe.engineEvent("session_approve",n),{error:i.error}))},this.onSessionUpdateRequest=async(t,i)=>{let{params:n,id:s}=i;try{this.isValidUpdate(Qn({topic:t},n)),await this.client.session.update(t,{namespaces:n.namespaces}),await this.sendResult(s,t,!0),this.client.events.emit("session_update",{id:s,topic:t,params:n})}catch(o){await this.sendError(s,t,o),this.client.logger.error(o)}},this.onSessionUpdateResponse=(t,i)=>{let{id:n}=i;Vt.isJsonRpcResult(i)?this.events.emit(oe.engineEvent("session_update",n),{}):Vt.isJsonRpcError(i)&&this.events.emit(oe.engineEvent("session_update",n),{error:i.error})},this.onSessionExtendRequest=async(t,i)=>{let{id:n}=i;try{this.isValidExtend({topic:t}),await this.setExpiry(t,oe.calcExpiry(il)),await this.sendResult(n,t,!0),this.client.events.emit("session_extend",{id:n,topic:t})}catch(s){await this.sendError(n,t,s),this.client.logger.error(s)}},this.onSessionExtendResponse=(t,i)=>{let{id:n}=i;Vt.isJsonRpcResult(i)?this.events.emit(oe.engineEvent("session_extend",n),{}):Vt.isJsonRpcError(i)&&this.events.emit(oe.engineEvent("session_extend",n),{error:i.error})},this.onSessionPingRequest=async(t,i)=>{let{id:n}=i;try{this.isValidPing({topic:t}),await this.sendResult(n,t,!0),this.client.events.emit("session_ping",{id:n,topic:t})}catch(s){await this.sendError(n,t,s),this.client.logger.error(s)}},this.onSessionPingResponse=(t,i)=>{let{id:n}=i;setTimeout(()=>{Vt.isJsonRpcResult(i)?this.events.emit(oe.engineEvent("session_ping",n),{}):Vt.isJsonRpcError(i)&&this.events.emit(oe.engineEvent("session_ping",n),{error:i.error})},500)},this.onSessionDeleteRequest=async(t,i)=>{let{id:n}=i;try{this.isValidDisconnect({topic:t,reason:i.params}),await this.sendResult(n,t,!0),await this.deleteSession(t),this.client.events.emit("session_delete",{id:n,topic:t})}catch(s){await this.sendError(n,t,s),this.client.logger.error(s)}},this.onSessionRequest=async(t,i)=>{let{id:n,params:s}=i;try{this.isValidRequest(Qn({topic:t},s)),this.client.events.emit("session_request",{id:n,topic:t,params:s})}catch(o){await this.sendError(n,t,o),this.client.logger.error(o)}},this.onSessionRequestResponse=(t,i)=>{let{id:n}=i;Vt.isJsonRpcResult(i)?this.events.emit(oe.engineEvent("session_request",n),{result:i.result}):Vt.isJsonRpcError(i)&&this.events.emit(oe.engineEvent("session_request",n),{error:i.error})},this.onSessionEventRequest=async(t,i)=>{let{id:n,params:s}=i;try{this.isValidEmit(Qn({topic:t},s)),this.client.events.emit("session_event",{id:n,topic:t,params:s})}catch(o){await this.sendError(n,t,o),this.client.logger.error(o)}},this.isValidConnect=async t=>{if(!oe.isValidParams(t)){let{message:a}=oe.getInternalError("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(t)}`);throw new Error(a)}let{pairingTopic:i,requiredNamespaces:n,relays:s}=t;oe.isUndefined(i)||await this.isValidPairingTopic(i);let o=oe.isValidRequiredNamespaces(n,"connect()");if(o)throw new Error(o.message);if(!oe.isValidRelays(s,!0)){let{message:a}=oe.getInternalError("MISSING_OR_INVALID",`connect() relays: ${s}`);throw new Error(a)}},this.isValidApprove=async t=>{if(!oe.isValidParams(t))throw new Error(oe.getInternalError("MISSING_OR_INVALID",`approve() params: ${t}`).message);let{id:i,namespaces:n,relayProtocol:s}=t;await this.isValidProposalId(i);let o=this.client.proposal.get(i),a=oe.isValidNamespaces(n,"approve()");if(a)throw new Error(a.message);let c=oe.isConformingNamespaces(o.requiredNamespaces,n,"update()");if(c)throw new Error(c.message);if(!oe.isValidString(s,!0)){let{message:h}=oe.getInternalError("MISSING_OR_INVALID",`approve() relayProtocol: ${s}`);throw new Error(h)}},this.isValidReject=async t=>{if(!oe.isValidParams(t)){let{message:s}=oe.getInternalError("MISSING_OR_INVALID",`reject() params: ${t}`);throw new Error(s)}let{id:i,reason:n}=t;if(await this.isValidProposalId(i),!oe.isValidErrorReason(n)){let{message:s}=oe.getInternalError("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(n)}`);throw new Error(s)}},this.isValidSessionSettleRequest=t=>{if(!oe.isValidParams(t)){let{message:h}=oe.getInternalError("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${t}`);throw new Error(h)}let{relay:i,controller:n,namespaces:s,expiry:o}=t;if(!oe.isValidRelay(i)){let{message:h}=oe.getInternalError("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(h)}let a=oe.isValidController(n,"onSessionSettleRequest()");if(a)throw new Error(a.message);let c=oe.isValidNamespaces(s,"onSessionSettleRequest()");if(c)throw new Error(c.message);if(oe.isExpired(o)){let{message:h}=oe.getInternalError("EXPIRED","onSessionSettleRequest()");throw new Error(h)}},this.isValidUpdate=async t=>{if(!oe.isValidParams(t)){let{message:c}=oe.getInternalError("MISSING_OR_INVALID",`update() params: ${t}`);throw new Error(c)}let{topic:i,namespaces:n}=t;await this.isValidSessionTopic(i);let s=this.client.session.get(i),o=oe.isValidNamespaces(n,"update()");if(o)throw new Error(o.message);let a=oe.isConformingNamespaces(s.requiredNamespaces,n,"update()");if(a)throw new Error(a.message)},this.isValidExtend=async t=>{if(!oe.isValidParams(t)){let{message:n}=oe.getInternalError("MISSING_OR_INVALID",`extend() params: ${t}`);throw new Error(n)}let{topic:i}=t;await this.isValidSessionTopic(i)},this.isValidRequest=async t=>{if(!oe.isValidParams(t)){let{message:a}=oe.getInternalError("MISSING_OR_INVALID",`request() params: ${t}`);throw new Error(a)}let{topic:i,request:n,chainId:s}=t;await this.isValidSessionTopic(i);let{namespaces:o}=this.client.session.get(i);if(!oe.isValidNamespacesChainId(o,s)){let{message:a}=oe.getInternalError("MISSING_OR_INVALID",`request() chainId: ${s}`);throw new Error(a)}if(!oe.isValidRequest(n)){let{message:a}=oe.getInternalError("MISSING_OR_INVALID",`request() ${JSON.stringify(n)}`);throw new Error(a)}if(!oe.isValidNamespacesRequest(o,s,n.method)){let{message:a}=oe.getInternalError("MISSING_OR_INVALID",`request() method: ${n.method}`);throw new Error(a)}},this.isValidRespond=async t=>{if(!oe.isValidParams(t)){let{message:s}=oe.getInternalError("MISSING_OR_INVALID",`respond() params: ${t}`);throw new Error(s)}let{topic:i,response:n}=t;if(await this.isValidSessionTopic(i),!oe.isValidResponse(n)){let{message:s}=oe.getInternalError("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(n)}`);throw new Error(s)}},this.isValidPing=async t=>{if(!oe.isValidParams(t)){let{message:n}=oe.getInternalError("MISSING_OR_INVALID",`ping() params: ${t}`);throw new Error(n)}let{topic:i}=t;await this.isValidSessionOrPairingTopic(i)},this.isValidEmit=async t=>{if(!oe.isValidParams(t)){let{message:a}=oe.getInternalError("MISSING_OR_INVALID",`emit() params: ${t}`);throw new Error(a)}let{topic:i,event:n,chainId:s}=t;await this.isValidSessionTopic(i);let{namespaces:o}=this.client.session.get(i);if(!oe.isValidNamespacesChainId(o,s)){let{message:a}=oe.getInternalError("MISSING_OR_INVALID",`emit() chainId: ${s}`);throw new Error(a)}if(!oe.isValidEvent(n)){let{message:a}=oe.getInternalError("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(n)}`);throw new Error(a)}if(!oe.isValidNamespacesEvent(o,s,n.name)){let{message:a}=oe.getInternalError("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(n)}`);throw new Error(a)}},this.isValidDisconnect=async t=>{if(!oe.isValidParams(t)){let{message:n}=oe.getInternalError("MISSING_OR_INVALID",`disconnect() params: ${t}`);throw new Error(n)}let{topic:i}=t;await this.isValidSessionOrPairingTopic(i)}}isInitialized(){if(!this.initialized){let{message:e}=oe.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.client.core.relayer.on(pu.RELAYER_EVENTS.message,async e=>{let{topic:t,message:i}=e;if(this.ignoredPayloadTypes.includes(this.client.core.crypto.getPayloadType(i)))return;let n=await this.client.core.crypto.decode(t,i);Vt.isJsonRpcRequest(n)?(this.client.core.history.set(t,n),this.onRelayEventRequest({topic:t,payload:n})):Vt.isJsonRpcResponse(n)&&(await this.client.core.history.resolve(n),this.onRelayEventResponse({topic:t,payload:n}))})}registerExpirerEvents(){this.client.core.expirer.on(pu.EXPIRER_EVENTS.expired,async e=>{let{topic:t,id:i}=oe.parseExpirerTarget(e.target);t?this.client.session.keys.includes(t)&&(await this.deleteSession(t,!0),this.client.events.emit("session_expire",{topic:t})):i&&await this.deleteProposal(i,!0)})}isValidPairingTopic(e){if(!oe.isValidString(e,!1)){let{message:t}=oe.getInternalError("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(t)}if(!this.client.core.pairing.pairings.keys.includes(e)){let{message:t}=oe.getInternalError("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(t)}if(oe.isExpired(this.client.core.pairing.pairings.get(e).expiry)){let{message:t}=oe.getInternalError("EXPIRED",`pairing topic: ${e}`);throw new Error(t)}}async isValidSessionTopic(e){if(!oe.isValidString(e,!1)){let{message:t}=oe.getInternalError("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(t)}if(!this.client.session.keys.includes(e)){let{message:t}=oe.getInternalError("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(t)}if(oe.isExpired(this.client.session.get(e).expiry)){await this.deleteSession(e);let{message:t}=oe.getInternalError("EXPIRED",`session topic: ${e}`);throw new Error(t)}}async isValidSessionOrPairingTopic(e){if(this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(oe.isValidString(e,!1)){let{message:t}=oe.getInternalError("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(t)}else{let{message:t}=oe.getInternalError("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(t)}}async isValidProposalId(e){if(!oe.isValidId(e)){let{message:t}=oe.getInternalError("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(t)}if(!this.client.proposal.keys.includes(e)){let{message:t}=oe.getInternalError("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(t)}if(oe.isExpired(this.client.proposal.get(e).expiry)){await this.deleteProposal(e);let{message:t}=oe.getInternalError("EXPIRED",`proposal id: ${e}`);throw new Error(t)}}},Ww=class extends pu.Store{constructor(e,t){super(e,t,VN,ev),this.core=e,this.logger=t}},Yw=class extends pu.Store{constructor(e,t){super(e,t,HN,ev),this.core=e,this.logger=t}},gu=class extends FN.ISignClient{constructor(e){super(e),this.protocol=Jw,this.version=Xw,this.name=ip.name,this.events=new UN.EventEmitter,this.on=(i,n)=>this.events.on(i,n),this.once=(i,n)=>this.events.once(i,n),this.off=(i,n)=>this.events.off(i,n),this.removeListener=(i,n)=>this.events.removeListener(i,n),this.connect=async i=>{try{return await this.engine.connect(i)}catch(n){throw this.logger.error(n.message),n}},this.pair=async i=>{try{return await this.engine.pair(i)}catch(n){throw this.logger.error(n.message),n}},this.approve=async i=>{try{return await this.engine.approve(i)}catch(n){throw this.logger.error(n.message),n}},this.reject=async i=>{try{return await this.engine.reject(i)}catch(n){throw this.logger.error(n.message),n}},this.update=async i=>{try{return await this.engine.update(i)}catch(n){throw this.logger.error(n.message),n}},this.extend=async i=>{try{return await this.engine.extend(i)}catch(n){throw this.logger.error(n.message),n}},this.request=async i=>{try{return await this.engine.request(i)}catch(n){throw this.logger.error(n.message),n}},this.respond=async i=>{try{return await this.engine.respond(i)}catch(n){throw this.logger.error(n.message),n}},this.ping=async i=>{try{return await this.engine.ping(i)}catch(n){throw this.logger.error(n.message),n}},this.emit=async i=>{try{return await this.engine.emit(i)}catch(n){throw this.logger.error(n.message),n}},this.disconnect=async i=>{try{return await this.engine.disconnect(i)}catch(n){throw this.logger.error(n.message),n}},this.find=i=>{try{return this.engine.find(i)}catch(n){throw this.logger.error(n.message),n}},this.name=e?.name||ip.name,this.metadata=e?.metadata||oe.getAppMetadata();let t=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:t9.default(kw.getDefaultLoggerOptions({level:e?.logger||ip.logger}));this.core=e?.core||new pu.Core(e),this.logger=kw.generateChildLogger(t,this.name),this.session=new Yw(this.core,this.logger),this.proposal=new Ww(this.core,this.logger),this.engine=new $w(this)}static async init(e){let t=new gu(e);return await t.initialize(),t}get context(){return kw.getLoggerContext(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.engine.init(),this.logger.info("SignClient Initilization Success")}catch(e){throw this.logger.info("SignClient Initilization Failure"),this.logger.error(e.message),e}}},p9=gu;Pt.ENGINE_CONTEXT=QN,Pt.ENGINE_RPC_OPTS=nl,Pt.HISTORY_CONTEXT=o9,Pt.HISTORY_EVENTS=s9,Pt.HISTORY_STORAGE_VERSION=a9,Pt.PROPOSAL_CONTEXT=VN,Pt.PROPOSAL_EXPIRY=u9,Pt.SESSION_CONTEXT=HN,Pt.SESSION_EXPIRY=il,Pt.SIGN_CLIENT_CONTEXT=Zw,Pt.SIGN_CLIENT_DEFAULT=ip,Pt.SIGN_CLIENT_EVENTS=i9,Pt.SIGN_CLIENT_PROTOCOL=Jw,Pt.SIGN_CLIENT_STORAGE_OPTIONS=n9,Pt.SIGN_CLIENT_STORAGE_PREFIX=ev,Pt.SIGN_CLIENT_VERSION=Xw,Pt.SignClient=p9,Pt.default=gu});var GN=M(yu=>{"use strict";f();Object.defineProperty(yu,"__esModule",{value:!0});yu.WALLETCONNECT_ELROND_NAMESPACE=yu.WALLETCONNECT_ELROND_CHAIN_ID=void 0;yu.WALLETCONNECT_ELROND_CHAIN_ID=508;yu.WALLETCONNECT_ELROND_NAMESPACE="elrond"});var KN=M(sl=>{"use strict";f();Object.defineProperty(sl,"__esModule",{value:!0});sl.Operation=void 0;var g9;(function(r){r.SIGN_TRANSACTION="erd_signTransaction",r.SIGN_TRANSACTIONS="erd_signTransactions",r.SIGN_MESSAGE="erd_signMessage",r.SIGN_LOGIN_TOKEN="erd_signLoginToken"})(g9=sl.Operation||(sl.Operation={}))});var zN=M(np=>{"use strict";f();Object.defineProperty(np,"__esModule",{value:!0});np.Logger=void 0;var tv=class{static error(e){console.error(e)}static trace(e){console.trace(e)}};np.Logger=tv});var kN=M(mu=>{"use strict";f();Object.defineProperty(mu,"__esModule",{value:!0});mu.Signature=mu.Address=void 0;var rv=class{constructor(e){this.value=e}bech32(){return this.value}};mu.Address=rv;var ol=class{constructor(e){this.buffer=e}static fromHex(e){return new ol(y.Buffer.from(e,"hex"))}hex(){return this.buffer.toString("hex")}};mu.Signature=ol});var $N=M(jn=>{"use strict";f();Object.defineProperty(jn,"__esModule",{value:!0});jn.ErrBadAddress=jn.ErrNotImplemented=jn.Err=void 0;var al=class extends Error{constructor(e,t){super(e),this.inner=void 0,this.inner=t}};jn.Err=al;var iv=class extends al{constructor(){super("Method not yet implemented")}};jn.ErrNotImplemented=iv;var nv=class extends al{constructor(e,t){super(`Bad address: ${e}`,t)}};jn.ErrBadAddress=nv});var YN=M(Bi=>{"use strict";f();var y9=Bi&&Bi.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),m9=Bi&&Bi.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),w9=Bi&&Bi.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&y9(e,r,t);return m9(e,r),e};Object.defineProperty(Bi,"__esModule",{value:!0});Bi.UserAddress=void 0;var v9=w9(Kl()),WN=$N(),E9="erd",ul=class{constructor(e){this.value=e}static fromBech32(e){let t;try{t=v9.decode(e)}catch(i){throw new WN.ErrBadAddress(e,i)}if(t.prefix!=E9)throw new WN.ErrBadAddress(e);return new ul(e)}bech32(){return this.value}};Bi.UserAddress=ul});var fl=M(Kn=>{"use strict";f();var $t=Kn&&Kn.__awaiter||function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(p){try{h(i.next(p))}catch(A){o(A)}}function c(p){try{h(i.throw(p))}catch(A){o(A)}}function h(p){p.done?s(p.value):n(p.value).then(a,c)}h((i=i.apply(r,e||[])).next())})},A9=Kn&&Kn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Kn,"__esModule",{value:!0});Kn.WalletConnectV2Provider=void 0;var I9=A9(jN()),JN=md(),Gn=GN(),cl=KN(),je=zN(),ll=kN(),sp=YN(),sv=class{constructor(e,t,i,n,s){this.chainId="",this.address="",this.signature="",this.isInitializing=!1,this.events=[],this.methods=[],this.options={},this.onClientConnect=e,this.chainId=t,this.walletConnectV2Relay=i,this.walletConnectV2ProjectId=n,this.options=s}init(){return $t(this,void 0,void 0,function*(){try{let e=yield I9.default.init(Object.assign({relayUrl:this.walletConnectV2Relay,projectId:this.walletConnectV2ProjectId},this.options));this.walletConnector=e,yield this.subscribeToEvents(e),yield this.checkPersistedState(e)}catch{throw new Error("connect: WalletConnect is unable to init")}finally{this.isInitializing=!1}return!0})}isInitialized(){return!!this.walletConnector}isConnected(){return new Promise((e,t)=>e(Boolean(this.isInitialized()&&typeof this.session<"u")))}connect(e){var t,i;return $t(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u"&&(yield this.init()),typeof this.walletConnector>"u")throw new Error("WalletConnect is not initialized");let n=[...Object.values(cl.Operation),...(t=e?.methods)!==null&&t!==void 0?t:[]],s=[`${Gn.WALLETCONNECT_ELROND_NAMESPACE}:${this.chainId}`],o=(i=e?.events)!==null&&i!==void 0?i:[];try{let a=yield this.walletConnector.connect({pairingTopic:e?.topic,requiredNamespaces:{[Gn.WALLETCONNECT_ELROND_NAMESPACE]:{methods:n,chains:s,events:o}}});return this.events=o,this.methods=n,a}catch{throw e?.topic?(yield this.logout({topic:e.topic}),je.Logger.error("connect: WalletConnect is unable to connect to existing pairing"),new Error("connect: WalletConnect is unable to connect to existing pairing")):(je.Logger.error("connect: WalletConnect is unable to connect"),new Error("connect: WalletConnect is unable to connect"))}})}login(e){return $t(this,void 0,void 0,function*(){if(this.isInitializing=!0,typeof this.walletConnector>"u"&&(yield this.connect()),typeof this.walletConnector>"u")throw new Error("WalletConnect is not initialized");typeof this.session<"u"&&(yield this.logout());try{if(e&&e.approval){let t=yield e.approval();if(e.token){let i=this.getAddressFromSession(t),{signature:n}=yield this.walletConnector.request({chainId:`${Gn.WALLETCONNECT_ELROND_NAMESPACE}:${this.chainId}`,topic:t.topic,request:{method:cl.Operation.SIGN_LOGIN_TOKEN,params:{token:e.token,address:i}}});if(!n)throw je.Logger.error("login: WalletConnect could not sign login token"),new Error("WalletConnect could not sign login token");return yield this.onSessionConnected({session:t,signature:n})}return yield this.onSessionConnected({session:t,signature:""})}}catch{throw je.Logger.error("login: WalletConnect is unable to login"),new Error("login: WalletConnect is unable to login")}finally{this.isInitializing=!1}return""})}logout(e){var t,i;return $t(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw je.Logger.error("logout: WalletConnect not initialised, call init() first"),new Error("WalletConnect not initialised, call init() first");try{let n=(t=e?.topic)!==null&&t!==void 0?t:(i=this.session)===null||i===void 0?void 0:i.topic;if(n){yield this.walletConnector.disconnect({topic:n,reason:JN.getSdkError("USER_DISCONNECTED")});let s=this.walletConnector.pairing.getAll({active:!0}).filter(o=>o.topic!==n);this.pairings=s}}catch{je.Logger.error("logout: WalletConnect was unable to logout")}return this.session=void 0,!0})}getAddress(){return $t(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw je.Logger.error("getAddress: WalletConnect not initialised, call init() first"),new Error("WalletConnect not initialised, call init() first");return this.address})}getSignature(){return $t(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw je.Logger.error("getSignature: WalletConnect not initialised, call init() first"),new Error("WalletConnect not initialised, call init() first");return this.signature})}getPairings(){var e;return $t(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw je.Logger.error("getPairings: WalletConnect not initialised, call init() first"),new Error("WalletConnect not initialised, call init() first");return(e=this.pairings)!==null&&e!==void 0?e:this.walletConnector.pairing.getAll({active:!0})})}signMessage(e){return $t(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw je.Logger.error("signMessage: WalletConnect not initialised, call init() first"),new Error("WalletConnect not initialised, call init() first");if(typeof this.session>"u")throw je.Logger.error("signMessage: Session is not connected"),this.onClientConnect.onClientLogout(),new Error("Session is not connected");let t=yield this.getAddress(),{signature:i}=yield this.walletConnector.request({chainId:`${Gn.WALLETCONNECT_ELROND_NAMESPACE}:${this.chainId}`,topic:this.session.topic,request:{method:cl.Operation.SIGN_MESSAGE,params:{address:t,message:e.message.toString()}}});if(!i)throw je.Logger.error("signMessage: WalletConnect could not sign the message"),new Error("WalletConnect could not sign the message");return e.applySignature(new ll.Signature(i),sp.UserAddress.fromBech32(t)),e})}signTransaction(e){return $t(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw je.Logger.error("signTransaction: WalletConnect not initialised, call init() first"),new Error("WalletConnect not initialised, call init() first");if(typeof this.session>"u")throw je.Logger.error("signTransaction: Session is not connected"),this.onClientConnect.onClientLogout(),new Error("Session is not connected");let t=yield this.getAddress(),i=new ll.Address(t),n=e.toPlainObject(i);if(this.chainId!==e.getChainID().valueOf())throw je.Logger.error("signTransaction: Transaction Chain Id different than Connection Chain Id"),new Error("Transaction Chain Id different than Connection Chain Id");let{signature:s}=yield this.walletConnector.request({chainId:`${Gn.WALLETCONNECT_ELROND_NAMESPACE}:${this.chainId}`,topic:this.session.topic,request:{method:cl.Operation.SIGN_TRANSACTION,params:{transaction:n}}});if(!s)throw je.Logger.error("signTransaction: WalletConnect could not sign the transaction"),new Error("WalletConnect could not sign the transaction");return e.applySignature(ll.Signature.fromHex(s),sp.UserAddress.fromBech32(t)),e})}signTransactions(e){return $t(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw je.Logger.error("signTransactions: WalletConnect not initialised, call init() first"),new Error("WalletConnect not initialised, call init() first");if(typeof this.session>"u")throw je.Logger.error("signTransactions: Session is not connected"),this.onClientConnect.onClientLogout(),new Error("Session is not connected");let t=yield this.getAddress(),i=new ll.Address(t),n=e.map(o=>{if(this.chainId!==o.getChainID().valueOf())throw je.Logger.error("signTransactions: Transaction Chain Id different than Connection Chain Id"),new Error("Transactions Chain Id different than Connection Chain Id");return o.toPlainObject(i)}),{signatures:s}=yield this.walletConnector.request({chainId:`${Gn.WALLETCONNECT_ELROND_NAMESPACE}:${this.chainId}`,topic:this.session.topic,request:{method:cl.Operation.SIGN_TRANSACTIONS,params:{transactions:n}}});if(!s||!Array.isArray(s))throw je.Logger.error("signTransactions: WalletConnect could not sign the transactions"),new Error("WalletConnect could not sign the transactions");if(e.length!==s.length)throw je.Logger.error("signTransactions: WalletConnect could not sign the transactions. Invalid signatures."),new Error("WalletConnect could not sign the transactions. Invalid signatures.");for(let[o,a]of e.entries())a.applySignature(ll.Signature.fromHex(s[o].signature),sp.UserAddress.fromBech32(t));return e})}sendCustomRequest(e){return $t(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw je.Logger.error("sendCustomRequest: WalletConnect not initialised, call init() first"),new Error("WalletConnect not initialised, call init() first");if(typeof this.session>"u")throw je.Logger.error("sendCustomRequest: Session is not connected"),this.onClientConnect.onClientLogout(),new Error("Session is not connected");if(e?.request){let{response:t}=yield this.walletConnector.request({chainId:`${Gn.WALLETCONNECT_ELROND_NAMESPACE}:${this.chainId}`,topic:this.session.topic,request:e.request});if(!t)throw je.Logger.error("sendCustomRequest: WalletConnect could not send the custom request"),new Error("WalletConnect could not send the custom request");return t}})}ping(){return $t(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw je.Logger.error("ping: WalletConnect not initialised, call init() first"),new Error("WalletConnect not initialised, call init() first");if(typeof this.session>"u")throw je.Logger.error("ping: Session is not connected"),this.onClientConnect.onClientLogout(),new Error("Session is not connected");try{return yield this.walletConnector.ping({topic:this.session.topic}),!0}catch{return je.Logger.error("ping: Ping failed"),!1}})}loginAccount(e){var t;return $t(this,void 0,void 0,function*(){if(e){if(this.addressIsValid(e.address)){this.address=e.address,e.signature&&(this.signature=e.signature),this.onClientConnect.onClientLogin();return}if(je.Logger.error(`WalletConnect invalid address ${e.address}`),!((t=this.session)===null||t===void 0)&&t.topic&&this.walletConnector){yield this.walletConnector.disconnect({topic:this.session.topic,reason:JN.getSdkError("USER_DISCONNECTED")});let i=this.walletConnector.pairing.getAll({active:!0});this.pairings=i}}})}onSessionConnected(e){return $t(this,void 0,void 0,function*(){if(!e)return"";this.session=e.session;let t=this.getAddressFromSession(e.session);return t&&(yield this.loginAccount({address:t,signature:e.signature})),""})}handleTopicUpdateEvent({topic:e}){var t;return $t(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw new Error("WalletConnect is not initialized");this.pairings=this.walletConnector.pairing.getAll({active:!0}),this.address&&!this.isInitializing&&(((t=this===null||this===void 0?void 0:this.session)===null||t===void 0?void 0:t.topic)===e||this.pairings.length===0)&&this.onClientConnect.onClientLogout()})}handleSessionEvents({topic:e,params:t}){var i;return $t(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw new Error("WalletConnect is not initialized");let{event:n}=t;if(n?.name&&((i=this.session)===null||i===void 0?void 0:i.topic)===e){let s=n.data;this.onClientConnect.onClientEvent(s)}})}subscribeToEvents(e){return $t(this,void 0,void 0,function*(){if(typeof e>"u")throw new Error("WalletConnect is not initialized");e.on("session_update",({topic:t,params:i})=>{let{namespaces:n}=i,s=e.session.get(t),o=Object.assign(Object.assign({},s),{namespaces:n});this.onSessionConnected({session:o})}),e.on("session_event",this.handleSessionEvents.bind(this)),e.on("session_delete",this.handleTopicUpdateEvent.bind(this)),e.on("session_expire",this.handleTopicUpdateEvent.bind(this))})}checkPersistedState(e){return $t(this,void 0,void 0,function*(){if(typeof e>"u")throw new Error("WalletConnect is not initialized");if(this.pairings=e.pairing.getAll({active:!0}),!(typeof this.session<"u")&&e.session.length&&!this.address&&!this.isInitializing){let t=e.session.keys.length-1,i=e.session.get(e.session.keys[t]);return yield this.onSessionConnected({session:i}),i}})}addressIsValid(e){try{return!!sp.UserAddress.fromBech32(e)}catch{return!1}}getAddressFromSession(e){let t=e.namespaces[Gn.WALLETCONNECT_ELROND_NAMESPACE];if(t&&t.accounts){let i=t.accounts[0],[n,s,o]=i.split(":");return o}return""}};Kn.WalletConnectV2Provider=sv});var ZN=M((Yte,XN)=>{"use strict";f();XN.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),i=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(i)!=="[object Symbol]")return!1;var n=42;e[t]=n;for(t in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,t);if(o.value!==n||o.enumerable!==!0)return!1}return!0}});var r6=M((Xte,t6)=>{"use strict";f();var e6=typeof Symbol<"u"&&Symbol,_9=ZN();t6.exports=function(){return typeof e6!="function"||typeof Symbol!="function"||typeof e6("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:_9()}});var n6=M((ere,i6)=>{"use strict";f();var b9="Function.prototype.bind called on incompatible ",ov=Array.prototype.slice,C9=Object.prototype.toString,x9="[object Function]";i6.exports=function(e){var t=this;if(typeof t!="function"||C9.call(t)!==x9)throw new TypeError(b9+t);for(var i=ov.call(arguments,1),n,s=function(){if(this instanceof n){var p=t.apply(this,i.concat(ov.call(arguments)));return Object(p)===p?p:this}else return t.apply(e,i.concat(ov.call(arguments)))},o=Math.max(0,t.length-i.length),a=[],c=0;c<o;c++)a.push("$"+c);if(n=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(s),t.prototype){var h=function(){};h.prototype=t.prototype,n.prototype=new h,h.prototype=null}return n}});var op=M((rre,s6)=>{"use strict";f();var S9=n6();s6.exports=Function.prototype.bind||S9});var a6=M((nre,o6)=>{"use strict";f();var T9=op();o6.exports=T9.call(Function.call,Object.prototype.hasOwnProperty)});var cp=M((ore,f6)=>{"use strict";f();var Re,Iu=SyntaxError,l6=Function,Eu=TypeError,av=function(r){try{return l6('"use strict"; return ('+r+").constructor;")()}catch{}},oo=Object.getOwnPropertyDescriptor;if(oo)try{oo({},"")}catch{oo=null}var uv=function(){throw new Eu},N9=oo?function(){try{return arguments.callee,uv}catch{try{return oo(arguments,"callee").get}catch{return uv}}}():uv,wu=r6()(),zn=Object.getPrototypeOf||function(r){return r.__proto__},vu={},D9=typeof Uint8Array>"u"?Re:zn(Uint8Array),Au={"%AggregateError%":typeof AggregateError>"u"?Re:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Re:ArrayBuffer,"%ArrayIteratorPrototype%":wu?zn([][Symbol.iterator]()):Re,"%AsyncFromSyncIteratorPrototype%":Re,"%AsyncFunction%":vu,"%AsyncGenerator%":vu,"%AsyncGeneratorFunction%":vu,"%AsyncIteratorPrototype%":vu,"%Atomics%":typeof Atomics>"u"?Re:Atomics,"%BigInt%":typeof BigInt>"u"?Re:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Re:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?Re:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Re:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Re:FinalizationRegistry,"%Function%":l6,"%GeneratorFunction%":vu,"%Int8Array%":typeof Int8Array>"u"?Re:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Re:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Re:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":wu?zn(zn([][Symbol.iterator]())):Re,"%JSON%":typeof JSON=="object"?JSON:Re,"%Map%":typeof Map>"u"?Re:Map,"%MapIteratorPrototype%":typeof Map>"u"||!wu?Re:zn(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Re:Promise,"%Proxy%":typeof Proxy>"u"?Re:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?Re:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Re:Set,"%SetIteratorPrototype%":typeof Set>"u"||!wu?Re:zn(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Re:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":wu?zn(""[Symbol.iterator]()):Re,"%Symbol%":wu?Symbol:Re,"%SyntaxError%":Iu,"%ThrowTypeError%":N9,"%TypedArray%":D9,"%TypeError%":Eu,"%Uint8Array%":typeof Uint8Array>"u"?Re:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Re:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Re:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Re:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?Re:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Re:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Re:WeakSet},O9=function r(e){var t;if(e==="%AsyncFunction%")t=av("async function () {}");else if(e==="%GeneratorFunction%")t=av("function* () {}");else if(e==="%AsyncGeneratorFunction%")t=av("async function* () {}");else if(e==="%AsyncGenerator%"){var i=r("%AsyncGeneratorFunction%");i&&(t=i.prototype)}else if(e==="%AsyncIteratorPrototype%"){var n=r("%AsyncGenerator%");n&&(t=zn(n.prototype))}return Au[e]=t,t},u6={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},hl=op(),ap=a6(),B9=hl.call(Function.call,Array.prototype.concat),M9=hl.call(Function.apply,Array.prototype.splice),c6=hl.call(Function.call,String.prototype.replace),up=hl.call(Function.call,String.prototype.slice),P9=hl.call(Function.call,RegExp.prototype.exec),R9=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,L9=/\\(\\)?/g,F9=function(e){var t=up(e,0,1),i=up(e,-1);if(t==="%"&&i!=="%")throw new Iu("invalid intrinsic syntax, expected closing `%`");if(i==="%"&&t!=="%")throw new Iu("invalid intrinsic syntax, expected opening `%`");var n=[];return c6(e,R9,function(s,o,a,c){n[n.length]=a?c6(c,L9,"$1"):o||s}),n},U9=function(e,t){var i=e,n;if(ap(u6,i)&&(n=u6[i],i="%"+n[0]+"%"),ap(Au,i)){var s=Au[i];if(s===vu&&(s=O9(i)),typeof s>"u"&&!t)throw new Eu("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:i,value:s}}throw new Iu("intrinsic "+e+" does not exist!")};f6.exports=function(e,t){if(typeof e!="string"||e.length===0)throw new Eu("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof t!="boolean")throw new Eu('"allowMissing" argument must be a boolean');if(P9(/^%?[^%]*%?$/,e)===null)throw new Iu("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var i=F9(e),n=i.length>0?i[0]:"",s=U9("%"+n+"%",t),o=s.name,a=s.value,c=!1,h=s.alias;h&&(n=h[0],M9(i,B9([0,1],h)));for(var p=1,A=!0;p<i.length;p+=1){var D=i[p],O=up(D,0,1),T=up(D,-1);if((O==='"'||O==="'"||O==="`"||T==='"'||T==="'"||T==="`")&&O!==T)throw new Iu("property names with quotes must have matching quotes");if((D==="constructor"||!A)&&(c=!0),n+="."+D,o="%"+n+"%",ap(Au,o))a=Au[o];else if(a!=null){if(!(D in a)){if(!t)throw new Eu("base intrinsic for "+e+" exists, but the property is not available.");return}if(oo&&p+1>=i.length){var V=oo(a,D);A=!!V,A&&"get"in V&&!("originalValue"in V.get)?a=V.get:a=a[D]}else A=ap(a,D),a=a[D];A&&!c&&(Au[o]=a)}}return a}});var m6=M((ure,lp)=>{"use strict";f();var cv=op(),_u=cp(),p6=_u("%Function.prototype.apply%"),g6=_u("%Function.prototype.call%"),y6=_u("%Reflect.apply%",!0)||cv.call(g6,p6),h6=_u("%Object.getOwnPropertyDescriptor%",!0),ao=_u("%Object.defineProperty%",!0),q9=_u("%Math.max%");if(ao)try{ao({},"a",{value:1})}catch{ao=null}lp.exports=function(e){var t=y6(cv,g6,arguments);if(h6&&ao){var i=h6(t,"length");i.configurable&&ao(t,"length",{value:1+q9(0,e.length-(arguments.length-1))})}return t};var d6=function(){return y6(cv,p6,arguments)};ao?ao(lp.exports,"apply",{value:d6}):lp.exports.apply=d6});var A6=M((lre,E6)=>{"use strict";f();var w6=cp(),v6=m6(),V9=v6(w6("String.prototype.indexOf"));E6.exports=function(e,t){var i=w6(e,!!t);return typeof i=="function"&&V9(e,".prototype.")>-1?v6(i):i}});var I6=M(()=>{f()});var V6=M((gre,q6)=>{f();var vv=typeof Map=="function"&&Map.prototype,lv=Object.getOwnPropertyDescriptor&&vv?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,hp=vv&&lv&&typeof lv.get=="function"?lv.get:null,H9=vv&&Map.prototype.forEach,Ev=typeof Set=="function"&&Set.prototype,fv=Object.getOwnPropertyDescriptor&&Ev?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,dp=Ev&&fv&&typeof fv.get=="function"?fv.get:null,Q9=Ev&&Set.prototype.forEach,j9=typeof WeakMap=="function"&&WeakMap.prototype,pl=j9?WeakMap.prototype.has:null,G9=typeof WeakSet=="function"&&WeakSet.prototype,gl=G9?WeakSet.prototype.has:null,K9=typeof WeakRef=="function"&&WeakRef.prototype,_6=K9?WeakRef.prototype.deref:null,z9=Boolean.prototype.valueOf,k9=Object.prototype.toString,$9=Function.prototype.toString,W9=String.prototype.match,Av=String.prototype.slice,$n=String.prototype.replace,Y9=String.prototype.toUpperCase,b6=String.prototype.toLowerCase,M6=RegExp.prototype.test,C6=Array.prototype.concat,Mi=Array.prototype.join,J9=Array.prototype.slice,x6=Math.floor,pv=typeof BigInt=="function"?BigInt.prototype.valueOf:null,hv=Object.getOwnPropertySymbols,gv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,bu=typeof Symbol=="function"&&typeof Symbol.iterator=="object",ur=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===bu||"symbol")?Symbol.toStringTag:null,P6=Object.prototype.propertyIsEnumerable,S6=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(r){return r.__proto__}:null);function T6(r,e){if(r===1/0||r===-1/0||r!==r||r&&r>-1e3&&r<1e3||M6.call(/e/,e))return e;var t=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof r=="number"){var i=r<0?-x6(-r):x6(r);if(i!==r){var n=String(i),s=Av.call(e,n.length+1);return $n.call(n,t,"$&_")+"."+$n.call($n.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return $n.call(e,t,"$&_")}var yv=I6(),N6=yv.custom,D6=L6(N6)?N6:null;q6.exports=function r(e,t,i,n){var s=t||{};if(kn(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(kn(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=kn(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(kn(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(kn(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return U6(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var c=String(e);return a?T6(e,c):c}if(typeof e=="bigint"){var h=String(e)+"n";return a?T6(e,h):h}var p=typeof s.depth>"u"?5:s.depth;if(typeof i>"u"&&(i=0),i>=p&&p>0&&typeof e=="object")return mv(e)?"[Array]":"[Object]";var A=gj(s,i);if(typeof n>"u")n=[];else if(F6(n,e)>=0)return"[Circular]";function D(E,u,d){if(u&&(n=J9.call(n),n.push(u)),d){var g={depth:s.depth};return kn(s,"quoteStyle")&&(g.quoteStyle=s.quoteStyle),r(E,g,i+1,n)}return r(E,s,i+1,n)}if(typeof e=="function"&&!O6(e)){var O=oj(e),T=fp(e,D);return"[Function"+(O?": "+O:" (anonymous)")+"]"+(T.length>0?" { "+Mi.call(T,", ")+" }":"")}if(L6(e)){var V=bu?$n.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):gv.call(e);return typeof e=="object"&&!bu?dl(V):V}if(hj(e)){for(var Q="<"+b6.call(String(e.nodeName)),j=e.attributes||[],ie=0;ie<j.length;ie++)Q+=" "+j[ie].name+"="+R6(X9(j[ie].value),"double",s);return Q+=">",e.childNodes&&e.childNodes.length&&(Q+="..."),Q+="</"+b6.call(String(e.nodeName))+">",Q}if(mv(e)){if(e.length===0)return"[]";var Y=fp(e,D);return A&&!pj(Y)?"["+wv(Y,A)+"]":"[ "+Mi.call(Y,", ")+" ]"}if(ej(e)){var W=fp(e,D);return!("cause"in Error.prototype)&&"cause"in e&&!P6.call(e,"cause")?"{ ["+String(e)+"] "+Mi.call(C6.call("[cause]: "+D(e.cause),W),", ")+" }":W.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+Mi.call(W,", ")+" }"}if(typeof e=="object"&&o){if(D6&&typeof e[D6]=="function"&&yv)return yv(e,{depth:p-i});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(aj(e)){var $=[];return H9.call(e,function(E,u){$.push(D(u,e,!0)+" => "+D(E,e))}),B6("Map",hp.call(e),$,A)}if(lj(e)){var k=[];return Q9.call(e,function(E){k.push(D(E,e))}),B6("Set",dp.call(e),k,A)}if(uj(e))return dv("WeakMap");if(fj(e))return dv("WeakSet");if(cj(e))return dv("WeakRef");if(rj(e))return dl(D(Number(e)));if(nj(e))return dl(D(pv.call(e)));if(ij(e))return dl(z9.call(e));if(tj(e))return dl(D(String(e)));if(!Z9(e)&&!O6(e)){var R=fp(e,D),F=S6?S6(e)===Object.prototype:e instanceof Object||e.constructor===Object,K=e instanceof Object?"":"null prototype",ce=!F&&ur&&Object(e)===e&&ur in e?Av.call(Wn(e),8,-1):K?"Object":"",J=F||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",X=J+(ce||K?"["+Mi.call(C6.call([],ce||[],K||[]),": ")+"] ":"");return R.length===0?X+"{}":A?X+"{"+wv(R,A)+"}":X+"{ "+Mi.call(R,", ")+" }"}return String(e)};function R6(r,e,t){var i=(t.quoteStyle||e)==="double"?'"':"'";return i+r+i}function X9(r){return $n.call(String(r),/"/g,"&quot;")}function mv(r){return Wn(r)==="[object Array]"&&(!ur||!(typeof r=="object"&&ur in r))}function Z9(r){return Wn(r)==="[object Date]"&&(!ur||!(typeof r=="object"&&ur in r))}function O6(r){return Wn(r)==="[object RegExp]"&&(!ur||!(typeof r=="object"&&ur in r))}function ej(r){return Wn(r)==="[object Error]"&&(!ur||!(typeof r=="object"&&ur in r))}function tj(r){return Wn(r)==="[object String]"&&(!ur||!(typeof r=="object"&&ur in r))}function rj(r){return Wn(r)==="[object Number]"&&(!ur||!(typeof r=="object"&&ur in r))}function ij(r){return Wn(r)==="[object Boolean]"&&(!ur||!(typeof r=="object"&&ur in r))}function L6(r){if(bu)return r&&typeof r=="object"&&r instanceof Symbol;if(typeof r=="symbol")return!0;if(!r||typeof r!="object"||!gv)return!1;try{return gv.call(r),!0}catch{}return!1}function nj(r){if(!r||typeof r!="object"||!pv)return!1;try{return pv.call(r),!0}catch{}return!1}var sj=Object.prototype.hasOwnProperty||function(r){return r in this};function kn(r,e){return sj.call(r,e)}function Wn(r){return k9.call(r)}function oj(r){if(r.name)return r.name;var e=W9.call($9.call(r),/^function\s*([\w$]+)/);return e?e[1]:null}function F6(r,e){if(r.indexOf)return r.indexOf(e);for(var t=0,i=r.length;t<i;t++)if(r[t]===e)return t;return-1}function aj(r){if(!hp||!r||typeof r!="object")return!1;try{hp.call(r);try{dp.call(r)}catch{return!0}return r instanceof Map}catch{}return!1}function uj(r){if(!pl||!r||typeof r!="object")return!1;try{pl.call(r,pl);try{gl.call(r,gl)}catch{return!0}return r instanceof WeakMap}catch{}return!1}function cj(r){if(!_6||!r||typeof r!="object")return!1;try{return _6.call(r),!0}catch{}return!1}function lj(r){if(!dp||!r||typeof r!="object")return!1;try{dp.call(r);try{hp.call(r)}catch{return!0}return r instanceof Set}catch{}return!1}function fj(r){if(!gl||!r||typeof r!="object")return!1;try{gl.call(r,gl);try{pl.call(r,pl)}catch{return!0}return r instanceof WeakSet}catch{}return!1}function hj(r){return!r||typeof r!="object"?!1:typeof HTMLElement<"u"&&r instanceof HTMLElement?!0:typeof r.nodeName=="string"&&typeof r.getAttribute=="function"}function U6(r,e){if(r.length>e.maxStringLength){var t=r.length-e.maxStringLength,i="... "+t+" more character"+(t>1?"s":"");return U6(Av.call(r,0,e.maxStringLength),e)+i}var n=$n.call($n.call(r,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,dj);return R6(n,"single",e)}function dj(r){var e=r.charCodeAt(0),t={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return t?"\\"+t:"\\x"+(e<16?"0":"")+Y9.call(e.toString(16))}function dl(r){return"Object("+r+")"}function dv(r){return r+" { ? }"}function B6(r,e,t,i){var n=i?wv(t,i):Mi.call(t,", ");return r+" ("+e+") {"+n+"}"}function pj(r){for(var e=0;e<r.length;e++)if(F6(r[e],`
`)>=0)return!1;return!0}function gj(r,e){var t;if(r.indent==="	")t="	";else if(typeof r.indent=="number"&&r.indent>0)t=Mi.call(Array(r.indent+1)," ");else return null;return{base:t,prev:Mi.call(Array(e+1),t)}}function wv(r,e){if(r.length===0)return"";var t=`
`+e.prev+e.base;return t+Mi.call(r,","+t)+`
`+e.prev}function fp(r,e){var t=mv(r),i=[];if(t){i.length=r.length;for(var n=0;n<r.length;n++)i[n]=kn(r,n)?e(r[n],r):""}var s=typeof hv=="function"?hv(r):[],o;if(bu){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var c in r)kn(r,c)&&(t&&String(Number(c))===c&&c<r.length||bu&&o["$"+c]instanceof Symbol||(M6.call(/[^\w$]/,c)?i.push(e(c,r)+": "+e(r[c],r)):i.push(c+": "+e(r[c],r))));if(typeof hv=="function")for(var h=0;h<s.length;h++)P6.call(r,s[h])&&i.push("["+e(s[h])+"]: "+e(r[s[h]],r));return i}});var Q6=M((mre,H6)=>{"use strict";f();var Iv=cp(),Cu=A6(),yj=V6(),mj=Iv("%TypeError%"),pp=Iv("%WeakMap%",!0),gp=Iv("%Map%",!0),wj=Cu("WeakMap.prototype.get",!0),vj=Cu("WeakMap.prototype.set",!0),Ej=Cu("WeakMap.prototype.has",!0),Aj=Cu("Map.prototype.get",!0),Ij=Cu("Map.prototype.set",!0),_j=Cu("Map.prototype.has",!0),_v=function(r,e){for(var t=r,i;(i=t.next)!==null;t=i)if(i.key===e)return t.next=i.next,i.next=r.next,r.next=i,i},bj=function(r,e){var t=_v(r,e);return t&&t.value},Cj=function(r,e,t){var i=_v(r,e);i?i.value=t:r.next={key:e,next:r.next,value:t}},xj=function(r,e){return!!_v(r,e)};H6.exports=function(){var e,t,i,n={assert:function(s){if(!n.has(s))throw new mj("Side channel does not contain "+yj(s))},get:function(s){if(pp&&s&&(typeof s=="object"||typeof s=="function")){if(e)return wj(e,s)}else if(gp){if(t)return Aj(t,s)}else if(i)return bj(i,s)},has:function(s){if(pp&&s&&(typeof s=="object"||typeof s=="function")){if(e)return Ej(e,s)}else if(gp){if(t)return _j(t,s)}else if(i)return xj(i,s);return!1},set:function(s,o){pp&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new pp),vj(e,s,o)):gp?(t||(t=new gp),Ij(t,s,o)):(i||(i={key:{},next:null}),Cj(i,s,o))}};return n}});var yp=M((vre,j6)=>{"use strict";f();var Sj=String.prototype.replace,Tj=/%20/g,bv={RFC1738:"RFC1738",RFC3986:"RFC3986"};j6.exports={default:bv.RFC3986,formatters:{RFC1738:function(r){return Sj.call(r,Tj,"+")},RFC3986:function(r){return String(r)}},RFC1738:bv.RFC1738,RFC3986:bv.RFC3986}});var xv=M((Are,K6)=>{"use strict";f();var Nj=yp(),Cv=Object.prototype.hasOwnProperty,uo=Array.isArray,Pi=function(){for(var r=[],e=0;e<256;++e)r.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return r}(),Dj=function(e){for(;e.length>1;){var t=e.pop(),i=t.obj[t.prop];if(uo(i)){for(var n=[],s=0;s<i.length;++s)typeof i[s]<"u"&&n.push(i[s]);t.obj[t.prop]=n}}},G6=function(e,t){for(var i=t&&t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)typeof e[n]<"u"&&(i[n]=e[n]);return i},Oj=function r(e,t,i){if(!t)return e;if(typeof t!="object"){if(uo(e))e.push(t);else if(e&&typeof e=="object")(i&&(i.plainObjects||i.allowPrototypes)||!Cv.call(Object.prototype,t))&&(e[t]=!0);else return[e,t];return e}if(!e||typeof e!="object")return[e].concat(t);var n=e;return uo(e)&&!uo(t)&&(n=G6(e,i)),uo(e)&&uo(t)?(t.forEach(function(s,o){if(Cv.call(e,o)){var a=e[o];a&&typeof a=="object"&&s&&typeof s=="object"?e[o]=r(a,s,i):e.push(s)}else e[o]=s}),e):Object.keys(t).reduce(function(s,o){var a=t[o];return Cv.call(s,o)?s[o]=r(s[o],a,i):s[o]=a,s},n)},Bj=function(e,t){return Object.keys(t).reduce(function(i,n){return i[n]=t[n],i},e)},Mj=function(r,e,t){var i=r.replace(/\+/g," ");if(t==="iso-8859-1")return i.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(i)}catch{return i}},Pj=function(e,t,i,n,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),i==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(p){return"%26%23"+parseInt(p.slice(2),16)+"%3B"});for(var a="",c=0;c<o.length;++c){var h=o.charCodeAt(c);if(h===45||h===46||h===95||h===126||h>=48&&h<=57||h>=65&&h<=90||h>=97&&h<=122||s===Nj.RFC1738&&(h===40||h===41)){a+=o.charAt(c);continue}if(h<128){a=a+Pi[h];continue}if(h<2048){a=a+(Pi[192|h>>6]+Pi[128|h&63]);continue}if(h<55296||h>=57344){a=a+(Pi[224|h>>12]+Pi[128|h>>6&63]+Pi[128|h&63]);continue}c+=1,h=65536+((h&1023)<<10|o.charCodeAt(c)&1023),a+=Pi[240|h>>18]+Pi[128|h>>12&63]+Pi[128|h>>6&63]+Pi[128|h&63]}return a},Rj=function(e){for(var t=[{obj:{o:e},prop:"o"}],i=[],n=0;n<t.length;++n)for(var s=t[n],o=s.obj[s.prop],a=Object.keys(o),c=0;c<a.length;++c){var h=a[c],p=o[h];typeof p=="object"&&p!==null&&i.indexOf(p)===-1&&(t.push({obj:o,prop:h}),i.push(p))}return Dj(t),e},Lj=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},Fj=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},Uj=function(e,t){return[].concat(e,t)},qj=function(e,t){if(uo(e)){for(var i=[],n=0;n<e.length;n+=1)i.push(t(e[n]));return i}return t(e)};K6.exports={arrayToObject:G6,assign:Bj,combine:Uj,compact:Rj,decode:Mj,encode:Pj,isBuffer:Fj,isRegExp:Lj,maybeMap:qj,merge:Oj}});var J6=M((_re,Y6)=>{"use strict";f();var $6=Q6(),Tv=xv(),yl=yp(),Vj=Object.prototype.hasOwnProperty,z6={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},co=Array.isArray,Hj=String.prototype.split,Qj=Array.prototype.push,W6=function(r,e){Qj.apply(r,co(e)?e:[e])},jj=Date.prototype.toISOString,k6=yl.default,Zt={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:Tv.encode,encodeValuesOnly:!1,format:k6,formatter:yl.formatters[k6],indices:!1,serializeDate:function(e){return jj.call(e)},skipNulls:!1,strictNullHandling:!1},Gj=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},Sv={},Kj=function r(e,t,i,n,s,o,a,c,h,p,A,D,O,T,V){for(var Q=e,j=V,ie=0,Y=!1;(j=j.get(Sv))!==void 0&&!Y;){var W=j.get(e);if(ie+=1,typeof W<"u"){if(W===ie)throw new RangeError("Cyclic object value");Y=!0}typeof j.get(Sv)>"u"&&(ie=0)}if(typeof a=="function"?Q=a(t,Q):Q instanceof Date?Q=p(Q):i==="comma"&&co(Q)&&(Q=Tv.maybeMap(Q,function(m){return m instanceof Date?p(m):m})),Q===null){if(n)return o&&!O?o(t,Zt.encoder,T,"key",A):t;Q=""}if(Gj(Q)||Tv.isBuffer(Q)){if(o){var $=O?t:o(t,Zt.encoder,T,"key",A);if(i==="comma"&&O){for(var k=Hj.call(String(Q),","),R="",F=0;F<k.length;++F)R+=(F===0?"":",")+D(o(k[F],Zt.encoder,T,"value",A));return[D($)+"="+R]}return[D($)+"="+D(o(Q,Zt.encoder,T,"value",A))]}return[D(t)+"="+D(String(Q))]}var K=[];if(typeof Q>"u")return K;var ce;if(i==="comma"&&co(Q))ce=[{value:Q.length>0?Q.join(",")||null:void 0}];else if(co(a))ce=a;else{var J=Object.keys(Q);ce=c?J.sort(c):J}for(var X=0;X<ce.length;++X){var E=ce[X],u=typeof E=="object"&&typeof E.value<"u"?E.value:Q[E];if(!(s&&u===null)){var d=co(Q)?typeof i=="function"?i(t,E):t:t+(h?"."+E:"["+E+"]");V.set(e,ie);var g=$6();g.set(Sv,V),W6(K,r(u,d,i,n,s,o,a,c,h,p,A,D,O,T,g))}}return K},zj=function(e){if(!e)return Zt;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var t=e.charset||Zt.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var i=yl.default;if(typeof e.format<"u"){if(!Vj.call(yl.formatters,e.format))throw new TypeError("Unknown format option provided.");i=e.format}var n=yl.formatters[i],s=Zt.filter;return(typeof e.filter=="function"||co(e.filter))&&(s=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Zt.addQueryPrefix,allowDots:typeof e.allowDots>"u"?Zt.allowDots:!!e.allowDots,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Zt.charsetSentinel,delimiter:typeof e.delimiter>"u"?Zt.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Zt.encode,encoder:typeof e.encoder=="function"?e.encoder:Zt.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Zt.encodeValuesOnly,filter:s,format:i,formatter:n,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Zt.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Zt.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Zt.strictNullHandling}};Y6.exports=function(r,e){var t=r,i=zj(e),n,s;typeof i.filter=="function"?(s=i.filter,t=s("",t)):co(i.filter)&&(s=i.filter,n=s);var o=[];if(typeof t!="object"||t===null)return"";var a;e&&e.arrayFormat in z6?a=e.arrayFormat:e&&"indices"in e?a=e.indices?"indices":"repeat":a="indices";var c=z6[a];n||(n=Object.keys(t)),i.sort&&n.sort(i.sort);for(var h=$6(),p=0;p<n.length;++p){var A=n[p];i.skipNulls&&t[A]===null||W6(o,Kj(t[A],A,c,i.strictNullHandling,i.skipNulls,i.encode?i.encoder:null,i.filter,i.sort,i.allowDots,i.serializeDate,i.format,i.formatter,i.encodeValuesOnly,i.charset,h))}var D=o.join(i.delimiter),O=i.addQueryPrefix===!0?"?":"";return i.charsetSentinel&&(i.charset==="iso-8859-1"?O+="utf8=%26%2310003%3B&":O+="utf8=%E2%9C%93&"),D.length>0?O+D:""}});var eD=M((Cre,Z6)=>{"use strict";f();var xu=xv(),Nv=Object.prototype.hasOwnProperty,kj=Array.isArray,Wt={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:xu.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},$j=function(r){return r.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})},X6=function(r,e){return r&&typeof r=="string"&&e.comma&&r.indexOf(",")>-1?r.split(","):r},Wj="utf8=%26%2310003%3B",Yj="utf8=%E2%9C%93",Jj=function(e,t){var i={},n=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=t.parameterLimit===1/0?void 0:t.parameterLimit,o=n.split(t.delimiter,s),a=-1,c,h=t.charset;if(t.charsetSentinel)for(c=0;c<o.length;++c)o[c].indexOf("utf8=")===0&&(o[c]===Yj?h="utf-8":o[c]===Wj&&(h="iso-8859-1"),a=c,c=o.length);for(c=0;c<o.length;++c)if(c!==a){var p=o[c],A=p.indexOf("]="),D=A===-1?p.indexOf("="):A+1,O,T;D===-1?(O=t.decoder(p,Wt.decoder,h,"key"),T=t.strictNullHandling?null:""):(O=t.decoder(p.slice(0,D),Wt.decoder,h,"key"),T=xu.maybeMap(X6(p.slice(D+1),t),function(V){return t.decoder(V,Wt.decoder,h,"value")})),T&&t.interpretNumericEntities&&h==="iso-8859-1"&&(T=$j(T)),p.indexOf("[]=")>-1&&(T=kj(T)?[T]:T),Nv.call(i,O)?i[O]=xu.combine(i[O],T):i[O]=T}return i},Xj=function(r,e,t,i){for(var n=i?e:X6(e,t),s=r.length-1;s>=0;--s){var o,a=r[s];if(a==="[]"&&t.parseArrays)o=[].concat(n);else{o=t.plainObjects?Object.create(null):{};var c=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,h=parseInt(c,10);!t.parseArrays&&c===""?o={0:n}:!isNaN(h)&&a!==c&&String(h)===c&&h>=0&&t.parseArrays&&h<=t.arrayLimit?(o=[],o[h]=n):c!=="__proto__"&&(o[c]=n)}n=o}return n},Zj=function(e,t,i,n){if(e){var s=i.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,c=i.depth>0&&o.exec(s),h=c?s.slice(0,c.index):s,p=[];if(h){if(!i.plainObjects&&Nv.call(Object.prototype,h)&&!i.allowPrototypes)return;p.push(h)}for(var A=0;i.depth>0&&(c=a.exec(s))!==null&&A<i.depth;){if(A+=1,!i.plainObjects&&Nv.call(Object.prototype,c[1].slice(1,-1))&&!i.allowPrototypes)return;p.push(c[1])}return c&&p.push("["+s.slice(c.index)+"]"),Xj(p,t,i,n)}},eG=function(e){if(!e)return Wt;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=typeof e.charset>"u"?Wt.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?Wt.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:Wt.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:Wt.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:Wt.arrayLimit,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Wt.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:Wt.comma,decoder:typeof e.decoder=="function"?e.decoder:Wt.decoder,delimiter:typeof e.delimiter=="string"||xu.isRegExp(e.delimiter)?e.delimiter:Wt.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:Wt.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:Wt.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:Wt.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:Wt.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Wt.strictNullHandling}};Z6.exports=function(r,e){var t=eG(e);if(r===""||r===null||typeof r>"u")return t.plainObjects?Object.create(null):{};for(var i=typeof r=="string"?Jj(r,t):r,n=t.plainObjects?Object.create(null):{},s=Object.keys(i),o=0;o<s.length;++o){var a=s[o],c=Zj(a,i[a],t,typeof r=="string");n=xu.merge(n,c,t)}return t.allowSparse===!0?n:xu.compact(n)}});var rD=M((Sre,tD)=>{"use strict";f();var tG=J6(),rG=eD(),iG=yp();tD.exports={formats:iG,parse:rG,stringify:tG}});var Dv=M(Lt=>{"use strict";f();Object.defineProperty(Lt,"__esModule",{value:!0});Lt.WALLET_PROVIDER_CALLBACK_PARAM_TX_SIGNED=Lt.WALLET_PROVIDER_CALLBACK_PARAM=Lt.WALLET_PROVIDER_SIGN_TRANSACTION_URL=Lt.WALLET_PROVIDER_SEND_TRANSACTION_URL=Lt.WALLET_PROVIDER_DISCONNECT_URL=Lt.WALLET_PROVIDER_CONNECT_URL=Lt.WALLET_PROVIDER_TESTNET=Lt.WALLET_PROVIDER_DEVNET=Lt.WALLET_PROVIDER_MAINNET=void 0;Lt.WALLET_PROVIDER_MAINNET="https://wallet.elrond.com/dapp/init";Lt.WALLET_PROVIDER_DEVNET="https://devnet-wallet.elrond.com/dapp/init";Lt.WALLET_PROVIDER_TESTNET="https://testnet-wallet.elrond.com/dapp/init";Lt.WALLET_PROVIDER_CONNECT_URL="hook/login";Lt.WALLET_PROVIDER_DISCONNECT_URL="hook/logout";Lt.WALLET_PROVIDER_SEND_TRANSACTION_URL="hook/transaction";Lt.WALLET_PROVIDER_SIGN_TRANSACTION_URL="hook/sign";Lt.WALLET_PROVIDER_CALLBACK_PARAM="walletProviderStatus";Lt.WALLET_PROVIDER_CALLBACK_PARAM_TX_SIGNED="transactionsSigned"});var iD=M(Su=>{"use strict";f();Object.defineProperty(Su,"__esModule",{value:!0});Su.ErrInvalidTxSignReturnValue=Su.Err=void 0;var mp=class extends Error{constructor(e,t){super(e),this.inner=void 0,this.inner=t}};Su.Err=mp;var Ov=class extends mp{constructor(){super("Invalid response in transaction sign return url")}};Su.ErrInvalidTxSignReturnValue=Ov});var nD=M(wp=>{"use strict";f();Object.defineProperty(wp,"__esModule",{value:!0});wp.PlainSignedTransaction=void 0;var Bv=class{constructor(e){this.nonce=0,this.value="",this.receiver="",this.sender="",this.gasPrice=0,this.gasLimit=0,this.data="",this.chainID="",this.version=0,this.options=void 0,this.signature="",Object.assign(this,e)}};wp.PlainSignedTransaction=Bv});var ml=M(Yn=>{"use strict";f();var Tu=Yn&&Yn.__awaiter||function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(p){try{h(i.next(p))}catch(A){o(A)}}function c(p){try{h(i.throw(p))}catch(A){o(A)}}function h(p){p.done?s(p.value):n(p.value).then(a,c)}h((i=i.apply(r,e||[])).next())})},nG=Yn&&Yn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Yn,"__esModule",{value:!0});Yn.WalletProvider=void 0;var sD=nG(rD()),Nu=Dv(),oD=iD(),sG=nD(),Du=class{constructor(e){this.walletUrl=e}login(e){return Tu(this,void 0,void 0,function*(){let t=this.buildWalletUrl({endpoint:Nu.WALLET_PROVIDER_CONNECT_URL,callbackUrl:e?.callbackUrl,params:{token:e?.token}});return yield this.redirect(t,e?.redirectDelayMilliseconds),t})}redirect(e,t){return Tu(this,void 0,void 0,function*(){t?yield this.redirectLater(e,t):this.redirectImmediately(e)})}redirectImmediately(e){window.location.href=e}redirectLater(e,t){return Tu(this,void 0,void 0,function*(){yield new Promise(i=>{setTimeout(()=>{window.location.href=e,i(!0)},t)})})}logout(e){return Tu(this,void 0,void 0,function*(){let t=this.buildWalletUrl({endpoint:Nu.WALLET_PROVIDER_DISCONNECT_URL,callbackUrl:e?.callbackUrl});return yield this.redirect(t,e?.redirectDelayMilliseconds),!0})}signTransactions(e,t){return Tu(this,void 0,void 0,function*(){let i={};e.map(s=>{let o=Du.prepareWalletTransaction(s);for(let a in o)o.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=[]),i[a].push(o[a])});let n=this.buildWalletUrl({endpoint:Nu.WALLET_PROVIDER_SIGN_TRANSACTION_URL,callbackUrl:t?.callbackUrl,params:i});window.location.href=n})}signTransaction(e,t){return Tu(this,void 0,void 0,function*(){yield this.signTransactions([e],t)})}getTransactionsFromWalletUrl(){let e=sD.default.parse(window.location.search.slice(1));return Du.isTxSignReturnSuccess(e)?this.getTxSignReturnValue(e):[]}static isTxSignReturnSuccess(e){return e.hasOwnProperty(Nu.WALLET_PROVIDER_CALLBACK_PARAM)&&e[Nu.WALLET_PROVIDER_CALLBACK_PARAM]===Nu.WALLET_PROVIDER_CALLBACK_PARAM_TX_SIGNED}getTxSignReturnValue(e){let t=["nonce","value","receiver","sender","gasPrice","gasLimit","data","chainID","version","signature"];for(let s of t)if(!e[s]||!Array.isArray(e[s]))throw new oD.ErrInvalidTxSignReturnValue;let i=e.nonce.length;for(let s of t)if(e[s].length!==i)throw new oD.ErrInvalidTxSignReturnValue;let n=[];for(let s=0;s<i;s++){let o=new sG.PlainSignedTransaction(Object.assign(Object.assign({nonce:parseInt(e.nonce[s]),value:e.value[s],receiver:e.receiver[s],sender:e.sender[s],gasPrice:parseInt(e.gasPrice[s]),gasLimit:parseInt(e.gasLimit[s]),data:e.data[s],chainID:e.chainID[s],version:parseInt(e.version[s])},e.options&&e.options[s]?{options:parseInt(e.options[s])}:{}),{signature:e.signature[s]}));n.push(o)}return n}static prepareWalletTransaction(e){let t=e.toPlainObject();return t.data&&(t.data=y.Buffer.from(t.data,"base64").toString()),t}buildWalletUrl(e){let t=e?.callbackUrl||window.location.href,i=sD.default.stringify(e.params||{}),n=i?`${i}&callbackUrl=${t}`:`callbackUrl=${t}`;return`${this.baseWalletUrl()}/${e.endpoint}?${n}`}baseWalletUrl(){let e=this.walletUrl.split("/"),t=e[0],i=e[2];return t+"//"+i}};Yn.WalletProvider=Du});var fD=M(()=>{f()});var dD=M((hD,Mv)=>{f();(function(r,e){"use strict";function t(E,u){if(!E)throw new Error(u||"Assertion failed")}function i(E,u){E.super_=u;var d=function(){};d.prototype=u.prototype,E.prototype=new d,E.prototype.constructor=E}function n(E,u,d){if(n.isBN(E))return E;this.negative=0,this.words=null,this.length=0,this.red=null,E!==null&&((u==="le"||u==="be")&&(d=u,u=10),this._init(E||0,u||10,d||"be"))}typeof r=="object"?r.exports=n:e.BN=n,n.BN=n,n.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=fD().Buffer}catch{}n.isBN=function(u){return u instanceof n?!0:u!==null&&typeof u=="object"&&u.constructor.wordSize===n.wordSize&&Array.isArray(u.words)},n.max=function(u,d){return u.cmp(d)>0?u:d},n.min=function(u,d){return u.cmp(d)<0?u:d},n.prototype._init=function(u,d,g){if(typeof u=="number")return this._initNumber(u,d,g);if(typeof u=="object")return this._initArray(u,d,g);d==="hex"&&(d=16),t(d===(d|0)&&d>=2&&d<=36),u=u.toString().replace(/\s+/g,"");var m=0;u[0]==="-"&&(m++,this.negative=1),m<u.length&&(d===16?this._parseHex(u,m,g):(this._parseBase(u,d,m),g==="le"&&this._initArray(this.toArray(),d,g)))},n.prototype._initNumber=function(u,d,g){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[u&67108863],this.length=1):u<4503599627370496?(this.words=[u&67108863,u/67108864&67108863],this.length=2):(t(u<9007199254740992),this.words=[u&67108863,u/67108864&67108863,1],this.length=3),g==="le"&&this._initArray(this.toArray(),d,g)},n.prototype._initArray=function(u,d,g){if(t(typeof u.length=="number"),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var w,x,N=0;if(g==="be")for(m=u.length-1,w=0;m>=0;m-=3)x=u[m]|u[m-1]<<8|u[m-2]<<16,this.words[w]|=x<<N&67108863,this.words[w+1]=x>>>26-N&67108863,N+=24,N>=26&&(N-=26,w++);else if(g==="le")for(m=0,w=0;m<u.length;m+=3)x=u[m]|u[m+1]<<8|u[m+2]<<16,this.words[w]|=x<<N&67108863,this.words[w+1]=x>>>26-N&67108863,N+=24,N>=26&&(N-=26,w++);return this._strip()};function o(E,u){var d=E.charCodeAt(u);if(d>=48&&d<=57)return d-48;if(d>=65&&d<=70)return d-55;if(d>=97&&d<=102)return d-87;t(!1,"Invalid character in "+E)}function a(E,u,d){var g=o(E,d);return d-1>=u&&(g|=o(E,d-1)<<4),g}n.prototype._parseHex=function(u,d,g){this.length=Math.ceil((u.length-d)/6),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var w=0,x=0,N;if(g==="be")for(m=u.length-1;m>=d;m-=2)N=a(u,d,m)<<w,this.words[x]|=N&67108863,w>=18?(w-=18,x+=1,this.words[x]|=N>>>26):w+=8;else{var I=u.length-d;for(m=I%2===0?d+1:d;m<u.length;m+=2)N=a(u,d,m)<<w,this.words[x]|=N&67108863,w>=18?(w-=18,x+=1,this.words[x]|=N>>>26):w+=8}this._strip()};function c(E,u,d,g){for(var m=0,w=0,x=Math.min(E.length,d),N=u;N<x;N++){var I=E.charCodeAt(N)-48;m*=g,I>=49?w=I-49+10:I>=17?w=I-17+10:w=I,t(I>=0&&w<g,"Invalid character"),m+=w}return m}n.prototype._parseBase=function(u,d,g){this.words=[0],this.length=1;for(var m=0,w=1;w<=67108863;w*=d)m++;m--,w=w/d|0;for(var x=u.length-g,N=x%m,I=Math.min(x,x-N)+g,l=0,C=g;C<I;C+=m)l=c(u,C,C+m,d),this.imuln(w),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(N!==0){var Z=1;for(l=c(u,C,u.length,d),C=0;C<N;C++)Z*=d;this.imuln(Z),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this._strip()},n.prototype.copy=function(u){u.words=new Array(this.length);for(var d=0;d<this.length;d++)u.words[d]=this.words[d];u.length=this.length,u.negative=this.negative,u.red=this.red};function h(E,u){E.words=u.words,E.length=u.length,E.negative=u.negative,E.red=u.red}if(n.prototype._move=function(u){h(u,this)},n.prototype.clone=function(){var u=new n(null);return this.copy(u),u},n.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},n.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},n.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{n.prototype[Symbol.for("nodejs.util.inspect.custom")]=p}catch{n.prototype.inspect=p}else n.prototype.inspect=p;function p(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var A=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],D=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],O=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(u,d){u=u||10,d=d|0||1;var g;if(u===16||u==="hex"){g="";for(var m=0,w=0,x=0;x<this.length;x++){var N=this.words[x],I=((N<<m|w)&16777215).toString(16);w=N>>>24-m&16777215,m+=2,m>=26&&(m-=26,x--),w!==0||x!==this.length-1?g=A[6-I.length]+I+g:g=I+g}for(w!==0&&(g=w.toString(16)+g);g.length%d!==0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}if(u===(u|0)&&u>=2&&u<=36){var l=D[u],C=O[u];g="";var Z=this.clone();for(Z.negative=0;!Z.isZero();){var te=Z.modrn(C).toString(u);Z=Z.idivn(C),Z.isZero()?g=te+g:g=A[l-te.length]+te+g}for(this.isZero()&&(g="0"+g);g.length%d!==0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}t(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var u=this.words[0];return this.length===2?u+=this.words[1]*67108864:this.length===3&&this.words[2]===1?u+=4503599627370496+this.words[1]*67108864:this.length>2&&t(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-u:u},n.prototype.toJSON=function(){return this.toString(16,2)},s&&(n.prototype.toBuffer=function(u,d){return this.toArrayLike(s,u,d)}),n.prototype.toArray=function(u,d){return this.toArrayLike(Array,u,d)};var T=function(u,d){return u.allocUnsafe?u.allocUnsafe(d):new u(d)};n.prototype.toArrayLike=function(u,d,g){this._strip();var m=this.byteLength(),w=g||Math.max(1,m);t(m<=w,"byte array longer than desired length"),t(w>0,"Requested array length <= 0");var x=T(u,w),N=d==="le"?"LE":"BE";return this["_toArrayLike"+N](x,m),x},n.prototype._toArrayLikeLE=function(u,d){for(var g=0,m=0,w=0,x=0;w<this.length;w++){var N=this.words[w]<<x|m;u[g++]=N&255,g<u.length&&(u[g++]=N>>8&255),g<u.length&&(u[g++]=N>>16&255),x===6?(g<u.length&&(u[g++]=N>>24&255),m=0,x=0):(m=N>>>24,x+=2)}if(g<u.length)for(u[g++]=m;g<u.length;)u[g++]=0},n.prototype._toArrayLikeBE=function(u,d){for(var g=u.length-1,m=0,w=0,x=0;w<this.length;w++){var N=this.words[w]<<x|m;u[g--]=N&255,g>=0&&(u[g--]=N>>8&255),g>=0&&(u[g--]=N>>16&255),x===6?(g>=0&&(u[g--]=N>>24&255),m=0,x=0):(m=N>>>24,x+=2)}if(g>=0)for(u[g--]=m;g>=0;)u[g--]=0},Math.clz32?n.prototype._countBits=function(u){return 32-Math.clz32(u)}:n.prototype._countBits=function(u){var d=u,g=0;return d>=4096&&(g+=13,d>>>=13),d>=64&&(g+=7,d>>>=7),d>=8&&(g+=4,d>>>=4),d>=2&&(g+=2,d>>>=2),g+d},n.prototype._zeroBits=function(u){if(u===0)return 26;var d=u,g=0;return d&8191||(g+=13,d>>>=13),d&127||(g+=7,d>>>=7),d&15||(g+=4,d>>>=4),d&3||(g+=2,d>>>=2),d&1||g++,g},n.prototype.bitLength=function(){var u=this.words[this.length-1],d=this._countBits(u);return(this.length-1)*26+d};function V(E){for(var u=new Array(E.bitLength()),d=0;d<u.length;d++){var g=d/26|0,m=d%26;u[d]=E.words[g]>>>m&1}return u}n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,d=0;d<this.length;d++){var g=this._zeroBits(this.words[d]);if(u+=g,g!==26)break}return u},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(u){return this.negative!==0?this.abs().inotn(u).iaddn(1):this.clone()},n.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return this.negative!==0},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var d=0;d<u.length;d++)this.words[d]=this.words[d]|u.words[d];return this._strip()},n.prototype.ior=function(u){return t((this.negative|u.negative)===0),this.iuor(u)},n.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},n.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},n.prototype.iuand=function(u){var d;this.length>u.length?d=u:d=this;for(var g=0;g<d.length;g++)this.words[g]=this.words[g]&u.words[g];return this.length=d.length,this._strip()},n.prototype.iand=function(u){return t((this.negative|u.negative)===0),this.iuand(u)},n.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},n.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},n.prototype.iuxor=function(u){var d,g;this.length>u.length?(d=this,g=u):(d=u,g=this);for(var m=0;m<g.length;m++)this.words[m]=d.words[m]^g.words[m];if(this!==d)for(;m<d.length;m++)this.words[m]=d.words[m];return this.length=d.length,this._strip()},n.prototype.ixor=function(u){return t((this.negative|u.negative)===0),this.iuxor(u)},n.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},n.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},n.prototype.inotn=function(u){t(typeof u=="number"&&u>=0);var d=Math.ceil(u/26)|0,g=u%26;this._expand(d),g>0&&d--;for(var m=0;m<d;m++)this.words[m]=~this.words[m]&67108863;return g>0&&(this.words[m]=~this.words[m]&67108863>>26-g),this._strip()},n.prototype.notn=function(u){return this.clone().inotn(u)},n.prototype.setn=function(u,d){t(typeof u=="number"&&u>=0);var g=u/26|0,m=u%26;return this._expand(g+1),d?this.words[g]=this.words[g]|1<<m:this.words[g]=this.words[g]&~(1<<m),this._strip()},n.prototype.iadd=function(u){var d;if(this.negative!==0&&u.negative===0)return this.negative=0,d=this.isub(u),this.negative^=1,this._normSign();if(this.negative===0&&u.negative!==0)return u.negative=0,d=this.isub(u),u.negative=1,d._normSign();var g,m;this.length>u.length?(g=this,m=u):(g=u,m=this);for(var w=0,x=0;x<m.length;x++)d=(g.words[x]|0)+(m.words[x]|0)+w,this.words[x]=d&67108863,w=d>>>26;for(;w!==0&&x<g.length;x++)d=(g.words[x]|0)+w,this.words[x]=d&67108863,w=d>>>26;if(this.length=g.length,w!==0)this.words[this.length]=w,this.length++;else if(g!==this)for(;x<g.length;x++)this.words[x]=g.words[x];return this},n.prototype.add=function(u){var d;return u.negative!==0&&this.negative===0?(u.negative=0,d=this.sub(u),u.negative^=1,d):u.negative===0&&this.negative!==0?(this.negative=0,d=u.sub(this),this.negative=1,d):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},n.prototype.isub=function(u){if(u.negative!==0){u.negative=0;var d=this.iadd(u);return u.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var g=this.cmp(u);if(g===0)return this.negative=0,this.length=1,this.words[0]=0,this;var m,w;g>0?(m=this,w=u):(m=u,w=this);for(var x=0,N=0;N<w.length;N++)d=(m.words[N]|0)-(w.words[N]|0)+x,x=d>>26,this.words[N]=d&67108863;for(;x!==0&&N<m.length;N++)d=(m.words[N]|0)+x,x=d>>26,this.words[N]=d&67108863;if(x===0&&N<m.length&&m!==this)for(;N<m.length;N++)this.words[N]=m.words[N];return this.length=Math.max(this.length,N),m!==this&&(this.negative=1),this._strip()},n.prototype.sub=function(u){return this.clone().isub(u)};function Q(E,u,d){d.negative=u.negative^E.negative;var g=E.length+u.length|0;d.length=g,g=g-1|0;var m=E.words[0]|0,w=u.words[0]|0,x=m*w,N=x&67108863,I=x/67108864|0;d.words[0]=N;for(var l=1;l<g;l++){for(var C=I>>>26,Z=I&67108863,te=Math.min(l,u.length-1),ee=Math.max(0,l-E.length+1);ee<=te;ee++){var ae=l-ee|0;m=E.words[ae]|0,w=u.words[ee]|0,x=m*w+Z,C+=x/67108864|0,Z=x&67108863}d.words[l]=Z|0,I=C|0}return I!==0?d.words[l]=I|0:d.length--,d._strip()}var j=function(u,d,g){var m=u.words,w=d.words,x=g.words,N=0,I,l,C,Z=m[0]|0,te=Z&8191,ee=Z>>>13,ae=m[1]|0,v=ae&8191,b=ae>>>13,S=m[2]|0,L=S&8191,B=S>>>13,U=m[3]|0,q=U&8191,P=U>>>13,G=m[4]|0,z=G&8191,H=G>>>13,ue=m[5]|0,he=ue&8191,de=ue>>>13,Me=m[6]|0,_e=Me&8191,xe=Me>>>13,Be=m[7]|0,Ae=Be&8191,Oe=Be>>>13,ns=m[8]|0,Je=ns&8191,Xe=ns>>>13,vr=m[9]|0,Ge=vr&8191,Le=vr>>>13,Ht=w[0]|0,be=Ht&8191,ht=Ht>>>13,lE=w[1]|0,dt=lE&8191,pt=lE>>>13,fE=w[2]|0,gt=fE&8191,yt=fE>>>13,hE=w[3]|0,mt=hE&8191,wt=hE>>>13,dE=w[4]|0,vt=dE&8191,Et=dE>>>13,pE=w[5]|0,At=pE&8191,It=pE>>>13,gE=w[6]|0,_t=gE&8191,bt=gE>>>13,yE=w[7]|0,Ct=yE&8191,xt=yE>>>13,mE=w[8]|0,St=mE&8191,Tt=mE>>>13,wE=w[9]|0,Nt=wE&8191,Dt=wE>>>13;g.negative=u.negative^d.negative,g.length=19,I=Math.imul(te,be),l=Math.imul(te,ht),l=l+Math.imul(ee,be)|0,C=Math.imul(ee,ht);var Gp=(N+I|0)+((l&8191)<<13)|0;N=(C+(l>>>13)|0)+(Gp>>>26)|0,Gp&=67108863,I=Math.imul(v,be),l=Math.imul(v,ht),l=l+Math.imul(b,be)|0,C=Math.imul(b,ht),I=I+Math.imul(te,dt)|0,l=l+Math.imul(te,pt)|0,l=l+Math.imul(ee,dt)|0,C=C+Math.imul(ee,pt)|0;var Kp=(N+I|0)+((l&8191)<<13)|0;N=(C+(l>>>13)|0)+(Kp>>>26)|0,Kp&=67108863,I=Math.imul(L,be),l=Math.imul(L,ht),l=l+Math.imul(B,be)|0,C=Math.imul(B,ht),I=I+Math.imul(v,dt)|0,l=l+Math.imul(v,pt)|0,l=l+Math.imul(b,dt)|0,C=C+Math.imul(b,pt)|0,I=I+Math.imul(te,gt)|0,l=l+Math.imul(te,yt)|0,l=l+Math.imul(ee,gt)|0,C=C+Math.imul(ee,yt)|0;var zp=(N+I|0)+((l&8191)<<13)|0;N=(C+(l>>>13)|0)+(zp>>>26)|0,zp&=67108863,I=Math.imul(q,be),l=Math.imul(q,ht),l=l+Math.imul(P,be)|0,C=Math.imul(P,ht),I=I+Math.imul(L,dt)|0,l=l+Math.imul(L,pt)|0,l=l+Math.imul(B,dt)|0,C=C+Math.imul(B,pt)|0,I=I+Math.imul(v,gt)|0,l=l+Math.imul(v,yt)|0,l=l+Math.imul(b,gt)|0,C=C+Math.imul(b,yt)|0,I=I+Math.imul(te,mt)|0,l=l+Math.imul(te,wt)|0,l=l+Math.imul(ee,mt)|0,C=C+Math.imul(ee,wt)|0;var kp=(N+I|0)+((l&8191)<<13)|0;N=(C+(l>>>13)|0)+(kp>>>26)|0,kp&=67108863,I=Math.imul(z,be),l=Math.imul(z,ht),l=l+Math.imul(H,be)|0,C=Math.imul(H,ht),I=I+Math.imul(q,dt)|0,l=l+Math.imul(q,pt)|0,l=l+Math.imul(P,dt)|0,C=C+Math.imul(P,pt)|0,I=I+Math.imul(L,gt)|0,l=l+Math.imul(L,yt)|0,l=l+Math.imul(B,gt)|0,C=C+Math.imul(B,yt)|0,I=I+Math.imul(v,mt)|0,l=l+Math.imul(v,wt)|0,l=l+Math.imul(b,mt)|0,C=C+Math.imul(b,wt)|0,I=I+Math.imul(te,vt)|0,l=l+Math.imul(te,Et)|0,l=l+Math.imul(ee,vt)|0,C=C+Math.imul(ee,Et)|0;var $p=(N+I|0)+((l&8191)<<13)|0;N=(C+(l>>>13)|0)+($p>>>26)|0,$p&=67108863,I=Math.imul(he,be),l=Math.imul(he,ht),l=l+Math.imul(de,be)|0,C=Math.imul(de,ht),I=I+Math.imul(z,dt)|0,l=l+Math.imul(z,pt)|0,l=l+Math.imul(H,dt)|0,C=C+Math.imul(H,pt)|0,I=I+Math.imul(q,gt)|0,l=l+Math.imul(q,yt)|0,l=l+Math.imul(P,gt)|0,C=C+Math.imul(P,yt)|0,I=I+Math.imul(L,mt)|0,l=l+Math.imul(L,wt)|0,l=l+Math.imul(B,mt)|0,C=C+Math.imul(B,wt)|0,I=I+Math.imul(v,vt)|0,l=l+Math.imul(v,Et)|0,l=l+Math.imul(b,vt)|0,C=C+Math.imul(b,Et)|0,I=I+Math.imul(te,At)|0,l=l+Math.imul(te,It)|0,l=l+Math.imul(ee,At)|0,C=C+Math.imul(ee,It)|0;var Wp=(N+I|0)+((l&8191)<<13)|0;N=(C+(l>>>13)|0)+(Wp>>>26)|0,Wp&=67108863,I=Math.imul(_e,be),l=Math.imul(_e,ht),l=l+Math.imul(xe,be)|0,C=Math.imul(xe,ht),I=I+Math.imul(he,dt)|0,l=l+Math.imul(he,pt)|0,l=l+Math.imul(de,dt)|0,C=C+Math.imul(de,pt)|0,I=I+Math.imul(z,gt)|0,l=l+Math.imul(z,yt)|0,l=l+Math.imul(H,gt)|0,C=C+Math.imul(H,yt)|0,I=I+Math.imul(q,mt)|0,l=l+Math.imul(q,wt)|0,l=l+Math.imul(P,mt)|0,C=C+Math.imul(P,wt)|0,I=I+Math.imul(L,vt)|0,l=l+Math.imul(L,Et)|0,l=l+Math.imul(B,vt)|0,C=C+Math.imul(B,Et)|0,I=I+Math.imul(v,At)|0,l=l+Math.imul(v,It)|0,l=l+Math.imul(b,At)|0,C=C+Math.imul(b,It)|0,I=I+Math.imul(te,_t)|0,l=l+Math.imul(te,bt)|0,l=l+Math.imul(ee,_t)|0,C=C+Math.imul(ee,bt)|0;var Yp=(N+I|0)+((l&8191)<<13)|0;N=(C+(l>>>13)|0)+(Yp>>>26)|0,Yp&=67108863,I=Math.imul(Ae,be),l=Math.imul(Ae,ht),l=l+Math.imul(Oe,be)|0,C=Math.imul(Oe,ht),I=I+Math.imul(_e,dt)|0,l=l+Math.imul(_e,pt)|0,l=l+Math.imul(xe,dt)|0,C=C+Math.imul(xe,pt)|0,I=I+Math.imul(he,gt)|0,l=l+Math.imul(he,yt)|0,l=l+Math.imul(de,gt)|0,C=C+Math.imul(de,yt)|0,I=I+Math.imul(z,mt)|0,l=l+Math.imul(z,wt)|0,l=l+Math.imul(H,mt)|0,C=C+Math.imul(H,wt)|0,I=I+Math.imul(q,vt)|0,l=l+Math.imul(q,Et)|0,l=l+Math.imul(P,vt)|0,C=C+Math.imul(P,Et)|0,I=I+Math.imul(L,At)|0,l=l+Math.imul(L,It)|0,l=l+Math.imul(B,At)|0,C=C+Math.imul(B,It)|0,I=I+Math.imul(v,_t)|0,l=l+Math.imul(v,bt)|0,l=l+Math.imul(b,_t)|0,C=C+Math.imul(b,bt)|0,I=I+Math.imul(te,Ct)|0,l=l+Math.imul(te,xt)|0,l=l+Math.imul(ee,Ct)|0,C=C+Math.imul(ee,xt)|0;var Jp=(N+I|0)+((l&8191)<<13)|0;N=(C+(l>>>13)|0)+(Jp>>>26)|0,Jp&=67108863,I=Math.imul(Je,be),l=Math.imul(Je,ht),l=l+Math.imul(Xe,be)|0,C=Math.imul(Xe,ht),I=I+Math.imul(Ae,dt)|0,l=l+Math.imul(Ae,pt)|0,l=l+Math.imul(Oe,dt)|0,C=C+Math.imul(Oe,pt)|0,I=I+Math.imul(_e,gt)|0,l=l+Math.imul(_e,yt)|0,l=l+Math.imul(xe,gt)|0,C=C+Math.imul(xe,yt)|0,I=I+Math.imul(he,mt)|0,l=l+Math.imul(he,wt)|0,l=l+Math.imul(de,mt)|0,C=C+Math.imul(de,wt)|0,I=I+Math.imul(z,vt)|0,l=l+Math.imul(z,Et)|0,l=l+Math.imul(H,vt)|0,C=C+Math.imul(H,Et)|0,I=I+Math.imul(q,At)|0,l=l+Math.imul(q,It)|0,l=l+Math.imul(P,At)|0,C=C+Math.imul(P,It)|0,I=I+Math.imul(L,_t)|0,l=l+Math.imul(L,bt)|0,l=l+Math.imul(B,_t)|0,C=C+Math.imul(B,bt)|0,I=I+Math.imul(v,Ct)|0,l=l+Math.imul(v,xt)|0,l=l+Math.imul(b,Ct)|0,C=C+Math.imul(b,xt)|0,I=I+Math.imul(te,St)|0,l=l+Math.imul(te,Tt)|0,l=l+Math.imul(ee,St)|0,C=C+Math.imul(ee,Tt)|0;var Xp=(N+I|0)+((l&8191)<<13)|0;N=(C+(l>>>13)|0)+(Xp>>>26)|0,Xp&=67108863,I=Math.imul(Ge,be),l=Math.imul(Ge,ht),l=l+Math.imul(Le,be)|0,C=Math.imul(Le,ht),I=I+Math.imul(Je,dt)|0,l=l+Math.imul(Je,pt)|0,l=l+Math.imul(Xe,dt)|0,C=C+Math.imul(Xe,pt)|0,I=I+Math.imul(Ae,gt)|0,l=l+Math.imul(Ae,yt)|0,l=l+Math.imul(Oe,gt)|0,C=C+Math.imul(Oe,yt)|0,I=I+Math.imul(_e,mt)|0,l=l+Math.imul(_e,wt)|0,l=l+Math.imul(xe,mt)|0,C=C+Math.imul(xe,wt)|0,I=I+Math.imul(he,vt)|0,l=l+Math.imul(he,Et)|0,l=l+Math.imul(de,vt)|0,C=C+Math.imul(de,Et)|0,I=I+Math.imul(z,At)|0,l=l+Math.imul(z,It)|0,l=l+Math.imul(H,At)|0,C=C+Math.imul(H,It)|0,I=I+Math.imul(q,_t)|0,l=l+Math.imul(q,bt)|0,l=l+Math.imul(P,_t)|0,C=C+Math.imul(P,bt)|0,I=I+Math.imul(L,Ct)|0,l=l+Math.imul(L,xt)|0,l=l+Math.imul(B,Ct)|0,C=C+Math.imul(B,xt)|0,I=I+Math.imul(v,St)|0,l=l+Math.imul(v,Tt)|0,l=l+Math.imul(b,St)|0,C=C+Math.imul(b,Tt)|0,I=I+Math.imul(te,Nt)|0,l=l+Math.imul(te,Dt)|0,l=l+Math.imul(ee,Nt)|0,C=C+Math.imul(ee,Dt)|0;var Zp=(N+I|0)+((l&8191)<<13)|0;N=(C+(l>>>13)|0)+(Zp>>>26)|0,Zp&=67108863,I=Math.imul(Ge,dt),l=Math.imul(Ge,pt),l=l+Math.imul(Le,dt)|0,C=Math.imul(Le,pt),I=I+Math.imul(Je,gt)|0,l=l+Math.imul(Je,yt)|0,l=l+Math.imul(Xe,gt)|0,C=C+Math.imul(Xe,yt)|0,I=I+Math.imul(Ae,mt)|0,l=l+Math.imul(Ae,wt)|0,l=l+Math.imul(Oe,mt)|0,C=C+Math.imul(Oe,wt)|0,I=I+Math.imul(_e,vt)|0,l=l+Math.imul(_e,Et)|0,l=l+Math.imul(xe,vt)|0,C=C+Math.imul(xe,Et)|0,I=I+Math.imul(he,At)|0,l=l+Math.imul(he,It)|0,l=l+Math.imul(de,At)|0,C=C+Math.imul(de,It)|0,I=I+Math.imul(z,_t)|0,l=l+Math.imul(z,bt)|0,l=l+Math.imul(H,_t)|0,C=C+Math.imul(H,bt)|0,I=I+Math.imul(q,Ct)|0,l=l+Math.imul(q,xt)|0,l=l+Math.imul(P,Ct)|0,C=C+Math.imul(P,xt)|0,I=I+Math.imul(L,St)|0,l=l+Math.imul(L,Tt)|0,l=l+Math.imul(B,St)|0,C=C+Math.imul(B,Tt)|0,I=I+Math.imul(v,Nt)|0,l=l+Math.imul(v,Dt)|0,l=l+Math.imul(b,Nt)|0,C=C+Math.imul(b,Dt)|0;var e0=(N+I|0)+((l&8191)<<13)|0;N=(C+(l>>>13)|0)+(e0>>>26)|0,e0&=67108863,I=Math.imul(Ge,gt),l=Math.imul(Ge,yt),l=l+Math.imul(Le,gt)|0,C=Math.imul(Le,yt),I=I+Math.imul(Je,mt)|0,l=l+Math.imul(Je,wt)|0,l=l+Math.imul(Xe,mt)|0,C=C+Math.imul(Xe,wt)|0,I=I+Math.imul(Ae,vt)|0,l=l+Math.imul(Ae,Et)|0,l=l+Math.imul(Oe,vt)|0,C=C+Math.imul(Oe,Et)|0,I=I+Math.imul(_e,At)|0,l=l+Math.imul(_e,It)|0,l=l+Math.imul(xe,At)|0,C=C+Math.imul(xe,It)|0,I=I+Math.imul(he,_t)|0,l=l+Math.imul(he,bt)|0,l=l+Math.imul(de,_t)|0,C=C+Math.imul(de,bt)|0,I=I+Math.imul(z,Ct)|0,l=l+Math.imul(z,xt)|0,l=l+Math.imul(H,Ct)|0,C=C+Math.imul(H,xt)|0,I=I+Math.imul(q,St)|0,l=l+Math.imul(q,Tt)|0,l=l+Math.imul(P,St)|0,C=C+Math.imul(P,Tt)|0,I=I+Math.imul(L,Nt)|0,l=l+Math.imul(L,Dt)|0,l=l+Math.imul(B,Nt)|0,C=C+Math.imul(B,Dt)|0;var t0=(N+I|0)+((l&8191)<<13)|0;N=(C+(l>>>13)|0)+(t0>>>26)|0,t0&=67108863,I=Math.imul(Ge,mt),l=Math.imul(Ge,wt),l=l+Math.imul(Le,mt)|0,C=Math.imul(Le,wt),I=I+Math.imul(Je,vt)|0,l=l+Math.imul(Je,Et)|0,l=l+Math.imul(Xe,vt)|0,C=C+Math.imul(Xe,Et)|0,I=I+Math.imul(Ae,At)|0,l=l+Math.imul(Ae,It)|0,l=l+Math.imul(Oe,At)|0,C=C+Math.imul(Oe,It)|0,I=I+Math.imul(_e,_t)|0,l=l+Math.imul(_e,bt)|0,l=l+Math.imul(xe,_t)|0,C=C+Math.imul(xe,bt)|0,I=I+Math.imul(he,Ct)|0,l=l+Math.imul(he,xt)|0,l=l+Math.imul(de,Ct)|0,C=C+Math.imul(de,xt)|0,I=I+Math.imul(z,St)|0,l=l+Math.imul(z,Tt)|0,l=l+Math.imul(H,St)|0,C=C+Math.imul(H,Tt)|0,I=I+Math.imul(q,Nt)|0,l=l+Math.imul(q,Dt)|0,l=l+Math.imul(P,Nt)|0,C=C+Math.imul(P,Dt)|0;var r0=(N+I|0)+((l&8191)<<13)|0;N=(C+(l>>>13)|0)+(r0>>>26)|0,r0&=67108863,I=Math.imul(Ge,vt),l=Math.imul(Ge,Et),l=l+Math.imul(Le,vt)|0,C=Math.imul(Le,Et),I=I+Math.imul(Je,At)|0,l=l+Math.imul(Je,It)|0,l=l+Math.imul(Xe,At)|0,C=C+Math.imul(Xe,It)|0,I=I+Math.imul(Ae,_t)|0,l=l+Math.imul(Ae,bt)|0,l=l+Math.imul(Oe,_t)|0,C=C+Math.imul(Oe,bt)|0,I=I+Math.imul(_e,Ct)|0,l=l+Math.imul(_e,xt)|0,l=l+Math.imul(xe,Ct)|0,C=C+Math.imul(xe,xt)|0,I=I+Math.imul(he,St)|0,l=l+Math.imul(he,Tt)|0,l=l+Math.imul(de,St)|0,C=C+Math.imul(de,Tt)|0,I=I+Math.imul(z,Nt)|0,l=l+Math.imul(z,Dt)|0,l=l+Math.imul(H,Nt)|0,C=C+Math.imul(H,Dt)|0;var i0=(N+I|0)+((l&8191)<<13)|0;N=(C+(l>>>13)|0)+(i0>>>26)|0,i0&=67108863,I=Math.imul(Ge,At),l=Math.imul(Ge,It),l=l+Math.imul(Le,At)|0,C=Math.imul(Le,It),I=I+Math.imul(Je,_t)|0,l=l+Math.imul(Je,bt)|0,l=l+Math.imul(Xe,_t)|0,C=C+Math.imul(Xe,bt)|0,I=I+Math.imul(Ae,Ct)|0,l=l+Math.imul(Ae,xt)|0,l=l+Math.imul(Oe,Ct)|0,C=C+Math.imul(Oe,xt)|0,I=I+Math.imul(_e,St)|0,l=l+Math.imul(_e,Tt)|0,l=l+Math.imul(xe,St)|0,C=C+Math.imul(xe,Tt)|0,I=I+Math.imul(he,Nt)|0,l=l+Math.imul(he,Dt)|0,l=l+Math.imul(de,Nt)|0,C=C+Math.imul(de,Dt)|0;var n0=(N+I|0)+((l&8191)<<13)|0;N=(C+(l>>>13)|0)+(n0>>>26)|0,n0&=67108863,I=Math.imul(Ge,_t),l=Math.imul(Ge,bt),l=l+Math.imul(Le,_t)|0,C=Math.imul(Le,bt),I=I+Math.imul(Je,Ct)|0,l=l+Math.imul(Je,xt)|0,l=l+Math.imul(Xe,Ct)|0,C=C+Math.imul(Xe,xt)|0,I=I+Math.imul(Ae,St)|0,l=l+Math.imul(Ae,Tt)|0,l=l+Math.imul(Oe,St)|0,C=C+Math.imul(Oe,Tt)|0,I=I+Math.imul(_e,Nt)|0,l=l+Math.imul(_e,Dt)|0,l=l+Math.imul(xe,Nt)|0,C=C+Math.imul(xe,Dt)|0;var s0=(N+I|0)+((l&8191)<<13)|0;N=(C+(l>>>13)|0)+(s0>>>26)|0,s0&=67108863,I=Math.imul(Ge,Ct),l=Math.imul(Ge,xt),l=l+Math.imul(Le,Ct)|0,C=Math.imul(Le,xt),I=I+Math.imul(Je,St)|0,l=l+Math.imul(Je,Tt)|0,l=l+Math.imul(Xe,St)|0,C=C+Math.imul(Xe,Tt)|0,I=I+Math.imul(Ae,Nt)|0,l=l+Math.imul(Ae,Dt)|0,l=l+Math.imul(Oe,Nt)|0,C=C+Math.imul(Oe,Dt)|0;var o0=(N+I|0)+((l&8191)<<13)|0;N=(C+(l>>>13)|0)+(o0>>>26)|0,o0&=67108863,I=Math.imul(Ge,St),l=Math.imul(Ge,Tt),l=l+Math.imul(Le,St)|0,C=Math.imul(Le,Tt),I=I+Math.imul(Je,Nt)|0,l=l+Math.imul(Je,Dt)|0,l=l+Math.imul(Xe,Nt)|0,C=C+Math.imul(Xe,Dt)|0;var a0=(N+I|0)+((l&8191)<<13)|0;N=(C+(l>>>13)|0)+(a0>>>26)|0,a0&=67108863,I=Math.imul(Ge,Nt),l=Math.imul(Ge,Dt),l=l+Math.imul(Le,Nt)|0,C=Math.imul(Le,Dt);var u0=(N+I|0)+((l&8191)<<13)|0;return N=(C+(l>>>13)|0)+(u0>>>26)|0,u0&=67108863,x[0]=Gp,x[1]=Kp,x[2]=zp,x[3]=kp,x[4]=$p,x[5]=Wp,x[6]=Yp,x[7]=Jp,x[8]=Xp,x[9]=Zp,x[10]=e0,x[11]=t0,x[12]=r0,x[13]=i0,x[14]=n0,x[15]=s0,x[16]=o0,x[17]=a0,x[18]=u0,N!==0&&(x[19]=N,g.length++),g};Math.imul||(j=Q);function ie(E,u,d){d.negative=u.negative^E.negative,d.length=E.length+u.length;for(var g=0,m=0,w=0;w<d.length-1;w++){var x=m;m=0;for(var N=g&67108863,I=Math.min(w,u.length-1),l=Math.max(0,w-E.length+1);l<=I;l++){var C=w-l,Z=E.words[C]|0,te=u.words[l]|0,ee=Z*te,ae=ee&67108863;x=x+(ee/67108864|0)|0,ae=ae+N|0,N=ae&67108863,x=x+(ae>>>26)|0,m+=x>>>26,x&=67108863}d.words[w]=N,g=x,x=m}return g!==0?d.words[w]=g:d.length--,d._strip()}function Y(E,u,d){return ie(E,u,d)}n.prototype.mulTo=function(u,d){var g,m=this.length+u.length;return this.length===10&&u.length===10?g=j(this,u,d):m<63?g=Q(this,u,d):m<1024?g=ie(this,u,d):g=Y(this,u,d),g};function W(E,u){this.x=E,this.y=u}W.prototype.makeRBT=function(u){for(var d=new Array(u),g=n.prototype._countBits(u)-1,m=0;m<u;m++)d[m]=this.revBin(m,g,u);return d},W.prototype.revBin=function(u,d,g){if(u===0||u===g-1)return u;for(var m=0,w=0;w<d;w++)m|=(u&1)<<d-w-1,u>>=1;return m},W.prototype.permute=function(u,d,g,m,w,x){for(var N=0;N<x;N++)m[N]=d[u[N]],w[N]=g[u[N]]},W.prototype.transform=function(u,d,g,m,w,x){this.permute(x,u,d,g,m,w);for(var N=1;N<w;N<<=1)for(var I=N<<1,l=Math.cos(2*Math.PI/I),C=Math.sin(2*Math.PI/I),Z=0;Z<w;Z+=I)for(var te=l,ee=C,ae=0;ae<N;ae++){var v=g[Z+ae],b=m[Z+ae],S=g[Z+ae+N],L=m[Z+ae+N],B=te*S-ee*L;L=te*L+ee*S,S=B,g[Z+ae]=v+S,m[Z+ae]=b+L,g[Z+ae+N]=v-S,m[Z+ae+N]=b-L,ae!==I&&(B=l*te-C*ee,ee=l*ee+C*te,te=B)}},W.prototype.guessLen13b=function(u,d){var g=Math.max(d,u)|1,m=g&1,w=0;for(g=g/2|0;g;g=g>>>1)w++;return 1<<w+1+m},W.prototype.conjugate=function(u,d,g){if(!(g<=1))for(var m=0;m<g/2;m++){var w=u[m];u[m]=u[g-m-1],u[g-m-1]=w,w=d[m],d[m]=-d[g-m-1],d[g-m-1]=-w}},W.prototype.normalize13b=function(u,d){for(var g=0,m=0;m<d/2;m++){var w=Math.round(u[2*m+1]/d)*8192+Math.round(u[2*m]/d)+g;u[m]=w&67108863,w<67108864?g=0:g=w/67108864|0}return u},W.prototype.convert13b=function(u,d,g,m){for(var w=0,x=0;x<d;x++)w=w+(u[x]|0),g[2*x]=w&8191,w=w>>>13,g[2*x+1]=w&8191,w=w>>>13;for(x=2*d;x<m;++x)g[x]=0;t(w===0),t((w&-8192)===0)},W.prototype.stub=function(u){for(var d=new Array(u),g=0;g<u;g++)d[g]=0;return d},W.prototype.mulp=function(u,d,g){var m=2*this.guessLen13b(u.length,d.length),w=this.makeRBT(m),x=this.stub(m),N=new Array(m),I=new Array(m),l=new Array(m),C=new Array(m),Z=new Array(m),te=new Array(m),ee=g.words;ee.length=m,this.convert13b(u.words,u.length,N,m),this.convert13b(d.words,d.length,C,m),this.transform(N,x,I,l,m,w),this.transform(C,x,Z,te,m,w);for(var ae=0;ae<m;ae++){var v=I[ae]*Z[ae]-l[ae]*te[ae];l[ae]=I[ae]*te[ae]+l[ae]*Z[ae],I[ae]=v}return this.conjugate(I,l,m),this.transform(I,l,ee,x,m,w),this.conjugate(ee,x,m),this.normalize13b(ee,m),g.negative=u.negative^d.negative,g.length=u.length+d.length,g._strip()},n.prototype.mul=function(u){var d=new n(null);return d.words=new Array(this.length+u.length),this.mulTo(u,d)},n.prototype.mulf=function(u){var d=new n(null);return d.words=new Array(this.length+u.length),Y(this,u,d)},n.prototype.imul=function(u){return this.clone().mulTo(u,this)},n.prototype.imuln=function(u){var d=u<0;d&&(u=-u),t(typeof u=="number"),t(u<67108864);for(var g=0,m=0;m<this.length;m++){var w=(this.words[m]|0)*u,x=(w&67108863)+(g&67108863);g>>=26,g+=w/67108864|0,g+=x>>>26,this.words[m]=x&67108863}return g!==0&&(this.words[m]=g,this.length++),d?this.ineg():this},n.prototype.muln=function(u){return this.clone().imuln(u)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(u){var d=V(u);if(d.length===0)return new n(1);for(var g=this,m=0;m<d.length&&d[m]===0;m++,g=g.sqr());if(++m<d.length)for(var w=g.sqr();m<d.length;m++,w=w.sqr())d[m]!==0&&(g=g.mul(w));return g},n.prototype.iushln=function(u){t(typeof u=="number"&&u>=0);var d=u%26,g=(u-d)/26,m=67108863>>>26-d<<26-d,w;if(d!==0){var x=0;for(w=0;w<this.length;w++){var N=this.words[w]&m,I=(this.words[w]|0)-N<<d;this.words[w]=I|x,x=N>>>26-d}x&&(this.words[w]=x,this.length++)}if(g!==0){for(w=this.length-1;w>=0;w--)this.words[w+g]=this.words[w];for(w=0;w<g;w++)this.words[w]=0;this.length+=g}return this._strip()},n.prototype.ishln=function(u){return t(this.negative===0),this.iushln(u)},n.prototype.iushrn=function(u,d,g){t(typeof u=="number"&&u>=0);var m;d?m=(d-d%26)/26:m=0;var w=u%26,x=Math.min((u-w)/26,this.length),N=67108863^67108863>>>w<<w,I=g;if(m-=x,m=Math.max(0,m),I){for(var l=0;l<x;l++)I.words[l]=this.words[l];I.length=x}if(x!==0)if(this.length>x)for(this.length-=x,l=0;l<this.length;l++)this.words[l]=this.words[l+x];else this.words[0]=0,this.length=1;var C=0;for(l=this.length-1;l>=0&&(C!==0||l>=m);l--){var Z=this.words[l]|0;this.words[l]=C<<26-w|Z>>>w,C=Z&N}return I&&C!==0&&(I.words[I.length++]=C),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},n.prototype.ishrn=function(u,d,g){return t(this.negative===0),this.iushrn(u,d,g)},n.prototype.shln=function(u){return this.clone().ishln(u)},n.prototype.ushln=function(u){return this.clone().iushln(u)},n.prototype.shrn=function(u){return this.clone().ishrn(u)},n.prototype.ushrn=function(u){return this.clone().iushrn(u)},n.prototype.testn=function(u){t(typeof u=="number"&&u>=0);var d=u%26,g=(u-d)/26,m=1<<d;if(this.length<=g)return!1;var w=this.words[g];return!!(w&m)},n.prototype.imaskn=function(u){t(typeof u=="number"&&u>=0);var d=u%26,g=(u-d)/26;if(t(this.negative===0,"imaskn works only with positive numbers"),this.length<=g)return this;if(d!==0&&g++,this.length=Math.min(g,this.length),d!==0){var m=67108863^67108863>>>d<<d;this.words[this.length-1]&=m}return this._strip()},n.prototype.maskn=function(u){return this.clone().imaskn(u)},n.prototype.iaddn=function(u){return t(typeof u=="number"),t(u<67108864),u<0?this.isubn(-u):this.negative!==0?this.length===1&&(this.words[0]|0)<=u?(this.words[0]=u-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},n.prototype._iaddn=function(u){this.words[0]+=u;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},n.prototype.isubn=function(u){if(t(typeof u=="number"),t(u<67108864),u<0)return this.iaddn(-u);if(this.negative!==0)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this._strip()},n.prototype.addn=function(u){return this.clone().iaddn(u)},n.prototype.subn=function(u){return this.clone().isubn(u)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(u,d,g){var m=u.length+g,w;this._expand(m);var x,N=0;for(w=0;w<u.length;w++){x=(this.words[w+g]|0)+N;var I=(u.words[w]|0)*d;x-=I&67108863,N=(x>>26)-(I/67108864|0),this.words[w+g]=x&67108863}for(;w<this.length-g;w++)x=(this.words[w+g]|0)+N,N=x>>26,this.words[w+g]=x&67108863;if(N===0)return this._strip();for(t(N===-1),N=0,w=0;w<this.length;w++)x=-(this.words[w]|0)+N,N=x>>26,this.words[w]=x&67108863;return this.negative=1,this._strip()},n.prototype._wordDiv=function(u,d){var g=this.length-u.length,m=this.clone(),w=u,x=w.words[w.length-1]|0,N=this._countBits(x);g=26-N,g!==0&&(w=w.ushln(g),m.iushln(g),x=w.words[w.length-1]|0);var I=m.length-w.length,l;if(d!=="mod"){l=new n(null),l.length=I+1,l.words=new Array(l.length);for(var C=0;C<l.length;C++)l.words[C]=0}var Z=m.clone()._ishlnsubmul(w,1,I);Z.negative===0&&(m=Z,l&&(l.words[I]=1));for(var te=I-1;te>=0;te--){var ee=(m.words[w.length+te]|0)*67108864+(m.words[w.length+te-1]|0);for(ee=Math.min(ee/x|0,67108863),m._ishlnsubmul(w,ee,te);m.negative!==0;)ee--,m.negative=0,m._ishlnsubmul(w,1,te),m.isZero()||(m.negative^=1);l&&(l.words[te]=ee)}return l&&l._strip(),m._strip(),d!=="div"&&g!==0&&m.iushrn(g),{div:l||null,mod:m}},n.prototype.divmod=function(u,d,g){if(t(!u.isZero()),this.isZero())return{div:new n(0),mod:new n(0)};var m,w,x;return this.negative!==0&&u.negative===0?(x=this.neg().divmod(u,d),d!=="mod"&&(m=x.div.neg()),d!=="div"&&(w=x.mod.neg(),g&&w.negative!==0&&w.iadd(u)),{div:m,mod:w}):this.negative===0&&u.negative!==0?(x=this.divmod(u.neg(),d),d!=="mod"&&(m=x.div.neg()),{div:m,mod:x.mod}):this.negative&u.negative?(x=this.neg().divmod(u.neg(),d),d!=="div"&&(w=x.mod.neg(),g&&w.negative!==0&&w.isub(u)),{div:x.div,mod:w}):u.length>this.length||this.cmp(u)<0?{div:new n(0),mod:this}:u.length===1?d==="div"?{div:this.divn(u.words[0]),mod:null}:d==="mod"?{div:null,mod:new n(this.modrn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new n(this.modrn(u.words[0]))}:this._wordDiv(u,d)},n.prototype.div=function(u){return this.divmod(u,"div",!1).div},n.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},n.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},n.prototype.divRound=function(u){var d=this.divmod(u);if(d.mod.isZero())return d.div;var g=d.div.negative!==0?d.mod.isub(u):d.mod,m=u.ushrn(1),w=u.andln(1),x=g.cmp(m);return x<0||w===1&&x===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},n.prototype.modrn=function(u){var d=u<0;d&&(u=-u),t(u<=67108863);for(var g=(1<<26)%u,m=0,w=this.length-1;w>=0;w--)m=(g*m+(this.words[w]|0))%u;return d?-m:m},n.prototype.modn=function(u){return this.modrn(u)},n.prototype.idivn=function(u){var d=u<0;d&&(u=-u),t(u<=67108863);for(var g=0,m=this.length-1;m>=0;m--){var w=(this.words[m]|0)+g*67108864;this.words[m]=w/u|0,g=w%u}return this._strip(),d?this.ineg():this},n.prototype.divn=function(u){return this.clone().idivn(u)},n.prototype.egcd=function(u){t(u.negative===0),t(!u.isZero());var d=this,g=u.clone();d.negative!==0?d=d.umod(u):d=d.clone();for(var m=new n(1),w=new n(0),x=new n(0),N=new n(1),I=0;d.isEven()&&g.isEven();)d.iushrn(1),g.iushrn(1),++I;for(var l=g.clone(),C=d.clone();!d.isZero();){for(var Z=0,te=1;!(d.words[0]&te)&&Z<26;++Z,te<<=1);if(Z>0)for(d.iushrn(Z);Z-- >0;)(m.isOdd()||w.isOdd())&&(m.iadd(l),w.isub(C)),m.iushrn(1),w.iushrn(1);for(var ee=0,ae=1;!(g.words[0]&ae)&&ee<26;++ee,ae<<=1);if(ee>0)for(g.iushrn(ee);ee-- >0;)(x.isOdd()||N.isOdd())&&(x.iadd(l),N.isub(C)),x.iushrn(1),N.iushrn(1);d.cmp(g)>=0?(d.isub(g),m.isub(x),w.isub(N)):(g.isub(d),x.isub(m),N.isub(w))}return{a:x,b:N,gcd:g.iushln(I)}},n.prototype._invmp=function(u){t(u.negative===0),t(!u.isZero());var d=this,g=u.clone();d.negative!==0?d=d.umod(u):d=d.clone();for(var m=new n(1),w=new n(0),x=g.clone();d.cmpn(1)>0&&g.cmpn(1)>0;){for(var N=0,I=1;!(d.words[0]&I)&&N<26;++N,I<<=1);if(N>0)for(d.iushrn(N);N-- >0;)m.isOdd()&&m.iadd(x),m.iushrn(1);for(var l=0,C=1;!(g.words[0]&C)&&l<26;++l,C<<=1);if(l>0)for(g.iushrn(l);l-- >0;)w.isOdd()&&w.iadd(x),w.iushrn(1);d.cmp(g)>=0?(d.isub(g),m.isub(w)):(g.isub(d),w.isub(m))}var Z;return d.cmpn(1)===0?Z=m:Z=w,Z.cmpn(0)<0&&Z.iadd(u),Z},n.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var d=this.clone(),g=u.clone();d.negative=0,g.negative=0;for(var m=0;d.isEven()&&g.isEven();m++)d.iushrn(1),g.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;g.isEven();)g.iushrn(1);var w=d.cmp(g);if(w<0){var x=d;d=g,g=x}else if(w===0||g.cmpn(1)===0)break;d.isub(g)}while(!0);return g.iushln(m)},n.prototype.invm=function(u){return this.egcd(u).a.umod(u)},n.prototype.isEven=function(){return(this.words[0]&1)===0},n.prototype.isOdd=function(){return(this.words[0]&1)===1},n.prototype.andln=function(u){return this.words[0]&u},n.prototype.bincn=function(u){t(typeof u=="number");var d=u%26,g=(u-d)/26,m=1<<d;if(this.length<=g)return this._expand(g+1),this.words[g]|=m,this;for(var w=m,x=g;w!==0&&x<this.length;x++){var N=this.words[x]|0;N+=w,w=N>>>26,N&=67108863,this.words[x]=N}return w!==0&&(this.words[x]=w,this.length++),this},n.prototype.isZero=function(){return this.length===1&&this.words[0]===0},n.prototype.cmpn=function(u){var d=u<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this._strip();var g;if(this.length>1)g=1;else{d&&(u=-u),t(u<=67108863,"Number is too big");var m=this.words[0]|0;g=m===u?0:m<u?-1:1}return this.negative!==0?-g|0:g},n.prototype.cmp=function(u){if(this.negative!==0&&u.negative===0)return-1;if(this.negative===0&&u.negative!==0)return 1;var d=this.ucmp(u);return this.negative!==0?-d|0:d},n.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var d=0,g=this.length-1;g>=0;g--){var m=this.words[g]|0,w=u.words[g]|0;if(m!==w){m<w?d=-1:m>w&&(d=1);break}}return d},n.prototype.gtn=function(u){return this.cmpn(u)===1},n.prototype.gt=function(u){return this.cmp(u)===1},n.prototype.gten=function(u){return this.cmpn(u)>=0},n.prototype.gte=function(u){return this.cmp(u)>=0},n.prototype.ltn=function(u){return this.cmpn(u)===-1},n.prototype.lt=function(u){return this.cmp(u)===-1},n.prototype.lten=function(u){return this.cmpn(u)<=0},n.prototype.lte=function(u){return this.cmp(u)<=0},n.prototype.eqn=function(u){return this.cmpn(u)===0},n.prototype.eq=function(u){return this.cmp(u)===0},n.red=function(u){return new J(u)},n.prototype.toRed=function(u){return t(!this.red,"Already a number in reduction context"),t(this.negative===0,"red works only with positives"),u.convertTo(this)._forceRed(u)},n.prototype.fromRed=function(){return t(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(u){return this.red=u,this},n.prototype.forceRed=function(u){return t(!this.red,"Already a number in reduction context"),this._forceRed(u)},n.prototype.redAdd=function(u){return t(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},n.prototype.redIAdd=function(u){return t(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},n.prototype.redSub=function(u){return t(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},n.prototype.redISub=function(u){return t(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},n.prototype.redShl=function(u){return t(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},n.prototype.redMul=function(u){return t(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},n.prototype.redIMul=function(u){return t(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},n.prototype.redSqr=function(){return t(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return t(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return t(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return t(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return t(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(u){return t(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var $={k256:null,p224:null,p192:null,p25519:null};function k(E,u){this.name=E,this.p=new n(u,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}k.prototype._tmp=function(){var u=new n(null);return u.words=new Array(Math.ceil(this.n/13)),u},k.prototype.ireduce=function(u){var d=u,g;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),g=d.bitLength();while(g>this.n);var m=g<this.n?-1:d.ucmp(this.p);return m===0?(d.words[0]=0,d.length=1):m>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},k.prototype.split=function(u,d){u.iushrn(this.n,0,d)},k.prototype.imulK=function(u){return u.imul(this.k)};function R(){k.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(R,k),R.prototype.split=function(u,d){for(var g=4194303,m=Math.min(u.length,9),w=0;w<m;w++)d.words[w]=u.words[w];if(d.length=m,u.length<=9){u.words[0]=0,u.length=1;return}var x=u.words[9];for(d.words[d.length++]=x&g,w=10;w<u.length;w++){var N=u.words[w]|0;u.words[w-10]=(N&g)<<4|x>>>22,x=N}x>>>=22,u.words[w-10]=x,x===0&&u.length>10?u.length-=10:u.length-=9},R.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var d=0,g=0;g<u.length;g++){var m=u.words[g]|0;d+=m*977,u.words[g]=d&67108863,d=m*64+(d/67108864|0)}return u.words[u.length-1]===0&&(u.length--,u.words[u.length-1]===0&&u.length--),u};function F(){k.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(F,k);function K(){k.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(K,k);function ce(){k.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(ce,k),ce.prototype.imulK=function(u){for(var d=0,g=0;g<u.length;g++){var m=(u.words[g]|0)*19+d,w=m&67108863;m>>>=26,u.words[g]=w,d=m}return d!==0&&(u.words[u.length++]=d),u},n._prime=function(u){if($[u])return $[u];var d;if(u==="k256")d=new R;else if(u==="p224")d=new F;else if(u==="p192")d=new K;else if(u==="p25519")d=new ce;else throw new Error("Unknown prime "+u);return $[u]=d,d};function J(E){if(typeof E=="string"){var u=n._prime(E);this.m=u.p,this.prime=u}else t(E.gtn(1),"modulus must be greater than 1"),this.m=E,this.prime=null}J.prototype._verify1=function(u){t(u.negative===0,"red works only with positives"),t(u.red,"red works only with red numbers")},J.prototype._verify2=function(u,d){t((u.negative|d.negative)===0,"red works only with positives"),t(u.red&&u.red===d.red,"red works only with red numbers")},J.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):(h(u,u.umod(this.m)._forceRed(this)),u)},J.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},J.prototype.add=function(u,d){this._verify2(u,d);var g=u.add(d);return g.cmp(this.m)>=0&&g.isub(this.m),g._forceRed(this)},J.prototype.iadd=function(u,d){this._verify2(u,d);var g=u.iadd(d);return g.cmp(this.m)>=0&&g.isub(this.m),g},J.prototype.sub=function(u,d){this._verify2(u,d);var g=u.sub(d);return g.cmpn(0)<0&&g.iadd(this.m),g._forceRed(this)},J.prototype.isub=function(u,d){this._verify2(u,d);var g=u.isub(d);return g.cmpn(0)<0&&g.iadd(this.m),g},J.prototype.shl=function(u,d){return this._verify1(u),this.imod(u.ushln(d))},J.prototype.imul=function(u,d){return this._verify2(u,d),this.imod(u.imul(d))},J.prototype.mul=function(u,d){return this._verify2(u,d),this.imod(u.mul(d))},J.prototype.isqr=function(u){return this.imul(u,u.clone())},J.prototype.sqr=function(u){return this.mul(u,u)},J.prototype.sqrt=function(u){if(u.isZero())return u.clone();var d=this.m.andln(3);if(t(d%2===1),d===3){var g=this.m.add(new n(1)).iushrn(2);return this.pow(u,g)}for(var m=this.m.subn(1),w=0;!m.isZero()&&m.andln(1)===0;)w++,m.iushrn(1);t(!m.isZero());var x=new n(1).toRed(this),N=x.redNeg(),I=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new n(2*l*l).toRed(this);this.pow(l,I).cmp(N)!==0;)l.redIAdd(N);for(var C=this.pow(l,m),Z=this.pow(u,m.addn(1).iushrn(1)),te=this.pow(u,m),ee=w;te.cmp(x)!==0;){for(var ae=te,v=0;ae.cmp(x)!==0;v++)ae=ae.redSqr();t(v<ee);var b=this.pow(C,new n(1).iushln(ee-v-1));Z=Z.redMul(b),C=b.redSqr(),te=te.redMul(C),ee=v}return Z},J.prototype.invm=function(u){var d=u._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},J.prototype.pow=function(u,d){if(d.isZero())return new n(1).toRed(this);if(d.cmpn(1)===0)return u.clone();var g=4,m=new Array(1<<g);m[0]=new n(1).toRed(this),m[1]=u;for(var w=2;w<m.length;w++)m[w]=this.mul(m[w-1],u);var x=m[0],N=0,I=0,l=d.bitLength()%26;for(l===0&&(l=26),w=d.length-1;w>=0;w--){for(var C=d.words[w],Z=l-1;Z>=0;Z--){var te=C>>Z&1;if(x!==m[0]&&(x=this.sqr(x)),te===0&&N===0){I=0;continue}N<<=1,N|=te,I++,!(I!==g&&(w!==0||Z!==0))&&(x=this.mul(x,m[N]),I=0,N=0)}l=26}return x},J.prototype.convertTo=function(u){var d=u.umod(this.m);return d===u?d.clone():d},J.prototype.convertFrom=function(u){var d=u.clone();return d.red=null,d},n.mont=function(u){return new X(u)};function X(E){J.call(this,E),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(X,J),X.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},X.prototype.convertFrom=function(u){var d=this.imod(u.mul(this.rinv));return d.red=null,d},X.prototype.imul=function(u,d){if(u.isZero()||d.isZero())return u.words[0]=0,u.length=1,u;var g=u.imul(d),m=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=g.isub(m).iushrn(this.shift),x=w;return w.cmp(this.m)>=0?x=w.isub(this.m):w.cmpn(0)<0&&(x=w.iadd(this.m)),x._forceRed(this)},X.prototype.mul=function(u,d){if(u.isZero()||d.isZero())return new n(0)._forceRed(this);var g=u.mul(d),m=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=g.isub(m).iushrn(this.shift),x=w;return w.cmp(this.m)>=0?x=w.isub(this.m):w.cmpn(0)<0&&(x=w.iadd(this.m)),x._forceRed(this)},X.prototype.invm=function(u){var d=this.imod(u._invmp(this.m).mul(this.r2));return d._forceRed(this)}})(typeof Mv>"u"||Mv,hD)});var pD=M(Ap=>{"use strict";f();Object.defineProperty(Ap,"__esModule",{value:!0});Ap.TransactionStatus=void 0;var wl=class{constructor(e){this.status=(e||"").toLowerCase()}static createUnknown(){return new wl("unknown")}isPending(){return this.status=="received"||this.status=="pending"}isExecuted(){return this.isSuccessful()||this.isFailed()||this.isInvalid()}isSuccessful(){return this.status=="executed"||this.status=="success"||this.status=="successful"}isFailed(){return this.status=="fail"||this.status=="failed"||this.status=="unsuccessful"||this.isInvalid()}isInvalid(){return this.status=="invalid"}toString(){return this.status}valueOf(){return this.status}equals(e){return e?this.status==e.status:!1}};Ap.TransactionStatus=wl});var Mu=M(Yt=>{"use strict";f();var oG=Yt&&Yt.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),aG=Yt&&Yt.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),uG=Yt&&Yt.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&oG(e,r,t);return aG(e,r),e};Object.defineProperty(Yt,"__esModule",{value:!0});Yt.zeroPadStringIfOddLength=Yt.isPaddedHex=Yt.numberToPaddedHex=Yt.Nonce=Yt.Address=void 0;var gD=uG(Kl()),cG="erd",vl=class{constructor(e){this.value=e}static fromPubkey(e){let t=gD.toWords(e),i=gD.encode(cG,t);return new vl(i)}bech32(){return this.value}toString(){return this.bech32()}};Yt.Address=vl;var Pv=class{constructor(e){this.value=e}valueOf(){return this.value}hex(){return yD(this.value)}};Yt.Nonce=Pv;function yD(r){let e=r.toString(16);return mD(e)}Yt.numberToPaddedHex=yD;function lG(r){r=r||"";let e=y.Buffer.from(r,"hex").toString("hex");return r.toUpperCase()==e.toUpperCase()}Yt.isPaddedHex=lG;function mD(r){return r=r||"",r.length%2==1?"0"+r:r}Yt.zeroPadStringIfOddLength=mD});var vD=M(Ip=>{"use strict";f();Object.defineProperty(Ip,"__esModule",{value:!0});Ip.TransactionReceipt=void 0;var wD=Mu(),El=class{constructor(){this.value="",this.sender=new wD.Address(""),this.data="",this.hash=""}static fromHttpResponse(e){let t=new El;return t.value=(e.value||0).toString(),t.sender=new wD.Address(e.sender),t.data=e.data,t.hash=e.txHash,t}};Ip.TransactionReceipt=El});var ED=M(Ri=>{"use strict";f();Object.defineProperty(Ri,"__esModule",{value:!0});Ri.ErrContractQuery=Ri.ErrNetworkProvider=Ri.ErrUnexpectedCondition=Ri.Err=void 0;var Pu=class extends Error{constructor(e,t){super(e),this.inner=void 0,this.inner=t}};Ri.Err=Pu;var Rv=class extends Pu{constructor(e){super(`Unexpected condition: [${e}]`)}};Ri.ErrUnexpectedCondition=Rv;var Lv=class extends Pu{constructor(e,t,i){let n=`Request error on url [${e}]: [${t}]`;super(n,i)}};Ri.ErrNetworkProvider=Lv;var Fv=class extends Pu{constructor(e){super(e.message.replace("executeQuery:",""))}};Ri.ErrContractQuery=Fv});var ID=M(Ru=>{"use strict";f();Object.defineProperty(Ru,"__esModule",{value:!0});Ru.TransactionEventTopic=Ru.TransactionEvent=void 0;var AD=Mu(),Al=class{constructor(e){this.address=new AD.Address(""),this.identifier="",this.topics=[],this.data="",Object.assign(this,e)}static fromHttpResponse(e){let t=new Al;return t.address=new AD.Address(e.address),t.identifier=e.identifier||"",t.topics=(e.topics||[]).map(i=>new _p(i)),t.data=y.Buffer.from(e.data||"","base64").toString(),t}findFirstOrNoneTopic(e){return this.topics.filter(t=>e(t))[0]}getLastTopic(){return this.topics[this.topics.length-1]}};Ru.TransactionEvent=Al;var _p=class{constructor(e){this.raw=y.Buffer.from(e||"","base64")}toString(){return this.raw.toString("utf8")}hex(){return this.raw.toString("hex")}valueOf(){return this.raw}};Ru.TransactionEventTopic=_p});var Uv=M(bp=>{"use strict";f();Object.defineProperty(bp,"__esModule",{value:!0});bp.TransactionLogs=void 0;var fG=ED(),_D=Mu(),hG=ID(),Il=class{constructor(e){this.address=new _D.Address(""),this.events=[],Object.assign(this,e)}static fromHttpResponse(e){let t=new Il;return t.address=new _D.Address(e.address),t.events=(e.events||[]).map(i=>hG.TransactionEvent.fromHttpResponse(i)),t}findSingleOrNoneEvent(e,t){let i=this.findEvents(e,t);if(i.length>1)throw new fG.ErrUnexpectedCondition(`more than one event of type ${e}`);return i[0]}findFirstOrNoneEvent(e,t){return this.findEvents(e,t)[0]}findEvents(e,t){let i=this.events.filter(n=>n.identifier==e);return t&&(i=i.filter(n=>t(n))),i}};bp.TransactionLogs=Il});var CD=M(Fu=>{"use strict";f();Object.defineProperty(Fu,"__esModule",{value:!0});Fu.ContractResultItem=Fu.ContractResults=void 0;var bD=Uv(),Cp=Mu(),Lu=class{constructor(e){this.items=e,this.items.sort(function(t,i){return t.nonce.valueOf()-i.nonce.valueOf()})}static fromProxyHttpResponse(e){let t=e.map(i=>sn.fromProxyHttpResponse(i));return new Lu(t)}static fromApiHttpResponse(e){let t=e.map(i=>sn.fromApiHttpResponse(i));return new Lu(t)}};Fu.ContractResults=Lu;var sn=class{constructor(e){this.hash="",this.nonce=0,this.value="",this.receiver=new Cp.Address(""),this.sender=new Cp.Address(""),this.data="",this.previousHash="",this.originalHash="",this.gasLimit=0,this.gasPrice=0,this.callType=0,this.returnMessage="",this.logs=new bD.TransactionLogs,Object.assign(this,e)}static fromProxyHttpResponse(e){return sn.fromHttpResponse(e)}static fromApiHttpResponse(e){let t=sn.fromHttpResponse(e);return t.data=y.Buffer.from(t.data,"base64").toString(),t.callType=Number(t.callType),t}static fromHttpResponse(e){let t=new sn;return t.hash=e.hash,t.nonce=Number(e.nonce||0),t.value=(e.value||0).toString(),t.receiver=new Cp.Address(e.receiver),t.sender=new Cp.Address(e.sender),t.previousHash=e.prevTxHash,t.originalHash=e.originalTxHash,t.gasLimit=Number(e.gasLimit||0),t.gasPrice=Number(e.gasPrice||0),t.data=e.data||"",t.callType=e.callType,t.returnMessage=e.returnMessage,t.logs=bD.TransactionLogs.fromHttpResponse(e.logs||{}),t}};Fu.ContractResultItem=sn});var xD=M(Xn=>{"use strict";f();var dG=Xn&&Xn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Xn,"__esModule",{value:!0});Xn.EsdtContractAddress=Xn.MaxUint64AsBigNumber=void 0;var pG=dG(Vr()),gG=Mu();Xn.MaxUint64AsBigNumber=new pG.default("18446744073709551615");Xn.EsdtContractAddress=new gG.Address("erd1qqqqqqqqqqqqqqqpqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqzllls8a5w6u")});var SD=M(Uu=>{"use strict";f();var yG=Uu&&Uu.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Uu,"__esModule",{value:!0});Uu.ContractQueryResponse=void 0;var mG=yG(Vr()),wG=xD(),_l=class{constructor(e){this.returnData=e?.returnData||[],this.returnCode=e?.returnCode||"",this.returnMessage=e?.returnMessage||"",this.gasUsed=e?.gasUsed||0}static fromHttpResponse(e){let t=e.returnData||e.ReturnData,i=e.returnCode||e.ReturnCode,n=e.returnMessage||e.ReturnMessage,s=new mG.default(e.gasRemaining||e.GasRemaining||0),o=wG.MaxUint64AsBigNumber.minus(s).toNumber();return new _l({returnData:t,returnCode:i,returnMessage:n,gasUsed:o})}getReturnDataParts(){return this.returnData.map(e=>y.Buffer.from(e||"","base64"))}toJSON(){return{returnData:this.returnData,returnCode:this.returnCode,returnMessage:this.returnMessage,gasUsed:this.gasUsed.valueOf()}}};Uu.ContractQueryResponse=_l});var TD=M(xp=>{"use strict";f();Object.defineProperty(xp,"__esModule",{value:!0});xp.ContractQueryRequest=void 0;var qv=class{constructor(e){this.query=e}toHttpRequest(){var e;let t={},i=this.query;return t.scAddress=i.address.bech32(),t.caller=!((e=i.caller)===null||e===void 0)&&e.bech32()?i.caller.bech32():void 0,t.funcName=i.func.toString(),t.value=i.value?i.value.toString():void 0,t.args=i.getEncodedArguments(),t}};xp.ContractQueryRequest=qv});var ND=M(Sp=>{"use strict";f();Object.defineProperty(Sp,"__esModule",{value:!0});Sp.Query=void 0;var vG=Hr(),EG=Vf(),Vv=class{constructor(e){this.caller=e.caller||new vG.Address,this.address=e.address,this.func=e.func,this.args=e.args||[],this.value=e.value||0}getEncodedArguments(){return new EG.ArgSerializer().valuesToStrings(this.args)}};Sp.Query=Vv});var VD=M((rne,qD)=>{f();qD.exports=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}});var Zn=M(ho=>{f();var Hv,AG=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];ho.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};ho.getSymbolTotalCodewords=function(e){return AG[e]};ho.getBCHDigit=function(r){let e=0;for(;r!==0;)e++,r>>>=1;return e};ho.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');Hv=e};ho.isKanjiModeEnabled=function(){return typeof Hv<"u"};ho.toSJIS=function(e){return Hv(e)}});var Dp=M(qr=>{f();qr.L={bit:1};qr.M={bit:0};qr.Q={bit:3};qr.H={bit:2};function IG(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return qr.L;case"m":case"medium":return qr.M;case"q":case"quartile":return qr.Q;case"h":case"high":return qr.H;default:throw new Error("Unknown EC Level: "+r)}}qr.isValid=function(e){return e&&typeof e.bit<"u"&&e.bit>=0&&e.bit<4};qr.from=function(e,t){if(qr.isValid(e))return e;try{return IG(e)}catch{return t}}});var jD=M((une,QD)=>{f();function HD(){this.buffer=[],this.length=0}HD.prototype={get:function(r){let e=Math.floor(r/8);return(this.buffer[e]>>>7-r%8&1)===1},put:function(r,e){for(let t=0;t<e;t++)this.putBit((r>>>e-t-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(r){let e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),r&&(this.buffer[e]|=128>>>this.length%8),this.length++}};QD.exports=HD});var KD=M((lne,GD)=>{f();function bl(r){if(!r||r<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=r,this.data=new Uint8Array(r*r),this.reservedBit=new Uint8Array(r*r)}bl.prototype.set=function(r,e,t,i){let n=r*this.size+e;this.data[n]=t,i&&(this.reservedBit[n]=!0)};bl.prototype.get=function(r,e){return this.data[r*this.size+e]};bl.prototype.xor=function(r,e,t){this.data[r*this.size+e]^=t};bl.prototype.isReserved=function(r,e){return this.reservedBit[r*this.size+e]};GD.exports=bl});var zD=M(Op=>{f();var _G=Zn().getSymbolSize;Op.getRowColCoords=function(e){if(e===1)return[];let t=Math.floor(e/7)+2,i=_G(e),n=i===145?26:Math.ceil((i-13)/(2*t-2))*2,s=[i-7];for(let o=1;o<t-1;o++)s[o]=s[o-1]-n;return s.push(6),s.reverse()};Op.getPositions=function(e){let t=[],i=Op.getRowColCoords(e),n=i.length;for(let s=0;s<n;s++)for(let o=0;o<n;o++)s===0&&o===0||s===0&&o===n-1||s===n-1&&o===0||t.push([i[s],i[o]]);return t}});var WD=M($D=>{f();var bG=Zn().getSymbolSize,kD=7;$D.getPositions=function(e){let t=bG(e);return[[0,0],[t-kD,0],[0,t-kD]]}});var YD=M(ke=>{f();ke.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var po={N1:3,N2:3,N3:40,N4:10};ke.isValid=function(e){return e!=null&&e!==""&&!isNaN(e)&&e>=0&&e<=7};ke.from=function(e){return ke.isValid(e)?parseInt(e,10):void 0};ke.getPenaltyN1=function(e){let t=e.size,i=0,n=0,s=0,o=null,a=null;for(let c=0;c<t;c++){n=s=0,o=a=null;for(let h=0;h<t;h++){let p=e.get(c,h);p===o?n++:(n>=5&&(i+=po.N1+(n-5)),o=p,n=1),p=e.get(h,c),p===a?s++:(s>=5&&(i+=po.N1+(s-5)),a=p,s=1)}n>=5&&(i+=po.N1+(n-5)),s>=5&&(i+=po.N1+(s-5))}return i};ke.getPenaltyN2=function(e){let t=e.size,i=0;for(let n=0;n<t-1;n++)for(let s=0;s<t-1;s++){let o=e.get(n,s)+e.get(n,s+1)+e.get(n+1,s)+e.get(n+1,s+1);(o===4||o===0)&&i++}return i*po.N2};ke.getPenaltyN3=function(e){let t=e.size,i=0,n=0,s=0;for(let o=0;o<t;o++){n=s=0;for(let a=0;a<t;a++)n=n<<1&2047|e.get(o,a),a>=10&&(n===1488||n===93)&&i++,s=s<<1&2047|e.get(a,o),a>=10&&(s===1488||s===93)&&i++}return i*po.N3};ke.getPenaltyN4=function(e){let t=0,i=e.data.length;for(let s=0;s<i;s++)t+=e.data[s];return Math.abs(Math.ceil(t*100/i/5)-10)*po.N4};function CG(r,e,t){switch(r){case ke.Patterns.PATTERN000:return(e+t)%2===0;case ke.Patterns.PATTERN001:return e%2===0;case ke.Patterns.PATTERN010:return t%3===0;case ke.Patterns.PATTERN011:return(e+t)%3===0;case ke.Patterns.PATTERN100:return(Math.floor(e/2)+Math.floor(t/3))%2===0;case ke.Patterns.PATTERN101:return e*t%2+e*t%3===0;case ke.Patterns.PATTERN110:return(e*t%2+e*t%3)%2===0;case ke.Patterns.PATTERN111:return(e*t%3+(e+t)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}ke.applyMask=function(e,t){let i=t.size;for(let n=0;n<i;n++)for(let s=0;s<i;s++)t.isReserved(s,n)||t.xor(s,n,CG(e,s,n))};ke.getBestMask=function(e,t){let i=Object.keys(ke.Patterns).length,n=0,s=1/0;for(let o=0;o<i;o++){t(o),ke.applyMask(o,e);let a=ke.getPenaltyN1(e)+ke.getPenaltyN2(e)+ke.getPenaltyN3(e)+ke.getPenaltyN4(e);ke.applyMask(o,e),a<s&&(s=a,n=o)}return n}});var jv=M(Qv=>{f();var es=Dp(),Bp=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Mp=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Qv.getBlocksCount=function(e,t){switch(t){case es.L:return Bp[(e-1)*4+0];case es.M:return Bp[(e-1)*4+1];case es.Q:return Bp[(e-1)*4+2];case es.H:return Bp[(e-1)*4+3];default:return}};Qv.getTotalCodewordsCount=function(e,t){switch(t){case es.L:return Mp[(e-1)*4+0];case es.M:return Mp[(e-1)*4+1];case es.Q:return Mp[(e-1)*4+2];case es.H:return Mp[(e-1)*4+3];default:return}}});var JD=M(Rp=>{f();var Cl=new Uint8Array(512),Pp=new Uint8Array(256);(function(){let e=1;for(let t=0;t<255;t++)Cl[t]=e,Pp[e]=t,e<<=1,e&256&&(e^=285);for(let t=255;t<512;t++)Cl[t]=Cl[t-255]})();Rp.log=function(e){if(e<1)throw new Error("log("+e+")");return Pp[e]};Rp.exp=function(e){return Cl[e]};Rp.mul=function(e,t){return e===0||t===0?0:Cl[Pp[e]+Pp[t]]}});var XD=M(xl=>{f();var Gv=JD();xl.mul=function(e,t){let i=new Uint8Array(e.length+t.length-1);for(let n=0;n<e.length;n++)for(let s=0;s<t.length;s++)i[n+s]^=Gv.mul(e[n],t[s]);return i};xl.mod=function(e,t){let i=new Uint8Array(e);for(;i.length-t.length>=0;){let n=i[0];for(let o=0;o<t.length;o++)i[o]^=Gv.mul(t[o],n);let s=0;for(;s<i.length&&i[s]===0;)s++;i=i.slice(s)}return i};xl.generateECPolynomial=function(e){let t=new Uint8Array([1]);for(let i=0;i<e;i++)t=xl.mul(t,new Uint8Array([1,Gv.exp(i)]));return t}});var tO=M((bne,eO)=>{f();var ZD=XD();function Kv(r){this.genPoly=void 0,this.degree=r,this.degree&&this.initialize(this.degree)}Kv.prototype.initialize=function(e){this.degree=e,this.genPoly=ZD.generateECPolynomial(this.degree)};Kv.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");let t=new Uint8Array(e.length+this.degree);t.set(e);let i=ZD.mod(t,this.genPoly),n=this.degree-i.length;if(n>0){let s=new Uint8Array(this.degree);return s.set(i,n),s}return i};eO.exports=Kv});var zv=M(rO=>{f();rO.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}});var kv=M(on=>{f();var iO="[0-9]+",xG="[A-Z $%*+\\-./:]+",Sl="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Sl=Sl.replace(/u/g,"\\u");var SG="(?:(?![A-Z0-9 $%*+\\-./:]|"+Sl+`)(?:.|[\r
]))+`;on.KANJI=new RegExp(Sl,"g");on.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");on.BYTE=new RegExp(SG,"g");on.NUMERIC=new RegExp(iO,"g");on.ALPHANUMERIC=new RegExp(xG,"g");var TG=new RegExp("^"+Sl+"$"),NG=new RegExp("^"+iO+"$"),DG=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");on.testKanji=function(e){return TG.test(e)};on.testNumeric=function(e){return NG.test(e)};on.testAlphanumeric=function(e){return DG.test(e)}});var ts=M(Ft=>{f();var OG=zv(),$v=kv();Ft.NUMERIC={id:"Numeric",bit:1<<0,ccBits:[10,12,14]};Ft.ALPHANUMERIC={id:"Alphanumeric",bit:1<<1,ccBits:[9,11,13]};Ft.BYTE={id:"Byte",bit:1<<2,ccBits:[8,16,16]};Ft.KANJI={id:"Kanji",bit:1<<3,ccBits:[8,10,12]};Ft.MIXED={bit:-1};Ft.getCharCountIndicator=function(e,t){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!OG.isValid(t))throw new Error("Invalid version: "+t);return t>=1&&t<10?e.ccBits[0]:t<27?e.ccBits[1]:e.ccBits[2]};Ft.getBestModeForData=function(e){return $v.testNumeric(e)?Ft.NUMERIC:$v.testAlphanumeric(e)?Ft.ALPHANUMERIC:$v.testKanji(e)?Ft.KANJI:Ft.BYTE};Ft.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")};Ft.isValid=function(e){return e&&e.bit&&e.ccBits};function BG(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"numeric":return Ft.NUMERIC;case"alphanumeric":return Ft.ALPHANUMERIC;case"kanji":return Ft.KANJI;case"byte":return Ft.BYTE;default:throw new Error("Unknown mode: "+r)}}Ft.from=function(e,t){if(Ft.isValid(e))return e;try{return BG(e)}catch{return t}}});var uO=M(go=>{f();var Lp=Zn(),MG=jv(),nO=Dp(),rs=ts(),Wv=zv(),oO=1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,sO=Lp.getBCHDigit(oO);function PG(r,e,t){for(let i=1;i<=40;i++)if(e<=go.getCapacity(i,t,r))return i}function aO(r,e){return rs.getCharCountIndicator(r,e)+4}function RG(r,e){let t=0;return r.forEach(function(i){let n=aO(i.mode,e);t+=n+i.getBitsLength()}),t}function LG(r,e){for(let t=1;t<=40;t++)if(RG(r,t)<=go.getCapacity(t,e,rs.MIXED))return t}go.from=function(e,t){return Wv.isValid(e)?parseInt(e,10):t};go.getCapacity=function(e,t,i){if(!Wv.isValid(e))throw new Error("Invalid QR Code version");typeof i>"u"&&(i=rs.BYTE);let n=Lp.getSymbolTotalCodewords(e),s=MG.getTotalCodewordsCount(e,t),o=(n-s)*8;if(i===rs.MIXED)return o;let a=o-aO(i,e);switch(i){case rs.NUMERIC:return Math.floor(a/10*3);case rs.ALPHANUMERIC:return Math.floor(a/11*2);case rs.KANJI:return Math.floor(a/13);case rs.BYTE:default:return Math.floor(a/8)}};go.getBestVersionForData=function(e,t){let i,n=nO.from(t,nO.M);if(Array.isArray(e)){if(e.length>1)return LG(e,n);if(e.length===0)return 1;i=e[0]}else i=e;return PG(i.mode,i.getLength(),n)};go.getEncodedBits=function(e){if(!Wv.isValid(e)||e<7)throw new Error("Invalid QR Code version");let t=e<<12;for(;Lp.getBCHDigit(t)-sO>=0;)t^=oO<<Lp.getBCHDigit(t)-sO;return e<<12|t}});var hO=M(fO=>{f();var Yv=Zn(),lO=1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,FG=1<<14|1<<12|1<<10|1<<4|1<<1,cO=Yv.getBCHDigit(lO);fO.getEncodedBits=function(e,t){let i=e.bit<<3|t,n=i<<10;for(;Yv.getBCHDigit(n)-cO>=0;)n^=lO<<Yv.getBCHDigit(n)-cO;return(i<<10|n)^FG}});var pO=M((Lne,dO)=>{f();var UG=ts();function qu(r){this.mode=UG.NUMERIC,this.data=r.toString()}qu.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};qu.prototype.getLength=function(){return this.data.length};qu.prototype.getBitsLength=function(){return qu.getBitsLength(this.data.length)};qu.prototype.write=function(e){let t,i,n;for(t=0;t+3<=this.data.length;t+=3)i=this.data.substr(t,3),n=parseInt(i,10),e.put(n,10);let s=this.data.length-t;s>0&&(i=this.data.substr(t),n=parseInt(i,10),e.put(n,s*3+1))};dO.exports=qu});var yO=M((Une,gO)=>{f();var qG=ts(),Jv=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Vu(r){this.mode=qG.ALPHANUMERIC,this.data=r}Vu.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};Vu.prototype.getLength=function(){return this.data.length};Vu.prototype.getBitsLength=function(){return Vu.getBitsLength(this.data.length)};Vu.prototype.write=function(e){let t;for(t=0;t+2<=this.data.length;t+=2){let i=Jv.indexOf(this.data[t])*45;i+=Jv.indexOf(this.data[t+1]),e.put(i,11)}this.data.length%2&&e.put(Jv.indexOf(this.data[t]),6)};gO.exports=Vu});var wO=M((Vne,mO)=>{"use strict";f();mO.exports=function(e){for(var t=[],i=e.length,n=0;n<i;n++){var s=e.charCodeAt(n);if(s>=55296&&s<=56319&&i>n+1){var o=e.charCodeAt(n+1);o>=56320&&o<=57343&&(s=(s-55296)*1024+o-56320+65536,n+=1)}if(s<128){t.push(s);continue}if(s<2048){t.push(s>>6|192),t.push(s&63|128);continue}if(s<55296||s>=57344&&s<65536){t.push(s>>12|224),t.push(s>>6&63|128),t.push(s&63|128);continue}if(s>=65536&&s<=1114111){t.push(s>>18|240),t.push(s>>12&63|128),t.push(s>>6&63|128),t.push(s&63|128);continue}t.push(239,191,189)}return new Uint8Array(t).buffer}});var EO=M((Qne,vO)=>{f();var VG=wO(),HG=ts();function Hu(r){this.mode=HG.BYTE,typeof r=="string"&&(r=VG(r)),this.data=new Uint8Array(r)}Hu.getBitsLength=function(e){return e*8};Hu.prototype.getLength=function(){return this.data.length};Hu.prototype.getBitsLength=function(){return Hu.getBitsLength(this.data.length)};Hu.prototype.write=function(r){for(let e=0,t=this.data.length;e<t;e++)r.put(this.data[e],8)};vO.exports=Hu});var IO=M((Gne,AO)=>{f();var QG=ts(),jG=Zn();function Qu(r){this.mode=QG.KANJI,this.data=r}Qu.getBitsLength=function(e){return e*13};Qu.prototype.getLength=function(){return this.data.length};Qu.prototype.getBitsLength=function(){return Qu.getBitsLength(this.data.length)};Qu.prototype.write=function(r){let e;for(e=0;e<this.data.length;e++){let t=jG.toSJIS(this.data[e]);if(t>=33088&&t<=40956)t-=33088;else if(t>=57408&&t<=60351)t-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);t=(t>>>8&255)*192+(t&255),r.put(t,13)}};AO.exports=Qu});var _O=M((zne,Xv)=>{"use strict";f();var Tl={single_source_shortest_paths:function(r,e,t){var i={},n={};n[e]=0;var s=Tl.PriorityQueue.make();s.push(e,0);for(var o,a,c,h,p,A,D,O,T;!s.empty();){o=s.pop(),a=o.value,h=o.cost,p=r[a]||{};for(c in p)p.hasOwnProperty(c)&&(A=p[c],D=h+A,O=n[c],T=typeof n[c]>"u",(T||O>D)&&(n[c]=D,s.push(c,D),i[c]=a))}if(typeof t<"u"&&typeof n[t]>"u"){var V=["Could not find a path from ",e," to ",t,"."].join("");throw new Error(V)}return i},extract_shortest_path_from_predecessor_list:function(r,e){for(var t=[],i=e,n;i;)t.push(i),n=r[i],i=r[i];return t.reverse(),t},find_path:function(r,e,t){var i=Tl.single_source_shortest_paths(r,e,t);return Tl.extract_shortest_path_from_predecessor_list(i,t)},PriorityQueue:{make:function(r){var e=Tl.PriorityQueue,t={},i;r=r||{};for(i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t.queue=[],t.sorter=r.sorter||e.default_sorter,t},default_sorter:function(r,e){return r.cost-e.cost},push:function(r,e){var t={value:r,cost:e};this.queue.push(t),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};typeof Xv<"u"&&(Xv.exports=Tl)});var OO=M(ju=>{f();var Ve=ts(),xO=pO(),SO=yO(),TO=EO(),NO=IO(),Nl=kv(),Fp=Zn(),GG=_O();function bO(r){return unescape(encodeURIComponent(r)).length}function Dl(r,e,t){let i=[],n;for(;(n=r.exec(t))!==null;)i.push({data:n[0],index:n.index,mode:e,length:n[0].length});return i}function DO(r){let e=Dl(Nl.NUMERIC,Ve.NUMERIC,r),t=Dl(Nl.ALPHANUMERIC,Ve.ALPHANUMERIC,r),i,n;return Fp.isKanjiModeEnabled()?(i=Dl(Nl.BYTE,Ve.BYTE,r),n=Dl(Nl.KANJI,Ve.KANJI,r)):(i=Dl(Nl.BYTE_KANJI,Ve.BYTE,r),n=[]),e.concat(t,i,n).sort(function(o,a){return o.index-a.index}).map(function(o){return{data:o.data,mode:o.mode,length:o.length}})}function Zv(r,e){switch(e){case Ve.NUMERIC:return xO.getBitsLength(r);case Ve.ALPHANUMERIC:return SO.getBitsLength(r);case Ve.KANJI:return NO.getBitsLength(r);case Ve.BYTE:return TO.getBitsLength(r)}}function KG(r){return r.reduce(function(e,t){let i=e.length-1>=0?e[e.length-1]:null;return i&&i.mode===t.mode?(e[e.length-1].data+=t.data,e):(e.push(t),e)},[])}function zG(r){let e=[];for(let t=0;t<r.length;t++){let i=r[t];switch(i.mode){case Ve.NUMERIC:e.push([i,{data:i.data,mode:Ve.ALPHANUMERIC,length:i.length},{data:i.data,mode:Ve.BYTE,length:i.length}]);break;case Ve.ALPHANUMERIC:e.push([i,{data:i.data,mode:Ve.BYTE,length:i.length}]);break;case Ve.KANJI:e.push([i,{data:i.data,mode:Ve.BYTE,length:bO(i.data)}]);break;case Ve.BYTE:e.push([{data:i.data,mode:Ve.BYTE,length:bO(i.data)}])}}return e}function kG(r,e){let t={},i={start:{}},n=["start"];for(let s=0;s<r.length;s++){let o=r[s],a=[];for(let c=0;c<o.length;c++){let h=o[c],p=""+s+c;a.push(p),t[p]={node:h,lastCount:0},i[p]={};for(let A=0;A<n.length;A++){let D=n[A];t[D]&&t[D].node.mode===h.mode?(i[D][p]=Zv(t[D].lastCount+h.length,h.mode)-Zv(t[D].lastCount,h.mode),t[D].lastCount+=h.length):(t[D]&&(t[D].lastCount=h.length),i[D][p]=Zv(h.length,h.mode)+4+Ve.getCharCountIndicator(h.mode,e))}}n=a}for(let s=0;s<n.length;s++)i[n[s]].end=0;return{map:i,table:t}}function CO(r,e){let t,i=Ve.getBestModeForData(r);if(t=Ve.from(e,i),t!==Ve.BYTE&&t.bit<i.bit)throw new Error('"'+r+'" cannot be encoded with mode '+Ve.toString(t)+`.
 Suggested mode is: `+Ve.toString(i));switch(t===Ve.KANJI&&!Fp.isKanjiModeEnabled()&&(t=Ve.BYTE),t){case Ve.NUMERIC:return new xO(r);case Ve.ALPHANUMERIC:return new SO(r);case Ve.KANJI:return new NO(r);case Ve.BYTE:return new TO(r)}}ju.fromArray=function(e){return e.reduce(function(t,i){return typeof i=="string"?t.push(CO(i,null)):i.data&&t.push(CO(i.data,i.mode)),t},[])};ju.fromString=function(e,t){let i=DO(e,Fp.isKanjiModeEnabled()),n=zG(i),s=kG(n,t),o=GG.find_path(s.map,"start","end"),a=[];for(let c=1;c<o.length-1;c++)a.push(s.table[o[c]].node);return ju.fromArray(KG(a))};ju.rawSplit=function(e){return ju.fromArray(DO(e,Fp.isKanjiModeEnabled()))}});var MO=M(BO=>{f();var qp=Zn(),eE=Dp(),$G=jD(),WG=KD(),YG=zD(),JG=WD(),iE=YD(),nE=jv(),XG=tO(),Up=uO(),ZG=hO(),eK=ts(),tE=OO();function tK(r,e){let t=r.size,i=JG.getPositions(e);for(let n=0;n<i.length;n++){let s=i[n][0],o=i[n][1];for(let a=-1;a<=7;a++)if(!(s+a<=-1||t<=s+a))for(let c=-1;c<=7;c++)o+c<=-1||t<=o+c||(a>=0&&a<=6&&(c===0||c===6)||c>=0&&c<=6&&(a===0||a===6)||a>=2&&a<=4&&c>=2&&c<=4?r.set(s+a,o+c,!0,!0):r.set(s+a,o+c,!1,!0))}}function rK(r){let e=r.size;for(let t=8;t<e-8;t++){let i=t%2===0;r.set(t,6,i,!0),r.set(6,t,i,!0)}}function iK(r,e){let t=YG.getPositions(e);for(let i=0;i<t.length;i++){let n=t[i][0],s=t[i][1];for(let o=-2;o<=2;o++)for(let a=-2;a<=2;a++)o===-2||o===2||a===-2||a===2||o===0&&a===0?r.set(n+o,s+a,!0,!0):r.set(n+o,s+a,!1,!0)}}function nK(r,e){let t=r.size,i=Up.getEncodedBits(e),n,s,o;for(let a=0;a<18;a++)n=Math.floor(a/3),s=a%3+t-8-3,o=(i>>a&1)===1,r.set(n,s,o,!0),r.set(s,n,o,!0)}function rE(r,e,t){let i=r.size,n=ZG.getEncodedBits(e,t),s,o;for(s=0;s<15;s++)o=(n>>s&1)===1,s<6?r.set(s,8,o,!0):s<8?r.set(s+1,8,o,!0):r.set(i-15+s,8,o,!0),s<8?r.set(8,i-s-1,o,!0):s<9?r.set(8,15-s-1+1,o,!0):r.set(8,15-s-1,o,!0);r.set(i-8,8,1,!0)}function sK(r,e){let t=r.size,i=-1,n=t-1,s=7,o=0;for(let a=t-1;a>0;a-=2)for(a===6&&a--;;){for(let c=0;c<2;c++)if(!r.isReserved(n,a-c)){let h=!1;o<e.length&&(h=(e[o]>>>s&1)===1),r.set(n,a-c,h),s--,s===-1&&(o++,s=7)}if(n+=i,n<0||t<=n){n-=i,i=-i;break}}}function oK(r,e,t){let i=new $G;t.forEach(function(c){i.put(c.mode.bit,4),i.put(c.getLength(),eK.getCharCountIndicator(c.mode,r)),c.write(i)});let n=qp.getSymbolTotalCodewords(r),s=nE.getTotalCodewordsCount(r,e),o=(n-s)*8;for(i.getLengthInBits()+4<=o&&i.put(0,4);i.getLengthInBits()%8!==0;)i.putBit(0);let a=(o-i.getLengthInBits())/8;for(let c=0;c<a;c++)i.put(c%2?17:236,8);return aK(i,r,e)}function aK(r,e,t){let i=qp.getSymbolTotalCodewords(e),n=nE.getTotalCodewordsCount(e,t),s=i-n,o=nE.getBlocksCount(e,t),a=i%o,c=o-a,h=Math.floor(i/o),p=Math.floor(s/o),A=p+1,D=h-p,O=new XG(D),T=0,V=new Array(o),Q=new Array(o),j=0,ie=new Uint8Array(r.buffer);for(let R=0;R<o;R++){let F=R<c?p:A;V[R]=ie.slice(T,T+F),Q[R]=O.encode(V[R]),T+=F,j=Math.max(j,F)}let Y=new Uint8Array(i),W=0,$,k;for($=0;$<j;$++)for(k=0;k<o;k++)$<V[k].length&&(Y[W++]=V[k][$]);for($=0;$<D;$++)for(k=0;k<o;k++)Y[W++]=Q[k][$];return Y}function uK(r,e,t,i){let n;if(Array.isArray(r))n=tE.fromArray(r);else if(typeof r=="string"){let h=e;if(!h){let p=tE.rawSplit(r);h=Up.getBestVersionForData(p,t)}n=tE.fromString(r,h||40)}else throw new Error("Invalid data");let s=Up.getBestVersionForData(n,t);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=s;else if(e<s)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+s+`.
`);let o=oK(e,t,n),a=qp.getSymbolSize(e),c=new WG(a);return tK(c,e),rK(c),iK(c,e),rE(c,t,0),e>=7&&nK(c,e),sK(c,o),isNaN(i)&&(i=iE.getBestMask(c,rE.bind(null,c,t))),iE.applyMask(i,c),rE(c,t,i),{modules:c,version:e,errorCorrectionLevel:t,maskPattern:i,segments:n}}BO.create=function(e,t){if(typeof e>"u"||e==="")throw new Error("No input text");let i=eE.M,n,s;return typeof t<"u"&&(i=eE.from(t.errorCorrectionLevel,eE.M),n=Up.from(t.version),s=iE.from(t.maskPattern),t.toSJISFunc&&qp.setToSJISFunction(t.toSJISFunc)),uK(e,n,i,s)}});var sE=M(yo=>{f();function PO(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let e=r.slice().replace("#","").split("");if(e.length<3||e.length===5||e.length>8)throw new Error("Invalid hex color: "+r);(e.length===3||e.length===4)&&(e=Array.prototype.concat.apply([],e.map(function(i){return[i,i]}))),e.length===6&&e.push("F","F");let t=parseInt(e.join(""),16);return{r:t>>24&255,g:t>>16&255,b:t>>8&255,a:t&255,hex:"#"+e.slice(0,6).join("")}}yo.getOptions=function(e){e||(e={}),e.color||(e.color={});let t=typeof e.margin>"u"||e.margin===null||e.margin<0?4:e.margin,i=e.width&&e.width>=21?e.width:void 0,n=e.scale||4;return{width:i,scale:i?4:n,margin:t,color:{dark:PO(e.color.dark||"#000000ff"),light:PO(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}};yo.getScale=function(e,t){return t.width&&t.width>=e+t.margin*2?t.width/(e+t.margin*2):t.scale};yo.getImageWidth=function(e,t){let i=yo.getScale(e,t);return Math.floor((e+t.margin*2)*i)};yo.qrToImageData=function(e,t,i){let n=t.modules.size,s=t.modules.data,o=yo.getScale(n,i),a=Math.floor((n+i.margin*2)*o),c=i.margin*o,h=[i.color.light,i.color.dark];for(let p=0;p<a;p++)for(let A=0;A<a;A++){let D=(p*a+A)*4,O=i.color.light;if(p>=c&&A>=c&&p<a-c&&A<a-c){let T=Math.floor((p-c)/o),V=Math.floor((A-c)/o);O=h[s[T*n+V]?1:0]}e[D++]=O.r,e[D++]=O.g,e[D++]=O.b,e[D]=O.a}}});var RO=M(Vp=>{f();var oE=sE();function cK(r,e,t){r.clearRect(0,0,e.width,e.height),e.style||(e.style={}),e.height=t,e.width=t,e.style.height=t+"px",e.style.width=t+"px"}function lK(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}Vp.render=function(e,t,i){let n=i,s=t;typeof n>"u"&&(!t||!t.getContext)&&(n=t,t=void 0),t||(s=lK()),n=oE.getOptions(n);let o=oE.getImageWidth(e.modules.size,n),a=s.getContext("2d"),c=a.createImageData(o,o);return oE.qrToImageData(c.data,e,n),cK(a,s,o),a.putImageData(c,0,0),s};Vp.renderToDataURL=function(e,t,i){let n=i;typeof n>"u"&&(!t||!t.getContext)&&(n=t,t=void 0),n||(n={});let s=Vp.render(e,t,n),o=n.type||"image/png",a=n.rendererOpts||{};return s.toDataURL(o,a.quality)}});var UO=M(FO=>{f();var fK=sE();function LO(r,e){let t=r.a/255,i=e+'="'+r.hex+'"';return t<1?i+" "+e+'-opacity="'+t.toFixed(2).slice(1)+'"':i}function aE(r,e,t){let i=r+e;return typeof t<"u"&&(i+=" "+t),i}function hK(r,e,t){let i="",n=0,s=!1,o=0;for(let a=0;a<r.length;a++){let c=Math.floor(a%e),h=Math.floor(a/e);!c&&!s&&(s=!0),r[a]?(o++,a>0&&c>0&&r[a-1]||(i+=s?aE("M",c+t,.5+h+t):aE("m",n,0),n=0,s=!1),c+1<e&&r[a+1]||(i+=aE("h",o),o=0)):n++}return i}FO.render=function(e,t,i){let n=fK.getOptions(t),s=e.modules.size,o=e.modules.data,a=s+n.margin*2,c=n.color.light.a?"<path "+LO(n.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",h="<path "+LO(n.color.dark,"stroke")+' d="'+hK(o,s,n.margin)+'"/>',p='viewBox="0 0 '+a+" "+a+'"',D='<svg xmlns="http://www.w3.org/2000/svg" '+(n.width?'width="'+n.width+'" height="'+n.width+'" ':"")+p+' shape-rendering="crispEdges">'+c+h+`</svg>
`;return typeof i=="function"&&i(null,D),D}});var VO=M(Ol=>{f();var dK=VD(),uE=MO(),qO=RO(),pK=UO();function cE(r,e,t,i,n){let s=[].slice.call(arguments,1),o=s.length,a=typeof s[o-1]=="function";if(!a&&!dK())throw new Error("Callback required as last argument");if(a){if(o<2)throw new Error("Too few arguments provided");o===2?(n=t,t=e,e=i=void 0):o===3&&(e.getContext&&typeof n>"u"?(n=i,i=void 0):(n=i,i=t,t=e,e=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(t=e,e=i=void 0):o===2&&!e.getContext&&(i=t,t=e,e=void 0),new Promise(function(c,h){try{let p=uE.create(t,i);c(r(p,e,i))}catch(p){h(p)}})}try{let c=uE.create(t,i);n(null,r(c,e,i))}catch(c){n(c)}}Ol.create=uE.create;Ol.toCanvas=cE.bind(null,qO.render);Ol.toDataURL=cE.bind(null,qO.renderToDataURL);Ol.toString=cE.bind(null,function(r,e,t){return pK.render(r,t)})});var XO=M(is=>{"use strict";f();var _K=is&&is.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),JO=is&&is.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&_K(e,r,t)};Object.defineProperty(is,"__esModule",{value:!0});JO(ml(),is);JO(Dv(),is)});f();var bK=Ie(Z0(),1),n8=Ie(VI(),1),CK=Ie(Hr(),1),xK=Ie(jf(),1),SK=Ie(Ry(),1),TK=Ie(ic(),1),NK=Ie(Vy(),1),DK=Ie(fn(),1),s8=Ie(ec(),1),OK=Ie(Ju(),1),BK=Ie(ty(),1),MK=Ie(Hb(),1),PK=Ie(qo(),1);f();f();var Wb=Ie(Ky(),1);f();f();var rh="elvenjs_state",zb="https://devnet-api.elrond.com";var ih="/dapp/init",nh="devnet",kb="https://maiar.page.link/?apn=com.elrond.maiar.wallet&isi=1519405832&ibi=com.elrond.maiar.wallet&link=https://maiar.com/",$b=["wss://relay.walletconnect.com"],bi={devnet:{id:"devnet",shortId:"D",name:"Devnet",egldLabel:"xEGLD",egldDenomination:"18",decimals:"4",gasPerDataByte:"1500",walletAddress:"https://devnet-wallet.elrond.com",apiAddress:"https://devnet-api.elrond.com",explorerAddress:"https://devnet-explorer.elrond.com",apiTimeout:1e4},testnet:{id:"testnet",shortId:"T",name:"Testnet",egldLabel:"xEGLD",egldDenomination:"18",decimals:"4",gasPerDataByte:"1500",walletAddress:"https://testnet-wallet.elrond.com",apiAddress:"https://testnet-api.elrond.com",explorerAddress:"https://testnet-explorer.elrond.com",apiTimeout:1e4},mainnet:{id:"mainnet",shortId:"1",name:"Mainnet",egldLabel:"EGLD",egldDenomination:"18",decimals:"4",gasPerDataByte:"1500",walletAddress:"https://wallet.elrond.com",apiAddress:"https://api.elrond.com",explorerAddress:"https://explorer.elrond.com",apiTimeout:1e4}};var Se={get(r){let e=localStorage.getItem(rh);if(!e)return{};let t=JSON.parse(e);return r?t[r]:t},set(r,e){let t=this.get();t[r]=e,localStorage.setItem(rh,JSON.stringify(t))},clear(){localStorage.removeItem(rh)}};var sh=()=>Ne(void 0,null,function*(){let r=Wb.ExtensionProvider.getInstance();try{let e=yield r.init(),t=Se.get();if(t!=null&&t.address&&r.setAddress(t.address),!e){console.warn("Something went wrong when trying to initialize the ExtensionProvider..");return}return r}catch(e){console.warn("Can't initialize the Dapp Provider!")}});var t8=Ie(Ky(),1),r8=Ie(fl(),1),i8=Ie(ml(),1);f();var cD=Ie(fl(),1);f();f();var Te=class{static set(e,t){if(!e)return;let i=IE(wo({},this.events),{[e]:t});this.events=i}static get(e){if(!(!e||!this.events))return this.events[e]}static run(e,...t){var i,n;!e||!this.events||(n=(i=this.events)[e])==null||n.call(i,...t)}static clear(){this.events=void 0}};f();var lo=(n=>(n.ledger="ledger",n.maiarMobile="maiar-mobile",n.webWallet="web-wallet",n.maiarBrowserExtension="maiar-browser-extension",n))(lo||{});var Ou=r=>Ne(void 0,null,function*(){if(!r.dappProvider)throw new Error("Error: Logout failed: There is no active session!");Te.run(0);let e=yield r.dappProvider.logout();return e&&(Se.clear(),Te.run(4)),e});f();var aD=Ie(Hr(),1),uD=Ie(jf(),1);f();var wr=r=>typeof r=="string"?r.toUpperCase():r instanceof Error?r.message:`Error: ${JSON.stringify(r)}`;f();var Bu=()=>new Date().setHours(new Date().getHours()+24),vp=r=>Date.now()>r;var Jn=r=>Ne(void 0,null,function*(){let e=Se.get("address"),t=Se.get("expires");if(!(t&&vp(t))&&e&&r.networkProvider){let n=new aD.Address(e),s=new uD.Account(n);try{let o=yield r.networkProvider.getAccount(n);Se.set("address",e),Se.set("nonce",o.nonce.valueOf()),Se.set("balance",o.balance.toString()),s.update(o)}catch(o){let a=wr(o);console.warn(`Something went wrong trying to synchronize the user account: ${a}`)}}});f();function Ep(r){return r[Math.floor(Math.random()*r.length)]}var lD=r=>Ne(void 0,null,function*(){if(!r.initOptions.walletConnectV2ProjectId||!r.initOptions.chainType)return;let e={onClientLogin:()=>{Jn(r),Te.run(1)},onClientLogout:()=>Ou(r),onClientEvent:n=>{console.log("wc2 session event: ",n)}},t=Ep(r.initOptions.walletConnectV2RelayAddresses),i=new cD.WalletConnectV2Provider(e,bi[r.initOptions.chainType].shortId,t,r.initOptions.walletConnectV2ProjectId);try{return yield i.init(),i}catch(n){console.warn("Can't initialize the Dapp Provider!")}});f();var DD=Ie(dD(),1),Tp=Ie(Hr(),1),OD=Ie(pD(),1),BD=Ie(vD(),1),MD=Ie(Uv(),1),PD=Ie(CD(),1),RD=Ie(SD(),1),LD=Ie(TD(),1),FD=Ie(ND(),1);var Np=class{constructor({apiUrl:e,chainType:t,apiTimeout:i}){var n,s;this.chainType=t||nh,this.apiUrl=e||((n=bi[this.chainType])==null?void 0:n.apiAddress),this.apiTimeout=i||((s=bi[this.chainType])==null?void 0:s.apiTimeout)}apiGet(e,t){return Ne(this,null,function*(){if(typeof fetch!="undefined"){let i=new AbortController,n=setTimeout(()=>i.abort(),this.apiTimeout),s={method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"},signal:i.signal};try{let o=yield fetch(this.apiUrl+"/"+e,Object.assign(s,t||{})),a=yield o.json();if(!o.ok){let c=(a==null?void 0:a.error)||o.status;return clearTimeout(n),Promise.reject(c)}return clearTimeout(n),a}catch(o){this.handleApiError(o,e)}}})}apiPost(e,t,i){return Ne(this,null,function*(){if(typeof fetch!="undefined"){let n=new AbortController,s=setTimeout(()=>n.abort(),this.apiTimeout),o={method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(t||{}),signal:n.signal};try{let a=yield fetch(this.apiUrl+"/"+e,Object.assign(o,i||{})),c=yield a.json();if(!a.ok){let h=(c==null?void 0:c.error)||a.status;return clearTimeout(s),Promise.reject(h)}return clearTimeout(s),c}catch(a){this.handleApiError(a,e)}}})}handleApiError(e,t){if(!e.response)throw new Error(`Request error on url [${t}]: [${e.toString()}]`);let i=e.response.data,n=i.error||i.message||JSON.stringify(i);throw new Error(n)}sendTransaction(e){return Ne(this,null,function*(){return(yield this.apiPost("transactions",e.toSendable())).txHash})}getAccount(e){return Ne(this,null,function*(){let t=yield this.apiGet(`accounts/${e.bech32()}`);return{address:new Tp.Address((t==null?void 0:t.address)||""),nonce:Number((t==null?void 0:t.nonce)||0),balance:new DD.default((t==null?void 0:t.balance)||0),code:(t==null?void 0:t.code)||"",userName:(t==null?void 0:t.username)||""}})}getTransaction(e){return Ne(this,null,function*(){let t=yield this.apiGet(`transactions/${e}`),i=new OD.TransactionStatus(t.status);return{hash:e,type:t.type||"",nonce:t.nonce||0,round:t.round,epoch:t.epoch||0,value:(t.value||0).toString(),sender:new Tp.Address(t.sender),receiver:new Tp.Address(t.receiver),gasPrice:t.gasPrice||0,gasLimit:t.gasLimit||0,data:y.Buffer.from(t.data||"","base64"),status:i,timestamp:t.timestamp||0,blockNonce:t.blockNonce||0,hyperblockNonce:t.hyperblockNonce||0,hyperblockHash:t.hyperblockHash||"",receipt:BD.TransactionReceipt.fromHttpResponse(t.receipt||{}),logs:MD.TransactionLogs.fromHttpResponse(t.logs||{}),contractResults:PD.ContractResults.fromApiHttpResponse(t.results||[]),isCompleted:!i.isPending()}})}queryContract(o){return Ne(this,arguments,function*({address:e,func:t,args:i,value:n,caller:s}){try{let a=new FD.Query({address:e,func:t,args:i,value:n,caller:s}),c=new LD.ContractQueryRequest(a).toHttpRequest(),h=yield this.apiPost("query",c);return RD.ContractQueryResponse.fromHttpResponse(h)}catch(a){this.handleApiError(a,"query")}})}};f();var UD=(r,e)=>Ne(void 0,null,function*(){let t=yield sh();try{t&&(yield t.login())}catch(n){let s=wr(n);console.warn(`Something went wrong trying to login the user: ${s}`)}if(!t)throw new Error("Error: There were problems with auth provider initialization!");let{signature:i}=t.account;if(e&&Se.set("loginToken",e),i&&Se.set("signature",i),r.networkProvider)try{let n=yield t.getAddress();if(!n)throw new Error("Canceled!");return Te.run(0),Se.set("address",n),Se.set("loginMethod","maiar-browser-extension"),Se.set("expires",Bu()),yield Jn(r),Te.run(1),t}catch(n){console.warn(`Something went wrong trying to synchronize the user account: ${n==null?void 0:n.message}`)}});f();f();var HO=Ie(VO(),1),QO=Ie(fl(),1);var gK=r=>{var t;let e=document.createElement("template");return e.innerHTML=r.trim(),(t=e.content.firstChild)==null?void 0:t.cloneNode(!0)},yK=r=>{let e=`${kb}?wallet-connect=${encodeURIComponent(r)}`,t=document.createElement("a");return t.setAttribute("href",e),t.setAttribute("rel","noopener noreferrer nofollow"),t.setAttribute("target","_blank"),t.textContent="Maiar login",t.classList.add("elven-qr-code-deep-link"),t},mK=()=>{let r=document.createElement("div");return r.classList.add("elven-wc-pairings"),r.setAttribute("id","elven-wc-pairings"),r},wK=()=>{let r=document.createElement("div");return r.textContent="Existing WalletConnect pairings:",r.classList.add("elven-wc-pairings-header"),r.setAttribute("id","elven-wc-pairings-header"),r},vK=r=>{let e=document.createElement("button");return e.classList.add("elven-wc-pairings-remove-btn"),e.setAttribute("id","elven-wc-pairings-remove-btn"),e.textContent="\u2716",e.addEventListener("click",()=>console.log("Click, ",r)),e},EK=r=>{let e=document.createElement("div");e.classList.add("elven-wc-pairing-item"),e.setAttribute("id","elven-wc-pairing-item"),e.textContent=`${r.peerMetadata.description}
(${r.peerMetadata.url})`;let t=vK(r);return e.appendChild(t),e},AK=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),IK=r=>Ne(void 0,null,function*(){return r?yield HO.default.toString(r,{type:"svg"}):void 0}),jO=(r,e,t)=>Ne(void 0,null,function*(){if(!r)throw new Error("Please provide the QR Code and WalletConnect Pairings container id!");let i=null;typeof r=="string"?i=document.getElementById(r):r instanceof HTMLElement&&(i=r);let n=yield IK(e),s;if(n&&(s=gK(n)),i&&s&&(i.replaceChildren(),i.appendChild(s),AK()&&i.appendChild(yK(e))),i&&t instanceof QO.WalletConnectV2Provider){let o=t.pairings;if(o){let a=mK();i.appendChild(a);let c=wK();a.appendChild(c);for(let h of o){let p=EK(h);a.appendChild(p)}}}return i});var Hp=Ie(fl(),1);var GO=(r,e,t)=>Ne(void 0,null,function*(){if(!e)throw new Error("You haven't provided the QR code container DOM element id");let i=Ep(r.initOptions.walletConnectV2RelayAddresses);if(!i||!r.networkProvider)throw new Error("Something wen't wrong with the initialization (ApiNetworkProvider or Wallet Connect Bridge address), plese try to refresh the page!");if(!r.initOptions.walletConnectV2ProjectId)throw new Error("Please provide your WalletConnect project id. You can get it here: https://cloud.walletconnect.com)");if(!r.initOptions.chainType)throw new Error("Please provide the chain type in ElvenJS.init function!");let n,s={onClientLogin:()=>Ne(void 0,null,function*(){if(r.dappProvider instanceof Hp.WalletConnectV2Provider){Te.run(0);let a=yield r.dappProvider.getAddress(),c=yield r.dappProvider.getSignature();Se.set("address",a),Se.set("loginMethod","maiar-mobile"),Se.set("expires",Bu()),yield Jn(r),c&&Se.set("signature",c),t&&Se.set("loginToken",t),Te.run(1),n==null||n.replaceChildren()}}),onClientLogout:()=>Ne(void 0,null,function*(){r.dappProvider instanceof Hp.WalletConnectV2Provider&&(yield Ou(r),Te.run(4))}),onClientEvent:a=>{console.log("wc2 session event: ",a)}},o=new Hp.WalletConnectV2Provider(s,bi[r.initOptions.chainType].shortId,i,r.initOptions.walletConnectV2ProjectId);try{if(o){r.dappProvider=o,Te.run(2);let{uri:a,approval:c}=yield o.connect({methods:["erd_cancelAction"]}),h=t?`${a}&token=${t}`:a;return e&&h&&(n=yield jO(e,h,o),Te.run(3)),yield o.login({approval:c,token:t}),o}}catch(a){let c=wr(a);console.warn(`Something went wrong trying to login the user: ${c}`)}});f();var KO=Ie(ml(),1);var zO=(r,e,t)=>Ne(void 0,null,function*(){let i=new KO.WalletProvider(`${r}${ih}`),n=typeof window!="undefined"?encodeURIComponent(`${window.location.origin}${e||"/"}`):"/",s=wo({callbackUrl:n},t?{token:t}:{});try{return Te.run(0),Se.set("loginMethod","web-wallet"),yield i.login(s),Se.set("expires",Bu()),t&&Se.set("loginToken",t),i}catch(o){let a=wr(o);console.warn(`Something went wrong trying to login the user: ${a}`),Se.set("loginMethod","")}});f();var mo=r=>{if(typeof window!="undefined"){let e=new URL(window.location.href);return new URLSearchParams(e.search).get(r)}};f();var kO=Ie(ml(),1);var $O=r=>Ne(void 0,null,function*(){let e=mo("signature"),t=mo("address"),i=Se.get("address");if(e&&Se.set("signature",e),t||i)return t&&(Se.set("address",t),window.history.replaceState(null,"",window.location.pathname)),new kO.WalletProvider(`${r}${ih}`)});f();var WO=Ie(jf(),1),YO=Ie(Vy(),1);var Qp=(r,e)=>Ne(void 0,null,function*(){Te.run(6,r),yield new YO.TransactionWatcher(e).awaitCompleted(r);let i=r.getSender(),n=new WO.Account(i),s=yield e.getAccount(i);n.update(s),Se.set("address",n.address.bech32()),Se.set("nonce",n.getNonceThenIncrement().valueOf()),Se.set("balance",n.balance.toString()),Te.run(7,r)});f();var jp=Ie(XO(),1),ZO=Ie(Ry(),1);var e8=(r,e,t)=>Ne(void 0,null,function*(){if(mo(jp.WALLET_PROVIDER_CALLBACK_PARAM)===jp.WALLET_PROVIDER_CALLBACK_PARAM_TX_SIGNED&&r&&e&&"getTransactionsFromWalletUrl"in r){let n=r.getTransactionsFromWalletUrl();window.history.replaceState(null,"",window.location.pathname);let s=n==null?void 0:n[0];if(s){s.data=y.Buffer.from(s.data).toString("base64");let o=ZO.Transaction.fromPlainObject(s);o.setNonce(t);try{Te.run(5,o),yield e.sendTransaction(o),yield Qp(o,e)}catch(a){let c=wr(a);throw Te.run(8,o,c),new Error(`Error: Transaction signing failed! ${c}`)}}}});var Ml=class{static init(e){return Ne(this,null,function*(){let t=Se.get();if(t.expires&&vp(t.expires)){Se.clear(),this.dappProvider=void 0;return}this.initOptions=wo({chainType:nh,apiUrl:zb,apiTimeout:1e4,walletConnectV2ProjectId:"",walletConnectV2RelayAddresses:$b},e),this.networkProvider=new Np(this.initOptions),this.initOptions.onLoginPending&&Te.set(0,this.initOptions.onLoginPending),this.initOptions.onLoggedIn&&Te.set(1,this.initOptions.onLoggedIn),this.initOptions.onQrPending&&Te.set(2,this.initOptions.onQrPending),this.initOptions.onQrLoaded&&Te.set(3,this.initOptions.onQrLoaded),this.initOptions.onLogout&&Te.set(4,this.initOptions.onLogout),this.initOptions.onTxStarted&&Te.set(5,this.initOptions.onTxStarted),this.initOptions.onTxSent&&Te.set(6,this.initOptions.onTxSent),this.initOptions.onTxFinalized&&Te.set(7,this.initOptions.onTxFinalized),this.initOptions.onTxError&&Te.set(8,this.initOptions.onTxError),((t==null?void 0:t.address)||t.loginMethod==="web-wallet"&&mo("address"))&&(t!=null&&t.loginMethod)&&(Te.run(0),t.loginMethod==="maiar-browser-extension"&&(this.dappProvider=yield sh()),t.loginMethod==="maiar-mobile"&&(this.dappProvider=yield lD(this)),t.loginMethod==="web-wallet"&&this.initOptions.chainType&&(this.dappProvider=yield $O(bi[this.initOptions.chainType].walletAddress)),yield Jn(this),Te.run(1),t.loginMethod==="web-wallet"&&(yield e8(this.dappProvider,this.networkProvider,t.nonce)))})}static login(e,t){return Ne(this,null,function*(){var n;if(!Object.values(lo).includes(e))throw new Error("Error: Wrong login method!");if(!this.networkProvider)throw new Error("Error: Login failed: Use ElvenJs.init() first!");try{if(e==="maiar-browser-extension"){let s=yield UD(this,t==null?void 0:t.token);this.dappProvider=s}if(e==="maiar-mobile"){let s=yield GO(this,t==null?void 0:t.qrCodeContainer,t==null?void 0:t.token);this.dappProvider=s}if(e==="web-wallet"&&((n=this.initOptions)!=null&&n.chainType)){let s=yield zO(bi[this.initOptions.chainType].walletAddress,t==null?void 0:t.callbackRoute,t==null?void 0:t.token);this.dappProvider=s}}catch(s){let o=wr(s);throw new Error(`Error: ${o}`)}})}static logout(){return Ne(this,null,function*(){let e=yield Ou(this);return this.dappProvider=void 0,e})}static signAndSendTransaction(e){return Ne(this,null,function*(){if(!this.dappProvider)throw new Error("Error: Transaction signing failed: There is no active session!");if(!this.networkProvider)throw new Error("Error: Transaction signing failed: There is no active network provider!");try{Te.run(5,e);let t=Se.get();e.setNonce(t.nonce),this.dappProvider instanceof t8.ExtensionProvider&&(yield this.dappProvider.signTransaction(e)),this.dappProvider instanceof r8.WalletConnectV2Provider&&(yield this.dappProvider.signTransaction(e)),this.dappProvider instanceof i8.WalletProvider&&(yield this.dappProvider.signTransaction(e)),t.loginMethod!=="web-wallet"&&(yield this.networkProvider.sendTransaction(e),yield Qp(e,this.networkProvider))}catch(t){let i=wr(t);throw Te.run(8,e,i),new Error(`Error: Transaction signing failed! ${i}`)}return e})}static queryContract(o){return Ne(this,arguments,function*({address:e,func:t,args:i=[],value:n=0,caller:s}){if(!this.networkProvider)throw new Error("Error: Query failed: There is no active network provider!");if(!e||!t)throw new Error("Error: Query failed: The Query arguments are not valid! Address and func required");try{return yield this.networkProvider.queryContract({address:e,func:t,args:i,value:n,caller:s})}catch(a){let c=wr(a);throw new Error(`Error: Smart contract query failed! ${c}`)}})}},Bl=Ml;Bl.storage=Se,Bl.destroy=()=>{Ml.networkProvider=void 0,Ml.dappProvider=void 0,Ml.initOptions=void 0,Te.clear()};var export_Account=xK.Account;var export_Address=CK.Address;var export_AddressValue=PK.AddressValue;var export_BigUIntValue=s8.BigUIntValue;var export_BooleanValue=OK.BooleanValue;var export_BytesValue=DK.BytesValue;var export_ContractCallPayloadBuilder=BK.ContractCallPayloadBuilder;var export_ContractFunction=MK.ContractFunction;var export_ESDTNFTTransferPayloadBuilder=n8.ESDTNFTTransferPayloadBuilder;var export_ESDTTransferPayloadBuilder=n8.ESDTTransferPayloadBuilder;var export_TokenPayment=bK.TokenPayment;var export_Transaction=SK.Transaction;var export_TransactionPayload=TK.TransactionPayload;var export_TransactionWatcher=NK.TransactionWatcher;var export_U32Value=s8.U32Value;export{export_Account as Account,export_Address as Address,export_AddressValue as AddressValue,export_BigUIntValue as BigUIntValue,export_BooleanValue as BooleanValue,export_BytesValue as BytesValue,export_ContractCallPayloadBuilder as ContractCallPayloadBuilder,export_ContractFunction as ContractFunction,export_ESDTNFTTransferPayloadBuilder as ESDTNFTTransferPayloadBuilder,export_ESDTTransferPayloadBuilder as ESDTTransferPayloadBuilder,Bl as ElvenJS,lo as LoginMethodsEnum,export_TokenPayment as TokenPayment,export_Transaction as Transaction,export_TransactionPayload as TransactionPayload,export_TransactionWatcher as TransactionWatcher,export_U32Value as U32Value};
/*! Bundled license information:

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

punycode/punycode.js:
  (*! https://mths.be/punycode v1.4.1 by @mathias *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)
*/
