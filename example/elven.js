var Nk=Object.create;var Dd=Object.defineProperty;var xk=Object.getOwnPropertyDescriptor;var Ok=Object.getOwnPropertyNames;var Dk=Object.getPrototypeOf,Pk=Object.prototype.hasOwnProperty;var Pd=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,r)=>(typeof require<"u"?require:e)[r]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var de=(t,e)=>()=>(t&&(e=t(t=0)),e);var D=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Ot=(t,e)=>{for(var r in e)Dd(t,r,{get:e[r],enumerable:!0})},Od=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Ok(e))!Pk.call(t,i)&&i!==r&&Dd(t,i,{get:()=>e[i],enumerable:!(n=xk(e,i))||n.enumerable});return t},Tr=(t,e,r)=>(Od(t,e,"default"),r&&Od(r,e,"default")),ge=(t,e,r)=>(r=t!=null?Nk(Dk(t)):{},Od(e||!t||!t.__esModule?Dd(r,"default",{value:t,enumerable:!0}):r,t)),xe=t=>Od(Dd({},"__esModule",{value:!0}),t);var E3=D(Rd=>{"use strict";h();Rd.byteLength=Bk;Rd.toByteArray=Lk;Rd.fromByteArray=qk;var Li=[],Tn=[],Rk=typeof Uint8Array<"u"?Uint8Array:Array,bw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(va=0,v3=bw.length;va<v3;++va)Li[va]=bw[va],Tn[bw.charCodeAt(va)]=va;var va,v3;Tn[45]=62;Tn[95]=63;function A3(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function Bk(t){var e=A3(t),r=e[0],n=e[1];return(r+n)*3/4-n}function Mk(t,e,r){return(e+r)*3/4-r}function Lk(t){var e,r=A3(t),n=r[0],i=r[1],s=new Rk(Mk(t,n,i)),o=0,u=i>0?n-4:n,a;for(a=0;a<u;a+=4)e=Tn[t.charCodeAt(a)]<<18|Tn[t.charCodeAt(a+1)]<<12|Tn[t.charCodeAt(a+2)]<<6|Tn[t.charCodeAt(a+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return i===2&&(e=Tn[t.charCodeAt(a)]<<2|Tn[t.charCodeAt(a+1)]>>4,s[o++]=e&255),i===1&&(e=Tn[t.charCodeAt(a)]<<10|Tn[t.charCodeAt(a+1)]<<4|Tn[t.charCodeAt(a+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function Fk(t){return Li[t>>18&63]+Li[t>>12&63]+Li[t>>6&63]+Li[t&63]}function Uk(t,e,r){for(var n,i=[],s=e;s<r;s+=3)n=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),i.push(Fk(n));return i.join("")}function qk(t){for(var e,r=t.length,n=r%3,i=[],s=16383,o=0,u=r-n;o<u;o+=s)i.push(Uk(t,o,o+s>u?u:o+s));return n===1?(e=t[r-1],i.push(Li[e>>2]+Li[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],i.push(Li[e>>10]+Li[e>>4&63]+Li[e<<2&63]+"=")),i.join("")}});var b3=D(Sw=>{h();Sw.read=function(t,e,r,n,i){var s,o,u=i*8-n-1,a=(1<<u)-1,c=a>>1,f=-7,d=r?i-1:0,w=r?-1:1,A=t[e+d];for(d+=w,s=A&(1<<-f)-1,A>>=-f,f+=u;f>0;s=s*256+t[e+d],d+=w,f-=8);for(o=s&(1<<-f)-1,s>>=-f,f+=n;f>0;o=o*256+t[e+d],d+=w,f-=8);if(s===0)s=1-c;else{if(s===a)return o?NaN:(A?-1:1)*(1/0);o=o+Math.pow(2,n),s=s-c}return(A?-1:1)*o*Math.pow(2,s-n)};Sw.write=function(t,e,r,n,i,s){var o,u,a,c=s*8-i-1,f=(1<<c)-1,d=f>>1,w=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,A=n?0:s-1,_=n?1:-1,N=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(u=isNaN(e)?1:0,o=f):(o=Math.floor(Math.log(e)/Math.LN2),e*(a=Math.pow(2,-o))<1&&(o--,a*=2),o+d>=1?e+=w/a:e+=w*Math.pow(2,1-d),e*a>=2&&(o++,a/=2),o+d>=f?(u=0,o=f):o+d>=1?(u=(e*a-1)*Math.pow(2,i),o=o+d):(u=e*Math.pow(2,d-1)*Math.pow(2,i),o=0));i>=8;t[r+A]=u&255,A+=_,u/=256,i-=8);for(o=o<<i|u,c+=i;c>0;t[r+A]=o&255,A+=_,o/=256,c-=8);t[r+A-_]|=N*128}});var no=D(Tu=>{"use strict";h();var Iw=E3(),_u=b3(),S3=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Tu.Buffer=X;Tu.SlowBuffer=zk;Tu.INSPECT_MAX_BYTES=50;var Bd=2147483647;Tu.kMaxLength=Bd;X.TYPED_ARRAY_SUPPORT=Vk();!X.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function Vk(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch{return!1}}Object.defineProperty(X.prototype,"parent",{enumerable:!0,get:function(){if(X.isBuffer(this))return this.buffer}});Object.defineProperty(X.prototype,"offset",{enumerable:!0,get:function(){if(X.isBuffer(this))return this.byteOffset}});function Ts(t){if(t>Bd)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return Object.setPrototypeOf(e,X.prototype),e}function X(t,e,r){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Nw(t)}return T3(t,e,r)}X.poolSize=8192;function T3(t,e,r){if(typeof t=="string")return Hk(t,e);if(ArrayBuffer.isView(t))return Gk(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(Fi(t,ArrayBuffer)||t&&Fi(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Fi(t,SharedArrayBuffer)||t&&Fi(t.buffer,SharedArrayBuffer)))return Tw(t,e,r);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var n=t.valueOf&&t.valueOf();if(n!=null&&n!==t)return X.from(n,e,r);var i=jk(t);if(i)return i;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return X.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}X.from=function(t,e,r){return T3(t,e,r)};Object.setPrototypeOf(X.prototype,Uint8Array.prototype);Object.setPrototypeOf(X,Uint8Array);function C3(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function kk(t,e,r){return C3(t),t<=0?Ts(t):e!==void 0?typeof r=="string"?Ts(t).fill(e,r):Ts(t).fill(e):Ts(t)}X.alloc=function(t,e,r){return kk(t,e,r)};function Nw(t){return C3(t),Ts(t<0?0:xw(t)|0)}X.allocUnsafe=function(t){return Nw(t)};X.allocUnsafeSlow=function(t){return Nw(t)};function Hk(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!X.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var r=N3(t,e)|0,n=Ts(r),i=n.write(t,e);return i!==r&&(n=n.slice(0,i)),n}function _w(t){for(var e=t.length<0?0:xw(t.length)|0,r=Ts(e),n=0;n<e;n+=1)r[n]=t[n]&255;return r}function Gk(t){if(Fi(t,Uint8Array)){var e=new Uint8Array(t);return Tw(e.buffer,e.byteOffset,e.byteLength)}return _w(t)}function Tw(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return e===void 0&&r===void 0?n=new Uint8Array(t):r===void 0?n=new Uint8Array(t,e):n=new Uint8Array(t,e,r),Object.setPrototypeOf(n,X.prototype),n}function jk(t){if(X.isBuffer(t)){var e=xw(t.length)|0,r=Ts(e);return r.length===0||t.copy(r,0,0,e),r}if(t.length!==void 0)return typeof t.length!="number"||Ow(t.length)?Ts(0):_w(t);if(t.type==="Buffer"&&Array.isArray(t.data))return _w(t.data)}function xw(t){if(t>=Bd)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Bd.toString(16)+" bytes");return t|0}function zk(t){return+t!=t&&(t=0),X.alloc(+t)}X.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==X.prototype};X.compare=function(e,r){if(Fi(e,Uint8Array)&&(e=X.from(e,e.offset,e.byteLength)),Fi(r,Uint8Array)&&(r=X.from(r,r.offset,r.byteLength)),!X.isBuffer(e)||!X.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===r)return 0;for(var n=e.length,i=r.length,s=0,o=Math.min(n,i);s<o;++s)if(e[s]!==r[s]){n=e[s],i=r[s];break}return n<i?-1:i<n?1:0};X.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};X.concat=function(e,r){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return X.alloc(0);var n;if(r===void 0)for(r=0,n=0;n<e.length;++n)r+=e[n].length;var i=X.allocUnsafe(r),s=0;for(n=0;n<e.length;++n){var o=e[n];if(Fi(o,Uint8Array))s+o.length>i.length?X.from(o).copy(i,s):Uint8Array.prototype.set.call(i,o,s);else if(X.isBuffer(o))o.copy(i,s);else throw new TypeError('"list" argument must be an Array of Buffers');s+=o.length}return i};function N3(t,e){if(X.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||Fi(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var r=t.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&r===0)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return Cw(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return B3(t).length;default:if(i)return n?-1:Cw(t).length;e=(""+e).toLowerCase(),i=!0}}X.byteLength=N3;function Qk(t,e,r){var n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,e>>>=0,r<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return rH(this,e,r);case"utf8":case"utf-8":return O3(this,e,r);case"ascii":return eH(this,e,r);case"latin1":case"binary":return tH(this,e,r);case"base64":return Xk(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return nH(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}X.prototype._isBuffer=!0;function Aa(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}X.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<e;r+=2)Aa(this,r,r+1);return this};X.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<e;r+=4)Aa(this,r,r+3),Aa(this,r+1,r+2);return this};X.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<e;r+=8)Aa(this,r,r+7),Aa(this,r+1,r+6),Aa(this,r+2,r+5),Aa(this,r+3,r+4);return this};X.prototype.toString=function(){var e=this.length;return e===0?"":arguments.length===0?O3(this,0,e):Qk.apply(this,arguments)};X.prototype.toLocaleString=X.prototype.toString;X.prototype.equals=function(e){if(!X.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:X.compare(this,e)===0};X.prototype.inspect=function(){var e="",r=Tu.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"};S3&&(X.prototype[S3]=X.prototype.inspect);X.prototype.compare=function(e,r,n,i,s){if(Fi(e,Uint8Array)&&(e=X.from(e,e.offset,e.byteLength)),!X.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(r===void 0&&(r=0),n===void 0&&(n=e?e.length:0),i===void 0&&(i=0),s===void 0&&(s=this.length),r<0||n>e.length||i<0||s>this.length)throw new RangeError("out of range index");if(i>=s&&r>=n)return 0;if(i>=s)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,i>>>=0,s>>>=0,this===e)return 0;for(var o=s-i,u=n-r,a=Math.min(o,u),c=this.slice(i,s),f=e.slice(r,n),d=0;d<a;++d)if(c[d]!==f[d]){o=c[d],u=f[d];break}return o<u?-1:u<o?1:0};function x3(t,e,r,n,i){if(t.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,Ow(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0)if(i)r=0;else return-1;if(typeof e=="string"&&(e=X.from(e,n)),X.isBuffer(e))return e.length===0?-1:I3(t,e,r,n,i);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):I3(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function I3(t,e,r,n,i){var s=1,o=t.length,u=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(t.length<2||e.length<2)return-1;s=2,o/=2,u/=2,r/=2}function a(A,_){return s===1?A[_]:A.readUInt16BE(_*s)}var c;if(i){var f=-1;for(c=r;c<o;c++)if(a(t,c)===a(e,f===-1?0:c-f)){if(f===-1&&(f=c),c-f+1===u)return f*s}else f!==-1&&(c-=c-f),f=-1}else for(r+u>o&&(r=o-u),c=r;c>=0;c--){for(var d=!0,w=0;w<u;w++)if(a(t,c+w)!==a(e,w)){d=!1;break}if(d)return c}return-1}X.prototype.includes=function(e,r,n){return this.indexOf(e,r,n)!==-1};X.prototype.indexOf=function(e,r,n){return x3(this,e,r,n,!0)};X.prototype.lastIndexOf=function(e,r,n){return x3(this,e,r,n,!1)};function Kk(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;var s=e.length;n>s/2&&(n=s/2);for(var o=0;o<n;++o){var u=parseInt(e.substr(o*2,2),16);if(Ow(u))return o;t[r+o]=u}return o}function Wk(t,e,r,n){return Md(Cw(e,t.length-r),t,r,n)}function $k(t,e,r,n){return Md(oH(e),t,r,n)}function Yk(t,e,r,n){return Md(B3(e),t,r,n)}function Jk(t,e,r,n){return Md(aH(e,t.length-r),t,r,n)}X.prototype.write=function(e,r,n,i){if(r===void 0)i="utf8",n=this.length,r=0;else if(n===void 0&&typeof r=="string")i=r,n=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(n)?(n=n>>>0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var s=this.length-r;if((n===void 0||n>s)&&(n=s),e.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return Kk(this,e,r,n);case"utf8":case"utf-8":return Wk(this,e,r,n);case"ascii":case"latin1":case"binary":return $k(this,e,r,n);case"base64":return Yk(this,e,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Jk(this,e,r,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}};X.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Xk(t,e,r){return e===0&&r===t.length?Iw.fromByteArray(t):Iw.fromByteArray(t.slice(e,r))}function O3(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var s=t[i],o=null,u=s>239?4:s>223?3:s>191?2:1;if(i+u<=r){var a,c,f,d;switch(u){case 1:s<128&&(o=s);break;case 2:a=t[i+1],(a&192)===128&&(d=(s&31)<<6|a&63,d>127&&(o=d));break;case 3:a=t[i+1],c=t[i+2],(a&192)===128&&(c&192)===128&&(d=(s&15)<<12|(a&63)<<6|c&63,d>2047&&(d<55296||d>57343)&&(o=d));break;case 4:a=t[i+1],c=t[i+2],f=t[i+3],(a&192)===128&&(c&192)===128&&(f&192)===128&&(d=(s&15)<<18|(a&63)<<12|(c&63)<<6|f&63,d>65535&&d<1114112&&(o=d))}}o===null?(o=65533,u=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|o&1023),n.push(o),i+=u}return Zk(n)}var _3=4096;function Zk(t){var e=t.length;if(e<=_3)return String.fromCharCode.apply(String,t);for(var r="",n=0;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=_3));return r}function eH(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]&127);return n}function tH(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function rH(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",s=e;s<r;++s)i+=uH[t[s]];return i}function nH(t,e,r){for(var n=t.slice(e,r),i="",s=0;s<n.length-1;s+=2)i+=String.fromCharCode(n[s]+n[s+1]*256);return i}X.prototype.slice=function(e,r){var n=this.length;e=~~e,r=r===void 0?n:~~r,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<e&&(r=e);var i=this.subarray(e,r);return Object.setPrototypeOf(i,X.prototype),i};function pr(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}X.prototype.readUintLE=X.prototype.readUIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||pr(e,r,this.length);for(var i=this[e],s=1,o=0;++o<r&&(s*=256);)i+=this[e+o]*s;return i};X.prototype.readUintBE=X.prototype.readUIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||pr(e,r,this.length);for(var i=this[e+--r],s=1;r>0&&(s*=256);)i+=this[e+--r]*s;return i};X.prototype.readUint8=X.prototype.readUInt8=function(e,r){return e=e>>>0,r||pr(e,1,this.length),this[e]};X.prototype.readUint16LE=X.prototype.readUInt16LE=function(e,r){return e=e>>>0,r||pr(e,2,this.length),this[e]|this[e+1]<<8};X.prototype.readUint16BE=X.prototype.readUInt16BE=function(e,r){return e=e>>>0,r||pr(e,2,this.length),this[e]<<8|this[e+1]};X.prototype.readUint32LE=X.prototype.readUInt32LE=function(e,r){return e=e>>>0,r||pr(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};X.prototype.readUint32BE=X.prototype.readUInt32BE=function(e,r){return e=e>>>0,r||pr(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};X.prototype.readIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||pr(e,r,this.length);for(var i=this[e],s=1,o=0;++o<r&&(s*=256);)i+=this[e+o]*s;return s*=128,i>=s&&(i-=Math.pow(2,8*r)),i};X.prototype.readIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||pr(e,r,this.length);for(var i=r,s=1,o=this[e+--i];i>0&&(s*=256);)o+=this[e+--i]*s;return s*=128,o>=s&&(o-=Math.pow(2,8*r)),o};X.prototype.readInt8=function(e,r){return e=e>>>0,r||pr(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};X.prototype.readInt16LE=function(e,r){e=e>>>0,r||pr(e,2,this.length);var n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};X.prototype.readInt16BE=function(e,r){e=e>>>0,r||pr(e,2,this.length);var n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};X.prototype.readInt32LE=function(e,r){return e=e>>>0,r||pr(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};X.prototype.readInt32BE=function(e,r){return e=e>>>0,r||pr(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};X.prototype.readFloatLE=function(e,r){return e=e>>>0,r||pr(e,4,this.length),_u.read(this,e,!0,23,4)};X.prototype.readFloatBE=function(e,r){return e=e>>>0,r||pr(e,4,this.length),_u.read(this,e,!1,23,4)};X.prototype.readDoubleLE=function(e,r){return e=e>>>0,r||pr(e,8,this.length),_u.read(this,e,!0,52,8)};X.prototype.readDoubleBE=function(e,r){return e=e>>>0,r||pr(e,8,this.length),_u.read(this,e,!1,52,8)};function Kr(t,e,r,n,i,s){if(!X.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<s)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}X.prototype.writeUintLE=X.prototype.writeUIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){var s=Math.pow(2,8*n)-1;Kr(this,e,r,n,s,0)}var o=1,u=0;for(this[r]=e&255;++u<n&&(o*=256);)this[r+u]=e/o&255;return r+n};X.prototype.writeUintBE=X.prototype.writeUIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){var s=Math.pow(2,8*n)-1;Kr(this,e,r,n,s,0)}var o=n-1,u=1;for(this[r+o]=e&255;--o>=0&&(u*=256);)this[r+o]=e/u&255;return r+n};X.prototype.writeUint8=X.prototype.writeUInt8=function(e,r,n){return e=+e,r=r>>>0,n||Kr(this,e,r,1,255,0),this[r]=e&255,r+1};X.prototype.writeUint16LE=X.prototype.writeUInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||Kr(this,e,r,2,65535,0),this[r]=e&255,this[r+1]=e>>>8,r+2};X.prototype.writeUint16BE=X.prototype.writeUInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||Kr(this,e,r,2,65535,0),this[r]=e>>>8,this[r+1]=e&255,r+2};X.prototype.writeUint32LE=X.prototype.writeUInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||Kr(this,e,r,4,4294967295,0),this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=e&255,r+4};X.prototype.writeUint32BE=X.prototype.writeUInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||Kr(this,e,r,4,4294967295,0),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};X.prototype.writeIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){var s=Math.pow(2,8*n-1);Kr(this,e,r,n,s-1,-s)}var o=0,u=1,a=0;for(this[r]=e&255;++o<n&&(u*=256);)e<0&&a===0&&this[r+o-1]!==0&&(a=1),this[r+o]=(e/u>>0)-a&255;return r+n};X.prototype.writeIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){var s=Math.pow(2,8*n-1);Kr(this,e,r,n,s-1,-s)}var o=n-1,u=1,a=0;for(this[r+o]=e&255;--o>=0&&(u*=256);)e<0&&a===0&&this[r+o+1]!==0&&(a=1),this[r+o]=(e/u>>0)-a&255;return r+n};X.prototype.writeInt8=function(e,r,n){return e=+e,r=r>>>0,n||Kr(this,e,r,1,127,-128),e<0&&(e=255+e+1),this[r]=e&255,r+1};X.prototype.writeInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||Kr(this,e,r,2,32767,-32768),this[r]=e&255,this[r+1]=e>>>8,r+2};X.prototype.writeInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||Kr(this,e,r,2,32767,-32768),this[r]=e>>>8,this[r+1]=e&255,r+2};X.prototype.writeInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||Kr(this,e,r,4,2147483647,-2147483648),this[r]=e&255,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24,r+4};X.prototype.writeInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||Kr(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};function D3(t,e,r,n,i,s){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function P3(t,e,r,n,i){return e=+e,r=r>>>0,i||D3(t,e,r,4,34028234663852886e22,-34028234663852886e22),_u.write(t,e,r,n,23,4),r+4}X.prototype.writeFloatLE=function(e,r,n){return P3(this,e,r,!0,n)};X.prototype.writeFloatBE=function(e,r,n){return P3(this,e,r,!1,n)};function R3(t,e,r,n,i){return e=+e,r=r>>>0,i||D3(t,e,r,8,17976931348623157e292,-17976931348623157e292),_u.write(t,e,r,n,52,8),r+8}X.prototype.writeDoubleLE=function(e,r,n){return R3(this,e,r,!0,n)};X.prototype.writeDoubleBE=function(e,r,n){return R3(this,e,r,!1,n)};X.prototype.copy=function(e,r,n,i){if(!X.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),!i&&i!==0&&(i=this.length),r>=e.length&&(r=e.length),r||(r=0),i>0&&i<n&&(i=n),i===n||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-r<i-n&&(i=e.length-r+n);var s=i-n;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,n,i):Uint8Array.prototype.set.call(e,this.subarray(n,i),r),s};X.prototype.fill=function(e,r,n,i){if(typeof e=="string"){if(typeof r=="string"?(i=r,r=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!X.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(e.length===1){var s=e.charCodeAt(0);(i==="utf8"&&s<128||i==="latin1")&&(e=s)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);var o;if(typeof e=="number")for(o=r;o<n;++o)this[o]=e;else{var u=X.isBuffer(e)?e:X.from(e,i),a=u.length;if(a===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-r;++o)this[o+r]=u[o%a]}return this};var iH=/[^+/0-9A-Za-z-_]/g;function sH(t){if(t=t.split("=")[0],t=t.trim().replace(iH,""),t.length<2)return"";for(;t.length%4!==0;)t=t+"=";return t}function Cw(t,e){e=e||1/0;for(var r,n=t.length,i=null,s=[],o=0;o<n;++o){if(r=t.charCodeAt(o),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(o+1===n){(e-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&s.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(e-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;s.push(r)}else if(r<2048){if((e-=2)<0)break;s.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;s.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return s}function oH(t){for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r)&255);return e}function aH(t,e){for(var r,n,i,s=[],o=0;o<t.length&&!((e-=2)<0);++o)r=t.charCodeAt(o),n=r>>8,i=r%256,s.push(i),s.push(n);return s}function B3(t){return Iw.toByteArray(sH(t))}function Md(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function Fi(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function Ow(t){return t!==t}var uH=function(){for(var t="0123456789abcdef",e=new Array(256),r=0;r<16;++r)for(var n=r*16,i=0;i<16;++i)e[n+i]=t[r]+t[i];return e}()});var q3=D((bpe,U3)=>{h();var Wt=U3.exports={},Ui,qi;function Dw(){throw new Error("setTimeout has not been defined")}function Pw(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Ui=setTimeout:Ui=Dw}catch{Ui=Dw}try{typeof clearTimeout=="function"?qi=clearTimeout:qi=Pw}catch{qi=Pw}})();function M3(t){if(Ui===setTimeout)return setTimeout(t,0);if((Ui===Dw||!Ui)&&setTimeout)return Ui=setTimeout,setTimeout(t,0);try{return Ui(t,0)}catch{try{return Ui.call(null,t,0)}catch{return Ui.call(this,t,0)}}}function cH(t){if(qi===clearTimeout)return clearTimeout(t);if((qi===Pw||!qi)&&clearTimeout)return qi=clearTimeout,clearTimeout(t);try{return qi(t)}catch{try{return qi.call(null,t)}catch{return qi.call(this,t)}}}var Cs=[],Cu=!1,Ea,Ld=-1;function lH(){!Cu||!Ea||(Cu=!1,Ea.length?Cs=Ea.concat(Cs):Ld=-1,Cs.length&&L3())}function L3(){if(!Cu){var t=M3(lH);Cu=!0;for(var e=Cs.length;e;){for(Ea=Cs,Cs=[];++Ld<e;)Ea&&Ea[Ld].run();Ld=-1,e=Cs.length}Ea=null,Cu=!1,cH(t)}}Wt.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];Cs.push(new F3(t,e)),Cs.length===1&&!Cu&&M3(L3)};function F3(t,e){this.fun=t,this.array=e}F3.prototype.run=function(){this.fun.apply(null,this.array)};Wt.title="browser";Wt.browser=!0;Wt.env={};Wt.argv=[];Wt.version="";Wt.versions={};function Ns(){}Wt.on=Ns;Wt.addListener=Ns;Wt.once=Ns;Wt.off=Ns;Wt.removeListener=Ns;Wt.removeAllListeners=Ns;Wt.emit=Ns;Wt.prependListener=Ns;Wt.prependOnceListener=Ns;Wt.listeners=function(t){return[]};Wt.binding=function(t){throw new Error("process.binding is not supported")};Wt.cwd=function(){return"/"};Wt.chdir=function(t){throw new Error("process.chdir is not supported")};Wt.umask=function(){return 0}});var p,S,fH,global,h=de(()=>{p=ge(no()),S=ge(q3()),fH=function(t){function e(){var n=this||self;return delete t.prototype.__magic__,n}if(typeof globalThis=="object")return globalThis;if(this)return e();t.defineProperty(t.prototype,"__magic__",{configurable:!0,get:e});var r=__magic__;return r}(Object),global=fH});var hr={};Ot(hr,{BigNumber:()=>H3,default:()=>Nu});function k3(t){var e,r,n,i=U.prototype={constructor:U,toString:null,valueOf:null},s=new U(1),o=20,u=4,a=-7,c=21,f=-1e7,d=1e7,w=!1,A=1,_=0,N={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xA0",suffix:""},P="0123456789abcdefghijklmnopqrstuvwxyz",V=!0;function U(v,C){var R,F,B,l,g,y,E,I,T=this;if(!(T instanceof U))return new U(v,C);if(C==null){if(v&&v._isBigNumber===!0){T.s=v.s,!v.c||v.e>d?T.c=T.e=null:v.e<f?T.c=[T.e=0]:(T.e=v.e,T.c=v.c.slice());return}if((y=typeof v=="number")&&v*0==0){if(T.s=1/v<0?(v=-v,-1):1,v===~~v){for(l=0,g=v;g>=10;g/=10,l++);l>d?T.c=T.e=null:(T.e=l,T.c=[v]);return}I=String(v)}else{if(!hH.test(I=String(v)))return n(T,I,y);T.s=I.charCodeAt(0)==45?(I=I.slice(1),-1):1}(l=I.indexOf("."))>-1&&(I=I.replace(".","")),(g=I.search(/e/i))>0?(l<0&&(l=g),l+=+I.slice(g+1),I=I.substring(0,g)):l<0&&(l=I.length)}else{if(Ht(C,2,P.length,"Base"),C==10&&V)return T=new U(v),H(T,o+T.e+1,u);if(I=String(v),y=typeof v=="number"){if(v*0!=0)return n(T,I,y,C);if(T.s=1/v<0?(I=I.slice(1),-1):1,U.DEBUG&&I.replace(/^0\.0*|\./,"").length>15)throw Error(V3+v)}else T.s=I.charCodeAt(0)===45?(I=I.slice(1),-1):1;for(R=P.slice(0,C),l=g=0,E=I.length;g<E;g++)if(R.indexOf(F=I.charAt(g))<0){if(F=="."){if(g>l){l=E;continue}}else if(!B&&(I==I.toUpperCase()&&(I=I.toLowerCase())||I==I.toLowerCase()&&(I=I.toUpperCase()))){B=!0,g=-1,l=0;continue}return n(T,String(v),y,C)}y=!1,I=r(I,C,10,T.s),(l=I.indexOf("."))>-1?I=I.replace(".",""):l=I.length}for(g=0;I.charCodeAt(g)===48;g++);for(E=I.length;I.charCodeAt(--E)===48;);if(I=I.slice(g,++E)){if(E-=g,y&&U.DEBUG&&E>15&&(v>Bw||v!==Nn(v)))throw Error(V3+T.s*v);if((l=l-g-1)>d)T.c=T.e=null;else if(l<f)T.c=[T.e=0];else{if(T.e=l,T.c=[],g=(l+1)%be,l<0&&(g+=be),g<E){for(g&&T.c.push(+I.slice(0,g)),E-=be;g<E;)T.c.push(+I.slice(g,g+=be));g=be-(I=I.slice(g)).length}else g-=E;for(;g--;I+="0");T.c.push(+I)}}else T.c=[T.e=0]}U.clone=k3,U.ROUND_UP=0,U.ROUND_DOWN=1,U.ROUND_CEIL=2,U.ROUND_FLOOR=3,U.ROUND_HALF_UP=4,U.ROUND_HALF_DOWN=5,U.ROUND_HALF_EVEN=6,U.ROUND_HALF_CEIL=7,U.ROUND_HALF_FLOOR=8,U.EUCLID=9,U.config=U.set=function(v){var C,R;if(v!=null)if(typeof v=="object"){if(v.hasOwnProperty(C="DECIMAL_PLACES")&&(R=v[C],Ht(R,0,mr,C),o=R),v.hasOwnProperty(C="ROUNDING_MODE")&&(R=v[C],Ht(R,0,8,C),u=R),v.hasOwnProperty(C="EXPONENTIAL_AT")&&(R=v[C],R&&R.pop?(Ht(R[0],-mr,0,C),Ht(R[1],0,mr,C),a=R[0],c=R[1]):(Ht(R,-mr,mr,C),a=-(c=R<0?-R:R))),v.hasOwnProperty(C="RANGE"))if(R=v[C],R&&R.pop)Ht(R[0],-mr,-1,C),Ht(R[1],1,mr,C),f=R[0],d=R[1];else if(Ht(R,-mr,mr,C),R)f=-(d=R<0?-R:R);else throw Error(Wr+C+" cannot be zero: "+R);if(v.hasOwnProperty(C="CRYPTO"))if(R=v[C],R===!!R)if(R)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))w=R;else throw w=!R,Error(Wr+"crypto unavailable");else w=R;else throw Error(Wr+C+" not true or false: "+R);if(v.hasOwnProperty(C="MODULO_MODE")&&(R=v[C],Ht(R,0,9,C),A=R),v.hasOwnProperty(C="POW_PRECISION")&&(R=v[C],Ht(R,0,mr,C),_=R),v.hasOwnProperty(C="FORMAT"))if(R=v[C],typeof R=="object")N=R;else throw Error(Wr+C+" not an object: "+R);if(v.hasOwnProperty(C="ALPHABET"))if(R=v[C],typeof R=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(R))V=R.slice(0,10)=="0123456789",P=R;else throw Error(Wr+C+" invalid: "+R)}else throw Error(Wr+"Object expected: "+v);return{DECIMAL_PLACES:o,ROUNDING_MODE:u,EXPONENTIAL_AT:[a,c],RANGE:[f,d],CRYPTO:w,MODULO_MODE:A,POW_PRECISION:_,FORMAT:N,ALPHABET:P}},U.isBigNumber=function(v){if(!v||v._isBigNumber!==!0)return!1;if(!U.DEBUG)return!0;var C,R,F=v.c,B=v.e,l=v.s;e:if({}.toString.call(F)=="[object Array]"){if((l===1||l===-1)&&B>=-mr&&B<=mr&&B===Nn(B)){if(F[0]===0){if(B===0&&F.length===1)return!0;break e}if(C=(B+1)%be,C<1&&(C+=be),String(F[0]).length==C){for(C=0;C<F.length;C++)if(R=F[C],R<0||R>=mi||R!==Nn(R))break e;if(R!==0)return!0}}}else if(F===null&&B===null&&(l===null||l===1||l===-1))return!0;throw Error(Wr+"Invalid BigNumber: "+v)},U.maximum=U.max=function(){return L(arguments,-1)},U.minimum=U.min=function(){return L(arguments,1)},U.random=function(){var v=9007199254740992,C=Math.random()*v&2097151?function(){return Nn(Math.random()*v)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(R){var F,B,l,g,y,E=0,I=[],T=new U(s);if(R==null?R=o:Ht(R,0,mr),g=Rw(R/be),w)if(crypto.getRandomValues){for(F=crypto.getRandomValues(new Uint32Array(g*=2));E<g;)y=F[E]*131072+(F[E+1]>>>11),y>=9e15?(B=crypto.getRandomValues(new Uint32Array(2)),F[E]=B[0],F[E+1]=B[1]):(I.push(y%1e14),E+=2);E=g/2}else if(crypto.randomBytes){for(F=crypto.randomBytes(g*=7);E<g;)y=(F[E]&31)*281474976710656+F[E+1]*1099511627776+F[E+2]*4294967296+F[E+3]*16777216+(F[E+4]<<16)+(F[E+5]<<8)+F[E+6],y>=9e15?crypto.randomBytes(7).copy(F,E):(I.push(y%1e14),E+=7);E=g/7}else throw w=!1,Error(Wr+"crypto unavailable");if(!w)for(;E<g;)y=C(),y<9e15&&(I[E++]=y%1e14);for(g=I[--E],R%=be,g&&R&&(y=Mw[be-R],I[E]=Nn(g/y)*y);I[E]===0;I.pop(),E--);if(E<0)I=[l=0];else{for(l=-1;I[0]===0;I.splice(0,1),l-=be);for(E=1,y=I[0];y>=10;y/=10,E++);E<be&&(l-=be-E)}return T.e=l,T.c=I,T}}(),U.sum=function(){for(var v=1,C=arguments,R=new U(C[0]);v<C.length;)R=R.plus(C[v++]);return R},r=function(){var v="0123456789";function C(R,F,B,l){for(var g,y=[0],E,I=0,T=R.length;I<T;){for(E=y.length;E--;y[E]*=F);for(y[0]+=l.indexOf(R.charAt(I++)),g=0;g<y.length;g++)y[g]>B-1&&(y[g+1]==null&&(y[g+1]=0),y[g+1]+=y[g]/B|0,y[g]%=B)}return y.reverse()}return function(R,F,B,l,g){var y,E,I,T,M,x,m,O,Y=R.indexOf("."),$=o,b=u;for(Y>=0&&(T=_,_=0,R=R.replace(".",""),O=new U(F),x=O.pow(R.length-Y),_=T,O.c=C(xs(Cn(x.c),x.e,"0"),10,B,v),O.e=O.c.length),m=C(R,F,B,g?(y=P,v):(y=v,P)),I=T=m.length;m[--T]==0;m.pop());if(!m[0])return y.charAt(0);if(Y<0?--I:(x.c=m,x.e=I,x.s=l,x=e(x,O,$,b,B),m=x.c,M=x.r,I=x.e),E=I+$+1,Y=m[E],T=B/2,M=M||E<0||m[E+1]!=null,M=b<4?(Y!=null||M)&&(b==0||b==(x.s<0?3:2)):Y>T||Y==T&&(b==4||M||b==6&&m[E-1]&1||b==(x.s<0?8:7)),E<1||!m[0])R=M?xs(y.charAt(1),-$,y.charAt(0)):y.charAt(0);else{if(m.length=E,M)for(--B;++m[--E]>B;)m[E]=0,E||(++I,m=[1].concat(m));for(T=m.length;!m[--T];);for(Y=0,R="";Y<=T;R+=y.charAt(m[Y++]));R=xs(R,I,y.charAt(0))}return R}}(),e=function(){function v(F,B,l){var g,y,E,I,T=0,M=F.length,x=B%io,m=B/io|0;for(F=F.slice();M--;)E=F[M]%io,I=F[M]/io|0,g=m*E+I*x,y=x*E+g%io*io+T,T=(y/l|0)+(g/io|0)+m*I,F[M]=y%l;return T&&(F=[T].concat(F)),F}function C(F,B,l,g){var y,E;if(l!=g)E=l>g?1:-1;else for(y=E=0;y<l;y++)if(F[y]!=B[y]){E=F[y]>B[y]?1:-1;break}return E}function R(F,B,l,g){for(var y=0;l--;)F[l]-=y,y=F[l]<B[l]?1:0,F[l]=y*g+F[l]-B[l];for(;!F[0]&&F.length>1;F.splice(0,1));}return function(F,B,l,g,y){var E,I,T,M,x,m,O,Y,$,b,j,z,W,ie,te,ee,se,oe=F.s==B.s?1:-1,J=F.c,ue=B.c;if(!J||!J[0]||!ue||!ue[0])return new U(!F.s||!B.s||(J?ue&&J[0]==ue[0]:!ue)?NaN:J&&J[0]==0||!ue?oe*0:oe/0);for(Y=new U(oe),$=Y.c=[],I=F.e-B.e,oe=l+I+1,y||(y=mi,I=xn(F.e/be)-xn(B.e/be),oe=oe/be|0),T=0;ue[T]==(J[T]||0);T++);if(ue[T]>(J[T]||0)&&I--,oe<0)$.push(1),M=!0;else{for(ie=J.length,ee=ue.length,T=0,oe+=2,x=Nn(y/(ue[0]+1)),x>1&&(ue=v(ue,x,y),J=v(J,x,y),ee=ue.length,ie=J.length),W=ee,b=J.slice(0,ee),j=b.length;j<ee;b[j++]=0);se=ue.slice(),se=[0].concat(se),te=ue[0],ue[1]>=y/2&&te++;do{if(x=0,E=C(ue,b,ee,j),E<0){if(z=b[0],ee!=j&&(z=z*y+(b[1]||0)),x=Nn(z/te),x>1)for(x>=y&&(x=y-1),m=v(ue,x,y),O=m.length,j=b.length;C(m,b,O,j)==1;)x--,R(m,ee<O?se:ue,O,y),O=m.length,E=1;else x==0&&(E=x=1),m=ue.slice(),O=m.length;if(O<j&&(m=[0].concat(m)),R(b,m,j,y),j=b.length,E==-1)for(;C(ue,b,ee,j)<1;)x++,R(b,ee<j?se:ue,j,y),j=b.length}else E===0&&(x++,b=[0]);$[T++]=x,b[0]?b[j++]=J[W]||0:(b=[J[W]],j=1)}while((W++<ie||b[0]!=null)&&oe--);M=b[0]!=null,$[0]||$.splice(0,1)}if(y==mi){for(T=1,oe=$[0];oe>=10;oe/=10,T++);H(Y,l+(Y.e=T+I*be-1)+1,g,M)}else Y.e=I,Y.r=+M;return Y}}();function Q(v,C,R,F){var B,l,g,y,E;if(R==null?R=u:Ht(R,0,8),!v.c)return v.toString();if(B=v.c[0],g=v.e,C==null)E=Cn(v.c),E=F==1||F==2&&(g<=a||g>=c)?Ud(E,g):xs(E,g,"0");else if(v=H(new U(v),C,R),l=v.e,E=Cn(v.c),y=E.length,F==1||F==2&&(C<=l||l<=a)){for(;y<C;E+="0",y++);E=Ud(E,l)}else if(C-=g,E=xs(E,l,"0"),l+1>y){if(--C>0)for(E+=".";C--;E+="0");}else if(C+=l-y,C>0)for(l+1==y&&(E+=".");C--;E+="0");return v.s<0&&B?"-"+E:E}function L(v,C){for(var R,F,B=1,l=new U(v[0]);B<v.length;B++)F=new U(v[B]),(!F.s||(R=ba(l,F))===C||R===0&&l.s===C)&&(l=F);return l}function k(v,C,R){for(var F=1,B=C.length;!C[--B];C.pop());for(B=C[0];B>=10;B/=10,F++);return(R=F+R*be-1)>d?v.c=v.e=null:R<f?v.c=[v.e=0]:(v.e=R,v.c=C),v}n=function(){var v=/^(-?)0([xbo])(?=\w[\w.]*$)/i,C=/^([^.]+)\.$/,R=/^\.([^.]+)$/,F=/^-?(Infinity|NaN)$/,B=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(l,g,y,E){var I,T=y?g:g.replace(B,"");if(F.test(T))l.s=isNaN(T)?null:T<0?-1:1;else{if(!y&&(T=T.replace(v,function(M,x,m){return I=(m=m.toLowerCase())=="x"?16:m=="b"?2:8,!E||E==I?x:M}),E&&(I=E,T=T.replace(C,"$1").replace(R,"0.$1")),g!=T))return new U(T,I);if(U.DEBUG)throw Error(Wr+"Not a"+(E?" base "+E:"")+" number: "+g);l.s=null}l.c=l.e=null}}();function H(v,C,R,F){var B,l,g,y,E,I,T,M=v.c,x=Mw;if(M){e:{for(B=1,y=M[0];y>=10;y/=10,B++);if(l=C-B,l<0)l+=be,g=C,E=M[I=0],T=Nn(E/x[B-g-1]%10);else if(I=Rw((l+1)/be),I>=M.length)if(F){for(;M.length<=I;M.push(0));E=T=0,B=1,l%=be,g=l-be+1}else break e;else{for(E=y=M[I],B=1;y>=10;y/=10,B++);l%=be,g=l-be+B,T=g<0?0:Nn(E/x[B-g-1]%10)}if(F=F||C<0||M[I+1]!=null||(g<0?E:E%x[B-g-1]),F=R<4?(T||F)&&(R==0||R==(v.s<0?3:2)):T>5||T==5&&(R==4||F||R==6&&(l>0?g>0?E/x[B-g]:0:M[I-1])%10&1||R==(v.s<0?8:7)),C<1||!M[0])return M.length=0,F?(C-=v.e+1,M[0]=x[(be-C%be)%be],v.e=-C||0):M[0]=v.e=0,v;if(l==0?(M.length=I,y=1,I--):(M.length=I+1,y=x[be-l],M[I]=g>0?Nn(E/x[B-g]%x[g])*y:0),F)for(;;)if(I==0){for(l=1,g=M[0];g>=10;g/=10,l++);for(g=M[0]+=y,y=1;g>=10;g/=10,y++);l!=y&&(v.e++,M[0]==mi&&(M[0]=1));break}else{if(M[I]+=y,M[I]!=mi)break;M[I--]=0,y=1}for(l=M.length;M[--l]===0;M.pop());}v.e>d?v.c=v.e=null:v.e<f&&(v.c=[v.e=0])}return v}function q(v){var C,R=v.e;return R===null?v.toString():(C=Cn(v.c),C=R<=a||R>=c?Ud(C,R):xs(C,R,"0"),v.s<0?"-"+C:C)}return i.absoluteValue=i.abs=function(){var v=new U(this);return v.s<0&&(v.s=1),v},i.comparedTo=function(v,C){return ba(this,new U(v,C))},i.decimalPlaces=i.dp=function(v,C){var R,F,B,l=this;if(v!=null)return Ht(v,0,mr),C==null?C=u:Ht(C,0,8),H(new U(l),v+l.e+1,C);if(!(R=l.c))return null;if(F=((B=R.length-1)-xn(this.e/be))*be,B=R[B])for(;B%10==0;B/=10,F--);return F<0&&(F=0),F},i.dividedBy=i.div=function(v,C){return e(this,new U(v,C),o,u)},i.dividedToIntegerBy=i.idiv=function(v,C){return e(this,new U(v,C),0,1)},i.exponentiatedBy=i.pow=function(v,C){var R,F,B,l,g,y,E,I,T,M=this;if(v=new U(v),v.c&&!v.isInteger())throw Error(Wr+"Exponent not an integer: "+q(v));if(C!=null&&(C=new U(C)),y=v.e>14,!M.c||!M.c[0]||M.c[0]==1&&!M.e&&M.c.length==1||!v.c||!v.c[0])return T=new U(Math.pow(+q(M),y?v.s*(2-Fd(v)):+q(v))),C?T.mod(C):T;if(E=v.s<0,C){if(C.c?!C.c[0]:!C.s)return new U(NaN);F=!E&&M.isInteger()&&C.isInteger(),F&&(M=M.mod(C))}else{if(v.e>9&&(M.e>0||M.e<-1||(M.e==0?M.c[0]>1||y&&M.c[1]>=24e7:M.c[0]<8e13||y&&M.c[0]<=9999975e7)))return l=M.s<0&&Fd(v)?-0:0,M.e>-1&&(l=1/l),new U(E?1/l:l);_&&(l=Rw(_/be+2))}for(y?(R=new U(.5),E&&(v.s=1),I=Fd(v)):(B=Math.abs(+q(v)),I=B%2),T=new U(s);;){if(I){if(T=T.times(M),!T.c)break;l?T.c.length>l&&(T.c.length=l):F&&(T=T.mod(C))}if(B){if(B=Nn(B/2),B===0)break;I=B%2}else if(v=v.times(R),H(v,v.e+1,1),v.e>14)I=Fd(v);else{if(B=+q(v),B===0)break;I=B%2}M=M.times(M),l?M.c&&M.c.length>l&&(M.c.length=l):F&&(M=M.mod(C))}return F?T:(E&&(T=s.div(T)),C?T.mod(C):l?H(T,_,u,g):T)},i.integerValue=function(v){var C=new U(this);return v==null?v=u:Ht(v,0,8),H(C,C.e+1,v)},i.isEqualTo=i.eq=function(v,C){return ba(this,new U(v,C))===0},i.isFinite=function(){return!!this.c},i.isGreaterThan=i.gt=function(v,C){return ba(this,new U(v,C))>0},i.isGreaterThanOrEqualTo=i.gte=function(v,C){return(C=ba(this,new U(v,C)))===1||C===0},i.isInteger=function(){return!!this.c&&xn(this.e/be)>this.c.length-2},i.isLessThan=i.lt=function(v,C){return ba(this,new U(v,C))<0},i.isLessThanOrEqualTo=i.lte=function(v,C){return(C=ba(this,new U(v,C)))===-1||C===0},i.isNaN=function(){return!this.s},i.isNegative=function(){return this.s<0},i.isPositive=function(){return this.s>0},i.isZero=function(){return!!this.c&&this.c[0]==0},i.minus=function(v,C){var R,F,B,l,g=this,y=g.s;if(v=new U(v,C),C=v.s,!y||!C)return new U(NaN);if(y!=C)return v.s=-C,g.plus(v);var E=g.e/be,I=v.e/be,T=g.c,M=v.c;if(!E||!I){if(!T||!M)return T?(v.s=-C,v):new U(M?g:NaN);if(!T[0]||!M[0])return M[0]?(v.s=-C,v):new U(T[0]?g:u==3?-0:0)}if(E=xn(E),I=xn(I),T=T.slice(),y=E-I){for((l=y<0)?(y=-y,B=T):(I=E,B=M),B.reverse(),C=y;C--;B.push(0));B.reverse()}else for(F=(l=(y=T.length)<(C=M.length))?y:C,y=C=0;C<F;C++)if(T[C]!=M[C]){l=T[C]<M[C];break}if(l&&(B=T,T=M,M=B,v.s=-v.s),C=(F=M.length)-(R=T.length),C>0)for(;C--;T[R++]=0);for(C=mi-1;F>y;){if(T[--F]<M[F]){for(R=F;R&&!T[--R];T[R]=C);--T[R],T[F]+=mi}T[F]-=M[F]}for(;T[0]==0;T.splice(0,1),--I);return T[0]?k(v,T,I):(v.s=u==3?-1:1,v.c=[v.e=0],v)},i.modulo=i.mod=function(v,C){var R,F,B=this;return v=new U(v,C),!B.c||!v.s||v.c&&!v.c[0]?new U(NaN):!v.c||B.c&&!B.c[0]?new U(B):(A==9?(F=v.s,v.s=1,R=e(B,v,0,3),v.s=F,R.s*=F):R=e(B,v,0,A),v=B.minus(R.times(v)),!v.c[0]&&A==1&&(v.s=B.s),v)},i.multipliedBy=i.times=function(v,C){var R,F,B,l,g,y,E,I,T,M,x,m,O,Y,$,b=this,j=b.c,z=(v=new U(v,C)).c;if(!j||!z||!j[0]||!z[0])return!b.s||!v.s||j&&!j[0]&&!z||z&&!z[0]&&!j?v.c=v.e=v.s=null:(v.s*=b.s,!j||!z?v.c=v.e=null:(v.c=[0],v.e=0)),v;for(F=xn(b.e/be)+xn(v.e/be),v.s*=b.s,E=j.length,M=z.length,E<M&&(O=j,j=z,z=O,B=E,E=M,M=B),B=E+M,O=[];B--;O.push(0));for(Y=mi,$=io,B=M;--B>=0;){for(R=0,x=z[B]%$,m=z[B]/$|0,g=E,l=B+g;l>B;)I=j[--g]%$,T=j[g]/$|0,y=m*I+T*x,I=x*I+y%$*$+O[l]+R,R=(I/Y|0)+(y/$|0)+m*T,O[l--]=I%Y;O[l]=R}return R?++F:O.splice(0,1),k(v,O,F)},i.negated=function(){var v=new U(this);return v.s=-v.s||null,v},i.plus=function(v,C){var R,F=this,B=F.s;if(v=new U(v,C),C=v.s,!B||!C)return new U(NaN);if(B!=C)return v.s=-C,F.minus(v);var l=F.e/be,g=v.e/be,y=F.c,E=v.c;if(!l||!g){if(!y||!E)return new U(B/0);if(!y[0]||!E[0])return E[0]?v:new U(y[0]?F:B*0)}if(l=xn(l),g=xn(g),y=y.slice(),B=l-g){for(B>0?(g=l,R=E):(B=-B,R=y),R.reverse();B--;R.push(0));R.reverse()}for(B=y.length,C=E.length,B-C<0&&(R=E,E=y,y=R,C=B),B=0;C;)B=(y[--C]=y[C]+E[C]+B)/mi|0,y[C]=mi===y[C]?0:y[C]%mi;return B&&(y=[B].concat(y),++g),k(v,y,g)},i.precision=i.sd=function(v,C){var R,F,B,l=this;if(v!=null&&v!==!!v)return Ht(v,1,mr),C==null?C=u:Ht(C,0,8),H(new U(l),v,C);if(!(R=l.c))return null;if(B=R.length-1,F=B*be+1,B=R[B]){for(;B%10==0;B/=10,F--);for(B=R[0];B>=10;B/=10,F++);}return v&&l.e+1>F&&(F=l.e+1),F},i.shiftedBy=function(v){return Ht(v,-Bw,Bw),this.times("1e"+v)},i.squareRoot=i.sqrt=function(){var v,C,R,F,B,l=this,g=l.c,y=l.s,E=l.e,I=o+4,T=new U("0.5");if(y!==1||!g||!g[0])return new U(!y||y<0&&(!g||g[0])?NaN:g?l:1/0);if(y=Math.sqrt(+q(l)),y==0||y==1/0?(C=Cn(g),(C.length+E)%2==0&&(C+="0"),y=Math.sqrt(+C),E=xn((E+1)/2)-(E<0||E%2),y==1/0?C="5e"+E:(C=y.toExponential(),C=C.slice(0,C.indexOf("e")+1)+E),R=new U(C)):R=new U(y+""),R.c[0]){for(E=R.e,y=E+I,y<3&&(y=0);;)if(B=R,R=T.times(B.plus(e(l,B,I,1))),Cn(B.c).slice(0,y)===(C=Cn(R.c)).slice(0,y))if(R.e<E&&--y,C=C.slice(y-3,y+1),C=="9999"||!F&&C=="4999"){if(!F&&(H(B,B.e+o+2,0),B.times(B).eq(l))){R=B;break}I+=4,y+=4,F=1}else{(!+C||!+C.slice(1)&&C.charAt(0)=="5")&&(H(R,R.e+o+2,1),v=!R.times(R).eq(l));break}}return H(R,R.e+o+1,u,v)},i.toExponential=function(v,C){return v!=null&&(Ht(v,0,mr),v++),Q(this,v,C,1)},i.toFixed=function(v,C){return v!=null&&(Ht(v,0,mr),v=v+this.e+1),Q(this,v,C)},i.toFormat=function(v,C,R){var F,B=this;if(R==null)v!=null&&C&&typeof C=="object"?(R=C,C=null):v&&typeof v=="object"?(R=v,v=C=null):R=N;else if(typeof R!="object")throw Error(Wr+"Argument not an object: "+R);if(F=B.toFixed(v,C),B.c){var l,g=F.split("."),y=+R.groupSize,E=+R.secondaryGroupSize,I=R.groupSeparator||"",T=g[0],M=g[1],x=B.s<0,m=x?T.slice(1):T,O=m.length;if(E&&(l=y,y=E,E=l,O-=l),y>0&&O>0){for(l=O%y||y,T=m.substr(0,l);l<O;l+=y)T+=I+m.substr(l,y);E>0&&(T+=I+m.slice(l)),x&&(T="-"+T)}F=M?T+(R.decimalSeparator||"")+((E=+R.fractionGroupSize)?M.replace(new RegExp("\\d{"+E+"}\\B","g"),"$&"+(R.fractionGroupSeparator||"")):M):T}return(R.prefix||"")+F+(R.suffix||"")},i.toFraction=function(v){var C,R,F,B,l,g,y,E,I,T,M,x,m=this,O=m.c;if(v!=null&&(y=new U(v),!y.isInteger()&&(y.c||y.s!==1)||y.lt(s)))throw Error(Wr+"Argument "+(y.isInteger()?"out of range: ":"not an integer: ")+q(y));if(!O)return new U(m);for(C=new U(s),I=R=new U(s),F=E=new U(s),x=Cn(O),l=C.e=x.length-m.e-1,C.c[0]=Mw[(g=l%be)<0?be+g:g],v=!v||y.comparedTo(C)>0?l>0?C:I:y,g=d,d=1/0,y=new U(x),E.c[0]=0;T=e(y,C,0,1),B=R.plus(T.times(F)),B.comparedTo(v)!=1;)R=F,F=B,I=E.plus(T.times(B=I)),E=B,C=y.minus(T.times(B=C)),y=B;return B=e(v.minus(R),F,0,1),E=E.plus(B.times(I)),R=R.plus(B.times(F)),E.s=I.s=m.s,l=l*2,M=e(I,F,l,u).minus(m).abs().comparedTo(e(E,R,l,u).minus(m).abs())<1?[I,F]:[E,R],d=g,M},i.toNumber=function(){return+q(this)},i.toPrecision=function(v,C){return v!=null&&Ht(v,1,mr),Q(this,v,C,2)},i.toString=function(v){var C,R=this,F=R.s,B=R.e;return B===null?F?(C="Infinity",F<0&&(C="-"+C)):C="NaN":(v==null?C=B<=a||B>=c?Ud(Cn(R.c),B):xs(Cn(R.c),B,"0"):v===10&&V?(R=H(new U(R),o+B+1,u),C=xs(Cn(R.c),R.e,"0")):(Ht(v,2,P.length,"Base"),C=r(xs(Cn(R.c),B,"0"),10,v,F,!0)),F<0&&R.c[0]&&(C="-"+C)),C},i.valueOf=i.toJSON=function(){return q(this)},i._isBigNumber=!0,i[Symbol.toStringTag]="BigNumber",i[Symbol.for("nodejs.util.inspect.custom")]=i.valueOf,t!=null&&U.set(t),U}function xn(t){var e=t|0;return t>0||t===e?e:e-1}function Cn(t){for(var e,r,n=1,i=t.length,s=t[0]+"";n<i;){for(e=t[n++]+"",r=be-e.length;r--;e="0"+e);s+=e}for(i=s.length;s.charCodeAt(--i)===48;);return s.slice(0,i+1||1)}function ba(t,e){var r,n,i=t.c,s=e.c,o=t.s,u=e.s,a=t.e,c=e.e;if(!o||!u)return null;if(r=i&&!i[0],n=s&&!s[0],r||n)return r?n?0:-u:o;if(o!=u)return o;if(r=o<0,n=a==c,!i||!s)return n?0:!i^r?1:-1;if(!n)return a>c^r?1:-1;for(u=(a=i.length)<(c=s.length)?a:c,o=0;o<u;o++)if(i[o]!=s[o])return i[o]>s[o]^r?1:-1;return a==c?0:a>c^r?1:-1}function Ht(t,e,r,n){if(t<e||t>r||t!==Nn(t))throw Error(Wr+(n||"Argument")+(typeof t=="number"?t<e||t>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(t))}function Fd(t){var e=t.c.length-1;return xn(t.e/be)==e&&t.c[e]%2!=0}function Ud(t,e){return(t.length>1?t.charAt(0)+"."+t.slice(1):t)+(e<0?"e":"e+")+e}function xs(t,e,r){var n,i;if(e<0){for(i=r+".";++e;i+=r);t=i+t}else if(n=t.length,++e>n){for(i=r,e-=n;--e;i+=r);t+=i}else e<n&&(t=t.slice(0,e)+"."+t.slice(e));return t}var hH,Rw,Nn,Wr,V3,mi,be,Bw,Mw,io,mr,H3,Nu,nr=de(()=>{h();hH=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,Rw=Math.ceil,Nn=Math.floor,Wr="[BigNumber Error] ",V3=Wr+"Number primitive has more than 15 significant digits: ",mi=1e14,be=14,Bw=9007199254740991,Mw=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],io=1e7,mr=1e9;H3=k3(),Nu=H3});var Ie=D(ce=>{"use strict";h();Object.defineProperty(ce,"__esModule",{value:!0});ce.ErrSmartContractQuery=ce.ErrParseTransactionOutcome=ce.ErrInvalidInnerTransaction=ce.ErrBadUsage=ce.ErrInvalidTokenIdentifier=ce.ErrIsCompletedFieldIsMissingOnTransaction=ce.ErrGasLimitShouldBe0ForInnerTransaction=ce.ErrInvalidRelayedV2BuilderArguments=ce.ErrInvalidRelayedV1BuilderArguments=ce.ErrNotImplemented=ce.ErrContractInteraction=ce.ErrCodec=ce.ErrCannotParseTransactionOutcome=ce.ErrCannotParseContractResults=ce.ErrMissingFieldOnEnum=ce.ErrMissingFieldOnStruct=ce.ErrTypingSystem=ce.ErrMock=ce.ErrContractHasNoAddress=ce.ErrContract=ce.ErrExpectedTransactionEventsNotFound=ce.ErrExpectedTransactionStatusNotReached=ce.ErrTransactionWatcherTimeout=ce.ErrAsyncTimerAborted=ce.ErrAsyncTimerAlreadyRunning=ce.ErrInvalidFunctionName=ce.ErrSignatureCannotCreate=ce.ErrTransactionOptionsInvalid=ce.ErrTransactionVersionInvalid=ce.ErrNonceInvalid=ce.ErrNotEnoughGas=ce.ErrAddressEmpty=ce.ErrAddressBadHrp=ce.ErrAddressCannotCreate=ce.ErrUnexpectedCondition=ce.ErrInvariantFailed=ce.ErrBadType=ce.ErrUnsupportedOperation=ce.ErrInvalidArgument=ce.Err=void 0;var Te=class extends Error{constructor(e,r){super(e),this.inner=void 0,this.inner=r}summary(){let e=[];e.push({name:this.name,message:this.message});let r=this.inner;for(;r;)e.push({name:r.name,message:r.message}),r=r.inner;return e}};ce.Err=Te;var Lw=class extends Te{constructor(e,r){super(`Invalid argument: ${e}`,r)}};ce.ErrInvalidArgument=Lw;var Fw=class extends Te{constructor(e,r="not specified"){super(`Operation "${e}" not supported. Reason: ${r}`)}};ce.ErrUnsupportedOperation=Fw;var Uw=class extends Te{constructor(e,r,n){super(`Bad type of "${e}": ${n}. Expected type: ${r}`)}};ce.ErrBadType=Uw;var qw=class extends Te{constructor(e){super(`Invariant failed: [${e}]`)}};ce.ErrInvariantFailed=qw;var Vw=class extends Te{constructor(e){super(`Unexpected condition: [${e}]`)}};ce.ErrUnexpectedCondition=Vw;var kw=class extends Te{constructor(e,r){let n=`Cannot create address from: ${e}`;super(n,r)}};ce.ErrAddressCannotCreate=kw;var Hw=class extends Te{constructor(e,r){super(`Wrong address HRP. Expected: ${e}, got ${r}`)}};ce.ErrAddressBadHrp=Hw;var Gw=class extends Te{constructor(){super("Address is empty")}};ce.ErrAddressEmpty=Gw;var jw=class extends Te{constructor(e){super(`Not enough gas provided: ${e}`)}};ce.ErrNotEnoughGas=jw;var zw=class extends Te{constructor(e){super(`Invalid nonce: ${e}`)}};ce.ErrNonceInvalid=zw;var Qw=class extends Te{constructor(e){super(`Invalid transaction version: ${e}`)}};ce.ErrTransactionVersionInvalid=Qw;var Kw=class extends Te{constructor(e){super(`Invalid transaction options: ${e}`)}};ce.ErrTransactionOptionsInvalid=Kw;var Ww=class extends Te{constructor(e,r){let n=`Cannot create signature from: ${e}`;super(n,r)}};ce.ErrSignatureCannotCreate=Ww;var $w=class extends Te{constructor(){super("Invalid function name")}};ce.ErrInvalidFunctionName=$w;var Yw=class extends Te{constructor(){super("Async timer already running")}};ce.ErrAsyncTimerAlreadyRunning=Yw;var Jw=class extends Te{constructor(){super("Async timer aborted")}};ce.ErrAsyncTimerAborted=Jw;var Xw=class extends Te{constructor(){super("TransactionWatcher has timed out")}};ce.ErrTransactionWatcherTimeout=Xw;var Zw=class extends Te{constructor(){super("Expected transaction status not reached")}};ce.ErrExpectedTransactionStatusNotReached=Zw;var ev=class extends Te{constructor(){super("Expected transaction events not found")}};ce.ErrExpectedTransactionEventsNotFound=ev;var qd=class extends Te{constructor(e){super(e)}};ce.ErrContract=qd;var tv=class extends qd{constructor(){super(`
The smart contract has no address set. Make sure you provide the address in the constructor, or call setAddress() appropriately.
If you need to recompute the address of the contract, make use of SmartContract.computeAddress() (static method). 
`)}};ce.ErrContractHasNoAddress=tv;var rv=class extends Te{constructor(e){super(e)}};ce.ErrMock=rv;var nv=class extends Te{constructor(e){super(e)}};ce.ErrTypingSystem=nv;var iv=class extends Te{constructor(e,r){super(`field ${e} does not exist on struct ${r}`)}};ce.ErrMissingFieldOnStruct=iv;var sv=class extends Te{constructor(e,r){super(`field ${e} does not exist on enum ${r}`)}};ce.ErrMissingFieldOnEnum=sv;var ov=class extends Te{constructor(e){super(`cannot parse contract results: ${e}`)}};ce.ErrCannotParseContractResults=ov;var av=class extends Te{constructor(e,r){super(`cannot parse outcome of transaction ${e}: ${r}`)}};ce.ErrCannotParseTransactionOutcome=av;var uv=class extends Te{constructor(e){super(e)}};ce.ErrCodec=uv;var cv=class extends Te{constructor(e){super(e)}};ce.ErrContractInteraction=cv;var lv=class extends Te{constructor(){super("Method not yet implemented")}};ce.ErrNotImplemented=lv;var fv=class extends Te{constructor(){super("invalid arguments for relayed v1 builder")}};ce.ErrInvalidRelayedV1BuilderArguments=fv;var hv=class extends Te{constructor(){super("invalid arguments for relayed v2 builder")}};ce.ErrInvalidRelayedV2BuilderArguments=hv;var dv=class extends Te{constructor(){super("gas limit must be 0 for the inner transaction for relayed v2")}};ce.ErrGasLimitShouldBe0ForInnerTransaction=dv;var gv=class extends Te{constructor(){super("The transaction watcher requires the `isCompleted` property to be defined on the transaction object. Perhaps you've used the sdk-network-provider's `ProxyNetworkProvider.getTransaction()` and in that case you should also pass `withProcessStatus=true`.")}};ce.ErrIsCompletedFieldIsMissingOnTransaction=gv;var pv=class extends Te{constructor(e){super(e)}};ce.ErrInvalidTokenIdentifier=pv;var mv=class extends Te{constructor(e){super(e)}};ce.ErrBadUsage=mv;var yv=class extends Te{constructor(e){super(e)}};ce.ErrInvalidInnerTransaction=yv;var wv=class extends Te{constructor(e){super(e)}};ce.ErrParseTransactionOutcome=wv;var vv=class extends Te{constructor(e,r){super(r),this.returnCode=e}};ce.ErrSmartContractQuery=vv});var Ia=D(On=>{"use strict";h();var dH=On&&On.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(On,"__esModule",{value:!0});On.TokenPayment=On.TokenComputer=On.TokenTransfer=On.Token=void 0;var Sa=dH((nr(),xe(hr))),xu=Ie(),G3="EGLD",j3=18;Sa.default.set({ROUNDING_MODE:1});var Vd=class{constructor(e){this.identifier=e.identifier,this.nonce=e.nonce||0n}};On.Token=Vd;var kd=class t{constructor(e){if(this.isLegacyTokenTransferOptions(e)){let r=new Sa.default(e.amountAsBigInteger);if(!r.isInteger()||r.isNegative())throw new xu.ErrInvalidArgument(`bad amountAsBigInteger: ${e.amountAsBigInteger}`);this.tokenIdentifier=e.tokenIdentifier,this.nonce=e.nonce,this.amountAsBigInteger=r,this.numDecimals=e.numDecimals||0,this.token=new Vd({identifier:e.tokenIdentifier,nonce:BigInt(e.nonce)}),this.amount=BigInt(this.amountAsBigInteger.toFixed(0))}else this.token=e.token,this.amount=e.amount,this.tokenIdentifier=e.token.identifier,this.nonce=Number(e.token.nonce),this.amountAsBigInteger=new Sa.default(this.amount.toString()),this.numDecimals=0}isLegacyTokenTransferOptions(e){return e.tokenIdentifier!==void 0}static egldFromAmount(e){let r=new Sa.default(e).shiftedBy(j3).decimalPlaces(0);return this.egldFromBigInteger(r)}static egldFromBigInteger(e){return new t({tokenIdentifier:G3,nonce:0,amountAsBigInteger:e,numDecimals:j3})}static fungibleFromAmount(e,r,n){let i=new Sa.default(r).shiftedBy(n).decimalPlaces(0);return this.fungibleFromBigInteger(e,i,n)}static fungibleFromBigInteger(e,r,n=0){return new t({tokenIdentifier:e,nonce:0,amountAsBigInteger:r,numDecimals:n})}static nonFungible(e,r){return new t({tokenIdentifier:e,nonce:r,amountAsBigInteger:1,numDecimals:0})}static semiFungible(e,r,n){return new t({tokenIdentifier:e,nonce:r,amountAsBigInteger:n,numDecimals:0})}static metaEsdtFromAmount(e,r,n,i){let s=new Sa.default(n).shiftedBy(i).decimalPlaces(0);return this.metaEsdtFromBigInteger(e,r,s,i)}static metaEsdtFromBigInteger(e,r,n,i=0){return new t({tokenIdentifier:e,nonce:r,amountAsBigInteger:n,numDecimals:i})}toString(){return this.amount.toString()}valueOf(){return new Sa.default(this.amount.toString())}toPrettyString(){return`${this.toAmount()} ${this.tokenIdentifier}`}toAmount(){return this.amountAsBigInteger.shiftedBy(-this.numDecimals).toFixed(this.numDecimals)}isEgld(){return this.token.identifier==G3}isFungible(){return this.token.nonce==0n}};On.TokenTransfer=kd;var Av=class{constructor(){}isFungible(e){return e.nonce===0n}extractNonceFromExtendedIdentifier(e){let r=e.split("-");if(this.checkIfExtendedIdentifierWasProvided(r),this.checkLengthOfRandomSequence(r[1]),r.length==2)return 0;let n=p.Buffer.from(r[2],"hex");return gH(n)}extractIdentifierFromExtendedIdentifier(e){let r=e.split("-");return this.checkIfExtendedIdentifierWasProvided(r),this.ensureTokenTickerValidity(r[0]),this.checkLengthOfRandomSequence(r[1]),r[0]+"-"+r[1]}checkIfExtendedIdentifierWasProvided(e){if(e.length<2||e.length>3)throw new xu.ErrInvalidTokenIdentifier("Invalid extended token identifier provided")}checkLengthOfRandomSequence(e){if(e.length!==6)throw new xu.ErrInvalidTokenIdentifier("The identifier is not valid. The random sequence does not have the right length")}ensureTokenTickerValidity(e){if(e.length<3||e.length>10)throw new xu.ErrInvalidTokenIdentifier("The token ticker should be between 3 and 10 characters");if(!e.match(/^[a-zA-Z0-9]+$/))throw new xu.ErrInvalidTokenIdentifier("The token ticker should only contain alphanumeric characters");if(e!=e.toUpperCase())throw new xu.ErrInvalidTokenIdentifier("The token ticker should be upper case")}};On.TokenComputer=Av;function gH(t){return t.readUIntBE(0,t.length)}var Ev=class extends kd{constructor(e,r,n,i){super({tokenIdentifier:e,nonce:r,amountAsBigInteger:n,numDecimals:i})}};On.TokenPayment=Ev});var yr=D(me=>{"use strict";h();Object.defineProperty(me,"__esModule",{value:!0});me.ESDT_CONTRACT_ADDRESS=me.DELEGATION_MANAGER_SC_ADDRESS=me.CONTRACT_DEPLOY_ADDRESS=me.BECH32_ADDRESS_LENGTH=me.DEFAULT_HRP=me.UNKNOWN_SIGNER=me.SDK_JS_SIGNER=me.METACHAIN_ID=me.WasmVirtualMachine=me.CURRENT_NUMBER_OF_SHARDS_WITHOUT_META=me.HEX_TRANSACTION_HASH_LENGTH=me.MESSAGE_PREFIX=me.DEFAULT_MESSAGE_VERSION=me.ESDT_CONTRACT_ADDRESS_HEX=me.DELEGATION_MANAGER_SC_ADDRESS_HEX=me.CONTRACT_DEPLOY_ADDRESS_HEX=me.VM_TYPE_WASM_VM=me.ARGUMENTS_SEPARATOR=me.ESDT_TRANSFER_VALUE=me.MULTI_ESDTNFT_TRANSFER_FUNCTION_NAME=me.ESDTNFT_TRANSFER_FUNCTION_NAME=me.ESDT_TRANSFER_FUNCTION_NAME=me.ESDT_TRANSFER_GAS_LIMIT=me.MIN_TRANSACTION_VERSION_THAT_SUPPORTS_OPTIONS=me.TRANSACTION_VERSION_DEFAULT=me.TRANSACTION_OPTIONS_TX_GUARDED=me.TRANSACTION_OPTIONS_TX_HASH_SIGN=me.TRANSACTION_OPTIONS_DEFAULT=me.TRANSACTION_MIN_GAS_PRICE=void 0;me.TRANSACTION_MIN_GAS_PRICE=1e9;me.TRANSACTION_OPTIONS_DEFAULT=0;me.TRANSACTION_OPTIONS_TX_HASH_SIGN=1;me.TRANSACTION_OPTIONS_TX_GUARDED=2;me.TRANSACTION_VERSION_DEFAULT=2;me.MIN_TRANSACTION_VERSION_THAT_SUPPORTS_OPTIONS=2;me.ESDT_TRANSFER_GAS_LIMIT=5e5;me.ESDT_TRANSFER_FUNCTION_NAME="ESDTTransfer";me.ESDTNFT_TRANSFER_FUNCTION_NAME="ESDTNFTTransfer";me.MULTI_ESDTNFT_TRANSFER_FUNCTION_NAME="MultiESDTNFTTransfer";me.ESDT_TRANSFER_VALUE="0";me.ARGUMENTS_SEPARATOR="@";me.VM_TYPE_WASM_VM=new Uint8Array([5,0]);me.CONTRACT_DEPLOY_ADDRESS_HEX="0000000000000000000000000000000000000000000000000000000000000000";me.DELEGATION_MANAGER_SC_ADDRESS_HEX="000000000000000000010000000000000000000000000000000000000004ffff";me.ESDT_CONTRACT_ADDRESS_HEX="000000000000000000010000000000000000000000000000000000000002ffff";me.DEFAULT_MESSAGE_VERSION=1;me.MESSAGE_PREFIX=`Elrond Signed Message:
`;me.HEX_TRANSACTION_HASH_LENGTH=64;me.CURRENT_NUMBER_OF_SHARDS_WITHOUT_META=3;me.WasmVirtualMachine="0500";me.METACHAIN_ID=4294967295;me.SDK_JS_SIGNER="sdk-js";me.UNKNOWN_SIGNER="unknown";me.DEFAULT_HRP="erd";me.BECH32_ADDRESS_LENGTH=62;me.CONTRACT_DEPLOY_ADDRESS="erd1qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq6gq4hu";me.DELEGATION_MANAGER_SC_ADDRESS="erd1qqqqqqqqqqqqqqqpqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqylllslmq6y6";me.ESDT_CONTRACT_ADDRESS="erd1qqqqqqqqqqqqqqqpqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqzllls8a5w6u"});var so=D(Ta=>{"use strict";h();Object.defineProperty(Ta,"__esModule",{value:!0});Ta.Logger=Ta.LogLevel=void 0;var _a;(function(t){t[t.Trace=0]="Trace",t[t.Debug=1]="Debug",t[t.Info=2]="Info",t[t.Warn=3]="Warn",t[t.Error=4]="Error",t[t.None=5]="None"})(_a=Ta.LogLevel||(Ta.LogLevel={}));var Hd=class t{static setLevel(e){t.logLevel=e}static trace(e,...r){t.logLevel>=_a.Debug||console.debug(e,r)}static debug(e,...r){t.logLevel>=_a.Debug||console.debug(e,r)}static info(e,...r){t.logLevel>=_a.Info||console.log(e,r)}static warn(e,...r){t.logLevel>=_a.Warn||console.warn(e,r)}static error(e,...r){t.logLevel>=_a.Error||console.error(e,r)}};Ta.Logger=Hd;Hd.logLevel=_a.Debug});var Jl=D(Dn=>{"use strict";h();var pH=Dn&&Dn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),mH=Dn&&Dn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),yH=Dn&&Dn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&pH(e,t,r);return mH(e,t),e};Object.defineProperty(Dn,"__esModule",{value:!0});Dn.TransactionOptions=Dn.TransactionVersion=void 0;var yi=yr(),z3=yH(Ie()),bv=class t{constructor(e){if(e=Number(e),e<1)throw new z3.ErrTransactionVersionInvalid(e);this.value=e}static withDefaultVersion(){return new t(yi.TRANSACTION_VERSION_DEFAULT)}static withTxOptions(){return new t(yi.TRANSACTION_VERSION_DEFAULT)}valueOf(){return this.value}};Dn.TransactionVersion=bv;var Sv=class t{constructor(e){if(e=Number(e),e<0)throw new z3.ErrTransactionOptionsInvalid(e);this.value=e}static withDefaultOptions(){return new t(yi.TRANSACTION_OPTIONS_DEFAULT)}static withOptions(e){let r=0;return e.hashSign&&(r|=yi.TRANSACTION_OPTIONS_TX_HASH_SIGN),e.guarded&&(r|=yi.TRANSACTION_OPTIONS_TX_GUARDED),new t(r)}isWithHashSign(){return(this.value&yi.TRANSACTION_OPTIONS_TX_HASH_SIGN)==yi.TRANSACTION_OPTIONS_TX_HASH_SIGN}isWithGuardian(){return(this.value&yi.TRANSACTION_OPTIONS_TX_GUARDED)==yi.TRANSACTION_OPTIONS_TX_GUARDED}setWithHashSign(){this.value|=yi.TRANSACTION_OPTIONS_TX_HASH_SIGN}setWithGuardian(){this.value|=yi.TRANSACTION_OPTIONS_TX_GUARDED}valueOf(){return this.value}};Dn.TransactionOptions=Sv});var _v=D((Lpe,W3)=>{"use strict";h();var jd="qpzry9x8gf2tvdw0s3jn54khce6mua7l",Iv={};for(Xl=0;Xl<jd.length;Xl++){if(Gd=jd.charAt(Xl),Iv[Gd]!==void 0)throw new TypeError(Gd+" is ambiguous");Iv[Gd]=Xl}var Gd,Xl;function Ou(t){var e=t>>25;return(t&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}function Q3(t){for(var e=1,r=0;r<t.length;++r){var n=t.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+t+")";e=Ou(e)^n>>5}for(e=Ou(e),r=0;r<t.length;++r){var i=t.charCodeAt(r);e=Ou(e)^i&31}return e}function wH(t,e,r){if(r=r||90,t.length+7+e.length>r)throw new TypeError("Exceeds length limit");t=t.toLowerCase();var n=Q3(t);if(typeof n=="string")throw new Error(n);for(var i=t+"1",s=0;s<e.length;++s){var o=e[s];if(o>>5)throw new Error("Non 5-bit word");n=Ou(n)^o,i+=jd.charAt(o)}for(s=0;s<6;++s)n=Ou(n);for(n^=1,s=0;s<6;++s){var u=n>>(5-s)*5&31;i+=jd.charAt(u)}return i}function K3(t,e){if(e=e||90,t.length<8)return t+" too short";if(t.length>e)return"Exceeds length limit";var r=t.toLowerCase(),n=t.toUpperCase();if(t!==r&&t!==n)return"Mixed-case string "+t;t=r;var i=t.lastIndexOf("1");if(i===-1)return"No separator character for "+t;if(i===0)return"Missing prefix for "+t;var s=t.slice(0,i),o=t.slice(i+1);if(o.length<6)return"Data too short";var u=Q3(s);if(typeof u=="string")return u;for(var a=[],c=0;c<o.length;++c){var f=o.charAt(c),d=Iv[f];if(d===void 0)return"Unknown character "+f;u=Ou(u)^d,!(c+6>=o.length)&&a.push(d)}return u!==1?"Invalid checksum for "+t:{prefix:s,words:a}}function vH(){var t=K3.apply(null,arguments);if(typeof t=="object")return t}function AH(t){var e=K3.apply(null,arguments);if(typeof e=="object")return e;throw new Error(e)}function zd(t,e,r,n){for(var i=0,s=0,o=(1<<r)-1,u=[],a=0;a<t.length;++a)for(i=i<<e|t[a],s+=e;s>=r;)s-=r,u.push(i>>s&o);if(n)s>0&&u.push(i<<r-s&o);else{if(s>=e)return"Excess padding";if(i<<r-s&o)return"Non-zero padding"}return u}function EH(t){var e=zd(t,8,5,!0);if(Array.isArray(e))return e}function bH(t){var e=zd(t,8,5,!0);if(Array.isArray(e))return e;throw new Error(e)}function SH(t){var e=zd(t,5,8,!1);if(Array.isArray(e))return e}function IH(t){var e=zd(t,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}W3.exports={decodeUnsafe:vH,decode:AH,encode:wH,toWordsUnsafe:EH,toWords:bH,fromWordsUnsafe:SH,fromWords:IH}});var Wd=D(Kd=>{"use strict";h();Object.defineProperty(Kd,"__esModule",{value:!0});Kd.LibraryConfig=void 0;var Qd=class{};Kd.LibraryConfig=Qd;Qd.DefaultAddressHrp="erd"});var Du=D(Dt=>{"use strict";h();var _H=Dt&&Dt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),TH=Dt&&Dt.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),CH=Dt&&Dt.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&_H(e,t,r);return TH(e,t),e},NH=Dt&&Dt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Dt,"__esModule",{value:!0});Dt.addressToHex=Dt.bigIntToHex=Dt.byteArrayToHex=Dt.boolToHex=Dt.utf8ToHex=Dt.zeroPadStringIfOddLength=Dt.isPaddedHex=Dt.numberToPaddedHex=void 0;var xH=NH((nr(),xe(hr))),OH=ke(),DH=CH(Pu());function PH(t){let e;typeof t=="bigint"||typeof t=="number"?e=t:e=new xH.default(t);let r=e.toString(16);return $d(r)}Dt.numberToPaddedHex=PH;function RH(t){t=t||"";let e=p.Buffer.from(t,"hex").toString("hex");return t.toUpperCase()==e.toUpperCase()}Dt.isPaddedHex=RH;function $d(t){return t=t||"",t.length%2==1?"0"+t:t}Dt.zeroPadStringIfOddLength=$d;function $3(t){let e=p.Buffer.from(t).toString("hex");return $d(e)}Dt.utf8ToHex=$3;function BH(t){return $3(t.toString())}Dt.boolToHex=BH;function MH(t){let e=p.Buffer.from(t).toString("hex");return $d(e)}Dt.byteArrayToHex=MH;function LH(t){return t==0?"":DH.getHexMagnitudeOfBigInt(t)}Dt.bigIntToHex=LH;function FH(t){return OH.Address.fromBech32(t.toString()).pubkey().toString("hex")}Dt.addressToHex=FH});var Pu=D(ir=>{"use strict";h();var UH=ir&&ir.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ir,"__esModule",{value:!0});ir.prependByteToBuffer=ir.flipBufferBitsInPlace=ir.getHexMagnitudeOfBigInt=ir.bigIntToBuffer=ir.bufferToBigInt=ir.cloneBuffer=ir.isMsbZero=ir.isMsbOne=void 0;var Tv=UH((nr(),xe(hr))),qH=Du();function Y3(t,e=0){return t[e]>>7==1}ir.isMsbOne=Y3;function VH(t,e=0){return!Y3(t,e)}ir.isMsbZero=VH;function kH(t){let e=p.Buffer.alloc(t.length);return t.copy(e),e}ir.cloneBuffer=kH;function HH(t){let e=t.toString("hex");return new Tv.default(`0x${e}`,16)}ir.bufferToBigInt=HH;function GH(t){let e=J3(t);return p.Buffer.from(e,"hex")}ir.bigIntToBuffer=GH;function J3(t){return t=new Tv.default(t),t?(t.isNegative()&&(t=t.multipliedBy(new Tv.default(-1))),qH.numberToPaddedHex(t)):""}ir.getHexMagnitudeOfBigInt=J3;function jH(t){for(let e=0;e<t.length;e++)t[e]=~t[e]}ir.flipBufferBitsInPlace=jH;function zH(t,e){return p.Buffer.concat([p.Buffer.from([e]),t])}ir.prependByteToBuffer=zH});var Yd=D(Lt=>{"use strict";h();var QH=Lt&&Lt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),KH=Lt&&Lt.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),X3=Lt&&Lt.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&QH(e,t,r);return KH(e,t),e},WH=Lt&&Lt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Lt,"__esModule",{value:!0});Lt.bufferToHex=Lt.addressToHex=Lt.bigIntToHex=Lt.utf8ToHex=Lt.bigIntToBuffer=Lt.bufferToBigInt=Lt.stringToBuffer=void 0;var $H=WH((nr(),xe(hr))),Z3=X3(Pu()),YH=X3(Du());function JH(t){return p.Buffer.from(t)}Lt.stringToBuffer=JH;function XH(t){return t.length==0?new $H.default(0):Z3.bufferToBigInt(t)}Lt.bufferToBigInt=XH;function ZH(t){return t==0?p.Buffer.from([]):Z3.bigIntToBuffer(t)}Lt.bigIntToBuffer=ZH;var Cv=Du();Object.defineProperty(Lt,"utf8ToHex",{enumerable:!0,get:function(){return Cv.utf8ToHex}});Object.defineProperty(Lt,"bigIntToHex",{enumerable:!0,get:function(){return Cv.bigIntToHex}});Object.defineProperty(Lt,"addressToHex",{enumerable:!0,get:function(){return Cv.addressToHex}});function eG(t){let e=t.toString("hex");return YH.zeroPadStringIfOddLength(e)}Lt.bufferToHex=eG});var Os=D((Qpe,Nv)=>{"use strict";h();var Ru=typeof Reflect=="object"?Reflect:null,eN=Ru&&typeof Ru.apply=="function"?Ru.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},Jd;Ru&&typeof Ru.ownKeys=="function"?Jd=Ru.ownKeys:Object.getOwnPropertySymbols?Jd=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Jd=function(e){return Object.getOwnPropertyNames(e)};function tG(t){console&&console.warn&&console.warn(t)}var rN=Number.isNaN||function(e){return e!==e};function Ct(){Ct.init.call(this)}Nv.exports=Ct;Nv.exports.once=sG;Ct.EventEmitter=Ct;Ct.prototype._events=void 0;Ct.prototype._eventsCount=0;Ct.prototype._maxListeners=void 0;var tN=10;function Xd(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(Ct,"defaultMaxListeners",{enumerable:!0,get:function(){return tN},set:function(t){if(typeof t!="number"||t<0||rN(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");tN=t}});Ct.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Ct.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||rN(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function nN(t){return t._maxListeners===void 0?Ct.defaultMaxListeners:t._maxListeners}Ct.prototype.getMaxListeners=function(){return nN(this)};Ct.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=e==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var o;if(r.length>0&&(o=r[0]),o instanceof Error)throw o;var u=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw u.context=o,u}var a=s[e];if(a===void 0)return!1;if(typeof a=="function")eN(a,this,r);else for(var c=a.length,f=uN(a,c),n=0;n<c;++n)eN(f[n],this,r);return!0};function iN(t,e,r,n){var i,s,o;if(Xd(r),s=t._events,s===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),s=t._events),o=s[e]),o===void 0)o=s[e]=r,++t._eventsCount;else if(typeof o=="function"?o=s[e]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),i=nN(t),i>0&&o.length>i&&!o.warned){o.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=t,u.type=e,u.count=o.length,tG(u)}return t}Ct.prototype.addListener=function(e,r){return iN(this,e,r,!1)};Ct.prototype.on=Ct.prototype.addListener;Ct.prototype.prependListener=function(e,r){return iN(this,e,r,!0)};function rG(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function sN(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=rG.bind(n);return i.listener=r,n.wrapFn=i,i}Ct.prototype.once=function(e,r){return Xd(r),this.on(e,sN(this,e,r)),this};Ct.prototype.prependOnceListener=function(e,r){return Xd(r),this.prependListener(e,sN(this,e,r)),this};Ct.prototype.removeListener=function(e,r){var n,i,s,o,u;if(Xd(r),i=this._events,i===void 0)return this;if(n=i[e],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(s=-1,o=n.length-1;o>=0;o--)if(n[o]===r||n[o].listener===r){u=n[o].listener,s=o;break}if(s<0)return this;s===0?n.shift():nG(n,s),n.length===1&&(i[e]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",e,u||r)}return this};Ct.prototype.off=Ct.prototype.removeListener;Ct.prototype.removeAllListeners=function(e){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var s=Object.keys(n),o;for(i=0;i<s.length;++i)o=s[i],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(e,r[i]);return this};function oN(t,e,r){var n=t._events;if(n===void 0)return[];var i=n[e];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?iG(i):uN(i,i.length)}Ct.prototype.listeners=function(e){return oN(this,e,!0)};Ct.prototype.rawListeners=function(e){return oN(this,e,!1)};Ct.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):aN.call(t,e)};Ct.prototype.listenerCount=aN;function aN(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}Ct.prototype.eventNames=function(){return this._eventsCount>0?Jd(this._events):[]};function uN(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function nG(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function iG(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function sG(t,e){return new Promise(function(r,n){function i(o){t.removeListener(e,s),n(o)}function s(){typeof t.removeListener=="function"&&t.removeListener("error",i),r([].slice.call(arguments))}cN(t,e,s,{once:!0}),e!=="error"&&oG(t,i,{once:!0})})}function oG(t,e,r){typeof t.on=="function"&&cN(t,"error",e,r)}function cN(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(s){n.once&&t.removeEventListener(e,i),r(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}});var xv=D((Wpe,lN)=>{h();lN.exports=Os().EventEmitter});var Ov=D(()=>{h()});var mN=D((Zpe,pN)=>{"use strict";h();function fN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fN(Object(r),!0).forEach(function(n){aG(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aG(t,e,r){return e=gN(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dN(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gN(n.key),n)}}function cG(t,e,r){return e&&dN(t.prototype,e),r&&dN(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function gN(t){var e=lG(t,"string");return typeof e=="symbol"?e:String(e)}function lG(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fG=no(),Zd=fG.Buffer,hG=Ov(),Dv=hG.inspect,dG=Dv&&Dv.custom||"inspect";function gG(t,e,r){Zd.prototype.copy.call(t,e,r)}pN.exports=function(){function t(){uG(this,t),this.head=null,this.tail=null,this.length=0}return cG(t,[{key:"push",value:function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length}},{key:"unshift",value:function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i}},{key:"concat",value:function(r){if(this.length===0)return Zd.alloc(0);for(var n=Zd.allocUnsafe(r>>>0),i=this.head,s=0;i;)gG(i.data,n,s),s+=i.data.length,i=i.next;return n}},{key:"consume",value:function(r,n){var i;return r<this.head.data.length?(i=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?i=this.shift():i=n?this._getString(r):this._getBuffer(r),i}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var n=this.head,i=1,s=n.data;for(r-=s.length;n=n.next;){var o=n.data,u=r>o.length?o.length:r;if(u===o.length?s+=o:s+=o.slice(0,r),r-=u,r===0){u===o.length?(++i,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=o.slice(u));break}++i}return this.length-=i,s}},{key:"_getBuffer",value:function(r){var n=Zd.allocUnsafe(r),i=this.head,s=1;for(i.data.copy(n),r-=i.data.length;i=i.next;){var o=i.data,u=r>o.length?o.length:r;if(o.copy(n,n.length-r,0,u),r-=u,r===0){u===o.length?(++s,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=o.slice(u));break}++s}return this.length-=s,n}},{key:dG,value:function(r,n){return Dv(this,hN(hN({},n),{},{depth:0,customInspect:!1}))}}]),t}()});var Rv=D((t0e,wN)=>{"use strict";h();function pG(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,S.default.nextTick(Pv,this,t)):S.default.nextTick(Pv,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?r._writableState?r._writableState.errorEmitted?S.default.nextTick(eg,r):(r._writableState.errorEmitted=!0,S.default.nextTick(yN,r,s)):S.default.nextTick(yN,r,s):e?(S.default.nextTick(eg,r),e(s)):S.default.nextTick(eg,r)}),this)}function yN(t,e){Pv(t,e),eg(t)}function eg(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function mG(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function Pv(t,e){t.emit("error",e)}function yG(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}wN.exports={destroy:pG,undestroy:mG,errorOrDestroy:yG}});var Ca=D((n0e,EN)=>{"use strict";h();function wG(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var AN={};function Pn(t,e,r){r||(r=Error);function n(s,o,u){return typeof e=="string"?e:e(s,o,u)}var i=function(s){wG(o,s);function o(u,a,c){return s.call(this,n(u,a,c))||this}return o}(r);i.prototype.name=r.name,i.prototype.code=t,AN[t]=i}function vN(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function vG(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function AG(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function EG(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}Pn("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);Pn("ERR_INVALID_ARG_TYPE",function(t,e,r){var n;typeof e=="string"&&vG(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var i;if(AG(t," argument"))i="The ".concat(t," ").concat(n," ").concat(vN(e,"type"));else{var s=EG(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(s," ").concat(n," ").concat(vN(e,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError);Pn("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");Pn("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});Pn("ERR_STREAM_PREMATURE_CLOSE","Premature close");Pn("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});Pn("ERR_MULTIPLE_CALLBACK","Callback called multiple times");Pn("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");Pn("ERR_STREAM_WRITE_AFTER_END","write after end");Pn("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Pn("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);Pn("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");EN.exports.codes=AN});var Bv=D((s0e,bN)=>{"use strict";h();var bG=Ca().codes.ERR_INVALID_OPT_VALUE;function SG(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function IG(t,e,r,n){var i=SG(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var s=n?r:"highWaterMark";throw new bG(s,i)}return Math.floor(i)}return t.objectMode?16:16*1024}bN.exports={getHighWaterMark:IG}});var Bu=D((a0e,Mv)=>{h();typeof Object.create=="function"?Mv.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Mv.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}});var IN=D((c0e,SN)=>{h();SN.exports=_G;function _G(t,e){if(Lv("noDeprecation"))return t;var r=!1;function n(){if(!r){if(Lv("throwDeprecation"))throw new Error(e);Lv("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}return n}function Lv(t){try{if(!global.localStorage)return!1}catch{return!1}var e=global.localStorage[t];return e==null?!1:String(e).toLowerCase()==="true"}});var qv=D((f0e,ON)=>{"use strict";h();ON.exports=Gt;function TN(t){var e=this;this.next=null,this.entry=null,this.finish=function(){XG(e,t)}}var Mu;Gt.WritableState=ef;var TG={deprecate:IN()},CN=xv(),rg=no().Buffer,CG=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function NG(t){return rg.from(t)}function xG(t){return rg.isBuffer(t)||t instanceof CG}var Uv=Rv(),OG=Bv(),DG=OG.getHighWaterMark,oo=Ca().codes,PG=oo.ERR_INVALID_ARG_TYPE,RG=oo.ERR_METHOD_NOT_IMPLEMENTED,BG=oo.ERR_MULTIPLE_CALLBACK,MG=oo.ERR_STREAM_CANNOT_PIPE,LG=oo.ERR_STREAM_DESTROYED,FG=oo.ERR_STREAM_NULL_VALUES,UG=oo.ERR_STREAM_WRITE_AFTER_END,qG=oo.ERR_UNKNOWN_ENCODING,Lu=Uv.errorOrDestroy;Bu()(Gt,CN);function VG(){}function ef(t,e,r){Mu=Mu||Na(),t=t||{},typeof r!="boolean"&&(r=e instanceof Mu),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=DG(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=t.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(i){KG(e,i)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new TN(this)}ef.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(ef.prototype,"buffer",{get:TG.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var tg;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(tg=Function.prototype[Symbol.hasInstance],Object.defineProperty(Gt,Symbol.hasInstance,{value:function(e){return tg.call(this,e)?!0:this!==Gt?!1:e&&e._writableState instanceof ef}})):tg=function(e){return e instanceof this};function Gt(t){Mu=Mu||Na();var e=this instanceof Mu;if(!e&&!tg.call(Gt,this))return new Gt(t);this._writableState=new ef(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),CN.call(this)}Gt.prototype.pipe=function(){Lu(this,new MG)};function kG(t,e){var r=new UG;Lu(t,r),S.default.nextTick(e,r)}function HG(t,e,r,n){var i;return r===null?i=new FG:typeof r!="string"&&!e.objectMode&&(i=new PG("chunk",["string","Buffer"],r)),i?(Lu(t,i),S.default.nextTick(n,i),!1):!0}Gt.prototype.write=function(t,e,r){var n=this._writableState,i=!1,s=!n.objectMode&&xG(t);return s&&!rg.isBuffer(t)&&(t=NG(t)),typeof e=="function"&&(r=e,e=null),s?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=VG),n.ending?kG(this,r):(s||HG(this,n,t,r))&&(n.pendingcb++,i=jG(this,n,s,t,e,r)),i};Gt.prototype.cork=function(){this._writableState.corked++};Gt.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&NN(this,t))};Gt.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new qG(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(Gt.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function GG(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=rg.from(e,r)),e}Object.defineProperty(Gt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function jG(t,e,r,n,i,s){if(!r){var o=GG(e,n,i);n!==o&&(r=!0,i="buffer",n=o)}var u=e.objectMode?1:n.length;e.length+=u;var a=e.length<e.highWaterMark;if(a||(e.needDrain=!0),e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else Fv(t,e,!1,u,n,i,s);return a}function Fv(t,e,r,n,i,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new LG("write")):r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}function zG(t,e,r,n,i){--e.pendingcb,r?(S.default.nextTick(i,n),S.default.nextTick(Zl,t,e),t._writableState.errorEmitted=!0,Lu(t,n)):(i(n),t._writableState.errorEmitted=!0,Lu(t,n),Zl(t,e))}function QG(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function KG(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function")throw new BG;if(QG(r),e)zG(t,r,n,e,i);else{var s=xN(r)||t.destroyed;!s&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&NN(t,r),n?S.default.nextTick(_N,t,r,s,i):_N(t,r,s,i)}}function _N(t,e,r,n){r||WG(t,e),e.pendingcb--,n(),Zl(t,e)}function WG(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function NN(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),s=e.corkedRequestsFree;s.entry=r;for(var o=0,u=!0;r;)i[o]=r,r.isBuf||(u=!1),r=r.next,o+=1;i.allBuffers=u,Fv(t,e,!0,e.length,i,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new TN(e),e.bufferedRequestCount=0}else{for(;r;){var a=r.chunk,c=r.encoding,f=r.callback,d=e.objectMode?1:a.length;if(Fv(t,e,!1,d,a,c,f),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}Gt.prototype._write=function(t,e,r){r(new RG("_write()"))};Gt.prototype._writev=null;Gt.prototype.end=function(t,e,r){var n=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||JG(this,n,r),this};Object.defineProperty(Gt.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function xN(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function $G(t,e){t._final(function(r){e.pendingcb--,r&&Lu(t,r),e.prefinished=!0,t.emit("prefinish"),Zl(t,e)})}function YG(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,S.default.nextTick($G,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function Zl(t,e){var r=xN(e);if(r&&(YG(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy()}return r}function JG(t,e,r){e.ending=!0,Zl(t,e),r&&(e.finished?S.default.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function XG(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree.next=t}Object.defineProperty(Gt.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}});Gt.prototype.destroy=Uv.destroy;Gt.prototype._undestroy=Uv.undestroy;Gt.prototype._destroy=function(t,e){e(t)}});var Na=D((d0e,PN)=>{"use strict";h();var ZG=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};PN.exports=Vi;var DN=Hv(),kv=qv();Bu()(Vi,DN);for(Vv=ZG(kv.prototype),ng=0;ng<Vv.length;ng++)ig=Vv[ng],Vi.prototype[ig]||(Vi.prototype[ig]=kv.prototype[ig]);var Vv,ig,ng;function Vi(t){if(!(this instanceof Vi))return new Vi(t);DN.call(this,t),kv.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",ej)))}Object.defineProperty(Vi.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(Vi.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(Vi.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function ej(){this._writableState.ended||S.default.nextTick(tj,this)}function tj(t){t.end()}Object.defineProperty(Vi.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})});var MN=D((Gv,BN)=>{h();var sg=no(),ki=sg.Buffer;function RN(t,e){for(var r in t)e[r]=t[r]}ki.from&&ki.alloc&&ki.allocUnsafe&&ki.allocUnsafeSlow?BN.exports=sg:(RN(sg,Gv),Gv.Buffer=xa);function xa(t,e,r){return ki(t,e,r)}xa.prototype=Object.create(ki.prototype);RN(ki,xa);xa.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return ki(t,e,r)};xa.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=ki(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n};xa.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return ki(t)};xa.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return sg.SlowBuffer(t)}});var Qv=D(FN=>{"use strict";h();var zv=MN().Buffer,LN=zv.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function rj(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function nj(t){var e=rj(t);if(typeof e!="string"&&(zv.isEncoding===LN||!LN(t)))throw new Error("Unknown encoding: "+t);return e||t}FN.StringDecoder=tf;function tf(t){this.encoding=nj(t);var e;switch(this.encoding){case"utf16le":this.text=cj,this.end=lj,e=4;break;case"utf8":this.fillLast=oj,e=4;break;case"base64":this.text=fj,this.end=hj,e=3;break;default:this.write=dj,this.end=gj;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=zv.allocUnsafe(e)}tf.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};tf.prototype.end=uj;tf.prototype.text=aj;tf.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function jv(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function ij(t,e,r){var n=e.length-1;if(n<r)return 0;var i=jv(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=jv(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=jv(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function sj(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function oj(t){var e=this.lastTotal-this.lastNeed,r=sj(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function aj(t,e){var r=ij(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function uj(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function cj(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function lj(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function fj(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function hj(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function dj(t){return t.toString(this.encoding)}function gj(t){return t&&t.length?this.write(t):""}});var og=D((w0e,VN)=>{"use strict";h();var UN=Ca().codes.ERR_STREAM_PREMATURE_CLOSE;function pj(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}function mj(){}function yj(t){return t.setHeader&&typeof t.abort=="function"}function qN(t,e,r){if(typeof e=="function")return qN(t,null,e);e||(e={}),r=pj(r||mj);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,s=function(){t.writable||u()},o=t._writableState&&t._writableState.finished,u=function(){i=!1,o=!0,n||r.call(t)},a=t._readableState&&t._readableState.endEmitted,c=function(){n=!1,a=!0,i||r.call(t)},f=function(_){r.call(t,_)},d=function(){var _;if(n&&!a)return(!t._readableState||!t._readableState.ended)&&(_=new UN),r.call(t,_);if(i&&!o)return(!t._writableState||!t._writableState.ended)&&(_=new UN),r.call(t,_)},w=function(){t.req.on("finish",u)};return yj(t)?(t.on("complete",u),t.on("abort",d),t.req?w():t.on("request",w)):i&&!t._writableState&&(t.on("end",s),t.on("close",s)),t.on("end",c),t.on("finish",u),e.error!==!1&&t.on("error",f),t.on("close",d),function(){t.removeListener("complete",u),t.removeListener("abort",d),t.removeListener("request",w),t.req&&t.req.removeListener("finish",u),t.removeListener("end",s),t.removeListener("close",s),t.removeListener("finish",u),t.removeListener("end",c),t.removeListener("error",f),t.removeListener("close",d)}}VN.exports=qN});var HN=D((A0e,kN)=>{"use strict";h();var ag;function ao(t,e,r){return e=wj(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wj(t){var e=vj(t,"string");return typeof e=="symbol"?e:String(e)}function vj(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Aj=og(),uo=Symbol("lastResolve"),Oa=Symbol("lastReject"),rf=Symbol("error"),ug=Symbol("ended"),Da=Symbol("lastPromise"),Kv=Symbol("handlePromise"),Pa=Symbol("stream");function co(t,e){return{value:t,done:e}}function Ej(t){var e=t[uo];if(e!==null){var r=t[Pa].read();r!==null&&(t[Da]=null,t[uo]=null,t[Oa]=null,e(co(r,!1)))}}function bj(t){S.default.nextTick(Ej,t)}function Sj(t,e){return function(r,n){t.then(function(){if(e[ug]){r(co(void 0,!0));return}e[Kv](r,n)},n)}}var Ij=Object.getPrototypeOf(function(){}),_j=Object.setPrototypeOf((ag={get stream(){return this[Pa]},next:function(){var e=this,r=this[rf];if(r!==null)return Promise.reject(r);if(this[ug])return Promise.resolve(co(void 0,!0));if(this[Pa].destroyed)return new Promise(function(o,u){S.default.nextTick(function(){e[rf]?u(e[rf]):o(co(void 0,!0))})});var n=this[Da],i;if(n)i=new Promise(Sj(n,this));else{var s=this[Pa].read();if(s!==null)return Promise.resolve(co(s,!1));i=new Promise(this[Kv])}return this[Da]=i,i}},ao(ag,Symbol.asyncIterator,function(){return this}),ao(ag,"return",function(){var e=this;return new Promise(function(r,n){e[Pa].destroy(null,function(i){if(i){n(i);return}r(co(void 0,!0))})})}),ag),Ij),Tj=function(e){var r,n=Object.create(_j,(r={},ao(r,Pa,{value:e,writable:!0}),ao(r,uo,{value:null,writable:!0}),ao(r,Oa,{value:null,writable:!0}),ao(r,rf,{value:null,writable:!0}),ao(r,ug,{value:e._readableState.endEmitted,writable:!0}),ao(r,Kv,{value:function(s,o){var u=n[Pa].read();u?(n[Da]=null,n[uo]=null,n[Oa]=null,s(co(u,!1))):(n[uo]=s,n[Oa]=o)},writable:!0}),r));return n[Da]=null,Aj(e,function(i){if(i&&i.code!=="ERR_STREAM_PREMATURE_CLOSE"){var s=n[Oa];s!==null&&(n[Da]=null,n[uo]=null,n[Oa]=null,s(i)),n[rf]=i;return}var o=n[uo];o!==null&&(n[Da]=null,n[uo]=null,n[Oa]=null,o(co(void 0,!0))),n[ug]=!0}),e.on("readable",bj.bind(null,n)),n};kN.exports=Tj});var jN=D((b0e,GN)=>{h();GN.exports=function(){throw new Error("Readable.from is not available in the browser")}});var Hv=D((_0e,ex)=>{"use strict";h();ex.exports=Fe;var Fu;Fe.ReadableState=WN;var I0e=Os().EventEmitter,KN=function(e,r){return e.listeners(r).length},sf=xv(),cg=no().Buffer,Cj=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function Nj(t){return cg.from(t)}function xj(t){return cg.isBuffer(t)||t instanceof Cj}var Wv=Ov(),Ce;Wv&&Wv.debuglog?Ce=Wv.debuglog("stream"):Ce=function(){};var Oj=mN(),tA=Rv(),Dj=Bv(),Pj=Dj.getHighWaterMark,lg=Ca().codes,Rj=lg.ERR_INVALID_ARG_TYPE,Bj=lg.ERR_STREAM_PUSH_AFTER_EOF,Mj=lg.ERR_METHOD_NOT_IMPLEMENTED,Lj=lg.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,Uu,$v,Yv;Bu()(Fe,sf);var nf=tA.errorOrDestroy,Jv=["error","close","destroy","pause","resume"];function Fj(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function WN(t,e,r){Fu=Fu||Na(),t=t||{},typeof r!="boolean"&&(r=e instanceof Fu),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=Pj(this,t,"readableHighWaterMark",r),this.buffer=new Oj,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(Uu||(Uu=Qv().StringDecoder),this.decoder=new Uu(t.encoding),this.encoding=t.encoding)}function Fe(t){if(Fu=Fu||Na(),!(this instanceof Fe))return new Fe(t);var e=this instanceof Fu;this._readableState=new WN(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),sf.call(this)}Object.defineProperty(Fe.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}});Fe.prototype.destroy=tA.destroy;Fe.prototype._undestroy=tA.undestroy;Fe.prototype._destroy=function(t,e){e(t)};Fe.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=cg.from(t,e),e=""),n=!0),$N(this,t,e,!1,n)};Fe.prototype.unshift=function(t){return $N(this,t,null,!0,!1)};function $N(t,e,r,n,i){Ce("readableAddChunk",e);var s=t._readableState;if(e===null)s.reading=!1,Vj(t,s);else{var o;if(i||(o=Uj(s,e)),o)nf(t,o);else if(s.objectMode||e&&e.length>0)if(typeof e!="string"&&!s.objectMode&&Object.getPrototypeOf(e)!==cg.prototype&&(e=Nj(e)),n)s.endEmitted?nf(t,new Lj):Xv(t,s,e,!0);else if(s.ended)nf(t,new Bj);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(e=s.decoder.write(e),s.objectMode||e.length!==0?Xv(t,s,e,!1):eA(t,s)):Xv(t,s,e,!1)}else n||(s.reading=!1,eA(t,s))}return!s.ended&&(s.length<s.highWaterMark||s.length===0)}function Xv(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&fg(t)),eA(t,e)}function Uj(t,e){var r;return!xj(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new Rj("chunk",["string","Buffer","Uint8Array"],e)),r}Fe.prototype.isPaused=function(){return this._readableState.flowing===!1};Fe.prototype.setEncoding=function(t){Uu||(Uu=Qv().StringDecoder);var e=new Uu(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";r!==null;)n+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),n!==""&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var zN=1073741824;function qj(t){return t>=zN?t=zN:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function QN(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=qj(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}Fe.prototype.read=function(t){Ce("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return Ce("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?Zv(this):fg(this),null;if(t=QN(t,e),t===0&&e.ended)return e.length===0&&Zv(this),null;var n=e.needReadable;Ce("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,Ce("length less than watermark",n)),e.ended||e.reading?(n=!1,Ce("reading or ended",n)):n&&(Ce("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=QN(r,e)));var i;return t>0?i=XN(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&Zv(this)),i!==null&&this.emit("data",i),i};function Vj(t,e){if(Ce("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?fg(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,YN(t)))}}function fg(t){var e=t._readableState;Ce("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(Ce("emitReadable",e.flowing),e.emittedReadable=!0,S.default.nextTick(YN,t))}function YN(t){var e=t._readableState;Ce("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,rA(t)}function eA(t,e){e.readingMore||(e.readingMore=!0,S.default.nextTick(kj,t,e))}function kj(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(Ce("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}Fe.prototype._read=function(t){nf(this,new Mj("_read()"))};Fe.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,Ce("pipe count=%d opts=%j",n.pipesCount,e);var i=(!e||e.end!==!1)&&t!==S.default.stdout&&t!==S.default.stderr,s=i?u:N;n.endEmitted?S.default.nextTick(s):r.once("end",s),t.on("unpipe",o);function o(P,V){Ce("onunpipe"),P===r&&V&&V.hasUnpiped===!1&&(V.hasUnpiped=!0,f())}function u(){Ce("onend"),t.end()}var a=Hj(r);t.on("drain",a);var c=!1;function f(){Ce("cleanup"),t.removeListener("close",A),t.removeListener("finish",_),t.removeListener("drain",a),t.removeListener("error",w),t.removeListener("unpipe",o),r.removeListener("end",u),r.removeListener("end",N),r.removeListener("data",d),c=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&a()}r.on("data",d);function d(P){Ce("ondata");var V=t.write(P);Ce("dest.write",V),V===!1&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&ZN(n.pipes,t)!==-1)&&!c&&(Ce("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function w(P){Ce("onerror",P),N(),t.removeListener("error",w),KN(t,"error")===0&&nf(t,P)}Fj(t,"error",w);function A(){t.removeListener("finish",_),N()}t.once("close",A);function _(){Ce("onfinish"),t.removeListener("close",A),N()}t.once("finish",_);function N(){Ce("unpipe"),r.unpipe(t)}return t.emit("pipe",r),n.flowing||(Ce("pipe resume"),r.resume()),t};function Hj(t){return function(){var r=t._readableState;Ce("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&KN(t,"data")&&(r.flowing=!0,rA(t))}}Fe.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=ZN(e.pipes,t);return o===-1?this:(e.pipes.splice(o,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};Fe.prototype.on=function(t,e){var r=sf.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,Ce("on readable",n.length,n.reading),n.length?fg(this):n.reading||S.default.nextTick(Gj,this)),r};Fe.prototype.addListener=Fe.prototype.on;Fe.prototype.removeListener=function(t,e){var r=sf.prototype.removeListener.call(this,t,e);return t==="readable"&&S.default.nextTick(JN,this),r};Fe.prototype.removeAllListeners=function(t){var e=sf.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&S.default.nextTick(JN,this),e};function JN(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function Gj(t){Ce("readable nexttick read 0"),t.read(0)}Fe.prototype.resume=function(){var t=this._readableState;return t.flowing||(Ce("resume"),t.flowing=!t.readableListening,jj(this,t)),t.paused=!1,this};function jj(t,e){e.resumeScheduled||(e.resumeScheduled=!0,S.default.nextTick(zj,t,e))}function zj(t,e){Ce("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),rA(t),e.flowing&&!e.reading&&t.read(0)}Fe.prototype.pause=function(){return Ce("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Ce("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function rA(t){var e=t._readableState;for(Ce("flow",e.flowing);e.flowing&&t.read()!==null;);}Fe.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(Ce("wrapped end"),r.decoder&&!r.ended){var o=r.decoder.end();o&&o.length&&e.push(o)}e.push(null)}),t.on("data",function(o){if(Ce("wrapped data"),r.decoder&&(o=r.decoder.write(o)),!(r.objectMode&&o==null)&&!(!r.objectMode&&(!o||!o.length))){var u=e.push(o);u||(n=!0,t.pause())}});for(var i in t)this[i]===void 0&&typeof t[i]=="function"&&(this[i]=function(u){return function(){return t[u].apply(t,arguments)}}(i));for(var s=0;s<Jv.length;s++)t.on(Jv[s],this.emit.bind(this,Jv[s]));return this._read=function(o){Ce("wrapped _read",o),n&&(n=!1,t.resume())},this};typeof Symbol=="function"&&(Fe.prototype[Symbol.asyncIterator]=function(){return $v===void 0&&($v=HN()),$v(this)});Object.defineProperty(Fe.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(Fe.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(Fe.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}});Fe._fromList=XN;Object.defineProperty(Fe.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function XN(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function Zv(t){var e=t._readableState;Ce("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,S.default.nextTick(Qj,e,t))}function Qj(t,e){if(Ce("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}typeof Symbol=="function"&&(Fe.from=function(t,e){return Yv===void 0&&(Yv=jN()),Yv(Fe,t,e)});function ZN(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}});var nA=D((C0e,rx)=>{"use strict";h();rx.exports=Ds;var hg=Ca().codes,Kj=hg.ERR_METHOD_NOT_IMPLEMENTED,Wj=hg.ERR_MULTIPLE_CALLBACK,$j=hg.ERR_TRANSFORM_ALREADY_TRANSFORMING,Yj=hg.ERR_TRANSFORM_WITH_LENGTH_0,dg=Na();Bu()(Ds,dg);function Jj(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new Wj);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Ds(t){if(!(this instanceof Ds))return new Ds(t);dg.call(this,t),this._transformState={afterTransform:Jj.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",Xj)}function Xj(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){tx(t,e,r)}):tx(this,null,null)}Ds.prototype.push=function(t,e){return this._transformState.needTransform=!1,dg.prototype.push.call(this,t,e)};Ds.prototype._transform=function(t,e,r){r(new Kj("_transform()"))};Ds.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};Ds.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};Ds.prototype._destroy=function(t,e){dg.prototype._destroy.call(this,t,function(r){e(r)})};function tx(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new Yj;if(t._transformState.transforming)throw new $j;return t.push(null)}});var sx=D((x0e,ix)=>{"use strict";h();ix.exports=of;var nx=nA();Bu()(of,nx);function of(t){if(!(this instanceof of))return new of(t);nx.call(this,t)}of.prototype._transform=function(t,e,r){r(null,t)}});var lx=D((D0e,cx)=>{"use strict";h();var iA;function Zj(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var ux=Ca().codes,ez=ux.ERR_MISSING_ARGS,tz=ux.ERR_STREAM_DESTROYED;function ox(t){if(t)throw t}function rz(t){return t.setHeader&&typeof t.abort=="function"}function nz(t,e,r,n){n=Zj(n);var i=!1;t.on("close",function(){i=!0}),iA===void 0&&(iA=og()),iA(t,{readable:e,writable:r},function(o){if(o)return n(o);i=!0,n()});var s=!1;return function(o){if(!i&&!s){if(s=!0,rz(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(o||new tz("pipe"))}}}function ax(t){t()}function iz(t,e){return t.pipe(e)}function sz(t){return!t.length||typeof t[t.length-1]!="function"?ox:t.pop()}function oz(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=sz(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new ez("streams");var i,s=e.map(function(o,u){var a=u<e.length-1,c=u>0;return nz(o,a,c,function(f){i||(i=f),f&&s.forEach(ax),!a&&(s.forEach(ax),n(i))})});return e.reduce(iz)}cx.exports=oz});var sA=D((Rn,fx)=>{h();Rn=fx.exports=Hv();Rn.Stream=Rn;Rn.Readable=Rn;Rn.Writable=qv();Rn.Duplex=Na();Rn.Transform=nA();Rn.PassThrough=sx();Rn.finished=og();Rn.pipeline=lx()});var gx=D((B0e,dx)=>{h();var{Transform:az}=sA();dx.exports=t=>class hx extends az{constructor(r,n,i,s,o){super(o),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._hashBitLength=s,this._options=o,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let s=null;try{this.update(r,n)}catch(o){s=o}i(s)}_flush(r){let n=null;try{this.push(this.digest())}catch(i){n=i}r(n)}update(r,n){if(!p.Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return p.Buffer.isBuffer(r)||(r=p.Buffer.from(r,n)),this._state.absorb(r),this}digest(r){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let n=this._state.squeeze(this._hashBitLength/8);return r!==void 0&&(n=n.toString(r)),this._resetState(),n}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){let r=new hx(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}}});var yx=D((L0e,mx)=>{h();var{Transform:uz}=sA();mx.exports=t=>class px extends uz{constructor(r,n,i,s){super(s),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._options=s,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let s=null;try{this.update(r,n)}catch(o){s=o}i(s)}_flush(){}_read(r){this.push(this.squeeze(r))}update(r,n){if(!p.Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return p.Buffer.isBuffer(r)||(r=p.Buffer.from(r,n)),this._state.absorb(r),this}squeeze(r,n){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let i=this._state.squeeze(r);return n!==void 0&&(i=i.toString(n)),i}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){let r=new px(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}}});var vx=D((U0e,wx)=>{h();var cz=gx(),lz=yx();wx.exports=function(t){let e=cz(t),r=lz(t);return function(n,i){switch(typeof n=="string"?n.toLowerCase():n){case"keccak224":return new e(1152,448,null,224,i);case"keccak256":return new e(1088,512,null,256,i);case"keccak384":return new e(832,768,null,384,i);case"keccak512":return new e(576,1024,null,512,i);case"sha3-224":return new e(1152,448,6,224,i);case"sha3-256":return new e(1088,512,6,256,i);case"sha3-384":return new e(832,768,6,384,i);case"sha3-512":return new e(576,1024,6,512,i);case"shake128":return new r(1344,256,31,i);case"shake256":return new r(1088,512,31,i);default:throw new Error("Invald algorithm: "+n)}}}});var bx=D(Ex=>{h();var Ax=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];Ex.p1600=function(t){for(let e=0;e<24;++e){let r=t[0]^t[10]^t[20]^t[30]^t[40],n=t[1]^t[11]^t[21]^t[31]^t[41],i=t[2]^t[12]^t[22]^t[32]^t[42],s=t[3]^t[13]^t[23]^t[33]^t[43],o=t[4]^t[14]^t[24]^t[34]^t[44],u=t[5]^t[15]^t[25]^t[35]^t[45],a=t[6]^t[16]^t[26]^t[36]^t[46],c=t[7]^t[17]^t[27]^t[37]^t[47],f=t[8]^t[18]^t[28]^t[38]^t[48],d=t[9]^t[19]^t[29]^t[39]^t[49],w=f^(i<<1|s>>>31),A=d^(s<<1|i>>>31),_=t[0]^w,N=t[1]^A,P=t[10]^w,V=t[11]^A,U=t[20]^w,Q=t[21]^A,L=t[30]^w,k=t[31]^A,H=t[40]^w,q=t[41]^A;w=r^(o<<1|u>>>31),A=n^(u<<1|o>>>31);let v=t[2]^w,C=t[3]^A,R=t[12]^w,F=t[13]^A,B=t[22]^w,l=t[23]^A,g=t[32]^w,y=t[33]^A,E=t[42]^w,I=t[43]^A;w=i^(a<<1|c>>>31),A=s^(c<<1|a>>>31);let T=t[4]^w,M=t[5]^A,x=t[14]^w,m=t[15]^A,O=t[24]^w,Y=t[25]^A,$=t[34]^w,b=t[35]^A,j=t[44]^w,z=t[45]^A;w=o^(f<<1|d>>>31),A=u^(d<<1|f>>>31);let W=t[6]^w,ie=t[7]^A,te=t[16]^w,ee=t[17]^A,se=t[26]^w,oe=t[27]^A,J=t[36]^w,ue=t[37]^A,vt=t[46]^w,At=t[47]^A;w=a^(r<<1|n>>>31),A=c^(n<<1|r>>>31);let Pi=t[8]^w,Et=t[9]^A,bt=t[18]^w,Ri=t[19]^A,St=t[28]^w,It=t[29]^A,Bi=t[38]^w,_t=t[39]^A,Tt=t[48]^w,Mi=t[49]^A,Ke=_,We=N,si=V<<4|P>>>28,$e=P<<4|V>>>28,Ye=U<<3|Q>>>29,oi=Q<<3|U>>>29,Je=k<<9|L>>>23,Xe=L<<9|k>>>23,ai=H<<18|q>>>14,Ze=q<<18|H>>>14,et=v<<1|C>>>31,ui=C<<1|v>>>31,tt=F<<12|R>>>20,rt=R<<12|F>>>20,ci=B<<10|l>>>22,nt=l<<10|B>>>22,it=y<<13|g>>>19,li=g<<13|y>>>19,st=E<<2|I>>>30,ot=I<<2|E>>>30,fi=M<<30|T>>>2,at=T<<30|M>>>2,ut=x<<6|m>>>26,hi=m<<6|x>>>26,ct=Y<<11|O>>>21,lt=O<<11|Y>>>21,di=$<<15|b>>>17,ft=b<<15|$>>>17,ht=z<<29|j>>>3,gi=j<<29|z>>>3,dt=W<<28|ie>>>4,gt=ie<<28|W>>>4,pi=ee<<23|te>>>9,pt=te<<23|ee>>>9,mt=se<<25|oe>>>7,An=oe<<25|se>>>7,En=J<<21|ue>>>11,bn=ue<<21|J>>>11,Sn=At<<24|vt>>>8,In=vt<<24|At>>>8,_n=Pi<<27|Et>>>5,la=Et<<27|Pi>>>5,fa=bt<<20|Ri>>>12,ha=Ri<<20|bt>>>12,da=It<<7|St>>>25,ga=St<<7|It>>>25,pa=Bi<<8|_t>>>24,ma=_t<<8|Bi>>>24,ya=Tt<<14|Mi>>>18,wa=Mi<<14|Tt>>>18;t[0]=Ke^~tt&ct,t[1]=We^~rt&lt,t[10]=dt^~fa&Ye,t[11]=gt^~ha&oi,t[20]=et^~ut&mt,t[21]=ui^~hi&An,t[30]=_n^~si&ci,t[31]=la^~$e&nt,t[40]=fi^~pi&da,t[41]=at^~pt&ga,t[2]=tt^~ct&En,t[3]=rt^~lt&bn,t[12]=fa^~Ye&it,t[13]=ha^~oi&li,t[22]=ut^~mt&pa,t[23]=hi^~An&ma,t[32]=si^~ci&di,t[33]=$e^~nt&ft,t[42]=pi^~da&Je,t[43]=pt^~ga&Xe,t[4]=ct^~En&ya,t[5]=lt^~bn&wa,t[14]=Ye^~it&ht,t[15]=oi^~li&gi,t[24]=mt^~pa&ai,t[25]=An^~ma&Ze,t[34]=ci^~di&Sn,t[35]=nt^~ft&In,t[44]=da^~Je&st,t[45]=ga^~Xe&ot,t[6]=En^~ya&Ke,t[7]=bn^~wa&We,t[16]=it^~ht&dt,t[17]=li^~gi&gt,t[26]=pa^~ai&et,t[27]=ma^~Ze&ui,t[36]=di^~Sn&_n,t[37]=ft^~In&la,t[46]=Je^~st&fi,t[47]=Xe^~ot&at,t[8]=ya^~Ke&tt,t[9]=wa^~We&rt,t[18]=ht^~dt&fa,t[19]=gi^~gt&ha,t[28]=ai^~et&ut,t[29]=Ze^~ui&hi,t[38]=Sn^~_n&si,t[39]=In^~la&$e,t[48]=st^~fi&pi,t[49]=ot^~at&pt,t[0]^=Ax[e*2],t[1]^=Ax[e*2+1]}}});var Ix=D((H0e,Sx)=>{h();var gg=bx();function qu(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}qu.prototype.initialize=function(t,e){for(let r=0;r<50;++r)this.state[r]=0;this.blockSize=t/8,this.count=0,this.squeezing=!1};qu.prototype.absorb=function(t){for(let e=0;e<t.length;++e)this.state[~~(this.count/4)]^=t[e]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(gg.p1600(this.state),this.count=0)};qu.prototype.absorbLastFewBits=function(t){this.state[~~(this.count/4)]^=t<<8*(this.count%4),t&128&&this.count===this.blockSize-1&&gg.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),gg.p1600(this.state),this.count=0,this.squeezing=!0};qu.prototype.squeeze=function(t){this.squeezing||this.absorbLastFewBits(1);let e=p.Buffer.alloc(t);for(let r=0;r<t;++r)e[r]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(gg.p1600(this.state),this.count=0);return e};qu.prototype.copy=function(t){for(let e=0;e<50;++e)t.state[e]=this.state[e];t.blockSize=this.blockSize,t.count=this.count,t.squeezing=this.squeezing};Sx.exports=qu});var af=D((j0e,_x)=>{h();_x.exports=vx()(Ix())});var ke=D($r=>{"use strict";h();var fz=$r&&$r.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),hz=$r&&$r.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Tx=$r&&$r.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&fz(e,t,r);return hz(e,t),e},dz=$r&&$r.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty($r,"__esModule",{value:!0});$r.AddressComputer=$r.Address=void 0;var Vu=Tx(_v()),gz=dz((nr(),xe(hr))),ku=Wd(),oA=yr(),Ra=Tx(Ie()),pz=Yd(),mz=af(),aA=32,yz="0".repeat(16),pg=class t{constructor(e,r){if(!e){this.publicKey=p.Buffer.from([]),this.hrp=r||ku.LibraryConfig.DefaultAddressHrp;return}if(ArrayBuffer.isView(e)){if(e.length!=aA)throw new Ra.ErrAddressCannotCreate(e);this.publicKey=p.Buffer.from(e),this.hrp=r||ku.LibraryConfig.DefaultAddressHrp;return}if(e instanceof t){if(r)throw new Ra.ErrInvalidArgument("this variant of the Address constructor does not accept the 'hrp' argument");this.publicKey=e.publicKey,this.hrp=e.hrp;return}if(typeof e=="string"){if(t.isValidHex(e)){this.publicKey=p.Buffer.from(e,"hex"),this.hrp=r||ku.LibraryConfig.DefaultAddressHrp;return}if(r)throw new Ra.ErrInvalidArgument("this variant of the Address constructor does not accept the 'hrp' argument");let{hrp:n,pubkey:i}=uA({value:e,allowCustomHrp:!1});this.publicKey=i,this.hrp=n;return}throw new Ra.ErrAddressCannotCreate(e)}static newFromBech32(e){let{hrp:r,pubkey:n}=uA({value:e,allowCustomHrp:!0});return new t(n,r)}static fromBech32(e){let{hrp:r,pubkey:n}=uA({value:e,allowCustomHrp:!1});return new t(n,r)}static newFromHex(e,r){if(!t.isValidHex(e))throw new Ra.ErrAddressCannotCreate(e);return new t(p.Buffer.from(e,"hex"),r)}static fromHex(e,r){return t.newFromHex(e,r)}static fromAddress(e){return new t(e)}static fromBuffer(e,r){return new t(e,r)}static fromString(e,r){return new t(e,r)}static isValidHex(e){return p.Buffer.from(e,"hex").length==aA}static empty(){return new t("")}static isValid(e){let r=Vu.decodeUnsafe(e),n=r?.prefix,i=r?p.Buffer.from(Vu.fromWords(r.words)):void 0;return!(n!==ku.LibraryConfig.DefaultAddressHrp||i?.length!==aA)}hex(){return this.toHex()}toHex(){return this.isEmpty()?"":this.publicKey.toString("hex")}bech32(){return this.toBech32()}toBech32(){if(this.isEmpty())return"";let e=Vu.toWords(this.pubkey());return Vu.encode(this.hrp,e)}pubkey(){return this.getPublicKey()}getPublicKey(){return this.publicKey}getHrp(){return this.hrp}isEmpty(){return this.publicKey.length==0}equals(e){return e?this.publicKey.toString()==e.publicKey.toString():!1}toString(){return this.toBech32()}toJSON(){return{bech32:this.toBech32(),pubkey:this.toHex()}}static Zero(){return new t("0".repeat(64))}isContractAddress(){return this.isSmartContract()}isSmartContract(){return this.toHex().startsWith(yz)}};$r.Address=pg;var cA=class{constructor(e){this.numberOfShardsWithoutMeta=e||oA.CURRENT_NUMBER_OF_SHARDS_WITHOUT_META}computeContractAddress(e,r){let n=p.Buffer.alloc(8,0),i=e.getPublicKey(),s=i.slice(30),o=p.Buffer.alloc(8),u=new gz.default(r.toString()),a=pz.bigIntToBuffer(u);o.write(a.reverse().toString("hex"),"hex");let c=p.Buffer.concat([i,o]),f=mz("keccak256").update(c).digest(),d=p.Buffer.from(oA.WasmVirtualMachine,"hex"),w=p.Buffer.concat([n,d,f.slice(10,30),s]);return new pg(w)}getShardOfAddress(e){return this.getShardOfPubkey(e.getPublicKey(),this.numberOfShardsWithoutMeta)}getShardOfPubkey(e,r){let n=parseInt("11",2),i=parseInt("01",2),s=e[31];if(this.isPubkeyOfMetachain(e))return oA.METACHAIN_ID;let o=s&n;return o>r-1&&(o=s&i),o}isPubkeyOfMetachain(e){let r=p.Buffer.from([0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),n=p.Buffer.from(e).slice(0,r.length);return!!(r.equals(n)||p.Buffer.alloc(32).equals(p.Buffer.from(e)))}};$r.AddressComputer=cA;function uA(t){let e=t.value,r=t.allowCustomHrp,n,i;try{let s=Vu.decode(e);n=s.prefix,i=p.Buffer.from(Vu.fromWords(s.words))}catch(s){throw new Ra.ErrAddressCannotCreate(e,s)}if(!r&&n!=ku.LibraryConfig.DefaultAddressHrp)throw new Ra.ErrAddressBadHrp(ku.LibraryConfig.DefaultAddressHrp,n);return{hrp:n,pubkey:i}}});var Bn=D(Ft=>{"use strict";h();var wz=Ft&&Ft.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),vz=Ft&&Ft.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Az=Ft&&Ft.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&wz(e,t,r);return vz(e,t),e};Object.defineProperty(Ft,"__esModule",{value:!0});Ft.isEmpty=Ft.guardEmpty=Ft.guardNotEmpty=Ft.guardLength=Ft.guardSameLength=Ft.guardValueIsSetWithMessage=Ft.guardValueIsSet=Ft.guardTrue=void 0;var Hu=Az(Ie());function Ez(t,e){if(!t)throw new Hu.ErrInvariantFailed(`[<${e}>] isn't true`)}Ft.guardTrue=Ez;function bz(t,e){Cx(`${t} isn't set (null or undefined)`,e)}Ft.guardValueIsSet=bz;function Cx(t,e){if(e==null||e===void 0)throw new Hu.ErrInvariantFailed(t)}Ft.guardValueIsSetWithMessage=Cx;function Sz(t,e){if(t=t||[],e=e||[],t.length!=e.length)throw new Hu.ErrInvariantFailed("arrays do not have the same length")}Ft.guardSameLength=Sz;function Iz(t,e){let r=t.length||0;if(r!=e)throw new Hu.ErrInvariantFailed(`wrong length, expected: ${e}, actual: ${r}`)}Ft.guardLength=Iz;function _z(t,e){if(lA(t))throw new Hu.ErrInvariantFailed(`${e} is empty`)}Ft.guardNotEmpty=_z;function Tz(t,e){if(!lA(t))throw new Hu.ErrInvariantFailed(`${e} is not empty`)}Ft.guardEmpty=Tz;function lA(t){return t.isEmpty?t.isEmpty():t.length===0}Ft.isEmpty=lA});var Nx=D(mg=>{"use strict";h();Object.defineProperty(mg,"__esModule",{value:!0});mg.TypeFormula=void 0;var fA=class{constructor(e,r){this.name=e,this.typeParameters=r}toString(){if(this.typeParameters.length>0){let e=this.typeParameters.map(r=>r.toString()).join(", ");return`${this.name}<${e}>`}else return this.name}};mg.TypeFormula=fA});var xx=D(yg=>{"use strict";h();Object.defineProperty(yg,"__esModule",{value:!0});yg.TypeFormulaParser=void 0;var uf=Nx(),Hi=class t{parseExpression(e){e=e.trim();let r=this.tokenizeExpression(e).filter(s=>s!==t.COMMA),n=[];for(let s of r)if(this.isPunctuation(s))if(this.isEndOfTypeParameters(s)){let o=this.acquireTypeWithParameters(n);n.push(o)}else if(this.isBeginningOfTypeParameters(s))n.push(s);else throw new Error(`Unexpected token (punctuation): ${s}`);else n.push(s);if(n.length!==1)throw new Error(`Unexpected stack length at end of parsing: ${n.length}`);if(t.PUNCTUATION.includes(n[0]))throw new Error("Unexpected root element.");let i=n[0];if(i instanceof uf.TypeFormula)return i;if(typeof i=="string")return new uf.TypeFormula(i,[]);throw new Error(`Unexpected item on stack: ${i}`)}tokenizeExpression(e){let r=[],n="";for(let i of e)this.isPunctuation(i)?(n&&(r.push(n.trim()),n=""),r.push(i)):n+=i;return n&&r.push(n.trim()),r}acquireTypeWithParameters(e){let r=this.acquireTypeParameters(e),n=e.pop();return new uf.TypeFormula(n,r.reverse())}acquireTypeParameters(e){let r=[];for(;;){let n=e.pop();if(n===void 0)throw new Error("Badly specified type parameters");if(this.isBeginningOfTypeParameters(n))break;if(n instanceof uf.TypeFormula)r.push(n);else if(typeof n=="string")r.push(new uf.TypeFormula(n,[]));else throw new Error(`Unexpected type parameter object in stack: ${n}`)}return r}isPunctuation(e){return t.PUNCTUATION.includes(e)}isEndOfTypeParameters(e){return e===t.END_TYPE_PARAMETERS}isBeginningOfTypeParameters(e){return e===t.BEGIN_TYPE_PARAMETERS}};yg.TypeFormulaParser=Hi;Hi.BEGIN_TYPE_PARAMETERS="<";Hi.END_TYPE_PARAMETERS=">";Hi.COMMA=",";Hi.PUNCTUATION=[Hi.COMMA,Hi.BEGIN_TYPE_PARAMETERS,Hi.END_TYPE_PARAMETERS]});var Ox=D(wg=>{"use strict";h();Object.defineProperty(wg,"__esModule",{value:!0});wg.getJavascriptPrototypesInHierarchy=void 0;function Cz(t,e){let r=[],n=Object.getPrototypeOf(t);for(;n&&e(n);)r.push(n),n=Object.getPrototypeOf(n);return r}wg.getJavascriptPrototypesInHierarchy=Cz});var or=D(sr=>{"use strict";h();Object.defineProperty(sr,"__esModule",{value:!0});sr.NullType=sr.TypePlaceholder=sr.isTyped=sr.PrimitiveValue=sr.TypedValue=sr.CustomType=sr.PrimitiveType=sr.TypeCardinality=sr.Type=void 0;var hA=Ox(),Dx=Bn(),lo=class t{constructor(e,r=[],n=cf.fixed(1)){Dx.guardValueIsSet("name",e),this.name=e,this.typeParameters=r,this.cardinality=n}getName(){return this.name}getClassName(){return t.ClassName}getClassHierarchy(){return hA.getJavascriptPrototypesInHierarchy(this,n=>n.belongsToTypesystem).map(n=>n.getClassName()).reverse()}getFullyQualifiedName(){let e=this.getTypeParameters().map(r=>r.getFullyQualifiedName()).join(", ");return this.isGenericType()?`multiversx:types:${this.getName()}<${e}>`:`multiversx:types:${this.getName()}`}hasExactClass(e){return this.getClassName()==e}hasClassOrSuperclass(e){return this.getClassHierarchy().includes(e)}getTypeParameters(){return this.typeParameters}isGenericType(){return this.typeParameters.length>0}getFirstTypeParameter(){return Dx.guardTrue(this.typeParameters.length>0,"type parameters length > 0"),this.typeParameters[0]}toString(){let e=this.getTypeParameters().map(n=>n.toString()).join(", "),r=e?`<${e}>`:"";return`${this.name}${r}`}equals(e){return t.equals(this,e)}static equals(e,r){return e.getFullyQualifiedName()==r.getFullyQualifiedName()}static equalsMany(e,r){return e.every((n,i)=>n.equals(r[i]))}static isAssignableFromMany(e,r){return e.every((n,i)=>n.isAssignableFrom(r[i]))}differs(e){return!this.equals(e)}valueOf(){return this.name}isAssignableFrom(e){if(!t.equalsMany(this.getTypeParameters(),e.getTypeParameters()))return!1;let n=this.getFullyQualifiedName();return t.getFullyQualifiedNamesInHierarchy(e).includes(n)?!0:e.hasClassOrSuperclass(this.getClassName())}static getFullyQualifiedNamesInHierarchy(e){return hA.getJavascriptPrototypesInHierarchy(e,i=>i.belongsToTypesystem).map(i=>i.getFullyQualifiedName.call(e))}getNamesOfDependencies(){let e=[];for(let r of this.typeParameters)e.push(r.getName()),e.push(...r.getNamesOfDependencies());return[...new Set(e)]}toJSON(){return{name:this.name,typeParameters:this.typeParameters.map(e=>e.toJSON())}}getCardinality(){return this.cardinality}belongsToTypesystem(){}};sr.Type=lo;lo.ClassName="Type";var cf=class t{constructor(e,r){this.lowerBound=e,this.upperBound=r}static fixed(e){return new t(e,e)}static variable(e){return new t(0,e)}isSingular(){return this.lowerBound==1&&this.upperBound==1}isSingularOrNone(){return this.lowerBound==0&&this.upperBound==1}isComposite(){return this.upperBound!=1}isFixed(){return this.lowerBound==this.upperBound}getLowerBound(){return this.lowerBound}getUpperBound(){return this.upperBound||t.MaxCardinality}};sr.TypeCardinality=cf;cf.MaxCardinality=4096;var vg=class t extends lo{constructor(e){super(e)}getClassName(){return t.ClassName}};sr.PrimitiveType=vg;vg.ClassName="PrimitiveType";var Ag=class t extends lo{getClassName(){return t.ClassName}};sr.CustomType=Ag;Ag.ClassName="CustomType";var lf=class t{constructor(e){this.type=e}getClassName(){return t.ClassName}getClassHierarchy(){return hA.getJavascriptPrototypesInHierarchy(this,n=>n.belongsToTypesystem).map(n=>n.getClassName()).reverse()}getType(){return this.type}hasExactClass(e){return this.getClassName()==e}hasClassOrSuperclass(e){return this.getClassHierarchy().includes(e)}belongsToTypesystem(){}};sr.TypedValue=lf;lf.ClassName="TypedValue";var Eg=class t extends lf{constructor(e){super(e)}getClassName(){return t.ClassName}};sr.PrimitiveValue=Eg;Eg.ClassName="PrimitiveValue";function Nz(t){return t.belongsToTypesystem!==void 0}sr.isTyped=Nz;var bg=class t extends lo{constructor(){super("...")}getClassName(){return t.ClassName}};sr.TypePlaceholder=bg;bg.ClassName="TypePlaceholder";var Sg=class t extends lo{constructor(){super("?")}getClassName(){return t.ClassName}};sr.NullType=Sg;Sg.ClassName="NullType"});var ff=D(Ig=>{"use strict";h();Object.defineProperty(Ig,"__esModule",{value:!0});Ig.TypeExpressionParser=void 0;var xz=xx(),Oz=Ie(),Dz=or(),dA=class{constructor(){this.backingTypeFormulaParser=new xz.TypeFormulaParser}parse(e){try{return this.doParse(e)}catch(r){throw new Oz.ErrTypingSystem(`Failed to parse type expression: ${e}. Error: ${r}`)}}doParse(e){let r=this.backingTypeFormulaParser.parseExpression(e);return this.typeFormulaToType(r)}typeFormulaToType(e){let r=e.typeParameters.map(n=>this.typeFormulaToType(n));return new Dz.Type(e.name,r)}};Ig.TypeExpressionParser=dA});var pA=D(fo=>{"use strict";h();Object.defineProperty(fo,"__esModule",{value:!0});fo.EndpointParameterDefinition=fo.EndpointModifiers=fo.EndpointDefinition=void 0;var Pz=ff(),Px="?",Rz="N / A",gA=class t{constructor(e,r,n,i){this.input=[],this.output=[],this.name=e,this.input=r||[],this.output=n||[],this.modifiers=i}isConstructor(){return this.name=="constructor"}static fromJSON(e){e.name=e.name==null?Px:e.name,e.onlyOwner=e.onlyOwner||!1,e.payableInTokens=e.payableInTokens||[],e.inputs=e.inputs||[],e.outputs=e.outputs||[];let r=e.inputs.map(s=>hf.fromJSON(s)),n=e.outputs.map(s=>hf.fromJSON(s)),i=new _g(e.mutability,e.payableInTokens,e.onlyOwner);return new t(e.name,r,n,i)}};fo.EndpointDefinition=gA;var _g=class{constructor(e,r,n){this.mutability=e||"",this.payableInTokens=r||[],this.onlyOwner=n||!1}isPayableInEGLD(){return this.isPayableInToken("EGLD")}isPayableInToken(e){return this.payableInTokens.includes(e)?!0:this.payableInTokens.includes(`!${e}`)?!1:!!this.payableInTokens.includes("*")}isPayable(){return this.payableInTokens.length!=0}isReadonly(){return this.mutability=="readonly"}isOnlyOwner(){return this.onlyOwner}};fo.EndpointModifiers=_g;var hf=class t{constructor(e,r,n){this.name=e,this.description=r,this.type=n}static fromJSON(e){let r=new Pz.TypeExpressionParser().parse(e.type);return new t(e.name||Px,e.description||Rz,r)}};fo.EndpointParameterDefinition=hf});var Gu=D(Yr=>{"use strict";h();var Bz=Yr&&Yr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Mz=Yr&&Yr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Lz=Yr&&Yr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Bz(e,t,r);return Mz(e,t),e};Object.defineProperty(Yr,"__esModule",{value:!0});Yr.Fields=Yr.Field=Yr.FieldDefinition=void 0;var mA=Lz(Ie()),Fz=ff(),yA=class t{constructor(e,r,n){this.name=e,this.description=r,this.type=n}static fromJSON(e){let r=new Fz.TypeExpressionParser().parse(e.type);return new t(e.name,e.description,r)}};Yr.FieldDefinition=yA;var wA=class{constructor(e,r=""){this.value=e,this.name=r}checkTyping(e){let r=this.value.getType();if(!r.equals(e.type))throw new mA.ErrTypingSystem(`check type of field "${e.name}; expected: ${e.type}, actual: ${r}"`);if(this.name!=e.name)throw new mA.ErrTypingSystem(`check name of field "${e.name}"`)}equals(e){return this.name==e.name&&this.value.equals(e.value)}};Yr.Field=wA;var vA=class{static checkTyping(e,r){if(e.length!=r.length)throw new mA.ErrTypingSystem("fields length vs. field definitions length");for(let n=0;n<e.length;n++){let i=e[n],s=r[n];i.checkTyping(s)}}static equals(e,r){if(e.length!=r.length)return!1;for(let n=0;n<e.length;n++){let i=e[n],s=r[n];if(!i.equals(s))return!1}return!0}static getNamesOfTypeDependencies(e){let r=[];for(let n of e)r.push(n.type.getName()),r.push(...n.type.getNamesOfDependencies());return[...new Set(r)]}};Yr.Fields=vA});var df=D(ho=>{"use strict";h();Object.defineProperty(ho,"__esModule",{value:!0});ho.EnumValue=ho.EnumVariantDefinition=ho.EnumType=void 0;var Uz=Ie(),AA=Bn(),Tg=Gu(),Bx=or(),Rx=256,Cg=class t extends Bx.CustomType{constructor(e,r){super(e),this.variants=[],this.variants=r}getClassName(){return t.ClassName}static fromJSON(e){let n=t.assignMissingDiscriminants(e.variants||[]).map(i=>Ng.fromJSON(i));return new t(e.name,n)}static assignMissingDiscriminants(e){return e.every(n=>n.discriminant==null)?e.map((n,i)=>({...n,discriminant:i})):e}getVariantByDiscriminant(e){let r=this.variants.find(n=>n.discriminant==e);return AA.guardValueIsSet(`variant by discriminant (${e})`,r),r}getVariantByName(e){let r=this.variants.find(n=>n.name==e);return AA.guardValueIsSet(`variant by name (${e})`,r),r}getNamesOfDependencies(){let e=[];for(let r of this.variants)e.push(...r.getNamesOfDependencies());return[...new Set(e)]}};ho.EnumType=Cg;Cg.ClassName="EnumType";var Ng=class t{constructor(e,r,n=[]){this.fieldsDefinitions=[],AA.guardTrue(r<Rx,`discriminant for simple enum should be less than ${Rx}`),this.name=e,this.discriminant=r,this.fieldsDefinitions=n}static fromJSON(e){let r=(e.fields||[]).map(n=>Tg.FieldDefinition.fromJSON(n));return new t(e.name,e.discriminant,r)}getFieldsDefinitions(){return this.fieldsDefinitions}getFieldDefinition(e){return this.fieldsDefinitions.find(r=>r.name==e)}getNamesOfDependencies(){return Tg.Fields.getNamesOfTypeDependencies(this.fieldsDefinitions)}};ho.EnumVariantDefinition=Ng;var xg=class t extends Bx.TypedValue{constructor(e,r,n){super(e),this.fields=[],this.name=r.name,this.discriminant=r.discriminant,this.fields=n,this.fieldsByName=new Map(n.map(s=>[s.name,s]));let i=r.getFieldsDefinitions();Tg.Fields.checkTyping(this.fields,i)}getClassName(){return t.ClassName}static fromName(e,r){let n=e.getVariantByName(r);return new t(e,n,[])}static fromDiscriminant(e,r){let n=e.getVariantByDiscriminant(r);return new t(e,n,[])}equals(e){if(!this.getType().equals(e.getType()))return!1;let r=this.getFields(),n=e.getFields(),i=this.name==e.name,s=this.discriminant==e.discriminant,o=Tg.Fields.equals(r,n);return i&&s&&o}getFields(){return this.fields}getFieldValue(e){let r=this.fieldsByName.get(e);if(r)return r.value.valueOf();throw new Uz.ErrMissingFieldOnEnum(e,this.getType().getName())}valueOf(){let e={name:this.name,fields:[]};return this.fields.forEach((r,n)=>e.fields[n]=r.value.valueOf()),e}};ho.EnumValue=xg;xg.ClassName="EnumValue"});var Lx=D(ju=>{"use strict";h();Object.defineProperty(ju,"__esModule",{value:!0});ju.EventTopicDefinition=ju.EventDefinition=void 0;var qz=ff(),Mx="?",EA=class t{constructor(e,r){this.inputs=[],this.identifier=e,this.inputs=r||[]}static fromJSON(e){e.identifier=e.identifier==null?Mx:e.identifier,e.inputs=e.inputs||[];let r=e.inputs.map(n=>Og.fromJSON(n));return new t(e.identifier,r)}};ju.EventDefinition=EA;var Og=class t{constructor(e){this.name=e.name,this.type=e.type,this.indexed=e.indexed}static fromJSON(e){let r=new qz.TypeExpressionParser().parse(e.type);return new t({name:e.name||Mx,type:r,indexed:e.indexed})}};ju.EventTopicDefinition=Og});var Qu=D(zu=>{"use strict";h();Object.defineProperty(zu,"__esModule",{value:!0});zu.Struct=zu.StructType=void 0;var Vz=Ie(),Dg=Gu(),Fx=or(),Pg=class t extends Fx.CustomType{constructor(e,r){super(e),this.fieldsDefinitions=[],this.fieldsDefinitions=r}getClassName(){return t.ClassName}static fromJSON(e){let r=(e.fields||[]).map(n=>Dg.FieldDefinition.fromJSON(n));return new t(e.name,r)}getFieldsDefinitions(){return this.fieldsDefinitions}getFieldDefinition(e){return this.fieldsDefinitions.find(r=>r.name==e)}getNamesOfDependencies(){return Dg.Fields.getNamesOfTypeDependencies(this.fieldsDefinitions)}};zu.StructType=Pg;Pg.ClassName="StructType";var Rg=class t extends Fx.TypedValue{constructor(e,r){super(e),this.fields=r,this.fieldsByName=new Map(r.map(n=>[n.name,n])),this.checkTyping()}getClassName(){return t.ClassName}checkTyping(){let r=this.getType().getFieldsDefinitions();Dg.Fields.checkTyping(this.fields,r)}getFields(){return this.fields}getFieldValue(e){let r=this.fieldsByName.get(e);if(r)return r.value.valueOf();throw new Vz.ErrMissingFieldOnStruct(e,this.getType().getName())}valueOf(){let e={};for(let r of this.fields)e[r.name]=r.value.valueOf();return e}equals(e){if(!this.getType().equals(e.getType()))return!1;let r=this.getFields(),n=e.getFields();return Dg.Fields.equals(r,n)}};zu.Struct=Rg;Rg.ClassName="Struct"});var Wu=D(Ku=>{"use strict";h();Object.defineProperty(Ku,"__esModule",{value:!0});Ku.AddressValue=Ku.AddressType=void 0;var kz=ke(),Ux=or(),gf=class t extends Ux.PrimitiveType{constructor(){super("Address")}getClassName(){return t.ClassName}};Ku.AddressType=gf;gf.ClassName="AddressType";var Bg=class t extends Ux.PrimitiveValue{constructor(e){super(new gf),this.value=new kz.Address(e.bech32())}getClassName(){return t.ClassName}equals(e){return this.value.equals(e.value)}valueOf(){return this.value}};Ku.AddressValue=Bg;Bg.ClassName="AddressValue"});var Lg=D($u=>{"use strict";h();Object.defineProperty($u,"__esModule",{value:!0});$u.OptionalValue=$u.OptionalType=void 0;var Hz=Bn(),pf=or(),mf=class t extends pf.Type{constructor(e){super("Optional",[e],pf.TypeCardinality.variable(1))}getClassName(){return t.ClassName}isAssignableFrom(e){if(!e.hasExactClass(t.ClassName))return!1;let r=this.getFirstTypeParameter().equals(e.getFirstTypeParameter()),n=e.getFirstTypeParameter().hasExactClass(pf.NullType.ClassName);return r||n}};$u.OptionalType=mf;mf.ClassName="OptionalType";var Mg=class t extends pf.TypedValue{constructor(e,r=null){super(e),this.value=r}getClassName(){return t.ClassName}static newMissing(){let e=new mf(new pf.NullType);return new t(e)}isSet(){return!!this.value}getTypedValue(){return Hz.guardValueIsSet("value",this.value),this.value}valueOf(){return this.value?this.value.valueOf():null}equals(e){return this.value?.equals(e.value)||!1}};$u.OptionalValue=Mg;Mg.ClassName="OptionalValue"});var wf=D(Yu=>{"use strict";h();Object.defineProperty(Yu,"__esModule",{value:!0});Yu.BooleanValue=Yu.BooleanType=void 0;var qx=or(),yf=class t extends qx.PrimitiveType{constructor(){super("bool")}getClassName(){return t.ClassName}};Yu.BooleanType=yf;yf.ClassName="BooleanType";var Fg=class t extends qx.PrimitiveValue{constructor(e){super(new yf),this.value=e}getClassName(){return t.ClassName}equals(e){return this.value===e.value}isTrue(){return this.value===!0}isFalse(){return!this.isTrue()}valueOf(){return this.value}};Yu.BooleanValue=Fg;Fg.ClassName="BooleanValue"});var go=D(Ju=>{"use strict";h();Object.defineProperty(Ju,"__esModule",{value:!0});Ju.BytesValue=Ju.BytesType=void 0;var Vx=or(),vf=class t extends Vx.PrimitiveType{constructor(){super("bytes")}getClassName(){return t.ClassName}};Ju.BytesType=vf;vf.ClassName="BytesType";var Ug=class t extends Vx.PrimitiveValue{constructor(e){super(new vf),this.value=e}getClassName(){return t.ClassName}static fromUTF8(e){let r=p.Buffer.from(e,"utf-8");return new t(r)}static fromHex(e){let r=p.Buffer.from(e,"hex");return new t(r)}getLength(){return this.value.length}equals(e){return this.getLength()!=e.getLength()?!1:this.value.equals(e.value)}valueOf(){return this.value}toString(){return this.value.toString()}};Ju.BytesValue=Ug;Ug.ClassName="BytesValue"});var Hx=D(Xu=>{"use strict";h();Object.defineProperty(Xu,"__esModule",{value:!0});Xu.CodeMetadataValue=Xu.CodeMetadataType=void 0;var kx=or(),qg=class extends kx.PrimitiveType{constructor(){super("CodeMetadata")}};Xu.CodeMetadataType=qg;var bA=class extends kx.PrimitiveValue{constructor(e){super(new qg),this.value=e}equals(e){return this.value.equals(e.value)}valueOf(){return this.value}};Xu.CodeMetadataValue=bA});var kg=D(Zu=>{"use strict";h();Object.defineProperty(Zu,"__esModule",{value:!0});Zu.CompositeValue=Zu.CompositeType=void 0;var Gz=Bn(),SA=or(),Af=class t extends SA.Type{constructor(...e){super("Composite",e,SA.TypeCardinality.variable(e.length))}getClassName(){return t.ClassName}};Zu.CompositeType=Af;Af.ClassName="CompositeType";var Vg=class t extends SA.TypedValue{constructor(e,r){super(e),Gz.guardLength(r,e.getTypeParameters().length),this.items=r}getClassName(){return t.ClassName}static fromItems(...e){let r=e.map(i=>i.getType()),n=new Af(...r);return new t(n,e)}getItems(){return this.items}valueOf(){return this.items.map(e=>e?.valueOf())}equals(e){if(this.getType().differs(e.getType()))return!1;for(let r=0;r<this.items.length;r++){let n=this.items[r],i=e.items[r];if(!n.equals(i))return!1}return!0}};Zu.CompositeValue=Vg;Vg.ClassName="CompositeValue"});var _A=D(Hg=>{"use strict";h();Object.defineProperty(Hg,"__esModule",{value:!0});Hg.CollectionOfTypedValues=void 0;var IA=class{constructor(e){this.items=e}getLength(){return this.items.length}getItems(){return this.items}valueOf(){return this.items.map(e=>e.valueOf())}equals(e){if(this.getLength()!=e.getLength())return!1;for(let r=0;r<this.getLength();r++){let n=this.items[r],i=e.items[r];if(!n.equals(i))return!1}return!0}};Hg.CollectionOfTypedValues=IA});var bf=D(Gi=>{"use strict";h();Object.defineProperty(Gi,"__esModule",{value:!0});Gi.List=Gi.OptionValue=Gi.ListType=Gi.OptionType=void 0;var jz=Bn(),zz=_A(),Ma=or(),Ba=class t extends Ma.Type{constructor(e){super("Option",[e])}getClassName(){return t.ClassName}isAssignableFrom(e){if(!e.hasExactClass(t.ClassName))return!1;let r=this.getFirstTypeParameter().equals(e.getFirstTypeParameter()),n=e.getFirstTypeParameter().hasExactClass(Ma.NullType.ClassName);return r||n}};Gi.OptionType=Ba;Ba.ClassName="OptionType";var Ef=class t extends Ma.Type{constructor(e){super("List",[e])}getClassName(){return t.ClassName}};Gi.ListType=Ef;Ef.ClassName="ListType";var Gg=class t extends Ma.TypedValue{constructor(e,r=null){super(e),this.value=r}getClassName(){return t.ClassName}static newMissing(){let e=new Ba(new Ma.NullType);return new t(e)}static newMissingTyped(e){return new t(new Ba(e))}static newProvided(e){let r=new Ba(e.getType());return new t(r,e)}isSet(){return!!this.value}getTypedValue(){return jz.guardValueIsSet("value",this.value),this.value}valueOf(){return this.value?this.value.valueOf():null}equals(e){return this.value?.equals(e.value)||!1}};Gi.OptionValue=Gg;Gg.ClassName="OptionValue";var jg=class t extends Ma.TypedValue{constructor(e,r){super(e),this.backingCollection=new zz.CollectionOfTypedValues(r)}getClassName(){return t.ClassName}static fromItems(e){if(e.length==0)return new t(new Ma.TypePlaceholder,[]);let r=e[0].getType(),n=new Ef(r);return new t(n,e)}getLength(){return this.backingCollection.getLength()}getItems(){return this.backingCollection.getItems()}valueOf(){return this.backingCollection.valueOf()}equals(e){return this.backingCollection.equals(e.backingCollection)}};Gi.List=jg;jg.ClassName="List"});var Kg=D(ec=>{"use strict";h();Object.defineProperty(ec,"__esModule",{value:!0});ec.ArrayVec=ec.ArrayVecType=void 0;var Gx=Bn(),Qz=_A(),jx=or(),zg=class t extends jx.Type{constructor(e,r){super("Array",[r]),Gx.guardTrue(e>0,"array length > 0"),this.length=e}getClassName(){return t.ClassName}};ec.ArrayVecType=zg;zg.ClassName="ArrayVecType";var Qg=class t extends jx.TypedValue{constructor(e,r){super(e),Gx.guardLength(r,e.length),this.backingCollection=new Qz.CollectionOfTypedValues(r)}getClassName(){return t.ClassName}getLength(){return this.backingCollection.getLength()}getItems(){return this.backingCollection.getItems()}valueOf(){return this.backingCollection.valueOf()}equals(e){return this.backingCollection.equals(e.backingCollection)}};ec.ArrayVec=Qg;Qg.ClassName="ArrayVec"});var If=D(tc=>{"use strict";h();Object.defineProperty(tc,"__esModule",{value:!0});tc.H256Value=tc.H256Type=void 0;var zx=or(),Sf=class t extends zx.PrimitiveType{constructor(){super("H256")}getClassName(){return t.ClassName}};tc.H256Type=Sf;Sf.ClassName="H256Type";var Wg=class t extends zx.PrimitiveValue{constructor(e){super(new Sf),this.value=e}getClassName(){return t.ClassName}equals(e){return this.value.equals(e.value)}valueOf(){return this.value}};tc.H256Value=Wg;Wg.ClassName="H256Value"});var Yg=D(rc=>{"use strict";h();Object.defineProperty(rc,"__esModule",{value:!0});rc.NothingValue=rc.NothingType=void 0;var Qx=or(),_f=class t extends Qx.PrimitiveType{constructor(){super("nothing")}getClassName(){return t.ClassName}};rc.NothingType=_f;_f.ClassName="NothingType";var $g=class t extends Qx.PrimitiveValue{constructor(){super(new _f)}getClassName(){return t.ClassName}equals(e){return!1}valueOf(){return{}}};rc.NothingValue=$g;$g.ClassName="NothingValue"});var Lf=D(Ee=>{"use strict";h();var Kz=Ee&&Ee.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Wz=Ee&&Ee.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),$z=Ee&&Ee.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Kz(e,t,r);return Wz(e,t),e},Yz=Ee&&Ee.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ee,"__esModule",{value:!0});Ee.BigIntValue=Ee.BigUIntValue=Ee.I64Value=Ee.U64Value=Ee.I32Value=Ee.U32Value=Ee.I16Value=Ee.U16Value=Ee.I8Value=Ee.U8Value=Ee.NumericalValue=Ee.BigIntType=Ee.BigUIntType=Ee.I64Type=Ee.U64Type=Ee.I32Type=Ee.U32Type=Ee.I16Type=Ee.U16Type=Ee.I8Type=Ee.U8Type=Ee.NumericalType=void 0;var Jz=Yz((nr(),xe(hr))),Kx=$z(Ie()),Wx=or(),Jr=class t extends Wx.PrimitiveType{constructor(e,r,n){super(e),this.sizeInBytes=r,this.withSign=n}getClassName(){return t.ClassName}hasFixedSize(){return!!this.sizeInBytes}hasArbitrarySize(){return!this.hasFixedSize()}};Ee.NumericalType=Jr;Jr.ClassName="NumericalType";var Tf=class t extends Jr{constructor(){super("u8",1,!1)}getClassName(){return t.ClassName}};Ee.U8Type=Tf;Tf.ClassName="U8Type";var Cf=class t extends Jr{constructor(){super("i8",1,!0)}getClassName(){return t.ClassName}};Ee.I8Type=Cf;Cf.ClassName="I8Type";var Nf=class t extends Jr{constructor(){super("u16",2,!1)}getClassName(){return t.ClassName}};Ee.U16Type=Nf;Nf.ClassName="U16Type";var xf=class t extends Jr{constructor(){super("i16",2,!0)}getClassName(){return t.ClassName}};Ee.I16Type=xf;xf.ClassName="I16Type";var Of=class t extends Jr{constructor(){super("u32",4,!1)}getClassName(){return t.ClassName}};Ee.U32Type=Of;Of.ClassName="U32Type";var Df=class t extends Jr{constructor(){super("i32",4,!0)}getClassName(){return t.ClassName}};Ee.I32Type=Df;Df.ClassName="I32Type";var Pf=class t extends Jr{constructor(){super("u64",8,!1)}getClassName(){return t.ClassName}};Ee.U64Type=Pf;Pf.ClassName="U64Type";var Rf=class t extends Jr{constructor(){super("i64",8,!0)}getClassName(){return t.ClassName}};Ee.I64Type=Rf;Rf.ClassName="I64Type";var Bf=class t extends Jr{constructor(){super("BigUint",0,!1)}getClassName(){return t.ClassName}};Ee.BigUIntType=Bf;Bf.ClassName="BigUIntType";var Mf=class t extends Jr{constructor(){super("Bigint",0,!0)}getClassName(){return t.ClassName}};Ee.BigIntType=Mf;Mf.ClassName="BigIntType";var Xr=class t extends Wx.PrimitiveValue{constructor(e,r){if(super(e),typeof r=="bigint"&&(r=r.toString()),this.value=new Jz.default(r),this.sizeInBytes=e.sizeInBytes,this.withSign=e.withSign,this.value.isNaN())throw new Kx.ErrInvalidArgument(`not a number: ${r}`);if(!this.withSign&&this.value.isNegative())throw new Kx.ErrInvalidArgument(`negative, but type is unsigned: ${r}`)}getClassName(){return t.ClassName}equals(e){return this.value.isEqualTo(e.value)}valueOf(){return this.value}toString(){return this.value.toString()}};Ee.NumericalValue=Xr;Xr.ClassName="NumericalValue";var Jg=class t extends Xr{constructor(e){super(new Tf,e)}getClassName(){return t.ClassName}};Ee.U8Value=Jg;Jg.ClassName="U8Value";var Xg=class t extends Xr{constructor(e){super(new Cf,e)}getClassName(){return t.ClassName}};Ee.I8Value=Xg;Xg.ClassName="I8Value";var Zg=class t extends Xr{constructor(e){super(new Nf,e)}getClassName(){return t.ClassName}};Ee.U16Value=Zg;Zg.ClassName="U16Value";var ep=class t extends Xr{constructor(e){super(new xf,e)}getClassName(){return t.ClassName}};Ee.I16Value=ep;ep.ClassName="I16Value";var tp=class t extends Xr{constructor(e){super(new Of,e)}getClassName(){return t.ClassName}};Ee.U32Value=tp;tp.ClassName="U32Value";var rp=class t extends Xr{constructor(e){super(new Df,e)}getClassName(){return t.ClassName}};Ee.I32Value=rp;rp.ClassName="I32Value";var np=class t extends Xr{constructor(e){super(new Pf,e)}getClassName(){return t.ClassName}};Ee.U64Value=np;np.ClassName="U64Value";var ip=class t extends Xr{constructor(e){super(new Rf,e)}getClassName(){return t.ClassName}};Ee.I64Value=ip;ip.ClassName="I64Value";var sp=class t extends Xr{constructor(e){super(new Bf,e)}getClassName(){return t.ClassName}};Ee.BigUIntValue=sp;sp.ClassName="BigUIntValue";var op=class t extends Xr{constructor(e){super(new Mf,e)}getClassName(){return t.ClassName}};Ee.BigIntValue=op;op.ClassName="BigIntValue"});var up=D(nc=>{"use strict";h();Object.defineProperty(nc,"__esModule",{value:!0});nc.StringValue=nc.StringType=void 0;var $x=or(),Ff=class t extends $x.PrimitiveType{constructor(){super("utf-8 string")}getClassName(){return t.ClassName}};nc.StringType=Ff;Ff.ClassName="StringType";var ap=class t extends $x.PrimitiveValue{constructor(e){super(new Ff),this.value=e}getClassName(){return t.ClassName}static fromUTF8(e){return new t(e)}static fromHex(e){let r=p.Buffer.from(e,"hex").toString();return new t(r)}getLength(){return this.value.length}equals(e){return this.value===e.value}valueOf(){return this.value}};nc.StringValue=ap;ap.ClassName="StringValue"});var sc=D(ic=>{"use strict";h();Object.defineProperty(ic,"__esModule",{value:!0});ic.TokenIdentifierValue=ic.TokenIdentifierType=void 0;var Yx=or(),Xz="EGLD",Uf=class t extends Yx.PrimitiveType{constructor(){super("TokenIdentifier")}getClassName(){return t.ClassName}};ic.TokenIdentifierType=Uf;Uf.ClassName="TokenIdentifierType";var cp=class t extends Yx.PrimitiveValue{constructor(e){super(new Uf),this.value=e}static egld(){return new t(Xz)}static esdtTokenIdentifier(e){return new t(e)}getClassName(){return t.ClassName}getLength(){return this.value.length}equals(e){return this.getLength()!=e.getLength()?!1:this.value==e.value}valueOf(){return this.value}toString(){return this.value.toString()}};ic.TokenIdentifierValue=cp;cp.ClassName="TokenIdentifierValue"});var fp=D(Mn=>{"use strict";h();var Zz=Mn&&Mn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),eQ=Mn&&Mn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),tQ=Mn&&Mn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Zz(e,t,r);return eQ(e,t),e};Object.defineProperty(Mn,"__esModule",{value:!0});Mn.Tuple=Mn.TupleType=void 0;var rQ=tQ(Ie()),Jx=Gu(),Xx=Qu(),qf=class t extends Xx.StructType{constructor(...e){super(t.prepareName(e),t.prepareFieldDefinitions(e))}getClassName(){return t.ClassName}static prepareName(e){return`tuple<${e.map(i=>i.toString()).join(", ")}>`}static prepareFieldDefinitions(e){return e.map((n,i)=>new Jx.FieldDefinition(Zx(i),"anonymous tuple field",n))}};Mn.TupleType=qf;qf.ClassName="TupleType";function Zx(t){return`field${t}`}var lp=class t extends Xx.Struct{constructor(e,r){super(e,r)}getClassName(){return t.ClassName}static fromItems(e){if(e.length<1)throw new rQ.ErrTypingSystem("bad tuple items");let r=e.map(s=>s.getType()),n=new qf(...r),i=e.map((s,o)=>new Jx.Field(s,Zx(o)));return new t(n,i)}};Mn.Tuple=lp;lp.ClassName="Tuple"});var gp=D(po=>{"use strict";h();Object.defineProperty(po,"__esModule",{value:!0});po.VariadicValue=po.CountedVariadicType=po.VariadicType=void 0;var oc=or(),La=class t extends oc.Type{constructor(e,r=!1){super("Variadic",[e],oc.TypeCardinality.variable()),this.isCounted=r}getClassName(){return t.ClassName}};po.VariadicType=La;La.ClassName="VariadicType";var hp=class extends oc.Type{constructor(e){super("Variadic",[e],oc.TypeCardinality.variable())}getClassName(){return La.ClassName}};po.CountedVariadicType=hp;hp.ClassName="VariadicType";var dp=class t extends oc.TypedValue{constructor(e,r){super(e),this.items=r}getClassName(){return t.ClassName}static fromItems(...e){return this.createFromItems(e,!1)}static fromItemsCounted(...e){return this.createFromItems(e,!0)}static createFromItems(e,r){if(e.length==0)return new t(new La(new oc.TypePlaceholder,r),[]);let n=e[0].getType();return new t(new La(n,r),e)}getItems(){return this.items}valueOf(){return this.items.map(e=>e.valueOf())}equals(e){if(this.getType().differs(e.getType()))return!1;for(let r=0;r<this.items.length;r++){let n=this.items[r],i=e.items[r];if(!n.equals(i))return!1}return!0}};po.VariadicValue=dp;dp.ClassName="VariadicValue"});var xA=D(zi=>{"use strict";h();var nQ=zi&&zi.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),iQ=zi&&zi.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),sQ=zi&&zi.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&nQ(e,t,r);return iQ(e,t),e};Object.defineProperty(zi,"__esModule",{value:!0});zi.TypeMapper=void 0;var e6=sQ(Ie()),oQ=Wu(),TA=Lg(),aQ=wf(),uQ=go(),cQ=Hx(),pp=kg(),CA=df(),lQ=Gu(),t6=bf(),ji=Kg(),fQ=If(),r6=Yg(),Ln=Lf(),hQ=up(),n6=Qu(),i6=sc(),mo=fp(),mp=gp(),NA=class{constructor(e=[]){this.openTypesFactories=new Map([["Option",(...r)=>new t6.OptionType(r[0])],["List",(...r)=>new t6.ListType(r[0])],["VarArgs",(...r)=>new mp.VariadicType(r[0])],["MultiResultVec",(...r)=>new mp.VariadicType(r[0])],["variadic",(...r)=>new mp.VariadicType(r[0])],["counted-variadic",(...r)=>new mp.VariadicType(r[0],!0)],["OptionalArg",(...r)=>new TA.OptionalType(r[0])],["optional",(...r)=>new TA.OptionalType(r[0])],["OptionalResult",(...r)=>new TA.OptionalType(r[0])],["multi",(...r)=>new pp.CompositeType(...r)],["MultiArg",(...r)=>new pp.CompositeType(...r)],["MultiResult",(...r)=>new pp.CompositeType(...r)],["multi",(...r)=>new pp.CompositeType(...r)],["tuple",(...r)=>new mo.TupleType(...r)],["tuple2",(...r)=>new mo.TupleType(...r)],["tuple3",(...r)=>new mo.TupleType(...r)],["tuple4",(...r)=>new mo.TupleType(...r)],["tuple5",(...r)=>new mo.TupleType(...r)],["tuple6",(...r)=>new mo.TupleType(...r)],["tuple7",(...r)=>new mo.TupleType(...r)],["tuple8",(...r)=>new mo.TupleType(...r)],["array2",(...r)=>new ji.ArrayVecType(2,r[0])],["array8",(...r)=>new ji.ArrayVecType(8,r[0])],["array16",(...r)=>new ji.ArrayVecType(16,r[0])],["array20",(...r)=>new ji.ArrayVecType(20,r[0])],["array32",(...r)=>new ji.ArrayVecType(32,r[0])],["array46",(...r)=>new ji.ArrayVecType(46,r[0])],["array48",(...r)=>new ji.ArrayVecType(48,r[0])],["array64",(...r)=>new ji.ArrayVecType(64,r[0])],["array128",(...r)=>new ji.ArrayVecType(128,r[0])],["array256",(...r)=>new ji.ArrayVecType(256,r[0])]]),this.closedTypesMap=new Map([["u8",new Ln.U8Type],["u16",new Ln.U16Type],["u32",new Ln.U32Type],["u64",new Ln.U64Type],["U64",new Ln.U64Type],["BigUint",new Ln.BigUIntType],["i8",new Ln.I8Type],["i16",new Ln.I16Type],["i32",new Ln.I32Type],["i64",new Ln.I64Type],["Bigint",new Ln.BigIntType],["BigInt",new Ln.BigIntType],["bool",new aQ.BooleanType],["bytes",new uQ.BytesType],["Address",new oQ.AddressType],["H256",new fQ.H256Type],["utf-8 string",new hQ.StringType],["TokenIdentifier",new i6.TokenIdentifierType],["EgldOrEsdtTokenIdentifier",new i6.TokenIdentifierType],["CodeMetadata",new cQ.CodeMetadataType],["nothing",new r6.NothingType],["AsyncCall",new r6.NothingType]]),this.learnedTypesMap=new Map;for(let r of e)this.learnedTypesMap.set(r.getName(),r)}mapType(e){let r=this.mapTypeRecursively(e);if(r)return r.isGenericType()||this.learnType(r),r;throw new e6.ErrTypingSystem(`Cannot map the type "${e.getName()}" to a known type`)}mapTypeRecursively(e){let r=e.isGenericType(),n=this.learnedTypesMap.get(e.getName());if(n)return n;let i=this.closedTypesMap.get(e.getName());return i||(e.hasExactClass(CA.EnumType.ClassName)?this.mapEnumType(e):e.hasExactClass(n6.StructType.ClassName)?this.mapStructType(e):r?this.mapGenericType(e):null)}learnType(e){this.learnedTypesMap.delete(e.getName()),this.learnedTypesMap.set(e.getName(),e)}mapStructType(e){let r=this.mappedFields(e.getFieldsDefinitions());return new n6.StructType(e.getName(),r)}mapEnumType(e){let r=e.variants.map(i=>new CA.EnumVariantDefinition(i.name,i.discriminant,this.mappedFields(i.getFieldsDefinitions())));return new CA.EnumType(e.getName(),r)}mappedFields(e){return e.map(r=>new lQ.FieldDefinition(r.name,r.description,this.mapType(r.type)))}mapGenericType(e){let n=e.getTypeParameters().map(s=>this.mapType(s)),i=this.openTypesFactories.get(e.getName());if(!i)throw new e6.ErrTypingSystem(`Cannot map the generic type "${e.getName()}" to a known type`);return i(...n)}};zi.TypeMapper=NA});var u6=D(Qi=>{"use strict";h();var dQ=Qi&&Qi.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),gQ=Qi&&Qi.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),pQ=Qi&&Qi.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&dQ(e,t,r);return gQ(e,t),e};Object.defineProperty(Qi,"__esModule",{value:!0});Qi.AbiRegistry=void 0;var s6=pQ(Ie()),Vf=Bn(),ac=pA(),o6=df(),DA=Lx(),a6=Qu(),mQ=xA(),yQ="?",PA=class t{constructor(e){this.endpoints=[],this.customTypes=[],this.events=[],this.name=e.name,this.constructorDefinition=e.constructorDefinition,this.upgradeConstructorDefinition=e.upgradeConstructorDefinition,this.endpoints=e.endpoints,this.customTypes=e.customTypes,this.events=e.events||[]}static create(e){let r=e.name||yQ,n=e.constructor||{},i=e.upgradeConstructor||{},s=e.endpoints||[],o=e.types||{},u=e.events||[],a=ac.EndpointDefinition.fromJSON({name:"constructor",...n}),c=ac.EndpointDefinition.fromJSON({name:"upgradeConstructor",...i}),f=s.map(N=>ac.EndpointDefinition.fromJSON(N)),d=[];for(let N in o){let P=o[N];if(P.type=="struct")d.push(a6.StructType.fromJSON({name:N,fields:P.fields}));else if(P.type=="enum"||P.type=="explicit-enum")d.push(o6.EnumType.fromJSON({name:N,variants:P.variants}));else throw new s6.ErrTypingSystem(`Cannot handle custom type: ${N}`)}let w=u.map(N=>DA.EventDefinition.fromJSON(N));return new t({name:r,constructorDefinition:a,upgradeConstructorDefinition:c,endpoints:f,customTypes:d,events:w}).remapToKnownTypes()}getCustomType(e){let r=this.customTypes.find(n=>n.getName()==e);return Vf.guardValueIsSetWithMessage(`custom type [${e}] not found`,r),r}getStruct(e){let r=this.customTypes.find(n=>n.getName()==e&&n.hasExactClass(a6.StructType.ClassName));return Vf.guardValueIsSetWithMessage(`struct [${e}] not found`,r),r}getStructs(e){return e.map(r=>this.getStruct(r))}getEnum(e){let r=this.customTypes.find(n=>n.getName()==e&&n.hasExactClass(o6.EnumType.ClassName));return Vf.guardValueIsSetWithMessage(`enum [${e}] not found`,r),r}getEnums(e){return e.map(r=>this.getEnum(r))}getEndpoints(){return this.endpoints}getEndpoint(e){let r=this.endpoints.find(n=>n.name==e);return Vf.guardValueIsSetWithMessage(`endpoint [${e}] not found`,r),r}getEvent(e){let r=this.events.find(n=>n.identifier==e);return Vf.guardValueIsSetWithMessage(`event [${e}] not found`,r),r}remapToKnownTypes(){let e=new mQ.TypeMapper([]),r=[];for(let a of this.customTypes)this.mapCustomTypeDepthFirst(a,this.customTypes,e,r);if(this.customTypes.length!=r.length)throw new s6.ErrTypingSystem("Did not re-map all custom types");let n=OA(this.constructorDefinition,e),i=this.upgradeConstructorDefinition?OA(this.upgradeConstructorDefinition,e):void 0,s=[];for(let a of this.endpoints)s.push(OA(a,e));let o=this.events.map(a=>wQ(a,e));return new t({name:this.name,constructorDefinition:n,upgradeConstructorDefinition:i,endpoints:s,customTypes:r,events:o})}mapCustomTypeDepthFirst(e,r,n,i){if(i.findIndex(u=>u.getName()==e.getName())>=0)return;for(let u of e.getNamesOfDependencies()){let a=r.find(c=>c.getName()==u);a&&this.mapCustomTypeDepthFirst(a,r,n,i)}let o=n.mapType(e);i.push(o)}};Qi.AbiRegistry=PA;function OA(t,e){let r=t.input.map(i=>new ac.EndpointParameterDefinition(i.name,i.description,e.mapType(i.type))),n=t.output.map(i=>new ac.EndpointParameterDefinition(i.name,i.description,e.mapType(i.type)));return new ac.EndpointDefinition(t.name,r,n,t.modifiers)}function wQ(t,e){let r=t.inputs.map(n=>new DA.EventTopicDefinition({name:n.name,type:e.mapType(n.type),indexed:n.indexed}));return new DA.EventDefinition(t.identifier,r)}});var l6=D(uc=>{"use strict";h();Object.defineProperty(uc,"__esModule",{value:!0});uc.createListOfTokenIdentifiers=uc.createListOfAddresses=void 0;var vQ=Wu(),c6=bf(),AQ=sc();function EQ(t){let e=t.map(n=>new vQ.AddressValue(n));return c6.List.fromItems(e)}uc.createListOfAddresses=EQ;function bQ(t){let e=t.map(n=>new AQ.TokenIdentifierValue(n));return c6.List.fromItems(e)}uc.createListOfTokenIdentifiers=bQ});var I6=D(Pr=>{"use strict";h();var SQ=Pr&&Pr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),IQ=Pr&&Pr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),_Q=Pr&&Pr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&SQ(e,t,r);return IQ(e,t),e};Object.defineProperty(Pr,"__esModule",{value:!0});Pr.onPrimitiveTypeSelect=Pr.onPrimitiveValueSelect=Pr.onTypedValueSelect=Pr.onTypeSelect=void 0;var wp=_Q(Ie()),f6=Wu(),h6=wf(),d6=go(),g6=df(),yp=bf(),p6=If(),m6=Lf(),y6=Yg(),w6=Qu(),v6=sc(),A6=fp(),E6=or(),b6=Kg(),S6=up();function TQ(t,e){if(t.hasExactClass(yp.OptionType.ClassName))return e.onOption();if(t.hasExactClass(yp.ListType.ClassName))return e.onList();if(t.hasExactClass(b6.ArrayVecType.ClassName))return e.onArray();if(t.hasClassOrSuperclass(E6.PrimitiveType.ClassName))return e.onPrimitive();if(t.hasExactClass(w6.StructType.ClassName))return e.onStruct();if(t.hasExactClass(A6.TupleType.ClassName))return e.onTuple();if(t.hasExactClass(g6.EnumType.ClassName))return e.onEnum();if(e.onOther)return e.onOther();throw new wp.ErrTypingSystem(`type isn't known: ${t}`)}Pr.onTypeSelect=TQ;function CQ(t,e){if(t.hasClassOrSuperclass(E6.PrimitiveValue.ClassName))return e.onPrimitive();if(t.hasExactClass(yp.OptionValue.ClassName))return e.onOption();if(t.hasExactClass(yp.List.ClassName))return e.onList();if(t.hasExactClass(b6.ArrayVec.ClassName))return e.onArray();if(t.hasExactClass(w6.Struct.ClassName))return e.onStruct();if(t.hasExactClass(A6.Tuple.ClassName))return e.onTuple();if(t.hasExactClass(g6.EnumValue.ClassName))return e.onEnum();if(e.onOther)return e.onOther();throw new wp.ErrTypingSystem(`value isn't typed: ${t}`)}Pr.onTypedValueSelect=CQ;function NQ(t,e){if(t.hasExactClass(h6.BooleanValue.ClassName))return e.onBoolean();if(t.hasClassOrSuperclass(m6.NumericalValue.ClassName))return e.onNumerical();if(t.hasExactClass(f6.AddressValue.ClassName))return e.onAddress();if(t.hasExactClass(d6.BytesValue.ClassName))return e.onBytes();if(t.hasExactClass(S6.StringValue.ClassName))return e.onString();if(t.hasExactClass(p6.H256Value.ClassName))return e.onH256();if(t.hasExactClass(v6.TokenIdentifierValue.ClassName))return e.onTypeIdentifier();if(t.hasExactClass(y6.NothingValue.ClassName))return e.onNothing();if(e.onOther)return e.onOther();throw new wp.ErrTypingSystem(`value isn't a primitive: ${t.getType()}`)}Pr.onPrimitiveValueSelect=NQ;function xQ(t,e){if(t.hasExactClass(h6.BooleanType.ClassName))return e.onBoolean();if(t.hasClassOrSuperclass(m6.NumericalType.ClassName))return e.onNumerical();if(t.hasExactClass(f6.AddressType.ClassName))return e.onAddress();if(t.hasExactClass(d6.BytesType.ClassName))return e.onBytes();if(t.hasExactClass(S6.StringType.ClassName))return e.onString();if(t.hasExactClass(p6.H256Type.ClassName))return e.onH256();if(t.hasExactClass(v6.TokenIdentifierType.ClassName))return e.onTokenIndetifier();if(t.hasExactClass(y6.NothingType.ClassName))return e.onNothing();if(e.onOther)return e.onOther();throw new wp.ErrTypingSystem(`type isn't a known primitive: ${t}`)}Pr.onPrimitiveTypeSelect=xQ});var $t=D(He=>{"use strict";h();var OQ=He&&He.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Ut=He&&He.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&OQ(e,t,r)};Object.defineProperty(He,"__esModule",{value:!0});Ut(u6(),He);Ut(Wu(),He);Ut(Lg(),He);Ut(wf(),He);Ut(go(),He);Ut(kg(),He);Ut(pA(),He);Ut(df(),He);Ut(l6(),He);Ut(Gu(),He);Ut(bf(),He);Ut(Kg(),He);Ut(If(),He);Ut(I6(),He);Ut(Yg(),He);Ut(Lf(),He);Ut(up(),He);Ut(Qu(),He);Ut(sc(),He);Ut(fp(),He);Ut(ff(),He);Ut(xA(),He);Ut(or(),He);Ut(gp(),He)});var T6=D(Ki=>{"use strict";h();var DQ=Ki&&Ki.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),PQ=Ki&&Ki.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),RQ=Ki&&Ki.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&DQ(e,t,r);return PQ(e,t),e};Object.defineProperty(Ki,"__esModule",{value:!0});Ki.OptionValueBinaryCodec=void 0;var _6=RQ(Ie()),vp=$t(),RA=class{constructor(e){this.binaryCodec=e}decodeNested(e,r){if(e[0]==0)return[vp.OptionValue.newMissingTyped(r),1];if(e[0]!=1)throw new _6.ErrCodec("invalid buffer for optional value");let[n,i]=this.binaryCodec.decodeNested(e.slice(1),r);return[vp.OptionValue.newProvided(n),i+1]}decodeTopLevel(e,r){if(e.length==0)return new vp.OptionValue(r);if(e[0]!=1)throw new _6.ErrCodec("invalid buffer for optional value");let[n,i]=this.binaryCodec.decodeNested(e.slice(1),r);return new vp.OptionValue(r,n)}encodeNested(e){return e.isSet()?p.Buffer.concat([p.Buffer.from([1]),this.binaryCodec.encodeNested(e.getTypedValue())]):p.Buffer.from([0])}encodeTopLevel(e){return e.isSet()?p.Buffer.concat([p.Buffer.from([1]),this.binaryCodec.encodeNested(e.getTypedValue())]):p.Buffer.from([])}};Ki.OptionValueBinaryCodec=RA});var C6=D(Ap=>{"use strict";h();Object.defineProperty(Ap,"__esModule",{value:!0});Ap.AddressBinaryCodec=void 0;var BQ=ke(),MQ=$t(),BA=class{decodeNested(e){let r=e.slice(0,32),n=new BQ.Address(r);return[new MQ.AddressValue(n),32]}decodeTopLevel(e){let[r,n]=this.decodeNested(e);return r}encodeNested(e){return e.valueOf().pubkey()}encodeTopLevel(e){return e.valueOf().pubkey()}};Ap.AddressBinaryCodec=BA});var x6=D(Wi=>{"use strict";h();var LQ=Wi&&Wi.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),FQ=Wi&&Wi.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),UQ=Wi&&Wi.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&LQ(e,t,r);return FQ(e,t),e};Object.defineProperty(Wi,"__esModule",{value:!0});Wi.BooleanBinaryCodec=void 0;var qQ=UQ(Ie()),N6=$t(),kf=class t{decodeNested(e){let r=e.readUInt8(0);return[new N6.BooleanValue(r==t.TRUE),1]}decodeTopLevel(e){if(e.length>1)throw new qQ.ErrInvalidArgument("buffer should be of size <= 1");let r=e[0];return new N6.BooleanValue(r==t.TRUE)}encodeNested(e){return e.isTrue()?p.Buffer.from([t.TRUE]):p.Buffer.from([t.FALSE])}encodeTopLevel(e){return e.isTrue()?p.Buffer.from([t.TRUE]):p.Buffer.from([])}};Wi.BooleanBinaryCodec=kf;kf.TRUE=1;kf.FALSE=0});var bp=D(Ep=>{"use strict";h();Object.defineProperty(Ep,"__esModule",{value:!0});Ep.SizeOfU32=void 0;Ep.SizeOfU32=4});var D6=D(cc=>{"use strict";h();var VQ=cc&&cc.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(cc,"__esModule",{value:!0});cc.NumericalBinaryCodec=void 0;var Hf=VQ((nr(),xe(hr))),MA=$t(),O6=bp(),Yt=Pu(),LA=class{decodeNested(e,r){let n=0,i=r.sizeInBytes;i||(n=O6.SizeOfU32,i=e.readUInt32BE(0));let s=e.slice(n,n+i),o=this.decodeTopLevel(s,r),u=i+n;return[o,u]}decodeTopLevel(e,r){let n=Yt.cloneBuffer(e);if(e.length==0)return new MA.NumericalValue(r,new Hf.default(0));if(!r.withSign||Yt.isMsbZero(n)){let c=Yt.bufferToBigInt(n);return new MA.NumericalValue(r,c)}Yt.flipBufferBitsInPlace(n);let a=Yt.bufferToBigInt(n).multipliedBy(new Hf.default(-1)).minus(new Hf.default(1));return new MA.NumericalValue(r,a)}encodeNested(e){if(e.sizeInBytes)return this.encodeNestedFixedSize(e,e.sizeInBytes);let r=this.encodeTopLevel(e),n=p.Buffer.alloc(O6.SizeOfU32);return n.writeUInt32BE(r.length),p.Buffer.concat([n,r])}encodeNestedFixedSize(e,r){if(e.value.isZero())return p.Buffer.alloc(r,0);if(!e.withSign){let o=Yt.bigIntToBuffer(e.value),u=p.Buffer.alloc(r-o.length,0);return p.Buffer.concat([u,o])}if(e.value.isPositive()){let o=Yt.bigIntToBuffer(e.value);Yt.isMsbOne(o)&&(o=Yt.prependByteToBuffer(o,0));let u=p.Buffer.alloc(r-o.length,0);return p.Buffer.concat([u,o])}let n=e.value.plus(new Hf.default(1)),i=Yt.bigIntToBuffer(n);Yt.flipBufferBitsInPlace(i),Yt.isMsbZero(i)&&(i=Yt.prependByteToBuffer(i,255));let s=p.Buffer.alloc(r-i.length,255);return p.Buffer.concat([s,i])}encodeTopLevel(e){let r=e.withSign;return e.value.isZero()?p.Buffer.alloc(0):r?this.encodePrimitive(e):Yt.bigIntToBuffer(e.value)}encodePrimitive(e){if(e.value.isPositive()){let i=Yt.bigIntToBuffer(e.value);return Yt.isMsbOne(i)&&(i=Yt.prependByteToBuffer(i,0)),i}let r=e.value.plus(new Hf.default(1)),n=Yt.bigIntToBuffer(r);return Yt.flipBufferBitsInPlace(n),Yt.isMsbZero(n)&&(n=Yt.prependByteToBuffer(n,255)),n}};cc.NumericalBinaryCodec=LA});var P6=D(Sp=>{"use strict";h();Object.defineProperty(Sp,"__esModule",{value:!0});Sp.H256BinaryCodec=void 0;var kQ=If(),FA=class{decodeNested(e){let r=e.slice(0,32);return[new kQ.H256Value(r),32]}decodeTopLevel(e){let[r,n]=this.decodeNested(e);return r}encodeNested(e){return e.valueOf()}encodeTopLevel(e){return e.valueOf()}};Sp.H256BinaryCodec=FA});var Tp=D(_p=>{"use strict";h();Object.defineProperty(_p,"__esModule",{value:!0});_p.BytesBinaryCodec=void 0;var R6=go(),Ip=bp(),UA=class{decodeNested(e){let r=e.readUInt32BE(0),n=e.slice(Ip.SizeOfU32,Ip.SizeOfU32+r);return[new R6.BytesValue(n),Ip.SizeOfU32+r]}decodeTopLevel(e){return new R6.BytesValue(e)}encodeNested(e){let r=p.Buffer.alloc(Ip.SizeOfU32);return r.writeUInt32BE(e.getLength()),p.Buffer.concat([r,e.valueOf()])}encodeTopLevel(e){return e.valueOf()}};_p.BytesBinaryCodec=UA});var M6=D(Cp=>{"use strict";h();Object.defineProperty(Cp,"__esModule",{value:!0});Cp.TokenIdentifierCodec=void 0;var HQ=go(),B6=sc(),GQ=Tp(),qA=class{constructor(){this.bytesCodec=new GQ.BytesBinaryCodec}decodeNested(e){let[r,n]=this.bytesCodec.decodeNested(e);return[new B6.TokenIdentifierValue(r.toString()),n]}decodeTopLevel(e){let r=this.bytesCodec.decodeTopLevel(e);return new B6.TokenIdentifierValue(r.toString())}encodeNested(e){let r=HQ.BytesValue.fromUTF8(e.valueOf());return this.bytesCodec.encodeNested(r)}encodeTopLevel(e){return p.Buffer.from(e.valueOf())}};Cp.TokenIdentifierCodec=qA});var F6=D(Np=>{"use strict";h();Object.defineProperty(Np,"__esModule",{value:!0});Np.NothingCodec=void 0;var L6=$t(),VA=class{decodeNested(){return[new L6.NothingValue,0]}decodeTopLevel(){return new L6.NothingValue}encodeNested(){return p.Buffer.from([])}encodeTopLevel(){return p.Buffer.from([])}};Np.NothingCodec=VA});var q6=D(xp=>{"use strict";h();Object.defineProperty(xp,"__esModule",{value:!0});xp.StringBinaryCodec=void 0;var U6=$t(),jQ=go(),zQ=Tp(),kA=class{constructor(){this.bytesBinaryCodec=new zQ.BytesBinaryCodec}decodeNested(e){let[r,n]=this.bytesBinaryCodec.decodeNested(e);return[new U6.StringValue(r.valueOf().toString()),n]}decodeTopLevel(e){return new U6.StringValue(e.toString())}encodeNested(e){let r=jQ.BytesValue.fromUTF8(e.valueOf());return this.bytesBinaryCodec.encodeNested(r)}encodeTopLevel(e){return p.Buffer.from(e.valueOf())}};xp.StringBinaryCodec=kA});var V6=D(Dp=>{"use strict";h();Object.defineProperty(Dp,"__esModule",{value:!0});Dp.PrimitiveBinaryCodec=void 0;var Op=$t(),QQ=C6(),KQ=x6(),WQ=D6(),$Q=P6(),YQ=Tp(),JQ=M6(),XQ=F6(),ZQ=q6(),HA=class{constructor(e){this.binaryCodec=e,this.booleanCodec=new KQ.BooleanBinaryCodec,this.numericalCodec=new WQ.NumericalBinaryCodec,this.addressCodec=new QQ.AddressBinaryCodec,this.h256Codec=new $Q.H256BinaryCodec,this.bytesCodec=new YQ.BytesBinaryCodec,this.stringCodec=new ZQ.StringBinaryCodec,this.tokenIdentifierCodec=new JQ.TokenIdentifierCodec,this.nothingCodec=new XQ.NothingCodec}decodeNested(e,r){return Op.onPrimitiveTypeSelect(r,{onBoolean:()=>this.booleanCodec.decodeNested(e),onNumerical:()=>this.numericalCodec.decodeNested(e,r),onAddress:()=>this.addressCodec.decodeNested(e),onBytes:()=>this.bytesCodec.decodeNested(e),onString:()=>this.stringCodec.decodeNested(e),onH256:()=>this.h256Codec.decodeNested(e),onTokenIndetifier:()=>this.tokenIdentifierCodec.decodeNested(e),onNothing:()=>this.nothingCodec.decodeNested()})}decodeTopLevel(e,r){return Op.onPrimitiveTypeSelect(r,{onBoolean:()=>this.booleanCodec.decodeTopLevel(e),onNumerical:()=>this.numericalCodec.decodeTopLevel(e,r),onAddress:()=>this.addressCodec.decodeTopLevel(e),onBytes:()=>this.bytesCodec.decodeTopLevel(e),onString:()=>this.stringCodec.decodeTopLevel(e),onH256:()=>this.h256Codec.decodeTopLevel(e),onTokenIndetifier:()=>this.tokenIdentifierCodec.decodeTopLevel(e),onNothing:()=>this.nothingCodec.decodeTopLevel()})}encodeNested(e){return Op.onPrimitiveValueSelect(e,{onBoolean:()=>this.booleanCodec.encodeNested(e),onNumerical:()=>this.numericalCodec.encodeNested(e),onAddress:()=>this.addressCodec.encodeNested(e),onBytes:()=>this.bytesCodec.encodeNested(e),onString:()=>this.stringCodec.encodeNested(e),onH256:()=>this.h256Codec.encodeNested(e),onTypeIdentifier:()=>this.tokenIdentifierCodec.encodeNested(e),onNothing:()=>this.nothingCodec.encodeNested()})}encodeTopLevel(e){return Op.onPrimitiveValueSelect(e,{onBoolean:()=>this.booleanCodec.encodeTopLevel(e),onNumerical:()=>this.numericalCodec.encodeTopLevel(e),onAddress:()=>this.addressCodec.encodeTopLevel(e),onBytes:()=>this.bytesCodec.encodeTopLevel(e),onString:()=>this.stringCodec.encodeTopLevel(e),onH256:()=>this.h256Codec.encodeTopLevel(e),onTypeIdentifier:()=>this.tokenIdentifierCodec.encodeTopLevel(e),onNothing:()=>this.nothingCodec.encodeTopLevel()})}};Dp.PrimitiveBinaryCodec=HA});var G6=D(Pp=>{"use strict";h();Object.defineProperty(Pp,"__esModule",{value:!0});Pp.ListBinaryCodec=void 0;var k6=$t(),H6=bp(),GA=class{constructor(e){this.binaryCodec=e}decodeNested(e,r){let n=r.getFirstTypeParameter(),i=[],s=e.readUInt32BE(0);this.binaryCodec.constraints.checkListLength(s);let o=e,u=H6.SizeOfU32;e=o.slice(u);for(let a=0;a<s;a++){let[c,f]=this.binaryCodec.decodeNested(e,n);i.push(c),u+=f,e=o.slice(u)}return[new k6.List(r,i),u]}decodeTopLevel(e,r){let n=r.getFirstTypeParameter(),i=[],s=e,o=0;for(;e.length>0;){let[u,a]=this.binaryCodec.decodeNested(e,n);i.push(u),o+=a,e=s.slice(o),this.binaryCodec.constraints.checkListLength(i.length)}return new k6.List(r,i)}encodeNested(e){this.binaryCodec.constraints.checkListLength(e.getLength());let r=p.Buffer.alloc(H6.SizeOfU32);r.writeUInt32BE(e.getLength());let n=[];for(let s of e.getItems()){let o=this.binaryCodec.encodeNested(s);n.push(o)}return p.Buffer.concat([r,...n])}encodeTopLevel(e){this.binaryCodec.constraints.checkListLength(e.getLength());let r=[];for(let i of e.getItems()){let s=this.binaryCodec.encodeNested(i);r.push(s)}return p.Buffer.concat(r)}};Pp.ListBinaryCodec=GA});var zA=D(Rp=>{"use strict";h();Object.defineProperty(Rp,"__esModule",{value:!0});Rp.FieldsBinaryCodec=void 0;var eK=$t(),jA=class{constructor(e){this.binaryCodec=e}decodeNested(e,r){let n=[],i=0;for(let s of r){let[o,u]=this.binaryCodec.decodeNested(e,s.type);e=e.slice(u),i+=u;let a=new eK.Field(o,s.name);n.push(a)}return[n,i]}encodeNested(e){let r=[];for(let n of e){let i=this.binaryCodec.encodeNested(n.value);r.push(i)}return p.Buffer.concat(r)}};Rp.FieldsBinaryCodec=jA});var KA=D(Bp=>{"use strict";h();Object.defineProperty(Bp,"__esModule",{value:!0});Bp.StructBinaryCodec=void 0;var tK=$t(),rK=zA(),QA=class{constructor(e){this.fieldsCodec=new rK.FieldsBinaryCodec(e)}decodeTopLevel(e,r){let[n]=this.decodeNested(e,r);return n}decodeNested(e,r){let n=r.getFieldsDefinitions(),[i,s]=this.fieldsCodec.decodeNested(e,n);return[new tK.Struct(r,i),s]}encodeNested(e){let r=e.getFields();return this.fieldsCodec.encodeNested(r)}encodeTopLevel(e){return this.encodeNested(e)}};Bp.StructBinaryCodec=QA});var j6=D(Lp=>{"use strict";h();Object.defineProperty(Lp,"__esModule",{value:!0});Lp.EnumBinaryCodec=void 0;var Mp=$t(),nK=zA(),WA=class{constructor(e){this.binaryCodec=e,this.fieldsCodec=new nK.FieldsBinaryCodec(e)}decodeTopLevel(e,r){let[n]=this.decodeNested(e,r);return n}decodeNested(e,r){let[n,i]=this.readDiscriminant(e);e=e.slice(i);let s=r.getVariantByDiscriminant(n),o=s.getFieldsDefinitions(),[u,a]=this.fieldsCodec.decodeNested(e,o);return[new Mp.EnumValue(r,s,u),i+a]}readDiscriminant(e){let[r,n]=this.binaryCodec.decodeNested(e,new Mp.U8Type);return[r.valueOf(),n]}encodeNested(e){let r=new Mp.U8Value(e.discriminant),n=this.binaryCodec.encodeNested(r),i=e.getFields(),s=this.fieldsCodec.encodeNested(i);return p.Buffer.concat([n,s])}encodeTopLevel(e){let r=e.getFields(),n=r.length>0,i=this.fieldsCodec.encodeNested(r),s=new Mp.U8Value(e.discriminant),o=n?this.binaryCodec.encodeNested(s):this.binaryCodec.encodeTopLevel(s);return p.Buffer.concat([o,i])}};Lp.EnumBinaryCodec=WA});var z6=D(Fp=>{"use strict";h();Object.defineProperty(Fp,"__esModule",{value:!0});Fp.TupleBinaryCodec=void 0;var iK=KA(),$A=class{constructor(e){this.structCodec=new iK.StructBinaryCodec(e)}decodeTopLevel(e,r){return this.structCodec.decodeTopLevel(e,r)}decodeNested(e,r){return this.structCodec.decodeNested(e,r)}encodeNested(e){return this.structCodec.encodeNested(e)}encodeTopLevel(e){return this.structCodec.encodeTopLevel(e)}};Fp.TupleBinaryCodec=$A});var Q6=D(Up=>{"use strict";h();Object.defineProperty(Up,"__esModule",{value:!0});Up.ArrayVecBinaryCodec=void 0;var sK=$t(),YA=class{constructor(e){this.binaryCodec=e}decodeNested(e,r){let n=r.length,i=r.getFirstTypeParameter(),s=[],o=0;for(let u=0;u<n;u++){let[a,c]=this.binaryCodec.decodeNested(e,i);s.push(a),o+=c,e=e.slice(c)}return[new sK.ArrayVec(r,s),o]}decodeTopLevel(e,r){let[n,i]=this.decodeNested(e,r);return n}encodeNested(e){let r=[];for(let n of e.getItems()){let i=this.binaryCodec.encodeNested(n);r.push(i)}return p.Buffer.concat(r)}encodeTopLevel(e){return this.encodeNested(e)}};Up.ArrayVecBinaryCodec=YA});var XA=D(Fn=>{"use strict";h();var oK=Fn&&Fn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),aK=Fn&&Fn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),uK=Fn&&Fn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&oK(e,t,r);return aK(e,t),e};Object.defineProperty(Fn,"__esModule",{value:!0});Fn.BinaryCodecConstraints=Fn.BinaryCodec=void 0;var K6=uK(Ie()),qp=$t(),W6=Bn(),cK=T6(),lK=V6(),fK=G6(),hK=KA(),dK=j6(),gK=z6(),pK=Q6(),JA=class{constructor(e=null){this.constraints=e||new Vp,this.optionCodec=new cK.OptionValueBinaryCodec(this),this.listCodec=new fK.ListBinaryCodec(this),this.arrayCodec=new pK.ArrayVecBinaryCodec(this),this.primitiveCodec=new lK.PrimitiveBinaryCodec(this),this.structCodec=new hK.StructBinaryCodec(this),this.tupleCodec=new gK.TupleBinaryCodec(this),this.enumCodec=new dK.EnumBinaryCodec(this)}decodeTopLevel(e,r){return this.constraints.checkBufferLength(e),qp.onTypeSelect(r,{onOption:()=>this.optionCodec.decodeTopLevel(e,r.getFirstTypeParameter()),onList:()=>this.listCodec.decodeTopLevel(e,r),onArray:()=>this.arrayCodec.decodeTopLevel(e,r),onPrimitive:()=>this.primitiveCodec.decodeTopLevel(e,r),onStruct:()=>this.structCodec.decodeTopLevel(e,r),onTuple:()=>this.tupleCodec.decodeTopLevel(e,r),onEnum:()=>this.enumCodec.decodeTopLevel(e,r)})}decodeNested(e,r){this.constraints.checkBufferLength(e);let[n,i]=qp.onTypeSelect(r,{onOption:()=>this.optionCodec.decodeNested(e,r.getFirstTypeParameter()),onList:()=>this.listCodec.decodeNested(e,r),onArray:()=>this.arrayCodec.decodeNested(e,r),onPrimitive:()=>this.primitiveCodec.decodeNested(e,r),onStruct:()=>this.structCodec.decodeNested(e,r),onTuple:()=>this.tupleCodec.decodeNested(e,r),onEnum:()=>this.enumCodec.decodeNested(e,r)});return[n,i]}encodeNested(e){return W6.guardTrue(e.getType().getCardinality().isSingular(),"singular cardinality, thus encodable type"),qp.onTypedValueSelect(e,{onPrimitive:()=>this.primitiveCodec.encodeNested(e),onOption:()=>this.optionCodec.encodeNested(e),onList:()=>this.listCodec.encodeNested(e),onArray:()=>this.arrayCodec.encodeNested(e),onStruct:()=>this.structCodec.encodeNested(e),onTuple:()=>this.tupleCodec.encodeNested(e),onEnum:()=>this.enumCodec.encodeNested(e)})}encodeTopLevel(e){return W6.guardTrue(e.getType().getCardinality().isSingular(),"singular cardinality, thus encodable type"),qp.onTypedValueSelect(e,{onPrimitive:()=>this.primitiveCodec.encodeTopLevel(e),onOption:()=>this.optionCodec.encodeTopLevel(e),onList:()=>this.listCodec.encodeTopLevel(e),onArray:()=>this.arrayCodec.encodeTopLevel(e),onStruct:()=>this.structCodec.encodeTopLevel(e),onTuple:()=>this.tupleCodec.encodeTopLevel(e),onEnum:()=>this.enumCodec.encodeTopLevel(e)})}};Fn.BinaryCodec=JA;var Vp=class{constructor(e){this.maxBufferLength=e?.maxBufferLength||256e3,this.maxListLength=e?.maxListLength||128e3}checkBufferLength(e){if(e.length>this.maxBufferLength)throw new K6.ErrCodec(`Buffer too large: ${e.length} > ${this.maxBufferLength}`)}checkListLength(e){if(e>this.maxListLength)throw new K6.ErrCodec(`List too large: ${e} > ${this.maxListLength}`)}};Fn.BinaryCodecConstraints=Vp});var $6=D(Un=>{"use strict";h();var mK=Un&&Un.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Un,"__esModule",{value:!0});Un.decodeBigNumber=Un.decodeString=Un.decodeBool=Un.decodeUnsignedNumber=void 0;var yK=mK((nr(),xe(hr))),kp=$t(),wK=XA(),Hp=new wK.BinaryCodec;function vK(t){let e=Hp.decodeTopLevel(t,new kp.BigUIntType);return Number(e.valueOf())}Un.decodeUnsignedNumber=vK;function AK(t){return!!Hp.decodeTopLevel(t,new kp.BooleanType).valueOf()}Un.decodeBool=AK;function EK(t){let e=Hp.decodeTopLevel(t,new kp.BytesType);return String(e.valueOf())}Un.decodeString=EK;function bK(t){let e=Hp.decodeTopLevel(t,new kp.BigUIntType);return new yK.default(e.valueOf())}Un.decodeBigNumber=bK});var ZA=D(yo=>{"use strict";h();var SK=yo&&yo.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Y6=yo&&yo.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&SK(e,t,r)};Object.defineProperty(yo,"__esModule",{value:!0});Y6(XA(),yo);Y6($6(),yo)});var lc=D(Gp=>{"use strict";h();Object.defineProperty(Gp,"__esModule",{value:!0});Gp.ArgSerializer=void 0;var J6=yr(),IK=ZA(),X6=$t(),eE=Lg(),tE=kg(),rE=gp(),_K={codec:new IK.BinaryCodec},nE=class{constructor(e){e={..._K,...e},this.codec=e.codec}stringToValues(e,r){let n=this.stringToBuffers(e);return this.buffersToValues(n,r)}stringToBuffers(e){return e.split(J6.ARGUMENTS_SEPARATOR).map(r=>p.Buffer.from(r,"hex"))}buffersToValues(e,r){let n=this;e=e||[];let i=[],s=0,o=e.length;for(let d=0;d<r.length;d++){let A=r[d].type,_=u(A);i.push(_)}function u(d){if(d.hasExactClass(eE.OptionalType.ClassName)){let A=u(d.getFirstTypeParameter());return new eE.OptionalValue(d,A)}if(d.hasExactClass(rE.VariadicType.ClassName))return a(d);if(d.hasExactClass(tE.CompositeType.ClassName)){let A=[];for(let _ of d.getTypeParameters())A.push(u(_));return new tE.CompositeValue(d,A)}return c(d)}function a(d){let w=d,A=[];if(w.isCounted){let _=u(new X6.U32Type).valueOf().toNumber();for(let N=0;N<_;N++)A.push(u(d.getFirstTypeParameter()))}else for(;!f();)A.push(u(d.getFirstTypeParameter()));return new rE.VariadicValue(w,A)}function c(d){if(f())return null;let w=e[s++];return n.codec.decodeTopLevel(w,d)}function f(){return s>=o}return i}valuesToString(e){let r=this.valuesToStrings(e),n=r.join(J6.ARGUMENTS_SEPARATOR),i=r.length;return{argumentsString:n,count:i}}valuesToStrings(e){return this.valuesToBuffers(e).map(i=>i.toString("hex"))}valuesToBuffers(e){let r=this,n=[];for(let o of e)i(o);function i(o){if(o.hasExactClass(eE.OptionalValue.ClassName)){let a=o;a.isSet()&&i(a.getTypedValue());return}if(o.hasExactClass(rE.VariadicValue.ClassName)){s(o);return}if(o.hasExactClass(tE.CompositeValue.ClassName)){let a=o;for(let c of a.getItems())i(c);return}let u=r.codec.encodeTopLevel(o);n.push(u)}function s(o){if(o.getType().isCounted){let a=new X6.U32Value(o.getItems().length);n.push(r.codec.encodeTopLevel(a))}for(let a of o.getItems())i(a)}return n}};Gp.ArgSerializer=nE});var iE=D((Qye,Z6)=>{h();Ps.notEqual=CK;Ps.notOk=NK;Ps.equal=TK;Ps.ok=Ps;Z6.exports=Ps;function TK(t,e,r){Ps(t==e,r)}function CK(t,e,r){Ps(t!=e,r)}function NK(t,e){Ps(!t,e)}function Ps(t,e){if(!t)throw new Error(e||"AssertionError")}});var tO=D((Wye,eO)=>{h();eO.exports=sE;sE.supported=typeof WebAssembly<"u";function sE(t){if(!sE.supported)return null;var e=t&&t.imports,r=xK("AGFzbQEAAAABEANgAn9/AGADf39/AGABfwADBQQAAQICBQUBAQroBwdNBQZtZW1vcnkCAAxibGFrZTJiX2luaXQAAA5ibGFrZTJiX3VwZGF0ZQABDWJsYWtlMmJfZmluYWwAAhBibGFrZTJiX2NvbXByZXNzAAMK00AElgMAIABCADcDACAAQQhqQgA3AwAgAEEQakIANwMAIABBGGpCADcDACAAQSBqQgA3AwAgAEEoakIANwMAIABBMGpCADcDACAAQThqQgA3AwAgAEHAAGpCADcDACAAQcgAakIANwMAIABB0ABqQgA3AwAgAEHYAGpCADcDACAAQeAAakIANwMAIABB6ABqQgA3AwAgAEHwAGpCADcDACAAQfgAakIANwMAIABBgAFqQoiS853/zPmE6gBBACkDAIU3AwAgAEGIAWpCu86qptjQ67O7f0EIKQMAhTcDACAAQZABakKr8NP0r+68tzxBECkDAIU3AwAgAEGYAWpC8e30+KWn/aelf0EYKQMAhTcDACAAQaABakLRhZrv+s+Uh9EAQSApAwCFNwMAIABBqAFqQp/Y+dnCkdqCm39BKCkDAIU3AwAgAEGwAWpC6/qG2r+19sEfQTApAwCFNwMAIABBuAFqQvnC+JuRo7Pw2wBBOCkDAIU3AwAgAEHAAWpCADcDACAAQcgBakIANwMAIABB0AFqQgA3AwALbQEDfyAAQcABaiEDIABByAFqIQQgBCkDAKchBQJAA0AgASACRg0BIAVBgAFGBEAgAyADKQMAIAWtfDcDAEEAIQUgABADCyAAIAVqIAEtAAA6AAAgBUEBaiEFIAFBAWohAQwACwsgBCAFrTcDAAtkAQN/IABBwAFqIQEgAEHIAWohAiABIAEpAwAgAikDAHw3AwAgAEHQAWpCfzcDACACKQMApyEDAkADQCADQYABRg0BIAAgA2pBADoAACADQQFqIQMMAAsLIAIgA603AwAgABADC+U7AiB+CX8gAEGAAWohISAAQYgBaiEiIABBkAFqISMgAEGYAWohJCAAQaABaiElIABBqAFqISYgAEGwAWohJyAAQbgBaiEoICEpAwAhASAiKQMAIQIgIykDACEDICQpAwAhBCAlKQMAIQUgJikDACEGICcpAwAhByAoKQMAIQhCiJLznf/M+YTqACEJQrvOqqbY0Ouzu38hCkKr8NP0r+68tzwhC0Lx7fT4paf9p6V/IQxC0YWa7/rPlIfRACENQp/Y+dnCkdqCm38hDkLr+obav7X2wR8hD0L5wvibkaOz8NsAIRAgACkDACERIABBCGopAwAhEiAAQRBqKQMAIRMgAEEYaikDACEUIABBIGopAwAhFSAAQShqKQMAIRYgAEEwaikDACEXIABBOGopAwAhGCAAQcAAaikDACEZIABByABqKQMAIRogAEHQAGopAwAhGyAAQdgAaikDACEcIABB4ABqKQMAIR0gAEHoAGopAwAhHiAAQfAAaikDACEfIABB+ABqKQMAISAgDSAAQcABaikDAIUhDSAPIABB0AFqKQMAhSEPIAEgBSARfHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgEnx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBN8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAUfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgFXx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIBZ8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAXfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggGHx8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBl8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAafHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgG3x8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBx8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAdfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggHnx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIB98fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAgfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgH3x8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBt8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAVfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgGXx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBp8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAgfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggHnx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBd8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiASfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgHXx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBF8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByATfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggHHx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBh8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAWfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgFHx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIBx8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAZfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgHXx8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBF8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAWfHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgE3x8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIICB8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAefHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgG3x8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIB98fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAUfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgF3x8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBh8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCASfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgGnx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBV8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAYfHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgGnx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBR8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiASfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgHnx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIB18fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAcfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggH3x8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBN8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAXfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgFnx8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBt8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAVfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggEXx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFICB8fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAZfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgGnx8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBF8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAWfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgGHx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBN8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAVfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggG3x8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIICB8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAffHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgEnx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBx8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAdfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggF3x8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBl8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAUfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgHnx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIBN8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAdfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgF3x8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBt8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByARfHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgHHx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBl8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAUfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgFXx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIB58fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAYfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgFnx8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIICB8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCAffHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgEnx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBp8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAdfHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgFnx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBJ8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAgfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgH3x8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIB58fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAVfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggG3x8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBF8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAYfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgF3x8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBR8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAafHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggE3x8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIBl8fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAcfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgHnx8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBx8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAYfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgH3x8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIB18fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByASfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggFHx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBp8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAWfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgEXx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHICB8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAVfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggGXx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBd8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSATfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgG3x8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIBd8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAgfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgH3x8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBp8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAcfHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgFHx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBF8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAZfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgHXx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIBN8fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAefHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgGHx8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBJ8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCAVfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgG3x8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBZ8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAbfHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgE3x8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBl8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAVfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgGHx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIBd8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCASfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggFnx8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGICB8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAcfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgGnx8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIB98fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAUfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggHXx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIB58fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSARfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgEXx8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBJ8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiATfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgFHx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBV8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAWfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggF3x8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBh8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAZfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgGnx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBt8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAcfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggHXx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIB58fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAffHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgIHx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIB98fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAbfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgFXx8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBl8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAafHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgIHx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIB58fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAXfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgEnx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIB18fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByARfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgE3x8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBx8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCAYfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgFnx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBR8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFICEgISkDACABIAmFhTcDACAiICIpAwAgAiAKhYU3AwAgIyAjKQMAIAMgC4WFNwMAICQgJCkDACAEIAyFhTcDACAlICUpAwAgBSANhYU3AwAgJiAmKQMAIAYgDoWFNwMAICcgJykDACAHIA+FhTcDACAoICgpAwAgCCAQhYU3AwAL"),n=null,i={buffer:r,memory:null,exports:null,realloc:s,onload:o};return o(function(){}),i;function s(a){i.exports.memory.grow(Math.ceil(Math.abs(a-i.memory.length)/65536)),i.memory=new Uint8Array(i.exports.memory.buffer)}function o(a){if(i.exports)return a();if(n){n.then(a.bind(null,null)).catch(a);return}try{if(t&&t.async)throw new Error("async");u({instance:new WebAssembly.Instance(new WebAssembly.Module(r),e)})}catch{n=WebAssembly.instantiate(r,e).then(u)}o(a)}function u(a){i.exports=a.instance.exports,i.memory=i.exports.memory&&i.exports.memory.buffer&&new Uint8Array(i.exports.memory.buffer)}}function xK(t){return typeof atob=="function"?new Uint8Array(atob(t).split("").map(OK)):new(no()).Buffer(t,"base64")}function OK(t){return t.charCodeAt(0)}});var uO=D((Xye,Yi)=>{h();var $i=iE(),Pt=tO()(),Rs=64,jp=[];Yi.exports=qn;var rO=Yi.exports.BYTES_MIN=16,nO=Yi.exports.BYTES_MAX=64,Yye=Yi.exports.BYTES=32,iO=Yi.exports.KEYBYTES_MIN=16,sO=Yi.exports.KEYBYTES_MAX=64,Jye=Yi.exports.KEYBYTES=32,oO=Yi.exports.SALTBYTES=16,aO=Yi.exports.PERSONALBYTES=16;function qn(t,e,r,n,i){if(!(this instanceof qn))return new qn(t,e,r,n,i);if(!(Pt&&Pt.exports))throw new Error("WASM not loaded. Wait for Blake2b.ready(cb)");t||(t=32),i!==!0&&($i(t>=rO,"digestLength must be at least "+rO+", was given "+t),$i(t<=nO,"digestLength must be at most "+nO+", was given "+t),e!=null&&$i(e.length>=iO,"key must be at least "+iO+", was given "+e.length),e!=null&&$i(e.length<=sO,"key must be at least "+sO+", was given "+e.length),r!=null&&$i(r.length===oO,"salt must be exactly "+oO+", was given "+r.length),n!=null&&$i(n.length===aO,"personal must be exactly "+aO+", was given "+n.length)),jp.length||(jp.push(Rs),Rs+=216),this.digestLength=t,this.finalized=!1,this.pointer=jp.pop(),Pt.memory.fill(0,0,64),Pt.memory[0]=this.digestLength,Pt.memory[1]=e?e.length:0,Pt.memory[2]=1,Pt.memory[3]=1,r&&Pt.memory.set(r,32),n&&Pt.memory.set(n,48),this.pointer+216>Pt.memory.length&&Pt.realloc(this.pointer+216),Pt.exports.blake2b_init(this.pointer,this.digestLength),e&&(this.update(e),Pt.memory.fill(0,Rs,Rs+e.length),Pt.memory[this.pointer+200]=128)}qn.prototype.update=function(t){return $i(this.finalized===!1,"Hash instance finalized"),$i(t,"input must be TypedArray or Buffer"),Rs+t.length>Pt.memory.length&&Pt.realloc(Rs+t.length),Pt.memory.set(t,Rs),Pt.exports.blake2b_update(this.pointer,Rs,Rs+t.length),this};qn.prototype.digest=function(t){if($i(this.finalized===!1,"Hash instance finalized"),this.finalized=!0,jp.push(this.pointer),Pt.exports.blake2b_final(this.pointer),!t||t==="binary")return Pt.memory.slice(this.pointer+128,this.pointer+128+this.digestLength);if(t==="hex")return PK(Pt.memory,this.pointer+128,this.digestLength);$i(t.length>=this.digestLength,"input must be TypedArray or Buffer");for(var e=0;e<this.digestLength;e++)t[e]=Pt.memory[this.pointer+128+e];return t};qn.prototype.final=qn.prototype.digest;qn.WASM=Pt&&Pt.buffer;qn.SUPPORTED=typeof WebAssembly<"u";qn.ready=function(t){if(t||(t=DK),!Pt)return t(new Error("WebAssembly not supported"));var e=new Promise(function(r,n){Pt.onload(function(i){i?n():r(),t(i)})});return e};qn.prototype.ready=qn.ready;function DK(){}function PK(t,e,r){for(var n="",i=0;i<r;i++)n+=RK(t[e+i]);return n}function RK(t){return t<16?"0"+t.toString(16):t.toString(16)}});var oE=D((r1e,Zr)=>{h();var Ao=iE(),jf=uO();function zp(t,e,r){var n=t[e]+t[r],i=t[e+1]+t[r+1];n>=4294967296&&i++,t[e]=n,t[e+1]=i}function cO(t,e,r,n){var i=t[e]+r;r<0&&(i+=4294967296);var s=t[e+1]+n;i>=4294967296&&s++,t[e]=i,t[e+1]=s}function mO(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function wo(t,e,r,n,i,s){var o=Gf[i],u=Gf[i+1],a=Gf[s],c=Gf[s+1];zp(_e,t,e),cO(_e,t,o,u);var f=_e[n]^_e[t],d=_e[n+1]^_e[t+1];_e[n]=d,_e[n+1]=f,zp(_e,r,n),f=_e[e]^_e[r],d=_e[e+1]^_e[r+1],_e[e]=f>>>24^d<<8,_e[e+1]=d>>>24^f<<8,zp(_e,t,e),cO(_e,t,a,c),f=_e[n]^_e[t],d=_e[n+1]^_e[t+1],_e[n]=f>>>16^d<<16,_e[n+1]=d>>>16^f<<16,zp(_e,r,n),f=_e[e]^_e[r],d=_e[e+1]^_e[r+1],_e[e]=d>>>31^f<<1,_e[e+1]=f>>>31^d<<1}var yO=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),BK=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],Rr=new Uint8Array(BK.map(function(t){return t*2})),_e=new Uint32Array(32),Gf=new Uint32Array(32);function wO(t,e){var r=0;for(r=0;r<16;r++)_e[r]=t.h[r],_e[r+16]=yO[r];for(_e[24]=_e[24]^t.t,_e[25]=_e[25]^t.t/4294967296,e&&(_e[28]=~_e[28],_e[29]=~_e[29]),r=0;r<32;r++)Gf[r]=mO(t.b,4*r);for(r=0;r<12;r++)wo(0,8,16,24,Rr[r*16+0],Rr[r*16+1]),wo(2,10,18,26,Rr[r*16+2],Rr[r*16+3]),wo(4,12,20,28,Rr[r*16+4],Rr[r*16+5]),wo(6,14,22,30,Rr[r*16+6],Rr[r*16+7]),wo(0,10,20,30,Rr[r*16+8],Rr[r*16+9]),wo(2,12,22,24,Rr[r*16+10],Rr[r*16+11]),wo(4,14,16,26,Rr[r*16+12],Rr[r*16+13]),wo(6,8,18,28,Rr[r*16+14],Rr[r*16+15]);for(r=0;r<16;r++)t.h[r]=t.h[r]^_e[r]^_e[r+16]}var vo=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function fc(t,e,r,n){vo.fill(0),this.b=new Uint8Array(128),this.h=new Uint32Array(16),this.t=0,this.c=0,this.outlen=t,vo[0]=t,e&&(vo[1]=e.length),vo[2]=1,vo[3]=1,r&&vo.set(r,32),n&&vo.set(n,48);for(var i=0;i<16;i++)this.h[i]=yO[i]^mO(vo,i*4);e&&(vO(this,e),this.c=128)}fc.prototype.update=function(t){return Ao(t!=null,"input must be Uint8Array or Buffer"),vO(this,t),this};fc.prototype.digest=function(t){var e=!t||t==="binary"||t==="hex"?new Uint8Array(this.outlen):t;return Ao(e.length>=this.outlen,"out must have at least outlen bytes of space"),MK(this,e),t==="hex"?LK(e):e};fc.prototype.final=fc.prototype.digest;fc.ready=function(t){jf.ready(function(){t()})};function vO(t,e){for(var r=0;r<e.length;r++)t.c===128&&(t.t+=t.c,wO(t,!1),t.c=0),t.b[t.c++]=e[r]}function MK(t,e){for(t.t+=t.c;t.c<128;)t.b[t.c++]=0;wO(t,!0);for(var r=0;r<t.outlen;r++)e[r]=t.h[r>>2]>>8*(r&3);return e}function LK(t){for(var e="",r=0;r<t.length;r++)e+=FK(t[r]);return e}function FK(t){return t<16?"0"+t.toString(16):t.toString(16)}var AO=fc;Zr.exports=function(e,r,n,i,s){return s!==!0&&(Ao(e>=lO,"outlen must be at least "+lO+", was given "+e),Ao(e<=fO,"outlen must be at most "+fO+", was given "+e),r!=null&&Ao(r.length>=hO,"key must be at least "+hO+", was given "+r.length),r!=null&&Ao(r.length<=dO,"key must be at most "+dO+", was given "+r.length),n!=null&&Ao(n.length===gO,"salt must be exactly "+gO+", was given "+n.length),i!=null&&Ao(i.length===pO,"personal must be exactly "+pO+", was given "+i.length)),new AO(e,r,n,i)};Zr.exports.ready=function(t){jf.ready(function(){t()})};Zr.exports.WASM_SUPPORTED=jf.SUPPORTED;Zr.exports.WASM_LOADED=!1;var lO=Zr.exports.BYTES_MIN=16,fO=Zr.exports.BYTES_MAX=64,e1e=Zr.exports.BYTES=32,hO=Zr.exports.KEYBYTES_MIN=16,dO=Zr.exports.KEYBYTES_MAX=64,t1e=Zr.exports.KEYBYTES=32,gO=Zr.exports.SALTBYTES=16,pO=Zr.exports.PERSONALBYTES=16;jf.ready(function(t){t||(Zr.exports.WASM_LOADED=!0,AO=jf)})});var EO=D(Qp=>{"use strict";h();Object.defineProperty(Qp,"__esModule",{value:!0});Qp.Code=void 0;var UK=oE(),qK=32,aE=class t{constructor(e){this.hex=e}static fromBuffer(e){return new t(e.toString("hex"))}static fromHex(e){return new t(e)}toString(){return this.hex}valueOf(){return p.Buffer.from(this.hex,"hex")}computeHash(){let e=UK(qK).update(this.valueOf()).digest();return p.Buffer.from(e)}};Qp.Code=aE});var uE=D(Kp=>{"use strict";h();Object.defineProperty(Kp,"__esModule",{value:!0});Kp.CodeMetadata=void 0;var hc=class t{constructor(e=!0,r=!1,n=!1,i=!1){this.upgradeable=e,this.readable=r,this.payable=n,this.payableBySc=i}static fromBytes(e){return t.fromBuffer(p.Buffer.from(e))}static fromBuffer(e){if(e.length<this.codeMetadataLength)throw new Error("Buffer is too short.");let r=e[0],n=e[1],i=(r&t.ByteZero.Upgradeable)!==0,s=(r&t.ByteZero.Readable)!==0,o=(n&t.ByteOne.Payable)!==0,u=(n&t.ByteOne.PayableBySc)!==0;return new t(i,s,o,u)}toggleUpgradeable(e){this.upgradeable=e}toggleReadable(e){this.readable=e}togglePayable(e){this.payable=e}togglePayableBySc(e){this.payableBySc=e}toBuffer(){let e=0,r=0;return this.upgradeable&&(e|=t.ByteZero.Upgradeable),this.readable&&(e|=t.ByteZero.Readable),this.payable&&(r|=t.ByteOne.Payable),this.payableBySc&&(r|=t.ByteOne.PayableBySc),p.Buffer.from([e,r])}toString(){return this.toBuffer().toString("hex")}toJSON(){return{upgradeable:this.upgradeable,readable:this.readable,payable:this.payable,payableBySc:this.payableBySc}}equals(e){return this.upgradeable==e.upgradeable&&this.readable==e.readable&&this.payable==e.payable&&this.payableBySc==e.payableBySc}};Kp.CodeMetadata=hc;hc.codeMetadataLength=2;hc.ByteZero={Upgradeable:1,Reserved2:2,Readable:4};hc.ByteOne={Reserved1:1,Payable:2,PayableBySc:4}});var lE=D(Ji=>{"use strict";h();var VK=Ji&&Ji.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),kK=Ji&&Ji.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),HK=Ji&&Ji.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&VK(e,t,r);return kK(e,t),e};Object.defineProperty(Ji,"__esModule",{value:!0});Ji.ContractFunction=void 0;var GK=HK(Ie()),cE=class t{constructor(e){if(this.name=e,e==null)throw new GK.ErrInvalidFunctionName}static none(){return new t("untitled")}toString(){return this.name}valueOf(){return this.name}};Ji.ContractFunction=cE});var hE=D(Wp=>{"use strict";h();Object.defineProperty(Wp,"__esModule",{value:!0});Wp.Compatibility=void 0;var jK=ke(),fE=class{static guardAddressIsSetAndNonZero(e,r,n){!e||e.bech32()==""?console.warn(`${r}: address should be set; ${n}. In the future, this will throw an exception instead of emitting a WARN.`):e.bech32()==jK.Address.Zero().bech32()&&console.warn(`${r}: address should not be the 'zero' address (also known as the 'contracts deployment address'); ${n}. In the future, this will throw an exception instead of emitting a WARN.`)}};Wp.Compatibility=fE});var Bs=D($p=>{"use strict";h();Object.defineProperty($p,"__esModule",{value:!0});$p.TransactionPayload=void 0;var dE=class t{constructor(e){this.data=p.Buffer.from(e||[])}static fromEncoded(e){if(!e)return new t("");let r=p.Buffer.from(e,"base64").toString();return new t(r)}isEmpty(){return this.data.length==0}encoded(){return this.data.toString("base64")}valueOf(){return this.data}toString(){return this.data.toString()}getEncodedArguments(){return this.toString().split("@")}getRawArguments(){return this.getEncodedArguments().map(e=>p.Buffer.from(e,"hex"))}length(){return p.Buffer.from(this.data).length}};$p.TransactionPayload=dE});var dc=D(Yp=>{"use strict";h();Object.defineProperty(Yp,"__esModule",{value:!0});Yp.TransactionBuilder=void 0;var zK=yr(),QK=en(),KK=Bs(),gE=class{constructor(e){this.config=e.config,this.sender=e.sender,this.receiver=e.receiver,this.dataParts=e.dataParts,this.providedGasLimit=e.gasLimit,this.addDataMovementGas=e.addDataMovementGas,this.amount=e.amount}computeGasLimit(e){return this.addDataMovementGas?this.config.minGasLimit+this.config.gasLimitPerByte*BigInt(e.length())+this.providedGasLimit:this.providedGasLimit}buildTransactionPayload(){let e=this.dataParts.join(zK.ARGUMENTS_SEPARATOR);return new KK.TransactionPayload(e)}build(){let e=this.buildTransactionPayload(),r=this.computeGasLimit(e);return new QK.Transaction({sender:this.sender.bech32(),receiver:this.receiver.bech32(),gasLimit:r,value:this.amount||0n,data:e.valueOf(),chainID:this.config.chainID})}};Yp.TransactionBuilder=gE});var bO=D(Jp=>{"use strict";h();Object.defineProperty(Jp,"__esModule",{value:!0});Jp.DelegationTransactionsFactory=void 0;var WK=ke(),$K=yr(),YK=Ie(),hn=Vn(),tn=dc(),pE=class{constructor(e){this.config=e.config,this.argSerializer=new hn.ArgSerializer,this.delegationManagerAddress=WK.Address.fromHex($K.DELEGATION_MANAGER_SC_ADDRESS_HEX,this.config.addressHrp)}createTransactionForNewDelegationContract(e){let r=["createNewDelegationContract",...this.argSerializer.valuesToStrings([new hn.BigUIntValue(e.totalDelegationCap),new hn.BigUIntValue(e.serviceFee)])],n=this.config.gasLimitCreateDelegationContract+this.config.additionalGasLimitForDelegationOperations;return new tn.TransactionBuilder({config:this.config,sender:e.sender,receiver:this.delegationManagerAddress,dataParts:r,gasLimit:n,addDataMovementGas:!0,amount:e.amount}).build()}createTransactionForAddingNodes(e){if(e.publicKeys.length!==e.signedMessages.length)throw new YK.Err("The number of public keys should match the number of signed messages");let r=e.signedMessages.map(o=>new hn.BytesValue(p.Buffer.from(o))),n=this.argSerializer.valuesToStrings(r),i=e.publicKeys.length,s=["addNodes"];for(let o=0;o<i;o++)s.push(e.publicKeys[o].hex(),n[o]);return new tn.TransactionBuilder({config:this.config,sender:e.sender,receiver:e.delegationContract,dataParts:s,gasLimit:this.computeExecutionGasLimitForNodesManagement(i),addDataMovementGas:!0}).build()}createTransactionForRemovingNodes(e){let r=["removeNodes"];for(let i of e.publicKeys)r.push(i.hex());let n=e.publicKeys.length;return new tn.TransactionBuilder({config:this.config,sender:e.sender,receiver:e.delegationContract,dataParts:r,gasLimit:this.computeExecutionGasLimitForNodesManagement(n),addDataMovementGas:!0}).build()}createTransactionForStakingNodes(e){let r=["stakeNodes"];for(let o of e.publicKeys)r=r.concat(o.hex());let n=e.publicKeys.length,s=BigInt(n)*this.config.additionalGasLimitPerValidatorNode+this.config.gasLimitStake+this.config.gasLimitDelegationOperations;return new tn.TransactionBuilder({config:this.config,sender:e.sender,receiver:e.delegationContract,dataParts:r,gasLimit:s,addDataMovementGas:!0}).build()}createTransactionForUnbondingNodes(e){let r=["unBondNodes"];for(let s of e.publicKeys)r=r.concat(s.hex());let n=e.publicKeys.length,i=BigInt(n)*this.config.additionalGasLimitPerValidatorNode+this.config.gasLimitUnbond+this.config.gasLimitDelegationOperations;return new tn.TransactionBuilder({config:this.config,sender:e.sender,receiver:e.delegationContract,dataParts:r,gasLimit:i,addDataMovementGas:!0}).build()}createTransactionForUnstakingNodes(e){let r=["unStakeNodes"];for(let s of e.publicKeys)r=r.concat(s.hex());let n=e.publicKeys.length,i=BigInt(n)*this.config.additionalGasLimitPerValidatorNode+this.config.gasLimitUnstake+this.config.gasLimitDelegationOperations;return new tn.TransactionBuilder({config:this.config,sender:e.sender,receiver:e.delegationContract,dataParts:r,gasLimit:i,addDataMovementGas:!0}).build()}createTransactionForUnjailingNodes(e){let r=["unJailNodes"];for(let i of e.publicKeys)r.push(i.hex());let n=e.publicKeys.length;return new tn.TransactionBuilder({config:this.config,sender:e.sender,receiver:e.delegationContract,dataParts:r,gasLimit:this.computeExecutionGasLimitForNodesManagement(n),addDataMovementGas:!0}).build()}createTransactionForChangingServiceFee(e){let r=["changeServiceFee",this.argSerializer.valuesToStrings([new hn.BigUIntValue(e.serviceFee)])[0]],n=this.config.gasLimitDelegationOperations+this.config.additionalGasLimitForDelegationOperations;return new tn.TransactionBuilder({config:this.config,sender:e.sender,receiver:e.delegationContract,dataParts:r,gasLimit:n,addDataMovementGas:!0}).build()}createTransactionForModifyingDelegationCap(e){let r=["modifyTotalDelegationCap",this.argSerializer.valuesToStrings([new hn.BigUIntValue(e.delegationCap)])[0]],n=this.config.gasLimitDelegationOperations+this.config.additionalGasLimitForDelegationOperations;return new tn.TransactionBuilder({config:this.config,sender:e.sender,receiver:e.delegationContract,dataParts:r,gasLimit:n,addDataMovementGas:!0}).build()}createTransactionForSettingAutomaticActivation(e){let r=["setAutomaticActivation",this.argSerializer.valuesToStrings([new hn.StringValue("true")])[0]],n=this.config.gasLimitDelegationOperations+this.config.additionalGasLimitForDelegationOperations;return new tn.TransactionBuilder({config:this.config,sender:e.sender,receiver:e.delegationContract,dataParts:r,gasLimit:n,addDataMovementGas:!0}).build()}createTransactionForUnsettingAutomaticActivation(e){let r=["setAutomaticActivation",this.argSerializer.valuesToStrings([new hn.StringValue("false")])[0]],n=this.config.gasLimitDelegationOperations+this.config.additionalGasLimitForDelegationOperations;return new tn.TransactionBuilder({config:this.config,sender:e.sender,receiver:e.delegationContract,dataParts:r,gasLimit:n,addDataMovementGas:!0}).build()}createTransactionForSettingCapCheckOnRedelegateRewards(e){let r=["setCheckCapOnReDelegateRewards",this.argSerializer.valuesToStrings([new hn.StringValue("true")])[0]],n=this.config.gasLimitDelegationOperations+this.config.additionalGasLimitForDelegationOperations;return new tn.TransactionBuilder({config:this.config,sender:e.sender,receiver:e.delegationContract,dataParts:r,gasLimit:n,addDataMovementGas:!0}).build()}createTransactionForUnsettingCapCheckOnRedelegateRewards(e){let r=["setCheckCapOnReDelegateRewards",this.argSerializer.valuesToStrings([new hn.StringValue("false")])[0]],n=this.config.gasLimitDelegationOperations+this.config.additionalGasLimitForDelegationOperations;return new tn.TransactionBuilder({config:this.config,sender:e.sender,receiver:e.delegationContract,dataParts:r,gasLimit:n,addDataMovementGas:!0}).build()}createTransactionForSettingMetadata(e){let r=["setMetaData",...this.argSerializer.valuesToStrings([new hn.StringValue(e.name),new hn.StringValue(e.website),new hn.StringValue(e.identifier)])],n=this.config.gasLimitDelegationOperations+this.config.additionalGasLimitForDelegationOperations;return new tn.TransactionBuilder({config:this.config,sender:e.sender,receiver:e.delegationContract,dataParts:r,gasLimit:n,addDataMovementGas:!0}).build()}computeExecutionGasLimitForNodesManagement(e){let r=this.config.additionalGasLimitPerValidatorNode*BigInt(e);return this.config.gasLimitDelegationOperations+r}};Jp.DelegationTransactionsFactory=pE});var TO=D((w1e,_O)=>{h();var SO=(nr(),xe(hr)),IO=_O.exports;(function(){"use strict";function t(c){return c<10?"0"+c:c}var e=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,r=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n,i,s={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},o;function u(c){return r.lastIndex=0,r.test(c)?'"'+c.replace(r,function(f){var d=s[f];return typeof d=="string"?d:"\\u"+("0000"+f.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+c+'"'}function a(c,f){var d,w,A,_,N=n,P,V=f[c],U=V!=null&&(V instanceof SO||SO.isBigNumber(V));switch(V&&typeof V=="object"&&typeof V.toJSON=="function"&&(V=V.toJSON(c)),typeof o=="function"&&(V=o.call(f,c,V)),typeof V){case"string":return U?V:u(V);case"number":return isFinite(V)?String(V):"null";case"boolean":case"null":case"bigint":return String(V);case"object":if(!V)return"null";if(n+=i,P=[],Object.prototype.toString.apply(V)==="[object Array]"){for(_=V.length,d=0;d<_;d+=1)P[d]=a(d,V)||"null";return A=P.length===0?"[]":n?`[
`+n+P.join(`,
`+n)+`
`+N+"]":"["+P.join(",")+"]",n=N,A}if(o&&typeof o=="object")for(_=o.length,d=0;d<_;d+=1)typeof o[d]=="string"&&(w=o[d],A=a(w,V),A&&P.push(u(w)+(n?": ":":")+A));else Object.keys(V).forEach(function(Q){var L=a(Q,V);L&&P.push(u(Q)+(n?": ":":")+L)});return A=P.length===0?"{}":n?`{
`+n+P.join(`,
`+n)+`
`+N+"}":"{"+P.join(",")+"}",n=N,A}}typeof IO.stringify!="function"&&(IO.stringify=function(c,f,d){var w;if(n="",i="",typeof d=="number")for(w=0;w<d;w+=1)i+=" ";else typeof d=="string"&&(i=d);if(o=f,f&&typeof f!="function"&&(typeof f!="object"||typeof f.length!="number"))throw new Error("JSON.stringify");return a("",{"":c})})})()});var NO=D((A1e,CO)=>{h();var Xp=null,JK=/(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])/,XK=/(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)/,ZK=function(t){"use strict";var e={strict:!1,storeAsString:!1,alwaysParseAsBig:!1,useNativeBigInt:!1,protoAction:"error",constructorAction:"error"};if(t!=null){if(t.strict===!0&&(e.strict=!0),t.storeAsString===!0&&(e.storeAsString=!0),e.alwaysParseAsBig=t.alwaysParseAsBig===!0?t.alwaysParseAsBig:!1,e.useNativeBigInt=t.useNativeBigInt===!0?t.useNativeBigInt:!1,typeof t.constructorAction<"u")if(t.constructorAction==="error"||t.constructorAction==="ignore"||t.constructorAction==="preserve")e.constructorAction=t.constructorAction;else throw new Error(`Incorrect value for constructorAction option, must be "error", "ignore" or undefined but passed ${t.constructorAction}`);if(typeof t.protoAction<"u")if(t.protoAction==="error"||t.protoAction==="ignore"||t.protoAction==="preserve")e.protoAction=t.protoAction;else throw new Error(`Incorrect value for protoAction option, must be "error", "ignore" or undefined but passed ${t.protoAction}`)}var r,n,i={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},s,o=function(N){throw{name:"SyntaxError",message:N,at:r,text:s}},u=function(N){return N&&N!==n&&o("Expected '"+N+"' instead of '"+n+"'"),n=s.charAt(r),r+=1,n},a=function(){var N,P="";for(n==="-"&&(P="-",u("-"));n>="0"&&n<="9";)P+=n,u();if(n===".")for(P+=".";u()&&n>="0"&&n<="9";)P+=n;if(n==="e"||n==="E")for(P+=n,u(),(n==="-"||n==="+")&&(P+=n,u());n>="0"&&n<="9";)P+=n,u();if(N=+P,!isFinite(N))o("Bad number");else return Xp==null&&(Xp=(nr(),xe(hr))),P.length>15?e.storeAsString?P:e.useNativeBigInt?BigInt(P):new Xp(P):e.alwaysParseAsBig?e.useNativeBigInt?BigInt(N):new Xp(N):N},c=function(){var N,P,V="",U;if(n==='"')for(var Q=r;u();){if(n==='"')return r-1>Q&&(V+=s.substring(Q,r-1)),u(),V;if(n==="\\"){if(r-1>Q&&(V+=s.substring(Q,r-1)),u(),n==="u"){for(U=0,P=0;P<4&&(N=parseInt(u(),16),!!isFinite(N));P+=1)U=U*16+N;V+=String.fromCharCode(U)}else if(typeof i[n]=="string")V+=i[n];else break;Q=r}}o("Bad string")},f=function(){for(;n&&n<=" ";)u()},d=function(){switch(n){case"t":return u("t"),u("r"),u("u"),u("e"),!0;case"f":return u("f"),u("a"),u("l"),u("s"),u("e"),!1;case"n":return u("n"),u("u"),u("l"),u("l"),null}o("Unexpected '"+n+"'")},w,A=function(){var N=[];if(n==="["){if(u("["),f(),n==="]")return u("]"),N;for(;n;){if(N.push(w()),f(),n==="]")return u("]"),N;u(","),f()}}o("Bad array")},_=function(){var N,P=Object.create(null);if(n==="{"){if(u("{"),f(),n==="}")return u("}"),P;for(;n;){if(N=c(),f(),u(":"),e.strict===!0&&Object.hasOwnProperty.call(P,N)&&o('Duplicate key "'+N+'"'),JK.test(N)===!0?e.protoAction==="error"?o("Object contains forbidden prototype property"):e.protoAction==="ignore"?w():P[N]=w():XK.test(N)===!0?e.constructorAction==="error"?o("Object contains forbidden constructor property"):e.constructorAction==="ignore"?w():P[N]=w():P[N]=w(),f(),n==="}")return u("}"),P;u(","),f()}}o("Bad object")};return w=function(){switch(f(),n){case"{":return _();case"[":return A();case'"':return c();case"-":return a();default:return n>="0"&&n<="9"?a():d()}},function(N,P){var V;return s=N+"",r=0,n=" ",V=w(),f(),n&&o("Syntax error"),typeof P=="function"?function U(Q,L){var k,H,q=Q[L];return q&&typeof q=="object"&&Object.keys(q).forEach(function(v){H=U(q,v),H!==void 0?q[v]=H:delete q[v]}),P.call(Q,L,q)}({"":V},""):V}};CO.exports=ZK});var mE=D((b1e,Zp)=>{h();var xO=TO().stringify,OO=NO();Zp.exports=function(t){return{parse:OO(t),stringify:xO}};Zp.exports.parse=OO();Zp.exports.stringify=xO});var PO=D(gc=>{"use strict";h();var eW=gc&&gc.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(gc,"__esModule",{value:!0});gc.RelayedTransactionsFactory=void 0;var tW=eW((nr(),xe(hr))),e0=ke(),t0=Ie(),zf=Vn(),DO=en(),rW=mE(),yE=class{constructor(e){this.config=e.config}createRelayedV1Transaction(e){if(!e.innerTransaction.gasLimit)throw new t0.ErrInvalidInnerTransaction("The gas limit is not set for the inner transaction");if(!e.innerTransaction.signature.length)throw new t0.ErrInvalidInnerTransaction("The inner transaction is not signed");let r=this.prepareInnerTransactionForRelayedV1(e.innerTransaction),n=`relayedTx@${p.Buffer.from(r).toString("hex")}`,i=this.config.gasLimitPerByte*BigInt(n.length),s=this.config.minGasLimit+i+e.innerTransaction.gasLimit;return new DO.Transaction({chainID:this.config.chainID,sender:e.relayerAddress.bech32(),receiver:e.innerTransaction.sender,gasLimit:s,data:p.Buffer.from(n)})}createRelayedV2Transaction(e){if(e.innerTransaction.gasLimit)throw new t0.ErrInvalidInnerTransaction("The gas limit should not be set for the inner transaction");if(!e.innerTransaction.signature.length)throw new t0.ErrInvalidInnerTransaction("The inner transaction is not signed");let{argumentsString:r}=new zf.ArgSerializer().valuesToString([new zf.AddressValue(e0.Address.fromBech32(e.innerTransaction.receiver)),new zf.U64Value(new tW.default(e.innerTransaction.nonce.toString())),new zf.BytesValue(p.Buffer.from(e.innerTransaction.data)),new zf.BytesValue(p.Buffer.from(e.innerTransaction.signature))]),n=`relayedTxV2@${r}`,i=this.config.gasLimitPerByte*BigInt(n.length),s=e.innerTransactionGasLimit+this.config.minGasLimit+i;return new DO.Transaction({sender:e.relayerAddress.bech32(),receiver:e.innerTransaction.sender,value:0n,gasLimit:s,chainID:this.config.chainID,data:p.Buffer.from(n),version:e.innerTransaction.version,options:e.innerTransaction.options})}prepareInnerTransactionForRelayedV1(e){let r={nonce:e.nonce,sender:e0.Address.fromBech32(e.sender).pubkey().toString("base64"),receiver:e0.Address.fromBech32(e.receiver).pubkey().toString("base64"),value:e.value,gasPrice:e.gasPrice,gasLimit:e.gasLimit,data:p.Buffer.from(e.data).toString("base64"),signature:p.Buffer.from(e.signature).toString("base64"),chainID:p.Buffer.from(e.chainID).toString("base64"),version:e.version,options:e.options.valueOf()==0?void 0:e.options,guardian:e.guardian?e0.Address.fromBech32(e.guardian).pubkey().toString("base64"):void 0,guardianSignature:e.guardianSignature.length?p.Buffer.from(e.guardianSignature).toString("base64"):void 0,sndUserName:e.senderUsername?p.Buffer.from(e.senderUsername).toString("base64"):void 0,rcvUserName:e.receiverUsername?p.Buffer.from(e.receiverUsername).toString("base64"):void 0};return rW.stringify(r)}};gc.RelayedTransactionsFactory=yE});var RO=D(r0=>{"use strict";h();Object.defineProperty(r0,"__esModule",{value:!0});r0.ArgumentErrorContext=void 0;var nW=Ie(),wE=class{constructor(e,r,n){this.endpointName=e,this.argumentIndex=r,this.parameterDefinition=n}throwError(e){throw new nW.ErrInvalidArgument(`Error when converting arguments for endpoint (endpoint name: ${this.endpointName}, argument index: ${this.argumentIndex}, name: ${this.parameterDefinition.name}, type: ${this.parameterDefinition.type})
Nested error: ${e}`)}convertError(e,r){this.throwError(`Can't convert argument (argument: ${e}, type ${typeof e}), wanted type: ${r})`)}unhandledType(e,r){this.throwError(`Unhandled type (function: ${e}, type: ${r})`)}guardSameLength(e,r){e=e||[],e.length!=r.length&&this.throwError(`Incorrect composite type length: have ${e.length}, expected ${r.length} (argument: ${e})`)}guardHasField(e,r){e=e||{},r in e||this.throwError(`Struct argument does not contain a field named "${r}" (argument: ${JSON.stringify(e)})`)}};r0.ArgumentErrorContext=wE});var n0=D(Fa=>{"use strict";h();var iW=Fa&&Fa.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Fa,"__esModule",{value:!0});Fa.NativeSerializer=void 0;var sW=iW((nr(),xe(hr))),oW=ke(),vE=Ie(),aW=Du(),uW=RO(),we=$t(),cW;(function(t){function e(L,k){L=L||[],r(L,k),n(k)&&(L=i(L,k));let H=k.input,q=[];for(let v=0;v<H.length;v++){let C=H[v],R=new uW.ArgumentErrorContext(k.name,v,C),F=o(L[v],C.type,R);q.push(F)}return q}t.nativeToTypedValues=e;function r(L,k){let{min:H,max:q}=s(k.input);if(!(H<=L.length&&L.length<=q))throw new vE.ErrInvalidArgument(`Wrong number of arguments for endpoint ${k.name}: expected between ${H} and ${q} arguments, have ${L.length}`)}function n(L){let k=L.input[L.input.length-1];return k?.type instanceof we.VariadicType&&!k.type.isCounted}function i(L,k){let H=k.input.length-1,q=L[H];if(q?.belongsToTypesystem){if(!q.hasClassOrSuperclass(we.VariadicValue.ClassName))throw new vE.ErrInvalidArgument(`Wrong argument type for endpoint ${k.name}: typed value provided; expected variadic type, have ${q.getClassName()}`)}else L[H]=L.slice(H);return L}function s(L){let k=[...L].reverse(),H=L.length,q=L.length,v=!1;k.length>0&&k[0].type.getCardinality().isComposite()&&(q=1/0,v=!0);for(let C of k){if(C.type.getCardinality().isSingular())break;H-=1}return{min:H,max:q,variadic:v}}t.getArgumentsCardinality=s;function o(L,k,H){if(L&&we.isTyped(L))return L;if(k instanceof we.OptionType)return u(L,k,H);if(k instanceof we.OptionalType)return a(L,k,H);if(k instanceof we.VariadicType)return c(L,k,H);if(k instanceof we.CompositeType)return d(L,k,H);if(k instanceof we.TupleType)return w(L,k,H);if(k instanceof we.StructType)return A(L,k,H);if(k instanceof we.ListType)return f(L,k,H);if(k instanceof we.PrimitiveType)return _(L,k,H);if(k instanceof we.EnumType)return N(L,k,H);H.throwError(`convertToTypedValue: unhandled type ${k}`)}function u(L,k,H){if(L==null)return we.OptionValue.newMissing();let q=o(L,k.getFirstTypeParameter(),H);return we.OptionValue.newProvided(q)}function a(L,k,H){if(L==null)return new we.OptionalValue(k);let q=o(L,k.getFirstTypeParameter(),H);return new we.OptionalValue(k,q)}function c(L,k,H){if(k.isCounted)throw new vE.ErrInvalidArgument('Counted variadic arguments must be explicitly typed. E.g. use "VariadicValue.fromItemsCounted()" or "new VariadicValue()"');L==null&&(L=[]),L.map===void 0&&H.convertError(L,"Variadic");let q=L.map(function(v){return o(v,k.getFirstTypeParameter(),H)});return new we.VariadicValue(k,q)}function f(L,k,H){L.map===void 0&&H.convertError(L,"List");let q=L.map(function(v){return o(v,k.getFirstTypeParameter(),H)});return new we.List(k,q)}function d(L,k,H){let q=[],v=k.getTypeParameters();H.guardSameLength(L,v);for(let C=0;C<v.length;C++)q.push(o(L[C],v[C],H));return new we.CompositeValue(k,q)}function w(L,k,H){let q=[],v=k.getFieldsDefinitions();H.guardSameLength(L,v);for(let C=0;C<v.length;C++)q.push(o(L[C],v[C].type,H));return we.Tuple.fromItems(q)}function A(L,k,H){let q=[],v=k.getFieldsDefinitions();for(let C=0;C<v.length;C++){let R=v[C].name;H.guardHasField(L,R);let F=L[R],B=o(F,v[C].type,H);q.push(new we.Field(B,R))}return new we.Struct(k,q)}function _(L,k,H){if(k instanceof we.NumericalType){let q=new sW.default(L);return Q(q,k,H)}if(k instanceof we.BytesType)return P(L,H);if(k instanceof we.AddressType)return new we.AddressValue(U(L,H));if(k instanceof we.BooleanType)return new we.BooleanValue(L);if(k instanceof we.TokenIdentifierType)return new we.TokenIdentifierValue(V(L,H));H.throwError(`(function: toPrimitive) unsupported type ${k}`)}function N(L,k,H){if(typeof L=="number")return we.EnumValue.fromDiscriminant(k,L);if(typeof L=="string")return we.EnumValue.fromName(k,L);if(typeof L=="object"){H.guardHasField(L,"name");let q=k.getVariantByName(L.name);H.guardHasField(L,"fields");let v=L.fields,C=[],R=q.getFieldsDefinitions();for(let F=0;F<R.length;F++){let B=R[F].name;H.guardHasField(v,B);let l=v[B],g=o(l,R[F].type,H);C.push(new we.Field(g,B))}return new we.EnumValue(k,q,C)}H.throwError(`(function: toEnumValue) unsupported native type ${typeof L}`)}function P(L,k){let H=L.valueOf();if(L===void 0&&k.convertError(L,"BytesValue"),L instanceof p.Buffer)return new we.BytesValue(L);if(typeof L=="string")return we.BytesValue.fromUTF8(L);if(H instanceof p.Buffer)return new we.BytesValue(H);if(typeof H=="number")return we.BytesValue.fromHex(aW.numberToPaddedHex(H));k.convertError(L,"BytesValue")}function V(L,k){if(L===void 0&&k.convertError(L,"Buffer"),L instanceof p.Buffer)return L.toString();if(typeof L=="string")return L;k.convertError(L,"Buffer")}function U(L,k){if(L.bech32)return L;if(L.getAddress)return L.getAddress();switch(L.constructor){case p.Buffer:case String:return new oW.Address(L);default:k.convertError(L,"Address")}}t.convertNativeToAddress=U;function Q(L,k,H){switch(k.constructor){case we.U8Type:return new we.U8Value(L);case we.I8Type:return new we.I8Value(L);case we.U16Type:return new we.U16Value(L);case we.I16Type:return new we.I16Value(L);case we.U32Type:return new we.U32Value(L);case we.I32Type:return new we.I32Value(L);case we.U64Type:return new we.U64Value(L);case we.I64Type:return new we.I64Value(L);case we.BigUIntType:return new we.BigUIntValue(L);case we.BigIntType:return new we.BigIntValue(L);default:H.unhandledType("convertNumericalType",k)}}})(cW=Fa.NativeSerializer||(Fa.NativeSerializer={}))});var EE=D(i0=>{"use strict";h();Object.defineProperty(i0,"__esModule",{value:!0});i0.TokenTransfersDataBuilder=void 0;var lW=lc(),wi=$t(),fW=Ia(),AE=class{constructor(){this.tokenComputer=new fW.TokenComputer,this.argsSerializer=new lW.ArgSerializer}buildDataPartsForESDTTransfer(e){return["ESDTTransfer",...this.argsSerializer.valuesToStrings([new wi.TokenIdentifierValue(e.token.identifier),new wi.BigUIntValue(e.amount)])]}buildDataPartsForSingleESDTNFTTransfer(e,r){let n=e.token,i=this.tokenComputer.extractIdentifierFromExtendedIdentifier(n.identifier);return["ESDTNFTTransfer",...this.argsSerializer.valuesToStrings([new wi.TokenIdentifierValue(i),new wi.BigUIntValue(n.nonce),new wi.BigUIntValue(e.amount),new wi.AddressValue(r)])]}buildDataPartsForMultiESDTNFTTransfer(e,r){let n=[new wi.AddressValue(e),new wi.U32Value(r.length)];for(let s of r){let o=this.tokenComputer.extractIdentifierFromExtendedIdentifier(s.token.identifier);n.push(new wi.TokenIdentifierValue(o),new wi.BigUIntValue(s.token.nonce),new wi.BigUIntValue(s.amount))}return["MultiESDTNFTTransfer",...this.argsSerializer.valuesToStrings(n)]}};i0.TokenTransfersDataBuilder=AE});var SE=D(a0=>{"use strict";h();Object.defineProperty(a0,"__esModule",{value:!0});a0.SmartContractTransactionsFactory=void 0;var BO=ke(),MO=yr(),LO=Ie(),hW=so(),s0=Vn(),dW=n0(),gW=$t(),pW=Ia(),o0=Du(),mW=EE(),Qf=dc(),bE=class{constructor(e){this.config=e.config,this.abi=e.abi,this.tokenComputer=new pW.TokenComputer,this.dataArgsBuilder=new mW.TokenTransfersDataBuilder,this.contractDeployAddress=BO.Address.fromHex(MO.CONTRACT_DEPLOY_ADDRESS_HEX,this.config.addressHrp)}createTransactionForDeploy(e){let r=e.nativeTransferAmount??0n,n=e.isUpgradeable??!0,i=e.isReadable??!0,s=e.isPayable??!1,o=e.isPayableBySmartContract??!0,u=e.arguments||[],a=new s0.CodeMetadata(n,i,s,o),c=[o0.byteArrayToHex(e.bytecode),o0.byteArrayToHex(MO.VM_TYPE_WASM_VM),a.toString()],f=this.abi?.constructorDefinition,d=this.argsToDataParts(u,f);return c.push(...d),new Qf.TransactionBuilder({config:this.config,sender:e.sender,receiver:this.contractDeployAddress,dataParts:c,gasLimit:e.gasLimit,addDataMovementGas:!1,amount:r}).build()}createTransactionForExecute(e){let r=e.arguments||[],n=e.tokenTransfers||[],i=e.nativeTransferAmount??0n,s=n.length;if(i&&s)throw new LO.ErrBadUsage("Can't send both native tokens and custom tokens(ESDT/NFT)");let o=e.contract,u=[];if(s===1){let f=n[0];this.tokenComputer.isFungible(f.token)?u=this.dataArgsBuilder.buildDataPartsForESDTTransfer(f):(u=this.dataArgsBuilder.buildDataPartsForSingleESDTNFTTransfer(f,o),o=e.sender)}else s>1&&(u=this.dataArgsBuilder.buildDataPartsForMultiESDTNFTTransfer(o,n),o=e.sender);u.push(u.length?o0.utf8ToHex(e.function):e.function);let a=this.abi?.getEndpoint(e.function),c=this.argsToDataParts(r,a);return u.push(...c),new Qf.TransactionBuilder({config:this.config,sender:e.sender,receiver:o,dataParts:u,gasLimit:e.gasLimit,addDataMovementGas:!1,amount:i}).build()}createTransactionForUpgrade(e){let r=e.nativeTransferAmount??0n,n=e.isUpgradeable??!0,i=e.isReadable??!0,s=e.isPayable??!1,o=e.isPayableBySmartContract??!0,u=e.arguments||[],a=new s0.CodeMetadata(n,i,s,o),c=["upgradeContract",o0.byteArrayToHex(e.bytecode),a.toString()],f=this.getEndpointForUpgrade(),d=this.argsToDataParts(u,f);return c.push(...d),new Qf.TransactionBuilder({config:this.config,sender:e.sender,receiver:e.contract,dataParts:c,gasLimit:e.gasLimit,addDataMovementGas:!1,amount:r}).build()}getEndpointForUpgrade(){if(this.abi){if(this.abi.upgradeConstructorDefinition)return this.abi.upgradeConstructorDefinition;try{return this.abi.getEndpoint("upgrade")}catch{return hW.Logger.warn("In the ABI, cannot find the 'upgrade' endpoint definition. Will use the constructor definition (fallback)."),this.abi.constructorDefinition}}}createTransactionForClaimingDeveloperRewards(e){let r=["ClaimDeveloperRewards"];return new Qf.TransactionBuilder({config:this.config,sender:e.sender,receiver:e.contract,dataParts:r,gasLimit:this.config.gasLimitClaimDeveloperRewards,addDataMovementGas:!1}).build()}createTransactionForChangingOwnerAddress(e){let r=["ChangeOwnerAddress",BO.Address.fromBech32(e.newOwner.bech32()).toHex()];return new Qf.TransactionBuilder({config:this.config,sender:e.sender,receiver:e.contract,dataParts:r,gasLimit:this.config.gasLimitChangeOwnerAddress,addDataMovementGas:!1}).build()}argsToDataParts(e,r){if(r){let n=dW.NativeSerializer.nativeToTypedValues(e,r);return new s0.ArgSerializer().valuesToStrings(n)}if(this.areArgsOfTypedValue(e))return new s0.ArgSerializer().valuesToStrings(e);throw new LO.Err("Can't convert args to TypedValues")}areArgsOfTypedValue(e){return e.every(r=>gW.isTyped(r))}};a0.SmartContractTransactionsFactory=bE});var FO=D(u0=>{"use strict";h();Object.defineProperty(u0,"__esModule",{value:!0});u0.TokenManagementTransactionsFactory=void 0;var yW=ke(),wW=yr(),vW=so(),Z=Vn(),Jt=dc(),IE=class{constructor(e){this.config=e.config,this.argSerializer=new Z.ArgSerializer,this.trueAsString="true",this.falseAsString="false",this.esdtContractAddress=yW.Address.fromHex(wW.ESDT_CONTRACT_ADDRESS_HEX,this.config.addressHrp)}createTransactionForIssuingFungible(e){this.notifyAboutUnsettingBurnRoleGlobally();let r=[new Z.StringValue(e.tokenName),new Z.StringValue(e.tokenTicker),new Z.BigUIntValue(e.initialSupply),new Z.BigUIntValue(e.numDecimals),new Z.StringValue("canFreeze"),new Z.StringValue(this.boolToString(e.canFreeze)),new Z.StringValue("canWipe"),new Z.StringValue(this.boolToString(e.canWipe)),new Z.StringValue("canPause"),new Z.StringValue(this.boolToString(e.canPause)),new Z.StringValue("canChangeOwner"),new Z.StringValue(this.boolToString(e.canChangeOwner)),new Z.StringValue("canUpgrade"),new Z.StringValue(this.boolToString(e.canUpgrade)),new Z.StringValue("canAddSpecialRoles"),new Z.StringValue(this.boolToString(e.canAddSpecialRoles))],n=["issue",...this.argSerializer.valuesToStrings(r)];return new Jt.TransactionBuilder({config:this.config,sender:e.sender,receiver:this.esdtContractAddress,dataParts:n,gasLimit:this.config.gasLimitIssue,addDataMovementGas:!0,amount:this.config.issueCost}).build()}createTransactionForIssuingSemiFungible(e){this.notifyAboutUnsettingBurnRoleGlobally();let r=[new Z.StringValue(e.tokenName),new Z.StringValue(e.tokenTicker),new Z.StringValue("canFreeze"),new Z.StringValue(this.boolToString(e.canFreeze)),new Z.StringValue("canWipe"),new Z.StringValue(this.boolToString(e.canWipe)),new Z.StringValue("canPause"),new Z.StringValue(this.boolToString(e.canPause)),new Z.StringValue("canTransferNFTCreateRole"),new Z.StringValue(this.boolToString(e.canTransferNFTCreateRole)),new Z.StringValue("canChangeOwner"),new Z.StringValue(this.boolToString(e.canChangeOwner)),new Z.StringValue("canUpgrade"),new Z.StringValue(this.boolToString(e.canUpgrade)),new Z.StringValue("canAddSpecialRoles"),new Z.StringValue(this.boolToString(e.canAddSpecialRoles))],n=["issueSemiFungible",...this.argSerializer.valuesToStrings(r)];return new Jt.TransactionBuilder({config:this.config,sender:e.sender,receiver:this.esdtContractAddress,dataParts:n,gasLimit:this.config.gasLimitIssue,addDataMovementGas:!0,amount:this.config.issueCost}).build()}createTransactionForIssuingNonFungible(e){this.notifyAboutUnsettingBurnRoleGlobally();let r=[new Z.StringValue(e.tokenName),new Z.StringValue(e.tokenTicker),new Z.StringValue("canFreeze"),new Z.StringValue(this.boolToString(e.canFreeze)),new Z.StringValue("canWipe"),new Z.StringValue(this.boolToString(e.canWipe)),new Z.StringValue("canPause"),new Z.StringValue(this.boolToString(e.canPause)),new Z.StringValue("canTransferNFTCreateRole"),new Z.StringValue(this.boolToString(e.canTransferNFTCreateRole)),new Z.StringValue("canChangeOwner"),new Z.StringValue(this.boolToString(e.canChangeOwner)),new Z.StringValue("canUpgrade"),new Z.StringValue(this.boolToString(e.canUpgrade)),new Z.StringValue("canAddSpecialRoles"),new Z.StringValue(this.boolToString(e.canAddSpecialRoles))],n=["issueNonFungible",...this.argSerializer.valuesToStrings(r)];return new Jt.TransactionBuilder({config:this.config,sender:e.sender,receiver:this.esdtContractAddress,dataParts:n,gasLimit:this.config.gasLimitIssue,addDataMovementGas:!0,amount:this.config.issueCost}).build()}createTransactionForRegisteringMetaESDT(e){this.notifyAboutUnsettingBurnRoleGlobally();let r=[new Z.StringValue(e.tokenName),new Z.StringValue(e.tokenTicker),new Z.BigUIntValue(e.numDecimals),new Z.StringValue("canFreeze"),new Z.StringValue(this.boolToString(e.canFreeze)),new Z.StringValue("canWipe"),new Z.StringValue(this.boolToString(e.canWipe)),new Z.StringValue("canPause"),new Z.StringValue(this.boolToString(e.canPause)),new Z.StringValue("canTransferNFTCreateRole"),new Z.StringValue(this.boolToString(e.canTransferNFTCreateRole)),new Z.StringValue("canChangeOwner"),new Z.StringValue(this.boolToString(e.canChangeOwner)),new Z.StringValue("canUpgrade"),new Z.StringValue(this.boolToString(e.canUpgrade)),new Z.StringValue("canAddSpecialRoles"),new Z.StringValue(this.boolToString(e.canAddSpecialRoles))],n=["registerMetaESDT",...this.argSerializer.valuesToStrings(r)];return new Jt.TransactionBuilder({config:this.config,sender:e.sender,receiver:this.esdtContractAddress,dataParts:n,gasLimit:this.config.gasLimitIssue,addDataMovementGas:!0,amount:this.config.issueCost}).build()}createTransactionForRegisteringAndSettingRoles(e){this.notifyAboutUnsettingBurnRoleGlobally();let r=["registerAndSetAllRoles",...this.argSerializer.valuesToStrings([new Z.StringValue(e.tokenName),new Z.StringValue(e.tokenTicker),new Z.StringValue(e.tokenType),new Z.BigUIntValue(e.numDecimals)])];return new Jt.TransactionBuilder({config:this.config,sender:e.sender,receiver:this.esdtContractAddress,dataParts:r,gasLimit:this.config.gasLimitIssue,addDataMovementGas:!0,amount:this.config.issueCost}).build()}createTransactionForSettingBurnRoleGlobally(e){let r=["setBurnRoleGlobally",...this.argSerializer.valuesToStrings([new Z.StringValue(e.tokenIdentifier)])];return new Jt.TransactionBuilder({config:this.config,sender:e.sender,receiver:this.esdtContractAddress,dataParts:r,gasLimit:this.config.gasLimitToggleBurnRoleGlobally,addDataMovementGas:!0}).build()}createTransactionForUnsettingBurnRoleGlobally(e){let r=["unsetBurnRoleGlobally",...this.argSerializer.valuesToStrings([new Z.StringValue(e.tokenIdentifier)])];return new Jt.TransactionBuilder({config:this.config,sender:e.sender,receiver:this.esdtContractAddress,dataParts:r,gasLimit:this.config.gasLimitToggleBurnRoleGlobally,addDataMovementGas:!0}).build()}createTransactionForSettingSpecialRoleOnFungibleToken(e){let r=[new Z.StringValue(e.tokenIdentifier),new Z.AddressValue(e.user)];e.addRoleLocalMint&&r.push(new Z.StringValue("ESDTRoleLocalMint")),e.addRoleLocalBurn&&r.push(new Z.StringValue("ESDTRoleLocalBurn")),e.addRoleESDTTransferRole&&r.push(new Z.StringValue("ESDTTransferRole"));let n=["setSpecialRole",...this.argSerializer.valuesToStrings(r)];return new Jt.TransactionBuilder({config:this.config,sender:e.sender,receiver:this.esdtContractAddress,dataParts:n,gasLimit:this.config.gasLimitSetSpecialRole,addDataMovementGas:!0}).build()}createTransactionForSettingSpecialRoleOnSemiFungibleToken(e){let r=[new Z.StringValue(e.tokenIdentifier),new Z.AddressValue(e.user)];e.addRoleNFTCreate&&r.push(new Z.StringValue("ESDTRoleNFTCreate")),e.addRoleNFTBurn&&r.push(new Z.StringValue("ESDTRoleNFTBurn")),e.addRoleNFTAddQuantity&&r.push(new Z.StringValue("ESDTRoleNFTAddQuantity")),e.addRoleESDTTransferRole&&r.push(new Z.StringValue("ESDTTransferRole"));let n=["setSpecialRole",...this.argSerializer.valuesToStrings(r)];return new Jt.TransactionBuilder({config:this.config,sender:e.sender,receiver:this.esdtContractAddress,dataParts:n,gasLimit:this.config.gasLimitSetSpecialRole,addDataMovementGas:!0}).build()}createTransactionForSettingSpecialRoleOnMetaESDT(e){return this.createTransactionForSettingSpecialRoleOnSemiFungibleToken(e)}createTransactionForSettingSpecialRoleOnNonFungibleToken(e){let r=[new Z.StringValue(e.tokenIdentifier),new Z.AddressValue(e.user)];e.addRoleNFTCreate&&r.push(new Z.StringValue("ESDTRoleNFTCreate")),e.addRoleNFTBurn&&r.push(new Z.StringValue("ESDTRoleNFTBurn")),e.addRoleNFTUpdateAttributes&&r.push(new Z.StringValue("ESDTRoleNFTUpdateAttributes")),e.addRoleNFTAddURI&&r.push(new Z.StringValue("ESDTRoleNFTAddURI")),e.addRoleESDTTransferRole&&r.push(new Z.StringValue("ESDTTransferRole"));let n=["setSpecialRole",...this.argSerializer.valuesToStrings(r)];return new Jt.TransactionBuilder({config:this.config,sender:e.sender,receiver:this.esdtContractAddress,dataParts:n,gasLimit:this.config.gasLimitSetSpecialRole,addDataMovementGas:!0}).build()}createTransactionForCreatingNFT(e){let r=["ESDTNFTCreate",...this.argSerializer.valuesToStrings([new Z.StringValue(e.tokenIdentifier),new Z.BigUIntValue(e.initialQuantity),new Z.StringValue(e.name),new Z.BigUIntValue(e.royalties),new Z.StringValue(e.hash),new Z.BytesValue(p.Buffer.from(e.attributes)),...e.uris.map(s=>new Z.StringValue(s))])],n=e.name+e.hash+e.attributes+e.uris.join(""),i=this.config.gasLimitStorePerByte+BigInt(n.length);return new Jt.TransactionBuilder({config:this.config,sender:e.sender,receiver:e.sender,dataParts:r,gasLimit:this.config.gasLimitEsdtNftCreate+i,addDataMovementGas:!0}).build()}createTransactionForPausing(e){let r=["pause",...this.argSerializer.valuesToStrings([new Z.StringValue(e.tokenIdentifier)])];return new Jt.TransactionBuilder({config:this.config,sender:e.sender,receiver:e.sender,dataParts:r,gasLimit:this.config.gasLimitPausing,addDataMovementGas:!0}).build()}createTransactionForUnpausing(e){let r=["unPause",...this.argSerializer.valuesToStrings([new Z.StringValue(e.tokenIdentifier)])];return new Jt.TransactionBuilder({config:this.config,sender:e.sender,receiver:e.sender,dataParts:r,gasLimit:this.config.gasLimitPausing,addDataMovementGas:!0}).build()}createTransactionForFreezing(e){let r=["freeze",...this.argSerializer.valuesToStrings([new Z.StringValue(e.tokenIdentifier),new Z.AddressValue(e.user)])];return new Jt.TransactionBuilder({config:this.config,sender:e.sender,receiver:e.sender,dataParts:r,gasLimit:this.config.gasLimitFreezing,addDataMovementGas:!0}).build()}createTransactionForUnfreezing(e){let r=["UnFreeze",...this.argSerializer.valuesToStrings([new Z.StringValue(e.tokenIdentifier),new Z.AddressValue(e.user)])];return new Jt.TransactionBuilder({config:this.config,sender:e.sender,receiver:e.sender,dataParts:r,gasLimit:this.config.gasLimitFreezing,addDataMovementGas:!0}).build()}createTransactionForWiping(e){let r=["wipe",...this.argSerializer.valuesToStrings([new Z.StringValue(e.tokenIdentifier),new Z.AddressValue(e.user)])];return new Jt.TransactionBuilder({config:this.config,sender:e.sender,receiver:e.sender,dataParts:r,gasLimit:this.config.gasLimitWiping,addDataMovementGas:!0}).build()}createTransactionForLocalMint(e){let r=["ESDTLocalMint",...this.argSerializer.valuesToStrings([new Z.StringValue(e.tokenIdentifier),new Z.BigUIntValue(e.supplyToMint)])];return new Jt.TransactionBuilder({config:this.config,sender:e.sender,receiver:e.sender,dataParts:r,gasLimit:this.config.gasLimitEsdtLocalMint,addDataMovementGas:!0}).build()}createTransactionForLocalBurning(e){let r=["ESDTLocalBurn",...this.argSerializer.valuesToStrings([new Z.StringValue(e.tokenIdentifier),new Z.BigUIntValue(e.supplyToBurn)])];return new Jt.TransactionBuilder({config:this.config,sender:e.sender,receiver:e.sender,dataParts:r,gasLimit:this.config.gasLimitEsdtLocalBurn,addDataMovementGas:!0}).build()}createTransactionForUpdatingAttributes(e){let r=["ESDTNFTUpdateAttributes",...this.argSerializer.valuesToStrings([new Z.StringValue(e.tokenIdentifier),new Z.BigUIntValue(e.tokenNonce),new Z.BytesValue(p.Buffer.from(e.attributes))])];return new Jt.TransactionBuilder({config:this.config,sender:e.sender,receiver:e.sender,dataParts:r,gasLimit:this.config.gasLimitEsdtNftUpdateAttributes,addDataMovementGas:!0}).build()}createTransactionForAddingQuantity(e){let r=["ESDTNFTAddQuantity",...this.argSerializer.valuesToStrings([new Z.StringValue(e.tokenIdentifier),new Z.BigUIntValue(e.tokenNonce),new Z.BigUIntValue(e.quantityToAdd)])];return new Jt.TransactionBuilder({config:this.config,sender:e.sender,receiver:e.sender,dataParts:r,gasLimit:this.config.gasLimitEsdtNftAddQuantity,addDataMovementGas:!0}).build()}createTransactionForBurningQuantity(e){let r=["ESDTNFTBurn",...this.argSerializer.valuesToStrings([new Z.StringValue(e.tokenIdentifier),new Z.BigUIntValue(e.tokenNonce),new Z.BigUIntValue(e.quantityToBurn)])];return new Jt.TransactionBuilder({config:this.config,sender:e.sender,receiver:e.sender,dataParts:r,gasLimit:this.config.gasLimitEsdtNftBurn,addDataMovementGas:!0}).build()}notifyAboutUnsettingBurnRoleGlobally(){vW.Logger.info(`
==========
IMPORTANT!
==========
You are about to issue (register) a new token. This will set the role "ESDTRoleBurnForAll" (globally).
Once the token is registered, you can unset this role by calling "unsetBurnRoleGlobally" (in a separate transaction).`)}boolToString(e){return e?this.trueAsString:this.falseAsString}};u0.TokenManagementTransactionsFactory=IE});var TE=D(c0=>{"use strict";h();Object.defineProperty(c0,"__esModule",{value:!0});c0.TransactionsFactoryConfig=void 0;var AW=Wd(),_E=class{constructor(e){this.chainID=e.chainID,this.addressHrp=AW.LibraryConfig.DefaultAddressHrp,this.minGasLimit=50000n,this.gasLimitPerByte=1500n,this.gasLimitIssue=60000000n,this.gasLimitToggleBurnRoleGlobally=60000000n,this.gasLimitEsdtLocalMint=300000n,this.gasLimitEsdtLocalBurn=300000n,this.gasLimitSetSpecialRole=60000000n,this.gasLimitPausing=60000000n,this.gasLimitFreezing=60000000n,this.gasLimitWiping=60000000n,this.gasLimitEsdtNftCreate=3000000n,this.gasLimitEsdtNftUpdateAttributes=1000000n,this.gasLimitEsdtNftAddQuantity=1000000n,this.gasLimitEsdtNftBurn=1000000n,this.gasLimitStorePerByte=10000n,this.issueCost=50000000000000000n,this.gasLimitStake=5000000n,this.gasLimitUnstake=5000000n,this.gasLimitUnbond=5000000n,this.gasLimitCreateDelegationContract=50000000n,this.gasLimitDelegationOperations=1000000n,this.additionalGasLimitPerValidatorNode=6000000n,this.additionalGasLimitForDelegationOperations=10000000n,this.gasLimitSaveKeyValue=100000n,this.gasLimitPersistPerByte=1000n,this.gasLimitSetGuardian=250000n,this.gasLimitGuardAccount=250000n,this.gasLimitUnguardAccount=250000n,this.gasLimitESDTTransfer=200000n,this.gasLimitESDTNFTTransfer=200000n,this.gasLimitMultiESDTNFTTransfer=200000n,this.gasLimitClaimDeveloperRewards=6000000n,this.gasLimitChangeOwnerAddress=6000000n}};c0.TransactionsFactoryConfig=_E});var VO=D(l0=>{"use strict";h();Object.defineProperty(l0,"__esModule",{value:!0});l0.TransferTransactionsFactory=void 0;var Eo=Ie(),rn=Vn(),EW=Ia(),Kf=en(),CE=Bs(),bW=EE(),UO=dc(),SW=1e5,qO=8e5,NE=class{constructor(e){this.isGasEstimator(e)?this.gasEstimator=e:(this.config=e.config,this.tokenComputer=new EW.TokenComputer,this.tokenTransfersDataBuilder=new bW.TokenTransfersDataBuilder)}isGasEstimator(e){return typeof e=="object"&&typeof e.forEGLDTransfer=="function"&&typeof e.forESDTTransfer=="function"&&typeof e.forESDTNFTTransfer=="function"&&typeof e.forMultiESDTNFTTransfer=="function"}isGasEstimatorDefined(){return this.gasEstimator!==void 0}ensureMembersAreDefined(){if(this.config===void 0)throw new Eo.Err("'config' is not defined");if(this.tokenTransfersDataBuilder===void 0)throw new Eo.Err("`dataArgsBuilder is not defined`");if(this.tokenComputer===void 0)throw new Eo.Err("`tokenComputer is not defined`")}createTransactionForNativeTokenTransfer(e){this.ensureMembersAreDefined();let r=e.data||new Uint8Array;return new Kf.Transaction({sender:e.sender.bech32(),receiver:e.receiver.bech32(),chainID:this.config.chainID,gasLimit:this.computeGasForMoveBalance(this.config,r),data:r,value:e.nativeAmount})}createTransactionForESDTTokenTransfer(e){this.ensureMembersAreDefined();let r=e.tokenTransfers.length;if(r===0)throw new Eo.ErrBadUsage("No token transfer has been provided");if(r===1)return this.createSingleESDTTransferTransaction(e);let n=this.tokenTransfersDataBuilder.buildDataPartsForMultiESDTNFTTransfer(e.receiver,e.tokenTransfers),i=this.config.gasLimitMultiESDTNFTTransfer*BigInt(r)+BigInt(qO);return new UO.TransactionBuilder({config:this.config,sender:e.sender,receiver:e.sender,dataParts:n,gasLimit:i,addDataMovementGas:!0}).build()}createEGLDTransfer(e){if(!this.isGasEstimatorDefined())throw new Eo.Err("You are calling a legacy function to create an EGLD transfer transaction. If this is your intent, then instantiate the class using a `GasEstimator`. Or, instead, use the new, recommended `createTransactionForNativeTokenTransfer` method.");let r=e.data?.length()||0,n=this.gasEstimator.forEGLDTransfer(r);return new Kf.Transaction({nonce:e.nonce,value:e.value,receiver:e.receiver,sender:e.sender,gasPrice:e.gasPrice,gasLimit:e.gasLimit||n,data:e.data,chainID:e.chainID})}createESDTTransfer(e){if(!this.isGasEstimatorDefined())throw new Eo.Err("You are calling a legacy function to create an ESDT transfer transaction. If this is your intent, then instantiate the class using a `GasEstimator`. Or, instead, use the new, recommended `createTransactionForESDTTokenTransfer` method.");let{argumentsString:r}=new rn.ArgSerializer().valuesToString([rn.BytesValue.fromUTF8(e.tokenTransfer.tokenIdentifier),new rn.BigUIntValue(e.tokenTransfer.valueOf())]),n=`ESDTTransfer@${r}`,i=new CE.TransactionPayload(n),s=i.length()||0,o=this.gasEstimator.forESDTTransfer(s);return new Kf.Transaction({nonce:e.nonce,receiver:e.receiver,sender:e.sender,gasPrice:e.gasPrice,gasLimit:e.gasLimit||o,data:i,chainID:e.chainID})}createESDTNFTTransfer(e){if(!this.isGasEstimatorDefined())throw new Eo.Err("You are calling a legacy function to create an ESDTNFT transfer transaction. If this is your intent, then instantiate the class using a `GasEstimator`. Or, instead, use the new, recommended `createTransactionForESDTTokenTransfer` method.");let{argumentsString:r}=new rn.ArgSerializer().valuesToString([rn.BytesValue.fromUTF8(e.tokenTransfer.tokenIdentifier),new rn.U64Value(e.tokenTransfer.nonce),new rn.BigUIntValue(e.tokenTransfer.valueOf()),new rn.AddressValue(e.destination)]),n=`ESDTNFTTransfer@${r}`,i=new CE.TransactionPayload(n),s=i.length()||0,o=this.gasEstimator.forESDTNFTTransfer(s);return new Kf.Transaction({nonce:e.nonce,receiver:e.sender,sender:e.sender,gasPrice:e.gasPrice,gasLimit:e.gasLimit||o,data:i,chainID:e.chainID})}createMultiESDTNFTTransfer(e){if(!this.isGasEstimatorDefined())throw new Eo.Err("You are calling a legacy function to create a MultiESDTNFT transfer transaction. If this is your intent, then instantiate the class using a `GasEstimator`. Or, instead, use the new, recommended `createTransactionForESDTTokenTransfer` method.");let r=[new rn.AddressValue(e.destination),new rn.U16Value(e.tokenTransfers.length)];for(let a of e.tokenTransfers)r.push(rn.BytesValue.fromUTF8(a.tokenIdentifier),new rn.U64Value(a.nonce),new rn.BigUIntValue(a.valueOf()));let{argumentsString:n}=new rn.ArgSerializer().valuesToString(r),i=`MultiESDTNFTTransfer@${n}`,s=new CE.TransactionPayload(i),o=s.length()||0,u=this.gasEstimator.forMultiESDTNFTTransfer(o,e.tokenTransfers.length);return new Kf.Transaction({nonce:e.nonce,receiver:e.sender,sender:e.sender,gasPrice:e.gasPrice,gasLimit:e.gasLimit||u,data:s,chainID:e.chainID})}createSingleESDTTransferTransaction(e){this.ensureMembersAreDefined();let r=[],n=e.tokenTransfers[0],i=0n,s=e.receiver;return this.tokenComputer.isFungible(n.token)?(r=this.tokenTransfersDataBuilder.buildDataPartsForESDTTransfer(n),i=this.config.gasLimitESDTTransfer+BigInt(SW)):(r=this.tokenTransfersDataBuilder.buildDataPartsForSingleESDTNFTTransfer(n,s),i=this.config.gasLimitESDTNFTTransfer+BigInt(qO),s=e.sender),new UO.TransactionBuilder({config:this.config,sender:e.sender,receiver:s,dataParts:r,gasLimit:i,addDataMovementGas:!0}).build()}computeGasForMoveBalance(e,r){return e.minGasLimit+e.gasLimitPerByte*BigInt(r.length)}};l0.TransferTransactionsFactory=NE});var kO=D(h0=>{"use strict";h();Object.defineProperty(h0,"__esModule",{value:!0});h0.AccountTransactionsFactory=void 0;var IW=ke(),f0=dc(),xE=class{constructor(e){this.config=e.config}createTransactionForSavingKeyValue(e){let r="SaveKeyValue",n=this.computeDataPartsForSavingKeyValue(e.keyValuePairs),i=[r,...n],s=this.computeExtraGasForSavingKeyValue(e.keyValuePairs);return new f0.TransactionBuilder({config:this.config,sender:e.sender,receiver:e.sender,dataParts:i,gasLimit:s,addDataMovementGas:!0}).build()}computeExtraGasForSavingKeyValue(e){let r=0n;return e.forEach((n,i)=>{r+=this.config.gasLimitPersistPerByte*BigInt(i.length+n.length)+this.config.gasLimitStorePerByte*BigInt(n.length)}),r+this.config.gasLimitSaveKeyValue}computeDataPartsForSavingKeyValue(e){let r=[];return e.forEach((n,i)=>{r.push(p.Buffer.from(i).toString("hex"),p.Buffer.from(n).toString("hex"))}),r}createTransactionForSettingGuardian(e){let r=["SetGuardian",IW.Address.fromBech32(e.guardianAddress.bech32()).toHex(),p.Buffer.from(e.serviceID).toString("hex")];return new f0.TransactionBuilder({config:this.config,sender:e.sender,receiver:e.sender,dataParts:r,gasLimit:this.config.gasLimitSetGuardian,addDataMovementGas:!0}).build()}createTransactionForGuardingAccount(e){let r=["GuardAccount"];return new f0.TransactionBuilder({config:this.config,sender:e.sender,receiver:e.sender,dataParts:r,gasLimit:this.config.gasLimitGuardAccount,addDataMovementGas:!0}).build()}createTransactionForUnguardingAccount(e){let r=["UnGuardAccount"];return new f0.TransactionBuilder({config:this.config,sender:e.sender,receiver:e.sender,dataParts:r,gasLimit:this.config.gasLimitUnguardAccount,addDataMovementGas:!0}).build()}};h0.AccountTransactionsFactory=xE});var d0=D(dn=>{"use strict";h();var _W=dn&&dn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Ua=dn&&dn.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&_W(e,t,r)};Object.defineProperty(dn,"__esModule",{value:!0});Ua(bO(),dn);Ua(PO(),dn);Ua(SE(),dn);Ua(FO(),dn);Ua(TE(),dn);Ua(VO(),dn);Ua(kO(),dn)});var PE=D(kn=>{"use strict";h();var TW=kn&&kn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),CW=kn&&kn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),NW=kn&&kn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&TW(e,t,r);return CW(e,t),e},xW=kn&&kn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(kn,"__esModule",{value:!0});kn.InteractionChecker=void 0;var OE=NW(Ie()),OW=xW((nr(),xe(hr))),DE=class{checkInteraction(e,r){this.checkPayable(e,r),this.checkArguments(e,r)}checkPayable(e,r){let n=!new OW.default(e.getValue().toString()).isZero(),i=r.modifiers.isPayableInEGLD();if(n&&!i)throw new OE.ErrContractInteraction("cannot send EGLD value to non-payable")}checkArguments(e,r){let n=r.input,i=e.getArguments(),s=n.length,o=i.length;if(s!=o)throw new OE.ErrContractInteraction(`bad arguments, expected: ${s}, got: ${o}`);for(let u=0;u<s;u++){let a=n[u].type,f=i[u].getType();if(!a.isAssignableFrom(f))throw new OE.ErrContractInteraction(`type mismatch at index ${u}, expected: ${a}, got: ${f}`)}}};kn.InteractionChecker=DE});var Wf=D(g0=>{"use strict";h();Object.defineProperty(g0,"__esModule",{value:!0});g0.Query=void 0;var DW=ke(),PW=lc(),RE=class{constructor(e){this.caller=e.caller||DW.Address.empty(),this.address=e.address,this.func=e.func,this.args=e.args||[],this.value=e.value||0}getEncodedArguments(){return new PW.ArgSerializer().valuesToStrings(this.args)}};g0.Query=RE});var LE=D(p0=>{"use strict";h();Object.defineProperty(p0,"__esModule",{value:!0});p0.Interaction=void 0;var HO=ke(),RW=hE(),BW=yr(),BE=Ia(),GO=d0(),MW=PE(),LW=Wf(),ME=class{constructor(e,r,n){this.nonce=0,this.value="0",this.gasLimit=0,this.gasPrice=void 0,this.chainID="",this.querent=HO.Address.empty(),this.sender=HO.Address.empty(),this.version=BW.TRANSACTION_VERSION_DEFAULT,this.contract=e,this.function=r,this.args=n,this.tokenTransfers=[]}getContractAddress(){return this.contract.getAddress()}getFunction(){return this.function}getEndpoint(){return this.contract.getEndpoint(this.function)}getArguments(){return this.args}getValue(){return this.value}getTokenTransfers(){return this.tokenTransfers}getGasLimit(){return this.gasLimit}getExplicitReceiver(){return this.explicitReceiver}buildTransaction(){RW.Compatibility.guardAddressIsSetAndNonZero(this.sender,"'sender' of interaction","use interaction.withSender()");let e=new GO.TransactionsFactoryConfig({chainID:this.chainID.valueOf()}),n=new GO.SmartContractTransactionsFactory({config:e}).createTransactionForExecute({sender:this.sender,contract:this.contract.getAddress(),function:this.function.valueOf(),gasLimit:BigInt(this.gasLimit.valueOf()),arguments:this.args,nativeTransferAmount:BigInt(this.value.toString()),tokenTransfers:this.tokenTransfers});return n.chainID=this.chainID.valueOf(),n.nonce=BigInt(this.nonce.valueOf()),n.version=this.version,this.gasPrice&&(n.gasPrice=BigInt(this.gasPrice.valueOf())),n}buildQuery(){return new LW.Query({address:this.contract.getAddress(),func:this.function,args:this.args,value:this.value,caller:this.querent})}withValue(e){return this.value=e,this}withSingleESDTTransfer(e){return this.tokenTransfers=[e].map(r=>new BE.TokenTransfer(r)),this}withSingleESDTNFTTransfer(e){return this.tokenTransfers=[e].map(r=>new BE.TokenTransfer(r)),this}withMultiESDTNFTTransfer(e){return this.tokenTransfers=e.map(r=>new BE.TokenTransfer(r)),this}withGasLimit(e){return this.gasLimit=e,this}withGasPrice(e){return this.gasPrice=e,this}withNonce(e){return this.nonce=e,this}useThenIncrementNonceOf(e){return this.withNonce(e.getNonceThenIncrement())}withChainID(e){return this.chainID=e,this}withSender(e){return this.sender=e,this}withVersion(e){return this.version=e,this}withQuerent(e){return this.querent=e,this}withExplicitReceiver(e){return this.explicitReceiver=e,this}check(){return new MW.InteractionChecker().checkInteraction(this,this.getEndpoint()),this}};p0.Interaction=ME});var FE=D(jO=>{"use strict";h();Object.defineProperty(jO,"__esModule",{value:!0})});var WO=D(mc=>{"use strict";h();Object.defineProperty(mc,"__esModule",{value:!0});mc.bech32m=mc.bech32=void 0;var m0="qpzry9x8gf2tvdw0s3jn54khce6mua7l",QO={};for(let t=0;t<m0.length;t++){let e=m0.charAt(t);QO[e]=t}function pc(t){let e=t>>25;return(t&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}function zO(t){let e=1;for(let r=0;r<t.length;++r){let n=t.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+t+")";e=pc(e)^n>>5}e=pc(e);for(let r=0;r<t.length;++r){let n=t.charCodeAt(r);e=pc(e)^n&31}return e}function UE(t,e,r,n){let i=0,s=0,o=(1<<r)-1,u=[];for(let a=0;a<t.length;++a)for(i=i<<e|t[a],s+=e;s>=r;)s-=r,u.push(i>>s&o);if(n)s>0&&u.push(i<<r-s&o);else{if(s>=e)return"Excess padding";if(i<<r-s&o)return"Non-zero padding"}return u}function FW(t){return UE(t,8,5,!0)}function UW(t){let e=UE(t,5,8,!1);if(Array.isArray(e))return e}function qW(t){let e=UE(t,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}function KO(t){let e;t==="bech32"?e=1:e=734539939;function r(o,u,a){if(a=a||90,o.length+7+u.length>a)throw new TypeError("Exceeds length limit");o=o.toLowerCase();let c=zO(o);if(typeof c=="string")throw new Error(c);let f=o+"1";for(let d=0;d<u.length;++d){let w=u[d];if(w>>5)throw new Error("Non 5-bit word");c=pc(c)^w,f+=m0.charAt(w)}for(let d=0;d<6;++d)c=pc(c);c^=e;for(let d=0;d<6;++d){let w=c>>(5-d)*5&31;f+=m0.charAt(w)}return f}function n(o,u){if(u=u||90,o.length<8)return o+" too short";if(o.length>u)return"Exceeds length limit";let a=o.toLowerCase(),c=o.toUpperCase();if(o!==a&&o!==c)return"Mixed-case string "+o;o=a;let f=o.lastIndexOf("1");if(f===-1)return"No separator character for "+o;if(f===0)return"Missing prefix for "+o;let d=o.slice(0,f),w=o.slice(f+1);if(w.length<6)return"Data too short";let A=zO(d);if(typeof A=="string")return A;let _=[];for(let N=0;N<w.length;++N){let P=w.charAt(N),V=QO[P];if(V===void 0)return"Unknown character "+P;A=pc(A)^V,!(N+6>=w.length)&&_.push(V)}return A!==e?"Invalid checksum for "+o:{prefix:d,words:_}}function i(o,u){let a=n(o,u);if(typeof a=="object")return a}function s(o,u){let a=n(o,u);if(typeof a=="object")return a;throw new Error(a)}return{decodeUnsafe:i,decode:s,encode:r,toWords:FW,fromWordsUnsafe:UW,fromWords:qW}}mc.bech32=KO("bech32");mc.bech32m=KO("bech32m")});var YO=D(Hn=>{"use strict";h();Object.defineProperty(Hn,"__esModule",{value:!0});Hn.TokenTransferProperties=Hn.TransactionMetadataTransfer=Hn.TransactionMetadata=Hn.TransactionToDecode=Hn.TransactionDecoder=void 0;var $O=WO(),qE=class{getTransactionMetadata(e){let r=this.getNormalTransactionMetadata(e),n=this.getEsdtTransactionMetadata(r);if(n)return n;let i=this.getNftTransferMetadata(r);if(i)return i;let s=this.getMultiTransferMetadata(r);return s||r}getNormalTransactionMetadata(e){let r=new qa;if(r.sender=e.sender,r.receiver=e.receiver,r.value=BigInt(e.value),e.data){let i=this.base64Decode(e.data).split("@"),s=i.slice(1);if(s.every(o=>this.isSmartContractArgument(o))&&(r.functionName=i[0],r.functionArgs=s),r.functionName==="relayedTx"&&r.functionArgs&&r.functionArgs.length===1)try{let o=JSON.parse(this.hexToString(r.functionArgs[0]));return o.value=o.value.toString(),o.sender=this.bech32Encode(this.base64ToHex(o.sender)),o.receiver=this.bech32Encode(this.base64ToHex(o.receiver)),this.getNormalTransactionMetadata(o)}catch{}if(r.functionName==="relayedTxV2"&&r.functionArgs&&r.functionArgs.length===4)try{let o=new y0;return o.sender=e.receiver,o.receiver=this.bech32Encode(r.functionArgs[0]),o.data=this.base64Encode(this.hexToString(r.functionArgs[2])),o.value="0",this.getNormalTransactionMetadata(o)}catch{}}return r}getMultiTransferMetadata(e){if(e.sender!==e.receiver||e.functionName!=="MultiESDTNFTTransfer")return;let r=e.functionArgs;if(!r||r.length<3||!this.isAddressValid(r[0]))return;let n=this.bech32Encode(r[0]),i=this.hexToNumber(r[1]),s=new qa;s.transfers||(s.transfers=[]);let o=2;for(let u=0;u<i;u++){let a=this.hexToString(r[o++]),c=r[o++],f=this.hexToBigInt(r[o++]);c?s.transfers.push({value:f,properties:{collection:a,identifier:`${a}-${c}`}}):s.transfers.push({value:f,properties:{token:a}})}return s.sender=e.sender,s.receiver=n,r.length>o&&(s.functionName=this.hexToString(r[o++]),s.functionArgs=r.slice(o++)),s}getNftTransferMetadata(e){if(e.sender!==e.receiver||e.functionName!=="ESDTNFTTransfer")return;let r=e.functionArgs;if(!r||r.length<4||!this.isAddressValid(r[3]))return;let n=this.hexToString(r[0]),i=r[1],s=this.hexToBigInt(r[2]),o=this.bech32Encode(r[3]),u=new qa;return u.sender=e.sender,u.receiver=o,u.value=s,r.length>4&&(u.functionName=this.hexToString(r[4]),u.functionArgs=r.slice(5)),u.transfers=[{value:s,properties:{collection:n,identifier:`${n}-${i}`}}],u}base64Encode(e){return p.Buffer.from(e).toString("base64")}base64Decode(e){return p.Buffer.from(e,"base64").toString("binary")}hexToNumber(e){return parseInt(e,16)}getEsdtTransactionMetadata(e){if(e.functionName!=="ESDTTransfer")return;let r=e.functionArgs;if(!r||r.length<2)return;let n=this.hexToString(r[0]),i=this.hexToBigInt(r[1]),s=new qa;return s.sender=e.sender,s.receiver=e.receiver,r.length>2&&(s.functionName=this.hexToString(r[2]),s.functionArgs=r.slice(3)),s.transfers=[{value:i,properties:{identifier:n}}],s.value=i,s}bech32Encode(e){let r=p.Buffer.from(e,"hex"),n=$O.bech32.toWords(r);return $O.bech32.encode("erd",n)}isAddressValid(e){return p.Buffer.from(e,"hex").length==32}isSmartContractArgument(e){return!(!this.isHex(e)||e.length%2!==0)}isHex(e){return new RegExp(/[^a-f0-9]/gi).test(e)===!1}base64ToHex(e){return p.Buffer.from(e,"base64").toString("hex")}hexToString(e){return p.Buffer.from(e,"hex").toString("ascii")}hexToBigInt(e){return BigInt(e?"0x"+e:0)}};Hn.TransactionDecoder=qE;var y0=class{constructor(){this.sender="",this.receiver="",this.data="",this.value="0"}};Hn.TransactionToDecode=y0;var qa=class{constructor(){this.sender="",this.receiver="",this.value=BigInt(0)}};Hn.TransactionMetadata=qa;var VE=class{constructor(){this.value=BigInt(0)}};Hn.TransactionMetadataTransfer=VE;var kE=class{};Hn.TokenTransferProperties=kE});var HE=D(w0=>{"use strict";h();Object.defineProperty(w0,"__esModule",{value:!0});w0.ReturnCode=void 0;var yt=class t{constructor(e){this.text=e}static fromBuffer(e){let r=e.toString();return new t(r)}toString(){return this.text}valueOf(){return this.text}equals(e){return e?this.text==e.text:!1}isSuccess(){return this.equals(t.Ok)||this.equals(t.None)}};w0.ReturnCode=yt;yt.None=new yt("");yt.Ok=new yt("ok");yt.FunctionNotFound=new yt("function not found");yt.FunctionWrongSignature=new yt("wrong signature for function");yt.ContractNotFound=new yt("contract not found");yt.UserError=new yt("user error");yt.OutOfGas=new yt("out of gas");yt.AccountCollision=new yt("account collision");yt.OutOfFunds=new yt("out of funds");yt.CallStackOverFlow=new yt("call stack overflow");yt.ContractInvalid=new yt("contract invalid");yt.ExecutionFailed=new yt("execution failed");yt.Unknown=new yt("unknown")});var ZO=D(v0=>{"use strict";h();Object.defineProperty(v0,"__esModule",{value:!0});v0.ResultsParser=void 0;var VW=YO(),JO=ke(),XO=Ie(),bo=so(),kW=lc(),yc=HE(),wc;(function(t){t.OnTransactionCompleted="completedTxEvent",t.OnSignalError="signalError",t.OnWriteLog="writeLog"})(wc||(wc={}));var GE;(function(t){t.TooMuchGas="@too much gas provided for processing"})(GE||(GE={}));var HW={argsSerializer:new kW.ArgSerializer},jE=class{constructor(e){e={...HW,...e},this.argsSerializer=e.argsSerializer}parseQueryResponse(e,r){let n=e.getReturnDataParts(),i=this.argsSerializer.buffersToValues(n,r.output);return{returnCode:new yc.ReturnCode(e.returnCode.toString()),returnMessage:e.returnMessage,values:i,firstValue:i[0],secondValue:i[1],thirdValue:i[2],lastValue:i[i.length-1]}}parseUntypedQueryResponse(e){return{returnCode:new yc.ReturnCode(e.returnCode.toString()),returnMessage:e.returnMessage,values:e.getReturnDataParts()}}parseOutcome(e,r){let n=this.parseUntypedOutcome(e);return this.parseOutcomeFromUntypedBundle(n,r)}parseOutcomeFromUntypedBundle(e,r){let n=this.argsSerializer.buffersToValues(e.values,r.output);return{returnCode:e.returnCode,returnMessage:e.returnMessage,values:n,firstValue:n[0],secondValue:n[1],thirdValue:n[2],lastValue:n[n.length-1]}}parseUntypedOutcome(e){let r,n=this.parseTransactionMetadata(e);if(r=this.createBundleOnSimpleMoveBalance(e),r)return bo.Logger.trace("parseUntypedOutcome(): on simple move balance"),r;if(r=this.createBundleOnInvalidTransaction(e),r)return bo.Logger.trace("parseUntypedOutcome(): on invalid transaction"),r;if(r=this.createBundleOnEasilyFoundResultWithReturnData(e.contractResults),r)return bo.Logger.trace("parseUntypedOutcome(): on easily found result with return data"),r;if(r=this.createBundleOnSignalError(e.logs),r)return bo.Logger.trace("parseUntypedOutcome(): on signal error"),r;if(r=this.createBundleOnTooMuchGasWarning(e.logs),r)return bo.Logger.trace("parseUntypedOutcome(): on 'too much gas' warning"),r;if(r=this.createBundleOnWriteLogWhereFirstTopicEqualsAddress(e.logs,e.sender),r)return bo.Logger.trace("parseUntypedOutcome(): on writelog with topics[0] == tx.sender"),r;if(r=this.createBundleWithCustomHeuristics(e,n),r)return bo.Logger.trace("parseUntypedOutcome(): with custom heuristics"),r;if(r=this.createBundleWithFallbackHeuristics(e,n),r)return bo.Logger.trace("parseUntypedOutcome(): with fallback heuristics"),r;throw new XO.ErrCannotParseContractResults(`transaction ${e.hash.toString()}`)}parseTransactionMetadata(e){return new VW.TransactionDecoder().getTransactionMetadata({sender:e.sender.bech32(),receiver:e.receiver.bech32(),data:e.data.toString("base64"),value:e.value.toString()})}createBundleOnSimpleMoveBalance(e){let r=e.contractResults.items.length==0,n=e.logs.events.length==0;return r&&n?{returnCode:yc.ReturnCode.None,returnMessage:yc.ReturnCode.None.toString(),values:[]}:null}createBundleOnInvalidTransaction(e){return e.status.isInvalid()&&e.receipt.data?{returnCode:yc.ReturnCode.OutOfFunds,returnMessage:e.receipt.data,values:[]}:null}createBundleOnEasilyFoundResultWithReturnData(e){let r=e.items.find(o=>o.nonce.valueOf()!=0&&o.data.startsWith("@"));if(!r)return null;let{returnCode:n,returnDataParts:i}=this.sliceDataFieldInParts(r.data),s=r.returnMessage||n.toString();return{returnCode:n,returnMessage:s,values:i}}createBundleOnSignalError(e){let r=e.findSingleOrNoneEvent(wc.OnSignalError);if(!r)return null;let{returnCode:n,returnDataParts:i}=this.sliceDataFieldInParts(r.data),o=r.getLastTopic()?.toString()||n.toString();return{returnCode:n,returnMessage:o,values:i}}createBundleOnTooMuchGasWarning(e){let r=e.findSingleOrNoneEvent(wc.OnWriteLog,u=>u.findFirstOrNoneTopic(a=>a.toString().startsWith(GE.TooMuchGas))!=null);if(!r)return null;let{returnCode:n,returnDataParts:i}=this.sliceDataFieldInParts(r.data),o=r.getLastTopic()?.toString()||n.toString();return{returnCode:n,returnMessage:o,values:i}}createBundleOnWriteLogWhereFirstTopicEqualsAddress(e,r){let n=new JO.Address(r.bech32()).hex(),i=e.findSingleOrNoneEvent(wc.OnWriteLog,a=>a.findFirstOrNoneTopic(c=>c.hex()==n)!=null);if(!i)return null;let{returnCode:s,returnDataParts:o}=this.sliceDataFieldInParts(i.data),u=s.toString();return{returnCode:s,returnMessage:u,values:o}}createBundleWithCustomHeuristics(e,r){return null}createBundleWithFallbackHeuristics(e,r){let n=new JO.Address(r.receiver);for(let i of e.contractResults.items){let s=i.logs.findSingleOrNoneEvent(wc.OnWriteLog,o=>{let u=o.address.bech32()==e.sender.bech32(),a=o.topics[0]?.hex()==n.hex();return u&&a});if(s){let{returnCode:o,returnDataParts:u}=this.sliceDataFieldInParts(s.data),a=o.toString();return{returnCode:o,returnMessage:a,values:u}}}return null}sliceDataFieldInParts(e){let r=1;e.startsWith("ESDTTransfer")&&(r=3);let n=this.argsSerializer.stringToBuffers(e),i=n[r]||p.Buffer.from([]),s=n.slice(r+1);if(i.length==0)throw new XO.ErrCannotParseContractResults("no return code");return{returnCode:yc.ReturnCode.fromBuffer(i),returnDataParts:s}}parseEvent(e,r){let n=e.topics.map(o=>p.Buffer.from(o.valueOf())).slice(1),i=e.dataPayload?.valueOf()||p.Buffer.from([]),s=e.additionalData?.map(o=>p.Buffer.from(o.valueOf()))||[];return s.length===0&&i.length&&s.push(p.Buffer.from(i)),this.doParseEvent({topics:n,dataItems:s,eventDefinition:r})}doParseEvent(e){let r={},n=e.eventDefinition.inputs.filter(u=>u.indexed),i=this.argsSerializer.buffersToValues(e.topics,n);for(let u=0;u<n.length;u++)r[n[u].name]=i[u].valueOf();let s=e.eventDefinition.inputs.filter(u=>!u.indexed),o=this.argsSerializer.buffersToValues(e.dataItems,s);for(let u=0;u<s.length;u++)r[s[u].name]=o[u].valueOf();return r}};v0.ResultsParser=jE});var nD=D(E0=>{"use strict";h();Object.defineProperty(E0,"__esModule",{value:!0});E0.SmartContract=void 0;var A0=ke(),zE=hE(),QE=yr(),GW=Ie(),KE=SE(),WE=TE(),jW=Bn(),eD=uE(),tD=lE(),rD=LE(),zW=n0(),QW=Wf(),$E=class{constructor(e={}){this.address=A0.Address.empty(),this.methodsExplicit={},this.methods={},this.address=e.address||A0.Address.empty(),this.abi=e.abi,this.abi&&this.setupMethods()}setupMethods(){let e=this,r=this.getAbi();for(let n of r.getEndpoints()){let i=n.name;this.methodsExplicit[i]=function(s){let o=new tD.ContractFunction(i);return new rD.Interaction(e,o,s||[])},this.methods[i]=function(s){let o=new tD.ContractFunction(i),u=zW.NativeSerializer.nativeToTypedValues(s||[],n);return new rD.Interaction(e,o,u||[])}}}setAddress(e){this.address=e}getAddress(){return this.address}getAbi(){return jW.guardValueIsSet("abi",this.abi),this.abi}getEndpoint(e){return this.getAbi().getEndpoint(e)}deploy({deployer:e,code:r,codeMetadata:n,initArguments:i,value:s,gasLimit:o,gasPrice:u,chainID:a}){zE.Compatibility.guardAddressIsSetAndNonZero(e,"'deployer' of SmartContract.deploy()","pass the actual address to deploy()");let c=new WE.TransactionsFactoryConfig({chainID:a.valueOf()}),f=new KE.SmartContractTransactionsFactory({config:c,abi:this.abi}),d=p.Buffer.from(r.toString(),"hex"),w=this.getMetadataPropertiesAsObject(n),A=f.createTransactionForDeploy({sender:e,bytecode:d,gasLimit:BigInt(o.valueOf()),arguments:i,isUpgradeable:w.upgradeable,isReadable:w.readable,isPayable:w.payable,isPayableBySmartContract:w.payableBySc});return A.setChainID(a),A.setValue(s??0),A.setGasPrice(u??QE.TRANSACTION_MIN_GAS_PRICE),A}getMetadataPropertiesAsObject(e){let r;return e?r=eD.CodeMetadata.fromBytes(p.Buffer.from(e.toString(),"hex")):r=new eD.CodeMetadata,r.toJSON()}upgrade({caller:e,code:r,codeMetadata:n,initArguments:i,value:s,gasLimit:o,gasPrice:u,chainID:a}){zE.Compatibility.guardAddressIsSetAndNonZero(e,"'caller' of SmartContract.upgrade()","pass the actual address to upgrade()"),this.ensureHasAddress();let c=new WE.TransactionsFactoryConfig({chainID:a.valueOf()}),f=new KE.SmartContractTransactionsFactory({config:c,abi:this.abi}),d=Uint8Array.from(p.Buffer.from(r.toString(),"hex")),w=this.getMetadataPropertiesAsObject(n),A=f.createTransactionForUpgrade({sender:e,contract:this.getAddress(),bytecode:d,gasLimit:BigInt(o.valueOf()),arguments:i,isUpgradeable:w.upgradeable,isReadable:w.readable,isPayable:w.payable,isPayableBySmartContract:w.payableBySc});return A.setChainID(a),A.setValue(s??0),A.setGasPrice(u??QE.TRANSACTION_MIN_GAS_PRICE),A}call({func:e,args:r,value:n,gasLimit:i,receiver:s,gasPrice:o,chainID:u,caller:a}){zE.Compatibility.guardAddressIsSetAndNonZero(a,"'caller' of SmartContract.call()","pass the actual address to call()"),this.ensureHasAddress();let c=new WE.TransactionsFactoryConfig({chainID:u.valueOf()}),f=new KE.SmartContractTransactionsFactory({config:c,abi:this.abi});r=r||[],n=n||0;let d=f.createTransactionForExecute({sender:a,contract:s||this.getAddress(),function:e.toString(),gasLimit:BigInt(i.valueOf()),arguments:r});return d.setChainID(u),d.setValue(n),d.setGasPrice(o??QE.TRANSACTION_MIN_GAS_PRICE),d}createQuery({func:e,args:r,value:n,caller:i}){return this.ensureHasAddress(),new QW.Query({address:this.getAddress(),func:e,args:r,value:n,caller:i})}ensureHasAddress(){if(!this.getAddress().bech32())throw new GW.ErrContractHasNoAddress}static computeAddress(e,r){let n=A0.Address.fromBech32(e.bech32());return new A0.AddressComputer().computeContractAddress(n,BigInt(r.valueOf()))}};E0.SmartContract=$E});var iD=D(So=>{"use strict";h();Object.defineProperty(So,"__esModule",{value:!0});So.ContractCallPayloadBuilder=So.ContractUpgradePayloadBuilder=So.ContractDeployPayloadBuilder=void 0;var KW=yr(),ZE=Bs(),eb=Bn(),WW=lc(),YE=class{constructor(){this.code=null,this.codeMetadata="",this.arguments=[]}setCode(e){return this.code=e,this}setCodeMetadata(e){return this.codeMetadata=e,this}addInitArg(e){return this.arguments.push(e),this}setInitArgs(e){return this.arguments=e,this}build(){eb.guardValueIsSet("code",this.code);let e=this.code.toString(),r=this.codeMetadata.toString(),n=`${e}@${KW.WasmVirtualMachine}@${r}`;return n=tb(n,this.arguments),new ZE.TransactionPayload(n)}};So.ContractDeployPayloadBuilder=YE;var JE=class{constructor(){this.code=null,this.codeMetadata="",this.arguments=[]}setCode(e){return this.code=e,this}setCodeMetadata(e){return this.codeMetadata=e,this}addInitArg(e){return this.arguments.push(e),this}setInitArgs(e){return this.arguments=e,this}build(){eb.guardValueIsSet("code",this.code);let e=this.code.toString(),r=this.codeMetadata.toString(),n=`upgradeContract@${e}@${r}`;return n=tb(n,this.arguments),new ZE.TransactionPayload(n)}};So.ContractUpgradePayloadBuilder=JE;var XE=class{constructor(){this.contractFunction=null,this.arguments=[]}setFunction(e){return this.contractFunction=e,this}addArg(e){return this.arguments.push(e),this}setArgs(e){return this.arguments=e,this}build(){eb.guardValueIsSet("calledFunction",this.contractFunction);let e=this.contractFunction.toString();return e=tb(e,this.arguments),new ZE.TransactionPayload(e)}};So.ContractCallPayloadBuilder=XE;function tb(t,e){let{argumentsString:r,count:n}=new WW.ArgSerializer().valuesToString(e);return n==0?t:`${t}@${r}`}});var Vn=D(Xt=>{"use strict";h();var $W=Xt&&Xt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),kr=Xt&&Xt.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&$W(e,t,r)};Object.defineProperty(Xt,"__esModule",{value:!0});kr(lc(),Xt);kr(EO(),Xt);kr(ZA(),Xt);kr(uE(),Xt);kr(lE(),Xt);kr(LE(),Xt);kr(PE(),Xt);kr(FE(),Xt);kr(n0(),Xt);kr(Wf(),Xt);kr(ZO(),Xt);kr(HE(),Xt);kr(nD(),Xt);kr(iD(),Xt);kr($t(),Xt)});var vc=D(ar=>{"use strict";h();Object.defineProperty(ar,"__esModule",{value:!0});ar.gatherAllEvents=ar.findEventsByFirstTopic=ar.findEventsByIdentifier=ar.findEventsByPredicate=ar.SmartContractCallOutcome=ar.TransactionOutcome=ar.SmartContractResult=ar.TransactionLogs=ar.TransactionEvent=void 0;var rb=class{constructor(e){this.address="",this.identifier="",this.topics=[],this.dataItems=[],Object.assign(this,e)}};ar.TransactionEvent=rb;var $f=class{constructor(e){this.address="",this.events=[],Object.assign(this,e)}};ar.TransactionLogs=$f;var nb=class{constructor(e){this.sender="",this.receiver="",this.data=new Uint8Array,this.logs=new $f({}),Object.assign(this,e)}};ar.SmartContractResult=nb;var ib=class{constructor(e){this.directSmartContractCallOutcome=new b0({}),this.smartContractResults=[],this.logs=new $f({}),Object.assign(this,e)}};ar.TransactionOutcome=ib;var b0=class{constructor(e){this.function="",this.returnDataParts=[],this.returnMessage="",this.returnCode="",Object.assign(this,e)}};ar.SmartContractCallOutcome=b0;function sb(t,e){return sD(t).filter(e)}ar.findEventsByPredicate=sb;function YW(t,e){return sb(t,r=>r.identifier==e)}ar.findEventsByIdentifier=YW;function JW(t,e){return sb(t,r=>r.topics[0]?.toString()==e)}ar.findEventsByFirstTopic=JW;function sD(t){let e=[];e.push(...t.logs.events);for(let r of t.smartContractResults)e.push(...r.logs.events);return e}ar.gatherAllEvents=sD});var ab=D(S0=>{"use strict";h();Object.defineProperty(S0,"__esModule",{value:!0});S0.TransactionsConverter=void 0;var XW=Vn(),ZW=en(),Ac=vc(),ob=class{transactionToPlainObject(e){return{nonce:Number(e.nonce),value:e.value.toString(),receiver:e.receiver,sender:e.sender,senderUsername:this.toBase64OrUndefined(e.senderUsername),receiverUsername:this.toBase64OrUndefined(e.receiverUsername),gasPrice:Number(e.gasPrice),gasLimit:Number(e.gasLimit),data:this.toBase64OrUndefined(e.data),chainID:e.chainID.valueOf(),version:e.version,options:e.options==0?void 0:e.options,guardian:e.guardian?e.guardian:void 0,signature:this.toHexOrUndefined(e.signature),guardianSignature:this.toHexOrUndefined(e.guardianSignature)}}toBase64OrUndefined(e){return e&&e.length?p.Buffer.from(e).toString("base64"):void 0}toHexOrUndefined(e){return e&&e.length?p.Buffer.from(e).toString("hex"):void 0}plainObjectToTransaction(e){return new ZW.Transaction({nonce:BigInt(e.nonce),value:BigInt(e.value||""),receiver:e.receiver,receiverUsername:this.bufferFromBase64(e.receiverUsername).toString(),sender:e.sender,senderUsername:this.bufferFromBase64(e.senderUsername).toString(),guardian:e.guardian,gasPrice:BigInt(e.gasPrice),gasLimit:BigInt(e.gasLimit),data:this.bufferFromBase64(e.data),chainID:String(e.chainID),version:Number(e.version),options:Number(e.options),signature:this.bufferFromHex(e.signature),guardianSignature:this.bufferFromHex(e.guardianSignature)})}bufferFromBase64(e){return p.Buffer.from(e||"","base64")}bufferFromHex(e){return p.Buffer.from(e||"","hex")}transactionOnNetworkToOutcome(e){let n=new XW.ResultsParser().parseUntypedOutcome(e),i=new Ac.SmartContractCallOutcome({function:e.function,returnCode:n.returnCode.toString(),returnMessage:n.returnMessage,returnDataParts:n.values}),s=e.contractResults.items.map(u=>this.smartContractResultOnNetworkToSmartContractResult(u)),o=new Ac.TransactionLogs({address:e.logs.address.bech32(),events:e.logs.events.map(u=>this.eventOnNetworkToEvent(u))});return new Ac.TransactionOutcome({logs:o,smartContractResults:s,directSmartContractCallOutcome:i})}smartContractResultOnNetworkToSmartContractResult(e){return new Ac.SmartContractResult({sender:e.sender.bech32(),receiver:e.receiver.bech32(),data:p.Buffer.from(e.data),logs:new Ac.TransactionLogs({address:e.logs.address.bech32(),events:e.logs.events.map(r=>this.eventOnNetworkToEvent(r))})})}eventOnNetworkToEvent(e){let r=e.dataPayload?.valueOf()||p.Buffer.from(e.data||""),n=e.additionalData?.map(i=>p.Buffer.from(i.valueOf()))||[];return n.length===0&&r.length&&n.push(p.Buffer.from(r)),new Ac.TransactionEvent({address:e.address.bech32(),identifier:e.identifier,topics:e.topics.map(i=>p.Buffer.from(i.hex(),"hex")),dataItems:n})}};S0.TransactionsConverter=ob});var oD=D(Xi=>{"use strict";h();var e$=Xi&&Xi.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),t$=Xi&&Xi.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),r$=Xi&&Xi.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&e$(e,t,r);return t$(e,t),e};Object.defineProperty(Xi,"__esModule",{value:!0});Xi.Hash=void 0;var n$=r$(Ie()),ub=class t{constructor(e){if(!e)this.hash=p.Buffer.from([]);else if(e instanceof p.Buffer)this.hash=e;else if(typeof e=="string")this.hash=p.Buffer.from(e,"hex");else throw new n$.ErrBadType("hash","buffer | string",e)}static empty(){return new t(p.Buffer.from([]))}isEmpty(){return this.hash.length==0}toString(){return this.hex()}hex(){return this.hash.toString("hex")}valueOf(){return this.hash}};Xi.Hash=ub});var Yf=D(Gn=>{"use strict";h();var i$=Gn&&Gn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),s$=Gn&&Gn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o$=Gn&&Gn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&i$(e,t,r);return s$(e,t),e};Object.defineProperty(Gn,"__esModule",{value:!0});Gn.interpretSignatureAsBuffer=Gn.Signature=void 0;var aD=o$(Ie()),uD=64,cb=class t{constructor(e){if(this.valueHex="",!!e){if(typeof e=="string")return t.fromHex(e);if(e instanceof p.Buffer)return t.fromBuffer(e)}}static empty(){return new t}static fromHex(e){if(e.startsWith("0x")&&(e=e.slice(2)),!t.isValidHex(e))throw new aD.ErrSignatureCannotCreate(e);return t.fromValidHex(e)}static isValidHex(e){return p.Buffer.from(e,"hex").length==uD}static fromValidHex(e){let r=new t;return r.valueHex=e,r}static fromBuffer(e){if(e.length!=uD)throw new aD.ErrSignatureCannotCreate(e);return t.fromValidHex(e.toString("hex"))}hex(){return this.valueHex}};Gn.Signature=cb;function a$(t){if(ArrayBuffer.isView(t))return p.Buffer.from(t);if(t.hex!=null)return p.Buffer.from(t.hex(),"hex");throw new Error(`Object cannot be interpreted as a signature: ${t}`)}Gn.interpretSignatureAsBuffer=a$});var lD=D((Awe,cD)=>{"use strict";h();cD.exports=u$;function u$(t,e){for(var r=new Array(arguments.length-1),n=0,i=2,s=!0;i<arguments.length;)r[n++]=arguments[i++];return new Promise(function(u,a){r[n]=function(f){if(s)if(s=!1,f)a(f);else{for(var d=new Array(arguments.length-1),w=0;w<d.length;)d[w++]=arguments[w];u.apply(null,d)}};try{t.apply(e||null,r)}catch(c){s&&(s=!1,a(c))}})}});var gD=D(dD=>{"use strict";h();var I0=dD;I0.length=function(e){var r=e.length;if(!r)return 0;for(var n=0;--r%4>1&&e.charAt(r)==="=";)++n;return Math.ceil(e.length*3)/4-n};var Ec=new Array(64),hD=new Array(123);for(vi=0;vi<64;)hD[Ec[vi]=vi<26?vi+65:vi<52?vi+71:vi<62?vi-4:vi-59|43]=vi++;var vi;I0.encode=function(e,r,n){for(var i=null,s=[],o=0,u=0,a;r<n;){var c=e[r++];switch(u){case 0:s[o++]=Ec[c>>2],a=(c&3)<<4,u=1;break;case 1:s[o++]=Ec[a|c>>4],a=(c&15)<<2,u=2;break;case 2:s[o++]=Ec[a|c>>6],s[o++]=Ec[c&63],u=0;break}o>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,s)),o=0)}return u&&(s[o++]=Ec[a],s[o++]=61,u===1&&(s[o++]=61)),i?(o&&i.push(String.fromCharCode.apply(String,s.slice(0,o))),i.join("")):String.fromCharCode.apply(String,s.slice(0,o))};var fD="invalid encoding";I0.decode=function(e,r,n){for(var i=n,s=0,o,u=0;u<e.length;){var a=e.charCodeAt(u++);if(a===61&&s>1)break;if((a=hD[a])===void 0)throw Error(fD);switch(s){case 0:o=a,s=1;break;case 1:r[n++]=o<<2|(a&48)>>4,o=a,s=2;break;case 2:r[n++]=(o&15)<<4|(a&60)>>2,o=a,s=3;break;case 3:r[n++]=(o&3)<<6|a,s=0;break}}if(s===1)throw Error(fD);return n-i};I0.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}});var mD=D((Iwe,pD)=>{"use strict";h();pD.exports=_0;function _0(){this._listeners={}}_0.prototype.on=function(e,r,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:r,ctx:n||this}),this};_0.prototype.off=function(e,r){if(e===void 0)this._listeners={};else if(r===void 0)this._listeners[e]=[];else for(var n=this._listeners[e],i=0;i<n.length;)n[i].fn===r?n.splice(i,1):++i;return this};_0.prototype.emit=function(e){var r=this._listeners[e];if(r){for(var n=[],i=1;i<arguments.length;)n.push(arguments[i++]);for(i=0;i<r.length;)r[i].fn.apply(r[i++].ctx,n)}return this}});var SD=D((Twe,bD)=>{"use strict";h();bD.exports=yD(yD);function yD(t){return typeof Float32Array<"u"?function(){var e=new Float32Array([-0]),r=new Uint8Array(e.buffer),n=r[3]===128;function i(a,c,f){e[0]=a,c[f]=r[0],c[f+1]=r[1],c[f+2]=r[2],c[f+3]=r[3]}function s(a,c,f){e[0]=a,c[f]=r[3],c[f+1]=r[2],c[f+2]=r[1],c[f+3]=r[0]}t.writeFloatLE=n?i:s,t.writeFloatBE=n?s:i;function o(a,c){return r[0]=a[c],r[1]=a[c+1],r[2]=a[c+2],r[3]=a[c+3],e[0]}function u(a,c){return r[3]=a[c],r[2]=a[c+1],r[1]=a[c+2],r[0]=a[c+3],e[0]}t.readFloatLE=n?o:u,t.readFloatBE=n?u:o}():function(){function e(n,i,s,o){var u=i<0?1:0;if(u&&(i=-i),i===0)n(1/i>0?0:2147483648,s,o);else if(isNaN(i))n(2143289344,s,o);else if(i>34028234663852886e22)n((u<<31|2139095040)>>>0,s,o);else if(i<11754943508222875e-54)n((u<<31|Math.round(i/1401298464324817e-60))>>>0,s,o);else{var a=Math.floor(Math.log(i)/Math.LN2),c=Math.round(i*Math.pow(2,-a)*8388608)&8388607;n((u<<31|a+127<<23|c)>>>0,s,o)}}t.writeFloatLE=e.bind(null,wD),t.writeFloatBE=e.bind(null,vD);function r(n,i,s){var o=n(i,s),u=(o>>31)*2+1,a=o>>>23&255,c=o&8388607;return a===255?c?NaN:u*(1/0):a===0?u*1401298464324817e-60*c:u*Math.pow(2,a-150)*(c+8388608)}t.readFloatLE=r.bind(null,AD),t.readFloatBE=r.bind(null,ED)}(),typeof Float64Array<"u"?function(){var e=new Float64Array([-0]),r=new Uint8Array(e.buffer),n=r[7]===128;function i(a,c,f){e[0]=a,c[f]=r[0],c[f+1]=r[1],c[f+2]=r[2],c[f+3]=r[3],c[f+4]=r[4],c[f+5]=r[5],c[f+6]=r[6],c[f+7]=r[7]}function s(a,c,f){e[0]=a,c[f]=r[7],c[f+1]=r[6],c[f+2]=r[5],c[f+3]=r[4],c[f+4]=r[3],c[f+5]=r[2],c[f+6]=r[1],c[f+7]=r[0]}t.writeDoubleLE=n?i:s,t.writeDoubleBE=n?s:i;function o(a,c){return r[0]=a[c],r[1]=a[c+1],r[2]=a[c+2],r[3]=a[c+3],r[4]=a[c+4],r[5]=a[c+5],r[6]=a[c+6],r[7]=a[c+7],e[0]}function u(a,c){return r[7]=a[c],r[6]=a[c+1],r[5]=a[c+2],r[4]=a[c+3],r[3]=a[c+4],r[2]=a[c+5],r[1]=a[c+6],r[0]=a[c+7],e[0]}t.readDoubleLE=n?o:u,t.readDoubleBE=n?u:o}():function(){function e(n,i,s,o,u,a){var c=o<0?1:0;if(c&&(o=-o),o===0)n(0,u,a+i),n(1/o>0?0:2147483648,u,a+s);else if(isNaN(o))n(0,u,a+i),n(2146959360,u,a+s);else if(o>17976931348623157e292)n(0,u,a+i),n((c<<31|2146435072)>>>0,u,a+s);else{var f;if(o<22250738585072014e-324)f=o/5e-324,n(f>>>0,u,a+i),n((c<<31|f/4294967296)>>>0,u,a+s);else{var d=Math.floor(Math.log(o)/Math.LN2);d===1024&&(d=1023),f=o*Math.pow(2,-d),n(f*4503599627370496>>>0,u,a+i),n((c<<31|d+1023<<20|f*1048576&1048575)>>>0,u,a+s)}}}t.writeDoubleLE=e.bind(null,wD,0,4),t.writeDoubleBE=e.bind(null,vD,4,0);function r(n,i,s,o,u){var a=n(o,u+i),c=n(o,u+s),f=(c>>31)*2+1,d=c>>>20&2047,w=4294967296*(c&1048575)+a;return d===2047?w?NaN:f*(1/0):d===0?f*5e-324*w:f*Math.pow(2,d-1075)*(w+4503599627370496)}t.readDoubleLE=r.bind(null,AD,0,4),t.readDoubleBE=r.bind(null,ED,4,0)}(),t}function wD(t,e,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}function vD(t,e,r){e[r]=t>>>24,e[r+1]=t>>>16&255,e[r+2]=t>>>8&255,e[r+3]=t&255}function AD(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0}function ED(t,e){return(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}});var ID=D((exports,module)=>{"use strict";h();module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(t){}return null}});var TD=D(_D=>{"use strict";h();var lb=_D;lb.length=function(e){for(var r=0,n=0,i=0;i<e.length;++i)n=e.charCodeAt(i),n<128?r+=1:n<2048?r+=2:(n&64512)===55296&&(e.charCodeAt(i+1)&64512)===56320?(++i,r+=4):r+=3;return r};lb.read=function(e,r,n){var i=n-r;if(i<1)return"";for(var s=null,o=[],u=0,a;r<n;)a=e[r++],a<128?o[u++]=a:a>191&&a<224?o[u++]=(a&31)<<6|e[r++]&63:a>239&&a<365?(a=((a&7)<<18|(e[r++]&63)<<12|(e[r++]&63)<<6|e[r++]&63)-65536,o[u++]=55296+(a>>10),o[u++]=56320+(a&1023)):o[u++]=(a&15)<<12|(e[r++]&63)<<6|e[r++]&63,u>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,o)),u=0);return s?(u&&s.push(String.fromCharCode.apply(String,o.slice(0,u))),s.join("")):String.fromCharCode.apply(String,o.slice(0,u))};lb.write=function(e,r,n){for(var i=n,s,o,u=0;u<e.length;++u)s=e.charCodeAt(u),s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=s&63|128):(s&64512)===55296&&((o=e.charCodeAt(u+1))&64512)===56320?(s=65536+((s&1023)<<10)+(o&1023),++u,r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=s&63|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=s&63|128);return n-i}});var ND=D((Dwe,CD)=>{"use strict";h();CD.exports=c$;function c$(t,e,r){var n=r||8192,i=n>>>1,s=null,o=n;return function(a){if(a<1||a>i)return t(a);o+a>n&&(s=t(n),o=0);var c=e.call(s,o,o+=a);return o&7&&(o=(o|7)+1),c}}});var OD=D((Rwe,xD)=>{"use strict";h();xD.exports=wr;var Jf=_o();function wr(t,e){this.lo=t>>>0,this.hi=e>>>0}var Va=wr.zero=new wr(0,0);Va.toNumber=function(){return 0};Va.zzEncode=Va.zzDecode=function(){return this};Va.length=function(){return 1};var l$=wr.zeroHash="\0\0\0\0\0\0\0\0";wr.fromNumber=function(e){if(e===0)return Va;var r=e<0;r&&(e=-e);var n=e>>>0,i=(e-n)/4294967296>>>0;return r&&(i=~i>>>0,n=~n>>>0,++n>4294967295&&(n=0,++i>4294967295&&(i=0))),new wr(n,i)};wr.from=function(e){if(typeof e=="number")return wr.fromNumber(e);if(Jf.isString(e))if(Jf.Long)e=Jf.Long.fromString(e);else return wr.fromNumber(parseInt(e,10));return e.low||e.high?new wr(e.low>>>0,e.high>>>0):Va};wr.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var r=~this.lo+1>>>0,n=~this.hi>>>0;return r||(n=n+1>>>0),-(r+n*4294967296)}return this.lo+this.hi*4294967296};wr.prototype.toLong=function(e){return Jf.Long?new Jf.Long(this.lo|0,this.hi|0,!!e):{low:this.lo|0,high:this.hi|0,unsigned:!!e}};var Io=String.prototype.charCodeAt;wr.fromHash=function(e){return e===l$?Va:new wr((Io.call(e,0)|Io.call(e,1)<<8|Io.call(e,2)<<16|Io.call(e,3)<<24)>>>0,(Io.call(e,4)|Io.call(e,5)<<8|Io.call(e,6)<<16|Io.call(e,7)<<24)>>>0)};wr.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};wr.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this};wr.prototype.zzDecode=function(){var e=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this};wr.prototype.length=function(){var e=this.lo,r=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return n===0?r===0?e<16384?e<128?1:2:e<2097152?3:4:r<16384?r<128?5:6:r<2097152?7:8:n<128?9:10}});var _o=D(fb=>{"use strict";h();var ve=fb;ve.asPromise=lD();ve.base64=gD();ve.EventEmitter=mD();ve.float=SD();ve.inquire=ID();ve.utf8=TD();ve.pool=ND();ve.LongBits=OD();ve.isNode=!!(typeof global<"u"&&global&&global.process&&global.process.versions&&global.process.versions.node);ve.global=ve.isNode&&global||typeof window<"u"&&window||typeof self<"u"&&self||fb;ve.emptyArray=Object.freeze?Object.freeze([]):[];ve.emptyObject=Object.freeze?Object.freeze({}):{};ve.isInteger=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};ve.isString=function(e){return typeof e=="string"||e instanceof String};ve.isObject=function(e){return e&&typeof e=="object"};ve.isset=ve.isSet=function(e,r){var n=e[r];return n!=null&&e.hasOwnProperty(r)?typeof n!="object"||(Array.isArray(n)?n.length:Object.keys(n).length)>0:!1};ve.Buffer=function(){try{var t=ve.inquire("buffer").Buffer;return t.prototype.utf8Write?t:null}catch{return null}}();ve._Buffer_from=null;ve._Buffer_allocUnsafe=null;ve.newBuffer=function(e){return typeof e=="number"?ve.Buffer?ve._Buffer_allocUnsafe(e):new ve.Array(e):ve.Buffer?ve._Buffer_from(e):typeof Uint8Array>"u"?e:new Uint8Array(e)};ve.Array=typeof Uint8Array<"u"?Uint8Array:Array;ve.Long=ve.global.dcodeIO&&ve.global.dcodeIO.Long||ve.global.Long||ve.inquire("long");ve.key2Re=/^true|false|0|1$/;ve.key32Re=/^-?(?:0|[1-9][0-9]*)$/;ve.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;ve.longToHash=function(e){return e?ve.LongBits.from(e).toHash():ve.LongBits.zeroHash};ve.longFromHash=function(e,r){var n=ve.LongBits.fromHash(e);return ve.Long?ve.Long.fromBits(n.lo,n.hi,r):n.toNumber(!!r)};function DD(t,e,r){for(var n=Object.keys(e),i=0;i<n.length;++i)(t[n[i]]===void 0||!r)&&(t[n[i]]=e[n[i]]);return t}ve.merge=DD;ve.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)};function PD(t){function e(r,n){if(!(this instanceof e))return new e(r,n);Object.defineProperty(this,"message",{get:function(){return r}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:new Error().stack||""}),n&&DD(this,n)}return e.prototype=Object.create(Error.prototype,{constructor:{value:e,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return t},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),e}ve.newError=PD;ve.ProtocolError=PD("ProtocolError");ve.oneOfGetter=function(e){for(var r={},n=0;n<e.length;++n)r[e[n]]=1;return function(){for(var i=Object.keys(this),s=i.length-1;s>-1;--s)if(r[i[s]]===1&&this[i[s]]!==void 0&&this[i[s]]!==null)return i[s]}};ve.oneOfSetter=function(e){return function(r){for(var n=0;n<e.length;++n)e[n]!==r&&delete this[e[n]]}};ve.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};ve._configure=function(){var t=ve.Buffer;if(!t){ve._Buffer_from=ve._Buffer_allocUnsafe=null;return}ve._Buffer_from=t.from!==Uint8Array.from&&t.from||function(r,n){return new t(r,n)},ve._Buffer_allocUnsafe=t.allocUnsafe||function(r){return new t(r)}}});var wb=D((Fwe,LD)=>{"use strict";h();LD.exports=Ue;var jn=_o(),hb,T0=jn.LongBits,RD=jn.base64,BD=jn.utf8;function Xf(t,e,r){this.fn=t,this.len=e,this.next=void 0,this.val=r}function gb(){}function f$(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function Ue(){this.len=0,this.head=new Xf(gb,0,0),this.tail=this.head,this.states=null}var MD=function(){return jn.Buffer?function(){return(Ue.create=function(){return new hb})()}:function(){return new Ue}};Ue.create=MD();Ue.alloc=function(e){return new jn.Array(e)};jn.Array!==Array&&(Ue.alloc=jn.pool(Ue.alloc,jn.Array.prototype.subarray));Ue.prototype._push=function(e,r,n){return this.tail=this.tail.next=new Xf(e,r,n),this.len+=r,this};function pb(t,e,r){e[r]=t&255}function h$(t,e,r){for(;t>127;)e[r++]=t&127|128,t>>>=7;e[r]=t}function mb(t,e){this.len=t,this.next=void 0,this.val=e}mb.prototype=Object.create(Xf.prototype);mb.prototype.fn=h$;Ue.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new mb((e=e>>>0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this};Ue.prototype.int32=function(e){return e<0?this._push(yb,10,T0.fromNumber(e)):this.uint32(e)};Ue.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)};function yb(t,e,r){for(;t.hi;)e[r++]=t.lo&127|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;t.lo>127;)e[r++]=t.lo&127|128,t.lo=t.lo>>>7;e[r++]=t.lo}Ue.prototype.uint64=function(e){var r=T0.from(e);return this._push(yb,r.length(),r)};Ue.prototype.int64=Ue.prototype.uint64;Ue.prototype.sint64=function(e){var r=T0.from(e).zzEncode();return this._push(yb,r.length(),r)};Ue.prototype.bool=function(e){return this._push(pb,1,e?1:0)};function db(t,e,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}Ue.prototype.fixed32=function(e){return this._push(db,4,e>>>0)};Ue.prototype.sfixed32=Ue.prototype.fixed32;Ue.prototype.fixed64=function(e){var r=T0.from(e);return this._push(db,4,r.lo)._push(db,4,r.hi)};Ue.prototype.sfixed64=Ue.prototype.fixed64;Ue.prototype.float=function(e){return this._push(jn.float.writeFloatLE,4,e)};Ue.prototype.double=function(e){return this._push(jn.float.writeDoubleLE,8,e)};var d$=jn.Array.prototype.set?function(e,r,n){r.set(e,n)}:function(e,r,n){for(var i=0;i<e.length;++i)r[n+i]=e[i]};Ue.prototype.bytes=function(e){var r=e.length>>>0;if(!r)return this._push(pb,1,0);if(jn.isString(e)){var n=Ue.alloc(r=RD.length(e));RD.decode(e,n,0),e=n}return this.uint32(r)._push(d$,r,e)};Ue.prototype.string=function(e){var r=BD.length(e);return r?this.uint32(r)._push(BD.write,r,e):this._push(pb,1,0)};Ue.prototype.fork=function(){return this.states=new f$(this),this.head=this.tail=new Xf(gb,0,0),this.len=0,this};Ue.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Xf(gb,0,0),this.len=0),this};Ue.prototype.ldelim=function(){var e=this.head,r=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=r,this.len+=n),this};Ue.prototype.finish=function(){for(var e=this.head.next,r=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,r,n),n+=e.len,e=e.next;return r};Ue._configure=function(t){hb=t,Ue.create=MD(),hb._configure()}});var qD=D((qwe,UD)=>{"use strict";h();UD.exports=Zi;var FD=wb();(Zi.prototype=Object.create(FD.prototype)).constructor=Zi;var To=_o();function Zi(){FD.call(this)}Zi._configure=function(){Zi.alloc=To._Buffer_allocUnsafe,Zi.writeBytesBuffer=To.Buffer&&To.Buffer.prototype instanceof Uint8Array&&To.Buffer.prototype.set.name==="set"?function(e,r,n){r.set(e,n)}:function(e,r,n){if(e.copy)e.copy(r,n,0,e.length);else for(var i=0;i<e.length;)r[n++]=e[i++]}};Zi.prototype.bytes=function(e){To.isString(e)&&(e=To._Buffer_from(e,"base64"));var r=e.length>>>0;return this.uint32(r),r&&this._push(Zi.writeBytesBuffer,r,e),this};function g$(t,e,r){t.length<40?To.utf8.write(t,e,r):e.utf8Write?e.utf8Write(t,r):e.write(t,r)}Zi.prototype.string=function(e){var r=To.Buffer.byteLength(e);return this.uint32(r),r&&this._push(g$,r,e),this};Zi._configure()});var Eb=D((kwe,jD)=>{"use strict";h();jD.exports=Zt;var Ai=_o(),Ab,HD=Ai.LongBits,p$=Ai.utf8;function Ei(t,e){return RangeError("index out of range: "+t.pos+" + "+(e||1)+" > "+t.len)}function Zt(t){this.buf=t,this.pos=0,this.len=t.length}var VD=typeof Uint8Array<"u"?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new Zt(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new Zt(e);throw Error("illegal buffer")},GD=function(){return Ai.Buffer?function(r){return(Zt.create=function(i){return Ai.Buffer.isBuffer(i)?new Ab(i):VD(i)})(r)}:VD};Zt.create=GD();Zt.prototype._slice=Ai.Array.prototype.subarray||Ai.Array.prototype.slice;Zt.prototype.uint32=function(){var e=4294967295;return function(){if(e=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(e=(e|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,Ei(this,10);return e}}();Zt.prototype.int32=function(){return this.uint32()|0};Zt.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(e&1)|0};function vb(){var t=new HD(0,0),e=0;if(this.len-this.pos>4){for(;e<4;++e)if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(this.buf[this.pos]&127)<<28)>>>0,t.hi=(t.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return t;e=0}else{for(;e<3;++e){if(this.pos>=this.len)throw Ei(this);if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(this.buf[this.pos++]&127)<<e*7)>>>0,t}if(this.len-this.pos>4){for(;e<5;++e)if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}else for(;e<5;++e){if(this.pos>=this.len)throw Ei(this);if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}Zt.prototype.bool=function(){return this.uint32()!==0};function C0(t,e){return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0}Zt.prototype.fixed32=function(){if(this.pos+4>this.len)throw Ei(this,4);return C0(this.buf,this.pos+=4)};Zt.prototype.sfixed32=function(){if(this.pos+4>this.len)throw Ei(this,4);return C0(this.buf,this.pos+=4)|0};function kD(){if(this.pos+8>this.len)throw Ei(this,8);return new HD(C0(this.buf,this.pos+=4),C0(this.buf,this.pos+=4))}Zt.prototype.float=function(){if(this.pos+4>this.len)throw Ei(this,4);var e=Ai.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e};Zt.prototype.double=function(){if(this.pos+8>this.len)throw Ei(this,4);var e=Ai.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e};Zt.prototype.bytes=function(){var e=this.uint32(),r=this.pos,n=this.pos+e;if(n>this.len)throw Ei(this,e);if(this.pos+=e,Array.isArray(this.buf))return this.buf.slice(r,n);if(r===n){var i=Ai.Buffer;return i?i.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,r,n)};Zt.prototype.string=function(){var e=this.bytes();return p$.read(e,0,e.length)};Zt.prototype.skip=function(e){if(typeof e=="number"){if(this.pos+e>this.len)throw Ei(this,e);this.pos+=e}else do if(this.pos>=this.len)throw Ei(this);while(this.buf[this.pos++]&128);return this};Zt.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(t=this.uint32()&7)!==4;)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this};Zt._configure=function(t){Ab=t,Zt.create=GD(),Ab._configure();var e=Ai.Long?"toLong":"toNumber";Ai.merge(Zt.prototype,{int64:function(){return vb.call(this)[e](!1)},uint64:function(){return vb.call(this)[e](!0)},sint64:function(){return vb.call(this).zzDecode()[e](!1)},fixed64:function(){return kD.call(this)[e](!0)},sfixed64:function(){return kD.call(this)[e](!1)}})}});var WD=D((Gwe,KD)=>{"use strict";h();KD.exports=ka;var QD=Eb();(ka.prototype=Object.create(QD.prototype)).constructor=ka;var zD=_o();function ka(t){QD.call(this,t)}ka._configure=function(){zD.Buffer&&(ka.prototype._slice=zD.Buffer.prototype.slice)};ka.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))};ka._configure()});var YD=D((zwe,$D)=>{"use strict";h();$D.exports=Zf;var bb=_o();(Zf.prototype=Object.create(bb.EventEmitter.prototype)).constructor=Zf;function Zf(t,e,r){if(typeof t!="function")throw TypeError("rpcImpl must be a function");bb.EventEmitter.call(this),this.rpcImpl=t,this.requestDelimited=!!e,this.responseDelimited=!!r}Zf.prototype.rpcCall=function t(e,r,n,i,s){if(!i)throw TypeError("request must be specified");var o=this;if(!s)return bb.asPromise(t,o,e,r,n,i);if(!o.rpcImpl){setTimeout(function(){s(Error("already ended"))},0);return}try{return o.rpcImpl(e,r[o.requestDelimited?"encodeDelimited":"encode"](i).finish(),function(a,c){if(a)return o.emit("error",a,e),s(a);if(c===null){o.end(!0);return}if(!(c instanceof n))try{c=n[o.responseDelimited?"decodeDelimited":"decode"](c)}catch(f){return o.emit("error",f,e),s(f)}return o.emit("data",c,e),s(null,c)})}catch(u){o.emit("error",u,e),setTimeout(function(){s(u)},0);return}};Zf.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}});var XD=D(JD=>{"use strict";h();var m$=JD;m$.Service=YD()});var eP=D(($we,ZD)=>{"use strict";h();ZD.exports={}});var nP=D(rP=>{"use strict";h();var nn=rP;nn.build="minimal";nn.Writer=wb();nn.BufferWriter=qD();nn.Reader=Eb();nn.BufferReader=WD();nn.util=_o();nn.rpc=XD();nn.roots=eP();nn.configure=tP;function tP(){nn.util._configure(),nn.Writer._configure(nn.BufferWriter),nn.Reader._configure(nn.BufferReader)}tP()});var sP=D((Zwe,iP)=>{"use strict";h();iP.exports=nP()});var aP=D((oP,eh)=>{"use strict";h();(function(t,e){typeof define=="function"&&define.amd?define(["protobufjs/minimal"],e):typeof Pd=="function"&&typeof eh=="object"&&eh&&eh.exports&&(eh.exports=e(sP()))})(oP,function(t){"use strict";var e=t.Reader,r=t.Writer,n=t.util,i=t.roots.default||(t.roots.default={});return i.proto=function(){var s={};return s.Transaction=function(){function o(u){if(u)for(var a=Object.keys(u),c=0;c<a.length;++c)u[a[c]]!=null&&(this[a[c]]=u[a[c]])}return o.prototype.Nonce=n.Long?n.Long.fromBits(0,0,!0):0,o.prototype.Value=n.newBuffer([]),o.prototype.RcvAddr=n.newBuffer([]),o.prototype.RcvUserName=n.newBuffer([]),o.prototype.SndAddr=n.newBuffer([]),o.prototype.SndUserName=n.newBuffer([]),o.prototype.GasPrice=n.Long?n.Long.fromBits(0,0,!0):0,o.prototype.GasLimit=n.Long?n.Long.fromBits(0,0,!0):0,o.prototype.Data=n.newBuffer([]),o.prototype.ChainID=n.newBuffer([]),o.prototype.Version=0,o.prototype.Signature=n.newBuffer([]),o.prototype.Options=0,o.prototype.GuardianAddr=n.newBuffer([]),o.prototype.GuardianSignature=n.newBuffer([]),o.create=function(a){return new o(a)},o.encode=function(a,c){return c||(c=r.create()),a.Nonce!=null&&Object.hasOwnProperty.call(a,"Nonce")&&c.uint32(8).uint64(a.Nonce),a.Value!=null&&Object.hasOwnProperty.call(a,"Value")&&c.uint32(18).bytes(a.Value),a.RcvAddr!=null&&Object.hasOwnProperty.call(a,"RcvAddr")&&c.uint32(26).bytes(a.RcvAddr),a.RcvUserName!=null&&Object.hasOwnProperty.call(a,"RcvUserName")&&c.uint32(34).bytes(a.RcvUserName),a.SndAddr!=null&&Object.hasOwnProperty.call(a,"SndAddr")&&c.uint32(42).bytes(a.SndAddr),a.SndUserName!=null&&Object.hasOwnProperty.call(a,"SndUserName")&&c.uint32(50).bytes(a.SndUserName),a.GasPrice!=null&&Object.hasOwnProperty.call(a,"GasPrice")&&c.uint32(56).uint64(a.GasPrice),a.GasLimit!=null&&Object.hasOwnProperty.call(a,"GasLimit")&&c.uint32(64).uint64(a.GasLimit),a.Data!=null&&Object.hasOwnProperty.call(a,"Data")&&c.uint32(74).bytes(a.Data),a.ChainID!=null&&Object.hasOwnProperty.call(a,"ChainID")&&c.uint32(82).bytes(a.ChainID),a.Version!=null&&Object.hasOwnProperty.call(a,"Version")&&c.uint32(88).uint32(a.Version),a.Signature!=null&&Object.hasOwnProperty.call(a,"Signature")&&c.uint32(98).bytes(a.Signature),a.Options!=null&&Object.hasOwnProperty.call(a,"Options")&&c.uint32(104).uint32(a.Options),a.GuardianAddr!=null&&Object.hasOwnProperty.call(a,"GuardianAddr")&&c.uint32(114).bytes(a.GuardianAddr),a.GuardianSignature!=null&&Object.hasOwnProperty.call(a,"GuardianSignature")&&c.uint32(122).bytes(a.GuardianSignature),c},o.encodeDelimited=function(a,c){return this.encode(a,c).ldelim()},o.decode=function(a,c){a instanceof e||(a=e.create(a));for(var f=c===void 0?a.len:a.pos+c,d=new i.proto.Transaction;a.pos<f;){var w=a.uint32();switch(w>>>3){case 1:{d.Nonce=a.uint64();break}case 2:{d.Value=a.bytes();break}case 3:{d.RcvAddr=a.bytes();break}case 4:{d.RcvUserName=a.bytes();break}case 5:{d.SndAddr=a.bytes();break}case 6:{d.SndUserName=a.bytes();break}case 7:{d.GasPrice=a.uint64();break}case 8:{d.GasLimit=a.uint64();break}case 9:{d.Data=a.bytes();break}case 10:{d.ChainID=a.bytes();break}case 11:{d.Version=a.uint32();break}case 12:{d.Signature=a.bytes();break}case 13:{d.Options=a.uint32();break}case 14:{d.GuardianAddr=a.bytes();break}case 15:{d.GuardianSignature=a.bytes();break}default:a.skipType(w&7);break}}return d},o.decodeDelimited=function(a){return a instanceof e||(a=new e(a)),this.decode(a,a.uint32())},o.verify=function(a){return typeof a!="object"||a===null?"object expected":a.Nonce!=null&&a.hasOwnProperty("Nonce")&&!n.isInteger(a.Nonce)&&!(a.Nonce&&n.isInteger(a.Nonce.low)&&n.isInteger(a.Nonce.high))?"Nonce: integer|Long expected":a.Value!=null&&a.hasOwnProperty("Value")&&!(a.Value&&typeof a.Value.length=="number"||n.isString(a.Value))?"Value: buffer expected":a.RcvAddr!=null&&a.hasOwnProperty("RcvAddr")&&!(a.RcvAddr&&typeof a.RcvAddr.length=="number"||n.isString(a.RcvAddr))?"RcvAddr: buffer expected":a.RcvUserName!=null&&a.hasOwnProperty("RcvUserName")&&!(a.RcvUserName&&typeof a.RcvUserName.length=="number"||n.isString(a.RcvUserName))?"RcvUserName: buffer expected":a.SndAddr!=null&&a.hasOwnProperty("SndAddr")&&!(a.SndAddr&&typeof a.SndAddr.length=="number"||n.isString(a.SndAddr))?"SndAddr: buffer expected":a.SndUserName!=null&&a.hasOwnProperty("SndUserName")&&!(a.SndUserName&&typeof a.SndUserName.length=="number"||n.isString(a.SndUserName))?"SndUserName: buffer expected":a.GasPrice!=null&&a.hasOwnProperty("GasPrice")&&!n.isInteger(a.GasPrice)&&!(a.GasPrice&&n.isInteger(a.GasPrice.low)&&n.isInteger(a.GasPrice.high))?"GasPrice: integer|Long expected":a.GasLimit!=null&&a.hasOwnProperty("GasLimit")&&!n.isInteger(a.GasLimit)&&!(a.GasLimit&&n.isInteger(a.GasLimit.low)&&n.isInteger(a.GasLimit.high))?"GasLimit: integer|Long expected":a.Data!=null&&a.hasOwnProperty("Data")&&!(a.Data&&typeof a.Data.length=="number"||n.isString(a.Data))?"Data: buffer expected":a.ChainID!=null&&a.hasOwnProperty("ChainID")&&!(a.ChainID&&typeof a.ChainID.length=="number"||n.isString(a.ChainID))?"ChainID: buffer expected":a.Version!=null&&a.hasOwnProperty("Version")&&!n.isInteger(a.Version)?"Version: integer expected":a.Signature!=null&&a.hasOwnProperty("Signature")&&!(a.Signature&&typeof a.Signature.length=="number"||n.isString(a.Signature))?"Signature: buffer expected":a.Options!=null&&a.hasOwnProperty("Options")&&!n.isInteger(a.Options)?"Options: integer expected":a.GuardianAddr!=null&&a.hasOwnProperty("GuardianAddr")&&!(a.GuardianAddr&&typeof a.GuardianAddr.length=="number"||n.isString(a.GuardianAddr))?"GuardianAddr: buffer expected":a.GuardianSignature!=null&&a.hasOwnProperty("GuardianSignature")&&!(a.GuardianSignature&&typeof a.GuardianSignature.length=="number"||n.isString(a.GuardianSignature))?"GuardianSignature: buffer expected":null},o.fromObject=function(a){if(a instanceof i.proto.Transaction)return a;var c=new i.proto.Transaction;return a.Nonce!=null&&(n.Long?(c.Nonce=n.Long.fromValue(a.Nonce)).unsigned=!0:typeof a.Nonce=="string"?c.Nonce=parseInt(a.Nonce,10):typeof a.Nonce=="number"?c.Nonce=a.Nonce:typeof a.Nonce=="object"&&(c.Nonce=new n.LongBits(a.Nonce.low>>>0,a.Nonce.high>>>0).toNumber(!0))),a.Value!=null&&(typeof a.Value=="string"?n.base64.decode(a.Value,c.Value=n.newBuffer(n.base64.length(a.Value)),0):a.Value.length>=0&&(c.Value=a.Value)),a.RcvAddr!=null&&(typeof a.RcvAddr=="string"?n.base64.decode(a.RcvAddr,c.RcvAddr=n.newBuffer(n.base64.length(a.RcvAddr)),0):a.RcvAddr.length>=0&&(c.RcvAddr=a.RcvAddr)),a.RcvUserName!=null&&(typeof a.RcvUserName=="string"?n.base64.decode(a.RcvUserName,c.RcvUserName=n.newBuffer(n.base64.length(a.RcvUserName)),0):a.RcvUserName.length>=0&&(c.RcvUserName=a.RcvUserName)),a.SndAddr!=null&&(typeof a.SndAddr=="string"?n.base64.decode(a.SndAddr,c.SndAddr=n.newBuffer(n.base64.length(a.SndAddr)),0):a.SndAddr.length>=0&&(c.SndAddr=a.SndAddr)),a.SndUserName!=null&&(typeof a.SndUserName=="string"?n.base64.decode(a.SndUserName,c.SndUserName=n.newBuffer(n.base64.length(a.SndUserName)),0):a.SndUserName.length>=0&&(c.SndUserName=a.SndUserName)),a.GasPrice!=null&&(n.Long?(c.GasPrice=n.Long.fromValue(a.GasPrice)).unsigned=!0:typeof a.GasPrice=="string"?c.GasPrice=parseInt(a.GasPrice,10):typeof a.GasPrice=="number"?c.GasPrice=a.GasPrice:typeof a.GasPrice=="object"&&(c.GasPrice=new n.LongBits(a.GasPrice.low>>>0,a.GasPrice.high>>>0).toNumber(!0))),a.GasLimit!=null&&(n.Long?(c.GasLimit=n.Long.fromValue(a.GasLimit)).unsigned=!0:typeof a.GasLimit=="string"?c.GasLimit=parseInt(a.GasLimit,10):typeof a.GasLimit=="number"?c.GasLimit=a.GasLimit:typeof a.GasLimit=="object"&&(c.GasLimit=new n.LongBits(a.GasLimit.low>>>0,a.GasLimit.high>>>0).toNumber(!0))),a.Data!=null&&(typeof a.Data=="string"?n.base64.decode(a.Data,c.Data=n.newBuffer(n.base64.length(a.Data)),0):a.Data.length>=0&&(c.Data=a.Data)),a.ChainID!=null&&(typeof a.ChainID=="string"?n.base64.decode(a.ChainID,c.ChainID=n.newBuffer(n.base64.length(a.ChainID)),0):a.ChainID.length>=0&&(c.ChainID=a.ChainID)),a.Version!=null&&(c.Version=a.Version>>>0),a.Signature!=null&&(typeof a.Signature=="string"?n.base64.decode(a.Signature,c.Signature=n.newBuffer(n.base64.length(a.Signature)),0):a.Signature.length>=0&&(c.Signature=a.Signature)),a.Options!=null&&(c.Options=a.Options>>>0),a.GuardianAddr!=null&&(typeof a.GuardianAddr=="string"?n.base64.decode(a.GuardianAddr,c.GuardianAddr=n.newBuffer(n.base64.length(a.GuardianAddr)),0):a.GuardianAddr.length>=0&&(c.GuardianAddr=a.GuardianAddr)),a.GuardianSignature!=null&&(typeof a.GuardianSignature=="string"?n.base64.decode(a.GuardianSignature,c.GuardianSignature=n.newBuffer(n.base64.length(a.GuardianSignature)),0):a.GuardianSignature.length>=0&&(c.GuardianSignature=a.GuardianSignature)),c},o.toObject=function(a,c){c||(c={});var f={};if(c.defaults){if(n.Long){var d=new n.Long(0,0,!0);f.Nonce=c.longs===String?d.toString():c.longs===Number?d.toNumber():d}else f.Nonce=c.longs===String?"0":0;if(c.bytes===String?f.Value="":(f.Value=[],c.bytes!==Array&&(f.Value=n.newBuffer(f.Value))),c.bytes===String?f.RcvAddr="":(f.RcvAddr=[],c.bytes!==Array&&(f.RcvAddr=n.newBuffer(f.RcvAddr))),c.bytes===String?f.RcvUserName="":(f.RcvUserName=[],c.bytes!==Array&&(f.RcvUserName=n.newBuffer(f.RcvUserName))),c.bytes===String?f.SndAddr="":(f.SndAddr=[],c.bytes!==Array&&(f.SndAddr=n.newBuffer(f.SndAddr))),c.bytes===String?f.SndUserName="":(f.SndUserName=[],c.bytes!==Array&&(f.SndUserName=n.newBuffer(f.SndUserName))),n.Long){var d=new n.Long(0,0,!0);f.GasPrice=c.longs===String?d.toString():c.longs===Number?d.toNumber():d}else f.GasPrice=c.longs===String?"0":0;if(n.Long){var d=new n.Long(0,0,!0);f.GasLimit=c.longs===String?d.toString():c.longs===Number?d.toNumber():d}else f.GasLimit=c.longs===String?"0":0;c.bytes===String?f.Data="":(f.Data=[],c.bytes!==Array&&(f.Data=n.newBuffer(f.Data))),c.bytes===String?f.ChainID="":(f.ChainID=[],c.bytes!==Array&&(f.ChainID=n.newBuffer(f.ChainID))),f.Version=0,c.bytes===String?f.Signature="":(f.Signature=[],c.bytes!==Array&&(f.Signature=n.newBuffer(f.Signature))),f.Options=0,c.bytes===String?f.GuardianAddr="":(f.GuardianAddr=[],c.bytes!==Array&&(f.GuardianAddr=n.newBuffer(f.GuardianAddr))),c.bytes===String?f.GuardianSignature="":(f.GuardianSignature=[],c.bytes!==Array&&(f.GuardianSignature=n.newBuffer(f.GuardianSignature)))}return a.Nonce!=null&&a.hasOwnProperty("Nonce")&&(typeof a.Nonce=="number"?f.Nonce=c.longs===String?String(a.Nonce):a.Nonce:f.Nonce=c.longs===String?n.Long.prototype.toString.call(a.Nonce):c.longs===Number?new n.LongBits(a.Nonce.low>>>0,a.Nonce.high>>>0).toNumber(!0):a.Nonce),a.Value!=null&&a.hasOwnProperty("Value")&&(f.Value=c.bytes===String?n.base64.encode(a.Value,0,a.Value.length):c.bytes===Array?Array.prototype.slice.call(a.Value):a.Value),a.RcvAddr!=null&&a.hasOwnProperty("RcvAddr")&&(f.RcvAddr=c.bytes===String?n.base64.encode(a.RcvAddr,0,a.RcvAddr.length):c.bytes===Array?Array.prototype.slice.call(a.RcvAddr):a.RcvAddr),a.RcvUserName!=null&&a.hasOwnProperty("RcvUserName")&&(f.RcvUserName=c.bytes===String?n.base64.encode(a.RcvUserName,0,a.RcvUserName.length):c.bytes===Array?Array.prototype.slice.call(a.RcvUserName):a.RcvUserName),a.SndAddr!=null&&a.hasOwnProperty("SndAddr")&&(f.SndAddr=c.bytes===String?n.base64.encode(a.SndAddr,0,a.SndAddr.length):c.bytes===Array?Array.prototype.slice.call(a.SndAddr):a.SndAddr),a.SndUserName!=null&&a.hasOwnProperty("SndUserName")&&(f.SndUserName=c.bytes===String?n.base64.encode(a.SndUserName,0,a.SndUserName.length):c.bytes===Array?Array.prototype.slice.call(a.SndUserName):a.SndUserName),a.GasPrice!=null&&a.hasOwnProperty("GasPrice")&&(typeof a.GasPrice=="number"?f.GasPrice=c.longs===String?String(a.GasPrice):a.GasPrice:f.GasPrice=c.longs===String?n.Long.prototype.toString.call(a.GasPrice):c.longs===Number?new n.LongBits(a.GasPrice.low>>>0,a.GasPrice.high>>>0).toNumber(!0):a.GasPrice),a.GasLimit!=null&&a.hasOwnProperty("GasLimit")&&(typeof a.GasLimit=="number"?f.GasLimit=c.longs===String?String(a.GasLimit):a.GasLimit:f.GasLimit=c.longs===String?n.Long.prototype.toString.call(a.GasLimit):c.longs===Number?new n.LongBits(a.GasLimit.low>>>0,a.GasLimit.high>>>0).toNumber(!0):a.GasLimit),a.Data!=null&&a.hasOwnProperty("Data")&&(f.Data=c.bytes===String?n.base64.encode(a.Data,0,a.Data.length):c.bytes===Array?Array.prototype.slice.call(a.Data):a.Data),a.ChainID!=null&&a.hasOwnProperty("ChainID")&&(f.ChainID=c.bytes===String?n.base64.encode(a.ChainID,0,a.ChainID.length):c.bytes===Array?Array.prototype.slice.call(a.ChainID):a.ChainID),a.Version!=null&&a.hasOwnProperty("Version")&&(f.Version=a.Version),a.Signature!=null&&a.hasOwnProperty("Signature")&&(f.Signature=c.bytes===String?n.base64.encode(a.Signature,0,a.Signature.length):c.bytes===Array?Array.prototype.slice.call(a.Signature):a.Signature),a.Options!=null&&a.hasOwnProperty("Options")&&(f.Options=a.Options),a.GuardianAddr!=null&&a.hasOwnProperty("GuardianAddr")&&(f.GuardianAddr=c.bytes===String?n.base64.encode(a.GuardianAddr,0,a.GuardianAddr.length):c.bytes===Array?Array.prototype.slice.call(a.GuardianAddr):a.GuardianAddr),a.GuardianSignature!=null&&a.hasOwnProperty("GuardianSignature")&&(f.GuardianSignature=c.bytes===String?n.base64.encode(a.GuardianSignature,0,a.GuardianSignature.length):c.bytes===Array?Array.prototype.slice.call(a.GuardianSignature):a.GuardianSignature),f},o.prototype.toJSON=function(){return this.constructor.toObject(this,t.util.toJSONOptions)},o.getTypeUrl=function(a){return a===void 0&&(a="type.googleapis.com"),a+"/proto.Transaction"},o}(),s}(),i})});var uP=D(zn=>{"use strict";h();var y$=zn&&zn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),w$=zn&&zn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),v$=zn&&zn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&y$(e,t,r);return w$(e,t),e},A$=zn&&zn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(zn,"__esModule",{value:!0});zn.ProtoSerializer=void 0;var E$=A$((nr(),xe(hr))),Sb=ke(),b$=yr(),S$=v$(Ie()),I$=Pu(),Ib=class{serializeTransaction(e){let r=aP().proto,n=new Sb.Address(e.getReceiver().bech32()).pubkey(),i=new Sb.Address(e.getSender().bech32()).pubkey(),s=new r.Transaction({Nonce:e.getNonce().valueOf()?e.getNonce().valueOf():void 0,Value:this.serializeTransactionValue(e.getValue()),RcvAddr:n,RcvUserName:e.getReceiverUsername()?p.Buffer.from(e.getReceiverUsername()).toString("base64"):void 0,SndAddr:i,SndUserName:e.getSenderUsername()?p.Buffer.from(e.getSenderUsername()).toString("base64"):void 0,GasPrice:e.getGasPrice().valueOf(),GasLimit:e.getGasLimit().valueOf(),Data:e.getData().length()==0?null:e.getData().valueOf(),ChainID:p.Buffer.from(e.getChainID().valueOf()),Version:e.getVersion().valueOf(),Signature:e.getSignature()});if(e.getOptions().valueOf()!==b$.TRANSACTION_OPTIONS_DEFAULT&&(s.Options=e.getOptions().valueOf()),e.isGuardedTransaction()){let a=e.getGuardian();s.GuardianAddr=new Sb.Address(a.bech32()).pubkey(),s.GuardianSignature=e.getGuardianSignature()}let o=r.Transaction.encode(s).finish();return p.Buffer.from(o)}serializeTransactionValue(e){let r=new E$.default(e.toString());if(r.isZero())return p.Buffer.from([0,0]);let n=I$.bigIntToBuffer(r);return n=p.Buffer.concat([p.Buffer.from([0]),n]),n}deserializeTransaction(e){throw new S$.ErrUnsupportedOperation("deserializeTransaction")}};zn.ProtoSerializer=Ib});var cP=D(Ha=>{"use strict";h();var _$=Ha&&Ha.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),T$=Ha&&Ha.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&_$(e,t,r)};Object.defineProperty(Ha,"__esModule",{value:!0});T$(uP(),Ha)});var N0=D(Kn=>{"use strict";h();var C$=Kn&&Kn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),N$=Kn&&Kn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),x$=Kn&&Kn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&C$(e,t,r);return N$(e,t),e},O$=Kn&&Kn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Kn,"__esModule",{value:!0});Kn.TransactionComputer=void 0;var lP=O$((nr(),xe(hr))),Qn=yr(),_b=x$(Ie()),D$=cP(),P$=en(),R$=oE(),B$=af(),M$=32,Tb=class{constructor(){}computeTransactionFee(e,r){let n=BigInt(r.MinGasLimit+e.data.length*r.GasPerDataByte);if(n>e.gasLimit)throw new _b.ErrNotEnoughGas(parseInt(e.gasLimit.toString(),10));let i=e.gasPrice,s=n*i;if(n===e.gasLimit)return s;let o=e.gasLimit-n,u=BigInt(new lP.default(i.toString()).multipliedBy(new lP.default(r.GasPriceModifier)).toFixed(0)),a=o*u;return s+a}computeBytesForSigning(e){this.ensureValidTransactionFields(e);let r=this.toPlainObjectForSigning(e),n=JSON.stringify(r);return new Uint8Array(p.Buffer.from(n))}computeBytesForVerifying(e){return this.hasOptionsSetForHashSigning(e)?this.computeHashForSigning(e):this.computeBytesForSigning(e)}computeHashForSigning(e){let r=this.toPlainObjectForSigning(e),n=p.Buffer.from(JSON.stringify(r));return B$("keccak256").update(n).digest()}computeTransactionHash(e){let n=new D$.ProtoSerializer().serializeTransaction(new P$.Transaction(e)),i=R$(M$).update(n).digest("hex");return p.Buffer.from(i,"hex")}hasOptionsSetForGuardedTransaction(e){return(e.options&Qn.TRANSACTION_OPTIONS_TX_GUARDED)==Qn.TRANSACTION_OPTIONS_TX_GUARDED}hasOptionsSetForHashSigning(e){return(e.options&Qn.TRANSACTION_OPTIONS_TX_HASH_SIGN)==Qn.TRANSACTION_OPTIONS_TX_HASH_SIGN}applyGuardian(e,r){e.version<Qn.MIN_TRANSACTION_VERSION_THAT_SUPPORTS_OPTIONS&&(e.version=Qn.MIN_TRANSACTION_VERSION_THAT_SUPPORTS_OPTIONS),e.options=e.options|Qn.TRANSACTION_OPTIONS_TX_GUARDED,e.guardian=r}applyOptionsForHashSigning(e){e.version<Qn.MIN_TRANSACTION_VERSION_THAT_SUPPORTS_OPTIONS&&(e.version=Qn.MIN_TRANSACTION_VERSION_THAT_SUPPORTS_OPTIONS),e.options=e.options|Qn.TRANSACTION_OPTIONS_TX_HASH_SIGN}toPlainObjectForSigning(e){return{nonce:Number(e.nonce),value:e.value.toString(),receiver:e.receiver,sender:e.sender,senderUsername:this.toBase64OrUndefined(e.senderUsername),receiverUsername:this.toBase64OrUndefined(e.receiverUsername),gasPrice:Number(e.gasPrice),gasLimit:Number(e.gasLimit),data:this.toBase64OrUndefined(e.data),chainID:e.chainID,version:e.version,options:e.options?e.options:void 0,guardian:e.guardian?e.guardian:void 0}}toBase64OrUndefined(e){return e&&e.length?p.Buffer.from(e).toString("base64"):void 0}ensureValidTransactionFields(e){if(!e.chainID.length)throw new _b.ErrBadUsage("The `chainID` field is not set");if(e.version<Qn.MIN_TRANSACTION_VERSION_THAT_SUPPORTS_OPTIONS&&(this.hasOptionsSetForGuardedTransaction(e)||this.hasOptionsSetForHashSigning(e)))throw new _b.ErrBadUsage(`Non-empty transaction options requires transaction version >= ${Qn.MIN_TRANSACTION_VERSION_THAT_SUPPORTS_OPTIONS}`)}};Kn.TransactionComputer=Tb});var en=D(bc=>{"use strict";h();Object.defineProperty(bc,"__esModule",{value:!0});bc.TransactionHash=bc.Transaction=void 0;var fP=(nr(),xe(hr)),Cb=ke(),Nb=yr(),hP=ab(),L$=oD(),dP=Jl(),gP=Yf(),F$=Bs(),xb=N0(),Ob=class{constructor(e){this.nonce=BigInt(e.nonce?.valueOf()||0n),this.value=e.value?BigInt(new fP.BigNumber(e.value.toString()).toFixed(0)):0n,this.sender=this.addressAsBech32(e.sender),this.receiver=this.addressAsBech32(e.receiver),this.senderUsername=e.senderUsername||"",this.receiverUsername=e.receiverUsername||"",this.gasPrice=BigInt(e.gasPrice?.valueOf()||Nb.TRANSACTION_MIN_GAS_PRICE),this.gasLimit=BigInt(e.gasLimit.valueOf()),this.data=e.data?.valueOf()||new Uint8Array,this.chainID=e.chainID.valueOf(),this.version=Number(e.version?.valueOf()||Nb.TRANSACTION_VERSION_DEFAULT),this.options=Number(e.options?.valueOf()||Nb.TRANSACTION_OPTIONS_DEFAULT),this.guardian=e.guardian?this.addressAsBech32(e.guardian):"",this.signature=e.signature||p.Buffer.from([]),this.guardianSignature=e.guardianSignature||p.Buffer.from([])}addressAsBech32(e){return typeof e=="string"?e:e.bech32()}getNonce(){return Number(this.nonce)}setNonce(e){this.nonce=BigInt(e.valueOf())}getValue(){return this.value}setValue(e){this.value=BigInt(e.toString())}getSender(){return Cb.Address.fromBech32(this.sender)}setSender(e){this.sender=typeof e=="string"?e:e.bech32()}getReceiver(){return Cb.Address.fromBech32(this.receiver)}getSenderUsername(){return this.senderUsername}setSenderUsername(e){this.senderUsername=e}getReceiverUsername(){return this.receiverUsername}setReceiverUsername(e){this.receiverUsername=e}getGuardian(){return new Cb.Address(this.guardian)}getGasPrice(){return Number(this.gasPrice)}setGasPrice(e){this.gasPrice=BigInt(e.valueOf())}getGasLimit(){return Number(this.gasLimit)}setGasLimit(e){this.gasLimit=BigInt(e.valueOf())}getData(){return new F$.TransactionPayload(p.Buffer.from(this.data))}getChainID(){return this.chainID}setChainID(e){this.chainID=e.valueOf()}getVersion(){return new dP.TransactionVersion(this.version)}setVersion(e){this.version=e.valueOf()}getOptions(){return new dP.TransactionOptions(this.options.valueOf())}setOptions(e){this.options=e.valueOf()}getSignature(){return p.Buffer.from(this.signature)}getGuardianSignature(){return p.Buffer.from(this.guardianSignature)}setGuardian(e){this.guardian=typeof e=="string"?e:e.bech32()}getHash(){return x0.compute(this)}serializeForSigning(){let r=new xb.TransactionComputer().computeBytesForSigning(this);return p.Buffer.from(r)}isGuardedTransaction(){let e=this.guardian.length>0,r=this.guardianSignature.length>0;return this.getOptions().isWithGuardian()&&e&&r}toPlainObject(){return new hP.TransactionsConverter().transactionToPlainObject(this)}static fromPlainObject(e){return new hP.TransactionsConverter().plainObjectToTransaction(e)}applySignature(e){this.signature=gP.interpretSignatureAsBuffer(e)}applyGuardianSignature(e){this.guardianSignature=gP.interpretSignatureAsBuffer(e)}toSendable(){return this.toPlainObject()}computeFee(e){let n=new xb.TransactionComputer().computeTransactionFee(this,e);return new fP.BigNumber(n.toString())}};bc.Transaction=Ob;var x0=class t extends L$.Hash{constructor(e){super(e)}static compute(e){let n=new xb.TransactionComputer().computeTransactionHash(e);return new t(p.Buffer.from(n).toString("hex"))}};bc.TransactionHash=x0});var mP=D(O0=>{"use strict";h();Object.defineProperty(O0,"__esModule",{value:!0});O0.TokenOperationsFactory=void 0;var Db=yr(),U$=so(),pP=Jl(),q$=en(),V$=Bs(),ae=Yd(),Pb=class{constructor(e){this.config=e,this.trueAsHex=ae.utf8ToHex("true"),this.falseAsHex=ae.utf8ToHex("false")}issueFungible(e){this.notifyAboutUnsettingBurnRoleGlobally();let r=["issue",ae.utf8ToHex(e.tokenName),ae.utf8ToHex(e.tokenTicker),ae.bigIntToHex(e.initialSupply),ae.bigIntToHex(e.numDecimals),ae.utf8ToHex("canFreeze"),e.canFreeze?this.trueAsHex:this.falseAsHex,ae.utf8ToHex("canWipe"),e.canWipe?this.trueAsHex:this.falseAsHex,ae.utf8ToHex("canPause"),e.canPause?this.trueAsHex:this.falseAsHex,ae.utf8ToHex("canChangeOwner"),e.canChangeOwner?this.trueAsHex:this.falseAsHex,ae.utf8ToHex("canUpgrade"),e.canUpgrade?this.trueAsHex:this.falseAsHex,ae.utf8ToHex("canAddSpecialRoles"),e.canAddSpecialRoles?this.trueAsHex:this.falseAsHex];return this.createTransaction({sender:e.issuer,receiver:this.config.esdtContractAddress,nonce:e.transactionNonce,value:this.config.issueCost,gasPrice:e.gasPrice,gasLimitHint:e.gasLimit,executionGasLimit:this.config.gasLimitIssue,dataParts:r})}notifyAboutUnsettingBurnRoleGlobally(){U$.Logger.info(`
==========
IMPORTANT!
==========
You are about to issue (register) a new token. This will set the role "ESDTRoleBurnForAll" (globally).
Once the token is registered, you can unset this role by calling "unsetBurnRoleGlobally" (in a separate transaction).`)}issueSemiFungible(e){this.notifyAboutUnsettingBurnRoleGlobally();let r=["issueSemiFungible",ae.utf8ToHex(e.tokenName),ae.utf8ToHex(e.tokenTicker),ae.utf8ToHex("canFreeze"),e.canFreeze?this.trueAsHex:this.falseAsHex,ae.utf8ToHex("canWipe"),e.canWipe?this.trueAsHex:this.falseAsHex,ae.utf8ToHex("canPause"),e.canPause?this.trueAsHex:this.falseAsHex,ae.utf8ToHex("canTransferNFTCreateRole"),e.canTransferNFTCreateRole?this.trueAsHex:this.falseAsHex,ae.utf8ToHex("canChangeOwner"),e.canChangeOwner?this.trueAsHex:this.falseAsHex,ae.utf8ToHex("canUpgrade"),e.canUpgrade?this.trueAsHex:this.falseAsHex,ae.utf8ToHex("canAddSpecialRoles"),e.canAddSpecialRoles?this.trueAsHex:this.falseAsHex];return this.createTransaction({sender:e.issuer,receiver:this.config.esdtContractAddress,nonce:e.transactionNonce,value:this.config.issueCost,gasPrice:e.gasPrice,gasLimitHint:e.gasLimit,executionGasLimit:this.config.gasLimitIssue,dataParts:r})}issueNonFungible(e){this.notifyAboutUnsettingBurnRoleGlobally();let r=["issueNonFungible",ae.utf8ToHex(e.tokenName),ae.utf8ToHex(e.tokenTicker),ae.utf8ToHex("canFreeze"),e.canFreeze?this.trueAsHex:this.falseAsHex,ae.utf8ToHex("canWipe"),e.canWipe?this.trueAsHex:this.falseAsHex,ae.utf8ToHex("canPause"),e.canPause?this.trueAsHex:this.falseAsHex,ae.utf8ToHex("canTransferNFTCreateRole"),e.canTransferNFTCreateRole?this.trueAsHex:this.falseAsHex,ae.utf8ToHex("canChangeOwner"),e.canChangeOwner?this.trueAsHex:this.falseAsHex,ae.utf8ToHex("canUpgrade"),e.canUpgrade?this.trueAsHex:this.falseAsHex,ae.utf8ToHex("canAddSpecialRoles"),e.canAddSpecialRoles?this.trueAsHex:this.falseAsHex];return this.createTransaction({sender:e.issuer,receiver:this.config.esdtContractAddress,nonce:e.transactionNonce,value:this.config.issueCost,gasPrice:e.gasPrice,gasLimitHint:e.gasLimit,executionGasLimit:this.config.gasLimitIssue,dataParts:r})}registerMetaESDT(e){this.notifyAboutUnsettingBurnRoleGlobally();let r=["registerMetaESDT",ae.utf8ToHex(e.tokenName),ae.utf8ToHex(e.tokenTicker),ae.bigIntToHex(e.numDecimals),ae.utf8ToHex("canFreeze"),e.canFreeze?this.trueAsHex:this.falseAsHex,ae.utf8ToHex("canWipe"),e.canWipe?this.trueAsHex:this.falseAsHex,ae.utf8ToHex("canPause"),e.canPause?this.trueAsHex:this.falseAsHex,ae.utf8ToHex("canTransferNFTCreateRole"),e.canTransferNFTCreateRole?this.trueAsHex:this.falseAsHex,ae.utf8ToHex("canChangeOwner"),e.canChangeOwner?this.trueAsHex:this.falseAsHex,ae.utf8ToHex("canUpgrade"),e.canUpgrade?this.trueAsHex:this.falseAsHex,ae.utf8ToHex("canAddSpecialRoles"),e.canAddSpecialRoles?this.trueAsHex:this.falseAsHex];return this.createTransaction({sender:e.issuer,receiver:this.config.esdtContractAddress,nonce:e.transactionNonce,value:this.config.issueCost,gasPrice:e.gasPrice,gasLimitHint:e.gasLimit,executionGasLimit:this.config.gasLimitIssue,dataParts:r})}registerAndSetAllRoles(e){this.notifyAboutUnsettingBurnRoleGlobally();let r=["registerAndSetAllRoles",ae.utf8ToHex(e.tokenName),ae.utf8ToHex(e.tokenTicker),ae.utf8ToHex(e.tokenType),ae.bigIntToHex(e.numDecimals)];return this.createTransaction({sender:e.issuer,receiver:this.config.esdtContractAddress,nonce:e.transactionNonce,value:this.config.issueCost,gasPrice:e.gasPrice,gasLimitHint:e.gasLimit,executionGasLimit:this.config.gasLimitIssue,dataParts:r})}setBurnRoleGlobally(e){let r=["setBurnRoleGlobally",ae.utf8ToHex(e.tokenIdentifier)];return this.createTransaction({sender:e.manager,receiver:this.config.esdtContractAddress,nonce:e.transactionNonce,gasPrice:e.gasPrice,gasLimitHint:e.gasLimit,executionGasLimit:this.config.gasLimitToggleBurnRoleGlobally,dataParts:r})}unsetBurnRoleGlobally(e){let r=["unsetBurnRoleGlobally",ae.utf8ToHex(e.tokenIdentifier)];return this.createTransaction({sender:e.manager,receiver:this.config.esdtContractAddress,nonce:e.transactionNonce,gasPrice:e.gasPrice,gasLimitHint:e.gasLimit,executionGasLimit:this.config.gasLimitToggleBurnRoleGlobally,dataParts:r})}setSpecialRoleOnFungible(e){let r=["setSpecialRole",ae.utf8ToHex(e.tokenIdentifier),ae.addressToHex(e.user),...e.addRoleLocalMint?[ae.utf8ToHex("ESDTRoleLocalMint")]:[],...e.addRoleLocalBurn?[ae.utf8ToHex("ESDTRoleLocalBurn")]:[]];return this.createTransaction({sender:e.manager,receiver:this.config.esdtContractAddress,nonce:e.transactionNonce,gasPrice:e.gasPrice,gasLimitHint:e.gasLimit,executionGasLimit:this.config.gasLimitSetSpecialRole,dataParts:r})}setSpecialRoleOnSemiFungible(e){let r=["setSpecialRole",ae.utf8ToHex(e.tokenIdentifier),ae.addressToHex(e.user),...e.addRoleNFTCreate?[ae.utf8ToHex("ESDTRoleNFTCreate")]:[],...e.addRoleNFTBurn?[ae.utf8ToHex("ESDTRoleNFTBurn")]:[],...e.addRoleNFTAddQuantity?[ae.utf8ToHex("ESDTRoleNFTAddQuantity")]:[],...e.addRoleESDTTransferRole?[ae.utf8ToHex("ESDTTransferRole")]:[]];return this.createTransaction({sender:e.manager,receiver:this.config.esdtContractAddress,nonce:e.transactionNonce,gasPrice:e.gasPrice,gasLimitHint:e.gasLimit,executionGasLimit:this.config.gasLimitSetSpecialRole,dataParts:r})}setSpecialRoleOnMetaESDT(e){return this.setSpecialRoleOnSemiFungible(e)}setSpecialRoleOnNonFungible(e){let r=["setSpecialRole",ae.utf8ToHex(e.tokenIdentifier),ae.addressToHex(e.user),...e.addRoleNFTCreate?[ae.utf8ToHex("ESDTRoleNFTCreate")]:[],...e.addRoleNFTBurn?[ae.utf8ToHex("ESDTRoleNFTBurn")]:[],...e.addRoleNFTUpdateAttributes?[ae.utf8ToHex("ESDTRoleNFTUpdateAttributes")]:[],...e.addRoleNFTAddURI?[ae.utf8ToHex("ESDTRoleNFTAddURI")]:[],...e.addRoleESDTTransferRole?[ae.utf8ToHex("ESDTTransferRole")]:[]];return this.createTransaction({sender:e.manager,receiver:this.config.esdtContractAddress,nonce:e.transactionNonce,gasPrice:e.gasPrice,gasLimitHint:e.gasLimit,executionGasLimit:this.config.gasLimitSetSpecialRole,dataParts:r})}nftCreate(e){let r=["ESDTNFTCreate",ae.utf8ToHex(e.tokenIdentifier),ae.bigIntToHex(e.initialQuantity),ae.utf8ToHex(e.name),ae.bigIntToHex(e.royalties),ae.utf8ToHex(e.hash),ae.bufferToHex(e.attributes),...e.uris.map(ae.utf8ToHex)],i=(e.name+e.hash+e.attributes+e.uris.join("")).length*this.config.gasLimitStorePerByte.valueOf();return this.createTransaction({sender:e.creator,receiver:e.creator,nonce:e.transactionNonce,gasPrice:e.gasPrice,gasLimitHint:e.gasLimit,executionGasLimit:this.config.gasLimitESDTNFTCreate.valueOf()+i.valueOf(),dataParts:r})}pause(e){let r=["pause",ae.utf8ToHex(e.tokenIdentifier)];return this.createTransaction({sender:e.manager,receiver:this.config.esdtContractAddress,nonce:e.transactionNonce,gasPrice:e.gasPrice,gasLimitHint:e.gasLimit,executionGasLimit:this.config.gasLimitPausing,dataParts:r})}unpause(e){let r=["unPause",ae.utf8ToHex(e.tokenIdentifier)];return this.createTransaction({sender:e.manager,receiver:this.config.esdtContractAddress,nonce:e.transactionNonce,gasPrice:e.gasPrice,gasLimitHint:e.gasLimit,executionGasLimit:this.config.gasLimitPausing,dataParts:r})}freeze(e){let r=["freeze",ae.utf8ToHex(e.tokenIdentifier),ae.addressToHex(e.user)];return this.createTransaction({sender:e.manager,receiver:this.config.esdtContractAddress,nonce:e.transactionNonce,gasPrice:e.gasPrice,gasLimitHint:e.gasLimit,executionGasLimit:this.config.gasLimitFreezing,dataParts:r})}unfreeze(e){let r=["unFreeze",ae.utf8ToHex(e.tokenIdentifier),ae.addressToHex(e.user)];return this.createTransaction({sender:e.manager,receiver:this.config.esdtContractAddress,nonce:e.transactionNonce,gasPrice:e.gasPrice,gasLimitHint:e.gasLimit,executionGasLimit:this.config.gasLimitFreezing,dataParts:r})}wipe(e){let r=["wipe",ae.utf8ToHex(e.tokenIdentifier),ae.addressToHex(e.user)];return this.createTransaction({sender:e.manager,receiver:this.config.esdtContractAddress,nonce:e.transactionNonce,gasPrice:e.gasPrice,gasLimitHint:e.gasLimit,executionGasLimit:this.config.gasLimitWiping,dataParts:r})}localMint(e){let r=["ESDTLocalMint",ae.utf8ToHex(e.tokenIdentifier),ae.bigIntToHex(e.supplyToMint)];return this.createTransaction({sender:e.manager,receiver:e.manager,nonce:e.transactionNonce,gasPrice:e.gasPrice,gasLimitHint:e.gasLimit,executionGasLimit:this.config.gasLimitESDTLocalMint,dataParts:r})}localBurn(e){let r=["ESDTLocalBurn",ae.utf8ToHex(e.tokenIdentifier),ae.bigIntToHex(e.supplyToBurn)];return this.createTransaction({sender:e.manager,receiver:e.manager,nonce:e.transactionNonce,gasPrice:e.gasPrice,gasLimitHint:e.gasLimit,executionGasLimit:this.config.gasLimitESDTLocalBurn,dataParts:r})}updateAttributes(e){let r=["ESDTNFTUpdateAttributes",ae.utf8ToHex(e.tokenIdentifier),ae.bigIntToHex(e.tokenNonce),ae.bufferToHex(e.attributes)];return this.createTransaction({sender:e.manager,receiver:e.manager,nonce:e.transactionNonce,gasPrice:e.gasPrice,gasLimitHint:e.gasLimit,executionGasLimit:this.config.gasLimitESDTNFTUpdateAttributes,dataParts:r})}addQuantity(e){let r=["ESDTNFTAddQuantity",ae.utf8ToHex(e.tokenIdentifier),ae.bigIntToHex(e.tokenNonce),ae.bigIntToHex(e.quantityToAdd)];return this.createTransaction({sender:e.manager,receiver:e.manager,nonce:e.transactionNonce,gasPrice:e.gasPrice,gasLimitHint:e.gasLimit,executionGasLimit:this.config.gasLimitESDTNFTAddQuantity,dataParts:r})}burnQuantity(e){let r=["ESDTNFTBurn",ae.utf8ToHex(e.tokenIdentifier),ae.bigIntToHex(e.tokenNonce),ae.bigIntToHex(e.quantityToBurn)];return this.createTransaction({sender:e.manager,receiver:e.manager,nonce:e.transactionNonce,gasPrice:e.gasPrice,gasLimitHint:e.gasLimit,executionGasLimit:this.config.gasLimitESDTNFTBurn,dataParts:r})}createTransaction({sender:e,receiver:r,nonce:n,value:i,gasPrice:s,gasLimitHint:o,executionGasLimit:u,dataParts:a}){let c=this.buildTransactionPayload(a),f=o||this.computeGasLimit(c,u),d=new pP.TransactionVersion(Db.TRANSACTION_VERSION_DEFAULT),w=new pP.TransactionOptions(Db.TRANSACTION_OPTIONS_DEFAULT);return new q$.Transaction({chainID:this.config.chainID,sender:e,receiver:r,gasLimit:f,gasPrice:s,nonce:n||0,value:i||0,data:c,version:d,options:w})}buildTransactionPayload(e){let r=e.join(Db.ARGUMENTS_SEPARATOR);return new V$.TransactionPayload(r)}computeGasLimit(e,r){return this.config.minGasLimit.valueOf()+this.config.gasLimitPerByte.valueOf()*e.length()+r.valueOf()}};O0.TokenOperationsFactory=Pb});var yP=D(D0=>{"use strict";h();Object.defineProperty(D0,"__esModule",{value:!0});D0.TokenOperationsFactoryConfig=void 0;var k$=ke(),Rb=class{constructor(e){this.minGasPrice=1e9,this.minGasLimit=5e4,this.gasLimitPerByte=1500,this.gasLimitIssue=6e7,this.gasLimitToggleBurnRoleGlobally=6e7,this.gasLimitESDTLocalMint=3e5,this.gasLimitESDTLocalBurn=3e5,this.gasLimitSetSpecialRole=6e7,this.gasLimitPausing=6e7,this.gasLimitFreezing=6e7,this.gasLimitWiping=6e7,this.gasLimitESDTNFTCreate=3e6,this.gasLimitESDTNFTUpdateAttributes=1e6,this.gasLimitESDTNFTAddQuantity=1e6,this.gasLimitESDTNFTBurn=1e6,this.gasLimitStorePerByte=5e4,this.issueCost="50000000000000000",this.esdtContractAddress=k$.Address.fromBech32("erd1qqqqqqqqqqqqqqqpqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqzllls8a5w6u"),this.chainID=e}};D0.TokenOperationsFactoryConfig=Rb});var vP=D(P0=>{"use strict";h();Object.defineProperty(P0,"__esModule",{value:!0});P0.TokenOperationsOutcomeParser=void 0;var H$=ke(),Bb=Ie(),wP=Yd(),Mb=class{parseIssueFungible(e){this.ensureNoError(e);let r=this.findSingleEventByIdentifier(e,"issue");return{tokenIdentifier:this.extractTokenIdentifier(r)}}parseIssueNonFungible(e){this.ensureNoError(e);let r=this.findSingleEventByIdentifier(e,"issueNonFungible");return{tokenIdentifier:this.extractTokenIdentifier(r)}}parseIssueSemiFungible(e){this.ensureNoError(e);let r=this.findSingleEventByIdentifier(e,"issueSemiFungible");return{tokenIdentifier:this.extractTokenIdentifier(r)}}parseRegisterMetaESDT(e){this.ensureNoError(e);let r=this.findSingleEventByIdentifier(e,"registerMetaESDT");return{tokenIdentifier:this.extractTokenIdentifier(r)}}parseRegisterAndSetAllRoles(e){this.ensureNoError(e);let r=this.findSingleEventByIdentifier(e,"registerAndSetAllRoles"),n=this.extractTokenIdentifier(r),s=this.findSingleEventByIdentifier(e,"ESDTSetRole").topics.slice(3).map(o=>o.valueOf().toString());return{tokenIdentifier:n,roles:s}}parseSetBurnRoleGlobally(e){return this.ensureNoError(e),{}}parseUnsetBurnRoleGlobally(e){return this.ensureNoError(e),{}}parseSetSpecialRole(e){this.ensureNoError(e);let r=this.findSingleEventByIdentifier(e,"ESDTSetRole"),n=r.address.toString(),i=this.extractTokenIdentifier(r),s=r.topics.slice(3).map(o=>o.valueOf().toString());return{userAddress:n,tokenIdentifier:i,roles:s}}parseNFTCreate(e){this.ensureNoError(e);let r=this.findSingleEventByIdentifier(e,"ESDTNFTCreate"),n=this.extractTokenIdentifier(r),i=this.extractNonce(r),s=this.extractAmount(r);return{tokenIdentifier:n,nonce:i,initialQuantity:s}}parseLocalMint(e){this.ensureNoError(e);let r=this.findSingleEventByIdentifier(e,"ESDTLocalMint"),n=r.address.toString(),i=this.extractTokenIdentifier(r),s=this.extractNonce(r),o=this.extractAmount(r);return{userAddress:n,tokenIdentifier:i,nonce:s,mintedSupply:o}}parseLocalBurn(e){this.ensureNoError(e);let r=this.findSingleEventByIdentifier(e,"ESDTLocalBurn"),n=r.address.toString(),i=this.extractTokenIdentifier(r),s=this.extractNonce(r),o=this.extractAmount(r);return{userAddress:n,tokenIdentifier:i,nonce:s,burntSupply:o}}parsePause(e){this.ensureNoError(e);let r=this.findSingleEventByIdentifier(e,"ESDTPause");return{}}parseUnpause(e){this.ensureNoError(e);let r=this.findSingleEventByIdentifier(e,"ESDTUnPause");return{}}parseFreeze(e){this.ensureNoError(e);let r=this.findSingleEventByIdentifier(e,"ESDTFreeze"),n=this.extractTokenIdentifier(r),i=this.extractNonce(r),s=this.extractAmount(r);return{userAddress:this.extractAddress(r),tokenIdentifier:n,nonce:i,balance:s}}parseUnfreeze(e){this.ensureNoError(e);let r=this.findSingleEventByIdentifier(e,"ESDTUnFreeze"),n=this.extractTokenIdentifier(r),i=this.extractNonce(r),s=this.extractAmount(r);return{userAddress:this.extractAddress(r),tokenIdentifier:n,nonce:i,balance:s}}parseWipe(e){this.ensureNoError(e);let r=this.findSingleEventByIdentifier(e,"ESDTWipe"),n=this.extractTokenIdentifier(r),i=this.extractNonce(r),s=this.extractAmount(r);return{userAddress:this.extractAddress(r),tokenIdentifier:n,nonce:i,balance:s}}parseUpdateAttributes(e){this.ensureNoError(e);let r=this.findSingleEventByIdentifier(e,"ESDTNFTUpdateAttributes"),n=this.extractTokenIdentifier(r),i=this.extractNonce(r),s=r.topics[3]?.valueOf();return{tokenIdentifier:n,nonce:i,attributes:s}}parseAddQuantity(e){this.ensureNoError(e);let r=this.findSingleEventByIdentifier(e,"ESDTNFTAddQuantity"),n=this.extractTokenIdentifier(r),i=this.extractNonce(r),s=this.extractAmount(r);return{tokenIdentifier:n,nonce:i,addedQuantity:s}}parseBurnQuantity(e){this.ensureNoError(e);let r=this.findSingleEventByIdentifier(e,"ESDTNFTBurn"),n=this.extractTokenIdentifier(r),i=this.extractNonce(r),s=this.extractAmount(r);return{tokenIdentifier:n,nonce:i,burntQuantity:s}}ensureNoError(e){for(let r of e.logs.events)if(r.identifier=="signalError"){let n=p.Buffer.from(r.data.substring(1),"hex").toString(),i=r.topics[1]?.valueOf().toString();throw new Bb.ErrCannotParseTransactionOutcome(e.hash,`encountered signalError: ${i} (${n})`)}}findSingleEventByIdentifier(e,r){let n=this.gatherAllEvents(e).filter(i=>i.identifier==r);if(n.length==0)throw new Bb.ErrCannotParseTransactionOutcome(e.hash,`cannot find event of type ${r}`);if(n.length>1)throw new Bb.ErrCannotParseTransactionOutcome(e.hash,`more than one event of type ${r}`);return n[0]}gatherAllEvents(e){let r=[];r.push(...e.logs.events);for(let n of e.contractResults.items)r.push(...n.logs.events);return r}extractTokenIdentifier(e){return e.topics[0]?.valueOf().toString()}extractNonce(e){return wP.bufferToBigInt(e.topics[1]?.valueOf()).toFixed(0)}extractAmount(e){return wP.bufferToBigInt(e.topics[2]?.valueOf()).toFixed(0)}extractAddress(e){return H$.Address.fromBuffer(e.topics[3]?.valueOf()).toString()}};P0.TokenOperationsOutcomeParser=Mb});var Fb=D(Ms=>{"use strict";h();var G$=Ms&&Ms.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Lb=Ms&&Ms.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&G$(e,t,r)};Object.defineProperty(Ms,"__esModule",{value:!0});Lb(mP(),Ms);Lb(yP(),Ms);Lb(vP(),Ms)});var AP=D(R0=>{"use strict";h();Object.defineProperty(R0,"__esModule",{value:!0});R0.DelegationTransactionsOutcomeParser=void 0;var j$=ke(),z$=Ie(),Q$=vc(),Ub=class{constructor(){}parseCreateNewDelegationContract(e){return this.ensureNoError(e.logs.events),Q$.findEventsByIdentifier(e,"SCDeploy").map(n=>({contractAddress:this.extractContractAddress(n)}))}ensureNoError(e){for(let r of e)if(r.identifier=="signalError"){let n=p.Buffer.from(r.dataItems[0]?.toString().slice(1)).toString()||"",i=this.decodeTopicAsString(r.topics[1]);throw new z$.ErrParseTransactionOutcome(`encountered signalError: ${i} (${p.Buffer.from(n,"hex").toString()})`)}}extractContractAddress(e){if(!e.topics[0]?.length)return"";let r=p.Buffer.from(e.topics[0]);return j$.Address.fromBuffer(r).bech32()}decodeTopicAsString(e){return p.Buffer.from(e).toString()}};R0.DelegationTransactionsOutcomeParser=Ub});var SP=D(B0=>{"use strict";h();Object.defineProperty(B0,"__esModule",{value:!0});B0.SmartContractTransactionsOutcomeParser=void 0;var EP=ke(),K$=Ie(),bP=Vn(),W$=vc(),qb=class{constructor(e){this.abi=e?.abi,this.legacyResultsParser=e?.legacyResultsParser||new bP.ResultsParser}parseDeploy(e){let r=e.transactionOutcome.directSmartContractCallOutcome,i=W$.findEventsByIdentifier(e.transactionOutcome,"SCDeploy").map(s=>this.parseScDeployEvent(s));return{returnCode:r.returnCode,returnMessage:r.returnMessage,contracts:i}}parseScDeployEvent(e){let r=e.topics[0],n=e.topics[1],i=e.topics[2],s=r?.length?new EP.Address(r).toBech32():"",o=n?.length?new EP.Address(n).toBech32():"";return{address:s,ownerAddress:o,codeHash:i}}parseExecute(e){let r=e.transactionOutcome.directSmartContractCallOutcome;if(!this.abi)return{values:r.returnDataParts,returnCode:r.returnCode,returnMessage:r.returnMessage};let n=e.function||r.function;if(!n)throw new K$.Err('Function name is not available in the transaction outcome, thus endpoint definition (ABI) cannot be picked (for parsing). Maybe provide the "function" parameter explicitly?');let i=this.abi.getEndpoint(n),s={returnCode:new bP.ReturnCode(r.returnCode),returnMessage:r.returnMessage,values:r.returnDataParts.map(u=>p.Buffer.from(u))},o=this.legacyResultsParser.parseOutcomeFromUntypedBundle(s,i);return{values:o.values.map(u=>u.valueOf()),returnCode:o.returnCode.toString(),returnMessage:o.returnMessage}}};B0.SmartContractTransactionsOutcomeParser=qb});var TP=D(M0=>{"use strict";h();Object.defineProperty(M0,"__esModule",{value:!0});M0.TokenManagementTransactionsOutcomeParser=void 0;var $$=ke(),IP=Ie(),_P=Pu(),vr=vc(),Vb=class{constructor(){}parseIssueFungible(e){return this.ensureNoError(e.logs.events),vr.findEventsByIdentifier(e,"issue").map(n=>({tokenIdentifier:this.extractTokenIdentifier(n)}))}parseIssueNonFungible(e){return this.ensureNoError(e.logs.events),vr.findEventsByIdentifier(e,"issueNonFungible").map(n=>({tokenIdentifier:this.extractTokenIdentifier(n)}))}parseIssueSemiFungible(e){return this.ensureNoError(e.logs.events),vr.findEventsByIdentifier(e,"issueSemiFungible").map(n=>({tokenIdentifier:this.extractTokenIdentifier(n)}))}parseRegisterMetaEsdt(e){return this.ensureNoError(e.logs.events),vr.findEventsByIdentifier(e,"registerMetaESDT").map(n=>({tokenIdentifier:this.extractTokenIdentifier(n)}))}parseRegisterAndSetAllRoles(e){this.ensureNoError(e.logs.events);let r=vr.findEventsByIdentifier(e,"registerAndSetAllRoles"),n=vr.findEventsByIdentifier(e,"ESDTSetRole");if(r.length!==n.length)throw new IP.ErrParseTransactionOutcome("Register Events and Set Role events mismatch. Should have the same number of events.");return r.map((i,s)=>{let o=this.extractTokenIdentifier(i),a=n[s].topics.slice(3).map(c=>this.decodeTopicAsString(c));return{tokenIdentifier:o,roles:a}})}parseSetBurnRoleGlobally(e){this.ensureNoError(e.logs.events)}parseUnsetBurnRoleGlobally(e){this.ensureNoError(e.logs.events)}parseSetSpecialRole(e){return this.ensureNoError(e.logs.events),vr.findEventsByIdentifier(e,"ESDTSetRole").map(n=>this.getOutputForSetSpecialRoleEvent(n))}getOutputForSetSpecialRoleEvent(e){let r=e.address,n=this.extractTokenIdentifier(e),s=e.topics.slice(3).map(o=>this.decodeTopicAsString(o));return{userAddress:r,tokenIdentifier:n,roles:s}}parseNftCreate(e){return this.ensureNoError(e.logs.events),vr.findEventsByIdentifier(e,"ESDTNFTCreate").map(n=>this.getOutputForNftCreateEvent(n))}getOutputForNftCreateEvent(e){let r=this.extractTokenIdentifier(e),n=this.extractNonce(e),i=this.extractAmount(e);return{tokenIdentifier:r,nonce:n,initialQuantity:i}}parseLocalMint(e){return this.ensureNoError(e.logs.events),vr.findEventsByIdentifier(e,"ESDTLocalMint").map(n=>this.getOutputForLocalMintEvent(n))}getOutputForLocalMintEvent(e){let r=e.address,n=this.extractTokenIdentifier(e),i=this.extractNonce(e),s=this.extractAmount(e);return{userAddress:r,tokenIdentifier:n,nonce:i,mintedSupply:s}}parseLocalBurn(e){return this.ensureNoError(e.logs.events),vr.findEventsByIdentifier(e,"ESDTLocalBurn").map(n=>this.getOutputForLocalBurnEvent(n))}getOutputForLocalBurnEvent(e){let r=e.address,n=this.extractTokenIdentifier(e),i=this.extractNonce(e),s=this.extractAmount(e);return{userAddress:r,tokenIdentifier:n,nonce:i,burntSupply:s}}parsePause(e){return this.ensureNoError(e.logs.events),vr.findEventsByIdentifier(e,"ESDTPause").map(n=>({tokenIdentifier:this.extractTokenIdentifier(n)}))}parseUnpause(e){return this.ensureNoError(e.logs.events),vr.findEventsByIdentifier(e,"ESDTUnPause").map(n=>({tokenIdentifier:this.extractTokenIdentifier(n)}))}parseFreeze(e){return this.ensureNoError(e.logs.events),vr.findEventsByIdentifier(e,"ESDTFreeze").map(n=>this.getOutputForFreezeEvent(n))}getOutputForFreezeEvent(e){let r=this.extractAddress(e),n=this.extractTokenIdentifier(e),i=this.extractNonce(e),s=this.extractAmount(e);return{userAddress:r,tokenIdentifier:n,nonce:i,balance:s}}parseUnfreeze(e){return this.ensureNoError(e.logs.events),vr.findEventsByIdentifier(e,"ESDTUnFreeze").map(n=>this.getOutputForUnfreezeEvent(n))}getOutputForUnfreezeEvent(e){let r=this.extractAddress(e),n=this.extractTokenIdentifier(e),i=this.extractNonce(e),s=this.extractAmount(e);return{userAddress:r,tokenIdentifier:n,nonce:i,balance:s}}parseWipe(e){return this.ensureNoError(e.logs.events),vr.findEventsByIdentifier(e,"ESDTWipe").map(n=>this.getOutputForWipeEvent(n))}getOutputForWipeEvent(e){let r=this.extractAddress(e),n=this.extractTokenIdentifier(e),i=this.extractNonce(e),s=this.extractAmount(e);return{userAddress:r,tokenIdentifier:n,nonce:i,balance:s}}parseUpdateAttributes(e){return this.ensureNoError(e.logs.events),vr.findEventsByIdentifier(e,"ESDTNFTUpdateAttributes").map(n=>this.getOutputForUpdateAttributesEvent(n))}getOutputForUpdateAttributesEvent(e){let r=this.extractTokenIdentifier(e),n=this.extractNonce(e),i=e.topics[3]?e.topics[3]:new Uint8Array;return{tokenIdentifier:r,nonce:n,attributes:i}}parseAddQuantity(e){return this.ensureNoError(e.logs.events),vr.findEventsByIdentifier(e,"ESDTNFTAddQuantity").map(n=>this.getOutputForAddQuantityEvent(n))}getOutputForAddQuantityEvent(e){let r=this.extractTokenIdentifier(e),n=this.extractNonce(e),i=this.extractAmount(e);return{tokenIdentifier:r,nonce:n,addedQuantity:i}}parseBurnQuantity(e){return this.ensureNoError(e.logs.events),vr.findEventsByIdentifier(e,"ESDTNFTBurn").map(n=>this.getOutputForBurnQuantityEvent(n))}getOutputForBurnQuantityEvent(e){let r=this.extractTokenIdentifier(e),n=this.extractNonce(e),i=this.extractAmount(e);return{tokenIdentifier:r,nonce:n,burntQuantity:i}}ensureNoError(e){for(let r of e)if(r.identifier=="signalError"){let n=p.Buffer.from(r.dataItems[0]?.toString().slice(1)).toString()||"",i=this.decodeTopicAsString(r.topics[1]);throw new IP.ErrParseTransactionOutcome(`encountered signalError: ${i} (${p.Buffer.from(n,"hex").toString()})`)}}extractTokenIdentifier(e){return e.topics[0]?.length?this.decodeTopicAsString(e.topics[0]):""}extractNonce(e){if(!e.topics[1]?.length)return BigInt(0);let r=p.Buffer.from(e.topics[1]);return BigInt(_P.bufferToBigInt(r).toFixed(0))}extractAmount(e){if(!e.topics[2]?.length)return BigInt(0);let r=p.Buffer.from(e.topics[2]);return BigInt(_P.bufferToBigInt(r).toFixed(0))}extractAddress(e){if(!e.topics[3]?.length)return"";let r=p.Buffer.from(e.topics[3]);return $$.Address.fromBuffer(r).bech32()}decodeTopicAsString(e){return p.Buffer.from(e).toString()}};M0.TokenManagementTransactionsOutcomeParser=Vb});var CP=D(L0=>{"use strict";h();Object.defineProperty(L0,"__esModule",{value:!0});L0.TransactionEventsParser=void 0;var Y$=Vn(),kb=class{constructor(e){this.legacyResultsParser=new Y$.ResultsParser,this.abi=e.abi,this.firstTopicIsIdentifier=e.firstTopicIsIdentifier??!0}parseEvents(e){let r=[];for(let n of e.events){let i=this.parseEvent({event:n});r.push(i)}return r}parseEvent(e){let r=e.event.topics.map(u=>p.Buffer.from(u)),n=this.firstTopicIsIdentifier?r[0]?.toString():e.event.identifier;this.firstTopicIsIdentifier&&r.shift();let i=e.event.dataItems.map(u=>p.Buffer.from(u)),s=this.abi.getEvent(n);return this.legacyResultsParser.doParseEvent({topics:r,dataItems:i,eventDefinition:s})}};L0.TransactionEventsParser=kb});var Hb=D(bi=>{"use strict";h();var J$=bi&&bi.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),th=bi&&bi.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&J$(e,t,r)};Object.defineProperty(bi,"__esModule",{value:!0});th(AP(),bi);th(vc(),bi);th(SP(),bi);th(TP(),bi);th(CP(),bi)});var Sc=D(F0=>{"use strict";h();Object.defineProperty(F0,"__esModule",{value:!0});F0.Account=void 0;var X$=ke(),Gb=class{constructor(e){this.address=X$.Address.empty(),this.nonce=0,this.balance="0",this.address=e}update(e){this.nonce=e.nonce,this.balance=e.balance}incrementNonce(){this.nonce=this.nonce.valueOf()+1}getNonceThenIncrement(){let e=this.nonce;return this.nonce=this.nonce.valueOf()+1,e}toJSON(){return{address:this.address.bech32(),nonce:this.nonce.valueOf(),balance:this.balance.toString()}}};F0.Account=Gb});var zb=D(Ic=>{"use strict";h();Object.defineProperty(Ic,"__esModule",{value:!0});Ic.MessageComputer=Ic.Message=void 0;var rh=yr(),Z$=ke(),eY=af(),U0=class{constructor(e){this.data=e.data,this.signature=e.signature,this.address=e.address,this.version=e.version||rh.DEFAULT_MESSAGE_VERSION,this.signer=e.signer||rh.SDK_JS_SIGNER}};Ic.Message=U0;var jb=class{constructor(){}computeBytesForSigning(e){let r=p.Buffer.from(e.data.length.toString()),n=p.Buffer.concat([r,e.data]),i=p.Buffer.concat([p.Buffer.from(rh.MESSAGE_PREFIX),n]);return eY("keccak256").update(i).digest()}computeBytesForVerifying(e){return this.computeBytesForSigning(e)}packMessage(e){return{message:p.Buffer.from(e.data).toString("hex"),signature:e.signature?p.Buffer.from(e.signature).toString("hex"):"",address:e.address?e.address.bech32():"",version:e.version,signer:e.signer}}unpackMessage(e){let r=this.trimHexPrefix(e.message),n=p.Buffer.from(r,"hex"),i=this.trimHexPrefix(e.signature||""),s=p.Buffer.from(i,"hex"),o;e.address&&(o=Z$.Address.fromBech32(e.address));let u=e.version||rh.DEFAULT_MESSAGE_VERSION,a=e.signer||rh.UNKNOWN_SIGNER;return new U0({data:n,signature:s,address:o,version:u,signer:a})}trimHexPrefix(e){return e.startsWith("0x")||e.startsWith("0X")?e.slice(2):e}};Ic.MessageComputer=jb});var Wb=D(es=>{"use strict";h();var tY=es&&es.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),rY=es&&es.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),nY=es&&es.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&tY(e,t,r);return rY(e,t),e};Object.defineProperty(es,"__esModule",{value:!0});es.AsyncTimer=void 0;var iY=nY(Ie()),sY=Ie(),Qb=so(),Kb=class{constructor(e){this.timeoutHandle=null,this.rejectionFunc=null,this.name=e,this.correlationTag=0}start(e){if(this.timeoutHandle)throw new iY.ErrAsyncTimerAlreadyRunning;return this.correlationTag++,Qb.Logger.trace(`AsyncTimer[${this.name}'${this.correlationTag}].start()`),new Promise((r,n)=>{this.rejectionFunc=n;let i=()=>{this.rejectionFunc=null,this.stop(),r()};this.timeoutHandle=setTimeout(i,e)})}abort(){Qb.Logger.trace(`AsyncTimer[${this.name}'${this.correlationTag}].abort()`),this.rejectionFunc&&(this.rejectionFunc(new sY.ErrAsyncTimerAborted),this.rejectionFunc=null),this.stop()}stop(){this.isStopped()||(Qb.Logger.trace(`AsyncTimer[${this.name}'${this.correlationTag}].stop()`),this.timeoutHandle&&(clearTimeout(this.timeoutHandle),this.timeoutHandle=null))}isStopped(){return!this.timeoutHandle}};es.AsyncTimer=Kb});var V0=D(q0=>{"use strict";h();Object.defineProperty(q0,"__esModule",{value:!0});q0.TransactionWatcher=void 0;var $b=Wb(),NP=yr(),Ls=Ie(),xP=so(),Co=class t{constructor(e,r={}){this.fetcher=new Yb(e),this.pollingIntervalMilliseconds=r.pollingIntervalMilliseconds||t.DefaultPollingInterval,this.timeoutMilliseconds=r.timeoutMilliseconds||t.DefaultTimeout,this.patienceMilliseconds=r.patienceMilliseconds||t.DefaultPatience}async awaitPending(e){let r=s=>s.status.isPending(),n=async()=>{let s=this.transactionOrTxHashToTxHash(e);return await this.fetcher.getTransaction(s)},i=()=>new Ls.ErrExpectedTransactionStatusNotReached;return this.awaitConditionally(r,n,i)}async awaitCompleted(e){let r=s=>{if(s.isCompleted===void 0)throw new Ls.ErrIsCompletedFieldIsMissingOnTransaction;return s.isCompleted},n=async()=>{let s=this.transactionOrTxHashToTxHash(e);return await this.fetcher.getTransaction(s)},i=()=>new Ls.ErrExpectedTransactionStatusNotReached;return this.awaitConditionally(r,n,i)}async awaitAllEvents(e,r){let n=o=>{let u=this.getAllTransactionEvents(o).map(c=>c.identifier);return r.every(c=>u.includes(c))},i=async()=>{let o=this.transactionOrTxHashToTxHash(e);return await this.fetcher.getTransaction(o)},s=()=>new Ls.ErrExpectedTransactionEventsNotFound;return this.awaitConditionally(n,i,s)}async awaitAnyEvent(e,r){let n=o=>{let u=this.getAllTransactionEvents(o).map(c=>c.identifier);return r.find(c=>u.includes(c))!=null},i=async()=>{let o=this.transactionOrTxHashToTxHash(e);return await this.fetcher.getTransaction(o)},s=()=>new Ls.ErrExpectedTransactionEventsNotFound;return this.awaitConditionally(n,i,s)}async awaitOnCondition(e,r){let n=async()=>{let s=this.transactionOrTxHashToTxHash(e);return await this.fetcher.getTransaction(s)},i=()=>new Ls.ErrExpectedTransactionStatusNotReached;return this.awaitConditionally(r,n,i)}transactionOrTxHashToTxHash(e){let r=typeof e=="string"?e:e.getHash().hex();if(r.length!==NP.HEX_TRANSACTION_HASH_LENGTH)throw new Ls.Err(`Invalid transaction hash length. The length of a hex encoded hash should be ${NP.HEX_TRANSACTION_HASH_LENGTH}.`);return r}async awaitConditionally(e,r,n){let i=new $b.AsyncTimer("watcher:periodic"),s=new $b.AsyncTimer("watcher:patience"),o=new $b.AsyncTimer("watcher:timeout"),u=!1,a,c=!1;for(o.start(this.timeoutMilliseconds).finally(()=>{o.stop(),u=!0});!u;){await i.start(this.pollingIntervalMilliseconds);try{if(a=await r(),c=e(a),c||u)break}catch(f){if(xP.Logger.debug("TransactionWatcher.awaitConditionally(): cannot (yet) fetch data."),f instanceof Ls.ErrIsCompletedFieldIsMissingOnTransaction||!(f instanceof Ls.Err))throw f}}if(c&&await s.start(this.patienceMilliseconds),o.isStopped()||o.stop(),!a||!c)throw n();return a}getAllTransactionEvents(e){let r=[...e.logs.events];for(let n of e.contractResults.items)r.push(...n.logs.events);return r}};q0.TransactionWatcher=Co;Co.DefaultPollingInterval=6e3;Co.DefaultTimeout=Co.DefaultPollingInterval*15;Co.DefaultPatience=0;Co.NoopOnStatusReceived=t=>{};var Yb=class{constructor(e){this.fetcher=e}async getTransaction(e){return xP.Logger.debug(`transactionWatcher, getTransaction(${e})`),await this.fetcher.getTransaction(e)}}});var H0=D(k0=>{"use strict";h();Object.defineProperty(k0,"__esModule",{value:!0});k0.SignableMessage=void 0;var oY=ke(),aY=Yf(),uY=yr(),cY=af(),Jb=class{constructor(e){this.message=p.Buffer.from([]),this.signature=p.Buffer.from([]),this.version=1,this.signer="ErdJS",this.address=oY.Address.empty(),Object.assign(this,e)}serializeForSigning(){let e=p.Buffer.from(this.message.length.toString()),r=p.Buffer.concat([e,this.message]),n=p.Buffer.concat([p.Buffer.from(uY.MESSAGE_PREFIX),r]);return cY("keccak256").update(n).digest()}serializeForSigningRaw(){return p.Buffer.concat([this.getMessageSize(),this.message])}getSignature(){return this.signature}applySignature(e){this.signature=aY.interpretSignatureAsBuffer(e)}getMessageSize(){let e=p.Buffer.alloc(4);return e.writeUInt32BE(this.message.length,0),e}toJSON(){return{address:this.address.bech32(),message:"0x"+this.message.toString("hex"),signature:"0x"+this.signature.toString("hex"),version:this.version,signer:this.signer}}};k0.SignableMessage=Jb});var _c=D(Ar=>{"use strict";h();var lY=Ar&&Ar.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),fY=Ar&&Ar.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),hY=Ar&&Ar.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&lY(e,t,r);return fY(e,t),e};Object.defineProperty(Ar,"__esModule",{value:!0});Ar.zeroPadStringIfOddLength=Ar.isPaddedHex=Ar.numberToPaddedHex=Ar.Nonce=Ar.Address=void 0;var OP=hY(_v()),dY="erd",Xb=class t{constructor(e){this.value=e}static fromPubkey(e){let r=OP.toWords(e),n=OP.encode(dY,r);return new t(n)}bech32(){return this.value}toString(){return this.bech32()}};Ar.Address=Xb;var Zb=class{constructor(e){this.value=e}valueOf(){return this.value}hex(){return DP(this.value)}};Ar.Nonce=Zb;function DP(t){let e=t.toString(16);return PP(e)}Ar.numberToPaddedHex=DP;function gY(t){t=t||"";let e=p.Buffer.from(t,"hex").toString("hex");return t.toUpperCase()==e.toUpperCase()}Ar.isPaddedHex=gY;function PP(t){return t=t||"",t.length%2==1?"0"+t:t}Ar.zeroPadStringIfOddLength=PP});var RP=D(No=>{"use strict";h();var pY=No&&No.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(No,"__esModule",{value:!0});No.EsdtContractAddress=No.MaxUint64AsBigNumber=void 0;var mY=pY((nr(),xe(hr))),yY=_c();No.MaxUint64AsBigNumber=new mY.default("18446744073709551615");No.EsdtContractAddress=new yY.Address("erd1qqqqqqqqqqqqqqqpqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqzllls8a5w6u")});var tS=D(Tc=>{"use strict";h();var wY=Tc&&Tc.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Tc,"__esModule",{value:!0});Tc.ContractQueryResponse=void 0;var vY=wY((nr(),xe(hr))),AY=RP(),eS=class t{constructor(e){this.returnData=e?.returnData||[],this.returnCode=e?.returnCode||"",this.returnMessage=e?.returnMessage||"",this.gasUsed=e?.gasUsed||0}static fromHttpResponse(e){let r=e.returnData||e.ReturnData,n=e.returnCode||e.ReturnCode,i=e.returnMessage||e.ReturnMessage,s=new vY.default(e.gasRemaining||e.GasRemaining||0),o=AY.MaxUint64AsBigNumber.minus(s).toNumber();return new t({returnData:r,returnCode:n,returnMessage:i,gasUsed:o})}getReturnDataParts(){return this.returnData.map(e=>p.Buffer.from(e||"","base64"))}toJSON(){return{returnData:this.returnData,returnCode:this.returnCode,returnMessage:this.returnMessage,gasUsed:this.gasUsed.valueOf()}}};Tc.ContractQueryResponse=eS});var BP=D(xo=>{"use strict";h();Object.defineProperty(xo,"__esModule",{value:!0});xo.ErrAccountNotConnected=xo.ErrCannotSignSingleTransaction=xo.Err=void 0;var nh=class extends Error{constructor(e,r){super(e),this.inner=void 0,this.inner=r}};xo.Err=nh;var rS=class extends nh{constructor(){super("Cannot sign single transaction.")}};xo.ErrCannotSignSingleTransaction=rS;var nS=class extends nh{constructor(){super("Account is not connected.")}};xo.ErrAccountNotConnected=nS});var MP=D(ih=>{"use strict";h();Object.defineProperty(ih,"__esModule",{value:!0});ih.Operation=void 0;var EY;(function(t){t.Connect="connect",t.Logout="logout",t.SignTransactions="signTransactions",t.SignMessage="signMessage",t.CancelAction="cancelAction"})(EY=ih.Operation||(ih.Operation={}))});var iS=D(Cc=>{"use strict";h();var Oo=Cc&&Cc.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function u(f){try{c(n.next(f))}catch(d){o(d)}}function a(f){try{c(n.throw(f))}catch(d){o(d)}}function c(f){f.done?s(f.value):i(f.value).then(u,a)}c((n=n.apply(t,e||[])).next())})};Object.defineProperty(Cc,"__esModule",{value:!0});Cc.ExtensionProvider=void 0;var bY=en(),LP=BP(),sh=MP(),oh=class t{constructor(){if(this.account={address:""},this.initialized=!1,t._instance)throw new Error("Error: Instantiation failed: Use ExtensionProvider.getInstance() instead of new.");t._instance=this}static getInstance(){return t._instance}setAddress(e){return this.account.address=e,t._instance}init(){return Oo(this,void 0,void 0,function*(){return window&&window.elrondWallet&&(this.initialized=!0),this.initialized})}login(e={}){return Oo(this,void 0,void 0,function*(){if(!this.initialized)throw new Error("Extension provider is not initialised, call init() first");let{token:r}=e,n=r||"";return yield this.startBgrMsgChannel(sh.Operation.Connect,n),this.account.address})}logout(){return Oo(this,void 0,void 0,function*(){if(!this.initialized)throw new Error("Extension provider is not initialised, call init() first");try{yield this.startBgrMsgChannel(sh.Operation.Logout,this.account.address),this.disconnect()}catch(e){console.warn("Extension origin url is already cleared!",e)}return!0})}disconnect(){this.account={address:""}}getAddress(){return Oo(this,void 0,void 0,function*(){if(!this.initialized)throw new Error("Extension provider is not initialised, call init() first");return this.account?this.account.address:""})}isInitialized(){return this.initialized}isConnected(){return Oo(this,void 0,void 0,function*(){return!!this.account.address})}signTransaction(e){return Oo(this,void 0,void 0,function*(){this.ensureConnected();let r=yield this.signTransactions([e]);if(r.length!=1)throw new LP.ErrCannotSignSingleTransaction;return r[0]})}ensureConnected(){if(!this.account.address)throw new LP.ErrAccountNotConnected}signTransactions(e){return Oo(this,void 0,void 0,function*(){this.ensureConnected();let r=yield this.startBgrMsgChannel(sh.Operation.SignTransactions,{from:this.account.address,transactions:e.map(n=>n.toPlainObject())});try{return r.map(i=>bY.Transaction.fromPlainObject(i))}catch(n){throw new Error(`Transaction canceled: ${n.message}.`)}})}signMessage(e){return Oo(this,void 0,void 0,function*(){this.ensureConnected();let r={account:this.account.address,message:e.message.toString()},i=(yield this.startBgrMsgChannel(sh.Operation.SignMessage,r)).signature,s=p.Buffer.from(i,"hex");return e.applySignature(s),e})}cancelAction(){return this.startBgrMsgChannel(sh.Operation.CancelAction,{})}startBgrMsgChannel(e,r){return new Promise(n=>{window.postMessage({target:"erdw-inpage",type:e,data:r},window.origin);let i=s=>{s.isTrusted&&s.data.target==="erdw-contentScript"&&(s.data.type==="connectResponse"?(s.data.data&&s.data.data.address&&(this.account=s.data.data),window.removeEventListener("message",i),n(s.data.data)):(window.removeEventListener("message",i),n(s.data.data)))};window.addEventListener("message",i,!1)})}};Cc.ExtensionProvider=oh;oh._instance=new oh});function TY(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){CY(t);return}return e}function CY(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function ah(t,e={}){if(typeof t!="string")return t;let r=t.trim();if(t[0]==='"'&&t.endsWith('"')&&!t.includes("\\"))return r.slice(1,-1);if(r.length<=9){let n=r.toLowerCase();if(n==="true")return!0;if(n==="false")return!1;if(n==="undefined")return;if(n==="null")return null;if(n==="nan")return Number.NaN;if(n==="infinity")return Number.POSITIVE_INFINITY;if(n==="-infinity")return Number.NEGATIVE_INFINITY}if(!_Y.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(SY.test(t)||IY.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,TY)}return JSON.parse(t)}catch(n){if(e.strict)throw n;return t}}var SY,IY,_Y,kP=de(()=>{h();SY=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,IY=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,_Y=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/});function NY(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function dr(t,...e){try{return NY(t(...e))}catch(r){return Promise.reject(r)}}function xY(t){let e=typeof t;return t===null||e!=="object"&&e!=="function"}function OY(t){let e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function uh(t){if(xY(t))return String(t);if(OY(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return uh(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}function HP(){if(typeof p.Buffer===void 0)throw new TypeError("[unstorage] Buffer is not supported!")}function GP(t){if(typeof t=="string")return t;HP();let e=p.Buffer.from(t).toString("base64");return sS+e}function jP(t){return typeof t!="string"||!t.startsWith(sS)?t:(HP(),p.Buffer.from(t.slice(sS.length),"base64"))}function Hr(t){return t?t.split("?")[0].replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""):""}function zP(...t){return Hr(t.join(":"))}function ch(t){return t=Hr(t),t?t+":":""}var sS,QP=de(()=>{h();sS="base64:"});function $P(t={}){let e={mounts:{"":t.driver||PY()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},r=c=>{for(let f of e.mountpoints)if(c.startsWith(f))return{base:f,relativeKey:c.slice(f.length),driver:e.mounts[f]};return{base:"",relativeKey:c,driver:e.mounts[""]}},n=(c,f)=>e.mountpoints.filter(d=>d.startsWith(c)||f&&c.startsWith(d)).map(d=>({relativeBase:c.length>d.length?c.slice(d.length):void 0,mountpoint:d,driver:e.mounts[d]})),i=(c,f)=>{if(e.watching){f=Hr(f);for(let d of e.watchListeners)d(c,f)}},s=async()=>{if(!e.watching){e.watching=!0;for(let c in e.mounts)e.unwatch[c]=await KP(e.mounts[c],i,c)}},o=async()=>{if(e.watching){for(let c in e.unwatch)await e.unwatch[c]();e.unwatch={},e.watching=!1}},u=(c,f,d)=>{let w=new Map,A=_=>{let N=w.get(_.base);return N||(N={driver:_.driver,base:_.base,items:[]},w.set(_.base,N)),N};for(let _ of c){let N=typeof _=="string",P=Hr(N?_:_.key),V=N?void 0:_.value,U=N||!_.options?f:{...f,..._.options},Q=r(P);A(Q).items.push({key:P,value:V,relativeKey:Q.relativeKey,options:U})}return Promise.all([...w.values()].map(_=>d(_))).then(_=>_.flat())},a={hasItem(c,f={}){c=Hr(c);let{relativeKey:d,driver:w}=r(c);return dr(w.hasItem,d,f)},getItem(c,f={}){c=Hr(c);let{relativeKey:d,driver:w}=r(c);return dr(w.getItem,d,f).then(A=>ah(A))},getItems(c,f){return u(c,f,d=>d.driver.getItems?dr(d.driver.getItems,d.items.map(w=>({key:w.relativeKey,options:w.options})),f).then(w=>w.map(A=>({key:zP(d.base,A.key),value:ah(A.value)}))):Promise.all(d.items.map(w=>dr(d.driver.getItem,w.relativeKey,w.options).then(A=>({key:w.key,value:ah(A)})))))},getItemRaw(c,f={}){c=Hr(c);let{relativeKey:d,driver:w}=r(c);return w.getItemRaw?dr(w.getItemRaw,d,f):dr(w.getItem,d,f).then(A=>jP(A))},async setItem(c,f,d={}){if(f===void 0)return a.removeItem(c);c=Hr(c);let{relativeKey:w,driver:A}=r(c);A.setItem&&(await dr(A.setItem,w,uh(f),d),A.watch||i("update",c))},async setItems(c,f){await u(c,f,async d=>{if(d.driver.setItems)return dr(d.driver.setItems,d.items.map(w=>({key:w.relativeKey,value:uh(w.value),options:w.options})),f);d.driver.setItem&&await Promise.all(d.items.map(w=>dr(d.driver.setItem,w.relativeKey,uh(w.value),w.options)))})},async setItemRaw(c,f,d={}){if(f===void 0)return a.removeItem(c,d);c=Hr(c);let{relativeKey:w,driver:A}=r(c);if(A.setItemRaw)await dr(A.setItemRaw,w,f,d);else if(A.setItem)await dr(A.setItem,w,GP(f),d);else return;A.watch||i("update",c)},async removeItem(c,f={}){typeof f=="boolean"&&(f={removeMeta:f}),c=Hr(c);let{relativeKey:d,driver:w}=r(c);w.removeItem&&(await dr(w.removeItem,d,f),(f.removeMeta||f.removeMata)&&await dr(w.removeItem,d+"$",f),w.watch||i("remove",c))},async getMeta(c,f={}){typeof f=="boolean"&&(f={nativeOnly:f}),c=Hr(c);let{relativeKey:d,driver:w}=r(c),A=Object.create(null);if(w.getMeta&&Object.assign(A,await dr(w.getMeta,d,f)),!f.nativeOnly){let _=await dr(w.getItem,d+"$",f).then(N=>ah(N));_&&typeof _=="object"&&(typeof _.atime=="string"&&(_.atime=new Date(_.atime)),typeof _.mtime=="string"&&(_.mtime=new Date(_.mtime)),Object.assign(A,_))}return A},setMeta(c,f,d={}){return this.setItem(c+"$",f,d)},removeMeta(c,f={}){return this.removeItem(c+"$",f)},async getKeys(c,f={}){c=ch(c);let d=n(c,!0),w=[],A=[];for(let _ of d){let P=(await dr(_.driver.getKeys,_.relativeBase,f)).map(V=>_.mountpoint+Hr(V)).filter(V=>!w.some(U=>V.startsWith(U)));A.push(...P),w=[_.mountpoint,...w.filter(V=>!V.startsWith(_.mountpoint))]}return c?A.filter(_=>_.startsWith(c)&&!_.endsWith("$")):A.filter(_=>!_.endsWith("$"))},async clear(c,f={}){c=ch(c),await Promise.all(n(c,!1).map(async d=>{if(d.driver.clear)return dr(d.driver.clear,d.relativeBase,f);if(d.driver.removeItem){let w=await d.driver.getKeys(d.relativeBase||"",f);return Promise.all(w.map(A=>d.driver.removeItem(A,f)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(c=>WP(c)))},async watch(c){return await s(),e.watchListeners.push(c),async()=>{e.watchListeners=e.watchListeners.filter(f=>f!==c),e.watchListeners.length===0&&await o()}},async unwatch(){e.watchListeners=[],await o()},mount(c,f){if(c=ch(c),c&&e.mounts[c])throw new Error(`already mounted at ${c}`);return c&&(e.mountpoints.push(c),e.mountpoints.sort((d,w)=>w.length-d.length)),e.mounts[c]=f,e.watching&&Promise.resolve(KP(f,i,c)).then(d=>{e.unwatch[c]=d}).catch(console.error),a},async unmount(c,f=!0){c=ch(c),!(!c||!e.mounts[c])&&(e.watching&&c in e.unwatch&&(e.unwatch[c](),delete e.unwatch[c]),f&&await WP(e.mounts[c]),e.mountpoints=e.mountpoints.filter(d=>d!==c),delete e.mounts[c])},getMount(c=""){c=Hr(c)+":";let f=r(c);return{driver:f.driver,base:f.base}},getMounts(c="",f={}){return c=Hr(c),n(c,f.parents).map(w=>({driver:w.driver,base:w.mountpoint}))}};return a}function KP(t,e,r){return t.watch?t.watch((n,i)=>e(n,r+i)):()=>{}}async function WP(t){typeof t.dispose=="function"&&await dr(t.dispose)}var DY,PY,YP=de(()=>{h();kP();QP();DY="memory",PY=()=>{let t=new Map;return{name:DY,options:{},hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,r){t.set(e,r)},setItemRaw(e,r){t.set(e,r)},removeItem(e){t.delete(e)},getKeys(){return Array.from(t.keys())},clear(){t.clear()},dispose(){t.clear()}}}});function Ga(t){return new Promise((e,r)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>r(t.error)})}function aS(t,e){let r=indexedDB.open(t);r.onupgradeneeded=()=>r.result.createObjectStore(e);let n=Ga(r);return(i,s)=>n.then(o=>s(o.transaction(e,i).objectStore(e)))}function lh(){return oS||(oS=aS("keyval-store","keyval")),oS}function uS(t,e=lh()){return e("readonly",r=>Ga(r.get(t)))}function JP(t,e,r=lh()){return r("readwrite",n=>(n.put(e,t),Ga(n.transaction)))}function XP(t,e=lh()){return e("readwrite",r=>(r.delete(t),Ga(r.transaction)))}function ZP(t=lh()){return t("readwrite",e=>(e.clear(),Ga(e.transaction)))}function RY(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},Ga(t.transaction)}function e8(t=lh()){return t("readonly",e=>{if(e.getAllKeys)return Ga(e.getAllKeys());let r=[];return RY(e,n=>r.push(n.key)).then(()=>r)})}var oS,t8=de(()=>{h()});var r8={};Ot(r8,{safeJsonParse:()=>Po,safeJsonStringify:()=>Si});function Po(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return MY(t)}catch{return t}}function Si(t){return typeof t=="string"?t:BY(t)||""}var BY,MY,Nc=de(()=>{h();BY=t=>JSON.stringify(t,(e,r)=>typeof r=="bigint"?r.toString()+"n":r),MY=t=>{let e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,r=t.replace(e,'$1"$2n"$3');return JSON.parse(r,(n,i)=>typeof i=="string"&&i.match(/^\d+n$/)?BigInt(i.substring(0,i.length-1)):i)}});var i8={};Ot(i8,{KeyValueStorage:()=>hS,default:()=>hS});function VY(t){var e;return[t[0],Po((e=t[1])!=null?e:"")]}var LY,FY,UY,qY,lS,cS,Q0,fS,kY,n8,HY,GY,hS,s8=de(()=>{h();YP();t8();Nc();LY="idb-keyval",FY=(t={})=>{let e=t.base&&t.base.length>0?`${t.base}:`:"",r=i=>e+i,n;return t.dbName&&t.storeName&&(n=aS(t.dbName,t.storeName)),{name:LY,options:t,async hasItem(i){return!(typeof await uS(r(i),n)>"u")},async getItem(i){return await uS(r(i),n)??null},setItem(i,s){return JP(r(i),s,n)},removeItem(i){return XP(r(i),n)},getKeys(){return e8(n)},clear(){return ZP(n)}}},UY="WALLET_CONNECT_V2_INDEXED_DB",qY="keyvaluestorage",lS=class{constructor(){this.indexedDb=$P({driver:FY({dbName:UY,storeName:qY})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){let r=await this.indexedDb.getItem(e);if(r!==null)return r}async setItem(e,r){await this.indexedDb.setItem(e,Si(r))}async removeItem(e){await this.indexedDb.removeItem(e)}},cS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Q0={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(r){return this.hasOwnProperty(r)?String(this[r]):null},t.prototype.setItem=function(r,n){this[r]=String(n)},t.prototype.removeItem=function(r){delete this[r]},t.prototype.clear=function(){let r=this;Object.keys(r).forEach(function(n){r[n]=void 0,delete r[n]})},t.prototype.key=function(r){return r=r||0,Object.keys(this)[r]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof cS<"u"&&cS.localStorage?Q0.exports=cS.localStorage:typeof window<"u"&&window.localStorage?Q0.exports=window.localStorage:Q0.exports=new e})();fS=class{constructor(){this.localStorage=Q0.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(VY)}async getItem(e){let r=this.localStorage.getItem(e);if(r!==null)return Po(r)}async setItem(e,r){this.localStorage.setItem(e,Si(r))}async removeItem(e){this.localStorage.removeItem(e)}},kY="wc_storage_version",n8=1,HY=async(t,e,r)=>{let n=kY,i=await e.getItem(n);if(i&&i>=n8){r(e);return}let s=await t.getKeys();if(!s.length){r(e);return}let o=[];for(;s.length;){let u=s.shift();if(!u)continue;let a=u.toLowerCase();if(a.includes("wc@")||a.includes("walletconnect")||a.includes("wc_")||a.includes("wallet_connect")){let c=await t.getItem(u);await e.setItem(u,c),o.push(u)}}await e.setItem(n,n8),r(e),GY(t,o)},GY=async(t,e)=>{e.length&&e.forEach(async r=>{await t.removeItem(r)})},hS=class{constructor(){this.initialized=!1,this.setInitialized=r=>{this.storage=r,this.initialized=!0};let e=new fS;this.storage=e;try{let r=new lS;HY(e,r,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,r){return await this.initialize(),this.storage.setItem(e,r)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{let r=setInterval(()=>{this.initialized&&(clearInterval(r),e())},20)})}}});var xc={};Ot(xc,{__assign:()=>gS,__asyncDelegator:()=>rJ,__asyncGenerator:()=>tJ,__asyncValues:()=>nJ,__await:()=>fh,__awaiter:()=>$Y,__classPrivateFieldGet:()=>aJ,__classPrivateFieldSet:()=>uJ,__createBinding:()=>JY,__decorate:()=>QY,__exportStar:()=>XY,__extends:()=>jY,__generator:()=>YY,__importDefault:()=>oJ,__importStar:()=>sJ,__makeTemplateObject:()=>iJ,__metadata:()=>WY,__param:()=>KY,__read:()=>o8,__rest:()=>zY,__spread:()=>ZY,__spreadArrays:()=>eJ,__values:()=>pS});function jY(t,e){dS(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function zY(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function QY(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var u=t.length-1;u>=0;u--)(o=t[u])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function KY(t,e){return function(r,n){e(r,n,t)}}function WY(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function $Y(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function u(f){try{c(n.next(f))}catch(d){o(d)}}function a(f){try{c(n.throw(f))}catch(d){o(d)}}function c(f){f.done?s(f.value):i(f.value).then(u,a)}c((n=n.apply(t,e||[])).next())})}function YY(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(c){return function(f){return a([c,f])}}function a(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(f){c=[6,f],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function JY(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function XY(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function pS(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function o8(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(u){o={error:u}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function ZY(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(o8(arguments[e]));return t}function eJ(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],o=0,u=s.length;o<u;o++,i++)n[i]=s[o];return n}function fh(t){return this instanceof fh?(this.v=t,this):new fh(t)}function tJ(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(w){n[w]&&(i[w]=function(A){return new Promise(function(_,N){s.push([w,A,_,N])>1||u(w,A)})})}function u(w,A){try{a(n[w](A))}catch(_){d(s[0][3],_)}}function a(w){w.value instanceof fh?Promise.resolve(w.value.v).then(c,f):d(s[0][2],w)}function c(w){u("next",w)}function f(w){u("throw",w)}function d(w,A){w(A),s.shift(),s.length&&u(s[0][0],s[0][1])}}function rJ(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=t[i]?function(o){return(r=!r)?{value:fh(t[i](o)),done:i==="return"}:s?s(o):o}:s}}function nJ(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof pS=="function"?pS(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(o){return new Promise(function(u,a){o=t[s](o),i(u,a,o.done,o.value)})}}function i(s,o,u,a){Promise.resolve(a).then(function(c){s({value:c,done:u})},o)}}function iJ(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function sJ(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function oJ(t){return t&&t.__esModule?t:{default:t}}function aJ(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function uJ(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}var dS,gS,Oc=de(()=>{h();dS=function(t,e){return dS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},dS(t,e)};gS=function(){return gS=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},gS.apply(this,arguments)}});var a8=D(K0=>{"use strict";h();Object.defineProperty(K0,"__esModule",{value:!0});K0.delay=void 0;function cJ(t){return new Promise(e=>{setTimeout(()=>{e(!0)},t)})}K0.delay=cJ});var u8=D(Dc=>{"use strict";h();Object.defineProperty(Dc,"__esModule",{value:!0});Dc.ONE_THOUSAND=Dc.ONE_HUNDRED=void 0;Dc.ONE_HUNDRED=100;Dc.ONE_THOUSAND=1e3});var c8=D(le=>{"use strict";h();Object.defineProperty(le,"__esModule",{value:!0});le.ONE_YEAR=le.FOUR_WEEKS=le.THREE_WEEKS=le.TWO_WEEKS=le.ONE_WEEK=le.THIRTY_DAYS=le.SEVEN_DAYS=le.FIVE_DAYS=le.THREE_DAYS=le.ONE_DAY=le.TWENTY_FOUR_HOURS=le.TWELVE_HOURS=le.SIX_HOURS=le.THREE_HOURS=le.ONE_HOUR=le.SIXTY_MINUTES=le.THIRTY_MINUTES=le.TEN_MINUTES=le.FIVE_MINUTES=le.ONE_MINUTE=le.SIXTY_SECONDS=le.THIRTY_SECONDS=le.TEN_SECONDS=le.FIVE_SECONDS=le.ONE_SECOND=void 0;le.ONE_SECOND=1;le.FIVE_SECONDS=5;le.TEN_SECONDS=10;le.THIRTY_SECONDS=30;le.SIXTY_SECONDS=60;le.ONE_MINUTE=le.SIXTY_SECONDS;le.FIVE_MINUTES=le.ONE_MINUTE*5;le.TEN_MINUTES=le.ONE_MINUTE*10;le.THIRTY_MINUTES=le.ONE_MINUTE*30;le.SIXTY_MINUTES=le.ONE_MINUTE*60;le.ONE_HOUR=le.SIXTY_MINUTES;le.THREE_HOURS=le.ONE_HOUR*3;le.SIX_HOURS=le.ONE_HOUR*6;le.TWELVE_HOURS=le.ONE_HOUR*12;le.TWENTY_FOUR_HOURS=le.ONE_HOUR*24;le.ONE_DAY=le.TWENTY_FOUR_HOURS;le.THREE_DAYS=le.ONE_DAY*3;le.FIVE_DAYS=le.ONE_DAY*5;le.SEVEN_DAYS=le.ONE_DAY*7;le.THIRTY_DAYS=le.ONE_DAY*30;le.ONE_WEEK=le.SEVEN_DAYS;le.TWO_WEEKS=le.ONE_WEEK*2;le.THREE_WEEKS=le.ONE_WEEK*3;le.FOUR_WEEKS=le.ONE_WEEK*4;le.ONE_YEAR=le.ONE_DAY*365});var mS=D(W0=>{"use strict";h();Object.defineProperty(W0,"__esModule",{value:!0});var l8=(Oc(),xe(xc));l8.__exportStar(u8(),W0);l8.__exportStar(c8(),W0)});var h8=D(Pc=>{"use strict";h();Object.defineProperty(Pc,"__esModule",{value:!0});Pc.fromMiliseconds=Pc.toMiliseconds=void 0;var f8=mS();function lJ(t){return t*f8.ONE_THOUSAND}Pc.toMiliseconds=lJ;function fJ(t){return Math.floor(t/f8.ONE_THOUSAND)}Pc.fromMiliseconds=fJ});var g8=D($0=>{"use strict";h();Object.defineProperty($0,"__esModule",{value:!0});var d8=(Oc(),xe(xc));d8.__exportStar(a8(),$0);d8.__exportStar(h8(),$0)});var p8=D(hh=>{"use strict";h();Object.defineProperty(hh,"__esModule",{value:!0});hh.Watch=void 0;var Y0=class{constructor(){this.timestamps=new Map}start(e){if(this.timestamps.has(e))throw new Error(`Watch already started for label: ${e}`);this.timestamps.set(e,{started:Date.now()})}stop(e){let r=this.get(e);if(typeof r.elapsed<"u")throw new Error(`Watch already stopped for label: ${e}`);let n=Date.now()-r.started;this.timestamps.set(e,{started:r.started,elapsed:n})}get(e){let r=this.timestamps.get(e);if(typeof r>"u")throw new Error(`No timestamp found for label: ${e}`);return r}elapsed(e){let r=this.get(e);return r.elapsed||Date.now()-r.started}};hh.Watch=Y0;hh.default=Y0});var m8=D(J0=>{"use strict";h();Object.defineProperty(J0,"__esModule",{value:!0});J0.IWatch=void 0;var yS=class{};J0.IWatch=yS});var y8=D(wS=>{"use strict";h();Object.defineProperty(wS,"__esModule",{value:!0});var hJ=(Oc(),xe(xc));hJ.__exportStar(m8(),wS)});var Bc=D(Rc=>{"use strict";h();Object.defineProperty(Rc,"__esModule",{value:!0});var X0=(Oc(),xe(xc));X0.__exportStar(g8(),Rc);X0.__exportStar(p8(),Rc);X0.__exportStar(y8(),Rc);X0.__exportStar(mS(),Rc)});var dh,w8=de(()=>{h();dh=class{}});var v8={};Ot(v8,{IEvents:()=>dh});var vS=de(()=>{h();w8()});var b8={};Ot(b8,{HEARTBEAT_EVENTS:()=>E8,HEARTBEAT_INTERVAL:()=>AS,HeartBeat:()=>ES,IHeartBeat:()=>Z0});var A8,em,Z0,AS,E8,ES,S8=de(()=>{h();A8=ge(Os()),em=ge(Bc());vS();Z0=class extends dh{constructor(e){super()}},AS=em.FIVE_SECONDS,E8={pulse:"heartbeat_pulse"},ES=class t extends Z0{constructor(e){super(e),this.events=new A8.EventEmitter,this.interval=AS,this.interval=e?.interval||AS}static async init(e){let r=new t(e);return await r.init(),r}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),(0,em.toMiliseconds)(this.interval))}pulse(){this.events.emit(E8.pulse)}}});var _8=D((KAe,I8)=>{"use strict";h();function dJ(t){try{return JSON.stringify(t)}catch{return'"[Circular]"'}}I8.exports=gJ;function gJ(t,e,r){var n=r&&r.stringify||dJ,i=1;if(typeof t=="object"&&t!==null){var s=e.length+i;if(s===1)return t;var o=new Array(s);o[0]=n(t);for(var u=1;u<s;u++)o[u]=n(e[u]);return o.join(" ")}if(typeof t!="string")return t;var a=e.length;if(a===0)return t;for(var c="",f=1-i,d=-1,w=t&&t.length||0,A=0;A<w;){if(t.charCodeAt(A)===37&&A+1<w){switch(d=d>-1?d:0,t.charCodeAt(A+1)){case 100:case 102:if(f>=a||e[f]==null)break;d<A&&(c+=t.slice(d,A)),c+=Number(e[f]),d=A+2,A++;break;case 105:if(f>=a||e[f]==null)break;d<A&&(c+=t.slice(d,A)),c+=Math.floor(Number(e[f])),d=A+2,A++;break;case 79:case 111:case 106:if(f>=a||e[f]===void 0)break;d<A&&(c+=t.slice(d,A));var _=typeof e[f];if(_==="string"){c+="'"+e[f]+"'",d=A+2,A++;break}if(_==="function"){c+=e[f].name||"<anonymous>",d=A+2,A++;break}c+=n(e[f]),d=A+2,A++;break;case 115:if(f>=a)break;d<A&&(c+=t.slice(d,A)),c+=String(e[f]),d=A+2,A++;break;case 37:d<A&&(c+=t.slice(d,A)),c+="%",d=A+2,A++,f--;break}++f}++A}return d===-1?t:(d<w&&(c+=t.slice(d)),c)}});var IS=D(($Ae,x8)=>{"use strict";h();var T8=_8();x8.exports=ts;var gh=IJ().console||{},pJ={mapHttpRequest:tm,mapHttpResponse:tm,wrapRequestSerializer:bS,wrapResponseSerializer:bS,wrapErrorSerializer:bS,req:tm,res:tm,err:AJ};function mJ(t,e){return Array.isArray(t)?t.filter(function(n){return n!=="!stdSerializers.err"}):t===!0?Object.keys(e):!1}function ts(t){t=t||{},t.browser=t.browser||{};let e=t.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");let r=t.browser.write||gh;t.browser.write&&(t.browser.asObject=!0);let n=t.serializers||{},i=mJ(t.browser.serialize,n),s=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(s=!1);let o=["error","fatal","warn","info","debug","trace"];typeof r=="function"&&(r.error=r.fatal=r.warn=r.info=r.debug=r.trace=r),t.enabled===!1&&(t.level="silent");let u=t.level||"info",a=Object.create(r);a.log||(a.log=ph),Object.defineProperty(a,"levelVal",{get:f}),Object.defineProperty(a,"level",{get:d,set:w});let c={transmit:e,serialize:i,asObject:t.browser.asObject,levels:o,timestamp:EJ(t)};a.levels=ts.levels,a.level=u,a.setMaxListeners=a.getMaxListeners=a.emit=a.addListener=a.on=a.prependListener=a.once=a.prependOnceListener=a.removeListener=a.removeAllListeners=a.listeners=a.listenerCount=a.eventNames=a.write=a.flush=ph,a.serializers=n,a._serialize=i,a._stdErrSerialize=s,a.child=A,e&&(a._logEvent=SS());function f(){return this.level==="silent"?1/0:this.levels.values[this.level]}function d(){return this._level}function w(_){if(_!=="silent"&&!this.levels.values[_])throw Error("unknown level "+_);this._level=_,Mc(c,a,"error","log"),Mc(c,a,"fatal","error"),Mc(c,a,"warn","error"),Mc(c,a,"info","log"),Mc(c,a,"debug","log"),Mc(c,a,"trace","log")}function A(_,N){if(!_)throw new Error("missing bindings for child Pino");N=N||{},i&&_.serializers&&(N.serializers=_.serializers);let P=N.serializers;if(i&&P){var V=Object.assign({},n,P),U=t.browser.serialize===!0?Object.keys(V):i;delete _.serializers,rm([_],U,V,this._stdErrSerialize)}function Q(L){this._childLevel=(L._childLevel|0)+1,this.error=Lc(L,_,"error"),this.fatal=Lc(L,_,"fatal"),this.warn=Lc(L,_,"warn"),this.info=Lc(L,_,"info"),this.debug=Lc(L,_,"debug"),this.trace=Lc(L,_,"trace"),V&&(this.serializers=V,this._serialize=U),e&&(this._logEvent=SS([].concat(L._logEvent.bindings,_)))}return Q.prototype=this,new Q(this)}return a}ts.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};ts.stdSerializers=pJ;ts.stdTimeFunctions=Object.assign({},{nullTime:C8,epochTime:N8,unixTime:bJ,isoTime:SJ});function Mc(t,e,r,n){let i=Object.getPrototypeOf(e);e[r]=e.levelVal>e.levels.values[r]?ph:i[r]?i[r]:gh[r]||gh[n]||ph,yJ(t,e,r)}function yJ(t,e,r){!t.transmit&&e[r]===ph||(e[r]=function(n){return function(){let s=t.timestamp(),o=new Array(arguments.length),u=Object.getPrototypeOf&&Object.getPrototypeOf(this)===gh?gh:this;for(var a=0;a<o.length;a++)o[a]=arguments[a];if(t.serialize&&!t.asObject&&rm(o,this._serialize,this.serializers,this._stdErrSerialize),t.asObject?n.call(u,wJ(this,r,o,s)):n.apply(u,o),t.transmit){let c=t.transmit.level||e.level,f=ts.levels.values[c],d=ts.levels.values[r];if(d<f)return;vJ(this,{ts:s,methodLevel:r,methodValue:d,transmitLevel:c,transmitValue:ts.levels.values[t.transmit.level||e.level],send:t.transmit.send,val:e.levelVal},o)}}}(e[r]))}function wJ(t,e,r,n){t._serialize&&rm(r,t._serialize,t.serializers,t._stdErrSerialize);let i=r.slice(),s=i[0],o={};n&&(o.time=n),o.level=ts.levels.values[e];let u=(t._childLevel|0)+1;if(u<1&&(u=1),s!==null&&typeof s=="object"){for(;u--&&typeof i[0]=="object";)Object.assign(o,i.shift());s=i.length?T8(i.shift(),i):void 0}else typeof s=="string"&&(s=T8(i.shift(),i));return s!==void 0&&(o.msg=s),o}function rm(t,e,r,n){for(let i in t)if(n&&t[i]instanceof Error)t[i]=ts.stdSerializers.err(t[i]);else if(typeof t[i]=="object"&&!Array.isArray(t[i]))for(let s in t[i])e&&e.indexOf(s)>-1&&s in r&&(t[i][s]=r[s](t[i][s]))}function Lc(t,e,r){return function(){let n=new Array(1+arguments.length);n[0]=e;for(var i=1;i<n.length;i++)n[i]=arguments[i-1];return t[r].apply(this,n)}}function vJ(t,e,r){let n=e.send,i=e.ts,s=e.methodLevel,o=e.methodValue,u=e.val,a=t._logEvent.bindings;rm(r,t._serialize||Object.keys(t.serializers),t.serializers,t._stdErrSerialize===void 0?!0:t._stdErrSerialize),t._logEvent.ts=i,t._logEvent.messages=r.filter(function(c){return a.indexOf(c)===-1}),t._logEvent.level.label=s,t._logEvent.level.value=o,n(s,t._logEvent,u),t._logEvent=SS(a)}function SS(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}function AJ(t){let e={type:t.constructor.name,msg:t.message,stack:t.stack};for(let r in t)e[r]===void 0&&(e[r]=t[r]);return e}function EJ(t){return typeof t.timestamp=="function"?t.timestamp:t.timestamp===!1?C8:N8}function tm(){return{}}function bS(t){return t}function ph(){}function C8(){return!1}function N8(){return Date.now()}function bJ(){return Math.round(Date.now()/1e3)}function SJ(){return new Date(Date.now()).toISOString()}function IJ(){function t(e){return typeof e<"u"&&e}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return t(self)||t(window)||t(this)||{}}}});var NS={};Ot(NS,{MAX_LOG_SIZE_IN_BYTES_DEFAULT:()=>am,PINO_CUSTOM_CONTEXT_KEY:()=>Fc,PINO_LOGGER_DEFAULTS:()=>R8,formatChildLoggerContext:()=>F8,generateChildLogger:()=>DJ,generateClientLogger:()=>U8,generatePlatformLogger:()=>PJ,generateServerLogger:()=>q8,getBrowserLoggerContext:()=>B8,getDefaultLoggerOptions:()=>OJ,getLoggerContext:()=>L8,pino:()=>P8.default,setBrowserLoggerContext:()=>M8});function OJ(t){return om(sm({},t),{level:t?.level||R8.level})}function B8(t,e=Fc){return t[e]||""}function M8(t,e,r=Fc){return t[r]=e,t}function L8(t,e=Fc){let r="";return typeof t.bindings>"u"?r=B8(t,e):r=t.bindings().context||"",r}function F8(t,e,r=Fc){let n=L8(t,r);return n.trim()?`${n}/${e}`:e}function DJ(t,e,r=Fc){let n=F8(t,e,r),i=t.child({context:n});return M8(i,n,r)}function U8(t){var e,r;let n=new TS((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:(0,Fs.default)(om(sm({},t.opts),{level:"trace",browser:om(sm({},(r=t.opts)==null?void 0:r.browser),{write:i=>n.write(i)})})),chunkLoggerController:n}}function q8(t){var e;let r=new CS((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:(0,Fs.default)(om(sm({},t.opts),{level:"trace"}),r),chunkLoggerController:r}}function PJ(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?U8(t):q8(t)}var Fs,P8,R8,Fc,am,_S,nm,im,TS,CS,_J,TJ,CJ,O8,NJ,xJ,D8,sm,om,xS=de(()=>{h();Fs=ge(IS()),P8=ge(IS());Nc();R8={level:"info"},Fc="custom_context",am=1e3*1024,_S=class{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},nm=class{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){let r=new _S(e);if(r.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${r.size}`);for(;this.size+r.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=r),this.tail=r):(this.head=r,this.tail=r),this.lengthInNodes++,this.sizeInBytes+=r.size}shift(){if(!this.head)return;let e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){let e=[],r=this.head;for(;r!==null;)e.push(r.value),r=r.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};let r=e.value;return e=e.next,{done:!1,value:r}}}}},im=class{constructor(e,r=am){this.level=e??"error",this.levelValue=Fs.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=r,this.logs=new nm(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,r){r===Fs.levels.values.error?console.error(e):r===Fs.levels.values.warn?console.warn(e):r===Fs.levels.values.debug?console.debug(e):r===Fs.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(Si({timestamp:new Date().toISOString(),log:e}));let r=typeof e=="string"?JSON.parse(e).level:e.level;r>=this.levelValue&&this.forwardToConsole(e,r)}getLogs(){return this.logs}clearLogs(){this.logs=new nm(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){let r=this.getLogArray();return r.push(Si({extraMetadata:e})),new Blob(r,{type:"application/json"})}},TS=class{constructor(e,r=am){this.baseChunkLogger=new im(e,r)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){let r=URL.createObjectURL(this.logsToBlob(e)),n=document.createElement("a");n.href=r,n.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r)}},CS=class{constructor(e,r=am){this.baseChunkLogger=new im(e,r)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}},_J=Object.defineProperty,TJ=Object.defineProperties,CJ=Object.getOwnPropertyDescriptors,O8=Object.getOwnPropertySymbols,NJ=Object.prototype.hasOwnProperty,xJ=Object.prototype.propertyIsEnumerable,D8=(t,e,r)=>e in t?_J(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,sm=(t,e)=>{for(var r in e||(e={}))NJ.call(e,r)&&D8(t,r,e[r]);if(O8)for(var r of O8(e))xJ.call(e,r)&&D8(t,r,e[r]);return t},om=(t,e)=>TJ(t,CJ(e))});var WS=D(ur=>{"use strict";h();Object.defineProperty(ur,"__esModule",{value:!0});var Uc=(vS(),xe(v8)),V8=Os();function RJ(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}var BJ=RJ(V8),OS=class extends Uc.IEvents{constructor(e){super(),this.opts=e,this.protocol="wc",this.version=2}},DS=class{constructor(e,r,n){this.core=e,this.logger=r}},PS=class extends Uc.IEvents{constructor(e,r){super(),this.core=e,this.logger=r,this.records=new Map}},RS=class{constructor(e,r){this.logger=e,this.core=r}},BS=class extends Uc.IEvents{constructor(e,r){super(),this.relayer=e,this.logger=r}},MS=class extends Uc.IEvents{constructor(e){super()}},LS=class{constructor(e,r,n,i){this.core=e,this.logger=r,this.name=n}},FS=class{constructor(){this.map=new Map}},US=class extends Uc.IEvents{constructor(e,r){super(),this.relayer=e,this.logger=r}},qS=class{constructor(e,r){this.core=e,this.logger=r}},VS=class extends Uc.IEvents{constructor(e,r){super(),this.core=e,this.logger=r}},kS=class{constructor(e,r){this.logger=e,this.core=r}},HS=class{constructor(e,r){this.projectId=e,this.logger=r}},GS=class{constructor(e,r){this.projectId=e,this.logger=r}},jS=class extends BJ.default{constructor(){super()}},zS=class{constructor(e){this.opts=e,this.protocol="wc",this.version=2}},QS=class extends V8.EventEmitter{constructor(){super()}},KS=class{constructor(e){this.client=e}};ur.ICore=OS,ur.ICrypto=DS,ur.IEchoClient=GS,ur.IEngine=KS,ur.IEngineEvents=QS,ur.IExpirer=VS,ur.IJsonRpcHistory=PS,ur.IKeyChain=qS,ur.IMessageTracker=RS,ur.IPairing=kS,ur.IPublisher=BS,ur.IRelayer=MS,ur.ISignClient=zS,ur.ISignClientEvents=jS,ur.IStore=LS,ur.ISubscriber=US,ur.ISubscriberTopicMap=FS,ur.IVerify=HS});var H8=D(um=>{"use strict";h();Object.defineProperty(um,"__esModule",{value:!0});um.BrowserRandomSource=void 0;var k8=65536,$S=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;let e=typeof self<"u"?self.crypto||self.msCrypto:null;e&&e.getRandomValues!==void 0&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");let r=new Uint8Array(e);for(let n=0;n<r.length;n+=k8)this._crypto.getRandomValues(r.subarray(n,n+Math.min(r.length-n,k8)));return r}};um.BrowserRandomSource=$S});var Wn=D(YS=>{"use strict";h();Object.defineProperty(YS,"__esModule",{value:!0});function MJ(t){for(var e=0;e<t.length;e++)t[e]=0;return t}YS.wipe=MJ});var G8=D(()=>{h()});var j8=D(cm=>{"use strict";h();Object.defineProperty(cm,"__esModule",{value:!0});cm.NodeRandomSource=void 0;var LJ=Wn(),JS=class{constructor(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof Pd<"u"){let e=G8();e&&e.randomBytes&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let r=this._crypto.randomBytes(e);if(r.length!==e)throw new Error("NodeRandomSource: got fewer bytes than requested");let n=new Uint8Array(e);for(let i=0;i<n.length;i++)n[i]=r[i];return(0,LJ.wipe)(r),n}};cm.NodeRandomSource=JS});var z8=D(lm=>{"use strict";h();Object.defineProperty(lm,"__esModule",{value:!0});lm.SystemRandomSource=void 0;var FJ=H8(),UJ=j8(),XS=class{constructor(){if(this.isAvailable=!1,this.name="",this._source=new FJ.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new UJ.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(e)}};lm.SystemRandomSource=XS});var Q8=D(gn=>{"use strict";h();Object.defineProperty(gn,"__esModule",{value:!0});function qJ(t,e){var r=t>>>16&65535,n=t&65535,i=e>>>16&65535,s=e&65535;return n*s+(r*s+n*i<<16>>>0)|0}gn.mul=Math.imul||qJ;function VJ(t,e){return t+e|0}gn.add=VJ;function kJ(t,e){return t-e|0}gn.sub=kJ;function HJ(t,e){return t<<e|t>>>32-e}gn.rotl=HJ;function GJ(t,e){return t<<32-e|t>>>e}gn.rotr=GJ;function jJ(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t}gn.isInteger=Number.isInteger||jJ;gn.MAX_SAFE_INTEGER=9007199254740991;gn.isSafeInteger=function(t){return gn.isInteger(t)&&t>=-gn.MAX_SAFE_INTEGER&&t<=gn.MAX_SAFE_INTEGER}});var qc=D(Ne=>{"use strict";h();Object.defineProperty(Ne,"__esModule",{value:!0});var K8=Q8();function zJ(t,e){return e===void 0&&(e=0),(t[e+0]<<8|t[e+1])<<16>>16}Ne.readInt16BE=zJ;function QJ(t,e){return e===void 0&&(e=0),(t[e+0]<<8|t[e+1])>>>0}Ne.readUint16BE=QJ;function KJ(t,e){return e===void 0&&(e=0),(t[e+1]<<8|t[e])<<16>>16}Ne.readInt16LE=KJ;function WJ(t,e){return e===void 0&&(e=0),(t[e+1]<<8|t[e])>>>0}Ne.readUint16LE=WJ;function W8(t,e,r){return e===void 0&&(e=new Uint8Array(2)),r===void 0&&(r=0),e[r+0]=t>>>8,e[r+1]=t>>>0,e}Ne.writeUint16BE=W8;Ne.writeInt16BE=W8;function $8(t,e,r){return e===void 0&&(e=new Uint8Array(2)),r===void 0&&(r=0),e[r+0]=t>>>0,e[r+1]=t>>>8,e}Ne.writeUint16LE=$8;Ne.writeInt16LE=$8;function ZS(t,e){return e===void 0&&(e=0),t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]}Ne.readInt32BE=ZS;function eI(t,e){return e===void 0&&(e=0),(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}Ne.readUint32BE=eI;function tI(t,e){return e===void 0&&(e=0),t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]}Ne.readInt32LE=tI;function rI(t,e){return e===void 0&&(e=0),(t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e])>>>0}Ne.readUint32LE=rI;function fm(t,e,r){return e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0),e[r+0]=t>>>24,e[r+1]=t>>>16,e[r+2]=t>>>8,e[r+3]=t>>>0,e}Ne.writeUint32BE=fm;Ne.writeInt32BE=fm;function hm(t,e,r){return e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0),e[r+0]=t>>>0,e[r+1]=t>>>8,e[r+2]=t>>>16,e[r+3]=t>>>24,e}Ne.writeUint32LE=hm;Ne.writeInt32LE=hm;function $J(t,e){e===void 0&&(e=0);var r=ZS(t,e),n=ZS(t,e+4);return r*4294967296+n-(n>>31)*4294967296}Ne.readInt64BE=$J;function YJ(t,e){e===void 0&&(e=0);var r=eI(t,e),n=eI(t,e+4);return r*4294967296+n}Ne.readUint64BE=YJ;function JJ(t,e){e===void 0&&(e=0);var r=tI(t,e),n=tI(t,e+4);return n*4294967296+r-(r>>31)*4294967296}Ne.readInt64LE=JJ;function XJ(t,e){e===void 0&&(e=0);var r=rI(t,e),n=rI(t,e+4);return n*4294967296+r}Ne.readUint64LE=XJ;function Y8(t,e,r){return e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0),fm(t/4294967296>>>0,e,r),fm(t>>>0,e,r+4),e}Ne.writeUint64BE=Y8;Ne.writeInt64BE=Y8;function J8(t,e,r){return e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0),hm(t>>>0,e,r),hm(t/4294967296>>>0,e,r+4),e}Ne.writeUint64LE=J8;Ne.writeInt64LE=J8;function ZJ(t,e,r){if(r===void 0&&(r=0),t%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(t/8>e.length-r)throw new Error("readUintBE: array is too short for the given bitLength");for(var n=0,i=1,s=t/8+r-1;s>=r;s--)n+=e[s]*i,i*=256;return n}Ne.readUintBE=ZJ;function eX(t,e,r){if(r===void 0&&(r=0),t%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(t/8>e.length-r)throw new Error("readUintLE: array is too short for the given bitLength");for(var n=0,i=1,s=r;s<r+t/8;s++)n+=e[s]*i,i*=256;return n}Ne.readUintLE=eX;function tX(t,e,r,n){if(r===void 0&&(r=new Uint8Array(t/8)),n===void 0&&(n=0),t%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!K8.isSafeInteger(e))throw new Error("writeUintBE value must be an integer");for(var i=1,s=t/8+n-1;s>=n;s--)r[s]=e/i&255,i*=256;return r}Ne.writeUintBE=tX;function rX(t,e,r,n){if(r===void 0&&(r=new Uint8Array(t/8)),n===void 0&&(n=0),t%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!K8.isSafeInteger(e))throw new Error("writeUintLE value must be an integer");for(var i=1,s=n;s<n+t/8;s++)r[s]=e/i&255,i*=256;return r}Ne.writeUintLE=rX;function nX(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat32(e)}Ne.readFloat32BE=nX;function iX(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat32(e,!0)}Ne.readFloat32LE=iX;function sX(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat64(e)}Ne.readFloat64BE=sX;function oX(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat64(e,!0)}Ne.readFloat64LE=oX;function aX(t,e,r){e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat32(r,t),e}Ne.writeFloat32BE=aX;function uX(t,e,r){e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat32(r,t,!0),e}Ne.writeFloat32LE=uX;function cX(t,e,r){e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat64(r,t),e}Ne.writeFloat64BE=cX;function lX(t,e,r){e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat64(r,t,!0),e}Ne.writeFloat64LE=lX});var mh=D(Mr=>{"use strict";h();Object.defineProperty(Mr,"__esModule",{value:!0});Mr.randomStringForEntropy=Mr.randomString=Mr.randomUint32=Mr.randomBytes=Mr.defaultRandomSource=void 0;var fX=z8(),hX=qc(),X8=Wn();Mr.defaultRandomSource=new fX.SystemRandomSource;function nI(t,e=Mr.defaultRandomSource){return e.randomBytes(t)}Mr.randomBytes=nI;function dX(t=Mr.defaultRandomSource){let e=nI(4,t),r=(0,hX.readUint32LE)(e);return(0,X8.wipe)(e),r}Mr.randomUint32=dX;var Z8="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function eR(t,e=Z8,r=Mr.defaultRandomSource){if(e.length<2)throw new Error("randomString charset is too short");if(e.length>256)throw new Error("randomString charset is too long");let n="",i=e.length,s=256-256%i;for(;t>0;){let o=nI(Math.ceil(t*256/s),r);for(let u=0;u<o.length&&t>0;u++){let a=o[u];a<s&&(n+=e.charAt(a%i),t--)}(0,X8.wipe)(o)}return n}Mr.randomString=eR;function gX(t,e=Z8,r=Mr.defaultRandomSource){let n=Math.ceil(t/(Math.log(e.length)/Math.LN2));return eR(n,e,r)}Mr.randomStringForEntropy=gX});var nR=D(Us=>{"use strict";h();Object.defineProperty(Us,"__esModule",{value:!0});var kc=qc(),Vc=Wn();Us.DIGEST_LENGTH=64;Us.BLOCK_SIZE=128;var rR=function(){function t(){this.digestLength=Us.DIGEST_LENGTH,this.blockSize=Us.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return t.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},t.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},t.prototype.clean=function(){Vc.wipe(this._buffer),Vc.wipe(this._tempHi),Vc.wipe(this._tempLo),this.reset()},t.prototype.update=function(e,r){if(r===void 0&&(r=e.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var n=0;if(this._bytesHashed+=r,this._bufferLength>0){for(;this._bufferLength<Us.BLOCK_SIZE&&r>0;)this._buffer[this._bufferLength++]=e[n++],r--;this._bufferLength===this.blockSize&&(iI(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(r>=this.blockSize&&(n=iI(this._tempHi,this._tempLo,this._stateHi,this._stateLo,e,n,r),r%=this.blockSize);r>0;)this._buffer[this._bufferLength++]=e[n++],r--;return this},t.prototype.finish=function(e){if(!this._finished){var r=this._bytesHashed,n=this._bufferLength,i=r/536870912|0,s=r<<3,o=r%128<112?128:256;this._buffer[n]=128;for(var u=n+1;u<o-8;u++)this._buffer[u]=0;kc.writeUint32BE(i,this._buffer,o-8),kc.writeUint32BE(s,this._buffer,o-4),iI(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,o),this._finished=!0}for(var u=0;u<this.digestLength/8;u++)kc.writeUint32BE(this._stateHi[u],e,u*8),kc.writeUint32BE(this._stateLo[u],e,u*8+4);return this},t.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},t.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},t.prototype.restoreState=function(e){return this._stateHi.set(e.stateHi),this._stateLo.set(e.stateLo),this._bufferLength=e.bufferLength,e.buffer&&this._buffer.set(e.buffer),this._bytesHashed=e.bytesHashed,this._finished=!1,this},t.prototype.cleanSavedState=function(e){Vc.wipe(e.stateHi),Vc.wipe(e.stateLo),e.buffer&&Vc.wipe(e.buffer),e.bufferLength=0,e.bytesHashed=0},t}();Us.SHA512=rR;var tR=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function iI(t,e,r,n,i,s,o){for(var u=r[0],a=r[1],c=r[2],f=r[3],d=r[4],w=r[5],A=r[6],_=r[7],N=n[0],P=n[1],V=n[2],U=n[3],Q=n[4],L=n[5],k=n[6],H=n[7],q,v,C,R,F,B,l,g;o>=128;){for(var y=0;y<16;y++){var E=8*y+s;t[y]=kc.readUint32BE(i,E),e[y]=kc.readUint32BE(i,E+4)}for(var y=0;y<80;y++){var I=u,T=a,M=c,x=f,m=d,O=w,Y=A,$=_,b=N,j=P,z=V,W=U,ie=Q,te=L,ee=k,se=H;if(q=_,v=H,F=v&65535,B=v>>>16,l=q&65535,g=q>>>16,q=(d>>>14|Q<<18)^(d>>>18|Q<<14)^(Q>>>9|d<<23),v=(Q>>>14|d<<18)^(Q>>>18|d<<14)^(d>>>9|Q<<23),F+=v&65535,B+=v>>>16,l+=q&65535,g+=q>>>16,q=d&w^~d&A,v=Q&L^~Q&k,F+=v&65535,B+=v>>>16,l+=q&65535,g+=q>>>16,q=tR[y*2],v=tR[y*2+1],F+=v&65535,B+=v>>>16,l+=q&65535,g+=q>>>16,q=t[y%16],v=e[y%16],F+=v&65535,B+=v>>>16,l+=q&65535,g+=q>>>16,B+=F>>>16,l+=B>>>16,g+=l>>>16,C=l&65535|g<<16,R=F&65535|B<<16,q=C,v=R,F=v&65535,B=v>>>16,l=q&65535,g=q>>>16,q=(u>>>28|N<<4)^(N>>>2|u<<30)^(N>>>7|u<<25),v=(N>>>28|u<<4)^(u>>>2|N<<30)^(u>>>7|N<<25),F+=v&65535,B+=v>>>16,l+=q&65535,g+=q>>>16,q=u&a^u&c^a&c,v=N&P^N&V^P&V,F+=v&65535,B+=v>>>16,l+=q&65535,g+=q>>>16,B+=F>>>16,l+=B>>>16,g+=l>>>16,$=l&65535|g<<16,se=F&65535|B<<16,q=x,v=W,F=v&65535,B=v>>>16,l=q&65535,g=q>>>16,q=C,v=R,F+=v&65535,B+=v>>>16,l+=q&65535,g+=q>>>16,B+=F>>>16,l+=B>>>16,g+=l>>>16,x=l&65535|g<<16,W=F&65535|B<<16,a=I,c=T,f=M,d=x,w=m,A=O,_=Y,u=$,P=b,V=j,U=z,Q=W,L=ie,k=te,H=ee,N=se,y%16===15)for(var E=0;E<16;E++)q=t[E],v=e[E],F=v&65535,B=v>>>16,l=q&65535,g=q>>>16,q=t[(E+9)%16],v=e[(E+9)%16],F+=v&65535,B+=v>>>16,l+=q&65535,g+=q>>>16,C=t[(E+1)%16],R=e[(E+1)%16],q=(C>>>1|R<<31)^(C>>>8|R<<24)^C>>>7,v=(R>>>1|C<<31)^(R>>>8|C<<24)^(R>>>7|C<<25),F+=v&65535,B+=v>>>16,l+=q&65535,g+=q>>>16,C=t[(E+14)%16],R=e[(E+14)%16],q=(C>>>19|R<<13)^(R>>>29|C<<3)^C>>>6,v=(R>>>19|C<<13)^(C>>>29|R<<3)^(R>>>6|C<<26),F+=v&65535,B+=v>>>16,l+=q&65535,g+=q>>>16,B+=F>>>16,l+=B>>>16,g+=l>>>16,t[E]=l&65535|g<<16,e[E]=F&65535|B<<16}q=u,v=N,F=v&65535,B=v>>>16,l=q&65535,g=q>>>16,q=r[0],v=n[0],F+=v&65535,B+=v>>>16,l+=q&65535,g+=q>>>16,B+=F>>>16,l+=B>>>16,g+=l>>>16,r[0]=u=l&65535|g<<16,n[0]=N=F&65535|B<<16,q=a,v=P,F=v&65535,B=v>>>16,l=q&65535,g=q>>>16,q=r[1],v=n[1],F+=v&65535,B+=v>>>16,l+=q&65535,g+=q>>>16,B+=F>>>16,l+=B>>>16,g+=l>>>16,r[1]=a=l&65535|g<<16,n[1]=P=F&65535|B<<16,q=c,v=V,F=v&65535,B=v>>>16,l=q&65535,g=q>>>16,q=r[2],v=n[2],F+=v&65535,B+=v>>>16,l+=q&65535,g+=q>>>16,B+=F>>>16,l+=B>>>16,g+=l>>>16,r[2]=c=l&65535|g<<16,n[2]=V=F&65535|B<<16,q=f,v=U,F=v&65535,B=v>>>16,l=q&65535,g=q>>>16,q=r[3],v=n[3],F+=v&65535,B+=v>>>16,l+=q&65535,g+=q>>>16,B+=F>>>16,l+=B>>>16,g+=l>>>16,r[3]=f=l&65535|g<<16,n[3]=U=F&65535|B<<16,q=d,v=Q,F=v&65535,B=v>>>16,l=q&65535,g=q>>>16,q=r[4],v=n[4],F+=v&65535,B+=v>>>16,l+=q&65535,g+=q>>>16,B+=F>>>16,l+=B>>>16,g+=l>>>16,r[4]=d=l&65535|g<<16,n[4]=Q=F&65535|B<<16,q=w,v=L,F=v&65535,B=v>>>16,l=q&65535,g=q>>>16,q=r[5],v=n[5],F+=v&65535,B+=v>>>16,l+=q&65535,g+=q>>>16,B+=F>>>16,l+=B>>>16,g+=l>>>16,r[5]=w=l&65535|g<<16,n[5]=L=F&65535|B<<16,q=A,v=k,F=v&65535,B=v>>>16,l=q&65535,g=q>>>16,q=r[6],v=n[6],F+=v&65535,B+=v>>>16,l+=q&65535,g+=q>>>16,B+=F>>>16,l+=B>>>16,g+=l>>>16,r[6]=A=l&65535|g<<16,n[6]=k=F&65535|B<<16,q=_,v=H,F=v&65535,B=v>>>16,l=q&65535,g=q>>>16,q=r[7],v=n[7],F+=v&65535,B+=v>>>16,l+=q&65535,g+=q>>>16,B+=F>>>16,l+=B>>>16,g+=l>>>16,r[7]=_=l&65535|g<<16,n[7]=H=F&65535|B<<16,s+=128,o-=128}return s}function pX(t){var e=new rR;e.update(t);var r=e.digest();return e.clean(),r}Us.hash=pX});var yR=D(Ge=>{"use strict";h();Object.defineProperty(Ge,"__esModule",{value:!0});Ge.convertSecretKeyToX25519=Ge.convertPublicKeyToX25519=Ge.verify=Ge.sign=Ge.extractPublicKeyFromSecretKey=Ge.generateKeyPair=Ge.generateKeyPairFromSeed=Ge.SEED_LENGTH=Ge.SECRET_KEY_LENGTH=Ge.PUBLIC_KEY_LENGTH=Ge.SIGNATURE_LENGTH=void 0;var mX=mh(),yh=nR(),uR=Wn();Ge.SIGNATURE_LENGTH=64;Ge.PUBLIC_KEY_LENGTH=32;Ge.SECRET_KEY_LENGTH=64;Ge.SEED_LENGTH=32;function Ae(t){let e=new Float64Array(16);if(t)for(let r=0;r<t.length;r++)e[r]=t[r];return e}var yX=new Uint8Array(32);yX[0]=9;var aI=Ae(),Hc=Ae([1]),wX=Ae([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),vX=Ae([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),iR=Ae([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),sR=Ae([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),AX=Ae([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function Ro(t,e){for(let r=0;r<16;r++)t[r]=e[r]|0}function sI(t){let e=1;for(let r=0;r<16;r++){let n=t[r]+e+65535;e=Math.floor(n/65536),t[r]=n-e*65536}t[0]+=e-1+37*(e-1)}function cR(t,e,r){let n=~(r-1);for(let i=0;i<16;i++){let s=n&(t[i]^e[i]);t[i]^=s,e[i]^=s}}function wh(t,e){let r=Ae(),n=Ae();for(let i=0;i<16;i++)n[i]=e[i];sI(n),sI(n),sI(n);for(let i=0;i<2;i++){r[0]=n[0]-65517;for(let o=1;o<15;o++)r[o]=n[o]-65535-(r[o-1]>>16&1),r[o-1]&=65535;r[15]=n[15]-32767-(r[14]>>16&1);let s=r[15]>>16&1;r[14]&=65535,cR(n,r,1-s)}for(let i=0;i<16;i++)t[2*i]=n[i]&255,t[2*i+1]=n[i]>>8}function lR(t,e){let r=0;for(let n=0;n<32;n++)r|=t[n]^e[n];return(1&r-1>>>8)-1}function oR(t,e){let r=new Uint8Array(32),n=new Uint8Array(32);return wh(r,t),wh(n,e),lR(r,n)}function fR(t){let e=new Uint8Array(32);return wh(e,t),e[0]&1}function EX(t,e){for(let r=0;r<16;r++)t[r]=e[2*r]+(e[2*r+1]<<8);t[15]&=32767}function ja(t,e,r){for(let n=0;n<16;n++)t[n]=e[n]+r[n]}function Qa(t,e,r){for(let n=0;n<16;n++)t[n]=e[n]-r[n]}function Nt(t,e,r){let n,i,s=0,o=0,u=0,a=0,c=0,f=0,d=0,w=0,A=0,_=0,N=0,P=0,V=0,U=0,Q=0,L=0,k=0,H=0,q=0,v=0,C=0,R=0,F=0,B=0,l=0,g=0,y=0,E=0,I=0,T=0,M=0,x=r[0],m=r[1],O=r[2],Y=r[3],$=r[4],b=r[5],j=r[6],z=r[7],W=r[8],ie=r[9],te=r[10],ee=r[11],se=r[12],oe=r[13],J=r[14],ue=r[15];n=e[0],s+=n*x,o+=n*m,u+=n*O,a+=n*Y,c+=n*$,f+=n*b,d+=n*j,w+=n*z,A+=n*W,_+=n*ie,N+=n*te,P+=n*ee,V+=n*se,U+=n*oe,Q+=n*J,L+=n*ue,n=e[1],o+=n*x,u+=n*m,a+=n*O,c+=n*Y,f+=n*$,d+=n*b,w+=n*j,A+=n*z,_+=n*W,N+=n*ie,P+=n*te,V+=n*ee,U+=n*se,Q+=n*oe,L+=n*J,k+=n*ue,n=e[2],u+=n*x,a+=n*m,c+=n*O,f+=n*Y,d+=n*$,w+=n*b,A+=n*j,_+=n*z,N+=n*W,P+=n*ie,V+=n*te,U+=n*ee,Q+=n*se,L+=n*oe,k+=n*J,H+=n*ue,n=e[3],a+=n*x,c+=n*m,f+=n*O,d+=n*Y,w+=n*$,A+=n*b,_+=n*j,N+=n*z,P+=n*W,V+=n*ie,U+=n*te,Q+=n*ee,L+=n*se,k+=n*oe,H+=n*J,q+=n*ue,n=e[4],c+=n*x,f+=n*m,d+=n*O,w+=n*Y,A+=n*$,_+=n*b,N+=n*j,P+=n*z,V+=n*W,U+=n*ie,Q+=n*te,L+=n*ee,k+=n*se,H+=n*oe,q+=n*J,v+=n*ue,n=e[5],f+=n*x,d+=n*m,w+=n*O,A+=n*Y,_+=n*$,N+=n*b,P+=n*j,V+=n*z,U+=n*W,Q+=n*ie,L+=n*te,k+=n*ee,H+=n*se,q+=n*oe,v+=n*J,C+=n*ue,n=e[6],d+=n*x,w+=n*m,A+=n*O,_+=n*Y,N+=n*$,P+=n*b,V+=n*j,U+=n*z,Q+=n*W,L+=n*ie,k+=n*te,H+=n*ee,q+=n*se,v+=n*oe,C+=n*J,R+=n*ue,n=e[7],w+=n*x,A+=n*m,_+=n*O,N+=n*Y,P+=n*$,V+=n*b,U+=n*j,Q+=n*z,L+=n*W,k+=n*ie,H+=n*te,q+=n*ee,v+=n*se,C+=n*oe,R+=n*J,F+=n*ue,n=e[8],A+=n*x,_+=n*m,N+=n*O,P+=n*Y,V+=n*$,U+=n*b,Q+=n*j,L+=n*z,k+=n*W,H+=n*ie,q+=n*te,v+=n*ee,C+=n*se,R+=n*oe,F+=n*J,B+=n*ue,n=e[9],_+=n*x,N+=n*m,P+=n*O,V+=n*Y,U+=n*$,Q+=n*b,L+=n*j,k+=n*z,H+=n*W,q+=n*ie,v+=n*te,C+=n*ee,R+=n*se,F+=n*oe,B+=n*J,l+=n*ue,n=e[10],N+=n*x,P+=n*m,V+=n*O,U+=n*Y,Q+=n*$,L+=n*b,k+=n*j,H+=n*z,q+=n*W,v+=n*ie,C+=n*te,R+=n*ee,F+=n*se,B+=n*oe,l+=n*J,g+=n*ue,n=e[11],P+=n*x,V+=n*m,U+=n*O,Q+=n*Y,L+=n*$,k+=n*b,H+=n*j,q+=n*z,v+=n*W,C+=n*ie,R+=n*te,F+=n*ee,B+=n*se,l+=n*oe,g+=n*J,y+=n*ue,n=e[12],V+=n*x,U+=n*m,Q+=n*O,L+=n*Y,k+=n*$,H+=n*b,q+=n*j,v+=n*z,C+=n*W,R+=n*ie,F+=n*te,B+=n*ee,l+=n*se,g+=n*oe,y+=n*J,E+=n*ue,n=e[13],U+=n*x,Q+=n*m,L+=n*O,k+=n*Y,H+=n*$,q+=n*b,v+=n*j,C+=n*z,R+=n*W,F+=n*ie,B+=n*te,l+=n*ee,g+=n*se,y+=n*oe,E+=n*J,I+=n*ue,n=e[14],Q+=n*x,L+=n*m,k+=n*O,H+=n*Y,q+=n*$,v+=n*b,C+=n*j,R+=n*z,F+=n*W,B+=n*ie,l+=n*te,g+=n*ee,y+=n*se,E+=n*oe,I+=n*J,T+=n*ue,n=e[15],L+=n*x,k+=n*m,H+=n*O,q+=n*Y,v+=n*$,C+=n*b,R+=n*j,F+=n*z,B+=n*W,l+=n*ie,g+=n*te,y+=n*ee,E+=n*se,I+=n*oe,T+=n*J,M+=n*ue,s+=38*k,o+=38*H,u+=38*q,a+=38*v,c+=38*C,f+=38*R,d+=38*F,w+=38*B,A+=38*l,_+=38*g,N+=38*y,P+=38*E,V+=38*I,U+=38*T,Q+=38*M,i=1,n=s+i+65535,i=Math.floor(n/65536),s=n-i*65536,n=o+i+65535,i=Math.floor(n/65536),o=n-i*65536,n=u+i+65535,i=Math.floor(n/65536),u=n-i*65536,n=a+i+65535,i=Math.floor(n/65536),a=n-i*65536,n=c+i+65535,i=Math.floor(n/65536),c=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=d+i+65535,i=Math.floor(n/65536),d=n-i*65536,n=w+i+65535,i=Math.floor(n/65536),w=n-i*65536,n=A+i+65535,i=Math.floor(n/65536),A=n-i*65536,n=_+i+65535,i=Math.floor(n/65536),_=n-i*65536,n=N+i+65535,i=Math.floor(n/65536),N=n-i*65536,n=P+i+65535,i=Math.floor(n/65536),P=n-i*65536,n=V+i+65535,i=Math.floor(n/65536),V=n-i*65536,n=U+i+65535,i=Math.floor(n/65536),U=n-i*65536,n=Q+i+65535,i=Math.floor(n/65536),Q=n-i*65536,n=L+i+65535,i=Math.floor(n/65536),L=n-i*65536,s+=i-1+37*(i-1),i=1,n=s+i+65535,i=Math.floor(n/65536),s=n-i*65536,n=o+i+65535,i=Math.floor(n/65536),o=n-i*65536,n=u+i+65535,i=Math.floor(n/65536),u=n-i*65536,n=a+i+65535,i=Math.floor(n/65536),a=n-i*65536,n=c+i+65535,i=Math.floor(n/65536),c=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=d+i+65535,i=Math.floor(n/65536),d=n-i*65536,n=w+i+65535,i=Math.floor(n/65536),w=n-i*65536,n=A+i+65535,i=Math.floor(n/65536),A=n-i*65536,n=_+i+65535,i=Math.floor(n/65536),_=n-i*65536,n=N+i+65535,i=Math.floor(n/65536),N=n-i*65536,n=P+i+65535,i=Math.floor(n/65536),P=n-i*65536,n=V+i+65535,i=Math.floor(n/65536),V=n-i*65536,n=U+i+65535,i=Math.floor(n/65536),U=n-i*65536,n=Q+i+65535,i=Math.floor(n/65536),Q=n-i*65536,n=L+i+65535,i=Math.floor(n/65536),L=n-i*65536,s+=i-1+37*(i-1),t[0]=s,t[1]=o,t[2]=u,t[3]=a,t[4]=c,t[5]=f,t[6]=d,t[7]=w,t[8]=A,t[9]=_,t[10]=N,t[11]=P,t[12]=V,t[13]=U,t[14]=Q,t[15]=L}function za(t,e){Nt(t,e,e)}function hR(t,e){let r=Ae(),n;for(n=0;n<16;n++)r[n]=e[n];for(n=253;n>=0;n--)za(r,r),n!==2&&n!==4&&Nt(r,r,e);for(n=0;n<16;n++)t[n]=r[n]}function bX(t,e){let r=Ae(),n;for(n=0;n<16;n++)r[n]=e[n];for(n=250;n>=0;n--)za(r,r),n!==1&&Nt(r,r,e);for(n=0;n<16;n++)t[n]=r[n]}function uI(t,e){let r=Ae(),n=Ae(),i=Ae(),s=Ae(),o=Ae(),u=Ae(),a=Ae(),c=Ae(),f=Ae();Qa(r,t[1],t[0]),Qa(f,e[1],e[0]),Nt(r,r,f),ja(n,t[0],t[1]),ja(f,e[0],e[1]),Nt(n,n,f),Nt(i,t[3],e[3]),Nt(i,i,vX),Nt(s,t[2],e[2]),ja(s,s,s),Qa(o,n,r),Qa(u,s,i),ja(a,s,i),ja(c,n,r),Nt(t[0],o,u),Nt(t[1],c,a),Nt(t[2],a,u),Nt(t[3],o,c)}function aR(t,e,r){for(let n=0;n<4;n++)cR(t[n],e[n],r)}function lI(t,e){let r=Ae(),n=Ae(),i=Ae();hR(i,e[2]),Nt(r,e[0],i),Nt(n,e[1],i),wh(t,n),t[31]^=fR(r)<<7}function dR(t,e,r){Ro(t[0],aI),Ro(t[1],Hc),Ro(t[2],Hc),Ro(t[3],aI);for(let n=255;n>=0;--n){let i=r[n/8|0]>>(n&7)&1;aR(t,e,i),uI(e,t),uI(t,t),aR(t,e,i)}}function fI(t,e){let r=[Ae(),Ae(),Ae(),Ae()];Ro(r[0],iR),Ro(r[1],sR),Ro(r[2],Hc),Nt(r[3],iR,sR),dR(t,r,e)}function gR(t){if(t.length!==Ge.SEED_LENGTH)throw new Error(`ed25519: seed must be ${Ge.SEED_LENGTH} bytes`);let e=(0,yh.hash)(t);e[0]&=248,e[31]&=127,e[31]|=64;let r=new Uint8Array(32),n=[Ae(),Ae(),Ae(),Ae()];fI(n,e),lI(r,n);let i=new Uint8Array(64);return i.set(t),i.set(r,32),{publicKey:r,secretKey:i}}Ge.generateKeyPairFromSeed=gR;function SX(t){let e=(0,mX.randomBytes)(32,t),r=gR(e);return(0,uR.wipe)(e),r}Ge.generateKeyPair=SX;function IX(t){if(t.length!==Ge.SECRET_KEY_LENGTH)throw new Error(`ed25519: secret key must be ${Ge.SECRET_KEY_LENGTH} bytes`);return new Uint8Array(t.subarray(32))}Ge.extractPublicKeyFromSecretKey=IX;var oI=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function pR(t,e){let r,n,i,s;for(n=63;n>=32;--n){for(r=0,i=n-32,s=n-12;i<s;++i)e[i]+=r-16*e[n]*oI[i-(n-32)],r=Math.floor((e[i]+128)/256),e[i]-=r*256;e[i]+=r,e[n]=0}for(r=0,i=0;i<32;i++)e[i]+=r-(e[31]>>4)*oI[i],r=e[i]>>8,e[i]&=255;for(i=0;i<32;i++)e[i]-=r*oI[i];for(n=0;n<32;n++)e[n+1]+=e[n]>>8,t[n]=e[n]&255}function cI(t){let e=new Float64Array(64);for(let r=0;r<64;r++)e[r]=t[r];for(let r=0;r<64;r++)t[r]=0;pR(t,e)}function _X(t,e){let r=new Float64Array(64),n=[Ae(),Ae(),Ae(),Ae()],i=(0,yh.hash)(t.subarray(0,32));i[0]&=248,i[31]&=127,i[31]|=64;let s=new Uint8Array(64);s.set(i.subarray(32),32);let o=new yh.SHA512;o.update(s.subarray(32)),o.update(e);let u=o.digest();o.clean(),cI(u),fI(n,u),lI(s,n),o.reset(),o.update(s.subarray(0,32)),o.update(t.subarray(32)),o.update(e);let a=o.digest();cI(a);for(let c=0;c<32;c++)r[c]=u[c];for(let c=0;c<32;c++)for(let f=0;f<32;f++)r[c+f]+=a[c]*i[f];return pR(s.subarray(32),r),s}Ge.sign=_X;function mR(t,e){let r=Ae(),n=Ae(),i=Ae(),s=Ae(),o=Ae(),u=Ae(),a=Ae();return Ro(t[2],Hc),EX(t[1],e),za(i,t[1]),Nt(s,i,wX),Qa(i,i,t[2]),ja(s,t[2],s),za(o,s),za(u,o),Nt(a,u,o),Nt(r,a,i),Nt(r,r,s),bX(r,r),Nt(r,r,i),Nt(r,r,s),Nt(r,r,s),Nt(t[0],r,s),za(n,t[0]),Nt(n,n,s),oR(n,i)&&Nt(t[0],t[0],AX),za(n,t[0]),Nt(n,n,s),oR(n,i)?-1:(fR(t[0])===e[31]>>7&&Qa(t[0],aI,t[0]),Nt(t[3],t[0],t[1]),0)}function TX(t,e,r){let n=new Uint8Array(32),i=[Ae(),Ae(),Ae(),Ae()],s=[Ae(),Ae(),Ae(),Ae()];if(r.length!==Ge.SIGNATURE_LENGTH)throw new Error(`ed25519: signature must be ${Ge.SIGNATURE_LENGTH} bytes`);if(mR(s,t))return!1;let o=new yh.SHA512;o.update(r.subarray(0,32)),o.update(t),o.update(e);let u=o.digest();return cI(u),dR(i,s,u),fI(s,r.subarray(32)),uI(i,s),lI(n,i),!lR(r,n)}Ge.verify=TX;function CX(t){let e=[Ae(),Ae(),Ae(),Ae()];if(mR(e,t))throw new Error("Ed25519: invalid public key");let r=Ae(),n=Ae(),i=e[1];ja(r,Hc,i),Qa(n,Hc,i),hR(n,n),Nt(r,r,n);let s=new Uint8Array(32);return wh(s,r),s}Ge.convertPublicKeyToX25519=CX;function NX(t){let e=(0,yh.hash)(t.subarray(0,32));e[0]&=248,e[31]&=127,e[31]|=64;let r=new Uint8Array(e.subarray(0,32));return(0,uR.wipe)(e),r}Ge.convertSecretKeyToX25519=NX});var dm,gm,Ka,Gc,pm,vh,mm,ym,wm,jc,vm,Am,wR,vR,Em=de(()=>{h();dm="EdDSA",gm="JWT",Ka=".",Gc="base64url",pm="utf8",vh="utf8",mm=":",ym="did",wm="key",jc="base58btc",vm="z",Am="K36",wR=32,vR=32});function zc(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}var bm=de(()=>{h()});function Sm(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));let r=zc(e),n=0;for(let i of t)r.set(i,n),n+=i.length;return r}var hI=de(()=>{h();bm()});function xX(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var u=t.length,a=t.charAt(0),c=Math.log(u)/Math.log(256),f=Math.log(256)/Math.log(u);function d(_){if(_ instanceof Uint8Array||(ArrayBuffer.isView(_)?_=new Uint8Array(_.buffer,_.byteOffset,_.byteLength):Array.isArray(_)&&(_=Uint8Array.from(_))),!(_ instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(_.length===0)return"";for(var N=0,P=0,V=0,U=_.length;V!==U&&_[V]===0;)V++,N++;for(var Q=(U-V)*f+1>>>0,L=new Uint8Array(Q);V!==U;){for(var k=_[V],H=0,q=Q-1;(k!==0||H<P)&&q!==-1;q--,H++)k+=256*L[q]>>>0,L[q]=k%u>>>0,k=k/u>>>0;if(k!==0)throw new Error("Non-zero carry");P=H,V++}for(var v=Q-P;v!==Q&&L[v]===0;)v++;for(var C=a.repeat(N);v<Q;++v)C+=t.charAt(L[v]);return C}function w(_){if(typeof _!="string")throw new TypeError("Expected String");if(_.length===0)return new Uint8Array;var N=0;if(_[N]!==" "){for(var P=0,V=0;_[N]===a;)P++,N++;for(var U=(_.length-N)*c+1>>>0,Q=new Uint8Array(U);_[N];){var L=r[_.charCodeAt(N)];if(L===255)return;for(var k=0,H=U-1;(L!==0||k<V)&&H!==-1;H--,k++)L+=u*Q[H]>>>0,Q[H]=L%256>>>0,L=L/256>>>0;if(L!==0)throw new Error("Non-zero carry");V=k,N++}if(_[N]!==" "){for(var q=U-V;q!==U&&Q[q]===0;)q++;for(var v=new Uint8Array(P+(U-q)),C=P;q!==U;)v[C++]=Q[q++];return v}}}function A(_){var N=w(_);if(N)return N;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:w,decode:A}}var OX,DX,AR,ER=de(()=>{h();OX=xX,DX=OX,AR=DX});var PEe,bR,qs,SR,IR,Bo=de(()=>{h();PEe=new Uint8Array(0),bR=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0},qs=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},SR=t=>new TextEncoder().encode(t),IR=t=>new TextDecoder().decode(t)});var dI,gI,pI,TR,mI,Qc,Mo,PX,RX,jt,Ii=de(()=>{h();ER();Bo();dI=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},gI=class{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return TR(this,e)}},pI=class{constructor(e){this.decoders=e}or(e){return TR(this,e)}decode(e){let r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},TR=(t,e)=>new pI({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}}),mI=class{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new dI(e,r,n),this.decoder=new gI(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},Qc=({name:t,prefix:e,encode:r,decode:n})=>new mI(t,e,r,n),Mo=({prefix:t,name:e,alphabet:r})=>{let{encode:n,decode:i}=AR(r,e);return Qc({prefix:t,name:e,encode:n,decode:s=>qs(i(s))})},PX=(t,e,r,n)=>{let i={};for(let f=0;f<e.length;++f)i[e[f]]=f;let s=t.length;for(;t[s-1]==="=";)--s;let o=new Uint8Array(s*r/8|0),u=0,a=0,c=0;for(let f=0;f<s;++f){let d=i[t[f]];if(d===void 0)throw new SyntaxError(`Non-${n} character`);a=a<<r|d,u+=r,u>=8&&(u-=8,o[c++]=255&a>>u)}if(u>=r||255&a<<8-u)throw new SyntaxError("Unexpected end of data");return o},RX=(t,e,r)=>{let n=e[e.length-1]==="=",i=(1<<r)-1,s="",o=0,u=0;for(let a=0;a<t.length;++a)for(u=u<<8|t[a],o+=8;o>r;)o-=r,s+=e[i&u>>o];if(o&&(s+=e[i&u<<r-o]),n)for(;s.length*r&7;)s+="=";return s},jt=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>Qc({prefix:e,name:t,encode(i){return RX(i,n,r)},decode(i){return PX(i,n,r,t)}})});var yI={};Ot(yI,{identity:()=>BX});var BX,CR=de(()=>{h();Ii();Bo();BX=Qc({prefix:"\0",name:"identity",encode:t=>IR(t),decode:t=>SR(t)})});var wI={};Ot(wI,{base2:()=>MX});var MX,NR=de(()=>{h();Ii();MX=jt({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1})});var vI={};Ot(vI,{base8:()=>LX});var LX,xR=de(()=>{h();Ii();LX=jt({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3})});var AI={};Ot(AI,{base10:()=>FX});var FX,OR=de(()=>{h();Ii();FX=Mo({prefix:"9",name:"base10",alphabet:"0123456789"})});var EI={};Ot(EI,{base16:()=>UX,base16upper:()=>qX});var UX,qX,DR=de(()=>{h();Ii();UX=jt({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),qX=jt({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4})});var bI={};Ot(bI,{base32:()=>Kc,base32hex:()=>GX,base32hexpad:()=>zX,base32hexpadupper:()=>QX,base32hexupper:()=>jX,base32pad:()=>kX,base32padupper:()=>HX,base32upper:()=>VX,base32z:()=>KX});var Kc,VX,kX,HX,GX,jX,zX,QX,KX,SI=de(()=>{h();Ii();Kc=jt({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),VX=jt({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),kX=jt({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),HX=jt({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),GX=jt({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),jX=jt({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),zX=jt({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),QX=jt({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),KX=jt({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})});var II={};Ot(II,{base36:()=>WX,base36upper:()=>$X});var WX,$X,PR=de(()=>{h();Ii();WX=Mo({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),$X=Mo({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})});var _I={};Ot(_I,{base58btc:()=>rs,base58flickr:()=>YX});var rs,YX,TI=de(()=>{h();Ii();rs=Mo({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),YX=Mo({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})});var CI={};Ot(CI,{base64:()=>JX,base64pad:()=>XX,base64url:()=>ZX,base64urlpad:()=>eZ});var JX,XX,ZX,eZ,RR=de(()=>{h();Ii();JX=jt({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),XX=jt({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),ZX=jt({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),eZ=jt({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})});var NI={};Ot(NI,{base256emoji:()=>sZ});function nZ(t){return t.reduce((e,r)=>(e+=tZ[r],e),"")}function iZ(t){let e=[];for(let r of t){let n=rZ[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}var BR,tZ,rZ,sZ,MR=de(()=>{h();Ii();BR=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),tZ=BR.reduce((t,e,r)=>(t[r]=e,t),[]),rZ=BR.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);sZ=Qc({prefix:"\u{1F680}",name:"base256emoji",encode:nZ,decode:iZ})});function UR(t,e,r){e=e||[],r=r||0;for(var n=r;t>=cZ;)e[r++]=t&255|LR,t/=128;for(;t&uZ;)e[r++]=t&255|LR,t>>>=7;return e[r]=t|0,UR.bytes=r-n+1,e}function xI(t,n){var r=0,n=n||0,i=0,s=n,o,u=t.length;do{if(s>=u)throw xI.bytes=0,new RangeError("Could not decode varint");o=t[s++],r+=i<28?(o&FR)<<i:(o&FR)*Math.pow(2,i),i+=7}while(o>=fZ);return xI.bytes=s-n,r}var oZ,LR,aZ,uZ,cZ,lZ,fZ,FR,hZ,dZ,gZ,pZ,mZ,yZ,wZ,vZ,AZ,EZ,bZ,SZ,Ah,qR=de(()=>{h();oZ=UR,LR=128,aZ=127,uZ=~aZ,cZ=Math.pow(2,31);lZ=xI,fZ=128,FR=127;hZ=Math.pow(2,7),dZ=Math.pow(2,14),gZ=Math.pow(2,21),pZ=Math.pow(2,28),mZ=Math.pow(2,35),yZ=Math.pow(2,42),wZ=Math.pow(2,49),vZ=Math.pow(2,56),AZ=Math.pow(2,63),EZ=function(t){return t<hZ?1:t<dZ?2:t<gZ?3:t<pZ?4:t<mZ?5:t<yZ?6:t<wZ?7:t<vZ?8:t<AZ?9:10},bZ={encode:oZ,decode:lZ,encodingLength:EZ},SZ=bZ,Ah=SZ});var Eh,Wc,$c,_m=de(()=>{h();qR();Eh=(t,e=0)=>[Ah.decode(t,e),Ah.decode.bytes],Wc=(t,e,r=0)=>(Ah.encode(t,e,r),e),$c=t=>Ah.encodingLength(t)});var Wa,VR,kR,Yc,Sh=de(()=>{h();Bo();_m();Wa=(t,e)=>{let r=e.byteLength,n=$c(t),i=n+$c(r),s=new Uint8Array(i+r);return Wc(t,s,0),Wc(r,s,n),s.set(e,i),new Yc(t,r,e,s)},VR=t=>{let e=qs(t),[r,n]=Eh(e),[i,s]=Eh(e.subarray(n)),o=e.subarray(n+s);if(o.byteLength!==i)throw new Error("Incorrect length");return new Yc(r,i,o,e)},kR=(t,e)=>t===e?!0:t.code===e.code&&t.size===e.size&&bR(t.bytes,e.bytes),Yc=class{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}}});var DI,OI,PI=de(()=>{h();Sh();DI=({name:t,code:e,encode:r})=>new OI(t,e,r),OI=class{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){let r=this.encode(e);return r instanceof Uint8Array?Wa(this.code,r):r.then(n=>Wa(this.code,n))}else throw Error("Unknown type, must be binary type")}}});var RI={};Ot(RI,{sha256:()=>IZ,sha512:()=>_Z});var GR,IZ,_Z,jR=de(()=>{h();PI();GR=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),IZ=DI({name:"sha2-256",code:18,encode:GR("SHA-256")}),_Z=DI({name:"sha2-512",code:19,encode:GR("SHA-512")})});var BI={};Ot(BI,{identity:()=>NZ});var zR,TZ,QR,CZ,NZ,KR=de(()=>{h();Bo();Sh();zR=0,TZ="identity",QR=qs,CZ=t=>Wa(zR,QR(t)),NZ={code:zR,name:TZ,encode:QR,digest:CZ}});var WR=de(()=>{h();Bo()});var wbe,vbe,$R=de(()=>{h();wbe=new TextEncoder,vbe=new TextDecoder});var Nm,DZ,PZ,RZ,Ih,BZ,YR,JR,Tm,Cm,MZ,LZ,FZ,XR=de(()=>{h();_m();Sh();TI();SI();Bo();Nm=class t{constructor(e,r,n,i){this.code=r,this.version=e,this.multihash=n,this.bytes=i,this.byteOffset=i.byteOffset,this.byteLength=i.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:Cm,byteLength:Cm,code:Tm,version:Tm,multihash:Tm,bytes:Tm,_baseCache:Cm,asCID:Cm})}toV0(){switch(this.version){case 0:return this;default:{let{code:e,multihash:r}=this;if(e!==Ih)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==BZ)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return t.createV0(r)}}}toV1(){switch(this.version){case 0:{let{code:e,digest:r}=this.multihash,n=Wa(e,r);return t.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&kR(this.multihash,e.multihash)}toString(e){let{bytes:r,version:n,_baseCache:i}=this;switch(n){case 0:return PZ(r,i,e||rs.encoder);default:return RZ(r,i,e||Kc.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return LZ(/^0\.0/,FZ),!!(e&&(e[JR]||e.asCID===e))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof t)return e;if(e!=null&&e.asCID===e){let{version:r,code:n,multihash:i,bytes:s}=e;return new t(r,n,i,s||YR(r,n,i.bytes))}else if(e!=null&&e[JR]===!0){let{version:r,multihash:n,code:i}=e,s=VR(n);return t.create(r,i,s)}else return null}static create(e,r,n){if(typeof r!="number")throw new Error("String codecs are no longer supported");switch(e){case 0:{if(r!==Ih)throw new Error(`Version 0 CID must use dag-pb (code: ${Ih}) block encoding`);return new t(e,r,n,n.bytes)}case 1:{let i=YR(e,r,n.bytes);return new t(e,r,n,i)}default:throw new Error("Invalid version")}}static createV0(e){return t.create(0,Ih,e)}static createV1(e,r){return t.create(1,e,r)}static decode(e){let[r,n]=t.decodeFirst(e);if(n.length)throw new Error("Incorrect length");return r}static decodeFirst(e){let r=t.inspectBytes(e),n=r.size-r.multihashSize,i=qs(e.subarray(n,n+r.multihashSize));if(i.byteLength!==r.multihashSize)throw new Error("Incorrect length");let s=i.subarray(r.multihashSize-r.digestSize),o=new Yc(r.multihashCode,r.digestSize,s,i);return[r.version===0?t.createV0(o):t.createV1(r.codec,o),e.subarray(r.size)]}static inspectBytes(e){let r=0,n=()=>{let[d,w]=Eh(e.subarray(r));return r+=w,d},i=n(),s=Ih;if(i===18?(i=0,r=0):i===1&&(s=n()),i!==0&&i!==1)throw new RangeError(`Invalid CID version ${i}`);let o=r,u=n(),a=n(),c=r+a,f=c-o;return{version:i,codec:s,multihashCode:u,digestSize:a,multihashSize:f,size:c}}static parse(e,r){let[n,i]=DZ(e,r),s=t.decode(i);return s._baseCache.set(n,e),s}},DZ=(t,e)=>{switch(t[0]){case"Q":{let r=e||rs;return[rs.prefix,r.decode(`${rs.prefix}${t}`)]}case rs.prefix:{let r=e||rs;return[rs.prefix,r.decode(t)]}case Kc.prefix:{let r=e||Kc;return[Kc.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}},PZ=(t,e,r)=>{let{prefix:n}=r;if(n!==rs.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let i=e.get(n);if(i==null){let s=r.encode(t).slice(1);return e.set(n,s),s}else return i},RZ=(t,e,r)=>{let{prefix:n}=r,i=e.get(n);if(i==null){let s=r.encode(t);return e.set(n,s),s}else return i},Ih=112,BZ=18,YR=(t,e,r)=>{let n=$c(t),i=n+$c(e),s=new Uint8Array(i+r.byteLength);return Wc(t,s,0),Wc(e,s,n),s.set(r,i),s},JR=Symbol.for("@ipld/js-cid/CID"),Tm={writable:!1,configurable:!1,enumerable:!0},Cm={writable:!1,enumerable:!1,configurable:!1},MZ="0.0.0-dev",LZ=(t,e)=>{if(t.test(MZ))console.warn(e);else throw new Error(e)},FZ=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`});var ZR=de(()=>{h();XR();_m();Bo();PI();Sh()});var MI,Obe,eB=de(()=>{h();CR();NR();xR();OR();DR();SI();PR();TI();RR();MR();jR();KR();WR();$R();ZR();MI={...yI,...wI,...vI,...AI,...EI,...bI,...II,..._I,...CI,...NI},Obe={...RI,...BI}});function rB(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}var tB,LI,UZ,xm,FI=de(()=>{h();eB();bm();tB=rB("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),LI=rB("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);let e=zc(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),UZ={utf8:tB,"utf-8":tB,hex:MI.base16,latin1:LI,ascii:LI,binary:LI,...MI},xm=UZ});function Vs(t,e="utf8"){let r=xm[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}var UI=de(()=>{h();FI()});function ns(t,e="utf8"){let r=xm[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t,"utf8"):r.decoder.decode(`${r.prefix}${t}`)}var qI=de(()=>{h();FI()});function _h(t){return Po(Vs(ns(t,Gc),pm))}function Th(t){return Vs(ns(Si(t),pm),Gc)}function VI(t){let e=ns(Am,jc),r=vm+Vs(Sm([e,t]),jc);return[ym,wm,r].join(mm)}function kI(t){let[e,r,n]=t.split(mm);if(e!==ym||r!==wm)throw new Error('Issuer must be a DID with method "key"');if(n.slice(0,1)!==vm)throw new Error("Issuer must be a key in mulicodec format");let s=ns(n.slice(1),jc);if(Vs(s.slice(0,2),jc)!==Am)throw new Error('Issuer must be a public key with type "Ed25519"');let u=s.slice(2);if(u.length!==32)throw new Error("Issuer must be a public key with length 32 bytes");return u}function nB(t){return Vs(t,Gc)}function iB(t){return ns(t,Gc)}function HI(t){return ns([Th(t.header),Th(t.payload)].join(Ka),vh)}function qZ(t){let e=Vs(t,vh).split(Ka),r=_h(e[0]),n=_h(e[1]);return{header:r,payload:n}}function GI(t){return[Th(t.header),Th(t.payload),nB(t.signature)].join(Ka)}function jI(t){let e=t.split(Ka),r=_h(e[0]),n=_h(e[1]),i=iB(e[2]),s=ns(e.slice(0,2).join(Ka),vh);return{header:r,payload:n,signature:i,data:s}}var zI=de(()=>{h();hI();UI();qI();Nc();Em()});function VZ(t=(0,sB.randomBytes)(32)){return Jc.generateKeyPairFromSeed(t)}async function kZ(t,e,r,n,i=(0,oB.fromMiliseconds)(Date.now())){let s={alg:dm,typ:gm},o=VI(n.publicKey),u=i+r,a={iss:o,sub:t,aud:e,iat:i,exp:u},c=HI({header:s,payload:a}),f=Jc.sign(n.secretKey,c);return GI({header:s,payload:a,signature:f})}async function HZ(t){let{header:e,payload:r,data:n,signature:i}=jI(t);if(e.alg!==dm||e.typ!==gm)throw new Error("JWT must use EdDSA algorithm");let s=kI(r.iss);return Jc.verify(s,n,i)}var Jc,sB,oB,aB=de(()=>{h();Jc=ge(yR()),sB=ge(mh()),oB=ge(Bc());Em();zI()});var uB=de(()=>{h()});var cB={};Ot(cB,{DATA_ENCODING:()=>vh,DID_DELIMITER:()=>mm,DID_METHOD:()=>wm,DID_PREFIX:()=>ym,JSON_ENCODING:()=>pm,JWT_DELIMITER:()=>Ka,JWT_ENCODING:()=>Gc,JWT_IRIDIUM_ALG:()=>dm,JWT_IRIDIUM_TYP:()=>gm,KEY_PAIR_SEED_LENGTH:()=>vR,MULTICODEC_ED25519_BASE:()=>vm,MULTICODEC_ED25519_ENCODING:()=>jc,MULTICODEC_ED25519_HEADER:()=>Am,MULTICODEC_ED25519_LENGTH:()=>wR,decodeData:()=>qZ,decodeIss:()=>kI,decodeJSON:()=>_h,decodeJWT:()=>jI,decodeSig:()=>iB,encodeData:()=>HI,encodeIss:()=>VI,encodeJSON:()=>Th,encodeJWT:()=>GI,encodeSig:()=>nB,generateKeyPair:()=>VZ,signJWT:()=>kZ,verifyJWT:()=>HZ});var lB=de(()=>{h();aB();Em();uB();zI()});var bB=D(qt=>{"use strict";h();var fB=qt&&qt.__spreadArray||function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))};Object.defineProperty(qt,"__esModule",{value:!0});qt.getNodeVersion=qt.detectOS=qt.parseUserAgent=qt.browserName=qt.detect=qt.ReactNativeInfo=qt.BotInfo=qt.SearchBotDeviceInfo=qt.NodeInfo=qt.BrowserInfo=void 0;var gB=function(){function t(e,r,n){this.name=e,this.version=r,this.os=n,this.type="browser"}return t}();qt.BrowserInfo=gB;var pB=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=S.default.platform}return t}();qt.NodeInfo=pB;var mB=function(){function t(e,r,n,i){this.name=e,this.version=r,this.os=n,this.bot=i,this.type="bot-device"}return t}();qt.SearchBotDeviceInfo=mB;var yB=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}();qt.BotInfo=yB;var wB=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}();qt.ReactNativeInfo=wB;var GZ=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,jZ=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,hB=3,zZ=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",GZ]],dB=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function QZ(t){return t?QI(t):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new wB:typeof navigator<"u"?QI(navigator.userAgent):EB()}qt.detect=QZ;function vB(t){return t!==""&&zZ.reduce(function(e,r){var n=r[0],i=r[1];if(e)return e;var s=i.exec(t);return!!s&&[n,s]},!1)}function KZ(t){var e=vB(t);return e?e[0]:null}qt.browserName=KZ;function QI(t){var e=vB(t);if(!e)return null;var r=e[0],n=e[1];if(r==="searchbot")return new yB;var i=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);i?i.length<hB&&(i=fB(fB([],i,!0),WZ(hB-i.length),!0)):i=[];var s=i.join("."),o=AB(t),u=jZ.exec(t);return u&&u[1]?new mB(r,s,o,u[1]):new gB(r,s,o)}qt.parseUserAgent=QI;function AB(t){for(var e=0,r=dB.length;e<r;e++){var n=dB[e],i=n[0],s=n[1],o=s.exec(t);if(o)return i}return null}qt.detectOS=AB;function EB(){var t=typeof S.default<"u"&&S.default.version;return t?new pB(S.default.version.slice(1)):null}qt.getNodeVersion=EB;function WZ(t){for(var e=[],r=0;r<t;r++)e.push("0");return e}});var KI=D(Rt=>{"use strict";h();Object.defineProperty(Rt,"__esModule",{value:!0});Rt.getLocalStorage=Rt.getLocalStorageOrThrow=Rt.getCrypto=Rt.getCryptoOrThrow=Rt.getLocation=Rt.getLocationOrThrow=Rt.getNavigator=Rt.getNavigatorOrThrow=Rt.getDocument=Rt.getDocumentOrThrow=Rt.getFromWindowOrThrow=Rt.getFromWindow=void 0;function $a(t){let e;return typeof window<"u"&&typeof window[t]<"u"&&(e=window[t]),e}Rt.getFromWindow=$a;function Xc(t){let e=$a(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}Rt.getFromWindowOrThrow=Xc;function $Z(){return Xc("document")}Rt.getDocumentOrThrow=$Z;function YZ(){return $a("document")}Rt.getDocument=YZ;function JZ(){return Xc("navigator")}Rt.getNavigatorOrThrow=JZ;function XZ(){return $a("navigator")}Rt.getNavigator=XZ;function ZZ(){return Xc("location")}Rt.getLocationOrThrow=ZZ;function eee(){return $a("location")}Rt.getLocation=eee;function tee(){return Xc("crypto")}Rt.getCryptoOrThrow=tee;function ree(){return $a("crypto")}Rt.getCrypto=ree;function nee(){return Xc("localStorage")}Rt.getLocalStorageOrThrow=nee;function iee(){return $a("localStorage")}Rt.getLocalStorage=iee});var IB=D(Om=>{"use strict";h();Object.defineProperty(Om,"__esModule",{value:!0});Om.getWindowMetadata=void 0;var SB=KI();function see(){let t,e;try{t=SB.getDocumentOrThrow(),e=SB.getLocationOrThrow()}catch{return null}function r(){let d=t.getElementsByTagName("link"),w=[];for(let A=0;A<d.length;A++){let _=d[A],N=_.getAttribute("rel");if(N&&N.toLowerCase().indexOf("icon")>-1){let P=_.getAttribute("href");if(P)if(P.toLowerCase().indexOf("https:")===-1&&P.toLowerCase().indexOf("http:")===-1&&P.indexOf("//")!==0){let V=e.protocol+"//"+e.host;if(P.indexOf("/")===0)V+=P;else{let U=e.pathname.split("/");U.pop();let Q=U.join("/");V+=Q+"/"+P}w.push(V)}else if(P.indexOf("//")===0){let V=e.protocol+P;w.push(V)}else w.push(P)}}return w}function n(...d){let w=t.getElementsByTagName("meta");for(let A=0;A<w.length;A++){let _=w[A],N=["itemprop","property","name"].map(P=>_.getAttribute(P)).filter(P=>P?d.includes(P):!1);if(N.length&&N){let P=_.getAttribute("content");if(P)return P}}return""}function i(){let d=n("name","og:site_name","og:title","twitter:title");return d||(d=t.title),d}function s(){return n("description","og:description","twitter:description","keywords")}let o=i(),u=s(),a=e.origin,c=r();return{description:u,url:a,icons:c,name:o}}Om.getWindowMetadata=see});var TB=D((hSe,_B)=>{"use strict";h();_B.exports=t=>encodeURIComponent(t).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`)});var DB=D((gSe,OB)=>{"use strict";h();var xB="%[a-f0-9]{2}",CB=new RegExp("("+xB+")|([^%]+?)","gi"),NB=new RegExp("("+xB+")+","gi");function WI(t,e){try{return[decodeURIComponent(t.join(""))]}catch{}if(t.length===1)return t;e=e||1;var r=t.slice(0,e),n=t.slice(e);return Array.prototype.concat.call([],WI(r),WI(n))}function oee(t){try{return decodeURIComponent(t)}catch{for(var e=t.match(CB)||[],r=1;r<e.length;r++)t=WI(e,r).join(""),e=t.match(CB)||[];return t}}function aee(t){for(var e={"%FE%FF":"\uFFFD\uFFFD","%FF%FE":"\uFFFD\uFFFD"},r=NB.exec(t);r;){try{e[r[0]]=decodeURIComponent(r[0])}catch{var n=oee(r[0]);n!==r[0]&&(e[r[0]]=n)}r=NB.exec(t)}e["%C2"]="\uFFFD";for(var i=Object.keys(e),s=0;s<i.length;s++){var o=i[s];t=t.replace(new RegExp(o,"g"),e[o])}return t}OB.exports=function(t){if(typeof t!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch{return aee(t)}}});var RB=D((mSe,PB)=>{"use strict";h();PB.exports=(t,e)=>{if(!(typeof t=="string"&&typeof e=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e==="")return[t];let r=t.indexOf(e);return r===-1?[t]:[t.slice(0,r),t.slice(r+e.length)]}});var MB=D((wSe,BB)=>{"use strict";h();BB.exports=function(t,e){for(var r={},n=Object.keys(t),i=Array.isArray(e),s=0;s<n.length;s++){var o=n[s],u=t[o];(i?e.indexOf(o)!==-1:e(o,u,t))&&(r[o]=u)}return r}});var GB=D(sn=>{"use strict";h();var uee=TB(),cee=DB(),FB=RB(),lee=MB(),fee=t=>t==null,$I=Symbol("encodeFragmentIdentifier");function hee(t){switch(t.arrayFormat){case"index":return e=>(r,n)=>{let i=r.length;return n===void 0||t.skipNull&&n===null||t.skipEmptyString&&n===""?r:n===null?[...r,[er(e,t),"[",i,"]"].join("")]:[...r,[er(e,t),"[",er(i,t),"]=",er(n,t)].join("")]};case"bracket":return e=>(r,n)=>n===void 0||t.skipNull&&n===null||t.skipEmptyString&&n===""?r:n===null?[...r,[er(e,t),"[]"].join("")]:[...r,[er(e,t),"[]=",er(n,t)].join("")];case"colon-list-separator":return e=>(r,n)=>n===void 0||t.skipNull&&n===null||t.skipEmptyString&&n===""?r:n===null?[...r,[er(e,t),":list="].join("")]:[...r,[er(e,t),":list=",er(n,t)].join("")];case"comma":case"separator":case"bracket-separator":{let e=t.arrayFormat==="bracket-separator"?"[]=":"=";return r=>(n,i)=>i===void 0||t.skipNull&&i===null||t.skipEmptyString&&i===""?n:(i=i===null?"":i,n.length===0?[[er(r,t),e,er(i,t)].join("")]:[[n,er(i,t)].join(t.arrayFormatSeparator)])}default:return e=>(r,n)=>n===void 0||t.skipNull&&n===null||t.skipEmptyString&&n===""?r:n===null?[...r,er(e,t)]:[...r,[er(e,t),"=",er(n,t)].join("")]}}function dee(t){let e;switch(t.arrayFormat){case"index":return(r,n,i)=>{if(e=/\[(\d*)\]$/.exec(r),r=r.replace(/\[\d*\]$/,""),!e){i[r]=n;return}i[r]===void 0&&(i[r]={}),i[r][e[1]]=n};case"bracket":return(r,n,i)=>{if(e=/(\[\])$/.exec(r),r=r.replace(/\[\]$/,""),!e){i[r]=n;return}if(i[r]===void 0){i[r]=[n];return}i[r]=[].concat(i[r],n)};case"colon-list-separator":return(r,n,i)=>{if(e=/(:list)$/.exec(r),r=r.replace(/:list$/,""),!e){i[r]=n;return}if(i[r]===void 0){i[r]=[n];return}i[r]=[].concat(i[r],n)};case"comma":case"separator":return(r,n,i)=>{let s=typeof n=="string"&&n.includes(t.arrayFormatSeparator),o=typeof n=="string"&&!s&&ks(n,t).includes(t.arrayFormatSeparator);n=o?ks(n,t):n;let u=s||o?n.split(t.arrayFormatSeparator).map(a=>ks(a,t)):n===null?n:ks(n,t);i[r]=u};case"bracket-separator":return(r,n,i)=>{let s=/(\[\])$/.test(r);if(r=r.replace(/\[\]$/,""),!s){i[r]=n&&ks(n,t);return}let o=n===null?[]:n.split(t.arrayFormatSeparator).map(u=>ks(u,t));if(i[r]===void 0){i[r]=o;return}i[r]=[].concat(i[r],o)};default:return(r,n,i)=>{if(i[r]===void 0){i[r]=n;return}i[r]=[].concat(i[r],n)}}}function UB(t){if(typeof t!="string"||t.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function er(t,e){return e.encode?e.strict?uee(t):encodeURIComponent(t):t}function ks(t,e){return e.decode?cee(t):t}function qB(t){return Array.isArray(t)?t.sort():typeof t=="object"?qB(Object.keys(t)).sort((e,r)=>Number(e)-Number(r)).map(e=>t[e]):t}function VB(t){let e=t.indexOf("#");return e!==-1&&(t=t.slice(0,e)),t}function gee(t){let e="",r=t.indexOf("#");return r!==-1&&(e=t.slice(r)),e}function kB(t){t=VB(t);let e=t.indexOf("?");return e===-1?"":t.slice(e+1)}function LB(t,e){return e.parseNumbers&&!Number.isNaN(Number(t))&&typeof t=="string"&&t.trim()!==""?t=Number(t):e.parseBooleans&&t!==null&&(t.toLowerCase()==="true"||t.toLowerCase()==="false")&&(t=t.toLowerCase()==="true"),t}function HB(t,e){e=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},e),UB(e.arrayFormatSeparator);let r=dee(e),n=Object.create(null);if(typeof t!="string"||(t=t.trim().replace(/^[?#&]/,""),!t))return n;for(let i of t.split("&")){if(i==="")continue;let[s,o]=FB(e.decode?i.replace(/\+/g," "):i,"=");o=o===void 0?null:["comma","separator","bracket-separator"].includes(e.arrayFormat)?o:ks(o,e),r(ks(s,e),o,n)}for(let i of Object.keys(n)){let s=n[i];if(typeof s=="object"&&s!==null)for(let o of Object.keys(s))s[o]=LB(s[o],e);else n[i]=LB(s,e)}return e.sort===!1?n:(e.sort===!0?Object.keys(n).sort():Object.keys(n).sort(e.sort)).reduce((i,s)=>{let o=n[s];return o&&typeof o=="object"&&!Array.isArray(o)?i[s]=qB(o):i[s]=o,i},Object.create(null))}sn.extract=kB;sn.parse=HB;sn.stringify=(t,e)=>{if(!t)return"";e=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},e),UB(e.arrayFormatSeparator);let r=o=>e.skipNull&&fee(t[o])||e.skipEmptyString&&t[o]==="",n=hee(e),i={};for(let o of Object.keys(t))r(o)||(i[o]=t[o]);let s=Object.keys(i);return e.sort!==!1&&s.sort(e.sort),s.map(o=>{let u=t[o];return u===void 0?"":u===null?er(o,e):Array.isArray(u)?u.length===0&&e.arrayFormat==="bracket-separator"?er(o,e)+"[]":u.reduce(n(o),[]).join("&"):er(o,e)+"="+er(u,e)}).filter(o=>o.length>0).join("&")};sn.parseUrl=(t,e)=>{e=Object.assign({decode:!0},e);let[r,n]=FB(t,"#");return Object.assign({url:r.split("?")[0]||"",query:HB(kB(t),e)},e&&e.parseFragmentIdentifier&&n?{fragmentIdentifier:ks(n,e)}:{})};sn.stringifyUrl=(t,e)=>{e=Object.assign({encode:!0,strict:!0,[$I]:!0},e);let r=VB(t.url).split("?")[0]||"",n=sn.extract(t.url),i=sn.parse(n,{sort:!1}),s=Object.assign(i,t.query),o=sn.stringify(s,e);o&&(o=`?${o}`);let u=gee(t.url);return t.fragmentIdentifier&&(u=`#${e[$I]?er(t.fragmentIdentifier,e):t.fragmentIdentifier}`),`${r}${o}${u}`};sn.pick=(t,e,r)=>{r=Object.assign({parseFragmentIdentifier:!0,[$I]:!1},r);let{url:n,query:i,fragmentIdentifier:s}=sn.parseUrl(t,r);return sn.stringifyUrl({url:n,query:lee(i,e),fragmentIdentifier:s},r)};sn.exclude=(t,e,r)=>{let n=Array.isArray(e)?i=>!e.includes(i):(i,s)=>!e(i,s);return sn.pick(t,n,r)}});var zB=D(Dm=>{"use strict";h();Object.defineProperty(Dm,"__esModule",{value:!0});var Lr=qc(),YI=Wn(),pee=20;function mee(t,e,r){for(var n=1634760805,i=857760878,s=2036477234,o=1797285236,u=r[3]<<24|r[2]<<16|r[1]<<8|r[0],a=r[7]<<24|r[6]<<16|r[5]<<8|r[4],c=r[11]<<24|r[10]<<16|r[9]<<8|r[8],f=r[15]<<24|r[14]<<16|r[13]<<8|r[12],d=r[19]<<24|r[18]<<16|r[17]<<8|r[16],w=r[23]<<24|r[22]<<16|r[21]<<8|r[20],A=r[27]<<24|r[26]<<16|r[25]<<8|r[24],_=r[31]<<24|r[30]<<16|r[29]<<8|r[28],N=e[3]<<24|e[2]<<16|e[1]<<8|e[0],P=e[7]<<24|e[6]<<16|e[5]<<8|e[4],V=e[11]<<24|e[10]<<16|e[9]<<8|e[8],U=e[15]<<24|e[14]<<16|e[13]<<8|e[12],Q=n,L=i,k=s,H=o,q=u,v=a,C=c,R=f,F=d,B=w,l=A,g=_,y=N,E=P,I=V,T=U,M=0;M<pee;M+=2)Q=Q+q|0,y^=Q,y=y>>>16|y<<16,F=F+y|0,q^=F,q=q>>>20|q<<12,L=L+v|0,E^=L,E=E>>>16|E<<16,B=B+E|0,v^=B,v=v>>>20|v<<12,k=k+C|0,I^=k,I=I>>>16|I<<16,l=l+I|0,C^=l,C=C>>>20|C<<12,H=H+R|0,T^=H,T=T>>>16|T<<16,g=g+T|0,R^=g,R=R>>>20|R<<12,k=k+C|0,I^=k,I=I>>>24|I<<8,l=l+I|0,C^=l,C=C>>>25|C<<7,H=H+R|0,T^=H,T=T>>>24|T<<8,g=g+T|0,R^=g,R=R>>>25|R<<7,L=L+v|0,E^=L,E=E>>>24|E<<8,B=B+E|0,v^=B,v=v>>>25|v<<7,Q=Q+q|0,y^=Q,y=y>>>24|y<<8,F=F+y|0,q^=F,q=q>>>25|q<<7,Q=Q+v|0,T^=Q,T=T>>>16|T<<16,l=l+T|0,v^=l,v=v>>>20|v<<12,L=L+C|0,y^=L,y=y>>>16|y<<16,g=g+y|0,C^=g,C=C>>>20|C<<12,k=k+R|0,E^=k,E=E>>>16|E<<16,F=F+E|0,R^=F,R=R>>>20|R<<12,H=H+q|0,I^=H,I=I>>>16|I<<16,B=B+I|0,q^=B,q=q>>>20|q<<12,k=k+R|0,E^=k,E=E>>>24|E<<8,F=F+E|0,R^=F,R=R>>>25|R<<7,H=H+q|0,I^=H,I=I>>>24|I<<8,B=B+I|0,q^=B,q=q>>>25|q<<7,L=L+C|0,y^=L,y=y>>>24|y<<8,g=g+y|0,C^=g,C=C>>>25|C<<7,Q=Q+v|0,T^=Q,T=T>>>24|T<<8,l=l+T|0,v^=l,v=v>>>25|v<<7;Lr.writeUint32LE(Q+n|0,t,0),Lr.writeUint32LE(L+i|0,t,4),Lr.writeUint32LE(k+s|0,t,8),Lr.writeUint32LE(H+o|0,t,12),Lr.writeUint32LE(q+u|0,t,16),Lr.writeUint32LE(v+a|0,t,20),Lr.writeUint32LE(C+c|0,t,24),Lr.writeUint32LE(R+f|0,t,28),Lr.writeUint32LE(F+d|0,t,32),Lr.writeUint32LE(B+w|0,t,36),Lr.writeUint32LE(l+A|0,t,40),Lr.writeUint32LE(g+_|0,t,44),Lr.writeUint32LE(y+N|0,t,48),Lr.writeUint32LE(E+P|0,t,52),Lr.writeUint32LE(I+V|0,t,56),Lr.writeUint32LE(T+U|0,t,60)}function jB(t,e,r,n,i){if(i===void 0&&(i=0),t.length!==32)throw new Error("ChaCha: key size must be 32 bytes");if(n.length<r.length)throw new Error("ChaCha: destination is shorter than source");var s,o;if(i===0){if(e.length!==8&&e.length!==12)throw new Error("ChaCha nonce must be 8 or 12 bytes");s=new Uint8Array(16),o=s.length-e.length,s.set(e,o)}else{if(e.length!==16)throw new Error("ChaCha nonce with counter must be 16 bytes");s=e,o=i}for(var u=new Uint8Array(64),a=0;a<r.length;a+=64){mee(u,s,t);for(var c=a;c<a+64&&c<r.length;c++)n[c]=r[c]^u[c-a];wee(s,0,o)}return YI.wipe(u),i===0&&YI.wipe(s),n}Dm.streamXOR=jB;function yee(t,e,r,n){return n===void 0&&(n=0),YI.wipe(r),jB(t,e,r,r,n)}Dm.stream=yee;function wee(t,e,r){for(var n=1;r--;)n=n+(t[e]&255)|0,t[e]=n&255,n>>>=8,e++;if(n>0)throw new Error("ChaCha: counter overflow")}});var Pm=D(Zc=>{"use strict";h();Object.defineProperty(Zc,"__esModule",{value:!0});function vee(t,e,r){return~(t-1)&e|t-1&r}Zc.select=vee;function Aee(t,e){return(t|0)-(e|0)-1>>>31&1}Zc.lessOrEqual=Aee;function QB(t,e){if(t.length!==e.length)return 0;for(var r=0,n=0;n<t.length;n++)r|=t[n]^e[n];return 1&r-1>>>8}Zc.compare=QB;function Eee(t,e){return t.length===0||e.length===0?!1:QB(t,e)!==0}Zc.equal=Eee});var WB=D(Hs=>{"use strict";h();Object.defineProperty(Hs,"__esModule",{value:!0});var bee=Pm(),Rm=Wn();Hs.DIGEST_LENGTH=16;var KB=function(){function t(e){this.digestLength=Hs.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var r=e[0]|e[1]<<8;this._r[0]=r&8191;var n=e[2]|e[3]<<8;this._r[1]=(r>>>13|n<<3)&8191;var i=e[4]|e[5]<<8;this._r[2]=(n>>>10|i<<6)&7939;var s=e[6]|e[7]<<8;this._r[3]=(i>>>7|s<<9)&8191;var o=e[8]|e[9]<<8;this._r[4]=(s>>>4|o<<12)&255,this._r[5]=o>>>1&8190;var u=e[10]|e[11]<<8;this._r[6]=(o>>>14|u<<2)&8191;var a=e[12]|e[13]<<8;this._r[7]=(u>>>11|a<<5)&8065;var c=e[14]|e[15]<<8;this._r[8]=(a>>>8|c<<8)&8191,this._r[9]=c>>>5&127,this._pad[0]=e[16]|e[17]<<8,this._pad[1]=e[18]|e[19]<<8,this._pad[2]=e[20]|e[21]<<8,this._pad[3]=e[22]|e[23]<<8,this._pad[4]=e[24]|e[25]<<8,this._pad[5]=e[26]|e[27]<<8,this._pad[6]=e[28]|e[29]<<8,this._pad[7]=e[30]|e[31]<<8}return t.prototype._blocks=function(e,r,n){for(var i=this._fin?0:2048,s=this._h[0],o=this._h[1],u=this._h[2],a=this._h[3],c=this._h[4],f=this._h[5],d=this._h[6],w=this._h[7],A=this._h[8],_=this._h[9],N=this._r[0],P=this._r[1],V=this._r[2],U=this._r[3],Q=this._r[4],L=this._r[5],k=this._r[6],H=this._r[7],q=this._r[8],v=this._r[9];n>=16;){var C=e[r+0]|e[r+1]<<8;s+=C&8191;var R=e[r+2]|e[r+3]<<8;o+=(C>>>13|R<<3)&8191;var F=e[r+4]|e[r+5]<<8;u+=(R>>>10|F<<6)&8191;var B=e[r+6]|e[r+7]<<8;a+=(F>>>7|B<<9)&8191;var l=e[r+8]|e[r+9]<<8;c+=(B>>>4|l<<12)&8191,f+=l>>>1&8191;var g=e[r+10]|e[r+11]<<8;d+=(l>>>14|g<<2)&8191;var y=e[r+12]|e[r+13]<<8;w+=(g>>>11|y<<5)&8191;var E=e[r+14]|e[r+15]<<8;A+=(y>>>8|E<<8)&8191,_+=E>>>5|i;var I=0,T=I;T+=s*N,T+=o*(5*v),T+=u*(5*q),T+=a*(5*H),T+=c*(5*k),I=T>>>13,T&=8191,T+=f*(5*L),T+=d*(5*Q),T+=w*(5*U),T+=A*(5*V),T+=_*(5*P),I+=T>>>13,T&=8191;var M=I;M+=s*P,M+=o*N,M+=u*(5*v),M+=a*(5*q),M+=c*(5*H),I=M>>>13,M&=8191,M+=f*(5*k),M+=d*(5*L),M+=w*(5*Q),M+=A*(5*U),M+=_*(5*V),I+=M>>>13,M&=8191;var x=I;x+=s*V,x+=o*P,x+=u*N,x+=a*(5*v),x+=c*(5*q),I=x>>>13,x&=8191,x+=f*(5*H),x+=d*(5*k),x+=w*(5*L),x+=A*(5*Q),x+=_*(5*U),I+=x>>>13,x&=8191;var m=I;m+=s*U,m+=o*V,m+=u*P,m+=a*N,m+=c*(5*v),I=m>>>13,m&=8191,m+=f*(5*q),m+=d*(5*H),m+=w*(5*k),m+=A*(5*L),m+=_*(5*Q),I+=m>>>13,m&=8191;var O=I;O+=s*Q,O+=o*U,O+=u*V,O+=a*P,O+=c*N,I=O>>>13,O&=8191,O+=f*(5*v),O+=d*(5*q),O+=w*(5*H),O+=A*(5*k),O+=_*(5*L),I+=O>>>13,O&=8191;var Y=I;Y+=s*L,Y+=o*Q,Y+=u*U,Y+=a*V,Y+=c*P,I=Y>>>13,Y&=8191,Y+=f*N,Y+=d*(5*v),Y+=w*(5*q),Y+=A*(5*H),Y+=_*(5*k),I+=Y>>>13,Y&=8191;var $=I;$+=s*k,$+=o*L,$+=u*Q,$+=a*U,$+=c*V,I=$>>>13,$&=8191,$+=f*P,$+=d*N,$+=w*(5*v),$+=A*(5*q),$+=_*(5*H),I+=$>>>13,$&=8191;var b=I;b+=s*H,b+=o*k,b+=u*L,b+=a*Q,b+=c*U,I=b>>>13,b&=8191,b+=f*V,b+=d*P,b+=w*N,b+=A*(5*v),b+=_*(5*q),I+=b>>>13,b&=8191;var j=I;j+=s*q,j+=o*H,j+=u*k,j+=a*L,j+=c*Q,I=j>>>13,j&=8191,j+=f*U,j+=d*V,j+=w*P,j+=A*N,j+=_*(5*v),I+=j>>>13,j&=8191;var z=I;z+=s*v,z+=o*q,z+=u*H,z+=a*k,z+=c*L,I=z>>>13,z&=8191,z+=f*Q,z+=d*U,z+=w*V,z+=A*P,z+=_*N,I+=z>>>13,z&=8191,I=(I<<2)+I|0,I=I+T|0,T=I&8191,I=I>>>13,M+=I,s=T,o=M,u=x,a=m,c=O,f=Y,d=$,w=b,A=j,_=z,r+=16,n-=16}this._h[0]=s,this._h[1]=o,this._h[2]=u,this._h[3]=a,this._h[4]=c,this._h[5]=f,this._h[6]=d,this._h[7]=w,this._h[8]=A,this._h[9]=_},t.prototype.finish=function(e,r){r===void 0&&(r=0);var n=new Uint16Array(10),i,s,o,u;if(this._leftover){for(u=this._leftover,this._buffer[u++]=1;u<16;u++)this._buffer[u]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(i=this._h[1]>>>13,this._h[1]&=8191,u=2;u<10;u++)this._h[u]+=i,i=this._h[u]>>>13,this._h[u]&=8191;for(this._h[0]+=i*5,i=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=i,i=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=i,n[0]=this._h[0]+5,i=n[0]>>>13,n[0]&=8191,u=1;u<10;u++)n[u]=this._h[u]+i,i=n[u]>>>13,n[u]&=8191;for(n[9]-=8192,s=(i^1)-1,u=0;u<10;u++)n[u]&=s;for(s=~s,u=0;u<10;u++)this._h[u]=this._h[u]&s|n[u];for(this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,o=this._h[0]+this._pad[0],this._h[0]=o&65535,u=1;u<8;u++)o=(this._h[u]+this._pad[u]|0)+(o>>>16)|0,this._h[u]=o&65535;return e[r+0]=this._h[0]>>>0,e[r+1]=this._h[0]>>>8,e[r+2]=this._h[1]>>>0,e[r+3]=this._h[1]>>>8,e[r+4]=this._h[2]>>>0,e[r+5]=this._h[2]>>>8,e[r+6]=this._h[3]>>>0,e[r+7]=this._h[3]>>>8,e[r+8]=this._h[4]>>>0,e[r+9]=this._h[4]>>>8,e[r+10]=this._h[5]>>>0,e[r+11]=this._h[5]>>>8,e[r+12]=this._h[6]>>>0,e[r+13]=this._h[6]>>>8,e[r+14]=this._h[7]>>>0,e[r+15]=this._h[7]>>>8,this._finished=!0,this},t.prototype.update=function(e){var r=0,n=e.length,i;if(this._leftover){i=16-this._leftover,i>n&&(i=n);for(var s=0;s<i;s++)this._buffer[this._leftover+s]=e[r+s];if(n-=i,r+=i,this._leftover+=i,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(n>=16&&(i=n-n%16,this._blocks(e,r,i),r+=i,n-=i),n){for(var s=0;s<n;s++)this._buffer[this._leftover+s]=e[r+s];this._leftover+=n}return this},t.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var e=new Uint8Array(16);return this.finish(e),e},t.prototype.clean=function(){return Rm.wipe(this._buffer),Rm.wipe(this._r),Rm.wipe(this._h),Rm.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},t}();Hs.Poly1305=KB;function See(t,e){var r=new KB(t);r.update(e);var n=r.digest();return r.clean(),n}Hs.oneTimeAuth=See;function Iee(t,e){return t.length!==Hs.DIGEST_LENGTH||e.length!==Hs.DIGEST_LENGTH?!1:bee.equal(t,e)}Hs.equal=Iee});var JB=D(Gs=>{"use strict";h();Object.defineProperty(Gs,"__esModule",{value:!0});var Bm=zB(),_ee=WB(),Ch=Wn(),$B=qc(),Tee=Pm();Gs.KEY_LENGTH=32;Gs.NONCE_LENGTH=12;Gs.TAG_LENGTH=16;var YB=new Uint8Array(16),Cee=function(){function t(e){if(this.nonceLength=Gs.NONCE_LENGTH,this.tagLength=Gs.TAG_LENGTH,e.length!==Gs.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(e)}return t.prototype.seal=function(e,r,n,i){if(e.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var s=new Uint8Array(16);s.set(e,s.length-e.length);var o=new Uint8Array(32);Bm.stream(this._key,s,o,4);var u=r.length+this.tagLength,a;if(i){if(i.length!==u)throw new Error("ChaCha20Poly1305: incorrect destination length");a=i}else a=new Uint8Array(u);return Bm.streamXOR(this._key,s,r,a,4),this._authenticate(a.subarray(a.length-this.tagLength,a.length),o,a.subarray(0,a.length-this.tagLength),n),Ch.wipe(s),a},t.prototype.open=function(e,r,n,i){if(e.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(r.length<this.tagLength)return null;var s=new Uint8Array(16);s.set(e,s.length-e.length);var o=new Uint8Array(32);Bm.stream(this._key,s,o,4);var u=new Uint8Array(this.tagLength);if(this._authenticate(u,o,r.subarray(0,r.length-this.tagLength),n),!Tee.equal(u,r.subarray(r.length-this.tagLength,r.length)))return null;var a=r.length-this.tagLength,c;if(i){if(i.length!==a)throw new Error("ChaCha20Poly1305: incorrect destination length");c=i}else c=new Uint8Array(a);return Bm.streamXOR(this._key,s,r.subarray(0,r.length-this.tagLength),c,4),Ch.wipe(s),c},t.prototype.clean=function(){return Ch.wipe(this._key),this},t.prototype._authenticate=function(e,r,n,i){var s=new _ee.Poly1305(r);i&&(s.update(i),i.length%16>0&&s.update(YB.subarray(i.length%16))),s.update(n),n.length%16>0&&s.update(YB.subarray(n.length%16));var o=new Uint8Array(8);i&&$B.writeUint64LE(i.length,o),s.update(o),$B.writeUint64LE(n.length,o),s.update(o);for(var u=s.digest(),a=0;a<u.length;a++)e[a]=u[a];s.clean(),Ch.wipe(u),Ch.wipe(o)},t}();Gs.ChaCha20Poly1305=Cee});var XB=D(JI=>{"use strict";h();Object.defineProperty(JI,"__esModule",{value:!0});function Nee(t){return typeof t.saveState<"u"&&typeof t.restoreState<"u"&&typeof t.cleanSavedState<"u"}JI.isSerializableHash=Nee});var eM=D(Nh=>{"use strict";h();Object.defineProperty(Nh,"__esModule",{value:!0});var is=XB(),xee=Pm(),Oee=Wn(),ZB=function(){function t(e,r){this._finished=!1,this._inner=new e,this._outer=new e,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var n=new Uint8Array(this.blockSize);r.length>this.blockSize?this._inner.update(r).finish(n).clean():n.set(r);for(var i=0;i<n.length;i++)n[i]^=54;this._inner.update(n);for(var i=0;i<n.length;i++)n[i]^=106;this._outer.update(n),is.isSerializableHash(this._inner)&&is.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),Oee.wipe(n)}return t.prototype.reset=function(){if(!is.isSerializableHash(this._inner)||!is.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},t.prototype.clean=function(){is.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),is.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},t.prototype.update=function(e){return this._inner.update(e),this},t.prototype.finish=function(e){return this._finished?(this._outer.finish(e),this):(this._inner.finish(e),this._outer.update(e.subarray(0,this.digestLength)).finish(e),this._finished=!0,this)},t.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},t.prototype.saveState=function(){if(!is.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},t.prototype.restoreState=function(e){if(!is.isSerializableHash(this._inner)||!is.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(e),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},t.prototype.cleanSavedState=function(e){if(!is.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(e)},t}();Nh.HMAC=ZB;function Dee(t,e,r){var n=new ZB(t,e);n.update(r);var i=n.digest();return n.clean(),i}Nh.hmac=Dee;Nh.equal=xee.equal});var nM=D(XI=>{"use strict";h();Object.defineProperty(XI,"__esModule",{value:!0});var tM=eM(),rM=Wn(),Pee=function(){function t(e,r,n,i){n===void 0&&(n=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=e,this._info=i;var s=tM.hmac(this._hash,n,r);this._hmac=new tM.HMAC(e,s),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return t.prototype._fillBuffer=function(){this._counter[0]++;var e=this._counter[0];if(e===0)throw new Error("hkdf: cannot expand more");this._hmac.reset(),e>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},t.prototype.expand=function(e){for(var r=new Uint8Array(e),n=0;n<r.length;n++)this._bufpos===this._buffer.length&&this._fillBuffer(),r[n]=this._buffer[this._bufpos++];return r},t.prototype.clean=function(){this._hmac.clean(),rM.wipe(this._buffer),rM.wipe(this._counter),this._bufpos=0},t}();XI.HKDF=Pee});var sM=D(Lo=>{"use strict";h();Object.defineProperty(Lo,"__esModule",{value:!0});var Lm=qc(),Mm=Wn();Lo.DIGEST_LENGTH=32;Lo.BLOCK_SIZE=64;var iM=function(){function t(){this.digestLength=Lo.DIGEST_LENGTH,this.blockSize=Lo.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return t.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},t.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},t.prototype.clean=function(){Mm.wipe(this._buffer),Mm.wipe(this._temp),this.reset()},t.prototype.update=function(e,r){if(r===void 0&&(r=e.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var n=0;if(this._bytesHashed+=r,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&r>0;)this._buffer[this._bufferLength++]=e[n++],r--;this._bufferLength===this.blockSize&&(ZI(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(r>=this.blockSize&&(n=ZI(this._temp,this._state,e,n,r),r%=this.blockSize);r>0;)this._buffer[this._bufferLength++]=e[n++],r--;return this},t.prototype.finish=function(e){if(!this._finished){var r=this._bytesHashed,n=this._bufferLength,i=r/536870912|0,s=r<<3,o=r%64<56?64:128;this._buffer[n]=128;for(var u=n+1;u<o-8;u++)this._buffer[u]=0;Lm.writeUint32BE(i,this._buffer,o-8),Lm.writeUint32BE(s,this._buffer,o-4),ZI(this._temp,this._state,this._buffer,0,o),this._finished=!0}for(var u=0;u<this.digestLength/4;u++)Lm.writeUint32BE(this._state[u],e,u*4);return this},t.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},t.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},t.prototype.restoreState=function(e){return this._state.set(e.state),this._bufferLength=e.bufferLength,e.buffer&&this._buffer.set(e.buffer),this._bytesHashed=e.bytesHashed,this._finished=!1,this},t.prototype.cleanSavedState=function(e){Mm.wipe(e.state),e.buffer&&Mm.wipe(e.buffer),e.bufferLength=0,e.bytesHashed=0},t}();Lo.SHA256=iM;var Ree=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function ZI(t,e,r,n,i){for(;i>=64;){for(var s=e[0],o=e[1],u=e[2],a=e[3],c=e[4],f=e[5],d=e[6],w=e[7],A=0;A<16;A++){var _=n+A*4;t[A]=Lm.readUint32BE(r,_)}for(var A=16;A<64;A++){var N=t[A-2],P=(N>>>17|N<<15)^(N>>>19|N<<13)^N>>>10;N=t[A-15];var V=(N>>>7|N<<25)^(N>>>18|N<<14)^N>>>3;t[A]=(P+t[A-7]|0)+(V+t[A-16]|0)}for(var A=0;A<64;A++){var P=(((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))+(c&f^~c&d)|0)+(w+(Ree[A]+t[A]|0)|0)|0,V=((s>>>2|s<<30)^(s>>>13|s<<19)^(s>>>22|s<<10))+(s&o^s&u^o&u)|0;w=d,d=f,f=c,c=a+P|0,a=u,u=o,o=s,s=P+V|0}e[0]+=s,e[1]+=o,e[2]+=u,e[3]+=a,e[4]+=c,e[5]+=f,e[6]+=d,e[7]+=w,n+=64,i-=64}return n}function Bee(t){var e=new iM;e.update(t);var r=e.digest();return e.clean(),r}Lo.hash=Bee});var cM=D(zt=>{"use strict";h();Object.defineProperty(zt,"__esModule",{value:!0});zt.sharedKey=zt.generateKeyPair=zt.generateKeyPairFromSeed=zt.scalarMultBase=zt.scalarMult=zt.SHARED_KEY_LENGTH=zt.SECRET_KEY_LENGTH=zt.PUBLIC_KEY_LENGTH=void 0;var Mee=mh(),Lee=Wn();zt.PUBLIC_KEY_LENGTH=32;zt.SECRET_KEY_LENGTH=32;zt.SHARED_KEY_LENGTH=32;function ss(t){let e=new Float64Array(16);if(t)for(let r=0;r<t.length;r++)e[r]=t[r];return e}var oM=new Uint8Array(32);oM[0]=9;var Fee=ss([56129,1]);function e_(t){let e=1;for(let r=0;r<16;r++){let n=t[r]+e+65535;e=Math.floor(n/65536),t[r]=n-e*65536}t[0]+=e-1+37*(e-1)}function xh(t,e,r){let n=~(r-1);for(let i=0;i<16;i++){let s=n&(t[i]^e[i]);t[i]^=s,e[i]^=s}}function Uee(t,e){let r=ss(),n=ss();for(let i=0;i<16;i++)n[i]=e[i];e_(n),e_(n),e_(n);for(let i=0;i<2;i++){r[0]=n[0]-65517;for(let o=1;o<15;o++)r[o]=n[o]-65535-(r[o-1]>>16&1),r[o-1]&=65535;r[15]=n[15]-32767-(r[14]>>16&1);let s=r[15]>>16&1;r[14]&=65535,xh(n,r,1-s)}for(let i=0;i<16;i++)t[2*i]=n[i]&255,t[2*i+1]=n[i]>>8}function qee(t,e){for(let r=0;r<16;r++)t[r]=e[2*r]+(e[2*r+1]<<8);t[15]&=32767}function Fm(t,e,r){for(let n=0;n<16;n++)t[n]=e[n]+r[n]}function Um(t,e,r){for(let n=0;n<16;n++)t[n]=e[n]-r[n]}function js(t,e,r){let n,i,s=0,o=0,u=0,a=0,c=0,f=0,d=0,w=0,A=0,_=0,N=0,P=0,V=0,U=0,Q=0,L=0,k=0,H=0,q=0,v=0,C=0,R=0,F=0,B=0,l=0,g=0,y=0,E=0,I=0,T=0,M=0,x=r[0],m=r[1],O=r[2],Y=r[3],$=r[4],b=r[5],j=r[6],z=r[7],W=r[8],ie=r[9],te=r[10],ee=r[11],se=r[12],oe=r[13],J=r[14],ue=r[15];n=e[0],s+=n*x,o+=n*m,u+=n*O,a+=n*Y,c+=n*$,f+=n*b,d+=n*j,w+=n*z,A+=n*W,_+=n*ie,N+=n*te,P+=n*ee,V+=n*se,U+=n*oe,Q+=n*J,L+=n*ue,n=e[1],o+=n*x,u+=n*m,a+=n*O,c+=n*Y,f+=n*$,d+=n*b,w+=n*j,A+=n*z,_+=n*W,N+=n*ie,P+=n*te,V+=n*ee,U+=n*se,Q+=n*oe,L+=n*J,k+=n*ue,n=e[2],u+=n*x,a+=n*m,c+=n*O,f+=n*Y,d+=n*$,w+=n*b,A+=n*j,_+=n*z,N+=n*W,P+=n*ie,V+=n*te,U+=n*ee,Q+=n*se,L+=n*oe,k+=n*J,H+=n*ue,n=e[3],a+=n*x,c+=n*m,f+=n*O,d+=n*Y,w+=n*$,A+=n*b,_+=n*j,N+=n*z,P+=n*W,V+=n*ie,U+=n*te,Q+=n*ee,L+=n*se,k+=n*oe,H+=n*J,q+=n*ue,n=e[4],c+=n*x,f+=n*m,d+=n*O,w+=n*Y,A+=n*$,_+=n*b,N+=n*j,P+=n*z,V+=n*W,U+=n*ie,Q+=n*te,L+=n*ee,k+=n*se,H+=n*oe,q+=n*J,v+=n*ue,n=e[5],f+=n*x,d+=n*m,w+=n*O,A+=n*Y,_+=n*$,N+=n*b,P+=n*j,V+=n*z,U+=n*W,Q+=n*ie,L+=n*te,k+=n*ee,H+=n*se,q+=n*oe,v+=n*J,C+=n*ue,n=e[6],d+=n*x,w+=n*m,A+=n*O,_+=n*Y,N+=n*$,P+=n*b,V+=n*j,U+=n*z,Q+=n*W,L+=n*ie,k+=n*te,H+=n*ee,q+=n*se,v+=n*oe,C+=n*J,R+=n*ue,n=e[7],w+=n*x,A+=n*m,_+=n*O,N+=n*Y,P+=n*$,V+=n*b,U+=n*j,Q+=n*z,L+=n*W,k+=n*ie,H+=n*te,q+=n*ee,v+=n*se,C+=n*oe,R+=n*J,F+=n*ue,n=e[8],A+=n*x,_+=n*m,N+=n*O,P+=n*Y,V+=n*$,U+=n*b,Q+=n*j,L+=n*z,k+=n*W,H+=n*ie,q+=n*te,v+=n*ee,C+=n*se,R+=n*oe,F+=n*J,B+=n*ue,n=e[9],_+=n*x,N+=n*m,P+=n*O,V+=n*Y,U+=n*$,Q+=n*b,L+=n*j,k+=n*z,H+=n*W,q+=n*ie,v+=n*te,C+=n*ee,R+=n*se,F+=n*oe,B+=n*J,l+=n*ue,n=e[10],N+=n*x,P+=n*m,V+=n*O,U+=n*Y,Q+=n*$,L+=n*b,k+=n*j,H+=n*z,q+=n*W,v+=n*ie,C+=n*te,R+=n*ee,F+=n*se,B+=n*oe,l+=n*J,g+=n*ue,n=e[11],P+=n*x,V+=n*m,U+=n*O,Q+=n*Y,L+=n*$,k+=n*b,H+=n*j,q+=n*z,v+=n*W,C+=n*ie,R+=n*te,F+=n*ee,B+=n*se,l+=n*oe,g+=n*J,y+=n*ue,n=e[12],V+=n*x,U+=n*m,Q+=n*O,L+=n*Y,k+=n*$,H+=n*b,q+=n*j,v+=n*z,C+=n*W,R+=n*ie,F+=n*te,B+=n*ee,l+=n*se,g+=n*oe,y+=n*J,E+=n*ue,n=e[13],U+=n*x,Q+=n*m,L+=n*O,k+=n*Y,H+=n*$,q+=n*b,v+=n*j,C+=n*z,R+=n*W,F+=n*ie,B+=n*te,l+=n*ee,g+=n*se,y+=n*oe,E+=n*J,I+=n*ue,n=e[14],Q+=n*x,L+=n*m,k+=n*O,H+=n*Y,q+=n*$,v+=n*b,C+=n*j,R+=n*z,F+=n*W,B+=n*ie,l+=n*te,g+=n*ee,y+=n*se,E+=n*oe,I+=n*J,T+=n*ue,n=e[15],L+=n*x,k+=n*m,H+=n*O,q+=n*Y,v+=n*$,C+=n*b,R+=n*j,F+=n*z,B+=n*W,l+=n*ie,g+=n*te,y+=n*ee,E+=n*se,I+=n*oe,T+=n*J,M+=n*ue,s+=38*k,o+=38*H,u+=38*q,a+=38*v,c+=38*C,f+=38*R,d+=38*F,w+=38*B,A+=38*l,_+=38*g,N+=38*y,P+=38*E,V+=38*I,U+=38*T,Q+=38*M,i=1,n=s+i+65535,i=Math.floor(n/65536),s=n-i*65536,n=o+i+65535,i=Math.floor(n/65536),o=n-i*65536,n=u+i+65535,i=Math.floor(n/65536),u=n-i*65536,n=a+i+65535,i=Math.floor(n/65536),a=n-i*65536,n=c+i+65535,i=Math.floor(n/65536),c=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=d+i+65535,i=Math.floor(n/65536),d=n-i*65536,n=w+i+65535,i=Math.floor(n/65536),w=n-i*65536,n=A+i+65535,i=Math.floor(n/65536),A=n-i*65536,n=_+i+65535,i=Math.floor(n/65536),_=n-i*65536,n=N+i+65535,i=Math.floor(n/65536),N=n-i*65536,n=P+i+65535,i=Math.floor(n/65536),P=n-i*65536,n=V+i+65535,i=Math.floor(n/65536),V=n-i*65536,n=U+i+65535,i=Math.floor(n/65536),U=n-i*65536,n=Q+i+65535,i=Math.floor(n/65536),Q=n-i*65536,n=L+i+65535,i=Math.floor(n/65536),L=n-i*65536,s+=i-1+37*(i-1),i=1,n=s+i+65535,i=Math.floor(n/65536),s=n-i*65536,n=o+i+65535,i=Math.floor(n/65536),o=n-i*65536,n=u+i+65535,i=Math.floor(n/65536),u=n-i*65536,n=a+i+65535,i=Math.floor(n/65536),a=n-i*65536,n=c+i+65535,i=Math.floor(n/65536),c=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=d+i+65535,i=Math.floor(n/65536),d=n-i*65536,n=w+i+65535,i=Math.floor(n/65536),w=n-i*65536,n=A+i+65535,i=Math.floor(n/65536),A=n-i*65536,n=_+i+65535,i=Math.floor(n/65536),_=n-i*65536,n=N+i+65535,i=Math.floor(n/65536),N=n-i*65536,n=P+i+65535,i=Math.floor(n/65536),P=n-i*65536,n=V+i+65535,i=Math.floor(n/65536),V=n-i*65536,n=U+i+65535,i=Math.floor(n/65536),U=n-i*65536,n=Q+i+65535,i=Math.floor(n/65536),Q=n-i*65536,n=L+i+65535,i=Math.floor(n/65536),L=n-i*65536,s+=i-1+37*(i-1),t[0]=s,t[1]=o,t[2]=u,t[3]=a,t[4]=c,t[5]=f,t[6]=d,t[7]=w,t[8]=A,t[9]=_,t[10]=N,t[11]=P,t[12]=V,t[13]=U,t[14]=Q,t[15]=L}function Oh(t,e){js(t,e,e)}function Vee(t,e){let r=ss();for(let n=0;n<16;n++)r[n]=e[n];for(let n=253;n>=0;n--)Oh(r,r),n!==2&&n!==4&&js(r,r,e);for(let n=0;n<16;n++)t[n]=r[n]}function t_(t,e){let r=new Uint8Array(32),n=new Float64Array(80),i=ss(),s=ss(),o=ss(),u=ss(),a=ss(),c=ss();for(let A=0;A<31;A++)r[A]=t[A];r[31]=t[31]&127|64,r[0]&=248,qee(n,e);for(let A=0;A<16;A++)s[A]=n[A];i[0]=u[0]=1;for(let A=254;A>=0;--A){let _=r[A>>>3]>>>(A&7)&1;xh(i,s,_),xh(o,u,_),Fm(a,i,o),Um(i,i,o),Fm(o,s,u),Um(s,s,u),Oh(u,a),Oh(c,i),js(i,o,i),js(o,s,a),Fm(a,i,o),Um(i,i,o),Oh(s,i),Um(o,u,c),js(i,o,Fee),Fm(i,i,u),js(o,o,i),js(i,u,c),js(u,s,n),Oh(s,a),xh(i,s,_),xh(o,u,_)}for(let A=0;A<16;A++)n[A+16]=i[A],n[A+32]=o[A],n[A+48]=s[A],n[A+64]=u[A];let f=n.subarray(32),d=n.subarray(16);Vee(f,f),js(d,d,f);let w=new Uint8Array(32);return Uee(w,d),w}zt.scalarMult=t_;function aM(t){return t_(t,oM)}zt.scalarMultBase=aM;function uM(t){if(t.length!==zt.SECRET_KEY_LENGTH)throw new Error(`x25519: seed must be ${zt.SECRET_KEY_LENGTH} bytes`);let e=new Uint8Array(t);return{publicKey:aM(e),secretKey:e}}zt.generateKeyPairFromSeed=uM;function kee(t){let e=(0,Mee.randomBytes)(32,t),r=uM(e);return(0,Lee.wipe)(e),r}zt.generateKeyPair=kee;function Hee(t,e,r=!1){if(t.length!==zt.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect secret key length");if(e.length!==zt.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect public key length");let n=t_(t,e);if(r){let i=0;for(let s=0;s<n.length;s++)i|=n[s];if(i===0)throw new Error("X25519: invalid shared key")}return n}zt.sharedKey=Hee});function lM(t,e){for(let r=0;r<t.byteLength;r++){if(t[r]<e[r])return-1;if(t[r]>e[r])return 1}return t.byteLength>e.byteLength?1:t.byteLength<e.byteLength?-1:0}var fM=de(()=>{h()});function hM(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}var dM=de(()=>{h()});function gM(t,e){if(t.length!==e.length)throw new Error("Inputs should have the same length");let r=zc(t.length);for(let n=0;n<t.length;n++)r[n]=t[n]^e[n];return r}var pM=de(()=>{h();bm()});var r_={};Ot(r_,{compare:()=>lM,concat:()=>Sm,equals:()=>hM,fromString:()=>ns,toString:()=>Vs,xor:()=>gM});var n_=de(()=>{h();fM();hI();dM();qI();UI();pM()});var mM={};Ot(mM,{RELAY_JSONRPC:()=>ete,isPublishMethod:()=>o_,isPublishParams:()=>a_,isPublishRequest:()=>Kee,isSubscribeMethod:()=>i_,isSubscribeParams:()=>s_,isSubscribeRequest:()=>Qee,isSubscriptionMethod:()=>l_,isSubscriptionParams:()=>f_,isSubscriptionRequest:()=>$ee,isUnsubscribeMethod:()=>u_,isUnsubscribeParams:()=>c_,isUnsubscribeRequest:()=>Wee,parsePublishRequest:()=>Jee,parseSubscribeRequest:()=>Yee,parseSubscriptionRequest:()=>Zee,parseUnsubscribeRequest:()=>Xee});function Ya(t,e,r="string"){if(!t[e]||typeof t[e]!==r)throw new Error(`Missing or invalid "${e}" param`)}function Gee(t,e){let r=!0;return e.forEach(n=>{n in t||(r=!1)}),r}function jee(t,e){return Array.isArray(t)?t.length===e:Object.keys(t).length===e}function zee(t,e){return Array.isArray(t)?t.length>=e:Object.keys(t).length>=e}function qm(t,e,r){return(r.length?zee(t,e.length):jee(t,e.length))?Gee(t,e):!1}function Vm(t,e,r="_"){let n=t.split(r);return n[n.length-1].trim().toLowerCase()===e.trim().toLowerCase()}function Qee(t){return i_(t.method)&&s_(t.params)}function i_(t){return Vm(t,"subscribe")}function s_(t){return qm(t,["topic"],[])}function Kee(t){return o_(t.method)&&a_(t.params)}function o_(t){return Vm(t,"publish")}function a_(t){return qm(t,["message","topic","ttl"],["prompt","tag"])}function Wee(t){return u_(t.method)&&c_(t.params)}function u_(t){return Vm(t,"unsubscribe")}function c_(t){return qm(t,["id","topic"],[])}function $ee(t){return l_(t.method)&&f_(t.params)}function l_(t){return Vm(t,"subscription")}function f_(t){return qm(t,["id","data"],[])}function Yee(t){if(!i_(t.method))throw new Error("JSON-RPC Request has invalid subscribe method");if(!s_(t.params))throw new Error("JSON-RPC Request has invalid subscribe params");let e=t.params;return Ya(e,"topic"),e}function Jee(t){if(!o_(t.method))throw new Error("JSON-RPC Request has invalid publish method");if(!a_(t.params))throw new Error("JSON-RPC Request has invalid publish params");let e=t.params;return Ya(e,"topic"),Ya(e,"message"),Ya(e,"ttl","number"),e}function Xee(t){if(!u_(t.method))throw new Error("JSON-RPC Request has invalid unsubscribe method");if(!c_(t.params))throw new Error("JSON-RPC Request has invalid unsubscribe params");let e=t.params;return Ya(e,"id"),e}function Zee(t){if(!l_(t.method))throw new Error("JSON-RPC Request has invalid subscription method");if(!f_(t.params))throw new Error("JSON-RPC Request has invalid subscription params");let e=t.params;return Ya(e,"id"),Ya(e,"data"),e}var ete,yM=de(()=>{h();ete={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}}});var jh=D(K=>{"use strict";h();Object.defineProperty(K,"__esModule",{value:!0});var tte=bB(),tl=Bc(),sl=KI(),rte=IB(),nte=GB(),JM=JB(),ite=nM(),XM=mh(),U_=sM(),ste=cM(),Vt=(n_(),xe(r_)),ote=(yM(),xe(mM));function ZM(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}),e.default=t,Object.freeze(e)}var $m=ZM(nte),e4=ZM(ste),ny=":";function t4(t){let[e,r]=t.split(ny);return{namespace:e,reference:r}}function r4(t){let{namespace:e,reference:r}=t;return[e,r].join(ny)}function q_(t){let[e,r,n]=t.split(ny);return{namespace:e,reference:r,address:n}}function n4(t){let{namespace:e,reference:r,address:n}=t;return[e,r,n].join(ny)}function V_(t,e){let r=[];return t.forEach(n=>{let i=e(n);r.includes(i)||r.push(i)}),r}function i4(t){let{address:e}=q_(t);return e}function s4(t){let{namespace:e,reference:r}=q_(t);return r4({namespace:e,reference:r})}function ate(t,e){let{namespace:r,reference:n}=t4(e);return n4({namespace:r,reference:n,address:t})}function ute(t){return V_(t,i4)}function o4(t){return V_(t,s4)}function cte(t,e=[]){let r=[];return Object.keys(t).forEach(n=>{if(e.length&&!e.includes(n))return;let i=t[n];r.push(...i.accounts)}),r}function lte(t,e=[]){let r=[];return Object.keys(t).forEach(n=>{if(e.length&&!e.includes(n))return;let i=t[n];r.push(...o4(i.accounts))}),r}function fte(t,e=[]){let r=[];return Object.keys(t).forEach(n=>{if(e.length&&!e.includes(n))return;let i=t[n];r.push(...iy(n,i))}),r}function iy(t,e){return t.includes(":")?[t]:e.chains||[]}var hte=Object.defineProperty,wM=Object.getOwnPropertySymbols,dte=Object.prototype.hasOwnProperty,gte=Object.prototype.propertyIsEnumerable,vM=(t,e,r)=>e in t?hte(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,AM=(t,e)=>{for(var r in e||(e={}))dte.call(e,r)&&vM(t,r,e[r]);if(wM)for(var r of wM(e))gte.call(e,r)&&vM(t,r,e[r]);return t},a4="ReactNative",zr={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},Ym=" ",pte=":",u4="/",k_=2,mte=1e3,c4="js";function H_(){return typeof S.default<"u"&&typeof S.default.versions<"u"&&typeof S.default.versions.node<"u"}function ul(){return!sl.getDocument()&&!!sl.getNavigator()&&navigator.product===a4}function Vh(){return!H_()&&!!sl.getNavigator()&&!!sl.getDocument()}function Za(){return ul()?zr.reactNative:H_()?zr.node:Vh()?zr.browser:zr.unknown}function yte(){var t;try{return ul()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(t=global.Application)==null?void 0:t.applicationId:void 0}catch{return}}function l4(t,e){let r=$m.parse(t);return r=AM(AM({},r),e),t=$m.stringify(r),t}function wte(){return rte.getWindowMetadata()||{name:"",description:"",url:"",icons:[""]}}function vte(t,e){var r;let n=Za(),i={protocol:t,version:e,env:n};return n==="browser"&&(i.host=((r=sl.getLocation())==null?void 0:r.host)||"unknown"),i}function f4(){if(Za()===zr.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){let{OS:r,Version:n}=global.Platform;return[r,n].join("-")}let t=tte.detect();if(t===null)return"unknown";let e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function h4(){var t;let e=Za();return e===zr.browser?[e,((t=sl.getLocation())==null?void 0:t.host)||"unknown"].join(":"):e}function d4(t,e,r){let n=f4(),i=h4();return[[t,e].join("-"),[c4,r].join("-"),n,i].join("/")}function Ate({protocol:t,version:e,relayUrl:r,sdkVersion:n,auth:i,projectId:s,useOnCloseEvent:o,bundleId:u}){let a=r.split("?"),c=d4(t,e,n),f={auth:i,ua:c,projectId:s,useOnCloseEvent:o||void 0,origin:u||void 0},d=l4(a[1]||"",f);return a[0]+"?"+d}function Ete(t){let e=(t.match(/^[^:]+(?=:\/\/)/gi)||[])[0],r=typeof e<"u"?t.split("://")[1]:t;return e=e==="wss"?"https":"http",[e,r].join("://")}function bte(t,e,r){if(!t[e]||typeof t[e]!==r)throw new Error(`Missing or invalid "${e}" param`)}function g4(t,e=k_){return p4(t.split(u4),e)}function Ste(t){return g4(t).join(Ym)}function Vo(t,e){return t.filter(r=>e.includes(r)).length===t.length}function p4(t,e=k_){return t.slice(Math.max(t.length-e,0))}function Ite(t){return Object.fromEntries(t.entries())}function _te(t){return new Map(Object.entries(t))}function Tte(t,e){let r={};return Object.keys(t).forEach(n=>{r[n]=e(t[n])}),r}var Cte=t=>t;function m4(t){return t.trim().replace(/^\w/,e=>e.toUpperCase())}function Nte(t){return t.split(Ym).map(e=>m4(e)).join(Ym)}function xte(t=tl.FIVE_MINUTES,e){let r=tl.toMiliseconds(t||tl.FIVE_MINUTES),n,i,s;return{resolve:o=>{s&&n&&(clearTimeout(s),n(o))},reject:o=>{s&&i&&(clearTimeout(s),i(o))},done:()=>new Promise((o,u)=>{s=setTimeout(()=>{u(new Error(e))},r),n=o,i=u})}}function Ote(t,e,r){return new Promise(async(n,i)=>{let s=setTimeout(()=>i(new Error(r)),e);try{let o=await t;n(o)}catch(o){i(o)}clearTimeout(s)})}function G_(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function Dte(t){return G_("topic",t)}function Pte(t){return G_("id",t)}function Rte(t){let[e,r]=t.split(":"),n={id:void 0,topic:void 0};if(e==="topic"&&typeof r=="string")n.topic=r;else if(e==="id"&&Number.isInteger(Number(r)))n.id=Number(r);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${r}`);return n}function Bte(t,e){return tl.fromMiliseconds((e||Date.now())+tl.toMiliseconds(t))}function Mte(t){return Date.now()>=tl.toMiliseconds(t)}function Lte(t,e){return`${t}${e?`:${e}`:""}`}function Ys(t=[],e=[]){return[...new Set([...t,...e])]}async function Fte({id:t,topic:e,wcDeepLink:r}){try{if(!r)return;let i=(typeof r=="string"?JSON.parse(r):r)?.href;if(typeof i!="string")return;i.endsWith("/")&&(i=i.slice(0,-1));let s=`${i}/wc?requestId=${t}&sessionTopic=${e}`,o=Za();o===zr.browser?s.startsWith("https://")||s.startsWith("http://")?window.open(s,"_blank","noreferrer noopener"):window.open(s,"_self","noreferrer noopener"):o===zr.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(s)}catch(n){console.error(n)}}async function Ute(t,e){try{return await t.getItem(e)||(Vh()?localStorage.getItem(e):void 0)}catch(r){console.error(r)}}function C_(t,e){return t.filter(r=>e.includes(r))}var y4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qte(t){var e=t.default;if(typeof e=="function"){var r=function(){return e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var w4={exports:{}};(function(t){(function(){var e="input is invalid type",r="finalize already called",n=typeof window=="object",i=n?window:{};i.JS_SHA3_NO_WINDOW&&(n=!1);var s=!n&&typeof self=="object",o=!i.JS_SHA3_NO_NODE_JS&&typeof S.default=="object"&&S.default.versions&&S.default.versions.node;o?i=y4:s&&(i=self);var u=!i.JS_SHA3_NO_COMMON_JS&&!0&&t.exports,a=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",c="0123456789abcdef".split(""),f=[31,7936,2031616,520093696],d=[4,1024,262144,67108864],w=[1,256,65536,16777216],A=[6,1536,393216,100663296],_=[0,8,16,24],N=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],P=[224,256,384,512],V=[128,256],U=["hex","buffer","arrayBuffer","array","digest"],Q={128:168,256:136};(i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(b){return Object.prototype.toString.call(b)==="[object Array]"}),a&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(b){return typeof b=="object"&&b.buffer&&b.buffer.constructor===ArrayBuffer});for(var L=function(b,j,z){return function(W){return new O(b,j,b).update(W)[z]()}},k=function(b,j,z){return function(W,ie){return new O(b,j,ie).update(W)[z]()}},H=function(b,j,z){return function(W,ie,te,ee){return g["cshake"+b].update(W,ie,te,ee)[z]()}},q=function(b,j,z){return function(W,ie,te,ee){return g["kmac"+b].update(W,ie,te,ee)[z]()}},v=function(b,j,z,W){for(var ie=0;ie<U.length;++ie){var te=U[ie];b[te]=j(z,W,te)}return b},C=function(b,j){var z=L(b,j,"hex");return z.create=function(){return new O(b,j,b)},z.update=function(W){return z.create().update(W)},v(z,L,b,j)},R=function(b,j){var z=k(b,j,"hex");return z.create=function(W){return new O(b,j,W)},z.update=function(W,ie){return z.create(ie).update(W)},v(z,k,b,j)},F=function(b,j){var z=Q[b],W=H(b,j,"hex");return W.create=function(ie,te,ee){return!te&&!ee?g["shake"+b].create(ie):new O(b,j,ie).bytepad([te,ee],z)},W.update=function(ie,te,ee,se){return W.create(te,ee,se).update(ie)},v(W,H,b,j)},B=function(b,j){var z=Q[b],W=q(b,j,"hex");return W.create=function(ie,te,ee){return new Y(b,j,te).bytepad(["KMAC",ee],z).bytepad([ie],z)},W.update=function(ie,te,ee,se){return W.create(ie,ee,se).update(te)},v(W,q,b,j)},l=[{name:"keccak",padding:w,bits:P,createMethod:C},{name:"sha3",padding:A,bits:P,createMethod:C},{name:"shake",padding:f,bits:V,createMethod:R},{name:"cshake",padding:d,bits:V,createMethod:F},{name:"kmac",padding:d,bits:V,createMethod:B}],g={},y=[],E=0;E<l.length;++E)for(var I=l[E],T=I.bits,M=0;M<T.length;++M){var x=I.name+"_"+T[M];if(y.push(x),g[x]=I.createMethod(T[M],I.padding),I.name!=="sha3"){var m=I.name+T[M];y.push(m),g[m]=g[x]}}function O(b,j,z){this.blocks=[],this.s=[],this.padding=j,this.outputBits=z,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(b<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=z>>5,this.extraBytes=(z&31)>>3;for(var W=0;W<50;++W)this.s[W]=0}O.prototype.update=function(b){if(this.finalized)throw new Error(r);var j,z=typeof b;if(z!=="string"){if(z==="object"){if(b===null)throw new Error(e);if(a&&b.constructor===ArrayBuffer)b=new Uint8Array(b);else if(!Array.isArray(b)&&(!a||!ArrayBuffer.isView(b)))throw new Error(e)}else throw new Error(e);j=!0}for(var W=this.blocks,ie=this.byteCount,te=b.length,ee=this.blockCount,se=0,oe=this.s,J,ue;se<te;){if(this.reset)for(this.reset=!1,W[0]=this.block,J=1;J<ee+1;++J)W[J]=0;if(j)for(J=this.start;se<te&&J<ie;++se)W[J>>2]|=b[se]<<_[J++&3];else for(J=this.start;se<te&&J<ie;++se)ue=b.charCodeAt(se),ue<128?W[J>>2]|=ue<<_[J++&3]:ue<2048?(W[J>>2]|=(192|ue>>6)<<_[J++&3],W[J>>2]|=(128|ue&63)<<_[J++&3]):ue<55296||ue>=57344?(W[J>>2]|=(224|ue>>12)<<_[J++&3],W[J>>2]|=(128|ue>>6&63)<<_[J++&3],W[J>>2]|=(128|ue&63)<<_[J++&3]):(ue=65536+((ue&1023)<<10|b.charCodeAt(++se)&1023),W[J>>2]|=(240|ue>>18)<<_[J++&3],W[J>>2]|=(128|ue>>12&63)<<_[J++&3],W[J>>2]|=(128|ue>>6&63)<<_[J++&3],W[J>>2]|=(128|ue&63)<<_[J++&3]);if(this.lastByteIndex=J,J>=ie){for(this.start=J-ie,this.block=W[ee],J=0;J<ee;++J)oe[J]^=W[J];$(oe),this.reset=!0}else this.start=J}return this},O.prototype.encode=function(b,j){var z=b&255,W=1,ie=[z];for(b=b>>8,z=b&255;z>0;)ie.unshift(z),b=b>>8,z=b&255,++W;return j?ie.push(W):ie.unshift(W),this.update(ie),ie.length},O.prototype.encodeString=function(b){var j,z=typeof b;if(z!=="string"){if(z==="object"){if(b===null)throw new Error(e);if(a&&b.constructor===ArrayBuffer)b=new Uint8Array(b);else if(!Array.isArray(b)&&(!a||!ArrayBuffer.isView(b)))throw new Error(e)}else throw new Error(e);j=!0}var W=0,ie=b.length;if(j)W=ie;else for(var te=0;te<b.length;++te){var ee=b.charCodeAt(te);ee<128?W+=1:ee<2048?W+=2:ee<55296||ee>=57344?W+=3:(ee=65536+((ee&1023)<<10|b.charCodeAt(++te)&1023),W+=4)}return W+=this.encode(W*8),this.update(b),W},O.prototype.bytepad=function(b,j){for(var z=this.encode(j),W=0;W<b.length;++W)z+=this.encodeString(b[W]);var ie=j-z%j,te=[];return te.length=ie,this.update(te),this},O.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var b=this.blocks,j=this.lastByteIndex,z=this.blockCount,W=this.s;if(b[j>>2]|=this.padding[j&3],this.lastByteIndex===this.byteCount)for(b[0]=b[z],j=1;j<z+1;++j)b[j]=0;for(b[z-1]|=2147483648,j=0;j<z;++j)W[j]^=b[j];$(W)}},O.prototype.toString=O.prototype.hex=function(){this.finalize();for(var b=this.blockCount,j=this.s,z=this.outputBlocks,W=this.extraBytes,ie=0,te=0,ee="",se;te<z;){for(ie=0;ie<b&&te<z;++ie,++te)se=j[ie],ee+=c[se>>4&15]+c[se&15]+c[se>>12&15]+c[se>>8&15]+c[se>>20&15]+c[se>>16&15]+c[se>>28&15]+c[se>>24&15];te%b===0&&($(j),ie=0)}return W&&(se=j[ie],ee+=c[se>>4&15]+c[se&15],W>1&&(ee+=c[se>>12&15]+c[se>>8&15]),W>2&&(ee+=c[se>>20&15]+c[se>>16&15])),ee},O.prototype.arrayBuffer=function(){this.finalize();var b=this.blockCount,j=this.s,z=this.outputBlocks,W=this.extraBytes,ie=0,te=0,ee=this.outputBits>>3,se;W?se=new ArrayBuffer(z+1<<2):se=new ArrayBuffer(ee);for(var oe=new Uint32Array(se);te<z;){for(ie=0;ie<b&&te<z;++ie,++te)oe[te]=j[ie];te%b===0&&$(j)}return W&&(oe[ie]=j[ie],se=se.slice(0,ee)),se},O.prototype.buffer=O.prototype.arrayBuffer,O.prototype.digest=O.prototype.array=function(){this.finalize();for(var b=this.blockCount,j=this.s,z=this.outputBlocks,W=this.extraBytes,ie=0,te=0,ee=[],se,oe;te<z;){for(ie=0;ie<b&&te<z;++ie,++te)se=te<<2,oe=j[ie],ee[se]=oe&255,ee[se+1]=oe>>8&255,ee[se+2]=oe>>16&255,ee[se+3]=oe>>24&255;te%b===0&&$(j)}return W&&(se=te<<2,oe=j[ie],ee[se]=oe&255,W>1&&(ee[se+1]=oe>>8&255),W>2&&(ee[se+2]=oe>>16&255)),ee};function Y(b,j,z){O.call(this,b,j,z)}Y.prototype=new O,Y.prototype.finalize=function(){return this.encode(this.outputBits,!0),O.prototype.finalize.call(this)};var $=function(b){var j,z,W,ie,te,ee,se,oe,J,ue,vt,At,Pi,Et,bt,Ri,St,It,Bi,_t,Tt,Mi,Ke,We,si,$e,Ye,oi,Je,Xe,ai,Ze,et,ui,tt,rt,ci,nt,it,li,st,ot,fi,at,ut,hi,ct,lt,di,ft,ht,gi,dt,gt,pi,pt,mt,An,En,bn,Sn,In,_n;for(W=0;W<48;W+=2)ie=b[0]^b[10]^b[20]^b[30]^b[40],te=b[1]^b[11]^b[21]^b[31]^b[41],ee=b[2]^b[12]^b[22]^b[32]^b[42],se=b[3]^b[13]^b[23]^b[33]^b[43],oe=b[4]^b[14]^b[24]^b[34]^b[44],J=b[5]^b[15]^b[25]^b[35]^b[45],ue=b[6]^b[16]^b[26]^b[36]^b[46],vt=b[7]^b[17]^b[27]^b[37]^b[47],At=b[8]^b[18]^b[28]^b[38]^b[48],Pi=b[9]^b[19]^b[29]^b[39]^b[49],j=At^(ee<<1|se>>>31),z=Pi^(se<<1|ee>>>31),b[0]^=j,b[1]^=z,b[10]^=j,b[11]^=z,b[20]^=j,b[21]^=z,b[30]^=j,b[31]^=z,b[40]^=j,b[41]^=z,j=ie^(oe<<1|J>>>31),z=te^(J<<1|oe>>>31),b[2]^=j,b[3]^=z,b[12]^=j,b[13]^=z,b[22]^=j,b[23]^=z,b[32]^=j,b[33]^=z,b[42]^=j,b[43]^=z,j=ee^(ue<<1|vt>>>31),z=se^(vt<<1|ue>>>31),b[4]^=j,b[5]^=z,b[14]^=j,b[15]^=z,b[24]^=j,b[25]^=z,b[34]^=j,b[35]^=z,b[44]^=j,b[45]^=z,j=oe^(At<<1|Pi>>>31),z=J^(Pi<<1|At>>>31),b[6]^=j,b[7]^=z,b[16]^=j,b[17]^=z,b[26]^=j,b[27]^=z,b[36]^=j,b[37]^=z,b[46]^=j,b[47]^=z,j=ue^(ie<<1|te>>>31),z=vt^(te<<1|ie>>>31),b[8]^=j,b[9]^=z,b[18]^=j,b[19]^=z,b[28]^=j,b[29]^=z,b[38]^=j,b[39]^=z,b[48]^=j,b[49]^=z,Et=b[0],bt=b[1],hi=b[11]<<4|b[10]>>>28,ct=b[10]<<4|b[11]>>>28,oi=b[20]<<3|b[21]>>>29,Je=b[21]<<3|b[20]>>>29,bn=b[31]<<9|b[30]>>>23,Sn=b[30]<<9|b[31]>>>23,ot=b[40]<<18|b[41]>>>14,fi=b[41]<<18|b[40]>>>14,ui=b[2]<<1|b[3]>>>31,tt=b[3]<<1|b[2]>>>31,Ri=b[13]<<12|b[12]>>>20,St=b[12]<<12|b[13]>>>20,lt=b[22]<<10|b[23]>>>22,di=b[23]<<10|b[22]>>>22,Xe=b[33]<<13|b[32]>>>19,ai=b[32]<<13|b[33]>>>19,In=b[42]<<2|b[43]>>>30,_n=b[43]<<2|b[42]>>>30,gt=b[5]<<30|b[4]>>>2,pi=b[4]<<30|b[5]>>>2,rt=b[14]<<6|b[15]>>>26,ci=b[15]<<6|b[14]>>>26,It=b[25]<<11|b[24]>>>21,Bi=b[24]<<11|b[25]>>>21,ft=b[34]<<15|b[35]>>>17,ht=b[35]<<15|b[34]>>>17,Ze=b[45]<<29|b[44]>>>3,et=b[44]<<29|b[45]>>>3,We=b[6]<<28|b[7]>>>4,si=b[7]<<28|b[6]>>>4,pt=b[17]<<23|b[16]>>>9,mt=b[16]<<23|b[17]>>>9,nt=b[26]<<25|b[27]>>>7,it=b[27]<<25|b[26]>>>7,_t=b[36]<<21|b[37]>>>11,Tt=b[37]<<21|b[36]>>>11,gi=b[47]<<24|b[46]>>>8,dt=b[46]<<24|b[47]>>>8,at=b[8]<<27|b[9]>>>5,ut=b[9]<<27|b[8]>>>5,$e=b[18]<<20|b[19]>>>12,Ye=b[19]<<20|b[18]>>>12,An=b[29]<<7|b[28]>>>25,En=b[28]<<7|b[29]>>>25,li=b[38]<<8|b[39]>>>24,st=b[39]<<8|b[38]>>>24,Mi=b[48]<<14|b[49]>>>18,Ke=b[49]<<14|b[48]>>>18,b[0]=Et^~Ri&It,b[1]=bt^~St&Bi,b[10]=We^~$e&oi,b[11]=si^~Ye&Je,b[20]=ui^~rt&nt,b[21]=tt^~ci&it,b[30]=at^~hi&lt,b[31]=ut^~ct&di,b[40]=gt^~pt&An,b[41]=pi^~mt&En,b[2]=Ri^~It&_t,b[3]=St^~Bi&Tt,b[12]=$e^~oi&Xe,b[13]=Ye^~Je&ai,b[22]=rt^~nt&li,b[23]=ci^~it&st,b[32]=hi^~lt&ft,b[33]=ct^~di&ht,b[42]=pt^~An&bn,b[43]=mt^~En&Sn,b[4]=It^~_t&Mi,b[5]=Bi^~Tt&Ke,b[14]=oi^~Xe&Ze,b[15]=Je^~ai&et,b[24]=nt^~li&ot,b[25]=it^~st&fi,b[34]=lt^~ft&gi,b[35]=di^~ht&dt,b[44]=An^~bn&In,b[45]=En^~Sn&_n,b[6]=_t^~Mi&Et,b[7]=Tt^~Ke&bt,b[16]=Xe^~Ze&We,b[17]=ai^~et&si,b[26]=li^~ot&ui,b[27]=st^~fi&tt,b[36]=ft^~gi&at,b[37]=ht^~dt&ut,b[46]=bn^~In&gt,b[47]=Sn^~_n&pi,b[8]=Mi^~Et&Ri,b[9]=Ke^~bt&St,b[18]=Ze^~We&$e,b[19]=et^~si&Ye,b[28]=ot^~ui&rt,b[29]=fi^~tt&ci,b[38]=gi^~at&hi,b[39]=dt^~ut&ct,b[48]=In^~gt&pt,b[49]=_n^~pi&mt,b[0]^=N[W],b[1]^=N[W+1]};if(u)t.exports=g;else for(E=0;E<y.length;++E)i[y[E]]=g[y[E]]})()})(w4);var Vte=w4.exports,kte="logger/5.7.0",EM=!1,bM=!1,Qm={debug:1,default:2,info:2,warning:3,error:4,off:5},SM=Qm.default,h_=null;function Hte(){try{let t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("\xE9".normalize("NFD")!=="e\u0301")throw new Error("broken implementation")}catch(t){return t.message}return null}var IM=Hte(),N_;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(N_||(N_={}));var Ti;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Ti||(Ti={}));var _M="0123456789abcdef",kt=class t{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){let n=e.toLowerCase();Qm[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(SM>Qm[n])&&console.log.apply(console,r)}debug(...e){this._log(t.levels.DEBUG,e)}info(...e){this._log(t.levels.INFO,e)}warn(...e){this._log(t.levels.WARNING,e)}makeError(e,r,n){if(bM)return this.makeError("censored error",r,{});r||(r=t.errors.UNKNOWN_ERROR),n||(n={});let i=[];Object.keys(n).forEach(a=>{let c=n[a];try{if(c instanceof Uint8Array){let f="";for(let d=0;d<c.length;d++)f+=_M[c[d]>>4],f+=_M[c[d]&15];i.push(a+"=Uint8Array(0x"+f+")")}else i.push(a+"="+JSON.stringify(c))}catch{i.push(a+"="+JSON.stringify(n[a].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);let s=e,o="";switch(r){case Ti.NUMERIC_FAULT:{o="NUMERIC_FAULT";let a=e;switch(a){case"overflow":case"underflow":case"division-by-zero":o+="-"+a;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Ti.CALL_EXCEPTION:case Ti.INSUFFICIENT_FUNDS:case Ti.MISSING_NEW:case Ti.NONCE_EXPIRED:case Ti.REPLACEMENT_UNDERPRICED:case Ti.TRANSACTION_REPLACED:case Ti.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");let u=new Error(e);return u.reason=s,u.code=r,Object.keys(n).forEach(function(a){u[a]=n[a]}),u}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,t.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){IM&&this.throwError("platform missing String.prototype.normalize",t.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:IM})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,t.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,t.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,t.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,t.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",t.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",t.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",t.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return h_||(h_=new t(kte)),h_}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",t.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),EM){if(!e)return;this.globalLogger().throwError("error censorship permanent",t.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}bM=!!e,EM=!!r}static setLogLevel(e){let r=Qm[e.toLowerCase()];if(r==null){t.globalLogger().warn("invalid log level - "+e);return}SM=r}static from(e){return new t(e)}};kt.errors=Ti,kt.levels=N_;var Gte="bytes/5.7.0",tr=new kt(Gte);function v4(t){return!!t.toHexString}function rl(t){return t.slice||(t.slice=function(){let e=Array.prototype.slice.call(arguments);return rl(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function jte(t){return pn(t)&&!(t.length%2)||cl(t)}function TM(t){return typeof t=="number"&&t==t&&t%1===0}function cl(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!TM(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){let r=t[e];if(!TM(r)||r<0||r>=256)return!1}return!0}function Qt(t,e){if(e||(e={}),typeof t=="number"){tr.checkSafeUint53(t,"invalid arrayify value");let r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),rl(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),v4(t)&&(t=t.toHexString()),pn(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":tr.throwArgumentError("hex data is odd-length","value",t));let n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return rl(new Uint8Array(n))}return cl(t)?rl(new Uint8Array(t)):tr.throwArgumentError("invalid arrayify value","value",t)}function zte(t){let e=t.map(i=>Qt(i)),r=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(r);return e.reduce((i,s)=>(n.set(s,i),i+s.length),0),rl(n)}function Qte(t,e){t=Qt(t),t.length>e&&tr.throwArgumentError("value out of range","value",arguments[0]);let r=new Uint8Array(e);return r.set(t,e-t.length),rl(r)}function pn(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}var d_="0123456789abcdef";function Gr(t,e){if(e||(e={}),typeof t=="number"){tr.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=d_[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),v4(t))return t.toHexString();if(pn(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":tr.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(cl(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=d_[(i&240)>>4]+d_[i&15]}return r}return tr.throwArgumentError("invalid hexlify value","value",t)}function Kte(t){if(typeof t!="string")t=Gr(t);else if(!pn(t)||t.length%2)return null;return(t.length-2)/2}function CM(t,e,r){return typeof t!="string"?t=Gr(t):(!pn(t)||t.length%2)&&tr.throwArgumentError("invalid hexData","value",t),e=2+2*e,r!=null?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}function fs(t,e){for(typeof t!="string"?t=Gr(t):pn(t)||tr.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&tr.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function A4(t){let e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(jte(t)){let r=Qt(t);r.length===64?(e.v=27+(r[32]>>7),r[32]&=127,e.r=Gr(r.slice(0,32)),e.s=Gr(r.slice(32,64))):r.length===65?(e.r=Gr(r.slice(0,32)),e.s=Gr(r.slice(32,64)),e.v=r[64]):tr.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:tr.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=Gr(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){let i=Qte(Qt(e._vs),32);e._vs=Gr(i);let s=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&tr.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),i[0]&=127;let o=Gr(i);e.s==null?e.s=o:e.s!==o&&tr.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?tr.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{let i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&tr.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!pn(e.r)?tr.throwArgumentError("signature missing or invalid r","signature",t):e.r=fs(e.r,32),e.s==null||!pn(e.s)?tr.throwArgumentError("signature missing or invalid s","signature",t):e.s=fs(e.s,32);let r=Qt(e.s);r[0]>=128&&tr.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);let n=Gr(r);e._vs&&(pn(e._vs)||tr.throwArgumentError("signature invalid _vs","signature",t),e._vs=fs(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&tr.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}function j_(t){return"0x"+Vte.keccak_256(Qt(t))}var E4={exports:{}},Wte={},$te=Object.freeze({__proto__:null,default:Wte}),Yte=qte($te);(function(t){(function(e,r){function n(l,g){if(!l)throw new Error(g||"Assertion failed")}function i(l,g){l.super_=g;var y=function(){};y.prototype=g.prototype,l.prototype=new y,l.prototype.constructor=l}function s(l,g,y){if(s.isBN(l))return l;this.negative=0,this.words=null,this.length=0,this.red=null,l!==null&&((g==="le"||g==="be")&&(y=g,g=10),this._init(l||0,g||10,y||"be"))}typeof e=="object"?e.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Yte.Buffer}catch{}s.isBN=function(l){return l instanceof s?!0:l!==null&&typeof l=="object"&&l.constructor.wordSize===s.wordSize&&Array.isArray(l.words)},s.max=function(l,g){return l.cmp(g)>0?l:g},s.min=function(l,g){return l.cmp(g)<0?l:g},s.prototype._init=function(l,g,y){if(typeof l=="number")return this._initNumber(l,g,y);if(typeof l=="object")return this._initArray(l,g,y);g==="hex"&&(g=16),n(g===(g|0)&&g>=2&&g<=36),l=l.toString().replace(/\s+/g,"");var E=0;l[0]==="-"&&(E++,this.negative=1),E<l.length&&(g===16?this._parseHex(l,E,y):(this._parseBase(l,g,E),y==="le"&&this._initArray(this.toArray(),g,y)))},s.prototype._initNumber=function(l,g,y){l<0&&(this.negative=1,l=-l),l<67108864?(this.words=[l&67108863],this.length=1):l<4503599627370496?(this.words=[l&67108863,l/67108864&67108863],this.length=2):(n(l<9007199254740992),this.words=[l&67108863,l/67108864&67108863,1],this.length=3),y==="le"&&this._initArray(this.toArray(),g,y)},s.prototype._initArray=function(l,g,y){if(n(typeof l.length=="number"),l.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(l.length/3),this.words=new Array(this.length);for(var E=0;E<this.length;E++)this.words[E]=0;var I,T,M=0;if(y==="be")for(E=l.length-1,I=0;E>=0;E-=3)T=l[E]|l[E-1]<<8|l[E-2]<<16,this.words[I]|=T<<M&67108863,this.words[I+1]=T>>>26-M&67108863,M+=24,M>=26&&(M-=26,I++);else if(y==="le")for(E=0,I=0;E<l.length;E+=3)T=l[E]|l[E+1]<<8|l[E+2]<<16,this.words[I]|=T<<M&67108863,this.words[I+1]=T>>>26-M&67108863,M+=24,M>=26&&(M-=26,I++);return this._strip()};function u(l,g){var y=l.charCodeAt(g);if(y>=48&&y<=57)return y-48;if(y>=65&&y<=70)return y-55;if(y>=97&&y<=102)return y-87;n(!1,"Invalid character in "+l)}function a(l,g,y){var E=u(l,y);return y-1>=g&&(E|=u(l,y-1)<<4),E}s.prototype._parseHex=function(l,g,y){this.length=Math.ceil((l.length-g)/6),this.words=new Array(this.length);for(var E=0;E<this.length;E++)this.words[E]=0;var I=0,T=0,M;if(y==="be")for(E=l.length-1;E>=g;E-=2)M=a(l,g,E)<<I,this.words[T]|=M&67108863,I>=18?(I-=18,T+=1,this.words[T]|=M>>>26):I+=8;else{var x=l.length-g;for(E=x%2===0?g+1:g;E<l.length;E+=2)M=a(l,g,E)<<I,this.words[T]|=M&67108863,I>=18?(I-=18,T+=1,this.words[T]|=M>>>26):I+=8}this._strip()};function c(l,g,y,E){for(var I=0,T=0,M=Math.min(l.length,y),x=g;x<M;x++){var m=l.charCodeAt(x)-48;I*=E,m>=49?T=m-49+10:m>=17?T=m-17+10:T=m,n(m>=0&&T<E,"Invalid character"),I+=T}return I}s.prototype._parseBase=function(l,g,y){this.words=[0],this.length=1;for(var E=0,I=1;I<=67108863;I*=g)E++;E--,I=I/g|0;for(var T=l.length-y,M=T%E,x=Math.min(T,T-M)+y,m=0,O=y;O<x;O+=E)m=c(l,O,O+E,g),this.imuln(I),this.words[0]+m<67108864?this.words[0]+=m:this._iaddn(m);if(M!==0){var Y=1;for(m=c(l,O,l.length,g),O=0;O<M;O++)Y*=g;this.imuln(Y),this.words[0]+m<67108864?this.words[0]+=m:this._iaddn(m)}this._strip()},s.prototype.copy=function(l){l.words=new Array(this.length);for(var g=0;g<this.length;g++)l.words[g]=this.words[g];l.length=this.length,l.negative=this.negative,l.red=this.red};function f(l,g){l.words=g.words,l.length=g.length,l.negative=g.negative,l.red=g.red}if(s.prototype._move=function(l){f(l,this)},s.prototype.clone=function(){var l=new s(null);return this.copy(l),l},s.prototype._expand=function(l){for(;this.length<l;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=d}catch{s.prototype.inspect=d}else s.prototype.inspect=d;function d(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var w=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],A=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],_=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(l,g){l=l||10,g=g|0||1;var y;if(l===16||l==="hex"){y="";for(var E=0,I=0,T=0;T<this.length;T++){var M=this.words[T],x=((M<<E|I)&16777215).toString(16);I=M>>>24-E&16777215,E+=2,E>=26&&(E-=26,T--),I!==0||T!==this.length-1?y=w[6-x.length]+x+y:y=x+y}for(I!==0&&(y=I.toString(16)+y);y.length%g!==0;)y="0"+y;return this.negative!==0&&(y="-"+y),y}if(l===(l|0)&&l>=2&&l<=36){var m=A[l],O=_[l];y="";var Y=this.clone();for(Y.negative=0;!Y.isZero();){var $=Y.modrn(O).toString(l);Y=Y.idivn(O),Y.isZero()?y=$+y:y=w[m-$.length]+$+y}for(this.isZero()&&(y="0"+y);y.length%g!==0;)y="0"+y;return this.negative!==0&&(y="-"+y),y}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var l=this.words[0];return this.length===2?l+=this.words[1]*67108864:this.length===3&&this.words[2]===1?l+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-l:l},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(l,g){return this.toArrayLike(o,l,g)}),s.prototype.toArray=function(l,g){return this.toArrayLike(Array,l,g)};var N=function(l,g){return l.allocUnsafe?l.allocUnsafe(g):new l(g)};s.prototype.toArrayLike=function(l,g,y){this._strip();var E=this.byteLength(),I=y||Math.max(1,E);n(E<=I,"byte array longer than desired length"),n(I>0,"Requested array length <= 0");var T=N(l,I),M=g==="le"?"LE":"BE";return this["_toArrayLike"+M](T,E),T},s.prototype._toArrayLikeLE=function(l,g){for(var y=0,E=0,I=0,T=0;I<this.length;I++){var M=this.words[I]<<T|E;l[y++]=M&255,y<l.length&&(l[y++]=M>>8&255),y<l.length&&(l[y++]=M>>16&255),T===6?(y<l.length&&(l[y++]=M>>24&255),E=0,T=0):(E=M>>>24,T+=2)}if(y<l.length)for(l[y++]=E;y<l.length;)l[y++]=0},s.prototype._toArrayLikeBE=function(l,g){for(var y=l.length-1,E=0,I=0,T=0;I<this.length;I++){var M=this.words[I]<<T|E;l[y--]=M&255,y>=0&&(l[y--]=M>>8&255),y>=0&&(l[y--]=M>>16&255),T===6?(y>=0&&(l[y--]=M>>24&255),E=0,T=0):(E=M>>>24,T+=2)}if(y>=0)for(l[y--]=E;y>=0;)l[y--]=0},Math.clz32?s.prototype._countBits=function(l){return 32-Math.clz32(l)}:s.prototype._countBits=function(l){var g=l,y=0;return g>=4096&&(y+=13,g>>>=13),g>=64&&(y+=7,g>>>=7),g>=8&&(y+=4,g>>>=4),g>=2&&(y+=2,g>>>=2),y+g},s.prototype._zeroBits=function(l){if(l===0)return 26;var g=l,y=0;return g&8191||(y+=13,g>>>=13),g&127||(y+=7,g>>>=7),g&15||(y+=4,g>>>=4),g&3||(y+=2,g>>>=2),g&1||y++,y},s.prototype.bitLength=function(){var l=this.words[this.length-1],g=this._countBits(l);return(this.length-1)*26+g};function P(l){for(var g=new Array(l.bitLength()),y=0;y<g.length;y++){var E=y/26|0,I=y%26;g[y]=l.words[E]>>>I&1}return g}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var l=0,g=0;g<this.length;g++){var y=this._zeroBits(this.words[g]);if(l+=y,y!==26)break}return l},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(l){return this.negative!==0?this.abs().inotn(l).iaddn(1):this.clone()},s.prototype.fromTwos=function(l){return this.testn(l-1)?this.notn(l).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(l){for(;this.length<l.length;)this.words[this.length++]=0;for(var g=0;g<l.length;g++)this.words[g]=this.words[g]|l.words[g];return this._strip()},s.prototype.ior=function(l){return n((this.negative|l.negative)===0),this.iuor(l)},s.prototype.or=function(l){return this.length>l.length?this.clone().ior(l):l.clone().ior(this)},s.prototype.uor=function(l){return this.length>l.length?this.clone().iuor(l):l.clone().iuor(this)},s.prototype.iuand=function(l){var g;this.length>l.length?g=l:g=this;for(var y=0;y<g.length;y++)this.words[y]=this.words[y]&l.words[y];return this.length=g.length,this._strip()},s.prototype.iand=function(l){return n((this.negative|l.negative)===0),this.iuand(l)},s.prototype.and=function(l){return this.length>l.length?this.clone().iand(l):l.clone().iand(this)},s.prototype.uand=function(l){return this.length>l.length?this.clone().iuand(l):l.clone().iuand(this)},s.prototype.iuxor=function(l){var g,y;this.length>l.length?(g=this,y=l):(g=l,y=this);for(var E=0;E<y.length;E++)this.words[E]=g.words[E]^y.words[E];if(this!==g)for(;E<g.length;E++)this.words[E]=g.words[E];return this.length=g.length,this._strip()},s.prototype.ixor=function(l){return n((this.negative|l.negative)===0),this.iuxor(l)},s.prototype.xor=function(l){return this.length>l.length?this.clone().ixor(l):l.clone().ixor(this)},s.prototype.uxor=function(l){return this.length>l.length?this.clone().iuxor(l):l.clone().iuxor(this)},s.prototype.inotn=function(l){n(typeof l=="number"&&l>=0);var g=Math.ceil(l/26)|0,y=l%26;this._expand(g),y>0&&g--;for(var E=0;E<g;E++)this.words[E]=~this.words[E]&67108863;return y>0&&(this.words[E]=~this.words[E]&67108863>>26-y),this._strip()},s.prototype.notn=function(l){return this.clone().inotn(l)},s.prototype.setn=function(l,g){n(typeof l=="number"&&l>=0);var y=l/26|0,E=l%26;return this._expand(y+1),g?this.words[y]=this.words[y]|1<<E:this.words[y]=this.words[y]&~(1<<E),this._strip()},s.prototype.iadd=function(l){var g;if(this.negative!==0&&l.negative===0)return this.negative=0,g=this.isub(l),this.negative^=1,this._normSign();if(this.negative===0&&l.negative!==0)return l.negative=0,g=this.isub(l),l.negative=1,g._normSign();var y,E;this.length>l.length?(y=this,E=l):(y=l,E=this);for(var I=0,T=0;T<E.length;T++)g=(y.words[T]|0)+(E.words[T]|0)+I,this.words[T]=g&67108863,I=g>>>26;for(;I!==0&&T<y.length;T++)g=(y.words[T]|0)+I,this.words[T]=g&67108863,I=g>>>26;if(this.length=y.length,I!==0)this.words[this.length]=I,this.length++;else if(y!==this)for(;T<y.length;T++)this.words[T]=y.words[T];return this},s.prototype.add=function(l){var g;return l.negative!==0&&this.negative===0?(l.negative=0,g=this.sub(l),l.negative^=1,g):l.negative===0&&this.negative!==0?(this.negative=0,g=l.sub(this),this.negative=1,g):this.length>l.length?this.clone().iadd(l):l.clone().iadd(this)},s.prototype.isub=function(l){if(l.negative!==0){l.negative=0;var g=this.iadd(l);return l.negative=1,g._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(l),this.negative=1,this._normSign();var y=this.cmp(l);if(y===0)return this.negative=0,this.length=1,this.words[0]=0,this;var E,I;y>0?(E=this,I=l):(E=l,I=this);for(var T=0,M=0;M<I.length;M++)g=(E.words[M]|0)-(I.words[M]|0)+T,T=g>>26,this.words[M]=g&67108863;for(;T!==0&&M<E.length;M++)g=(E.words[M]|0)+T,T=g>>26,this.words[M]=g&67108863;if(T===0&&M<E.length&&E!==this)for(;M<E.length;M++)this.words[M]=E.words[M];return this.length=Math.max(this.length,M),E!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(l){return this.clone().isub(l)};function V(l,g,y){y.negative=g.negative^l.negative;var E=l.length+g.length|0;y.length=E,E=E-1|0;var I=l.words[0]|0,T=g.words[0]|0,M=I*T,x=M&67108863,m=M/67108864|0;y.words[0]=x;for(var O=1;O<E;O++){for(var Y=m>>>26,$=m&67108863,b=Math.min(O,g.length-1),j=Math.max(0,O-l.length+1);j<=b;j++){var z=O-j|0;I=l.words[z]|0,T=g.words[j]|0,M=I*T+$,Y+=M/67108864|0,$=M&67108863}y.words[O]=$|0,m=Y|0}return m!==0?y.words[O]=m|0:y.length--,y._strip()}var U=function(l,g,y){var E=l.words,I=g.words,T=y.words,M=0,x,m,O,Y=E[0]|0,$=Y&8191,b=Y>>>13,j=E[1]|0,z=j&8191,W=j>>>13,ie=E[2]|0,te=ie&8191,ee=ie>>>13,se=E[3]|0,oe=se&8191,J=se>>>13,ue=E[4]|0,vt=ue&8191,At=ue>>>13,Pi=E[5]|0,Et=Pi&8191,bt=Pi>>>13,Ri=E[6]|0,St=Ri&8191,It=Ri>>>13,Bi=E[7]|0,_t=Bi&8191,Tt=Bi>>>13,Mi=E[8]|0,Ke=Mi&8191,We=Mi>>>13,si=E[9]|0,$e=si&8191,Ye=si>>>13,oi=I[0]|0,Je=oi&8191,Xe=oi>>>13,ai=I[1]|0,Ze=ai&8191,et=ai>>>13,ui=I[2]|0,tt=ui&8191,rt=ui>>>13,ci=I[3]|0,nt=ci&8191,it=ci>>>13,li=I[4]|0,st=li&8191,ot=li>>>13,fi=I[5]|0,at=fi&8191,ut=fi>>>13,hi=I[6]|0,ct=hi&8191,lt=hi>>>13,di=I[7]|0,ft=di&8191,ht=di>>>13,gi=I[8]|0,dt=gi&8191,gt=gi>>>13,pi=I[9]|0,pt=pi&8191,mt=pi>>>13;y.negative=l.negative^g.negative,y.length=19,x=Math.imul($,Je),m=Math.imul($,Xe),m=m+Math.imul(b,Je)|0,O=Math.imul(b,Xe);var An=(M+x|0)+((m&8191)<<13)|0;M=(O+(m>>>13)|0)+(An>>>26)|0,An&=67108863,x=Math.imul(z,Je),m=Math.imul(z,Xe),m=m+Math.imul(W,Je)|0,O=Math.imul(W,Xe),x=x+Math.imul($,Ze)|0,m=m+Math.imul($,et)|0,m=m+Math.imul(b,Ze)|0,O=O+Math.imul(b,et)|0;var En=(M+x|0)+((m&8191)<<13)|0;M=(O+(m>>>13)|0)+(En>>>26)|0,En&=67108863,x=Math.imul(te,Je),m=Math.imul(te,Xe),m=m+Math.imul(ee,Je)|0,O=Math.imul(ee,Xe),x=x+Math.imul(z,Ze)|0,m=m+Math.imul(z,et)|0,m=m+Math.imul(W,Ze)|0,O=O+Math.imul(W,et)|0,x=x+Math.imul($,tt)|0,m=m+Math.imul($,rt)|0,m=m+Math.imul(b,tt)|0,O=O+Math.imul(b,rt)|0;var bn=(M+x|0)+((m&8191)<<13)|0;M=(O+(m>>>13)|0)+(bn>>>26)|0,bn&=67108863,x=Math.imul(oe,Je),m=Math.imul(oe,Xe),m=m+Math.imul(J,Je)|0,O=Math.imul(J,Xe),x=x+Math.imul(te,Ze)|0,m=m+Math.imul(te,et)|0,m=m+Math.imul(ee,Ze)|0,O=O+Math.imul(ee,et)|0,x=x+Math.imul(z,tt)|0,m=m+Math.imul(z,rt)|0,m=m+Math.imul(W,tt)|0,O=O+Math.imul(W,rt)|0,x=x+Math.imul($,nt)|0,m=m+Math.imul($,it)|0,m=m+Math.imul(b,nt)|0,O=O+Math.imul(b,it)|0;var Sn=(M+x|0)+((m&8191)<<13)|0;M=(O+(m>>>13)|0)+(Sn>>>26)|0,Sn&=67108863,x=Math.imul(vt,Je),m=Math.imul(vt,Xe),m=m+Math.imul(At,Je)|0,O=Math.imul(At,Xe),x=x+Math.imul(oe,Ze)|0,m=m+Math.imul(oe,et)|0,m=m+Math.imul(J,Ze)|0,O=O+Math.imul(J,et)|0,x=x+Math.imul(te,tt)|0,m=m+Math.imul(te,rt)|0,m=m+Math.imul(ee,tt)|0,O=O+Math.imul(ee,rt)|0,x=x+Math.imul(z,nt)|0,m=m+Math.imul(z,it)|0,m=m+Math.imul(W,nt)|0,O=O+Math.imul(W,it)|0,x=x+Math.imul($,st)|0,m=m+Math.imul($,ot)|0,m=m+Math.imul(b,st)|0,O=O+Math.imul(b,ot)|0;var In=(M+x|0)+((m&8191)<<13)|0;M=(O+(m>>>13)|0)+(In>>>26)|0,In&=67108863,x=Math.imul(Et,Je),m=Math.imul(Et,Xe),m=m+Math.imul(bt,Je)|0,O=Math.imul(bt,Xe),x=x+Math.imul(vt,Ze)|0,m=m+Math.imul(vt,et)|0,m=m+Math.imul(At,Ze)|0,O=O+Math.imul(At,et)|0,x=x+Math.imul(oe,tt)|0,m=m+Math.imul(oe,rt)|0,m=m+Math.imul(J,tt)|0,O=O+Math.imul(J,rt)|0,x=x+Math.imul(te,nt)|0,m=m+Math.imul(te,it)|0,m=m+Math.imul(ee,nt)|0,O=O+Math.imul(ee,it)|0,x=x+Math.imul(z,st)|0,m=m+Math.imul(z,ot)|0,m=m+Math.imul(W,st)|0,O=O+Math.imul(W,ot)|0,x=x+Math.imul($,at)|0,m=m+Math.imul($,ut)|0,m=m+Math.imul(b,at)|0,O=O+Math.imul(b,ut)|0;var _n=(M+x|0)+((m&8191)<<13)|0;M=(O+(m>>>13)|0)+(_n>>>26)|0,_n&=67108863,x=Math.imul(St,Je),m=Math.imul(St,Xe),m=m+Math.imul(It,Je)|0,O=Math.imul(It,Xe),x=x+Math.imul(Et,Ze)|0,m=m+Math.imul(Et,et)|0,m=m+Math.imul(bt,Ze)|0,O=O+Math.imul(bt,et)|0,x=x+Math.imul(vt,tt)|0,m=m+Math.imul(vt,rt)|0,m=m+Math.imul(At,tt)|0,O=O+Math.imul(At,rt)|0,x=x+Math.imul(oe,nt)|0,m=m+Math.imul(oe,it)|0,m=m+Math.imul(J,nt)|0,O=O+Math.imul(J,it)|0,x=x+Math.imul(te,st)|0,m=m+Math.imul(te,ot)|0,m=m+Math.imul(ee,st)|0,O=O+Math.imul(ee,ot)|0,x=x+Math.imul(z,at)|0,m=m+Math.imul(z,ut)|0,m=m+Math.imul(W,at)|0,O=O+Math.imul(W,ut)|0,x=x+Math.imul($,ct)|0,m=m+Math.imul($,lt)|0,m=m+Math.imul(b,ct)|0,O=O+Math.imul(b,lt)|0;var la=(M+x|0)+((m&8191)<<13)|0;M=(O+(m>>>13)|0)+(la>>>26)|0,la&=67108863,x=Math.imul(_t,Je),m=Math.imul(_t,Xe),m=m+Math.imul(Tt,Je)|0,O=Math.imul(Tt,Xe),x=x+Math.imul(St,Ze)|0,m=m+Math.imul(St,et)|0,m=m+Math.imul(It,Ze)|0,O=O+Math.imul(It,et)|0,x=x+Math.imul(Et,tt)|0,m=m+Math.imul(Et,rt)|0,m=m+Math.imul(bt,tt)|0,O=O+Math.imul(bt,rt)|0,x=x+Math.imul(vt,nt)|0,m=m+Math.imul(vt,it)|0,m=m+Math.imul(At,nt)|0,O=O+Math.imul(At,it)|0,x=x+Math.imul(oe,st)|0,m=m+Math.imul(oe,ot)|0,m=m+Math.imul(J,st)|0,O=O+Math.imul(J,ot)|0,x=x+Math.imul(te,at)|0,m=m+Math.imul(te,ut)|0,m=m+Math.imul(ee,at)|0,O=O+Math.imul(ee,ut)|0,x=x+Math.imul(z,ct)|0,m=m+Math.imul(z,lt)|0,m=m+Math.imul(W,ct)|0,O=O+Math.imul(W,lt)|0,x=x+Math.imul($,ft)|0,m=m+Math.imul($,ht)|0,m=m+Math.imul(b,ft)|0,O=O+Math.imul(b,ht)|0;var fa=(M+x|0)+((m&8191)<<13)|0;M=(O+(m>>>13)|0)+(fa>>>26)|0,fa&=67108863,x=Math.imul(Ke,Je),m=Math.imul(Ke,Xe),m=m+Math.imul(We,Je)|0,O=Math.imul(We,Xe),x=x+Math.imul(_t,Ze)|0,m=m+Math.imul(_t,et)|0,m=m+Math.imul(Tt,Ze)|0,O=O+Math.imul(Tt,et)|0,x=x+Math.imul(St,tt)|0,m=m+Math.imul(St,rt)|0,m=m+Math.imul(It,tt)|0,O=O+Math.imul(It,rt)|0,x=x+Math.imul(Et,nt)|0,m=m+Math.imul(Et,it)|0,m=m+Math.imul(bt,nt)|0,O=O+Math.imul(bt,it)|0,x=x+Math.imul(vt,st)|0,m=m+Math.imul(vt,ot)|0,m=m+Math.imul(At,st)|0,O=O+Math.imul(At,ot)|0,x=x+Math.imul(oe,at)|0,m=m+Math.imul(oe,ut)|0,m=m+Math.imul(J,at)|0,O=O+Math.imul(J,ut)|0,x=x+Math.imul(te,ct)|0,m=m+Math.imul(te,lt)|0,m=m+Math.imul(ee,ct)|0,O=O+Math.imul(ee,lt)|0,x=x+Math.imul(z,ft)|0,m=m+Math.imul(z,ht)|0,m=m+Math.imul(W,ft)|0,O=O+Math.imul(W,ht)|0,x=x+Math.imul($,dt)|0,m=m+Math.imul($,gt)|0,m=m+Math.imul(b,dt)|0,O=O+Math.imul(b,gt)|0;var ha=(M+x|0)+((m&8191)<<13)|0;M=(O+(m>>>13)|0)+(ha>>>26)|0,ha&=67108863,x=Math.imul($e,Je),m=Math.imul($e,Xe),m=m+Math.imul(Ye,Je)|0,O=Math.imul(Ye,Xe),x=x+Math.imul(Ke,Ze)|0,m=m+Math.imul(Ke,et)|0,m=m+Math.imul(We,Ze)|0,O=O+Math.imul(We,et)|0,x=x+Math.imul(_t,tt)|0,m=m+Math.imul(_t,rt)|0,m=m+Math.imul(Tt,tt)|0,O=O+Math.imul(Tt,rt)|0,x=x+Math.imul(St,nt)|0,m=m+Math.imul(St,it)|0,m=m+Math.imul(It,nt)|0,O=O+Math.imul(It,it)|0,x=x+Math.imul(Et,st)|0,m=m+Math.imul(Et,ot)|0,m=m+Math.imul(bt,st)|0,O=O+Math.imul(bt,ot)|0,x=x+Math.imul(vt,at)|0,m=m+Math.imul(vt,ut)|0,m=m+Math.imul(At,at)|0,O=O+Math.imul(At,ut)|0,x=x+Math.imul(oe,ct)|0,m=m+Math.imul(oe,lt)|0,m=m+Math.imul(J,ct)|0,O=O+Math.imul(J,lt)|0,x=x+Math.imul(te,ft)|0,m=m+Math.imul(te,ht)|0,m=m+Math.imul(ee,ft)|0,O=O+Math.imul(ee,ht)|0,x=x+Math.imul(z,dt)|0,m=m+Math.imul(z,gt)|0,m=m+Math.imul(W,dt)|0,O=O+Math.imul(W,gt)|0,x=x+Math.imul($,pt)|0,m=m+Math.imul($,mt)|0,m=m+Math.imul(b,pt)|0,O=O+Math.imul(b,mt)|0;var da=(M+x|0)+((m&8191)<<13)|0;M=(O+(m>>>13)|0)+(da>>>26)|0,da&=67108863,x=Math.imul($e,Ze),m=Math.imul($e,et),m=m+Math.imul(Ye,Ze)|0,O=Math.imul(Ye,et),x=x+Math.imul(Ke,tt)|0,m=m+Math.imul(Ke,rt)|0,m=m+Math.imul(We,tt)|0,O=O+Math.imul(We,rt)|0,x=x+Math.imul(_t,nt)|0,m=m+Math.imul(_t,it)|0,m=m+Math.imul(Tt,nt)|0,O=O+Math.imul(Tt,it)|0,x=x+Math.imul(St,st)|0,m=m+Math.imul(St,ot)|0,m=m+Math.imul(It,st)|0,O=O+Math.imul(It,ot)|0,x=x+Math.imul(Et,at)|0,m=m+Math.imul(Et,ut)|0,m=m+Math.imul(bt,at)|0,O=O+Math.imul(bt,ut)|0,x=x+Math.imul(vt,ct)|0,m=m+Math.imul(vt,lt)|0,m=m+Math.imul(At,ct)|0,O=O+Math.imul(At,lt)|0,x=x+Math.imul(oe,ft)|0,m=m+Math.imul(oe,ht)|0,m=m+Math.imul(J,ft)|0,O=O+Math.imul(J,ht)|0,x=x+Math.imul(te,dt)|0,m=m+Math.imul(te,gt)|0,m=m+Math.imul(ee,dt)|0,O=O+Math.imul(ee,gt)|0,x=x+Math.imul(z,pt)|0,m=m+Math.imul(z,mt)|0,m=m+Math.imul(W,pt)|0,O=O+Math.imul(W,mt)|0;var ga=(M+x|0)+((m&8191)<<13)|0;M=(O+(m>>>13)|0)+(ga>>>26)|0,ga&=67108863,x=Math.imul($e,tt),m=Math.imul($e,rt),m=m+Math.imul(Ye,tt)|0,O=Math.imul(Ye,rt),x=x+Math.imul(Ke,nt)|0,m=m+Math.imul(Ke,it)|0,m=m+Math.imul(We,nt)|0,O=O+Math.imul(We,it)|0,x=x+Math.imul(_t,st)|0,m=m+Math.imul(_t,ot)|0,m=m+Math.imul(Tt,st)|0,O=O+Math.imul(Tt,ot)|0,x=x+Math.imul(St,at)|0,m=m+Math.imul(St,ut)|0,m=m+Math.imul(It,at)|0,O=O+Math.imul(It,ut)|0,x=x+Math.imul(Et,ct)|0,m=m+Math.imul(Et,lt)|0,m=m+Math.imul(bt,ct)|0,O=O+Math.imul(bt,lt)|0,x=x+Math.imul(vt,ft)|0,m=m+Math.imul(vt,ht)|0,m=m+Math.imul(At,ft)|0,O=O+Math.imul(At,ht)|0,x=x+Math.imul(oe,dt)|0,m=m+Math.imul(oe,gt)|0,m=m+Math.imul(J,dt)|0,O=O+Math.imul(J,gt)|0,x=x+Math.imul(te,pt)|0,m=m+Math.imul(te,mt)|0,m=m+Math.imul(ee,pt)|0,O=O+Math.imul(ee,mt)|0;var pa=(M+x|0)+((m&8191)<<13)|0;M=(O+(m>>>13)|0)+(pa>>>26)|0,pa&=67108863,x=Math.imul($e,nt),m=Math.imul($e,it),m=m+Math.imul(Ye,nt)|0,O=Math.imul(Ye,it),x=x+Math.imul(Ke,st)|0,m=m+Math.imul(Ke,ot)|0,m=m+Math.imul(We,st)|0,O=O+Math.imul(We,ot)|0,x=x+Math.imul(_t,at)|0,m=m+Math.imul(_t,ut)|0,m=m+Math.imul(Tt,at)|0,O=O+Math.imul(Tt,ut)|0,x=x+Math.imul(St,ct)|0,m=m+Math.imul(St,lt)|0,m=m+Math.imul(It,ct)|0,O=O+Math.imul(It,lt)|0,x=x+Math.imul(Et,ft)|0,m=m+Math.imul(Et,ht)|0,m=m+Math.imul(bt,ft)|0,O=O+Math.imul(bt,ht)|0,x=x+Math.imul(vt,dt)|0,m=m+Math.imul(vt,gt)|0,m=m+Math.imul(At,dt)|0,O=O+Math.imul(At,gt)|0,x=x+Math.imul(oe,pt)|0,m=m+Math.imul(oe,mt)|0,m=m+Math.imul(J,pt)|0,O=O+Math.imul(J,mt)|0;var ma=(M+x|0)+((m&8191)<<13)|0;M=(O+(m>>>13)|0)+(ma>>>26)|0,ma&=67108863,x=Math.imul($e,st),m=Math.imul($e,ot),m=m+Math.imul(Ye,st)|0,O=Math.imul(Ye,ot),x=x+Math.imul(Ke,at)|0,m=m+Math.imul(Ke,ut)|0,m=m+Math.imul(We,at)|0,O=O+Math.imul(We,ut)|0,x=x+Math.imul(_t,ct)|0,m=m+Math.imul(_t,lt)|0,m=m+Math.imul(Tt,ct)|0,O=O+Math.imul(Tt,lt)|0,x=x+Math.imul(St,ft)|0,m=m+Math.imul(St,ht)|0,m=m+Math.imul(It,ft)|0,O=O+Math.imul(It,ht)|0,x=x+Math.imul(Et,dt)|0,m=m+Math.imul(Et,gt)|0,m=m+Math.imul(bt,dt)|0,O=O+Math.imul(bt,gt)|0,x=x+Math.imul(vt,pt)|0,m=m+Math.imul(vt,mt)|0,m=m+Math.imul(At,pt)|0,O=O+Math.imul(At,mt)|0;var ya=(M+x|0)+((m&8191)<<13)|0;M=(O+(m>>>13)|0)+(ya>>>26)|0,ya&=67108863,x=Math.imul($e,at),m=Math.imul($e,ut),m=m+Math.imul(Ye,at)|0,O=Math.imul(Ye,ut),x=x+Math.imul(Ke,ct)|0,m=m+Math.imul(Ke,lt)|0,m=m+Math.imul(We,ct)|0,O=O+Math.imul(We,lt)|0,x=x+Math.imul(_t,ft)|0,m=m+Math.imul(_t,ht)|0,m=m+Math.imul(Tt,ft)|0,O=O+Math.imul(Tt,ht)|0,x=x+Math.imul(St,dt)|0,m=m+Math.imul(St,gt)|0,m=m+Math.imul(It,dt)|0,O=O+Math.imul(It,gt)|0,x=x+Math.imul(Et,pt)|0,m=m+Math.imul(Et,mt)|0,m=m+Math.imul(bt,pt)|0,O=O+Math.imul(bt,mt)|0;var wa=(M+x|0)+((m&8191)<<13)|0;M=(O+(m>>>13)|0)+(wa>>>26)|0,wa&=67108863,x=Math.imul($e,ct),m=Math.imul($e,lt),m=m+Math.imul(Ye,ct)|0,O=Math.imul(Ye,lt),x=x+Math.imul(Ke,ft)|0,m=m+Math.imul(Ke,ht)|0,m=m+Math.imul(We,ft)|0,O=O+Math.imul(We,ht)|0,x=x+Math.imul(_t,dt)|0,m=m+Math.imul(_t,gt)|0,m=m+Math.imul(Tt,dt)|0,O=O+Math.imul(Tt,gt)|0,x=x+Math.imul(St,pt)|0,m=m+Math.imul(St,mt)|0,m=m+Math.imul(It,pt)|0,O=O+Math.imul(It,mt)|0;var ww=(M+x|0)+((m&8191)<<13)|0;M=(O+(m>>>13)|0)+(ww>>>26)|0,ww&=67108863,x=Math.imul($e,ft),m=Math.imul($e,ht),m=m+Math.imul(Ye,ft)|0,O=Math.imul(Ye,ht),x=x+Math.imul(Ke,dt)|0,m=m+Math.imul(Ke,gt)|0,m=m+Math.imul(We,dt)|0,O=O+Math.imul(We,gt)|0,x=x+Math.imul(_t,pt)|0,m=m+Math.imul(_t,mt)|0,m=m+Math.imul(Tt,pt)|0,O=O+Math.imul(Tt,mt)|0;var vw=(M+x|0)+((m&8191)<<13)|0;M=(O+(m>>>13)|0)+(vw>>>26)|0,vw&=67108863,x=Math.imul($e,dt),m=Math.imul($e,gt),m=m+Math.imul(Ye,dt)|0,O=Math.imul(Ye,gt),x=x+Math.imul(Ke,pt)|0,m=m+Math.imul(Ke,mt)|0,m=m+Math.imul(We,pt)|0,O=O+Math.imul(We,mt)|0;var Aw=(M+x|0)+((m&8191)<<13)|0;M=(O+(m>>>13)|0)+(Aw>>>26)|0,Aw&=67108863,x=Math.imul($e,pt),m=Math.imul($e,mt),m=m+Math.imul(Ye,pt)|0,O=Math.imul(Ye,mt);var Ew=(M+x|0)+((m&8191)<<13)|0;return M=(O+(m>>>13)|0)+(Ew>>>26)|0,Ew&=67108863,T[0]=An,T[1]=En,T[2]=bn,T[3]=Sn,T[4]=In,T[5]=_n,T[6]=la,T[7]=fa,T[8]=ha,T[9]=da,T[10]=ga,T[11]=pa,T[12]=ma,T[13]=ya,T[14]=wa,T[15]=ww,T[16]=vw,T[17]=Aw,T[18]=Ew,M!==0&&(T[19]=M,y.length++),y};Math.imul||(U=V);function Q(l,g,y){y.negative=g.negative^l.negative,y.length=l.length+g.length;for(var E=0,I=0,T=0;T<y.length-1;T++){var M=I;I=0;for(var x=E&67108863,m=Math.min(T,g.length-1),O=Math.max(0,T-l.length+1);O<=m;O++){var Y=T-O,$=l.words[Y]|0,b=g.words[O]|0,j=$*b,z=j&67108863;M=M+(j/67108864|0)|0,z=z+x|0,x=z&67108863,M=M+(z>>>26)|0,I+=M>>>26,M&=67108863}y.words[T]=x,E=M,M=I}return E!==0?y.words[T]=E:y.length--,y._strip()}function L(l,g,y){return Q(l,g,y)}s.prototype.mulTo=function(l,g){var y,E=this.length+l.length;return this.length===10&&l.length===10?y=U(this,l,g):E<63?y=V(this,l,g):E<1024?y=Q(this,l,g):y=L(this,l,g),y},s.prototype.mul=function(l){var g=new s(null);return g.words=new Array(this.length+l.length),this.mulTo(l,g)},s.prototype.mulf=function(l){var g=new s(null);return g.words=new Array(this.length+l.length),L(this,l,g)},s.prototype.imul=function(l){return this.clone().mulTo(l,this)},s.prototype.imuln=function(l){var g=l<0;g&&(l=-l),n(typeof l=="number"),n(l<67108864);for(var y=0,E=0;E<this.length;E++){var I=(this.words[E]|0)*l,T=(I&67108863)+(y&67108863);y>>=26,y+=I/67108864|0,y+=T>>>26,this.words[E]=T&67108863}return y!==0&&(this.words[E]=y,this.length++),g?this.ineg():this},s.prototype.muln=function(l){return this.clone().imuln(l)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(l){var g=P(l);if(g.length===0)return new s(1);for(var y=this,E=0;E<g.length&&g[E]===0;E++,y=y.sqr());if(++E<g.length)for(var I=y.sqr();E<g.length;E++,I=I.sqr())g[E]!==0&&(y=y.mul(I));return y},s.prototype.iushln=function(l){n(typeof l=="number"&&l>=0);var g=l%26,y=(l-g)/26,E=67108863>>>26-g<<26-g,I;if(g!==0){var T=0;for(I=0;I<this.length;I++){var M=this.words[I]&E,x=(this.words[I]|0)-M<<g;this.words[I]=x|T,T=M>>>26-g}T&&(this.words[I]=T,this.length++)}if(y!==0){for(I=this.length-1;I>=0;I--)this.words[I+y]=this.words[I];for(I=0;I<y;I++)this.words[I]=0;this.length+=y}return this._strip()},s.prototype.ishln=function(l){return n(this.negative===0),this.iushln(l)},s.prototype.iushrn=function(l,g,y){n(typeof l=="number"&&l>=0);var E;g?E=(g-g%26)/26:E=0;var I=l%26,T=Math.min((l-I)/26,this.length),M=67108863^67108863>>>I<<I,x=y;if(E-=T,E=Math.max(0,E),x){for(var m=0;m<T;m++)x.words[m]=this.words[m];x.length=T}if(T!==0)if(this.length>T)for(this.length-=T,m=0;m<this.length;m++)this.words[m]=this.words[m+T];else this.words[0]=0,this.length=1;var O=0;for(m=this.length-1;m>=0&&(O!==0||m>=E);m--){var Y=this.words[m]|0;this.words[m]=O<<26-I|Y>>>I,O=Y&M}return x&&O!==0&&(x.words[x.length++]=O),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(l,g,y){return n(this.negative===0),this.iushrn(l,g,y)},s.prototype.shln=function(l){return this.clone().ishln(l)},s.prototype.ushln=function(l){return this.clone().iushln(l)},s.prototype.shrn=function(l){return this.clone().ishrn(l)},s.prototype.ushrn=function(l){return this.clone().iushrn(l)},s.prototype.testn=function(l){n(typeof l=="number"&&l>=0);var g=l%26,y=(l-g)/26,E=1<<g;if(this.length<=y)return!1;var I=this.words[y];return!!(I&E)},s.prototype.imaskn=function(l){n(typeof l=="number"&&l>=0);var g=l%26,y=(l-g)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=y)return this;if(g!==0&&y++,this.length=Math.min(y,this.length),g!==0){var E=67108863^67108863>>>g<<g;this.words[this.length-1]&=E}return this._strip()},s.prototype.maskn=function(l){return this.clone().imaskn(l)},s.prototype.iaddn=function(l){return n(typeof l=="number"),n(l<67108864),l<0?this.isubn(-l):this.negative!==0?this.length===1&&(this.words[0]|0)<=l?(this.words[0]=l-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(l),this.negative=1,this):this._iaddn(l)},s.prototype._iaddn=function(l){this.words[0]+=l;for(var g=0;g<this.length&&this.words[g]>=67108864;g++)this.words[g]-=67108864,g===this.length-1?this.words[g+1]=1:this.words[g+1]++;return this.length=Math.max(this.length,g+1),this},s.prototype.isubn=function(l){if(n(typeof l=="number"),n(l<67108864),l<0)return this.iaddn(-l);if(this.negative!==0)return this.negative=0,this.iaddn(l),this.negative=1,this;if(this.words[0]-=l,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var g=0;g<this.length&&this.words[g]<0;g++)this.words[g]+=67108864,this.words[g+1]-=1;return this._strip()},s.prototype.addn=function(l){return this.clone().iaddn(l)},s.prototype.subn=function(l){return this.clone().isubn(l)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(l,g,y){var E=l.length+y,I;this._expand(E);var T,M=0;for(I=0;I<l.length;I++){T=(this.words[I+y]|0)+M;var x=(l.words[I]|0)*g;T-=x&67108863,M=(T>>26)-(x/67108864|0),this.words[I+y]=T&67108863}for(;I<this.length-y;I++)T=(this.words[I+y]|0)+M,M=T>>26,this.words[I+y]=T&67108863;if(M===0)return this._strip();for(n(M===-1),M=0,I=0;I<this.length;I++)T=-(this.words[I]|0)+M,M=T>>26,this.words[I]=T&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(l,g){var y=this.length-l.length,E=this.clone(),I=l,T=I.words[I.length-1]|0,M=this._countBits(T);y=26-M,y!==0&&(I=I.ushln(y),E.iushln(y),T=I.words[I.length-1]|0);var x=E.length-I.length,m;if(g!=="mod"){m=new s(null),m.length=x+1,m.words=new Array(m.length);for(var O=0;O<m.length;O++)m.words[O]=0}var Y=E.clone()._ishlnsubmul(I,1,x);Y.negative===0&&(E=Y,m&&(m.words[x]=1));for(var $=x-1;$>=0;$--){var b=(E.words[I.length+$]|0)*67108864+(E.words[I.length+$-1]|0);for(b=Math.min(b/T|0,67108863),E._ishlnsubmul(I,b,$);E.negative!==0;)b--,E.negative=0,E._ishlnsubmul(I,1,$),E.isZero()||(E.negative^=1);m&&(m.words[$]=b)}return m&&m._strip(),E._strip(),g!=="div"&&y!==0&&E.iushrn(y),{div:m||null,mod:E}},s.prototype.divmod=function(l,g,y){if(n(!l.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var E,I,T;return this.negative!==0&&l.negative===0?(T=this.neg().divmod(l,g),g!=="mod"&&(E=T.div.neg()),g!=="div"&&(I=T.mod.neg(),y&&I.negative!==0&&I.iadd(l)),{div:E,mod:I}):this.negative===0&&l.negative!==0?(T=this.divmod(l.neg(),g),g!=="mod"&&(E=T.div.neg()),{div:E,mod:T.mod}):this.negative&l.negative?(T=this.neg().divmod(l.neg(),g),g!=="div"&&(I=T.mod.neg(),y&&I.negative!==0&&I.isub(l)),{div:T.div,mod:I}):l.length>this.length||this.cmp(l)<0?{div:new s(0),mod:this}:l.length===1?g==="div"?{div:this.divn(l.words[0]),mod:null}:g==="mod"?{div:null,mod:new s(this.modrn(l.words[0]))}:{div:this.divn(l.words[0]),mod:new s(this.modrn(l.words[0]))}:this._wordDiv(l,g)},s.prototype.div=function(l){return this.divmod(l,"div",!1).div},s.prototype.mod=function(l){return this.divmod(l,"mod",!1).mod},s.prototype.umod=function(l){return this.divmod(l,"mod",!0).mod},s.prototype.divRound=function(l){var g=this.divmod(l);if(g.mod.isZero())return g.div;var y=g.div.negative!==0?g.mod.isub(l):g.mod,E=l.ushrn(1),I=l.andln(1),T=y.cmp(E);return T<0||I===1&&T===0?g.div:g.div.negative!==0?g.div.isubn(1):g.div.iaddn(1)},s.prototype.modrn=function(l){var g=l<0;g&&(l=-l),n(l<=67108863);for(var y=(1<<26)%l,E=0,I=this.length-1;I>=0;I--)E=(y*E+(this.words[I]|0))%l;return g?-E:E},s.prototype.modn=function(l){return this.modrn(l)},s.prototype.idivn=function(l){var g=l<0;g&&(l=-l),n(l<=67108863);for(var y=0,E=this.length-1;E>=0;E--){var I=(this.words[E]|0)+y*67108864;this.words[E]=I/l|0,y=I%l}return this._strip(),g?this.ineg():this},s.prototype.divn=function(l){return this.clone().idivn(l)},s.prototype.egcd=function(l){n(l.negative===0),n(!l.isZero());var g=this,y=l.clone();g.negative!==0?g=g.umod(l):g=g.clone();for(var E=new s(1),I=new s(0),T=new s(0),M=new s(1),x=0;g.isEven()&&y.isEven();)g.iushrn(1),y.iushrn(1),++x;for(var m=y.clone(),O=g.clone();!g.isZero();){for(var Y=0,$=1;!(g.words[0]&$)&&Y<26;++Y,$<<=1);if(Y>0)for(g.iushrn(Y);Y-- >0;)(E.isOdd()||I.isOdd())&&(E.iadd(m),I.isub(O)),E.iushrn(1),I.iushrn(1);for(var b=0,j=1;!(y.words[0]&j)&&b<26;++b,j<<=1);if(b>0)for(y.iushrn(b);b-- >0;)(T.isOdd()||M.isOdd())&&(T.iadd(m),M.isub(O)),T.iushrn(1),M.iushrn(1);g.cmp(y)>=0?(g.isub(y),E.isub(T),I.isub(M)):(y.isub(g),T.isub(E),M.isub(I))}return{a:T,b:M,gcd:y.iushln(x)}},s.prototype._invmp=function(l){n(l.negative===0),n(!l.isZero());var g=this,y=l.clone();g.negative!==0?g=g.umod(l):g=g.clone();for(var E=new s(1),I=new s(0),T=y.clone();g.cmpn(1)>0&&y.cmpn(1)>0;){for(var M=0,x=1;!(g.words[0]&x)&&M<26;++M,x<<=1);if(M>0)for(g.iushrn(M);M-- >0;)E.isOdd()&&E.iadd(T),E.iushrn(1);for(var m=0,O=1;!(y.words[0]&O)&&m<26;++m,O<<=1);if(m>0)for(y.iushrn(m);m-- >0;)I.isOdd()&&I.iadd(T),I.iushrn(1);g.cmp(y)>=0?(g.isub(y),E.isub(I)):(y.isub(g),I.isub(E))}var Y;return g.cmpn(1)===0?Y=E:Y=I,Y.cmpn(0)<0&&Y.iadd(l),Y},s.prototype.gcd=function(l){if(this.isZero())return l.abs();if(l.isZero())return this.abs();var g=this.clone(),y=l.clone();g.negative=0,y.negative=0;for(var E=0;g.isEven()&&y.isEven();E++)g.iushrn(1),y.iushrn(1);do{for(;g.isEven();)g.iushrn(1);for(;y.isEven();)y.iushrn(1);var I=g.cmp(y);if(I<0){var T=g;g=y,y=T}else if(I===0||y.cmpn(1)===0)break;g.isub(y)}while(!0);return y.iushln(E)},s.prototype.invm=function(l){return this.egcd(l).a.umod(l)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(l){return this.words[0]&l},s.prototype.bincn=function(l){n(typeof l=="number");var g=l%26,y=(l-g)/26,E=1<<g;if(this.length<=y)return this._expand(y+1),this.words[y]|=E,this;for(var I=E,T=y;I!==0&&T<this.length;T++){var M=this.words[T]|0;M+=I,I=M>>>26,M&=67108863,this.words[T]=M}return I!==0&&(this.words[T]=I,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(l){var g=l<0;if(this.negative!==0&&!g)return-1;if(this.negative===0&&g)return 1;this._strip();var y;if(this.length>1)y=1;else{g&&(l=-l),n(l<=67108863,"Number is too big");var E=this.words[0]|0;y=E===l?0:E<l?-1:1}return this.negative!==0?-y|0:y},s.prototype.cmp=function(l){if(this.negative!==0&&l.negative===0)return-1;if(this.negative===0&&l.negative!==0)return 1;var g=this.ucmp(l);return this.negative!==0?-g|0:g},s.prototype.ucmp=function(l){if(this.length>l.length)return 1;if(this.length<l.length)return-1;for(var g=0,y=this.length-1;y>=0;y--){var E=this.words[y]|0,I=l.words[y]|0;if(E!==I){E<I?g=-1:E>I&&(g=1);break}}return g},s.prototype.gtn=function(l){return this.cmpn(l)===1},s.prototype.gt=function(l){return this.cmp(l)===1},s.prototype.gten=function(l){return this.cmpn(l)>=0},s.prototype.gte=function(l){return this.cmp(l)>=0},s.prototype.ltn=function(l){return this.cmpn(l)===-1},s.prototype.lt=function(l){return this.cmp(l)===-1},s.prototype.lten=function(l){return this.cmpn(l)<=0},s.prototype.lte=function(l){return this.cmp(l)<=0},s.prototype.eqn=function(l){return this.cmpn(l)===0},s.prototype.eq=function(l){return this.cmp(l)===0},s.red=function(l){return new F(l)},s.prototype.toRed=function(l){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),l.convertTo(this)._forceRed(l)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(l){return this.red=l,this},s.prototype.forceRed=function(l){return n(!this.red,"Already a number in reduction context"),this._forceRed(l)},s.prototype.redAdd=function(l){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,l)},s.prototype.redIAdd=function(l){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,l)},s.prototype.redSub=function(l){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,l)},s.prototype.redISub=function(l){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,l)},s.prototype.redShl=function(l){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,l)},s.prototype.redMul=function(l){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.mul(this,l)},s.prototype.redIMul=function(l){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.imul(this,l)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(l){return n(this.red&&!l.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,l)};var k={k256:null,p224:null,p192:null,p25519:null};function H(l,g){this.name=l,this.p=new s(g,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}H.prototype._tmp=function(){var l=new s(null);return l.words=new Array(Math.ceil(this.n/13)),l},H.prototype.ireduce=function(l){var g=l,y;do this.split(g,this.tmp),g=this.imulK(g),g=g.iadd(this.tmp),y=g.bitLength();while(y>this.n);var E=y<this.n?-1:g.ucmp(this.p);return E===0?(g.words[0]=0,g.length=1):E>0?g.isub(this.p):g.strip!==void 0?g.strip():g._strip(),g},H.prototype.split=function(l,g){l.iushrn(this.n,0,g)},H.prototype.imulK=function(l){return l.imul(this.k)};function q(){H.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(q,H),q.prototype.split=function(l,g){for(var y=4194303,E=Math.min(l.length,9),I=0;I<E;I++)g.words[I]=l.words[I];if(g.length=E,l.length<=9){l.words[0]=0,l.length=1;return}var T=l.words[9];for(g.words[g.length++]=T&y,I=10;I<l.length;I++){var M=l.words[I]|0;l.words[I-10]=(M&y)<<4|T>>>22,T=M}T>>>=22,l.words[I-10]=T,T===0&&l.length>10?l.length-=10:l.length-=9},q.prototype.imulK=function(l){l.words[l.length]=0,l.words[l.length+1]=0,l.length+=2;for(var g=0,y=0;y<l.length;y++){var E=l.words[y]|0;g+=E*977,l.words[y]=g&67108863,g=E*64+(g/67108864|0)}return l.words[l.length-1]===0&&(l.length--,l.words[l.length-1]===0&&l.length--),l};function v(){H.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(v,H);function C(){H.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(C,H);function R(){H.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(R,H),R.prototype.imulK=function(l){for(var g=0,y=0;y<l.length;y++){var E=(l.words[y]|0)*19+g,I=E&67108863;E>>>=26,l.words[y]=I,g=E}return g!==0&&(l.words[l.length++]=g),l},s._prime=function(l){if(k[l])return k[l];var g;if(l==="k256")g=new q;else if(l==="p224")g=new v;else if(l==="p192")g=new C;else if(l==="p25519")g=new R;else throw new Error("Unknown prime "+l);return k[l]=g,g};function F(l){if(typeof l=="string"){var g=s._prime(l);this.m=g.p,this.prime=g}else n(l.gtn(1),"modulus must be greater than 1"),this.m=l,this.prime=null}F.prototype._verify1=function(l){n(l.negative===0,"red works only with positives"),n(l.red,"red works only with red numbers")},F.prototype._verify2=function(l,g){n((l.negative|g.negative)===0,"red works only with positives"),n(l.red&&l.red===g.red,"red works only with red numbers")},F.prototype.imod=function(l){return this.prime?this.prime.ireduce(l)._forceRed(this):(f(l,l.umod(this.m)._forceRed(this)),l)},F.prototype.neg=function(l){return l.isZero()?l.clone():this.m.sub(l)._forceRed(this)},F.prototype.add=function(l,g){this._verify2(l,g);var y=l.add(g);return y.cmp(this.m)>=0&&y.isub(this.m),y._forceRed(this)},F.prototype.iadd=function(l,g){this._verify2(l,g);var y=l.iadd(g);return y.cmp(this.m)>=0&&y.isub(this.m),y},F.prototype.sub=function(l,g){this._verify2(l,g);var y=l.sub(g);return y.cmpn(0)<0&&y.iadd(this.m),y._forceRed(this)},F.prototype.isub=function(l,g){this._verify2(l,g);var y=l.isub(g);return y.cmpn(0)<0&&y.iadd(this.m),y},F.prototype.shl=function(l,g){return this._verify1(l),this.imod(l.ushln(g))},F.prototype.imul=function(l,g){return this._verify2(l,g),this.imod(l.imul(g))},F.prototype.mul=function(l,g){return this._verify2(l,g),this.imod(l.mul(g))},F.prototype.isqr=function(l){return this.imul(l,l.clone())},F.prototype.sqr=function(l){return this.mul(l,l)},F.prototype.sqrt=function(l){if(l.isZero())return l.clone();var g=this.m.andln(3);if(n(g%2===1),g===3){var y=this.m.add(new s(1)).iushrn(2);return this.pow(l,y)}for(var E=this.m.subn(1),I=0;!E.isZero()&&E.andln(1)===0;)I++,E.iushrn(1);n(!E.isZero());var T=new s(1).toRed(this),M=T.redNeg(),x=this.m.subn(1).iushrn(1),m=this.m.bitLength();for(m=new s(2*m*m).toRed(this);this.pow(m,x).cmp(M)!==0;)m.redIAdd(M);for(var O=this.pow(m,E),Y=this.pow(l,E.addn(1).iushrn(1)),$=this.pow(l,E),b=I;$.cmp(T)!==0;){for(var j=$,z=0;j.cmp(T)!==0;z++)j=j.redSqr();n(z<b);var W=this.pow(O,new s(1).iushln(b-z-1));Y=Y.redMul(W),O=W.redSqr(),$=$.redMul(O),b=z}return Y},F.prototype.invm=function(l){var g=l._invmp(this.m);return g.negative!==0?(g.negative=0,this.imod(g).redNeg()):this.imod(g)},F.prototype.pow=function(l,g){if(g.isZero())return new s(1).toRed(this);if(g.cmpn(1)===0)return l.clone();var y=4,E=new Array(1<<y);E[0]=new s(1).toRed(this),E[1]=l;for(var I=2;I<E.length;I++)E[I]=this.mul(E[I-1],l);var T=E[0],M=0,x=0,m=g.bitLength()%26;for(m===0&&(m=26),I=g.length-1;I>=0;I--){for(var O=g.words[I],Y=m-1;Y>=0;Y--){var $=O>>Y&1;if(T!==E[0]&&(T=this.sqr(T)),$===0&&M===0){x=0;continue}M<<=1,M|=$,x++,!(x!==y&&(I!==0||Y!==0))&&(T=this.mul(T,E[M]),x=0,M=0)}m=26}return T},F.prototype.convertTo=function(l){var g=l.umod(this.m);return g===l?g.clone():g},F.prototype.convertFrom=function(l){var g=l.clone();return g.red=null,g},s.mont=function(l){return new B(l)};function B(l){F.call(this,l),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(B,F),B.prototype.convertTo=function(l){return this.imod(l.ushln(this.shift))},B.prototype.convertFrom=function(l){var g=this.imod(l.mul(this.rinv));return g.red=null,g},B.prototype.imul=function(l,g){if(l.isZero()||g.isZero())return l.words[0]=0,l.length=1,l;var y=l.imul(g),E=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),I=y.isub(E).iushrn(this.shift),T=I;return I.cmp(this.m)>=0?T=I.isub(this.m):I.cmpn(0)<0&&(T=I.iadd(this.m)),T._forceRed(this)},B.prototype.mul=function(l,g){if(l.isZero()||g.isZero())return new s(0)._forceRed(this);var y=l.mul(g),E=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),I=y.isub(E).iushrn(this.shift),T=I;return I.cmp(this.m)>=0?T=I.isub(this.m):I.cmpn(0)<0&&(T=I.iadd(this.m)),T._forceRed(this)},B.prototype.invm=function(l){var g=this.imod(l._invmp(this.m).mul(this.r2));return g._forceRed(this)}})(t,y4)})(E4);var Se=E4.exports,b4="bignumber/5.7.0",Jm=Se.BN,Qs=new kt(b4),g_={},NM=9007199254740991;function Jte(t){return t!=null&&(Nr.isBigNumber(t)||typeof t=="number"&&t%1===0||typeof t=="string"&&!!t.match(/^-?[0-9]+$/)||pn(t)||typeof t=="bigint"||cl(t))}var xM=!1,Nr=class t{constructor(e,r){e!==g_&&Qs.throwError("cannot call constructor directly; use BigNumber.from",kt.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return on(De(this).fromTwos(e))}toTwos(e){return on(De(this).toTwos(e))}abs(){return this._hex[0]==="-"?t.from(this._hex.substring(1)):this}add(e){return on(De(this).add(De(e)))}sub(e){return on(De(this).sub(De(e)))}div(e){return t.from(e).isZero()&&$n("division-by-zero","div"),on(De(this).div(De(e)))}mul(e){return on(De(this).mul(De(e)))}mod(e){let r=De(e);return r.isNeg()&&$n("division-by-zero","mod"),on(De(this).umod(r))}pow(e){let r=De(e);return r.isNeg()&&$n("negative-power","pow"),on(De(this).pow(r))}and(e){let r=De(e);return(this.isNegative()||r.isNeg())&&$n("unbound-bitwise-result","and"),on(De(this).and(r))}or(e){let r=De(e);return(this.isNegative()||r.isNeg())&&$n("unbound-bitwise-result","or"),on(De(this).or(r))}xor(e){let r=De(e);return(this.isNegative()||r.isNeg())&&$n("unbound-bitwise-result","xor"),on(De(this).xor(r))}mask(e){return(this.isNegative()||e<0)&&$n("negative-width","mask"),on(De(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&$n("negative-width","shl"),on(De(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&$n("negative-width","shr"),on(De(this).shrn(e))}eq(e){return De(this).eq(De(e))}lt(e){return De(this).lt(De(e))}lte(e){return De(this).lte(De(e))}gt(e){return De(this).gt(De(e))}gte(e){return De(this).gte(De(e))}isNegative(){return this._hex[0]==="-"}isZero(){return De(this).isZero()}toNumber(){try{return De(this).toNumber()}catch{$n("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return Qs.throwError("this platform does not support BigInt",kt.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?xM||(xM=!0,Qs.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?Qs.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",kt.errors.UNEXPECTED_ARGUMENT,{}):Qs.throwError("BigNumber.toString does not accept parameters",kt.errors.UNEXPECTED_ARGUMENT,{})),De(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof t)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new t(g_,Uh(e)):e.match(/^-?[0-9]+$/)?new t(g_,Uh(new Jm(e))):Qs.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&$n("underflow","BigNumber.from",e),(e>=NM||e<=-NM)&&$n("overflow","BigNumber.from",e),t.from(String(e));let r=e;if(typeof r=="bigint")return t.from(r.toString());if(cl(r))return t.from(Gr(r));if(r)if(r.toHexString){let n=r.toHexString();if(typeof n=="string")return t.from(n)}else{let n=r._hex;if(n==null&&r.type==="BigNumber"&&(n=r.hex),typeof n=="string"&&(pn(n)||n[0]==="-"&&pn(n.substring(1))))return t.from(n)}return Qs.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}};function Uh(t){if(typeof t!="string")return Uh(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&Qs.throwArgumentError("invalid hex","value",t),t=Uh(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function on(t){return Nr.from(Uh(t))}function De(t){let e=Nr.from(t).toHexString();return e[0]==="-"?new Jm("-"+e.substring(3),16):new Jm(e.substring(2),16)}function $n(t,e,r){let n={fault:t,operation:e};return r!=null&&(n.value=r),Qs.throwError(t,kt.errors.NUMERIC_FAULT,n)}function Xte(t){return new Jm(t,36).toString(16)}var jr=new kt(b4),Mh={},S4=Nr.from(0),I4=Nr.from(-1);function _4(t,e,r,n){let i={fault:e,operation:r};return n!==void 0&&(i.value=n),jr.throwError(t,kt.errors.NUMERIC_FAULT,i)}var Lh="0";for(;Lh.length<256;)Lh+=Lh;function z_(t){if(typeof t!="number")try{t=Nr.from(t).toNumber()}catch{}return typeof t=="number"&&t>=0&&t<=256&&!(t%1)?"1"+Lh.substring(0,t):jr.throwArgumentError("invalid decimal size","decimals",t)}function p_(t,e){e==null&&(e=0);let r=z_(e);t=Nr.from(t);let n=t.lt(S4);n&&(t=t.mul(I4));let i=t.mod(r).toString();for(;i.length<r.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];let s=t.div(r).toString();return r.length===1?t=s:t=s+"."+i,n&&(t="-"+t),t}function zs(t,e){e==null&&(e=0);let r=z_(e);(typeof t!="string"||!t.match(/^-?[0-9.]+$/))&&jr.throwArgumentError("invalid decimal value","value",t);let n=t.substring(0,1)==="-";n&&(t=t.substring(1)),t==="."&&jr.throwArgumentError("missing value","value",t);let i=t.split(".");i.length>2&&jr.throwArgumentError("too many decimal points","value",t);let s=i[0],o=i[1];for(s||(s="0"),o||(o="0");o[o.length-1]==="0";)o=o.substring(0,o.length-1);for(o.length>r.length-1&&_4("fractional component exceeds decimals","underflow","parseFixed"),o===""&&(o="0");o.length<r.length-1;)o+="0";let u=Nr.from(s),a=Nr.from(o),c=u.mul(r).add(a);return n&&(c=c.mul(I4)),c}var Fh=class t{constructor(e,r,n,i){e!==Mh&&jr.throwError("cannot use FixedFormat constructor; use FixedFormat.from",kt.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=r,this.width=n,this.decimals=i,this.name=(r?"":"u")+"fixed"+String(n)+"x"+String(i),this._multiplier=z_(i),Object.freeze(this)}static from(e){if(e instanceof t)return e;typeof e=="number"&&(e=`fixed128x${e}`);let r=!0,n=128,i=18;if(typeof e=="string"){if(e!=="fixed")if(e==="ufixed")r=!1;else{let s=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);s||jr.throwArgumentError("invalid fixed format","format",e),r=s[1]!=="u",n=parseInt(s[2]),i=parseInt(s[3])}}else if(e){let s=(o,u,a)=>e[o]==null?a:(typeof e[o]!==u&&jr.throwArgumentError("invalid fixed format ("+o+" not "+u+")","format."+o,e[o]),e[o]);r=s("signed","boolean",r),n=s("width","number",n),i=s("decimals","number",i)}return n%8&&jr.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",n),i>80&&jr.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",i),new t(Mh,r,n,i)}},Xm=class t{constructor(e,r,n,i){e!==Mh&&jr.throwError("cannot use FixedNumber constructor; use FixedNumber.from",kt.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=i,this._hex=r,this._value=n,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&jr.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);let r=zs(this._value,this.format.decimals),n=zs(e._value,e.format.decimals);return t.fromValue(r.add(n),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);let r=zs(this._value,this.format.decimals),n=zs(e._value,e.format.decimals);return t.fromValue(r.sub(n),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);let r=zs(this._value,this.format.decimals),n=zs(e._value,e.format.decimals);return t.fromValue(r.mul(n).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);let r=zs(this._value,this.format.decimals),n=zs(e._value,e.format.decimals);return t.fromValue(r.mul(this.format._multiplier).div(n),this.format.decimals,this.format)}floor(){let e=this.toString().split(".");e.length===1&&e.push("0");let r=t.from(e[0],this.format),n=!e[1].match(/^(0*)$/);return this.isNegative()&&n&&(r=r.subUnsafe(OM.toFormat(r.format))),r}ceiling(){let e=this.toString().split(".");e.length===1&&e.push("0");let r=t.from(e[0],this.format),n=!e[1].match(/^(0*)$/);return!this.isNegative()&&n&&(r=r.addUnsafe(OM.toFormat(r.format))),r}round(e){e==null&&(e=0);let r=this.toString().split(".");if(r.length===1&&r.push("0"),(e<0||e>80||e%1)&&jr.throwArgumentError("invalid decimal count","decimals",e),r[1].length<=e)return this;let n=t.from("1"+Lh.substring(0,e),this.format),i=Zte.toFormat(this.format);return this.mulUnsafe(n).addUnsafe(i).floor().divUnsafe(n)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(e){if(e==null)return this._hex;e%8&&jr.throwArgumentError("invalid byte width","width",e);let r=Nr.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return fs(r,e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return t.fromString(this._value,e)}static fromValue(e,r,n){return n==null&&r!=null&&!Jte(r)&&(n=r,r=null),r==null&&(r=0),n==null&&(n="fixed"),t.fromString(p_(e,r),Fh.from(n))}static fromString(e,r){r==null&&(r="fixed");let n=Fh.from(r),i=zs(e,n.decimals);!n.signed&&i.lt(S4)&&_4("unsigned value cannot be negative","overflow","value",e);let s=null;n.signed?s=i.toTwos(n.width).toHexString():(s=i.toHexString(),s=fs(s,n.width/8));let o=p_(i,n.decimals);return new t(Mh,s,o,n)}static fromBytes(e,r){r==null&&(r="fixed");let n=Fh.from(r);if(Qt(e).length>n.width/8)throw new Error("overflow");let i=Nr.from(e);n.signed&&(i=i.fromTwos(n.width));let s=i.toTwos((n.signed?0:1)+n.width).toHexString(),o=p_(i,n.decimals);return new t(Mh,s,o,n)}static from(e,r){if(typeof e=="string")return t.fromString(e,r);if(cl(e))return t.fromBytes(e,r);try{return t.fromValue(e,0,r)}catch(n){if(n.code!==kt.errors.INVALID_ARGUMENT)throw n}return jr.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!!(e&&e._isFixedNumber)}},OM=Xm.from(1),Zte=Xm.from("0.5"),ere="strings/5.7.0",T4=new kt(ere),Zm;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(Zm||(Zm={}));var nl;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(nl||(nl={}));function tre(t,e,r,n,i){return T4.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function C4(t,e,r,n,i){if(t===nl.BAD_PREFIX||t===nl.UNEXPECTED_CONTINUE){let s=0;for(let o=e+1;o<r.length&&r[o]>>6===2;o++)s++;return s}return t===nl.OVERRUN?r.length-e-1:0}function rre(t,e,r,n,i){return t===nl.OVERLONG?(n.push(i),0):(n.push(65533),C4(t,e,r))}Object.freeze({error:tre,ignore:C4,replace:rre});function m_(t,e=Zm.current){e!=Zm.current&&(T4.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;let s=t.charCodeAt(n);if(n>=t.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");let o=65536+((i&1023)<<10)+(s&1023);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(o&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return Qt(r)}function nre(t){if(t.length%4!==0)throw new Error("bad data");let e=[];for(let r=0;r<t.length;r+=4)e.push(parseInt(t.substring(r,r+4),16));return e}function y_(t,e){e||(e=function(i){return[parseInt(i,16)]});let r=0,n={};return t.split(",").forEach(i=>{let s=i.split(":");r+=parseInt(s[0],16),n[r]=e(s[1])}),n}function DM(t){let e=0;return t.split(",").map(r=>{let n=r.split("-");n.length===1?n[1]="0":n[1]===""&&(n[1]="1");let i=e+parseInt(n[0],16);return e=parseInt(n[1],16),{l:i,h:e}})}DM("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),"ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map(t=>parseInt(t,16)),y_("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),y_("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),y_("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",nre),DM("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");var N4="hash/5.7.0";function ire(t){t=atob(t);let e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return Qt(e)}function x4(t,e){e==null&&(e=1);let r=[],n=r.forEach,i=function(s,o){n.call(s,function(u){o>0&&Array.isArray(u)?i(u,o-1):r.push(u)})};return i(t,e),r}function sre(t){let e={};for(let r=0;r<t.length;r++){let n=t[r];e[n[0]]=n[1]}return e}function ore(t){let e=0;function r(){return t[e++]<<8|t[e++]}let n=r(),i=1,s=[0,1];for(let k=1;k<n;k++)s.push(i+=r());let o=r(),u=e;e+=o;let a=0,c=0;function f(){return a==0&&(c=c<<8|t[e++],a=8),c>>--a&1}let d=31,w=Math.pow(2,d),A=w>>>1,_=A>>1,N=w-1,P=0;for(let k=0;k<d;k++)P=P<<1|f();let V=[],U=0,Q=w;for(;;){let k=Math.floor(((P-U+1)*i-1)/Q),H=0,q=n;for(;q-H>1;){let R=H+q>>>1;k<s[R]?q=R:H=R}if(H==0)break;V.push(H);let v=U+Math.floor(Q*s[H]/i),C=U+Math.floor(Q*s[H+1]/i)-1;for(;!((v^C)&A);)P=P<<1&N|f(),v=v<<1&N,C=C<<1&N|1;for(;v&~C&_;)P=P&A|P<<1&N>>>1|f(),v=v<<1^A,C=(C^A)<<1|A|1;U=v,Q=1+C-v}let L=n-4;return V.map(k=>{switch(k-L){case 3:return L+65792+(t[u++]<<16|t[u++]<<8|t[u++]);case 2:return L+256+(t[u++]<<8|t[u++]);case 1:return L+t[u++];default:return k-1}})}function are(t){let e=0;return()=>t[e++]}function ure(t){return are(ore(t))}function cre(t){return t&1?~t>>1:t>>1}function lre(t,e){let r=Array(t);for(let n=0;n<t;n++)r[n]=1+e();return r}function PM(t,e){let r=Array(t);for(let n=0,i=-1;n<t;n++)r[n]=i+=1+e();return r}function fre(t,e){let r=Array(t);for(let n=0,i=0;n<t;n++)r[n]=i+=cre(e());return r}function ey(t,e){let r=PM(t(),t),n=t(),i=PM(n,t),s=lre(n,t);for(let o=0;o<n;o++)for(let u=0;u<s[o];u++)r.push(i[o]+u);return e?r.map(o=>e[o]):r}function hre(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(gre(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(pre(r,t))}return sre(x4(e))}function dre(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(r)}return e}function O4(t,e,r){let n=Array(t).fill(void 0).map(()=>[]);for(let i=0;i<e;i++)fre(t,r).forEach((s,o)=>n[o].push(s));return n}function gre(t,e){let r=1+e(),n=e(),i=dre(e),s=O4(i.length,1+t,e);return x4(s.map((o,u)=>{let a=o[0],c=o.slice(1);return Array(i[u]).fill(void 0).map((f,d)=>{let w=d*n;return[a+d*r,c.map(A=>A+w)]})}))}function pre(t,e){let r=1+e();return O4(r,1+t,e).map(n=>[n[0],n.slice(1)])}function mre(t){let e=ey(t).sort((n,i)=>n-i);return r();function r(){let n=[];for(;;){let c=ey(t,e);if(c.length==0)break;n.push({set:new Set(c),node:r()})}n.sort((c,f)=>f.set.size-c.set.size);let i=t(),s=i%3;i=i/3|0;let o=!!(i&1);i>>=1;let u=i==1,a=i==2;return{branches:n,valid:s,fe0f:o,save:u,check:a}}}function yre(){return ure(ire("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}var km=yre();new Set(ey(km)),new Set(ey(km)),hre(km),mre(km),new kt(N4);var wre=new Uint8Array(32);wre.fill(0);var vre=`Ethereum Signed Message:
`;function D4(t){return typeof t=="string"&&(t=m_(t)),j_(zte([m_(vre),m_(String(t.length)),t]))}var Are="rlp/5.7.0";new kt(Are);var Ere="address/5.7.0",Bh=new kt(Ere);function RM(t){pn(t,20)||Bh.throwArgumentError("invalid address","address",t),t=t.toLowerCase();let e=t.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);let n=Qt(j_(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}var bre=9007199254740991;function Sre(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}var Q_={};for(let t=0;t<10;t++)Q_[String(t)]=String(t);for(let t=0;t<26;t++)Q_[String.fromCharCode(65+t)]=String(10+t);var BM=Math.floor(Sre(bre));function Ire(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>Q_[n]).join("");for(;e.length>=BM;){let n=e.substring(0,BM);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}function _re(t){let e=null;if(typeof t!="string"&&Bh.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=RM(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&Bh.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==Ire(t)&&Bh.throwArgumentError("bad icap checksum","address",t),e=Xte(t.substring(4));e.length<40;)e="0"+e;e=RM("0x"+e)}else Bh.throwArgumentError("invalid address","address",t);return e}var Tre="properties/5.7.0";new kt(Tre);function Dh(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}new kt(N4);var Cre=new Uint8Array(32);Cre.fill(0),Nr.from(-1);var Nre=Nr.from(0),xre=Nr.from(1);Nr.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),fs(xre.toHexString(),32),fs(Nre.toHexString(),32);var os={},Pe={},kh=P4;function P4(t,e){if(!t)throw new Error(e||"Assertion failed")}P4.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)};var x_={exports:{}};typeof Object.create=="function"?x_.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:x_.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}};var Ore=kh,Dre=x_.exports;Pe.inherits=Dre;function Pre(t,e){return(t.charCodeAt(e)&64512)!==55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)===56320}function Rre(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var n=0,i=0;i<t.length;i++){var s=t.charCodeAt(i);s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=s&63|128):Pre(t,i)?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=s&63|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=s&63|128)}else for(i=0;i<t.length;i++)r[i]=t[i]|0;return r}Pe.toArray=Rre;function Bre(t){for(var e="",r=0;r<t.length;r++)e+=B4(t[r].toString(16));return e}Pe.toHex=Bre;function R4(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}Pe.htonl=R4;function Mre(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];e==="little"&&(i=R4(i)),r+=M4(i.toString(16))}return r}Pe.toHex32=Mre;function B4(t){return t.length===1?"0"+t:t}Pe.zero2=B4;function M4(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}Pe.zero8=M4;function Lre(t,e,r,n){var i=r-e;Ore(i%4===0);for(var s=new Array(i/4),o=0,u=e;o<s.length;o++,u+=4){var a;n==="big"?a=t[u]<<24|t[u+1]<<16|t[u+2]<<8|t[u+3]:a=t[u+3]<<24|t[u+2]<<16|t[u+1]<<8|t[u],s[o]=a>>>0}return s}Pe.join32=Lre;function Fre(t,e){for(var r=new Array(t.length*4),n=0,i=0;n<t.length;n++,i+=4){var s=t[n];e==="big"?(r[i]=s>>>24,r[i+1]=s>>>16&255,r[i+2]=s>>>8&255,r[i+3]=s&255):(r[i+3]=s>>>24,r[i+2]=s>>>16&255,r[i+1]=s>>>8&255,r[i]=s&255)}return r}Pe.split32=Fre;function Ure(t,e){return t>>>e|t<<32-e}Pe.rotr32=Ure;function qre(t,e){return t<<e|t>>>32-e}Pe.rotl32=qre;function Vre(t,e){return t+e>>>0}Pe.sum32=Vre;function kre(t,e,r){return t+e+r>>>0}Pe.sum32_3=kre;function Hre(t,e,r,n){return t+e+r+n>>>0}Pe.sum32_4=Hre;function Gre(t,e,r,n,i){return t+e+r+n+i>>>0}Pe.sum32_5=Gre;function jre(t,e,r,n){var i=t[e],s=t[e+1],o=n+s>>>0,u=(o<n?1:0)+r+i;t[e]=u>>>0,t[e+1]=o}Pe.sum64=jre;function zre(t,e,r,n){var i=e+n>>>0,s=(i<e?1:0)+t+r;return s>>>0}Pe.sum64_hi=zre;function Qre(t,e,r,n){var i=e+n;return i>>>0}Pe.sum64_lo=Qre;function Kre(t,e,r,n,i,s,o,u){var a=0,c=e;c=c+n>>>0,a+=c<e?1:0,c=c+s>>>0,a+=c<s?1:0,c=c+u>>>0,a+=c<u?1:0;var f=t+r+i+o+a;return f>>>0}Pe.sum64_4_hi=Kre;function Wre(t,e,r,n,i,s,o,u){var a=e+n+s+u;return a>>>0}Pe.sum64_4_lo=Wre;function $re(t,e,r,n,i,s,o,u,a,c){var f=0,d=e;d=d+n>>>0,f+=d<e?1:0,d=d+s>>>0,f+=d<s?1:0,d=d+u>>>0,f+=d<u?1:0,d=d+c>>>0,f+=d<c?1:0;var w=t+r+i+o+a+f;return w>>>0}Pe.sum64_5_hi=$re;function Yre(t,e,r,n,i,s,o,u,a,c){var f=e+n+s+u+c;return f>>>0}Pe.sum64_5_lo=Yre;function Jre(t,e,r){var n=e<<32-r|t>>>r;return n>>>0}Pe.rotr64_hi=Jre;function Xre(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}Pe.rotr64_lo=Xre;function Zre(t,e,r){return t>>>r}Pe.shr64_hi=Zre;function ene(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}Pe.shr64_lo=ene;var ll={},MM=Pe,tne=kh;function Hm(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}ll.BlockHash=Hm,Hm.prototype.update=function(t,e){if(t=MM.toArray(t,e),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){t=this.pending;var r=t.length%this._delta8;this.pending=t.slice(t.length-r,t.length),this.pending.length===0&&(this.pending=null),t=MM.join32(t,0,t.length-r,this.endian);for(var n=0;n<t.length;n+=this._delta32)this._update(t,n,n+this._delta32)}return this},Hm.prototype.digest=function(t){return this.update(this._pad()),tne(this.pending===null),this._digest(t)},Hm.prototype._pad=function(){var t=this.pendingTotal,e=this._delta8,r=e-(t+this.padLength)%e,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(t<<=3,this.endian==="big"){for(var s=8;s<this.padLength;s++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=t>>>24&255,n[i++]=t>>>16&255,n[i++]=t>>>8&255,n[i++]=t&255}else for(n[i++]=t&255,n[i++]=t>>>8&255,n[i++]=t>>>16&255,n[i++]=t>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,s=8;s<this.padLength;s++)n[i++]=0;return n};var el={},ms={},rne=Pe,hs=rne.rotr32;function nne(t,e,r,n){if(t===0)return L4(e,r,n);if(t===1||t===3)return U4(e,r,n);if(t===2)return F4(e,r,n)}ms.ft_1=nne;function L4(t,e,r){return t&e^~t&r}ms.ch32=L4;function F4(t,e,r){return t&e^t&r^e&r}ms.maj32=F4;function U4(t,e,r){return t^e^r}ms.p32=U4;function ine(t){return hs(t,2)^hs(t,13)^hs(t,22)}ms.s0_256=ine;function sne(t){return hs(t,6)^hs(t,11)^hs(t,25)}ms.s1_256=sne;function one(t){return hs(t,7)^hs(t,18)^t>>>3}ms.g0_256=one;function ane(t){return hs(t,17)^hs(t,19)^t>>>10}ms.g1_256=ane;var ol=Pe,une=ll,cne=ms,w_=ol.rotl32,Ph=ol.sum32,lne=ol.sum32_5,fne=cne.ft_1,q4=une.BlockHash,hne=[1518500249,1859775393,2400959708,3395469782];function us(){if(!(this instanceof us))return new us;q4.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}ol.inherits(us,q4);var dne=us;us.blockSize=512,us.outSize=160,us.hmacStrength=80,us.padLength=64,us.prototype._update=function(t,e){for(var r=this.W,n=0;n<16;n++)r[n]=t[e+n];for(;n<r.length;n++)r[n]=w_(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],s=this.h[1],o=this.h[2],u=this.h[3],a=this.h[4];for(n=0;n<r.length;n++){var c=~~(n/20),f=lne(w_(i,5),fne(c,s,o,u),a,r[n],hne[c]);a=u,u=o,o=w_(s,30),s=i,i=f}this.h[0]=Ph(this.h[0],i),this.h[1]=Ph(this.h[1],s),this.h[2]=Ph(this.h[2],o),this.h[3]=Ph(this.h[3],u),this.h[4]=Ph(this.h[4],a)},us.prototype._digest=function(t){return t==="hex"?ol.toHex32(this.h,"big"):ol.split32(this.h,"big")};var al=Pe,gne=ll,fl=ms,pne=kh,_i=al.sum32,mne=al.sum32_4,yne=al.sum32_5,wne=fl.ch32,vne=fl.maj32,Ane=fl.s0_256,Ene=fl.s1_256,bne=fl.g0_256,Sne=fl.g1_256,V4=gne.BlockHash,Ine=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function cs(){if(!(this instanceof cs))return new cs;V4.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=Ine,this.W=new Array(64)}al.inherits(cs,V4);var k4=cs;cs.blockSize=512,cs.outSize=256,cs.hmacStrength=192,cs.padLength=64,cs.prototype._update=function(t,e){for(var r=this.W,n=0;n<16;n++)r[n]=t[e+n];for(;n<r.length;n++)r[n]=mne(Sne(r[n-2]),r[n-7],bne(r[n-15]),r[n-16]);var i=this.h[0],s=this.h[1],o=this.h[2],u=this.h[3],a=this.h[4],c=this.h[5],f=this.h[6],d=this.h[7];for(pne(this.k.length===r.length),n=0;n<r.length;n++){var w=yne(d,Ene(a),wne(a,c,f),this.k[n],r[n]),A=_i(Ane(i),vne(i,s,o));d=f,f=c,c=a,a=_i(u,w),u=o,o=s,s=i,i=_i(w,A)}this.h[0]=_i(this.h[0],i),this.h[1]=_i(this.h[1],s),this.h[2]=_i(this.h[2],o),this.h[3]=_i(this.h[3],u),this.h[4]=_i(this.h[4],a),this.h[5]=_i(this.h[5],c),this.h[6]=_i(this.h[6],f),this.h[7]=_i(this.h[7],d)},cs.prototype._digest=function(t){return t==="hex"?al.toHex32(this.h,"big"):al.split32(this.h,"big")};var O_=Pe,H4=k4;function Ks(){if(!(this instanceof Ks))return new Ks;H4.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}O_.inherits(Ks,H4);var _ne=Ks;Ks.blockSize=512,Ks.outSize=224,Ks.hmacStrength=192,Ks.padLength=64,Ks.prototype._digest=function(t){return t==="hex"?O_.toHex32(this.h.slice(0,7),"big"):O_.split32(this.h.slice(0,7),"big")};var an=Pe,Tne=ll,Cne=kh,ds=an.rotr64_hi,gs=an.rotr64_lo,G4=an.shr64_hi,j4=an.shr64_lo,Fo=an.sum64,v_=an.sum64_hi,A_=an.sum64_lo,Nne=an.sum64_4_hi,xne=an.sum64_4_lo,One=an.sum64_5_hi,Dne=an.sum64_5_lo,z4=Tne.BlockHash,Pne=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Ci(){if(!(this instanceof Ci))return new Ci;z4.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=Pne,this.W=new Array(160)}an.inherits(Ci,z4);var Q4=Ci;Ci.blockSize=1024,Ci.outSize=512,Ci.hmacStrength=192,Ci.padLength=128,Ci.prototype._prepareBlock=function(t,e){for(var r=this.W,n=0;n<32;n++)r[n]=t[e+n];for(;n<r.length;n+=2){var i=Gne(r[n-4],r[n-3]),s=jne(r[n-4],r[n-3]),o=r[n-14],u=r[n-13],a=kne(r[n-30],r[n-29]),c=Hne(r[n-30],r[n-29]),f=r[n-32],d=r[n-31];r[n]=Nne(i,s,o,u,a,c,f,d),r[n+1]=xne(i,s,o,u,a,c,f,d)}},Ci.prototype._update=function(t,e){this._prepareBlock(t,e);var r=this.W,n=this.h[0],i=this.h[1],s=this.h[2],o=this.h[3],u=this.h[4],a=this.h[5],c=this.h[6],f=this.h[7],d=this.h[8],w=this.h[9],A=this.h[10],_=this.h[11],N=this.h[12],P=this.h[13],V=this.h[14],U=this.h[15];Cne(this.k.length===r.length);for(var Q=0;Q<r.length;Q+=2){var L=V,k=U,H=qne(d,w),q=Vne(d,w),v=Rne(d,w,A,_,N),C=Bne(d,w,A,_,N,P),R=this.k[Q],F=this.k[Q+1],B=r[Q],l=r[Q+1],g=One(L,k,H,q,v,C,R,F,B,l),y=Dne(L,k,H,q,v,C,R,F,B,l);L=Fne(n,i),k=Une(n,i),H=Mne(n,i,s,o,u),q=Lne(n,i,s,o,u,a);var E=v_(L,k,H,q),I=A_(L,k,H,q);V=N,U=P,N=A,P=_,A=d,_=w,d=v_(c,f,g,y),w=A_(f,f,g,y),c=u,f=a,u=s,a=o,s=n,o=i,n=v_(g,y,E,I),i=A_(g,y,E,I)}Fo(this.h,0,n,i),Fo(this.h,2,s,o),Fo(this.h,4,u,a),Fo(this.h,6,c,f),Fo(this.h,8,d,w),Fo(this.h,10,A,_),Fo(this.h,12,N,P),Fo(this.h,14,V,U)},Ci.prototype._digest=function(t){return t==="hex"?an.toHex32(this.h,"big"):an.split32(this.h,"big")};function Rne(t,e,r,n,i){var s=t&r^~t&i;return s<0&&(s+=4294967296),s}function Bne(t,e,r,n,i,s){var o=e&n^~e&s;return o<0&&(o+=4294967296),o}function Mne(t,e,r,n,i){var s=t&r^t&i^r&i;return s<0&&(s+=4294967296),s}function Lne(t,e,r,n,i,s){var o=e&n^e&s^n&s;return o<0&&(o+=4294967296),o}function Fne(t,e){var r=ds(t,e,28),n=ds(e,t,2),i=ds(e,t,7),s=r^n^i;return s<0&&(s+=4294967296),s}function Une(t,e){var r=gs(t,e,28),n=gs(e,t,2),i=gs(e,t,7),s=r^n^i;return s<0&&(s+=4294967296),s}function qne(t,e){var r=ds(t,e,14),n=ds(t,e,18),i=ds(e,t,9),s=r^n^i;return s<0&&(s+=4294967296),s}function Vne(t,e){var r=gs(t,e,14),n=gs(t,e,18),i=gs(e,t,9),s=r^n^i;return s<0&&(s+=4294967296),s}function kne(t,e){var r=ds(t,e,1),n=ds(t,e,8),i=G4(t,e,7),s=r^n^i;return s<0&&(s+=4294967296),s}function Hne(t,e){var r=gs(t,e,1),n=gs(t,e,8),i=j4(t,e,7),s=r^n^i;return s<0&&(s+=4294967296),s}function Gne(t,e){var r=ds(t,e,19),n=ds(e,t,29),i=G4(t,e,6),s=r^n^i;return s<0&&(s+=4294967296),s}function jne(t,e){var r=gs(t,e,19),n=gs(e,t,29),i=j4(t,e,6),s=r^n^i;return s<0&&(s+=4294967296),s}var D_=Pe,K4=Q4;function Ws(){if(!(this instanceof Ws))return new Ws;K4.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}D_.inherits(Ws,K4);var zne=Ws;Ws.blockSize=1024,Ws.outSize=384,Ws.hmacStrength=192,Ws.padLength=128,Ws.prototype._digest=function(t){return t==="hex"?D_.toHex32(this.h.slice(0,12),"big"):D_.split32(this.h.slice(0,12),"big")},el.sha1=dne,el.sha224=_ne,el.sha256=k4,el.sha384=zne,el.sha512=Q4;var W4={},Ja=Pe,Qne=ll,Gm=Ja.rotl32,LM=Ja.sum32,Rh=Ja.sum32_3,FM=Ja.sum32_4,$4=Qne.BlockHash;function as(){if(!(this instanceof as))return new as;$4.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Ja.inherits(as,$4),W4.ripemd160=as,as.blockSize=512,as.outSize=160,as.hmacStrength=192,as.padLength=64,as.prototype._update=function(t,e){for(var r=this.h[0],n=this.h[1],i=this.h[2],s=this.h[3],o=this.h[4],u=r,a=n,c=i,f=s,d=o,w=0;w<80;w++){var A=LM(Gm(FM(r,UM(w,n,i,s),t[$ne[w]+e],Kne(w)),Jne[w]),o);r=o,o=s,s=Gm(i,10),i=n,n=A,A=LM(Gm(FM(u,UM(79-w,a,c,f),t[Yne[w]+e],Wne(w)),Xne[w]),d),u=d,d=f,f=Gm(c,10),c=a,a=A}A=Rh(this.h[1],i,f),this.h[1]=Rh(this.h[2],s,d),this.h[2]=Rh(this.h[3],o,u),this.h[3]=Rh(this.h[4],r,a),this.h[4]=Rh(this.h[0],n,c),this.h[0]=A},as.prototype._digest=function(t){return t==="hex"?Ja.toHex32(this.h,"little"):Ja.split32(this.h,"little")};function UM(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function Kne(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function Wne(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var $ne=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Yne=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Jne=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],Xne=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],Zne=Pe,eie=kh;function il(t,e,r){if(!(this instanceof il))return new il(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(Zne.toArray(e,r))}var tie=il;il.prototype._init=function(t){t.length>this.blockSize&&(t=new this.Hash().update(t).digest()),eie(t.length<=this.blockSize);for(var e=t.length;e<this.blockSize;e++)t.push(0);for(e=0;e<t.length;e++)t[e]^=54;for(this.inner=new this.Hash().update(t),e=0;e<t.length;e++)t[e]^=106;this.outer=new this.Hash().update(t)},il.prototype.update=function(t,e){return this.inner.update(t,e),this},il.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)},function(t){var e=t;e.utils=Pe,e.common=ll,e.sha=el,e.ripemd=W4,e.hmac=tie,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160}(os);function hl(t,e,r){return r={path:e,exports:{},require:function(n,i){return rie(n,i??r.path)}},t(r,r.exports),r.exports}function rie(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var K_=Y4;function Y4(t,e){if(!t)throw new Error(e||"Assertion failed")}Y4.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)};var Ni=hl(function(t,e){var r=e;function n(o,u){if(Array.isArray(o))return o.slice();if(!o)return[];var a=[];if(typeof o!="string"){for(var c=0;c<o.length;c++)a[c]=o[c]|0;return a}if(u==="hex"){o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!==0&&(o="0"+o);for(var c=0;c<o.length;c+=2)a.push(parseInt(o[c]+o[c+1],16))}else for(var c=0;c<o.length;c++){var f=o.charCodeAt(c),d=f>>8,w=f&255;d?a.push(d,w):a.push(w)}return a}r.toArray=n;function i(o){return o.length===1?"0"+o:o}r.zero2=i;function s(o){for(var u="",a=0;a<o.length;a++)u+=i(o[a].toString(16));return u}r.toHex=s,r.encode=function(o,u){return u==="hex"?s(o):o}}),mn=hl(function(t,e){var r=e;r.assert=K_,r.toArray=Ni.toArray,r.zero2=Ni.zero2,r.toHex=Ni.toHex,r.encode=Ni.encode;function n(a,c,f){var d=new Array(Math.max(a.bitLength(),f)+1);d.fill(0);for(var w=1<<c+1,A=a.clone(),_=0;_<d.length;_++){var N,P=A.andln(w-1);A.isOdd()?(P>(w>>1)-1?N=(w>>1)-P:N=P,A.isubn(N)):N=0,d[_]=N,A.iushrn(1)}return d}r.getNAF=n;function i(a,c){var f=[[],[]];a=a.clone(),c=c.clone();for(var d=0,w=0,A;a.cmpn(-d)>0||c.cmpn(-w)>0;){var _=a.andln(3)+d&3,N=c.andln(3)+w&3;_===3&&(_=-1),N===3&&(N=-1);var P;_&1?(A=a.andln(7)+d&7,(A===3||A===5)&&N===2?P=-_:P=_):P=0,f[0].push(P);var V;N&1?(A=c.andln(7)+w&7,(A===3||A===5)&&_===2?V=-N:V=N):V=0,f[1].push(V),2*d===P+1&&(d=1-d),2*w===V+1&&(w=1-w),a.iushrn(1),c.iushrn(1)}return f}r.getJSF=i;function s(a,c,f){var d="_"+c;a.prototype[c]=function(){return this[d]!==void 0?this[d]:this[d]=f.call(this)}}r.cachedProperty=s;function o(a){return typeof a=="string"?r.toArray(a,"hex"):a}r.parseBytes=o;function u(a){return new Se(a,"hex","le")}r.intFromLE=u}),jm=mn.getNAF,nie=mn.getJSF,ty=mn.assert;function Uo(t,e){this.type=t,this.p=new Se(e.p,16),this.red=e.prime?Se.red(e.prime):Se.mont(this.p),this.zero=new Se(0).toRed(this.red),this.one=new Se(1).toRed(this.red),this.two=new Se(2).toRed(this.red),this.n=e.n&&new Se(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var eu=Uo;Uo.prototype.point=function(){throw new Error("Not implemented")},Uo.prototype.validate=function(){throw new Error("Not implemented")},Uo.prototype._fixedNafMul=function(t,e){ty(t.precomputed);var r=t._getDoubles(),n=jm(e,1,this._bitLength),i=(1<<r.step+1)-(r.step%2===0?2:1);i/=3;var s=[],o,u;for(o=0;o<n.length;o+=r.step){u=0;for(var a=o+r.step-1;a>=o;a--)u=(u<<1)+n[a];s.push(u)}for(var c=this.jpoint(null,null,null),f=this.jpoint(null,null,null),d=i;d>0;d--){for(o=0;o<s.length;o++)u=s[o],u===d?f=f.mixedAdd(r.points[o]):u===-d&&(f=f.mixedAdd(r.points[o].neg()));c=c.add(f)}return c.toP()},Uo.prototype._wnafMul=function(t,e){var r=4,n=t._getNAFPoints(r);r=n.wnd;for(var i=n.points,s=jm(e,r,this._bitLength),o=this.jpoint(null,null,null),u=s.length-1;u>=0;u--){for(var a=0;u>=0&&s[u]===0;u--)a++;if(u>=0&&a++,o=o.dblp(a),u<0)break;var c=s[u];ty(c!==0),t.type==="affine"?c>0?o=o.mixedAdd(i[c-1>>1]):o=o.mixedAdd(i[-c-1>>1].neg()):c>0?o=o.add(i[c-1>>1]):o=o.add(i[-c-1>>1].neg())}return t.type==="affine"?o.toP():o},Uo.prototype._wnafMulAdd=function(t,e,r,n,i){var s=this._wnafT1,o=this._wnafT2,u=this._wnafT3,a=0,c,f,d;for(c=0;c<n;c++){d=e[c];var w=d._getNAFPoints(t);s[c]=w.wnd,o[c]=w.points}for(c=n-1;c>=1;c-=2){var A=c-1,_=c;if(s[A]!==1||s[_]!==1){u[A]=jm(r[A],s[A],this._bitLength),u[_]=jm(r[_],s[_],this._bitLength),a=Math.max(u[A].length,a),a=Math.max(u[_].length,a);continue}var N=[e[A],null,null,e[_]];e[A].y.cmp(e[_].y)===0?(N[1]=e[A].add(e[_]),N[2]=e[A].toJ().mixedAdd(e[_].neg())):e[A].y.cmp(e[_].y.redNeg())===0?(N[1]=e[A].toJ().mixedAdd(e[_]),N[2]=e[A].add(e[_].neg())):(N[1]=e[A].toJ().mixedAdd(e[_]),N[2]=e[A].toJ().mixedAdd(e[_].neg()));var P=[-3,-1,-5,-7,0,7,5,1,3],V=nie(r[A],r[_]);for(a=Math.max(V[0].length,a),u[A]=new Array(a),u[_]=new Array(a),f=0;f<a;f++){var U=V[0][f]|0,Q=V[1][f]|0;u[A][f]=P[(U+1)*3+(Q+1)],u[_][f]=0,o[A]=N}}var L=this.jpoint(null,null,null),k=this._wnafT4;for(c=a;c>=0;c--){for(var H=0;c>=0;){var q=!0;for(f=0;f<n;f++)k[f]=u[f][c]|0,k[f]!==0&&(q=!1);if(!q)break;H++,c--}if(c>=0&&H++,L=L.dblp(H),c<0)break;for(f=0;f<n;f++){var v=k[f];v!==0&&(v>0?d=o[f][v-1>>1]:v<0&&(d=o[f][-v-1>>1].neg()),d.type==="affine"?L=L.mixedAdd(d):L=L.add(d))}}for(c=0;c<n;c++)o[c]=null;return i?L:L.toP()};function Yn(t,e){this.curve=t,this.type=e,this.precomputed=null}Uo.BasePoint=Yn,Yn.prototype.eq=function(){throw new Error("Not implemented")},Yn.prototype.validate=function(){return this.curve.validate(this)},Uo.prototype.decodePoint=function(t,e){t=mn.toArray(t,e);var r=this.p.byteLength();if((t[0]===4||t[0]===6||t[0]===7)&&t.length-1===2*r){t[0]===6?ty(t[t.length-1]%2===0):t[0]===7&&ty(t[t.length-1]%2===1);var n=this.point(t.slice(1,1+r),t.slice(1+r,1+2*r));return n}else if((t[0]===2||t[0]===3)&&t.length-1===r)return this.pointFromX(t.slice(1,1+r),t[0]===3);throw new Error("Unknown point format")},Yn.prototype.encodeCompressed=function(t){return this.encode(t,!0)},Yn.prototype._encode=function(t){var e=this.curve.p.byteLength(),r=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",e))},Yn.prototype.encode=function(t,e){return mn.encode(this._encode(e),t)},Yn.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this},Yn.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return e?e.points.length>=Math.ceil((t.bitLength()+1)/e.step):!1},Yn.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<e;i+=t){for(var s=0;s<t;s++)n=n.dbl();r.push(n)}return{step:t,points:r}},Yn.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],r=(1<<t)-1,n=r===1?null:this.dbl(),i=1;i<r;i++)e[i]=e[i-1].add(n);return{wnd:t,points:e}},Yn.prototype._getBeta=function(){return null},Yn.prototype.dblp=function(t){for(var e=this,r=0;r<t;r++)e=e.dbl();return e};var W_=hl(function(t){typeof Object.create=="function"?t.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}}),iie=mn.assert;function Xn(t){eu.call(this,"short",t),this.a=new Se(t.a,16).toRed(this.red),this.b=new Se(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}W_(Xn,eu);var sie=Xn;Xn.prototype._getEndomorphism=function(t){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var e,r;if(t.beta)e=new Se(t.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);e=n[0].cmp(n[1])<0?n[0]:n[1],e=e.toRed(this.red)}if(t.lambda)r=new Se(t.lambda,16);else{var i=this._getEndoRoots(this.n);this.g.mul(i[0]).x.cmp(this.g.x.redMul(e))===0?r=i[0]:(r=i[1],iie(this.g.mul(r).x.cmp(this.g.x.redMul(e))===0))}var s;return t.basis?s=t.basis.map(function(o){return{a:new Se(o.a,16),b:new Se(o.b,16)}}):s=this._getEndoBasis(r),{beta:e,lambda:r,basis:s}}},Xn.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:Se.mont(t),r=new Se(2).toRed(e).redInvm(),n=r.redNeg(),i=new Se(3).toRed(e).redNeg().redSqrt().redMul(r),s=n.redAdd(i).fromRed(),o=n.redSub(i).fromRed();return[s,o]},Xn.prototype._getEndoBasis=function(t){for(var e=this.n.ushrn(Math.floor(this.n.bitLength()/2)),r=t,n=this.n.clone(),i=new Se(1),s=new Se(0),o=new Se(0),u=new Se(1),a,c,f,d,w,A,_,N=0,P,V;r.cmpn(0)!==0;){var U=n.div(r);P=n.sub(U.mul(r)),V=o.sub(U.mul(i));var Q=u.sub(U.mul(s));if(!f&&P.cmp(e)<0)a=_.neg(),c=i,f=P.neg(),d=V;else if(f&&++N===2)break;_=P,n=r,r=P,o=i,i=V,u=s,s=Q}w=P.neg(),A=V;var L=f.sqr().add(d.sqr()),k=w.sqr().add(A.sqr());return k.cmp(L)>=0&&(w=a,A=c),f.negative&&(f=f.neg(),d=d.neg()),w.negative&&(w=w.neg(),A=A.neg()),[{a:f,b:d},{a:w,b:A}]},Xn.prototype._endoSplit=function(t){var e=this.endo.basis,r=e[0],n=e[1],i=n.b.mul(t).divRound(this.n),s=r.b.neg().mul(t).divRound(this.n),o=i.mul(r.a),u=s.mul(n.a),a=i.mul(r.b),c=s.mul(n.b),f=t.sub(o).sub(u),d=a.add(c).neg();return{k1:f,k2:d}},Xn.prototype.pointFromX=function(t,e){t=new Se(t,16),t.red||(t=t.toRed(this.red));var r=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(n.redSqr().redSub(r).cmp(this.zero)!==0)throw new Error("invalid point");var i=n.fromRed().isOdd();return(e&&!i||!e&&i)&&(n=n.redNeg()),this.point(t,n)},Xn.prototype.validate=function(t){if(t.inf)return!0;var e=t.x,r=t.y,n=this.a.redMul(e),i=e.redSqr().redMul(e).redIAdd(n).redIAdd(this.b);return r.redSqr().redISub(i).cmpn(0)===0},Xn.prototype._endoWnafMulAdd=function(t,e,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,s=0;s<t.length;s++){var o=this._endoSplit(e[s]),u=t[s],a=u._getBeta();o.k1.negative&&(o.k1.ineg(),u=u.neg(!0)),o.k2.negative&&(o.k2.ineg(),a=a.neg(!0)),n[s*2]=u,n[s*2+1]=a,i[s*2]=o.k1,i[s*2+1]=o.k2}for(var c=this._wnafMulAdd(1,n,i,s*2,r),f=0;f<s*2;f++)n[f]=null,i[f]=null;return c};function Er(t,e,r,n){eu.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Se(e,16),this.y=new Se(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}W_(Er,eu.BasePoint),Xn.prototype.point=function(t,e,r){return new Er(this,t,e,r)},Xn.prototype.pointFromJSON=function(t,e){return Er.fromJSON(this,t,e)},Er.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var r=this.curve,n=function(i){return r.point(i.x.redMul(r.endo.beta),i.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(n)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(n)}}}return e}},Er.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Er.fromJSON=function(t,e,r){typeof e=="string"&&(e=JSON.parse(e));var n=t.point(e[0],e[1],r);if(!e[2])return n;function i(o){return t.point(o[0],o[1],r)}var s=e[2];return n.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[n].concat(s.doubles.points.map(i))},naf:s.naf&&{wnd:s.naf.wnd,points:[n].concat(s.naf.points.map(i))}},n},Er.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Er.prototype.isInfinity=function(){return this.inf},Er.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(this.x.cmp(t.x)===0)return this.curve.point(null,null);var e=this.y.redSub(t.y);e.cmpn(0)!==0&&(e=e.redMul(this.x.redSub(t.x).redInvm()));var r=e.redSqr().redISub(this.x).redISub(t.x),n=e.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},Er.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(t.cmpn(0)===0)return this.curve.point(null,null);var e=this.curve.a,r=this.x.redSqr(),n=t.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(e).redMul(n),s=i.redSqr().redISub(this.x.redAdd(this.x)),o=i.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,o)},Er.prototype.getX=function(){return this.x.fromRed()},Er.prototype.getY=function(){return this.y.fromRed()},Er.prototype.mul=function(t){return t=new Se(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},Er.prototype.mulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},Er.prototype.jmulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},Er.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||this.x.cmp(t.x)===0&&this.y.cmp(t.y)===0)},Er.prototype.neg=function(t){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var r=this.precomputed,n=function(i){return i.neg()};e.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return e},Er.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var t=this.curve.jpoint(this.x,this.y,this.curve.one);return t};function Cr(t,e,r,n){eu.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Se(0)):(this.x=new Se(e,16),this.y=new Se(r,16),this.z=new Se(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}W_(Cr,eu.BasePoint),Xn.prototype.jpoint=function(t,e,r){return new Cr(this,t,e,r)},Cr.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),r=this.x.redMul(e),n=this.y.redMul(e).redMul(t);return this.curve.point(r,n)},Cr.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},Cr.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(e),i=t.x.redMul(r),s=this.y.redMul(e.redMul(t.z)),o=t.y.redMul(r.redMul(this.z)),u=n.redSub(i),a=s.redSub(o);if(u.cmpn(0)===0)return a.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var c=u.redSqr(),f=c.redMul(u),d=n.redMul(c),w=a.redSqr().redIAdd(f).redISub(d).redISub(d),A=a.redMul(d.redISub(w)).redISub(s.redMul(f)),_=this.z.redMul(t.z).redMul(u);return this.curve.jpoint(w,A,_)},Cr.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),r=this.x,n=t.x.redMul(e),i=this.y,s=t.y.redMul(e).redMul(this.z),o=r.redSub(n),u=i.redSub(s);if(o.cmpn(0)===0)return u.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var a=o.redSqr(),c=a.redMul(o),f=r.redMul(a),d=u.redSqr().redIAdd(c).redISub(f).redISub(f),w=u.redMul(f.redISub(d)).redISub(i.redMul(c)),A=this.z.redMul(o);return this.curve.jpoint(d,w,A)},Cr.prototype.dblp=function(t){if(t===0)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var e;if(this.curve.zeroA||this.curve.threeA){var r=this;for(e=0;e<t;e++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,s=this.x,o=this.y,u=this.z,a=u.redSqr().redSqr(),c=o.redAdd(o);for(e=0;e<t;e++){var f=s.redSqr(),d=c.redSqr(),w=d.redSqr(),A=f.redAdd(f).redIAdd(f).redIAdd(n.redMul(a)),_=s.redMul(d),N=A.redSqr().redISub(_.redAdd(_)),P=_.redISub(N),V=A.redMul(P);V=V.redIAdd(V).redISub(w);var U=c.redMul(u);e+1<t&&(a=a.redMul(w)),s=N,u=U,c=V}return this.curve.jpoint(s,c.redMul(i),u)},Cr.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},Cr.prototype._zeroDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(n).redISub(s);o=o.redIAdd(o);var u=n.redAdd(n).redIAdd(n),a=u.redSqr().redISub(o).redISub(o),c=s.redIAdd(s);c=c.redIAdd(c),c=c.redIAdd(c),t=a,e=u.redMul(o.redISub(a)).redISub(c),r=this.y.redAdd(this.y)}else{var f=this.x.redSqr(),d=this.y.redSqr(),w=d.redSqr(),A=this.x.redAdd(d).redSqr().redISub(f).redISub(w);A=A.redIAdd(A);var _=f.redAdd(f).redIAdd(f),N=_.redSqr(),P=w.redIAdd(w);P=P.redIAdd(P),P=P.redIAdd(P),t=N.redISub(A).redISub(A),e=_.redMul(A.redISub(t)).redISub(P),r=this.y.redMul(this.z),r=r.redIAdd(r)}return this.curve.jpoint(t,e,r)},Cr.prototype._threeDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(n).redISub(s);o=o.redIAdd(o);var u=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),a=u.redSqr().redISub(o).redISub(o);t=a;var c=s.redIAdd(s);c=c.redIAdd(c),c=c.redIAdd(c),e=u.redMul(o.redISub(a)).redISub(c),r=this.y.redAdd(this.y)}else{var f=this.z.redSqr(),d=this.y.redSqr(),w=this.x.redMul(d),A=this.x.redSub(f).redMul(this.x.redAdd(f));A=A.redAdd(A).redIAdd(A);var _=w.redIAdd(w);_=_.redIAdd(_);var N=_.redAdd(_);t=A.redSqr().redISub(N),r=this.y.redAdd(this.z).redSqr().redISub(d).redISub(f);var P=d.redSqr();P=P.redIAdd(P),P=P.redIAdd(P),P=P.redIAdd(P),e=A.redMul(_.redISub(t)).redISub(P)}return this.curve.jpoint(t,e,r)},Cr.prototype._dbl=function(){var t=this.curve.a,e=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),s=e.redSqr(),o=r.redSqr(),u=s.redAdd(s).redIAdd(s).redIAdd(t.redMul(i)),a=e.redAdd(e);a=a.redIAdd(a);var c=a.redMul(o),f=u.redSqr().redISub(c.redAdd(c)),d=c.redISub(f),w=o.redSqr();w=w.redIAdd(w),w=w.redIAdd(w),w=w.redIAdd(w);var A=u.redMul(d).redISub(w),_=r.redAdd(r).redMul(n);return this.curve.jpoint(f,A,_)},Cr.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr(),n=e.redSqr(),i=t.redAdd(t).redIAdd(t),s=i.redSqr(),o=this.x.redAdd(e).redSqr().redISub(t).redISub(n);o=o.redIAdd(o),o=o.redAdd(o).redIAdd(o),o=o.redISub(s);var u=o.redSqr(),a=n.redIAdd(n);a=a.redIAdd(a),a=a.redIAdd(a),a=a.redIAdd(a);var c=i.redIAdd(o).redSqr().redISub(s).redISub(u).redISub(a),f=e.redMul(c);f=f.redIAdd(f),f=f.redIAdd(f);var d=this.x.redMul(u).redISub(f);d=d.redIAdd(d),d=d.redIAdd(d);var w=this.y.redMul(c.redMul(a.redISub(c)).redISub(o.redMul(u)));w=w.redIAdd(w),w=w.redIAdd(w),w=w.redIAdd(w);var A=this.z.redAdd(o).redSqr().redISub(r).redISub(u);return this.curve.jpoint(d,w,A)},Cr.prototype.mul=function(t,e){return t=new Se(t,e),this.curve._wnafMul(this,t)},Cr.prototype.eq=function(t){if(t.type==="affine")return this.eq(t.toJ());if(this===t)return!0;var e=this.z.redSqr(),r=t.z.redSqr();if(this.x.redMul(r).redISub(t.x.redMul(e)).cmpn(0)!==0)return!1;var n=e.redMul(this.z),i=r.redMul(t.z);return this.y.redMul(i).redISub(t.y.redMul(n)).cmpn(0)===0},Cr.prototype.eqXToP=function(t){var e=this.z.redSqr(),r=t.toRed(this.curve.red).redMul(e);if(this.x.cmp(r)===0)return!0;for(var n=t.clone(),i=this.curve.redN.redMul(e);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),this.x.cmp(r)===0)return!0}},Cr.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},Cr.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var Km=hl(function(t,e){var r=e;r.base=eu,r.short=sie,r.mont=null,r.edwards=null}),Wm=hl(function(t,e){var r=e,n=mn.assert;function i(u){u.type==="short"?this.curve=new Km.short(u):u.type==="edwards"?this.curve=new Km.edwards(u):this.curve=new Km.mont(u),this.g=this.curve.g,this.n=this.curve.n,this.hash=u.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=i;function s(u,a){Object.defineProperty(r,u,{configurable:!0,enumerable:!0,get:function(){var c=new i(a);return Object.defineProperty(r,u,{configurable:!0,enumerable:!0,value:c}),c}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:os.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:os.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:os.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:os.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:os.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:os.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:os.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var o;try{o=null.crash()}catch{o=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:os.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",o]})});function qo(t){if(!(this instanceof qo))return new qo(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Ni.toArray(t.entropy,t.entropyEnc||"hex"),r=Ni.toArray(t.nonce,t.nonceEnc||"hex"),n=Ni.toArray(t.pers,t.persEnc||"hex");K_(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var qM=qo;qo.prototype._init=function(t,e,r){var n=t.concat(e).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},qo.prototype._hmac=function(){return new os.hmac(this.hash,this.K)},qo.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},qo.prototype.reseed=function(t,e,r,n){typeof e!="string"&&(n=r,r=e,e=null),t=Ni.toArray(t,e),r=Ni.toArray(r,n),K_(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(r||[])),this._reseed=1},qo.prototype.generate=function(t,e,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof e!="string"&&(n=r,r=e,e=null),r&&(r=Ni.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<t;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var s=i.slice(0,t);return this._update(r),this._reseed++,Ni.encode(s,e)};var E_=mn.assert;function Fr(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var b_=Fr;Fr.fromPublic=function(t,e,r){return e instanceof Fr?e:new Fr(t,{pub:e,pubEnc:r})},Fr.fromPrivate=function(t,e,r){return e instanceof Fr?e:new Fr(t,{priv:e,privEnc:r})},Fr.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},Fr.prototype.getPublic=function(t,e){return typeof t=="string"&&(e=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub},Fr.prototype.getPrivate=function(t){return t==="hex"?this.priv.toString(16,2):this.priv},Fr.prototype._importPrivate=function(t,e){this.priv=new Se(t,e||16),this.priv=this.priv.umod(this.ec.curve.n)},Fr.prototype._importPublic=function(t,e){if(t.x||t.y){this.ec.curve.type==="mont"?E_(t.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&E_(t.x&&t.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(t.x,t.y);return}this.pub=this.ec.curve.decodePoint(t,e)},Fr.prototype.derive=function(t){return t.validate()||E_(t.validate(),"public point not validated"),t.mul(this.priv).getX()},Fr.prototype.sign=function(t,e,r){return this.ec.sign(t,this,e,r)},Fr.prototype.verify=function(t,e){return this.ec.verify(t,e,this)},Fr.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var oie=mn.assert;function sy(t,e){if(t instanceof sy)return t;this._importDER(t,e)||(oie(t.r&&t.s,"Signature without r or s"),this.r=new Se(t.r,16),this.s=new Se(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var zm=sy;function aie(){this.place=0}function S_(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4)return!1;for(var i=0,s=0,o=e.place;s<n;s++,o++)i<<=8,i|=t[o],i>>>=0;return i<=127?!1:(e.place=o,i)}function VM(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}sy.prototype._importDER=function(t,e){t=mn.toArray(t,e);var r=new aie;if(t[r.place++]!==48)return!1;var n=S_(t,r);if(n===!1||n+r.place!==t.length||t[r.place++]!==2)return!1;var i=S_(t,r);if(i===!1)return!1;var s=t.slice(r.place,i+r.place);if(r.place+=i,t[r.place++]!==2)return!1;var o=S_(t,r);if(o===!1||t.length!==o+r.place)return!1;var u=t.slice(r.place,o+r.place);if(s[0]===0)if(s[1]&128)s=s.slice(1);else return!1;if(u[0]===0)if(u[1]&128)u=u.slice(1);else return!1;return this.r=new Se(s),this.s=new Se(u),this.recoveryParam=null,!0};function I_(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}sy.prototype.toDER=function(t){var e=this.r.toArray(),r=this.s.toArray();for(e[0]&128&&(e=[0].concat(e)),r[0]&128&&(r=[0].concat(r)),e=VM(e),r=VM(r);!r[0]&&!(r[1]&128);)r=r.slice(1);var n=[2];I_(n,e.length),n=n.concat(e),n.push(2),I_(n,r.length);var i=n.concat(r),s=[48];return I_(s,i.length),s=s.concat(i),mn.encode(s,t)};var uie=function(){throw new Error("unsupported")},J4=mn.assert;function Jn(t){if(!(this instanceof Jn))return new Jn(t);typeof t=="string"&&(J4(Object.prototype.hasOwnProperty.call(Wm,t),"Unknown curve "+t),t=Wm[t]),t instanceof Wm.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var cie=Jn;Jn.prototype.keyPair=function(t){return new b_(this,t)},Jn.prototype.keyFromPrivate=function(t,e){return b_.fromPrivate(this,t,e)},Jn.prototype.keyFromPublic=function(t,e){return b_.fromPublic(this,t,e)},Jn.prototype.genKeyPair=function(t){t||(t={});for(var e=new qM({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||uie(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),n=this.n.sub(new Se(2));;){var i=new Se(e.generate(r));if(!(i.cmp(n)>0))return i.iaddn(1),this.keyFromPrivate(i)}},Jn.prototype._truncateToN=function(t,e){var r=t.byteLength()*8-this.n.bitLength();return r>0&&(t=t.ushrn(r)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t},Jn.prototype.sign=function(t,e,r,n){typeof r=="object"&&(n=r,r=null),n||(n={}),e=this.keyFromPrivate(e,r),t=this._truncateToN(new Se(t,16));for(var i=this.n.byteLength(),s=e.getPrivate().toArray("be",i),o=t.toArray("be",i),u=new qM({hash:this.hash,entropy:s,nonce:o,pers:n.pers,persEnc:n.persEnc||"utf8"}),a=this.n.sub(new Se(1)),c=0;;c++){var f=n.k?n.k(c):new Se(u.generate(this.n.byteLength()));if(f=this._truncateToN(f,!0),!(f.cmpn(1)<=0||f.cmp(a)>=0)){var d=this.g.mul(f);if(!d.isInfinity()){var w=d.getX(),A=w.umod(this.n);if(A.cmpn(0)!==0){var _=f.invm(this.n).mul(A.mul(e.getPrivate()).iadd(t));if(_=_.umod(this.n),_.cmpn(0)!==0){var N=(d.getY().isOdd()?1:0)|(w.cmp(A)!==0?2:0);return n.canonical&&_.cmp(this.nh)>0&&(_=this.n.sub(_),N^=1),new zm({r:A,s:_,recoveryParam:N})}}}}}},Jn.prototype.verify=function(t,e,r,n){t=this._truncateToN(new Se(t,16)),r=this.keyFromPublic(r,n),e=new zm(e,"hex");var i=e.r,s=e.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0||s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var o=s.invm(this.n),u=o.mul(t).umod(this.n),a=o.mul(i).umod(this.n),c;return this.curve._maxwellTrick?(c=this.g.jmulAdd(u,r.getPublic(),a),c.isInfinity()?!1:c.eqXToP(i)):(c=this.g.mulAdd(u,r.getPublic(),a),c.isInfinity()?!1:c.getX().umod(this.n).cmp(i)===0)},Jn.prototype.recoverPubKey=function(t,e,r,n){J4((3&r)===r,"The recovery param is more than two bits"),e=new zm(e,n);var i=this.n,s=new Se(t),o=e.r,u=e.s,a=r&1,c=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw new Error("Unable to find sencond key candinate");c?o=this.curve.pointFromX(o.add(this.curve.n),a):o=this.curve.pointFromX(o,a);var f=e.r.invm(i),d=i.sub(s).mul(f).umod(i),w=u.mul(f).umod(i);return this.g.mulAdd(d,o,w)},Jn.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new zm(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var lie=hl(function(t,e){var r=e;r.version="6.5.4",r.utils=mn,r.rand=function(){throw new Error("unsupported")},r.curve=Km,r.curves=Wm,r.ec=cie,r.eddsa=null}),fie=lie.ec,hie="signing-key/5.7.0",P_=new kt(hie),__=null;function ls(){return __||(__=new fie("secp256k1")),__}var R_=class{constructor(e){Dh(this,"curve","secp256k1"),Dh(this,"privateKey",Gr(e)),Kte(this.privateKey)!==32&&P_.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");let r=ls().keyFromPrivate(Qt(this.privateKey));Dh(this,"publicKey","0x"+r.getPublic(!1,"hex")),Dh(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),Dh(this,"_isSigningKey",!0)}_addPoint(e){let r=ls().keyFromPublic(Qt(this.publicKey)),n=ls().keyFromPublic(Qt(e));return"0x"+r.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){let r=ls().keyFromPrivate(Qt(this.privateKey)),n=Qt(e);n.length!==32&&P_.throwArgumentError("bad digest length","digest",e);let i=r.sign(n,{canonical:!0});return A4({recoveryParam:i.recoveryParam,r:fs("0x"+i.r.toString(16),32),s:fs("0x"+i.s.toString(16),32)})}computeSharedSecret(e){let r=ls().keyFromPrivate(Qt(this.privateKey)),n=ls().keyFromPublic(Qt(X4(e)));return fs("0x"+r.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}};function die(t,e){let r=A4(e),n={r:Qt(r.r),s:Qt(r.s)};return"0x"+ls().recoverPubKey(Qt(t),n,r.recoveryParam).encode("hex",!1)}function X4(t,e){let r=Qt(t);if(r.length===32){let n=new R_(r);return e?"0x"+ls().keyFromPrivate(r).getPublic(!0,"hex"):n.publicKey}else{if(r.length===33)return e?Gr(r):"0x"+ls().keyFromPublic(r).getPublic(!1,"hex");if(r.length===65)return e?"0x"+ls().keyFromPublic(r).getPublic(!0,"hex"):Gr(r)}return P_.throwArgumentError("invalid public or private key","key","[REDACTED]")}var gie="transactions/5.7.0";new kt(gie);var kM;(function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"})(kM||(kM={}));function pie(t){let e=X4(t);return _re(CM(j_(CM(e,1)),12))}function mie(t,e){return pie(die(Qt(t),e))}var yie="https://rpc.walletconnect.com/v1";async function Z4(t,e,r,n,i,s){switch(r.t){case"eip191":return e5(t,e,r.s);case"eip1271":return await t5(t,e,r.s,n,i,s);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${r.t}`)}}function e5(t,e,r){return mie(D4(e),r).toLowerCase()===t.toLowerCase()}async function t5(t,e,r,n,i,s){try{let o="0x1626ba7e",u="0000000000000000000000000000000000000000000000000000000000000040",a="0000000000000000000000000000000000000000000000000000000000000041",c=r.substring(2),f=D4(e).substring(2),d=o+f+u+a+c,w=await fetch(`${s||yie}/?chainId=${n}&projectId=${i}`,{method:"POST",body:JSON.stringify({id:wie(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:d},"latest"]})}),{result:A}=await w.json();return A?A.slice(0,o.length).toLowerCase()===o.toLowerCase():!1}catch(o){return console.error("isValidEip1271Signature: ",o),!1}}function wie(){return Date.now()+Math.floor(Math.random()*1e3)}var vie=Object.defineProperty,Aie=Object.defineProperties,Eie=Object.getOwnPropertyDescriptors,HM=Object.getOwnPropertySymbols,bie=Object.prototype.hasOwnProperty,Sie=Object.prototype.propertyIsEnumerable,GM=(t,e,r)=>e in t?vie(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,$_=(t,e)=>{for(var r in e||(e={}))bie.call(e,r)&&GM(t,r,e[r]);if(HM)for(var r of HM(e))Sie.call(e,r)&&GM(t,r,e[r]);return t},r5=(t,e)=>Aie(t,Eie(e)),Iie="did:pkh:",oy=t=>t?.split(":"),Y_=t=>{let e=t&&oy(t);if(e)return t.includes(Iie)?e[3]:e[1]},_ie=t=>{let e=t&&oy(t);if(e)return e[2]+":"+e[3]},J_=t=>{let e=t&&oy(t);if(e)return e.pop()};async function Tie(t){let{cacao:e,projectId:r}=t,{s:n,p:i}=e,s=n5(i,i.iss),o=J_(i.iss);return await Z4(o,s,n,Y_(i.iss),r)}var n5=(t,e)=>{let r=`${t.domain} wants you to sign in with your Ethereum account:`,n=J_(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let i=t.statement||void 0,s=`URI: ${t.aud||t.uri}`,o=`Version: ${t.version}`,u=`Chain ID: ${Y_(e)}`,a=`Nonce: ${t.nonce}`,c=`Issued At: ${t.iat}`,f=t.resources?`Resources:${t.resources.map(w=>`
- ${w}`).join("")}`:void 0,d=uy(t.resources);if(d){let w=Ho(d);i=eT(i,w)}return[r,n,"",i,"",s,o,u,a,c,f].filter(w=>w!=null).join(`
`)};function Cie(t,e,r){return r.includes("did:pkh:")||(r=`did:pkh:${r}`),{h:{t:"caip122"},p:{iss:r,domain:t.domain,aud:t.aud,version:t.version,nonce:t.nonce,iat:t.iat,statement:t.statement,requestId:t.requestId,resources:t.resources,nbf:t.nbf,exp:t.exp},s:e}}function Nie(t){var e;let{authPayload:r,chains:n,methods:i}=t,s=r.statement||"";if(!(n!=null&&n.length))return r;let o=r.chains,u=C_(o,n);if(!(u!=null&&u.length))throw new Error("No supported chains");let a=i5(r.resources);if(!a)return r;ps(a);let c=s5(a,"eip155"),f=r?.resources||[];if(c!=null&&c.length){let d=o5(c),w=C_(d,i);if(!(w!=null&&w.length))throw new Error(`Supported methods don't satisfy the requested: ${JSON.stringify(d)}, supported: ${JSON.stringify(i)}`);let A=X_("request",w,{chains:u}),_=l5(a,"eip155",A);f=((e=r?.resources)==null?void 0:e.slice(0,-1))||[],f.push(ay(_))}return r5($_({},r),{statement:h5(s,uy(f)),chains:u,resources:r!=null&&r.resources||f.length>0?f:void 0})}function i5(t){let e=uy(t);if(e&&Z_(e))return Ho(e)}function xie(t,e){var r;return(r=t?.att)==null?void 0:r.hasOwnProperty(e)}function s5(t,e){var r,n;return(r=t?.att)!=null&&r[e]?Object.keys((n=t?.att)==null?void 0:n[e]):[]}function Oie(t){return t?.map(e=>Object.keys(e))||[]}function o5(t){return t?.map(e=>{var r;return(r=e.split("/"))==null?void 0:r[1]})||[]}function a5(t){return p.Buffer.from(JSON.stringify(t)).toString("base64")}function u5(t){return JSON.parse(p.Buffer.from(t,"base64").toString("utf-8"))}function ps(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");let e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(r=>{let n=t.att[r];if(Array.isArray(n))throw new Error(`Resource must be an object: ${r}`);if(typeof n!="object")throw new Error(`Resource must be an object: ${r}`);if(!Object.keys(n).length)throw new Error(`Resource object is empty: ${r}`);Object.keys(n).forEach(i=>{let s=n[i];if(!Array.isArray(s))throw new Error(`Ability limits ${i} must be an array of objects, found: ${s}`);if(!s.length)throw new Error(`Value of ${i} is empty array, must be an array with objects`);s.forEach(o=>{if(typeof o!="object")throw new Error(`Ability limits (${i}) must be an array of objects, found: ${o}`)})})})}function c5(t,e,r,n={}){return r?.sort((i,s)=>i.localeCompare(s)),{att:{[t]:X_(e,r,n)}}}function l5(t,e,r){var n;return t.att[e]=$_({},r),((n=Object.keys(t.att))==null?void 0:n.sort((i,s)=>i.localeCompare(s))).reduce((i,s)=>(i.att[s]=t.att[s],i),{att:{}})}function X_(t,e,r={}){e=e?.sort((i,s)=>i.localeCompare(s));let n=e.map(i=>({[`${t}/${i}`]:[r]}));return Object.assign({},...n)}function ay(t){return ps(t),`urn:recap:${a5(t).replace(/=/g,"")}`}function Ho(t){let e=u5(t.replace("urn:recap:",""));return ps(e),e}function Die(t,e,r){let n=c5(t,e,r);return ay(n)}function Z_(t){return t&&t.includes("urn:recap:")}function Pie(t,e){let r=Ho(t),n=Ho(e),i=f5(r,n);return ay(i)}function f5(t,e){ps(t),ps(e);let r=Object.keys(t.att).concat(Object.keys(e.att)).sort((i,s)=>i.localeCompare(s)),n={att:{}};return r.forEach(i=>{var s,o;Object.keys(((s=t.att)==null?void 0:s[i])||{}).concat(Object.keys(((o=e.att)==null?void 0:o[i])||{})).sort((u,a)=>u.localeCompare(a)).forEach(u=>{var a,c;n.att[i]=r5($_({},n.att[i]),{[u]:((a=t.att[i])==null?void 0:a[u])||((c=e.att[i])==null?void 0:c[u])})})}),n}function eT(t="",e){ps(e);let r="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(r))return t;let n=[],i=0;Object.keys(e.att).forEach(u=>{let a=Object.keys(e.att[u]).map(d=>({ability:d.split("/")[0],action:d.split("/")[1]}));a.sort((d,w)=>d.action.localeCompare(w.action));let c={};a.forEach(d=>{c[d.ability]||(c[d.ability]=[]),c[d.ability].push(d.action)});let f=Object.keys(c).map(d=>(i++,`(${i}) '${d}': '${c[d].join("', '")}' for '${u}'.`));n.push(f.join(", ").replace(".,","."))});let s=n.join(" "),o=`${r}${s}`;return`${t?t+" ":""}${o}`}function Rie(t){var e;let r=Ho(t);ps(r);let n=(e=r.att)==null?void 0:e.eip155;return n?Object.keys(n).map(i=>i.split("/")[1]):[]}function Bie(t){let e=Ho(t);ps(e);let r=[];return Object.values(e.att).forEach(n=>{Object.values(n).forEach(i=>{var s;(s=i?.[0])!=null&&s.chains&&r.push(i[0].chains)})}),[...new Set(r.flat())]}function h5(t,e){if(!e)return t;let r=Ho(e);return ps(r),eT(t,r)}function uy(t){if(!t)return;let e=t?.[t.length-1];return Z_(e)?e:void 0}var tT="base10",Qr="base16",ry="base64pad",cy="utf8",rT=0,dl=1,Mie=0,jM=1,B_=12,nT=32;function Lie(){let t=e4.generateKeyPair();return{privateKey:Vt.toString(t.secretKey,Qr),publicKey:Vt.toString(t.publicKey,Qr)}}function Fie(){let t=XM.randomBytes(nT);return Vt.toString(t,Qr)}function Uie(t,e){let r=e4.sharedKey(Vt.fromString(t,Qr),Vt.fromString(e,Qr),!0),n=new ite.HKDF(U_.SHA256,r).expand(nT);return Vt.toString(n,Qr)}function qie(t){let e=U_.hash(Vt.fromString(t,Qr));return Vt.toString(e,Qr)}function Vie(t){let e=U_.hash(Vt.fromString(t,cy));return Vt.toString(e,Qr)}function d5(t){return Vt.fromString(`${t}`,tT)}function Hh(t){return Number(Vt.toString(t,tT))}function kie(t){let e=d5(typeof t.type<"u"?t.type:rT);if(Hh(e)===dl&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");let r=typeof t.senderPublicKey<"u"?Vt.fromString(t.senderPublicKey,Qr):void 0,n=typeof t.iv<"u"?Vt.fromString(t.iv,Qr):XM.randomBytes(B_),i=new JM.ChaCha20Poly1305(Vt.fromString(t.symKey,Qr)).seal(n,Vt.fromString(t.message,cy));return g5({type:e,sealed:i,iv:n,senderPublicKey:r})}function Hie(t){let e=new JM.ChaCha20Poly1305(Vt.fromString(t.symKey,Qr)),{sealed:r,iv:n}=iT(t.encoded),i=e.open(n,r);if(i===null)throw new Error("Failed to decrypt");return Vt.toString(i,cy)}function g5(t){if(Hh(t.type)===dl){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Vt.toString(Vt.concat([t.type,t.senderPublicKey,t.iv,t.sealed]),ry)}return Vt.toString(Vt.concat([t.type,t.iv,t.sealed]),ry)}function iT(t){let e=Vt.fromString(t,ry),r=e.slice(Mie,jM),n=jM;if(Hh(r)===dl){let u=n+nT,a=u+B_,c=e.slice(n,u),f=e.slice(u,a),d=e.slice(a);return{type:r,sealed:d,iv:f,senderPublicKey:c}}let i=n+B_,s=e.slice(n,i),o=e.slice(i);return{type:r,sealed:o,iv:s}}function Gie(t,e){let r=iT(t);return p5({type:Hh(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?Vt.toString(r.senderPublicKey,Qr):void 0,receiverPublicKey:e?.receiverPublicKey})}function p5(t){let e=t?.type||rT;if(e===dl){if(typeof t?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof t?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t?.senderPublicKey,receiverPublicKey:t?.receiverPublicKey}}function jie(t){return t.type===dl&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}var m5="irn";function zie(t){return t?.relay||{protocol:m5}}function Qie(t){let e=ote.RELAY_JSONRPC[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}var Kie=Object.defineProperty,Wie=Object.defineProperties,$ie=Object.getOwnPropertyDescriptors,zM=Object.getOwnPropertySymbols,Yie=Object.prototype.hasOwnProperty,Jie=Object.prototype.propertyIsEnumerable,QM=(t,e,r)=>e in t?Kie(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,KM=(t,e)=>{for(var r in e||(e={}))Yie.call(e,r)&&QM(t,r,e[r]);if(zM)for(var r of zM(e))Jie.call(e,r)&&QM(t,r,e[r]);return t},Xie=(t,e)=>Wie(t,$ie(e));function y5(t,e="-"){let r={},n="relay"+e;return Object.keys(t).forEach(i=>{if(i.startsWith(n)){let s=i.replace(n,""),o=t[i];r[s]=o}}),r}function Zie(t){t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;let e=t.indexOf(":"),r=t.indexOf("?")!==-1?t.indexOf("?"):void 0,n=t.substring(0,e),i=t.substring(e+1,r).split("@"),s=typeof r<"u"?t.substring(r):"",o=$m.parse(s),u=typeof o.methods=="string"?o.methods.split(","):void 0;return{protocol:n,topic:w5(i[0]),version:parseInt(i[1],10),symKey:o.symKey,relay:y5(o),methods:u,expiryTimestamp:o.expiryTimestamp?parseInt(o.expiryTimestamp,10):void 0}}function w5(t){return t.startsWith("//")?t.substring(2):t}function v5(t,e="-"){let r="relay",n={};return Object.keys(t).forEach(i=>{let s=r+e+i;t[i]&&(n[s]=t[i])}),n}function ese(t){return`${t.protocol}:${t.topic}@${t.version}?`+$m.stringify(KM(Xie(KM({symKey:t.symKey},v5(t.relay)),{expiryTimestamp:t.expiryTimestamp}),t.methods?{methods:t.methods.join(",")}:{}))}var tse=Object.defineProperty,rse=Object.defineProperties,nse=Object.getOwnPropertyDescriptors,WM=Object.getOwnPropertySymbols,ise=Object.prototype.hasOwnProperty,sse=Object.prototype.propertyIsEnumerable,$M=(t,e,r)=>e in t?tse(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ose=(t,e)=>{for(var r in e||(e={}))ise.call(e,r)&&$M(t,r,e[r]);if(WM)for(var r of WM(e))sse.call(e,r)&&$M(t,r,e[r]);return t},ase=(t,e)=>rse(t,nse(e));function tu(t){let e=[];return t.forEach(r=>{let[n,i]=r.split(":");e.push(`${n}:${i}`)}),e}function A5(t){let e=[];return Object.values(t).forEach(r=>{e.push(...tu(r.accounts))}),e}function E5(t,e){let r=[];return Object.values(t).forEach(n=>{tu(n.accounts).includes(e)&&r.push(...n.methods)}),r}function b5(t,e){let r=[];return Object.values(t).forEach(n=>{tu(n.accounts).includes(e)&&r.push(...n.events)}),r}function use(t,e){let r=R5(t,e);if(r)throw new Error(r.message);let n={};for(let[i,s]of Object.entries(t))n[i]={methods:s.methods,events:s.events,chains:s.accounts.map(o=>`${o.split(":")[0]}:${o.split(":")[1]}`)};return n}function cse(t){let{proposal:{requiredNamespaces:e,optionalNamespaces:r={}},supportedNamespaces:n}=t,i=M_(e),s=M_(r),o={};Object.keys(n).forEach(c=>{let f=n[c].chains,d=n[c].methods,w=n[c].events,A=n[c].accounts;f.forEach(_=>{if(!A.some(N=>N.includes(_)))throw new Error(`No accounts provided for chain ${_} in namespace ${c}`)}),o[c]={chains:f,methods:d,events:w,accounts:A}});let u=M5(e,o,"approve()");if(u)throw new Error(u.message);let a={};return!Object.keys(e).length&&!Object.keys(r).length?o:(Object.keys(i).forEach(c=>{let f=n[c].chains.filter(_=>{var N,P;return(P=(N=i[c])==null?void 0:N.chains)==null?void 0:P.includes(_)}),d=n[c].methods.filter(_=>{var N,P;return(P=(N=i[c])==null?void 0:N.methods)==null?void 0:P.includes(_)}),w=n[c].events.filter(_=>{var N,P;return(P=(N=i[c])==null?void 0:N.events)==null?void 0:P.includes(_)}),A=f.map(_=>n[c].accounts.filter(N=>N.includes(`${_}:`))).flat();a[c]={chains:f,methods:d,events:w,accounts:A}}),Object.keys(s).forEach(c=>{var f,d,w,A,_,N;if(!n[c])return;let P=(d=(f=s[c])==null?void 0:f.chains)==null?void 0:d.filter(L=>n[c].chains.includes(L)),V=n[c].methods.filter(L=>{var k,H;return(H=(k=s[c])==null?void 0:k.methods)==null?void 0:H.includes(L)}),U=n[c].events.filter(L=>{var k,H;return(H=(k=s[c])==null?void 0:k.events)==null?void 0:H.includes(L)}),Q=P?.map(L=>n[c].accounts.filter(k=>k.includes(`${L}:`))).flat();a[c]={chains:Ys((w=a[c])==null?void 0:w.chains,P),methods:Ys((A=a[c])==null?void 0:A.methods,V),events:Ys((_=a[c])==null?void 0:_.events,U),accounts:Ys((N=a[c])==null?void 0:N.accounts,Q)}}),a)}function sT(t){return t.includes(":")}function S5(t){return sT(t)?t.split(":")[0]:t}function M_(t){var e,r,n;let i={};if(!ly(t))return i;for(let[s,o]of Object.entries(t)){let u=sT(s)?[s]:o.chains,a=o.methods||[],c=o.events||[],f=S5(s);i[f]=ase(ose({},i[f]),{chains:Ys(u,(e=i[f])==null?void 0:e.chains),methods:Ys(a,(r=i[f])==null?void 0:r.methods),events:Ys(c,(n=i[f])==null?void 0:n.events)})}return i}function I5(t){let e={};return t?.forEach(r=>{let[n,i]=r.split(":");e[n]||(e[n]={accounts:[],chains:[],events:[]}),e[n].accounts.push(r),e[n].chains.push(`${n}:${i}`)}),e}function lse(t,e){e=e.map(n=>n.replace("did:pkh:",""));let r=I5(e);for(let[n,i]of Object.entries(r))i.methods?i.methods=Ys(i.methods,t):i.methods=t,i.events=["chainChanged","accountsChanged"];return r}var _5={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},T5={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function $s(t,e){let{message:r,code:n}=T5[t];return{message:e?`${r} ${e}`:r,code:n}}function Xa(t,e){let{message:r,code:n}=_5[t];return{message:e?`${r} ${e}`:r,code:n}}function Gh(t,e){return Array.isArray(t)?typeof e<"u"&&t.length?t.every(e):!0:!1}function ly(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function ko(t){return typeof t>"u"}function yn(t,e){return e&&ko(t)?!0:typeof t=="string"&&!!t.trim().length}function fy(t,e){return e&&ko(t)?!0:typeof t=="number"&&!isNaN(t)}function fse(t,e){let{requiredNamespaces:r}=e,n=Object.keys(t.namespaces),i=Object.keys(r),s=!0;return Vo(i,n)?(n.forEach(o=>{let{accounts:u,methods:a,events:c}=t.namespaces[o],f=tu(u),d=r[o];(!Vo(iy(o,d),f)||!Vo(d.methods,a)||!Vo(d.events,c))&&(s=!1)}),s):!1}function qh(t){return yn(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function C5(t){if(yn(t,!1)&&t.includes(":")){let e=t.split(":");if(e.length===3){let r=e[0]+":"+e[1];return!!e[2]&&qh(r)}}return!1}function hse(t){if(yn(t,!1))try{return typeof new URL(t)<"u"}catch{return!1}return!1}function dse(t){var e;return(e=t?.proposer)==null?void 0:e.publicKey}function gse(t){return t?.topic}function pse(t,e){let r=null;return yn(t?.publicKey,!1)||(r=$s("MISSING_OR_INVALID",`${e} controller public key should be a string`)),r}function L_(t){let e=!0;return Gh(t)?t.length&&(e=t.every(r=>yn(r,!1))):e=!1,e}function N5(t,e,r){let n=null;return Gh(e)&&e.length?e.forEach(i=>{n||qh(i)||(n=Xa("UNSUPPORTED_CHAINS",`${r}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):qh(t)||(n=Xa("UNSUPPORTED_CHAINS",`${r}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),n}function x5(t,e,r){let n=null;return Object.entries(t).forEach(([i,s])=>{if(n)return;let o=N5(i,iy(i,s),`${e} ${r}`);o&&(n=o)}),n}function O5(t,e){let r=null;return Gh(t)?t.forEach(n=>{r||C5(n)||(r=Xa("UNSUPPORTED_ACCOUNTS",`${e}, account ${n} should be a string and conform to "namespace:chainId:address" format`))}):r=Xa("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),r}function D5(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;let i=O5(n?.accounts,`${e} namespace`);i&&(r=i)}),r}function P5(t,e){let r=null;return L_(t?.methods)?L_(t?.events)||(r=Xa("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):r=Xa("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),r}function oT(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;let i=P5(n,`${e}, namespace`);i&&(r=i)}),r}function mse(t,e,r){let n=null;if(t&&ly(t)){let i=oT(t,e);i&&(n=i);let s=x5(t,e,r);s&&(n=s)}else n=$s("MISSING_OR_INVALID",`${e}, ${r} should be an object with data`);return n}function R5(t,e){let r=null;if(t&&ly(t)){let n=oT(t,e);n&&(r=n);let i=D5(t,e);i&&(r=i)}else r=$s("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return r}function B5(t){return yn(t.protocol,!0)}function yse(t,e){let r=!1;return e&&!t?r=!0:t&&Gh(t)&&t.length&&t.forEach(n=>{r=B5(n)}),r}function wse(t){return typeof t=="number"}function vse(t){return typeof t<"u"&&typeof t!==null}function Ase(t){return!(!t||typeof t!="object"||!t.code||!fy(t.code,!1)||!t.message||!yn(t.message,!1))}function Ese(t){return!(ko(t)||!yn(t.method,!1))}function bse(t){return!(ko(t)||ko(t.result)&&ko(t.error)||!fy(t.id,!1)||!yn(t.jsonrpc,!1))}function Sse(t){return!(ko(t)||!yn(t.name,!1))}function Ise(t,e){return!(!qh(e)||!A5(t).includes(e))}function _se(t,e,r){return yn(r,!1)?E5(t,e).includes(r):!1}function Tse(t,e,r){return yn(r,!1)?b5(t,e).includes(r):!1}function M5(t,e,r){let n=null,i=Cse(t),s=Nse(e),o=Object.keys(i),u=Object.keys(s),a=YM(Object.keys(t)),c=YM(Object.keys(e)),f=a.filter(d=>!c.includes(d));return f.length&&(n=$s("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.
      Required: ${f.toString()}
      Received: ${Object.keys(e).toString()}`)),Vo(o,u)||(n=$s("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${u.toString()}`)),Object.keys(e).forEach(d=>{if(!d.includes(":")||n)return;let w=tu(e[d].accounts);w.includes(d)||(n=$s("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${d}
        Required: ${d}
        Approved: ${w.toString()}`))}),o.forEach(d=>{n||(Vo(i[d].methods,s[d].methods)?Vo(i[d].events,s[d].events)||(n=$s("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${d}`)):n=$s("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${d}`))}),n}function Cse(t){let e={};return Object.keys(t).forEach(r=>{var n;r.includes(":")?e[r]=t[r]:(n=t[r].chains)==null||n.forEach(i=>{e[i]={methods:t[r].methods,events:t[r].events}})}),e}function YM(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function Nse(t){let e={};return Object.keys(t).forEach(r=>{r.includes(":")?e[r]=t[r]:tu(t[r].accounts)?.forEach(i=>{e[i]={accounts:t[r].accounts.filter(s=>s.includes(`${i}:`)),methods:t[r].methods,events:t[r].events}})}),e}function xse(t,e){return fy(t,!1)&&t<=e.max&&t>=e.min}function Ose(){let t=Za();return new Promise(e=>{switch(t){case zr.browser:e(L5());break;case zr.reactNative:e(F5());break;case zr.node:e(U5());break;default:e(!0)}})}function L5(){return Vh()&&navigator?.onLine}async function F5(){return ul()&&typeof global<"u"&&global!=null&&global.NetInfo?(await(global==null?void 0:global.NetInfo.fetch()))?.isConnected:!0}function U5(){return!0}function Dse(t){switch(Za()){case zr.browser:q5(t);break;case zr.reactNative:V5(t);break;case zr.node:break}}function q5(t){!ul()&&Vh()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function V5(t){ul()&&typeof global<"u"&&global!=null&&global.NetInfo&&global?.NetInfo.addEventListener(e=>t(e?.isConnected))}var T_={},F_=class{static get(e){return T_[e]}static set(e,r){T_[e]=r}static delete(e){delete T_[e]}};K.BASE10=tT,K.BASE16=Qr,K.BASE64=ry,K.COLON=pte,K.DEFAULT_DEPTH=k_,K.EMPTY_SPACE=Ym,K.ENV_MAP=zr,K.INTERNAL_ERRORS=T5,K.MemoryStore=F_,K.ONE_THOUSAND=mte,K.REACT_NATIVE_PRODUCT=a4,K.RELAYER_DEFAULT_PROTOCOL=m5,K.SDK_ERRORS=_5,K.SDK_TYPE=c4,K.SLASH=u4,K.TYPE_0=rT,K.TYPE_1=dl,K.UTF8=cy,K.addResourceToRecap=l5,K.appendToQueryString=l4,K.assertType=bte,K.assignAbilityToActions=X_,K.base64Decode=u5,K.base64Encode=a5,K.buildApprovedNamespaces=cse,K.buildAuthObject=Cie,K.buildNamespacesFromAuth=lse,K.buildRecapStatement=h5,K.calcExpiry=Bte,K.capitalize=Nte,K.capitalizeWord=m4,K.createDelayedPromise=xte,K.createEncodedRecap=Die,K.createExpiringPromise=Ote,K.createRecap=c5,K.decodeRecap=Ho,K.decodeTypeByte=Hh,K.decrypt=Hie,K.deriveSymKey=Uie,K.deserialize=iT,K.encodeRecap=ay,K.encodeTypeByte=d5,K.encrypt=kie,K.engineEvent=Lte,K.enumify=Cte,K.formatAccountId=n4,K.formatAccountWithChain=ate,K.formatChainId=r4,K.formatExpirerTarget=G_,K.formatIdTarget=Pte,K.formatMessage=n5,K.formatMessageContext=Ste,K.formatRelayParams=v5,K.formatRelayRpcUrl=Ate,K.formatStatementFromRecap=eT,K.formatTopicTarget=Dte,K.formatUA=d4,K.formatUri=ese,K.generateKeyPair=Lie,K.generateRandomBytes32=Fie,K.getAccountsChains=tu,K.getAccountsFromNamespaces=cte,K.getAddressFromAccount=i4,K.getAddressesFromAccounts=ute,K.getAppMetadata=wte,K.getBrowserOnlineStatus=L5,K.getBundleId=yte,K.getChainFromAccount=s4,K.getChainsFromAccounts=o4,K.getChainsFromNamespace=iy,K.getChainsFromNamespaces=lte,K.getChainsFromRecap=Bie,K.getChainsFromRequiredNamespaces=fte,K.getCommonValuesInArrays=C_,K.getDecodedRecapFromResources=i5,K.getDeepLink=Ute,K.getDidAddress=J_,K.getDidAddressSegments=oy,K.getDidChainId=Y_,K.getEnvironment=Za,K.getHttpUrl=Ete,K.getInternalError=$s,K.getJavascriptID=h4,K.getJavascriptOS=f4,K.getLastItems=p4,K.getMethodsFromRecap=Rie,K.getNamespacedDidChainId=_ie,K.getNamespacesChains=A5,K.getNamespacesEventsForChainId=b5,K.getNamespacesFromAccounts=I5,K.getNamespacesMethodsForChainId=E5,K.getNodeOnlineStatus=U5,K.getReCapActions=o5,K.getReactNativeOnlineStatus=F5,K.getRecapAbilitiesFromResource=Oie,K.getRecapFromResources=uy,K.getRecapResource=s5,K.getRelayClientMetadata=vte,K.getRelayProtocolApi=Qie,K.getRelayProtocolName=zie,K.getRequiredNamespacesFromNamespaces=use,K.getSdkError=Xa,K.getUniqueValues=V_,K.handleDeeplinkRedirect=Fte,K.hasOverlap=Vo,K.hashKey=qie,K.hashMessage=Vie,K.isBrowser=Vh,K.isCaipNamespace=sT,K.isConformingNamespaces=M5,K.isExpired=Mte,K.isNode=H_,K.isOnline=Ose,K.isProposalStruct=dse,K.isReactNative=ul,K.isRecap=Z_,K.isSessionCompatible=fse,K.isSessionStruct=gse,K.isTypeOneEnvelope=jie,K.isUndefined=ko,K.isValidAccountId=C5,K.isValidAccounts=O5,K.isValidActions=P5,K.isValidArray=Gh,K.isValidChainId=qh,K.isValidChains=N5,K.isValidController=pse,K.isValidEip1271Signature=t5,K.isValidEip191Signature=e5,K.isValidErrorReason=Ase,K.isValidEvent=Sse,K.isValidId=wse,K.isValidNamespaceAccounts=D5,K.isValidNamespaceActions=oT,K.isValidNamespaceChains=x5,K.isValidNamespaceMethodsOrEvents=L_,K.isValidNamespaces=R5,K.isValidNamespacesChainId=Ise,K.isValidNamespacesEvent=Tse,K.isValidNamespacesRequest=_se,K.isValidNumber=fy,K.isValidObject=ly,K.isValidParams=vse,K.isValidRecap=ps,K.isValidRelay=B5,K.isValidRelays=yse,K.isValidRequest=Ese,K.isValidRequestExpiry=xse,K.isValidRequiredNamespaces=mse,K.isValidResponse=bse,K.isValidString=yn,K.isValidUrl=hse,K.mapEntries=Tte,K.mapToObj=Ite,K.mergeArrays=Ys,K.mergeEncodedRecaps=Pie,K.mergeRecaps=f5,K.normalizeNamespaces=M_,K.objToMap=_te,K.parseAccountId=q_,K.parseChainId=t4,K.parseContextNames=g4,K.parseExpirerTarget=Rte,K.parseNamespaceKey=S5,K.parseRelayParams=y5,K.parseTopic=w5,K.parseUri=Zie,K.populateAuthPayload=Nie,K.recapHasResource=xie,K.serialize=g5,K.subscribeToBrowserNetworkChange=q5,K.subscribeToNetworkChange=Dse,K.subscribeToReactNativeNetworkChange=V5,K.validateDecoding=Gie,K.validateEncoding=p5,K.validateSignedCacao=Tie,K.verifySignature=Z4});var k5,H5,G5,j5,hy,zh,aT,dy,Go,Qh,gy=de(()=>{h();k5="PARSE_ERROR",H5="INVALID_REQUEST",G5="METHOD_NOT_FOUND",j5="INVALID_PARAMS",hy="INTERNAL_ERROR",zh="SERVER_ERROR",aT=[-32700,-32600,-32601,-32602,-32603],dy=[-32e3,-32099],Go={[k5]:{code:-32700,message:"Parse error"},[H5]:{code:-32600,message:"Invalid Request"},[G5]:{code:-32601,message:"Method not found"},[j5]:{code:-32602,message:"Invalid params"},[hy]:{code:-32603,message:"Internal error"},[zh]:{code:-32e3,message:"Server error"}},Qh=zh});function Pse(t){return t<=dy[0]&&t>=dy[1]}function py(t){return aT.includes(t)}function z5(t){return typeof t=="number"}function my(t){return Object.keys(Go).includes(t)?Go[t]:Go[Qh]}function yy(t){let e=Object.values(Go).find(r=>r.code===t);return e||Go[Qh]}function Rse(t){if(typeof t.error.code>"u")return{valid:!1,error:"Missing code for JSON-RPC error"};if(typeof t.error.message>"u")return{valid:!1,error:"Missing message for JSON-RPC error"};if(!z5(t.error.code))return{valid:!1,error:`Invalid error code type for JSON-RPC: ${t.error.code}`};if(py(t.error.code)){let e=yy(t.error.code);if(e.message!==Go[Qh].message&&t.error.message===e.message)return{valid:!1,error:`Invalid error code message for JSON-RPC: ${t.error.code}`}}return{valid:!0}}function uT(t,e,r){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${r} RPC url at ${e}`):t}var cT=de(()=>{h();gy()});var K5=D(jo=>{"use strict";h();Object.defineProperty(jo,"__esModule",{value:!0});jo.isBrowserCryptoAvailable=jo.getSubtleCrypto=jo.getBrowerCrypto=void 0;function lT(){return(global===null||global===void 0?void 0:global.crypto)||(global===null||global===void 0?void 0:global.msCrypto)||{}}jo.getBrowerCrypto=lT;function Q5(){let t=lT();return t.subtle||t.webkitSubtle}jo.getSubtleCrypto=Q5;function Bse(){return!!lT()&&!!Q5()}jo.isBrowserCryptoAvailable=Bse});var Y5=D(zo=>{"use strict";h();Object.defineProperty(zo,"__esModule",{value:!0});zo.isBrowser=zo.isNode=zo.isReactNative=void 0;function W5(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}zo.isReactNative=W5;function $5(){return typeof S.default<"u"&&typeof S.default.versions<"u"&&typeof S.default.versions.node<"u"}zo.isNode=$5;function Mse(){return!W5()&&!$5()}zo.isBrowser=Mse});var fT=D(wy=>{"use strict";h();Object.defineProperty(wy,"__esModule",{value:!0});var J5=(Oc(),xe(xc));J5.__exportStar(K5(),wy);J5.__exportStar(Y5(),wy)});var br={};Ot(br,{isNodeJs:()=>Z5});var X5,Z5,eL=de(()=>{h();X5=ge(fT());Tr(br,ge(fT()));Z5=X5.isNode});function hT(t=3){let e=Date.now()*Math.pow(10,t),r=Math.floor(Math.random()*Math.pow(10,t));return e+r}function dT(t=6){return BigInt(hT(t))}function gT(t,e,r){return{id:r||hT(),jsonrpc:"2.0",method:t,params:e}}function Lse(t,e){return{id:t,jsonrpc:"2.0",result:e}}function pT(t,e,r){return{id:t,jsonrpc:"2.0",error:tL(e,r)}}function tL(t,e){return typeof t>"u"?my(hy):(typeof t=="string"&&(t=Object.assign(Object.assign({},my(zh)),{message:t})),typeof e<"u"&&(t.data=e),py(t.code)&&(t=yy(t.code)),t)}var rL=de(()=>{h();cT();gy()});function Fse(t){return t.includes("*")?Ay(t):!/\W/g.test(t)}function vy(t){return t==="*"}function Ay(t){return vy(t)?!0:!(!t.includes("*")||t.split("*").length!==2||t.split("*").filter(e=>e.trim()==="").length!==1)}function Use(t){return!vy(t)&&Ay(t)&&!t.split("*")[0].trim()}function qse(t){return!vy(t)&&Ay(t)&&!t.split("*")[1].trim()}var nL=de(()=>{h()});var Kh,mT,Ey,Wh,iL=de(()=>{h();Kh=class{},mT=class extends Kh{constructor(e){super()}},Ey=class extends Kh{constructor(){super()}},Wh=class extends Ey{constructor(e){super()}}});var sL=de(()=>{h();iL()});function Hse(t){let e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function oL(t,e){let r=Hse(t);return typeof r>"u"?!1:new RegExp(e).test(r)}function Gse(t){return oL(t,Vse)}function by(t){return oL(t,kse)}function yT(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}var Vse,kse,aL=de(()=>{h();Vse="^https?:",kse="^wss?:"});function wT(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function jse(t){return wT(t)&&"method"in t}function vT(t){return wT(t)&&(uL(t)||Sy(t))}function uL(t){return"result"in t}function Sy(t){return"error"in t}function zse(t){return"error"in t&&t.valid===!1}var cL=de(()=>{h()});var Ur={};Ot(Ur,{DEFAULT_ERROR:()=>Qh,IBaseJsonRpcProvider:()=>Ey,IEvents:()=>Kh,IJsonRpcConnection:()=>mT,IJsonRpcProvider:()=>Wh,INTERNAL_ERROR:()=>hy,INVALID_PARAMS:()=>j5,INVALID_REQUEST:()=>H5,METHOD_NOT_FOUND:()=>G5,PARSE_ERROR:()=>k5,RESERVED_ERROR_CODES:()=>aT,SERVER_ERROR:()=>zh,SERVER_ERROR_CODE_RANGE:()=>dy,STANDARD_ERROR_MAP:()=>Go,formatErrorMessage:()=>tL,formatJsonRpcError:()=>pT,formatJsonRpcRequest:()=>gT,formatJsonRpcResult:()=>Lse,getBigIntRpcId:()=>dT,getError:()=>my,getErrorByCode:()=>yy,isHttpUrl:()=>Gse,isJsonRpcError:()=>Sy,isJsonRpcPayload:()=>wT,isJsonRpcRequest:()=>jse,isJsonRpcResponse:()=>vT,isJsonRpcResult:()=>uL,isJsonRpcValidationInvalid:()=>zse,isLocalhostUrl:()=>yT,isNodeJs:()=>Z5,isReservedErrorCode:()=>py,isServerErrorCode:()=>Pse,isValidDefaultRoute:()=>vy,isValidErrorCode:()=>z5,isValidLeadingWildcardRoute:()=>Use,isValidRoute:()=>Fse,isValidTrailingWildcardRoute:()=>qse,isValidWildcardRoute:()=>Ay,isWsUrl:()=>by,parseConnectionError:()=>uT,payloadId:()=>hT,validateJsonRpcError:()=>Rse});var $h=de(()=>{h();gy();cT();eL();Tr(Ur,br);rL();nL();sL();aL();cL()});var fL={};Ot(fL,{JsonRpcProvider:()=>AT,default:()=>AT});var lL,AT,hL=de(()=>{h();lL=ge(Os());$h();AT=class extends Wh{constructor(e){super(e),this.events=new lL.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async request(e,r){return this.requestStrict(gT(e.method,e.params||[],e.id||dT().toString()),r)}async requestStrict(e,r){return new Promise(async(n,i)=>{if(!this.connection.connected)try{await this.open()}catch(s){i(s)}this.events.on(`${e.id}`,s=>{Sy(s)?i(s.error):n(s.result)});try{await this.connection.send(e,r)}catch(s){i(s)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),vT(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}}});var gL=D((HIe,dL)=>{"use strict";h();dL.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}});var wL={};Ot(wL,{WsConnection:()=>ET,default:()=>ET});var yL,Qse,Kse,pL,mL,Wse,ET,vL=de(()=>{h();yL=ge(Os());Nc();$h();Qse=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:gL(),Kse=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",pL=t=>t.split("?")[0],mL=10,Wse=Qse(),ET=class{constructor(e){if(this.url=e,this.events=new yL.EventEmitter,this.registering=!1,!by(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,r)=>{if(typeof this.socket>"u"){r(new Error("Connection already closed"));return}this.socket.onclose=n=>{this.onClose(n),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(Si(e))}catch(r){this.onError(e.id,r)}}register(e=this.url){if(!by(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){let r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return i(new Error("WebSocket connection is missing or invalid"));n(this.socket)})})}return this.url=e,this.registering=!0,new Promise((r,n)=>{let i=new URLSearchParams(e).get("origin"),s=(0,Ur.isReactNative)()?{headers:{origin:i}}:{rejectUnauthorized:!yT(e)},o=new Wse(e,[],s);Kse()?o.onerror=u=>{let a=u;n(this.emitError(a.error))}:o.on("error",u=>{n(this.emitError(u))}),o.onopen=()=>{this.onOpen(o),r(o)}})}onOpen(e){e.onmessage=r=>this.onPayload(r),e.onclose=r=>this.onClose(r),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;let r=typeof e.data=="string"?Po(e.data):e.data;this.events.emit("payload",r)}onError(e,r){let n=this.parseError(r),i=n.message||n.toString(),s=pT(e,i);this.events.emit("payload",s)}parseError(e,r=this.url){return uT(e,pL(r),"WS")}resetMaxListeners(){this.events.getMaxListeners()>mL&&this.events.setMaxListeners(mL)}emitError(e){let r=this.parseError(new Error(e?.message||`WebSocket connection failed for host: ${pL(this.url)}`));return this.events.emit("register_error",r),r}}});var eF=D((Yh,pl)=>{h();var $se=200,PT="__lodash_hash_undefined__",Dy=1,DL=2,PL=9007199254740991,Iy="[object Arguments]",_T="[object Array]",Yse="[object AsyncFunction]",RL="[object Boolean]",BL="[object Date]",ML="[object Error]",LL="[object Function]",Jse="[object GeneratorFunction]",_y="[object Map]",FL="[object Number]",Xse="[object Null]",gl="[object Object]",AL="[object Promise]",Zse="[object Proxy]",UL="[object RegExp]",Ty="[object Set]",qL="[object String]",eoe="[object Symbol]",toe="[object Undefined]",TT="[object WeakMap]",VL="[object ArrayBuffer]",Cy="[object DataView]",roe="[object Float32Array]",noe="[object Float64Array]",ioe="[object Int8Array]",soe="[object Int16Array]",ooe="[object Int32Array]",aoe="[object Uint8Array]",uoe="[object Uint8ClampedArray]",coe="[object Uint16Array]",loe="[object Uint32Array]",foe=/[\\^$.*+?()[\]{}|]/g,hoe=/^\[object .+?Constructor\]$/,doe=/^(?:0|[1-9]\d*)$/,Mt={};Mt[roe]=Mt[noe]=Mt[ioe]=Mt[soe]=Mt[ooe]=Mt[aoe]=Mt[uoe]=Mt[coe]=Mt[loe]=!0;Mt[Iy]=Mt[_T]=Mt[VL]=Mt[RL]=Mt[Cy]=Mt[BL]=Mt[ML]=Mt[LL]=Mt[_y]=Mt[FL]=Mt[gl]=Mt[UL]=Mt[Ty]=Mt[qL]=Mt[TT]=!1;var kL=typeof global=="object"&&global&&global.Object===Object&&global,goe=typeof self=="object"&&self&&self.Object===Object&&self,Js=kL||goe||Function("return this")(),HL=typeof Yh=="object"&&Yh&&!Yh.nodeType&&Yh,EL=HL&&typeof pl=="object"&&pl&&!pl.nodeType&&pl,GL=EL&&EL.exports===HL,bT=GL&&kL.process,bL=function(){try{return bT&&bT.binding&&bT.binding("util")}catch{}}(),SL=bL&&bL.isTypedArray;function poe(t,e){for(var r=-1,n=t==null?0:t.length,i=0,s=[];++r<n;){var o=t[r];e(o,r,t)&&(s[i++]=o)}return s}function moe(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}function yoe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}function woe(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}function voe(t){return function(e){return t(e)}}function Aoe(t,e){return t.has(e)}function Eoe(t,e){return t?.[e]}function boe(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}function Soe(t,e){return function(r){return t(e(r))}}function Ioe(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var _oe=Array.prototype,Toe=Function.prototype,Py=Object.prototype,ST=Js["__core-js_shared__"],jL=Toe.toString,ys=Py.hasOwnProperty,IL=function(){var t=/[^.]+$/.exec(ST&&ST.keys&&ST.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),zL=Py.toString,Coe=RegExp("^"+jL.call(ys).replace(foe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_L=GL?Js.Buffer:void 0,Ny=Js.Symbol,TL=Js.Uint8Array,QL=Py.propertyIsEnumerable,Noe=_oe.splice,ru=Ny?Ny.toStringTag:void 0,CL=Object.getOwnPropertySymbols,xoe=_L?_L.isBuffer:void 0,Ooe=Soe(Object.keys,Object),CT=ml(Js,"DataView"),Jh=ml(Js,"Map"),NT=ml(Js,"Promise"),xT=ml(Js,"Set"),OT=ml(Js,"WeakMap"),Xh=ml(Object,"create"),Doe=su(CT),Poe=su(Jh),Roe=su(NT),Boe=su(xT),Moe=su(OT),NL=Ny?Ny.prototype:void 0,IT=NL?NL.valueOf:void 0;function nu(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Loe(){this.__data__=Xh?Xh(null):{},this.size=0}function Foe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function Uoe(t){var e=this.__data__;if(Xh){var r=e[t];return r===PT?void 0:r}return ys.call(e,t)?e[t]:void 0}function qoe(t){var e=this.__data__;return Xh?e[t]!==void 0:ys.call(e,t)}function Voe(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Xh&&e===void 0?PT:e,this}nu.prototype.clear=Loe;nu.prototype.delete=Foe;nu.prototype.get=Uoe;nu.prototype.has=qoe;nu.prototype.set=Voe;function Xs(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function koe(){this.__data__=[],this.size=0}function Hoe(t){var e=this.__data__,r=Ry(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():Noe.call(e,r,1),--this.size,!0}function Goe(t){var e=this.__data__,r=Ry(e,t);return r<0?void 0:e[r][1]}function joe(t){return Ry(this.__data__,t)>-1}function zoe(t,e){var r=this.__data__,n=Ry(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}Xs.prototype.clear=koe;Xs.prototype.delete=Hoe;Xs.prototype.get=Goe;Xs.prototype.has=joe;Xs.prototype.set=zoe;function iu(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Qoe(){this.size=0,this.__data__={hash:new nu,map:new(Jh||Xs),string:new nu}}function Koe(t){var e=By(this,t).delete(t);return this.size-=e?1:0,e}function Woe(t){return By(this,t).get(t)}function $oe(t){return By(this,t).has(t)}function Yoe(t,e){var r=By(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}iu.prototype.clear=Qoe;iu.prototype.delete=Koe;iu.prototype.get=Woe;iu.prototype.has=$oe;iu.prototype.set=Yoe;function xy(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new iu;++e<r;)this.add(t[e])}function Joe(t){return this.__data__.set(t,PT),this}function Xoe(t){return this.__data__.has(t)}xy.prototype.add=xy.prototype.push=Joe;xy.prototype.has=Xoe;function Ko(t){var e=this.__data__=new Xs(t);this.size=e.size}function Zoe(){this.__data__=new Xs,this.size=0}function eae(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function tae(t){return this.__data__.get(t)}function rae(t){return this.__data__.has(t)}function nae(t,e){var r=this.__data__;if(r instanceof Xs){var n=r.__data__;if(!Jh||n.length<$se-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new iu(n)}return r.set(t,e),this.size=r.size,this}Ko.prototype.clear=Zoe;Ko.prototype.delete=eae;Ko.prototype.get=tae;Ko.prototype.has=rae;Ko.prototype.set=nae;function iae(t,e){var r=Oy(t),n=!r&&vae(t),i=!r&&!n&&DT(t),s=!r&&!n&&!i&&ZL(t),o=r||n||i||s,u=o?woe(t.length,String):[],a=u.length;for(var c in t)(e||ys.call(t,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||gae(c,a)))&&u.push(c);return u}function Ry(t,e){for(var r=t.length;r--;)if($L(t[r][0],e))return r;return-1}function sae(t,e,r){var n=e(t);return Oy(t)?n:moe(n,r(t))}function ed(t){return t==null?t===void 0?toe:Xse:ru&&ru in Object(t)?hae(t):wae(t)}function xL(t){return Zh(t)&&ed(t)==Iy}function KL(t,e,r,n,i){return t===e?!0:t==null||e==null||!Zh(t)&&!Zh(e)?t!==t&&e!==e:oae(t,e,r,n,KL,i)}function oae(t,e,r,n,i,s){var o=Oy(t),u=Oy(e),a=o?_T:Qo(t),c=u?_T:Qo(e);a=a==Iy?gl:a,c=c==Iy?gl:c;var f=a==gl,d=c==gl,w=a==c;if(w&&DT(t)){if(!DT(e))return!1;o=!0,f=!1}if(w&&!f)return s||(s=new Ko),o||ZL(t)?WL(t,e,r,n,i,s):lae(t,e,a,r,n,i,s);if(!(r&Dy)){var A=f&&ys.call(t,"__wrapped__"),_=d&&ys.call(e,"__wrapped__");if(A||_){var N=A?t.value():t,P=_?e.value():e;return s||(s=new Ko),i(N,P,r,n,s)}}return w?(s||(s=new Ko),fae(t,e,r,n,i,s)):!1}function aae(t){if(!XL(t)||mae(t))return!1;var e=YL(t)?Coe:hoe;return e.test(su(t))}function uae(t){return Zh(t)&&JL(t.length)&&!!Mt[ed(t)]}function cae(t){if(!yae(t))return Ooe(t);var e=[];for(var r in Object(t))ys.call(t,r)&&r!="constructor"&&e.push(r);return e}function WL(t,e,r,n,i,s){var o=r&Dy,u=t.length,a=e.length;if(u!=a&&!(o&&a>u))return!1;var c=s.get(t);if(c&&s.get(e))return c==e;var f=-1,d=!0,w=r&DL?new xy:void 0;for(s.set(t,e),s.set(e,t);++f<u;){var A=t[f],_=e[f];if(n)var N=o?n(_,A,f,e,t,s):n(A,_,f,t,e,s);if(N!==void 0){if(N)continue;d=!1;break}if(w){if(!yoe(e,function(P,V){if(!Aoe(w,V)&&(A===P||i(A,P,r,n,s)))return w.push(V)})){d=!1;break}}else if(!(A===_||i(A,_,r,n,s))){d=!1;break}}return s.delete(t),s.delete(e),d}function lae(t,e,r,n,i,s,o){switch(r){case Cy:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case VL:return!(t.byteLength!=e.byteLength||!s(new TL(t),new TL(e)));case RL:case BL:case FL:return $L(+t,+e);case ML:return t.name==e.name&&t.message==e.message;case UL:case qL:return t==e+"";case _y:var u=boe;case Ty:var a=n&Dy;if(u||(u=Ioe),t.size!=e.size&&!a)return!1;var c=o.get(t);if(c)return c==e;n|=DL,o.set(t,e);var f=WL(u(t),u(e),n,i,s,o);return o.delete(t),f;case eoe:if(IT)return IT.call(t)==IT.call(e)}return!1}function fae(t,e,r,n,i,s){var o=r&Dy,u=OL(t),a=u.length,c=OL(e),f=c.length;if(a!=f&&!o)return!1;for(var d=a;d--;){var w=u[d];if(!(o?w in e:ys.call(e,w)))return!1}var A=s.get(t);if(A&&s.get(e))return A==e;var _=!0;s.set(t,e),s.set(e,t);for(var N=o;++d<a;){w=u[d];var P=t[w],V=e[w];if(n)var U=o?n(V,P,w,e,t,s):n(P,V,w,t,e,s);if(!(U===void 0?P===V||i(P,V,r,n,s):U)){_=!1;break}N||(N=w=="constructor")}if(_&&!N){var Q=t.constructor,L=e.constructor;Q!=L&&"constructor"in t&&"constructor"in e&&!(typeof Q=="function"&&Q instanceof Q&&typeof L=="function"&&L instanceof L)&&(_=!1)}return s.delete(t),s.delete(e),_}function OL(t){return sae(t,bae,dae)}function By(t,e){var r=t.__data__;return pae(e)?r[typeof e=="string"?"string":"hash"]:r.map}function ml(t,e){var r=Eoe(t,e);return aae(r)?r:void 0}function hae(t){var e=ys.call(t,ru),r=t[ru];try{t[ru]=void 0;var n=!0}catch{}var i=zL.call(t);return n&&(e?t[ru]=r:delete t[ru]),i}var dae=CL?function(t){return t==null?[]:(t=Object(t),poe(CL(t),function(e){return QL.call(t,e)}))}:Sae,Qo=ed;(CT&&Qo(new CT(new ArrayBuffer(1)))!=Cy||Jh&&Qo(new Jh)!=_y||NT&&Qo(NT.resolve())!=AL||xT&&Qo(new xT)!=Ty||OT&&Qo(new OT)!=TT)&&(Qo=function(t){var e=ed(t),r=e==gl?t.constructor:void 0,n=r?su(r):"";if(n)switch(n){case Doe:return Cy;case Poe:return _y;case Roe:return AL;case Boe:return Ty;case Moe:return TT}return e});function gae(t,e){return e=e??PL,!!e&&(typeof t=="number"||doe.test(t))&&t>-1&&t%1==0&&t<e}function pae(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function mae(t){return!!IL&&IL in t}function yae(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||Py;return t===r}function wae(t){return zL.call(t)}function su(t){if(t!=null){try{return jL.call(t)}catch{}try{return t+""}catch{}}return""}function $L(t,e){return t===e||t!==t&&e!==e}var vae=xL(function(){return arguments}())?xL:function(t){return Zh(t)&&ys.call(t,"callee")&&!QL.call(t,"callee")},Oy=Array.isArray;function Aae(t){return t!=null&&JL(t.length)&&!YL(t)}var DT=xoe||Iae;function Eae(t,e){return KL(t,e)}function YL(t){if(!XL(t))return!1;var e=ed(t);return e==LL||e==Jse||e==Yse||e==Zse}function JL(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=PL}function XL(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function Zh(t){return t!=null&&typeof t=="object"}var ZL=SL?voe(SL):uae;function bae(t){return Aae(t)?iae(t):cae(t)}function Sae(){return[]}function Iae(){return!1}pl.exports=Eae});var RT=D((WIe,tF)=>{h();tF.exports=function(t,e){return e=e||{},new Promise(function(r,n){var i=new XMLHttpRequest,s=[],o=[],u={},a=function(){return{ok:(i.status/100|0)==2,statusText:i.statusText,status:i.status,url:i.responseURL,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(i.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([i.response]))},clone:a,headers:{keys:function(){return s},entries:function(){return o},get:function(f){return u[f.toLowerCase()]},has:function(f){return f.toLowerCase()in u}}}};for(var c in i.open(e.method||"get",t,!0),i.onload=function(){i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(f,d,w){s.push(d=d.toLowerCase()),o.push([d,w]),u[d]=u[d]?u[d]+","+w:w}),r(a())},i.onerror=n,i.withCredentials=e.credentials=="include",e.headers)i.setRequestHeader(c,e.headers[c]);i.send(e.body||null)})}});var nF=D((YIe,rF)=>{h();rF.exports=self.fetch||(self.fetch=RT().default||RT())});var cU=D(he=>{"use strict";h();Object.defineProperty(he,"__esModule",{value:!0});var ou=Os(),_ae=(s8(),xe(i8)),nd=(S8(),xe(b8)),wt=(xS(),xe(NS)),ws=WS(),iF=(Nc(),xe(r8)),Tae=(lB(),xe(cB)),ne=jh(),Cae=(n_(),xe(r_)),Oe=Bc(),Nae=(hL(),xe(fL)),un=($h(),xe(Ur)),xae=(vL(),xe(wL)),Oae=eF(),Dae=nF();function id(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}function Pae(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}),e.default=t,Object.freeze(e)}var Rae=id(ou),Bae=id(_ae),My=Pae(Tae),Mae=id(xae),Lae=id(Oae),Fae=id(Dae);function Uae(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var u=t.length,a=t.charAt(0),c=Math.log(u)/Math.log(256),f=Math.log(256)/Math.log(u);function d(_){if(_ instanceof Uint8Array||(ArrayBuffer.isView(_)?_=new Uint8Array(_.buffer,_.byteOffset,_.byteLength):Array.isArray(_)&&(_=Uint8Array.from(_))),!(_ instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(_.length===0)return"";for(var N=0,P=0,V=0,U=_.length;V!==U&&_[V]===0;)V++,N++;for(var Q=(U-V)*f+1>>>0,L=new Uint8Array(Q);V!==U;){for(var k=_[V],H=0,q=Q-1;(k!==0||H<P)&&q!==-1;q--,H++)k+=256*L[q]>>>0,L[q]=k%u>>>0,k=k/u>>>0;if(k!==0)throw new Error("Non-zero carry");P=H,V++}for(var v=Q-P;v!==Q&&L[v]===0;)v++;for(var C=a.repeat(N);v<Q;++v)C+=t.charAt(L[v]);return C}function w(_){if(typeof _!="string")throw new TypeError("Expected String");if(_.length===0)return new Uint8Array;var N=0;if(_[N]!==" "){for(var P=0,V=0;_[N]===a;)P++,N++;for(var U=(_.length-N)*c+1>>>0,Q=new Uint8Array(U);_[N];){var L=r[_.charCodeAt(N)];if(L===255)return;for(var k=0,H=U-1;(L!==0||k<V)&&H!==-1;H--,k++)L+=u*Q[H]>>>0,Q[H]=L%256>>>0,L=L/256>>>0;if(L!==0)throw new Error("Non-zero carry");V=k,N++}if(_[N]!==" "){for(var q=U-V;q!==U&&Q[q]===0;)q++;for(var v=new Uint8Array(P+(U-q)),C=P;q!==U;)v[C++]=Q[q++];return v}}}function A(_){var N=w(_);if(N)return N;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:w,decode:A}}var qae=Uae,Vae=qae,EF=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},kae=t=>new TextEncoder().encode(t),Hae=t=>new TextDecoder().decode(t),LT=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},FT=class{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return bF(this,e)}},UT=class{constructor(e){this.decoders=e}or(e){return bF(this,e)}decode(e){let r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},bF=(t,e)=>new UT({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}}),qT=class{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new LT(e,r,n),this.decoder=new FT(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},Yy=({name:t,prefix:e,encode:r,decode:n})=>new qT(t,e,r,n),sd=({prefix:t,name:e,alphabet:r})=>{let{encode:n,decode:i}=Vae(r,e);return Yy({prefix:t,name:e,encode:n,decode:s=>EF(i(s))})},Gae=(t,e,r,n)=>{let i={};for(let f=0;f<e.length;++f)i[e[f]]=f;let s=t.length;for(;t[s-1]==="=";)--s;let o=new Uint8Array(s*r/8|0),u=0,a=0,c=0;for(let f=0;f<s;++f){let d=i[t[f]];if(d===void 0)throw new SyntaxError(`Non-${n} character`);a=a<<r|d,u+=r,u>=8&&(u-=8,o[c++]=255&a>>u)}if(u>=r||255&a<<8-u)throw new SyntaxError("Unexpected end of data");return o},jae=(t,e,r)=>{let n=e[e.length-1]==="=",i=(1<<r)-1,s="",o=0,u=0;for(let a=0;a<t.length;++a)for(u=u<<8|t[a],o+=8;o>r;)o-=r,s+=e[i&u>>o];if(o&&(s+=e[i&u<<r-o]),n)for(;s.length*r&7;)s+="=";return s},xr=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>Yy({prefix:e,name:t,encode(i){return jae(i,n,r)},decode(i){return Gae(i,n,r,t)}}),zae=Yy({prefix:"\0",name:"identity",encode:t=>Hae(t),decode:t=>kae(t)}),Qae=Object.freeze({__proto__:null,identity:zae}),Kae=xr({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),Wae=Object.freeze({__proto__:null,base2:Kae}),$ae=xr({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),Yae=Object.freeze({__proto__:null,base8:$ae}),Jae=sd({prefix:"9",name:"base10",alphabet:"0123456789"}),Xae=Object.freeze({__proto__:null,base10:Jae}),Zae=xr({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),eue=xr({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),tue=Object.freeze({__proto__:null,base16:Zae,base16upper:eue}),rue=xr({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),nue=xr({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),iue=xr({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),sue=xr({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),oue=xr({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),aue=xr({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),uue=xr({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),cue=xr({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),lue=xr({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),fue=Object.freeze({__proto__:null,base32:rue,base32upper:nue,base32pad:iue,base32padupper:sue,base32hex:oue,base32hexupper:aue,base32hexpad:uue,base32hexpadupper:cue,base32z:lue}),hue=sd({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),due=sd({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),gue=Object.freeze({__proto__:null,base36:hue,base36upper:due}),pue=sd({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),mue=sd({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),yue=Object.freeze({__proto__:null,base58btc:pue,base58flickr:mue}),wue=xr({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),vue=xr({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Aue=xr({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Eue=xr({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),bue=Object.freeze({__proto__:null,base64:wue,base64pad:vue,base64url:Aue,base64urlpad:Eue}),SF=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),Sue=SF.reduce((t,e,r)=>(t[r]=e,t),[]),Iue=SF.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function _ue(t){return t.reduce((e,r)=>(e+=Sue[r],e),"")}function Tue(t){let e=[];for(let r of t){let n=Iue[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}var Cue=Yy({prefix:"\u{1F680}",name:"base256emoji",encode:_ue,decode:Tue}),Nue=Object.freeze({__proto__:null,base256emoji:Cue}),xue=IF,sF=128,Oue=127,Due=~Oue,Pue=Math.pow(2,31);function IF(t,e,r){e=e||[],r=r||0;for(var n=r;t>=Pue;)e[r++]=t&255|sF,t/=128;for(;t&Due;)e[r++]=t&255|sF,t>>>=7;return e[r]=t|0,IF.bytes=r-n+1,e}var Rue=VT,Bue=128,oF=127;function VT(t,n){var r=0,n=n||0,i=0,s=n,o,u=t.length;do{if(s>=u)throw VT.bytes=0,new RangeError("Could not decode varint");o=t[s++],r+=i<28?(o&oF)<<i:(o&oF)*Math.pow(2,i),i+=7}while(o>=Bue);return VT.bytes=s-n,r}var Mue=Math.pow(2,7),Lue=Math.pow(2,14),Fue=Math.pow(2,21),Uue=Math.pow(2,28),que=Math.pow(2,35),Vue=Math.pow(2,42),kue=Math.pow(2,49),Hue=Math.pow(2,56),Gue=Math.pow(2,63),jue=function(t){return t<Mue?1:t<Lue?2:t<Fue?3:t<Uue?4:t<que?5:t<Vue?6:t<kue?7:t<Hue?8:t<Gue?9:10},zue={encode:xue,decode:Rue,encodingLength:jue},_F=zue,aF=(t,e,r=0)=>(_F.encode(t,e,r),e),uF=t=>_F.encodingLength(t),kT=(t,e)=>{let r=e.byteLength,n=uF(t),i=n+uF(r),s=new Uint8Array(i+r);return aF(t,s,0),aF(r,s,n),s.set(e,i),new HT(t,r,e,s)},HT=class{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}},TF=({name:t,code:e,encode:r})=>new GT(t,e,r),GT=class{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){let r=this.encode(e);return r instanceof Uint8Array?kT(this.code,r):r.then(n=>kT(this.code,n))}else throw Error("Unknown type, must be binary type")}},CF=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),Que=TF({name:"sha2-256",code:18,encode:CF("SHA-256")}),Kue=TF({name:"sha2-512",code:19,encode:CF("SHA-512")}),Wue=Object.freeze({__proto__:null,sha256:Que,sha512:Kue}),NF=0,$ue="identity",xF=EF,Yue=t=>kT(NF,xF(t)),Jue={code:NF,name:$ue,encode:xF,digest:Yue},Xue=Object.freeze({__proto__:null,identity:Jue});new TextEncoder,new TextDecoder;var cF={...Qae,...Wae,...Yae,...Xae,...tue,...fue,...gue,...yue,...bue,...Nue};({...Wue,...Xue});function Zue(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}function OF(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}var lF=OF("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),BT=OF("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);let e=Zue(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),ece={utf8:lF,"utf-8":lF,hex:cF.base16,latin1:BT,ascii:BT,binary:BT,...cF};function tce(t,e="utf8"){let r=ece[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t,"utf8"):r.decoder.decode(`${r.prefix}${t}`)}var WT="wc",DF=2,Jy="core",Zs=`${WT}@2:${Jy}:`,PF={name:Jy,logger:"error"},RF={database:":memory:"},BF="crypto",jT="client_ed25519_seed",MF=Oe.ONE_DAY,LF="keychain",FF="0.3",UF="messages",qF="0.3",VF=Oe.SIX_HOURS,kF="publisher",HF="irn",GF="error",$T="wss://relay.walletconnect.com",zT="wss://relay.walletconnect.org",jF="relayer",vn={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},zF="_subscription",wn={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},QF=Oe.ONE_SECOND,rce={database:":memory:"},KF="2.13.3",WF=1e4,$F="0.3",YF="WALLETCONNECT_CLIENT_ID",xi={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},nce=Oe.THIRTY_DAYS,JF="subscription",XF="0.3",ZF=Oe.FIVE_SECONDS*1e3,eU="pairing",tU="0.3",ice=Oe.THIRTY_DAYS,yl={wc_pairingDelete:{req:{ttl:Oe.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:Oe.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:Oe.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:Oe.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:Oe.ONE_DAY,prompt:!1,tag:0},res:{ttl:Oe.ONE_DAY,prompt:!1,tag:0}}},rd={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},Zn={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},rU="history",nU="0.3",iU="expirer",ei={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},sU="0.3",sce=Oe.ONE_DAY,Ly="verify-api",wl="https://verify.walletconnect.com",Fy="https://verify.walletconnect.org",oU=[wl,Fy],aU="echo",uU="https://echo.walletconnect.com",Uy=class{constructor(e,r){this.core=e,this.logger=r,this.keychain=new Map,this.name=LF,this.version=FF,this.initialized=!1,this.storagePrefix=Zs,this.init=async()=>{if(!this.initialized){let n=await this.getKeyChain();typeof n<"u"&&(this.keychain=n),this.initialized=!0}},this.has=n=>(this.isInitialized(),this.keychain.has(n)),this.set=async(n,i)=>{this.isInitialized(),this.keychain.set(n,i),await this.persist()},this.get=n=>{this.isInitialized();let i=this.keychain.get(n);if(typeof i>"u"){let{message:s}=ne.getInternalError("NO_MATCHING_KEY",`${this.name}: ${n}`);throw new Error(s)}return i},this.del=async n=>{this.isInitialized(),this.keychain.delete(n),await this.persist()},this.core=e,this.logger=wt.generateChildLogger(r,this.name)}get context(){return wt.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,ne.mapToObj(e))}async getKeyChain(){let e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?ne.objToMap(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){let{message:e}=ne.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}},qy=class{constructor(e,r,n){this.core=e,this.logger=r,this.name=BF,this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=i=>(this.isInitialized(),this.keychain.has(i)),this.getClientId=async()=>{this.isInitialized();let i=await this.getClientSeed(),s=My.generateKeyPair(i);return My.encodeIss(s.publicKey)},this.generateKeyPair=()=>{this.isInitialized();let i=ne.generateKeyPair();return this.setPrivateKey(i.publicKey,i.privateKey)},this.signJWT=async i=>{this.isInitialized();let s=await this.getClientSeed(),o=My.generateKeyPair(s),u=ne.generateRandomBytes32(),a=MF;return await My.signJWT(u,i,a,o)},this.generateSharedKey=(i,s,o)=>{this.isInitialized();let u=this.getPrivateKey(i),a=ne.deriveSymKey(u,s);return this.setSymKey(a,o)},this.setSymKey=async(i,s)=>{this.isInitialized();let o=s||ne.hashKey(i);return await this.keychain.set(o,i),o},this.deleteKeyPair=async i=>{this.isInitialized(),await this.keychain.del(i)},this.deleteSymKey=async i=>{this.isInitialized(),await this.keychain.del(i)},this.encode=async(i,s,o)=>{this.isInitialized();let u=ne.validateEncoding(o),a=iF.safeJsonStringify(s);if(ne.isTypeOneEnvelope(u)){let w=u.senderPublicKey,A=u.receiverPublicKey;i=await this.generateSharedKey(w,A)}let c=this.getSymKey(i),{type:f,senderPublicKey:d}=u;return ne.encrypt({type:f,symKey:c,message:a,senderPublicKey:d})},this.decode=async(i,s,o)=>{this.isInitialized();let u=ne.validateDecoding(s,o);if(ne.isTypeOneEnvelope(u)){let a=u.receiverPublicKey,c=u.senderPublicKey;i=await this.generateSharedKey(a,c)}try{let a=this.getSymKey(i),c=ne.decrypt({symKey:a,encoded:s});return iF.safeJsonParse(c)}catch(a){this.logger.error(`Failed to decode message from topic: '${i}', clientId: '${await this.getClientId()}'`),this.logger.error(a)}},this.getPayloadType=i=>{let s=ne.deserialize(i);return ne.decodeTypeByte(s.type)},this.getPayloadSenderPublicKey=i=>{let s=ne.deserialize(i);return s.senderPublicKey?Cae.toString(s.senderPublicKey,ne.BASE16):void 0},this.core=e,this.logger=wt.generateChildLogger(r,this.name),this.keychain=n||new Uy(this.core,this.logger)}get context(){return wt.getLoggerContext(this.logger)}async setPrivateKey(e,r){return await this.keychain.set(e,r),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(jT)}catch{e=ne.generateRandomBytes32(),await this.keychain.set(jT,e)}return tce(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){let{message:e}=ne.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}},Vy=class extends ws.IMessageTracker{constructor(e,r){super(e,r),this.logger=e,this.core=r,this.messages=new Map,this.name=UF,this.version=qF,this.initialized=!1,this.storagePrefix=Zs,this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{let n=await this.getRelayerMessages();typeof n<"u"&&(this.messages=n),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(n){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(n)}finally{this.initialized=!0}}},this.set=async(n,i)=>{this.isInitialized();let s=ne.hashMessage(i),o=this.messages.get(n);return typeof o>"u"&&(o={}),typeof o[s]<"u"||(o[s]=i,this.messages.set(n,o),await this.persist()),s},this.get=n=>{this.isInitialized();let i=this.messages.get(n);return typeof i>"u"&&(i={}),i},this.has=(n,i)=>{this.isInitialized();let s=this.get(n),o=ne.hashMessage(i);return typeof s[o]<"u"},this.del=async n=>{this.isInitialized(),this.messages.delete(n),await this.persist()},this.logger=wt.generateChildLogger(e,this.name),this.core=r}get context(){return wt.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,ne.mapToObj(e))}async getRelayerMessages(){let e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?ne.objToMap(e):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){let{message:e}=ne.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}},QT=class extends ws.IPublisher{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,this.events=new ou.EventEmitter,this.name=kF,this.queue=new Map,this.publishTimeout=Oe.toMiliseconds(Oe.ONE_MINUTE),this.failedPublishTimeout=Oe.toMiliseconds(Oe.ONE_SECOND),this.needsTransportRestart=!1,this.publish=async(n,i,s)=>{var o;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:n,message:i,opts:s}});let u=s?.ttl||VF,a=ne.getRelayProtocolName(s),c=s?.prompt||!1,f=s?.tag||0,d=s?.id||un.getBigIntRpcId().toString(),w={topic:n,message:i,opts:{ttl:u,relay:a,prompt:c,tag:f,id:d}},A=`Failed to publish payload, please try again. id:${d} tag:${f}`,_=Date.now(),N,P=1;try{for(;N===void 0;){if(Date.now()-_>this.publishTimeout)throw new Error(A);this.logger.trace({id:d,attempts:P},`publisher.publish - attempt ${P}`),N=await await ne.createExpiringPromise(this.rpcPublish(n,i,u,a,c,f,d).catch(V=>this.logger.warn(V)),this.publishTimeout,A),P++,N||await new Promise(V=>setTimeout(V,this.failedPublishTimeout))}this.relayer.events.emit(vn.publish,w),this.logger.debug("Successfully Published Payload"),this.logger.trace({type:"method",method:"publish",params:{id:d,topic:n,message:i,opts:s}})}catch(V){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(V),(o=s?.internal)!=null&&o.throwOnFailedPublish)throw V;this.queue.set(d,w)}},this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.relayer=e,this.logger=wt.generateChildLogger(r,this.name),this.registerEventListeners()}get context(){return wt.getLoggerContext(this.logger)}rpcPublish(e,r,n,i,s,o,u){var a,c,f,d;let w={method:ne.getRelayProtocolApi(i.protocol).publish,params:{topic:e,message:r,ttl:n,prompt:s,tag:o},id:u};return ne.isUndefined((a=w.params)==null?void 0:a.prompt)&&((c=w.params)==null||delete c.prompt),ne.isUndefined((f=w.params)==null?void 0:f.tag)&&((d=w.params)==null||delete d.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:w}),this.relayer.request(w)}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async e=>{let{topic:r,message:n,opts:i}=e;await this.publish(r,n,i)})}registerEventListeners(){this.relayer.core.heartbeat.on(nd.HEARTBEAT_EVENTS.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(vn.connection_stalled);return}this.checkQueue()}),this.relayer.on(vn.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}},KT=class{constructor(){this.map=new Map,this.set=(e,r)=>{let n=this.get(e);this.exists(e,r)||this.map.set(e,[...n,r])},this.get=e=>this.map.get(e)||[],this.exists=(e,r)=>this.get(e).includes(r),this.delete=(e,r)=>{if(typeof r>"u"){this.map.delete(e);return}if(!this.map.has(e))return;let n=this.get(e);if(!this.exists(e,r))return;let i=n.filter(s=>s!==r);if(!i.length){this.map.delete(e);return}this.map.set(e,i)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}},oce=Object.defineProperty,ace=Object.defineProperties,uce=Object.getOwnPropertyDescriptors,fF=Object.getOwnPropertySymbols,cce=Object.prototype.hasOwnProperty,lce=Object.prototype.propertyIsEnumerable,hF=(t,e,r)=>e in t?oce(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,td=(t,e)=>{for(var r in e||(e={}))cce.call(e,r)&&hF(t,r,e[r]);if(fF)for(var r of fF(e))lce.call(e,r)&&hF(t,r,e[r]);return t},MT=(t,e)=>ace(t,uce(e)),ky=class extends ws.ISubscriber{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,this.subscriptions=new Map,this.topicMap=new KT,this.events=new ou.EventEmitter,this.name=JF,this.version=XF,this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=Zs,this.subscribeTimeout=Oe.toMiliseconds(Oe.ONE_MINUTE),this.restartInProgress=!1,this.batchSubscribeTopicsLimit=500,this.pendingBatchMessages=[],this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),this.clientId=await this.relayer.core.crypto.getClientId())},this.subscribe=async(n,i)=>{await this.restartToComplete(),this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}});try{let s=ne.getRelayProtocolName(i),o={topic:n,relay:s};this.pending.set(n,o);let u=await this.rpcSubscribe(n,s);return typeof u=="string"&&(this.onSubscribe(u,o),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}})),u}catch(s){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(s),s}},this.unsubscribe=async(n,i)=>{await this.restartToComplete(),this.isInitialized(),typeof i?.id<"u"?await this.unsubscribeById(n,i.id,i):await this.unsubscribeByTopic(n,i)},this.isSubscribed=async n=>{if(this.topics.includes(n))return!0;let i=`${this.pendingSubscriptionWatchLabel}_${n}`;return await new Promise((s,o)=>{let u=new Oe.Watch;u.start(i);let a=setInterval(()=>{!this.pending.has(n)&&this.topics.includes(n)&&(clearInterval(a),u.stop(i),s(!0)),u.elapsed(i)>=ZF&&(clearInterval(a),u.stop(i),o(new Error("Subscription resolution timeout")))},this.pollingInterval)}).catch(()=>!1)},this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.start=async()=>{await this.onConnect()},this.stop=async()=>{await this.onDisconnect()},this.restart=async()=>{this.restartInProgress=!0,await this.restore(),await this.reset(),this.restartInProgress=!1},this.relayer=e,this.logger=wt.generateChildLogger(r,this.name),this.clientId=""}get context(){return wt.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(e,r){let n=!1;try{n=this.getSubscription(e).topic===r}catch{}return n}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,r){let n=this.topicMap.get(e);await Promise.all(n.map(async i=>await this.unsubscribeById(e,i,r)))}async unsubscribeById(e,r,n){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}});try{let i=ne.getRelayProtocolName(n);await this.rpcUnsubscribe(e,r,i);let s=ne.getSdkError("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,r,s),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}})}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(e,r){let n={method:ne.getRelayProtocolApi(r.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{return await await ne.createExpiringPromise(this.relayer.request(n).catch(i=>this.logger.warn(i)),this.subscribeTimeout)?ne.hashMessage(e+this.clientId):null}catch{this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(vn.connection_stalled)}return null}async rpcBatchSubscribe(e){if(!e.length)return;let r=e[0].relay,n={method:ne.getRelayProtocolApi(r.protocol).batchSubscribe,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{return await await ne.createExpiringPromise(this.relayer.request(n).catch(i=>this.logger.warn(i)),this.subscribeTimeout)}catch{this.relayer.events.emit(vn.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;let r=e[0].relay,n={method:ne.getRelayProtocolApi(r.protocol).batchFetchMessages,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});let i;try{i=await await ne.createExpiringPromise(this.relayer.request(n).catch(s=>this.logger.warn(s)),this.subscribeTimeout)}catch{this.relayer.events.emit(vn.connection_stalled)}return i}rpcUnsubscribe(e,r,n){let i={method:ne.getRelayProtocolApi(n.protocol).unsubscribe,params:{topic:e,id:r}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(e,r){this.setSubscription(e,MT(td({},r),{id:e})),this.pending.delete(r.topic)}onBatchSubscribe(e){e.length&&e.forEach(r=>{this.setSubscription(r.id,td({},r)),this.pending.delete(r.topic)})}async onUnsubscribe(e,r,n){this.events.removeAllListeners(r),this.hasSubscription(r,e)&&this.deleteSubscription(r,n),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,r){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:r}),this.addSubscription(e,r)}addSubscription(e,r){this.subscriptions.set(e,td({},r)),this.topicMap.set(r.topic,e),this.events.emit(xi.created,r)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});let r=this.subscriptions.get(e);if(!r){let{message:n}=ne.getInternalError("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}deleteSubscription(e,r){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:r});let n=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(n.topic,e),this.events.emit(xi.deleted,MT(td({},n),{reason:r}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(xi.sync)}async reset(){if(this.cached.length){let e=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<e;r++){let n=this.cached.splice(0,this.batchSubscribeTopicsLimit);await this.batchFetchMessages(n),await this.batchSubscribe(n)}}this.events.emit(xi.resubscribed)}async restore(){try{let e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){let{message:r}=ne.getInternalError("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){if(!e.length)return;let r=await this.rpcBatchSubscribe(e);ne.isValidArray(r)&&this.onBatchSubscribe(r.map((n,i)=>MT(td({},e[i]),{id:n})))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);let r=await this.rpcBatchFetchMessages(e);r&&r.messages&&(this.pendingBatchMessages=this.pendingBatchMessages.concat(r.messages))}async onConnect(){await this.restart(),this.onEnable()}onDisconnect(){this.onDisable()}async checkPending(){if(!this.initialized||!this.relayer.connected)return;let e=[];this.pending.forEach(r=>{e.push(r)}),await this.batchSubscribe(e),this.pendingBatchMessages.length&&(await this.relayer.handleBatchMessageEvents(this.pendingBatchMessages),this.pendingBatchMessages=[])}registerEventListeners(){this.relayer.core.heartbeat.on(nd.HEARTBEAT_EVENTS.pulse,async()=>{await this.checkPending()}),this.events.on(xi.created,async e=>{let r=xi.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),await this.persist()}),this.events.on(xi.deleted,async e=>{let r=xi.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),await this.persist()})}isInitialized(){if(!this.initialized){let{message:e}=ne.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(){this.restartInProgress&&await new Promise(e=>{let r=setInterval(()=>{this.restartInProgress||(clearInterval(r),e())},this.pollingInterval)})}},fce=Object.defineProperty,dF=Object.getOwnPropertySymbols,hce=Object.prototype.hasOwnProperty,dce=Object.prototype.propertyIsEnumerable,gF=(t,e,r)=>e in t?fce(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,gce=(t,e)=>{for(var r in e||(e={}))hce.call(e,r)&&gF(t,r,e[r]);if(dF)for(var r of dF(e))dce.call(e,r)&&gF(t,r,e[r]);return t},Hy=class extends ws.IRelayer{constructor(e){super(e),this.protocol="wc",this.version=2,this.events=new ou.EventEmitter,this.name=jF,this.transportExplicitlyClosed=!1,this.initialized=!1,this.connectionAttemptInProgress=!1,this.connectionStatusPollingInterval=20,this.staleConnectionErrors=["socket hang up","stalled","interrupted"],this.hasExperiencedNetworkDisruption=!1,this.requestsInFlight=new Map,this.heartBeatTimeout=Oe.toMiliseconds(Oe.THIRTY_SECONDS+Oe.ONE_SECOND),this.request=async r=>{var n,i;this.logger.debug("Publishing Request Payload");let s=r.id||un.getBigIntRpcId().toString();await this.toEstablishConnection();try{let o=this.provider.request(r);this.requestsInFlight.set(s,{promise:o,request:r}),this.logger.trace({id:s,method:r.method,topic:(n=r.params)==null?void 0:n.topic},"relayer.request - attempt to publish...");let u=await new Promise(async(a,c)=>{let f=()=>{c(new Error(`relayer.request - publish interrupted, id: ${s}`))};this.provider.on(wn.disconnect,f);let d=await o;this.provider.off(wn.disconnect,f),a(d)});return this.logger.trace({id:s,method:r.method,topic:(i=r.params)==null?void 0:i.topic},"relayer.request - published"),u}catch(o){throw this.logger.debug(`Failed to Publish Request: ${s}`),o}finally{this.requestsInFlight.delete(s)}},this.resetPingTimeout=()=>{if(ne.isNode())try{clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var r,n,i;(i=(n=(r=this.provider)==null?void 0:r.connection)==null?void 0:n.socket)==null||i.terminate()},this.heartBeatTimeout)}catch(r){this.logger.warn(r)}},this.onPayloadHandler=r=>{this.onProviderPayload(r),this.resetPingTimeout()},this.onConnectHandler=()=>{this.startPingTimeout(),this.events.emit(vn.connect)},this.onDisconnectHandler=()=>{this.onProviderDisconnect()},this.onProviderErrorHandler=r=>{this.logger.error(r),this.events.emit(vn.error,r),this.logger.info("Fatal socket error received, closing transport"),this.transportClose()},this.registerProviderListeners=()=>{this.provider.on(wn.payload,this.onPayloadHandler),this.provider.on(wn.connect,this.onConnectHandler),this.provider.on(wn.disconnect,this.onDisconnectHandler),this.provider.on(wn.error,this.onProviderErrorHandler)},this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?wt.generateChildLogger(e.logger,this.name):wt.pino(wt.getDefaultLoggerOptions({level:e.logger||GF})),this.messages=new Vy(this.logger,e.core),this.subscriber=new ky(this,this.logger),this.publisher=new QT(this,this.logger),this.relayUrl=e?.relayUrl||$T,this.projectId=e.projectId,this.bundleId=ne.getBundleId(),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]);try{await this.transportOpen()}catch{this.logger.warn(`Connection via ${this.relayUrl} failed, attempting to connect via failover domain ${zT}...`),await this.restartTransport(zT)}this.initialized=!0,setTimeout(async()=>{this.subscriber.topics.length===0&&this.subscriber.pending.size===0&&(this.logger.info("No topics subscribed to after init, closing transport"),await this.transportClose(),this.transportExplicitlyClosed=!1)},WF)}get context(){return wt.getLoggerContext(this.logger)}get connected(){var e,r,n;return((n=(r=(e=this.provider)==null?void 0:e.connection)==null?void 0:r.socket)==null?void 0:n.readyState)===1}get connecting(){var e,r,n;return((n=(r=(e=this.provider)==null?void 0:e.connection)==null?void 0:r.socket)==null?void 0:n.readyState)===0}async publish(e,r,n){this.isInitialized(),await this.publisher.publish(e,r,n),await this.recordMessageEvent({topic:e,message:r,publishedAt:Date.now()})}async subscribe(e,r){var n;this.isInitialized();let i=((n=this.subscriber.topicMap.get(e))==null?void 0:n[0])||"",s,o=u=>{u.topic===e&&(this.subscriber.off(xi.created,o),s())};return await Promise.all([new Promise(u=>{s=u,this.subscriber.on(xi.created,o)}),new Promise(async u=>{i=await this.subscriber.subscribe(e,r)||i,u()})]),i}async unsubscribe(e,r){this.isInitialized(),await this.subscriber.unsubscribe(e,r)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async transportDisconnect(){if(!this.hasExperiencedNetworkDisruption&&this.connected&&this.requestsInFlight.size>0)try{await Promise.all(Array.from(this.requestsInFlight.values()).map(e=>e.promise))}catch(e){this.logger.warn(e)}this.hasExperiencedNetworkDisruption||this.connected?await ne.createExpiringPromise(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),await this.createProvider(),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;try{await new Promise(async(r,n)=>{let i=()=>{this.provider.off(wn.disconnect,i),n(new Error("Connection interrupted while trying to subscribe"))};this.provider.on(wn.disconnect,i),await ne.createExpiringPromise(this.provider.connect(),Oe.toMiliseconds(Oe.ONE_MINUTE),`Socket stalled when trying to connect to ${this.relayUrl}`).catch(s=>{n(s)}),await this.subscriber.start(),this.hasExperiencedNetworkDisruption=!1,r()})}catch(r){this.logger.error(r);let n=r;if(this.hasExperiencedNetworkDisruption=!0,!this.isConnectionStalled(n.message))throw r}finally{this.connectionAttemptInProgress=!1}}async restartTransport(e){this.connectionAttemptInProgress||(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await ne.isOnline())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if(e?.length===0){this.logger.trace("Batch message events is empty. Ignoring...");return}let r=e.sort((n,i)=>n.publishedAt-i.publishedAt);this.logger.trace(`Batch of ${r.length} message events sorted`);for(let n of r)try{await this.onMessageEvent(n)}catch(i){this.logger.warn(i)}this.logger.trace(`Batch of ${r.length} message events processed`)}startPingTimeout(){var e,r,n,i,s;if(ne.isNode())try{(r=(e=this.provider)==null?void 0:e.connection)!=null&&r.socket&&((s=(i=(n=this.provider)==null?void 0:n.connection)==null?void 0:i.socket)==null||s.once("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o)}}isConnectionStalled(e){return this.staleConnectionErrors.some(r=>e.includes(r))}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();let e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new Nae.JsonRpcProvider(new Mae.default(ne.formatRelayRpcUrl({sdkVersion:KF,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId}))),this.registerProviderListeners()}async recordMessageEvent(e){let{topic:r,message:n}=e;await this.messages.set(r,n)}async shouldIgnoreMessageEvent(e){let{topic:r,message:n}=e;if(!n||n.length===0)return this.logger.debug(`Ignoring invalid/empty message: ${n}`),!0;if(!await this.subscriber.isSubscribed(r))return this.logger.debug(`Ignoring message for non-subscribed topic ${r}`),!0;let i=this.messages.has(r,n);return i&&this.logger.debug(`Ignoring duplicate message: ${n}`),i}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),un.isJsonRpcRequest(e)){if(!e.method.endsWith(zF))return;let r=e.params,{topic:n,message:i,publishedAt:s}=r.data,o={topic:n,message:i,publishedAt:s};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(gce({type:"event",event:r.id},o)),this.events.emit(r.id,o),await this.acknowledgePayload(e),await this.onMessageEvent(o)}else un.isJsonRpcResponse(e)&&this.events.emit(vn.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(this.events.emit(vn.message,e),await this.recordMessageEvent(e))}async acknowledgePayload(e){let r=un.formatJsonRpcResult(e.id,!0);await this.provider.connection.send(r)}unregisterProviderListeners(){this.provider.off(wn.payload,this.onPayloadHandler),this.provider.off(wn.connect,this.onConnectHandler),this.provider.off(wn.disconnect,this.onDisconnectHandler),this.provider.off(wn.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await ne.isOnline();ne.subscribeToNetworkChange(async r=>{e!==r&&(e=r,r?await this.restartTransport().catch(n=>this.logger.error(n)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))})}async onProviderDisconnect(){await this.subscriber.stop(),this.requestsInFlight.clear(),clearTimeout(this.pingTimeout),this.events.emit(vn.disconnect),this.connectionAttemptInProgress=!1,!this.transportExplicitlyClosed&&setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e))},Oe.toMiliseconds(QF))}isInitialized(){if(!this.initialized){let{message:e}=ne.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){await this.confirmOnlineStateOrThrow(),!this.connected&&(this.connectionAttemptInProgress&&await new Promise(e=>{let r=setInterval(()=>{this.connected&&(clearInterval(r),e())},this.connectionStatusPollingInterval)}),await this.transportOpen())}},pce=Object.defineProperty,pF=Object.getOwnPropertySymbols,mce=Object.prototype.hasOwnProperty,yce=Object.prototype.propertyIsEnumerable,mF=(t,e,r)=>e in t?pce(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,yF=(t,e)=>{for(var r in e||(e={}))mce.call(e,r)&&mF(t,r,e[r]);if(pF)for(var r of pF(e))yce.call(e,r)&&mF(t,r,e[r]);return t},Gy=class extends ws.IStore{constructor(e,r,n,i=Zs,s=void 0){super(e,r,n,i),this.core=e,this.logger=r,this.name=n,this.map=new Map,this.version=$F,this.cached=[],this.initialized=!1,this.storagePrefix=Zs,this.recentlyDeleted=[],this.recentlyDeletedLimit=200,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!ne.isUndefined(o)?this.map.set(this.getKey(o),o):ne.isProposalStruct(o)?this.map.set(o.id,o):ne.isSessionStruct(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)},this.set=async(o,u)=>{this.isInitialized(),this.map.has(o)?await this.update(o,u):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:u}),this.map.set(o,u),await this.persist())},this.get=o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o)),this.getAll=o=>(this.isInitialized(),o?this.values.filter(u=>Object.keys(o).every(a=>Lae.default(u[a],o[a]))):this.values),this.update=async(o,u)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:u});let a=yF(yF({},this.getData(o)),u);this.map.set(o,a),await this.persist()},this.delete=async(o,u)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:u}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())},this.logger=wt.generateChildLogger(r,this.name),this.storagePrefix=i,this.getKey=s}get context(){return wt.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){let r=this.map.get(e);if(!r){if(this.recentlyDeleted.includes(e)){let{message:i}=ne.getInternalError("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}let{message:n}=ne.getInternalError("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(n),new Error(n)}return r}async persist(){await this.setDataStore(this.values)}async restore(){try{let e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){let{message:r}=ne.getInternalError("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){let{message:e}=ne.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}},jy=class{constructor(e,r){this.core=e,this.logger=r,this.name=eU,this.version=tU,this.events=new Rae.default,this.initialized=!1,this.storagePrefix=Zs,this.ignoredPayloadTypes=[ne.TYPE_1],this.registeredMethods=[],this.init=async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))},this.register=({methods:n})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...n])]},this.create=async n=>{this.isInitialized();let i=ne.generateRandomBytes32(),s=await this.core.crypto.setSymKey(i),o=ne.calcExpiry(Oe.FIVE_MINUTES),u={protocol:HF},a={topic:s,expiry:o,relay:u,active:!1},c=ne.formatUri({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:i,relay:u,expiryTimestamp:o,methods:n?.methods});return this.core.expirer.set(s,o),await this.pairings.set(s,a),await this.core.relayer.subscribe(s),{topic:s,uri:c}},this.pair=async n=>{this.isInitialized(),this.isValidPair(n);let{topic:i,symKey:s,relay:o,expiryTimestamp:u,methods:a}=ne.parseUri(n.uri),c;if(this.pairings.keys.includes(i)&&(c=this.pairings.get(i),c.active))throw new Error(`Pairing already exists: ${i}. Please try again with a new connection URI.`);let f=u||ne.calcExpiry(Oe.FIVE_MINUTES),d={topic:i,relay:o,expiry:f,active:!1,methods:a};return this.core.expirer.set(i,f),await this.pairings.set(i,d),n.activatePairing&&await this.activate({topic:i}),this.events.emit(rd.create,d),this.core.crypto.keychain.has(i)||await this.core.crypto.setSymKey(s,i),await this.core.relayer.subscribe(i,{relay:o}),d},this.activate=async({topic:n})=>{this.isInitialized();let i=ne.calcExpiry(Oe.THIRTY_DAYS);this.core.expirer.set(n,i),await this.pairings.update(n,{active:!0,expiry:i})},this.ping=async n=>{this.isInitialized(),await this.isValidPing(n);let{topic:i}=n;if(this.pairings.keys.includes(i)){let s=await this.sendRequest(i,"wc_pairingPing",{}),{done:o,resolve:u,reject:a}=ne.createDelayedPromise();this.events.once(ne.engineEvent("pairing_ping",s),({error:c})=>{c?a(c):u()}),await o()}},this.updateExpiry=async({topic:n,expiry:i})=>{this.isInitialized(),await this.pairings.update(n,{expiry:i})},this.updateMetadata=async({topic:n,metadata:i})=>{this.isInitialized(),await this.pairings.update(n,{peerMetadata:i})},this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=async n=>{this.isInitialized(),await this.isValidDisconnect(n);let{topic:i}=n;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",ne.getSdkError("USER_DISCONNECTED")),await this.deletePairing(i))},this.sendRequest=async(n,i,s)=>{let o=un.formatJsonRpcRequest(i,s),u=await this.core.crypto.encode(n,o),a=yl[i].req;return this.core.history.set(n,o),this.core.relayer.publish(n,u,a),o.id},this.sendResult=async(n,i,s)=>{let o=un.formatJsonRpcResult(n,s),u=await this.core.crypto.encode(i,o),a=await this.core.history.get(i,n),c=yl[a.request.method].res;await this.core.relayer.publish(i,u,c),await this.core.history.resolve(o)},this.sendError=async(n,i,s)=>{let o=un.formatJsonRpcError(n,s),u=await this.core.crypto.encode(i,o),a=await this.core.history.get(i,n),c=yl[a.request.method]?yl[a.request.method].res:yl.unregistered_method.res;await this.core.relayer.publish(i,u,c),await this.core.history.resolve(o)},this.deletePairing=async(n,i)=>{await this.core.relayer.unsubscribe(n),await Promise.all([this.pairings.delete(n,ne.getSdkError("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(n),i?Promise.resolve():this.core.expirer.del(n)])},this.cleanup=async()=>{let n=this.pairings.getAll().filter(i=>ne.isExpired(i.expiry));await Promise.all(n.map(i=>this.deletePairing(i.topic)))},this.onRelayEventRequest=n=>{let{topic:i,payload:s}=n;switch(s.method){case"wc_pairingPing":return this.onPairingPingRequest(i,s);case"wc_pairingDelete":return this.onPairingDeleteRequest(i,s);default:return this.onUnknownRpcMethodRequest(i,s)}},this.onRelayEventResponse=async n=>{let{topic:i,payload:s}=n,o=(await this.core.history.get(i,s.id)).request.method;switch(o){case"wc_pairingPing":return this.onPairingPingResponse(i,s);default:return this.onUnknownRpcMethodResponse(o)}},this.onPairingPingRequest=async(n,i)=>{let{id:s}=i;try{this.isValidPing({topic:n}),await this.sendResult(s,n,!0),this.events.emit(rd.ping,{id:s,topic:n})}catch(o){await this.sendError(s,n,o),this.logger.error(o)}},this.onPairingPingResponse=(n,i)=>{let{id:s}=i;setTimeout(()=>{un.isJsonRpcResult(i)?this.events.emit(ne.engineEvent("pairing_ping",s),{}):un.isJsonRpcError(i)&&this.events.emit(ne.engineEvent("pairing_ping",s),{error:i.error})},500)},this.onPairingDeleteRequest=async(n,i)=>{let{id:s}=i;try{this.isValidDisconnect({topic:n}),await this.deletePairing(n),this.events.emit(rd.delete,{id:s,topic:n})}catch(o){await this.sendError(s,n,o),this.logger.error(o)}},this.onUnknownRpcMethodRequest=async(n,i)=>{let{id:s,method:o}=i;try{if(this.registeredMethods.includes(o))return;let u=ne.getSdkError("WC_METHOD_UNSUPPORTED",o);await this.sendError(s,n,u),this.logger.error(u)}catch(u){await this.sendError(s,n,u),this.logger.error(u)}},this.onUnknownRpcMethodResponse=n=>{this.registeredMethods.includes(n)||this.logger.error(ne.getSdkError("WC_METHOD_UNSUPPORTED",n))},this.isValidPair=n=>{var i;if(!ne.isValidParams(n)){let{message:o}=ne.getInternalError("MISSING_OR_INVALID",`pair() params: ${n}`);throw new Error(o)}if(!ne.isValidUrl(n.uri)){let{message:o}=ne.getInternalError("MISSING_OR_INVALID",`pair() uri: ${n.uri}`);throw new Error(o)}let s=ne.parseUri(n.uri);if(!((i=s?.relay)!=null&&i.protocol)){let{message:o}=ne.getInternalError("MISSING_OR_INVALID","pair() uri#relay-protocol");throw new Error(o)}if(!(s!=null&&s.symKey)){let{message:o}=ne.getInternalError("MISSING_OR_INVALID","pair() uri#symKey");throw new Error(o)}if(s!=null&&s.expiryTimestamp&&Oe.toMiliseconds(s?.expiryTimestamp)<Date.now()){let{message:o}=ne.getInternalError("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(o)}},this.isValidPing=async n=>{if(!ne.isValidParams(n)){let{message:s}=ne.getInternalError("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(s)}let{topic:i}=n;await this.isValidPairingTopic(i)},this.isValidDisconnect=async n=>{if(!ne.isValidParams(n)){let{message:s}=ne.getInternalError("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(s)}let{topic:i}=n;await this.isValidPairingTopic(i)},this.isValidPairingTopic=async n=>{if(!ne.isValidString(n,!1)){let{message:i}=ne.getInternalError("MISSING_OR_INVALID",`pairing topic should be a string: ${n}`);throw new Error(i)}if(!this.pairings.keys.includes(n)){let{message:i}=ne.getInternalError("NO_MATCHING_KEY",`pairing topic doesn't exist: ${n}`);throw new Error(i)}if(ne.isExpired(this.pairings.get(n).expiry)){await this.deletePairing(n);let{message:i}=ne.getInternalError("EXPIRED",`pairing topic: ${n}`);throw new Error(i)}},this.core=e,this.logger=wt.generateChildLogger(r,this.name),this.pairings=new Gy(this.core,this.logger,this.name,this.storagePrefix)}get context(){return wt.getLoggerContext(this.logger)}isInitialized(){if(!this.initialized){let{message:e}=ne.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(vn.message,async e=>{let{topic:r,message:n}=e;if(!this.pairings.keys.includes(r)||this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(n)))return;let i=await this.core.crypto.decode(r,n);try{un.isJsonRpcRequest(i)?(this.core.history.set(r,i),this.onRelayEventRequest({topic:r,payload:i})):un.isJsonRpcResponse(i)&&(await this.core.history.resolve(i),await this.onRelayEventResponse({topic:r,payload:i}),this.core.history.delete(r,i.id))}catch(s){this.logger.error(s)}})}registerExpirerEvents(){this.core.expirer.on(ei.expired,async e=>{let{topic:r}=ne.parseExpirerTarget(e.target);r&&this.pairings.keys.includes(r)&&(await this.deletePairing(r,!0),this.events.emit(rd.expire,{topic:r}))})}},zy=class extends ws.IJsonRpcHistory{constructor(e,r){super(e,r),this.core=e,this.logger=r,this.records=new Map,this.events=new ou.EventEmitter,this.name=rU,this.version=nU,this.cached=[],this.initialized=!1,this.storagePrefix=Zs,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.records.set(n.id,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(n,i,s)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:n,request:i,chainId:s}),this.records.has(i.id))return;let o={id:i.id,topic:n,request:{method:i.method,params:i.params||null},chainId:s,expiry:ne.calcExpiry(Oe.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(Zn.created,o)},this.resolve=async n=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:n}),!this.records.has(n.id))return;let i=await this.getRecord(n.id);typeof i.response>"u"&&(i.response=un.isJsonRpcError(n)?{error:n.error}:{result:n.result},this.records.set(i.id,i),this.persist(),this.events.emit(Zn.updated,i))},this.get=async(n,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:n,id:i}),await this.getRecord(i)),this.delete=(n,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(s=>{if(s.topic===n){if(typeof i<"u"&&s.id!==i)return;this.records.delete(s.id),this.events.emit(Zn.deleted,s)}}),this.persist()},this.exists=async(n,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===n:!1),this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.logger=wt.generateChildLogger(r,this.name)}get context(){return wt.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){let e=[];return this.values.forEach(r=>{if(typeof r.response<"u")return;let n={topic:r.topic,request:un.formatJsonRpcRequest(r.request.method,r.request.params,r.id),chainId:r.chainId};return e.push(n)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();let r=this.records.get(e);if(!r){let{message:n}=ne.getInternalError("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(Zn.sync)}async restore(){try{let e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){let{message:r}=ne.getInternalError("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(Zn.created,e=>{let r=Zn.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.events.on(Zn.updated,e=>{let r=Zn.updated;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.events.on(Zn.deleted,e=>{let r=Zn.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.core.heartbeat.on(nd.HEARTBEAT_EVENTS.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(r=>{Oe.toMiliseconds(r.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${r.id}`),this.records.delete(r.id),this.events.emit(Zn.deleted,r,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){let{message:e}=ne.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}},Qy=class extends ws.IExpirer{constructor(e,r){super(e,r),this.core=e,this.logger=r,this.expirations=new Map,this.events=new ou.EventEmitter,this.name=iU,this.version=sU,this.cached=[],this.initialized=!1,this.storagePrefix=Zs,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.expirations.set(n.target,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=n=>{try{let i=this.formatTarget(n);return typeof this.getExpiration(i)<"u"}catch{return!1}},this.set=(n,i)=>{this.isInitialized();let s=this.formatTarget(n),o={target:s,expiry:i};this.expirations.set(s,o),this.checkExpiry(s,o),this.events.emit(ei.created,{target:s,expiration:o})},this.get=n=>{this.isInitialized();let i=this.formatTarget(n);return this.getExpiration(i)},this.del=n=>{if(this.isInitialized(),this.has(n)){let i=this.formatTarget(n),s=this.getExpiration(i);this.expirations.delete(i),this.events.emit(ei.deleted,{target:i,expiration:s})}},this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.logger=wt.generateChildLogger(r,this.name)}get context(){return wt.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return ne.formatTopicTarget(e);if(typeof e=="number")return ne.formatIdTarget(e);let{message:r}=ne.getInternalError("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(r)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(ei.sync)}async restore(){try{let e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){let{message:r}=ne.getInternalError("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){let r=this.expirations.get(e);if(!r){let{message:n}=ne.getInternalError("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(n),new Error(n)}return r}checkExpiry(e,r){let{expiry:n}=r;Oe.toMiliseconds(n)-Date.now()<=0&&this.expire(e,r)}expire(e,r){this.expirations.delete(e),this.events.emit(ei.expired,{target:e,expiration:r})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,r)=>this.checkExpiry(r,e))}registerEventListeners(){this.core.heartbeat.on(nd.HEARTBEAT_EVENTS.pulse,()=>this.checkExpirations()),this.events.on(ei.created,e=>{let r=ei.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(ei.expired,e=>{let r=ei.expired;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(ei.deleted,e=>{let r=ei.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()})}isInitialized(){if(!this.initialized){let{message:e}=ne.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}},Ky=class extends ws.IVerify{constructor(e,r){super(e,r),this.projectId=e,this.logger=r,this.name=Ly,this.initialized=!1,this.queue=[],this.verifyDisabled=!1,this.init=async n=>{if(this.verifyDisabled||ne.isReactNative()||!ne.isBrowser())return;let i=this.getVerifyUrl(n?.verifyUrl);this.verifyUrl!==i&&this.removeIframe(),this.verifyUrl=i;try{await this.createIframe()}catch(s){this.logger.info(`Verify iframe failed to load: ${this.verifyUrl}`),this.logger.info(s)}if(!this.initialized){this.removeIframe(),this.verifyUrl=Fy;try{await this.createIframe()}catch(s){this.logger.info(`Verify iframe failed to load: ${this.verifyUrl}`),this.logger.info(s),this.verifyDisabled=!0}}},this.register=async n=>{this.initialized?this.sendPost(n.attestationId):(this.addToQueue(n.attestationId),await this.init())},this.resolve=async n=>{if(this.isDevEnv)return"";let i=this.getVerifyUrl(n?.verifyUrl),s;try{s=await this.fetchAttestation(n.attestationId,i)}catch(o){this.logger.info(`failed to resolve attestation: ${n.attestationId} from url: ${i}`),this.logger.info(o),s=await this.fetchAttestation(n.attestationId,Fy)}return s},this.fetchAttestation=async(n,i)=>{this.logger.info(`resolving attestation: ${n} from url: ${i}`);let s=this.startAbortTimer(Oe.ONE_SECOND*2),o=await fetch(`${i}/attestation/${n}`,{signal:this.abortController.signal});return clearTimeout(s),o.status===200?await o.json():void 0},this.addToQueue=n=>{this.queue.push(n)},this.processQueue=()=>{this.queue.length!==0&&(this.queue.forEach(n=>this.sendPost(n)),this.queue=[])},this.sendPost=n=>{var i;try{if(!this.iframe)return;(i=this.iframe.contentWindow)==null||i.postMessage(n,"*"),this.logger.info(`postMessage sent: ${n} ${this.verifyUrl}`)}catch{}},this.createIframe=async()=>{let n,i=s=>{s.data==="verify_ready"&&(this.onInit(),window.removeEventListener("message",i),n())};await Promise.race([new Promise(s=>{let o=document.getElementById(Ly);if(o)return this.iframe=o,this.onInit(),s();window.addEventListener("message",i);let u=document.createElement("iframe");u.id=Ly,u.src=`${this.verifyUrl}/${this.projectId}`,u.style.display="none",document.body.append(u),this.iframe=u,n=s}),new Promise((s,o)=>setTimeout(()=>{window.removeEventListener("message",i),o("verify iframe load timeout")},Oe.toMiliseconds(Oe.FIVE_SECONDS)))])},this.onInit=()=>{this.initialized=!0,this.processQueue()},this.removeIframe=()=>{this.iframe&&(this.iframe.remove(),this.iframe=void 0,this.initialized=!1)},this.getVerifyUrl=n=>{let i=n||wl;return oU.includes(i)||(this.logger.info(`verify url: ${i}, not included in trusted list, assigning default: ${wl}`),i=wl),i},this.logger=wt.generateChildLogger(r,this.name),this.verifyUrl=wl,this.abortController=new AbortController,this.isDevEnv=ne.isNode()&&S.default.env.IS_VITEST}get context(){return wt.getLoggerContext(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),Oe.toMiliseconds(e))}},Wy=class extends ws.IEchoClient{constructor(e,r){super(e,r),this.projectId=e,this.logger=r,this.context=aU,this.registerDeviceToken=async n=>{let{clientId:i,token:s,notificationType:o,enableEncrypted:u=!1}=n,a=`${uU}/${this.projectId}/clients`;await Fae.default(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:i,type:o,token:s,always_raw:u})})},this.logger=wt.generateChildLogger(r,this.context)}},wce=Object.defineProperty,wF=Object.getOwnPropertySymbols,vce=Object.prototype.hasOwnProperty,Ace=Object.prototype.propertyIsEnumerable,vF=(t,e,r)=>e in t?wce(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,AF=(t,e)=>{for(var r in e||(e={}))vce.call(e,r)&&vF(t,r,e[r]);if(wF)for(var r of wF(e))Ace.call(e,r)&&vF(t,r,e[r]);return t},$y=class t extends ws.ICore{constructor(e){var r;super(e),this.protocol=WT,this.version=DF,this.name=Jy,this.events=new ou.EventEmitter,this.initialized=!1,this.on=(o,u)=>this.events.on(o,u),this.once=(o,u)=>this.events.once(o,u),this.off=(o,u)=>this.events.off(o,u),this.removeListener=(o,u)=>this.events.removeListener(o,u),this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||$T,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";let n=wt.getDefaultLoggerOptions({level:typeof e?.logger=="string"&&e.logger?e.logger:PF.logger}),{logger:i,chunkLoggerController:s}=wt.generatePlatformLogger({opts:n,maxSizeInBytes:e?.maxLogBlobSizeInBytes,loggerOverride:e?.logger});this.logChunkController=s,(r=this.logChunkController)!=null&&r.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var o,u;(o=this.logChunkController)!=null&&o.downloadLogsBlobInBrowser&&((u=this.logChunkController)==null||u.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=wt.generateChildLogger(i,this.name),this.heartbeat=new nd.HeartBeat,this.crypto=new qy(this,this.logger,e?.keychain),this.history=new zy(this,this.logger),this.expirer=new Qy(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new Bae.default(AF(AF({},RF),e?.storageOptions)),this.relayer=new Hy({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new jy(this,this.logger),this.verify=new Ky(this.projectId||"",this.logger),this.echoClient=new Wy(this.projectId||"",this.logger)}static async init(e){let r=new t(e);await r.initialize();let n=await r.crypto.getClientId();return await r.storage.setItem(YF,n),r}get context(){return wt.getLoggerContext(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}},Ece=$y;he.CORE_CONTEXT=Jy,he.CORE_DEFAULT=PF,he.CORE_PROTOCOL=WT,he.CORE_STORAGE_OPTIONS=RF,he.CORE_STORAGE_PREFIX=Zs,he.CORE_VERSION=DF,he.CRYPTO_CLIENT_SEED=jT,he.CRYPTO_CONTEXT=BF,he.CRYPTO_JWT_TTL=MF,he.Core=Ece,he.Crypto=qy,he.ECHO_CONTEXT=aU,he.ECHO_URL=uU,he.EXPIRER_CONTEXT=iU,he.EXPIRER_DEFAULT_TTL=sce,he.EXPIRER_EVENTS=ei,he.EXPIRER_STORAGE_VERSION=sU,he.EchoClient=Wy,he.Expirer=Qy,he.HISTORY_CONTEXT=rU,he.HISTORY_EVENTS=Zn,he.HISTORY_STORAGE_VERSION=nU,he.JsonRpcHistory=zy,he.KEYCHAIN_CONTEXT=LF,he.KEYCHAIN_STORAGE_VERSION=FF,he.KeyChain=Uy,he.MESSAGES_CONTEXT=UF,he.MESSAGES_STORAGE_VERSION=qF,he.MessageTracker=Vy,he.PAIRING_CONTEXT=eU,he.PAIRING_DEFAULT_TTL=ice,he.PAIRING_EVENTS=rd,he.PAIRING_RPC_OPTS=yl,he.PAIRING_STORAGE_VERSION=tU,he.PENDING_SUB_RESOLUTION_TIMEOUT=ZF,he.PUBLISHER_CONTEXT=kF,he.PUBLISHER_DEFAULT_TTL=VF,he.Pairing=jy,he.RELAYER_CONTEXT=jF,he.RELAYER_DEFAULT_LOGGER=GF,he.RELAYER_DEFAULT_PROTOCOL=HF,he.RELAYER_DEFAULT_RELAY_URL=$T,he.RELAYER_EVENTS=vn,he.RELAYER_FAILOVER_RELAY_URL=zT,he.RELAYER_PROVIDER_EVENTS=wn,he.RELAYER_RECONNECT_TIMEOUT=QF,he.RELAYER_SDK_VERSION=KF,he.RELAYER_STORAGE_OPTIONS=rce,he.RELAYER_SUBSCRIBER_SUFFIX=zF,he.RELAYER_TRANSPORT_CUTOFF=WF,he.Relayer=Hy,he.STORE_STORAGE_VERSION=$F,he.SUBSCRIBER_CONTEXT=JF,he.SUBSCRIBER_DEFAULT_TTL=nce,he.SUBSCRIBER_EVENTS=xi,he.SUBSCRIBER_STORAGE_VERSION=XF,he.Store=Gy,he.Subscriber=ky,he.TRUSTED_VERIFY_URLS=oU,he.VERIFY_CONTEXT=Ly,he.VERIFY_FALLBACK_SERVER=Fy,he.VERIFY_SERVER=wl,he.Verify=Ky,he.WALLETCONNECT_CLIENT_ID=YF,he.default=$y});var _U=D(Be=>{"use strict";h();Object.defineProperty(Be,"__esModule",{value:!0});var cn=cU(),Xy=(xS(),xe(NS)),hU=WS(),G=jh(),dU=Os(),je=Bc(),qe=($h(),xe(Ur));function bce(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}var Sce=bce(dU),i2="wc",s2=2,o2="client",n1=`${i2}@${s2}:${o2}:`,Zy={name:o2,logger:"error",controller:!1,relayUrl:"wss://relay.walletconnect.com"},Ice={session_proposal:"session_proposal",session_update:"session_update",session_extend:"session_extend",session_ping:"session_ping",session_delete:"session_delete",session_expire:"session_expire",session_request:"session_request",session_request_sent:"session_request_sent",session_event:"session_event",proposal_expire:"proposal_expire",session_authenticate:"session_authenticate",session_request_expire:"session_request_expire"},_ce={database:":memory:"},YT="WALLETCONNECT_DEEPLINK_CHOICE",Tce={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},Cce="history",Nce="0.3",gU="proposal",xce=je.THIRTY_DAYS,pU="Proposal expired",mU="session",uu=je.SEVEN_DAYS,yU="engine",Sr={wc_sessionPropose:{req:{ttl:je.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:je.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:je.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:je.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:je.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:je.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:je.ONE_DAY,prompt:!1,tag:1104},res:{ttl:je.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:je.ONE_DAY,prompt:!1,tag:1106},res:{ttl:je.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:je.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:je.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:je.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:je.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:je.ONE_DAY,prompt:!1,tag:1112},res:{ttl:je.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:je.ONE_DAY,prompt:!1,tag:1114},res:{ttl:je.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:je.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:je.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:je.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:je.FIVE_MINUTES,prompt:!1,tag:1119}}},e1={min:je.FIVE_MINUTES,max:je.SEVEN_DAYS},Oi={idle:"IDLE",active:"ACTIVE"},wU="request",vU=["wc_sessionPropose","wc_sessionRequest","wc_authRequest"],AU="wc",Oce=1.5,EU="auth",bU="authKeys",SU="pairingTopics",IU="requests",ad=`${AU}@${1.5}:${EU}:`,od=`${ad}:PUB_KEY`,Dce=Object.defineProperty,Pce=Object.defineProperties,Rce=Object.getOwnPropertyDescriptors,lU=Object.getOwnPropertySymbols,Bce=Object.prototype.hasOwnProperty,Mce=Object.prototype.propertyIsEnumerable,fU=(t,e,r)=>e in t?Dce(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,gr=(t,e)=>{for(var r in e||(e={}))Bce.call(e,r)&&fU(t,r,e[r]);if(lU)for(var r of lU(e))Mce.call(e,r)&&fU(t,r,e[r]);return t},au=(t,e)=>Pce(t,Rce(e)),JT=class extends hU.IEngine{constructor(e){super(e),this.name=yU,this.events=new Sce.default,this.initialized=!1,this.requestQueue={state:Oi.idle,queue:[]},this.sessionRequestQueue={state:Oi.idle,queue:[]},this.requestQueueDelay=je.ONE_SECOND,this.expectedPairingMethodMap=new Map,this.recentlyDeletedMap=new Map,this.recentlyDeletedLimit=200,this.init=async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),this.client.core.pairing.register({methods:Object.keys(Sr)}),this.initialized=!0,setTimeout(()=>{this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},je.toMiliseconds(this.requestQueueDelay)))},this.connect=async r=>{await this.isInitialized();let n=au(gr({},r),{requiredNamespaces:r.requiredNamespaces||{},optionalNamespaces:r.optionalNamespaces||{}});await this.isValidConnect(n);let{pairingTopic:i,requiredNamespaces:s,optionalNamespaces:o,sessionProperties:u,relays:a}=n,c=i,f,d=!1;try{c&&(d=this.client.core.pairing.pairings.get(c).active)}catch(L){throw this.client.logger.error(`connect() -> pairing.get(${c}) failed`),L}if(!c||!d){let{topic:L,uri:k}=await this.client.core.pairing.create();c=L,f=k}if(!c){let{message:L}=G.getInternalError("NO_MATCHING_KEY",`connect() pairing topic: ${c}`);throw new Error(L)}let w=await this.client.core.crypto.generateKeyPair(),A=Sr.wc_sessionPropose.req.ttl||je.FIVE_MINUTES,_=G.calcExpiry(A),N=gr({requiredNamespaces:s,optionalNamespaces:o,relays:a??[{protocol:cn.RELAYER_DEFAULT_PROTOCOL}],proposer:{publicKey:w,metadata:this.client.metadata},expiryTimestamp:_,pairingTopic:c},u&&{sessionProperties:u}),{reject:P,resolve:V,done:U}=G.createDelayedPromise(A,pU);this.events.once(G.engineEvent("session_connect"),async({error:L,session:k})=>{if(L)P(L);else if(k){k.self.publicKey=w;let H=au(gr({},k),{pairingTopic:N.pairingTopic,requiredNamespaces:N.requiredNamespaces,optionalNamespaces:N.optionalNamespaces});await this.client.session.set(k.topic,H),await this.setExpiry(k.topic,k.expiry),c&&await this.client.core.pairing.updateMetadata({topic:c,metadata:k.peer.metadata}),this.cleanupDuplicatePairings(H),V(H)}});let Q=await this.sendRequest({topic:c,method:"wc_sessionPropose",params:N,throwOnFailedPublish:!0});return await this.setProposal(Q,gr({id:Q},N)),{uri:f,approval:U}},this.pair=async r=>{await this.isInitialized();try{return await this.client.core.pairing.pair(r)}catch(n){throw this.client.logger.error("pair() failed"),n}},this.approve=async r=>{await this.isInitialized();try{await this.isValidApprove(r)}catch(U){throw this.client.logger.error("approve() -> isValidApprove() failed"),U}let{id:n,relayProtocol:i,namespaces:s,sessionProperties:o,sessionConfig:u}=r,a;try{a=this.client.proposal.get(n)}catch(U){throw this.client.logger.error(`approve() -> proposal.get(${n}) failed`),U}let{pairingTopic:c,proposer:f,requiredNamespaces:d,optionalNamespaces:w}=a,A=await this.client.core.crypto.generateKeyPair(),_=f.publicKey,N=await this.client.core.crypto.generateSharedKey(A,_),P=gr(gr({relay:{protocol:i??"irn"},namespaces:s,controller:{publicKey:A,metadata:this.client.metadata},expiry:G.calcExpiry(uu)},o&&{sessionProperties:o}),u&&{sessionConfig:u});await this.client.core.relayer.subscribe(N);let V=au(gr({},P),{topic:N,requiredNamespaces:d,optionalNamespaces:w,pairingTopic:c,acknowledged:!1,self:P.controller,peer:{publicKey:f.publicKey,metadata:f.metadata},controller:A});await this.client.session.set(N,V);try{await this.sendResult({id:n,topic:c,result:{relay:{protocol:i??"irn"},responderPublicKey:A},throwOnFailedPublish:!0}),await this.sendRequest({topic:N,method:"wc_sessionSettle",params:P,throwOnFailedPublish:!0})}catch(U){throw this.client.logger.error(U),this.client.session.delete(N,G.getSdkError("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(N),U}return await this.client.core.pairing.updateMetadata({topic:c,metadata:f.metadata}),await this.client.proposal.delete(n,G.getSdkError("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:c}),await this.setExpiry(N,G.calcExpiry(uu)),{topic:N,acknowledged:()=>new Promise(U=>setTimeout(()=>U(this.client.session.get(N)),500))}},this.reject=async r=>{await this.isInitialized();try{await this.isValidReject(r)}catch(o){throw this.client.logger.error("reject() -> isValidReject() failed"),o}let{id:n,reason:i}=r,s;try{s=this.client.proposal.get(n).pairingTopic}catch(o){throw this.client.logger.error(`reject() -> proposal.get(${n}) failed`),o}s&&(await this.sendError({id:n,topic:s,error:i,rpcOpts:Sr.wc_sessionPropose.reject}),await this.client.proposal.delete(n,G.getSdkError("USER_DISCONNECTED")))},this.update=async r=>{await this.isInitialized();try{await this.isValidUpdate(r)}catch(d){throw this.client.logger.error("update() -> isValidUpdate() failed"),d}let{topic:n,namespaces:i}=r,{done:s,resolve:o,reject:u}=G.createDelayedPromise(),a=qe.payloadId(),c=qe.getBigIntRpcId().toString(),f=this.client.session.get(n).namespaces;return this.events.once(G.engineEvent("session_update",a),({error:d})=>{d?u(d):o()}),await this.client.session.update(n,{namespaces:i}),await this.sendRequest({topic:n,method:"wc_sessionUpdate",params:{namespaces:i},throwOnFailedPublish:!0,clientRpcId:a,relayRpcId:c}).catch(d=>{this.client.logger.error(d),this.client.session.update(n,{namespaces:f}),u(d)}),{acknowledged:s}},this.extend=async r=>{await this.isInitialized();try{await this.isValidExtend(r)}catch(a){throw this.client.logger.error("extend() -> isValidExtend() failed"),a}let{topic:n}=r,i=qe.payloadId(),{done:s,resolve:o,reject:u}=G.createDelayedPromise();return this.events.once(G.engineEvent("session_extend",i),({error:a})=>{a?u(a):o()}),await this.setExpiry(n,G.calcExpiry(uu)),this.sendRequest({topic:n,method:"wc_sessionExtend",params:{},clientRpcId:i,throwOnFailedPublish:!0}).catch(a=>{u(a)}),{acknowledged:s}},this.request=async r=>{await this.isInitialized();try{await this.isValidRequest(r)}catch(A){throw this.client.logger.error("request() -> isValidRequest() failed"),A}let{chainId:n,request:i,topic:s,expiry:o=Sr.wc_sessionRequest.req.ttl}=r,u=this.client.session.get(s),a=qe.payloadId(),c=qe.getBigIntRpcId().toString(),{done:f,resolve:d,reject:w}=G.createDelayedPromise(o,"Request expired. Please try again.");return this.events.once(G.engineEvent("session_request",a),({error:A,result:_})=>{A?w(A):d(_)}),await Promise.all([new Promise(async A=>{await this.sendRequest({clientRpcId:a,relayRpcId:c,topic:s,method:"wc_sessionRequest",params:{request:au(gr({},i),{expiryTimestamp:G.calcExpiry(o)}),chainId:n},expiry:o,throwOnFailedPublish:!0}).catch(_=>w(_)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:n,id:a}),A()}),new Promise(async A=>{var _;if(!((_=u.sessionConfig)!=null&&_.disableDeepLink)){let N=await G.getDeepLink(this.client.core.storage,YT);G.handleDeeplinkRedirect({id:a,topic:s,wcDeepLink:N})}A()}),f()]).then(A=>A[2])},this.respond=async r=>{await this.isInitialized(),await this.isValidRespond(r);let{topic:n,response:i}=r,{id:s}=i;qe.isJsonRpcResult(i)?await this.sendResult({id:s,topic:n,result:i.result,throwOnFailedPublish:!0}):qe.isJsonRpcError(i)&&await this.sendError({id:s,topic:n,error:i.error}),this.cleanupAfterResponse(r)},this.ping=async r=>{await this.isInitialized();try{await this.isValidPing(r)}catch(i){throw this.client.logger.error("ping() -> isValidPing() failed"),i}let{topic:n}=r;if(this.client.session.keys.includes(n)){let i=qe.payloadId(),s=qe.getBigIntRpcId().toString(),{done:o,resolve:u,reject:a}=G.createDelayedPromise();this.events.once(G.engineEvent("session_ping",i),({error:c})=>{c?a(c):u()}),await Promise.all([this.sendRequest({topic:n,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:i,relayRpcId:s}),o()])}else this.client.core.pairing.pairings.keys.includes(n)&&await this.client.core.pairing.ping({topic:n})},this.emit=async r=>{await this.isInitialized(),await this.isValidEmit(r);let{topic:n,event:i,chainId:s}=r,o=qe.getBigIntRpcId().toString();await this.sendRequest({topic:n,method:"wc_sessionEvent",params:{event:i,chainId:s},throwOnFailedPublish:!0,relayRpcId:o})},this.disconnect=async r=>{await this.isInitialized(),await this.isValidDisconnect(r);let{topic:n}=r;if(this.client.session.keys.includes(n))await this.sendRequest({topic:n,method:"wc_sessionDelete",params:G.getSdkError("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:n,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(n))await this.client.core.pairing.disconnect({topic:n});else{let{message:i}=G.getInternalError("MISMATCHED_TOPIC",`Session or pairing topic not found: ${n}`);throw new Error(i)}},this.find=r=>(this.isInitialized(),this.client.session.getAll().filter(n=>G.isSessionCompatible(n,r))),this.getPendingSessionRequests=()=>this.client.pendingRequest.getAll(),this.authenticate=async r=>{this.isInitialized(),this.isValidAuthenticate(r);let{chains:n,statement:i="",uri:s,domain:o,nonce:u,type:a,exp:c,nbf:f,methods:d=[],expiry:w}=r,A=[...r.resources||[]],{topic:_,uri:N}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"]});this.client.logger.info({message:"Generated new pairing",pairing:{topic:_,uri:N}});let P=await this.client.core.crypto.generateKeyPair(),V=G.hashKey(P);if(await Promise.all([this.client.auth.authKeys.set(od,{responseTopic:V,publicKey:P}),this.client.auth.pairingTopics.set(V,{topic:V,pairingTopic:_})]),await this.client.core.relayer.subscribe(V),this.client.logger.info(`sending request to new pairing topic: ${_}`),d.length>0){let{namespace:l}=G.parseChainId(n[0]),g=G.createEncodedRecap(l,"request",d);G.getRecapFromResources(A)&&(g=G.mergeEncodedRecaps(g,A.pop())),A.push(g)}let U=w&&w>Sr.wc_sessionAuthenticate.req.ttl?w:Sr.wc_sessionAuthenticate.req.ttl,Q={authPayload:{type:a??"caip122",chains:n,statement:i,aud:s,domain:o,version:"1",nonce:u,iat:new Date().toISOString(),exp:c,nbf:f,resources:A},requester:{publicKey:P,metadata:this.client.metadata},expiryTimestamp:G.calcExpiry(U)},L={eip155:{chains:n,methods:[...new Set(["personal_sign",...d])],events:["chainChanged","accountsChanged"]}},k={requiredNamespaces:{},optionalNamespaces:L,relays:[{protocol:"irn"}],pairingTopic:_,proposer:{publicKey:P,metadata:this.client.metadata},expiryTimestamp:G.calcExpiry(Sr.wc_sessionPropose.req.ttl)},{done:H,resolve:q,reject:v}=G.createDelayedPromise(U,"Request expired"),C=async({error:l,session:g})=>{if(this.events.off(G.engineEvent("session_request",F),R),l)v(l);else if(g){g.self.publicKey=P,await this.client.session.set(g.topic,g),await this.setExpiry(g.topic,g.expiry),_&&await this.client.core.pairing.updateMetadata({topic:_,metadata:g.peer.metadata});let y=this.client.session.get(g.topic);await this.deleteProposal(B),q({session:y})}},R=async l=>{if(await this.deletePendingAuthRequest(F,{message:"fulfilled",code:0}),l.error){let x=G.getSdkError("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return l.error.code===x.code?void 0:(this.events.off(G.engineEvent("session_connect"),C),v(l.error.message))}await this.deleteProposal(B),this.events.off(G.engineEvent("session_connect"),C);let{cacaos:g,responder:y}=l.result,E=[],I=[];for(let x of g){await G.validateSignedCacao({cacao:x,projectId:this.client.core.projectId})||(this.client.logger.error(x,"Signature verification failed"),v(G.getSdkError("SESSION_SETTLEMENT_FAILED","Signature verification failed")));let{p:m}=x,O=G.getRecapFromResources(m.resources),Y=[G.getNamespacedDidChainId(m.iss)],$=G.getDidAddress(m.iss);if(O){let b=G.getMethodsFromRecap(O),j=G.getChainsFromRecap(O);E.push(...b),Y.push(...j)}for(let b of Y)I.push(`${b}:${$}`)}let T=await this.client.core.crypto.generateSharedKey(P,y.publicKey),M;E.length>0&&(M={topic:T,acknowledged:!0,self:{publicKey:P,metadata:this.client.metadata},peer:y,controller:y.publicKey,expiry:G.calcExpiry(uu),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:_,namespaces:G.buildNamespacesFromAuth([...new Set(E)],[...new Set(I)])},await this.client.core.relayer.subscribe(T),await this.client.session.set(T,M),M=this.client.session.get(T)),q({auths:g,session:M})},F=qe.payloadId(),B=qe.payloadId();this.events.once(G.engineEvent("session_connect"),C),this.events.once(G.engineEvent("session_request",F),R);try{await Promise.all([this.sendRequest({topic:_,method:"wc_sessionAuthenticate",params:Q,expiry:r.expiry,throwOnFailedPublish:!0,clientRpcId:F}),this.sendRequest({topic:_,method:"wc_sessionPropose",params:k,expiry:Sr.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:B})])}catch(l){throw this.events.off(G.engineEvent("session_connect"),C),this.events.off(G.engineEvent("session_request",F),R),l}return await this.setProposal(B,gr({id:B},k)),await this.setAuthRequest(F,{request:au(gr({},Q),{verifyContext:{}}),pairingTopic:_}),{uri:N,response:H}},this.approveSessionAuthenticate=async r=>{this.isInitialized();let{id:n,auths:i}=r,s=this.getPendingAuthRequest(n);if(!s)throw new Error(`Could not find pending auth request with id ${n}`);let o=s.requester.publicKey,u=await this.client.core.crypto.generateKeyPair(),a=G.hashKey(o),c={type:G.TYPE_1,receiverPublicKey:o,senderPublicKey:u},f=[],d=[];for(let _ of i){if(!await G.validateSignedCacao({cacao:_,projectId:this.client.core.projectId})){let Q=G.getSdkError("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:n,topic:a,error:Q,encodeOpts:c}),new Error(Q.message)}let{p:N}=_,P=G.getRecapFromResources(N.resources),V=[G.getNamespacedDidChainId(N.iss)],U=G.getDidAddress(N.iss);if(P){let Q=G.getMethodsFromRecap(P),L=G.getChainsFromRecap(P);f.push(...Q),V.push(...L)}for(let Q of V)d.push(`${Q}:${U}`)}let w=await this.client.core.crypto.generateSharedKey(u,o),A;return f?.length>0&&(A={topic:w,acknowledged:!0,self:{publicKey:u,metadata:this.client.metadata},peer:{publicKey:o,metadata:s.requester.metadata},controller:o,expiry:G.calcExpiry(uu),authentication:i,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:"",namespaces:G.buildNamespacesFromAuth([...new Set(f)],[...new Set(d)])},await this.client.core.relayer.subscribe(w),await this.client.session.set(w,A)),await this.sendResult({topic:a,id:n,result:{cacaos:i,responder:{publicKey:u,metadata:this.client.metadata}},encodeOpts:c,throwOnFailedPublish:!0}),await this.client.auth.requests.delete(n,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:s.pairingTopic}),{session:A}},this.rejectSessionAuthenticate=async r=>{await this.isInitialized();let{id:n,reason:i}=r,s=this.getPendingAuthRequest(n);if(!s)throw new Error(`Could not find pending auth request with id ${n}`);let o=s.requester.publicKey,u=await this.client.core.crypto.generateKeyPair(),a=G.hashKey(o),c={type:G.TYPE_1,receiverPublicKey:o,senderPublicKey:u};await this.sendError({id:n,topic:a,error:i,encodeOpts:c,rpcOpts:Sr.wc_sessionAuthenticate.reject}),await this.client.auth.requests.delete(n,{message:"rejected",code:0}),await this.client.proposal.delete(n,G.getSdkError("USER_DISCONNECTED"))},this.formatAuthMessage=r=>{this.isInitialized();let{request:n,iss:i}=r;return G.formatMessage(n,i)},this.cleanupDuplicatePairings=async r=>{if(r.pairingTopic)try{let n=this.client.core.pairing.pairings.get(r.pairingTopic),i=this.client.core.pairing.pairings.getAll().filter(s=>{var o,u;return((o=s.peerMetadata)==null?void 0:o.url)&&((u=s.peerMetadata)==null?void 0:u.url)===r.peer.metadata.url&&s.topic&&s.topic!==n.topic});if(i.length===0)return;this.client.logger.info(`Cleaning up ${i.length} duplicate pairing(s)`),await Promise.all(i.map(s=>this.client.core.pairing.disconnect({topic:s.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(n){this.client.logger.error(n)}},this.deleteSession=async r=>{var n;let{topic:i,expirerHasDeleted:s=!1,emitEvent:o=!0,id:u=0}=r,{self:a}=this.client.session.get(i);await this.client.core.relayer.unsubscribe(i),await this.client.session.delete(i,G.getSdkError("USER_DISCONNECTED")),this.addToRecentlyDeleted(i,"session"),this.client.core.crypto.keychain.has(a.publicKey)&&await this.client.core.crypto.deleteKeyPair(a.publicKey),this.client.core.crypto.keychain.has(i)&&await this.client.core.crypto.deleteSymKey(i),s||this.client.core.expirer.del(i),this.client.core.storage.removeItem(YT).catch(c=>this.client.logger.warn(c)),this.getPendingSessionRequests().forEach(c=>{c.topic===i&&this.deletePendingSessionRequest(c.id,G.getSdkError("USER_DISCONNECTED"))}),i===((n=this.sessionRequestQueue.queue[0])==null?void 0:n.topic)&&(this.sessionRequestQueue.state=Oi.idle),o&&this.client.events.emit("session_delete",{id:u,topic:i})},this.deleteProposal=async(r,n)=>{await Promise.all([this.client.proposal.delete(r,G.getSdkError("USER_DISCONNECTED")),n?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"proposal")},this.deletePendingSessionRequest=async(r,n,i=!1)=>{await Promise.all([this.client.pendingRequest.delete(r,n),i?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(s=>s.id!==r),i&&(this.sessionRequestQueue.state=Oi.idle,this.client.events.emit("session_request_expire",{id:r}))},this.deletePendingAuthRequest=async(r,n,i=!1)=>{await Promise.all([this.client.auth.requests.delete(r,n),i?Promise.resolve():this.client.core.expirer.del(r)])},this.setExpiry=async(r,n)=>{this.client.session.keys.includes(r)&&(this.client.core.expirer.set(r,n),await this.client.session.update(r,{expiry:n}))},this.setProposal=async(r,n)=>{this.client.core.expirer.set(r,G.calcExpiry(Sr.wc_sessionPropose.req.ttl)),await this.client.proposal.set(r,n)},this.setAuthRequest=async(r,n)=>{let{request:i,pairingTopic:s}=n;this.client.core.expirer.set(r,i.expiryTimestamp),await this.client.auth.requests.set(r,{authPayload:i.authPayload,requester:i.requester,expiryTimestamp:i.expiryTimestamp,id:r,pairingTopic:s,verifyContext:i.verifyContext})},this.setPendingSessionRequest=async r=>{let{id:n,topic:i,params:s,verifyContext:o}=r,u=s.request.expiryTimestamp||G.calcExpiry(Sr.wc_sessionRequest.req.ttl);this.client.core.expirer.set(n,u),await this.client.pendingRequest.set(n,{id:n,topic:i,params:s,verifyContext:o})},this.sendRequest=async r=>{let{topic:n,method:i,params:s,expiry:o,relayRpcId:u,clientRpcId:a,throwOnFailedPublish:c}=r,f=qe.formatJsonRpcRequest(i,s,a);if(G.isBrowser()&&vU.includes(i)){let A=G.hashMessage(JSON.stringify(f));this.client.core.verify.register({attestationId:A})}let d;try{d=await this.client.core.crypto.encode(n,f)}catch(A){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${n} failed`),A}let w=Sr[i].req;return o&&(w.ttl=o),u&&(w.id=u),this.client.core.history.set(n,f),c?(w.internal=au(gr({},w.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(n,d,w)):this.client.core.relayer.publish(n,d,w).catch(A=>this.client.logger.error(A)),f.id},this.sendResult=async r=>{let{id:n,topic:i,result:s,throwOnFailedPublish:o,encodeOpts:u}=r,a=qe.formatJsonRpcResult(n,s),c;try{c=await this.client.core.crypto.encode(i,a,u)}catch(w){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${i} failed`),w}let f;try{f=await this.client.core.history.get(i,n)}catch(w){throw this.client.logger.error(`sendResult() -> history.get(${i}, ${n}) failed`),w}let d=Sr[f.request.method].res;o?(d.internal=au(gr({},d.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,c,d)):this.client.core.relayer.publish(i,c,d).catch(w=>this.client.logger.error(w)),await this.client.core.history.resolve(a)},this.sendError=async r=>{let{id:n,topic:i,error:s,encodeOpts:o,rpcOpts:u}=r,a=qe.formatJsonRpcError(n,s),c;try{c=await this.client.core.crypto.encode(i,a,o)}catch(w){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${i} failed`),w}let f;try{f=await this.client.core.history.get(i,n)}catch(w){throw this.client.logger.error(`sendError() -> history.get(${i}, ${n}) failed`),w}let d=u||Sr[f.request.method].res;this.client.core.relayer.publish(i,c,d),await this.client.core.history.resolve(a)},this.cleanup=async()=>{let r=[],n=[];this.client.session.getAll().forEach(i=>{let s=!1;G.isExpired(i.expiry)&&(s=!0),this.client.core.crypto.keychain.has(i.topic)||(s=!0),s&&r.push(i.topic)}),this.client.proposal.getAll().forEach(i=>{G.isExpired(i.expiryTimestamp)&&n.push(i.id)}),await Promise.all([...r.map(i=>this.deleteSession({topic:i})),...n.map(i=>this.deleteProposal(i))])},this.onRelayEventRequest=async r=>{this.requestQueue.queue.push(r),await this.processRequestsQueue()},this.processRequestsQueue=async()=>{if(this.requestQueue.state===Oi.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=Oi.active;let r=this.requestQueue.queue.shift();if(r)try{this.processRequest(r),await new Promise(n=>setTimeout(n,300))}catch(n){this.client.logger.warn(n)}}this.requestQueue.state=Oi.idle},this.processRequest=r=>{let{topic:n,payload:i}=r,s=i.method;if(!this.shouldIgnorePairingRequest({topic:n,requestMethod:s}))switch(s){case"wc_sessionPropose":return this.onSessionProposeRequest(n,i);case"wc_sessionSettle":return this.onSessionSettleRequest(n,i);case"wc_sessionUpdate":return this.onSessionUpdateRequest(n,i);case"wc_sessionExtend":return this.onSessionExtendRequest(n,i);case"wc_sessionPing":return this.onSessionPingRequest(n,i);case"wc_sessionDelete":return this.onSessionDeleteRequest(n,i);case"wc_sessionRequest":return this.onSessionRequest(n,i);case"wc_sessionEvent":return this.onSessionEventRequest(n,i);case"wc_sessionAuthenticate":return this.onSessionAuthenticateRequest(n,i);default:return this.client.logger.info(`Unsupported request method ${s}`)}},this.onRelayEventResponse=async r=>{let{topic:n,payload:i}=r,s=(await this.client.core.history.get(n,i.id)).request.method;switch(s){case"wc_sessionPropose":return this.onSessionProposeResponse(n,i);case"wc_sessionSettle":return this.onSessionSettleResponse(n,i);case"wc_sessionUpdate":return this.onSessionUpdateResponse(n,i);case"wc_sessionExtend":return this.onSessionExtendResponse(n,i);case"wc_sessionPing":return this.onSessionPingResponse(n,i);case"wc_sessionRequest":return this.onSessionRequestResponse(n,i);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(n,i);default:return this.client.logger.info(`Unsupported response method ${s}`)}},this.onRelayEventUnknownPayload=r=>{let{topic:n}=r,{message:i}=G.getInternalError("MISSING_OR_INVALID",`Decoded payload on topic ${n} is not identifiable as a JSON-RPC request or a response.`);throw new Error(i)},this.shouldIgnorePairingRequest=r=>{let{topic:n,requestMethod:i}=r,s=this.expectedPairingMethodMap.get(n);return!s||s.includes(i)?!1:!!(s.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)},this.onSessionProposeRequest=async(r,n)=>{let{params:i,id:s}=n;try{this.isValidConnect(gr({},n.params));let o=i.expiryTimestamp||G.calcExpiry(Sr.wc_sessionPropose.req.ttl),u=gr({id:s,pairingTopic:r,expiryTimestamp:o},i);await this.setProposal(s,u);let a=G.hashMessage(JSON.stringify(n)),c=await this.getVerifyContext(a,u.proposer.metadata);this.client.events.emit("session_proposal",{id:s,params:u,verifyContext:c})}catch(o){await this.sendError({id:s,topic:r,error:o,rpcOpts:Sr.wc_sessionPropose.autoReject}),this.client.logger.error(o)}},this.onSessionProposeResponse=async(r,n)=>{let{id:i}=n;if(qe.isJsonRpcResult(n)){let{result:s}=n;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:s});let o=this.client.proposal.get(i);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:o});let u=o.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:u});let a=s.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:a});let c=await this.client.core.crypto.generateSharedKey(u,a);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:c});let f=await this.client.core.relayer.subscribe(c);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:f}),await this.client.core.pairing.activate({topic:r})}else if(qe.isJsonRpcError(n)){await this.client.proposal.delete(i,G.getSdkError("USER_DISCONNECTED"));let s=G.engineEvent("session_connect");if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners, 954`);this.events.emit(G.engineEvent("session_connect"),{error:n.error})}},this.onSessionSettleRequest=async(r,n)=>{let{id:i,params:s}=n;try{this.isValidSessionSettleRequest(s);let{relay:o,controller:u,expiry:a,namespaces:c,sessionProperties:f,sessionConfig:d}=n.params,w=gr(gr({topic:r,relay:o,expiry:a,namespaces:c,acknowledged:!0,pairingTopic:"",requiredNamespaces:{},optionalNamespaces:{},controller:u.publicKey,self:{publicKey:"",metadata:this.client.metadata},peer:{publicKey:u.publicKey,metadata:u.metadata}},f&&{sessionProperties:f}),d&&{sessionConfig:d});await this.sendResult({id:n.id,topic:r,result:!0,throwOnFailedPublish:!0});let A=G.engineEvent("session_connect");if(this.events.listenerCount(A)===0)throw new Error(`emitting ${A} without any listeners 997`);this.events.emit(G.engineEvent("session_connect"),{session:w})}catch(o){await this.sendError({id:i,topic:r,error:o}),this.client.logger.error(o)}},this.onSessionSettleResponse=async(r,n)=>{let{id:i}=n;qe.isJsonRpcResult(n)?(await this.client.session.update(r,{acknowledged:!0}),this.events.emit(G.engineEvent("session_approve",i),{})):qe.isJsonRpcError(n)&&(await this.client.session.delete(r,G.getSdkError("USER_DISCONNECTED")),this.events.emit(G.engineEvent("session_approve",i),{error:n.error}))},this.onSessionUpdateRequest=async(r,n)=>{let{params:i,id:s}=n;try{let o=`${r}_session_update`,u=G.MemoryStore.get(o);if(u&&this.isRequestOutOfSync(u,s)){this.client.logger.info(`Discarding out of sync request - ${s}`),this.sendError({id:s,topic:r,error:G.getSdkError("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(gr({topic:r},i));try{G.MemoryStore.set(o,s),await this.client.session.update(r,{namespaces:i.namespaces}),await this.sendResult({id:s,topic:r,result:!0,throwOnFailedPublish:!0})}catch(a){throw G.MemoryStore.delete(o),a}this.client.events.emit("session_update",{id:s,topic:r,params:i})}catch(o){await this.sendError({id:s,topic:r,error:o}),this.client.logger.error(o)}},this.isRequestOutOfSync=(r,n)=>parseInt(n.toString().slice(0,-3))<=parseInt(r.toString().slice(0,-3)),this.onSessionUpdateResponse=(r,n)=>{let{id:i}=n,s=G.engineEvent("session_update",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);qe.isJsonRpcResult(n)?this.events.emit(G.engineEvent("session_update",i),{}):qe.isJsonRpcError(n)&&this.events.emit(G.engineEvent("session_update",i),{error:n.error})},this.onSessionExtendRequest=async(r,n)=>{let{id:i}=n;try{this.isValidExtend({topic:r}),await this.setExpiry(r,G.calcExpiry(uu)),await this.sendResult({id:i,topic:r,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_extend",{id:i,topic:r})}catch(s){await this.sendError({id:i,topic:r,error:s}),this.client.logger.error(s)}},this.onSessionExtendResponse=(r,n)=>{let{id:i}=n,s=G.engineEvent("session_extend",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);qe.isJsonRpcResult(n)?this.events.emit(G.engineEvent("session_extend",i),{}):qe.isJsonRpcError(n)&&this.events.emit(G.engineEvent("session_extend",i),{error:n.error})},this.onSessionPingRequest=async(r,n)=>{let{id:i}=n;try{this.isValidPing({topic:r}),await this.sendResult({id:i,topic:r,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:i,topic:r})}catch(s){await this.sendError({id:i,topic:r,error:s}),this.client.logger.error(s)}},this.onSessionPingResponse=(r,n)=>{let{id:i}=n,s=G.engineEvent("session_ping",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);setTimeout(()=>{qe.isJsonRpcResult(n)?this.events.emit(G.engineEvent("session_ping",i),{}):qe.isJsonRpcError(n)&&this.events.emit(G.engineEvent("session_ping",i),{error:n.error})},500)},this.onSessionDeleteRequest=async(r,n)=>{let{id:i}=n;try{this.isValidDisconnect({topic:r,reason:n.params}),await Promise.all([new Promise(s=>{this.client.core.relayer.once(cn.RELAYER_EVENTS.publish,async()=>{s(await this.deleteSession({topic:r,id:i}))})}),this.sendResult({id:i,topic:r,result:!0,throwOnFailedPublish:!0}),this.cleanupPendingSentRequestsForTopic({topic:r,error:G.getSdkError("USER_DISCONNECTED")})])}catch(s){this.client.logger.error(s)}},this.onSessionRequest=async(r,n)=>{var i;let{id:s,params:o}=n;try{await this.isValidRequest(gr({topic:r},o));let u=G.hashMessage(JSON.stringify(qe.formatJsonRpcRequest("wc_sessionRequest",o,s))),a=this.client.session.get(r),c=await this.getVerifyContext(u,a.peer.metadata),f={id:s,topic:r,params:o,verifyContext:c};await this.setPendingSessionRequest(f),(i=this.client.signConfig)!=null&&i.disableRequestQueue?this.emitSessionRequest(f):(this.addSessionRequestToSessionRequestQueue(f),this.processSessionRequestQueue())}catch(u){await this.sendError({id:s,topic:r,error:u}),this.client.logger.error(u)}},this.onSessionRequestResponse=(r,n)=>{let{id:i}=n,s=G.engineEvent("session_request",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);qe.isJsonRpcResult(n)?this.events.emit(G.engineEvent("session_request",i),{result:n.result}):qe.isJsonRpcError(n)&&this.events.emit(G.engineEvent("session_request",i),{error:n.error})},this.onSessionEventRequest=async(r,n)=>{let{id:i,params:s}=n;try{let o=`${r}_session_event_${s.event.name}`,u=G.MemoryStore.get(o);if(u&&this.isRequestOutOfSync(u,i)){this.client.logger.info(`Discarding out of sync request - ${i}`);return}this.isValidEmit(gr({topic:r},s)),this.client.events.emit("session_event",{id:i,topic:r,params:s}),G.MemoryStore.set(o,i)}catch(o){await this.sendError({id:i,topic:r,error:o}),this.client.logger.error(o)}},this.onSessionAuthenticateResponse=(r,n)=>{let{id:i}=n;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:r,payload:n}),qe.isJsonRpcResult(n)?this.events.emit(G.engineEvent("session_request",i),{result:n.result}):qe.isJsonRpcError(n)&&this.events.emit(G.engineEvent("session_request",i),{error:n.error})},this.onSessionAuthenticateRequest=async(r,n)=>{try{let{requester:i,authPayload:s,expiryTimestamp:o}=n.params,u=G.hashMessage(JSON.stringify(n)),a=await this.getVerifyContext(u,this.client.metadata),c={requester:i,pairingTopic:r,id:n.id,authPayload:s,verifyContext:a,expiryTimestamp:o};await this.setAuthRequest(n.id,{request:c,pairingTopic:r}),this.client.events.emit("session_authenticate",{topic:r,params:n.params,id:n.id})}catch(i){this.client.logger.error(i);let s=n.params.requester.publicKey,o=await this.client.core.crypto.generateKeyPair(),u={type:G.TYPE_1,receiverPublicKey:s,senderPublicKey:o};await this.sendError({id:n.id,topic:r,error:i,encodeOpts:u,rpcOpts:Sr.wc_sessionAuthenticate.autoReject})}},this.addSessionRequestToSessionRequestQueue=r=>{this.sessionRequestQueue.queue.push(r)},this.cleanupAfterResponse=r=>{this.deletePendingSessionRequest(r.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=Oi.idle,this.processSessionRequestQueue()},je.toMiliseconds(this.requestQueueDelay))},this.cleanupPendingSentRequestsForTopic=({topic:r,error:n})=>{let i=this.client.core.history.pending;i.length>0&&i.filter(s=>s.topic===r&&s.request.method==="wc_sessionRequest").forEach(s=>{let o=s.request.id,u=G.engineEvent("session_request",o);if(this.events.listenerCount(u)===0)throw new Error(`emitting ${u} without any listeners`);this.events.emit(G.engineEvent("session_request",s.request.id),{error:n})})},this.processSessionRequestQueue=()=>{if(this.sessionRequestQueue.state===Oi.active){this.client.logger.info("session request queue is already active.");return}let r=this.sessionRequestQueue.queue[0];if(!r){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=Oi.active,this.emitSessionRequest(r)}catch(n){this.client.logger.error(n)}},this.emitSessionRequest=r=>{this.client.events.emit("session_request",r)},this.onPairingCreated=r=>{if(r.methods&&this.expectedPairingMethodMap.set(r.topic,r.methods),r.active)return;let n=this.client.proposal.getAll().find(i=>i.pairingTopic===r.topic);n&&this.onSessionProposeRequest(r.topic,qe.formatJsonRpcRequest("wc_sessionPropose",{requiredNamespaces:n.requiredNamespaces,optionalNamespaces:n.optionalNamespaces,relays:n.relays,proposer:n.proposer,sessionProperties:n.sessionProperties},n.id))},this.isValidConnect=async r=>{if(!G.isValidParams(r)){let{message:a}=G.getInternalError("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(r)}`);throw new Error(a)}let{pairingTopic:n,requiredNamespaces:i,optionalNamespaces:s,sessionProperties:o,relays:u}=r;if(G.isUndefined(n)||await this.isValidPairingTopic(n),!G.isValidRelays(u,!0)){let{message:a}=G.getInternalError("MISSING_OR_INVALID",`connect() relays: ${u}`);throw new Error(a)}!G.isUndefined(i)&&G.isValidObject(i)!==0&&this.validateNamespaces(i,"requiredNamespaces"),!G.isUndefined(s)&&G.isValidObject(s)!==0&&this.validateNamespaces(s,"optionalNamespaces"),G.isUndefined(o)||this.validateSessionProps(o,"sessionProperties")},this.validateNamespaces=(r,n)=>{let i=G.isValidRequiredNamespaces(r,"connect()",n);if(i)throw new Error(i.message)},this.isValidApprove=async r=>{if(!G.isValidParams(r))throw new Error(G.getInternalError("MISSING_OR_INVALID",`approve() params: ${r}`).message);let{id:n,namespaces:i,relayProtocol:s,sessionProperties:o}=r;this.checkRecentlyDeleted(n),await this.isValidProposalId(n);let u=this.client.proposal.get(n),a=G.isValidNamespaces(i,"approve()");if(a)throw new Error(a.message);let c=G.isConformingNamespaces(u.requiredNamespaces,i,"approve()");if(c)throw new Error(c.message);if(!G.isValidString(s,!0)){let{message:f}=G.getInternalError("MISSING_OR_INVALID",`approve() relayProtocol: ${s}`);throw new Error(f)}G.isUndefined(o)||this.validateSessionProps(o,"sessionProperties")},this.isValidReject=async r=>{if(!G.isValidParams(r)){let{message:s}=G.getInternalError("MISSING_OR_INVALID",`reject() params: ${r}`);throw new Error(s)}let{id:n,reason:i}=r;if(this.checkRecentlyDeleted(n),await this.isValidProposalId(n),!G.isValidErrorReason(i)){let{message:s}=G.getInternalError("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(i)}`);throw new Error(s)}},this.isValidSessionSettleRequest=r=>{if(!G.isValidParams(r)){let{message:c}=G.getInternalError("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${r}`);throw new Error(c)}let{relay:n,controller:i,namespaces:s,expiry:o}=r;if(!G.isValidRelay(n)){let{message:c}=G.getInternalError("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(c)}let u=G.isValidController(i,"onSessionSettleRequest()");if(u)throw new Error(u.message);let a=G.isValidNamespaces(s,"onSessionSettleRequest()");if(a)throw new Error(a.message);if(G.isExpired(o)){let{message:c}=G.getInternalError("EXPIRED","onSessionSettleRequest()");throw new Error(c)}},this.isValidUpdate=async r=>{if(!G.isValidParams(r)){let{message:a}=G.getInternalError("MISSING_OR_INVALID",`update() params: ${r}`);throw new Error(a)}let{topic:n,namespaces:i}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n);let s=this.client.session.get(n),o=G.isValidNamespaces(i,"update()");if(o)throw new Error(o.message);let u=G.isConformingNamespaces(s.requiredNamespaces,i,"update()");if(u)throw new Error(u.message)},this.isValidExtend=async r=>{if(!G.isValidParams(r)){let{message:i}=G.getInternalError("MISSING_OR_INVALID",`extend() params: ${r}`);throw new Error(i)}let{topic:n}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n)},this.isValidRequest=async r=>{if(!G.isValidParams(r)){let{message:a}=G.getInternalError("MISSING_OR_INVALID",`request() params: ${r}`);throw new Error(a)}let{topic:n,request:i,chainId:s,expiry:o}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n);let{namespaces:u}=this.client.session.get(n);if(!G.isValidNamespacesChainId(u,s)){let{message:a}=G.getInternalError("MISSING_OR_INVALID",`request() chainId: ${s}`);throw new Error(a)}if(!G.isValidRequest(i)){let{message:a}=G.getInternalError("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw new Error(a)}if(!G.isValidNamespacesRequest(u,s,i.method)){let{message:a}=G.getInternalError("MISSING_OR_INVALID",`request() method: ${i.method}`);throw new Error(a)}if(o&&!G.isValidRequestExpiry(o,e1)){let{message:a}=G.getInternalError("MISSING_OR_INVALID",`request() expiry: ${o}. Expiry must be a number (in seconds) between ${e1.min} and ${e1.max}`);throw new Error(a)}},this.isValidRespond=async r=>{var n;if(!G.isValidParams(r)){let{message:o}=G.getInternalError("MISSING_OR_INVALID",`respond() params: ${r}`);throw new Error(o)}let{topic:i,response:s}=r;try{await this.isValidSessionTopic(i)}catch(o){throw(n=r?.response)!=null&&n.id&&this.cleanupAfterResponse(r),o}if(!G.isValidResponse(s)){let{message:o}=G.getInternalError("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(s)}`);throw new Error(o)}},this.isValidPing=async r=>{if(!G.isValidParams(r)){let{message:i}=G.getInternalError("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(i)}let{topic:n}=r;await this.isValidSessionOrPairingTopic(n)},this.isValidEmit=async r=>{if(!G.isValidParams(r)){let{message:u}=G.getInternalError("MISSING_OR_INVALID",`emit() params: ${r}`);throw new Error(u)}let{topic:n,event:i,chainId:s}=r;await this.isValidSessionTopic(n);let{namespaces:o}=this.client.session.get(n);if(!G.isValidNamespacesChainId(o,s)){let{message:u}=G.getInternalError("MISSING_OR_INVALID",`emit() chainId: ${s}`);throw new Error(u)}if(!G.isValidEvent(i)){let{message:u}=G.getInternalError("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(u)}if(!G.isValidNamespacesEvent(o,s,i.name)){let{message:u}=G.getInternalError("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(u)}},this.isValidDisconnect=async r=>{if(!G.isValidParams(r)){let{message:i}=G.getInternalError("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(i)}let{topic:n}=r;await this.isValidSessionOrPairingTopic(n)},this.isValidAuthenticate=r=>{let{chains:n,uri:i,domain:s,nonce:o}=r;if(!Array.isArray(n)||n.length===0)throw new Error("chains is required and must be a non-empty array");if(!G.isValidString(i,!1))throw new Error("uri is required parameter");if(!G.isValidString(s,!1))throw new Error("domain is required parameter");if(!G.isValidString(o,!1))throw new Error("nonce is required parameter");if([...new Set(n.map(a=>G.parseChainId(a).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");let{namespace:u}=G.parseChainId(n[0]);if(u!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")},this.getVerifyContext=async(r,n)=>{let i={verified:{verifyUrl:n.verifyUrl||cn.VERIFY_SERVER,validation:"UNKNOWN",origin:n.url||""}};try{let s=await this.client.core.verify.resolve({attestationId:r,verifyUrl:n.verifyUrl});s&&(i.verified.origin=s.origin,i.verified.isScam=s.isScam,i.verified.validation=s.origin===new URL(n.url).origin?"VALID":"INVALID")}catch(s){this.client.logger.info(s)}return this.client.logger.info(`Verify context: ${JSON.stringify(i)}`),i},this.validateSessionProps=(r,n)=>{Object.values(r).forEach(i=>{if(!G.isValidString(i,!1)){let{message:s}=G.getInternalError("MISSING_OR_INVALID",`${n} must be in Record<string, string> format. Received: ${JSON.stringify(i)}`);throw new Error(s)}})},this.getPendingAuthRequest=r=>{let n=this.client.auth.requests.get(r);return typeof n=="object"?n:void 0},this.addToRecentlyDeleted=(r,n)=>{if(this.recentlyDeletedMap.set(r,n),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let i=0,s=this.recentlyDeletedLimit/2;for(let o of this.recentlyDeletedMap.keys()){if(i++>=s)break;this.recentlyDeletedMap.delete(o)}}},this.checkRecentlyDeleted=r=>{let n=this.recentlyDeletedMap.get(r);if(n){let{message:i}=G.getInternalError("MISSING_OR_INVALID",`Record was recently deleted - ${n}: ${r}`);throw new Error(i)}}}async isInitialized(){if(!this.initialized){let{message:e}=G.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(cn.RELAYER_EVENTS.message,async e=>{let{topic:r,message:n}=e,{publicKey:i}=this.client.auth.authKeys.keys.includes(od)?this.client.auth.authKeys.get(od):{responseTopic:void 0,publicKey:void 0},s=await this.client.core.crypto.decode(r,n,{receiverPublicKey:i});try{qe.isJsonRpcRequest(s)?(this.client.core.history.set(r,s),this.onRelayEventRequest({topic:r,payload:s})):qe.isJsonRpcResponse(s)?(await this.client.core.history.resolve(s),await this.onRelayEventResponse({topic:r,payload:s}),this.client.core.history.delete(r,s.id)):this.onRelayEventUnknownPayload({topic:r,payload:s})}catch(o){this.client.logger.error(o)}})}registerExpirerEvents(){this.client.core.expirer.on(cn.EXPIRER_EVENTS.expired,async e=>{let{topic:r,id:n}=G.parseExpirerTarget(e.target);if(n&&this.client.pendingRequest.keys.includes(n))return await this.deletePendingSessionRequest(n,G.getInternalError("EXPIRED"),!0);if(n&&this.client.auth.requests.keys.includes(n))return await this.deletePendingAuthRequest(n,G.getInternalError("EXPIRED"),!0);r?this.client.session.keys.includes(r)&&(await this.deleteSession({topic:r,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:r})):n&&(await this.deleteProposal(n,!0),this.client.events.emit("proposal_expire",{id:n}))})}registerPairingEvents(){this.client.core.pairing.events.on(cn.PAIRING_EVENTS.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(cn.PAIRING_EVENTS.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!G.isValidString(e,!1)){let{message:r}=G.getInternalError("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(r)}if(!this.client.core.pairing.pairings.keys.includes(e)){let{message:r}=G.getInternalError("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(r)}if(G.isExpired(this.client.core.pairing.pairings.get(e).expiry)){let{message:r}=G.getInternalError("EXPIRED",`pairing topic: ${e}`);throw new Error(r)}}async isValidSessionTopic(e){if(!G.isValidString(e,!1)){let{message:r}=G.getInternalError("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(r)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){let{message:r}=G.getInternalError("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(r)}if(G.isExpired(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});let{message:r}=G.getInternalError("EXPIRED",`session topic: ${e}`);throw new Error(r)}if(!this.client.core.crypto.keychain.has(e)){let{message:r}=G.getInternalError("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(r)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(G.isValidString(e,!1)){let{message:r}=G.getInternalError("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(r)}else{let{message:r}=G.getInternalError("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(r)}}async isValidProposalId(e){if(!G.isValidId(e)){let{message:r}=G.getInternalError("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(r)}if(!this.client.proposal.keys.includes(e)){let{message:r}=G.getInternalError("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(r)}if(G.isExpired(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);let{message:r}=G.getInternalError("EXPIRED",`proposal id: ${e}`);throw new Error(r)}}},XT=class extends cn.Store{constructor(e,r){super(e,r,gU,n1),this.core=e,this.logger=r}},t1=class extends cn.Store{constructor(e,r){super(e,r,mU,n1),this.core=e,this.logger=r}},ZT=class extends cn.Store{constructor(e,r){super(e,r,wU,n1,n=>n.id),this.core=e,this.logger=r}},e2=class extends cn.Store{constructor(e,r){super(e,r,bU,ad,()=>od),this.core=e,this.logger=r}},t2=class extends cn.Store{constructor(e,r){super(e,r,SU,ad),this.core=e,this.logger=r}},r2=class extends cn.Store{constructor(e,r){super(e,r,IU,ad,n=>n.id),this.core=e,this.logger=r}},n2=class{constructor(e,r){this.core=e,this.logger=r,this.authKeys=new e2(this.core,this.logger),this.pairingTopics=new t2(this.core,this.logger),this.requests=new r2(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}},r1=class t extends hU.ISignClient{constructor(e){super(e),this.protocol=i2,this.version=s2,this.name=Zy.name,this.events=new dU.EventEmitter,this.on=(n,i)=>this.events.on(n,i),this.once=(n,i)=>this.events.once(n,i),this.off=(n,i)=>this.events.off(n,i),this.removeListener=(n,i)=>this.events.removeListener(n,i),this.removeAllListeners=n=>this.events.removeAllListeners(n),this.connect=async n=>{try{return await this.engine.connect(n)}catch(i){throw this.logger.error(i.message),i}},this.pair=async n=>{try{return await this.engine.pair(n)}catch(i){throw this.logger.error(i.message),i}},this.approve=async n=>{try{return await this.engine.approve(n)}catch(i){throw this.logger.error(i.message),i}},this.reject=async n=>{try{return await this.engine.reject(n)}catch(i){throw this.logger.error(i.message),i}},this.update=async n=>{try{return await this.engine.update(n)}catch(i){throw this.logger.error(i.message),i}},this.extend=async n=>{try{return await this.engine.extend(n)}catch(i){throw this.logger.error(i.message),i}},this.request=async n=>{try{return await this.engine.request(n)}catch(i){throw this.logger.error(i.message),i}},this.respond=async n=>{try{return await this.engine.respond(n)}catch(i){throw this.logger.error(i.message),i}},this.ping=async n=>{try{return await this.engine.ping(n)}catch(i){throw this.logger.error(i.message),i}},this.emit=async n=>{try{return await this.engine.emit(n)}catch(i){throw this.logger.error(i.message),i}},this.disconnect=async n=>{try{return await this.engine.disconnect(n)}catch(i){throw this.logger.error(i.message),i}},this.find=n=>{try{return this.engine.find(n)}catch(i){throw this.logger.error(i.message),i}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(n){throw this.logger.error(n.message),n}},this.authenticate=async n=>{try{return await this.engine.authenticate(n)}catch(i){throw this.logger.error(i.message),i}},this.formatAuthMessage=n=>{try{return this.engine.formatAuthMessage(n)}catch(i){throw this.logger.error(i.message),i}},this.approveSessionAuthenticate=async n=>{try{return await this.engine.approveSessionAuthenticate(n)}catch(i){throw this.logger.error(i.message),i}},this.rejectSessionAuthenticate=async n=>{try{return await this.engine.rejectSessionAuthenticate(n)}catch(i){throw this.logger.error(i.message),i}},this.name=e?.name||Zy.name,this.metadata=e?.metadata||G.getAppMetadata(),this.signConfig=e?.signConfig;let r=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:Xy.pino(Xy.getDefaultLoggerOptions({level:e?.logger||Zy.logger}));this.core=e?.core||new cn.Core(e),this.logger=Xy.generateChildLogger(r,this.name),this.session=new t1(this.core,this.logger),this.proposal=new XT(this.core,this.logger),this.pendingRequest=new ZT(this.core,this.logger),this.engine=new JT(this),this.auth=new n2(this.core,this.logger)}static async init(e){let r=new t(e);return await r.initialize(),r}get context(){return Xy.getLoggerContext(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.engine.init(),await this.auth.init(),this.core.verify.init({verifyUrl:this.metadata.verifyUrl}),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}},Lce=t1,Fce=r1;Be.AUTH_CONTEXT=EU,Be.AUTH_KEYS_CONTEXT=bU,Be.AUTH_PAIRING_TOPIC_CONTEXT=SU,Be.AUTH_PROTOCOL=AU,Be.AUTH_PUBLIC_KEY_NAME=od,Be.AUTH_REQUEST_CONTEXT=IU,Be.AUTH_STORAGE_PREFIX=ad,Be.AUTH_VERSION=Oce,Be.ENGINE_CONTEXT=yU,Be.ENGINE_QUEUE_STATES=Oi,Be.ENGINE_RPC_OPTS=Sr,Be.HISTORY_CONTEXT=Cce,Be.HISTORY_EVENTS=Tce,Be.HISTORY_STORAGE_VERSION=Nce,Be.METHODS_TO_VERIFY=vU,Be.PROPOSAL_CONTEXT=gU,Be.PROPOSAL_EXPIRY=xce,Be.PROPOSAL_EXPIRY_MESSAGE=pU,Be.REQUEST_CONTEXT=wU,Be.SESSION_CONTEXT=mU,Be.SESSION_EXPIRY=uu,Be.SESSION_REQUEST_EXPIRY_BOUNDARIES=e1,Be.SIGN_CLIENT_CONTEXT=o2,Be.SIGN_CLIENT_DEFAULT=Zy,Be.SIGN_CLIENT_EVENTS=Ice,Be.SIGN_CLIENT_PROTOCOL=i2,Be.SIGN_CLIENT_STORAGE_OPTIONS=_ce,Be.SIGN_CLIENT_STORAGE_PREFIX=n1,Be.SIGN_CLIENT_VERSION=s2,Be.SessionStore=Lce,Be.SignClient=Fce,Be.WALLETCONNECT_DEEPLINK_CHOICE=YT,Be.default=r1});var i1=D(Wo=>{"use strict";h();Object.defineProperty(Wo,"__esModule",{value:!0});Wo.OptionalOperation=Wo.Operation=void 0;var Uce;(function(t){t.SIGN_TRANSACTION="mvx_signTransaction",t.SIGN_TRANSACTIONS="mvx_signTransactions",t.SIGN_MESSAGE="mvx_signMessage"})(Uce=Wo.Operation||(Wo.Operation={}));var qce;(function(t){t.SIGN_LOGIN_TOKEN="mvx_signLoginToken",t.SIGN_NATIVE_AUTH_TOKEN="mvx_signNativeAuthToken",t.CANCEL_ACTION="mvx_cancelAction"})(qce=Wo.OptionalOperation||(Wo.OptionalOperation={}))});var a2=D(vs=>{"use strict";h();Object.defineProperty(vs,"__esModule",{value:!0});vs.WALLETCONNECT_SIGN_LOGIN_DELAY=vs.WALLETCONNECT_MULTIVERSX_OPTIONAL_METHODS=vs.WALLETCONNECT_MULTIVERSX_METHODS=vs.WALLETCONNECT_MULTIVERSX_NAMESPACE=void 0;var TU=i1();vs.WALLETCONNECT_MULTIVERSX_NAMESPACE="mvx";vs.WALLETCONNECT_MULTIVERSX_METHODS=Object.values(TU.Operation);vs.WALLETCONNECT_MULTIVERSX_OPTIONAL_METHODS=Object.values(TU.OptionalOperation);vs.WALLETCONNECT_SIGN_LOGIN_DELAY=500});var l2=D(Di=>{"use strict";h();Object.defineProperty(Di,"__esModule",{value:!0});Di.WalletConnectV2ProviderErrorMessagesEnum=Di.ErrBadAddress=Di.ErrNotImplemented=Di.Err=void 0;var ud=class extends Error{constructor(e,r){super(e),this.inner=void 0,this.inner=r}};Di.Err=ud;var u2=class extends ud{constructor(){super("Method not yet implemented")}};Di.ErrNotImplemented=u2;var c2=class extends ud{constructor(e,r){super(`Bad address: ${e}`,r)}};Di.ErrBadAddress=c2;var Vce;(function(t){t.unableToInit="WalletConnect is unable to init",t.notInitialized="WalletConnect is not initialized",t.unableToConnect="WalletConnect is unable to connect",t.unableToConnectExisting="WalletConnect is unable to connect to existing pairing",t.unableToSignLoginToken="WalletConnect could not sign login token",t.unableToSign="WalletConnect could not sign the message",t.unableToLogin="WalletConnect is unable to login",t.unableToHandleTopic="WalletConnect: Unable to handle topic update",t.unableToHandleEvent="WalletConnect: Unable to handle events",t.unableToHandleCleanup="WalletConnect: Unable to handle cleanup",t.sessionNotConnected="WalletConnect Session is not connected",t.sessionDeleted="WalletConnect Session Deleted",t.sessionExpired="WalletConnect Session Expired",t.alreadyLoggedOut="WalletConnect: Already logged out",t.pingFailed="WalletConnect Ping Failed",t.invalidAddress="WalletConnect: Invalid address",t.requestDifferentChain="WalletConnect: Request Chain Id different than Connection Chain Id",t.invalidMessageResponse="WalletConnect could not sign the message",t.invalidMessageSignature="WalletConnect: Invalid message signature",t.invalidTransactionResponse="WalletConnect could not sign the transactions. Invalid signatures",t.invalidCustomRequestResponse="WalletConnect could not send the custom request",t.transactionError="Transaction canceled",t.connectionError="WalletConnect could not establish a connection",t.invalidGuardian="WalletConnect: Invalid Guardian"})(Vce=Di.WalletConnectV2ProviderErrorMessagesEnum||(Di.WalletConnectV2ProviderErrorMessagesEnum={}))});var h2=D(s1=>{"use strict";h();Object.defineProperty(s1,"__esModule",{value:!0});s1.Logger=void 0;var f2=class{static error(e){console.error(e)}static trace(e){console.trace(e)}};s1.Logger=f2});var CU=D(()=>{"use strict";h();global.Buffer||(global.Buffer=no().Buffer)});var p2=D(vl=>{"use strict";h();Object.defineProperty(vl,"__esModule",{value:!0});vl.SmartContractQueryResponse=vl.SmartContractQuery=void 0;var d2=class{constructor(e){this.contract=e.contract,this.caller=e.caller,this.value=e.value,this.function=e.function,this.arguments=e.arguments}};vl.SmartContractQuery=d2;var g2=class{constructor(e){this.function=e.function,this.returnCode=e.returnCode,this.returnMessage=e.returnMessage,this.returnDataParts=e.returnDataParts}};vl.SmartContractQueryResponse=g2});var xU=D(o1=>{"use strict";h();Object.defineProperty(o1,"__esModule",{value:!0});o1.QueryRunnerAdapter=void 0;var NU=ke(),kce=p2(),m2=class{constructor(e){this.networkProvider=e.networkProvider}async runQuery(e){let r={address:NU.Address.fromBech32(e.contract),caller:e.caller?NU.Address.fromBech32(e.caller):void 0,func:e.function,value:e.value,getEncodedArguments:()=>e.arguments.map(i=>p.Buffer.from(i).toString("hex"))},n=await this.networkProvider.queryContract(r);return new kce.SmartContractQueryResponse({function:e.function,returnCode:n.returnCode.toString(),returnMessage:n.returnMessage,returnDataParts:n.getReturnDataParts()})}};o1.QueryRunnerAdapter=m2});var OU=D(cu=>{"use strict";h();var Hce=cu&&cu.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Gce=cu&&cu.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Hce(e,t,r)};Object.defineProperty(cu,"__esModule",{value:!0});Gce(xU(),cu)});var DU=D(lu=>{"use strict";h();var jce=lu&&lu.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),zce=lu&&lu.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&jce(e,t,r)};Object.defineProperty(lu,"__esModule",{value:!0});zce(ab(),lu)});var RU=D(fu=>{"use strict";h();Object.defineProperty(fu,"__esModule",{value:!0});fu.GasEstimator=fu.DefaultGasConfiguration=void 0;fu.DefaultGasConfiguration={minGasLimit:5e4,gasPerDataByte:1500,gasCostESDTTransfer:2e5,gasCostESDTNFTTransfer:2e5,gasCostESDTNFTMultiTransfer:2e5};var Qce=1e5,PU=8e5,y2=class{constructor(e){this.gasConfiguration=e||fu.DefaultGasConfiguration}forEGLDTransfer(e){return this.gasConfiguration.minGasLimit+this.gasConfiguration.gasPerDataByte*e}forESDTTransfer(e){return this.gasConfiguration.minGasLimit+this.gasConfiguration.gasCostESDTTransfer+this.gasConfiguration.gasPerDataByte*e+Qce}forESDTNFTTransfer(e){return this.gasConfiguration.minGasLimit+this.gasConfiguration.gasCostESDTNFTTransfer+this.gasConfiguration.gasPerDataByte*e+PU}forMultiESDTNFTTransfer(e,r){return this.gasConfiguration.minGasLimit+(this.gasConfiguration.gasCostESDTNFTMultiTransfer+PU)*r+this.gasConfiguration.gasPerDataByte*e}};fu.GasEstimator=y2});var MU=D(BU=>{"use strict";h();Object.defineProperty(BU,"__esModule",{value:!0})});var FU=D(LU=>{"use strict";h();Object.defineProperty(LU,"__esModule",{value:!0})});var UU=D(a1=>{"use strict";h();Object.defineProperty(a1,"__esModule",{value:!0});a1.RelayedTransactionV1Builder=void 0;var w2=ke(),Kce=Ie(),Wce=en(),$ce=Bs(),Yce=mE(),v2=class{setInnerTransaction(e){return this.innerTransaction=e,this}setNetworkConfig(e){return this.netConfig=e,this}setRelayerAddress(e){return this.relayerAddress=e,this}setRelayerNonce(e){return this.relayerNonce=e,this}setRelayedTransactionVersion(e){return this.relayedTransactionVersion=e,this}setRelayedTransactionOptions(e){return this.relayedTransactionOptions=e,this}setRelayedTransactionGuardian(e){return this.relayedTransactionGuardian=e,this}build(){if(!this.innerTransaction||!this.netConfig||!this.relayerAddress||!this.innerTransaction.getSignature())throw new Kce.ErrInvalidRelayedV1BuilderArguments;let e=this.prepareInnerTransaction(),r=`relayedTx@${p.Buffer.from(e).toString("hex")}`,n=new $ce.TransactionPayload(r),i=this.netConfig.MinGasLimit+this.netConfig.GasPerDataByte*n.length()+this.innerTransaction.getGasLimit().valueOf(),s=new Wce.Transaction({nonce:this.relayerNonce,sender:this.relayerAddress,receiver:this.innerTransaction.getSender(),value:0,gasLimit:i,data:n,chainID:this.netConfig.ChainID,version:this.relayedTransactionVersion,options:this.relayedTransactionOptions,guardian:this.relayedTransactionGuardian});return this.relayerNonce&&s.setNonce(this.relayerNonce),s}prepareInnerTransaction(){if(!this.innerTransaction)return"";let e={nonce:this.innerTransaction.getNonce().valueOf(),sender:new w2.Address(this.innerTransaction.getSender().bech32()).pubkey().toString("base64"),receiver:new w2.Address(this.innerTransaction.getReceiver().bech32()).pubkey().toString("base64"),value:BigInt(this.innerTransaction.getValue().toString()),gasPrice:this.innerTransaction.getGasPrice().valueOf(),gasLimit:this.innerTransaction.getGasLimit().valueOf(),data:this.innerTransaction.getData().valueOf().toString("base64"),signature:this.innerTransaction.getSignature().toString("base64"),chainID:p.Buffer.from(this.innerTransaction.getChainID().valueOf()).toString("base64"),version:this.innerTransaction.getVersion().valueOf(),options:this.innerTransaction.getOptions().valueOf()==0?void 0:this.innerTransaction.getOptions().valueOf(),guardian:this.innerTransaction.getGuardian().bech32()?new w2.Address(this.innerTransaction.getGuardian().bech32()).pubkey().toString("base64"):void 0,guardianSignature:this.innerTransaction.getGuardianSignature().toString("hex")?this.innerTransaction.getGuardianSignature().toString("base64"):void 0,sndUserName:this.innerTransaction.getSenderUsername()?p.Buffer.from(this.innerTransaction.getSenderUsername()).toString("base64"):void 0,rcvUserName:this.innerTransaction.getReceiverUsername()?p.Buffer.from(this.innerTransaction.getReceiverUsername()).toString("base64"):void 0};return Yce.stringify(e)}};a1.RelayedTransactionV1Builder=v2});var VU=D(u1=>{"use strict";h();Object.defineProperty(u1,"__esModule",{value:!0});u1.RelayedTransactionV2Builder=void 0;var qU=Ie(),cd=Vn(),Jce=en(),Xce=Bs(),A2=class{setInnerTransaction(e){return this.innerTransaction=e,this}setInnerTransactionGasLimit(e){return this.innerTransactionGasLimit=e,this}setNetworkConfig(e){return this.netConfig=e,this}setRelayerAddress(e){return this.relayerAddress=e,this}setRelayerNonce(e){return this.relayerNonce=e,this}build(){if(!this.innerTransaction||!this.innerTransactionGasLimit||!this.relayerAddress||!this.netConfig||!this.innerTransaction.getSignature())throw new qU.ErrInvalidRelayedV2BuilderArguments;if(this.innerTransaction.getGasLimit()!=0)throw new qU.ErrGasLimitShouldBe0ForInnerTransaction;let{argumentsString:e}=new cd.ArgSerializer().valuesToString([new cd.AddressValue(this.innerTransaction.getReceiver()),new cd.U64Value(this.innerTransaction.getNonce().valueOf()),new cd.BytesValue(this.innerTransaction.getData().valueOf()),new cd.BytesValue(this.innerTransaction.getSignature())]),r=`relayedTxV2@${e}`,n=new Xce.TransactionPayload(r),i=new Jce.Transaction({sender:this.relayerAddress,receiver:this.innerTransaction.getSender(),value:0,gasLimit:this.innerTransactionGasLimit.valueOf()+this.netConfig.MinGasLimit+this.netConfig.GasPerDataByte*n.length(),data:n,chainID:this.netConfig.ChainID,version:this.innerTransaction.getVersion(),options:this.innerTransaction.getOptions()});return this.relayerNonce&&i.setNonce(this.relayerNonce),i}};u1.RelayedTransactionV2Builder=A2});var HU=D(l1=>{"use strict";h();Object.defineProperty(l1,"__esModule",{value:!0});l1.SmartContractQueriesController=void 0;var kU=Ie(),Zce=p2(),c1=Vn(),ele=$t(),E2=class{constructor(e){this.abi=e.abi,this.queryRunner=e.queryRunner,this.legacyResultsParser=new c1.ResultsParser}async query(e){let r=this.createQuery(e),n=await this.runQuery(r);return this.raiseForStatus(n),this.parseQueryResponse(n)}raiseForStatus(e){if(!(e.returnCode==="ok"))throw new kU.ErrSmartContractQuery(e.returnCode,e.returnMessage)}createQuery(e){let r=this.encodeArguments(e.function,e.arguments);return new Zce.SmartContractQuery({contract:e.contract,caller:e.caller,function:e.function,arguments:r,value:e.value})}encodeArguments(e,r){let n=this.abi?.getEndpoint(e);if(n){let i=c1.NativeSerializer.nativeToTypedValues(r,n);return new c1.ArgSerializer().valuesToBuffers(i)}if(this.areArgsOfTypedValue(r))return new c1.ArgSerializer().valuesToBuffers(r);if(this.areArgsBuffers(r))return r.map(i=>p.Buffer.from(i));throw new kU.Err("cannot encode arguments: when ABI is not available, they must be either typed values or buffers")}areArgsOfTypedValue(e){return e.every(r=>ele.isTyped(r))}areArgsBuffers(e){for(let r of e)if(!ArrayBuffer.isView(r))return!1;return!0}async runQuery(e){return await this.queryRunner.runQuery(e)}parseQueryResponse(e){if(!this.abi)return e.returnDataParts;let r={returnCode:e.returnCode,returnMessage:e.returnMessage,getReturnDataParts:()=>e.returnDataParts.map(u=>p.Buffer.from(u))},n=e.function,i=this.abi.getEndpoint(n);return this.legacyResultsParser.parseQueryResponse(r,i).values.map(u=>u.valueOf())}};l1.SmartContractQueriesController=E2});var GU=D(Ve=>{"use strict";h();var tle=Ve&&Ve.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),xt=Ve&&Ve.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&tle(e,t,r)};Object.defineProperty(Ve,"__esModule",{value:!0});CU();xt(Sc(),Ve);xt(OU(),Ve);xt(ke(),Ve);xt(Wb(),Ve);xt(Wd(),Ve);xt(DU(),Ve);xt(Ie(),Ve);xt(RU(),Ve);xt(MU(),Ve);xt(FU(),Ve);xt(so(),Ve);xt(zb(),Ve);xt(Jl(),Ve);xt(UU(),Ve);xt(VU(),Ve);xt(H0(),Ve);xt(HU(),Ve);xt(Vn(),Ve);xt(Fb(),Ve);xt(Ia(),Ve);xt(en(),Ve);xt(N0(),Ve);xt(Bs(),Ve);xt(V0(),Ve);xt(d0(),Ve);xt(Hb(),Ve);xt(Bn(),Ve)});var $U=D(cr=>{"use strict";h();var rle=cr&&cr.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function u(f){try{c(n.next(f))}catch(d){o(d)}}function a(f){try{c(n.throw(f))}catch(d){o(d)}}function c(f){f.done?s(f.value):i(f.value).then(u,a)}c((n=n.apply(t,e||[])).next())})};Object.defineProperty(cr,"__esModule",{value:!0});cr.sleep=cr.getMetadata=cr.applyTransactionSignature=cr.getAddressFromSession=cr.addressIsValid=cr.getConnectionParams=cr.getCurrentTopic=cr.getCurrentSession=void 0;var QU=GU(),jU=Yf(),nle=jh(),f1=a2(),eo=l2(),b2=h2(),zU=i1();function KU(t,e){if(!e)throw new Error(eo.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);let r=e.find(WU(t)).filter(n=>n.acknowledged);if(r.length>0){let n=r.length-1;return r[n]}if(e.session.length>0){let n=e.session.keys.length-1;return e.session.get(e.session.keys[n])}throw b2.Logger.error(eo.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected),new Error(eo.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected)}cr.getCurrentSession=KU;function ile(t,e){if(!e)throw new Error(eo.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);let r=KU(t,e);if(!r?.topic)throw new Error(eo.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected);return r.topic}cr.getCurrentTopic=ile;function WU(t,e){var r,n,i;let s=[...f1.WALLETCONNECT_MULTIVERSX_METHODS,...(r=e?.methods)!==null&&r!==void 0?r:[]];!((n=e?.methods)===null||n===void 0)&&n.includes(zU.OptionalOperation.SIGN_LOGIN_TOKEN)||s.push(zU.OptionalOperation.SIGN_LOGIN_TOKEN);let o=[`${f1.WALLETCONNECT_MULTIVERSX_NAMESPACE}:${t}`],u=(i=e?.events)!==null&&i!==void 0?i:[];return{requiredNamespaces:{[f1.WALLETCONNECT_MULTIVERSX_NAMESPACE]:{methods:s,chains:o,events:u}}}}cr.getConnectionParams=WU;function sle(t){try{return!QU.Address.fromBech32(t).isEmpty()}catch{return!1}}cr.addressIsValid=sle;function ole(t){let e=t.namespaces[f1.WALLETCONNECT_MULTIVERSX_NAMESPACE];if(e&&e.accounts){let r=e.accounts[0],[n,i,s]=r.split(":");return s}return""}cr.getAddressFromSession=ole;function ale({transaction:t,response:e}){if(!e)throw b2.Logger.error(eo.WalletConnectV2ProviderErrorMessagesEnum.invalidTransactionResponse),new Error(eo.WalletConnectV2ProviderErrorMessagesEnum.invalidTransactionResponse);let{signature:r,guardianSignature:n,version:i,options:s,guardian:o}=e,u=t.getGuardian().bech32();if(u&&u!==o)throw b2.Logger.error(eo.WalletConnectV2ProviderErrorMessagesEnum.invalidGuardian),new Error(eo.WalletConnectV2ProviderErrorMessagesEnum.invalidGuardian);return o&&t.setGuardian(QU.Address.fromBech32(o)),i&&t.setVersion(i),s!=null&&t.setOptions(s),t.applySignature(new jU.Signature(r)),n&&t.applyGuardianSignature(new jU.Signature(n)),t}cr.applyTransactionSignature=ale;function ule(t){if(t)return Object.assign(Object.assign({},t),{url:nle.getAppMetadata().url})}cr.getMetadata=ule;function cle(t){return rle(this,void 0,void 0,function*(){return yield new Promise(e=>setTimeout(()=>{e()},t))})}cr.sleep=cle});var ld=D(ln=>{"use strict";h();var rr=ln&&ln.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function u(f){try{c(n.next(f))}catch(d){o(d)}}function a(f){try{c(n.throw(f))}catch(d){o(d)}}function c(f){f.done?s(f.value):i(f.value).then(u,a)}c((n=n.apply(t,e||[])).next())})},lle=ln&&ln.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ln,"__esModule",{value:!0});ln.WalletConnectV2Provider=ln.OptionalOperation=ln.Operation=ln.WalletConnectV2ProviderErrorMessagesEnum=void 0;var fle=Yf(),hle=lle(_U()),S2=jh(),hu=a2(),fe=l2();Object.defineProperty(ln,"WalletConnectV2ProviderErrorMessagesEnum",{enumerable:!0,get:function(){return fe.WalletConnectV2ProviderErrorMessagesEnum}});var Me=h2(),$o=i1();Object.defineProperty(ln,"Operation",{enumerable:!0,get:function(){return $o.Operation}});Object.defineProperty(ln,"OptionalOperation",{enumerable:!0,get:function(){return $o.OptionalOperation}});var Or=$U(),I2=class{constructor(e,r,n,i,s){this.chainId="",this.address="",this.signature="",this.isInitializing=!1,this.processingTopic="",this.options={},this.onClientConnect=e,this.chainId=r,this.walletConnectV2Relay=n,this.walletConnectV2ProjectId=i,this.options=s}reset(){this.address="",this.signature="",this.walletConnector=void 0,this.session=void 0,this.pairings=void 0}init(){var e,r;return rr(this,void 0,void 0,function*(){if(this.isInitialized())return this.isInitialized();try{if(!this.isInitializing){this.isInitializing=!0,this.reset();let n=!((e=this.options)===null||e===void 0)&&e.metadata?{metadata:Or.getMetadata((r=this.options)===null||r===void 0?void 0:r.metadata)}:{},i=yield hle.default.init(Object.assign(Object.assign(Object.assign({},this.options),{relayUrl:this.walletConnectV2Relay,projectId:this.walletConnectV2ProjectId}),n));this.walletConnector=i,this.isInitializing=!1,yield this.subscribeToEvents(i),yield this.checkPersistedState(i)}}catch{throw new Error(fe.WalletConnectV2ProviderErrorMessagesEnum.unableToInit)}finally{return this.isInitializing=!1,this.isInitialized()}})}isInitialized(){return!!this.walletConnector&&!this.isInitializing}isConnected(){return new Promise((e,r)=>e(!!(this.isInitialized()&&typeof this.session<"u")))}connect(e){var r,n;return rr(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw new Error(fe.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);let i=Or.getConnectionParams(this.chainId,e);try{return yield this.walletConnector.connect(Object.assign({pairingTopic:e?.topic},i))}catch{if(e?.topic)try{(n=(r=this.walletConnector.core)===null||r===void 0?void 0:r.expirer)===null||n===void 0||n.set(e.topic,0)}catch{Me.Logger.error(fe.WalletConnectV2ProviderErrorMessagesEnum.unableToHandleCleanup)}throw this.reset(),Me.Logger.error(e?.topic?fe.WalletConnectV2ProviderErrorMessagesEnum.unableToConnectExisting:fe.WalletConnectV2ProviderErrorMessagesEnum.unableToConnect),new Error(e?.topic?fe.WalletConnectV2ProviderErrorMessagesEnum.unableToConnectExisting:fe.WalletConnectV2ProviderErrorMessagesEnum.unableToConnect)}})}login(e){var r;return rr(this,void 0,void 0,function*(){if(this.isInitializing=!0,typeof this.walletConnector>"u"&&(yield this.connect()),typeof this.walletConnector>"u")throw new Error(fe.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);typeof this.session<"u"&&(yield this.logout({topic:(r=this.session)===null||r===void 0?void 0:r.topic}));try{if(e&&e.approval){let n=yield e.approval();if(e.token){yield Or.sleep(hu.WALLETCONNECT_SIGN_LOGIN_DELAY);let i=Or.getAddressFromSession(n),o=n.namespaces[hu.WALLETCONNECT_MULTIVERSX_NAMESPACE].methods.includes($o.OptionalOperation.SIGN_NATIVE_AUTH_TOKEN)?$o.OptionalOperation.SIGN_NATIVE_AUTH_TOKEN:$o.OptionalOperation.SIGN_LOGIN_TOKEN,{signature:u}=yield this.walletConnector.request({chainId:`${hu.WALLETCONNECT_MULTIVERSX_NAMESPACE}:${this.chainId}`,topic:n.topic,request:{method:o,params:{token:e.token,address:i}}});if(!u)throw Me.Logger.error(fe.WalletConnectV2ProviderErrorMessagesEnum.unableToSignLoginToken),new Error(fe.WalletConnectV2ProviderErrorMessagesEnum.unableToSignLoginToken);return yield this.onSessionConnected({session:n,signature:u})}return yield this.onSessionConnected({session:n,signature:""})}}catch{throw this.reset(),Me.Logger.error(fe.WalletConnectV2ProviderErrorMessagesEnum.unableToLogin),new Error(fe.WalletConnectV2ProviderErrorMessagesEnum.unableToLogin)}finally{this.isInitializing=!1}return""})}logout(e){return rr(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw Me.Logger.error(fe.WalletConnectV2ProviderErrorMessagesEnum.notInitialized),new Error(fe.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);try{if(this.processingTopic===(e?.topic||Or.getCurrentTopic(this.chainId,this.walletConnector)))return!0;if(e?.topic)this.processingTopic=e.topic,yield this.walletConnector.disconnect({topic:e.topic,reason:S2.getSdkError("USER_DISCONNECTED")});else{let r=Or.getCurrentTopic(this.chainId,this.walletConnector);this.processingTopic=r,yield this.walletConnector.disconnect({topic:r,reason:S2.getSdkError("USER_DISCONNECTED")}),this.reset(),yield this.cleanupPendingPairings({deletePairings:!0})}}catch{Me.Logger.error(fe.WalletConnectV2ProviderErrorMessagesEnum.alreadyLoggedOut)}finally{this.processingTopic=""}return!0})}getAddress(){return rr(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw Me.Logger.error(fe.WalletConnectV2ProviderErrorMessagesEnum.notInitialized),new Error(fe.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);return this.address})}getSignature(){return rr(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw Me.Logger.error(fe.WalletConnectV2ProviderErrorMessagesEnum.notInitialized),new Error(fe.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);return this.signature})}getPairings(){var e,r,n,i,s;return rr(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw Me.Logger.error(fe.WalletConnectV2ProviderErrorMessagesEnum.notInitialized),new Error(fe.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);return(s=(i=(n=(r=(e=this.walletConnector)===null||e===void 0?void 0:e.core)===null||r===void 0?void 0:r.pairing)===null||n===void 0?void 0:n.pairings)===null||i===void 0?void 0:i.getAll({active:!0}))!==null&&s!==void 0?s:[]})}signMessage(e){return rr(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw Me.Logger.error(fe.WalletConnectV2ProviderErrorMessagesEnum.notInitialized),new Error(fe.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);if(typeof this.session>"u")throw Me.Logger.error(fe.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected),this.onClientConnect.onClientLogout(),new Error(fe.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected);try{let r=yield this.getAddress(),{signature:n}=yield this.walletConnector.request({chainId:`${hu.WALLETCONNECT_MULTIVERSX_NAMESPACE}:${this.chainId}`,topic:Or.getCurrentTopic(this.chainId,this.walletConnector),request:{method:$o.Operation.SIGN_MESSAGE,params:{address:r,message:e.message.toString()}}});if(!n)throw Me.Logger.error(fe.WalletConnectV2ProviderErrorMessagesEnum.invalidMessageResponse),new Error(fe.WalletConnectV2ProviderErrorMessagesEnum.invalidMessageResponse);try{e.applySignature(new fle.Signature(n))}catch{throw Me.Logger.error(fe.WalletConnectV2ProviderErrorMessagesEnum.invalidMessageSignature),new Error(fe.WalletConnectV2ProviderErrorMessagesEnum.invalidMessageSignature)}}catch{throw new Error(fe.WalletConnectV2ProviderErrorMessagesEnum.unableToSign)}return e})}signTransaction(e){return rr(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw Me.Logger.error(fe.WalletConnectV2ProviderErrorMessagesEnum.notInitialized),new Error(fe.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);if(typeof this.session>"u")throw Me.Logger.error(fe.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected),this.onClientConnect.onClientLogout(),new Error(fe.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected);let r=e.toPlainObject();if(this.chainId!==e.getChainID().valueOf())throw Me.Logger.error(fe.WalletConnectV2ProviderErrorMessagesEnum.requestDifferentChain),new Error(fe.WalletConnectV2ProviderErrorMessagesEnum.requestDifferentChain);try{let n=yield this.walletConnector.request({chainId:`${hu.WALLETCONNECT_MULTIVERSX_NAMESPACE}:${this.chainId}`,topic:Or.getCurrentTopic(this.chainId,this.walletConnector),request:{method:$o.Operation.SIGN_TRANSACTION,params:{transaction:r}}});return Or.applyTransactionSignature({transaction:e,response:n})}catch{throw new Error(fe.WalletConnectV2ProviderErrorMessagesEnum.transactionError)}})}signTransactions(e){return rr(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw Me.Logger.error(fe.WalletConnectV2ProviderErrorMessagesEnum.notInitialized),new Error(fe.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);if(typeof this.session>"u")throw Me.Logger.error(fe.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected),this.onClientConnect.onClientLogout(),new Error(fe.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected);let r=e.map(n=>{if(this.chainId!==n.getChainID().valueOf())throw Me.Logger.error(fe.WalletConnectV2ProviderErrorMessagesEnum.requestDifferentChain),new Error(fe.WalletConnectV2ProviderErrorMessagesEnum.requestDifferentChain);return n.toPlainObject()});try{let{signatures:n}=yield this.walletConnector.request({chainId:`${hu.WALLETCONNECT_MULTIVERSX_NAMESPACE}:${this.chainId}`,topic:Or.getCurrentTopic(this.chainId,this.walletConnector),request:{method:$o.Operation.SIGN_TRANSACTIONS,params:{transactions:r}}});if(!n)throw Me.Logger.error(fe.WalletConnectV2ProviderErrorMessagesEnum.invalidTransactionResponse),new Error(fe.WalletConnectV2ProviderErrorMessagesEnum.invalidTransactionResponse);if(!Array.isArray(n)||e.length!==n.length)throw new Error(fe.WalletConnectV2ProviderErrorMessagesEnum.invalidTransactionResponse);for(let[i,s]of e.entries()){let o=n[i];Or.applyTransactionSignature({transaction:s,response:o})}return e}catch{throw new Error(fe.WalletConnectV2ProviderErrorMessagesEnum.transactionError)}})}sendCustomRequest(e){var r;return rr(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw Me.Logger.error(fe.WalletConnectV2ProviderErrorMessagesEnum.notInitialized),new Error(fe.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);if(typeof this.session>"u")throw Me.Logger.error(fe.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected),this.onClientConnect.onClientLogout(),new Error(fe.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected);if(!((r=e?.request)===null||r===void 0)&&r.method){try{let n=Object.assign({},e.request),{method:i}=n,{response:s}=yield this.walletConnector.request({chainId:`${hu.WALLETCONNECT_MULTIVERSX_NAMESPACE}:${this.chainId}`,topic:Or.getCurrentTopic(this.chainId,this.walletConnector),request:Object.assign(Object.assign({},n),{method:i})});s||Me.Logger.error(fe.WalletConnectV2ProviderErrorMessagesEnum.invalidCustomRequestResponse)}catch{Me.Logger.error(fe.WalletConnectV2ProviderErrorMessagesEnum.invalidCustomRequestResponse)}return}})}ping(){return rr(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw Me.Logger.error(fe.WalletConnectV2ProviderErrorMessagesEnum.notInitialized),new Error(fe.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);typeof this.session>"u"&&Me.Logger.error(fe.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected);try{let e=Or.getCurrentTopic(this.chainId,this.walletConnector);return yield this.walletConnector.ping({topic:e}),!0}catch{return Me.Logger.error(fe.WalletConnectV2ProviderErrorMessagesEnum.pingFailed),!1}})}loginAccount(e){return rr(this,void 0,void 0,function*(){return e?Or.addressIsValid(e.address)?(this.address=e.address,e.signature&&(this.signature=e.signature),this.onClientConnect.onClientLogin(),this.address):(Me.Logger.error(`${fe.WalletConnectV2ProviderErrorMessagesEnum.invalidAddress} ${e.address}`),this.walletConnector&&(yield this.logout()),""):""})}onSessionConnected(e){return rr(this,void 0,void 0,function*(){if(!e)return"";this.session=e.session;let r=Or.getAddressFromSession(e.session);return r?(yield this.loginAccount({address:r,signature:e.signature}),r):""})}handleTopicUpdateEvent({topic:e}){return rr(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u"){Me.Logger.error(fe.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);return}try{let r=yield this.getPairings();if(this.address&&!this.isInitializing&&r)if(r?.length===0)this.onClientConnect.onClientLogout();else{let n=r[r.length-1];n?.topic===e&&this.onClientConnect.onClientLogout()}}catch{Me.Logger.error(fe.WalletConnectV2ProviderErrorMessagesEnum.unableToHandleTopic)}finally{this.pairings=yield this.getPairings()}})}handleSessionEvents({topic:e,params:r}){var n;return rr(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw new Error(fe.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);if(this.session&&((n=this.session)===null||n===void 0?void 0:n.topic)!==e)return;let{event:i}=r;if(i?.name&&Or.getCurrentTopic(this.chainId,this.walletConnector)===e){let s=i.data;this.onClientConnect.onClientEvent(s)}})}subscribeToEvents(e){var r,n,i,s;return rr(this,void 0,void 0,function*(){if(typeof e>"u")throw new Error(fe.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);try{e.on("session_update",({topic:o,params:u})=>{var a;if(!this.session||((a=this.session)===null||a===void 0?void 0:a.topic)!==o)return;let{namespaces:c}=u,f=e.session.get(o),d=Object.assign(Object.assign({},f),{namespaces:c});this.onSessionConnected({session:d})}),e.on("session_event",this.handleSessionEvents.bind(this)),e.on("session_delete",({topic:o})=>rr(this,void 0,void 0,function*(){var u;this.isInitializing&&(this.onClientConnect.onClientLogout(),this.reset()),!(!this.session||((u=this.session)===null||u===void 0?void 0:u.topic)!==o)&&(Me.Logger.error(fe.WalletConnectV2ProviderErrorMessagesEnum.sessionDeleted),this.onClientConnect.onClientLogout(),this.reset(),yield this.cleanupPendingPairings({deletePairings:!0}))})),e.on("session_expire",({topic:o})=>rr(this,void 0,void 0,function*(){var u;!this.session||((u=this.session)===null||u===void 0?void 0:u.topic)!==o||(Me.Logger.error(fe.WalletConnectV2ProviderErrorMessagesEnum.sessionExpired),this.onClientConnect.onClientLogout(),this.reset(),yield this.cleanupPendingPairings({deletePairings:!0}))})),(n=(r=e.core)===null||r===void 0?void 0:r.pairing)===null||n===void 0||n.events.on("pairing_delete",this.handleTopicUpdateEvent.bind(this)),(s=(i=e.core)===null||i===void 0?void 0:i.pairing)===null||s===void 0||s.events.on("pairing_expire",this.handleTopicUpdateEvent.bind(this))}catch{Me.Logger.error(fe.WalletConnectV2ProviderErrorMessagesEnum.unableToHandleEvent)}})}checkPersistedState(e){return rr(this,void 0,void 0,function*(){if(typeof e>"u")throw new Error(fe.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);if(this.pairings=yield this.getPairings(),!(typeof this.session<"u")&&e.session.length&&!this.address&&!this.isInitializing){let r=Or.getCurrentSession(this.chainId,e);if(r)return yield this.onSessionConnected({session:r}),r}})}cleanupPendingPairings(e={}){var r,n,i,s,o,u,a,c;return rr(this,void 0,void 0,function*(){if(!(typeof this.walletConnector>"u"))try{let f=(i=(n=(r=this.walletConnector.core)===null||r===void 0?void 0:r.pairing)===null||n===void 0?void 0:n.pairings)===null||i===void 0?void 0:i.getAll({active:!1});if(!S2.isValidArray(f))return;for(let d of f)if(e.deletePairings)(o=(s=this.walletConnector.core)===null||s===void 0?void 0:s.expirer)===null||o===void 0||o.set(d.topic,0);else try{yield(c=(a=(u=this.walletConnector.core)===null||u===void 0?void 0:u.relayer)===null||a===void 0?void 0:a.subscriber)===null||c===void 0?void 0:c.unsubscribe(d.topic)}catch{Me.Logger.error(fe.WalletConnectV2ProviderErrorMessagesEnum.unableToHandleCleanup)}}catch{Me.Logger.error(fe.WalletConnectV2ProviderErrorMessagesEnum.unableToHandleCleanup)}})}};ln.WalletConnectV2Provider=I2});var JU=D((q_e,YU)=>{"use strict";h();YU.exports=Error});var ZU=D((k_e,XU)=>{"use strict";h();XU.exports=EvalError});var tq=D((G_e,eq)=>{"use strict";h();eq.exports=RangeError});var nq=D((z_e,rq)=>{"use strict";h();rq.exports=ReferenceError});var _2=D((K_e,iq)=>{"use strict";h();iq.exports=SyntaxError});var Al=D(($_e,sq)=>{"use strict";h();sq.exports=TypeError});var aq=D((J_e,oq)=>{"use strict";h();oq.exports=URIError});var cq=D((Z_e,uq)=>{"use strict";h();uq.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0}});var hq=D((tTe,fq)=>{"use strict";h();var lq=typeof Symbol<"u"&&Symbol,dle=cq();fq.exports=function(){return typeof lq!="function"||typeof Symbol!="function"||typeof lq("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:dle()}});var gq=D((nTe,dq)=>{"use strict";h();var T2={__proto__:null,foo:{}},gle=Object;dq.exports=function(){return{__proto__:T2}.foo===T2.foo&&!(T2 instanceof gle)}});var yq=D((sTe,mq)=>{"use strict";h();var ple="Function.prototype.bind called on incompatible ",mle=Object.prototype.toString,yle=Math.max,wle="[object Function]",pq=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var s=0;s<r.length;s+=1)n[s+e.length]=r[s];return n},vle=function(e,r){for(var n=[],i=r||0,s=0;i<e.length;i+=1,s+=1)n[s]=e[i];return n},Ale=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r};mq.exports=function(e){var r=this;if(typeof r!="function"||mle.apply(r)!==wle)throw new TypeError(ple+r);for(var n=vle(arguments,1),i,s=function(){if(this instanceof i){var f=r.apply(this,pq(n,arguments));return Object(f)===f?f:this}return r.apply(e,pq(n,arguments))},o=yle(0,r.length-n.length),u=[],a=0;a<o;a++)u[a]="$"+a;if(i=Function("binder","return function ("+Ale(u,",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var c=function(){};c.prototype=r.prototype,i.prototype=new c,c.prototype=null}return i}});var h1=D((aTe,wq)=>{"use strict";h();var Ele=yq();wq.exports=Function.prototype.bind||Ele});var Aq=D((cTe,vq)=>{"use strict";h();var ble=Function.prototype.call,Sle=Object.prototype.hasOwnProperty,Ile=h1();vq.exports=Ile.call(ble,Sle)});var pu=D((fTe,_q)=>{"use strict";h();var Re,_le=JU(),Tle=ZU(),Cle=tq(),Nle=nq(),Il=_2(),Sl=Al(),xle=aq(),Iq=Function,C2=function(t){try{return Iq('"use strict"; return ('+t+").constructor;")()}catch{}},du=Object.getOwnPropertyDescriptor;if(du)try{du({},"")}catch{du=null}var N2=function(){throw new Sl},Ole=du?function(){try{return arguments.callee,N2}catch{try{return du(arguments,"callee").get}catch{return N2}}}():N2,El=hq()(),Dle=gq()(),Ir=Object.getPrototypeOf||(Dle?function(t){return t.__proto__}:null),bl={},Ple=typeof Uint8Array>"u"||!Ir?Re:Ir(Uint8Array),gu={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?Re:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Re:ArrayBuffer,"%ArrayIteratorPrototype%":El&&Ir?Ir([][Symbol.iterator]()):Re,"%AsyncFromSyncIteratorPrototype%":Re,"%AsyncFunction%":bl,"%AsyncGenerator%":bl,"%AsyncGeneratorFunction%":bl,"%AsyncIteratorPrototype%":bl,"%Atomics%":typeof Atomics>"u"?Re:Atomics,"%BigInt%":typeof BigInt>"u"?Re:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Re:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Re:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Re:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":_le,"%eval%":eval,"%EvalError%":Tle,"%Float32Array%":typeof Float32Array>"u"?Re:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Re:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Re:FinalizationRegistry,"%Function%":Iq,"%GeneratorFunction%":bl,"%Int8Array%":typeof Int8Array>"u"?Re:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Re:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Re:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":El&&Ir?Ir(Ir([][Symbol.iterator]())):Re,"%JSON%":typeof JSON=="object"?JSON:Re,"%Map%":typeof Map>"u"?Re:Map,"%MapIteratorPrototype%":typeof Map>"u"||!El||!Ir?Re:Ir(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Re:Promise,"%Proxy%":typeof Proxy>"u"?Re:Proxy,"%RangeError%":Cle,"%ReferenceError%":Nle,"%Reflect%":typeof Reflect>"u"?Re:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Re:Set,"%SetIteratorPrototype%":typeof Set>"u"||!El||!Ir?Re:Ir(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Re:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":El&&Ir?Ir(""[Symbol.iterator]()):Re,"%Symbol%":El?Symbol:Re,"%SyntaxError%":Il,"%ThrowTypeError%":Ole,"%TypedArray%":Ple,"%TypeError%":Sl,"%Uint8Array%":typeof Uint8Array>"u"?Re:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Re:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Re:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Re:Uint32Array,"%URIError%":xle,"%WeakMap%":typeof WeakMap>"u"?Re:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Re:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Re:WeakSet};if(Ir)try{null.error}catch(t){Eq=Ir(Ir(t)),gu["%Error.prototype%"]=Eq}var Eq,Rle=function t(e){var r;if(e==="%AsyncFunction%")r=C2("async function () {}");else if(e==="%GeneratorFunction%")r=C2("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=C2("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&Ir&&(r=Ir(i.prototype))}return gu[e]=r,r},bq={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},fd=h1(),d1=Aq(),Ble=fd.call(Function.call,Array.prototype.concat),Mle=fd.call(Function.apply,Array.prototype.splice),Sq=fd.call(Function.call,String.prototype.replace),g1=fd.call(Function.call,String.prototype.slice),Lle=fd.call(Function.call,RegExp.prototype.exec),Fle=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Ule=/\\(\\)?/g,qle=function(e){var r=g1(e,0,1),n=g1(e,-1);if(r==="%"&&n!=="%")throw new Il("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new Il("invalid intrinsic syntax, expected opening `%`");var i=[];return Sq(e,Fle,function(s,o,u,a){i[i.length]=u?Sq(a,Ule,"$1"):o||s}),i},Vle=function(e,r){var n=e,i;if(d1(bq,n)&&(i=bq[n],n="%"+i[0]+"%"),d1(gu,n)){var s=gu[n];if(s===bl&&(s=Rle(n)),typeof s>"u"&&!r)throw new Sl("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new Il("intrinsic "+e+" does not exist!")};_q.exports=function(e,r){if(typeof e!="string"||e.length===0)throw new Sl("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Sl('"allowMissing" argument must be a boolean');if(Lle(/^%?[^%]*%?$/,e)===null)throw new Il("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=qle(e),i=n.length>0?n[0]:"",s=Vle("%"+i+"%",r),o=s.name,u=s.value,a=!1,c=s.alias;c&&(i=c[0],Mle(n,Ble([0,1],c)));for(var f=1,d=!0;f<n.length;f+=1){var w=n[f],A=g1(w,0,1),_=g1(w,-1);if((A==='"'||A==="'"||A==="`"||_==='"'||_==="'"||_==="`")&&A!==_)throw new Il("property names with quotes must have matching quotes");if((w==="constructor"||!d)&&(a=!0),i+="."+w,o="%"+i+"%",d1(gu,o))u=gu[o];else if(u!=null){if(!(w in u)){if(!r)throw new Sl("base intrinsic for "+e+" exists, but the property is not available.");return}if(du&&f+1>=n.length){var N=du(u,w);d=!!N,d&&"get"in N&&!("originalValue"in N.get)?u=N.get:u=u[w]}else d=d1(u,w),u=u[w];d&&!a&&(gu[o]=u)}}return u}});var m1=D((dTe,Tq)=>{"use strict";h();var kle=pu(),p1=kle("%Object.defineProperty%",!0)||!1;if(p1)try{p1({},"a",{value:1})}catch{p1=!1}Tq.exports=p1});var x2=D((pTe,Cq)=>{"use strict";h();var Hle=pu(),y1=Hle("%Object.getOwnPropertyDescriptor%",!0);if(y1)try{y1([],"length")}catch{y1=null}Cq.exports=y1});var Dq=D((yTe,Oq)=>{"use strict";h();var Nq=m1(),Gle=_2(),_l=Al(),xq=x2();Oq.exports=function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new _l("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new _l("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new _l("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new _l("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new _l("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new _l("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,s=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,u=arguments.length>6?arguments[6]:!1,a=!!xq&&xq(e,r);if(Nq)Nq(e,r,{configurable:o===null&&a?a.configurable:!o,enumerable:i===null&&a?a.enumerable:!i,value:n,writable:s===null&&a?a.writable:!s});else if(u||!i&&!s&&!o)e[r]=n;else throw new Gle("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")}});var Bq=D((vTe,Rq)=>{"use strict";h();var O2=m1(),Pq=function(){return!!O2};Pq.hasArrayLengthDefineBug=function(){if(!O2)return null;try{return O2([],"length",{value:1}).length!==1}catch{return!0}};Rq.exports=Pq});var qq=D((ETe,Uq)=>{"use strict";h();var jle=pu(),Mq=Dq(),zle=Bq()(),Lq=x2(),Fq=Al(),Qle=jle("%Math.floor%");Uq.exports=function(e,r){if(typeof e!="function")throw new Fq("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||Qle(r)!==r)throw new Fq("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,s=!0;if("length"in e&&Lq){var o=Lq(e,"length");o&&!o.configurable&&(i=!1),o&&!o.writable&&(s=!1)}return(i||s||!n)&&(zle?Mq(e,"length",r,!0,!0):Mq(e,"length",r)),e}});var zq=D((STe,w1)=>{"use strict";h();var D2=h1(),v1=pu(),Kle=qq(),Wle=Al(),Hq=v1("%Function.prototype.apply%"),Gq=v1("%Function.prototype.call%"),jq=v1("%Reflect.apply%",!0)||D2.call(Gq,Hq),Vq=m1(),$le=v1("%Math.max%");w1.exports=function(e){if(typeof e!="function")throw new Wle("a function is required");var r=jq(D2,Gq,arguments);return Kle(r,1+$le(0,e.length-(arguments.length-1)),!0)};var kq=function(){return jq(D2,Hq,arguments)};Vq?Vq(w1.exports,"apply",{value:kq}):w1.exports.apply=kq});var $q=D((_Te,Wq)=>{"use strict";h();var Qq=pu(),Kq=zq(),Yle=Kq(Qq("String.prototype.indexOf"));Wq.exports=function(e,r){var n=Qq(e,!!r);return typeof n=="function"&&Yle(e,".prototype.")>-1?Kq(n):n}});var Yq=D(()=>{h()});var m7=D((OTe,p7)=>{h();var k2=typeof Map=="function"&&Map.prototype,P2=Object.getOwnPropertyDescriptor&&k2?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,E1=k2&&P2&&typeof P2.get=="function"?P2.get:null,Jq=k2&&Map.prototype.forEach,H2=typeof Set=="function"&&Set.prototype,R2=Object.getOwnPropertyDescriptor&&H2?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,b1=H2&&R2&&typeof R2.get=="function"?R2.get:null,Xq=H2&&Set.prototype.forEach,Jle=typeof WeakMap=="function"&&WeakMap.prototype,dd=Jle?WeakMap.prototype.has:null,Xle=typeof WeakSet=="function"&&WeakSet.prototype,gd=Xle?WeakSet.prototype.has:null,Zle=typeof WeakRef=="function"&&WeakRef.prototype,Zq=Zle?WeakRef.prototype.deref:null,efe=Boolean.prototype.valueOf,tfe=Object.prototype.toString,rfe=Function.prototype.toString,nfe=String.prototype.match,G2=String.prototype.slice,Jo=String.prototype.replace,ife=String.prototype.toUpperCase,e7=String.prototype.toLowerCase,c7=RegExp.prototype.test,t7=Array.prototype.concat,As=Array.prototype.join,sfe=Array.prototype.slice,r7=Math.floor,L2=typeof BigInt=="function"?BigInt.prototype.valueOf:null,B2=Object.getOwnPropertySymbols,F2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Tl=typeof Symbol=="function"&&typeof Symbol.iterator=="object",qr=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Tl||!0)?Symbol.toStringTag:null,l7=Object.prototype.propertyIsEnumerable,n7=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function i7(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||c7.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-r7(-t):r7(t);if(n!==t){var i=String(n),s=G2.call(e,i.length+1);return Jo.call(i,r,"$&_")+"."+Jo.call(Jo.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Jo.call(e,r,"$&_")}var U2=Yq(),s7=U2.custom,o7=h7(s7)?s7:null;p7.exports=function t(e,r,n,i){var s=r||{};if(Yo(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Yo(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=Yo(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Yo(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Yo(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var u=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return g7(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var a=String(e);return u?i7(e,a):a}if(typeof e=="bigint"){var c=String(e)+"n";return u?i7(e,c):c}var f=typeof s.depth>"u"?5:s.depth;if(typeof n>"u"&&(n=0),n>=f&&f>0&&typeof e=="object")return q2(e)?"[Array]":"[Object]";var d=Sfe(s,n);if(typeof i>"u")i=[];else if(d7(i,e)>=0)return"[Circular]";function w(l,g,y){if(g&&(i=sfe.call(i),i.push(g)),y){var E={depth:s.depth};return Yo(s,"quoteStyle")&&(E.quoteStyle=s.quoteStyle),t(l,E,n+1,i)}return t(l,s,n+1,i)}if(typeof e=="function"&&!a7(e)){var A=gfe(e),_=A1(e,w);return"[Function"+(A?": "+A:" (anonymous)")+"]"+(_.length>0?" { "+As.call(_,", ")+" }":"")}if(h7(e)){var N=Tl?Jo.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):F2.call(e);return typeof e=="object"&&!Tl?hd(N):N}if(Afe(e)){for(var P="<"+e7.call(String(e.nodeName)),V=e.attributes||[],U=0;U<V.length;U++)P+=" "+V[U].name+"="+f7(ofe(V[U].value),"double",s);return P+=">",e.childNodes&&e.childNodes.length&&(P+="..."),P+="</"+e7.call(String(e.nodeName))+">",P}if(q2(e)){if(e.length===0)return"[]";var Q=A1(e,w);return d&&!bfe(Q)?"["+V2(Q,d)+"]":"[ "+As.call(Q,", ")+" ]"}if(ufe(e)){var L=A1(e,w);return!("cause"in Error.prototype)&&"cause"in e&&!l7.call(e,"cause")?"{ ["+String(e)+"] "+As.call(t7.call("[cause]: "+w(e.cause),L),", ")+" }":L.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+As.call(L,", ")+" }"}if(typeof e=="object"&&o){if(o7&&typeof e[o7]=="function"&&U2)return U2(e,{depth:f-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(pfe(e)){var k=[];return Jq&&Jq.call(e,function(l,g){k.push(w(g,e,!0)+" => "+w(l,e))}),u7("Map",E1.call(e),k,d)}if(wfe(e)){var H=[];return Xq&&Xq.call(e,function(l){H.push(w(l,e))}),u7("Set",b1.call(e),H,d)}if(mfe(e))return M2("WeakMap");if(vfe(e))return M2("WeakSet");if(yfe(e))return M2("WeakRef");if(lfe(e))return hd(w(Number(e)));if(hfe(e))return hd(w(L2.call(e)));if(ffe(e))return hd(efe.call(e));if(cfe(e))return hd(w(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(e===global)return"{ [object globalThis] }";if(!afe(e)&&!a7(e)){var q=A1(e,w),v=n7?n7(e)===Object.prototype:e instanceof Object||e.constructor===Object,C=e instanceof Object?"":"null prototype",R=!v&&qr&&Object(e)===e&&qr in e?G2.call(Xo(e),8,-1):C?"Object":"",F=v||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",B=F+(R||C?"["+As.call(t7.call([],R||[],C||[]),": ")+"] ":"");return q.length===0?B+"{}":d?B+"{"+V2(q,d)+"}":B+"{ "+As.call(q,", ")+" }"}return String(e)};function f7(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function ofe(t){return Jo.call(String(t),/"/g,"&quot;")}function q2(t){return Xo(t)==="[object Array]"&&(!qr||!(typeof t=="object"&&qr in t))}function afe(t){return Xo(t)==="[object Date]"&&(!qr||!(typeof t=="object"&&qr in t))}function a7(t){return Xo(t)==="[object RegExp]"&&(!qr||!(typeof t=="object"&&qr in t))}function ufe(t){return Xo(t)==="[object Error]"&&(!qr||!(typeof t=="object"&&qr in t))}function cfe(t){return Xo(t)==="[object String]"&&(!qr||!(typeof t=="object"&&qr in t))}function lfe(t){return Xo(t)==="[object Number]"&&(!qr||!(typeof t=="object"&&qr in t))}function ffe(t){return Xo(t)==="[object Boolean]"&&(!qr||!(typeof t=="object"&&qr in t))}function h7(t){if(Tl)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!F2)return!1;try{return F2.call(t),!0}catch{}return!1}function hfe(t){if(!t||typeof t!="object"||!L2)return!1;try{return L2.call(t),!0}catch{}return!1}var dfe=Object.prototype.hasOwnProperty||function(t){return t in this};function Yo(t,e){return dfe.call(t,e)}function Xo(t){return tfe.call(t)}function gfe(t){if(t.name)return t.name;var e=nfe.call(rfe.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function d7(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function pfe(t){if(!E1||!t||typeof t!="object")return!1;try{E1.call(t);try{b1.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function mfe(t){if(!dd||!t||typeof t!="object")return!1;try{dd.call(t,dd);try{gd.call(t,gd)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function yfe(t){if(!Zq||!t||typeof t!="object")return!1;try{return Zq.call(t),!0}catch{}return!1}function wfe(t){if(!b1||!t||typeof t!="object")return!1;try{b1.call(t);try{E1.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function vfe(t){if(!gd||!t||typeof t!="object")return!1;try{gd.call(t,gd);try{dd.call(t,dd)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function Afe(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function g7(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return g7(G2.call(t,0,e.maxStringLength),e)+n}var i=Jo.call(Jo.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Efe);return f7(i,"single",e)}function Efe(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+ife.call(e.toString(16))}function hd(t){return"Object("+t+")"}function M2(t){return t+" { ? }"}function u7(t,e,r,n){var i=n?V2(r,n):As.call(r,", ");return t+" ("+e+") {"+i+"}"}function bfe(t){for(var e=0;e<t.length;e++)if(d7(t[e],`
`)>=0)return!1;return!0}function Sfe(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=As.call(Array(t.indent+1)," ");else return null;return{base:r,prev:As.call(Array(e+1),r)}}function V2(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+As.call(t,","+r)+`
`+e.prev}function A1(t,e){var r=q2(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=Yo(t,i)?e(t[i],t):""}var s=typeof B2=="function"?B2(t):[],o;if(Tl){o={};for(var u=0;u<s.length;u++)o["$"+s[u]]=s[u]}for(var a in t)Yo(t,a)&&(r&&String(Number(a))===a&&a<t.length||Tl&&o["$"+a]instanceof Symbol||(c7.call(/[^\w$]/,a)?n.push(e(a,t)+": "+e(t[a],t)):n.push(a+": "+e(t[a],t))));if(typeof B2=="function")for(var c=0;c<s.length;c++)l7.call(t,s[c])&&n.push("["+e(s[c])+"]: "+e(t[s[c]],t));return n}});var v7=D((PTe,w7)=>{"use strict";h();var y7=pu(),Cl=$q(),Ife=m7(),_fe=Al(),S1=y7("%WeakMap%",!0),I1=y7("%Map%",!0),Tfe=Cl("WeakMap.prototype.get",!0),Cfe=Cl("WeakMap.prototype.set",!0),Nfe=Cl("WeakMap.prototype.has",!0),xfe=Cl("Map.prototype.get",!0),Ofe=Cl("Map.prototype.set",!0),Dfe=Cl("Map.prototype.has",!0),j2=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},Pfe=function(t,e){var r=j2(t,e);return r&&r.value},Rfe=function(t,e,r){var n=j2(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},Bfe=function(t,e){return!!j2(t,e)};w7.exports=function(){var e,r,n,i={assert:function(s){if(!i.has(s))throw new _fe("Side channel does not contain "+Ife(s))},get:function(s){if(S1&&s&&(typeof s=="object"||typeof s=="function")){if(e)return Tfe(e,s)}else if(I1){if(r)return xfe(r,s)}else if(n)return Pfe(n,s)},has:function(s){if(S1&&s&&(typeof s=="object"||typeof s=="function")){if(e)return Nfe(e,s)}else if(I1){if(r)return Dfe(r,s)}else if(n)return Bfe(n,s);return!1},set:function(s,o){S1&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new S1),Cfe(e,s,o)):I1?(r||(r=new I1),Ofe(r,s,o)):(n||(n={key:{},next:null}),Rfe(n,s,o))}};return i}});var _1=D((BTe,A7)=>{"use strict";h();var Mfe=String.prototype.replace,Lfe=/%20/g,z2={RFC1738:"RFC1738",RFC3986:"RFC3986"};A7.exports={default:z2.RFC3986,formatters:{RFC1738:function(t){return Mfe.call(t,Lfe,"+")},RFC3986:function(t){return String(t)}},RFC1738:z2.RFC1738,RFC3986:z2.RFC3986}});var K2=D((LTe,b7)=>{"use strict";h();var Ffe=_1(),Q2=Object.prototype.hasOwnProperty,mu=Array.isArray,Es=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),Ufe=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(mu(n)){for(var i=[],s=0;s<n.length;++s)typeof n[s]<"u"&&i.push(n[s]);r.obj[r.prop]=i}}},E7=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},qfe=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(mu(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!Q2.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return mu(e)&&!mu(r)&&(i=E7(e,n)),mu(e)&&mu(r)?(r.forEach(function(s,o){if(Q2.call(e,o)){var u=e[o];u&&typeof u=="object"&&s&&typeof s=="object"?e[o]=t(u,s,n):e.push(s)}else e[o]=s}),e):Object.keys(r).reduce(function(s,o){var u=r[o];return Q2.call(s,o)?s[o]=t(s[o],u,n):s[o]=u,s},i)},Vfe=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},kfe=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},Hfe=function(e,r,n,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(f){return"%26%23"+parseInt(f.slice(2),16)+"%3B"});for(var u="",a=0;a<o.length;++a){var c=o.charCodeAt(a);if(c===45||c===46||c===95||c===126||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122||s===Ffe.RFC1738&&(c===40||c===41)){u+=o.charAt(a);continue}if(c<128){u=u+Es[c];continue}if(c<2048){u=u+(Es[192|c>>6]+Es[128|c&63]);continue}if(c<55296||c>=57344){u=u+(Es[224|c>>12]+Es[128|c>>6&63]+Es[128|c&63]);continue}a+=1,c=65536+((c&1023)<<10|o.charCodeAt(a)&1023),u+=Es[240|c>>18]+Es[128|c>>12&63]+Es[128|c>>6&63]+Es[128|c&63]}return u},Gfe=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var s=r[i],o=s.obj[s.prop],u=Object.keys(o),a=0;a<u.length;++a){var c=u[a],f=o[c];typeof f=="object"&&f!==null&&n.indexOf(f)===-1&&(r.push({obj:o,prop:c}),n.push(f))}return Ufe(r),e},jfe=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},zfe=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},Qfe=function(e,r){return[].concat(e,r)},Kfe=function(e,r){if(mu(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)};b7.exports={arrayToObject:E7,assign:Vfe,combine:Qfe,compact:Gfe,decode:kfe,encode:Hfe,isBuffer:zfe,isRegExp:jfe,maybeMap:Kfe,merge:qfe}});var N7=D((UTe,C7)=>{"use strict";h();var _7=v7(),$2=K2(),pd=_1(),Wfe=Object.prototype.hasOwnProperty,S7={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},yu=Array.isArray,$fe=String.prototype.split,Yfe=Array.prototype.push,T7=function(t,e){Yfe.apply(t,yu(e)?e:[e])},Jfe=Date.prototype.toISOString,I7=pd.default,Dr={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:$2.encode,encodeValuesOnly:!1,format:I7,formatter:pd.formatters[I7],indices:!1,serializeDate:function(e){return Jfe.call(e)},skipNulls:!1,strictNullHandling:!1},Xfe=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},W2={},Zfe=function t(e,r,n,i,s,o,u,a,c,f,d,w,A,_,N){for(var P=e,V=N,U=0,Q=!1;(V=V.get(W2))!==void 0&&!Q;){var L=V.get(e);if(U+=1,typeof L<"u"){if(L===U)throw new RangeError("Cyclic object value");Q=!0}typeof V.get(W2)>"u"&&(U=0)}if(typeof u=="function"?P=u(r,P):P instanceof Date?P=f(P):n==="comma"&&yu(P)&&(P=$2.maybeMap(P,function(I){return I instanceof Date?f(I):I})),P===null){if(i)return o&&!A?o(r,Dr.encoder,_,"key",d):r;P=""}if(Xfe(P)||$2.isBuffer(P)){if(o){var k=A?r:o(r,Dr.encoder,_,"key",d);if(n==="comma"&&A){for(var H=$fe.call(String(P),","),q="",v=0;v<H.length;++v)q+=(v===0?"":",")+w(o(H[v],Dr.encoder,_,"value",d));return[w(k)+"="+q]}return[w(k)+"="+w(o(P,Dr.encoder,_,"value",d))]}return[w(r)+"="+w(String(P))]}var C=[];if(typeof P>"u")return C;var R;if(n==="comma"&&yu(P))R=[{value:P.length>0?P.join(",")||null:void 0}];else if(yu(u))R=u;else{var F=Object.keys(P);R=a?F.sort(a):F}for(var B=0;B<R.length;++B){var l=R[B],g=typeof l=="object"&&typeof l.value<"u"?l.value:P[l];if(!(s&&g===null)){var y=yu(P)?typeof n=="function"?n(r,l):r:r+(c?"."+l:"["+l+"]");N.set(e,U);var E=_7();E.set(W2,N),T7(C,t(g,y,n,i,s,o,u,a,c,f,d,w,A,_,E))}}return C},ehe=function(e){if(!e)return Dr;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||Dr.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=pd.default;if(typeof e.format<"u"){if(!Wfe.call(pd.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=pd.formatters[n],s=Dr.filter;return(typeof e.filter=="function"||yu(e.filter))&&(s=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Dr.addQueryPrefix,allowDots:typeof e.allowDots>"u"?Dr.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Dr.charsetSentinel,delimiter:typeof e.delimiter>"u"?Dr.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Dr.encode,encoder:typeof e.encoder=="function"?e.encoder:Dr.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Dr.encodeValuesOnly,filter:s,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Dr.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Dr.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Dr.strictNullHandling}};C7.exports=function(t,e){var r=t,n=ehe(e),i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):yu(n.filter)&&(s=n.filter,i=s);var o=[];if(typeof r!="object"||r===null)return"";var u;e&&e.arrayFormat in S7?u=e.arrayFormat:e&&"indices"in e?u=e.indices?"indices":"repeat":u="indices";var a=S7[u];i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var c=_7(),f=0;f<i.length;++f){var d=i[f];n.skipNulls&&r[d]===null||T7(o,Zfe(r[d],d,a,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,c))}var w=o.join(n.delimiter),A=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?A+="utf8=%26%2310003%3B&":A+="utf8=%E2%9C%93&"),w.length>0?A+w:""}});var D7=D((VTe,O7)=>{"use strict";h();var Nl=K2(),Y2=Object.prototype.hasOwnProperty,the=Array.isArray,_r={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:Nl.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},rhe=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},x7=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},nhe="utf8=%26%2310003%3B",ihe="utf8=%E2%9C%93",she=function(e,r){var n={},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,s),u=-1,a,c=r.charset;if(r.charsetSentinel)for(a=0;a<o.length;++a)o[a].indexOf("utf8=")===0&&(o[a]===ihe?c="utf-8":o[a]===nhe&&(c="iso-8859-1"),u=a,a=o.length);for(a=0;a<o.length;++a)if(a!==u){var f=o[a],d=f.indexOf("]="),w=d===-1?f.indexOf("="):d+1,A,_;w===-1?(A=r.decoder(f,_r.decoder,c,"key"),_=r.strictNullHandling?null:""):(A=r.decoder(f.slice(0,w),_r.decoder,c,"key"),_=Nl.maybeMap(x7(f.slice(w+1),r),function(N){return r.decoder(N,_r.decoder,c,"value")})),_&&r.interpretNumericEntities&&c==="iso-8859-1"&&(_=rhe(_)),f.indexOf("[]=")>-1&&(_=the(_)?[_]:_),Y2.call(n,A)?n[A]=Nl.combine(n[A],_):n[A]=_}return n},ohe=function(t,e,r,n){for(var i=n?e:x7(e,r),s=t.length-1;s>=0;--s){var o,u=t[s];if(u==="[]"&&r.parseArrays)o=[].concat(i);else{o=r.plainObjects?Object.create(null):{};var a=u.charAt(0)==="["&&u.charAt(u.length-1)==="]"?u.slice(1,-1):u,c=parseInt(a,10);!r.parseArrays&&a===""?o={0:i}:!isNaN(c)&&u!==a&&String(c)===a&&c>=0&&r.parseArrays&&c<=r.arrayLimit?(o=[],o[c]=i):a!=="__proto__"&&(o[a]=i)}i=o}return i},ahe=function(e,r,n,i){if(e){var s=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,u=/(\[[^[\]]*])/g,a=n.depth>0&&o.exec(s),c=a?s.slice(0,a.index):s,f=[];if(c){if(!n.plainObjects&&Y2.call(Object.prototype,c)&&!n.allowPrototypes)return;f.push(c)}for(var d=0;n.depth>0&&(a=u.exec(s))!==null&&d<n.depth;){if(d+=1,!n.plainObjects&&Y2.call(Object.prototype,a[1].slice(1,-1))&&!n.allowPrototypes)return;f.push(a[1])}return a&&f.push("["+s.slice(a.index)+"]"),ohe(f,r,n,i)}},uhe=function(e){if(!e)return _r;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?_r.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?_r.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:_r.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:_r.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:_r.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:_r.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:_r.comma,decoder:typeof e.decoder=="function"?e.decoder:_r.decoder,delimiter:typeof e.delimiter=="string"||Nl.isRegExp(e.delimiter)?e.delimiter:_r.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:_r.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:_r.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:_r.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:_r.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:_r.strictNullHandling}};O7.exports=function(t,e){var r=uhe(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?she(t,r):t,i=r.plainObjects?Object.create(null):{},s=Object.keys(n),o=0;o<s.length;++o){var u=s[o],a=ahe(u,n[u],r,typeof t=="string");i=Nl.merge(i,a,r)}return r.allowSparse===!0?i:Nl.compact(i)}});var R7=D((HTe,P7)=>{"use strict";h();var che=N7(),lhe=D7(),fhe=_1();P7.exports={formats:fhe,parse:lhe,stringify:che}});var J2=D(ze=>{"use strict";h();Object.defineProperty(ze,"__esModule",{value:!0});ze.WALLET_PROVIDER_CALLBACK_PARAM_TX_SIGNED=ze.WALLET_PROVIDER_CALLBACK_PARAM=ze.WALLET_PROVIDER_SIGN_MESSAGE_URL=ze.WALLET_PROVIDER_GUARD_TRANSACTION_URL=ze.WALLET_PROVIDER_SIGN_TRANSACTION_URL=ze.WALLET_PROVIDER_SEND_TRANSACTION_URL=ze.WALLET_PROVIDER_DISCONNECT_URL=ze.WALLET_PROVIDER_CONNECT_URL=ze.XALIAS_PROVIDER_TESTNET=ze.XALIAS_PROVIDER_DEVNET=ze.XALIAS_PROVIDER_MAINNET=ze.WALLET_PROVIDER_TESTNET=ze.WALLET_PROVIDER_DEVNET=ze.WALLET_PROVIDER_MAINNET=void 0;ze.WALLET_PROVIDER_MAINNET="https://wallet.multiversx.com/dapp/init";ze.WALLET_PROVIDER_DEVNET="https://devnet-wallet.multiversx.com/dapp/init";ze.WALLET_PROVIDER_TESTNET="https://testnet-wallet.multiversx.com/dapp/init";ze.XALIAS_PROVIDER_MAINNET="https://xalias.com";ze.XALIAS_PROVIDER_DEVNET="https://devnet.xalias.com";ze.XALIAS_PROVIDER_TESTNET="https://testnet.xalias.com";ze.WALLET_PROVIDER_CONNECT_URL="hook/login";ze.WALLET_PROVIDER_DISCONNECT_URL="hook/logout";ze.WALLET_PROVIDER_SEND_TRANSACTION_URL="hook/transaction";ze.WALLET_PROVIDER_SIGN_TRANSACTION_URL="hook/sign";ze.WALLET_PROVIDER_GUARD_TRANSACTION_URL="hook/2fa";ze.WALLET_PROVIDER_SIGN_MESSAGE_URL="hook/sign-message";ze.WALLET_PROVIDER_CALLBACK_PARAM="walletProviderStatus";ze.WALLET_PROVIDER_CALLBACK_PARAM_TX_SIGNED="transactionsSigned"});var B7=D(xl=>{"use strict";h();Object.defineProperty(xl,"__esModule",{value:!0});xl.ErrCannotSignedMessage=xl.ErrCannotGetSignedTransactions=void 0;var X2=class extends Error{constructor(){super("Cannot get signed transaction(s)")}};xl.ErrCannotGetSignedTransactions=X2;var Z2=class extends Error{constructor(){super("Cannot get signed message")}};xl.ErrCannotSignedMessage=Z2});var M7=D(T1=>{"use strict";h();Object.defineProperty(T1,"__esModule",{value:!0});T1.PlainSignedTransaction=void 0;var eC=class{constructor(e){this.nonce=0,this.value="",this.receiver="",this.sender="",this.gasPrice=0,this.gasLimit=0,this.data="",this.chainID="",this.version=0,this.signature="",Object.assign(this,e)}};T1.PlainSignedTransaction=eC});var Ol=D(ta=>{"use strict";h();var Zo=ta&&ta.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function u(f){try{c(n.next(f))}catch(d){o(d)}}function a(f){try{c(n.throw(f))}catch(d){o(d)}}function c(f){f.done?s(f.value):i(f.value).then(u,a)}c((n=n.apply(t,e||[])).next())})},hhe=ta&&ta.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ta,"__esModule",{value:!0});ta.WalletProvider=void 0;var tC=hhe(R7()),ea=J2(),rC=B7(),dhe=M7(),nC=class t{constructor(e){this.walletUrl=e}login(e){return Zo(this,void 0,void 0,function*(){let r=this.buildWalletUrl({endpoint:ea.WALLET_PROVIDER_CONNECT_URL,callbackUrl:e?.callbackUrl,params:{token:e?.token}});return yield this.redirect(r,e?.redirectDelayMilliseconds),r})}redirect(e,r){return Zo(this,void 0,void 0,function*(){r?yield this.redirectLater(e,r):this.redirectImmediately(e)})}redirectImmediately(e){window.location.href=e}redirectLater(e,r){return Zo(this,void 0,void 0,function*(){yield new Promise(n=>{setTimeout(()=>{window.location.href=e,n(!0)},r)})})}logout(e){return Zo(this,void 0,void 0,function*(){let r=this.buildWalletUrl({endpoint:ea.WALLET_PROVIDER_DISCONNECT_URL,callbackUrl:e?.callbackUrl});return yield this.redirect(r,e?.redirectDelayMilliseconds),!0})}signMessage(e,r){return Zo(this,void 0,void 0,function*(){let n=this.buildWalletUrl({endpoint:ea.WALLET_PROVIDER_SIGN_MESSAGE_URL,callbackUrl:r?.callbackUrl,params:{message:e.message.toString()}});return yield this.redirect(n),n})}getMessageSignatureFromWalletUrl(){var e,r;let n=window.location.search.slice(1);console.info("getMessageSignatureFromWalletUrl(), url:",n);let i=tC.default.parse(n);if((((e=i.status)===null||e===void 0?void 0:e.toString())||"")!=="signed")throw new rC.ErrCannotSignedMessage;return((r=i.signature)===null||r===void 0?void 0:r.toString())||""}guardTransactions(e,r){return Zo(this,void 0,void 0,function*(){this.redirectTransactionsToEndpoint(ea.WALLET_PROVIDER_GUARD_TRANSACTION_URL,e,r)})}signTransactions(e,r){return Zo(this,void 0,void 0,function*(){this.redirectTransactionsToEndpoint(ea.WALLET_PROVIDER_SIGN_TRANSACTION_URL,e,r)})}signTransaction(e,r){return Zo(this,void 0,void 0,function*(){yield this.signTransactions([e],r)})}getTransactionsFromWalletUrl(e=window.location.search){let r=tC.default.parse(e.slice(1));return t.isTxSignReturnSuccess(r)?this.getTxSignReturnValue(r):[]}static isTxSignReturnSuccess(e){return e.hasOwnProperty(ea.WALLET_PROVIDER_CALLBACK_PARAM)&&e[ea.WALLET_PROVIDER_CALLBACK_PARAM]===ea.WALLET_PROVIDER_CALLBACK_PARAM_TX_SIGNED}getTxSignReturnValue(e){console.info("getTxSignReturnValue(), urlParams:",e);let r=["nonce","value","receiver","sender","gasPrice","gasLimit","chainID","version","signature"];for(let s of r)if(!e[s]||!Array.isArray(e[s]))throw new rC.ErrCannotGetSignedTransactions;let n=e.nonce.length;for(let s of r)if(e[s].length!==n)throw new rC.ErrCannotGetSignedTransactions;let i=[];for(let s=0;s<n;s++){let o=new dhe.PlainSignedTransaction(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({nonce:parseInt(e.nonce[s]),value:e.value[s],receiver:e.receiver[s],sender:e.sender[s],gasPrice:parseInt(e.gasPrice[s]),gasLimit:parseInt(e.gasLimit[s]),data:e.data&&e.data[s]?e.data[s]:"",chainID:e.chainID[s],version:parseInt(e.version[s])},e.guardian&&e.guardian[s]?{guardian:e.guardian[s]}:{}),e.guardianSignature&&e.guardianSignature[s]?{guardianSignature:e.guardianSignature[s]}:{}),e.options&&e.options[s]?{options:parseInt(e.options[s])}:{}),e.senderUsername&&e.senderUsername[s]?{senderUsername:e.senderUsername[s]}:{}),e.receiverUsername&&e.receiverUsername[s]?{receiverUsername:e.receiverUsername[s]}:{}),{signature:e.signature[s]}));i.push(o)}return i}static prepareWalletTransaction(e){let r=e.toPlainObject();return r.data?r.data=p.Buffer.from(r.data,"base64").toString():r.data="",r}buildWalletUrl(e){let r=e?.callbackUrl||window.location.href,n=tC.default.stringify(e.params||{}),i=n?`${n}&callbackUrl=${r}`:`callbackUrl=${r}`,s=`${this.baseWalletUrl()}/${e.endpoint}?${i}`;return console.info(`Redirecting to Wallet URL: ${decodeURI(s)}`),s}baseWalletUrl(){let e=this.walletUrl.split("/"),r=e[0],n=e[2];return r+"//"+n}redirectTransactionsToEndpoint(e,r,n){let i={};r.map(o=>{let u=t.prepareWalletTransaction(o);for(let a in u)u.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=[]),i[a].push(u[a])});let s=this.buildWalletUrl({endpoint:e,callbackUrl:n?.callbackUrl,params:i});window.location.href=s}};ta.WalletProvider=nC});var p9=D((XTe,g9)=>{"use strict";h();function K7(t,e){return function(){return t.apply(e,arguments)}}var{toString:ghe}=Object.prototype,{getPrototypeOf:pC}=Object,O1=(t=>e=>{let r=ghe.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Ss=t=>(t=t.toLowerCase(),e=>O1(e)===t),D1=t=>e=>typeof e===t,{isArray:Bl}=Array,yd=D1("undefined");function phe(t){return t!==null&&!yd(t)&&t.constructor!==null&&!yd(t.constructor)&&ti(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}var W7=Ss("ArrayBuffer");function mhe(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&W7(t.buffer),e}var yhe=D1("string"),ti=D1("function"),$7=D1("number"),P1=t=>t!==null&&typeof t=="object",whe=t=>t===!0||t===!1,C1=t=>{if(O1(t)!=="object")return!1;let e=pC(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},vhe=Ss("Date"),Ahe=Ss("File"),Ehe=Ss("Blob"),bhe=Ss("FileList"),She=t=>P1(t)&&ti(t.pipe),Ihe=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||ti(t.append)&&((e=O1(t))==="formdata"||e==="object"&&ti(t.toString)&&t.toString()==="[object FormData]"))},_he=Ss("URLSearchParams"),The=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function wd(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),Bl(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{let s=r?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length,u;for(n=0;n<o;n++)u=s[n],e.call(null,t[u],u,t)}}function Y7(t,e){e=e.toLowerCase();let r=Object.keys(t),n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}var J7=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,X7=t=>!yd(t)&&t!==J7;function uC(){let{caseless:t}=X7(this)&&this||{},e={},r=(n,i)=>{let s=t&&Y7(e,i)||i;C1(e[s])&&C1(n)?e[s]=uC(e[s],n):C1(n)?e[s]=uC({},n):Bl(n)?e[s]=n.slice():e[s]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&wd(arguments[n],r);return e}var Che=(t,e,r,{allOwnKeys:n}={})=>(wd(e,(i,s)=>{r&&ti(i)?t[s]=K7(i,r):t[s]=i},{allOwnKeys:n}),t),Nhe=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),xhe=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},Ohe=(t,e,r,n)=>{let i,s,o,u={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!n||n(o,t,e))&&!u[o]&&(e[o]=t[o],u[o]=!0);t=r!==!1&&pC(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},Dhe=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;let n=t.indexOf(e,r);return n!==-1&&n===r},Phe=t=>{if(!t)return null;if(Bl(t))return t;let e=t.length;if(!$7(e))return null;let r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},Rhe=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&pC(Uint8Array)),Bhe=(t,e)=>{let n=(t&&t[Symbol.iterator]).call(t),i;for(;(i=n.next())&&!i.done;){let s=i.value;e.call(t,s[0],s[1])}},Mhe=(t,e)=>{let r,n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},Lhe=Ss("HTMLFormElement"),Fhe=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),L7=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),Uhe=Ss("RegExp"),Z7=(t,e)=>{let r=Object.getOwnPropertyDescriptors(t),n={};wd(r,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(n[s]=o||i)}),Object.defineProperties(t,n)},qhe=t=>{Z7(t,(e,r)=>{if(ti(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;let n=t[r];if(ti(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Vhe=(t,e)=>{let r={},n=i=>{i.forEach(s=>{r[s]=!0})};return Bl(t)?n(t):n(String(t).split(e)),r},khe=()=>{},Hhe=(t,e)=>(t=+t,Number.isFinite(t)?t:e),iC="abcdefghijklmnopqrstuvwxyz",F7="0123456789",e9={DIGIT:F7,ALPHA:iC,ALPHA_DIGIT:iC+iC.toUpperCase()+F7},Ghe=(t=16,e=e9.ALPHA_DIGIT)=>{let r="",{length:n}=e;for(;t--;)r+=e[Math.random()*n|0];return r};function jhe(t){return!!(t&&ti(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}var zhe=t=>{let e=new Array(10),r=(n,i)=>{if(P1(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[i]=n;let s=Bl(n)?[]:{};return wd(n,(o,u)=>{let a=r(o,i+1);!yd(a)&&(s[u]=a)}),e[i]=void 0,s}}return n};return r(t,0)},Qhe=Ss("AsyncFunction"),Khe=t=>t&&(P1(t)||ti(t))&&ti(t.then)&&ti(t.catch),re={isArray:Bl,isArrayBuffer:W7,isBuffer:phe,isFormData:Ihe,isArrayBufferView:mhe,isString:yhe,isNumber:$7,isBoolean:whe,isObject:P1,isPlainObject:C1,isUndefined:yd,isDate:vhe,isFile:Ahe,isBlob:Ehe,isRegExp:Uhe,isFunction:ti,isStream:She,isURLSearchParams:_he,isTypedArray:Rhe,isFileList:bhe,forEach:wd,merge:uC,extend:Che,trim:The,stripBOM:Nhe,inherits:xhe,toFlatObject:Ohe,kindOf:O1,kindOfTest:Ss,endsWith:Dhe,toArray:Phe,forEachEntry:Bhe,matchAll:Mhe,isHTMLForm:Lhe,hasOwnProperty:L7,hasOwnProp:L7,reduceDescriptors:Z7,freezeMethods:qhe,toObjectSet:Vhe,toCamelCase:Fhe,noop:khe,toFiniteNumber:Hhe,findKey:Y7,global:J7,isContextDefined:X7,ALPHABET:e9,generateString:Ghe,isSpecCompliantForm:jhe,toJSONObject:zhe,isAsyncFn:Qhe,isThenable:Khe};function Le(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i)}re.inherits(Le,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:re.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var t9=Le.prototype,r9={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{r9[t]={value:t}});Object.defineProperties(Le,r9);Object.defineProperty(t9,"isAxiosError",{value:!0});Le.from=(t,e,r,n,i,s)=>{let o=Object.create(t9);return re.toFlatObject(t,o,function(a){return a!==Error.prototype},u=>u!=="isAxiosError"),Le.call(o,t.message,e,r,n,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};var Whe=null;function cC(t){return re.isPlainObject(t)||re.isArray(t)}function n9(t){return re.endsWith(t,"[]")?t.slice(0,-2):t}function U7(t,e,r){return t?t.concat(e).map(function(i,s){return i=n9(i),!r&&s?"["+i+"]":i}).join(r?".":""):e}function $he(t){return re.isArray(t)&&!t.some(cC)}var Yhe=re.toFlatObject(re,{},null,function(e){return/^is[A-Z]/.test(e)});function R1(t,e,r){if(!re.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=re.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(N,P){return!re.isUndefined(P[N])});let n=r.metaTokens,i=r.visitor||f,s=r.dots,o=r.indexes,a=(r.Blob||typeof Blob<"u"&&Blob)&&re.isSpecCompliantForm(e);if(!re.isFunction(i))throw new TypeError("visitor must be a function");function c(_){if(_===null)return"";if(re.isDate(_))return _.toISOString();if(!a&&re.isBlob(_))throw new Le("Blob is not supported. Use a Buffer instead.");return re.isArrayBuffer(_)||re.isTypedArray(_)?a&&typeof Blob=="function"?new Blob([_]):p.Buffer.from(_):_}function f(_,N,P){let V=_;if(_&&!P&&typeof _=="object"){if(re.endsWith(N,"{}"))N=n?N:N.slice(0,-2),_=JSON.stringify(_);else if(re.isArray(_)&&$he(_)||(re.isFileList(_)||re.endsWith(N,"[]"))&&(V=re.toArray(_)))return N=n9(N),V.forEach(function(Q,L){!(re.isUndefined(Q)||Q===null)&&e.append(o===!0?U7([N],L,s):o===null?N:N+"[]",c(Q))}),!1}return cC(_)?!0:(e.append(U7(P,N,s),c(_)),!1)}let d=[],w=Object.assign(Yhe,{defaultVisitor:f,convertValue:c,isVisitable:cC});function A(_,N){if(!re.isUndefined(_)){if(d.indexOf(_)!==-1)throw Error("Circular reference detected in "+N.join("."));d.push(_),re.forEach(_,function(V,U){(!(re.isUndefined(V)||V===null)&&i.call(e,V,re.isString(U)?U.trim():U,N,w))===!0&&A(V,N?N.concat(U):[U])}),d.pop()}}if(!re.isObject(t))throw new TypeError("data must be an object");return A(t),e}function q7(t){let e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function mC(t,e){this._pairs=[],t&&R1(t,this,e)}var i9=mC.prototype;i9.append=function(e,r){this._pairs.push([e,r])};i9.toString=function(e){let r=e?function(n){return e.call(this,n,q7)}:q7;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function Jhe(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function s9(t,e,r){if(!e)return t;let n=r&&r.encode||Jhe,i=r&&r.serialize,s;if(i?s=i(e,r):s=re.isURLSearchParams(e)?e.toString():new mC(e,r).toString(n),s){let o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}var lC=class{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){re.forEach(this.handlers,function(n){n!==null&&e(n)})}},V7=lC,o9={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Xhe=typeof URLSearchParams<"u"?URLSearchParams:mC,Zhe=typeof FormData<"u"?FormData:null,ede=typeof Blob<"u"?Blob:null,tde={isBrowser:!0,classes:{URLSearchParams:Xhe,FormData:Zhe,Blob:ede},protocols:["http","https","file","blob","url","data"]},a9=typeof window<"u"&&typeof document<"u",rde=(t=>a9&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),nde=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ide=Object.freeze({__proto__:null,hasBrowserEnv:a9,hasStandardBrowserWebWorkerEnv:nde,hasStandardBrowserEnv:rde}),bs={...ide,...tde};function sde(t,e){return R1(t,new bs.classes.URLSearchParams,Object.assign({visitor:function(r,n,i,s){return bs.isNode&&re.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function ode(t){return re.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function ade(t){let e={},r=Object.keys(t),n,i=r.length,s;for(n=0;n<i;n++)s=r[n],e[s]=t[s];return e}function u9(t){function e(r,n,i,s){let o=r[s++];if(o==="__proto__")return!0;let u=Number.isFinite(+o),a=s>=r.length;return o=!o&&re.isArray(i)?i.length:o,a?(re.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!u):((!i[o]||!re.isObject(i[o]))&&(i[o]=[]),e(r,n,i[o],s)&&re.isArray(i[o])&&(i[o]=ade(i[o])),!u)}if(re.isFormData(t)&&re.isFunction(t.entries)){let r={};return re.forEachEntry(t,(n,i)=>{e(ode(n),i,r,0)}),r}return null}function ude(t,e,r){if(re.isString(t))try{return(e||JSON.parse)(t),re.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}var yC={transitional:o9,adapter:["xhr","http"],transformRequest:[function(e,r){let n=r.getContentType()||"",i=n.indexOf("application/json")>-1,s=re.isObject(e);if(s&&re.isHTMLForm(e)&&(e=new FormData(e)),re.isFormData(e))return i?JSON.stringify(u9(e)):e;if(re.isArrayBuffer(e)||re.isBuffer(e)||re.isStream(e)||re.isFile(e)||re.isBlob(e))return e;if(re.isArrayBufferView(e))return e.buffer;if(re.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return sde(e,this.formSerializer).toString();if((u=re.isFileList(e))||n.indexOf("multipart/form-data")>-1){let a=this.env&&this.env.FormData;return R1(u?{"files[]":e}:e,a&&new a,this.formSerializer)}}return s||i?(r.setContentType("application/json",!1),ude(e)):e}],transformResponse:[function(e){let r=this.transitional||yC.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(e&&re.isString(e)&&(n&&!this.responseType||i)){let o=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(u){if(o)throw u.name==="SyntaxError"?Le.from(u,Le.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:bs.classes.FormData,Blob:bs.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};re.forEach(["delete","get","head","post","put","patch"],t=>{yC.headers[t]={}});var wC=yC,cde=re.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),lde=t=>{let e={},r,n,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),r=o.substring(0,i).trim().toLowerCase(),n=o.substring(i+1).trim(),!(!r||e[r]&&cde[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},k7=Symbol("internals");function md(t){return t&&String(t).trim().toLowerCase()}function N1(t){return t===!1||t==null?t:re.isArray(t)?t.map(N1):String(t)}function fde(t){let e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g,n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}var hde=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function sC(t,e,r,n,i){if(re.isFunction(n))return n.call(this,e,r);if(i&&(e=r),!!re.isString(e)){if(re.isString(n))return e.indexOf(n)!==-1;if(re.isRegExp(n))return n.test(e)}}function dde(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function gde(t,e){let r=re.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(i,s,o){return this[n].call(this,e,i,s,o)},configurable:!0})})}var Dl=class{constructor(e){e&&this.set(e)}set(e,r,n){let i=this;function s(u,a,c){let f=md(a);if(!f)throw new Error("header name must be a non-empty string");let d=re.findKey(i,f);(!d||i[d]===void 0||c===!0||c===void 0&&i[d]!==!1)&&(i[d||a]=N1(u))}let o=(u,a)=>re.forEach(u,(c,f)=>s(c,f,a));return re.isPlainObject(e)||e instanceof this.constructor?o(e,r):re.isString(e)&&(e=e.trim())&&!hde(e)?o(lde(e),r):e!=null&&s(r,e,n),this}get(e,r){if(e=md(e),e){let n=re.findKey(this,e);if(n){let i=this[n];if(!r)return i;if(r===!0)return fde(i);if(re.isFunction(r))return r.call(this,i,n);if(re.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=md(e),e){let n=re.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||sC(this,this[n],n,r)))}return!1}delete(e,r){let n=this,i=!1;function s(o){if(o=md(o),o){let u=re.findKey(n,o);u&&(!r||sC(n,n[u],u,r))&&(delete n[u],i=!0)}}return re.isArray(e)?e.forEach(s):s(e),i}clear(e){let r=Object.keys(this),n=r.length,i=!1;for(;n--;){let s=r[n];(!e||sC(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){let r=this,n={};return re.forEach(this,(i,s)=>{let o=re.findKey(n,s);if(o){r[o]=N1(i),delete r[s];return}let u=e?dde(s):String(s).trim();u!==s&&delete r[s],r[u]=N1(i),n[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){let r=Object.create(null);return re.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=e&&re.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){let n=new this(e);return r.forEach(i=>n.set(i)),n}static accessor(e){let n=(this[k7]=this[k7]={accessors:{}}).accessors,i=this.prototype;function s(o){let u=md(o);n[u]||(gde(i,o),n[u]=!0)}return re.isArray(e)?e.forEach(s):s(e),this}};Dl.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);re.reduceDescriptors(Dl.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});re.freezeMethods(Dl);var to=Dl;function oC(t,e){let r=this||wC,n=e||r,i=to.from(n.headers),s=n.data;return re.forEach(t,function(u){s=u.call(r,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function c9(t){return!!(t&&t.__CANCEL__)}function vd(t,e,r){Le.call(this,t??"canceled",Le.ERR_CANCELED,e,r),this.name="CanceledError"}re.inherits(vd,Le,{__CANCEL__:!0});function pde(t,e,r){let n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new Le("Request failed with status code "+r.status,[Le.ERR_BAD_REQUEST,Le.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}var mde=bs.hasStandardBrowserEnv?{write(t,e,r,n,i,s){let o=[t+"="+encodeURIComponent(e)];re.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),re.isString(n)&&o.push("path="+n),re.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){let e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function yde(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function wde(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function l9(t,e){return t&&!yde(e)?wde(t,e):e}var vde=bs.hasStandardBrowserEnv?function(){let e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),n;function i(s){let o=s;return e&&(r.setAttribute("href",o),o=r.href),r.setAttribute("href",o),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(o){let u=re.isString(o)?i(o):o;return u.protocol===n.protocol&&u.host===n.host}}():function(){return function(){return!0}}();function Ade(t){let e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Ede(t,e){t=t||10;let r=new Array(t),n=new Array(t),i=0,s=0,o;return e=e!==void 0?e:1e3,function(a){let c=Date.now(),f=n[s];o||(o=c),r[i]=a,n[i]=c;let d=s,w=0;for(;d!==i;)w+=r[d++],d=d%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),c-o<e)return;let A=f&&c-f;return A?Math.round(w*1e3/A):void 0}}function H7(t,e){let r=0,n=Ede(50,250);return i=>{let s=i.loaded,o=i.lengthComputable?i.total:void 0,u=s-r,a=n(u),c=s<=o;r=s;let f={loaded:s,total:o,progress:o?s/o:void 0,bytes:u,rate:a||void 0,estimated:a&&o&&c?(o-s)/a:void 0,event:i};f[e?"download":"upload"]=!0,t(f)}}var bde=typeof XMLHttpRequest<"u",Sde=bde&&function(t){return new Promise(function(r,n){let i=t.data,s=to.from(t.headers).normalize(),{responseType:o,withXSRFToken:u}=t,a;function c(){t.cancelToken&&t.cancelToken.unsubscribe(a),t.signal&&t.signal.removeEventListener("abort",a)}let f;if(re.isFormData(i)){if(bs.hasStandardBrowserEnv||bs.hasStandardBrowserWebWorkerEnv)s.setContentType(!1);else if((f=s.getContentType())!==!1){let[N,...P]=f?f.split(";").map(V=>V.trim()).filter(Boolean):[];s.setContentType([N||"multipart/form-data",...P].join("; "))}}let d=new XMLHttpRequest;if(t.auth){let N=t.auth.username||"",P=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";s.set("Authorization","Basic "+btoa(N+":"+P))}let w=l9(t.baseURL,t.url);d.open(t.method.toUpperCase(),s9(w,t.params,t.paramsSerializer),!0),d.timeout=t.timeout;function A(){if(!d)return;let N=to.from("getAllResponseHeaders"in d&&d.getAllResponseHeaders()),V={data:!o||o==="text"||o==="json"?d.responseText:d.response,status:d.status,statusText:d.statusText,headers:N,config:t,request:d};pde(function(Q){r(Q),c()},function(Q){n(Q),c()},V),d=null}if("onloadend"in d?d.onloadend=A:d.onreadystatechange=function(){!d||d.readyState!==4||d.status===0&&!(d.responseURL&&d.responseURL.indexOf("file:")===0)||setTimeout(A)},d.onabort=function(){d&&(n(new Le("Request aborted",Le.ECONNABORTED,t,d)),d=null)},d.onerror=function(){n(new Le("Network Error",Le.ERR_NETWORK,t,d)),d=null},d.ontimeout=function(){let P=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",V=t.transitional||o9;t.timeoutErrorMessage&&(P=t.timeoutErrorMessage),n(new Le(P,V.clarifyTimeoutError?Le.ETIMEDOUT:Le.ECONNABORTED,t,d)),d=null},bs.hasStandardBrowserEnv&&(u&&re.isFunction(u)&&(u=u(t)),u||u!==!1&&vde(w))){let N=t.xsrfHeaderName&&t.xsrfCookieName&&mde.read(t.xsrfCookieName);N&&s.set(t.xsrfHeaderName,N)}i===void 0&&s.setContentType(null),"setRequestHeader"in d&&re.forEach(s.toJSON(),function(P,V){d.setRequestHeader(V,P)}),re.isUndefined(t.withCredentials)||(d.withCredentials=!!t.withCredentials),o&&o!=="json"&&(d.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&d.addEventListener("progress",H7(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&d.upload&&d.upload.addEventListener("progress",H7(t.onUploadProgress)),(t.cancelToken||t.signal)&&(a=N=>{d&&(n(!N||N.type?new vd(null,t,d):N),d.abort(),d=null)},t.cancelToken&&t.cancelToken.subscribe(a),t.signal&&(t.signal.aborted?a():t.signal.addEventListener("abort",a)));let _=Ade(w);if(_&&bs.protocols.indexOf(_)===-1){n(new Le("Unsupported protocol "+_+":",Le.ERR_BAD_REQUEST,t));return}d.send(i||null)})},fC={http:Whe,xhr:Sde};re.forEach(fC,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});var G7=t=>`- ${t}`,Ide=t=>re.isFunction(t)||t===null||t===!1,f9={getAdapter:t=>{t=re.isArray(t)?t:[t];let{length:e}=t,r,n,i={};for(let s=0;s<e;s++){r=t[s];let o;if(n=r,!Ide(r)&&(n=fC[(o=String(r)).toLowerCase()],n===void 0))throw new Le(`Unknown adapter '${o}'`);if(n)break;i[o||"#"+s]=n}if(!n){let s=Object.entries(i).map(([u,a])=>`adapter ${u} `+(a===!1?"is not supported by the environment":"is not available in the build")),o=e?s.length>1?`since :
`+s.map(G7).join(`
`):" "+G7(s[0]):"as no adapter specified";throw new Le("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:fC};function aC(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new vd(null,t)}function j7(t){return aC(t),t.headers=to.from(t.headers),t.data=oC.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),f9.getAdapter(t.adapter||wC.adapter)(t).then(function(n){return aC(t),n.data=oC.call(t,t.transformResponse,n),n.headers=to.from(n.headers),n},function(n){return c9(n)||(aC(t),n&&n.response&&(n.response.data=oC.call(t,t.transformResponse,n.response),n.response.headers=to.from(n.response.headers))),Promise.reject(n)})}var z7=t=>t instanceof to?{...t}:t;function Pl(t,e){e=e||{};let r={};function n(c,f,d){return re.isPlainObject(c)&&re.isPlainObject(f)?re.merge.call({caseless:d},c,f):re.isPlainObject(f)?re.merge({},f):re.isArray(f)?f.slice():f}function i(c,f,d){if(re.isUndefined(f)){if(!re.isUndefined(c))return n(void 0,c,d)}else return n(c,f,d)}function s(c,f){if(!re.isUndefined(f))return n(void 0,f)}function o(c,f){if(re.isUndefined(f)){if(!re.isUndefined(c))return n(void 0,c)}else return n(void 0,f)}function u(c,f,d){if(d in e)return n(c,f);if(d in t)return n(void 0,c)}let a={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:u,headers:(c,f)=>i(z7(c),z7(f),!0)};return re.forEach(Object.keys(Object.assign({},t,e)),function(f){let d=a[f]||i,w=d(t[f],e[f],f);re.isUndefined(w)&&d!==u||(r[f]=w)}),r}var h9="1.6.8",vC={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{vC[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});var Q7={};vC.transitional=function(e,r,n){function i(s,o){return"[Axios v"+h9+"] Transitional option '"+s+"'"+o+(n?". "+n:"")}return(s,o,u)=>{if(e===!1)throw new Le(i(o," has been removed"+(r?" in "+r:"")),Le.ERR_DEPRECATED);return r&&!Q7[o]&&(Q7[o]=!0,console.warn(i(o," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(s,o,u):!0}};function _de(t,e,r){if(typeof t!="object")throw new Le("options must be an object",Le.ERR_BAD_OPTION_VALUE);let n=Object.keys(t),i=n.length;for(;i-- >0;){let s=n[i],o=e[s];if(o){let u=t[s],a=u===void 0||o(u,s,t);if(a!==!0)throw new Le("option "+s+" must be "+a,Le.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Le("Unknown option "+s,Le.ERR_BAD_OPTION)}}var hC={assertOptions:_de,validators:vC},ra=hC.validators,Rl=class{constructor(e){this.defaults=e,this.interceptors={request:new V7,response:new V7}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;let s=i.stack?i.stack.replace(/^.+\n/,""):"";n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=Pl(this.defaults,r);let{transitional:n,paramsSerializer:i,headers:s}=r;n!==void 0&&hC.assertOptions(n,{silentJSONParsing:ra.transitional(ra.boolean),forcedJSONParsing:ra.transitional(ra.boolean),clarifyTimeoutError:ra.transitional(ra.boolean)},!1),i!=null&&(re.isFunction(i)?r.paramsSerializer={serialize:i}:hC.assertOptions(i,{encode:ra.function,serialize:ra.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=s&&re.merge(s.common,s[r.method]);s&&re.forEach(["delete","get","head","post","put","patch","common"],_=>{delete s[_]}),r.headers=to.concat(o,s);let u=[],a=!0;this.interceptors.request.forEach(function(N){typeof N.runWhen=="function"&&N.runWhen(r)===!1||(a=a&&N.synchronous,u.unshift(N.fulfilled,N.rejected))});let c=[];this.interceptors.response.forEach(function(N){c.push(N.fulfilled,N.rejected)});let f,d=0,w;if(!a){let _=[j7.bind(this),void 0];for(_.unshift.apply(_,u),_.push.apply(_,c),w=_.length,f=Promise.resolve(r);d<w;)f=f.then(_[d++],_[d++]);return f}w=u.length;let A=r;for(d=0;d<w;){let _=u[d++],N=u[d++];try{A=_(A)}catch(P){N.call(this,P);break}}try{f=j7.call(this,A)}catch(_){return Promise.reject(_)}for(d=0,w=c.length;d<w;)f=f.then(c[d++],c[d++]);return f}getUri(e){e=Pl(this.defaults,e);let r=l9(e.baseURL,e.url);return s9(r,e.params,e.paramsSerializer)}};re.forEach(["delete","get","head","options"],function(e){Rl.prototype[e]=function(r,n){return this.request(Pl(n||{},{method:e,url:r,data:(n||{}).data}))}});re.forEach(["post","put","patch"],function(e){function r(n){return function(s,o,u){return this.request(Pl(u||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Rl.prototype[e]=r(),Rl.prototype[e+"Form"]=r(!0)});var x1=Rl,dC=class t{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});let n=this;this.promise.then(i=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](i);n._listeners=null}),this.promise.then=i=>{let s,o=new Promise(u=>{n.subscribe(u),s=u}).then(i);return o.cancel=function(){n.unsubscribe(s)},o},e(function(s,o,u){n.reason||(n.reason=new vd(s,o,u),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;let r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}static source(){let e;return{token:new t(function(i){e=i}),cancel:e}}},Tde=dC;function Cde(t){return function(r){return t.apply(null,r)}}function Nde(t){return re.isObject(t)&&t.isAxiosError===!0}var gC={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(gC).forEach(([t,e])=>{gC[e]=t});var xde=gC;function d9(t){let e=new x1(t),r=K7(x1.prototype.request,e);return re.extend(r,x1.prototype,e,{allOwnKeys:!0}),re.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return d9(Pl(t,i))},r}var lr=d9(wC);lr.Axios=x1;lr.CanceledError=vd;lr.CancelToken=Tde;lr.isCancel=c9;lr.VERSION=h9;lr.toFormData=R1;lr.AxiosError=Le;lr.Cancel=lr.CanceledError;lr.all=function(e){return Promise.all(e)};lr.spread=Cde;lr.isAxiosError=Nde;lr.mergeConfig=Pl;lr.AxiosHeaders=to;lr.formToJSON=t=>u9(re.isHTMLForm(t)?new FormData(t):t);lr.getAdapter=f9.getAdapter;lr.HttpStatusCode=xde;lr.default=lr;g9.exports=lr});var m9=D(B1=>{"use strict";h();Object.defineProperty(B1,"__esModule",{value:!0});B1.NativeAuthClientConfig=void 0;var AC=class{constructor(){this.origin=typeof window<"u"&&typeof window.location<"u"?window.location.hostname:"",this.apiUrl="https://api.multiversx.com",this.expirySeconds=60*60*24}};B1.NativeAuthClientConfig=AC});var bC=D(Ml=>{"use strict";h();var wu=Ml&&Ml.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function u(f){try{c(n.next(f))}catch(d){o(d)}}function a(f){try{c(n.throw(f))}catch(d){o(d)}}function c(f){f.done?s(f.value):i(f.value).then(u,a)}c((n=n.apply(t,e||[])).next())})};Object.defineProperty(Ml,"__esModule",{value:!0});Ml.NativeAuthClient=void 0;var Ode=p9(),Dde=m9(),EC=class{constructor(e){this.config=Object.assign(new Dde.NativeAuthClientConfig,e)}getToken(e,r,n){let i=this.encodeValue(e),s=this.encodeValue(r);return`${i}.${s}.${n}`}initialize(e={}){return wu(this,void 0,void 0,function*(){let r=yield this.getCurrentBlockHash(),n=this.encodeValue(JSON.stringify(e));return`${this.encodeValue(this.config.origin)}.${r}.${this.config.expirySeconds}.${n}`})}getCurrentBlockHash(){return wu(this,void 0,void 0,function*(){return this.config.gatewayUrl?yield this.getCurrentBlockHashWithGateway():yield this.getCurrentBlockHashWithApi()})}getCurrentBlockHashWithGateway(){return wu(this,void 0,void 0,function*(){let e=yield this.getCurrentRound(),r=`${this.config.gatewayUrl}/blocks/by-round/${e}`;return(yield this.get(r)).data.data.blocks.filter(o=>o.shard===this.config.blockHashShard)[0].hash})}getCurrentRound(){return wu(this,void 0,void 0,function*(){if(!this.config.gatewayUrl)throw new Error("Gateway URL not set");if(!this.config.blockHashShard)throw new Error("Blockhash shard not set");let e=`${this.config.gatewayUrl}/network/status/${this.config.blockHashShard}`;return(yield this.get(e)).data.data.status.erd_current_round})}getCurrentBlockHashWithApi(){return wu(this,void 0,void 0,function*(){try{let e=`${this.config.apiUrl}/blocks/latest?ttl=${this.config.expirySeconds}&fields=hash`,r=yield this.get(e);if(r.data[0].hash!==void 0)return r.data[0].hash}catch{}return this.getCurrentBlockHashWithApiFallback()})}getCurrentBlockHashWithApiFallback(){return wu(this,void 0,void 0,function*(){let e=`${this.config.apiUrl}/blocks?size=1&fields=hash`;return this.config.blockHashShard!==void 0&&(e+=`&shard=${this.config.blockHashShard}`),(yield this.get(e)).data[0].hash})}encodeValue(e){return this.escape(p.Buffer.from(e,"utf8").toString("base64"))}escape(e){return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}get(e){return wu(this,void 0,void 0,function*(){return yield Ode.default.get(e,{headers:this.config.extraRequestHeaders})})}};Ml.NativeAuthClient=EC});var A9=D(L1=>{"use strict";h();Object.defineProperty(L1,"__esModule",{value:!0});L1.TransactionStatus=void 0;var IC=class t{constructor(e){this.status=(e||"").toLowerCase()}static createUnknown(){return new t("unknown")}isPending(){return this.status=="received"||this.status=="pending"}isExecuted(){return this.isSuccessful()||this.isFailed()||this.isInvalid()}isSuccessful(){return this.status=="executed"||this.status=="success"||this.status=="successful"}isFailed(){return this.status=="fail"||this.status=="failed"||this.status=="unsuccessful"||this.isInvalid()}isInvalid(){return this.status=="invalid"}toString(){return this.status}valueOf(){return this.status}equals(e){return e?this.status==e.status:!1}};L1.TransactionStatus=IC});var b9=D(F1=>{"use strict";h();Object.defineProperty(F1,"__esModule",{value:!0});F1.TransactionReceipt=void 0;var E9=_c(),_C=class t{constructor(){this.value="",this.sender=new E9.Address(""),this.data="",this.hash=""}static fromHttpResponse(e){let r=new t;return r.value=(e.value||0).toString(),r.sender=new E9.Address(e.sender),r.data=e.data,r.hash=e.txHash,r}};F1.TransactionReceipt=_C});var S9=D(Is=>{"use strict";h();Object.defineProperty(Is,"__esModule",{value:!0});Is.ErrContractQuery=Is.ErrNetworkProvider=Is.ErrUnexpectedCondition=Is.Err=void 0;var Fl=class extends Error{constructor(e,r){super(e),this.inner=void 0,this.inner=r}};Is.Err=Fl;var TC=class extends Fl{constructor(e){super(`Unexpected condition: [${e}]`)}};Is.ErrUnexpectedCondition=TC;var CC=class extends Fl{constructor(e,r,n){let i=`Request error on url [${e}]: [${r}]`;super(i,n)}};Is.ErrNetworkProvider=CC;var NC=class extends Fl{constructor(e){super(e.message.replace("executeQuery:",""))}};Is.ErrContractQuery=NC});var _9=D(na=>{"use strict";h();Object.defineProperty(na,"__esModule",{value:!0});na.TransactionEventTopic=na.TransactionEventData=na.TransactionEvent=void 0;var I9=_c(),xC=class t{constructor(e){this.address=new I9.Address(""),this.identifier="",this.topics=[],this.data="",this.dataPayload=new Ul(p.Buffer.from("","utf8")),this.additionalData=[],Object.assign(this,e)}static fromHttpResponse(e){let r=new t;return r.address=new I9.Address(e.address),r.identifier=e.identifier||"",r.topics=(e.topics||[]).map(n=>new U1(n)),r.dataPayload=Ul.fromBase64(e.data),r.additionalData=(e.additionalData||[]).map(Ul.fromBase64),r.data=r.dataPayload.toString(),r}findFirstOrNoneTopic(e){return this.topics.filter(r=>e(r))[0]}getLastTopic(){return this.topics[this.topics.length-1]}};na.TransactionEvent=xC;var Ul=class t{constructor(e){this.raw=e}static fromBase64(e){return new t(p.Buffer.from(e||"","base64"))}toString(){return this.raw.toString("utf8")}hex(){return this.raw.toString("hex")}valueOf(){return this.raw}};na.TransactionEventData=Ul;var U1=class{constructor(e){this.raw=p.Buffer.from(e||"","base64")}toString(){return this.raw.toString("utf8")}hex(){return this.raw.toString("hex")}valueOf(){return this.raw}};na.TransactionEventTopic=U1});var DC=D(q1=>{"use strict";h();Object.defineProperty(q1,"__esModule",{value:!0});q1.TransactionLogs=void 0;var Bde=S9(),T9=_c(),Mde=_9(),OC=class t{constructor(e){this.address=new T9.Address(""),this.events=[],Object.assign(this,e)}static fromHttpResponse(e){let r=new t;return r.address=new T9.Address(e.address),r.events=(e.events||[]).map(n=>Mde.TransactionEvent.fromHttpResponse(n)),r}findSingleOrNoneEvent(e,r){let n=this.findEvents(e,r);if(n.length>1)throw new Bde.ErrUnexpectedCondition(`more than one event of type ${e}`);return n[0]}findFirstOrNoneEvent(e,r){return this.findEvents(e,r)[0]}findEvents(e,r){let n=this.events.filter(i=>i.identifier==e);return r&&(n=n.filter(i=>r(i))),n}};q1.TransactionLogs=OC});var N9=D(ql=>{"use strict";h();Object.defineProperty(ql,"__esModule",{value:!0});ql.ContractResultItem=ql.ContractResults=void 0;var C9=DC(),V1=_c(),PC=class t{constructor(e){this.items=e,this.items.sort(function(r,n){return r.nonce.valueOf()-n.nonce.valueOf()})}static fromProxyHttpResponse(e){let r=e.map(n=>Ad.fromProxyHttpResponse(n));return new t(r)}static fromApiHttpResponse(e){let r=e.map(n=>Ad.fromApiHttpResponse(n));return new t(r)}};ql.ContractResults=PC;var Ad=class t{constructor(e){this.hash="",this.nonce=0,this.value="",this.receiver=new V1.Address(""),this.sender=new V1.Address(""),this.data="",this.previousHash="",this.originalHash="",this.gasLimit=0,this.gasPrice=0,this.callType=0,this.returnMessage="",this.logs=new C9.TransactionLogs,Object.assign(this,e)}static fromProxyHttpResponse(e){return t.fromHttpResponse(e)}static fromApiHttpResponse(e){let r=t.fromHttpResponse(e);return r.data=p.Buffer.from(r.data,"base64").toString(),r.callType=Number(r.callType),r}static fromHttpResponse(e){let r=new t;return r.hash=e.hash,r.nonce=Number(e.nonce||0),r.value=(e.value||0).toString(),r.receiver=new V1.Address(e.receiver),r.sender=new V1.Address(e.sender),r.previousHash=e.prevTxHash,r.originalHash=e.originalTxHash,r.gasLimit=Number(e.gasLimit||0),r.gasPrice=Number(e.gasPrice||0),r.data=e.data||"",r.callType=e.callType,r.returnMessage=e.returnMessage,r.logs=C9.TransactionLogs.fromHttpResponse(e.logs||{}),r}};ql.ContractResultItem=Ad});var x9=D(k1=>{"use strict";h();Object.defineProperty(k1,"__esModule",{value:!0});k1.ContractQueryRequest=void 0;var RC=class{constructor(e){this.query=e}toHttpRequest(){var e;let r={},n=this.query;return r.scAddress=n.address.bech32(),r.caller=!((e=n.caller)===null||e===void 0)&&e.bech32()?n.caller.bech32():void 0,r.funcName=n.func.toString(),r.value=n.value?n.value.toString():void 0,r.args=n.getEncodedArguments(),r}};k1.ContractQueryRequest=RC});var k9=D((tCe,V9)=>{h();V9.exports=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}});var ia=D(Au=>{h();var BC,Lde=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Au.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};Au.getSymbolTotalCodewords=function(e){return Lde[e]};Au.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};Au.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');BC=e};Au.isKanjiModeEnabled=function(){return typeof BC<"u"};Au.toSJIS=function(e){return BC(e)}});var z1=D(ri=>{h();ri.L={bit:1};ri.M={bit:0};ri.Q={bit:3};ri.H={bit:2};function Fde(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return ri.L;case"m":case"medium":return ri.M;case"q":case"quartile":return ri.Q;case"h":case"high":return ri.H;default:throw new Error("Unknown EC Level: "+t)}}ri.isValid=function(e){return e&&typeof e.bit<"u"&&e.bit>=0&&e.bit<4};ri.from=function(e,r){if(ri.isValid(e))return e;try{return Fde(e)}catch{return r}}});var j9=D((aCe,G9)=>{h();function H9(){this.buffer=[],this.length=0}H9.prototype={get:function(t){let e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let r=0;r<e;r++)this.putBit((t>>>e-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){let e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};G9.exports=H9});var Q9=D((cCe,z9)=>{h();function Ed(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}Ed.prototype.set=function(t,e,r,n){let i=t*this.size+e;this.data[i]=r,n&&(this.reservedBit[i]=!0)};Ed.prototype.get=function(t,e){return this.data[t*this.size+e]};Ed.prototype.xor=function(t,e,r){this.data[t*this.size+e]^=r};Ed.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};z9.exports=Ed});var K9=D(Q1=>{h();var Ude=ia().getSymbolSize;Q1.getRowColCoords=function(e){if(e===1)return[];let r=Math.floor(e/7)+2,n=Ude(e),i=n===145?26:Math.ceil((n-13)/(2*r-2))*2,s=[n-7];for(let o=1;o<r-1;o++)s[o]=s[o-1]-i;return s.push(6),s.reverse()};Q1.getPositions=function(e){let r=[],n=Q1.getRowColCoords(e),i=n.length;for(let s=0;s<i;s++)for(let o=0;o<i;o++)s===0&&o===0||s===0&&o===i-1||s===i-1&&o===0||r.push([n[s],n[o]]);return r}});var Y9=D($9=>{h();var qde=ia().getSymbolSize,W9=7;$9.getPositions=function(e){let r=qde(e);return[[0,0],[r-W9,0],[0,r-W9]]}});var J9=D(Bt=>{h();Bt.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var Eu={N1:3,N2:3,N3:40,N4:10};Bt.isValid=function(e){return e!=null&&e!==""&&!isNaN(e)&&e>=0&&e<=7};Bt.from=function(e){return Bt.isValid(e)?parseInt(e,10):void 0};Bt.getPenaltyN1=function(e){let r=e.size,n=0,i=0,s=0,o=null,u=null;for(let a=0;a<r;a++){i=s=0,o=u=null;for(let c=0;c<r;c++){let f=e.get(a,c);f===o?i++:(i>=5&&(n+=Eu.N1+(i-5)),o=f,i=1),f=e.get(c,a),f===u?s++:(s>=5&&(n+=Eu.N1+(s-5)),u=f,s=1)}i>=5&&(n+=Eu.N1+(i-5)),s>=5&&(n+=Eu.N1+(s-5))}return n};Bt.getPenaltyN2=function(e){let r=e.size,n=0;for(let i=0;i<r-1;i++)for(let s=0;s<r-1;s++){let o=e.get(i,s)+e.get(i,s+1)+e.get(i+1,s)+e.get(i+1,s+1);(o===4||o===0)&&n++}return n*Eu.N2};Bt.getPenaltyN3=function(e){let r=e.size,n=0,i=0,s=0;for(let o=0;o<r;o++){i=s=0;for(let u=0;u<r;u++)i=i<<1&2047|e.get(o,u),u>=10&&(i===1488||i===93)&&n++,s=s<<1&2047|e.get(u,o),u>=10&&(s===1488||s===93)&&n++}return n*Eu.N3};Bt.getPenaltyN4=function(e){let r=0,n=e.data.length;for(let s=0;s<n;s++)r+=e.data[s];return Math.abs(Math.ceil(r*100/n/5)-10)*Eu.N4};function Vde(t,e,r){switch(t){case Bt.Patterns.PATTERN000:return(e+r)%2===0;case Bt.Patterns.PATTERN001:return e%2===0;case Bt.Patterns.PATTERN010:return r%3===0;case Bt.Patterns.PATTERN011:return(e+r)%3===0;case Bt.Patterns.PATTERN100:return(Math.floor(e/2)+Math.floor(r/3))%2===0;case Bt.Patterns.PATTERN101:return e*r%2+e*r%3===0;case Bt.Patterns.PATTERN110:return(e*r%2+e*r%3)%2===0;case Bt.Patterns.PATTERN111:return(e*r%3+(e+r)%2)%2===0;default:throw new Error("bad maskPattern:"+t)}}Bt.applyMask=function(e,r){let n=r.size;for(let i=0;i<n;i++)for(let s=0;s<n;s++)r.isReserved(s,i)||r.xor(s,i,Vde(e,s,i))};Bt.getBestMask=function(e,r){let n=Object.keys(Bt.Patterns).length,i=0,s=1/0;for(let o=0;o<n;o++){r(o),Bt.applyMask(o,e);let u=Bt.getPenaltyN1(e)+Bt.getPenaltyN2(e)+Bt.getPenaltyN3(e)+Bt.getPenaltyN4(e);Bt.applyMask(o,e),u<s&&(s=u,i=o)}return i}});var LC=D(MC=>{h();var sa=z1(),K1=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],W1=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];MC.getBlocksCount=function(e,r){switch(r){case sa.L:return K1[(e-1)*4+0];case sa.M:return K1[(e-1)*4+1];case sa.Q:return K1[(e-1)*4+2];case sa.H:return K1[(e-1)*4+3];default:return}};MC.getTotalCodewordsCount=function(e,r){switch(r){case sa.L:return W1[(e-1)*4+0];case sa.M:return W1[(e-1)*4+1];case sa.Q:return W1[(e-1)*4+2];case sa.H:return W1[(e-1)*4+3];default:return}}});var X9=D(Y1=>{h();var bd=new Uint8Array(512),$1=new Uint8Array(256);(function(){let e=1;for(let r=0;r<255;r++)bd[r]=e,$1[e]=r,e<<=1,e&256&&(e^=285);for(let r=255;r<512;r++)bd[r]=bd[r-255]})();Y1.log=function(e){if(e<1)throw new Error("log("+e+")");return $1[e]};Y1.exp=function(e){return bd[e]};Y1.mul=function(e,r){return e===0||r===0?0:bd[$1[e]+$1[r]]}});var Z9=D(Sd=>{h();var FC=X9();Sd.mul=function(e,r){let n=new Uint8Array(e.length+r.length-1);for(let i=0;i<e.length;i++)for(let s=0;s<r.length;s++)n[i+s]^=FC.mul(e[i],r[s]);return n};Sd.mod=function(e,r){let n=new Uint8Array(e);for(;n.length-r.length>=0;){let i=n[0];for(let o=0;o<r.length;o++)n[o]^=FC.mul(r[o],i);let s=0;for(;s<n.length&&n[s]===0;)s++;n=n.slice(s)}return n};Sd.generateECPolynomial=function(e){let r=new Uint8Array([1]);for(let n=0;n<e;n++)r=Sd.mul(r,new Uint8Array([1,FC.exp(n)]));return r}});var rV=D((SCe,tV)=>{h();var eV=Z9();function UC(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}UC.prototype.initialize=function(e){this.degree=e,this.genPoly=eV.generateECPolynomial(this.degree)};UC.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");let r=new Uint8Array(e.length+this.degree);r.set(e);let n=eV.mod(r,this.genPoly),i=this.degree-n.length;if(i>0){let s=new Uint8Array(this.degree);return s.set(n,i),s}return n};tV.exports=UC});var qC=D(nV=>{h();nV.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}});var VC=D(ro=>{h();var iV="[0-9]+",kde="[A-Z $%*+\\-./:]+",Id="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Id=Id.replace(/u/g,"\\u");var Hde="(?:(?![A-Z0-9 $%*+\\-./:]|"+Id+`)(?:.|[\r
]))+`;ro.KANJI=new RegExp(Id,"g");ro.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");ro.BYTE=new RegExp(Hde,"g");ro.NUMERIC=new RegExp(iV,"g");ro.ALPHANUMERIC=new RegExp(kde,"g");var Gde=new RegExp("^"+Id+"$"),jde=new RegExp("^"+iV+"$"),zde=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");ro.testKanji=function(e){return Gde.test(e)};ro.testNumeric=function(e){return jde.test(e)};ro.testAlphanumeric=function(e){return zde.test(e)}});var oa=D(fr=>{h();var Qde=qC(),kC=VC();fr.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]};fr.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]};fr.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]};fr.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]};fr.MIXED={bit:-1};fr.getCharCountIndicator=function(e,r){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!Qde.isValid(r))throw new Error("Invalid version: "+r);return r>=1&&r<10?e.ccBits[0]:r<27?e.ccBits[1]:e.ccBits[2]};fr.getBestModeForData=function(e){return kC.testNumeric(e)?fr.NUMERIC:kC.testAlphanumeric(e)?fr.ALPHANUMERIC:kC.testKanji(e)?fr.KANJI:fr.BYTE};fr.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")};fr.isValid=function(e){return e&&e.bit&&e.ccBits};function Kde(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"numeric":return fr.NUMERIC;case"alphanumeric":return fr.ALPHANUMERIC;case"kanji":return fr.KANJI;case"byte":return fr.BYTE;default:throw new Error("Unknown mode: "+t)}}fr.from=function(e,r){if(fr.isValid(e))return e;try{return Kde(e)}catch{return r}}});var cV=D(bu=>{h();var J1=ia(),Wde=LC(),sV=z1(),aa=oa(),HC=qC(),aV=7973,oV=J1.getBCHDigit(aV);function $de(t,e,r){for(let n=1;n<=40;n++)if(e<=bu.getCapacity(n,r,t))return n}function uV(t,e){return aa.getCharCountIndicator(t,e)+4}function Yde(t,e){let r=0;return t.forEach(function(n){let i=uV(n.mode,e);r+=i+n.getBitsLength()}),r}function Jde(t,e){for(let r=1;r<=40;r++)if(Yde(t,r)<=bu.getCapacity(r,e,aa.MIXED))return r}bu.from=function(e,r){return HC.isValid(e)?parseInt(e,10):r};bu.getCapacity=function(e,r,n){if(!HC.isValid(e))throw new Error("Invalid QR Code version");typeof n>"u"&&(n=aa.BYTE);let i=J1.getSymbolTotalCodewords(e),s=Wde.getTotalCodewordsCount(e,r),o=(i-s)*8;if(n===aa.MIXED)return o;let u=o-uV(n,e);switch(n){case aa.NUMERIC:return Math.floor(u/10*3);case aa.ALPHANUMERIC:return Math.floor(u/11*2);case aa.KANJI:return Math.floor(u/13);case aa.BYTE:default:return Math.floor(u/8)}};bu.getBestVersionForData=function(e,r){let n,i=sV.from(r,sV.M);if(Array.isArray(e)){if(e.length>1)return Jde(e,i);if(e.length===0)return 1;n=e[0]}else n=e;return $de(n.mode,n.getLength(),i)};bu.getEncodedBits=function(e){if(!HC.isValid(e)||e<7)throw new Error("Invalid QR Code version");let r=e<<12;for(;J1.getBCHDigit(r)-oV>=0;)r^=aV<<J1.getBCHDigit(r)-oV;return e<<12|r}});var dV=D(hV=>{h();var GC=ia(),fV=1335,Xde=21522,lV=GC.getBCHDigit(fV);hV.getEncodedBits=function(e,r){let n=e.bit<<3|r,i=n<<10;for(;GC.getBCHDigit(i)-lV>=0;)i^=fV<<GC.getBCHDigit(i)-lV;return(n<<10|i)^Xde}});var pV=D((MCe,gV)=>{h();var Zde=oa();function kl(t){this.mode=Zde.NUMERIC,this.data=t.toString()}kl.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};kl.prototype.getLength=function(){return this.data.length};kl.prototype.getBitsLength=function(){return kl.getBitsLength(this.data.length)};kl.prototype.write=function(e){let r,n,i;for(r=0;r+3<=this.data.length;r+=3)n=this.data.substr(r,3),i=parseInt(n,10),e.put(i,10);let s=this.data.length-r;s>0&&(n=this.data.substr(r),i=parseInt(n,10),e.put(i,s*3+1))};gV.exports=kl});var yV=D((FCe,mV)=>{h();var ege=oa(),jC=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Hl(t){this.mode=ege.ALPHANUMERIC,this.data=t}Hl.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};Hl.prototype.getLength=function(){return this.data.length};Hl.prototype.getBitsLength=function(){return Hl.getBitsLength(this.data.length)};Hl.prototype.write=function(e){let r;for(r=0;r+2<=this.data.length;r+=2){let n=jC.indexOf(this.data[r])*45;n+=jC.indexOf(this.data[r+1]),e.put(n,11)}this.data.length%2&&e.put(jC.indexOf(this.data[r]),6)};mV.exports=Hl});var vV=D((qCe,wV)=>{"use strict";h();wV.exports=function(e){for(var r=[],n=e.length,i=0;i<n;i++){var s=e.charCodeAt(i);if(s>=55296&&s<=56319&&n>i+1){var o=e.charCodeAt(i+1);o>=56320&&o<=57343&&(s=(s-55296)*1024+o-56320+65536,i+=1)}if(s<128){r.push(s);continue}if(s<2048){r.push(s>>6|192),r.push(s&63|128);continue}if(s<55296||s>=57344&&s<65536){r.push(s>>12|224),r.push(s>>6&63|128),r.push(s&63|128);continue}if(s>=65536&&s<=1114111){r.push(s>>18|240),r.push(s>>12&63|128),r.push(s>>6&63|128),r.push(s&63|128);continue}r.push(239,191,189)}return new Uint8Array(r).buffer}});var EV=D((kCe,AV)=>{h();var tge=vV(),rge=oa();function Gl(t){this.mode=rge.BYTE,typeof t=="string"&&(t=tge(t)),this.data=new Uint8Array(t)}Gl.getBitsLength=function(e){return e*8};Gl.prototype.getLength=function(){return this.data.length};Gl.prototype.getBitsLength=function(){return Gl.getBitsLength(this.data.length)};Gl.prototype.write=function(t){for(let e=0,r=this.data.length;e<r;e++)t.put(this.data[e],8)};AV.exports=Gl});var SV=D((GCe,bV)=>{h();var nge=oa(),ige=ia();function jl(t){this.mode=nge.KANJI,this.data=t}jl.getBitsLength=function(e){return e*13};jl.prototype.getLength=function(){return this.data.length};jl.prototype.getBitsLength=function(){return jl.getBitsLength(this.data.length)};jl.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let r=ige.toSJIS(this.data[e]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),t.put(r,13)}};bV.exports=jl});var IV=D((zCe,zC)=>{"use strict";h();var _d={single_source_shortest_paths:function(t,e,r){var n={},i={};i[e]=0;var s=_d.PriorityQueue.make();s.push(e,0);for(var o,u,a,c,f,d,w,A,_;!s.empty();){o=s.pop(),u=o.value,c=o.cost,f=t[u]||{};for(a in f)f.hasOwnProperty(a)&&(d=f[a],w=c+d,A=i[a],_=typeof i[a]>"u",(_||A>w)&&(i[a]=w,s.push(a,w),n[a]=u))}if(typeof r<"u"&&typeof i[r]>"u"){var N=["Could not find a path from ",e," to ",r,"."].join("");throw new Error(N)}return n},extract_shortest_path_from_predecessor_list:function(t,e){for(var r=[],n=e,i;n;)r.push(n),i=t[n],n=t[n];return r.reverse(),r},find_path:function(t,e,r){var n=_d.single_source_shortest_paths(t,e,r);return _d.extract_shortest_path_from_predecessor_list(n,r)},PriorityQueue:{make:function(t){var e=_d.PriorityQueue,r={},n;t=t||{};for(n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);return r.queue=[],r.sorter=t.sorter||e.default_sorter,r},default_sorter:function(t,e){return t.cost-e.cost},push:function(t,e){var r={value:t,cost:e};this.queue.push(r),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};typeof zC<"u"&&(zC.exports=_d)});var PV=D(zl=>{h();var Qe=oa(),CV=pV(),NV=yV(),xV=EV(),OV=SV(),Td=VC(),X1=ia(),sge=IV();function _V(t){return unescape(encodeURIComponent(t)).length}function Cd(t,e,r){let n=[],i;for(;(i=t.exec(r))!==null;)n.push({data:i[0],index:i.index,mode:e,length:i[0].length});return n}function DV(t){let e=Cd(Td.NUMERIC,Qe.NUMERIC,t),r=Cd(Td.ALPHANUMERIC,Qe.ALPHANUMERIC,t),n,i;return X1.isKanjiModeEnabled()?(n=Cd(Td.BYTE,Qe.BYTE,t),i=Cd(Td.KANJI,Qe.KANJI,t)):(n=Cd(Td.BYTE_KANJI,Qe.BYTE,t),i=[]),e.concat(r,n,i).sort(function(o,u){return o.index-u.index}).map(function(o){return{data:o.data,mode:o.mode,length:o.length}})}function QC(t,e){switch(e){case Qe.NUMERIC:return CV.getBitsLength(t);case Qe.ALPHANUMERIC:return NV.getBitsLength(t);case Qe.KANJI:return OV.getBitsLength(t);case Qe.BYTE:return xV.getBitsLength(t)}}function oge(t){return t.reduce(function(e,r){let n=e.length-1>=0?e[e.length-1]:null;return n&&n.mode===r.mode?(e[e.length-1].data+=r.data,e):(e.push(r),e)},[])}function age(t){let e=[];for(let r=0;r<t.length;r++){let n=t[r];switch(n.mode){case Qe.NUMERIC:e.push([n,{data:n.data,mode:Qe.ALPHANUMERIC,length:n.length},{data:n.data,mode:Qe.BYTE,length:n.length}]);break;case Qe.ALPHANUMERIC:e.push([n,{data:n.data,mode:Qe.BYTE,length:n.length}]);break;case Qe.KANJI:e.push([n,{data:n.data,mode:Qe.BYTE,length:_V(n.data)}]);break;case Qe.BYTE:e.push([{data:n.data,mode:Qe.BYTE,length:_V(n.data)}])}}return e}function uge(t,e){let r={},n={start:{}},i=["start"];for(let s=0;s<t.length;s++){let o=t[s],u=[];for(let a=0;a<o.length;a++){let c=o[a],f=""+s+a;u.push(f),r[f]={node:c,lastCount:0},n[f]={};for(let d=0;d<i.length;d++){let w=i[d];r[w]&&r[w].node.mode===c.mode?(n[w][f]=QC(r[w].lastCount+c.length,c.mode)-QC(r[w].lastCount,c.mode),r[w].lastCount+=c.length):(r[w]&&(r[w].lastCount=c.length),n[w][f]=QC(c.length,c.mode)+4+Qe.getCharCountIndicator(c.mode,e))}}i=u}for(let s=0;s<i.length;s++)n[i[s]].end=0;return{map:n,table:r}}function TV(t,e){let r,n=Qe.getBestModeForData(t);if(r=Qe.from(e,n),r!==Qe.BYTE&&r.bit<n.bit)throw new Error('"'+t+'" cannot be encoded with mode '+Qe.toString(r)+`.
 Suggested mode is: `+Qe.toString(n));switch(r===Qe.KANJI&&!X1.isKanjiModeEnabled()&&(r=Qe.BYTE),r){case Qe.NUMERIC:return new CV(t);case Qe.ALPHANUMERIC:return new NV(t);case Qe.KANJI:return new OV(t);case Qe.BYTE:return new xV(t)}}zl.fromArray=function(e){return e.reduce(function(r,n){return typeof n=="string"?r.push(TV(n,null)):n.data&&r.push(TV(n.data,n.mode)),r},[])};zl.fromString=function(e,r){let n=DV(e,X1.isKanjiModeEnabled()),i=age(n),s=uge(i,r),o=sge.find_path(s.map,"start","end"),u=[];for(let a=1;a<o.length-1;a++)u.push(s.table[o[a]].node);return zl.fromArray(oge(u))};zl.rawSplit=function(e){return zl.fromArray(DV(e,X1.isKanjiModeEnabled()))}});var BV=D(RV=>{h();var ew=ia(),KC=z1(),cge=j9(),lge=Q9(),fge=K9(),hge=Y9(),YC=J9(),JC=LC(),dge=rV(),Z1=cV(),gge=dV(),pge=oa(),WC=PV();function mge(t,e){let r=t.size,n=hge.getPositions(e);for(let i=0;i<n.length;i++){let s=n[i][0],o=n[i][1];for(let u=-1;u<=7;u++)if(!(s+u<=-1||r<=s+u))for(let a=-1;a<=7;a++)o+a<=-1||r<=o+a||(u>=0&&u<=6&&(a===0||a===6)||a>=0&&a<=6&&(u===0||u===6)||u>=2&&u<=4&&a>=2&&a<=4?t.set(s+u,o+a,!0,!0):t.set(s+u,o+a,!1,!0))}}function yge(t){let e=t.size;for(let r=8;r<e-8;r++){let n=r%2===0;t.set(r,6,n,!0),t.set(6,r,n,!0)}}function wge(t,e){let r=fge.getPositions(e);for(let n=0;n<r.length;n++){let i=r[n][0],s=r[n][1];for(let o=-2;o<=2;o++)for(let u=-2;u<=2;u++)o===-2||o===2||u===-2||u===2||o===0&&u===0?t.set(i+o,s+u,!0,!0):t.set(i+o,s+u,!1,!0)}}function vge(t,e){let r=t.size,n=Z1.getEncodedBits(e),i,s,o;for(let u=0;u<18;u++)i=Math.floor(u/3),s=u%3+r-8-3,o=(n>>u&1)===1,t.set(i,s,o,!0),t.set(s,i,o,!0)}function $C(t,e,r){let n=t.size,i=gge.getEncodedBits(e,r),s,o;for(s=0;s<15;s++)o=(i>>s&1)===1,s<6?t.set(s,8,o,!0):s<8?t.set(s+1,8,o,!0):t.set(n-15+s,8,o,!0),s<8?t.set(8,n-s-1,o,!0):s<9?t.set(8,15-s-1+1,o,!0):t.set(8,15-s-1,o,!0);t.set(n-8,8,1,!0)}function Age(t,e){let r=t.size,n=-1,i=r-1,s=7,o=0;for(let u=r-1;u>0;u-=2)for(u===6&&u--;;){for(let a=0;a<2;a++)if(!t.isReserved(i,u-a)){let c=!1;o<e.length&&(c=(e[o]>>>s&1)===1),t.set(i,u-a,c),s--,s===-1&&(o++,s=7)}if(i+=n,i<0||r<=i){i-=n,n=-n;break}}}function Ege(t,e,r){let n=new cge;r.forEach(function(a){n.put(a.mode.bit,4),n.put(a.getLength(),pge.getCharCountIndicator(a.mode,t)),a.write(n)});let i=ew.getSymbolTotalCodewords(t),s=JC.getTotalCodewordsCount(t,e),o=(i-s)*8;for(n.getLengthInBits()+4<=o&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);let u=(o-n.getLengthInBits())/8;for(let a=0;a<u;a++)n.put(a%2?17:236,8);return bge(n,t,e)}function bge(t,e,r){let n=ew.getSymbolTotalCodewords(e),i=JC.getTotalCodewordsCount(e,r),s=n-i,o=JC.getBlocksCount(e,r),u=n%o,a=o-u,c=Math.floor(n/o),f=Math.floor(s/o),d=f+1,w=c-f,A=new dge(w),_=0,N=new Array(o),P=new Array(o),V=0,U=new Uint8Array(t.buffer);for(let q=0;q<o;q++){let v=q<a?f:d;N[q]=U.slice(_,_+v),P[q]=A.encode(N[q]),_+=v,V=Math.max(V,v)}let Q=new Uint8Array(n),L=0,k,H;for(k=0;k<V;k++)for(H=0;H<o;H++)k<N[H].length&&(Q[L++]=N[H][k]);for(k=0;k<w;k++)for(H=0;H<o;H++)Q[L++]=P[H][k];return Q}function Sge(t,e,r,n){let i;if(Array.isArray(t))i=WC.fromArray(t);else if(typeof t=="string"){let c=e;if(!c){let f=WC.rawSplit(t);c=Z1.getBestVersionForData(f,r)}i=WC.fromString(t,c||40)}else throw new Error("Invalid data");let s=Z1.getBestVersionForData(i,r);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=s;else if(e<s)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+s+`.
`);let o=Ege(e,r,i),u=ew.getSymbolSize(e),a=new lge(u);return mge(a,e),yge(a),wge(a,e),$C(a,r,0),e>=7&&vge(a,e),Age(a,o),isNaN(n)&&(n=YC.getBestMask(a,$C.bind(null,a,r))),YC.applyMask(n,a),$C(a,r,n),{modules:a,version:e,errorCorrectionLevel:r,maskPattern:n,segments:i}}RV.create=function(e,r){if(typeof e>"u"||e==="")throw new Error("No input text");let n=KC.M,i,s;return typeof r<"u"&&(n=KC.from(r.errorCorrectionLevel,KC.M),i=Z1.from(r.version),s=YC.from(r.maskPattern),r.toSJISFunc&&ew.setToSJISFunction(r.toSJISFunc)),Sge(e,i,n,s)}});var XC=D(Su=>{h();function MV(t){if(typeof t=="number"&&(t=t.toString()),typeof t!="string")throw new Error("Color should be defined as hex string");let e=t.slice().replace("#","").split("");if(e.length<3||e.length===5||e.length>8)throw new Error("Invalid hex color: "+t);(e.length===3||e.length===4)&&(e=Array.prototype.concat.apply([],e.map(function(n){return[n,n]}))),e.length===6&&e.push("F","F");let r=parseInt(e.join(""),16);return{r:r>>24&255,g:r>>16&255,b:r>>8&255,a:r&255,hex:"#"+e.slice(0,6).join("")}}Su.getOptions=function(e){e||(e={}),e.color||(e.color={});let r=typeof e.margin>"u"||e.margin===null||e.margin<0?4:e.margin,n=e.width&&e.width>=21?e.width:void 0,i=e.scale||4;return{width:n,scale:n?4:i,margin:r,color:{dark:MV(e.color.dark||"#000000ff"),light:MV(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}};Su.getScale=function(e,r){return r.width&&r.width>=e+r.margin*2?r.width/(e+r.margin*2):r.scale};Su.getImageWidth=function(e,r){let n=Su.getScale(e,r);return Math.floor((e+r.margin*2)*n)};Su.qrToImageData=function(e,r,n){let i=r.modules.size,s=r.modules.data,o=Su.getScale(i,n),u=Math.floor((i+n.margin*2)*o),a=n.margin*o,c=[n.color.light,n.color.dark];for(let f=0;f<u;f++)for(let d=0;d<u;d++){let w=(f*u+d)*4,A=n.color.light;if(f>=a&&d>=a&&f<u-a&&d<u-a){let _=Math.floor((f-a)/o),N=Math.floor((d-a)/o);A=c[s[_*i+N]?1:0]}e[w++]=A.r,e[w++]=A.g,e[w++]=A.b,e[w]=A.a}}});var LV=D(tw=>{h();var ZC=XC();function Ige(t,e,r){t.clearRect(0,0,e.width,e.height),e.style||(e.style={}),e.height=r,e.width=r,e.style.height=r+"px",e.style.width=r+"px"}function _ge(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}tw.render=function(e,r,n){let i=n,s=r;typeof i>"u"&&(!r||!r.getContext)&&(i=r,r=void 0),r||(s=_ge()),i=ZC.getOptions(i);let o=ZC.getImageWidth(e.modules.size,i),u=s.getContext("2d"),a=u.createImageData(o,o);return ZC.qrToImageData(a.data,e,i),Ige(u,s,o),u.putImageData(a,0,0),s};tw.renderToDataURL=function(e,r,n){let i=n;typeof i>"u"&&(!r||!r.getContext)&&(i=r,r=void 0),i||(i={});let s=tw.render(e,r,i),o=i.type||"image/png",u=i.rendererOpts||{};return s.toDataURL(o,u.quality)}});var qV=D(UV=>{h();var Tge=XC();function FV(t,e){let r=t.a/255,n=e+'="'+t.hex+'"';return r<1?n+" "+e+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function e3(t,e,r){let n=t+e;return typeof r<"u"&&(n+=" "+r),n}function Cge(t,e,r){let n="",i=0,s=!1,o=0;for(let u=0;u<t.length;u++){let a=Math.floor(u%e),c=Math.floor(u/e);!a&&!s&&(s=!0),t[u]?(o++,u>0&&a>0&&t[u-1]||(n+=s?e3("M",a+r,.5+c+r):e3("m",i,0),i=0,s=!1),a+1<e&&t[u+1]||(n+=e3("h",o),o=0)):i++}return n}UV.render=function(e,r,n){let i=Tge.getOptions(r),s=e.modules.size,o=e.modules.data,u=s+i.margin*2,a=i.color.light.a?"<path "+FV(i.color.light,"fill")+' d="M0 0h'+u+"v"+u+'H0z"/>':"",c="<path "+FV(i.color.dark,"stroke")+' d="'+Cge(o,s,i.margin)+'"/>',f='viewBox="0 0 '+u+" "+u+'"',w='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+f+' shape-rendering="crispEdges">'+a+c+`</svg>
`;return typeof n=="function"&&n(null,w),w}});var kV=D(Nd=>{h();var Nge=k9(),t3=BV(),VV=LV(),xge=qV();function r3(t,e,r,n,i){let s=[].slice.call(arguments,1),o=s.length,u=typeof s[o-1]=="function";if(!u&&!Nge())throw new Error("Callback required as last argument");if(u){if(o<2)throw new Error("Too few arguments provided");o===2?(i=r,r=e,e=n=void 0):o===3&&(e.getContext&&typeof i>"u"?(i=n,n=void 0):(i=n,n=r,r=e,e=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(r=e,e=n=void 0):o===2&&!e.getContext&&(n=r,r=e,e=void 0),new Promise(function(a,c){try{let f=t3.create(r,n);a(t(f,e,n))}catch(f){c(f)}})}try{let a=t3.create(r,n);i(null,t(a,e,n))}catch(a){i(a)}}Nd.create=t3.create;Nd.toCanvas=r3.bind(null,VV.render);Nd.toDataURL=r3.bind(null,VV.renderToDataURL);Nd.toString=r3.bind(null,function(t,e,r){return xge.render(t,r)})});var XV=D(ua=>{"use strict";h();var Vge=ua&&ua.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),JV=ua&&ua.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Vge(e,t,r)};Object.defineProperty(ua,"__esModule",{value:!0});JV(Ol(),ua);JV(J2(),ua)});var uk=D(aw=>{"use strict";h();Object.defineProperty(aw,"__esModule",{value:!0});aw.isWindowAvailable=void 0;var kge=()=>typeof window<"u"&&typeof window?.location<"u";aw.isWindowAvailable=kge});var o3=D(uw=>{"use strict";h();Object.defineProperty(uw,"__esModule",{value:!0});uw.getTargetOrigin=void 0;var Hge=uk(),Gge=()=>{var t;if((0,Hge.isWindowAvailable)()){let e=window.location.ancestorOrigins;return(t=e?.[e.length-1])!==null&&t!==void 0?t:"*"}return"*"};uw.getTargetOrigin=Gge});var cw=D(ca=>{"use strict";h();Object.defineProperty(ca,"__esModule",{value:!0});ca.SignMessageStatusEnum=ca.CrossWindowProviderResponseEnums=ca.CrossWindowProviderRequestEnums=void 0;var ck;(function(t){t.signTransactionsRequest="SIGN_TRANSACTIONS_REQUEST",t.guardTransactionsRequest="GUARD_TRANSACTIONS_REQUEST",t.signMessageRequest="SIGN_MESSAGE_REQUEST",t.loginRequest="LOGIN_REQUEST",t.logoutRequest="LOGOUT_REQUEST",t.cancelAction="CANCEL_ACTION_REQUEST",t.finalizeHandshakeRequest="FINALIZE_HANDSHAKE_REQUEST",t.finalizeResetStateRequest="FINALIZE_RESET_STATE_REQUEST"})(ck||(ca.CrossWindowProviderRequestEnums=ck={}));var lk;(function(t){t.handshakeResponse="HANDSHAKE_RESPONSE",t.guardTransactionsResponse="GUARD_TRANSACTIONS_RESPONSE",t.loginResponse="LOGIN_RESPONSE",t.disconnectResponse="DISCONNECT_RESPONSE",t.cancelResponse="CANCEL_RESPONSE",t.signTransactionsResponse="SIGN_TRANSACTIONS_RESPONSE",t.signMessageResponse="SIGN_MESSAGE_RESPONSE",t.noneResponse="NONE_RESPONSE",t.resetStateResponse="RESET_STATE_RESPONSE"})(lk||(ca.CrossWindowProviderResponseEnums=lk={}));var fk;(function(t){t.pending="pending",t.failed="failed",t.signed="signed",t.cancelled="cancelled"})(fk||(ca.SignMessageStatusEnum=fk={}))});var fw=D(lw=>{"use strict";h();Object.defineProperty(lw,"__esModule",{value:!0});lw.getSafeWindow=void 0;var jge=()=>typeof window<"u"?window:{};lw.getSafeWindow=jge});var hk=D(hw=>{"use strict";h();Object.defineProperty(hw,"__esModule",{value:!0});hw.isMobileWebview=void 0;var zge=fw(),Qge=()=>{let t=(0,zge.getSafeWindow)();return t.ReactNativeWebView||t.webkit};hw.isMobileWebview=Qge});var a3=D(dw=>{"use strict";h();Object.defineProperty(dw,"__esModule",{value:!0});dw.getSafeDocument=void 0;var Kge=()=>typeof document<"u"?document:{};dw.getSafeDocument=Kge});var gk=D(Kl=>{"use strict";h();Object.defineProperty(Kl,"__esModule",{value:!0});Kl.webviewProviderEventHandler=void 0;var Wge=o3(),$ge=cw(),dk=hk(),Yge=fw(),Jge=a3(),Xge=(t,e)=>r=>{var n,i,s,o;let u=r.data;try{u=(0,dk.isMobileWebview)()&&typeof u=="string"?JSON.parse(u):u}catch{console.error("error parsing eventData",u)}let{type:a,payload:c}=u;!(0,dk.isMobileWebview)()&&r.origin!=(0,Wge.getTargetOrigin)()||!(t===a||a===$ge.CrossWindowProviderResponseEnums.cancelResponse)||((i=(n=(0,Yge.getSafeWindow)()).removeEventListener)===null||i===void 0||i.call(n,"message",(0,Kl.webviewProviderEventHandler)(t,e)),(o=(s=(0,Jge.getSafeDocument)()).removeEventListener)===null||o===void 0||o.call(s,"message",(0,Kl.webviewProviderEventHandler)(t,e)),e({type:a,payload:c}))};Kl.webviewProviderEventHandler=Xge});var pk=D(Wl=>{"use strict";h();Object.defineProperty(Wl,"__esModule",{value:!0});Wl.safeWindow=Wl.responseTypeMap=void 0;var Vr=cw();Wl.responseTypeMap={[Vr.CrossWindowProviderRequestEnums.signTransactionsRequest]:Vr.CrossWindowProviderResponseEnums.signTransactionsResponse,[Vr.CrossWindowProviderRequestEnums.guardTransactionsRequest]:Vr.CrossWindowProviderResponseEnums.guardTransactionsResponse,[Vr.CrossWindowProviderRequestEnums.signMessageRequest]:Vr.CrossWindowProviderResponseEnums.signMessageResponse,[Vr.CrossWindowProviderRequestEnums.loginRequest]:Vr.CrossWindowProviderResponseEnums.loginResponse,[Vr.CrossWindowProviderRequestEnums.logoutRequest]:Vr.CrossWindowProviderResponseEnums.disconnectResponse,[Vr.CrossWindowProviderRequestEnums.cancelAction]:Vr.CrossWindowProviderResponseEnums.cancelResponse,[Vr.CrossWindowProviderRequestEnums.finalizeHandshakeRequest]:Vr.CrossWindowProviderResponseEnums.noneResponse,[Vr.CrossWindowProviderRequestEnums.finalizeResetStateRequest]:Vr.CrossWindowProviderResponseEnums.resetStateResponse};Wl.safeWindow=typeof window<"u"?window:{}});var yk=D($l=>{"use strict";h();var ni=$l&&$l.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function u(f){try{c(n.next(f))}catch(d){o(d)}}function a(f){try{c(n.throw(f))}catch(d){o(d)}}function c(f){f.done?s(f.value):i(f.value).then(u,a)}c((n=n.apply(t,e||[])).next())})};Object.defineProperty($l,"__esModule",{value:!0});$l.WebviewProvider=void 0;var Zge=en(),u3=gk(),ii=cw(),epe=pk(),mk=o3(),c3=fw(),tpe=a3(),l3=class t{static getInstance(e){return t._instance||(t._instance=new t(e)),t._instance}constructor(e){this.resetState=r=>{var n,i;(i=(n=(0,c3.getSafeWindow)()).addEventListener)===null||i===void 0||i.call(n,"message",(0,u3.webviewProviderEventHandler)(ii.CrossWindowProviderResponseEnums.resetStateResponse,s=>{s.type===ii.CrossWindowProviderResponseEnums.resetStateResponse&&(r?.(),setTimeout(()=>{this.finalizeResetState()},500))}))},this.init=()=>ni(this,void 0,void 0,function*(){return this.sendPostMessage({type:ii.CrossWindowProviderRequestEnums.finalizeHandshakeRequest,payload:void 0}),!0}),this.login=()=>ni(this,void 0,void 0,function*(){return!0}),this.logout=()=>ni(this,void 0,void 0,function*(){return!!(yield this.sendPostMessage({type:ii.CrossWindowProviderRequestEnums.logoutRequest,payload:void 0})).payload.data}),this.relogin=()=>ni(this,void 0,void 0,function*(){let r=yield this.sendPostMessage({type:ii.CrossWindowProviderRequestEnums.loginRequest,payload:void 0}),{data:n,error:i}=r.payload;if(i||!n)throw new Error("Unable to re-login");let{accessToken:s}=n;return s||(console.error("Unable to re-login. Missing accessToken."),null)}),this.signTransactions=r=>ni(this,void 0,void 0,function*(){let n=yield this.sendPostMessage({type:ii.CrossWindowProviderRequestEnums.signTransactionsRequest,payload:r.map(o=>o.toPlainObject())}),{data:i,error:s}=n.payload;return s||!i?(console.error("Unable to sign transactions"),null):n.type==ii.CrossWindowProviderResponseEnums.cancelResponse?(console.warn("Cancelled the transactions signing action"),this.cancelAction(),null):i.map(o=>Zge.Transaction.fromPlainObject(o))}),this.signTransaction=r=>ni(this,void 0,void 0,function*(){let n=yield this.signTransactions([r]);return n?.[0]}),this.signMessage=r=>ni(this,void 0,void 0,function*(){let n=yield this.sendPostMessage({type:ii.CrossWindowProviderRequestEnums.signMessageRequest,payload:{message:r.message.toString()}}),{data:i,error:s}=n.payload;return s||!i?(console.error("Unable to sign message"),null):n.type==ii.CrossWindowProviderResponseEnums.cancelResponse?(console.warn("Cancelled the message signing action"),this.cancelAction(),null):i.status!==ii.SignMessageStatusEnum.signed?(console.error("Could not sign message"),null):(r.applySignature(p.Buffer.from(String(i.signature),"hex")),r)}),this.cancelAction=()=>ni(this,void 0,void 0,function*(){return this.sendPostMessage({type:ii.CrossWindowProviderRequestEnums.cancelAction,payload:void 0})}),this.finalizeResetState=()=>ni(this,void 0,void 0,function*(){return this.sendPostMessage({type:ii.CrossWindowProviderRequestEnums.finalizeResetStateRequest,payload:void 0})}),this.isInitialized=()=>!0,this.isConnected=()=>ni(this,void 0,void 0,function*(){return Promise.resolve(!0)}),this.sendPostMessage=r=>ni(this,void 0,void 0,function*(){var n,i;let s=(0,c3.getSafeWindow)();return s.ReactNativeWebView?s.ReactNativeWebView.postMessage(JSON.stringify(r)):s.webkit?(i=(n=s.webkit.messageHandlers)===null||n===void 0?void 0:n.jsHandler)===null||i===void 0||i.postMessage(JSON.stringify(r),(0,mk.getTargetOrigin)()):s.parent&&s.parent.postMessage(r,(0,mk.getTargetOrigin)()),yield this.waitingForResponse(epe.responseTypeMap[r.type])}),this.waitingForResponse=r=>ni(this,void 0,void 0,function*(){return yield new Promise(n=>{var i,s,o,u;(s=(i=(0,c3.getSafeWindow)()).addEventListener)===null||s===void 0||s.call(i,"message",(0,u3.webviewProviderEventHandler)(r,n)),(u=(o=(0,tpe.getSafeDocument)()).addEventListener)===null||u===void 0||u.call(o,"message",(0,u3.webviewProviderEventHandler)(r,n))})}),e?.resetStateCallback&&this.resetState(e.resetStateCallback)}};$l.WebviewProvider=l3});var f3=D(Iu=>{"use strict";h();var rpe=Iu&&Iu.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),npe=Iu&&Iu.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&rpe(e,t,r)};Object.defineProperty(Iu,"__esModule",{value:!0});npe(yk(),Iu)});h();var m3=ge(Ia(),1),y3=ge(Fb(),1),yw=ge(d0(),1),w3=ge(Hb(),1),ape=ge(ke(),1),upe=ge(Sc(),1),cpe=ge(en(),1),lpe=ge(N0(),1),Ik=ge(zb(),1),fpe=ge(V0(),1),hpe=ge(H0(),1),_k=ge(go(),1),_s=ge(Lf(),1),Tk=ge(wf(),1),Ck=ge(Wu(),1),dpe=ge(FE(),1),gpe=ge(tS(),1);h();h();var VP=ge(iS(),1);h();h();var G0="elvenjs_state",FP="https://devnet-api.multiversx.com";var Do="/dapp/init",j0="devnet",UP="https://maiar.page.link/?apn=com.elrond.maiar.wallet&isi=1519405832&ibi=com.elrond.maiar.wallet&link=https://xportal.com/",qP=["wss://relay.walletconnect.com"],Br={devnet:{id:"devnet",shortId:"D",name:"Devnet",egldLabel:"xEGLD",egldDenomination:"18",decimals:"4",gasPerDataByte:"1500",walletAddress:"https://devnet-wallet.multiversx.com",xAliasAddress:"https://devnet.xalias.com",apiAddress:"https://devnet-api.multiversx.com",explorerAddress:"https://devnet-explorer.multiversx.com",apiTimeout:1e4},testnet:{id:"testnet",shortId:"T",name:"Testnet",egldLabel:"xEGLD",egldDenomination:"18",decimals:"4",gasPerDataByte:"1500",walletAddress:"https://testnet-wallet.multiversx.com",xAliasAddress:"https://testnet.xalias.com",apiAddress:"https://testnet-api.multiversx.com",explorerAddress:"https://testnet-explorer.multiversx.com",apiTimeout:1e4},mainnet:{id:"mainnet",shortId:"1",name:"Mainnet",egldLabel:"EGLD",egldDenomination:"18",decimals:"4",gasPerDataByte:"1500",walletAddress:"https://wallet.multiversx.com",xAliasAddress:"https://xalias.com",apiAddress:"https://api.multiversx.com",explorerAddress:"https://explorer.multiversx.com",apiTimeout:1e4}};var ye={get(t){let e=localStorage.getItem(G0);if(!e)return{};let r=JSON.parse(e);return t?r[t]:r},set(t,e){let r=this.get();r[t]=e,localStorage.setItem(G0,JSON.stringify(r))},clear(){localStorage.removeItem(G0)}};var z0=async()=>{let t=VP.ExtensionProvider.getInstance();try{let e=await t.init(),r=ye.get();if(r?.address&&t.setAddress(r.address),!e){console.warn("Something went wrong when trying to initialize the ExtensionProvider..");return}return t}catch{console.warn("Can't initialize the Dapp Provider!")}};var h3=ge(iS(),1),d3=ge(ld(),1),g3=ge(Ol(),1),Sk=ge(bC(),1),xd=ge(H0(),1);h();var w9=ge(ld(),1);h();h();var pe=class{static set(e,r){if(!e)return;let n={...this.events,[e]:r};this.events=n}static get(e){if(!(!e||!this.events))return this.events[e]}static run(e,...r){!e||!this.events||this.events[e]?.(...r)}static clear(){this.events=void 0}};h();var y9=(U=>(U.onLoginStart="onLoginStart",U.onLoginSuccess="onLoginSuccess",U.onLoginFailure="onLoginFailure",U.onLogoutStart="onLogoutStart",U.onLogoutSuccess="onLogoutSuccess",U.onLogoutFailure="onLogoutFailure",U.onQrPending="onQrPending",U.onQrLoaded="onQrLoaded",U.onTxStart="onTxStart",U.onTxSent="onTxSent",U.onTxFinalized="onTxFinalized",U.onTxFailure="onTxFailure",U.onSignMsgStart="onSignMsgStart",U.onSignMsgFinalized="onSignMsgFinalized",U.onSignMsgFailure="onSignMsgFailure",U.onQueryStart="onQueryStart",U.onQueryFinalized="onQueryFinalized",U.onQueryFailure="onQueryFailure",U))(y9||{}),SC=(o=>(o.ledger="ledger",o.mobile="mobile",o.webWallet="web-wallet",o.browserExtension="browser-extension",o.xAlias="x-alias",o.xPortalHub="x-portal-hub",o))(SC||{}),Pde=(r=>(r.mvx_cancelAction="mvx_cancelAction",r.mvx_signNativeAuthToken="mvx_signNativeAuthToken",r))(Pde||{}),Rde=(e=>(e.hasWebWalletGuardianSign="hasWebWalletGuardianSign",e))(Rde||{});h();var Kt=t=>typeof t=="string"?t.toUpperCase():t instanceof Error?t.message:JSON.stringify(t);var Ll=async t=>{if(!t.dappProvider)throw new Error("Logout failed: There is no active session!");pe.run("onLogoutStart");try{let e=await t.dappProvider.logout();return e&&(ye.clear(),pe.run("onLogoutSuccess")),e}catch(e){let r=Kt(e);console.warn(`Something went wrong trying to logout the user: ${r}`),pe.run("onLogoutFailure",r)}};h();function M1(t){return t[Math.floor(Math.random()*t.length)]}var v9=async t=>{if(!t.initOptions.walletConnectV2ProjectId||!t.initOptions.chainType)return;let e={onClientLogin:()=>{},onClientLogout:()=>Ll(t),onClientEvent:i=>{console.log("wc2 session event: ",i)}},r=M1(t.initOptions.walletConnectV2RelayAddresses),n=new w9.WalletConnectV2Provider(e,Br[t.initOptions.chainType].shortId,r,t.initOptions.walletConnectV2ProjectId);try{return await n.init(),n}catch{console.warn("Can't initialize the Dapp Provider!")}};h();var H1=ge(ke(),1),O9=ge(A9(),1),D9=ge(b9(),1),P9=ge(DC(),1),R9=ge(N9(),1),B9=ge(tS(),1),M9=ge(x9(),1),L9=ge(Wf(),1);var G1=class{constructor({apiUrl:e,chainType:r,apiTimeout:n}){this.chainType=r||j0,this.apiUrl=e||Br[this.chainType]?.apiAddress,this.apiTimeout=n||Br[this.chainType]?.apiTimeout}async apiGet(e,r){if(typeof fetch<"u"){let n=new AbortController,i=setTimeout(()=>n.abort(),this.apiTimeout),s={method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"},signal:n.signal};try{let o=await fetch(this.apiUrl+"/"+e,Object.assign(s,r||{})),u=await o.json();if(!o.ok){let a=u?.error||o.status;return clearTimeout(i),Promise.reject(a)}return clearTimeout(i),u}catch(o){this.handleApiError(o,e)}}}async apiPost(e,r,n){if(typeof fetch<"u"){let i=new AbortController,s=setTimeout(()=>i.abort(),this.apiTimeout),o={method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(r||{}),signal:i.signal};try{let u=await fetch(this.apiUrl+"/"+e,Object.assign(o,n||{})),a=await u.json();if(!u.ok){let c=a?.error||u.status;return clearTimeout(s),Promise.reject(c)}return clearTimeout(s),a}catch(u){this.handleApiError(u,e)}}}handleApiError(e,r){if(!e.response)throw new Error(`Request error on url [${r}]: [${e.toString()}]`);let n=e.response.data,i=n.error||n.message||JSON.stringify(n);throw new Error(i)}async sendTransaction(e){return(await this.apiPost("transactions",e.toSendable())).txHash}async getAccount(e){let r=await this.apiGet(`accounts/${e.bech32()}`);return{address:new H1.Address(r?.address||""),nonce:Number(r?.nonce||0),balance:BigInt(r?.balance||0),code:r?.code||"",userName:r?.username||""}}async getGuardianData(e){let r=await this.apiGet(`address/${e.bech32()}/guardian-data`);return{guarded:r?.data?.guardianData?.guarded||!1,activeGuardian:r?.data?.guardianData?.activeGuardian,pendingGuardian:r?.data?.guardianData?.pendingGuardian}}async getTransaction(e){let r=await this.apiGet(`transactions/${e}`),n=new O9.TransactionStatus(r.status);return{hash:e,type:r.type||"",nonce:r.nonce||0,round:r.round,epoch:r.epoch||0,value:(r.value||0).toString(),sender:new H1.Address(r.sender),receiver:new H1.Address(r.receiver),gasPrice:r.gasPrice||0,gasLimit:r.gasLimit||0,data:p.Buffer.from(r.data||"","base64"),status:n,timestamp:r.timestamp||0,blockNonce:r.blockNonce||0,hyperblockNonce:r.hyperblockNonce||0,hyperblockHash:r.hyperblockHash||"",receipt:D9.TransactionReceipt.fromHttpResponse(r.receipt||{}),logs:P9.TransactionLogs.fromHttpResponse(r.logs||{}),contractResults:R9.ContractResults.fromApiHttpResponse(r.results||[]),isCompleted:!n.isPending()}}async queryContract({address:e,func:r,args:n,value:i,caller:s}){try{let o=new L9.Query({address:e,func:r,args:n,value:i,caller:s}),u=new M9.ContractQueryRequest(o).toHttpRequest(),a=await this.apiPost("query",u);return B9.ContractQueryResponse.fromHttpResponse(a)}catch(o){this.handleApiError(o,"query")}}};h();h();var Vl=()=>new Date().setHours(new Date().getHours()+24),j1=t=>Date.now()>t;h();var F9=ge(ke(),1),U9=ge(Sc(),1);var vu=async t=>{let e=ye.get("address"),r=ye.get("expires");if(!(r&&j1(r))&&e&&t.networkProvider){let i=new F9.Address(e),s=new U9.Account(i);try{let o=await t.networkProvider.getAccount(i),u=await t.networkProvider.getGuardianData(i);ye.set("address",e),ye.set("activeGuardian",u.guarded&&u.activeGuardian?.address?u.activeGuardian.address:""),ye.set("nonce",o.nonce.valueOf()),ye.set("balance",o.balance.toString()),s.update(o)}catch(o){let u=Kt(o);console.warn(`Something went wrong trying to synchronize the user account: ${u}`)}}};var q9=async(t,e,r,n="/")=>{let i=await z0(),o={callbackUrl:encodeURIComponent(`${window.location.origin}${n}`),token:e};try{if(i&&!await i.login(o))throw new Error("There were problems while logging in!")}catch(a){let c=Kt(a);throw new Error(c)}if(!i)throw new Error("There were problems with auth provider initialization!");let{signature:u}=i.account;if(ye.set("loginToken",e),u&&ye.set("signature",u),t.networkProvider&&u)try{let a=await i.getAddress();if(!a)throw new Error("Canceled!");ye.set("address",a),ye.set("loginMethod","browser-extension"),ye.set("expires",Vl()),await vu(t);let c=r.getToken(a,e,u);return ye.set("accessToken",c),pe.run("onLoginSuccess"),i}catch(a){throw new Error(`Something went wrong trying to synchronize the user account: ${a?.message}`)}};h();h();var HV=ge(kV(),1),GV=ge(ld(),1);var Oge=t=>{let e=document.createElement("template");return e.innerHTML=t.trim(),e.content.firstChild?.cloneNode(!0)},Dge=t=>{let e=`${UP}?wallet-connect=${encodeURIComponent(t)}`,r=document.createElement("a");return r.setAttribute("href",e),r.setAttribute("rel","noopener noreferrer nofollow"),r.setAttribute("target","_blank"),r.textContent="xPortal login",r.classList.add("elven-qr-code-deep-link"),r},Pge=()=>{let t=document.createElement("div");return t.classList.add("elven-wc-pairings"),t},Rge=()=>{let t=document.createElement("div");return t.textContent="Existing WalletConnect pairings:",t.classList.add("elven-wc-pairings-header"),t},n3={},Bge=(t,e)=>{let r=document.createElement("button");return r.classList.add("elven-wc-pairings-remove-btn"),r.textContent="\u2716",n3[t.topic]=new AbortController,r.addEventListener("click",n=>{n.stopImmediatePropagation(),e(t.topic)},{signal:n3[t.topic].signal}),r},rw={},Mge=(t,e,r)=>{let n=document.createElement("div"),i=document.createElement("div");n.classList.add("elven-wc-pairing-item"),n.setAttribute("id",t.topic),i.classList.add("elven-wc-pairing-item-description"),i.textContent=`${t.peerMetadata?.description} (${t.peerMetadata?.url})`,n.appendChild(i);let s=Bge(t,e);return n.appendChild(s),rw[t.topic]=new AbortController,n.addEventListener("click",()=>r(t.topic),{signal:rw[t.topic].signal}),n},Lge=()=>{let t=document.createElement("div");return t.classList.add("elven-wc-pairing-item-confirm-msessage"),t.setAttribute("id","elven-wc-pairing-item-confirm-msessage"),t.innerText="Confirm on xPortal app!",t},Fge=t=>{if(!t)return;document.getElementById(t)?.remove()},Uge=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),qge=async t=>t?await HV.default.toString(t,{type:"svg"}):void 0,jV=async(t,e,r,n)=>{if(!t)throw new Error("Please provide the QR Code and WalletConnect Pairings container id!");let i=null;typeof t=="string"?i=document.getElementById(t):t instanceof HTMLElement&&(i=t);let s=await qge(e),o;if(s&&(o=Oge(s)),i&&o&&(i.replaceChildren(),i.appendChild(o),Uge()&&i.appendChild(Dge(e))),i&&r instanceof GV.WalletConnectV2Provider){let u=r.pairings,a=async f=>{try{f&&(await r.logout({topic:f}),Fge(f))}catch(d){let w=Kt(d);console.warn(`Something went wrong trying to remove the existing pairing: ${w}`)}finally{rw[f].abort()}},c=async f=>{try{let{approval:d}=await r.connect({topic:f,methods:["mvx_cancelAction","mvx_signNativeAuthToken"]});document.getElementById("elven-wc-pairing-item-confirm-msessage")||document.getElementById(f)?.after(Lge()),await r.login({approval:d,token:n})}catch(d){let w=Kt(d);console.warn(`Something went wrong trying to login the user: ${w}`)}finally{for(let d of Object.values(rw))d?.abort();for(let d of Object.values(n3))d?.abort()}};if(u&&u.length>0){let f=Pge();i.appendChild(f);let d=Rge();f.appendChild(d);for(let w of u){let A=Mge(w,a,c);f.appendChild(A)}}}return i};var nw=ge(ld(),1);var zV=async(t,e,r,n)=>{if(!n)throw new Error("You haven't provided the QR code container DOM element id");let i=M1(t.initOptions.walletConnectV2RelayAddresses);if(!i||!t.networkProvider)throw new Error("Something wen't wrong with the initialization (ApiNetworkProvider or Wallet Connect Bridge address), plese try to refresh the page!");if(!t.initOptions.walletConnectV2ProjectId)throw new Error("Please provide your WalletConnect project id. You can get it here: https://cloud.walletconnect.com)");if(!t.initOptions.chainType)throw new Error("Please provide the chain type in ElvenJS.init function!");let s,o={onClientLogin:async()=>{if(t.dappProvider instanceof nw.WalletConnectV2Provider){let a=await t.dappProvider.getAddress(),c=await t.dappProvider.getSignature();ye.set("address",a),ye.set("loginMethod","mobile"),ye.set("expires",Vl()),await vu(t),c&&ye.set("signature",c),ye.set("loginToken",e);let f=r.getToken(a,e,c);ye.set("accessToken",f),pe.run("onLoginSuccess"),s?.replaceChildren()}},onClientLogout:async()=>{t.dappProvider instanceof nw.WalletConnectV2Provider&&await Ll(t)},onClientEvent:a=>{console.log("wc2 session event: ",a)}},u=new nw.WalletConnectV2Provider(o,Br[t.initOptions.chainType].shortId,i,t.initOptions.walletConnectV2ProjectId);try{if(u){t.dappProvider=u,pe.run("onQrPending"),await u.init();let{uri:a,approval:c}=await u.connect({methods:["mvx_cancelAction","mvx_signNativeAuthToken"]}),f=e?`${a}&token=${e}`:a;return n&&f&&(s=await jV(n,f,u,e),pe.run("onQrLoaded")),await u.login({approval:c,token:e}),u}}catch(a){let c=Kt(a);console.warn(`Something went wrong trying to login the user: ${c}`),pe.run("onLoginFailure",c)}};h();var QV=ge(Ol(),1);var i3=async(t,e,r,n)=>{let i=new QV.WalletProvider(`${t}${Do}`),o={callbackUrl:typeof window<"u"?encodeURIComponent(`${window.location.origin}${n||"/"}`):"/",token:e};try{return ye.set("loginMethod",Br[r].xAliasAddress===t?"x-alias":"web-wallet"),await i.login(o),ye.set("expires",Vl()),ye.set("loginToken",e),i}catch(u){let a=Kt(u);console.warn(`Something went wrong trying to login the user: ${a}`),ye.set("loginMethod",""),pe.run("onLoginFailure",a)}};h();var fn=t=>{if(typeof window<"u"){let e=new URL(window.location.href);return new URLSearchParams(e.search).get(t)}};h();var KV=ge(Ol(),1);var WV=ge(bC(),1),s3=async(t,e)=>{let r=fn("signature"),n=fn("address"),i=ye.get("address"),s=ye.get("loginToken");if(r&&ye.set("signature",r),n||i){n&&(ye.set("address",n),window.history.replaceState(null,"",window.location.pathname));let o=new KV.WalletProvider(`${t}${Do}`);if(r&&e&&n){let a=new WV.NativeAuthClient({apiUrl:e,origin:window.location.origin}).getToken(n,s,r);ye.set("accessToken",a)}return o}};h();var $V=ge(Sc(),1),YV=ge(V0(),1);var iw=async(t,e)=>{pe.run("onTxSent",t);let n=await new YV.TransactionWatcher(e).awaitCompleted(t),i=n.sender,s=new $V.Account(i),o=await e.getAccount(i);s.update(o),ye.set("address",s.address.bech32()),ye.set("balance",s.balance.toString()),pe.run("onTxFinalized",n)};h();var Ql=ge(XV(),1),ek=ge(en(),1);h();var ZV=ge(Sc(),1);var sw=t=>{let e=t.getSender(),r=new ZV.Account(e),n=t.nonce.valueOf();r.incrementNonce(),ye.set("nonce",(n+1n).toString())};var tk=async(t,e,r,n)=>{if(fn(Ql.WALLET_PROVIDER_CALLBACK_PARAM)===Ql.WALLET_PROVIDER_CALLBACK_PARAM_TX_SIGNED&&t&&e){let s=ye.get("activeGuardian"),o=ye.get("loginMethod"),u=fn("hasWebWalletGuardianSign"),a;if("getTransactionsFromWalletUrl"in t){if(a=t.getTransactionsFromWalletUrl()?.[0],!a)return;o==="web-wallet"&&(a.data=p.Buffer.from(a.data).toString("base64"))}else s&&o!=="web-wallet"&&o!=="x-alias"&&u&&(a=new Ql.WalletProvider(`${r}${Do}`).getTransactionsFromWalletUrl()?.[0]);if(a){let c=ek.Transaction.fromPlainObject(a);c.nonce=BigInt(n),sw(c);try{pe.run("onTxStart",c),await e.sendTransaction(c),await iw(c,e)}catch(f){let w=`Getting transaction information failed! ${Kt(f)}`;throw pe.run("onTxFailure",c,w),new Error(w)}finally{window.history.replaceState(null,"",window.location.pathname)}}window.history.replaceState(null,"",window.location.pathname)}};h();var ow=ge(Jl(),1),rk=ge(ke(),1),nk=ge(Ol(),1);var ik=t=>{let e=ye.get("activeGuardian");if(e){let r={guarded:!0};t.setVersion(ow.TransactionVersion.withTxOptions()),t.setOptions(ow.TransactionOptions.withOptions(r)),t.setGuardian(rk.Address.fromBech32(e))}return t},sk=async(t,e)=>{let r=new nk.WalletProvider(`${e}${Do}`),n=window?.location.href,i=new URL(n);i.searchParams.set("hasWebWalletGuardianSign","true"),await r.guardTransactions([t],{callbackUrl:encodeURIComponent(i.toString())})},ok=t=>{let e=ye.get("activeGuardian");return!(!ye.get("address")||!e||t.isGuardedTransaction())};h();var ak=()=>{let t=!fn("walletProviderStatus"),e=fn("status")==="signed",r=fn("message"),n=fn("signature");t&&e&&r&&n&&(pe.run("onSignMsgFinalized",r,n),window.history.replaceState(null,"",window.location.pathname))};var mw=ge(f3(),1);h();h();h();function ipe(t){try{let e=atob(t),r=btoa(e),n=p.Buffer.from(t,"base64").toString(),i=p.Buffer.from(n).toString("base64");if(t===r&&t===i||e===n)return!0}catch{return!1}return!1}function Yl(t){return ipe(t)?atob(t):t}h();var gw=t=>Object.prototype.toString.call(t)==="[object String]";h();var wk=t=>{if(!t||!gw(t))return null;let e=t.split(".");if(e.length!==4)return null;try{let[r,n,i,s]=e,o=JSON.parse(Yl(s)),u=Yl(r);return{ttl:Number(i),extraInfo:o,origin:u,blockHash:n}}catch(r){return console.error(`Error trying to decode ${t}:`,r),null}};var vk=t=>{if(!t||!gw(t))return null;let e=t.split(".");if(e.length!==3)return console.error("Invalid nativeAuthToken. You may be trying to decode a loginToken. Try using decodeLoginToken method instead"),null;try{let[r,n,i]=e,s=Yl(r),o=Yl(n),u=wk(o);if(!u)return{address:s,body:o,signature:i,blockHash:"",origin:"",ttl:0};let a={...u,address:s,body:o,signature:i};return u.extraInfo?.timestamp||delete a.extraInfo,a}catch{return null}};var Ak=ge(f3(),1);function Ek(t,e){let r=vk(t);if(r==null)return;let{signature:n,address:i,body:s}=r;n&&t&&i&&(ye.set("loginToken",s),ye.set("accessToken",t),ye.set("signature",n),ye.set("address",i),ye.set("loginMethod","x-portal-hub"),e.dappProvider=new Ak.WebviewProvider)}h();var bk=t=>{t.onLoginStart&&pe.set("onLoginStart",t.onLoginStart),t.onLoginSuccess&&pe.set("onLoginSuccess",t.onLoginSuccess),t.onLoginFailure&&pe.set("onLoginFailure",t.onLoginFailure),t.onLogoutStart&&pe.set("onLogoutStart",t.onLogoutStart),t.onLogoutSuccess&&pe.set("onLogoutSuccess",t.onLogoutSuccess),t.onLogoutFailure&&pe.set("onLogoutFailure",t.onLogoutFailure),t.onQrPending&&pe.set("onQrPending",t.onQrPending),t.onQrLoaded&&pe.set("onQrLoaded",t.onQrLoaded),t.onTxStart&&pe.set("onTxStart",t.onTxStart),t.onTxSent&&pe.set("onTxSent",t.onTxSent),t.onTxFinalized&&pe.set("onTxFinalized",t.onTxFinalized),t.onTxFailure&&pe.set("onTxFailure",t.onTxFailure),t.onSignMsgStart&&pe.set("onSignMsgStart",t.onSignMsgStart),t.onSignMsgFinalized&&pe.set("onSignMsgFinalized",t.onSignMsgFinalized),t.onSignMsgFailure&&pe.set("onSignMsgFailure",t.onSignMsgFailure),t.onQueryStart&&pe.set("onQueryStart",t.onQueryStart),t.onQueryFinalized&&pe.set("onQueryFinalized",t.onQueryFinalized),t.onQueryFailure&&pe.set("onQueryFailure",t.onQueryFailure)};h();var pw=async t=>{pe.run("onLoginStart");try{await t(()=>{pe.run("onLoginSuccess")})}catch(e){let r=Kt(e);console.warn(`Something went wrong trying to login the user: ${r}`),pe.run("onLoginFailure",r)}};var p3=class{static async init(e){let r=ye.get();if(r.expires&&j1(r.expires)){ye.clear(),this.dappProvider=void 0;return}this.initOptions={chainType:j0,apiUrl:FP,apiTimeout:1e4,walletConnectV2ProjectId:"",walletConnectV2RelayAddresses:qP,...e},this.networkProvider=new G1(this.initOptions),bk(this.initOptions);let n=fn("accessToken");n&&await pw(async s=>{Ek(n,this),await vu(this),s()}),(r?.address||(r.loginMethod==="web-wallet"||r.loginMethod==="x-alias")&&fn("address"))&&r?.loginMethod&&(await pw(async s=>{r.loginMethod==="browser-extension"&&(this.dappProvider=await z0()),r.loginMethod==="mobile"&&(this.dappProvider=await v9(this)),r.loginMethod==="x-portal-hub"&&(this.dappProvider=new mw.WebviewProvider),r.loginMethod==="web-wallet"&&this.initOptions?.chainType&&(this.dappProvider=await s3(Br[this.initOptions.chainType].walletAddress,this.initOptions.apiUrl)),r.loginMethod==="x-alias"&&this.initOptions?.chainType&&(this.dappProvider=await s3(Br[this.initOptions.chainType].xAliasAddress,this.initOptions.apiUrl)),await vu(this),s()}),this.initOptions?.chainType&&(await tk(this.dappProvider,this.networkProvider,Br[this.initOptions.chainType][r.loginMethod==="x-alias"?"xAliasAddress":"walletAddress"],r.nonce),ak()))}static async login(e,r){if(!Object.values(SC).includes(e)){let i="Wrong login method!";throw pe.run("onLoginFailure",i),new Error(i)}if(!this.networkProvider){let i="Login failed: Use ElvenJs.init() first!";throw pe.run("onLoginFailure",i),new Error(i)}await pw(async()=>{let i=new Sk.NativeAuthClient({apiUrl:this.initOptions?.apiUrl,origin:window.location.origin}),s=await i.initialize();if(e==="browser-extension"){let o=await q9(this,s,i,r?.callbackRoute);this.dappProvider=o}if(e==="mobile"){let o=await zV(this,s,i,r?.qrCodeContainer);this.dappProvider=o}if(e==="web-wallet"&&this.initOptions?.chainType){let o=await i3(Br[this.initOptions.chainType].walletAddress,s,this.initOptions?.chainType,r?.callbackRoute);this.dappProvider=o}if(e==="x-alias"&&this.initOptions?.chainType){let o=await i3(Br[this.initOptions.chainType].xAliasAddress,s,this.initOptions?.chainType,r?.callbackRoute);this.dappProvider=o}})}static async logout(){try{let e=await Ll(this);return this.dappProvider=void 0,e}catch(e){let r=Kt(e);console.warn("Something went wrong when logging out: ",r)}}static async signAndSendTransaction(e){if(!this.dappProvider){let n="Transaction signing failed: There is no active session!";throw pe.run("onTxFailure",e,n),new Error(n)}if(!this.networkProvider){let n="Transaction signing failed: There is no active network provider!";throw pe.run("onTxFailure",e,n),new Error(n)}let r=ik(e);try{pe.run("onTxStart",e);let n=ye.get();if(e.nonce=n.nonce,this.dappProvider instanceof h3.ExtensionProvider&&(r=await this.dappProvider.signTransaction(e)),this.dappProvider instanceof d3.WalletConnectV2Provider&&(r=await this.dappProvider.signTransaction(e)),this.dappProvider instanceof mw.WebviewProvider&&(r=await this.dappProvider.signTransaction(e)),this.dappProvider instanceof g3.WalletProvider&&await this.dappProvider.signTransaction(e),n.loginMethod!=="web-wallet"&&n.loginMethod!=="x-alias"){let i=ok(r);if(i||sw(r),i&&this.initOptions?.chainType){await sk(r,Br[this.initOptions.chainType].walletAddress);return}await this.networkProvider.sendTransaction(r),await iw(r,this.networkProvider)}}catch(n){let i=Kt(n);throw pe.run("onTxFailure",r,`Getting transaction information failed! ${i}`),new Error(`Getting transaction information failed! ${i}`)}return r}static async signMessage(e,r){if(!this.dappProvider){let i="Message signing failed: There is no active session!";throw pe.run("onSignMsgFailure",e,i),new Error(i)}if(!this.networkProvider){let i="Message signing failed: There is no active network provider!";throw pe.run("onSignMsgFailure",e,i),new Error(i)}let n="";try{if(pe.run("onSignMsgStart",e),this.dappProvider instanceof h3.ExtensionProvider&&(n=(await this.dappProvider.signMessage(new xd.SignableMessage({message:p.Buffer.from(e)}))).getSignature().toString("hex")),this.dappProvider instanceof d3.WalletConnectV2Provider&&(n=(await this.dappProvider.signMessage(new xd.SignableMessage({message:p.Buffer.from(e)}))).getSignature().toString("hex")),this.dappProvider instanceof mw.WebviewProvider&&(n=(await this.dappProvider.signMessage(new xd.SignableMessage({message:p.Buffer.from(e)})))?.getSignature().toString("hex")||""),this.dappProvider instanceof g3.WalletProvider){let s=u=>encodeURIComponent(u).replace(/[!'()*]/g,a=>`%${a.charCodeAt(0).toString(16).toUpperCase()}`),o=r?.callbackUrl||window.location.origin;await this.dappProvider.signMessage(new xd.SignableMessage({message:p.Buffer.from(e)}),{callbackUrl:encodeURIComponent(`${o}${o.includes("?")?"&":"?"}message=${s(e)}`)})}let i=ye.get();return i.loginMethod!=="web-wallet"&&i.loginMethod!=="x-alias"&&pe.run("onSignMsgFinalized",e,n),{message:e,messageSignature:n}}catch(i){let s=Kt(i);throw pe.run("onSignMsgFailure",e,s),new Error(`Message signing failed! ${s}`)}}static async queryContract({address:e,func:r,args:n=[],value:i=0,caller:s}){if(!this.networkProvider)throw new Error("Query failed: There is no active network provider!");if(!e||!r)throw new Error("Query failed: The Query arguments are not valid! Address and func required");let o={address:e,func:r,args:n,value:i,caller:s};try{pe.run("onQueryStart",o);let u=await this.networkProvider.queryContract(o);return pe.run("onQueryFinalized",u),u}catch(u){let a=Kt(u);throw pe.run("onQueryFinalized",o,a),new Error(`Smart contract query failed! ${a}`)}}static{this.storage=ye}static{this.destroy=()=>{this.networkProvider=void 0,this.dappProvider=void 0,this.initOptions=void 0,pe.clear()}}};h();nr();Nu.config({ROUNDING_MODE:Nu.ROUND_FLOOR});var spe=({amount:t,decimals:e})=>{if(e<0)throw new Error("Decimal places shouldn't be negative number!");return BigInt(new Nu(t).shiftedBy(e).toFixed())},ope=({amount:t,decimals:e,rounding:r=e})=>{if(e<0)throw new Error("Decimal places shouldn't be negative number!");return new Nu(t).shiftedBy(-e).decimalPlaces(r).toFixed()};var export_Account=upe.Account;var export_Address=ape.Address;var export_AddressType=Ck.AddressType;var export_AddressValue=Ck.AddressValue;var export_BigUIntType=_s.BigUIntType;var export_BigUIntValue=_s.BigUIntValue;var export_BooleanType=Tk.BooleanType;var export_BooleanValue=Tk.BooleanValue;var export_BytesType=_k.BytesType;var export_BytesValue=_k.BytesValue;var export_ContractQueryResponse=gpe.ContractQueryResponse;var export_Message=Ik.Message;var export_MessageComputer=Ik.MessageComputer;var export_QueryArguments=dpe.QueryArguments;var export_SignableMessage=hpe.SignableMessage;var export_SmartContractTransactionsFactory=yw.SmartContractTransactionsFactory;var export_SmartContractTransactionsOutcomeParser=w3.SmartContractTransactionsOutcomeParser;var export_Token=m3.Token;var export_TokenComputer=m3.TokenComputer;var export_TokenManagementTransactionsFactory=yw.TokenManagementTransactionsFactory;var export_TokenManagementTransactionsOutcomeParser=w3.TokenManagementTransactionsOutcomeParser;var export_TokenOperationsFactory=y3.TokenOperationsFactory;var export_TokenOperationsFactoryConfig=y3.TokenOperationsFactoryConfig;var export_TokenOperationsOutcomeParser=y3.TokenOperationsOutcomeParser;var export_TokenTransfer=m3.TokenTransfer;var export_Transaction=cpe.Transaction;var export_TransactionComputer=lpe.TransactionComputer;var export_TransactionEventsParser=w3.TransactionEventsParser;var export_TransactionWatcher=fpe.TransactionWatcher;var export_TransactionsFactoryConfig=yw.TransactionsFactoryConfig;var export_TransferTransactionsFactory=yw.TransferTransactionsFactory;var export_U16Type=_s.U16Type;var export_U16Value=_s.U16Value;var export_U32Type=_s.U32Type;var export_U32Value=_s.U32Value;var export_U64Type=_s.U64Type;var export_U64Value=_s.U64Value;var export_U8Type=_s.U8Type;var export_U8Value=_s.U8Value;export{export_Account as Account,export_Address as Address,export_AddressType as AddressType,export_AddressValue as AddressValue,export_BigUIntType as BigUIntType,export_BigUIntValue as BigUIntValue,export_BooleanType as BooleanType,export_BooleanValue as BooleanValue,export_BytesType as BytesType,export_BytesValue as BytesValue,export_ContractQueryResponse as ContractQueryResponse,Pde as DappCoreWCV2CustomMethodsEnum,p3 as ElvenJS,y9 as EventStoreEvents,SC as LoginMethodsEnum,export_Message as Message,export_MessageComputer as MessageComputer,export_QueryArguments as QueryArguments,export_SignableMessage as SignableMessage,export_SmartContractTransactionsFactory as SmartContractTransactionsFactory,export_SmartContractTransactionsOutcomeParser as SmartContractTransactionsOutcomeParser,export_Token as Token,export_TokenComputer as TokenComputer,export_TokenManagementTransactionsFactory as TokenManagementTransactionsFactory,export_TokenManagementTransactionsOutcomeParser as TokenManagementTransactionsOutcomeParser,export_TokenOperationsFactory as TokenOperationsFactory,export_TokenOperationsFactoryConfig as TokenOperationsFactoryConfig,export_TokenOperationsOutcomeParser as TokenOperationsOutcomeParser,export_TokenTransfer as TokenTransfer,export_Transaction as Transaction,export_TransactionComputer as TransactionComputer,export_TransactionEventsParser as TransactionEventsParser,export_TransactionWatcher as TransactionWatcher,export_TransactionsFactoryConfig as TransactionsFactoryConfig,export_TransferTransactionsFactory as TransferTransactionsFactory,export_U16Type as U16Type,export_U16Value as U16Value,export_U32Type as U32Type,export_U32Value as U32Value,export_U64Type as U64Type,export_U64Value as U64Value,export_U8Type as U8Type,export_U8Value as U8Value,Rde as WebWalletUrlParamsEnum,ope as formatAmount,spe as parseAmount};
/*! Bundled license information:

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

@walletconnect/utils/dist/index.cjs.js:
  (**
  * [js-sha3]{@link https://github.com/emn178/js-sha3}
  *
  * @version 0.8.0
  * @author Chen, Yi-Cyuan [emn178@gmail.com]
  * @copyright Chen, Yi-Cyuan 2015-2018
  * @license MIT
  *)
*/
