var f8=Object.create;var Ku=Object.defineProperty,h8=Object.defineProperties,d8=Object.getOwnPropertyDescriptor,p8=Object.getOwnPropertyDescriptors,g8=Object.getOwnPropertyNames,_E=Object.getOwnPropertySymbols,y8=Object.getPrototypeOf,CE=Object.prototype.hasOwnProperty,m8=Object.prototype.propertyIsEnumerable;var bE=(r,e,t)=>e in r?Ku(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Eo=(r,e)=>{for(var t in e||={})CE.call(e,t)&&bE(r,t,e[t]);if(_E)for(var t of _E(e))m8.call(e,t)&&bE(r,t,e[t]);return r},xE=(r,e)=>h8(r,p8(e));var SE=(r=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(r,{get:(e,t)=>(typeof require<"u"?require:e)[t]}):r)(function(r){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+r+'" is not supported')});var me=(r,e)=>()=>(r&&(e=r(r=0)),e);var P=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),nt=(r,e)=>{for(var t in e)Ku(r,t,{get:e[t],enumerable:!0})},Rl=(r,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of g8(e))!CE.call(r,n)&&n!==t&&Ku(r,n,{get:()=>e[n],enumerable:!(i=d8(e,n))||i.enumerable});return r},Xt=(r,e,t)=>(Rl(r,e,"default"),t&&Rl(t,e,"default")),_e=(r,e,t)=>(t=r!=null?f8(y8(r)):{},Rl(e||!r||!r.__esModule?Ku(t,"default",{value:r,enumerable:!0}):t,r)),st=r=>Rl(Ku({},"__esModule",{value:!0}),r);var De=(r,e,t)=>new Promise((i,n)=>{var s=c=>{try{a(t.next(c))}catch(h){n(h)}},o=c=>{try{a(t.throw(c))}catch(h){n(h)}},a=c=>c.done?i(c.value):Promise.resolve(c.value).then(s,o);a((t=t.apply(r,e)).next())});var h0=P(Ll=>{"use strict";f();Ll.byteLength=v8;Ll.toByteArray=A8;Ll.fromByteArray=b8;var ni=[],Sr=[],w8=typeof Uint8Array<"u"?Uint8Array:Array,f0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(as=0,TE=f0.length;as<TE;++as)ni[as]=f0[as],Sr[f0.charCodeAt(as)]=as;var as,TE;Sr["-".charCodeAt(0)]=62;Sr["_".charCodeAt(0)]=63;function NE(r){var e=r.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=r.indexOf("=");t===-1&&(t=e);var i=t===e?0:4-t%4;return[t,i]}function v8(r){var e=NE(r),t=e[0],i=e[1];return(t+i)*3/4-i}function E8(r,e,t){return(e+t)*3/4-t}function A8(r){var e,t=NE(r),i=t[0],n=t[1],s=new w8(E8(r,i,n)),o=0,a=n>0?i-4:i,c;for(c=0;c<a;c+=4)e=Sr[r.charCodeAt(c)]<<18|Sr[r.charCodeAt(c+1)]<<12|Sr[r.charCodeAt(c+2)]<<6|Sr[r.charCodeAt(c+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return n===2&&(e=Sr[r.charCodeAt(c)]<<2|Sr[r.charCodeAt(c+1)]>>4,s[o++]=e&255),n===1&&(e=Sr[r.charCodeAt(c)]<<10|Sr[r.charCodeAt(c+1)]<<4|Sr[r.charCodeAt(c+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function I8(r){return ni[r>>18&63]+ni[r>>12&63]+ni[r>>6&63]+ni[r&63]}function _8(r,e,t){for(var i,n=[],s=e;s<t;s+=3)i=(r[s]<<16&16711680)+(r[s+1]<<8&65280)+(r[s+2]&255),n.push(I8(i));return n.join("")}function b8(r){for(var e,t=r.length,i=t%3,n=[],s=16383,o=0,a=t-i;o<a;o+=s)n.push(_8(r,o,o+s>a?a:o+s));return i===1?(e=r[t-1],n.push(ni[e>>2]+ni[e<<4&63]+"==")):i===2&&(e=(r[t-2]<<8)+r[t-1],n.push(ni[e>>10]+ni[e>>4&63]+ni[e<<2&63]+"=")),n.join("")}});var p0=P(d0=>{f();d0.read=function(r,e,t,i,n){var s,o,a=n*8-i-1,c=(1<<a)-1,h=c>>1,p=-7,A=t?n-1:0,D=t?-1:1,O=r[e+A];for(A+=D,s=O&(1<<-p)-1,O>>=-p,p+=a;p>0;s=s*256+r[e+A],A+=D,p-=8);for(o=s&(1<<-p)-1,s>>=-p,p+=i;p>0;o=o*256+r[e+A],A+=D,p-=8);if(s===0)s=1-h;else{if(s===c)return o?NaN:(O?-1:1)*(1/0);o=o+Math.pow(2,i),s=s-h}return(O?-1:1)*o*Math.pow(2,s-i)};d0.write=function(r,e,t,i,n,s){var o,a,c,h=s*8-n-1,p=(1<<h)-1,A=p>>1,D=n===23?Math.pow(2,-24)-Math.pow(2,-77):0,O=i?0:s-1,T=i?1:-1,V=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=p):(o=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+A>=1?e+=D/c:e+=D*Math.pow(2,1-A),e*c>=2&&(o++,c/=2),o+A>=p?(a=0,o=p):o+A>=1?(a=(e*c-1)*Math.pow(2,n),o=o+A):(a=e*Math.pow(2,A-1)*Math.pow(2,n),o=0));n>=8;r[t+O]=a&255,O+=T,a/=256,n-=8);for(o=o<<n|a,h+=n;h>0;r[t+O]=o&255,O+=T,o/=256,h-=8);r[t+O-T]|=V*128}});var QE=P(Io=>{"use strict";f();var g0=h0(),Ao=p0(),DE=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Io.Buffer=se;Io.SlowBuffer=D8;Io.INSPECT_MAX_BYTES=50;var Fl=2147483647;Io.kMaxLength=Fl;se.TYPED_ARRAY_SUPPORT=C8();!se.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function C8(){try{var r=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(r,e),r.foo()===42}catch{return!1}}Object.defineProperty(se.prototype,"parent",{enumerable:!0,get:function(){if(se.isBuffer(this))return this.buffer}});Object.defineProperty(se.prototype,"offset",{enumerable:!0,get:function(){if(se.isBuffer(this))return this.byteOffset}});function Vi(r){if(r>Fl)throw new RangeError('The value "'+r+'" is invalid for option "size"');var e=new Uint8Array(r);return Object.setPrototypeOf(e,se.prototype),e}function se(r,e,t){if(typeof r=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return v0(r)}return PE(r,e,t)}se.poolSize=8192;function PE(r,e,t){if(typeof r=="string")return S8(r,e);if(ArrayBuffer.isView(r))return T8(r);if(r==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r);if(si(r,ArrayBuffer)||r&&si(r.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(si(r,SharedArrayBuffer)||r&&si(r.buffer,SharedArrayBuffer)))return m0(r,e,t);if(typeof r=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var i=r.valueOf&&r.valueOf();if(i!=null&&i!==r)return se.from(i,e,t);var n=N8(r);if(n)return n;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof r[Symbol.toPrimitive]=="function")return se.from(r[Symbol.toPrimitive]("string"),e,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r)}se.from=function(r,e,t){return PE(r,e,t)};Object.setPrototypeOf(se.prototype,Uint8Array.prototype);Object.setPrototypeOf(se,Uint8Array);function ME(r){if(typeof r!="number")throw new TypeError('"size" argument must be of type number');if(r<0)throw new RangeError('The value "'+r+'" is invalid for option "size"')}function x8(r,e,t){return ME(r),r<=0?Vi(r):e!==void 0?typeof t=="string"?Vi(r).fill(e,t):Vi(r).fill(e):Vi(r)}se.alloc=function(r,e,t){return x8(r,e,t)};function v0(r){return ME(r),Vi(r<0?0:E0(r)|0)}se.allocUnsafe=function(r){return v0(r)};se.allocUnsafeSlow=function(r){return v0(r)};function S8(r,e){if((typeof e!="string"||e==="")&&(e="utf8"),!se.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var t=RE(r,e)|0,i=Vi(t),n=i.write(r,e);return n!==t&&(i=i.slice(0,n)),i}function y0(r){for(var e=r.length<0?0:E0(r.length)|0,t=Vi(e),i=0;i<e;i+=1)t[i]=r[i]&255;return t}function T8(r){if(si(r,Uint8Array)){var e=new Uint8Array(r);return m0(e.buffer,e.byteOffset,e.byteLength)}return y0(r)}function m0(r,e,t){if(e<0||r.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(r.byteLength<e+(t||0))throw new RangeError('"length" is outside of buffer bounds');var i;return e===void 0&&t===void 0?i=new Uint8Array(r):t===void 0?i=new Uint8Array(r,e):i=new Uint8Array(r,e,t),Object.setPrototypeOf(i,se.prototype),i}function N8(r){if(se.isBuffer(r)){var e=E0(r.length)|0,t=Vi(e);return t.length===0||r.copy(t,0,0,e),t}if(r.length!==void 0)return typeof r.length!="number"||A0(r.length)?Vi(0):y0(r);if(r.type==="Buffer"&&Array.isArray(r.data))return y0(r.data)}function E0(r){if(r>=Fl)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Fl.toString(16)+" bytes");return r|0}function D8(r){return+r!=r&&(r=0),se.alloc(+r)}se.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==se.prototype};se.compare=function(e,t){if(si(e,Uint8Array)&&(e=se.from(e,e.offset,e.byteLength)),si(t,Uint8Array)&&(t=se.from(t,t.offset,t.byteLength)),!se.isBuffer(e)||!se.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var i=e.length,n=t.length,s=0,o=Math.min(i,n);s<o;++s)if(e[s]!==t[s]){i=e[s],n=t[s];break}return i<n?-1:n<i?1:0};se.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};se.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return se.alloc(0);var i;if(t===void 0)for(t=0,i=0;i<e.length;++i)t+=e[i].length;var n=se.allocUnsafe(t),s=0;for(i=0;i<e.length;++i){var o=e[i];if(si(o,Uint8Array))s+o.length>n.length?se.from(o).copy(n,s):Uint8Array.prototype.set.call(n,o,s);else if(se.isBuffer(o))o.copy(n,s);else throw new TypeError('"list" argument must be an Array of Buffers');s+=o.length}return n};function RE(r,e){if(se.isBuffer(r))return r.length;if(ArrayBuffer.isView(r)||si(r,ArrayBuffer))return r.byteLength;if(typeof r!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof r);var t=r.length,i=arguments.length>2&&arguments[2]===!0;if(!i&&t===0)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return w0(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return HE(r).length;default:if(n)return i?-1:w0(r).length;e=(""+e).toLowerCase(),n=!0}}se.byteLength=RE;function O8(r,e,t){var i=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,e>>>=0,t<=e))return"";for(r||(r="utf8");;)switch(r){case"hex":return H8(this,e,t);case"utf8":case"utf-8":return FE(this,e,t);case"ascii":return q8(this,e,t);case"latin1":case"binary":return V8(this,e,t);case"base64":return F8(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Q8(this,e,t);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),i=!0}}se.prototype._isBuffer=!0;function us(r,e,t){var i=r[e];r[e]=r[t],r[t]=i}se.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)us(this,t,t+1);return this};se.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)us(this,t,t+3),us(this,t+1,t+2);return this};se.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)us(this,t,t+7),us(this,t+1,t+6),us(this,t+2,t+5),us(this,t+3,t+4);return this};se.prototype.toString=function(){var e=this.length;return e===0?"":arguments.length===0?FE(this,0,e):O8.apply(this,arguments)};se.prototype.toLocaleString=se.prototype.toString;se.prototype.equals=function(e){if(!se.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:se.compare(this,e)===0};se.prototype.inspect=function(){var e="",t=Io.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"};DE&&(se.prototype[DE]=se.prototype.inspect);se.prototype.compare=function(e,t,i,n,s){if(si(e,Uint8Array)&&(e=se.from(e,e.offset,e.byteLength)),!se.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),i===void 0&&(i=e?e.length:0),n===void 0&&(n=0),s===void 0&&(s=this.length),t<0||i>e.length||n<0||s>this.length)throw new RangeError("out of range index");if(n>=s&&t>=i)return 0;if(n>=s)return-1;if(t>=i)return 1;if(t>>>=0,i>>>=0,n>>>=0,s>>>=0,this===e)return 0;for(var o=s-n,a=i-t,c=Math.min(o,a),h=this.slice(n,s),p=e.slice(t,i),A=0;A<c;++A)if(h[A]!==p[A]){o=h[A],a=p[A];break}return o<a?-1:a<o?1:0};function LE(r,e,t,i,n){if(r.length===0)return-1;if(typeof t=="string"?(i=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,A0(t)&&(t=n?0:r.length-1),t<0&&(t=r.length+t),t>=r.length){if(n)return-1;t=r.length-1}else if(t<0)if(n)t=0;else return-1;if(typeof e=="string"&&(e=se.from(e,i)),se.isBuffer(e))return e.length===0?-1:OE(r,e,t,i,n);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?n?Uint8Array.prototype.indexOf.call(r,e,t):Uint8Array.prototype.lastIndexOf.call(r,e,t):OE(r,[e],t,i,n);throw new TypeError("val must be string, number or Buffer")}function OE(r,e,t,i,n){var s=1,o=r.length,a=e.length;if(i!==void 0&&(i=String(i).toLowerCase(),i==="ucs2"||i==="ucs-2"||i==="utf16le"||i==="utf-16le")){if(r.length<2||e.length<2)return-1;s=2,o/=2,a/=2,t/=2}function c(O,T){return s===1?O[T]:O.readUInt16BE(T*s)}var h;if(n){var p=-1;for(h=t;h<o;h++)if(c(r,h)===c(e,p===-1?0:h-p)){if(p===-1&&(p=h),h-p+1===a)return p*s}else p!==-1&&(h-=h-p),p=-1}else for(t+a>o&&(t=o-a),h=t;h>=0;h--){for(var A=!0,D=0;D<a;D++)if(c(r,h+D)!==c(e,D)){A=!1;break}if(A)return h}return-1}se.prototype.includes=function(e,t,i){return this.indexOf(e,t,i)!==-1};se.prototype.indexOf=function(e,t,i){return LE(this,e,t,i,!0)};se.prototype.lastIndexOf=function(e,t,i){return LE(this,e,t,i,!1)};function B8(r,e,t,i){t=Number(t)||0;var n=r.length-t;i?(i=Number(i),i>n&&(i=n)):i=n;var s=e.length;i>s/2&&(i=s/2);for(var o=0;o<i;++o){var a=parseInt(e.substr(o*2,2),16);if(A0(a))return o;r[t+o]=a}return o}function P8(r,e,t,i){return Ul(w0(e,r.length-t),r,t,i)}function M8(r,e,t,i){return Ul(K8(e),r,t,i)}function R8(r,e,t,i){return Ul(HE(e),r,t,i)}function L8(r,e,t,i){return Ul(z8(e,r.length-t),r,t,i)}se.prototype.write=function(e,t,i,n){if(t===void 0)n="utf8",i=this.length,t=0;else if(i===void 0&&typeof t=="string")n=t,i=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(i)?(i=i>>>0,n===void 0&&(n="utf8")):(n=i,i=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var s=this.length-t;if((i===void 0||i>s)&&(i=s),e.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return B8(this,e,t,i);case"utf8":case"utf-8":return P8(this,e,t,i);case"ascii":case"latin1":case"binary":return M8(this,e,t,i);case"base64":return R8(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L8(this,e,t,i);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}};se.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function F8(r,e,t){return e===0&&t===r.length?g0.fromByteArray(r):g0.fromByteArray(r.slice(e,t))}function FE(r,e,t){t=Math.min(r.length,t);for(var i=[],n=e;n<t;){var s=r[n],o=null,a=s>239?4:s>223?3:s>191?2:1;if(n+a<=t){var c,h,p,A;switch(a){case 1:s<128&&(o=s);break;case 2:c=r[n+1],(c&192)===128&&(A=(s&31)<<6|c&63,A>127&&(o=A));break;case 3:c=r[n+1],h=r[n+2],(c&192)===128&&(h&192)===128&&(A=(s&15)<<12|(c&63)<<6|h&63,A>2047&&(A<55296||A>57343)&&(o=A));break;case 4:c=r[n+1],h=r[n+2],p=r[n+3],(c&192)===128&&(h&192)===128&&(p&192)===128&&(A=(s&15)<<18|(c&63)<<12|(h&63)<<6|p&63,A>65535&&A<1114112&&(o=A))}}o===null?(o=65533,a=1):o>65535&&(o-=65536,i.push(o>>>10&1023|55296),o=56320|o&1023),i.push(o),n+=a}return U8(i)}var BE=4096;function U8(r){var e=r.length;if(e<=BE)return String.fromCharCode.apply(String,r);for(var t="",i=0;i<e;)t+=String.fromCharCode.apply(String,r.slice(i,i+=BE));return t}function q8(r,e,t){var i="";t=Math.min(r.length,t);for(var n=e;n<t;++n)i+=String.fromCharCode(r[n]&127);return i}function V8(r,e,t){var i="";t=Math.min(r.length,t);for(var n=e;n<t;++n)i+=String.fromCharCode(r[n]);return i}function H8(r,e,t){var i=r.length;(!e||e<0)&&(e=0),(!t||t<0||t>i)&&(t=i);for(var n="",s=e;s<t;++s)n+=k8[r[s]];return n}function Q8(r,e,t){for(var i=r.slice(e,t),n="",s=0;s<i.length-1;s+=2)n+=String.fromCharCode(i[s]+i[s+1]*256);return n}se.prototype.slice=function(e,t){var i=this.length;e=~~e,t=t===void 0?i:~~t,e<0?(e+=i,e<0&&(e=0)):e>i&&(e=i),t<0?(t+=i,t<0&&(t=0)):t>i&&(t=i),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,se.prototype),n};function jt(r,e,t){if(r%1!==0||r<0)throw new RangeError("offset is not uint");if(r+e>t)throw new RangeError("Trying to access beyond buffer length")}se.prototype.readUintLE=se.prototype.readUIntLE=function(e,t,i){e=e>>>0,t=t>>>0,i||jt(e,t,this.length);for(var n=this[e],s=1,o=0;++o<t&&(s*=256);)n+=this[e+o]*s;return n};se.prototype.readUintBE=se.prototype.readUIntBE=function(e,t,i){e=e>>>0,t=t>>>0,i||jt(e,t,this.length);for(var n=this[e+--t],s=1;t>0&&(s*=256);)n+=this[e+--t]*s;return n};se.prototype.readUint8=se.prototype.readUInt8=function(e,t){return e=e>>>0,t||jt(e,1,this.length),this[e]};se.prototype.readUint16LE=se.prototype.readUInt16LE=function(e,t){return e=e>>>0,t||jt(e,2,this.length),this[e]|this[e+1]<<8};se.prototype.readUint16BE=se.prototype.readUInt16BE=function(e,t){return e=e>>>0,t||jt(e,2,this.length),this[e]<<8|this[e+1]};se.prototype.readUint32LE=se.prototype.readUInt32LE=function(e,t){return e=e>>>0,t||jt(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};se.prototype.readUint32BE=se.prototype.readUInt32BE=function(e,t){return e=e>>>0,t||jt(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};se.prototype.readIntLE=function(e,t,i){e=e>>>0,t=t>>>0,i||jt(e,t,this.length);for(var n=this[e],s=1,o=0;++o<t&&(s*=256);)n+=this[e+o]*s;return s*=128,n>=s&&(n-=Math.pow(2,8*t)),n};se.prototype.readIntBE=function(e,t,i){e=e>>>0,t=t>>>0,i||jt(e,t,this.length);for(var n=t,s=1,o=this[e+--n];n>0&&(s*=256);)o+=this[e+--n]*s;return s*=128,o>=s&&(o-=Math.pow(2,8*t)),o};se.prototype.readInt8=function(e,t){return e=e>>>0,t||jt(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};se.prototype.readInt16LE=function(e,t){e=e>>>0,t||jt(e,2,this.length);var i=this[e]|this[e+1]<<8;return i&32768?i|4294901760:i};se.prototype.readInt16BE=function(e,t){e=e>>>0,t||jt(e,2,this.length);var i=this[e+1]|this[e]<<8;return i&32768?i|4294901760:i};se.prototype.readInt32LE=function(e,t){return e=e>>>0,t||jt(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};se.prototype.readInt32BE=function(e,t){return e=e>>>0,t||jt(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};se.prototype.readFloatLE=function(e,t){return e=e>>>0,t||jt(e,4,this.length),Ao.read(this,e,!0,23,4)};se.prototype.readFloatBE=function(e,t){return e=e>>>0,t||jt(e,4,this.length),Ao.read(this,e,!1,23,4)};se.prototype.readDoubleLE=function(e,t){return e=e>>>0,t||jt(e,8,this.length),Ao.read(this,e,!0,52,8)};se.prototype.readDoubleBE=function(e,t){return e=e>>>0,t||jt(e,8,this.length),Ao.read(this,e,!1,52,8)};function hr(r,e,t,i,n,s){if(!se.isBuffer(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>n||e<s)throw new RangeError('"value" argument is out of bounds');if(t+i>r.length)throw new RangeError("Index out of range")}se.prototype.writeUintLE=se.prototype.writeUIntLE=function(e,t,i,n){if(e=+e,t=t>>>0,i=i>>>0,!n){var s=Math.pow(2,8*i)-1;hr(this,e,t,i,s,0)}var o=1,a=0;for(this[t]=e&255;++a<i&&(o*=256);)this[t+a]=e/o&255;return t+i};se.prototype.writeUintBE=se.prototype.writeUIntBE=function(e,t,i,n){if(e=+e,t=t>>>0,i=i>>>0,!n){var s=Math.pow(2,8*i)-1;hr(this,e,t,i,s,0)}var o=i-1,a=1;for(this[t+o]=e&255;--o>=0&&(a*=256);)this[t+o]=e/a&255;return t+i};se.prototype.writeUint8=se.prototype.writeUInt8=function(e,t,i){return e=+e,t=t>>>0,i||hr(this,e,t,1,255,0),this[t]=e&255,t+1};se.prototype.writeUint16LE=se.prototype.writeUInt16LE=function(e,t,i){return e=+e,t=t>>>0,i||hr(this,e,t,2,65535,0),this[t]=e&255,this[t+1]=e>>>8,t+2};se.prototype.writeUint16BE=se.prototype.writeUInt16BE=function(e,t,i){return e=+e,t=t>>>0,i||hr(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=e&255,t+2};se.prototype.writeUint32LE=se.prototype.writeUInt32LE=function(e,t,i){return e=+e,t=t>>>0,i||hr(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255,t+4};se.prototype.writeUint32BE=se.prototype.writeUInt32BE=function(e,t,i){return e=+e,t=t>>>0,i||hr(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};se.prototype.writeIntLE=function(e,t,i,n){if(e=+e,t=t>>>0,!n){var s=Math.pow(2,8*i-1);hr(this,e,t,i,s-1,-s)}var o=0,a=1,c=0;for(this[t]=e&255;++o<i&&(a*=256);)e<0&&c===0&&this[t+o-1]!==0&&(c=1),this[t+o]=(e/a>>0)-c&255;return t+i};se.prototype.writeIntBE=function(e,t,i,n){if(e=+e,t=t>>>0,!n){var s=Math.pow(2,8*i-1);hr(this,e,t,i,s-1,-s)}var o=i-1,a=1,c=0;for(this[t+o]=e&255;--o>=0&&(a*=256);)e<0&&c===0&&this[t+o+1]!==0&&(c=1),this[t+o]=(e/a>>0)-c&255;return t+i};se.prototype.writeInt8=function(e,t,i){return e=+e,t=t>>>0,i||hr(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=e&255,t+1};se.prototype.writeInt16LE=function(e,t,i){return e=+e,t=t>>>0,i||hr(this,e,t,2,32767,-32768),this[t]=e&255,this[t+1]=e>>>8,t+2};se.prototype.writeInt16BE=function(e,t,i){return e=+e,t=t>>>0,i||hr(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=e&255,t+2};se.prototype.writeInt32LE=function(e,t,i){return e=+e,t=t>>>0,i||hr(this,e,t,4,2147483647,-2147483648),this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4};se.prototype.writeInt32BE=function(e,t,i){return e=+e,t=t>>>0,i||hr(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};function UE(r,e,t,i,n,s){if(t+i>r.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function qE(r,e,t,i,n){return e=+e,t=t>>>0,n||UE(r,e,t,4,34028234663852886e22,-34028234663852886e22),Ao.write(r,e,t,i,23,4),t+4}se.prototype.writeFloatLE=function(e,t,i){return qE(this,e,t,!0,i)};se.prototype.writeFloatBE=function(e,t,i){return qE(this,e,t,!1,i)};function VE(r,e,t,i,n){return e=+e,t=t>>>0,n||UE(r,e,t,8,17976931348623157e292,-17976931348623157e292),Ao.write(r,e,t,i,52,8),t+8}se.prototype.writeDoubleLE=function(e,t,i){return VE(this,e,t,!0,i)};se.prototype.writeDoubleBE=function(e,t,i){return VE(this,e,t,!1,i)};se.prototype.copy=function(e,t,i,n){if(!se.isBuffer(e))throw new TypeError("argument should be a Buffer");if(i||(i=0),!n&&n!==0&&(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<i&&(n=i),n===i||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-i&&(n=e.length-t+i);var s=n-i;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(t,i,n):Uint8Array.prototype.set.call(e,this.subarray(i,n),t),s};se.prototype.fill=function(e,t,i,n){if(typeof e=="string"){if(typeof t=="string"?(n=t,t=0,i=this.length):typeof i=="string"&&(n=i,i=this.length),n!==void 0&&typeof n!="string")throw new TypeError("encoding must be a string");if(typeof n=="string"&&!se.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(e.length===1){var s=e.charCodeAt(0);(n==="utf8"&&s<128||n==="latin1")&&(e=s)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;t=t>>>0,i=i===void 0?this.length:i>>>0,e||(e=0);var o;if(typeof e=="number")for(o=t;o<i;++o)this[o]=e;else{var a=se.isBuffer(e)?e:se.from(e,n),c=a.length;if(c===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<i-t;++o)this[o+t]=a[o%c]}return this};var j8=/[^+/0-9A-Za-z-_]/g;function G8(r){if(r=r.split("=")[0],r=r.trim().replace(j8,""),r.length<2)return"";for(;r.length%4!==0;)r=r+"=";return r}function w0(r,e){e=e||1/0;for(var t,i=r.length,n=null,s=[],o=0;o<i;++o){if(t=r.charCodeAt(o),t>55295&&t<57344){if(!n){if(t>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(o+1===i){(e-=3)>-1&&s.push(239,191,189);continue}n=t;continue}if(t<56320){(e-=3)>-1&&s.push(239,191,189),n=t;continue}t=(n-55296<<10|t-56320)+65536}else n&&(e-=3)>-1&&s.push(239,191,189);if(n=null,t<128){if((e-=1)<0)break;s.push(t)}else if(t<2048){if((e-=2)<0)break;s.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;s.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;s.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return s}function K8(r){for(var e=[],t=0;t<r.length;++t)e.push(r.charCodeAt(t)&255);return e}function z8(r,e){for(var t,i,n,s=[],o=0;o<r.length&&!((e-=2)<0);++o)t=r.charCodeAt(o),i=t>>8,n=t%256,s.push(n),s.push(i);return s}function HE(r){return g0.toByteArray(G8(r))}function Ul(r,e,t,i){for(var n=0;n<i&&!(n+t>=e.length||n>=r.length);++n)e[n+t]=r[n];return n}function si(r,e){return r instanceof e||r!=null&&r.constructor!=null&&r.constructor.name!=null&&r.constructor.name===e.name}function A0(r){return r!==r}var k8=function(){for(var r="0123456789abcdef",e=new Array(256),t=0;t<16;++t)for(var i=t*16,n=0;n<16;++n)e[i+n]=r[t]+r[n];return e}()});var kE=P((kK,zE)=>{f();var ct=zE.exports={},oi,ai;function I0(){throw new Error("setTimeout has not been defined")}function _0(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?oi=setTimeout:oi=I0}catch{oi=I0}try{typeof clearTimeout=="function"?ai=clearTimeout:ai=_0}catch{ai=_0}})();function jE(r){if(oi===setTimeout)return setTimeout(r,0);if((oi===I0||!oi)&&setTimeout)return oi=setTimeout,setTimeout(r,0);try{return oi(r,0)}catch{try{return oi.call(null,r,0)}catch{return oi.call(this,r,0)}}}function $8(r){if(ai===clearTimeout)return clearTimeout(r);if((ai===_0||!ai)&&clearTimeout)return ai=clearTimeout,clearTimeout(r);try{return ai(r)}catch{try{return ai.call(null,r)}catch{return ai.call(this,r)}}}var Hi=[],_o=!1,cs,ql=-1;function W8(){!_o||!cs||(_o=!1,cs.length?Hi=cs.concat(Hi):ql=-1,Hi.length&&GE())}function GE(){if(!_o){var r=jE(W8);_o=!0;for(var e=Hi.length;e;){for(cs=Hi,Hi=[];++ql<e;)cs&&cs[ql].run();ql=-1,e=Hi.length}cs=null,_o=!1,$8(r)}}ct.nextTick=function(r){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];Hi.push(new KE(r,e)),Hi.length===1&&!_o&&jE(GE)};function KE(r,e){this.fun=r,this.array=e}KE.prototype.run=function(){this.fun.apply(null,this.array)};ct.title="browser";ct.browser=!0;ct.env={};ct.argv=[];ct.version="";ct.versions={};function Qi(){}ct.on=Qi;ct.addListener=Qi;ct.once=Qi;ct.off=Qi;ct.removeListener=Qi;ct.removeAllListeners=Qi;ct.emit=Qi;ct.prependListener=Qi;ct.prependOnceListener=Qi;ct.listeners=function(r){return[]};ct.binding=function(r){throw new Error("process.binding is not supported")};ct.cwd=function(){return"/"};ct.chdir=function(r){throw new Error("process.chdir is not supported")};ct.umask=function(){return 0}});var y,_,Y8,global,f=me(()=>{y=_e(QE()),_=_e(kE()),Y8=function(r){function e(){var i=this||self;return delete r.prototype.__magic__,i}if(typeof globalThis=="object")return globalThis;if(this)return e();r.defineProperty(r.prototype,"__magic__",{configurable:!0,get:e});var t=__magic__;return t}(Object),global=Y8});var Qr=P(($E,Vl)=>{f();(function(r){"use strict";var e,t=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,i=Math.ceil,n=Math.floor,s="[BigNumber Error] ",o=s+"Number primitive has more than 15 significant digits: ",a=1e14,c=14,h=9007199254740991,p=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],A=1e7,D=1e9;function O($){var k,R,F,K=l.prototype={constructor:l,toString:null,valueOf:null},ce=new l(1),J=20,X=4,E=-7,u=21,d=-1e7,g=1e7,m=!1,w=1,x=0,N={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xA0",suffix:""},I="0123456789abcdefghijklmnopqrstuvwxyz";function l(v,b){var S,L,B,U,q,M,G,z,H=this;if(!(H instanceof l))return new l(v,b);if(b==null){if(v&&v._isBigNumber===!0){H.s=v.s,!v.c||v.e>g?H.c=H.e=null:v.e<d?H.c=[H.e=0]:(H.e=v.e,H.c=v.c.slice());return}if((M=typeof v=="number")&&v*0==0){if(H.s=1/v<0?(v=-v,-1):1,v===~~v){for(U=0,q=v;q>=10;q/=10,U++);U>g?H.c=H.e=null:(H.e=U,H.c=[v]);return}z=String(v)}else{if(!t.test(z=String(v)))return F(H,z,M);H.s=z.charCodeAt(0)==45?(z=z.slice(1),-1):1}(U=z.indexOf("."))>-1&&(z=z.replace(".","")),(q=z.search(/e/i))>0?(U<0&&(U=q),U+=+z.slice(q+1),z=z.substring(0,q)):U<0&&(U=z.length)}else{if(j(b,2,I.length,"Base"),b==10)return H=new l(v),ee(H,J+H.e+1,X);if(z=String(v),M=typeof v=="number"){if(v*0!=0)return F(H,z,M,b);if(H.s=1/v<0?(z=z.slice(1),-1):1,l.DEBUG&&z.replace(/^0\.0*|\./,"").length>15)throw Error(o+v)}else H.s=z.charCodeAt(0)===45?(z=z.slice(1),-1):1;for(S=I.slice(0,b),U=q=0,G=z.length;q<G;q++)if(S.indexOf(L=z.charAt(q))<0){if(L=="."){if(q>U){U=G;continue}}else if(!B&&(z==z.toUpperCase()&&(z=z.toLowerCase())||z==z.toLowerCase()&&(z=z.toUpperCase()))){B=!0,q=-1,U=0;continue}return F(H,String(v),M,b)}M=!1,z=R(z,b,10,H.s),(U=z.indexOf("."))>-1?z=z.replace(".",""):U=z.length}for(q=0;z.charCodeAt(q)===48;q++);for(G=z.length;z.charCodeAt(--G)===48;);if(z=z.slice(q,++G)){if(G-=q,M&&l.DEBUG&&G>15&&(v>h||v!==n(v)))throw Error(o+H.s*v);if((U=U-q-1)>g)H.c=H.e=null;else if(U<d)H.c=[H.e=0];else{if(H.e=U,H.c=[],q=(U+1)%c,U<0&&(q+=c),q<G){for(q&&H.c.push(+z.slice(0,q)),G-=c;q<G;)H.c.push(+z.slice(q,q+=c));q=c-(z=z.slice(q)).length}else q-=G;for(;q--;z+="0");H.c.push(+z)}}else H.c=[H.e=0]}l.clone=O,l.ROUND_UP=0,l.ROUND_DOWN=1,l.ROUND_CEIL=2,l.ROUND_FLOOR=3,l.ROUND_HALF_UP=4,l.ROUND_HALF_DOWN=5,l.ROUND_HALF_EVEN=6,l.ROUND_HALF_CEIL=7,l.ROUND_HALF_FLOOR=8,l.EUCLID=9,l.config=l.set=function(v){var b,S;if(v!=null)if(typeof v=="object"){if(v.hasOwnProperty(b="DECIMAL_PLACES")&&(S=v[b],j(S,0,D,b),J=S),v.hasOwnProperty(b="ROUNDING_MODE")&&(S=v[b],j(S,0,8,b),X=S),v.hasOwnProperty(b="EXPONENTIAL_AT")&&(S=v[b],S&&S.pop?(j(S[0],-D,0,b),j(S[1],0,D,b),E=S[0],u=S[1]):(j(S,-D,D,b),E=-(u=S<0?-S:S))),v.hasOwnProperty(b="RANGE"))if(S=v[b],S&&S.pop)j(S[0],-D,-1,b),j(S[1],1,D,b),d=S[0],g=S[1];else if(j(S,-D,D,b),S)d=-(g=S<0?-S:S);else throw Error(s+b+" cannot be zero: "+S);if(v.hasOwnProperty(b="CRYPTO"))if(S=v[b],S===!!S)if(S)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))m=S;else throw m=!S,Error(s+"crypto unavailable");else m=S;else throw Error(s+b+" not true or false: "+S);if(v.hasOwnProperty(b="MODULO_MODE")&&(S=v[b],j(S,0,9,b),w=S),v.hasOwnProperty(b="POW_PRECISION")&&(S=v[b],j(S,0,D,b),x=S),v.hasOwnProperty(b="FORMAT"))if(S=v[b],typeof S=="object")N=S;else throw Error(s+b+" not an object: "+S);if(v.hasOwnProperty(b="ALPHABET"))if(S=v[b],typeof S=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(S))I=S;else throw Error(s+b+" invalid: "+S)}else throw Error(s+"Object expected: "+v);return{DECIMAL_PLACES:J,ROUNDING_MODE:X,EXPONENTIAL_AT:[E,u],RANGE:[d,g],CRYPTO:m,MODULO_MODE:w,POW_PRECISION:x,FORMAT:N,ALPHABET:I}},l.isBigNumber=function(v){if(!v||v._isBigNumber!==!0)return!1;if(!l.DEBUG)return!0;var b,S,L=v.c,B=v.e,U=v.s;e:if({}.toString.call(L)=="[object Array]"){if((U===1||U===-1)&&B>=-D&&B<=D&&B===n(B)){if(L[0]===0){if(B===0&&L.length===1)return!0;break e}if(b=(B+1)%c,b<1&&(b+=c),String(L[0]).length==b){for(b=0;b<L.length;b++)if(S=L[b],S<0||S>=a||S!==n(S))break e;if(S!==0)return!0}}}else if(L===null&&B===null&&(U===null||U===1||U===-1))return!0;throw Error(s+"Invalid BigNumber: "+v)},l.maximum=l.max=function(){return Z(arguments,K.lt)},l.minimum=l.min=function(){return Z(arguments,K.gt)},l.random=function(){var v=9007199254740992,b=Math.random()*v&2097151?function(){return n(Math.random()*v)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(S){var L,B,U,q,M,G=0,z=[],H=new l(ce);if(S==null?S=J:j(S,0,D),q=i(S/c),m)if(crypto.getRandomValues){for(L=crypto.getRandomValues(new Uint32Array(q*=2));G<q;)M=L[G]*131072+(L[G+1]>>>11),M>=9e15?(B=crypto.getRandomValues(new Uint32Array(2)),L[G]=B[0],L[G+1]=B[1]):(z.push(M%1e14),G+=2);G=q/2}else if(crypto.randomBytes){for(L=crypto.randomBytes(q*=7);G<q;)M=(L[G]&31)*281474976710656+L[G+1]*1099511627776+L[G+2]*4294967296+L[G+3]*16777216+(L[G+4]<<16)+(L[G+5]<<8)+L[G+6],M>=9e15?crypto.randomBytes(7).copy(L,G):(z.push(M%1e14),G+=7);G=q/7}else throw m=!1,Error(s+"crypto unavailable");if(!m)for(;G<q;)M=b(),M<9e15&&(z[G++]=M%1e14);for(q=z[--G],S%=c,q&&S&&(M=p[c-S],z[G]=n(q/M)*M);z[G]===0;z.pop(),G--);if(G<0)z=[U=0];else{for(U=-1;z[0]===0;z.splice(0,1),U-=c);for(G=1,M=z[0];M>=10;M/=10,G++);G<c&&(U-=c-G)}return H.e=U,H.c=z,H}}(),l.sum=function(){for(var v=1,b=arguments,S=new l(b[0]);v<b.length;)S=S.plus(b[v++]);return S},R=function(){var v="0123456789";function b(S,L,B,U){for(var q,M=[0],G,z=0,H=S.length;z<H;){for(G=M.length;G--;M[G]*=L);for(M[0]+=U.indexOf(S.charAt(z++)),q=0;q<M.length;q++)M[q]>B-1&&(M[q+1]==null&&(M[q+1]=0),M[q+1]+=M[q]/B|0,M[q]%=B)}return M.reverse()}return function(S,L,B,U,q){var M,G,z,H,ue,he,de,Me,be=S.indexOf("."),Se=J,Pe=X;for(be>=0&&(H=x,x=0,S=S.replace(".",""),Me=new l(L),he=Me.pow(S.length-be),x=H,Me.c=b(W(V(he.c),he.e,"0"),10,B,v),Me.e=Me.c.length),de=b(S,L,B,q?(M=I,v):(M=v,I)),z=H=de.length;de[--H]==0;de.pop());if(!de[0])return M.charAt(0);if(be<0?--z:(he.c=de,he.e=z,he.s=U,he=k(he,Me,Se,Pe,B),de=he.c,ue=he.r,z=he.e),G=z+Se+1,be=de[G],H=B/2,ue=ue||G<0||de[G+1]!=null,ue=Pe<4?(be!=null||ue)&&(Pe==0||Pe==(he.s<0?3:2)):be>H||be==H&&(Pe==4||ue||Pe==6&&de[G-1]&1||Pe==(he.s<0?8:7)),G<1||!de[0])S=ue?W(M.charAt(1),-Se,M.charAt(0)):M.charAt(0);else{if(de.length=G,ue)for(--B;++de[--G]>B;)de[G]=0,G||(++z,de=[1].concat(de));for(H=de.length;!de[--H];);for(be=0,S="";be<=H;S+=M.charAt(de[be++]));S=W(S,z,M.charAt(0))}return S}}(),k=function(){function v(L,B,U){var q,M,G,z,H=0,ue=L.length,he=B%A,de=B/A|0;for(L=L.slice();ue--;)G=L[ue]%A,z=L[ue]/A|0,q=de*G+z*he,M=he*G+q%A*A+H,H=(M/U|0)+(q/A|0)+de*z,L[ue]=M%U;return H&&(L=[H].concat(L)),L}function b(L,B,U,q){var M,G;if(U!=q)G=U>q?1:-1;else for(M=G=0;M<U;M++)if(L[M]!=B[M]){G=L[M]>B[M]?1:-1;break}return G}function S(L,B,U,q){for(var M=0;U--;)L[U]-=M,M=L[U]<B[U]?1:0,L[U]=M*q+L[U]-B[U];for(;!L[0]&&L.length>1;L.splice(0,1));}return function(L,B,U,q,M){var G,z,H,ue,he,de,Me,be,Se,Pe,Ie,Be,os,Xe,Ze,Ar,Ke,Ue=L.s==B.s?1:-1,Qt=L.c,Ce=B.c;if(!Qt||!Qt[0]||!Ce||!Ce[0])return new l(!L.s||!B.s||(Qt?Ce&&Qt[0]==Ce[0]:!Ce)?NaN:Qt&&Qt[0]==0||!Ce?Ue*0:Ue/0);for(be=new l(Ue),Se=be.c=[],z=L.e-B.e,Ue=U+z+1,M||(M=a,z=T(L.e/c)-T(B.e/c),Ue=Ue/c|0),H=0;Ce[H]==(Qt[H]||0);H++);if(Ce[H]>(Qt[H]||0)&&z--,Ue<0)Se.push(1),ue=!0;else{for(Xe=Qt.length,Ar=Ce.length,H=0,Ue+=2,he=n(M/(Ce[0]+1)),he>1&&(Ce=v(Ce,he,M),Qt=v(Qt,he,M),Ar=Ce.length,Xe=Qt.length),os=Ar,Pe=Qt.slice(0,Ar),Ie=Pe.length;Ie<Ar;Pe[Ie++]=0);Ke=Ce.slice(),Ke=[0].concat(Ke),Ze=Ce[0],Ce[1]>=M/2&&Ze++;do{if(he=0,G=b(Ce,Pe,Ar,Ie),G<0){if(Be=Pe[0],Ar!=Ie&&(Be=Be*M+(Pe[1]||0)),he=n(Be/Ze),he>1)for(he>=M&&(he=M-1),de=v(Ce,he,M),Me=de.length,Ie=Pe.length;b(de,Pe,Me,Ie)==1;)he--,S(de,Ar<Me?Ke:Ce,Me,M),Me=de.length,G=1;else he==0&&(G=he=1),de=Ce.slice(),Me=de.length;if(Me<Ie&&(de=[0].concat(de)),S(Pe,de,Ie,M),Ie=Pe.length,G==-1)for(;b(Ce,Pe,Ar,Ie)<1;)he++,S(Pe,Ar<Ie?Ke:Ce,Ie,M),Ie=Pe.length}else G===0&&(he++,Pe=[0]);Se[H++]=he,Pe[0]?Pe[Ie++]=Qt[os]||0:(Pe=[Qt[os]],Ie=1)}while((os++<Xe||Pe[0]!=null)&&Ue--);ue=Pe[0]!=null,Se[0]||Se.splice(0,1)}if(M==a){for(H=1,Ue=Se[0];Ue>=10;Ue/=10,H++);ee(be,U+(be.e=H+z*c-1)+1,q,ue)}else be.e=z,be.r=+ue;return be}}();function C(v,b,S,L){var B,U,q,M,G;if(S==null?S=X:j(S,0,8),!v.c)return v.toString();if(B=v.c[0],q=v.e,b==null)G=V(v.c),G=L==1||L==2&&(q<=E||q>=u)?Y(G,q):W(G,q,"0");else if(v=ee(new l(v),b,S),U=v.e,G=V(v.c),M=G.length,L==1||L==2&&(b<=U||U<=E)){for(;M<b;G+="0",M++);G=Y(G,U)}else if(b-=q,G=W(G,U,"0"),U+1>M){if(--b>0)for(G+=".";b--;G+="0");}else if(b+=U-M,b>0)for(U+1==M&&(G+=".");b--;G+="0");return v.s<0&&B?"-"+G:G}function Z(v,b){for(var S,L=1,B=new l(v[0]);L<v.length;L++)if(S=new l(v[L]),S.s)b.call(B,S)&&(B=S);else{B=S;break}return B}function te(v,b,S){for(var L=1,B=b.length;!b[--B];b.pop());for(B=b[0];B>=10;B/=10,L++);return(S=L+S*c-1)>g?v.c=v.e=null:S<d?v.c=[v.e=0]:(v.e=S,v.c=b),v}F=function(){var v=/^(-?)0([xbo])(?=\w[\w.]*$)/i,b=/^([^.]+)\.$/,S=/^\.([^.]+)$/,L=/^-?(Infinity|NaN)$/,B=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(U,q,M,G){var z,H=M?q:q.replace(B,"");if(L.test(H))U.s=isNaN(H)?null:H<0?-1:1;else{if(!M&&(H=H.replace(v,function(ue,he,de){return z=(de=de.toLowerCase())=="x"?16:de=="b"?2:8,!G||G==z?he:ue}),G&&(z=G,H=H.replace(b,"$1").replace(S,"0.$1")),q!=H))return new l(H,z);if(l.DEBUG)throw Error(s+"Not a"+(G?" base "+G:"")+" number: "+q);U.s=null}U.c=U.e=null}}();function ee(v,b,S,L){var B,U,q,M,G,z,H,ue=v.c,he=p;if(ue){e:{for(B=1,M=ue[0];M>=10;M/=10,B++);if(U=b-B,U<0)U+=c,q=b,G=ue[z=0],H=G/he[B-q-1]%10|0;else if(z=i((U+1)/c),z>=ue.length)if(L){for(;ue.length<=z;ue.push(0));G=H=0,B=1,U%=c,q=U-c+1}else break e;else{for(G=M=ue[z],B=1;M>=10;M/=10,B++);U%=c,q=U-c+B,H=q<0?0:G/he[B-q-1]%10|0}if(L=L||b<0||ue[z+1]!=null||(q<0?G:G%he[B-q-1]),L=S<4?(H||L)&&(S==0||S==(v.s<0?3:2)):H>5||H==5&&(S==4||L||S==6&&(U>0?q>0?G/he[B-q]:0:ue[z-1])%10&1||S==(v.s<0?8:7)),b<1||!ue[0])return ue.length=0,L?(b-=v.e+1,ue[0]=he[(c-b%c)%c],v.e=-b||0):ue[0]=v.e=0,v;if(U==0?(ue.length=z,M=1,z--):(ue.length=z+1,M=he[c-U],ue[z]=q>0?n(G/he[B-q]%he[q])*M:0),L)for(;;)if(z==0){for(U=1,q=ue[0];q>=10;q/=10,U++);for(q=ue[0]+=M,M=1;q>=10;q/=10,M++);U!=M&&(v.e++,ue[0]==a&&(ue[0]=1));break}else{if(ue[z]+=M,ue[z]!=a)break;ue[z--]=0,M=1}for(U=ue.length;ue[--U]===0;ue.pop());}v.e>g?v.c=v.e=null:v.e<d&&(v.c=[v.e=0])}return v}function ae(v){var b,S=v.e;return S===null?v.toString():(b=V(v.c),b=S<=E||S>=u?Y(b,S):W(b,S,"0"),v.s<0?"-"+b:b)}return K.absoluteValue=K.abs=function(){var v=new l(this);return v.s<0&&(v.s=1),v},K.comparedTo=function(v,b){return Q(this,new l(v,b))},K.decimalPlaces=K.dp=function(v,b){var S,L,B,U=this;if(v!=null)return j(v,0,D),b==null?b=X:j(b,0,8),ee(new l(U),v+U.e+1,b);if(!(S=U.c))return null;if(L=((B=S.length-1)-T(this.e/c))*c,B=S[B])for(;B%10==0;B/=10,L--);return L<0&&(L=0),L},K.dividedBy=K.div=function(v,b){return k(this,new l(v,b),J,X)},K.dividedToIntegerBy=K.idiv=function(v,b){return k(this,new l(v,b),0,1)},K.exponentiatedBy=K.pow=function(v,b){var S,L,B,U,q,M,G,z,H,ue=this;if(v=new l(v),v.c&&!v.isInteger())throw Error(s+"Exponent not an integer: "+ae(v));if(b!=null&&(b=new l(b)),M=v.e>14,!ue.c||!ue.c[0]||ue.c[0]==1&&!ue.e&&ue.c.length==1||!v.c||!v.c[0])return H=new l(Math.pow(+ae(ue),M?2-ie(v):+ae(v))),b?H.mod(b):H;if(G=v.s<0,b){if(b.c?!b.c[0]:!b.s)return new l(NaN);L=!G&&ue.isInteger()&&b.isInteger(),L&&(ue=ue.mod(b))}else{if(v.e>9&&(ue.e>0||ue.e<-1||(ue.e==0?ue.c[0]>1||M&&ue.c[1]>=24e7:ue.c[0]<8e13||M&&ue.c[0]<=9999975e7)))return U=ue.s<0&&ie(v)?-0:0,ue.e>-1&&(U=1/U),new l(G?1/U:U);x&&(U=i(x/c+2))}for(M?(S=new l(.5),G&&(v.s=1),z=ie(v)):(B=Math.abs(+ae(v)),z=B%2),H=new l(ce);;){if(z){if(H=H.times(ue),!H.c)break;U?H.c.length>U&&(H.c.length=U):L&&(H=H.mod(b))}if(B){if(B=n(B/2),B===0)break;z=B%2}else if(v=v.times(S),ee(v,v.e+1,1),v.e>14)z=ie(v);else{if(B=+ae(v),B===0)break;z=B%2}ue=ue.times(ue),U?ue.c&&ue.c.length>U&&(ue.c.length=U):L&&(ue=ue.mod(b))}return L?H:(G&&(H=ce.div(H)),b?H.mod(b):U?ee(H,x,X,q):H)},K.integerValue=function(v){var b=new l(this);return v==null?v=X:j(v,0,8),ee(b,b.e+1,v)},K.isEqualTo=K.eq=function(v,b){return Q(this,new l(v,b))===0},K.isFinite=function(){return!!this.c},K.isGreaterThan=K.gt=function(v,b){return Q(this,new l(v,b))>0},K.isGreaterThanOrEqualTo=K.gte=function(v,b){return(b=Q(this,new l(v,b)))===1||b===0},K.isInteger=function(){return!!this.c&&T(this.e/c)>this.c.length-2},K.isLessThan=K.lt=function(v,b){return Q(this,new l(v,b))<0},K.isLessThanOrEqualTo=K.lte=function(v,b){return(b=Q(this,new l(v,b)))===-1||b===0},K.isNaN=function(){return!this.s},K.isNegative=function(){return this.s<0},K.isPositive=function(){return this.s>0},K.isZero=function(){return!!this.c&&this.c[0]==0},K.minus=function(v,b){var S,L,B,U,q=this,M=q.s;if(v=new l(v,b),b=v.s,!M||!b)return new l(NaN);if(M!=b)return v.s=-b,q.plus(v);var G=q.e/c,z=v.e/c,H=q.c,ue=v.c;if(!G||!z){if(!H||!ue)return H?(v.s=-b,v):new l(ue?q:NaN);if(!H[0]||!ue[0])return ue[0]?(v.s=-b,v):new l(H[0]?q:X==3?-0:0)}if(G=T(G),z=T(z),H=H.slice(),M=G-z){for((U=M<0)?(M=-M,B=H):(z=G,B=ue),B.reverse(),b=M;b--;B.push(0));B.reverse()}else for(L=(U=(M=H.length)<(b=ue.length))?M:b,M=b=0;b<L;b++)if(H[b]!=ue[b]){U=H[b]<ue[b];break}if(U&&(B=H,H=ue,ue=B,v.s=-v.s),b=(L=ue.length)-(S=H.length),b>0)for(;b--;H[S++]=0);for(b=a-1;L>M;){if(H[--L]<ue[L]){for(S=L;S&&!H[--S];H[S]=b);--H[S],H[L]+=a}H[L]-=ue[L]}for(;H[0]==0;H.splice(0,1),--z);return H[0]?te(v,H,z):(v.s=X==3?-1:1,v.c=[v.e=0],v)},K.modulo=K.mod=function(v,b){var S,L,B=this;return v=new l(v,b),!B.c||!v.s||v.c&&!v.c[0]?new l(NaN):!v.c||B.c&&!B.c[0]?new l(B):(w==9?(L=v.s,v.s=1,S=k(B,v,0,3),v.s=L,S.s*=L):S=k(B,v,0,w),v=B.minus(S.times(v)),!v.c[0]&&w==1&&(v.s=B.s),v)},K.multipliedBy=K.times=function(v,b){var S,L,B,U,q,M,G,z,H,ue,he,de,Me,be,Se,Pe=this,Ie=Pe.c,Be=(v=new l(v,b)).c;if(!Ie||!Be||!Ie[0]||!Be[0])return!Pe.s||!v.s||Ie&&!Ie[0]&&!Be||Be&&!Be[0]&&!Ie?v.c=v.e=v.s=null:(v.s*=Pe.s,!Ie||!Be?v.c=v.e=null:(v.c=[0],v.e=0)),v;for(L=T(Pe.e/c)+T(v.e/c),v.s*=Pe.s,G=Ie.length,ue=Be.length,G<ue&&(Me=Ie,Ie=Be,Be=Me,B=G,G=ue,ue=B),B=G+ue,Me=[];B--;Me.push(0));for(be=a,Se=A,B=ue;--B>=0;){for(S=0,he=Be[B]%Se,de=Be[B]/Se|0,q=G,U=B+q;U>B;)z=Ie[--q]%Se,H=Ie[q]/Se|0,M=de*z+H*he,z=he*z+M%Se*Se+Me[U]+S,S=(z/be|0)+(M/Se|0)+de*H,Me[U--]=z%be;Me[U]=S}return S?++L:Me.splice(0,1),te(v,Me,L)},K.negated=function(){var v=new l(this);return v.s=-v.s||null,v},K.plus=function(v,b){var S,L=this,B=L.s;if(v=new l(v,b),b=v.s,!B||!b)return new l(NaN);if(B!=b)return v.s=-b,L.minus(v);var U=L.e/c,q=v.e/c,M=L.c,G=v.c;if(!U||!q){if(!M||!G)return new l(B/0);if(!M[0]||!G[0])return G[0]?v:new l(M[0]?L:B*0)}if(U=T(U),q=T(q),M=M.slice(),B=U-q){for(B>0?(q=U,S=G):(B=-B,S=M),S.reverse();B--;S.push(0));S.reverse()}for(B=M.length,b=G.length,B-b<0&&(S=G,G=M,M=S,b=B),B=0;b;)B=(M[--b]=M[b]+G[b]+B)/a|0,M[b]=a===M[b]?0:M[b]%a;return B&&(M=[B].concat(M),++q),te(v,M,q)},K.precision=K.sd=function(v,b){var S,L,B,U=this;if(v!=null&&v!==!!v)return j(v,1,D),b==null?b=X:j(b,0,8),ee(new l(U),v,b);if(!(S=U.c))return null;if(B=S.length-1,L=B*c+1,B=S[B]){for(;B%10==0;B/=10,L--);for(B=S[0];B>=10;B/=10,L++);}return v&&U.e+1>L&&(L=U.e+1),L},K.shiftedBy=function(v){return j(v,-h,h),this.times("1e"+v)},K.squareRoot=K.sqrt=function(){var v,b,S,L,B,U=this,q=U.c,M=U.s,G=U.e,z=J+4,H=new l("0.5");if(M!==1||!q||!q[0])return new l(!M||M<0&&(!q||q[0])?NaN:q?U:1/0);if(M=Math.sqrt(+ae(U)),M==0||M==1/0?(b=V(q),(b.length+G)%2==0&&(b+="0"),M=Math.sqrt(+b),G=T((G+1)/2)-(G<0||G%2),M==1/0?b="5e"+G:(b=M.toExponential(),b=b.slice(0,b.indexOf("e")+1)+G),S=new l(b)):S=new l(M+""),S.c[0]){for(G=S.e,M=G+z,M<3&&(M=0);;)if(B=S,S=H.times(B.plus(k(U,B,z,1))),V(B.c).slice(0,M)===(b=V(S.c)).slice(0,M))if(S.e<G&&--M,b=b.slice(M-3,M+1),b=="9999"||!L&&b=="4999"){if(!L&&(ee(B,B.e+J+2,0),B.times(B).eq(U))){S=B;break}z+=4,M+=4,L=1}else{(!+b||!+b.slice(1)&&b.charAt(0)=="5")&&(ee(S,S.e+J+2,1),v=!S.times(S).eq(U));break}}return ee(S,S.e+J+1,X,v)},K.toExponential=function(v,b){return v!=null&&(j(v,0,D),v++),C(this,v,b,1)},K.toFixed=function(v,b){return v!=null&&(j(v,0,D),v=v+this.e+1),C(this,v,b)},K.toFormat=function(v,b,S){var L,B=this;if(S==null)v!=null&&b&&typeof b=="object"?(S=b,b=null):v&&typeof v=="object"?(S=v,v=b=null):S=N;else if(typeof S!="object")throw Error(s+"Argument not an object: "+S);if(L=B.toFixed(v,b),B.c){var U,q=L.split("."),M=+S.groupSize,G=+S.secondaryGroupSize,z=S.groupSeparator||"",H=q[0],ue=q[1],he=B.s<0,de=he?H.slice(1):H,Me=de.length;if(G&&(U=M,M=G,G=U,Me-=U),M>0&&Me>0){for(U=Me%M||M,H=de.substr(0,U);U<Me;U+=M)H+=z+de.substr(U,M);G>0&&(H+=z+de.slice(U)),he&&(H="-"+H)}L=ue?H+(S.decimalSeparator||"")+((G=+S.fractionGroupSize)?ue.replace(new RegExp("\\d{"+G+"}\\B","g"),"$&"+(S.fractionGroupSeparator||"")):ue):H}return(S.prefix||"")+L+(S.suffix||"")},K.toFraction=function(v){var b,S,L,B,U,q,M,G,z,H,ue,he,de=this,Me=de.c;if(v!=null&&(M=new l(v),!M.isInteger()&&(M.c||M.s!==1)||M.lt(ce)))throw Error(s+"Argument "+(M.isInteger()?"out of range: ":"not an integer: ")+ae(M));if(!Me)return new l(de);for(b=new l(ce),z=S=new l(ce),L=G=new l(ce),he=V(Me),U=b.e=he.length-de.e-1,b.c[0]=p[(q=U%c)<0?c+q:q],v=!v||M.comparedTo(b)>0?U>0?b:z:M,q=g,g=1/0,M=new l(he),G.c[0]=0;H=k(M,b,0,1),B=S.plus(H.times(L)),B.comparedTo(v)!=1;)S=L,L=B,z=G.plus(H.times(B=z)),G=B,b=M.minus(H.times(B=b)),M=B;return B=k(v.minus(S),L,0,1),G=G.plus(B.times(z)),S=S.plus(B.times(L)),G.s=z.s=de.s,U=U*2,ue=k(z,L,U,X).minus(de).abs().comparedTo(k(G,S,U,X).minus(de).abs())<1?[z,L]:[G,S],g=q,ue},K.toNumber=function(){return+ae(this)},K.toPrecision=function(v,b){return v!=null&&j(v,1,D),C(this,v,b,2)},K.toString=function(v){var b,S=this,L=S.s,B=S.e;return B===null?L?(b="Infinity",L<0&&(b="-"+b)):b="NaN":(v==null?b=B<=E||B>=u?Y(V(S.c),B):W(V(S.c),B,"0"):v===10?(S=ee(new l(S),J+B+1,X),b=W(V(S.c),S.e,"0")):(j(v,2,I.length,"Base"),b=R(W(V(S.c),B,"0"),10,v,L,!0)),L<0&&S.c[0]&&(b="-"+b)),b},K.valueOf=K.toJSON=function(){return ae(this)},K._isBigNumber=!0,$!=null&&l.set($),l}function T($){var k=$|0;return $>0||$===k?k:k-1}function V($){for(var k,R,F=1,K=$.length,ce=$[0]+"";F<K;){for(k=$[F++]+"",R=c-k.length;R--;k="0"+k);ce+=k}for(K=ce.length;ce.charCodeAt(--K)===48;);return ce.slice(0,K+1||1)}function Q($,k){var R,F,K=$.c,ce=k.c,J=$.s,X=k.s,E=$.e,u=k.e;if(!J||!X)return null;if(R=K&&!K[0],F=ce&&!ce[0],R||F)return R?F?0:-X:J;if(J!=X)return J;if(R=J<0,F=E==u,!K||!ce)return F?0:!K^R?1:-1;if(!F)return E>u^R?1:-1;for(X=(E=K.length)<(u=ce.length)?E:u,J=0;J<X;J++)if(K[J]!=ce[J])return K[J]>ce[J]^R?1:-1;return E==u?0:E>u^R?1:-1}function j($,k,R,F){if($<k||$>R||$!==n($))throw Error(s+(F||"Argument")+(typeof $=="number"?$<k||$>R?" out of range: ":" not an integer: ":" not a primitive number: ")+String($))}function ie($){var k=$.c.length-1;return T($.e/c)==k&&$.c[k]%2!=0}function Y($,k){return($.length>1?$.charAt(0)+"."+$.slice(1):$)+(k<0?"e":"e+")+k}function W($,k,R){var F,K;if(k<0){for(K=R+".";++k;K+=R);$=K+$}else if(F=$.length,++k>F){for(K=R,k-=F;--k;K+=R);$+=K}else k<F&&($=$.slice(0,k)+"."+$.slice(k));return $}e=O(),e.default=e.BigNumber=e,typeof define=="function"&&define.amd?define(function(){return e}):typeof Vl<"u"&&Vl.exports?Vl.exports=e:(r||(r=typeof self<"u"&&self?self:window),r.BigNumber=e)})($E)});var We=P(ye=>{"use strict";f();Object.defineProperty(ye,"__esModule",{value:!0});ye.ErrGasLimitShouldBe0ForInnerTransaction=ye.ErrInvalidRelayedV2BuilderArguments=ye.ErrInvalidRelayedV1BuilderArguments=ye.ErrNotImplemented=ye.ErrContractInteraction=ye.ErrCodec=ye.ErrCannotParseContractResults=ye.ErrMissingFieldOnEnum=ye.ErrMissingFieldOnStruct=ye.ErrTypeInferenceSystemRequiresRegularJavascriptObjects=ye.ErrTypingSystem=ye.ErrMock=ye.ErrContractHasNoAddress=ye.ErrContract=ye.ErrExpectedTransactionEventsNotFound=ye.ErrExpectedTransactionStatusNotReached=ye.ErrTransactionWatcherTimeout=ye.ErrAsyncTimerAborted=ye.ErrAsyncTimerAlreadyRunning=ye.ErrInvalidFunctionName=ye.ErrSignatureCannotCreate=ye.ErrTransactionOptionsInvalid=ye.ErrTransactionVersionInvalid=ye.ErrNonceInvalid=ye.ErrNotEnoughGas=ye.ErrAddressEmpty=ye.ErrAddressBadHrp=ye.ErrAddressCannotCreate=ye.ErrUnexpectedCondition=ye.ErrInvariantFailed=ye.ErrBadType=ye.ErrUnsupportedOperation=ye.ErrInvalidArgument=ye.Err=void 0;var Le=class extends Error{constructor(e,t){super(e),this.inner=void 0,this.inner=t}summary(){let e=[];e.push({name:this.name,message:this.message});let t=this.inner;for(;t;)e.push({name:t.name,message:t.message}),t=t.inner;return e}};ye.Err=Le;var b0=class extends Le{constructor(e,t){super(`Invalid argument: ${e}`,t)}};ye.ErrInvalidArgument=b0;var C0=class extends Le{constructor(e,t="not specified"){super(`Operation "${e}" not supported. Reason: ${t}`)}};ye.ErrUnsupportedOperation=C0;var x0=class extends Le{constructor(e,t,i){super(`Bad type of "${e}": ${i}. Expected type: ${t}`)}};ye.ErrBadType=x0;var S0=class extends Le{constructor(e){super(`Invariant failed: [${e}]`)}};ye.ErrInvariantFailed=S0;var T0=class extends Le{constructor(e){super(`Unexpected condition: [${e}]`)}};ye.ErrUnexpectedCondition=T0;var N0=class extends Le{constructor(e,t){let i=`Cannot create address from: ${e}`;super(i,t)}};ye.ErrAddressCannotCreate=N0;var D0=class extends Le{constructor(e,t){super(`Wrong address HRP. Expected: ${e}, got ${t}`)}};ye.ErrAddressBadHrp=D0;var O0=class extends Le{constructor(){super("Address is empty")}};ye.ErrAddressEmpty=O0;var B0=class extends Le{constructor(e){super(`Not enough gas provided: ${e}`)}};ye.ErrNotEnoughGas=B0;var P0=class extends Le{constructor(e){super(`Invalid nonce: ${e}`)}};ye.ErrNonceInvalid=P0;var M0=class extends Le{constructor(e){super(`Invalid transaction version: ${e}`)}};ye.ErrTransactionVersionInvalid=M0;var R0=class extends Le{constructor(e){super(`Invalid transaction options: ${e}`)}};ye.ErrTransactionOptionsInvalid=R0;var L0=class extends Le{constructor(e,t){let i=`Cannot create signature from: ${e}`;super(i,t)}};ye.ErrSignatureCannotCreate=L0;var F0=class extends Le{constructor(){super("Invalid function name")}};ye.ErrInvalidFunctionName=F0;var U0=class extends Le{constructor(){super("Async timer already running")}};ye.ErrAsyncTimerAlreadyRunning=U0;var q0=class extends Le{constructor(){super("Async timer aborted")}};ye.ErrAsyncTimerAborted=q0;var V0=class extends Le{constructor(){super("TransactionWatcher has timed out")}};ye.ErrTransactionWatcherTimeout=V0;var H0=class extends Le{constructor(){super("Expected transaction status not reached")}};ye.ErrExpectedTransactionStatusNotReached=H0;var Q0=class extends Le{constructor(){super("Expected transaction events not found")}};ye.ErrExpectedTransactionEventsNotFound=Q0;var Hl=class extends Le{constructor(e){super(e)}};ye.ErrContract=Hl;var j0=class extends Hl{constructor(){super(`
The smart contract has no address set. Make sure you provide the address in the constructor, or call setAddress() appropriately.
If you need to recompute the address of the contract, make use of SmartContract.computeAddress() (static method). 
`)}};ye.ErrContractHasNoAddress=j0;var G0=class extends Le{constructor(e){super(e)}};ye.ErrMock=G0;var Ql=class extends Le{constructor(e){super(e)}};ye.ErrTypingSystem=Ql;var K0=class extends Ql{constructor(e){super(`
argument at position ${e} seems to be a TypedValue. The automatic type inference system requires regular javascript objects as input.
This error might occur when you pass a TypedValue to contract.methods.myFunction([...]). For passing TypedValues instead of regular javascript objects, and bypass the automatic type inference system, use contract.methodsExplicit.myFunction([...]) instead.
Also see https://github.com/multiversx/mx-sdk-js-core/pull/187.
`)}};ye.ErrTypeInferenceSystemRequiresRegularJavascriptObjects=K0;var z0=class extends Le{constructor(e,t){super(`field ${e} does not exist on struct ${t}`)}};ye.ErrMissingFieldOnStruct=z0;var k0=class extends Le{constructor(e,t){super(`field ${e} does not exist on enum ${t}`)}};ye.ErrMissingFieldOnEnum=k0;var $0=class extends Le{constructor(e){super(`cannot parse contract results: ${e}`)}};ye.ErrCannotParseContractResults=$0;var W0=class extends Le{constructor(e){super(e)}};ye.ErrCodec=W0;var Y0=class extends Le{constructor(e){super(e)}};ye.ErrContractInteraction=Y0;var J0=class extends Le{constructor(){super("Method not yet implemented")}};ye.ErrNotImplemented=J0;var X0=class extends Le{constructor(){super("invalid arguments for relayed v1 builder")}};ye.ErrInvalidRelayedV1BuilderArguments=X0;var Z0=class extends Le{constructor(){super("invalid arguments for relayed v2 builder")}};ye.ErrInvalidRelayedV2BuilderArguments=Z0;var eg=class extends Le{constructor(){super("gas limit must be 0 for the inner transaction for relayed v2")}};ye.ErrGasLimitShouldBe0ForInnerTransaction=eg});var tg=P(bo=>{"use strict";f();var J8=bo&&bo.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(bo,"__esModule",{value:!0});bo.TokenPayment=void 0;var zu=J8(Qr()),X8=We(),WE="EGLD",YE=18;zu.default.set({ROUNDING_MODE:1});var ji=class{constructor(e,t,i,n){let s=new zu.default(i);if(!s.isInteger()||s.isNegative())throw new X8.ErrInvalidArgument(`bad amountAsBigInteger: ${i}`);this.tokenIdentifier=e,this.nonce=t,this.amountAsBigInteger=s,this.numDecimals=n}static egldFromAmount(e){let t=new zu.default(e).shiftedBy(YE).decimalPlaces(0);return this.egldFromBigInteger(t)}static egldFromBigInteger(e){return new ji(WE,0,e,YE)}static fungibleFromAmount(e,t,i){let n=new zu.default(t).shiftedBy(i).decimalPlaces(0);return this.fungibleFromBigInteger(e,n,i)}static fungibleFromBigInteger(e,t,i=0){return new ji(e,0,t,i)}static nonFungible(e,t){return new ji(e,t,1,0)}static semiFungible(e,t,i){return new ji(e,t,i,0)}static metaEsdtFromAmount(e,t,i,n){let s=new zu.default(i).shiftedBy(n).decimalPlaces(0);return this.metaEsdtFromBigInteger(e,t,s,n)}static metaEsdtFromBigInteger(e,t,i,n=0){return new ji(e,t,i,n)}toString(){return this.amountAsBigInteger.toFixed(0)}valueOf(){return this.amountAsBigInteger}toPrettyString(){return`${this.toRationalNumber()} ${this.tokenIdentifier}`}toRationalNumber(){return this.amountAsBigInteger.shiftedBy(-this.numDecimals).toFixed(this.numDecimals)}isEgld(){return this.tokenIdentifier==WE}isFungible(){return this.nonce==0}};bo.TokenPayment=ji});var zl=P((tz,ZE)=>{"use strict";f();var Gl="qpzry9x8gf2tvdw0s3jn54khce6mua7l",rg={};for(ku=0;ku<Gl.length;ku++){if(jl=Gl.charAt(ku),rg[jl]!==void 0)throw new TypeError(jl+" is ambiguous");rg[jl]=ku}var jl,ku;function Co(r){var e=r>>25;return(r&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}function JE(r){for(var e=1,t=0;t<r.length;++t){var i=r.charCodeAt(t);if(i<33||i>126)return"Invalid prefix ("+r+")";e=Co(e)^i>>5}for(e=Co(e),t=0;t<r.length;++t){var n=r.charCodeAt(t);e=Co(e)^n&31}return e}function Z8(r,e,t){if(t=t||90,r.length+7+e.length>t)throw new TypeError("Exceeds length limit");r=r.toLowerCase();var i=JE(r);if(typeof i=="string")throw new Error(i);for(var n=r+"1",s=0;s<e.length;++s){var o=e[s];if(o>>5)throw new Error("Non 5-bit word");i=Co(i)^o,n+=Gl.charAt(o)}for(s=0;s<6;++s)i=Co(i);for(i^=1,s=0;s<6;++s){var a=i>>(5-s)*5&31;n+=Gl.charAt(a)}return n}function XE(r,e){if(e=e||90,r.length<8)return r+" too short";if(r.length>e)return"Exceeds length limit";var t=r.toLowerCase(),i=r.toUpperCase();if(r!==t&&r!==i)return"Mixed-case string "+r;r=t;var n=r.lastIndexOf("1");if(n===-1)return"No separator character for "+r;if(n===0)return"Missing prefix for "+r;var s=r.slice(0,n),o=r.slice(n+1);if(o.length<6)return"Data too short";var a=JE(s);if(typeof a=="string")return a;for(var c=[],h=0;h<o.length;++h){var p=o.charAt(h),A=rg[p];if(A===void 0)return"Unknown character "+p;a=Co(a)^A,!(h+6>=o.length)&&c.push(A)}return a!==1?"Invalid checksum for "+r:{prefix:s,words:c}}function eB(){var r=XE.apply(null,arguments);if(typeof r=="object")return r}function tB(r){var e=XE.apply(null,arguments);if(typeof e=="object")return e;throw new Error(e)}function Kl(r,e,t,i){for(var n=0,s=0,o=(1<<t)-1,a=[],c=0;c<r.length;++c)for(n=n<<e|r[c],s+=e;s>=t;)s-=t,a.push(n>>s&o);if(i)s>0&&a.push(n<<t-s&o);else{if(s>=e)return"Excess padding";if(n<<t-s&o)return"Non-zero padding"}return a}function rB(r){var e=Kl(r,8,5,!0);if(Array.isArray(e))return e}function iB(r){var e=Kl(r,8,5,!0);if(Array.isArray(e))return e;throw new Error(e)}function nB(r){var e=Kl(r,5,8,!1);if(Array.isArray(e))return e}function sB(r){var e=Kl(r,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}ZE.exports={decodeUnsafe:eB,decode:tB,encode:Z8,toWordsUnsafe:rB,toWords:iB,fromWordsUnsafe:nB,fromWords:sB}});var jr=P(ui=>{"use strict";f();var oB=ui&&ui.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),aB=ui&&ui.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),eA=ui&&ui.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&oB(e,r,t);return aB(e,r),e};Object.defineProperty(ui,"__esModule",{value:!0});ui.Address=void 0;var kl=eA(zl()),xo=eA(We()),ig="erd",ng=32,uB="0".repeat(16),Gt=class{constructor(e){if(this.valueHex="",!!e){if(e instanceof Gt)return Gt.fromAddress(e);if(e instanceof y.Buffer)return Gt.fromBuffer(e);if(typeof e=="string")return Gt.fromString(e);throw new xo.ErrAddressCannotCreate(e)}}static fromAddress(e){return Gt.fromValidHex(e.valueHex)}static fromValidHex(e){let t=new Gt;return t.valueHex=e,t}static fromBuffer(e){if(e.length!=ng)throw new xo.ErrAddressCannotCreate(e);return Gt.fromValidHex(e.toString("hex"))}static fromString(e){return Gt.isValidHex(e)?Gt.fromValidHex(e):Gt.fromBech32(e)}static isValidHex(e){return y.Buffer.from(e,"hex").length==ng}static fromHex(e){if(!Gt.isValidHex(e))throw new xo.ErrAddressCannotCreate(e);return Gt.fromValidHex(e)}static fromBech32(e){let t;try{t=kl.decode(e)}catch(s){throw new xo.ErrAddressCannotCreate(e,s)}let i=t.prefix;if(i!=ig)throw new xo.ErrAddressBadHrp(ig,i);let n=y.Buffer.from(kl.fromWords(t.words));if(n.length!=ng)throw new xo.ErrAddressCannotCreate(e);return Gt.fromValidHex(n.toString("hex"))}hex(){return this.isEmpty()?"":this.valueHex}bech32(){if(this.isEmpty())return"";let e=kl.toWords(this.pubkey());return kl.encode(ig,e)}pubkey(){return this.isEmpty()?y.Buffer.from([]):y.Buffer.from(this.valueHex,"hex")}isEmpty(){return!this.valueHex}equals(e){return e?this.valueHex==e.valueHex:!1}toString(){return this.bech32()}toJSON(){return{bech32:this.bech32(),pubkey:this.hex()}}static Zero(){return new Gt("0".repeat(64))}isContractAddress(){return this.hex().startsWith(uB)}};ui.Address=Gt});var Tr=P(et=>{"use strict";f();var cB=et&&et.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),lB=et&&et.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),fB=et&&et.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&cB(e,r,t);return lB(e,r),e};Object.defineProperty(et,"__esModule",{value:!0});et.isEmpty=et.guardEmpty=et.guardNotEmpty=et.guardLength=et.guardSameLength=et.guardValueIsSetWithMessage=et.guardValueIsSet=et.guardTrue=void 0;var So=fB(We());function hB(r,e){if(!r)throw new So.ErrInvariantFailed(`[<${e}>] isn't true`)}et.guardTrue=hB;function dB(r,e){tA(`${r} isn't set (null or undefined)`,e)}et.guardValueIsSet=dB;function tA(r,e){if(e==null||e===void 0)throw new So.ErrInvariantFailed(r)}et.guardValueIsSetWithMessage=tA;function pB(r,e){if(r=r||[],e=e||[],r.length!=e.length)throw new So.ErrInvariantFailed("arrays do not have the same length")}et.guardSameLength=pB;function gB(r,e){let t=r.length||0;if(t!=e)throw new So.ErrInvariantFailed(`wrong length, expected: ${e}, actual: ${t}`)}et.guardLength=gB;function yB(r,e){if(sg(r))throw new So.ErrInvariantFailed(`${e} is empty`)}et.guardNotEmpty=yB;function mB(r,e){if(!sg(r))throw new So.ErrInvariantFailed(`${e} is not empty`)}et.guardEmpty=mB;function sg(r){return r.isEmpty?r.isEmpty():r.length===0}et.isEmpty=sg});var rA=P($l=>{"use strict";f();Object.defineProperty($l,"__esModule",{value:!0});$l.getJavascriptPrototypesInHierarchy=void 0;function wB(r,e){let t=[],i=Object.getPrototypeOf(r);for(;i&&e(i);)t.push(i),i=Object.getPrototypeOf(i);return t}$l.getJavascriptPrototypesInHierarchy=wB});var Mt=P(Pt=>{"use strict";f();Object.defineProperty(Pt,"__esModule",{value:!0});Pt.NullType=Pt.TypePlaceholder=Pt.isTyped=Pt.PrimitiveValue=Pt.TypedValue=Pt.CustomType=Pt.PrimitiveType=Pt.TypeCardinality=Pt.Type=void 0;var og=rA(),iA=Tr(),Ir=class{constructor(e,t=[],i=Gi.fixed(1)){iA.guardValueIsSet("name",e),this.name=e,this.typeParameters=t,this.cardinality=i}getName(){return this.name}getClassName(){return Ir.ClassName}getClassHierarchy(){return og.getJavascriptPrototypesInHierarchy(this,i=>i.belongsToTypesystem).map(i=>i.getClassName()).reverse()}getFullyQualifiedName(){let e=this.getTypeParameters().map(t=>t.getFullyQualifiedName()).join(", ");return this.isGenericType()?`multiversx:types:${this.getName()}<${e}>`:`multiversx:types:${this.getName()}`}hasExactClass(e){return this.getClassName()==e}hasClassOrSuperclass(e){return this.getClassHierarchy().includes(e)}getTypeParameters(){return this.typeParameters}isGenericType(){return this.typeParameters.length>0}getFirstTypeParameter(){return iA.guardTrue(this.typeParameters.length>0,"type parameters length > 0"),this.typeParameters[0]}toString(){let e=this.getTypeParameters().map(i=>i.toString()).join(", "),t=e?`<${e}>`:"";return`${this.name}${t}`}equals(e){return Ir.equals(this,e)}static equals(e,t){return e.getFullyQualifiedName()==t.getFullyQualifiedName()}static equalsMany(e,t){return e.every((i,n)=>i.equals(t[n]))}static isAssignableFromMany(e,t){return e.every((i,n)=>i.isAssignableFrom(t[n]))}differs(e){return!this.equals(e)}valueOf(){return this.name}isAssignableFrom(e){if(!Ir.equalsMany(this.getTypeParameters(),e.getTypeParameters()))return!1;let i=this.getFullyQualifiedName();return Ir.getFullyQualifiedNamesInHierarchy(e).includes(i)?!0:e.hasClassOrSuperclass(this.getClassName())}static getFullyQualifiedNamesInHierarchy(e){return og.getJavascriptPrototypesInHierarchy(e,n=>n.belongsToTypesystem).map(n=>n.getFullyQualifiedName.call(e))}getNamesOfDependencies(){let e=[];for(let t of this.typeParameters)e.push(t.getName()),e.push(...t.getNamesOfDependencies());return[...new Set(e)]}toJSON(){return{name:this.name,typeParameters:this.typeParameters.map(e=>e.toJSON())}}getCardinality(){return this.cardinality}belongsToTypesystem(){}};Pt.Type=Ir;Ir.ClassName="Type";var Gi=class{constructor(e,t){this.lowerBound=e,this.upperBound=t}static fixed(e){return new Gi(e,e)}static variable(e){return new Gi(0,e)}isSingular(){return this.lowerBound==1&&this.upperBound==1}isSingularOrNone(){return this.lowerBound==0&&this.upperBound==1}isComposite(){return this.upperBound!=1}isFixed(){return this.lowerBound==this.upperBound}getLowerBound(){return this.lowerBound}getUpperBound(){return this.upperBound||Gi.MaxCardinality}};Pt.TypeCardinality=Gi;Gi.MaxCardinality=4096;var To=class extends Ir{constructor(e){super(e)}getClassName(){return To.ClassName}};Pt.PrimitiveType=To;To.ClassName="PrimitiveType";var No=class extends Ir{getClassName(){return No.ClassName}};Pt.CustomType=No;No.ClassName="CustomType";var ls=class{constructor(e){this.type=e}getClassName(){return ls.ClassName}getClassHierarchy(){return og.getJavascriptPrototypesInHierarchy(this,i=>i.belongsToTypesystem).map(i=>i.getClassName()).reverse()}getType(){return this.type}hasExactClass(e){return this.getClassName()==e}hasClassOrSuperclass(e){return this.getClassHierarchy().includes(e)}belongsToTypesystem(){}};Pt.TypedValue=ls;ls.ClassName="TypedValue";var Do=class extends ls{constructor(e){super(e)}getClassName(){return Do.ClassName}};Pt.PrimitiveValue=Do;Do.ClassName="PrimitiveValue";function vB(r){return r.belongsToTypesystem!==void 0}Pt.isTyped=vB;var Oo=class extends Ir{constructor(){super("...")}getClassName(){return Oo.ClassName}};Pt.TypePlaceholder=Oo;Oo.ClassName="TypePlaceholder";var Bo=class extends Ir{constructor(){super("?")}getClassName(){return Bo.ClassName}};Pt.NullType=Bo;Bo.ClassName="NullType"});var nA=P((Po,Mo)=>{f();(function(r){var e=typeof Po=="object"&&Po&&!Po.nodeType&&Po,t=typeof Mo=="object"&&Mo&&!Mo.nodeType&&Mo,i=typeof global=="object"&&global;(i.global===i||i.window===i||i.self===i)&&(r=i);var n,s=2147483647,o=36,a=1,c=26,h=38,p=700,A=72,D=128,O="-",T=/^xn--/,V=/[^\x20-\x7E]/,Q=/[\x2E\u3002\uFF0E\uFF61]/g,j={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},ie=o-a,Y=Math.floor,W=String.fromCharCode,$;function k(w){throw new RangeError(j[w])}function R(w,x){for(var N=w.length,I=[];N--;)I[N]=x(w[N]);return I}function F(w,x){var N=w.split("@"),I="";N.length>1&&(I=N[0]+"@",w=N[1]),w=w.replace(Q,".");var l=w.split("."),C=R(l,x).join(".");return I+C}function K(w){for(var x=[],N=0,I=w.length,l,C;N<I;)l=w.charCodeAt(N++),l>=55296&&l<=56319&&N<I?(C=w.charCodeAt(N++),(C&64512)==56320?x.push(((l&1023)<<10)+(C&1023)+65536):(x.push(l),N--)):x.push(l);return x}function ce(w){return R(w,function(x){var N="";return x>65535&&(x-=65536,N+=W(x>>>10&1023|55296),x=56320|x&1023),N+=W(x),N}).join("")}function J(w){return w-48<10?w-22:w-65<26?w-65:w-97<26?w-97:o}function X(w,x){return w+22+75*(w<26)-((x!=0)<<5)}function E(w,x,N){var I=0;for(w=N?Y(w/p):w>>1,w+=Y(w/x);w>ie*c>>1;I+=o)w=Y(w/ie);return Y(I+(ie+1)*w/(w+h))}function u(w){var x=[],N=w.length,I,l=0,C=D,Z=A,te,ee,ae,v,b,S,L,B,U;for(te=w.lastIndexOf(O),te<0&&(te=0),ee=0;ee<te;++ee)w.charCodeAt(ee)>=128&&k("not-basic"),x.push(w.charCodeAt(ee));for(ae=te>0?te+1:0;ae<N;){for(v=l,b=1,S=o;ae>=N&&k("invalid-input"),L=J(w.charCodeAt(ae++)),(L>=o||L>Y((s-l)/b))&&k("overflow"),l+=L*b,B=S<=Z?a:S>=Z+c?c:S-Z,!(L<B);S+=o)U=o-B,b>Y(s/U)&&k("overflow"),b*=U;I=x.length+1,Z=E(l-v,I,v==0),Y(l/I)>s-C&&k("overflow"),C+=Y(l/I),l%=I,x.splice(l++,0,C)}return ce(x)}function d(w){var x,N,I,l,C,Z,te,ee,ae,v,b,S=[],L,B,U,q;for(w=K(w),L=w.length,x=D,N=0,C=A,Z=0;Z<L;++Z)b=w[Z],b<128&&S.push(W(b));for(I=l=S.length,l&&S.push(O);I<L;){for(te=s,Z=0;Z<L;++Z)b=w[Z],b>=x&&b<te&&(te=b);for(B=I+1,te-x>Y((s-N)/B)&&k("overflow"),N+=(te-x)*B,x=te,Z=0;Z<L;++Z)if(b=w[Z],b<x&&++N>s&&k("overflow"),b==x){for(ee=N,ae=o;v=ae<=C?a:ae>=C+c?c:ae-C,!(ee<v);ae+=o)q=ee-v,U=o-v,S.push(W(X(v+q%U,0))),ee=Y(q/U);S.push(W(X(ee,0))),C=E(N,B,I==l),N=0,++I}++N,++x}return S.join("")}function g(w){return F(w,function(x){return T.test(x)?u(x.slice(4).toLowerCase()):x})}function m(w){return F(w,function(x){return V.test(x)?"xn--"+d(x):x})}if(n={version:"1.4.1",ucs2:{decode:K,encode:ce},decode:u,encode:d,toASCII:m,toUnicode:g},typeof define=="function"&&typeof define.amd=="object"&&define.amd)define("punycode",function(){return n});else if(e&&t)if(Mo.exports==e)t.exports=n;else for($ in n)n.hasOwnProperty($)&&(e[$]=n[$]);else r.punycode=n})(Po)});var uA=P((hz,ug)=>{"use strict";f();var oA=nA();function EB(r,e){this.__proto__=new Error(e),this.__proto__.name="BackslashError",this.offset=r}function ag(r){return r>="0"&&r<="7"}function AB(r){return r>="0"&&r<="9"||r>="a"&&r<="f"||r>="A"&&r<="F"}function sA(r){return r=parseInt(r,16),oA.ucs2.encode([r])}function aA(r,e,t){var i=!1,n=[];function s(c){var h=r[c];if(!AB(h))throw new EB(c,"Unexpected token ILLEGAL");return h}for(;e<r.length;){var o=r[e];if(e++,i){switch(i=!1,o){case"n":n.push(`
`);continue;case"r":n.push("\r");continue;case"f":n.push("\f");continue;case"b":n.push("\b");continue;case"t":n.push("	");continue;case"v":n.push("\v");continue;case"\\":n.push("\\");continue}if(o==="x"){n.push(sA(s(e)+s(e+1))),e+=2;continue}if(o==="u"){n.push(sA(s(e)+s(e+1)+s(e+2)+s(e+3))),e+=4;continue}if(ag(o)){var a;ag(a=r[e])&&(e++,o+=a,ag(a=r[e])&&o[0]<="3"&&(e++,o+=a)),n.push(oA.ucs2.encode([parseInt(o,8)]));continue}n.push(o)}else if(o==="\\")i=!0;else if(o===t){e--;break}else n.push(o)}return arguments.length===3?{end:e,value:n.join("")}:n.join("")}ug.exports=function(e){return aA(e,0)};ug.exports.parseUntil=function(e,t,i){return aA(e,t,i)}});var gA=P((pz,pA)=>{f();var fA=uA();pA.exports={validate:IB,parse:_B};function IB(r,e){var t;if(e=e||!1,typeof r!="string")t="Input must be a string";else try{Wl(r,0,e,!1)}catch(i){t=i.message}return t}function _B(r,e){if(typeof r!="string")throw new Error("Input must be a string");e=e||!1;var t=Wl(r,0,e,!0);return t.value}function hA(r,e){for(var t=r.length,i=e,n,s=e;s<t;s++){var o=r[s];if(o===","){n=s;break}else if(o==="]"||o==="}"){n=s-1;break}else if(!fs(o))throw Ki(r,s,"expecting end of expression or separator")}var a;return n===void 0?(n=t,a=r[n]):(a=r[n],n++),{start:i,end:n,value:a}}function bB(r,e){for(var t=r.length,i=e,n,s=e;s<t;s++){var o=r[s];if(o===":"){n=s;break}else if(!fs(o))throw Ki(r,s,"expecting ':'")}if(n===void 0)throw Ki(r,s,"expecting ':'");return n++,{start:i,end:n}}function Wl(r,e,t,i){for(var n=r.length,s,o,a=!1,c=!1,h=!1,p=!1,A=!1,D=!1,O,T=e;T<n;T++){var V=r[T];if(s===void 0){if(!fs(V)){if(V==="[")a=!0;else if(V==="{")c=!0;else if(V==='"')h=!0;else if(TB(r,T)){s=T,T=T+3,o=T,O=!0;break}else if(NB(r,T)){s=T,T=T+4,o=T,O=!1;break}else if(DB(r,T)){s=T,T=T+3,o=T,O=null;break}else if(cA(V))p=!0;else if(V==="-")p=!0;else throw Ki(r,T,"");s=T}}else if(a){var Q=SB(r,T,t,i);o=Q.end,O=Q.value;break}else if(c){var j=xB(r,T,t,i);o=j.end,O=j.value;break}else if(h&&V==='"'&&dA(r,T-1)){o=T,O=fA(r.substring(s+1,o));break}else if(p)if(fs(V))D=!0;else if(V===","||V==="]"||V==="}"){O=parseFloat(r.substring(s,o),10),o=T-1;break}else{if(cA(V)&&!D)continue;if(V==="."&&!A&&!D)A=!0;else throw Ki(r,T,"expecting number")}}if(o===void 0)if(p)O=parseFloat(r.substring(s,T),10),o=T-1;else throw Ki(r,T,"unclosed statement");return o++,{value:O,start:s,end:o}}function CB(r,e){for(var t=r.length,i,n,s=e;s<t;s++){var o=r[s];if(i===void 0){if(!fs(o)){if(o!=='"')throw Ki(r,s,"expecting String");i=s}}else if(o==='"'&&dA(r,s-1)){n=s;break}}if(n===void 0)throw Ki(r,t,"expecting String");var a=fA(r.substring(i+1,n));if(a==="")throw Ki(r,i,"empty string");return n++,{start:i,end:n,value:a}}function xB(r,e,t,i){for(var n=e,s=",",o={},a=[],c=[],h=e;fs(r[h]);)h++;if(r[h]==="}")return{start:e,end:h,value:o};for(;s===",";){var p=CB(r,n),A=bB(r,p.end),D=Wl(r,A.end,t,i),O=hA(r,D.end);t||a.indexOf(p.value)!==-1&&(p.value=p.value+"1"),a.push(p.value),c.push(D.value),n=O.end,s=O.value}if(i){var T=0;for(T=0;T<a.length;T++)o[a[T]]=c[T]}return{start:e,end:n,value:o}}function dA(r,e){for(var t=e,i=0;t>-1&&r[t]==="\\";)i++,t--;return i%2===0}function SB(r,e,t,i){for(var n=e,s=",",o=[],a=e;fs(r[a]);)a++;if(r[a]==="]")return{start:e,end:a,value:o};for(;s===",";){var c=Wl(r,n,t,i),h=hA(r,c.end);i&&o.push(c.value),n=h.end,s=h.value}return{start:e,end:n,value:o}}function TB(r,e){return r.substr(e,4)==="true"}function NB(r,e){return r.substr(e,5)==="false"}function DB(r,e){return r.substr(e,4)==="null"}var OB=new RegExp(/^\s$/);function fs(r){return OB.test(r)}var BB=new RegExp(/^\d$/);function cA(r){return BB.test(r)}function Ki(r,e,t){var i=10,n;r.length<e+i?n=r.substr(lA(r.length-i),r.length):e-i/2<0?n=r.substr(0,i):n=r.substr(lA(e-i/2),i);var s;return t?s="Syntax error: "+t+" near "+n:s="Syntax error near "+n,new Error(s)}function lA(r){return r<0?0:r}});var Yl=P(ci=>{"use strict";f();var PB=ci&&ci.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),MB=ci&&ci.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),RB=ci&&ci.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&PB(e,r,t);return MB(e,r),e};Object.defineProperty(ci,"__esModule",{value:!0});ci.TypeExpressionParser=void 0;var yA=RB(We()),LB=Mt(),FB=gA(),cg=class{parse(e){let t=this.doParse(e),i=Object.keys(t);if(i.length!=1)throw new yA.ErrTypingSystem(`bad type expression: ${e}`);let n=i[0];return this.nodeToType(n,t[n])}doParse(e){let t=this.getJsonedString(e);try{return FB.parse(t)}catch{throw new yA.ErrTypingSystem(`cannot parse type expression: ${e}. internal json: ${t}.`)}}getJsonedString(e){let t="";for(var i=0;i<e.length;i++){let o=e.charAt(i),a=e.charAt(i-1),c=e.charAt(i+1);o=="<"?t+=": {":o==">"?a!=">"?t+=": {} }":t+="}":o==","?c==">"||(a==">"?t+=",":t+=": {},"):t+=o}let n=/(:|\{|\}|,|\s)/,s=t.replace(/utf\-8\sstring/ig,"utf-8-string").split(n).filter(o=>o);return t=s.map(o=>n.test(o)?o:`"${o}"`).map(o=>o.replace(/utf\-8\-string/ig,"utf-8 string")).join(""),s.length==1?`{${t}: {}}`:`{${t}}`}nodeToType(e,t){e.charAt(e.length-1)==="1"&&(e=e.slice(0,-1));let i=Object.keys(t).map(n=>this.nodeToType(n,t[n]));return new LB.Type(e,i)}};ci.TypeExpressionParser=cg});var Ro=P(dr=>{"use strict";f();var UB=dr&&dr.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),qB=dr&&dr.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),VB=dr&&dr.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&UB(e,r,t);return qB(e,r),e};Object.defineProperty(dr,"__esModule",{value:!0});dr.Fields=dr.Field=dr.FieldDefinition=void 0;var lg=VB(We()),HB=Yl(),$u=class{constructor(e,t,i){this.name=e,this.description=t,this.type=i}static fromJSON(e){let t=new HB.TypeExpressionParser().parse(e.type);return new $u(e.name,e.description,t)}};dr.FieldDefinition=$u;var fg=class{constructor(e,t=""){this.value=e,this.name=t}checkTyping(e){let t=this.value.getType();if(!t.equals(e.type))throw new lg.ErrTypingSystem(`check type of field "${e.name}; expected: ${e.type}, actual: ${t}"`);if(this.name!=e.name)throw new lg.ErrTypingSystem(`check name of field "${e.name}"`)}equals(e){return this.name==e.name&&this.value.equals(e.value)}};dr.Field=fg;var hg=class{static checkTyping(e,t){if(e.length!=t.length)throw new lg.ErrTypingSystem("fields length vs. field definitions length");for(let i=0;i<e.length;i++){let n=e[i],s=t[i];n.checkTyping(s)}}static equals(e,t){if(e.length!=t.length)return!1;for(let i=0;i<e.length;i++){let n=e[i],s=t[i];if(!n.equals(s))return!1}return!0}static getNamesOfTypeDependencies(e){let t=[];for(let i of e)t.push(i.type.getName()),t.push(...i.type.getNamesOfDependencies());return[...new Set(t)]}};dr.Fields=hg});var ds=P(Fo=>{"use strict";f();Object.defineProperty(Fo,"__esModule",{value:!0});Fo.Struct=Fo.StructType=void 0;var QB=We(),Jl=Ro(),mA=Mt(),hs=class extends mA.CustomType{constructor(e,t){super(e),this.fieldsDefinitions=[],this.fieldsDefinitions=t}getClassName(){return hs.ClassName}static fromJSON(e){let t=(e.fields||[]).map(i=>Jl.FieldDefinition.fromJSON(i));return new hs(e.name,t)}getFieldsDefinitions(){return this.fieldsDefinitions}getFieldDefinition(e){return this.fieldsDefinitions.find(t=>t.name==e)}getNamesOfDependencies(){return Jl.Fields.getNamesOfTypeDependencies(this.fieldsDefinitions)}};Fo.StructType=hs;hs.ClassName="StructType";var Lo=class extends mA.TypedValue{constructor(e,t){super(e),this.fields=t,this.fieldsByName=new Map(t.map(i=>[i.name,i])),this.checkTyping()}getClassName(){return Lo.ClassName}checkTyping(){let t=this.getType().getFieldsDefinitions();Jl.Fields.checkTyping(this.fields,t)}getFields(){return this.fields}getFieldValue(e){let t=this.fieldsByName.get(e);if(t)return t.value.valueOf();throw new QB.ErrMissingFieldOnStruct(e,this.getType().getName())}valueOf(){let e={};for(let t of this.fields)e[t.name]=t.value.valueOf();return e}equals(e){if(!this.getType().equals(e.getType()))return!1;let t=this.getFields(),i=e.getFields();return Jl.Fields.equals(t,i)}};Fo.Struct=Lo;Lo.ClassName="Struct"});var Zl=P(fn=>{"use strict";f();Object.defineProperty(fn,"__esModule",{value:!0});fn.EndpointParameterDefinition=fn.EndpointModifiers=fn.EndpointDefinition=void 0;var jB=Yl(),wA="?",GB="N / A",Wu=class{constructor(e,t,i,n){this.input=[],this.output=[],this.name=e,this.input=t||[],this.output=i||[],this.modifiers=n}isConstructor(){return this.name=="constructor"}static fromJSON(e){e.name=e.name==null?wA:e.name,e.payableInTokens=e.payableInTokens||[],e.inputs=e.inputs||[],e.outputs=e.outputs||[];let t=e.inputs.map(s=>ps.fromJSON(s)),i=e.outputs.map(s=>ps.fromJSON(s)),n=new Xl(e.mutability,e.payableInTokens);return new Wu(e.name,t,i,n)}};fn.EndpointDefinition=Wu;var Xl=class{constructor(e,t){this.mutability=e||"",this.payableInTokens=t||[]}isPayableInEGLD(){return this.isPayableInToken("EGLD")}isPayableInToken(e){return this.payableInTokens.includes(e)?!0:this.payableInTokens.includes(`!${e}`)?!1:!!this.payableInTokens.includes("*")}isPayable(){return this.payableInTokens.length!=0}isReadonly(){return this.mutability=="readonly"}};fn.EndpointModifiers=Xl;var ps=class{constructor(e,t,i){this.name=e,this.description=t,this.type=i}static fromJSON(e){let t=new jB.TypeExpressionParser().parse(e.type);return new ps(e.name||wA,e.description||GB,t)}};fn.EndpointParameterDefinition=ps});var dg=P(ef=>{"use strict";f();Object.defineProperty(ef,"__esModule",{value:!0});ef.ContractInterface=void 0;var KB=Tr(),vA=Zl(),zB="?",Yu=class{constructor(e,t,i){this.endpoints=[],this.name=e,this.constructorDefinition=t,this.endpoints=i}static fromJSON(e){e.name=e.name||zB,e.endpoints=e.endpoints||[];let t=kB(e),i=e.endpoints.map(n=>vA.EndpointDefinition.fromJSON(n));return new Yu(e.name,t,i)}getConstructorDefinition(){return this.constructorDefinition}getEndpoint(e){let t=this.endpoints.find(i=>i.name==e);return KB.guardValueIsSetWithMessage(`endpoint [${e}] not found`,t),t}};ef.ContractInterface=Yu;function kB(r){if(r.constructor.inputs===void 0||r.constructor.outputs===void 0)return null;let e=Object.assign({name:"constructor"},r.constructor);return vA.EndpointDefinition.fromJSON(e)}});var Ju=P(dn=>{"use strict";f();Object.defineProperty(dn,"__esModule",{value:!0});dn.EnumValue=dn.EnumVariantDefinition=dn.EnumType=void 0;var $B=We(),pg=Tr(),tf=Ro(),AA=Mt(),EA=256,gs=class extends AA.CustomType{constructor(e,t){super(e),this.variants=[],this.variants=t}getClassName(){return gs.ClassName}static fromJSON(e){let t=(e.variants||[]).map(i=>Uo.fromJSON(i));return new gs(e.name,t)}getVariantByDiscriminant(e){let t=this.variants.find(i=>i.discriminant==e);return pg.guardValueIsSet(`variant by discriminant (${e})`,t),t}getVariantByName(e){let t=this.variants.find(i=>i.name==e);return pg.guardValueIsSet(`variant by name (${e})`,t),t}getNamesOfDependencies(){let e=[];for(let t of this.variants)e.push(...t.getNamesOfDependencies());return[...new Set(e)]}};dn.EnumType=gs;gs.ClassName="EnumType";var Uo=class{constructor(e,t,i=[]){this.fieldsDefinitions=[],pg.guardTrue(t<EA,`discriminant for simple enum should be less than ${EA}`),this.name=e,this.discriminant=t,this.fieldsDefinitions=i}static fromJSON(e){let t=(e.fields||[]).map(i=>tf.FieldDefinition.fromJSON(i));return new Uo(e.name,e.discriminant,t)}getFieldsDefinitions(){return this.fieldsDefinitions}getFieldDefinition(e){return this.fieldsDefinitions.find(t=>t.name==e)}getNamesOfDependencies(){return tf.Fields.getNamesOfTypeDependencies(this.fieldsDefinitions)}};dn.EnumVariantDefinition=Uo;var hn=class extends AA.TypedValue{constructor(e,t,i){super(e),this.fields=[],this.name=t.name,this.discriminant=t.discriminant,this.fields=i,this.fieldsByName=new Map(i.map(s=>[s.name,s]));let n=t.getFieldsDefinitions();tf.Fields.checkTyping(this.fields,n)}getClassName(){return hn.ClassName}static fromName(e,t){let i=e.getVariantByName(t);return new hn(e,i,[])}static fromDiscriminant(e,t){let i=e.getVariantByDiscriminant(t);return new hn(e,i,[])}equals(e){if(!this.getType().equals(e.getType()))return!1;let t=this.getFields(),i=e.getFields(),n=this.name==e.name,s=this.discriminant==e.discriminant,o=tf.Fields.equals(t,i);return n&&s&&o}getFields(){return this.fields}getFieldValue(e){let t=this.fieldsByName.get(e);if(t)return t.value.valueOf();throw new $B.ErrMissingFieldOnEnum(e,this.getType().getName())}valueOf(){let e={name:this.name,fields:[]};return this.fields.forEach(t=>e.fields[t.name]=t.value.valueOf()),e}};dn.EnumValue=hn;hn.ClassName="EnumValue"});var Ho=P(Vo=>{"use strict";f();Object.defineProperty(Vo,"__esModule",{value:!0});Vo.AddressValue=Vo.AddressType=void 0;var WB=jr(),IA=Mt(),ys=class extends IA.PrimitiveType{constructor(){super("Address")}getClassName(){return ys.ClassName}};Vo.AddressType=ys;ys.ClassName="AddressType";var qo=class extends IA.PrimitiveValue{constructor(e){super(new ys),this.value=new WB.Address(e.bech32())}getClassName(){return qo.ClassName}equals(e){return this.value.equals(e.value)}valueOf(){return this.value}};Vo.AddressValue=qo;qo.ClassName="AddressValue"});var rf=P(Qo=>{"use strict";f();Object.defineProperty(Qo,"__esModule",{value:!0});Qo.OptionalValue=Qo.OptionalType=void 0;var YB=Tr(),Xu=Mt(),pn=class extends Xu.Type{constructor(e){super("Optional",[e],Xu.TypeCardinality.variable(1))}getClassName(){return pn.ClassName}isAssignableFrom(e){if(!e.hasExactClass(pn.ClassName))return!1;let t=this.getFirstTypeParameter().equals(e.getFirstTypeParameter()),i=e.getFirstTypeParameter().hasExactClass(Xu.NullType.ClassName);return t||i}};Qo.OptionalType=pn;pn.ClassName="OptionalType";var ms=class extends Xu.TypedValue{constructor(e,t=null){super(e),this.value=t}getClassName(){return ms.ClassName}static newMissing(){let e=new pn(new Xu.NullType);return new ms(e)}isSet(){return!!this.value}getTypedValue(){return YB.guardValueIsSet("value",this.value),this.value}valueOf(){return this.value?this.value.valueOf():null}equals(e){var t;return((t=this.value)===null||t===void 0?void 0:t.equals(e.value))||!1}};Qo.OptionalValue=ms;ms.ClassName="OptionalValue"});var Zu=P(Go=>{"use strict";f();Object.defineProperty(Go,"__esModule",{value:!0});Go.BooleanValue=Go.BooleanType=void 0;var _A=Mt(),ws=class extends _A.PrimitiveType{constructor(){super("bool")}getClassName(){return ws.ClassName}};Go.BooleanType=ws;ws.ClassName="BooleanType";var jo=class extends _A.PrimitiveValue{constructor(e){super(new ws),this.value=e}getClassName(){return jo.ClassName}equals(e){return this.value===e.value}isTrue(){return this.value===!0}isFalse(){return!this.isTrue()}valueOf(){return this.value}};Go.BooleanValue=jo;jo.ClassName="BooleanValue"});var yn=P(Ko=>{"use strict";f();Object.defineProperty(Ko,"__esModule",{value:!0});Ko.BytesValue=Ko.BytesType=void 0;var bA=Mt(),vs=class extends bA.PrimitiveType{constructor(){super("bytes")}getClassName(){return vs.ClassName}};Ko.BytesType=vs;vs.ClassName="BytesType";var gn=class extends bA.PrimitiveValue{constructor(e){super(new vs),this.value=e}getClassName(){return gn.ClassName}static fromUTF8(e){let t=y.Buffer.from(e,"utf-8");return new gn(t)}static fromHex(e){let t=y.Buffer.from(e,"hex");return new gn(t)}getLength(){return this.value.length}equals(e){return this.getLength()!=e.getLength()?!1:this.value.equals(e.value)}valueOf(){return this.value}toString(){return this.value.toString()}};Ko.BytesValue=gn;gn.ClassName="BytesValue"});var xA=P(zo=>{"use strict";f();Object.defineProperty(zo,"__esModule",{value:!0});zo.CodeMetadataValue=zo.CodeMetadataType=void 0;var CA=Mt(),nf=class extends CA.PrimitiveType{constructor(){super("CodeMetadata")}};zo.CodeMetadataType=nf;var gg=class extends CA.PrimitiveValue{constructor(e){super(new nf),this.value=e}equals(e){return this.value.equals(e.value)}valueOf(){return this.value}};zo.CodeMetadataValue=gg});var sf=P(ko=>{"use strict";f();Object.defineProperty(ko,"__esModule",{value:!0});ko.CompositeValue=ko.CompositeType=void 0;var JB=Tr(),yg=Mt(),Es=class extends yg.Type{constructor(...e){super("Composite",e,yg.TypeCardinality.variable(e.length))}getClassName(){return Es.ClassName}};ko.CompositeType=Es;Es.ClassName="CompositeType";var As=class extends yg.TypedValue{constructor(e,t){super(e),JB.guardLength(t,e.getTypeParameters().length),this.items=t}getClassName(){return As.ClassName}static fromItems(...e){let t=e.map(n=>n.getType()),i=new Es(...t);return new As(i,e)}getItems(){return this.items}valueOf(){return this.items.map(e=>e?.valueOf())}equals(e){if(this.getType().differs(e.getType()))return!1;for(let t=0;t<this.items.length;t++){let i=this.items[t],n=e.items[t];if(!i.equals(n))return!1}return!0}};ko.CompositeValue=As;As.ClassName="CompositeValue"});var wg=P(of=>{"use strict";f();Object.defineProperty(of,"__esModule",{value:!0});of.CollectionOfTypedValues=void 0;var mg=class{constructor(e){this.items=e}getLength(){return this.items.length}getItems(){return this.items}valueOf(){return this.items.map(e=>e.valueOf())}equals(e){if(this.getLength()!=e.getLength())return!1;for(let t=0;t<this.getLength();t++){let i=this.items[t],n=e.items[t];if(!i.equals(n))return!1}return!0}};of.CollectionOfTypedValues=mg});var ec=P(li=>{"use strict";f();Object.defineProperty(li,"__esModule",{value:!0});li.List=li.OptionValue=li.ListType=li.OptionType=void 0;var XB=Tr(),ZB=wg(),Is=Mt(),fi=class extends Is.Type{constructor(e){super("Option",[e])}getClassName(){return fi.ClassName}isAssignableFrom(e){if(!e.hasExactClass(fi.ClassName))return!1;let t=this.getFirstTypeParameter().equals(e.getFirstTypeParameter()),i=e.getFirstTypeParameter().hasExactClass(Is.NullType.ClassName);return t||i}};li.OptionType=fi;fi.ClassName="OptionType";var _s=class extends Is.Type{constructor(e){super("List",[e])}getClassName(){return _s.ClassName}};li.ListType=_s;_s.ClassName="ListType";var zi=class extends Is.TypedValue{constructor(e,t=null){super(e),this.value=t}getClassName(){return zi.ClassName}static newMissing(){let e=new fi(new Is.NullType);return new zi(e)}static newMissingTyped(e){return new zi(new fi(e))}static newProvided(e){let t=new fi(e.getType());return new zi(t,e)}isSet(){return!!this.value}getTypedValue(){return XB.guardValueIsSet("value",this.value),this.value}valueOf(){return this.value?this.value.valueOf():null}equals(e){var t;return((t=this.value)===null||t===void 0?void 0:t.equals(e.value))||!1}};li.OptionValue=zi;zi.ClassName="OptionValue";var mn=class extends Is.TypedValue{constructor(e,t){super(e),this.backingCollection=new ZB.CollectionOfTypedValues(t)}getClassName(){return mn.ClassName}static fromItems(e){if(e.length==0)return new mn(new Is.TypePlaceholder,[]);let t=e[0].getType(),i=new _s(t);return new mn(i,e)}getLength(){return this.backingCollection.getLength()}getItems(){return this.backingCollection.getItems()}valueOf(){return this.backingCollection.valueOf()}equals(e){return this.backingCollection.equals(e.backingCollection)}};li.List=mn;mn.ClassName="List"});var af=P(Yo=>{"use strict";f();Object.defineProperty(Yo,"__esModule",{value:!0});Yo.ArrayVec=Yo.ArrayVecType=void 0;var SA=Tr(),eP=wg(),TA=Mt(),$o=class extends TA.Type{constructor(e,t){super("Array",[t]),SA.guardTrue(e>0,"array length > 0"),this.length=e}getClassName(){return $o.ClassName}};Yo.ArrayVecType=$o;$o.ClassName="ArrayVecType";var Wo=class extends TA.TypedValue{constructor(e,t){super(e),SA.guardLength(t,e.length),this.backingCollection=new eP.CollectionOfTypedValues(t)}getClassName(){return Wo.ClassName}getLength(){return this.backingCollection.getLength()}getItems(){return this.backingCollection.getItems()}valueOf(){return this.backingCollection.valueOf()}equals(e){return this.backingCollection.equals(e.backingCollection)}};Yo.ArrayVec=Wo;Wo.ClassName="ArrayVec"});var tc=P(Xo=>{"use strict";f();Object.defineProperty(Xo,"__esModule",{value:!0});Xo.H256Value=Xo.H256Type=void 0;var NA=Mt(),bs=class extends NA.PrimitiveType{constructor(){super("H256")}getClassName(){return bs.ClassName}};Xo.H256Type=bs;bs.ClassName="H256Type";var Jo=class extends NA.PrimitiveValue{constructor(e){super(new bs),this.value=e}getClassName(){return Jo.ClassName}equals(e){return this.value.equals(e.value)}valueOf(){return this.value}};Xo.H256Value=Jo;Jo.ClassName="H256Value"});var uf=P(ea=>{"use strict";f();Object.defineProperty(ea,"__esModule",{value:!0});ea.NothingValue=ea.NothingType=void 0;var DA=Mt(),Cs=class extends DA.PrimitiveType{constructor(){super("nothing")}getClassName(){return Cs.ClassName}};ea.NothingType=Cs;Cs.ClassName="NothingType";var Zo=class extends DA.PrimitiveValue{constructor(){super(new Cs)}getClassName(){return Zo.ClassName}equals(e){return!1}valueOf(){return{}}};ea.NothingValue=Zo;Zo.ClassName="NothingValue"});var rc=P(Ae=>{"use strict";f();var tP=Ae&&Ae.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),rP=Ae&&Ae.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),iP=Ae&&Ae.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&tP(e,r,t);return rP(e,r),e},nP=Ae&&Ae.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ae,"__esModule",{value:!0});Ae.BigIntValue=Ae.BigUIntValue=Ae.I64Value=Ae.U64Value=Ae.I32Value=Ae.U32Value=Ae.I16Value=Ae.U16Value=Ae.I8Value=Ae.U8Value=Ae.NumericalValue=Ae.BigIntType=Ae.BigUIntType=Ae.I64Type=Ae.U64Type=Ae.I32Type=Ae.U32Type=Ae.I16Type=Ae.U16Type=Ae.I8Type=Ae.U8Type=Ae.NumericalType=void 0;var OA=iP(We()),BA=Mt(),Ls=nP(Qr()),tr=class extends BA.PrimitiveType{constructor(e,t,i){super(e),this.sizeInBytes=t,this.withSign=i}getClassName(){return tr.ClassName}hasFixedSize(){return!!this.sizeInBytes}hasArbitrarySize(){return!this.hasFixedSize()}};Ae.NumericalType=tr;tr.ClassName="NumericalType";var xs=class extends tr{constructor(){super("u8",1,!1)}getClassName(){return xs.ClassName}};Ae.U8Type=xs;xs.ClassName="U8Type";var Ss=class extends tr{constructor(){super("i8",1,!0)}getClassName(){return Ss.ClassName}};Ae.I8Type=Ss;Ss.ClassName="I8Type";var Ts=class extends tr{constructor(){super("u16",2,!1)}getClassName(){return Ts.ClassName}};Ae.U16Type=Ts;Ts.ClassName="U16Type";var Ns=class extends tr{constructor(){super("i16",2,!0)}getClassName(){return Ns.ClassName}};Ae.I16Type=Ns;Ns.ClassName="I16Type";var Ds=class extends tr{constructor(){super("u32",4,!1)}getClassName(){return Ds.ClassName}};Ae.U32Type=Ds;Ds.ClassName="U32Type";var Os=class extends tr{constructor(){super("i32",4,!0)}getClassName(){return Os.ClassName}};Ae.I32Type=Os;Os.ClassName="I32Type";var Bs=class extends tr{constructor(){super("u64",8,!1)}getClassName(){return Bs.ClassName}};Ae.U64Type=Bs;Bs.ClassName="U64Type";var Ps=class extends tr{constructor(){super("i64",8,!0)}getClassName(){return Ps.ClassName}};Ae.I64Type=Ps;Ps.ClassName="I64Type";var Ms=class extends tr{constructor(){super("BigUint",0,!1)}getClassName(){return Ms.ClassName}};Ae.BigUIntType=Ms;Ms.ClassName="BigUIntType";var Rs=class extends tr{constructor(){super("Bigint",0,!0)}getClassName(){return Rs.ClassName}};Ae.BigIntType=Rs;Rs.ClassName="BigIntType";var rr=class extends BA.PrimitiveValue{constructor(e,t){if(super(e),this.value=new Ls.default(t),this.sizeInBytes=e.sizeInBytes,this.withSign=e.withSign,this.value.isNaN())throw new OA.ErrInvalidArgument(`not a number: ${t}`);if(!this.withSign&&this.value.isNegative())throw new OA.ErrInvalidArgument(`negative, but type is unsigned: ${t}`)}getClassName(){return rr.ClassName}equals(e){return this.value.isEqualTo(e.value)}valueOf(){return this.value}toString(){return this.value.toString()}};Ae.NumericalValue=rr;rr.ClassName="NumericalValue";var ta=class extends rr{constructor(e){super(new xs,new Ls.default(e))}getClassName(){return ta.ClassName}};Ae.U8Value=ta;ta.ClassName="U8Value";var ra=class extends rr{constructor(e){super(new Ss,new Ls.default(e))}getClassName(){return ra.ClassName}};Ae.I8Value=ra;ra.ClassName="I8Value";var ia=class extends rr{constructor(e){super(new Ts,new Ls.default(e))}getClassName(){return ia.ClassName}};Ae.U16Value=ia;ia.ClassName="U16Value";var na=class extends rr{constructor(e){super(new Ns,new Ls.default(e))}getClassName(){return na.ClassName}};Ae.I16Value=na;na.ClassName="I16Value";var sa=class extends rr{constructor(e){super(new Ds,new Ls.default(e))}getClassName(){return sa.ClassName}};Ae.U32Value=sa;sa.ClassName="U32Value";var oa=class extends rr{constructor(e){super(new Os,new Ls.default(e))}getClassName(){return oa.ClassName}};Ae.I32Value=oa;oa.ClassName="I32Value";var aa=class extends rr{constructor(e){super(new Bs,e)}getClassName(){return aa.ClassName}};Ae.U64Value=aa;aa.ClassName="U64Value";var ua=class extends rr{constructor(e){super(new Ps,e)}getClassName(){return ua.ClassName}};Ae.I64Value=ua;ua.ClassName="I64Value";var ca=class extends rr{constructor(e){super(new Ms,e)}getClassName(){return ca.ClassName}};Ae.BigUIntValue=ca;ca.ClassName="BigUIntValue";var la=class extends rr{constructor(e){super(new Rs,e)}getClassName(){return la.ClassName}};Ae.BigIntValue=la;la.ClassName="BigIntValue"});var cf=P(fa=>{"use strict";f();Object.defineProperty(fa,"__esModule",{value:!0});fa.StringValue=fa.StringType=void 0;var PA=Mt(),Fs=class extends PA.PrimitiveType{constructor(){super("utf-8 string")}getClassName(){return Fs.ClassName}};fa.StringType=Fs;Fs.ClassName="StringType";var wn=class extends PA.PrimitiveValue{constructor(e){super(new Fs),this.value=e}getClassName(){return wn.ClassName}static fromUTF8(e){return new wn(e)}static fromHex(e){let t=y.Buffer.from(e,"hex").toString();return new wn(t)}getLength(){return this.value.length}equals(e){return this.value===e.value}valueOf(){return this.value}};fa.StringValue=wn;wn.ClassName="StringValue"});var da=P(ha=>{"use strict";f();Object.defineProperty(ha,"__esModule",{value:!0});ha.TokenIdentifierValue=ha.TokenIdentifierType=void 0;var MA=Mt(),sP="EGLD",Us=class extends MA.PrimitiveType{constructor(){super("TokenIdentifier")}getClassName(){return Us.ClassName}};ha.TokenIdentifierType=Us;Us.ClassName="TokenIdentifierType";var vn=class extends MA.PrimitiveValue{constructor(e){super(new Us),this.value=e}static egld(){return new vn(sP)}static esdtTokenIdentifier(e){return new vn(e)}getClassName(){return vn.ClassName}getLength(){return this.value.length}equals(e){return this.getLength()!=e.getLength()?!1:this.value==e.value}valueOf(){return this.value}toString(){return this.value.toString()}};ha.TokenIdentifierValue=vn;vn.ClassName="TokenIdentifierValue"});var lf=P(Nr=>{"use strict";f();var oP=Nr&&Nr.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),aP=Nr&&Nr.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),uP=Nr&&Nr.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&oP(e,r,t);return aP(e,r),e};Object.defineProperty(Nr,"__esModule",{value:!0});Nr.Tuple=Nr.TupleType=void 0;var cP=uP(We()),lP=ds(),RA=Ro(),fP=ds(),ki=class extends fP.StructType{constructor(...e){super(ki.prepareName(e),ki.prepareFieldDefinitions(e))}getClassName(){return ki.ClassName}static prepareName(e){let t=e.map(n=>n.toString()).join(", ");return`tuple${t.length}<${t}>`}static prepareFieldDefinitions(e){return e.map((i,n)=>new RA.FieldDefinition(LA(n),"anonymous tuple field",i))}};Nr.TupleType=ki;ki.ClassName="TupleType";function LA(r){return`field${r}`}var qs=class extends lP.Struct{constructor(e,t){super(e,t)}getClassName(){return qs.ClassName}static fromItems(e){if(e.length<1)throw new cP.ErrTypingSystem("bad tuple items");let t=e.map(s=>s.getType()),i=new ki(...t),n=e.map((s,o)=>new RA.Field(s,LA(o)));return new qs(i,n)}};Nr.Tuple=qs;qs.ClassName="Tuple"});var hf=P(pa=>{"use strict";f();Object.defineProperty(pa,"__esModule",{value:!0});pa.VariadicValue=pa.VariadicType=void 0;var ff=Mt(),An=class extends ff.Type{constructor(e){super("Variadic",[e],ff.TypeCardinality.variable())}getClassName(){return An.ClassName}};pa.VariadicType=An;An.ClassName="VariadicType";var En=class extends ff.TypedValue{constructor(e,t){super(e),this.items=t}getClassName(){return En.ClassName}static fromItems(...e){if(e.length==0)return new En(new An(new ff.TypePlaceholder),[]);let t=e[0].getType();return new En(new An(t),e)}getItems(){return this.items}valueOf(){return this.items.map(e=>e.valueOf())}equals(e){if(this.getType().differs(e.getType()))return!1;for(let t=0;t<this.items.length;t++){let i=this.items[t],n=e.items[t];if(!i.equals(n))return!1}return!0}};pa.VariadicValue=En;En.ClassName="VariadicValue"});var _g=P(hi=>{"use strict";f();var hP=hi&&hi.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),dP=hi&&hi.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),pP=hi&&hi.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&hP(e,r,t);return dP(e,r),e};Object.defineProperty(hi,"__esModule",{value:!0});hi.TypeMapper=void 0;var FA=pP(We()),gP=Ho(),vg=rf(),yP=Zu(),mP=yn(),wP=xA(),df=sf(),Eg=Ju(),vP=Ro(),UA=ec(),pf=af(),EP=tc(),qA=uf(),Dr=rc(),AP=cf(),VA=ds(),HA=da(),In=lf(),Ag=hf(),Ig=class{constructor(e=[]){this.openTypesFactories=new Map([["Option",(...t)=>new UA.OptionType(t[0])],["List",(...t)=>new UA.ListType(t[0])],["VarArgs",(...t)=>new Ag.VariadicType(t[0])],["MultiResultVec",(...t)=>new Ag.VariadicType(t[0])],["variadic",(...t)=>new Ag.VariadicType(t[0])],["OptionalArg",(...t)=>new vg.OptionalType(t[0])],["optional",(...t)=>new vg.OptionalType(t[0])],["OptionalResult",(...t)=>new vg.OptionalType(t[0])],["multi",(...t)=>new df.CompositeType(...t)],["MultiArg",(...t)=>new df.CompositeType(...t)],["MultiResult",(...t)=>new df.CompositeType(...t)],["multi",(...t)=>new df.CompositeType(...t)],["tuple",(...t)=>new In.TupleType(...t)],["tuple2",(...t)=>new In.TupleType(...t)],["tuple3",(...t)=>new In.TupleType(...t)],["tuple4",(...t)=>new In.TupleType(...t)],["tuple5",(...t)=>new In.TupleType(...t)],["tuple6",(...t)=>new In.TupleType(...t)],["tuple7",(...t)=>new In.TupleType(...t)],["tuple8",(...t)=>new In.TupleType(...t)],["array20",(...t)=>new pf.ArrayVecType(20,t[0])],["array32",(...t)=>new pf.ArrayVecType(32,t[0])],["array46",(...t)=>new pf.ArrayVecType(46,t[0])],["array64",(...t)=>new pf.ArrayVecType(64,t[0])]]),this.closedTypesMap=new Map([["u8",new Dr.U8Type],["u16",new Dr.U16Type],["u32",new Dr.U32Type],["u64",new Dr.U64Type],["U64",new Dr.U64Type],["BigUint",new Dr.BigUIntType],["i8",new Dr.I8Type],["i16",new Dr.I16Type],["i32",new Dr.I32Type],["i64",new Dr.I64Type],["Bigint",new Dr.BigIntType],["BigInt",new Dr.BigIntType],["bool",new yP.BooleanType],["bytes",new mP.BytesType],["Address",new gP.AddressType],["H256",new EP.H256Type],["utf-8 string",new AP.StringType],["TokenIdentifier",new HA.TokenIdentifierType],["EgldOrEsdtTokenIdentifier",new HA.TokenIdentifierType],["CodeMetadata",new wP.CodeMetadataType],["nothing",new qA.NothingType],["AsyncCall",new qA.NothingType]]),this.learnedTypesMap=new Map;for(let t of e)this.learnedTypesMap.set(t.getName(),t)}mapType(e){let t=this.mapRecursiveType(e);if(t)return t.isGenericType()||this.learnType(t),t;throw new FA.ErrTypingSystem(`Cannot map the type "${e.getName()}" to a known type`)}mapRecursiveType(e){let t=e.isGenericType(),i=this.learnedTypesMap.get(e.getName());if(i)return i;let n=this.closedTypesMap.get(e.getName());return n||(e.hasExactClass(Eg.EnumType.ClassName)?this.mapEnumType(e):e.hasExactClass(VA.StructType.ClassName)?this.mapStructType(e):t?this.mapGenericType(e):null)}learnType(e){this.learnedTypesMap.delete(e.getName()),this.learnedTypesMap.set(e.getName(),e)}mapStructType(e){let t=this.mappedFields(e.getFieldsDefinitions());return new VA.StructType(e.getName(),t)}mapEnumType(e){let t=e.variants.map(n=>new Eg.EnumVariantDefinition(n.name,n.discriminant,this.mappedFields(n.getFieldsDefinitions())));return new Eg.EnumType(e.getName(),t)}mappedFields(e){return e.map(t=>new vP.FieldDefinition(t.name,t.description,this.mapType(t.type)))}mapGenericType(e){let i=e.getTypeParameters().map(s=>this.mapType(s)),n=this.openTypesFactories.get(e.getName());if(!n)throw new FA.ErrTypingSystem(`Cannot map the generic type "${e.getName()}" to a known type`);return n(...i)}};hi.TypeMapper=Ig});var kA=P(di=>{"use strict";f();var IP=di&&di.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),_P=di&&di.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),bP=di&&di.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&IP(e,r,t);return _P(e,r),e};Object.defineProperty(di,"__esModule",{value:!0});di.AbiRegistry=void 0;var CP=bP(We()),bg=Tr(),QA=ds(),jA=dg(),GA=Ju(),KA=_g(),Cg=Zl(),ga=class{constructor(){this.interfaces=[],this.customTypes=[]}static create(e){return new ga().extend(e).remapToKnownTypes()}extend(e){e.types=e.types||{};let t=jA.ContractInterface.fromJSON(e);this.interfaces.push(t);for(let i in e.types){let n=e.types[i],s=n.type;n.name=i;let o=this.createCustomType(s,n);this.customTypes.push(o)}return this.sortCustomTypesByDependencies(),this}createCustomType(e,t){if(e=="struct")return QA.StructType.fromJSON(t);if(e=="enum")return GA.EnumType.fromJSON(t);throw new CP.ErrTypingSystem(`Unknown type discriminant: ${e}`)}sortCustomTypesByDependencies(){this.customTypes.sort((e,t)=>t.getNamesOfDependencies().indexOf(e.getName())>-1?-1:1)}getInterface(e){let t=this.interfaces.find(i=>i.name==e);return bg.guardValueIsSetWithMessage(`interface [${e}] not found`,t),t}getInterfaces(e){return e.map(t=>this.getInterface(t))}getStruct(e){let t=this.customTypes.find(i=>i.getName()==e&&i.hasExactClass(QA.StructType.ClassName));return bg.guardValueIsSetWithMessage(`struct [${e}] not found`,t),t}getStructs(e){return e.map(t=>this.getStruct(t))}getEnum(e){let t=this.customTypes.find(i=>i.getName()==e&&i.hasExactClass(GA.EnumType.ClassName));return bg.guardValueIsSetWithMessage(`enum [${e}] not found`,t),t}getEnums(e){return e.map(t=>this.getEnum(t))}remapToKnownTypes(){let e=new KA.TypeMapper([]),t=[],i=[];for(let s of this.customTypes){let o=e.mapType(s);t.push(o)}e=new KA.TypeMapper(t);for(let s of this.interfaces){let o=[];for(let c of s.endpoints)o.push(zA(c,e));let a=s.constructorDefinition?zA(s.constructorDefinition,e):null;i.push(new jA.ContractInterface(s.name,a,o))}let n=new ga;return n.customTypes.push(...t),n.interfaces.push(...i),n}};di.AbiRegistry=ga;function zA(r,e){let t=r.input.map(n=>new Cg.EndpointParameterDefinition(n.name,n.description,e.mapType(n.type))),i=r.output.map(n=>new Cg.EndpointParameterDefinition(n.name,n.description,e.mapType(n.type)));return new Cg.EndpointDefinition(r.name,t,i,r.modifiers)}});var WA=P(ya=>{"use strict";f();Object.defineProperty(ya,"__esModule",{value:!0});ya.createListOfTokenIdentifiers=ya.createListOfAddresses=void 0;var xP=Ho(),$A=ec(),SP=da();function TP(r){let e=r.map(i=>new xP.AddressValue(i));return $A.List.fromItems(e)}ya.createListOfAddresses=TP;function NP(r){let e=r.map(i=>new SP.TokenIdentifierValue(i));return $A.List.fromItems(e)}ya.createListOfTokenIdentifiers=NP});var cI=P(ir=>{"use strict";f();var DP=ir&&ir.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),OP=ir&&ir.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),BP=ir&&ir.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&DP(e,r,t);return OP(e,r),e};Object.defineProperty(ir,"__esModule",{value:!0});ir.onPrimitiveTypeSelect=ir.onPrimitiveValueSelect=ir.onTypedValueSelect=ir.onTypeSelect=void 0;var yf=BP(We()),YA=Ho(),JA=Zu(),XA=yn(),ZA=Ju(),gf=ec(),eI=tc(),tI=rc(),rI=uf(),iI=ds(),nI=da(),sI=lf(),oI=Mt(),aI=af(),uI=cf();function PP(r,e){if(r.hasExactClass(gf.OptionType.ClassName))return e.onOption();if(r.hasExactClass(gf.ListType.ClassName))return e.onList();if(r.hasExactClass(aI.ArrayVecType.ClassName))return e.onArray();if(r.hasClassOrSuperclass(oI.PrimitiveType.ClassName))return e.onPrimitive();if(r.hasExactClass(iI.StructType.ClassName))return e.onStruct();if(r.hasExactClass(sI.TupleType.ClassName))return e.onTuple();if(r.hasExactClass(ZA.EnumType.ClassName))return e.onEnum();if(e.onOther)return e.onOther();throw new yf.ErrTypingSystem(`type isn't known: ${r}`)}ir.onTypeSelect=PP;function MP(r,e){if(r.hasClassOrSuperclass(oI.PrimitiveValue.ClassName))return e.onPrimitive();if(r.hasExactClass(gf.OptionValue.ClassName))return e.onOption();if(r.hasExactClass(gf.List.ClassName))return e.onList();if(r.hasExactClass(aI.ArrayVec.ClassName))return e.onArray();if(r.hasExactClass(iI.Struct.ClassName))return e.onStruct();if(r.hasExactClass(sI.Tuple.ClassName))return e.onTuple();if(r.hasExactClass(ZA.EnumValue.ClassName))return e.onEnum();if(e.onOther)return e.onOther();throw new yf.ErrTypingSystem(`value isn't typed: ${r}`)}ir.onTypedValueSelect=MP;function RP(r,e){if(r.hasExactClass(JA.BooleanValue.ClassName))return e.onBoolean();if(r.hasClassOrSuperclass(tI.NumericalValue.ClassName))return e.onNumerical();if(r.hasExactClass(YA.AddressValue.ClassName))return e.onAddress();if(r.hasExactClass(XA.BytesValue.ClassName))return e.onBytes();if(r.hasExactClass(uI.StringValue.ClassName))return e.onString();if(r.hasExactClass(eI.H256Value.ClassName))return e.onH256();if(r.hasExactClass(nI.TokenIdentifierValue.ClassName))return e.onTypeIdentifier();if(r.hasExactClass(rI.NothingValue.ClassName))return e.onNothing();if(e.onOther)return e.onOther();throw new yf.ErrTypingSystem(`value isn't a primitive: ${r.getType()}`)}ir.onPrimitiveValueSelect=RP;function LP(r,e){if(r.hasExactClass(JA.BooleanType.ClassName))return e.onBoolean();if(r.hasClassOrSuperclass(tI.NumericalType.ClassName))return e.onNumerical();if(r.hasExactClass(YA.AddressType.ClassName))return e.onAddress();if(r.hasExactClass(XA.BytesType.ClassName))return e.onBytes();if(r.hasExactClass(uI.StringType.ClassName))return e.onString();if(r.hasExactClass(eI.H256Type.ClassName))return e.onH256();if(r.hasExactClass(nI.TokenIdentifierType.ClassName))return e.onTokenIndetifier();if(r.hasExactClass(rI.NothingType.ClassName))return e.onNothing();if(e.onOther)return e.onOther();throw new yf.ErrTypingSystem(`type isn't a known primitive: ${r}`)}ir.onPrimitiveTypeSelect=LP});var nr=P(Ve=>{"use strict";f();var FP=Ve&&Ve.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),Ye=Ve&&Ve.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&FP(e,r,t)};Object.defineProperty(Ve,"__esModule",{value:!0});Ye(kA(),Ve);Ye(Ho(),Ve);Ye(rf(),Ve);Ye(Zu(),Ve);Ye(yn(),Ve);Ye(sf(),Ve);Ye(dg(),Ve);Ye(Zl(),Ve);Ye(Ju(),Ve);Ye(WA(),Ve);Ye(Ro(),Ve);Ye(ec(),Ve);Ye(af(),Ve);Ye(tc(),Ve);Ye(cI(),Ve);Ye(uf(),Ve);Ye(rc(),Ve);Ye(cf(),Ve);Ye(ds(),Ve);Ye(lf(),Ve);Ye(da(),Ve);Ye(Yl(),Ve);Ye(_g(),Ve);Ye(Mt(),Ve);Ye(hf(),Ve)});var fI=P(pi=>{"use strict";f();var UP=pi&&pi.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),qP=pi&&pi.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),VP=pi&&pi.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&UP(e,r,t);return qP(e,r),e};Object.defineProperty(pi,"__esModule",{value:!0});pi.OptionValueBinaryCodec=void 0;var lI=VP(We()),mf=nr(),xg=class{constructor(e){this.binaryCodec=e}decodeNested(e,t){if(e[0]==0)return[mf.OptionValue.newMissingTyped(t),1];if(e[0]!=1)throw new lI.ErrCodec("invalid buffer for optional value");let[i,n]=this.binaryCodec.decodeNested(e.slice(1),t);return[mf.OptionValue.newProvided(i),n+1]}decodeTopLevel(e,t){if(e.length==0)return new mf.OptionValue(t);if(e[0]!=1)throw new lI.ErrCodec("invalid buffer for optional value");let[i,n]=this.binaryCodec.decodeNested(e.slice(1),t);return new mf.OptionValue(t,i)}encodeNested(e){return e.isSet()?y.Buffer.concat([y.Buffer.from([1]),this.binaryCodec.encodeNested(e.getTypedValue())]):y.Buffer.from([0])}encodeTopLevel(e){return e.isSet()?y.Buffer.concat([y.Buffer.from([1]),this.binaryCodec.encodeNested(e.getTypedValue())]):y.Buffer.from([])}};pi.OptionValueBinaryCodec=xg});var hI=P(wf=>{"use strict";f();Object.defineProperty(wf,"__esModule",{value:!0});wf.AddressBinaryCodec=void 0;var HP=jr(),QP=nr(),Sg=class{decodeNested(e){let t=e.slice(0,32),i=new HP.Address(t);return[new QP.AddressValue(i),32]}decodeTopLevel(e){let[t,i]=this.decodeNested(e);return t}encodeNested(e){return e.valueOf().pubkey()}encodeTopLevel(e){return e.valueOf().pubkey()}};wf.AddressBinaryCodec=Sg});var pI=P(gi=>{"use strict";f();var jP=gi&&gi.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),GP=gi&&gi.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),KP=gi&&gi.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&jP(e,r,t);return GP(e,r),e};Object.defineProperty(gi,"__esModule",{value:!0});gi.BooleanBinaryCodec=void 0;var zP=KP(We()),dI=nr(),Gr=class{decodeNested(e){let t=e.readUInt8(0);return[new dI.BooleanValue(t==Gr.TRUE),1]}decodeTopLevel(e){if(e.length>1)throw new zP.ErrInvalidArgument("buffer should be of size <= 1");let t=e[0];return new dI.BooleanValue(t==Gr.TRUE)}encodeNested(e){return e.isTrue()?y.Buffer.from([Gr.TRUE]):y.Buffer.from([Gr.FALSE])}encodeTopLevel(e){return e.isTrue()?y.Buffer.from([Gr.TRUE]):y.Buffer.from([])}};gi.BooleanBinaryCodec=Gr;Gr.TRUE=1;Gr.FALSE=0});var Ef=P(vf=>{"use strict";f();Object.defineProperty(vf,"__esModule",{value:!0});vf.SizeOfU32=void 0;vf.SizeOfU32=4});var yI=P(yi=>{"use strict";f();var kP=yi&&yi.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(yi,"__esModule",{value:!0});yi.zeroPadStringIfOddLength=yi.isPaddedHex=yi.numberToPaddedHex=void 0;var $P=kP(Qr());function WP(r){let e=new $P.default(r).toString(16);return gI(e)}yi.numberToPaddedHex=WP;function YP(r){r=r||"";let e=y.Buffer.from(r,"hex").toString("hex");return r.toUpperCase()==e.toUpperCase()}yi.isPaddedHex=YP;function gI(r){return r=r||"",r.length%2==1?"0"+r:r}yi.zeroPadStringIfOddLength=gI});var Tg=P(Rt=>{"use strict";f();var JP=Rt&&Rt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Rt,"__esModule",{value:!0});Rt.prependByteToBuffer=Rt.flipBufferBitsInPlace=Rt.getHexMagnitudeOfBigInt=Rt.bigIntToBuffer=Rt.bufferToBigInt=Rt.cloneBuffer=Rt.isMsbZero=Rt.isMsbOne=void 0;var mI=JP(Qr()),XP=yI();function wI(r,e=0){return r[e]>>7==1}Rt.isMsbOne=wI;function ZP(r,e=0){return!wI(r,e)}Rt.isMsbZero=ZP;function eM(r){let e=y.Buffer.alloc(r.length);return r.copy(e),e}Rt.cloneBuffer=eM;function tM(r){let e=r.toString("hex");return new mI.default(`0x${e}`,16)}Rt.bufferToBigInt=tM;function rM(r){let e=vI(r);return y.Buffer.from(e,"hex")}Rt.bigIntToBuffer=rM;function vI(r){return r?(r.isNegative()&&(r=r.multipliedBy(new mI.default(-1))),XP.numberToPaddedHex(r)):""}Rt.getHexMagnitudeOfBigInt=vI;function iM(r){for(let e=0;e<r.length;e++)r[e]=~r[e]}Rt.flipBufferBitsInPlace=iM;function nM(r,e){return y.Buffer.concat([y.Buffer.from([e]),r])}Rt.prependByteToBuffer=nM});var AI=P(ma=>{"use strict";f();var sM=ma&&ma.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ma,"__esModule",{value:!0});ma.NumericalBinaryCodec=void 0;var ic=sM(Qr()),Ng=nr(),EI=Ef(),lt=Tg(),Dg=class{decodeNested(e,t){let i=0,n=t.sizeInBytes;n||(i=EI.SizeOfU32,n=e.readUInt32BE(0));let s=e.slice(i,i+n),o=this.decodeTopLevel(s,t),a=n+i;return[o,a]}decodeTopLevel(e,t){let i=lt.cloneBuffer(e);if(e.length==0)return new Ng.NumericalValue(t,new ic.default(0));if(!t.withSign||lt.isMsbZero(i)){let h=lt.bufferToBigInt(i);return new Ng.NumericalValue(t,h)}lt.flipBufferBitsInPlace(i);let c=lt.bufferToBigInt(i).multipliedBy(new ic.default(-1)).minus(new ic.default(1));return new Ng.NumericalValue(t,c)}encodeNested(e){if(e.sizeInBytes)return this.encodeNestedFixedSize(e,e.sizeInBytes);let t=this.encodeTopLevel(e),i=y.Buffer.alloc(EI.SizeOfU32);return i.writeUInt32BE(t.length),y.Buffer.concat([i,t])}encodeNestedFixedSize(e,t){if(e.value.isZero())return y.Buffer.alloc(t,0);if(!e.withSign){let o=lt.bigIntToBuffer(e.value),a=y.Buffer.alloc(t-o.length,0);return y.Buffer.concat([a,o])}if(e.value.isPositive()){let o=lt.bigIntToBuffer(e.value);lt.isMsbOne(o)&&(o=lt.prependByteToBuffer(o,0));let a=y.Buffer.alloc(t-o.length,0);return y.Buffer.concat([a,o])}let i=e.value.plus(new ic.default(1)),n=lt.bigIntToBuffer(i);lt.flipBufferBitsInPlace(n),lt.isMsbZero(n)&&(n=lt.prependByteToBuffer(n,255));let s=y.Buffer.alloc(t-n.length,255);return y.Buffer.concat([s,n])}encodeTopLevel(e){let t=e.withSign;return e.value.isZero()?y.Buffer.alloc(0):t?this.encodePrimitive(e):lt.bigIntToBuffer(e.value)}encodePrimitive(e){if(e.value.isPositive()){let n=lt.bigIntToBuffer(e.value);return lt.isMsbOne(n)&&(n=lt.prependByteToBuffer(n,0)),n}let t=e.value.plus(new ic.default(1)),i=lt.bigIntToBuffer(t);return lt.flipBufferBitsInPlace(i),lt.isMsbZero(i)&&(i=lt.prependByteToBuffer(i,255)),i}};ma.NumericalBinaryCodec=Dg});var II=P(Af=>{"use strict";f();Object.defineProperty(Af,"__esModule",{value:!0});Af.H256BinaryCodec=void 0;var oM=tc(),Og=class{decodeNested(e){let t=e.slice(0,32);return[new oM.H256Value(t),32]}decodeTopLevel(e){let[t,i]=this.decodeNested(e);return t}encodeNested(e){return e.valueOf()}encodeTopLevel(e){return e.valueOf()}};Af.H256BinaryCodec=Og});var bf=P(_f=>{"use strict";f();Object.defineProperty(_f,"__esModule",{value:!0});_f.BytesBinaryCodec=void 0;var _I=yn(),If=Ef(),Bg=class{decodeNested(e){let t=e.readUInt32BE(0),i=e.slice(If.SizeOfU32,If.SizeOfU32+t);return[new _I.BytesValue(i),If.SizeOfU32+t]}decodeTopLevel(e){return new _I.BytesValue(e)}encodeNested(e){let t=y.Buffer.alloc(If.SizeOfU32);return t.writeUInt32BE(e.getLength()),y.Buffer.concat([t,e.valueOf()])}encodeTopLevel(e){return e.valueOf()}};_f.BytesBinaryCodec=Bg});var CI=P(Cf=>{"use strict";f();Object.defineProperty(Cf,"__esModule",{value:!0});Cf.TokenIdentifierCodec=void 0;var aM=yn(),bI=da(),uM=bf(),Pg=class{constructor(){this.bytesCodec=new uM.BytesBinaryCodec}decodeNested(e){let[t,i]=this.bytesCodec.decodeNested(e);return[new bI.TokenIdentifierValue(t.toString()),i]}decodeTopLevel(e){let t=this.bytesCodec.decodeTopLevel(e);return new bI.TokenIdentifierValue(t.toString())}encodeNested(e){let t=aM.BytesValue.fromUTF8(e.valueOf());return this.bytesCodec.encodeNested(t)}encodeTopLevel(e){return y.Buffer.from(e.valueOf())}};Cf.TokenIdentifierCodec=Pg});var SI=P(xf=>{"use strict";f();Object.defineProperty(xf,"__esModule",{value:!0});xf.NothingCodec=void 0;var xI=nr(),Mg=class{decodeNested(){return[new xI.NothingValue,0]}decodeTopLevel(){return new xI.NothingValue}encodeNested(){return y.Buffer.from([])}encodeTopLevel(){return y.Buffer.from([])}};xf.NothingCodec=Mg});var NI=P(Sf=>{"use strict";f();Object.defineProperty(Sf,"__esModule",{value:!0});Sf.StringBinaryCodec=void 0;var TI=nr(),cM=yn(),lM=bf(),Rg=class{constructor(){this.bytesBinaryCodec=new lM.BytesBinaryCodec}decodeNested(e){let[t,i]=this.bytesBinaryCodec.decodeNested(e);return[new TI.StringValue(t.valueOf().toString()),i]}decodeTopLevel(e){return new TI.StringValue(e.toString())}encodeNested(e){let t=cM.BytesValue.fromUTF8(e.valueOf());return this.bytesBinaryCodec.encodeNested(t)}encodeTopLevel(e){return y.Buffer.from(e.valueOf())}};Sf.StringBinaryCodec=Rg});var DI=P(Nf=>{"use strict";f();Object.defineProperty(Nf,"__esModule",{value:!0});Nf.PrimitiveBinaryCodec=void 0;var Tf=nr(),fM=hI(),hM=pI(),dM=AI(),pM=II(),gM=bf(),yM=CI(),mM=SI(),wM=NI(),Lg=class{constructor(e){this.binaryCodec=e,this.booleanCodec=new hM.BooleanBinaryCodec,this.numericalCodec=new dM.NumericalBinaryCodec,this.addressCodec=new fM.AddressBinaryCodec,this.h256Codec=new pM.H256BinaryCodec,this.bytesCodec=new gM.BytesBinaryCodec,this.stringCodec=new wM.StringBinaryCodec,this.tokenIdentifierCodec=new yM.TokenIdentifierCodec,this.nothingCodec=new mM.NothingCodec}decodeNested(e,t){return Tf.onPrimitiveTypeSelect(t,{onBoolean:()=>this.booleanCodec.decodeNested(e),onNumerical:()=>this.numericalCodec.decodeNested(e,t),onAddress:()=>this.addressCodec.decodeNested(e),onBytes:()=>this.bytesCodec.decodeNested(e),onString:()=>this.stringCodec.decodeNested(e),onH256:()=>this.h256Codec.decodeNested(e),onTokenIndetifier:()=>this.tokenIdentifierCodec.decodeNested(e),onNothing:()=>this.nothingCodec.decodeNested()})}decodeTopLevel(e,t){return Tf.onPrimitiveTypeSelect(t,{onBoolean:()=>this.booleanCodec.decodeTopLevel(e),onNumerical:()=>this.numericalCodec.decodeTopLevel(e,t),onAddress:()=>this.addressCodec.decodeTopLevel(e),onBytes:()=>this.bytesCodec.decodeTopLevel(e),onString:()=>this.stringCodec.decodeTopLevel(e),onH256:()=>this.h256Codec.decodeTopLevel(e),onTokenIndetifier:()=>this.tokenIdentifierCodec.decodeTopLevel(e),onNothing:()=>this.nothingCodec.decodeTopLevel()})}encodeNested(e){return Tf.onPrimitiveValueSelect(e,{onBoolean:()=>this.booleanCodec.encodeNested(e),onNumerical:()=>this.numericalCodec.encodeNested(e),onAddress:()=>this.addressCodec.encodeNested(e),onBytes:()=>this.bytesCodec.encodeNested(e),onString:()=>this.stringCodec.encodeNested(e),onH256:()=>this.h256Codec.encodeNested(e),onTypeIdentifier:()=>this.tokenIdentifierCodec.encodeNested(e),onNothing:()=>this.nothingCodec.encodeNested()})}encodeTopLevel(e){return Tf.onPrimitiveValueSelect(e,{onBoolean:()=>this.booleanCodec.encodeTopLevel(e),onNumerical:()=>this.numericalCodec.encodeTopLevel(e),onAddress:()=>this.addressCodec.encodeTopLevel(e),onBytes:()=>this.bytesCodec.encodeTopLevel(e),onString:()=>this.stringCodec.encodeTopLevel(e),onH256:()=>this.h256Codec.encodeTopLevel(e),onTypeIdentifier:()=>this.tokenIdentifierCodec.encodeTopLevel(e),onNothing:()=>this.nothingCodec.encodeTopLevel()})}};Nf.PrimitiveBinaryCodec=Lg});var PI=P(Df=>{"use strict";f();Object.defineProperty(Df,"__esModule",{value:!0});Df.ListBinaryCodec=void 0;var OI=nr(),BI=Ef(),Fg=class{constructor(e){this.binaryCodec=e}decodeNested(e,t){let i=t.getFirstTypeParameter(),n=[],s=e.readUInt32BE(0);this.binaryCodec.constraints.checkListLength(s);let o=e,a=BI.SizeOfU32;e=o.slice(a);for(let c=0;c<s;c++){let[h,p]=this.binaryCodec.decodeNested(e,i);n.push(h),a+=p,e=o.slice(a)}return[new OI.List(t,n),a]}decodeTopLevel(e,t){let i=t.getFirstTypeParameter(),n=[],s=e,o=0;for(;e.length>0;){let[a,c]=this.binaryCodec.decodeNested(e,i);n.push(a),o+=c,e=s.slice(o),this.binaryCodec.constraints.checkListLength(n.length)}return new OI.List(t,n)}encodeNested(e){this.binaryCodec.constraints.checkListLength(e.getLength());let t=y.Buffer.alloc(BI.SizeOfU32);t.writeUInt32BE(e.getLength());let i=[];for(let s of e.getItems()){let o=this.binaryCodec.encodeNested(s);i.push(o)}return y.Buffer.concat([t,...i])}encodeTopLevel(e){this.binaryCodec.constraints.checkListLength(e.getLength());let t=[];for(let n of e.getItems()){let s=this.binaryCodec.encodeNested(n);t.push(s)}return y.Buffer.concat(t)}};Df.ListBinaryCodec=Fg});var qg=P(Of=>{"use strict";f();Object.defineProperty(Of,"__esModule",{value:!0});Of.FieldsBinaryCodec=void 0;var vM=nr(),Ug=class{constructor(e){this.binaryCodec=e}decodeNested(e,t){let i=[],n=0;for(let s of t){let[o,a]=this.binaryCodec.decodeNested(e,s.type);e=e.slice(a),n+=a;let c=new vM.Field(o,s.name);i.push(c)}return[i,n]}encodeNested(e){let t=[];for(let i of e){let n=this.binaryCodec.encodeNested(i.value);t.push(n)}return y.Buffer.concat(t)}};Of.FieldsBinaryCodec=Ug});var Hg=P(Bf=>{"use strict";f();Object.defineProperty(Bf,"__esModule",{value:!0});Bf.StructBinaryCodec=void 0;var EM=nr(),AM=qg(),Vg=class{constructor(e){this.fieldsCodec=new AM.FieldsBinaryCodec(e)}decodeTopLevel(e,t){let[i]=this.decodeNested(e,t);return i}decodeNested(e,t){let i=t.getFieldsDefinitions(),[n,s]=this.fieldsCodec.decodeNested(e,i);return[new EM.Struct(t,n),s]}encodeNested(e){let t=e.getFields();return this.fieldsCodec.encodeNested(t)}encodeTopLevel(e){return this.encodeNested(e)}};Bf.StructBinaryCodec=Vg});var MI=P(Mf=>{"use strict";f();Object.defineProperty(Mf,"__esModule",{value:!0});Mf.EnumBinaryCodec=void 0;var Pf=nr(),IM=qg(),Qg=class{constructor(e){this.binaryCodec=e,this.fieldsCodec=new IM.FieldsBinaryCodec(e)}decodeTopLevel(e,t){let[i]=this.decodeNested(e,t);return i}decodeNested(e,t){let[i,n]=this.readDiscriminant(e);e=e.slice(n);let s=t.getVariantByDiscriminant(i),o=s.getFieldsDefinitions(),[a,c]=this.fieldsCodec.decodeNested(e,o);return[new Pf.EnumValue(t,s,a),n+c]}readDiscriminant(e){let[t,i]=this.binaryCodec.decodeNested(e,new Pf.U8Type);return[t.valueOf(),i]}encodeNested(e){let t=new Pf.U8Value(e.discriminant),i=this.binaryCodec.encodeNested(t),n=e.getFields(),s=this.fieldsCodec.encodeNested(n);return y.Buffer.concat([i,s])}encodeTopLevel(e){let t=e.getFields(),i=t.length>0,n=this.fieldsCodec.encodeNested(t),s=new Pf.U8Value(e.discriminant),o=i?this.binaryCodec.encodeNested(s):this.binaryCodec.encodeTopLevel(s);return y.Buffer.concat([o,n])}};Mf.EnumBinaryCodec=Qg});var RI=P(Rf=>{"use strict";f();Object.defineProperty(Rf,"__esModule",{value:!0});Rf.TupleBinaryCodec=void 0;var _M=Hg(),jg=class{constructor(e){this.structCodec=new _M.StructBinaryCodec(e)}decodeTopLevel(e,t){return this.structCodec.decodeTopLevel(e,t)}decodeNested(e,t){return this.structCodec.decodeNested(e,t)}encodeNested(e){return this.structCodec.encodeNested(e)}encodeTopLevel(e){return this.structCodec.encodeTopLevel(e)}};Rf.TupleBinaryCodec=jg});var LI=P(Lf=>{"use strict";f();Object.defineProperty(Lf,"__esModule",{value:!0});Lf.ArrayVecBinaryCodec=void 0;var bM=nr(),Gg=class{constructor(e){this.binaryCodec=e}decodeNested(e,t){let i=t.length,n=t.getFirstTypeParameter(),s=[],o=0;for(let a=0;a<i;a++){let[c,h]=this.binaryCodec.decodeNested(e,n);s.push(c),o+=h,e=e.slice(h)}return[new bM.ArrayVec(t,s),o]}decodeTopLevel(e,t){let[i,n]=this.decodeNested(e,t);return i}encodeNested(e){let t=[];for(let i of e.getItems()){let n=this.binaryCodec.encodeNested(i);t.push(n)}return y.Buffer.concat(t)}encodeTopLevel(e){return this.encodeNested(e)}};Lf.ArrayVecBinaryCodec=Gg});var zg=P(Or=>{"use strict";f();var CM=Or&&Or.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),xM=Or&&Or.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),SM=Or&&Or.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&CM(e,r,t);return xM(e,r),e};Object.defineProperty(Or,"__esModule",{value:!0});Or.BinaryCodecConstraints=Or.BinaryCodec=void 0;var FI=SM(We()),Ff=nr(),UI=Tr(),TM=fI(),NM=DI(),DM=PI(),OM=Hg(),BM=MI(),PM=RI(),MM=LI(),Kg=class{constructor(e=null){this.constraints=e||new Uf,this.optionCodec=new TM.OptionValueBinaryCodec(this),this.listCodec=new DM.ListBinaryCodec(this),this.arrayCodec=new MM.ArrayVecBinaryCodec(this),this.primitiveCodec=new NM.PrimitiveBinaryCodec(this),this.structCodec=new OM.StructBinaryCodec(this),this.tupleCodec=new PM.TupleBinaryCodec(this),this.enumCodec=new BM.EnumBinaryCodec(this)}decodeTopLevel(e,t){return this.constraints.checkBufferLength(e),Ff.onTypeSelect(t,{onOption:()=>this.optionCodec.decodeTopLevel(e,t.getFirstTypeParameter()),onList:()=>this.listCodec.decodeTopLevel(e,t),onArray:()=>this.arrayCodec.decodeTopLevel(e,t),onPrimitive:()=>this.primitiveCodec.decodeTopLevel(e,t),onStruct:()=>this.structCodec.decodeTopLevel(e,t),onTuple:()=>this.tupleCodec.decodeTopLevel(e,t),onEnum:()=>this.enumCodec.decodeTopLevel(e,t)})}decodeNested(e,t){this.constraints.checkBufferLength(e);let[i,n]=Ff.onTypeSelect(t,{onOption:()=>this.optionCodec.decodeNested(e,t.getFirstTypeParameter()),onList:()=>this.listCodec.decodeNested(e,t),onArray:()=>this.arrayCodec.decodeNested(e,t),onPrimitive:()=>this.primitiveCodec.decodeNested(e,t),onStruct:()=>this.structCodec.decodeNested(e,t),onTuple:()=>this.tupleCodec.decodeNested(e,t),onEnum:()=>this.enumCodec.decodeNested(e,t)});return[i,n]}encodeNested(e){return UI.guardTrue(e.getType().getCardinality().isSingular(),"singular cardinality, thus encodable type"),Ff.onTypedValueSelect(e,{onPrimitive:()=>this.primitiveCodec.encodeNested(e),onOption:()=>this.optionCodec.encodeNested(e),onList:()=>this.listCodec.encodeNested(e),onArray:()=>this.arrayCodec.encodeNested(e),onStruct:()=>this.structCodec.encodeNested(e),onTuple:()=>this.tupleCodec.encodeNested(e),onEnum:()=>this.enumCodec.encodeNested(e)})}encodeTopLevel(e){return UI.guardTrue(e.getType().getCardinality().isSingular(),"singular cardinality, thus encodable type"),Ff.onTypedValueSelect(e,{onPrimitive:()=>this.primitiveCodec.encodeTopLevel(e),onOption:()=>this.optionCodec.encodeTopLevel(e),onList:()=>this.listCodec.encodeTopLevel(e),onArray:()=>this.arrayCodec.encodeTopLevel(e),onStruct:()=>this.structCodec.encodeTopLevel(e),onTuple:()=>this.tupleCodec.encodeTopLevel(e),onEnum:()=>this.enumCodec.encodeTopLevel(e)})}};Or.BinaryCodec=Kg;var Uf=class{constructor(e){this.maxBufferLength=e?.maxBufferLength||40960,this.maxListLength=e?.maxListLength||8192}checkBufferLength(e){if(e.length>this.maxBufferLength)throw new FI.ErrCodec(`Buffer too large: ${e.length} > ${this.maxBufferLength}`)}checkListLength(e){if(e>this.maxListLength)throw new FI.ErrCodec(`List too large: ${e} > ${this.maxListLength}`)}};Or.BinaryCodecConstraints=Uf});var qI=P(Br=>{"use strict";f();var RM=Br&&Br.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Br,"__esModule",{value:!0});Br.decodeBigNumber=Br.decodeString=Br.decodeBool=Br.decodeUnsignedNumber=void 0;var LM=RM(Qr()),qf=nr(),FM=zg(),Vf=new FM.BinaryCodec;function UM(r){let e=Vf.decodeTopLevel(r,new qf.BigUIntType);return Number(e.valueOf())}Br.decodeUnsignedNumber=UM;function qM(r){let e=Vf.decodeTopLevel(r,new qf.BooleanType);return Boolean(e.valueOf())}Br.decodeBool=qM;function VM(r){let e=Vf.decodeTopLevel(r,new qf.BytesType);return String(e.valueOf())}Br.decodeString=VM;function HM(r){let e=Vf.decodeTopLevel(r,new qf.BigUIntType);return new LM.default(e.valueOf())}Br.decodeBigNumber=HM});var HI=P(_n=>{"use strict";f();var QM=_n&&_n.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),VI=_n&&_n.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&QM(e,r,t)};Object.defineProperty(_n,"__esModule",{value:!0});VI(zg(),_n);VI(qI(),_n)});var Hf=P(bn=>{"use strict";f();Object.defineProperty(bn,"__esModule",{value:!0});bn.ArgSerializer=bn.ArgumentsSeparator=void 0;var jM=HI(),kg=rf(),$g=sf(),Wg=hf();bn.ArgumentsSeparator="@";var GM={codec:new jM.BinaryCodec},Yg=class{constructor(e){e=Object.assign(Object.assign({},GM),e),this.codec=e.codec}stringToValues(e,t){let i=this.stringToBuffers(e);return this.buffersToValues(i,t)}stringToBuffers(e){return e.split(bn.ArgumentsSeparator).map(t=>y.Buffer.from(t,"hex"))}buffersToValues(e,t){let i=this;e=e||[];let n=[],s=0,o=e.length;for(let p=0;p<t.length;p++){let D=t[p].type,O=a(D);n.push(O)}function a(p){if(p.hasExactClass(kg.OptionalType.ClassName)){let A=a(p.getFirstTypeParameter());return new kg.OptionalValue(p,A)}else if(p.hasExactClass(Wg.VariadicType.ClassName)){let A=[];for(;!h();)A.push(a(p.getFirstTypeParameter()));return new Wg.VariadicValue(p,A)}else if(p.hasExactClass($g.CompositeType.ClassName)){let A=[];for(let D of p.getTypeParameters())A.push(a(D));return new $g.CompositeValue(p,A)}else return c(p)}function c(p){if(h())return null;let A=e[s++];return i.codec.decodeTopLevel(A,p)}function h(){return s>=o}return n}valuesToString(e){let t=this.valuesToStrings(e),i=t.join(bn.ArgumentsSeparator),n=t.length;return{argumentsString:i,count:n}}valuesToStrings(e){return this.valuesToBuffers(e).map(n=>n.toString("hex"))}valuesToBuffers(e){let t=this,i=[];for(let s of e)n(s);function n(s){if(s.hasExactClass(kg.OptionalValue.ClassName)){let o=s;o.isSet()&&n(o.getTypedValue())}else if(s.hasExactClass(Wg.VariadicValue.ClassName)){let o=s;for(let a of o.getItems())n(a)}else if(s.hasExactClass($g.CompositeValue.ClassName)){let o=s;for(let a of o.getItems())n(a)}else{let o=t.codec.encodeTopLevel(s);i.push(o)}}return i}};bn.ArgSerializer=Yg});var iy=P(Kr=>{"use strict";f();Object.defineProperty(Kr,"__esModule",{value:!0});Kr.ContractCallPayloadBuilder=Kr.ContractUpgradePayloadBuilder=Kr.ContractDeployPayloadBuilder=Kr.ArwenVirtualMachine=void 0;var ey=nc(),ty=Tr(),KM=Hf();Kr.ArwenVirtualMachine="0500";var Jg=class{constructor(){this.code=null,this.codeMetadata="",this.arguments=[]}setCode(e){return this.code=e,this}setCodeMetadata(e){return this.codeMetadata=e,this}addInitArg(e){return this.arguments.push(e),this}setInitArgs(e){return this.arguments=e,this}build(){ty.guardValueIsSet("code",this.code);let e=this.code.toString(),t=this.codeMetadata.toString(),i=`${e}@${Kr.ArwenVirtualMachine}@${t}`;return i=ry(i,this.arguments),new ey.TransactionPayload(i)}};Kr.ContractDeployPayloadBuilder=Jg;var Xg=class{constructor(){this.code=null,this.codeMetadata="",this.arguments=[]}setCode(e){return this.code=e,this}setCodeMetadata(e){return this.codeMetadata=e,this}addInitArg(e){return this.arguments.push(e),this}setInitArgs(e){return this.arguments=e,this}build(){ty.guardValueIsSet("code",this.code);let e=this.code.toString(),t=this.codeMetadata.toString(),i=`upgradeContract@${e}@${t}`;return i=ry(i,this.arguments),new ey.TransactionPayload(i)}};Kr.ContractUpgradePayloadBuilder=Xg;var Zg=class{constructor(){this.contractFunction=null,this.arguments=[]}setFunction(e){return this.contractFunction=e,this}addArg(e){return this.arguments.push(e),this}setArgs(e){return this.arguments=e,this}build(){ty.guardValueIsSet("calledFunction",this.contractFunction);let e=this.contractFunction.name;return e=ry(e,this.arguments),new ey.TransactionPayload(e)}};Kr.ContractCallPayloadBuilder=Zg;function ry(r,e){let{argumentsString:t,count:i}=new KM.ArgSerializer().valuesToString(e);return i==0?r:`${r}@${t}`}});var nc=P(Qf=>{"use strict";f();Object.defineProperty(Qf,"__esModule",{value:!0});Qf.TransactionPayload=void 0;var ny=iy(),wa=class{constructor(e){this.data=y.Buffer.from(e||[])}static fromEncoded(e){if(!e)return new wa("");let t=y.Buffer.from(e,"base64").toString();return new wa(t)}isEmpty(){return this.data.length==0}encoded(){return this.data.toString("base64")}valueOf(){return this.data}toString(){return this.data.toString()}getEncodedArguments(){return this.toString().split("@")}getRawArguments(){return this.getEncodedArguments().map(e=>y.Buffer.from(e,"hex"))}length(){return y.Buffer.from(this.data).length}static contractDeploy(){return new ny.ContractDeployPayloadBuilder}static contractUpgrade(){return new ny.ContractUpgradePayloadBuilder}static contractCall(){return new ny.ContractCallPayloadBuilder}};Qf.TransactionPayload=wa});var GI=P(Cn=>{"use strict";f();Object.defineProperty(Cn,"__esModule",{value:!0});Cn.MultiESDTNFTTransferPayloadBuilder=Cn.ESDTNFTTransferPayloadBuilder=Cn.ESDTTransferPayloadBuilder=void 0;var QI=jr(),uy=Hf(),zr=nr(),jI=tg(),cy=nc(),sy=class{constructor(){this.payment=jI.TokenPayment.fungibleFromAmount("","0",0)}setPayment(e){return this.payment=e,this}build(){let e=[zr.BytesValue.fromUTF8(this.payment.tokenIdentifier),new zr.BigUIntValue(this.payment.valueOf())],{argumentsString:t}=new uy.ArgSerializer().valuesToString(e),i=`ESDTTransfer@${t}`;return new cy.TransactionPayload(i)}};Cn.ESDTTransferPayloadBuilder=sy;var oy=class{constructor(){this.payment=jI.TokenPayment.nonFungible("",0),this.destination=new QI.Address("")}setPayment(e){return this.payment=e,this}setDestination(e){return this.destination=e,this}build(){let e=[zr.BytesValue.fromUTF8(this.payment.tokenIdentifier),new zr.U64Value(this.payment.nonce),new zr.BigUIntValue(this.payment.valueOf()),new zr.AddressValue(this.destination)],{argumentsString:t}=new uy.ArgSerializer().valuesToString(e),i=`ESDTNFTTransfer@${t}`;return new cy.TransactionPayload(i)}};Cn.ESDTNFTTransferPayloadBuilder=oy;var ay=class{constructor(){this.payments=[],this.destination=new QI.Address("")}setPayments(e){return this.payments=e,this}setDestination(e){return this.destination=e,this}build(){let e=[new zr.AddressValue(this.destination),new zr.U16Value(this.payments.length)];for(let n of this.payments)e.push(zr.BytesValue.fromUTF8(n.tokenIdentifier),new zr.U64Value(n.nonce),new zr.BigUIntValue(n.valueOf()));let{argumentsString:t}=new uy.ArgSerializer().valuesToString(e),i=`MultiESDTNFTTransfer@${t}`;return new cy.TransactionPayload(i)}};Cn.MultiESDTNFTTransferPayloadBuilder=ay});var Gf=P(jf=>{"use strict";f();Object.defineProperty(jf,"__esModule",{value:!0});jf.Account=void 0;var zM=jr(),ly=class{constructor(e){this.address=new zM.Address,this.nonce=0,this.balance="0",this.address=e}update(e){this.nonce=e.nonce,this.balance=e.balance}incrementNonce(){this.nonce=this.nonce.valueOf()+1}getNonceThenIncrement(){let e=this.nonce;return this.nonce=this.nonce.valueOf()+1,e}toJSON(){return{address:this.address.bech32(),nonce:this.nonce.valueOf(),balance:this.balance.toString()}}};jf.Account=ly});var Kf=P(ot=>{"use strict";f();Object.defineProperty(ot,"__esModule",{value:!0});ot.ESDT_TRANSFER_VALUE=ot.MULTI_ESDTNFT_TRANSFER_FUNCTION_NAME=ot.ESDTNFT_TRANSFER_FUNCTION_NAME=ot.ESDT_TRANSFER_FUNCTION_NAME=ot.ESDT_TRANSFER_GAS_LIMIT=ot.TRANSACTION_VERSION_TX_HASH_SIGN=ot.TRANSACTION_VERSION_DEFAULT=ot.TRANSACTION_OPTIONS_TX_HASH_SIGN=ot.TRANSACTION_OPTIONS_DEFAULT=ot.TRANSACTION_MIN_GAS_PRICE=void 0;ot.TRANSACTION_MIN_GAS_PRICE=1e9;ot.TRANSACTION_OPTIONS_DEFAULT=0;ot.TRANSACTION_OPTIONS_TX_HASH_SIGN=1;ot.TRANSACTION_VERSION_DEFAULT=1;ot.TRANSACTION_VERSION_TX_HASH_SIGN=2;ot.ESDT_TRANSFER_GAS_LIMIT=5e5;ot.ESDT_TRANSFER_FUNCTION_NAME="ESDTTransfer";ot.ESDTNFT_TRANSFER_FUNCTION_NAME="ESDTNFTTransfer";ot.MULTI_ESDTNFT_TRANSFER_FUNCTION_NAME="MultiESDTNFTTransfer";ot.ESDT_TRANSFER_VALUE="0"});var KI=P(mi=>{"use strict";f();var kM=mi&&mi.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),$M=mi&&mi.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),WM=mi&&mi.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&kM(e,r,t);return $M(e,r),e};Object.defineProperty(mi,"__esModule",{value:!0});mi.Hash=void 0;var YM=WM(We()),sc=class{constructor(e){if(!e)this.hash=y.Buffer.from([]);else if(e instanceof y.Buffer)this.hash=e;else if(typeof e=="string")this.hash=y.Buffer.from(e,"hex");else throw new YM.ErrBadType("hash","buffer | string",e)}static empty(){return new sc(y.Buffer.from([]))}isEmpty(){return this.hash.length==0}toString(){return this.hex()}hex(){return this.hash.toString("hex")}valueOf(){return this.hash}};mi.Hash=sc});var kI=P(Pr=>{"use strict";f();var JM=Pr&&Pr.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),XM=Pr&&Pr.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),ZM=Pr&&Pr.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&JM(e,r,t);return XM(e,r),e};Object.defineProperty(Pr,"__esModule",{value:!0});Pr.TransactionOptions=Pr.TransactionVersion=void 0;var zI=ZM(We()),zf=Kf(),va=class{constructor(e){if(e=Number(e),e<1)throw new zI.ErrTransactionVersionInvalid(e);this.value=e}static withDefaultVersion(){return new va(zf.TRANSACTION_VERSION_DEFAULT)}static withTxHashSignVersion(){return new va(zf.TRANSACTION_VERSION_TX_HASH_SIGN)}valueOf(){return this.value}};Pr.TransactionVersion=va;var Ea=class{constructor(e){if(e=Number(e),e<0)throw new zI.ErrTransactionOptionsInvalid(e);this.value=e}static withDefaultOptions(){return new Ea(zf.TRANSACTION_OPTIONS_DEFAULT)}static withTxHashSignOptions(){return new Ea(zf.TRANSACTION_OPTIONS_TX_HASH_SIGN)}valueOf(){return this.value}};Pr.TransactionOptions=Ea});var WI=P((I$,$I)=>{"use strict";f();$I.exports=e5;function e5(r,e){for(var t=new Array(arguments.length-1),i=0,n=2,s=!0;n<arguments.length;)t[i++]=arguments[n++];return new Promise(function(a,c){t[i]=function(p){if(s)if(s=!1,p)c(p);else{for(var A=new Array(arguments.length-1),D=0;D<A.length;)A[D++]=arguments[D];a.apply(null,A)}};try{r.apply(e||null,t)}catch(h){s&&(s=!1,c(h))}})}});var ZI=P(XI=>{"use strict";f();var kf=XI;kf.length=function(e){var t=e.length;if(!t)return 0;for(var i=0;--t%4>1&&e.charAt(t)==="=";)++i;return Math.ceil(e.length*3)/4-i};var Aa=new Array(64),JI=new Array(123);for(kr=0;kr<64;)JI[Aa[kr]=kr<26?kr+65:kr<52?kr+71:kr<62?kr-4:kr-59|43]=kr++;var kr;kf.encode=function(e,t,i){for(var n=null,s=[],o=0,a=0,c;t<i;){var h=e[t++];switch(a){case 0:s[o++]=Aa[h>>2],c=(h&3)<<4,a=1;break;case 1:s[o++]=Aa[c|h>>4],c=(h&15)<<2,a=2;break;case 2:s[o++]=Aa[c|h>>6],s[o++]=Aa[h&63],a=0;break}o>8191&&((n||(n=[])).push(String.fromCharCode.apply(String,s)),o=0)}return a&&(s[o++]=Aa[c],s[o++]=61,a===1&&(s[o++]=61)),n?(o&&n.push(String.fromCharCode.apply(String,s.slice(0,o))),n.join("")):String.fromCharCode.apply(String,s.slice(0,o))};var YI="invalid encoding";kf.decode=function(e,t,i){for(var n=i,s=0,o,a=0;a<e.length;){var c=e.charCodeAt(a++);if(c===61&&s>1)break;if((c=JI[c])===void 0)throw Error(YI);switch(s){case 0:o=c,s=1;break;case 1:t[i++]=o<<2|(c&48)>>4,o=c,s=2;break;case 2:t[i++]=(o&15)<<4|(c&60)>>2,o=c,s=3;break;case 3:t[i++]=(o&3)<<6|c,s=0;break}}if(s===1)throw Error(YI);return i-n};kf.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}});var t_=P((x$,e_)=>{"use strict";f();e_.exports=$f;function $f(){this._listeners={}}$f.prototype.on=function(e,t,i){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:i||this}),this};$f.prototype.off=function(e,t){if(e===void 0)this._listeners={};else if(t===void 0)this._listeners[e]=[];else for(var i=this._listeners[e],n=0;n<i.length;)i[n].fn===t?i.splice(n,1):++n;return this};$f.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var i=[],n=1;n<arguments.length;)i.push(arguments[n++]);for(n=0;n<t.length;)t[n].fn.apply(t[n++].ctx,i)}return this}});var u_=P((T$,a_)=>{"use strict";f();a_.exports=r_(r_);function r_(r){return typeof Float32Array<"u"?function(){var e=new Float32Array([-0]),t=new Uint8Array(e.buffer),i=t[3]===128;function n(c,h,p){e[0]=c,h[p]=t[0],h[p+1]=t[1],h[p+2]=t[2],h[p+3]=t[3]}function s(c,h,p){e[0]=c,h[p]=t[3],h[p+1]=t[2],h[p+2]=t[1],h[p+3]=t[0]}r.writeFloatLE=i?n:s,r.writeFloatBE=i?s:n;function o(c,h){return t[0]=c[h],t[1]=c[h+1],t[2]=c[h+2],t[3]=c[h+3],e[0]}function a(c,h){return t[3]=c[h],t[2]=c[h+1],t[1]=c[h+2],t[0]=c[h+3],e[0]}r.readFloatLE=i?o:a,r.readFloatBE=i?a:o}():function(){function e(i,n,s,o){var a=n<0?1:0;if(a&&(n=-n),n===0)i(1/n>0?0:2147483648,s,o);else if(isNaN(n))i(2143289344,s,o);else if(n>34028234663852886e22)i((a<<31|2139095040)>>>0,s,o);else if(n<11754943508222875e-54)i((a<<31|Math.round(n/1401298464324817e-60))>>>0,s,o);else{var c=Math.floor(Math.log(n)/Math.LN2),h=Math.round(n*Math.pow(2,-c)*8388608)&8388607;i((a<<31|c+127<<23|h)>>>0,s,o)}}r.writeFloatLE=e.bind(null,i_),r.writeFloatBE=e.bind(null,n_);function t(i,n,s){var o=i(n,s),a=(o>>31)*2+1,c=o>>>23&255,h=o&8388607;return c===255?h?NaN:a*(1/0):c===0?a*1401298464324817e-60*h:a*Math.pow(2,c-150)*(h+8388608)}r.readFloatLE=t.bind(null,s_),r.readFloatBE=t.bind(null,o_)}(),typeof Float64Array<"u"?function(){var e=new Float64Array([-0]),t=new Uint8Array(e.buffer),i=t[7]===128;function n(c,h,p){e[0]=c,h[p]=t[0],h[p+1]=t[1],h[p+2]=t[2],h[p+3]=t[3],h[p+4]=t[4],h[p+5]=t[5],h[p+6]=t[6],h[p+7]=t[7]}function s(c,h,p){e[0]=c,h[p]=t[7],h[p+1]=t[6],h[p+2]=t[5],h[p+3]=t[4],h[p+4]=t[3],h[p+5]=t[2],h[p+6]=t[1],h[p+7]=t[0]}r.writeDoubleLE=i?n:s,r.writeDoubleBE=i?s:n;function o(c,h){return t[0]=c[h],t[1]=c[h+1],t[2]=c[h+2],t[3]=c[h+3],t[4]=c[h+4],t[5]=c[h+5],t[6]=c[h+6],t[7]=c[h+7],e[0]}function a(c,h){return t[7]=c[h],t[6]=c[h+1],t[5]=c[h+2],t[4]=c[h+3],t[3]=c[h+4],t[2]=c[h+5],t[1]=c[h+6],t[0]=c[h+7],e[0]}r.readDoubleLE=i?o:a,r.readDoubleBE=i?a:o}():function(){function e(i,n,s,o,a,c){var h=o<0?1:0;if(h&&(o=-o),o===0)i(0,a,c+n),i(1/o>0?0:2147483648,a,c+s);else if(isNaN(o))i(0,a,c+n),i(2146959360,a,c+s);else if(o>17976931348623157e292)i(0,a,c+n),i((h<<31|2146435072)>>>0,a,c+s);else{var p;if(o<22250738585072014e-324)p=o/5e-324,i(p>>>0,a,c+n),i((h<<31|p/4294967296)>>>0,a,c+s);else{var A=Math.floor(Math.log(o)/Math.LN2);A===1024&&(A=1023),p=o*Math.pow(2,-A),i(p*4503599627370496>>>0,a,c+n),i((h<<31|A+1023<<20|p*1048576&1048575)>>>0,a,c+s)}}}r.writeDoubleLE=e.bind(null,i_,0,4),r.writeDoubleBE=e.bind(null,n_,4,0);function t(i,n,s,o,a){var c=i(o,a+n),h=i(o,a+s),p=(h>>31)*2+1,A=h>>>20&2047,D=4294967296*(h&1048575)+c;return A===2047?D?NaN:p*(1/0):A===0?p*5e-324*D:p*Math.pow(2,A-1075)*(D+4503599627370496)}r.readDoubleLE=t.bind(null,s_,0,4),r.readDoubleBE=t.bind(null,o_,4,0)}(),r}function i_(r,e,t){e[t]=r&255,e[t+1]=r>>>8&255,e[t+2]=r>>>16&255,e[t+3]=r>>>24}function n_(r,e,t){e[t]=r>>>24,e[t+1]=r>>>16&255,e[t+2]=r>>>8&255,e[t+3]=r&255}function s_(r,e){return(r[e]|r[e+1]<<8|r[e+2]<<16|r[e+3]<<24)>>>0}function o_(r,e){return(r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3])>>>0}});var c_=P((exports,module)=>{"use strict";f();module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(r){}return null}});var f_=P(l_=>{"use strict";f();var fy=l_;fy.length=function(e){for(var t=0,i=0,n=0;n<e.length;++n)i=e.charCodeAt(n),i<128?t+=1:i<2048?t+=2:(i&64512)===55296&&(e.charCodeAt(n+1)&64512)===56320?(++n,t+=4):t+=3;return t};fy.read=function(e,t,i){var n=i-t;if(n<1)return"";for(var s=null,o=[],a=0,c;t<i;)c=e[t++],c<128?o[a++]=c:c>191&&c<224?o[a++]=(c&31)<<6|e[t++]&63:c>239&&c<365?(c=((c&7)<<18|(e[t++]&63)<<12|(e[t++]&63)<<6|e[t++]&63)-65536,o[a++]=55296+(c>>10),o[a++]=56320+(c&1023)):o[a++]=(c&15)<<12|(e[t++]&63)<<6|e[t++]&63,a>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,o)),a=0);return s?(a&&s.push(String.fromCharCode.apply(String,o.slice(0,a))),s.join("")):String.fromCharCode.apply(String,o.slice(0,a))};fy.write=function(e,t,i){for(var n=i,s,o,a=0;a<e.length;++a)s=e.charCodeAt(a),s<128?t[i++]=s:s<2048?(t[i++]=s>>6|192,t[i++]=s&63|128):(s&64512)===55296&&((o=e.charCodeAt(a+1))&64512)===56320?(s=65536+((s&1023)<<10)+(o&1023),++a,t[i++]=s>>18|240,t[i++]=s>>12&63|128,t[i++]=s>>6&63|128,t[i++]=s&63|128):(t[i++]=s>>12|224,t[i++]=s>>6&63|128,t[i++]=s&63|128);return i-n}});var d_=P((P$,h_)=>{"use strict";f();h_.exports=t5;function t5(r,e,t){var i=t||8192,n=i>>>1,s=null,o=i;return function(c){if(c<1||c>n)return r(c);o+c>i&&(s=r(i),o=0);var h=e.call(s,o,o+=c);return o&7&&(o=(o|7)+1),h}}});var g_=P((R$,p_)=>{"use strict";f();p_.exports=Kt;var oc=Sn();function Kt(r,e){this.lo=r>>>0,this.hi=e>>>0}var Vs=Kt.zero=new Kt(0,0);Vs.toNumber=function(){return 0};Vs.zzEncode=Vs.zzDecode=function(){return this};Vs.length=function(){return 1};var r5=Kt.zeroHash="\0\0\0\0\0\0\0\0";Kt.fromNumber=function(e){if(e===0)return Vs;var t=e<0;t&&(e=-e);var i=e>>>0,n=(e-i)/4294967296>>>0;return t&&(n=~n>>>0,i=~i>>>0,++i>4294967295&&(i=0,++n>4294967295&&(n=0))),new Kt(i,n)};Kt.from=function(e){if(typeof e=="number")return Kt.fromNumber(e);if(oc.isString(e))if(oc.Long)e=oc.Long.fromString(e);else return Kt.fromNumber(parseInt(e,10));return e.low||e.high?new Kt(e.low>>>0,e.high>>>0):Vs};Kt.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=~this.lo+1>>>0,i=~this.hi>>>0;return t||(i=i+1>>>0),-(t+i*4294967296)}return this.lo+this.hi*4294967296};Kt.prototype.toLong=function(e){return oc.Long?new oc.Long(this.lo|0,this.hi|0,Boolean(e)):{low:this.lo|0,high:this.hi|0,unsigned:Boolean(e)}};var xn=String.prototype.charCodeAt;Kt.fromHash=function(e){return e===r5?Vs:new Kt((xn.call(e,0)|xn.call(e,1)<<8|xn.call(e,2)<<16|xn.call(e,3)<<24)>>>0,(xn.call(e,4)|xn.call(e,5)<<8|xn.call(e,6)<<16|xn.call(e,7)<<24)>>>0)};Kt.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};Kt.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this};Kt.prototype.zzDecode=function(){var e=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this};Kt.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,i=this.hi>>>24;return i===0?t===0?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:i<128?9:10}});var Sn=P(hy=>{"use strict";f();var we=hy;we.asPromise=WI();we.base64=ZI();we.EventEmitter=t_();we.float=u_();we.inquire=c_();we.utf8=f_();we.pool=d_();we.LongBits=g_();we.isNode=Boolean(typeof global<"u"&&global&&global.process&&global.process.versions&&global.process.versions.node);we.global=we.isNode&&global||typeof window<"u"&&window||typeof self<"u"&&self||hy;we.emptyArray=Object.freeze?Object.freeze([]):[];we.emptyObject=Object.freeze?Object.freeze({}):{};we.isInteger=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};we.isString=function(e){return typeof e=="string"||e instanceof String};we.isObject=function(e){return e&&typeof e=="object"};we.isset=we.isSet=function(e,t){var i=e[t];return i!=null&&e.hasOwnProperty(t)?typeof i!="object"||(Array.isArray(i)?i.length:Object.keys(i).length)>0:!1};we.Buffer=function(){try{var r=we.inquire("buffer").Buffer;return r.prototype.utf8Write?r:null}catch{return null}}();we._Buffer_from=null;we._Buffer_allocUnsafe=null;we.newBuffer=function(e){return typeof e=="number"?we.Buffer?we._Buffer_allocUnsafe(e):new we.Array(e):we.Buffer?we._Buffer_from(e):typeof Uint8Array>"u"?e:new Uint8Array(e)};we.Array=typeof Uint8Array<"u"?Uint8Array:Array;we.Long=we.global.dcodeIO&&we.global.dcodeIO.Long||we.global.Long||we.inquire("long");we.key2Re=/^true|false|0|1$/;we.key32Re=/^-?(?:0|[1-9][0-9]*)$/;we.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;we.longToHash=function(e){return e?we.LongBits.from(e).toHash():we.LongBits.zeroHash};we.longFromHash=function(e,t){var i=we.LongBits.fromHash(e);return we.Long?we.Long.fromBits(i.lo,i.hi,t):i.toNumber(Boolean(t))};function y_(r,e,t){for(var i=Object.keys(e),n=0;n<i.length;++n)(r[i[n]]===void 0||!t)&&(r[i[n]]=e[i[n]]);return r}we.merge=y_;we.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)};function m_(r){function e(t,i){if(!(this instanceof e))return new e(t,i);Object.defineProperty(this,"message",{get:function(){return t}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:new Error().stack||""}),i&&y_(this,i)}return(e.prototype=Object.create(Error.prototype)).constructor=e,Object.defineProperty(e.prototype,"name",{get:function(){return r}}),e.prototype.toString=function(){return this.name+": "+this.message},e}we.newError=m_;we.ProtocolError=m_("ProtocolError");we.oneOfGetter=function(e){for(var t={},i=0;i<e.length;++i)t[e[i]]=1;return function(){for(var n=Object.keys(this),s=n.length-1;s>-1;--s)if(t[n[s]]===1&&this[n[s]]!==void 0&&this[n[s]]!==null)return n[s]}};we.oneOfSetter=function(e){return function(t){for(var i=0;i<e.length;++i)e[i]!==t&&delete this[e[i]]}};we.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};we._configure=function(){var r=we.Buffer;if(!r){we._Buffer_from=we._Buffer_allocUnsafe=null;return}we._Buffer_from=r.from!==Uint8Array.from&&r.from||function(t,i){return new r(t,i)},we._Buffer_allocUnsafe=r.allocUnsafe||function(t){return new r(t)}}});var vy=P((q$,A_)=>{"use strict";f();A_.exports=qe;var Mr=Sn(),dy,Wf=Mr.LongBits,w_=Mr.base64,v_=Mr.utf8;function ac(r,e,t){this.fn=r,this.len=e,this.next=void 0,this.val=t}function gy(){}function i5(r){this.head=r.head,this.tail=r.tail,this.len=r.len,this.next=r.states}function qe(){this.len=0,this.head=new ac(gy,0,0),this.tail=this.head,this.states=null}var E_=function(){return Mr.Buffer?function(){return(qe.create=function(){return new dy})()}:function(){return new qe}};qe.create=E_();qe.alloc=function(e){return new Mr.Array(e)};Mr.Array!==Array&&(qe.alloc=Mr.pool(qe.alloc,Mr.Array.prototype.subarray));qe.prototype._push=function(e,t,i){return this.tail=this.tail.next=new ac(e,t,i),this.len+=t,this};function yy(r,e,t){e[t]=r&255}function n5(r,e,t){for(;r>127;)e[t++]=r&127|128,r>>>=7;e[t]=r}function my(r,e){this.len=r,this.next=void 0,this.val=e}my.prototype=Object.create(ac.prototype);my.prototype.fn=n5;qe.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new my((e=e>>>0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this};qe.prototype.int32=function(e){return e<0?this._push(wy,10,Wf.fromNumber(e)):this.uint32(e)};qe.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)};function wy(r,e,t){for(;r.hi;)e[t++]=r.lo&127|128,r.lo=(r.lo>>>7|r.hi<<25)>>>0,r.hi>>>=7;for(;r.lo>127;)e[t++]=r.lo&127|128,r.lo=r.lo>>>7;e[t++]=r.lo}qe.prototype.uint64=function(e){var t=Wf.from(e);return this._push(wy,t.length(),t)};qe.prototype.int64=qe.prototype.uint64;qe.prototype.sint64=function(e){var t=Wf.from(e).zzEncode();return this._push(wy,t.length(),t)};qe.prototype.bool=function(e){return this._push(yy,1,e?1:0)};function py(r,e,t){e[t]=r&255,e[t+1]=r>>>8&255,e[t+2]=r>>>16&255,e[t+3]=r>>>24}qe.prototype.fixed32=function(e){return this._push(py,4,e>>>0)};qe.prototype.sfixed32=qe.prototype.fixed32;qe.prototype.fixed64=function(e){var t=Wf.from(e);return this._push(py,4,t.lo)._push(py,4,t.hi)};qe.prototype.sfixed64=qe.prototype.fixed64;qe.prototype.float=function(e){return this._push(Mr.float.writeFloatLE,4,e)};qe.prototype.double=function(e){return this._push(Mr.float.writeDoubleLE,8,e)};var s5=Mr.Array.prototype.set?function(e,t,i){t.set(e,i)}:function(e,t,i){for(var n=0;n<e.length;++n)t[i+n]=e[n]};qe.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(yy,1,0);if(Mr.isString(e)){var i=qe.alloc(t=w_.length(e));w_.decode(e,i,0),e=i}return this.uint32(t)._push(s5,t,e)};qe.prototype.string=function(e){var t=v_.length(e);return t?this.uint32(t)._push(v_.write,t,e):this._push(yy,1,0)};qe.prototype.fork=function(){return this.states=new i5(this),this.head=this.tail=new ac(gy,0,0),this.len=0,this};qe.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new ac(gy,0,0),this.len=0),this};qe.prototype.ldelim=function(){var e=this.head,t=this.tail,i=this.len;return this.reset().uint32(i),i&&(this.tail.next=e.next,this.tail=t,this.len+=i),this};qe.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),i=0;e;)e.fn(e.val,t,i),i+=e.len,e=e.next;return t};qe._configure=function(r){dy=r,qe.create=E_(),dy._configure()}});var b_=P((H$,__)=>{"use strict";f();__.exports=wi;var I_=vy();(wi.prototype=Object.create(I_.prototype)).constructor=wi;var Tn=Sn();function wi(){I_.call(this)}wi._configure=function(){wi.alloc=Tn._Buffer_allocUnsafe,wi.writeBytesBuffer=Tn.Buffer&&Tn.Buffer.prototype instanceof Uint8Array&&Tn.Buffer.prototype.set.name==="set"?function(e,t,i){t.set(e,i)}:function(e,t,i){if(e.copy)e.copy(t,i,0,e.length);else for(var n=0;n<e.length;)t[i++]=e[n++]}};wi.prototype.bytes=function(e){Tn.isString(e)&&(e=Tn._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(wi.writeBytesBuffer,t,e),this};function o5(r,e,t){r.length<40?Tn.utf8.write(r,e,t):e.utf8Write?e.utf8Write(r,t):e.write(r,t)}wi.prototype.string=function(e){var t=Tn.Buffer.byteLength(e);return this.uint32(t),t&&this._push(o5,t,e),this};wi._configure()});var Iy=P((j$,N_)=>{"use strict";f();N_.exports=ft;var vi=Sn(),Ay,S_=vi.LongBits,a5=vi.utf8;function $r(r,e){return RangeError("index out of range: "+r.pos+" + "+(e||1)+" > "+r.len)}function ft(r){this.buf=r,this.pos=0,this.len=r.length}var C_=typeof Uint8Array<"u"?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new ft(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new ft(e);throw Error("illegal buffer")},T_=function(){return vi.Buffer?function(t){return(ft.create=function(n){return vi.Buffer.isBuffer(n)?new Ay(n):C_(n)})(t)}:C_};ft.create=T_();ft.prototype._slice=vi.Array.prototype.subarray||vi.Array.prototype.slice;ft.prototype.uint32=function(){var e=4294967295;return function(){if(e=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(e=(e|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,$r(this,10);return e}}();ft.prototype.int32=function(){return this.uint32()|0};ft.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(e&1)|0};function Ey(){var r=new S_(0,0),e=0;if(this.len-this.pos>4){for(;e<4;++e)if(r.lo=(r.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return r;if(r.lo=(r.lo|(this.buf[this.pos]&127)<<28)>>>0,r.hi=(r.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return r;e=0}else{for(;e<3;++e){if(this.pos>=this.len)throw $r(this);if(r.lo=(r.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return r}return r.lo=(r.lo|(this.buf[this.pos++]&127)<<e*7)>>>0,r}if(this.len-this.pos>4){for(;e<5;++e)if(r.hi=(r.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return r}else for(;e<5;++e){if(this.pos>=this.len)throw $r(this);if(r.hi=(r.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return r}throw Error("invalid varint encoding")}ft.prototype.bool=function(){return this.uint32()!==0};function Yf(r,e){return(r[e-4]|r[e-3]<<8|r[e-2]<<16|r[e-1]<<24)>>>0}ft.prototype.fixed32=function(){if(this.pos+4>this.len)throw $r(this,4);return Yf(this.buf,this.pos+=4)};ft.prototype.sfixed32=function(){if(this.pos+4>this.len)throw $r(this,4);return Yf(this.buf,this.pos+=4)|0};function x_(){if(this.pos+8>this.len)throw $r(this,8);return new S_(Yf(this.buf,this.pos+=4),Yf(this.buf,this.pos+=4))}ft.prototype.float=function(){if(this.pos+4>this.len)throw $r(this,4);var e=vi.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e};ft.prototype.double=function(){if(this.pos+8>this.len)throw $r(this,4);var e=vi.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e};ft.prototype.bytes=function(){var e=this.uint32(),t=this.pos,i=this.pos+e;if(i>this.len)throw $r(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,i):t===i?new this.buf.constructor(0):this._slice.call(this.buf,t,i)};ft.prototype.string=function(){var e=this.bytes();return a5.read(e,0,e.length)};ft.prototype.skip=function(e){if(typeof e=="number"){if(this.pos+e>this.len)throw $r(this,e);this.pos+=e}else do if(this.pos>=this.len)throw $r(this);while(this.buf[this.pos++]&128);return this};ft.prototype.skipType=function(r){switch(r){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(r=this.uint32()&7)!==4;)this.skipType(r);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+r+" at offset "+this.pos)}return this};ft._configure=function(r){Ay=r,ft.create=T_(),Ay._configure();var e=vi.Long?"toLong":"toNumber";vi.merge(ft.prototype,{int64:function(){return Ey.call(this)[e](!1)},uint64:function(){return Ey.call(this)[e](!0)},sint64:function(){return Ey.call(this).zzDecode()[e](!1)},fixed64:function(){return x_.call(this)[e](!0)},sfixed64:function(){return x_.call(this)[e](!1)}})}});var P_=P((K$,B_)=>{"use strict";f();B_.exports=Hs;var O_=Iy();(Hs.prototype=Object.create(O_.prototype)).constructor=Hs;var D_=Sn();function Hs(r){O_.call(this,r)}Hs._configure=function(){D_.Buffer&&(Hs.prototype._slice=D_.Buffer.prototype.slice)};Hs.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))};Hs._configure()});var R_=P((k$,M_)=>{"use strict";f();M_.exports=uc;var _y=Sn();(uc.prototype=Object.create(_y.EventEmitter.prototype)).constructor=uc;function uc(r,e,t){if(typeof r!="function")throw TypeError("rpcImpl must be a function");_y.EventEmitter.call(this),this.rpcImpl=r,this.requestDelimited=Boolean(e),this.responseDelimited=Boolean(t)}uc.prototype.rpcCall=function r(e,t,i,n,s){if(!n)throw TypeError("request must be specified");var o=this;if(!s)return _y.asPromise(r,o,e,t,i,n);if(!o.rpcImpl){setTimeout(function(){s(Error("already ended"))},0);return}try{return o.rpcImpl(e,t[o.requestDelimited?"encodeDelimited":"encode"](n).finish(),function(c,h){if(c)return o.emit("error",c,e),s(c);if(h===null){o.end(!0);return}if(!(h instanceof i))try{h=i[o.responseDelimited?"decodeDelimited":"decode"](h)}catch(p){return o.emit("error",p,e),s(p)}return o.emit("data",h,e),s(null,h)})}catch(a){o.emit("error",a,e),setTimeout(function(){s(a)},0);return}};uc.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}});var F_=P(L_=>{"use strict";f();var u5=L_;u5.Service=R_()});var q_=P((J$,U_)=>{"use strict";f();U_.exports={}});var Q_=P(H_=>{"use strict";f();var pr=H_;pr.build="minimal";pr.Writer=vy();pr.BufferWriter=b_();pr.Reader=Iy();pr.BufferReader=P_();pr.util=Sn();pr.rpc=F_();pr.roots=q_();pr.configure=V_;function V_(){pr.util._configure(),pr.Writer._configure(pr.BufferWriter),pr.Reader._configure(pr.BufferReader)}V_()});var G_=P((tW,j_)=>{"use strict";f();j_.exports=Q_()});var z_=P((iW,K_)=>{"use strict";f();var Ia=G_(),Jf=Ia.Reader,c5=Ia.Writer,le=Ia.util,cc=Ia.roots.default||(Ia.roots.default={});cc.proto=function(){var r={};return r.Transaction=function(){function e(t){if(t)for(var i=Object.keys(t),n=0;n<i.length;++n)t[i[n]]!=null&&(this[i[n]]=t[i[n]])}return e.prototype.Nonce=le.Long?le.Long.fromBits(0,0,!0):0,e.prototype.Value=le.newBuffer([]),e.prototype.RcvAddr=le.newBuffer([]),e.prototype.RcvUserName=le.newBuffer([]),e.prototype.SndAddr=le.newBuffer([]),e.prototype.SndUserName=le.newBuffer([]),e.prototype.GasPrice=le.Long?le.Long.fromBits(0,0,!0):0,e.prototype.GasLimit=le.Long?le.Long.fromBits(0,0,!0):0,e.prototype.Data=le.newBuffer([]),e.prototype.ChainID=le.newBuffer([]),e.prototype.Version=0,e.prototype.Signature=le.newBuffer([]),e.prototype.Options=0,e.create=function(i){return new e(i)},e.encode=function(i,n){return n||(n=c5.create()),i.Nonce!=null&&Object.hasOwnProperty.call(i,"Nonce")&&n.uint32(8).uint64(i.Nonce),i.Value!=null&&Object.hasOwnProperty.call(i,"Value")&&n.uint32(18).bytes(i.Value),i.RcvAddr!=null&&Object.hasOwnProperty.call(i,"RcvAddr")&&n.uint32(26).bytes(i.RcvAddr),i.RcvUserName!=null&&Object.hasOwnProperty.call(i,"RcvUserName")&&n.uint32(34).bytes(i.RcvUserName),i.SndAddr!=null&&Object.hasOwnProperty.call(i,"SndAddr")&&n.uint32(42).bytes(i.SndAddr),i.SndUserName!=null&&Object.hasOwnProperty.call(i,"SndUserName")&&n.uint32(50).bytes(i.SndUserName),i.GasPrice!=null&&Object.hasOwnProperty.call(i,"GasPrice")&&n.uint32(56).uint64(i.GasPrice),i.GasLimit!=null&&Object.hasOwnProperty.call(i,"GasLimit")&&n.uint32(64).uint64(i.GasLimit),i.Data!=null&&Object.hasOwnProperty.call(i,"Data")&&n.uint32(74).bytes(i.Data),i.ChainID!=null&&Object.hasOwnProperty.call(i,"ChainID")&&n.uint32(82).bytes(i.ChainID),i.Version!=null&&Object.hasOwnProperty.call(i,"Version")&&n.uint32(88).uint32(i.Version),i.Signature!=null&&Object.hasOwnProperty.call(i,"Signature")&&n.uint32(98).bytes(i.Signature),i.Options!=null&&Object.hasOwnProperty.call(i,"Options")&&n.uint32(104).uint32(i.Options),n},e.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},e.decode=function(i,n){i instanceof Jf||(i=Jf.create(i));for(var s=n===void 0?i.len:i.pos+n,o=new cc.proto.Transaction;i.pos<s;){var a=i.uint32();switch(a>>>3){case 1:o.Nonce=i.uint64();break;case 2:o.Value=i.bytes();break;case 3:o.RcvAddr=i.bytes();break;case 4:o.RcvUserName=i.bytes();break;case 5:o.SndAddr=i.bytes();break;case 6:o.SndUserName=i.bytes();break;case 7:o.GasPrice=i.uint64();break;case 8:o.GasLimit=i.uint64();break;case 9:o.Data=i.bytes();break;case 10:o.ChainID=i.bytes();break;case 11:o.Version=i.uint32();break;case 12:o.Signature=i.bytes();break;case 13:o.Options=i.uint32();break;default:i.skipType(a&7);break}}return o},e.decodeDelimited=function(i){return i instanceof Jf||(i=new Jf(i)),this.decode(i,i.uint32())},e.verify=function(i){return typeof i!="object"||i===null?"object expected":i.Nonce!=null&&i.hasOwnProperty("Nonce")&&!le.isInteger(i.Nonce)&&!(i.Nonce&&le.isInteger(i.Nonce.low)&&le.isInteger(i.Nonce.high))?"Nonce: integer|Long expected":i.Value!=null&&i.hasOwnProperty("Value")&&!(i.Value&&typeof i.Value.length=="number"||le.isString(i.Value))?"Value: buffer expected":i.RcvAddr!=null&&i.hasOwnProperty("RcvAddr")&&!(i.RcvAddr&&typeof i.RcvAddr.length=="number"||le.isString(i.RcvAddr))?"RcvAddr: buffer expected":i.RcvUserName!=null&&i.hasOwnProperty("RcvUserName")&&!(i.RcvUserName&&typeof i.RcvUserName.length=="number"||le.isString(i.RcvUserName))?"RcvUserName: buffer expected":i.SndAddr!=null&&i.hasOwnProperty("SndAddr")&&!(i.SndAddr&&typeof i.SndAddr.length=="number"||le.isString(i.SndAddr))?"SndAddr: buffer expected":i.SndUserName!=null&&i.hasOwnProperty("SndUserName")&&!(i.SndUserName&&typeof i.SndUserName.length=="number"||le.isString(i.SndUserName))?"SndUserName: buffer expected":i.GasPrice!=null&&i.hasOwnProperty("GasPrice")&&!le.isInteger(i.GasPrice)&&!(i.GasPrice&&le.isInteger(i.GasPrice.low)&&le.isInteger(i.GasPrice.high))?"GasPrice: integer|Long expected":i.GasLimit!=null&&i.hasOwnProperty("GasLimit")&&!le.isInteger(i.GasLimit)&&!(i.GasLimit&&le.isInteger(i.GasLimit.low)&&le.isInteger(i.GasLimit.high))?"GasLimit: integer|Long expected":i.Data!=null&&i.hasOwnProperty("Data")&&!(i.Data&&typeof i.Data.length=="number"||le.isString(i.Data))?"Data: buffer expected":i.ChainID!=null&&i.hasOwnProperty("ChainID")&&!(i.ChainID&&typeof i.ChainID.length=="number"||le.isString(i.ChainID))?"ChainID: buffer expected":i.Version!=null&&i.hasOwnProperty("Version")&&!le.isInteger(i.Version)?"Version: integer expected":i.Signature!=null&&i.hasOwnProperty("Signature")&&!(i.Signature&&typeof i.Signature.length=="number"||le.isString(i.Signature))?"Signature: buffer expected":i.Options!=null&&i.hasOwnProperty("Options")&&!le.isInteger(i.Options)?"Options: integer expected":null},e.fromObject=function(i){if(i instanceof cc.proto.Transaction)return i;var n=new cc.proto.Transaction;return i.Nonce!=null&&(le.Long?(n.Nonce=le.Long.fromValue(i.Nonce)).unsigned=!0:typeof i.Nonce=="string"?n.Nonce=parseInt(i.Nonce,10):typeof i.Nonce=="number"?n.Nonce=i.Nonce:typeof i.Nonce=="object"&&(n.Nonce=new le.LongBits(i.Nonce.low>>>0,i.Nonce.high>>>0).toNumber(!0))),i.Value!=null&&(typeof i.Value=="string"?le.base64.decode(i.Value,n.Value=le.newBuffer(le.base64.length(i.Value)),0):i.Value.length&&(n.Value=i.Value)),i.RcvAddr!=null&&(typeof i.RcvAddr=="string"?le.base64.decode(i.RcvAddr,n.RcvAddr=le.newBuffer(le.base64.length(i.RcvAddr)),0):i.RcvAddr.length&&(n.RcvAddr=i.RcvAddr)),i.RcvUserName!=null&&(typeof i.RcvUserName=="string"?le.base64.decode(i.RcvUserName,n.RcvUserName=le.newBuffer(le.base64.length(i.RcvUserName)),0):i.RcvUserName.length&&(n.RcvUserName=i.RcvUserName)),i.SndAddr!=null&&(typeof i.SndAddr=="string"?le.base64.decode(i.SndAddr,n.SndAddr=le.newBuffer(le.base64.length(i.SndAddr)),0):i.SndAddr.length&&(n.SndAddr=i.SndAddr)),i.SndUserName!=null&&(typeof i.SndUserName=="string"?le.base64.decode(i.SndUserName,n.SndUserName=le.newBuffer(le.base64.length(i.SndUserName)),0):i.SndUserName.length&&(n.SndUserName=i.SndUserName)),i.GasPrice!=null&&(le.Long?(n.GasPrice=le.Long.fromValue(i.GasPrice)).unsigned=!0:typeof i.GasPrice=="string"?n.GasPrice=parseInt(i.GasPrice,10):typeof i.GasPrice=="number"?n.GasPrice=i.GasPrice:typeof i.GasPrice=="object"&&(n.GasPrice=new le.LongBits(i.GasPrice.low>>>0,i.GasPrice.high>>>0).toNumber(!0))),i.GasLimit!=null&&(le.Long?(n.GasLimit=le.Long.fromValue(i.GasLimit)).unsigned=!0:typeof i.GasLimit=="string"?n.GasLimit=parseInt(i.GasLimit,10):typeof i.GasLimit=="number"?n.GasLimit=i.GasLimit:typeof i.GasLimit=="object"&&(n.GasLimit=new le.LongBits(i.GasLimit.low>>>0,i.GasLimit.high>>>0).toNumber(!0))),i.Data!=null&&(typeof i.Data=="string"?le.base64.decode(i.Data,n.Data=le.newBuffer(le.base64.length(i.Data)),0):i.Data.length&&(n.Data=i.Data)),i.ChainID!=null&&(typeof i.ChainID=="string"?le.base64.decode(i.ChainID,n.ChainID=le.newBuffer(le.base64.length(i.ChainID)),0):i.ChainID.length&&(n.ChainID=i.ChainID)),i.Version!=null&&(n.Version=i.Version>>>0),i.Signature!=null&&(typeof i.Signature=="string"?le.base64.decode(i.Signature,n.Signature=le.newBuffer(le.base64.length(i.Signature)),0):i.Signature.length&&(n.Signature=i.Signature)),i.Options!=null&&(n.Options=i.Options>>>0),n},e.toObject=function(i,n){n||(n={});var s={};if(n.defaults){if(le.Long){var o=new le.Long(0,0,!0);s.Nonce=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else s.Nonce=n.longs===String?"0":0;if(n.bytes===String?s.Value="":(s.Value=[],n.bytes!==Array&&(s.Value=le.newBuffer(s.Value))),n.bytes===String?s.RcvAddr="":(s.RcvAddr=[],n.bytes!==Array&&(s.RcvAddr=le.newBuffer(s.RcvAddr))),n.bytes===String?s.RcvUserName="":(s.RcvUserName=[],n.bytes!==Array&&(s.RcvUserName=le.newBuffer(s.RcvUserName))),n.bytes===String?s.SndAddr="":(s.SndAddr=[],n.bytes!==Array&&(s.SndAddr=le.newBuffer(s.SndAddr))),n.bytes===String?s.SndUserName="":(s.SndUserName=[],n.bytes!==Array&&(s.SndUserName=le.newBuffer(s.SndUserName))),le.Long){var o=new le.Long(0,0,!0);s.GasPrice=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else s.GasPrice=n.longs===String?"0":0;if(le.Long){var o=new le.Long(0,0,!0);s.GasLimit=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else s.GasLimit=n.longs===String?"0":0;n.bytes===String?s.Data="":(s.Data=[],n.bytes!==Array&&(s.Data=le.newBuffer(s.Data))),n.bytes===String?s.ChainID="":(s.ChainID=[],n.bytes!==Array&&(s.ChainID=le.newBuffer(s.ChainID))),s.Version=0,n.bytes===String?s.Signature="":(s.Signature=[],n.bytes!==Array&&(s.Signature=le.newBuffer(s.Signature))),s.Options=0}return i.Nonce!=null&&i.hasOwnProperty("Nonce")&&(typeof i.Nonce=="number"?s.Nonce=n.longs===String?String(i.Nonce):i.Nonce:s.Nonce=n.longs===String?le.Long.prototype.toString.call(i.Nonce):n.longs===Number?new le.LongBits(i.Nonce.low>>>0,i.Nonce.high>>>0).toNumber(!0):i.Nonce),i.Value!=null&&i.hasOwnProperty("Value")&&(s.Value=n.bytes===String?le.base64.encode(i.Value,0,i.Value.length):n.bytes===Array?Array.prototype.slice.call(i.Value):i.Value),i.RcvAddr!=null&&i.hasOwnProperty("RcvAddr")&&(s.RcvAddr=n.bytes===String?le.base64.encode(i.RcvAddr,0,i.RcvAddr.length):n.bytes===Array?Array.prototype.slice.call(i.RcvAddr):i.RcvAddr),i.RcvUserName!=null&&i.hasOwnProperty("RcvUserName")&&(s.RcvUserName=n.bytes===String?le.base64.encode(i.RcvUserName,0,i.RcvUserName.length):n.bytes===Array?Array.prototype.slice.call(i.RcvUserName):i.RcvUserName),i.SndAddr!=null&&i.hasOwnProperty("SndAddr")&&(s.SndAddr=n.bytes===String?le.base64.encode(i.SndAddr,0,i.SndAddr.length):n.bytes===Array?Array.prototype.slice.call(i.SndAddr):i.SndAddr),i.SndUserName!=null&&i.hasOwnProperty("SndUserName")&&(s.SndUserName=n.bytes===String?le.base64.encode(i.SndUserName,0,i.SndUserName.length):n.bytes===Array?Array.prototype.slice.call(i.SndUserName):i.SndUserName),i.GasPrice!=null&&i.hasOwnProperty("GasPrice")&&(typeof i.GasPrice=="number"?s.GasPrice=n.longs===String?String(i.GasPrice):i.GasPrice:s.GasPrice=n.longs===String?le.Long.prototype.toString.call(i.GasPrice):n.longs===Number?new le.LongBits(i.GasPrice.low>>>0,i.GasPrice.high>>>0).toNumber(!0):i.GasPrice),i.GasLimit!=null&&i.hasOwnProperty("GasLimit")&&(typeof i.GasLimit=="number"?s.GasLimit=n.longs===String?String(i.GasLimit):i.GasLimit:s.GasLimit=n.longs===String?le.Long.prototype.toString.call(i.GasLimit):n.longs===Number?new le.LongBits(i.GasLimit.low>>>0,i.GasLimit.high>>>0).toNumber(!0):i.GasLimit),i.Data!=null&&i.hasOwnProperty("Data")&&(s.Data=n.bytes===String?le.base64.encode(i.Data,0,i.Data.length):n.bytes===Array?Array.prototype.slice.call(i.Data):i.Data),i.ChainID!=null&&i.hasOwnProperty("ChainID")&&(s.ChainID=n.bytes===String?le.base64.encode(i.ChainID,0,i.ChainID.length):n.bytes===Array?Array.prototype.slice.call(i.ChainID):i.ChainID),i.Version!=null&&i.hasOwnProperty("Version")&&(s.Version=i.Version),i.Signature!=null&&i.hasOwnProperty("Signature")&&(s.Signature=n.bytes===String?le.base64.encode(i.Signature,0,i.Signature.length):n.bytes===Array?Array.prototype.slice.call(i.Signature):i.Signature),i.Options!=null&&i.hasOwnProperty("Options")&&(s.Options=i.Options),s},e.prototype.toJSON=function(){return this.constructor.toObject(this,Ia.util.toJSONOptions)},e}(),r}();K_.exports=cc});var W_=P(Rr=>{"use strict";f();var l5=Rr&&Rr.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),f5=Rr&&Rr.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),h5=Rr&&Rr.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&l5(e,r,t);return f5(e,r),e},d5=Rr&&Rr.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Rr,"__esModule",{value:!0});Rr.ProtoSerializer=void 0;var p5=d5(Qr()),k_=jr(),g5=Kf(),y5=h5(We()),m5=Tg(),$_=z_(),by=class{serializeTransaction(e){let t=new k_.Address(e.getReceiver().bech32()).pubkey(),i=new k_.Address(e.getSender().bech32()).pubkey(),n=new $_.proto.Transaction({Nonce:e.getNonce().valueOf()?e.getNonce().valueOf():void 0,Value:this.serializeTransactionValue(e.getValue()),RcvAddr:t,RcvUserName:null,SndAddr:i,SndUserName:null,GasPrice:e.getGasPrice().valueOf(),GasLimit:e.getGasLimit().valueOf(),Data:e.getData().length()==0?null:e.getData().valueOf(),ChainID:y.Buffer.from(e.getChainID().valueOf()),Version:e.getVersion().valueOf(),Signature:y.Buffer.from(e.getSignature().hex(),"hex")});e.getOptions().valueOf()!==g5.TRANSACTION_OPTIONS_DEFAULT&&(n.Options=e.getOptions().valueOf());let s=$_.proto.Transaction.encode(n).finish();return y.Buffer.from(s)}serializeTransactionValue(e){let t=new p5.default(e.toString());if(t.isZero())return y.Buffer.from([0,0]);let i=m5.bigIntToBuffer(t);return i=y.Buffer.concat([y.Buffer.from([0]),i]),i}deserializeTransaction(e){throw new y5.ErrUnsupportedOperation("deserializeTransaction")}};Rr.ProtoSerializer=by});var Y_=P(Qs=>{"use strict";f();var w5=Qs&&Qs.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),v5=Qs&&Qs.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&w5(e,r,t)};Object.defineProperty(Qs,"__esModule",{value:!0});v5(W_(),Qs)});var Z_=P(Ei=>{"use strict";f();var E5=Ei&&Ei.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),A5=Ei&&Ei.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),I5=Ei&&Ei.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&E5(e,r,t);return A5(e,r),e};Object.defineProperty(Ei,"__esModule",{value:!0});Ei.Signature=void 0;var J_=I5(We()),X_=64,Wr=class{constructor(e){if(this.valueHex="",!!e){if(typeof e=="string")return Wr.fromHex(e);if(e instanceof y.Buffer)return Wr.fromBuffer(e)}}static empty(){return new Wr}static fromHex(e){if(e.startsWith("0x")&&(e=e.slice(2)),!Wr.isValidHex(e))throw new J_.ErrSignatureCannotCreate(e);return Wr.fromValidHex(e)}static isValidHex(e){return y.Buffer.from(e,"hex").length==X_}static fromValidHex(e){let t=new Wr;return t.valueHex=e,t}static fromBuffer(e){if(e.length!=X_)throw new J_.ErrSignatureCannotCreate(e);return Wr.fromValidHex(e.toString("hex"))}hex(){return this.valueHex}};Ei.Signature=Wr});var Cy=P((fW,eb)=>{f();$i.notEqual=b5;$i.notOk=C5;$i.equal=_5;$i.ok=$i;eb.exports=$i;function _5(r,e,t){$i(r==e,t)}function b5(r,e,t){$i(r!=e,t)}function C5(r,e){$i(!r,e)}function $i(r,e){if(!r)throw new Error(e||"AssertionError")}});var mb=P(xa=>{"use strict";f();var xy=h0(),ba=p0(),tb=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;xa.Buffer=re;xa.SlowBuffer=O5;xa.INSPECT_MAX_BYTES=50;var Xf=2147483647;xa.kMaxLength=Xf;re.TYPED_ARRAY_SUPPORT=x5();!re.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function x5(){try{let r=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(r,e),r.foo()===42}catch{return!1}}Object.defineProperty(re.prototype,"parent",{enumerable:!0,get:function(){if(re.isBuffer(this))return this.buffer}});Object.defineProperty(re.prototype,"offset",{enumerable:!0,get:function(){if(re.isBuffer(this))return this.byteOffset}});function Wi(r){if(r>Xf)throw new RangeError('The value "'+r+'" is invalid for option "size"');let e=new Uint8Array(r);return Object.setPrototypeOf(e,re.prototype),e}function re(r,e,t){if(typeof r=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Dy(r)}return sb(r,e,t)}re.poolSize=8192;function sb(r,e,t){if(typeof r=="string")return T5(r,e);if(ArrayBuffer.isView(r))return N5(r);if(r==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r);if(Ai(r,ArrayBuffer)||r&&Ai(r.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ai(r,SharedArrayBuffer)||r&&Ai(r.buffer,SharedArrayBuffer)))return Ty(r,e,t);if(typeof r=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let i=r.valueOf&&r.valueOf();if(i!=null&&i!==r)return re.from(i,e,t);let n=D5(r);if(n)return n;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof r[Symbol.toPrimitive]=="function")return re.from(r[Symbol.toPrimitive]("string"),e,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r)}re.from=function(r,e,t){return sb(r,e,t)};Object.setPrototypeOf(re.prototype,Uint8Array.prototype);Object.setPrototypeOf(re,Uint8Array);function ob(r){if(typeof r!="number")throw new TypeError('"size" argument must be of type number');if(r<0)throw new RangeError('The value "'+r+'" is invalid for option "size"')}function S5(r,e,t){return ob(r),r<=0?Wi(r):e!==void 0?typeof t=="string"?Wi(r).fill(e,t):Wi(r).fill(e):Wi(r)}re.alloc=function(r,e,t){return S5(r,e,t)};function Dy(r){return ob(r),Wi(r<0?0:Oy(r)|0)}re.allocUnsafe=function(r){return Dy(r)};re.allocUnsafeSlow=function(r){return Dy(r)};function T5(r,e){if((typeof e!="string"||e==="")&&(e="utf8"),!re.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let t=ab(r,e)|0,i=Wi(t),n=i.write(r,e);return n!==t&&(i=i.slice(0,n)),i}function Sy(r){let e=r.length<0?0:Oy(r.length)|0,t=Wi(e);for(let i=0;i<e;i+=1)t[i]=r[i]&255;return t}function N5(r){if(Ai(r,Uint8Array)){let e=new Uint8Array(r);return Ty(e.buffer,e.byteOffset,e.byteLength)}return Sy(r)}function Ty(r,e,t){if(e<0||r.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(r.byteLength<e+(t||0))throw new RangeError('"length" is outside of buffer bounds');let i;return e===void 0&&t===void 0?i=new Uint8Array(r):t===void 0?i=new Uint8Array(r,e):i=new Uint8Array(r,e,t),Object.setPrototypeOf(i,re.prototype),i}function D5(r){if(re.isBuffer(r)){let e=Oy(r.length)|0,t=Wi(e);return t.length===0||r.copy(t,0,0,e),t}if(r.length!==void 0)return typeof r.length!="number"||Py(r.length)?Wi(0):Sy(r);if(r.type==="Buffer"&&Array.isArray(r.data))return Sy(r.data)}function Oy(r){if(r>=Xf)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Xf.toString(16)+" bytes");return r|0}function O5(r){return+r!=r&&(r=0),re.alloc(+r)}re.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==re.prototype};re.compare=function(e,t){if(Ai(e,Uint8Array)&&(e=re.from(e,e.offset,e.byteLength)),Ai(t,Uint8Array)&&(t=re.from(t,t.offset,t.byteLength)),!re.isBuffer(e)||!re.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let i=e.length,n=t.length;for(let s=0,o=Math.min(i,n);s<o;++s)if(e[s]!==t[s]){i=e[s],n=t[s];break}return i<n?-1:n<i?1:0};re.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};re.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return re.alloc(0);let i;if(t===void 0)for(t=0,i=0;i<e.length;++i)t+=e[i].length;let n=re.allocUnsafe(t),s=0;for(i=0;i<e.length;++i){let o=e[i];if(Ai(o,Uint8Array))s+o.length>n.length?(re.isBuffer(o)||(o=re.from(o)),o.copy(n,s)):Uint8Array.prototype.set.call(n,o,s);else if(re.isBuffer(o))o.copy(n,s);else throw new TypeError('"list" argument must be an Array of Buffers');s+=o.length}return n};function ab(r,e){if(re.isBuffer(r))return r.length;if(ArrayBuffer.isView(r)||Ai(r,ArrayBuffer))return r.byteLength;if(typeof r!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof r);let t=r.length,i=arguments.length>2&&arguments[2]===!0;if(!i&&t===0)return 0;let n=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return Ny(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return yb(r).length;default:if(n)return i?-1:Ny(r).length;e=(""+e).toLowerCase(),n=!0}}re.byteLength=ab;function B5(r,e,t){let i=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,e>>>=0,t<=e))return"";for(r||(r="utf8");;)switch(r){case"hex":return Q5(this,e,t);case"utf8":case"utf-8":return cb(this,e,t);case"ascii":return V5(this,e,t);case"latin1":case"binary":return H5(this,e,t);case"base64":return U5(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j5(this,e,t);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),i=!0}}re.prototype._isBuffer=!0;function js(r,e,t){let i=r[e];r[e]=r[t],r[t]=i}re.prototype.swap16=function(){let e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)js(this,t,t+1);return this};re.prototype.swap32=function(){let e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)js(this,t,t+3),js(this,t+1,t+2);return this};re.prototype.swap64=function(){let e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)js(this,t,t+7),js(this,t+1,t+6),js(this,t+2,t+5),js(this,t+3,t+4);return this};re.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?cb(this,0,e):B5.apply(this,arguments)};re.prototype.toLocaleString=re.prototype.toString;re.prototype.equals=function(e){if(!re.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:re.compare(this,e)===0};re.prototype.inspect=function(){let e="",t=xa.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"};tb&&(re.prototype[tb]=re.prototype.inspect);re.prototype.compare=function(e,t,i,n,s){if(Ai(e,Uint8Array)&&(e=re.from(e,e.offset,e.byteLength)),!re.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),i===void 0&&(i=e?e.length:0),n===void 0&&(n=0),s===void 0&&(s=this.length),t<0||i>e.length||n<0||s>this.length)throw new RangeError("out of range index");if(n>=s&&t>=i)return 0;if(n>=s)return-1;if(t>=i)return 1;if(t>>>=0,i>>>=0,n>>>=0,s>>>=0,this===e)return 0;let o=s-n,a=i-t,c=Math.min(o,a),h=this.slice(n,s),p=e.slice(t,i);for(let A=0;A<c;++A)if(h[A]!==p[A]){o=h[A],a=p[A];break}return o<a?-1:a<o?1:0};function ub(r,e,t,i,n){if(r.length===0)return-1;if(typeof t=="string"?(i=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,Py(t)&&(t=n?0:r.length-1),t<0&&(t=r.length+t),t>=r.length){if(n)return-1;t=r.length-1}else if(t<0)if(n)t=0;else return-1;if(typeof e=="string"&&(e=re.from(e,i)),re.isBuffer(e))return e.length===0?-1:rb(r,e,t,i,n);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?n?Uint8Array.prototype.indexOf.call(r,e,t):Uint8Array.prototype.lastIndexOf.call(r,e,t):rb(r,[e],t,i,n);throw new TypeError("val must be string, number or Buffer")}function rb(r,e,t,i,n){let s=1,o=r.length,a=e.length;if(i!==void 0&&(i=String(i).toLowerCase(),i==="ucs2"||i==="ucs-2"||i==="utf16le"||i==="utf-16le")){if(r.length<2||e.length<2)return-1;s=2,o/=2,a/=2,t/=2}function c(p,A){return s===1?p[A]:p.readUInt16BE(A*s)}let h;if(n){let p=-1;for(h=t;h<o;h++)if(c(r,h)===c(e,p===-1?0:h-p)){if(p===-1&&(p=h),h-p+1===a)return p*s}else p!==-1&&(h-=h-p),p=-1}else for(t+a>o&&(t=o-a),h=t;h>=0;h--){let p=!0;for(let A=0;A<a;A++)if(c(r,h+A)!==c(e,A)){p=!1;break}if(p)return h}return-1}re.prototype.includes=function(e,t,i){return this.indexOf(e,t,i)!==-1};re.prototype.indexOf=function(e,t,i){return ub(this,e,t,i,!0)};re.prototype.lastIndexOf=function(e,t,i){return ub(this,e,t,i,!1)};function P5(r,e,t,i){t=Number(t)||0;let n=r.length-t;i?(i=Number(i),i>n&&(i=n)):i=n;let s=e.length;i>s/2&&(i=s/2);let o;for(o=0;o<i;++o){let a=parseInt(e.substr(o*2,2),16);if(Py(a))return o;r[t+o]=a}return o}function M5(r,e,t,i){return Zf(Ny(e,r.length-t),r,t,i)}function R5(r,e,t,i){return Zf(k5(e),r,t,i)}function L5(r,e,t,i){return Zf(yb(e),r,t,i)}function F5(r,e,t,i){return Zf($5(e,r.length-t),r,t,i)}re.prototype.write=function(e,t,i,n){if(t===void 0)n="utf8",i=this.length,t=0;else if(i===void 0&&typeof t=="string")n=t,i=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(i)?(i=i>>>0,n===void 0&&(n="utf8")):(n=i,i=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let s=this.length-t;if((i===void 0||i>s)&&(i=s),e.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let o=!1;for(;;)switch(n){case"hex":return P5(this,e,t,i);case"utf8":case"utf-8":return M5(this,e,t,i);case"ascii":case"latin1":case"binary":return R5(this,e,t,i);case"base64":return L5(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F5(this,e,t,i);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}};re.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function U5(r,e,t){return e===0&&t===r.length?xy.fromByteArray(r):xy.fromByteArray(r.slice(e,t))}function cb(r,e,t){t=Math.min(r.length,t);let i=[],n=e;for(;n<t;){let s=r[n],o=null,a=s>239?4:s>223?3:s>191?2:1;if(n+a<=t){let c,h,p,A;switch(a){case 1:s<128&&(o=s);break;case 2:c=r[n+1],(c&192)===128&&(A=(s&31)<<6|c&63,A>127&&(o=A));break;case 3:c=r[n+1],h=r[n+2],(c&192)===128&&(h&192)===128&&(A=(s&15)<<12|(c&63)<<6|h&63,A>2047&&(A<55296||A>57343)&&(o=A));break;case 4:c=r[n+1],h=r[n+2],p=r[n+3],(c&192)===128&&(h&192)===128&&(p&192)===128&&(A=(s&15)<<18|(c&63)<<12|(h&63)<<6|p&63,A>65535&&A<1114112&&(o=A))}}o===null?(o=65533,a=1):o>65535&&(o-=65536,i.push(o>>>10&1023|55296),o=56320|o&1023),i.push(o),n+=a}return q5(i)}var ib=4096;function q5(r){let e=r.length;if(e<=ib)return String.fromCharCode.apply(String,r);let t="",i=0;for(;i<e;)t+=String.fromCharCode.apply(String,r.slice(i,i+=ib));return t}function V5(r,e,t){let i="";t=Math.min(r.length,t);for(let n=e;n<t;++n)i+=String.fromCharCode(r[n]&127);return i}function H5(r,e,t){let i="";t=Math.min(r.length,t);for(let n=e;n<t;++n)i+=String.fromCharCode(r[n]);return i}function Q5(r,e,t){let i=r.length;(!e||e<0)&&(e=0),(!t||t<0||t>i)&&(t=i);let n="";for(let s=e;s<t;++s)n+=W5[r[s]];return n}function j5(r,e,t){let i=r.slice(e,t),n="";for(let s=0;s<i.length-1;s+=2)n+=String.fromCharCode(i[s]+i[s+1]*256);return n}re.prototype.slice=function(e,t){let i=this.length;e=~~e,t=t===void 0?i:~~t,e<0?(e+=i,e<0&&(e=0)):e>i&&(e=i),t<0?(t+=i,t<0&&(t=0)):t>i&&(t=i),t<e&&(t=e);let n=this.subarray(e,t);return Object.setPrototypeOf(n,re.prototype),n};function zt(r,e,t){if(r%1!==0||r<0)throw new RangeError("offset is not uint");if(r+e>t)throw new RangeError("Trying to access beyond buffer length")}re.prototype.readUintLE=re.prototype.readUIntLE=function(e,t,i){e=e>>>0,t=t>>>0,i||zt(e,t,this.length);let n=this[e],s=1,o=0;for(;++o<t&&(s*=256);)n+=this[e+o]*s;return n};re.prototype.readUintBE=re.prototype.readUIntBE=function(e,t,i){e=e>>>0,t=t>>>0,i||zt(e,t,this.length);let n=this[e+--t],s=1;for(;t>0&&(s*=256);)n+=this[e+--t]*s;return n};re.prototype.readUint8=re.prototype.readUInt8=function(e,t){return e=e>>>0,t||zt(e,1,this.length),this[e]};re.prototype.readUint16LE=re.prototype.readUInt16LE=function(e,t){return e=e>>>0,t||zt(e,2,this.length),this[e]|this[e+1]<<8};re.prototype.readUint16BE=re.prototype.readUInt16BE=function(e,t){return e=e>>>0,t||zt(e,2,this.length),this[e]<<8|this[e+1]};re.prototype.readUint32LE=re.prototype.readUInt32LE=function(e,t){return e=e>>>0,t||zt(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};re.prototype.readUint32BE=re.prototype.readUInt32BE=function(e,t){return e=e>>>0,t||zt(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};re.prototype.readBigUInt64LE=Nn(function(e){e=e>>>0,Ca(e,"offset");let t=this[e],i=this[e+7];(t===void 0||i===void 0)&&lc(e,this.length-8);let n=t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,s=this[++e]+this[++e]*2**8+this[++e]*2**16+i*2**24;return BigInt(n)+(BigInt(s)<<BigInt(32))});re.prototype.readBigUInt64BE=Nn(function(e){e=e>>>0,Ca(e,"offset");let t=this[e],i=this[e+7];(t===void 0||i===void 0)&&lc(e,this.length-8);let n=t*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],s=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+i;return(BigInt(n)<<BigInt(32))+BigInt(s)});re.prototype.readIntLE=function(e,t,i){e=e>>>0,t=t>>>0,i||zt(e,t,this.length);let n=this[e],s=1,o=0;for(;++o<t&&(s*=256);)n+=this[e+o]*s;return s*=128,n>=s&&(n-=Math.pow(2,8*t)),n};re.prototype.readIntBE=function(e,t,i){e=e>>>0,t=t>>>0,i||zt(e,t,this.length);let n=t,s=1,o=this[e+--n];for(;n>0&&(s*=256);)o+=this[e+--n]*s;return s*=128,o>=s&&(o-=Math.pow(2,8*t)),o};re.prototype.readInt8=function(e,t){return e=e>>>0,t||zt(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};re.prototype.readInt16LE=function(e,t){e=e>>>0,t||zt(e,2,this.length);let i=this[e]|this[e+1]<<8;return i&32768?i|4294901760:i};re.prototype.readInt16BE=function(e,t){e=e>>>0,t||zt(e,2,this.length);let i=this[e+1]|this[e]<<8;return i&32768?i|4294901760:i};re.prototype.readInt32LE=function(e,t){return e=e>>>0,t||zt(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};re.prototype.readInt32BE=function(e,t){return e=e>>>0,t||zt(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};re.prototype.readBigInt64LE=Nn(function(e){e=e>>>0,Ca(e,"offset");let t=this[e],i=this[e+7];(t===void 0||i===void 0)&&lc(e,this.length-8);let n=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(i<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)});re.prototype.readBigInt64BE=Nn(function(e){e=e>>>0,Ca(e,"offset");let t=this[e],i=this[e+7];(t===void 0||i===void 0)&&lc(e,this.length-8);let n=(t<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+i)});re.prototype.readFloatLE=function(e,t){return e=e>>>0,t||zt(e,4,this.length),ba.read(this,e,!0,23,4)};re.prototype.readFloatBE=function(e,t){return e=e>>>0,t||zt(e,4,this.length),ba.read(this,e,!1,23,4)};re.prototype.readDoubleLE=function(e,t){return e=e>>>0,t||zt(e,8,this.length),ba.read(this,e,!0,52,8)};re.prototype.readDoubleBE=function(e,t){return e=e>>>0,t||zt(e,8,this.length),ba.read(this,e,!1,52,8)};function gr(r,e,t,i,n,s){if(!re.isBuffer(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>n||e<s)throw new RangeError('"value" argument is out of bounds');if(t+i>r.length)throw new RangeError("Index out of range")}re.prototype.writeUintLE=re.prototype.writeUIntLE=function(e,t,i,n){if(e=+e,t=t>>>0,i=i>>>0,!n){let a=Math.pow(2,8*i)-1;gr(this,e,t,i,a,0)}let s=1,o=0;for(this[t]=e&255;++o<i&&(s*=256);)this[t+o]=e/s&255;return t+i};re.prototype.writeUintBE=re.prototype.writeUIntBE=function(e,t,i,n){if(e=+e,t=t>>>0,i=i>>>0,!n){let a=Math.pow(2,8*i)-1;gr(this,e,t,i,a,0)}let s=i-1,o=1;for(this[t+s]=e&255;--s>=0&&(o*=256);)this[t+s]=e/o&255;return t+i};re.prototype.writeUint8=re.prototype.writeUInt8=function(e,t,i){return e=+e,t=t>>>0,i||gr(this,e,t,1,255,0),this[t]=e&255,t+1};re.prototype.writeUint16LE=re.prototype.writeUInt16LE=function(e,t,i){return e=+e,t=t>>>0,i||gr(this,e,t,2,65535,0),this[t]=e&255,this[t+1]=e>>>8,t+2};re.prototype.writeUint16BE=re.prototype.writeUInt16BE=function(e,t,i){return e=+e,t=t>>>0,i||gr(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=e&255,t+2};re.prototype.writeUint32LE=re.prototype.writeUInt32LE=function(e,t,i){return e=+e,t=t>>>0,i||gr(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255,t+4};re.prototype.writeUint32BE=re.prototype.writeUInt32BE=function(e,t,i){return e=+e,t=t>>>0,i||gr(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};function lb(r,e,t,i,n){gb(e,i,n,r,t,7);let s=Number(e&BigInt(4294967295));r[t++]=s,s=s>>8,r[t++]=s,s=s>>8,r[t++]=s,s=s>>8,r[t++]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return r[t++]=o,o=o>>8,r[t++]=o,o=o>>8,r[t++]=o,o=o>>8,r[t++]=o,t}function fb(r,e,t,i,n){gb(e,i,n,r,t,7);let s=Number(e&BigInt(4294967295));r[t+7]=s,s=s>>8,r[t+6]=s,s=s>>8,r[t+5]=s,s=s>>8,r[t+4]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return r[t+3]=o,o=o>>8,r[t+2]=o,o=o>>8,r[t+1]=o,o=o>>8,r[t]=o,t+8}re.prototype.writeBigUInt64LE=Nn(function(e,t=0){return lb(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))});re.prototype.writeBigUInt64BE=Nn(function(e,t=0){return fb(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))});re.prototype.writeIntLE=function(e,t,i,n){if(e=+e,t=t>>>0,!n){let c=Math.pow(2,8*i-1);gr(this,e,t,i,c-1,-c)}let s=0,o=1,a=0;for(this[t]=e&255;++s<i&&(o*=256);)e<0&&a===0&&this[t+s-1]!==0&&(a=1),this[t+s]=(e/o>>0)-a&255;return t+i};re.prototype.writeIntBE=function(e,t,i,n){if(e=+e,t=t>>>0,!n){let c=Math.pow(2,8*i-1);gr(this,e,t,i,c-1,-c)}let s=i-1,o=1,a=0;for(this[t+s]=e&255;--s>=0&&(o*=256);)e<0&&a===0&&this[t+s+1]!==0&&(a=1),this[t+s]=(e/o>>0)-a&255;return t+i};re.prototype.writeInt8=function(e,t,i){return e=+e,t=t>>>0,i||gr(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=e&255,t+1};re.prototype.writeInt16LE=function(e,t,i){return e=+e,t=t>>>0,i||gr(this,e,t,2,32767,-32768),this[t]=e&255,this[t+1]=e>>>8,t+2};re.prototype.writeInt16BE=function(e,t,i){return e=+e,t=t>>>0,i||gr(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=e&255,t+2};re.prototype.writeInt32LE=function(e,t,i){return e=+e,t=t>>>0,i||gr(this,e,t,4,2147483647,-2147483648),this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4};re.prototype.writeInt32BE=function(e,t,i){return e=+e,t=t>>>0,i||gr(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};re.prototype.writeBigInt64LE=Nn(function(e,t=0){return lb(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});re.prototype.writeBigInt64BE=Nn(function(e,t=0){return fb(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function hb(r,e,t,i,n,s){if(t+i>r.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function db(r,e,t,i,n){return e=+e,t=t>>>0,n||hb(r,e,t,4,34028234663852886e22,-34028234663852886e22),ba.write(r,e,t,i,23,4),t+4}re.prototype.writeFloatLE=function(e,t,i){return db(this,e,t,!0,i)};re.prototype.writeFloatBE=function(e,t,i){return db(this,e,t,!1,i)};function pb(r,e,t,i,n){return e=+e,t=t>>>0,n||hb(r,e,t,8,17976931348623157e292,-17976931348623157e292),ba.write(r,e,t,i,52,8),t+8}re.prototype.writeDoubleLE=function(e,t,i){return pb(this,e,t,!0,i)};re.prototype.writeDoubleBE=function(e,t,i){return pb(this,e,t,!1,i)};re.prototype.copy=function(e,t,i,n){if(!re.isBuffer(e))throw new TypeError("argument should be a Buffer");if(i||(i=0),!n&&n!==0&&(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<i&&(n=i),n===i||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-i&&(n=e.length-t+i);let s=n-i;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(t,i,n):Uint8Array.prototype.set.call(e,this.subarray(i,n),t),s};re.prototype.fill=function(e,t,i,n){if(typeof e=="string"){if(typeof t=="string"?(n=t,t=0,i=this.length):typeof i=="string"&&(n=i,i=this.length),n!==void 0&&typeof n!="string")throw new TypeError("encoding must be a string");if(typeof n=="string"&&!re.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(e.length===1){let o=e.charCodeAt(0);(n==="utf8"&&o<128||n==="latin1")&&(e=o)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;t=t>>>0,i=i===void 0?this.length:i>>>0,e||(e=0);let s;if(typeof e=="number")for(s=t;s<i;++s)this[s]=e;else{let o=re.isBuffer(e)?e:re.from(e,n),a=o.length;if(a===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(s=0;s<i-t;++s)this[s+t]=o[s%a]}return this};var _a={};function By(r,e,t){_a[r]=class extends t{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${r}]`,this.stack,delete this.name}get code(){return r}set code(n){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:n,writable:!0})}toString(){return`${this.name} [${r}]: ${this.message}`}}}By("ERR_BUFFER_OUT_OF_BOUNDS",function(r){return r?`${r} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);By("ERR_INVALID_ARG_TYPE",function(r,e){return`The "${r}" argument must be of type number. Received type ${typeof e}`},TypeError);By("ERR_OUT_OF_RANGE",function(r,e,t){let i=`The value of "${r}" is out of range.`,n=t;return Number.isInteger(t)&&Math.abs(t)>2**32?n=nb(String(t)):typeof t=="bigint"&&(n=String(t),(t>BigInt(2)**BigInt(32)||t<-(BigInt(2)**BigInt(32)))&&(n=nb(n)),n+="n"),i+=` It must be ${e}. Received ${n}`,i},RangeError);function nb(r){let e="",t=r.length,i=r[0]==="-"?1:0;for(;t>=i+4;t-=3)e=`_${r.slice(t-3,t)}${e}`;return`${r.slice(0,t)}${e}`}function G5(r,e,t){Ca(e,"offset"),(r[e]===void 0||r[e+t]===void 0)&&lc(e,r.length-(t+1))}function gb(r,e,t,i,n,s){if(r>t||r<e){let o=typeof e=="bigint"?"n":"",a;throw s>3?e===0||e===BigInt(0)?a=`>= 0${o} and < 2${o} ** ${(s+1)*8}${o}`:a=`>= -(2${o} ** ${(s+1)*8-1}${o}) and < 2 ** ${(s+1)*8-1}${o}`:a=`>= ${e}${o} and <= ${t}${o}`,new _a.ERR_OUT_OF_RANGE("value",a,r)}G5(i,n,s)}function Ca(r,e){if(typeof r!="number")throw new _a.ERR_INVALID_ARG_TYPE(e,"number",r)}function lc(r,e,t){throw Math.floor(r)!==r?(Ca(r,t),new _a.ERR_OUT_OF_RANGE(t||"offset","an integer",r)):e<0?new _a.ERR_BUFFER_OUT_OF_BOUNDS:new _a.ERR_OUT_OF_RANGE(t||"offset",`>= ${t?1:0} and <= ${e}`,r)}var K5=/[^+/0-9A-Za-z-_]/g;function z5(r){if(r=r.split("=")[0],r=r.trim().replace(K5,""),r.length<2)return"";for(;r.length%4!==0;)r=r+"=";return r}function Ny(r,e){e=e||1/0;let t,i=r.length,n=null,s=[];for(let o=0;o<i;++o){if(t=r.charCodeAt(o),t>55295&&t<57344){if(!n){if(t>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(o+1===i){(e-=3)>-1&&s.push(239,191,189);continue}n=t;continue}if(t<56320){(e-=3)>-1&&s.push(239,191,189),n=t;continue}t=(n-55296<<10|t-56320)+65536}else n&&(e-=3)>-1&&s.push(239,191,189);if(n=null,t<128){if((e-=1)<0)break;s.push(t)}else if(t<2048){if((e-=2)<0)break;s.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;s.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;s.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return s}function k5(r){let e=[];for(let t=0;t<r.length;++t)e.push(r.charCodeAt(t)&255);return e}function $5(r,e){let t,i,n,s=[];for(let o=0;o<r.length&&!((e-=2)<0);++o)t=r.charCodeAt(o),i=t>>8,n=t%256,s.push(n),s.push(i);return s}function yb(r){return xy.toByteArray(z5(r))}function Zf(r,e,t,i){let n;for(n=0;n<i&&!(n+t>=e.length||n>=r.length);++n)e[n+t]=r[n];return n}function Ai(r,e){return r instanceof e||r!=null&&r.constructor!=null&&r.constructor.name!=null&&r.constructor.name===e.name}function Py(r){return r!==r}var W5=function(){let r="0123456789abcdef",e=new Array(256);for(let t=0;t<16;++t){let i=t*16;for(let n=0;n<16;++n)e[i+n]=r[t]+r[n]}return e}();function Nn(r){return typeof BigInt>"u"?Y5:r}function Y5(){throw new Error("BigInt not supported")}});var vb=P((yW,wb)=>{f();wb.exports=My;My.supported=typeof WebAssembly<"u";function My(r){if(!My.supported)return null;var e=r&&r.imports,t=J5("AGFzbQEAAAABEANgAn9/AGADf39/AGABfwADBQQAAQICBQUBAQroBwdNBQZtZW1vcnkCAAxibGFrZTJiX2luaXQAAA5ibGFrZTJiX3VwZGF0ZQABDWJsYWtlMmJfZmluYWwAAhBibGFrZTJiX2NvbXByZXNzAAMK00AElgMAIABCADcDACAAQQhqQgA3AwAgAEEQakIANwMAIABBGGpCADcDACAAQSBqQgA3AwAgAEEoakIANwMAIABBMGpCADcDACAAQThqQgA3AwAgAEHAAGpCADcDACAAQcgAakIANwMAIABB0ABqQgA3AwAgAEHYAGpCADcDACAAQeAAakIANwMAIABB6ABqQgA3AwAgAEHwAGpCADcDACAAQfgAakIANwMAIABBgAFqQoiS853/zPmE6gBBACkDAIU3AwAgAEGIAWpCu86qptjQ67O7f0EIKQMAhTcDACAAQZABakKr8NP0r+68tzxBECkDAIU3AwAgAEGYAWpC8e30+KWn/aelf0EYKQMAhTcDACAAQaABakLRhZrv+s+Uh9EAQSApAwCFNwMAIABBqAFqQp/Y+dnCkdqCm39BKCkDAIU3AwAgAEGwAWpC6/qG2r+19sEfQTApAwCFNwMAIABBuAFqQvnC+JuRo7Pw2wBBOCkDAIU3AwAgAEHAAWpCADcDACAAQcgBakIANwMAIABB0AFqQgA3AwALbQEDfyAAQcABaiEDIABByAFqIQQgBCkDAKchBQJAA0AgASACRg0BIAVBgAFGBEAgAyADKQMAIAWtfDcDAEEAIQUgABADCyAAIAVqIAEtAAA6AAAgBUEBaiEFIAFBAWohAQwACwsgBCAFrTcDAAtkAQN/IABBwAFqIQEgAEHIAWohAiABIAEpAwAgAikDAHw3AwAgAEHQAWpCfzcDACACKQMApyEDAkADQCADQYABRg0BIAAgA2pBADoAACADQQFqIQMMAAsLIAIgA603AwAgABADC+U7AiB+CX8gAEGAAWohISAAQYgBaiEiIABBkAFqISMgAEGYAWohJCAAQaABaiElIABBqAFqISYgAEGwAWohJyAAQbgBaiEoICEpAwAhASAiKQMAIQIgIykDACEDICQpAwAhBCAlKQMAIQUgJikDACEGICcpAwAhByAoKQMAIQhCiJLznf/M+YTqACEJQrvOqqbY0Ouzu38hCkKr8NP0r+68tzwhC0Lx7fT4paf9p6V/IQxC0YWa7/rPlIfRACENQp/Y+dnCkdqCm38hDkLr+obav7X2wR8hD0L5wvibkaOz8NsAIRAgACkDACERIABBCGopAwAhEiAAQRBqKQMAIRMgAEEYaikDACEUIABBIGopAwAhFSAAQShqKQMAIRYgAEEwaikDACEXIABBOGopAwAhGCAAQcAAaikDACEZIABByABqKQMAIRogAEHQAGopAwAhGyAAQdgAaikDACEcIABB4ABqKQMAIR0gAEHoAGopAwAhHiAAQfAAaikDACEfIABB+ABqKQMAISAgDSAAQcABaikDAIUhDSAPIABB0AFqKQMAhSEPIAEgBSARfHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgEnx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBN8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAUfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgFXx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIBZ8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAXfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggGHx8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBl8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAafHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgG3x8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBx8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAdfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggHnx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIB98fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAgfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgH3x8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBt8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAVfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgGXx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBp8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAgfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggHnx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBd8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiASfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgHXx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBF8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByATfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggHHx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBh8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAWfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgFHx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIBx8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAZfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgHXx8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBF8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAWfHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgE3x8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIICB8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAefHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgG3x8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIB98fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAUfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgF3x8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBh8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCASfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgGnx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBV8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAYfHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgGnx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBR8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiASfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgHnx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIB18fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAcfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggH3x8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBN8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAXfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgFnx8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBt8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAVfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggEXx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFICB8fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAZfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgGnx8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBF8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAWfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgGHx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBN8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAVfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggG3x8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIICB8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAffHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgEnx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBx8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAdfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggF3x8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBl8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAUfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgHnx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIBN8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAdfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgF3x8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBt8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByARfHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgHHx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBl8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAUfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgFXx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIB58fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAYfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgFnx8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIICB8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCAffHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgEnx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBp8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAdfHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgFnx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBJ8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAgfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgH3x8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIB58fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAVfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggG3x8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBF8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAYfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgF3x8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBR8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAafHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggE3x8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIBl8fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAcfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgHnx8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBx8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAYfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgH3x8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIB18fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByASfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggFHx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBp8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAWfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgEXx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHICB8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAVfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggGXx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBd8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSATfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgG3x8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIBd8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAgfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgH3x8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBp8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAcfHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgFHx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBF8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAZfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgHXx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIBN8fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAefHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgGHx8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBJ8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCAVfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgG3x8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBZ8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAbfHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgE3x8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBl8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAVfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgGHx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIBd8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCASfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggFnx8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGICB8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAcfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgGnx8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIB98fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAUfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggHXx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIB58fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSARfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgEXx8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBJ8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiATfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgFHx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBV8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAWfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggF3x8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBh8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAZfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgGnx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBt8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAcfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggHXx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIB58fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAffHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgIHx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIB98fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAbfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgFXx8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBl8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAafHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgIHx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIB58fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAXfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgEnx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIB18fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByARfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgE3x8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBx8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCAYfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgFnx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBR8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFICEgISkDACABIAmFhTcDACAiICIpAwAgAiAKhYU3AwAgIyAjKQMAIAMgC4WFNwMAICQgJCkDACAEIAyFhTcDACAlICUpAwAgBSANhYU3AwAgJiAmKQMAIAYgDoWFNwMAICcgJykDACAHIA+FhTcDACAoICgpAwAgCCAQhYU3AwAL"),i=null,n={buffer:t,memory:null,exports:null,realloc:s,onload:o};return o(function(){}),n;function s(c){n.exports.memory.grow(Math.ceil(Math.abs(c-n.memory.length)/65536)),n.memory=new Uint8Array(n.exports.memory.buffer)}function o(c){if(n.exports)return c();if(i){i.then(c.bind(null,null)).catch(c);return}try{if(r&&r.async)throw new Error("async");a({instance:new WebAssembly.Instance(new WebAssembly.Module(t),e)})}catch{i=WebAssembly.instantiate(t,e).then(a)}o(c)}function a(c){n.exports=c.instance.exports,n.memory=n.exports.memory&&n.exports.memory.buffer&&new Uint8Array(n.exports.memory.buffer)}}function J5(r){return typeof atob=="function"?new Uint8Array(atob(r).split("").map(X5)):new(mb()).Buffer(r,"base64")}function X5(r){return r.charCodeAt(0)}});var xb=P((EW,_i)=>{f();var Ii=Cy(),ze=vb()(),Yi=64,eh=[];_i.exports=Lr;var Eb=_i.exports.BYTES_MIN=16,Ab=_i.exports.BYTES_MAX=64,wW=_i.exports.BYTES=32,Ib=_i.exports.KEYBYTES_MIN=16,_b=_i.exports.KEYBYTES_MAX=64,vW=_i.exports.KEYBYTES=32,bb=_i.exports.SALTBYTES=16,Cb=_i.exports.PERSONALBYTES=16;function Lr(r,e,t,i,n){if(!(this instanceof Lr))return new Lr(r,e,t,i,n);if(!(ze&&ze.exports))throw new Error("WASM not loaded. Wait for Blake2b.ready(cb)");r||(r=32),n!==!0&&(Ii(r>=Eb,"digestLength must be at least "+Eb+", was given "+r),Ii(r<=Ab,"digestLength must be at most "+Ab+", was given "+r),e!=null&&Ii(e.length>=Ib,"key must be at least "+Ib+", was given "+e.length),e!=null&&Ii(e.length<=_b,"key must be at least "+_b+", was given "+e.length),t!=null&&Ii(t.length===bb,"salt must be exactly "+bb+", was given "+t.length),i!=null&&Ii(i.length===Cb,"personal must be exactly "+Cb+", was given "+i.length)),eh.length||(eh.push(Yi),Yi+=216),this.digestLength=r,this.finalized=!1,this.pointer=eh.pop(),ze.memory.fill(0,0,64),ze.memory[0]=this.digestLength,ze.memory[1]=e?e.length:0,ze.memory[2]=1,ze.memory[3]=1,t&&ze.memory.set(t,32),i&&ze.memory.set(i,48),this.pointer+216>ze.memory.length&&ze.realloc(this.pointer+216),ze.exports.blake2b_init(this.pointer,this.digestLength),e&&(this.update(e),ze.memory.fill(0,Yi,Yi+e.length),ze.memory[this.pointer+200]=128)}Lr.prototype.update=function(r){return Ii(this.finalized===!1,"Hash instance finalized"),Ii(r,"input must be TypedArray or Buffer"),Yi+r.length>ze.memory.length&&ze.realloc(Yi+r.length),ze.memory.set(r,Yi),ze.exports.blake2b_update(this.pointer,Yi,Yi+r.length),this};Lr.prototype.digest=function(r){if(Ii(this.finalized===!1,"Hash instance finalized"),this.finalized=!0,eh.push(this.pointer),ze.exports.blake2b_final(this.pointer),!r||r==="binary")return ze.memory.slice(this.pointer+128,this.pointer+128+this.digestLength);if(r==="hex")return eR(ze.memory,this.pointer+128,this.digestLength);Ii(r.length>=this.digestLength,"input must be TypedArray or Buffer");for(var e=0;e<this.digestLength;e++)r[e]=ze.memory[this.pointer+128+e];return r};Lr.prototype.final=Lr.prototype.digest;Lr.WASM=ze&&ze.buffer;Lr.SUPPORTED=typeof WebAssembly<"u";Lr.ready=function(r){if(r||(r=Z5),!ze)return r(new Error("WebAssembly not supported"));var e=new Promise(function(t,i){ze.onload(function(n){n?i():t(),r(n)})});return e};Lr.prototype.ready=Lr.ready;function Z5(){}function eR(r,e,t){for(var i="",n=0;n<t;n++)i+=tR(r[e+n]);return i}function tR(r){return r<16?"0"+r.toString(16):r.toString(16)}});var qb=P((bW,yr)=>{f();var Bn=Cy(),hc=xb();function th(r,e,t){var i=r[e]+r[t],n=r[e+1]+r[t+1];i>=4294967296&&n++,r[e]=i,r[e+1]=n}function Sb(r,e,t,i){var n=r[e]+t;t<0&&(n+=4294967296);var s=r[e+1]+i;n>=4294967296&&s++,r[e]=n,r[e+1]=s}function Mb(r,e){return r[e]^r[e+1]<<8^r[e+2]<<16^r[e+3]<<24}function Dn(r,e,t,i,n,s){var o=fc[n],a=fc[n+1],c=fc[s],h=fc[s+1];th(xe,r,e),Sb(xe,r,o,a);var p=xe[i]^xe[r],A=xe[i+1]^xe[r+1];xe[i]=A,xe[i+1]=p,th(xe,t,i),p=xe[e]^xe[t],A=xe[e+1]^xe[t+1],xe[e]=p>>>24^A<<8,xe[e+1]=A>>>24^p<<8,th(xe,r,e),Sb(xe,r,c,h),p=xe[i]^xe[r],A=xe[i+1]^xe[r+1],xe[i]=p>>>16^A<<16,xe[i+1]=A>>>16^p<<16,th(xe,t,i),p=xe[e]^xe[t],A=xe[e+1]^xe[t+1],xe[e]=A>>>31^p<<1,xe[e+1]=p>>>31^A<<1}var Rb=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),rR=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],sr=new Uint8Array(rR.map(function(r){return r*2})),xe=new Uint32Array(32),fc=new Uint32Array(32);function Lb(r,e){var t=0;for(t=0;t<16;t++)xe[t]=r.h[t],xe[t+16]=Rb[t];for(xe[24]=xe[24]^r.t,xe[25]=xe[25]^r.t/4294967296,e&&(xe[28]=~xe[28],xe[29]=~xe[29]),t=0;t<32;t++)fc[t]=Mb(r.b,4*t);for(t=0;t<12;t++)Dn(0,8,16,24,sr[t*16+0],sr[t*16+1]),Dn(2,10,18,26,sr[t*16+2],sr[t*16+3]),Dn(4,12,20,28,sr[t*16+4],sr[t*16+5]),Dn(6,14,22,30,sr[t*16+6],sr[t*16+7]),Dn(0,10,20,30,sr[t*16+8],sr[t*16+9]),Dn(2,12,22,24,sr[t*16+10],sr[t*16+11]),Dn(4,14,16,26,sr[t*16+12],sr[t*16+13]),Dn(6,8,18,28,sr[t*16+14],sr[t*16+15]);for(t=0;t<16;t++)r.h[t]=r.h[t]^xe[t]^xe[t+16]}var On=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function Sa(r,e,t,i){On.fill(0),this.b=new Uint8Array(128),this.h=new Uint32Array(16),this.t=0,this.c=0,this.outlen=r,On[0]=r,e&&(On[1]=e.length),On[2]=1,On[3]=1,t&&On.set(t,32),i&&On.set(i,48);for(var n=0;n<16;n++)this.h[n]=Rb[n]^Mb(On,n*4);e&&(Fb(this,e),this.c=128)}Sa.prototype.update=function(r){return Bn(r!=null,"input must be Uint8Array or Buffer"),Fb(this,r),this};Sa.prototype.digest=function(r){var e=!r||r==="binary"||r==="hex"?new Uint8Array(this.outlen):r;return Bn(e.length>=this.outlen,"out must have at least outlen bytes of space"),iR(this,e),r==="hex"?nR(e):e};Sa.prototype.final=Sa.prototype.digest;Sa.ready=function(r){hc.ready(function(){r()})};function Fb(r,e){for(var t=0;t<e.length;t++)r.c===128&&(r.t+=r.c,Lb(r,!1),r.c=0),r.b[r.c++]=e[t]}function iR(r,e){for(r.t+=r.c;r.c<128;)r.b[r.c++]=0;Lb(r,!0);for(var t=0;t<r.outlen;t++)e[t]=r.h[t>>2]>>8*(t&3);return e}function nR(r){for(var e="",t=0;t<r.length;t++)e+=sR(r[t]);return e}function sR(r){return r<16?"0"+r.toString(16):r.toString(16)}var Ub=Sa;yr.exports=function(e,t,i,n,s){return s!==!0&&(Bn(e>=Tb,"outlen must be at least "+Tb+", was given "+e),Bn(e<=Nb,"outlen must be at most "+Nb+", was given "+e),t!=null&&Bn(t.length>=Db,"key must be at least "+Db+", was given "+t.length),t!=null&&Bn(t.length<=Ob,"key must be at most "+Ob+", was given "+t.length),i!=null&&Bn(i.length===Bb,"salt must be exactly "+Bb+", was given "+i.length),n!=null&&Bn(n.length===Pb,"personal must be exactly "+Pb+", was given "+n.length)),new Ub(e,t,i,n)};yr.exports.ready=function(r){hc.ready(function(){r()})};yr.exports.WASM_SUPPORTED=hc.SUPPORTED;yr.exports.WASM_LOADED=!1;var Tb=yr.exports.BYTES_MIN=16,Nb=yr.exports.BYTES_MAX=64,IW=yr.exports.BYTES=32,Db=yr.exports.KEYBYTES_MIN=16,Ob=yr.exports.KEYBYTES_MAX=64,_W=yr.exports.KEYBYTES=32,Bb=yr.exports.SALTBYTES=16,Pb=yr.exports.PERSONALBYTES=16;hc.ready(function(r){r||(yr.exports.WASM_LOADED=!0,Ub=hc)})});var Fy=P(Fr=>{"use strict";f();var oR=Fr&&Fr.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),aR=Fr&&Fr.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),uR=Fr&&Fr.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&oR(e,r,t);return aR(e,r),e};Object.defineProperty(Fr,"__esModule",{value:!0});Fr.TransactionHash=Fr.Transaction=void 0;var dc=Qr(),Ry=jr(),cR=Kf(),lR=uR(We()),fR=KI(),Ly=kI(),hR=Y_(),Vb=Z_(),Hb=nc(),dR=Tr(),pR=qb(),gR=32,pc=class{constructor({nonce:e,value:t,receiver:i,sender:n,gasPrice:s,gasLimit:o,data:a,chainID:c,version:h,options:p}){this.nonce=e||0,this.value=t||0,this.sender=n,this.receiver=i,this.gasPrice=s||cR.TRANSACTION_MIN_GAS_PRICE,this.gasLimit=o,this.data=a||new Hb.TransactionPayload,this.chainID=c,this.version=h||Ly.TransactionVersion.withDefaultVersion(),this.options=p||Ly.TransactionOptions.withDefaultOptions(),this.signature=Vb.Signature.empty(),this.hash=Gs.empty()}getNonce(){return this.nonce}setNonce(e){this.nonce=e}getValue(){return this.value}setValue(e){this.value=e}getSender(){return this.sender}getReceiver(){return this.receiver}getGasPrice(){return this.gasPrice}setGasPrice(e){this.gasPrice=e}getGasLimit(){return this.gasLimit}setGasLimit(e){this.gasLimit=e}getData(){return this.data}getChainID(){return this.chainID}setChainID(e){this.chainID=e}getVersion(){return this.version}getOptions(){return this.options}getSignature(){return this.signature}getHash(){return dR.guardNotEmpty(this.hash,"hash"),this.hash}serializeForSigning(e){let t=this.toPlainObject(e);t.signature&&delete t.signature;let i=JSON.stringify(t);return y.Buffer.from(i)}toPlainObject(e){return{nonce:this.nonce.valueOf(),value:this.value.toString(),receiver:this.receiver.bech32(),sender:e?e.bech32():this.sender.bech32(),gasPrice:this.gasPrice.valueOf(),gasLimit:this.gasLimit.valueOf(),data:this.data.length()==0?void 0:this.data.encoded(),chainID:this.chainID.valueOf(),version:this.version.valueOf(),options:this.options.valueOf()==0?void 0:this.options.valueOf(),signature:this.signature.hex()?this.signature.hex():void 0}}static fromPlainObject(e){let t=new pc({nonce:Number(e.nonce),value:new dc.BigNumber(e.value),receiver:Ry.Address.fromString(e.receiver),sender:Ry.Address.fromString(e.sender),gasPrice:Number(e.gasPrice),gasLimit:Number(e.gasLimit),data:new Hb.TransactionPayload(y.Buffer.from(e.data||"","base64")),chainID:String(e.chainID),version:new Ly.TransactionVersion(e.version)});return e.signature&&t.applySignature(new Vb.Signature(e.signature),Ry.Address.fromString(e.sender)),t}applySignature(e,t){this.signature=e,this.sender=t,this.hash=Gs.compute(this)}toSendable(){return this.toPlainObject()}computeFee(e){let t=e.MinGasLimit.valueOf()+this.data.length()*e.GasPerDataByte.valueOf();if(t>this.gasLimit.valueOf())throw new lR.ErrNotEnoughGas(this.gasLimit.valueOf());let i=new dc.BigNumber(this.gasPrice.valueOf()),n=new dc.BigNumber(t).multipliedBy(i);if(t===this.gasLimit.valueOf())return n;let s=new dc.BigNumber(this.gasLimit.valueOf()-t),o=i.multipliedBy(new dc.BigNumber(e.GasPriceModifier.valueOf())),a=s.multipliedBy(o);return n.plus(a)}};Fr.Transaction=pc;var Gs=class extends fR.Hash{constructor(e){super(e)}static compute(e){let i=new hR.ProtoSerializer().serializeTransaction(e),n=pR(gR).update(i).digest("hex");return new Gs(n)}};Fr.TransactionHash=Gs});var Uy=P(zs=>{"use strict";f();Object.defineProperty(zs,"__esModule",{value:!0});zs.Logger=zs.LogLevel=void 0;var Ks;(function(r){r[r.Trace=0]="Trace",r[r.Debug=1]="Debug",r[r.Info=2]="Info",r[r.Warn=3]="Warn",r[r.Error=4]="Error",r[r.None=5]="None"})(Ks=zs.LogLevel||(zs.LogLevel={}));var Yr=class{static setLevel(e){Yr.logLevel=e}static trace(e,...t){Yr.logLevel>=Ks.Debug||console.debug(e,t)}static debug(e,...t){Yr.logLevel>=Ks.Debug||console.debug(e,t)}static info(e,...t){Yr.logLevel>=Ks.Info||console.log(e,t)}static warn(e,...t){Yr.logLevel>=Ks.Warn||console.warn(e,t)}static error(e,...t){Yr.logLevel>=Ks.Error||console.error(e,t)}};zs.Logger=Yr;Yr.logLevel=Ks.Debug});var Qb=P(bi=>{"use strict";f();var yR=bi&&bi.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),mR=bi&&bi.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),wR=bi&&bi.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&yR(e,r,t);return mR(e,r),e};Object.defineProperty(bi,"__esModule",{value:!0});bi.AsyncTimer=void 0;var vR=wR(We()),ER=We(),qy=Uy(),Vy=class{constructor(e){this.timeoutHandle=null,this.rejectionFunc=null,this.name=e,this.correlationTag=0}start(e){if(this.timeoutHandle)throw new vR.ErrAsyncTimerAlreadyRunning;return this.correlationTag++,qy.Logger.trace(`AsyncTimer[${this.name}'${this.correlationTag}].start()`),new Promise((t,i)=>{this.rejectionFunc=i;let n=()=>{this.rejectionFunc=null,this.stop(),t()};this.timeoutHandle=setTimeout(n,e)})}abort(){qy.Logger.trace(`AsyncTimer[${this.name}'${this.correlationTag}].abort()`),this.rejectionFunc&&(this.rejectionFunc(new ER.ErrAsyncTimerAborted),this.rejectionFunc=null),this.stop()}stop(){this.isStopped()||(qy.Logger.trace(`AsyncTimer[${this.name}'${this.correlationTag}].stop()`),this.timeoutHandle&&(clearTimeout(this.timeoutHandle),this.timeoutHandle=null))}isStopped(){return!this.timeoutHandle}};bi.AsyncTimer=Vy});var Qy=P(Na=>{"use strict";f();var Ur=Na&&Na.__awaiter||function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(p){try{h(i.next(p))}catch(A){o(A)}}function c(p){try{h(i.throw(p))}catch(A){o(A)}}function h(p){p.done?s(p.value):n(p.value).then(a,c)}h((i=i.apply(r,e||[])).next())})};Object.defineProperty(Na,"__esModule",{value:!0});Na.TransactionWatcher=void 0;var jb=Qb(),Gb=Uy(),Ta=We(),Ci=class{constructor(e,t=Ci.DefaultPollingInterval,i=Ci.DefaultTimeout){this.fetcher=new Hy(e),this.pollingInterval=t,this.timeout=i}awaitPending(e){return Ur(this,void 0,void 0,function*(){let t=s=>s.status.isPending(),i=()=>Ur(this,void 0,void 0,function*(){return yield this.fetcher.getTransaction(e.getHash().hex())}),n=()=>new Ta.ErrExpectedTransactionStatusNotReached;return this.awaitConditionally(t,i,n)})}awaitCompleted(e){return Ur(this,void 0,void 0,function*(){let t=s=>s.isCompleted,i=()=>Ur(this,void 0,void 0,function*(){return yield this.fetcher.getTransaction(e.getHash().hex())}),n=()=>new Ta.ErrExpectedTransactionStatusNotReached;return this.awaitConditionally(t,i,n)})}awaitAllEvents(e,t){return Ur(this,void 0,void 0,function*(){let i=o=>{let a=this.getAllTransactionEvents(o).map(h=>h.identifier);return t.every(h=>a.includes(h))},n=()=>Ur(this,void 0,void 0,function*(){return yield this.fetcher.getTransaction(e.getHash().hex())}),s=()=>new Ta.ErrExpectedTransactionEventsNotFound;return this.awaitConditionally(i,n,s)})}awaitAnyEvent(e,t){return Ur(this,void 0,void 0,function*(){let i=o=>{let a=this.getAllTransactionEvents(o).map(h=>h.identifier);return t.find(h=>a.includes(h))!=null},n=()=>Ur(this,void 0,void 0,function*(){return yield this.fetcher.getTransaction(e.getHash().hex())}),s=()=>new Ta.ErrExpectedTransactionEventsNotFound;return this.awaitConditionally(i,n,s)})}awaitOnCondition(e,t){return Ur(this,void 0,void 0,function*(){let i=()=>Ur(this,void 0,void 0,function*(){return yield this.fetcher.getTransaction(e.getHash().hex())}),n=()=>new Ta.ErrExpectedTransactionStatusNotReached;return this.awaitConditionally(t,i,n)})}awaitConditionally(e,t,i){return Ur(this,void 0,void 0,function*(){let n=new jb.AsyncTimer("watcher:periodic"),s=new jb.AsyncTimer("watcher:timeout"),o=!1,a,c=!1;for(s.start(this.timeout).finally(()=>{s.stop(),o=!0});!o;){yield n.start(this.pollingInterval);try{if(a=yield t(),c=e(a),c||o)break}catch(h){if(Gb.Logger.debug("TransactionWatcher.awaitConditionally(): cannot (yet) fetch data."),!(h instanceof Ta.Err))throw h}}if(s.isStopped()||s.stop(),!a||!c)throw i();return a})}getAllTransactionEvents(e){let t=[...e.logs.events];for(let i of e.contractResults.items)t.push(...i.logs.events);return t}};Na.TransactionWatcher=Ci;Ci.DefaultPollingInterval=6e3;Ci.DefaultTimeout=Ci.DefaultPollingInterval*15;Ci.NoopOnStatusReceived=r=>{};var Hy=class{constructor(e){this.fetcher=e}getTransaction(e){return Ur(this,void 0,void 0,function*(){return Gb.Logger.debug(`transactionWatcher, getTransaction(${e})`),yield this.fetcher.getTransaction(e)})}}});var Kb=P(xi=>{"use strict";f();var AR=xi&&xi.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),IR=xi&&xi.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),_R=xi&&xi.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&AR(e,r,t);return IR(e,r),e};Object.defineProperty(xi,"__esModule",{value:!0});xi.ContractFunction=void 0;var bR=_R(We()),gc=class{constructor(e){if(this.name=e,e==null)throw new bR.ErrInvalidFunctionName}static none(){return new gc("untitled")}toString(){return this.name}valueOf(){return this.name}equals(e){return e?this.name==e.name:!1}};xi.ContractFunction=gc});var zb=P(Da=>{"use strict";f();Object.defineProperty(Da,"__esModule",{value:!0});Da.Signature=Da.Address=void 0;var jy=class{constructor(e){this.value=e}bech32(){return this.value}};Da.Address=jy;var Gy=class{constructor(e){this.value=e}hex(){return this.value}};Da.Signature=Gy});var kb=P(yc=>{"use strict";f();Object.defineProperty(yc,"__esModule",{value:!0});yc.Operation=void 0;var CR;(function(r){r.Connect="connect",r.Logout="logout",r.SignTransactions="signTransactions",r.SignMessage="signMessage",r.CancelAction="cancelAction"})(CR=yc.Operation||(yc.Operation={}))});var $b=P(Pn=>{"use strict";f();Object.defineProperty(Pn,"__esModule",{value:!0});Pn.ErrAccountNotConnected=Pn.ErrCannotSignSingleTransaction=Pn.Err=void 0;var mc=class extends Error{constructor(e,t){super(e),this.inner=void 0,this.inner=t}};Pn.Err=mc;var Ky=class extends mc{constructor(){super("Cannot sign single transaction.")}};Pn.ErrCannotSignSingleTransaction=Ky;var zy=class extends mc{constructor(){super("Account is not connected.")}};Pn.ErrAccountNotConnected=zy});var ky=P(Oa=>{"use strict";f();var Mn=Oa&&Oa.__awaiter||function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(p){try{h(i.next(p))}catch(A){o(A)}}function c(p){try{h(i.throw(p))}catch(A){o(A)}}function h(p){p.done?s(p.value):n(p.value).then(a,c)}h((i=i.apply(r,e||[])).next())})};Object.defineProperty(Oa,"__esModule",{value:!0});Oa.ExtensionProvider=void 0;var rh=zb(),wc=kb(),Wb=$b(),Si=class{constructor(){if(this.account={address:""},this.initialized=!1,Si._instance)throw new Error("Error: Instantiation failed: Use ExtensionProvider.getInstance() instead of new.");Si._instance=this}static getInstance(){return Si._instance}setAddress(e){return this.account.address=e,Si._instance}init(){return Mn(this,void 0,void 0,function*(){return window&&window.elrondWallet&&(this.initialized=!0),this.initialized})}login(e={}){return Mn(this,void 0,void 0,function*(){if(!this.initialized)throw new Error("Extension provider is not initialised, call init() first");let{token:t}=e,i=t||"";return yield this.startBgrMsgChannel(wc.Operation.Connect,i),this.account.address})}logout(){return Mn(this,void 0,void 0,function*(){if(!this.initialized)throw new Error("Extension provider is not initialised, call init() first");try{yield this.startBgrMsgChannel(wc.Operation.Logout,this.account.address),this.disconnect()}catch(e){console.warn("Extension origin url is already cleared!",e)}return!0})}disconnect(){this.account={address:""}}getAddress(){return Mn(this,void 0,void 0,function*(){if(!this.initialized)throw new Error("Extension provider is not initialised, call init() first");return this.account?this.account.address:""})}isInitialized(){return this.initialized}isConnected(){return Mn(this,void 0,void 0,function*(){return Boolean(this.account.address)})}signTransaction(e){return Mn(this,void 0,void 0,function*(){this.ensureConnected();let t=yield this.signTransactions([e]);if(t.length!=1)throw new Wb.ErrCannotSignSingleTransaction;return t[0]})}ensureConnected(){if(!this.account.address)throw new Wb.ErrAccountNotConnected}signTransactions(e){return Mn(this,void 0,void 0,function*(){this.ensureConnected();let t=yield this.startBgrMsgChannel(wc.Operation.SignTransactions,{from:this.account.address,transactions:e.map(i=>i.toPlainObject())});try{for(let i=0;i<e.length;i++){let n=e[i],s=t[i];n.applySignature(new rh.Signature(s.signature),new rh.Address(this.account.address))}return e}catch(i){throw new Error(`Transaction canceled: ${i.message}.`)}})}signMessage(e){return Mn(this,void 0,void 0,function*(){this.ensureConnected();let t={account:this.account.address,message:e.message.toString()},i=yield this.startBgrMsgChannel(wc.Operation.SignMessage,t);return e.applySignature(new rh.Signature(i.signature),new rh.Address(this.account.address)),e})}cancelAction(){return this.startBgrMsgChannel(wc.Operation.CancelAction,{})}startBgrMsgChannel(e,t){return new Promise(i=>{window.postMessage({target:"erdw-inpage",type:e,data:t},window.origin);let n=s=>{s.isTrusted&&s.data.target==="erdw-contentScript"&&(s.data.type==="connectResponse"?(s.data.data&&Boolean(s.data.data.address)&&(this.account=s.data.data),window.removeEventListener("message",n),i(s.data.data)):(window.removeEventListener("message",n),i(s.data.data)))};window.addEventListener("message",n,!1)})}};Oa.ExtensionProvider=Si;Si._instance=new Si});var tC=P((ZW,eC)=>{"use strict";f();function xR(r){try{return JSON.stringify(r)}catch{return'"[Circular]"'}}eC.exports=SR;function SR(r,e,t){var i=t&&t.stringify||xR,n=1;if(typeof r=="object"&&r!==null){var s=e.length+n;if(s===1)return r;var o=new Array(s);o[0]=i(r);for(var a=1;a<s;a++)o[a]=i(e[a]);return o.join(" ")}if(typeof r!="string")return r;var c=e.length;if(c===0)return r;for(var h="",p=1-n,A=-1,D=r&&r.length||0,O=0;O<D;){if(r.charCodeAt(O)===37&&O+1<D){switch(A=A>-1?A:0,r.charCodeAt(O+1)){case 100:case 102:if(p>=c||e[p]==null)break;A<O&&(h+=r.slice(A,O)),h+=Number(e[p]),A=O+2,O++;break;case 105:if(p>=c||e[p]==null)break;A<O&&(h+=r.slice(A,O)),h+=Math.floor(Number(e[p])),A=O+2,O++;break;case 79:case 111:case 106:if(p>=c||e[p]===void 0)break;A<O&&(h+=r.slice(A,O));var T=typeof e[p];if(T==="string"){h+="'"+e[p]+"'",A=O+2,O++;break}if(T==="function"){h+=e[p].name||"<anonymous>",A=O+2,O++;break}h+=i(e[p]),A=O+2,O++;break;case 115:if(p>=c)break;A<O&&(h+=r.slice(A,O)),h+=String(e[p]),A=O+2,O++;break;case 37:A<O&&(h+=r.slice(A,O)),h+="%",A=O+2,O++,p--;break}++p}++O}return A===-1?r:(A<D&&(h+=r.slice(A)),h)}});var ch=P((tY,sC)=>{"use strict";f();var rC=tC();sC.exports=Ni;var vc=FR().console||{},TR={mapHttpRequest:ah,mapHttpResponse:ah,wrapRequestSerializer:$y,wrapResponseSerializer:$y,wrapErrorSerializer:$y,req:ah,res:ah,err:PR};function NR(r,e){return Array.isArray(r)?r.filter(function(i){return i!=="!stdSerializers.err"}):r===!0?Object.keys(e):!1}function Ni(r){r=r||{},r.browser=r.browser||{};let e=r.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");let t=r.browser.write||vc;r.browser.write&&(r.browser.asObject=!0);let i=r.serializers||{},n=NR(r.browser.serialize,i),s=r.browser.serialize;Array.isArray(r.browser.serialize)&&r.browser.serialize.indexOf("!stdSerializers.err")>-1&&(s=!1);let o=["error","fatal","warn","info","debug","trace"];typeof t=="function"&&(t.error=t.fatal=t.warn=t.info=t.debug=t.trace=t),r.enabled===!1&&(r.level="silent");let a=r.level||"info",c=Object.create(t);c.log||(c.log=Ec),Object.defineProperty(c,"levelVal",{get:p}),Object.defineProperty(c,"level",{get:A,set:D});let h={transmit:e,serialize:n,asObject:r.browser.asObject,levels:o,timestamp:MR(r)};c.levels=Ni.levels,c.level=a,c.setMaxListeners=c.getMaxListeners=c.emit=c.addListener=c.on=c.prependListener=c.once=c.prependOnceListener=c.removeListener=c.removeAllListeners=c.listeners=c.listenerCount=c.eventNames=c.write=c.flush=Ec,c.serializers=i,c._serialize=n,c._stdErrSerialize=s,c.child=O,e&&(c._logEvent=Wy());function p(){return this.level==="silent"?1/0:this.levels.values[this.level]}function A(){return this._level}function D(T){if(T!=="silent"&&!this.levels.values[T])throw Error("unknown level "+T);this._level=T,Ba(h,c,"error","log"),Ba(h,c,"fatal","error"),Ba(h,c,"warn","error"),Ba(h,c,"info","log"),Ba(h,c,"debug","log"),Ba(h,c,"trace","log")}function O(T,V){if(!T)throw new Error("missing bindings for child Pino");V=V||{},n&&T.serializers&&(V.serializers=T.serializers);let Q=V.serializers;if(n&&Q){var j=Object.assign({},i,Q),ie=r.browser.serialize===!0?Object.keys(j):n;delete T.serializers,uh([T],ie,j,this._stdErrSerialize)}function Y(W){this._childLevel=(W._childLevel|0)+1,this.error=Pa(W,T,"error"),this.fatal=Pa(W,T,"fatal"),this.warn=Pa(W,T,"warn"),this.info=Pa(W,T,"info"),this.debug=Pa(W,T,"debug"),this.trace=Pa(W,T,"trace"),j&&(this.serializers=j,this._serialize=ie),e&&(this._logEvent=Wy([].concat(W._logEvent.bindings,T)))}return Y.prototype=this,new Y(this)}return c}Ni.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};Ni.stdSerializers=TR;Ni.stdTimeFunctions=Object.assign({},{nullTime:iC,epochTime:nC,unixTime:RR,isoTime:LR});function Ba(r,e,t,i){let n=Object.getPrototypeOf(e);e[t]=e.levelVal>e.levels.values[t]?Ec:n[t]?n[t]:vc[t]||vc[i]||Ec,DR(r,e,t)}function DR(r,e,t){!r.transmit&&e[t]===Ec||(e[t]=function(i){return function(){let s=r.timestamp(),o=new Array(arguments.length),a=Object.getPrototypeOf&&Object.getPrototypeOf(this)===vc?vc:this;for(var c=0;c<o.length;c++)o[c]=arguments[c];if(r.serialize&&!r.asObject&&uh(o,this._serialize,this.serializers,this._stdErrSerialize),r.asObject?i.call(a,OR(this,t,o,s)):i.apply(a,o),r.transmit){let h=r.transmit.level||e.level,p=Ni.levels.values[h],A=Ni.levels.values[t];if(A<p)return;BR(this,{ts:s,methodLevel:t,methodValue:A,transmitLevel:h,transmitValue:Ni.levels.values[r.transmit.level||e.level],send:r.transmit.send,val:e.levelVal},o)}}}(e[t]))}function OR(r,e,t,i){r._serialize&&uh(t,r._serialize,r.serializers,r._stdErrSerialize);let n=t.slice(),s=n[0],o={};i&&(o.time=i),o.level=Ni.levels.values[e];let a=(r._childLevel|0)+1;if(a<1&&(a=1),s!==null&&typeof s=="object"){for(;a--&&typeof n[0]=="object";)Object.assign(o,n.shift());s=n.length?rC(n.shift(),n):void 0}else typeof s=="string"&&(s=rC(n.shift(),n));return s!==void 0&&(o.msg=s),o}function uh(r,e,t,i){for(let n in r)if(i&&r[n]instanceof Error)r[n]=Ni.stdSerializers.err(r[n]);else if(typeof r[n]=="object"&&!Array.isArray(r[n]))for(let s in r[n])e&&e.indexOf(s)>-1&&s in t&&(r[n][s]=t[s](r[n][s]))}function Pa(r,e,t){return function(){let i=new Array(1+arguments.length);i[0]=e;for(var n=1;n<i.length;n++)i[n]=arguments[n-1];return r[t].apply(this,i)}}function BR(r,e,t){let i=e.send,n=e.ts,s=e.methodLevel,o=e.methodValue,a=e.val,c=r._logEvent.bindings;uh(t,r._serialize||Object.keys(r.serializers),r.serializers,r._stdErrSerialize===void 0?!0:r._stdErrSerialize),r._logEvent.ts=n,r._logEvent.messages=t.filter(function(h){return c.indexOf(h)===-1}),r._logEvent.level.label=s,r._logEvent.level.value=o,i(s,r._logEvent,a),r._logEvent=Wy(c)}function Wy(r){return{ts:0,messages:[],bindings:r||[],level:{label:"",value:0}}}function PR(r){let e={type:r.constructor.name,msg:r.message,stack:r.stack};for(let t in r)e[t]===void 0&&(e[t]=r[t]);return e}function MR(r){return typeof r.timestamp=="function"?r.timestamp:r.timestamp===!1?iC:nC}function ah(){return{}}function $y(r){return r}function Ec(){}function iC(){return!1}function nC(){return Date.now()}function RR(){return Math.round(Date.now()/1e3)}function LR(){return new Date(Date.now()).toISOString()}function FR(){function r(e){return typeof e<"u"&&e}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return r(self)||r(window)||r(this)||{}}}});var ks=P((iY,Yy)=>{"use strict";f();var Ma=typeof Reflect=="object"?Reflect:null,oC=Ma&&typeof Ma.apply=="function"?Ma.apply:function(e,t,i){return Function.prototype.apply.call(e,t,i)},lh;Ma&&typeof Ma.ownKeys=="function"?lh=Ma.ownKeys:Object.getOwnPropertySymbols?lh=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:lh=function(e){return Object.getOwnPropertyNames(e)};function UR(r){console&&console.warn&&console.warn(r)}var uC=Number.isNaN||function(e){return e!==e};function je(){je.init.call(this)}Yy.exports=je;Yy.exports.once=QR;je.EventEmitter=je;je.prototype._events=void 0;je.prototype._eventsCount=0;je.prototype._maxListeners=void 0;var aC=10;function fh(r){if(typeof r!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof r)}Object.defineProperty(je,"defaultMaxListeners",{enumerable:!0,get:function(){return aC},set:function(r){if(typeof r!="number"||r<0||uC(r))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+r+".");aC=r}});je.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};je.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||uC(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function cC(r){return r._maxListeners===void 0?je.defaultMaxListeners:r._maxListeners}je.prototype.getMaxListeners=function(){return cC(this)};je.prototype.emit=function(e){for(var t=[],i=1;i<arguments.length;i++)t.push(arguments[i]);var n=e==="error",s=this._events;if(s!==void 0)n=n&&s.error===void 0;else if(!n)return!1;if(n){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=s[e];if(c===void 0)return!1;if(typeof c=="function")oC(c,this,t);else for(var h=c.length,p=pC(c,h),i=0;i<h;++i)oC(p[i],this,t);return!0};function lC(r,e,t,i){var n,s,o;if(fh(t),s=r._events,s===void 0?(s=r._events=Object.create(null),r._eventsCount=0):(s.newListener!==void 0&&(r.emit("newListener",e,t.listener?t.listener:t),s=r._events),o=s[e]),o===void 0)o=s[e]=t,++r._eventsCount;else if(typeof o=="function"?o=s[e]=i?[t,o]:[o,t]:i?o.unshift(t):o.push(t),n=cC(r),n>0&&o.length>n&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=r,a.type=e,a.count=o.length,UR(a)}return r}je.prototype.addListener=function(e,t){return lC(this,e,t,!1)};je.prototype.on=je.prototype.addListener;je.prototype.prependListener=function(e,t){return lC(this,e,t,!0)};function qR(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function fC(r,e,t){var i={fired:!1,wrapFn:void 0,target:r,type:e,listener:t},n=qR.bind(i);return n.listener=t,i.wrapFn=n,n}je.prototype.once=function(e,t){return fh(t),this.on(e,fC(this,e,t)),this};je.prototype.prependOnceListener=function(e,t){return fh(t),this.prependListener(e,fC(this,e,t)),this};je.prototype.removeListener=function(e,t){var i,n,s,o,a;if(fh(t),n=this._events,n===void 0)return this;if(i=n[e],i===void 0)return this;if(i===t||i.listener===t)--this._eventsCount===0?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,i.listener||t));else if(typeof i!="function"){for(s=-1,o=i.length-1;o>=0;o--)if(i[o]===t||i[o].listener===t){a=i[o].listener,s=o;break}if(s<0)return this;s===0?i.shift():VR(i,s),i.length===1&&(n[e]=i[0]),n.removeListener!==void 0&&this.emit("removeListener",e,a||t)}return this};je.prototype.off=je.prototype.removeListener;je.prototype.removeAllListeners=function(e){var t,i,n;if(i=this._events,i===void 0)return this;if(i.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):i[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete i[e]),this;if(arguments.length===0){var s=Object.keys(i),o;for(n=0;n<s.length;++n)o=s[n],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=i[e],typeof t=="function")this.removeListener(e,t);else if(t!==void 0)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this};function hC(r,e,t){var i=r._events;if(i===void 0)return[];var n=i[e];return n===void 0?[]:typeof n=="function"?t?[n.listener||n]:[n]:t?HR(n):pC(n,n.length)}je.prototype.listeners=function(e){return hC(this,e,!0)};je.prototype.rawListeners=function(e){return hC(this,e,!1)};je.listenerCount=function(r,e){return typeof r.listenerCount=="function"?r.listenerCount(e):dC.call(r,e)};je.prototype.listenerCount=dC;function dC(r){var e=this._events;if(e!==void 0){var t=e[r];if(typeof t=="function")return 1;if(t!==void 0)return t.length}return 0}je.prototype.eventNames=function(){return this._eventsCount>0?lh(this._events):[]};function pC(r,e){for(var t=new Array(e),i=0;i<e;++i)t[i]=r[i];return t}function VR(r,e){for(;e+1<r.length;e++)r[e]=r[e+1];r.pop()}function HR(r){for(var e=new Array(r.length),t=0;t<e.length;++t)e[t]=r[t].listener||r[t];return e}function QR(r,e){return new Promise(function(t,i){function n(o){r.removeListener(e,s),i(o)}function s(){typeof r.removeListener=="function"&&r.removeListener("error",n),t([].slice.call(arguments))}gC(r,e,s,{once:!0}),e!=="error"&&jR(r,n,{once:!0})})}function jR(r,e,t){typeof r.on=="function"&&gC(r,"error",e,t)}function gC(r,e,t,i){if(typeof r.on=="function")i.once?r.once(e,t):r.on(e,t);else if(typeof r.addEventListener=="function")r.addEventListener(e,function n(s){i.once&&r.removeEventListener(e,n),t(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof r)}});var _r={};nt(_r,{__assign:()=>Xy,__asyncDelegator:()=>rL,__asyncGenerator:()=>tL,__asyncValues:()=>iL,__await:()=>Ac,__awaiter:()=>WR,__classPrivateFieldGet:()=>aL,__classPrivateFieldSet:()=>uL,__createBinding:()=>JR,__decorate:()=>zR,__exportStar:()=>XR,__extends:()=>GR,__generator:()=>YR,__importDefault:()=>oL,__importStar:()=>sL,__makeTemplateObject:()=>nL,__metadata:()=>$R,__param:()=>kR,__read:()=>yC,__rest:()=>KR,__spread:()=>ZR,__spreadArrays:()=>eL,__values:()=>Zy});function GR(r,e){Jy(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function KR(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(r);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(r,i[n])&&(t[i[n]]=r[i[n]]);return t}function zR(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s}function kR(r,e){return function(t,i){e(t,i,r)}}function $R(r,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,e)}function WR(r,e,t,i){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(p){try{h(i.next(p))}catch(A){o(A)}}function c(p){try{h(i.throw(p))}catch(A){o(A)}}function h(p){p.done?s(p.value):n(p.value).then(a,c)}h((i=i.apply(r,e||[])).next())})}function YR(r,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,n,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(h){return function(p){return c([h,p])}}function c(h){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,n&&(s=h[0]&2?n.return:h[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,h[1])).done)return s;switch(n=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return t.label++,{value:h[1],done:!1};case 5:t.label++,n=h[1],h=[0];continue;case 7:h=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){t=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){t.label=h[1];break}if(h[0]===6&&t.label<s[1]){t.label=s[1],s=h;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(h);break}s[2]&&t.ops.pop(),t.trys.pop();continue}h=e.call(r,t)}catch(p){h=[6,p],n=0}finally{i=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function JR(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}function XR(r,e){for(var t in r)t!=="default"&&!e.hasOwnProperty(t)&&(e[t]=r[t])}function Zy(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],i=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function yC(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var i=t.call(r),n,s=[],o;try{for(;(e===void 0||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(a){o={error:a}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return s}function ZR(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(yC(arguments[e]));return r}function eL(){for(var r=0,e=0,t=arguments.length;e<t;e++)r+=arguments[e].length;for(var i=Array(r),n=0,e=0;e<t;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,n++)i[n]=s[o];return i}function Ac(r){return this instanceof Ac?(this.v=r,this):new Ac(r)}function tL(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(r,e||[]),n,s=[];return n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n;function o(D){i[D]&&(n[D]=function(O){return new Promise(function(T,V){s.push([D,O,T,V])>1||a(D,O)})})}function a(D,O){try{c(i[D](O))}catch(T){A(s[0][3],T)}}function c(D){D.value instanceof Ac?Promise.resolve(D.value.v).then(h,p):A(s[0][2],D)}function h(D){a("next",D)}function p(D){a("throw",D)}function A(D,O){D(O),s.shift(),s.length&&a(s[0][0],s[0][1])}}function rL(r){var e,t;return e={},i("next"),i("throw",function(n){throw n}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(n,s){e[n]=r[n]?function(o){return(t=!t)?{value:Ac(r[n](o)),done:n==="return"}:s?s(o):o}:s}}function iL(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof Zy=="function"?Zy(r):r[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(s){t[s]=r[s]&&function(o){return new Promise(function(a,c){o=r[s](o),n(a,c,o.done,o.value)})}}function n(s,o,a,c){Promise.resolve(c).then(function(h){s({value:h,done:a})},o)}}function nL(r,e){return Object.defineProperty?Object.defineProperty(r,"raw",{value:e}):r.raw=e,r}function sL(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)Object.hasOwnProperty.call(r,t)&&(e[t]=r[t]);return e.default=r,e}function oL(r){return r&&r.__esModule?r:{default:r}}function aL(r,e){if(!e.has(r))throw new TypeError("attempted to get private field on non-instance");return e.get(r)}function uL(r,e,t){if(!e.has(r))throw new TypeError("attempted to set private field on non-instance");return e.set(r,t),t}var Jy,Xy,br=me(()=>{f();Jy=function(r,e){return Jy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])},Jy(r,e)};Xy=function(){return Xy=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++){t=arguments[i];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Xy.apply(this,arguments)}});var em=P(hh=>{"use strict";f();Object.defineProperty(hh,"__esModule",{value:!0});function cL(r){if(typeof r!="string")throw new Error(`Cannot safe json parse value of type ${typeof r}`);try{return JSON.parse(r)}catch{return r}}hh.safeJsonParse=cL;function lL(r){return typeof r=="string"?r:JSON.stringify(r,(e,t)=>typeof t>"u"?null:t)}hh.safeJsonStringify=lL});var mC=P((uY,dh)=>{"use strict";f();(function(){"use strict";let r;function e(){}r=e,r.prototype.getItem=function(t){return this.hasOwnProperty(t)?String(this[t]):null},r.prototype.setItem=function(t,i){this[t]=String(i)},r.prototype.removeItem=function(t){delete this[t]},r.prototype.clear=function(){let t=this;Object.keys(t).forEach(function(i){t[i]=void 0,delete t[i]})},r.prototype.key=function(t){return t=t||0,Object.keys(this)[t]},r.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof global<"u"&&global.localStorage?dh.exports=global.localStorage:typeof window<"u"&&window.localStorage?dh.exports=window.localStorage:dh.exports=new e})()});var wC=P(ph=>{"use strict";f();Object.defineProperty(ph,"__esModule",{value:!0});ph.IKeyValueStorage=void 0;var tm=class{};ph.IKeyValueStorage=tm});var vC=P(gh=>{"use strict";f();Object.defineProperty(gh,"__esModule",{value:!0});gh.parseEntry=void 0;var fL=em();function hL(r){var e;return[r[0],fL.safeJsonParse((e=r[1])!==null&&e!==void 0?e:"")]}gh.parseEntry=hL});var AC=P(yh=>{"use strict";f();Object.defineProperty(yh,"__esModule",{value:!0});var EC=(br(),st(_r));EC.__exportStar(wC(),yh);EC.__exportStar(vC(),yh)});var _C=P(Ic=>{"use strict";f();Object.defineProperty(Ic,"__esModule",{value:!0});Ic.KeyValueStorage=void 0;var Ra=(br(),st(_r)),IC=em(),dL=Ra.__importDefault(mC()),pL=AC(),mh=class{constructor(){this.localStorage=dL.default}getKeys(){return Ra.__awaiter(this,void 0,void 0,function*(){return Object.keys(this.localStorage)})}getEntries(){return Ra.__awaiter(this,void 0,void 0,function*(){return Object.entries(this.localStorage).map(pL.parseEntry)})}getItem(e){return Ra.__awaiter(this,void 0,void 0,function*(){let t=this.localStorage.getItem(e);if(t!==null)return IC.safeJsonParse(t)})}setItem(e,t){return Ra.__awaiter(this,void 0,void 0,function*(){this.localStorage.setItem(e,IC.safeJsonStringify(t))})}removeItem(e){return Ra.__awaiter(this,void 0,void 0,function*(){this.localStorage.removeItem(e)})}};Ic.KeyValueStorage=mh;Ic.default=mh});var bC=P(wh=>{"use strict";f();Object.defineProperty(wh,"__esModule",{value:!0});wh.delay=void 0;function gL(r){return new Promise(e=>{setTimeout(()=>{e(!0)},r)})}wh.delay=gL});var CC=P(La=>{"use strict";f();Object.defineProperty(La,"__esModule",{value:!0});La.ONE_THOUSAND=La.ONE_HUNDRED=void 0;La.ONE_HUNDRED=100;La.ONE_THOUSAND=1e3});var xC=P(ge=>{"use strict";f();Object.defineProperty(ge,"__esModule",{value:!0});ge.ONE_YEAR=ge.FOUR_WEEKS=ge.THREE_WEEKS=ge.TWO_WEEKS=ge.ONE_WEEK=ge.THIRTY_DAYS=ge.SEVEN_DAYS=ge.FIVE_DAYS=ge.THREE_DAYS=ge.ONE_DAY=ge.TWENTY_FOUR_HOURS=ge.TWELVE_HOURS=ge.SIX_HOURS=ge.THREE_HOURS=ge.ONE_HOUR=ge.SIXTY_MINUTES=ge.THIRTY_MINUTES=ge.TEN_MINUTES=ge.FIVE_MINUTES=ge.ONE_MINUTE=ge.SIXTY_SECONDS=ge.THIRTY_SECONDS=ge.TEN_SECONDS=ge.FIVE_SECONDS=ge.ONE_SECOND=void 0;ge.ONE_SECOND=1;ge.FIVE_SECONDS=5;ge.TEN_SECONDS=10;ge.THIRTY_SECONDS=30;ge.SIXTY_SECONDS=60;ge.ONE_MINUTE=ge.SIXTY_SECONDS;ge.FIVE_MINUTES=ge.ONE_MINUTE*5;ge.TEN_MINUTES=ge.ONE_MINUTE*10;ge.THIRTY_MINUTES=ge.ONE_MINUTE*30;ge.SIXTY_MINUTES=ge.ONE_MINUTE*60;ge.ONE_HOUR=ge.SIXTY_MINUTES;ge.THREE_HOURS=ge.ONE_HOUR*3;ge.SIX_HOURS=ge.ONE_HOUR*6;ge.TWELVE_HOURS=ge.ONE_HOUR*12;ge.TWENTY_FOUR_HOURS=ge.ONE_HOUR*24;ge.ONE_DAY=ge.TWENTY_FOUR_HOURS;ge.THREE_DAYS=ge.ONE_DAY*3;ge.FIVE_DAYS=ge.ONE_DAY*5;ge.SEVEN_DAYS=ge.ONE_DAY*7;ge.THIRTY_DAYS=ge.ONE_DAY*30;ge.ONE_WEEK=ge.SEVEN_DAYS;ge.TWO_WEEKS=ge.ONE_WEEK*2;ge.THREE_WEEKS=ge.ONE_WEEK*3;ge.FOUR_WEEKS=ge.ONE_WEEK*4;ge.ONE_YEAR=ge.ONE_DAY*365});var rm=P(vh=>{"use strict";f();Object.defineProperty(vh,"__esModule",{value:!0});var SC=(br(),st(_r));SC.__exportStar(CC(),vh);SC.__exportStar(xC(),vh)});var NC=P(Fa=>{"use strict";f();Object.defineProperty(Fa,"__esModule",{value:!0});Fa.fromMiliseconds=Fa.toMiliseconds=void 0;var TC=rm();function yL(r){return r*TC.ONE_THOUSAND}Fa.toMiliseconds=yL;function mL(r){return Math.floor(r/TC.ONE_THOUSAND)}Fa.fromMiliseconds=mL});var OC=P(Eh=>{"use strict";f();Object.defineProperty(Eh,"__esModule",{value:!0});var DC=(br(),st(_r));DC.__exportStar(bC(),Eh);DC.__exportStar(NC(),Eh)});var BC=P(_c=>{"use strict";f();Object.defineProperty(_c,"__esModule",{value:!0});_c.Watch=void 0;var Ah=class{constructor(){this.timestamps=new Map}start(e){if(this.timestamps.has(e))throw new Error(`Watch already started for label: ${e}`);this.timestamps.set(e,{started:Date.now()})}stop(e){let t=this.get(e);if(typeof t.elapsed<"u")throw new Error(`Watch already stopped for label: ${e}`);let i=Date.now()-t.started;this.timestamps.set(e,{started:t.started,elapsed:i})}get(e){let t=this.timestamps.get(e);if(typeof t>"u")throw new Error(`No timestamp found for label: ${e}`);return t}elapsed(e){let t=this.get(e);return t.elapsed||Date.now()-t.started}};_c.Watch=Ah;_c.default=Ah});var PC=P(Ih=>{"use strict";f();Object.defineProperty(Ih,"__esModule",{value:!0});Ih.IWatch=void 0;var im=class{};Ih.IWatch=im});var MC=P(nm=>{"use strict";f();Object.defineProperty(nm,"__esModule",{value:!0});var wL=(br(),st(_r));wL.__exportStar(PC(),nm)});var $s=P(Ua=>{"use strict";f();Object.defineProperty(Ua,"__esModule",{value:!0});var _h=(br(),st(_r));_h.__exportStar(OC(),Ua);_h.__exportStar(BC(),Ua);_h.__exportStar(MC(),Ua);_h.__exportStar(rm(),Ua)});var sm,RC=me(()=>{f();sm=class{}});var om={};nt(om,{IEvents:()=>sm});var am=me(()=>{f();RC()});var LC=P(bh=>{"use strict";f();Object.defineProperty(bh,"__esModule",{value:!0});bh.IHeartBeat=void 0;var vL=(am(),st(om)),um=class extends vL.IEvents{constructor(e){super()}};bh.IHeartBeat=um});var lm=P(cm=>{"use strict";f();Object.defineProperty(cm,"__esModule",{value:!0});var EL=(br(),st(_r));EL.__exportStar(LC(),cm)});var FC=P(qa=>{"use strict";f();Object.defineProperty(qa,"__esModule",{value:!0});qa.HEARTBEAT_EVENTS=qa.HEARTBEAT_INTERVAL=void 0;var AL=$s();qa.HEARTBEAT_INTERVAL=AL.FIVE_SECONDS;qa.HEARTBEAT_EVENTS={pulse:"heartbeat_pulse"}});var hm=P(fm=>{"use strict";f();Object.defineProperty(fm,"__esModule",{value:!0});var IL=(br(),st(_r));IL.__exportStar(FC(),fm)});var UC=P(Ch=>{"use strict";f();Object.defineProperty(Ch,"__esModule",{value:!0});Ch.HeartBeat=void 0;var dm=(br(),st(_r)),_L=ks(),bL=$s(),CL=lm(),pm=hm(),bc=class extends CL.IHeartBeat{constructor(e){super(e),this.events=new _L.EventEmitter,this.interval=pm.HEARTBEAT_INTERVAL,this.interval=e?.interval||pm.HEARTBEAT_INTERVAL}static init(e){return dm.__awaiter(this,void 0,void 0,function*(){let t=new bc(e);return yield t.init(),t})}init(){return dm.__awaiter(this,void 0,void 0,function*(){yield this.initialize()})}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}initialize(){return dm.__awaiter(this,void 0,void 0,function*(){setInterval(()=>this.pulse(),bL.toMiliseconds(this.interval))})}pulse(){this.events.emit(pm.HEARTBEAT_EVENTS.pulse)}};Ch.HeartBeat=bc});var qC=P(Cc=>{"use strict";f();Object.defineProperty(Cc,"__esModule",{value:!0});var gm=(br(),st(_r));gm.__exportStar(UC(),Cc);gm.__exportStar(lm(),Cc);gm.__exportStar(hm(),Cc)});var ym=P(Va=>{"use strict";f();Object.defineProperty(Va,"__esModule",{value:!0});Va.PINO_CUSTOM_CONTEXT_KEY=Va.PINO_LOGGER_DEFAULTS=void 0;Va.PINO_LOGGER_DEFAULTS={level:"info"};Va.PINO_CUSTOM_CONTEXT_KEY="custom_context"});var GC=P(mr=>{"use strict";f();Object.defineProperty(mr,"__esModule",{value:!0});mr.generateChildLogger=mr.formatChildLoggerContext=mr.getLoggerContext=mr.setBrowserLoggerContext=mr.getBrowserLoggerContext=mr.getDefaultLoggerOptions=void 0;var Ha=ym();function xL(r){return Object.assign(Object.assign({},r),{level:r?.level||Ha.PINO_LOGGER_DEFAULTS.level})}mr.getDefaultLoggerOptions=xL;function VC(r,e=Ha.PINO_CUSTOM_CONTEXT_KEY){return r[e]||""}mr.getBrowserLoggerContext=VC;function HC(r,e,t=Ha.PINO_CUSTOM_CONTEXT_KEY){return r[t]=e,r}mr.setBrowserLoggerContext=HC;function QC(r,e=Ha.PINO_CUSTOM_CONTEXT_KEY){let t="";return typeof r.bindings>"u"?t=VC(r,e):t=r.bindings().context||"",t}mr.getLoggerContext=QC;function jC(r,e,t=Ha.PINO_CUSTOM_CONTEXT_KEY){let i=QC(r,t);return i.trim()?`${i}/${e}`:e}mr.formatChildLoggerContext=jC;function SL(r,e,t=Ha.PINO_CUSTOM_CONTEXT_KEY){let i=jC(r,e,t),n=r.child({context:i});return HC(n,i,t)}mr.generateChildLogger=SL});var wm=P(Qa=>{"use strict";f();Object.defineProperty(Qa,"__esModule",{value:!0});Qa.pino=void 0;var mm=(br(),st(_r)),TL=mm.__importDefault(ch());Object.defineProperty(Qa,"pino",{enumerable:!0,get:function(){return TL.default}});mm.__exportStar(ym(),Qa);mm.__exportStar(GC(),Qa)});var Rm=P(kt=>{"use strict";f();Object.defineProperty(kt,"__esModule",{value:!0});var ja=(am(),st(om)),KC=ks();function NL(r){return r&&typeof r=="object"&&"default"in r?r:{default:r}}var DL=NL(KC),vm=class extends ja.IEvents{constructor(e){super(),this.opts=e,this.protocol="wc",this.version=2}},Em=class{constructor(e,t,i){this.core=e,this.logger=t}},Am=class extends ja.IEvents{constructor(e,t){super(),this.core=e,this.logger=t,this.records=new Map}},Im=class{constructor(e,t){this.logger=e,this.core=t}},_m=class extends ja.IEvents{constructor(e,t){super(),this.relayer=e,this.logger=t}},bm=class extends ja.IEvents{constructor(e){super()}},Cm=class{constructor(e,t,i,n){this.core=e,this.logger=t,this.name=i}},xm=class{constructor(){this.map=new Map}},Sm=class extends ja.IEvents{constructor(e,t){super(),this.relayer=e,this.logger=t}},Tm=class{constructor(e,t){this.core=e,this.logger=t}},Nm=class extends ja.IEvents{constructor(e,t){super(),this.core=e,this.logger=t}},Dm=class{constructor(e,t){this.logger=e,this.core=t}},Om=class extends DL.default{constructor(){super()}},Bm=class{constructor(e){this.opts=e,this.protocol="wc",this.version=2}},Pm=class extends KC.EventEmitter{constructor(){super()}},Mm=class{constructor(e){this.client=e}};kt.ICore=vm,kt.ICrypto=Em,kt.IEngine=Mm,kt.IEngineEvents=Pm,kt.IExpirer=Nm,kt.IJsonRpcHistory=Am,kt.IKeyChain=Tm,kt.IMessageTracker=Im,kt.IPairing=Dm,kt.IPublisher=_m,kt.IRelayer=bm,kt.ISignClient=Bm,kt.ISignClientEvents=Om,kt.IStore=Cm,kt.ISubscriber=Sm,kt.ISubscriberTopicMap=xm});var zC={};nt(zC,{safeJsonParse:()=>xc,safeJsonStringify:()=>Sc});function xc(r){if(typeof r!="string")throw new Error(`Cannot safe json parse value of type ${typeof r}`);try{return JSON.parse(r)}catch{return r}}function Sc(r){return typeof r=="string"?r:JSON.stringify(r)}var xh=me(()=>{f()});var $C=P(Sh=>{"use strict";f();Object.defineProperty(Sh,"__esModule",{value:!0});Sh.BrowserRandomSource=void 0;var kC=65536,Lm=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;let e=typeof self<"u"?self.crypto||self.msCrypto:null;e&&e.getRandomValues!==void 0&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");let t=new Uint8Array(e);for(let i=0;i<t.length;i+=kC)this._crypto.getRandomValues(t.subarray(i,i+Math.min(t.length-i,kC)));return t}};Sh.BrowserRandomSource=Lm});var qr=P(Fm=>{"use strict";f();Object.defineProperty(Fm,"__esModule",{value:!0});function OL(r){for(var e=0;e<r.length;e++)r[e]=0;return r}Fm.wipe=OL});var WC=P(()=>{f()});var YC=P(Th=>{"use strict";f();Object.defineProperty(Th,"__esModule",{value:!0});Th.NodeRandomSource=void 0;var BL=qr(),Um=class{constructor(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof SE<"u"){let e=WC();e&&e.randomBytes&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let t=this._crypto.randomBytes(e);if(t.length!==e)throw new Error("NodeRandomSource: got fewer bytes than requested");let i=new Uint8Array(e);for(let n=0;n<i.length;n++)i[n]=t[n];return(0,BL.wipe)(t),i}};Th.NodeRandomSource=Um});var JC=P(Nh=>{"use strict";f();Object.defineProperty(Nh,"__esModule",{value:!0});Nh.SystemRandomSource=void 0;var PL=$C(),ML=YC(),qm=class{constructor(){if(this.isAvailable=!1,this.name="",this._source=new PL.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new ML.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(e)}};Nh.SystemRandomSource=qm});var XC=P(Cr=>{"use strict";f();Object.defineProperty(Cr,"__esModule",{value:!0});function RL(r,e){var t=r>>>16&65535,i=r&65535,n=e>>>16&65535,s=e&65535;return i*s+(t*s+i*n<<16>>>0)|0}Cr.mul=Math.imul||RL;function LL(r,e){return r+e|0}Cr.add=LL;function FL(r,e){return r-e|0}Cr.sub=FL;function UL(r,e){return r<<e|r>>>32-e}Cr.rotl=UL;function qL(r,e){return r<<32-e|r>>>e}Cr.rotr=qL;function VL(r){return typeof r=="number"&&isFinite(r)&&Math.floor(r)===r}Cr.isInteger=Number.isInteger||VL;Cr.MAX_SAFE_INTEGER=9007199254740991;Cr.isSafeInteger=function(r){return Cr.isInteger(r)&&r>=-Cr.MAX_SAFE_INTEGER&&r<=Cr.MAX_SAFE_INTEGER}});var Ga=P(Oe=>{"use strict";f();Object.defineProperty(Oe,"__esModule",{value:!0});var ZC=XC();function HL(r,e){return e===void 0&&(e=0),(r[e+0]<<8|r[e+1])<<16>>16}Oe.readInt16BE=HL;function QL(r,e){return e===void 0&&(e=0),(r[e+0]<<8|r[e+1])>>>0}Oe.readUint16BE=QL;function jL(r,e){return e===void 0&&(e=0),(r[e+1]<<8|r[e])<<16>>16}Oe.readInt16LE=jL;function GL(r,e){return e===void 0&&(e=0),(r[e+1]<<8|r[e])>>>0}Oe.readUint16LE=GL;function ex(r,e,t){return e===void 0&&(e=new Uint8Array(2)),t===void 0&&(t=0),e[t+0]=r>>>8,e[t+1]=r>>>0,e}Oe.writeUint16BE=ex;Oe.writeInt16BE=ex;function tx(r,e,t){return e===void 0&&(e=new Uint8Array(2)),t===void 0&&(t=0),e[t+0]=r>>>0,e[t+1]=r>>>8,e}Oe.writeUint16LE=tx;Oe.writeInt16LE=tx;function Vm(r,e){return e===void 0&&(e=0),r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3]}Oe.readInt32BE=Vm;function Hm(r,e){return e===void 0&&(e=0),(r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3])>>>0}Oe.readUint32BE=Hm;function Qm(r,e){return e===void 0&&(e=0),r[e+3]<<24|r[e+2]<<16|r[e+1]<<8|r[e]}Oe.readInt32LE=Qm;function jm(r,e){return e===void 0&&(e=0),(r[e+3]<<24|r[e+2]<<16|r[e+1]<<8|r[e])>>>0}Oe.readUint32LE=jm;function Dh(r,e,t){return e===void 0&&(e=new Uint8Array(4)),t===void 0&&(t=0),e[t+0]=r>>>24,e[t+1]=r>>>16,e[t+2]=r>>>8,e[t+3]=r>>>0,e}Oe.writeUint32BE=Dh;Oe.writeInt32BE=Dh;function Oh(r,e,t){return e===void 0&&(e=new Uint8Array(4)),t===void 0&&(t=0),e[t+0]=r>>>0,e[t+1]=r>>>8,e[t+2]=r>>>16,e[t+3]=r>>>24,e}Oe.writeUint32LE=Oh;Oe.writeInt32LE=Oh;function KL(r,e){e===void 0&&(e=0);var t=Vm(r,e),i=Vm(r,e+4);return t*4294967296+i-(i>>31)*4294967296}Oe.readInt64BE=KL;function zL(r,e){e===void 0&&(e=0);var t=Hm(r,e),i=Hm(r,e+4);return t*4294967296+i}Oe.readUint64BE=zL;function kL(r,e){e===void 0&&(e=0);var t=Qm(r,e),i=Qm(r,e+4);return i*4294967296+t-(t>>31)*4294967296}Oe.readInt64LE=kL;function $L(r,e){e===void 0&&(e=0);var t=jm(r,e),i=jm(r,e+4);return i*4294967296+t}Oe.readUint64LE=$L;function rx(r,e,t){return e===void 0&&(e=new Uint8Array(8)),t===void 0&&(t=0),Dh(r/4294967296>>>0,e,t),Dh(r>>>0,e,t+4),e}Oe.writeUint64BE=rx;Oe.writeInt64BE=rx;function ix(r,e,t){return e===void 0&&(e=new Uint8Array(8)),t===void 0&&(t=0),Oh(r>>>0,e,t),Oh(r/4294967296>>>0,e,t+4),e}Oe.writeUint64LE=ix;Oe.writeInt64LE=ix;function WL(r,e,t){if(t===void 0&&(t=0),r%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(r/8>e.length-t)throw new Error("readUintBE: array is too short for the given bitLength");for(var i=0,n=1,s=r/8+t-1;s>=t;s--)i+=e[s]*n,n*=256;return i}Oe.readUintBE=WL;function YL(r,e,t){if(t===void 0&&(t=0),r%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(r/8>e.length-t)throw new Error("readUintLE: array is too short for the given bitLength");for(var i=0,n=1,s=t;s<t+r/8;s++)i+=e[s]*n,n*=256;return i}Oe.readUintLE=YL;function JL(r,e,t,i){if(t===void 0&&(t=new Uint8Array(r/8)),i===void 0&&(i=0),r%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!ZC.isSafeInteger(e))throw new Error("writeUintBE value must be an integer");for(var n=1,s=r/8+i-1;s>=i;s--)t[s]=e/n&255,n*=256;return t}Oe.writeUintBE=JL;function XL(r,e,t,i){if(t===void 0&&(t=new Uint8Array(r/8)),i===void 0&&(i=0),r%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!ZC.isSafeInteger(e))throw new Error("writeUintLE value must be an integer");for(var n=1,s=i;s<i+r/8;s++)t[s]=e/n&255,n*=256;return t}Oe.writeUintLE=XL;function ZL(r,e){e===void 0&&(e=0);var t=new DataView(r.buffer,r.byteOffset,r.byteLength);return t.getFloat32(e)}Oe.readFloat32BE=ZL;function eF(r,e){e===void 0&&(e=0);var t=new DataView(r.buffer,r.byteOffset,r.byteLength);return t.getFloat32(e,!0)}Oe.readFloat32LE=eF;function tF(r,e){e===void 0&&(e=0);var t=new DataView(r.buffer,r.byteOffset,r.byteLength);return t.getFloat64(e)}Oe.readFloat64BE=tF;function rF(r,e){e===void 0&&(e=0);var t=new DataView(r.buffer,r.byteOffset,r.byteLength);return t.getFloat64(e,!0)}Oe.readFloat64LE=rF;function iF(r,e,t){e===void 0&&(e=new Uint8Array(4)),t===void 0&&(t=0);var i=new DataView(e.buffer,e.byteOffset,e.byteLength);return i.setFloat32(t,r),e}Oe.writeFloat32BE=iF;function nF(r,e,t){e===void 0&&(e=new Uint8Array(4)),t===void 0&&(t=0);var i=new DataView(e.buffer,e.byteOffset,e.byteLength);return i.setFloat32(t,r,!0),e}Oe.writeFloat32LE=nF;function sF(r,e,t){e===void 0&&(e=new Uint8Array(8)),t===void 0&&(t=0);var i=new DataView(e.buffer,e.byteOffset,e.byteLength);return i.setFloat64(t,r),e}Oe.writeFloat64BE=sF;function oF(r,e,t){e===void 0&&(e=new Uint8Array(8)),t===void 0&&(t=0);var i=new DataView(e.buffer,e.byteOffset,e.byteLength);return i.setFloat64(t,r,!0),e}Oe.writeFloat64LE=oF});var Tc=P(or=>{"use strict";f();Object.defineProperty(or,"__esModule",{value:!0});or.randomStringForEntropy=or.randomString=or.randomUint32=or.randomBytes=or.defaultRandomSource=void 0;var aF=JC(),uF=Ga(),nx=qr();or.defaultRandomSource=new aF.SystemRandomSource;function Gm(r,e=or.defaultRandomSource){return e.randomBytes(r)}or.randomBytes=Gm;function cF(r=or.defaultRandomSource){let e=Gm(4,r),t=(0,uF.readUint32LE)(e);return(0,nx.wipe)(e),t}or.randomUint32=cF;var sx="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function ox(r,e=sx,t=or.defaultRandomSource){if(e.length<2)throw new Error("randomString charset is too short");if(e.length>256)throw new Error("randomString charset is too long");let i="",n=e.length,s=256-256%n;for(;r>0;){let o=Gm(Math.ceil(r*256/s),t);for(let a=0;a<o.length&&r>0;a++){let c=o[a];c<s&&(i+=e.charAt(c%n),r--)}(0,nx.wipe)(o)}return i}or.randomString=ox;function lF(r,e=sx,t=or.defaultRandomSource){let i=Math.ceil(r/(Math.log(e.length)/Math.LN2));return ox(i,e,t)}or.randomStringForEntropy=lF});var cx=P(Ji=>{"use strict";f();Object.defineProperty(Ji,"__esModule",{value:!0});var za=Ga(),Ka=qr();Ji.DIGEST_LENGTH=64;Ji.BLOCK_SIZE=128;var ux=function(){function r(){this.digestLength=Ji.DIGEST_LENGTH,this.blockSize=Ji.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return r.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},r.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},r.prototype.clean=function(){Ka.wipe(this._buffer),Ka.wipe(this._tempHi),Ka.wipe(this._tempLo),this.reset()},r.prototype.update=function(e,t){if(t===void 0&&(t=e.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var i=0;if(this._bytesHashed+=t,this._bufferLength>0){for(;this._bufferLength<Ji.BLOCK_SIZE&&t>0;)this._buffer[this._bufferLength++]=e[i++],t--;this._bufferLength===this.blockSize&&(Km(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(t>=this.blockSize&&(i=Km(this._tempHi,this._tempLo,this._stateHi,this._stateLo,e,i,t),t%=this.blockSize);t>0;)this._buffer[this._bufferLength++]=e[i++],t--;return this},r.prototype.finish=function(e){if(!this._finished){var t=this._bytesHashed,i=this._bufferLength,n=t/536870912|0,s=t<<3,o=t%128<112?128:256;this._buffer[i]=128;for(var a=i+1;a<o-8;a++)this._buffer[a]=0;za.writeUint32BE(n,this._buffer,o-8),za.writeUint32BE(s,this._buffer,o-4),Km(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,o),this._finished=!0}for(var a=0;a<this.digestLength/8;a++)za.writeUint32BE(this._stateHi[a],e,a*8),za.writeUint32BE(this._stateLo[a],e,a*8+4);return this},r.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},r.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},r.prototype.restoreState=function(e){return this._stateHi.set(e.stateHi),this._stateLo.set(e.stateLo),this._bufferLength=e.bufferLength,e.buffer&&this._buffer.set(e.buffer),this._bytesHashed=e.bytesHashed,this._finished=!1,this},r.prototype.cleanSavedState=function(e){Ka.wipe(e.stateHi),Ka.wipe(e.stateLo),e.buffer&&Ka.wipe(e.buffer),e.bufferLength=0,e.bytesHashed=0},r}();Ji.SHA512=ux;var ax=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function Km(r,e,t,i,n,s,o){for(var a=t[0],c=t[1],h=t[2],p=t[3],A=t[4],D=t[5],O=t[6],T=t[7],V=i[0],Q=i[1],j=i[2],ie=i[3],Y=i[4],W=i[5],$=i[6],k=i[7],R,F,K,ce,J,X,E,u;o>=128;){for(var d=0;d<16;d++){var g=8*d+s;r[d]=za.readUint32BE(n,g),e[d]=za.readUint32BE(n,g+4)}for(var d=0;d<80;d++){var m=a,w=c,x=h,N=p,I=A,l=D,C=O,Z=T,te=V,ee=Q,ae=j,v=ie,b=Y,S=W,L=$,B=k;if(R=T,F=k,J=F&65535,X=F>>>16,E=R&65535,u=R>>>16,R=(A>>>14|Y<<32-14)^(A>>>18|Y<<32-18)^(Y>>>41-32|A<<32-(41-32)),F=(Y>>>14|A<<32-14)^(Y>>>18|A<<32-18)^(A>>>41-32|Y<<32-(41-32)),J+=F&65535,X+=F>>>16,E+=R&65535,u+=R>>>16,R=A&D^~A&O,F=Y&W^~Y&$,J+=F&65535,X+=F>>>16,E+=R&65535,u+=R>>>16,R=ax[d*2],F=ax[d*2+1],J+=F&65535,X+=F>>>16,E+=R&65535,u+=R>>>16,R=r[d%16],F=e[d%16],J+=F&65535,X+=F>>>16,E+=R&65535,u+=R>>>16,X+=J>>>16,E+=X>>>16,u+=E>>>16,K=E&65535|u<<16,ce=J&65535|X<<16,R=K,F=ce,J=F&65535,X=F>>>16,E=R&65535,u=R>>>16,R=(a>>>28|V<<32-28)^(V>>>34-32|a<<32-(34-32))^(V>>>39-32|a<<32-(39-32)),F=(V>>>28|a<<32-28)^(a>>>34-32|V<<32-(34-32))^(a>>>39-32|V<<32-(39-32)),J+=F&65535,X+=F>>>16,E+=R&65535,u+=R>>>16,R=a&c^a&h^c&h,F=V&Q^V&j^Q&j,J+=F&65535,X+=F>>>16,E+=R&65535,u+=R>>>16,X+=J>>>16,E+=X>>>16,u+=E>>>16,Z=E&65535|u<<16,B=J&65535|X<<16,R=N,F=v,J=F&65535,X=F>>>16,E=R&65535,u=R>>>16,R=K,F=ce,J+=F&65535,X+=F>>>16,E+=R&65535,u+=R>>>16,X+=J>>>16,E+=X>>>16,u+=E>>>16,N=E&65535|u<<16,v=J&65535|X<<16,c=m,h=w,p=x,A=N,D=I,O=l,T=C,a=Z,Q=te,j=ee,ie=ae,Y=v,W=b,$=S,k=L,V=B,d%16===15)for(var g=0;g<16;g++)R=r[g],F=e[g],J=F&65535,X=F>>>16,E=R&65535,u=R>>>16,R=r[(g+9)%16],F=e[(g+9)%16],J+=F&65535,X+=F>>>16,E+=R&65535,u+=R>>>16,K=r[(g+1)%16],ce=e[(g+1)%16],R=(K>>>1|ce<<32-1)^(K>>>8|ce<<32-8)^K>>>7,F=(ce>>>1|K<<32-1)^(ce>>>8|K<<32-8)^(ce>>>7|K<<32-7),J+=F&65535,X+=F>>>16,E+=R&65535,u+=R>>>16,K=r[(g+14)%16],ce=e[(g+14)%16],R=(K>>>19|ce<<32-19)^(ce>>>61-32|K<<32-(61-32))^K>>>6,F=(ce>>>19|K<<32-19)^(K>>>61-32|ce<<32-(61-32))^(ce>>>6|K<<32-6),J+=F&65535,X+=F>>>16,E+=R&65535,u+=R>>>16,X+=J>>>16,E+=X>>>16,u+=E>>>16,r[g]=E&65535|u<<16,e[g]=J&65535|X<<16}R=a,F=V,J=F&65535,X=F>>>16,E=R&65535,u=R>>>16,R=t[0],F=i[0],J+=F&65535,X+=F>>>16,E+=R&65535,u+=R>>>16,X+=J>>>16,E+=X>>>16,u+=E>>>16,t[0]=a=E&65535|u<<16,i[0]=V=J&65535|X<<16,R=c,F=Q,J=F&65535,X=F>>>16,E=R&65535,u=R>>>16,R=t[1],F=i[1],J+=F&65535,X+=F>>>16,E+=R&65535,u+=R>>>16,X+=J>>>16,E+=X>>>16,u+=E>>>16,t[1]=c=E&65535|u<<16,i[1]=Q=J&65535|X<<16,R=h,F=j,J=F&65535,X=F>>>16,E=R&65535,u=R>>>16,R=t[2],F=i[2],J+=F&65535,X+=F>>>16,E+=R&65535,u+=R>>>16,X+=J>>>16,E+=X>>>16,u+=E>>>16,t[2]=h=E&65535|u<<16,i[2]=j=J&65535|X<<16,R=p,F=ie,J=F&65535,X=F>>>16,E=R&65535,u=R>>>16,R=t[3],F=i[3],J+=F&65535,X+=F>>>16,E+=R&65535,u+=R>>>16,X+=J>>>16,E+=X>>>16,u+=E>>>16,t[3]=p=E&65535|u<<16,i[3]=ie=J&65535|X<<16,R=A,F=Y,J=F&65535,X=F>>>16,E=R&65535,u=R>>>16,R=t[4],F=i[4],J+=F&65535,X+=F>>>16,E+=R&65535,u+=R>>>16,X+=J>>>16,E+=X>>>16,u+=E>>>16,t[4]=A=E&65535|u<<16,i[4]=Y=J&65535|X<<16,R=D,F=W,J=F&65535,X=F>>>16,E=R&65535,u=R>>>16,R=t[5],F=i[5],J+=F&65535,X+=F>>>16,E+=R&65535,u+=R>>>16,X+=J>>>16,E+=X>>>16,u+=E>>>16,t[5]=D=E&65535|u<<16,i[5]=W=J&65535|X<<16,R=O,F=$,J=F&65535,X=F>>>16,E=R&65535,u=R>>>16,R=t[6],F=i[6],J+=F&65535,X+=F>>>16,E+=R&65535,u+=R>>>16,X+=J>>>16,E+=X>>>16,u+=E>>>16,t[6]=O=E&65535|u<<16,i[6]=$=J&65535|X<<16,R=T,F=k,J=F&65535,X=F>>>16,E=R&65535,u=R>>>16,R=t[7],F=i[7],J+=F&65535,X+=F>>>16,E+=R&65535,u+=R>>>16,X+=J>>>16,E+=X>>>16,u+=E>>>16,t[7]=T=E&65535|u<<16,i[7]=k=J&65535|X<<16,s+=128,o-=128}return s}function fF(r){var e=new ux;e.update(r);var t=e.digest();return e.clean(),t}Ji.hash=fF});var _x=P(He=>{"use strict";f();Object.defineProperty(He,"__esModule",{value:!0});He.convertSecretKeyToX25519=He.convertPublicKeyToX25519=He.verify=He.sign=He.extractPublicKeyFromSecretKey=He.generateKeyPair=He.generateKeyPairFromSeed=He.SEED_LENGTH=He.SECRET_KEY_LENGTH=He.PUBLIC_KEY_LENGTH=He.SIGNATURE_LENGTH=void 0;var hF=Tc(),Nc=cx(),px=qr();He.SIGNATURE_LENGTH=64;He.PUBLIC_KEY_LENGTH=32;He.SECRET_KEY_LENGTH=64;He.SEED_LENGTH=32;function ve(r){let e=new Float64Array(16);if(r)for(let t=0;t<r.length;t++)e[t]=r[t];return e}var dF=new Uint8Array(32);dF[0]=9;var $m=ve(),ka=ve([1]),pF=ve([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),gF=ve([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),lx=ve([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),fx=ve([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),yF=ve([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function Rn(r,e){for(let t=0;t<16;t++)r[t]=e[t]|0}function zm(r){let e=1;for(let t=0;t<16;t++){let i=r[t]+e+65535;e=Math.floor(i/65536),r[t]=i-e*65536}r[0]+=e-1+37*(e-1)}function gx(r,e,t){let i=~(t-1);for(let n=0;n<16;n++){let s=i&(r[n]^e[n]);r[n]^=s,e[n]^=s}}function Dc(r,e){let t=ve(),i=ve();for(let n=0;n<16;n++)i[n]=e[n];zm(i),zm(i),zm(i);for(let n=0;n<2;n++){t[0]=i[0]-65517;for(let o=1;o<15;o++)t[o]=i[o]-65535-(t[o-1]>>16&1),t[o-1]&=65535;t[15]=i[15]-32767-(t[14]>>16&1);let s=t[15]>>16&1;t[14]&=65535,gx(i,t,1-s)}for(let n=0;n<16;n++)r[2*n]=i[n]&255,r[2*n+1]=i[n]>>8}function yx(r,e){let t=0;for(let i=0;i<32;i++)t|=r[i]^e[i];return(1&t-1>>>8)-1}function hx(r,e){let t=new Uint8Array(32),i=new Uint8Array(32);return Dc(t,r),Dc(i,e),yx(t,i)}function mx(r){let e=new Uint8Array(32);return Dc(e,r),e[0]&1}function mF(r,e){for(let t=0;t<16;t++)r[t]=e[2*t]+(e[2*t+1]<<8);r[15]&=32767}function Ws(r,e,t){for(let i=0;i<16;i++)r[i]=e[i]+t[i]}function Js(r,e,t){for(let i=0;i<16;i++)r[i]=e[i]-t[i]}function Ge(r,e,t){let i,n,s=0,o=0,a=0,c=0,h=0,p=0,A=0,D=0,O=0,T=0,V=0,Q=0,j=0,ie=0,Y=0,W=0,$=0,k=0,R=0,F=0,K=0,ce=0,J=0,X=0,E=0,u=0,d=0,g=0,m=0,w=0,x=0,N=t[0],I=t[1],l=t[2],C=t[3],Z=t[4],te=t[5],ee=t[6],ae=t[7],v=t[8],b=t[9],S=t[10],L=t[11],B=t[12],U=t[13],q=t[14],M=t[15];i=e[0],s+=i*N,o+=i*I,a+=i*l,c+=i*C,h+=i*Z,p+=i*te,A+=i*ee,D+=i*ae,O+=i*v,T+=i*b,V+=i*S,Q+=i*L,j+=i*B,ie+=i*U,Y+=i*q,W+=i*M,i=e[1],o+=i*N,a+=i*I,c+=i*l,h+=i*C,p+=i*Z,A+=i*te,D+=i*ee,O+=i*ae,T+=i*v,V+=i*b,Q+=i*S,j+=i*L,ie+=i*B,Y+=i*U,W+=i*q,$+=i*M,i=e[2],a+=i*N,c+=i*I,h+=i*l,p+=i*C,A+=i*Z,D+=i*te,O+=i*ee,T+=i*ae,V+=i*v,Q+=i*b,j+=i*S,ie+=i*L,Y+=i*B,W+=i*U,$+=i*q,k+=i*M,i=e[3],c+=i*N,h+=i*I,p+=i*l,A+=i*C,D+=i*Z,O+=i*te,T+=i*ee,V+=i*ae,Q+=i*v,j+=i*b,ie+=i*S,Y+=i*L,W+=i*B,$+=i*U,k+=i*q,R+=i*M,i=e[4],h+=i*N,p+=i*I,A+=i*l,D+=i*C,O+=i*Z,T+=i*te,V+=i*ee,Q+=i*ae,j+=i*v,ie+=i*b,Y+=i*S,W+=i*L,$+=i*B,k+=i*U,R+=i*q,F+=i*M,i=e[5],p+=i*N,A+=i*I,D+=i*l,O+=i*C,T+=i*Z,V+=i*te,Q+=i*ee,j+=i*ae,ie+=i*v,Y+=i*b,W+=i*S,$+=i*L,k+=i*B,R+=i*U,F+=i*q,K+=i*M,i=e[6],A+=i*N,D+=i*I,O+=i*l,T+=i*C,V+=i*Z,Q+=i*te,j+=i*ee,ie+=i*ae,Y+=i*v,W+=i*b,$+=i*S,k+=i*L,R+=i*B,F+=i*U,K+=i*q,ce+=i*M,i=e[7],D+=i*N,O+=i*I,T+=i*l,V+=i*C,Q+=i*Z,j+=i*te,ie+=i*ee,Y+=i*ae,W+=i*v,$+=i*b,k+=i*S,R+=i*L,F+=i*B,K+=i*U,ce+=i*q,J+=i*M,i=e[8],O+=i*N,T+=i*I,V+=i*l,Q+=i*C,j+=i*Z,ie+=i*te,Y+=i*ee,W+=i*ae,$+=i*v,k+=i*b,R+=i*S,F+=i*L,K+=i*B,ce+=i*U,J+=i*q,X+=i*M,i=e[9],T+=i*N,V+=i*I,Q+=i*l,j+=i*C,ie+=i*Z,Y+=i*te,W+=i*ee,$+=i*ae,k+=i*v,R+=i*b,F+=i*S,K+=i*L,ce+=i*B,J+=i*U,X+=i*q,E+=i*M,i=e[10],V+=i*N,Q+=i*I,j+=i*l,ie+=i*C,Y+=i*Z,W+=i*te,$+=i*ee,k+=i*ae,R+=i*v,F+=i*b,K+=i*S,ce+=i*L,J+=i*B,X+=i*U,E+=i*q,u+=i*M,i=e[11],Q+=i*N,j+=i*I,ie+=i*l,Y+=i*C,W+=i*Z,$+=i*te,k+=i*ee,R+=i*ae,F+=i*v,K+=i*b,ce+=i*S,J+=i*L,X+=i*B,E+=i*U,u+=i*q,d+=i*M,i=e[12],j+=i*N,ie+=i*I,Y+=i*l,W+=i*C,$+=i*Z,k+=i*te,R+=i*ee,F+=i*ae,K+=i*v,ce+=i*b,J+=i*S,X+=i*L,E+=i*B,u+=i*U,d+=i*q,g+=i*M,i=e[13],ie+=i*N,Y+=i*I,W+=i*l,$+=i*C,k+=i*Z,R+=i*te,F+=i*ee,K+=i*ae,ce+=i*v,J+=i*b,X+=i*S,E+=i*L,u+=i*B,d+=i*U,g+=i*q,m+=i*M,i=e[14],Y+=i*N,W+=i*I,$+=i*l,k+=i*C,R+=i*Z,F+=i*te,K+=i*ee,ce+=i*ae,J+=i*v,X+=i*b,E+=i*S,u+=i*L,d+=i*B,g+=i*U,m+=i*q,w+=i*M,i=e[15],W+=i*N,$+=i*I,k+=i*l,R+=i*C,F+=i*Z,K+=i*te,ce+=i*ee,J+=i*ae,X+=i*v,E+=i*b,u+=i*S,d+=i*L,g+=i*B,m+=i*U,w+=i*q,x+=i*M,s+=38*$,o+=38*k,a+=38*R,c+=38*F,h+=38*K,p+=38*ce,A+=38*J,D+=38*X,O+=38*E,T+=38*u,V+=38*d,Q+=38*g,j+=38*m,ie+=38*w,Y+=38*x,n=1,i=s+n+65535,n=Math.floor(i/65536),s=i-n*65536,i=o+n+65535,n=Math.floor(i/65536),o=i-n*65536,i=a+n+65535,n=Math.floor(i/65536),a=i-n*65536,i=c+n+65535,n=Math.floor(i/65536),c=i-n*65536,i=h+n+65535,n=Math.floor(i/65536),h=i-n*65536,i=p+n+65535,n=Math.floor(i/65536),p=i-n*65536,i=A+n+65535,n=Math.floor(i/65536),A=i-n*65536,i=D+n+65535,n=Math.floor(i/65536),D=i-n*65536,i=O+n+65535,n=Math.floor(i/65536),O=i-n*65536,i=T+n+65535,n=Math.floor(i/65536),T=i-n*65536,i=V+n+65535,n=Math.floor(i/65536),V=i-n*65536,i=Q+n+65535,n=Math.floor(i/65536),Q=i-n*65536,i=j+n+65535,n=Math.floor(i/65536),j=i-n*65536,i=ie+n+65535,n=Math.floor(i/65536),ie=i-n*65536,i=Y+n+65535,n=Math.floor(i/65536),Y=i-n*65536,i=W+n+65535,n=Math.floor(i/65536),W=i-n*65536,s+=n-1+37*(n-1),n=1,i=s+n+65535,n=Math.floor(i/65536),s=i-n*65536,i=o+n+65535,n=Math.floor(i/65536),o=i-n*65536,i=a+n+65535,n=Math.floor(i/65536),a=i-n*65536,i=c+n+65535,n=Math.floor(i/65536),c=i-n*65536,i=h+n+65535,n=Math.floor(i/65536),h=i-n*65536,i=p+n+65535,n=Math.floor(i/65536),p=i-n*65536,i=A+n+65535,n=Math.floor(i/65536),A=i-n*65536,i=D+n+65535,n=Math.floor(i/65536),D=i-n*65536,i=O+n+65535,n=Math.floor(i/65536),O=i-n*65536,i=T+n+65535,n=Math.floor(i/65536),T=i-n*65536,i=V+n+65535,n=Math.floor(i/65536),V=i-n*65536,i=Q+n+65535,n=Math.floor(i/65536),Q=i-n*65536,i=j+n+65535,n=Math.floor(i/65536),j=i-n*65536,i=ie+n+65535,n=Math.floor(i/65536),ie=i-n*65536,i=Y+n+65535,n=Math.floor(i/65536),Y=i-n*65536,i=W+n+65535,n=Math.floor(i/65536),W=i-n*65536,s+=n-1+37*(n-1),r[0]=s,r[1]=o,r[2]=a,r[3]=c,r[4]=h,r[5]=p,r[6]=A,r[7]=D,r[8]=O,r[9]=T,r[10]=V,r[11]=Q,r[12]=j,r[13]=ie,r[14]=Y,r[15]=W}function Ys(r,e){Ge(r,e,e)}function wx(r,e){let t=ve(),i;for(i=0;i<16;i++)t[i]=e[i];for(i=253;i>=0;i--)Ys(t,t),i!==2&&i!==4&&Ge(t,t,e);for(i=0;i<16;i++)r[i]=t[i]}function wF(r,e){let t=ve(),i;for(i=0;i<16;i++)t[i]=e[i];for(i=250;i>=0;i--)Ys(t,t),i!==1&&Ge(t,t,e);for(i=0;i<16;i++)r[i]=t[i]}function Wm(r,e){let t=ve(),i=ve(),n=ve(),s=ve(),o=ve(),a=ve(),c=ve(),h=ve(),p=ve();Js(t,r[1],r[0]),Js(p,e[1],e[0]),Ge(t,t,p),Ws(i,r[0],r[1]),Ws(p,e[0],e[1]),Ge(i,i,p),Ge(n,r[3],e[3]),Ge(n,n,gF),Ge(s,r[2],e[2]),Ws(s,s,s),Js(o,i,t),Js(a,s,n),Ws(c,s,n),Ws(h,i,t),Ge(r[0],o,a),Ge(r[1],h,c),Ge(r[2],c,a),Ge(r[3],o,h)}function dx(r,e,t){for(let i=0;i<4;i++)gx(r[i],e[i],t)}function Jm(r,e){let t=ve(),i=ve(),n=ve();wx(n,e[2]),Ge(t,e[0],n),Ge(i,e[1],n),Dc(r,i),r[31]^=mx(t)<<7}function vx(r,e,t){Rn(r[0],$m),Rn(r[1],ka),Rn(r[2],ka),Rn(r[3],$m);for(let i=255;i>=0;--i){let n=t[i/8|0]>>(i&7)&1;dx(r,e,n),Wm(e,r),Wm(r,r),dx(r,e,n)}}function Xm(r,e){let t=[ve(),ve(),ve(),ve()];Rn(t[0],lx),Rn(t[1],fx),Rn(t[2],ka),Ge(t[3],lx,fx),vx(r,t,e)}function Ex(r){if(r.length!==He.SEED_LENGTH)throw new Error(`ed25519: seed must be ${He.SEED_LENGTH} bytes`);let e=(0,Nc.hash)(r);e[0]&=248,e[31]&=127,e[31]|=64;let t=new Uint8Array(32),i=[ve(),ve(),ve(),ve()];Xm(i,e),Jm(t,i);let n=new Uint8Array(64);return n.set(r),n.set(t,32),{publicKey:t,secretKey:n}}He.generateKeyPairFromSeed=Ex;function vF(r){let e=(0,hF.randomBytes)(32,r),t=Ex(e);return(0,px.wipe)(e),t}He.generateKeyPair=vF;function EF(r){if(r.length!==He.SECRET_KEY_LENGTH)throw new Error(`ed25519: secret key must be ${He.SECRET_KEY_LENGTH} bytes`);return new Uint8Array(r.subarray(32))}He.extractPublicKeyFromSecretKey=EF;var km=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function Ax(r,e){let t,i,n,s;for(i=63;i>=32;--i){for(t=0,n=i-32,s=i-12;n<s;++n)e[n]+=t-16*e[i]*km[n-(i-32)],t=Math.floor((e[n]+128)/256),e[n]-=t*256;e[n]+=t,e[i]=0}for(t=0,n=0;n<32;n++)e[n]+=t-(e[31]>>4)*km[n],t=e[n]>>8,e[n]&=255;for(n=0;n<32;n++)e[n]-=t*km[n];for(i=0;i<32;i++)e[i+1]+=e[i]>>8,r[i]=e[i]&255}function Ym(r){let e=new Float64Array(64);for(let t=0;t<64;t++)e[t]=r[t];for(let t=0;t<64;t++)r[t]=0;Ax(r,e)}function AF(r,e){let t=new Float64Array(64),i=[ve(),ve(),ve(),ve()],n=(0,Nc.hash)(r.subarray(0,32));n[0]&=248,n[31]&=127,n[31]|=64;let s=new Uint8Array(64);s.set(n.subarray(32),32);let o=new Nc.SHA512;o.update(s.subarray(32)),o.update(e);let a=o.digest();o.clean(),Ym(a),Xm(i,a),Jm(s,i),o.reset(),o.update(s.subarray(0,32)),o.update(r.subarray(32)),o.update(e);let c=o.digest();Ym(c);for(let h=0;h<32;h++)t[h]=a[h];for(let h=0;h<32;h++)for(let p=0;p<32;p++)t[h+p]+=c[h]*n[p];return Ax(s.subarray(32),t),s}He.sign=AF;function Ix(r,e){let t=ve(),i=ve(),n=ve(),s=ve(),o=ve(),a=ve(),c=ve();return Rn(r[2],ka),mF(r[1],e),Ys(n,r[1]),Ge(s,n,pF),Js(n,n,r[2]),Ws(s,r[2],s),Ys(o,s),Ys(a,o),Ge(c,a,o),Ge(t,c,n),Ge(t,t,s),wF(t,t),Ge(t,t,n),Ge(t,t,s),Ge(t,t,s),Ge(r[0],t,s),Ys(i,r[0]),Ge(i,i,s),hx(i,n)&&Ge(r[0],r[0],yF),Ys(i,r[0]),Ge(i,i,s),hx(i,n)?-1:(mx(r[0])===e[31]>>7&&Js(r[0],$m,r[0]),Ge(r[3],r[0],r[1]),0)}function IF(r,e,t){let i=new Uint8Array(32),n=[ve(),ve(),ve(),ve()],s=[ve(),ve(),ve(),ve()];if(t.length!==He.SIGNATURE_LENGTH)throw new Error(`ed25519: signature must be ${He.SIGNATURE_LENGTH} bytes`);if(Ix(s,r))return!1;let o=new Nc.SHA512;o.update(t.subarray(0,32)),o.update(r),o.update(e);let a=o.digest();return Ym(a),vx(n,s,a),Xm(s,t.subarray(32)),Wm(n,s),Jm(i,n),!yx(t,i)}He.verify=IF;function _F(r){let e=[ve(),ve(),ve(),ve()];if(Ix(e,r))throw new Error("Ed25519: invalid public key");let t=ve(),i=ve(),n=e[1];Ws(t,ka,n),Js(i,ka,n),wx(i,i),Ge(t,t,i);let s=new Uint8Array(32);return Dc(s,t),s}He.convertPublicKeyToX25519=_F;function bF(r){let e=(0,Nc.hash)(r.subarray(0,32));e[0]&=248,e[31]&=127,e[31]|=64;let t=new Uint8Array(e.subarray(0,32));return(0,px.wipe)(e),t}He.convertSecretKeyToX25519=bF});var Bh,Ph,Xs,$a,Mh,Oc,Rh,Lh,Fh,Wa,Uh,qh,bx,Cx,Vh=me(()=>{f();Bh="EdDSA",Ph="JWT",Xs=".",$a="base64url",Mh="utf8",Oc="utf8",Rh=":",Lh="did",Fh="key",Wa="base58btc",Uh="z",qh="K36",bx=32,Cx=32});function Ya(r=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(r):new Uint8Array(r)}var Hh=me(()=>{f()});function Qh(r,e){e||(e=r.reduce((n,s)=>n+s.length,0));let t=Ya(e),i=0;for(let n of r)t.set(n,i),i+=n.length;return t}var Zm=me(()=>{f();Hh()});function CF(r,e){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),i=0;i<t.length;i++)t[i]=255;for(var n=0;n<r.length;n++){var s=r.charAt(n),o=s.charCodeAt(0);if(t[o]!==255)throw new TypeError(s+" is ambiguous");t[o]=n}var a=r.length,c=r.charAt(0),h=Math.log(a)/Math.log(256),p=Math.log(256)/Math.log(a);function A(T){if(T instanceof Uint8Array||(ArrayBuffer.isView(T)?T=new Uint8Array(T.buffer,T.byteOffset,T.byteLength):Array.isArray(T)&&(T=Uint8Array.from(T))),!(T instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(T.length===0)return"";for(var V=0,Q=0,j=0,ie=T.length;j!==ie&&T[j]===0;)j++,V++;for(var Y=(ie-j)*p+1>>>0,W=new Uint8Array(Y);j!==ie;){for(var $=T[j],k=0,R=Y-1;($!==0||k<Q)&&R!==-1;R--,k++)$+=256*W[R]>>>0,W[R]=$%a>>>0,$=$/a>>>0;if($!==0)throw new Error("Non-zero carry");Q=k,j++}for(var F=Y-Q;F!==Y&&W[F]===0;)F++;for(var K=c.repeat(V);F<Y;++F)K+=r.charAt(W[F]);return K}function D(T){if(typeof T!="string")throw new TypeError("Expected String");if(T.length===0)return new Uint8Array;var V=0;if(T[V]!==" "){for(var Q=0,j=0;T[V]===c;)Q++,V++;for(var ie=(T.length-V)*h+1>>>0,Y=new Uint8Array(ie);T[V];){var W=t[T.charCodeAt(V)];if(W===255)return;for(var $=0,k=ie-1;(W!==0||$<j)&&k!==-1;k--,$++)W+=a*Y[k]>>>0,Y[k]=W%256>>>0,W=W/256>>>0;if(W!==0)throw new Error("Non-zero carry");j=$,V++}if(T[V]!==" "){for(var R=ie-j;R!==ie&&Y[R]===0;)R++;for(var F=new Uint8Array(Q+(ie-R)),K=Q;R!==ie;)F[K++]=Y[R++];return F}}}function O(T){var V=D(T);if(V)return V;throw new Error(`Non-${e} character`)}return{encode:A,decodeUnsafe:D,decode:O}}var xF,SF,xx,Sx=me(()=>{f();xF=CF,SF=xF,xx=SF});var VJ,Tx,Xi,Nx,Dx,Ln=me(()=>{f();VJ=new Uint8Array(0),Tx=(r,e)=>{if(r===e)return!0;if(r.byteLength!==e.byteLength)return!1;for(let t=0;t<r.byteLength;t++)if(r[t]!==e[t])return!1;return!0},Xi=r=>{if(r instanceof Uint8Array&&r.constructor.name==="Uint8Array")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")},Nx=r=>new TextEncoder().encode(r),Dx=r=>new TextDecoder().decode(r)});var e1,t1,r1,Bx,i1,Ja,Fn,TF,NF,at,Jr=me(()=>{f();Sx();Ln();e1=class{constructor(e,t,i){this.name=e,this.prefix=t,this.baseEncode=i}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},t1=class{constructor(e,t,i){if(this.name=e,this.prefix=t,t.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=i}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Bx(this,e)}},r1=class{constructor(e){this.decoders=e}or(e){return Bx(this,e)}decode(e){let t=e[0],i=this.decoders[t];if(i)return i.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},Bx=(r,e)=>new r1({...r.decoders||{[r.prefix]:r},...e.decoders||{[e.prefix]:e}}),i1=class{constructor(e,t,i,n){this.name=e,this.prefix=t,this.baseEncode=i,this.baseDecode=n,this.encoder=new e1(e,t,i),this.decoder=new t1(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},Ja=({name:r,prefix:e,encode:t,decode:i})=>new i1(r,e,t,i),Fn=({prefix:r,name:e,alphabet:t})=>{let{encode:i,decode:n}=xx(t,e);return Ja({prefix:r,name:e,encode:i,decode:s=>Xi(n(s))})},TF=(r,e,t,i)=>{let n={};for(let p=0;p<e.length;++p)n[e[p]]=p;let s=r.length;for(;r[s-1]==="=";)--s;let o=new Uint8Array(s*t/8|0),a=0,c=0,h=0;for(let p=0;p<s;++p){let A=n[r[p]];if(A===void 0)throw new SyntaxError(`Non-${i} character`);c=c<<t|A,a+=t,a>=8&&(a-=8,o[h++]=255&c>>a)}if(a>=t||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},NF=(r,e,t)=>{let i=e[e.length-1]==="=",n=(1<<t)-1,s="",o=0,a=0;for(let c=0;c<r.length;++c)for(a=a<<8|r[c],o+=8;o>t;)o-=t,s+=e[n&a>>o];if(o&&(s+=e[n&a<<t-o]),i)for(;s.length*t&7;)s+="=";return s},at=({name:r,prefix:e,bitsPerChar:t,alphabet:i})=>Ja({prefix:e,name:r,encode(n){return NF(n,i,t)},decode(n){return TF(n,i,t,r)}})});var n1={};nt(n1,{identity:()=>DF});var DF,Px=me(()=>{f();Jr();Ln();DF=Ja({prefix:"\0",name:"identity",encode:r=>Dx(r),decode:r=>Nx(r)})});var s1={};nt(s1,{base2:()=>OF});var OF,Mx=me(()=>{f();Jr();OF=at({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1})});var o1={};nt(o1,{base8:()=>BF});var BF,Rx=me(()=>{f();Jr();BF=at({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3})});var a1={};nt(a1,{base10:()=>PF});var PF,Lx=me(()=>{f();Jr();PF=Fn({prefix:"9",name:"base10",alphabet:"0123456789"})});var u1={};nt(u1,{base16:()=>MF,base16upper:()=>RF});var MF,RF,Fx=me(()=>{f();Jr();MF=at({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),RF=at({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4})});var c1={};nt(c1,{base32:()=>Xa,base32hex:()=>qF,base32hexpad:()=>HF,base32hexpadupper:()=>QF,base32hexupper:()=>VF,base32pad:()=>FF,base32padupper:()=>UF,base32upper:()=>LF,base32z:()=>jF});var Xa,LF,FF,UF,qF,VF,HF,QF,jF,l1=me(()=>{f();Jr();Xa=at({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),LF=at({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),FF=at({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),UF=at({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),qF=at({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),VF=at({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),HF=at({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),QF=at({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),jF=at({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})});var f1={};nt(f1,{base36:()=>GF,base36upper:()=>KF});var GF,KF,Ux=me(()=>{f();Jr();GF=Fn({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),KF=Fn({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})});var h1={};nt(h1,{base58btc:()=>Di,base58flickr:()=>zF});var Di,zF,d1=me(()=>{f();Jr();Di=Fn({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),zF=Fn({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})});var p1={};nt(p1,{base64:()=>kF,base64pad:()=>$F,base64url:()=>WF,base64urlpad:()=>YF});var kF,$F,WF,YF,qx=me(()=>{f();Jr();kF=at({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),$F=at({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),WF=at({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),YF=at({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})});var g1={};nt(g1,{base256emoji:()=>t4});function ZF(r){return r.reduce((e,t)=>(e+=JF[t],e),"")}function e4(r){let e=[];for(let t of r){let i=XF[t.codePointAt(0)];if(i===void 0)throw new Error(`Non-base256emoji character: ${t}`);e.push(i)}return new Uint8Array(e)}var Vx,JF,XF,t4,Hx=me(()=>{f();Jr();Vx=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),JF=Vx.reduce((r,e,t)=>(r[t]=e,r),[]),XF=Vx.reduce((r,e,t)=>(r[e.codePointAt(0)]=t,r),[]);t4=Ja({prefix:"\u{1F680}",name:"base256emoji",encode:ZF,decode:e4})});function Gx(r,e,t){e=e||[],t=t||0;for(var i=t;r>=s4;)e[t++]=r&255|Qx,r/=128;for(;r&n4;)e[t++]=r&255|Qx,r>>>=7;return e[t]=r|0,Gx.bytes=t-i+1,e}function y1(r,i){var t=0,i=i||0,n=0,s=i,o,a=r.length;do{if(s>=a)throw y1.bytes=0,new RangeError("Could not decode varint");o=r[s++],t+=n<28?(o&jx)<<n:(o&jx)*Math.pow(2,n),n+=7}while(o>=a4);return y1.bytes=s-i,t}var r4,Qx,i4,n4,s4,o4,a4,jx,u4,c4,l4,f4,h4,d4,p4,g4,y4,m4,w4,v4,Bc,Kx=me(()=>{f();r4=Gx,Qx=128,i4=127,n4=~i4,s4=Math.pow(2,31);o4=y1,a4=128,jx=127;u4=Math.pow(2,7),c4=Math.pow(2,14),l4=Math.pow(2,21),f4=Math.pow(2,28),h4=Math.pow(2,35),d4=Math.pow(2,42),p4=Math.pow(2,49),g4=Math.pow(2,56),y4=Math.pow(2,63),m4=function(r){return r<u4?1:r<c4?2:r<l4?3:r<f4?4:r<h4?5:r<d4?6:r<p4?7:r<g4?8:r<y4?9:10},w4={encode:r4,decode:o4,encodingLength:m4},v4=w4,Bc=v4});var Pc,Za,eu,Gh=me(()=>{f();Kx();Pc=(r,e=0)=>[Bc.decode(r,e),Bc.decode.bytes],Za=(r,e,t=0)=>(Bc.encode(r,e,t),e),eu=r=>Bc.encodingLength(r)});var Zs,zx,kx,tu,Rc=me(()=>{f();Ln();Gh();Zs=(r,e)=>{let t=e.byteLength,i=eu(r),n=i+eu(t),s=new Uint8Array(n+t);return Za(r,s,0),Za(t,s,i),s.set(e,n),new tu(r,t,e,s)},zx=r=>{let e=Xi(r),[t,i]=Pc(e),[n,s]=Pc(e.subarray(i)),o=e.subarray(i+s);if(o.byteLength!==n)throw new Error("Incorrect length");return new tu(t,n,o,e)},kx=(r,e)=>r===e?!0:r.code===e.code&&r.size===e.size&&Tx(r.bytes,e.bytes),tu=class{constructor(e,t,i,n){this.code=e,this.size=t,this.digest=i,this.bytes=n}}});var w1,m1,v1=me(()=>{f();Rc();w1=({name:r,code:e,encode:t})=>new m1(r,e,t),m1=class{constructor(e,t,i){this.name=e,this.code=t,this.encode=i}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?Zs(this.code,t):t.then(i=>Zs(this.code,i))}else throw Error("Unknown type, must be binary type")}}});var E1={};nt(E1,{sha256:()=>E4,sha512:()=>A4});var Wx,E4,A4,Yx=me(()=>{f();v1();Wx=r=>async e=>new Uint8Array(await crypto.subtle.digest(r,e)),E4=w1({name:"sha2-256",code:18,encode:Wx("SHA-256")}),A4=w1({name:"sha2-512",code:19,encode:Wx("SHA-512")})});var A1={};nt(A1,{identity:()=>b4});var Jx,I4,Xx,_4,b4,Zx=me(()=>{f();Ln();Rc();Jx=0,I4="identity",Xx=Xi,_4=r=>Zs(Jx,Xx(r)),b4={code:Jx,name:I4,encode:Xx,digest:_4}});var eS=me(()=>{f();Ln()});var xX,SX,tS=me(()=>{f();xX=new TextEncoder,SX=new TextDecoder});var qt,S4,T4,N4,Lc,D4,rS,iS,Kh,zh,O4,B4,P4,nS=me(()=>{f();Gh();Rc();d1();l1();Ln();qt=class{constructor(e,t,i,n){this.code=t,this.version=e,this.multihash=i,this.bytes=n,this.byteOffset=n.byteOffset,this.byteLength=n.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:zh,byteLength:zh,code:Kh,version:Kh,multihash:Kh,bytes:Kh,_baseCache:zh,asCID:zh})}toV0(){switch(this.version){case 0:return this;default:{let{code:e,multihash:t}=this;if(e!==Lc)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==D4)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return qt.createV0(t)}}}toV1(){switch(this.version){case 0:{let{code:e,digest:t}=this.multihash,i=Zs(e,t);return qt.createV1(this.code,i)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&kx(this.multihash,e.multihash)}toString(e){let{bytes:t,version:i,_baseCache:n}=this;switch(i){case 0:return T4(t,n,e||Di.encoder);default:return N4(t,n,e||Xa.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return B4(/^0\.0/,P4),!!(e&&(e[iS]||e.asCID===e))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof qt)return e;if(e!=null&&e.asCID===e){let{version:t,code:i,multihash:n,bytes:s}=e;return new qt(t,i,n,s||rS(t,i,n.bytes))}else if(e!=null&&e[iS]===!0){let{version:t,multihash:i,code:n}=e,s=zx(i);return qt.create(t,n,s)}else return null}static create(e,t,i){if(typeof t!="number")throw new Error("String codecs are no longer supported");switch(e){case 0:{if(t!==Lc)throw new Error(`Version 0 CID must use dag-pb (code: ${Lc}) block encoding`);return new qt(e,t,i,i.bytes)}case 1:{let n=rS(e,t,i.bytes);return new qt(e,t,i,n)}default:throw new Error("Invalid version")}}static createV0(e){return qt.create(0,Lc,e)}static createV1(e,t){return qt.create(1,e,t)}static decode(e){let[t,i]=qt.decodeFirst(e);if(i.length)throw new Error("Incorrect length");return t}static decodeFirst(e){let t=qt.inspectBytes(e),i=t.size-t.multihashSize,n=Xi(e.subarray(i,i+t.multihashSize));if(n.byteLength!==t.multihashSize)throw new Error("Incorrect length");let s=n.subarray(t.multihashSize-t.digestSize),o=new tu(t.multihashCode,t.digestSize,s,n);return[t.version===0?qt.createV0(o):qt.createV1(t.codec,o),e.subarray(t.size)]}static inspectBytes(e){let t=0,i=()=>{let[A,D]=Pc(e.subarray(t));return t+=D,A},n=i(),s=Lc;if(n===18?(n=0,t=0):n===1&&(s=i()),n!==0&&n!==1)throw new RangeError(`Invalid CID version ${n}`);let o=t,a=i(),c=i(),h=t+c,p=h-o;return{version:n,codec:s,multihashCode:a,digestSize:c,multihashSize:p,size:h}}static parse(e,t){let[i,n]=S4(e,t),s=qt.decode(n);return s._baseCache.set(i,e),s}},S4=(r,e)=>{switch(r[0]){case"Q":{let t=e||Di;return[Di.prefix,t.decode(`${Di.prefix}${r}`)]}case Di.prefix:{let t=e||Di;return[Di.prefix,t.decode(r)]}case Xa.prefix:{let t=e||Xa;return[Xa.prefix,t.decode(r)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[r[0],e.decode(r)]}}},T4=(r,e,t)=>{let{prefix:i}=t;if(i!==Di.prefix)throw Error(`Cannot string encode V0 in ${t.name} encoding`);let n=e.get(i);if(n==null){let s=t.encode(r).slice(1);return e.set(i,s),s}else return n},N4=(r,e,t)=>{let{prefix:i}=t,n=e.get(i);if(n==null){let s=t.encode(r);return e.set(i,s),s}else return n},Lc=112,D4=18,rS=(r,e,t)=>{let i=eu(r),n=i+eu(e),s=new Uint8Array(n+t.byteLength);return Za(r,s,0),Za(e,s,i),s.set(t,n),s},iS=Symbol.for("@ipld/js-cid/CID"),Kh={writable:!1,configurable:!1,enumerable:!0},zh={writable:!1,enumerable:!1,configurable:!1},O4="0.0.0-dev",B4=(r,e)=>{if(r.test(O4))console.warn(e);else throw new Error(e)},P4=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`});var sS=me(()=>{f();nS();Gh();Ln();v1();Rc()});var I1,UX,oS=me(()=>{f();Px();Mx();Rx();Lx();Fx();l1();Ux();d1();qx();Hx();Yx();Zx();eS();tS();sS();I1={...n1,...s1,...o1,...a1,...u1,...c1,...f1,...h1,...p1,...g1},UX={...E1,...A1}});function uS(r,e,t,i){return{name:r,prefix:e,encoder:{name:r,prefix:e,encode:t},decoder:{decode:i}}}var aS,_1,M4,kh,b1=me(()=>{f();oS();Hh();aS=uS("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>new TextEncoder().encode(r.substring(1))),_1=uS("ascii","a",r=>{let e="a";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e},r=>{r=r.substring(1);let e=Ya(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}),M4={utf8:aS,"utf-8":aS,hex:I1.base16,latin1:_1,ascii:_1,binary:_1,...I1},kh=M4});function Zi(r,e="utf8"){let t=kh[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(r.buffer,r.byteOffset,r.byteLength).toString("utf8"):t.encoder.encode(r).substring(1)}var C1=me(()=>{f();b1()});function Oi(r,e="utf8"){let t=kh[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(r,"utf8"):t.decoder.decode(`${t.prefix}${r}`)}var x1=me(()=>{f();b1()});function Fc(r){return xc(Zi(Oi(r,$a),Mh))}function Uc(r){return Zi(Oi(Sc(r),Mh),$a)}function S1(r){let e=Oi(qh,Wa),t=Uh+Zi(Qh([e,r]),Wa);return[Lh,Fh,t].join(Rh)}function T1(r){let[e,t,i]=r.split(Rh);if(e!==Lh||t!==Fh)throw new Error('Issuer must be a DID with method "key"');if(i.slice(0,1)!==Uh)throw new Error("Issuer must be a key in mulicodec format");let s=Oi(i.slice(1),Wa);if(Zi(s.slice(0,2),Wa)!==qh)throw new Error('Issuer must be a public key with type "Ed25519"');let a=s.slice(2);if(a.length!==32)throw new Error("Issuer must be a public key with length 32 bytes");return a}function cS(r){return Zi(r,$a)}function lS(r){return Oi(r,$a)}function N1(r){return Oi([Uc(r.header),Uc(r.payload)].join(Xs),Oc)}function R4(r){let e=Zi(r,Oc).split(Xs),t=Fc(e[0]),i=Fc(e[1]);return{header:t,payload:i}}function D1(r){return[Uc(r.header),Uc(r.payload),cS(r.signature)].join(Xs)}function O1(r){let e=r.split(Xs),t=Fc(e[0]),i=Fc(e[1]),n=lS(e[2]),s=Oi(e.slice(0,2).join(Xs),Oc);return{header:t,payload:i,signature:n,data:s}}var B1=me(()=>{f();Zm();C1();x1();xh();Vh()});function L4(r=(0,fS.randomBytes)(32)){return ru.generateKeyPairFromSeed(r)}async function F4(r,e,t,i,n=(0,hS.fromMiliseconds)(Date.now())){let s={alg:Bh,typ:Ph},o=S1(i.publicKey),a=n+t,c={iss:o,sub:r,aud:e,iat:n,exp:a},h=N1({header:s,payload:c}),p=ru.sign(i.secretKey,h);return D1({header:s,payload:c,signature:p})}async function U4(r){let{header:e,payload:t,data:i,signature:n}=O1(r);if(e.alg!==Bh||e.typ!==Ph)throw new Error("JWT must use EdDSA algorithm");let s=T1(t.iss);return ru.verify(s,i,n)}var ru,fS,hS,dS=me(()=>{f();ru=_e(_x()),fS=_e(Tc()),hS=_e($s());Vh();B1()});var pS=me(()=>{f()});var gS={};nt(gS,{DATA_ENCODING:()=>Oc,DID_DELIMITER:()=>Rh,DID_METHOD:()=>Fh,DID_PREFIX:()=>Lh,JSON_ENCODING:()=>Mh,JWT_DELIMITER:()=>Xs,JWT_ENCODING:()=>$a,JWT_IRIDIUM_ALG:()=>Bh,JWT_IRIDIUM_TYP:()=>Ph,KEY_PAIR_SEED_LENGTH:()=>Cx,MULTICODEC_ED25519_BASE:()=>Uh,MULTICODEC_ED25519_ENCODING:()=>Wa,MULTICODEC_ED25519_HEADER:()=>qh,MULTICODEC_ED25519_LENGTH:()=>bx,decodeData:()=>R4,decodeIss:()=>T1,decodeJSON:()=>Fc,decodeJWT:()=>O1,decodeSig:()=>lS,encodeData:()=>N1,encodeIss:()=>S1,encodeJSON:()=>Uc,encodeJWT:()=>D1,encodeSig:()=>cS,generateKeyPair:()=>L4,signJWT:()=>F4,verifyJWT:()=>U4});var yS=me(()=>{f();dS();Vh();pS();B1()});var wS=P($h=>{"use strict";f();Object.defineProperty($h,"__esModule",{value:!0});var ar=Ga(),P1=qr(),q4=20;function V4(r,e,t){for(var i=1634760805,n=857760878,s=2036477234,o=1797285236,a=t[3]<<24|t[2]<<16|t[1]<<8|t[0],c=t[7]<<24|t[6]<<16|t[5]<<8|t[4],h=t[11]<<24|t[10]<<16|t[9]<<8|t[8],p=t[15]<<24|t[14]<<16|t[13]<<8|t[12],A=t[19]<<24|t[18]<<16|t[17]<<8|t[16],D=t[23]<<24|t[22]<<16|t[21]<<8|t[20],O=t[27]<<24|t[26]<<16|t[25]<<8|t[24],T=t[31]<<24|t[30]<<16|t[29]<<8|t[28],V=e[3]<<24|e[2]<<16|e[1]<<8|e[0],Q=e[7]<<24|e[6]<<16|e[5]<<8|e[4],j=e[11]<<24|e[10]<<16|e[9]<<8|e[8],ie=e[15]<<24|e[14]<<16|e[13]<<8|e[12],Y=i,W=n,$=s,k=o,R=a,F=c,K=h,ce=p,J=A,X=D,E=O,u=T,d=V,g=Q,m=j,w=ie,x=0;x<q4;x+=2)Y=Y+R|0,d^=Y,d=d>>>32-16|d<<16,J=J+d|0,R^=J,R=R>>>32-12|R<<12,W=W+F|0,g^=W,g=g>>>32-16|g<<16,X=X+g|0,F^=X,F=F>>>32-12|F<<12,$=$+K|0,m^=$,m=m>>>32-16|m<<16,E=E+m|0,K^=E,K=K>>>32-12|K<<12,k=k+ce|0,w^=k,w=w>>>32-16|w<<16,u=u+w|0,ce^=u,ce=ce>>>32-12|ce<<12,$=$+K|0,m^=$,m=m>>>32-8|m<<8,E=E+m|0,K^=E,K=K>>>32-7|K<<7,k=k+ce|0,w^=k,w=w>>>32-8|w<<8,u=u+w|0,ce^=u,ce=ce>>>32-7|ce<<7,W=W+F|0,g^=W,g=g>>>32-8|g<<8,X=X+g|0,F^=X,F=F>>>32-7|F<<7,Y=Y+R|0,d^=Y,d=d>>>32-8|d<<8,J=J+d|0,R^=J,R=R>>>32-7|R<<7,Y=Y+F|0,w^=Y,w=w>>>32-16|w<<16,E=E+w|0,F^=E,F=F>>>32-12|F<<12,W=W+K|0,d^=W,d=d>>>32-16|d<<16,u=u+d|0,K^=u,K=K>>>32-12|K<<12,$=$+ce|0,g^=$,g=g>>>32-16|g<<16,J=J+g|0,ce^=J,ce=ce>>>32-12|ce<<12,k=k+R|0,m^=k,m=m>>>32-16|m<<16,X=X+m|0,R^=X,R=R>>>32-12|R<<12,$=$+ce|0,g^=$,g=g>>>32-8|g<<8,J=J+g|0,ce^=J,ce=ce>>>32-7|ce<<7,k=k+R|0,m^=k,m=m>>>32-8|m<<8,X=X+m|0,R^=X,R=R>>>32-7|R<<7,W=W+K|0,d^=W,d=d>>>32-8|d<<8,u=u+d|0,K^=u,K=K>>>32-7|K<<7,Y=Y+F|0,w^=Y,w=w>>>32-8|w<<8,E=E+w|0,F^=E,F=F>>>32-7|F<<7;ar.writeUint32LE(Y+i|0,r,0),ar.writeUint32LE(W+n|0,r,4),ar.writeUint32LE($+s|0,r,8),ar.writeUint32LE(k+o|0,r,12),ar.writeUint32LE(R+a|0,r,16),ar.writeUint32LE(F+c|0,r,20),ar.writeUint32LE(K+h|0,r,24),ar.writeUint32LE(ce+p|0,r,28),ar.writeUint32LE(J+A|0,r,32),ar.writeUint32LE(X+D|0,r,36),ar.writeUint32LE(E+O|0,r,40),ar.writeUint32LE(u+T|0,r,44),ar.writeUint32LE(d+V|0,r,48),ar.writeUint32LE(g+Q|0,r,52),ar.writeUint32LE(m+j|0,r,56),ar.writeUint32LE(w+ie|0,r,60)}function mS(r,e,t,i,n){if(n===void 0&&(n=0),r.length!==32)throw new Error("ChaCha: key size must be 32 bytes");if(i.length<t.length)throw new Error("ChaCha: destination is shorter than source");var s,o;if(n===0){if(e.length!==8&&e.length!==12)throw new Error("ChaCha nonce must be 8 or 12 bytes");s=new Uint8Array(16),o=s.length-e.length,s.set(e,o)}else{if(e.length!==16)throw new Error("ChaCha nonce with counter must be 16 bytes");s=e,o=n}for(var a=new Uint8Array(64),c=0;c<t.length;c+=64){V4(a,s,r);for(var h=c;h<c+64&&h<t.length;h++)i[h]=t[h]^a[h-c];Q4(s,0,o)}return P1.wipe(a),n===0&&P1.wipe(s),i}$h.streamXOR=mS;function H4(r,e,t,i){return i===void 0&&(i=0),P1.wipe(t),mS(r,e,t,t,i)}$h.stream=H4;function Q4(r,e,t){for(var i=1;t--;)i=i+(r[e]&255)|0,r[e]=i&255,i>>>=8,e++;if(i>0)throw new Error("ChaCha: counter overflow")}});var Wh=P(iu=>{"use strict";f();Object.defineProperty(iu,"__esModule",{value:!0});function j4(r,e,t){return~(r-1)&e|r-1&t}iu.select=j4;function G4(r,e){return(r|0)-(e|0)-1>>>31&1}iu.lessOrEqual=G4;function vS(r,e){if(r.length!==e.length)return 0;for(var t=0,i=0;i<r.length;i++)t|=r[i]^e[i];return 1&t-1>>>8}iu.compare=vS;function K4(r,e){return r.length===0||e.length===0?!1:vS(r,e)!==0}iu.equal=K4});var AS=P(en=>{"use strict";f();Object.defineProperty(en,"__esModule",{value:!0});var z4=Wh(),Yh=qr();en.DIGEST_LENGTH=16;var ES=function(){function r(e){this.digestLength=en.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var t=e[0]|e[1]<<8;this._r[0]=t&8191;var i=e[2]|e[3]<<8;this._r[1]=(t>>>13|i<<3)&8191;var n=e[4]|e[5]<<8;this._r[2]=(i>>>10|n<<6)&7939;var s=e[6]|e[7]<<8;this._r[3]=(n>>>7|s<<9)&8191;var o=e[8]|e[9]<<8;this._r[4]=(s>>>4|o<<12)&255,this._r[5]=o>>>1&8190;var a=e[10]|e[11]<<8;this._r[6]=(o>>>14|a<<2)&8191;var c=e[12]|e[13]<<8;this._r[7]=(a>>>11|c<<5)&8065;var h=e[14]|e[15]<<8;this._r[8]=(c>>>8|h<<8)&8191,this._r[9]=h>>>5&127,this._pad[0]=e[16]|e[17]<<8,this._pad[1]=e[18]|e[19]<<8,this._pad[2]=e[20]|e[21]<<8,this._pad[3]=e[22]|e[23]<<8,this._pad[4]=e[24]|e[25]<<8,this._pad[5]=e[26]|e[27]<<8,this._pad[6]=e[28]|e[29]<<8,this._pad[7]=e[30]|e[31]<<8}return r.prototype._blocks=function(e,t,i){for(var n=this._fin?0:2048,s=this._h[0],o=this._h[1],a=this._h[2],c=this._h[3],h=this._h[4],p=this._h[5],A=this._h[6],D=this._h[7],O=this._h[8],T=this._h[9],V=this._r[0],Q=this._r[1],j=this._r[2],ie=this._r[3],Y=this._r[4],W=this._r[5],$=this._r[6],k=this._r[7],R=this._r[8],F=this._r[9];i>=16;){var K=e[t+0]|e[t+1]<<8;s+=K&8191;var ce=e[t+2]|e[t+3]<<8;o+=(K>>>13|ce<<3)&8191;var J=e[t+4]|e[t+5]<<8;a+=(ce>>>10|J<<6)&8191;var X=e[t+6]|e[t+7]<<8;c+=(J>>>7|X<<9)&8191;var E=e[t+8]|e[t+9]<<8;h+=(X>>>4|E<<12)&8191,p+=E>>>1&8191;var u=e[t+10]|e[t+11]<<8;A+=(E>>>14|u<<2)&8191;var d=e[t+12]|e[t+13]<<8;D+=(u>>>11|d<<5)&8191;var g=e[t+14]|e[t+15]<<8;O+=(d>>>8|g<<8)&8191,T+=g>>>5|n;var m=0,w=m;w+=s*V,w+=o*(5*F),w+=a*(5*R),w+=c*(5*k),w+=h*(5*$),m=w>>>13,w&=8191,w+=p*(5*W),w+=A*(5*Y),w+=D*(5*ie),w+=O*(5*j),w+=T*(5*Q),m+=w>>>13,w&=8191;var x=m;x+=s*Q,x+=o*V,x+=a*(5*F),x+=c*(5*R),x+=h*(5*k),m=x>>>13,x&=8191,x+=p*(5*$),x+=A*(5*W),x+=D*(5*Y),x+=O*(5*ie),x+=T*(5*j),m+=x>>>13,x&=8191;var N=m;N+=s*j,N+=o*Q,N+=a*V,N+=c*(5*F),N+=h*(5*R),m=N>>>13,N&=8191,N+=p*(5*k),N+=A*(5*$),N+=D*(5*W),N+=O*(5*Y),N+=T*(5*ie),m+=N>>>13,N&=8191;var I=m;I+=s*ie,I+=o*j,I+=a*Q,I+=c*V,I+=h*(5*F),m=I>>>13,I&=8191,I+=p*(5*R),I+=A*(5*k),I+=D*(5*$),I+=O*(5*W),I+=T*(5*Y),m+=I>>>13,I&=8191;var l=m;l+=s*Y,l+=o*ie,l+=a*j,l+=c*Q,l+=h*V,m=l>>>13,l&=8191,l+=p*(5*F),l+=A*(5*R),l+=D*(5*k),l+=O*(5*$),l+=T*(5*W),m+=l>>>13,l&=8191;var C=m;C+=s*W,C+=o*Y,C+=a*ie,C+=c*j,C+=h*Q,m=C>>>13,C&=8191,C+=p*V,C+=A*(5*F),C+=D*(5*R),C+=O*(5*k),C+=T*(5*$),m+=C>>>13,C&=8191;var Z=m;Z+=s*$,Z+=o*W,Z+=a*Y,Z+=c*ie,Z+=h*j,m=Z>>>13,Z&=8191,Z+=p*Q,Z+=A*V,Z+=D*(5*F),Z+=O*(5*R),Z+=T*(5*k),m+=Z>>>13,Z&=8191;var te=m;te+=s*k,te+=o*$,te+=a*W,te+=c*Y,te+=h*ie,m=te>>>13,te&=8191,te+=p*j,te+=A*Q,te+=D*V,te+=O*(5*F),te+=T*(5*R),m+=te>>>13,te&=8191;var ee=m;ee+=s*R,ee+=o*k,ee+=a*$,ee+=c*W,ee+=h*Y,m=ee>>>13,ee&=8191,ee+=p*ie,ee+=A*j,ee+=D*Q,ee+=O*V,ee+=T*(5*F),m+=ee>>>13,ee&=8191;var ae=m;ae+=s*F,ae+=o*R,ae+=a*k,ae+=c*$,ae+=h*W,m=ae>>>13,ae&=8191,ae+=p*Y,ae+=A*ie,ae+=D*j,ae+=O*Q,ae+=T*V,m+=ae>>>13,ae&=8191,m=(m<<2)+m|0,m=m+w|0,w=m&8191,m=m>>>13,x+=m,s=w,o=x,a=N,c=I,h=l,p=C,A=Z,D=te,O=ee,T=ae,t+=16,i-=16}this._h[0]=s,this._h[1]=o,this._h[2]=a,this._h[3]=c,this._h[4]=h,this._h[5]=p,this._h[6]=A,this._h[7]=D,this._h[8]=O,this._h[9]=T},r.prototype.finish=function(e,t){t===void 0&&(t=0);var i=new Uint16Array(10),n,s,o,a;if(this._leftover){for(a=this._leftover,this._buffer[a++]=1;a<16;a++)this._buffer[a]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(n=this._h[1]>>>13,this._h[1]&=8191,a=2;a<10;a++)this._h[a]+=n,n=this._h[a]>>>13,this._h[a]&=8191;for(this._h[0]+=n*5,n=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=n,n=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=n,i[0]=this._h[0]+5,n=i[0]>>>13,i[0]&=8191,a=1;a<10;a++)i[a]=this._h[a]+n,n=i[a]>>>13,i[a]&=8191;for(i[9]-=1<<13,s=(n^1)-1,a=0;a<10;a++)i[a]&=s;for(s=~s,a=0;a<10;a++)this._h[a]=this._h[a]&s|i[a];for(this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,o=this._h[0]+this._pad[0],this._h[0]=o&65535,a=1;a<8;a++)o=(this._h[a]+this._pad[a]|0)+(o>>>16)|0,this._h[a]=o&65535;return e[t+0]=this._h[0]>>>0,e[t+1]=this._h[0]>>>8,e[t+2]=this._h[1]>>>0,e[t+3]=this._h[1]>>>8,e[t+4]=this._h[2]>>>0,e[t+5]=this._h[2]>>>8,e[t+6]=this._h[3]>>>0,e[t+7]=this._h[3]>>>8,e[t+8]=this._h[4]>>>0,e[t+9]=this._h[4]>>>8,e[t+10]=this._h[5]>>>0,e[t+11]=this._h[5]>>>8,e[t+12]=this._h[6]>>>0,e[t+13]=this._h[6]>>>8,e[t+14]=this._h[7]>>>0,e[t+15]=this._h[7]>>>8,this._finished=!0,this},r.prototype.update=function(e){var t=0,i=e.length,n;if(this._leftover){n=16-this._leftover,n>i&&(n=i);for(var s=0;s<n;s++)this._buffer[this._leftover+s]=e[t+s];if(i-=n,t+=n,this._leftover+=n,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(i>=16&&(n=i-i%16,this._blocks(e,t,n),t+=n,i-=n),i){for(var s=0;s<i;s++)this._buffer[this._leftover+s]=e[t+s];this._leftover+=i}return this},r.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var e=new Uint8Array(16);return this.finish(e),e},r.prototype.clean=function(){return Yh.wipe(this._buffer),Yh.wipe(this._r),Yh.wipe(this._h),Yh.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},r}();en.Poly1305=ES;function k4(r,e){var t=new ES(r);t.update(e);var i=t.digest();return t.clean(),i}en.oneTimeAuth=k4;function $4(r,e){return r.length!==en.DIGEST_LENGTH||e.length!==en.DIGEST_LENGTH?!1:z4.equal(r,e)}en.equal=$4});var bS=P(tn=>{"use strict";f();Object.defineProperty(tn,"__esModule",{value:!0});var Jh=wS(),W4=AS(),qc=qr(),IS=Ga(),Y4=Wh();tn.KEY_LENGTH=32;tn.NONCE_LENGTH=12;tn.TAG_LENGTH=16;var _S=new Uint8Array(16),J4=function(){function r(e){if(this.nonceLength=tn.NONCE_LENGTH,this.tagLength=tn.TAG_LENGTH,e.length!==tn.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(e)}return r.prototype.seal=function(e,t,i,n){if(e.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var s=new Uint8Array(16);s.set(e,s.length-e.length);var o=new Uint8Array(32);Jh.stream(this._key,s,o,4);var a=t.length+this.tagLength,c;if(n){if(n.length!==a)throw new Error("ChaCha20Poly1305: incorrect destination length");c=n}else c=new Uint8Array(a);return Jh.streamXOR(this._key,s,t,c,4),this._authenticate(c.subarray(c.length-this.tagLength,c.length),o,c.subarray(0,c.length-this.tagLength),i),qc.wipe(s),c},r.prototype.open=function(e,t,i,n){if(e.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(t.length<this.tagLength)return null;var s=new Uint8Array(16);s.set(e,s.length-e.length);var o=new Uint8Array(32);Jh.stream(this._key,s,o,4);var a=new Uint8Array(this.tagLength);if(this._authenticate(a,o,t.subarray(0,t.length-this.tagLength),i),!Y4.equal(a,t.subarray(t.length-this.tagLength,t.length)))return null;var c=t.length-this.tagLength,h;if(n){if(n.length!==c)throw new Error("ChaCha20Poly1305: incorrect destination length");h=n}else h=new Uint8Array(c);return Jh.streamXOR(this._key,s,t.subarray(0,t.length-this.tagLength),h,4),qc.wipe(s),h},r.prototype.clean=function(){return qc.wipe(this._key),this},r.prototype._authenticate=function(e,t,i,n){var s=new W4.Poly1305(t);n&&(s.update(n),n.length%16>0&&s.update(_S.subarray(n.length%16))),s.update(i),i.length%16>0&&s.update(_S.subarray(i.length%16));var o=new Uint8Array(8);n&&IS.writeUint64LE(n.length,o),s.update(o),IS.writeUint64LE(i.length,o),s.update(o);for(var a=s.digest(),c=0;c<a.length;c++)e[c]=a[c];s.clean(),qc.wipe(a),qc.wipe(o)},r}();tn.ChaCha20Poly1305=J4});var CS=P(M1=>{"use strict";f();Object.defineProperty(M1,"__esModule",{value:!0});function X4(r){return typeof r.saveState<"u"&&typeof r.restoreState<"u"&&typeof r.cleanSavedState<"u"}M1.isSerializableHash=X4});var SS=P(Vc=>{"use strict";f();Object.defineProperty(Vc,"__esModule",{value:!0});var Bi=CS(),Z4=Wh(),eU=qr(),xS=function(){function r(e,t){this._finished=!1,this._inner=new e,this._outer=new e,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var i=new Uint8Array(this.blockSize);t.length>this.blockSize?this._inner.update(t).finish(i).clean():i.set(t);for(var n=0;n<i.length;n++)i[n]^=54;this._inner.update(i);for(var n=0;n<i.length;n++)i[n]^=106;this._outer.update(i),Bi.isSerializableHash(this._inner)&&Bi.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),eU.wipe(i)}return r.prototype.reset=function(){if(!Bi.isSerializableHash(this._inner)||!Bi.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},r.prototype.clean=function(){Bi.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),Bi.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},r.prototype.update=function(e){return this._inner.update(e),this},r.prototype.finish=function(e){return this._finished?(this._outer.finish(e),this):(this._inner.finish(e),this._outer.update(e.subarray(0,this.digestLength)).finish(e),this._finished=!0,this)},r.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},r.prototype.saveState=function(){if(!Bi.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},r.prototype.restoreState=function(e){if(!Bi.isSerializableHash(this._inner)||!Bi.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(e),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},r.prototype.cleanSavedState=function(e){if(!Bi.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(e)},r}();Vc.HMAC=xS;function tU(r,e,t){var i=new xS(r,e);i.update(t);var n=i.digest();return i.clean(),n}Vc.hmac=tU;Vc.equal=Z4.equal});var DS=P(R1=>{"use strict";f();Object.defineProperty(R1,"__esModule",{value:!0});var TS=SS(),NS=qr(),rU=function(){function r(e,t,i,n){i===void 0&&(i=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=e,this._info=n;var s=TS.hmac(this._hash,i,t);this._hmac=new TS.HMAC(e,s),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return r.prototype._fillBuffer=function(){this._counter[0]++;var e=this._counter[0];if(e===0)throw new Error("hkdf: cannot expand more");this._hmac.reset(),e>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},r.prototype.expand=function(e){for(var t=new Uint8Array(e),i=0;i<t.length;i++)this._bufpos===this._buffer.length&&this._fillBuffer(),t[i]=this._buffer[this._bufpos++];return t},r.prototype.clean=function(){this._hmac.clean(),NS.wipe(this._buffer),NS.wipe(this._counter),this._bufpos=0},r}();R1.HKDF=rU});var BS=P(Un=>{"use strict";f();Object.defineProperty(Un,"__esModule",{value:!0});var Zh=Ga(),Xh=qr();Un.DIGEST_LENGTH=32;Un.BLOCK_SIZE=64;var OS=function(){function r(){this.digestLength=Un.DIGEST_LENGTH,this.blockSize=Un.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return r.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},r.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},r.prototype.clean=function(){Xh.wipe(this._buffer),Xh.wipe(this._temp),this.reset()},r.prototype.update=function(e,t){if(t===void 0&&(t=e.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var i=0;if(this._bytesHashed+=t,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&t>0;)this._buffer[this._bufferLength++]=e[i++],t--;this._bufferLength===this.blockSize&&(L1(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(t>=this.blockSize&&(i=L1(this._temp,this._state,e,i,t),t%=this.blockSize);t>0;)this._buffer[this._bufferLength++]=e[i++],t--;return this},r.prototype.finish=function(e){if(!this._finished){var t=this._bytesHashed,i=this._bufferLength,n=t/536870912|0,s=t<<3,o=t%64<56?64:128;this._buffer[i]=128;for(var a=i+1;a<o-8;a++)this._buffer[a]=0;Zh.writeUint32BE(n,this._buffer,o-8),Zh.writeUint32BE(s,this._buffer,o-4),L1(this._temp,this._state,this._buffer,0,o),this._finished=!0}for(var a=0;a<this.digestLength/4;a++)Zh.writeUint32BE(this._state[a],e,a*4);return this},r.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},r.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},r.prototype.restoreState=function(e){return this._state.set(e.state),this._bufferLength=e.bufferLength,e.buffer&&this._buffer.set(e.buffer),this._bytesHashed=e.bytesHashed,this._finished=!1,this},r.prototype.cleanSavedState=function(e){Xh.wipe(e.state),e.buffer&&Xh.wipe(e.buffer),e.bufferLength=0,e.bytesHashed=0},r}();Un.SHA256=OS;var iU=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function L1(r,e,t,i,n){for(;n>=64;){for(var s=e[0],o=e[1],a=e[2],c=e[3],h=e[4],p=e[5],A=e[6],D=e[7],O=0;O<16;O++){var T=i+O*4;r[O]=Zh.readUint32BE(t,T)}for(var O=16;O<64;O++){var V=r[O-2],Q=(V>>>17|V<<32-17)^(V>>>19|V<<32-19)^V>>>10;V=r[O-15];var j=(V>>>7|V<<32-7)^(V>>>18|V<<32-18)^V>>>3;r[O]=(Q+r[O-7]|0)+(j+r[O-16]|0)}for(var O=0;O<64;O++){var Q=(((h>>>6|h<<26)^(h>>>11|h<<21)^(h>>>25|h<<7))+(h&p^~h&A)|0)+(D+(iU[O]+r[O]|0)|0)|0,j=((s>>>2|s<<32-2)^(s>>>13|s<<32-13)^(s>>>22|s<<32-22))+(s&o^s&a^o&a)|0;D=A,A=p,p=h,h=c+Q|0,c=a,a=o,o=s,s=Q+j|0}e[0]+=s,e[1]+=o,e[2]+=a,e[3]+=c,e[4]+=h,e[5]+=p,e[6]+=A,e[7]+=D,i+=64,n-=64}return i}function nU(r){var e=new OS;e.update(r);var t=e.digest();return e.clean(),t}Un.hash=nU});var LS=P(ut=>{"use strict";f();Object.defineProperty(ut,"__esModule",{value:!0});ut.sharedKey=ut.generateKeyPair=ut.generateKeyPairFromSeed=ut.scalarMultBase=ut.scalarMult=ut.SHARED_KEY_LENGTH=ut.SECRET_KEY_LENGTH=ut.PUBLIC_KEY_LENGTH=void 0;var sU=Tc(),oU=qr();ut.PUBLIC_KEY_LENGTH=32;ut.SECRET_KEY_LENGTH=32;ut.SHARED_KEY_LENGTH=32;function Pi(r){let e=new Float64Array(16);if(r)for(let t=0;t<r.length;t++)e[t]=r[t];return e}var PS=new Uint8Array(32);PS[0]=9;var aU=Pi([56129,1]);function F1(r){let e=1;for(let t=0;t<16;t++){let i=r[t]+e+65535;e=Math.floor(i/65536),r[t]=i-e*65536}r[0]+=e-1+37*(e-1)}function Hc(r,e,t){let i=~(t-1);for(let n=0;n<16;n++){let s=i&(r[n]^e[n]);r[n]^=s,e[n]^=s}}function uU(r,e){let t=Pi(),i=Pi();for(let n=0;n<16;n++)i[n]=e[n];F1(i),F1(i),F1(i);for(let n=0;n<2;n++){t[0]=i[0]-65517;for(let o=1;o<15;o++)t[o]=i[o]-65535-(t[o-1]>>16&1),t[o-1]&=65535;t[15]=i[15]-32767-(t[14]>>16&1);let s=t[15]>>16&1;t[14]&=65535,Hc(i,t,1-s)}for(let n=0;n<16;n++)r[2*n]=i[n]&255,r[2*n+1]=i[n]>>8}function cU(r,e){for(let t=0;t<16;t++)r[t]=e[2*t]+(e[2*t+1]<<8);r[15]&=32767}function ed(r,e,t){for(let i=0;i<16;i++)r[i]=e[i]+t[i]}function td(r,e,t){for(let i=0;i<16;i++)r[i]=e[i]-t[i]}function rn(r,e,t){let i,n,s=0,o=0,a=0,c=0,h=0,p=0,A=0,D=0,O=0,T=0,V=0,Q=0,j=0,ie=0,Y=0,W=0,$=0,k=0,R=0,F=0,K=0,ce=0,J=0,X=0,E=0,u=0,d=0,g=0,m=0,w=0,x=0,N=t[0],I=t[1],l=t[2],C=t[3],Z=t[4],te=t[5],ee=t[6],ae=t[7],v=t[8],b=t[9],S=t[10],L=t[11],B=t[12],U=t[13],q=t[14],M=t[15];i=e[0],s+=i*N,o+=i*I,a+=i*l,c+=i*C,h+=i*Z,p+=i*te,A+=i*ee,D+=i*ae,O+=i*v,T+=i*b,V+=i*S,Q+=i*L,j+=i*B,ie+=i*U,Y+=i*q,W+=i*M,i=e[1],o+=i*N,a+=i*I,c+=i*l,h+=i*C,p+=i*Z,A+=i*te,D+=i*ee,O+=i*ae,T+=i*v,V+=i*b,Q+=i*S,j+=i*L,ie+=i*B,Y+=i*U,W+=i*q,$+=i*M,i=e[2],a+=i*N,c+=i*I,h+=i*l,p+=i*C,A+=i*Z,D+=i*te,O+=i*ee,T+=i*ae,V+=i*v,Q+=i*b,j+=i*S,ie+=i*L,Y+=i*B,W+=i*U,$+=i*q,k+=i*M,i=e[3],c+=i*N,h+=i*I,p+=i*l,A+=i*C,D+=i*Z,O+=i*te,T+=i*ee,V+=i*ae,Q+=i*v,j+=i*b,ie+=i*S,Y+=i*L,W+=i*B,$+=i*U,k+=i*q,R+=i*M,i=e[4],h+=i*N,p+=i*I,A+=i*l,D+=i*C,O+=i*Z,T+=i*te,V+=i*ee,Q+=i*ae,j+=i*v,ie+=i*b,Y+=i*S,W+=i*L,$+=i*B,k+=i*U,R+=i*q,F+=i*M,i=e[5],p+=i*N,A+=i*I,D+=i*l,O+=i*C,T+=i*Z,V+=i*te,Q+=i*ee,j+=i*ae,ie+=i*v,Y+=i*b,W+=i*S,$+=i*L,k+=i*B,R+=i*U,F+=i*q,K+=i*M,i=e[6],A+=i*N,D+=i*I,O+=i*l,T+=i*C,V+=i*Z,Q+=i*te,j+=i*ee,ie+=i*ae,Y+=i*v,W+=i*b,$+=i*S,k+=i*L,R+=i*B,F+=i*U,K+=i*q,ce+=i*M,i=e[7],D+=i*N,O+=i*I,T+=i*l,V+=i*C,Q+=i*Z,j+=i*te,ie+=i*ee,Y+=i*ae,W+=i*v,$+=i*b,k+=i*S,R+=i*L,F+=i*B,K+=i*U,ce+=i*q,J+=i*M,i=e[8],O+=i*N,T+=i*I,V+=i*l,Q+=i*C,j+=i*Z,ie+=i*te,Y+=i*ee,W+=i*ae,$+=i*v,k+=i*b,R+=i*S,F+=i*L,K+=i*B,ce+=i*U,J+=i*q,X+=i*M,i=e[9],T+=i*N,V+=i*I,Q+=i*l,j+=i*C,ie+=i*Z,Y+=i*te,W+=i*ee,$+=i*ae,k+=i*v,R+=i*b,F+=i*S,K+=i*L,ce+=i*B,J+=i*U,X+=i*q,E+=i*M,i=e[10],V+=i*N,Q+=i*I,j+=i*l,ie+=i*C,Y+=i*Z,W+=i*te,$+=i*ee,k+=i*ae,R+=i*v,F+=i*b,K+=i*S,ce+=i*L,J+=i*B,X+=i*U,E+=i*q,u+=i*M,i=e[11],Q+=i*N,j+=i*I,ie+=i*l,Y+=i*C,W+=i*Z,$+=i*te,k+=i*ee,R+=i*ae,F+=i*v,K+=i*b,ce+=i*S,J+=i*L,X+=i*B,E+=i*U,u+=i*q,d+=i*M,i=e[12],j+=i*N,ie+=i*I,Y+=i*l,W+=i*C,$+=i*Z,k+=i*te,R+=i*ee,F+=i*ae,K+=i*v,ce+=i*b,J+=i*S,X+=i*L,E+=i*B,u+=i*U,d+=i*q,g+=i*M,i=e[13],ie+=i*N,Y+=i*I,W+=i*l,$+=i*C,k+=i*Z,R+=i*te,F+=i*ee,K+=i*ae,ce+=i*v,J+=i*b,X+=i*S,E+=i*L,u+=i*B,d+=i*U,g+=i*q,m+=i*M,i=e[14],Y+=i*N,W+=i*I,$+=i*l,k+=i*C,R+=i*Z,F+=i*te,K+=i*ee,ce+=i*ae,J+=i*v,X+=i*b,E+=i*S,u+=i*L,d+=i*B,g+=i*U,m+=i*q,w+=i*M,i=e[15],W+=i*N,$+=i*I,k+=i*l,R+=i*C,F+=i*Z,K+=i*te,ce+=i*ee,J+=i*ae,X+=i*v,E+=i*b,u+=i*S,d+=i*L,g+=i*B,m+=i*U,w+=i*q,x+=i*M,s+=38*$,o+=38*k,a+=38*R,c+=38*F,h+=38*K,p+=38*ce,A+=38*J,D+=38*X,O+=38*E,T+=38*u,V+=38*d,Q+=38*g,j+=38*m,ie+=38*w,Y+=38*x,n=1,i=s+n+65535,n=Math.floor(i/65536),s=i-n*65536,i=o+n+65535,n=Math.floor(i/65536),o=i-n*65536,i=a+n+65535,n=Math.floor(i/65536),a=i-n*65536,i=c+n+65535,n=Math.floor(i/65536),c=i-n*65536,i=h+n+65535,n=Math.floor(i/65536),h=i-n*65536,i=p+n+65535,n=Math.floor(i/65536),p=i-n*65536,i=A+n+65535,n=Math.floor(i/65536),A=i-n*65536,i=D+n+65535,n=Math.floor(i/65536),D=i-n*65536,i=O+n+65535,n=Math.floor(i/65536),O=i-n*65536,i=T+n+65535,n=Math.floor(i/65536),T=i-n*65536,i=V+n+65535,n=Math.floor(i/65536),V=i-n*65536,i=Q+n+65535,n=Math.floor(i/65536),Q=i-n*65536,i=j+n+65535,n=Math.floor(i/65536),j=i-n*65536,i=ie+n+65535,n=Math.floor(i/65536),ie=i-n*65536,i=Y+n+65535,n=Math.floor(i/65536),Y=i-n*65536,i=W+n+65535,n=Math.floor(i/65536),W=i-n*65536,s+=n-1+37*(n-1),n=1,i=s+n+65535,n=Math.floor(i/65536),s=i-n*65536,i=o+n+65535,n=Math.floor(i/65536),o=i-n*65536,i=a+n+65535,n=Math.floor(i/65536),a=i-n*65536,i=c+n+65535,n=Math.floor(i/65536),c=i-n*65536,i=h+n+65535,n=Math.floor(i/65536),h=i-n*65536,i=p+n+65535,n=Math.floor(i/65536),p=i-n*65536,i=A+n+65535,n=Math.floor(i/65536),A=i-n*65536,i=D+n+65535,n=Math.floor(i/65536),D=i-n*65536,i=O+n+65535,n=Math.floor(i/65536),O=i-n*65536,i=T+n+65535,n=Math.floor(i/65536),T=i-n*65536,i=V+n+65535,n=Math.floor(i/65536),V=i-n*65536,i=Q+n+65535,n=Math.floor(i/65536),Q=i-n*65536,i=j+n+65535,n=Math.floor(i/65536),j=i-n*65536,i=ie+n+65535,n=Math.floor(i/65536),ie=i-n*65536,i=Y+n+65535,n=Math.floor(i/65536),Y=i-n*65536,i=W+n+65535,n=Math.floor(i/65536),W=i-n*65536,s+=n-1+37*(n-1),r[0]=s,r[1]=o,r[2]=a,r[3]=c,r[4]=h,r[5]=p,r[6]=A,r[7]=D,r[8]=O,r[9]=T,r[10]=V,r[11]=Q,r[12]=j,r[13]=ie,r[14]=Y,r[15]=W}function Qc(r,e){rn(r,e,e)}function lU(r,e){let t=Pi();for(let i=0;i<16;i++)t[i]=e[i];for(let i=253;i>=0;i--)Qc(t,t),i!==2&&i!==4&&rn(t,t,e);for(let i=0;i<16;i++)r[i]=t[i]}function U1(r,e){let t=new Uint8Array(32),i=new Float64Array(80),n=Pi(),s=Pi(),o=Pi(),a=Pi(),c=Pi(),h=Pi();for(let O=0;O<31;O++)t[O]=r[O];t[31]=r[31]&127|64,t[0]&=248,cU(i,e);for(let O=0;O<16;O++)s[O]=i[O];n[0]=a[0]=1;for(let O=254;O>=0;--O){let T=t[O>>>3]>>>(O&7)&1;Hc(n,s,T),Hc(o,a,T),ed(c,n,o),td(n,n,o),ed(o,s,a),td(s,s,a),Qc(a,c),Qc(h,n),rn(n,o,n),rn(o,s,c),ed(c,n,o),td(n,n,o),Qc(s,n),td(o,a,h),rn(n,o,aU),ed(n,n,a),rn(o,o,n),rn(n,a,h),rn(a,s,i),Qc(s,c),Hc(n,s,T),Hc(o,a,T)}for(let O=0;O<16;O++)i[O+16]=n[O],i[O+32]=o[O],i[O+48]=s[O],i[O+64]=a[O];let p=i.subarray(32),A=i.subarray(16);lU(p,p),rn(A,A,p);let D=new Uint8Array(32);return uU(D,A),D}ut.scalarMult=U1;function MS(r){return U1(r,PS)}ut.scalarMultBase=MS;function RS(r){if(r.length!==ut.SECRET_KEY_LENGTH)throw new Error(`x25519: seed must be ${ut.SECRET_KEY_LENGTH} bytes`);let e=new Uint8Array(r);return{publicKey:MS(e),secretKey:e}}ut.generateKeyPairFromSeed=RS;function fU(r){let e=(0,sU.randomBytes)(32,r),t=RS(e);return(0,oU.wipe)(e),t}ut.generateKeyPair=fU;function hU(r,e,t=!1){if(r.length!==ut.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect secret key length");if(e.length!==ut.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect public key length");let i=U1(r,e);if(t){let n=0;for(let s=0;s<i.length;s++)n|=i[s];if(n===0)throw new Error("X25519: invalid shared key")}return i}ut.sharedKey=hU});function FS(r,e){for(let t=0;t<r.byteLength;t++){if(r[t]<e[t])return-1;if(r[t]>e[t])return 1}return r.byteLength>e.byteLength?1:r.byteLength<e.byteLength?-1:0}var US=me(()=>{f()});function qS(r,e){if(r===e)return!0;if(r.byteLength!==e.byteLength)return!1;for(let t=0;t<r.byteLength;t++)if(r[t]!==e[t])return!1;return!0}var VS=me(()=>{f()});function HS(r,e){if(r.length!==e.length)throw new Error("Inputs should have the same length");let t=Ya(r.length);for(let i=0;i<r.length;i++)t[i]=r[i]^e[i];return t}var QS=me(()=>{f();Hh()});var jS={};nt(jS,{compare:()=>FS,concat:()=>Qh,equals:()=>qS,fromString:()=>Oi,toString:()=>Zi,xor:()=>HS});var GS=me(()=>{f();US();Zm();VS();x1();C1();QS()});var r2=P(tt=>{"use strict";f();var KS=tt&&tt.__spreadArray||function(r,e,t){if(t||arguments.length===2)for(var i=0,n=e.length,s;i<n;i++)(s||!(i in e))&&(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return r.concat(s||Array.prototype.slice.call(e))};Object.defineProperty(tt,"__esModule",{value:!0});tt.getNodeVersion=tt.detectOS=tt.parseUserAgent=tt.browserName=tt.detect=tt.ReactNativeInfo=tt.BotInfo=tt.SearchBotDeviceInfo=tt.NodeInfo=tt.BrowserInfo=void 0;var $S=function(){function r(e,t,i){this.name=e,this.version=t,this.os=i,this.type="browser"}return r}();tt.BrowserInfo=$S;var WS=function(){function r(e){this.version=e,this.type="node",this.name="node",this.os=_.default.platform}return r}();tt.NodeInfo=WS;var YS=function(){function r(e,t,i,n){this.name=e,this.version=t,this.os=i,this.bot=n,this.type="bot-device"}return r}();tt.SearchBotDeviceInfo=YS;var JS=function(){function r(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return r}();tt.BotInfo=JS;var XS=function(){function r(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return r}();tt.ReactNativeInfo=XS;var dU=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,pU=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,zS=3,gU=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",dU]],kS=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function yU(r){return r?q1(r):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new XS:typeof navigator<"u"?q1(navigator.userAgent):t2()}tt.detect=yU;function ZS(r){return r!==""&&gU.reduce(function(e,t){var i=t[0],n=t[1];if(e)return e;var s=n.exec(r);return!!s&&[i,s]},!1)}function mU(r){var e=ZS(r);return e?e[0]:null}tt.browserName=mU;function q1(r){var e=ZS(r);if(!e)return null;var t=e[0],i=e[1];if(t==="searchbot")return new JS;var n=i[1]&&i[1].split(".").join("_").split("_").slice(0,3);n?n.length<zS&&(n=KS(KS([],n,!0),wU(zS-n.length),!0)):n=[];var s=n.join("."),o=e2(r),a=pU.exec(r);return a&&a[1]?new YS(t,s,o,a[1]):new $S(t,s,o)}tt.parseUserAgent=q1;function e2(r){for(var e=0,t=kS.length;e<t;e++){var i=kS[e],n=i[0],s=i[1],o=s.exec(r);if(o)return n}return null}tt.detectOS=e2;function t2(){var r=typeof _.default<"u"&&_.default.version;return r?new WS(_.default.version.slice(1)):null}tt.getNodeVersion=t2;function wU(r){for(var e=[],t=0;t<r;t++)e.push("0");return e}});var V1=P(ke=>{"use strict";f();Object.defineProperty(ke,"__esModule",{value:!0});ke.getLocalStorage=ke.getLocalStorageOrThrow=ke.getCrypto=ke.getCryptoOrThrow=ke.getLocation=ke.getLocationOrThrow=ke.getNavigator=ke.getNavigatorOrThrow=ke.getDocument=ke.getDocumentOrThrow=ke.getFromWindowOrThrow=ke.getFromWindow=void 0;function eo(r){let e;return typeof window<"u"&&typeof window[r]<"u"&&(e=window[r]),e}ke.getFromWindow=eo;function nu(r){let e=eo(r);if(!e)throw new Error(`${r} is not defined in Window`);return e}ke.getFromWindowOrThrow=nu;function vU(){return nu("document")}ke.getDocumentOrThrow=vU;function EU(){return eo("document")}ke.getDocument=EU;function AU(){return nu("navigator")}ke.getNavigatorOrThrow=AU;function IU(){return eo("navigator")}ke.getNavigator=IU;function _U(){return nu("location")}ke.getLocationOrThrow=_U;function bU(){return eo("location")}ke.getLocation=bU;function CU(){return nu("crypto")}ke.getCryptoOrThrow=CU;function xU(){return eo("crypto")}ke.getCrypto=xU;function SU(){return nu("localStorage")}ke.getLocalStorageOrThrow=SU;function TU(){return eo("localStorage")}ke.getLocalStorage=TU});var n2=P(rd=>{"use strict";f();Object.defineProperty(rd,"__esModule",{value:!0});rd.getWindowMetadata=void 0;var i2=V1();function NU(){let r,e;try{r=i2.getDocumentOrThrow(),e=i2.getLocationOrThrow()}catch{return null}function t(){let A=r.getElementsByTagName("link"),D=[];for(let O=0;O<A.length;O++){let T=A[O],V=T.getAttribute("rel");if(V&&V.toLowerCase().indexOf("icon")>-1){let Q=T.getAttribute("href");if(Q)if(Q.toLowerCase().indexOf("https:")===-1&&Q.toLowerCase().indexOf("http:")===-1&&Q.indexOf("//")!==0){let j=e.protocol+"//"+e.host;if(Q.indexOf("/")===0)j+=Q;else{let ie=e.pathname.split("/");ie.pop();let Y=ie.join("/");j+=Y+"/"+Q}D.push(j)}else if(Q.indexOf("//")===0){let j=e.protocol+Q;D.push(j)}else D.push(Q)}}return D}function i(...A){let D=r.getElementsByTagName("meta");for(let O=0;O<D.length;O++){let T=D[O],V=["itemprop","property","name"].map(Q=>T.getAttribute(Q)).filter(Q=>Q?A.includes(Q):!1);if(V.length&&V){let Q=T.getAttribute("content");if(Q)return Q}}return""}function n(){let A=i("name","og:site_name","og:title","twitter:title");return A||(A=r.title),A}function s(){return i("description","og:description","twitter:description","keywords")}let o=n(),a=s(),c=e.origin,h=t();return{description:a,url:c,icons:h,name:o}}rd.getWindowMetadata=NU});var o2=P((XZ,s2)=>{"use strict";f();s2.exports=r=>encodeURIComponent(r).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`)});var f2=P((eee,l2)=>{"use strict";f();var c2="%[a-f0-9]{2}",a2=new RegExp("("+c2+")|([^%]+?)","gi"),u2=new RegExp("("+c2+")+","gi");function H1(r,e){try{return[decodeURIComponent(r.join(""))]}catch{}if(r.length===1)return r;e=e||1;var t=r.slice(0,e),i=r.slice(e);return Array.prototype.concat.call([],H1(t),H1(i))}function DU(r){try{return decodeURIComponent(r)}catch{for(var e=r.match(a2)||[],t=1;t<e.length;t++)r=H1(e,t).join(""),e=r.match(a2)||[];return r}}function OU(r){for(var e={"%FE%FF":"\uFFFD\uFFFD","%FF%FE":"\uFFFD\uFFFD"},t=u2.exec(r);t;){try{e[t[0]]=decodeURIComponent(t[0])}catch{var i=DU(t[0]);i!==t[0]&&(e[t[0]]=i)}t=u2.exec(r)}e["%C2"]="\uFFFD";for(var n=Object.keys(e),s=0;s<n.length;s++){var o=n[s];r=r.replace(new RegExp(o,"g"),e[o])}return r}l2.exports=function(r){if(typeof r!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof r+"`");try{return r=r.replace(/\+/g," "),decodeURIComponent(r)}catch{return OU(r)}}});var d2=P((ree,h2)=>{"use strict";f();h2.exports=(r,e)=>{if(!(typeof r=="string"&&typeof e=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e==="")return[r];let t=r.indexOf(e);return t===-1?[r]:[r.slice(0,t),r.slice(t+e.length)]}});var g2=P((nee,p2)=>{"use strict";f();p2.exports=function(r,e){for(var t={},i=Object.keys(r),n=Array.isArray(e),s=0;s<i.length;s++){var o=i[s],a=r[o];(n?e.indexOf(o)!==-1:e(o,a,r))&&(t[o]=a)}return t}});var _2=P(wr=>{"use strict";f();var BU=o2(),PU=f2(),m2=d2(),MU=g2(),RU=r=>r==null,Q1=Symbol("encodeFragmentIdentifier");function LU(r){switch(r.arrayFormat){case"index":return e=>(t,i)=>{let n=t.length;return i===void 0||r.skipNull&&i===null||r.skipEmptyString&&i===""?t:i===null?[...t,[ht(e,r),"[",n,"]"].join("")]:[...t,[ht(e,r),"[",ht(n,r),"]=",ht(i,r)].join("")]};case"bracket":return e=>(t,i)=>i===void 0||r.skipNull&&i===null||r.skipEmptyString&&i===""?t:i===null?[...t,[ht(e,r),"[]"].join("")]:[...t,[ht(e,r),"[]=",ht(i,r)].join("")];case"colon-list-separator":return e=>(t,i)=>i===void 0||r.skipNull&&i===null||r.skipEmptyString&&i===""?t:i===null?[...t,[ht(e,r),":list="].join("")]:[...t,[ht(e,r),":list=",ht(i,r)].join("")];case"comma":case"separator":case"bracket-separator":{let e=r.arrayFormat==="bracket-separator"?"[]=":"=";return t=>(i,n)=>n===void 0||r.skipNull&&n===null||r.skipEmptyString&&n===""?i:(n=n===null?"":n,i.length===0?[[ht(t,r),e,ht(n,r)].join("")]:[[i,ht(n,r)].join(r.arrayFormatSeparator)])}default:return e=>(t,i)=>i===void 0||r.skipNull&&i===null||r.skipEmptyString&&i===""?t:i===null?[...t,ht(e,r)]:[...t,[ht(e,r),"=",ht(i,r)].join("")]}}function FU(r){let e;switch(r.arrayFormat){case"index":return(t,i,n)=>{if(e=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),!e){n[t]=i;return}n[t]===void 0&&(n[t]={}),n[t][e[1]]=i};case"bracket":return(t,i,n)=>{if(e=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),!e){n[t]=i;return}if(n[t]===void 0){n[t]=[i];return}n[t]=[].concat(n[t],i)};case"colon-list-separator":return(t,i,n)=>{if(e=/(:list)$/.exec(t),t=t.replace(/:list$/,""),!e){n[t]=i;return}if(n[t]===void 0){n[t]=[i];return}n[t]=[].concat(n[t],i)};case"comma":case"separator":return(t,i,n)=>{let s=typeof i=="string"&&i.includes(r.arrayFormatSeparator),o=typeof i=="string"&&!s&&nn(i,r).includes(r.arrayFormatSeparator);i=o?nn(i,r):i;let a=s||o?i.split(r.arrayFormatSeparator).map(c=>nn(c,r)):i===null?i:nn(i,r);n[t]=a};case"bracket-separator":return(t,i,n)=>{let s=/(\[\])$/.test(t);if(t=t.replace(/\[\]$/,""),!s){n[t]=i&&nn(i,r);return}let o=i===null?[]:i.split(r.arrayFormatSeparator).map(a=>nn(a,r));if(n[t]===void 0){n[t]=o;return}n[t]=[].concat(n[t],o)};default:return(t,i,n)=>{if(n[t]===void 0){n[t]=i;return}n[t]=[].concat(n[t],i)}}}function w2(r){if(typeof r!="string"||r.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function ht(r,e){return e.encode?e.strict?BU(r):encodeURIComponent(r):r}function nn(r,e){return e.decode?PU(r):r}function v2(r){return Array.isArray(r)?r.sort():typeof r=="object"?v2(Object.keys(r)).sort((e,t)=>Number(e)-Number(t)).map(e=>r[e]):r}function E2(r){let e=r.indexOf("#");return e!==-1&&(r=r.slice(0,e)),r}function UU(r){let e="",t=r.indexOf("#");return t!==-1&&(e=r.slice(t)),e}function A2(r){r=E2(r);let e=r.indexOf("?");return e===-1?"":r.slice(e+1)}function y2(r,e){return e.parseNumbers&&!Number.isNaN(Number(r))&&typeof r=="string"&&r.trim()!==""?r=Number(r):e.parseBooleans&&r!==null&&(r.toLowerCase()==="true"||r.toLowerCase()==="false")&&(r=r.toLowerCase()==="true"),r}function I2(r,e){e=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},e),w2(e.arrayFormatSeparator);let t=FU(e),i=Object.create(null);if(typeof r!="string"||(r=r.trim().replace(/^[?#&]/,""),!r))return i;for(let n of r.split("&")){if(n==="")continue;let[s,o]=m2(e.decode?n.replace(/\+/g," "):n,"=");o=o===void 0?null:["comma","separator","bracket-separator"].includes(e.arrayFormat)?o:nn(o,e),t(nn(s,e),o,i)}for(let n of Object.keys(i)){let s=i[n];if(typeof s=="object"&&s!==null)for(let o of Object.keys(s))s[o]=y2(s[o],e);else i[n]=y2(s,e)}return e.sort===!1?i:(e.sort===!0?Object.keys(i).sort():Object.keys(i).sort(e.sort)).reduce((n,s)=>{let o=i[s];return Boolean(o)&&typeof o=="object"&&!Array.isArray(o)?n[s]=v2(o):n[s]=o,n},Object.create(null))}wr.extract=A2;wr.parse=I2;wr.stringify=(r,e)=>{if(!r)return"";e=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},e),w2(e.arrayFormatSeparator);let t=o=>e.skipNull&&RU(r[o])||e.skipEmptyString&&r[o]==="",i=LU(e),n={};for(let o of Object.keys(r))t(o)||(n[o]=r[o]);let s=Object.keys(n);return e.sort!==!1&&s.sort(e.sort),s.map(o=>{let a=r[o];return a===void 0?"":a===null?ht(o,e):Array.isArray(a)?a.length===0&&e.arrayFormat==="bracket-separator"?ht(o,e)+"[]":a.reduce(i(o),[]).join("&"):ht(o,e)+"="+ht(a,e)}).filter(o=>o.length>0).join("&")};wr.parseUrl=(r,e)=>{e=Object.assign({decode:!0},e);let[t,i]=m2(r,"#");return Object.assign({url:t.split("?")[0]||"",query:I2(A2(r),e)},e&&e.parseFragmentIdentifier&&i?{fragmentIdentifier:nn(i,e)}:{})};wr.stringifyUrl=(r,e)=>{e=Object.assign({encode:!0,strict:!0,[Q1]:!0},e);let t=E2(r.url).split("?")[0]||"",i=wr.extract(r.url),n=wr.parse(i,{sort:!1}),s=Object.assign(n,r.query),o=wr.stringify(s,e);o&&(o=`?${o}`);let a=UU(r.url);return r.fragmentIdentifier&&(a=`#${e[Q1]?ht(r.fragmentIdentifier,e):r.fragmentIdentifier}`),`${t}${o}${a}`};wr.pick=(r,e,t)=>{t=Object.assign({parseFragmentIdentifier:!0,[Q1]:!1},t);let{url:i,query:n,fragmentIdentifier:s}=wr.parseUrl(r,t);return wr.stringifyUrl({url:i,query:MU(n,e),fragmentIdentifier:s},t)};wr.exclude=(r,e,t)=>{let i=Array.isArray(e)?n=>!e.includes(n):(n,s)=>!e(n,s);return wr.pick(r,i,t)}});var b2=me(()=>{f()});function qn(r,e,t="string"){if(!r[e]||typeof r[e]!==t)throw new Error(`Missing or invalid "${e}" param`)}function qU(r,e){let t=!0;return e.forEach(i=>{i in r||(t=!1)}),t}function VU(r,e){return Array.isArray(r)?r.length===e:Object.keys(r).length===e}function HU(r,e){return Array.isArray(r)?r.length>=e:Object.keys(r).length>=e}function jc(r,e,t){return(!t.length?VU(r,e.length):HU(r,e.length))?qU(r,e):!1}function Gc(r,e,t="_"){let i=r.split(t);return i[i.length-1].trim().toLowerCase()===e.trim().toLowerCase()}var j1=me(()=>{f()});function QU(r){return id(r.method)&&nd(r.params)}function id(r){return Gc(r,"subscribe")}function nd(r){return jc(r,["topic"],[])}function jU(r){return sd(r.method)&&od(r.params)}function sd(r){return Gc(r,"publish")}function od(r){return jc(r,["message","topic","ttl"],["prompt","tag"])}function GU(r){return ad(r.method)&&ud(r.params)}function ad(r){return Gc(r,"unsubscribe")}function ud(r){return jc(r,["id","topic"],[])}function KU(r){return cd(r.method)&&ld(r.params)}function cd(r){return Gc(r,"subscription")}function ld(r){return jc(r,["id","data"],[])}var G1=me(()=>{f();j1()});function zU(r){if(!id(r.method))throw new Error("JSON-RPC Request has invalid subscribe method");if(!nd(r.params))throw new Error("JSON-RPC Request has invalid subscribe params");let e=r.params;return qn(e,"topic"),e}function kU(r){if(!sd(r.method))throw new Error("JSON-RPC Request has invalid publish method");if(!od(r.params))throw new Error("JSON-RPC Request has invalid publish params");let e=r.params;return qn(e,"topic"),qn(e,"message"),qn(e,"ttl","number"),e}function $U(r){if(!ad(r.method))throw new Error("JSON-RPC Request has invalid unsubscribe method");if(!ud(r.params))throw new Error("JSON-RPC Request has invalid unsubscribe params");let e=r.params;return qn(e,"id"),e}function WU(r){if(!cd(r.method))throw new Error("JSON-RPC Request has invalid subscription method");if(!ld(r.params))throw new Error("JSON-RPC Request has invalid subscription params");let e=r.params;return qn(e,"id"),qn(e,"data"),e}var C2=me(()=>{f();j1();G1()});var YU,x2=me(()=>{f();YU={waku:{publish:"waku_publish",subscribe:"waku_subscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe"},irn:{publish:"irn_publish",subscribe:"irn_subscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe"},iridium:{publish:"iridium_publish",subscribe:"iridium_subscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe"}}});var S2={};nt(S2,{RELAY_JSONRPC:()=>YU,isPublishMethod:()=>sd,isPublishParams:()=>od,isPublishRequest:()=>jU,isSubscribeMethod:()=>id,isSubscribeParams:()=>nd,isSubscribeRequest:()=>QU,isSubscriptionMethod:()=>cd,isSubscriptionParams:()=>ld,isSubscriptionRequest:()=>KU,isUnsubscribeMethod:()=>ad,isUnsubscribeParams:()=>ud,isUnsubscribeRequest:()=>GU,parsePublishRequest:()=>kU,parseSubscribeRequest:()=>zU,parseSubscriptionRequest:()=>WU,parseUnsubscribeRequest:()=>$U});var T2=me(()=>{f();b2();C2();x2();G1()});var wd=P(ne=>{"use strict";f();Object.defineProperty(ne,"__esModule",{value:!0});var R2=bS(),JU=DS(),L2=Tc(),Y1=BS(),XU=LS(),rt=(GS(),st(jS)),ZU=r2(),ou=$s(),Kc=V1(),eq=n2(),tq=_2(),rq=(T2(),st(S2));function F2(r){if(r&&r.__esModule)return r;var e=Object.create(null);return r&&Object.keys(r).forEach(function(t){if(t!=="default"){var i=Object.getOwnPropertyDescriptor(r,t);Object.defineProperty(e,t,i.get?i:{enumerable:!0,get:function(){return r[t]}})}}),e.default=r,Object.freeze(e)}var U2=F2(XU),fd=F2(tq),pd=":";function q2(r){let[e,t]=r.split(pd);return{namespace:e,reference:t}}function V2(r){let{namespace:e,reference:t}=r;return[e,t].join(pd)}function J1(r){let[e,t,i]=r.split(pd);return{namespace:e,reference:t,address:i}}function H2(r){let{namespace:e,reference:t,address:i}=r;return[e,t,i].join(pd)}function X1(r,e){let t=[];return r.forEach(i=>{let n=e(i);t.includes(n)||t.push(n)}),t}function Q2(r){let{address:e}=J1(r);return e}function j2(r){let{namespace:e,reference:t}=J1(r);return V2({namespace:e,reference:t})}function iq(r,e){let{namespace:t,reference:i}=q2(e);return H2({namespace:t,reference:i,address:r})}function nq(r){return X1(r,Q2)}function G2(r){return X1(r,j2)}function sq(r,e=[]){let t=[];return Object.keys(r).forEach(i=>{if(e.length&&!e.includes(i))return;let n=r[i];t.push(...n.accounts)}),t}function oq(r,e=[]){let t=[];return Object.keys(r).forEach(i=>{if(e.length&&!e.includes(i))return;let n=r[i];t.push(...G2(n.accounts))}),t}function aq(r,e=[]){let t=[];return Object.keys(r).forEach(i=>{if(e.length&&!e.includes(i))return;let n=r[i];t.push(...n.chains)}),t}var Z1="base10",fr="base16",hd="base64pad",gd="utf8",ew=0,au=1,uq=0,N2=1,K1=12,tw=32;function cq(){let r=U2.generateKeyPair();return{privateKey:rt.toString(r.secretKey,fr),publicKey:rt.toString(r.publicKey,fr)}}function lq(){let r=L2.randomBytes(tw);return rt.toString(r,fr)}function fq(r,e){let t=U2.sharedKey(rt.fromString(r,fr),rt.fromString(e,fr)),i=new JU.HKDF(Y1.SHA256,t).expand(tw);return rt.toString(i,fr)}function hq(r){let e=Y1.hash(rt.fromString(r,fr));return rt.toString(e,fr)}function dq(r){let e=Y1.hash(rt.fromString(r,gd));return rt.toString(e,fr)}function K2(r){return rt.fromString(`${r}`,Z1)}function zc(r){return Number(rt.toString(r,Z1))}function pq(r){let e=K2(typeof r.type<"u"?r.type:ew);if(zc(e)===au&&typeof r.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");let t=typeof r.senderPublicKey<"u"?rt.fromString(r.senderPublicKey,fr):void 0,i=typeof r.iv<"u"?rt.fromString(r.iv,fr):L2.randomBytes(K1),n=new R2.ChaCha20Poly1305(rt.fromString(r.symKey,fr)).seal(i,rt.fromString(r.message,gd));return z2({type:e,sealed:n,iv:i,senderPublicKey:t})}function gq(r){let e=new R2.ChaCha20Poly1305(rt.fromString(r.symKey,fr)),{sealed:t,iv:i}=rw(r.encoded),n=e.open(i,t);if(n===null)throw new Error("Failed to decrypt");return rt.toString(n,gd)}function z2(r){if(zc(r.type)===au){if(typeof r.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return rt.toString(rt.concat([r.type,r.senderPublicKey,r.iv,r.sealed]),hd)}return rt.toString(rt.concat([r.type,r.iv,r.sealed]),hd)}function rw(r){let e=rt.fromString(r,hd),t=e.slice(uq,N2),i=N2;if(zc(t)===au){let a=i+tw,c=a+K1,h=e.slice(i,a),p=e.slice(a,c),A=e.slice(c);return{type:t,sealed:A,iv:p,senderPublicKey:h}}let n=i+K1,s=e.slice(i,n),o=e.slice(n);return{type:t,sealed:o,iv:s}}function yq(r,e){let t=rw(r);return k2({type:zc(t.type),senderPublicKey:typeof t.senderPublicKey<"u"?rt.toString(t.senderPublicKey,fr):void 0,receiverPublicKey:e?.receiverPublicKey})}function k2(r){let e=r?.type||ew;if(e===au){if(typeof r?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof r?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:r?.senderPublicKey,receiverPublicKey:r?.receiverPublicKey}}function mq(r){return r.type===au&&typeof r.senderPublicKey=="string"&&typeof r.receiverPublicKey=="string"}var wq=Object.defineProperty,D2=Object.getOwnPropertySymbols,vq=Object.prototype.hasOwnProperty,Eq=Object.prototype.propertyIsEnumerable,O2=(r,e,t)=>e in r?wq(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,B2=(r,e)=>{for(var t in e||(e={}))vq.call(e,t)&&O2(r,t,e[t]);if(D2)for(var t of D2(e))Eq.call(e,t)&&O2(r,t,e[t]);return r},$2="ReactNative",su={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},dd=" ",Aq=":",W2="/",iw=2,Iq=1e3,Y2="js";function nw(){return typeof _.default<"u"&&typeof _.default.versions<"u"&&typeof _.default.versions.node<"u"}function J2(){return!Kc.getDocument()&&!!Kc.getNavigator()&&navigator.product===$2}function X2(){return!nw()&&!!Kc.getNavigator()}function sw(){return J2()?su.reactNative:nw()?su.node:X2()?su.browser:su.unknown}function Z2(r,e){let t=fd.parse(r);return t=B2(B2({},t),e),r=fd.stringify(t),r}function _q(){return eq.getWindowMetadata()||{name:"",description:"",url:"",icons:[""]}}function bq(r,e){var t;let i=sw(),n={protocol:r,version:e,env:i};return i==="browser"&&(n.host=((t=Kc.getLocation())==null?void 0:t.host)||"unknown"),n}function eT(){let r=ZU.detect();if(r===null)return"unknown";let e=r.os?r.os.replace(" ","").toLowerCase():"unknown";return r.type==="browser"?[e,r.name,r.version].join("-"):[e,r.version].join("-")}function tT(){var r;let e=sw();return e===su.browser?[e,((r=Kc.getLocation())==null?void 0:r.host)||"unknown"].join(":"):e}function rT(r,e,t){let i=eT(),n=tT();return[[r,e].join("-"),[Y2,t].join("-"),i,n].join("/")}function Cq({protocol:r,version:e,relayUrl:t,sdkVersion:i,auth:n,projectId:s}){let o=t.split("?"),a=rT(r,e,i),c={auth:n,ua:a,projectId:s},h=Z2(o[1]||"",c);return o[0]+"?"+h}function xq(r){let e=(r.match(/^[^:]+(?=:\/\/)/gi)||[])[0],t=typeof e<"u"?r.split("://")[1]:r;return e=e==="wss"?"https":"http",[e,t].join("://")}function Sq(r,e,t){if(!r[e]||typeof r[e]!==t)throw new Error(`Missing or invalid "${e}" param`)}function iT(r,e=iw){return nT(r.split(W2),e)}function Tq(r){return iT(r).join(dd)}function lr(r,e){return r.filter(t=>e.includes(t)).length===r.length}function nT(r,e=iw){return r.slice(Math.max(r.length-e,0))}function Nq(r){return Object.fromEntries(r.entries())}function Dq(r){return new Map(Object.entries(r))}function Oq(r,e){let t={};return Object.keys(r).forEach(i=>{t[i]=e(r[i])}),t}var Bq=r=>r;function sT(r){return r.trim().replace(/^\w/,e=>e.toUpperCase())}function Pq(r){return r.split(dd).map(e=>sT(e)).join(dd)}function Mq(r,e){return ou.fromMiliseconds((e||Date.now())+ou.toMiliseconds(r))}function Rq(r){return ou.fromMiliseconds(Date.now())>=ou.toMiliseconds(r)}function Lq(){let r=ou.toMiliseconds(ou.FIVE_MINUTES),e,t,i;return{resolve:n=>{i&&e&&(clearTimeout(i),e(n))},reject:n=>{i&&t&&(clearTimeout(i),t(n))},done:()=>new Promise((n,s)=>{i=setTimeout(s,r),e=n,t=s})}}function Fq(r,e){return new Promise(async(t,i)=>{let n=setTimeout(()=>i(),e),s=await r;clearTimeout(n),t(s)})}function ow(r,e){if(typeof e=="string"&&e.startsWith(`${r}:`))return e;if(r.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(r.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${r}`)}function Uq(r){return ow("topic",r)}function qq(r){return ow("id",r)}function Vq(r){let[e,t]=r.split(":"),i={id:void 0,topic:void 0};if(e==="topic"&&typeof t=="string")i.topic=t;else if(e==="id"&&Number.isInteger(Number(t)))i.id=Number(t);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${t}`);return i}function Hq(r,e){return`${r}${e?`:${e}`:""}`}var oT="irn";function Qq(r){return r?.relay||{protocol:oT}}function jq(r){let e=rq.RELAY_JSONRPC[r];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${r}`);return e}var Gq=Object.defineProperty,P2=Object.getOwnPropertySymbols,Kq=Object.prototype.hasOwnProperty,zq=Object.prototype.propertyIsEnumerable,M2=(r,e,t)=>e in r?Gq(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,kq=(r,e)=>{for(var t in e||(e={}))Kq.call(e,t)&&M2(r,t,e[t]);if(P2)for(var t of P2(e))zq.call(e,t)&&M2(r,t,e[t]);return r};function aT(r,e="-"){let t={},i="relay"+e;return Object.keys(r).forEach(n=>{if(n.startsWith(i)){let s=n.replace(i,""),o=r[n];t[s]=o}}),t}function $q(r){let e=r.indexOf(":"),t=r.indexOf("?")!==-1?r.indexOf("?"):void 0,i=r.substring(0,e),n=r.substring(e+1,t).split("@"),s=typeof t<"u"?r.substring(t):"",o=fd.parse(s);return{protocol:i,topic:n[0],version:parseInt(n[1],10),symKey:o.symKey,relay:aT(o)}}function uT(r,e="-"){let t="relay",i={};return Object.keys(r).forEach(n=>{let s=t+e+n;r[n]&&(i[s]=r[n])}),i}function Wq(r){return`${r.protocol}:${r.topic}@${r.version}?`+fd.stringify(kq({symKey:r.symKey},uT(r.relay)))}function Zr(r){let e=[];return r.forEach(t=>{let[i,n]=t.split(":");e.push(`${i}:${n}`)}),e}function cT(r){let e=[];return Object.values(r).forEach(t=>{e.push(...Zr(t.accounts)),t.extension&&t.extension.forEach(i=>{e.push(...Zr(i.accounts))})}),e}function lT(r,e){let t=[];return Object.values(r).forEach(i=>{Zr(i.accounts).includes(e)&&t.push(...i.methods),i.extension&&i.extension.forEach(n=>{Zr(n.accounts).includes(e)&&t.push(...n.methods)})}),t}function fT(r,e){let t=[];return Object.values(r).forEach(i=>{Zr(i.accounts).includes(e)&&t.push(...i.events),i.extension&&i.extension.forEach(n=>{Zr(n.accounts).includes(e)&&t.push(...n.events)})}),t}var Yq={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},Jq={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function Xr(r,e){let{message:t,code:i}=Jq[r];return{message:e?`${t} ${e}`:t,code:i}}function to(r,e){let{message:t,code:i}=Yq[r];return{message:e?`${t} ${e}`:t,code:i}}function uu(r,e){return Array.isArray(r)?typeof e<"u"&&r.length?r.every(e):!0:!1}function aw(r){return Object.getPrototypeOf(r)===Object.prototype&&Object.keys(r).length}function sn(r){return typeof r>"u"}function xr(r,e){return e&&sn(r)?!0:typeof r=="string"&&Boolean(r.trim().length)}function uw(r,e){return e&&sn(r)?!0:typeof r=="number"&&!isNaN(r)}function Xq(r,e){let{requiredNamespaces:t}=e,i=Object.keys(r.namespaces),n=Object.keys(t),s=!0;return lr(n,i)?(i.forEach(o=>{let{accounts:a,methods:c,events:h,extension:p}=r.namespaces[o],A=Zr(a),D=t[o];(!lr(D.chains,A)||!lr(D.methods,c)||!lr(D.events,h))&&(s=!1),s&&p&&p.forEach(O=>{var T;let{accounts:V,methods:Q,events:j}=O,ie=Zr(V);(T=D.extension)!=null&&T.find(Y=>lr(Y.chains,ie)&&lr(Y.methods,Q)&&lr(Y.events,j))||(s=!1)})}),s):!1}function yd(r){return xr(r,!1)&&r.includes(":")?r.split(":").length===2:!1}function hT(r){if(xr(r,!1)&&r.includes(":")){let e=r.split(":");if(e.length===3){let t=e[0]+":"+e[1];return!!e[2]&&yd(t)}}return!1}function Zq(r){if(xr(r,!1))try{return typeof new URL(r)<"u"}catch{return!1}return!1}function eV(r){var e;return(e=r?.proposer)==null?void 0:e.publicKey}function tV(r){return r?.topic}function rV(r,e){let t=null;return xr(r?.publicKey,!1)||(t=Xr("MISSING_OR_INVALID",`${e} controller public key should be a string`)),t}function md(r,e){let t=null;return sn(r?.extension)||(!uu(r.extension)||!r.extension.length)&&(t=Xr("MISSING_OR_INVALID",`${e} extension should be an array of namespaces, or omitted`)),t}function z1(r){let e=!0;return uu(r)?r.length&&(e=r.every(t=>xr(t,!1))):e=!1,e}function k1(r,e,t){let i=null;return uu(e)?e.forEach(n=>{i||(!yd(n)||!n.includes(r))&&(i=to("UNSUPPORTED_CHAINS",`${t}, chain ${n} should be a string and conform to "namespace:chainId" format`))}):i=to("UNSUPPORTED_CHAINS",`${t}, chains ${e} should be an array of strings conforming to "namespace:chainId" format`),i}function dT(r,e){let t=null;return Object.entries(r).forEach(([i,n])=>{if(t)return;let s=k1(i,n?.chains,`${e} requiredNamespace`),o=md(n,e);s?t=s:o?t=o:n.extension&&n.extension.forEach(a=>{if(t)return;let c=k1(i,a.chains,`${e} extension`);c&&(t=c)})}),t}function $1(r,e){let t=null;return uu(r)?r.forEach(i=>{t||hT(i)||(t=to("UNSUPPORTED_ACCOUNTS",`${e}, account ${i} should be a string and conform to "namespace:chainId:address" format`))}):t=to("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),t}function pT(r,e){let t=null;return Object.values(r).forEach(i=>{if(t)return;let n=$1(i?.accounts,`${e} namespace`),s=md(i,e);n?t=n:s?t=s:i.extension&&i.extension.forEach(o=>{if(t)return;let a=$1(o.accounts,`${e} extension`);a&&(t=a)})}),t}function W1(r,e){let t=null;return z1(r?.methods)?z1(r?.events)||(t=to("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):t=to("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),t}function cw(r,e){let t=null;return Object.values(r).forEach(i=>{if(t)return;let n=W1(i,`${e}, namespace`),s=md(i,e);n?t=n:s?t=s:i.extension&&i.extension.forEach(o=>{if(t)return;let a=W1(o,`${e}, extension`);a&&(t=a)})}),t}function iV(r,e){let t=null;if(r&&aw(r)){let i=cw(r,e);i&&(t=i);let n=dT(r,e);n&&(t=n)}else t=Xr("MISSING_OR_INVALID",`${e}, requiredNamespaces should be an object with data`);return t}function nV(r,e){let t=null;if(r&&aw(r)){let i=cw(r,e);i&&(t=i);let n=pT(r,e);n&&(t=n)}else t=Xr("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return t}function gT(r){return xr(r.protocol,!0)}function sV(r,e){let t=!1;return e&&!r?t=!0:r&&uu(r)&&r.length&&r.forEach(i=>{t=gT(i)}),t}function oV(r){return typeof r=="number"}function aV(r){return typeof r<"u"&&typeof r!==null}function uV(r){return!(!r||typeof r!="object"||!r.code||!uw(r.code,!1)||!r.message||!xr(r.message,!1))}function cV(r){return!(sn(r)||!xr(r.method,!1))}function lV(r){return!(sn(r)||sn(r.result)&&sn(r.error)||!uw(r.id,!1)||!xr(r.jsonrpc,!1))}function fV(r){return!(sn(r)||!xr(r.name,!1))}function hV(r,e){return!(!yd(e)||!cT(r).includes(e))}function dV(r,e,t){return xr(t,!1)?lT(r,e).includes(t):!1}function pV(r,e,t){return xr(t,!1)?fT(r,e).includes(t):!1}function gV(r,e,t){let i=null,n=Object.keys(r),s=Object.keys(e);return lr(n,s)?n.forEach(o=>{var a;if(i)return;let c=r[o].chains,h=Zr(e[o].accounts);lr(c,h)?lr(r[o].methods,e[o].methods)?lr(r[o].events,e[o].events)?r[o].extension&&!e[o].extension?i=Xr("NON_CONFORMING_NAMESPACES",`${t} namespaces extension doesn't satisfy requiredNamespaces extension for ${o}`):r[o].extension&&e[o].extension&&((a=r[o].extension)==null||a.forEach(({methods:p,events:A,chains:D})=>{var O;i||(O=e[o].extension)!=null&&O.find(T=>{let V=Zr(T.accounts);return lr(D,V)&&lr(A,T.events)&&lr(p,T.methods)})||(i=Xr("NON_CONFORMING_NAMESPACES",`${t} namespaces extension doesn't satisfy requiredNamespaces extension for ${o}`))})):i=Xr("NON_CONFORMING_NAMESPACES",`${t} namespaces events don't satisfy requiredNamespaces events for ${o}`):i=Xr("NON_CONFORMING_NAMESPACES",`${t} namespaces methods don't satisfy requiredNamespaces methods for ${o}`):i=Xr("NON_CONFORMING_NAMESPACES",`${t} namespaces accounts don't satisfy requiredNamespaces chains for ${o}`)}):i=Xr("NON_CONFORMING_NAMESPACES",`${t} namespaces keys don't satisfy requiredNamespaces`),i}ne.BASE10=Z1,ne.BASE16=fr,ne.BASE64=hd,ne.COLON=Aq,ne.DEFAULT_DEPTH=iw,ne.EMPTY_SPACE=dd,ne.ENV_MAP=su,ne.ONE_THOUSAND=Iq,ne.REACT_NATIVE_PRODUCT=$2,ne.RELAYER_DEFAULT_PROTOCOL=oT,ne.SDK_TYPE=Y2,ne.SLASH=W2,ne.TYPE_0=ew,ne.TYPE_1=au,ne.UTF8=gd,ne.appendToQueryString=Z2,ne.assertType=Sq,ne.calcExpiry=Mq,ne.capitalize=Pq,ne.capitalizeWord=sT,ne.createDelayedPromise=Lq,ne.createExpiringPromise=Fq,ne.decodeTypeByte=zc,ne.decrypt=gq,ne.deriveSymKey=fq,ne.deserialize=rw,ne.encodeTypeByte=K2,ne.encrypt=pq,ne.engineEvent=Hq,ne.enumify=Bq,ne.formatAccountId=H2,ne.formatAccountWithChain=iq,ne.formatChainId=V2,ne.formatExpirerTarget=ow,ne.formatIdTarget=qq,ne.formatMessageContext=Tq,ne.formatRelayParams=uT,ne.formatRelayRpcUrl=Cq,ne.formatTopicTarget=Uq,ne.formatUA=rT,ne.formatUri=Wq,ne.generateKeyPair=cq,ne.generateRandomBytes32=lq,ne.getAccountsChains=Zr,ne.getAccountsFromNamespaces=sq,ne.getAddressFromAccount=Q2,ne.getAddressesFromAccounts=nq,ne.getAppMetadata=_q,ne.getChainFromAccount=j2,ne.getChainsFromAccounts=G2,ne.getChainsFromNamespaces=oq,ne.getChainsFromRequiredNamespaces=aq,ne.getEnvironment=sw,ne.getHttpUrl=xq,ne.getInternalError=Xr,ne.getJavascriptID=tT,ne.getJavascriptOS=eT,ne.getLastItems=nT,ne.getNamespacesChains=cT,ne.getNamespacesEventsForChainId=fT,ne.getNamespacesMethodsForChainId=lT,ne.getRelayClientMetadata=bq,ne.getRelayProtocolApi=jq,ne.getRelayProtocolName=Qq,ne.getSdkError=to,ne.getUniqueValues=X1,ne.hasOverlap=lr,ne.hashKey=hq,ne.hashMessage=dq,ne.isBrowser=X2,ne.isConformingNamespaces=gV,ne.isExpired=Rq,ne.isNode=nw,ne.isProposalStruct=eV,ne.isReactNative=J2,ne.isSessionCompatible=Xq,ne.isSessionStruct=tV,ne.isTypeOneEnvelope=mq,ne.isUndefined=sn,ne.isValidAccountId=hT,ne.isValidAccounts=$1,ne.isValidActions=W1,ne.isValidArray=uu,ne.isValidChainId=yd,ne.isValidChains=k1,ne.isValidController=rV,ne.isValidErrorReason=uV,ne.isValidEvent=fV,ne.isValidExtension=md,ne.isValidId=oV,ne.isValidNamespaceAccounts=pT,ne.isValidNamespaceActions=cw,ne.isValidNamespaceChains=dT,ne.isValidNamespaceMethodsOrEvents=z1,ne.isValidNamespaces=nV,ne.isValidNamespacesChainId=hV,ne.isValidNamespacesEvent=pV,ne.isValidNamespacesRequest=dV,ne.isValidNumber=uw,ne.isValidObject=aw,ne.isValidParams=aV,ne.isValidRelay=gT,ne.isValidRelays=sV,ne.isValidRequest=cV,ne.isValidRequiredNamespaces=iV,ne.isValidResponse=lV,ne.isValidString=xr,ne.isValidUrl=Zq,ne.mapEntries=Oq,ne.mapToObj=Nq,ne.objToMap=Dq,ne.parseAccountId=J1,ne.parseChainId=q2,ne.parseContextNames=iT,ne.parseExpirerTarget=Vq,ne.parseRelayParams=aT,ne.parseUri=$q,ne.serialize=z2,ne.validateDecoding=yq,ne.validateEncoding=k2});var yT,mT,wT,vT,vd,kc,lw,Ed,Vn,$c,Ad=me(()=>{f();yT="PARSE_ERROR",mT="INVALID_REQUEST",wT="METHOD_NOT_FOUND",vT="INVALID_PARAMS",vd="INTERNAL_ERROR",kc="SERVER_ERROR",lw=[-32700,-32600,-32601,-32602,-32603],Ed=[-32e3,-32099],Vn={[yT]:{code:-32700,message:"Parse error"},[mT]:{code:-32600,message:"Invalid Request"},[wT]:{code:-32601,message:"Method not found"},[vT]:{code:-32602,message:"Invalid params"},[vd]:{code:-32603,message:"Internal error"},[kc]:{code:-32e3,message:"Server error"}},$c=kc});function yV(r){return r<=Ed[0]&&r>=Ed[1]}function Id(r){return lw.includes(r)}function ET(r){return typeof r=="number"}function _d(r){return Object.keys(Vn).includes(r)?Vn[r]:Vn[$c]}function bd(r){let e=Object.values(Vn).find(t=>t.code===r);return e||Vn[$c]}function mV(r){if(typeof r.error.code>"u")return{valid:!1,error:"Missing code for JSON-RPC error"};if(typeof r.error.message>"u")return{valid:!1,error:"Missing message for JSON-RPC error"};if(!ET(r.error.code))return{valid:!1,error:`Invalid error code type for JSON-RPC: ${r.error.code}`};if(Id(r.error.code)){let e=bd(r.error.code);if(e.message!==Vn[$c].message&&r.error.message===e.message)return{valid:!1,error:`Invalid error code message for JSON-RPC: ${r.error.code}`}}return{valid:!0}}function fw(r,e,t){return r.message.includes("getaddrinfo ENOTFOUND")||r.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${t} RPC url at ${e}`):r}var hw=me(()=>{f();Ad()});var IT=P(Hn=>{"use strict";f();Object.defineProperty(Hn,"__esModule",{value:!0});Hn.isBrowserCryptoAvailable=Hn.getSubtleCrypto=Hn.getBrowerCrypto=void 0;function dw(){return(global===null||global===void 0?void 0:global.crypto)||(global===null||global===void 0?void 0:global.msCrypto)||{}}Hn.getBrowerCrypto=dw;function AT(){let r=dw();return r.subtle||r.webkitSubtle}Hn.getSubtleCrypto=AT;function wV(){return!!dw()&&!!AT()}Hn.isBrowserCryptoAvailable=wV});var CT=P(Qn=>{"use strict";f();Object.defineProperty(Qn,"__esModule",{value:!0});Qn.isBrowser=Qn.isNode=Qn.isReactNative=void 0;function _T(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}Qn.isReactNative=_T;function bT(){return typeof _.default<"u"&&typeof _.default.versions<"u"&&typeof _.default.versions.node<"u"}Qn.isNode=bT;function vV(){return!_T()&&!bT()}Qn.isBrowser=vV});var pw=P(Cd=>{"use strict";f();Object.defineProperty(Cd,"__esModule",{value:!0});var xT=(br(),st(_r));xT.__exportStar(IT(),Cd);xT.__exportStar(CT(),Cd)});var $t={};nt($t,{isNodeJs:()=>TT});var ST,TT,NT=me(()=>{f();ST=_e(pw());Xt($t,_e(pw()));TT=ST.isNode});function DT(){let r=Date.now()*Math.pow(10,3),e=Math.floor(Math.random()*Math.pow(10,3));return r+e}function gw(r,e,t){return{id:t||DT(),jsonrpc:"2.0",method:r,params:e}}function EV(r,e){return{id:r,jsonrpc:"2.0",result:e}}function yw(r,e,t){return{id:r,jsonrpc:"2.0",error:OT(e,t)}}function OT(r,e){return typeof r>"u"?_d(vd):(typeof r=="string"&&(r=Object.assign(Object.assign({},_d(kc)),{message:r})),typeof e<"u"&&(r.data=e),Id(r.code)&&(r=bd(r.code)),r)}var BT=me(()=>{f();hw();Ad()});function AV(r){return r.includes("*")?Sd(r):!/\W/g.test(r)}function xd(r){return r==="*"}function Sd(r){return xd(r)?!0:!(!r.includes("*")||r.split("*").length!==2||r.split("*").filter(e=>e.trim()==="").length!==1)}function IV(r){return!xd(r)&&Sd(r)&&!r.split("*")[0].trim()}function _V(r){return!xd(r)&&Sd(r)&&!r.split("*")[1].trim()}var PT=me(()=>{f()});var MT=me(()=>{f()});var cu,mw=me(()=>{f();cu=class{}});var ww,Td,Wc,RT=me(()=>{f();mw();ww=class extends cu{constructor(e){super()}},Td=class extends cu{constructor(){super()}},Wc=class extends Td{constructor(e){super()}}});var LT=me(()=>{f()});var FT=me(()=>{f();MT();mw();RT();LT()});var UT=me(()=>{f();FT()});function xV(r){let e=r.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function qT(r,e){let t=xV(r);return typeof t>"u"?!1:new RegExp(e).test(t)}function SV(r){return qT(r,bV)}function Nd(r){return qT(r,CV)}function vw(r){return new RegExp("wss?://localhost(:d{2,5})?").test(r)}var bV,CV,VT=me(()=>{f();bV="^https?:",CV="^wss?:"});function Ew(r){return typeof r=="object"&&"id"in r&&"jsonrpc"in r&&r.jsonrpc==="2.0"}function TV(r){return Ew(r)&&"method"in r}function Aw(r){return Ew(r)&&(HT(r)||Dd(r))}function HT(r){return"result"in r}function Dd(r){return"error"in r}function NV(r){return"error"in r&&r.valid===!1}var QT=me(()=>{f()});var ur={};nt(ur,{DEFAULT_ERROR:()=>$c,IBaseJsonRpcProvider:()=>Td,IEvents:()=>cu,IJsonRpcConnection:()=>ww,IJsonRpcProvider:()=>Wc,INTERNAL_ERROR:()=>vd,INVALID_PARAMS:()=>vT,INVALID_REQUEST:()=>mT,METHOD_NOT_FOUND:()=>wT,PARSE_ERROR:()=>yT,RESERVED_ERROR_CODES:()=>lw,SERVER_ERROR:()=>kc,SERVER_ERROR_CODE_RANGE:()=>Ed,STANDARD_ERROR_MAP:()=>Vn,formatErrorMessage:()=>OT,formatJsonRpcError:()=>yw,formatJsonRpcRequest:()=>gw,formatJsonRpcResult:()=>EV,getError:()=>_d,getErrorByCode:()=>bd,isHttpUrl:()=>SV,isJsonRpcError:()=>Dd,isJsonRpcPayload:()=>Ew,isJsonRpcRequest:()=>TV,isJsonRpcResponse:()=>Aw,isJsonRpcResult:()=>HT,isJsonRpcValidationInvalid:()=>NV,isLocalhostUrl:()=>vw,isNodeJs:()=>TT,isReservedErrorCode:()=>Id,isServerErrorCode:()=>yV,isValidDefaultRoute:()=>xd,isValidErrorCode:()=>ET,isValidLeadingWildcardRoute:()=>IV,isValidRoute:()=>AV,isValidTrailingWildcardRoute:()=>_V,isValidWildcardRoute:()=>Sd,isWsUrl:()=>Nd,parseConnectionError:()=>fw,payloadId:()=>DT,validateJsonRpcError:()=>mV});var Yc=me(()=>{f();Ad();hw();NT();Xt(ur,$t);BT();PT();UT();VT();QT()});var jT,Od,GT,Iw=me(()=>{f();jT=_e(ks());Yc();Od=class extends Wc{constructor(e){super(e),this.events=new jT.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async request(e,t){return this.requestStrict(gw(e.method,e.params||[]),t)}async requestStrict(e,t){return new Promise(async(i,n)=>{if(!this.connection.connected)try{await this.open()}catch(s){n(s)}this.events.on(`${e.id}`,s=>{Dd(s)?n(s.error):i(s.result)});try{await this.connection.send(e,t)}catch(s){n(s)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),Aw(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",()=>this.events.emit("disconnect")),this.connection.on("error",e=>this.events.emit("error",e)),this.hasRegisteredEventListeners=!0)}},GT=Od});var KT={};nt(KT,{JsonRpcProvider:()=>Od,default:()=>DV});var DV,zT=me(()=>{f();Iw();Iw();DV=GT});var $T=P((Ste,kT)=>{"use strict";f();kT.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}});var YT,WT,OV,BV,PV,Bd,JT,_w=me(()=>{f();YT=_e(ks());xh();Yc();WT=10,OV=()=>typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:$T(),BV=()=>typeof window<"u",PV=OV(),Bd=class{constructor(e){if(this.url=e,this.events=new YT.EventEmitter,this.registering=!1,!Nd(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(e=this.url){await this.register(e)}async close(){if(typeof this.socket>"u")throw new Error("Connection already closed");this.socket.close(),this.onClose()}async send(e,t){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(Sc(e))}catch(i){this.onError(e.id,i)}}register(e=this.url){if(!Nd(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){let t=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=t||this.events.listenerCount("open")>=t)&&this.events.setMaxListeners(t+1),new Promise((i,n)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),n(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return n(new Error("WebSocket connection is missing or invalid"));i(this.socket)})})}return this.url=e,this.registering=!0,new Promise((t,i)=>{let n=(0,ur.isReactNative)()?void 0:{rejectUnauthorized:!vw(e)},s=new PV(e,[],n);BV()?s.onerror=o=>{let a=o;i(this.emitError(a.error))}:s.on("error",o=>{i(this.emitError(o))}),s.onopen=()=>{this.onOpen(s),t(s)}})}onOpen(e){e.onmessage=t=>this.onPayload(t),e.onclose=()=>this.onClose(),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(){this.socket=void 0,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;let t=typeof e.data=="string"?xc(e.data):e.data;this.events.emit("payload",t)}onError(e,t){let i=this.parseError(t),n=i.message||i.toString(),s=yw(e,n);this.events.emit("payload",s)}parseError(e,t=this.url){return fw(e,t,"WS")}resetMaxListeners(){this.events.getMaxListeners()>WT&&this.events.setMaxListeners(WT)}emitError(e){let t=this.parseError(new Error(e?.message||`WebSocket connection failed for URL: ${this.url}`));return this.events.emit("register_error",t),t}},JT=Bd});var XT={};nt(XT,{WsConnection:()=>Bd,default:()=>MV});var MV,ZT=me(()=>{f();_w();_w();MV=JT});var M3=P((Jc,fu)=>{f();var RV=200,Mw="__lodash_hash_undefined__",Vd=1,f3=2,h3=9007199254740991,Pd="[object Arguments]",Sw="[object Array]",LV="[object AsyncFunction]",d3="[object Boolean]",p3="[object Date]",g3="[object Error]",y3="[object Function]",FV="[object GeneratorFunction]",Md="[object Map]",m3="[object Number]",UV="[object Null]",lu="[object Object]",e3="[object Promise]",qV="[object Proxy]",w3="[object RegExp]",Rd="[object Set]",v3="[object String]",VV="[object Symbol]",HV="[object Undefined]",Tw="[object WeakMap]",E3="[object ArrayBuffer]",Ld="[object DataView]",QV="[object Float32Array]",jV="[object Float64Array]",GV="[object Int8Array]",KV="[object Int16Array]",zV="[object Int32Array]",kV="[object Uint8Array]",$V="[object Uint8ClampedArray]",WV="[object Uint16Array]",YV="[object Uint32Array]",JV=/[\\^$.*+?()[\]{}|]/g,XV=/^\[object .+?Constructor\]$/,ZV=/^(?:0|[1-9]\d*)$/,Je={};Je[QV]=Je[jV]=Je[GV]=Je[KV]=Je[zV]=Je[kV]=Je[$V]=Je[WV]=Je[YV]=!0;Je[Pd]=Je[Sw]=Je[E3]=Je[d3]=Je[Ld]=Je[p3]=Je[g3]=Je[y3]=Je[Md]=Je[m3]=Je[lu]=Je[w3]=Je[Rd]=Je[v3]=Je[Tw]=!1;var A3=typeof global=="object"&&global&&global.Object===Object&&global,e7=typeof self=="object"&&self&&self.Object===Object&&self,on=A3||e7||Function("return this")(),I3=typeof Jc=="object"&&Jc&&!Jc.nodeType&&Jc,t3=I3&&typeof fu=="object"&&fu&&!fu.nodeType&&fu,_3=t3&&t3.exports===I3,bw=_3&&A3.process,r3=function(){try{return bw&&bw.binding&&bw.binding("util")}catch{}}(),i3=r3&&r3.isTypedArray;function t7(r,e){for(var t=-1,i=r==null?0:r.length,n=0,s=[];++t<i;){var o=r[t];e(o,t,r)&&(s[n++]=o)}return s}function r7(r,e){for(var t=-1,i=e.length,n=r.length;++t<i;)r[n+t]=e[t];return r}function i7(r,e){for(var t=-1,i=r==null?0:r.length;++t<i;)if(e(r[t],t,r))return!0;return!1}function n7(r,e){for(var t=-1,i=Array(r);++t<r;)i[t]=e(t);return i}function s7(r){return function(e){return r(e)}}function o7(r,e){return r.has(e)}function a7(r,e){return r?.[e]}function u7(r){var e=-1,t=Array(r.size);return r.forEach(function(i,n){t[++e]=[n,i]}),t}function c7(r,e){return function(t){return r(e(t))}}function l7(r){var e=-1,t=Array(r.size);return r.forEach(function(i){t[++e]=i}),t}var f7=Array.prototype,h7=Function.prototype,Hd=Object.prototype,Cw=on["__core-js_shared__"],b3=h7.toString,Mi=Hd.hasOwnProperty,n3=function(){var r=/[^.]+$/.exec(Cw&&Cw.keys&&Cw.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}(),C3=Hd.toString,d7=RegExp("^"+b3.call(Mi).replace(JV,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),s3=_3?on.Buffer:void 0,Fd=on.Symbol,o3=on.Uint8Array,x3=Hd.propertyIsEnumerable,p7=f7.splice,ro=Fd?Fd.toStringTag:void 0,a3=Object.getOwnPropertySymbols,g7=s3?s3.isBuffer:void 0,y7=c7(Object.keys,Object),Nw=hu(on,"DataView"),Xc=hu(on,"Map"),Dw=hu(on,"Promise"),Ow=hu(on,"Set"),Bw=hu(on,"WeakMap"),Zc=hu(Object,"create"),m7=so(Nw),w7=so(Xc),v7=so(Dw),E7=so(Ow),A7=so(Bw),u3=Fd?Fd.prototype:void 0,xw=u3?u3.valueOf:void 0;function io(r){var e=-1,t=r==null?0:r.length;for(this.clear();++e<t;){var i=r[e];this.set(i[0],i[1])}}function I7(){this.__data__=Zc?Zc(null):{},this.size=0}function _7(r){var e=this.has(r)&&delete this.__data__[r];return this.size-=e?1:0,e}function b7(r){var e=this.__data__;if(Zc){var t=e[r];return t===Mw?void 0:t}return Mi.call(e,r)?e[r]:void 0}function C7(r){var e=this.__data__;return Zc?e[r]!==void 0:Mi.call(e,r)}function x7(r,e){var t=this.__data__;return this.size+=this.has(r)?0:1,t[r]=Zc&&e===void 0?Mw:e,this}io.prototype.clear=I7;io.prototype.delete=_7;io.prototype.get=b7;io.prototype.has=C7;io.prototype.set=x7;function an(r){var e=-1,t=r==null?0:r.length;for(this.clear();++e<t;){var i=r[e];this.set(i[0],i[1])}}function S7(){this.__data__=[],this.size=0}function T7(r){var e=this.__data__,t=Qd(e,r);if(t<0)return!1;var i=e.length-1;return t==i?e.pop():p7.call(e,t,1),--this.size,!0}function N7(r){var e=this.__data__,t=Qd(e,r);return t<0?void 0:e[t][1]}function D7(r){return Qd(this.__data__,r)>-1}function O7(r,e){var t=this.__data__,i=Qd(t,r);return i<0?(++this.size,t.push([r,e])):t[i][1]=e,this}an.prototype.clear=S7;an.prototype.delete=T7;an.prototype.get=N7;an.prototype.has=D7;an.prototype.set=O7;function no(r){var e=-1,t=r==null?0:r.length;for(this.clear();++e<t;){var i=r[e];this.set(i[0],i[1])}}function B7(){this.size=0,this.__data__={hash:new io,map:new(Xc||an),string:new io}}function P7(r){var e=jd(this,r).delete(r);return this.size-=e?1:0,e}function M7(r){return jd(this,r).get(r)}function R7(r){return jd(this,r).has(r)}function L7(r,e){var t=jd(this,r),i=t.size;return t.set(r,e),this.size+=t.size==i?0:1,this}no.prototype.clear=B7;no.prototype.delete=P7;no.prototype.get=M7;no.prototype.has=R7;no.prototype.set=L7;function Ud(r){var e=-1,t=r==null?0:r.length;for(this.__data__=new no;++e<t;)this.add(r[e])}function F7(r){return this.__data__.set(r,Mw),this}function U7(r){return this.__data__.has(r)}Ud.prototype.add=Ud.prototype.push=F7;Ud.prototype.has=U7;function Gn(r){var e=this.__data__=new an(r);this.size=e.size}function q7(){this.__data__=new an,this.size=0}function V7(r){var e=this.__data__,t=e.delete(r);return this.size=e.size,t}function H7(r){return this.__data__.get(r)}function Q7(r){return this.__data__.has(r)}function j7(r,e){var t=this.__data__;if(t instanceof an){var i=t.__data__;if(!Xc||i.length<RV-1)return i.push([r,e]),this.size=++t.size,this;t=this.__data__=new no(i)}return t.set(r,e),this.size=t.size,this}Gn.prototype.clear=q7;Gn.prototype.delete=V7;Gn.prototype.get=H7;Gn.prototype.has=Q7;Gn.prototype.set=j7;function G7(r,e){var t=qd(r),i=!t&&sH(r),n=!t&&!i&&Pw(r),s=!t&&!i&&!n&&P3(r),o=t||i||n||s,a=o?n7(r.length,String):[],c=a.length;for(var h in r)(e||Mi.call(r,h))&&!(o&&(h=="length"||n&&(h=="offset"||h=="parent")||s&&(h=="buffer"||h=="byteLength"||h=="byteOffset")||eH(h,c)))&&a.push(h);return a}function Qd(r,e){for(var t=r.length;t--;)if(N3(r[t][0],e))return t;return-1}function K7(r,e,t){var i=e(r);return qd(r)?i:r7(i,t(r))}function tl(r){return r==null?r===void 0?HV:UV:ro&&ro in Object(r)?X7(r):nH(r)}function c3(r){return el(r)&&tl(r)==Pd}function S3(r,e,t,i,n){return r===e?!0:r==null||e==null||!el(r)&&!el(e)?r!==r&&e!==e:z7(r,e,t,i,S3,n)}function z7(r,e,t,i,n,s){var o=qd(r),a=qd(e),c=o?Sw:jn(r),h=a?Sw:jn(e);c=c==Pd?lu:c,h=h==Pd?lu:h;var p=c==lu,A=h==lu,D=c==h;if(D&&Pw(r)){if(!Pw(e))return!1;o=!0,p=!1}if(D&&!p)return s||(s=new Gn),o||P3(r)?T3(r,e,t,i,n,s):Y7(r,e,c,t,i,n,s);if(!(t&Vd)){var O=p&&Mi.call(r,"__wrapped__"),T=A&&Mi.call(e,"__wrapped__");if(O||T){var V=O?r.value():r,Q=T?e.value():e;return s||(s=new Gn),n(V,Q,t,i,s)}}return D?(s||(s=new Gn),J7(r,e,t,i,n,s)):!1}function k7(r){if(!B3(r)||rH(r))return!1;var e=D3(r)?d7:XV;return e.test(so(r))}function $7(r){return el(r)&&O3(r.length)&&!!Je[tl(r)]}function W7(r){if(!iH(r))return y7(r);var e=[];for(var t in Object(r))Mi.call(r,t)&&t!="constructor"&&e.push(t);return e}function T3(r,e,t,i,n,s){var o=t&Vd,a=r.length,c=e.length;if(a!=c&&!(o&&c>a))return!1;var h=s.get(r);if(h&&s.get(e))return h==e;var p=-1,A=!0,D=t&f3?new Ud:void 0;for(s.set(r,e),s.set(e,r);++p<a;){var O=r[p],T=e[p];if(i)var V=o?i(T,O,p,e,r,s):i(O,T,p,r,e,s);if(V!==void 0){if(V)continue;A=!1;break}if(D){if(!i7(e,function(Q,j){if(!o7(D,j)&&(O===Q||n(O,Q,t,i,s)))return D.push(j)})){A=!1;break}}else if(!(O===T||n(O,T,t,i,s))){A=!1;break}}return s.delete(r),s.delete(e),A}function Y7(r,e,t,i,n,s,o){switch(t){case Ld:if(r.byteLength!=e.byteLength||r.byteOffset!=e.byteOffset)return!1;r=r.buffer,e=e.buffer;case E3:return!(r.byteLength!=e.byteLength||!s(new o3(r),new o3(e)));case d3:case p3:case m3:return N3(+r,+e);case g3:return r.name==e.name&&r.message==e.message;case w3:case v3:return r==e+"";case Md:var a=u7;case Rd:var c=i&Vd;if(a||(a=l7),r.size!=e.size&&!c)return!1;var h=o.get(r);if(h)return h==e;i|=f3,o.set(r,e);var p=T3(a(r),a(e),i,n,s,o);return o.delete(r),p;case VV:if(xw)return xw.call(r)==xw.call(e)}return!1}function J7(r,e,t,i,n,s){var o=t&Vd,a=l3(r),c=a.length,h=l3(e),p=h.length;if(c!=p&&!o)return!1;for(var A=c;A--;){var D=a[A];if(!(o?D in e:Mi.call(e,D)))return!1}var O=s.get(r);if(O&&s.get(e))return O==e;var T=!0;s.set(r,e),s.set(e,r);for(var V=o;++A<c;){D=a[A];var Q=r[D],j=e[D];if(i)var ie=o?i(j,Q,D,e,r,s):i(Q,j,D,r,e,s);if(!(ie===void 0?Q===j||n(Q,j,t,i,s):ie)){T=!1;break}V||(V=D=="constructor")}if(T&&!V){var Y=r.constructor,W=e.constructor;Y!=W&&"constructor"in r&&"constructor"in e&&!(typeof Y=="function"&&Y instanceof Y&&typeof W=="function"&&W instanceof W)&&(T=!1)}return s.delete(r),s.delete(e),T}function l3(r){return K7(r,uH,Z7)}function jd(r,e){var t=r.__data__;return tH(e)?t[typeof e=="string"?"string":"hash"]:t.map}function hu(r,e){var t=a7(r,e);return k7(t)?t:void 0}function X7(r){var e=Mi.call(r,ro),t=r[ro];try{r[ro]=void 0;var i=!0}catch{}var n=C3.call(r);return i&&(e?r[ro]=t:delete r[ro]),n}var Z7=a3?function(r){return r==null?[]:(r=Object(r),t7(a3(r),function(e){return x3.call(r,e)}))}:cH,jn=tl;(Nw&&jn(new Nw(new ArrayBuffer(1)))!=Ld||Xc&&jn(new Xc)!=Md||Dw&&jn(Dw.resolve())!=e3||Ow&&jn(new Ow)!=Rd||Bw&&jn(new Bw)!=Tw)&&(jn=function(r){var e=tl(r),t=e==lu?r.constructor:void 0,i=t?so(t):"";if(i)switch(i){case m7:return Ld;case w7:return Md;case v7:return e3;case E7:return Rd;case A7:return Tw}return e});function eH(r,e){return e=e??h3,!!e&&(typeof r=="number"||ZV.test(r))&&r>-1&&r%1==0&&r<e}function tH(r){var e=typeof r;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?r!=="__proto__":r===null}function rH(r){return!!n3&&n3 in r}function iH(r){var e=r&&r.constructor,t=typeof e=="function"&&e.prototype||Hd;return r===t}function nH(r){return C3.call(r)}function so(r){if(r!=null){try{return b3.call(r)}catch{}try{return r+""}catch{}}return""}function N3(r,e){return r===e||r!==r&&e!==e}var sH=c3(function(){return arguments}())?c3:function(r){return el(r)&&Mi.call(r,"callee")&&!x3.call(r,"callee")},qd=Array.isArray;function oH(r){return r!=null&&O3(r.length)&&!D3(r)}var Pw=g7||lH;function aH(r,e){return S3(r,e)}function D3(r){if(!B3(r))return!1;var e=tl(r);return e==y3||e==FV||e==LV||e==qV}function O3(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=h3}function B3(r){var e=typeof r;return r!=null&&(e=="object"||e=="function")}function el(r){return r!=null&&typeof r=="object"}var P3=i3?s7(i3):$7;function uH(r){return oH(r)?G7(r):W7(r)}function cH(){return[]}function lH(){return!1}fu.exports=aH});var LN=P(Ee=>{"use strict";f();Object.defineProperty(Ee,"__esModule",{value:!0});var oo=ks(),fH=ch(),hH=_C(),tp=qC(),it=wm(),Kn=Rm(),R3=(xh(),st(zC)),dH=(yS(),st(gS)),fe=wd(),Vt=$s(),pH=(zT(),st(KT)),ri=(Yc(),st(ur)),gH=(ZT(),st(XT)),yH=M3();function il(r){return r&&typeof r=="object"&&"default"in r?r:{default:r}}function mH(r){if(r&&r.__esModule)return r;var e=Object.create(null);return r&&Object.keys(r).forEach(function(t){if(t!=="default"){var i=Object.getOwnPropertyDescriptor(r,t);Object.defineProperty(e,t,i.get?i:{enumerable:!0,get:function(){return r[t]}})}}),e.default=r,Object.freeze(e)}var wH=il(oo),X3=il(fH),vH=il(hH),Gd=mH(dH),EH=il(gH),AH=il(yH);function IH(r,e){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),i=0;i<t.length;i++)t[i]=255;for(var n=0;n<r.length;n++){var s=r.charAt(n),o=s.charCodeAt(0);if(t[o]!==255)throw new TypeError(s+" is ambiguous");t[o]=n}var a=r.length,c=r.charAt(0),h=Math.log(a)/Math.log(256),p=Math.log(256)/Math.log(a);function A(T){if(T instanceof Uint8Array||(ArrayBuffer.isView(T)?T=new Uint8Array(T.buffer,T.byteOffset,T.byteLength):Array.isArray(T)&&(T=Uint8Array.from(T))),!(T instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(T.length===0)return"";for(var V=0,Q=0,j=0,ie=T.length;j!==ie&&T[j]===0;)j++,V++;for(var Y=(ie-j)*p+1>>>0,W=new Uint8Array(Y);j!==ie;){for(var $=T[j],k=0,R=Y-1;($!==0||k<Q)&&R!==-1;R--,k++)$+=256*W[R]>>>0,W[R]=$%a>>>0,$=$/a>>>0;if($!==0)throw new Error("Non-zero carry");Q=k,j++}for(var F=Y-Q;F!==Y&&W[F]===0;)F++;for(var K=c.repeat(V);F<Y;++F)K+=r.charAt(W[F]);return K}function D(T){if(typeof T!="string")throw new TypeError("Expected String");if(T.length===0)return new Uint8Array;var V=0;if(T[V]!==" "){for(var Q=0,j=0;T[V]===c;)Q++,V++;for(var ie=(T.length-V)*h+1>>>0,Y=new Uint8Array(ie);T[V];){var W=t[T.charCodeAt(V)];if(W===255)return;for(var $=0,k=ie-1;(W!==0||$<j)&&k!==-1;k--,$++)W+=a*Y[k]>>>0,Y[k]=W%256>>>0,W=W/256>>>0;if(W!==0)throw new Error("Non-zero carry");j=$,V++}if(T[V]!==" "){for(var R=ie-j;R!==ie&&Y[R]===0;)R++;for(var F=new Uint8Array(Q+(ie-R)),K=Q;R!==ie;)F[K++]=Y[R++];return F}}}function O(T){var V=D(T);if(V)return V;throw new Error(`Non-${e} character`)}return{encode:A,decodeUnsafe:D,decode:O}}var _H=IH,bH=_H,Z3=r=>{if(r instanceof Uint8Array&&r.constructor.name==="Uint8Array")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")},CH=r=>new TextEncoder().encode(r),xH=r=>new TextDecoder().decode(r),Fw=class{constructor(e,t,i){this.name=e,this.prefix=t,this.baseEncode=i}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},Uw=class{constructor(e,t,i){if(this.name=e,this.prefix=t,t.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=i}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return eN(this,e)}},qw=class{constructor(e){this.decoders=e}or(e){return eN(this,e)}decode(e){let t=e[0],i=this.decoders[t];if(i)return i.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},eN=(r,e)=>new qw({...r.decoders||{[r.prefix]:r},...e.decoders||{[e.prefix]:e}}),Vw=class{constructor(e,t,i,n){this.name=e,this.prefix=t,this.baseEncode=i,this.baseDecode=n,this.encoder=new Fw(e,t,i),this.decoder=new Uw(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},rp=({name:r,prefix:e,encode:t,decode:i})=>new Vw(r,e,t,i),nl=({prefix:r,name:e,alphabet:t})=>{let{encode:i,decode:n}=bH(t,e);return rp({prefix:r,name:e,encode:i,decode:s=>Z3(n(s))})},SH=(r,e,t,i)=>{let n={};for(let p=0;p<e.length;++p)n[e[p]]=p;let s=r.length;for(;r[s-1]==="=";)--s;let o=new Uint8Array(s*t/8|0),a=0,c=0,h=0;for(let p=0;p<s;++p){let A=n[r[p]];if(A===void 0)throw new SyntaxError(`Non-${i} character`);c=c<<t|A,a+=t,a>=8&&(a-=8,o[h++]=255&c>>a)}if(a>=t||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},TH=(r,e,t)=>{let i=e[e.length-1]==="=",n=(1<<t)-1,s="",o=0,a=0;for(let c=0;c<r.length;++c)for(a=a<<8|r[c],o+=8;o>t;)o-=t,s+=e[n&a>>o];if(o&&(s+=e[n&a<<t-o]),i)for(;s.length*t&7;)s+="=";return s},Zt=({name:r,prefix:e,bitsPerChar:t,alphabet:i})=>rp({prefix:e,name:r,encode(n){return TH(n,i,t)},decode(n){return SH(n,i,t,r)}}),NH=rp({prefix:"\0",name:"identity",encode:r=>xH(r),decode:r=>CH(r)}),DH=Object.freeze({__proto__:null,identity:NH}),OH=Zt({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),BH=Object.freeze({__proto__:null,base2:OH}),PH=Zt({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),MH=Object.freeze({__proto__:null,base8:PH}),RH=nl({prefix:"9",name:"base10",alphabet:"0123456789"}),LH=Object.freeze({__proto__:null,base10:RH}),FH=Zt({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),UH=Zt({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),qH=Object.freeze({__proto__:null,base16:FH,base16upper:UH}),VH=Zt({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),HH=Zt({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),QH=Zt({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),jH=Zt({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),GH=Zt({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),KH=Zt({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),zH=Zt({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),kH=Zt({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),$H=Zt({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),WH=Object.freeze({__proto__:null,base32:VH,base32upper:HH,base32pad:QH,base32padupper:jH,base32hex:GH,base32hexupper:KH,base32hexpad:zH,base32hexpadupper:kH,base32z:$H}),YH=nl({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),JH=nl({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),XH=Object.freeze({__proto__:null,base36:YH,base36upper:JH}),ZH=nl({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),eQ=nl({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),tQ=Object.freeze({__proto__:null,base58btc:ZH,base58flickr:eQ}),rQ=Zt({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),iQ=Zt({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),nQ=Zt({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),sQ=Zt({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),oQ=Object.freeze({__proto__:null,base64:rQ,base64pad:iQ,base64url:nQ,base64urlpad:sQ}),tN=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),aQ=tN.reduce((r,e,t)=>(r[t]=e,r),[]),uQ=tN.reduce((r,e,t)=>(r[e.codePointAt(0)]=t,r),[]);function cQ(r){return r.reduce((e,t)=>(e+=aQ[t],e),"")}function lQ(r){let e=[];for(let t of r){let i=uQ[t.codePointAt(0)];if(i===void 0)throw new Error(`Non-base256emoji character: ${t}`);e.push(i)}return new Uint8Array(e)}var fQ=rp({prefix:"\u{1F680}",name:"base256emoji",encode:cQ,decode:lQ}),hQ=Object.freeze({__proto__:null,base256emoji:fQ}),dQ=rN,L3=128,pQ=127,gQ=~pQ,yQ=Math.pow(2,31);function rN(r,e,t){e=e||[],t=t||0;for(var i=t;r>=yQ;)e[t++]=r&255|L3,r/=128;for(;r&gQ;)e[t++]=r&255|L3,r>>>=7;return e[t]=r|0,rN.bytes=t-i+1,e}var mQ=Hw,wQ=128,F3=127;function Hw(r,i){var t=0,i=i||0,n=0,s=i,o,a=r.length;do{if(s>=a)throw Hw.bytes=0,new RangeError("Could not decode varint");o=r[s++],t+=n<28?(o&F3)<<n:(o&F3)*Math.pow(2,n),n+=7}while(o>=wQ);return Hw.bytes=s-i,t}var vQ=Math.pow(2,7),EQ=Math.pow(2,14),AQ=Math.pow(2,21),IQ=Math.pow(2,28),_Q=Math.pow(2,35),bQ=Math.pow(2,42),CQ=Math.pow(2,49),xQ=Math.pow(2,56),SQ=Math.pow(2,63),TQ=function(r){return r<vQ?1:r<EQ?2:r<AQ?3:r<IQ?4:r<_Q?5:r<bQ?6:r<CQ?7:r<xQ?8:r<SQ?9:10},NQ={encode:dQ,decode:mQ,encodingLength:TQ},iN=NQ,U3=(r,e,t=0)=>(iN.encode(r,e,t),e),q3=r=>iN.encodingLength(r),Qw=(r,e)=>{let t=e.byteLength,i=q3(r),n=i+q3(t),s=new Uint8Array(n+t);return U3(r,s,0),U3(t,s,i),s.set(e,n),new jw(r,t,e,s)},jw=class{constructor(e,t,i,n){this.code=e,this.size=t,this.digest=i,this.bytes=n}},nN=({name:r,code:e,encode:t})=>new Gw(r,e,t),Gw=class{constructor(e,t,i){this.name=e,this.code=t,this.encode=i}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?Qw(this.code,t):t.then(i=>Qw(this.code,i))}else throw Error("Unknown type, must be binary type")}},sN=r=>async e=>new Uint8Array(await crypto.subtle.digest(r,e)),DQ=nN({name:"sha2-256",code:18,encode:sN("SHA-256")}),OQ=nN({name:"sha2-512",code:19,encode:sN("SHA-512")}),BQ=Object.freeze({__proto__:null,sha256:DQ,sha512:OQ}),oN=0,PQ="identity",aN=Z3,MQ=r=>Qw(oN,aN(r)),RQ={code:oN,name:PQ,encode:aN,digest:MQ},LQ=Object.freeze({__proto__:null,identity:RQ});new TextEncoder,new TextDecoder;var V3={...DH,...BH,...MH,...LH,...qH,...WH,...XH,...tQ,...oQ,...hQ};({...BQ,...LQ});function FQ(r=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(r):new Uint8Array(r)}function uN(r,e,t,i){return{name:r,prefix:e,encoder:{name:r,prefix:e,encode:t},decoder:{decode:i}}}var H3=uN("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>new TextEncoder().encode(r.substring(1))),Rw=uN("ascii","a",r=>{let e="a";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e},r=>{r=r.substring(1);let e=FQ(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}),UQ={utf8:H3,"utf-8":H3,hex:V3.base16,latin1:Rw,ascii:Rw,binary:Rw,...V3};function qQ(r,e="utf8"){let t=UQ[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(r,"utf8"):t.decoder.decode(`${t.prefix}${r}`)}var Ww="wc",cN=2,ip="core",un=`${Ww}@${2}:${ip}:`,lN={name:ip,logger:"error"},fN={database:":memory:"},hN="crypto",Kw="client_ed25519_seed",dN=Vt.ONE_DAY,pN="keychain",gN="0.3",yN="messages",mN="0.3",wN=Vt.SIX_HOURS,vN="publisher",EN="irn",AN="error",IN="wss://relay.walletconnect.com",_N="relayer",vr={message:"relayer_message",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed"},bN="_subscription",rl={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},zw=Vt.ONE_SECOND,VQ={database:":memory:"},CN="2.1.3",xN="0.3",ti={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},HQ=Vt.THIRTY_DAYS,SN="subscription",TN="0.3",NN=Vt.FIVE_SECONDS*1e3,DN="pairing",ON="0.3",QQ=Vt.THIRTY_DAYS,du={wc_pairingDelete:{req:{ttl:Vt.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:Vt.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:Vt.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:Vt.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:Vt.ONE_DAY,prompt:!1,tag:0},res:{ttl:Vt.ONE_DAY,prompt:!1,tag:0}}},ei={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},BN="history",PN="0.3",MN="expirer",Vr={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},RN="0.3",jQ=Vt.ONE_DAY,zd=class{constructor(e,t){this.core=e,this.logger=t,this.keychain=new Map,this.name=pN,this.version=gN,this.initialized=!1,this.storagePrefix=un,this.init=async()=>{if(!this.initialized){let i=await this.getKeyChain();typeof i<"u"&&(this.keychain=i),this.initialized=!0}},this.has=i=>(this.isInitialized(),this.keychain.has(i)),this.set=async(i,n)=>{this.isInitialized(),this.keychain.set(i,n),await this.persist()},this.get=i=>{this.isInitialized();let n=this.keychain.get(i);if(typeof n>"u"){let{message:s}=fe.getInternalError("NO_MATCHING_KEY",`${this.name}: ${i}`);throw new Error(s)}return n},this.del=async i=>{this.isInitialized(),this.keychain.delete(i),await this.persist()},this.core=e,this.logger=it.generateChildLogger(t,this.name)}get context(){return it.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,fe.mapToObj(e))}async getKeyChain(){let e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?fe.objToMap(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){let{message:e}=fe.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}},kd=class{constructor(e,t,i){this.core=e,this.logger=t,this.name=hN,this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=n=>(this.isInitialized(),this.keychain.has(n)),this.getClientId=async()=>{this.isInitialized();let n=await this.getClientSeed(),s=Gd.generateKeyPair(n);return Gd.encodeIss(s.publicKey)},this.generateKeyPair=()=>{this.isInitialized();let n=fe.generateKeyPair();return this.setPrivateKey(n.publicKey,n.privateKey)},this.signJWT=async n=>{this.isInitialized();let s=await this.getClientSeed(),o=Gd.generateKeyPair(s),a=fe.generateRandomBytes32(),c=dN;return await Gd.signJWT(a,n,c,o)},this.generateSharedKey=(n,s,o)=>{this.isInitialized();let a=this.getPrivateKey(n),c=fe.deriveSymKey(a,s);return this.setSymKey(c,o)},this.setSymKey=async(n,s)=>{this.isInitialized();let o=s||fe.hashKey(n);return await this.keychain.set(o,n),o},this.deleteKeyPair=async n=>{this.isInitialized(),await this.keychain.del(n)},this.deleteSymKey=async n=>{this.isInitialized(),await this.keychain.del(n)},this.encode=async(n,s,o)=>{this.isInitialized();let a=fe.validateEncoding(o),c=R3.safeJsonStringify(s);if(fe.isTypeOneEnvelope(a)){let D=a.senderPublicKey,O=a.receiverPublicKey;n=await this.generateSharedKey(D,O)}let h=this.getSymKey(n),{type:p,senderPublicKey:A}=a;return fe.encrypt({type:p,symKey:h,message:c,senderPublicKey:A})},this.decode=async(n,s,o)=>{this.isInitialized();let a=fe.validateDecoding(s,o);if(fe.isTypeOneEnvelope(a)){let p=a.receiverPublicKey,A=a.senderPublicKey;n=await this.generateSharedKey(p,A)}let c=this.getSymKey(n),h=fe.decrypt({symKey:c,encoded:s});return R3.safeJsonParse(h)},this.core=e,this.logger=it.generateChildLogger(t,this.name),this.keychain=i||new zd(this.core,this.logger)}get context(){return it.getLoggerContext(this.logger)}getPayloadType(e){let t=fe.deserialize(e);return fe.decodeTypeByte(t.type)}async setPrivateKey(e,t){return await this.keychain.set(e,t),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(Kw)}catch{e=fe.generateRandomBytes32(),await this.keychain.set(Kw,e)}return qQ(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){let{message:e}=fe.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}},$d=class extends Kn.IMessageTracker{constructor(e,t){super(e,t),this.logger=e,this.core=t,this.messages=new Map,this.name=yN,this.version=mN,this.initialized=!1,this.storagePrefix=un,this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{let i=await this.getRelayerMessages();typeof i<"u"&&(this.messages=i),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(i){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(i)}finally{this.initialized=!0}}},this.set=async(i,n)=>{this.isInitialized();let s=fe.hashMessage(n),o=this.messages.get(i);return typeof o>"u"&&(o={}),typeof o[s]<"u"||(o[s]=n,this.messages.set(i,o),await this.persist()),s},this.get=i=>{this.isInitialized();let n=this.messages.get(i);return typeof n>"u"&&(n={}),n},this.has=(i,n)=>{this.isInitialized();let s=this.get(i),o=fe.hashMessage(n);return typeof s[o]<"u"},this.del=async i=>{this.isInitialized(),this.messages.delete(i),await this.persist()},this.logger=it.generateChildLogger(e,this.name),this.core=t}get context(){return it.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,fe.mapToObj(e))}async getRelayerMessages(){let e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?fe.objToMap(e):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){let{message:e}=fe.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}},kw=class extends Kn.IPublisher{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,this.events=new oo.EventEmitter,this.name=vN,this.queue=new Map,this.publishTimeout=1e4,this.publish=async(i,n,s)=>{this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:i,message:n,opts:s}});try{let o=s?.ttl||wN,a=fe.getRelayProtocolName(s),c=s?.prompt||!1,h=s?.tag||0,p={topic:i,message:n,opts:{ttl:o,relay:a,prompt:c,tag:h}},A=fe.hashMessage(n);this.queue.set(A,p);try{await await fe.createExpiringPromise(this.rpcPublish(i,n,o,a,c,h),this.publishTimeout)}catch{this.logger.debug("Publishing Payload stalled"),this.relayer.events.emit(vr.connection_stalled);return}this.onPublish(A,p),this.logger.debug("Successfully Published Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:i,message:n,opts:s}})}catch(o){throw this.logger.debug("Failed to Publish Payload"),this.logger.error(o),o}},this.on=(i,n)=>{this.events.on(i,n)},this.once=(i,n)=>{this.events.once(i,n)},this.off=(i,n)=>{this.events.off(i,n)},this.removeListener=(i,n)=>{this.events.removeListener(i,n)},this.relayer=e,this.logger=it.generateChildLogger(t,this.name),this.registerEventListeners()}get context(){return it.getLoggerContext(this.logger)}rpcPublish(e,t,i,n,s,o){var a,c,h,p;let A={method:fe.getRelayProtocolApi(n.protocol).publish,params:{topic:e,message:t,ttl:i,prompt:s,tag:o}};return fe.isUndefined((a=A.params)==null?void 0:a.prompt)&&((c=A.params)==null||delete c.prompt),fe.isUndefined((h=A.params)==null?void 0:h.tag)&&((p=A.params)==null||delete p.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:A}),this.relayer.provider.request(A)}onPublish(e,t){this.queue.delete(e)}checkQueue(){this.queue.forEach(async e=>{let{topic:t,message:i,opts:n}=e;await this.publish(t,i,n)})}registerEventListeners(){this.relayer.core.heartbeat.on(tp.HEARTBEAT_EVENTS.pulse,()=>{this.checkQueue()})}},$w=class{constructor(){this.map=new Map,this.set=(e,t)=>{let i=this.get(e);this.exists(e,t)||this.map.set(e,[...i,t])},this.get=e=>this.map.get(e)||[],this.exists=(e,t)=>this.get(e).includes(t),this.delete=(e,t)=>{if(typeof t>"u"){this.map.delete(e);return}if(!this.map.has(e))return;let i=this.get(e);if(!this.exists(e,t))return;let n=i.filter(s=>s!==t);if(!n.length){this.map.delete(e);return}this.map.set(e,n)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}},GQ=Object.defineProperty,KQ=Object.defineProperties,zQ=Object.getOwnPropertyDescriptors,Q3=Object.getOwnPropertySymbols,kQ=Object.prototype.hasOwnProperty,$Q=Object.prototype.propertyIsEnumerable,j3=(r,e,t)=>e in r?GQ(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Kd=(r,e)=>{for(var t in e||(e={}))kQ.call(e,t)&&j3(r,t,e[t]);if(Q3)for(var t of Q3(e))$Q.call(e,t)&&j3(r,t,e[t]);return r},Lw=(r,e)=>KQ(r,zQ(e)),Wd=class extends Kn.ISubscriber{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,this.subscriptions=new Map,this.topicMap=new $w,this.events=new oo.EventEmitter,this.name=SN,this.version=TN,this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pendingSubInterval=20,this.storagePrefix=un,this.subscribeTimeout=1e4,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restart(),this.registerEventListeners(),this.onEnable())},this.subscribe=async(i,n)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:i,opts:n}});try{let s=fe.getRelayProtocolName(n),o={topic:i,relay:s};this.pending.set(i,o);let a=await this.rpcSubscribe(i,s);return this.onSubscribe(a,o),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:i,opts:n}}),a}catch(s){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(s),s}},this.unsubscribe=async(i,n)=>{this.isInitialized(),typeof n?.id<"u"?await this.unsubscribeById(i,n.id,n):await this.unsubscribeByTopic(i,n)},this.isSubscribed=async i=>this.topics.includes(i)?!0:await new Promise((n,s)=>{let o=new Vt.Watch;o.start(this.pendingSubscriptionWatchLabel);let a=setInterval(()=>{!this.pending.has(i)&&this.topics.includes(i)&&(clearInterval(a),o.stop(this.pendingSubscriptionWatchLabel),n(!0)),o.elapsed(this.pendingSubscriptionWatchLabel)>=NN&&(clearInterval(a),o.stop(this.pendingSubscriptionWatchLabel),s(!1))},this.pendingSubInterval)}),this.on=(i,n)=>{this.events.on(i,n)},this.once=(i,n)=>{this.events.once(i,n)},this.off=(i,n)=>{this.events.off(i,n)},this.removeListener=(i,n)=>{this.events.removeListener(i,n)},this.restart=async()=>{await this.restore(),await this.reset()},this.relayer=e,this.logger=it.generateChildLogger(t,this.name)}get context(){return it.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(e,t){let i=!1;try{i=this.getSubscription(e).topic===t}catch{}return i}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear(),this.initialized=!1}async unsubscribeByTopic(e,t){let i=this.topicMap.get(e);await Promise.all(i.map(async n=>await this.unsubscribeById(e,n,t)))}async unsubscribeById(e,t,i){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:i}});try{let n=fe.getRelayProtocolName(i);await this.rpcUnsubscribe(e,t,n);let s=fe.getSdkError("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,t,s),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:i}})}catch(n){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(n),n}}async rpcSubscribe(e,t){let i={method:fe.getRelayProtocolApi(t.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i});let n;try{n=await await fe.createExpiringPromise(this.relayer.provider.request(i),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Payload stalled"),this.relayer.events.emit(vr.connection_stalled)}return n}rpcUnsubscribe(e,t,i){let n={method:fe.getRelayProtocolApi(i.protocol).unsubscribe,params:{topic:e,id:t}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n}),this.relayer.provider.request(n)}onSubscribe(e,t){this.setSubscription(e,Lw(Kd({},t),{id:e})),this.pending.delete(t.topic)}onResubscribe(e,t){this.addSubscription(e,Lw(Kd({},t),{id:e})),this.pending.delete(t.topic)}async onUnsubscribe(e,t,i){this.events.removeAllListeners(t),this.hasSubscription(t,e)&&this.deleteSubscription(t,i),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,t){this.subscriptions.has(e)||(this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:t}),this.addSubscription(e,t))}addSubscription(e,t){this.subscriptions.set(e,Kd({},t)),this.topicMap.set(t.topic,e),this.events.emit(ti.created,t)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});let t=this.subscriptions.get(e);if(!t){let{message:i}=fe.getInternalError("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(i)}return t}deleteSubscription(e,t){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:t});let i=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(i.topic,e),this.events.emit(ti.deleted,Lw(Kd({},i),{reason:t}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(ti.sync)}async reset(){this.cached.length&&await Promise.all(this.cached.map(async e=>await this.resubscribe(e))),this.events.emit(ti.resubscribed)}async restore(){try{let e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){let{message:t}=fe.getInternalError("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async resubscribe(e){if(!this.ids.includes(e.id)){let{topic:t,relay:i}=e,n={topic:t,relay:i};this.pending.set(n.topic,n);let s=await this.rpcSubscribe(n.topic,n.relay);this.onResubscribe(s,n)}}async onConnect(){await this.restart(),this.onEnable()}onDisconnect(){this.onDisable()}checkPending(){this.relayer.transportExplicitlyClosed||this.pending.forEach(async e=>{let t=await this.rpcSubscribe(e.topic,e.relay);this.onSubscribe(t,e)})}registerEventListeners(){this.relayer.core.heartbeat.on(tp.HEARTBEAT_EVENTS.pulse,()=>{this.checkPending()}),this.relayer.on(vr.connect,async()=>{await this.onConnect()}),this.relayer.on(vr.disconnect,()=>{this.onDisconnect()}),this.events.on(ti.created,async e=>{let t=ti.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),await this.persist()}),this.events.on(ti.deleted,async e=>{let t=ti.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),await this.persist()})}isInitialized(){if(!this.initialized){let{message:e}=fe.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}},WQ=Object.defineProperty,G3=Object.getOwnPropertySymbols,YQ=Object.prototype.hasOwnProperty,JQ=Object.prototype.propertyIsEnumerable,K3=(r,e,t)=>e in r?WQ(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,XQ=(r,e)=>{for(var t in e||(e={}))YQ.call(e,t)&&K3(r,t,e[t]);if(G3)for(var t of G3(e))JQ.call(e,t)&&K3(r,t,e[t]);return r},Yd=class extends Kn.IRelayer{constructor(e){super(e),this.protocol="wc",this.version=2,this.events=new oo.EventEmitter,this.name=_N,this.transportExplicitlyClosed=!1,this.initialized=!1,this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?it.generateChildLogger(e.logger,this.name):X3.default(it.getDefaultLoggerOptions({level:e.logger||AN})),this.messages=new $d(this.logger,e.core),this.subscriber=new Wd(this,this.logger),this.publisher=new kw(this,this.logger),this.relayUrl=e?.relayUrl||IN,this.projectId=e.projectId,this.provider={}}async init(){this.logger.trace("Initialized"),this.provider=await this.createProvider(),await Promise.all([this.messages.init(),this.transportOpen(),this.subscriber.init()]),this.registerEventListeners(),this.initialized=!0}get context(){return it.getLoggerContext(this.logger)}get connected(){return this.provider.connection.connected}get connecting(){return this.provider.connection.connecting}async publish(e,t,i){this.isInitialized(),await this.publisher.publish(e,t,i),await this.recordMessageEvent({topic:e,message:t})}async subscribe(e,t){this.isInitialized();let i="";return await Promise.all([new Promise(n=>{this.subscriber.once(ti.created,s=>{s.topic===e&&n()})}),new Promise(async n=>{i=await this.subscriber.subscribe(e,t),n()})]),i}async unsubscribe(e,t){this.isInitialized(),await this.subscriber.unsubscribe(e,t)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async transportClose(){this.transportExplicitlyClosed=!0,this.connected&&await this.provider.disconnect(),this.events.emit(vr.transport_closed)}async transportOpen(e){this.relayUrl=e||this.relayUrl,this.transportExplicitlyClosed=!1;try{await Promise.all([new Promise(t=>{this.initialized||t(),this.subscriber.once(ti.resubscribed,()=>{t()})}),await Promise.race([this.provider.connect(),new Promise((t,i)=>this.once(vr.transport_closed,()=>{i()}))])])}catch(t){let i=t;if(!/socket hang up/i.test(i.message))throw new Error(i.message);this.logger.error(i),this.events.emit(vr.transport_closed)}}async restartTransport(e){await this.transportClose(),await new Promise(t=>setTimeout(t,zw)),await this.transportOpen(e)}async createProvider(){let e=await this.core.crypto.signJWT(this.relayUrl);return new pH.JsonRpcProvider(new EH.default(fe.formatRelayRpcUrl({sdkVersion:CN,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e})))}async recordMessageEvent(e){let{topic:t,message:i}=e;await this.messages.set(t,i)}async shouldIgnoreMessageEvent(e){let{topic:t,message:i}=e;return await this.subscriber.isSubscribed(t)?this.messages.has(t,i):!0}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),ri.isJsonRpcRequest(e)){if(!e.method.endsWith(bN))return;let t=e.params,{topic:i,message:n}=t.data,s={topic:i,message:n};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(XQ({type:"event",event:t.id},s)),this.events.emit(t.id,s),await this.acknowledgePayload(e),await this.onMessageEvent(s)}}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(this.events.emit(vr.message,e),await this.recordMessageEvent(e))}async acknowledgePayload(e){let t=ri.formatJsonRpcResult(e.id,!0);await this.provider.connection.send(t)}registerEventListeners(){this.provider.on(rl.payload,e=>this.onProviderPayload(e)),this.provider.on(rl.connect,()=>{this.events.emit(vr.connect)}),this.provider.on(rl.disconnect,()=>{this.events.emit(vr.disconnect),this.attemptToReconnect()}),this.provider.on(rl.error,e=>this.events.emit(vr.error,e)),this.events.on(vr.connection_stalled,async()=>{await this.restartTransport()})}attemptToReconnect(){this.transportExplicitlyClosed||setTimeout(async()=>{await this.transportOpen()},Vt.toMiliseconds(zw))}isInitialized(){if(!this.initialized){let{message:e}=fe.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}},ZQ=Object.defineProperty,z3=Object.getOwnPropertySymbols,e9=Object.prototype.hasOwnProperty,t9=Object.prototype.propertyIsEnumerable,k3=(r,e,t)=>e in r?ZQ(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,$3=(r,e)=>{for(var t in e||(e={}))e9.call(e,t)&&k3(r,t,e[t]);if(z3)for(var t of z3(e))t9.call(e,t)&&k3(r,t,e[t]);return r},Jd=class extends Kn.IStore{constructor(e,t,i,n=un,s=void 0){super(e,t,i,n),this.core=e,this.logger=t,this.name=i,this.map=new Map,this.version=xN,this.cached=[],this.initialized=!1,this.storagePrefix=un,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{fe.isProposalStruct(o)?this.map.set(o.id,o):fe.isSessionStruct(o)?this.map.set(o.topic,o):this.getKey&&o!==null&&!fe.isUndefined(o)&&this.map.set(this.getKey(o),o)}),this.cached=[],this.initialized=!0)},this.set=async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())},this.get=o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o)),this.getAll=o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(c=>AH.default(a[c],o[c]))):this.values),this.update=async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});let c=$3($3({},this.getData(o)),a);this.map.set(o,c),await this.persist()},this.delete=async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),await this.persist())},this.logger=it.generateChildLogger(t,this.name),this.storagePrefix=n,this.getKey=s}get context(){return it.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){let t=this.map.get(e);if(!t){let{message:i}=fe.getInternalError("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}return t}async persist(){await this.setDataStore(this.values)}async restore(){try{let e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){let{message:t}=fe.getInternalError("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){let{message:e}=fe.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}},Xd=class{constructor(e,t){this.core=e,this.logger=t,this.name=DN,this.version=ON,this.events=new wH.default,this.initialized=!1,this.storagePrefix=un,this.ignoredPayloadTypes=[fe.TYPE_1],this.registeredMethods=[],this.init=async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))},this.register=({methods:i})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...i])]},this.create=async()=>{this.isInitialized();let i=fe.generateRandomBytes32(),n=await this.core.crypto.setSymKey(i),s=fe.calcExpiry(Vt.FIVE_MINUTES),o={protocol:EN},a={topic:n,expiry:s,relay:o,active:!1},c=fe.formatUri({protocol:this.core.protocol,version:this.core.version,topic:n,symKey:i,relay:o});return await this.pairings.set(n,a),await this.core.relayer.subscribe(n),this.core.expirer.set(n,s),{topic:n,uri:c}},this.pair=async i=>{this.isInitialized(),this.isValidPair(i);let{topic:n,symKey:s,relay:o}=fe.parseUri(i.uri),a=fe.calcExpiry(Vt.FIVE_MINUTES),c={topic:n,relay:o,expiry:a,active:!1};return await this.pairings.set(n,c),await this.core.crypto.setSymKey(s,n),await this.core.relayer.subscribe(n,{relay:o}),this.core.expirer.set(n,a),i.activatePairing&&await this.activate({topic:n}),c},this.activate=async({topic:i})=>{this.isInitialized();let n=fe.calcExpiry(Vt.THIRTY_DAYS);await this.pairings.update(i,{active:!0,expiry:n}),this.core.expirer.set(i,n)},this.ping=async i=>{this.isInitialized(),await this.isValidPing(i);let{topic:n}=i;if(this.pairings.keys.includes(n)){let s=await this.sendRequest(n,"wc_pairingPing",{}),{done:o,resolve:a,reject:c}=fe.createDelayedPromise();this.events.once(fe.engineEvent("pairing_ping",s),({error:h})=>{h?c(h):a()}),await o()}},this.updateExpiry=async({topic:i,expiry:n})=>{this.isInitialized(),await this.pairings.update(i,{expiry:n})},this.updateMetadata=async({topic:i,metadata:n})=>{this.isInitialized(),await this.pairings.update(i,{peerMetadata:n})},this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=async i=>{this.isInitialized(),await this.isValidDisconnect(i);let{topic:n}=i;this.pairings.keys.includes(n)&&(await this.sendRequest(n,"wc_pairingDelete",fe.getSdkError("USER_DISCONNECTED")),await this.deletePairing(n))},this.sendRequest=async(i,n,s)=>{let o=ri.formatJsonRpcRequest(n,s),a=await this.core.crypto.encode(i,o),c=du[n].req;return this.core.history.set(i,o),await this.core.relayer.publish(i,a,c),o.id},this.sendResult=async(i,n,s)=>{let o=ri.formatJsonRpcResult(i,s),a=await this.core.crypto.encode(n,o),c=await this.core.history.get(n,i),h=du[c.request.method].res;await this.core.relayer.publish(n,a,h),await this.core.history.resolve(o)},this.sendError=async(i,n,s)=>{let o=ri.formatJsonRpcError(i,s),a=await this.core.crypto.encode(n,o),c=await this.core.history.get(n,i),h=du[c.request.method]?du[c.request.method].res:du.unregistered_method.res;await this.core.relayer.publish(n,a,h),await this.core.history.resolve(o)},this.deletePairing=async(i,n)=>{await this.core.relayer.unsubscribe(i),await Promise.all([this.pairings.delete(i,fe.getSdkError("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(i),n?Promise.resolve():this.core.expirer.del(i)])},this.cleanup=async()=>{let i=this.pairings.getAll().filter(n=>fe.isExpired(n.expiry));await Promise.all(i.map(n=>this.deletePairing(n.topic)))},this.onRelayEventRequest=i=>{let{topic:n,payload:s}=i;switch(s.method){case"wc_pairingPing":return this.onPairingPingRequest(n,s);case"wc_pairingDelete":return this.onPairingDeleteRequest(n,s);default:return this.onUnknownRpcMethodRequest(n,s)}},this.onRelayEventResponse=async i=>{let{topic:n,payload:s}=i,o=(await this.core.history.get(n,s.id)).request.method;switch(o){case"wc_pairingPing":return this.onPairingPingResponse(n,s);default:return this.onUnknownRpcMethodResponse(o)}},this.onPairingPingRequest=async(i,n)=>{let{id:s}=n;try{this.isValidPing({topic:i}),await this.sendResult(s,i,!0),this.events.emit("pairing_ping",{id:s,topic:i})}catch(o){await this.sendError(s,i,o),this.logger.error(o)}},this.onPairingPingResponse=(i,n)=>{let{id:s}=n;setTimeout(()=>{ri.isJsonRpcResult(n)?this.events.emit(fe.engineEvent("pairing_ping",s),{}):ri.isJsonRpcError(n)&&this.events.emit(fe.engineEvent("pairing_ping",s),{error:n.error})},500)},this.onPairingDeleteRequest=async(i,n)=>{let{id:s}=n;try{this.isValidDisconnect({topic:i}),await this.sendResult(s,i,!0),await this.deletePairing(i),this.events.emit("pairing_delete",{id:s,topic:i})}catch(o){await this.sendError(s,i,o),this.logger.error(o)}},this.onUnknownRpcMethodRequest=async(i,n)=>{let{id:s,method:o}=n;try{if(this.registeredMethods.includes(o))return;let a=fe.getSdkError("WC_METHOD_UNSUPPORTED",o);await this.sendError(s,i,a),this.logger.error(a)}catch(a){await this.sendError(s,i,a),this.logger.error(a)}},this.onUnknownRpcMethodResponse=i=>{this.registeredMethods.includes(i)||this.logger.error(fe.getSdkError("WC_METHOD_UNSUPPORTED",i))},this.isValidPair=i=>{if(!fe.isValidParams(i)){let{message:n}=fe.getInternalError("MISSING_OR_INVALID",`pair() params: ${i}`);throw new Error(n)}if(!fe.isValidUrl(i.uri)){let{message:n}=fe.getInternalError("MISSING_OR_INVALID",`pair() uri: ${i.uri}`);throw new Error(n)}},this.isValidPing=async i=>{if(!fe.isValidParams(i)){let{message:s}=fe.getInternalError("MISSING_OR_INVALID",`ping() params: ${i}`);throw new Error(s)}let{topic:n}=i;await this.isValidPairingTopic(n)},this.isValidDisconnect=async i=>{if(!fe.isValidParams(i)){let{message:s}=fe.getInternalError("MISSING_OR_INVALID",`disconnect() params: ${i}`);throw new Error(s)}let{topic:n}=i;await this.isValidPairingTopic(n)},this.isValidPairingTopic=async i=>{if(!fe.isValidString(i,!1)){let{message:n}=fe.getInternalError("MISSING_OR_INVALID",`pairing topic should be a string: ${i}`);throw new Error(n)}if(!this.pairings.keys.includes(i)){let{message:n}=fe.getInternalError("NO_MATCHING_KEY",`pairing topic doesn't exist: ${i}`);throw new Error(n)}if(fe.isExpired(this.pairings.get(i).expiry)){await this.deletePairing(i);let{message:n}=fe.getInternalError("EXPIRED",`pairing topic: ${i}`);throw new Error(n)}},this.core=e,this.logger=it.generateChildLogger(t,this.name),this.pairings=new Jd(this.core,this.logger,this.name,this.storagePrefix)}get context(){return it.getLoggerContext(this.logger)}isInitialized(){if(!this.initialized){let{message:e}=fe.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(vr.message,async e=>{let{topic:t,message:i}=e;if(this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(i)))return;let n=await this.core.crypto.decode(t,i);ri.isJsonRpcRequest(n)?(this.core.history.set(t,n),this.onRelayEventRequest({topic:t,payload:n})):ri.isJsonRpcResponse(n)&&(await this.core.history.resolve(n),this.onRelayEventResponse({topic:t,payload:n}))})}registerExpirerEvents(){this.core.expirer.on(Vr.expired,async e=>{let{topic:t}=fe.parseExpirerTarget(e.target);t&&this.pairings.keys.includes(t)&&(await this.deletePairing(t,!0),this.events.emit("pairing_expire",{topic:t}))})}},Zd=class extends Kn.IJsonRpcHistory{constructor(e,t){super(e,t),this.core=e,this.logger=t,this.records=new Map,this.events=new oo.EventEmitter,this.name=BN,this.version=PN,this.cached=[],this.initialized=!1,this.storagePrefix=un,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(i=>this.records.set(i.id,i)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(i,n,s)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:i,request:n,chainId:s}),this.records.has(n.id))return;let o={id:n.id,topic:i,request:{method:n.method,params:n.params||null},chainId:s};this.records.set(o.id,o),this.events.emit(ei.created,o)},this.resolve=async i=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:i}),!this.records.has(i.id))return;let n=await this.getRecord(i.id);typeof n.response>"u"&&(n.response=ri.isJsonRpcError(i)?{error:i.error}:{result:i.result},this.records.set(n.id,n),this.events.emit(ei.updated,n))},this.get=async(i,n)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:i,id:n}),await this.getRecord(n)),this.delete=(i,n)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:n}),this.values.forEach(s=>{if(s.topic===i){if(typeof n<"u"&&s.id!==n)return;this.records.delete(s.id),this.events.emit(ei.deleted,s)}})},this.exists=async(i,n)=>(this.isInitialized(),this.records.has(n)?(await this.getRecord(n)).topic===i:!1),this.on=(i,n)=>{this.events.on(i,n)},this.once=(i,n)=>{this.events.once(i,n)},this.off=(i,n)=>{this.events.off(i,n)},this.removeListener=(i,n)=>{this.events.removeListener(i,n)},this.logger=it.generateChildLogger(t,this.name)}get context(){return it.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){let e=[];return this.values.forEach(t=>{if(typeof t.response<"u")return;let i={topic:t.topic,request:ri.formatJsonRpcRequest(t.request.method,t.request.params,t.id),chainId:t.chainId};return e.push(i)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();let t=this.records.get(e);if(!t){let{message:i}=fe.getInternalError("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(i)}return t}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(ei.sync)}async restore(){try{let e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){let{message:t}=fe.getInternalError("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(ei.created,e=>{let t=ei.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e}),this.persist()}),this.events.on(ei.updated,e=>{let t=ei.updated;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e}),this.persist()}),this.events.on(ei.deleted,e=>{let t=ei.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e}),this.persist()})}isInitialized(){if(!this.initialized){let{message:e}=fe.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}},ep=class extends Kn.IExpirer{constructor(e,t){super(e,t),this.core=e,this.logger=t,this.expirations=new Map,this.events=new oo.EventEmitter,this.name=MN,this.version=RN,this.cached=[],this.initialized=!1,this.storagePrefix=un,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(i=>this.expirations.set(i.target,i)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=i=>{try{let n=this.formatTarget(i);return typeof this.getExpiration(n)<"u"}catch{return!1}},this.set=(i,n)=>{this.isInitialized();let s=this.formatTarget(i),o={target:s,expiry:n};this.expirations.set(s,o),this.checkExpiry(s,o),this.events.emit(Vr.created,{target:s,expiration:o})},this.get=i=>{this.isInitialized();let n=this.formatTarget(i);return this.getExpiration(n)},this.del=i=>{this.isInitialized();let n=this.formatTarget(i);if(this.has(n)){let s=this.getExpiration(n);this.expirations.delete(n),this.events.emit(Vr.deleted,{target:n,expiration:s})}},this.on=(i,n)=>{this.events.on(i,n)},this.once=(i,n)=>{this.events.once(i,n)},this.off=(i,n)=>{this.events.off(i,n)},this.removeListener=(i,n)=>{this.events.removeListener(i,n)},this.logger=it.generateChildLogger(t,this.name)}get context(){return it.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return fe.formatTopicTarget(e);if(typeof e=="number")return fe.formatIdTarget(e);let{message:t}=fe.getInternalError("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(t)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Vr.sync)}async restore(){try{let e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){let{message:t}=fe.getInternalError("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){let t=this.expirations.get(e);if(!t){let{message:i}=fe.getInternalError("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}return t}checkExpiry(e,t){let{expiry:i}=t;Vt.toMiliseconds(i)-Date.now()<=0&&this.expire(e,t)}expire(e,t){this.expirations.delete(e),this.events.emit(Vr.expired,{target:e,expiration:t})}checkExpirations(){this.expirations.forEach((e,t)=>this.checkExpiry(t,e))}registerEventListeners(){this.core.heartbeat.on(tp.HEARTBEAT_EVENTS.pulse,()=>this.checkExpirations()),this.events.on(Vr.created,e=>{let t=Vr.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(Vr.expired,e=>{let t=Vr.expired;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(Vr.deleted,e=>{let t=Vr.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()})}isInitialized(){if(!this.initialized){let{message:e}=fe.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}},r9=Object.defineProperty,W3=Object.getOwnPropertySymbols,i9=Object.prototype.hasOwnProperty,n9=Object.prototype.propertyIsEnumerable,Y3=(r,e,t)=>e in r?r9(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,J3=(r,e)=>{for(var t in e||(e={}))i9.call(e,t)&&Y3(r,t,e[t]);if(W3)for(var t of W3(e))n9.call(e,t)&&Y3(r,t,e[t]);return r},pu=class extends Kn.ICore{constructor(e){super(e),this.protocol=Ww,this.version=cN,this.name=ip,this.events=new oo.EventEmitter,this.initialized=!1,this.on=(i,n)=>this.events.on(i,n),this.once=(i,n)=>this.events.once(i,n),this.off=(i,n)=>this.events.off(i,n),this.removeListener=(i,n)=>this.events.removeListener(i,n),this.projectId=e?.projectId;let t=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:X3.default(it.getDefaultLoggerOptions({level:e?.logger||lN.logger}));this.logger=it.generateChildLogger(t,this.name),this.heartbeat=new tp.HeartBeat,this.crypto=new kd(this,this.logger,e?.keychain),this.history=new Zd(this,this.logger),this.expirer=new ep(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new vH.default(J3(J3({},fN),e?.storageOptions)),this.relayer=new Yd({core:this,logger:this.logger,relayUrl:e?.relayUrl,projectId:this.projectId}),this.pairing=new Xd(this,this.logger)}static async init(e){let t=new pu(e);return await t.initialize(),t}get context(){return it.getLoggerContext(this.logger)}async start(){this.initialized||await this.initialize()}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.initialized=!0,this.logger.info("Core Initilization Success")}catch(e){throw this.logger.warn(`Core Initilization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}},s9=pu;Ee.CORE_CONTEXT=ip,Ee.CORE_DEFAULT=lN,Ee.CORE_PROTOCOL=Ww,Ee.CORE_STORAGE_OPTIONS=fN,Ee.CORE_STORAGE_PREFIX=un,Ee.CORE_VERSION=cN,Ee.CRYPTO_CLIENT_SEED=Kw,Ee.CRYPTO_CONTEXT=hN,Ee.CRYPTO_JWT_TTL=dN,Ee.Core=s9,Ee.Crypto=kd,Ee.EXPIRER_CONTEXT=MN,Ee.EXPIRER_DEFAULT_TTL=jQ,Ee.EXPIRER_EVENTS=Vr,Ee.EXPIRER_STORAGE_VERSION=RN,Ee.Expirer=ep,Ee.HISTORY_CONTEXT=BN,Ee.HISTORY_EVENTS=ei,Ee.HISTORY_STORAGE_VERSION=PN,Ee.JsonRpcHistory=Zd,Ee.KEYCHAIN_CONTEXT=pN,Ee.KEYCHAIN_STORAGE_VERSION=gN,Ee.KeyChain=zd,Ee.MESSAGES_CONTEXT=yN,Ee.MESSAGES_STORAGE_VERSION=mN,Ee.MessageTracker=$d,Ee.PAIRING_CONTEXT=DN,Ee.PAIRING_DEFAULT_TTL=QQ,Ee.PAIRING_RPC_OPTS=du,Ee.PAIRING_STORAGE_VERSION=ON,Ee.PENDING_SUB_RESOLUTION_TIMEOUT=NN,Ee.PUBLISHER_CONTEXT=vN,Ee.PUBLISHER_DEFAULT_TTL=wN,Ee.Pairing=Xd,Ee.RELAYER_CONTEXT=_N,Ee.RELAYER_DEFAULT_LOGGER=AN,Ee.RELAYER_DEFAULT_PROTOCOL=EN,Ee.RELAYER_DEFAULT_RELAY_URL=IN,Ee.RELAYER_EVENTS=vr,Ee.RELAYER_PROVIDER_EVENTS=rl,Ee.RELAYER_RECONNECT_TIMEOUT=zw,Ee.RELAYER_SDK_VERSION=CN,Ee.RELAYER_STORAGE_OPTIONS=VQ,Ee.RELAYER_SUBSCRIBER_SUFFIX=bN,Ee.Relayer=Yd,Ee.STORE_STORAGE_VERSION=xN,Ee.SUBSCRIBER_CONTEXT=SN,Ee.SUBSCRIBER_DEFAULT_TTL=HQ,Ee.SUBSCRIBER_EVENTS=ti,Ee.SUBSCRIBER_STORAGE_VERSION=TN,Ee.Store=Jd,Ee.Subscriber=Wd,Ee.default=pu});var kN=P(dt=>{"use strict";f();Object.defineProperty(dt,"__esModule",{value:!0});var o9=ch(),ao=LN(),Yw=wm(),VN=Rm(),oe=wd(),HN=ks(),Lt=$s(),Ht=(Yc(),st(ur));function QN(r){return r&&typeof r=="object"&&"default"in r?r:{default:r}}var a9=QN(o9),u9=QN(HN),tv="wc",rv=2,iv="client",sp=`${tv}@${rv}:${iv}:`,np={name:iv,logger:"error",controller:!1,relayUrl:"wss://relay.walletconnect.com"},c9={session_proposal:"session_proposal",session_update:"session_update",session_extend:"session_extend",session_ping:"session_ping",session_delete:"session_delete",session_expire:"session_expire",session_request:"session_request",session_event:"session_event",proposal_expire:"proposal_expire"},l9={database:":memory:"},f9={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},h9="history",d9="0.3",jN="proposal",p9=Lt.THIRTY_DAYS,GN="session",sl=Lt.SEVEN_DAYS,KN="engine",gu={wc_sessionPropose:{req:{ttl:Lt.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:Lt.FIVE_MINUTES,prompt:!1,tag:1101}},wc_sessionSettle:{req:{ttl:Lt.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:Lt.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:Lt.ONE_DAY,prompt:!1,tag:1104},res:{ttl:Lt.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:Lt.ONE_DAY,prompt:!1,tag:1106},res:{ttl:Lt.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:Lt.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:Lt.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:Lt.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:Lt.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:Lt.ONE_DAY,prompt:!1,tag:1112},res:{ttl:Lt.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:Lt.THIRTY_SECONDS,prompt:!1,tag:1114},res:{ttl:Lt.THIRTY_SECONDS,prompt:!1,tag:1115}}},zN="request",g9=Object.defineProperty,y9=Object.defineProperties,m9=Object.getOwnPropertyDescriptors,FN=Object.getOwnPropertySymbols,w9=Object.prototype.hasOwnProperty,v9=Object.prototype.propertyIsEnumerable,UN=(r,e,t)=>e in r?g9(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,zn=(r,e)=>{for(var t in e||(e={}))w9.call(e,t)&&UN(r,t,e[t]);if(FN)for(var t of FN(e))v9.call(e,t)&&UN(r,t,e[t]);return r},qN=(r,e)=>y9(r,m9(e)),Jw=class extends VN.IEngine{constructor(e){super(e),this.name=KN,this.events=new u9.default,this.initialized=!1,this.ignoredPayloadTypes=[oe.TYPE_1],this.init=async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.client.core.pairing.register({methods:Object.keys(gu)}),this.initialized=!0)},this.connect=async t=>{this.isInitialized(),await this.isValidConnect(t);let{pairingTopic:i,requiredNamespaces:n,relays:s}=t,o=i,a,c=!1;if(o&&(c=this.client.core.pairing.pairings.get(o).active),!o||!c){let{topic:Q,uri:j}=await this.client.core.pairing.create();o=Q,a=j}let h=await this.client.core.crypto.generateKeyPair(),p={requiredNamespaces:n,relays:s??[{protocol:ao.RELAYER_DEFAULT_PROTOCOL}],proposer:{publicKey:h,metadata:this.client.metadata}},{reject:A,resolve:D,done:O}=oe.createDelayedPromise();if(this.events.once(oe.engineEvent("session_connect"),async({error:Q,session:j})=>{if(Q)A(Q);else if(j){j.self.publicKey=h;let ie=qN(zn({},j),{requiredNamespaces:n});await this.client.session.set(j.topic,ie),await this.setExpiry(j.topic,j.expiry),o&&await this.client.core.pairing.updateMetadata({topic:o,metadata:j.peer.metadata}),D(ie)}}),!o){let{message:Q}=oe.getInternalError("NO_MATCHING_KEY",`connect() pairing topic: ${o}`);throw new Error(Q)}let T=await this.sendRequest(o,"wc_sessionPropose",p),V=oe.calcExpiry(Lt.FIVE_MINUTES);return await this.setProposal(T,zn({id:T,expiry:V},p)),{uri:a,approval:O}},this.pair=async t=>(this.isInitialized(),await this.client.core.pairing.pair(t)),this.approve=async t=>{this.isInitialized(),await this.isValidApprove(t);let{id:i,relayProtocol:n,namespaces:s}=t,{pairingTopic:o,proposer:a,requiredNamespaces:c}=this.client.proposal.get(i),h=await this.client.core.crypto.generateKeyPair(),p=a.publicKey,A=await this.client.core.crypto.generateSharedKey(h,p),D={relay:{protocol:n??"irn"},namespaces:s,requiredNamespaces:c,controller:{publicKey:h,metadata:this.client.metadata},expiry:oe.calcExpiry(sl)};await this.client.core.relayer.subscribe(A);let O=await this.sendRequest(A,"wc_sessionSettle",D),{done:T,resolve:V,reject:Q}=oe.createDelayedPromise();this.events.once(oe.engineEvent("session_approve",O),({error:ie})=>{ie?Q(ie):V(this.client.session.get(A))});let j=qN(zn({},D),{topic:A,acknowledged:!1,self:D.controller,peer:{publicKey:a.publicKey,metadata:a.metadata},controller:h});return await this.client.session.set(A,j),await this.setExpiry(A,oe.calcExpiry(sl)),o&&await this.client.core.pairing.updateMetadata({topic:o,metadata:j.peer.metadata}),o&&i&&(await this.sendResult(i,o,{relay:{protocol:n??"irn"},responderPublicKey:h}),await this.client.proposal.delete(i,oe.getSdkError("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:o})),{topic:A,acknowledged:T}},this.reject=async t=>{this.isInitialized(),await this.isValidReject(t);let{id:i,reason:n}=t,{pairingTopic:s}=this.client.proposal.get(i);s&&(await this.sendError(i,s,n),await this.client.proposal.delete(i,oe.getSdkError("USER_DISCONNECTED")))},this.update=async t=>{this.isInitialized(),await this.isValidUpdate(t);let{topic:i,namespaces:n}=t,s=await this.sendRequest(i,"wc_sessionUpdate",{namespaces:n}),{done:o,resolve:a,reject:c}=oe.createDelayedPromise();return this.events.once(oe.engineEvent("session_update",s),({error:h})=>{h?c(h):a()}),await this.client.session.update(i,{namespaces:n}),{acknowledged:o}},this.extend=async t=>{this.isInitialized(),await this.isValidExtend(t);let{topic:i}=t,n=await this.sendRequest(i,"wc_sessionExtend",{}),{done:s,resolve:o,reject:a}=oe.createDelayedPromise();return this.events.once(oe.engineEvent("session_extend",n),({error:c})=>{c?a(c):o()}),await this.setExpiry(i,oe.calcExpiry(sl)),{acknowledged:s}},this.request=async t=>{this.isInitialized(),await this.isValidRequest(t);let{chainId:i,request:n,topic:s}=t,o=await this.sendRequest(s,"wc_sessionRequest",{request:n,chainId:i}),{done:a,resolve:c,reject:h}=oe.createDelayedPromise();return this.events.once(oe.engineEvent("session_request",o),({error:p,result:A})=>{p?h(p):c(A)}),await a()},this.respond=async t=>{this.isInitialized(),await this.isValidRespond(t);let{topic:i,response:n}=t,{id:s}=n;Ht.isJsonRpcResult(n)?await this.sendResult(s,i,n.result):Ht.isJsonRpcError(n)&&await this.sendError(s,i,n.error),this.deletePendingSessionRequest(t.response.id,{message:"fulfilled",code:0})},this.ping=async t=>{this.isInitialized(),await this.isValidPing(t);let{topic:i}=t;if(this.client.session.keys.includes(i)){let n=await this.sendRequest(i,"wc_sessionPing",{}),{done:s,resolve:o,reject:a}=oe.createDelayedPromise();this.events.once(oe.engineEvent("session_ping",n),({error:c})=>{c?a(c):o()}),await s()}else this.client.core.pairing.pairings.keys.includes(i)&&await this.client.core.pairing.ping({topic:i})},this.emit=async t=>{this.isInitialized(),await this.isValidEmit(t);let{topic:i,event:n,chainId:s}=t;await this.sendRequest(i,"wc_sessionEvent",{event:n,chainId:s})},this.disconnect=async t=>{this.isInitialized(),await this.isValidDisconnect(t);let{topic:i}=t;this.client.session.keys.includes(i)?(await this.sendRequest(i,"wc_sessionDelete",oe.getSdkError("USER_DISCONNECTED")),await this.deleteSession(i)):await this.client.core.pairing.disconnect({topic:i})},this.find=t=>(this.isInitialized(),this.client.session.getAll().filter(i=>oe.isSessionCompatible(i,t))),this.getPendingSessionRequests=()=>(this.isInitialized(),this.client.pendingRequest.getAll()),this.deleteSession=async(t,i)=>{let{self:n}=this.client.session.get(t);await this.client.core.relayer.unsubscribe(t),await Promise.all([this.client.session.delete(t,oe.getSdkError("USER_DISCONNECTED")),this.client.core.crypto.deleteKeyPair(n.publicKey),this.client.core.crypto.deleteSymKey(t),i?Promise.resolve():this.client.core.expirer.del(t)])},this.deleteProposal=async(t,i)=>{await Promise.all([this.client.proposal.delete(t,oe.getSdkError("USER_DISCONNECTED")),i?Promise.resolve():this.client.core.expirer.del(t)])},this.deletePendingSessionRequest=async(t,i,n=!1)=>{await Promise.all([this.client.pendingRequest.delete(t,i),n?Promise.resolve():this.client.core.expirer.del(t)])},this.setExpiry=async(t,i)=>{this.client.session.keys.includes(t)&&await this.client.session.update(t,{expiry:i}),this.client.core.expirer.set(t,i)},this.setProposal=async(t,i)=>{await this.client.proposal.set(t,i),this.client.core.expirer.set(t,i.expiry)},this.setPendingSessionRequest=async t=>{let i=gu.wc_sessionRequest.req.ttl,{id:n,topic:s,params:o}=t;await this.client.pendingRequest.set(n,{id:n,topic:s,params:o}),i&&this.client.core.expirer.set(n,i)},this.sendRequest=async(t,i,n)=>{let s=Ht.formatJsonRpcRequest(i,n),o=await this.client.core.crypto.encode(t,s),a=gu[i].req;return this.client.core.history.set(t,s),this.client.core.relayer.publish(t,o,a),s.id},this.sendResult=async(t,i,n)=>{let s=Ht.formatJsonRpcResult(t,n),o=await this.client.core.crypto.encode(i,s),a=await this.client.core.history.get(i,t),c=gu[a.request.method].res;this.client.core.relayer.publish(i,o,c),await this.client.core.history.resolve(s)},this.sendError=async(t,i,n)=>{let s=Ht.formatJsonRpcError(t,n),o=await this.client.core.crypto.encode(i,s),a=await this.client.core.history.get(i,t),c=gu[a.request.method].res;this.client.core.relayer.publish(i,o,c),await this.client.core.history.resolve(s)},this.cleanup=async()=>{let t=[],i=[];this.client.session.getAll().forEach(n=>{oe.isExpired(n.expiry)&&t.push(n.topic)}),this.client.proposal.getAll().forEach(n=>{oe.isExpired(n.expiry)&&i.push(n.id)}),await Promise.all([...t.map(n=>this.deleteSession(n)),...i.map(n=>this.deleteProposal(n))])},this.onRelayEventRequest=t=>{let{topic:i,payload:n}=t,s=n.method;switch(s){case"wc_sessionPropose":return this.onSessionProposeRequest(i,n);case"wc_sessionSettle":return this.onSessionSettleRequest(i,n);case"wc_sessionUpdate":return this.onSessionUpdateRequest(i,n);case"wc_sessionExtend":return this.onSessionExtendRequest(i,n);case"wc_sessionPing":return this.onSessionPingRequest(i,n);case"wc_sessionDelete":return this.onSessionDeleteRequest(i,n);case"wc_sessionRequest":return this.onSessionRequest(i,n);case"wc_sessionEvent":return this.onSessionEventRequest(i,n);default:return this.client.logger.info(`Unsupported request method ${s}`)}},this.onRelayEventResponse=async t=>{let{topic:i,payload:n}=t,s=(await this.client.core.history.get(i,n.id)).request.method;switch(s){case"wc_sessionPropose":return this.onSessionProposeResponse(i,n);case"wc_sessionSettle":return this.onSessionSettleResponse(i,n);case"wc_sessionUpdate":return this.onSessionUpdateResponse(i,n);case"wc_sessionExtend":return this.onSessionExtendResponse(i,n);case"wc_sessionPing":return this.onSessionPingResponse(i,n);case"wc_sessionRequest":return this.onSessionRequestResponse(i,n);default:return this.client.logger.info(`Unsupported response method ${s}`)}},this.onSessionProposeRequest=async(t,i)=>{let{params:n,id:s}=i;try{this.isValidConnect(zn({},i.params));let o=oe.calcExpiry(Lt.FIVE_MINUTES),a=zn({id:s,pairingTopic:t,expiry:o},n);await this.setProposal(s,a),this.client.events.emit("session_proposal",{id:s,params:a})}catch(o){await this.sendError(s,t,o),this.client.logger.error(o)}},this.onSessionProposeResponse=async(t,i)=>{let{id:n}=i;if(Ht.isJsonRpcResult(i)){let{result:s}=i;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:s});let o=this.client.proposal.get(n);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:o});let a=o.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:a});let c=s.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:c});let h=await this.client.core.crypto.generateSharedKey(a,c);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:h});let p=await this.client.core.relayer.subscribe(h);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:p}),await this.client.core.pairing.activate({topic:t})}else Ht.isJsonRpcError(i)&&(await this.client.proposal.delete(n,oe.getSdkError("USER_DISCONNECTED")),this.events.emit(oe.engineEvent("session_connect"),{error:i.error}))},this.onSessionSettleRequest=async(t,i)=>{let{id:n,params:s}=i;try{this.isValidSessionSettleRequest(s);let{relay:o,controller:a,expiry:c,namespaces:h}=i.params,p={topic:t,relay:o,expiry:c,namespaces:h,acknowledged:!0,controller:a.publicKey,self:{publicKey:"",metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}};await this.sendResult(i.id,t,!0),this.events.emit(oe.engineEvent("session_connect"),{session:p})}catch(o){await this.sendError(n,t,o),this.client.logger.error(o)}},this.onSessionSettleResponse=async(t,i)=>{let{id:n}=i;Ht.isJsonRpcResult(i)?(await this.client.session.update(t,{acknowledged:!0}),this.events.emit(oe.engineEvent("session_approve",n),{})):Ht.isJsonRpcError(i)&&(await this.client.session.delete(t,oe.getSdkError("USER_DISCONNECTED")),this.events.emit(oe.engineEvent("session_approve",n),{error:i.error}))},this.onSessionUpdateRequest=async(t,i)=>{let{params:n,id:s}=i;try{this.isValidUpdate(zn({topic:t},n)),await this.client.session.update(t,{namespaces:n.namespaces}),await this.sendResult(s,t,!0),this.client.events.emit("session_update",{id:s,topic:t,params:n})}catch(o){await this.sendError(s,t,o),this.client.logger.error(o)}},this.onSessionUpdateResponse=(t,i)=>{let{id:n}=i;Ht.isJsonRpcResult(i)?this.events.emit(oe.engineEvent("session_update",n),{}):Ht.isJsonRpcError(i)&&this.events.emit(oe.engineEvent("session_update",n),{error:i.error})},this.onSessionExtendRequest=async(t,i)=>{let{id:n}=i;try{this.isValidExtend({topic:t}),await this.setExpiry(t,oe.calcExpiry(sl)),await this.sendResult(n,t,!0),this.client.events.emit("session_extend",{id:n,topic:t})}catch(s){await this.sendError(n,t,s),this.client.logger.error(s)}},this.onSessionExtendResponse=(t,i)=>{let{id:n}=i;Ht.isJsonRpcResult(i)?this.events.emit(oe.engineEvent("session_extend",n),{}):Ht.isJsonRpcError(i)&&this.events.emit(oe.engineEvent("session_extend",n),{error:i.error})},this.onSessionPingRequest=async(t,i)=>{let{id:n}=i;try{this.isValidPing({topic:t}),await this.sendResult(n,t,!0),this.client.events.emit("session_ping",{id:n,topic:t})}catch(s){await this.sendError(n,t,s),this.client.logger.error(s)}},this.onSessionPingResponse=(t,i)=>{let{id:n}=i;setTimeout(()=>{Ht.isJsonRpcResult(i)?this.events.emit(oe.engineEvent("session_ping",n),{}):Ht.isJsonRpcError(i)&&this.events.emit(oe.engineEvent("session_ping",n),{error:i.error})},500)},this.onSessionDeleteRequest=async(t,i)=>{let{id:n}=i;try{this.isValidDisconnect({topic:t,reason:i.params}),await this.sendResult(n,t,!0),await this.deleteSession(t),this.client.events.emit("session_delete",{id:n,topic:t})}catch(s){await this.sendError(n,t,s),this.client.logger.error(s)}},this.onSessionRequest=async(t,i)=>{let{id:n,params:s}=i;try{this.isValidRequest(zn({topic:t},s)),await this.setPendingSessionRequest({id:n,topic:t,params:s}),this.client.events.emit("session_request",{id:n,topic:t,params:s})}catch(o){await this.sendError(n,t,o),this.client.logger.error(o)}},this.onSessionRequestResponse=(t,i)=>{let{id:n}=i;Ht.isJsonRpcResult(i)?this.events.emit(oe.engineEvent("session_request",n),{result:i.result}):Ht.isJsonRpcError(i)&&this.events.emit(oe.engineEvent("session_request",n),{error:i.error})},this.onSessionEventRequest=async(t,i)=>{let{id:n,params:s}=i;try{this.isValidEmit(zn({topic:t},s)),this.client.events.emit("session_event",{id:n,topic:t,params:s})}catch(o){await this.sendError(n,t,o),this.client.logger.error(o)}},this.isValidConnect=async t=>{if(!oe.isValidParams(t)){let{message:a}=oe.getInternalError("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(t)}`);throw new Error(a)}let{pairingTopic:i,requiredNamespaces:n,relays:s}=t;oe.isUndefined(i)||await this.isValidPairingTopic(i);let o=oe.isValidRequiredNamespaces(n,"connect()");if(o)throw new Error(o.message);if(!oe.isValidRelays(s,!0)){let{message:a}=oe.getInternalError("MISSING_OR_INVALID",`connect() relays: ${s}`);throw new Error(a)}},this.isValidApprove=async t=>{if(!oe.isValidParams(t))throw new Error(oe.getInternalError("MISSING_OR_INVALID",`approve() params: ${t}`).message);let{id:i,namespaces:n,relayProtocol:s}=t;await this.isValidProposalId(i);let o=this.client.proposal.get(i),a=oe.isValidNamespaces(n,"approve()");if(a)throw new Error(a.message);let c=oe.isConformingNamespaces(o.requiredNamespaces,n,"update()");if(c)throw new Error(c.message);if(!oe.isValidString(s,!0)){let{message:h}=oe.getInternalError("MISSING_OR_INVALID",`approve() relayProtocol: ${s}`);throw new Error(h)}},this.isValidReject=async t=>{if(!oe.isValidParams(t)){let{message:s}=oe.getInternalError("MISSING_OR_INVALID",`reject() params: ${t}`);throw new Error(s)}let{id:i,reason:n}=t;if(await this.isValidProposalId(i),!oe.isValidErrorReason(n)){let{message:s}=oe.getInternalError("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(n)}`);throw new Error(s)}},this.isValidSessionSettleRequest=t=>{if(!oe.isValidParams(t)){let{message:h}=oe.getInternalError("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${t}`);throw new Error(h)}let{relay:i,controller:n,namespaces:s,expiry:o}=t;if(!oe.isValidRelay(i)){let{message:h}=oe.getInternalError("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(h)}let a=oe.isValidController(n,"onSessionSettleRequest()");if(a)throw new Error(a.message);let c=oe.isValidNamespaces(s,"onSessionSettleRequest()");if(c)throw new Error(c.message);if(oe.isExpired(o)){let{message:h}=oe.getInternalError("EXPIRED","onSessionSettleRequest()");throw new Error(h)}},this.isValidUpdate=async t=>{if(!oe.isValidParams(t)){let{message:c}=oe.getInternalError("MISSING_OR_INVALID",`update() params: ${t}`);throw new Error(c)}let{topic:i,namespaces:n}=t;await this.isValidSessionTopic(i);let s=this.client.session.get(i),o=oe.isValidNamespaces(n,"update()");if(o)throw new Error(o.message);let a=oe.isConformingNamespaces(s.requiredNamespaces,n,"update()");if(a)throw new Error(a.message)},this.isValidExtend=async t=>{if(!oe.isValidParams(t)){let{message:n}=oe.getInternalError("MISSING_OR_INVALID",`extend() params: ${t}`);throw new Error(n)}let{topic:i}=t;await this.isValidSessionTopic(i)},this.isValidRequest=async t=>{if(!oe.isValidParams(t)){let{message:a}=oe.getInternalError("MISSING_OR_INVALID",`request() params: ${t}`);throw new Error(a)}let{topic:i,request:n,chainId:s}=t;await this.isValidSessionTopic(i);let{namespaces:o}=this.client.session.get(i);if(!oe.isValidNamespacesChainId(o,s)){let{message:a}=oe.getInternalError("MISSING_OR_INVALID",`request() chainId: ${s}`);throw new Error(a)}if(!oe.isValidRequest(n)){let{message:a}=oe.getInternalError("MISSING_OR_INVALID",`request() ${JSON.stringify(n)}`);throw new Error(a)}if(!oe.isValidNamespacesRequest(o,s,n.method)){let{message:a}=oe.getInternalError("MISSING_OR_INVALID",`request() method: ${n.method}`);throw new Error(a)}},this.isValidRespond=async t=>{if(!oe.isValidParams(t)){let{message:s}=oe.getInternalError("MISSING_OR_INVALID",`respond() params: ${t}`);throw new Error(s)}let{topic:i,response:n}=t;if(await this.isValidSessionTopic(i),!oe.isValidResponse(n)){let{message:s}=oe.getInternalError("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(n)}`);throw new Error(s)}},this.isValidPing=async t=>{if(!oe.isValidParams(t)){let{message:n}=oe.getInternalError("MISSING_OR_INVALID",`ping() params: ${t}`);throw new Error(n)}let{topic:i}=t;await this.isValidSessionOrPairingTopic(i)},this.isValidEmit=async t=>{if(!oe.isValidParams(t)){let{message:a}=oe.getInternalError("MISSING_OR_INVALID",`emit() params: ${t}`);throw new Error(a)}let{topic:i,event:n,chainId:s}=t;await this.isValidSessionTopic(i);let{namespaces:o}=this.client.session.get(i);if(!oe.isValidNamespacesChainId(o,s)){let{message:a}=oe.getInternalError("MISSING_OR_INVALID",`emit() chainId: ${s}`);throw new Error(a)}if(!oe.isValidEvent(n)){let{message:a}=oe.getInternalError("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(n)}`);throw new Error(a)}if(!oe.isValidNamespacesEvent(o,s,n.name)){let{message:a}=oe.getInternalError("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(n)}`);throw new Error(a)}},this.isValidDisconnect=async t=>{if(!oe.isValidParams(t)){let{message:n}=oe.getInternalError("MISSING_OR_INVALID",`disconnect() params: ${t}`);throw new Error(n)}let{topic:i}=t;await this.isValidSessionOrPairingTopic(i)}}isInitialized(){if(!this.initialized){let{message:e}=oe.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.client.core.relayer.on(ao.RELAYER_EVENTS.message,async e=>{let{topic:t,message:i}=e;if(this.ignoredPayloadTypes.includes(this.client.core.crypto.getPayloadType(i)))return;let n=await this.client.core.crypto.decode(t,i);Ht.isJsonRpcRequest(n)?(this.client.core.history.set(t,n),this.onRelayEventRequest({topic:t,payload:n})):Ht.isJsonRpcResponse(n)&&(await this.client.core.history.resolve(n),this.onRelayEventResponse({topic:t,payload:n}))})}registerExpirerEvents(){this.client.core.expirer.on(ao.EXPIRER_EVENTS.expired,async e=>{let{topic:t,id:i}=oe.parseExpirerTarget(e.target);if(i&&this.getPendingSessionRequests()[i])return await this.deletePendingSessionRequest(i,oe.getInternalError("EXPIRED"),!0);t?this.client.session.keys.includes(t)&&(await this.deleteSession(t,!0),this.client.events.emit("session_expire",{topic:t})):i&&await this.deleteProposal(i,!0)})}isValidPairingTopic(e){if(!oe.isValidString(e,!1)){let{message:t}=oe.getInternalError("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(t)}if(!this.client.core.pairing.pairings.keys.includes(e)){let{message:t}=oe.getInternalError("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(t)}if(oe.isExpired(this.client.core.pairing.pairings.get(e).expiry)){let{message:t}=oe.getInternalError("EXPIRED",`pairing topic: ${e}`);throw new Error(t)}}async isValidSessionTopic(e){if(!oe.isValidString(e,!1)){let{message:t}=oe.getInternalError("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(t)}if(!this.client.session.keys.includes(e)){let{message:t}=oe.getInternalError("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(t)}if(oe.isExpired(this.client.session.get(e).expiry)){await this.deleteSession(e);let{message:t}=oe.getInternalError("EXPIRED",`session topic: ${e}`);throw new Error(t)}}async isValidSessionOrPairingTopic(e){if(this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(oe.isValidString(e,!1)){let{message:t}=oe.getInternalError("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(t)}else{let{message:t}=oe.getInternalError("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(t)}}async isValidProposalId(e){if(!oe.isValidId(e)){let{message:t}=oe.getInternalError("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(t)}if(!this.client.proposal.keys.includes(e)){let{message:t}=oe.getInternalError("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(t)}if(oe.isExpired(this.client.proposal.get(e).expiry)){await this.deleteProposal(e);let{message:t}=oe.getInternalError("EXPIRED",`proposal id: ${e}`);throw new Error(t)}}},Xw=class extends ao.Store{constructor(e,t){super(e,t,jN,sp),this.core=e,this.logger=t}},Zw=class extends ao.Store{constructor(e,t){super(e,t,GN,sp),this.core=e,this.logger=t}},ev=class extends ao.Store{constructor(e,t){super(e,t,zN,sp),this.core=e,this.logger=t}},yu=class extends VN.ISignClient{constructor(e){super(e),this.protocol=tv,this.version=rv,this.name=np.name,this.events=new HN.EventEmitter,this.on=(i,n)=>this.events.on(i,n),this.once=(i,n)=>this.events.once(i,n),this.off=(i,n)=>this.events.off(i,n),this.removeListener=(i,n)=>this.events.removeListener(i,n),this.removeAllListeners=i=>this.events.removeAllListeners(i),this.connect=async i=>{try{return await this.engine.connect(i)}catch(n){throw this.logger.error(n.message),n}},this.pair=async i=>{try{return await this.engine.pair(i)}catch(n){throw this.logger.error(n.message),n}},this.approve=async i=>{try{return await this.engine.approve(i)}catch(n){throw this.logger.error(n.message),n}},this.reject=async i=>{try{return await this.engine.reject(i)}catch(n){throw this.logger.error(n.message),n}},this.update=async i=>{try{return await this.engine.update(i)}catch(n){throw this.logger.error(n.message),n}},this.extend=async i=>{try{return await this.engine.extend(i)}catch(n){throw this.logger.error(n.message),n}},this.request=async i=>{try{return await this.engine.request(i)}catch(n){throw this.logger.error(n.message),n}},this.respond=async i=>{try{return await this.engine.respond(i)}catch(n){throw this.logger.error(n.message),n}},this.ping=async i=>{try{return await this.engine.ping(i)}catch(n){throw this.logger.error(n.message),n}},this.emit=async i=>{try{return await this.engine.emit(i)}catch(n){throw this.logger.error(n.message),n}},this.disconnect=async i=>{try{return await this.engine.disconnect(i)}catch(n){throw this.logger.error(n.message),n}},this.find=i=>{try{return this.engine.find(i)}catch(n){throw this.logger.error(n.message),n}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(i){throw this.logger.error(i.message),i}},this.name=e?.name||np.name,this.metadata=e?.metadata||oe.getAppMetadata();let t=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:a9.default(Yw.getDefaultLoggerOptions({level:e?.logger||np.logger}));this.core=e?.core||new ao.Core(e),this.logger=Yw.generateChildLogger(t,this.name),this.session=new Zw(this.core,this.logger),this.proposal=new Xw(this.core,this.logger),this.pendingRequest=new ev(this.core,this.logger),this.engine=new Jw(this)}static async init(e){let t=new yu(e);return await t.initialize(),t}get context(){return Yw.getLoggerContext(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.engine.init(),this.logger.info("SignClient Initilization Success")}catch(e){throw this.logger.info("SignClient Initilization Failure"),this.logger.error(e.message),e}}},E9=yu;dt.ENGINE_CONTEXT=KN,dt.ENGINE_RPC_OPTS=gu,dt.HISTORY_CONTEXT=h9,dt.HISTORY_EVENTS=f9,dt.HISTORY_STORAGE_VERSION=d9,dt.PROPOSAL_CONTEXT=jN,dt.PROPOSAL_EXPIRY=p9,dt.REQUEST_CONTEXT=zN,dt.SESSION_CONTEXT=GN,dt.SESSION_EXPIRY=sl,dt.SIGN_CLIENT_CONTEXT=iv,dt.SIGN_CLIENT_DEFAULT=np,dt.SIGN_CLIENT_EVENTS=c9,dt.SIGN_CLIENT_PROTOCOL=tv,dt.SIGN_CLIENT_STORAGE_OPTIONS=l9,dt.SIGN_CLIENT_STORAGE_PREFIX=sp,dt.SIGN_CLIENT_VERSION=rv,dt.SignClient=E9,dt.default=yu});var $N=P(mu=>{"use strict";f();Object.defineProperty(mu,"__esModule",{value:!0});mu.WALLETCONNECT_MULTIVERSX_NAMESPACE=mu.WALLETCONNECT_MULTIVERSX_CHAIN_ID=void 0;mu.WALLETCONNECT_MULTIVERSX_CHAIN_ID=508;mu.WALLETCONNECT_MULTIVERSX_NAMESPACE="elrond"});var WN=P(ol=>{"use strict";f();Object.defineProperty(ol,"__esModule",{value:!0});ol.Operation=void 0;var A9;(function(r){r.SIGN_TRANSACTION="erd_signTransaction",r.SIGN_TRANSACTIONS="erd_signTransactions",r.SIGN_MESSAGE="erd_signMessage",r.SIGN_LOGIN_TOKEN="erd_signLoginToken"})(A9=ol.Operation||(ol.Operation={}))});var YN=P(op=>{"use strict";f();Object.defineProperty(op,"__esModule",{value:!0});op.Logger=void 0;var nv=class{static error(e){console.error(e)}static trace(e){console.trace(e)}};op.Logger=nv});var JN=P(wu=>{"use strict";f();Object.defineProperty(wu,"__esModule",{value:!0});wu.Signature=wu.Address=void 0;var sv=class{constructor(e){this.value=e}bech32(){return this.value}};wu.Address=sv;var al=class{constructor(e){this.buffer=e}static fromHex(e){return new al(y.Buffer.from(e,"hex"))}hex(){return this.buffer.toString("hex")}};wu.Signature=al});var uv=P(ii=>{"use strict";f();Object.defineProperty(ii,"__esModule",{value:!0});ii.WalletConnectV2ProviderErrorMessagesEnum=ii.ErrBadAddress=ii.ErrNotImplemented=ii.Err=void 0;var ul=class extends Error{constructor(e,t){super(e),this.inner=void 0,this.inner=t}};ii.Err=ul;var ov=class extends ul{constructor(){super("Method not yet implemented")}};ii.ErrNotImplemented=ov;var av=class extends ul{constructor(e,t){super(`Bad address: ${e}`,t)}};ii.ErrBadAddress=av;var I9;(function(r){r.unableToInit="WalletConnect is unable to init",r.notInitialized="WalletConnect is not initialized",r.unableToConnect="WalletConnect is unable to connect",r.unableToConnectExisting="WalletConnect is unable to connect to existing pairing",r.unableToSignLoginToken="WalletConnect could not sign login token",r.unableToLogin="WalletConnect is unable to login",r.unableToHandleTopic="WalletConnect: Unable to handle topic update",r.unableToHandleEvent="WalletConnect: Unable to handle events",r.sessionNotConnected="WalletConnect Session is not connected",r.sessionDeleted="WalletConnect Session Deleted",r.sessionExpired="WalletConnect Session Expired",r.alreadyLoggedOut="WalletConnect: Already logged out",r.pingFailed="WalletConnect Ping Failed",r.invalidAddress="WalletConnect: Invalid address",r.requestDifferentChain="WalletConnect: Request Chain Id different than Connection Chain Id",r.invalidMessageResponse="WalletConnect could not sign the message",r.invalidMessageSignature="WalletConnect: Invalid message signature",r.invalidTransactionResponse="WalletConnect could not sign the transactions. Invalid signatures",r.invalidCustomRequestResponse="WalletConnect could not send the custom request",r.transactionError="Transaction canceled",r.connectionError="WalletConnect could not establish a connection"})(I9=ii.WalletConnectV2ProviderErrorMessagesEnum||(ii.WalletConnectV2ProviderErrorMessagesEnum={}))});var ZN=P(Ri=>{"use strict";f();var _9=Ri&&Ri.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),b9=Ri&&Ri.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),C9=Ri&&Ri.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&_9(e,r,t);return b9(e,r),e};Object.defineProperty(Ri,"__esModule",{value:!0});Ri.UserAddress=void 0;var x9=C9(zl()),XN=uv(),S9="erd",cl=class{constructor(e){this.value=e}static fromBech32(e){let t;try{t=x9.decode(e)}catch(i){throw new XN.ErrBadAddress(e,i)}if(t.prefix!=S9)throw new XN.ErrBadAddress(e);return new cl(e)}bech32(){return this.value}};Ri.UserAddress=cl});var hl=P(Li=>{"use strict";f();var Wt=Li&&Li.__awaiter||function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(p){try{h(i.next(p))}catch(A){o(A)}}function c(p){try{h(i.throw(p))}catch(A){o(A)}}function h(p){p.done?s(p.value):n(p.value).then(a,c)}h((i=i.apply(r,e||[])).next())})},T9=Li&&Li.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Li,"__esModule",{value:!0});Li.WalletConnectV2Provider=Li.WalletConnectV2ProviderErrorMessagesEnum=void 0;var N9=T9(kN()),e6=wd(),kn=$N(),ll=WN(),Re=YN(),fl=JN(),pe=uv();Object.defineProperty(Li,"WalletConnectV2ProviderErrorMessagesEnum",{enumerable:!0,get:function(){return pe.WalletConnectV2ProviderErrorMessagesEnum}});var ap=ZN(),cv=class{constructor(e,t,i,n,s){this.chainId="",this.address="",this.signature="",this.isInitializing=!1,this.events=[],this.methods=[],this.options={},this.onClientConnect=e,this.chainId=t,this.walletConnectV2Relay=i,this.walletConnectV2ProjectId=n,this.options=s}reset(){this.address="",this.signature="",this.session=void 0}init(){return Wt(this,void 0,void 0,function*(){if(this.isInitialized())return this.isInitialized();try{this.reset();let e=yield N9.default.init(Object.assign({relayUrl:this.walletConnectV2Relay,projectId:this.walletConnectV2ProjectId},this.options));this.walletConnector=e,yield this.subscribeToEvents(e),yield this.checkPersistedState(e)}catch{throw new Error(pe.WalletConnectV2ProviderErrorMessagesEnum.unableToInit)}finally{return this.isInitializing=!1,this.isInitialized()}})}isInitialized(){return!!this.walletConnector&&!this.isInitializing}isConnected(){return new Promise((e,t)=>e(Boolean(this.isInitialized()&&typeof this.session<"u")))}connect(e){var t,i;return Wt(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u"&&(yield this.init()),typeof this.walletConnector>"u")throw new Error(pe.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);let n=[...Object.values(ll.Operation),...(t=e?.methods)!==null&&t!==void 0?t:[]],s=[`${kn.WALLETCONNECT_MULTIVERSX_NAMESPACE}:${this.chainId}`],o=(i=e?.events)!==null&&i!==void 0?i:[];try{let a=yield this.walletConnector.connect({pairingTopic:e?.topic,requiredNamespaces:{[kn.WALLETCONNECT_MULTIVERSX_NAMESPACE]:{methods:n,chains:s,events:o}}});return this.events=o,this.methods=n,a}catch{throw e?.topic?(yield this.logout({topic:e.topic}),Re.Logger.error(pe.WalletConnectV2ProviderErrorMessagesEnum.unableToConnectExisting),new Error(pe.WalletConnectV2ProviderErrorMessagesEnum.unableToConnectExisting)):(Re.Logger.error(pe.WalletConnectV2ProviderErrorMessagesEnum.unableToConnect),new Error(pe.WalletConnectV2ProviderErrorMessagesEnum.unableToConnect))}})}login(e){return Wt(this,void 0,void 0,function*(){if(this.isInitializing=!0,typeof this.walletConnector>"u"&&(yield this.connect()),typeof this.walletConnector>"u")throw new Error(pe.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);typeof this.session<"u"&&(yield this.logout());try{if(e&&e.approval){let t=yield e.approval();if(e.token){let i=this.getAddressFromSession(t),{signature:n}=yield this.walletConnector.request({chainId:`${kn.WALLETCONNECT_MULTIVERSX_NAMESPACE}:${this.chainId}`,topic:t.topic,request:{method:ll.Operation.SIGN_LOGIN_TOKEN,params:{token:e.token,address:i}}});if(!n)throw Re.Logger.error(pe.WalletConnectV2ProviderErrorMessagesEnum.unableToSignLoginToken),new Error(pe.WalletConnectV2ProviderErrorMessagesEnum.unableToSignLoginToken);return yield this.onSessionConnected({session:t,signature:n})}return yield this.onSessionConnected({session:t,signature:""})}}catch{throw Re.Logger.error(pe.WalletConnectV2ProviderErrorMessagesEnum.unableToLogin),new Error(pe.WalletConnectV2ProviderErrorMessagesEnum.unableToLogin)}finally{this.isInitializing=!1}return""})}logout(e){var t;return Wt(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw Re.Logger.error(pe.WalletConnectV2ProviderErrorMessagesEnum.notInitialized),new Error(pe.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);try{let i=(t=e?.topic)!==null&&t!==void 0?t:this.getCurrentTopic(this.walletConnector);if(i){yield this.walletConnector.disconnect({topic:i,reason:e6.getSdkError("USER_DISCONNECTED")});let n=this.walletConnector.core.pairing.pairings.getAll({active:!0}).filter(s=>s.topic!==i);this.pairings=n}}catch{Re.Logger.error(pe.WalletConnectV2ProviderErrorMessagesEnum.alreadyLoggedOut)}finally{this.pairings=this.walletConnector.core.pairing.pairings.getAll({active:!0}),this.reset()}return!0})}getAddress(){return Wt(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw Re.Logger.error(pe.WalletConnectV2ProviderErrorMessagesEnum.notInitialized),new Error(pe.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);return this.address})}getSignature(){return Wt(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw Re.Logger.error(pe.WalletConnectV2ProviderErrorMessagesEnum.notInitialized),new Error(pe.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);return this.signature})}getPairings(){var e;return Wt(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw Re.Logger.error(pe.WalletConnectV2ProviderErrorMessagesEnum.notInitialized),new Error(pe.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);return(e=this.pairings)!==null&&e!==void 0?e:this.walletConnector.core.pairing.pairings.getAll({active:!0})})}signMessage(e){return Wt(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw Re.Logger.error(pe.WalletConnectV2ProviderErrorMessagesEnum.notInitialized),new Error(pe.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);if(typeof this.session>"u")throw Re.Logger.error(pe.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected),this.onClientConnect.onClientLogout(),new Error(pe.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected);let t=yield this.getAddress(),{signature:i}=yield this.walletConnector.request({chainId:`${kn.WALLETCONNECT_MULTIVERSX_NAMESPACE}:${this.chainId}`,topic:this.getCurrentTopic(this.walletConnector),request:{method:ll.Operation.SIGN_MESSAGE,params:{address:t,message:e.message.toString()}}});if(!i)throw Re.Logger.error(pe.WalletConnectV2ProviderErrorMessagesEnum.invalidMessageResponse),new Error(pe.WalletConnectV2ProviderErrorMessagesEnum.invalidMessageResponse);try{e.applySignature(new fl.Signature(i),ap.UserAddress.fromBech32(t))}catch{throw Re.Logger.error(pe.WalletConnectV2ProviderErrorMessagesEnum.invalidMessageSignature),new Error(pe.WalletConnectV2ProviderErrorMessagesEnum.invalidMessageSignature)}return e})}signTransaction(e){return Wt(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw Re.Logger.error(pe.WalletConnectV2ProviderErrorMessagesEnum.notInitialized),new Error(pe.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);if(typeof this.session>"u")throw Re.Logger.error(pe.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected),this.onClientConnect.onClientLogout(),new Error(pe.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected);let t=yield this.getAddress(),i=new fl.Address(t),n=e.toPlainObject(i);if(this.chainId!==e.getChainID().valueOf())throw Re.Logger.error(pe.WalletConnectV2ProviderErrorMessagesEnum.requestDifferentChain),new Error(pe.WalletConnectV2ProviderErrorMessagesEnum.requestDifferentChain);try{let{signature:s}=yield this.walletConnector.request({chainId:`${kn.WALLETCONNECT_MULTIVERSX_NAMESPACE}:${this.chainId}`,topic:this.getCurrentTopic(this.walletConnector),request:{method:ll.Operation.SIGN_TRANSACTION,params:{transaction:n}}});if(!s)throw Re.Logger.error(pe.WalletConnectV2ProviderErrorMessagesEnum.requestDifferentChain),new Error(pe.WalletConnectV2ProviderErrorMessagesEnum.requestDifferentChain);return e.applySignature(fl.Signature.fromHex(s),ap.UserAddress.fromBech32(t)),e}catch{throw new Error(pe.WalletConnectV2ProviderErrorMessagesEnum.transactionError)}})}signTransactions(e){return Wt(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw Re.Logger.error(pe.WalletConnectV2ProviderErrorMessagesEnum.notInitialized),new Error(pe.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);if(typeof this.session>"u")throw Re.Logger.error(pe.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected),this.onClientConnect.onClientLogout(),new Error(pe.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected);let t=yield this.getAddress(),i=new fl.Address(t),n=e.map(s=>{if(this.chainId!==s.getChainID().valueOf())throw Re.Logger.error(pe.WalletConnectV2ProviderErrorMessagesEnum.requestDifferentChain),new Error(pe.WalletConnectV2ProviderErrorMessagesEnum.requestDifferentChain);return s.toPlainObject(i)});try{let{signatures:s}=yield this.walletConnector.request({chainId:`${kn.WALLETCONNECT_MULTIVERSX_NAMESPACE}:${this.chainId}`,topic:this.getCurrentTopic(this.walletConnector),request:{method:ll.Operation.SIGN_TRANSACTIONS,params:{transactions:n}}});(!s||!Array.isArray(s))&&Re.Logger.error(pe.WalletConnectV2ProviderErrorMessagesEnum.invalidTransactionResponse),e.length!==s.length&&Re.Logger.error(pe.WalletConnectV2ProviderErrorMessagesEnum.invalidTransactionResponse);for(let[o,a]of e.entries())a.applySignature(fl.Signature.fromHex(s[o].signature),ap.UserAddress.fromBech32(t));return e}catch{throw new Error(pe.WalletConnectV2ProviderErrorMessagesEnum.transactionError)}})}sendCustomRequest(e){return Wt(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw Re.Logger.error(pe.WalletConnectV2ProviderErrorMessagesEnum.notInitialized),new Error(pe.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);if(typeof this.session>"u")throw Re.Logger.error(pe.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected),this.onClientConnect.onClientLogout(),new Error(pe.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected);if(e?.request){let{response:t}=yield this.walletConnector.request({chainId:`${kn.WALLETCONNECT_MULTIVERSX_NAMESPACE}:${this.chainId}`,topic:this.getCurrentTopic(this.walletConnector),request:e.request});if(!t)throw Re.Logger.error(pe.WalletConnectV2ProviderErrorMessagesEnum.invalidCustomRequestResponse),new Error(pe.WalletConnectV2ProviderErrorMessagesEnum.invalidCustomRequestResponse);return t}})}ping(){return Wt(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw Re.Logger.error(pe.WalletConnectV2ProviderErrorMessagesEnum.notInitialized),new Error(pe.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);if(typeof this.session>"u")throw Re.Logger.error(pe.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected),this.onClientConnect.onClientLogout(),new Error(pe.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected);try{return yield this.walletConnector.ping({topic:this.getCurrentTopic(this.walletConnector)}),!0}catch{return Re.Logger.error(pe.WalletConnectV2ProviderErrorMessagesEnum.pingFailed),!1}})}loginAccount(e){return Wt(this,void 0,void 0,function*(){if(e){if(this.addressIsValid(e.address)){this.address=e.address,e.signature&&(this.signature=e.signature),this.onClientConnect.onClientLogin();return}if(Re.Logger.error(`${pe.WalletConnectV2ProviderErrorMessagesEnum.invalidAddress} ${e.address}`),this.walletConnector){yield this.walletConnector.disconnect({topic:this.getCurrentTopic(this.walletConnector),reason:e6.getSdkError("USER_DISCONNECTED")});let t=this.walletConnector.core.pairing.pairings.getAll({active:!0});this.pairings=t}}})}onSessionConnected(e){return Wt(this,void 0,void 0,function*(){if(!e)return"";this.session=e.session;let t=this.getAddressFromSession(e.session);return t&&(yield this.loginAccount({address:t,signature:e.signature})),""})}handleTopicUpdateEvent({topic:e}){var t;return Wt(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw new Error(pe.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);try{if(this.address&&!this.isInitializing&&this.pairings)if(((t=this.pairings)===null||t===void 0?void 0:t.length)===0)this.onClientConnect.onClientLogout();else{let i=this.pairings[this.pairings.length-1];i?.topic===e&&this.onClientConnect.onClientLogout()}}catch{Re.Logger.error(pe.WalletConnectV2ProviderErrorMessagesEnum.unableToHandleTopic)}finally{this.pairings=this.walletConnector.core.pairing.pairings.getAll({active:!0})}})}handleSessionEvents({topic:e,params:t}){return Wt(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw new Error(pe.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);let{event:i}=t;if(i?.name&&this.getCurrentTopic(this.walletConnector)===e){let n=i.data;this.onClientConnect.onClientEvent(n)}})}subscribeToEvents(e){var t,i,n,s;return Wt(this,void 0,void 0,function*(){if(typeof e>"u")throw new Error(pe.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);try{e.on("session_update",({topic:o,params:a})=>{let{namespaces:c}=a,h=e.session.get(o),p=Object.assign(Object.assign({},h),{namespaces:c});this.onSessionConnected({session:p})}),e.on("session_event",this.handleSessionEvents.bind(this)),e.on("session_delete",()=>{Re.Logger.error(pe.WalletConnectV2ProviderErrorMessagesEnum.sessionDeleted),this.onClientConnect.onClientLogout()}),e.on("session_expire",()=>{Re.Logger.error(pe.WalletConnectV2ProviderErrorMessagesEnum.sessionExpired),this.onClientConnect.onClientLogout()}),(i=(t=e?.core)===null||t===void 0?void 0:t.pairing)===null||i===void 0||i.events.on("pairing_delete",this.handleTopicUpdateEvent.bind(this)),(s=(n=e?.core)===null||n===void 0?void 0:n.pairing)===null||s===void 0||s.events.on("pairing_expire",this.handleTopicUpdateEvent.bind(this))}catch{Re.Logger.error(pe.WalletConnectV2ProviderErrorMessagesEnum.unableToHandleEvent)}})}checkPersistedState(e){return Wt(this,void 0,void 0,function*(){if(typeof e>"u")throw new Error(pe.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);if(this.pairings=e.pairing.getAll({active:!0}),!(typeof this.session<"u")&&e.session.length&&!this.address&&!this.isInitializing){let t=this.getCurrentSession(e);if(t)return yield this.onSessionConnected({session:t}),t}})}getCurrentSession(e){if(typeof e>"u")throw new Error(pe.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);if(e.session.length){let t=e.session.keys.length-1;return e.session.get(e.session.keys[t])}else throw Re.Logger.error(pe.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected),this.onClientConnect.onClientLogout(),new Error(pe.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected)}getCurrentTopic(e){if(typeof e>"u")throw new Error(pe.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);if(e.session.length){let t=e.session.keys.length-1;return e.session.get(e.session.keys[t]).topic}else throw Re.Logger.error(pe.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected),this.onClientConnect.onClientLogout(),new Error(pe.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected)}addressIsValid(e){try{return!!ap.UserAddress.fromBech32(e)}catch{return!1}}getAddressFromSession(e){let t=e.namespaces[kn.WALLETCONNECT_MULTIVERSX_NAMESPACE];if(t&&t.accounts){let i=t.accounts[0],[n,s,o]=i.split(":");return o}return""}};Li.WalletConnectV2Provider=cv});var r6=P((tre,t6)=>{"use strict";f();t6.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),i=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(i)!=="[object Symbol]")return!1;var n=42;e[t]=n;for(t in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,t);if(o.value!==n||o.enumerable!==!0)return!1}return!0}});var s6=P((ire,n6)=>{"use strict";f();var i6=typeof Symbol<"u"&&Symbol,D9=r6();n6.exports=function(){return typeof i6!="function"||typeof Symbol!="function"||typeof i6("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:D9()}});var a6=P((sre,o6)=>{"use strict";f();var O9="Function.prototype.bind called on incompatible ",lv=Array.prototype.slice,B9=Object.prototype.toString,P9="[object Function]";o6.exports=function(e){var t=this;if(typeof t!="function"||B9.call(t)!==P9)throw new TypeError(O9+t);for(var i=lv.call(arguments,1),n,s=function(){if(this instanceof n){var p=t.apply(this,i.concat(lv.call(arguments)));return Object(p)===p?p:this}else return t.apply(e,i.concat(lv.call(arguments)))},o=Math.max(0,t.length-i.length),a=[],c=0;c<o;c++)a.push("$"+c);if(n=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(s),t.prototype){var h=function(){};h.prototype=t.prototype,n.prototype=new h,h.prototype=null}return n}});var up=P((are,u6)=>{"use strict";f();var M9=a6();u6.exports=Function.prototype.bind||M9});var l6=P((cre,c6)=>{"use strict";f();var R9=up();c6.exports=R9.call(Function.call,Object.prototype.hasOwnProperty)});var fp=P((fre,p6)=>{"use strict";f();var Fe,_u=SyntaxError,d6=Function,Au=TypeError,fv=function(r){try{return d6('"use strict"; return ('+r+").constructor;")()}catch{}},uo=Object.getOwnPropertyDescriptor;if(uo)try{uo({},"")}catch{uo=null}var hv=function(){throw new Au},L9=uo?function(){try{return arguments.callee,hv}catch{try{return uo(arguments,"callee").get}catch{return hv}}}():hv,vu=s6()(),$n=Object.getPrototypeOf||function(r){return r.__proto__},Eu={},F9=typeof Uint8Array>"u"?Fe:$n(Uint8Array),Iu={"%AggregateError%":typeof AggregateError>"u"?Fe:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Fe:ArrayBuffer,"%ArrayIteratorPrototype%":vu?$n([][Symbol.iterator]()):Fe,"%AsyncFromSyncIteratorPrototype%":Fe,"%AsyncFunction%":Eu,"%AsyncGenerator%":Eu,"%AsyncGeneratorFunction%":Eu,"%AsyncIteratorPrototype%":Eu,"%Atomics%":typeof Atomics>"u"?Fe:Atomics,"%BigInt%":typeof BigInt>"u"?Fe:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Fe:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?Fe:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Fe:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Fe:FinalizationRegistry,"%Function%":d6,"%GeneratorFunction%":Eu,"%Int8Array%":typeof Int8Array>"u"?Fe:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Fe:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Fe:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":vu?$n($n([][Symbol.iterator]())):Fe,"%JSON%":typeof JSON=="object"?JSON:Fe,"%Map%":typeof Map>"u"?Fe:Map,"%MapIteratorPrototype%":typeof Map>"u"||!vu?Fe:$n(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Fe:Promise,"%Proxy%":typeof Proxy>"u"?Fe:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?Fe:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Fe:Set,"%SetIteratorPrototype%":typeof Set>"u"||!vu?Fe:$n(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Fe:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":vu?$n(""[Symbol.iterator]()):Fe,"%Symbol%":vu?Symbol:Fe,"%SyntaxError%":_u,"%ThrowTypeError%":L9,"%TypedArray%":F9,"%TypeError%":Au,"%Uint8Array%":typeof Uint8Array>"u"?Fe:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Fe:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Fe:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Fe:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?Fe:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Fe:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Fe:WeakSet},U9=function r(e){var t;if(e==="%AsyncFunction%")t=fv("async function () {}");else if(e==="%GeneratorFunction%")t=fv("function* () {}");else if(e==="%AsyncGeneratorFunction%")t=fv("async function* () {}");else if(e==="%AsyncGenerator%"){var i=r("%AsyncGeneratorFunction%");i&&(t=i.prototype)}else if(e==="%AsyncIteratorPrototype%"){var n=r("%AsyncGenerator%");n&&(t=$n(n.prototype))}return Iu[e]=t,t},f6={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},dl=up(),cp=l6(),q9=dl.call(Function.call,Array.prototype.concat),V9=dl.call(Function.apply,Array.prototype.splice),h6=dl.call(Function.call,String.prototype.replace),lp=dl.call(Function.call,String.prototype.slice),H9=dl.call(Function.call,RegExp.prototype.exec),Q9=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,j9=/\\(\\)?/g,G9=function(e){var t=lp(e,0,1),i=lp(e,-1);if(t==="%"&&i!=="%")throw new _u("invalid intrinsic syntax, expected closing `%`");if(i==="%"&&t!=="%")throw new _u("invalid intrinsic syntax, expected opening `%`");var n=[];return h6(e,Q9,function(s,o,a,c){n[n.length]=a?h6(c,j9,"$1"):o||s}),n},K9=function(e,t){var i=e,n;if(cp(f6,i)&&(n=f6[i],i="%"+n[0]+"%"),cp(Iu,i)){var s=Iu[i];if(s===Eu&&(s=U9(i)),typeof s>"u"&&!t)throw new Au("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:i,value:s}}throw new _u("intrinsic "+e+" does not exist!")};p6.exports=function(e,t){if(typeof e!="string"||e.length===0)throw new Au("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof t!="boolean")throw new Au('"allowMissing" argument must be a boolean');if(H9(/^%?[^%]*%?$/,e)===null)throw new _u("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var i=G9(e),n=i.length>0?i[0]:"",s=K9("%"+n+"%",t),o=s.name,a=s.value,c=!1,h=s.alias;h&&(n=h[0],V9(i,q9([0,1],h)));for(var p=1,A=!0;p<i.length;p+=1){var D=i[p],O=lp(D,0,1),T=lp(D,-1);if((O==='"'||O==="'"||O==="`"||T==='"'||T==="'"||T==="`")&&O!==T)throw new _u("property names with quotes must have matching quotes");if((D==="constructor"||!A)&&(c=!0),n+="."+D,o="%"+n+"%",cp(Iu,o))a=Iu[o];else if(a!=null){if(!(D in a)){if(!t)throw new Au("base intrinsic for "+e+" exists, but the property is not available.");return}if(uo&&p+1>=i.length){var V=uo(a,D);A=!!V,A&&"get"in V&&!("originalValue"in V.get)?a=V.get:a=a[D]}else A=cp(a,D),a=a[D];A&&!c&&(Iu[o]=a)}}return a}});var E6=P((dre,hp)=>{"use strict";f();var dv=up(),bu=fp(),m6=bu("%Function.prototype.apply%"),w6=bu("%Function.prototype.call%"),v6=bu("%Reflect.apply%",!0)||dv.call(w6,m6),g6=bu("%Object.getOwnPropertyDescriptor%",!0),co=bu("%Object.defineProperty%",!0),z9=bu("%Math.max%");if(co)try{co({},"a",{value:1})}catch{co=null}hp.exports=function(e){var t=v6(dv,w6,arguments);if(g6&&co){var i=g6(t,"length");i.configurable&&co(t,"length",{value:1+z9(0,e.length-(arguments.length-1))})}return t};var y6=function(){return v6(dv,m6,arguments)};co?co(hp.exports,"apply",{value:y6}):hp.exports.apply=y6});var b6=P((gre,_6)=>{"use strict";f();var A6=fp(),I6=E6(),k9=I6(A6("String.prototype.indexOf"));_6.exports=function(e,t){var i=A6(e,!!t);return typeof i=="function"&&k9(e,".prototype.")>-1?I6(i):i}});var C6=P(()=>{f()});var K6=P((Ere,G6)=>{f();var _v=typeof Map=="function"&&Map.prototype,pv=Object.getOwnPropertyDescriptor&&_v?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,pp=_v&&pv&&typeof pv.get=="function"?pv.get:null,x6=_v&&Map.prototype.forEach,bv=typeof Set=="function"&&Set.prototype,gv=Object.getOwnPropertyDescriptor&&bv?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,gp=bv&&gv&&typeof gv.get=="function"?gv.get:null,S6=bv&&Set.prototype.forEach,$9=typeof WeakMap=="function"&&WeakMap.prototype,gl=$9?WeakMap.prototype.has:null,W9=typeof WeakSet=="function"&&WeakSet.prototype,yl=W9?WeakSet.prototype.has:null,Y9=typeof WeakRef=="function"&&WeakRef.prototype,T6=Y9?WeakRef.prototype.deref:null,J9=Boolean.prototype.valueOf,X9=Object.prototype.toString,Z9=Function.prototype.toString,ej=String.prototype.match,Cv=String.prototype.slice,Yn=String.prototype.replace,tj=String.prototype.toUpperCase,N6=String.prototype.toLowerCase,U6=RegExp.prototype.test,D6=Array.prototype.concat,Fi=Array.prototype.join,rj=Array.prototype.slice,O6=Math.floor,wv=typeof BigInt=="function"?BigInt.prototype.valueOf:null,yv=Object.getOwnPropertySymbols,vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Cu=typeof Symbol=="function"&&typeof Symbol.iterator=="object",cr=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Cu||"symbol")?Symbol.toStringTag:null,q6=Object.prototype.propertyIsEnumerable,B6=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(r){return r.__proto__}:null);function P6(r,e){if(r===1/0||r===-1/0||r!==r||r&&r>-1e3&&r<1e3||U6.call(/e/,e))return e;var t=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof r=="number"){var i=r<0?-O6(-r):O6(r);if(i!==r){var n=String(i),s=Cv.call(e,n.length+1);return Yn.call(n,t,"$&_")+"."+Yn.call(Yn.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Yn.call(e,t,"$&_")}var Ev=C6(),M6=Ev.custom,R6=H6(M6)?M6:null;G6.exports=function r(e,t,i,n){var s=t||{};if(Wn(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Wn(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=Wn(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Wn(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Wn(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return j6(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var c=String(e);return a?P6(e,c):c}if(typeof e=="bigint"){var h=String(e)+"n";return a?P6(e,h):h}var p=typeof s.depth>"u"?5:s.depth;if(typeof i>"u"&&(i=0),i>=p&&p>0&&typeof e=="object")return Av(e)?"[Array]":"[Object]";var A=Ej(s,i);if(typeof n>"u")n=[];else if(Q6(n,e)>=0)return"[Circular]";function D(E,u,d){if(u&&(n=rj.call(n),n.push(u)),d){var g={depth:s.depth};return Wn(s,"quoteStyle")&&(g.quoteStyle=s.quoteStyle),r(E,g,i+1,n)}return r(E,s,i+1,n)}if(typeof e=="function"&&!L6(e)){var O=fj(e),T=dp(e,D);return"[Function"+(O?": "+O:" (anonymous)")+"]"+(T.length>0?" { "+Fi.call(T,", ")+" }":"")}if(H6(e)){var V=Cu?Yn.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):vv.call(e);return typeof e=="object"&&!Cu?pl(V):V}if(mj(e)){for(var Q="<"+N6.call(String(e.nodeName)),j=e.attributes||[],ie=0;ie<j.length;ie++)Q+=" "+j[ie].name+"="+V6(ij(j[ie].value),"double",s);return Q+=">",e.childNodes&&e.childNodes.length&&(Q+="..."),Q+="</"+N6.call(String(e.nodeName))+">",Q}if(Av(e)){if(e.length===0)return"[]";var Y=dp(e,D);return A&&!vj(Y)?"["+Iv(Y,A)+"]":"[ "+Fi.call(Y,", ")+" ]"}if(sj(e)){var W=dp(e,D);return!("cause"in Error.prototype)&&"cause"in e&&!q6.call(e,"cause")?"{ ["+String(e)+"] "+Fi.call(D6.call("[cause]: "+D(e.cause),W),", ")+" }":W.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+Fi.call(W,", ")+" }"}if(typeof e=="object"&&o){if(R6&&typeof e[R6]=="function"&&Ev)return Ev(e,{depth:p-i});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(hj(e)){var $=[];return x6&&x6.call(e,function(E,u){$.push(D(u,e,!0)+" => "+D(E,e))}),F6("Map",pp.call(e),$,A)}if(gj(e)){var k=[];return S6&&S6.call(e,function(E){k.push(D(E,e))}),F6("Set",gp.call(e),k,A)}if(dj(e))return mv("WeakMap");if(yj(e))return mv("WeakSet");if(pj(e))return mv("WeakRef");if(aj(e))return pl(D(Number(e)));if(cj(e))return pl(D(wv.call(e)));if(uj(e))return pl(J9.call(e));if(oj(e))return pl(D(String(e)));if(!nj(e)&&!L6(e)){var R=dp(e,D),F=B6?B6(e)===Object.prototype:e instanceof Object||e.constructor===Object,K=e instanceof Object?"":"null prototype",ce=!F&&cr&&Object(e)===e&&cr in e?Cv.call(Jn(e),8,-1):K?"Object":"",J=F||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",X=J+(ce||K?"["+Fi.call(D6.call([],ce||[],K||[]),": ")+"] ":"");return R.length===0?X+"{}":A?X+"{"+Iv(R,A)+"}":X+"{ "+Fi.call(R,", ")+" }"}return String(e)};function V6(r,e,t){var i=(t.quoteStyle||e)==="double"?'"':"'";return i+r+i}function ij(r){return Yn.call(String(r),/"/g,"&quot;")}function Av(r){return Jn(r)==="[object Array]"&&(!cr||!(typeof r=="object"&&cr in r))}function nj(r){return Jn(r)==="[object Date]"&&(!cr||!(typeof r=="object"&&cr in r))}function L6(r){return Jn(r)==="[object RegExp]"&&(!cr||!(typeof r=="object"&&cr in r))}function sj(r){return Jn(r)==="[object Error]"&&(!cr||!(typeof r=="object"&&cr in r))}function oj(r){return Jn(r)==="[object String]"&&(!cr||!(typeof r=="object"&&cr in r))}function aj(r){return Jn(r)==="[object Number]"&&(!cr||!(typeof r=="object"&&cr in r))}function uj(r){return Jn(r)==="[object Boolean]"&&(!cr||!(typeof r=="object"&&cr in r))}function H6(r){if(Cu)return r&&typeof r=="object"&&r instanceof Symbol;if(typeof r=="symbol")return!0;if(!r||typeof r!="object"||!vv)return!1;try{return vv.call(r),!0}catch{}return!1}function cj(r){if(!r||typeof r!="object"||!wv)return!1;try{return wv.call(r),!0}catch{}return!1}var lj=Object.prototype.hasOwnProperty||function(r){return r in this};function Wn(r,e){return lj.call(r,e)}function Jn(r){return X9.call(r)}function fj(r){if(r.name)return r.name;var e=ej.call(Z9.call(r),/^function\s*([\w$]+)/);return e?e[1]:null}function Q6(r,e){if(r.indexOf)return r.indexOf(e);for(var t=0,i=r.length;t<i;t++)if(r[t]===e)return t;return-1}function hj(r){if(!pp||!r||typeof r!="object")return!1;try{pp.call(r);try{gp.call(r)}catch{return!0}return r instanceof Map}catch{}return!1}function dj(r){if(!gl||!r||typeof r!="object")return!1;try{gl.call(r,gl);try{yl.call(r,yl)}catch{return!0}return r instanceof WeakMap}catch{}return!1}function pj(r){if(!T6||!r||typeof r!="object")return!1;try{return T6.call(r),!0}catch{}return!1}function gj(r){if(!gp||!r||typeof r!="object")return!1;try{gp.call(r);try{pp.call(r)}catch{return!0}return r instanceof Set}catch{}return!1}function yj(r){if(!yl||!r||typeof r!="object")return!1;try{yl.call(r,yl);try{gl.call(r,gl)}catch{return!0}return r instanceof WeakSet}catch{}return!1}function mj(r){return!r||typeof r!="object"?!1:typeof HTMLElement<"u"&&r instanceof HTMLElement?!0:typeof r.nodeName=="string"&&typeof r.getAttribute=="function"}function j6(r,e){if(r.length>e.maxStringLength){var t=r.length-e.maxStringLength,i="... "+t+" more character"+(t>1?"s":"");return j6(Cv.call(r,0,e.maxStringLength),e)+i}var n=Yn.call(Yn.call(r,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,wj);return V6(n,"single",e)}function wj(r){var e=r.charCodeAt(0),t={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return t?"\\"+t:"\\x"+(e<16?"0":"")+tj.call(e.toString(16))}function pl(r){return"Object("+r+")"}function mv(r){return r+" { ? }"}function F6(r,e,t,i){var n=i?Iv(t,i):Fi.call(t,", ");return r+" ("+e+") {"+n+"}"}function vj(r){for(var e=0;e<r.length;e++)if(Q6(r[e],`
`)>=0)return!1;return!0}function Ej(r,e){var t;if(r.indent==="	")t="	";else if(typeof r.indent=="number"&&r.indent>0)t=Fi.call(Array(r.indent+1)," ");else return null;return{base:t,prev:Fi.call(Array(e+1),t)}}function Iv(r,e){if(r.length===0)return"";var t=`
`+e.prev+e.base;return t+Fi.call(r,","+t)+`
`+e.prev}function dp(r,e){var t=Av(r),i=[];if(t){i.length=r.length;for(var n=0;n<r.length;n++)i[n]=Wn(r,n)?e(r[n],r):""}var s=typeof yv=="function"?yv(r):[],o;if(Cu){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var c in r)Wn(r,c)&&(t&&String(Number(c))===c&&c<r.length||Cu&&o["$"+c]instanceof Symbol||(U6.call(/[^\w$]/,c)?i.push(e(c,r)+": "+e(r[c],r)):i.push(c+": "+e(r[c],r))));if(typeof yv=="function")for(var h=0;h<s.length;h++)q6.call(r,s[h])&&i.push("["+e(s[h])+"]: "+e(r[s[h]],r));return i}});var k6=P((Ire,z6)=>{"use strict";f();var xv=fp(),xu=b6(),Aj=K6(),Ij=xv("%TypeError%"),yp=xv("%WeakMap%",!0),mp=xv("%Map%",!0),_j=xu("WeakMap.prototype.get",!0),bj=xu("WeakMap.prototype.set",!0),Cj=xu("WeakMap.prototype.has",!0),xj=xu("Map.prototype.get",!0),Sj=xu("Map.prototype.set",!0),Tj=xu("Map.prototype.has",!0),Sv=function(r,e){for(var t=r,i;(i=t.next)!==null;t=i)if(i.key===e)return t.next=i.next,i.next=r.next,r.next=i,i},Nj=function(r,e){var t=Sv(r,e);return t&&t.value},Dj=function(r,e,t){var i=Sv(r,e);i?i.value=t:r.next={key:e,next:r.next,value:t}},Oj=function(r,e){return!!Sv(r,e)};z6.exports=function(){var e,t,i,n={assert:function(s){if(!n.has(s))throw new Ij("Side channel does not contain "+Aj(s))},get:function(s){if(yp&&s&&(typeof s=="object"||typeof s=="function")){if(e)return _j(e,s)}else if(mp){if(t)return xj(t,s)}else if(i)return Nj(i,s)},has:function(s){if(yp&&s&&(typeof s=="object"||typeof s=="function")){if(e)return Cj(e,s)}else if(mp){if(t)return Tj(t,s)}else if(i)return Oj(i,s);return!1},set:function(s,o){yp&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new yp),bj(e,s,o)):mp?(t||(t=new mp),Sj(t,s,o)):(i||(i={key:{},next:null}),Dj(i,s,o))}};return n}});var wp=P((bre,$6)=>{"use strict";f();var Bj=String.prototype.replace,Pj=/%20/g,Tv={RFC1738:"RFC1738",RFC3986:"RFC3986"};$6.exports={default:Tv.RFC3986,formatters:{RFC1738:function(r){return Bj.call(r,Pj,"+")},RFC3986:function(r){return String(r)}},RFC1738:Tv.RFC1738,RFC3986:Tv.RFC3986}});var Dv=P((xre,Y6)=>{"use strict";f();var Mj=wp(),Nv=Object.prototype.hasOwnProperty,lo=Array.isArray,Ui=function(){for(var r=[],e=0;e<256;++e)r.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return r}(),Rj=function(e){for(;e.length>1;){var t=e.pop(),i=t.obj[t.prop];if(lo(i)){for(var n=[],s=0;s<i.length;++s)typeof i[s]<"u"&&n.push(i[s]);t.obj[t.prop]=n}}},W6=function(e,t){for(var i=t&&t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)typeof e[n]<"u"&&(i[n]=e[n]);return i},Lj=function r(e,t,i){if(!t)return e;if(typeof t!="object"){if(lo(e))e.push(t);else if(e&&typeof e=="object")(i&&(i.plainObjects||i.allowPrototypes)||!Nv.call(Object.prototype,t))&&(e[t]=!0);else return[e,t];return e}if(!e||typeof e!="object")return[e].concat(t);var n=e;return lo(e)&&!lo(t)&&(n=W6(e,i)),lo(e)&&lo(t)?(t.forEach(function(s,o){if(Nv.call(e,o)){var a=e[o];a&&typeof a=="object"&&s&&typeof s=="object"?e[o]=r(a,s,i):e.push(s)}else e[o]=s}),e):Object.keys(t).reduce(function(s,o){var a=t[o];return Nv.call(s,o)?s[o]=r(s[o],a,i):s[o]=a,s},n)},Fj=function(e,t){return Object.keys(t).reduce(function(i,n){return i[n]=t[n],i},e)},Uj=function(r,e,t){var i=r.replace(/\+/g," ");if(t==="iso-8859-1")return i.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(i)}catch{return i}},qj=function(e,t,i,n,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),i==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(p){return"%26%23"+parseInt(p.slice(2),16)+"%3B"});for(var a="",c=0;c<o.length;++c){var h=o.charCodeAt(c);if(h===45||h===46||h===95||h===126||h>=48&&h<=57||h>=65&&h<=90||h>=97&&h<=122||s===Mj.RFC1738&&(h===40||h===41)){a+=o.charAt(c);continue}if(h<128){a=a+Ui[h];continue}if(h<2048){a=a+(Ui[192|h>>6]+Ui[128|h&63]);continue}if(h<55296||h>=57344){a=a+(Ui[224|h>>12]+Ui[128|h>>6&63]+Ui[128|h&63]);continue}c+=1,h=65536+((h&1023)<<10|o.charCodeAt(c)&1023),a+=Ui[240|h>>18]+Ui[128|h>>12&63]+Ui[128|h>>6&63]+Ui[128|h&63]}return a},Vj=function(e){for(var t=[{obj:{o:e},prop:"o"}],i=[],n=0;n<t.length;++n)for(var s=t[n],o=s.obj[s.prop],a=Object.keys(o),c=0;c<a.length;++c){var h=a[c],p=o[h];typeof p=="object"&&p!==null&&i.indexOf(p)===-1&&(t.push({obj:o,prop:h}),i.push(p))}return Rj(t),e},Hj=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},Qj=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},jj=function(e,t){return[].concat(e,t)},Gj=function(e,t){if(lo(e)){for(var i=[],n=0;n<e.length;n+=1)i.push(t(e[n]));return i}return t(e)};Y6.exports={arrayToObject:W6,assign:Fj,combine:jj,compact:Vj,decode:Uj,encode:qj,isBuffer:Qj,isRegExp:Hj,maybeMap:Gj,merge:Lj}});var rD=P((Tre,tD)=>{"use strict";f();var Z6=k6(),Bv=Dv(),ml=wp(),Kj=Object.prototype.hasOwnProperty,J6={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},fo=Array.isArray,zj=String.prototype.split,kj=Array.prototype.push,eD=function(r,e){kj.apply(r,fo(e)?e:[e])},$j=Date.prototype.toISOString,X6=ml.default,er={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:Bv.encode,encodeValuesOnly:!1,format:X6,formatter:ml.formatters[X6],indices:!1,serializeDate:function(e){return $j.call(e)},skipNulls:!1,strictNullHandling:!1},Wj=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},Ov={},Yj=function r(e,t,i,n,s,o,a,c,h,p,A,D,O,T,V){for(var Q=e,j=V,ie=0,Y=!1;(j=j.get(Ov))!==void 0&&!Y;){var W=j.get(e);if(ie+=1,typeof W<"u"){if(W===ie)throw new RangeError("Cyclic object value");Y=!0}typeof j.get(Ov)>"u"&&(ie=0)}if(typeof a=="function"?Q=a(t,Q):Q instanceof Date?Q=p(Q):i==="comma"&&fo(Q)&&(Q=Bv.maybeMap(Q,function(m){return m instanceof Date?p(m):m})),Q===null){if(n)return o&&!O?o(t,er.encoder,T,"key",A):t;Q=""}if(Wj(Q)||Bv.isBuffer(Q)){if(o){var $=O?t:o(t,er.encoder,T,"key",A);if(i==="comma"&&O){for(var k=zj.call(String(Q),","),R="",F=0;F<k.length;++F)R+=(F===0?"":",")+D(o(k[F],er.encoder,T,"value",A));return[D($)+"="+R]}return[D($)+"="+D(o(Q,er.encoder,T,"value",A))]}return[D(t)+"="+D(String(Q))]}var K=[];if(typeof Q>"u")return K;var ce;if(i==="comma"&&fo(Q))ce=[{value:Q.length>0?Q.join(",")||null:void 0}];else if(fo(a))ce=a;else{var J=Object.keys(Q);ce=c?J.sort(c):J}for(var X=0;X<ce.length;++X){var E=ce[X],u=typeof E=="object"&&typeof E.value<"u"?E.value:Q[E];if(!(s&&u===null)){var d=fo(Q)?typeof i=="function"?i(t,E):t:t+(h?"."+E:"["+E+"]");V.set(e,ie);var g=Z6();g.set(Ov,V),eD(K,r(u,d,i,n,s,o,a,c,h,p,A,D,O,T,g))}}return K},Jj=function(e){if(!e)return er;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var t=e.charset||er.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var i=ml.default;if(typeof e.format<"u"){if(!Kj.call(ml.formatters,e.format))throw new TypeError("Unknown format option provided.");i=e.format}var n=ml.formatters[i],s=er.filter;return(typeof e.filter=="function"||fo(e.filter))&&(s=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:er.addQueryPrefix,allowDots:typeof e.allowDots>"u"?er.allowDots:!!e.allowDots,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:er.charsetSentinel,delimiter:typeof e.delimiter>"u"?er.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:er.encode,encoder:typeof e.encoder=="function"?e.encoder:er.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:er.encodeValuesOnly,filter:s,format:i,formatter:n,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:er.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:er.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:er.strictNullHandling}};tD.exports=function(r,e){var t=r,i=Jj(e),n,s;typeof i.filter=="function"?(s=i.filter,t=s("",t)):fo(i.filter)&&(s=i.filter,n=s);var o=[];if(typeof t!="object"||t===null)return"";var a;e&&e.arrayFormat in J6?a=e.arrayFormat:e&&"indices"in e?a=e.indices?"indices":"repeat":a="indices";var c=J6[a];n||(n=Object.keys(t)),i.sort&&n.sort(i.sort);for(var h=Z6(),p=0;p<n.length;++p){var A=n[p];i.skipNulls&&t[A]===null||eD(o,Yj(t[A],A,c,i.strictNullHandling,i.skipNulls,i.encode?i.encoder:null,i.filter,i.sort,i.allowDots,i.serializeDate,i.format,i.formatter,i.encodeValuesOnly,i.charset,h))}var D=o.join(i.delimiter),O=i.addQueryPrefix===!0?"?":"";return i.charsetSentinel&&(i.charset==="iso-8859-1"?O+="utf8=%26%2310003%3B&":O+="utf8=%E2%9C%93&"),D.length>0?O+D:""}});var sD=P((Dre,nD)=>{"use strict";f();var Su=Dv(),Pv=Object.prototype.hasOwnProperty,Xj=Array.isArray,Yt={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:Su.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},Zj=function(r){return r.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})},iD=function(r,e){return r&&typeof r=="string"&&e.comma&&r.indexOf(",")>-1?r.split(","):r},eG="utf8=%26%2310003%3B",tG="utf8=%E2%9C%93",rG=function(e,t){var i={},n=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=t.parameterLimit===1/0?void 0:t.parameterLimit,o=n.split(t.delimiter,s),a=-1,c,h=t.charset;if(t.charsetSentinel)for(c=0;c<o.length;++c)o[c].indexOf("utf8=")===0&&(o[c]===tG?h="utf-8":o[c]===eG&&(h="iso-8859-1"),a=c,c=o.length);for(c=0;c<o.length;++c)if(c!==a){var p=o[c],A=p.indexOf("]="),D=A===-1?p.indexOf("="):A+1,O,T;D===-1?(O=t.decoder(p,Yt.decoder,h,"key"),T=t.strictNullHandling?null:""):(O=t.decoder(p.slice(0,D),Yt.decoder,h,"key"),T=Su.maybeMap(iD(p.slice(D+1),t),function(V){return t.decoder(V,Yt.decoder,h,"value")})),T&&t.interpretNumericEntities&&h==="iso-8859-1"&&(T=Zj(T)),p.indexOf("[]=")>-1&&(T=Xj(T)?[T]:T),Pv.call(i,O)?i[O]=Su.combine(i[O],T):i[O]=T}return i},iG=function(r,e,t,i){for(var n=i?e:iD(e,t),s=r.length-1;s>=0;--s){var o,a=r[s];if(a==="[]"&&t.parseArrays)o=[].concat(n);else{o=t.plainObjects?Object.create(null):{};var c=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,h=parseInt(c,10);!t.parseArrays&&c===""?o={0:n}:!isNaN(h)&&a!==c&&String(h)===c&&h>=0&&t.parseArrays&&h<=t.arrayLimit?(o=[],o[h]=n):c!=="__proto__"&&(o[c]=n)}n=o}return n},nG=function(e,t,i,n){if(e){var s=i.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,c=i.depth>0&&o.exec(s),h=c?s.slice(0,c.index):s,p=[];if(h){if(!i.plainObjects&&Pv.call(Object.prototype,h)&&!i.allowPrototypes)return;p.push(h)}for(var A=0;i.depth>0&&(c=a.exec(s))!==null&&A<i.depth;){if(A+=1,!i.plainObjects&&Pv.call(Object.prototype,c[1].slice(1,-1))&&!i.allowPrototypes)return;p.push(c[1])}return c&&p.push("["+s.slice(c.index)+"]"),iG(p,t,i,n)}},sG=function(e){if(!e)return Yt;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=typeof e.charset>"u"?Yt.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?Yt.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:Yt.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:Yt.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:Yt.arrayLimit,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Yt.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:Yt.comma,decoder:typeof e.decoder=="function"?e.decoder:Yt.decoder,delimiter:typeof e.delimiter=="string"||Su.isRegExp(e.delimiter)?e.delimiter:Yt.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:Yt.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:Yt.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:Yt.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:Yt.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Yt.strictNullHandling}};nD.exports=function(r,e){var t=sG(e);if(r===""||r===null||typeof r>"u")return t.plainObjects?Object.create(null):{};for(var i=typeof r=="string"?rG(r,t):r,n=t.plainObjects?Object.create(null):{},s=Object.keys(i),o=0;o<s.length;++o){var a=s[o],c=nG(a,i[a],t,typeof r=="string");n=Su.merge(n,c,t)}return t.allowSparse===!0?n:Su.compact(n)}});var aD=P((Bre,oD)=>{"use strict";f();var oG=rD(),aG=sD(),uG=wp();oD.exports={formats:uG,parse:aG,stringify:oG}});var Mv=P(Ft=>{"use strict";f();Object.defineProperty(Ft,"__esModule",{value:!0});Ft.WALLET_PROVIDER_CALLBACK_PARAM_TX_SIGNED=Ft.WALLET_PROVIDER_CALLBACK_PARAM=Ft.WALLET_PROVIDER_SIGN_TRANSACTION_URL=Ft.WALLET_PROVIDER_SEND_TRANSACTION_URL=Ft.WALLET_PROVIDER_DISCONNECT_URL=Ft.WALLET_PROVIDER_CONNECT_URL=Ft.WALLET_PROVIDER_TESTNET=Ft.WALLET_PROVIDER_DEVNET=Ft.WALLET_PROVIDER_MAINNET=void 0;Ft.WALLET_PROVIDER_MAINNET="https://wallet.multiversx.com/dapp/init";Ft.WALLET_PROVIDER_DEVNET="https://devnet-wallet.multiversx.com/dapp/init";Ft.WALLET_PROVIDER_TESTNET="https://testnet-wallet.multiversx.com/dapp/init";Ft.WALLET_PROVIDER_CONNECT_URL="hook/login";Ft.WALLET_PROVIDER_DISCONNECT_URL="hook/logout";Ft.WALLET_PROVIDER_SEND_TRANSACTION_URL="hook/transaction";Ft.WALLET_PROVIDER_SIGN_TRANSACTION_URL="hook/sign";Ft.WALLET_PROVIDER_CALLBACK_PARAM="walletProviderStatus";Ft.WALLET_PROVIDER_CALLBACK_PARAM_TX_SIGNED="transactionsSigned"});var uD=P(Tu=>{"use strict";f();Object.defineProperty(Tu,"__esModule",{value:!0});Tu.ErrInvalidTxSignReturnValue=Tu.Err=void 0;var vp=class extends Error{constructor(e,t){super(e),this.inner=void 0,this.inner=t}};Tu.Err=vp;var Rv=class extends vp{constructor(){super("Invalid response in transaction sign return url")}};Tu.ErrInvalidTxSignReturnValue=Rv});var cD=P(Ep=>{"use strict";f();Object.defineProperty(Ep,"__esModule",{value:!0});Ep.PlainSignedTransaction=void 0;var Lv=class{constructor(e){this.nonce=0,this.value="",this.receiver="",this.sender="",this.gasPrice=0,this.gasLimit=0,this.data="",this.chainID="",this.version=0,this.options=void 0,this.signature="",Object.assign(this,e)}};Ep.PlainSignedTransaction=Lv});var wl=P(Xn=>{"use strict";f();var Nu=Xn&&Xn.__awaiter||function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(p){try{h(i.next(p))}catch(A){o(A)}}function c(p){try{h(i.throw(p))}catch(A){o(A)}}function h(p){p.done?s(p.value):n(p.value).then(a,c)}h((i=i.apply(r,e||[])).next())})},cG=Xn&&Xn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Xn,"__esModule",{value:!0});Xn.WalletProvider=void 0;var lD=cG(aD()),Du=Mv(),fD=uD(),lG=cD(),Ou=class{constructor(e){this.walletUrl=e}login(e){return Nu(this,void 0,void 0,function*(){let t=this.buildWalletUrl({endpoint:Du.WALLET_PROVIDER_CONNECT_URL,callbackUrl:e?.callbackUrl,params:{token:e?.token}});return yield this.redirect(t,e?.redirectDelayMilliseconds),t})}redirect(e,t){return Nu(this,void 0,void 0,function*(){t?yield this.redirectLater(e,t):this.redirectImmediately(e)})}redirectImmediately(e){window.location.href=e}redirectLater(e,t){return Nu(this,void 0,void 0,function*(){yield new Promise(i=>{setTimeout(()=>{window.location.href=e,i(!0)},t)})})}logout(e){return Nu(this,void 0,void 0,function*(){let t=this.buildWalletUrl({endpoint:Du.WALLET_PROVIDER_DISCONNECT_URL,callbackUrl:e?.callbackUrl});return yield this.redirect(t,e?.redirectDelayMilliseconds),!0})}signTransactions(e,t){return Nu(this,void 0,void 0,function*(){let i={};e.map(s=>{let o=Ou.prepareWalletTransaction(s);for(let a in o)o.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=[]),i[a].push(o[a])});let n=this.buildWalletUrl({endpoint:Du.WALLET_PROVIDER_SIGN_TRANSACTION_URL,callbackUrl:t?.callbackUrl,params:i});window.location.href=n})}signTransaction(e,t){return Nu(this,void 0,void 0,function*(){yield this.signTransactions([e],t)})}getTransactionsFromWalletUrl(){let e=lD.default.parse(window.location.search.slice(1));return Ou.isTxSignReturnSuccess(e)?this.getTxSignReturnValue(e):[]}static isTxSignReturnSuccess(e){return e.hasOwnProperty(Du.WALLET_PROVIDER_CALLBACK_PARAM)&&e[Du.WALLET_PROVIDER_CALLBACK_PARAM]===Du.WALLET_PROVIDER_CALLBACK_PARAM_TX_SIGNED}getTxSignReturnValue(e){let t=["nonce","value","receiver","sender","gasPrice","gasLimit","data","chainID","version","signature"];for(let s of t)if(!e[s]||!Array.isArray(e[s]))throw new fD.ErrInvalidTxSignReturnValue;let i=e.nonce.length;for(let s of t)if(e[s].length!==i)throw new fD.ErrInvalidTxSignReturnValue;let n=[];for(let s=0;s<i;s++){let o=new lG.PlainSignedTransaction(Object.assign(Object.assign({nonce:parseInt(e.nonce[s]),value:e.value[s],receiver:e.receiver[s],sender:e.sender[s],gasPrice:parseInt(e.gasPrice[s]),gasLimit:parseInt(e.gasLimit[s]),data:e.data[s],chainID:e.chainID[s],version:parseInt(e.version[s])},e.options&&e.options[s]?{options:parseInt(e.options[s])}:{}),{signature:e.signature[s]}));n.push(o)}return n}static prepareWalletTransaction(e){let t=e.toPlainObject();return t.data&&(t.data=y.Buffer.from(t.data,"base64").toString()),t}buildWalletUrl(e){let t=e?.callbackUrl||window.location.href,i=lD.default.stringify(e.params||{}),n=i?`${i}&callbackUrl=${t}`:`callbackUrl=${t}`;return`${this.baseWalletUrl()}/${e.endpoint}?${n}`}baseWalletUrl(){let e=this.walletUrl.split("/"),t=e[0],i=e[2];return t+"//"+i}};Xn.WalletProvider=Ou});var yD=P(()=>{f()});var wD=P((mD,Fv)=>{f();(function(r,e){"use strict";function t(E,u){if(!E)throw new Error(u||"Assertion failed")}function i(E,u){E.super_=u;var d=function(){};d.prototype=u.prototype,E.prototype=new d,E.prototype.constructor=E}function n(E,u,d){if(n.isBN(E))return E;this.negative=0,this.words=null,this.length=0,this.red=null,E!==null&&((u==="le"||u==="be")&&(d=u,u=10),this._init(E||0,u||10,d||"be"))}typeof r=="object"?r.exports=n:e.BN=n,n.BN=n,n.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=yD().Buffer}catch{}n.isBN=function(u){return u instanceof n?!0:u!==null&&typeof u=="object"&&u.constructor.wordSize===n.wordSize&&Array.isArray(u.words)},n.max=function(u,d){return u.cmp(d)>0?u:d},n.min=function(u,d){return u.cmp(d)<0?u:d},n.prototype._init=function(u,d,g){if(typeof u=="number")return this._initNumber(u,d,g);if(typeof u=="object")return this._initArray(u,d,g);d==="hex"&&(d=16),t(d===(d|0)&&d>=2&&d<=36),u=u.toString().replace(/\s+/g,"");var m=0;u[0]==="-"&&(m++,this.negative=1),m<u.length&&(d===16?this._parseHex(u,m,g):(this._parseBase(u,d,m),g==="le"&&this._initArray(this.toArray(),d,g)))},n.prototype._initNumber=function(u,d,g){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[u&67108863],this.length=1):u<4503599627370496?(this.words=[u&67108863,u/67108864&67108863],this.length=2):(t(u<9007199254740992),this.words=[u&67108863,u/67108864&67108863,1],this.length=3),g==="le"&&this._initArray(this.toArray(),d,g)},n.prototype._initArray=function(u,d,g){if(t(typeof u.length=="number"),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var w,x,N=0;if(g==="be")for(m=u.length-1,w=0;m>=0;m-=3)x=u[m]|u[m-1]<<8|u[m-2]<<16,this.words[w]|=x<<N&67108863,this.words[w+1]=x>>>26-N&67108863,N+=24,N>=26&&(N-=26,w++);else if(g==="le")for(m=0,w=0;m<u.length;m+=3)x=u[m]|u[m+1]<<8|u[m+2]<<16,this.words[w]|=x<<N&67108863,this.words[w+1]=x>>>26-N&67108863,N+=24,N>=26&&(N-=26,w++);return this._strip()};function o(E,u){var d=E.charCodeAt(u);if(d>=48&&d<=57)return d-48;if(d>=65&&d<=70)return d-55;if(d>=97&&d<=102)return d-87;t(!1,"Invalid character in "+E)}function a(E,u,d){var g=o(E,d);return d-1>=u&&(g|=o(E,d-1)<<4),g}n.prototype._parseHex=function(u,d,g){this.length=Math.ceil((u.length-d)/6),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var w=0,x=0,N;if(g==="be")for(m=u.length-1;m>=d;m-=2)N=a(u,d,m)<<w,this.words[x]|=N&67108863,w>=18?(w-=18,x+=1,this.words[x]|=N>>>26):w+=8;else{var I=u.length-d;for(m=I%2===0?d+1:d;m<u.length;m+=2)N=a(u,d,m)<<w,this.words[x]|=N&67108863,w>=18?(w-=18,x+=1,this.words[x]|=N>>>26):w+=8}this._strip()};function c(E,u,d,g){for(var m=0,w=0,x=Math.min(E.length,d),N=u;N<x;N++){var I=E.charCodeAt(N)-48;m*=g,I>=49?w=I-49+10:I>=17?w=I-17+10:w=I,t(I>=0&&w<g,"Invalid character"),m+=w}return m}n.prototype._parseBase=function(u,d,g){this.words=[0],this.length=1;for(var m=0,w=1;w<=67108863;w*=d)m++;m--,w=w/d|0;for(var x=u.length-g,N=x%m,I=Math.min(x,x-N)+g,l=0,C=g;C<I;C+=m)l=c(u,C,C+m,d),this.imuln(w),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(N!==0){var Z=1;for(l=c(u,C,u.length,d),C=0;C<N;C++)Z*=d;this.imuln(Z),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this._strip()},n.prototype.copy=function(u){u.words=new Array(this.length);for(var d=0;d<this.length;d++)u.words[d]=this.words[d];u.length=this.length,u.negative=this.negative,u.red=this.red};function h(E,u){E.words=u.words,E.length=u.length,E.negative=u.negative,E.red=u.red}if(n.prototype._move=function(u){h(u,this)},n.prototype.clone=function(){var u=new n(null);return this.copy(u),u},n.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},n.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},n.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{n.prototype[Symbol.for("nodejs.util.inspect.custom")]=p}catch{n.prototype.inspect=p}else n.prototype.inspect=p;function p(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var A=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],D=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],O=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(u,d){u=u||10,d=d|0||1;var g;if(u===16||u==="hex"){g="";for(var m=0,w=0,x=0;x<this.length;x++){var N=this.words[x],I=((N<<m|w)&16777215).toString(16);w=N>>>24-m&16777215,m+=2,m>=26&&(m-=26,x--),w!==0||x!==this.length-1?g=A[6-I.length]+I+g:g=I+g}for(w!==0&&(g=w.toString(16)+g);g.length%d!==0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}if(u===(u|0)&&u>=2&&u<=36){var l=D[u],C=O[u];g="";var Z=this.clone();for(Z.negative=0;!Z.isZero();){var te=Z.modrn(C).toString(u);Z=Z.idivn(C),Z.isZero()?g=te+g:g=A[l-te.length]+te+g}for(this.isZero()&&(g="0"+g);g.length%d!==0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}t(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var u=this.words[0];return this.length===2?u+=this.words[1]*67108864:this.length===3&&this.words[2]===1?u+=4503599627370496+this.words[1]*67108864:this.length>2&&t(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-u:u},n.prototype.toJSON=function(){return this.toString(16,2)},s&&(n.prototype.toBuffer=function(u,d){return this.toArrayLike(s,u,d)}),n.prototype.toArray=function(u,d){return this.toArrayLike(Array,u,d)};var T=function(u,d){return u.allocUnsafe?u.allocUnsafe(d):new u(d)};n.prototype.toArrayLike=function(u,d,g){this._strip();var m=this.byteLength(),w=g||Math.max(1,m);t(m<=w,"byte array longer than desired length"),t(w>0,"Requested array length <= 0");var x=T(u,w),N=d==="le"?"LE":"BE";return this["_toArrayLike"+N](x,m),x},n.prototype._toArrayLikeLE=function(u,d){for(var g=0,m=0,w=0,x=0;w<this.length;w++){var N=this.words[w]<<x|m;u[g++]=N&255,g<u.length&&(u[g++]=N>>8&255),g<u.length&&(u[g++]=N>>16&255),x===6?(g<u.length&&(u[g++]=N>>24&255),m=0,x=0):(m=N>>>24,x+=2)}if(g<u.length)for(u[g++]=m;g<u.length;)u[g++]=0},n.prototype._toArrayLikeBE=function(u,d){for(var g=u.length-1,m=0,w=0,x=0;w<this.length;w++){var N=this.words[w]<<x|m;u[g--]=N&255,g>=0&&(u[g--]=N>>8&255),g>=0&&(u[g--]=N>>16&255),x===6?(g>=0&&(u[g--]=N>>24&255),m=0,x=0):(m=N>>>24,x+=2)}if(g>=0)for(u[g--]=m;g>=0;)u[g--]=0},Math.clz32?n.prototype._countBits=function(u){return 32-Math.clz32(u)}:n.prototype._countBits=function(u){var d=u,g=0;return d>=4096&&(g+=13,d>>>=13),d>=64&&(g+=7,d>>>=7),d>=8&&(g+=4,d>>>=4),d>=2&&(g+=2,d>>>=2),g+d},n.prototype._zeroBits=function(u){if(u===0)return 26;var d=u,g=0;return d&8191||(g+=13,d>>>=13),d&127||(g+=7,d>>>=7),d&15||(g+=4,d>>>=4),d&3||(g+=2,d>>>=2),d&1||g++,g},n.prototype.bitLength=function(){var u=this.words[this.length-1],d=this._countBits(u);return(this.length-1)*26+d};function V(E){for(var u=new Array(E.bitLength()),d=0;d<u.length;d++){var g=d/26|0,m=d%26;u[d]=E.words[g]>>>m&1}return u}n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,d=0;d<this.length;d++){var g=this._zeroBits(this.words[d]);if(u+=g,g!==26)break}return u},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(u){return this.negative!==0?this.abs().inotn(u).iaddn(1):this.clone()},n.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return this.negative!==0},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var d=0;d<u.length;d++)this.words[d]=this.words[d]|u.words[d];return this._strip()},n.prototype.ior=function(u){return t((this.negative|u.negative)===0),this.iuor(u)},n.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},n.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},n.prototype.iuand=function(u){var d;this.length>u.length?d=u:d=this;for(var g=0;g<d.length;g++)this.words[g]=this.words[g]&u.words[g];return this.length=d.length,this._strip()},n.prototype.iand=function(u){return t((this.negative|u.negative)===0),this.iuand(u)},n.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},n.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},n.prototype.iuxor=function(u){var d,g;this.length>u.length?(d=this,g=u):(d=u,g=this);for(var m=0;m<g.length;m++)this.words[m]=d.words[m]^g.words[m];if(this!==d)for(;m<d.length;m++)this.words[m]=d.words[m];return this.length=d.length,this._strip()},n.prototype.ixor=function(u){return t((this.negative|u.negative)===0),this.iuxor(u)},n.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},n.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},n.prototype.inotn=function(u){t(typeof u=="number"&&u>=0);var d=Math.ceil(u/26)|0,g=u%26;this._expand(d),g>0&&d--;for(var m=0;m<d;m++)this.words[m]=~this.words[m]&67108863;return g>0&&(this.words[m]=~this.words[m]&67108863>>26-g),this._strip()},n.prototype.notn=function(u){return this.clone().inotn(u)},n.prototype.setn=function(u,d){t(typeof u=="number"&&u>=0);var g=u/26|0,m=u%26;return this._expand(g+1),d?this.words[g]=this.words[g]|1<<m:this.words[g]=this.words[g]&~(1<<m),this._strip()},n.prototype.iadd=function(u){var d;if(this.negative!==0&&u.negative===0)return this.negative=0,d=this.isub(u),this.negative^=1,this._normSign();if(this.negative===0&&u.negative!==0)return u.negative=0,d=this.isub(u),u.negative=1,d._normSign();var g,m;this.length>u.length?(g=this,m=u):(g=u,m=this);for(var w=0,x=0;x<m.length;x++)d=(g.words[x]|0)+(m.words[x]|0)+w,this.words[x]=d&67108863,w=d>>>26;for(;w!==0&&x<g.length;x++)d=(g.words[x]|0)+w,this.words[x]=d&67108863,w=d>>>26;if(this.length=g.length,w!==0)this.words[this.length]=w,this.length++;else if(g!==this)for(;x<g.length;x++)this.words[x]=g.words[x];return this},n.prototype.add=function(u){var d;return u.negative!==0&&this.negative===0?(u.negative=0,d=this.sub(u),u.negative^=1,d):u.negative===0&&this.negative!==0?(this.negative=0,d=u.sub(this),this.negative=1,d):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},n.prototype.isub=function(u){if(u.negative!==0){u.negative=0;var d=this.iadd(u);return u.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var g=this.cmp(u);if(g===0)return this.negative=0,this.length=1,this.words[0]=0,this;var m,w;g>0?(m=this,w=u):(m=u,w=this);for(var x=0,N=0;N<w.length;N++)d=(m.words[N]|0)-(w.words[N]|0)+x,x=d>>26,this.words[N]=d&67108863;for(;x!==0&&N<m.length;N++)d=(m.words[N]|0)+x,x=d>>26,this.words[N]=d&67108863;if(x===0&&N<m.length&&m!==this)for(;N<m.length;N++)this.words[N]=m.words[N];return this.length=Math.max(this.length,N),m!==this&&(this.negative=1),this._strip()},n.prototype.sub=function(u){return this.clone().isub(u)};function Q(E,u,d){d.negative=u.negative^E.negative;var g=E.length+u.length|0;d.length=g,g=g-1|0;var m=E.words[0]|0,w=u.words[0]|0,x=m*w,N=x&67108863,I=x/67108864|0;d.words[0]=N;for(var l=1;l<g;l++){for(var C=I>>>26,Z=I&67108863,te=Math.min(l,u.length-1),ee=Math.max(0,l-E.length+1);ee<=te;ee++){var ae=l-ee|0;m=E.words[ae]|0,w=u.words[ee]|0,x=m*w+Z,C+=x/67108864|0,Z=x&67108863}d.words[l]=Z|0,I=C|0}return I!==0?d.words[l]=I|0:d.length--,d._strip()}var j=function(u,d,g){var m=u.words,w=d.words,x=g.words,N=0,I,l,C,Z=m[0]|0,te=Z&8191,ee=Z>>>13,ae=m[1]|0,v=ae&8191,b=ae>>>13,S=m[2]|0,L=S&8191,B=S>>>13,U=m[3]|0,q=U&8191,M=U>>>13,G=m[4]|0,z=G&8191,H=G>>>13,ue=m[5]|0,he=ue&8191,de=ue>>>13,Me=m[6]|0,be=Me&8191,Se=Me>>>13,Pe=m[7]|0,Ie=Pe&8191,Be=Pe>>>13,os=m[8]|0,Xe=os&8191,Ze=os>>>13,Ar=m[9]|0,Ke=Ar&8191,Ue=Ar>>>13,Qt=w[0]|0,Ce=Qt&8191,pt=Qt>>>13,pE=w[1]|0,gt=pE&8191,yt=pE>>>13,gE=w[2]|0,mt=gE&8191,wt=gE>>>13,yE=w[3]|0,vt=yE&8191,Et=yE>>>13,mE=w[4]|0,At=mE&8191,It=mE>>>13,wE=w[5]|0,_t=wE&8191,bt=wE>>>13,vE=w[6]|0,Ct=vE&8191,xt=vE>>>13,EE=w[7]|0,St=EE&8191,Tt=EE>>>13,AE=w[8]|0,Nt=AE&8191,Dt=AE>>>13,IE=w[9]|0,Ot=IE&8191,Bt=IE>>>13;g.negative=u.negative^d.negative,g.length=19,I=Math.imul(te,Ce),l=Math.imul(te,pt),l=l+Math.imul(ee,Ce)|0,C=Math.imul(ee,pt);var zp=(N+I|0)+((l&8191)<<13)|0;N=(C+(l>>>13)|0)+(zp>>>26)|0,zp&=67108863,I=Math.imul(v,Ce),l=Math.imul(v,pt),l=l+Math.imul(b,Ce)|0,C=Math.imul(b,pt),I=I+Math.imul(te,gt)|0,l=l+Math.imul(te,yt)|0,l=l+Math.imul(ee,gt)|0,C=C+Math.imul(ee,yt)|0;var kp=(N+I|0)+((l&8191)<<13)|0;N=(C+(l>>>13)|0)+(kp>>>26)|0,kp&=67108863,I=Math.imul(L,Ce),l=Math.imul(L,pt),l=l+Math.imul(B,Ce)|0,C=Math.imul(B,pt),I=I+Math.imul(v,gt)|0,l=l+Math.imul(v,yt)|0,l=l+Math.imul(b,gt)|0,C=C+Math.imul(b,yt)|0,I=I+Math.imul(te,mt)|0,l=l+Math.imul(te,wt)|0,l=l+Math.imul(ee,mt)|0,C=C+Math.imul(ee,wt)|0;var $p=(N+I|0)+((l&8191)<<13)|0;N=(C+(l>>>13)|0)+($p>>>26)|0,$p&=67108863,I=Math.imul(q,Ce),l=Math.imul(q,pt),l=l+Math.imul(M,Ce)|0,C=Math.imul(M,pt),I=I+Math.imul(L,gt)|0,l=l+Math.imul(L,yt)|0,l=l+Math.imul(B,gt)|0,C=C+Math.imul(B,yt)|0,I=I+Math.imul(v,mt)|0,l=l+Math.imul(v,wt)|0,l=l+Math.imul(b,mt)|0,C=C+Math.imul(b,wt)|0,I=I+Math.imul(te,vt)|0,l=l+Math.imul(te,Et)|0,l=l+Math.imul(ee,vt)|0,C=C+Math.imul(ee,Et)|0;var Wp=(N+I|0)+((l&8191)<<13)|0;N=(C+(l>>>13)|0)+(Wp>>>26)|0,Wp&=67108863,I=Math.imul(z,Ce),l=Math.imul(z,pt),l=l+Math.imul(H,Ce)|0,C=Math.imul(H,pt),I=I+Math.imul(q,gt)|0,l=l+Math.imul(q,yt)|0,l=l+Math.imul(M,gt)|0,C=C+Math.imul(M,yt)|0,I=I+Math.imul(L,mt)|0,l=l+Math.imul(L,wt)|0,l=l+Math.imul(B,mt)|0,C=C+Math.imul(B,wt)|0,I=I+Math.imul(v,vt)|0,l=l+Math.imul(v,Et)|0,l=l+Math.imul(b,vt)|0,C=C+Math.imul(b,Et)|0,I=I+Math.imul(te,At)|0,l=l+Math.imul(te,It)|0,l=l+Math.imul(ee,At)|0,C=C+Math.imul(ee,It)|0;var Yp=(N+I|0)+((l&8191)<<13)|0;N=(C+(l>>>13)|0)+(Yp>>>26)|0,Yp&=67108863,I=Math.imul(he,Ce),l=Math.imul(he,pt),l=l+Math.imul(de,Ce)|0,C=Math.imul(de,pt),I=I+Math.imul(z,gt)|0,l=l+Math.imul(z,yt)|0,l=l+Math.imul(H,gt)|0,C=C+Math.imul(H,yt)|0,I=I+Math.imul(q,mt)|0,l=l+Math.imul(q,wt)|0,l=l+Math.imul(M,mt)|0,C=C+Math.imul(M,wt)|0,I=I+Math.imul(L,vt)|0,l=l+Math.imul(L,Et)|0,l=l+Math.imul(B,vt)|0,C=C+Math.imul(B,Et)|0,I=I+Math.imul(v,At)|0,l=l+Math.imul(v,It)|0,l=l+Math.imul(b,At)|0,C=C+Math.imul(b,It)|0,I=I+Math.imul(te,_t)|0,l=l+Math.imul(te,bt)|0,l=l+Math.imul(ee,_t)|0,C=C+Math.imul(ee,bt)|0;var Jp=(N+I|0)+((l&8191)<<13)|0;N=(C+(l>>>13)|0)+(Jp>>>26)|0,Jp&=67108863,I=Math.imul(be,Ce),l=Math.imul(be,pt),l=l+Math.imul(Se,Ce)|0,C=Math.imul(Se,pt),I=I+Math.imul(he,gt)|0,l=l+Math.imul(he,yt)|0,l=l+Math.imul(de,gt)|0,C=C+Math.imul(de,yt)|0,I=I+Math.imul(z,mt)|0,l=l+Math.imul(z,wt)|0,l=l+Math.imul(H,mt)|0,C=C+Math.imul(H,wt)|0,I=I+Math.imul(q,vt)|0,l=l+Math.imul(q,Et)|0,l=l+Math.imul(M,vt)|0,C=C+Math.imul(M,Et)|0,I=I+Math.imul(L,At)|0,l=l+Math.imul(L,It)|0,l=l+Math.imul(B,At)|0,C=C+Math.imul(B,It)|0,I=I+Math.imul(v,_t)|0,l=l+Math.imul(v,bt)|0,l=l+Math.imul(b,_t)|0,C=C+Math.imul(b,bt)|0,I=I+Math.imul(te,Ct)|0,l=l+Math.imul(te,xt)|0,l=l+Math.imul(ee,Ct)|0,C=C+Math.imul(ee,xt)|0;var Xp=(N+I|0)+((l&8191)<<13)|0;N=(C+(l>>>13)|0)+(Xp>>>26)|0,Xp&=67108863,I=Math.imul(Ie,Ce),l=Math.imul(Ie,pt),l=l+Math.imul(Be,Ce)|0,C=Math.imul(Be,pt),I=I+Math.imul(be,gt)|0,l=l+Math.imul(be,yt)|0,l=l+Math.imul(Se,gt)|0,C=C+Math.imul(Se,yt)|0,I=I+Math.imul(he,mt)|0,l=l+Math.imul(he,wt)|0,l=l+Math.imul(de,mt)|0,C=C+Math.imul(de,wt)|0,I=I+Math.imul(z,vt)|0,l=l+Math.imul(z,Et)|0,l=l+Math.imul(H,vt)|0,C=C+Math.imul(H,Et)|0,I=I+Math.imul(q,At)|0,l=l+Math.imul(q,It)|0,l=l+Math.imul(M,At)|0,C=C+Math.imul(M,It)|0,I=I+Math.imul(L,_t)|0,l=l+Math.imul(L,bt)|0,l=l+Math.imul(B,_t)|0,C=C+Math.imul(B,bt)|0,I=I+Math.imul(v,Ct)|0,l=l+Math.imul(v,xt)|0,l=l+Math.imul(b,Ct)|0,C=C+Math.imul(b,xt)|0,I=I+Math.imul(te,St)|0,l=l+Math.imul(te,Tt)|0,l=l+Math.imul(ee,St)|0,C=C+Math.imul(ee,Tt)|0;var Zp=(N+I|0)+((l&8191)<<13)|0;N=(C+(l>>>13)|0)+(Zp>>>26)|0,Zp&=67108863,I=Math.imul(Xe,Ce),l=Math.imul(Xe,pt),l=l+Math.imul(Ze,Ce)|0,C=Math.imul(Ze,pt),I=I+Math.imul(Ie,gt)|0,l=l+Math.imul(Ie,yt)|0,l=l+Math.imul(Be,gt)|0,C=C+Math.imul(Be,yt)|0,I=I+Math.imul(be,mt)|0,l=l+Math.imul(be,wt)|0,l=l+Math.imul(Se,mt)|0,C=C+Math.imul(Se,wt)|0,I=I+Math.imul(he,vt)|0,l=l+Math.imul(he,Et)|0,l=l+Math.imul(de,vt)|0,C=C+Math.imul(de,Et)|0,I=I+Math.imul(z,At)|0,l=l+Math.imul(z,It)|0,l=l+Math.imul(H,At)|0,C=C+Math.imul(H,It)|0,I=I+Math.imul(q,_t)|0,l=l+Math.imul(q,bt)|0,l=l+Math.imul(M,_t)|0,C=C+Math.imul(M,bt)|0,I=I+Math.imul(L,Ct)|0,l=l+Math.imul(L,xt)|0,l=l+Math.imul(B,Ct)|0,C=C+Math.imul(B,xt)|0,I=I+Math.imul(v,St)|0,l=l+Math.imul(v,Tt)|0,l=l+Math.imul(b,St)|0,C=C+Math.imul(b,Tt)|0,I=I+Math.imul(te,Nt)|0,l=l+Math.imul(te,Dt)|0,l=l+Math.imul(ee,Nt)|0,C=C+Math.imul(ee,Dt)|0;var e0=(N+I|0)+((l&8191)<<13)|0;N=(C+(l>>>13)|0)+(e0>>>26)|0,e0&=67108863,I=Math.imul(Ke,Ce),l=Math.imul(Ke,pt),l=l+Math.imul(Ue,Ce)|0,C=Math.imul(Ue,pt),I=I+Math.imul(Xe,gt)|0,l=l+Math.imul(Xe,yt)|0,l=l+Math.imul(Ze,gt)|0,C=C+Math.imul(Ze,yt)|0,I=I+Math.imul(Ie,mt)|0,l=l+Math.imul(Ie,wt)|0,l=l+Math.imul(Be,mt)|0,C=C+Math.imul(Be,wt)|0,I=I+Math.imul(be,vt)|0,l=l+Math.imul(be,Et)|0,l=l+Math.imul(Se,vt)|0,C=C+Math.imul(Se,Et)|0,I=I+Math.imul(he,At)|0,l=l+Math.imul(he,It)|0,l=l+Math.imul(de,At)|0,C=C+Math.imul(de,It)|0,I=I+Math.imul(z,_t)|0,l=l+Math.imul(z,bt)|0,l=l+Math.imul(H,_t)|0,C=C+Math.imul(H,bt)|0,I=I+Math.imul(q,Ct)|0,l=l+Math.imul(q,xt)|0,l=l+Math.imul(M,Ct)|0,C=C+Math.imul(M,xt)|0,I=I+Math.imul(L,St)|0,l=l+Math.imul(L,Tt)|0,l=l+Math.imul(B,St)|0,C=C+Math.imul(B,Tt)|0,I=I+Math.imul(v,Nt)|0,l=l+Math.imul(v,Dt)|0,l=l+Math.imul(b,Nt)|0,C=C+Math.imul(b,Dt)|0,I=I+Math.imul(te,Ot)|0,l=l+Math.imul(te,Bt)|0,l=l+Math.imul(ee,Ot)|0,C=C+Math.imul(ee,Bt)|0;var t0=(N+I|0)+((l&8191)<<13)|0;N=(C+(l>>>13)|0)+(t0>>>26)|0,t0&=67108863,I=Math.imul(Ke,gt),l=Math.imul(Ke,yt),l=l+Math.imul(Ue,gt)|0,C=Math.imul(Ue,yt),I=I+Math.imul(Xe,mt)|0,l=l+Math.imul(Xe,wt)|0,l=l+Math.imul(Ze,mt)|0,C=C+Math.imul(Ze,wt)|0,I=I+Math.imul(Ie,vt)|0,l=l+Math.imul(Ie,Et)|0,l=l+Math.imul(Be,vt)|0,C=C+Math.imul(Be,Et)|0,I=I+Math.imul(be,At)|0,l=l+Math.imul(be,It)|0,l=l+Math.imul(Se,At)|0,C=C+Math.imul(Se,It)|0,I=I+Math.imul(he,_t)|0,l=l+Math.imul(he,bt)|0,l=l+Math.imul(de,_t)|0,C=C+Math.imul(de,bt)|0,I=I+Math.imul(z,Ct)|0,l=l+Math.imul(z,xt)|0,l=l+Math.imul(H,Ct)|0,C=C+Math.imul(H,xt)|0,I=I+Math.imul(q,St)|0,l=l+Math.imul(q,Tt)|0,l=l+Math.imul(M,St)|0,C=C+Math.imul(M,Tt)|0,I=I+Math.imul(L,Nt)|0,l=l+Math.imul(L,Dt)|0,l=l+Math.imul(B,Nt)|0,C=C+Math.imul(B,Dt)|0,I=I+Math.imul(v,Ot)|0,l=l+Math.imul(v,Bt)|0,l=l+Math.imul(b,Ot)|0,C=C+Math.imul(b,Bt)|0;var r0=(N+I|0)+((l&8191)<<13)|0;N=(C+(l>>>13)|0)+(r0>>>26)|0,r0&=67108863,I=Math.imul(Ke,mt),l=Math.imul(Ke,wt),l=l+Math.imul(Ue,mt)|0,C=Math.imul(Ue,wt),I=I+Math.imul(Xe,vt)|0,l=l+Math.imul(Xe,Et)|0,l=l+Math.imul(Ze,vt)|0,C=C+Math.imul(Ze,Et)|0,I=I+Math.imul(Ie,At)|0,l=l+Math.imul(Ie,It)|0,l=l+Math.imul(Be,At)|0,C=C+Math.imul(Be,It)|0,I=I+Math.imul(be,_t)|0,l=l+Math.imul(be,bt)|0,l=l+Math.imul(Se,_t)|0,C=C+Math.imul(Se,bt)|0,I=I+Math.imul(he,Ct)|0,l=l+Math.imul(he,xt)|0,l=l+Math.imul(de,Ct)|0,C=C+Math.imul(de,xt)|0,I=I+Math.imul(z,St)|0,l=l+Math.imul(z,Tt)|0,l=l+Math.imul(H,St)|0,C=C+Math.imul(H,Tt)|0,I=I+Math.imul(q,Nt)|0,l=l+Math.imul(q,Dt)|0,l=l+Math.imul(M,Nt)|0,C=C+Math.imul(M,Dt)|0,I=I+Math.imul(L,Ot)|0,l=l+Math.imul(L,Bt)|0,l=l+Math.imul(B,Ot)|0,C=C+Math.imul(B,Bt)|0;var i0=(N+I|0)+((l&8191)<<13)|0;N=(C+(l>>>13)|0)+(i0>>>26)|0,i0&=67108863,I=Math.imul(Ke,vt),l=Math.imul(Ke,Et),l=l+Math.imul(Ue,vt)|0,C=Math.imul(Ue,Et),I=I+Math.imul(Xe,At)|0,l=l+Math.imul(Xe,It)|0,l=l+Math.imul(Ze,At)|0,C=C+Math.imul(Ze,It)|0,I=I+Math.imul(Ie,_t)|0,l=l+Math.imul(Ie,bt)|0,l=l+Math.imul(Be,_t)|0,C=C+Math.imul(Be,bt)|0,I=I+Math.imul(be,Ct)|0,l=l+Math.imul(be,xt)|0,l=l+Math.imul(Se,Ct)|0,C=C+Math.imul(Se,xt)|0,I=I+Math.imul(he,St)|0,l=l+Math.imul(he,Tt)|0,l=l+Math.imul(de,St)|0,C=C+Math.imul(de,Tt)|0,I=I+Math.imul(z,Nt)|0,l=l+Math.imul(z,Dt)|0,l=l+Math.imul(H,Nt)|0,C=C+Math.imul(H,Dt)|0,I=I+Math.imul(q,Ot)|0,l=l+Math.imul(q,Bt)|0,l=l+Math.imul(M,Ot)|0,C=C+Math.imul(M,Bt)|0;var n0=(N+I|0)+((l&8191)<<13)|0;N=(C+(l>>>13)|0)+(n0>>>26)|0,n0&=67108863,I=Math.imul(Ke,At),l=Math.imul(Ke,It),l=l+Math.imul(Ue,At)|0,C=Math.imul(Ue,It),I=I+Math.imul(Xe,_t)|0,l=l+Math.imul(Xe,bt)|0,l=l+Math.imul(Ze,_t)|0,C=C+Math.imul(Ze,bt)|0,I=I+Math.imul(Ie,Ct)|0,l=l+Math.imul(Ie,xt)|0,l=l+Math.imul(Be,Ct)|0,C=C+Math.imul(Be,xt)|0,I=I+Math.imul(be,St)|0,l=l+Math.imul(be,Tt)|0,l=l+Math.imul(Se,St)|0,C=C+Math.imul(Se,Tt)|0,I=I+Math.imul(he,Nt)|0,l=l+Math.imul(he,Dt)|0,l=l+Math.imul(de,Nt)|0,C=C+Math.imul(de,Dt)|0,I=I+Math.imul(z,Ot)|0,l=l+Math.imul(z,Bt)|0,l=l+Math.imul(H,Ot)|0,C=C+Math.imul(H,Bt)|0;var s0=(N+I|0)+((l&8191)<<13)|0;N=(C+(l>>>13)|0)+(s0>>>26)|0,s0&=67108863,I=Math.imul(Ke,_t),l=Math.imul(Ke,bt),l=l+Math.imul(Ue,_t)|0,C=Math.imul(Ue,bt),I=I+Math.imul(Xe,Ct)|0,l=l+Math.imul(Xe,xt)|0,l=l+Math.imul(Ze,Ct)|0,C=C+Math.imul(Ze,xt)|0,I=I+Math.imul(Ie,St)|0,l=l+Math.imul(Ie,Tt)|0,l=l+Math.imul(Be,St)|0,C=C+Math.imul(Be,Tt)|0,I=I+Math.imul(be,Nt)|0,l=l+Math.imul(be,Dt)|0,l=l+Math.imul(Se,Nt)|0,C=C+Math.imul(Se,Dt)|0,I=I+Math.imul(he,Ot)|0,l=l+Math.imul(he,Bt)|0,l=l+Math.imul(de,Ot)|0,C=C+Math.imul(de,Bt)|0;var o0=(N+I|0)+((l&8191)<<13)|0;N=(C+(l>>>13)|0)+(o0>>>26)|0,o0&=67108863,I=Math.imul(Ke,Ct),l=Math.imul(Ke,xt),l=l+Math.imul(Ue,Ct)|0,C=Math.imul(Ue,xt),I=I+Math.imul(Xe,St)|0,l=l+Math.imul(Xe,Tt)|0,l=l+Math.imul(Ze,St)|0,C=C+Math.imul(Ze,Tt)|0,I=I+Math.imul(Ie,Nt)|0,l=l+Math.imul(Ie,Dt)|0,l=l+Math.imul(Be,Nt)|0,C=C+Math.imul(Be,Dt)|0,I=I+Math.imul(be,Ot)|0,l=l+Math.imul(be,Bt)|0,l=l+Math.imul(Se,Ot)|0,C=C+Math.imul(Se,Bt)|0;var a0=(N+I|0)+((l&8191)<<13)|0;N=(C+(l>>>13)|0)+(a0>>>26)|0,a0&=67108863,I=Math.imul(Ke,St),l=Math.imul(Ke,Tt),l=l+Math.imul(Ue,St)|0,C=Math.imul(Ue,Tt),I=I+Math.imul(Xe,Nt)|0,l=l+Math.imul(Xe,Dt)|0,l=l+Math.imul(Ze,Nt)|0,C=C+Math.imul(Ze,Dt)|0,I=I+Math.imul(Ie,Ot)|0,l=l+Math.imul(Ie,Bt)|0,l=l+Math.imul(Be,Ot)|0,C=C+Math.imul(Be,Bt)|0;var u0=(N+I|0)+((l&8191)<<13)|0;N=(C+(l>>>13)|0)+(u0>>>26)|0,u0&=67108863,I=Math.imul(Ke,Nt),l=Math.imul(Ke,Dt),l=l+Math.imul(Ue,Nt)|0,C=Math.imul(Ue,Dt),I=I+Math.imul(Xe,Ot)|0,l=l+Math.imul(Xe,Bt)|0,l=l+Math.imul(Ze,Ot)|0,C=C+Math.imul(Ze,Bt)|0;var c0=(N+I|0)+((l&8191)<<13)|0;N=(C+(l>>>13)|0)+(c0>>>26)|0,c0&=67108863,I=Math.imul(Ke,Ot),l=Math.imul(Ke,Bt),l=l+Math.imul(Ue,Ot)|0,C=Math.imul(Ue,Bt);var l0=(N+I|0)+((l&8191)<<13)|0;return N=(C+(l>>>13)|0)+(l0>>>26)|0,l0&=67108863,x[0]=zp,x[1]=kp,x[2]=$p,x[3]=Wp,x[4]=Yp,x[5]=Jp,x[6]=Xp,x[7]=Zp,x[8]=e0,x[9]=t0,x[10]=r0,x[11]=i0,x[12]=n0,x[13]=s0,x[14]=o0,x[15]=a0,x[16]=u0,x[17]=c0,x[18]=l0,N!==0&&(x[19]=N,g.length++),g};Math.imul||(j=Q);function ie(E,u,d){d.negative=u.negative^E.negative,d.length=E.length+u.length;for(var g=0,m=0,w=0;w<d.length-1;w++){var x=m;m=0;for(var N=g&67108863,I=Math.min(w,u.length-1),l=Math.max(0,w-E.length+1);l<=I;l++){var C=w-l,Z=E.words[C]|0,te=u.words[l]|0,ee=Z*te,ae=ee&67108863;x=x+(ee/67108864|0)|0,ae=ae+N|0,N=ae&67108863,x=x+(ae>>>26)|0,m+=x>>>26,x&=67108863}d.words[w]=N,g=x,x=m}return g!==0?d.words[w]=g:d.length--,d._strip()}function Y(E,u,d){return ie(E,u,d)}n.prototype.mulTo=function(u,d){var g,m=this.length+u.length;return this.length===10&&u.length===10?g=j(this,u,d):m<63?g=Q(this,u,d):m<1024?g=ie(this,u,d):g=Y(this,u,d),g};function W(E,u){this.x=E,this.y=u}W.prototype.makeRBT=function(u){for(var d=new Array(u),g=n.prototype._countBits(u)-1,m=0;m<u;m++)d[m]=this.revBin(m,g,u);return d},W.prototype.revBin=function(u,d,g){if(u===0||u===g-1)return u;for(var m=0,w=0;w<d;w++)m|=(u&1)<<d-w-1,u>>=1;return m},W.prototype.permute=function(u,d,g,m,w,x){for(var N=0;N<x;N++)m[N]=d[u[N]],w[N]=g[u[N]]},W.prototype.transform=function(u,d,g,m,w,x){this.permute(x,u,d,g,m,w);for(var N=1;N<w;N<<=1)for(var I=N<<1,l=Math.cos(2*Math.PI/I),C=Math.sin(2*Math.PI/I),Z=0;Z<w;Z+=I)for(var te=l,ee=C,ae=0;ae<N;ae++){var v=g[Z+ae],b=m[Z+ae],S=g[Z+ae+N],L=m[Z+ae+N],B=te*S-ee*L;L=te*L+ee*S,S=B,g[Z+ae]=v+S,m[Z+ae]=b+L,g[Z+ae+N]=v-S,m[Z+ae+N]=b-L,ae!==I&&(B=l*te-C*ee,ee=l*ee+C*te,te=B)}},W.prototype.guessLen13b=function(u,d){var g=Math.max(d,u)|1,m=g&1,w=0;for(g=g/2|0;g;g=g>>>1)w++;return 1<<w+1+m},W.prototype.conjugate=function(u,d,g){if(!(g<=1))for(var m=0;m<g/2;m++){var w=u[m];u[m]=u[g-m-1],u[g-m-1]=w,w=d[m],d[m]=-d[g-m-1],d[g-m-1]=-w}},W.prototype.normalize13b=function(u,d){for(var g=0,m=0;m<d/2;m++){var w=Math.round(u[2*m+1]/d)*8192+Math.round(u[2*m]/d)+g;u[m]=w&67108863,w<67108864?g=0:g=w/67108864|0}return u},W.prototype.convert13b=function(u,d,g,m){for(var w=0,x=0;x<d;x++)w=w+(u[x]|0),g[2*x]=w&8191,w=w>>>13,g[2*x+1]=w&8191,w=w>>>13;for(x=2*d;x<m;++x)g[x]=0;t(w===0),t((w&-8192)===0)},W.prototype.stub=function(u){for(var d=new Array(u),g=0;g<u;g++)d[g]=0;return d},W.prototype.mulp=function(u,d,g){var m=2*this.guessLen13b(u.length,d.length),w=this.makeRBT(m),x=this.stub(m),N=new Array(m),I=new Array(m),l=new Array(m),C=new Array(m),Z=new Array(m),te=new Array(m),ee=g.words;ee.length=m,this.convert13b(u.words,u.length,N,m),this.convert13b(d.words,d.length,C,m),this.transform(N,x,I,l,m,w),this.transform(C,x,Z,te,m,w);for(var ae=0;ae<m;ae++){var v=I[ae]*Z[ae]-l[ae]*te[ae];l[ae]=I[ae]*te[ae]+l[ae]*Z[ae],I[ae]=v}return this.conjugate(I,l,m),this.transform(I,l,ee,x,m,w),this.conjugate(ee,x,m),this.normalize13b(ee,m),g.negative=u.negative^d.negative,g.length=u.length+d.length,g._strip()},n.prototype.mul=function(u){var d=new n(null);return d.words=new Array(this.length+u.length),this.mulTo(u,d)},n.prototype.mulf=function(u){var d=new n(null);return d.words=new Array(this.length+u.length),Y(this,u,d)},n.prototype.imul=function(u){return this.clone().mulTo(u,this)},n.prototype.imuln=function(u){var d=u<0;d&&(u=-u),t(typeof u=="number"),t(u<67108864);for(var g=0,m=0;m<this.length;m++){var w=(this.words[m]|0)*u,x=(w&67108863)+(g&67108863);g>>=26,g+=w/67108864|0,g+=x>>>26,this.words[m]=x&67108863}return g!==0&&(this.words[m]=g,this.length++),d?this.ineg():this},n.prototype.muln=function(u){return this.clone().imuln(u)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(u){var d=V(u);if(d.length===0)return new n(1);for(var g=this,m=0;m<d.length&&d[m]===0;m++,g=g.sqr());if(++m<d.length)for(var w=g.sqr();m<d.length;m++,w=w.sqr())d[m]!==0&&(g=g.mul(w));return g},n.prototype.iushln=function(u){t(typeof u=="number"&&u>=0);var d=u%26,g=(u-d)/26,m=67108863>>>26-d<<26-d,w;if(d!==0){var x=0;for(w=0;w<this.length;w++){var N=this.words[w]&m,I=(this.words[w]|0)-N<<d;this.words[w]=I|x,x=N>>>26-d}x&&(this.words[w]=x,this.length++)}if(g!==0){for(w=this.length-1;w>=0;w--)this.words[w+g]=this.words[w];for(w=0;w<g;w++)this.words[w]=0;this.length+=g}return this._strip()},n.prototype.ishln=function(u){return t(this.negative===0),this.iushln(u)},n.prototype.iushrn=function(u,d,g){t(typeof u=="number"&&u>=0);var m;d?m=(d-d%26)/26:m=0;var w=u%26,x=Math.min((u-w)/26,this.length),N=67108863^67108863>>>w<<w,I=g;if(m-=x,m=Math.max(0,m),I){for(var l=0;l<x;l++)I.words[l]=this.words[l];I.length=x}if(x!==0)if(this.length>x)for(this.length-=x,l=0;l<this.length;l++)this.words[l]=this.words[l+x];else this.words[0]=0,this.length=1;var C=0;for(l=this.length-1;l>=0&&(C!==0||l>=m);l--){var Z=this.words[l]|0;this.words[l]=C<<26-w|Z>>>w,C=Z&N}return I&&C!==0&&(I.words[I.length++]=C),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},n.prototype.ishrn=function(u,d,g){return t(this.negative===0),this.iushrn(u,d,g)},n.prototype.shln=function(u){return this.clone().ishln(u)},n.prototype.ushln=function(u){return this.clone().iushln(u)},n.prototype.shrn=function(u){return this.clone().ishrn(u)},n.prototype.ushrn=function(u){return this.clone().iushrn(u)},n.prototype.testn=function(u){t(typeof u=="number"&&u>=0);var d=u%26,g=(u-d)/26,m=1<<d;if(this.length<=g)return!1;var w=this.words[g];return!!(w&m)},n.prototype.imaskn=function(u){t(typeof u=="number"&&u>=0);var d=u%26,g=(u-d)/26;if(t(this.negative===0,"imaskn works only with positive numbers"),this.length<=g)return this;if(d!==0&&g++,this.length=Math.min(g,this.length),d!==0){var m=67108863^67108863>>>d<<d;this.words[this.length-1]&=m}return this._strip()},n.prototype.maskn=function(u){return this.clone().imaskn(u)},n.prototype.iaddn=function(u){return t(typeof u=="number"),t(u<67108864),u<0?this.isubn(-u):this.negative!==0?this.length===1&&(this.words[0]|0)<=u?(this.words[0]=u-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},n.prototype._iaddn=function(u){this.words[0]+=u;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},n.prototype.isubn=function(u){if(t(typeof u=="number"),t(u<67108864),u<0)return this.iaddn(-u);if(this.negative!==0)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this._strip()},n.prototype.addn=function(u){return this.clone().iaddn(u)},n.prototype.subn=function(u){return this.clone().isubn(u)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(u,d,g){var m=u.length+g,w;this._expand(m);var x,N=0;for(w=0;w<u.length;w++){x=(this.words[w+g]|0)+N;var I=(u.words[w]|0)*d;x-=I&67108863,N=(x>>26)-(I/67108864|0),this.words[w+g]=x&67108863}for(;w<this.length-g;w++)x=(this.words[w+g]|0)+N,N=x>>26,this.words[w+g]=x&67108863;if(N===0)return this._strip();for(t(N===-1),N=0,w=0;w<this.length;w++)x=-(this.words[w]|0)+N,N=x>>26,this.words[w]=x&67108863;return this.negative=1,this._strip()},n.prototype._wordDiv=function(u,d){var g=this.length-u.length,m=this.clone(),w=u,x=w.words[w.length-1]|0,N=this._countBits(x);g=26-N,g!==0&&(w=w.ushln(g),m.iushln(g),x=w.words[w.length-1]|0);var I=m.length-w.length,l;if(d!=="mod"){l=new n(null),l.length=I+1,l.words=new Array(l.length);for(var C=0;C<l.length;C++)l.words[C]=0}var Z=m.clone()._ishlnsubmul(w,1,I);Z.negative===0&&(m=Z,l&&(l.words[I]=1));for(var te=I-1;te>=0;te--){var ee=(m.words[w.length+te]|0)*67108864+(m.words[w.length+te-1]|0);for(ee=Math.min(ee/x|0,67108863),m._ishlnsubmul(w,ee,te);m.negative!==0;)ee--,m.negative=0,m._ishlnsubmul(w,1,te),m.isZero()||(m.negative^=1);l&&(l.words[te]=ee)}return l&&l._strip(),m._strip(),d!=="div"&&g!==0&&m.iushrn(g),{div:l||null,mod:m}},n.prototype.divmod=function(u,d,g){if(t(!u.isZero()),this.isZero())return{div:new n(0),mod:new n(0)};var m,w,x;return this.negative!==0&&u.negative===0?(x=this.neg().divmod(u,d),d!=="mod"&&(m=x.div.neg()),d!=="div"&&(w=x.mod.neg(),g&&w.negative!==0&&w.iadd(u)),{div:m,mod:w}):this.negative===0&&u.negative!==0?(x=this.divmod(u.neg(),d),d!=="mod"&&(m=x.div.neg()),{div:m,mod:x.mod}):this.negative&u.negative?(x=this.neg().divmod(u.neg(),d),d!=="div"&&(w=x.mod.neg(),g&&w.negative!==0&&w.isub(u)),{div:x.div,mod:w}):u.length>this.length||this.cmp(u)<0?{div:new n(0),mod:this}:u.length===1?d==="div"?{div:this.divn(u.words[0]),mod:null}:d==="mod"?{div:null,mod:new n(this.modrn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new n(this.modrn(u.words[0]))}:this._wordDiv(u,d)},n.prototype.div=function(u){return this.divmod(u,"div",!1).div},n.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},n.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},n.prototype.divRound=function(u){var d=this.divmod(u);if(d.mod.isZero())return d.div;var g=d.div.negative!==0?d.mod.isub(u):d.mod,m=u.ushrn(1),w=u.andln(1),x=g.cmp(m);return x<0||w===1&&x===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},n.prototype.modrn=function(u){var d=u<0;d&&(u=-u),t(u<=67108863);for(var g=(1<<26)%u,m=0,w=this.length-1;w>=0;w--)m=(g*m+(this.words[w]|0))%u;return d?-m:m},n.prototype.modn=function(u){return this.modrn(u)},n.prototype.idivn=function(u){var d=u<0;d&&(u=-u),t(u<=67108863);for(var g=0,m=this.length-1;m>=0;m--){var w=(this.words[m]|0)+g*67108864;this.words[m]=w/u|0,g=w%u}return this._strip(),d?this.ineg():this},n.prototype.divn=function(u){return this.clone().idivn(u)},n.prototype.egcd=function(u){t(u.negative===0),t(!u.isZero());var d=this,g=u.clone();d.negative!==0?d=d.umod(u):d=d.clone();for(var m=new n(1),w=new n(0),x=new n(0),N=new n(1),I=0;d.isEven()&&g.isEven();)d.iushrn(1),g.iushrn(1),++I;for(var l=g.clone(),C=d.clone();!d.isZero();){for(var Z=0,te=1;!(d.words[0]&te)&&Z<26;++Z,te<<=1);if(Z>0)for(d.iushrn(Z);Z-- >0;)(m.isOdd()||w.isOdd())&&(m.iadd(l),w.isub(C)),m.iushrn(1),w.iushrn(1);for(var ee=0,ae=1;!(g.words[0]&ae)&&ee<26;++ee,ae<<=1);if(ee>0)for(g.iushrn(ee);ee-- >0;)(x.isOdd()||N.isOdd())&&(x.iadd(l),N.isub(C)),x.iushrn(1),N.iushrn(1);d.cmp(g)>=0?(d.isub(g),m.isub(x),w.isub(N)):(g.isub(d),x.isub(m),N.isub(w))}return{a:x,b:N,gcd:g.iushln(I)}},n.prototype._invmp=function(u){t(u.negative===0),t(!u.isZero());var d=this,g=u.clone();d.negative!==0?d=d.umod(u):d=d.clone();for(var m=new n(1),w=new n(0),x=g.clone();d.cmpn(1)>0&&g.cmpn(1)>0;){for(var N=0,I=1;!(d.words[0]&I)&&N<26;++N,I<<=1);if(N>0)for(d.iushrn(N);N-- >0;)m.isOdd()&&m.iadd(x),m.iushrn(1);for(var l=0,C=1;!(g.words[0]&C)&&l<26;++l,C<<=1);if(l>0)for(g.iushrn(l);l-- >0;)w.isOdd()&&w.iadd(x),w.iushrn(1);d.cmp(g)>=0?(d.isub(g),m.isub(w)):(g.isub(d),w.isub(m))}var Z;return d.cmpn(1)===0?Z=m:Z=w,Z.cmpn(0)<0&&Z.iadd(u),Z},n.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var d=this.clone(),g=u.clone();d.negative=0,g.negative=0;for(var m=0;d.isEven()&&g.isEven();m++)d.iushrn(1),g.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;g.isEven();)g.iushrn(1);var w=d.cmp(g);if(w<0){var x=d;d=g,g=x}else if(w===0||g.cmpn(1)===0)break;d.isub(g)}while(!0);return g.iushln(m)},n.prototype.invm=function(u){return this.egcd(u).a.umod(u)},n.prototype.isEven=function(){return(this.words[0]&1)===0},n.prototype.isOdd=function(){return(this.words[0]&1)===1},n.prototype.andln=function(u){return this.words[0]&u},n.prototype.bincn=function(u){t(typeof u=="number");var d=u%26,g=(u-d)/26,m=1<<d;if(this.length<=g)return this._expand(g+1),this.words[g]|=m,this;for(var w=m,x=g;w!==0&&x<this.length;x++){var N=this.words[x]|0;N+=w,w=N>>>26,N&=67108863,this.words[x]=N}return w!==0&&(this.words[x]=w,this.length++),this},n.prototype.isZero=function(){return this.length===1&&this.words[0]===0},n.prototype.cmpn=function(u){var d=u<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this._strip();var g;if(this.length>1)g=1;else{d&&(u=-u),t(u<=67108863,"Number is too big");var m=this.words[0]|0;g=m===u?0:m<u?-1:1}return this.negative!==0?-g|0:g},n.prototype.cmp=function(u){if(this.negative!==0&&u.negative===0)return-1;if(this.negative===0&&u.negative!==0)return 1;var d=this.ucmp(u);return this.negative!==0?-d|0:d},n.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var d=0,g=this.length-1;g>=0;g--){var m=this.words[g]|0,w=u.words[g]|0;if(m!==w){m<w?d=-1:m>w&&(d=1);break}}return d},n.prototype.gtn=function(u){return this.cmpn(u)===1},n.prototype.gt=function(u){return this.cmp(u)===1},n.prototype.gten=function(u){return this.cmpn(u)>=0},n.prototype.gte=function(u){return this.cmp(u)>=0},n.prototype.ltn=function(u){return this.cmpn(u)===-1},n.prototype.lt=function(u){return this.cmp(u)===-1},n.prototype.lten=function(u){return this.cmpn(u)<=0},n.prototype.lte=function(u){return this.cmp(u)<=0},n.prototype.eqn=function(u){return this.cmpn(u)===0},n.prototype.eq=function(u){return this.cmp(u)===0},n.red=function(u){return new J(u)},n.prototype.toRed=function(u){return t(!this.red,"Already a number in reduction context"),t(this.negative===0,"red works only with positives"),u.convertTo(this)._forceRed(u)},n.prototype.fromRed=function(){return t(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(u){return this.red=u,this},n.prototype.forceRed=function(u){return t(!this.red,"Already a number in reduction context"),this._forceRed(u)},n.prototype.redAdd=function(u){return t(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},n.prototype.redIAdd=function(u){return t(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},n.prototype.redSub=function(u){return t(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},n.prototype.redISub=function(u){return t(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},n.prototype.redShl=function(u){return t(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},n.prototype.redMul=function(u){return t(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},n.prototype.redIMul=function(u){return t(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},n.prototype.redSqr=function(){return t(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return t(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return t(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return t(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return t(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(u){return t(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var $={k256:null,p224:null,p192:null,p25519:null};function k(E,u){this.name=E,this.p=new n(u,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}k.prototype._tmp=function(){var u=new n(null);return u.words=new Array(Math.ceil(this.n/13)),u},k.prototype.ireduce=function(u){var d=u,g;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),g=d.bitLength();while(g>this.n);var m=g<this.n?-1:d.ucmp(this.p);return m===0?(d.words[0]=0,d.length=1):m>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},k.prototype.split=function(u,d){u.iushrn(this.n,0,d)},k.prototype.imulK=function(u){return u.imul(this.k)};function R(){k.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(R,k),R.prototype.split=function(u,d){for(var g=4194303,m=Math.min(u.length,9),w=0;w<m;w++)d.words[w]=u.words[w];if(d.length=m,u.length<=9){u.words[0]=0,u.length=1;return}var x=u.words[9];for(d.words[d.length++]=x&g,w=10;w<u.length;w++){var N=u.words[w]|0;u.words[w-10]=(N&g)<<4|x>>>22,x=N}x>>>=22,u.words[w-10]=x,x===0&&u.length>10?u.length-=10:u.length-=9},R.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var d=0,g=0;g<u.length;g++){var m=u.words[g]|0;d+=m*977,u.words[g]=d&67108863,d=m*64+(d/67108864|0)}return u.words[u.length-1]===0&&(u.length--,u.words[u.length-1]===0&&u.length--),u};function F(){k.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(F,k);function K(){k.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(K,k);function ce(){k.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(ce,k),ce.prototype.imulK=function(u){for(var d=0,g=0;g<u.length;g++){var m=(u.words[g]|0)*19+d,w=m&67108863;m>>>=26,u.words[g]=w,d=m}return d!==0&&(u.words[u.length++]=d),u},n._prime=function(u){if($[u])return $[u];var d;if(u==="k256")d=new R;else if(u==="p224")d=new F;else if(u==="p192")d=new K;else if(u==="p25519")d=new ce;else throw new Error("Unknown prime "+u);return $[u]=d,d};function J(E){if(typeof E=="string"){var u=n._prime(E);this.m=u.p,this.prime=u}else t(E.gtn(1),"modulus must be greater than 1"),this.m=E,this.prime=null}J.prototype._verify1=function(u){t(u.negative===0,"red works only with positives"),t(u.red,"red works only with red numbers")},J.prototype._verify2=function(u,d){t((u.negative|d.negative)===0,"red works only with positives"),t(u.red&&u.red===d.red,"red works only with red numbers")},J.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):(h(u,u.umod(this.m)._forceRed(this)),u)},J.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},J.prototype.add=function(u,d){this._verify2(u,d);var g=u.add(d);return g.cmp(this.m)>=0&&g.isub(this.m),g._forceRed(this)},J.prototype.iadd=function(u,d){this._verify2(u,d);var g=u.iadd(d);return g.cmp(this.m)>=0&&g.isub(this.m),g},J.prototype.sub=function(u,d){this._verify2(u,d);var g=u.sub(d);return g.cmpn(0)<0&&g.iadd(this.m),g._forceRed(this)},J.prototype.isub=function(u,d){this._verify2(u,d);var g=u.isub(d);return g.cmpn(0)<0&&g.iadd(this.m),g},J.prototype.shl=function(u,d){return this._verify1(u),this.imod(u.ushln(d))},J.prototype.imul=function(u,d){return this._verify2(u,d),this.imod(u.imul(d))},J.prototype.mul=function(u,d){return this._verify2(u,d),this.imod(u.mul(d))},J.prototype.isqr=function(u){return this.imul(u,u.clone())},J.prototype.sqr=function(u){return this.mul(u,u)},J.prototype.sqrt=function(u){if(u.isZero())return u.clone();var d=this.m.andln(3);if(t(d%2===1),d===3){var g=this.m.add(new n(1)).iushrn(2);return this.pow(u,g)}for(var m=this.m.subn(1),w=0;!m.isZero()&&m.andln(1)===0;)w++,m.iushrn(1);t(!m.isZero());var x=new n(1).toRed(this),N=x.redNeg(),I=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new n(2*l*l).toRed(this);this.pow(l,I).cmp(N)!==0;)l.redIAdd(N);for(var C=this.pow(l,m),Z=this.pow(u,m.addn(1).iushrn(1)),te=this.pow(u,m),ee=w;te.cmp(x)!==0;){for(var ae=te,v=0;ae.cmp(x)!==0;v++)ae=ae.redSqr();t(v<ee);var b=this.pow(C,new n(1).iushln(ee-v-1));Z=Z.redMul(b),C=b.redSqr(),te=te.redMul(C),ee=v}return Z},J.prototype.invm=function(u){var d=u._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},J.prototype.pow=function(u,d){if(d.isZero())return new n(1).toRed(this);if(d.cmpn(1)===0)return u.clone();var g=4,m=new Array(1<<g);m[0]=new n(1).toRed(this),m[1]=u;for(var w=2;w<m.length;w++)m[w]=this.mul(m[w-1],u);var x=m[0],N=0,I=0,l=d.bitLength()%26;for(l===0&&(l=26),w=d.length-1;w>=0;w--){for(var C=d.words[w],Z=l-1;Z>=0;Z--){var te=C>>Z&1;if(x!==m[0]&&(x=this.sqr(x)),te===0&&N===0){I=0;continue}N<<=1,N|=te,I++,!(I!==g&&(w!==0||Z!==0))&&(x=this.mul(x,m[N]),I=0,N=0)}l=26}return x},J.prototype.convertTo=function(u){var d=u.umod(this.m);return d===u?d.clone():d},J.prototype.convertFrom=function(u){var d=u.clone();return d.red=null,d},n.mont=function(u){return new X(u)};function X(E){J.call(this,E),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(X,J),X.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},X.prototype.convertFrom=function(u){var d=this.imod(u.mul(this.rinv));return d.red=null,d},X.prototype.imul=function(u,d){if(u.isZero()||d.isZero())return u.words[0]=0,u.length=1,u;var g=u.imul(d),m=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=g.isub(m).iushrn(this.shift),x=w;return w.cmp(this.m)>=0?x=w.isub(this.m):w.cmpn(0)<0&&(x=w.iadd(this.m)),x._forceRed(this)},X.prototype.mul=function(u,d){if(u.isZero()||d.isZero())return new n(0)._forceRed(this);var g=u.mul(d),m=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=g.isub(m).iushrn(this.shift),x=w;return w.cmp(this.m)>=0?x=w.isub(this.m):w.cmpn(0)<0&&(x=w.iadd(this.m)),x._forceRed(this)},X.prototype.invm=function(u){var d=this.imod(u._invmp(this.m).mul(this.r2));return d._forceRed(this)}})(typeof Fv>"u"||Fv,mD)});var vD=P(_p=>{"use strict";f();Object.defineProperty(_p,"__esModule",{value:!0});_p.TransactionStatus=void 0;var vl=class{constructor(e){this.status=(e||"").toLowerCase()}static createUnknown(){return new vl("unknown")}isPending(){return this.status=="received"||this.status=="pending"}isExecuted(){return this.isSuccessful()||this.isFailed()||this.isInvalid()}isSuccessful(){return this.status=="executed"||this.status=="success"||this.status=="successful"}isFailed(){return this.status=="fail"||this.status=="failed"||this.status=="unsuccessful"||this.isInvalid()}isInvalid(){return this.status=="invalid"}toString(){return this.status}valueOf(){return this.status}equals(e){return e?this.status==e.status:!1}};_p.TransactionStatus=vl});var Mu=P(Jt=>{"use strict";f();var fG=Jt&&Jt.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),hG=Jt&&Jt.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),dG=Jt&&Jt.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&fG(e,r,t);return hG(e,r),e};Object.defineProperty(Jt,"__esModule",{value:!0});Jt.zeroPadStringIfOddLength=Jt.isPaddedHex=Jt.numberToPaddedHex=Jt.Nonce=Jt.Address=void 0;var ED=dG(zl()),pG="erd",El=class{constructor(e){this.value=e}static fromPubkey(e){let t=ED.toWords(e),i=ED.encode(pG,t);return new El(i)}bech32(){return this.value}toString(){return this.bech32()}};Jt.Address=El;var Uv=class{constructor(e){this.value=e}valueOf(){return this.value}hex(){return AD(this.value)}};Jt.Nonce=Uv;function AD(r){let e=r.toString(16);return ID(e)}Jt.numberToPaddedHex=AD;function gG(r){r=r||"";let e=y.Buffer.from(r,"hex").toString("hex");return r.toUpperCase()==e.toUpperCase()}Jt.isPaddedHex=gG;function ID(r){return r=r||"",r.length%2==1?"0"+r:r}Jt.zeroPadStringIfOddLength=ID});var bD=P(bp=>{"use strict";f();Object.defineProperty(bp,"__esModule",{value:!0});bp.TransactionReceipt=void 0;var _D=Mu(),Al=class{constructor(){this.value="",this.sender=new _D.Address(""),this.data="",this.hash=""}static fromHttpResponse(e){let t=new Al;return t.value=(e.value||0).toString(),t.sender=new _D.Address(e.sender),t.data=e.data,t.hash=e.txHash,t}};bp.TransactionReceipt=Al});var CD=P(qi=>{"use strict";f();Object.defineProperty(qi,"__esModule",{value:!0});qi.ErrContractQuery=qi.ErrNetworkProvider=qi.ErrUnexpectedCondition=qi.Err=void 0;var Ru=class extends Error{constructor(e,t){super(e),this.inner=void 0,this.inner=t}};qi.Err=Ru;var qv=class extends Ru{constructor(e){super(`Unexpected condition: [${e}]`)}};qi.ErrUnexpectedCondition=qv;var Vv=class extends Ru{constructor(e,t,i){let n=`Request error on url [${e}]: [${t}]`;super(n,i)}};qi.ErrNetworkProvider=Vv;var Hv=class extends Ru{constructor(e){super(e.message.replace("executeQuery:",""))}};qi.ErrContractQuery=Hv});var SD=P(Lu=>{"use strict";f();Object.defineProperty(Lu,"__esModule",{value:!0});Lu.TransactionEventTopic=Lu.TransactionEvent=void 0;var xD=Mu(),Il=class{constructor(e){this.address=new xD.Address(""),this.identifier="",this.topics=[],this.data="",Object.assign(this,e)}static fromHttpResponse(e){let t=new Il;return t.address=new xD.Address(e.address),t.identifier=e.identifier||"",t.topics=(e.topics||[]).map(i=>new Cp(i)),t.data=y.Buffer.from(e.data||"","base64").toString(),t}findFirstOrNoneTopic(e){return this.topics.filter(t=>e(t))[0]}getLastTopic(){return this.topics[this.topics.length-1]}};Lu.TransactionEvent=Il;var Cp=class{constructor(e){this.raw=y.Buffer.from(e||"","base64")}toString(){return this.raw.toString("utf8")}hex(){return this.raw.toString("hex")}valueOf(){return this.raw}};Lu.TransactionEventTopic=Cp});var Qv=P(xp=>{"use strict";f();Object.defineProperty(xp,"__esModule",{value:!0});xp.TransactionLogs=void 0;var yG=CD(),TD=Mu(),mG=SD(),_l=class{constructor(e){this.address=new TD.Address(""),this.events=[],Object.assign(this,e)}static fromHttpResponse(e){let t=new _l;return t.address=new TD.Address(e.address),t.events=(e.events||[]).map(i=>mG.TransactionEvent.fromHttpResponse(i)),t}findSingleOrNoneEvent(e,t){let i=this.findEvents(e,t);if(i.length>1)throw new yG.ErrUnexpectedCondition(`more than one event of type ${e}`);return i[0]}findFirstOrNoneEvent(e,t){return this.findEvents(e,t)[0]}findEvents(e,t){let i=this.events.filter(n=>n.identifier==e);return t&&(i=i.filter(n=>t(n))),i}};xp.TransactionLogs=_l});var DD=P(Uu=>{"use strict";f();Object.defineProperty(Uu,"__esModule",{value:!0});Uu.ContractResultItem=Uu.ContractResults=void 0;var ND=Qv(),Sp=Mu(),Fu=class{constructor(e){this.items=e,this.items.sort(function(t,i){return t.nonce.valueOf()-i.nonce.valueOf()})}static fromProxyHttpResponse(e){let t=e.map(i=>cn.fromProxyHttpResponse(i));return new Fu(t)}static fromApiHttpResponse(e){let t=e.map(i=>cn.fromApiHttpResponse(i));return new Fu(t)}};Uu.ContractResults=Fu;var cn=class{constructor(e){this.hash="",this.nonce=0,this.value="",this.receiver=new Sp.Address(""),this.sender=new Sp.Address(""),this.data="",this.previousHash="",this.originalHash="",this.gasLimit=0,this.gasPrice=0,this.callType=0,this.returnMessage="",this.logs=new ND.TransactionLogs,Object.assign(this,e)}static fromProxyHttpResponse(e){return cn.fromHttpResponse(e)}static fromApiHttpResponse(e){let t=cn.fromHttpResponse(e);return t.data=y.Buffer.from(t.data,"base64").toString(),t.callType=Number(t.callType),t}static fromHttpResponse(e){let t=new cn;return t.hash=e.hash,t.nonce=Number(e.nonce||0),t.value=(e.value||0).toString(),t.receiver=new Sp.Address(e.receiver),t.sender=new Sp.Address(e.sender),t.previousHash=e.prevTxHash,t.originalHash=e.originalTxHash,t.gasLimit=Number(e.gasLimit||0),t.gasPrice=Number(e.gasPrice||0),t.data=e.data||"",t.callType=e.callType,t.returnMessage=e.returnMessage,t.logs=ND.TransactionLogs.fromHttpResponse(e.logs||{}),t}};Uu.ContractResultItem=cn});var OD=P(es=>{"use strict";f();var wG=es&&es.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(es,"__esModule",{value:!0});es.EsdtContractAddress=es.MaxUint64AsBigNumber=void 0;var vG=wG(Qr()),EG=Mu();es.MaxUint64AsBigNumber=new vG.default("18446744073709551615");es.EsdtContractAddress=new EG.Address("erd1qqqqqqqqqqqqqqqpqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqzllls8a5w6u")});var BD=P(qu=>{"use strict";f();var AG=qu&&qu.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(qu,"__esModule",{value:!0});qu.ContractQueryResponse=void 0;var IG=AG(Qr()),_G=OD(),bl=class{constructor(e){this.returnData=e?.returnData||[],this.returnCode=e?.returnCode||"",this.returnMessage=e?.returnMessage||"",this.gasUsed=e?.gasUsed||0}static fromHttpResponse(e){let t=e.returnData||e.ReturnData,i=e.returnCode||e.ReturnCode,n=e.returnMessage||e.ReturnMessage,s=new IG.default(e.gasRemaining||e.GasRemaining||0),o=_G.MaxUint64AsBigNumber.minus(s).toNumber();return new bl({returnData:t,returnCode:i,returnMessage:n,gasUsed:o})}getReturnDataParts(){return this.returnData.map(e=>y.Buffer.from(e||"","base64"))}toJSON(){return{returnData:this.returnData,returnCode:this.returnCode,returnMessage:this.returnMessage,gasUsed:this.gasUsed.valueOf()}}};qu.ContractQueryResponse=bl});var PD=P(Tp=>{"use strict";f();Object.defineProperty(Tp,"__esModule",{value:!0});Tp.ContractQueryRequest=void 0;var jv=class{constructor(e){this.query=e}toHttpRequest(){var e;let t={},i=this.query;return t.scAddress=i.address.bech32(),t.caller=!((e=i.caller)===null||e===void 0)&&e.bech32()?i.caller.bech32():void 0,t.funcName=i.func.toString(),t.value=i.value?i.value.toString():void 0,t.args=i.getEncodedArguments(),t}};Tp.ContractQueryRequest=jv});var MD=P(Np=>{"use strict";f();Object.defineProperty(Np,"__esModule",{value:!0});Np.Query=void 0;var bG=jr(),CG=Hf(),Gv=class{constructor(e){this.caller=e.caller||new bG.Address,this.address=e.address,this.func=e.func,this.args=e.args||[],this.value=e.value||0}getEncodedArguments(){return new CG.ArgSerializer().valuesToStrings(this.args)}};Np.Query=Gv});var KD=P((ane,GD)=>{f();GD.exports=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}});var ts=P(go=>{f();var Kv,xG=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];go.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};go.getSymbolTotalCodewords=function(e){return xG[e]};go.getBCHDigit=function(r){let e=0;for(;r!==0;)e++,r>>>=1;return e};go.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');Kv=e};go.isKanjiModeEnabled=function(){return typeof Kv<"u"};go.toSJIS=function(e){return Kv(e)}});var Bp=P(Hr=>{f();Hr.L={bit:1};Hr.M={bit:0};Hr.Q={bit:3};Hr.H={bit:2};function SG(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return Hr.L;case"m":case"medium":return Hr.M;case"q":case"quartile":return Hr.Q;case"h":case"high":return Hr.H;default:throw new Error("Unknown EC Level: "+r)}}Hr.isValid=function(e){return e&&typeof e.bit<"u"&&e.bit>=0&&e.bit<4};Hr.from=function(e,t){if(Hr.isValid(e))return e;try{return SG(e)}catch{return t}}});var $D=P((dne,kD)=>{f();function zD(){this.buffer=[],this.length=0}zD.prototype={get:function(r){let e=Math.floor(r/8);return(this.buffer[e]>>>7-r%8&1)===1},put:function(r,e){for(let t=0;t<e;t++)this.putBit((r>>>e-t-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(r){let e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),r&&(this.buffer[e]|=128>>>this.length%8),this.length++}};kD.exports=zD});var YD=P((gne,WD)=>{f();function Cl(r){if(!r||r<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=r,this.data=new Uint8Array(r*r),this.reservedBit=new Uint8Array(r*r)}Cl.prototype.set=function(r,e,t,i){let n=r*this.size+e;this.data[n]=t,i&&(this.reservedBit[n]=!0)};Cl.prototype.get=function(r,e){return this.data[r*this.size+e]};Cl.prototype.xor=function(r,e,t){this.data[r*this.size+e]^=t};Cl.prototype.isReserved=function(r,e){return this.reservedBit[r*this.size+e]};WD.exports=Cl});var JD=P(Pp=>{f();var TG=ts().getSymbolSize;Pp.getRowColCoords=function(e){if(e===1)return[];let t=Math.floor(e/7)+2,i=TG(e),n=i===145?26:Math.ceil((i-13)/(2*t-2))*2,s=[i-7];for(let o=1;o<t-1;o++)s[o]=s[o-1]-n;return s.push(6),s.reverse()};Pp.getPositions=function(e){let t=[],i=Pp.getRowColCoords(e),n=i.length;for(let s=0;s<n;s++)for(let o=0;o<n;o++)s===0&&o===0||s===0&&o===n-1||s===n-1&&o===0||t.push([i[s],i[o]]);return t}});var eO=P(ZD=>{f();var NG=ts().getSymbolSize,XD=7;ZD.getPositions=function(e){let t=NG(e);return[[0,0],[t-XD,0],[0,t-XD]]}});var tO=P($e=>{f();$e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var yo={N1:3,N2:3,N3:40,N4:10};$e.isValid=function(e){return e!=null&&e!==""&&!isNaN(e)&&e>=0&&e<=7};$e.from=function(e){return $e.isValid(e)?parseInt(e,10):void 0};$e.getPenaltyN1=function(e){let t=e.size,i=0,n=0,s=0,o=null,a=null;for(let c=0;c<t;c++){n=s=0,o=a=null;for(let h=0;h<t;h++){let p=e.get(c,h);p===o?n++:(n>=5&&(i+=yo.N1+(n-5)),o=p,n=1),p=e.get(h,c),p===a?s++:(s>=5&&(i+=yo.N1+(s-5)),a=p,s=1)}n>=5&&(i+=yo.N1+(n-5)),s>=5&&(i+=yo.N1+(s-5))}return i};$e.getPenaltyN2=function(e){let t=e.size,i=0;for(let n=0;n<t-1;n++)for(let s=0;s<t-1;s++){let o=e.get(n,s)+e.get(n,s+1)+e.get(n+1,s)+e.get(n+1,s+1);(o===4||o===0)&&i++}return i*yo.N2};$e.getPenaltyN3=function(e){let t=e.size,i=0,n=0,s=0;for(let o=0;o<t;o++){n=s=0;for(let a=0;a<t;a++)n=n<<1&2047|e.get(o,a),a>=10&&(n===1488||n===93)&&i++,s=s<<1&2047|e.get(a,o),a>=10&&(s===1488||s===93)&&i++}return i*yo.N3};$e.getPenaltyN4=function(e){let t=0,i=e.data.length;for(let s=0;s<i;s++)t+=e.data[s];return Math.abs(Math.ceil(t*100/i/5)-10)*yo.N4};function DG(r,e,t){switch(r){case $e.Patterns.PATTERN000:return(e+t)%2===0;case $e.Patterns.PATTERN001:return e%2===0;case $e.Patterns.PATTERN010:return t%3===0;case $e.Patterns.PATTERN011:return(e+t)%3===0;case $e.Patterns.PATTERN100:return(Math.floor(e/2)+Math.floor(t/3))%2===0;case $e.Patterns.PATTERN101:return e*t%2+e*t%3===0;case $e.Patterns.PATTERN110:return(e*t%2+e*t%3)%2===0;case $e.Patterns.PATTERN111:return(e*t%3+(e+t)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}$e.applyMask=function(e,t){let i=t.size;for(let n=0;n<i;n++)for(let s=0;s<i;s++)t.isReserved(s,n)||t.xor(s,n,DG(e,s,n))};$e.getBestMask=function(e,t){let i=Object.keys($e.Patterns).length,n=0,s=1/0;for(let o=0;o<i;o++){t(o),$e.applyMask(o,e);let a=$e.getPenaltyN1(e)+$e.getPenaltyN2(e)+$e.getPenaltyN3(e)+$e.getPenaltyN4(e);$e.applyMask(o,e),a<s&&(s=a,n=o)}return n}});var kv=P(zv=>{f();var rs=Bp(),Mp=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Rp=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];zv.getBlocksCount=function(e,t){switch(t){case rs.L:return Mp[(e-1)*4+0];case rs.M:return Mp[(e-1)*4+1];case rs.Q:return Mp[(e-1)*4+2];case rs.H:return Mp[(e-1)*4+3];default:return}};zv.getTotalCodewordsCount=function(e,t){switch(t){case rs.L:return Rp[(e-1)*4+0];case rs.M:return Rp[(e-1)*4+1];case rs.Q:return Rp[(e-1)*4+2];case rs.H:return Rp[(e-1)*4+3];default:return}}});var rO=P(Fp=>{f();var xl=new Uint8Array(512),Lp=new Uint8Array(256);(function(){let e=1;for(let t=0;t<255;t++)xl[t]=e,Lp[e]=t,e<<=1,e&256&&(e^=285);for(let t=255;t<512;t++)xl[t]=xl[t-255]})();Fp.log=function(e){if(e<1)throw new Error("log("+e+")");return Lp[e]};Fp.exp=function(e){return xl[e]};Fp.mul=function(e,t){return e===0||t===0?0:xl[Lp[e]+Lp[t]]}});var iO=P(Sl=>{f();var $v=rO();Sl.mul=function(e,t){let i=new Uint8Array(e.length+t.length-1);for(let n=0;n<e.length;n++)for(let s=0;s<t.length;s++)i[n+s]^=$v.mul(e[n],t[s]);return i};Sl.mod=function(e,t){let i=new Uint8Array(e);for(;i.length-t.length>=0;){let n=i[0];for(let o=0;o<t.length;o++)i[o]^=$v.mul(t[o],n);let s=0;for(;s<i.length&&i[s]===0;)s++;i=i.slice(s)}return i};Sl.generateECPolynomial=function(e){let t=new Uint8Array([1]);for(let i=0;i<e;i++)t=Sl.mul(t,new Uint8Array([1,$v.exp(i)]));return t}});var oO=P((Nne,sO)=>{f();var nO=iO();function Wv(r){this.genPoly=void 0,this.degree=r,this.degree&&this.initialize(this.degree)}Wv.prototype.initialize=function(e){this.degree=e,this.genPoly=nO.generateECPolynomial(this.degree)};Wv.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");let t=new Uint8Array(e.length+this.degree);t.set(e);let i=nO.mod(t,this.genPoly),n=this.degree-i.length;if(n>0){let s=new Uint8Array(this.degree);return s.set(i,n),s}return i};sO.exports=Wv});var Yv=P(aO=>{f();aO.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}});var Jv=P(ln=>{f();var uO="[0-9]+",OG="[A-Z $%*+\\-./:]+",Tl="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Tl=Tl.replace(/u/g,"\\u");var BG="(?:(?![A-Z0-9 $%*+\\-./:]|"+Tl+`)(?:.|[\r
]))+`;ln.KANJI=new RegExp(Tl,"g");ln.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");ln.BYTE=new RegExp(BG,"g");ln.NUMERIC=new RegExp(uO,"g");ln.ALPHANUMERIC=new RegExp(OG,"g");var PG=new RegExp("^"+Tl+"$"),MG=new RegExp("^"+uO+"$"),RG=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");ln.testKanji=function(e){return PG.test(e)};ln.testNumeric=function(e){return MG.test(e)};ln.testAlphanumeric=function(e){return RG.test(e)}});var is=P(Ut=>{f();var LG=Yv(),Xv=Jv();Ut.NUMERIC={id:"Numeric",bit:1<<0,ccBits:[10,12,14]};Ut.ALPHANUMERIC={id:"Alphanumeric",bit:1<<1,ccBits:[9,11,13]};Ut.BYTE={id:"Byte",bit:1<<2,ccBits:[8,16,16]};Ut.KANJI={id:"Kanji",bit:1<<3,ccBits:[8,10,12]};Ut.MIXED={bit:-1};Ut.getCharCountIndicator=function(e,t){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!LG.isValid(t))throw new Error("Invalid version: "+t);return t>=1&&t<10?e.ccBits[0]:t<27?e.ccBits[1]:e.ccBits[2]};Ut.getBestModeForData=function(e){return Xv.testNumeric(e)?Ut.NUMERIC:Xv.testAlphanumeric(e)?Ut.ALPHANUMERIC:Xv.testKanji(e)?Ut.KANJI:Ut.BYTE};Ut.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")};Ut.isValid=function(e){return e&&e.bit&&e.ccBits};function FG(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"numeric":return Ut.NUMERIC;case"alphanumeric":return Ut.ALPHANUMERIC;case"kanji":return Ut.KANJI;case"byte":return Ut.BYTE;default:throw new Error("Unknown mode: "+r)}}Ut.from=function(e,t){if(Ut.isValid(e))return e;try{return FG(e)}catch{return t}}});var dO=P(mo=>{f();var Up=ts(),UG=kv(),cO=Bp(),ns=is(),Zv=Yv(),fO=1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,lO=Up.getBCHDigit(fO);function qG(r,e,t){for(let i=1;i<=40;i++)if(e<=mo.getCapacity(i,t,r))return i}function hO(r,e){return ns.getCharCountIndicator(r,e)+4}function VG(r,e){let t=0;return r.forEach(function(i){let n=hO(i.mode,e);t+=n+i.getBitsLength()}),t}function HG(r,e){for(let t=1;t<=40;t++)if(VG(r,t)<=mo.getCapacity(t,e,ns.MIXED))return t}mo.from=function(e,t){return Zv.isValid(e)?parseInt(e,10):t};mo.getCapacity=function(e,t,i){if(!Zv.isValid(e))throw new Error("Invalid QR Code version");typeof i>"u"&&(i=ns.BYTE);let n=Up.getSymbolTotalCodewords(e),s=UG.getTotalCodewordsCount(e,t),o=(n-s)*8;if(i===ns.MIXED)return o;let a=o-hO(i,e);switch(i){case ns.NUMERIC:return Math.floor(a/10*3);case ns.ALPHANUMERIC:return Math.floor(a/11*2);case ns.KANJI:return Math.floor(a/13);case ns.BYTE:default:return Math.floor(a/8)}};mo.getBestVersionForData=function(e,t){let i,n=cO.from(t,cO.M);if(Array.isArray(e)){if(e.length>1)return HG(e,n);if(e.length===0)return 1;i=e[0]}else i=e;return qG(i.mode,i.getLength(),n)};mo.getEncodedBits=function(e){if(!Zv.isValid(e)||e<7)throw new Error("Invalid QR Code version");let t=e<<12;for(;Up.getBCHDigit(t)-lO>=0;)t^=fO<<Up.getBCHDigit(t)-lO;return e<<12|t}});var mO=P(yO=>{f();var eE=ts(),gO=1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,QG=1<<14|1<<12|1<<10|1<<4|1<<1,pO=eE.getBCHDigit(gO);yO.getEncodedBits=function(e,t){let i=e.bit<<3|t,n=i<<10;for(;eE.getBCHDigit(n)-pO>=0;)n^=gO<<eE.getBCHDigit(n)-pO;return(i<<10|n)^QG}});var vO=P((Hne,wO)=>{f();var jG=is();function Vu(r){this.mode=jG.NUMERIC,this.data=r.toString()}Vu.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};Vu.prototype.getLength=function(){return this.data.length};Vu.prototype.getBitsLength=function(){return Vu.getBitsLength(this.data.length)};Vu.prototype.write=function(e){let t,i,n;for(t=0;t+3<=this.data.length;t+=3)i=this.data.substr(t,3),n=parseInt(i,10),e.put(n,10);let s=this.data.length-t;s>0&&(i=this.data.substr(t),n=parseInt(i,10),e.put(n,s*3+1))};wO.exports=Vu});var AO=P((jne,EO)=>{f();var GG=is(),tE=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Hu(r){this.mode=GG.ALPHANUMERIC,this.data=r}Hu.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};Hu.prototype.getLength=function(){return this.data.length};Hu.prototype.getBitsLength=function(){return Hu.getBitsLength(this.data.length)};Hu.prototype.write=function(e){let t;for(t=0;t+2<=this.data.length;t+=2){let i=tE.indexOf(this.data[t])*45;i+=tE.indexOf(this.data[t+1]),e.put(i,11)}this.data.length%2&&e.put(tE.indexOf(this.data[t]),6)};EO.exports=Hu});var _O=P((Kne,IO)=>{"use strict";f();IO.exports=function(e){for(var t=[],i=e.length,n=0;n<i;n++){var s=e.charCodeAt(n);if(s>=55296&&s<=56319&&i>n+1){var o=e.charCodeAt(n+1);o>=56320&&o<=57343&&(s=(s-55296)*1024+o-56320+65536,n+=1)}if(s<128){t.push(s);continue}if(s<2048){t.push(s>>6|192),t.push(s&63|128);continue}if(s<55296||s>=57344&&s<65536){t.push(s>>12|224),t.push(s>>6&63|128),t.push(s&63|128);continue}if(s>=65536&&s<=1114111){t.push(s>>18|240),t.push(s>>12&63|128),t.push(s>>6&63|128),t.push(s&63|128);continue}t.push(239,191,189)}return new Uint8Array(t).buffer}});var CO=P((kne,bO)=>{f();var KG=_O(),zG=is();function Qu(r){this.mode=zG.BYTE,typeof r=="string"&&(r=KG(r)),this.data=new Uint8Array(r)}Qu.getBitsLength=function(e){return e*8};Qu.prototype.getLength=function(){return this.data.length};Qu.prototype.getBitsLength=function(){return Qu.getBitsLength(this.data.length)};Qu.prototype.write=function(r){for(let e=0,t=this.data.length;e<t;e++)r.put(this.data[e],8)};bO.exports=Qu});var SO=P((Wne,xO)=>{f();var kG=is(),$G=ts();function ju(r){this.mode=kG.KANJI,this.data=r}ju.getBitsLength=function(e){return e*13};ju.prototype.getLength=function(){return this.data.length};ju.prototype.getBitsLength=function(){return ju.getBitsLength(this.data.length)};ju.prototype.write=function(r){let e;for(e=0;e<this.data.length;e++){let t=$G.toSJIS(this.data[e]);if(t>=33088&&t<=40956)t-=33088;else if(t>=57408&&t<=60351)t-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);t=(t>>>8&255)*192+(t&255),r.put(t,13)}};xO.exports=ju});var TO=P((Jne,rE)=>{"use strict";f();var Nl={single_source_shortest_paths:function(r,e,t){var i={},n={};n[e]=0;var s=Nl.PriorityQueue.make();s.push(e,0);for(var o,a,c,h,p,A,D,O,T;!s.empty();){o=s.pop(),a=o.value,h=o.cost,p=r[a]||{};for(c in p)p.hasOwnProperty(c)&&(A=p[c],D=h+A,O=n[c],T=typeof n[c]>"u",(T||O>D)&&(n[c]=D,s.push(c,D),i[c]=a))}if(typeof t<"u"&&typeof n[t]>"u"){var V=["Could not find a path from ",e," to ",t,"."].join("");throw new Error(V)}return i},extract_shortest_path_from_predecessor_list:function(r,e){for(var t=[],i=e,n;i;)t.push(i),n=r[i],i=r[i];return t.reverse(),t},find_path:function(r,e,t){var i=Nl.single_source_shortest_paths(r,e,t);return Nl.extract_shortest_path_from_predecessor_list(i,t)},PriorityQueue:{make:function(r){var e=Nl.PriorityQueue,t={},i;r=r||{};for(i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t.queue=[],t.sorter=r.sorter||e.default_sorter,t},default_sorter:function(r,e){return r.cost-e.cost},push:function(r,e){var t={value:r,cost:e};this.queue.push(t),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};typeof rE<"u"&&(rE.exports=Nl)});var LO=P(Gu=>{f();var Qe=is(),OO=vO(),BO=AO(),PO=CO(),MO=SO(),Dl=Jv(),qp=ts(),WG=TO();function NO(r){return unescape(encodeURIComponent(r)).length}function Ol(r,e,t){let i=[],n;for(;(n=r.exec(t))!==null;)i.push({data:n[0],index:n.index,mode:e,length:n[0].length});return i}function RO(r){let e=Ol(Dl.NUMERIC,Qe.NUMERIC,r),t=Ol(Dl.ALPHANUMERIC,Qe.ALPHANUMERIC,r),i,n;return qp.isKanjiModeEnabled()?(i=Ol(Dl.BYTE,Qe.BYTE,r),n=Ol(Dl.KANJI,Qe.KANJI,r)):(i=Ol(Dl.BYTE_KANJI,Qe.BYTE,r),n=[]),e.concat(t,i,n).sort(function(o,a){return o.index-a.index}).map(function(o){return{data:o.data,mode:o.mode,length:o.length}})}function iE(r,e){switch(e){case Qe.NUMERIC:return OO.getBitsLength(r);case Qe.ALPHANUMERIC:return BO.getBitsLength(r);case Qe.KANJI:return MO.getBitsLength(r);case Qe.BYTE:return PO.getBitsLength(r)}}function YG(r){return r.reduce(function(e,t){let i=e.length-1>=0?e[e.length-1]:null;return i&&i.mode===t.mode?(e[e.length-1].data+=t.data,e):(e.push(t),e)},[])}function JG(r){let e=[];for(let t=0;t<r.length;t++){let i=r[t];switch(i.mode){case Qe.NUMERIC:e.push([i,{data:i.data,mode:Qe.ALPHANUMERIC,length:i.length},{data:i.data,mode:Qe.BYTE,length:i.length}]);break;case Qe.ALPHANUMERIC:e.push([i,{data:i.data,mode:Qe.BYTE,length:i.length}]);break;case Qe.KANJI:e.push([i,{data:i.data,mode:Qe.BYTE,length:NO(i.data)}]);break;case Qe.BYTE:e.push([{data:i.data,mode:Qe.BYTE,length:NO(i.data)}])}}return e}function XG(r,e){let t={},i={start:{}},n=["start"];for(let s=0;s<r.length;s++){let o=r[s],a=[];for(let c=0;c<o.length;c++){let h=o[c],p=""+s+c;a.push(p),t[p]={node:h,lastCount:0},i[p]={};for(let A=0;A<n.length;A++){let D=n[A];t[D]&&t[D].node.mode===h.mode?(i[D][p]=iE(t[D].lastCount+h.length,h.mode)-iE(t[D].lastCount,h.mode),t[D].lastCount+=h.length):(t[D]&&(t[D].lastCount=h.length),i[D][p]=iE(h.length,h.mode)+4+Qe.getCharCountIndicator(h.mode,e))}}n=a}for(let s=0;s<n.length;s++)i[n[s]].end=0;return{map:i,table:t}}function DO(r,e){let t,i=Qe.getBestModeForData(r);if(t=Qe.from(e,i),t!==Qe.BYTE&&t.bit<i.bit)throw new Error('"'+r+'" cannot be encoded with mode '+Qe.toString(t)+`.
 Suggested mode is: `+Qe.toString(i));switch(t===Qe.KANJI&&!qp.isKanjiModeEnabled()&&(t=Qe.BYTE),t){case Qe.NUMERIC:return new OO(r);case Qe.ALPHANUMERIC:return new BO(r);case Qe.KANJI:return new MO(r);case Qe.BYTE:return new PO(r)}}Gu.fromArray=function(e){return e.reduce(function(t,i){return typeof i=="string"?t.push(DO(i,null)):i.data&&t.push(DO(i.data,i.mode)),t},[])};Gu.fromString=function(e,t){let i=RO(e,qp.isKanjiModeEnabled()),n=JG(i),s=XG(n,t),o=WG.find_path(s.map,"start","end"),a=[];for(let c=1;c<o.length-1;c++)a.push(s.table[o[c]].node);return Gu.fromArray(YG(a))};Gu.rawSplit=function(e){return Gu.fromArray(RO(e,qp.isKanjiModeEnabled()))}});var UO=P(FO=>{f();var Hp=ts(),nE=Bp(),ZG=$D(),eK=YD(),tK=JD(),rK=eO(),aE=tO(),uE=kv(),iK=oO(),Vp=dO(),nK=mO(),sK=is(),sE=LO();function oK(r,e){let t=r.size,i=rK.getPositions(e);for(let n=0;n<i.length;n++){let s=i[n][0],o=i[n][1];for(let a=-1;a<=7;a++)if(!(s+a<=-1||t<=s+a))for(let c=-1;c<=7;c++)o+c<=-1||t<=o+c||(a>=0&&a<=6&&(c===0||c===6)||c>=0&&c<=6&&(a===0||a===6)||a>=2&&a<=4&&c>=2&&c<=4?r.set(s+a,o+c,!0,!0):r.set(s+a,o+c,!1,!0))}}function aK(r){let e=r.size;for(let t=8;t<e-8;t++){let i=t%2===0;r.set(t,6,i,!0),r.set(6,t,i,!0)}}function uK(r,e){let t=tK.getPositions(e);for(let i=0;i<t.length;i++){let n=t[i][0],s=t[i][1];for(let o=-2;o<=2;o++)for(let a=-2;a<=2;a++)o===-2||o===2||a===-2||a===2||o===0&&a===0?r.set(n+o,s+a,!0,!0):r.set(n+o,s+a,!1,!0)}}function cK(r,e){let t=r.size,i=Vp.getEncodedBits(e),n,s,o;for(let a=0;a<18;a++)n=Math.floor(a/3),s=a%3+t-8-3,o=(i>>a&1)===1,r.set(n,s,o,!0),r.set(s,n,o,!0)}function oE(r,e,t){let i=r.size,n=nK.getEncodedBits(e,t),s,o;for(s=0;s<15;s++)o=(n>>s&1)===1,s<6?r.set(s,8,o,!0):s<8?r.set(s+1,8,o,!0):r.set(i-15+s,8,o,!0),s<8?r.set(8,i-s-1,o,!0):s<9?r.set(8,15-s-1+1,o,!0):r.set(8,15-s-1,o,!0);r.set(i-8,8,1,!0)}function lK(r,e){let t=r.size,i=-1,n=t-1,s=7,o=0;for(let a=t-1;a>0;a-=2)for(a===6&&a--;;){for(let c=0;c<2;c++)if(!r.isReserved(n,a-c)){let h=!1;o<e.length&&(h=(e[o]>>>s&1)===1),r.set(n,a-c,h),s--,s===-1&&(o++,s=7)}if(n+=i,n<0||t<=n){n-=i,i=-i;break}}}function fK(r,e,t){let i=new ZG;t.forEach(function(c){i.put(c.mode.bit,4),i.put(c.getLength(),sK.getCharCountIndicator(c.mode,r)),c.write(i)});let n=Hp.getSymbolTotalCodewords(r),s=uE.getTotalCodewordsCount(r,e),o=(n-s)*8;for(i.getLengthInBits()+4<=o&&i.put(0,4);i.getLengthInBits()%8!==0;)i.putBit(0);let a=(o-i.getLengthInBits())/8;for(let c=0;c<a;c++)i.put(c%2?17:236,8);return hK(i,r,e)}function hK(r,e,t){let i=Hp.getSymbolTotalCodewords(e),n=uE.getTotalCodewordsCount(e,t),s=i-n,o=uE.getBlocksCount(e,t),a=i%o,c=o-a,h=Math.floor(i/o),p=Math.floor(s/o),A=p+1,D=h-p,O=new iK(D),T=0,V=new Array(o),Q=new Array(o),j=0,ie=new Uint8Array(r.buffer);for(let R=0;R<o;R++){let F=R<c?p:A;V[R]=ie.slice(T,T+F),Q[R]=O.encode(V[R]),T+=F,j=Math.max(j,F)}let Y=new Uint8Array(i),W=0,$,k;for($=0;$<j;$++)for(k=0;k<o;k++)$<V[k].length&&(Y[W++]=V[k][$]);for($=0;$<D;$++)for(k=0;k<o;k++)Y[W++]=Q[k][$];return Y}function dK(r,e,t,i){let n;if(Array.isArray(r))n=sE.fromArray(r);else if(typeof r=="string"){let h=e;if(!h){let p=sE.rawSplit(r);h=Vp.getBestVersionForData(p,t)}n=sE.fromString(r,h||40)}else throw new Error("Invalid data");let s=Vp.getBestVersionForData(n,t);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=s;else if(e<s)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+s+`.
`);let o=fK(e,t,n),a=Hp.getSymbolSize(e),c=new eK(a);return oK(c,e),aK(c),uK(c,e),oE(c,t,0),e>=7&&cK(c,e),lK(c,o),isNaN(i)&&(i=aE.getBestMask(c,oE.bind(null,c,t))),aE.applyMask(i,c),oE(c,t,i),{modules:c,version:e,errorCorrectionLevel:t,maskPattern:i,segments:n}}FO.create=function(e,t){if(typeof e>"u"||e==="")throw new Error("No input text");let i=nE.M,n,s;return typeof t<"u"&&(i=nE.from(t.errorCorrectionLevel,nE.M),n=Vp.from(t.version),s=aE.from(t.maskPattern),t.toSJISFunc&&Hp.setToSJISFunction(t.toSJISFunc)),dK(e,n,i,s)}});var cE=P(wo=>{f();function qO(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let e=r.slice().replace("#","").split("");if(e.length<3||e.length===5||e.length>8)throw new Error("Invalid hex color: "+r);(e.length===3||e.length===4)&&(e=Array.prototype.concat.apply([],e.map(function(i){return[i,i]}))),e.length===6&&e.push("F","F");let t=parseInt(e.join(""),16);return{r:t>>24&255,g:t>>16&255,b:t>>8&255,a:t&255,hex:"#"+e.slice(0,6).join("")}}wo.getOptions=function(e){e||(e={}),e.color||(e.color={});let t=typeof e.margin>"u"||e.margin===null||e.margin<0?4:e.margin,i=e.width&&e.width>=21?e.width:void 0,n=e.scale||4;return{width:i,scale:i?4:n,margin:t,color:{dark:qO(e.color.dark||"#000000ff"),light:qO(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}};wo.getScale=function(e,t){return t.width&&t.width>=e+t.margin*2?t.width/(e+t.margin*2):t.scale};wo.getImageWidth=function(e,t){let i=wo.getScale(e,t);return Math.floor((e+t.margin*2)*i)};wo.qrToImageData=function(e,t,i){let n=t.modules.size,s=t.modules.data,o=wo.getScale(n,i),a=Math.floor((n+i.margin*2)*o),c=i.margin*o,h=[i.color.light,i.color.dark];for(let p=0;p<a;p++)for(let A=0;A<a;A++){let D=(p*a+A)*4,O=i.color.light;if(p>=c&&A>=c&&p<a-c&&A<a-c){let T=Math.floor((p-c)/o),V=Math.floor((A-c)/o);O=h[s[T*n+V]?1:0]}e[D++]=O.r,e[D++]=O.g,e[D++]=O.b,e[D]=O.a}}});var VO=P(Qp=>{f();var lE=cE();function pK(r,e,t){r.clearRect(0,0,e.width,e.height),e.style||(e.style={}),e.height=t,e.width=t,e.style.height=t+"px",e.style.width=t+"px"}function gK(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}Qp.render=function(e,t,i){let n=i,s=t;typeof n>"u"&&(!t||!t.getContext)&&(n=t,t=void 0),t||(s=gK()),n=lE.getOptions(n);let o=lE.getImageWidth(e.modules.size,n),a=s.getContext("2d"),c=a.createImageData(o,o);return lE.qrToImageData(c.data,e,n),pK(a,s,o),a.putImageData(c,0,0),s};Qp.renderToDataURL=function(e,t,i){let n=i;typeof n>"u"&&(!t||!t.getContext)&&(n=t,t=void 0),n||(n={});let s=Qp.render(e,t,n),o=n.type||"image/png",a=n.rendererOpts||{};return s.toDataURL(o,a.quality)}});var jO=P(QO=>{f();var yK=cE();function HO(r,e){let t=r.a/255,i=e+'="'+r.hex+'"';return t<1?i+" "+e+'-opacity="'+t.toFixed(2).slice(1)+'"':i}function fE(r,e,t){let i=r+e;return typeof t<"u"&&(i+=" "+t),i}function mK(r,e,t){let i="",n=0,s=!1,o=0;for(let a=0;a<r.length;a++){let c=Math.floor(a%e),h=Math.floor(a/e);!c&&!s&&(s=!0),r[a]?(o++,a>0&&c>0&&r[a-1]||(i+=s?fE("M",c+t,.5+h+t):fE("m",n,0),n=0,s=!1),c+1<e&&r[a+1]||(i+=fE("h",o),o=0)):n++}return i}QO.render=function(e,t,i){let n=yK.getOptions(t),s=e.modules.size,o=e.modules.data,a=s+n.margin*2,c=n.color.light.a?"<path "+HO(n.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",h="<path "+HO(n.color.dark,"stroke")+' d="'+mK(o,s,n.margin)+'"/>',p='viewBox="0 0 '+a+" "+a+'"',D='<svg xmlns="http://www.w3.org/2000/svg" '+(n.width?'width="'+n.width+'" height="'+n.width+'" ':"")+p+' shape-rendering="crispEdges">'+c+h+`</svg>
`;return typeof i=="function"&&i(null,D),D}});var KO=P(Bl=>{f();var wK=KD(),hE=UO(),GO=VO(),vK=jO();function dE(r,e,t,i,n){let s=[].slice.call(arguments,1),o=s.length,a=typeof s[o-1]=="function";if(!a&&!wK())throw new Error("Callback required as last argument");if(a){if(o<2)throw new Error("Too few arguments provided");o===2?(n=t,t=e,e=i=void 0):o===3&&(e.getContext&&typeof n>"u"?(n=i,i=void 0):(n=i,i=t,t=e,e=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(t=e,e=i=void 0):o===2&&!e.getContext&&(i=t,t=e,e=void 0),new Promise(function(c,h){try{let p=hE.create(t,i);c(r(p,e,i))}catch(p){h(p)}})}try{let c=hE.create(t,i);n(null,r(c,e,i))}catch(c){n(c)}}Bl.create=hE.create;Bl.toCanvas=dE.bind(null,GO.render);Bl.toDataURL=dE.bind(null,GO.renderToDataURL);Bl.toString=dE.bind(null,function(r,e,t){return vK.render(r,t)})});var i8=P(ss=>{"use strict";f();var TK=ss&&ss.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),r8=ss&&ss.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&TK(e,r,t)};Object.defineProperty(ss,"__esModule",{value:!0});r8(wl(),ss);r8(Mv(),ss)});f();var NK=_e(tg(),1),c8=_e(GI(),1),DK=_e(jr(),1),OK=_e(Gf(),1),BK=_e(Fy(),1),PK=_e(nc(),1),MK=_e(Qy(),1),RK=_e(yn(),1),l8=_e(rc(),1),LK=_e(Zu(),1),FK=_e(iy(),1),UK=_e(Kb(),1),qK=_e(Ho(),1);f();f();var Zb=_e(ky(),1);f();f();var ih="elvenjs_state",Yb="https://devnet-api.multiversx.com";var nh="/dapp/init",sh="devnet",Jb="https://maiar.page.link/?apn=com.elrond.maiar.wallet&isi=1519405832&ibi=com.elrond.maiar.wallet&link=https://xportal.com/",Xb=["wss://relay.walletconnect.com"],Ti={devnet:{id:"devnet",shortId:"D",name:"Devnet",egldLabel:"xEGLD",egldDenomination:"18",decimals:"4",gasPerDataByte:"1500",walletAddress:"https://devnet-wallet.multiversx.com",apiAddress:"https://devnet-api.multiversx.com",explorerAddress:"https://devnet-explorer.multiversx.com",apiTimeout:1e4},testnet:{id:"testnet",shortId:"T",name:"Testnet",egldLabel:"xEGLD",egldDenomination:"18",decimals:"4",gasPerDataByte:"1500",walletAddress:"https://testnet-wallet.multiversx.com",apiAddress:"https://testnet-api.multiversx.com",explorerAddress:"https://testnet-explorer.multiversx.com",apiTimeout:1e4},mainnet:{id:"mainnet",shortId:"1",name:"Mainnet",egldLabel:"EGLD",egldDenomination:"18",decimals:"4",gasPerDataByte:"1500",walletAddress:"https://wallet.multiversx.com",apiAddress:"https://api.multiversx.com",explorerAddress:"https://explorer.multiversx.com",apiTimeout:1e4}};var Te={get(r){let e=localStorage.getItem(ih);if(!e)return{};let t=JSON.parse(e);return r?t[r]:t},set(r,e){let t=this.get();t[r]=e,localStorage.setItem(ih,JSON.stringify(t))},clear(){localStorage.removeItem(ih)}};var oh=()=>De(void 0,null,function*(){let r=Zb.ExtensionProvider.getInstance();try{let e=yield r.init(),t=Te.get();if(t!=null&&t.address&&r.setAddress(t.address),!e){console.warn("Something went wrong when trying to initialize the ExtensionProvider..");return}return r}catch(e){console.warn("Can't initialize the Dapp Provider!")}});var o8=_e(ky(),1),a8=_e(hl(),1),u8=_e(wl(),1);f();var pD=_e(hl(),1);f();f();var Ne=class{static set(e,t){if(!e)return;let i=xE(Eo({},this.events),{[e]:t});this.events=i}static get(e){if(!(!e||!this.events))return this.events[e]}static run(e,...t){var i,n;!e||!this.events||(n=(i=this.events)[e])==null||n.call(i,...t)}static clear(){this.events=void 0}};f();var ho=(n=>(n.ledger="ledger",n.mobile="mobile",n.webWallet="web-wallet",n.browserExtension="browser-extension",n))(ho||{});var Bu=r=>De(void 0,null,function*(){if(!r.dappProvider)throw new Error("Error: Logout failed: There is no active session!");Ne.run(0);let e=yield r.dappProvider.logout();return e&&(Te.clear(),Ne.run(4)),e});f();var hD=_e(jr(),1),dD=_e(Gf(),1);f();var Er=r=>typeof r=="string"?r.toUpperCase():r instanceof Error?r.message:`Error: ${JSON.stringify(r)}`;f();var Pu=()=>new Date().setHours(new Date().getHours()+24),Ap=r=>Date.now()>r;var Zn=r=>De(void 0,null,function*(){let e=Te.get("address"),t=Te.get("expires");if(!(t&&Ap(t))&&e&&r.networkProvider){let n=new hD.Address(e),s=new dD.Account(n);try{let o=yield r.networkProvider.getAccount(n);Te.set("address",e),Te.set("nonce",o.nonce.valueOf()),Te.set("balance",o.balance.toString()),s.update(o)}catch(o){let a=Er(o);console.warn(`Something went wrong trying to synchronize the user account: ${a}`)}}});f();function Ip(r){return r[Math.floor(Math.random()*r.length)]}var gD=r=>De(void 0,null,function*(){if(!r.initOptions.walletConnectV2ProjectId||!r.initOptions.chainType)return;let e={onClientLogin:()=>{Zn(r),Ne.run(1)},onClientLogout:()=>Bu(r),onClientEvent:n=>{console.log("wc2 session event: ",n)}},t=Ip(r.initOptions.walletConnectV2RelayAddresses),i=new pD.WalletConnectV2Provider(e,Ti[r.initOptions.chainType].shortId,t,r.initOptions.walletConnectV2ProjectId);try{return yield i.init(),i}catch(n){console.warn("Can't initialize the Dapp Provider!")}});f();var RD=_e(wD(),1),Dp=_e(jr(),1),LD=_e(vD(),1),FD=_e(bD(),1),UD=_e(Qv(),1),qD=_e(DD(),1),VD=_e(BD(),1),HD=_e(PD(),1),QD=_e(MD(),1);var Op=class{constructor({apiUrl:e,chainType:t,apiTimeout:i}){var n,s;this.chainType=t||sh,this.apiUrl=e||((n=Ti[this.chainType])==null?void 0:n.apiAddress),this.apiTimeout=i||((s=Ti[this.chainType])==null?void 0:s.apiTimeout)}apiGet(e,t){return De(this,null,function*(){if(typeof fetch!="undefined"){let i=new AbortController,n=setTimeout(()=>i.abort(),this.apiTimeout),s={method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"},signal:i.signal};try{let o=yield fetch(this.apiUrl+"/"+e,Object.assign(s,t||{})),a=yield o.json();if(!o.ok){let c=(a==null?void 0:a.error)||o.status;return clearTimeout(n),Promise.reject(c)}return clearTimeout(n),a}catch(o){this.handleApiError(o,e)}}})}apiPost(e,t,i){return De(this,null,function*(){if(typeof fetch!="undefined"){let n=new AbortController,s=setTimeout(()=>n.abort(),this.apiTimeout),o={method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(t||{}),signal:n.signal};try{let a=yield fetch(this.apiUrl+"/"+e,Object.assign(o,i||{})),c=yield a.json();if(!a.ok){let h=(c==null?void 0:c.error)||a.status;return clearTimeout(s),Promise.reject(h)}return clearTimeout(s),c}catch(a){this.handleApiError(a,e)}}})}handleApiError(e,t){if(!e.response)throw new Error(`Request error on url [${t}]: [${e.toString()}]`);let i=e.response.data,n=i.error||i.message||JSON.stringify(i);throw new Error(n)}sendTransaction(e){return De(this,null,function*(){return(yield this.apiPost("transactions",e.toSendable())).txHash})}getAccount(e){return De(this,null,function*(){let t=yield this.apiGet(`accounts/${e.bech32()}`);return{address:new Dp.Address((t==null?void 0:t.address)||""),nonce:Number((t==null?void 0:t.nonce)||0),balance:new RD.default((t==null?void 0:t.balance)||0),code:(t==null?void 0:t.code)||"",userName:(t==null?void 0:t.username)||""}})}getTransaction(e){return De(this,null,function*(){let t=yield this.apiGet(`transactions/${e}`),i=new LD.TransactionStatus(t.status);return{hash:e,type:t.type||"",nonce:t.nonce||0,round:t.round,epoch:t.epoch||0,value:(t.value||0).toString(),sender:new Dp.Address(t.sender),receiver:new Dp.Address(t.receiver),gasPrice:t.gasPrice||0,gasLimit:t.gasLimit||0,data:y.Buffer.from(t.data||"","base64"),status:i,timestamp:t.timestamp||0,blockNonce:t.blockNonce||0,hyperblockNonce:t.hyperblockNonce||0,hyperblockHash:t.hyperblockHash||"",receipt:FD.TransactionReceipt.fromHttpResponse(t.receipt||{}),logs:UD.TransactionLogs.fromHttpResponse(t.logs||{}),contractResults:qD.ContractResults.fromApiHttpResponse(t.results||[]),isCompleted:!i.isPending()}})}queryContract(o){return De(this,arguments,function*({address:e,func:t,args:i,value:n,caller:s}){try{let a=new QD.Query({address:e,func:t,args:i,value:n,caller:s}),c=new HD.ContractQueryRequest(a).toHttpRequest(),h=yield this.apiPost("query",c);return VD.ContractQueryResponse.fromHttpResponse(h)}catch(a){this.handleApiError(a,"query")}})}};f();var jD=(r,e)=>De(void 0,null,function*(){let t=yield oh();try{t&&(yield t.login())}catch(n){let s=Er(n);console.warn(`Something went wrong trying to login the user: ${s}`)}if(!t)throw new Error("Error: There were problems with auth provider initialization!");let{signature:i}=t.account;if(e&&Te.set("loginToken",e),i&&Te.set("signature",i),r.networkProvider)try{let n=yield t.getAddress();if(!n)throw new Error("Canceled!");return Ne.run(0),Te.set("address",n),Te.set("loginMethod","browser-extension"),Te.set("expires",Pu()),yield Zn(r),Ne.run(1),t}catch(n){console.warn(`Something went wrong trying to synchronize the user account: ${n==null?void 0:n.message}`)}});f();f();var zO=_e(KO(),1),kO=_e(hl(),1);var EK=r=>{var t;let e=document.createElement("template");return e.innerHTML=r.trim(),(t=e.content.firstChild)==null?void 0:t.cloneNode(!0)},AK=r=>{let e=`${Jb}?wallet-connect=${encodeURIComponent(r)}`,t=document.createElement("a");return t.setAttribute("href",e),t.setAttribute("rel","noopener noreferrer nofollow"),t.setAttribute("target","_blank"),t.textContent="Maiar login",t.classList.add("elven-qr-code-deep-link"),t},IK=()=>{let r=document.createElement("div");return r.classList.add("elven-wc-pairings"),r.setAttribute("id","elven-wc-pairings"),r},_K=()=>{let r=document.createElement("div");return r.textContent="Existing WalletConnect pairings:",r.classList.add("elven-wc-pairings-header"),r.setAttribute("id","elven-wc-pairings-header"),r},bK=r=>{let e=document.createElement("button");return e.classList.add("elven-wc-pairings-remove-btn"),e.setAttribute("id","elven-wc-pairings-remove-btn"),e.textContent="\u2716",e.addEventListener("click",()=>console.log("Click, ",r)),e},CK=r=>{let e=document.createElement("div");e.classList.add("elven-wc-pairing-item"),e.setAttribute("id","elven-wc-pairing-item"),e.textContent=`${r.peerMetadata.description}
(${r.peerMetadata.url})`;let t=bK(r);return e.appendChild(t),e},xK=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),SK=r=>De(void 0,null,function*(){return r?yield zO.default.toString(r,{type:"svg"}):void 0}),$O=(r,e,t)=>De(void 0,null,function*(){if(!r)throw new Error("Please provide the QR Code and WalletConnect Pairings container id!");let i=null;typeof r=="string"?i=document.getElementById(r):r instanceof HTMLElement&&(i=r);let n=yield SK(e),s;if(n&&(s=EK(n)),i&&s&&(i.replaceChildren(),i.appendChild(s),xK()&&i.appendChild(AK(e))),i&&t instanceof kO.WalletConnectV2Provider){let o=t.pairings;if(o){let a=IK();i.appendChild(a);let c=_K();a.appendChild(c);for(let h of o){let p=CK(h);a.appendChild(p)}}}return i});var jp=_e(hl(),1);var WO=(r,e,t)=>De(void 0,null,function*(){if(!e)throw new Error("You haven't provided the QR code container DOM element id");let i=Ip(r.initOptions.walletConnectV2RelayAddresses);if(!i||!r.networkProvider)throw new Error("Something wen't wrong with the initialization (ApiNetworkProvider or Wallet Connect Bridge address), plese try to refresh the page!");if(!r.initOptions.walletConnectV2ProjectId)throw new Error("Please provide your WalletConnect project id. You can get it here: https://cloud.walletconnect.com)");if(!r.initOptions.chainType)throw new Error("Please provide the chain type in ElvenJS.init function!");let n,s={onClientLogin:()=>De(void 0,null,function*(){if(r.dappProvider instanceof jp.WalletConnectV2Provider){Ne.run(0);let a=yield r.dappProvider.getAddress(),c=yield r.dappProvider.getSignature();Te.set("address",a),Te.set("loginMethod","mobile"),Te.set("expires",Pu()),yield Zn(r),c&&Te.set("signature",c),t&&Te.set("loginToken",t),Ne.run(1),n==null||n.replaceChildren()}}),onClientLogout:()=>De(void 0,null,function*(){r.dappProvider instanceof jp.WalletConnectV2Provider&&(yield Bu(r),Ne.run(4))}),onClientEvent:a=>{console.log("wc2 session event: ",a)}},o=new jp.WalletConnectV2Provider(s,Ti[r.initOptions.chainType].shortId,i,r.initOptions.walletConnectV2ProjectId);try{if(o){r.dappProvider=o,Ne.run(2);let{uri:a,approval:c}=yield o.connect({methods:["erd_cancelAction"]}),h=t?`${a}&token=${t}`:a;return e&&h&&(n=yield $O(e,h,o),Ne.run(3)),yield o.login({approval:c,token:t}),o}}catch(a){let c=Er(a);console.warn(`Something went wrong trying to login the user: ${c}`)}});f();var YO=_e(wl(),1);var JO=(r,e,t)=>De(void 0,null,function*(){let i=new YO.WalletProvider(`${r}${nh}`),n=typeof window!="undefined"?encodeURIComponent(`${window.location.origin}${e||"/"}`):"/",s=Eo({callbackUrl:n},t?{token:t}:{});try{return Ne.run(0),Te.set("loginMethod","web-wallet"),yield i.login(s),Te.set("expires",Pu()),t&&Te.set("loginToken",t),i}catch(o){let a=Er(o);console.warn(`Something went wrong trying to login the user: ${a}`),Te.set("loginMethod","")}});f();var vo=r=>{if(typeof window!="undefined"){let e=new URL(window.location.href);return new URLSearchParams(e.search).get(r)}};f();var XO=_e(wl(),1);var ZO=r=>De(void 0,null,function*(){let e=vo("signature"),t=vo("address"),i=Te.get("address");if(e&&Te.set("signature",e),t||i)return t&&(Te.set("address",t),window.history.replaceState(null,"",window.location.pathname)),new XO.WalletProvider(`${r}${nh}`)});f();var e8=_e(Gf(),1),t8=_e(Qy(),1);var Gp=(r,e)=>De(void 0,null,function*(){Ne.run(6,r),yield new t8.TransactionWatcher(e).awaitCompleted(r);let i=r.getSender(),n=new e8.Account(i),s=yield e.getAccount(i);n.update(s),Te.set("address",n.address.bech32()),Te.set("nonce",n.getNonceThenIncrement().valueOf()),Te.set("balance",n.balance.toString()),Ne.run(7,r)});f();var Kp=_e(i8(),1),n8=_e(Fy(),1);var s8=(r,e,t)=>De(void 0,null,function*(){if(vo(Kp.WALLET_PROVIDER_CALLBACK_PARAM)===Kp.WALLET_PROVIDER_CALLBACK_PARAM_TX_SIGNED&&r&&e&&"getTransactionsFromWalletUrl"in r){let n=r.getTransactionsFromWalletUrl();window.history.replaceState(null,"",window.location.pathname);let s=n==null?void 0:n[0];if(s){s.data=y.Buffer.from(s.data).toString("base64");let o=n8.Transaction.fromPlainObject(s);o.setNonce(t);try{Ne.run(5,o),yield e.sendTransaction(o),yield Gp(o,e)}catch(a){let c=Er(a);throw Ne.run(8,o,c),new Error(`Error: Transaction signing failed! ${c}`)}}}});var Ml=class{static init(e){return De(this,null,function*(){let t=Te.get();if(t.expires&&Ap(t.expires)){Te.clear(),this.dappProvider=void 0;return}this.initOptions=Eo({chainType:sh,apiUrl:Yb,apiTimeout:1e4,walletConnectV2ProjectId:"",walletConnectV2RelayAddresses:Xb},e),this.networkProvider=new Op(this.initOptions),this.initOptions.onLoginPending&&Ne.set(0,this.initOptions.onLoginPending),this.initOptions.onLoggedIn&&Ne.set(1,this.initOptions.onLoggedIn),this.initOptions.onQrPending&&Ne.set(2,this.initOptions.onQrPending),this.initOptions.onQrLoaded&&Ne.set(3,this.initOptions.onQrLoaded),this.initOptions.onLogout&&Ne.set(4,this.initOptions.onLogout),this.initOptions.onTxStarted&&Ne.set(5,this.initOptions.onTxStarted),this.initOptions.onTxSent&&Ne.set(6,this.initOptions.onTxSent),this.initOptions.onTxFinalized&&Ne.set(7,this.initOptions.onTxFinalized),this.initOptions.onTxError&&Ne.set(8,this.initOptions.onTxError),((t==null?void 0:t.address)||t.loginMethod==="web-wallet"&&vo("address"))&&(t!=null&&t.loginMethod)&&(Ne.run(0),t.loginMethod==="browser-extension"&&(this.dappProvider=yield oh()),t.loginMethod==="mobile"&&(this.dappProvider=yield gD(this)),t.loginMethod==="web-wallet"&&this.initOptions.chainType&&(this.dappProvider=yield ZO(Ti[this.initOptions.chainType].walletAddress)),yield Zn(this),Ne.run(1),t.loginMethod==="web-wallet"&&(yield s8(this.dappProvider,this.networkProvider,t.nonce)))})}static login(e,t){return De(this,null,function*(){var n;if(!Object.values(ho).includes(e))throw new Error("Error: Wrong login method!");if(!this.networkProvider)throw new Error("Error: Login failed: Use ElvenJs.init() first!");try{if(e==="browser-extension"){let s=yield jD(this,t==null?void 0:t.token);this.dappProvider=s}if(e==="mobile"){let s=yield WO(this,t==null?void 0:t.qrCodeContainer,t==null?void 0:t.token);this.dappProvider=s}if(e==="web-wallet"&&((n=this.initOptions)!=null&&n.chainType)){let s=yield JO(Ti[this.initOptions.chainType].walletAddress,t==null?void 0:t.callbackRoute,t==null?void 0:t.token);this.dappProvider=s}}catch(s){let o=Er(s);throw new Error(`Error: ${o}`)}})}static logout(){return De(this,null,function*(){let e=yield Bu(this);return this.dappProvider=void 0,e})}static signAndSendTransaction(e){return De(this,null,function*(){if(!this.dappProvider)throw new Error("Error: Transaction signing failed: There is no active session!");if(!this.networkProvider)throw new Error("Error: Transaction signing failed: There is no active network provider!");try{Ne.run(5,e);let t=Te.get();e.setNonce(t.nonce),this.dappProvider instanceof o8.ExtensionProvider&&(yield this.dappProvider.signTransaction(e)),this.dappProvider instanceof a8.WalletConnectV2Provider&&(yield this.dappProvider.signTransaction(e)),this.dappProvider instanceof u8.WalletProvider&&(yield this.dappProvider.signTransaction(e)),t.loginMethod!=="web-wallet"&&(yield this.networkProvider.sendTransaction(e),yield Gp(e,this.networkProvider))}catch(t){let i=Er(t);throw Ne.run(8,e,i),new Error(`Error: Transaction signing failed! ${i}`)}return e})}static queryContract(o){return De(this,arguments,function*({address:e,func:t,args:i=[],value:n=0,caller:s}){if(!this.networkProvider)throw new Error("Error: Query failed: There is no active network provider!");if(!e||!t)throw new Error("Error: Query failed: The Query arguments are not valid! Address and func required");try{return yield this.networkProvider.queryContract({address:e,func:t,args:i,value:n,caller:s})}catch(a){let c=Er(a);throw new Error(`Error: Smart contract query failed! ${c}`)}})}},Pl=Ml;Pl.storage=Te,Pl.destroy=()=>{Ml.networkProvider=void 0,Ml.dappProvider=void 0,Ml.initOptions=void 0,Ne.clear()};var export_Account=OK.Account;var export_Address=DK.Address;var export_AddressValue=qK.AddressValue;var export_BigUIntValue=l8.BigUIntValue;var export_BooleanValue=LK.BooleanValue;var export_BytesValue=RK.BytesValue;var export_ContractCallPayloadBuilder=FK.ContractCallPayloadBuilder;var export_ContractFunction=UK.ContractFunction;var export_ESDTNFTTransferPayloadBuilder=c8.ESDTNFTTransferPayloadBuilder;var export_ESDTTransferPayloadBuilder=c8.ESDTTransferPayloadBuilder;var export_TokenPayment=NK.TokenPayment;var export_Transaction=BK.Transaction;var export_TransactionPayload=PK.TransactionPayload;var export_TransactionWatcher=MK.TransactionWatcher;var export_U32Value=l8.U32Value;export{export_Account as Account,export_Address as Address,export_AddressValue as AddressValue,export_BigUIntValue as BigUIntValue,export_BooleanValue as BooleanValue,export_BytesValue as BytesValue,export_ContractCallPayloadBuilder as ContractCallPayloadBuilder,export_ContractFunction as ContractFunction,export_ESDTNFTTransferPayloadBuilder as ESDTNFTTransferPayloadBuilder,export_ESDTTransferPayloadBuilder as ESDTTransferPayloadBuilder,Pl as ElvenJS,ho as LoginMethodsEnum,export_TokenPayment as TokenPayment,export_Transaction as Transaction,export_TransactionPayload as TransactionPayload,export_TransactionWatcher as TransactionWatcher,export_U32Value as U32Value};
/*! Bundled license information:

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

punycode/punycode.js:
  (*! https://mths.be/punycode v1.4.1 by @mathias *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)
*/
