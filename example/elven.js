var cW=Object.create;var pd=Object.defineProperty,hW=Object.defineProperties,lW=Object.getOwnPropertyDescriptor,dW=Object.getOwnPropertyDescriptors,pW=Object.getOwnPropertyNames,ES=Object.getOwnPropertySymbols,gW=Object.getPrototypeOf,SS=Object.prototype.hasOwnProperty,vW=Object.prototype.propertyIsEnumerable;var AS=(t,e,r)=>e in t?pd(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,sg=(t,e)=>{for(var r in e||={})SS.call(e,r)&&AS(t,r,e[r]);if(ES)for(var r of ES(e))vW.call(e,r)&&AS(t,r,e[r]);return t},IS=(t,e)=>hW(t,dW(e));var og=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,r)=>(typeof require<"u"?require:e)[r]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+t+'" is not supported')});var fe=(t,e)=>()=>(t&&(e=t(t=0)),e);var D=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Ut=(t,e)=>{for(var r in e)pd(t,r,{get:e[r],enumerable:!0})},ng=(t,e,r,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of pW(e))!SS.call(t,n)&&n!==r&&pd(t,n,{get:()=>e[n],enumerable:!(i=lW(e,n))||i.enumerable});return t},ft=(t,e,r)=>(ng(t,e,"default"),r&&ng(r,e,"default")),Ve=(t,e,r)=>(r=t!=null?cW(gW(t)):{},ng(e||!t||!t.__esModule?pd(r,"default",{value:t,enumerable:!0}):r,t)),_n=t=>ng(pd({},"__esModule",{value:!0}),t);var st=(t,e,r)=>new Promise((i,n)=>{var s=l=>{try{f(r.next(l))}catch(b){n(b)}},o=l=>{try{f(r.throw(l))}catch(b){n(b)}},f=l=>l.done?i(l.value):Promise.resolve(l.value).then(s,o);f((r=r.apply(t,e)).next())});var TS=D(ag=>{"use strict";y();ag.byteLength=mW;ag.toByteArray=wW;ag.fromByteArray=EW;var Yn=[],Hi=[],yW=typeof Uint8Array<"u"?Uint8Array:Array,L2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(uf=0,MS=L2.length;uf<MS;++uf)Yn[uf]=L2[uf],Hi[L2.charCodeAt(uf)]=uf;var uf,MS;Hi["-".charCodeAt(0)]=62;Hi["_".charCodeAt(0)]=63;function CS(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var i=r===e?0:4-r%4;return[r,i]}function mW(t){var e=CS(t),r=e[0],i=e[1];return(r+i)*3/4-i}function bW(t,e,r){return(e+r)*3/4-r}function wW(t){var e,r=CS(t),i=r[0],n=r[1],s=new yW(bW(t,i,n)),o=0,f=n>0?i-4:i,l;for(l=0;l<f;l+=4)e=Hi[t.charCodeAt(l)]<<18|Hi[t.charCodeAt(l+1)]<<12|Hi[t.charCodeAt(l+2)]<<6|Hi[t.charCodeAt(l+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return n===2&&(e=Hi[t.charCodeAt(l)]<<2|Hi[t.charCodeAt(l+1)]>>4,s[o++]=e&255),n===1&&(e=Hi[t.charCodeAt(l)]<<10|Hi[t.charCodeAt(l+1)]<<4|Hi[t.charCodeAt(l+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function _W(t){return Yn[t>>18&63]+Yn[t>>12&63]+Yn[t>>6&63]+Yn[t&63]}function xW(t,e,r){for(var i,n=[],s=e;s<r;s+=3)i=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),n.push(_W(i));return n.join("")}function EW(t){for(var e,r=t.length,i=r%3,n=[],s=16383,o=0,f=r-i;o<f;o+=s)n.push(xW(t,o,o+s>f?f:o+s));return i===1?(e=t[r-1],n.push(Yn[e>>2]+Yn[e<<4&63]+"==")):i===2&&(e=(t[r-2]<<8)+t[r-1],n.push(Yn[e>>10]+Yn[e>>4&63]+Yn[e<<2&63]+"=")),n.join("")}});var OS=D(q2=>{y();q2.read=function(t,e,r,i,n){var s,o,f=n*8-i-1,l=(1<<f)-1,b=l>>1,E=-7,C=r?n-1:0,N=r?-1:1,L=t[e+C];for(C+=N,s=L&(1<<-E)-1,L>>=-E,E+=f;E>0;s=s*256+t[e+C],C+=N,E-=8);for(o=s&(1<<-E)-1,s>>=-E,E+=i;E>0;o=o*256+t[e+C],C+=N,E-=8);if(s===0)s=1-b;else{if(s===l)return o?NaN:(L?-1:1)*(1/0);o=o+Math.pow(2,i),s=s-b}return(L?-1:1)*o*Math.pow(2,s-i)};q2.write=function(t,e,r,i,n,s){var o,f,l,b=s*8-n-1,E=(1<<b)-1,C=E>>1,N=n===23?Math.pow(2,-24)-Math.pow(2,-77):0,L=i?0:s-1,R=i?1:-1,V=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(f=isNaN(e)?1:0,o=E):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+C>=1?e+=N/l:e+=N*Math.pow(2,1-C),e*l>=2&&(o++,l/=2),o+C>=E?(f=0,o=E):o+C>=1?(f=(e*l-1)*Math.pow(2,n),o=o+C):(f=e*Math.pow(2,C-1)*Math.pow(2,n),o=0));n>=8;t[r+L]=f&255,L+=R,f/=256,n-=8);for(o=o<<n|f,b+=n;b>0;t[r+L]=o&255,L+=R,o/=256,b-=8);t[r+L-R]|=V*128}});var mi=D(uc=>{"use strict";y();var F2=TS(),fc=OS(),NS=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;uc.Buffer=he;uc.SlowBuffer=TW;uc.INSPECT_MAX_BYTES=50;var fg=2147483647;uc.kMaxLength=fg;he.TYPED_ARRAY_SUPPORT=AW();!he.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function AW(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch{return!1}}Object.defineProperty(he.prototype,"parent",{enumerable:!0,get:function(){if(!!he.isBuffer(this))return this.buffer}});Object.defineProperty(he.prototype,"offset",{enumerable:!0,get:function(){if(!!he.isBuffer(this))return this.byteOffset}});function Ws(t){if(t>fg)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return Object.setPrototypeOf(e,he.prototype),e}function he(t,e,r){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return j2(t)}return RS(t,e,r)}he.poolSize=8192;function RS(t,e,r){if(typeof t=="string")return IW(t,e);if(ArrayBuffer.isView(t))return MW(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(Jn(t,ArrayBuffer)||t&&Jn(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Jn(t,SharedArrayBuffer)||t&&Jn(t.buffer,SharedArrayBuffer)))return k2(t,e,r);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var i=t.valueOf&&t.valueOf();if(i!=null&&i!==t)return he.from(i,e,r);var n=CW(t);if(n)return n;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return he.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}he.from=function(t,e,r){return RS(t,e,r)};Object.setPrototypeOf(he.prototype,Uint8Array.prototype);Object.setPrototypeOf(he,Uint8Array);function PS(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function SW(t,e,r){return PS(t),t<=0?Ws(t):e!==void 0?typeof r=="string"?Ws(t).fill(e,r):Ws(t).fill(e):Ws(t)}he.alloc=function(t,e,r){return SW(t,e,r)};function j2(t){return PS(t),Ws(t<0?0:V2(t)|0)}he.allocUnsafe=function(t){return j2(t)};he.allocUnsafeSlow=function(t){return j2(t)};function IW(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!he.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var r=LS(t,e)|0,i=Ws(r),n=i.write(t,e);return n!==r&&(i=i.slice(0,n)),i}function U2(t){for(var e=t.length<0?0:V2(t.length)|0,r=Ws(e),i=0;i<e;i+=1)r[i]=t[i]&255;return r}function MW(t){if(Jn(t,Uint8Array)){var e=new Uint8Array(t);return k2(e.buffer,e.byteOffset,e.byteLength)}return U2(t)}function k2(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');var i;return e===void 0&&r===void 0?i=new Uint8Array(t):r===void 0?i=new Uint8Array(t,e):i=new Uint8Array(t,e,r),Object.setPrototypeOf(i,he.prototype),i}function CW(t){if(he.isBuffer(t)){var e=V2(t.length)|0,r=Ws(e);return r.length===0||t.copy(r,0,0,e),r}if(t.length!==void 0)return typeof t.length!="number"||z2(t.length)?Ws(0):U2(t);if(t.type==="Buffer"&&Array.isArray(t.data))return U2(t.data)}function V2(t){if(t>=fg)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+fg.toString(16)+" bytes");return t|0}function TW(t){return+t!=t&&(t=0),he.alloc(+t)}he.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==he.prototype};he.compare=function(e,r){if(Jn(e,Uint8Array)&&(e=he.from(e,e.offset,e.byteLength)),Jn(r,Uint8Array)&&(r=he.from(r,r.offset,r.byteLength)),!he.isBuffer(e)||!he.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===r)return 0;for(var i=e.length,n=r.length,s=0,o=Math.min(i,n);s<o;++s)if(e[s]!==r[s]){i=e[s],n=r[s];break}return i<n?-1:n<i?1:0};he.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};he.concat=function(e,r){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return he.alloc(0);var i;if(r===void 0)for(r=0,i=0;i<e.length;++i)r+=e[i].length;var n=he.allocUnsafe(r),s=0;for(i=0;i<e.length;++i){var o=e[i];if(Jn(o,Uint8Array))s+o.length>n.length?he.from(o).copy(n,s):Uint8Array.prototype.set.call(n,o,s);else if(he.isBuffer(o))o.copy(n,s);else throw new TypeError('"list" argument must be an Array of Buffers');s+=o.length}return n};function LS(t,e){if(he.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||Jn(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var r=t.length,i=arguments.length>2&&arguments[2]===!0;if(!i&&r===0)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return H2(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return jS(t).length;default:if(n)return i?-1:H2(t).length;e=(""+e).toLowerCase(),n=!0}}he.byteLength=LS;function OW(t,e,r){var i=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,e>>>=0,r<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return kW(this,e,r);case"utf8":case"utf-8":return FS(this,e,r);case"ascii":return FW(this,e,r);case"latin1":case"binary":return UW(this,e,r);case"base64":return LW(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return HW(this,e,r);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}he.prototype._isBuffer=!0;function cf(t,e,r){var i=t[e];t[e]=t[r],t[r]=i}he.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<e;r+=2)cf(this,r,r+1);return this};he.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<e;r+=4)cf(this,r,r+3),cf(this,r+1,r+2);return this};he.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<e;r+=8)cf(this,r,r+7),cf(this,r+1,r+6),cf(this,r+2,r+5),cf(this,r+3,r+4);return this};he.prototype.toString=function(){var e=this.length;return e===0?"":arguments.length===0?FS(this,0,e):OW.apply(this,arguments)};he.prototype.toLocaleString=he.prototype.toString;he.prototype.equals=function(e){if(!he.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:he.compare(this,e)===0};he.prototype.inspect=function(){var e="",r=uc.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"};NS&&(he.prototype[NS]=he.prototype.inspect);he.prototype.compare=function(e,r,i,n,s){if(Jn(e,Uint8Array)&&(e=he.from(e,e.offset,e.byteLength)),!he.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(r===void 0&&(r=0),i===void 0&&(i=e?e.length:0),n===void 0&&(n=0),s===void 0&&(s=this.length),r<0||i>e.length||n<0||s>this.length)throw new RangeError("out of range index");if(n>=s&&r>=i)return 0;if(n>=s)return-1;if(r>=i)return 1;if(r>>>=0,i>>>=0,n>>>=0,s>>>=0,this===e)return 0;for(var o=s-n,f=i-r,l=Math.min(o,f),b=this.slice(n,s),E=e.slice(r,i),C=0;C<l;++C)if(b[C]!==E[C]){o=b[C],f=E[C];break}return o<f?-1:f<o?1:0};function qS(t,e,r,i,n){if(t.length===0)return-1;if(typeof r=="string"?(i=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,z2(r)&&(r=n?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(n)return-1;r=t.length-1}else if(r<0)if(n)r=0;else return-1;if(typeof e=="string"&&(e=he.from(e,i)),he.isBuffer(e))return e.length===0?-1:BS(t,e,r,i,n);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?n?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):BS(t,[e],r,i,n);throw new TypeError("val must be string, number or Buffer")}function BS(t,e,r,i,n){var s=1,o=t.length,f=e.length;if(i!==void 0&&(i=String(i).toLowerCase(),i==="ucs2"||i==="ucs-2"||i==="utf16le"||i==="utf-16le")){if(t.length<2||e.length<2)return-1;s=2,o/=2,f/=2,r/=2}function l(L,R){return s===1?L[R]:L.readUInt16BE(R*s)}var b;if(n){var E=-1;for(b=r;b<o;b++)if(l(t,b)===l(e,E===-1?0:b-E)){if(E===-1&&(E=b),b-E+1===f)return E*s}else E!==-1&&(b-=b-E),E=-1}else for(r+f>o&&(r=o-f),b=r;b>=0;b--){for(var C=!0,N=0;N<f;N++)if(l(t,b+N)!==l(e,N)){C=!1;break}if(C)return b}return-1}he.prototype.includes=function(e,r,i){return this.indexOf(e,r,i)!==-1};he.prototype.indexOf=function(e,r,i){return qS(this,e,r,i,!0)};he.prototype.lastIndexOf=function(e,r,i){return qS(this,e,r,i,!1)};function NW(t,e,r,i){r=Number(r)||0;var n=t.length-r;i?(i=Number(i),i>n&&(i=n)):i=n;var s=e.length;i>s/2&&(i=s/2);for(var o=0;o<i;++o){var f=parseInt(e.substr(o*2,2),16);if(z2(f))return o;t[r+o]=f}return o}function BW(t,e,r,i){return ug(H2(e,t.length-r),t,r,i)}function DW(t,e,r,i){return ug(zW(e),t,r,i)}function RW(t,e,r,i){return ug(jS(e),t,r,i)}function PW(t,e,r,i){return ug(KW(e,t.length-r),t,r,i)}he.prototype.write=function(e,r,i,n){if(r===void 0)n="utf8",i=this.length,r=0;else if(i===void 0&&typeof r=="string")n=r,i=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(i)?(i=i>>>0,n===void 0&&(n="utf8")):(n=i,i=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var s=this.length-r;if((i===void 0||i>s)&&(i=s),e.length>0&&(i<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return NW(this,e,r,i);case"utf8":case"utf-8":return BW(this,e,r,i);case"ascii":case"latin1":case"binary":return DW(this,e,r,i);case"base64":return RW(this,e,r,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return PW(this,e,r,i);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}};he.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function LW(t,e,r){return e===0&&r===t.length?F2.fromByteArray(t):F2.fromByteArray(t.slice(e,r))}function FS(t,e,r){r=Math.min(t.length,r);for(var i=[],n=e;n<r;){var s=t[n],o=null,f=s>239?4:s>223?3:s>191?2:1;if(n+f<=r){var l,b,E,C;switch(f){case 1:s<128&&(o=s);break;case 2:l=t[n+1],(l&192)===128&&(C=(s&31)<<6|l&63,C>127&&(o=C));break;case 3:l=t[n+1],b=t[n+2],(l&192)===128&&(b&192)===128&&(C=(s&15)<<12|(l&63)<<6|b&63,C>2047&&(C<55296||C>57343)&&(o=C));break;case 4:l=t[n+1],b=t[n+2],E=t[n+3],(l&192)===128&&(b&192)===128&&(E&192)===128&&(C=(s&15)<<18|(l&63)<<12|(b&63)<<6|E&63,C>65535&&C<1114112&&(o=C))}}o===null?(o=65533,f=1):o>65535&&(o-=65536,i.push(o>>>10&1023|55296),o=56320|o&1023),i.push(o),n+=f}return qW(i)}var DS=4096;function qW(t){var e=t.length;if(e<=DS)return String.fromCharCode.apply(String,t);for(var r="",i=0;i<e;)r+=String.fromCharCode.apply(String,t.slice(i,i+=DS));return r}function FW(t,e,r){var i="";r=Math.min(t.length,r);for(var n=e;n<r;++n)i+=String.fromCharCode(t[n]&127);return i}function UW(t,e,r){var i="";r=Math.min(t.length,r);for(var n=e;n<r;++n)i+=String.fromCharCode(t[n]);return i}function kW(t,e,r){var i=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>i)&&(r=i);for(var n="",s=e;s<r;++s)n+=GW[t[s]];return n}function HW(t,e,r){for(var i=t.slice(e,r),n="",s=0;s<i.length-1;s+=2)n+=String.fromCharCode(i[s]+i[s+1]*256);return n}he.prototype.slice=function(e,r){var i=this.length;e=~~e,r=r===void 0?i:~~r,e<0?(e+=i,e<0&&(e=0)):e>i&&(e=i),r<0?(r+=i,r<0&&(r=0)):r>i&&(r=i),r<e&&(r=e);var n=this.subarray(e,r);return Object.setPrototypeOf(n,he.prototype),n};function vr(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}he.prototype.readUintLE=he.prototype.readUIntLE=function(e,r,i){e=e>>>0,r=r>>>0,i||vr(e,r,this.length);for(var n=this[e],s=1,o=0;++o<r&&(s*=256);)n+=this[e+o]*s;return n};he.prototype.readUintBE=he.prototype.readUIntBE=function(e,r,i){e=e>>>0,r=r>>>0,i||vr(e,r,this.length);for(var n=this[e+--r],s=1;r>0&&(s*=256);)n+=this[e+--r]*s;return n};he.prototype.readUint8=he.prototype.readUInt8=function(e,r){return e=e>>>0,r||vr(e,1,this.length),this[e]};he.prototype.readUint16LE=he.prototype.readUInt16LE=function(e,r){return e=e>>>0,r||vr(e,2,this.length),this[e]|this[e+1]<<8};he.prototype.readUint16BE=he.prototype.readUInt16BE=function(e,r){return e=e>>>0,r||vr(e,2,this.length),this[e]<<8|this[e+1]};he.prototype.readUint32LE=he.prototype.readUInt32LE=function(e,r){return e=e>>>0,r||vr(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};he.prototype.readUint32BE=he.prototype.readUInt32BE=function(e,r){return e=e>>>0,r||vr(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};he.prototype.readIntLE=function(e,r,i){e=e>>>0,r=r>>>0,i||vr(e,r,this.length);for(var n=this[e],s=1,o=0;++o<r&&(s*=256);)n+=this[e+o]*s;return s*=128,n>=s&&(n-=Math.pow(2,8*r)),n};he.prototype.readIntBE=function(e,r,i){e=e>>>0,r=r>>>0,i||vr(e,r,this.length);for(var n=r,s=1,o=this[e+--n];n>0&&(s*=256);)o+=this[e+--n]*s;return s*=128,o>=s&&(o-=Math.pow(2,8*r)),o};he.prototype.readInt8=function(e,r){return e=e>>>0,r||vr(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};he.prototype.readInt16LE=function(e,r){e=e>>>0,r||vr(e,2,this.length);var i=this[e]|this[e+1]<<8;return i&32768?i|4294901760:i};he.prototype.readInt16BE=function(e,r){e=e>>>0,r||vr(e,2,this.length);var i=this[e+1]|this[e]<<8;return i&32768?i|4294901760:i};he.prototype.readInt32LE=function(e,r){return e=e>>>0,r||vr(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};he.prototype.readInt32BE=function(e,r){return e=e>>>0,r||vr(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};he.prototype.readFloatLE=function(e,r){return e=e>>>0,r||vr(e,4,this.length),fc.read(this,e,!0,23,4)};he.prototype.readFloatBE=function(e,r){return e=e>>>0,r||vr(e,4,this.length),fc.read(this,e,!1,23,4)};he.prototype.readDoubleLE=function(e,r){return e=e>>>0,r||vr(e,8,this.length),fc.read(this,e,!0,52,8)};he.prototype.readDoubleBE=function(e,r){return e=e>>>0,r||vr(e,8,this.length),fc.read(this,e,!1,52,8)};function yi(t,e,r,i,n,s){if(!he.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>n||e<s)throw new RangeError('"value" argument is out of bounds');if(r+i>t.length)throw new RangeError("Index out of range")}he.prototype.writeUintLE=he.prototype.writeUIntLE=function(e,r,i,n){if(e=+e,r=r>>>0,i=i>>>0,!n){var s=Math.pow(2,8*i)-1;yi(this,e,r,i,s,0)}var o=1,f=0;for(this[r]=e&255;++f<i&&(o*=256);)this[r+f]=e/o&255;return r+i};he.prototype.writeUintBE=he.prototype.writeUIntBE=function(e,r,i,n){if(e=+e,r=r>>>0,i=i>>>0,!n){var s=Math.pow(2,8*i)-1;yi(this,e,r,i,s,0)}var o=i-1,f=1;for(this[r+o]=e&255;--o>=0&&(f*=256);)this[r+o]=e/f&255;return r+i};he.prototype.writeUint8=he.prototype.writeUInt8=function(e,r,i){return e=+e,r=r>>>0,i||yi(this,e,r,1,255,0),this[r]=e&255,r+1};he.prototype.writeUint16LE=he.prototype.writeUInt16LE=function(e,r,i){return e=+e,r=r>>>0,i||yi(this,e,r,2,65535,0),this[r]=e&255,this[r+1]=e>>>8,r+2};he.prototype.writeUint16BE=he.prototype.writeUInt16BE=function(e,r,i){return e=+e,r=r>>>0,i||yi(this,e,r,2,65535,0),this[r]=e>>>8,this[r+1]=e&255,r+2};he.prototype.writeUint32LE=he.prototype.writeUInt32LE=function(e,r,i){return e=+e,r=r>>>0,i||yi(this,e,r,4,4294967295,0),this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=e&255,r+4};he.prototype.writeUint32BE=he.prototype.writeUInt32BE=function(e,r,i){return e=+e,r=r>>>0,i||yi(this,e,r,4,4294967295,0),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};he.prototype.writeIntLE=function(e,r,i,n){if(e=+e,r=r>>>0,!n){var s=Math.pow(2,8*i-1);yi(this,e,r,i,s-1,-s)}var o=0,f=1,l=0;for(this[r]=e&255;++o<i&&(f*=256);)e<0&&l===0&&this[r+o-1]!==0&&(l=1),this[r+o]=(e/f>>0)-l&255;return r+i};he.prototype.writeIntBE=function(e,r,i,n){if(e=+e,r=r>>>0,!n){var s=Math.pow(2,8*i-1);yi(this,e,r,i,s-1,-s)}var o=i-1,f=1,l=0;for(this[r+o]=e&255;--o>=0&&(f*=256);)e<0&&l===0&&this[r+o+1]!==0&&(l=1),this[r+o]=(e/f>>0)-l&255;return r+i};he.prototype.writeInt8=function(e,r,i){return e=+e,r=r>>>0,i||yi(this,e,r,1,127,-128),e<0&&(e=255+e+1),this[r]=e&255,r+1};he.prototype.writeInt16LE=function(e,r,i){return e=+e,r=r>>>0,i||yi(this,e,r,2,32767,-32768),this[r]=e&255,this[r+1]=e>>>8,r+2};he.prototype.writeInt16BE=function(e,r,i){return e=+e,r=r>>>0,i||yi(this,e,r,2,32767,-32768),this[r]=e>>>8,this[r+1]=e&255,r+2};he.prototype.writeInt32LE=function(e,r,i){return e=+e,r=r>>>0,i||yi(this,e,r,4,2147483647,-2147483648),this[r]=e&255,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24,r+4};he.prototype.writeInt32BE=function(e,r,i){return e=+e,r=r>>>0,i||yi(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};function US(t,e,r,i,n,s){if(r+i>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function kS(t,e,r,i,n){return e=+e,r=r>>>0,n||US(t,e,r,4,34028234663852886e22,-34028234663852886e22),fc.write(t,e,r,i,23,4),r+4}he.prototype.writeFloatLE=function(e,r,i){return kS(this,e,r,!0,i)};he.prototype.writeFloatBE=function(e,r,i){return kS(this,e,r,!1,i)};function HS(t,e,r,i,n){return e=+e,r=r>>>0,n||US(t,e,r,8,17976931348623157e292,-17976931348623157e292),fc.write(t,e,r,i,52,8),r+8}he.prototype.writeDoubleLE=function(e,r,i){return HS(this,e,r,!0,i)};he.prototype.writeDoubleBE=function(e,r,i){return HS(this,e,r,!1,i)};he.prototype.copy=function(e,r,i,n){if(!he.isBuffer(e))throw new TypeError("argument should be a Buffer");if(i||(i=0),!n&&n!==0&&(n=this.length),r>=e.length&&(r=e.length),r||(r=0),n>0&&n<i&&(n=i),n===i||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-r<n-i&&(n=e.length-r+i);var s=n-i;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,i,n):Uint8Array.prototype.set.call(e,this.subarray(i,n),r),s};he.prototype.fill=function(e,r,i,n){if(typeof e=="string"){if(typeof r=="string"?(n=r,r=0,i=this.length):typeof i=="string"&&(n=i,i=this.length),n!==void 0&&typeof n!="string")throw new TypeError("encoding must be a string");if(typeof n=="string"&&!he.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(e.length===1){var s=e.charCodeAt(0);(n==="utf8"&&s<128||n==="latin1")&&(e=s)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(r<0||this.length<r||this.length<i)throw new RangeError("Out of range index");if(i<=r)return this;r=r>>>0,i=i===void 0?this.length:i>>>0,e||(e=0);var o;if(typeof e=="number")for(o=r;o<i;++o)this[o]=e;else{var f=he.isBuffer(e)?e:he.from(e,n),l=f.length;if(l===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<i-r;++o)this[o+r]=f[o%l]}return this};var jW=/[^+/0-9A-Za-z-_]/g;function VW(t){if(t=t.split("=")[0],t=t.trim().replace(jW,""),t.length<2)return"";for(;t.length%4!==0;)t=t+"=";return t}function H2(t,e){e=e||1/0;for(var r,i=t.length,n=null,s=[],o=0;o<i;++o){if(r=t.charCodeAt(o),r>55295&&r<57344){if(!n){if(r>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(o+1===i){(e-=3)>-1&&s.push(239,191,189);continue}n=r;continue}if(r<56320){(e-=3)>-1&&s.push(239,191,189),n=r;continue}r=(n-55296<<10|r-56320)+65536}else n&&(e-=3)>-1&&s.push(239,191,189);if(n=null,r<128){if((e-=1)<0)break;s.push(r)}else if(r<2048){if((e-=2)<0)break;s.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;s.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return s}function zW(t){for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r)&255);return e}function KW(t,e){for(var r,i,n,s=[],o=0;o<t.length&&!((e-=2)<0);++o)r=t.charCodeAt(o),i=r>>8,n=r%256,s.push(n),s.push(i);return s}function jS(t){return F2.toByteArray(VW(t))}function ug(t,e,r,i){for(var n=0;n<i&&!(n+r>=e.length||n>=t.length);++n)e[n+r]=t[n];return n}function Jn(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function z2(t){return t!==t}var GW=function(){for(var t="0123456789abcdef",e=new Array(256),r=0;r<16;++r)for(var i=r*16,n=0;n<16;++n)e[i+n]=t[r]+t[n];return e}()});var QS=D((r3e,GS)=>{y();var Jt=GS.exports={},Xn,Zn;function K2(){throw new Error("setTimeout has not been defined")}function G2(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Xn=setTimeout:Xn=K2}catch{Xn=K2}try{typeof clearTimeout=="function"?Zn=clearTimeout:Zn=G2}catch{Zn=G2}})();function VS(t){if(Xn===setTimeout)return setTimeout(t,0);if((Xn===K2||!Xn)&&setTimeout)return Xn=setTimeout,setTimeout(t,0);try{return Xn(t,0)}catch{try{return Xn.call(null,t,0)}catch{return Xn.call(this,t,0)}}}function QW(t){if(Zn===clearTimeout)return clearTimeout(t);if((Zn===G2||!Zn)&&clearTimeout)return Zn=clearTimeout,clearTimeout(t);try{return Zn(t)}catch{try{return Zn.call(null,t)}catch{return Zn.call(this,t)}}}var $s=[],cc=!1,hf,cg=-1;function WW(){!cc||!hf||(cc=!1,hf.length?$s=hf.concat($s):cg=-1,$s.length&&zS())}function zS(){if(!cc){var t=VS(WW);cc=!0;for(var e=$s.length;e;){for(hf=$s,$s=[];++cg<e;)hf&&hf[cg].run();cg=-1,e=$s.length}hf=null,cc=!1,QW(t)}}Jt.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];$s.push(new KS(t,e)),$s.length===1&&!cc&&VS(zS)};function KS(t,e){this.fun=t,this.array=e}KS.prototype.run=function(){this.fun.apply(null,this.array)};Jt.title="browser";Jt.browser=!0;Jt.env={};Jt.argv=[];Jt.version="";Jt.versions={};function Ys(){}Jt.on=Ys;Jt.addListener=Ys;Jt.once=Ys;Jt.off=Ys;Jt.removeListener=Ys;Jt.removeAllListeners=Ys;Jt.emit=Ys;Jt.prependListener=Ys;Jt.prependOnceListener=Ys;Jt.listeners=function(t){return[]};Jt.binding=function(t){throw new Error("process.binding is not supported")};Jt.cwd=function(){return"/"};Jt.chdir=function(t){throw new Error("process.chdir is not supported")};Jt.umask=function(){return 0}});var M,I,$W,global,y=fe(()=>{M=Ve(mi()),I=Ve(QS()),$W=function(t){function e(){var i=this||self;return delete t.prototype.__magic__,i}if(typeof globalThis=="object")return globalThis;if(this)return e();t.defineProperty(t.prototype,"__magic__",{configurable:!0,get:e});var r=__magic__;return r}(Object),global=$W});var xn=D((WS,hg)=>{y();(function(t){"use strict";var e,r=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,i=Math.ceil,n=Math.floor,s="[BigNumber Error] ",o=s+"Number primitive has more than 15 significant digits: ",f=1e14,l=14,b=9007199254740991,E=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],C=1e7,N=1e9;function L(ne){var Z,G,Q,P=h.prototype={constructor:h,toString:null,valueOf:null},w=new h(1),p=20,_=4,g=-7,a=21,c=-1e7,m=1e7,v=!1,u=1,d=0,x={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xA0",suffix:""},A="0123456789abcdefghijklmnopqrstuvwxyz";function h(O,B){var q,U,F,Y,j,H,te,J,X=this;if(!(X instanceof h))return new h(O,B);if(B==null){if(O&&O._isBigNumber===!0){X.s=O.s,!O.c||O.e>m?X.c=X.e=null:O.e<c?X.c=[X.e=0]:(X.e=O.e,X.c=O.c.slice());return}if((H=typeof O=="number")&&O*0==0){if(X.s=1/O<0?(O=-O,-1):1,O===~~O){for(Y=0,j=O;j>=10;j/=10,Y++);Y>m?X.c=X.e=null:(X.e=Y,X.c=[O]);return}J=String(O)}else{if(!r.test(J=String(O)))return Q(X,J,H);X.s=J.charCodeAt(0)==45?(J=J.slice(1),-1):1}(Y=J.indexOf("."))>-1&&(J=J.replace(".","")),(j=J.search(/e/i))>0?(Y<0&&(Y=j),Y+=+J.slice(j+1),J=J.substring(0,j)):Y<0&&(Y=J.length)}else{if($(B,2,A.length,"Base"),B==10)return X=new h(O),k(X,p+X.e+1,_);if(J=String(O),H=typeof O=="number"){if(O*0!=0)return Q(X,J,H,B);if(X.s=1/O<0?(J=J.slice(1),-1):1,h.DEBUG&&J.replace(/^0\.0*|\./,"").length>15)throw Error(o+O)}else X.s=J.charCodeAt(0)===45?(J=J.slice(1),-1):1;for(q=A.slice(0,B),Y=j=0,te=J.length;j<te;j++)if(q.indexOf(U=J.charAt(j))<0){if(U=="."){if(j>Y){Y=te;continue}}else if(!F&&(J==J.toUpperCase()&&(J=J.toLowerCase())||J==J.toLowerCase()&&(J=J.toUpperCase()))){F=!0,j=-1,Y=0;continue}return Q(X,String(O),H,B)}H=!1,J=G(J,B,10,X.s),(Y=J.indexOf("."))>-1?J=J.replace(".",""):Y=J.length}for(j=0;J.charCodeAt(j)===48;j++);for(te=J.length;J.charCodeAt(--te)===48;);if(J=J.slice(j,++te)){if(te-=j,H&&h.DEBUG&&te>15&&(O>b||O!==n(O)))throw Error(o+X.s*O);if((Y=Y-j-1)>m)X.c=X.e=null;else if(Y<c)X.c=[X.e=0];else{if(X.e=Y,X.c=[],j=(Y+1)%l,Y<0&&(j+=l),j<te){for(j&&X.c.push(+J.slice(0,j)),te-=l;j<te;)X.c.push(+J.slice(j,j+=l));j=l-(J=J.slice(j)).length}else j-=te;for(;j--;J+="0");X.c.push(+J)}}else X.c=[X.e=0]}h.clone=L,h.ROUND_UP=0,h.ROUND_DOWN=1,h.ROUND_CEIL=2,h.ROUND_FLOOR=3,h.ROUND_HALF_UP=4,h.ROUND_HALF_DOWN=5,h.ROUND_HALF_EVEN=6,h.ROUND_HALF_CEIL=7,h.ROUND_HALF_FLOOR=8,h.EUCLID=9,h.config=h.set=function(O){var B,q;if(O!=null)if(typeof O=="object"){if(O.hasOwnProperty(B="DECIMAL_PLACES")&&(q=O[B],$(q,0,N,B),p=q),O.hasOwnProperty(B="ROUNDING_MODE")&&(q=O[B],$(q,0,8,B),_=q),O.hasOwnProperty(B="EXPONENTIAL_AT")&&(q=O[B],q&&q.pop?($(q[0],-N,0,B),$(q[1],0,N,B),g=q[0],a=q[1]):($(q,-N,N,B),g=-(a=q<0?-q:q))),O.hasOwnProperty(B="RANGE"))if(q=O[B],q&&q.pop)$(q[0],-N,-1,B),$(q[1],1,N,B),c=q[0],m=q[1];else if($(q,-N,N,B),q)c=-(m=q<0?-q:q);else throw Error(s+B+" cannot be zero: "+q);if(O.hasOwnProperty(B="CRYPTO"))if(q=O[B],q===!!q)if(q)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))v=q;else throw v=!q,Error(s+"crypto unavailable");else v=q;else throw Error(s+B+" not true or false: "+q);if(O.hasOwnProperty(B="MODULO_MODE")&&(q=O[B],$(q,0,9,B),u=q),O.hasOwnProperty(B="POW_PRECISION")&&(q=O[B],$(q,0,N,B),d=q),O.hasOwnProperty(B="FORMAT"))if(q=O[B],typeof q=="object")x=q;else throw Error(s+B+" not an object: "+q);if(O.hasOwnProperty(B="ALPHABET"))if(q=O[B],typeof q=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(q))A=q;else throw Error(s+B+" invalid: "+q)}else throw Error(s+"Object expected: "+O);return{DECIMAL_PLACES:p,ROUNDING_MODE:_,EXPONENTIAL_AT:[g,a],RANGE:[c,m],CRYPTO:v,MODULO_MODE:u,POW_PRECISION:d,FORMAT:x,ALPHABET:A}},h.isBigNumber=function(O){if(!O||O._isBigNumber!==!0)return!1;if(!h.DEBUG)return!0;var B,q,U=O.c,F=O.e,Y=O.s;e:if({}.toString.call(U)=="[object Array]"){if((Y===1||Y===-1)&&F>=-N&&F<=N&&F===n(F)){if(U[0]===0){if(F===0&&U.length===1)return!0;break e}if(B=(F+1)%l,B<1&&(B+=l),String(U[0]).length==B){for(B=0;B<U.length;B++)if(q=U[B],q<0||q>=f||q!==n(q))break e;if(q!==0)return!0}}}else if(U===null&&F===null&&(Y===null||Y===1||Y===-1))return!0;throw Error(s+"Invalid BigNumber: "+O)},h.maximum=h.max=function(){return K(arguments,P.lt)},h.minimum=h.min=function(){return K(arguments,P.gt)},h.random=function(){var O=9007199254740992,B=Math.random()*O&2097151?function(){return n(Math.random()*O)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(q){var U,F,Y,j,H,te=0,J=[],X=new h(w);if(q==null?q=p:$(q,0,N),j=i(q/l),v)if(crypto.getRandomValues){for(U=crypto.getRandomValues(new Uint32Array(j*=2));te<j;)H=U[te]*131072+(U[te+1]>>>11),H>=9e15?(F=crypto.getRandomValues(new Uint32Array(2)),U[te]=F[0],U[te+1]=F[1]):(J.push(H%1e14),te+=2);te=j/2}else if(crypto.randomBytes){for(U=crypto.randomBytes(j*=7);te<j;)H=(U[te]&31)*281474976710656+U[te+1]*1099511627776+U[te+2]*4294967296+U[te+3]*16777216+(U[te+4]<<16)+(U[te+5]<<8)+U[te+6],H>=9e15?crypto.randomBytes(7).copy(U,te):(J.push(H%1e14),te+=7);te=j/7}else throw v=!1,Error(s+"crypto unavailable");if(!v)for(;te<j;)H=B(),H<9e15&&(J[te++]=H%1e14);for(j=J[--te],q%=l,j&&q&&(H=E[l-q],J[te]=n(j/H)*H);J[te]===0;J.pop(),te--);if(te<0)J=[Y=0];else{for(Y=-1;J[0]===0;J.splice(0,1),Y-=l);for(te=1,H=J[0];H>=10;H/=10,te++);te<l&&(Y-=l-te)}return X.e=Y,X.c=J,X}}(),h.sum=function(){for(var O=1,B=arguments,q=new h(B[0]);O<B.length;)q=q.plus(B[O++]);return q},G=function(){var O="0123456789";function B(q,U,F,Y){for(var j,H=[0],te,J=0,X=q.length;J<X;){for(te=H.length;te--;H[te]*=U);for(H[0]+=Y.indexOf(q.charAt(J++)),j=0;j<H.length;j++)H[j]>F-1&&(H[j+1]==null&&(H[j+1]=0),H[j+1]+=H[j]/F|0,H[j]%=F)}return H.reverse()}return function(q,U,F,Y,j){var H,te,J,X,ae,se,ue,je,de=q.indexOf("."),me=p,He=_;for(de>=0&&(X=d,d=0,q=q.replace(".",""),je=new h(U),se=je.pow(q.length-de),d=X,je.c=B(ie(V(se.c),se.e,"0"),10,F,O),je.e=je.c.length),ue=B(q,U,F,j?(H=A,O):(H=O,A)),J=X=ue.length;ue[--X]==0;ue.pop());if(!ue[0])return H.charAt(0);if(de<0?--J:(se.c=ue,se.e=J,se.s=Y,se=Z(se,je,me,He,F),ue=se.c,ae=se.r,J=se.e),te=J+me+1,de=ue[te],X=F/2,ae=ae||te<0||ue[te+1]!=null,ae=He<4?(de!=null||ae)&&(He==0||He==(se.s<0?3:2)):de>X||de==X&&(He==4||ae||He==6&&ue[te-1]&1||He==(se.s<0?8:7)),te<1||!ue[0])q=ae?ie(H.charAt(1),-me,H.charAt(0)):H.charAt(0);else{if(ue.length=te,ae)for(--F;++ue[--te]>F;)ue[te]=0,te||(++J,ue=[1].concat(ue));for(X=ue.length;!ue[--X];);for(de=0,q="";de<=X;q+=H.charAt(ue[de++]));q=ie(q,J,H.charAt(0))}return q}}(),Z=function(){function O(U,F,Y){var j,H,te,J,X=0,ae=U.length,se=F%C,ue=F/C|0;for(U=U.slice();ae--;)te=U[ae]%C,J=U[ae]/C|0,j=ue*te+J*se,H=se*te+j%C*C+X,X=(H/Y|0)+(j/C|0)+ue*J,U[ae]=H%Y;return X&&(U=[X].concat(U)),U}function B(U,F,Y,j){var H,te;if(Y!=j)te=Y>j?1:-1;else for(H=te=0;H<Y;H++)if(U[H]!=F[H]){te=U[H]>F[H]?1:-1;break}return te}function q(U,F,Y,j){for(var H=0;Y--;)U[Y]-=H,H=U[Y]<F[Y]?1:0,U[Y]=H*j+U[Y]-F[Y];for(;!U[0]&&U.length>1;U.splice(0,1));}return function(U,F,Y,j,H){var te,J,X,ae,se,ue,je,de,me,He,le,Me,nt,ye,Te,Ye,ge,Ce=U.s==F.s?1:-1,$e=U.c,pe=F.c;if(!$e||!$e[0]||!pe||!pe[0])return new h(!U.s||!F.s||($e?pe&&$e[0]==pe[0]:!pe)?NaN:$e&&$e[0]==0||!pe?Ce*0:Ce/0);for(de=new h(Ce),me=de.c=[],J=U.e-F.e,Ce=Y+J+1,H||(H=f,J=R(U.e/l)-R(F.e/l),Ce=Ce/l|0),X=0;pe[X]==($e[X]||0);X++);if(pe[X]>($e[X]||0)&&J--,Ce<0)me.push(1),ae=!0;else{for(ye=$e.length,Ye=pe.length,X=0,Ce+=2,se=n(H/(pe[0]+1)),se>1&&(pe=O(pe,se,H),$e=O($e,se,H),Ye=pe.length,ye=$e.length),nt=Ye,He=$e.slice(0,Ye),le=He.length;le<Ye;He[le++]=0);ge=pe.slice(),ge=[0].concat(ge),Te=pe[0],pe[1]>=H/2&&Te++;do{if(se=0,te=B(pe,He,Ye,le),te<0){if(Me=He[0],Ye!=le&&(Me=Me*H+(He[1]||0)),se=n(Me/Te),se>1)for(se>=H&&(se=H-1),ue=O(pe,se,H),je=ue.length,le=He.length;B(ue,He,je,le)==1;)se--,q(ue,Ye<je?ge:pe,je,H),je=ue.length,te=1;else se==0&&(te=se=1),ue=pe.slice(),je=ue.length;if(je<le&&(ue=[0].concat(ue)),q(He,ue,le,H),le=He.length,te==-1)for(;B(pe,He,Ye,le)<1;)se++,q(He,Ye<le?ge:pe,le,H),le=He.length}else te===0&&(se++,He=[0]);me[X++]=se,He[0]?He[le++]=$e[nt]||0:(He=[$e[nt]],le=1)}while((nt++<ye||He[0]!=null)&&Ce--);ae=He[0]!=null,me[0]||me.splice(0,1)}if(H==f){for(X=1,Ce=me[0];Ce>=10;Ce/=10,X++);k(de,Y+(de.e=X+J*l-1)+1,j,ae)}else de.e=J,de.r=+ae;return de}}();function S(O,B,q,U){var F,Y,j,H,te;if(q==null?q=_:$(q,0,8),!O.c)return O.toString();if(F=O.c[0],j=O.e,B==null)te=V(O.c),te=U==1||U==2&&(j<=g||j>=a)?ee(te,j):ie(te,j,"0");else if(O=k(new h(O),B,q),Y=O.e,te=V(O.c),H=te.length,U==1||U==2&&(B<=Y||Y<=g)){for(;H<B;te+="0",H++);te=ee(te,Y)}else if(B-=j,te=ie(te,Y,"0"),Y+1>H){if(--B>0)for(te+=".";B--;te+="0");}else if(B+=Y-H,B>0)for(Y+1==H&&(te+=".");B--;te+="0");return O.s<0&&F?"-"+te:te}function K(O,B){for(var q,U=1,F=new h(O[0]);U<O.length;U++)if(q=new h(O[U]),q.s)B.call(F,q)&&(F=q);else{F=q;break}return F}function T(O,B,q){for(var U=1,F=B.length;!B[--F];B.pop());for(F=B[0];F>=10;F/=10,U++);return(q=U+q*l-1)>m?O.c=O.e=null:q<c?O.c=[O.e=0]:(O.e=q,O.c=B),O}Q=function(){var O=/^(-?)0([xbo])(?=\w[\w.]*$)/i,B=/^([^.]+)\.$/,q=/^\.([^.]+)$/,U=/^-?(Infinity|NaN)$/,F=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(Y,j,H,te){var J,X=H?j:j.replace(F,"");if(U.test(X))Y.s=isNaN(X)?null:X<0?-1:1;else{if(!H&&(X=X.replace(O,function(ae,se,ue){return J=(ue=ue.toLowerCase())=="x"?16:ue=="b"?2:8,!te||te==J?se:ae}),te&&(J=te,X=X.replace(B,"$1").replace(q,"0.$1")),j!=X))return new h(X,J);if(h.DEBUG)throw Error(s+"Not a"+(te?" base "+te:"")+" number: "+j);Y.s=null}Y.c=Y.e=null}}();function k(O,B,q,U){var F,Y,j,H,te,J,X,ae=O.c,se=E;if(ae){e:{for(F=1,H=ae[0];H>=10;H/=10,F++);if(Y=B-F,Y<0)Y+=l,j=B,te=ae[J=0],X=te/se[F-j-1]%10|0;else if(J=i((Y+1)/l),J>=ae.length)if(U){for(;ae.length<=J;ae.push(0));te=X=0,F=1,Y%=l,j=Y-l+1}else break e;else{for(te=H=ae[J],F=1;H>=10;H/=10,F++);Y%=l,j=Y-l+F,X=j<0?0:te/se[F-j-1]%10|0}if(U=U||B<0||ae[J+1]!=null||(j<0?te:te%se[F-j-1]),U=q<4?(X||U)&&(q==0||q==(O.s<0?3:2)):X>5||X==5&&(q==4||U||q==6&&(Y>0?j>0?te/se[F-j]:0:ae[J-1])%10&1||q==(O.s<0?8:7)),B<1||!ae[0])return ae.length=0,U?(B-=O.e+1,ae[0]=se[(l-B%l)%l],O.e=-B||0):ae[0]=O.e=0,O;if(Y==0?(ae.length=J,H=1,J--):(ae.length=J+1,H=se[l-Y],ae[J]=j>0?n(te/se[F-j]%se[j])*H:0),U)for(;;)if(J==0){for(Y=1,j=ae[0];j>=10;j/=10,Y++);for(j=ae[0]+=H,H=1;j>=10;j/=10,H++);Y!=H&&(O.e++,ae[0]==f&&(ae[0]=1));break}else{if(ae[J]+=H,ae[J]!=f)break;ae[J--]=0,H=1}for(Y=ae.length;ae[--Y]===0;ae.pop());}O.e>m?O.c=O.e=null:O.e<c&&(O.c=[O.e=0])}return O}function z(O){var B,q=O.e;return q===null?O.toString():(B=V(O.c),B=q<=g||q>=a?ee(B,q):ie(B,q,"0"),O.s<0?"-"+B:B)}return P.absoluteValue=P.abs=function(){var O=new h(this);return O.s<0&&(O.s=1),O},P.comparedTo=function(O,B){return W(this,new h(O,B))},P.decimalPlaces=P.dp=function(O,B){var q,U,F,Y=this;if(O!=null)return $(O,0,N),B==null?B=_:$(B,0,8),k(new h(Y),O+Y.e+1,B);if(!(q=Y.c))return null;if(U=((F=q.length-1)-R(this.e/l))*l,F=q[F])for(;F%10==0;F/=10,U--);return U<0&&(U=0),U},P.dividedBy=P.div=function(O,B){return Z(this,new h(O,B),p,_)},P.dividedToIntegerBy=P.idiv=function(O,B){return Z(this,new h(O,B),0,1)},P.exponentiatedBy=P.pow=function(O,B){var q,U,F,Y,j,H,te,J,X,ae=this;if(O=new h(O),O.c&&!O.isInteger())throw Error(s+"Exponent not an integer: "+z(O));if(B!=null&&(B=new h(B)),H=O.e>14,!ae.c||!ae.c[0]||ae.c[0]==1&&!ae.e&&ae.c.length==1||!O.c||!O.c[0])return X=new h(Math.pow(+z(ae),H?2-re(O):+z(O))),B?X.mod(B):X;if(te=O.s<0,B){if(B.c?!B.c[0]:!B.s)return new h(NaN);U=!te&&ae.isInteger()&&B.isInteger(),U&&(ae=ae.mod(B))}else{if(O.e>9&&(ae.e>0||ae.e<-1||(ae.e==0?ae.c[0]>1||H&&ae.c[1]>=24e7:ae.c[0]<8e13||H&&ae.c[0]<=9999975e7)))return Y=ae.s<0&&re(O)?-0:0,ae.e>-1&&(Y=1/Y),new h(te?1/Y:Y);d&&(Y=i(d/l+2))}for(H?(q=new h(.5),te&&(O.s=1),J=re(O)):(F=Math.abs(+z(O)),J=F%2),X=new h(w);;){if(J){if(X=X.times(ae),!X.c)break;Y?X.c.length>Y&&(X.c.length=Y):U&&(X=X.mod(B))}if(F){if(F=n(F/2),F===0)break;J=F%2}else if(O=O.times(q),k(O,O.e+1,1),O.e>14)J=re(O);else{if(F=+z(O),F===0)break;J=F%2}ae=ae.times(ae),Y?ae.c&&ae.c.length>Y&&(ae.c.length=Y):U&&(ae=ae.mod(B))}return U?X:(te&&(X=w.div(X)),B?X.mod(B):Y?k(X,d,_,j):X)},P.integerValue=function(O){var B=new h(this);return O==null?O=_:$(O,0,8),k(B,B.e+1,O)},P.isEqualTo=P.eq=function(O,B){return W(this,new h(O,B))===0},P.isFinite=function(){return!!this.c},P.isGreaterThan=P.gt=function(O,B){return W(this,new h(O,B))>0},P.isGreaterThanOrEqualTo=P.gte=function(O,B){return(B=W(this,new h(O,B)))===1||B===0},P.isInteger=function(){return!!this.c&&R(this.e/l)>this.c.length-2},P.isLessThan=P.lt=function(O,B){return W(this,new h(O,B))<0},P.isLessThanOrEqualTo=P.lte=function(O,B){return(B=W(this,new h(O,B)))===-1||B===0},P.isNaN=function(){return!this.s},P.isNegative=function(){return this.s<0},P.isPositive=function(){return this.s>0},P.isZero=function(){return!!this.c&&this.c[0]==0},P.minus=function(O,B){var q,U,F,Y,j=this,H=j.s;if(O=new h(O,B),B=O.s,!H||!B)return new h(NaN);if(H!=B)return O.s=-B,j.plus(O);var te=j.e/l,J=O.e/l,X=j.c,ae=O.c;if(!te||!J){if(!X||!ae)return X?(O.s=-B,O):new h(ae?j:NaN);if(!X[0]||!ae[0])return ae[0]?(O.s=-B,O):new h(X[0]?j:_==3?-0:0)}if(te=R(te),J=R(J),X=X.slice(),H=te-J){for((Y=H<0)?(H=-H,F=X):(J=te,F=ae),F.reverse(),B=H;B--;F.push(0));F.reverse()}else for(U=(Y=(H=X.length)<(B=ae.length))?H:B,H=B=0;B<U;B++)if(X[B]!=ae[B]){Y=X[B]<ae[B];break}if(Y&&(F=X,X=ae,ae=F,O.s=-O.s),B=(U=ae.length)-(q=X.length),B>0)for(;B--;X[q++]=0);for(B=f-1;U>H;){if(X[--U]<ae[U]){for(q=U;q&&!X[--q];X[q]=B);--X[q],X[U]+=f}X[U]-=ae[U]}for(;X[0]==0;X.splice(0,1),--J);return X[0]?T(O,X,J):(O.s=_==3?-1:1,O.c=[O.e=0],O)},P.modulo=P.mod=function(O,B){var q,U,F=this;return O=new h(O,B),!F.c||!O.s||O.c&&!O.c[0]?new h(NaN):!O.c||F.c&&!F.c[0]?new h(F):(u==9?(U=O.s,O.s=1,q=Z(F,O,0,3),O.s=U,q.s*=U):q=Z(F,O,0,u),O=F.minus(q.times(O)),!O.c[0]&&u==1&&(O.s=F.s),O)},P.multipliedBy=P.times=function(O,B){var q,U,F,Y,j,H,te,J,X,ae,se,ue,je,de,me,He=this,le=He.c,Me=(O=new h(O,B)).c;if(!le||!Me||!le[0]||!Me[0])return!He.s||!O.s||le&&!le[0]&&!Me||Me&&!Me[0]&&!le?O.c=O.e=O.s=null:(O.s*=He.s,!le||!Me?O.c=O.e=null:(O.c=[0],O.e=0)),O;for(U=R(He.e/l)+R(O.e/l),O.s*=He.s,te=le.length,ae=Me.length,te<ae&&(je=le,le=Me,Me=je,F=te,te=ae,ae=F),F=te+ae,je=[];F--;je.push(0));for(de=f,me=C,F=ae;--F>=0;){for(q=0,se=Me[F]%me,ue=Me[F]/me|0,j=te,Y=F+j;Y>F;)J=le[--j]%me,X=le[j]/me|0,H=ue*J+X*se,J=se*J+H%me*me+je[Y]+q,q=(J/de|0)+(H/me|0)+ue*X,je[Y--]=J%de;je[Y]=q}return q?++U:je.splice(0,1),T(O,je,U)},P.negated=function(){var O=new h(this);return O.s=-O.s||null,O},P.plus=function(O,B){var q,U=this,F=U.s;if(O=new h(O,B),B=O.s,!F||!B)return new h(NaN);if(F!=B)return O.s=-B,U.minus(O);var Y=U.e/l,j=O.e/l,H=U.c,te=O.c;if(!Y||!j){if(!H||!te)return new h(F/0);if(!H[0]||!te[0])return te[0]?O:new h(H[0]?U:F*0)}if(Y=R(Y),j=R(j),H=H.slice(),F=Y-j){for(F>0?(j=Y,q=te):(F=-F,q=H),q.reverse();F--;q.push(0));q.reverse()}for(F=H.length,B=te.length,F-B<0&&(q=te,te=H,H=q,B=F),F=0;B;)F=(H[--B]=H[B]+te[B]+F)/f|0,H[B]=f===H[B]?0:H[B]%f;return F&&(H=[F].concat(H),++j),T(O,H,j)},P.precision=P.sd=function(O,B){var q,U,F,Y=this;if(O!=null&&O!==!!O)return $(O,1,N),B==null?B=_:$(B,0,8),k(new h(Y),O,B);if(!(q=Y.c))return null;if(F=q.length-1,U=F*l+1,F=q[F]){for(;F%10==0;F/=10,U--);for(F=q[0];F>=10;F/=10,U++);}return O&&Y.e+1>U&&(U=Y.e+1),U},P.shiftedBy=function(O){return $(O,-b,b),this.times("1e"+O)},P.squareRoot=P.sqrt=function(){var O,B,q,U,F,Y=this,j=Y.c,H=Y.s,te=Y.e,J=p+4,X=new h("0.5");if(H!==1||!j||!j[0])return new h(!H||H<0&&(!j||j[0])?NaN:j?Y:1/0);if(H=Math.sqrt(+z(Y)),H==0||H==1/0?(B=V(j),(B.length+te)%2==0&&(B+="0"),H=Math.sqrt(+B),te=R((te+1)/2)-(te<0||te%2),H==1/0?B="5e"+te:(B=H.toExponential(),B=B.slice(0,B.indexOf("e")+1)+te),q=new h(B)):q=new h(H+""),q.c[0]){for(te=q.e,H=te+J,H<3&&(H=0);;)if(F=q,q=X.times(F.plus(Z(Y,F,J,1))),V(F.c).slice(0,H)===(B=V(q.c)).slice(0,H))if(q.e<te&&--H,B=B.slice(H-3,H+1),B=="9999"||!U&&B=="4999"){if(!U&&(k(F,F.e+p+2,0),F.times(F).eq(Y))){q=F;break}J+=4,H+=4,U=1}else{(!+B||!+B.slice(1)&&B.charAt(0)=="5")&&(k(q,q.e+p+2,1),O=!q.times(q).eq(Y));break}}return k(q,q.e+p+1,_,O)},P.toExponential=function(O,B){return O!=null&&($(O,0,N),O++),S(this,O,B,1)},P.toFixed=function(O,B){return O!=null&&($(O,0,N),O=O+this.e+1),S(this,O,B)},P.toFormat=function(O,B,q){var U,F=this;if(q==null)O!=null&&B&&typeof B=="object"?(q=B,B=null):O&&typeof O=="object"?(q=O,O=B=null):q=x;else if(typeof q!="object")throw Error(s+"Argument not an object: "+q);if(U=F.toFixed(O,B),F.c){var Y,j=U.split("."),H=+q.groupSize,te=+q.secondaryGroupSize,J=q.groupSeparator||"",X=j[0],ae=j[1],se=F.s<0,ue=se?X.slice(1):X,je=ue.length;if(te&&(Y=H,H=te,te=Y,je-=Y),H>0&&je>0){for(Y=je%H||H,X=ue.substr(0,Y);Y<je;Y+=H)X+=J+ue.substr(Y,H);te>0&&(X+=J+ue.slice(Y)),se&&(X="-"+X)}U=ae?X+(q.decimalSeparator||"")+((te=+q.fractionGroupSize)?ae.replace(new RegExp("\\d{"+te+"}\\B","g"),"$&"+(q.fractionGroupSeparator||"")):ae):X}return(q.prefix||"")+U+(q.suffix||"")},P.toFraction=function(O){var B,q,U,F,Y,j,H,te,J,X,ae,se,ue=this,je=ue.c;if(O!=null&&(H=new h(O),!H.isInteger()&&(H.c||H.s!==1)||H.lt(w)))throw Error(s+"Argument "+(H.isInteger()?"out of range: ":"not an integer: ")+z(H));if(!je)return new h(ue);for(B=new h(w),J=q=new h(w),U=te=new h(w),se=V(je),Y=B.e=se.length-ue.e-1,B.c[0]=E[(j=Y%l)<0?l+j:j],O=!O||H.comparedTo(B)>0?Y>0?B:J:H,j=m,m=1/0,H=new h(se),te.c[0]=0;X=Z(H,B,0,1),F=q.plus(X.times(U)),F.comparedTo(O)!=1;)q=U,U=F,J=te.plus(X.times(F=J)),te=F,B=H.minus(X.times(F=B)),H=F;return F=Z(O.minus(q),U,0,1),te=te.plus(F.times(J)),q=q.plus(F.times(U)),te.s=J.s=ue.s,Y=Y*2,ae=Z(J,U,Y,_).minus(ue).abs().comparedTo(Z(te,q,Y,_).minus(ue).abs())<1?[J,U]:[te,q],m=j,ae},P.toNumber=function(){return+z(this)},P.toPrecision=function(O,B){return O!=null&&$(O,1,N),S(this,O,B,2)},P.toString=function(O){var B,q=this,U=q.s,F=q.e;return F===null?U?(B="Infinity",U<0&&(B="-"+B)):B="NaN":(O==null?B=F<=g||F>=a?ee(V(q.c),F):ie(V(q.c),F,"0"):O===10?(q=k(new h(q),p+F+1,_),B=ie(V(q.c),q.e,"0")):($(O,2,A.length,"Base"),B=G(ie(V(q.c),F,"0"),10,O,U,!0)),U<0&&q.c[0]&&(B="-"+B)),B},P.valueOf=P.toJSON=function(){return z(this)},P._isBigNumber=!0,ne!=null&&h.set(ne),h}function R(ne){var Z=ne|0;return ne>0||ne===Z?Z:Z-1}function V(ne){for(var Z,G,Q=1,P=ne.length,w=ne[0]+"";Q<P;){for(Z=ne[Q++]+"",G=l-Z.length;G--;Z="0"+Z);w+=Z}for(P=w.length;w.charCodeAt(--P)===48;);return w.slice(0,P+1||1)}function W(ne,Z){var G,Q,P=ne.c,w=Z.c,p=ne.s,_=Z.s,g=ne.e,a=Z.e;if(!p||!_)return null;if(G=P&&!P[0],Q=w&&!w[0],G||Q)return G?Q?0:-_:p;if(p!=_)return p;if(G=p<0,Q=g==a,!P||!w)return Q?0:!P^G?1:-1;if(!Q)return g>a^G?1:-1;for(_=(g=P.length)<(a=w.length)?g:a,p=0;p<_;p++)if(P[p]!=w[p])return P[p]>w[p]^G?1:-1;return g==a?0:g>a^G?1:-1}function $(ne,Z,G,Q){if(ne<Z||ne>G||ne!==n(ne))throw Error(s+(Q||"Argument")+(typeof ne=="number"?ne<Z||ne>G?" out of range: ":" not an integer: ":" not a primitive number: ")+String(ne))}function re(ne){var Z=ne.c.length-1;return R(ne.e/l)==Z&&ne.c[Z]%2!=0}function ee(ne,Z){return(ne.length>1?ne.charAt(0)+"."+ne.slice(1):ne)+(Z<0?"e":"e+")+Z}function ie(ne,Z,G){var Q,P;if(Z<0){for(P=G+".";++Z;P+=G);ne=P+ne}else if(Q=ne.length,++Z>Q){for(P=G,Z-=Q;--Z;P+=G);ne+=P}else Z<Q&&(ne=ne.slice(0,Z)+"."+ne.slice(Z));return ne}e=L(),e.default=e.BigNumber=e,typeof define=="function"&&define.amd?define(function(){return e}):typeof hg<"u"&&hg.exports?hg.exports=e:(t||(t=typeof self<"u"&&self?self:window),t.BigNumber=e)})(WS)});var kt=D(ke=>{"use strict";y();Object.defineProperty(ke,"__esModule",{value:!0});ke.ErrGasLimitShouldBe0ForInnerTransaction=ke.ErrInvalidRelayedV2BuilderArguments=ke.ErrInvalidRelayedV1BuilderArguments=ke.ErrNotImplemented=ke.ErrContractInteraction=ke.ErrCodec=ke.ErrCannotParseContractResults=ke.ErrMissingFieldOnEnum=ke.ErrMissingFieldOnStruct=ke.ErrTypeInferenceSystemRequiresRegularJavascriptObjects=ke.ErrTypingSystem=ke.ErrMock=ke.ErrContractHasNoAddress=ke.ErrContract=ke.ErrExpectedTransactionEventsNotFound=ke.ErrExpectedTransactionStatusNotReached=ke.ErrTransactionWatcherTimeout=ke.ErrAsyncTimerAborted=ke.ErrAsyncTimerAlreadyRunning=ke.ErrInvalidFunctionName=ke.ErrSignatureCannotCreate=ke.ErrTransactionOptionsInvalid=ke.ErrTransactionVersionInvalid=ke.ErrNonceInvalid=ke.ErrNotEnoughGas=ke.ErrAddressEmpty=ke.ErrAddressBadHrp=ke.ErrAddressCannotCreate=ke.ErrUnexpectedCondition=ke.ErrInvariantFailed=ke.ErrBadType=ke.ErrUnsupportedOperation=ke.ErrInvalidArgument=ke.Err=void 0;var bt=class extends Error{constructor(e,r){super(e),this.inner=void 0,this.inner=r}summary(){let e=[];e.push({name:this.name,message:this.message});let r=this.inner;for(;r;)e.push({name:r.name,message:r.message}),r=r.inner;return e}};ke.Err=bt;var Q2=class extends bt{constructor(e,r){super(`Invalid argument: ${e}`,r)}};ke.ErrInvalidArgument=Q2;var W2=class extends bt{constructor(e,r="not specified"){super(`Operation "${e}" not supported. Reason: ${r}`)}};ke.ErrUnsupportedOperation=W2;var $2=class extends bt{constructor(e,r,i){super(`Bad type of "${e}": ${i}. Expected type: ${r}`)}};ke.ErrBadType=$2;var Y2=class extends bt{constructor(e){super(`Invariant failed: [${e}]`)}};ke.ErrInvariantFailed=Y2;var J2=class extends bt{constructor(e){super(`Unexpected condition: [${e}]`)}};ke.ErrUnexpectedCondition=J2;var X2=class extends bt{constructor(e,r){let i=`Cannot create address from: ${e}`;super(i,r)}};ke.ErrAddressCannotCreate=X2;var Z2=class extends bt{constructor(e,r){super(`Wrong address HRP. Expected: ${e}, got ${r}`)}};ke.ErrAddressBadHrp=Z2;var ew=class extends bt{constructor(){super("Address is empty")}};ke.ErrAddressEmpty=ew;var tw=class extends bt{constructor(e){super(`Not enough gas provided: ${e}`)}};ke.ErrNotEnoughGas=tw;var rw=class extends bt{constructor(e){super(`Invalid nonce: ${e}`)}};ke.ErrNonceInvalid=rw;var iw=class extends bt{constructor(e){super(`Invalid transaction version: ${e}`)}};ke.ErrTransactionVersionInvalid=iw;var nw=class extends bt{constructor(e){super(`Invalid transaction options: ${e}`)}};ke.ErrTransactionOptionsInvalid=nw;var sw=class extends bt{constructor(e,r){let i=`Cannot create signature from: ${e}`;super(i,r)}};ke.ErrSignatureCannotCreate=sw;var ow=class extends bt{constructor(){super("Invalid function name")}};ke.ErrInvalidFunctionName=ow;var aw=class extends bt{constructor(){super("Async timer already running")}};ke.ErrAsyncTimerAlreadyRunning=aw;var fw=class extends bt{constructor(){super("Async timer aborted")}};ke.ErrAsyncTimerAborted=fw;var uw=class extends bt{constructor(){super("TransactionWatcher has timed out")}};ke.ErrTransactionWatcherTimeout=uw;var cw=class extends bt{constructor(){super("Expected transaction status not reached")}};ke.ErrExpectedTransactionStatusNotReached=cw;var hw=class extends bt{constructor(){super("Expected transaction events not found")}};ke.ErrExpectedTransactionEventsNotFound=hw;var lg=class extends bt{constructor(e){super(e)}};ke.ErrContract=lg;var lw=class extends lg{constructor(){super(`
The smart contract has no address set. Make sure you provide the address in the constructor, or call setAddress() appropriately.
If you need to recompute the address of the contract, make use of SmartContract.computeAddress() (static method). 
`)}};ke.ErrContractHasNoAddress=lw;var dw=class extends bt{constructor(e){super(e)}};ke.ErrMock=dw;var dg=class extends bt{constructor(e){super(e)}};ke.ErrTypingSystem=dg;var pw=class extends dg{constructor(e){super(`
argument at position ${e} seems to be a TypedValue. The automatic type inference system requires regular javascript objects as input.
This error might occur when you pass a TypedValue to contract.methods.myFunction([...]). For passing TypedValues instead of regular javascript objects, and bypass the automatic type inference system, use contract.methodsExplicit.myFunction([...]) instead.
Also see https://github.com/ElrondNetwork/elrond-sdk-erdjs/pull/187.
`)}};ke.ErrTypeInferenceSystemRequiresRegularJavascriptObjects=pw;var gw=class extends bt{constructor(e,r){super(`field ${e} does not exist on struct ${r}`)}};ke.ErrMissingFieldOnStruct=gw;var vw=class extends bt{constructor(e,r){super(`field ${e} does not exist on enum ${r}`)}};ke.ErrMissingFieldOnEnum=vw;var yw=class extends bt{constructor(e){super(`cannot parse contract results: ${e}`)}};ke.ErrCannotParseContractResults=yw;var mw=class extends bt{constructor(e){super(e)}};ke.ErrCodec=mw;var bw=class extends bt{constructor(e){super(e)}};ke.ErrContractInteraction=bw;var ww=class extends bt{constructor(){super("Method not yet implemented")}};ke.ErrNotImplemented=ww;var _w=class extends bt{constructor(){super("invalid arguments for relayed v1 builder")}};ke.ErrInvalidRelayedV1BuilderArguments=_w;var xw=class extends bt{constructor(){super("invalid arguments for relayed v2 builder")}};ke.ErrInvalidRelayedV2BuilderArguments=xw;var Ew=class extends bt{constructor(){super("gas limit must be 0 for the inner transaction for relayed v2")}};ke.ErrGasLimitShouldBe0ForInnerTransaction=Ew});var Aw=D(hc=>{"use strict";y();var YW=hc&&hc.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(hc,"__esModule",{value:!0});hc.TokenPayment=void 0;var gd=YW(xn()),JW=kt(),$S="EGLD",YS=18;gd.default.set({ROUNDING_MODE:1});var Js=class{constructor(e,r,i,n){let s=new gd.default(i);if(!s.isInteger()||s.isNegative())throw new JW.ErrInvalidArgument(`bad amountAsBigInteger: ${i}`);this.tokenIdentifier=e,this.nonce=r,this.amountAsBigInteger=s,this.numDecimals=n}static egldFromAmount(e){let r=new gd.default(e).shiftedBy(YS).decimalPlaces(0);return this.egldFromBigInteger(r)}static egldFromBigInteger(e){return new Js($S,0,e,YS)}static fungibleFromAmount(e,r,i){let n=new gd.default(r).shiftedBy(i).decimalPlaces(0);return this.fungibleFromBigInteger(e,n,i)}static fungibleFromBigInteger(e,r,i=0){return new Js(e,0,r,i)}static nonFungible(e,r){return new Js(e,r,1,0)}static semiFungible(e,r,i){return new Js(e,r,i,0)}static metaEsdtFromAmount(e,r,i,n){let s=new gd.default(i).shiftedBy(n).decimalPlaces(0);return this.metaEsdtFromBigInteger(e,r,s,n)}static metaEsdtFromBigInteger(e,r,i,n=0){return new Js(e,r,i,n)}toString(){return this.amountAsBigInteger.toFixed(0)}valueOf(){return this.amountAsBigInteger}toPrettyString(){return`${this.toRationalNumber()} ${this.tokenIdentifier}`}toRationalNumber(){return this.amountAsBigInteger.shiftedBy(-this.numDecimals).toFixed(this.numDecimals)}isEgld(){return this.tokenIdentifier==$S}isFungible(){return this.nonce==0}};hc.TokenPayment=Js});var yg=D((c3e,ZS)=>{"use strict";y();var gg="qpzry9x8gf2tvdw0s3jn54khce6mua7l",Sw={};for(vd=0;vd<gg.length;vd++){if(pg=gg.charAt(vd),Sw[pg]!==void 0)throw new TypeError(pg+" is ambiguous");Sw[pg]=vd}var pg,vd;function lc(t){var e=t>>25;return(t&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}function JS(t){for(var e=1,r=0;r<t.length;++r){var i=t.charCodeAt(r);if(i<33||i>126)return"Invalid prefix ("+t+")";e=lc(e)^i>>5}for(e=lc(e),r=0;r<t.length;++r){var n=t.charCodeAt(r);e=lc(e)^n&31}return e}function XW(t,e,r){if(r=r||90,t.length+7+e.length>r)throw new TypeError("Exceeds length limit");t=t.toLowerCase();var i=JS(t);if(typeof i=="string")throw new Error(i);for(var n=t+"1",s=0;s<e.length;++s){var o=e[s];if(o>>5!==0)throw new Error("Non 5-bit word");i=lc(i)^o,n+=gg.charAt(o)}for(s=0;s<6;++s)i=lc(i);for(i^=1,s=0;s<6;++s){var f=i>>(5-s)*5&31;n+=gg.charAt(f)}return n}function XS(t,e){if(e=e||90,t.length<8)return t+" too short";if(t.length>e)return"Exceeds length limit";var r=t.toLowerCase(),i=t.toUpperCase();if(t!==r&&t!==i)return"Mixed-case string "+t;t=r;var n=t.lastIndexOf("1");if(n===-1)return"No separator character for "+t;if(n===0)return"Missing prefix for "+t;var s=t.slice(0,n),o=t.slice(n+1);if(o.length<6)return"Data too short";var f=JS(s);if(typeof f=="string")return f;for(var l=[],b=0;b<o.length;++b){var E=o.charAt(b),C=Sw[E];if(C===void 0)return"Unknown character "+E;f=lc(f)^C,!(b+6>=o.length)&&l.push(C)}return f!==1?"Invalid checksum for "+t:{prefix:s,words:l}}function ZW(){var t=XS.apply(null,arguments);if(typeof t=="object")return t}function e$(t){var e=XS.apply(null,arguments);if(typeof e=="object")return e;throw new Error(e)}function vg(t,e,r,i){for(var n=0,s=0,o=(1<<r)-1,f=[],l=0;l<t.length;++l)for(n=n<<e|t[l],s+=e;s>=r;)s-=r,f.push(n>>s&o);if(i)s>0&&f.push(n<<r-s&o);else{if(s>=e)return"Excess padding";if(n<<r-s&o)return"Non-zero padding"}return f}function t$(t){var e=vg(t,8,5,!0);if(Array.isArray(e))return e}function r$(t){var e=vg(t,8,5,!0);if(Array.isArray(e))return e;throw new Error(e)}function i$(t){var e=vg(t,5,8,!1);if(Array.isArray(e))return e}function n$(t){var e=vg(t,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}ZS.exports={decodeUnsafe:ZW,decode:e$,encode:XW,toWordsUnsafe:t$,toWords:r$,fromWordsUnsafe:i$,fromWords:n$}});var En=D(es=>{"use strict";y();var s$=es&&es.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),o$=es&&es.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),eI=es&&es.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&s$(e,t,r);return o$(e,t),e};Object.defineProperty(es,"__esModule",{value:!0});es.Address=void 0;var mg=eI(yg()),dc=eI(kt()),Iw="erd",Mw=32,a$="0".repeat(16),yr=class{constructor(e){if(this.valueHex="",!!e){if(e instanceof yr)return yr.fromAddress(e);if(e instanceof M.Buffer)return yr.fromBuffer(e);if(typeof e=="string")return yr.fromString(e);throw new dc.ErrAddressCannotCreate(e)}}static fromAddress(e){return yr.fromValidHex(e.valueHex)}static fromValidHex(e){let r=new yr;return r.valueHex=e,r}static fromBuffer(e){if(e.length!=Mw)throw new dc.ErrAddressCannotCreate(e);return yr.fromValidHex(e.toString("hex"))}static fromString(e){return yr.isValidHex(e)?yr.fromValidHex(e):yr.fromBech32(e)}static isValidHex(e){return M.Buffer.from(e,"hex").length==Mw}static fromHex(e){if(!yr.isValidHex(e))throw new dc.ErrAddressCannotCreate(e);return yr.fromValidHex(e)}static fromBech32(e){let r;try{r=mg.decode(e)}catch(s){throw new dc.ErrAddressCannotCreate(e,s)}let i=r.prefix;if(i!=Iw)throw new dc.ErrAddressBadHrp(Iw,i);let n=M.Buffer.from(mg.fromWords(r.words));if(n.length!=Mw)throw new dc.ErrAddressCannotCreate(e);return yr.fromValidHex(n.toString("hex"))}hex(){return this.isEmpty()?"":this.valueHex}bech32(){if(this.isEmpty())return"";let e=mg.toWords(this.pubkey());return mg.encode(Iw,e)}pubkey(){return this.isEmpty()?M.Buffer.from([]):M.Buffer.from(this.valueHex,"hex")}isEmpty(){return!this.valueHex}equals(e){return e?this.valueHex==e.valueHex:!1}toString(){return this.bech32()}toJSON(){return{bech32:this.bech32(),pubkey:this.hex()}}static Zero(){return new yr("0".repeat(64))}isContractAddress(){return this.hex().startsWith(a$)}};es.Address=yr});var ji=D(Vt=>{"use strict";y();var f$=Vt&&Vt.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),u$=Vt&&Vt.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),c$=Vt&&Vt.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&f$(e,t,r);return u$(e,t),e};Object.defineProperty(Vt,"__esModule",{value:!0});Vt.isEmpty=Vt.guardEmpty=Vt.guardNotEmpty=Vt.guardLength=Vt.guardSameLength=Vt.guardValueIsSetWithMessage=Vt.guardValueIsSet=Vt.guardTrue=void 0;var pc=c$(kt());function h$(t,e){if(!t)throw new pc.ErrInvariantFailed(`[<${e}>] isn't true`)}Vt.guardTrue=h$;function l$(t,e){tI(`${t} isn't set (null or undefined)`,e)}Vt.guardValueIsSet=l$;function tI(t,e){if(e==null||e===void 0)throw new pc.ErrInvariantFailed(t)}Vt.guardValueIsSetWithMessage=tI;function d$(t,e){if(t=t||[],e=e||[],t.length!=e.length)throw new pc.ErrInvariantFailed("arrays do not have the same length")}Vt.guardSameLength=d$;function p$(t,e){let r=t.length||0;if(r!=e)throw new pc.ErrInvariantFailed(`wrong length, expected: ${e}, actual: ${r}`)}Vt.guardLength=p$;function g$(t,e){if(Cw(t))throw new pc.ErrInvariantFailed(`${e} is empty`)}Vt.guardNotEmpty=g$;function v$(t,e){if(!Cw(t))throw new pc.ErrInvariantFailed(`${e} is not empty`)}Vt.guardEmpty=v$;function Cw(t){return t.isEmpty?t.isEmpty():t.length===0}Vt.isEmpty=Cw});var rI=D(bg=>{"use strict";y();Object.defineProperty(bg,"__esModule",{value:!0});bg.getJavascriptPrototypesInHierarchy=void 0;function y$(t,e){let r=[],i=Object.getPrototypeOf(t);for(;i&&e(i);)r.push(i),i=Object.getPrototypeOf(i);return r}bg.getJavascriptPrototypesInHierarchy=y$});var ar=D(or=>{"use strict";y();Object.defineProperty(or,"__esModule",{value:!0});or.NullType=or.TypePlaceholder=or.isTyped=or.PrimitiveValue=or.TypedValue=or.CustomType=or.PrimitiveType=or.TypeCardinality=or.Type=void 0;var Tw=rI(),iI=ji(),Bi=class{constructor(e,r=[],i=Xs.fixed(1)){iI.guardValueIsSet("name",e),this.name=e,this.typeParameters=r,this.cardinality=i}getName(){return this.name}getClassName(){return Bi.ClassName}getClassHierarchy(){return Tw.getJavascriptPrototypesInHierarchy(this,i=>i.belongsToTypesystem).map(i=>i.getClassName()).reverse()}getFullyQualifiedName(){let e=this.getTypeParameters().map(r=>r.getFullyQualifiedName()).join(", ");return this.isGenericType()?`erdjs:types:${this.getName()}<${e}>`:`erdjs:types:${this.getName()}`}hasExactClass(e){return this.getClassName()==e}hasClassOrSuperclass(e){return this.getClassHierarchy().includes(e)}getTypeParameters(){return this.typeParameters}isGenericType(){return this.typeParameters.length>0}getFirstTypeParameter(){return iI.guardTrue(this.typeParameters.length>0,"type parameters length > 0"),this.typeParameters[0]}toString(){let e=this.getTypeParameters().map(i=>i.toString()).join(", "),r=e?`<${e}>`:"";return`${this.name}${r}`}equals(e){return Bi.equals(this,e)}static equals(e,r){return e.getFullyQualifiedName()==r.getFullyQualifiedName()}static equalsMany(e,r){return e.every((i,n)=>i.equals(r[n]))}static isAssignableFromMany(e,r){return e.every((i,n)=>i.isAssignableFrom(r[n]))}differs(e){return!this.equals(e)}valueOf(){return this.name}isAssignableFrom(e){if(!Bi.equalsMany(this.getTypeParameters(),e.getTypeParameters()))return!1;let i=this.getFullyQualifiedName();return Bi.getFullyQualifiedNamesInHierarchy(e).includes(i)?!0:e.hasClassOrSuperclass(this.getClassName())}static getFullyQualifiedNamesInHierarchy(e){return Tw.getJavascriptPrototypesInHierarchy(e,n=>n.belongsToTypesystem).map(n=>n.getFullyQualifiedName.call(e))}getNamesOfDependencies(){let e=[];for(let r of this.typeParameters)e.push(r.getName()),e.push(...r.getNamesOfDependencies());return[...new Set(e)]}toJSON(){return{name:this.name,typeParameters:this.typeParameters.map(e=>e.toJSON())}}getCardinality(){return this.cardinality}belongsToTypesystem(){}};or.Type=Bi;Bi.ClassName="Type";var Xs=class{constructor(e,r){this.lowerBound=e,this.upperBound=r}static fixed(e){return new Xs(e,e)}static variable(e){return new Xs(0,e)}isSingular(){return this.lowerBound==1&&this.upperBound==1}isSingularOrNone(){return this.lowerBound==0&&this.upperBound==1}isComposite(){return this.upperBound!=1}isFixed(){return this.lowerBound==this.upperBound}getLowerBound(){return this.lowerBound}getUpperBound(){return this.upperBound||Xs.MaxCardinality}};or.TypeCardinality=Xs;Xs.MaxCardinality=4096;var gc=class extends Bi{constructor(e){super(e)}getClassName(){return gc.ClassName}};or.PrimitiveType=gc;gc.ClassName="PrimitiveType";var vc=class extends Bi{getClassName(){return vc.ClassName}};or.CustomType=vc;vc.ClassName="CustomType";var lf=class{constructor(e){this.type=e}getClassName(){return lf.ClassName}getClassHierarchy(){return Tw.getJavascriptPrototypesInHierarchy(this,i=>i.belongsToTypesystem).map(i=>i.getClassName()).reverse()}getType(){return this.type}hasExactClass(e){return this.getClassName()==e}hasClassOrSuperclass(e){return this.getClassHierarchy().includes(e)}belongsToTypesystem(){}};or.TypedValue=lf;lf.ClassName="TypedValue";var yc=class extends lf{constructor(e){super(e)}getClassName(){return yc.ClassName}};or.PrimitiveValue=yc;yc.ClassName="PrimitiveValue";function m$(t){return t.belongsToTypesystem!==void 0}or.isTyped=m$;var mc=class extends Bi{constructor(){super("...")}getClassName(){return mc.ClassName}};or.TypePlaceholder=mc;mc.ClassName="TypePlaceholder";var bc=class extends Bi{constructor(){super("?")}getClassName(){return bc.ClassName}};or.NullType=bc;bc.ClassName="NullType"});var nI=D((wc,_c)=>{y();(function(t){var e=typeof wc=="object"&&wc&&!wc.nodeType&&wc,r=typeof _c=="object"&&_c&&!_c.nodeType&&_c,i=typeof global=="object"&&global;(i.global===i||i.window===i||i.self===i)&&(t=i);var n,s=2147483647,o=36,f=1,l=26,b=38,E=700,C=72,N=128,L="-",R=/^xn--/,V=/[^\x20-\x7E]/,W=/[\x2E\u3002\uFF0E\uFF61]/g,$={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},re=o-f,ee=Math.floor,ie=String.fromCharCode,ne;function Z(u){throw new RangeError($[u])}function G(u,d){for(var x=u.length,A=[];x--;)A[x]=d(u[x]);return A}function Q(u,d){var x=u.split("@"),A="";x.length>1&&(A=x[0]+"@",u=x[1]),u=u.replace(W,".");var h=u.split("."),S=G(h,d).join(".");return A+S}function P(u){for(var d=[],x=0,A=u.length,h,S;x<A;)h=u.charCodeAt(x++),h>=55296&&h<=56319&&x<A?(S=u.charCodeAt(x++),(S&64512)==56320?d.push(((h&1023)<<10)+(S&1023)+65536):(d.push(h),x--)):d.push(h);return d}function w(u){return G(u,function(d){var x="";return d>65535&&(d-=65536,x+=ie(d>>>10&1023|55296),d=56320|d&1023),x+=ie(d),x}).join("")}function p(u){return u-48<10?u-22:u-65<26?u-65:u-97<26?u-97:o}function _(u,d){return u+22+75*(u<26)-((d!=0)<<5)}function g(u,d,x){var A=0;for(u=x?ee(u/E):u>>1,u+=ee(u/d);u>re*l>>1;A+=o)u=ee(u/re);return ee(A+(re+1)*u/(u+b))}function a(u){var d=[],x=u.length,A,h=0,S=N,K=C,T,k,z,O,B,q,U,F,Y;for(T=u.lastIndexOf(L),T<0&&(T=0),k=0;k<T;++k)u.charCodeAt(k)>=128&&Z("not-basic"),d.push(u.charCodeAt(k));for(z=T>0?T+1:0;z<x;){for(O=h,B=1,q=o;z>=x&&Z("invalid-input"),U=p(u.charCodeAt(z++)),(U>=o||U>ee((s-h)/B))&&Z("overflow"),h+=U*B,F=q<=K?f:q>=K+l?l:q-K,!(U<F);q+=o)Y=o-F,B>ee(s/Y)&&Z("overflow"),B*=Y;A=d.length+1,K=g(h-O,A,O==0),ee(h/A)>s-S&&Z("overflow"),S+=ee(h/A),h%=A,d.splice(h++,0,S)}return w(d)}function c(u){var d,x,A,h,S,K,T,k,z,O,B,q=[],U,F,Y,j;for(u=P(u),U=u.length,d=N,x=0,S=C,K=0;K<U;++K)B=u[K],B<128&&q.push(ie(B));for(A=h=q.length,h&&q.push(L);A<U;){for(T=s,K=0;K<U;++K)B=u[K],B>=d&&B<T&&(T=B);for(F=A+1,T-d>ee((s-x)/F)&&Z("overflow"),x+=(T-d)*F,d=T,K=0;K<U;++K)if(B=u[K],B<d&&++x>s&&Z("overflow"),B==d){for(k=x,z=o;O=z<=S?f:z>=S+l?l:z-S,!(k<O);z+=o)j=k-O,Y=o-O,q.push(ie(_(O+j%Y,0))),k=ee(j/Y);q.push(ie(_(k,0))),S=g(x,F,A==h),x=0,++A}++x,++d}return q.join("")}function m(u){return Q(u,function(d){return R.test(d)?a(d.slice(4).toLowerCase()):d})}function v(u){return Q(u,function(d){return V.test(d)?"xn--"+c(d):d})}if(n={version:"1.4.1",ucs2:{decode:P,encode:w},decode:a,encode:c,toASCII:v,toUnicode:m},typeof define=="function"&&typeof define.amd=="object"&&define.amd)define("punycode",function(){return n});else if(e&&r)if(_c.exports==e)r.exports=n;else for(ne in n)n.hasOwnProperty(ne)&&(e[ne]=n[ne]);else t.punycode=n})(wc)});var fI=D((_3e,Nw)=>{"use strict";y();var oI=nI();function b$(t,e){this.__proto__=new Error(e),this.__proto__.name="BackslashError",this.offset=t}function Ow(t){return t>="0"&&t<="7"}function w$(t){return t>="0"&&t<="9"||t>="a"&&t<="f"||t>="A"&&t<="F"}function sI(t){return t=parseInt(t,16),oI.ucs2.encode([t])}function aI(t,e,r){var i=!1,n=[];function s(l){var b=t[l];if(!w$(b))throw new b$(l,"Unexpected token ILLEGAL");return b}for(;e<t.length;){var o=t[e];if(e++,i){switch(i=!1,o){case"n":n.push(`
`);continue;case"r":n.push("\r");continue;case"f":n.push("\f");continue;case"b":n.push("\b");continue;case"t":n.push("	");continue;case"v":n.push("\v");continue;case"\\":n.push("\\");continue}if(o==="x"){n.push(sI(s(e)+s(e+1))),e+=2;continue}if(o==="u"){n.push(sI(s(e)+s(e+1)+s(e+2)+s(e+3))),e+=4;continue}if(Ow(o)){var f;Ow(f=t[e])&&(e++,o+=f,Ow(f=t[e])&&o[0]<="3"&&(e++,o+=f)),n.push(oI.ucs2.encode([parseInt(o,8)]));continue}n.push(o)}else if(o==="\\")i=!0;else if(o===r){e--;break}else n.push(o)}return arguments.length===3?{end:e,value:n.join("")}:n.join("")}Nw.exports=function(e){return aI(e,0)};Nw.exports.parseUntil=function(e,r,i){return aI(e,r,i)}});var gI=D((E3e,pI)=>{y();var hI=fI();pI.exports={validate:_$,parse:x$};function _$(t,e){var r;if(e=e||!1,typeof t!="string")r="Input must be a string";else try{wg(t,0,e,!1)}catch(i){r=i.message}return r}function x$(t,e){if(typeof t!="string")throw new Error("Input must be a string");e=e||!1;var r=wg(t,0,e,!0);return r.value}function lI(t,e){for(var r=t.length,i=e,n,s=e;s<r;s++){var o=t[s];if(o===","){n=s;break}else if(o==="]"||o==="}"){n=s-1;break}else if(!df(o))throw Zs(t,s,"expecting end of expression or separator")}var f;return n===void 0?(n=r,f=t[n]):(f=t[n],n++),{start:i,end:n,value:f}}function E$(t,e){for(var r=t.length,i=e,n,s=e;s<r;s++){var o=t[s];if(o===":"){n=s;break}else if(!df(o))throw Zs(t,s,"expecting ':'")}if(n===void 0)throw Zs(t,s,"expecting ':'");return n++,{start:i,end:n}}function wg(t,e,r,i){for(var n=t.length,s,o,f=!1,l=!1,b=!1,E=!1,C=!1,N=!1,L,R=e;R<n;R++){var V=t[R];if(s===void 0){if(!df(V)){if(V==="[")f=!0;else if(V==="{")l=!0;else if(V==='"')b=!0;else if(M$(t,R)){s=R,R=R+3,o=R,L=!0;break}else if(C$(t,R)){s=R,R=R+4,o=R,L=!1;break}else if(T$(t,R)){s=R,R=R+3,o=R,L=null;break}else if(uI(V))E=!0;else if(V==="-")E=!0;else throw Zs(t,R,"");s=R}}else if(f){var W=I$(t,R,r,i);o=W.end,L=W.value;break}else if(l){var $=S$(t,R,r,i);o=$.end,L=$.value;break}else if(b&&V==='"'&&dI(t,R-1)){o=R,L=hI(t.substring(s+1,o));break}else if(E)if(df(V))N=!0;else if(V===","||V==="]"||V==="}"){L=parseFloat(t.substring(s,o),10),o=R-1;break}else{if(uI(V)&&!N)continue;if(V==="."&&!C&&!N)C=!0;else throw Zs(t,R,"expecting number")}}if(o===void 0)if(E)L=parseFloat(t.substring(s,R),10),o=R-1;else throw Zs(t,R,"unclosed statement");return o++,{value:L,start:s,end:o}}function A$(t,e){for(var r=t.length,i,n,s=e;s<r;s++){var o=t[s];if(i===void 0){if(!df(o)){if(o!=='"')throw Zs(t,s,"expecting String");i=s}}else if(o==='"'&&dI(t,s-1)){n=s;break}}if(n===void 0)throw Zs(t,r,"expecting String");var f=hI(t.substring(i+1,n));if(f==="")throw Zs(t,i,"empty string");return n++,{start:i,end:n,value:f}}function S$(t,e,r,i){for(var n=e,s=",",o={},f=[],l=[],b=e;df(t[b]);)b++;if(t[b]==="}")return{start:e,end:b,value:o};for(;s===",";){var E=A$(t,n),C=E$(t,E.end),N=wg(t,C.end,r,i),L=lI(t,N.end);r||f.indexOf(E.value)!==-1&&(E.value=E.value+"1"),f.push(E.value),l.push(N.value),n=L.end,s=L.value}if(i){var R=0;for(R=0;R<f.length;R++)o[f[R]]=l[R]}return{start:e,end:n,value:o}}function dI(t,e){for(var r=e,i=0;r>-1&&t[r]==="\\";)i++,r--;return i%2===0}function I$(t,e,r,i){for(var n=e,s=",",o=[],f=e;df(t[f]);)f++;if(t[f]==="]")return{start:e,end:f,value:o};for(;s===",";){var l=wg(t,n,r,i),b=lI(t,l.end);i&&o.push(l.value),n=b.end,s=b.value}return{start:e,end:n,value:o}}function M$(t,e){return t.substr(e,4)==="true"}function C$(t,e){return t.substr(e,5)==="false"}function T$(t,e){return t.substr(e,4)==="null"}var O$=new RegExp(/^\s$/);function df(t){return O$.test(t)}var N$=new RegExp(/^\d$/);function uI(t){return N$.test(t)}function Zs(t,e,r){var i=10,n;t.length<e+i?n=t.substr(cI(t.length-i),t.length):e-i/2<0?n=t.substr(0,i):n=t.substr(cI(e-i/2),i);var s;return r?s="Syntax error: "+r+" near "+n:s="Syntax error near "+n,new Error(s)}function cI(t){return t<0?0:t}});var _g=D(ts=>{"use strict";y();var B$=ts&&ts.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),D$=ts&&ts.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),R$=ts&&ts.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&B$(e,t,r);return D$(e,t),e};Object.defineProperty(ts,"__esModule",{value:!0});ts.TypeExpressionParser=void 0;var vI=R$(kt()),P$=ar(),L$=gI(),Bw=class{parse(e){let r=this.doParse(e),i=Object.keys(r);if(i.length!=1)throw new vI.ErrTypingSystem(`bad type expression: ${e}`);let n=i[0];return this.nodeToType(n,r[n])}doParse(e){let r=this.getJsonedString(e);try{return L$.parse(r)}catch{throw new vI.ErrTypingSystem(`cannot parse type expression: ${e}. internal json: ${r}.`)}}getJsonedString(e){let r="";for(var i=0;i<e.length;i++){let o=e.charAt(i),f=e.charAt(i-1),l=e.charAt(i+1);o=="<"?r+=": {":o==">"?f!=">"?r+=": {} }":r+="}":o==","?l==">"||(f==">"?r+=",":r+=": {},"):r+=o}let n=/(:|\{|\}|,|\s)/,s=r.replace(/utf\-8\sstring/ig,"utf-8-string").split(n).filter(o=>o);return r=s.map(o=>n.test(o)?o:`"${o}"`).map(o=>o.replace(/utf\-8\-string/ig,"utf-8 string")).join(""),s.length==1?`{${r}: {}}`:`{${r}}`}nodeToType(e,r){e.charAt(e.length-1)==="1"&&(e=e.slice(0,-1));let i=Object.keys(r).map(n=>this.nodeToType(n,r[n]));return new P$.Type(e,i)}};ts.TypeExpressionParser=Bw});var xc=D(bi=>{"use strict";y();var q$=bi&&bi.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),F$=bi&&bi.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),U$=bi&&bi.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&q$(e,t,r);return F$(e,t),e};Object.defineProperty(bi,"__esModule",{value:!0});bi.Fields=bi.Field=bi.FieldDefinition=void 0;var Dw=U$(kt()),k$=_g(),yd=class{constructor(e,r,i){this.name=e,this.description=r,this.type=i}static fromJSON(e){let r=new k$.TypeExpressionParser().parse(e.type);return new yd(e.name,e.description,r)}};bi.FieldDefinition=yd;var Rw=class{constructor(e,r=""){this.value=e,this.name=r}checkTyping(e){let r=this.value.getType();if(!r.equals(e.type))throw new Dw.ErrTypingSystem(`check type of field "${e.name}; expected: ${e.type}, actual: ${r}"`);if(this.name!=e.name)throw new Dw.ErrTypingSystem(`check name of field "${e.name}"`)}equals(e){return this.name==e.name&&this.value.equals(e.value)}};bi.Field=Rw;var Pw=class{static checkTyping(e,r){if(e.length!=r.length)throw new Dw.ErrTypingSystem("fields length vs. field definitions length");for(let i=0;i<e.length;i++){let n=e[i],s=r[i];n.checkTyping(s)}}static equals(e,r){if(e.length!=r.length)return!1;for(let i=0;i<e.length;i++){let n=e[i],s=r[i];if(!n.equals(s))return!1}return!0}static getNamesOfTypeDependencies(e){let r=[];for(let i of e)r.push(i.type.getName()),r.push(...i.type.getNamesOfDependencies());return[...new Set(r)]}};bi.Fields=Pw});var gf=D(Ac=>{"use strict";y();Object.defineProperty(Ac,"__esModule",{value:!0});Ac.Struct=Ac.StructType=void 0;var H$=kt(),xg=xc(),yI=ar(),pf=class extends yI.CustomType{constructor(e,r){super(e),this.fieldsDefinitions=[],this.fieldsDefinitions=r}getClassName(){return pf.ClassName}static fromJSON(e){let r=(e.fields||[]).map(i=>xg.FieldDefinition.fromJSON(i));return new pf(e.name,r)}getFieldsDefinitions(){return this.fieldsDefinitions}getFieldDefinition(e){return this.fieldsDefinitions.find(r=>r.name==e)}getNamesOfDependencies(){return xg.Fields.getNamesOfTypeDependencies(this.fieldsDefinitions)}};Ac.StructType=pf;pf.ClassName="StructType";var Ec=class extends yI.TypedValue{constructor(e,r){super(e),this.fields=r,this.fieldsByName=new Map(r.map(i=>[i.name,i])),this.checkTyping()}getClassName(){return Ec.ClassName}checkTyping(){let r=this.getType().getFieldsDefinitions();xg.Fields.checkTyping(this.fields,r)}getFields(){return this.fields}getFieldValue(e){let r=this.fieldsByName.get(e);if(r)return r.value.valueOf();throw new H$.ErrMissingFieldOnStruct(e,this.getType().getName())}valueOf(){let e={};for(let r of this.fields)e[r.name]=r.value.valueOf();return e}equals(e){if(!this.getType().equals(e.getType()))return!1;let r=this.getFields(),i=e.getFields();return xg.Fields.equals(r,i)}};Ac.Struct=Ec;Ec.ClassName="Struct"});var Ag=D(Fo=>{"use strict";y();Object.defineProperty(Fo,"__esModule",{value:!0});Fo.EndpointParameterDefinition=Fo.EndpointModifiers=Fo.EndpointDefinition=void 0;var j$=_g(),mI="?",V$="N / A",md=class{constructor(e,r,i,n){this.input=[],this.output=[],this.name=e,this.input=r||[],this.output=i||[],this.modifiers=n}isConstructor(){return this.name=="constructor"}static fromJSON(e){e.name=e.name==null?mI:e.name,e.payableInTokens=e.payableInTokens||[],e.inputs=e.inputs||[],e.outputs=e.outputs||[];let r=e.inputs.map(s=>vf.fromJSON(s)),i=e.outputs.map(s=>vf.fromJSON(s)),n=new Eg(e.mutability,e.payableInTokens);return new md(e.name,r,i,n)}};Fo.EndpointDefinition=md;var Eg=class{constructor(e,r){this.mutability=e||"",this.payableInTokens=r||[]}isPayableInEGLD(){return this.isPayableInToken("EGLD")}isPayableInToken(e){return this.payableInTokens.includes(e)?!0:this.payableInTokens.includes(`!${e}`)?!1:!!this.payableInTokens.includes("*")}isPayable(){return this.payableInTokens.length!=0}isReadonly(){return this.mutability=="readonly"}};Fo.EndpointModifiers=Eg;var vf=class{constructor(e,r,i){this.name=e,this.description=r,this.type=i}static fromJSON(e){let r=new j$.TypeExpressionParser().parse(e.type);return new vf(e.name||mI,e.description||V$,r)}};Fo.EndpointParameterDefinition=vf});var Lw=D(Sg=>{"use strict";y();Object.defineProperty(Sg,"__esModule",{value:!0});Sg.ContractInterface=void 0;var z$=ji(),bI=Ag(),K$="?",bd=class{constructor(e,r,i){this.endpoints=[],this.name=e,this.constructorDefinition=r,this.endpoints=i}static fromJSON(e){e.name=e.name||K$,e.endpoints=e.endpoints||[];let r=G$(e),i=e.endpoints.map(n=>bI.EndpointDefinition.fromJSON(n));return new bd(e.name,r,i)}getConstructorDefinition(){return this.constructorDefinition}getEndpoint(e){let r=this.endpoints.find(i=>i.name==e);return z$.guardValueIsSetWithMessage(`endpoint [${e}] not found`,r),r}};Sg.ContractInterface=bd;function G$(t){if(t.constructor.inputs===void 0||t.constructor.outputs===void 0)return null;let e=Object.assign({name:"constructor"},t.constructor);return bI.EndpointDefinition.fromJSON(e)}});var wd=D(ko=>{"use strict";y();Object.defineProperty(ko,"__esModule",{value:!0});ko.EnumValue=ko.EnumVariantDefinition=ko.EnumType=void 0;var Q$=kt(),qw=ji(),Ig=xc(),_I=ar(),wI=256,yf=class extends _I.CustomType{constructor(e,r){super(e),this.variants=[],this.variants=r}getClassName(){return yf.ClassName}static fromJSON(e){let r=(e.variants||[]).map(i=>Sc.fromJSON(i));return new yf(e.name,r)}getVariantByDiscriminant(e){let r=this.variants.find(i=>i.discriminant==e);return qw.guardValueIsSet(`variant by discriminant (${e})`,r),r}getVariantByName(e){let r=this.variants.find(i=>i.name==e);return qw.guardValueIsSet(`variant by name (${e})`,r),r}getNamesOfDependencies(){let e=[];for(let r of this.variants)e.push(...r.getNamesOfDependencies());return[...new Set(e)]}};ko.EnumType=yf;yf.ClassName="EnumType";var Sc=class{constructor(e,r,i=[]){this.fieldsDefinitions=[],qw.guardTrue(r<wI,`discriminant for simple enum should be less than ${wI}`),this.name=e,this.discriminant=r,this.fieldsDefinitions=i}static fromJSON(e){let r=(e.fields||[]).map(i=>Ig.FieldDefinition.fromJSON(i));return new Sc(e.name,e.discriminant,r)}getFieldsDefinitions(){return this.fieldsDefinitions}getFieldDefinition(e){return this.fieldsDefinitions.find(r=>r.name==e)}getNamesOfDependencies(){return Ig.Fields.getNamesOfTypeDependencies(this.fieldsDefinitions)}};ko.EnumVariantDefinition=Sc;var Uo=class extends _I.TypedValue{constructor(e,r,i){super(e),this.fields=[],this.name=r.name,this.discriminant=r.discriminant,this.fields=i,this.fieldsByName=new Map(i.map(s=>[s.name,s]));let n=r.getFieldsDefinitions();Ig.Fields.checkTyping(this.fields,n)}getClassName(){return Uo.ClassName}static fromName(e,r){let i=e.getVariantByName(r);return new Uo(e,i,[])}static fromDiscriminant(e,r){let i=e.getVariantByDiscriminant(r);return new Uo(e,i,[])}equals(e){if(!this.getType().equals(e.getType()))return!1;let r=this.getFields(),i=e.getFields(),n=this.name==e.name,s=this.discriminant==e.discriminant,o=Ig.Fields.equals(r,i);return n&&s&&o}getFields(){return this.fields}getFieldValue(e){let r=this.fieldsByName.get(e);if(r)return r.value.valueOf();throw new Q$.ErrMissingFieldOnEnum(e,this.getType().getName())}valueOf(){let e={name:this.name,fields:[]};return this.fields.forEach(r=>e.fields[r.name]=r.value.valueOf()),e}};ko.EnumValue=Uo;Uo.ClassName="EnumValue"});var Cc=D(Mc=>{"use strict";y();Object.defineProperty(Mc,"__esModule",{value:!0});Mc.AddressValue=Mc.AddressType=void 0;var W$=En(),xI=ar(),mf=class extends xI.PrimitiveType{constructor(){super("Address")}getClassName(){return mf.ClassName}};Mc.AddressType=mf;mf.ClassName="AddressType";var Ic=class extends xI.PrimitiveValue{constructor(e){super(new mf),this.value=new W$.Address(e.bech32())}getClassName(){return Ic.ClassName}equals(e){return this.value.equals(e.value)}valueOf(){return this.value}};Mc.AddressValue=Ic;Ic.ClassName="AddressValue"});var _d=D(Oc=>{"use strict";y();Object.defineProperty(Oc,"__esModule",{value:!0});Oc.BooleanValue=Oc.BooleanType=void 0;var EI=ar(),bf=class extends EI.PrimitiveType{constructor(){super("bool")}getClassName(){return bf.ClassName}};Oc.BooleanType=bf;bf.ClassName="BooleanType";var Tc=class extends EI.PrimitiveValue{constructor(e){super(new bf),this.value=e}getClassName(){return Tc.ClassName}equals(e){return this.value===e.value}isTrue(){return this.value===!0}isFalse(){return!this.isTrue()}valueOf(){return this.value}};Oc.BooleanValue=Tc;Tc.ClassName="BooleanValue"});var jo=D(Nc=>{"use strict";y();Object.defineProperty(Nc,"__esModule",{value:!0});Nc.BytesValue=Nc.BytesType=void 0;var AI=ar(),wf=class extends AI.PrimitiveType{constructor(){super("bytes")}getClassName(){return wf.ClassName}};Nc.BytesType=wf;wf.ClassName="BytesType";var Ho=class extends AI.PrimitiveValue{constructor(e){super(new wf),this.value=e}getClassName(){return Ho.ClassName}static fromUTF8(e){let r=M.Buffer.from(e,"utf-8");return new Ho(r)}static fromHex(e){let r=M.Buffer.from(e,"hex");return new Ho(r)}getLength(){return this.value.length}equals(e){return this.getLength()!=e.getLength()?!1:this.value.equals(e.value)}valueOf(){return this.value}toString(){return this.value.toString()}};Nc.BytesValue=Ho;Ho.ClassName="BytesValue"});var Mg=D(Bc=>{"use strict";y();Object.defineProperty(Bc,"__esModule",{value:!0});Bc.CompositeValue=Bc.CompositeType=void 0;var $$=ji(),Fw=ar(),_f=class extends Fw.Type{constructor(...e){super("Composite",e,Fw.TypeCardinality.variable(e.length))}getClassName(){return _f.ClassName}};Bc.CompositeType=_f;_f.ClassName="CompositeType";var xf=class extends Fw.TypedValue{constructor(e,r){super(e),$$.guardLength(r,e.getTypeParameters().length),this.items=r}getClassName(){return xf.ClassName}static fromItems(...e){let r=e.map(n=>n.getType()),i=new _f(...r);return new xf(i,e)}getItems(){return this.items}valueOf(){return this.items.map(e=>e?.valueOf())}equals(e){if(this.getType().differs(e.getType()))return!1;for(let r=0;r<this.items.length;r++){let i=this.items[r],n=e.items[r];if(!i.equals(n))return!1}return!0}};Bc.CompositeValue=xf;xf.ClassName="CompositeValue"});var kw=D(Cg=>{"use strict";y();Object.defineProperty(Cg,"__esModule",{value:!0});Cg.CollectionOfTypedValues=void 0;var Uw=class{constructor(e){this.items=e}getLength(){return this.items.length}getItems(){return this.items}valueOf(){return this.items.map(e=>e.valueOf())}equals(e){if(this.getLength()!=e.getLength())return!1;for(let r=0;r<this.getLength();r++){let i=this.items[r],n=e.items[r];if(!i.equals(n))return!1}return!0}};Cg.CollectionOfTypedValues=Uw});var xd=D(rs=>{"use strict";y();Object.defineProperty(rs,"__esModule",{value:!0});rs.List=rs.OptionValue=rs.ListType=rs.OptionType=void 0;var Y$=ji(),J$=kw(),Ef=ar(),is=class extends Ef.Type{constructor(e){super("Option",[e])}getClassName(){return is.ClassName}isAssignableFrom(e){if(!e.hasExactClass(is.ClassName))return!1;let r=this.getFirstTypeParameter().equals(e.getFirstTypeParameter()),i=e.getFirstTypeParameter().hasExactClass(Ef.NullType.ClassName);return r||i}};rs.OptionType=is;is.ClassName="OptionType";var Af=class extends Ef.Type{constructor(e){super("List",[e])}getClassName(){return Af.ClassName}};rs.ListType=Af;Af.ClassName="ListType";var eo=class extends Ef.TypedValue{constructor(e,r=null){super(e),this.value=r}getClassName(){return eo.ClassName}static newMissing(){let e=new is(new Ef.NullType);return new eo(e)}static newMissingTyped(e){return new eo(new is(e))}static newProvided(e){let r=new is(e.getType());return new eo(r,e)}isSet(){return!!this.value}getTypedValue(){return Y$.guardValueIsSet("value",this.value),this.value}valueOf(){return this.value?this.value.valueOf():null}equals(e){var r;return((r=this.value)===null||r===void 0?void 0:r.equals(e.value))||!1}};rs.OptionValue=eo;eo.ClassName="OptionValue";var Vo=class extends Ef.TypedValue{constructor(e,r){super(e),this.backingCollection=new J$.CollectionOfTypedValues(r)}getClassName(){return Vo.ClassName}static fromItems(e){if(e.length==0)return new Vo(new Ef.TypePlaceholder,[]);let r=e[0].getType(),i=new Af(r);return new Vo(i,e)}getLength(){return this.backingCollection.getLength()}getItems(){return this.backingCollection.getItems()}valueOf(){return this.backingCollection.valueOf()}equals(e){return this.backingCollection.equals(e.backingCollection)}};rs.List=Vo;Vo.ClassName="List"});var Ed=D(Rc=>{"use strict";y();Object.defineProperty(Rc,"__esModule",{value:!0});Rc.H256Value=Rc.H256Type=void 0;var SI=ar(),Sf=class extends SI.PrimitiveType{constructor(){super("H256")}getClassName(){return Sf.ClassName}};Rc.H256Type=Sf;Sf.ClassName="H256Type";var Dc=class extends SI.PrimitiveValue{constructor(e){super(new Sf),this.value=e}getClassName(){return Dc.ClassName}equals(e){return this.value.equals(e.value)}valueOf(){return this.value}};Rc.H256Value=Dc;Dc.ClassName="H256Value"});var Ad=D(We=>{"use strict";y();var X$=We&&We.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),Z$=We&&We.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),eY=We&&We.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&X$(e,t,r);return Z$(e,t),e},tY=We&&We.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(We,"__esModule",{value:!0});We.BigIntValue=We.BigUIntValue=We.I64Value=We.U64Value=We.I32Value=We.U32Value=We.I16Value=We.U16Value=We.I8Value=We.U8Value=We.NumericalValue=We.BigIntType=We.BigUIntType=We.I64Type=We.U64Type=We.I32Type=We.U32Type=We.I16Type=We.U16Type=We.I8Type=We.U8Type=We.NumericalType=void 0;var II=eY(kt()),MI=ar(),Lf=tY(xn()),Hr=class extends MI.PrimitiveType{constructor(e,r,i){super(e),this.sizeInBytes=r,this.withSign=i}getClassName(){return Hr.ClassName}hasFixedSize(){return!!this.sizeInBytes}hasArbitrarySize(){return!this.hasFixedSize()}};We.NumericalType=Hr;Hr.ClassName="NumericalType";var If=class extends Hr{constructor(){super("u8",1,!1)}getClassName(){return If.ClassName}};We.U8Type=If;If.ClassName="U8Type";var Mf=class extends Hr{constructor(){super("i8",1,!0)}getClassName(){return Mf.ClassName}};We.I8Type=Mf;Mf.ClassName="I8Type";var Cf=class extends Hr{constructor(){super("u16",2,!1)}getClassName(){return Cf.ClassName}};We.U16Type=Cf;Cf.ClassName="U16Type";var Tf=class extends Hr{constructor(){super("i16",2,!0)}getClassName(){return Tf.ClassName}};We.I16Type=Tf;Tf.ClassName="I16Type";var Of=class extends Hr{constructor(){super("u32",4,!1)}getClassName(){return Of.ClassName}};We.U32Type=Of;Of.ClassName="U32Type";var Nf=class extends Hr{constructor(){super("i32",4,!0)}getClassName(){return Nf.ClassName}};We.I32Type=Nf;Nf.ClassName="I32Type";var Bf=class extends Hr{constructor(){super("u64",8,!1)}getClassName(){return Bf.ClassName}};We.U64Type=Bf;Bf.ClassName="U64Type";var Df=class extends Hr{constructor(){super("i64",8,!0)}getClassName(){return Df.ClassName}};We.I64Type=Df;Df.ClassName="I64Type";var Rf=class extends Hr{constructor(){super("BigUint",0,!1)}getClassName(){return Rf.ClassName}};We.BigUIntType=Rf;Rf.ClassName="BigUIntType";var Pf=class extends Hr{constructor(){super("Bigint",0,!0)}getClassName(){return Pf.ClassName}};We.BigIntType=Pf;Pf.ClassName="BigIntType";var jr=class extends MI.PrimitiveValue{constructor(e,r){if(super(e),this.value=new Lf.default(r),this.sizeInBytes=e.sizeInBytes,this.withSign=e.withSign,this.value.isNaN())throw new II.ErrInvalidArgument(`not a number: ${r}`);if(!this.withSign&&this.value.isNegative())throw new II.ErrInvalidArgument(`negative, but type is unsigned: ${r}`)}getClassName(){return jr.ClassName}equals(e){return this.value.isEqualTo(e.value)}valueOf(){return this.value}toString(){return this.value.toString()}};We.NumericalValue=jr;jr.ClassName="NumericalValue";var Pc=class extends jr{constructor(e){super(new If,new Lf.default(e))}getClassName(){return Pc.ClassName}};We.U8Value=Pc;Pc.ClassName="U8Value";var Lc=class extends jr{constructor(e){super(new Mf,new Lf.default(e))}getClassName(){return Lc.ClassName}};We.I8Value=Lc;Lc.ClassName="I8Value";var qc=class extends jr{constructor(e){super(new Cf,new Lf.default(e))}getClassName(){return qc.ClassName}};We.U16Value=qc;qc.ClassName="U16Value";var Fc=class extends jr{constructor(e){super(new Tf,new Lf.default(e))}getClassName(){return Fc.ClassName}};We.I16Value=Fc;Fc.ClassName="I16Value";var Uc=class extends jr{constructor(e){super(new Of,new Lf.default(e))}getClassName(){return Uc.ClassName}};We.U32Value=Uc;Uc.ClassName="U32Value";var kc=class extends jr{constructor(e){super(new Nf,new Lf.default(e))}getClassName(){return kc.ClassName}};We.I32Value=kc;kc.ClassName="I32Value";var Hc=class extends jr{constructor(e){super(new Bf,e)}getClassName(){return Hc.ClassName}};We.U64Value=Hc;Hc.ClassName="U64Value";var jc=class extends jr{constructor(e){super(new Df,e)}getClassName(){return jc.ClassName}};We.I64Value=jc;jc.ClassName="I64Value";var Vc=class extends jr{constructor(e){super(new Rf,e)}getClassName(){return Vc.ClassName}};We.BigUIntValue=Vc;Vc.ClassName="BigUIntValue";var zc=class extends jr{constructor(e){super(new Pf,e)}getClassName(){return zc.ClassName}};We.BigIntValue=zc;zc.ClassName="BigIntValue"});var Gc=D(Kc=>{"use strict";y();Object.defineProperty(Kc,"__esModule",{value:!0});Kc.TokenIdentifierValue=Kc.TokenIdentifierType=void 0;var CI=ar(),rY="EGLD",qf=class extends CI.PrimitiveType{constructor(){super("TokenIdentifier")}getClassName(){return qf.ClassName}};Kc.TokenIdentifierType=qf;qf.ClassName="TokenIdentifierType";var zo=class extends CI.PrimitiveValue{constructor(e){super(new qf),this.value=e}static egld(){return new zo(rY)}static esdtTokenIdentifier(e){return new zo(e)}getClassName(){return zo.ClassName}getLength(){return this.value.length}equals(e){return this.getLength()!=e.getLength()?!1:this.value==e.value}valueOf(){return this.value}toString(){return this.value.toString()}};Kc.TokenIdentifierValue=zo;zo.ClassName="TokenIdentifierValue"});var Og=D(Qc=>{"use strict";y();Object.defineProperty(Qc,"__esModule",{value:!0});Qc.VariadicValue=Qc.VariadicType=void 0;var Tg=ar(),Go=class extends Tg.Type{constructor(e){super("Variadic",[e],Tg.TypeCardinality.variable())}getClassName(){return Go.ClassName}};Qc.VariadicType=Go;Go.ClassName="VariadicType";var Ko=class extends Tg.TypedValue{constructor(e,r){super(e),this.items=r}getClassName(){return Ko.ClassName}static fromItems(...e){if(e.length==0)return new Ko(new Go(new Tg.TypePlaceholder),[]);let r=e[0].getType();return new Ko(new Go(r),e)}getItems(){return this.items}valueOf(){return this.items.map(e=>e.valueOf())}equals(e){if(this.getType().differs(e.getType()))return!1;for(let r=0;r<this.items.length;r++){let i=this.items[r],n=e.items[r];if(!i.equals(n))return!1}return!0}};Qc.VariadicValue=Ko;Ko.ClassName="VariadicValue"});var Ng=D(Wc=>{"use strict";y();Object.defineProperty(Wc,"__esModule",{value:!0});Wc.OptionalValue=Wc.OptionalType=void 0;var iY=ji(),Sd=ar(),Qo=class extends Sd.Type{constructor(e){super("Optional",[e],Sd.TypeCardinality.variable(1))}getClassName(){return Qo.ClassName}isAssignableFrom(e){if(!e.hasExactClass(Qo.ClassName))return!1;let r=this.getFirstTypeParameter().equals(e.getFirstTypeParameter()),i=e.getFirstTypeParameter().hasExactClass(Sd.NullType.ClassName);return r||i}};Wc.OptionalType=Qo;Qo.ClassName="OptionalType";var Ff=class extends Sd.TypedValue{constructor(e,r=null){super(e),this.value=r}getClassName(){return Ff.ClassName}static newMissing(){let e=new Qo(new Sd.NullType);return new Ff(e)}isSet(){return!!this.value}getTypedValue(){return iY.guardValueIsSet("value",this.value),this.value}valueOf(){return this.value?this.value.valueOf():null}equals(e){var r;return((r=this.value)===null||r===void 0?void 0:r.equals(e.value))||!1}};Wc.OptionalValue=Ff;Ff.ClassName="OptionalValue"});var Bg=D(Jc=>{"use strict";y();Object.defineProperty(Jc,"__esModule",{value:!0});Jc.ArrayVec=Jc.ArrayVecType=void 0;var TI=ji(),nY=kw(),OI=ar(),$c=class extends OI.Type{constructor(e,r){super("Array",[r]),TI.guardTrue(e>0,"array length > 0"),this.length=e}getClassName(){return $c.ClassName}};Jc.ArrayVecType=$c;$c.ClassName="ArrayVecType";var Yc=class extends OI.TypedValue{constructor(e,r){super(e),TI.guardLength(r,e.length),this.backingCollection=new nY.CollectionOfTypedValues(r)}getClassName(){return Yc.ClassName}getLength(){return this.backingCollection.getLength()}getItems(){return this.backingCollection.getItems()}valueOf(){return this.backingCollection.valueOf()}equals(e){return this.backingCollection.equals(e.backingCollection)}};Jc.ArrayVec=Yc;Yc.ClassName="ArrayVec"});var Dg=D(Xc=>{"use strict";y();Object.defineProperty(Xc,"__esModule",{value:!0});Xc.StringValue=Xc.StringType=void 0;var NI=ar(),Uf=class extends NI.PrimitiveType{constructor(){super("utf-8 string")}getClassName(){return Uf.ClassName}};Xc.StringType=Uf;Uf.ClassName="StringType";var Wo=class extends NI.PrimitiveValue{constructor(e){super(new Uf),this.value=e}getClassName(){return Wo.ClassName}static fromUTF8(e){return new Wo(e)}static fromHex(e){let r=M.Buffer.from(e,"hex").toString();return new Wo(r)}getLength(){return this.value.length}equals(e){return this.value===e.value}valueOf(){return this.value}};Xc.StringValue=Wo;Wo.ClassName="StringValue"});var Rg=D(Vi=>{"use strict";y();var sY=Vi&&Vi.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),oY=Vi&&Vi.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),aY=Vi&&Vi.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&sY(e,t,r);return oY(e,t),e};Object.defineProperty(Vi,"__esModule",{value:!0});Vi.Tuple=Vi.TupleType=void 0;var fY=aY(kt()),uY=gf(),BI=xc(),cY=gf(),to=class extends cY.StructType{constructor(...e){super(to.prepareName(e),to.prepareFieldDefinitions(e))}getClassName(){return to.ClassName}static prepareName(e){let r=e.map(n=>n.toString()).join(", ");return`tuple${r.length}<${r}>`}static prepareFieldDefinitions(e){return e.map((i,n)=>new BI.FieldDefinition(DI(n),"anonymous tuple field",i))}};Vi.TupleType=to;to.ClassName="TupleType";function DI(t){return`field${t}`}var kf=class extends uY.Struct{constructor(e,r){super(e,r)}getClassName(){return kf.ClassName}static fromItems(e){if(e.length<1)throw new fY.ErrTypingSystem("bad tuple items");let r=e.map(s=>s.getType()),i=new to(...r),n=e.map((s,o)=>new BI.Field(s,DI(o)));return new kf(i,n)}};Vi.Tuple=kf;kf.ClassName="Tuple"});var PI=D(Zc=>{"use strict";y();Object.defineProperty(Zc,"__esModule",{value:!0});Zc.CodeMetadataValue=Zc.CodeMetadataType=void 0;var RI=ar(),Pg=class extends RI.PrimitiveType{constructor(){super("CodeMetadata")}};Zc.CodeMetadataType=Pg;var Hw=class extends RI.PrimitiveValue{constructor(e){super(new Pg),this.value=e}equals(e){return this.value.equals(e.value)}valueOf(){return this.value}};Zc.CodeMetadataValue=Hw});var Lg=D(th=>{"use strict";y();Object.defineProperty(th,"__esModule",{value:!0});th.NothingValue=th.NothingType=void 0;var LI=ar(),Hf=class extends LI.PrimitiveType{constructor(){super("nothing")}getClassName(){return Hf.ClassName}};th.NothingType=Hf;Hf.ClassName="NothingType";var eh=class extends LI.PrimitiveValue{constructor(){super(new Hf)}getClassName(){return eh.ClassName}equals(e){return!1}valueOf(){return{}}};th.NothingValue=eh;eh.ClassName="NothingValue"});var Gw=D(ns=>{"use strict";y();var hY=ns&&ns.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),lY=ns&&ns.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),dY=ns&&ns.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&hY(e,t,r);return lY(e,t),e};Object.defineProperty(ns,"__esModule",{value:!0});ns.TypeMapper=void 0;var qI=dY(kt()),pY=Cc(),gY=_d(),vY=jo(),qg=Mg(),jw=wd(),FI=xd(),yY=Ed(),zi=Ad(),UI=gf(),mY=xc(),kI=Gc(),Vw=Og(),zw=Ng(),Fg=Bg(),bY=Dg(),$o=Rg(),wY=PI(),HI=Lg(),Kw=class{constructor(e=[]){this.openTypesFactories=new Map([["Option",(...r)=>new FI.OptionType(r[0])],["List",(...r)=>new FI.ListType(r[0])],["VarArgs",(...r)=>new Vw.VariadicType(r[0])],["MultiResultVec",(...r)=>new Vw.VariadicType(r[0])],["variadic",(...r)=>new Vw.VariadicType(r[0])],["OptionalArg",(...r)=>new zw.OptionalType(r[0])],["optional",(...r)=>new zw.OptionalType(r[0])],["OptionalResult",(...r)=>new zw.OptionalType(r[0])],["multi",(...r)=>new qg.CompositeType(...r)],["MultiArg",(...r)=>new qg.CompositeType(...r)],["MultiResult",(...r)=>new qg.CompositeType(...r)],["multi",(...r)=>new qg.CompositeType(...r)],["tuple",(...r)=>new $o.TupleType(...r)],["tuple2",(...r)=>new $o.TupleType(...r)],["tuple3",(...r)=>new $o.TupleType(...r)],["tuple4",(...r)=>new $o.TupleType(...r)],["tuple5",(...r)=>new $o.TupleType(...r)],["tuple6",(...r)=>new $o.TupleType(...r)],["tuple7",(...r)=>new $o.TupleType(...r)],["tuple8",(...r)=>new $o.TupleType(...r)],["array20",(...r)=>new Fg.ArrayVecType(20,r[0])],["array32",(...r)=>new Fg.ArrayVecType(32,r[0])],["array46",(...r)=>new Fg.ArrayVecType(46,r[0])],["array64",(...r)=>new Fg.ArrayVecType(64,r[0])]]),this.closedTypesMap=new Map([["u8",new zi.U8Type],["u16",new zi.U16Type],["u32",new zi.U32Type],["u64",new zi.U64Type],["U64",new zi.U64Type],["BigUint",new zi.BigUIntType],["i8",new zi.I8Type],["i16",new zi.I16Type],["i32",new zi.I32Type],["i64",new zi.I64Type],["Bigint",new zi.BigIntType],["BigInt",new zi.BigIntType],["bool",new gY.BooleanType],["bytes",new vY.BytesType],["Address",new pY.AddressType],["H256",new yY.H256Type],["utf-8 string",new bY.StringType],["TokenIdentifier",new kI.TokenIdentifierType],["EgldOrEsdtTokenIdentifier",new kI.TokenIdentifierType],["CodeMetadata",new wY.CodeMetadataType],["nothing",new HI.NothingType],["AsyncCall",new HI.NothingType]]),this.learnedTypesMap=new Map;for(let r of e)this.learnedTypesMap.set(r.getName(),r)}mapType(e){let r=this.mapRecursiveType(e);if(r)return r.isGenericType()||this.learnType(r),r;throw new qI.ErrTypingSystem(`Cannot map the type "${e.getName()}" to a known type`)}mapRecursiveType(e){let r=e.isGenericType(),i=this.learnedTypesMap.get(e.getName());if(i)return i;let n=this.closedTypesMap.get(e.getName());return n||(e.hasExactClass(jw.EnumType.ClassName)?this.mapEnumType(e):e.hasExactClass(UI.StructType.ClassName)?this.mapStructType(e):r?this.mapGenericType(e):null)}learnType(e){this.learnedTypesMap.delete(e.getName()),this.learnedTypesMap.set(e.getName(),e)}mapStructType(e){let r=this.mappedFields(e.getFieldsDefinitions());return new UI.StructType(e.getName(),r)}mapEnumType(e){let r=e.variants.map(n=>new jw.EnumVariantDefinition(n.name,n.discriminant,this.mappedFields(n.getFieldsDefinitions())));return new jw.EnumType(e.getName(),r)}mappedFields(e){return e.map(r=>new mY.FieldDefinition(r.name,r.description,this.mapType(r.type)))}mapGenericType(e){let i=e.getTypeParameters().map(s=>this.mapType(s)),n=this.openTypesFactories.get(e.getName());if(!n)throw new qI.ErrTypingSystem(`Cannot map the generic type "${e.getName()}" to a known type`);return n(...i)}};ns.TypeMapper=Kw});var QI=D(ss=>{"use strict";y();var _Y=ss&&ss.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),xY=ss&&ss.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),EY=ss&&ss.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&_Y(e,t,r);return xY(e,t),e};Object.defineProperty(ss,"__esModule",{value:!0});ss.AbiRegistry=void 0;var AY=EY(kt()),Qw=ji(),jI=gf(),VI=Lw(),zI=wd(),KI=Gw(),Ww=Ag(),rh=class{constructor(){this.interfaces=[],this.customTypes=[]}static create(e){return new rh().extend(e).remapToKnownTypes()}extend(e){e.types=e.types||{};let r=VI.ContractInterface.fromJSON(e);this.interfaces.push(r);for(let i in e.types){let n=e.types[i],s=n.type;n.name=i;let o=this.createCustomType(s,n);this.customTypes.push(o)}return this.sortCustomTypesByDependencies(),this}createCustomType(e,r){if(e=="struct")return jI.StructType.fromJSON(r);if(e=="enum")return zI.EnumType.fromJSON(r);throw new AY.ErrTypingSystem(`Unknown type discriminant: ${e}`)}sortCustomTypesByDependencies(){this.customTypes.sort((e,r)=>r.getNamesOfDependencies().indexOf(e.getName())>-1?-1:1)}getInterface(e){let r=this.interfaces.find(i=>i.name==e);return Qw.guardValueIsSetWithMessage(`interface [${e}] not found`,r),r}getInterfaces(e){return e.map(r=>this.getInterface(r))}getStruct(e){let r=this.customTypes.find(i=>i.getName()==e&&i.hasExactClass(jI.StructType.ClassName));return Qw.guardValueIsSetWithMessage(`struct [${e}] not found`,r),r}getStructs(e){return e.map(r=>this.getStruct(r))}getEnum(e){let r=this.customTypes.find(i=>i.getName()==e&&i.hasExactClass(zI.EnumType.ClassName));return Qw.guardValueIsSetWithMessage(`enum [${e}] not found`,r),r}getEnums(e){return e.map(r=>this.getEnum(r))}remapToKnownTypes(){let e=new KI.TypeMapper([]),r=[],i=[];for(let s of this.customTypes){let o=e.mapType(s);r.push(o)}e=new KI.TypeMapper(r);for(let s of this.interfaces){let o=[];for(let l of s.endpoints)o.push(GI(l,e));let f=s.constructorDefinition?GI(s.constructorDefinition,e):null;i.push(new VI.ContractInterface(s.name,f,o))}let n=new rh;return n.customTypes.push(...r),n.interfaces.push(...i),n}};ss.AbiRegistry=rh;function GI(t,e){let r=t.input.map(n=>new Ww.EndpointParameterDefinition(n.name,n.description,e.mapType(n.type))),i=t.output.map(n=>new Ww.EndpointParameterDefinition(n.name,n.description,e.mapType(n.type)));return new Ww.EndpointDefinition(t.name,r,i,t.modifiers)}});var $I=D(ih=>{"use strict";y();Object.defineProperty(ih,"__esModule",{value:!0});ih.createListOfTokenIdentifiers=ih.createListOfAddresses=void 0;var SY=Cc(),WI=xd(),IY=Gc();function MY(t){let e=t.map(i=>new SY.AddressValue(i));return WI.List.fromItems(e)}ih.createListOfAddresses=MY;function CY(t){let e=t.map(i=>new IY.TokenIdentifierValue(i));return WI.List.fromItems(e)}ih.createListOfTokenIdentifiers=CY});var uM=D(Vr=>{"use strict";y();var TY=Vr&&Vr.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),OY=Vr&&Vr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),NY=Vr&&Vr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&TY(e,t,r);return OY(e,t),e};Object.defineProperty(Vr,"__esModule",{value:!0});Vr.onPrimitiveTypeSelect=Vr.onPrimitiveValueSelect=Vr.onTypedValueSelect=Vr.onTypeSelect=void 0;var kg=NY(kt()),YI=Cc(),JI=_d(),XI=jo(),ZI=wd(),Ug=xd(),eM=Ed(),tM=Ad(),rM=Lg(),iM=gf(),nM=Gc(),sM=Rg(),oM=ar(),aM=Bg(),fM=Dg();function BY(t,e){if(t.hasExactClass(Ug.OptionType.ClassName))return e.onOption();if(t.hasExactClass(Ug.ListType.ClassName))return e.onList();if(t.hasExactClass(aM.ArrayVecType.ClassName))return e.onArray();if(t.hasClassOrSuperclass(oM.PrimitiveType.ClassName))return e.onPrimitive();if(t.hasExactClass(iM.StructType.ClassName))return e.onStruct();if(t.hasExactClass(sM.TupleType.ClassName))return e.onTuple();if(t.hasExactClass(ZI.EnumType.ClassName))return e.onEnum();if(e.onOther)return e.onOther();throw new kg.ErrTypingSystem(`type isn't known: ${t}`)}Vr.onTypeSelect=BY;function DY(t,e){if(t.hasClassOrSuperclass(oM.PrimitiveValue.ClassName))return e.onPrimitive();if(t.hasExactClass(Ug.OptionValue.ClassName))return e.onOption();if(t.hasExactClass(Ug.List.ClassName))return e.onList();if(t.hasExactClass(aM.ArrayVec.ClassName))return e.onArray();if(t.hasExactClass(iM.Struct.ClassName))return e.onStruct();if(t.hasExactClass(sM.Tuple.ClassName))return e.onTuple();if(t.hasExactClass(ZI.EnumValue.ClassName))return e.onEnum();if(e.onOther)return e.onOther();throw new kg.ErrTypingSystem(`value isn't typed: ${t}`)}Vr.onTypedValueSelect=DY;function RY(t,e){if(t.hasExactClass(JI.BooleanValue.ClassName))return e.onBoolean();if(t.hasClassOrSuperclass(tM.NumericalValue.ClassName))return e.onNumerical();if(t.hasExactClass(YI.AddressValue.ClassName))return e.onAddress();if(t.hasExactClass(XI.BytesValue.ClassName))return e.onBytes();if(t.hasExactClass(fM.StringValue.ClassName))return e.onString();if(t.hasExactClass(eM.H256Value.ClassName))return e.onH256();if(t.hasExactClass(nM.TokenIdentifierValue.ClassName))return e.onTypeIdentifier();if(t.hasExactClass(rM.NothingValue.ClassName))return e.onNothing();if(e.onOther)return e.onOther();throw new kg.ErrTypingSystem(`value isn't a primitive: ${t.getType()}`)}Vr.onPrimitiveValueSelect=RY;function PY(t,e){if(t.hasExactClass(JI.BooleanType.ClassName))return e.onBoolean();if(t.hasClassOrSuperclass(tM.NumericalType.ClassName))return e.onNumerical();if(t.hasExactClass(YI.AddressType.ClassName))return e.onAddress();if(t.hasExactClass(XI.BytesType.ClassName))return e.onBytes();if(t.hasExactClass(fM.StringType.ClassName))return e.onString();if(t.hasExactClass(eM.H256Type.ClassName))return e.onH256();if(t.hasExactClass(nM.TokenIdentifierType.ClassName))return e.onTokenIndetifier();if(t.hasExactClass(rM.NothingType.ClassName))return e.onNothing();if(e.onOther)return e.onOther();throw new kg.ErrTypingSystem(`type isn't a known primitive: ${t}`)}Vr.onPrimitiveTypeSelect=PY});var zr=D(At=>{"use strict";y();var LY=At&&At.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),Ht=At&&At.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&LY(e,t,r)};Object.defineProperty(At,"__esModule",{value:!0});Ht(QI(),At);Ht(Cc(),At);Ht(Ng(),At);Ht(_d(),At);Ht(jo(),At);Ht(Mg(),At);Ht(Lw(),At);Ht(Ag(),At);Ht(wd(),At);Ht($I(),At);Ht(xc(),At);Ht(xd(),At);Ht(Bg(),At);Ht(Ed(),At);Ht(uM(),At);Ht(Lg(),At);Ht(Ad(),At);Ht(Dg(),At);Ht(gf(),At);Ht(Rg(),At);Ht(Gc(),At);Ht(_g(),At);Ht(Gw(),At);Ht(ar(),At);Ht(Og(),At)});var hM=D(os=>{"use strict";y();var qY=os&&os.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),FY=os&&os.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),UY=os&&os.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&qY(e,t,r);return FY(e,t),e};Object.defineProperty(os,"__esModule",{value:!0});os.OptionValueBinaryCodec=void 0;var cM=UY(kt()),Hg=zr(),$w=class{constructor(e){this.binaryCodec=e}decodeNested(e,r){if(e[0]==0)return[Hg.OptionValue.newMissingTyped(r),1];if(e[0]!=1)throw new cM.ErrCodec("invalid buffer for optional value");let[i,n]=this.binaryCodec.decodeNested(e.slice(1),r);return[Hg.OptionValue.newProvided(i),n+1]}decodeTopLevel(e,r){if(e.length==0)return new Hg.OptionValue(r);if(e[0]!=1)throw new cM.ErrCodec("invalid buffer for optional value");let[i,n]=this.binaryCodec.decodeNested(e.slice(1),r);return new Hg.OptionValue(r,i)}encodeNested(e){return e.isSet()?M.Buffer.concat([M.Buffer.from([1]),this.binaryCodec.encodeNested(e.getTypedValue())]):M.Buffer.from([0])}encodeTopLevel(e){return e.isSet()?M.Buffer.concat([M.Buffer.from([1]),this.binaryCodec.encodeNested(e.getTypedValue())]):M.Buffer.from([])}};os.OptionValueBinaryCodec=$w});var lM=D(jg=>{"use strict";y();Object.defineProperty(jg,"__esModule",{value:!0});jg.AddressBinaryCodec=void 0;var kY=En(),HY=zr(),Yw=class{decodeNested(e){let r=e.slice(0,32),i=new kY.Address(r);return[new HY.AddressValue(i),32]}decodeTopLevel(e){let[r,i]=this.decodeNested(e);return r}encodeNested(e){return e.valueOf().pubkey()}encodeTopLevel(e){return e.valueOf().pubkey()}};jg.AddressBinaryCodec=Yw});var pM=D(as=>{"use strict";y();var jY=as&&as.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),VY=as&&as.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),zY=as&&as.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&jY(e,t,r);return VY(e,t),e};Object.defineProperty(as,"__esModule",{value:!0});as.BooleanBinaryCodec=void 0;var KY=zY(kt()),dM=zr(),An=class{decodeNested(e){let r=e.readUInt8(0);return[new dM.BooleanValue(r==An.TRUE),1]}decodeTopLevel(e){if(e.length>1)throw new KY.ErrInvalidArgument("buffer should be of size <= 1");let r=e[0];return new dM.BooleanValue(r==An.TRUE)}encodeNested(e){return e.isTrue()?M.Buffer.from([An.TRUE]):M.Buffer.from([An.FALSE])}encodeTopLevel(e){return e.isTrue()?M.Buffer.from([An.TRUE]):M.Buffer.from([])}};as.BooleanBinaryCodec=An;An.TRUE=1;An.FALSE=0});var vM=D(fs=>{"use strict";y();var GY=fs&&fs.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(fs,"__esModule",{value:!0});fs.zeroPadStringIfOddLength=fs.isPaddedHex=fs.numberToPaddedHex=void 0;var QY=GY(xn());function WY(t){let e=new QY.default(t).toString(16);return gM(e)}fs.numberToPaddedHex=WY;function $Y(t){t=t||"";let e=M.Buffer.from(t,"hex").toString("hex");return t.toUpperCase()==e.toUpperCase()}fs.isPaddedHex=$Y;function gM(t){return t=t||"",t.length%2==1?"0"+t:t}fs.zeroPadStringIfOddLength=gM});var Jw=D(fr=>{"use strict";y();var YY=fr&&fr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(fr,"__esModule",{value:!0});fr.prependByteToBuffer=fr.flipBufferBitsInPlace=fr.getHexMagnitudeOfBigInt=fr.bigIntToBuffer=fr.bufferToBigInt=fr.cloneBuffer=fr.isMsbZero=fr.isMsbOne=void 0;var yM=YY(xn()),JY=vM();function mM(t,e=0){return t[e]>>7==1}fr.isMsbOne=mM;function XY(t,e=0){return!mM(t,e)}fr.isMsbZero=XY;function ZY(t){let e=M.Buffer.alloc(t.length);return t.copy(e),e}fr.cloneBuffer=ZY;function eJ(t){let e=t.toString("hex");return new yM.default(`0x${e}`,16)}fr.bufferToBigInt=eJ;function tJ(t){let e=bM(t);return M.Buffer.from(e,"hex")}fr.bigIntToBuffer=tJ;function bM(t){return t?(t.isNegative()&&(t=t.multipliedBy(new yM.default(-1))),JY.numberToPaddedHex(t)):""}fr.getHexMagnitudeOfBigInt=bM;function rJ(t){for(let e=0;e<t.length;e++)t[e]=~t[e]}fr.flipBufferBitsInPlace=rJ;function iJ(t,e){return M.Buffer.concat([M.Buffer.from([e]),t])}fr.prependByteToBuffer=iJ});var zg=D(Vg=>{"use strict";y();Object.defineProperty(Vg,"__esModule",{value:!0});Vg.SizeOfU32=void 0;Vg.SizeOfU32=4});var _M=D(nh=>{"use strict";y();var nJ=nh&&nh.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(nh,"__esModule",{value:!0});nh.NumericalBinaryCodec=void 0;var Xw=zr(),Xt=Jw(),Id=nJ(xn()),wM=zg(),Zw=class{decodeNested(e,r){let i=0,n=r.sizeInBytes;n||(i=wM.SizeOfU32,n=e.readUInt32BE(0));let s=e.slice(i,i+n),o=this.decodeTopLevel(s,r),f=n+i;return[o,f]}decodeTopLevel(e,r){let i=Xt.cloneBuffer(e);if(e.length==0)return new Xw.NumericalValue(r,new Id.default(0));if(!r.withSign||Xt.isMsbZero(i)){let b=Xt.bufferToBigInt(i);return new Xw.NumericalValue(r,b)}Xt.flipBufferBitsInPlace(i);let l=Xt.bufferToBigInt(i).multipliedBy(new Id.default(-1)).minus(new Id.default(1));return new Xw.NumericalValue(r,l)}encodeNested(e){if(e.sizeInBytes)return this.encodeNestedFixedSize(e,e.sizeInBytes);let r=this.encodeTopLevel(e),i=M.Buffer.alloc(wM.SizeOfU32);return i.writeUInt32BE(r.length),M.Buffer.concat([i,r])}encodeNestedFixedSize(e,r){if(e.value.isZero())return M.Buffer.alloc(r,0);if(!e.withSign){let o=Xt.bigIntToBuffer(e.value),f=M.Buffer.alloc(r-o.length,0);return M.Buffer.concat([f,o])}if(e.value.isPositive()){let o=Xt.bigIntToBuffer(e.value);Xt.isMsbOne(o)&&(o=Xt.prependByteToBuffer(o,0));let f=M.Buffer.alloc(r-o.length,0);return M.Buffer.concat([f,o])}let i=e.value.plus(new Id.default(1)),n=Xt.bigIntToBuffer(i);Xt.flipBufferBitsInPlace(n),Xt.isMsbZero(n)&&(n=Xt.prependByteToBuffer(n,255));let s=M.Buffer.alloc(r-n.length,255);return M.Buffer.concat([s,n])}encodeTopLevel(e){let r=e.withSign;return e.value.isZero()?M.Buffer.alloc(0):r?this.encodePrimitive(e):Xt.bigIntToBuffer(e.value)}encodePrimitive(e){if(e.value.isPositive()){let n=Xt.bigIntToBuffer(e.value);return Xt.isMsbOne(n)&&(n=Xt.prependByteToBuffer(n,0)),n}let r=e.value.plus(new Id.default(1)),i=Xt.bigIntToBuffer(r);return Xt.flipBufferBitsInPlace(i),Xt.isMsbZero(i)&&(i=Xt.prependByteToBuffer(i,255)),i}};nh.NumericalBinaryCodec=Zw});var xM=D(Kg=>{"use strict";y();Object.defineProperty(Kg,"__esModule",{value:!0});Kg.H256BinaryCodec=void 0;var sJ=Ed(),e3=class{decodeNested(e){let r=e.slice(0,32);return[new sJ.H256Value(r),32]}decodeTopLevel(e){let[r,i]=this.decodeNested(e);return r}encodeNested(e){return e.valueOf()}encodeTopLevel(e){return e.valueOf()}};Kg.H256BinaryCodec=e3});var Wg=D(Qg=>{"use strict";y();Object.defineProperty(Qg,"__esModule",{value:!0});Qg.BytesBinaryCodec=void 0;var EM=jo(),Gg=zg(),t3=class{decodeNested(e){let r=e.readUInt32BE(0),i=e.slice(Gg.SizeOfU32,Gg.SizeOfU32+r);return[new EM.BytesValue(i),Gg.SizeOfU32+r]}decodeTopLevel(e){return new EM.BytesValue(e)}encodeNested(e){let r=M.Buffer.alloc(Gg.SizeOfU32);return r.writeUInt32BE(e.getLength()),M.Buffer.concat([r,e.valueOf()])}encodeTopLevel(e){return e.valueOf()}};Qg.BytesBinaryCodec=t3});var SM=D($g=>{"use strict";y();Object.defineProperty($g,"__esModule",{value:!0});$g.TokenIdentifierCodec=void 0;var oJ=jo(),AM=Gc(),aJ=Wg(),r3=class{constructor(){this.bytesCodec=new aJ.BytesBinaryCodec}decodeNested(e){let[r,i]=this.bytesCodec.decodeNested(e);return[new AM.TokenIdentifierValue(r.toString()),i]}decodeTopLevel(e){let r=this.bytesCodec.decodeTopLevel(e);return new AM.TokenIdentifierValue(r.toString())}encodeNested(e){let r=oJ.BytesValue.fromUTF8(e.valueOf());return this.bytesCodec.encodeNested(r)}encodeTopLevel(e){return M.Buffer.from(e.valueOf())}};$g.TokenIdentifierCodec=r3});var MM=D(Yg=>{"use strict";y();Object.defineProperty(Yg,"__esModule",{value:!0});Yg.NothingCodec=void 0;var IM=zr(),i3=class{decodeNested(){return[new IM.NothingValue,0]}decodeTopLevel(){return new IM.NothingValue}encodeNested(){return M.Buffer.from([])}encodeTopLevel(){return M.Buffer.from([])}};Yg.NothingCodec=i3});var TM=D(Jg=>{"use strict";y();Object.defineProperty(Jg,"__esModule",{value:!0});Jg.StringBinaryCodec=void 0;var CM=zr(),fJ=jo(),uJ=Wg(),n3=class{constructor(){this.bytesBinaryCodec=new uJ.BytesBinaryCodec}decodeNested(e){let[r,i]=this.bytesBinaryCodec.decodeNested(e);return[new CM.StringValue(r.valueOf().toString()),i]}decodeTopLevel(e){return new CM.StringValue(e.toString())}encodeNested(e){let r=fJ.BytesValue.fromUTF8(e.valueOf());return this.bytesBinaryCodec.encodeNested(r)}encodeTopLevel(e){return M.Buffer.from(e.valueOf())}};Jg.StringBinaryCodec=n3});var OM=D(Zg=>{"use strict";y();Object.defineProperty(Zg,"__esModule",{value:!0});Zg.PrimitiveBinaryCodec=void 0;var Xg=zr(),cJ=lM(),hJ=pM(),lJ=_M(),dJ=xM(),pJ=Wg(),gJ=SM(),vJ=MM(),yJ=TM(),s3=class{constructor(e){this.binaryCodec=e,this.booleanCodec=new hJ.BooleanBinaryCodec,this.numericalCodec=new lJ.NumericalBinaryCodec,this.addressCodec=new cJ.AddressBinaryCodec,this.h256Codec=new dJ.H256BinaryCodec,this.bytesCodec=new pJ.BytesBinaryCodec,this.stringCodec=new yJ.StringBinaryCodec,this.tokenIdentifierCodec=new gJ.TokenIdentifierCodec,this.nothingCodec=new vJ.NothingCodec}decodeNested(e,r){return Xg.onPrimitiveTypeSelect(r,{onBoolean:()=>this.booleanCodec.decodeNested(e),onNumerical:()=>this.numericalCodec.decodeNested(e,r),onAddress:()=>this.addressCodec.decodeNested(e),onBytes:()=>this.bytesCodec.decodeNested(e),onString:()=>this.stringCodec.decodeNested(e),onH256:()=>this.h256Codec.decodeNested(e),onTokenIndetifier:()=>this.tokenIdentifierCodec.decodeNested(e),onNothing:()=>this.nothingCodec.decodeNested()})}decodeTopLevel(e,r){return Xg.onPrimitiveTypeSelect(r,{onBoolean:()=>this.booleanCodec.decodeTopLevel(e),onNumerical:()=>this.numericalCodec.decodeTopLevel(e,r),onAddress:()=>this.addressCodec.decodeTopLevel(e),onBytes:()=>this.bytesCodec.decodeTopLevel(e),onString:()=>this.stringCodec.decodeTopLevel(e),onH256:()=>this.h256Codec.decodeTopLevel(e),onTokenIndetifier:()=>this.tokenIdentifierCodec.decodeTopLevel(e),onNothing:()=>this.nothingCodec.decodeTopLevel()})}encodeNested(e){return Xg.onPrimitiveValueSelect(e,{onBoolean:()=>this.booleanCodec.encodeNested(e),onNumerical:()=>this.numericalCodec.encodeNested(e),onAddress:()=>this.addressCodec.encodeNested(e),onBytes:()=>this.bytesCodec.encodeNested(e),onString:()=>this.stringCodec.encodeNested(e),onH256:()=>this.h256Codec.encodeNested(e),onTypeIdentifier:()=>this.tokenIdentifierCodec.encodeNested(e),onNothing:()=>this.nothingCodec.encodeNested()})}encodeTopLevel(e){return Xg.onPrimitiveValueSelect(e,{onBoolean:()=>this.booleanCodec.encodeTopLevel(e),onNumerical:()=>this.numericalCodec.encodeTopLevel(e),onAddress:()=>this.addressCodec.encodeTopLevel(e),onBytes:()=>this.bytesCodec.encodeTopLevel(e),onString:()=>this.stringCodec.encodeTopLevel(e),onH256:()=>this.h256Codec.encodeTopLevel(e),onTypeIdentifier:()=>this.tokenIdentifierCodec.encodeTopLevel(e),onNothing:()=>this.nothingCodec.encodeTopLevel()})}};Zg.PrimitiveBinaryCodec=s3});var DM=D(e1=>{"use strict";y();Object.defineProperty(e1,"__esModule",{value:!0});e1.ListBinaryCodec=void 0;var NM=zr(),BM=zg(),o3=class{constructor(e){this.binaryCodec=e}decodeNested(e,r){let i=r.getFirstTypeParameter(),n=[],s=e.readUInt32BE(0);this.binaryCodec.constraints.checkListLength(s);let o=e,f=BM.SizeOfU32;e=o.slice(f);for(let l=0;l<s;l++){let[b,E]=this.binaryCodec.decodeNested(e,i);n.push(b),f+=E,e=o.slice(f)}return[new NM.List(r,n),f]}decodeTopLevel(e,r){let i=r.getFirstTypeParameter(),n=[],s=e,o=0;for(;e.length>0;){let[f,l]=this.binaryCodec.decodeNested(e,i);n.push(f),o+=l,e=s.slice(o),this.binaryCodec.constraints.checkListLength(n.length)}return new NM.List(r,n)}encodeNested(e){this.binaryCodec.constraints.checkListLength(e.getLength());let r=M.Buffer.alloc(BM.SizeOfU32);r.writeUInt32BE(e.getLength());let i=[];for(let s of e.getItems()){let o=this.binaryCodec.encodeNested(s);i.push(o)}return M.Buffer.concat([r,...i])}encodeTopLevel(e){this.binaryCodec.constraints.checkListLength(e.getLength());let r=[];for(let n of e.getItems()){let s=this.binaryCodec.encodeNested(n);r.push(s)}return M.Buffer.concat(r)}};e1.ListBinaryCodec=o3});var f3=D(t1=>{"use strict";y();Object.defineProperty(t1,"__esModule",{value:!0});t1.FieldsBinaryCodec=void 0;var mJ=zr(),a3=class{constructor(e){this.binaryCodec=e}decodeNested(e,r){let i=[],n=0;for(let s of r){let[o,f]=this.binaryCodec.decodeNested(e,s.type);e=e.slice(f),n+=f;let l=new mJ.Field(o,s.name);i.push(l)}return[i,n]}encodeNested(e){let r=[];for(let i of e){let n=this.binaryCodec.encodeNested(i.value);r.push(n)}return M.Buffer.concat(r)}};t1.FieldsBinaryCodec=a3});var c3=D(r1=>{"use strict";y();Object.defineProperty(r1,"__esModule",{value:!0});r1.StructBinaryCodec=void 0;var bJ=zr(),wJ=f3(),u3=class{constructor(e){this.fieldsCodec=new wJ.FieldsBinaryCodec(e)}decodeTopLevel(e,r){let[i]=this.decodeNested(e,r);return i}decodeNested(e,r){let i=r.getFieldsDefinitions(),[n,s]=this.fieldsCodec.decodeNested(e,i);return[new bJ.Struct(r,n),s]}encodeNested(e){let r=e.getFields();return this.fieldsCodec.encodeNested(r)}encodeTopLevel(e){return this.encodeNested(e)}};r1.StructBinaryCodec=u3});var RM=D(n1=>{"use strict";y();Object.defineProperty(n1,"__esModule",{value:!0});n1.EnumBinaryCodec=void 0;var i1=zr(),_J=f3(),h3=class{constructor(e){this.binaryCodec=e,this.fieldsCodec=new _J.FieldsBinaryCodec(e)}decodeTopLevel(e,r){let[i]=this.decodeNested(e,r);return i}decodeNested(e,r){let[i,n]=this.readDiscriminant(e);e=e.slice(n);let s=r.getVariantByDiscriminant(i),o=s.getFieldsDefinitions(),[f,l]=this.fieldsCodec.decodeNested(e,o);return[new i1.EnumValue(r,s,f),n+l]}readDiscriminant(e){let[r,i]=this.binaryCodec.decodeNested(e,new i1.U8Type);return[r.valueOf(),i]}encodeNested(e){let r=new i1.U8Value(e.discriminant),i=this.binaryCodec.encodeNested(r),n=e.getFields(),s=this.fieldsCodec.encodeNested(n);return M.Buffer.concat([i,s])}encodeTopLevel(e){let r=e.getFields(),i=r.length>0,n=this.fieldsCodec.encodeNested(r),s=new i1.U8Value(e.discriminant),o=i?this.binaryCodec.encodeNested(s):this.binaryCodec.encodeTopLevel(s);return M.Buffer.concat([o,n])}};n1.EnumBinaryCodec=h3});var PM=D(s1=>{"use strict";y();Object.defineProperty(s1,"__esModule",{value:!0});s1.TupleBinaryCodec=void 0;var xJ=c3(),l3=class{constructor(e){this.structCodec=new xJ.StructBinaryCodec(e)}decodeTopLevel(e,r){return this.structCodec.decodeTopLevel(e,r)}decodeNested(e,r){return this.structCodec.decodeNested(e,r)}encodeNested(e){return this.structCodec.encodeNested(e)}encodeTopLevel(e){return this.structCodec.encodeTopLevel(e)}};s1.TupleBinaryCodec=l3});var LM=D(o1=>{"use strict";y();Object.defineProperty(o1,"__esModule",{value:!0});o1.ArrayVecBinaryCodec=void 0;var EJ=zr(),d3=class{constructor(e){this.binaryCodec=e}decodeNested(e,r){let i=r.length,n=r.getFirstTypeParameter(),s=[],o=0;for(let f=0;f<i;f++){let[l,b]=this.binaryCodec.decodeNested(e,n);s.push(l),o+=b,e=e.slice(b)}return[new EJ.ArrayVec(r,s),o]}decodeTopLevel(e,r){let[i,n]=this.decodeNested(e,r);return i}encodeNested(e){let r=[];for(let i of e.getItems()){let n=this.binaryCodec.encodeNested(i);r.push(n)}return M.Buffer.concat(r)}encodeTopLevel(e){return this.encodeNested(e)}};o1.ArrayVecBinaryCodec=d3});var g3=D(Ki=>{"use strict";y();var AJ=Ki&&Ki.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),SJ=Ki&&Ki.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),IJ=Ki&&Ki.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&AJ(e,t,r);return SJ(e,t),e};Object.defineProperty(Ki,"__esModule",{value:!0});Ki.BinaryCodecConstraints=Ki.BinaryCodec=void 0;var qM=IJ(kt()),a1=zr(),FM=ji(),MJ=hM(),CJ=OM(),TJ=DM(),OJ=c3(),NJ=RM(),BJ=PM(),DJ=LM(),p3=class{constructor(e=null){this.constraints=e||new f1,this.optionCodec=new MJ.OptionValueBinaryCodec(this),this.listCodec=new TJ.ListBinaryCodec(this),this.arrayCodec=new DJ.ArrayVecBinaryCodec(this),this.primitiveCodec=new CJ.PrimitiveBinaryCodec(this),this.structCodec=new OJ.StructBinaryCodec(this),this.tupleCodec=new BJ.TupleBinaryCodec(this),this.enumCodec=new NJ.EnumBinaryCodec(this)}decodeTopLevel(e,r){return this.constraints.checkBufferLength(e),a1.onTypeSelect(r,{onOption:()=>this.optionCodec.decodeTopLevel(e,r.getFirstTypeParameter()),onList:()=>this.listCodec.decodeTopLevel(e,r),onArray:()=>this.arrayCodec.decodeTopLevel(e,r),onPrimitive:()=>this.primitiveCodec.decodeTopLevel(e,r),onStruct:()=>this.structCodec.decodeTopLevel(e,r),onTuple:()=>this.tupleCodec.decodeTopLevel(e,r),onEnum:()=>this.enumCodec.decodeTopLevel(e,r)})}decodeNested(e,r){this.constraints.checkBufferLength(e);let[i,n]=a1.onTypeSelect(r,{onOption:()=>this.optionCodec.decodeNested(e,r.getFirstTypeParameter()),onList:()=>this.listCodec.decodeNested(e,r),onArray:()=>this.arrayCodec.decodeNested(e,r),onPrimitive:()=>this.primitiveCodec.decodeNested(e,r),onStruct:()=>this.structCodec.decodeNested(e,r),onTuple:()=>this.tupleCodec.decodeNested(e,r),onEnum:()=>this.enumCodec.decodeNested(e,r)});return[i,n]}encodeNested(e){return FM.guardTrue(e.getType().getCardinality().isSingular(),"singular cardinality, thus encodable type"),a1.onTypedValueSelect(e,{onPrimitive:()=>this.primitiveCodec.encodeNested(e),onOption:()=>this.optionCodec.encodeNested(e),onList:()=>this.listCodec.encodeNested(e),onArray:()=>this.arrayCodec.encodeNested(e),onStruct:()=>this.structCodec.encodeNested(e),onTuple:()=>this.tupleCodec.encodeNested(e),onEnum:()=>this.enumCodec.encodeNested(e)})}encodeTopLevel(e){return FM.guardTrue(e.getType().getCardinality().isSingular(),"singular cardinality, thus encodable type"),a1.onTypedValueSelect(e,{onPrimitive:()=>this.primitiveCodec.encodeTopLevel(e),onOption:()=>this.optionCodec.encodeTopLevel(e),onList:()=>this.listCodec.encodeTopLevel(e),onArray:()=>this.arrayCodec.encodeTopLevel(e),onStruct:()=>this.structCodec.encodeTopLevel(e),onTuple:()=>this.tupleCodec.encodeTopLevel(e),onEnum:()=>this.enumCodec.encodeTopLevel(e)})}};Ki.BinaryCodec=p3;var f1=class{constructor(e){this.maxBufferLength=e?.maxBufferLength||4096,this.maxListLength=e?.maxListLength||1024}checkBufferLength(e){if(e.length>this.maxBufferLength)throw new qM.ErrCodec(`Buffer too large: ${e.length} > ${this.maxBufferLength}`)}checkListLength(e){if(e>this.maxListLength)throw new qM.ErrCodec(`List too large: ${e} > ${this.maxListLength}`)}};Ki.BinaryCodecConstraints=f1});var UM=D(Gi=>{"use strict";y();var RJ=Gi&&Gi.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Gi,"__esModule",{value:!0});Gi.decodeBigNumber=Gi.decodeString=Gi.decodeBool=Gi.decodeUnsignedNumber=void 0;var PJ=RJ(xn()),u1=zr(),LJ=g3(),c1=new LJ.BinaryCodec;function qJ(t){let e=c1.decodeTopLevel(t,new u1.BigUIntType);return Number(e.valueOf())}Gi.decodeUnsignedNumber=qJ;function FJ(t){let e=c1.decodeTopLevel(t,new u1.BooleanType);return Boolean(e.valueOf())}Gi.decodeBool=FJ;function UJ(t){let e=c1.decodeTopLevel(t,new u1.BytesType);return String(e.valueOf())}Gi.decodeString=UJ;function kJ(t){let e=c1.decodeTopLevel(t,new u1.BigUIntType);return new PJ.default(e.valueOf())}Gi.decodeBigNumber=kJ});var HM=D(Yo=>{"use strict";y();var HJ=Yo&&Yo.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),kM=Yo&&Yo.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&HJ(e,t,r)};Object.defineProperty(Yo,"__esModule",{value:!0});kM(g3(),Yo);kM(UM(),Yo)});var h1=D(Jo=>{"use strict";y();Object.defineProperty(Jo,"__esModule",{value:!0});Jo.ArgSerializer=Jo.ArgumentsSeparator=void 0;var jJ=HM(),v3=Mg(),y3=Og(),m3=Ng();Jo.ArgumentsSeparator="@";var jM=new jJ.BinaryCodec,b3=class{stringToValues(e,r){let i=this.stringToBuffers(e);return this.buffersToValues(i,r)}stringToBuffers(e){return e.split(Jo.ArgumentsSeparator).map(r=>M.Buffer.from(r,"hex"))}buffersToValues(e,r){e=e||[];let i=[],n=0,s=e.length;for(let b=0;b<r.length;b++){let C=r[b].type,N=o(C);i.push(N)}function o(b){if(b.hasExactClass(m3.OptionalType.ClassName)){let E=o(b.getFirstTypeParameter());return new m3.OptionalValue(b,E)}else if(b.hasExactClass(y3.VariadicType.ClassName)){let E=[];for(;!l();)E.push(o(b.getFirstTypeParameter()));return new y3.VariadicValue(b,E)}else if(b.hasExactClass(v3.CompositeType.ClassName)){let E=[];for(let C of b.getTypeParameters())E.push(o(C));return new v3.CompositeValue(b,E)}else return f(b)}function f(b){if(l())return null;let E=e[n++];return jM.decodeTopLevel(E,b)}function l(){return n>=s}return i}valuesToString(e){let r=this.valuesToStrings(e),i=r.join(Jo.ArgumentsSeparator),n=r.length;return{argumentsString:i,count:n}}valuesToStrings(e){return this.valuesToBuffers(e).map(n=>n.toString("hex"))}valuesToBuffers(e){let r=[];for(let n of e)i(n);function i(n){if(n.hasExactClass(m3.OptionalValue.ClassName)){let s=n;s.isSet()&&i(s.getTypedValue())}else if(n.hasExactClass(y3.VariadicValue.ClassName)){let s=n;for(let o of s.getItems())i(o)}else if(n.hasExactClass(v3.CompositeValue.ClassName)){let s=n;for(let o of s.getItems())i(o)}else{let s=jM.encodeTopLevel(n);r.push(s)}}return r}};Jo.ArgSerializer=b3});var I3=D(Sn=>{"use strict";y();Object.defineProperty(Sn,"__esModule",{value:!0});Sn.ContractCallPayloadBuilder=Sn.ContractUpgradePayloadBuilder=Sn.ContractDeployPayloadBuilder=Sn.ArwenVirtualMachine=void 0;var E3=Md(),A3=ji(),VJ=h1();Sn.ArwenVirtualMachine="0500";var w3=class{constructor(){this.code=null,this.codeMetadata="",this.arguments=[]}setCode(e){return this.code=e,this}setCodeMetadata(e){return this.codeMetadata=e,this}addInitArg(e){return this.arguments.push(e),this}setInitArgs(e){return this.arguments=e,this}build(){A3.guardValueIsSet("code",this.code);let e=this.code.toString(),r=this.codeMetadata.toString(),i=`${e}@${Sn.ArwenVirtualMachine}@${r}`;return i=S3(i,this.arguments),new E3.TransactionPayload(i)}};Sn.ContractDeployPayloadBuilder=w3;var _3=class{constructor(){this.code=null,this.codeMetadata="",this.arguments=[]}setCode(e){return this.code=e,this}setCodeMetadata(e){return this.codeMetadata=e,this}addInitArg(e){return this.arguments.push(e),this}setInitArgs(e){return this.arguments=e,this}build(){A3.guardValueIsSet("code",this.code);let e=this.code.toString(),r=this.codeMetadata.toString(),i=`upgradeContract@${e}@${r}`;return i=S3(i,this.arguments),new E3.TransactionPayload(i)}};Sn.ContractUpgradePayloadBuilder=_3;var x3=class{constructor(){this.contractFunction=null,this.arguments=[]}setFunction(e){return this.contractFunction=e,this}addArg(e){return this.arguments.push(e),this}setArgs(e){return this.arguments=e,this}build(){A3.guardValueIsSet("calledFunction",this.contractFunction);let e=this.contractFunction.name;return e=S3(e,this.arguments),new E3.TransactionPayload(e)}};Sn.ContractCallPayloadBuilder=x3;function S3(t,e){let{argumentsString:r,count:i}=new VJ.ArgSerializer().valuesToString(e);return i==0?t:`${t}@${r}`}});var Md=D(l1=>{"use strict";y();Object.defineProperty(l1,"__esModule",{value:!0});l1.TransactionPayload=void 0;var M3=I3(),sh=class{constructor(e){this.data=M.Buffer.from(e||[])}static fromEncoded(e){if(!e)return new sh("");let r=M.Buffer.from(e,"base64").toString();return new sh(r)}isEmpty(){return this.data.length==0}encoded(){return this.data.toString("base64")}valueOf(){return this.data}toString(){return this.data.toString()}getEncodedArguments(){return this.toString().split("@")}getRawArguments(){return this.getEncodedArguments().map(e=>M.Buffer.from(e,"hex"))}length(){return M.Buffer.from(this.data).length}static contractDeploy(){return new M3.ContractDeployPayloadBuilder}static contractUpgrade(){return new M3.ContractUpgradePayloadBuilder}static contractCall(){return new M3.ContractCallPayloadBuilder}};l1.TransactionPayload=sh});var KM=D(Xo=>{"use strict";y();Object.defineProperty(Xo,"__esModule",{value:!0});Xo.MultiESDTNFTTransferPayloadBuilder=Xo.ESDTNFTTransferPayloadBuilder=Xo.ESDTTransferPayloadBuilder=void 0;var VM=En(),N3=h1(),In=zr(),zM=Aw(),B3=Md(),C3=class{constructor(){this.payment=zM.TokenPayment.fungibleFromAmount("","0",0)}setPayment(e){return this.payment=e,this}build(){let e=[In.BytesValue.fromUTF8(this.payment.tokenIdentifier),new In.BigUIntValue(this.payment.valueOf())],{argumentsString:r}=new N3.ArgSerializer().valuesToString(e),i=`ESDTTransfer@${r}`;return new B3.TransactionPayload(i)}};Xo.ESDTTransferPayloadBuilder=C3;var T3=class{constructor(){this.payment=zM.TokenPayment.nonFungible("",0),this.destination=new VM.Address("")}setPayment(e){return this.payment=e,this}setDestination(e){return this.destination=e,this}build(){let e=[In.BytesValue.fromUTF8(this.payment.tokenIdentifier),new In.U64Value(this.payment.nonce),new In.BigUIntValue(this.payment.valueOf()),new In.AddressValue(this.destination)],{argumentsString:r}=new N3.ArgSerializer().valuesToString(e),i=`ESDTNFTTransfer@${r}`;return new B3.TransactionPayload(i)}};Xo.ESDTNFTTransferPayloadBuilder=T3;var O3=class{constructor(){this.payments=[],this.destination=new VM.Address("")}setPayments(e){return this.payments=e,this}setDestination(e){return this.destination=e,this}build(){let e=[new In.AddressValue(this.destination),new In.U16Value(this.payments.length)];for(let n of this.payments)e.push(In.BytesValue.fromUTF8(n.tokenIdentifier),new In.U64Value(n.nonce),new In.BigUIntValue(n.valueOf()));let{argumentsString:r}=new N3.ArgSerializer().valuesToString(e),i=`MultiESDTNFTTransfer@${r}`;return new B3.TransactionPayload(i)}};Xo.MultiESDTNFTTransferPayloadBuilder=O3});var p1=D(d1=>{"use strict";y();Object.defineProperty(d1,"__esModule",{value:!0});d1.Account=void 0;var zJ=En(),D3=class{constructor(e){this.address=new zJ.Address,this.nonce=0,this.balance="0",this.address=e}update(e){this.nonce=e.nonce,this.balance=e.balance}incrementNonce(){this.nonce=this.nonce.valueOf()+1}getNonceThenIncrement(){let e=this.nonce;return this.nonce=this.nonce.valueOf()+1,e}toJSON(){return{address:this.address.bech32(),nonce:this.nonce.valueOf(),balance:this.balance.toString()}}};d1.Account=D3});var g1=D(Qt=>{"use strict";y();Object.defineProperty(Qt,"__esModule",{value:!0});Qt.ESDT_TRANSFER_VALUE=Qt.MULTI_ESDTNFT_TRANSFER_FUNCTION_NAME=Qt.ESDTNFT_TRANSFER_FUNCTION_NAME=Qt.ESDT_TRANSFER_FUNCTION_NAME=Qt.ESDT_TRANSFER_GAS_LIMIT=Qt.TRANSACTION_VERSION_TX_HASH_SIGN=Qt.TRANSACTION_VERSION_DEFAULT=Qt.TRANSACTION_OPTIONS_TX_HASH_SIGN=Qt.TRANSACTION_OPTIONS_DEFAULT=Qt.TRANSACTION_MIN_GAS_PRICE=void 0;Qt.TRANSACTION_MIN_GAS_PRICE=1e9;Qt.TRANSACTION_OPTIONS_DEFAULT=0;Qt.TRANSACTION_OPTIONS_TX_HASH_SIGN=1;Qt.TRANSACTION_VERSION_DEFAULT=1;Qt.TRANSACTION_VERSION_TX_HASH_SIGN=2;Qt.ESDT_TRANSFER_GAS_LIMIT=5e5;Qt.ESDT_TRANSFER_FUNCTION_NAME="ESDTTransfer";Qt.ESDTNFT_TRANSFER_FUNCTION_NAME="ESDTNFTTransfer";Qt.MULTI_ESDTNFT_TRANSFER_FUNCTION_NAME="MultiESDTNFTTransfer";Qt.ESDT_TRANSFER_VALUE="0"});var QM=D(Qi=>{"use strict";y();var KJ=Qi&&Qi.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),GJ=Qi&&Qi.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),QJ=Qi&&Qi.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&KJ(e,t,r);return GJ(e,t),e};Object.defineProperty(Qi,"__esModule",{value:!0});Qi.TransactionOptions=Qi.TransactionVersion=void 0;var GM=QJ(kt()),v1=g1(),oh=class{constructor(e){if(e=Number(e),e<1)throw new GM.ErrTransactionVersionInvalid(e);this.value=e}static withDefaultVersion(){return new oh(v1.TRANSACTION_VERSION_DEFAULT)}static withTxHashSignVersion(){return new oh(v1.TRANSACTION_VERSION_TX_HASH_SIGN)}valueOf(){return this.value}};Qi.TransactionVersion=oh;var ah=class{constructor(e){if(e=Number(e),e<0)throw new GM.ErrTransactionOptionsInvalid(e);this.value=e}static withDefaultOptions(){return new ah(v1.TRANSACTION_OPTIONS_DEFAULT)}static withTxHashSignOptions(){return new ah(v1.TRANSACTION_OPTIONS_TX_HASH_SIGN)}valueOf(){return this.value}};Qi.TransactionOptions=ah});var YM=D(us=>{"use strict";y();var WJ=us&&us.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),$J=us&&us.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),YJ=us&&us.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&WJ(e,t,r);return $J(e,t),e};Object.defineProperty(us,"__esModule",{value:!0});us.Signature=void 0;var WM=YJ(kt()),$M=64,Mn=class{constructor(e){if(this.valueHex="",!!e){if(typeof e=="string")return Mn.fromHex(e);if(e instanceof M.Buffer)return Mn.fromBuffer(e)}}static empty(){return new Mn}static fromHex(e){if(e.startsWith("0x")&&(e=e.slice(2)),!Mn.isValidHex(e))throw new WM.ErrSignatureCannotCreate(e);return Mn.fromValidHex(e)}static isValidHex(e){return M.Buffer.from(e,"hex").length==$M}static fromValidHex(e){let r=new Mn;return r.valueHex=e,r}static fromBuffer(e){if(e.length!=$M)throw new WM.ErrSignatureCannotCreate(e);return Mn.fromValidHex(e.toString("hex"))}hex(){return this.valueHex}};us.Signature=Mn});var XM=D((N6e,JM)=>{"use strict";y();JM.exports=JJ;function JJ(t,e){for(var r=new Array(arguments.length-1),i=0,n=2,s=!0;n<arguments.length;)r[i++]=arguments[n++];return new Promise(function(f,l){r[i]=function(E){if(s)if(s=!1,E)l(E);else{for(var C=new Array(arguments.length-1),N=0;N<C.length;)C[N++]=arguments[N];f.apply(null,C)}};try{t.apply(e||null,r)}catch(b){s&&(s=!1,l(b))}})}});var rC=D(tC=>{"use strict";y();var y1=tC;y1.length=function(e){var r=e.length;if(!r)return 0;for(var i=0;--r%4>1&&e.charAt(r)==="=";)++i;return Math.ceil(e.length*3)/4-i};var fh=new Array(64),eC=new Array(123);for(Cn=0;Cn<64;)eC[fh[Cn]=Cn<26?Cn+65:Cn<52?Cn+71:Cn<62?Cn-4:Cn-59|43]=Cn++;var Cn;y1.encode=function(e,r,i){for(var n=null,s=[],o=0,f=0,l;r<i;){var b=e[r++];switch(f){case 0:s[o++]=fh[b>>2],l=(b&3)<<4,f=1;break;case 1:s[o++]=fh[l|b>>4],l=(b&15)<<2,f=2;break;case 2:s[o++]=fh[l|b>>6],s[o++]=fh[b&63],f=0;break}o>8191&&((n||(n=[])).push(String.fromCharCode.apply(String,s)),o=0)}return f&&(s[o++]=fh[l],s[o++]=61,f===1&&(s[o++]=61)),n?(o&&n.push(String.fromCharCode.apply(String,s.slice(0,o))),n.join("")):String.fromCharCode.apply(String,s.slice(0,o))};var ZM="invalid encoding";y1.decode=function(e,r,i){for(var n=i,s=0,o,f=0;f<e.length;){var l=e.charCodeAt(f++);if(l===61&&s>1)break;if((l=eC[l])===void 0)throw Error(ZM);switch(s){case 0:o=l,s=1;break;case 1:r[i++]=o<<2|(l&48)>>4,o=l,s=2;break;case 2:r[i++]=(o&15)<<4|(l&60)>>2,o=l,s=3;break;case 3:r[i++]=(o&3)<<6|l,s=0;break}}if(s===1)throw Error(ZM);return i-n};y1.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}});var nC=D((P6e,iC)=>{"use strict";y();iC.exports=m1;function m1(){this._listeners={}}m1.prototype.on=function(e,r,i){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:r,ctx:i||this}),this};m1.prototype.off=function(e,r){if(e===void 0)this._listeners={};else if(r===void 0)this._listeners[e]=[];else for(var i=this._listeners[e],n=0;n<i.length;)i[n].fn===r?i.splice(n,1):++n;return this};m1.prototype.emit=function(e){var r=this._listeners[e];if(r){for(var i=[],n=1;n<arguments.length;)i.push(arguments[n++]);for(n=0;n<r.length;)r[n].fn.apply(r[n++].ctx,i)}return this}});var hC=D((q6e,cC)=>{"use strict";y();cC.exports=sC(sC);function sC(t){return typeof Float32Array<"u"?function(){var e=new Float32Array([-0]),r=new Uint8Array(e.buffer),i=r[3]===128;function n(l,b,E){e[0]=l,b[E]=r[0],b[E+1]=r[1],b[E+2]=r[2],b[E+3]=r[3]}function s(l,b,E){e[0]=l,b[E]=r[3],b[E+1]=r[2],b[E+2]=r[1],b[E+3]=r[0]}t.writeFloatLE=i?n:s,t.writeFloatBE=i?s:n;function o(l,b){return r[0]=l[b],r[1]=l[b+1],r[2]=l[b+2],r[3]=l[b+3],e[0]}function f(l,b){return r[3]=l[b],r[2]=l[b+1],r[1]=l[b+2],r[0]=l[b+3],e[0]}t.readFloatLE=i?o:f,t.readFloatBE=i?f:o}():function(){function e(i,n,s,o){var f=n<0?1:0;if(f&&(n=-n),n===0)i(1/n>0?0:2147483648,s,o);else if(isNaN(n))i(2143289344,s,o);else if(n>34028234663852886e22)i((f<<31|2139095040)>>>0,s,o);else if(n<11754943508222875e-54)i((f<<31|Math.round(n/1401298464324817e-60))>>>0,s,o);else{var l=Math.floor(Math.log(n)/Math.LN2),b=Math.round(n*Math.pow(2,-l)*8388608)&8388607;i((f<<31|l+127<<23|b)>>>0,s,o)}}t.writeFloatLE=e.bind(null,oC),t.writeFloatBE=e.bind(null,aC);function r(i,n,s){var o=i(n,s),f=(o>>31)*2+1,l=o>>>23&255,b=o&8388607;return l===255?b?NaN:f*(1/0):l===0?f*1401298464324817e-60*b:f*Math.pow(2,l-150)*(b+8388608)}t.readFloatLE=r.bind(null,fC),t.readFloatBE=r.bind(null,uC)}(),typeof Float64Array<"u"?function(){var e=new Float64Array([-0]),r=new Uint8Array(e.buffer),i=r[7]===128;function n(l,b,E){e[0]=l,b[E]=r[0],b[E+1]=r[1],b[E+2]=r[2],b[E+3]=r[3],b[E+4]=r[4],b[E+5]=r[5],b[E+6]=r[6],b[E+7]=r[7]}function s(l,b,E){e[0]=l,b[E]=r[7],b[E+1]=r[6],b[E+2]=r[5],b[E+3]=r[4],b[E+4]=r[3],b[E+5]=r[2],b[E+6]=r[1],b[E+7]=r[0]}t.writeDoubleLE=i?n:s,t.writeDoubleBE=i?s:n;function o(l,b){return r[0]=l[b],r[1]=l[b+1],r[2]=l[b+2],r[3]=l[b+3],r[4]=l[b+4],r[5]=l[b+5],r[6]=l[b+6],r[7]=l[b+7],e[0]}function f(l,b){return r[7]=l[b],r[6]=l[b+1],r[5]=l[b+2],r[4]=l[b+3],r[3]=l[b+4],r[2]=l[b+5],r[1]=l[b+6],r[0]=l[b+7],e[0]}t.readDoubleLE=i?o:f,t.readDoubleBE=i?f:o}():function(){function e(i,n,s,o,f,l){var b=o<0?1:0;if(b&&(o=-o),o===0)i(0,f,l+n),i(1/o>0?0:2147483648,f,l+s);else if(isNaN(o))i(0,f,l+n),i(2146959360,f,l+s);else if(o>17976931348623157e292)i(0,f,l+n),i((b<<31|2146435072)>>>0,f,l+s);else{var E;if(o<22250738585072014e-324)E=o/5e-324,i(E>>>0,f,l+n),i((b<<31|E/4294967296)>>>0,f,l+s);else{var C=Math.floor(Math.log(o)/Math.LN2);C===1024&&(C=1023),E=o*Math.pow(2,-C),i(E*4503599627370496>>>0,f,l+n),i((b<<31|C+1023<<20|E*1048576&1048575)>>>0,f,l+s)}}}t.writeDoubleLE=e.bind(null,oC,0,4),t.writeDoubleBE=e.bind(null,aC,4,0);function r(i,n,s,o,f){var l=i(o,f+n),b=i(o,f+s),E=(b>>31)*2+1,C=b>>>20&2047,N=4294967296*(b&1048575)+l;return C===2047?N?NaN:E*(1/0):C===0?E*5e-324*N:E*Math.pow(2,C-1075)*(N+4503599627370496)}t.readDoubleLE=r.bind(null,fC,0,4),t.readDoubleBE=r.bind(null,uC,4,0)}(),t}function oC(t,e,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}function aC(t,e,r){e[r]=t>>>24,e[r+1]=t>>>16&255,e[r+2]=t>>>8&255,e[r+3]=t&255}function fC(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0}function uC(t,e){return(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}});var lC=D((exports,module)=>{"use strict";y();module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(t){}return null}});var pC=D(dC=>{"use strict";y();var R3=dC;R3.length=function(e){for(var r=0,i=0,n=0;n<e.length;++n)i=e.charCodeAt(n),i<128?r+=1:i<2048?r+=2:(i&64512)===55296&&(e.charCodeAt(n+1)&64512)===56320?(++n,r+=4):r+=3;return r};R3.read=function(e,r,i){var n=i-r;if(n<1)return"";for(var s=null,o=[],f=0,l;r<i;)l=e[r++],l<128?o[f++]=l:l>191&&l<224?o[f++]=(l&31)<<6|e[r++]&63:l>239&&l<365?(l=((l&7)<<18|(e[r++]&63)<<12|(e[r++]&63)<<6|e[r++]&63)-65536,o[f++]=55296+(l>>10),o[f++]=56320+(l&1023)):o[f++]=(l&15)<<12|(e[r++]&63)<<6|e[r++]&63,f>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,o)),f=0);return s?(f&&s.push(String.fromCharCode.apply(String,o.slice(0,f))),s.join("")):String.fromCharCode.apply(String,o.slice(0,f))};R3.write=function(e,r,i){for(var n=i,s,o,f=0;f<e.length;++f)s=e.charCodeAt(f),s<128?r[i++]=s:s<2048?(r[i++]=s>>6|192,r[i++]=s&63|128):(s&64512)===55296&&((o=e.charCodeAt(f+1))&64512)===56320?(s=65536+((s&1023)<<10)+(o&1023),++f,r[i++]=s>>18|240,r[i++]=s>>12&63|128,r[i++]=s>>6&63|128,r[i++]=s&63|128):(r[i++]=s>>12|224,r[i++]=s>>6&63|128,r[i++]=s&63|128);return i-n}});var vC=D((j6e,gC)=>{"use strict";y();gC.exports=XJ;function XJ(t,e,r){var i=r||8192,n=i>>>1,s=null,o=i;return function(l){if(l<1||l>n)return t(l);o+l>i&&(s=t(i),o=0);var b=e.call(s,o,o+=l);return o&7&&(o=(o|7)+1),b}}});var mC=D((z6e,yC)=>{"use strict";y();yC.exports=mr;var Cd=ea();function mr(t,e){this.lo=t>>>0,this.hi=e>>>0}var jf=mr.zero=new mr(0,0);jf.toNumber=function(){return 0};jf.zzEncode=jf.zzDecode=function(){return this};jf.length=function(){return 1};var ZJ=mr.zeroHash="\0\0\0\0\0\0\0\0";mr.fromNumber=function(e){if(e===0)return jf;var r=e<0;r&&(e=-e);var i=e>>>0,n=(e-i)/4294967296>>>0;return r&&(n=~n>>>0,i=~i>>>0,++i>4294967295&&(i=0,++n>4294967295&&(n=0))),new mr(i,n)};mr.from=function(e){if(typeof e=="number")return mr.fromNumber(e);if(Cd.isString(e))if(Cd.Long)e=Cd.Long.fromString(e);else return mr.fromNumber(parseInt(e,10));return e.low||e.high?new mr(e.low>>>0,e.high>>>0):jf};mr.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var r=~this.lo+1>>>0,i=~this.hi>>>0;return r||(i=i+1>>>0),-(r+i*4294967296)}return this.lo+this.hi*4294967296};mr.prototype.toLong=function(e){return Cd.Long?new Cd.Long(this.lo|0,this.hi|0,Boolean(e)):{low:this.lo|0,high:this.hi|0,unsigned:Boolean(e)}};var Zo=String.prototype.charCodeAt;mr.fromHash=function(e){return e===ZJ?jf:new mr((Zo.call(e,0)|Zo.call(e,1)<<8|Zo.call(e,2)<<16|Zo.call(e,3)<<24)>>>0,(Zo.call(e,4)|Zo.call(e,5)<<8|Zo.call(e,6)<<16|Zo.call(e,7)<<24)>>>0)};mr.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};mr.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this};mr.prototype.zzDecode=function(){var e=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this};mr.prototype.length=function(){var e=this.lo,r=(this.lo>>>28|this.hi<<4)>>>0,i=this.hi>>>24;return i===0?r===0?e<16384?e<128?1:2:e<2097152?3:4:r<16384?r<128?5:6:r<2097152?7:8:i<128?9:10}});var ea=D(P3=>{"use strict";y();var ze=P3;ze.asPromise=XM();ze.base64=rC();ze.EventEmitter=nC();ze.float=hC();ze.inquire=lC();ze.utf8=pC();ze.pool=vC();ze.LongBits=mC();ze.isNode=Boolean(typeof global<"u"&&global&&global.process&&global.process.versions&&global.process.versions.node);ze.global=ze.isNode&&global||typeof window<"u"&&window||typeof self<"u"&&self||P3;ze.emptyArray=Object.freeze?Object.freeze([]):[];ze.emptyObject=Object.freeze?Object.freeze({}):{};ze.isInteger=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};ze.isString=function(e){return typeof e=="string"||e instanceof String};ze.isObject=function(e){return e&&typeof e=="object"};ze.isset=ze.isSet=function(e,r){var i=e[r];return i!=null&&e.hasOwnProperty(r)?typeof i!="object"||(Array.isArray(i)?i.length:Object.keys(i).length)>0:!1};ze.Buffer=function(){try{var t=ze.inquire("buffer").Buffer;return t.prototype.utf8Write?t:null}catch{return null}}();ze._Buffer_from=null;ze._Buffer_allocUnsafe=null;ze.newBuffer=function(e){return typeof e=="number"?ze.Buffer?ze._Buffer_allocUnsafe(e):new ze.Array(e):ze.Buffer?ze._Buffer_from(e):typeof Uint8Array>"u"?e:new Uint8Array(e)};ze.Array=typeof Uint8Array<"u"?Uint8Array:Array;ze.Long=ze.global.dcodeIO&&ze.global.dcodeIO.Long||ze.global.Long||ze.inquire("long");ze.key2Re=/^true|false|0|1$/;ze.key32Re=/^-?(?:0|[1-9][0-9]*)$/;ze.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;ze.longToHash=function(e){return e?ze.LongBits.from(e).toHash():ze.LongBits.zeroHash};ze.longFromHash=function(e,r){var i=ze.LongBits.fromHash(e);return ze.Long?ze.Long.fromBits(i.lo,i.hi,r):i.toNumber(Boolean(r))};function bC(t,e,r){for(var i=Object.keys(e),n=0;n<i.length;++n)(t[i[n]]===void 0||!r)&&(t[i[n]]=e[i[n]]);return t}ze.merge=bC;ze.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)};function wC(t){function e(r,i){if(!(this instanceof e))return new e(r,i);Object.defineProperty(this,"message",{get:function(){return r}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:new Error().stack||""}),i&&bC(this,i)}return(e.prototype=Object.create(Error.prototype)).constructor=e,Object.defineProperty(e.prototype,"name",{get:function(){return t}}),e.prototype.toString=function(){return this.name+": "+this.message},e}ze.newError=wC;ze.ProtocolError=wC("ProtocolError");ze.oneOfGetter=function(e){for(var r={},i=0;i<e.length;++i)r[e[i]]=1;return function(){for(var n=Object.keys(this),s=n.length-1;s>-1;--s)if(r[n[s]]===1&&this[n[s]]!==void 0&&this[n[s]]!==null)return n[s]}};ze.oneOfSetter=function(e){return function(r){for(var i=0;i<e.length;++i)e[i]!==r&&delete this[e[i]]}};ze.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};ze._configure=function(){var t=ze.Buffer;if(!t){ze._Buffer_from=ze._Buffer_allocUnsafe=null;return}ze._Buffer_from=t.from!==Uint8Array.from&&t.from||function(r,i){return new t(r,i)},ze._Buffer_allocUnsafe=t.allocUnsafe||function(r){return new t(r)}}});var j3=D((W6e,AC)=>{"use strict";y();AC.exports=_t;var Wi=ea(),L3,b1=Wi.LongBits,_C=Wi.base64,xC=Wi.utf8;function Td(t,e,r){this.fn=t,this.len=e,this.next=void 0,this.val=r}function F3(){}function eX(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function _t(){this.len=0,this.head=new Td(F3,0,0),this.tail=this.head,this.states=null}var EC=function(){return Wi.Buffer?function(){return(_t.create=function(){return new L3})()}:function(){return new _t}};_t.create=EC();_t.alloc=function(e){return new Wi.Array(e)};Wi.Array!==Array&&(_t.alloc=Wi.pool(_t.alloc,Wi.Array.prototype.subarray));_t.prototype._push=function(e,r,i){return this.tail=this.tail.next=new Td(e,r,i),this.len+=r,this};function U3(t,e,r){e[r]=t&255}function tX(t,e,r){for(;t>127;)e[r++]=t&127|128,t>>>=7;e[r]=t}function k3(t,e){this.len=t,this.next=void 0,this.val=e}k3.prototype=Object.create(Td.prototype);k3.prototype.fn=tX;_t.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new k3((e=e>>>0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this};_t.prototype.int32=function(e){return e<0?this._push(H3,10,b1.fromNumber(e)):this.uint32(e)};_t.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)};function H3(t,e,r){for(;t.hi;)e[r++]=t.lo&127|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;t.lo>127;)e[r++]=t.lo&127|128,t.lo=t.lo>>>7;e[r++]=t.lo}_t.prototype.uint64=function(e){var r=b1.from(e);return this._push(H3,r.length(),r)};_t.prototype.int64=_t.prototype.uint64;_t.prototype.sint64=function(e){var r=b1.from(e).zzEncode();return this._push(H3,r.length(),r)};_t.prototype.bool=function(e){return this._push(U3,1,e?1:0)};function q3(t,e,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}_t.prototype.fixed32=function(e){return this._push(q3,4,e>>>0)};_t.prototype.sfixed32=_t.prototype.fixed32;_t.prototype.fixed64=function(e){var r=b1.from(e);return this._push(q3,4,r.lo)._push(q3,4,r.hi)};_t.prototype.sfixed64=_t.prototype.fixed64;_t.prototype.float=function(e){return this._push(Wi.float.writeFloatLE,4,e)};_t.prototype.double=function(e){return this._push(Wi.float.writeDoubleLE,8,e)};var rX=Wi.Array.prototype.set?function(e,r,i){r.set(e,i)}:function(e,r,i){for(var n=0;n<e.length;++n)r[i+n]=e[n]};_t.prototype.bytes=function(e){var r=e.length>>>0;if(!r)return this._push(U3,1,0);if(Wi.isString(e)){var i=_t.alloc(r=_C.length(e));_C.decode(e,i,0),e=i}return this.uint32(r)._push(rX,r,e)};_t.prototype.string=function(e){var r=xC.length(e);return r?this.uint32(r)._push(xC.write,r,e):this._push(U3,1,0)};_t.prototype.fork=function(){return this.states=new eX(this),this.head=this.tail=new Td(F3,0,0),this.len=0,this};_t.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Td(F3,0,0),this.len=0),this};_t.prototype.ldelim=function(){var e=this.head,r=this.tail,i=this.len;return this.reset().uint32(i),i&&(this.tail.next=e.next,this.tail=r,this.len+=i),this};_t.prototype.finish=function(){for(var e=this.head.next,r=this.constructor.alloc(this.len),i=0;e;)e.fn(e.val,r,i),i+=e.len,e=e.next;return r};_t._configure=function(t){L3=t,_t.create=EC(),L3._configure()}});var MC=D((Y6e,IC)=>{"use strict";y();IC.exports=cs;var SC=j3();(cs.prototype=Object.create(SC.prototype)).constructor=cs;var ta=ea();function cs(){SC.call(this)}cs._configure=function(){cs.alloc=ta._Buffer_allocUnsafe,cs.writeBytesBuffer=ta.Buffer&&ta.Buffer.prototype instanceof Uint8Array&&ta.Buffer.prototype.set.name==="set"?function(e,r,i){r.set(e,i)}:function(e,r,i){if(e.copy)e.copy(r,i,0,e.length);else for(var n=0;n<e.length;)r[i++]=e[n++]}};cs.prototype.bytes=function(e){ta.isString(e)&&(e=ta._Buffer_from(e,"base64"));var r=e.length>>>0;return this.uint32(r),r&&this._push(cs.writeBytesBuffer,r,e),this};function iX(t,e,r){t.length<40?ta.utf8.write(t,e,r):e.utf8Write?e.utf8Write(t,r):e.write(t,r)}cs.prototype.string=function(e){var r=ta.Buffer.byteLength(e);return this.uint32(r),r&&this._push(iX,r,e),this};cs._configure()});var K3=D((X6e,BC)=>{"use strict";y();BC.exports=Zt;var hs=ea(),z3,OC=hs.LongBits,nX=hs.utf8;function Tn(t,e){return RangeError("index out of range: "+t.pos+" + "+(e||1)+" > "+t.len)}function Zt(t){this.buf=t,this.pos=0,this.len=t.length}var CC=typeof Uint8Array<"u"?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new Zt(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new Zt(e);throw Error("illegal buffer")},NC=function(){return hs.Buffer?function(r){return(Zt.create=function(n){return hs.Buffer.isBuffer(n)?new z3(n):CC(n)})(r)}:CC};Zt.create=NC();Zt.prototype._slice=hs.Array.prototype.subarray||hs.Array.prototype.slice;Zt.prototype.uint32=function(){var e=4294967295;return function(){if(e=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(e=(e|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,Tn(this,10);return e}}();Zt.prototype.int32=function(){return this.uint32()|0};Zt.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(e&1)|0};function V3(){var t=new OC(0,0),e=0;if(this.len-this.pos>4){for(;e<4;++e)if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(this.buf[this.pos]&127)<<28)>>>0,t.hi=(t.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return t;e=0}else{for(;e<3;++e){if(this.pos>=this.len)throw Tn(this);if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(this.buf[this.pos++]&127)<<e*7)>>>0,t}if(this.len-this.pos>4){for(;e<5;++e)if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}else for(;e<5;++e){if(this.pos>=this.len)throw Tn(this);if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}Zt.prototype.bool=function(){return this.uint32()!==0};function w1(t,e){return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0}Zt.prototype.fixed32=function(){if(this.pos+4>this.len)throw Tn(this,4);return w1(this.buf,this.pos+=4)};Zt.prototype.sfixed32=function(){if(this.pos+4>this.len)throw Tn(this,4);return w1(this.buf,this.pos+=4)|0};function TC(){if(this.pos+8>this.len)throw Tn(this,8);return new OC(w1(this.buf,this.pos+=4),w1(this.buf,this.pos+=4))}Zt.prototype.float=function(){if(this.pos+4>this.len)throw Tn(this,4);var e=hs.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e};Zt.prototype.double=function(){if(this.pos+8>this.len)throw Tn(this,4);var e=hs.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e};Zt.prototype.bytes=function(){var e=this.uint32(),r=this.pos,i=this.pos+e;if(i>this.len)throw Tn(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(r,i):r===i?new this.buf.constructor(0):this._slice.call(this.buf,r,i)};Zt.prototype.string=function(){var e=this.bytes();return nX.read(e,0,e.length)};Zt.prototype.skip=function(e){if(typeof e=="number"){if(this.pos+e>this.len)throw Tn(this,e);this.pos+=e}else do if(this.pos>=this.len)throw Tn(this);while(this.buf[this.pos++]&128);return this};Zt.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(t=this.uint32()&7)!==4;)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this};Zt._configure=function(t){z3=t,Zt.create=NC(),z3._configure();var e=hs.Long?"toLong":"toNumber";hs.merge(Zt.prototype,{int64:function(){return V3.call(this)[e](!1)},uint64:function(){return V3.call(this)[e](!0)},sint64:function(){return V3.call(this).zzDecode()[e](!1)},fixed64:function(){return TC.call(this)[e](!0)},sfixed64:function(){return TC.call(this)[e](!1)}})}});var LC=D((e8e,PC)=>{"use strict";y();PC.exports=Vf;var RC=K3();(Vf.prototype=Object.create(RC.prototype)).constructor=Vf;var DC=ea();function Vf(t){RC.call(this,t)}Vf._configure=function(){DC.Buffer&&(Vf.prototype._slice=DC.Buffer.prototype.slice)};Vf.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))};Vf._configure()});var FC=D((r8e,qC)=>{"use strict";y();qC.exports=Od;var G3=ea();(Od.prototype=Object.create(G3.EventEmitter.prototype)).constructor=Od;function Od(t,e,r){if(typeof t!="function")throw TypeError("rpcImpl must be a function");G3.EventEmitter.call(this),this.rpcImpl=t,this.requestDelimited=Boolean(e),this.responseDelimited=Boolean(r)}Od.prototype.rpcCall=function t(e,r,i,n,s){if(!n)throw TypeError("request must be specified");var o=this;if(!s)return G3.asPromise(t,o,e,r,i,n);if(!o.rpcImpl){setTimeout(function(){s(Error("already ended"))},0);return}try{return o.rpcImpl(e,r[o.requestDelimited?"encodeDelimited":"encode"](n).finish(),function(l,b){if(l)return o.emit("error",l,e),s(l);if(b===null){o.end(!0);return}if(!(b instanceof i))try{b=i[o.responseDelimited?"decodeDelimited":"decode"](b)}catch(E){return o.emit("error",E,e),s(E)}return o.emit("data",b,e),s(null,b)})}catch(f){o.emit("error",f,e),setTimeout(function(){s(f)},0);return}};Od.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}});var kC=D(UC=>{"use strict";y();var sX=UC;sX.Service=FC()});var jC=D((o8e,HC)=>{"use strict";y();HC.exports={}});var KC=D(zC=>{"use strict";y();var wi=zC;wi.build="minimal";wi.Writer=j3();wi.BufferWriter=MC();wi.Reader=K3();wi.BufferReader=LC();wi.util=ea();wi.rpc=kC();wi.roots=jC();wi.configure=VC;function VC(){wi.util._configure(),wi.Writer._configure(wi.BufferWriter),wi.Reader._configure(wi.BufferReader)}VC()});var QC=D((c8e,GC)=>{"use strict";y();GC.exports=KC()});var $C=D((l8e,WC)=>{"use strict";y();var uh=QC(),_1=uh.Reader,oX=uh.Writer,ve=uh.util,Nd=uh.roots.default||(uh.roots.default={});Nd.proto=function(){var t={};return t.Transaction=function(){function e(r){if(r)for(var i=Object.keys(r),n=0;n<i.length;++n)r[i[n]]!=null&&(this[i[n]]=r[i[n]])}return e.prototype.Nonce=ve.Long?ve.Long.fromBits(0,0,!0):0,e.prototype.Value=ve.newBuffer([]),e.prototype.RcvAddr=ve.newBuffer([]),e.prototype.RcvUserName=ve.newBuffer([]),e.prototype.SndAddr=ve.newBuffer([]),e.prototype.SndUserName=ve.newBuffer([]),e.prototype.GasPrice=ve.Long?ve.Long.fromBits(0,0,!0):0,e.prototype.GasLimit=ve.Long?ve.Long.fromBits(0,0,!0):0,e.prototype.Data=ve.newBuffer([]),e.prototype.ChainID=ve.newBuffer([]),e.prototype.Version=0,e.prototype.Signature=ve.newBuffer([]),e.prototype.Options=0,e.create=function(i){return new e(i)},e.encode=function(i,n){return n||(n=oX.create()),i.Nonce!=null&&Object.hasOwnProperty.call(i,"Nonce")&&n.uint32(8).uint64(i.Nonce),i.Value!=null&&Object.hasOwnProperty.call(i,"Value")&&n.uint32(18).bytes(i.Value),i.RcvAddr!=null&&Object.hasOwnProperty.call(i,"RcvAddr")&&n.uint32(26).bytes(i.RcvAddr),i.RcvUserName!=null&&Object.hasOwnProperty.call(i,"RcvUserName")&&n.uint32(34).bytes(i.RcvUserName),i.SndAddr!=null&&Object.hasOwnProperty.call(i,"SndAddr")&&n.uint32(42).bytes(i.SndAddr),i.SndUserName!=null&&Object.hasOwnProperty.call(i,"SndUserName")&&n.uint32(50).bytes(i.SndUserName),i.GasPrice!=null&&Object.hasOwnProperty.call(i,"GasPrice")&&n.uint32(56).uint64(i.GasPrice),i.GasLimit!=null&&Object.hasOwnProperty.call(i,"GasLimit")&&n.uint32(64).uint64(i.GasLimit),i.Data!=null&&Object.hasOwnProperty.call(i,"Data")&&n.uint32(74).bytes(i.Data),i.ChainID!=null&&Object.hasOwnProperty.call(i,"ChainID")&&n.uint32(82).bytes(i.ChainID),i.Version!=null&&Object.hasOwnProperty.call(i,"Version")&&n.uint32(88).uint32(i.Version),i.Signature!=null&&Object.hasOwnProperty.call(i,"Signature")&&n.uint32(98).bytes(i.Signature),i.Options!=null&&Object.hasOwnProperty.call(i,"Options")&&n.uint32(104).uint32(i.Options),n},e.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},e.decode=function(i,n){i instanceof _1||(i=_1.create(i));for(var s=n===void 0?i.len:i.pos+n,o=new Nd.proto.Transaction;i.pos<s;){var f=i.uint32();switch(f>>>3){case 1:o.Nonce=i.uint64();break;case 2:o.Value=i.bytes();break;case 3:o.RcvAddr=i.bytes();break;case 4:o.RcvUserName=i.bytes();break;case 5:o.SndAddr=i.bytes();break;case 6:o.SndUserName=i.bytes();break;case 7:o.GasPrice=i.uint64();break;case 8:o.GasLimit=i.uint64();break;case 9:o.Data=i.bytes();break;case 10:o.ChainID=i.bytes();break;case 11:o.Version=i.uint32();break;case 12:o.Signature=i.bytes();break;case 13:o.Options=i.uint32();break;default:i.skipType(f&7);break}}return o},e.decodeDelimited=function(i){return i instanceof _1||(i=new _1(i)),this.decode(i,i.uint32())},e.verify=function(i){return typeof i!="object"||i===null?"object expected":i.Nonce!=null&&i.hasOwnProperty("Nonce")&&!ve.isInteger(i.Nonce)&&!(i.Nonce&&ve.isInteger(i.Nonce.low)&&ve.isInteger(i.Nonce.high))?"Nonce: integer|Long expected":i.Value!=null&&i.hasOwnProperty("Value")&&!(i.Value&&typeof i.Value.length=="number"||ve.isString(i.Value))?"Value: buffer expected":i.RcvAddr!=null&&i.hasOwnProperty("RcvAddr")&&!(i.RcvAddr&&typeof i.RcvAddr.length=="number"||ve.isString(i.RcvAddr))?"RcvAddr: buffer expected":i.RcvUserName!=null&&i.hasOwnProperty("RcvUserName")&&!(i.RcvUserName&&typeof i.RcvUserName.length=="number"||ve.isString(i.RcvUserName))?"RcvUserName: buffer expected":i.SndAddr!=null&&i.hasOwnProperty("SndAddr")&&!(i.SndAddr&&typeof i.SndAddr.length=="number"||ve.isString(i.SndAddr))?"SndAddr: buffer expected":i.SndUserName!=null&&i.hasOwnProperty("SndUserName")&&!(i.SndUserName&&typeof i.SndUserName.length=="number"||ve.isString(i.SndUserName))?"SndUserName: buffer expected":i.GasPrice!=null&&i.hasOwnProperty("GasPrice")&&!ve.isInteger(i.GasPrice)&&!(i.GasPrice&&ve.isInteger(i.GasPrice.low)&&ve.isInteger(i.GasPrice.high))?"GasPrice: integer|Long expected":i.GasLimit!=null&&i.hasOwnProperty("GasLimit")&&!ve.isInteger(i.GasLimit)&&!(i.GasLimit&&ve.isInteger(i.GasLimit.low)&&ve.isInteger(i.GasLimit.high))?"GasLimit: integer|Long expected":i.Data!=null&&i.hasOwnProperty("Data")&&!(i.Data&&typeof i.Data.length=="number"||ve.isString(i.Data))?"Data: buffer expected":i.ChainID!=null&&i.hasOwnProperty("ChainID")&&!(i.ChainID&&typeof i.ChainID.length=="number"||ve.isString(i.ChainID))?"ChainID: buffer expected":i.Version!=null&&i.hasOwnProperty("Version")&&!ve.isInteger(i.Version)?"Version: integer expected":i.Signature!=null&&i.hasOwnProperty("Signature")&&!(i.Signature&&typeof i.Signature.length=="number"||ve.isString(i.Signature))?"Signature: buffer expected":i.Options!=null&&i.hasOwnProperty("Options")&&!ve.isInteger(i.Options)?"Options: integer expected":null},e.fromObject=function(i){if(i instanceof Nd.proto.Transaction)return i;var n=new Nd.proto.Transaction;return i.Nonce!=null&&(ve.Long?(n.Nonce=ve.Long.fromValue(i.Nonce)).unsigned=!0:typeof i.Nonce=="string"?n.Nonce=parseInt(i.Nonce,10):typeof i.Nonce=="number"?n.Nonce=i.Nonce:typeof i.Nonce=="object"&&(n.Nonce=new ve.LongBits(i.Nonce.low>>>0,i.Nonce.high>>>0).toNumber(!0))),i.Value!=null&&(typeof i.Value=="string"?ve.base64.decode(i.Value,n.Value=ve.newBuffer(ve.base64.length(i.Value)),0):i.Value.length&&(n.Value=i.Value)),i.RcvAddr!=null&&(typeof i.RcvAddr=="string"?ve.base64.decode(i.RcvAddr,n.RcvAddr=ve.newBuffer(ve.base64.length(i.RcvAddr)),0):i.RcvAddr.length&&(n.RcvAddr=i.RcvAddr)),i.RcvUserName!=null&&(typeof i.RcvUserName=="string"?ve.base64.decode(i.RcvUserName,n.RcvUserName=ve.newBuffer(ve.base64.length(i.RcvUserName)),0):i.RcvUserName.length&&(n.RcvUserName=i.RcvUserName)),i.SndAddr!=null&&(typeof i.SndAddr=="string"?ve.base64.decode(i.SndAddr,n.SndAddr=ve.newBuffer(ve.base64.length(i.SndAddr)),0):i.SndAddr.length&&(n.SndAddr=i.SndAddr)),i.SndUserName!=null&&(typeof i.SndUserName=="string"?ve.base64.decode(i.SndUserName,n.SndUserName=ve.newBuffer(ve.base64.length(i.SndUserName)),0):i.SndUserName.length&&(n.SndUserName=i.SndUserName)),i.GasPrice!=null&&(ve.Long?(n.GasPrice=ve.Long.fromValue(i.GasPrice)).unsigned=!0:typeof i.GasPrice=="string"?n.GasPrice=parseInt(i.GasPrice,10):typeof i.GasPrice=="number"?n.GasPrice=i.GasPrice:typeof i.GasPrice=="object"&&(n.GasPrice=new ve.LongBits(i.GasPrice.low>>>0,i.GasPrice.high>>>0).toNumber(!0))),i.GasLimit!=null&&(ve.Long?(n.GasLimit=ve.Long.fromValue(i.GasLimit)).unsigned=!0:typeof i.GasLimit=="string"?n.GasLimit=parseInt(i.GasLimit,10):typeof i.GasLimit=="number"?n.GasLimit=i.GasLimit:typeof i.GasLimit=="object"&&(n.GasLimit=new ve.LongBits(i.GasLimit.low>>>0,i.GasLimit.high>>>0).toNumber(!0))),i.Data!=null&&(typeof i.Data=="string"?ve.base64.decode(i.Data,n.Data=ve.newBuffer(ve.base64.length(i.Data)),0):i.Data.length&&(n.Data=i.Data)),i.ChainID!=null&&(typeof i.ChainID=="string"?ve.base64.decode(i.ChainID,n.ChainID=ve.newBuffer(ve.base64.length(i.ChainID)),0):i.ChainID.length&&(n.ChainID=i.ChainID)),i.Version!=null&&(n.Version=i.Version>>>0),i.Signature!=null&&(typeof i.Signature=="string"?ve.base64.decode(i.Signature,n.Signature=ve.newBuffer(ve.base64.length(i.Signature)),0):i.Signature.length&&(n.Signature=i.Signature)),i.Options!=null&&(n.Options=i.Options>>>0),n},e.toObject=function(i,n){n||(n={});var s={};if(n.defaults){if(ve.Long){var o=new ve.Long(0,0,!0);s.Nonce=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else s.Nonce=n.longs===String?"0":0;if(n.bytes===String?s.Value="":(s.Value=[],n.bytes!==Array&&(s.Value=ve.newBuffer(s.Value))),n.bytes===String?s.RcvAddr="":(s.RcvAddr=[],n.bytes!==Array&&(s.RcvAddr=ve.newBuffer(s.RcvAddr))),n.bytes===String?s.RcvUserName="":(s.RcvUserName=[],n.bytes!==Array&&(s.RcvUserName=ve.newBuffer(s.RcvUserName))),n.bytes===String?s.SndAddr="":(s.SndAddr=[],n.bytes!==Array&&(s.SndAddr=ve.newBuffer(s.SndAddr))),n.bytes===String?s.SndUserName="":(s.SndUserName=[],n.bytes!==Array&&(s.SndUserName=ve.newBuffer(s.SndUserName))),ve.Long){var o=new ve.Long(0,0,!0);s.GasPrice=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else s.GasPrice=n.longs===String?"0":0;if(ve.Long){var o=new ve.Long(0,0,!0);s.GasLimit=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else s.GasLimit=n.longs===String?"0":0;n.bytes===String?s.Data="":(s.Data=[],n.bytes!==Array&&(s.Data=ve.newBuffer(s.Data))),n.bytes===String?s.ChainID="":(s.ChainID=[],n.bytes!==Array&&(s.ChainID=ve.newBuffer(s.ChainID))),s.Version=0,n.bytes===String?s.Signature="":(s.Signature=[],n.bytes!==Array&&(s.Signature=ve.newBuffer(s.Signature))),s.Options=0}return i.Nonce!=null&&i.hasOwnProperty("Nonce")&&(typeof i.Nonce=="number"?s.Nonce=n.longs===String?String(i.Nonce):i.Nonce:s.Nonce=n.longs===String?ve.Long.prototype.toString.call(i.Nonce):n.longs===Number?new ve.LongBits(i.Nonce.low>>>0,i.Nonce.high>>>0).toNumber(!0):i.Nonce),i.Value!=null&&i.hasOwnProperty("Value")&&(s.Value=n.bytes===String?ve.base64.encode(i.Value,0,i.Value.length):n.bytes===Array?Array.prototype.slice.call(i.Value):i.Value),i.RcvAddr!=null&&i.hasOwnProperty("RcvAddr")&&(s.RcvAddr=n.bytes===String?ve.base64.encode(i.RcvAddr,0,i.RcvAddr.length):n.bytes===Array?Array.prototype.slice.call(i.RcvAddr):i.RcvAddr),i.RcvUserName!=null&&i.hasOwnProperty("RcvUserName")&&(s.RcvUserName=n.bytes===String?ve.base64.encode(i.RcvUserName,0,i.RcvUserName.length):n.bytes===Array?Array.prototype.slice.call(i.RcvUserName):i.RcvUserName),i.SndAddr!=null&&i.hasOwnProperty("SndAddr")&&(s.SndAddr=n.bytes===String?ve.base64.encode(i.SndAddr,0,i.SndAddr.length):n.bytes===Array?Array.prototype.slice.call(i.SndAddr):i.SndAddr),i.SndUserName!=null&&i.hasOwnProperty("SndUserName")&&(s.SndUserName=n.bytes===String?ve.base64.encode(i.SndUserName,0,i.SndUserName.length):n.bytes===Array?Array.prototype.slice.call(i.SndUserName):i.SndUserName),i.GasPrice!=null&&i.hasOwnProperty("GasPrice")&&(typeof i.GasPrice=="number"?s.GasPrice=n.longs===String?String(i.GasPrice):i.GasPrice:s.GasPrice=n.longs===String?ve.Long.prototype.toString.call(i.GasPrice):n.longs===Number?new ve.LongBits(i.GasPrice.low>>>0,i.GasPrice.high>>>0).toNumber(!0):i.GasPrice),i.GasLimit!=null&&i.hasOwnProperty("GasLimit")&&(typeof i.GasLimit=="number"?s.GasLimit=n.longs===String?String(i.GasLimit):i.GasLimit:s.GasLimit=n.longs===String?ve.Long.prototype.toString.call(i.GasLimit):n.longs===Number?new ve.LongBits(i.GasLimit.low>>>0,i.GasLimit.high>>>0).toNumber(!0):i.GasLimit),i.Data!=null&&i.hasOwnProperty("Data")&&(s.Data=n.bytes===String?ve.base64.encode(i.Data,0,i.Data.length):n.bytes===Array?Array.prototype.slice.call(i.Data):i.Data),i.ChainID!=null&&i.hasOwnProperty("ChainID")&&(s.ChainID=n.bytes===String?ve.base64.encode(i.ChainID,0,i.ChainID.length):n.bytes===Array?Array.prototype.slice.call(i.ChainID):i.ChainID),i.Version!=null&&i.hasOwnProperty("Version")&&(s.Version=i.Version),i.Signature!=null&&i.hasOwnProperty("Signature")&&(s.Signature=n.bytes===String?ve.base64.encode(i.Signature,0,i.Signature.length):n.bytes===Array?Array.prototype.slice.call(i.Signature):i.Signature),i.Options!=null&&i.hasOwnProperty("Options")&&(s.Options=i.Options),s},e.prototype.toJSON=function(){return this.constructor.toObject(this,uh.util.toJSONOptions)},e}(),t}();WC.exports=Nd});var XC=D($i=>{"use strict";y();var aX=$i&&$i.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),fX=$i&&$i.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),uX=$i&&$i.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&aX(e,t,r);return fX(e,t),e},cX=$i&&$i.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty($i,"__esModule",{value:!0});$i.ProtoSerializer=void 0;var hX=uX(kt()),lX=Jw(),YC=$C(),dX=g1(),JC=En(),pX=cX(xn()),Q3=class{serializeTransaction(e){let r=new JC.Address(e.getReceiver().bech32()).pubkey(),i=new JC.Address(e.getSender().bech32()).pubkey(),n=new YC.proto.Transaction({Nonce:e.getNonce().valueOf()?e.getNonce().valueOf():void 0,Value:this.serializeTransactionValue(e.getValue()),RcvAddr:r,RcvUserName:null,SndAddr:i,SndUserName:null,GasPrice:e.getGasPrice().valueOf(),GasLimit:e.getGasLimit().valueOf(),Data:e.getData().length()==0?null:e.getData().valueOf(),ChainID:M.Buffer.from(e.getChainID().valueOf()),Version:e.getVersion().valueOf(),Signature:M.Buffer.from(e.getSignature().hex(),"hex")});e.getOptions().valueOf()!==dX.TRANSACTION_OPTIONS_DEFAULT&&(n.Options=e.getOptions().valueOf());let s=YC.proto.Transaction.encode(n).finish();return M.Buffer.from(s)}serializeTransactionValue(e){let r=new pX.default(e.toString());if(r.isZero())return M.Buffer.from([0,0]);let i=lX.bigIntToBuffer(r);return i=M.Buffer.concat([M.Buffer.from([0]),i]),i}deserializeTransaction(e){throw new hX.ErrUnsupportedOperation("deserializeTransaction")}};$i.ProtoSerializer=Q3});var ZC=D(zf=>{"use strict";y();var gX=zf&&zf.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),vX=zf&&zf.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&gX(e,t,r)};Object.defineProperty(zf,"__esModule",{value:!0});vX(XC(),zf)});var e9=D(ls=>{"use strict";y();var yX=ls&&ls.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),mX=ls&&ls.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),bX=ls&&ls.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&yX(e,t,r);return mX(e,t),e};Object.defineProperty(ls,"__esModule",{value:!0});ls.Hash=void 0;var wX=bX(kt()),Bd=class{constructor(e){if(!e)this.hash=M.Buffer.from([]);else if(e instanceof M.Buffer)this.hash=e;else if(typeof e=="string")this.hash=M.Buffer.from(e,"hex");else throw new wX.ErrBadType("hash","buffer | string",e)}static empty(){return new Bd(M.Buffer.from([]))}isEmpty(){return this.hash.length==0}toString(){return this.hex()}hex(){return this.hash.toString("hex")}valueOf(){return this.hash}};ls.Hash=Bd});var W3=D((w8e,t9)=>{y();ro.notEqual=xX;ro.notOk=EX;ro.equal=_X;ro.ok=ro;t9.exports=ro;function _X(t,e,r){ro(t==e,r)}function xX(t,e,r){ro(t!=e,r)}function EX(t,e){ro(!t,e)}function ro(t,e){if(!t)throw new Error(e||"AssertionError")}});var i9=D((x8e,r9)=>{y();r9.exports=$3;$3.supported=typeof WebAssembly<"u";function $3(t){if(!$3.supported)return null;var e=t&&t.imports,r=AX("AGFzbQEAAAABEANgAn9/AGADf39/AGABfwADBQQAAQICBQUBAQroBwdNBQZtZW1vcnkCAAxibGFrZTJiX2luaXQAAA5ibGFrZTJiX3VwZGF0ZQABDWJsYWtlMmJfZmluYWwAAhBibGFrZTJiX2NvbXByZXNzAAMK00AElgMAIABCADcDACAAQQhqQgA3AwAgAEEQakIANwMAIABBGGpCADcDACAAQSBqQgA3AwAgAEEoakIANwMAIABBMGpCADcDACAAQThqQgA3AwAgAEHAAGpCADcDACAAQcgAakIANwMAIABB0ABqQgA3AwAgAEHYAGpCADcDACAAQeAAakIANwMAIABB6ABqQgA3AwAgAEHwAGpCADcDACAAQfgAakIANwMAIABBgAFqQoiS853/zPmE6gBBACkDAIU3AwAgAEGIAWpCu86qptjQ67O7f0EIKQMAhTcDACAAQZABakKr8NP0r+68tzxBECkDAIU3AwAgAEGYAWpC8e30+KWn/aelf0EYKQMAhTcDACAAQaABakLRhZrv+s+Uh9EAQSApAwCFNwMAIABBqAFqQp/Y+dnCkdqCm39BKCkDAIU3AwAgAEGwAWpC6/qG2r+19sEfQTApAwCFNwMAIABBuAFqQvnC+JuRo7Pw2wBBOCkDAIU3AwAgAEHAAWpCADcDACAAQcgBakIANwMAIABB0AFqQgA3AwALbQEDfyAAQcABaiEDIABByAFqIQQgBCkDAKchBQJAA0AgASACRg0BIAVBgAFGBEAgAyADKQMAIAWtfDcDAEEAIQUgABADCyAAIAVqIAEtAAA6AAAgBUEBaiEFIAFBAWohAQwACwsgBCAFrTcDAAtkAQN/IABBwAFqIQEgAEHIAWohAiABIAEpAwAgAikDAHw3AwAgAEHQAWpCfzcDACACKQMApyEDAkADQCADQYABRg0BIAAgA2pBADoAACADQQFqIQMMAAsLIAIgA603AwAgABADC+U7AiB+CX8gAEGAAWohISAAQYgBaiEiIABBkAFqISMgAEGYAWohJCAAQaABaiElIABBqAFqISYgAEGwAWohJyAAQbgBaiEoICEpAwAhASAiKQMAIQIgIykDACEDICQpAwAhBCAlKQMAIQUgJikDACEGICcpAwAhByAoKQMAIQhCiJLznf/M+YTqACEJQrvOqqbY0Ouzu38hCkKr8NP0r+68tzwhC0Lx7fT4paf9p6V/IQxC0YWa7/rPlIfRACENQp/Y+dnCkdqCm38hDkLr+obav7X2wR8hD0L5wvibkaOz8NsAIRAgACkDACERIABBCGopAwAhEiAAQRBqKQMAIRMgAEEYaikDACEUIABBIGopAwAhFSAAQShqKQMAIRYgAEEwaikDACEXIABBOGopAwAhGCAAQcAAaikDACEZIABByABqKQMAIRogAEHQAGopAwAhGyAAQdgAaikDACEcIABB4ABqKQMAIR0gAEHoAGopAwAhHiAAQfAAaikDACEfIABB+ABqKQMAISAgDSAAQcABaikDAIUhDSAPIABB0AFqKQMAhSEPIAEgBSARfHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgEnx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBN8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAUfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgFXx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIBZ8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAXfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggGHx8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBl8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAafHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgG3x8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBx8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAdfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggHnx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIB98fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAgfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgH3x8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBt8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAVfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgGXx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBp8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAgfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggHnx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBd8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiASfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgHXx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBF8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByATfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggHHx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBh8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAWfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgFHx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIBx8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAZfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgHXx8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBF8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAWfHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgE3x8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIICB8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAefHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgG3x8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIB98fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAUfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgF3x8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBh8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCASfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgGnx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBV8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAYfHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgGnx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBR8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiASfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgHnx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIB18fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAcfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggH3x8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBN8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAXfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgFnx8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBt8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAVfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggEXx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFICB8fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAZfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgGnx8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBF8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAWfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgGHx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBN8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAVfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggG3x8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIICB8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAffHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgEnx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBx8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAdfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggF3x8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBl8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAUfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgHnx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIBN8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAdfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgF3x8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBt8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByARfHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgHHx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBl8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAUfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgFXx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIB58fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAYfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgFnx8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIICB8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCAffHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgEnx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBp8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAdfHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgFnx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBJ8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAgfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgH3x8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIB58fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAVfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggG3x8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBF8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAYfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgF3x8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBR8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAafHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggE3x8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIBl8fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAcfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgHnx8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBx8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAYfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgH3x8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIB18fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByASfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggFHx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBp8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAWfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgEXx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHICB8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAVfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggGXx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBd8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSATfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgG3x8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIBd8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAgfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgH3x8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBp8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAcfHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgFHx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBF8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAZfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgHXx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIBN8fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAefHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgGHx8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBJ8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCAVfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgG3x8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBZ8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAbfHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgE3x8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBl8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAVfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgGHx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIBd8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCASfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggFnx8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGICB8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAcfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgGnx8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIB98fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAUfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggHXx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIB58fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSARfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgEXx8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBJ8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiATfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgFHx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBV8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAWfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggF3x8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBh8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAZfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgGnx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBt8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAcfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggHXx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIB58fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAffHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgIHx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIB98fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAbfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgFXx8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBl8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAafHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgIHx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIB58fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAXfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgEnx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIB18fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByARfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgE3x8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBx8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCAYfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgFnx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBR8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFICEgISkDACABIAmFhTcDACAiICIpAwAgAiAKhYU3AwAgIyAjKQMAIAMgC4WFNwMAICQgJCkDACAEIAyFhTcDACAlICUpAwAgBSANhYU3AwAgJiAmKQMAIAYgDoWFNwMAICcgJykDACAHIA+FhTcDACAoICgpAwAgCCAQhYU3AwAL"),i=null,n={buffer:r,memory:null,exports:null,realloc:s,onload:o};return o(function(){}),n;function s(l){n.exports.memory.grow(Math.ceil(Math.abs(l-n.memory.length)/65536)),n.memory=new Uint8Array(n.exports.memory.buffer)}function o(l){if(n.exports)return l();if(i){i.then(l.bind(null,null)).catch(l);return}try{if(t&&t.async)throw new Error("async");f({instance:new WebAssembly.Instance(new WebAssembly.Module(r),e)})}catch{i=WebAssembly.instantiate(r,e).then(f)}o(l)}function f(l){n.exports=l.instance.exports,n.memory=n.exports.memory&&n.exports.memory.buffer&&new Uint8Array(n.exports.memory.buffer)}}function AX(t){return typeof atob=="function"?new Uint8Array(atob(t).split("").map(SX)):new(mi()).Buffer(t,"base64")}function SX(t){return t.charCodeAt(0)}});var c9=D((I8e,ps)=>{y();var ds=W3(),Rt=i9()(),io=64,x1=[];ps.exports=Yi;var n9=ps.exports.BYTES_MIN=16,s9=ps.exports.BYTES_MAX=64,A8e=ps.exports.BYTES=32,o9=ps.exports.KEYBYTES_MIN=16,a9=ps.exports.KEYBYTES_MAX=64,S8e=ps.exports.KEYBYTES=32,f9=ps.exports.SALTBYTES=16,u9=ps.exports.PERSONALBYTES=16;function Yi(t,e,r,i,n){if(!(this instanceof Yi))return new Yi(t,e,r,i,n);if(!(Rt&&Rt.exports))throw new Error("WASM not loaded. Wait for Blake2b.ready(cb)");t||(t=32),n!==!0&&(ds(t>=n9,"digestLength must be at least "+n9+", was given "+t),ds(t<=s9,"digestLength must be at most "+s9+", was given "+t),e!=null&&ds(e.length>=o9,"key must be at least "+o9+", was given "+e.length),e!=null&&ds(e.length<=a9,"key must be at least "+a9+", was given "+e.length),r!=null&&ds(r.length===f9,"salt must be exactly "+f9+", was given "+r.length),i!=null&&ds(i.length===u9,"personal must be exactly "+u9+", was given "+i.length)),x1.length||(x1.push(io),io+=216),this.digestLength=t,this.finalized=!1,this.pointer=x1.pop(),Rt.memory.fill(0,0,64),Rt.memory[0]=this.digestLength,Rt.memory[1]=e?e.length:0,Rt.memory[2]=1,Rt.memory[3]=1,r&&Rt.memory.set(r,32),i&&Rt.memory.set(i,48),this.pointer+216>Rt.memory.length&&Rt.realloc(this.pointer+216),Rt.exports.blake2b_init(this.pointer,this.digestLength),e&&(this.update(e),Rt.memory.fill(0,io,io+e.length),Rt.memory[this.pointer+200]=128)}Yi.prototype.update=function(t){return ds(this.finalized===!1,"Hash instance finalized"),ds(t,"input must be TypedArray or Buffer"),io+t.length>Rt.memory.length&&Rt.realloc(io+t.length),Rt.memory.set(t,io),Rt.exports.blake2b_update(this.pointer,io,io+t.length),this};Yi.prototype.digest=function(t){if(ds(this.finalized===!1,"Hash instance finalized"),this.finalized=!0,x1.push(this.pointer),Rt.exports.blake2b_final(this.pointer),!t||t==="binary")return Rt.memory.slice(this.pointer+128,this.pointer+128+this.digestLength);if(t==="hex")return MX(Rt.memory,this.pointer+128,this.digestLength);ds(t.length>=this.digestLength,"input must be TypedArray or Buffer");for(var e=0;e<this.digestLength;e++)t[e]=Rt.memory[this.pointer+128+e];return t};Yi.prototype.final=Yi.prototype.digest;Yi.WASM=Rt&&Rt.buffer;Yi.SUPPORTED=typeof WebAssembly<"u";Yi.ready=function(t){if(t||(t=IX),!Rt)return t(new Error("WebAssembly not supported"));var e=new Promise(function(r,i){Rt.onload(function(n){n?i():r(),t(n)})});return e};Yi.prototype.ready=Yi.ready;function IX(){}function MX(t,e,r){for(var i="",n=0;n<r;n++)i+=CX(t[e+n]);return i}function CX(t){return t<16?"0"+t.toString(16):t.toString(16)}});var E9=D((O8e,_i)=>{y();var na=W3(),Rd=c9();function E1(t,e,r){var i=t[e]+t[r],n=t[e+1]+t[r+1];i>=4294967296&&n++,t[e]=i,t[e+1]=n}function h9(t,e,r,i){var n=t[e]+r;r<0&&(n+=4294967296);var s=t[e+1]+i;n>=4294967296&&s++,t[e]=n,t[e+1]=s}function m9(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function ra(t,e,r,i,n,s){var o=Dd[n],f=Dd[n+1],l=Dd[s],b=Dd[s+1];E1(Xe,t,e),h9(Xe,t,o,f);var E=Xe[i]^Xe[t],C=Xe[i+1]^Xe[t+1];Xe[i]=C,Xe[i+1]=E,E1(Xe,r,i),E=Xe[e]^Xe[r],C=Xe[e+1]^Xe[r+1],Xe[e]=E>>>24^C<<8,Xe[e+1]=C>>>24^E<<8,E1(Xe,t,e),h9(Xe,t,l,b),E=Xe[i]^Xe[t],C=Xe[i+1]^Xe[t+1],Xe[i]=E>>>16^C<<16,Xe[i+1]=C>>>16^E<<16,E1(Xe,r,i),E=Xe[e]^Xe[r],C=Xe[e+1]^Xe[r+1],Xe[e]=C>>>31^E<<1,Xe[e+1]=E>>>31^C<<1}var b9=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),TX=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],Kr=new Uint8Array(TX.map(function(t){return t*2})),Xe=new Uint32Array(32),Dd=new Uint32Array(32);function w9(t,e){var r=0;for(r=0;r<16;r++)Xe[r]=t.h[r],Xe[r+16]=b9[r];for(Xe[24]=Xe[24]^t.t,Xe[25]=Xe[25]^t.t/4294967296,e&&(Xe[28]=~Xe[28],Xe[29]=~Xe[29]),r=0;r<32;r++)Dd[r]=m9(t.b,4*r);for(r=0;r<12;r++)ra(0,8,16,24,Kr[r*16+0],Kr[r*16+1]),ra(2,10,18,26,Kr[r*16+2],Kr[r*16+3]),ra(4,12,20,28,Kr[r*16+4],Kr[r*16+5]),ra(6,14,22,30,Kr[r*16+6],Kr[r*16+7]),ra(0,10,20,30,Kr[r*16+8],Kr[r*16+9]),ra(2,12,22,24,Kr[r*16+10],Kr[r*16+11]),ra(4,14,16,26,Kr[r*16+12],Kr[r*16+13]),ra(6,8,18,28,Kr[r*16+14],Kr[r*16+15]);for(r=0;r<16;r++)t.h[r]=t.h[r]^Xe[r]^Xe[r+16]}var ia=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function ch(t,e,r,i){ia.fill(0),this.b=new Uint8Array(128),this.h=new Uint32Array(16),this.t=0,this.c=0,this.outlen=t,ia[0]=t,e&&(ia[1]=e.length),ia[2]=1,ia[3]=1,r&&ia.set(r,32),i&&ia.set(i,48);for(var n=0;n<16;n++)this.h[n]=b9[n]^m9(ia,n*4);e&&(_9(this,e),this.c=128)}ch.prototype.update=function(t){return na(t!=null,"input must be Uint8Array or Buffer"),_9(this,t),this};ch.prototype.digest=function(t){var e=!t||t==="binary"||t==="hex"?new Uint8Array(this.outlen):t;return na(e.length>=this.outlen,"out must have at least outlen bytes of space"),OX(this,e),t==="hex"?NX(e):e};ch.prototype.final=ch.prototype.digest;ch.ready=function(t){Rd.ready(function(){t()})};function _9(t,e){for(var r=0;r<e.length;r++)t.c===128&&(t.t+=t.c,w9(t,!1),t.c=0),t.b[t.c++]=e[r]}function OX(t,e){for(t.t+=t.c;t.c<128;)t.b[t.c++]=0;w9(t,!0);for(var r=0;r<t.outlen;r++)e[r]=t.h[r>>2]>>8*(r&3);return e}function NX(t){for(var e="",r=0;r<t.length;r++)e+=BX(t[r]);return e}function BX(t){return t<16?"0"+t.toString(16):t.toString(16)}var x9=ch;_i.exports=function(e,r,i,n,s){return s!==!0&&(na(e>=l9,"outlen must be at least "+l9+", was given "+e),na(e<=d9,"outlen must be at most "+d9+", was given "+e),r!=null&&na(r.length>=p9,"key must be at least "+p9+", was given "+r.length),r!=null&&na(r.length<=g9,"key must be at most "+g9+", was given "+r.length),i!=null&&na(i.length===v9,"salt must be exactly "+v9+", was given "+i.length),n!=null&&na(n.length===y9,"personal must be exactly "+y9+", was given "+n.length)),new x9(e,r,i,n)};_i.exports.ready=function(t){Rd.ready(function(){t()})};_i.exports.WASM_SUPPORTED=Rd.SUPPORTED;_i.exports.WASM_LOADED=!1;var l9=_i.exports.BYTES_MIN=16,d9=_i.exports.BYTES_MAX=64,C8e=_i.exports.BYTES=32,p9=_i.exports.KEYBYTES_MIN=16,g9=_i.exports.KEYBYTES_MAX=64,T8e=_i.exports.KEYBYTES=32,v9=_i.exports.SALTBYTES=16,y9=_i.exports.PERSONALBYTES=16;Rd.ready(function(t){t||(_i.exports.WASM_LOADED=!0,x9=Rd)})});var X3=D(Ji=>{"use strict";y();var DX=Ji&&Ji.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),RX=Ji&&Ji.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),PX=Ji&&Ji.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&DX(e,t,r);return RX(e,t),e};Object.defineProperty(Ji,"__esModule",{value:!0});Ji.TransactionHash=Ji.Transaction=void 0;var Pd=xn(),Y3=En(),J3=QM(),A9=YM(),LX=ji(),S9=Md(),qX=PX(kt()),FX=ZC(),UX=e9(),kX=g1(),HX=E9(),jX=32,Ld=class{constructor({nonce:e,value:r,receiver:i,sender:n,gasPrice:s,gasLimit:o,data:f,chainID:l,version:b,options:E}){this.nonce=e||0,this.value=r||0,this.sender=n,this.receiver=i,this.gasPrice=s||kX.TRANSACTION_MIN_GAS_PRICE,this.gasLimit=o,this.data=f||new S9.TransactionPayload,this.chainID=l,this.version=b||J3.TransactionVersion.withDefaultVersion(),this.options=E||J3.TransactionOptions.withDefaultOptions(),this.signature=A9.Signature.empty(),this.hash=Kf.empty()}getNonce(){return this.nonce}setNonce(e){this.nonce=e}getValue(){return this.value}setValue(e){this.value=e}getSender(){return this.sender}getReceiver(){return this.receiver}getGasPrice(){return this.gasPrice}setGasPrice(e){this.gasPrice=e}getGasLimit(){return this.gasLimit}setGasLimit(e){this.gasLimit=e}getData(){return this.data}getChainID(){return this.chainID}setChainID(e){this.chainID=e}getVersion(){return this.version}getOptions(){return this.options}getSignature(){return this.signature}getHash(){return LX.guardNotEmpty(this.hash,"hash"),this.hash}serializeForSigning(e){let r=this.toPlainObject(e);r.signature&&delete r.signature;let i=JSON.stringify(r);return M.Buffer.from(i)}toPlainObject(e){return{nonce:this.nonce.valueOf(),value:this.value.toString(),receiver:this.receiver.bech32(),sender:e?e.bech32():this.sender.bech32(),gasPrice:this.gasPrice.valueOf(),gasLimit:this.gasLimit.valueOf(),data:this.data.length()==0?void 0:this.data.encoded(),chainID:this.chainID.valueOf(),version:this.version.valueOf(),options:this.options.valueOf()==0?void 0:this.options.valueOf(),signature:this.signature.hex()?this.signature.hex():void 0}}static fromPlainObject(e){let r=new Ld({nonce:Number(e.nonce),value:new Pd.BigNumber(e.value),receiver:Y3.Address.fromString(e.receiver),sender:Y3.Address.fromString(e.sender),gasPrice:Number(e.gasPrice),gasLimit:Number(e.gasLimit),data:new S9.TransactionPayload(M.Buffer.from(e.data||"","base64")),chainID:String(e.chainID),version:new J3.TransactionVersion(e.version)});return e.signature&&r.applySignature(new A9.Signature(e.signature),Y3.Address.fromString(e.sender)),r}applySignature(e,r){this.signature=e,this.sender=r,this.hash=Kf.compute(this)}toSendable(){return this.toPlainObject()}computeFee(e){let r=e.MinGasLimit.valueOf()+this.data.length()*e.GasPerDataByte.valueOf();if(r>this.gasLimit.valueOf())throw new qX.ErrNotEnoughGas(this.gasLimit.valueOf());let i=new Pd.BigNumber(this.gasPrice.valueOf()),n=new Pd.BigNumber(r).multipliedBy(i);if(r===this.gasLimit.valueOf())return n;let s=new Pd.BigNumber(this.gasLimit.valueOf()-r),o=i.multipliedBy(new Pd.BigNumber(e.GasPriceModifier.valueOf())),f=s.multipliedBy(o);return n.plus(f)}};Ji.Transaction=Ld;var Kf=class extends UX.Hash{constructor(e){super(e)}static compute(e){let i=new FX.ProtoSerializer().serializeTransaction(e),n=HX(jX).update(i).digest("hex");return new Kf(n)}};Ji.TransactionHash=Kf});var Z3=D(Qf=>{"use strict";y();Object.defineProperty(Qf,"__esModule",{value:!0});Qf.Logger=Qf.LogLevel=void 0;var Gf;(function(t){t[t.Trace=0]="Trace",t[t.Debug=1]="Debug",t[t.Info=2]="Info",t[t.Warn=3]="Warn",t[t.Error=4]="Error",t[t.None=5]="None"})(Gf=Qf.LogLevel||(Qf.LogLevel={}));var On=class{static setLevel(e){On.logLevel=e}static trace(e,...r){On.logLevel>=Gf.Debug||console.debug(e,r)}static debug(e,...r){On.logLevel>=Gf.Debug||console.debug(e,r)}static info(e,...r){On.logLevel>=Gf.Info||console.log(e,r)}static warn(e,...r){On.logLevel>=Gf.Warn||console.warn(e,r)}static error(e,...r){On.logLevel>=Gf.Error||console.error(e,r)}};Qf.Logger=On;On.logLevel=Gf.Debug});var I9=D(gs=>{"use strict";y();var VX=gs&&gs.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),zX=gs&&gs.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),KX=gs&&gs.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&VX(e,t,r);return zX(e,t),e};Object.defineProperty(gs,"__esModule",{value:!0});gs.AsyncTimer=void 0;var GX=KX(kt()),QX=kt(),e_=Z3(),t_=class{constructor(e){this.timeoutHandle=null,this.rejectionFunc=null,this.name=e,this.correlationTag=0}start(e){if(this.timeoutHandle)throw new GX.ErrAsyncTimerAlreadyRunning;return this.correlationTag++,e_.Logger.trace(`AsyncTimer[${this.name}'${this.correlationTag}].start()`),new Promise((r,i)=>{this.rejectionFunc=i;let n=()=>{this.rejectionFunc=null,this.stop(),r()};this.timeoutHandle=setTimeout(n,e)})}abort(){e_.Logger.trace(`AsyncTimer[${this.name}'${this.correlationTag}].abort()`),this.rejectionFunc&&(this.rejectionFunc(new QX.ErrAsyncTimerAborted),this.rejectionFunc=null),this.stop()}stop(){this.isStopped()||(e_.Logger.trace(`AsyncTimer[${this.name}'${this.correlationTag}].stop()`),this.timeoutHandle&&(clearTimeout(this.timeoutHandle),this.timeoutHandle=null))}isStopped(){return!this.timeoutHandle}};gs.AsyncTimer=t_});var i_=D(lh=>{"use strict";y();var Xi=lh&&lh.__awaiter||function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function f(E){try{b(i.next(E))}catch(C){o(C)}}function l(E){try{b(i.throw(E))}catch(C){o(C)}}function b(E){E.done?s(E.value):n(E.value).then(f,l)}b((i=i.apply(t,e||[])).next())})};Object.defineProperty(lh,"__esModule",{value:!0});lh.TransactionWatcher=void 0;var M9=I9(),C9=Z3(),hh=kt(),vs=class{constructor(e,r=vs.DefaultPollingInterval,i=vs.DefaultTimeout){this.fetcher=new r_(e),this.pollingInterval=r,this.timeout=i}awaitPending(e){return Xi(this,void 0,void 0,function*(){let r=s=>s.status.isPending(),i=()=>Xi(this,void 0,void 0,function*(){return yield this.fetcher.getTransaction(e.getHash().hex())}),n=()=>new hh.ErrExpectedTransactionStatusNotReached;return this.awaitConditionally(r,i,n)})}awaitCompleted(e){return Xi(this,void 0,void 0,function*(){let r=s=>s.isCompleted,i=()=>Xi(this,void 0,void 0,function*(){return yield this.fetcher.getTransaction(e.getHash().hex())}),n=()=>new hh.ErrExpectedTransactionStatusNotReached;return this.awaitConditionally(r,i,n)})}awaitAllEvents(e,r){return Xi(this,void 0,void 0,function*(){let i=o=>{let f=this.getAllTransactionEvents(o).map(b=>b.identifier);return r.every(b=>f.includes(b))},n=()=>Xi(this,void 0,void 0,function*(){return yield this.fetcher.getTransaction(e.getHash().hex())}),s=()=>new hh.ErrExpectedTransactionEventsNotFound;return this.awaitConditionally(i,n,s)})}awaitAnyEvent(e,r){return Xi(this,void 0,void 0,function*(){let i=o=>{let f=this.getAllTransactionEvents(o).map(b=>b.identifier);return r.find(b=>f.includes(b))!=null},n=()=>Xi(this,void 0,void 0,function*(){return yield this.fetcher.getTransaction(e.getHash().hex())}),s=()=>new hh.ErrExpectedTransactionEventsNotFound;return this.awaitConditionally(i,n,s)})}awaitOnCondition(e,r){return Xi(this,void 0,void 0,function*(){let i=()=>Xi(this,void 0,void 0,function*(){return yield this.fetcher.getTransaction(e.getHash().hex())}),n=()=>new hh.ErrExpectedTransactionStatusNotReached;return this.awaitConditionally(r,i,n)})}awaitConditionally(e,r,i){return Xi(this,void 0,void 0,function*(){let n=new M9.AsyncTimer("watcher:periodic"),s=new M9.AsyncTimer("watcher:timeout"),o=!1,f,l=!1;for(s.start(this.timeout).finally(()=>{s.stop(),o=!0});!o;){yield n.start(this.pollingInterval);try{if(f=yield r(),l=e(f),l||o)break}catch(b){if(C9.Logger.debug("TransactionWatcher.awaitConditionally(): cannot (yet) fetch data."),!(b instanceof hh.Err))throw b}}if(s.isStopped()||s.stop(),!f||!l)throw i();return f})}getAllTransactionEvents(e){let r=[...e.logs.events];for(let i of e.contractResults.items)r.push(...i.logs.events);return r}};lh.TransactionWatcher=vs;vs.DefaultPollingInterval=6e3;vs.DefaultTimeout=vs.DefaultPollingInterval*15;vs.NoopOnStatusReceived=t=>{};var r_=class{constructor(e){this.fetcher=e}getTransaction(e){return Xi(this,void 0,void 0,function*(){return C9.Logger.debug(`transactionWatcher, getTransaction(${e})`),yield this.fetcher.getTransaction(e)})}}});var T9=D(ys=>{"use strict";y();var WX=ys&&ys.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),$X=ys&&ys.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),YX=ys&&ys.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&WX(e,t,r);return $X(e,t),e};Object.defineProperty(ys,"__esModule",{value:!0});ys.ContractFunction=void 0;var JX=YX(kt()),qd=class{constructor(e){if(this.name=e,e==null)throw new JX.ErrInvalidFunctionName}static none(){return new qd("untitled")}toString(){return this.name}valueOf(){return this.name}equals(e){return e?this.name==e.name:!1}};ys.ContractFunction=qd});var O9=D(dh=>{"use strict";y();Object.defineProperty(dh,"__esModule",{value:!0});dh.Signature=dh.Address=void 0;var n_=class{constructor(e){this.value=e}bech32(){return this.value}};dh.Address=n_;var s_=class{constructor(e){this.value=e}hex(){return this.value}};dh.Signature=s_});var N9=D(Fd=>{"use strict";y();Object.defineProperty(Fd,"__esModule",{value:!0});Fd.Operation=void 0;var XX;(function(t){t.Connect="connect",t.Logout="logout",t.SignTransactions="signTransactions",t.SignMessage="signMessage",t.CancelAction="cancelAction"})(XX=Fd.Operation||(Fd.Operation={}))});var B9=D(sa=>{"use strict";y();Object.defineProperty(sa,"__esModule",{value:!0});sa.ErrAccountNotConnected=sa.ErrCannotSignSingleTransaction=sa.Err=void 0;var Ud=class extends Error{constructor(e,r){super(e),this.inner=void 0,this.inner=r}};sa.Err=Ud;var o_=class extends Ud{constructor(){super("Cannot sign single transaction.")}};sa.ErrCannotSignSingleTransaction=o_;var a_=class extends Ud{constructor(){super("Account is not connected.")}};sa.ErrAccountNotConnected=a_});var R9=D(ph=>{"use strict";y();var oa=ph&&ph.__awaiter||function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function f(E){try{b(i.next(E))}catch(C){o(C)}}function l(E){try{b(i.throw(E))}catch(C){o(C)}}function b(E){E.done?s(E.value):n(E.value).then(f,l)}b((i=i.apply(t,e||[])).next())})};Object.defineProperty(ph,"__esModule",{value:!0});ph.ExtensionProvider=void 0;var A1=O9(),kd=N9(),D9=B9(),ms=class{constructor(){if(this.account={address:""},this.initialized=!1,ms._instance)throw new Error("Error: Instantiation failed: Use ExtensionProvider.getInstance() instead of new.");ms._instance=this}static getInstance(){return ms._instance}setAddress(e){return this.account.address=e,ms._instance}init(){return oa(this,void 0,void 0,function*(){return window&&window.elrondWallet&&(this.initialized=!0),this.initialized})}login(e={}){return oa(this,void 0,void 0,function*(){if(!this.initialized)throw new Error("Extension provider is not initialised, call init() first");let{token:r}=e,i=r||"";return yield this.startBgrMsgChannel(kd.Operation.Connect,i),this.account.address})}logout(){return oa(this,void 0,void 0,function*(){if(!this.initialized)throw new Error("Extension provider is not initialised, call init() first");try{yield this.startBgrMsgChannel(kd.Operation.Logout,this.account.address),this.disconnect()}catch(e){console.warn("Extension origin url is already cleared!",e)}return!0})}disconnect(){this.account={address:""}}getAddress(){return oa(this,void 0,void 0,function*(){if(!this.initialized)throw new Error("Extension provider is not initialised, call init() first");return this.account?this.account.address:""})}isInitialized(){return this.initialized}isConnected(){return oa(this,void 0,void 0,function*(){return Boolean(this.account.address)})}signTransaction(e){return oa(this,void 0,void 0,function*(){this.ensureConnected();let r=yield this.signTransactions([e]);if(r.length!=1)throw new D9.ErrCannotSignSingleTransaction;return r[0]})}ensureConnected(){if(!this.account.address)throw new D9.ErrAccountNotConnected}signTransactions(e){return oa(this,void 0,void 0,function*(){this.ensureConnected();let r=yield this.startBgrMsgChannel(kd.Operation.SignTransactions,{from:this.account.address,transactions:e.map(i=>i.toPlainObject())});try{for(let i=0;i<e.length;i++){let n=e[i],s=r[i];n.applySignature(new A1.Signature(s.signature),new A1.Address(this.account.address))}return e}catch(i){throw new Error(`Transaction canceled: ${i.message}.`)}})}signMessage(e){return oa(this,void 0,void 0,function*(){this.ensureConnected();let r={account:this.account.address,message:e.message.toString()},i=yield this.startBgrMsgChannel(kd.Operation.SignMessage,r);return e.applySignature(new A1.Signature(i.signature),new A1.Address(this.account.address)),e})}cancelAction(){return this.startBgrMsgChannel(kd.Operation.CancelAction,{})}startBgrMsgChannel(e,r){return new Promise(i=>{window.postMessage({target:"erdw-inpage",type:e,data:r},window.origin);let n=s=>{s.isTrusted&&s.data.target==="erdw-contentScript"&&(s.data.type==="connectResponse"?(s.data.data&&Boolean(s.data.data.address)&&(this.account=s.data.data),window.removeEventListener("message",n),i(s.data.data)):(window.removeEventListener("message",n),i(s.data.data)))};window.addEventListener("message",n,!1)})}};ph.ExtensionProvider=ms;ms._instance=new ms});var f_=D(Wf=>{"use strict";y();var ZX=Wf&&Wf.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),eZ=Wf&&Wf.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&ZX(e,t,r)};Object.defineProperty(Wf,"__esModule",{value:!0});eZ(R9(),Wf)});var O1=D(Pt=>{"use strict";y();Object.defineProperty(Pt,"__esModule",{value:!0});Pt.getLocalStorage=Pt.getLocalStorageOrThrow=Pt.getCrypto=Pt.getCryptoOrThrow=Pt.getLocation=Pt.getLocationOrThrow=Pt.getNavigator=Pt.getNavigatorOrThrow=Pt.getDocument=Pt.getDocumentOrThrow=Pt.getFromWindowOrThrow=Pt.getFromWindow=void 0;function $f(t){let e;return typeof window<"u"&&typeof window[t]<"u"&&(e=window[t]),e}Pt.getFromWindow=$f;function gh(t){let e=$f(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}Pt.getFromWindowOrThrow=gh;function tZ(){return gh("document")}Pt.getDocumentOrThrow=tZ;function rZ(){return $f("document")}Pt.getDocument=rZ;function iZ(){return gh("navigator")}Pt.getNavigatorOrThrow=iZ;function nZ(){return $f("navigator")}Pt.getNavigator=nZ;function sZ(){return gh("location")}Pt.getLocationOrThrow=sZ;function oZ(){return $f("location")}Pt.getLocation=oZ;function aZ(){return gh("crypto")}Pt.getCryptoOrThrow=aZ;function fZ(){return $f("crypto")}Pt.getCrypto=fZ;function uZ(){return gh("localStorage")}Pt.getLocalStorageOrThrow=uZ;function cZ(){return $f("localStorage")}Pt.getLocalStorage=cZ});var u_=D(N1=>{"use strict";y();Object.defineProperty(N1,"__esModule",{value:!0});N1.getWindowMetadata=void 0;var F9=O1();function hZ(){let t,e;try{t=F9.getDocumentOrThrow(),e=F9.getLocationOrThrow()}catch{return null}function r(){let C=t.getElementsByTagName("link"),N=[];for(let L=0;L<C.length;L++){let R=C[L],V=R.getAttribute("rel");if(V&&V.toLowerCase().indexOf("icon")>-1){let W=R.getAttribute("href");if(W)if(W.toLowerCase().indexOf("https:")===-1&&W.toLowerCase().indexOf("http:")===-1&&W.indexOf("//")!==0){let $=e.protocol+"//"+e.host;if(W.indexOf("/")===0)$+=W;else{let re=e.pathname.split("/");re.pop(),$+=re.join("/")+"/"+W}N.push($)}else if(W.indexOf("//")===0){let $=e.protocol+W;N.push($)}else N.push(W)}}return N}function i(...C){let N=t.getElementsByTagName("meta");for(let L=0;L<N.length;L++){let R=N[L],V=["itemprop","property","name"].map(W=>R.getAttribute(W)).filter(W=>W?C.includes(W):!1);if(V.length&&V){let W=R.getAttribute("content");if(W)return W}}return""}function n(){let C=i("name","og:site_name","og:title","twitter:title");return C||(C=t.title),C}function s(){return i("description","og:description","twitter:description","keywords")}let o=n(),f=s(),l=e.origin,b=r();return{description:f,url:l,icons:b,name:o}}N1.getWindowMetadata=hZ});function j9(t){return t?H9(t):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new yZ:typeof navigator<"u"?H9(navigator.userAgent):EZ()}function _Z(t){return t!==""&&wZ.reduce(function(e,r){var i=r[0],n=r[1];if(e)return e;var s=n.exec(t);return!!s&&[i,s]},!1)}function H9(t){var e=_Z(t);if(!e)return null;var r=e[0],i=e[1];if(r==="searchbot")return new vZ;var n=i[1]&&i[1].split(/[._]/).slice(0,3);n?n.length<U9&&(n=lZ(n,AZ(U9-n.length))):n=[];var s=n.join("."),o=xZ(t),f=bZ.exec(t);return f&&f[1]?new gZ(r,s,o,f[1]):new dZ(r,s,o)}function xZ(t){for(var e=0,r=k9.length;e<r;e++){var i=k9[e],n=i[0],s=i[1],o=s.exec(t);if(o)return n}return null}function EZ(){var t=typeof I.default<"u"&&I.default.version;return t?new pZ(I.default.version.slice(1)):null}function AZ(t){for(var e=[],r=0;r<t;r++)e.push("0");return e}var lZ,dZ,pZ,gZ,vZ,yZ,mZ,bZ,U9,wZ,k9,V9=fe(()=>{y();lZ=function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var i=Array(t),n=0,e=0;e<r;e++)for(var s=arguments[e],o=0,f=s.length;o<f;o++,n++)i[n]=s[o];return i},dZ=function(){function t(e,r,i){this.name=e,this.version=r,this.os=i,this.type="browser"}return t}(),pZ=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=I.default.platform}return t}(),gZ=function(){function t(e,r,i,n){this.name=e,this.version=r,this.os=i,this.bot=n,this.type="bot-device"}return t}(),vZ=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),yZ=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),mZ=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,bZ=/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,U9=3,wZ=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",mZ]],k9=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]]});function B1(t){return j9(t)}function c_(){let t=B1();return t&&t.os?t.os:void 0}function SZ(){let t=c_();return t?t.toLowerCase().includes("android"):!1}function IZ(){let t=c_();return t?t.toLowerCase().includes("ios")||t.toLowerCase().includes("mac")&&navigator.maxTouchPoints>1:!1}function K9(){return c_()?SZ()||IZ():!1}function MZ(){let t=B1();return t&&t.name?t.name.toLowerCase()==="node":!1}function G9(){return!MZ()&&!!CZ()}function h_(){return z9.getWindowMetadata()}var z9,li,CZ,Q9,D1,l_=fe(()=>{y();z9=Ve(u_()),li=Ve(O1());V9();CZ=li.getNavigator,Q9=li.getLocation,D1=li.getLocalStorage});var d_={};Ut(d_,{safeJsonParse:()=>Yf,safeJsonStringify:()=>Jf});function Yf(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return JSON.parse(t)}catch{return t}}function Jf(t){return typeof t=="string"?t:JSON.stringify(t)}var Hd=fe(()=>{y()});var W9,$9,p_=fe(()=>{y();Hd();W9=Yf,$9=Jf});function g_(t,e){let r=$9(e),i=D1();i&&i.setItem(t,r)}function R1(t){let e=null,r=null,i=D1();return i&&(r=i.getItem(t)),e=r&&W9(r),e}function P1(t){let e=D1();e&&e.removeItem(t)}var v_=fe(()=>{y();p_();l_()});var y_,Y9=fe(()=>{y();v_();y_="WALLETCONNECT_DEEPLINK_CHOICE"});var J9=fe(()=>{y()});var L1=fe(()=>{y();l_();p_();v_();Y9();J9()});var X9,q1,F1=fe(()=>{y();X9=["session_request","session_update","exchange_key","connect","disconnect","display_uri","modal_closed","transport_open","transport_close","transport_error"],q1=["eth_sendTransaction","eth_signTransaction","eth_sign","eth_signTypedData","eth_signTypedData_v1","eth_signTypedData_v2","eth_signTypedData_v3","eth_signTypedData_v4","personal_sign","wallet_addEthereumChain","wallet_switchEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode"]});var Di=D((Z9,m_)=>{y();(function(t,e){"use strict";function r(P,w){if(!P)throw new Error(w||"Assertion failed")}function i(P,w){P.super_=w;var p=function(){};p.prototype=w.prototype,P.prototype=new p,P.prototype.constructor=P}function n(P,w,p){if(n.isBN(P))return P;this.negative=0,this.words=null,this.length=0,this.red=null,P!==null&&((w==="le"||w==="be")&&(p=w,w=10),this._init(P||0,w||10,p||"be"))}typeof t=="object"?t.exports=n:e.BN=n,n.BN=n,n.wordSize=26;var s;try{s=mi().Buffer}catch{}n.isBN=function(w){return w instanceof n?!0:w!==null&&typeof w=="object"&&w.constructor.wordSize===n.wordSize&&Array.isArray(w.words)},n.max=function(w,p){return w.cmp(p)>0?w:p},n.min=function(w,p){return w.cmp(p)<0?w:p},n.prototype._init=function(w,p,_){if(typeof w=="number")return this._initNumber(w,p,_);if(typeof w=="object")return this._initArray(w,p,_);p==="hex"&&(p=16),r(p===(p|0)&&p>=2&&p<=36),w=w.toString().replace(/\s+/g,"");var g=0;w[0]==="-"&&g++,p===16?this._parseHex(w,g):this._parseBase(w,p,g),w[0]==="-"&&(this.negative=1),this.strip(),_==="le"&&this._initArray(this.toArray(),p,_)},n.prototype._initNumber=function(w,p,_){w<0&&(this.negative=1,w=-w),w<67108864?(this.words=[w&67108863],this.length=1):w<4503599627370496?(this.words=[w&67108863,w/67108864&67108863],this.length=2):(r(w<9007199254740992),this.words=[w&67108863,w/67108864&67108863,1],this.length=3),_==="le"&&this._initArray(this.toArray(),p,_)},n.prototype._initArray=function(w,p,_){if(r(typeof w.length=="number"),w.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(w.length/3),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var a,c,m=0;if(_==="be")for(g=w.length-1,a=0;g>=0;g-=3)c=w[g]|w[g-1]<<8|w[g-2]<<16,this.words[a]|=c<<m&67108863,this.words[a+1]=c>>>26-m&67108863,m+=24,m>=26&&(m-=26,a++);else if(_==="le")for(g=0,a=0;g<w.length;g+=3)c=w[g]|w[g+1]<<8|w[g+2]<<16,this.words[a]|=c<<m&67108863,this.words[a+1]=c>>>26-m&67108863,m+=24,m>=26&&(m-=26,a++);return this.strip()};function o(P,w,p){for(var _=0,g=Math.min(P.length,p),a=w;a<g;a++){var c=P.charCodeAt(a)-48;_<<=4,c>=49&&c<=54?_|=c-49+10:c>=17&&c<=22?_|=c-17+10:_|=c&15}return _}n.prototype._parseHex=function(w,p){this.length=Math.ceil((w.length-p)/6),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var g,a,c=0;for(_=w.length-6,g=0;_>=p;_-=6)a=o(w,_,_+6),this.words[g]|=a<<c&67108863,this.words[g+1]|=a>>>26-c&4194303,c+=24,c>=26&&(c-=26,g++);_+6!==p&&(a=o(w,p,_+6),this.words[g]|=a<<c&67108863,this.words[g+1]|=a>>>26-c&4194303),this.strip()};function f(P,w,p,_){for(var g=0,a=Math.min(P.length,p),c=w;c<a;c++){var m=P.charCodeAt(c)-48;g*=_,m>=49?g+=m-49+10:m>=17?g+=m-17+10:g+=m}return g}n.prototype._parseBase=function(w,p,_){this.words=[0],this.length=1;for(var g=0,a=1;a<=67108863;a*=p)g++;g--,a=a/p|0;for(var c=w.length-_,m=c%g,v=Math.min(c,c-m)+_,u=0,d=_;d<v;d+=g)u=f(w,d,d+g,p),this.imuln(a),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(m!==0){var x=1;for(u=f(w,d,w.length,p),d=0;d<m;d++)x*=p;this.imuln(x),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}},n.prototype.copy=function(w){w.words=new Array(this.length);for(var p=0;p<this.length;p++)w.words[p]=this.words[p];w.length=this.length,w.negative=this.negative,w.red=this.red},n.prototype.clone=function(){var w=new n(null);return this.copy(w),w},n.prototype._expand=function(w){for(;this.length<w;)this.words[this.length++]=0;return this},n.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},n.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},n.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],b=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],E=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(w,p){w=w||10,p=p|0||1;var _;if(w===16||w==="hex"){_="";for(var g=0,a=0,c=0;c<this.length;c++){var m=this.words[c],v=((m<<g|a)&16777215).toString(16);a=m>>>24-g&16777215,a!==0||c!==this.length-1?_=l[6-v.length]+v+_:_=v+_,g+=2,g>=26&&(g-=26,c--)}for(a!==0&&(_=a.toString(16)+_);_.length%p!==0;)_="0"+_;return this.negative!==0&&(_="-"+_),_}if(w===(w|0)&&w>=2&&w<=36){var u=b[w],d=E[w];_="";var x=this.clone();for(x.negative=0;!x.isZero();){var A=x.modn(d).toString(w);x=x.idivn(d),x.isZero()?_=A+_:_=l[u-A.length]+A+_}for(this.isZero()&&(_="0"+_);_.length%p!==0;)_="0"+_;return this.negative!==0&&(_="-"+_),_}r(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var w=this.words[0];return this.length===2?w+=this.words[1]*67108864:this.length===3&&this.words[2]===1?w+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-w:w},n.prototype.toJSON=function(){return this.toString(16)},n.prototype.toBuffer=function(w,p){return r(typeof s<"u"),this.toArrayLike(s,w,p)},n.prototype.toArray=function(w,p){return this.toArrayLike(Array,w,p)},n.prototype.toArrayLike=function(w,p,_){var g=this.byteLength(),a=_||Math.max(1,g);r(g<=a,"byte array longer than desired length"),r(a>0,"Requested array length <= 0"),this.strip();var c=p==="le",m=new w(a),v,u,d=this.clone();if(c){for(u=0;!d.isZero();u++)v=d.andln(255),d.iushrn(8),m[u]=v;for(;u<a;u++)m[u]=0}else{for(u=0;u<a-g;u++)m[u]=0;for(u=0;!d.isZero();u++)v=d.andln(255),d.iushrn(8),m[a-u-1]=v}return m},Math.clz32?n.prototype._countBits=function(w){return 32-Math.clz32(w)}:n.prototype._countBits=function(w){var p=w,_=0;return p>=4096&&(_+=13,p>>>=13),p>=64&&(_+=7,p>>>=7),p>=8&&(_+=4,p>>>=4),p>=2&&(_+=2,p>>>=2),_+p},n.prototype._zeroBits=function(w){if(w===0)return 26;var p=w,_=0;return(p&8191)===0&&(_+=13,p>>>=13),(p&127)===0&&(_+=7,p>>>=7),(p&15)===0&&(_+=4,p>>>=4),(p&3)===0&&(_+=2,p>>>=2),(p&1)===0&&_++,_},n.prototype.bitLength=function(){var w=this.words[this.length-1],p=this._countBits(w);return(this.length-1)*26+p};function C(P){for(var w=new Array(P.bitLength()),p=0;p<w.length;p++){var _=p/26|0,g=p%26;w[p]=(P.words[_]&1<<g)>>>g}return w}n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var w=0,p=0;p<this.length;p++){var _=this._zeroBits(this.words[p]);if(w+=_,_!==26)break}return w},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(w){return this.negative!==0?this.abs().inotn(w).iaddn(1):this.clone()},n.prototype.fromTwos=function(w){return this.testn(w-1)?this.notn(w).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return this.negative!==0},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(w){for(;this.length<w.length;)this.words[this.length++]=0;for(var p=0;p<w.length;p++)this.words[p]=this.words[p]|w.words[p];return this.strip()},n.prototype.ior=function(w){return r((this.negative|w.negative)===0),this.iuor(w)},n.prototype.or=function(w){return this.length>w.length?this.clone().ior(w):w.clone().ior(this)},n.prototype.uor=function(w){return this.length>w.length?this.clone().iuor(w):w.clone().iuor(this)},n.prototype.iuand=function(w){var p;this.length>w.length?p=w:p=this;for(var _=0;_<p.length;_++)this.words[_]=this.words[_]&w.words[_];return this.length=p.length,this.strip()},n.prototype.iand=function(w){return r((this.negative|w.negative)===0),this.iuand(w)},n.prototype.and=function(w){return this.length>w.length?this.clone().iand(w):w.clone().iand(this)},n.prototype.uand=function(w){return this.length>w.length?this.clone().iuand(w):w.clone().iuand(this)},n.prototype.iuxor=function(w){var p,_;this.length>w.length?(p=this,_=w):(p=w,_=this);for(var g=0;g<_.length;g++)this.words[g]=p.words[g]^_.words[g];if(this!==p)for(;g<p.length;g++)this.words[g]=p.words[g];return this.length=p.length,this.strip()},n.prototype.ixor=function(w){return r((this.negative|w.negative)===0),this.iuxor(w)},n.prototype.xor=function(w){return this.length>w.length?this.clone().ixor(w):w.clone().ixor(this)},n.prototype.uxor=function(w){return this.length>w.length?this.clone().iuxor(w):w.clone().iuxor(this)},n.prototype.inotn=function(w){r(typeof w=="number"&&w>=0);var p=Math.ceil(w/26)|0,_=w%26;this._expand(p),_>0&&p--;for(var g=0;g<p;g++)this.words[g]=~this.words[g]&67108863;return _>0&&(this.words[g]=~this.words[g]&67108863>>26-_),this.strip()},n.prototype.notn=function(w){return this.clone().inotn(w)},n.prototype.setn=function(w,p){r(typeof w=="number"&&w>=0);var _=w/26|0,g=w%26;return this._expand(_+1),p?this.words[_]=this.words[_]|1<<g:this.words[_]=this.words[_]&~(1<<g),this.strip()},n.prototype.iadd=function(w){var p;if(this.negative!==0&&w.negative===0)return this.negative=0,p=this.isub(w),this.negative^=1,this._normSign();if(this.negative===0&&w.negative!==0)return w.negative=0,p=this.isub(w),w.negative=1,p._normSign();var _,g;this.length>w.length?(_=this,g=w):(_=w,g=this);for(var a=0,c=0;c<g.length;c++)p=(_.words[c]|0)+(g.words[c]|0)+a,this.words[c]=p&67108863,a=p>>>26;for(;a!==0&&c<_.length;c++)p=(_.words[c]|0)+a,this.words[c]=p&67108863,a=p>>>26;if(this.length=_.length,a!==0)this.words[this.length]=a,this.length++;else if(_!==this)for(;c<_.length;c++)this.words[c]=_.words[c];return this},n.prototype.add=function(w){var p;return w.negative!==0&&this.negative===0?(w.negative=0,p=this.sub(w),w.negative^=1,p):w.negative===0&&this.negative!==0?(this.negative=0,p=w.sub(this),this.negative=1,p):this.length>w.length?this.clone().iadd(w):w.clone().iadd(this)},n.prototype.isub=function(w){if(w.negative!==0){w.negative=0;var p=this.iadd(w);return w.negative=1,p._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(w),this.negative=1,this._normSign();var _=this.cmp(w);if(_===0)return this.negative=0,this.length=1,this.words[0]=0,this;var g,a;_>0?(g=this,a=w):(g=w,a=this);for(var c=0,m=0;m<a.length;m++)p=(g.words[m]|0)-(a.words[m]|0)+c,c=p>>26,this.words[m]=p&67108863;for(;c!==0&&m<g.length;m++)p=(g.words[m]|0)+c,c=p>>26,this.words[m]=p&67108863;if(c===0&&m<g.length&&g!==this)for(;m<g.length;m++)this.words[m]=g.words[m];return this.length=Math.max(this.length,m),g!==this&&(this.negative=1),this.strip()},n.prototype.sub=function(w){return this.clone().isub(w)};function N(P,w,p){p.negative=w.negative^P.negative;var _=P.length+w.length|0;p.length=_,_=_-1|0;var g=P.words[0]|0,a=w.words[0]|0,c=g*a,m=c&67108863,v=c/67108864|0;p.words[0]=m;for(var u=1;u<_;u++){for(var d=v>>>26,x=v&67108863,A=Math.min(u,w.length-1),h=Math.max(0,u-P.length+1);h<=A;h++){var S=u-h|0;g=P.words[S]|0,a=w.words[h]|0,c=g*a+x,d+=c/67108864|0,x=c&67108863}p.words[u]=x|0,v=d|0}return v!==0?p.words[u]=v|0:p.length--,p.strip()}var L=function(w,p,_){var g=w.words,a=p.words,c=_.words,m=0,v,u,d,x=g[0]|0,A=x&8191,h=x>>>13,S=g[1]|0,K=S&8191,T=S>>>13,k=g[2]|0,z=k&8191,O=k>>>13,B=g[3]|0,q=B&8191,U=B>>>13,F=g[4]|0,Y=F&8191,j=F>>>13,H=g[5]|0,te=H&8191,J=H>>>13,X=g[6]|0,ae=X&8191,se=X>>>13,ue=g[7]|0,je=ue&8191,de=ue>>>13,me=g[8]|0,He=me&8191,le=me>>>13,Me=g[9]|0,nt=Me&8191,ye=Me>>>13,Te=a[0]|0,Ye=Te&8191,ge=Te>>>13,Ce=a[1]|0,$e=Ce&8191,pe=Ce>>>13,Be=a[2]|0,ht=Be&8191,be=Be>>>13,De=a[3]|0,lt=De&8191,we=De>>>13,Re=a[4]|0,dt=Re&8191,_e=Re>>>13,Pe=a[5]|0,pt=Pe&8191,xe=Pe>>>13,Le=a[6]|0,gt=Le&8191,Ee=Le>>>13,qe=a[7]|0,vt=qe&8191,Ae=qe>>>13,Fe=a[8]|0,yt=Fe&8191,Se=Fe>>>13,Ue=a[9]|0,mt=Ue&8191,Ie=Ue>>>13;_.negative=w.negative^p.negative,_.length=19,v=Math.imul(A,Ye),u=Math.imul(A,ge),u=u+Math.imul(h,Ye)|0,d=Math.imul(h,ge);var Ne=(m+v|0)+((u&8191)<<13)|0;m=(d+(u>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,v=Math.imul(K,Ye),u=Math.imul(K,ge),u=u+Math.imul(T,Ye)|0,d=Math.imul(T,ge),v=v+Math.imul(A,$e)|0,u=u+Math.imul(A,pe)|0,u=u+Math.imul(h,$e)|0,d=d+Math.imul(h,pe)|0;var gr=(m+v|0)+((u&8191)<<13)|0;m=(d+(u>>>13)|0)+(gr>>>26)|0,gr&=67108863,v=Math.imul(z,Ye),u=Math.imul(z,ge),u=u+Math.imul(O,Ye)|0,d=Math.imul(O,ge),v=v+Math.imul(K,$e)|0,u=u+Math.imul(K,pe)|0,u=u+Math.imul(T,$e)|0,d=d+Math.imul(T,pe)|0,v=v+Math.imul(A,ht)|0,u=u+Math.imul(A,be)|0,u=u+Math.imul(h,ht)|0,d=d+Math.imul(h,be)|0;var Ge=(m+v|0)+((u&8191)<<13)|0;m=(d+(u>>>13)|0)+(Ge>>>26)|0,Ge&=67108863,v=Math.imul(q,Ye),u=Math.imul(q,ge),u=u+Math.imul(U,Ye)|0,d=Math.imul(U,ge),v=v+Math.imul(z,$e)|0,u=u+Math.imul(z,pe)|0,u=u+Math.imul(O,$e)|0,d=d+Math.imul(O,pe)|0,v=v+Math.imul(K,ht)|0,u=u+Math.imul(K,be)|0,u=u+Math.imul(T,ht)|0,d=d+Math.imul(T,be)|0,v=v+Math.imul(A,lt)|0,u=u+Math.imul(A,we)|0,u=u+Math.imul(h,lt)|0,d=d+Math.imul(h,we)|0;var Qe=(m+v|0)+((u&8191)<<13)|0;m=(d+(u>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,v=Math.imul(Y,Ye),u=Math.imul(Y,ge),u=u+Math.imul(j,Ye)|0,d=Math.imul(j,ge),v=v+Math.imul(q,$e)|0,u=u+Math.imul(q,pe)|0,u=u+Math.imul(U,$e)|0,d=d+Math.imul(U,pe)|0,v=v+Math.imul(z,ht)|0,u=u+Math.imul(z,be)|0,u=u+Math.imul(O,ht)|0,d=d+Math.imul(O,be)|0,v=v+Math.imul(K,lt)|0,u=u+Math.imul(K,we)|0,u=u+Math.imul(T,lt)|0,d=d+Math.imul(T,we)|0,v=v+Math.imul(A,dt)|0,u=u+Math.imul(A,_e)|0,u=u+Math.imul(h,dt)|0,d=d+Math.imul(h,_e)|0;var tr=(m+v|0)+((u&8191)<<13)|0;m=(d+(u>>>13)|0)+(tr>>>26)|0,tr&=67108863,v=Math.imul(te,Ye),u=Math.imul(te,ge),u=u+Math.imul(J,Ye)|0,d=Math.imul(J,ge),v=v+Math.imul(Y,$e)|0,u=u+Math.imul(Y,pe)|0,u=u+Math.imul(j,$e)|0,d=d+Math.imul(j,pe)|0,v=v+Math.imul(q,ht)|0,u=u+Math.imul(q,be)|0,u=u+Math.imul(U,ht)|0,d=d+Math.imul(U,be)|0,v=v+Math.imul(z,lt)|0,u=u+Math.imul(z,we)|0,u=u+Math.imul(O,lt)|0,d=d+Math.imul(O,we)|0,v=v+Math.imul(K,dt)|0,u=u+Math.imul(K,_e)|0,u=u+Math.imul(T,dt)|0,d=d+Math.imul(T,_e)|0,v=v+Math.imul(A,pt)|0,u=u+Math.imul(A,xe)|0,u=u+Math.imul(h,pt)|0,d=d+Math.imul(h,xe)|0;var rr=(m+v|0)+((u&8191)<<13)|0;m=(d+(u>>>13)|0)+(rr>>>26)|0,rr&=67108863,v=Math.imul(ae,Ye),u=Math.imul(ae,ge),u=u+Math.imul(se,Ye)|0,d=Math.imul(se,ge),v=v+Math.imul(te,$e)|0,u=u+Math.imul(te,pe)|0,u=u+Math.imul(J,$e)|0,d=d+Math.imul(J,pe)|0,v=v+Math.imul(Y,ht)|0,u=u+Math.imul(Y,be)|0,u=u+Math.imul(j,ht)|0,d=d+Math.imul(j,be)|0,v=v+Math.imul(q,lt)|0,u=u+Math.imul(q,we)|0,u=u+Math.imul(U,lt)|0,d=d+Math.imul(U,we)|0,v=v+Math.imul(z,dt)|0,u=u+Math.imul(z,_e)|0,u=u+Math.imul(O,dt)|0,d=d+Math.imul(O,_e)|0,v=v+Math.imul(K,pt)|0,u=u+Math.imul(K,xe)|0,u=u+Math.imul(T,pt)|0,d=d+Math.imul(T,xe)|0,v=v+Math.imul(A,gt)|0,u=u+Math.imul(A,Ee)|0,u=u+Math.imul(h,gt)|0,d=d+Math.imul(h,Ee)|0;var ir=(m+v|0)+((u&8191)<<13)|0;m=(d+(u>>>13)|0)+(ir>>>26)|0,ir&=67108863,v=Math.imul(je,Ye),u=Math.imul(je,ge),u=u+Math.imul(de,Ye)|0,d=Math.imul(de,ge),v=v+Math.imul(ae,$e)|0,u=u+Math.imul(ae,pe)|0,u=u+Math.imul(se,$e)|0,d=d+Math.imul(se,pe)|0,v=v+Math.imul(te,ht)|0,u=u+Math.imul(te,be)|0,u=u+Math.imul(J,ht)|0,d=d+Math.imul(J,be)|0,v=v+Math.imul(Y,lt)|0,u=u+Math.imul(Y,we)|0,u=u+Math.imul(j,lt)|0,d=d+Math.imul(j,we)|0,v=v+Math.imul(q,dt)|0,u=u+Math.imul(q,_e)|0,u=u+Math.imul(U,dt)|0,d=d+Math.imul(U,_e)|0,v=v+Math.imul(z,pt)|0,u=u+Math.imul(z,xe)|0,u=u+Math.imul(O,pt)|0,d=d+Math.imul(O,xe)|0,v=v+Math.imul(K,gt)|0,u=u+Math.imul(K,Ee)|0,u=u+Math.imul(T,gt)|0,d=d+Math.imul(T,Ee)|0,v=v+Math.imul(A,vt)|0,u=u+Math.imul(A,Ae)|0,u=u+Math.imul(h,vt)|0,d=d+Math.imul(h,Ae)|0;var nr=(m+v|0)+((u&8191)<<13)|0;m=(d+(u>>>13)|0)+(nr>>>26)|0,nr&=67108863,v=Math.imul(He,Ye),u=Math.imul(He,ge),u=u+Math.imul(le,Ye)|0,d=Math.imul(le,ge),v=v+Math.imul(je,$e)|0,u=u+Math.imul(je,pe)|0,u=u+Math.imul(de,$e)|0,d=d+Math.imul(de,pe)|0,v=v+Math.imul(ae,ht)|0,u=u+Math.imul(ae,be)|0,u=u+Math.imul(se,ht)|0,d=d+Math.imul(se,be)|0,v=v+Math.imul(te,lt)|0,u=u+Math.imul(te,we)|0,u=u+Math.imul(J,lt)|0,d=d+Math.imul(J,we)|0,v=v+Math.imul(Y,dt)|0,u=u+Math.imul(Y,_e)|0,u=u+Math.imul(j,dt)|0,d=d+Math.imul(j,_e)|0,v=v+Math.imul(q,pt)|0,u=u+Math.imul(q,xe)|0,u=u+Math.imul(U,pt)|0,d=d+Math.imul(U,xe)|0,v=v+Math.imul(z,gt)|0,u=u+Math.imul(z,Ee)|0,u=u+Math.imul(O,gt)|0,d=d+Math.imul(O,Ee)|0,v=v+Math.imul(K,vt)|0,u=u+Math.imul(K,Ae)|0,u=u+Math.imul(T,vt)|0,d=d+Math.imul(T,Ae)|0,v=v+Math.imul(A,yt)|0,u=u+Math.imul(A,Se)|0,u=u+Math.imul(h,yt)|0,d=d+Math.imul(h,Se)|0;var sr=(m+v|0)+((u&8191)<<13)|0;m=(d+(u>>>13)|0)+(sr>>>26)|0,sr&=67108863,v=Math.imul(nt,Ye),u=Math.imul(nt,ge),u=u+Math.imul(ye,Ye)|0,d=Math.imul(ye,ge),v=v+Math.imul(He,$e)|0,u=u+Math.imul(He,pe)|0,u=u+Math.imul(le,$e)|0,d=d+Math.imul(le,pe)|0,v=v+Math.imul(je,ht)|0,u=u+Math.imul(je,be)|0,u=u+Math.imul(de,ht)|0,d=d+Math.imul(de,be)|0,v=v+Math.imul(ae,lt)|0,u=u+Math.imul(ae,we)|0,u=u+Math.imul(se,lt)|0,d=d+Math.imul(se,we)|0,v=v+Math.imul(te,dt)|0,u=u+Math.imul(te,_e)|0,u=u+Math.imul(J,dt)|0,d=d+Math.imul(J,_e)|0,v=v+Math.imul(Y,pt)|0,u=u+Math.imul(Y,xe)|0,u=u+Math.imul(j,pt)|0,d=d+Math.imul(j,xe)|0,v=v+Math.imul(q,gt)|0,u=u+Math.imul(q,Ee)|0,u=u+Math.imul(U,gt)|0,d=d+Math.imul(U,Ee)|0,v=v+Math.imul(z,vt)|0,u=u+Math.imul(z,Ae)|0,u=u+Math.imul(O,vt)|0,d=d+Math.imul(O,Ae)|0,v=v+Math.imul(K,yt)|0,u=u+Math.imul(K,Se)|0,u=u+Math.imul(T,yt)|0,d=d+Math.imul(T,Se)|0,v=v+Math.imul(A,mt)|0,u=u+Math.imul(A,Ie)|0,u=u+Math.imul(h,mt)|0,d=d+Math.imul(h,Ie)|0;var ri=(m+v|0)+((u&8191)<<13)|0;m=(d+(u>>>13)|0)+(ri>>>26)|0,ri&=67108863,v=Math.imul(nt,$e),u=Math.imul(nt,pe),u=u+Math.imul(ye,$e)|0,d=Math.imul(ye,pe),v=v+Math.imul(He,ht)|0,u=u+Math.imul(He,be)|0,u=u+Math.imul(le,ht)|0,d=d+Math.imul(le,be)|0,v=v+Math.imul(je,lt)|0,u=u+Math.imul(je,we)|0,u=u+Math.imul(de,lt)|0,d=d+Math.imul(de,we)|0,v=v+Math.imul(ae,dt)|0,u=u+Math.imul(ae,_e)|0,u=u+Math.imul(se,dt)|0,d=d+Math.imul(se,_e)|0,v=v+Math.imul(te,pt)|0,u=u+Math.imul(te,xe)|0,u=u+Math.imul(J,pt)|0,d=d+Math.imul(J,xe)|0,v=v+Math.imul(Y,gt)|0,u=u+Math.imul(Y,Ee)|0,u=u+Math.imul(j,gt)|0,d=d+Math.imul(j,Ee)|0,v=v+Math.imul(q,vt)|0,u=u+Math.imul(q,Ae)|0,u=u+Math.imul(U,vt)|0,d=d+Math.imul(U,Ae)|0,v=v+Math.imul(z,yt)|0,u=u+Math.imul(z,Se)|0,u=u+Math.imul(O,yt)|0,d=d+Math.imul(O,Se)|0,v=v+Math.imul(K,mt)|0,u=u+Math.imul(K,Ie)|0,u=u+Math.imul(T,mt)|0,d=d+Math.imul(T,Ie)|0;var ii=(m+v|0)+((u&8191)<<13)|0;m=(d+(u>>>13)|0)+(ii>>>26)|0,ii&=67108863,v=Math.imul(nt,ht),u=Math.imul(nt,be),u=u+Math.imul(ye,ht)|0,d=Math.imul(ye,be),v=v+Math.imul(He,lt)|0,u=u+Math.imul(He,we)|0,u=u+Math.imul(le,lt)|0,d=d+Math.imul(le,we)|0,v=v+Math.imul(je,dt)|0,u=u+Math.imul(je,_e)|0,u=u+Math.imul(de,dt)|0,d=d+Math.imul(de,_e)|0,v=v+Math.imul(ae,pt)|0,u=u+Math.imul(ae,xe)|0,u=u+Math.imul(se,pt)|0,d=d+Math.imul(se,xe)|0,v=v+Math.imul(te,gt)|0,u=u+Math.imul(te,Ee)|0,u=u+Math.imul(J,gt)|0,d=d+Math.imul(J,Ee)|0,v=v+Math.imul(Y,vt)|0,u=u+Math.imul(Y,Ae)|0,u=u+Math.imul(j,vt)|0,d=d+Math.imul(j,Ae)|0,v=v+Math.imul(q,yt)|0,u=u+Math.imul(q,Se)|0,u=u+Math.imul(U,yt)|0,d=d+Math.imul(U,Se)|0,v=v+Math.imul(z,mt)|0,u=u+Math.imul(z,Ie)|0,u=u+Math.imul(O,mt)|0,d=d+Math.imul(O,Ie)|0;var ni=(m+v|0)+((u&8191)<<13)|0;m=(d+(u>>>13)|0)+(ni>>>26)|0,ni&=67108863,v=Math.imul(nt,lt),u=Math.imul(nt,we),u=u+Math.imul(ye,lt)|0,d=Math.imul(ye,we),v=v+Math.imul(He,dt)|0,u=u+Math.imul(He,_e)|0,u=u+Math.imul(le,dt)|0,d=d+Math.imul(le,_e)|0,v=v+Math.imul(je,pt)|0,u=u+Math.imul(je,xe)|0,u=u+Math.imul(de,pt)|0,d=d+Math.imul(de,xe)|0,v=v+Math.imul(ae,gt)|0,u=u+Math.imul(ae,Ee)|0,u=u+Math.imul(se,gt)|0,d=d+Math.imul(se,Ee)|0,v=v+Math.imul(te,vt)|0,u=u+Math.imul(te,Ae)|0,u=u+Math.imul(J,vt)|0,d=d+Math.imul(J,Ae)|0,v=v+Math.imul(Y,yt)|0,u=u+Math.imul(Y,Se)|0,u=u+Math.imul(j,yt)|0,d=d+Math.imul(j,Se)|0,v=v+Math.imul(q,mt)|0,u=u+Math.imul(q,Ie)|0,u=u+Math.imul(U,mt)|0,d=d+Math.imul(U,Ie)|0;var si=(m+v|0)+((u&8191)<<13)|0;m=(d+(u>>>13)|0)+(si>>>26)|0,si&=67108863,v=Math.imul(nt,dt),u=Math.imul(nt,_e),u=u+Math.imul(ye,dt)|0,d=Math.imul(ye,_e),v=v+Math.imul(He,pt)|0,u=u+Math.imul(He,xe)|0,u=u+Math.imul(le,pt)|0,d=d+Math.imul(le,xe)|0,v=v+Math.imul(je,gt)|0,u=u+Math.imul(je,Ee)|0,u=u+Math.imul(de,gt)|0,d=d+Math.imul(de,Ee)|0,v=v+Math.imul(ae,vt)|0,u=u+Math.imul(ae,Ae)|0,u=u+Math.imul(se,vt)|0,d=d+Math.imul(se,Ae)|0,v=v+Math.imul(te,yt)|0,u=u+Math.imul(te,Se)|0,u=u+Math.imul(J,yt)|0,d=d+Math.imul(J,Se)|0,v=v+Math.imul(Y,mt)|0,u=u+Math.imul(Y,Ie)|0,u=u+Math.imul(j,mt)|0,d=d+Math.imul(j,Ie)|0;var oi=(m+v|0)+((u&8191)<<13)|0;m=(d+(u>>>13)|0)+(oi>>>26)|0,oi&=67108863,v=Math.imul(nt,pt),u=Math.imul(nt,xe),u=u+Math.imul(ye,pt)|0,d=Math.imul(ye,xe),v=v+Math.imul(He,gt)|0,u=u+Math.imul(He,Ee)|0,u=u+Math.imul(le,gt)|0,d=d+Math.imul(le,Ee)|0,v=v+Math.imul(je,vt)|0,u=u+Math.imul(je,Ae)|0,u=u+Math.imul(de,vt)|0,d=d+Math.imul(de,Ae)|0,v=v+Math.imul(ae,yt)|0,u=u+Math.imul(ae,Se)|0,u=u+Math.imul(se,yt)|0,d=d+Math.imul(se,Se)|0,v=v+Math.imul(te,mt)|0,u=u+Math.imul(te,Ie)|0,u=u+Math.imul(J,mt)|0,d=d+Math.imul(J,Ie)|0;var ai=(m+v|0)+((u&8191)<<13)|0;m=(d+(u>>>13)|0)+(ai>>>26)|0,ai&=67108863,v=Math.imul(nt,gt),u=Math.imul(nt,Ee),u=u+Math.imul(ye,gt)|0,d=Math.imul(ye,Ee),v=v+Math.imul(He,vt)|0,u=u+Math.imul(He,Ae)|0,u=u+Math.imul(le,vt)|0,d=d+Math.imul(le,Ae)|0,v=v+Math.imul(je,yt)|0,u=u+Math.imul(je,Se)|0,u=u+Math.imul(de,yt)|0,d=d+Math.imul(de,Se)|0,v=v+Math.imul(ae,mt)|0,u=u+Math.imul(ae,Ie)|0,u=u+Math.imul(se,mt)|0,d=d+Math.imul(se,Ie)|0;var fi=(m+v|0)+((u&8191)<<13)|0;m=(d+(u>>>13)|0)+(fi>>>26)|0,fi&=67108863,v=Math.imul(nt,vt),u=Math.imul(nt,Ae),u=u+Math.imul(ye,vt)|0,d=Math.imul(ye,Ae),v=v+Math.imul(He,yt)|0,u=u+Math.imul(He,Se)|0,u=u+Math.imul(le,yt)|0,d=d+Math.imul(le,Se)|0,v=v+Math.imul(je,mt)|0,u=u+Math.imul(je,Ie)|0,u=u+Math.imul(de,mt)|0,d=d+Math.imul(de,Ie)|0;var ui=(m+v|0)+((u&8191)<<13)|0;m=(d+(u>>>13)|0)+(ui>>>26)|0,ui&=67108863,v=Math.imul(nt,yt),u=Math.imul(nt,Se),u=u+Math.imul(ye,yt)|0,d=Math.imul(ye,Se),v=v+Math.imul(He,mt)|0,u=u+Math.imul(He,Ie)|0,u=u+Math.imul(le,mt)|0,d=d+Math.imul(le,Ie)|0;var ci=(m+v|0)+((u&8191)<<13)|0;m=(d+(u>>>13)|0)+(ci>>>26)|0,ci&=67108863,v=Math.imul(nt,mt),u=Math.imul(nt,Ie),u=u+Math.imul(ye,mt)|0,d=Math.imul(ye,Ie);var hi=(m+v|0)+((u&8191)<<13)|0;return m=(d+(u>>>13)|0)+(hi>>>26)|0,hi&=67108863,c[0]=Ne,c[1]=gr,c[2]=Ge,c[3]=Qe,c[4]=tr,c[5]=rr,c[6]=ir,c[7]=nr,c[8]=sr,c[9]=ri,c[10]=ii,c[11]=ni,c[12]=si,c[13]=oi,c[14]=ai,c[15]=fi,c[16]=ui,c[17]=ci,c[18]=hi,m!==0&&(c[19]=m,_.length++),_};Math.imul||(L=N);function R(P,w,p){p.negative=w.negative^P.negative,p.length=P.length+w.length;for(var _=0,g=0,a=0;a<p.length-1;a++){var c=g;g=0;for(var m=_&67108863,v=Math.min(a,w.length-1),u=Math.max(0,a-P.length+1);u<=v;u++){var d=a-u,x=P.words[d]|0,A=w.words[u]|0,h=x*A,S=h&67108863;c=c+(h/67108864|0)|0,S=S+m|0,m=S&67108863,c=c+(S>>>26)|0,g+=c>>>26,c&=67108863}p.words[a]=m,_=c,c=g}return _!==0?p.words[a]=_:p.length--,p.strip()}function V(P,w,p){var _=new W;return _.mulp(P,w,p)}n.prototype.mulTo=function(w,p){var _,g=this.length+w.length;return this.length===10&&w.length===10?_=L(this,w,p):g<63?_=N(this,w,p):g<1024?_=R(this,w,p):_=V(this,w,p),_};function W(P,w){this.x=P,this.y=w}W.prototype.makeRBT=function(w){for(var p=new Array(w),_=n.prototype._countBits(w)-1,g=0;g<w;g++)p[g]=this.revBin(g,_,w);return p},W.prototype.revBin=function(w,p,_){if(w===0||w===_-1)return w;for(var g=0,a=0;a<p;a++)g|=(w&1)<<p-a-1,w>>=1;return g},W.prototype.permute=function(w,p,_,g,a,c){for(var m=0;m<c;m++)g[m]=p[w[m]],a[m]=_[w[m]]},W.prototype.transform=function(w,p,_,g,a,c){this.permute(c,w,p,_,g,a);for(var m=1;m<a;m<<=1)for(var v=m<<1,u=Math.cos(2*Math.PI/v),d=Math.sin(2*Math.PI/v),x=0;x<a;x+=v)for(var A=u,h=d,S=0;S<m;S++){var K=_[x+S],T=g[x+S],k=_[x+S+m],z=g[x+S+m],O=A*k-h*z;z=A*z+h*k,k=O,_[x+S]=K+k,g[x+S]=T+z,_[x+S+m]=K-k,g[x+S+m]=T-z,S!==v&&(O=u*A-d*h,h=u*h+d*A,A=O)}},W.prototype.guessLen13b=function(w,p){var _=Math.max(p,w)|1,g=_&1,a=0;for(_=_/2|0;_;_=_>>>1)a++;return 1<<a+1+g},W.prototype.conjugate=function(w,p,_){if(!(_<=1))for(var g=0;g<_/2;g++){var a=w[g];w[g]=w[_-g-1],w[_-g-1]=a,a=p[g],p[g]=-p[_-g-1],p[_-g-1]=-a}},W.prototype.normalize13b=function(w,p){for(var _=0,g=0;g<p/2;g++){var a=Math.round(w[2*g+1]/p)*8192+Math.round(w[2*g]/p)+_;w[g]=a&67108863,a<67108864?_=0:_=a/67108864|0}return w},W.prototype.convert13b=function(w,p,_,g){for(var a=0,c=0;c<p;c++)a=a+(w[c]|0),_[2*c]=a&8191,a=a>>>13,_[2*c+1]=a&8191,a=a>>>13;for(c=2*p;c<g;++c)_[c]=0;r(a===0),r((a&-8192)===0)},W.prototype.stub=function(w){for(var p=new Array(w),_=0;_<w;_++)p[_]=0;return p},W.prototype.mulp=function(w,p,_){var g=2*this.guessLen13b(w.length,p.length),a=this.makeRBT(g),c=this.stub(g),m=new Array(g),v=new Array(g),u=new Array(g),d=new Array(g),x=new Array(g),A=new Array(g),h=_.words;h.length=g,this.convert13b(w.words,w.length,m,g),this.convert13b(p.words,p.length,d,g),this.transform(m,c,v,u,g,a),this.transform(d,c,x,A,g,a);for(var S=0;S<g;S++){var K=v[S]*x[S]-u[S]*A[S];u[S]=v[S]*A[S]+u[S]*x[S],v[S]=K}return this.conjugate(v,u,g),this.transform(v,u,h,c,g,a),this.conjugate(h,c,g),this.normalize13b(h,g),_.negative=w.negative^p.negative,_.length=w.length+p.length,_.strip()},n.prototype.mul=function(w){var p=new n(null);return p.words=new Array(this.length+w.length),this.mulTo(w,p)},n.prototype.mulf=function(w){var p=new n(null);return p.words=new Array(this.length+w.length),V(this,w,p)},n.prototype.imul=function(w){return this.clone().mulTo(w,this)},n.prototype.imuln=function(w){r(typeof w=="number"),r(w<67108864);for(var p=0,_=0;_<this.length;_++){var g=(this.words[_]|0)*w,a=(g&67108863)+(p&67108863);p>>=26,p+=g/67108864|0,p+=a>>>26,this.words[_]=a&67108863}return p!==0&&(this.words[_]=p,this.length++),this},n.prototype.muln=function(w){return this.clone().imuln(w)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(w){var p=C(w);if(p.length===0)return new n(1);for(var _=this,g=0;g<p.length&&p[g]===0;g++,_=_.sqr());if(++g<p.length)for(var a=_.sqr();g<p.length;g++,a=a.sqr())p[g]!==0&&(_=_.mul(a));return _},n.prototype.iushln=function(w){r(typeof w=="number"&&w>=0);var p=w%26,_=(w-p)/26,g=67108863>>>26-p<<26-p,a;if(p!==0){var c=0;for(a=0;a<this.length;a++){var m=this.words[a]&g,v=(this.words[a]|0)-m<<p;this.words[a]=v|c,c=m>>>26-p}c&&(this.words[a]=c,this.length++)}if(_!==0){for(a=this.length-1;a>=0;a--)this.words[a+_]=this.words[a];for(a=0;a<_;a++)this.words[a]=0;this.length+=_}return this.strip()},n.prototype.ishln=function(w){return r(this.negative===0),this.iushln(w)},n.prototype.iushrn=function(w,p,_){r(typeof w=="number"&&w>=0);var g;p?g=(p-p%26)/26:g=0;var a=w%26,c=Math.min((w-a)/26,this.length),m=67108863^67108863>>>a<<a,v=_;if(g-=c,g=Math.max(0,g),v){for(var u=0;u<c;u++)v.words[u]=this.words[u];v.length=c}if(c!==0)if(this.length>c)for(this.length-=c,u=0;u<this.length;u++)this.words[u]=this.words[u+c];else this.words[0]=0,this.length=1;var d=0;for(u=this.length-1;u>=0&&(d!==0||u>=g);u--){var x=this.words[u]|0;this.words[u]=d<<26-a|x>>>a,d=x&m}return v&&d!==0&&(v.words[v.length++]=d),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},n.prototype.ishrn=function(w,p,_){return r(this.negative===0),this.iushrn(w,p,_)},n.prototype.shln=function(w){return this.clone().ishln(w)},n.prototype.ushln=function(w){return this.clone().iushln(w)},n.prototype.shrn=function(w){return this.clone().ishrn(w)},n.prototype.ushrn=function(w){return this.clone().iushrn(w)},n.prototype.testn=function(w){r(typeof w=="number"&&w>=0);var p=w%26,_=(w-p)/26,g=1<<p;if(this.length<=_)return!1;var a=this.words[_];return!!(a&g)},n.prototype.imaskn=function(w){r(typeof w=="number"&&w>=0);var p=w%26,_=(w-p)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=_)return this;if(p!==0&&_++,this.length=Math.min(_,this.length),p!==0){var g=67108863^67108863>>>p<<p;this.words[this.length-1]&=g}return this.strip()},n.prototype.maskn=function(w){return this.clone().imaskn(w)},n.prototype.iaddn=function(w){return r(typeof w=="number"),r(w<67108864),w<0?this.isubn(-w):this.negative!==0?this.length===1&&(this.words[0]|0)<w?(this.words[0]=w-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(w),this.negative=1,this):this._iaddn(w)},n.prototype._iaddn=function(w){this.words[0]+=w;for(var p=0;p<this.length&&this.words[p]>=67108864;p++)this.words[p]-=67108864,p===this.length-1?this.words[p+1]=1:this.words[p+1]++;return this.length=Math.max(this.length,p+1),this},n.prototype.isubn=function(w){if(r(typeof w=="number"),r(w<67108864),w<0)return this.iaddn(-w);if(this.negative!==0)return this.negative=0,this.iaddn(w),this.negative=1,this;if(this.words[0]-=w,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var p=0;p<this.length&&this.words[p]<0;p++)this.words[p]+=67108864,this.words[p+1]-=1;return this.strip()},n.prototype.addn=function(w){return this.clone().iaddn(w)},n.prototype.subn=function(w){return this.clone().isubn(w)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(w,p,_){var g=w.length+_,a;this._expand(g);var c,m=0;for(a=0;a<w.length;a++){c=(this.words[a+_]|0)+m;var v=(w.words[a]|0)*p;c-=v&67108863,m=(c>>26)-(v/67108864|0),this.words[a+_]=c&67108863}for(;a<this.length-_;a++)c=(this.words[a+_]|0)+m,m=c>>26,this.words[a+_]=c&67108863;if(m===0)return this.strip();for(r(m===-1),m=0,a=0;a<this.length;a++)c=-(this.words[a]|0)+m,m=c>>26,this.words[a]=c&67108863;return this.negative=1,this.strip()},n.prototype._wordDiv=function(w,p){var _=this.length-w.length,g=this.clone(),a=w,c=a.words[a.length-1]|0,m=this._countBits(c);_=26-m,_!==0&&(a=a.ushln(_),g.iushln(_),c=a.words[a.length-1]|0);var v=g.length-a.length,u;if(p!=="mod"){u=new n(null),u.length=v+1,u.words=new Array(u.length);for(var d=0;d<u.length;d++)u.words[d]=0}var x=g.clone()._ishlnsubmul(a,1,v);x.negative===0&&(g=x,u&&(u.words[v]=1));for(var A=v-1;A>=0;A--){var h=(g.words[a.length+A]|0)*67108864+(g.words[a.length+A-1]|0);for(h=Math.min(h/c|0,67108863),g._ishlnsubmul(a,h,A);g.negative!==0;)h--,g.negative=0,g._ishlnsubmul(a,1,A),g.isZero()||(g.negative^=1);u&&(u.words[A]=h)}return u&&u.strip(),g.strip(),p!=="div"&&_!==0&&g.iushrn(_),{div:u||null,mod:g}},n.prototype.divmod=function(w,p,_){if(r(!w.isZero()),this.isZero())return{div:new n(0),mod:new n(0)};var g,a,c;return this.negative!==0&&w.negative===0?(c=this.neg().divmod(w,p),p!=="mod"&&(g=c.div.neg()),p!=="div"&&(a=c.mod.neg(),_&&a.negative!==0&&a.iadd(w)),{div:g,mod:a}):this.negative===0&&w.negative!==0?(c=this.divmod(w.neg(),p),p!=="mod"&&(g=c.div.neg()),{div:g,mod:c.mod}):(this.negative&w.negative)!==0?(c=this.neg().divmod(w.neg(),p),p!=="div"&&(a=c.mod.neg(),_&&a.negative!==0&&a.isub(w)),{div:c.div,mod:a}):w.length>this.length||this.cmp(w)<0?{div:new n(0),mod:this}:w.length===1?p==="div"?{div:this.divn(w.words[0]),mod:null}:p==="mod"?{div:null,mod:new n(this.modn(w.words[0]))}:{div:this.divn(w.words[0]),mod:new n(this.modn(w.words[0]))}:this._wordDiv(w,p)},n.prototype.div=function(w){return this.divmod(w,"div",!1).div},n.prototype.mod=function(w){return this.divmod(w,"mod",!1).mod},n.prototype.umod=function(w){return this.divmod(w,"mod",!0).mod},n.prototype.divRound=function(w){var p=this.divmod(w);if(p.mod.isZero())return p.div;var _=p.div.negative!==0?p.mod.isub(w):p.mod,g=w.ushrn(1),a=w.andln(1),c=_.cmp(g);return c<0||a===1&&c===0?p.div:p.div.negative!==0?p.div.isubn(1):p.div.iaddn(1)},n.prototype.modn=function(w){r(w<=67108863);for(var p=(1<<26)%w,_=0,g=this.length-1;g>=0;g--)_=(p*_+(this.words[g]|0))%w;return _},n.prototype.idivn=function(w){r(w<=67108863);for(var p=0,_=this.length-1;_>=0;_--){var g=(this.words[_]|0)+p*67108864;this.words[_]=g/w|0,p=g%w}return this.strip()},n.prototype.divn=function(w){return this.clone().idivn(w)},n.prototype.egcd=function(w){r(w.negative===0),r(!w.isZero());var p=this,_=w.clone();p.negative!==0?p=p.umod(w):p=p.clone();for(var g=new n(1),a=new n(0),c=new n(0),m=new n(1),v=0;p.isEven()&&_.isEven();)p.iushrn(1),_.iushrn(1),++v;for(var u=_.clone(),d=p.clone();!p.isZero();){for(var x=0,A=1;(p.words[0]&A)===0&&x<26;++x,A<<=1);if(x>0)for(p.iushrn(x);x-- >0;)(g.isOdd()||a.isOdd())&&(g.iadd(u),a.isub(d)),g.iushrn(1),a.iushrn(1);for(var h=0,S=1;(_.words[0]&S)===0&&h<26;++h,S<<=1);if(h>0)for(_.iushrn(h);h-- >0;)(c.isOdd()||m.isOdd())&&(c.iadd(u),m.isub(d)),c.iushrn(1),m.iushrn(1);p.cmp(_)>=0?(p.isub(_),g.isub(c),a.isub(m)):(_.isub(p),c.isub(g),m.isub(a))}return{a:c,b:m,gcd:_.iushln(v)}},n.prototype._invmp=function(w){r(w.negative===0),r(!w.isZero());var p=this,_=w.clone();p.negative!==0?p=p.umod(w):p=p.clone();for(var g=new n(1),a=new n(0),c=_.clone();p.cmpn(1)>0&&_.cmpn(1)>0;){for(var m=0,v=1;(p.words[0]&v)===0&&m<26;++m,v<<=1);if(m>0)for(p.iushrn(m);m-- >0;)g.isOdd()&&g.iadd(c),g.iushrn(1);for(var u=0,d=1;(_.words[0]&d)===0&&u<26;++u,d<<=1);if(u>0)for(_.iushrn(u);u-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);p.cmp(_)>=0?(p.isub(_),g.isub(a)):(_.isub(p),a.isub(g))}var x;return p.cmpn(1)===0?x=g:x=a,x.cmpn(0)<0&&x.iadd(w),x},n.prototype.gcd=function(w){if(this.isZero())return w.abs();if(w.isZero())return this.abs();var p=this.clone(),_=w.clone();p.negative=0,_.negative=0;for(var g=0;p.isEven()&&_.isEven();g++)p.iushrn(1),_.iushrn(1);do{for(;p.isEven();)p.iushrn(1);for(;_.isEven();)_.iushrn(1);var a=p.cmp(_);if(a<0){var c=p;p=_,_=c}else if(a===0||_.cmpn(1)===0)break;p.isub(_)}while(!0);return _.iushln(g)},n.prototype.invm=function(w){return this.egcd(w).a.umod(w)},n.prototype.isEven=function(){return(this.words[0]&1)===0},n.prototype.isOdd=function(){return(this.words[0]&1)===1},n.prototype.andln=function(w){return this.words[0]&w},n.prototype.bincn=function(w){r(typeof w=="number");var p=w%26,_=(w-p)/26,g=1<<p;if(this.length<=_)return this._expand(_+1),this.words[_]|=g,this;for(var a=g,c=_;a!==0&&c<this.length;c++){var m=this.words[c]|0;m+=a,a=m>>>26,m&=67108863,this.words[c]=m}return a!==0&&(this.words[c]=a,this.length++),this},n.prototype.isZero=function(){return this.length===1&&this.words[0]===0},n.prototype.cmpn=function(w){var p=w<0;if(this.negative!==0&&!p)return-1;if(this.negative===0&&p)return 1;this.strip();var _;if(this.length>1)_=1;else{p&&(w=-w),r(w<=67108863,"Number is too big");var g=this.words[0]|0;_=g===w?0:g<w?-1:1}return this.negative!==0?-_|0:_},n.prototype.cmp=function(w){if(this.negative!==0&&w.negative===0)return-1;if(this.negative===0&&w.negative!==0)return 1;var p=this.ucmp(w);return this.negative!==0?-p|0:p},n.prototype.ucmp=function(w){if(this.length>w.length)return 1;if(this.length<w.length)return-1;for(var p=0,_=this.length-1;_>=0;_--){var g=this.words[_]|0,a=w.words[_]|0;if(g!==a){g<a?p=-1:g>a&&(p=1);break}}return p},n.prototype.gtn=function(w){return this.cmpn(w)===1},n.prototype.gt=function(w){return this.cmp(w)===1},n.prototype.gten=function(w){return this.cmpn(w)>=0},n.prototype.gte=function(w){return this.cmp(w)>=0},n.prototype.ltn=function(w){return this.cmpn(w)===-1},n.prototype.lt=function(w){return this.cmp(w)===-1},n.prototype.lten=function(w){return this.cmpn(w)<=0},n.prototype.lte=function(w){return this.cmp(w)<=0},n.prototype.eqn=function(w){return this.cmpn(w)===0},n.prototype.eq=function(w){return this.cmp(w)===0},n.red=function(w){return new G(w)},n.prototype.toRed=function(w){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),w.convertTo(this)._forceRed(w)},n.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(w){return this.red=w,this},n.prototype.forceRed=function(w){return r(!this.red,"Already a number in reduction context"),this._forceRed(w)},n.prototype.redAdd=function(w){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,w)},n.prototype.redIAdd=function(w){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,w)},n.prototype.redSub=function(w){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,w)},n.prototype.redISub=function(w){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,w)},n.prototype.redShl=function(w){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,w)},n.prototype.redMul=function(w){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,w),this.red.mul(this,w)},n.prototype.redIMul=function(w){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,w),this.red.imul(this,w)},n.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(w){return r(this.red&&!w.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,w)};var $={k256:null,p224:null,p192:null,p25519:null};function re(P,w){this.name=P,this.p=new n(w,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}re.prototype._tmp=function(){var w=new n(null);return w.words=new Array(Math.ceil(this.n/13)),w},re.prototype.ireduce=function(w){var p=w,_;do this.split(p,this.tmp),p=this.imulK(p),p=p.iadd(this.tmp),_=p.bitLength();while(_>this.n);var g=_<this.n?-1:p.ucmp(this.p);return g===0?(p.words[0]=0,p.length=1):g>0?p.isub(this.p):p.strip(),p},re.prototype.split=function(w,p){w.iushrn(this.n,0,p)},re.prototype.imulK=function(w){return w.imul(this.k)};function ee(){re.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(ee,re),ee.prototype.split=function(w,p){for(var _=4194303,g=Math.min(w.length,9),a=0;a<g;a++)p.words[a]=w.words[a];if(p.length=g,w.length<=9){w.words[0]=0,w.length=1;return}var c=w.words[9];for(p.words[p.length++]=c&_,a=10;a<w.length;a++){var m=w.words[a]|0;w.words[a-10]=(m&_)<<4|c>>>22,c=m}c>>>=22,w.words[a-10]=c,c===0&&w.length>10?w.length-=10:w.length-=9},ee.prototype.imulK=function(w){w.words[w.length]=0,w.words[w.length+1]=0,w.length+=2;for(var p=0,_=0;_<w.length;_++){var g=w.words[_]|0;p+=g*977,w.words[_]=p&67108863,p=g*64+(p/67108864|0)}return w.words[w.length-1]===0&&(w.length--,w.words[w.length-1]===0&&w.length--),w};function ie(){re.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(ie,re);function ne(){re.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(ne,re);function Z(){re.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(Z,re),Z.prototype.imulK=function(w){for(var p=0,_=0;_<w.length;_++){var g=(w.words[_]|0)*19+p,a=g&67108863;g>>>=26,w.words[_]=a,p=g}return p!==0&&(w.words[w.length++]=p),w},n._prime=function(w){if($[w])return $[w];var p;if(w==="k256")p=new ee;else if(w==="p224")p=new ie;else if(w==="p192")p=new ne;else if(w==="p25519")p=new Z;else throw new Error("Unknown prime "+w);return $[w]=p,p};function G(P){if(typeof P=="string"){var w=n._prime(P);this.m=w.p,this.prime=w}else r(P.gtn(1),"modulus must be greater than 1"),this.m=P,this.prime=null}G.prototype._verify1=function(w){r(w.negative===0,"red works only with positives"),r(w.red,"red works only with red numbers")},G.prototype._verify2=function(w,p){r((w.negative|p.negative)===0,"red works only with positives"),r(w.red&&w.red===p.red,"red works only with red numbers")},G.prototype.imod=function(w){return this.prime?this.prime.ireduce(w)._forceRed(this):w.umod(this.m)._forceRed(this)},G.prototype.neg=function(w){return w.isZero()?w.clone():this.m.sub(w)._forceRed(this)},G.prototype.add=function(w,p){this._verify2(w,p);var _=w.add(p);return _.cmp(this.m)>=0&&_.isub(this.m),_._forceRed(this)},G.prototype.iadd=function(w,p){this._verify2(w,p);var _=w.iadd(p);return _.cmp(this.m)>=0&&_.isub(this.m),_},G.prototype.sub=function(w,p){this._verify2(w,p);var _=w.sub(p);return _.cmpn(0)<0&&_.iadd(this.m),_._forceRed(this)},G.prototype.isub=function(w,p){this._verify2(w,p);var _=w.isub(p);return _.cmpn(0)<0&&_.iadd(this.m),_},G.prototype.shl=function(w,p){return this._verify1(w),this.imod(w.ushln(p))},G.prototype.imul=function(w,p){return this._verify2(w,p),this.imod(w.imul(p))},G.prototype.mul=function(w,p){return this._verify2(w,p),this.imod(w.mul(p))},G.prototype.isqr=function(w){return this.imul(w,w.clone())},G.prototype.sqr=function(w){return this.mul(w,w)},G.prototype.sqrt=function(w){if(w.isZero())return w.clone();var p=this.m.andln(3);if(r(p%2===1),p===3){var _=this.m.add(new n(1)).iushrn(2);return this.pow(w,_)}for(var g=this.m.subn(1),a=0;!g.isZero()&&g.andln(1)===0;)a++,g.iushrn(1);r(!g.isZero());var c=new n(1).toRed(this),m=c.redNeg(),v=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new n(2*u*u).toRed(this);this.pow(u,v).cmp(m)!==0;)u.redIAdd(m);for(var d=this.pow(u,g),x=this.pow(w,g.addn(1).iushrn(1)),A=this.pow(w,g),h=a;A.cmp(c)!==0;){for(var S=A,K=0;S.cmp(c)!==0;K++)S=S.redSqr();r(K<h);var T=this.pow(d,new n(1).iushln(h-K-1));x=x.redMul(T),d=T.redSqr(),A=A.redMul(d),h=K}return x},G.prototype.invm=function(w){var p=w._invmp(this.m);return p.negative!==0?(p.negative=0,this.imod(p).redNeg()):this.imod(p)},G.prototype.pow=function(w,p){if(p.isZero())return new n(1).toRed(this);if(p.cmpn(1)===0)return w.clone();var _=4,g=new Array(1<<_);g[0]=new n(1).toRed(this),g[1]=w;for(var a=2;a<g.length;a++)g[a]=this.mul(g[a-1],w);var c=g[0],m=0,v=0,u=p.bitLength()%26;for(u===0&&(u=26),a=p.length-1;a>=0;a--){for(var d=p.words[a],x=u-1;x>=0;x--){var A=d>>x&1;if(c!==g[0]&&(c=this.sqr(c)),A===0&&m===0){v=0;continue}m<<=1,m|=A,v++,!(v!==_&&(a!==0||x!==0))&&(c=this.mul(c,g[m]),v=0,m=0)}u=26}return c},G.prototype.convertTo=function(w){var p=w.umod(this.m);return p===w?p.clone():p},G.prototype.convertFrom=function(w){var p=w.clone();return p.red=null,p},n.mont=function(w){return new Q(w)};function Q(P){G.call(this,P),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(Q,G),Q.prototype.convertTo=function(w){return this.imod(w.ushln(this.shift))},Q.prototype.convertFrom=function(w){var p=this.imod(w.mul(this.rinv));return p.red=null,p},Q.prototype.imul=function(w,p){if(w.isZero()||p.isZero())return w.words[0]=0,w.length=1,w;var _=w.imul(p),g=_.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),a=_.isub(g).iushrn(this.shift),c=a;return a.cmp(this.m)>=0?c=a.isub(this.m):a.cmpn(0)<0&&(c=a.iadd(this.m)),c._forceRed(this)},Q.prototype.mul=function(w,p){if(w.isZero()||p.isZero())return new n(0)._forceRed(this);var _=w.mul(p),g=_.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),a=_.isub(g).iushrn(this.shift),c=a;return a.cmp(this.m)>=0?c=a.isub(this.m):a.cmpn(0)<0&&(c=a.iadd(this.m)),c._forceRed(this)},Q.prototype.invm=function(w){var p=this.imod(w._invmp(this.m).mul(this.r2));return p._forceRed(this)}})(typeof m_>"u"||m_,Z9)});var w_=D((Fxe,r7)=>{y();r7.exports=b_;b_.strict=e7;b_.loose=t7;var TZ=Object.prototype.toString,OZ={"[object Int8Array]":!0,"[object Int16Array]":!0,"[object Int32Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Uint16Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0};function b_(t){return e7(t)||t7(t)}function e7(t){return t instanceof Int8Array||t instanceof Int16Array||t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Uint16Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array}function t7(t){return OZ[TZ.call(t)]}});var n7=D((kxe,i7)=>{y();var NZ=w_().strict;i7.exports=function(e){if(NZ(e)){var r=M.Buffer.from(e.buffer);return e.byteLength!==e.buffer.byteLength&&(r=r.slice(e.byteOffset,e.byteOffset+e.byteLength)),r}else return M.Buffer.from(e)}});function ws(t){return new Uint8Array(t)}function jd(t,e=!1){let r=t.toString(o7);return e?di(r):r}function k1(t){return t.toString(a7)}function aa(t){return(0,s7.default)(t)}function _s(t,e=!1){return jd(aa(t),e)}function Vd(t){return k1(aa(t))}function H1(t){return M.Buffer.from(br(t),o7)}function xs(t){return ws(H1(t))}function vh(t){return M.Buffer.from(t,a7)}function zd(t){return ws(vh(t))}function j1(t,e=!1){return jd(vh(t),e)}function V1(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}function __(...t){let e=[];return t.forEach(r=>e=e.concat(Array.from(r))),new Uint8Array([...e])}function DZ(t,e=8){let r=t%e;return r?(t-r)/e*e+e:t}function RZ(t,e=8,r=U1){return PZ(t,DZ(t.length,e),r)}function PZ(t,e,r=U1){return LZ(t,e,!0,r)}function br(t){return t.replace(/^0x/,"")}function di(t){return t.startsWith("0x")?t:`0x${t}`}function fa(t){return t=br(t),t=RZ(t,2),t&&(t=di(t)),t}function z1(t){let e=t.startsWith("0x");return t=br(t),t=t.startsWith(U1)?t.substring(1):t,e?di(t):t}function LZ(t,e,r,i=U1){let n=e-t.length,s=t;if(n>0){let o=i.repeat(n);s=r?o+t:t+o}return s}var BZ,s7,o7,a7,U1,xi=fe(()=>{y();BZ=Ve(w_()),s7=Ve(n7()),o7="hex",a7="utf8",U1="0"});function g7(t,e){return _s(new Uint8Array(t),!e)}function v7(t){return vh(t)}function y7(t,e){return j1(t,!e)}function m7(t){return xs(t).buffer}function K1(t,e){let r=br(fa(new p7.default(t).toString(16)));return e?r:di(r)}var p7,x_=fe(()=>{y();p7=Ve(Di());xi()});var Q1=D((Kxe,G1)=>{y();(function(){"use strict";var t="input is invalid type",e="finalize already called",r=typeof window=="object",i=r?window:{};i.JS_SHA3_NO_WINDOW&&(r=!1);var n=!r&&typeof self=="object",s=!i.JS_SHA3_NO_NODE_JS&&typeof I.default=="object"&&I.default.versions&&I.default.versions.node;s?i=global:n&&(i=self);var o=!i.JS_SHA3_NO_COMMON_JS&&typeof G1=="object"&&G1.exports,f=typeof define=="function"&&define.amd,l=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",b="0123456789abcdef".split(""),E=[31,7936,2031616,520093696],C=[4,1024,262144,67108864],N=[1,256,65536,16777216],L=[6,1536,393216,100663296],R=[0,8,16,24],V=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],W=[224,256,384,512],$=[128,256],re=["hex","buffer","arrayBuffer","array","digest"],ee={128:168,256:136};(i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(T){return Object.prototype.toString.call(T)==="[object Array]"}),l&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(T){return typeof T=="object"&&T.buffer&&T.buffer.constructor===ArrayBuffer});for(var ie=function(T,k,z){return function(O){return new h(T,k,T).update(O)[z]()}},ne=function(T,k,z){return function(O,B){return new h(T,k,B).update(O)[z]()}},Z=function(T,k,z){return function(O,B,q,U){return a["cshake"+T].update(O,B,q,U)[z]()}},G=function(T,k,z){return function(O,B,q,U){return a["kmac"+T].update(O,B,q,U)[z]()}},Q=function(T,k,z,O){for(var B=0;B<re.length;++B){var q=re[B];T[q]=k(z,O,q)}return T},P=function(T,k){var z=ie(T,k,"hex");return z.create=function(){return new h(T,k,T)},z.update=function(O){return z.create().update(O)},Q(z,ie,T,k)},w=function(T,k){var z=ne(T,k,"hex");return z.create=function(O){return new h(T,k,O)},z.update=function(O,B){return z.create(B).update(O)},Q(z,ne,T,k)},p=function(T,k){var z=ee[T],O=Z(T,k,"hex");return O.create=function(B,q,U){return!q&&!U?a["shake"+T].create(B):new h(T,k,B).bytepad([q,U],z)},O.update=function(B,q,U,F){return O.create(q,U,F).update(B)},Q(O,Z,T,k)},_=function(T,k){var z=ee[T],O=G(T,k,"hex");return O.create=function(B,q,U){return new S(T,k,q).bytepad(["KMAC",U],z).bytepad([B],z)},O.update=function(B,q,U,F){return O.create(B,U,F).update(q)},Q(O,G,T,k)},g=[{name:"keccak",padding:N,bits:W,createMethod:P},{name:"sha3",padding:L,bits:W,createMethod:P},{name:"shake",padding:E,bits:$,createMethod:w},{name:"cshake",padding:C,bits:$,createMethod:p},{name:"kmac",padding:C,bits:$,createMethod:_}],a={},c=[],m=0;m<g.length;++m)for(var v=g[m],u=v.bits,d=0;d<u.length;++d){var x=v.name+"_"+u[d];if(c.push(x),a[x]=v.createMethod(u[d],v.padding),v.name!=="sha3"){var A=v.name+u[d];c.push(A),a[A]=a[x]}}function h(T,k,z){this.blocks=[],this.s=[],this.padding=k,this.outputBits=z,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(T<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=z>>5,this.extraBytes=(z&31)>>3;for(var O=0;O<50;++O)this.s[O]=0}h.prototype.update=function(T){if(this.finalized)throw new Error(e);var k,z=typeof T;if(z!=="string"){if(z==="object"){if(T===null)throw new Error(t);if(l&&T.constructor===ArrayBuffer)T=new Uint8Array(T);else if(!Array.isArray(T)&&(!l||!ArrayBuffer.isView(T)))throw new Error(t)}else throw new Error(t);k=!0}for(var O=this.blocks,B=this.byteCount,q=T.length,U=this.blockCount,F=0,Y=this.s,j,H;F<q;){if(this.reset)for(this.reset=!1,O[0]=this.block,j=1;j<U+1;++j)O[j]=0;if(k)for(j=this.start;F<q&&j<B;++F)O[j>>2]|=T[F]<<R[j++&3];else for(j=this.start;F<q&&j<B;++F)H=T.charCodeAt(F),H<128?O[j>>2]|=H<<R[j++&3]:H<2048?(O[j>>2]|=(192|H>>6)<<R[j++&3],O[j>>2]|=(128|H&63)<<R[j++&3]):H<55296||H>=57344?(O[j>>2]|=(224|H>>12)<<R[j++&3],O[j>>2]|=(128|H>>6&63)<<R[j++&3],O[j>>2]|=(128|H&63)<<R[j++&3]):(H=65536+((H&1023)<<10|T.charCodeAt(++F)&1023),O[j>>2]|=(240|H>>18)<<R[j++&3],O[j>>2]|=(128|H>>12&63)<<R[j++&3],O[j>>2]|=(128|H>>6&63)<<R[j++&3],O[j>>2]|=(128|H&63)<<R[j++&3]);if(this.lastByteIndex=j,j>=B){for(this.start=j-B,this.block=O[U],j=0;j<U;++j)Y[j]^=O[j];K(Y),this.reset=!0}else this.start=j}return this},h.prototype.encode=function(T,k){var z=T&255,O=1,B=[z];for(T=T>>8,z=T&255;z>0;)B.unshift(z),T=T>>8,z=T&255,++O;return k?B.push(O):B.unshift(O),this.update(B),B.length},h.prototype.encodeString=function(T){var k,z=typeof T;if(z!=="string"){if(z==="object"){if(T===null)throw new Error(t);if(l&&T.constructor===ArrayBuffer)T=new Uint8Array(T);else if(!Array.isArray(T)&&(!l||!ArrayBuffer.isView(T)))throw new Error(t)}else throw new Error(t);k=!0}var O=0,B=T.length;if(k)O=B;else for(var q=0;q<T.length;++q){var U=T.charCodeAt(q);U<128?O+=1:U<2048?O+=2:U<55296||U>=57344?O+=3:(U=65536+((U&1023)<<10|T.charCodeAt(++q)&1023),O+=4)}return O+=this.encode(O*8),this.update(T),O},h.prototype.bytepad=function(T,k){for(var z=this.encode(k),O=0;O<T.length;++O)z+=this.encodeString(T[O]);var B=k-z%k,q=[];return q.length=B,this.update(q),this},h.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var T=this.blocks,k=this.lastByteIndex,z=this.blockCount,O=this.s;if(T[k>>2]|=this.padding[k&3],this.lastByteIndex===this.byteCount)for(T[0]=T[z],k=1;k<z+1;++k)T[k]=0;for(T[z-1]|=2147483648,k=0;k<z;++k)O[k]^=T[k];K(O)}},h.prototype.toString=h.prototype.hex=function(){this.finalize();for(var T=this.blockCount,k=this.s,z=this.outputBlocks,O=this.extraBytes,B=0,q=0,U="",F;q<z;){for(B=0;B<T&&q<z;++B,++q)F=k[B],U+=b[F>>4&15]+b[F&15]+b[F>>12&15]+b[F>>8&15]+b[F>>20&15]+b[F>>16&15]+b[F>>28&15]+b[F>>24&15];q%T===0&&(K(k),B=0)}return O&&(F=k[B],U+=b[F>>4&15]+b[F&15],O>1&&(U+=b[F>>12&15]+b[F>>8&15]),O>2&&(U+=b[F>>20&15]+b[F>>16&15])),U},h.prototype.arrayBuffer=function(){this.finalize();var T=this.blockCount,k=this.s,z=this.outputBlocks,O=this.extraBytes,B=0,q=0,U=this.outputBits>>3,F;O?F=new ArrayBuffer(z+1<<2):F=new ArrayBuffer(U);for(var Y=new Uint32Array(F);q<z;){for(B=0;B<T&&q<z;++B,++q)Y[q]=k[B];q%T===0&&K(k)}return O&&(Y[B]=k[B],F=F.slice(0,U)),F},h.prototype.buffer=h.prototype.arrayBuffer,h.prototype.digest=h.prototype.array=function(){this.finalize();for(var T=this.blockCount,k=this.s,z=this.outputBlocks,O=this.extraBytes,B=0,q=0,U=[],F,Y;q<z;){for(B=0;B<T&&q<z;++B,++q)F=q<<2,Y=k[B],U[F]=Y&255,U[F+1]=Y>>8&255,U[F+2]=Y>>16&255,U[F+3]=Y>>24&255;q%T===0&&K(k)}return O&&(F=q<<2,Y=k[B],U[F]=Y&255,O>1&&(U[F+1]=Y>>8&255),O>2&&(U[F+2]=Y>>16&255)),U};function S(T,k,z){h.call(this,T,k,z)}S.prototype=new h,S.prototype.finalize=function(){return this.encode(this.outputBits,!0),h.prototype.finalize.call(this)};var K=function(T){var k,z,O,B,q,U,F,Y,j,H,te,J,X,ae,se,ue,je,de,me,He,le,Me,nt,ye,Te,Ye,ge,Ce,$e,pe,Be,ht,be,De,lt,we,Re,dt,_e,Pe,pt,xe,Le,gt,Ee,qe,vt,Ae,Fe,yt,Se,Ue,mt,Ie,Ne,gr,Ge,Qe,tr,rr,ir,nr,sr;for(O=0;O<48;O+=2)B=T[0]^T[10]^T[20]^T[30]^T[40],q=T[1]^T[11]^T[21]^T[31]^T[41],U=T[2]^T[12]^T[22]^T[32]^T[42],F=T[3]^T[13]^T[23]^T[33]^T[43],Y=T[4]^T[14]^T[24]^T[34]^T[44],j=T[5]^T[15]^T[25]^T[35]^T[45],H=T[6]^T[16]^T[26]^T[36]^T[46],te=T[7]^T[17]^T[27]^T[37]^T[47],J=T[8]^T[18]^T[28]^T[38]^T[48],X=T[9]^T[19]^T[29]^T[39]^T[49],k=J^(U<<1|F>>>31),z=X^(F<<1|U>>>31),T[0]^=k,T[1]^=z,T[10]^=k,T[11]^=z,T[20]^=k,T[21]^=z,T[30]^=k,T[31]^=z,T[40]^=k,T[41]^=z,k=B^(Y<<1|j>>>31),z=q^(j<<1|Y>>>31),T[2]^=k,T[3]^=z,T[12]^=k,T[13]^=z,T[22]^=k,T[23]^=z,T[32]^=k,T[33]^=z,T[42]^=k,T[43]^=z,k=U^(H<<1|te>>>31),z=F^(te<<1|H>>>31),T[4]^=k,T[5]^=z,T[14]^=k,T[15]^=z,T[24]^=k,T[25]^=z,T[34]^=k,T[35]^=z,T[44]^=k,T[45]^=z,k=Y^(J<<1|X>>>31),z=j^(X<<1|J>>>31),T[6]^=k,T[7]^=z,T[16]^=k,T[17]^=z,T[26]^=k,T[27]^=z,T[36]^=k,T[37]^=z,T[46]^=k,T[47]^=z,k=H^(B<<1|q>>>31),z=te^(q<<1|B>>>31),T[8]^=k,T[9]^=z,T[18]^=k,T[19]^=z,T[28]^=k,T[29]^=z,T[38]^=k,T[39]^=z,T[48]^=k,T[49]^=z,ae=T[0],se=T[1],qe=T[11]<<4|T[10]>>>28,vt=T[10]<<4|T[11]>>>28,Ce=T[20]<<3|T[21]>>>29,$e=T[21]<<3|T[20]>>>29,rr=T[31]<<9|T[30]>>>23,ir=T[30]<<9|T[31]>>>23,xe=T[40]<<18|T[41]>>>14,Le=T[41]<<18|T[40]>>>14,De=T[2]<<1|T[3]>>>31,lt=T[3]<<1|T[2]>>>31,ue=T[13]<<12|T[12]>>>20,je=T[12]<<12|T[13]>>>20,Ae=T[22]<<10|T[23]>>>22,Fe=T[23]<<10|T[22]>>>22,pe=T[33]<<13|T[32]>>>19,Be=T[32]<<13|T[33]>>>19,nr=T[42]<<2|T[43]>>>30,sr=T[43]<<2|T[42]>>>30,Ie=T[5]<<30|T[4]>>>2,Ne=T[4]<<30|T[5]>>>2,we=T[14]<<6|T[15]>>>26,Re=T[15]<<6|T[14]>>>26,de=T[25]<<11|T[24]>>>21,me=T[24]<<11|T[25]>>>21,yt=T[34]<<15|T[35]>>>17,Se=T[35]<<15|T[34]>>>17,ht=T[45]<<29|T[44]>>>3,be=T[44]<<29|T[45]>>>3,ye=T[6]<<28|T[7]>>>4,Te=T[7]<<28|T[6]>>>4,gr=T[17]<<23|T[16]>>>9,Ge=T[16]<<23|T[17]>>>9,dt=T[26]<<25|T[27]>>>7,_e=T[27]<<25|T[26]>>>7,He=T[36]<<21|T[37]>>>11,le=T[37]<<21|T[36]>>>11,Ue=T[47]<<24|T[46]>>>8,mt=T[46]<<24|T[47]>>>8,gt=T[8]<<27|T[9]>>>5,Ee=T[9]<<27|T[8]>>>5,Ye=T[18]<<20|T[19]>>>12,ge=T[19]<<20|T[18]>>>12,Qe=T[29]<<7|T[28]>>>25,tr=T[28]<<7|T[29]>>>25,Pe=T[38]<<8|T[39]>>>24,pt=T[39]<<8|T[38]>>>24,Me=T[48]<<14|T[49]>>>18,nt=T[49]<<14|T[48]>>>18,T[0]=ae^~ue&de,T[1]=se^~je&me,T[10]=ye^~Ye&Ce,T[11]=Te^~ge&$e,T[20]=De^~we&dt,T[21]=lt^~Re&_e,T[30]=gt^~qe&Ae,T[31]=Ee^~vt&Fe,T[40]=Ie^~gr&Qe,T[41]=Ne^~Ge&tr,T[2]=ue^~de&He,T[3]=je^~me&le,T[12]=Ye^~Ce&pe,T[13]=ge^~$e&Be,T[22]=we^~dt&Pe,T[23]=Re^~_e&pt,T[32]=qe^~Ae&yt,T[33]=vt^~Fe&Se,T[42]=gr^~Qe&rr,T[43]=Ge^~tr&ir,T[4]=de^~He&Me,T[5]=me^~le&nt,T[14]=Ce^~pe&ht,T[15]=$e^~Be&be,T[24]=dt^~Pe&xe,T[25]=_e^~pt&Le,T[34]=Ae^~yt&Ue,T[35]=Fe^~Se&mt,T[44]=Qe^~rr&nr,T[45]=tr^~ir&sr,T[6]=He^~Me&ae,T[7]=le^~nt&se,T[16]=pe^~ht&ye,T[17]=Be^~be&Te,T[26]=Pe^~xe&De,T[27]=pt^~Le&lt,T[36]=yt^~Ue&gt,T[37]=Se^~mt&Ee,T[46]=rr^~nr&Ie,T[47]=ir^~sr&Ne,T[8]=Me^~ae&ue,T[9]=nt^~se&je,T[18]=ht^~ye&Ye,T[19]=be^~Te&ge,T[28]=xe^~De&we,T[29]=Le^~lt&Re,T[38]=Ue^~gt&qe,T[39]=mt^~Ee&vt,T[48]=nr^~Ie&gr,T[49]=sr^~Ne&Ge,T[0]^=V[O],T[1]^=V[O+1]};if(o)G1.exports=a;else{for(m=0;m<c.length;++m)i[c[m]]=a[c[m]];f&&define(function(){return a})}})()});var b7,w7,_7,x7,W1,Kd,E_,$1,ua,Gd,Y1=fe(()=>{y();b7="PARSE_ERROR",w7="INVALID_REQUEST",_7="METHOD_NOT_FOUND",x7="INVALID_PARAMS",W1="INTERNAL_ERROR",Kd="SERVER_ERROR",E_=[-32700,-32600,-32601,-32602,-32603],$1=[-32e3,-32099],ua={[b7]:{code:-32700,message:"Parse error"},[w7]:{code:-32600,message:"Invalid Request"},[_7]:{code:-32601,message:"Method not found"},[x7]:{code:-32602,message:"Invalid params"},[W1]:{code:-32603,message:"Internal error"},[Kd]:{code:-32e3,message:"Server error"}},Gd=Kd});function qZ(t){return t<=$1[0]&&t>=$1[1]}function J1(t){return E_.includes(t)}function E7(t){return typeof t=="number"}function X1(t){return Object.keys(ua).includes(t)?ua[t]:ua[Gd]}function Z1(t){let e=Object.values(ua).find(r=>r.code===t);return e||ua[Gd]}function FZ(t){if(typeof t.error.code>"u")return{valid:!1,error:"Missing code for JSON-RPC error"};if(typeof t.error.message>"u")return{valid:!1,error:"Missing message for JSON-RPC error"};if(!E7(t.error.code))return{valid:!1,error:`Invalid error code type for JSON-RPC: ${t.error.code}`};if(J1(t.error.code)){let e=Z1(t.error.code);if(e.message!==ua[Gd].message&&t.error.message===e.message)return{valid:!1,error:`Invalid error code message for JSON-RPC: ${t.error.code}`}}return{valid:!0}}function A_(t,e,r){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${r} RPC url at ${e}`):t}var S_=fe(()=>{y();Y1()});var S7=D(ca=>{"use strict";y();Object.defineProperty(ca,"__esModule",{value:!0});ca.isBrowserCryptoAvailable=ca.getSubtleCrypto=ca.getBrowerCrypto=void 0;function I_(){return(global===null||global===void 0?void 0:global.crypto)||(global===null||global===void 0?void 0:global.msCrypto)||{}}ca.getBrowerCrypto=I_;function A7(){let t=I_();return t.subtle||t.webkitSubtle}ca.getSubtleCrypto=A7;function UZ(){return!!I_()&&!!A7()}ca.isBrowserCryptoAvailable=UZ});var C7=D(ha=>{"use strict";y();Object.defineProperty(ha,"__esModule",{value:!0});ha.isBrowser=ha.isNode=ha.isReactNative=void 0;function I7(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}ha.isReactNative=I7;function M7(){return typeof I.default<"u"&&typeof I.default.versions<"u"&&typeof I.default.versions.node<"u"}ha.isNode=M7;function kZ(){return!I7()&&!M7()}ha.isBrowser=kZ});var yh=D(la=>{"use strict";y();var HZ=la&&la.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),T7=la&&la.__exportStar||function(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&HZ(e,t,r)};Object.defineProperty(la,"__esModule",{value:!0});T7(S7(),la);T7(C7(),la)});var wr={};Ut(wr,{isNodeJs:()=>N7});var O7,N7,B7=fe(()=>{y();O7=Ve(yh());ft(wr,Ve(yh()));N7=O7.isNode});function mh(){let t=Date.now()*Math.pow(10,3),e=Math.floor(Math.random()*Math.pow(10,3));return t+e}function M_(t,e,r){return{id:r||mh(),jsonrpc:"2.0",method:t,params:e}}function jZ(t,e){return{id:t,jsonrpc:"2.0",result:e}}function C_(t,e,r){return{id:t,jsonrpc:"2.0",error:D7(e,r)}}function D7(t,e){return typeof t>"u"?X1(W1):(typeof t=="string"&&(t=Object.assign(Object.assign({},X1(Kd)),{message:t})),typeof e<"u"&&(t.data=e),J1(t.code)&&(t=Z1(t.code)),t)}var R7=fe(()=>{y();S_();Y1()});function VZ(t){return t.includes("*")?tv(t):!/\W/g.test(t)}function ev(t){return t==="*"}function tv(t){return ev(t)?!0:!(!t.includes("*")||t.split("*").length!==2||t.split("*").filter(e=>e.trim()==="").length!==1)}function zZ(t){return!ev(t)&&tv(t)&&!t.split("*")[0].trim()}function KZ(t){return!ev(t)&&tv(t)&&!t.split("*")[1].trim()}var P7=fe(()=>{y()});var L7=fe(()=>{y()});var bh,T_=fe(()=>{y();bh=class{}});var O_,rv,Qd,q7=fe(()=>{y();T_();O_=class extends bh{constructor(e){super()}},rv=class extends bh{constructor(){super()}},Qd=class extends rv{constructor(e){super()}}});var F7=fe(()=>{y()});var U7=fe(()=>{y();L7();T_();q7();F7()});var k7=fe(()=>{y();U7()});function WZ(t){let e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function H7(t,e){let r=WZ(t);return typeof r>"u"?!1:new RegExp(e).test(r)}function $Z(t){return H7(t,GZ)}function iv(t){return H7(t,QZ)}function N_(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}var GZ,QZ,j7=fe(()=>{y();GZ="^https?:",QZ="^wss?:"});function B_(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function YZ(t){return B_(t)&&"method"in t}function D_(t){return B_(t)&&(V7(t)||nv(t))}function V7(t){return"result"in t}function nv(t){return"error"in t}function JZ(t){return"error"in t&&t.valid===!1}var z7=fe(()=>{y()});var lr={};Ut(lr,{DEFAULT_ERROR:()=>Gd,IBaseJsonRpcProvider:()=>rv,IEvents:()=>bh,IJsonRpcConnection:()=>O_,IJsonRpcProvider:()=>Qd,INTERNAL_ERROR:()=>W1,INVALID_PARAMS:()=>x7,INVALID_REQUEST:()=>w7,METHOD_NOT_FOUND:()=>_7,PARSE_ERROR:()=>b7,RESERVED_ERROR_CODES:()=>E_,SERVER_ERROR:()=>Kd,SERVER_ERROR_CODE_RANGE:()=>$1,STANDARD_ERROR_MAP:()=>ua,formatErrorMessage:()=>D7,formatJsonRpcError:()=>C_,formatJsonRpcRequest:()=>M_,formatJsonRpcResult:()=>jZ,getError:()=>X1,getErrorByCode:()=>Z1,isHttpUrl:()=>$Z,isJsonRpcError:()=>nv,isJsonRpcPayload:()=>B_,isJsonRpcRequest:()=>YZ,isJsonRpcResponse:()=>D_,isJsonRpcResult:()=>V7,isJsonRpcValidationInvalid:()=>JZ,isLocalhostUrl:()=>N_,isNodeJs:()=>N7,isReservedErrorCode:()=>J1,isServerErrorCode:()=>qZ,isValidDefaultRoute:()=>ev,isValidErrorCode:()=>E7,isValidLeadingWildcardRoute:()=>zZ,isValidRoute:()=>VZ,isValidTrailingWildcardRoute:()=>KZ,isValidWildcardRoute:()=>tv,isWsUrl:()=>iv,parseConnectionError:()=>A_,payloadId:()=>mh,validateJsonRpcError:()=>FZ});var da=fe(()=>{y();Y1();S_();B7();ft(lr,wr);R7();P7();k7();j7();z7()});function Wd(t){return fa(t)}function K7(t){return z1(di(t))}function sv(){return((e,r)=>{for(r=e="";e++<36;r+=e*51&52?(e^15?8^Math.random()*(e^20?16:4):4).toString(16):"-");return r})()}var G7,R_=fe(()=>{y();xi();da();F1();G7=mh});function X7(t){return t===""||typeof t=="string"&&t.trim()===""}function Z7(t){return!(t&&t.length)}function P_(t,e){return V1(t,e)}function eT(t){return typeof t.method<"u"}function Xf(t){return typeof t.result<"u"}function wh(t){return typeof t.error<"u"}function L_(t){return typeof t.event<"u"}function tT(t){return X9.includes(t)||t.startsWith("wc_")}function rT(t){return t.method.startsWith("wc_")?!0:!q1.includes(t.method)}var q_=fe(()=>{y();xi();F1()});function XZ(t){t=br(t.toLowerCase());let e=br((0,iT.keccak_256)(v7(t))),r="";for(let i=0;i<t.length;i++)parseInt(e[i],16)>7?r+=t[i].toUpperCase():r+=t[i];return di(r)}function F_(t){return!Z7(t)&&!P_(t[0])&&(t[0]=y7(t[0])),t}function ov(t){if(typeof t.type<"u"&&t.type!=="0")return t;if(typeof t.from>"u"||!ZZ(t.from))throw new Error("Transaction object must include a valid 'from' value.");function e(n){let s=n;return(typeof n=="number"||typeof n=="string"&&!X7(n))&&(P_(n)?typeof n=="string"&&(s=Wd(n)):s=K1(n)),typeof s=="string"&&(s=K7(s)),s}let r={from:Wd(t.from),to:typeof t.to>"u"?void 0:Wd(t.to),gasPrice:typeof t.gasPrice>"u"?"":e(t.gasPrice),gas:typeof t.gas>"u"?typeof t.gasLimit>"u"?"":e(t.gasLimit):e(t.gas),value:typeof t.value>"u"?"":e(t.value),nonce:typeof t.nonce>"u"?"":e(t.nonce),data:typeof t.data>"u"?"":Wd(t.data)||"0x"},i=["gasPrice","gas","value","nonce"];return Object.keys(r).forEach(n=>{(typeof r[n]>"u"||typeof r[n]=="string"&&!r[n].trim().length)&&i.includes(n)&&delete r[n]}),r}var iT,ZZ,nT=fe(()=>{y();iT=Ve(Q1());xi();x_();R_();q_();ZZ=t=>t?t.toLowerCase().substring(0,2)!=="0x"?!1:/^(0x)?[0-9a-f]{40}$/i.test(t)?/^(0x)?[0-9a-f]{40}$/.test(t)||/^(0x)?[0-9A-F]{40}$/.test(t)?!0:t===XZ(t):!1:!1});function sT(t){let e=t.message||"Failed or Rejected Request",r=-32e3;if(t&&!t.code)switch(e){case"Parse error":r=-32700;break;case"Invalid request":r=-32600;break;case"Method not found":r=-32601;break;case"Invalid params":r=-32602;break;case"Internal error":r=-32603;break;default:r=-32e3;break}let i={code:r,message:e};return t.data&&(i.data=t.data),i}var oT=fe(()=>{y()});var $d=D((rEe,aT)=>{"use strict";y();aT.exports=t=>encodeURIComponent(t).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`)});var Yd=D((nEe,hT)=>{"use strict";y();var cT="%[a-f0-9]{2}",fT=new RegExp(cT,"gi"),uT=new RegExp("("+cT+")+","gi");function U_(t,e){try{return decodeURIComponent(t.join(""))}catch{}if(t.length===1)return t;e=e||1;var r=t.slice(0,e),i=t.slice(e);return Array.prototype.concat.call([],U_(r),U_(i))}function eee(t){try{return decodeURIComponent(t)}catch{for(var e=t.match(fT),r=1;r<e.length;r++)t=U_(e,r).join(""),e=t.match(fT);return t}}function tee(t){for(var e={"%FE%FF":"\uFFFD\uFFFD","%FF%FE":"\uFFFD\uFFFD"},r=uT.exec(t);r;){try{e[r[0]]=decodeURIComponent(r[0])}catch{var i=eee(r[0]);i!==r[0]&&(e[r[0]]=i)}r=uT.exec(t)}e["%C2"]="\uFFFD";for(var n=Object.keys(e),s=0;s<n.length;s++){var o=n[s];t=t.replace(new RegExp(o,"g"),e[o])}return t}hT.exports=function(t){if(typeof t!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch{return tee(t)}}});var Jd=D((oEe,lT)=>{"use strict";y();lT.exports=(t,e)=>{if(!(typeof t=="string"&&typeof e=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e==="")return[t];let r=t.indexOf(e);return r===-1?[t]:[t.slice(0,r),t.slice(r+e.length)]}});var wT=D(no=>{"use strict";y();var ree=$d(),iee=Yd(),pT=Jd(),nee=t=>t==null;function see(t){switch(t.arrayFormat){case"index":return e=>(r,i)=>{let n=r.length;return i===void 0||t.skipNull&&i===null||t.skipEmptyString&&i===""?r:i===null?[...r,[Br(e,t),"[",n,"]"].join("")]:[...r,[Br(e,t),"[",Br(n,t),"]=",Br(i,t)].join("")]};case"bracket":return e=>(r,i)=>i===void 0||t.skipNull&&i===null||t.skipEmptyString&&i===""?r:i===null?[...r,[Br(e,t),"[]"].join("")]:[...r,[Br(e,t),"[]=",Br(i,t)].join("")];case"comma":case"separator":return e=>(r,i)=>i==null||i.length===0?r:r.length===0?[[Br(e,t),"=",Br(i,t)].join("")]:[[r,Br(i,t)].join(t.arrayFormatSeparator)];default:return e=>(r,i)=>i===void 0||t.skipNull&&i===null||t.skipEmptyString&&i===""?r:i===null?[...r,Br(e,t)]:[...r,[Br(e,t),"=",Br(i,t)].join("")]}}function oee(t){let e;switch(t.arrayFormat){case"index":return(r,i,n)=>{if(e=/\[(\d*)\]$/.exec(r),r=r.replace(/\[\d*\]$/,""),!e){n[r]=i;return}n[r]===void 0&&(n[r]={}),n[r][e[1]]=i};case"bracket":return(r,i,n)=>{if(e=/(\[\])$/.exec(r),r=r.replace(/\[\]$/,""),!e){n[r]=i;return}if(n[r]===void 0){n[r]=[i];return}n[r]=[].concat(n[r],i)};case"comma":case"separator":return(r,i,n)=>{let o=typeof i=="string"&&i.split("").indexOf(t.arrayFormatSeparator)>-1?i.split(t.arrayFormatSeparator).map(f=>Xd(f,t)):i===null?i:Xd(i,t);n[r]=o};default:return(r,i,n)=>{if(n[r]===void 0){n[r]=i;return}n[r]=[].concat(n[r],i)}}}function gT(t){if(typeof t!="string"||t.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function Br(t,e){return e.encode?e.strict?ree(t):encodeURIComponent(t):t}function Xd(t,e){return e.decode?iee(t):t}function vT(t){return Array.isArray(t)?t.sort():typeof t=="object"?vT(Object.keys(t)).sort((e,r)=>Number(e)-Number(r)).map(e=>t[e]):t}function yT(t){let e=t.indexOf("#");return e!==-1&&(t=t.slice(0,e)),t}function aee(t){let e="",r=t.indexOf("#");return r!==-1&&(e=t.slice(r)),e}function mT(t){t=yT(t);let e=t.indexOf("?");return e===-1?"":t.slice(e+1)}function dT(t,e){return e.parseNumbers&&!Number.isNaN(Number(t))&&typeof t=="string"&&t.trim()!==""?t=Number(t):e.parseBooleans&&t!==null&&(t.toLowerCase()==="true"||t.toLowerCase()==="false")&&(t=t.toLowerCase()==="true"),t}function bT(t,e){e=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},e),gT(e.arrayFormatSeparator);let r=oee(e),i=Object.create(null);if(typeof t!="string"||(t=t.trim().replace(/^[?#&]/,""),!t))return i;for(let n of t.split("&")){let[s,o]=pT(e.decode?n.replace(/\+/g," "):n,"=");o=o===void 0?null:["comma","separator"].includes(e.arrayFormat)?o:Xd(o,e),r(Xd(s,e),o,i)}for(let n of Object.keys(i)){let s=i[n];if(typeof s=="object"&&s!==null)for(let o of Object.keys(s))s[o]=dT(s[o],e);else i[n]=dT(s,e)}return e.sort===!1?i:(e.sort===!0?Object.keys(i).sort():Object.keys(i).sort(e.sort)).reduce((n,s)=>{let o=i[s];return Boolean(o)&&typeof o=="object"&&!Array.isArray(o)?n[s]=vT(o):n[s]=o,n},Object.create(null))}no.extract=mT;no.parse=bT;no.stringify=(t,e)=>{if(!t)return"";e=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},e),gT(e.arrayFormatSeparator);let r=o=>e.skipNull&&nee(t[o])||e.skipEmptyString&&t[o]==="",i=see(e),n={};for(let o of Object.keys(t))r(o)||(n[o]=t[o]);let s=Object.keys(n);return e.sort!==!1&&s.sort(e.sort),s.map(o=>{let f=t[o];return f===void 0?"":f===null?Br(o,e):Array.isArray(f)?f.reduce(i(o),[]).join("&"):Br(o,e)+"="+Br(f,e)}).filter(o=>o.length>0).join("&")};no.parseUrl=(t,e)=>{e=Object.assign({decode:!0},e);let[r,i]=pT(t,"#");return Object.assign({url:r.split("?")[0]||"",query:bT(mT(t),e)},e&&e.parseFragmentIdentifier&&i?{fragmentIdentifier:Xd(i,e)}:{})};no.stringifyUrl=(t,e)=>{e=Object.assign({encode:!0,strict:!0},e);let r=yT(t.url).split("?")[0]||"",i=no.extract(t.url),n=no.parse(i,{sort:!1}),s=Object.assign(n,t.query),o=no.stringify(s,e);o&&(o=`?${o}`);let f=aee(t.url);return t.fragmentIdentifier&&(f=`#${Br(t.fragmentIdentifier,e)}`),`${r}${o}${f}`}});function _T(t){return k_.parse(t)}var k_,H_=fe(()=>{y();k_=Ve(wT())});function xT(t){return typeof t.bridge<"u"}function ET(t){let e=t.indexOf(":"),r=t.indexOf("?")!==-1?t.indexOf("?"):void 0,i=t.substring(0,e),n=t.substring(e+1,r);function s(C){let N="@",L=C.split(N);return{handshakeTopic:L[0],version:parseInt(L[1],10)}}let o=s(n),f=typeof r<"u"?t.substr(r):"";function l(C){let N=_T(C);return{key:N.key||"",bridge:N.bridge||""}}let b=l(f);return Object.assign(Object.assign({protocol:i},o),b)}var AT=fe(()=>{y();H_()});var av=fe(()=>{y();L1();F1();x_();nT();R_();oT();AT();H_();q_()});var fv=fe(()=>{y()});var fee,j_=fe(()=>{y();fee=Ve(Di());xi()});var V_=fe(()=>{y();xi();da();fv()});var z_=fe(()=>{y();xi();fv()});var uee,ST=fe(()=>{y();uee=Ve(Q1());xi();j_();V_();z_()});var IT=fe(()=>{y()});var RT=D(so=>{"use strict";y();var cee=$d(),hee=Yd(),CT=Jd(),lee=t=>t==null;function dee(t){switch(t.arrayFormat){case"index":return e=>(r,i)=>{let n=r.length;return i===void 0||t.skipNull&&i===null||t.skipEmptyString&&i===""?r:i===null?[...r,[Dr(e,t),"[",n,"]"].join("")]:[...r,[Dr(e,t),"[",Dr(n,t),"]=",Dr(i,t)].join("")]};case"bracket":return e=>(r,i)=>i===void 0||t.skipNull&&i===null||t.skipEmptyString&&i===""?r:i===null?[...r,[Dr(e,t),"[]"].join("")]:[...r,[Dr(e,t),"[]=",Dr(i,t)].join("")];case"comma":case"separator":return e=>(r,i)=>i==null||i.length===0?r:r.length===0?[[Dr(e,t),"=",Dr(i,t)].join("")]:[[r,Dr(i,t)].join(t.arrayFormatSeparator)];default:return e=>(r,i)=>i===void 0||t.skipNull&&i===null||t.skipEmptyString&&i===""?r:i===null?[...r,Dr(e,t)]:[...r,[Dr(e,t),"=",Dr(i,t)].join("")]}}function pee(t){let e;switch(t.arrayFormat){case"index":return(r,i,n)=>{if(e=/\[(\d*)\]$/.exec(r),r=r.replace(/\[\d*\]$/,""),!e){n[r]=i;return}n[r]===void 0&&(n[r]={}),n[r][e[1]]=i};case"bracket":return(r,i,n)=>{if(e=/(\[\])$/.exec(r),r=r.replace(/\[\]$/,""),!e){n[r]=i;return}if(n[r]===void 0){n[r]=[i];return}n[r]=[].concat(n[r],i)};case"comma":case"separator":return(r,i,n)=>{let o=typeof i=="string"&&i.split("").indexOf(t.arrayFormatSeparator)>-1?i.split(t.arrayFormatSeparator).map(f=>Zd(f,t)):i===null?i:Zd(i,t);n[r]=o};default:return(r,i,n)=>{if(n[r]===void 0){n[r]=i;return}n[r]=[].concat(n[r],i)}}}function TT(t){if(typeof t!="string"||t.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function Dr(t,e){return e.encode?e.strict?cee(t):encodeURIComponent(t):t}function Zd(t,e){return e.decode?hee(t):t}function OT(t){return Array.isArray(t)?t.sort():typeof t=="object"?OT(Object.keys(t)).sort((e,r)=>Number(e)-Number(r)).map(e=>t[e]):t}function NT(t){let e=t.indexOf("#");return e!==-1&&(t=t.slice(0,e)),t}function gee(t){let e="",r=t.indexOf("#");return r!==-1&&(e=t.slice(r)),e}function BT(t){t=NT(t);let e=t.indexOf("?");return e===-1?"":t.slice(e+1)}function MT(t,e){return e.parseNumbers&&!Number.isNaN(Number(t))&&typeof t=="string"&&t.trim()!==""?t=Number(t):e.parseBooleans&&t!==null&&(t.toLowerCase()==="true"||t.toLowerCase()==="false")&&(t=t.toLowerCase()==="true"),t}function DT(t,e){e=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},e),TT(e.arrayFormatSeparator);let r=pee(e),i=Object.create(null);if(typeof t!="string"||(t=t.trim().replace(/^[?#&]/,""),!t))return i;for(let n of t.split("&")){let[s,o]=CT(e.decode?n.replace(/\+/g," "):n,"=");o=o===void 0?null:["comma","separator"].includes(e.arrayFormat)?o:Zd(o,e),r(Zd(s,e),o,i)}for(let n of Object.keys(i)){let s=i[n];if(typeof s=="object"&&s!==null)for(let o of Object.keys(s))s[o]=MT(s[o],e);else i[n]=MT(s,e)}return e.sort===!1?i:(e.sort===!0?Object.keys(i).sort():Object.keys(i).sort(e.sort)).reduce((n,s)=>{let o=i[s];return Boolean(o)&&typeof o=="object"&&!Array.isArray(o)?n[s]=OT(o):n[s]=o,n},Object.create(null))}so.extract=BT;so.parse=DT;so.stringify=(t,e)=>{if(!t)return"";e=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},e),TT(e.arrayFormatSeparator);let r=o=>e.skipNull&&lee(t[o])||e.skipEmptyString&&t[o]==="",i=dee(e),n={};for(let o of Object.keys(t))r(o)||(n[o]=t[o]);let s=Object.keys(n);return e.sort!==!1&&s.sort(e.sort),s.map(o=>{let f=t[o];return f===void 0?"":f===null?Dr(o,e):Array.isArray(f)?f.reduce(i(o),[]).join("&"):Dr(o,e)+"="+Dr(f,e)}).filter(o=>o.length>0).join("&")};so.parseUrl=(t,e)=>{e=Object.assign({decode:!0},e);let[r,i]=CT(t,"#");return Object.assign({url:r.split("?")[0]||"",query:DT(BT(t),e)},e&&e.parseFragmentIdentifier&&i?{fragmentIdentifier:Zd(i,e)}:{})};so.stringifyUrl=(t,e)=>{e=Object.assign({encode:!0,strict:!0},e);let r=NT(t.url).split("?")[0]||"",i=so.extract(t.url),n=so.parse(i,{sort:!1}),s=Object.assign(n,t.query),o=so.stringify(s,e);o&&(o=`?${o}`);let f=gee(t.url);return t.fragmentIdentifier&&(f=`#${Dr(t.fragmentIdentifier,e)}`),`${r}${o}${f}`}});function PT(t){let e=t.indexOf("?")!==-1?t.indexOf("?"):void 0;return typeof e<"u"?t.substr(e):""}function LT(t,e){let r=qT(t);return r=Object.assign(Object.assign({},r),e),t=vee(r),t}function qT(t){return uv.parse(t)}function vee(t){return uv.stringify(t)}var uv,K_=fe(()=>{y();uv=Ve(RT())});var FT=fe(()=>{y();K_()});var UT=fe(()=>{y();L1();fv();j_();ST();V_();IT();FT();K_();z_()});var G_,kT,HT=fe(()=>{y();G_=class{constructor(){this._eventEmitters=[],typeof window<"u"&&typeof window.addEventListener<"u"&&(window.addEventListener("online",()=>this.trigger("online")),window.addEventListener("offline",()=>this.trigger("offline")))}on(e,r){this._eventEmitters.push({event:e,callback:r})}trigger(e){let r=[];e&&(r=this._eventEmitters.filter(i=>i.event===e)),r.forEach(i=>{i.callback()})}},kT=G_});var Q_=D((_Ae,jT)=>{"use strict";y();jT.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}});function mee(t,e,r){var i,n;let o=(t.startsWith("https")?t.replace("https","wss"):t.startsWith("http")?t.replace("http","ws"):t).split("?"),f=G9()?{protocol:e,version:r,env:"browser",host:((i=Q9())===null||i===void 0?void 0:i.host)||""}:{protocol:e,version:r,env:((n=B1())===null||n===void 0?void 0:n.name)||""},l=LT(PT(o[1]||""),f);return o[0]+"?"+l}var yee,W_,VT,zT=fe(()=>{y();UT();HT();yee=typeof global.WebSocket<"u"?global.WebSocket:Q_(),W_=class{constructor(e){if(this.opts=e,this._queue=[],this._events=[],this._subscriptions=[],this._protocol=e.protocol,this._version=e.version,this._url="",this._netMonitor=null,this._socket=null,this._nextSocket=null,this._subscriptions=e.subscriptions||[],this._netMonitor=e.netMonitor||new kT,!e.url||typeof e.url!="string")throw new Error("Missing or invalid WebSocket url");this._url=e.url,this._netMonitor.on("online",()=>this._socketCreate())}set readyState(e){}get readyState(){return this._socket?this._socket.readyState:-1}set connecting(e){}get connecting(){return this.readyState===0}set connected(e){}get connected(){return this.readyState===1}set closing(e){}get closing(){return this.readyState===2}set closed(e){}get closed(){return this.readyState===3}open(){this._socketCreate()}close(){this._socketClose()}send(e,r,i){if(!r||typeof r!="string")throw new Error("Missing or invalid topic field");this._socketSend({topic:r,type:"pub",payload:e,silent:!!i})}subscribe(e){this._socketSend({topic:e,type:"sub",payload:"",silent:!0})}on(e,r){this._events.push({event:e,callback:r})}_socketCreate(){if(this._nextSocket)return;let e=mee(this._url,this._protocol,this._version);if(this._nextSocket=new yee(e),!this._nextSocket)throw new Error("Failed to create socket");this._nextSocket.onmessage=r=>this._socketReceive(r),this._nextSocket.onopen=()=>this._socketOpen(),this._nextSocket.onerror=r=>this._socketError(r),this._nextSocket.onclose=()=>{setTimeout(()=>{this._nextSocket=null,this._socketCreate()},1e3)}}_socketOpen(){this._socketClose(),this._socket=this._nextSocket,this._nextSocket=null,this._queueSubscriptions(),this._pushQueue()}_socketClose(){this._socket&&(this._socket.onclose=()=>{},this._socket.close())}_socketSend(e){let r=JSON.stringify(e);this._socket&&this._socket.readyState===1?this._socket.send(r):(this._setToQueue(e),this._socketCreate())}async _socketReceive(e){let r;try{r=JSON.parse(e.data)}catch{return}if(this._socketSend({topic:r.topic,type:"ack",payload:"",silent:!0}),this._socket&&this._socket.readyState===1){let i=this._events.filter(n=>n.event==="message");i&&i.length&&i.forEach(n=>n.callback(r))}}_socketError(e){let r=this._events.filter(i=>i.event==="error");r&&r.length&&r.forEach(i=>i.callback(e))}_queueSubscriptions(){this._subscriptions.forEach(r=>this._queue.push({topic:r,type:"sub",payload:"",silent:!0})),this._subscriptions=this.opts.subscriptions||[]}_setToQueue(e){this._queue.push(e)}_pushQueue(){this._queue.forEach(r=>this._socketSend(r)),this._queue=[]}};VT=W_});var cv,pa,KT,GT,QT,WT,$T,YT,JT,$_,XT,ZT,Y_,eO=fe(()=>{y();cv="Session currently connected",pa="Session currently disconnected",KT="Session Rejected",GT="Missing JSON RPC response",QT='JSON-RPC success response must include "result" field',WT='JSON-RPC error response must include "error" field',$T='JSON RPC request must have valid "method" value',YT='JSON RPC request must have valid "id" value',JT="Missing one of the required parameters: bridge / uri / session",$_="JSON RPC response format is invalid",XT="URI format is invalid",ZT="QRCode Modal not provided",Y_="User close QRCode Modal"});var J_,tO,rO=fe(()=>{y();av();J_=class{constructor(){this._eventEmitters=[]}subscribe(e){this._eventEmitters.push(e)}unsubscribe(e){this._eventEmitters=this._eventEmitters.filter(r=>r.event!==e)}trigger(e){let r=[],i;eT(e)?i=e.method:Xf(e)||wh(e)?i=`response:${e.id}`:L_(e)?i=e.event:i="",i&&(r=this._eventEmitters.filter(n=>n.event===i)),(!r||!r.length)&&!tT(i)&&!L_(i)&&(r=this._eventEmitters.filter(n=>n.event==="call_request")),r.forEach(n=>{if(wh(e)){let s=new Error(e.error.message);n.callback(s,null)}else n.callback(null,e)})}},tO=J_});var X_,iO,nO=fe(()=>{y();av();X_=class{constructor(e="walletconnect"){this.storageId=e}getSession(){let e=null,r=R1(this.storageId);return r&&xT(r)&&(e=r),e}setSession(e){return g_(this.storageId,e),e}removeSession(){P1(this.storageId)}},iO=X_});function _ee(t){let e=t.indexOf("//")>-1?t.split("/")[2]:t.split("/")[0];return e=e.split(":")[0],e=e.split("?")[0],e}function xee(t){return _ee(t).split(".").slice(-2).join(".")}function Eee(){return Math.floor(Math.random()*sO.length)}function Aee(){return sO[Eee()]}function See(t){return xee(t)===bee}function oO(t){return See(t)?Aee():t}var bee,wee,sO,aO=fe(()=>{y();bee="walletconnect.org",wee="abcdefghijklmnopqrstuvwxyz0123456789",sO=wee.split("").map(t=>`https://${t}.bridge.walletconnect.org`)});var Z_,fO,uO=fe(()=>{y();av();zT();eO();rO();nO();aO();Z_=class{constructor(e){if(this.protocol="wc",this.version=1,this._bridge="",this._key=null,this._clientId="",this._clientMeta=null,this._peerId="",this._peerMeta=null,this._handshakeId=0,this._handshakeTopic="",this._connected=!1,this._accounts=[],this._chainId=0,this._networkId=0,this._rpcUrl="",this._eventManager=new tO,this._clientMeta=h_()||e.connectorOpts.clientMeta||null,this._cryptoLib=e.cryptoLib,this._sessionStorage=e.sessionStorage||new iO(e.connectorOpts.storageId),this._qrcodeModal=e.connectorOpts.qrcodeModal,this._qrcodeModalOptions=e.connectorOpts.qrcodeModalOptions,this._signingMethods=[...q1,...e.connectorOpts.signingMethods||[]],!e.connectorOpts.bridge&&!e.connectorOpts.uri&&!e.connectorOpts.session)throw new Error(JT);e.connectorOpts.bridge&&(this.bridge=oO(e.connectorOpts.bridge)),e.connectorOpts.uri&&(this.uri=e.connectorOpts.uri);let r=e.connectorOpts.session||this._getStorageSession();r&&(this.session=r),this.handshakeId&&this._subscribeToSessionResponse(this.handshakeId,"Session request rejected"),this._transport=e.transport||new VT({protocol:this.protocol,version:this.version,url:this.bridge,subscriptions:[this.clientId]}),this._subscribeToInternalEvents(),this._initTransport(),e.connectorOpts.uri&&this._subscribeToSessionRequest(),e.pushServerOpts&&this._registerPushServer(e.pushServerOpts)}set bridge(e){!e||(this._bridge=e)}get bridge(){return this._bridge}set key(e){if(!e)return;let r=m7(e);this._key=r}get key(){return this._key?g7(this._key,!0):""}set clientId(e){!e||(this._clientId=e)}get clientId(){let e=this._clientId;return e||(e=this._clientId=sv()),this._clientId}set peerId(e){!e||(this._peerId=e)}get peerId(){return this._peerId}set clientMeta(e){}get clientMeta(){let e=this._clientMeta;return e||(e=this._clientMeta=h_()),e}set peerMeta(e){this._peerMeta=e}get peerMeta(){return this._peerMeta}set handshakeTopic(e){!e||(this._handshakeTopic=e)}get handshakeTopic(){return this._handshakeTopic}set handshakeId(e){!e||(this._handshakeId=e)}get handshakeId(){return this._handshakeId}get uri(){return this._formatUri()}set uri(e){if(!e)return;let{handshakeTopic:r,bridge:i,key:n}=this._parseUri(e);this.handshakeTopic=r,this.bridge=i,this.key=n}set chainId(e){this._chainId=e}get chainId(){return this._chainId}set networkId(e){this._networkId=e}get networkId(){return this._networkId}set accounts(e){this._accounts=e}get accounts(){return this._accounts}set rpcUrl(e){this._rpcUrl=e}get rpcUrl(){return this._rpcUrl}set connected(e){}get connected(){return this._connected}set pending(e){}get pending(){return!!this._handshakeTopic}get session(){return{connected:this.connected,accounts:this.accounts,chainId:this.chainId,bridge:this.bridge,key:this.key,clientId:this.clientId,clientMeta:this.clientMeta,peerId:this.peerId,peerMeta:this.peerMeta,handshakeId:this.handshakeId,handshakeTopic:this.handshakeTopic}}set session(e){!e||(this._connected=e.connected,this.accounts=e.accounts,this.chainId=e.chainId,this.bridge=e.bridge,this.key=e.key,this.clientId=e.clientId,this.clientMeta=e.clientMeta,this.peerId=e.peerId,this.peerMeta=e.peerMeta,this.handshakeId=e.handshakeId,this.handshakeTopic=e.handshakeTopic)}on(e,r){let i={event:e,callback:r};this._eventManager.subscribe(i)}off(e){this._eventManager.unsubscribe(e)}async createInstantRequest(e){this._key=await this._generateKey();let r=this._formatRequest({method:"wc_instantRequest",params:[{peerId:this.clientId,peerMeta:this.clientMeta,request:this._formatRequest(e)}]});this.handshakeId=r.id,this.handshakeTopic=sv(),this._eventManager.trigger({event:"display_uri",params:[this.uri]}),this.on("modal_closed",()=>{throw new Error(Y_)});let i=()=>{this.killSession()};try{let n=await this._sendCallRequest(r);return n&&i(),n}catch(n){throw i(),n}}async connect(e){if(!this._qrcodeModal)throw new Error(ZT);return this.connected?{chainId:this.chainId,accounts:this.accounts}:(await this.createSession(e),new Promise(async(r,i)=>{this.on("modal_closed",()=>i(new Error(Y_))),this.on("connect",(n,s)=>{if(n)return i(n);r(s.params[0])})}))}async createSession(e){if(this._connected)throw new Error(cv);if(this.pending)return;this._key=await this._generateKey();let r=this._formatRequest({method:"wc_sessionRequest",params:[{peerId:this.clientId,peerMeta:this.clientMeta,chainId:e&&e.chainId?e.chainId:null}]});this.handshakeId=r.id,this.handshakeTopic=sv(),this._sendSessionRequest(r,"Session update rejected",{topic:this.handshakeTopic}),this._eventManager.trigger({event:"display_uri",params:[this.uri]})}approveSession(e){if(this._connected)throw new Error(cv);this.chainId=e.chainId,this.accounts=e.accounts,this.networkId=e.networkId||0,this.rpcUrl=e.rpcUrl||"";let r={approved:!0,chainId:this.chainId,networkId:this.networkId,accounts:this.accounts,rpcUrl:this.rpcUrl,peerId:this.clientId,peerMeta:this.clientMeta},i={id:this.handshakeId,jsonrpc:"2.0",result:r};this._sendResponse(i),this._connected=!0,this._setStorageSession(),this._eventManager.trigger({event:"connect",params:[{peerId:this.peerId,peerMeta:this.peerMeta,chainId:this.chainId,accounts:this.accounts}]})}rejectSession(e){if(this._connected)throw new Error(cv);let r=e&&e.message?e.message:KT,i=this._formatResponse({id:this.handshakeId,error:{message:r}});this._sendResponse(i),this._connected=!1,this._eventManager.trigger({event:"disconnect",params:[{message:r}]}),this._removeStorageSession()}updateSession(e){if(!this._connected)throw new Error(pa);this.chainId=e.chainId,this.accounts=e.accounts,this.networkId=e.networkId||0,this.rpcUrl=e.rpcUrl||"";let r={approved:!0,chainId:this.chainId,networkId:this.networkId,accounts:this.accounts,rpcUrl:this.rpcUrl},i=this._formatRequest({method:"wc_sessionUpdate",params:[r]});this._sendSessionRequest(i,"Session update rejected"),this._eventManager.trigger({event:"session_update",params:[{chainId:this.chainId,accounts:this.accounts}]}),this._manageStorageSession()}async killSession(e){let r=e?e.message:"Session Disconnected",i={approved:!1,chainId:null,networkId:null,accounts:null},n=this._formatRequest({method:"wc_sessionUpdate",params:[i]});await this._sendRequest(n),this._handleSessionDisconnect(r)}async sendTransaction(e){if(!this._connected)throw new Error(pa);let r=ov(e),i=this._formatRequest({method:"eth_sendTransaction",params:[r]});return await this._sendCallRequest(i)}async signTransaction(e){if(!this._connected)throw new Error(pa);let r=ov(e),i=this._formatRequest({method:"eth_signTransaction",params:[r]});return await this._sendCallRequest(i)}async signMessage(e){if(!this._connected)throw new Error(pa);let r=this._formatRequest({method:"eth_sign",params:e});return await this._sendCallRequest(r)}async signPersonalMessage(e){if(!this._connected)throw new Error(pa);e=F_(e);let r=this._formatRequest({method:"personal_sign",params:e});return await this._sendCallRequest(r)}async signTypedData(e){if(!this._connected)throw new Error(pa);let r=this._formatRequest({method:"eth_signTypedData",params:e});return await this._sendCallRequest(r)}async updateChain(e){if(!this._connected)throw new Error("Session currently disconnected");let r=this._formatRequest({method:"wallet_updateChain",params:[e]});return await this._sendCallRequest(r)}unsafeSend(e,r){return this._sendRequest(e,r),this._eventManager.trigger({event:"call_request_sent",params:[{request:e,options:r}]}),new Promise((i,n)=>{this._subscribeToResponse(e.id,(s,o)=>{if(s){n(s);return}if(!o)throw new Error(GT);i(o)})})}async sendCustomRequest(e,r){if(!this._connected)throw new Error(pa);switch(e.method){case"eth_accounts":return this.accounts;case"eth_chainId":return K1(this.chainId);case"eth_sendTransaction":case"eth_signTransaction":e.params&&(e.params[0]=ov(e.params[0]));break;case"personal_sign":e.params&&(e.params=F_(e.params));break;default:break}let i=this._formatRequest(e);return await this._sendCallRequest(i,r)}approveRequest(e){if(Xf(e)){let r=this._formatResponse(e);this._sendResponse(r)}else throw new Error(QT)}rejectRequest(e){if(wh(e)){let r=this._formatResponse(e);this._sendResponse(r)}else throw new Error(WT)}transportClose(){this._transport.close()}async _sendRequest(e,r){let i=this._formatRequest(e),n=await this._encrypt(i),s=typeof r?.topic<"u"?r.topic:this.peerId,o=JSON.stringify(n),f=typeof r?.forcePushNotification<"u"?!r.forcePushNotification:rT(i);this._transport.send(o,s,f)}async _sendResponse(e){let r=await this._encrypt(e),i=this.peerId,n=JSON.stringify(r),s=!0;this._transport.send(n,i,s)}async _sendSessionRequest(e,r,i){this._sendRequest(e,i),this._subscribeToSessionResponse(e.id,r)}_sendCallRequest(e,r){return this._sendRequest(e,r),this._eventManager.trigger({event:"call_request_sent",params:[{request:e,options:r}]}),this._subscribeToCallResponse(e.id)}_formatRequest(e){if(typeof e.method>"u")throw new Error($T);return{id:typeof e.id>"u"?G7():e.id,jsonrpc:"2.0",method:e.method,params:typeof e.params>"u"?[]:e.params}}_formatResponse(e){if(typeof e.id>"u")throw new Error(YT);let r={id:e.id,jsonrpc:"2.0"};if(wh(e)){let i=sT(e.error);return Object.assign(Object.assign(Object.assign({},r),e),{error:i})}else if(Xf(e))return Object.assign(Object.assign({},r),e);throw new Error($_)}_handleSessionDisconnect(e){let r=e||"Session Disconnected";this._connected||(this._qrcodeModal&&this._qrcodeModal.close(),P1(y_)),this._connected&&(this._connected=!1),this._handshakeId&&(this._handshakeId=0),this._handshakeTopic&&(this._handshakeTopic=""),this._peerId&&(this._peerId=""),this._eventManager.trigger({event:"disconnect",params:[{message:r}]}),this._removeStorageSession(),this.transportClose()}_handleSessionResponse(e,r){r?r.approved?(this._connected?(r.chainId&&(this.chainId=r.chainId),r.accounts&&(this.accounts=r.accounts),this._eventManager.trigger({event:"session_update",params:[{chainId:this.chainId,accounts:this.accounts}]})):(this._connected=!0,r.chainId&&(this.chainId=r.chainId),r.accounts&&(this.accounts=r.accounts),r.peerId&&!this.peerId&&(this.peerId=r.peerId),r.peerMeta&&!this.peerMeta&&(this.peerMeta=r.peerMeta),this._eventManager.trigger({event:"connect",params:[{peerId:this.peerId,peerMeta:this.peerMeta,chainId:this.chainId,accounts:this.accounts}]})),this._manageStorageSession()):this._handleSessionDisconnect(e):this._handleSessionDisconnect(e)}async _handleIncomingMessages(e){if(![this.clientId,this.handshakeTopic].includes(e.topic))return;let i;try{i=JSON.parse(e.payload)}catch{return}let n=await this._decrypt(i);n&&this._eventManager.trigger(n)}_subscribeToSessionRequest(){this._transport.subscribe(this.handshakeTopic)}_subscribeToResponse(e,r){this.on(`response:${e}`,r)}_subscribeToSessionResponse(e,r){this._subscribeToResponse(e,(i,n)=>{if(i){this._handleSessionResponse(i.message);return}Xf(n)?this._handleSessionResponse(r,n.result):n.error&&n.error.message?this._handleSessionResponse(n.error.message):this._handleSessionResponse(r)})}_subscribeToCallResponse(e){return new Promise((r,i)=>{this._subscribeToResponse(e,(n,s)=>{if(n){i(n);return}Xf(s)?r(s.result):s.error&&s.error.message?i(s.error):i(new Error($_))})})}_subscribeToInternalEvents(){this.on("display_uri",()=>{this._qrcodeModal&&this._qrcodeModal.open(this.uri,()=>{this._eventManager.trigger({event:"modal_closed",params:[]})},this._qrcodeModalOptions)}),this.on("connect",()=>{this._qrcodeModal&&this._qrcodeModal.close()}),this.on("call_request_sent",(e,r)=>{let{request:i}=r.params[0];if(K9()&&this._signingMethods.includes(i.method)){let n=R1(y_);n&&(window.location.href=n.href)}}),this.on("wc_sessionRequest",(e,r)=>{e&&this._eventManager.trigger({event:"error",params:[{code:"SESSION_REQUEST_ERROR",message:e.toString()}]}),this.handshakeId=r.id,this.peerId=r.params[0].peerId,this.peerMeta=r.params[0].peerMeta;let i=Object.assign(Object.assign({},r),{method:"session_request"});this._eventManager.trigger(i)}),this.on("wc_sessionUpdate",(e,r)=>{e&&this._handleSessionResponse(e.message),this._handleSessionResponse("Session disconnected",r.params[0])})}_initTransport(){this._transport.on("message",e=>this._handleIncomingMessages(e)),this._transport.on("open",()=>this._eventManager.trigger({event:"transport_open",params:[]})),this._transport.on("close",()=>this._eventManager.trigger({event:"transport_close",params:[]})),this._transport.on("error",()=>this._eventManager.trigger({event:"transport_error",params:["Websocket connection failed"]})),this._transport.open()}_formatUri(){let e=this.protocol,r=this.handshakeTopic,i=this.version,n=encodeURIComponent(this.bridge),s=this.key;return`${e}:${r}@${i}?bridge=${n}&key=${s}`}_parseUri(e){let r=ET(e);if(r.protocol===this.protocol){if(!r.handshakeTopic)throw Error("Invalid or missing handshakeTopic parameter value");let i=r.handshakeTopic;if(!r.bridge)throw Error("Invalid or missing bridge url parameter value");let n=decodeURIComponent(r.bridge);if(!r.key)throw Error("Invalid or missing key parameter value");let s=r.key;return{handshakeTopic:i,bridge:n,key:s}}else throw new Error(XT)}async _generateKey(){return this._cryptoLib?await this._cryptoLib.generateKey():null}async _encrypt(e){let r=this._key;return this._cryptoLib&&r?await this._cryptoLib.encrypt(e,r):null}async _decrypt(e){let r=this._key;return this._cryptoLib&&r?await this._cryptoLib.decrypt(e,r):null}_getStorageSession(){let e=null;return this._sessionStorage&&(e=this._sessionStorage.getSession()),e}_setStorageSession(){this._sessionStorage&&this._sessionStorage.setSession(this.session)}_removeStorageSession(){this._sessionStorage&&this._sessionStorage.removeSession()}_manageStorageSession(){this._connected?this._setStorageSession():this._removeStorageSession()}_registerPushServer(e){if(!e.url||typeof e.url!="string")throw Error("Invalid or missing pushServerOpts.url parameter value");if(!e.type||typeof e.type!="string")throw Error("Invalid or missing pushServerOpts.type parameter value");if(!e.token||typeof e.token!="string")throw Error("Invalid or missing pushServerOpts.token parameter value");let r={bridge:this.bridge,topic:this.clientId,type:e.type,token:e.token,peerName:"",language:e.language||""};this.on("connect",async(i,n)=>{if(i)throw i;if(e.peerMeta){let s=n.params[0].peerMeta.name;r.peerName=s}try{if(!(await(await fetch(`${e.url}/new`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(r)})).json()).success)throw Error("Failed to register in Push Server")}catch{throw Error("Failed to register in Push Server")}})}},fO=Z_});function e6(t){return cO.getBrowerCrypto().getRandomValues(new Uint8Array(t))}var cO,hO=fe(()=>{y();cO=Ve(yh())});var Iee,t6,r6,hv,Mee,Cee,lv,i6,Tee,n6=fe(()=>{y();Iee=0,t6=1,r6=16,hv=32,Mee=64,Cee=128,lv=256,i6=512,Tee=1024});var e0,dv,As,s6,Zf,o6,a6,Oee,Nee,Bee,Dee,Ree,Pee,Lee,qee,Fee,lO=fe(()=>{y();n6();e0=256,dv=256,As="AES-CBC",s6=`SHA-${e0}`,Zf="HMAC",o6="SHA-256",a6="SHA-512",Oee=`aes-${e0}-cbc`,Nee=`sha${dv}`,Bee="sha256",Dee="sha512",Ree="ripemd160",Pee=1,Lee=32,qee=16,Fee=32});var Uee,kee,dO=fe(()=>{y();Uee="hex",kee="utf8"});var Hee,pO=fe(()=>{y();Hee="Bad MAC"});var f6,u6,c6,h6,gO=fe(()=>{y();f6="encrypt",u6="decrypt",c6="sign",h6="verify"});var l6=fe(()=>{y();lO();dO();pO();n6();gO()});function jee(t){return t===As?{length:e0,name:As}:{hash:{name:s6},name:Zf}}function Vee(t){return t===As?[f6,u6]:[c6,h6]}async function pv(t,e=As){return ga.getSubtleCrypto().importKey("raw",t,jee(e),!0,Vee(e))}async function vO(t,e,r){let i=ga.getSubtleCrypto(),n=await pv(e,As),s=await i.encrypt({iv:t,name:As},n,r);return new Uint8Array(s)}async function yO(t,e,r){let i=ga.getSubtleCrypto(),n=await pv(e,As),s=await i.decrypt({iv:t,name:As},n,r);return new Uint8Array(s)}async function d6(t,e){let r=ga.getSubtleCrypto(),i=await pv(t,Zf),n=await r.sign({length:dv,name:Zf},i,e);return new Uint8Array(n)}async function p6(t,e){let r=ga.getSubtleCrypto(),i=await pv(t,Zf),n=await r.sign({length:512,name:Zf},i,e);return new Uint8Array(n)}async function mO(t){let r=await ga.getSubtleCrypto().digest({name:o6},t);return new Uint8Array(r)}async function bO(t){let r=await ga.getSubtleCrypto().digest({name:a6},t);return new Uint8Array(r)}var ga,gv=fe(()=>{y();ga=Ve(yh());l6()});function g6(t,e,r){return vO(t,e,r)}function v6(t,e,r){return yO(t,e,r)}var wO=fe(()=>{y();gv()});var Zi={};var _O=fe(()=>{y();ft(Zi,Ve(yh()))});var zee,xO,EO=fe(()=>{y();zee=[[16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16],[15,15,15,15,15,15,15,15,15,15,15,15,15,15,15],[14,14,14,14,14,14,14,14,14,14,14,14,14,14],[13,13,13,13,13,13,13,13,13,13,13,13,13],[12,12,12,12,12,12,12,12,12,12,12,12],[11,11,11,11,11,11,11,11,11,11,11],[10,10,10,10,10,10,10,10,10,10],[9,9,9,9,9,9,9,9,9],[8,8,8,8,8,8,8,8],[7,7,7,7,7,7,7],[6,6,6,6,6,6],[5,5,5,5,5],[4,4,4,4],[3,3,3],[2,2],[1]],xO={pad(t){let e=zee[t.byteLength%16||0],r=new Uint8Array(t.byteLength+e.length);return r.set(t),r.set(e,t.byteLength),r},unpad(t){return t.subarray(0,t.byteLength-t[t.byteLength-1])}}});var AO=fe(()=>{y()});function SO(t,e){if(!t)throw new Error(e||"Assertion failed")}function t0(t,e){if(t.length!==e.length)return!1;let r=0;for(let i=0;i<t.length;i++)r|=t[i]^e[i];return r===0}var IO=fe(()=>{y()});var Rr={};Ut(Rr,{assert:()=>SO,isConstantTime:()=>t0,pkcs7:()=>xO});var y6=fe(()=>{y();_O();ft(Rr,Zi);EO();AO();IO()});async function vv(t,e){return await d6(t,e)}async function Kee(t,e,r){let i=await d6(t,e);return t0(i,r)}async function Gee(t,e){return await p6(t,e)}async function Qee(t,e,r){let i=await p6(t,e);return t0(i,r)}var MO=fe(()=>{y();gv();y6()});async function Wee(t){return await mO(t)}async function $ee(t){return await bO(t)}async function Yee(t){throw new Error("Not supported for Browser async methods, use sync instead!")}var CO=fe(()=>{y();gv()});var Nn={};Ut(Nn,{AES_BROWSER_ALGO:()=>As,AES_LENGTH:()=>e0,AES_NODE_ALGO:()=>Oee,DECRYPT_OP:()=>u6,ENCRYPT_OP:()=>f6,ERROR_BAD_MAC:()=>Hee,HEX_ENC:()=>Uee,HMAC_BROWSER:()=>Zf,HMAC_BROWSER_ALGO:()=>s6,HMAC_LENGTH:()=>dv,HMAC_NODE_ALGO:()=>Nee,IV_LENGTH:()=>qee,KEY_LENGTH:()=>Lee,LENGTH_0:()=>Iee,LENGTH_1:()=>t6,LENGTH_1024:()=>Tee,LENGTH_128:()=>Cee,LENGTH_16:()=>r6,LENGTH_256:()=>lv,LENGTH_32:()=>hv,LENGTH_512:()=>i6,LENGTH_64:()=>Mee,MAC_LENGTH:()=>Fee,PREFIX_LENGTH:()=>Pee,RIPEMD160_NODE_ALGO:()=>Ree,SHA256_BROWSER_ALGO:()=>o6,SHA256_NODE_ALGO:()=>Bee,SHA512_BROWSER_ALGO:()=>a6,SHA512_NODE_ALGO:()=>Dee,SIGN_OP:()=>c6,UTF8_ENC:()=>kee,VERIFY_OP:()=>h6,aesCbcDecrypt:()=>v6,aesCbcEncrypt:()=>g6,assert:()=>SO,hmacSha256Sign:()=>vv,hmacSha256Verify:()=>Kee,hmacSha512Sign:()=>Gee,hmacSha512Verify:()=>Qee,isConstantTime:()=>t0,pkcs7:()=>xO,randomBytes:()=>e6,ripemd160:()=>Yee,sha256:()=>Wee,sha512:()=>$ee});var TO=fe(()=>{y();hO();wO();MO();CO();y6();ft(Nn,Rr);l6()});var yv=fe(()=>{y()});function mv(t){return aa(new Uint8Array(t))}function OO(t){return ws(t).buffer}var Jee,m6=fe(()=>{y();Jee=Ve(Di());xi()});var b6=fe(()=>{y();xi();da();yv()});var w6=fe(()=>{y();xi();yv()});var Xee,NO=fe(()=>{y();Xee=Ve(Q1());xi();m6();b6();w6()});var BO=fe(()=>{y()});var kO=D(oo=>{"use strict";y();var Zee=$d(),ete=Yd(),RO=Jd(),tte=t=>t==null;function rte(t){switch(t.arrayFormat){case"index":return e=>(r,i)=>{let n=r.length;return i===void 0||t.skipNull&&i===null||t.skipEmptyString&&i===""?r:i===null?[...r,[Pr(e,t),"[",n,"]"].join("")]:[...r,[Pr(e,t),"[",Pr(n,t),"]=",Pr(i,t)].join("")]};case"bracket":return e=>(r,i)=>i===void 0||t.skipNull&&i===null||t.skipEmptyString&&i===""?r:i===null?[...r,[Pr(e,t),"[]"].join("")]:[...r,[Pr(e,t),"[]=",Pr(i,t)].join("")];case"comma":case"separator":return e=>(r,i)=>i==null||i.length===0?r:r.length===0?[[Pr(e,t),"=",Pr(i,t)].join("")]:[[r,Pr(i,t)].join(t.arrayFormatSeparator)];default:return e=>(r,i)=>i===void 0||t.skipNull&&i===null||t.skipEmptyString&&i===""?r:i===null?[...r,Pr(e,t)]:[...r,[Pr(e,t),"=",Pr(i,t)].join("")]}}function ite(t){let e;switch(t.arrayFormat){case"index":return(r,i,n)=>{if(e=/\[(\d*)\]$/.exec(r),r=r.replace(/\[\d*\]$/,""),!e){n[r]=i;return}n[r]===void 0&&(n[r]={}),n[r][e[1]]=i};case"bracket":return(r,i,n)=>{if(e=/(\[\])$/.exec(r),r=r.replace(/\[\]$/,""),!e){n[r]=i;return}if(n[r]===void 0){n[r]=[i];return}n[r]=[].concat(n[r],i)};case"comma":case"separator":return(r,i,n)=>{let o=typeof i=="string"&&i.split("").indexOf(t.arrayFormatSeparator)>-1?i.split(t.arrayFormatSeparator).map(f=>r0(f,t)):i===null?i:r0(i,t);n[r]=o};default:return(r,i,n)=>{if(n[r]===void 0){n[r]=i;return}n[r]=[].concat(n[r],i)}}}function PO(t){if(typeof t!="string"||t.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function Pr(t,e){return e.encode?e.strict?Zee(t):encodeURIComponent(t):t}function r0(t,e){return e.decode?ete(t):t}function LO(t){return Array.isArray(t)?t.sort():typeof t=="object"?LO(Object.keys(t)).sort((e,r)=>Number(e)-Number(r)).map(e=>t[e]):t}function qO(t){let e=t.indexOf("#");return e!==-1&&(t=t.slice(0,e)),t}function nte(t){let e="",r=t.indexOf("#");return r!==-1&&(e=t.slice(r)),e}function FO(t){t=qO(t);let e=t.indexOf("?");return e===-1?"":t.slice(e+1)}function DO(t,e){return e.parseNumbers&&!Number.isNaN(Number(t))&&typeof t=="string"&&t.trim()!==""?t=Number(t):e.parseBooleans&&t!==null&&(t.toLowerCase()==="true"||t.toLowerCase()==="false")&&(t=t.toLowerCase()==="true"),t}function UO(t,e){e=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},e),PO(e.arrayFormatSeparator);let r=ite(e),i=Object.create(null);if(typeof t!="string"||(t=t.trim().replace(/^[?#&]/,""),!t))return i;for(let n of t.split("&")){let[s,o]=RO(e.decode?n.replace(/\+/g," "):n,"=");o=o===void 0?null:["comma","separator"].includes(e.arrayFormat)?o:r0(o,e),r(r0(s,e),o,i)}for(let n of Object.keys(i)){let s=i[n];if(typeof s=="object"&&s!==null)for(let o of Object.keys(s))s[o]=DO(s[o],e);else i[n]=DO(s,e)}return e.sort===!1?i:(e.sort===!0?Object.keys(i).sort():Object.keys(i).sort(e.sort)).reduce((n,s)=>{let o=i[s];return Boolean(o)&&typeof o=="object"&&!Array.isArray(o)?n[s]=LO(o):n[s]=o,n},Object.create(null))}oo.extract=FO;oo.parse=UO;oo.stringify=(t,e)=>{if(!t)return"";e=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},e),PO(e.arrayFormatSeparator);let r=o=>e.skipNull&&tte(t[o])||e.skipEmptyString&&t[o]==="",i=rte(e),n={};for(let o of Object.keys(t))r(o)||(n[o]=t[o]);let s=Object.keys(n);return e.sort!==!1&&s.sort(e.sort),s.map(o=>{let f=t[o];return f===void 0?"":f===null?Pr(o,e):Array.isArray(f)?f.reduce(i(o),[]).join("&"):Pr(o,e)+"="+Pr(f,e)}).filter(o=>o.length>0).join("&")};oo.parseUrl=(t,e)=>{e=Object.assign({decode:!0},e);let[r,i]=RO(t,"#");return Object.assign({url:r.split("?")[0]||"",query:UO(FO(t),e)},e&&e.parseFragmentIdentifier&&i?{fragmentIdentifier:r0(i,e)}:{})};oo.stringifyUrl=(t,e)=>{e=Object.assign({encode:!0,strict:!0},e);let r=qO(t.url).split("?")[0]||"",i=oo.extract(t.url),n=oo.parse(i,{sort:!1}),s=Object.assign(n,t.query),o=oo.stringify(s,e);o&&(o=`?${o}`);let f=nte(t.url);return t.fragmentIdentifier&&(f=`#${Pr(t.fragmentIdentifier,e)}`),`${r}${o}${f}`}});var HO,_6=fe(()=>{y();HO=Ve(kO())});var jO=fe(()=>{y();_6()});var VO=fe(()=>{y();L1();yv();m6();NO();b6();BO();jO();_6();w6()});var x6={};Ut(x6,{decrypt:()=>ote,encrypt:()=>ste,generateKey:()=>zO,verifyHmac:()=>KO});async function zO(t){let e=(t||256)/8,r=e6(e);return OO(aa(r))}async function KO(t,e){let r=xs(t.data),i=xs(t.iv),n=xs(t.hmac),s=_s(n,!1),o=__(r,i),f=await vv(e,o),l=_s(f,!1);return br(s)===br(l)}async function ste(t,e,r){let i=ws(mv(e)),n=r||await zO(128),s=ws(mv(n)),o=_s(s,!1),f=JSON.stringify(t),l=zd(f),b=await g6(s,i,l),E=_s(b,!1),C=__(b,s),N=await vv(i,C),L=_s(N,!1);return{data:E,hmac:L,iv:o}}async function ote(t,e){let r=ws(mv(e));if(!r)throw new Error("Missing key: required for decryption");if(!await KO(t,r))return null;let n=xs(t.data),s=xs(t.iv),o=await v6(s,r,n),f=Vd(o),l;try{l=JSON.parse(f)}catch{return null}return l}var GO=fe(()=>{y();TO();xi();VO()});var QO={};Ut(QO,{default:()=>ate});var E6,ate,WO=fe(()=>{y();uO();GO();E6=class extends fO{constructor(e,r){super({cryptoLib:x6,connectorOpts:e,pushServerOpts:r})}},ate=E6});var A6=D(_h=>{"use strict";y();Object.defineProperty(_h,"__esModule",{value:!0});_h.WALLETCONNECT_ELROND_NAMESPACE=_h.WALLETCONNECT_ELROND_CHAIN_ID=void 0;_h.WALLETCONNECT_ELROND_CHAIN_ID=508;_h.WALLETCONNECT_ELROND_NAMESPACE="elrond"});var I6=D(bv=>{"use strict";y();Object.defineProperty(bv,"__esModule",{value:!0});bv.Logger=void 0;var S6=class{static error(e){console.error(e)}static trace(e){console.trace(e)}};bv.Logger=S6});var T6=D(va=>{"use strict";y();Object.defineProperty(va,"__esModule",{value:!0});va.ErrBadAddress=va.ErrNotImplemented=va.Err=void 0;var i0=class extends Error{constructor(e,r){super(e),this.inner=void 0,this.inner=r}};va.Err=i0;var M6=class extends i0{constructor(){super("Method not yet implemented")}};va.ErrNotImplemented=M6;var C6=class extends i0{constructor(e,r){super(`Bad address: ${e}`,r)}};va.ErrBadAddress=C6});var N6=D(xh=>{"use strict";y();Object.defineProperty(xh,"__esModule",{value:!0});xh.Signature=xh.Address=void 0;var O6=class{constructor(e){this.value=e}bech32(){return this.value}};xh.Address=O6;var n0=class{constructor(e){this.buffer=e}static fromHex(e){return new n0(M.Buffer.from(e,"hex"))}hex(){return this.buffer.toString("hex")}};xh.Signature=n0});var B6=D(Ss=>{"use strict";y();var fte=Ss&&Ss.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),ute=Ss&&Ss.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),cte=Ss&&Ss.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&fte(e,t,r);return ute(e,t),e};Object.defineProperty(Ss,"__esModule",{value:!0});Ss.UserAddress=void 0;var hte=cte(yg()),$O=T6(),lte="erd",s0=class{constructor(e){this.value=e}static fromBech32(e){let r;try{r=hte.decode(e)}catch(i){throw new $O.ErrBadAddress(e,i)}if(r.prefix!=lte)throw new $O.ErrBadAddress(e);return new s0(e)}bech32(){return this.value}};Ss.UserAddress=s0});var JO=D(ya=>{"use strict";y();var en=ya&&ya.__awaiter||function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function f(E){try{b(i.next(E))}catch(C){o(C)}}function l(E){try{b(i.throw(E))}catch(C){o(C)}}function b(E){E.done?s(E.value):n(E.value).then(f,l)}b((i=i.apply(t,e||[])).next())})},dte=ya&&ya.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ya,"__esModule",{value:!0});ya.WalletConnectProvider=void 0;var pte=dte((WO(),_n(QO))),gte=A6(),Ri=I6(),vte=T6(),YO=N6(),D6=B6(),R6=class{constructor(e,r){this.address="",this.signature="",this.walletConnectBridge=e,this.onClientConnect=r}init(){return en(this,void 0,void 0,function*(){if(this.walletConnector=new pte.default({bridge:this.walletConnectBridge}),this.walletConnector.on("connect",this.onConnect.bind(this)),this.walletConnector.on("session_update",this.onDisconnect.bind(this)),this.walletConnector.on("disconnect",this.onDisconnect.bind(this)),this.walletConnector.connected&&this.walletConnector.accounts.length){let[e]=this.walletConnector.accounts,[r,i]=e.split(".");yield this.loginAccount(r,i)}return!0})}isInitialized(){return!!this.walletConnector}isConnected(){return new Promise((e,r)=>{var i;return e(Boolean(this.isInitialized()&&((i=this.walletConnector)===null||i===void 0?void 0:i.connected)&&this.address))})}login(){var e,r,i,n;return en(this,void 0,void 0,function*(){return this.walletConnector||(yield this.init()),!((e=this.walletConnector)===null||e===void 0)&&e.connected?(yield this.walletConnector.killSession(),Ri.Logger.trace("WalletConnect login started but walletConnect not initialized"),""):(yield(r=this.walletConnector)===null||r===void 0?void 0:r.createSession({chainId:gte.WALLETCONNECT_ELROND_CHAIN_ID}),!((i=this.walletConnector)===null||i===void 0)&&i.uri?(n=this.walletConnector)===null||n===void 0?void 0:n.uri:"")})}logout(){var e;return en(this,void 0,void 0,function*(){if(!this.walletConnector)throw Ri.Logger.error("logout: Wallet Connect not initialised, call init() first"),new Error("Wallet Connect not initialised, call init() first");return this.walletConnector.connected&&(yield(e=this.walletConnector)===null||e===void 0?void 0:e.killSession()),!0})}getAddress(){return en(this,void 0,void 0,function*(){if(!this.walletConnector)throw Ri.Logger.error("getAddress: Wallet Connect not initialised, call init() first"),new Error("Wallet Connect not initialised, call init() first");return this.address})}getSignature(){return en(this,void 0,void 0,function*(){if(!this.walletConnector)throw Ri.Logger.error("getSignature: Wallet Connect not initialised, call init() first"),new Error("Wallet Connect not initialised, call init() first");return this.signature})}signMessage(e){return en(this,void 0,void 0,function*(){throw new vte.ErrNotImplemented})}signTransaction(e){return en(this,void 0,void 0,function*(){if(!this.walletConnector)throw Ri.Logger.error("signTransaction: Wallet Connect not initialised, call init() first"),new Error("Wallet Connect not initialised, call init() first");let r=yield this.getAddress(),i=yield this.walletConnector.sendCustomRequest({method:"erd_sign",params:this.prepareWalletConnectMessage(e,r)});if(!i||!i.signature)throw Ri.Logger.error("signTransaction: Wallet Connect could not sign the transaction"),new Error("Wallet Connect could not sign the transaction");return e.applySignature(YO.Signature.fromHex(i.signature),D6.UserAddress.fromBech32(r)),e})}signTransactions(e){return en(this,void 0,void 0,function*(){if(e.length===1)return[yield this.signTransaction(e[0])];if(!this.walletConnector)throw Ri.Logger.error("signTransactions: Wallet Connect not initialised, call init() first"),new Error("Wallet Connect not initialised, call init() first");let r=yield this.getAddress(),i=e.map(s=>this.prepareWalletConnectMessage(s,r)),n=yield this.walletConnector.sendCustomRequest({method:"erd_batch_sign",params:i});if(!n||!Array.isArray(n))throw Ri.Logger.error("signTransactions: Wallet Connect could not sign the transactions"),new Error("Wallet Connect could not sign the transactions");if(e.length!==n.length)throw Ri.Logger.error("signTransactions: Wallet Connect could not sign the transactions. Invalid signatures."),new Error("Wallet Connect could not sign the transactions. Invalid signatures.");for(let[s,o]of e.entries())o.applySignature(YO.Signature.fromHex(n[s].signature),D6.UserAddress.fromBech32(r));return e})}sendCustomMessage({method:e,params:r}){return en(this,void 0,void 0,function*(){if(!this.walletConnector)throw Ri.Logger.error("sendCustomMessage: Wallet Connect not initialised, call init() first"),new Error("Wallet Connect not initialised, call init() first");let i=yield this.walletConnector.sendCustomRequest({method:e,params:r});if(!i)throw Ri.Logger.error("sendCustomMessage: Wallet Connect could not send the message"),new Error("Wallet Connect could not send the message");return i})}onConnect(e,{params:r}){return en(this,void 0,void 0,function*(){if(e)throw e;if(!r||!r[0])throw Ri.Logger.error("Wallet Connect missing payload"),new Error("missing payload");let{accounts:[i]}=r[0],[n,s]=i.split(".");yield this.loginAccount(n,s)})}onDisconnect(e){return en(this,void 0,void 0,function*(){if(e)throw e;this.onClientConnect.onClientLogout()})}loginAccount(e,r){var i,n;return en(this,void 0,void 0,function*(){if(this.addressIsValid(e)){this.address=e,r&&(this.signature=r),this.onClientConnect.onClientLogin();return}Ri.Logger.error(`Wallet Connect invalid address ${e}`),!((i=this.walletConnector)===null||i===void 0)&&i.connected&&(yield(n=this.walletConnector)===null||n===void 0?void 0:n.killSession())})}prepareWalletConnectMessage(e,r){return{nonce:e.getNonce().valueOf(),from:r,to:e.getReceiver().toString(),amount:e.getValue().toString(),gasPrice:e.getGasPrice().valueOf().toString(),gasLimit:e.getGasLimit().valueOf().toString(),data:M.Buffer.from(e.getData().toString().trim()).toString(),chainId:e.getChainID().valueOf(),version:e.getVersion().valueOf()}}addressIsValid(e){try{return!!D6.UserAddress.fromBech32(e)}catch{return!1}}};ya.WalletConnectProvider=R6});var ZO=D((ZSe,XO)=>{"use strict";y();function yte(t){try{return JSON.stringify(t)}catch{return'"[Circular]"'}}XO.exports=mte;function mte(t,e,r){var i=r&&r.stringify||yte,n=1;if(typeof t=="object"&&t!==null){var s=e.length+n;if(s===1)return t;var o=new Array(s);o[0]=i(t);for(var f=1;f<s;f++)o[f]=i(e[f]);return o.join(" ")}if(typeof t!="string")return t;var l=e.length;if(l===0)return t;for(var b="",E=1-n,C=-1,N=t&&t.length||0,L=0;L<N;){if(t.charCodeAt(L)===37&&L+1<N){switch(C=C>-1?C:0,t.charCodeAt(L+1)){case 100:case 102:if(E>=l||e[E]==null)break;C<L&&(b+=t.slice(C,L)),b+=Number(e[E]),C=L+2,L++;break;case 105:if(E>=l||e[E]==null)break;C<L&&(b+=t.slice(C,L)),b+=Math.floor(Number(e[E])),C=L+2,L++;break;case 79:case 111:case 106:if(E>=l||e[E]===void 0)break;C<L&&(b+=t.slice(C,L));var R=typeof e[E];if(R==="string"){b+="'"+e[E]+"'",C=L+2,L++;break}if(R==="function"){b+=e[E].name||"<anonymous>",C=L+2,L++;break}b+=i(e[E]),C=L+2,L++;break;case 115:if(E>=l)break;C<L&&(b+=t.slice(C,L)),b+=String(e[E]),C=L+2,L++;break;case 37:C<L&&(b+=t.slice(C,L)),b+="%",C=L+2,L++,E--;break}++E}++L}return C===-1?t:(C<N&&(b+=t.slice(C)),b)}});var q6=D((tIe,iN)=>{"use strict";y();var eN=ZO();iN.exports=Is;var o0=Mte().console||{},bte={mapHttpRequest:wv,mapHttpResponse:wv,wrapRequestSerializer:P6,wrapResponseSerializer:P6,wrapErrorSerializer:P6,req:wv,res:wv,err:Ete};function Is(t){t=t||{},t.browser=t.browser||{};var e=t.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");var r=t.browser.write||o0;t.browser.write&&(t.browser.asObject=!0);var i=t.serializers||{},n=Array.isArray(t.browser.serialize)?t.browser.serialize.filter(function(R){return R!=="!stdSerializers.err"}):t.browser.serialize===!0?Object.keys(i):!1,s=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(s=!1);var o=["error","fatal","warn","info","debug","trace"];typeof r=="function"&&(r.error=r.fatal=r.warn=r.info=r.debug=r.trace=r),t.enabled===!1&&(t.level="silent");var f=t.level||"info",l=Object.create(r);l.log||(l.log=a0),Object.defineProperty(l,"levelVal",{get:E}),Object.defineProperty(l,"level",{get:C,set:N});var b={transmit:e,serialize:n,asObject:t.browser.asObject,levels:o,timestamp:Ate(t)};l.levels=Is.levels,l.level=f,l.setMaxListeners=l.getMaxListeners=l.emit=l.addListener=l.on=l.prependListener=l.once=l.prependOnceListener=l.removeListener=l.removeAllListeners=l.listeners=l.listenerCount=l.eventNames=l.write=l.flush=a0,l.serializers=i,l._serialize=n,l._stdErrSerialize=s,l.child=L,e&&(l._logEvent=L6());function E(){return this.level==="silent"?1/0:this.levels.values[this.level]}function C(){return this._level}function N(R){if(R!=="silent"&&!this.levels.values[R])throw Error("unknown level "+R);this._level=R,Eh(b,l,"error","log"),Eh(b,l,"fatal","error"),Eh(b,l,"warn","error"),Eh(b,l,"info","log"),Eh(b,l,"debug","log"),Eh(b,l,"trace","log")}function L(R){if(!R)throw new Error("missing bindings for child Pino");var V=R.serializers;if(n&&V){var W=Object.assign({},i,V),$=t.browser.serialize===!0?Object.keys(W):n;delete R.serializers,_v([R],$,W,this._stdErrSerialize)}function re(ee){this._childLevel=(ee._childLevel|0)+1,this.error=Ah(ee,R,"error"),this.fatal=Ah(ee,R,"fatal"),this.warn=Ah(ee,R,"warn"),this.info=Ah(ee,R,"info"),this.debug=Ah(ee,R,"debug"),this.trace=Ah(ee,R,"trace"),W&&(this.serializers=W,this._serialize=$),e&&(this._logEvent=L6([].concat(ee._logEvent.bindings,R)))}return re.prototype=this,new re(this)}return l}Is.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};Is.stdSerializers=bte;Is.stdTimeFunctions=Object.assign({},{nullTime:tN,epochTime:rN,unixTime:Ste,isoTime:Ite});function Eh(t,e,r,i){var n=Object.getPrototypeOf(e);e[r]=e.levelVal>e.levels.values[r]?a0:n[r]?n[r]:o0[r]||o0[i]||a0,wte(t,e,r)}function wte(t,e,r){!t.transmit&&e[r]===a0||(e[r]=function(i){return function(){for(var s=t.timestamp(),o=new Array(arguments.length),f=Object.getPrototypeOf&&Object.getPrototypeOf(this)===o0?o0:this,l=0;l<o.length;l++)o[l]=arguments[l];if(t.serialize&&!t.asObject&&_v(o,this._serialize,this.serializers,this._stdErrSerialize),t.asObject?i.call(f,_te(this,r,o,s)):i.apply(f,o),t.transmit){var b=t.transmit.level||e.level,E=Is.levels.values[b],C=Is.levels.values[r];if(C<E)return;xte(this,{ts:s,methodLevel:r,methodValue:C,transmitLevel:b,transmitValue:Is.levels.values[t.transmit.level||e.level],send:t.transmit.send,val:e.levelVal},o)}}}(e[r]))}function _te(t,e,r,i){t._serialize&&_v(r,t._serialize,t.serializers,t._stdErrSerialize);var n=r.slice(),s=n[0],o={};i&&(o.time=i),o.level=Is.levels.values[e];var f=(t._childLevel|0)+1;if(f<1&&(f=1),s!==null&&typeof s=="object"){for(;f--&&typeof n[0]=="object";)Object.assign(o,n.shift());s=n.length?eN(n.shift(),n):void 0}else typeof s=="string"&&(s=eN(n.shift(),n));return s!==void 0&&(o.msg=s),o}function _v(t,e,r,i){for(var n in t)if(i&&t[n]instanceof Error)t[n]=Is.stdSerializers.err(t[n]);else if(typeof t[n]=="object"&&!Array.isArray(t[n]))for(var s in t[n])e&&e.indexOf(s)>-1&&s in r&&(t[n][s]=r[s](t[n][s]))}function Ah(t,e,r){return function(){var i=new Array(1+arguments.length);i[0]=e;for(var n=1;n<i.length;n++)i[n]=arguments[n-1];return t[r].apply(this,i)}}function xte(t,e,r){var i=e.send,n=e.ts,s=e.methodLevel,o=e.methodValue,f=e.val,l=t._logEvent.bindings;_v(r,t._serialize||Object.keys(t.serializers),t.serializers,t._stdErrSerialize===void 0?!0:t._stdErrSerialize),t._logEvent.ts=n,t._logEvent.messages=r.filter(function(b){return l.indexOf(b)===-1}),t._logEvent.level.label=s,t._logEvent.level.value=o,i(s,t._logEvent,f),t._logEvent=L6(l)}function L6(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}function Ete(t){var e={type:t.constructor.name,msg:t.message,stack:t.stack};for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}function Ate(t){return typeof t.timestamp=="function"?t.timestamp:t.timestamp===!1?tN:rN}function wv(){return{}}function P6(t){return t}function a0(){}function tN(){return!1}function rN(){return Date.now()}function Ste(){return Math.round(Date.now()/1e3)}function Ite(){return new Date(Date.now()).toISOString()}function Mte(){function t(e){return typeof e<"u"&&e}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return t(self)||t(window)||t(this)||{}}}});var Av=D((iIe,Ev)=>{y();var nN,sN,oN,aN,fN,uN,cN,hN,lN,xv,F6,dN,pN,Sh,gN,vN,yN,mN,bN,wN,_N,xN,EN;(function(t){var e=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(i){t(r(e,r(i)))}):typeof Ev=="object"&&typeof Ev.exports=="object"?t(r(e,r(Ev.exports))):t(r(e));function r(i,n){return i!==e&&(typeof Object.create=="function"?Object.defineProperty(i,"__esModule",{value:!0}):i.__esModule=!0),function(s,o){return i[s]=n?n(s,o):o}}})(function(t){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var n in i)i.hasOwnProperty(n)&&(r[n]=i[n])};nN=function(r,i){e(r,i);function n(){this.constructor=r}r.prototype=i===null?Object.create(i):(n.prototype=i.prototype,new n)},sN=Object.assign||function(r){for(var i,n=1,s=arguments.length;n<s;n++){i=arguments[n];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])}return r},oN=function(r,i){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&i.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)i.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n},aN=function(r,i,n,s){var o=arguments.length,f=o<3?i:s===null?s=Object.getOwnPropertyDescriptor(i,n):s,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(r,i,n,s);else for(var b=r.length-1;b>=0;b--)(l=r[b])&&(f=(o<3?l(f):o>3?l(i,n,f):l(i,n))||f);return o>3&&f&&Object.defineProperty(i,n,f),f},fN=function(r,i){return function(n,s){i(n,s,r)}},uN=function(r,i){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,i)},cN=function(r,i,n,s){function o(f){return f instanceof n?f:new n(function(l){l(f)})}return new(n||(n=Promise))(function(f,l){function b(N){try{C(s.next(N))}catch(L){l(L)}}function E(N){try{C(s.throw(N))}catch(L){l(L)}}function C(N){N.done?f(N.value):o(N.value).then(b,E)}C((s=s.apply(r,i||[])).next())})},hN=function(r,i){var n={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},s,o,f,l;return l={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function b(C){return function(N){return E([C,N])}}function E(C){if(s)throw new TypeError("Generator is already executing.");for(;n;)try{if(s=1,o&&(f=C[0]&2?o.return:C[0]?o.throw||((f=o.return)&&f.call(o),0):o.next)&&!(f=f.call(o,C[1])).done)return f;switch(o=0,f&&(C=[C[0]&2,f.value]),C[0]){case 0:case 1:f=C;break;case 4:return n.label++,{value:C[1],done:!1};case 5:n.label++,o=C[1],C=[0];continue;case 7:C=n.ops.pop(),n.trys.pop();continue;default:if(f=n.trys,!(f=f.length>0&&f[f.length-1])&&(C[0]===6||C[0]===2)){n=0;continue}if(C[0]===3&&(!f||C[1]>f[0]&&C[1]<f[3])){n.label=C[1];break}if(C[0]===6&&n.label<f[1]){n.label=f[1],f=C;break}if(f&&n.label<f[2]){n.label=f[2],n.ops.push(C);break}f[2]&&n.ops.pop(),n.trys.pop();continue}C=i.call(r,n)}catch(N){C=[6,N],o=0}finally{s=f=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}},EN=function(r,i,n,s){s===void 0&&(s=n),r[s]=i[n]},lN=function(r,i){for(var n in r)n!=="default"&&!i.hasOwnProperty(n)&&(i[n]=r[n])},xv=function(r){var i=typeof Symbol=="function"&&Symbol.iterator,n=i&&r[i],s=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&s>=r.length&&(r=void 0),{value:r&&r[s++],done:!r}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},F6=function(r,i){var n=typeof Symbol=="function"&&r[Symbol.iterator];if(!n)return r;var s=n.call(r),o,f=[],l;try{for(;(i===void 0||i-- >0)&&!(o=s.next()).done;)f.push(o.value)}catch(b){l={error:b}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(l)throw l.error}}return f},dN=function(){for(var r=[],i=0;i<arguments.length;i++)r=r.concat(F6(arguments[i]));return r},pN=function(){for(var r=0,i=0,n=arguments.length;i<n;i++)r+=arguments[i].length;for(var s=Array(r),o=0,i=0;i<n;i++)for(var f=arguments[i],l=0,b=f.length;l<b;l++,o++)s[o]=f[l];return s},Sh=function(r){return this instanceof Sh?(this.v=r,this):new Sh(r)},gN=function(r,i,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n.apply(r,i||[]),o,f=[];return o={},l("next"),l("throw"),l("return"),o[Symbol.asyncIterator]=function(){return this},o;function l(R){s[R]&&(o[R]=function(V){return new Promise(function(W,$){f.push([R,V,W,$])>1||b(R,V)})})}function b(R,V){try{E(s[R](V))}catch(W){L(f[0][3],W)}}function E(R){R.value instanceof Sh?Promise.resolve(R.value.v).then(C,N):L(f[0][2],R)}function C(R){b("next",R)}function N(R){b("throw",R)}function L(R,V){R(V),f.shift(),f.length&&b(f[0][0],f[0][1])}},vN=function(r){var i,n;return i={},s("next"),s("throw",function(o){throw o}),s("return"),i[Symbol.iterator]=function(){return this},i;function s(o,f){i[o]=r[o]?function(l){return(n=!n)?{value:Sh(r[o](l)),done:o==="return"}:f?f(l):l}:f}},yN=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=r[Symbol.asyncIterator],n;return i?i.call(r):(r=typeof xv=="function"?xv(r):r[Symbol.iterator](),n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n);function s(f){n[f]=r[f]&&function(l){return new Promise(function(b,E){l=r[f](l),o(b,E,l.done,l.value)})}}function o(f,l,b,E){Promise.resolve(E).then(function(C){f({value:C,done:b})},l)}},mN=function(r,i){return Object.defineProperty?Object.defineProperty(r,"raw",{value:i}):r.raw=i,r},bN=function(r){if(r&&r.__esModule)return r;var i={};if(r!=null)for(var n in r)Object.hasOwnProperty.call(r,n)&&(i[n]=r[n]);return i.default=r,i},wN=function(r){return r&&r.__esModule?r:{default:r}},_N=function(r,i){if(!i.has(r))throw new TypeError("attempted to get private field on non-instance");return i.get(r)},xN=function(r,i,n){if(!i.has(r))throw new TypeError("attempted to set private field on non-instance");return i.set(r,n),n},t("__extends",nN),t("__assign",sN),t("__rest",oN),t("__decorate",aN),t("__param",fN),t("__metadata",uN),t("__awaiter",cN),t("__generator",hN),t("__exportStar",lN),t("__createBinding",EN),t("__values",xv),t("__read",F6),t("__spread",dN),t("__spreadArrays",pN),t("__await",Sh),t("__asyncGenerator",gN),t("__asyncDelegator",vN),t("__asyncValues",yN),t("__makeTemplateObject",mN),t("__importStar",bN),t("__importDefault",wN),t("__classPrivateFieldGet",_N),t("__classPrivateFieldSet",xN)})});var AN=D((sIe,U6)=>{y();(function(){"use strict";var t;function e(){}t=e,t.prototype.getItem=function(r){return this.hasOwnProperty(r)?String(this[r]):null},t.prototype.setItem=function(r,i){this[r]=String(i)},t.prototype.removeItem=function(r){delete this[r]},t.prototype.clear=function(){var r=this;Object.keys(r).forEach(function(i){r[i]=void 0,delete r[i]})},t.prototype.key=function(r){return r=r||0,Object.keys(this)[r]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),global.localStorage?U6.exports=localStorage:U6.exports=new e})()});var k6=D(Sv=>{"use strict";y();Object.defineProperty(Sv,"__esModule",{value:!0});function Cte(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return JSON.parse(t)}catch{return t}}Sv.safeJsonParse=Cte;function Tte(t){return typeof t=="string"?t:JSON.stringify(t,(e,r)=>typeof r>"u"?null:r)}Sv.safeJsonStringify=Tte});var SN=D(Iv=>{"use strict";y();Object.defineProperty(Iv,"__esModule",{value:!0});Iv.IKeyValueStorage=void 0;var H6=class{};Iv.IKeyValueStorage=H6});var IN=D(Mv=>{"use strict";y();Object.defineProperty(Mv,"__esModule",{value:!0});Mv.parseEntry=void 0;var Ote=k6();function Nte(t){var e;return[t[0],Ote.safeJsonParse((e=t[1])!==null&&e!==void 0?e:"")]}Mv.parseEntry=Nte});var CN=D(Cv=>{"use strict";y();Object.defineProperty(Cv,"__esModule",{value:!0});var MN=Av();MN.__exportStar(SN(),Cv);MN.__exportStar(IN(),Cv)});var ON=D(f0=>{"use strict";y();Object.defineProperty(f0,"__esModule",{value:!0});f0.KeyValueStorage=void 0;var Ih=Av(),Bte=Ih.__importDefault(AN()),TN=k6(),Dte=CN(),Tv=class{constructor(){this.localStorage=Bte.default}getKeys(){return Ih.__awaiter(this,void 0,void 0,function*(){return Object.keys(this.localStorage)})}getEntries(){return Ih.__awaiter(this,void 0,void 0,function*(){return Object.entries(this.localStorage).map(Dte.parseEntry)})}getItem(e){return Ih.__awaiter(this,void 0,void 0,function*(){let r=this.localStorage.getItem(e);if(r!==null)return TN.safeJsonParse(r)})}setItem(e,r){return Ih.__awaiter(this,void 0,void 0,function*(){this.localStorage.setItem(e,TN.safeJsonStringify(r))})}removeItem(e){return Ih.__awaiter(this,void 0,void 0,function*(){this.localStorage.removeItem(e)})}};f0.KeyValueStorage=Tv;f0.default=Tv});var eu=D((yIe,j6)=>{"use strict";y();var Mh=typeof Reflect=="object"?Reflect:null,NN=Mh&&typeof Mh.apply=="function"?Mh.apply:function(e,r,i){return Function.prototype.apply.call(e,r,i)},Ov;Mh&&typeof Mh.ownKeys=="function"?Ov=Mh.ownKeys:Object.getOwnPropertySymbols?Ov=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Ov=function(e){return Object.getOwnPropertyNames(e)};function Rte(t){console&&console.warn&&console.warn(t)}var DN=Number.isNaN||function(e){return e!==e};function Tt(){Tt.init.call(this)}j6.exports=Tt;j6.exports.once=Fte;Tt.EventEmitter=Tt;Tt.prototype._events=void 0;Tt.prototype._eventsCount=0;Tt.prototype._maxListeners=void 0;var BN=10;function Nv(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(Tt,"defaultMaxListeners",{enumerable:!0,get:function(){return BN},set:function(t){if(typeof t!="number"||t<0||DN(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");BN=t}});Tt.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Tt.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||DN(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function RN(t){return t._maxListeners===void 0?Tt.defaultMaxListeners:t._maxListeners}Tt.prototype.getMaxListeners=function(){return RN(this)};Tt.prototype.emit=function(e){for(var r=[],i=1;i<arguments.length;i++)r.push(arguments[i]);var n=e==="error",s=this._events;if(s!==void 0)n=n&&s.error===void 0;else if(!n)return!1;if(n){var o;if(r.length>0&&(o=r[0]),o instanceof Error)throw o;var f=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw f.context=o,f}var l=s[e];if(l===void 0)return!1;if(typeof l=="function")NN(l,this,r);else for(var b=l.length,E=UN(l,b),i=0;i<b;++i)NN(E[i],this,r);return!0};function PN(t,e,r,i){var n,s,o;if(Nv(r),s=t._events,s===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),s=t._events),o=s[e]),o===void 0)o=s[e]=r,++t._eventsCount;else if(typeof o=="function"?o=s[e]=i?[r,o]:[o,r]:i?o.unshift(r):o.push(r),n=RN(t),n>0&&o.length>n&&!o.warned){o.warned=!0;var f=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");f.name="MaxListenersExceededWarning",f.emitter=t,f.type=e,f.count=o.length,Rte(f)}return t}Tt.prototype.addListener=function(e,r){return PN(this,e,r,!1)};Tt.prototype.on=Tt.prototype.addListener;Tt.prototype.prependListener=function(e,r){return PN(this,e,r,!0)};function Pte(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function LN(t,e,r){var i={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},n=Pte.bind(i);return n.listener=r,i.wrapFn=n,n}Tt.prototype.once=function(e,r){return Nv(r),this.on(e,LN(this,e,r)),this};Tt.prototype.prependOnceListener=function(e,r){return Nv(r),this.prependListener(e,LN(this,e,r)),this};Tt.prototype.removeListener=function(e,r){var i,n,s,o,f;if(Nv(r),n=this._events,n===void 0)return this;if(i=n[e],i===void 0)return this;if(i===r||i.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,i.listener||r));else if(typeof i!="function"){for(s=-1,o=i.length-1;o>=0;o--)if(i[o]===r||i[o].listener===r){f=i[o].listener,s=o;break}if(s<0)return this;s===0?i.shift():Lte(i,s),i.length===1&&(n[e]=i[0]),n.removeListener!==void 0&&this.emit("removeListener",e,f||r)}return this};Tt.prototype.off=Tt.prototype.removeListener;Tt.prototype.removeAllListeners=function(e){var r,i,n;if(i=this._events,i===void 0)return this;if(i.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):i[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete i[e]),this;if(arguments.length===0){var s=Object.keys(i),o;for(n=0;n<s.length;++n)o=s[n],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=i[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(n=r.length-1;n>=0;n--)this.removeListener(e,r[n]);return this};function qN(t,e,r){var i=t._events;if(i===void 0)return[];var n=i[e];return n===void 0?[]:typeof n=="function"?r?[n.listener||n]:[n]:r?qte(n):UN(n,n.length)}Tt.prototype.listeners=function(e){return qN(this,e,!0)};Tt.prototype.rawListeners=function(e){return qN(this,e,!1)};Tt.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):FN.call(t,e)};Tt.prototype.listenerCount=FN;function FN(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}Tt.prototype.eventNames=function(){return this._eventsCount>0?Ov(this._events):[]};function UN(t,e){for(var r=new Array(e),i=0;i<e;++i)r[i]=t[i];return r}function Lte(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function qte(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function Fte(t,e){return new Promise(function(r,i){function n(o){t.removeListener(e,s),i(o)}function s(){typeof t.removeListener=="function"&&t.removeListener("error",n),r([].slice.call(arguments))}kN(t,e,s,{once:!0}),e!=="error"&&Ute(t,n,{once:!0})})}function Ute(t,e,r){typeof t.on=="function"&&kN(t,"error",e,r)}function kN(t,e,r,i){if(typeof t.on=="function")i.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function n(s){i.once&&t.removeEventListener(e,n),r(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}});var HN=D(Bv=>{"use strict";y();Object.defineProperty(Bv,"__esModule",{value:!0});Bv.delay=void 0;function kte(t){return new Promise(e=>{setTimeout(()=>{e(!0)},t)})}Bv.delay=kte});var jN=D(Ch=>{"use strict";y();Object.defineProperty(Ch,"__esModule",{value:!0});Ch.ONE_THOUSAND=Ch.ONE_HUNDRED=void 0;Ch.ONE_HUNDRED=100;Ch.ONE_THOUSAND=1e3});var VN=D(Oe=>{"use strict";y();Object.defineProperty(Oe,"__esModule",{value:!0});Oe.ONE_YEAR=Oe.FOUR_WEEKS=Oe.THREE_WEEKS=Oe.TWO_WEEKS=Oe.ONE_WEEK=Oe.THIRTY_DAYS=Oe.SEVEN_DAYS=Oe.FIVE_DAYS=Oe.THREE_DAYS=Oe.ONE_DAY=Oe.TWENTY_FOUR_HOURS=Oe.TWELVE_HOURS=Oe.SIX_HOURS=Oe.THREE_HOURS=Oe.ONE_HOUR=Oe.SIXTY_MINUTES=Oe.THIRTY_MINUTES=Oe.TEN_MINUTES=Oe.FIVE_MINUTES=Oe.ONE_MINUTE=Oe.SIXTY_SECONDS=Oe.THIRTY_SECONDS=Oe.TEN_SECONDS=Oe.FIVE_SECONDS=Oe.ONE_SECOND=void 0;Oe.ONE_SECOND=1;Oe.FIVE_SECONDS=5;Oe.TEN_SECONDS=10;Oe.THIRTY_SECONDS=30;Oe.SIXTY_SECONDS=60;Oe.ONE_MINUTE=Oe.SIXTY_SECONDS;Oe.FIVE_MINUTES=Oe.ONE_MINUTE*5;Oe.TEN_MINUTES=Oe.ONE_MINUTE*10;Oe.THIRTY_MINUTES=Oe.ONE_MINUTE*30;Oe.SIXTY_MINUTES=Oe.ONE_MINUTE*60;Oe.ONE_HOUR=Oe.SIXTY_MINUTES;Oe.THREE_HOURS=Oe.ONE_HOUR*3;Oe.SIX_HOURS=Oe.ONE_HOUR*6;Oe.TWELVE_HOURS=Oe.ONE_HOUR*12;Oe.TWENTY_FOUR_HOURS=Oe.ONE_HOUR*24;Oe.ONE_DAY=Oe.TWENTY_FOUR_HOURS;Oe.THREE_DAYS=Oe.ONE_DAY*3;Oe.FIVE_DAYS=Oe.ONE_DAY*5;Oe.SEVEN_DAYS=Oe.ONE_DAY*7;Oe.THIRTY_DAYS=Oe.ONE_DAY*30;Oe.ONE_WEEK=Oe.SEVEN_DAYS;Oe.TWO_WEEKS=Oe.ONE_WEEK*2;Oe.THREE_WEEKS=Oe.ONE_WEEK*3;Oe.FOUR_WEEKS=Oe.ONE_WEEK*4;Oe.ONE_YEAR=Oe.ONE_DAY*365});var V6=D(ma=>{"use strict";y();var Hte=ma&&ma.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),zN=ma&&ma.__exportStar||function(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&Hte(e,t,r)};Object.defineProperty(ma,"__esModule",{value:!0});zN(jN(),ma);zN(VN(),ma)});var GN=D(Th=>{"use strict";y();Object.defineProperty(Th,"__esModule",{value:!0});Th.fromMiliseconds=Th.toMiliseconds=void 0;var KN=V6();function jte(t){return t*KN.ONE_THOUSAND}Th.toMiliseconds=jte;function Vte(t){return Math.floor(t/KN.ONE_THOUSAND)}Th.fromMiliseconds=Vte});var WN=D(ba=>{"use strict";y();var zte=ba&&ba.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),QN=ba&&ba.__exportStar||function(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&zte(e,t,r)};Object.defineProperty(ba,"__esModule",{value:!0});QN(HN(),ba);QN(GN(),ba)});var $N=D(u0=>{"use strict";y();Object.defineProperty(u0,"__esModule",{value:!0});u0.Watch=void 0;var Dv=class{constructor(){this.timestamps=new Map}start(e){if(this.timestamps.has(e))throw new Error(`Watch already started for label: ${e}`);this.timestamps.set(e,{started:Date.now()})}stop(e){let r=this.get(e);if(typeof r.elapsed<"u")throw new Error(`Watch already stopped for label: ${e}`);let i=Date.now()-r.started;this.timestamps.set(e,{started:r.started,elapsed:i})}get(e){let r=this.timestamps.get(e);if(typeof r>"u")throw new Error(`No timestamp found for label: ${e}`);return r}elapsed(e){let r=this.get(e);return r.elapsed||Date.now()-r.started}};u0.Watch=Dv;u0.default=Dv});var YN=D(Rv=>{"use strict";y();Object.defineProperty(Rv,"__esModule",{value:!0});Rv.IWatch=void 0;var z6=class{};Rv.IWatch=z6});var JN=D(tu=>{"use strict";y();var Kte=tu&&tu.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),Gte=tu&&tu.__exportStar||function(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&Kte(e,t,r)};Object.defineProperty(tu,"__esModule",{value:!0});Gte(YN(),tu)});var ru=D(Ms=>{"use strict";y();var Qte=Ms&&Ms.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),Pv=Ms&&Ms.__exportStar||function(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&Qte(e,t,r)};Object.defineProperty(Ms,"__esModule",{value:!0});Pv(WN(),Ms);Pv($N(),Ms);Pv(JN(),Ms);Pv(V6(),Ms)});var K6,XN=fe(()=>{y();K6=class{}});var G6={};Ut(G6,{IEvents:()=>K6});var Q6=fe(()=>{y();XN()});var ZN=D(Lv=>{"use strict";y();Object.defineProperty(Lv,"__esModule",{value:!0});Lv.IHeartBeat=void 0;var Wte=(Q6(),_n(G6)),W6=class extends Wte.IEvents{constructor(e){super()}};Lv.IHeartBeat=W6});var $6=D(iu=>{"use strict";y();var $te=iu&&iu.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),Yte=iu&&iu.__exportStar||function(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&$te(e,t,r)};Object.defineProperty(iu,"__esModule",{value:!0});Yte(ZN(),iu)});var eB=D(Oh=>{"use strict";y();Object.defineProperty(Oh,"__esModule",{value:!0});Oh.HEARTBEAT_EVENTS=Oh.HEARTBEAT_INTERVAL=void 0;var Jte=ru();Oh.HEARTBEAT_INTERVAL=Jte.FIVE_SECONDS;Oh.HEARTBEAT_EVENTS={pulse:"heartbeat_pulse"}});var Y6=D(nu=>{"use strict";y();var Xte=nu&&nu.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),Zte=nu&&nu.__exportStar||function(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&Xte(e,t,r)};Object.defineProperty(nu,"__esModule",{value:!0});Zte(eB(),nu)});var tB=D(Nh=>{"use strict";y();var J6=Nh&&Nh.__awaiter||function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function f(E){try{b(i.next(E))}catch(C){o(C)}}function l(E){try{b(i.throw(E))}catch(C){o(C)}}function b(E){E.done?s(E.value):n(E.value).then(f,l)}b((i=i.apply(t,e||[])).next())})};Object.defineProperty(Nh,"__esModule",{value:!0});Nh.HeartBeat=void 0;var ere=eu(),tre=ru(),rre=$6(),X6=Y6(),c0=class extends rre.IHeartBeat{constructor(e){super(e),this.events=new ere.EventEmitter,this.interval=X6.HEARTBEAT_INTERVAL,this.interval=e?.interval||X6.HEARTBEAT_INTERVAL}static init(e){return J6(this,void 0,void 0,function*(){let r=new c0(e);return yield r.init(),r})}init(){return J6(this,void 0,void 0,function*(){yield this.initialize()})}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}initialize(){return J6(this,void 0,void 0,function*(){setInterval(()=>this.pulse(),tre.toMiliseconds(this.interval))})}pulse(){this.events.emit(X6.HEARTBEAT_EVENTS.pulse)}};Nh.HeartBeat=c0});var e8=D(ao=>{"use strict";y();var ire=ao&&ao.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),Z6=ao&&ao.__exportStar||function(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&ire(e,t,r)};Object.defineProperty(ao,"__esModule",{value:!0});Z6(tB(),ao);Z6($6(),ao);Z6(Y6(),ao)});var t8=D(Bh=>{"use strict";y();Object.defineProperty(Bh,"__esModule",{value:!0});Bh.PINO_CUSTOM_CONTEXT_KEY=Bh.PINO_LOGGER_DEFAULTS=void 0;Bh.PINO_LOGGER_DEFAULTS={level:"info"};Bh.PINO_CUSTOM_CONTEXT_KEY="custom_context"});var oB=D(Ei=>{"use strict";y();Object.defineProperty(Ei,"__esModule",{value:!0});Ei.generateChildLogger=Ei.formatChildLoggerContext=Ei.getLoggerContext=Ei.setBrowserLoggerContext=Ei.getBrowserLoggerContext=Ei.getDefaultLoggerOptions=void 0;var Dh=t8();function nre(t){return Object.assign(Object.assign({},t),{level:t?.level||Dh.PINO_LOGGER_DEFAULTS.level})}Ei.getDefaultLoggerOptions=nre;function rB(t,e=Dh.PINO_CUSTOM_CONTEXT_KEY){return t[e]||""}Ei.getBrowserLoggerContext=rB;function iB(t,e,r=Dh.PINO_CUSTOM_CONTEXT_KEY){return t[r]=e,t}Ei.setBrowserLoggerContext=iB;function nB(t,e=Dh.PINO_CUSTOM_CONTEXT_KEY){let r="";return typeof t.bindings>"u"?r=rB(t,e):r=t.bindings().context||"",r}Ei.getLoggerContext=nB;function sB(t,e,r=Dh.PINO_CUSTOM_CONTEXT_KEY){let i=nB(t,r);return i.trim()?`${i}/${e}`:e}Ei.formatChildLoggerContext=sB;function sre(t,e,r=Dh.PINO_CUSTOM_CONTEXT_KEY){let i=sB(t,e,r),n=t.child({context:i});return iB(n,i,r)}Ei.generateChildLogger=sre});var r8=D(qv=>{"use strict";y();Object.defineProperty(qv,"__esModule",{value:!0});var aB=Av();aB.__exportStar(t8(),qv);aB.__exportStar(oB(),qv)});var m8=D(Lr=>{"use strict";y();Object.defineProperty(Lr,"__esModule",{value:!0});var Rh=(Q6(),_n(G6)),i8=class extends Rh.IEvents{constructor(e){super(),this.opts=e,this.protocol="wc",this.version=2}},n8=class{constructor(e,r,i){this.core=e,this.logger=r}},s8=class extends Rh.IEvents{constructor(e,r){super(),this.core=e,this.logger=r,this.records=new Map}},o8=class{constructor(e,r){this.logger=e,this.core=r}},a8=class extends Rh.IEvents{constructor(e,r){super(),this.relayer=e,this.logger=r}},f8=class extends Rh.IEvents{constructor(e){super()}},u8=class{constructor(e,r,i,n){this.core=e,this.logger=r,this.name=i}},c8=class{constructor(){this.map=new Map}},h8=class extends Rh.IEvents{constructor(e,r){super(),this.relayer=e,this.logger=r}},l8=class{constructor(e,r){this.core=e,this.logger=r}};function _r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}var uB=_r;_r.EventEmitter=_r,_r.prototype._events=void 0,_r.prototype._maxListeners=void 0,_r.defaultMaxListeners=10,_r.prototype.setMaxListeners=function(t){if(!ore(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},_r.prototype.emit=function(t){var e,r,i,n,s,o;if(this._events||(this._events={}),t==="error"&&(!this._events.error||h0(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;var f=new Error('Uncaught, unspecified "error" event. ('+e+")");throw f.context=e,f}if(r=this._events[t],fB(r))return!1;if(fo(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:n=Array.prototype.slice.call(arguments,1),r.apply(this,n)}else if(h0(r))for(n=Array.prototype.slice.call(arguments,1),o=r.slice(),i=o.length,s=0;s<i;s++)o[s].apply(this,n);return!0},_r.prototype.addListener=function(t,e){var r;if(!fo(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,fo(e.listener)?e.listener:e),this._events[t]?h0(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,h0(this._events[t])&&!this._events[t].warned&&(fB(this._maxListeners)?r=_r.defaultMaxListeners:r=this._maxListeners,r&&r>0&&this._events[t].length>r&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),typeof console.trace=="function"&&console.trace())),this},_r.prototype.on=_r.prototype.addListener,_r.prototype.once=function(t,e){if(!fo(e))throw TypeError("listener must be a function");var r=!1;function i(){this.removeListener(t,i),r||(r=!0,e.apply(this,arguments))}return i.listener=e,this.on(t,i),this},_r.prototype.removeListener=function(t,e){var r,i,n,s;if(!fo(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(r=this._events[t],n=r.length,i=-1,r===e||fo(r.listener)&&r.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(h0(r)){for(s=n;s-- >0;)if(r[s]===e||r[s].listener&&r[s].listener===e){i=s;break}if(i<0)return this;r.length===1?(r.length=0,delete this._events[t]):r.splice(i,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},_r.prototype.removeAllListeners=function(t){var e,r;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[t]&&delete this._events[t],this;if(arguments.length===0){for(e in this._events)e!=="removeListener"&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(r=this._events[t],fo(r))this.removeListener(t,r);else if(r)for(;r.length;)this.removeListener(t,r[r.length-1]);return delete this._events[t],this},_r.prototype.listeners=function(t){var e;return!this._events||!this._events[t]?e=[]:fo(this._events[t])?e=[this._events[t]]:e=this._events[t].slice(),e},_r.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(fo(e))return 1;if(e)return e.length}return 0},_r.listenerCount=function(t,e){return t.listenerCount(e)};function fo(t){return typeof t=="function"}function ore(t){return typeof t=="number"}function h0(t){return typeof t=="object"&&t!==null}function fB(t){return t===void 0}var d8=class extends uB{constructor(){super()}},p8=class{constructor(e){this.opts=e,this.protocol="wc",this.version=2}},g8=class extends uB.EventEmitter{constructor(){super()}},v8=class{constructor(e){this.client=e}},y8=class extends Rh.IEvents{constructor(e,r){super(),this.core=e,this.logger=r}};Lr.ICore=i8,Lr.ICrypto=n8,Lr.IEngine=v8,Lr.IEngineEvents=g8,Lr.IExpirer=y8,Lr.IJsonRpcHistory=s8,Lr.IKeyChain=l8,Lr.IMessageTracker=o8,Lr.IPublisher=a8,Lr.IRelayer=f8,Lr.ISignClient=p8,Lr.ISignClientEvents=d8,Lr.IStore=u8,Lr.ISubscriber=h8,Lr.ISubscriberTopicMap=c8});var hB=D(Fv=>{"use strict";y();Object.defineProperty(Fv,"__esModule",{value:!0});Fv.BrowserRandomSource=void 0;var cB=65536,b8=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;let e=typeof self<"u"?self.crypto||self.msCrypto:null;e&&e.getRandomValues!==void 0&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");let r=new Uint8Array(e);for(let i=0;i<r.length;i+=cB)this._crypto.getRandomValues(r.subarray(i,i+Math.min(r.length-i,cB)));return r}};Fv.BrowserRandomSource=b8});var Ai=D(w8=>{"use strict";y();Object.defineProperty(w8,"__esModule",{value:!0});function are(t){for(var e=0;e<t.length;e++)t[e]=0;return t}w8.wipe=are});var rt=D((_8,dB)=>{y();var Uv=mi(),Cs=Uv.Buffer;function lB(t,e){for(var r in t)e[r]=t[r]}Cs.from&&Cs.alloc&&Cs.allocUnsafe&&Cs.allocUnsafeSlow?dB.exports=Uv:(lB(Uv,_8),_8.Buffer=su);function su(t,e,r){return Cs(t,e,r)}su.prototype=Object.create(Cs.prototype);lB(Cs,su);su.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return Cs(t,e,r)};su.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var i=Cs(t);return e!==void 0?typeof r=="string"?i.fill(e,r):i.fill(e):i.fill(0),i};su.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Cs(t)};su.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Uv.SlowBuffer(t)}});var ou=D((pMe,E8)=>{"use strict";y();var x8=65536,fre=4294967295;function ure(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var cre=rt().Buffer,kv=global.crypto||global.msCrypto;kv&&kv.getRandomValues?E8.exports=hre:E8.exports=ure;function hre(t,e){if(t>fre)throw new RangeError("requested too many random bytes");var r=cre.allocUnsafe(t);if(t>0)if(t>x8)for(var i=0;i<t;i+=x8)kv.getRandomValues(r.slice(i,i+x8));else kv.getRandomValues(r);return typeof e=="function"?I.default.nextTick(function(){e(null,r)}):r}});var Ze=D((vMe,A8)=>{y();typeof Object.create=="function"?A8.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:A8.exports=function(e,r){if(r){e.super_=r;var i=function(){};i.prototype=r.prototype,e.prototype=new i,e.prototype.constructor=e}}});var S8=D((mMe,pB)=>{y();pB.exports=eu().EventEmitter});var I8=D((wMe,gB)=>{"use strict";y();gB.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),i=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(i)!=="[object Symbol]")return!1;var n=42;e[r]=n;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==n||o.enumerable!==!0)return!1}return!0}});var l0=D((xMe,vB)=>{"use strict";y();var lre=I8();vB.exports=function(){return lre()&&!!Symbol.toStringTag}});var bB=D((AMe,mB)=>{"use strict";y();var yB=typeof Symbol<"u"&&Symbol,dre=I8();mB.exports=function(){return typeof yB!="function"||typeof Symbol!="function"||typeof yB("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:dre()}});var _B=D((IMe,wB)=>{"use strict";y();var pre="Function.prototype.bind called on incompatible ",M8=Array.prototype.slice,gre=Object.prototype.toString,vre="[object Function]";wB.exports=function(e){var r=this;if(typeof r!="function"||gre.call(r)!==vre)throw new TypeError(pre+r);for(var i=M8.call(arguments,1),n,s=function(){if(this instanceof n){var E=r.apply(this,i.concat(M8.call(arguments)));return Object(E)===E?E:this}else return r.apply(e,i.concat(M8.call(arguments)))},o=Math.max(0,r.length-i.length),f=[],l=0;l<o;l++)f.push("$"+l);if(n=Function("binder","return function ("+f.join(",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var b=function(){};b.prototype=r.prototype,n.prototype=new b,b.prototype=null}return n}});var Hv=D((CMe,xB)=>{"use strict";y();var yre=_B();xB.exports=Function.prototype.bind||yre});var AB=D((OMe,EB)=>{"use strict";y();var mre=Hv();EB.exports=mre.call(Function.call,Object.prototype.hasOwnProperty)});var p0=D((BMe,CB)=>{"use strict";y();var wt,Uh=SyntaxError,MB=Function,qh=TypeError,C8=function(t){try{return MB('"use strict"; return ('+t+").constructor;")()}catch{}},au=Object.getOwnPropertyDescriptor;if(au)try{au({},"")}catch{au=null}var T8=function(){throw new qh},bre=au?function(){try{return arguments.callee,T8}catch{try{return au(arguments,"callee").get}catch{return T8}}}():T8,Ph=bB()(),wa=Object.getPrototypeOf||function(t){return t.__proto__},Lh={},wre=typeof Uint8Array>"u"?wt:wa(Uint8Array),Fh={"%AggregateError%":typeof AggregateError>"u"?wt:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?wt:ArrayBuffer,"%ArrayIteratorPrototype%":Ph?wa([][Symbol.iterator]()):wt,"%AsyncFromSyncIteratorPrototype%":wt,"%AsyncFunction%":Lh,"%AsyncGenerator%":Lh,"%AsyncGeneratorFunction%":Lh,"%AsyncIteratorPrototype%":Lh,"%Atomics%":typeof Atomics>"u"?wt:Atomics,"%BigInt%":typeof BigInt>"u"?wt:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?wt:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?wt:Float32Array,"%Float64Array%":typeof Float64Array>"u"?wt:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?wt:FinalizationRegistry,"%Function%":MB,"%GeneratorFunction%":Lh,"%Int8Array%":typeof Int8Array>"u"?wt:Int8Array,"%Int16Array%":typeof Int16Array>"u"?wt:Int16Array,"%Int32Array%":typeof Int32Array>"u"?wt:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Ph?wa(wa([][Symbol.iterator]())):wt,"%JSON%":typeof JSON=="object"?JSON:wt,"%Map%":typeof Map>"u"?wt:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Ph?wt:wa(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?wt:Promise,"%Proxy%":typeof Proxy>"u"?wt:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?wt:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?wt:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Ph?wt:wa(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?wt:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Ph?wa(""[Symbol.iterator]()):wt,"%Symbol%":Ph?Symbol:wt,"%SyntaxError%":Uh,"%ThrowTypeError%":bre,"%TypedArray%":wre,"%TypeError%":qh,"%Uint8Array%":typeof Uint8Array>"u"?wt:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?wt:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?wt:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?wt:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?wt:WeakMap,"%WeakRef%":typeof WeakRef>"u"?wt:WeakRef,"%WeakSet%":typeof WeakSet>"u"?wt:WeakSet},_re=function t(e){var r;if(e==="%AsyncFunction%")r=C8("async function () {}");else if(e==="%GeneratorFunction%")r=C8("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=C8("async function* () {}");else if(e==="%AsyncGenerator%"){var i=t("%AsyncGeneratorFunction%");i&&(r=i.prototype)}else if(e==="%AsyncIteratorPrototype%"){var n=t("%AsyncGenerator%");n&&(r=wa(n.prototype))}return Fh[e]=r,r},SB={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},d0=Hv(),jv=AB(),xre=d0.call(Function.call,Array.prototype.concat),Ere=d0.call(Function.apply,Array.prototype.splice),IB=d0.call(Function.call,String.prototype.replace),Vv=d0.call(Function.call,String.prototype.slice),Are=d0.call(Function.call,RegExp.prototype.exec),Sre=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Ire=/\\(\\)?/g,Mre=function(e){var r=Vv(e,0,1),i=Vv(e,-1);if(r==="%"&&i!=="%")throw new Uh("invalid intrinsic syntax, expected closing `%`");if(i==="%"&&r!=="%")throw new Uh("invalid intrinsic syntax, expected opening `%`");var n=[];return IB(e,Sre,function(s,o,f,l){n[n.length]=f?IB(l,Ire,"$1"):o||s}),n},Cre=function(e,r){var i=e,n;if(jv(SB,i)&&(n=SB[i],i="%"+n[0]+"%"),jv(Fh,i)){var s=Fh[i];if(s===Lh&&(s=_re(i)),typeof s>"u"&&!r)throw new qh("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:i,value:s}}throw new Uh("intrinsic "+e+" does not exist!")};CB.exports=function(e,r){if(typeof e!="string"||e.length===0)throw new qh("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new qh('"allowMissing" argument must be a boolean');if(Are(/^%?[^%]*%?$/g,e)===null)throw new Uh("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var i=Mre(e),n=i.length>0?i[0]:"",s=Cre("%"+n+"%",r),o=s.name,f=s.value,l=!1,b=s.alias;b&&(n=b[0],Ere(i,xre([0,1],b)));for(var E=1,C=!0;E<i.length;E+=1){var N=i[E],L=Vv(N,0,1),R=Vv(N,-1);if((L==='"'||L==="'"||L==="`"||R==='"'||R==="'"||R==="`")&&L!==R)throw new Uh("property names with quotes must have matching quotes");if((N==="constructor"||!C)&&(l=!0),n+="."+N,o="%"+n+"%",jv(Fh,o))f=Fh[o];else if(f!=null){if(!(N in f)){if(!r)throw new qh("base intrinsic for "+e+" exists, but the property is not available.");return}if(au&&E+1>=i.length){var V=au(f,N);C=!!V,C&&"get"in V&&!("originalValue"in V.get)?f=V.get:f=f[N]}else C=jv(f,N),f=f[N];C&&!l&&(Fh[o]=f)}}return f}});var RB=D((RMe,zv)=>{"use strict";y();var O8=Hv(),kh=p0(),NB=kh("%Function.prototype.apply%"),BB=kh("%Function.prototype.call%"),DB=kh("%Reflect.apply%",!0)||O8.call(BB,NB),TB=kh("%Object.getOwnPropertyDescriptor%",!0),fu=kh("%Object.defineProperty%",!0),Tre=kh("%Math.max%");if(fu)try{fu({},"a",{value:1})}catch{fu=null}zv.exports=function(e){var r=DB(O8,BB,arguments);if(TB&&fu){var i=TB(r,"length");i.configurable&&fu(r,"length",{value:1+Tre(0,e.length-(arguments.length-1))})}return r};var OB=function(){return DB(O8,NB,arguments)};fu?fu(zv.exports,"apply",{value:OB}):zv.exports.apply=OB});var g0=D((LMe,qB)=>{"use strict";y();var PB=p0(),LB=RB(),Ore=LB(PB("String.prototype.indexOf"));qB.exports=function(e,r){var i=PB(e,!!r);return typeof i=="function"&&Ore(e,".prototype.")>-1?LB(i):i}});var kB=D((FMe,UB)=>{"use strict";y();var Nre=l0()(),Bre=g0(),N8=Bre("Object.prototype.toString"),Kv=function(e){return Nre&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:N8(e)==="[object Arguments]"},FB=function(e){return Kv(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&N8(e)!=="[object Array]"&&N8(e.callee)==="[object Function]"},Dre=function(){return Kv(arguments)}();Kv.isLegacyArguments=FB;UB.exports=Dre?Kv:FB});var VB=D((kMe,jB)=>{"use strict";y();var Rre=Object.prototype.toString,Pre=Function.prototype.toString,Lre=/^\s*(?:function)?\*/,HB=l0()(),B8=Object.getPrototypeOf,qre=function(){if(!HB)return!1;try{return Function("return function*() {}")()}catch{}},D8;jB.exports=function(e){if(typeof e!="function")return!1;if(Lre.test(Pre.call(e)))return!0;if(!HB){var r=Rre.call(e);return r==="[object GeneratorFunction]"}if(!B8)return!1;if(typeof D8>"u"){var i=qre();D8=i?B8(i):!1}return B8(e)===D8}});var QB=D((jMe,GB)=>{"use strict";y();var KB=Function.prototype.toString,Hh=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,R8,Gv;if(typeof Hh=="function"&&typeof Object.defineProperty=="function")try{R8=Object.defineProperty({},"length",{get:function(){throw Gv}}),Gv={},Hh(function(){throw 42},null,R8)}catch(t){t!==Gv&&(Hh=null)}else Hh=null;var Fre=/^\s*class\b/,P8=function(e){try{var r=KB.call(e);return Fre.test(r)}catch{return!1}},Ure=function(e){try{return P8(e)?!1:(KB.call(e),!0)}catch{return!1}},kre=Object.prototype.toString,Hre="[object Function]",jre="[object GeneratorFunction]",Vre=typeof Symbol=="function"&&!!Symbol.toStringTag,zB=typeof document=="object"&&typeof document.all>"u"&&document.all!==void 0?document.all:{};GB.exports=Hh?function(e){if(e===zB)return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(typeof e=="function"&&!e.prototype)return!0;try{Hh(e,null,R8)}catch(r){if(r!==Gv)return!1}return!P8(e)}:function(e){if(e===zB)return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(typeof e=="function"&&!e.prototype)return!0;if(Vre)return Ure(e);if(P8(e))return!1;var r=kre.call(e);return r===Hre||r===jre}});var L8=D((zMe,$B)=>{"use strict";y();var zre=QB(),Kre=Object.prototype.toString,WB=Object.prototype.hasOwnProperty,Gre=function(e,r,i){for(var n=0,s=e.length;n<s;n++)WB.call(e,n)&&(i==null?r(e[n],n,e):r.call(i,e[n],n,e))},Qre=function(e,r,i){for(var n=0,s=e.length;n<s;n++)i==null?r(e.charAt(n),n,e):r.call(i,e.charAt(n),n,e)},Wre=function(e,r,i){for(var n in e)WB.call(e,n)&&(i==null?r(e[n],n,e):r.call(i,e[n],n,e))},$re=function(e,r,i){if(!zre(r))throw new TypeError("iterator must be a function");var n;arguments.length>=3&&(n=i),Kre.call(e)==="[object Array]"?Gre(e,r,n):typeof e=="string"?Qre(e,r,n):Wre(e,r,n)};$B.exports=$re});var F8=D((GMe,YB)=>{"use strict";y();var q8=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],Yre=typeof globalThis>"u"?global:globalThis;YB.exports=function(){for(var e=[],r=0;r<q8.length;r++)typeof Yre[q8[r]]=="function"&&(e[e.length]=q8[r]);return e}});var U8=D((WMe,JB)=>{"use strict";y();var Jre=p0(),Qv=Jre("%Object.getOwnPropertyDescriptor%",!0);if(Qv)try{Qv([],"length")}catch{Qv=null}JB.exports=Qv});var j8=D((YMe,rD)=>{"use strict";y();var XB=L8(),Xre=F8(),H8=g0(),Zre=H8("Object.prototype.toString"),ZB=l0()(),eie=typeof globalThis>"u"?global:globalThis,eD=Xre(),tie=H8("Array.prototype.indexOf",!0)||function(e,r){for(var i=0;i<e.length;i+=1)if(e[i]===r)return i;return-1},rie=H8("String.prototype.slice"),tD={},Wv=U8(),k8=Object.getPrototypeOf;ZB&&Wv&&k8&&XB(eD,function(t){var e=new eie[t];if(Symbol.toStringTag in e){var r=k8(e),i=Wv(r,Symbol.toStringTag);if(!i){var n=k8(r);i=Wv(n,Symbol.toStringTag)}tD[t]=i.get}});var iie=function(e){var r=!1;return XB(tD,function(i,n){if(!r)try{r=i.call(e)===n}catch{}}),r};rD.exports=function(e){if(!e||typeof e!="object")return!1;if(!ZB||!(Symbol.toStringTag in e)){var r=rie(Zre(e),8,-1);return tie(eD,r)>-1}return Wv?iie(e):!1}});var uD=D((XMe,fD)=>{"use strict";y();var nD=L8(),nie=F8(),sD=g0(),sie=sD("Object.prototype.toString"),oD=l0()(),iD=typeof globalThis>"u"?global:globalThis,oie=nie(),aie=sD("String.prototype.slice"),aD={},V8=U8(),z8=Object.getPrototypeOf;oD&&V8&&z8&&nD(oie,function(t){if(typeof iD[t]=="function"){var e=new iD[t];if(Symbol.toStringTag in e){var r=z8(e),i=V8(r,Symbol.toStringTag);if(!i){var n=z8(r);i=V8(n,Symbol.toStringTag)}aD[t]=i.get}}});var fie=function(e){var r=!1;return nD(aD,function(i,n){if(!r)try{var s=i.call(e);s===n&&(r=s)}catch{}}),r},uie=j8();fD.exports=function(e){return uie(e)?!oD||!(Symbol.toStringTag in e)?aie(sie(e),8,-1):fie(e):!1}});var ED=D(ut=>{"use strict";y();var cie=kB(),hie=VB(),Bn=uD(),cD=j8();function jh(t){return t.call.bind(t)}var hD=typeof BigInt<"u",lD=typeof Symbol<"u",tn=jh(Object.prototype.toString),lie=jh(Number.prototype.valueOf),die=jh(String.prototype.valueOf),pie=jh(Boolean.prototype.valueOf);hD&&(dD=jh(BigInt.prototype.valueOf));var dD;lD&&(pD=jh(Symbol.prototype.valueOf));var pD;function y0(t,e){if(typeof t!="object")return!1;try{return e(t),!0}catch{return!1}}ut.isArgumentsObject=cie;ut.isGeneratorFunction=hie;ut.isTypedArray=cD;function gie(t){return typeof Promise<"u"&&t instanceof Promise||t!==null&&typeof t=="object"&&typeof t.then=="function"&&typeof t.catch=="function"}ut.isPromise=gie;function vie(t){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(t):cD(t)||vD(t)}ut.isArrayBufferView=vie;function yie(t){return Bn(t)==="Uint8Array"}ut.isUint8Array=yie;function mie(t){return Bn(t)==="Uint8ClampedArray"}ut.isUint8ClampedArray=mie;function bie(t){return Bn(t)==="Uint16Array"}ut.isUint16Array=bie;function wie(t){return Bn(t)==="Uint32Array"}ut.isUint32Array=wie;function _ie(t){return Bn(t)==="Int8Array"}ut.isInt8Array=_ie;function xie(t){return Bn(t)==="Int16Array"}ut.isInt16Array=xie;function Eie(t){return Bn(t)==="Int32Array"}ut.isInt32Array=Eie;function Aie(t){return Bn(t)==="Float32Array"}ut.isFloat32Array=Aie;function Sie(t){return Bn(t)==="Float64Array"}ut.isFloat64Array=Sie;function Iie(t){return Bn(t)==="BigInt64Array"}ut.isBigInt64Array=Iie;function Mie(t){return Bn(t)==="BigUint64Array"}ut.isBigUint64Array=Mie;function $v(t){return tn(t)==="[object Map]"}$v.working=typeof Map<"u"&&$v(new Map);function Cie(t){return typeof Map>"u"?!1:$v.working?$v(t):t instanceof Map}ut.isMap=Cie;function Yv(t){return tn(t)==="[object Set]"}Yv.working=typeof Set<"u"&&Yv(new Set);function Tie(t){return typeof Set>"u"?!1:Yv.working?Yv(t):t instanceof Set}ut.isSet=Tie;function Jv(t){return tn(t)==="[object WeakMap]"}Jv.working=typeof WeakMap<"u"&&Jv(new WeakMap);function Oie(t){return typeof WeakMap>"u"?!1:Jv.working?Jv(t):t instanceof WeakMap}ut.isWeakMap=Oie;function G8(t){return tn(t)==="[object WeakSet]"}G8.working=typeof WeakSet<"u"&&G8(new WeakSet);function Nie(t){return G8(t)}ut.isWeakSet=Nie;function Xv(t){return tn(t)==="[object ArrayBuffer]"}Xv.working=typeof ArrayBuffer<"u"&&Xv(new ArrayBuffer);function gD(t){return typeof ArrayBuffer>"u"?!1:Xv.working?Xv(t):t instanceof ArrayBuffer}ut.isArrayBuffer=gD;function Zv(t){return tn(t)==="[object DataView]"}Zv.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&Zv(new DataView(new ArrayBuffer(1),0,1));function vD(t){return typeof DataView>"u"?!1:Zv.working?Zv(t):t instanceof DataView}ut.isDataView=vD;var K8=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function v0(t){return tn(t)==="[object SharedArrayBuffer]"}function yD(t){return typeof K8>"u"?!1:(typeof v0.working>"u"&&(v0.working=v0(new K8)),v0.working?v0(t):t instanceof K8)}ut.isSharedArrayBuffer=yD;function Bie(t){return tn(t)==="[object AsyncFunction]"}ut.isAsyncFunction=Bie;function Die(t){return tn(t)==="[object Map Iterator]"}ut.isMapIterator=Die;function Rie(t){return tn(t)==="[object Set Iterator]"}ut.isSetIterator=Rie;function Pie(t){return tn(t)==="[object Generator]"}ut.isGeneratorObject=Pie;function Lie(t){return tn(t)==="[object WebAssembly.Module]"}ut.isWebAssemblyCompiledModule=Lie;function mD(t){return y0(t,lie)}ut.isNumberObject=mD;function bD(t){return y0(t,die)}ut.isStringObject=bD;function wD(t){return y0(t,pie)}ut.isBooleanObject=wD;function _D(t){return hD&&y0(t,dD)}ut.isBigIntObject=_D;function xD(t){return lD&&y0(t,pD)}ut.isSymbolObject=xD;function qie(t){return mD(t)||bD(t)||wD(t)||_D(t)||xD(t)}ut.isBoxedPrimitive=qie;function Fie(t){return typeof Uint8Array<"u"&&(gD(t)||yD(t))}ut.isAnyArrayBuffer=Fie;["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(t){Object.defineProperty(ut,t,{enumerable:!1,value:function(){throw new Error(t+" is not supported in userland")}})})});var SD=D((rCe,AD)=>{y();AD.exports=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}});var X8=D(ct=>{y();var ID=Object.getOwnPropertyDescriptors||function(e){for(var r=Object.keys(e),i={},n=0;n<r.length;n++)i[r[n]]=Object.getOwnPropertyDescriptor(e,r[n]);return i},Uie=/%[sdj%]/g;ct.format=function(t){if(!oy(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(_a(arguments[r]));return e.join(" ")}for(var r=1,i=arguments,n=i.length,s=String(t).replace(Uie,function(f){if(f==="%%")return"%";if(r>=n)return f;switch(f){case"%s":return String(i[r++]);case"%d":return Number(i[r++]);case"%j":try{return JSON.stringify(i[r++])}catch{return"[Circular]"}default:return f}}),o=i[r];r<n;o=i[++r])sy(o)||!Vh(o)?s+=" "+o:s+=" "+_a(o);return s};ct.deprecate=function(t,e){if(typeof I.default<"u"&&I.default.noDeprecation===!0)return t;if(typeof I.default>"u")return function(){return ct.deprecate(t,e).apply(this,arguments)};var r=!1;function i(){if(!r){if(I.default.throwDeprecation)throw new Error(e);I.default.traceDeprecation?console.trace(e):console.error(e),r=!0}return t.apply(this,arguments)}return i};var ey={},MD=/^$/;I.default.env.NODE_DEBUG&&(ty=I.default.env.NODE_DEBUG,ty=ty.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),MD=new RegExp("^"+ty+"$","i"));var ty;ct.debuglog=function(t){if(t=t.toUpperCase(),!ey[t])if(MD.test(t)){var e=I.default.pid;ey[t]=function(){var r=ct.format.apply(ct,arguments);console.error("%s %d: %s",t,e,r)}}else ey[t]=function(){};return ey[t]};function _a(t,e){var r={seen:[],stylize:Hie};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),Y8(e)?r.showHidden=e:e&&ct._extend(r,e),cu(r.showHidden)&&(r.showHidden=!1),cu(r.depth)&&(r.depth=2),cu(r.colors)&&(r.colors=!1),cu(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=kie),iy(r,t,r.depth)}ct.inspect=_a;_a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};_a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function kie(t,e){var r=_a.styles[e];return r?"\x1B["+_a.colors[r][0]+"m"+t+"\x1B["+_a.colors[r][1]+"m":t}function Hie(t,e){return t}function jie(t){var e={};return t.forEach(function(r,i){e[r]=!0}),e}function iy(t,e,r){if(t.customInspect&&e&&ry(e.inspect)&&e.inspect!==ct.inspect&&!(e.constructor&&e.constructor.prototype===e)){var i=e.inspect(r,t);return oy(i)||(i=iy(t,i,r)),i}var n=Vie(t,e);if(n)return n;var s=Object.keys(e),o=jie(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(e)),b0(e)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return Q8(e);if(s.length===0){if(ry(e)){var f=e.name?": "+e.name:"";return t.stylize("[Function"+f+"]","special")}if(m0(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(ny(e))return t.stylize(Date.prototype.toString.call(e),"date");if(b0(e))return Q8(e)}var l="",b=!1,E=["{","}"];if(CD(e)&&(b=!0,E=["[","]"]),ry(e)){var C=e.name?": "+e.name:"";l=" [Function"+C+"]"}if(m0(e)&&(l=" "+RegExp.prototype.toString.call(e)),ny(e)&&(l=" "+Date.prototype.toUTCString.call(e)),b0(e)&&(l=" "+Q8(e)),s.length===0&&(!b||e.length==0))return E[0]+l+E[1];if(r<0)return m0(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var N;return b?N=zie(t,e,r,o,s):N=s.map(function(L){return $8(t,e,r,o,L,b)}),t.seen.pop(),Kie(N,l,E)}function Vie(t,e){if(cu(e))return t.stylize("undefined","undefined");if(oy(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}if(TD(e))return t.stylize(""+e,"number");if(Y8(e))return t.stylize(""+e,"boolean");if(sy(e))return t.stylize("null","null")}function Q8(t){return"["+Error.prototype.toString.call(t)+"]"}function zie(t,e,r,i,n){for(var s=[],o=0,f=e.length;o<f;++o)OD(e,String(o))?s.push($8(t,e,r,i,String(o),!0)):s.push("");return n.forEach(function(l){l.match(/^\d+$/)||s.push($8(t,e,r,i,l,!0))}),s}function $8(t,e,r,i,n,s){var o,f,l;if(l=Object.getOwnPropertyDescriptor(e,n)||{value:e[n]},l.get?l.set?f=t.stylize("[Getter/Setter]","special"):f=t.stylize("[Getter]","special"):l.set&&(f=t.stylize("[Setter]","special")),OD(i,n)||(o="["+n+"]"),f||(t.seen.indexOf(l.value)<0?(sy(r)?f=iy(t,l.value,null):f=iy(t,l.value,r-1),f.indexOf(`
`)>-1&&(s?f=f.split(`
`).map(function(b){return"  "+b}).join(`
`).substr(2):f=`
`+f.split(`
`).map(function(b){return"   "+b}).join(`
`))):f=t.stylize("[Circular]","special")),cu(o)){if(s&&n.match(/^\d+$/))return f;o=JSON.stringify(""+n),o.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=t.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=t.stylize(o,"string"))}return o+": "+f}function Kie(t,e,r){var i=0,n=t.reduce(function(s,o){return i++,o.indexOf(`
`)>=0&&i++,s+o.replace(/\u001b\[\d\d?m/g,"").length+1},0);return n>60?r[0]+(e===""?"":e+`
 `)+" "+t.join(`,
  `)+" "+r[1]:r[0]+e+" "+t.join(", ")+" "+r[1]}ct.types=ED();function CD(t){return Array.isArray(t)}ct.isArray=CD;function Y8(t){return typeof t=="boolean"}ct.isBoolean=Y8;function sy(t){return t===null}ct.isNull=sy;function Gie(t){return t==null}ct.isNullOrUndefined=Gie;function TD(t){return typeof t=="number"}ct.isNumber=TD;function oy(t){return typeof t=="string"}ct.isString=oy;function Qie(t){return typeof t=="symbol"}ct.isSymbol=Qie;function cu(t){return t===void 0}ct.isUndefined=cu;function m0(t){return Vh(t)&&J8(t)==="[object RegExp]"}ct.isRegExp=m0;ct.types.isRegExp=m0;function Vh(t){return typeof t=="object"&&t!==null}ct.isObject=Vh;function ny(t){return Vh(t)&&J8(t)==="[object Date]"}ct.isDate=ny;ct.types.isDate=ny;function b0(t){return Vh(t)&&(J8(t)==="[object Error]"||t instanceof Error)}ct.isError=b0;ct.types.isNativeError=b0;function ry(t){return typeof t=="function"}ct.isFunction=ry;function Wie(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||typeof t>"u"}ct.isPrimitive=Wie;ct.isBuffer=SD();function J8(t){return Object.prototype.toString.call(t)}function W8(t){return t<10?"0"+t.toString(10):t.toString(10)}var $ie=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Yie(){var t=new Date,e=[W8(t.getHours()),W8(t.getMinutes()),W8(t.getSeconds())].join(":");return[t.getDate(),$ie[t.getMonth()],e].join(" ")}ct.log=function(){console.log("%s - %s",Yie(),ct.format.apply(ct,arguments))};ct.inherits=Ze();ct._extend=function(t,e){if(!e||!Vh(e))return t;for(var r=Object.keys(e),i=r.length;i--;)t[r[i]]=e[r[i]];return t};function OD(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var uu=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;ct.promisify=function(e){if(typeof e!="function")throw new TypeError('The "original" argument must be of type Function');if(uu&&e[uu]){var r=e[uu];if(typeof r!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(r,uu,{value:r,enumerable:!1,writable:!1,configurable:!0}),r}function r(){for(var i,n,s=new Promise(function(l,b){i=l,n=b}),o=[],f=0;f<arguments.length;f++)o.push(arguments[f]);o.push(function(l,b){l?n(l):i(b)});try{e.apply(this,o)}catch(l){n(l)}return s}return Object.setPrototypeOf(r,Object.getPrototypeOf(e)),uu&&Object.defineProperty(r,uu,{value:r,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(r,ID(e))};ct.promisify.custom=uu;function Jie(t,e){if(!t){var r=new Error("Promise was rejected with a falsy value");r.reason=t,t=r}return e(t)}function Xie(t){if(typeof t!="function")throw new TypeError('The "original" argument must be of type Function');function e(){for(var r=[],i=0;i<arguments.length;i++)r.push(arguments[i]);var n=r.pop();if(typeof n!="function")throw new TypeError("The last argument must be of type Function");var s=this,o=function(){return n.apply(s,arguments)};t.apply(this,r).then(function(f){I.default.nextTick(o.bind(null,null,f))},function(f){I.default.nextTick(Jie.bind(null,f,o))})}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),Object.defineProperties(e,ID(t)),e}ct.callbackify=Xie});var RD=D((oCe,DD)=>{"use strict";y();function ND(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,i)}return r}function Zie(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ND(Object(r),!0).forEach(function(i){ene(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ND(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}function ene(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BD(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function rne(t,e,r){return e&&BD(t.prototype,e),r&&BD(t,r),t}var ine=mi(),ay=ine.Buffer,nne=X8(),Z8=nne.inspect,sne=Z8&&Z8.custom||"inspect";function one(t,e,r){ay.prototype.copy.call(t,e,r)}DD.exports=function(){function t(){tne(this,t),this.head=null,this.tail=null,this.length=0}return rne(t,[{key:"push",value:function(r){var i={data:r,next:null};this.length>0?this.tail.next=i:this.head=i,this.tail=i,++this.length}},{key:"unshift",value:function(r){var i={data:r,next:this.head};this.length===0&&(this.tail=i),this.head=i,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var i=this.head,n=""+i.data;i=i.next;)n+=r+i.data;return n}},{key:"concat",value:function(r){if(this.length===0)return ay.alloc(0);for(var i=ay.allocUnsafe(r>>>0),n=this.head,s=0;n;)one(n.data,i,s),s+=n.data.length,n=n.next;return i}},{key:"consume",value:function(r,i){var n;return r<this.head.data.length?(n=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?n=this.shift():n=i?this._getString(r):this._getBuffer(r),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var i=this.head,n=1,s=i.data;for(r-=s.length;i=i.next;){var o=i.data,f=r>o.length?o.length:r;if(f===o.length?s+=o:s+=o.slice(0,r),r-=f,r===0){f===o.length?(++n,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=o.slice(f));break}++n}return this.length-=n,s}},{key:"_getBuffer",value:function(r){var i=ay.allocUnsafe(r),n=this.head,s=1;for(n.data.copy(i),r-=n.data.length;n=n.next;){var o=n.data,f=r>o.length?o.length:r;if(o.copy(i,i.length-r,0,f),r-=f,r===0){f===o.length?(++s,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=o.slice(f));break}++s}return this.length-=s,i}},{key:sne,value:function(r,i){return Z8(this,Zie({},i,{depth:0,customInspect:!1}))}}]),t}()});var tx=D((fCe,LD)=>{"use strict";y();function ane(t,e){var r=this,i=this._readableState&&this._readableState.destroyed,n=this._writableState&&this._writableState.destroyed;return i||n?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,I.default.nextTick(ex,this,t)):I.default.nextTick(ex,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?r._writableState?r._writableState.errorEmitted?I.default.nextTick(fy,r):(r._writableState.errorEmitted=!0,I.default.nextTick(PD,r,s)):I.default.nextTick(PD,r,s):e?(I.default.nextTick(fy,r),e(s)):I.default.nextTick(fy,r)}),this)}function PD(t,e){ex(t,e),fy(t)}function fy(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function fne(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function ex(t,e){t.emit("error",e)}function une(t,e){var r=t._readableState,i=t._writableState;r&&r.autoDestroy||i&&i.autoDestroy?t.destroy(e):t.emit("error",e)}LD.exports={destroy:ane,undestroy:fne,errorOrDestroy:une}});var hu=D((cCe,UD)=>{"use strict";y();function cne(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var FD={};function rn(t,e,r){r||(r=Error);function i(s,o,f){return typeof e=="string"?e:e(s,o,f)}var n=function(s){cne(o,s);function o(f,l,b){return s.call(this,i(f,l,b))||this}return o}(r);n.prototype.name=r.name,n.prototype.code=t,FD[t]=n}function qD(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(i){return String(i)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function hne(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function lne(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function dne(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}rn("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);rn("ERR_INVALID_ARG_TYPE",function(t,e,r){var i;typeof e=="string"&&hne(e,"not ")?(i="must not be",e=e.replace(/^not /,"")):i="must be";var n;if(lne(t," argument"))n="The ".concat(t," ").concat(i," ").concat(qD(e,"type"));else{var s=dne(t,".")?"property":"argument";n='The "'.concat(t,'" ').concat(s," ").concat(i," ").concat(qD(e,"type"))}return n+=". Received type ".concat(typeof r),n},TypeError);rn("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");rn("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});rn("ERR_STREAM_PREMATURE_CLOSE","Premature close");rn("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});rn("ERR_MULTIPLE_CALLBACK","Callback called multiple times");rn("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");rn("ERR_STREAM_WRITE_AFTER_END","write after end");rn("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);rn("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);rn("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");UD.exports.codes=FD});var rx=D((lCe,kD)=>{"use strict";y();var pne=hu().codes.ERR_INVALID_OPT_VALUE;function gne(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function vne(t,e,r,i){var n=gne(e,i,r);if(n!=null){if(!(isFinite(n)&&Math.floor(n)===n)||n<0){var s=i?r:"highWaterMark";throw new pne(s,n)}return Math.floor(n)}return t.objectMode?16:16*1024}kD.exports={getHighWaterMark:vne}});var jD=D((pCe,HD)=>{y();HD.exports=yne;function yne(t,e){if(ix("noDeprecation"))return t;var r=!1;function i(){if(!r){if(ix("throwDeprecation"))throw new Error(e);ix("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}return i}function ix(t){try{if(!global.localStorage)return!1}catch{return!1}var e=global.localStorage[t];return e==null?!1:String(e).toLowerCase()==="true"}});var hy=D((vCe,WD)=>{"use strict";y();WD.exports=Wt;function zD(t){var e=this;this.next=null,this.entry=null,this.finish=function(){zne(e,t)}}var zh;Wt.WritableState=_0;var mne={deprecate:jD()},KD=S8(),cy=mi().Buffer,bne=global.Uint8Array||function(){};function wne(t){return cy.from(t)}function _ne(t){return cy.isBuffer(t)||t instanceof bne}var sx=tx(),xne=rx(),Ene=xne.getHighWaterMark,xa=hu().codes,Ane=xa.ERR_INVALID_ARG_TYPE,Sne=xa.ERR_METHOD_NOT_IMPLEMENTED,Ine=xa.ERR_MULTIPLE_CALLBACK,Mne=xa.ERR_STREAM_CANNOT_PIPE,Cne=xa.ERR_STREAM_DESTROYED,Tne=xa.ERR_STREAM_NULL_VALUES,One=xa.ERR_STREAM_WRITE_AFTER_END,Nne=xa.ERR_UNKNOWN_ENCODING,Kh=sx.errorOrDestroy;Ze()(Wt,KD);function Bne(){}function _0(t,e,r){zh=zh||Ea(),t=t||{},typeof r!="boolean"&&(r=e instanceof zh),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=Ene(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var i=t.decodeStrings===!1;this.decodeStrings=!i,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(n){Une(e,n)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new zD(this)}_0.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(_0.prototype,"buffer",{get:mne.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var uy;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(uy=Function.prototype[Symbol.hasInstance],Object.defineProperty(Wt,Symbol.hasInstance,{value:function(e){return uy.call(this,e)?!0:this!==Wt?!1:e&&e._writableState instanceof _0}})):uy=function(e){return e instanceof this};function Wt(t){zh=zh||Ea();var e=this instanceof zh;if(!e&&!uy.call(Wt,this))return new Wt(t);this._writableState=new _0(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),KD.call(this)}Wt.prototype.pipe=function(){Kh(this,new Mne)};function Dne(t,e){var r=new One;Kh(t,r),I.default.nextTick(e,r)}function Rne(t,e,r,i){var n;return r===null?n=new Tne:typeof r!="string"&&!e.objectMode&&(n=new Ane("chunk",["string","Buffer"],r)),n?(Kh(t,n),I.default.nextTick(i,n),!1):!0}Wt.prototype.write=function(t,e,r){var i=this._writableState,n=!1,s=!i.objectMode&&_ne(t);return s&&!cy.isBuffer(t)&&(t=wne(t)),typeof e=="function"&&(r=e,e=null),s?e="buffer":e||(e=i.defaultEncoding),typeof r!="function"&&(r=Bne),i.ending?Dne(this,r):(s||Rne(this,i,t,r))&&(i.pendingcb++,n=Lne(this,i,s,t,e,r)),n};Wt.prototype.cork=function(){this._writableState.corked++};Wt.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&GD(this,t))};Wt.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new Nne(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(Wt.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function Pne(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=cy.from(e,r)),e}Object.defineProperty(Wt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Lne(t,e,r,i,n,s){if(!r){var o=Pne(e,i,n);i!==o&&(r=!0,n="buffer",i=o)}var f=e.objectMode?1:i.length;e.length+=f;var l=e.length<e.highWaterMark;if(l||(e.needDrain=!0),e.writing||e.corked){var b=e.lastBufferedRequest;e.lastBufferedRequest={chunk:i,encoding:n,isBuf:r,callback:s,next:null},b?b.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else nx(t,e,!1,f,i,n,s);return l}function nx(t,e,r,i,n,s,o){e.writelen=i,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new Cne("write")):r?t._writev(n,e.onwrite):t._write(n,s,e.onwrite),e.sync=!1}function qne(t,e,r,i,n){--e.pendingcb,r?(I.default.nextTick(n,i),I.default.nextTick(w0,t,e),t._writableState.errorEmitted=!0,Kh(t,i)):(n(i),t._writableState.errorEmitted=!0,Kh(t,i),w0(t,e))}function Fne(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function Une(t,e){var r=t._writableState,i=r.sync,n=r.writecb;if(typeof n!="function")throw new Ine;if(Fne(r),e)qne(t,r,i,e,n);else{var s=QD(r)||t.destroyed;!s&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&GD(t,r),i?I.default.nextTick(VD,t,r,s,n):VD(t,r,s,n)}}function VD(t,e,r,i){r||kne(t,e),e.pendingcb--,i(),w0(t,e)}function kne(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function GD(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var i=e.bufferedRequestCount,n=new Array(i),s=e.corkedRequestsFree;s.entry=r;for(var o=0,f=!0;r;)n[o]=r,r.isBuf||(f=!1),r=r.next,o+=1;n.allBuffers=f,nx(t,e,!0,e.length,n,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new zD(e),e.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,b=r.encoding,E=r.callback,C=e.objectMode?1:l.length;if(nx(t,e,!1,C,l,b,E),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}Wt.prototype._write=function(t,e,r){r(new Sne("_write()"))};Wt.prototype._writev=null;Wt.prototype.end=function(t,e,r){var i=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),i.corked&&(i.corked=1,this.uncork()),i.ending||Vne(this,i,r),this};Object.defineProperty(Wt.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function QD(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function Hne(t,e){t._final(function(r){e.pendingcb--,r&&Kh(t,r),e.prefinished=!0,t.emit("prefinish"),w0(t,e)})}function jne(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,I.default.nextTick(Hne,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function w0(t,e){var r=QD(e);if(r&&(jne(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var i=t._readableState;(!i||i.autoDestroy&&i.endEmitted)&&t.destroy()}return r}function Vne(t,e,r){e.ending=!0,w0(t,e),r&&(e.finished?I.default.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function zne(t,e,r){var i=t.entry;for(t.entry=null;i;){var n=i.callback;e.pendingcb--,n(r),i=i.next}e.corkedRequestsFree.next=t}Object.defineProperty(Wt.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){!this._writableState||(this._writableState.destroyed=e)}});Wt.prototype.destroy=sx.destroy;Wt.prototype._undestroy=sx.undestroy;Wt.prototype._destroy=function(t,e){e(t)}});var Ea=D((mCe,YD)=>{"use strict";y();var Kne=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};YD.exports=Ts;var $D=py(),ax=hy();Ze()(Ts,$D);for(ox=Kne(ax.prototype),ly=0;ly<ox.length;ly++)dy=ox[ly],Ts.prototype[dy]||(Ts.prototype[dy]=ax.prototype[dy]);var ox,dy,ly;function Ts(t){if(!(this instanceof Ts))return new Ts(t);$D.call(this,t),ax.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",Gne)))}Object.defineProperty(Ts.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(Ts.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(Ts.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Gne(){this._writableState.ended||I.default.nextTick(Qne,this)}function Qne(t){t.end()}Object.defineProperty(Ts.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})});var gy=D(XD=>{"use strict";y();var ux=rt().Buffer,JD=ux.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Wne(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function $ne(t){var e=Wne(t);if(typeof e!="string"&&(ux.isEncoding===JD||!JD(t)))throw new Error("Unknown encoding: "+t);return e||t}XD.StringDecoder=x0;function x0(t){this.encoding=$ne(t);var e;switch(this.encoding){case"utf16le":this.text=tse,this.end=rse,e=4;break;case"utf8":this.fillLast=Xne,e=4;break;case"base64":this.text=ise,this.end=nse,e=3;break;default:this.write=sse,this.end=ose;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=ux.allocUnsafe(e)}x0.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};x0.prototype.end=ese;x0.prototype.text=Zne;x0.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function fx(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function Yne(t,e,r){var i=e.length-1;if(i<r)return 0;var n=fx(e[i]);return n>=0?(n>0&&(t.lastNeed=n-1),n):--i<r||n===-2?0:(n=fx(e[i]),n>=0?(n>0&&(t.lastNeed=n-2),n):--i<r||n===-2?0:(n=fx(e[i]),n>=0?(n>0&&(n===2?n=0:t.lastNeed=n-3),n):0))}function Jne(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function Xne(t){var e=this.lastTotal-this.lastNeed,r=Jne(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function Zne(t,e){var r=Yne(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var i=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,i),t.toString("utf8",e,i)}function ese(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function tse(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var i=r.charCodeAt(r.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function rse(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function ise(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function nse(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function sse(t){return t.toString(this.encoding)}function ose(t){return t&&t.length?this.write(t):""}});var E0=D((xCe,tR)=>{"use strict";y();var ZD=hu().codes.ERR_STREAM_PREMATURE_CLOSE;function ase(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];t.apply(this,i)}}}function fse(){}function use(t){return t.setHeader&&typeof t.abort=="function"}function eR(t,e,r){if(typeof e=="function")return eR(t,null,e);e||(e={}),r=ase(r||fse);var i=e.readable||e.readable!==!1&&t.readable,n=e.writable||e.writable!==!1&&t.writable,s=function(){t.writable||f()},o=t._writableState&&t._writableState.finished,f=function(){n=!1,o=!0,i||r.call(t)},l=t._readableState&&t._readableState.endEmitted,b=function(){i=!1,l=!0,n||r.call(t)},E=function(R){r.call(t,R)},C=function(){var R;if(i&&!l)return(!t._readableState||!t._readableState.ended)&&(R=new ZD),r.call(t,R);if(n&&!o)return(!t._writableState||!t._writableState.ended)&&(R=new ZD),r.call(t,R)},N=function(){t.req.on("finish",f)};return use(t)?(t.on("complete",f),t.on("abort",C),t.req?N():t.on("request",N)):n&&!t._writableState&&(t.on("end",s),t.on("close",s)),t.on("end",b),t.on("finish",f),e.error!==!1&&t.on("error",E),t.on("close",C),function(){t.removeListener("complete",f),t.removeListener("abort",C),t.removeListener("request",N),t.req&&t.req.removeListener("finish",f),t.removeListener("end",s),t.removeListener("close",s),t.removeListener("finish",f),t.removeListener("end",b),t.removeListener("error",E),t.removeListener("close",C)}}tR.exports=eR});var iR=D((ACe,rR)=>{"use strict";y();var vy;function Aa(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var cse=E0(),Sa=Symbol("lastResolve"),lu=Symbol("lastReject"),A0=Symbol("error"),yy=Symbol("ended"),du=Symbol("lastPromise"),cx=Symbol("handlePromise"),pu=Symbol("stream");function Ia(t,e){return{value:t,done:e}}function hse(t){var e=t[Sa];if(e!==null){var r=t[pu].read();r!==null&&(t[du]=null,t[Sa]=null,t[lu]=null,e(Ia(r,!1)))}}function lse(t){I.default.nextTick(hse,t)}function dse(t,e){return function(r,i){t.then(function(){if(e[yy]){r(Ia(void 0,!0));return}e[cx](r,i)},i)}}var pse=Object.getPrototypeOf(function(){}),gse=Object.setPrototypeOf((vy={get stream(){return this[pu]},next:function(){var e=this,r=this[A0];if(r!==null)return Promise.reject(r);if(this[yy])return Promise.resolve(Ia(void 0,!0));if(this[pu].destroyed)return new Promise(function(o,f){I.default.nextTick(function(){e[A0]?f(e[A0]):o(Ia(void 0,!0))})});var i=this[du],n;if(i)n=new Promise(dse(i,this));else{var s=this[pu].read();if(s!==null)return Promise.resolve(Ia(s,!1));n=new Promise(this[cx])}return this[du]=n,n}},Aa(vy,Symbol.asyncIterator,function(){return this}),Aa(vy,"return",function(){var e=this;return new Promise(function(r,i){e[pu].destroy(null,function(n){if(n){i(n);return}r(Ia(void 0,!0))})})}),vy),pse),vse=function(e){var r,i=Object.create(gse,(r={},Aa(r,pu,{value:e,writable:!0}),Aa(r,Sa,{value:null,writable:!0}),Aa(r,lu,{value:null,writable:!0}),Aa(r,A0,{value:null,writable:!0}),Aa(r,yy,{value:e._readableState.endEmitted,writable:!0}),Aa(r,cx,{value:function(s,o){var f=i[pu].read();f?(i[du]=null,i[Sa]=null,i[lu]=null,s(Ia(f,!1))):(i[Sa]=s,i[lu]=o)},writable:!0}),r));return i[du]=null,cse(e,function(n){if(n&&n.code!=="ERR_STREAM_PREMATURE_CLOSE"){var s=i[lu];s!==null&&(i[du]=null,i[Sa]=null,i[lu]=null,s(n)),i[A0]=n;return}var o=i[Sa];o!==null&&(i[du]=null,i[Sa]=null,i[lu]=null,o(Ia(void 0,!0))),i[yy]=!0}),e.on("readable",lse.bind(null,i)),i};rR.exports=vse});var sR=D((ICe,nR)=>{y();nR.exports=function(){throw new Error("Readable.from is not available in the browser")}});var py=D((TCe,gR)=>{"use strict";y();gR.exports=xt;var Gh;xt.ReadableState=uR;var CCe=eu().EventEmitter,fR=function(e,r){return e.listeners(r).length},I0=S8(),my=mi().Buffer,yse=global.Uint8Array||function(){};function mse(t){return my.from(t)}function bse(t){return my.isBuffer(t)||t instanceof yse}var hx=X8(),ot;hx&&hx.debuglog?ot=hx.debuglog("stream"):ot=function(){};var wse=RD(),mx=tx(),_se=rx(),xse=_se.getHighWaterMark,by=hu().codes,Ese=by.ERR_INVALID_ARG_TYPE,Ase=by.ERR_STREAM_PUSH_AFTER_EOF,Sse=by.ERR_METHOD_NOT_IMPLEMENTED,Ise=by.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,Qh,lx,dx;Ze()(xt,I0);var S0=mx.errorOrDestroy,px=["error","close","destroy","pause","resume"];function Mse(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function uR(t,e,r){Gh=Gh||Ea(),t=t||{},typeof r!="boolean"&&(r=e instanceof Gh),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=xse(this,t,"readableHighWaterMark",r),this.buffer=new wse,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(Qh||(Qh=gy().StringDecoder),this.decoder=new Qh(t.encoding),this.encoding=t.encoding)}function xt(t){if(Gh=Gh||Ea(),!(this instanceof xt))return new xt(t);var e=this instanceof Gh;this._readableState=new uR(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),I0.call(this)}Object.defineProperty(xt.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){!this._readableState||(this._readableState.destroyed=e)}});xt.prototype.destroy=mx.destroy;xt.prototype._undestroy=mx.undestroy;xt.prototype._destroy=function(t,e){e(t)};xt.prototype.push=function(t,e){var r=this._readableState,i;return r.objectMode?i=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=my.from(t,e),e=""),i=!0),cR(this,t,e,!1,i)};xt.prototype.unshift=function(t){return cR(this,t,null,!0,!1)};function cR(t,e,r,i,n){ot("readableAddChunk",e);var s=t._readableState;if(e===null)s.reading=!1,Ose(t,s);else{var o;if(n||(o=Cse(s,e)),o)S0(t,o);else if(s.objectMode||e&&e.length>0)if(typeof e!="string"&&!s.objectMode&&Object.getPrototypeOf(e)!==my.prototype&&(e=mse(e)),i)s.endEmitted?S0(t,new Ise):gx(t,s,e,!0);else if(s.ended)S0(t,new Ase);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(e=s.decoder.write(e),s.objectMode||e.length!==0?gx(t,s,e,!1):yx(t,s)):gx(t,s,e,!1)}else i||(s.reading=!1,yx(t,s))}return!s.ended&&(s.length<s.highWaterMark||s.length===0)}function gx(t,e,r,i){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,i?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&wy(t)),yx(t,e)}function Cse(t,e){var r;return!bse(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new Ese("chunk",["string","Buffer","Uint8Array"],e)),r}xt.prototype.isPaused=function(){return this._readableState.flowing===!1};xt.prototype.setEncoding=function(t){Qh||(Qh=gy().StringDecoder);var e=new Qh(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";r!==null;)i+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),i!==""&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var oR=1073741824;function Tse(t){return t>=oR?t=oR:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function aR(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=Tse(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}xt.prototype.read=function(t){ot("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return ot("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?vx(this):wy(this),null;if(t=aR(t,e),t===0&&e.ended)return e.length===0&&vx(this),null;var i=e.needReadable;ot("need readable",i),(e.length===0||e.length-t<e.highWaterMark)&&(i=!0,ot("length less than watermark",i)),e.ended||e.reading?(i=!1,ot("reading or ended",i)):i&&(ot("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=aR(r,e)));var n;return t>0?n=dR(t,e):n=null,n===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&vx(this)),n!==null&&this.emit("data",n),n};function Ose(t,e){if(ot("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?wy(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,hR(t)))}}function wy(t){var e=t._readableState;ot("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(ot("emitReadable",e.flowing),e.emittedReadable=!0,I.default.nextTick(hR,t))}function hR(t){var e=t._readableState;ot("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,bx(t)}function yx(t,e){e.readingMore||(e.readingMore=!0,I.default.nextTick(Nse,t,e))}function Nse(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(ot("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}xt.prototype._read=function(t){S0(this,new Sse("_read()"))};xt.prototype.pipe=function(t,e){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=t;break;case 1:i.pipes=[i.pipes,t];break;default:i.pipes.push(t);break}i.pipesCount+=1,ot("pipe count=%d opts=%j",i.pipesCount,e);var n=(!e||e.end!==!1)&&t!==I.default.stdout&&t!==I.default.stderr,s=n?f:V;i.endEmitted?I.default.nextTick(s):r.once("end",s),t.on("unpipe",o);function o(W,$){ot("onunpipe"),W===r&&$&&$.hasUnpiped===!1&&($.hasUnpiped=!0,E())}function f(){ot("onend"),t.end()}var l=Bse(r);t.on("drain",l);var b=!1;function E(){ot("cleanup"),t.removeListener("close",L),t.removeListener("finish",R),t.removeListener("drain",l),t.removeListener("error",N),t.removeListener("unpipe",o),r.removeListener("end",f),r.removeListener("end",V),r.removeListener("data",C),b=!0,i.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&l()}r.on("data",C);function C(W){ot("ondata");var $=t.write(W);ot("dest.write",$),$===!1&&((i.pipesCount===1&&i.pipes===t||i.pipesCount>1&&pR(i.pipes,t)!==-1)&&!b&&(ot("false write response, pause",i.awaitDrain),i.awaitDrain++),r.pause())}function N(W){ot("onerror",W),V(),t.removeListener("error",N),fR(t,"error")===0&&S0(t,W)}Mse(t,"error",N);function L(){t.removeListener("finish",R),V()}t.once("close",L);function R(){ot("onfinish"),t.removeListener("close",L),V()}t.once("finish",R);function V(){ot("unpipe"),r.unpipe(t)}return t.emit("pipe",r),i.flowing||(ot("pipe resume"),r.resume()),t};function Bse(t){return function(){var r=t._readableState;ot("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&fR(t,"data")&&(r.flowing=!0,bx(t))}}xt.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var i=e.pipes,n=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<n;s++)i[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=pR(e.pipes,t);return o===-1?this:(e.pipes.splice(o,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};xt.prototype.on=function(t,e){var r=I0.prototype.on.call(this,t,e),i=this._readableState;return t==="data"?(i.readableListening=this.listenerCount("readable")>0,i.flowing!==!1&&this.resume()):t==="readable"&&!i.endEmitted&&!i.readableListening&&(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,ot("on readable",i.length,i.reading),i.length?wy(this):i.reading||I.default.nextTick(Dse,this)),r};xt.prototype.addListener=xt.prototype.on;xt.prototype.removeListener=function(t,e){var r=I0.prototype.removeListener.call(this,t,e);return t==="readable"&&I.default.nextTick(lR,this),r};xt.prototype.removeAllListeners=function(t){var e=I0.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&I.default.nextTick(lR,this),e};function lR(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function Dse(t){ot("readable nexttick read 0"),t.read(0)}xt.prototype.resume=function(){var t=this._readableState;return t.flowing||(ot("resume"),t.flowing=!t.readableListening,Rse(this,t)),t.paused=!1,this};function Rse(t,e){e.resumeScheduled||(e.resumeScheduled=!0,I.default.nextTick(Pse,t,e))}function Pse(t,e){ot("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),bx(t),e.flowing&&!e.reading&&t.read(0)}xt.prototype.pause=function(){return ot("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(ot("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function bx(t){var e=t._readableState;for(ot("flow",e.flowing);e.flowing&&t.read()!==null;);}xt.prototype.wrap=function(t){var e=this,r=this._readableState,i=!1;t.on("end",function(){if(ot("wrapped end"),r.decoder&&!r.ended){var o=r.decoder.end();o&&o.length&&e.push(o)}e.push(null)}),t.on("data",function(o){if(ot("wrapped data"),r.decoder&&(o=r.decoder.write(o)),!(r.objectMode&&o==null)&&!(!r.objectMode&&(!o||!o.length))){var f=e.push(o);f||(i=!0,t.pause())}});for(var n in t)this[n]===void 0&&typeof t[n]=="function"&&(this[n]=function(f){return function(){return t[f].apply(t,arguments)}}(n));for(var s=0;s<px.length;s++)t.on(px[s],this.emit.bind(this,px[s]));return this._read=function(o){ot("wrapped _read",o),i&&(i=!1,t.resume())},this};typeof Symbol=="function"&&(xt.prototype[Symbol.asyncIterator]=function(){return lx===void 0&&(lx=iR()),lx(this)});Object.defineProperty(xt.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(xt.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(xt.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}});xt._fromList=dR;Object.defineProperty(xt.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function dR(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function vx(t){var e=t._readableState;ot("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,I.default.nextTick(Lse,e,t))}function Lse(t,e){if(ot("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}typeof Symbol=="function"&&(xt.from=function(t,e){return dx===void 0&&(dx=sR()),dx(xt,t,e)});function pR(t,e){for(var r=0,i=t.length;r<i;r++)if(t[r]===e)return r;return-1}});var Ey=D((NCe,yR)=>{"use strict";y();yR.exports=uo;var _y=hu().codes,qse=_y.ERR_METHOD_NOT_IMPLEMENTED,Fse=_y.ERR_MULTIPLE_CALLBACK,Use=_y.ERR_TRANSFORM_ALREADY_TRANSFORMING,kse=_y.ERR_TRANSFORM_WITH_LENGTH_0,xy=Ea();Ze()(uo,xy);function Hse(t,e){var r=this._transformState;r.transforming=!1;var i=r.writecb;if(i===null)return this.emit("error",new Fse);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),i(t);var n=this._readableState;n.reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}function uo(t){if(!(this instanceof uo))return new uo(t);xy.call(this,t),this._transformState={afterTransform:Hse.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",jse)}function jse(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){vR(t,e,r)}):vR(this,null,null)}uo.prototype.push=function(t,e){return this._transformState.needTransform=!1,xy.prototype.push.call(this,t,e)};uo.prototype._transform=function(t,e,r){r(new qse("_transform()"))};uo.prototype._write=function(t,e,r){var i=this._transformState;if(i.writecb=r,i.writechunk=t,i.writeencoding=e,!i.transforming){var n=this._readableState;(i.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}};uo.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};uo.prototype._destroy=function(t,e){xy.prototype._destroy.call(this,t,function(r){e(r)})};function vR(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new kse;if(t._transformState.transforming)throw new Use;return t.push(null)}});var wx=D((DCe,bR)=>{"use strict";y();bR.exports=M0;var mR=Ey();Ze()(M0,mR);function M0(t){if(!(this instanceof M0))return new M0(t);mR.call(this,t)}M0.prototype._transform=function(t,e,r){r(null,t)}});var xx=D((PCe,ER)=>{"use strict";y();var _x;function Vse(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var xR=hu().codes,zse=xR.ERR_MISSING_ARGS,Kse=xR.ERR_STREAM_DESTROYED;function wR(t){if(t)throw t}function Gse(t){return t.setHeader&&typeof t.abort=="function"}function Qse(t,e,r,i){i=Vse(i);var n=!1;t.on("close",function(){n=!0}),_x===void 0&&(_x=E0()),_x(t,{readable:e,writable:r},function(o){if(o)return i(o);n=!0,i()});var s=!1;return function(o){if(!n&&!s){if(s=!0,Gse(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();i(o||new Kse("pipe"))}}}function _R(t){t()}function Wse(t,e){return t.pipe(e)}function $se(t){return!t.length||typeof t[t.length-1]!="function"?wR:t.pop()}function Yse(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var i=$se(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new zse("streams");var n,s=e.map(function(o,f){var l=f<e.length-1,b=f>0;return Qse(o,l,b,function(E){n||(n=E),E&&s.forEach(_R),!l&&(s.forEach(_R),i(n))})});return e.reduce(Wse)}ER.exports=Yse});var Ex=D((nn,AR)=>{y();nn=AR.exports=py();nn.Stream=nn;nn.Readable=nn;nn.Writable=hy();nn.Duplex=Ea();nn.Transform=Ey();nn.PassThrough=wx();nn.finished=E0();nn.pipeline=xx()});var Ax=D((FCe,IR)=>{"use strict";y();var Ay=rt().Buffer,SR=Ex().Transform,Jse=Ze();function Xse(t,e){if(!Ay.isBuffer(t)&&typeof t!="string")throw new TypeError(e+" must be a string or a buffer")}function Ma(t){SR.call(this),this._block=Ay.allocUnsafe(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}Jse(Ma,SR);Ma.prototype._transform=function(t,e,r){var i=null;try{this.update(t,e)}catch(n){i=n}r(i)};Ma.prototype._flush=function(t){var e=null;try{this.push(this.digest())}catch(r){e=r}t(e)};Ma.prototype.update=function(t,e){if(Xse(t,"Data"),this._finalized)throw new Error("Digest already called");Ay.isBuffer(t)||(t=Ay.from(t,e));for(var r=this._block,i=0;this._blockOffset+t.length-i>=this._blockSize;){for(var n=this._blockOffset;n<this._blockSize;)r[n++]=t[i++];this._update(),this._blockOffset=0}for(;i<t.length;)r[this._blockOffset++]=t[i++];for(var s=0,o=t.length*8;o>0;++s)this._length[s]+=o,o=this._length[s]/4294967296|0,o>0&&(this._length[s]-=4294967296*o);return this};Ma.prototype._update=function(){throw new Error("_update is not implemented")};Ma.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();t!==void 0&&(e=e.toString(t)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return e};Ma.prototype._digest=function(){throw new Error("_digest is not implemented")};IR.exports=Ma});var My=D((kCe,CR)=>{"use strict";y();var Zse=Ze(),MR=Ax(),eoe=rt().Buffer,toe=new Array(16);function Sy(){MR.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}Zse(Sy,MR);Sy.prototype._update=function(){for(var t=toe,e=0;e<16;++e)t[e]=this._block.readInt32LE(e*4);var r=this._a,i=this._b,n=this._c,s=this._d;r=Gr(r,i,n,s,t[0],3614090360,7),s=Gr(s,r,i,n,t[1],3905402710,12),n=Gr(n,s,r,i,t[2],606105819,17),i=Gr(i,n,s,r,t[3],3250441966,22),r=Gr(r,i,n,s,t[4],4118548399,7),s=Gr(s,r,i,n,t[5],1200080426,12),n=Gr(n,s,r,i,t[6],2821735955,17),i=Gr(i,n,s,r,t[7],4249261313,22),r=Gr(r,i,n,s,t[8],1770035416,7),s=Gr(s,r,i,n,t[9],2336552879,12),n=Gr(n,s,r,i,t[10],4294925233,17),i=Gr(i,n,s,r,t[11],2304563134,22),r=Gr(r,i,n,s,t[12],1804603682,7),s=Gr(s,r,i,n,t[13],4254626195,12),n=Gr(n,s,r,i,t[14],2792965006,17),i=Gr(i,n,s,r,t[15],1236535329,22),r=Qr(r,i,n,s,t[1],4129170786,5),s=Qr(s,r,i,n,t[6],3225465664,9),n=Qr(n,s,r,i,t[11],643717713,14),i=Qr(i,n,s,r,t[0],3921069994,20),r=Qr(r,i,n,s,t[5],3593408605,5),s=Qr(s,r,i,n,t[10],38016083,9),n=Qr(n,s,r,i,t[15],3634488961,14),i=Qr(i,n,s,r,t[4],3889429448,20),r=Qr(r,i,n,s,t[9],568446438,5),s=Qr(s,r,i,n,t[14],3275163606,9),n=Qr(n,s,r,i,t[3],4107603335,14),i=Qr(i,n,s,r,t[8],1163531501,20),r=Qr(r,i,n,s,t[13],2850285829,5),s=Qr(s,r,i,n,t[2],4243563512,9),n=Qr(n,s,r,i,t[7],1735328473,14),i=Qr(i,n,s,r,t[12],2368359562,20),r=Wr(r,i,n,s,t[5],4294588738,4),s=Wr(s,r,i,n,t[8],2272392833,11),n=Wr(n,s,r,i,t[11],1839030562,16),i=Wr(i,n,s,r,t[14],4259657740,23),r=Wr(r,i,n,s,t[1],2763975236,4),s=Wr(s,r,i,n,t[4],1272893353,11),n=Wr(n,s,r,i,t[7],4139469664,16),i=Wr(i,n,s,r,t[10],3200236656,23),r=Wr(r,i,n,s,t[13],681279174,4),s=Wr(s,r,i,n,t[0],3936430074,11),n=Wr(n,s,r,i,t[3],3572445317,16),i=Wr(i,n,s,r,t[6],76029189,23),r=Wr(r,i,n,s,t[9],3654602809,4),s=Wr(s,r,i,n,t[12],3873151461,11),n=Wr(n,s,r,i,t[15],530742520,16),i=Wr(i,n,s,r,t[2],3299628645,23),r=$r(r,i,n,s,t[0],4096336452,6),s=$r(s,r,i,n,t[7],1126891415,10),n=$r(n,s,r,i,t[14],2878612391,15),i=$r(i,n,s,r,t[5],4237533241,21),r=$r(r,i,n,s,t[12],1700485571,6),s=$r(s,r,i,n,t[3],2399980690,10),n=$r(n,s,r,i,t[10],4293915773,15),i=$r(i,n,s,r,t[1],2240044497,21),r=$r(r,i,n,s,t[8],1873313359,6),s=$r(s,r,i,n,t[15],4264355552,10),n=$r(n,s,r,i,t[6],2734768916,15),i=$r(i,n,s,r,t[13],1309151649,21),r=$r(r,i,n,s,t[4],4149444226,6),s=$r(s,r,i,n,t[11],3174756917,10),n=$r(n,s,r,i,t[2],718787259,15),i=$r(i,n,s,r,t[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+i|0,this._c=this._c+n|0,this._d=this._d+s|0};Sy.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=eoe.allocUnsafe(16);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t};function Iy(t,e){return t<<e|t>>>32-e}function Gr(t,e,r,i,n,s,o){return Iy(t+(e&r|~e&i)+n+s|0,o)+e|0}function Qr(t,e,r,i,n,s,o){return Iy(t+(e&i|r&~i)+n+s|0,o)+e|0}function Wr(t,e,r,i,n,s,o){return Iy(t+(e^r^i)+n+s|0,o)+e|0}function $r(t,e,r,i,n,s,o){return Iy(t+(r^(e|~i))+n+s|0,o)+e|0}CR.exports=Sy});var Ty=D((jCe,PR)=>{"use strict";y();var Sx=mi().Buffer,roe=Ze(),RR=Ax(),ioe=new Array(16),C0=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],T0=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],O0=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],N0=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],B0=[0,1518500249,1859775393,2400959708,2840853838],D0=[1352829926,1548603684,1836072691,2053994217,0];function Cy(){RR.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}roe(Cy,RR);Cy.prototype._update=function(){for(var t=ioe,e=0;e<16;++e)t[e]=this._block.readInt32LE(e*4);for(var r=this._a|0,i=this._b|0,n=this._c|0,s=this._d|0,o=this._e|0,f=this._a|0,l=this._b|0,b=this._c|0,E=this._d|0,C=this._e|0,N=0;N<80;N+=1){var L,R;N<16?(L=TR(r,i,n,s,o,t[C0[N]],B0[0],O0[N]),R=DR(f,l,b,E,C,t[T0[N]],D0[0],N0[N])):N<32?(L=OR(r,i,n,s,o,t[C0[N]],B0[1],O0[N]),R=BR(f,l,b,E,C,t[T0[N]],D0[1],N0[N])):N<48?(L=NR(r,i,n,s,o,t[C0[N]],B0[2],O0[N]),R=NR(f,l,b,E,C,t[T0[N]],D0[2],N0[N])):N<64?(L=BR(r,i,n,s,o,t[C0[N]],B0[3],O0[N]),R=OR(f,l,b,E,C,t[T0[N]],D0[3],N0[N])):(L=DR(r,i,n,s,o,t[C0[N]],B0[4],O0[N]),R=TR(f,l,b,E,C,t[T0[N]],D0[4],N0[N])),r=o,o=s,s=gu(n,10),n=i,i=L,f=C,C=E,E=gu(b,10),b=l,l=R}var V=this._b+n+E|0;this._b=this._c+s+C|0,this._c=this._d+o+f|0,this._d=this._e+r+l|0,this._e=this._a+i+b|0,this._a=V};Cy.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=Sx.alloc?Sx.alloc(20):new Sx(20);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t.writeInt32LE(this._e,16),t};function gu(t,e){return t<<e|t>>>32-e}function TR(t,e,r,i,n,s,o,f){return gu(t+(e^r^i)+s+o|0,f)+n|0}function OR(t,e,r,i,n,s,o,f){return gu(t+(e&r|~e&i)+s+o|0,f)+n|0}function NR(t,e,r,i,n,s,o,f){return gu(t+((e|~r)^i)+s+o|0,f)+n|0}function BR(t,e,r,i,n,s,o,f){return gu(t+(e&i|r&~i)+s+o|0,f)+n|0}function DR(t,e,r,i,n,s,o,f){return gu(t+(e^(r|~i))+s+o|0,f)+n|0}PR.exports=Cy});var vu=D((zCe,qR)=>{y();var LR=rt().Buffer;function Oy(t,e){this._block=LR.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}Oy.prototype.update=function(t,e){typeof t=="string"&&(e=e||"utf8",t=LR.from(t,e));for(var r=this._block,i=this._blockSize,n=t.length,s=this._len,o=0;o<n;){for(var f=s%i,l=Math.min(n-o,i-f),b=0;b<l;b++)r[f+b]=t[o+b];s+=l,o+=l,s%i===0&&this._update(r)}return this._len+=n,this};Oy.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var i=(r&4294967295)>>>0,n=(r-i)/4294967296;this._block.writeUInt32BE(n,this._blockSize-8),this._block.writeUInt32BE(i,this._blockSize-4)}this._update(this._block);var s=this._hash();return t?s.toString(t):s};Oy.prototype._update=function(){throw new Error("_update must be implemented by subclass")};qR.exports=Oy});var kR=D((GCe,UR)=>{y();var noe=Ze(),FR=vu(),soe=rt().Buffer,ooe=[1518500249,1859775393,-1894007588,-899497514],aoe=new Array(80);function R0(){this.init(),this._w=aoe,FR.call(this,64,56)}noe(R0,FR);R0.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function foe(t){return t<<5|t>>>27}function uoe(t){return t<<30|t>>>2}function coe(t,e,r,i){return t===0?e&r|~e&i:t===2?e&r|e&i|r&i:e^r^i}R0.prototype._update=function(t){for(var e=this._w,r=this._a|0,i=this._b|0,n=this._c|0,s=this._d|0,o=this._e|0,f=0;f<16;++f)e[f]=t.readInt32BE(f*4);for(;f<80;++f)e[f]=e[f-3]^e[f-8]^e[f-14]^e[f-16];for(var l=0;l<80;++l){var b=~~(l/20),E=foe(r)+coe(b,i,n,s)+o+e[l]+ooe[b]|0;o=s,s=n,n=uoe(i),i=r,r=E}this._a=r+this._a|0,this._b=i+this._b|0,this._c=n+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0};R0.prototype._hash=function(){var t=soe.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};UR.exports=R0});var VR=D((WCe,jR)=>{y();var hoe=Ze(),HR=vu(),loe=rt().Buffer,doe=[1518500249,1859775393,-1894007588,-899497514],poe=new Array(80);function P0(){this.init(),this._w=poe,HR.call(this,64,56)}hoe(P0,HR);P0.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function goe(t){return t<<1|t>>>31}function voe(t){return t<<5|t>>>27}function yoe(t){return t<<30|t>>>2}function moe(t,e,r,i){return t===0?e&r|~e&i:t===2?e&r|e&i|r&i:e^r^i}P0.prototype._update=function(t){for(var e=this._w,r=this._a|0,i=this._b|0,n=this._c|0,s=this._d|0,o=this._e|0,f=0;f<16;++f)e[f]=t.readInt32BE(f*4);for(;f<80;++f)e[f]=goe(e[f-3]^e[f-8]^e[f-14]^e[f-16]);for(var l=0;l<80;++l){var b=~~(l/20),E=voe(r)+moe(b,i,n,s)+o+e[l]+doe[b]|0;o=s,s=n,n=yoe(i),i=r,r=E}this._a=r+this._a|0,this._b=i+this._b|0,this._c=n+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0};P0.prototype._hash=function(){var t=loe.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};jR.exports=P0});var Ix=D((YCe,KR)=>{y();var boe=Ze(),zR=vu(),woe=rt().Buffer,_oe=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],xoe=new Array(64);function L0(){this.init(),this._w=xoe,zR.call(this,64,56)}boe(L0,zR);L0.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function Eoe(t,e,r){return r^t&(e^r)}function Aoe(t,e,r){return t&e|r&(t|e)}function Soe(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function Ioe(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function Moe(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}function Coe(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10}L0.prototype._update=function(t){for(var e=this._w,r=this._a|0,i=this._b|0,n=this._c|0,s=this._d|0,o=this._e|0,f=this._f|0,l=this._g|0,b=this._h|0,E=0;E<16;++E)e[E]=t.readInt32BE(E*4);for(;E<64;++E)e[E]=Coe(e[E-2])+e[E-7]+Moe(e[E-15])+e[E-16]|0;for(var C=0;C<64;++C){var N=b+Ioe(o)+Eoe(o,f,l)+_oe[C]+e[C]|0,L=Soe(r)+Aoe(r,i,n)|0;b=l,l=f,f=o,o=s+N|0,s=n,n=i,i=r,r=N+L|0}this._a=r+this._a|0,this._b=i+this._b|0,this._c=n+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0,this._f=f+this._f|0,this._g=l+this._g|0,this._h=b+this._h|0};L0.prototype._hash=function(){var t=woe.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t};KR.exports=L0});var QR=D((XCe,GR)=>{y();var Toe=Ze(),Ooe=Ix(),Noe=vu(),Boe=rt().Buffer,Doe=new Array(64);function Ny(){this.init(),this._w=Doe,Noe.call(this,64,56)}Toe(Ny,Ooe);Ny.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};Ny.prototype._hash=function(){var t=Boe.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t};GR.exports=Ny});var Mx=D((e9e,eP)=>{y();var Roe=Ze(),ZR=vu(),Poe=rt().Buffer,WR=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],Loe=new Array(160);function q0(){this.init(),this._w=Loe,ZR.call(this,128,112)}Roe(q0,ZR);q0.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function $R(t,e,r){return r^t&(e^r)}function YR(t,e,r){return t&e|r&(t|e)}function JR(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function XR(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function qoe(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function Foe(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function Uoe(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function koe(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function xr(t,e){return t>>>0<e>>>0?1:0}q0.prototype._update=function(t){for(var e=this._w,r=this._ah|0,i=this._bh|0,n=this._ch|0,s=this._dh|0,o=this._eh|0,f=this._fh|0,l=this._gh|0,b=this._hh|0,E=this._al|0,C=this._bl|0,N=this._cl|0,L=this._dl|0,R=this._el|0,V=this._fl|0,W=this._gl|0,$=this._hl|0,re=0;re<32;re+=2)e[re]=t.readInt32BE(re*4),e[re+1]=t.readInt32BE(re*4+4);for(;re<160;re+=2){var ee=e[re-30],ie=e[re-15*2+1],ne=qoe(ee,ie),Z=Foe(ie,ee);ee=e[re-2*2],ie=e[re-2*2+1];var G=Uoe(ee,ie),Q=koe(ie,ee),P=e[re-7*2],w=e[re-7*2+1],p=e[re-16*2],_=e[re-16*2+1],g=Z+w|0,a=ne+P+xr(g,Z)|0;g=g+Q|0,a=a+G+xr(g,Q)|0,g=g+_|0,a=a+p+xr(g,_)|0,e[re]=a,e[re+1]=g}for(var c=0;c<160;c+=2){a=e[c],g=e[c+1];var m=YR(r,i,n),v=YR(E,C,N),u=JR(r,E),d=JR(E,r),x=XR(o,R),A=XR(R,o),h=WR[c],S=WR[c+1],K=$R(o,f,l),T=$R(R,V,W),k=$+A|0,z=b+x+xr(k,$)|0;k=k+T|0,z=z+K+xr(k,T)|0,k=k+S|0,z=z+h+xr(k,S)|0,k=k+g|0,z=z+a+xr(k,g)|0;var O=d+v|0,B=u+m+xr(O,d)|0;b=l,$=W,l=f,W=V,f=o,V=R,R=L+k|0,o=s+z+xr(R,L)|0,s=n,L=N,n=i,N=C,i=r,C=E,E=k+O|0,r=z+B+xr(E,k)|0}this._al=this._al+E|0,this._bl=this._bl+C|0,this._cl=this._cl+N|0,this._dl=this._dl+L|0,this._el=this._el+R|0,this._fl=this._fl+V|0,this._gl=this._gl+W|0,this._hl=this._hl+$|0,this._ah=this._ah+r+xr(this._al,E)|0,this._bh=this._bh+i+xr(this._bl,C)|0,this._ch=this._ch+n+xr(this._cl,N)|0,this._dh=this._dh+s+xr(this._dl,L)|0,this._eh=this._eh+o+xr(this._el,R)|0,this._fh=this._fh+f+xr(this._fl,V)|0,this._gh=this._gh+l+xr(this._gl,W)|0,this._hh=this._hh+b+xr(this._hl,$)|0};q0.prototype._hash=function(){var t=Poe.allocUnsafe(64);function e(r,i,n){t.writeInt32BE(r,n),t.writeInt32BE(i,n+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t};eP.exports=q0});var rP=D((r9e,tP)=>{y();var Hoe=Ze(),joe=Mx(),Voe=vu(),zoe=rt().Buffer,Koe=new Array(160);function By(){this.init(),this._w=Koe,Voe.call(this,128,112)}Hoe(By,joe);By.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};By.prototype._hash=function(){var t=zoe.allocUnsafe(48);function e(r,i,n){t.writeInt32BE(r,n),t.writeInt32BE(i,n+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t};tP.exports=By});var Dy=D((co,iP)=>{y();var co=iP.exports=function(e){e=e.toLowerCase();var r=co[e];if(!r)throw new Error(e+" is not supported (we accept pull requests)");return new r};co.sha=kR();co.sha1=VR();co.sha224=QR();co.sha256=Ix();co.sha384=rP();co.sha512=Mx()});var sP=D((s9e,nP)=>{y();nP.exports=sn;var Cx=eu().EventEmitter,Goe=Ze();Goe(sn,Cx);sn.Readable=py();sn.Writable=hy();sn.Duplex=Ea();sn.Transform=Ey();sn.PassThrough=wx();sn.finished=E0();sn.pipeline=xx();sn.Stream=sn;function sn(){Cx.call(this)}sn.prototype.pipe=function(t,e){var r=this;function i(E){t.writable&&t.write(E)===!1&&r.pause&&r.pause()}r.on("data",i);function n(){r.readable&&r.resume&&r.resume()}t.on("drain",n),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",o),r.on("close",f));var s=!1;function o(){s||(s=!0,t.end())}function f(){s||(s=!0,typeof t.destroy=="function"&&t.destroy())}function l(E){if(b(),Cx.listenerCount(this,"error")===0)throw E}r.on("error",l),t.on("error",l);function b(){r.removeListener("data",i),t.removeListener("drain",n),r.removeListener("end",o),r.removeListener("close",f),r.removeListener("error",l),t.removeListener("error",l),r.removeListener("end",b),r.removeListener("close",b),t.removeListener("close",b)}return r.on("end",b),r.on("close",b),t.on("close",b),t.emit("pipe",r),t}});var ho=D((a9e,fP)=>{y();var oP=rt().Buffer,aP=sP().Transform,Qoe=gy().StringDecoder,Woe=Ze();function Dn(t){aP.call(this),this.hashMode=typeof t=="string",this.hashMode?this[t]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}Woe(Dn,aP);Dn.prototype.update=function(t,e,r){typeof t=="string"&&(t=oP.from(t,e));var i=this._update(t);return this.hashMode?this:(r&&(i=this._toString(i,r)),i)};Dn.prototype.setAutoPadding=function(){};Dn.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")};Dn.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")};Dn.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")};Dn.prototype._transform=function(t,e,r){var i;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(n){i=n}finally{r(i)}};Dn.prototype._flush=function(t){var e;try{this.push(this.__final())}catch(r){e=r}t(e)};Dn.prototype._finalOrDigest=function(t){var e=this.__final()||oP.alloc(0);return t&&(e=this._toString(e,t,!0)),e};Dn.prototype._toString=function(t,e,r){if(this._decoder||(this._decoder=new Qoe(e),this._encoding=e),this._encoding!==e)throw new Error("can't switch encodings");var i=this._decoder.write(t);return r&&(i+=this._decoder.end()),i};fP.exports=Dn});var Wh=D((u9e,cP)=>{"use strict";y();var $oe=Ze(),Yoe=My(),Joe=Ty(),Xoe=Dy(),uP=ho();function Ry(t){uP.call(this,"digest"),this._hash=t}$oe(Ry,uP);Ry.prototype._update=function(t){this._hash.update(t)};Ry.prototype._final=function(){return this._hash.digest()};cP.exports=function(e){return e=e.toLowerCase(),e==="md5"?new Yoe:e==="rmd160"||e==="ripemd160"?new Joe:new Ry(Xoe(e))}});var dP=D((h9e,lP)=>{"use strict";y();var Zoe=Ze(),yu=rt().Buffer,hP=ho(),eae=yu.alloc(128),$h=64;function Py(t,e){hP.call(this,"digest"),typeof e=="string"&&(e=yu.from(e)),this._alg=t,this._key=e,e.length>$h?e=t(e):e.length<$h&&(e=yu.concat([e,eae],$h));for(var r=this._ipad=yu.allocUnsafe($h),i=this._opad=yu.allocUnsafe($h),n=0;n<$h;n++)r[n]=e[n]^54,i[n]=e[n]^92;this._hash=[r]}Zoe(Py,hP);Py.prototype._update=function(t){this._hash.push(t)};Py.prototype._final=function(){var t=this._alg(yu.concat(this._hash));return this._alg(yu.concat([this._opad,t]))};lP.exports=Py});var Tx=D((d9e,pP)=>{y();var tae=My();pP.exports=function(t){return new tae().update(t).digest()}});var Bx=D((g9e,vP)=>{"use strict";y();var rae=Ze(),iae=dP(),gP=ho(),F0=rt().Buffer,nae=Tx(),Ox=Ty(),Nx=Dy(),sae=F0.alloc(128);function U0(t,e){gP.call(this,"digest"),typeof e=="string"&&(e=F0.from(e));var r=t==="sha512"||t==="sha384"?128:64;if(this._alg=t,this._key=e,e.length>r){var i=t==="rmd160"?new Ox:Nx(t);e=i.update(e).digest()}else e.length<r&&(e=F0.concat([e,sae],r));for(var n=this._ipad=F0.allocUnsafe(r),s=this._opad=F0.allocUnsafe(r),o=0;o<r;o++)n[o]=e[o]^54,s[o]=e[o]^92;this._hash=t==="rmd160"?new Ox:Nx(t),this._hash.update(n)}rae(U0,gP);U0.prototype._update=function(t){this._hash.update(t)};U0.prototype._final=function(){var t=this._hash.digest(),e=this._alg==="rmd160"?new Ox:Nx(this._alg);return e.update(this._opad).update(t).digest()};vP.exports=function(e,r){return e=e.toLowerCase(),e==="rmd160"||e==="ripemd160"?new U0("rmd160",r):e==="md5"?new iae(nae,r):new U0(e,r)}});var Dx=D((y9e,oae)=>{oae.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}});var mP=D((m9e,yP)=>{y();yP.exports=Dx()});var Rx=D((w9e,bP)=>{y();var aae=Math.pow(2,30)-1;bP.exports=function(t,e){if(typeof t!="number")throw new TypeError("Iterations not a number");if(t<0)throw new TypeError("Bad iterations");if(typeof e!="number")throw new TypeError("Key length not a number");if(e<0||e>aae||e!==e)throw new TypeError("Bad key length")}});var Px=D((x9e,_P)=>{y();var Ly;global.process&&global.process.browser?Ly="utf-8":global.process&&global.process.version?(wP=parseInt(I.default.version.split(".")[0].slice(1),10),Ly=wP>=6?"utf-8":"binary"):Ly="utf-8";var wP;_P.exports=Ly});var qx=D((A9e,xP)=>{y();var Lx=rt().Buffer;xP.exports=function(t,e,r){if(Lx.isBuffer(t))return t;if(typeof t=="string")return Lx.from(t,e);if(ArrayBuffer.isView(t))return Lx.from(t.buffer);throw new TypeError(r+" must be a string, a Buffer, a typed array or a DataView")}});var Fx=D((I9e,IP)=>{y();var fae=Tx(),uae=Ty(),cae=Dy(),mu=rt().Buffer,hae=Rx(),EP=Px(),AP=qx(),lae=mu.alloc(128),qy={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function SP(t,e,r){var i=dae(t),n=t==="sha512"||t==="sha384"?128:64;e.length>n?e=i(e):e.length<n&&(e=mu.concat([e,lae],n));for(var s=mu.allocUnsafe(n+qy[t]),o=mu.allocUnsafe(n+qy[t]),f=0;f<n;f++)s[f]=e[f]^54,o[f]=e[f]^92;var l=mu.allocUnsafe(n+r+4);s.copy(l,0,0,n),this.ipad1=l,this.ipad2=s,this.opad=o,this.alg=t,this.blocksize=n,this.hash=i,this.size=qy[t]}SP.prototype.run=function(t,e){t.copy(e,this.blocksize);var r=this.hash(e);return r.copy(this.opad,this.blocksize),this.hash(this.opad)};function dae(t){function e(i){return cae(t).update(i).digest()}function r(i){return new uae().update(i).digest()}return t==="rmd160"||t==="ripemd160"?r:t==="md5"?fae:e}function pae(t,e,r,i,n){hae(r,i),t=AP(t,EP,"Password"),e=AP(e,EP,"Salt"),n=n||"sha1";var s=new SP(n,t,e.length),o=mu.allocUnsafe(i),f=mu.allocUnsafe(e.length+4);e.copy(f,0,0,e.length);for(var l=0,b=qy[n],E=Math.ceil(i/b),C=1;C<=E;C++){f.writeUInt32BE(C,e.length);for(var N=s.run(f,s.ipad1),L=N,R=1;R<r;R++){L=s.run(L,s.ipad2);for(var V=0;V<b;V++)N[V]^=L[V]}N.copy(o,l),l+=b}return o}IP.exports=pae});var DP=D((C9e,BP)=>{y();var OP=rt().Buffer,gae=Rx(),MP=Px(),CP=Fx(),TP=qx(),Fy,k0=global.crypto&&global.crypto.subtle,vae={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},Ux=[];function yae(t){if(global.process&&!global.process.browser||!k0||!k0.importKey||!k0.deriveBits)return Promise.resolve(!1);if(Ux[t]!==void 0)return Ux[t];Fy=Fy||OP.alloc(8);var e=NP(Fy,Fy,10,128,t).then(function(){return!0}).catch(function(){return!1});return Ux[t]=e,e}var bu;function kx(){return bu||(global.process&&global.process.nextTick?bu=global.process.nextTick:global.queueMicrotask?bu=global.queueMicrotask:global.setImmediate?bu=global.setImmediate:bu=global.setTimeout,bu)}function NP(t,e,r,i,n){return k0.importKey("raw",t,{name:"PBKDF2"},!1,["deriveBits"]).then(function(s){return k0.deriveBits({name:"PBKDF2",salt:e,iterations:r,hash:{name:n}},s,i<<3)}).then(function(s){return OP.from(s)})}function mae(t,e){t.then(function(r){kx()(function(){e(null,r)})},function(r){kx()(function(){e(r)})})}BP.exports=function(t,e,r,i,n,s){typeof n=="function"&&(s=n,n=void 0),n=n||"sha1";var o=vae[n.toLowerCase()];if(!o||typeof global.Promise!="function"){kx()(function(){var f;try{f=CP(t,e,r,i,n)}catch(l){return s(l)}s(null,f)});return}if(gae(r,i),t=TP(t,MP,"Password"),e=TP(e,MP,"Salt"),typeof s!="function")throw new Error("No callback provided to pbkdf2");mae(yae(o).then(function(f){return f?NP(t,e,r,i,o):CP(t,e,r,i,n)}),s)}});var jx=D(Hx=>{y();Hx.pbkdf2=DP();Hx.pbkdf2Sync=Fx()});var Vx=D(on=>{"use strict";y();on.readUInt32BE=function(e,r){var i=e[0+r]<<24|e[1+r]<<16|e[2+r]<<8|e[3+r];return i>>>0};on.writeUInt32BE=function(e,r,i){e[0+i]=r>>>24,e[1+i]=r>>>16&255,e[2+i]=r>>>8&255,e[3+i]=r&255};on.ip=function(e,r,i,n){for(var s=0,o=0,f=6;f>=0;f-=2){for(var l=0;l<=24;l+=8)s<<=1,s|=r>>>l+f&1;for(var l=0;l<=24;l+=8)s<<=1,s|=e>>>l+f&1}for(var f=6;f>=0;f-=2){for(var l=1;l<=25;l+=8)o<<=1,o|=r>>>l+f&1;for(var l=1;l<=25;l+=8)o<<=1,o|=e>>>l+f&1}i[n+0]=s>>>0,i[n+1]=o>>>0};on.rip=function(e,r,i,n){for(var s=0,o=0,f=0;f<4;f++)for(var l=24;l>=0;l-=8)s<<=1,s|=r>>>l+f&1,s<<=1,s|=e>>>l+f&1;for(var f=4;f<8;f++)for(var l=24;l>=0;l-=8)o<<=1,o|=r>>>l+f&1,o<<=1,o|=e>>>l+f&1;i[n+0]=s>>>0,i[n+1]=o>>>0};on.pc1=function(e,r,i,n){for(var s=0,o=0,f=7;f>=5;f--){for(var l=0;l<=24;l+=8)s<<=1,s|=r>>l+f&1;for(var l=0;l<=24;l+=8)s<<=1,s|=e>>l+f&1}for(var l=0;l<=24;l+=8)s<<=1,s|=r>>l+f&1;for(var f=1;f<=3;f++){for(var l=0;l<=24;l+=8)o<<=1,o|=r>>l+f&1;for(var l=0;l<=24;l+=8)o<<=1,o|=e>>l+f&1}for(var l=0;l<=24;l+=8)o<<=1,o|=e>>l+f&1;i[n+0]=s>>>0,i[n+1]=o>>>0};on.r28shl=function(e,r){return e<<r&268435455|e>>>28-r};var Uy=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];on.pc2=function(e,r,i,n){for(var s=0,o=0,f=Uy.length>>>1,l=0;l<f;l++)s<<=1,s|=e>>>Uy[l]&1;for(var l=f;l<Uy.length;l++)o<<=1,o|=r>>>Uy[l]&1;i[n+0]=s>>>0,i[n+1]=o>>>0};on.expand=function(e,r,i){var n=0,s=0;n=(e&1)<<5|e>>>27;for(var o=23;o>=15;o-=4)n<<=6,n|=e>>>o&63;for(var o=11;o>=3;o-=4)s|=e>>>o&63,s<<=6;s|=(e&31)<<1|e>>>31,r[i+0]=n>>>0,r[i+1]=s>>>0};var RP=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];on.substitute=function(e,r){for(var i=0,n=0;n<4;n++){var s=e>>>18-n*6&63,o=RP[n*64+s];i<<=4,i|=o}for(var n=0;n<4;n++){var s=r>>>18-n*6&63,o=RP[4*64+n*64+s];i<<=4,i|=o}return i>>>0};var PP=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];on.permute=function(e){for(var r=0,i=0;i<PP.length;i++)r<<=1,r|=e>>>PP[i]&1;return r>>>0};on.padSplit=function(e,r,i){for(var n=e.toString(2);n.length<r;)n="0"+n;for(var s=[],o=0;o<r;o+=i)s.push(n.slice(o,o+i));return s.join(" ")}});var Pi=D((R9e,qP)=>{y();qP.exports=LP;function LP(t,e){if(!t)throw new Error(e||"Assertion failed")}LP.equal=function(e,r,i){if(e!=r)throw new Error(i||"Assertion failed: "+e+" != "+r)}});var ky=D((L9e,FP)=>{"use strict";y();var bae=Pi();function an(t){this.options=t,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}FP.exports=an;an.prototype._init=function(){};an.prototype.update=function(e){return e.length===0?[]:this.type==="decrypt"?this._updateDecrypt(e):this._updateEncrypt(e)};an.prototype._buffer=function(e,r){for(var i=Math.min(this.buffer.length-this.bufferOff,e.length-r),n=0;n<i;n++)this.buffer[this.bufferOff+n]=e[r+n];return this.bufferOff+=i,i};an.prototype._flushBuffer=function(e,r){return this._update(this.buffer,0,e,r),this.bufferOff=0,this.blockSize};an.prototype._updateEncrypt=function(e){var r=0,i=0,n=(this.bufferOff+e.length)/this.blockSize|0,s=new Array(n*this.blockSize);this.bufferOff!==0&&(r+=this._buffer(e,r),this.bufferOff===this.buffer.length&&(i+=this._flushBuffer(s,i)));for(var o=e.length-(e.length-r)%this.blockSize;r<o;r+=this.blockSize)this._update(e,r,s,i),i+=this.blockSize;for(;r<e.length;r++,this.bufferOff++)this.buffer[this.bufferOff]=e[r];return s};an.prototype._updateDecrypt=function(e){for(var r=0,i=0,n=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1,s=new Array(n*this.blockSize);n>0;n--)r+=this._buffer(e,r),i+=this._flushBuffer(s,i);return r+=this._buffer(e,r),s};an.prototype.final=function(e){var r;e&&(r=this.update(e));var i;return this.type==="encrypt"?i=this._finalEncrypt():i=this._finalDecrypt(),r?r.concat(i):i};an.prototype._pad=function(e,r){if(r===0)return!1;for(;r<e.length;)e[r++]=0;return!0};an.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var e=new Array(this.blockSize);return this._update(this.buffer,0,e,0),e};an.prototype._unpad=function(e){return e};an.prototype._finalDecrypt=function(){bae.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var e=new Array(this.blockSize);return this._flushBuffer(e,0),this._unpad(e)}});var zx=D((F9e,HP)=>{"use strict";y();var UP=Pi(),wae=Ze(),dr=Vx(),kP=ky();function _ae(){this.tmp=new Array(2),this.keys=null}function Os(t){kP.call(this,t);var e=new _ae;this._desState=e,this.deriveKeys(e,t.key)}wae(Os,kP);HP.exports=Os;Os.create=function(e){return new Os(e)};var xae=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];Os.prototype.deriveKeys=function(e,r){e.keys=new Array(16*2),UP.equal(r.length,this.blockSize,"Invalid key length");var i=dr.readUInt32BE(r,0),n=dr.readUInt32BE(r,4);dr.pc1(i,n,e.tmp,0),i=e.tmp[0],n=e.tmp[1];for(var s=0;s<e.keys.length;s+=2){var o=xae[s>>>1];i=dr.r28shl(i,o),n=dr.r28shl(n,o),dr.pc2(i,n,e.keys,s)}};Os.prototype._update=function(e,r,i,n){var s=this._desState,o=dr.readUInt32BE(e,r),f=dr.readUInt32BE(e,r+4);dr.ip(o,f,s.tmp,0),o=s.tmp[0],f=s.tmp[1],this.type==="encrypt"?this._encrypt(s,o,f,s.tmp,0):this._decrypt(s,o,f,s.tmp,0),o=s.tmp[0],f=s.tmp[1],dr.writeUInt32BE(i,o,n),dr.writeUInt32BE(i,f,n+4)};Os.prototype._pad=function(e,r){for(var i=e.length-r,n=r;n<e.length;n++)e[n]=i;return!0};Os.prototype._unpad=function(e){for(var r=e[e.length-1],i=e.length-r;i<e.length;i++)UP.equal(e[i],r);return e.slice(0,e.length-r)};Os.prototype._encrypt=function(e,r,i,n,s){for(var o=r,f=i,l=0;l<e.keys.length;l+=2){var b=e.keys[l],E=e.keys[l+1];dr.expand(f,e.tmp,0),b^=e.tmp[0],E^=e.tmp[1];var C=dr.substitute(b,E),N=dr.permute(C),L=f;f=(o^N)>>>0,o=L}dr.rip(f,o,n,s)};Os.prototype._decrypt=function(e,r,i,n,s){for(var o=i,f=r,l=e.keys.length-2;l>=0;l-=2){var b=e.keys[l],E=e.keys[l+1];dr.expand(o,e.tmp,0),b^=e.tmp[0],E^=e.tmp[1];var C=dr.substitute(b,E),N=dr.permute(C),L=o;o=(f^N)>>>0,f=L}dr.rip(o,f,n,s)}});var VP=D(jP=>{"use strict";y();var Eae=Pi(),Aae=Ze(),Hy={};function Sae(t){Eae.equal(t.length,8,"Invalid IV length"),this.iv=new Array(8);for(var e=0;e<this.iv.length;e++)this.iv[e]=t[e]}function Iae(t){function e(s){t.call(this,s),this._cbcInit()}Aae(e,t);for(var r=Object.keys(Hy),i=0;i<r.length;i++){var n=r[i];e.prototype[n]=Hy[n]}return e.create=function(o){return new e(o)},e}jP.instantiate=Iae;Hy._cbcInit=function(){var e=new Sae(this.options.iv);this._cbcState=e};Hy._update=function(e,r,i,n){var s=this._cbcState,o=this.constructor.super_.prototype,f=s.iv;if(this.type==="encrypt"){for(var l=0;l<this.blockSize;l++)f[l]^=e[r+l];o._update.call(this,f,0,i,n);for(var l=0;l<this.blockSize;l++)f[l]=i[n+l]}else{o._update.call(this,e,r,i,n);for(var l=0;l<this.blockSize;l++)i[n+l]^=f[l];for(var l=0;l<this.blockSize;l++)f[l]=e[r+l]}}});var GP=D((j9e,KP)=>{"use strict";y();var Mae=Pi(),Cae=Ze(),zP=ky(),Ca=zx();function Tae(t,e){Mae.equal(e.length,24,"Invalid key length");var r=e.slice(0,8),i=e.slice(8,16),n=e.slice(16,24);t==="encrypt"?this.ciphers=[Ca.create({type:"encrypt",key:r}),Ca.create({type:"decrypt",key:i}),Ca.create({type:"encrypt",key:n})]:this.ciphers=[Ca.create({type:"decrypt",key:n}),Ca.create({type:"encrypt",key:i}),Ca.create({type:"decrypt",key:r})]}function wu(t){zP.call(this,t);var e=new Tae(this.type,this.options.key);this._edeState=e}Cae(wu,zP);KP.exports=wu;wu.create=function(e){return new wu(e)};wu.prototype._update=function(e,r,i,n){var s=this._edeState;s.ciphers[0]._update(e,r,i,n),s.ciphers[1]._update(i,n,i,n),s.ciphers[2]._update(i,n,i,n)};wu.prototype._pad=Ca.prototype._pad;wu.prototype._unpad=Ca.prototype._unpad});var QP=D(Yh=>{"use strict";y();Yh.utils=Vx();Yh.Cipher=ky();Yh.DES=zx();Yh.CBC=VP();Yh.EDE=GP()});var YP=D((G9e,$P)=>{y();var WP=ho(),lo=QP(),Oae=Ze(),_u=rt().Buffer,H0={"des-ede3-cbc":lo.CBC.instantiate(lo.EDE),"des-ede3":lo.EDE,"des-ede-cbc":lo.CBC.instantiate(lo.EDE),"des-ede":lo.EDE,"des-cbc":lo.CBC.instantiate(lo.DES),"des-ecb":lo.DES};H0.des=H0["des-cbc"];H0.des3=H0["des-ede3-cbc"];$P.exports=jy;Oae(jy,WP);function jy(t){WP.call(this);var e=t.mode.toLowerCase(),r=H0[e],i;t.decrypt?i="decrypt":i="encrypt";var n=t.key;_u.isBuffer(n)||(n=_u.from(n)),(e==="des-ede"||e==="des-ede-cbc")&&(n=_u.concat([n,n.slice(0,8)]));var s=t.iv;_u.isBuffer(s)||(s=_u.from(s)),this._des=r.create({key:n,iv:s,type:i})}jy.prototype._update=function(t){return _u.from(this._des.update(t))};jy.prototype._final=function(){return _u.from(this._des.final())}});var JP=D(Kx=>{y();Kx.encrypt=function(t,e){return t._cipher.encryptBlock(e)};Kx.decrypt=function(t,e){return t._cipher.decryptBlock(e)}});var Jh=D((Y9e,XP)=>{y();XP.exports=function(e,r){for(var i=Math.min(e.length,r.length),n=new M.Buffer(i),s=0;s<i;++s)n[s]=e[s]^r[s];return n}});var eL=D(Gx=>{y();var ZP=Jh();Gx.encrypt=function(t,e){var r=ZP(e,t._prev);return t._prev=t._cipher.encryptBlock(r),t._prev};Gx.decrypt=function(t,e){var r=t._prev;t._prev=e;var i=t._cipher.decryptBlock(e);return ZP(i,r)}});var iL=D(rL=>{y();var j0=rt().Buffer,Nae=Jh();function tL(t,e,r){var i=e.length,n=Nae(e,t._cache);return t._cache=t._cache.slice(i),t._prev=j0.concat([t._prev,r?e:n]),n}rL.encrypt=function(t,e,r){for(var i=j0.allocUnsafe(0),n;e.length;)if(t._cache.length===0&&(t._cache=t._cipher.encryptBlock(t._prev),t._prev=j0.allocUnsafe(0)),t._cache.length<=e.length)n=t._cache.length,i=j0.concat([i,tL(t,e.slice(0,n),r)]),e=e.slice(n);else{i=j0.concat([i,tL(t,e,r)]);break}return i}});var sL=D(nL=>{y();var Qx=rt().Buffer;function Bae(t,e,r){var i=t._cipher.encryptBlock(t._prev),n=i[0]^e;return t._prev=Qx.concat([t._prev.slice(1),Qx.from([r?e:n])]),n}nL.encrypt=function(t,e,r){for(var i=e.length,n=Qx.allocUnsafe(i),s=-1;++s<i;)n[s]=Bae(t,e[s],r);return n}});var aL=D(oL=>{y();var Vy=rt().Buffer;function Dae(t,e,r){for(var i,n=-1,s=8,o=0,f,l;++n<s;)i=t._cipher.encryptBlock(t._prev),f=e&1<<7-n?128:0,l=i[0]^f,o+=(l&128)>>n%8,t._prev=Rae(t._prev,r?f:l);return o}function Rae(t,e){var r=t.length,i=-1,n=Vy.allocUnsafe(t.length);for(t=Vy.concat([t,Vy.from([e])]);++i<r;)n[i]=t[i]<<1|t[i+1]>>7;return n}oL.encrypt=function(t,e,r){for(var i=e.length,n=Vy.allocUnsafe(i),s=-1;++s<i;)n[s]=Dae(t,e[s],r);return n}});var uL=D(fL=>{y();var Pae=Jh();function Lae(t){return t._prev=t._cipher.encryptBlock(t._prev),t._prev}fL.encrypt=function(t,e){for(;t._cache.length<e.length;)t._cache=M.Buffer.concat([t._cache,Lae(t)]);var r=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),Pae(e,r)}});var Wx=D((f7e,cL)=>{y();function qae(t){for(var e=t.length,r;e--;)if(r=t.readUInt8(e),r===255)t.writeUInt8(0,e);else{r++,t.writeUInt8(r,e);break}}cL.exports=qae});var Yx=D(lL=>{y();var Fae=Jh(),hL=rt().Buffer,Uae=Wx();function kae(t){var e=t._cipher.encryptBlockRaw(t._prev);return Uae(t._prev),e}var $x=16;lL.encrypt=function(t,e){var r=Math.ceil(e.length/$x),i=t._cache.length;t._cache=hL.concat([t._cache,hL.allocUnsafe(r*$x)]);for(var n=0;n<r;n++){var s=kae(t),o=i+n*$x;t._cache.writeUInt32BE(s[0],o+0),t._cache.writeUInt32BE(s[1],o+4),t._cache.writeUInt32BE(s[2],o+8),t._cache.writeUInt32BE(s[3],o+12)}var f=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),Fae(e,f)}});var Jx=D((l7e,Hae)=>{Hae.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}});var Ky=D((d7e,dL)=>{y();var jae={ECB:JP(),CBC:eL(),CFB:iL(),CFB8:sL(),CFB1:aL(),OFB:uL(),CTR:Yx(),GCM:Yx()},zy=Jx();for(Xx in zy)zy[Xx].module=jae[zy[Xx].mode];var Xx;dL.exports=zy});var V0=D((g7e,gL)=>{y();var Gy=rt().Buffer;function e4(t){Gy.isBuffer(t)||(t=Gy.from(t));for(var e=t.length/4|0,r=new Array(e),i=0;i<e;i++)r[i]=t.readUInt32BE(i*4);return r}function Zx(t){for(var e=0;e<t.length;t++)t[e]=0}function pL(t,e,r,i,n){for(var s=r[0],o=r[1],f=r[2],l=r[3],b=t[0]^e[0],E=t[1]^e[1],C=t[2]^e[2],N=t[3]^e[3],L,R,V,W,$=4,re=1;re<n;re++)L=s[b>>>24]^o[E>>>16&255]^f[C>>>8&255]^l[N&255]^e[$++],R=s[E>>>24]^o[C>>>16&255]^f[N>>>8&255]^l[b&255]^e[$++],V=s[C>>>24]^o[N>>>16&255]^f[b>>>8&255]^l[E&255]^e[$++],W=s[N>>>24]^o[b>>>16&255]^f[E>>>8&255]^l[C&255]^e[$++],b=L,E=R,C=V,N=W;return L=(i[b>>>24]<<24|i[E>>>16&255]<<16|i[C>>>8&255]<<8|i[N&255])^e[$++],R=(i[E>>>24]<<24|i[C>>>16&255]<<16|i[N>>>8&255]<<8|i[b&255])^e[$++],V=(i[C>>>24]<<24|i[N>>>16&255]<<16|i[b>>>8&255]<<8|i[E&255])^e[$++],W=(i[N>>>24]<<24|i[b>>>16&255]<<16|i[E>>>8&255]<<8|i[C&255])^e[$++],L=L>>>0,R=R>>>0,V=V>>>0,W=W>>>0,[L,R,V,W]}var Vae=[0,1,2,4,8,16,32,64,128,27,54],ur=function(){for(var t=new Array(256),e=0;e<256;e++)e<128?t[e]=e<<1:t[e]=e<<1^283;for(var r=[],i=[],n=[[],[],[],[]],s=[[],[],[],[]],o=0,f=0,l=0;l<256;++l){var b=f^f<<1^f<<2^f<<3^f<<4;b=b>>>8^b&255^99,r[o]=b,i[b]=o;var E=t[o],C=t[E],N=t[C],L=t[b]*257^b*16843008;n[0][o]=L<<24|L>>>8,n[1][o]=L<<16|L>>>16,n[2][o]=L<<8|L>>>24,n[3][o]=L,L=N*16843009^C*65537^E*257^o*16843008,s[0][b]=L<<24|L>>>8,s[1][b]=L<<16|L>>>16,s[2][b]=L<<8|L>>>24,s[3][b]=L,o===0?o=f=1:(o=E^t[t[t[N^E]]],f^=t[t[f]])}return{SBOX:r,INV_SBOX:i,SUB_MIX:n,INV_SUB_MIX:s}}();function fn(t){this._key=e4(t),this._reset()}fn.blockSize=4*4;fn.keySize=256/8;fn.prototype.blockSize=fn.blockSize;fn.prototype.keySize=fn.keySize;fn.prototype._reset=function(){for(var t=this._key,e=t.length,r=e+6,i=(r+1)*4,n=[],s=0;s<e;s++)n[s]=t[s];for(s=e;s<i;s++){var o=n[s-1];s%e===0?(o=o<<8|o>>>24,o=ur.SBOX[o>>>24]<<24|ur.SBOX[o>>>16&255]<<16|ur.SBOX[o>>>8&255]<<8|ur.SBOX[o&255],o^=Vae[s/e|0]<<24):e>6&&s%e===4&&(o=ur.SBOX[o>>>24]<<24|ur.SBOX[o>>>16&255]<<16|ur.SBOX[o>>>8&255]<<8|ur.SBOX[o&255]),n[s]=n[s-e]^o}for(var f=[],l=0;l<i;l++){var b=i-l,E=n[b-(l%4?0:4)];l<4||b<=4?f[l]=E:f[l]=ur.INV_SUB_MIX[0][ur.SBOX[E>>>24]]^ur.INV_SUB_MIX[1][ur.SBOX[E>>>16&255]]^ur.INV_SUB_MIX[2][ur.SBOX[E>>>8&255]]^ur.INV_SUB_MIX[3][ur.SBOX[E&255]]}this._nRounds=r,this._keySchedule=n,this._invKeySchedule=f};fn.prototype.encryptBlockRaw=function(t){return t=e4(t),pL(t,this._keySchedule,ur.SUB_MIX,ur.SBOX,this._nRounds)};fn.prototype.encryptBlock=function(t){var e=this.encryptBlockRaw(t),r=Gy.allocUnsafe(16);return r.writeUInt32BE(e[0],0),r.writeUInt32BE(e[1],4),r.writeUInt32BE(e[2],8),r.writeUInt32BE(e[3],12),r};fn.prototype.decryptBlock=function(t){t=e4(t);var e=t[1];t[1]=t[3],t[3]=e;var r=pL(t,this._invKeySchedule,ur.INV_SUB_MIX,ur.INV_SBOX,this._nRounds),i=Gy.allocUnsafe(16);return i.writeUInt32BE(r[0],0),i.writeUInt32BE(r[3],4),i.writeUInt32BE(r[2],8),i.writeUInt32BE(r[1],12),i};fn.prototype.scrub=function(){Zx(this._keySchedule),Zx(this._invKeySchedule),Zx(this._key)};gL.exports.AES=fn});var mL=D((y7e,yL)=>{y();var Xh=rt().Buffer,zae=Xh.alloc(16,0);function Kae(t){return[t.readUInt32BE(0),t.readUInt32BE(4),t.readUInt32BE(8),t.readUInt32BE(12)]}function vL(t){var e=Xh.allocUnsafe(16);return e.writeUInt32BE(t[0]>>>0,0),e.writeUInt32BE(t[1]>>>0,4),e.writeUInt32BE(t[2]>>>0,8),e.writeUInt32BE(t[3]>>>0,12),e}function z0(t){this.h=t,this.state=Xh.alloc(16,0),this.cache=Xh.allocUnsafe(0)}z0.prototype.ghash=function(t){for(var e=-1;++e<t.length;)this.state[e]^=t[e];this._multiply()};z0.prototype._multiply=function(){for(var t=Kae(this.h),e=[0,0,0,0],r,i,n,s=-1;++s<128;){for(i=(this.state[~~(s/8)]&1<<7-s%8)!==0,i&&(e[0]^=t[0],e[1]^=t[1],e[2]^=t[2],e[3]^=t[3]),n=(t[3]&1)!==0,r=3;r>0;r--)t[r]=t[r]>>>1|(t[r-1]&1)<<31;t[0]=t[0]>>>1,n&&(t[0]=t[0]^225<<24)}this.state=vL(e)};z0.prototype.update=function(t){this.cache=Xh.concat([this.cache,t]);for(var e;this.cache.length>=16;)e=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(e)};z0.prototype.final=function(t,e){return this.cache.length&&this.ghash(Xh.concat([this.cache,zae],16)),this.ghash(vL([0,t,0,e])),this.state};yL.exports=z0});var t4=D((b7e,_L)=>{y();var Gae=V0(),Si=rt().Buffer,bL=ho(),Qae=Ze(),wL=mL(),Wae=Jh(),$ae=Wx();function Yae(t,e){var r=0;t.length!==e.length&&r++;for(var i=Math.min(t.length,e.length),n=0;n<i;++n)r+=t[n]^e[n];return r}function Jae(t,e,r){if(e.length===12)return t._finID=Si.concat([e,Si.from([0,0,0,1])]),Si.concat([e,Si.from([0,0,0,2])]);var i=new wL(r),n=e.length,s=n%16;i.update(e),s&&(s=16-s,i.update(Si.alloc(s,0))),i.update(Si.alloc(8,0));var o=n*8,f=Si.alloc(8);f.writeUIntBE(o,0,8),i.update(f),t._finID=i.state;var l=Si.from(t._finID);return $ae(l),l}function xu(t,e,r,i){bL.call(this);var n=Si.alloc(4,0);this._cipher=new Gae.AES(e);var s=this._cipher.encryptBlock(n);this._ghash=new wL(s),r=Jae(this,r,s),this._prev=Si.from(r),this._cache=Si.allocUnsafe(0),this._secCache=Si.allocUnsafe(0),this._decrypt=i,this._alen=0,this._len=0,this._mode=t,this._authTag=null,this._called=!1}Qae(xu,bL);xu.prototype._update=function(t){if(!this._called&&this._alen){var e=16-this._alen%16;e<16&&(e=Si.alloc(e,0),this._ghash.update(e))}this._called=!0;var r=this._mode.encrypt(this,t);return this._decrypt?this._ghash.update(t):this._ghash.update(r),this._len+=t.length,r};xu.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var t=Wae(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&Yae(t,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=t,this._cipher.scrub()};xu.prototype.getAuthTag=function(){if(this._decrypt||!Si.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag};xu.prototype.setAuthTag=function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e};xu.prototype.setAAD=function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length};_L.exports=xu});var i4=D((_7e,EL)=>{y();var Xae=V0(),r4=rt().Buffer,xL=ho(),Zae=Ze();function Qy(t,e,r,i){xL.call(this),this._cipher=new Xae.AES(e),this._prev=r4.from(r),this._cache=r4.allocUnsafe(0),this._secCache=r4.allocUnsafe(0),this._decrypt=i,this._mode=t}Zae(Qy,xL);Qy.prototype._update=function(t){return this._mode.encrypt(this,t,this._decrypt)};Qy.prototype._final=function(){this._cipher.scrub()};EL.exports=Qy});var K0=D((E7e,AL)=>{y();var Eu=rt().Buffer,efe=My();function tfe(t,e,r,i){if(Eu.isBuffer(t)||(t=Eu.from(t,"binary")),e&&(Eu.isBuffer(e)||(e=Eu.from(e,"binary")),e.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var n=r/8,s=Eu.alloc(n),o=Eu.alloc(i||0),f=Eu.alloc(0);n>0||i>0;){var l=new efe;l.update(f),l.update(t),e&&l.update(e),f=l.digest();var b=0;if(n>0){var E=s.length-n;b=Math.min(n,f.length),f.copy(s,E,0,b),n-=b}if(b<f.length&&i>0){var C=o.length-i,N=Math.min(i,f.length-b);f.copy(o,C,b,b+N),i-=N}}return f.fill(0),{key:s,iv:o}}AL.exports=tfe});var CL=D(n4=>{y();var SL=Ky(),rfe=t4(),po=rt().Buffer,ife=i4(),IL=ho(),nfe=V0(),sfe=K0(),ofe=Ze();function G0(t,e,r){IL.call(this),this._cache=new Wy,this._cipher=new nfe.AES(e),this._prev=po.from(r),this._mode=t,this._autopadding=!0}ofe(G0,IL);G0.prototype._update=function(t){this._cache.add(t);for(var e,r,i=[];e=this._cache.get();)r=this._mode.encrypt(this,e),i.push(r);return po.concat(i)};var afe=po.alloc(16,16);G0.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return t=this._mode.encrypt(this,t),this._cipher.scrub(),t;if(!t.equals(afe))throw this._cipher.scrub(),new Error("data not multiple of block length")};G0.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this};function Wy(){this.cache=po.allocUnsafe(0)}Wy.prototype.add=function(t){this.cache=po.concat([this.cache,t])};Wy.prototype.get=function(){if(this.cache.length>15){var t=this.cache.slice(0,16);return this.cache=this.cache.slice(16),t}return null};Wy.prototype.flush=function(){for(var t=16-this.cache.length,e=po.allocUnsafe(t),r=-1;++r<t;)e.writeUInt8(t,r);return po.concat([this.cache,e])};function ML(t,e,r){var i=SL[t.toLowerCase()];if(!i)throw new TypeError("invalid suite type");if(typeof e=="string"&&(e=po.from(e)),e.length!==i.key/8)throw new TypeError("invalid key length "+e.length);if(typeof r=="string"&&(r=po.from(r)),i.mode!=="GCM"&&r.length!==i.iv)throw new TypeError("invalid iv length "+r.length);return i.type==="stream"?new ife(i.module,e,r):i.type==="auth"?new rfe(i.module,e,r):new G0(i.module,e,r)}function ffe(t,e){var r=SL[t.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var i=sfe(e,!1,r.key,r.iv);return ML(t,i.key,i.iv)}n4.createCipheriv=ML;n4.createCipher=ffe});var BL=D(s4=>{y();var ufe=t4(),Zh=rt().Buffer,TL=Ky(),cfe=i4(),OL=ho(),hfe=V0(),lfe=K0(),dfe=Ze();function Q0(t,e,r){OL.call(this),this._cache=new $y,this._last=void 0,this._cipher=new hfe.AES(e),this._prev=Zh.from(r),this._mode=t,this._autopadding=!0}dfe(Q0,OL);Q0.prototype._update=function(t){this._cache.add(t);for(var e,r,i=[];e=this._cache.get(this._autopadding);)r=this._mode.decrypt(this,e),i.push(r);return Zh.concat(i)};Q0.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return pfe(this._mode.decrypt(this,t));if(t)throw new Error("data not multiple of block length")};Q0.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this};function $y(){this.cache=Zh.allocUnsafe(0)}$y.prototype.add=function(t){this.cache=Zh.concat([this.cache,t])};$y.prototype.get=function(t){var e;if(t){if(this.cache.length>16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e}else if(this.cache.length>=16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e;return null};$y.prototype.flush=function(){if(this.cache.length)return this.cache};function pfe(t){var e=t[15];if(e<1||e>16)throw new Error("unable to decrypt data");for(var r=-1;++r<e;)if(t[r+(16-e)]!==e)throw new Error("unable to decrypt data");if(e!==16)return t.slice(0,16-e)}function NL(t,e,r){var i=TL[t.toLowerCase()];if(!i)throw new TypeError("invalid suite type");if(typeof r=="string"&&(r=Zh.from(r)),i.mode!=="GCM"&&r.length!==i.iv)throw new TypeError("invalid iv length "+r.length);if(typeof e=="string"&&(e=Zh.from(e)),e.length!==i.key/8)throw new TypeError("invalid key length "+e.length);return i.type==="stream"?new cfe(i.module,e,r,!0):i.type==="auth"?new ufe(i.module,e,r,!0):new Q0(i.module,e,r)}function gfe(t,e){var r=TL[t.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var i=lfe(e,!1,r.key,r.iv);return NL(t,i.key,i.iv)}s4.createDecipher=gfe;s4.createDecipheriv=NL});var Yy=D(Rn=>{y();var DL=CL(),RL=BL(),vfe=Jx();function yfe(){return Object.keys(vfe)}Rn.createCipher=Rn.Cipher=DL.createCipher;Rn.createCipheriv=Rn.Cipheriv=DL.createCipheriv;Rn.createDecipher=Rn.Decipher=RL.createDecipher;Rn.createDecipheriv=Rn.Decipheriv=RL.createDecipheriv;Rn.listCiphers=Rn.getCiphers=yfe});var PL=D(go=>{y();go["des-ecb"]={key:8,iv:0};go["des-cbc"]=go.des={key:8,iv:8};go["des-ede3-cbc"]=go.des3={key:24,iv:8};go["des-ede3"]={key:24,iv:0};go["des-ede-cbc"]={key:16,iv:8};go["des-ede"]={key:16,iv:0}});var kL=D(Pn=>{y();var LL=YP(),o4=Yy(),Ta=Ky(),vo=PL(),qL=K0();function mfe(t,e){t=t.toLowerCase();var r,i;if(Ta[t])r=Ta[t].key,i=Ta[t].iv;else if(vo[t])r=vo[t].key*8,i=vo[t].iv;else throw new TypeError("invalid suite type");var n=qL(e,!1,r,i);return FL(t,n.key,n.iv)}function bfe(t,e){t=t.toLowerCase();var r,i;if(Ta[t])r=Ta[t].key,i=Ta[t].iv;else if(vo[t])r=vo[t].key*8,i=vo[t].iv;else throw new TypeError("invalid suite type");var n=qL(e,!1,r,i);return UL(t,n.key,n.iv)}function FL(t,e,r){if(t=t.toLowerCase(),Ta[t])return o4.createCipheriv(t,e,r);if(vo[t])return new LL({key:e,iv:r,mode:t});throw new TypeError("invalid suite type")}function UL(t,e,r){if(t=t.toLowerCase(),Ta[t])return o4.createDecipheriv(t,e,r);if(vo[t])return new LL({key:e,iv:r,mode:t,decrypt:!0});throw new TypeError("invalid suite type")}function wfe(){return Object.keys(vo).concat(o4.getCiphers())}Pn.createCipher=Pn.Cipher=mfe;Pn.createCipheriv=Pn.Cipheriv=FL;Pn.createDecipher=Pn.Decipher=bfe;Pn.createDecipheriv=Pn.Decipheriv=UL;Pn.listCiphers=Pn.getCiphers=wfe});var Jy=D((P7e,u4)=>{y();var a4;u4.exports=function(e){return a4||(a4=new Oa(null)),a4.generate(e)};function Oa(t){this.rand=t}u4.exports.Rand=Oa;Oa.prototype.generate=function(e){return this._rand(e)};Oa.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var r=new Uint8Array(e),i=0;i<r.length;i++)r[i]=this.rand.getByte();return r};if(typeof self=="object")self.crypto&&self.crypto.getRandomValues?Oa.prototype._rand=function(e){var r=new Uint8Array(e);return self.crypto.getRandomValues(r),r}:self.msCrypto&&self.msCrypto.getRandomValues?Oa.prototype._rand=function(e){var r=new Uint8Array(e);return self.msCrypto.getRandomValues(r),r}:typeof window=="object"&&(Oa.prototype._rand=function(){throw new Error("Not implemented yet")});else try{if(f4=Xy(),typeof f4.randomBytes!="function")throw new Error("Not supported");Oa.prototype._rand=function(e){return f4.randomBytes(e)}}catch{}var f4});var c4=D((q7e,HL)=>{y();var Au=Di(),_fe=Jy();function Su(t){this.rand=t||new _fe.Rand}HL.exports=Su;Su.create=function(e){return new Su(e)};Su.prototype._randbelow=function(e){var r=e.bitLength(),i=Math.ceil(r/8);do var n=new Au(this.rand.generate(i));while(n.cmp(e)>=0);return n};Su.prototype._randrange=function(e,r){var i=r.sub(e);return e.add(this._randbelow(i))};Su.prototype.test=function(e,r,i){var n=e.bitLength(),s=Au.mont(e),o=new Au(1).toRed(s);r||(r=Math.max(1,n/48|0));for(var f=e.subn(1),l=0;!f.testn(l);l++);for(var b=e.shrn(l),E=f.toRed(s),C=!0;r>0;r--){var N=this._randrange(new Au(2),f);i&&i(N);var L=N.toRed(s).redPow(b);if(!(L.cmp(o)===0||L.cmp(E)===0)){for(var R=1;R<l;R++){if(L=L.redSqr(),L.cmp(o)===0)return!1;if(L.cmp(E)===0)break}if(R===l)return!1}}return C};Su.prototype.getDivisor=function(e,r){var i=e.bitLength(),n=Au.mont(e),s=new Au(1).toRed(n);r||(r=Math.max(1,i/48|0));for(var o=e.subn(1),f=0;!o.testn(f);f++);for(var l=e.shrn(f),b=o.toRed(n);r>0;r--){var E=this._randrange(new Au(2),o),C=e.gcd(E);if(C.cmpn(1)!==0)return C;var N=E.toRed(n).redPow(l);if(!(N.cmp(s)===0||N.cmp(b)===0)){for(var L=1;L<f;L++){if(N=N.redSqr(),N.cmp(s)===0)return N.fromRed().subn(1).gcd(e);if(N.cmp(b)===0)break}if(L===f)return N=N.redSqr(),N.fromRed().subn(1).gcd(e)}}return!1}});var v4=D((V7e,zL)=>{y();var xfe=ou();zL.exports=g4;g4.simpleSieve=d4;g4.fermatTest=p4;var qr=Di(),Efe=new qr(24),Afe=c4(),jL=new Afe,Sfe=new qr(1),l4=new qr(2),Ife=new qr(5),U7e=new qr(16),k7e=new qr(8),Mfe=new qr(10),Cfe=new qr(3),H7e=new qr(7),Tfe=new qr(11),VL=new qr(4),j7e=new qr(12),h4=null;function Ofe(){if(h4!==null)return h4;var t=1048576,e=[];e[0]=2;for(var r=1,i=3;i<t;i+=2){for(var n=Math.ceil(Math.sqrt(i)),s=0;s<r&&e[s]<=n&&i%e[s]!==0;s++);r!==s&&e[s]<=n||(e[r++]=i)}return h4=e,e}function d4(t){for(var e=Ofe(),r=0;r<e.length;r++)if(t.modn(e[r])===0)return t.cmpn(e[r])===0;return!0}function p4(t){var e=qr.mont(t);return l4.toRed(e).redPow(t.subn(1)).fromRed().cmpn(1)===0}function g4(t,e){if(t<16)return e===2||e===5?new qr([140,123]):new qr([140,39]);e=new qr(e);for(var r,i;;){for(r=new qr(xfe(Math.ceil(t/8)));r.bitLength()>t;)r.ishrn(1);if(r.isEven()&&r.iadd(Sfe),r.testn(1)||r.iadd(l4),e.cmp(l4)){if(!e.cmp(Ife))for(;r.mod(Mfe).cmp(Cfe);)r.iadd(VL)}else for(;r.mod(Efe).cmp(Tfe);)r.iadd(VL);if(i=r.shrn(1),d4(i)&&d4(r)&&p4(i)&&p4(r)&&jL.test(i)&&jL.test(r))return r}}});var KL=D((K7e,Nfe)=>{Nfe.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}});var $L=D((G7e,WL)=>{y();var un=Di(),Bfe=c4(),GL=new Bfe,Dfe=new un(24),Rfe=new un(11),Pfe=new un(10),Lfe=new un(3),qfe=new un(7),QL=v4(),Ffe=ou();WL.exports=yo;function Ufe(t,e){return e=e||"utf8",M.Buffer.isBuffer(t)||(t=new M.Buffer(t,e)),this._pub=new un(t),this}function kfe(t,e){return e=e||"utf8",M.Buffer.isBuffer(t)||(t=new M.Buffer(t,e)),this._priv=new un(t),this}var Zy={};function Hfe(t,e){var r=e.toString("hex"),i=[r,t.toString(16)].join("_");if(i in Zy)return Zy[i];var n=0;if(t.isEven()||!QL.simpleSieve||!QL.fermatTest(t)||!GL.test(t))return n+=1,r==="02"||r==="05"?n+=8:n+=4,Zy[i]=n,n;GL.test(t.shrn(1))||(n+=2);var s;switch(r){case"02":t.mod(Dfe).cmp(Rfe)&&(n+=8);break;case"05":s=t.mod(Pfe),s.cmp(Lfe)&&s.cmp(qfe)&&(n+=8);break;default:n+=4}return Zy[i]=n,n}function yo(t,e,r){this.setGenerator(e),this.__prime=new un(t),this._prime=un.mont(this.__prime),this._primeLen=t.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,r?(this.setPublicKey=Ufe,this.setPrivateKey=kfe):this._primeCode=8}Object.defineProperty(yo.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=Hfe(this.__prime,this.__gen)),this._primeCode}});yo.prototype.generateKeys=function(){return this._priv||(this._priv=new un(Ffe(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()};yo.prototype.computeSecret=function(t){t=new un(t),t=t.toRed(this._prime);var e=t.redPow(this._priv).fromRed(),r=new M.Buffer(e.toArray()),i=this.getPrime();if(r.length<i.length){var n=new M.Buffer(i.length-r.length);n.fill(0),r=M.Buffer.concat([n,r])}return r};yo.prototype.getPublicKey=function(e){return em(this._pub,e)};yo.prototype.getPrivateKey=function(e){return em(this._priv,e)};yo.prototype.getPrime=function(t){return em(this.__prime,t)};yo.prototype.getGenerator=function(t){return em(this._gen,t)};yo.prototype.setGenerator=function(t,e){return e=e||"utf8",M.Buffer.isBuffer(t)||(t=new M.Buffer(t,e)),this.__gen=t,this._gen=new un(t),this};function em(t,e){var r=new M.Buffer(t.toArray());return e?r.toString(e):r}});var XL=D(el=>{y();var jfe=v4(),YL=KL(),y4=$L();function Vfe(t){var e=new M.Buffer(YL[t].prime,"hex"),r=new M.Buffer(YL[t].gen,"hex");return new y4(e,r)}var zfe={binary:!0,hex:!0,base64:!0};function JL(t,e,r,i){return M.Buffer.isBuffer(e)||zfe[e]===void 0?JL(t,"binary",e,r):(e=e||"binary",i=i||"binary",r=r||new M.Buffer([2]),M.Buffer.isBuffer(r)||(r=new M.Buffer(r,i)),typeof t=="number"?new y4(jfe(t,r),r,!0):(M.Buffer.isBuffer(t)||(t=new M.Buffer(t,e)),new y4(t,r,!0)))}el.DiffieHellmanGroup=el.createDiffieHellmanGroup=el.getDiffieHellman=Vfe;el.createDiffieHellman=el.DiffieHellman=JL});var eq=D((ZL,m4)=>{y();(function(t,e){"use strict";function r(g,a){if(!g)throw new Error(a||"Assertion failed")}function i(g,a){g.super_=a;var c=function(){};c.prototype=a.prototype,g.prototype=new c,g.prototype.constructor=g}function n(g,a,c){if(n.isBN(g))return g;this.negative=0,this.words=null,this.length=0,this.red=null,g!==null&&((a==="le"||a==="be")&&(c=a,a=10),this._init(g||0,a||10,c||"be"))}typeof t=="object"?t.exports=n:e.BN=n,n.BN=n,n.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=mi().Buffer}catch{}n.isBN=function(a){return a instanceof n?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===n.wordSize&&Array.isArray(a.words)},n.max=function(a,c){return a.cmp(c)>0?a:c},n.min=function(a,c){return a.cmp(c)<0?a:c},n.prototype._init=function(a,c,m){if(typeof a=="number")return this._initNumber(a,c,m);if(typeof a=="object")return this._initArray(a,c,m);c==="hex"&&(c=16),r(c===(c|0)&&c>=2&&c<=36),a=a.toString().replace(/\s+/g,"");var v=0;a[0]==="-"&&(v++,this.negative=1),v<a.length&&(c===16?this._parseHex(a,v,m):(this._parseBase(a,c,v),m==="le"&&this._initArray(this.toArray(),c,m)))},n.prototype._initNumber=function(a,c,m){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(r(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),m==="le"&&this._initArray(this.toArray(),c,m)},n.prototype._initArray=function(a,c,m){if(r(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var u,d,x=0;if(m==="be")for(v=a.length-1,u=0;v>=0;v-=3)d=a[v]|a[v-1]<<8|a[v-2]<<16,this.words[u]|=d<<x&67108863,this.words[u+1]=d>>>26-x&67108863,x+=24,x>=26&&(x-=26,u++);else if(m==="le")for(v=0,u=0;v<a.length;v+=3)d=a[v]|a[v+1]<<8|a[v+2]<<16,this.words[u]|=d<<x&67108863,this.words[u+1]=d>>>26-x&67108863,x+=24,x>=26&&(x-=26,u++);return this._strip()};function o(g,a){var c=g.charCodeAt(a);if(c>=48&&c<=57)return c-48;if(c>=65&&c<=70)return c-55;if(c>=97&&c<=102)return c-87;r(!1,"Invalid character in "+g)}function f(g,a,c){var m=o(g,c);return c-1>=a&&(m|=o(g,c-1)<<4),m}n.prototype._parseHex=function(a,c,m){this.length=Math.ceil((a.length-c)/6),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var u=0,d=0,x;if(m==="be")for(v=a.length-1;v>=c;v-=2)x=f(a,c,v)<<u,this.words[d]|=x&67108863,u>=18?(u-=18,d+=1,this.words[d]|=x>>>26):u+=8;else{var A=a.length-c;for(v=A%2===0?c+1:c;v<a.length;v+=2)x=f(a,c,v)<<u,this.words[d]|=x&67108863,u>=18?(u-=18,d+=1,this.words[d]|=x>>>26):u+=8}this._strip()};function l(g,a,c,m){for(var v=0,u=0,d=Math.min(g.length,c),x=a;x<d;x++){var A=g.charCodeAt(x)-48;v*=m,A>=49?u=A-49+10:A>=17?u=A-17+10:u=A,r(A>=0&&u<m,"Invalid character"),v+=u}return v}n.prototype._parseBase=function(a,c,m){this.words=[0],this.length=1;for(var v=0,u=1;u<=67108863;u*=c)v++;v--,u=u/c|0;for(var d=a.length-m,x=d%v,A=Math.min(d,d-x)+m,h=0,S=m;S<A;S+=v)h=l(a,S,S+v,c),this.imuln(u),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(x!==0){var K=1;for(h=l(a,S,a.length,c),S=0;S<x;S++)K*=c;this.imuln(K),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this._strip()},n.prototype.copy=function(a){a.words=new Array(this.length);for(var c=0;c<this.length;c++)a.words[c]=this.words[c];a.length=this.length,a.negative=this.negative,a.red=this.red};function b(g,a){g.words=a.words,g.length=a.length,g.negative=a.negative,g.red=a.red}if(n.prototype._move=function(a){b(a,this)},n.prototype.clone=function(){var a=new n(null);return this.copy(a),a},n.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},n.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},n.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{n.prototype[Symbol.for("nodejs.util.inspect.custom")]=E}catch{n.prototype.inspect=E}else n.prototype.inspect=E;function E(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var C=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],N=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],L=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(a,c){a=a||10,c=c|0||1;var m;if(a===16||a==="hex"){m="";for(var v=0,u=0,d=0;d<this.length;d++){var x=this.words[d],A=((x<<v|u)&16777215).toString(16);u=x>>>24-v&16777215,v+=2,v>=26&&(v-=26,d--),u!==0||d!==this.length-1?m=C[6-A.length]+A+m:m=A+m}for(u!==0&&(m=u.toString(16)+m);m.length%c!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}if(a===(a|0)&&a>=2&&a<=36){var h=N[a],S=L[a];m="";var K=this.clone();for(K.negative=0;!K.isZero();){var T=K.modrn(S).toString(a);K=K.idivn(S),K.isZero()?m=T+m:m=C[h-T.length]+T+m}for(this.isZero()&&(m="0"+m);m.length%c!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}r(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},n.prototype.toJSON=function(){return this.toString(16,2)},s&&(n.prototype.toBuffer=function(a,c){return this.toArrayLike(s,a,c)}),n.prototype.toArray=function(a,c){return this.toArrayLike(Array,a,c)};var R=function(a,c){return a.allocUnsafe?a.allocUnsafe(c):new a(c)};n.prototype.toArrayLike=function(a,c,m){this._strip();var v=this.byteLength(),u=m||Math.max(1,v);r(v<=u,"byte array longer than desired length"),r(u>0,"Requested array length <= 0");var d=R(a,u),x=c==="le"?"LE":"BE";return this["_toArrayLike"+x](d,v),d},n.prototype._toArrayLikeLE=function(a,c){for(var m=0,v=0,u=0,d=0;u<this.length;u++){var x=this.words[u]<<d|v;a[m++]=x&255,m<a.length&&(a[m++]=x>>8&255),m<a.length&&(a[m++]=x>>16&255),d===6?(m<a.length&&(a[m++]=x>>24&255),v=0,d=0):(v=x>>>24,d+=2)}if(m<a.length)for(a[m++]=v;m<a.length;)a[m++]=0},n.prototype._toArrayLikeBE=function(a,c){for(var m=a.length-1,v=0,u=0,d=0;u<this.length;u++){var x=this.words[u]<<d|v;a[m--]=x&255,m>=0&&(a[m--]=x>>8&255),m>=0&&(a[m--]=x>>16&255),d===6?(m>=0&&(a[m--]=x>>24&255),v=0,d=0):(v=x>>>24,d+=2)}if(m>=0)for(a[m--]=v;m>=0;)a[m--]=0},Math.clz32?n.prototype._countBits=function(a){return 32-Math.clz32(a)}:n.prototype._countBits=function(a){var c=a,m=0;return c>=4096&&(m+=13,c>>>=13),c>=64&&(m+=7,c>>>=7),c>=8&&(m+=4,c>>>=4),c>=2&&(m+=2,c>>>=2),m+c},n.prototype._zeroBits=function(a){if(a===0)return 26;var c=a,m=0;return(c&8191)===0&&(m+=13,c>>>=13),(c&127)===0&&(m+=7,c>>>=7),(c&15)===0&&(m+=4,c>>>=4),(c&3)===0&&(m+=2,c>>>=2),(c&1)===0&&m++,m},n.prototype.bitLength=function(){var a=this.words[this.length-1],c=this._countBits(a);return(this.length-1)*26+c};function V(g){for(var a=new Array(g.bitLength()),c=0;c<a.length;c++){var m=c/26|0,v=c%26;a[c]=g.words[m]>>>v&1}return a}n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,c=0;c<this.length;c++){var m=this._zeroBits(this.words[c]);if(a+=m,m!==26)break}return a},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},n.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return this.negative!==0},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var c=0;c<a.length;c++)this.words[c]=this.words[c]|a.words[c];return this._strip()},n.prototype.ior=function(a){return r((this.negative|a.negative)===0),this.iuor(a)},n.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},n.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},n.prototype.iuand=function(a){var c;this.length>a.length?c=a:c=this;for(var m=0;m<c.length;m++)this.words[m]=this.words[m]&a.words[m];return this.length=c.length,this._strip()},n.prototype.iand=function(a){return r((this.negative|a.negative)===0),this.iuand(a)},n.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},n.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},n.prototype.iuxor=function(a){var c,m;this.length>a.length?(c=this,m=a):(c=a,m=this);for(var v=0;v<m.length;v++)this.words[v]=c.words[v]^m.words[v];if(this!==c)for(;v<c.length;v++)this.words[v]=c.words[v];return this.length=c.length,this._strip()},n.prototype.ixor=function(a){return r((this.negative|a.negative)===0),this.iuxor(a)},n.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},n.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},n.prototype.inotn=function(a){r(typeof a=="number"&&a>=0);var c=Math.ceil(a/26)|0,m=a%26;this._expand(c),m>0&&c--;for(var v=0;v<c;v++)this.words[v]=~this.words[v]&67108863;return m>0&&(this.words[v]=~this.words[v]&67108863>>26-m),this._strip()},n.prototype.notn=function(a){return this.clone().inotn(a)},n.prototype.setn=function(a,c){r(typeof a=="number"&&a>=0);var m=a/26|0,v=a%26;return this._expand(m+1),c?this.words[m]=this.words[m]|1<<v:this.words[m]=this.words[m]&~(1<<v),this._strip()},n.prototype.iadd=function(a){var c;if(this.negative!==0&&a.negative===0)return this.negative=0,c=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,c=this.isub(a),a.negative=1,c._normSign();var m,v;this.length>a.length?(m=this,v=a):(m=a,v=this);for(var u=0,d=0;d<v.length;d++)c=(m.words[d]|0)+(v.words[d]|0)+u,this.words[d]=c&67108863,u=c>>>26;for(;u!==0&&d<m.length;d++)c=(m.words[d]|0)+u,this.words[d]=c&67108863,u=c>>>26;if(this.length=m.length,u!==0)this.words[this.length]=u,this.length++;else if(m!==this)for(;d<m.length;d++)this.words[d]=m.words[d];return this},n.prototype.add=function(a){var c;return a.negative!==0&&this.negative===0?(a.negative=0,c=this.sub(a),a.negative^=1,c):a.negative===0&&this.negative!==0?(this.negative=0,c=a.sub(this),this.negative=1,c):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},n.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var c=this.iadd(a);return a.negative=1,c._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var m=this.cmp(a);if(m===0)return this.negative=0,this.length=1,this.words[0]=0,this;var v,u;m>0?(v=this,u=a):(v=a,u=this);for(var d=0,x=0;x<u.length;x++)c=(v.words[x]|0)-(u.words[x]|0)+d,d=c>>26,this.words[x]=c&67108863;for(;d!==0&&x<v.length;x++)c=(v.words[x]|0)+d,d=c>>26,this.words[x]=c&67108863;if(d===0&&x<v.length&&v!==this)for(;x<v.length;x++)this.words[x]=v.words[x];return this.length=Math.max(this.length,x),v!==this&&(this.negative=1),this._strip()},n.prototype.sub=function(a){return this.clone().isub(a)};function W(g,a,c){c.negative=a.negative^g.negative;var m=g.length+a.length|0;c.length=m,m=m-1|0;var v=g.words[0]|0,u=a.words[0]|0,d=v*u,x=d&67108863,A=d/67108864|0;c.words[0]=x;for(var h=1;h<m;h++){for(var S=A>>>26,K=A&67108863,T=Math.min(h,a.length-1),k=Math.max(0,h-g.length+1);k<=T;k++){var z=h-k|0;v=g.words[z]|0,u=a.words[k]|0,d=v*u+K,S+=d/67108864|0,K=d&67108863}c.words[h]=K|0,A=S|0}return A!==0?c.words[h]=A|0:c.length--,c._strip()}var $=function(a,c,m){var v=a.words,u=c.words,d=m.words,x=0,A,h,S,K=v[0]|0,T=K&8191,k=K>>>13,z=v[1]|0,O=z&8191,B=z>>>13,q=v[2]|0,U=q&8191,F=q>>>13,Y=v[3]|0,j=Y&8191,H=Y>>>13,te=v[4]|0,J=te&8191,X=te>>>13,ae=v[5]|0,se=ae&8191,ue=ae>>>13,je=v[6]|0,de=je&8191,me=je>>>13,He=v[7]|0,le=He&8191,Me=He>>>13,nt=v[8]|0,ye=nt&8191,Te=nt>>>13,Ye=v[9]|0,ge=Ye&8191,Ce=Ye>>>13,$e=u[0]|0,pe=$e&8191,Be=$e>>>13,ht=u[1]|0,be=ht&8191,De=ht>>>13,lt=u[2]|0,we=lt&8191,Re=lt>>>13,dt=u[3]|0,_e=dt&8191,Pe=dt>>>13,pt=u[4]|0,xe=pt&8191,Le=pt>>>13,gt=u[5]|0,Ee=gt&8191,qe=gt>>>13,vt=u[6]|0,Ae=vt&8191,Fe=vt>>>13,yt=u[7]|0,Se=yt&8191,Ue=yt>>>13,mt=u[8]|0,Ie=mt&8191,Ne=mt>>>13,gr=u[9]|0,Ge=gr&8191,Qe=gr>>>13;m.negative=a.negative^c.negative,m.length=19,A=Math.imul(T,pe),h=Math.imul(T,Be),h=h+Math.imul(k,pe)|0,S=Math.imul(k,Be);var tr=(x+A|0)+((h&8191)<<13)|0;x=(S+(h>>>13)|0)+(tr>>>26)|0,tr&=67108863,A=Math.imul(O,pe),h=Math.imul(O,Be),h=h+Math.imul(B,pe)|0,S=Math.imul(B,Be),A=A+Math.imul(T,be)|0,h=h+Math.imul(T,De)|0,h=h+Math.imul(k,be)|0,S=S+Math.imul(k,De)|0;var rr=(x+A|0)+((h&8191)<<13)|0;x=(S+(h>>>13)|0)+(rr>>>26)|0,rr&=67108863,A=Math.imul(U,pe),h=Math.imul(U,Be),h=h+Math.imul(F,pe)|0,S=Math.imul(F,Be),A=A+Math.imul(O,be)|0,h=h+Math.imul(O,De)|0,h=h+Math.imul(B,be)|0,S=S+Math.imul(B,De)|0,A=A+Math.imul(T,we)|0,h=h+Math.imul(T,Re)|0,h=h+Math.imul(k,we)|0,S=S+Math.imul(k,Re)|0;var ir=(x+A|0)+((h&8191)<<13)|0;x=(S+(h>>>13)|0)+(ir>>>26)|0,ir&=67108863,A=Math.imul(j,pe),h=Math.imul(j,Be),h=h+Math.imul(H,pe)|0,S=Math.imul(H,Be),A=A+Math.imul(U,be)|0,h=h+Math.imul(U,De)|0,h=h+Math.imul(F,be)|0,S=S+Math.imul(F,De)|0,A=A+Math.imul(O,we)|0,h=h+Math.imul(O,Re)|0,h=h+Math.imul(B,we)|0,S=S+Math.imul(B,Re)|0,A=A+Math.imul(T,_e)|0,h=h+Math.imul(T,Pe)|0,h=h+Math.imul(k,_e)|0,S=S+Math.imul(k,Pe)|0;var nr=(x+A|0)+((h&8191)<<13)|0;x=(S+(h>>>13)|0)+(nr>>>26)|0,nr&=67108863,A=Math.imul(J,pe),h=Math.imul(J,Be),h=h+Math.imul(X,pe)|0,S=Math.imul(X,Be),A=A+Math.imul(j,be)|0,h=h+Math.imul(j,De)|0,h=h+Math.imul(H,be)|0,S=S+Math.imul(H,De)|0,A=A+Math.imul(U,we)|0,h=h+Math.imul(U,Re)|0,h=h+Math.imul(F,we)|0,S=S+Math.imul(F,Re)|0,A=A+Math.imul(O,_e)|0,h=h+Math.imul(O,Pe)|0,h=h+Math.imul(B,_e)|0,S=S+Math.imul(B,Pe)|0,A=A+Math.imul(T,xe)|0,h=h+Math.imul(T,Le)|0,h=h+Math.imul(k,xe)|0,S=S+Math.imul(k,Le)|0;var sr=(x+A|0)+((h&8191)<<13)|0;x=(S+(h>>>13)|0)+(sr>>>26)|0,sr&=67108863,A=Math.imul(se,pe),h=Math.imul(se,Be),h=h+Math.imul(ue,pe)|0,S=Math.imul(ue,Be),A=A+Math.imul(J,be)|0,h=h+Math.imul(J,De)|0,h=h+Math.imul(X,be)|0,S=S+Math.imul(X,De)|0,A=A+Math.imul(j,we)|0,h=h+Math.imul(j,Re)|0,h=h+Math.imul(H,we)|0,S=S+Math.imul(H,Re)|0,A=A+Math.imul(U,_e)|0,h=h+Math.imul(U,Pe)|0,h=h+Math.imul(F,_e)|0,S=S+Math.imul(F,Pe)|0,A=A+Math.imul(O,xe)|0,h=h+Math.imul(O,Le)|0,h=h+Math.imul(B,xe)|0,S=S+Math.imul(B,Le)|0,A=A+Math.imul(T,Ee)|0,h=h+Math.imul(T,qe)|0,h=h+Math.imul(k,Ee)|0,S=S+Math.imul(k,qe)|0;var ri=(x+A|0)+((h&8191)<<13)|0;x=(S+(h>>>13)|0)+(ri>>>26)|0,ri&=67108863,A=Math.imul(de,pe),h=Math.imul(de,Be),h=h+Math.imul(me,pe)|0,S=Math.imul(me,Be),A=A+Math.imul(se,be)|0,h=h+Math.imul(se,De)|0,h=h+Math.imul(ue,be)|0,S=S+Math.imul(ue,De)|0,A=A+Math.imul(J,we)|0,h=h+Math.imul(J,Re)|0,h=h+Math.imul(X,we)|0,S=S+Math.imul(X,Re)|0,A=A+Math.imul(j,_e)|0,h=h+Math.imul(j,Pe)|0,h=h+Math.imul(H,_e)|0,S=S+Math.imul(H,Pe)|0,A=A+Math.imul(U,xe)|0,h=h+Math.imul(U,Le)|0,h=h+Math.imul(F,xe)|0,S=S+Math.imul(F,Le)|0,A=A+Math.imul(O,Ee)|0,h=h+Math.imul(O,qe)|0,h=h+Math.imul(B,Ee)|0,S=S+Math.imul(B,qe)|0,A=A+Math.imul(T,Ae)|0,h=h+Math.imul(T,Fe)|0,h=h+Math.imul(k,Ae)|0,S=S+Math.imul(k,Fe)|0;var ii=(x+A|0)+((h&8191)<<13)|0;x=(S+(h>>>13)|0)+(ii>>>26)|0,ii&=67108863,A=Math.imul(le,pe),h=Math.imul(le,Be),h=h+Math.imul(Me,pe)|0,S=Math.imul(Me,Be),A=A+Math.imul(de,be)|0,h=h+Math.imul(de,De)|0,h=h+Math.imul(me,be)|0,S=S+Math.imul(me,De)|0,A=A+Math.imul(se,we)|0,h=h+Math.imul(se,Re)|0,h=h+Math.imul(ue,we)|0,S=S+Math.imul(ue,Re)|0,A=A+Math.imul(J,_e)|0,h=h+Math.imul(J,Pe)|0,h=h+Math.imul(X,_e)|0,S=S+Math.imul(X,Pe)|0,A=A+Math.imul(j,xe)|0,h=h+Math.imul(j,Le)|0,h=h+Math.imul(H,xe)|0,S=S+Math.imul(H,Le)|0,A=A+Math.imul(U,Ee)|0,h=h+Math.imul(U,qe)|0,h=h+Math.imul(F,Ee)|0,S=S+Math.imul(F,qe)|0,A=A+Math.imul(O,Ae)|0,h=h+Math.imul(O,Fe)|0,h=h+Math.imul(B,Ae)|0,S=S+Math.imul(B,Fe)|0,A=A+Math.imul(T,Se)|0,h=h+Math.imul(T,Ue)|0,h=h+Math.imul(k,Se)|0,S=S+Math.imul(k,Ue)|0;var ni=(x+A|0)+((h&8191)<<13)|0;x=(S+(h>>>13)|0)+(ni>>>26)|0,ni&=67108863,A=Math.imul(ye,pe),h=Math.imul(ye,Be),h=h+Math.imul(Te,pe)|0,S=Math.imul(Te,Be),A=A+Math.imul(le,be)|0,h=h+Math.imul(le,De)|0,h=h+Math.imul(Me,be)|0,S=S+Math.imul(Me,De)|0,A=A+Math.imul(de,we)|0,h=h+Math.imul(de,Re)|0,h=h+Math.imul(me,we)|0,S=S+Math.imul(me,Re)|0,A=A+Math.imul(se,_e)|0,h=h+Math.imul(se,Pe)|0,h=h+Math.imul(ue,_e)|0,S=S+Math.imul(ue,Pe)|0,A=A+Math.imul(J,xe)|0,h=h+Math.imul(J,Le)|0,h=h+Math.imul(X,xe)|0,S=S+Math.imul(X,Le)|0,A=A+Math.imul(j,Ee)|0,h=h+Math.imul(j,qe)|0,h=h+Math.imul(H,Ee)|0,S=S+Math.imul(H,qe)|0,A=A+Math.imul(U,Ae)|0,h=h+Math.imul(U,Fe)|0,h=h+Math.imul(F,Ae)|0,S=S+Math.imul(F,Fe)|0,A=A+Math.imul(O,Se)|0,h=h+Math.imul(O,Ue)|0,h=h+Math.imul(B,Se)|0,S=S+Math.imul(B,Ue)|0,A=A+Math.imul(T,Ie)|0,h=h+Math.imul(T,Ne)|0,h=h+Math.imul(k,Ie)|0,S=S+Math.imul(k,Ne)|0;var si=(x+A|0)+((h&8191)<<13)|0;x=(S+(h>>>13)|0)+(si>>>26)|0,si&=67108863,A=Math.imul(ge,pe),h=Math.imul(ge,Be),h=h+Math.imul(Ce,pe)|0,S=Math.imul(Ce,Be),A=A+Math.imul(ye,be)|0,h=h+Math.imul(ye,De)|0,h=h+Math.imul(Te,be)|0,S=S+Math.imul(Te,De)|0,A=A+Math.imul(le,we)|0,h=h+Math.imul(le,Re)|0,h=h+Math.imul(Me,we)|0,S=S+Math.imul(Me,Re)|0,A=A+Math.imul(de,_e)|0,h=h+Math.imul(de,Pe)|0,h=h+Math.imul(me,_e)|0,S=S+Math.imul(me,Pe)|0,A=A+Math.imul(se,xe)|0,h=h+Math.imul(se,Le)|0,h=h+Math.imul(ue,xe)|0,S=S+Math.imul(ue,Le)|0,A=A+Math.imul(J,Ee)|0,h=h+Math.imul(J,qe)|0,h=h+Math.imul(X,Ee)|0,S=S+Math.imul(X,qe)|0,A=A+Math.imul(j,Ae)|0,h=h+Math.imul(j,Fe)|0,h=h+Math.imul(H,Ae)|0,S=S+Math.imul(H,Fe)|0,A=A+Math.imul(U,Se)|0,h=h+Math.imul(U,Ue)|0,h=h+Math.imul(F,Se)|0,S=S+Math.imul(F,Ue)|0,A=A+Math.imul(O,Ie)|0,h=h+Math.imul(O,Ne)|0,h=h+Math.imul(B,Ie)|0,S=S+Math.imul(B,Ne)|0,A=A+Math.imul(T,Ge)|0,h=h+Math.imul(T,Qe)|0,h=h+Math.imul(k,Ge)|0,S=S+Math.imul(k,Qe)|0;var oi=(x+A|0)+((h&8191)<<13)|0;x=(S+(h>>>13)|0)+(oi>>>26)|0,oi&=67108863,A=Math.imul(ge,be),h=Math.imul(ge,De),h=h+Math.imul(Ce,be)|0,S=Math.imul(Ce,De),A=A+Math.imul(ye,we)|0,h=h+Math.imul(ye,Re)|0,h=h+Math.imul(Te,we)|0,S=S+Math.imul(Te,Re)|0,A=A+Math.imul(le,_e)|0,h=h+Math.imul(le,Pe)|0,h=h+Math.imul(Me,_e)|0,S=S+Math.imul(Me,Pe)|0,A=A+Math.imul(de,xe)|0,h=h+Math.imul(de,Le)|0,h=h+Math.imul(me,xe)|0,S=S+Math.imul(me,Le)|0,A=A+Math.imul(se,Ee)|0,h=h+Math.imul(se,qe)|0,h=h+Math.imul(ue,Ee)|0,S=S+Math.imul(ue,qe)|0,A=A+Math.imul(J,Ae)|0,h=h+Math.imul(J,Fe)|0,h=h+Math.imul(X,Ae)|0,S=S+Math.imul(X,Fe)|0,A=A+Math.imul(j,Se)|0,h=h+Math.imul(j,Ue)|0,h=h+Math.imul(H,Se)|0,S=S+Math.imul(H,Ue)|0,A=A+Math.imul(U,Ie)|0,h=h+Math.imul(U,Ne)|0,h=h+Math.imul(F,Ie)|0,S=S+Math.imul(F,Ne)|0,A=A+Math.imul(O,Ge)|0,h=h+Math.imul(O,Qe)|0,h=h+Math.imul(B,Ge)|0,S=S+Math.imul(B,Qe)|0;var ai=(x+A|0)+((h&8191)<<13)|0;x=(S+(h>>>13)|0)+(ai>>>26)|0,ai&=67108863,A=Math.imul(ge,we),h=Math.imul(ge,Re),h=h+Math.imul(Ce,we)|0,S=Math.imul(Ce,Re),A=A+Math.imul(ye,_e)|0,h=h+Math.imul(ye,Pe)|0,h=h+Math.imul(Te,_e)|0,S=S+Math.imul(Te,Pe)|0,A=A+Math.imul(le,xe)|0,h=h+Math.imul(le,Le)|0,h=h+Math.imul(Me,xe)|0,S=S+Math.imul(Me,Le)|0,A=A+Math.imul(de,Ee)|0,h=h+Math.imul(de,qe)|0,h=h+Math.imul(me,Ee)|0,S=S+Math.imul(me,qe)|0,A=A+Math.imul(se,Ae)|0,h=h+Math.imul(se,Fe)|0,h=h+Math.imul(ue,Ae)|0,S=S+Math.imul(ue,Fe)|0,A=A+Math.imul(J,Se)|0,h=h+Math.imul(J,Ue)|0,h=h+Math.imul(X,Se)|0,S=S+Math.imul(X,Ue)|0,A=A+Math.imul(j,Ie)|0,h=h+Math.imul(j,Ne)|0,h=h+Math.imul(H,Ie)|0,S=S+Math.imul(H,Ne)|0,A=A+Math.imul(U,Ge)|0,h=h+Math.imul(U,Qe)|0,h=h+Math.imul(F,Ge)|0,S=S+Math.imul(F,Qe)|0;var fi=(x+A|0)+((h&8191)<<13)|0;x=(S+(h>>>13)|0)+(fi>>>26)|0,fi&=67108863,A=Math.imul(ge,_e),h=Math.imul(ge,Pe),h=h+Math.imul(Ce,_e)|0,S=Math.imul(Ce,Pe),A=A+Math.imul(ye,xe)|0,h=h+Math.imul(ye,Le)|0,h=h+Math.imul(Te,xe)|0,S=S+Math.imul(Te,Le)|0,A=A+Math.imul(le,Ee)|0,h=h+Math.imul(le,qe)|0,h=h+Math.imul(Me,Ee)|0,S=S+Math.imul(Me,qe)|0,A=A+Math.imul(de,Ae)|0,h=h+Math.imul(de,Fe)|0,h=h+Math.imul(me,Ae)|0,S=S+Math.imul(me,Fe)|0,A=A+Math.imul(se,Se)|0,h=h+Math.imul(se,Ue)|0,h=h+Math.imul(ue,Se)|0,S=S+Math.imul(ue,Ue)|0,A=A+Math.imul(J,Ie)|0,h=h+Math.imul(J,Ne)|0,h=h+Math.imul(X,Ie)|0,S=S+Math.imul(X,Ne)|0,A=A+Math.imul(j,Ge)|0,h=h+Math.imul(j,Qe)|0,h=h+Math.imul(H,Ge)|0,S=S+Math.imul(H,Qe)|0;var ui=(x+A|0)+((h&8191)<<13)|0;x=(S+(h>>>13)|0)+(ui>>>26)|0,ui&=67108863,A=Math.imul(ge,xe),h=Math.imul(ge,Le),h=h+Math.imul(Ce,xe)|0,S=Math.imul(Ce,Le),A=A+Math.imul(ye,Ee)|0,h=h+Math.imul(ye,qe)|0,h=h+Math.imul(Te,Ee)|0,S=S+Math.imul(Te,qe)|0,A=A+Math.imul(le,Ae)|0,h=h+Math.imul(le,Fe)|0,h=h+Math.imul(Me,Ae)|0,S=S+Math.imul(Me,Fe)|0,A=A+Math.imul(de,Se)|0,h=h+Math.imul(de,Ue)|0,h=h+Math.imul(me,Se)|0,S=S+Math.imul(me,Ue)|0,A=A+Math.imul(se,Ie)|0,h=h+Math.imul(se,Ne)|0,h=h+Math.imul(ue,Ie)|0,S=S+Math.imul(ue,Ne)|0,A=A+Math.imul(J,Ge)|0,h=h+Math.imul(J,Qe)|0,h=h+Math.imul(X,Ge)|0,S=S+Math.imul(X,Qe)|0;var ci=(x+A|0)+((h&8191)<<13)|0;x=(S+(h>>>13)|0)+(ci>>>26)|0,ci&=67108863,A=Math.imul(ge,Ee),h=Math.imul(ge,qe),h=h+Math.imul(Ce,Ee)|0,S=Math.imul(Ce,qe),A=A+Math.imul(ye,Ae)|0,h=h+Math.imul(ye,Fe)|0,h=h+Math.imul(Te,Ae)|0,S=S+Math.imul(Te,Fe)|0,A=A+Math.imul(le,Se)|0,h=h+Math.imul(le,Ue)|0,h=h+Math.imul(Me,Se)|0,S=S+Math.imul(Me,Ue)|0,A=A+Math.imul(de,Ie)|0,h=h+Math.imul(de,Ne)|0,h=h+Math.imul(me,Ie)|0,S=S+Math.imul(me,Ne)|0,A=A+Math.imul(se,Ge)|0,h=h+Math.imul(se,Qe)|0,h=h+Math.imul(ue,Ge)|0,S=S+Math.imul(ue,Qe)|0;var hi=(x+A|0)+((h&8191)<<13)|0;x=(S+(h>>>13)|0)+(hi>>>26)|0,hi&=67108863,A=Math.imul(ge,Ae),h=Math.imul(ge,Fe),h=h+Math.imul(Ce,Ae)|0,S=Math.imul(Ce,Fe),A=A+Math.imul(ye,Se)|0,h=h+Math.imul(ye,Ue)|0,h=h+Math.imul(Te,Se)|0,S=S+Math.imul(Te,Ue)|0,A=A+Math.imul(le,Ie)|0,h=h+Math.imul(le,Ne)|0,h=h+Math.imul(Me,Ie)|0,S=S+Math.imul(Me,Ne)|0,A=A+Math.imul(de,Ge)|0,h=h+Math.imul(de,Qe)|0,h=h+Math.imul(me,Ge)|0,S=S+Math.imul(me,Qe)|0;var wn=(x+A|0)+((h&8191)<<13)|0;x=(S+(h>>>13)|0)+(wn>>>26)|0,wn&=67108863,A=Math.imul(ge,Se),h=Math.imul(ge,Ue),h=h+Math.imul(Ce,Se)|0,S=Math.imul(Ce,Ue),A=A+Math.imul(ye,Ie)|0,h=h+Math.imul(ye,Ne)|0,h=h+Math.imul(Te,Ie)|0,S=S+Math.imul(Te,Ne)|0,A=A+Math.imul(le,Ge)|0,h=h+Math.imul(le,Qe)|0,h=h+Math.imul(Me,Ge)|0,S=S+Math.imul(Me,Qe)|0;var of=(x+A|0)+((h&8191)<<13)|0;x=(S+(h>>>13)|0)+(of>>>26)|0,of&=67108863,A=Math.imul(ge,Ie),h=Math.imul(ge,Ne),h=h+Math.imul(Ce,Ie)|0,S=Math.imul(Ce,Ne),A=A+Math.imul(ye,Ge)|0,h=h+Math.imul(ye,Qe)|0,h=h+Math.imul(Te,Ge)|0,S=S+Math.imul(Te,Qe)|0;var af=(x+A|0)+((h&8191)<<13)|0;x=(S+(h>>>13)|0)+(af>>>26)|0,af&=67108863,A=Math.imul(ge,Ge),h=Math.imul(ge,Qe),h=h+Math.imul(Ce,Ge)|0,S=Math.imul(Ce,Qe);var ff=(x+A|0)+((h&8191)<<13)|0;return x=(S+(h>>>13)|0)+(ff>>>26)|0,ff&=67108863,d[0]=tr,d[1]=rr,d[2]=ir,d[3]=nr,d[4]=sr,d[5]=ri,d[6]=ii,d[7]=ni,d[8]=si,d[9]=oi,d[10]=ai,d[11]=fi,d[12]=ui,d[13]=ci,d[14]=hi,d[15]=wn,d[16]=of,d[17]=af,d[18]=ff,x!==0&&(d[19]=x,m.length++),m};Math.imul||($=W);function re(g,a,c){c.negative=a.negative^g.negative,c.length=g.length+a.length;for(var m=0,v=0,u=0;u<c.length-1;u++){var d=v;v=0;for(var x=m&67108863,A=Math.min(u,a.length-1),h=Math.max(0,u-g.length+1);h<=A;h++){var S=u-h,K=g.words[S]|0,T=a.words[h]|0,k=K*T,z=k&67108863;d=d+(k/67108864|0)|0,z=z+x|0,x=z&67108863,d=d+(z>>>26)|0,v+=d>>>26,d&=67108863}c.words[u]=x,m=d,d=v}return m!==0?c.words[u]=m:c.length--,c._strip()}function ee(g,a,c){return re(g,a,c)}n.prototype.mulTo=function(a,c){var m,v=this.length+a.length;return this.length===10&&a.length===10?m=$(this,a,c):v<63?m=W(this,a,c):v<1024?m=re(this,a,c):m=ee(this,a,c),m};function ie(g,a){this.x=g,this.y=a}ie.prototype.makeRBT=function(a){for(var c=new Array(a),m=n.prototype._countBits(a)-1,v=0;v<a;v++)c[v]=this.revBin(v,m,a);return c},ie.prototype.revBin=function(a,c,m){if(a===0||a===m-1)return a;for(var v=0,u=0;u<c;u++)v|=(a&1)<<c-u-1,a>>=1;return v},ie.prototype.permute=function(a,c,m,v,u,d){for(var x=0;x<d;x++)v[x]=c[a[x]],u[x]=m[a[x]]},ie.prototype.transform=function(a,c,m,v,u,d){this.permute(d,a,c,m,v,u);for(var x=1;x<u;x<<=1)for(var A=x<<1,h=Math.cos(2*Math.PI/A),S=Math.sin(2*Math.PI/A),K=0;K<u;K+=A)for(var T=h,k=S,z=0;z<x;z++){var O=m[K+z],B=v[K+z],q=m[K+z+x],U=v[K+z+x],F=T*q-k*U;U=T*U+k*q,q=F,m[K+z]=O+q,v[K+z]=B+U,m[K+z+x]=O-q,v[K+z+x]=B-U,z!==A&&(F=h*T-S*k,k=h*k+S*T,T=F)}},ie.prototype.guessLen13b=function(a,c){var m=Math.max(c,a)|1,v=m&1,u=0;for(m=m/2|0;m;m=m>>>1)u++;return 1<<u+1+v},ie.prototype.conjugate=function(a,c,m){if(!(m<=1))for(var v=0;v<m/2;v++){var u=a[v];a[v]=a[m-v-1],a[m-v-1]=u,u=c[v],c[v]=-c[m-v-1],c[m-v-1]=-u}},ie.prototype.normalize13b=function(a,c){for(var m=0,v=0;v<c/2;v++){var u=Math.round(a[2*v+1]/c)*8192+Math.round(a[2*v]/c)+m;a[v]=u&67108863,u<67108864?m=0:m=u/67108864|0}return a},ie.prototype.convert13b=function(a,c,m,v){for(var u=0,d=0;d<c;d++)u=u+(a[d]|0),m[2*d]=u&8191,u=u>>>13,m[2*d+1]=u&8191,u=u>>>13;for(d=2*c;d<v;++d)m[d]=0;r(u===0),r((u&-8192)===0)},ie.prototype.stub=function(a){for(var c=new Array(a),m=0;m<a;m++)c[m]=0;return c},ie.prototype.mulp=function(a,c,m){var v=2*this.guessLen13b(a.length,c.length),u=this.makeRBT(v),d=this.stub(v),x=new Array(v),A=new Array(v),h=new Array(v),S=new Array(v),K=new Array(v),T=new Array(v),k=m.words;k.length=v,this.convert13b(a.words,a.length,x,v),this.convert13b(c.words,c.length,S,v),this.transform(x,d,A,h,v,u),this.transform(S,d,K,T,v,u);for(var z=0;z<v;z++){var O=A[z]*K[z]-h[z]*T[z];h[z]=A[z]*T[z]+h[z]*K[z],A[z]=O}return this.conjugate(A,h,v),this.transform(A,h,k,d,v,u),this.conjugate(k,d,v),this.normalize13b(k,v),m.negative=a.negative^c.negative,m.length=a.length+c.length,m._strip()},n.prototype.mul=function(a){var c=new n(null);return c.words=new Array(this.length+a.length),this.mulTo(a,c)},n.prototype.mulf=function(a){var c=new n(null);return c.words=new Array(this.length+a.length),ee(this,a,c)},n.prototype.imul=function(a){return this.clone().mulTo(a,this)},n.prototype.imuln=function(a){var c=a<0;c&&(a=-a),r(typeof a=="number"),r(a<67108864);for(var m=0,v=0;v<this.length;v++){var u=(this.words[v]|0)*a,d=(u&67108863)+(m&67108863);m>>=26,m+=u/67108864|0,m+=d>>>26,this.words[v]=d&67108863}return m!==0&&(this.words[v]=m,this.length++),c?this.ineg():this},n.prototype.muln=function(a){return this.clone().imuln(a)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(a){var c=V(a);if(c.length===0)return new n(1);for(var m=this,v=0;v<c.length&&c[v]===0;v++,m=m.sqr());if(++v<c.length)for(var u=m.sqr();v<c.length;v++,u=u.sqr())c[v]!==0&&(m=m.mul(u));return m},n.prototype.iushln=function(a){r(typeof a=="number"&&a>=0);var c=a%26,m=(a-c)/26,v=67108863>>>26-c<<26-c,u;if(c!==0){var d=0;for(u=0;u<this.length;u++){var x=this.words[u]&v,A=(this.words[u]|0)-x<<c;this.words[u]=A|d,d=x>>>26-c}d&&(this.words[u]=d,this.length++)}if(m!==0){for(u=this.length-1;u>=0;u--)this.words[u+m]=this.words[u];for(u=0;u<m;u++)this.words[u]=0;this.length+=m}return this._strip()},n.prototype.ishln=function(a){return r(this.negative===0),this.iushln(a)},n.prototype.iushrn=function(a,c,m){r(typeof a=="number"&&a>=0);var v;c?v=(c-c%26)/26:v=0;var u=a%26,d=Math.min((a-u)/26,this.length),x=67108863^67108863>>>u<<u,A=m;if(v-=d,v=Math.max(0,v),A){for(var h=0;h<d;h++)A.words[h]=this.words[h];A.length=d}if(d!==0)if(this.length>d)for(this.length-=d,h=0;h<this.length;h++)this.words[h]=this.words[h+d];else this.words[0]=0,this.length=1;var S=0;for(h=this.length-1;h>=0&&(S!==0||h>=v);h--){var K=this.words[h]|0;this.words[h]=S<<26-u|K>>>u,S=K&x}return A&&S!==0&&(A.words[A.length++]=S),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},n.prototype.ishrn=function(a,c,m){return r(this.negative===0),this.iushrn(a,c,m)},n.prototype.shln=function(a){return this.clone().ishln(a)},n.prototype.ushln=function(a){return this.clone().iushln(a)},n.prototype.shrn=function(a){return this.clone().ishrn(a)},n.prototype.ushrn=function(a){return this.clone().iushrn(a)},n.prototype.testn=function(a){r(typeof a=="number"&&a>=0);var c=a%26,m=(a-c)/26,v=1<<c;if(this.length<=m)return!1;var u=this.words[m];return!!(u&v)},n.prototype.imaskn=function(a){r(typeof a=="number"&&a>=0);var c=a%26,m=(a-c)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=m)return this;if(c!==0&&m++,this.length=Math.min(m,this.length),c!==0){var v=67108863^67108863>>>c<<c;this.words[this.length-1]&=v}return this._strip()},n.prototype.maskn=function(a){return this.clone().imaskn(a)},n.prototype.iaddn=function(a){return r(typeof a=="number"),r(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<=a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},n.prototype._iaddn=function(a){this.words[0]+=a;for(var c=0;c<this.length&&this.words[c]>=67108864;c++)this.words[c]-=67108864,c===this.length-1?this.words[c+1]=1:this.words[c+1]++;return this.length=Math.max(this.length,c+1),this},n.prototype.isubn=function(a){if(r(typeof a=="number"),r(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var c=0;c<this.length&&this.words[c]<0;c++)this.words[c]+=67108864,this.words[c+1]-=1;return this._strip()},n.prototype.addn=function(a){return this.clone().iaddn(a)},n.prototype.subn=function(a){return this.clone().isubn(a)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(a,c,m){var v=a.length+m,u;this._expand(v);var d,x=0;for(u=0;u<a.length;u++){d=(this.words[u+m]|0)+x;var A=(a.words[u]|0)*c;d-=A&67108863,x=(d>>26)-(A/67108864|0),this.words[u+m]=d&67108863}for(;u<this.length-m;u++)d=(this.words[u+m]|0)+x,x=d>>26,this.words[u+m]=d&67108863;if(x===0)return this._strip();for(r(x===-1),x=0,u=0;u<this.length;u++)d=-(this.words[u]|0)+x,x=d>>26,this.words[u]=d&67108863;return this.negative=1,this._strip()},n.prototype._wordDiv=function(a,c){var m=this.length-a.length,v=this.clone(),u=a,d=u.words[u.length-1]|0,x=this._countBits(d);m=26-x,m!==0&&(u=u.ushln(m),v.iushln(m),d=u.words[u.length-1]|0);var A=v.length-u.length,h;if(c!=="mod"){h=new n(null),h.length=A+1,h.words=new Array(h.length);for(var S=0;S<h.length;S++)h.words[S]=0}var K=v.clone()._ishlnsubmul(u,1,A);K.negative===0&&(v=K,h&&(h.words[A]=1));for(var T=A-1;T>=0;T--){var k=(v.words[u.length+T]|0)*67108864+(v.words[u.length+T-1]|0);for(k=Math.min(k/d|0,67108863),v._ishlnsubmul(u,k,T);v.negative!==0;)k--,v.negative=0,v._ishlnsubmul(u,1,T),v.isZero()||(v.negative^=1);h&&(h.words[T]=k)}return h&&h._strip(),v._strip(),c!=="div"&&m!==0&&v.iushrn(m),{div:h||null,mod:v}},n.prototype.divmod=function(a,c,m){if(r(!a.isZero()),this.isZero())return{div:new n(0),mod:new n(0)};var v,u,d;return this.negative!==0&&a.negative===0?(d=this.neg().divmod(a,c),c!=="mod"&&(v=d.div.neg()),c!=="div"&&(u=d.mod.neg(),m&&u.negative!==0&&u.iadd(a)),{div:v,mod:u}):this.negative===0&&a.negative!==0?(d=this.divmod(a.neg(),c),c!=="mod"&&(v=d.div.neg()),{div:v,mod:d.mod}):(this.negative&a.negative)!==0?(d=this.neg().divmod(a.neg(),c),c!=="div"&&(u=d.mod.neg(),m&&u.negative!==0&&u.isub(a)),{div:d.div,mod:u}):a.length>this.length||this.cmp(a)<0?{div:new n(0),mod:this}:a.length===1?c==="div"?{div:this.divn(a.words[0]),mod:null}:c==="mod"?{div:null,mod:new n(this.modrn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new n(this.modrn(a.words[0]))}:this._wordDiv(a,c)},n.prototype.div=function(a){return this.divmod(a,"div",!1).div},n.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},n.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},n.prototype.divRound=function(a){var c=this.divmod(a);if(c.mod.isZero())return c.div;var m=c.div.negative!==0?c.mod.isub(a):c.mod,v=a.ushrn(1),u=a.andln(1),d=m.cmp(v);return d<0||u===1&&d===0?c.div:c.div.negative!==0?c.div.isubn(1):c.div.iaddn(1)},n.prototype.modrn=function(a){var c=a<0;c&&(a=-a),r(a<=67108863);for(var m=(1<<26)%a,v=0,u=this.length-1;u>=0;u--)v=(m*v+(this.words[u]|0))%a;return c?-v:v},n.prototype.modn=function(a){return this.modrn(a)},n.prototype.idivn=function(a){var c=a<0;c&&(a=-a),r(a<=67108863);for(var m=0,v=this.length-1;v>=0;v--){var u=(this.words[v]|0)+m*67108864;this.words[v]=u/a|0,m=u%a}return this._strip(),c?this.ineg():this},n.prototype.divn=function(a){return this.clone().idivn(a)},n.prototype.egcd=function(a){r(a.negative===0),r(!a.isZero());var c=this,m=a.clone();c.negative!==0?c=c.umod(a):c=c.clone();for(var v=new n(1),u=new n(0),d=new n(0),x=new n(1),A=0;c.isEven()&&m.isEven();)c.iushrn(1),m.iushrn(1),++A;for(var h=m.clone(),S=c.clone();!c.isZero();){for(var K=0,T=1;(c.words[0]&T)===0&&K<26;++K,T<<=1);if(K>0)for(c.iushrn(K);K-- >0;)(v.isOdd()||u.isOdd())&&(v.iadd(h),u.isub(S)),v.iushrn(1),u.iushrn(1);for(var k=0,z=1;(m.words[0]&z)===0&&k<26;++k,z<<=1);if(k>0)for(m.iushrn(k);k-- >0;)(d.isOdd()||x.isOdd())&&(d.iadd(h),x.isub(S)),d.iushrn(1),x.iushrn(1);c.cmp(m)>=0?(c.isub(m),v.isub(d),u.isub(x)):(m.isub(c),d.isub(v),x.isub(u))}return{a:d,b:x,gcd:m.iushln(A)}},n.prototype._invmp=function(a){r(a.negative===0),r(!a.isZero());var c=this,m=a.clone();c.negative!==0?c=c.umod(a):c=c.clone();for(var v=new n(1),u=new n(0),d=m.clone();c.cmpn(1)>0&&m.cmpn(1)>0;){for(var x=0,A=1;(c.words[0]&A)===0&&x<26;++x,A<<=1);if(x>0)for(c.iushrn(x);x-- >0;)v.isOdd()&&v.iadd(d),v.iushrn(1);for(var h=0,S=1;(m.words[0]&S)===0&&h<26;++h,S<<=1);if(h>0)for(m.iushrn(h);h-- >0;)u.isOdd()&&u.iadd(d),u.iushrn(1);c.cmp(m)>=0?(c.isub(m),v.isub(u)):(m.isub(c),u.isub(v))}var K;return c.cmpn(1)===0?K=v:K=u,K.cmpn(0)<0&&K.iadd(a),K},n.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var c=this.clone(),m=a.clone();c.negative=0,m.negative=0;for(var v=0;c.isEven()&&m.isEven();v++)c.iushrn(1),m.iushrn(1);do{for(;c.isEven();)c.iushrn(1);for(;m.isEven();)m.iushrn(1);var u=c.cmp(m);if(u<0){var d=c;c=m,m=d}else if(u===0||m.cmpn(1)===0)break;c.isub(m)}while(!0);return m.iushln(v)},n.prototype.invm=function(a){return this.egcd(a).a.umod(a)},n.prototype.isEven=function(){return(this.words[0]&1)===0},n.prototype.isOdd=function(){return(this.words[0]&1)===1},n.prototype.andln=function(a){return this.words[0]&a},n.prototype.bincn=function(a){r(typeof a=="number");var c=a%26,m=(a-c)/26,v=1<<c;if(this.length<=m)return this._expand(m+1),this.words[m]|=v,this;for(var u=v,d=m;u!==0&&d<this.length;d++){var x=this.words[d]|0;x+=u,u=x>>>26,x&=67108863,this.words[d]=x}return u!==0&&(this.words[d]=u,this.length++),this},n.prototype.isZero=function(){return this.length===1&&this.words[0]===0},n.prototype.cmpn=function(a){var c=a<0;if(this.negative!==0&&!c)return-1;if(this.negative===0&&c)return 1;this._strip();var m;if(this.length>1)m=1;else{c&&(a=-a),r(a<=67108863,"Number is too big");var v=this.words[0]|0;m=v===a?0:v<a?-1:1}return this.negative!==0?-m|0:m},n.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var c=this.ucmp(a);return this.negative!==0?-c|0:c},n.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var c=0,m=this.length-1;m>=0;m--){var v=this.words[m]|0,u=a.words[m]|0;if(v!==u){v<u?c=-1:v>u&&(c=1);break}}return c},n.prototype.gtn=function(a){return this.cmpn(a)===1},n.prototype.gt=function(a){return this.cmp(a)===1},n.prototype.gten=function(a){return this.cmpn(a)>=0},n.prototype.gte=function(a){return this.cmp(a)>=0},n.prototype.ltn=function(a){return this.cmpn(a)===-1},n.prototype.lt=function(a){return this.cmp(a)===-1},n.prototype.lten=function(a){return this.cmpn(a)<=0},n.prototype.lte=function(a){return this.cmp(a)<=0},n.prototype.eqn=function(a){return this.cmpn(a)===0},n.prototype.eq=function(a){return this.cmp(a)===0},n.red=function(a){return new p(a)},n.prototype.toRed=function(a){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},n.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(a){return this.red=a,this},n.prototype.forceRed=function(a){return r(!this.red,"Already a number in reduction context"),this._forceRed(a)},n.prototype.redAdd=function(a){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},n.prototype.redIAdd=function(a){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},n.prototype.redSub=function(a){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},n.prototype.redISub=function(a){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},n.prototype.redShl=function(a){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},n.prototype.redMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},n.prototype.redIMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},n.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(a){return r(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var ne={k256:null,p224:null,p192:null,p25519:null};function Z(g,a){this.name=g,this.p=new n(a,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Z.prototype._tmp=function(){var a=new n(null);return a.words=new Array(Math.ceil(this.n/13)),a},Z.prototype.ireduce=function(a){var c=a,m;do this.split(c,this.tmp),c=this.imulK(c),c=c.iadd(this.tmp),m=c.bitLength();while(m>this.n);var v=m<this.n?-1:c.ucmp(this.p);return v===0?(c.words[0]=0,c.length=1):v>0?c.isub(this.p):c.strip!==void 0?c.strip():c._strip(),c},Z.prototype.split=function(a,c){a.iushrn(this.n,0,c)},Z.prototype.imulK=function(a){return a.imul(this.k)};function G(){Z.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(G,Z),G.prototype.split=function(a,c){for(var m=4194303,v=Math.min(a.length,9),u=0;u<v;u++)c.words[u]=a.words[u];if(c.length=v,a.length<=9){a.words[0]=0,a.length=1;return}var d=a.words[9];for(c.words[c.length++]=d&m,u=10;u<a.length;u++){var x=a.words[u]|0;a.words[u-10]=(x&m)<<4|d>>>22,d=x}d>>>=22,a.words[u-10]=d,d===0&&a.length>10?a.length-=10:a.length-=9},G.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var c=0,m=0;m<a.length;m++){var v=a.words[m]|0;c+=v*977,a.words[m]=c&67108863,c=v*64+(c/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function Q(){Z.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(Q,Z);function P(){Z.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(P,Z);function w(){Z.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(w,Z),w.prototype.imulK=function(a){for(var c=0,m=0;m<a.length;m++){var v=(a.words[m]|0)*19+c,u=v&67108863;v>>>=26,a.words[m]=u,c=v}return c!==0&&(a.words[a.length++]=c),a},n._prime=function(a){if(ne[a])return ne[a];var c;if(a==="k256")c=new G;else if(a==="p224")c=new Q;else if(a==="p192")c=new P;else if(a==="p25519")c=new w;else throw new Error("Unknown prime "+a);return ne[a]=c,c};function p(g){if(typeof g=="string"){var a=n._prime(g);this.m=a.p,this.prime=a}else r(g.gtn(1),"modulus must be greater than 1"),this.m=g,this.prime=null}p.prototype._verify1=function(a){r(a.negative===0,"red works only with positives"),r(a.red,"red works only with red numbers")},p.prototype._verify2=function(a,c){r((a.negative|c.negative)===0,"red works only with positives"),r(a.red&&a.red===c.red,"red works only with red numbers")},p.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):(b(a,a.umod(this.m)._forceRed(this)),a)},p.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},p.prototype.add=function(a,c){this._verify2(a,c);var m=a.add(c);return m.cmp(this.m)>=0&&m.isub(this.m),m._forceRed(this)},p.prototype.iadd=function(a,c){this._verify2(a,c);var m=a.iadd(c);return m.cmp(this.m)>=0&&m.isub(this.m),m},p.prototype.sub=function(a,c){this._verify2(a,c);var m=a.sub(c);return m.cmpn(0)<0&&m.iadd(this.m),m._forceRed(this)},p.prototype.isub=function(a,c){this._verify2(a,c);var m=a.isub(c);return m.cmpn(0)<0&&m.iadd(this.m),m},p.prototype.shl=function(a,c){return this._verify1(a),this.imod(a.ushln(c))},p.prototype.imul=function(a,c){return this._verify2(a,c),this.imod(a.imul(c))},p.prototype.mul=function(a,c){return this._verify2(a,c),this.imod(a.mul(c))},p.prototype.isqr=function(a){return this.imul(a,a.clone())},p.prototype.sqr=function(a){return this.mul(a,a)},p.prototype.sqrt=function(a){if(a.isZero())return a.clone();var c=this.m.andln(3);if(r(c%2===1),c===3){var m=this.m.add(new n(1)).iushrn(2);return this.pow(a,m)}for(var v=this.m.subn(1),u=0;!v.isZero()&&v.andln(1)===0;)u++,v.iushrn(1);r(!v.isZero());var d=new n(1).toRed(this),x=d.redNeg(),A=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new n(2*h*h).toRed(this);this.pow(h,A).cmp(x)!==0;)h.redIAdd(x);for(var S=this.pow(h,v),K=this.pow(a,v.addn(1).iushrn(1)),T=this.pow(a,v),k=u;T.cmp(d)!==0;){for(var z=T,O=0;z.cmp(d)!==0;O++)z=z.redSqr();r(O<k);var B=this.pow(S,new n(1).iushln(k-O-1));K=K.redMul(B),S=B.redSqr(),T=T.redMul(S),k=O}return K},p.prototype.invm=function(a){var c=a._invmp(this.m);return c.negative!==0?(c.negative=0,this.imod(c).redNeg()):this.imod(c)},p.prototype.pow=function(a,c){if(c.isZero())return new n(1).toRed(this);if(c.cmpn(1)===0)return a.clone();var m=4,v=new Array(1<<m);v[0]=new n(1).toRed(this),v[1]=a;for(var u=2;u<v.length;u++)v[u]=this.mul(v[u-1],a);var d=v[0],x=0,A=0,h=c.bitLength()%26;for(h===0&&(h=26),u=c.length-1;u>=0;u--){for(var S=c.words[u],K=h-1;K>=0;K--){var T=S>>K&1;if(d!==v[0]&&(d=this.sqr(d)),T===0&&x===0){A=0;continue}x<<=1,x|=T,A++,!(A!==m&&(u!==0||K!==0))&&(d=this.mul(d,v[x]),A=0,x=0)}h=26}return d},p.prototype.convertTo=function(a){var c=a.umod(this.m);return c===a?c.clone():c},p.prototype.convertFrom=function(a){var c=a.clone();return c.red=null,c},n.mont=function(a){return new _(a)};function _(g){p.call(this,g),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(_,p),_.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},_.prototype.convertFrom=function(a){var c=this.imod(a.mul(this.rinv));return c.red=null,c},_.prototype.imul=function(a,c){if(a.isZero()||c.isZero())return a.words[0]=0,a.length=1,a;var m=a.imul(c),v=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),u=m.isub(v).iushrn(this.shift),d=u;return u.cmp(this.m)>=0?d=u.isub(this.m):u.cmpn(0)<0&&(d=u.iadd(this.m)),d._forceRed(this)},_.prototype.mul=function(a,c){if(a.isZero()||c.isZero())return new n(0)._forceRed(this);var m=a.mul(c),v=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),u=m.isub(v).iushrn(this.shift),d=u;return u.cmp(this.m)>=0?d=u.isub(this.m):u.cmpn(0)<0&&(d=u.iadd(this.m)),d._forceRed(this)},_.prototype.invm=function(a){var c=this.imod(a._invmp(this.m).mul(this.r2));return c._forceRed(this)}})(typeof m4>"u"||m4,ZL)});var tm=D((J7e,iq)=>{y();var tl=eq(),Kfe=ou();function Gfe(t){var e=tq(t),r=e.toRed(tl.mont(t.modulus)).redPow(new tl(t.publicExponent)).fromRed();return{blinder:r,unblinder:e.invm(t.modulus)}}function tq(t){var e=t.modulus.byteLength(),r;do r=new tl(Kfe(e));while(r.cmp(t.modulus)>=0||!r.umod(t.prime1)||!r.umod(t.prime2));return r}function rq(t,e){var r=Gfe(e),i=e.modulus.byteLength(),n=new tl(t).mul(r.blinder).umod(e.modulus),s=n.toRed(tl.mont(e.prime1)),o=n.toRed(tl.mont(e.prime2)),f=e.coefficient,l=e.prime1,b=e.prime2,E=s.redPow(e.exponent1).fromRed(),C=o.redPow(e.exponent2).fromRed(),N=E.isub(C).imul(f).umod(l).imul(b);return C.iadd(N).imul(r.unblinder).umod(e.modulus).toArrayLike(M.Buffer,"be",i)}rq.getr=tq;iq.exports=rq});var nq=D((Z7e,Qfe)=>{Qfe.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}});var Ns=D((sq,b4)=>{y();(function(t,e){"use strict";function r(w,p){if(!w)throw new Error(p||"Assertion failed")}function i(w,p){w.super_=p;var _=function(){};_.prototype=p.prototype,w.prototype=new _,w.prototype.constructor=w}function n(w,p,_){if(n.isBN(w))return w;this.negative=0,this.words=null,this.length=0,this.red=null,w!==null&&((p==="le"||p==="be")&&(_=p,p=10),this._init(w||0,p||10,_||"be"))}typeof t=="object"?t.exports=n:e.BN=n,n.BN=n,n.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=mi().Buffer}catch{}n.isBN=function(p){return p instanceof n?!0:p!==null&&typeof p=="object"&&p.constructor.wordSize===n.wordSize&&Array.isArray(p.words)},n.max=function(p,_){return p.cmp(_)>0?p:_},n.min=function(p,_){return p.cmp(_)<0?p:_},n.prototype._init=function(p,_,g){if(typeof p=="number")return this._initNumber(p,_,g);if(typeof p=="object")return this._initArray(p,_,g);_==="hex"&&(_=16),r(_===(_|0)&&_>=2&&_<=36),p=p.toString().replace(/\s+/g,"");var a=0;p[0]==="-"&&(a++,this.negative=1),a<p.length&&(_===16?this._parseHex(p,a,g):(this._parseBase(p,_,a),g==="le"&&this._initArray(this.toArray(),_,g)))},n.prototype._initNumber=function(p,_,g){p<0&&(this.negative=1,p=-p),p<67108864?(this.words=[p&67108863],this.length=1):p<4503599627370496?(this.words=[p&67108863,p/67108864&67108863],this.length=2):(r(p<9007199254740992),this.words=[p&67108863,p/67108864&67108863,1],this.length=3),g==="le"&&this._initArray(this.toArray(),_,g)},n.prototype._initArray=function(p,_,g){if(r(typeof p.length=="number"),p.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(p.length/3),this.words=new Array(this.length);for(var a=0;a<this.length;a++)this.words[a]=0;var c,m,v=0;if(g==="be")for(a=p.length-1,c=0;a>=0;a-=3)m=p[a]|p[a-1]<<8|p[a-2]<<16,this.words[c]|=m<<v&67108863,this.words[c+1]=m>>>26-v&67108863,v+=24,v>=26&&(v-=26,c++);else if(g==="le")for(a=0,c=0;a<p.length;a+=3)m=p[a]|p[a+1]<<8|p[a+2]<<16,this.words[c]|=m<<v&67108863,this.words[c+1]=m>>>26-v&67108863,v+=24,v>=26&&(v-=26,c++);return this.strip()};function o(w,p){var _=w.charCodeAt(p);return _>=65&&_<=70?_-55:_>=97&&_<=102?_-87:_-48&15}function f(w,p,_){var g=o(w,_);return _-1>=p&&(g|=o(w,_-1)<<4),g}n.prototype._parseHex=function(p,_,g){this.length=Math.ceil((p.length-_)/6),this.words=new Array(this.length);for(var a=0;a<this.length;a++)this.words[a]=0;var c=0,m=0,v;if(g==="be")for(a=p.length-1;a>=_;a-=2)v=f(p,_,a)<<c,this.words[m]|=v&67108863,c>=18?(c-=18,m+=1,this.words[m]|=v>>>26):c+=8;else{var u=p.length-_;for(a=u%2===0?_+1:_;a<p.length;a+=2)v=f(p,_,a)<<c,this.words[m]|=v&67108863,c>=18?(c-=18,m+=1,this.words[m]|=v>>>26):c+=8}this.strip()};function l(w,p,_,g){for(var a=0,c=Math.min(w.length,_),m=p;m<c;m++){var v=w.charCodeAt(m)-48;a*=g,v>=49?a+=v-49+10:v>=17?a+=v-17+10:a+=v}return a}n.prototype._parseBase=function(p,_,g){this.words=[0],this.length=1;for(var a=0,c=1;c<=67108863;c*=_)a++;a--,c=c/_|0;for(var m=p.length-g,v=m%a,u=Math.min(m,m-v)+g,d=0,x=g;x<u;x+=a)d=l(p,x,x+a,_),this.imuln(c),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d);if(v!==0){var A=1;for(d=l(p,x,p.length,_),x=0;x<v;x++)A*=_;this.imuln(A),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d)}this.strip()},n.prototype.copy=function(p){p.words=new Array(this.length);for(var _=0;_<this.length;_++)p.words[_]=this.words[_];p.length=this.length,p.negative=this.negative,p.red=this.red},n.prototype.clone=function(){var p=new n(null);return this.copy(p),p},n.prototype._expand=function(p){for(;this.length<p;)this.words[this.length++]=0;return this},n.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},n.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},n.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var b=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],E=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],C=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(p,_){p=p||10,_=_|0||1;var g;if(p===16||p==="hex"){g="";for(var a=0,c=0,m=0;m<this.length;m++){var v=this.words[m],u=((v<<a|c)&16777215).toString(16);c=v>>>24-a&16777215,c!==0||m!==this.length-1?g=b[6-u.length]+u+g:g=u+g,a+=2,a>=26&&(a-=26,m--)}for(c!==0&&(g=c.toString(16)+g);g.length%_!==0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}if(p===(p|0)&&p>=2&&p<=36){var d=E[p],x=C[p];g="";var A=this.clone();for(A.negative=0;!A.isZero();){var h=A.modn(x).toString(p);A=A.idivn(x),A.isZero()?g=h+g:g=b[d-h.length]+h+g}for(this.isZero()&&(g="0"+g);g.length%_!==0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}r(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var p=this.words[0];return this.length===2?p+=this.words[1]*67108864:this.length===3&&this.words[2]===1?p+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-p:p},n.prototype.toJSON=function(){return this.toString(16)},n.prototype.toBuffer=function(p,_){return r(typeof s<"u"),this.toArrayLike(s,p,_)},n.prototype.toArray=function(p,_){return this.toArrayLike(Array,p,_)},n.prototype.toArrayLike=function(p,_,g){var a=this.byteLength(),c=g||Math.max(1,a);r(a<=c,"byte array longer than desired length"),r(c>0,"Requested array length <= 0"),this.strip();var m=_==="le",v=new p(c),u,d,x=this.clone();if(m){for(d=0;!x.isZero();d++)u=x.andln(255),x.iushrn(8),v[d]=u;for(;d<c;d++)v[d]=0}else{for(d=0;d<c-a;d++)v[d]=0;for(d=0;!x.isZero();d++)u=x.andln(255),x.iushrn(8),v[c-d-1]=u}return v},Math.clz32?n.prototype._countBits=function(p){return 32-Math.clz32(p)}:n.prototype._countBits=function(p){var _=p,g=0;return _>=4096&&(g+=13,_>>>=13),_>=64&&(g+=7,_>>>=7),_>=8&&(g+=4,_>>>=4),_>=2&&(g+=2,_>>>=2),g+_},n.prototype._zeroBits=function(p){if(p===0)return 26;var _=p,g=0;return(_&8191)===0&&(g+=13,_>>>=13),(_&127)===0&&(g+=7,_>>>=7),(_&15)===0&&(g+=4,_>>>=4),(_&3)===0&&(g+=2,_>>>=2),(_&1)===0&&g++,g},n.prototype.bitLength=function(){var p=this.words[this.length-1],_=this._countBits(p);return(this.length-1)*26+_};function N(w){for(var p=new Array(w.bitLength()),_=0;_<p.length;_++){var g=_/26|0,a=_%26;p[_]=(w.words[g]&1<<a)>>>a}return p}n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var p=0,_=0;_<this.length;_++){var g=this._zeroBits(this.words[_]);if(p+=g,g!==26)break}return p},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(p){return this.negative!==0?this.abs().inotn(p).iaddn(1):this.clone()},n.prototype.fromTwos=function(p){return this.testn(p-1)?this.notn(p).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return this.negative!==0},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(p){for(;this.length<p.length;)this.words[this.length++]=0;for(var _=0;_<p.length;_++)this.words[_]=this.words[_]|p.words[_];return this.strip()},n.prototype.ior=function(p){return r((this.negative|p.negative)===0),this.iuor(p)},n.prototype.or=function(p){return this.length>p.length?this.clone().ior(p):p.clone().ior(this)},n.prototype.uor=function(p){return this.length>p.length?this.clone().iuor(p):p.clone().iuor(this)},n.prototype.iuand=function(p){var _;this.length>p.length?_=p:_=this;for(var g=0;g<_.length;g++)this.words[g]=this.words[g]&p.words[g];return this.length=_.length,this.strip()},n.prototype.iand=function(p){return r((this.negative|p.negative)===0),this.iuand(p)},n.prototype.and=function(p){return this.length>p.length?this.clone().iand(p):p.clone().iand(this)},n.prototype.uand=function(p){return this.length>p.length?this.clone().iuand(p):p.clone().iuand(this)},n.prototype.iuxor=function(p){var _,g;this.length>p.length?(_=this,g=p):(_=p,g=this);for(var a=0;a<g.length;a++)this.words[a]=_.words[a]^g.words[a];if(this!==_)for(;a<_.length;a++)this.words[a]=_.words[a];return this.length=_.length,this.strip()},n.prototype.ixor=function(p){return r((this.negative|p.negative)===0),this.iuxor(p)},n.prototype.xor=function(p){return this.length>p.length?this.clone().ixor(p):p.clone().ixor(this)},n.prototype.uxor=function(p){return this.length>p.length?this.clone().iuxor(p):p.clone().iuxor(this)},n.prototype.inotn=function(p){r(typeof p=="number"&&p>=0);var _=Math.ceil(p/26)|0,g=p%26;this._expand(_),g>0&&_--;for(var a=0;a<_;a++)this.words[a]=~this.words[a]&67108863;return g>0&&(this.words[a]=~this.words[a]&67108863>>26-g),this.strip()},n.prototype.notn=function(p){return this.clone().inotn(p)},n.prototype.setn=function(p,_){r(typeof p=="number"&&p>=0);var g=p/26|0,a=p%26;return this._expand(g+1),_?this.words[g]=this.words[g]|1<<a:this.words[g]=this.words[g]&~(1<<a),this.strip()},n.prototype.iadd=function(p){var _;if(this.negative!==0&&p.negative===0)return this.negative=0,_=this.isub(p),this.negative^=1,this._normSign();if(this.negative===0&&p.negative!==0)return p.negative=0,_=this.isub(p),p.negative=1,_._normSign();var g,a;this.length>p.length?(g=this,a=p):(g=p,a=this);for(var c=0,m=0;m<a.length;m++)_=(g.words[m]|0)+(a.words[m]|0)+c,this.words[m]=_&67108863,c=_>>>26;for(;c!==0&&m<g.length;m++)_=(g.words[m]|0)+c,this.words[m]=_&67108863,c=_>>>26;if(this.length=g.length,c!==0)this.words[this.length]=c,this.length++;else if(g!==this)for(;m<g.length;m++)this.words[m]=g.words[m];return this},n.prototype.add=function(p){var _;return p.negative!==0&&this.negative===0?(p.negative=0,_=this.sub(p),p.negative^=1,_):p.negative===0&&this.negative!==0?(this.negative=0,_=p.sub(this),this.negative=1,_):this.length>p.length?this.clone().iadd(p):p.clone().iadd(this)},n.prototype.isub=function(p){if(p.negative!==0){p.negative=0;var _=this.iadd(p);return p.negative=1,_._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(p),this.negative=1,this._normSign();var g=this.cmp(p);if(g===0)return this.negative=0,this.length=1,this.words[0]=0,this;var a,c;g>0?(a=this,c=p):(a=p,c=this);for(var m=0,v=0;v<c.length;v++)_=(a.words[v]|0)-(c.words[v]|0)+m,m=_>>26,this.words[v]=_&67108863;for(;m!==0&&v<a.length;v++)_=(a.words[v]|0)+m,m=_>>26,this.words[v]=_&67108863;if(m===0&&v<a.length&&a!==this)for(;v<a.length;v++)this.words[v]=a.words[v];return this.length=Math.max(this.length,v),a!==this&&(this.negative=1),this.strip()},n.prototype.sub=function(p){return this.clone().isub(p)};function L(w,p,_){_.negative=p.negative^w.negative;var g=w.length+p.length|0;_.length=g,g=g-1|0;var a=w.words[0]|0,c=p.words[0]|0,m=a*c,v=m&67108863,u=m/67108864|0;_.words[0]=v;for(var d=1;d<g;d++){for(var x=u>>>26,A=u&67108863,h=Math.min(d,p.length-1),S=Math.max(0,d-w.length+1);S<=h;S++){var K=d-S|0;a=w.words[K]|0,c=p.words[S]|0,m=a*c+A,x+=m/67108864|0,A=m&67108863}_.words[d]=A|0,u=x|0}return u!==0?_.words[d]=u|0:_.length--,_.strip()}var R=function(p,_,g){var a=p.words,c=_.words,m=g.words,v=0,u,d,x,A=a[0]|0,h=A&8191,S=A>>>13,K=a[1]|0,T=K&8191,k=K>>>13,z=a[2]|0,O=z&8191,B=z>>>13,q=a[3]|0,U=q&8191,F=q>>>13,Y=a[4]|0,j=Y&8191,H=Y>>>13,te=a[5]|0,J=te&8191,X=te>>>13,ae=a[6]|0,se=ae&8191,ue=ae>>>13,je=a[7]|0,de=je&8191,me=je>>>13,He=a[8]|0,le=He&8191,Me=He>>>13,nt=a[9]|0,ye=nt&8191,Te=nt>>>13,Ye=c[0]|0,ge=Ye&8191,Ce=Ye>>>13,$e=c[1]|0,pe=$e&8191,Be=$e>>>13,ht=c[2]|0,be=ht&8191,De=ht>>>13,lt=c[3]|0,we=lt&8191,Re=lt>>>13,dt=c[4]|0,_e=dt&8191,Pe=dt>>>13,pt=c[5]|0,xe=pt&8191,Le=pt>>>13,gt=c[6]|0,Ee=gt&8191,qe=gt>>>13,vt=c[7]|0,Ae=vt&8191,Fe=vt>>>13,yt=c[8]|0,Se=yt&8191,Ue=yt>>>13,mt=c[9]|0,Ie=mt&8191,Ne=mt>>>13;g.negative=p.negative^_.negative,g.length=19,u=Math.imul(h,ge),d=Math.imul(h,Ce),d=d+Math.imul(S,ge)|0,x=Math.imul(S,Ce);var gr=(v+u|0)+((d&8191)<<13)|0;v=(x+(d>>>13)|0)+(gr>>>26)|0,gr&=67108863,u=Math.imul(T,ge),d=Math.imul(T,Ce),d=d+Math.imul(k,ge)|0,x=Math.imul(k,Ce),u=u+Math.imul(h,pe)|0,d=d+Math.imul(h,Be)|0,d=d+Math.imul(S,pe)|0,x=x+Math.imul(S,Be)|0;var Ge=(v+u|0)+((d&8191)<<13)|0;v=(x+(d>>>13)|0)+(Ge>>>26)|0,Ge&=67108863,u=Math.imul(O,ge),d=Math.imul(O,Ce),d=d+Math.imul(B,ge)|0,x=Math.imul(B,Ce),u=u+Math.imul(T,pe)|0,d=d+Math.imul(T,Be)|0,d=d+Math.imul(k,pe)|0,x=x+Math.imul(k,Be)|0,u=u+Math.imul(h,be)|0,d=d+Math.imul(h,De)|0,d=d+Math.imul(S,be)|0,x=x+Math.imul(S,De)|0;var Qe=(v+u|0)+((d&8191)<<13)|0;v=(x+(d>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,u=Math.imul(U,ge),d=Math.imul(U,Ce),d=d+Math.imul(F,ge)|0,x=Math.imul(F,Ce),u=u+Math.imul(O,pe)|0,d=d+Math.imul(O,Be)|0,d=d+Math.imul(B,pe)|0,x=x+Math.imul(B,Be)|0,u=u+Math.imul(T,be)|0,d=d+Math.imul(T,De)|0,d=d+Math.imul(k,be)|0,x=x+Math.imul(k,De)|0,u=u+Math.imul(h,we)|0,d=d+Math.imul(h,Re)|0,d=d+Math.imul(S,we)|0,x=x+Math.imul(S,Re)|0;var tr=(v+u|0)+((d&8191)<<13)|0;v=(x+(d>>>13)|0)+(tr>>>26)|0,tr&=67108863,u=Math.imul(j,ge),d=Math.imul(j,Ce),d=d+Math.imul(H,ge)|0,x=Math.imul(H,Ce),u=u+Math.imul(U,pe)|0,d=d+Math.imul(U,Be)|0,d=d+Math.imul(F,pe)|0,x=x+Math.imul(F,Be)|0,u=u+Math.imul(O,be)|0,d=d+Math.imul(O,De)|0,d=d+Math.imul(B,be)|0,x=x+Math.imul(B,De)|0,u=u+Math.imul(T,we)|0,d=d+Math.imul(T,Re)|0,d=d+Math.imul(k,we)|0,x=x+Math.imul(k,Re)|0,u=u+Math.imul(h,_e)|0,d=d+Math.imul(h,Pe)|0,d=d+Math.imul(S,_e)|0,x=x+Math.imul(S,Pe)|0;var rr=(v+u|0)+((d&8191)<<13)|0;v=(x+(d>>>13)|0)+(rr>>>26)|0,rr&=67108863,u=Math.imul(J,ge),d=Math.imul(J,Ce),d=d+Math.imul(X,ge)|0,x=Math.imul(X,Ce),u=u+Math.imul(j,pe)|0,d=d+Math.imul(j,Be)|0,d=d+Math.imul(H,pe)|0,x=x+Math.imul(H,Be)|0,u=u+Math.imul(U,be)|0,d=d+Math.imul(U,De)|0,d=d+Math.imul(F,be)|0,x=x+Math.imul(F,De)|0,u=u+Math.imul(O,we)|0,d=d+Math.imul(O,Re)|0,d=d+Math.imul(B,we)|0,x=x+Math.imul(B,Re)|0,u=u+Math.imul(T,_e)|0,d=d+Math.imul(T,Pe)|0,d=d+Math.imul(k,_e)|0,x=x+Math.imul(k,Pe)|0,u=u+Math.imul(h,xe)|0,d=d+Math.imul(h,Le)|0,d=d+Math.imul(S,xe)|0,x=x+Math.imul(S,Le)|0;var ir=(v+u|0)+((d&8191)<<13)|0;v=(x+(d>>>13)|0)+(ir>>>26)|0,ir&=67108863,u=Math.imul(se,ge),d=Math.imul(se,Ce),d=d+Math.imul(ue,ge)|0,x=Math.imul(ue,Ce),u=u+Math.imul(J,pe)|0,d=d+Math.imul(J,Be)|0,d=d+Math.imul(X,pe)|0,x=x+Math.imul(X,Be)|0,u=u+Math.imul(j,be)|0,d=d+Math.imul(j,De)|0,d=d+Math.imul(H,be)|0,x=x+Math.imul(H,De)|0,u=u+Math.imul(U,we)|0,d=d+Math.imul(U,Re)|0,d=d+Math.imul(F,we)|0,x=x+Math.imul(F,Re)|0,u=u+Math.imul(O,_e)|0,d=d+Math.imul(O,Pe)|0,d=d+Math.imul(B,_e)|0,x=x+Math.imul(B,Pe)|0,u=u+Math.imul(T,xe)|0,d=d+Math.imul(T,Le)|0,d=d+Math.imul(k,xe)|0,x=x+Math.imul(k,Le)|0,u=u+Math.imul(h,Ee)|0,d=d+Math.imul(h,qe)|0,d=d+Math.imul(S,Ee)|0,x=x+Math.imul(S,qe)|0;var nr=(v+u|0)+((d&8191)<<13)|0;v=(x+(d>>>13)|0)+(nr>>>26)|0,nr&=67108863,u=Math.imul(de,ge),d=Math.imul(de,Ce),d=d+Math.imul(me,ge)|0,x=Math.imul(me,Ce),u=u+Math.imul(se,pe)|0,d=d+Math.imul(se,Be)|0,d=d+Math.imul(ue,pe)|0,x=x+Math.imul(ue,Be)|0,u=u+Math.imul(J,be)|0,d=d+Math.imul(J,De)|0,d=d+Math.imul(X,be)|0,x=x+Math.imul(X,De)|0,u=u+Math.imul(j,we)|0,d=d+Math.imul(j,Re)|0,d=d+Math.imul(H,we)|0,x=x+Math.imul(H,Re)|0,u=u+Math.imul(U,_e)|0,d=d+Math.imul(U,Pe)|0,d=d+Math.imul(F,_e)|0,x=x+Math.imul(F,Pe)|0,u=u+Math.imul(O,xe)|0,d=d+Math.imul(O,Le)|0,d=d+Math.imul(B,xe)|0,x=x+Math.imul(B,Le)|0,u=u+Math.imul(T,Ee)|0,d=d+Math.imul(T,qe)|0,d=d+Math.imul(k,Ee)|0,x=x+Math.imul(k,qe)|0,u=u+Math.imul(h,Ae)|0,d=d+Math.imul(h,Fe)|0,d=d+Math.imul(S,Ae)|0,x=x+Math.imul(S,Fe)|0;var sr=(v+u|0)+((d&8191)<<13)|0;v=(x+(d>>>13)|0)+(sr>>>26)|0,sr&=67108863,u=Math.imul(le,ge),d=Math.imul(le,Ce),d=d+Math.imul(Me,ge)|0,x=Math.imul(Me,Ce),u=u+Math.imul(de,pe)|0,d=d+Math.imul(de,Be)|0,d=d+Math.imul(me,pe)|0,x=x+Math.imul(me,Be)|0,u=u+Math.imul(se,be)|0,d=d+Math.imul(se,De)|0,d=d+Math.imul(ue,be)|0,x=x+Math.imul(ue,De)|0,u=u+Math.imul(J,we)|0,d=d+Math.imul(J,Re)|0,d=d+Math.imul(X,we)|0,x=x+Math.imul(X,Re)|0,u=u+Math.imul(j,_e)|0,d=d+Math.imul(j,Pe)|0,d=d+Math.imul(H,_e)|0,x=x+Math.imul(H,Pe)|0,u=u+Math.imul(U,xe)|0,d=d+Math.imul(U,Le)|0,d=d+Math.imul(F,xe)|0,x=x+Math.imul(F,Le)|0,u=u+Math.imul(O,Ee)|0,d=d+Math.imul(O,qe)|0,d=d+Math.imul(B,Ee)|0,x=x+Math.imul(B,qe)|0,u=u+Math.imul(T,Ae)|0,d=d+Math.imul(T,Fe)|0,d=d+Math.imul(k,Ae)|0,x=x+Math.imul(k,Fe)|0,u=u+Math.imul(h,Se)|0,d=d+Math.imul(h,Ue)|0,d=d+Math.imul(S,Se)|0,x=x+Math.imul(S,Ue)|0;var ri=(v+u|0)+((d&8191)<<13)|0;v=(x+(d>>>13)|0)+(ri>>>26)|0,ri&=67108863,u=Math.imul(ye,ge),d=Math.imul(ye,Ce),d=d+Math.imul(Te,ge)|0,x=Math.imul(Te,Ce),u=u+Math.imul(le,pe)|0,d=d+Math.imul(le,Be)|0,d=d+Math.imul(Me,pe)|0,x=x+Math.imul(Me,Be)|0,u=u+Math.imul(de,be)|0,d=d+Math.imul(de,De)|0,d=d+Math.imul(me,be)|0,x=x+Math.imul(me,De)|0,u=u+Math.imul(se,we)|0,d=d+Math.imul(se,Re)|0,d=d+Math.imul(ue,we)|0,x=x+Math.imul(ue,Re)|0,u=u+Math.imul(J,_e)|0,d=d+Math.imul(J,Pe)|0,d=d+Math.imul(X,_e)|0,x=x+Math.imul(X,Pe)|0,u=u+Math.imul(j,xe)|0,d=d+Math.imul(j,Le)|0,d=d+Math.imul(H,xe)|0,x=x+Math.imul(H,Le)|0,u=u+Math.imul(U,Ee)|0,d=d+Math.imul(U,qe)|0,d=d+Math.imul(F,Ee)|0,x=x+Math.imul(F,qe)|0,u=u+Math.imul(O,Ae)|0,d=d+Math.imul(O,Fe)|0,d=d+Math.imul(B,Ae)|0,x=x+Math.imul(B,Fe)|0,u=u+Math.imul(T,Se)|0,d=d+Math.imul(T,Ue)|0,d=d+Math.imul(k,Se)|0,x=x+Math.imul(k,Ue)|0,u=u+Math.imul(h,Ie)|0,d=d+Math.imul(h,Ne)|0,d=d+Math.imul(S,Ie)|0,x=x+Math.imul(S,Ne)|0;var ii=(v+u|0)+((d&8191)<<13)|0;v=(x+(d>>>13)|0)+(ii>>>26)|0,ii&=67108863,u=Math.imul(ye,pe),d=Math.imul(ye,Be),d=d+Math.imul(Te,pe)|0,x=Math.imul(Te,Be),u=u+Math.imul(le,be)|0,d=d+Math.imul(le,De)|0,d=d+Math.imul(Me,be)|0,x=x+Math.imul(Me,De)|0,u=u+Math.imul(de,we)|0,d=d+Math.imul(de,Re)|0,d=d+Math.imul(me,we)|0,x=x+Math.imul(me,Re)|0,u=u+Math.imul(se,_e)|0,d=d+Math.imul(se,Pe)|0,d=d+Math.imul(ue,_e)|0,x=x+Math.imul(ue,Pe)|0,u=u+Math.imul(J,xe)|0,d=d+Math.imul(J,Le)|0,d=d+Math.imul(X,xe)|0,x=x+Math.imul(X,Le)|0,u=u+Math.imul(j,Ee)|0,d=d+Math.imul(j,qe)|0,d=d+Math.imul(H,Ee)|0,x=x+Math.imul(H,qe)|0,u=u+Math.imul(U,Ae)|0,d=d+Math.imul(U,Fe)|0,d=d+Math.imul(F,Ae)|0,x=x+Math.imul(F,Fe)|0,u=u+Math.imul(O,Se)|0,d=d+Math.imul(O,Ue)|0,d=d+Math.imul(B,Se)|0,x=x+Math.imul(B,Ue)|0,u=u+Math.imul(T,Ie)|0,d=d+Math.imul(T,Ne)|0,d=d+Math.imul(k,Ie)|0,x=x+Math.imul(k,Ne)|0;var ni=(v+u|0)+((d&8191)<<13)|0;v=(x+(d>>>13)|0)+(ni>>>26)|0,ni&=67108863,u=Math.imul(ye,be),d=Math.imul(ye,De),d=d+Math.imul(Te,be)|0,x=Math.imul(Te,De),u=u+Math.imul(le,we)|0,d=d+Math.imul(le,Re)|0,d=d+Math.imul(Me,we)|0,x=x+Math.imul(Me,Re)|0,u=u+Math.imul(de,_e)|0,d=d+Math.imul(de,Pe)|0,d=d+Math.imul(me,_e)|0,x=x+Math.imul(me,Pe)|0,u=u+Math.imul(se,xe)|0,d=d+Math.imul(se,Le)|0,d=d+Math.imul(ue,xe)|0,x=x+Math.imul(ue,Le)|0,u=u+Math.imul(J,Ee)|0,d=d+Math.imul(J,qe)|0,d=d+Math.imul(X,Ee)|0,x=x+Math.imul(X,qe)|0,u=u+Math.imul(j,Ae)|0,d=d+Math.imul(j,Fe)|0,d=d+Math.imul(H,Ae)|0,x=x+Math.imul(H,Fe)|0,u=u+Math.imul(U,Se)|0,d=d+Math.imul(U,Ue)|0,d=d+Math.imul(F,Se)|0,x=x+Math.imul(F,Ue)|0,u=u+Math.imul(O,Ie)|0,d=d+Math.imul(O,Ne)|0,d=d+Math.imul(B,Ie)|0,x=x+Math.imul(B,Ne)|0;var si=(v+u|0)+((d&8191)<<13)|0;v=(x+(d>>>13)|0)+(si>>>26)|0,si&=67108863,u=Math.imul(ye,we),d=Math.imul(ye,Re),d=d+Math.imul(Te,we)|0,x=Math.imul(Te,Re),u=u+Math.imul(le,_e)|0,d=d+Math.imul(le,Pe)|0,d=d+Math.imul(Me,_e)|0,x=x+Math.imul(Me,Pe)|0,u=u+Math.imul(de,xe)|0,d=d+Math.imul(de,Le)|0,d=d+Math.imul(me,xe)|0,x=x+Math.imul(me,Le)|0,u=u+Math.imul(se,Ee)|0,d=d+Math.imul(se,qe)|0,d=d+Math.imul(ue,Ee)|0,x=x+Math.imul(ue,qe)|0,u=u+Math.imul(J,Ae)|0,d=d+Math.imul(J,Fe)|0,d=d+Math.imul(X,Ae)|0,x=x+Math.imul(X,Fe)|0,u=u+Math.imul(j,Se)|0,d=d+Math.imul(j,Ue)|0,d=d+Math.imul(H,Se)|0,x=x+Math.imul(H,Ue)|0,u=u+Math.imul(U,Ie)|0,d=d+Math.imul(U,Ne)|0,d=d+Math.imul(F,Ie)|0,x=x+Math.imul(F,Ne)|0;var oi=(v+u|0)+((d&8191)<<13)|0;v=(x+(d>>>13)|0)+(oi>>>26)|0,oi&=67108863,u=Math.imul(ye,_e),d=Math.imul(ye,Pe),d=d+Math.imul(Te,_e)|0,x=Math.imul(Te,Pe),u=u+Math.imul(le,xe)|0,d=d+Math.imul(le,Le)|0,d=d+Math.imul(Me,xe)|0,x=x+Math.imul(Me,Le)|0,u=u+Math.imul(de,Ee)|0,d=d+Math.imul(de,qe)|0,d=d+Math.imul(me,Ee)|0,x=x+Math.imul(me,qe)|0,u=u+Math.imul(se,Ae)|0,d=d+Math.imul(se,Fe)|0,d=d+Math.imul(ue,Ae)|0,x=x+Math.imul(ue,Fe)|0,u=u+Math.imul(J,Se)|0,d=d+Math.imul(J,Ue)|0,d=d+Math.imul(X,Se)|0,x=x+Math.imul(X,Ue)|0,u=u+Math.imul(j,Ie)|0,d=d+Math.imul(j,Ne)|0,d=d+Math.imul(H,Ie)|0,x=x+Math.imul(H,Ne)|0;var ai=(v+u|0)+((d&8191)<<13)|0;v=(x+(d>>>13)|0)+(ai>>>26)|0,ai&=67108863,u=Math.imul(ye,xe),d=Math.imul(ye,Le),d=d+Math.imul(Te,xe)|0,x=Math.imul(Te,Le),u=u+Math.imul(le,Ee)|0,d=d+Math.imul(le,qe)|0,d=d+Math.imul(Me,Ee)|0,x=x+Math.imul(Me,qe)|0,u=u+Math.imul(de,Ae)|0,d=d+Math.imul(de,Fe)|0,d=d+Math.imul(me,Ae)|0,x=x+Math.imul(me,Fe)|0,u=u+Math.imul(se,Se)|0,d=d+Math.imul(se,Ue)|0,d=d+Math.imul(ue,Se)|0,x=x+Math.imul(ue,Ue)|0,u=u+Math.imul(J,Ie)|0,d=d+Math.imul(J,Ne)|0,d=d+Math.imul(X,Ie)|0,x=x+Math.imul(X,Ne)|0;var fi=(v+u|0)+((d&8191)<<13)|0;v=(x+(d>>>13)|0)+(fi>>>26)|0,fi&=67108863,u=Math.imul(ye,Ee),d=Math.imul(ye,qe),d=d+Math.imul(Te,Ee)|0,x=Math.imul(Te,qe),u=u+Math.imul(le,Ae)|0,d=d+Math.imul(le,Fe)|0,d=d+Math.imul(Me,Ae)|0,x=x+Math.imul(Me,Fe)|0,u=u+Math.imul(de,Se)|0,d=d+Math.imul(de,Ue)|0,d=d+Math.imul(me,Se)|0,x=x+Math.imul(me,Ue)|0,u=u+Math.imul(se,Ie)|0,d=d+Math.imul(se,Ne)|0,d=d+Math.imul(ue,Ie)|0,x=x+Math.imul(ue,Ne)|0;var ui=(v+u|0)+((d&8191)<<13)|0;v=(x+(d>>>13)|0)+(ui>>>26)|0,ui&=67108863,u=Math.imul(ye,Ae),d=Math.imul(ye,Fe),d=d+Math.imul(Te,Ae)|0,x=Math.imul(Te,Fe),u=u+Math.imul(le,Se)|0,d=d+Math.imul(le,Ue)|0,d=d+Math.imul(Me,Se)|0,x=x+Math.imul(Me,Ue)|0,u=u+Math.imul(de,Ie)|0,d=d+Math.imul(de,Ne)|0,d=d+Math.imul(me,Ie)|0,x=x+Math.imul(me,Ne)|0;var ci=(v+u|0)+((d&8191)<<13)|0;v=(x+(d>>>13)|0)+(ci>>>26)|0,ci&=67108863,u=Math.imul(ye,Se),d=Math.imul(ye,Ue),d=d+Math.imul(Te,Se)|0,x=Math.imul(Te,Ue),u=u+Math.imul(le,Ie)|0,d=d+Math.imul(le,Ne)|0,d=d+Math.imul(Me,Ie)|0,x=x+Math.imul(Me,Ne)|0;var hi=(v+u|0)+((d&8191)<<13)|0;v=(x+(d>>>13)|0)+(hi>>>26)|0,hi&=67108863,u=Math.imul(ye,Ie),d=Math.imul(ye,Ne),d=d+Math.imul(Te,Ie)|0,x=Math.imul(Te,Ne);var wn=(v+u|0)+((d&8191)<<13)|0;return v=(x+(d>>>13)|0)+(wn>>>26)|0,wn&=67108863,m[0]=gr,m[1]=Ge,m[2]=Qe,m[3]=tr,m[4]=rr,m[5]=ir,m[6]=nr,m[7]=sr,m[8]=ri,m[9]=ii,m[10]=ni,m[11]=si,m[12]=oi,m[13]=ai,m[14]=fi,m[15]=ui,m[16]=ci,m[17]=hi,m[18]=wn,v!==0&&(m[19]=v,g.length++),g};Math.imul||(R=L);function V(w,p,_){_.negative=p.negative^w.negative,_.length=w.length+p.length;for(var g=0,a=0,c=0;c<_.length-1;c++){var m=a;a=0;for(var v=g&67108863,u=Math.min(c,p.length-1),d=Math.max(0,c-w.length+1);d<=u;d++){var x=c-d,A=w.words[x]|0,h=p.words[d]|0,S=A*h,K=S&67108863;m=m+(S/67108864|0)|0,K=K+v|0,v=K&67108863,m=m+(K>>>26)|0,a+=m>>>26,m&=67108863}_.words[c]=v,g=m,m=a}return g!==0?_.words[c]=g:_.length--,_.strip()}function W(w,p,_){var g=new $;return g.mulp(w,p,_)}n.prototype.mulTo=function(p,_){var g,a=this.length+p.length;return this.length===10&&p.length===10?g=R(this,p,_):a<63?g=L(this,p,_):a<1024?g=V(this,p,_):g=W(this,p,_),g};function $(w,p){this.x=w,this.y=p}$.prototype.makeRBT=function(p){for(var _=new Array(p),g=n.prototype._countBits(p)-1,a=0;a<p;a++)_[a]=this.revBin(a,g,p);return _},$.prototype.revBin=function(p,_,g){if(p===0||p===g-1)return p;for(var a=0,c=0;c<_;c++)a|=(p&1)<<_-c-1,p>>=1;return a},$.prototype.permute=function(p,_,g,a,c,m){for(var v=0;v<m;v++)a[v]=_[p[v]],c[v]=g[p[v]]},$.prototype.transform=function(p,_,g,a,c,m){this.permute(m,p,_,g,a,c);for(var v=1;v<c;v<<=1)for(var u=v<<1,d=Math.cos(2*Math.PI/u),x=Math.sin(2*Math.PI/u),A=0;A<c;A+=u)for(var h=d,S=x,K=0;K<v;K++){var T=g[A+K],k=a[A+K],z=g[A+K+v],O=a[A+K+v],B=h*z-S*O;O=h*O+S*z,z=B,g[A+K]=T+z,a[A+K]=k+O,g[A+K+v]=T-z,a[A+K+v]=k-O,K!==u&&(B=d*h-x*S,S=d*S+x*h,h=B)}},$.prototype.guessLen13b=function(p,_){var g=Math.max(_,p)|1,a=g&1,c=0;for(g=g/2|0;g;g=g>>>1)c++;return 1<<c+1+a},$.prototype.conjugate=function(p,_,g){if(!(g<=1))for(var a=0;a<g/2;a++){var c=p[a];p[a]=p[g-a-1],p[g-a-1]=c,c=_[a],_[a]=-_[g-a-1],_[g-a-1]=-c}},$.prototype.normalize13b=function(p,_){for(var g=0,a=0;a<_/2;a++){var c=Math.round(p[2*a+1]/_)*8192+Math.round(p[2*a]/_)+g;p[a]=c&67108863,c<67108864?g=0:g=c/67108864|0}return p},$.prototype.convert13b=function(p,_,g,a){for(var c=0,m=0;m<_;m++)c=c+(p[m]|0),g[2*m]=c&8191,c=c>>>13,g[2*m+1]=c&8191,c=c>>>13;for(m=2*_;m<a;++m)g[m]=0;r(c===0),r((c&-8192)===0)},$.prototype.stub=function(p){for(var _=new Array(p),g=0;g<p;g++)_[g]=0;return _},$.prototype.mulp=function(p,_,g){var a=2*this.guessLen13b(p.length,_.length),c=this.makeRBT(a),m=this.stub(a),v=new Array(a),u=new Array(a),d=new Array(a),x=new Array(a),A=new Array(a),h=new Array(a),S=g.words;S.length=a,this.convert13b(p.words,p.length,v,a),this.convert13b(_.words,_.length,x,a),this.transform(v,m,u,d,a,c),this.transform(x,m,A,h,a,c);for(var K=0;K<a;K++){var T=u[K]*A[K]-d[K]*h[K];d[K]=u[K]*h[K]+d[K]*A[K],u[K]=T}return this.conjugate(u,d,a),this.transform(u,d,S,m,a,c),this.conjugate(S,m,a),this.normalize13b(S,a),g.negative=p.negative^_.negative,g.length=p.length+_.length,g.strip()},n.prototype.mul=function(p){var _=new n(null);return _.words=new Array(this.length+p.length),this.mulTo(p,_)},n.prototype.mulf=function(p){var _=new n(null);return _.words=new Array(this.length+p.length),W(this,p,_)},n.prototype.imul=function(p){return this.clone().mulTo(p,this)},n.prototype.imuln=function(p){r(typeof p=="number"),r(p<67108864);for(var _=0,g=0;g<this.length;g++){var a=(this.words[g]|0)*p,c=(a&67108863)+(_&67108863);_>>=26,_+=a/67108864|0,_+=c>>>26,this.words[g]=c&67108863}return _!==0&&(this.words[g]=_,this.length++),this},n.prototype.muln=function(p){return this.clone().imuln(p)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(p){var _=N(p);if(_.length===0)return new n(1);for(var g=this,a=0;a<_.length&&_[a]===0;a++,g=g.sqr());if(++a<_.length)for(var c=g.sqr();a<_.length;a++,c=c.sqr())_[a]!==0&&(g=g.mul(c));return g},n.prototype.iushln=function(p){r(typeof p=="number"&&p>=0);var _=p%26,g=(p-_)/26,a=67108863>>>26-_<<26-_,c;if(_!==0){var m=0;for(c=0;c<this.length;c++){var v=this.words[c]&a,u=(this.words[c]|0)-v<<_;this.words[c]=u|m,m=v>>>26-_}m&&(this.words[c]=m,this.length++)}if(g!==0){for(c=this.length-1;c>=0;c--)this.words[c+g]=this.words[c];for(c=0;c<g;c++)this.words[c]=0;this.length+=g}return this.strip()},n.prototype.ishln=function(p){return r(this.negative===0),this.iushln(p)},n.prototype.iushrn=function(p,_,g){r(typeof p=="number"&&p>=0);var a;_?a=(_-_%26)/26:a=0;var c=p%26,m=Math.min((p-c)/26,this.length),v=67108863^67108863>>>c<<c,u=g;if(a-=m,a=Math.max(0,a),u){for(var d=0;d<m;d++)u.words[d]=this.words[d];u.length=m}if(m!==0)if(this.length>m)for(this.length-=m,d=0;d<this.length;d++)this.words[d]=this.words[d+m];else this.words[0]=0,this.length=1;var x=0;for(d=this.length-1;d>=0&&(x!==0||d>=a);d--){var A=this.words[d]|0;this.words[d]=x<<26-c|A>>>c,x=A&v}return u&&x!==0&&(u.words[u.length++]=x),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},n.prototype.ishrn=function(p,_,g){return r(this.negative===0),this.iushrn(p,_,g)},n.prototype.shln=function(p){return this.clone().ishln(p)},n.prototype.ushln=function(p){return this.clone().iushln(p)},n.prototype.shrn=function(p){return this.clone().ishrn(p)},n.prototype.ushrn=function(p){return this.clone().iushrn(p)},n.prototype.testn=function(p){r(typeof p=="number"&&p>=0);var _=p%26,g=(p-_)/26,a=1<<_;if(this.length<=g)return!1;var c=this.words[g];return!!(c&a)},n.prototype.imaskn=function(p){r(typeof p=="number"&&p>=0);var _=p%26,g=(p-_)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=g)return this;if(_!==0&&g++,this.length=Math.min(g,this.length),_!==0){var a=67108863^67108863>>>_<<_;this.words[this.length-1]&=a}return this.strip()},n.prototype.maskn=function(p){return this.clone().imaskn(p)},n.prototype.iaddn=function(p){return r(typeof p=="number"),r(p<67108864),p<0?this.isubn(-p):this.negative!==0?this.length===1&&(this.words[0]|0)<p?(this.words[0]=p-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(p),this.negative=1,this):this._iaddn(p)},n.prototype._iaddn=function(p){this.words[0]+=p;for(var _=0;_<this.length&&this.words[_]>=67108864;_++)this.words[_]-=67108864,_===this.length-1?this.words[_+1]=1:this.words[_+1]++;return this.length=Math.max(this.length,_+1),this},n.prototype.isubn=function(p){if(r(typeof p=="number"),r(p<67108864),p<0)return this.iaddn(-p);if(this.negative!==0)return this.negative=0,this.iaddn(p),this.negative=1,this;if(this.words[0]-=p,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var _=0;_<this.length&&this.words[_]<0;_++)this.words[_]+=67108864,this.words[_+1]-=1;return this.strip()},n.prototype.addn=function(p){return this.clone().iaddn(p)},n.prototype.subn=function(p){return this.clone().isubn(p)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(p,_,g){var a=p.length+g,c;this._expand(a);var m,v=0;for(c=0;c<p.length;c++){m=(this.words[c+g]|0)+v;var u=(p.words[c]|0)*_;m-=u&67108863,v=(m>>26)-(u/67108864|0),this.words[c+g]=m&67108863}for(;c<this.length-g;c++)m=(this.words[c+g]|0)+v,v=m>>26,this.words[c+g]=m&67108863;if(v===0)return this.strip();for(r(v===-1),v=0,c=0;c<this.length;c++)m=-(this.words[c]|0)+v,v=m>>26,this.words[c]=m&67108863;return this.negative=1,this.strip()},n.prototype._wordDiv=function(p,_){var g=this.length-p.length,a=this.clone(),c=p,m=c.words[c.length-1]|0,v=this._countBits(m);g=26-v,g!==0&&(c=c.ushln(g),a.iushln(g),m=c.words[c.length-1]|0);var u=a.length-c.length,d;if(_!=="mod"){d=new n(null),d.length=u+1,d.words=new Array(d.length);for(var x=0;x<d.length;x++)d.words[x]=0}var A=a.clone()._ishlnsubmul(c,1,u);A.negative===0&&(a=A,d&&(d.words[u]=1));for(var h=u-1;h>=0;h--){var S=(a.words[c.length+h]|0)*67108864+(a.words[c.length+h-1]|0);for(S=Math.min(S/m|0,67108863),a._ishlnsubmul(c,S,h);a.negative!==0;)S--,a.negative=0,a._ishlnsubmul(c,1,h),a.isZero()||(a.negative^=1);d&&(d.words[h]=S)}return d&&d.strip(),a.strip(),_!=="div"&&g!==0&&a.iushrn(g),{div:d||null,mod:a}},n.prototype.divmod=function(p,_,g){if(r(!p.isZero()),this.isZero())return{div:new n(0),mod:new n(0)};var a,c,m;return this.negative!==0&&p.negative===0?(m=this.neg().divmod(p,_),_!=="mod"&&(a=m.div.neg()),_!=="div"&&(c=m.mod.neg(),g&&c.negative!==0&&c.iadd(p)),{div:a,mod:c}):this.negative===0&&p.negative!==0?(m=this.divmod(p.neg(),_),_!=="mod"&&(a=m.div.neg()),{div:a,mod:m.mod}):(this.negative&p.negative)!==0?(m=this.neg().divmod(p.neg(),_),_!=="div"&&(c=m.mod.neg(),g&&c.negative!==0&&c.isub(p)),{div:m.div,mod:c}):p.length>this.length||this.cmp(p)<0?{div:new n(0),mod:this}:p.length===1?_==="div"?{div:this.divn(p.words[0]),mod:null}:_==="mod"?{div:null,mod:new n(this.modn(p.words[0]))}:{div:this.divn(p.words[0]),mod:new n(this.modn(p.words[0]))}:this._wordDiv(p,_)},n.prototype.div=function(p){return this.divmod(p,"div",!1).div},n.prototype.mod=function(p){return this.divmod(p,"mod",!1).mod},n.prototype.umod=function(p){return this.divmod(p,"mod",!0).mod},n.prototype.divRound=function(p){var _=this.divmod(p);if(_.mod.isZero())return _.div;var g=_.div.negative!==0?_.mod.isub(p):_.mod,a=p.ushrn(1),c=p.andln(1),m=g.cmp(a);return m<0||c===1&&m===0?_.div:_.div.negative!==0?_.div.isubn(1):_.div.iaddn(1)},n.prototype.modn=function(p){r(p<=67108863);for(var _=(1<<26)%p,g=0,a=this.length-1;a>=0;a--)g=(_*g+(this.words[a]|0))%p;return g},n.prototype.idivn=function(p){r(p<=67108863);for(var _=0,g=this.length-1;g>=0;g--){var a=(this.words[g]|0)+_*67108864;this.words[g]=a/p|0,_=a%p}return this.strip()},n.prototype.divn=function(p){return this.clone().idivn(p)},n.prototype.egcd=function(p){r(p.negative===0),r(!p.isZero());var _=this,g=p.clone();_.negative!==0?_=_.umod(p):_=_.clone();for(var a=new n(1),c=new n(0),m=new n(0),v=new n(1),u=0;_.isEven()&&g.isEven();)_.iushrn(1),g.iushrn(1),++u;for(var d=g.clone(),x=_.clone();!_.isZero();){for(var A=0,h=1;(_.words[0]&h)===0&&A<26;++A,h<<=1);if(A>0)for(_.iushrn(A);A-- >0;)(a.isOdd()||c.isOdd())&&(a.iadd(d),c.isub(x)),a.iushrn(1),c.iushrn(1);for(var S=0,K=1;(g.words[0]&K)===0&&S<26;++S,K<<=1);if(S>0)for(g.iushrn(S);S-- >0;)(m.isOdd()||v.isOdd())&&(m.iadd(d),v.isub(x)),m.iushrn(1),v.iushrn(1);_.cmp(g)>=0?(_.isub(g),a.isub(m),c.isub(v)):(g.isub(_),m.isub(a),v.isub(c))}return{a:m,b:v,gcd:g.iushln(u)}},n.prototype._invmp=function(p){r(p.negative===0),r(!p.isZero());var _=this,g=p.clone();_.negative!==0?_=_.umod(p):_=_.clone();for(var a=new n(1),c=new n(0),m=g.clone();_.cmpn(1)>0&&g.cmpn(1)>0;){for(var v=0,u=1;(_.words[0]&u)===0&&v<26;++v,u<<=1);if(v>0)for(_.iushrn(v);v-- >0;)a.isOdd()&&a.iadd(m),a.iushrn(1);for(var d=0,x=1;(g.words[0]&x)===0&&d<26;++d,x<<=1);if(d>0)for(g.iushrn(d);d-- >0;)c.isOdd()&&c.iadd(m),c.iushrn(1);_.cmp(g)>=0?(_.isub(g),a.isub(c)):(g.isub(_),c.isub(a))}var A;return _.cmpn(1)===0?A=a:A=c,A.cmpn(0)<0&&A.iadd(p),A},n.prototype.gcd=function(p){if(this.isZero())return p.abs();if(p.isZero())return this.abs();var _=this.clone(),g=p.clone();_.negative=0,g.negative=0;for(var a=0;_.isEven()&&g.isEven();a++)_.iushrn(1),g.iushrn(1);do{for(;_.isEven();)_.iushrn(1);for(;g.isEven();)g.iushrn(1);var c=_.cmp(g);if(c<0){var m=_;_=g,g=m}else if(c===0||g.cmpn(1)===0)break;_.isub(g)}while(!0);return g.iushln(a)},n.prototype.invm=function(p){return this.egcd(p).a.umod(p)},n.prototype.isEven=function(){return(this.words[0]&1)===0},n.prototype.isOdd=function(){return(this.words[0]&1)===1},n.prototype.andln=function(p){return this.words[0]&p},n.prototype.bincn=function(p){r(typeof p=="number");var _=p%26,g=(p-_)/26,a=1<<_;if(this.length<=g)return this._expand(g+1),this.words[g]|=a,this;for(var c=a,m=g;c!==0&&m<this.length;m++){var v=this.words[m]|0;v+=c,c=v>>>26,v&=67108863,this.words[m]=v}return c!==0&&(this.words[m]=c,this.length++),this},n.prototype.isZero=function(){return this.length===1&&this.words[0]===0},n.prototype.cmpn=function(p){var _=p<0;if(this.negative!==0&&!_)return-1;if(this.negative===0&&_)return 1;this.strip();var g;if(this.length>1)g=1;else{_&&(p=-p),r(p<=67108863,"Number is too big");var a=this.words[0]|0;g=a===p?0:a<p?-1:1}return this.negative!==0?-g|0:g},n.prototype.cmp=function(p){if(this.negative!==0&&p.negative===0)return-1;if(this.negative===0&&p.negative!==0)return 1;var _=this.ucmp(p);return this.negative!==0?-_|0:_},n.prototype.ucmp=function(p){if(this.length>p.length)return 1;if(this.length<p.length)return-1;for(var _=0,g=this.length-1;g>=0;g--){var a=this.words[g]|0,c=p.words[g]|0;if(a!==c){a<c?_=-1:a>c&&(_=1);break}}return _},n.prototype.gtn=function(p){return this.cmpn(p)===1},n.prototype.gt=function(p){return this.cmp(p)===1},n.prototype.gten=function(p){return this.cmpn(p)>=0},n.prototype.gte=function(p){return this.cmp(p)>=0},n.prototype.ltn=function(p){return this.cmpn(p)===-1},n.prototype.lt=function(p){return this.cmp(p)===-1},n.prototype.lten=function(p){return this.cmpn(p)<=0},n.prototype.lte=function(p){return this.cmp(p)<=0},n.prototype.eqn=function(p){return this.cmpn(p)===0},n.prototype.eq=function(p){return this.cmp(p)===0},n.red=function(p){return new Q(p)},n.prototype.toRed=function(p){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),p.convertTo(this)._forceRed(p)},n.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(p){return this.red=p,this},n.prototype.forceRed=function(p){return r(!this.red,"Already a number in reduction context"),this._forceRed(p)},n.prototype.redAdd=function(p){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,p)},n.prototype.redIAdd=function(p){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,p)},n.prototype.redSub=function(p){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,p)},n.prototype.redISub=function(p){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,p)},n.prototype.redShl=function(p){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,p)},n.prototype.redMul=function(p){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,p),this.red.mul(this,p)},n.prototype.redIMul=function(p){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,p),this.red.imul(this,p)},n.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(p){return r(this.red&&!p.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,p)};var re={k256:null,p224:null,p192:null,p25519:null};function ee(w,p){this.name=w,this.p=new n(p,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}ee.prototype._tmp=function(){var p=new n(null);return p.words=new Array(Math.ceil(this.n/13)),p},ee.prototype.ireduce=function(p){var _=p,g;do this.split(_,this.tmp),_=this.imulK(_),_=_.iadd(this.tmp),g=_.bitLength();while(g>this.n);var a=g<this.n?-1:_.ucmp(this.p);return a===0?(_.words[0]=0,_.length=1):a>0?_.isub(this.p):_.strip!==void 0?_.strip():_._strip(),_},ee.prototype.split=function(p,_){p.iushrn(this.n,0,_)},ee.prototype.imulK=function(p){return p.imul(this.k)};function ie(){ee.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(ie,ee),ie.prototype.split=function(p,_){for(var g=4194303,a=Math.min(p.length,9),c=0;c<a;c++)_.words[c]=p.words[c];if(_.length=a,p.length<=9){p.words[0]=0,p.length=1;return}var m=p.words[9];for(_.words[_.length++]=m&g,c=10;c<p.length;c++){var v=p.words[c]|0;p.words[c-10]=(v&g)<<4|m>>>22,m=v}m>>>=22,p.words[c-10]=m,m===0&&p.length>10?p.length-=10:p.length-=9},ie.prototype.imulK=function(p){p.words[p.length]=0,p.words[p.length+1]=0,p.length+=2;for(var _=0,g=0;g<p.length;g++){var a=p.words[g]|0;_+=a*977,p.words[g]=_&67108863,_=a*64+(_/67108864|0)}return p.words[p.length-1]===0&&(p.length--,p.words[p.length-1]===0&&p.length--),p};function ne(){ee.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(ne,ee);function Z(){ee.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(Z,ee);function G(){ee.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(G,ee),G.prototype.imulK=function(p){for(var _=0,g=0;g<p.length;g++){var a=(p.words[g]|0)*19+_,c=a&67108863;a>>>=26,p.words[g]=c,_=a}return _!==0&&(p.words[p.length++]=_),p},n._prime=function(p){if(re[p])return re[p];var _;if(p==="k256")_=new ie;else if(p==="p224")_=new ne;else if(p==="p192")_=new Z;else if(p==="p25519")_=new G;else throw new Error("Unknown prime "+p);return re[p]=_,_};function Q(w){if(typeof w=="string"){var p=n._prime(w);this.m=p.p,this.prime=p}else r(w.gtn(1),"modulus must be greater than 1"),this.m=w,this.prime=null}Q.prototype._verify1=function(p){r(p.negative===0,"red works only with positives"),r(p.red,"red works only with red numbers")},Q.prototype._verify2=function(p,_){r((p.negative|_.negative)===0,"red works only with positives"),r(p.red&&p.red===_.red,"red works only with red numbers")},Q.prototype.imod=function(p){return this.prime?this.prime.ireduce(p)._forceRed(this):p.umod(this.m)._forceRed(this)},Q.prototype.neg=function(p){return p.isZero()?p.clone():this.m.sub(p)._forceRed(this)},Q.prototype.add=function(p,_){this._verify2(p,_);var g=p.add(_);return g.cmp(this.m)>=0&&g.isub(this.m),g._forceRed(this)},Q.prototype.iadd=function(p,_){this._verify2(p,_);var g=p.iadd(_);return g.cmp(this.m)>=0&&g.isub(this.m),g},Q.prototype.sub=function(p,_){this._verify2(p,_);var g=p.sub(_);return g.cmpn(0)<0&&g.iadd(this.m),g._forceRed(this)},Q.prototype.isub=function(p,_){this._verify2(p,_);var g=p.isub(_);return g.cmpn(0)<0&&g.iadd(this.m),g},Q.prototype.shl=function(p,_){return this._verify1(p),this.imod(p.ushln(_))},Q.prototype.imul=function(p,_){return this._verify2(p,_),this.imod(p.imul(_))},Q.prototype.mul=function(p,_){return this._verify2(p,_),this.imod(p.mul(_))},Q.prototype.isqr=function(p){return this.imul(p,p.clone())},Q.prototype.sqr=function(p){return this.mul(p,p)},Q.prototype.sqrt=function(p){if(p.isZero())return p.clone();var _=this.m.andln(3);if(r(_%2===1),_===3){var g=this.m.add(new n(1)).iushrn(2);return this.pow(p,g)}for(var a=this.m.subn(1),c=0;!a.isZero()&&a.andln(1)===0;)c++,a.iushrn(1);r(!a.isZero());var m=new n(1).toRed(this),v=m.redNeg(),u=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new n(2*d*d).toRed(this);this.pow(d,u).cmp(v)!==0;)d.redIAdd(v);for(var x=this.pow(d,a),A=this.pow(p,a.addn(1).iushrn(1)),h=this.pow(p,a),S=c;h.cmp(m)!==0;){for(var K=h,T=0;K.cmp(m)!==0;T++)K=K.redSqr();r(T<S);var k=this.pow(x,new n(1).iushln(S-T-1));A=A.redMul(k),x=k.redSqr(),h=h.redMul(x),S=T}return A},Q.prototype.invm=function(p){var _=p._invmp(this.m);return _.negative!==0?(_.negative=0,this.imod(_).redNeg()):this.imod(_)},Q.prototype.pow=function(p,_){if(_.isZero())return new n(1).toRed(this);if(_.cmpn(1)===0)return p.clone();var g=4,a=new Array(1<<g);a[0]=new n(1).toRed(this),a[1]=p;for(var c=2;c<a.length;c++)a[c]=this.mul(a[c-1],p);var m=a[0],v=0,u=0,d=_.bitLength()%26;for(d===0&&(d=26),c=_.length-1;c>=0;c--){for(var x=_.words[c],A=d-1;A>=0;A--){var h=x>>A&1;if(m!==a[0]&&(m=this.sqr(m)),h===0&&v===0){u=0;continue}v<<=1,v|=h,u++,!(u!==g&&(c!==0||A!==0))&&(m=this.mul(m,a[v]),u=0,v=0)}d=26}return m},Q.prototype.convertTo=function(p){var _=p.umod(this.m);return _===p?_.clone():_},Q.prototype.convertFrom=function(p){var _=p.clone();return _.red=null,_},n.mont=function(p){return new P(p)};function P(w){Q.call(this,w),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(P,Q),P.prototype.convertTo=function(p){return this.imod(p.ushln(this.shift))},P.prototype.convertFrom=function(p){var _=this.imod(p.mul(this.rinv));return _.red=null,_},P.prototype.imul=function(p,_){if(p.isZero()||_.isZero())return p.words[0]=0,p.length=1,p;var g=p.imul(_),a=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),c=g.isub(a).iushrn(this.shift),m=c;return c.cmp(this.m)>=0?m=c.isub(this.m):c.cmpn(0)<0&&(m=c.iadd(this.m)),m._forceRed(this)},P.prototype.mul=function(p,_){if(p.isZero()||_.isZero())return new n(0)._forceRed(this);var g=p.mul(_),a=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),c=g.isub(a).iushrn(this.shift),m=c;return c.cmp(this.m)>=0?m=c.isub(this.m):c.cmpn(0)<0&&(m=c.iadd(this.m)),m._forceRed(this)},P.prototype.invm=function(p){var _=this.imod(p._invmp(this.m).mul(this.r2));return _._forceRed(this)}})(typeof b4>"u"||b4,sq)});var w4=D(fq=>{"use strict";y();var rm=fq;function Wfe(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t!="string"){for(var i=0;i<t.length;i++)r[i]=t[i]|0;return r}if(e==="hex"){t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t);for(var i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var i=0;i<t.length;i++){var n=t.charCodeAt(i),s=n>>8,o=n&255;s?r.push(s,o):r.push(o)}return r}rm.toArray=Wfe;function oq(t){return t.length===1?"0"+t:t}rm.zero2=oq;function aq(t){for(var e="",r=0;r<t.length;r++)e+=oq(t[r].toString(16));return e}rm.toHex=aq;rm.encode=function(e,r){return r==="hex"?aq(e):e}});var Li=D(uq=>{"use strict";y();var Ln=uq,$fe=Ns(),Yfe=Pi(),im=w4();Ln.assert=Yfe;Ln.toArray=im.toArray;Ln.zero2=im.zero2;Ln.toHex=im.toHex;Ln.encode=im.encode;function Jfe(t,e,r){var i=new Array(Math.max(t.bitLength(),r)+1);i.fill(0);for(var n=1<<e+1,s=t.clone(),o=0;o<i.length;o++){var f,l=s.andln(n-1);s.isOdd()?(l>(n>>1)-1?f=(n>>1)-l:f=l,s.isubn(f)):f=0,i[o]=f,s.iushrn(1)}return i}Ln.getNAF=Jfe;function Xfe(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var i=0,n=0,s;t.cmpn(-i)>0||e.cmpn(-n)>0;){var o=t.andln(3)+i&3,f=e.andln(3)+n&3;o===3&&(o=-1),f===3&&(f=-1);var l;(o&1)===0?l=0:(s=t.andln(7)+i&7,(s===3||s===5)&&f===2?l=-o:l=o),r[0].push(l);var b;(f&1)===0?b=0:(s=e.andln(7)+n&7,(s===3||s===5)&&o===2?b=-f:b=f),r[1].push(b),2*i===l+1&&(i=1-i),2*n===b+1&&(n=1-n),t.iushrn(1),e.iushrn(1)}return r}Ln.getJSF=Xfe;function Zfe(t,e,r){var i="_"+e;t.prototype[e]=function(){return this[i]!==void 0?this[i]:this[i]=r.call(this)}}Ln.cachedProperty=Zfe;function eue(t){return typeof t=="string"?Ln.toArray(t,"hex"):t}Ln.parseBytes=eue;function tue(t){return new $fe(t,"hex","le")}Ln.intFromLE=tue});var $0=D((sTe,cq)=>{"use strict";y();var Iu=Ns(),W0=Li(),nm=W0.getNAF,rue=W0.getJSF,sm=W0.assert;function Na(t,e){this.type=t,this.p=new Iu(e.p,16),this.red=e.prime?Iu.red(e.prime):Iu.mont(this.p),this.zero=new Iu(0).toRed(this.red),this.one=new Iu(1).toRed(this.red),this.two=new Iu(2).toRed(this.red),this.n=e.n&&new Iu(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}cq.exports=Na;Na.prototype.point=function(){throw new Error("Not implemented")};Na.prototype.validate=function(){throw new Error("Not implemented")};Na.prototype._fixedNafMul=function(e,r){sm(e.precomputed);var i=e._getDoubles(),n=nm(r,1,this._bitLength),s=(1<<i.step+1)-(i.step%2===0?2:1);s/=3;var o=[],f,l;for(f=0;f<n.length;f+=i.step){l=0;for(var b=f+i.step-1;b>=f;b--)l=(l<<1)+n[b];o.push(l)}for(var E=this.jpoint(null,null,null),C=this.jpoint(null,null,null),N=s;N>0;N--){for(f=0;f<o.length;f++)l=o[f],l===N?C=C.mixedAdd(i.points[f]):l===-N&&(C=C.mixedAdd(i.points[f].neg()));E=E.add(C)}return E.toP()};Na.prototype._wnafMul=function(e,r){var i=4,n=e._getNAFPoints(i);i=n.wnd;for(var s=n.points,o=nm(r,i,this._bitLength),f=this.jpoint(null,null,null),l=o.length-1;l>=0;l--){for(var b=0;l>=0&&o[l]===0;l--)b++;if(l>=0&&b++,f=f.dblp(b),l<0)break;var E=o[l];sm(E!==0),e.type==="affine"?E>0?f=f.mixedAdd(s[E-1>>1]):f=f.mixedAdd(s[-E-1>>1].neg()):E>0?f=f.add(s[E-1>>1]):f=f.add(s[-E-1>>1].neg())}return e.type==="affine"?f.toP():f};Na.prototype._wnafMulAdd=function(e,r,i,n,s){var o=this._wnafT1,f=this._wnafT2,l=this._wnafT3,b=0,E,C,N;for(E=0;E<n;E++){N=r[E];var L=N._getNAFPoints(e);o[E]=L.wnd,f[E]=L.points}for(E=n-1;E>=1;E-=2){var R=E-1,V=E;if(o[R]!==1||o[V]!==1){l[R]=nm(i[R],o[R],this._bitLength),l[V]=nm(i[V],o[V],this._bitLength),b=Math.max(l[R].length,b),b=Math.max(l[V].length,b);continue}var W=[r[R],null,null,r[V]];r[R].y.cmp(r[V].y)===0?(W[1]=r[R].add(r[V]),W[2]=r[R].toJ().mixedAdd(r[V].neg())):r[R].y.cmp(r[V].y.redNeg())===0?(W[1]=r[R].toJ().mixedAdd(r[V]),W[2]=r[R].add(r[V].neg())):(W[1]=r[R].toJ().mixedAdd(r[V]),W[2]=r[R].toJ().mixedAdd(r[V].neg()));var $=[-3,-1,-5,-7,0,7,5,1,3],re=rue(i[R],i[V]);for(b=Math.max(re[0].length,b),l[R]=new Array(b),l[V]=new Array(b),C=0;C<b;C++){var ee=re[0][C]|0,ie=re[1][C]|0;l[R][C]=$[(ee+1)*3+(ie+1)],l[V][C]=0,f[R]=W}}var ne=this.jpoint(null,null,null),Z=this._wnafT4;for(E=b;E>=0;E--){for(var G=0;E>=0;){var Q=!0;for(C=0;C<n;C++)Z[C]=l[C][E]|0,Z[C]!==0&&(Q=!1);if(!Q)break;G++,E--}if(E>=0&&G++,ne=ne.dblp(G),E<0)break;for(C=0;C<n;C++){var P=Z[C];P!==0&&(P>0?N=f[C][P-1>>1]:P<0&&(N=f[C][-P-1>>1].neg()),N.type==="affine"?ne=ne.mixedAdd(N):ne=ne.add(N))}}for(E=0;E<n;E++)f[E]=null;return s?ne:ne.toP()};function cn(t,e){this.curve=t,this.type=e,this.precomputed=null}Na.BasePoint=cn;cn.prototype.eq=function(){throw new Error("Not implemented")};cn.prototype.validate=function(){return this.curve.validate(this)};Na.prototype.decodePoint=function(e,r){e=W0.toArray(e,r);var i=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*i){e[0]===6?sm(e[e.length-1]%2===0):e[0]===7&&sm(e[e.length-1]%2===1);var n=this.point(e.slice(1,1+i),e.slice(1+i,1+2*i));return n}else if((e[0]===2||e[0]===3)&&e.length-1===i)return this.pointFromX(e.slice(1,1+i),e[0]===3);throw new Error("Unknown point format")};cn.prototype.encodeCompressed=function(e){return this.encode(e,!0)};cn.prototype._encode=function(e){var r=this.curve.p.byteLength(),i=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(i):[4].concat(i,this.getY().toArray("be",r))};cn.prototype.encode=function(e,r){return W0.encode(this._encode(r),e)};cn.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};cn.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};cn.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var i=[this],n=this,s=0;s<r;s+=e){for(var o=0;o<e;o++)n=n.dbl();i.push(n)}return{step:e,points:i}};cn.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],i=(1<<e)-1,n=i===1?null:this.dbl(),s=1;s<i;s++)r[s]=r[s-1].add(n);return{wnd:e,points:r}};cn.prototype._getBeta=function(){return null};cn.prototype.dblp=function(e){for(var r=this,i=0;i<e;i++)r=r.dbl();return r}});var lq=D((aTe,hq)=>{"use strict";y();var iue=Li(),$t=Ns(),_4=Ze(),rl=$0(),nue=iue.assert;function hn(t){rl.call(this,"short",t),this.a=new $t(t.a,16).toRed(this.red),this.b=new $t(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}_4(hn,rl);hq.exports=hn;hn.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,i;if(e.beta)r=new $t(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);r=n[0].cmp(n[1])<0?n[0]:n[1],r=r.toRed(this.red)}if(e.lambda)i=new $t(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?i=s[0]:(i=s[1],nue(this.g.mul(i).x.cmp(this.g.x.redMul(r))===0))}var o;return e.basis?o=e.basis.map(function(f){return{a:new $t(f.a,16),b:new $t(f.b,16)}}):o=this._getEndoBasis(i),{beta:r,lambda:i,basis:o}}};hn.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:$t.mont(e),i=new $t(2).toRed(r).redInvm(),n=i.redNeg(),s=new $t(3).toRed(r).redNeg().redSqrt().redMul(i),o=n.redAdd(s).fromRed(),f=n.redSub(s).fromRed();return[o,f]};hn.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),i=e,n=this.n.clone(),s=new $t(1),o=new $t(0),f=new $t(0),l=new $t(1),b,E,C,N,L,R,V,W=0,$,re;i.cmpn(0)!==0;){var ee=n.div(i);$=n.sub(ee.mul(i)),re=f.sub(ee.mul(s));var ie=l.sub(ee.mul(o));if(!C&&$.cmp(r)<0)b=V.neg(),E=s,C=$.neg(),N=re;else if(C&&++W===2)break;V=$,n=i,i=$,f=s,s=re,l=o,o=ie}L=$.neg(),R=re;var ne=C.sqr().add(N.sqr()),Z=L.sqr().add(R.sqr());return Z.cmp(ne)>=0&&(L=b,R=E),C.negative&&(C=C.neg(),N=N.neg()),L.negative&&(L=L.neg(),R=R.neg()),[{a:C,b:N},{a:L,b:R}]};hn.prototype._endoSplit=function(e){var r=this.endo.basis,i=r[0],n=r[1],s=n.b.mul(e).divRound(this.n),o=i.b.neg().mul(e).divRound(this.n),f=s.mul(i.a),l=o.mul(n.a),b=s.mul(i.b),E=o.mul(n.b),C=e.sub(f).sub(l),N=b.add(E).neg();return{k1:C,k2:N}};hn.prototype.pointFromX=function(e,r){e=new $t(e,16),e.red||(e=e.toRed(this.red));var i=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=i.redSqrt();if(n.redSqr().redSub(i).cmp(this.zero)!==0)throw new Error("invalid point");var s=n.fromRed().isOdd();return(r&&!s||!r&&s)&&(n=n.redNeg()),this.point(e,n)};hn.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,i=e.y,n=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(n).redIAdd(this.b);return i.redSqr().redISub(s).cmpn(0)===0};hn.prototype._endoWnafMulAdd=function(e,r,i){for(var n=this._endoWnafT1,s=this._endoWnafT2,o=0;o<e.length;o++){var f=this._endoSplit(r[o]),l=e[o],b=l._getBeta();f.k1.negative&&(f.k1.ineg(),l=l.neg(!0)),f.k2.negative&&(f.k2.ineg(),b=b.neg(!0)),n[o*2]=l,n[o*2+1]=b,s[o*2]=f.k1,s[o*2+1]=f.k2}for(var E=this._wnafMulAdd(1,n,s,o*2,i),C=0;C<o*2;C++)n[C]=null,s[C]=null;return E};function Er(t,e,r,i){rl.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new $t(e,16),this.y=new $t(r,16),i&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}_4(Er,rl.BasePoint);hn.prototype.point=function(e,r,i){return new Er(this,e,r,i)};hn.prototype.pointFromJSON=function(e,r){return Er.fromJSON(this,e,r)};Er.prototype._getBeta=function(){if(!!this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var i=this.curve,n=function(s){return i.point(s.x.redMul(i.endo.beta),s.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return r}};Er.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Er.fromJSON=function(e,r,i){typeof r=="string"&&(r=JSON.parse(r));var n=e.point(r[0],r[1],i);if(!r[2])return n;function s(f){return e.point(f[0],f[1],i)}var o=r[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(s))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(s))}},n};Er.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Er.prototype.isInfinity=function(){return this.inf};Er.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var i=r.redSqr().redISub(this.x).redISub(e.x),n=r.redMul(this.x.redSub(i)).redISub(this.y);return this.curve.point(i,n)};Er.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,i=this.x.redSqr(),n=e.redInvm(),s=i.redAdd(i).redIAdd(i).redIAdd(r).redMul(n),o=s.redSqr().redISub(this.x.redAdd(this.x)),f=s.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,f)};Er.prototype.getX=function(){return this.x.fromRed()};Er.prototype.getY=function(){return this.y.fromRed()};Er.prototype.mul=function(e){return e=new $t(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};Er.prototype.mulAdd=function(e,r,i){var n=[this,r],s=[e,i];return this.curve.endo?this.curve._endoWnafMulAdd(n,s):this.curve._wnafMulAdd(1,n,s,2)};Er.prototype.jmulAdd=function(e,r,i){var n=[this,r],s=[e,i];return this.curve.endo?this.curve._endoWnafMulAdd(n,s,!0):this.curve._wnafMulAdd(1,n,s,2,!0)};Er.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Er.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var i=this.precomputed,n=function(s){return s.neg()};r.precomputed={naf:i.naf&&{wnd:i.naf.wnd,points:i.naf.points.map(n)},doubles:i.doubles&&{step:i.doubles.step,points:i.doubles.points.map(n)}}}return r};Er.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function Fr(t,e,r,i){rl.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&i===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new $t(0)):(this.x=new $t(e,16),this.y=new $t(r,16),this.z=new $t(i,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}_4(Fr,rl.BasePoint);hn.prototype.jpoint=function(e,r,i){return new Fr(this,e,r,i)};Fr.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),i=this.x.redMul(r),n=this.y.redMul(r).redMul(e);return this.curve.point(i,n)};Fr.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};Fr.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),i=this.z.redSqr(),n=this.x.redMul(r),s=e.x.redMul(i),o=this.y.redMul(r.redMul(e.z)),f=e.y.redMul(i.redMul(this.z)),l=n.redSub(s),b=o.redSub(f);if(l.cmpn(0)===0)return b.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var E=l.redSqr(),C=E.redMul(l),N=n.redMul(E),L=b.redSqr().redIAdd(C).redISub(N).redISub(N),R=b.redMul(N.redISub(L)).redISub(o.redMul(C)),V=this.z.redMul(e.z).redMul(l);return this.curve.jpoint(L,R,V)};Fr.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),i=this.x,n=e.x.redMul(r),s=this.y,o=e.y.redMul(r).redMul(this.z),f=i.redSub(n),l=s.redSub(o);if(f.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var b=f.redSqr(),E=b.redMul(f),C=i.redMul(b),N=l.redSqr().redIAdd(E).redISub(C).redISub(C),L=l.redMul(C.redISub(N)).redISub(s.redMul(E)),R=this.z.redMul(f);return this.curve.jpoint(N,L,R)};Fr.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var i=this;for(r=0;r<e;r++)i=i.dbl();return i}var n=this.curve.a,s=this.curve.tinv,o=this.x,f=this.y,l=this.z,b=l.redSqr().redSqr(),E=f.redAdd(f);for(r=0;r<e;r++){var C=o.redSqr(),N=E.redSqr(),L=N.redSqr(),R=C.redAdd(C).redIAdd(C).redIAdd(n.redMul(b)),V=o.redMul(N),W=R.redSqr().redISub(V.redAdd(V)),$=V.redISub(W),re=R.redMul($);re=re.redIAdd(re).redISub(L);var ee=E.redMul(l);r+1<e&&(b=b.redMul(L)),o=W,l=ee,E=re}return this.curve.jpoint(o,E.redMul(s),l)};Fr.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};Fr.prototype._zeroDbl=function(){var e,r,i;if(this.zOne){var n=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),f=this.x.redAdd(s).redSqr().redISub(n).redISub(o);f=f.redIAdd(f);var l=n.redAdd(n).redIAdd(n),b=l.redSqr().redISub(f).redISub(f),E=o.redIAdd(o);E=E.redIAdd(E),E=E.redIAdd(E),e=b,r=l.redMul(f.redISub(b)).redISub(E),i=this.y.redAdd(this.y)}else{var C=this.x.redSqr(),N=this.y.redSqr(),L=N.redSqr(),R=this.x.redAdd(N).redSqr().redISub(C).redISub(L);R=R.redIAdd(R);var V=C.redAdd(C).redIAdd(C),W=V.redSqr(),$=L.redIAdd(L);$=$.redIAdd($),$=$.redIAdd($),e=W.redISub(R).redISub(R),r=V.redMul(R.redISub(e)).redISub($),i=this.y.redMul(this.z),i=i.redIAdd(i)}return this.curve.jpoint(e,r,i)};Fr.prototype._threeDbl=function(){var e,r,i;if(this.zOne){var n=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),f=this.x.redAdd(s).redSqr().redISub(n).redISub(o);f=f.redIAdd(f);var l=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),b=l.redSqr().redISub(f).redISub(f);e=b;var E=o.redIAdd(o);E=E.redIAdd(E),E=E.redIAdd(E),r=l.redMul(f.redISub(b)).redISub(E),i=this.y.redAdd(this.y)}else{var C=this.z.redSqr(),N=this.y.redSqr(),L=this.x.redMul(N),R=this.x.redSub(C).redMul(this.x.redAdd(C));R=R.redAdd(R).redIAdd(R);var V=L.redIAdd(L);V=V.redIAdd(V);var W=V.redAdd(V);e=R.redSqr().redISub(W),i=this.y.redAdd(this.z).redSqr().redISub(N).redISub(C);var $=N.redSqr();$=$.redIAdd($),$=$.redIAdd($),$=$.redIAdd($),r=R.redMul(V.redISub(e)).redISub($)}return this.curve.jpoint(e,r,i)};Fr.prototype._dbl=function(){var e=this.curve.a,r=this.x,i=this.y,n=this.z,s=n.redSqr().redSqr(),o=r.redSqr(),f=i.redSqr(),l=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(s)),b=r.redAdd(r);b=b.redIAdd(b);var E=b.redMul(f),C=l.redSqr().redISub(E.redAdd(E)),N=E.redISub(C),L=f.redSqr();L=L.redIAdd(L),L=L.redIAdd(L),L=L.redIAdd(L);var R=l.redMul(N).redISub(L),V=i.redAdd(i).redMul(n);return this.curve.jpoint(C,R,V)};Fr.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),i=this.z.redSqr(),n=r.redSqr(),s=e.redAdd(e).redIAdd(e),o=s.redSqr(),f=this.x.redAdd(r).redSqr().redISub(e).redISub(n);f=f.redIAdd(f),f=f.redAdd(f).redIAdd(f),f=f.redISub(o);var l=f.redSqr(),b=n.redIAdd(n);b=b.redIAdd(b),b=b.redIAdd(b),b=b.redIAdd(b);var E=s.redIAdd(f).redSqr().redISub(o).redISub(l).redISub(b),C=r.redMul(E);C=C.redIAdd(C),C=C.redIAdd(C);var N=this.x.redMul(l).redISub(C);N=N.redIAdd(N),N=N.redIAdd(N);var L=this.y.redMul(E.redMul(b.redISub(E)).redISub(f.redMul(l)));L=L.redIAdd(L),L=L.redIAdd(L),L=L.redIAdd(L);var R=this.z.redAdd(f).redSqr().redISub(i).redISub(l);return this.curve.jpoint(N,L,R)};Fr.prototype.mul=function(e,r){return e=new $t(e,r),this.curve._wnafMul(this,e)};Fr.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),i=e.z.redSqr();if(this.x.redMul(i).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var n=r.redMul(this.z),s=i.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(n)).cmpn(0)===0};Fr.prototype.eqXToP=function(e){var r=this.z.redSqr(),i=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(i)===0)return!0;for(var n=e.clone(),s=this.curve.redN.redMul(r);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(i.redIAdd(s),this.x.cmp(i)===0)return!0}};Fr.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};Fr.prototype.isInfinity=function(){return this.z.cmpn(0)===0}});var gq=D((uTe,pq)=>{"use strict";y();var il=Ns(),dq=Ze(),om=$0(),sue=Li();function nl(t){om.call(this,"mont",t),this.a=new il(t.a,16).toRed(this.red),this.b=new il(t.b,16).toRed(this.red),this.i4=new il(4).toRed(this.red).redInvm(),this.two=new il(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}dq(nl,om);pq.exports=nl;nl.prototype.validate=function(e){var r=e.normalize().x,i=r.redSqr(),n=i.redMul(r).redAdd(i.redMul(this.a)).redAdd(r),s=n.redSqrt();return s.redSqr().cmp(n)===0};function Ar(t,e,r){om.BasePoint.call(this,t,"projective"),e===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new il(e,16),this.z=new il(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}dq(Ar,om.BasePoint);nl.prototype.decodePoint=function(e,r){return this.point(sue.toArray(e,r),1)};nl.prototype.point=function(e,r){return new Ar(this,e,r)};nl.prototype.pointFromJSON=function(e){return Ar.fromJSON(this,e)};Ar.prototype.precompute=function(){};Ar.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};Ar.fromJSON=function(e,r){return new Ar(e,r[0],r[1]||e.one)};Ar.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Ar.prototype.isInfinity=function(){return this.z.cmpn(0)===0};Ar.prototype.dbl=function(){var e=this.x.redAdd(this.z),r=e.redSqr(),i=this.x.redSub(this.z),n=i.redSqr(),s=r.redSub(n),o=r.redMul(n),f=s.redMul(n.redAdd(this.curve.a24.redMul(s)));return this.curve.point(o,f)};Ar.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};Ar.prototype.diffAdd=function(e,r){var i=this.x.redAdd(this.z),n=this.x.redSub(this.z),s=e.x.redAdd(e.z),o=e.x.redSub(e.z),f=o.redMul(i),l=s.redMul(n),b=r.z.redMul(f.redAdd(l).redSqr()),E=r.x.redMul(f.redISub(l).redSqr());return this.curve.point(b,E)};Ar.prototype.mul=function(e){for(var r=e.clone(),i=this,n=this.curve.point(null,null),s=this,o=[];r.cmpn(0)!==0;r.iushrn(1))o.push(r.andln(1));for(var f=o.length-1;f>=0;f--)o[f]===0?(i=i.diffAdd(n,s),n=n.dbl()):(n=i.diffAdd(n,s),i=i.dbl());return n};Ar.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};Ar.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};Ar.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};Ar.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};Ar.prototype.getX=function(){return this.normalize(),this.x.fromRed()}});var mq=D((hTe,yq)=>{"use strict";y();var oue=Li(),mo=Ns(),vq=Ze(),am=$0(),aue=oue.assert;function Bs(t){this.twisted=(t.a|0)!==1,this.mOneA=this.twisted&&(t.a|0)===-1,this.extended=this.mOneA,am.call(this,"edwards",t),this.a=new mo(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new mo(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new mo(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),aue(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(t.c|0)===1}vq(Bs,am);yq.exports=Bs;Bs.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};Bs.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};Bs.prototype.jpoint=function(e,r,i,n){return this.point(e,r,i,n)};Bs.prototype.pointFromX=function(e,r){e=new mo(e,16),e.red||(e=e.toRed(this.red));var i=e.redSqr(),n=this.c2.redSub(this.a.redMul(i)),s=this.one.redSub(this.c2.redMul(this.d).redMul(i)),o=n.redMul(s.redInvm()),f=o.redSqrt();if(f.redSqr().redSub(o).cmp(this.zero)!==0)throw new Error("invalid point");var l=f.fromRed().isOdd();return(r&&!l||!r&&l)&&(f=f.redNeg()),this.point(e,f)};Bs.prototype.pointFromY=function(e,r){e=new mo(e,16),e.red||(e=e.toRed(this.red));var i=e.redSqr(),n=i.redSub(this.c2),s=i.redMul(this.d).redMul(this.c2).redSub(this.a),o=n.redMul(s.redInvm());if(o.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,e)}var f=o.redSqrt();if(f.redSqr().redSub(o).cmp(this.zero)!==0)throw new Error("invalid point");return f.fromRed().isOdd()!==r&&(f=f.redNeg()),this.point(f,e)};Bs.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var r=e.x.redSqr(),i=e.y.redSqr(),n=r.redMul(this.a).redAdd(i),s=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(i)));return n.cmp(s)===0};function Lt(t,e,r,i,n){am.BasePoint.call(this,t,"projective"),e===null&&r===null&&i===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new mo(e,16),this.y=new mo(r,16),this.z=i?new mo(i,16):this.curve.one,this.t=n&&new mo(n,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}vq(Lt,am.BasePoint);Bs.prototype.pointFromJSON=function(e){return Lt.fromJSON(this,e)};Bs.prototype.point=function(e,r,i,n){return new Lt(this,e,r,i,n)};Lt.fromJSON=function(e,r){return new Lt(e,r[0],r[1],r[2])};Lt.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Lt.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};Lt.prototype._extDbl=function(){var e=this.x.redSqr(),r=this.y.redSqr(),i=this.z.redSqr();i=i.redIAdd(i);var n=this.curve._mulA(e),s=this.x.redAdd(this.y).redSqr().redISub(e).redISub(r),o=n.redAdd(r),f=o.redSub(i),l=n.redSub(r),b=s.redMul(f),E=o.redMul(l),C=s.redMul(l),N=f.redMul(o);return this.curve.point(b,E,N,C)};Lt.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),i=this.y.redSqr(),n,s,o,f,l,b;if(this.curve.twisted){f=this.curve._mulA(r);var E=f.redAdd(i);this.zOne?(n=e.redSub(r).redSub(i).redMul(E.redSub(this.curve.two)),s=E.redMul(f.redSub(i)),o=E.redSqr().redSub(E).redSub(E)):(l=this.z.redSqr(),b=E.redSub(l).redISub(l),n=e.redSub(r).redISub(i).redMul(b),s=E.redMul(f.redSub(i)),o=E.redMul(b))}else f=r.redAdd(i),l=this.curve._mulC(this.z).redSqr(),b=f.redSub(l).redSub(l),n=this.curve._mulC(e.redISub(f)).redMul(b),s=this.curve._mulC(f).redMul(r.redISub(i)),o=f.redMul(b);return this.curve.point(n,s,o)};Lt.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};Lt.prototype._extAdd=function(e){var r=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),i=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),n=this.t.redMul(this.curve.dd).redMul(e.t),s=this.z.redMul(e.z.redAdd(e.z)),o=i.redSub(r),f=s.redSub(n),l=s.redAdd(n),b=i.redAdd(r),E=o.redMul(f),C=l.redMul(b),N=o.redMul(b),L=f.redMul(l);return this.curve.point(E,C,L,N)};Lt.prototype._projAdd=function(e){var r=this.z.redMul(e.z),i=r.redSqr(),n=this.x.redMul(e.x),s=this.y.redMul(e.y),o=this.curve.d.redMul(n).redMul(s),f=i.redSub(o),l=i.redAdd(o),b=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(n).redISub(s),E=r.redMul(f).redMul(b),C,N;return this.curve.twisted?(C=r.redMul(l).redMul(s.redSub(this.curve._mulA(n))),N=f.redMul(l)):(C=r.redMul(l).redMul(s.redSub(n)),N=this.curve._mulC(f).redMul(l)),this.curve.point(E,C,N)};Lt.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};Lt.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};Lt.prototype.mulAdd=function(e,r,i){return this.curve._wnafMulAdd(1,[this,r],[e,i],2,!1)};Lt.prototype.jmulAdd=function(e,r,i){return this.curve._wnafMulAdd(1,[this,r],[e,i],2,!0)};Lt.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};Lt.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};Lt.prototype.getX=function(){return this.normalize(),this.x.fromRed()};Lt.prototype.getY=function(){return this.normalize(),this.y.fromRed()};Lt.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};Lt.prototype.eqXToP=function(e){var r=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var i=e.clone(),n=this.curve.redN.redMul(this.z);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(n),this.x.cmp(r)===0)return!0}};Lt.prototype.toP=Lt.prototype.normalize;Lt.prototype.mixedAdd=Lt.prototype.add});var x4=D(bq=>{"use strict";y();var fm=bq;fm.base=$0();fm.short=lq();fm.mont=gq();fm.edwards=mq()});var qn=D(Dt=>{"use strict";y();var fue=Pi(),uue=Ze();Dt.inherits=uue;function cue(t,e){return(t.charCodeAt(e)&64512)!==55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)===56320}function hue(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16))}else for(var i=0,n=0;n<t.length;n++){var s=t.charCodeAt(n);s<128?r[i++]=s:s<2048?(r[i++]=s>>6|192,r[i++]=s&63|128):cue(t,n)?(s=65536+((s&1023)<<10)+(t.charCodeAt(++n)&1023),r[i++]=s>>18|240,r[i++]=s>>12&63|128,r[i++]=s>>6&63|128,r[i++]=s&63|128):(r[i++]=s>>12|224,r[i++]=s>>6&63|128,r[i++]=s&63|128)}else for(n=0;n<t.length;n++)r[n]=t[n]|0;return r}Dt.toArray=hue;function lue(t){for(var e="",r=0;r<t.length;r++)e+=_q(t[r].toString(16));return e}Dt.toHex=lue;function wq(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}Dt.htonl=wq;function due(t,e){for(var r="",i=0;i<t.length;i++){var n=t[i];e==="little"&&(n=wq(n)),r+=xq(n.toString(16))}return r}Dt.toHex32=due;function _q(t){return t.length===1?"0"+t:t}Dt.zero2=_q;function xq(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}Dt.zero8=xq;function pue(t,e,r,i){var n=r-e;fue(n%4===0);for(var s=new Array(n/4),o=0,f=e;o<s.length;o++,f+=4){var l;i==="big"?l=t[f]<<24|t[f+1]<<16|t[f+2]<<8|t[f+3]:l=t[f+3]<<24|t[f+2]<<16|t[f+1]<<8|t[f],s[o]=l>>>0}return s}Dt.join32=pue;function gue(t,e){for(var r=new Array(t.length*4),i=0,n=0;i<t.length;i++,n+=4){var s=t[i];e==="big"?(r[n]=s>>>24,r[n+1]=s>>>16&255,r[n+2]=s>>>8&255,r[n+3]=s&255):(r[n+3]=s>>>24,r[n+2]=s>>>16&255,r[n+1]=s>>>8&255,r[n]=s&255)}return r}Dt.split32=gue;function vue(t,e){return t>>>e|t<<32-e}Dt.rotr32=vue;function yue(t,e){return t<<e|t>>>32-e}Dt.rotl32=yue;function mue(t,e){return t+e>>>0}Dt.sum32=mue;function bue(t,e,r){return t+e+r>>>0}Dt.sum32_3=bue;function wue(t,e,r,i){return t+e+r+i>>>0}Dt.sum32_4=wue;function _ue(t,e,r,i,n){return t+e+r+i+n>>>0}Dt.sum32_5=_ue;function xue(t,e,r,i){var n=t[e],s=t[e+1],o=i+s>>>0,f=(o<i?1:0)+r+n;t[e]=f>>>0,t[e+1]=o}Dt.sum64=xue;function Eue(t,e,r,i){var n=e+i>>>0,s=(n<e?1:0)+t+r;return s>>>0}Dt.sum64_hi=Eue;function Aue(t,e,r,i){var n=e+i;return n>>>0}Dt.sum64_lo=Aue;function Sue(t,e,r,i,n,s,o,f){var l=0,b=e;b=b+i>>>0,l+=b<e?1:0,b=b+s>>>0,l+=b<s?1:0,b=b+f>>>0,l+=b<f?1:0;var E=t+r+n+o+l;return E>>>0}Dt.sum64_4_hi=Sue;function Iue(t,e,r,i,n,s,o,f){var l=e+i+s+f;return l>>>0}Dt.sum64_4_lo=Iue;function Mue(t,e,r,i,n,s,o,f,l,b){var E=0,C=e;C=C+i>>>0,E+=C<e?1:0,C=C+s>>>0,E+=C<s?1:0,C=C+f>>>0,E+=C<f?1:0,C=C+b>>>0,E+=C<b?1:0;var N=t+r+n+o+l+E;return N>>>0}Dt.sum64_5_hi=Mue;function Cue(t,e,r,i,n,s,o,f,l,b){var E=e+i+s+f+b;return E>>>0}Dt.sum64_5_lo=Cue;function Tue(t,e,r){var i=e<<32-r|t>>>r;return i>>>0}Dt.rotr64_hi=Tue;function Oue(t,e,r){var i=t<<32-r|e>>>r;return i>>>0}Dt.rotr64_lo=Oue;function Nue(t,e,r){return t>>>r}Dt.shr64_hi=Nue;function Bue(t,e,r){var i=t<<32-r|e>>>r;return i>>>0}Dt.shr64_lo=Bue});var sl=D(Aq=>{"use strict";y();var Eq=qn(),Due=Pi();function um(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}Aq.BlockHash=um;um.prototype.update=function(e,r){if(e=Eq.toArray(e,r),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var i=e.length%this._delta8;this.pending=e.slice(e.length-i,e.length),this.pending.length===0&&(this.pending=null),e=Eq.join32(e,0,e.length-i,this.endian);for(var n=0;n<e.length;n+=this._delta32)this._update(e,n,n+this._delta32)}return this};um.prototype.digest=function(e){return this.update(this._pad()),Due(this.pending===null),this._digest(e)};um.prototype._pad=function(){var e=this.pendingTotal,r=this._delta8,i=r-(e+this.padLength)%r,n=new Array(i+this.padLength);n[0]=128;for(var s=1;s<i;s++)n[s]=0;if(e<<=3,this.endian==="big"){for(var o=8;o<this.padLength;o++)n[s++]=0;n[s++]=0,n[s++]=0,n[s++]=0,n[s++]=0,n[s++]=e>>>24&255,n[s++]=e>>>16&255,n[s++]=e>>>8&255,n[s++]=e&255}else for(n[s++]=e&255,n[s++]=e>>>8&255,n[s++]=e>>>16&255,n[s++]=e>>>24&255,n[s++]=0,n[s++]=0,n[s++]=0,n[s++]=0,o=8;o<this.padLength;o++)n[s++]=0;return n}});var E4=D(bo=>{"use strict";y();var Rue=qn(),Ds=Rue.rotr32;function Pue(t,e,r,i){if(t===0)return Sq(e,r,i);if(t===1||t===3)return Mq(e,r,i);if(t===2)return Iq(e,r,i)}bo.ft_1=Pue;function Sq(t,e,r){return t&e^~t&r}bo.ch32=Sq;function Iq(t,e,r){return t&e^t&r^e&r}bo.maj32=Iq;function Mq(t,e,r){return t^e^r}bo.p32=Mq;function Lue(t){return Ds(t,2)^Ds(t,13)^Ds(t,22)}bo.s0_256=Lue;function que(t){return Ds(t,6)^Ds(t,11)^Ds(t,25)}bo.s1_256=que;function Fue(t){return Ds(t,7)^Ds(t,18)^t>>>3}bo.g0_256=Fue;function Uue(t){return Ds(t,17)^Ds(t,19)^t>>>10}bo.g1_256=Uue});var Oq=D((_Te,Tq)=>{"use strict";y();var ol=qn(),kue=sl(),Hue=E4(),A4=ol.rotl32,Y0=ol.sum32,jue=ol.sum32_5,Vue=Hue.ft_1,Cq=kue.BlockHash,zue=[1518500249,1859775393,2400959708,3395469782];function Rs(){if(!(this instanceof Rs))return new Rs;Cq.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}ol.inherits(Rs,Cq);Tq.exports=Rs;Rs.blockSize=512;Rs.outSize=160;Rs.hmacStrength=80;Rs.padLength=64;Rs.prototype._update=function(e,r){for(var i=this.W,n=0;n<16;n++)i[n]=e[r+n];for(;n<i.length;n++)i[n]=A4(i[n-3]^i[n-8]^i[n-14]^i[n-16],1);var s=this.h[0],o=this.h[1],f=this.h[2],l=this.h[3],b=this.h[4];for(n=0;n<i.length;n++){var E=~~(n/20),C=jue(A4(s,5),Vue(E,o,f,l),b,i[n],zue[E]);b=l,l=f,f=A4(o,30),o=s,s=C}this.h[0]=Y0(this.h[0],s),this.h[1]=Y0(this.h[1],o),this.h[2]=Y0(this.h[2],f),this.h[3]=Y0(this.h[3],l),this.h[4]=Y0(this.h[4],b)};Rs.prototype._digest=function(e){return e==="hex"?ol.toHex32(this.h,"big"):ol.split32(this.h,"big")}});var S4=D((ETe,Bq)=>{"use strict";y();var al=qn(),Kue=sl(),fl=E4(),Gue=Pi(),Fn=al.sum32,Que=al.sum32_4,Wue=al.sum32_5,$ue=fl.ch32,Yue=fl.maj32,Jue=fl.s0_256,Xue=fl.s1_256,Zue=fl.g0_256,ece=fl.g1_256,Nq=Kue.BlockHash,tce=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Ps(){if(!(this instanceof Ps))return new Ps;Nq.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=tce,this.W=new Array(64)}al.inherits(Ps,Nq);Bq.exports=Ps;Ps.blockSize=512;Ps.outSize=256;Ps.hmacStrength=192;Ps.padLength=64;Ps.prototype._update=function(e,r){for(var i=this.W,n=0;n<16;n++)i[n]=e[r+n];for(;n<i.length;n++)i[n]=Que(ece(i[n-2]),i[n-7],Zue(i[n-15]),i[n-16]);var s=this.h[0],o=this.h[1],f=this.h[2],l=this.h[3],b=this.h[4],E=this.h[5],C=this.h[6],N=this.h[7];for(Gue(this.k.length===i.length),n=0;n<i.length;n++){var L=Wue(N,Xue(b),$ue(b,E,C),this.k[n],i[n]),R=Fn(Jue(s),Yue(s,o,f));N=C,C=E,E=b,b=Fn(l,L),l=f,f=o,o=s,s=Fn(L,R)}this.h[0]=Fn(this.h[0],s),this.h[1]=Fn(this.h[1],o),this.h[2]=Fn(this.h[2],f),this.h[3]=Fn(this.h[3],l),this.h[4]=Fn(this.h[4],b),this.h[5]=Fn(this.h[5],E),this.h[6]=Fn(this.h[6],C),this.h[7]=Fn(this.h[7],N)};Ps.prototype._digest=function(e){return e==="hex"?al.toHex32(this.h,"big"):al.split32(this.h,"big")}});var Pq=D((STe,Rq)=>{"use strict";y();var I4=qn(),Dq=S4();function wo(){if(!(this instanceof wo))return new wo;Dq.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}I4.inherits(wo,Dq);Rq.exports=wo;wo.blockSize=512;wo.outSize=224;wo.hmacStrength=192;wo.padLength=64;wo.prototype._digest=function(e){return e==="hex"?I4.toHex32(this.h.slice(0,7),"big"):I4.split32(this.h.slice(0,7),"big")}});var T4=D((MTe,Uq)=>{"use strict";y();var Ii=qn(),rce=sl(),ice=Pi(),Ls=Ii.rotr64_hi,qs=Ii.rotr64_lo,Lq=Ii.shr64_hi,qq=Ii.shr64_lo,Ba=Ii.sum64,M4=Ii.sum64_hi,C4=Ii.sum64_lo,nce=Ii.sum64_4_hi,sce=Ii.sum64_4_lo,oce=Ii.sum64_5_hi,ace=Ii.sum64_5_lo,Fq=rce.BlockHash,fce=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Un(){if(!(this instanceof Un))return new Un;Fq.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=fce,this.W=new Array(160)}Ii.inherits(Un,Fq);Uq.exports=Un;Un.blockSize=1024;Un.outSize=512;Un.hmacStrength=192;Un.padLength=128;Un.prototype._prepareBlock=function(e,r){for(var i=this.W,n=0;n<32;n++)i[n]=e[r+n];for(;n<i.length;n+=2){var s=bce(i[n-4],i[n-3]),o=wce(i[n-4],i[n-3]),f=i[n-14],l=i[n-13],b=yce(i[n-30],i[n-29]),E=mce(i[n-30],i[n-29]),C=i[n-32],N=i[n-31];i[n]=nce(s,o,f,l,b,E,C,N),i[n+1]=sce(s,o,f,l,b,E,C,N)}};Un.prototype._update=function(e,r){this._prepareBlock(e,r);var i=this.W,n=this.h[0],s=this.h[1],o=this.h[2],f=this.h[3],l=this.h[4],b=this.h[5],E=this.h[6],C=this.h[7],N=this.h[8],L=this.h[9],R=this.h[10],V=this.h[11],W=this.h[12],$=this.h[13],re=this.h[14],ee=this.h[15];ice(this.k.length===i.length);for(var ie=0;ie<i.length;ie+=2){var ne=re,Z=ee,G=gce(N,L),Q=vce(N,L),P=uce(N,L,R,V,W,$),w=cce(N,L,R,V,W,$),p=this.k[ie],_=this.k[ie+1],g=i[ie],a=i[ie+1],c=oce(ne,Z,G,Q,P,w,p,_,g,a),m=ace(ne,Z,G,Q,P,w,p,_,g,a);ne=dce(n,s),Z=pce(n,s),G=hce(n,s,o,f,l,b),Q=lce(n,s,o,f,l,b);var v=M4(ne,Z,G,Q),u=C4(ne,Z,G,Q);re=W,ee=$,W=R,$=V,R=N,V=L,N=M4(E,C,c,m),L=C4(C,C,c,m),E=l,C=b,l=o,b=f,o=n,f=s,n=M4(c,m,v,u),s=C4(c,m,v,u)}Ba(this.h,0,n,s),Ba(this.h,2,o,f),Ba(this.h,4,l,b),Ba(this.h,6,E,C),Ba(this.h,8,N,L),Ba(this.h,10,R,V),Ba(this.h,12,W,$),Ba(this.h,14,re,ee)};Un.prototype._digest=function(e){return e==="hex"?Ii.toHex32(this.h,"big"):Ii.split32(this.h,"big")};function uce(t,e,r,i,n){var s=t&r^~t&n;return s<0&&(s+=4294967296),s}function cce(t,e,r,i,n,s){var o=e&i^~e&s;return o<0&&(o+=4294967296),o}function hce(t,e,r,i,n){var s=t&r^t&n^r&n;return s<0&&(s+=4294967296),s}function lce(t,e,r,i,n,s){var o=e&i^e&s^i&s;return o<0&&(o+=4294967296),o}function dce(t,e){var r=Ls(t,e,28),i=Ls(e,t,2),n=Ls(e,t,7),s=r^i^n;return s<0&&(s+=4294967296),s}function pce(t,e){var r=qs(t,e,28),i=qs(e,t,2),n=qs(e,t,7),s=r^i^n;return s<0&&(s+=4294967296),s}function gce(t,e){var r=Ls(t,e,14),i=Ls(t,e,18),n=Ls(e,t,9),s=r^i^n;return s<0&&(s+=4294967296),s}function vce(t,e){var r=qs(t,e,14),i=qs(t,e,18),n=qs(e,t,9),s=r^i^n;return s<0&&(s+=4294967296),s}function yce(t,e){var r=Ls(t,e,1),i=Ls(t,e,8),n=Lq(t,e,7),s=r^i^n;return s<0&&(s+=4294967296),s}function mce(t,e){var r=qs(t,e,1),i=qs(t,e,8),n=qq(t,e,7),s=r^i^n;return s<0&&(s+=4294967296),s}function bce(t,e){var r=Ls(t,e,19),i=Ls(e,t,29),n=Lq(t,e,6),s=r^i^n;return s<0&&(s+=4294967296),s}function wce(t,e){var r=qs(t,e,19),i=qs(e,t,29),n=qq(t,e,6),s=r^i^n;return s<0&&(s+=4294967296),s}});var jq=D((TTe,Hq)=>{"use strict";y();var O4=qn(),kq=T4();function _o(){if(!(this instanceof _o))return new _o;kq.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}O4.inherits(_o,kq);Hq.exports=_o;_o.blockSize=1024;_o.outSize=384;_o.hmacStrength=192;_o.padLength=128;_o.prototype._digest=function(e){return e==="hex"?O4.toHex32(this.h.slice(0,12),"big"):O4.split32(this.h.slice(0,12),"big")}});var Vq=D(ul=>{"use strict";y();ul.sha1=Oq();ul.sha224=Pq();ul.sha256=S4();ul.sha384=jq();ul.sha512=T4()});var $q=D(Wq=>{"use strict";y();var Mu=qn(),_ce=sl(),cm=Mu.rotl32,zq=Mu.sum32,J0=Mu.sum32_3,Kq=Mu.sum32_4,Qq=_ce.BlockHash;function Fs(){if(!(this instanceof Fs))return new Fs;Qq.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Mu.inherits(Fs,Qq);Wq.ripemd160=Fs;Fs.blockSize=512;Fs.outSize=160;Fs.hmacStrength=192;Fs.padLength=64;Fs.prototype._update=function(e,r){for(var i=this.h[0],n=this.h[1],s=this.h[2],o=this.h[3],f=this.h[4],l=i,b=n,E=s,C=o,N=f,L=0;L<80;L++){var R=zq(cm(Kq(i,Gq(L,n,s,o),e[Ace[L]+r],xce(L)),Ice[L]),f);i=f,f=o,o=cm(s,10),s=n,n=R,R=zq(cm(Kq(l,Gq(79-L,b,E,C),e[Sce[L]+r],Ece(L)),Mce[L]),N),l=N,N=C,C=cm(E,10),E=b,b=R}R=J0(this.h[1],s,C),this.h[1]=J0(this.h[2],o,N),this.h[2]=J0(this.h[3],f,l),this.h[3]=J0(this.h[4],i,b),this.h[4]=J0(this.h[0],n,E),this.h[0]=R};Fs.prototype._digest=function(e){return e==="hex"?Mu.toHex32(this.h,"little"):Mu.split32(this.h,"little")};function Gq(t,e,r,i){return t<=15?e^r^i:t<=31?e&r|~e&i:t<=47?(e|~r)^i:t<=63?e&i|r&~i:e^(r|~i)}function xce(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function Ece(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var Ace=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Sce=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Ice=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],Mce=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]});var Jq=D((PTe,Yq)=>{"use strict";y();var Cce=qn(),Tce=Pi();function cl(t,e,r){if(!(this instanceof cl))return new cl(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(Cce.toArray(e,r))}Yq.exports=cl;cl.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),Tce(e.length<=this.blockSize);for(var r=e.length;r<this.blockSize;r++)e.push(0);for(r=0;r<e.length;r++)e[r]^=54;for(this.inner=new this.Hash().update(e),r=0;r<e.length;r++)e[r]^=106;this.outer=new this.Hash().update(e)};cl.prototype.update=function(e,r){return this.inner.update(e,r),this};cl.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}});var hm=D(Xq=>{y();var Ur=Xq;Ur.utils=qn();Ur.common=sl();Ur.sha=Vq();Ur.ripemd=$q();Ur.hmac=Jq();Ur.sha1=Ur.sha.sha1;Ur.sha256=Ur.sha.sha256;Ur.sha224=Ur.sha.sha224;Ur.sha384=Ur.sha.sha384;Ur.sha512=Ur.sha.sha512;Ur.ripemd160=Ur.ripemd.ripemd160});var eF=D((UTe,Zq)=>{y();Zq.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}});var lm=D(iF=>{"use strict";y();var B4=iF,Da=hm(),N4=x4(),Oce=Li(),tF=Oce.assert;function rF(t){t.type==="short"?this.curve=new N4.short(t):t.type==="edwards"?this.curve=new N4.edwards(t):this.curve=new N4.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,tF(this.g.validate(),"Invalid curve"),tF(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}B4.PresetCurve=rF;function Ra(t,e){Object.defineProperty(B4,t,{configurable:!0,enumerable:!0,get:function(){var r=new rF(e);return Object.defineProperty(B4,t,{configurable:!0,enumerable:!0,value:r}),r}})}Ra("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Da.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]});Ra("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Da.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]});Ra("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Da.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]});Ra("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Da.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]});Ra("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Da.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]});Ra("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Da.sha256,gRed:!1,g:["9"]});Ra("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Da.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var D4;try{D4=eF()}catch{D4=void 0}Ra("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Da.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",D4]})});var oF=D((VTe,sF)=>{"use strict";y();var Nce=hm(),Cu=w4(),nF=Pi();function Pa(t){if(!(this instanceof Pa))return new Pa(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Cu.toArray(t.entropy,t.entropyEnc||"hex"),r=Cu.toArray(t.nonce,t.nonceEnc||"hex"),i=Cu.toArray(t.pers,t.persEnc||"hex");nF(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,i)}sF.exports=Pa;Pa.prototype._init=function(e,r,i){var n=e.concat(r).concat(i);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656};Pa.prototype._hmac=function(){return new Nce.hmac(this.hash,this.K)};Pa.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};Pa.prototype.reseed=function(e,r,i,n){typeof r!="string"&&(n=i,i=r,r=null),e=Cu.toArray(e,r),i=Cu.toArray(i,n),nF(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(i||[])),this._reseed=1};Pa.prototype.generate=function(e,r,i,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(n=i,i=r,r=null),i&&(i=Cu.toArray(i,n||"hex"),this._update(i));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,e);return this._update(i),this._reseed++,Cu.encode(o,r)}});var fF=D((KTe,aF)=>{"use strict";y();var Bce=Ns(),Dce=Li(),R4=Dce.assert;function Yr(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}aF.exports=Yr;Yr.fromPublic=function(e,r,i){return r instanceof Yr?r:new Yr(e,{pub:r,pubEnc:i})};Yr.fromPrivate=function(e,r,i){return r instanceof Yr?r:new Yr(e,{priv:r,privEnc:i})};Yr.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Yr.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};Yr.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Yr.prototype._importPrivate=function(e,r){this.priv=new Bce(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};Yr.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?R4(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&R4(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};Yr.prototype.derive=function(e){return e.validate()||R4(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Yr.prototype.sign=function(e,r,i){return this.ec.sign(e,this,r,i)};Yr.prototype.verify=function(e,r){return this.ec.verify(e,r,this)};Yr.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}});var hF=D((QTe,cF)=>{"use strict";y();var dm=Ns(),q4=Li(),Rce=q4.assert;function pm(t,e){if(t instanceof pm)return t;this._importDER(t,e)||(Rce(t.r&&t.s,"Signature without r or s"),this.r=new dm(t.r,16),this.s=new dm(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}cF.exports=pm;function Pce(){this.place=0}function P4(t,e){var r=t[e.place++];if(!(r&128))return r;var i=r&15;if(i===0||i>4)return!1;for(var n=0,s=0,o=e.place;s<i;s++,o++)n<<=8,n|=t[o],n>>>=0;return n<=127?!1:(e.place=o,n)}function uF(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}pm.prototype._importDER=function(e,r){e=q4.toArray(e,r);var i=new Pce;if(e[i.place++]!==48)return!1;var n=P4(e,i);if(n===!1||n+i.place!==e.length||e[i.place++]!==2)return!1;var s=P4(e,i);if(s===!1)return!1;var o=e.slice(i.place,s+i.place);if(i.place+=s,e[i.place++]!==2)return!1;var f=P4(e,i);if(f===!1||e.length!==f+i.place)return!1;var l=e.slice(i.place,f+i.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(l[0]===0)if(l[1]&128)l=l.slice(1);else return!1;return this.r=new dm(o),this.s=new dm(l),this.recoveryParam=null,!0};function L4(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}pm.prototype.toDER=function(e){var r=this.r.toArray(),i=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),i[0]&128&&(i=[0].concat(i)),r=uF(r),i=uF(i);!i[0]&&!(i[1]&128);)i=i.slice(1);var n=[2];L4(n,r.length),n=n.concat(r),n.push(2),L4(n,i.length);var s=n.concat(i),o=[48];return L4(o,s.length),o=o.concat(s),q4.encode(o,e)}});var gF=D(($Te,pF)=>{"use strict";y();var Tu=Ns(),lF=oF(),Lce=Li(),F4=lm(),qce=Jy(),dF=Lce.assert,U4=fF(),gm=hF();function ln(t){if(!(this instanceof ln))return new ln(t);typeof t=="string"&&(dF(Object.prototype.hasOwnProperty.call(F4,t),"Unknown curve "+t),t=F4[t]),t instanceof F4.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}pF.exports=ln;ln.prototype.keyPair=function(e){return new U4(this,e)};ln.prototype.keyFromPrivate=function(e,r){return U4.fromPrivate(this,e,r)};ln.prototype.keyFromPublic=function(e,r){return U4.fromPublic(this,e,r)};ln.prototype.genKeyPair=function(e){e||(e={});for(var r=new lF({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||qce(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),i=this.n.byteLength(),n=this.n.sub(new Tu(2));;){var s=new Tu(r.generate(i));if(!(s.cmp(n)>0))return s.iaddn(1),this.keyFromPrivate(s)}};ln.prototype._truncateToN=function(e,r){var i=e.byteLength()*8-this.n.bitLength();return i>0&&(e=e.ushrn(i)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};ln.prototype.sign=function(e,r,i,n){typeof i=="object"&&(n=i,i=null),n||(n={}),r=this.keyFromPrivate(r,i),e=this._truncateToN(new Tu(e,16));for(var s=this.n.byteLength(),o=r.getPrivate().toArray("be",s),f=e.toArray("be",s),l=new lF({hash:this.hash,entropy:o,nonce:f,pers:n.pers,persEnc:n.persEnc||"utf8"}),b=this.n.sub(new Tu(1)),E=0;;E++){var C=n.k?n.k(E):new Tu(l.generate(this.n.byteLength()));if(C=this._truncateToN(C,!0),!(C.cmpn(1)<=0||C.cmp(b)>=0)){var N=this.g.mul(C);if(!N.isInfinity()){var L=N.getX(),R=L.umod(this.n);if(R.cmpn(0)!==0){var V=C.invm(this.n).mul(R.mul(r.getPrivate()).iadd(e));if(V=V.umod(this.n),V.cmpn(0)!==0){var W=(N.getY().isOdd()?1:0)|(L.cmp(R)!==0?2:0);return n.canonical&&V.cmp(this.nh)>0&&(V=this.n.sub(V),W^=1),new gm({r:R,s:V,recoveryParam:W})}}}}}};ln.prototype.verify=function(e,r,i,n){e=this._truncateToN(new Tu(e,16)),i=this.keyFromPublic(i,n),r=new gm(r,"hex");var s=r.r,o=r.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0||o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var f=o.invm(this.n),l=f.mul(e).umod(this.n),b=f.mul(s).umod(this.n),E;return this.curve._maxwellTrick?(E=this.g.jmulAdd(l,i.getPublic(),b),E.isInfinity()?!1:E.eqXToP(s)):(E=this.g.mulAdd(l,i.getPublic(),b),E.isInfinity()?!1:E.getX().umod(this.n).cmp(s)===0)};ln.prototype.recoverPubKey=function(t,e,r,i){dF((3&r)===r,"The recovery param is more than two bits"),e=new gm(e,i);var n=this.n,s=new Tu(t),o=e.r,f=e.s,l=r&1,b=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&b)throw new Error("Unable to find sencond key candinate");b?o=this.curve.pointFromX(o.add(this.curve.n),l):o=this.curve.pointFromX(o,l);var E=e.r.invm(n),C=n.sub(s).mul(E).umod(n),N=f.mul(E).umod(n);return this.g.mulAdd(C,o,N)};ln.prototype.getKeyRecoveryParam=function(t,e,r,i){if(e=new gm(e,i),e.recoveryParam!==null)return e.recoveryParam;for(var n=0;n<4;n++){var s;try{s=this.recoverPubKey(t,e,n)}catch{continue}if(s.eq(r))return n}throw new Error("Unable to find valid recovery factor")}});var bF=D((JTe,mF)=>{"use strict";y();var X0=Li(),yF=X0.assert,vF=X0.parseBytes,hl=X0.cachedProperty;function Sr(t,e){this.eddsa=t,this._secret=vF(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=vF(e.pub)}Sr.fromPublic=function(e,r){return r instanceof Sr?r:new Sr(e,{pub:r})};Sr.fromSecret=function(e,r){return r instanceof Sr?r:new Sr(e,{secret:r})};Sr.prototype.secret=function(){return this._secret};hl(Sr,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});hl(Sr,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});hl(Sr,"privBytes",function(){var e=this.eddsa,r=this.hash(),i=e.encodingLength-1,n=r.slice(0,e.encodingLength);return n[0]&=248,n[i]&=127,n[i]|=64,n});hl(Sr,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});hl(Sr,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});hl(Sr,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});Sr.prototype.sign=function(e){return yF(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};Sr.prototype.verify=function(e,r){return this.eddsa.verify(e,r,this)};Sr.prototype.getSecret=function(e){return yF(this._secret,"KeyPair is public only"),X0.encode(this.secret(),e)};Sr.prototype.getPublic=function(e){return X0.encode(this.pubBytes(),e)};mF.exports=Sr});var _F=D((ZTe,wF)=>{"use strict";y();var Fce=Ns(),vm=Li(),Uce=vm.assert,ym=vm.cachedProperty,kce=vm.parseBytes;function Ou(t,e){this.eddsa=t,typeof e!="object"&&(e=kce(e)),Array.isArray(e)&&(e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),Uce(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof Fce&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}ym(Ou,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});ym(Ou,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});ym(Ou,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});ym(Ou,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});Ou.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};Ou.prototype.toHex=function(){return vm.encode(this.toBytes(),"hex").toUpperCase()};wF.exports=Ou});var IF=D((tOe,SF)=>{"use strict";y();var Hce=hm(),jce=lm(),ll=Li(),Vce=ll.assert,EF=ll.parseBytes,AF=bF(),xF=_F();function Mi(t){if(Vce(t==="ed25519","only tested with ed25519 so far"),!(this instanceof Mi))return new Mi(t);t=jce[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=Hce.sha512}SF.exports=Mi;Mi.prototype.sign=function(e,r){e=EF(e);var i=this.keyFromSecret(r),n=this.hashInt(i.messagePrefix(),e),s=this.g.mul(n),o=this.encodePoint(s),f=this.hashInt(o,i.pubBytes(),e).mul(i.priv()),l=n.add(f).umod(this.curve.n);return this.makeSignature({R:s,S:l,Rencoded:o})};Mi.prototype.verify=function(e,r,i){e=EF(e),r=this.makeSignature(r);var n=this.keyFromPublic(i),s=this.hashInt(r.Rencoded(),n.pubBytes(),e),o=this.g.mul(r.S()),f=r.R().add(n.pub().mul(s));return f.eq(o)};Mi.prototype.hashInt=function(){for(var e=this.hash(),r=0;r<arguments.length;r++)e.update(arguments[r]);return ll.intFromLE(e.digest()).umod(this.curve.n)};Mi.prototype.keyFromPublic=function(e){return AF.fromPublic(this,e)};Mi.prototype.keyFromSecret=function(e){return AF.fromSecret(this,e)};Mi.prototype.makeSignature=function(e){return e instanceof xF?e:new xF(this,e)};Mi.prototype.encodePoint=function(e){var r=e.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=e.getX().isOdd()?128:0,r};Mi.prototype.decodePoint=function(e){e=ll.parseBytes(e);var r=e.length-1,i=e.slice(0,r).concat(e[r]&-129),n=(e[r]&128)!==0,s=ll.intFromLE(i);return this.curve.pointFromY(s,n)};Mi.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};Mi.prototype.decodeInt=function(e){return ll.intFromLE(e)};Mi.prototype.isPoint=function(e){return e instanceof this.pointClass}});var mm=D(MF=>{"use strict";y();var Nu=MF;Nu.version=nq().version;Nu.utils=Li();Nu.rand=Jy();Nu.curve=x4();Nu.curves=lm();Nu.ec=gF();Nu.eddsa=IF()});var H4=D((CF,k4)=>{y();(function(t,e){"use strict";function r(g,a){if(!g)throw new Error(a||"Assertion failed")}function i(g,a){g.super_=a;var c=function(){};c.prototype=a.prototype,g.prototype=new c,g.prototype.constructor=g}function n(g,a,c){if(n.isBN(g))return g;this.negative=0,this.words=null,this.length=0,this.red=null,g!==null&&((a==="le"||a==="be")&&(c=a,a=10),this._init(g||0,a||10,c||"be"))}typeof t=="object"?t.exports=n:e.BN=n,n.BN=n,n.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=mi().Buffer}catch{}n.isBN=function(a){return a instanceof n?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===n.wordSize&&Array.isArray(a.words)},n.max=function(a,c){return a.cmp(c)>0?a:c},n.min=function(a,c){return a.cmp(c)<0?a:c},n.prototype._init=function(a,c,m){if(typeof a=="number")return this._initNumber(a,c,m);if(typeof a=="object")return this._initArray(a,c,m);c==="hex"&&(c=16),r(c===(c|0)&&c>=2&&c<=36),a=a.toString().replace(/\s+/g,"");var v=0;a[0]==="-"&&(v++,this.negative=1),v<a.length&&(c===16?this._parseHex(a,v,m):(this._parseBase(a,c,v),m==="le"&&this._initArray(this.toArray(),c,m)))},n.prototype._initNumber=function(a,c,m){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(r(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),m==="le"&&this._initArray(this.toArray(),c,m)},n.prototype._initArray=function(a,c,m){if(r(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var u,d,x=0;if(m==="be")for(v=a.length-1,u=0;v>=0;v-=3)d=a[v]|a[v-1]<<8|a[v-2]<<16,this.words[u]|=d<<x&67108863,this.words[u+1]=d>>>26-x&67108863,x+=24,x>=26&&(x-=26,u++);else if(m==="le")for(v=0,u=0;v<a.length;v+=3)d=a[v]|a[v+1]<<8|a[v+2]<<16,this.words[u]|=d<<x&67108863,this.words[u+1]=d>>>26-x&67108863,x+=24,x>=26&&(x-=26,u++);return this._strip()};function o(g,a){var c=g.charCodeAt(a);if(c>=48&&c<=57)return c-48;if(c>=65&&c<=70)return c-55;if(c>=97&&c<=102)return c-87;r(!1,"Invalid character in "+g)}function f(g,a,c){var m=o(g,c);return c-1>=a&&(m|=o(g,c-1)<<4),m}n.prototype._parseHex=function(a,c,m){this.length=Math.ceil((a.length-c)/6),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var u=0,d=0,x;if(m==="be")for(v=a.length-1;v>=c;v-=2)x=f(a,c,v)<<u,this.words[d]|=x&67108863,u>=18?(u-=18,d+=1,this.words[d]|=x>>>26):u+=8;else{var A=a.length-c;for(v=A%2===0?c+1:c;v<a.length;v+=2)x=f(a,c,v)<<u,this.words[d]|=x&67108863,u>=18?(u-=18,d+=1,this.words[d]|=x>>>26):u+=8}this._strip()};function l(g,a,c,m){for(var v=0,u=0,d=Math.min(g.length,c),x=a;x<d;x++){var A=g.charCodeAt(x)-48;v*=m,A>=49?u=A-49+10:A>=17?u=A-17+10:u=A,r(A>=0&&u<m,"Invalid character"),v+=u}return v}n.prototype._parseBase=function(a,c,m){this.words=[0],this.length=1;for(var v=0,u=1;u<=67108863;u*=c)v++;v--,u=u/c|0;for(var d=a.length-m,x=d%v,A=Math.min(d,d-x)+m,h=0,S=m;S<A;S+=v)h=l(a,S,S+v,c),this.imuln(u),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(x!==0){var K=1;for(h=l(a,S,a.length,c),S=0;S<x;S++)K*=c;this.imuln(K),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this._strip()},n.prototype.copy=function(a){a.words=new Array(this.length);for(var c=0;c<this.length;c++)a.words[c]=this.words[c];a.length=this.length,a.negative=this.negative,a.red=this.red};function b(g,a){g.words=a.words,g.length=a.length,g.negative=a.negative,g.red=a.red}if(n.prototype._move=function(a){b(a,this)},n.prototype.clone=function(){var a=new n(null);return this.copy(a),a},n.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},n.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},n.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{n.prototype[Symbol.for("nodejs.util.inspect.custom")]=E}catch{n.prototype.inspect=E}else n.prototype.inspect=E;function E(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var C=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],N=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],L=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(a,c){a=a||10,c=c|0||1;var m;if(a===16||a==="hex"){m="";for(var v=0,u=0,d=0;d<this.length;d++){var x=this.words[d],A=((x<<v|u)&16777215).toString(16);u=x>>>24-v&16777215,v+=2,v>=26&&(v-=26,d--),u!==0||d!==this.length-1?m=C[6-A.length]+A+m:m=A+m}for(u!==0&&(m=u.toString(16)+m);m.length%c!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}if(a===(a|0)&&a>=2&&a<=36){var h=N[a],S=L[a];m="";var K=this.clone();for(K.negative=0;!K.isZero();){var T=K.modrn(S).toString(a);K=K.idivn(S),K.isZero()?m=T+m:m=C[h-T.length]+T+m}for(this.isZero()&&(m="0"+m);m.length%c!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}r(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},n.prototype.toJSON=function(){return this.toString(16,2)},s&&(n.prototype.toBuffer=function(a,c){return this.toArrayLike(s,a,c)}),n.prototype.toArray=function(a,c){return this.toArrayLike(Array,a,c)};var R=function(a,c){return a.allocUnsafe?a.allocUnsafe(c):new a(c)};n.prototype.toArrayLike=function(a,c,m){this._strip();var v=this.byteLength(),u=m||Math.max(1,v);r(v<=u,"byte array longer than desired length"),r(u>0,"Requested array length <= 0");var d=R(a,u),x=c==="le"?"LE":"BE";return this["_toArrayLike"+x](d,v),d},n.prototype._toArrayLikeLE=function(a,c){for(var m=0,v=0,u=0,d=0;u<this.length;u++){var x=this.words[u]<<d|v;a[m++]=x&255,m<a.length&&(a[m++]=x>>8&255),m<a.length&&(a[m++]=x>>16&255),d===6?(m<a.length&&(a[m++]=x>>24&255),v=0,d=0):(v=x>>>24,d+=2)}if(m<a.length)for(a[m++]=v;m<a.length;)a[m++]=0},n.prototype._toArrayLikeBE=function(a,c){for(var m=a.length-1,v=0,u=0,d=0;u<this.length;u++){var x=this.words[u]<<d|v;a[m--]=x&255,m>=0&&(a[m--]=x>>8&255),m>=0&&(a[m--]=x>>16&255),d===6?(m>=0&&(a[m--]=x>>24&255),v=0,d=0):(v=x>>>24,d+=2)}if(m>=0)for(a[m--]=v;m>=0;)a[m--]=0},Math.clz32?n.prototype._countBits=function(a){return 32-Math.clz32(a)}:n.prototype._countBits=function(a){var c=a,m=0;return c>=4096&&(m+=13,c>>>=13),c>=64&&(m+=7,c>>>=7),c>=8&&(m+=4,c>>>=4),c>=2&&(m+=2,c>>>=2),m+c},n.prototype._zeroBits=function(a){if(a===0)return 26;var c=a,m=0;return(c&8191)===0&&(m+=13,c>>>=13),(c&127)===0&&(m+=7,c>>>=7),(c&15)===0&&(m+=4,c>>>=4),(c&3)===0&&(m+=2,c>>>=2),(c&1)===0&&m++,m},n.prototype.bitLength=function(){var a=this.words[this.length-1],c=this._countBits(a);return(this.length-1)*26+c};function V(g){for(var a=new Array(g.bitLength()),c=0;c<a.length;c++){var m=c/26|0,v=c%26;a[c]=g.words[m]>>>v&1}return a}n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,c=0;c<this.length;c++){var m=this._zeroBits(this.words[c]);if(a+=m,m!==26)break}return a},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},n.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return this.negative!==0},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var c=0;c<a.length;c++)this.words[c]=this.words[c]|a.words[c];return this._strip()},n.prototype.ior=function(a){return r((this.negative|a.negative)===0),this.iuor(a)},n.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},n.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},n.prototype.iuand=function(a){var c;this.length>a.length?c=a:c=this;for(var m=0;m<c.length;m++)this.words[m]=this.words[m]&a.words[m];return this.length=c.length,this._strip()},n.prototype.iand=function(a){return r((this.negative|a.negative)===0),this.iuand(a)},n.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},n.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},n.prototype.iuxor=function(a){var c,m;this.length>a.length?(c=this,m=a):(c=a,m=this);for(var v=0;v<m.length;v++)this.words[v]=c.words[v]^m.words[v];if(this!==c)for(;v<c.length;v++)this.words[v]=c.words[v];return this.length=c.length,this._strip()},n.prototype.ixor=function(a){return r((this.negative|a.negative)===0),this.iuxor(a)},n.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},n.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},n.prototype.inotn=function(a){r(typeof a=="number"&&a>=0);var c=Math.ceil(a/26)|0,m=a%26;this._expand(c),m>0&&c--;for(var v=0;v<c;v++)this.words[v]=~this.words[v]&67108863;return m>0&&(this.words[v]=~this.words[v]&67108863>>26-m),this._strip()},n.prototype.notn=function(a){return this.clone().inotn(a)},n.prototype.setn=function(a,c){r(typeof a=="number"&&a>=0);var m=a/26|0,v=a%26;return this._expand(m+1),c?this.words[m]=this.words[m]|1<<v:this.words[m]=this.words[m]&~(1<<v),this._strip()},n.prototype.iadd=function(a){var c;if(this.negative!==0&&a.negative===0)return this.negative=0,c=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,c=this.isub(a),a.negative=1,c._normSign();var m,v;this.length>a.length?(m=this,v=a):(m=a,v=this);for(var u=0,d=0;d<v.length;d++)c=(m.words[d]|0)+(v.words[d]|0)+u,this.words[d]=c&67108863,u=c>>>26;for(;u!==0&&d<m.length;d++)c=(m.words[d]|0)+u,this.words[d]=c&67108863,u=c>>>26;if(this.length=m.length,u!==0)this.words[this.length]=u,this.length++;else if(m!==this)for(;d<m.length;d++)this.words[d]=m.words[d];return this},n.prototype.add=function(a){var c;return a.negative!==0&&this.negative===0?(a.negative=0,c=this.sub(a),a.negative^=1,c):a.negative===0&&this.negative!==0?(this.negative=0,c=a.sub(this),this.negative=1,c):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},n.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var c=this.iadd(a);return a.negative=1,c._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var m=this.cmp(a);if(m===0)return this.negative=0,this.length=1,this.words[0]=0,this;var v,u;m>0?(v=this,u=a):(v=a,u=this);for(var d=0,x=0;x<u.length;x++)c=(v.words[x]|0)-(u.words[x]|0)+d,d=c>>26,this.words[x]=c&67108863;for(;d!==0&&x<v.length;x++)c=(v.words[x]|0)+d,d=c>>26,this.words[x]=c&67108863;if(d===0&&x<v.length&&v!==this)for(;x<v.length;x++)this.words[x]=v.words[x];return this.length=Math.max(this.length,x),v!==this&&(this.negative=1),this._strip()},n.prototype.sub=function(a){return this.clone().isub(a)};function W(g,a,c){c.negative=a.negative^g.negative;var m=g.length+a.length|0;c.length=m,m=m-1|0;var v=g.words[0]|0,u=a.words[0]|0,d=v*u,x=d&67108863,A=d/67108864|0;c.words[0]=x;for(var h=1;h<m;h++){for(var S=A>>>26,K=A&67108863,T=Math.min(h,a.length-1),k=Math.max(0,h-g.length+1);k<=T;k++){var z=h-k|0;v=g.words[z]|0,u=a.words[k]|0,d=v*u+K,S+=d/67108864|0,K=d&67108863}c.words[h]=K|0,A=S|0}return A!==0?c.words[h]=A|0:c.length--,c._strip()}var $=function(a,c,m){var v=a.words,u=c.words,d=m.words,x=0,A,h,S,K=v[0]|0,T=K&8191,k=K>>>13,z=v[1]|0,O=z&8191,B=z>>>13,q=v[2]|0,U=q&8191,F=q>>>13,Y=v[3]|0,j=Y&8191,H=Y>>>13,te=v[4]|0,J=te&8191,X=te>>>13,ae=v[5]|0,se=ae&8191,ue=ae>>>13,je=v[6]|0,de=je&8191,me=je>>>13,He=v[7]|0,le=He&8191,Me=He>>>13,nt=v[8]|0,ye=nt&8191,Te=nt>>>13,Ye=v[9]|0,ge=Ye&8191,Ce=Ye>>>13,$e=u[0]|0,pe=$e&8191,Be=$e>>>13,ht=u[1]|0,be=ht&8191,De=ht>>>13,lt=u[2]|0,we=lt&8191,Re=lt>>>13,dt=u[3]|0,_e=dt&8191,Pe=dt>>>13,pt=u[4]|0,xe=pt&8191,Le=pt>>>13,gt=u[5]|0,Ee=gt&8191,qe=gt>>>13,vt=u[6]|0,Ae=vt&8191,Fe=vt>>>13,yt=u[7]|0,Se=yt&8191,Ue=yt>>>13,mt=u[8]|0,Ie=mt&8191,Ne=mt>>>13,gr=u[9]|0,Ge=gr&8191,Qe=gr>>>13;m.negative=a.negative^c.negative,m.length=19,A=Math.imul(T,pe),h=Math.imul(T,Be),h=h+Math.imul(k,pe)|0,S=Math.imul(k,Be);var tr=(x+A|0)+((h&8191)<<13)|0;x=(S+(h>>>13)|0)+(tr>>>26)|0,tr&=67108863,A=Math.imul(O,pe),h=Math.imul(O,Be),h=h+Math.imul(B,pe)|0,S=Math.imul(B,Be),A=A+Math.imul(T,be)|0,h=h+Math.imul(T,De)|0,h=h+Math.imul(k,be)|0,S=S+Math.imul(k,De)|0;var rr=(x+A|0)+((h&8191)<<13)|0;x=(S+(h>>>13)|0)+(rr>>>26)|0,rr&=67108863,A=Math.imul(U,pe),h=Math.imul(U,Be),h=h+Math.imul(F,pe)|0,S=Math.imul(F,Be),A=A+Math.imul(O,be)|0,h=h+Math.imul(O,De)|0,h=h+Math.imul(B,be)|0,S=S+Math.imul(B,De)|0,A=A+Math.imul(T,we)|0,h=h+Math.imul(T,Re)|0,h=h+Math.imul(k,we)|0,S=S+Math.imul(k,Re)|0;var ir=(x+A|0)+((h&8191)<<13)|0;x=(S+(h>>>13)|0)+(ir>>>26)|0,ir&=67108863,A=Math.imul(j,pe),h=Math.imul(j,Be),h=h+Math.imul(H,pe)|0,S=Math.imul(H,Be),A=A+Math.imul(U,be)|0,h=h+Math.imul(U,De)|0,h=h+Math.imul(F,be)|0,S=S+Math.imul(F,De)|0,A=A+Math.imul(O,we)|0,h=h+Math.imul(O,Re)|0,h=h+Math.imul(B,we)|0,S=S+Math.imul(B,Re)|0,A=A+Math.imul(T,_e)|0,h=h+Math.imul(T,Pe)|0,h=h+Math.imul(k,_e)|0,S=S+Math.imul(k,Pe)|0;var nr=(x+A|0)+((h&8191)<<13)|0;x=(S+(h>>>13)|0)+(nr>>>26)|0,nr&=67108863,A=Math.imul(J,pe),h=Math.imul(J,Be),h=h+Math.imul(X,pe)|0,S=Math.imul(X,Be),A=A+Math.imul(j,be)|0,h=h+Math.imul(j,De)|0,h=h+Math.imul(H,be)|0,S=S+Math.imul(H,De)|0,A=A+Math.imul(U,we)|0,h=h+Math.imul(U,Re)|0,h=h+Math.imul(F,we)|0,S=S+Math.imul(F,Re)|0,A=A+Math.imul(O,_e)|0,h=h+Math.imul(O,Pe)|0,h=h+Math.imul(B,_e)|0,S=S+Math.imul(B,Pe)|0,A=A+Math.imul(T,xe)|0,h=h+Math.imul(T,Le)|0,h=h+Math.imul(k,xe)|0,S=S+Math.imul(k,Le)|0;var sr=(x+A|0)+((h&8191)<<13)|0;x=(S+(h>>>13)|0)+(sr>>>26)|0,sr&=67108863,A=Math.imul(se,pe),h=Math.imul(se,Be),h=h+Math.imul(ue,pe)|0,S=Math.imul(ue,Be),A=A+Math.imul(J,be)|0,h=h+Math.imul(J,De)|0,h=h+Math.imul(X,be)|0,S=S+Math.imul(X,De)|0,A=A+Math.imul(j,we)|0,h=h+Math.imul(j,Re)|0,h=h+Math.imul(H,we)|0,S=S+Math.imul(H,Re)|0,A=A+Math.imul(U,_e)|0,h=h+Math.imul(U,Pe)|0,h=h+Math.imul(F,_e)|0,S=S+Math.imul(F,Pe)|0,A=A+Math.imul(O,xe)|0,h=h+Math.imul(O,Le)|0,h=h+Math.imul(B,xe)|0,S=S+Math.imul(B,Le)|0,A=A+Math.imul(T,Ee)|0,h=h+Math.imul(T,qe)|0,h=h+Math.imul(k,Ee)|0,S=S+Math.imul(k,qe)|0;var ri=(x+A|0)+((h&8191)<<13)|0;x=(S+(h>>>13)|0)+(ri>>>26)|0,ri&=67108863,A=Math.imul(de,pe),h=Math.imul(de,Be),h=h+Math.imul(me,pe)|0,S=Math.imul(me,Be),A=A+Math.imul(se,be)|0,h=h+Math.imul(se,De)|0,h=h+Math.imul(ue,be)|0,S=S+Math.imul(ue,De)|0,A=A+Math.imul(J,we)|0,h=h+Math.imul(J,Re)|0,h=h+Math.imul(X,we)|0,S=S+Math.imul(X,Re)|0,A=A+Math.imul(j,_e)|0,h=h+Math.imul(j,Pe)|0,h=h+Math.imul(H,_e)|0,S=S+Math.imul(H,Pe)|0,A=A+Math.imul(U,xe)|0,h=h+Math.imul(U,Le)|0,h=h+Math.imul(F,xe)|0,S=S+Math.imul(F,Le)|0,A=A+Math.imul(O,Ee)|0,h=h+Math.imul(O,qe)|0,h=h+Math.imul(B,Ee)|0,S=S+Math.imul(B,qe)|0,A=A+Math.imul(T,Ae)|0,h=h+Math.imul(T,Fe)|0,h=h+Math.imul(k,Ae)|0,S=S+Math.imul(k,Fe)|0;var ii=(x+A|0)+((h&8191)<<13)|0;x=(S+(h>>>13)|0)+(ii>>>26)|0,ii&=67108863,A=Math.imul(le,pe),h=Math.imul(le,Be),h=h+Math.imul(Me,pe)|0,S=Math.imul(Me,Be),A=A+Math.imul(de,be)|0,h=h+Math.imul(de,De)|0,h=h+Math.imul(me,be)|0,S=S+Math.imul(me,De)|0,A=A+Math.imul(se,we)|0,h=h+Math.imul(se,Re)|0,h=h+Math.imul(ue,we)|0,S=S+Math.imul(ue,Re)|0,A=A+Math.imul(J,_e)|0,h=h+Math.imul(J,Pe)|0,h=h+Math.imul(X,_e)|0,S=S+Math.imul(X,Pe)|0,A=A+Math.imul(j,xe)|0,h=h+Math.imul(j,Le)|0,h=h+Math.imul(H,xe)|0,S=S+Math.imul(H,Le)|0,A=A+Math.imul(U,Ee)|0,h=h+Math.imul(U,qe)|0,h=h+Math.imul(F,Ee)|0,S=S+Math.imul(F,qe)|0,A=A+Math.imul(O,Ae)|0,h=h+Math.imul(O,Fe)|0,h=h+Math.imul(B,Ae)|0,S=S+Math.imul(B,Fe)|0,A=A+Math.imul(T,Se)|0,h=h+Math.imul(T,Ue)|0,h=h+Math.imul(k,Se)|0,S=S+Math.imul(k,Ue)|0;var ni=(x+A|0)+((h&8191)<<13)|0;x=(S+(h>>>13)|0)+(ni>>>26)|0,ni&=67108863,A=Math.imul(ye,pe),h=Math.imul(ye,Be),h=h+Math.imul(Te,pe)|0,S=Math.imul(Te,Be),A=A+Math.imul(le,be)|0,h=h+Math.imul(le,De)|0,h=h+Math.imul(Me,be)|0,S=S+Math.imul(Me,De)|0,A=A+Math.imul(de,we)|0,h=h+Math.imul(de,Re)|0,h=h+Math.imul(me,we)|0,S=S+Math.imul(me,Re)|0,A=A+Math.imul(se,_e)|0,h=h+Math.imul(se,Pe)|0,h=h+Math.imul(ue,_e)|0,S=S+Math.imul(ue,Pe)|0,A=A+Math.imul(J,xe)|0,h=h+Math.imul(J,Le)|0,h=h+Math.imul(X,xe)|0,S=S+Math.imul(X,Le)|0,A=A+Math.imul(j,Ee)|0,h=h+Math.imul(j,qe)|0,h=h+Math.imul(H,Ee)|0,S=S+Math.imul(H,qe)|0,A=A+Math.imul(U,Ae)|0,h=h+Math.imul(U,Fe)|0,h=h+Math.imul(F,Ae)|0,S=S+Math.imul(F,Fe)|0,A=A+Math.imul(O,Se)|0,h=h+Math.imul(O,Ue)|0,h=h+Math.imul(B,Se)|0,S=S+Math.imul(B,Ue)|0,A=A+Math.imul(T,Ie)|0,h=h+Math.imul(T,Ne)|0,h=h+Math.imul(k,Ie)|0,S=S+Math.imul(k,Ne)|0;var si=(x+A|0)+((h&8191)<<13)|0;x=(S+(h>>>13)|0)+(si>>>26)|0,si&=67108863,A=Math.imul(ge,pe),h=Math.imul(ge,Be),h=h+Math.imul(Ce,pe)|0,S=Math.imul(Ce,Be),A=A+Math.imul(ye,be)|0,h=h+Math.imul(ye,De)|0,h=h+Math.imul(Te,be)|0,S=S+Math.imul(Te,De)|0,A=A+Math.imul(le,we)|0,h=h+Math.imul(le,Re)|0,h=h+Math.imul(Me,we)|0,S=S+Math.imul(Me,Re)|0,A=A+Math.imul(de,_e)|0,h=h+Math.imul(de,Pe)|0,h=h+Math.imul(me,_e)|0,S=S+Math.imul(me,Pe)|0,A=A+Math.imul(se,xe)|0,h=h+Math.imul(se,Le)|0,h=h+Math.imul(ue,xe)|0,S=S+Math.imul(ue,Le)|0,A=A+Math.imul(J,Ee)|0,h=h+Math.imul(J,qe)|0,h=h+Math.imul(X,Ee)|0,S=S+Math.imul(X,qe)|0,A=A+Math.imul(j,Ae)|0,h=h+Math.imul(j,Fe)|0,h=h+Math.imul(H,Ae)|0,S=S+Math.imul(H,Fe)|0,A=A+Math.imul(U,Se)|0,h=h+Math.imul(U,Ue)|0,h=h+Math.imul(F,Se)|0,S=S+Math.imul(F,Ue)|0,A=A+Math.imul(O,Ie)|0,h=h+Math.imul(O,Ne)|0,h=h+Math.imul(B,Ie)|0,S=S+Math.imul(B,Ne)|0,A=A+Math.imul(T,Ge)|0,h=h+Math.imul(T,Qe)|0,h=h+Math.imul(k,Ge)|0,S=S+Math.imul(k,Qe)|0;var oi=(x+A|0)+((h&8191)<<13)|0;x=(S+(h>>>13)|0)+(oi>>>26)|0,oi&=67108863,A=Math.imul(ge,be),h=Math.imul(ge,De),h=h+Math.imul(Ce,be)|0,S=Math.imul(Ce,De),A=A+Math.imul(ye,we)|0,h=h+Math.imul(ye,Re)|0,h=h+Math.imul(Te,we)|0,S=S+Math.imul(Te,Re)|0,A=A+Math.imul(le,_e)|0,h=h+Math.imul(le,Pe)|0,h=h+Math.imul(Me,_e)|0,S=S+Math.imul(Me,Pe)|0,A=A+Math.imul(de,xe)|0,h=h+Math.imul(de,Le)|0,h=h+Math.imul(me,xe)|0,S=S+Math.imul(me,Le)|0,A=A+Math.imul(se,Ee)|0,h=h+Math.imul(se,qe)|0,h=h+Math.imul(ue,Ee)|0,S=S+Math.imul(ue,qe)|0,A=A+Math.imul(J,Ae)|0,h=h+Math.imul(J,Fe)|0,h=h+Math.imul(X,Ae)|0,S=S+Math.imul(X,Fe)|0,A=A+Math.imul(j,Se)|0,h=h+Math.imul(j,Ue)|0,h=h+Math.imul(H,Se)|0,S=S+Math.imul(H,Ue)|0,A=A+Math.imul(U,Ie)|0,h=h+Math.imul(U,Ne)|0,h=h+Math.imul(F,Ie)|0,S=S+Math.imul(F,Ne)|0,A=A+Math.imul(O,Ge)|0,h=h+Math.imul(O,Qe)|0,h=h+Math.imul(B,Ge)|0,S=S+Math.imul(B,Qe)|0;var ai=(x+A|0)+((h&8191)<<13)|0;x=(S+(h>>>13)|0)+(ai>>>26)|0,ai&=67108863,A=Math.imul(ge,we),h=Math.imul(ge,Re),h=h+Math.imul(Ce,we)|0,S=Math.imul(Ce,Re),A=A+Math.imul(ye,_e)|0,h=h+Math.imul(ye,Pe)|0,h=h+Math.imul(Te,_e)|0,S=S+Math.imul(Te,Pe)|0,A=A+Math.imul(le,xe)|0,h=h+Math.imul(le,Le)|0,h=h+Math.imul(Me,xe)|0,S=S+Math.imul(Me,Le)|0,A=A+Math.imul(de,Ee)|0,h=h+Math.imul(de,qe)|0,h=h+Math.imul(me,Ee)|0,S=S+Math.imul(me,qe)|0,A=A+Math.imul(se,Ae)|0,h=h+Math.imul(se,Fe)|0,h=h+Math.imul(ue,Ae)|0,S=S+Math.imul(ue,Fe)|0,A=A+Math.imul(J,Se)|0,h=h+Math.imul(J,Ue)|0,h=h+Math.imul(X,Se)|0,S=S+Math.imul(X,Ue)|0,A=A+Math.imul(j,Ie)|0,h=h+Math.imul(j,Ne)|0,h=h+Math.imul(H,Ie)|0,S=S+Math.imul(H,Ne)|0,A=A+Math.imul(U,Ge)|0,h=h+Math.imul(U,Qe)|0,h=h+Math.imul(F,Ge)|0,S=S+Math.imul(F,Qe)|0;var fi=(x+A|0)+((h&8191)<<13)|0;x=(S+(h>>>13)|0)+(fi>>>26)|0,fi&=67108863,A=Math.imul(ge,_e),h=Math.imul(ge,Pe),h=h+Math.imul(Ce,_e)|0,S=Math.imul(Ce,Pe),A=A+Math.imul(ye,xe)|0,h=h+Math.imul(ye,Le)|0,h=h+Math.imul(Te,xe)|0,S=S+Math.imul(Te,Le)|0,A=A+Math.imul(le,Ee)|0,h=h+Math.imul(le,qe)|0,h=h+Math.imul(Me,Ee)|0,S=S+Math.imul(Me,qe)|0,A=A+Math.imul(de,Ae)|0,h=h+Math.imul(de,Fe)|0,h=h+Math.imul(me,Ae)|0,S=S+Math.imul(me,Fe)|0,A=A+Math.imul(se,Se)|0,h=h+Math.imul(se,Ue)|0,h=h+Math.imul(ue,Se)|0,S=S+Math.imul(ue,Ue)|0,A=A+Math.imul(J,Ie)|0,h=h+Math.imul(J,Ne)|0,h=h+Math.imul(X,Ie)|0,S=S+Math.imul(X,Ne)|0,A=A+Math.imul(j,Ge)|0,h=h+Math.imul(j,Qe)|0,h=h+Math.imul(H,Ge)|0,S=S+Math.imul(H,Qe)|0;var ui=(x+A|0)+((h&8191)<<13)|0;x=(S+(h>>>13)|0)+(ui>>>26)|0,ui&=67108863,A=Math.imul(ge,xe),h=Math.imul(ge,Le),h=h+Math.imul(Ce,xe)|0,S=Math.imul(Ce,Le),A=A+Math.imul(ye,Ee)|0,h=h+Math.imul(ye,qe)|0,h=h+Math.imul(Te,Ee)|0,S=S+Math.imul(Te,qe)|0,A=A+Math.imul(le,Ae)|0,h=h+Math.imul(le,Fe)|0,h=h+Math.imul(Me,Ae)|0,S=S+Math.imul(Me,Fe)|0,A=A+Math.imul(de,Se)|0,h=h+Math.imul(de,Ue)|0,h=h+Math.imul(me,Se)|0,S=S+Math.imul(me,Ue)|0,A=A+Math.imul(se,Ie)|0,h=h+Math.imul(se,Ne)|0,h=h+Math.imul(ue,Ie)|0,S=S+Math.imul(ue,Ne)|0,A=A+Math.imul(J,Ge)|0,h=h+Math.imul(J,Qe)|0,h=h+Math.imul(X,Ge)|0,S=S+Math.imul(X,Qe)|0;var ci=(x+A|0)+((h&8191)<<13)|0;x=(S+(h>>>13)|0)+(ci>>>26)|0,ci&=67108863,A=Math.imul(ge,Ee),h=Math.imul(ge,qe),h=h+Math.imul(Ce,Ee)|0,S=Math.imul(Ce,qe),A=A+Math.imul(ye,Ae)|0,h=h+Math.imul(ye,Fe)|0,h=h+Math.imul(Te,Ae)|0,S=S+Math.imul(Te,Fe)|0,A=A+Math.imul(le,Se)|0,h=h+Math.imul(le,Ue)|0,h=h+Math.imul(Me,Se)|0,S=S+Math.imul(Me,Ue)|0,A=A+Math.imul(de,Ie)|0,h=h+Math.imul(de,Ne)|0,h=h+Math.imul(me,Ie)|0,S=S+Math.imul(me,Ne)|0,A=A+Math.imul(se,Ge)|0,h=h+Math.imul(se,Qe)|0,h=h+Math.imul(ue,Ge)|0,S=S+Math.imul(ue,Qe)|0;var hi=(x+A|0)+((h&8191)<<13)|0;x=(S+(h>>>13)|0)+(hi>>>26)|0,hi&=67108863,A=Math.imul(ge,Ae),h=Math.imul(ge,Fe),h=h+Math.imul(Ce,Ae)|0,S=Math.imul(Ce,Fe),A=A+Math.imul(ye,Se)|0,h=h+Math.imul(ye,Ue)|0,h=h+Math.imul(Te,Se)|0,S=S+Math.imul(Te,Ue)|0,A=A+Math.imul(le,Ie)|0,h=h+Math.imul(le,Ne)|0,h=h+Math.imul(Me,Ie)|0,S=S+Math.imul(Me,Ne)|0,A=A+Math.imul(de,Ge)|0,h=h+Math.imul(de,Qe)|0,h=h+Math.imul(me,Ge)|0,S=S+Math.imul(me,Qe)|0;var wn=(x+A|0)+((h&8191)<<13)|0;x=(S+(h>>>13)|0)+(wn>>>26)|0,wn&=67108863,A=Math.imul(ge,Se),h=Math.imul(ge,Ue),h=h+Math.imul(Ce,Se)|0,S=Math.imul(Ce,Ue),A=A+Math.imul(ye,Ie)|0,h=h+Math.imul(ye,Ne)|0,h=h+Math.imul(Te,Ie)|0,S=S+Math.imul(Te,Ne)|0,A=A+Math.imul(le,Ge)|0,h=h+Math.imul(le,Qe)|0,h=h+Math.imul(Me,Ge)|0,S=S+Math.imul(Me,Qe)|0;var of=(x+A|0)+((h&8191)<<13)|0;x=(S+(h>>>13)|0)+(of>>>26)|0,of&=67108863,A=Math.imul(ge,Ie),h=Math.imul(ge,Ne),h=h+Math.imul(Ce,Ie)|0,S=Math.imul(Ce,Ne),A=A+Math.imul(ye,Ge)|0,h=h+Math.imul(ye,Qe)|0,h=h+Math.imul(Te,Ge)|0,S=S+Math.imul(Te,Qe)|0;var af=(x+A|0)+((h&8191)<<13)|0;x=(S+(h>>>13)|0)+(af>>>26)|0,af&=67108863,A=Math.imul(ge,Ge),h=Math.imul(ge,Qe),h=h+Math.imul(Ce,Ge)|0,S=Math.imul(Ce,Qe);var ff=(x+A|0)+((h&8191)<<13)|0;return x=(S+(h>>>13)|0)+(ff>>>26)|0,ff&=67108863,d[0]=tr,d[1]=rr,d[2]=ir,d[3]=nr,d[4]=sr,d[5]=ri,d[6]=ii,d[7]=ni,d[8]=si,d[9]=oi,d[10]=ai,d[11]=fi,d[12]=ui,d[13]=ci,d[14]=hi,d[15]=wn,d[16]=of,d[17]=af,d[18]=ff,x!==0&&(d[19]=x,m.length++),m};Math.imul||($=W);function re(g,a,c){c.negative=a.negative^g.negative,c.length=g.length+a.length;for(var m=0,v=0,u=0;u<c.length-1;u++){var d=v;v=0;for(var x=m&67108863,A=Math.min(u,a.length-1),h=Math.max(0,u-g.length+1);h<=A;h++){var S=u-h,K=g.words[S]|0,T=a.words[h]|0,k=K*T,z=k&67108863;d=d+(k/67108864|0)|0,z=z+x|0,x=z&67108863,d=d+(z>>>26)|0,v+=d>>>26,d&=67108863}c.words[u]=x,m=d,d=v}return m!==0?c.words[u]=m:c.length--,c._strip()}function ee(g,a,c){return re(g,a,c)}n.prototype.mulTo=function(a,c){var m,v=this.length+a.length;return this.length===10&&a.length===10?m=$(this,a,c):v<63?m=W(this,a,c):v<1024?m=re(this,a,c):m=ee(this,a,c),m};function ie(g,a){this.x=g,this.y=a}ie.prototype.makeRBT=function(a){for(var c=new Array(a),m=n.prototype._countBits(a)-1,v=0;v<a;v++)c[v]=this.revBin(v,m,a);return c},ie.prototype.revBin=function(a,c,m){if(a===0||a===m-1)return a;for(var v=0,u=0;u<c;u++)v|=(a&1)<<c-u-1,a>>=1;return v},ie.prototype.permute=function(a,c,m,v,u,d){for(var x=0;x<d;x++)v[x]=c[a[x]],u[x]=m[a[x]]},ie.prototype.transform=function(a,c,m,v,u,d){this.permute(d,a,c,m,v,u);for(var x=1;x<u;x<<=1)for(var A=x<<1,h=Math.cos(2*Math.PI/A),S=Math.sin(2*Math.PI/A),K=0;K<u;K+=A)for(var T=h,k=S,z=0;z<x;z++){var O=m[K+z],B=v[K+z],q=m[K+z+x],U=v[K+z+x],F=T*q-k*U;U=T*U+k*q,q=F,m[K+z]=O+q,v[K+z]=B+U,m[K+z+x]=O-q,v[K+z+x]=B-U,z!==A&&(F=h*T-S*k,k=h*k+S*T,T=F)}},ie.prototype.guessLen13b=function(a,c){var m=Math.max(c,a)|1,v=m&1,u=0;for(m=m/2|0;m;m=m>>>1)u++;return 1<<u+1+v},ie.prototype.conjugate=function(a,c,m){if(!(m<=1))for(var v=0;v<m/2;v++){var u=a[v];a[v]=a[m-v-1],a[m-v-1]=u,u=c[v],c[v]=-c[m-v-1],c[m-v-1]=-u}},ie.prototype.normalize13b=function(a,c){for(var m=0,v=0;v<c/2;v++){var u=Math.round(a[2*v+1]/c)*8192+Math.round(a[2*v]/c)+m;a[v]=u&67108863,u<67108864?m=0:m=u/67108864|0}return a},ie.prototype.convert13b=function(a,c,m,v){for(var u=0,d=0;d<c;d++)u=u+(a[d]|0),m[2*d]=u&8191,u=u>>>13,m[2*d+1]=u&8191,u=u>>>13;for(d=2*c;d<v;++d)m[d]=0;r(u===0),r((u&-8192)===0)},ie.prototype.stub=function(a){for(var c=new Array(a),m=0;m<a;m++)c[m]=0;return c},ie.prototype.mulp=function(a,c,m){var v=2*this.guessLen13b(a.length,c.length),u=this.makeRBT(v),d=this.stub(v),x=new Array(v),A=new Array(v),h=new Array(v),S=new Array(v),K=new Array(v),T=new Array(v),k=m.words;k.length=v,this.convert13b(a.words,a.length,x,v),this.convert13b(c.words,c.length,S,v),this.transform(x,d,A,h,v,u),this.transform(S,d,K,T,v,u);for(var z=0;z<v;z++){var O=A[z]*K[z]-h[z]*T[z];h[z]=A[z]*T[z]+h[z]*K[z],A[z]=O}return this.conjugate(A,h,v),this.transform(A,h,k,d,v,u),this.conjugate(k,d,v),this.normalize13b(k,v),m.negative=a.negative^c.negative,m.length=a.length+c.length,m._strip()},n.prototype.mul=function(a){var c=new n(null);return c.words=new Array(this.length+a.length),this.mulTo(a,c)},n.prototype.mulf=function(a){var c=new n(null);return c.words=new Array(this.length+a.length),ee(this,a,c)},n.prototype.imul=function(a){return this.clone().mulTo(a,this)},n.prototype.imuln=function(a){var c=a<0;c&&(a=-a),r(typeof a=="number"),r(a<67108864);for(var m=0,v=0;v<this.length;v++){var u=(this.words[v]|0)*a,d=(u&67108863)+(m&67108863);m>>=26,m+=u/67108864|0,m+=d>>>26,this.words[v]=d&67108863}return m!==0&&(this.words[v]=m,this.length++),c?this.ineg():this},n.prototype.muln=function(a){return this.clone().imuln(a)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(a){var c=V(a);if(c.length===0)return new n(1);for(var m=this,v=0;v<c.length&&c[v]===0;v++,m=m.sqr());if(++v<c.length)for(var u=m.sqr();v<c.length;v++,u=u.sqr())c[v]!==0&&(m=m.mul(u));return m},n.prototype.iushln=function(a){r(typeof a=="number"&&a>=0);var c=a%26,m=(a-c)/26,v=67108863>>>26-c<<26-c,u;if(c!==0){var d=0;for(u=0;u<this.length;u++){var x=this.words[u]&v,A=(this.words[u]|0)-x<<c;this.words[u]=A|d,d=x>>>26-c}d&&(this.words[u]=d,this.length++)}if(m!==0){for(u=this.length-1;u>=0;u--)this.words[u+m]=this.words[u];for(u=0;u<m;u++)this.words[u]=0;this.length+=m}return this._strip()},n.prototype.ishln=function(a){return r(this.negative===0),this.iushln(a)},n.prototype.iushrn=function(a,c,m){r(typeof a=="number"&&a>=0);var v;c?v=(c-c%26)/26:v=0;var u=a%26,d=Math.min((a-u)/26,this.length),x=67108863^67108863>>>u<<u,A=m;if(v-=d,v=Math.max(0,v),A){for(var h=0;h<d;h++)A.words[h]=this.words[h];A.length=d}if(d!==0)if(this.length>d)for(this.length-=d,h=0;h<this.length;h++)this.words[h]=this.words[h+d];else this.words[0]=0,this.length=1;var S=0;for(h=this.length-1;h>=0&&(S!==0||h>=v);h--){var K=this.words[h]|0;this.words[h]=S<<26-u|K>>>u,S=K&x}return A&&S!==0&&(A.words[A.length++]=S),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},n.prototype.ishrn=function(a,c,m){return r(this.negative===0),this.iushrn(a,c,m)},n.prototype.shln=function(a){return this.clone().ishln(a)},n.prototype.ushln=function(a){return this.clone().iushln(a)},n.prototype.shrn=function(a){return this.clone().ishrn(a)},n.prototype.ushrn=function(a){return this.clone().iushrn(a)},n.prototype.testn=function(a){r(typeof a=="number"&&a>=0);var c=a%26,m=(a-c)/26,v=1<<c;if(this.length<=m)return!1;var u=this.words[m];return!!(u&v)},n.prototype.imaskn=function(a){r(typeof a=="number"&&a>=0);var c=a%26,m=(a-c)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=m)return this;if(c!==0&&m++,this.length=Math.min(m,this.length),c!==0){var v=67108863^67108863>>>c<<c;this.words[this.length-1]&=v}return this._strip()},n.prototype.maskn=function(a){return this.clone().imaskn(a)},n.prototype.iaddn=function(a){return r(typeof a=="number"),r(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<=a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},n.prototype._iaddn=function(a){this.words[0]+=a;for(var c=0;c<this.length&&this.words[c]>=67108864;c++)this.words[c]-=67108864,c===this.length-1?this.words[c+1]=1:this.words[c+1]++;return this.length=Math.max(this.length,c+1),this},n.prototype.isubn=function(a){if(r(typeof a=="number"),r(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var c=0;c<this.length&&this.words[c]<0;c++)this.words[c]+=67108864,this.words[c+1]-=1;return this._strip()},n.prototype.addn=function(a){return this.clone().iaddn(a)},n.prototype.subn=function(a){return this.clone().isubn(a)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(a,c,m){var v=a.length+m,u;this._expand(v);var d,x=0;for(u=0;u<a.length;u++){d=(this.words[u+m]|0)+x;var A=(a.words[u]|0)*c;d-=A&67108863,x=(d>>26)-(A/67108864|0),this.words[u+m]=d&67108863}for(;u<this.length-m;u++)d=(this.words[u+m]|0)+x,x=d>>26,this.words[u+m]=d&67108863;if(x===0)return this._strip();for(r(x===-1),x=0,u=0;u<this.length;u++)d=-(this.words[u]|0)+x,x=d>>26,this.words[u]=d&67108863;return this.negative=1,this._strip()},n.prototype._wordDiv=function(a,c){var m=this.length-a.length,v=this.clone(),u=a,d=u.words[u.length-1]|0,x=this._countBits(d);m=26-x,m!==0&&(u=u.ushln(m),v.iushln(m),d=u.words[u.length-1]|0);var A=v.length-u.length,h;if(c!=="mod"){h=new n(null),h.length=A+1,h.words=new Array(h.length);for(var S=0;S<h.length;S++)h.words[S]=0}var K=v.clone()._ishlnsubmul(u,1,A);K.negative===0&&(v=K,h&&(h.words[A]=1));for(var T=A-1;T>=0;T--){var k=(v.words[u.length+T]|0)*67108864+(v.words[u.length+T-1]|0);for(k=Math.min(k/d|0,67108863),v._ishlnsubmul(u,k,T);v.negative!==0;)k--,v.negative=0,v._ishlnsubmul(u,1,T),v.isZero()||(v.negative^=1);h&&(h.words[T]=k)}return h&&h._strip(),v._strip(),c!=="div"&&m!==0&&v.iushrn(m),{div:h||null,mod:v}},n.prototype.divmod=function(a,c,m){if(r(!a.isZero()),this.isZero())return{div:new n(0),mod:new n(0)};var v,u,d;return this.negative!==0&&a.negative===0?(d=this.neg().divmod(a,c),c!=="mod"&&(v=d.div.neg()),c!=="div"&&(u=d.mod.neg(),m&&u.negative!==0&&u.iadd(a)),{div:v,mod:u}):this.negative===0&&a.negative!==0?(d=this.divmod(a.neg(),c),c!=="mod"&&(v=d.div.neg()),{div:v,mod:d.mod}):(this.negative&a.negative)!==0?(d=this.neg().divmod(a.neg(),c),c!=="div"&&(u=d.mod.neg(),m&&u.negative!==0&&u.isub(a)),{div:d.div,mod:u}):a.length>this.length||this.cmp(a)<0?{div:new n(0),mod:this}:a.length===1?c==="div"?{div:this.divn(a.words[0]),mod:null}:c==="mod"?{div:null,mod:new n(this.modrn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new n(this.modrn(a.words[0]))}:this._wordDiv(a,c)},n.prototype.div=function(a){return this.divmod(a,"div",!1).div},n.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},n.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},n.prototype.divRound=function(a){var c=this.divmod(a);if(c.mod.isZero())return c.div;var m=c.div.negative!==0?c.mod.isub(a):c.mod,v=a.ushrn(1),u=a.andln(1),d=m.cmp(v);return d<0||u===1&&d===0?c.div:c.div.negative!==0?c.div.isubn(1):c.div.iaddn(1)},n.prototype.modrn=function(a){var c=a<0;c&&(a=-a),r(a<=67108863);for(var m=(1<<26)%a,v=0,u=this.length-1;u>=0;u--)v=(m*v+(this.words[u]|0))%a;return c?-v:v},n.prototype.modn=function(a){return this.modrn(a)},n.prototype.idivn=function(a){var c=a<0;c&&(a=-a),r(a<=67108863);for(var m=0,v=this.length-1;v>=0;v--){var u=(this.words[v]|0)+m*67108864;this.words[v]=u/a|0,m=u%a}return this._strip(),c?this.ineg():this},n.prototype.divn=function(a){return this.clone().idivn(a)},n.prototype.egcd=function(a){r(a.negative===0),r(!a.isZero());var c=this,m=a.clone();c.negative!==0?c=c.umod(a):c=c.clone();for(var v=new n(1),u=new n(0),d=new n(0),x=new n(1),A=0;c.isEven()&&m.isEven();)c.iushrn(1),m.iushrn(1),++A;for(var h=m.clone(),S=c.clone();!c.isZero();){for(var K=0,T=1;(c.words[0]&T)===0&&K<26;++K,T<<=1);if(K>0)for(c.iushrn(K);K-- >0;)(v.isOdd()||u.isOdd())&&(v.iadd(h),u.isub(S)),v.iushrn(1),u.iushrn(1);for(var k=0,z=1;(m.words[0]&z)===0&&k<26;++k,z<<=1);if(k>0)for(m.iushrn(k);k-- >0;)(d.isOdd()||x.isOdd())&&(d.iadd(h),x.isub(S)),d.iushrn(1),x.iushrn(1);c.cmp(m)>=0?(c.isub(m),v.isub(d),u.isub(x)):(m.isub(c),d.isub(v),x.isub(u))}return{a:d,b:x,gcd:m.iushln(A)}},n.prototype._invmp=function(a){r(a.negative===0),r(!a.isZero());var c=this,m=a.clone();c.negative!==0?c=c.umod(a):c=c.clone();for(var v=new n(1),u=new n(0),d=m.clone();c.cmpn(1)>0&&m.cmpn(1)>0;){for(var x=0,A=1;(c.words[0]&A)===0&&x<26;++x,A<<=1);if(x>0)for(c.iushrn(x);x-- >0;)v.isOdd()&&v.iadd(d),v.iushrn(1);for(var h=0,S=1;(m.words[0]&S)===0&&h<26;++h,S<<=1);if(h>0)for(m.iushrn(h);h-- >0;)u.isOdd()&&u.iadd(d),u.iushrn(1);c.cmp(m)>=0?(c.isub(m),v.isub(u)):(m.isub(c),u.isub(v))}var K;return c.cmpn(1)===0?K=v:K=u,K.cmpn(0)<0&&K.iadd(a),K},n.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var c=this.clone(),m=a.clone();c.negative=0,m.negative=0;for(var v=0;c.isEven()&&m.isEven();v++)c.iushrn(1),m.iushrn(1);do{for(;c.isEven();)c.iushrn(1);for(;m.isEven();)m.iushrn(1);var u=c.cmp(m);if(u<0){var d=c;c=m,m=d}else if(u===0||m.cmpn(1)===0)break;c.isub(m)}while(!0);return m.iushln(v)},n.prototype.invm=function(a){return this.egcd(a).a.umod(a)},n.prototype.isEven=function(){return(this.words[0]&1)===0},n.prototype.isOdd=function(){return(this.words[0]&1)===1},n.prototype.andln=function(a){return this.words[0]&a},n.prototype.bincn=function(a){r(typeof a=="number");var c=a%26,m=(a-c)/26,v=1<<c;if(this.length<=m)return this._expand(m+1),this.words[m]|=v,this;for(var u=v,d=m;u!==0&&d<this.length;d++){var x=this.words[d]|0;x+=u,u=x>>>26,x&=67108863,this.words[d]=x}return u!==0&&(this.words[d]=u,this.length++),this},n.prototype.isZero=function(){return this.length===1&&this.words[0]===0},n.prototype.cmpn=function(a){var c=a<0;if(this.negative!==0&&!c)return-1;if(this.negative===0&&c)return 1;this._strip();var m;if(this.length>1)m=1;else{c&&(a=-a),r(a<=67108863,"Number is too big");var v=this.words[0]|0;m=v===a?0:v<a?-1:1}return this.negative!==0?-m|0:m},n.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var c=this.ucmp(a);return this.negative!==0?-c|0:c},n.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var c=0,m=this.length-1;m>=0;m--){var v=this.words[m]|0,u=a.words[m]|0;if(v!==u){v<u?c=-1:v>u&&(c=1);break}}return c},n.prototype.gtn=function(a){return this.cmpn(a)===1},n.prototype.gt=function(a){return this.cmp(a)===1},n.prototype.gten=function(a){return this.cmpn(a)>=0},n.prototype.gte=function(a){return this.cmp(a)>=0},n.prototype.ltn=function(a){return this.cmpn(a)===-1},n.prototype.lt=function(a){return this.cmp(a)===-1},n.prototype.lten=function(a){return this.cmpn(a)<=0},n.prototype.lte=function(a){return this.cmp(a)<=0},n.prototype.eqn=function(a){return this.cmpn(a)===0},n.prototype.eq=function(a){return this.cmp(a)===0},n.red=function(a){return new p(a)},n.prototype.toRed=function(a){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},n.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(a){return this.red=a,this},n.prototype.forceRed=function(a){return r(!this.red,"Already a number in reduction context"),this._forceRed(a)},n.prototype.redAdd=function(a){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},n.prototype.redIAdd=function(a){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},n.prototype.redSub=function(a){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},n.prototype.redISub=function(a){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},n.prototype.redShl=function(a){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},n.prototype.redMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},n.prototype.redIMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},n.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(a){return r(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var ne={k256:null,p224:null,p192:null,p25519:null};function Z(g,a){this.name=g,this.p=new n(a,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Z.prototype._tmp=function(){var a=new n(null);return a.words=new Array(Math.ceil(this.n/13)),a},Z.prototype.ireduce=function(a){var c=a,m;do this.split(c,this.tmp),c=this.imulK(c),c=c.iadd(this.tmp),m=c.bitLength();while(m>this.n);var v=m<this.n?-1:c.ucmp(this.p);return v===0?(c.words[0]=0,c.length=1):v>0?c.isub(this.p):c.strip!==void 0?c.strip():c._strip(),c},Z.prototype.split=function(a,c){a.iushrn(this.n,0,c)},Z.prototype.imulK=function(a){return a.imul(this.k)};function G(){Z.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(G,Z),G.prototype.split=function(a,c){for(var m=4194303,v=Math.min(a.length,9),u=0;u<v;u++)c.words[u]=a.words[u];if(c.length=v,a.length<=9){a.words[0]=0,a.length=1;return}var d=a.words[9];for(c.words[c.length++]=d&m,u=10;u<a.length;u++){var x=a.words[u]|0;a.words[u-10]=(x&m)<<4|d>>>22,d=x}d>>>=22,a.words[u-10]=d,d===0&&a.length>10?a.length-=10:a.length-=9},G.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var c=0,m=0;m<a.length;m++){var v=a.words[m]|0;c+=v*977,a.words[m]=c&67108863,c=v*64+(c/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function Q(){Z.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(Q,Z);function P(){Z.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(P,Z);function w(){Z.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(w,Z),w.prototype.imulK=function(a){for(var c=0,m=0;m<a.length;m++){var v=(a.words[m]|0)*19+c,u=v&67108863;v>>>=26,a.words[m]=u,c=v}return c!==0&&(a.words[a.length++]=c),a},n._prime=function(a){if(ne[a])return ne[a];var c;if(a==="k256")c=new G;else if(a==="p224")c=new Q;else if(a==="p192")c=new P;else if(a==="p25519")c=new w;else throw new Error("Unknown prime "+a);return ne[a]=c,c};function p(g){if(typeof g=="string"){var a=n._prime(g);this.m=a.p,this.prime=a}else r(g.gtn(1),"modulus must be greater than 1"),this.m=g,this.prime=null}p.prototype._verify1=function(a){r(a.negative===0,"red works only with positives"),r(a.red,"red works only with red numbers")},p.prototype._verify2=function(a,c){r((a.negative|c.negative)===0,"red works only with positives"),r(a.red&&a.red===c.red,"red works only with red numbers")},p.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):(b(a,a.umod(this.m)._forceRed(this)),a)},p.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},p.prototype.add=function(a,c){this._verify2(a,c);var m=a.add(c);return m.cmp(this.m)>=0&&m.isub(this.m),m._forceRed(this)},p.prototype.iadd=function(a,c){this._verify2(a,c);var m=a.iadd(c);return m.cmp(this.m)>=0&&m.isub(this.m),m},p.prototype.sub=function(a,c){this._verify2(a,c);var m=a.sub(c);return m.cmpn(0)<0&&m.iadd(this.m),m._forceRed(this)},p.prototype.isub=function(a,c){this._verify2(a,c);var m=a.isub(c);return m.cmpn(0)<0&&m.iadd(this.m),m},p.prototype.shl=function(a,c){return this._verify1(a),this.imod(a.ushln(c))},p.prototype.imul=function(a,c){return this._verify2(a,c),this.imod(a.imul(c))},p.prototype.mul=function(a,c){return this._verify2(a,c),this.imod(a.mul(c))},p.prototype.isqr=function(a){return this.imul(a,a.clone())},p.prototype.sqr=function(a){return this.mul(a,a)},p.prototype.sqrt=function(a){if(a.isZero())return a.clone();var c=this.m.andln(3);if(r(c%2===1),c===3){var m=this.m.add(new n(1)).iushrn(2);return this.pow(a,m)}for(var v=this.m.subn(1),u=0;!v.isZero()&&v.andln(1)===0;)u++,v.iushrn(1);r(!v.isZero());var d=new n(1).toRed(this),x=d.redNeg(),A=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new n(2*h*h).toRed(this);this.pow(h,A).cmp(x)!==0;)h.redIAdd(x);for(var S=this.pow(h,v),K=this.pow(a,v.addn(1).iushrn(1)),T=this.pow(a,v),k=u;T.cmp(d)!==0;){for(var z=T,O=0;z.cmp(d)!==0;O++)z=z.redSqr();r(O<k);var B=this.pow(S,new n(1).iushln(k-O-1));K=K.redMul(B),S=B.redSqr(),T=T.redMul(S),k=O}return K},p.prototype.invm=function(a){var c=a._invmp(this.m);return c.negative!==0?(c.negative=0,this.imod(c).redNeg()):this.imod(c)},p.prototype.pow=function(a,c){if(c.isZero())return new n(1).toRed(this);if(c.cmpn(1)===0)return a.clone();var m=4,v=new Array(1<<m);v[0]=new n(1).toRed(this),v[1]=a;for(var u=2;u<v.length;u++)v[u]=this.mul(v[u-1],a);var d=v[0],x=0,A=0,h=c.bitLength()%26;for(h===0&&(h=26),u=c.length-1;u>=0;u--){for(var S=c.words[u],K=h-1;K>=0;K--){var T=S>>K&1;if(d!==v[0]&&(d=this.sqr(d)),T===0&&x===0){A=0;continue}x<<=1,x|=T,A++,!(A!==m&&(u!==0||K!==0))&&(d=this.mul(d,v[x]),A=0,x=0)}h=26}return d},p.prototype.convertTo=function(a){var c=a.umod(this.m);return c===a?c.clone():c},p.prototype.convertFrom=function(a){var c=a.clone();return c.red=null,c},n.mont=function(a){return new _(a)};function _(g){p.call(this,g),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(_,p),_.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},_.prototype.convertFrom=function(a){var c=this.imod(a.mul(this.rinv));return c.red=null,c},_.prototype.imul=function(a,c){if(a.isZero()||c.isZero())return a.words[0]=0,a.length=1,a;var m=a.imul(c),v=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),u=m.isub(v).iushrn(this.shift),d=u;return u.cmp(this.m)>=0?d=u.isub(this.m):u.cmpn(0)<0&&(d=u.iadd(this.m)),d._forceRed(this)},_.prototype.mul=function(a,c){if(a.isZero()||c.isZero())return new n(0)._forceRed(this);var m=a.mul(c),v=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),u=m.isub(v).iushrn(this.shift),d=u;return u.cmp(this.m)>=0?d=u.isub(this.m):u.cmpn(0)<0&&(d=u.iadd(this.m)),d._forceRed(this)},_.prototype.invm=function(a){var c=this.imod(a._invmp(this.m).mul(this.r2));return c._forceRed(this)}})(typeof k4>"u"||k4,CF)});var wm=D((oOe,TF)=>{"use strict";y();var bm=mi(),dl=bm.Buffer,dn={},pn;for(pn in bm)!bm.hasOwnProperty(pn)||pn==="SlowBuffer"||pn==="Buffer"||(dn[pn]=bm[pn]);var pl=dn.Buffer={};for(pn in dl)!dl.hasOwnProperty(pn)||pn==="allocUnsafe"||pn==="allocUnsafeSlow"||(pl[pn]=dl[pn]);dn.Buffer.prototype=dl.prototype;(!pl.from||pl.from===Uint8Array.from)&&(pl.from=function(t,e,r){if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof t);if(t&&typeof t.length>"u")throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);return dl(t,e,r)});pl.alloc||(pl.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof t);if(t<0||t>=2*(1<<30))throw new RangeError('The value "'+t+'" is invalid for option "size"');var i=dl(t);return!e||e.length===0?i.fill(0):typeof r=="string"?i.fill(e,r):i.fill(e),i});if(!dn.kStringMaxLength)try{dn.kStringMaxLength=I.default.binding("buffer").kStringMaxLength}catch{}dn.constants||(dn.constants={MAX_LENGTH:dn.kMaxLength},dn.kStringMaxLength&&(dn.constants.MAX_STRING_LENGTH=dn.kStringMaxLength));TF.exports=dn});var _m=D(OF=>{"use strict";y();var zce=Ze();function gn(t){this._reporterState={obj:null,path:[],options:t||{},errors:[]}}OF.Reporter=gn;gn.prototype.isError=function(e){return e instanceof gl};gn.prototype.save=function(){let e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}};gn.prototype.restore=function(e){let r=this._reporterState;r.obj=e.obj,r.path=r.path.slice(0,e.pathLen)};gn.prototype.enterKey=function(e){return this._reporterState.path.push(e)};gn.prototype.exitKey=function(e){let r=this._reporterState;r.path=r.path.slice(0,e-1)};gn.prototype.leaveKey=function(e,r,i){let n=this._reporterState;this.exitKey(e),n.obj!==null&&(n.obj[r]=i)};gn.prototype.path=function(){return this._reporterState.path.join("/")};gn.prototype.enterObject=function(){let e=this._reporterState,r=e.obj;return e.obj={},r};gn.prototype.leaveObject=function(e){let r=this._reporterState,i=r.obj;return r.obj=e,i};gn.prototype.error=function(e){let r,i=this._reporterState,n=e instanceof gl;if(n?r=e:r=new gl(i.path.map(function(s){return"["+JSON.stringify(s)+"]"}).join(""),e.message||e,e.stack),!i.options.partial)throw r;return n||i.errors.push(r),r};gn.prototype.wrapResult=function(e){let r=this._reporterState;return r.options.partial?{result:this.isError(e)?null:e,errors:r.errors}:e};function gl(t,e){this.path=t,this.rethrow(e)}zce(gl,Error);gl.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,gl),!this.stack)try{throw new Error(this.message)}catch(r){this.stack=r.stack}return this}});var ml=D(j4=>{"use strict";y();var Kce=Ze(),xm=_m().Reporter,vl=wm().Buffer;function vn(t,e){if(xm.call(this,e),!vl.isBuffer(t)){this.error("Input not Buffer");return}this.base=t,this.offset=0,this.length=t.length}Kce(vn,xm);j4.DecoderBuffer=vn;vn.isDecoderBuffer=function(e){return e instanceof vn?!0:typeof e=="object"&&vl.isBuffer(e.base)&&e.constructor.name==="DecoderBuffer"&&typeof e.offset=="number"&&typeof e.length=="number"&&typeof e.save=="function"&&typeof e.restore=="function"&&typeof e.isEmpty=="function"&&typeof e.readUInt8=="function"&&typeof e.skip=="function"&&typeof e.raw=="function"};vn.prototype.save=function(){return{offset:this.offset,reporter:xm.prototype.save.call(this)}};vn.prototype.restore=function(e){let r=new vn(this.base);return r.offset=e.offset,r.length=this.offset,this.offset=e.offset,xm.prototype.restore.call(this,e.reporter),r};vn.prototype.isEmpty=function(){return this.offset===this.length};vn.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")};vn.prototype.skip=function(e,r){if(!(this.offset+e<=this.length))return this.error(r||"DecoderBuffer overrun");let i=new vn(this.base);return i._reporterState=this._reporterState,i.offset=this.offset,i.length=this.offset+e,this.offset+=e,i};vn.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)};function yl(t,e){if(Array.isArray(t))this.length=0,this.value=t.map(function(r){return yl.isEncoderBuffer(r)||(r=new yl(r,e)),this.length+=r.length,r},this);else if(typeof t=="number"){if(!(0<=t&&t<=255))return e.error("non-byte EncoderBuffer value");this.value=t,this.length=1}else if(typeof t=="string")this.value=t,this.length=vl.byteLength(t);else if(vl.isBuffer(t))this.value=t,this.length=t.length;else return e.error("Unsupported type: "+typeof t)}j4.EncoderBuffer=yl;yl.isEncoderBuffer=function(e){return e instanceof yl?!0:typeof e=="object"&&e.constructor.name==="EncoderBuffer"&&typeof e.length=="number"&&typeof e.join=="function"};yl.prototype.join=function(e,r){return e||(e=vl.alloc(this.length)),r||(r=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(i){i.join(e,r),r+=i.length}):(typeof this.value=="number"?e[r]=this.value:typeof this.value=="string"?e.write(this.value,r):vl.isBuffer(this.value)&&this.value.copy(e,r),r+=this.length)),e}});var Em=D((lOe,BF)=>{"use strict";y();var Gce=_m().Reporter,Qce=ml().EncoderBuffer,Wce=ml().DecoderBuffer,pi=Pi(),NF=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],$ce=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(NF),Yce=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function Ot(t,e,r){let i={};this._baseState=i,i.name=r,i.enc=t,i.parent=e||null,i.children=null,i.tag=null,i.args=null,i.reverseArgs=null,i.choice=null,i.optional=!1,i.any=!1,i.obj=!1,i.use=null,i.useDecoder=null,i.key=null,i.default=null,i.explicit=null,i.implicit=null,i.contains=null,i.parent||(i.children=[],this._wrap())}BF.exports=Ot;var Jce=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];Ot.prototype.clone=function(){let e=this._baseState,r={};Jce.forEach(function(n){r[n]=e[n]});let i=new this.constructor(r.parent);return i._baseState=r,i};Ot.prototype._wrap=function(){let e=this._baseState;$ce.forEach(function(r){this[r]=function(){let n=new this.constructor(this);return e.children.push(n),n[r].apply(n,arguments)}},this)};Ot.prototype._init=function(e){let r=this._baseState;pi(r.parent===null),e.call(this),r.children=r.children.filter(function(i){return i._baseState.parent===this},this),pi.equal(r.children.length,1,"Root node can have only one child")};Ot.prototype._useArgs=function(e){let r=this._baseState,i=e.filter(function(n){return n instanceof this.constructor},this);e=e.filter(function(n){return!(n instanceof this.constructor)},this),i.length!==0&&(pi(r.children===null),r.children=i,i.forEach(function(n){n._baseState.parent=this},this)),e.length!==0&&(pi(r.args===null),r.args=e,r.reverseArgs=e.map(function(n){if(typeof n!="object"||n.constructor!==Object)return n;let s={};return Object.keys(n).forEach(function(o){o==(o|0)&&(o|=0);let f=n[o];s[f]=o}),s}))};Yce.forEach(function(t){Ot.prototype[t]=function(){let r=this._baseState;throw new Error(t+" not implemented for encoding: "+r.enc)}});NF.forEach(function(t){Ot.prototype[t]=function(){let r=this._baseState,i=Array.prototype.slice.call(arguments);return pi(r.tag===null),r.tag=t,this._useArgs(i),this}});Ot.prototype.use=function(e){pi(e);let r=this._baseState;return pi(r.use===null),r.use=e,this};Ot.prototype.optional=function(){let e=this._baseState;return e.optional=!0,this};Ot.prototype.def=function(e){let r=this._baseState;return pi(r.default===null),r.default=e,r.optional=!0,this};Ot.prototype.explicit=function(e){let r=this._baseState;return pi(r.explicit===null&&r.implicit===null),r.explicit=e,this};Ot.prototype.implicit=function(e){let r=this._baseState;return pi(r.explicit===null&&r.implicit===null),r.implicit=e,this};Ot.prototype.obj=function(){let e=this._baseState,r=Array.prototype.slice.call(arguments);return e.obj=!0,r.length!==0&&this._useArgs(r),this};Ot.prototype.key=function(e){let r=this._baseState;return pi(r.key===null),r.key=e,this};Ot.prototype.any=function(){let e=this._baseState;return e.any=!0,this};Ot.prototype.choice=function(e){let r=this._baseState;return pi(r.choice===null),r.choice=e,this._useArgs(Object.keys(e).map(function(i){return e[i]})),this};Ot.prototype.contains=function(e){let r=this._baseState;return pi(r.use===null),r.contains=e,this};Ot.prototype._decode=function(e,r){let i=this._baseState;if(i.parent===null)return e.wrapResult(i.children[0]._decode(e,r));let n=i.default,s=!0,o=null;if(i.key!==null&&(o=e.enterKey(i.key)),i.optional){let l=null;if(i.explicit!==null?l=i.explicit:i.implicit!==null?l=i.implicit:i.tag!==null&&(l=i.tag),l===null&&!i.any){let b=e.save();try{i.choice===null?this._decodeGeneric(i.tag,e,r):this._decodeChoice(e,r),s=!0}catch{s=!1}e.restore(b)}else if(s=this._peekTag(e,l,i.any),e.isError(s))return s}let f;if(i.obj&&s&&(f=e.enterObject()),s){if(i.explicit!==null){let b=this._decodeTag(e,i.explicit);if(e.isError(b))return b;e=b}let l=e.offset;if(i.use===null&&i.choice===null){let b;i.any&&(b=e.save());let E=this._decodeTag(e,i.implicit!==null?i.implicit:i.tag,i.any);if(e.isError(E))return E;i.any?n=e.raw(b):e=E}if(r&&r.track&&i.tag!==null&&r.track(e.path(),l,e.length,"tagged"),r&&r.track&&i.tag!==null&&r.track(e.path(),e.offset,e.length,"content"),i.any||(i.choice===null?n=this._decodeGeneric(i.tag,e,r):n=this._decodeChoice(e,r)),e.isError(n))return n;if(!i.any&&i.choice===null&&i.children!==null&&i.children.forEach(function(E){E._decode(e,r)}),i.contains&&(i.tag==="octstr"||i.tag==="bitstr")){let b=new Wce(n);n=this._getUse(i.contains,e._reporterState.obj)._decode(b,r)}}return i.obj&&s&&(n=e.leaveObject(f)),i.key!==null&&(n!==null||s===!0)?e.leaveKey(o,i.key,n):o!==null&&e.exitKey(o),n};Ot.prototype._decodeGeneric=function(e,r,i){let n=this._baseState;return e==="seq"||e==="set"?null:e==="seqof"||e==="setof"?this._decodeList(r,e,n.args[0],i):/str$/.test(e)?this._decodeStr(r,e,i):e==="objid"&&n.args?this._decodeObjid(r,n.args[0],n.args[1],i):e==="objid"?this._decodeObjid(r,null,null,i):e==="gentime"||e==="utctime"?this._decodeTime(r,e,i):e==="null_"?this._decodeNull(r,i):e==="bool"?this._decodeBool(r,i):e==="objDesc"?this._decodeStr(r,e,i):e==="int"||e==="enum"?this._decodeInt(r,n.args&&n.args[0],i):n.use!==null?this._getUse(n.use,r._reporterState.obj)._decode(r,i):r.error("unknown tag: "+e)};Ot.prototype._getUse=function(e,r){let i=this._baseState;return i.useDecoder=this._use(e,r),pi(i.useDecoder._baseState.parent===null),i.useDecoder=i.useDecoder._baseState.children[0],i.implicit!==i.useDecoder._baseState.implicit&&(i.useDecoder=i.useDecoder.clone(),i.useDecoder._baseState.implicit=i.implicit),i.useDecoder};Ot.prototype._decodeChoice=function(e,r){let i=this._baseState,n=null,s=!1;return Object.keys(i.choice).some(function(o){let f=e.save(),l=i.choice[o];try{let b=l._decode(e,r);if(e.isError(b))return!1;n={type:o,value:b},s=!0}catch{return e.restore(f),!1}return!0},this),s?n:e.error("Choice not matched")};Ot.prototype._createEncoderBuffer=function(e){return new Qce(e,this.reporter)};Ot.prototype._encode=function(e,r,i){let n=this._baseState;if(n.default!==null&&n.default===e)return;let s=this._encodeValue(e,r,i);if(s!==void 0&&!this._skipDefault(s,r,i))return s};Ot.prototype._encodeValue=function(e,r,i){let n=this._baseState;if(n.parent===null)return n.children[0]._encode(e,r||new Gce);let s=null;if(this.reporter=r,n.optional&&e===void 0)if(n.default!==null)e=n.default;else return;let o=null,f=!1;if(n.any)s=this._createEncoderBuffer(e);else if(n.choice)s=this._encodeChoice(e,r);else if(n.contains)o=this._getUse(n.contains,i)._encode(e,r),f=!0;else if(n.children)o=n.children.map(function(l){if(l._baseState.tag==="null_")return l._encode(null,r,e);if(l._baseState.key===null)return r.error("Child should have a key");let b=r.enterKey(l._baseState.key);if(typeof e!="object")return r.error("Child expected, but input is not object");let E=l._encode(e[l._baseState.key],r,e);return r.leaveKey(b),E},this).filter(function(l){return l}),o=this._createEncoderBuffer(o);else if(n.tag==="seqof"||n.tag==="setof"){if(!(n.args&&n.args.length===1))return r.error("Too many args for : "+n.tag);if(!Array.isArray(e))return r.error("seqof/setof, but data is not Array");let l=this.clone();l._baseState.implicit=null,o=this._createEncoderBuffer(e.map(function(b){let E=this._baseState;return this._getUse(E.args[0],e)._encode(b,r)},l))}else n.use!==null?s=this._getUse(n.use,i)._encode(e,r):(o=this._encodePrimitive(n.tag,e),f=!0);if(!n.any&&n.choice===null){let l=n.implicit!==null?n.implicit:n.tag,b=n.implicit===null?"universal":"context";l===null?n.use===null&&r.error("Tag could be omitted only for .use()"):n.use===null&&(s=this._encodeComposite(l,f,b,o))}return n.explicit!==null&&(s=this._encodeComposite(n.explicit,!1,"context",s)),s};Ot.prototype._encodeChoice=function(e,r){let i=this._baseState,n=i.choice[e.type];return n||pi(!1,e.type+" not found in "+JSON.stringify(Object.keys(i.choice))),n._encode(e.value,r)};Ot.prototype._encodePrimitive=function(e,r){let i=this._baseState;if(/str$/.test(e))return this._encodeStr(r,e);if(e==="objid"&&i.args)return this._encodeObjid(r,i.reverseArgs[0],i.args[1]);if(e==="objid")return this._encodeObjid(r,null,null);if(e==="gentime"||e==="utctime")return this._encodeTime(r,e);if(e==="null_")return this._encodeNull();if(e==="int"||e==="enum")return this._encodeInt(r,i.args&&i.reverseArgs[0]);if(e==="bool")return this._encodeBool(r);if(e==="objDesc")return this._encodeStr(r,e);throw new Error("Unsupported tag: "+e)};Ot.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)};Ot.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(e)}});var Am=D(Bu=>{"use strict";y();function DF(t){let e={};return Object.keys(t).forEach(function(r){(r|0)==r&&(r=r|0);let i=t[r];e[i]=r}),e}Bu.tagClass={0:"universal",1:"application",2:"context",3:"private"};Bu.tagClassByName=DF(Bu.tagClass);Bu.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"};Bu.tagByName=DF(Bu.tag)});var z4=D((vOe,LF)=>{"use strict";y();var Xce=Ze(),xo=wm().Buffer,RF=Em(),V4=Am();function PF(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new kn,this.tree._init(t.body)}LF.exports=PF;PF.prototype.encode=function(e,r){return this.tree._encode(e,r).join()};function kn(t){RF.call(this,"der",t)}Xce(kn,RF);kn.prototype._encodeComposite=function(e,r,i,n){let s=Zce(e,r,i,this.reporter);if(n.length<128){let l=xo.alloc(2);return l[0]=s,l[1]=n.length,this._createEncoderBuffer([l,n])}let o=1;for(let l=n.length;l>=256;l>>=8)o++;let f=xo.alloc(1+1+o);f[0]=s,f[1]=128|o;for(let l=1+o,b=n.length;b>0;l--,b>>=8)f[l]=b&255;return this._createEncoderBuffer([f,n])};kn.prototype._encodeStr=function(e,r){if(r==="bitstr")return this._createEncoderBuffer([e.unused|0,e.data]);if(r==="bmpstr"){let i=xo.alloc(e.length*2);for(let n=0;n<e.length;n++)i.writeUInt16BE(e.charCodeAt(n),n*2);return this._createEncoderBuffer(i)}else return r==="numstr"?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):r==="printstr"?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(r)?this._createEncoderBuffer(e):r==="objDesc"?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+r+" unsupported")};kn.prototype._encodeObjid=function(e,r,i){if(typeof e=="string"){if(!r)return this.reporter.error("string objid given, but no values map found");if(!r.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=r[e].split(/[\s.]+/g);for(let f=0;f<e.length;f++)e[f]|=0}else if(Array.isArray(e)){e=e.slice();for(let f=0;f<e.length;f++)e[f]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!i){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,e[0]*40+e[1])}let n=0;for(let f=0;f<e.length;f++){let l=e[f];for(n++;l>=128;l>>=7)n++}let s=xo.alloc(n),o=s.length-1;for(let f=e.length-1;f>=0;f--){let l=e[f];for(s[o--]=l&127;(l>>=7)>0;)s[o--]=128|l&127}return this._createEncoderBuffer(s)};function yn(t){return t<10?"0"+t:t}kn.prototype._encodeTime=function(e,r){let i,n=new Date(e);return r==="gentime"?i=[yn(n.getUTCFullYear()),yn(n.getUTCMonth()+1),yn(n.getUTCDate()),yn(n.getUTCHours()),yn(n.getUTCMinutes()),yn(n.getUTCSeconds()),"Z"].join(""):r==="utctime"?i=[yn(n.getUTCFullYear()%100),yn(n.getUTCMonth()+1),yn(n.getUTCDate()),yn(n.getUTCHours()),yn(n.getUTCMinutes()),yn(n.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+r+" time is not supported yet"),this._encodeStr(i,"octstr")};kn.prototype._encodeNull=function(){return this._createEncoderBuffer("")};kn.prototype._encodeInt=function(e,r){if(typeof e=="string"){if(!r)return this.reporter.error("String int or enum given, but no values map");if(!r.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=r[e]}if(typeof e!="number"&&!xo.isBuffer(e)){let s=e.toArray();!e.sign&&s[0]&128&&s.unshift(0),e=xo.from(s)}if(xo.isBuffer(e)){let s=e.length;e.length===0&&s++;let o=xo.alloc(s);return e.copy(o),e.length===0&&(o[0]=0),this._createEncoderBuffer(o)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);let i=1;for(let s=e;s>=256;s>>=8)i++;let n=new Array(i);for(let s=n.length-1;s>=0;s--)n[s]=e&255,e>>=8;return n[0]&128&&n.unshift(0),this._createEncoderBuffer(xo.from(n))};kn.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)};kn.prototype._use=function(e,r){return typeof e=="function"&&(e=e(r)),e._getEncoder("der").tree};kn.prototype._skipDefault=function(e,r,i){let n=this._baseState,s;if(n.default===null)return!1;let o=e.join();if(n.defaultBuffer===void 0&&(n.defaultBuffer=this._encodeValue(n.default,r,i).join()),o.length!==n.defaultBuffer.length)return!1;for(s=0;s<o.length;s++)if(o[s]!==n.defaultBuffer[s])return!1;return!0};function Zce(t,e,r,i){let n;if(t==="seqof"?t="seq":t==="setof"&&(t="set"),V4.tagByName.hasOwnProperty(t))n=V4.tagByName[t];else if(typeof t=="number"&&(t|0)===t)n=t;else return i.error("Unknown tag: "+t);return n>=31?i.error("Multi-octet tag encoding unsupported"):(e||(n|=32),n|=V4.tagClassByName[r||"universal"]<<6,n)}});var FF=D((mOe,qF)=>{"use strict";y();var ehe=Ze(),K4=z4();function G4(t){K4.call(this,t),this.enc="pem"}ehe(G4,K4);qF.exports=G4;G4.prototype.encode=function(e,r){let n=K4.prototype.encode.call(this,e).toString("base64"),s=["-----BEGIN "+r.label+"-----"];for(let o=0;o<n.length;o+=64)s.push(n.slice(o,o+64));return s.push("-----END "+r.label+"-----"),s.join(`
`)}});var Q4=D(kF=>{"use strict";y();var UF=kF;UF.der=z4();UF.pem=FF()});var $4=D((xOe,GF)=>{"use strict";y();var the=Ze(),rhe=Di(),HF=ml().DecoderBuffer,VF=Em(),jF=Am();function zF(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new qi,this.tree._init(t.body)}GF.exports=zF;zF.prototype.decode=function(e,r){return HF.isDecoderBuffer(e)||(e=new HF(e,r)),this.tree._decode(e,r)};function qi(t){VF.call(this,"der",t)}the(qi,VF);qi.prototype._peekTag=function(e,r,i){if(e.isEmpty())return!1;let n=e.save(),s=W4(e,'Failed to peek tag: "'+r+'"');return e.isError(s)?s:(e.restore(n),s.tag===r||s.tagStr===r||s.tagStr+"of"===r||i)};qi.prototype._decodeTag=function(e,r,i){let n=W4(e,'Failed to decode tag of "'+r+'"');if(e.isError(n))return n;let s=KF(e,n.primitive,'Failed to get length of "'+r+'"');if(e.isError(s))return s;if(!i&&n.tag!==r&&n.tagStr!==r&&n.tagStr+"of"!==r)return e.error('Failed to match tag: "'+r+'"');if(n.primitive||s!==null)return e.skip(s,'Failed to match body of: "'+r+'"');let o=e.save(),f=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(f)?f:(s=e.offset-o.offset,e.restore(o),e.skip(s,'Failed to match body of: "'+r+'"'))};qi.prototype._skipUntilEnd=function(e,r){for(;;){let i=W4(e,r);if(e.isError(i))return i;let n=KF(e,i.primitive,r);if(e.isError(n))return n;let s;if(i.primitive||n!==null?s=e.skip(n):s=this._skipUntilEnd(e,r),e.isError(s))return s;if(i.tagStr==="end")break}};qi.prototype._decodeList=function(e,r,i,n){let s=[];for(;!e.isEmpty();){let o=this._peekTag(e,"end");if(e.isError(o))return o;let f=i.decode(e,"der",n);if(e.isError(f)&&o)break;s.push(f)}return s};qi.prototype._decodeStr=function(e,r){if(r==="bitstr"){let i=e.readUInt8();return e.isError(i)?i:{unused:i,data:e.raw()}}else if(r==="bmpstr"){let i=e.raw();if(i.length%2===1)return e.error("Decoding of string type: bmpstr length mismatch");let n="";for(let s=0;s<i.length/2;s++)n+=String.fromCharCode(i.readUInt16BE(s*2));return n}else if(r==="numstr"){let i=e.raw().toString("ascii");return this._isNumstr(i)?i:e.error("Decoding of string type: numstr unsupported characters")}else{if(r==="octstr")return e.raw();if(r==="objDesc")return e.raw();if(r==="printstr"){let i=e.raw().toString("ascii");return this._isPrintstr(i)?i:e.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(r)?e.raw().toString():e.error("Decoding of string type: "+r+" unsupported")}};qi.prototype._decodeObjid=function(e,r,i){let n,s=[],o=0,f=0;for(;!e.isEmpty();)f=e.readUInt8(),o<<=7,o|=f&127,(f&128)===0&&(s.push(o),o=0);f&128&&s.push(o);let l=s[0]/40|0,b=s[0]%40;if(i?n=s:n=[l,b].concat(s.slice(1)),r){let E=r[n.join(" ")];E===void 0&&(E=r[n.join(".")]),E!==void 0&&(n=E)}return n};qi.prototype._decodeTime=function(e,r){let i=e.raw().toString(),n,s,o,f,l,b;if(r==="gentime")n=i.slice(0,4)|0,s=i.slice(4,6)|0,o=i.slice(6,8)|0,f=i.slice(8,10)|0,l=i.slice(10,12)|0,b=i.slice(12,14)|0;else if(r==="utctime")n=i.slice(0,2)|0,s=i.slice(2,4)|0,o=i.slice(4,6)|0,f=i.slice(6,8)|0,l=i.slice(8,10)|0,b=i.slice(10,12)|0,n<70?n=2e3+n:n=1900+n;else return e.error("Decoding "+r+" time is not supported yet");return Date.UTC(n,s-1,o,f,l,b,0)};qi.prototype._decodeNull=function(){return null};qi.prototype._decodeBool=function(e){let r=e.readUInt8();return e.isError(r)?r:r!==0};qi.prototype._decodeInt=function(e,r){let i=e.raw(),n=new rhe(i);return r&&(n=r[n.toString(10)]||n),n};qi.prototype._use=function(e,r){return typeof e=="function"&&(e=e(r)),e._getDecoder("der").tree};function W4(t,e){let r=t.readUInt8(e);if(t.isError(r))return r;let i=jF.tagClass[r>>6],n=(r&32)===0;if((r&31)===31){let o=r;for(r=0;(o&128)===128;){if(o=t.readUInt8(e),t.isError(o))return o;r<<=7,r|=o&127}}else r&=31;let s=jF.tag[r];return{cls:i,primitive:n,tag:r,tagStr:s}}function KF(t,e,r){let i=t.readUInt8(r);if(t.isError(i))return i;if(!e&&i===128)return null;if((i&128)===0)return i;let n=i&127;if(n>4)return t.error("length octect is too long");i=0;for(let s=0;s<n;s++){i<<=8;let o=t.readUInt8(r);if(t.isError(o))return o;i|=o}return i}});var WF=D((AOe,QF)=>{"use strict";y();var ihe=Ze(),nhe=wm().Buffer,Y4=$4();function J4(t){Y4.call(this,t),this.enc="pem"}ihe(J4,Y4);QF.exports=J4;J4.prototype.decode=function(e,r){let i=e.toString().split(/[\r\n]+/g),n=r.label.toUpperCase(),s=/^-----(BEGIN|END) ([^-]+)-----$/,o=-1,f=-1;for(let E=0;E<i.length;E++){let C=i[E].match(s);if(C!==null&&C[2]===n)if(o===-1){if(C[1]!=="BEGIN")break;o=E}else{if(C[1]!=="END")break;f=E;break}}if(o===-1||f===-1)throw new Error("PEM section not found for: "+n);let l=i.slice(o+1,f).join("");l.replace(/[^a-z0-9+/=]+/gi,"");let b=nhe.from(l,"base64");return Y4.prototype.decode.call(this,b,r)}});var X4=D(YF=>{"use strict";y();var $F=YF;$F.der=$4();$F.pem=WF()});var XF=D(JF=>{"use strict";y();var she=Q4(),ohe=X4(),ahe=Ze(),fhe=JF;fhe.define=function(e,r){return new bl(e,r)};function bl(t,e){this.name=t,this.body=e,this.decoders={},this.encoders={}}bl.prototype._createNamed=function(e){let r=this.name;function i(n){this._initNamed(n,r)}return ahe(i,e),i.prototype._initNamed=function(s,o){e.call(this,s,o)},new i(this)};bl.prototype._getDecoder=function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(ohe[e])),this.decoders[e]};bl.prototype.decode=function(e,r,i){return this._getDecoder(r).decode(e,i)};bl.prototype._getEncoder=function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(she[e])),this.encoders[e]};bl.prototype.encode=function(e,r,i){return this._getEncoder(r).encode(e,i)}});var eU=D(ZF=>{"use strict";y();var Sm=ZF;Sm.Reporter=_m().Reporter;Sm.DecoderBuffer=ml().DecoderBuffer;Sm.EncoderBuffer=ml().EncoderBuffer;Sm.Node=Em()});var iU=D(rU=>{"use strict";y();var tU=rU;tU._reverse=function(e){let r={};return Object.keys(e).forEach(function(i){(i|0)==i&&(i=i|0);let n=e[i];r[n]=i}),r};tU.der=Am()});var Z4=D(nU=>{"use strict";y();var wl=nU;wl.bignum=Di();wl.define=XF().define;wl.base=eU();wl.constants=iU();wl.decoders=X4();wl.encoders=Q4()});var fU=D((LOe,aU)=>{"use strict";y();var Hn=Z4(),sU=Hn.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),uhe=Hn.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),eE=Hn.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),che=Hn.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(eE),this.key("subjectPublicKey").bitstr())}),hhe=Hn.define("RelativeDistinguishedName",function(){this.setof(uhe)}),lhe=Hn.define("RDNSequence",function(){this.seqof(hhe)}),oU=Hn.define("Name",function(){this.choice({rdnSequence:this.use(lhe)})}),dhe=Hn.define("Validity",function(){this.seq().obj(this.key("notBefore").use(sU),this.key("notAfter").use(sU))}),phe=Hn.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),ghe=Hn.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(eE),this.key("issuer").use(oU),this.key("validity").use(dhe),this.key("subject").use(oU),this.key("subjectPublicKeyInfo").use(che),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(phe).optional())}),vhe=Hn.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(ghe),this.key("signatureAlgorithm").use(eE),this.key("signatureValue").bitstr())});aU.exports=vhe});var cU=D(Vn=>{"use strict";y();var jn=Z4();Vn.certificate=fU();var yhe=jn.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});Vn.RSAPrivateKey=yhe;var mhe=jn.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});Vn.RSAPublicKey=mhe;var bhe=jn.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(uU),this.key("subjectPublicKey").bitstr())});Vn.PublicKey=bhe;var uU=jn.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),whe=jn.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(uU),this.key("subjectPrivateKey").octstr())});Vn.PrivateKey=whe;var _he=jn.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});Vn.EncryptedPrivateKey=_he;var xhe=jn.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});Vn.DSAPrivateKey=xhe;Vn.DSAparam=jn.define("DSAparam",function(){this.int()});var Ehe=jn.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(Ahe),this.key("publicKey").optional().explicit(1).bitstr())});Vn.ECPrivateKey=Ehe;var Ahe=jn.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});Vn.signature=jn.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})});var hU=D((kOe,She)=>{She.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}});var dU=D((HOe,lU)=>{y();var Ihe=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,Mhe=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,Che=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,The=K0(),Ohe=Yy(),Im=rt().Buffer;lU.exports=function(t,e){var r=t.toString(),i=r.match(Ihe),n;if(i){var o="aes"+i[1],f=Im.from(i[2],"hex"),l=Im.from(i[3].replace(/[\r\n]/g,""),"base64"),b=The(e,f.slice(0,8),parseInt(i[1],10)).key,E=[],C=Ohe.createDecipheriv(o,b,f);E.push(C.update(l)),E.push(C.final()),n=Im.concat(E)}else{var s=r.match(Che);n=Im.from(s[2].replace(/[\r\n]/g,""),"base64")}var N=r.match(Mhe)[1];return{tag:N,data:n}}});var Z0=D((VOe,gU)=>{y();var Ci=cU(),Nhe=hU(),Bhe=dU(),Dhe=Yy(),Rhe=jx(),tE=rt().Buffer;gU.exports=pU;function pU(t){var e;typeof t=="object"&&!tE.isBuffer(t)&&(e=t.passphrase,t=t.key),typeof t=="string"&&(t=tE.from(t));var r=Bhe(t,e),i=r.tag,n=r.data,s,o;switch(i){case"CERTIFICATE":o=Ci.certificate.decode(n,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(o||(o=Ci.PublicKey.decode(n,"der")),s=o.algorithm.algorithm.join("."),s){case"1.2.840.113549.1.1.1":return Ci.RSAPublicKey.decode(o.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return o.subjectPrivateKey=o.subjectPublicKey,{type:"ec",data:o};case"1.2.840.10040.4.1":return o.algorithm.params.pub_key=Ci.DSAparam.decode(o.subjectPublicKey.data,"der"),{type:"dsa",data:o.algorithm.params};default:throw new Error("unknown key id "+s)}case"ENCRYPTED PRIVATE KEY":n=Ci.EncryptedPrivateKey.decode(n,"der"),n=Phe(n,e);case"PRIVATE KEY":switch(o=Ci.PrivateKey.decode(n,"der"),s=o.algorithm.algorithm.join("."),s){case"1.2.840.113549.1.1.1":return Ci.RSAPrivateKey.decode(o.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:o.algorithm.curve,privateKey:Ci.ECPrivateKey.decode(o.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return o.algorithm.params.priv_key=Ci.DSAparam.decode(o.subjectPrivateKey,"der"),{type:"dsa",params:o.algorithm.params};default:throw new Error("unknown key id "+s)}case"RSA PUBLIC KEY":return Ci.RSAPublicKey.decode(n,"der");case"RSA PRIVATE KEY":return Ci.RSAPrivateKey.decode(n,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:Ci.DSAPrivateKey.decode(n,"der")};case"EC PRIVATE KEY":return n=Ci.ECPrivateKey.decode(n,"der"),{curve:n.parameters.value,privateKey:n.privateKey};default:throw new Error("unknown key type "+i)}}pU.signature=Ci.signature;function Phe(t,e){var r=t.algorithm.decrypt.kde.kdeparams.salt,i=parseInt(t.algorithm.decrypt.kde.kdeparams.iters.toString(),10),n=Nhe[t.algorithm.decrypt.cipher.algo.join(".")],s=t.algorithm.decrypt.cipher.iv,o=t.subjectPrivateKey,f=parseInt(n.split("-")[1],10)/8,l=Rhe.pbkdf2Sync(e,r,i,f,"sha1"),b=Dhe.createDecipheriv(n,l,s),E=[];return E.push(b.update(o)),E.push(b.final()),tE.concat(E)}});var rE=D((KOe,Lhe)=>{Lhe.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}});var mU=D((GOe,Cm)=>{y();var Jr=rt().Buffer,Du=Bx(),qhe=tm(),Fhe=mm().ec,Mm=H4(),Uhe=Z0(),khe=rE();function Hhe(t,e,r,i,n){var s=Uhe(e);if(s.curve){if(i!=="ecdsa"&&i!=="ecdsa/rsa")throw new Error("wrong private key type");return jhe(t,s)}else if(s.type==="dsa"){if(i!=="dsa")throw new Error("wrong private key type");return Vhe(t,s,r)}else if(i!=="rsa"&&i!=="ecdsa/rsa")throw new Error("wrong private key type");t=Jr.concat([n,t]);for(var o=s.modulus.byteLength(),f=[0,1];t.length+f.length+1<o;)f.push(255);f.push(0);for(var l=-1;++l<t.length;)f.push(t[l]);var b=qhe(f,s);return b}function jhe(t,e){var r=khe[e.curve.join(".")];if(!r)throw new Error("unknown curve "+e.curve.join("."));var i=new Fhe(r),n=i.keyFromPrivate(e.privateKey),s=n.sign(t);return Jr.from(s.toDER())}function Vhe(t,e,r){for(var i=e.params.priv_key,n=e.params.p,s=e.params.q,o=e.params.g,f=new Mm(0),l,b=iE(t,s).mod(s),E=!1,C=vU(i,s,t,r);E===!1;)l=yU(s,C,r),f=Ghe(o,l,n,s),E=l.invm(s).imul(b.add(i.mul(f))).mod(s),E.cmpn(0)===0&&(E=!1,f=new Mm(0));return zhe(f,E)}function zhe(t,e){t=t.toArray(),e=e.toArray(),t[0]&128&&(t=[0].concat(t)),e[0]&128&&(e=[0].concat(e));var r=t.length+e.length+4,i=[48,r,2,t.length];return i=i.concat(t,[2,e.length],e),Jr.from(i)}function vU(t,e,r,i){if(t=Jr.from(t.toArray()),t.length<e.byteLength()){var n=Jr.alloc(e.byteLength()-t.length);t=Jr.concat([n,t])}var s=r.length,o=Khe(r,e),f=Jr.alloc(s);f.fill(1);var l=Jr.alloc(s);return l=Du(i,l).update(f).update(Jr.from([0])).update(t).update(o).digest(),f=Du(i,l).update(f).digest(),l=Du(i,l).update(f).update(Jr.from([1])).update(t).update(o).digest(),f=Du(i,l).update(f).digest(),{k:l,v:f}}function iE(t,e){var r=new Mm(t),i=(t.length<<3)-e.bitLength();return i>0&&r.ishrn(i),r}function Khe(t,e){t=iE(t,e),t=t.mod(e);var r=Jr.from(t.toArray());if(r.length<e.byteLength()){var i=Jr.alloc(e.byteLength()-r.length);r=Jr.concat([i,r])}return r}function yU(t,e,r){var i,n;do{for(i=Jr.alloc(0);i.length*8<t.bitLength();)e.v=Du(r,e.k).update(e.v).digest(),i=Jr.concat([i,e.v]);n=iE(i,t),e.k=Du(r,e.k).update(e.v).update(Jr.from([0])).digest(),e.v=Du(r,e.k).update(e.v).digest()}while(n.cmp(t)!==-1);return n}function Ghe(t,e,r,i){return t.toRed(Mm.mont(r)).redPow(e).fromRed().mod(i)}Cm.exports=Hhe;Cm.exports.getKey=vU;Cm.exports.makeKey=yU});var xU=D((WOe,_U)=>{y();var nE=rt().Buffer,ep=H4(),Qhe=mm().ec,wU=Z0(),Whe=rE();function $he(t,e,r,i,n){var s=wU(r);if(s.type==="ec"){if(i!=="ecdsa"&&i!=="ecdsa/rsa")throw new Error("wrong public key type");return Yhe(t,e,s)}else if(s.type==="dsa"){if(i!=="dsa")throw new Error("wrong public key type");return Jhe(t,e,s)}else if(i!=="rsa"&&i!=="ecdsa/rsa")throw new Error("wrong public key type");e=nE.concat([n,e]);for(var o=s.modulus.byteLength(),f=[1],l=0;e.length+f.length+2<o;)f.push(255),l++;f.push(0);for(var b=-1;++b<e.length;)f.push(e[b]);f=nE.from(f);var E=ep.mont(s.modulus);t=new ep(t).toRed(E),t=t.redPow(new ep(s.publicExponent)),t=nE.from(t.fromRed().toArray());var C=l<8?1:0;for(o=Math.min(t.length,f.length),t.length!==f.length&&(C=1),b=-1;++b<o;)C|=t[b]^f[b];return C===0}function Yhe(t,e,r){var i=Whe[r.data.algorithm.curve.join(".")];if(!i)throw new Error("unknown curve "+r.data.algorithm.curve.join("."));var n=new Qhe(i),s=r.data.subjectPrivateKey.data;return n.verify(e,t,s)}function Jhe(t,e,r){var i=r.data.p,n=r.data.q,s=r.data.g,o=r.data.pub_key,f=wU.signature.decode(t,"der"),l=f.s,b=f.r;bU(l,n),bU(b,n);var E=ep.mont(i),C=l.invm(n),N=s.toRed(E).redPow(new ep(e).mul(C).mod(n)).fromRed().mul(o.toRed(E).redPow(b.mul(C).mod(n)).fromRed()).mod(i).mod(n);return N.cmp(b)===0}function bU(t,e){if(t.cmpn(0)<=0)throw new Error("invalid sig");if(t.cmp(e)>=e)throw new Error("invalid sig")}_U.exports=$he});var CU=D((YOe,MU)=>{y();var Tm=rt().Buffer,SU=Wh(),Om=Ex(),IU=Ze(),Xhe=mU(),Zhe=xU(),Ru=Dx();Object.keys(Ru).forEach(function(t){Ru[t].id=Tm.from(Ru[t].id,"hex"),Ru[t.toLowerCase()]=Ru[t]});function tp(t){Om.Writable.call(this);var e=Ru[t];if(!e)throw new Error("Unknown message digest");this._hashType=e.hash,this._hash=SU(e.hash),this._tag=e.id,this._signType=e.sign}IU(tp,Om.Writable);tp.prototype._write=function(e,r,i){this._hash.update(e),i()};tp.prototype.update=function(e,r){return typeof e=="string"&&(e=Tm.from(e,r)),this._hash.update(e),this};tp.prototype.sign=function(e,r){this.end();var i=this._hash.digest(),n=Xhe(i,e,this._hashType,this._signType,this._tag);return r?n.toString(r):n};function rp(t){Om.Writable.call(this);var e=Ru[t];if(!e)throw new Error("Unknown message digest");this._hash=SU(e.hash),this._tag=e.id,this._signType=e.sign}IU(rp,Om.Writable);rp.prototype._write=function(e,r,i){this._hash.update(e),i()};rp.prototype.update=function(e,r){return typeof e=="string"&&(e=Tm.from(e,r)),this._hash.update(e),this};rp.prototype.verify=function(e,r,i){typeof r=="string"&&(r=Tm.from(r,i)),this.end();var n=this._hash.digest();return Zhe(r,n,e,this._signType,this._tag)};function EU(t){return new tp(t)}function AU(t){return new rp(t)}MU.exports={Sign:EU,Verify:AU,createSign:EU,createVerify:AU}});var OU=D((XOe,TU)=>{y();var ele=mm(),tle=Di();TU.exports=function(e){return new Pu(e)};var Fi={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};Fi.p224=Fi.secp224r1;Fi.p256=Fi.secp256r1=Fi.prime256v1;Fi.p192=Fi.secp192r1=Fi.prime192v1;Fi.p384=Fi.secp384r1;Fi.p521=Fi.secp521r1;function Pu(t){this.curveType=Fi[t],this.curveType||(this.curveType={name:t}),this.curve=new ele.ec(this.curveType.name),this.keys=void 0}Pu.prototype.generateKeys=function(t,e){return this.keys=this.curve.genKeyPair(),this.getPublicKey(t,e)};Pu.prototype.computeSecret=function(t,e,r){e=e||"utf8",M.Buffer.isBuffer(t)||(t=new M.Buffer(t,e));var i=this.curve.keyFromPublic(t).getPublic(),n=i.mul(this.keys.getPrivate()).getX();return sE(n,r,this.curveType.byteLength)};Pu.prototype.getPublicKey=function(t,e){var r=this.keys.getPublic(e==="compressed",!0);return e==="hybrid"&&(r[r.length-1]%2?r[0]=7:r[0]=6),sE(r,t)};Pu.prototype.getPrivateKey=function(t){return sE(this.keys.getPrivate(),t)};Pu.prototype.setPublicKey=function(t,e){return e=e||"utf8",M.Buffer.isBuffer(t)||(t=new M.Buffer(t,e)),this.keys._importPublic(t),this};Pu.prototype.setPrivateKey=function(t,e){e=e||"utf8",M.Buffer.isBuffer(t)||(t=new M.Buffer(t,e));var r=new tle(t);return r=r.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(r),this};function sE(t,e,r){Array.isArray(t)||(t=t.toArray());var i=new M.Buffer(t);if(r&&i.length<r){var n=new M.Buffer(r-i.length);n.fill(0),i=M.Buffer.concat([n,i])}return e?i.toString(e):i}});var aE=D((eNe,NU)=>{y();var rle=Wh(),oE=rt().Buffer;NU.exports=function(t,e){for(var r=oE.alloc(0),i=0,n;r.length<e;)n=ile(i++),r=oE.concat([r,rle("sha1").update(t).update(n).digest()]);return r.slice(0,e)};function ile(t){var e=oE.allocUnsafe(4);return e.writeUInt32BE(t,0),e}});var fE=D((rNe,BU)=>{y();BU.exports=function(e,r){for(var i=e.length,n=-1;++n<i;)e[n]^=r[n];return e}});var uE=D((nNe,RU)=>{y();var DU=Di(),nle=rt().Buffer;function sle(t,e){return nle.from(t.toRed(DU.mont(e.modulus)).redPow(new DU(e.publicExponent)).fromRed().toArray())}RU.exports=sle});var FU=D((oNe,qU)=>{y();var ole=Z0(),cE=ou(),ale=Wh(),PU=aE(),LU=fE(),hE=Di(),fle=uE(),ule=tm(),zn=rt().Buffer;qU.exports=function(e,r,i){var n;e.padding?n=e.padding:i?n=1:n=4;var s=ole(e),o;if(n===4)o=cle(s,r);else if(n===1)o=hle(s,r,i);else if(n===3){if(o=new hE(r),o.cmp(s.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return i?ule(o,s):fle(o,s)};function cle(t,e){var r=t.modulus.byteLength(),i=e.length,n=ale("sha1").update(zn.alloc(0)).digest(),s=n.length,o=2*s;if(i>r-o-2)throw new Error("message too long");var f=zn.alloc(r-i-o-2),l=r-s-1,b=cE(s),E=LU(zn.concat([n,f,zn.alloc(1,1),e],l),PU(b,l)),C=LU(b,PU(E,s));return new hE(zn.concat([zn.alloc(1),C,E],r))}function hle(t,e,r){var i=e.length,n=t.modulus.byteLength();if(i>n-11)throw new Error("message too long");var s;return r?s=zn.alloc(n-i-3,255):s=lle(n-i-3),new hE(zn.concat([zn.from([0,r?1:2]),s,zn.alloc(1),e],n))}function lle(t){for(var e=zn.allocUnsafe(t),r=0,i=cE(t*2),n=0,s;r<t;)n===i.length&&(i=cE(t*2),n=0),s=i[n++],s&&(e[r++]=s);return e}});var VU=D((fNe,jU)=>{y();var dle=Z0(),UU=aE(),kU=fE(),HU=Di(),ple=tm(),gle=Wh(),vle=uE(),ip=rt().Buffer;jU.exports=function(e,r,i){var n;e.padding?n=e.padding:i?n=1:n=4;var s=dle(e),o=s.modulus.byteLength();if(r.length>o||new HU(r).cmp(s.modulus)>=0)throw new Error("decryption error");var f;i?f=vle(new HU(r),s):f=ple(r,s);var l=ip.alloc(o-f.length);if(f=ip.concat([l,f],o),n===4)return yle(s,f);if(n===1)return mle(s,f,i);if(n===3)return f;throw new Error("unknown padding")};function yle(t,e){var r=t.modulus.byteLength(),i=gle("sha1").update(ip.alloc(0)).digest(),n=i.length;if(e[0]!==0)throw new Error("decryption error");var s=e.slice(1,n+1),o=e.slice(n+1),f=kU(s,UU(o,n)),l=kU(o,UU(f,r-n-1));if(ble(i,l.slice(0,n)))throw new Error("decryption error");for(var b=n;l[b]===0;)b++;if(l[b++]!==1)throw new Error("decryption error");return l.slice(b)}function mle(t,e,r){for(var i=e.slice(0,2),n=2,s=0;e[n++]!==0;)if(n>=e.length){s++;break}var o=e.slice(2,n-1);if((i.toString("hex")!=="0002"&&!r||i.toString("hex")!=="0001"&&r)&&s++,o.length<8&&s++,s)throw new Error("decryption error");return e.slice(n)}function ble(t,e){t=ip.from(t),e=ip.from(e);var r=0,i=t.length;t.length!==e.length&&(r++,i=Math.min(t.length,e.length));for(var n=-1;++n<i;)r+=t[n]^e[n];return r}});var zU=D(Lu=>{y();Lu.publicEncrypt=FU();Lu.privateDecrypt=VU();Lu.privateEncrypt=function(e,r){return Lu.publicEncrypt(e,r,!0)};Lu.publicDecrypt=function(e,r){return Lu.privateDecrypt(e,r,!0)}});var ek=D(np=>{"use strict";y();function KU(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var QU=rt(),GU=ou(),WU=QU.Buffer,$U=QU.kMaxLength,lE=global.crypto||global.msCrypto,YU=Math.pow(2,32)-1;function JU(t,e){if(typeof t!="number"||t!==t)throw new TypeError("offset must be a number");if(t>YU||t<0)throw new TypeError("offset must be a uint32");if(t>$U||t>e)throw new RangeError("offset out of range")}function XU(t,e,r){if(typeof t!="number"||t!==t)throw new TypeError("size must be a number");if(t>YU||t<0)throw new TypeError("size must be a uint32");if(t+e>r||t>$U)throw new RangeError("buffer too small")}lE&&lE.getRandomValues||!I.default.browser?(np.randomFill=wle,np.randomFillSync=_le):(np.randomFill=KU,np.randomFillSync=KU);function wle(t,e,r,i){if(!WU.isBuffer(t)&&!(t instanceof global.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof e=="function")i=e,e=0,r=t.length;else if(typeof r=="function")i=r,r=t.length-e;else if(typeof i!="function")throw new TypeError('"cb" argument must be a function');return JU(e,t.length),XU(r,e,t.length),ZU(t,e,r,i)}function ZU(t,e,r,i){if(I.default.browser){var n=t.buffer,s=new Uint8Array(n,e,r);if(lE.getRandomValues(s),i){I.default.nextTick(function(){i(null,t)});return}return t}if(i){GU(r,function(f,l){if(f)return i(f);l.copy(t,e),i(null,t)});return}var o=GU(r);return o.copy(t,e),t}function _le(t,e,r){if(typeof e>"u"&&(e=0),!WU.isBuffer(t)&&!(t instanceof global.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return JU(e,t.length),r===void 0&&(r=t.length-e),XU(r,e,t.length),ZU(t,e,r)}});var Xy=D(it=>{"use strict";y();it.randomBytes=it.rng=it.pseudoRandomBytes=it.prng=ou();it.createHash=it.Hash=Wh();it.createHmac=it.Hmac=Bx();var xle=mP(),Ele=Object.keys(xle),Ale=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(Ele);it.getHashes=function(){return Ale};var tk=jx();it.pbkdf2=tk.pbkdf2;it.pbkdf2Sync=tk.pbkdf2Sync;var Us=kL();it.Cipher=Us.Cipher;it.createCipher=Us.createCipher;it.Cipheriv=Us.Cipheriv;it.createCipheriv=Us.createCipheriv;it.Decipher=Us.Decipher;it.createDecipher=Us.createDecipher;it.Decipheriv=Us.Decipheriv;it.createDecipheriv=Us.createDecipheriv;it.getCiphers=Us.getCiphers;it.listCiphers=Us.listCiphers;var sp=XL();it.DiffieHellmanGroup=sp.DiffieHellmanGroup;it.createDiffieHellmanGroup=sp.createDiffieHellmanGroup;it.getDiffieHellman=sp.getDiffieHellman;it.createDiffieHellman=sp.createDiffieHellman;it.DiffieHellman=sp.DiffieHellman;var Nm=CU();it.createSign=Nm.createSign;it.Sign=Nm.Sign;it.createVerify=Nm.createVerify;it.Verify=Nm.Verify;it.createECDH=OU();var Bm=zU();it.publicEncrypt=Bm.publicEncrypt;it.privateEncrypt=Bm.privateEncrypt;it.publicDecrypt=Bm.publicDecrypt;it.privateDecrypt=Bm.privateDecrypt;var rk=ek();it.randomFill=rk.randomFill;it.randomFillSync=rk.randomFillSync;it.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))};it.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}});var ik=D(Dm=>{"use strict";y();Object.defineProperty(Dm,"__esModule",{value:!0});Dm.NodeRandomSource=void 0;var Sle=Ai(),dE=class{constructor(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof og<"u"){let e=Xy();e&&e.randomBytes&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let r=this._crypto.randomBytes(e);if(r.length!==e)throw new Error("NodeRandomSource: got fewer bytes than requested");let i=new Uint8Array(e);for(let n=0;n<i.length;n++)i[n]=r[n];return(0,Sle.wipe)(r),i}};Dm.NodeRandomSource=dE});var nk=D(Rm=>{"use strict";y();Object.defineProperty(Rm,"__esModule",{value:!0});Rm.SystemRandomSource=void 0;var Ile=hB(),Mle=ik(),pE=class{constructor(){if(this.isAvailable=!1,this.name="",this._source=new Ile.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new Mle.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(e)}};Rm.SystemRandomSource=pE});var sk=D(Ui=>{"use strict";y();Object.defineProperty(Ui,"__esModule",{value:!0});function Cle(t,e){var r=t>>>16&65535,i=t&65535,n=e>>>16&65535,s=e&65535;return i*s+(r*s+i*n<<16>>>0)|0}Ui.mul=Math.imul||Cle;function Tle(t,e){return t+e|0}Ui.add=Tle;function Ole(t,e){return t-e|0}Ui.sub=Ole;function Nle(t,e){return t<<e|t>>>32-e}Ui.rotl=Nle;function Ble(t,e){return t<<32-e|t>>>e}Ui.rotr=Ble;function Dle(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t}Ui.isInteger=Number.isInteger||Dle;Ui.MAX_SAFE_INTEGER=9007199254740991;Ui.isSafeInteger=function(t){return Ui.isInteger(t)&&t>=-Ui.MAX_SAFE_INTEGER&&t<=Ui.MAX_SAFE_INTEGER}});var qu=D(at=>{"use strict";y();Object.defineProperty(at,"__esModule",{value:!0});var ok=sk();function Rle(t,e){return e===void 0&&(e=0),(t[e+0]<<8|t[e+1])<<16>>16}at.readInt16BE=Rle;function Ple(t,e){return e===void 0&&(e=0),(t[e+0]<<8|t[e+1])>>>0}at.readUint16BE=Ple;function Lle(t,e){return e===void 0&&(e=0),(t[e+1]<<8|t[e])<<16>>16}at.readInt16LE=Lle;function qle(t,e){return e===void 0&&(e=0),(t[e+1]<<8|t[e])>>>0}at.readUint16LE=qle;function ak(t,e,r){return e===void 0&&(e=new Uint8Array(2)),r===void 0&&(r=0),e[r+0]=t>>>8,e[r+1]=t>>>0,e}at.writeUint16BE=ak;at.writeInt16BE=ak;function fk(t,e,r){return e===void 0&&(e=new Uint8Array(2)),r===void 0&&(r=0),e[r+0]=t>>>0,e[r+1]=t>>>8,e}at.writeUint16LE=fk;at.writeInt16LE=fk;function gE(t,e){return e===void 0&&(e=0),t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]}at.readInt32BE=gE;function vE(t,e){return e===void 0&&(e=0),(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}at.readUint32BE=vE;function yE(t,e){return e===void 0&&(e=0),t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]}at.readInt32LE=yE;function mE(t,e){return e===void 0&&(e=0),(t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e])>>>0}at.readUint32LE=mE;function Pm(t,e,r){return e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0),e[r+0]=t>>>24,e[r+1]=t>>>16,e[r+2]=t>>>8,e[r+3]=t>>>0,e}at.writeUint32BE=Pm;at.writeInt32BE=Pm;function Lm(t,e,r){return e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0),e[r+0]=t>>>0,e[r+1]=t>>>8,e[r+2]=t>>>16,e[r+3]=t>>>24,e}at.writeUint32LE=Lm;at.writeInt32LE=Lm;function Fle(t,e){e===void 0&&(e=0);var r=gE(t,e),i=gE(t,e+4);return r*4294967296+i-(i>>31)*4294967296}at.readInt64BE=Fle;function Ule(t,e){e===void 0&&(e=0);var r=vE(t,e),i=vE(t,e+4);return r*4294967296+i}at.readUint64BE=Ule;function kle(t,e){e===void 0&&(e=0);var r=yE(t,e),i=yE(t,e+4);return i*4294967296+r-(r>>31)*4294967296}at.readInt64LE=kle;function Hle(t,e){e===void 0&&(e=0);var r=mE(t,e),i=mE(t,e+4);return i*4294967296+r}at.readUint64LE=Hle;function uk(t,e,r){return e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0),Pm(t/4294967296>>>0,e,r),Pm(t>>>0,e,r+4),e}at.writeUint64BE=uk;at.writeInt64BE=uk;function ck(t,e,r){return e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0),Lm(t>>>0,e,r),Lm(t/4294967296>>>0,e,r+4),e}at.writeUint64LE=ck;at.writeInt64LE=ck;function jle(t,e,r){if(r===void 0&&(r=0),t%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(t/8>e.length-r)throw new Error("readUintBE: array is too short for the given bitLength");for(var i=0,n=1,s=t/8+r-1;s>=r;s--)i+=e[s]*n,n*=256;return i}at.readUintBE=jle;function Vle(t,e,r){if(r===void 0&&(r=0),t%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(t/8>e.length-r)throw new Error("readUintLE: array is too short for the given bitLength");for(var i=0,n=1,s=r;s<r+t/8;s++)i+=e[s]*n,n*=256;return i}at.readUintLE=Vle;function zle(t,e,r,i){if(r===void 0&&(r=new Uint8Array(t/8)),i===void 0&&(i=0),t%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!ok.isSafeInteger(e))throw new Error("writeUintBE value must be an integer");for(var n=1,s=t/8+i-1;s>=i;s--)r[s]=e/n&255,n*=256;return r}at.writeUintBE=zle;function Kle(t,e,r,i){if(r===void 0&&(r=new Uint8Array(t/8)),i===void 0&&(i=0),t%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!ok.isSafeInteger(e))throw new Error("writeUintLE value must be an integer");for(var n=1,s=i;s<i+t/8;s++)r[s]=e/n&255,n*=256;return r}at.writeUintLE=Kle;function Gle(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat32(e)}at.readFloat32BE=Gle;function Qle(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat32(e,!0)}at.readFloat32LE=Qle;function Wle(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat64(e)}at.readFloat64BE=Wle;function $le(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat64(e,!0)}at.readFloat64LE=$le;function Yle(t,e,r){e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0);var i=new DataView(e.buffer,e.byteOffset,e.byteLength);return i.setFloat32(r,t),e}at.writeFloat32BE=Yle;function Jle(t,e,r){e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0);var i=new DataView(e.buffer,e.byteOffset,e.byteLength);return i.setFloat32(r,t,!0),e}at.writeFloat32LE=Jle;function Xle(t,e,r){e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0);var i=new DataView(e.buffer,e.byteOffset,e.byteLength);return i.setFloat64(r,t),e}at.writeFloat64BE=Xle;function Zle(t,e,r){e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0);var i=new DataView(e.buffer,e.byteOffset,e.byteLength);return i.setFloat64(r,t,!0),e}at.writeFloat64LE=Zle});var pk=D(Xr=>{"use strict";y();Object.defineProperty(Xr,"__esModule",{value:!0});Xr.randomStringForEntropy=Xr.randomString=Xr.randomUint32=Xr.randomBytes=Xr.defaultRandomSource=void 0;var ede=nk(),tde=qu(),hk=Ai();Xr.defaultRandomSource=new ede.SystemRandomSource;function bE(t,e=Xr.defaultRandomSource){return e.randomBytes(t)}Xr.randomBytes=bE;function rde(t=Xr.defaultRandomSource){let e=bE(4,t),r=(0,tde.readUint32LE)(e);return(0,hk.wipe)(e),r}Xr.randomUint32=rde;var lk="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function dk(t,e=lk,r=Xr.defaultRandomSource){if(e.length<2)throw new Error("randomString charset is too short");if(e.length>256)throw new Error("randomString charset is too long");let i="",n=e.length,s=256-256%n;for(;t>0;){let o=bE(Math.ceil(t*256/s),r);for(let f=0;f<o.length&&t>0;f++){let l=o[f];l<s&&(i+=e.charAt(l%n),t--)}(0,hk.wipe)(o)}return i}Xr.randomString=dk;function ide(t,e=lk,r=Xr.defaultRandomSource){let i=Math.ceil(t/(Math.log(e.length)/Math.LN2));return dk(i,e,r)}Xr.randomStringForEntropy=ide});var yk=D(Eo=>{"use strict";y();Object.defineProperty(Eo,"__esModule",{value:!0});var xl=qu(),_l=Ai();Eo.DIGEST_LENGTH=64;Eo.BLOCK_SIZE=128;var vk=function(){function t(){this.digestLength=Eo.DIGEST_LENGTH,this.blockSize=Eo.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return t.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},t.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},t.prototype.clean=function(){_l.wipe(this._buffer),_l.wipe(this._tempHi),_l.wipe(this._tempLo),this.reset()},t.prototype.update=function(e,r){if(r===void 0&&(r=e.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var i=0;if(this._bytesHashed+=r,this._bufferLength>0){for(;this._bufferLength<Eo.BLOCK_SIZE&&r>0;)this._buffer[this._bufferLength++]=e[i++],r--;this._bufferLength===this.blockSize&&(wE(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(r>=this.blockSize&&(i=wE(this._tempHi,this._tempLo,this._stateHi,this._stateLo,e,i,r),r%=this.blockSize);r>0;)this._buffer[this._bufferLength++]=e[i++],r--;return this},t.prototype.finish=function(e){if(!this._finished){var r=this._bytesHashed,i=this._bufferLength,n=r/536870912|0,s=r<<3,o=r%128<112?128:256;this._buffer[i]=128;for(var f=i+1;f<o-8;f++)this._buffer[f]=0;xl.writeUint32BE(n,this._buffer,o-8),xl.writeUint32BE(s,this._buffer,o-4),wE(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,o),this._finished=!0}for(var f=0;f<this.digestLength/8;f++)xl.writeUint32BE(this._stateHi[f],e,f*8),xl.writeUint32BE(this._stateLo[f],e,f*8+4);return this},t.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},t.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},t.prototype.restoreState=function(e){return this._stateHi.set(e.stateHi),this._stateLo.set(e.stateLo),this._bufferLength=e.bufferLength,e.buffer&&this._buffer.set(e.buffer),this._bytesHashed=e.bytesHashed,this._finished=!1,this},t.prototype.cleanSavedState=function(e){_l.wipe(e.stateHi),_l.wipe(e.stateLo),e.buffer&&_l.wipe(e.buffer),e.bufferLength=0,e.bytesHashed=0},t}();Eo.SHA512=vk;var gk=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function wE(t,e,r,i,n,s,o){for(var f=r[0],l=r[1],b=r[2],E=r[3],C=r[4],N=r[5],L=r[6],R=r[7],V=i[0],W=i[1],$=i[2],re=i[3],ee=i[4],ie=i[5],ne=i[6],Z=i[7],G,Q,P,w,p,_,g,a;o>=128;){for(var c=0;c<16;c++){var m=8*c+s;t[c]=xl.readUint32BE(n,m),e[c]=xl.readUint32BE(n,m+4)}for(var c=0;c<80;c++){var v=f,u=l,d=b,x=E,A=C,h=N,S=L,K=R,T=V,k=W,z=$,O=re,B=ee,q=ie,U=ne,F=Z;if(G=R,Q=Z,p=Q&65535,_=Q>>>16,g=G&65535,a=G>>>16,G=(C>>>14|ee<<32-14)^(C>>>18|ee<<32-18)^(ee>>>41-32|C<<32-(41-32)),Q=(ee>>>14|C<<32-14)^(ee>>>18|C<<32-18)^(C>>>41-32|ee<<32-(41-32)),p+=Q&65535,_+=Q>>>16,g+=G&65535,a+=G>>>16,G=C&N^~C&L,Q=ee&ie^~ee&ne,p+=Q&65535,_+=Q>>>16,g+=G&65535,a+=G>>>16,G=gk[c*2],Q=gk[c*2+1],p+=Q&65535,_+=Q>>>16,g+=G&65535,a+=G>>>16,G=t[c%16],Q=e[c%16],p+=Q&65535,_+=Q>>>16,g+=G&65535,a+=G>>>16,_+=p>>>16,g+=_>>>16,a+=g>>>16,P=g&65535|a<<16,w=p&65535|_<<16,G=P,Q=w,p=Q&65535,_=Q>>>16,g=G&65535,a=G>>>16,G=(f>>>28|V<<32-28)^(V>>>34-32|f<<32-(34-32))^(V>>>39-32|f<<32-(39-32)),Q=(V>>>28|f<<32-28)^(f>>>34-32|V<<32-(34-32))^(f>>>39-32|V<<32-(39-32)),p+=Q&65535,_+=Q>>>16,g+=G&65535,a+=G>>>16,G=f&l^f&b^l&b,Q=V&W^V&$^W&$,p+=Q&65535,_+=Q>>>16,g+=G&65535,a+=G>>>16,_+=p>>>16,g+=_>>>16,a+=g>>>16,K=g&65535|a<<16,F=p&65535|_<<16,G=x,Q=O,p=Q&65535,_=Q>>>16,g=G&65535,a=G>>>16,G=P,Q=w,p+=Q&65535,_+=Q>>>16,g+=G&65535,a+=G>>>16,_+=p>>>16,g+=_>>>16,a+=g>>>16,x=g&65535|a<<16,O=p&65535|_<<16,l=v,b=u,E=d,C=x,N=A,L=h,R=S,f=K,W=T,$=k,re=z,ee=O,ie=B,ne=q,Z=U,V=F,c%16===15)for(var m=0;m<16;m++)G=t[m],Q=e[m],p=Q&65535,_=Q>>>16,g=G&65535,a=G>>>16,G=t[(m+9)%16],Q=e[(m+9)%16],p+=Q&65535,_+=Q>>>16,g+=G&65535,a+=G>>>16,P=t[(m+1)%16],w=e[(m+1)%16],G=(P>>>1|w<<32-1)^(P>>>8|w<<32-8)^P>>>7,Q=(w>>>1|P<<32-1)^(w>>>8|P<<32-8)^(w>>>7|P<<32-7),p+=Q&65535,_+=Q>>>16,g+=G&65535,a+=G>>>16,P=t[(m+14)%16],w=e[(m+14)%16],G=(P>>>19|w<<32-19)^(w>>>61-32|P<<32-(61-32))^P>>>6,Q=(w>>>19|P<<32-19)^(P>>>61-32|w<<32-(61-32))^(w>>>6|P<<32-6),p+=Q&65535,_+=Q>>>16,g+=G&65535,a+=G>>>16,_+=p>>>16,g+=_>>>16,a+=g>>>16,t[m]=g&65535|a<<16,e[m]=p&65535|_<<16}G=f,Q=V,p=Q&65535,_=Q>>>16,g=G&65535,a=G>>>16,G=r[0],Q=i[0],p+=Q&65535,_+=Q>>>16,g+=G&65535,a+=G>>>16,_+=p>>>16,g+=_>>>16,a+=g>>>16,r[0]=f=g&65535|a<<16,i[0]=V=p&65535|_<<16,G=l,Q=W,p=Q&65535,_=Q>>>16,g=G&65535,a=G>>>16,G=r[1],Q=i[1],p+=Q&65535,_+=Q>>>16,g+=G&65535,a+=G>>>16,_+=p>>>16,g+=_>>>16,a+=g>>>16,r[1]=l=g&65535|a<<16,i[1]=W=p&65535|_<<16,G=b,Q=$,p=Q&65535,_=Q>>>16,g=G&65535,a=G>>>16,G=r[2],Q=i[2],p+=Q&65535,_+=Q>>>16,g+=G&65535,a+=G>>>16,_+=p>>>16,g+=_>>>16,a+=g>>>16,r[2]=b=g&65535|a<<16,i[2]=$=p&65535|_<<16,G=E,Q=re,p=Q&65535,_=Q>>>16,g=G&65535,a=G>>>16,G=r[3],Q=i[3],p+=Q&65535,_+=Q>>>16,g+=G&65535,a+=G>>>16,_+=p>>>16,g+=_>>>16,a+=g>>>16,r[3]=E=g&65535|a<<16,i[3]=re=p&65535|_<<16,G=C,Q=ee,p=Q&65535,_=Q>>>16,g=G&65535,a=G>>>16,G=r[4],Q=i[4],p+=Q&65535,_+=Q>>>16,g+=G&65535,a+=G>>>16,_+=p>>>16,g+=_>>>16,a+=g>>>16,r[4]=C=g&65535|a<<16,i[4]=ee=p&65535|_<<16,G=N,Q=ie,p=Q&65535,_=Q>>>16,g=G&65535,a=G>>>16,G=r[5],Q=i[5],p+=Q&65535,_+=Q>>>16,g+=G&65535,a+=G>>>16,_+=p>>>16,g+=_>>>16,a+=g>>>16,r[5]=N=g&65535|a<<16,i[5]=ie=p&65535|_<<16,G=L,Q=ne,p=Q&65535,_=Q>>>16,g=G&65535,a=G>>>16,G=r[6],Q=i[6],p+=Q&65535,_+=Q>>>16,g+=G&65535,a+=G>>>16,_+=p>>>16,g+=_>>>16,a+=g>>>16,r[6]=L=g&65535|a<<16,i[6]=ne=p&65535|_<<16,G=R,Q=Z,p=Q&65535,_=Q>>>16,g=G&65535,a=G>>>16,G=r[7],Q=i[7],p+=Q&65535,_+=Q>>>16,g+=G&65535,a+=G>>>16,_+=p>>>16,g+=_>>>16,a+=g>>>16,r[7]=R=g&65535|a<<16,i[7]=Z=p&65535|_<<16,s+=128,o-=128}return s}function nde(t){var e=new vk;e.update(t);var r=e.digest();return e.clean(),r}Eo.hash=nde});var Nk=D(St=>{"use strict";y();Object.defineProperty(St,"__esModule",{value:!0});St.convertSecretKeyToX25519=St.convertPublicKeyToX25519=St.verify=St.sign=St.extractPublicKeyFromSecretKey=St.generateKeyPair=St.generateKeyPairFromSeed=St.SEED_LENGTH=St.SECRET_KEY_LENGTH=St.PUBLIC_KEY_LENGTH=St.SIGNATURE_LENGTH=void 0;var sde=pk(),op=yk(),xk=Ai();St.SIGNATURE_LENGTH=64;St.PUBLIC_KEY_LENGTH=32;St.SECRET_KEY_LENGTH=64;St.SEED_LENGTH=32;function Ke(t){let e=new Float64Array(16);if(t)for(let r=0;r<t.length;r++)e[r]=t[r];return e}var ode=new Uint8Array(32);ode[0]=9;var EE=Ke(),El=Ke([1]),ade=Ke([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),fde=Ke([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),mk=Ke([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),bk=Ke([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),ude=Ke([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function La(t,e){for(let r=0;r<16;r++)t[r]=e[r]|0}function _E(t){let e=1;for(let r=0;r<16;r++){let i=t[r]+e+65535;e=Math.floor(i/65536),t[r]=i-e*65536}t[0]+=e-1+37*(e-1)}function Ek(t,e,r){let i=~(r-1);for(let n=0;n<16;n++){let s=i&(t[n]^e[n]);t[n]^=s,e[n]^=s}}function ap(t,e){let r=Ke(),i=Ke();for(let n=0;n<16;n++)i[n]=e[n];_E(i),_E(i),_E(i);for(let n=0;n<2;n++){r[0]=i[0]-65517;for(let o=1;o<15;o++)r[o]=i[o]-65535-(r[o-1]>>16&1),r[o-1]&=65535;r[15]=i[15]-32767-(r[14]>>16&1);let s=r[15]>>16&1;r[14]&=65535,Ek(i,r,1-s)}for(let n=0;n<16;n++)t[2*n]=i[n]&255,t[2*n+1]=i[n]>>8}function Ak(t,e){let r=0;for(let i=0;i<32;i++)r|=t[i]^e[i];return(1&r-1>>>8)-1}function wk(t,e){let r=new Uint8Array(32),i=new Uint8Array(32);return ap(r,t),ap(i,e),Ak(r,i)}function Sk(t){let e=new Uint8Array(32);return ap(e,t),e[0]&1}function cde(t,e){for(let r=0;r<16;r++)t[r]=e[2*r]+(e[2*r+1]<<8);t[15]&=32767}function Fu(t,e,r){for(let i=0;i<16;i++)t[i]=e[i]+r[i]}function ku(t,e,r){for(let i=0;i<16;i++)t[i]=e[i]-r[i]}function Nt(t,e,r){let i,n,s=0,o=0,f=0,l=0,b=0,E=0,C=0,N=0,L=0,R=0,V=0,W=0,$=0,re=0,ee=0,ie=0,ne=0,Z=0,G=0,Q=0,P=0,w=0,p=0,_=0,g=0,a=0,c=0,m=0,v=0,u=0,d=0,x=r[0],A=r[1],h=r[2],S=r[3],K=r[4],T=r[5],k=r[6],z=r[7],O=r[8],B=r[9],q=r[10],U=r[11],F=r[12],Y=r[13],j=r[14],H=r[15];i=e[0],s+=i*x,o+=i*A,f+=i*h,l+=i*S,b+=i*K,E+=i*T,C+=i*k,N+=i*z,L+=i*O,R+=i*B,V+=i*q,W+=i*U,$+=i*F,re+=i*Y,ee+=i*j,ie+=i*H,i=e[1],o+=i*x,f+=i*A,l+=i*h,b+=i*S,E+=i*K,C+=i*T,N+=i*k,L+=i*z,R+=i*O,V+=i*B,W+=i*q,$+=i*U,re+=i*F,ee+=i*Y,ie+=i*j,ne+=i*H,i=e[2],f+=i*x,l+=i*A,b+=i*h,E+=i*S,C+=i*K,N+=i*T,L+=i*k,R+=i*z,V+=i*O,W+=i*B,$+=i*q,re+=i*U,ee+=i*F,ie+=i*Y,ne+=i*j,Z+=i*H,i=e[3],l+=i*x,b+=i*A,E+=i*h,C+=i*S,N+=i*K,L+=i*T,R+=i*k,V+=i*z,W+=i*O,$+=i*B,re+=i*q,ee+=i*U,ie+=i*F,ne+=i*Y,Z+=i*j,G+=i*H,i=e[4],b+=i*x,E+=i*A,C+=i*h,N+=i*S,L+=i*K,R+=i*T,V+=i*k,W+=i*z,$+=i*O,re+=i*B,ee+=i*q,ie+=i*U,ne+=i*F,Z+=i*Y,G+=i*j,Q+=i*H,i=e[5],E+=i*x,C+=i*A,N+=i*h,L+=i*S,R+=i*K,V+=i*T,W+=i*k,$+=i*z,re+=i*O,ee+=i*B,ie+=i*q,ne+=i*U,Z+=i*F,G+=i*Y,Q+=i*j,P+=i*H,i=e[6],C+=i*x,N+=i*A,L+=i*h,R+=i*S,V+=i*K,W+=i*T,$+=i*k,re+=i*z,ee+=i*O,ie+=i*B,ne+=i*q,Z+=i*U,G+=i*F,Q+=i*Y,P+=i*j,w+=i*H,i=e[7],N+=i*x,L+=i*A,R+=i*h,V+=i*S,W+=i*K,$+=i*T,re+=i*k,ee+=i*z,ie+=i*O,ne+=i*B,Z+=i*q,G+=i*U,Q+=i*F,P+=i*Y,w+=i*j,p+=i*H,i=e[8],L+=i*x,R+=i*A,V+=i*h,W+=i*S,$+=i*K,re+=i*T,ee+=i*k,ie+=i*z,ne+=i*O,Z+=i*B,G+=i*q,Q+=i*U,P+=i*F,w+=i*Y,p+=i*j,_+=i*H,i=e[9],R+=i*x,V+=i*A,W+=i*h,$+=i*S,re+=i*K,ee+=i*T,ie+=i*k,ne+=i*z,Z+=i*O,G+=i*B,Q+=i*q,P+=i*U,w+=i*F,p+=i*Y,_+=i*j,g+=i*H,i=e[10],V+=i*x,W+=i*A,$+=i*h,re+=i*S,ee+=i*K,ie+=i*T,ne+=i*k,Z+=i*z,G+=i*O,Q+=i*B,P+=i*q,w+=i*U,p+=i*F,_+=i*Y,g+=i*j,a+=i*H,i=e[11],W+=i*x,$+=i*A,re+=i*h,ee+=i*S,ie+=i*K,ne+=i*T,Z+=i*k,G+=i*z,Q+=i*O,P+=i*B,w+=i*q,p+=i*U,_+=i*F,g+=i*Y,a+=i*j,c+=i*H,i=e[12],$+=i*x,re+=i*A,ee+=i*h,ie+=i*S,ne+=i*K,Z+=i*T,G+=i*k,Q+=i*z,P+=i*O,w+=i*B,p+=i*q,_+=i*U,g+=i*F,a+=i*Y,c+=i*j,m+=i*H,i=e[13],re+=i*x,ee+=i*A,ie+=i*h,ne+=i*S,Z+=i*K,G+=i*T,Q+=i*k,P+=i*z,w+=i*O,p+=i*B,_+=i*q,g+=i*U,a+=i*F,c+=i*Y,m+=i*j,v+=i*H,i=e[14],ee+=i*x,ie+=i*A,ne+=i*h,Z+=i*S,G+=i*K,Q+=i*T,P+=i*k,w+=i*z,p+=i*O,_+=i*B,g+=i*q,a+=i*U,c+=i*F,m+=i*Y,v+=i*j,u+=i*H,i=e[15],ie+=i*x,ne+=i*A,Z+=i*h,G+=i*S,Q+=i*K,P+=i*T,w+=i*k,p+=i*z,_+=i*O,g+=i*B,a+=i*q,c+=i*U,m+=i*F,v+=i*Y,u+=i*j,d+=i*H,s+=38*ne,o+=38*Z,f+=38*G,l+=38*Q,b+=38*P,E+=38*w,C+=38*p,N+=38*_,L+=38*g,R+=38*a,V+=38*c,W+=38*m,$+=38*v,re+=38*u,ee+=38*d,n=1,i=s+n+65535,n=Math.floor(i/65536),s=i-n*65536,i=o+n+65535,n=Math.floor(i/65536),o=i-n*65536,i=f+n+65535,n=Math.floor(i/65536),f=i-n*65536,i=l+n+65535,n=Math.floor(i/65536),l=i-n*65536,i=b+n+65535,n=Math.floor(i/65536),b=i-n*65536,i=E+n+65535,n=Math.floor(i/65536),E=i-n*65536,i=C+n+65535,n=Math.floor(i/65536),C=i-n*65536,i=N+n+65535,n=Math.floor(i/65536),N=i-n*65536,i=L+n+65535,n=Math.floor(i/65536),L=i-n*65536,i=R+n+65535,n=Math.floor(i/65536),R=i-n*65536,i=V+n+65535,n=Math.floor(i/65536),V=i-n*65536,i=W+n+65535,n=Math.floor(i/65536),W=i-n*65536,i=$+n+65535,n=Math.floor(i/65536),$=i-n*65536,i=re+n+65535,n=Math.floor(i/65536),re=i-n*65536,i=ee+n+65535,n=Math.floor(i/65536),ee=i-n*65536,i=ie+n+65535,n=Math.floor(i/65536),ie=i-n*65536,s+=n-1+37*(n-1),n=1,i=s+n+65535,n=Math.floor(i/65536),s=i-n*65536,i=o+n+65535,n=Math.floor(i/65536),o=i-n*65536,i=f+n+65535,n=Math.floor(i/65536),f=i-n*65536,i=l+n+65535,n=Math.floor(i/65536),l=i-n*65536,i=b+n+65535,n=Math.floor(i/65536),b=i-n*65536,i=E+n+65535,n=Math.floor(i/65536),E=i-n*65536,i=C+n+65535,n=Math.floor(i/65536),C=i-n*65536,i=N+n+65535,n=Math.floor(i/65536),N=i-n*65536,i=L+n+65535,n=Math.floor(i/65536),L=i-n*65536,i=R+n+65535,n=Math.floor(i/65536),R=i-n*65536,i=V+n+65535,n=Math.floor(i/65536),V=i-n*65536,i=W+n+65535,n=Math.floor(i/65536),W=i-n*65536,i=$+n+65535,n=Math.floor(i/65536),$=i-n*65536,i=re+n+65535,n=Math.floor(i/65536),re=i-n*65536,i=ee+n+65535,n=Math.floor(i/65536),ee=i-n*65536,i=ie+n+65535,n=Math.floor(i/65536),ie=i-n*65536,s+=n-1+37*(n-1),t[0]=s,t[1]=o,t[2]=f,t[3]=l,t[4]=b,t[5]=E,t[6]=C,t[7]=N,t[8]=L,t[9]=R,t[10]=V,t[11]=W,t[12]=$,t[13]=re,t[14]=ee,t[15]=ie}function Uu(t,e){Nt(t,e,e)}function Ik(t,e){let r=Ke(),i;for(i=0;i<16;i++)r[i]=e[i];for(i=253;i>=0;i--)Uu(r,r),i!==2&&i!==4&&Nt(r,r,e);for(i=0;i<16;i++)t[i]=r[i]}function hde(t,e){let r=Ke(),i;for(i=0;i<16;i++)r[i]=e[i];for(i=250;i>=0;i--)Uu(r,r),i!==1&&Nt(r,r,e);for(i=0;i<16;i++)t[i]=r[i]}function AE(t,e){let r=Ke(),i=Ke(),n=Ke(),s=Ke(),o=Ke(),f=Ke(),l=Ke(),b=Ke(),E=Ke();ku(r,t[1],t[0]),ku(E,e[1],e[0]),Nt(r,r,E),Fu(i,t[0],t[1]),Fu(E,e[0],e[1]),Nt(i,i,E),Nt(n,t[3],e[3]),Nt(n,n,fde),Nt(s,t[2],e[2]),Fu(s,s,s),ku(o,i,r),ku(f,s,n),Fu(l,s,n),Fu(b,i,r),Nt(t[0],o,f),Nt(t[1],b,l),Nt(t[2],l,f),Nt(t[3],o,b)}function _k(t,e,r){for(let i=0;i<4;i++)Ek(t[i],e[i],r)}function IE(t,e){let r=Ke(),i=Ke(),n=Ke();Ik(n,e[2]),Nt(r,e[0],n),Nt(i,e[1],n),ap(t,i),t[31]^=Sk(r)<<7}function Mk(t,e,r){La(t[0],EE),La(t[1],El),La(t[2],El),La(t[3],EE);for(let i=255;i>=0;--i){let n=r[i/8|0]>>(i&7)&1;_k(t,e,n),AE(e,t),AE(t,t),_k(t,e,n)}}function ME(t,e){let r=[Ke(),Ke(),Ke(),Ke()];La(r[0],mk),La(r[1],bk),La(r[2],El),Nt(r[3],mk,bk),Mk(t,r,e)}function Ck(t){if(t.length!==St.SEED_LENGTH)throw new Error(`ed25519: seed must be ${St.SEED_LENGTH} bytes`);let e=(0,op.hash)(t);e[0]&=248,e[31]&=127,e[31]|=64;let r=new Uint8Array(32),i=[Ke(),Ke(),Ke(),Ke()];ME(i,e),IE(r,i);let n=new Uint8Array(64);return n.set(t),n.set(r,32),{publicKey:r,secretKey:n}}St.generateKeyPairFromSeed=Ck;function lde(t){let e=(0,sde.randomBytes)(32,t),r=Ck(e);return(0,xk.wipe)(e),r}St.generateKeyPair=lde;function dde(t){if(t.length!==St.SECRET_KEY_LENGTH)throw new Error(`ed25519: secret key must be ${St.SECRET_KEY_LENGTH} bytes`);return new Uint8Array(t.subarray(32))}St.extractPublicKeyFromSecretKey=dde;var xE=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function Tk(t,e){let r,i,n,s;for(i=63;i>=32;--i){for(r=0,n=i-32,s=i-12;n<s;++n)e[n]+=r-16*e[i]*xE[n-(i-32)],r=Math.floor((e[n]+128)/256),e[n]-=r*256;e[n]+=r,e[i]=0}for(r=0,n=0;n<32;n++)e[n]+=r-(e[31]>>4)*xE[n],r=e[n]>>8,e[n]&=255;for(n=0;n<32;n++)e[n]-=r*xE[n];for(i=0;i<32;i++)e[i+1]+=e[i]>>8,t[i]=e[i]&255}function SE(t){let e=new Float64Array(64);for(let r=0;r<64;r++)e[r]=t[r];for(let r=0;r<64;r++)t[r]=0;Tk(t,e)}function pde(t,e){let r=new Float64Array(64),i=[Ke(),Ke(),Ke(),Ke()],n=(0,op.hash)(t.subarray(0,32));n[0]&=248,n[31]&=127,n[31]|=64;let s=new Uint8Array(64);s.set(n.subarray(32),32);let o=new op.SHA512;o.update(s.subarray(32)),o.update(e);let f=o.digest();o.clean(),SE(f),ME(i,f),IE(s,i),o.reset(),o.update(s.subarray(0,32)),o.update(t.subarray(32)),o.update(e);let l=o.digest();SE(l);for(let b=0;b<32;b++)r[b]=f[b];for(let b=0;b<32;b++)for(let E=0;E<32;E++)r[b+E]+=l[b]*n[E];return Tk(s.subarray(32),r),s}St.sign=pde;function Ok(t,e){let r=Ke(),i=Ke(),n=Ke(),s=Ke(),o=Ke(),f=Ke(),l=Ke();return La(t[2],El),cde(t[1],e),Uu(n,t[1]),Nt(s,n,ade),ku(n,n,t[2]),Fu(s,t[2],s),Uu(o,s),Uu(f,o),Nt(l,f,o),Nt(r,l,n),Nt(r,r,s),hde(r,r),Nt(r,r,n),Nt(r,r,s),Nt(r,r,s),Nt(t[0],r,s),Uu(i,t[0]),Nt(i,i,s),wk(i,n)&&Nt(t[0],t[0],ude),Uu(i,t[0]),Nt(i,i,s),wk(i,n)?-1:(Sk(t[0])===e[31]>>7&&ku(t[0],EE,t[0]),Nt(t[3],t[0],t[1]),0)}function gde(t,e,r){let i=new Uint8Array(32),n=[Ke(),Ke(),Ke(),Ke()],s=[Ke(),Ke(),Ke(),Ke()];if(r.length!==St.SIGNATURE_LENGTH)throw new Error(`ed25519: signature must be ${St.SIGNATURE_LENGTH} bytes`);if(Ok(s,t))return!1;let o=new op.SHA512;o.update(r.subarray(0,32)),o.update(t),o.update(e);let f=o.digest();return SE(f),Mk(n,s,f),ME(s,r.subarray(32)),AE(n,s),IE(i,n),!Ak(r,i)}St.verify=gde;function vde(t){let e=[Ke(),Ke(),Ke(),Ke()];if(Ok(e,t))throw new Error("Ed25519: invalid public key");let r=Ke(),i=Ke(),n=e[1];Fu(r,El,n),ku(i,El,n),Ik(i,i),Nt(r,r,i);let s=new Uint8Array(32);return ap(s,r),s}St.convertPublicKeyToX25519=vde;function yde(t){let e=(0,op.hash)(t.subarray(0,32));e[0]&=248,e[31]&=127,e[31]|=64;let r=new Uint8Array(e.subarray(0,32));return(0,xk.wipe)(e),r}St.convertSecretKeyToX25519=yde});var Dk=D(CE=>{"use strict";y();Object.defineProperty(CE,"__esModule",{value:!0});var Bk=65536,mde=function(){function t(){this.isAvailable=!1,this.isInstantiated=!1;var e=typeof self<"u"?self.crypto||self.msCrypto:null;e&&e.getRandomValues&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}return t.prototype.randomBytes=function(e){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");for(var r=new Uint8Array(e),i=0;i<r.length;i+=Bk)this._crypto.getRandomValues(r.subarray(i,i+Math.min(r.length-i,Bk)));return r},t}();CE.BrowserRandomSource=mde});var Rk=D(TE=>{"use strict";y();Object.defineProperty(TE,"__esModule",{value:!0});var bde=Ai(),wde=function(){function t(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof og<"u"){var e=Xy();e&&e.randomBytes&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}}return t.prototype.randomBytes=function(e){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");var r=this._crypto.randomBytes(e);if(r.length!==e)throw new Error("NodeRandomSource: got fewer bytes than requested");for(var i=new Uint8Array(e),n=0;n<i.length;n++)i[n]=r[n];return bde.wipe(r),i},t}();TE.NodeRandomSource=wde});var Pk=D(OE=>{"use strict";y();Object.defineProperty(OE,"__esModule",{value:!0});var _de=Dk(),xde=Rk(),Ede=function(){function t(){if(this.isAvailable=!1,this.name="",this._source=new _de.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new xde.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}return t.prototype.randomBytes=function(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(e)},t}();OE.SystemRandomSource=Ede});var qm=D(Kn=>{"use strict";y();Object.defineProperty(Kn,"__esModule",{value:!0});var Ade=Pk(),Sde=qu(),Lk=Ai();Kn.defaultRandomSource=new Ade.SystemRandomSource;function NE(t,e){return e===void 0&&(e=Kn.defaultRandomSource),e.randomBytes(t)}Kn.randomBytes=NE;function Ide(t){t===void 0&&(t=Kn.defaultRandomSource);var e=NE(4,t),r=Sde.readUint32LE(e);return Lk.wipe(e),r}Kn.randomUint32=Ide;var qk="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function Fk(t,e,r){if(e===void 0&&(e=qk),r===void 0&&(r=Kn.defaultRandomSource),e.length<2)throw new Error("randomString charset is too short");if(e.length>256)throw new Error("randomString charset is too long");for(var i="",n=e.length,s=256-256%n;t>0;){for(var o=NE(Math.ceil(t*256/s),r),f=0;f<o.length&&t>0;f++){var l=o[f];l<s&&(i+=e.charAt(l%n),t--)}Lk.wipe(o)}return i}Kn.randomString=Fk;function Mde(t,e,r){e===void 0&&(e=qk),r===void 0&&(r=Kn.defaultRandomSource);var i=Math.ceil(t/(Math.log(e.length)/Math.LN2));return Fk(i,e,r)}Kn.randomStringForEntropy=Mde});var Fm,Um,Al,Sl,km,Hm,jm,Vm,zm,Il,Km,Gm,Uk,kk,Qm=fe(()=>{y();Fm="EdDSA",Um="JWT",Al=".",Sl="base64url",km="utf8",Hm="utf8",jm=":",Vm="did",zm="key",Il="base58btc",Km="z",Gm="K36",Uk=32,kk=32});function Ml(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}var Wm=fe(()=>{y()});function $m(t,e){e||(e=t.reduce((n,s)=>n+s.length,0));let r=Ml(e),i=0;for(let n of t)r.set(n,i),i+=n.length;return r}var BE=fe(()=>{y();Wm()});function Cde(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var n=0;n<t.length;n++){var s=t.charAt(n),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=n}var f=t.length,l=t.charAt(0),b=Math.log(f)/Math.log(256),E=Math.log(256)/Math.log(f);function C(R){if(R instanceof Uint8Array||(ArrayBuffer.isView(R)?R=new Uint8Array(R.buffer,R.byteOffset,R.byteLength):Array.isArray(R)&&(R=Uint8Array.from(R))),!(R instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(R.length===0)return"";for(var V=0,W=0,$=0,re=R.length;$!==re&&R[$]===0;)$++,V++;for(var ee=(re-$)*E+1>>>0,ie=new Uint8Array(ee);$!==re;){for(var ne=R[$],Z=0,G=ee-1;(ne!==0||Z<W)&&G!==-1;G--,Z++)ne+=256*ie[G]>>>0,ie[G]=ne%f>>>0,ne=ne/f>>>0;if(ne!==0)throw new Error("Non-zero carry");W=Z,$++}for(var Q=ee-W;Q!==ee&&ie[Q]===0;)Q++;for(var P=l.repeat(V);Q<ee;++Q)P+=t.charAt(ie[Q]);return P}function N(R){if(typeof R!="string")throw new TypeError("Expected String");if(R.length===0)return new Uint8Array;var V=0;if(R[V]!==" "){for(var W=0,$=0;R[V]===l;)W++,V++;for(var re=(R.length-V)*b+1>>>0,ee=new Uint8Array(re);R[V];){var ie=r[R.charCodeAt(V)];if(ie===255)return;for(var ne=0,Z=re-1;(ie!==0||ne<$)&&Z!==-1;Z--,ne++)ie+=f*ee[Z]>>>0,ee[Z]=ie%256>>>0,ie=ie/256>>>0;if(ie!==0)throw new Error("Non-zero carry");$=ne,V++}if(R[V]!==" "){for(var G=re-$;G!==re&&ee[G]===0;)G++;for(var Q=new Uint8Array(W+(re-G)),P=W;G!==re;)Q[P++]=ee[G++];return Q}}}function L(R){var V=N(R);if(V)return V;throw new Error(`Non-${e} character`)}return{encode:C,decodeUnsafe:N,decode:L}}var Tde,Ode,Hk,jk=fe(()=>{y();Tde=Cde,Ode=Tde,Hk=Ode});var $Ne,Vk,Ao,zk,Kk,qa=fe(()=>{y();$Ne=new Uint8Array(0),Vk=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0},Ao=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},zk=t=>new TextEncoder().encode(t),Kk=t=>new TextDecoder().decode(t)});var DE,RE,PE,Qk,LE,Cl,Fa,Nde,Bde,Yt,Gn=fe(()=>{y();jk();qa();DE=class{constructor(e,r,i){this.name=e,this.prefix=r,this.baseEncode=i}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},RE=class{constructor(e,r,i){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=i}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Qk(this,e)}},PE=class{constructor(e){this.decoders=e}or(e){return Qk(this,e)}decode(e){let r=e[0],i=this.decoders[r];if(i)return i.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},Qk=(t,e)=>new PE({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}}),LE=class{constructor(e,r,i,n){this.name=e,this.prefix=r,this.baseEncode=i,this.baseDecode=n,this.encoder=new DE(e,r,i),this.decoder=new RE(e,r,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},Cl=({name:t,prefix:e,encode:r,decode:i})=>new LE(t,e,r,i),Fa=({prefix:t,name:e,alphabet:r})=>{let{encode:i,decode:n}=Hk(r,e);return Cl({prefix:t,name:e,encode:i,decode:s=>Ao(n(s))})},Nde=(t,e,r,i)=>{let n={};for(let E=0;E<e.length;++E)n[e[E]]=E;let s=t.length;for(;t[s-1]==="=";)--s;let o=new Uint8Array(s*r/8|0),f=0,l=0,b=0;for(let E=0;E<s;++E){let C=n[t[E]];if(C===void 0)throw new SyntaxError(`Non-${i} character`);l=l<<r|C,f+=r,f>=8&&(f-=8,o[b++]=255&l>>f)}if(f>=r||255&l<<8-f)throw new SyntaxError("Unexpected end of data");return o},Bde=(t,e,r)=>{let i=e[e.length-1]==="=",n=(1<<r)-1,s="",o=0,f=0;for(let l=0;l<t.length;++l)for(f=f<<8|t[l],o+=8;o>r;)o-=r,s+=e[n&f>>o];if(o&&(s+=e[n&f<<r-o]),i)for(;s.length*r&7;)s+="=";return s},Yt=({name:t,prefix:e,bitsPerChar:r,alphabet:i})=>Cl({prefix:e,name:t,encode(n){return Bde(n,i,r)},decode(n){return Nde(n,i,r,t)}})});var qE={};Ut(qE,{identity:()=>Dde});var Dde,Wk=fe(()=>{y();Gn();qa();Dde=Cl({prefix:"\0",name:"identity",encode:t=>Kk(t),decode:t=>zk(t)})});var FE={};Ut(FE,{base2:()=>Rde});var Rde,$k=fe(()=>{y();Gn();Rde=Yt({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1})});var UE={};Ut(UE,{base8:()=>Pde});var Pde,Yk=fe(()=>{y();Gn();Pde=Yt({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3})});var kE={};Ut(kE,{base10:()=>Lde});var Lde,Jk=fe(()=>{y();Gn();Lde=Fa({prefix:"9",name:"base10",alphabet:"0123456789"})});var HE={};Ut(HE,{base16:()=>qde,base16upper:()=>Fde});var qde,Fde,Xk=fe(()=>{y();Gn();qde=Yt({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Fde=Yt({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4})});var jE={};Ut(jE,{base32:()=>Tl,base32hex:()=>jde,base32hexpad:()=>zde,base32hexpadupper:()=>Kde,base32hexupper:()=>Vde,base32pad:()=>kde,base32padupper:()=>Hde,base32upper:()=>Ude,base32z:()=>Gde});var Tl,Ude,kde,Hde,jde,Vde,zde,Kde,Gde,VE=fe(()=>{y();Gn();Tl=Yt({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Ude=Yt({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),kde=Yt({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Hde=Yt({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),jde=Yt({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Vde=Yt({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),zde=Yt({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Kde=Yt({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Gde=Yt({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})});var zE={};Ut(zE,{base36:()=>Qde,base36upper:()=>Wde});var Qde,Wde,Zk=fe(()=>{y();Gn();Qde=Fa({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Wde=Fa({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})});var KE={};Ut(KE,{base58btc:()=>ks,base58flickr:()=>$de});var ks,$de,GE=fe(()=>{y();Gn();ks=Fa({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),$de=Fa({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})});var QE={};Ut(QE,{base64:()=>Yde,base64pad:()=>Jde,base64url:()=>Xde,base64urlpad:()=>Zde});var Yde,Jde,Xde,Zde,eH=fe(()=>{y();Gn();Yde=Yt({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Jde=Yt({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Xde=Yt({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Zde=Yt({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})});var WE={};Ut(WE,{base256emoji:()=>n0e});function r0e(t){return t.reduce((e,r)=>(e+=e0e[r],e),"")}function i0e(t){let e=[];for(let r of t){let i=t0e[r.codePointAt(0)];if(i===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(i)}return new Uint8Array(e)}var tH,e0e,t0e,n0e,rH=fe(()=>{y();Gn();tH=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),e0e=tH.reduce((t,e,r)=>(t[r]=e,t),[]),t0e=tH.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);n0e=Cl({prefix:"\u{1F680}",name:"base256emoji",encode:r0e,decode:i0e})});function sH(t,e,r){e=e||[],r=r||0;for(var i=r;t>=f0e;)e[r++]=t&255|iH,t/=128;for(;t&a0e;)e[r++]=t&255|iH,t>>>=7;return e[r]=t|0,sH.bytes=r-i+1,e}function $E(t,i){var r=0,i=i||0,n=0,s=i,o,f=t.length;do{if(s>=f)throw $E.bytes=0,new RangeError("Could not decode varint");o=t[s++],r+=n<28?(o&nH)<<n:(o&nH)*Math.pow(2,n),n+=7}while(o>=c0e);return $E.bytes=s-i,r}var s0e,iH,o0e,a0e,f0e,u0e,c0e,nH,h0e,l0e,d0e,p0e,g0e,v0e,y0e,m0e,b0e,w0e,_0e,x0e,fp,oH=fe(()=>{y();s0e=sH,iH=128,o0e=127,a0e=~o0e,f0e=Math.pow(2,31);u0e=$E,c0e=128,nH=127;h0e=Math.pow(2,7),l0e=Math.pow(2,14),d0e=Math.pow(2,21),p0e=Math.pow(2,28),g0e=Math.pow(2,35),v0e=Math.pow(2,42),y0e=Math.pow(2,49),m0e=Math.pow(2,56),b0e=Math.pow(2,63),w0e=function(t){return t<h0e?1:t<l0e?2:t<d0e?3:t<p0e?4:t<g0e?5:t<v0e?6:t<y0e?7:t<m0e?8:t<b0e?9:10},_0e={encode:s0e,decode:u0e,encodingLength:w0e},x0e=_0e,fp=x0e});var up,Ol,Nl,Jm=fe(()=>{y();oH();up=(t,e=0)=>[fp.decode(t,e),fp.decode.bytes],Ol=(t,e,r=0)=>(fp.encode(t,e,r),e),Nl=t=>fp.encodingLength(t)});var Hu,aH,fH,Bl,hp=fe(()=>{y();qa();Jm();Hu=(t,e)=>{let r=e.byteLength,i=Nl(t),n=i+Nl(r),s=new Uint8Array(n+r);return Ol(t,s,0),Ol(r,s,i),s.set(e,n),new Bl(t,r,e,s)},aH=t=>{let e=Ao(t),[r,i]=up(e),[n,s]=up(e.subarray(i)),o=e.subarray(i+s);if(o.byteLength!==n)throw new Error("Incorrect length");return new Bl(r,n,o,e)},fH=(t,e)=>t===e?!0:t.code===e.code&&t.size===e.size&&Vk(t.bytes,e.bytes),Bl=class{constructor(e,r,i,n){this.code=e,this.size=r,this.digest=i,this.bytes=n}}});var JE,YE,XE=fe(()=>{y();hp();JE=({name:t,code:e,encode:r})=>new YE(t,e,r),YE=class{constructor(e,r,i){this.name=e,this.code=r,this.encode=i}digest(e){if(e instanceof Uint8Array){let r=this.encode(e);return r instanceof Uint8Array?Hu(this.code,r):r.then(i=>Hu(this.code,i))}else throw Error("Unknown type, must be binary type")}}});var ZE={};Ut(ZE,{sha256:()=>E0e,sha512:()=>A0e});var cH,E0e,A0e,hH=fe(()=>{y();XE();cH=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),E0e=JE({name:"sha2-256",code:18,encode:cH("SHA-256")}),A0e=JE({name:"sha2-512",code:19,encode:cH("SHA-512")})});var eA={};Ut(eA,{identity:()=>M0e});var lH,S0e,dH,I0e,M0e,pH=fe(()=>{y();qa();hp();lH=0,S0e="identity",dH=Ao,I0e=t=>Hu(lH,dH(t)),M0e={code:lH,name:S0e,encode:dH,digest:I0e}});var gH=fe(()=>{y();qa()});var PBe,LBe,vH=fe(()=>{y();PBe=new TextEncoder,LBe=new TextDecoder});var pr,O0e,N0e,B0e,lp,D0e,yH,mH,Xm,Zm,R0e,P0e,L0e,bH=fe(()=>{y();Jm();hp();GE();VE();qa();pr=class{constructor(e,r,i,n){this.code=r,this.version=e,this.multihash=i,this.bytes=n,this.byteOffset=n.byteOffset,this.byteLength=n.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:Zm,byteLength:Zm,code:Xm,version:Xm,multihash:Xm,bytes:Xm,_baseCache:Zm,asCID:Zm})}toV0(){switch(this.version){case 0:return this;default:{let{code:e,multihash:r}=this;if(e!==lp)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==D0e)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return pr.createV0(r)}}}toV1(){switch(this.version){case 0:{let{code:e,digest:r}=this.multihash,i=Hu(e,r);return pr.createV1(this.code,i)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&fH(this.multihash,e.multihash)}toString(e){let{bytes:r,version:i,_baseCache:n}=this;switch(i){case 0:return N0e(r,n,e||ks.encoder);default:return B0e(r,n,e||Tl.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return P0e(/^0\.0/,L0e),!!(e&&(e[mH]||e.asCID===e))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof pr)return e;if(e!=null&&e.asCID===e){let{version:r,code:i,multihash:n,bytes:s}=e;return new pr(r,i,n,s||yH(r,i,n.bytes))}else if(e!=null&&e[mH]===!0){let{version:r,multihash:i,code:n}=e,s=aH(i);return pr.create(r,n,s)}else return null}static create(e,r,i){if(typeof r!="number")throw new Error("String codecs are no longer supported");switch(e){case 0:{if(r!==lp)throw new Error(`Version 0 CID must use dag-pb (code: ${lp}) block encoding`);return new pr(e,r,i,i.bytes)}case 1:{let n=yH(e,r,i.bytes);return new pr(e,r,i,n)}default:throw new Error("Invalid version")}}static createV0(e){return pr.create(0,lp,e)}static createV1(e,r){return pr.create(1,e,r)}static decode(e){let[r,i]=pr.decodeFirst(e);if(i.length)throw new Error("Incorrect length");return r}static decodeFirst(e){let r=pr.inspectBytes(e),i=r.size-r.multihashSize,n=Ao(e.subarray(i,i+r.multihashSize));if(n.byteLength!==r.multihashSize)throw new Error("Incorrect length");let s=n.subarray(r.multihashSize-r.digestSize),o=new Bl(r.multihashCode,r.digestSize,s,n);return[r.version===0?pr.createV0(o):pr.createV1(r.codec,o),e.subarray(r.size)]}static inspectBytes(e){let r=0,i=()=>{let[C,N]=up(e.subarray(r));return r+=N,C},n=i(),s=lp;if(n===18?(n=0,r=0):n===1&&(s=i()),n!==0&&n!==1)throw new RangeError(`Invalid CID version ${n}`);let o=r,f=i(),l=i(),b=r+l,E=b-o;return{version:n,codec:s,multihashCode:f,digestSize:l,multihashSize:E,size:b}}static parse(e,r){let[i,n]=O0e(e,r),s=pr.decode(n);return s._baseCache.set(i,e),s}},O0e=(t,e)=>{switch(t[0]){case"Q":{let r=e||ks;return[ks.prefix,r.decode(`${ks.prefix}${t}`)]}case ks.prefix:{let r=e||ks;return[ks.prefix,r.decode(t)]}case Tl.prefix:{let r=e||Tl;return[Tl.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}},N0e=(t,e,r)=>{let{prefix:i}=r;if(i!==ks.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let n=e.get(i);if(n==null){let s=r.encode(t).slice(1);return e.set(i,s),s}else return n},B0e=(t,e,r)=>{let{prefix:i}=r,n=e.get(i);if(n==null){let s=r.encode(t);return e.set(i,s),s}else return n},lp=112,D0e=18,yH=(t,e,r)=>{let i=Nl(t),n=i+Nl(e),s=new Uint8Array(n+r.byteLength);return Ol(t,s,0),Ol(e,s,i),s.set(r,n),s},mH=Symbol.for("@ipld/js-cid/CID"),Xm={writable:!1,configurable:!1,enumerable:!0},Zm={writable:!1,enumerable:!1,configurable:!1},R0e="0.0.0-dev",P0e=(t,e)=>{if(t.test(R0e))console.warn(e);else throw new Error(e)},L0e=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`});var wH=fe(()=>{y();bH();Jm();qa();XE();hp()});var tA,QBe,_H=fe(()=>{y();Wk();$k();Yk();Jk();Xk();VE();Zk();GE();eH();rH();hH();pH();gH();vH();wH();tA={...qE,...FE,...UE,...kE,...HE,...jE,...zE,...KE,...QE,...WE},QBe={...ZE,...eA}});function EH(t,e,r,i){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:i}}}var xH,rA,q0e,eb,iA=fe(()=>{y();_H();Wm();xH=EH("utf8","u",t=>{let e=new TextDecoder("utf8");return"u"+e.decode(t)},t=>new TextEncoder().encode(t.substring(1))),rA=EH("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);let e=Ml(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),q0e={utf8:xH,"utf-8":xH,hex:tA.base16,latin1:rA,ascii:rA,binary:rA,...tA},eb=q0e});function So(t,e="utf8"){let r=eb[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}var nA=fe(()=>{y();iA()});function Io(t,e="utf8"){let r=eb[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t,"utf8"):r.decoder.decode(`${r.prefix}${t}`)}var sA=fe(()=>{y();iA()});function dp(t){return Yf(So(Io(t,Sl),km))}function pp(t){return So(Io(Jf(t),km),Sl)}function oA(t){let e=Io(Gm,Il),r=Km+So($m([e,t]),Il);return[Vm,zm,r].join(jm)}function aA(t){let[e,r,i]=t.split(jm);if(e!==Vm||r!==zm)throw new Error('Issuer must be a DID with method "key"');if(i.slice(0,1)!==Km)throw new Error("Issuer must be a key in mulicodec format");let s=Io(i.slice(1),Il);if(So(s.slice(0,2),Il)!==Gm)throw new Error('Issuer must be a public key with type "Ed25519"');let f=s.slice(2);if(f.length!==32)throw new Error("Issuer must be a public key with length 32 bytes");return f}function AH(t){return So(t,Sl)}function SH(t){return Io(t,Sl)}function tb(t){return Io([pp(t.header),pp(t.payload)].join(Al),Hm)}function F0e(t){let e=So(t,Hm).split(Al),r=dp(e[0]),i=dp(e[1]);return{header:r,payload:i}}function fA(t){return[pp(t.header),pp(t.payload),AH(t.signature)].join(Al)}function uA(t){let e=t.split(Al),r=dp(e[0]),i=dp(e[1]),n=SH(e[2]);return{header:r,payload:i,signature:n}}var cA=fe(()=>{y();BE();nA();sA();Hd();Qm()});function U0e(t=(0,IH.randomBytes)(32)){return Dl.generateKeyPairFromSeed(t)}async function k0e(t,e,r,i,n=(0,MH.fromMiliseconds)(Date.now())){let s={alg:Fm,typ:Um},o=oA(i.publicKey),f=n+r,l={iss:o,sub:t,aud:e,iat:n,exp:f},b=tb({header:s,payload:l}),E=Dl.sign(i.secretKey,b);return fA({header:s,payload:l,signature:E})}async function H0e(t){let{header:e,payload:r,signature:i}=uA(t);if(e.alg!==Fm||e.typ!==Um)throw new Error("JWT must use EdDSA algorithm");let n=aA(r.iss),s=tb({header:e,payload:r});return Dl.verify(n,s,i)}var Dl,IH,MH,CH=fe(()=>{y();Dl=Ve(Nk()),IH=Ve(qm()),MH=Ve(ru());Qm();cA()});var TH=fe(()=>{y()});var OH={};Ut(OH,{DATA_ENCODING:()=>Hm,DID_DELIMITER:()=>jm,DID_METHOD:()=>zm,DID_PREFIX:()=>Vm,JSON_ENCODING:()=>km,JWT_DELIMITER:()=>Al,JWT_ENCODING:()=>Sl,JWT_IRIDIUM_ALG:()=>Fm,JWT_IRIDIUM_TYP:()=>Um,KEY_PAIR_SEED_LENGTH:()=>kk,MULTICODEC_ED25519_BASE:()=>Km,MULTICODEC_ED25519_ENCODING:()=>Il,MULTICODEC_ED25519_HEADER:()=>Gm,MULTICODEC_ED25519_LENGTH:()=>Uk,decodeData:()=>F0e,decodeIss:()=>aA,decodeJSON:()=>dp,decodeJWT:()=>uA,decodeSig:()=>SH,encodeData:()=>tb,encodeIss:()=>oA,encodeJSON:()=>pp,encodeJWT:()=>fA,encodeSig:()=>AH,generateKeyPair:()=>U0e,signJWT:()=>k0e,verifyJWT:()=>H0e});var NH=fe(()=>{y();CH();Qm();TH();cA()});var DH=D(rb=>{"use strict";y();Object.defineProperty(rb,"__esModule",{value:!0});var Zr=qu(),hA=Ai(),j0e=20;function V0e(t,e,r){for(var i=1634760805,n=857760878,s=2036477234,o=1797285236,f=r[3]<<24|r[2]<<16|r[1]<<8|r[0],l=r[7]<<24|r[6]<<16|r[5]<<8|r[4],b=r[11]<<24|r[10]<<16|r[9]<<8|r[8],E=r[15]<<24|r[14]<<16|r[13]<<8|r[12],C=r[19]<<24|r[18]<<16|r[17]<<8|r[16],N=r[23]<<24|r[22]<<16|r[21]<<8|r[20],L=r[27]<<24|r[26]<<16|r[25]<<8|r[24],R=r[31]<<24|r[30]<<16|r[29]<<8|r[28],V=e[3]<<24|e[2]<<16|e[1]<<8|e[0],W=e[7]<<24|e[6]<<16|e[5]<<8|e[4],$=e[11]<<24|e[10]<<16|e[9]<<8|e[8],re=e[15]<<24|e[14]<<16|e[13]<<8|e[12],ee=i,ie=n,ne=s,Z=o,G=f,Q=l,P=b,w=E,p=C,_=N,g=L,a=R,c=V,m=W,v=$,u=re,d=0;d<j0e;d+=2)ee=ee+G|0,c^=ee,c=c>>>32-16|c<<16,p=p+c|0,G^=p,G=G>>>32-12|G<<12,ie=ie+Q|0,m^=ie,m=m>>>32-16|m<<16,_=_+m|0,Q^=_,Q=Q>>>32-12|Q<<12,ne=ne+P|0,v^=ne,v=v>>>32-16|v<<16,g=g+v|0,P^=g,P=P>>>32-12|P<<12,Z=Z+w|0,u^=Z,u=u>>>32-16|u<<16,a=a+u|0,w^=a,w=w>>>32-12|w<<12,ne=ne+P|0,v^=ne,v=v>>>32-8|v<<8,g=g+v|0,P^=g,P=P>>>32-7|P<<7,Z=Z+w|0,u^=Z,u=u>>>32-8|u<<8,a=a+u|0,w^=a,w=w>>>32-7|w<<7,ie=ie+Q|0,m^=ie,m=m>>>32-8|m<<8,_=_+m|0,Q^=_,Q=Q>>>32-7|Q<<7,ee=ee+G|0,c^=ee,c=c>>>32-8|c<<8,p=p+c|0,G^=p,G=G>>>32-7|G<<7,ee=ee+Q|0,u^=ee,u=u>>>32-16|u<<16,g=g+u|0,Q^=g,Q=Q>>>32-12|Q<<12,ie=ie+P|0,c^=ie,c=c>>>32-16|c<<16,a=a+c|0,P^=a,P=P>>>32-12|P<<12,ne=ne+w|0,m^=ne,m=m>>>32-16|m<<16,p=p+m|0,w^=p,w=w>>>32-12|w<<12,Z=Z+G|0,v^=Z,v=v>>>32-16|v<<16,_=_+v|0,G^=_,G=G>>>32-12|G<<12,ne=ne+w|0,m^=ne,m=m>>>32-8|m<<8,p=p+m|0,w^=p,w=w>>>32-7|w<<7,Z=Z+G|0,v^=Z,v=v>>>32-8|v<<8,_=_+v|0,G^=_,G=G>>>32-7|G<<7,ie=ie+P|0,c^=ie,c=c>>>32-8|c<<8,a=a+c|0,P^=a,P=P>>>32-7|P<<7,ee=ee+Q|0,u^=ee,u=u>>>32-8|u<<8,g=g+u|0,Q^=g,Q=Q>>>32-7|Q<<7;Zr.writeUint32LE(ee+i|0,t,0),Zr.writeUint32LE(ie+n|0,t,4),Zr.writeUint32LE(ne+s|0,t,8),Zr.writeUint32LE(Z+o|0,t,12),Zr.writeUint32LE(G+f|0,t,16),Zr.writeUint32LE(Q+l|0,t,20),Zr.writeUint32LE(P+b|0,t,24),Zr.writeUint32LE(w+E|0,t,28),Zr.writeUint32LE(p+C|0,t,32),Zr.writeUint32LE(_+N|0,t,36),Zr.writeUint32LE(g+L|0,t,40),Zr.writeUint32LE(a+R|0,t,44),Zr.writeUint32LE(c+V|0,t,48),Zr.writeUint32LE(m+W|0,t,52),Zr.writeUint32LE(v+$|0,t,56),Zr.writeUint32LE(u+re|0,t,60)}function BH(t,e,r,i,n){if(n===void 0&&(n=0),t.length!==32)throw new Error("ChaCha: key size must be 32 bytes");if(i.length<r.length)throw new Error("ChaCha: destination is shorter than source");var s,o;if(n===0){if(e.length!==8&&e.length!==12)throw new Error("ChaCha nonce must be 8 or 12 bytes");s=new Uint8Array(16),o=s.length-e.length,s.set(e,o)}else{if(e.length!==16)throw new Error("ChaCha nonce with counter must be 16 bytes");s=e,o=n}for(var f=new Uint8Array(64),l=0;l<r.length;l+=64){V0e(f,s,t);for(var b=l;b<l+64&&b<r.length;b++)i[b]=r[b]^f[b-l];K0e(s,0,o)}return hA.wipe(f),n===0&&hA.wipe(s),i}rb.streamXOR=BH;function z0e(t,e,r,i){return i===void 0&&(i=0),hA.wipe(r),BH(t,e,r,r,i)}rb.stream=z0e;function K0e(t,e,r){for(var i=1;r--;)i=i+(t[e]&255)|0,t[e]=i&255,i>>>=8,e++;if(i>0)throw new Error("ChaCha: counter overflow")}});var ib=D(Rl=>{"use strict";y();Object.defineProperty(Rl,"__esModule",{value:!0});function G0e(t,e,r){return~(t-1)&e|t-1&r}Rl.select=G0e;function Q0e(t,e){return(t|0)-(e|0)-1>>>31&1}Rl.lessOrEqual=Q0e;function RH(t,e){if(t.length!==e.length)return 0;for(var r=0,i=0;i<t.length;i++)r|=t[i]^e[i];return 1&r-1>>>8}Rl.compare=RH;function W0e(t,e){return t.length===0||e.length===0?!1:RH(t,e)!==0}Rl.equal=W0e});var LH=D(Mo=>{"use strict";y();Object.defineProperty(Mo,"__esModule",{value:!0});var $0e=ib(),nb=Ai();Mo.DIGEST_LENGTH=16;var PH=function(){function t(e){this.digestLength=Mo.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var r=e[0]|e[1]<<8;this._r[0]=r&8191;var i=e[2]|e[3]<<8;this._r[1]=(r>>>13|i<<3)&8191;var n=e[4]|e[5]<<8;this._r[2]=(i>>>10|n<<6)&7939;var s=e[6]|e[7]<<8;this._r[3]=(n>>>7|s<<9)&8191;var o=e[8]|e[9]<<8;this._r[4]=(s>>>4|o<<12)&255,this._r[5]=o>>>1&8190;var f=e[10]|e[11]<<8;this._r[6]=(o>>>14|f<<2)&8191;var l=e[12]|e[13]<<8;this._r[7]=(f>>>11|l<<5)&8065;var b=e[14]|e[15]<<8;this._r[8]=(l>>>8|b<<8)&8191,this._r[9]=b>>>5&127,this._pad[0]=e[16]|e[17]<<8,this._pad[1]=e[18]|e[19]<<8,this._pad[2]=e[20]|e[21]<<8,this._pad[3]=e[22]|e[23]<<8,this._pad[4]=e[24]|e[25]<<8,this._pad[5]=e[26]|e[27]<<8,this._pad[6]=e[28]|e[29]<<8,this._pad[7]=e[30]|e[31]<<8}return t.prototype._blocks=function(e,r,i){for(var n=this._fin?0:2048,s=this._h[0],o=this._h[1],f=this._h[2],l=this._h[3],b=this._h[4],E=this._h[5],C=this._h[6],N=this._h[7],L=this._h[8],R=this._h[9],V=this._r[0],W=this._r[1],$=this._r[2],re=this._r[3],ee=this._r[4],ie=this._r[5],ne=this._r[6],Z=this._r[7],G=this._r[8],Q=this._r[9];i>=16;){var P=e[r+0]|e[r+1]<<8;s+=P&8191;var w=e[r+2]|e[r+3]<<8;o+=(P>>>13|w<<3)&8191;var p=e[r+4]|e[r+5]<<8;f+=(w>>>10|p<<6)&8191;var _=e[r+6]|e[r+7]<<8;l+=(p>>>7|_<<9)&8191;var g=e[r+8]|e[r+9]<<8;b+=(_>>>4|g<<12)&8191,E+=g>>>1&8191;var a=e[r+10]|e[r+11]<<8;C+=(g>>>14|a<<2)&8191;var c=e[r+12]|e[r+13]<<8;N+=(a>>>11|c<<5)&8191;var m=e[r+14]|e[r+15]<<8;L+=(c>>>8|m<<8)&8191,R+=m>>>5|n;var v=0,u=v;u+=s*V,u+=o*(5*Q),u+=f*(5*G),u+=l*(5*Z),u+=b*(5*ne),v=u>>>13,u&=8191,u+=E*(5*ie),u+=C*(5*ee),u+=N*(5*re),u+=L*(5*$),u+=R*(5*W),v+=u>>>13,u&=8191;var d=v;d+=s*W,d+=o*V,d+=f*(5*Q),d+=l*(5*G),d+=b*(5*Z),v=d>>>13,d&=8191,d+=E*(5*ne),d+=C*(5*ie),d+=N*(5*ee),d+=L*(5*re),d+=R*(5*$),v+=d>>>13,d&=8191;var x=v;x+=s*$,x+=o*W,x+=f*V,x+=l*(5*Q),x+=b*(5*G),v=x>>>13,x&=8191,x+=E*(5*Z),x+=C*(5*ne),x+=N*(5*ie),x+=L*(5*ee),x+=R*(5*re),v+=x>>>13,x&=8191;var A=v;A+=s*re,A+=o*$,A+=f*W,A+=l*V,A+=b*(5*Q),v=A>>>13,A&=8191,A+=E*(5*G),A+=C*(5*Z),A+=N*(5*ne),A+=L*(5*ie),A+=R*(5*ee),v+=A>>>13,A&=8191;var h=v;h+=s*ee,h+=o*re,h+=f*$,h+=l*W,h+=b*V,v=h>>>13,h&=8191,h+=E*(5*Q),h+=C*(5*G),h+=N*(5*Z),h+=L*(5*ne),h+=R*(5*ie),v+=h>>>13,h&=8191;var S=v;S+=s*ie,S+=o*ee,S+=f*re,S+=l*$,S+=b*W,v=S>>>13,S&=8191,S+=E*V,S+=C*(5*Q),S+=N*(5*G),S+=L*(5*Z),S+=R*(5*ne),v+=S>>>13,S&=8191;var K=v;K+=s*ne,K+=o*ie,K+=f*ee,K+=l*re,K+=b*$,v=K>>>13,K&=8191,K+=E*W,K+=C*V,K+=N*(5*Q),K+=L*(5*G),K+=R*(5*Z),v+=K>>>13,K&=8191;var T=v;T+=s*Z,T+=o*ne,T+=f*ie,T+=l*ee,T+=b*re,v=T>>>13,T&=8191,T+=E*$,T+=C*W,T+=N*V,T+=L*(5*Q),T+=R*(5*G),v+=T>>>13,T&=8191;var k=v;k+=s*G,k+=o*Z,k+=f*ne,k+=l*ie,k+=b*ee,v=k>>>13,k&=8191,k+=E*re,k+=C*$,k+=N*W,k+=L*V,k+=R*(5*Q),v+=k>>>13,k&=8191;var z=v;z+=s*Q,z+=o*G,z+=f*Z,z+=l*ne,z+=b*ie,v=z>>>13,z&=8191,z+=E*ee,z+=C*re,z+=N*$,z+=L*W,z+=R*V,v+=z>>>13,z&=8191,v=(v<<2)+v|0,v=v+u|0,u=v&8191,v=v>>>13,d+=v,s=u,o=d,f=x,l=A,b=h,E=S,C=K,N=T,L=k,R=z,r+=16,i-=16}this._h[0]=s,this._h[1]=o,this._h[2]=f,this._h[3]=l,this._h[4]=b,this._h[5]=E,this._h[6]=C,this._h[7]=N,this._h[8]=L,this._h[9]=R},t.prototype.finish=function(e,r){r===void 0&&(r=0);var i=new Uint16Array(10),n,s,o,f;if(this._leftover){for(f=this._leftover,this._buffer[f++]=1;f<16;f++)this._buffer[f]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(n=this._h[1]>>>13,this._h[1]&=8191,f=2;f<10;f++)this._h[f]+=n,n=this._h[f]>>>13,this._h[f]&=8191;for(this._h[0]+=n*5,n=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=n,n=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=n,i[0]=this._h[0]+5,n=i[0]>>>13,i[0]&=8191,f=1;f<10;f++)i[f]=this._h[f]+n,n=i[f]>>>13,i[f]&=8191;for(i[9]-=1<<13,s=(n^1)-1,f=0;f<10;f++)i[f]&=s;for(s=~s,f=0;f<10;f++)this._h[f]=this._h[f]&s|i[f];for(this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,o=this._h[0]+this._pad[0],this._h[0]=o&65535,f=1;f<8;f++)o=(this._h[f]+this._pad[f]|0)+(o>>>16)|0,this._h[f]=o&65535;return e[r+0]=this._h[0]>>>0,e[r+1]=this._h[0]>>>8,e[r+2]=this._h[1]>>>0,e[r+3]=this._h[1]>>>8,e[r+4]=this._h[2]>>>0,e[r+5]=this._h[2]>>>8,e[r+6]=this._h[3]>>>0,e[r+7]=this._h[3]>>>8,e[r+8]=this._h[4]>>>0,e[r+9]=this._h[4]>>>8,e[r+10]=this._h[5]>>>0,e[r+11]=this._h[5]>>>8,e[r+12]=this._h[6]>>>0,e[r+13]=this._h[6]>>>8,e[r+14]=this._h[7]>>>0,e[r+15]=this._h[7]>>>8,this._finished=!0,this},t.prototype.update=function(e){var r=0,i=e.length,n;if(this._leftover){n=16-this._leftover,n>i&&(n=i);for(var s=0;s<n;s++)this._buffer[this._leftover+s]=e[r+s];if(i-=n,r+=n,this._leftover+=n,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(i>=16&&(n=i-i%16,this._blocks(e,r,n),r+=n,i-=n),i){for(var s=0;s<i;s++)this._buffer[this._leftover+s]=e[r+s];this._leftover+=i}return this},t.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var e=new Uint8Array(16);return this.finish(e),e},t.prototype.clean=function(){return nb.wipe(this._buffer),nb.wipe(this._r),nb.wipe(this._h),nb.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},t}();Mo.Poly1305=PH;function Y0e(t,e){var r=new PH(t);r.update(e);var i=r.digest();return r.clean(),i}Mo.oneTimeAuth=Y0e;function J0e(t,e){return t.length!==Mo.DIGEST_LENGTH||e.length!==Mo.DIGEST_LENGTH?!1:$0e.equal(t,e)}Mo.equal=J0e});var UH=D(Co=>{"use strict";y();Object.defineProperty(Co,"__esModule",{value:!0});var sb=DH(),X0e=LH(),gp=Ai(),qH=qu(),Z0e=ib();Co.KEY_LENGTH=32;Co.NONCE_LENGTH=12;Co.TAG_LENGTH=16;var FH=new Uint8Array(16),epe=function(){function t(e){if(this.nonceLength=Co.NONCE_LENGTH,this.tagLength=Co.TAG_LENGTH,e.length!==Co.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(e)}return t.prototype.seal=function(e,r,i,n){if(e.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var s=new Uint8Array(16);s.set(e,s.length-e.length);var o=new Uint8Array(32);sb.stream(this._key,s,o,4);var f=r.length+this.tagLength,l;if(n){if(n.length!==f)throw new Error("ChaCha20Poly1305: incorrect destination length");l=n}else l=new Uint8Array(f);return sb.streamXOR(this._key,s,r,l,4),this._authenticate(l.subarray(l.length-this.tagLength,l.length),o,l.subarray(0,l.length-this.tagLength),i),gp.wipe(s),l},t.prototype.open=function(e,r,i,n){if(e.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(r.length<this.tagLength)return null;var s=new Uint8Array(16);s.set(e,s.length-e.length);var o=new Uint8Array(32);sb.stream(this._key,s,o,4);var f=new Uint8Array(this.tagLength);if(this._authenticate(f,o,r.subarray(0,r.length-this.tagLength),i),!Z0e.equal(f,r.subarray(r.length-this.tagLength,r.length)))return null;var l=r.length-this.tagLength,b;if(n){if(n.length!==l)throw new Error("ChaCha20Poly1305: incorrect destination length");b=n}else b=new Uint8Array(l);return sb.streamXOR(this._key,s,r.subarray(0,r.length-this.tagLength),b,4),gp.wipe(s),b},t.prototype.clean=function(){return gp.wipe(this._key),this},t.prototype._authenticate=function(e,r,i,n){var s=new X0e.Poly1305(r);n&&(s.update(n),n.length%16>0&&s.update(FH.subarray(n.length%16))),s.update(i),i.length%16>0&&s.update(FH.subarray(i.length%16));var o=new Uint8Array(8);n&&qH.writeUint64LE(n.length,o),s.update(o),qH.writeUint64LE(i.length,o),s.update(o);for(var f=s.digest(),l=0;l<f.length;l++)e[l]=f[l];s.clean(),gp.wipe(f),gp.wipe(o)},t}();Co.ChaCha20Poly1305=epe});var kH=D(lA=>{"use strict";y();Object.defineProperty(lA,"__esModule",{value:!0});function tpe(t){return typeof t.saveState<"u"&&typeof t.restoreState<"u"&&typeof t.cleanSavedState<"u"}lA.isSerializableHash=tpe});var jH=D(vp=>{"use strict";y();Object.defineProperty(vp,"__esModule",{value:!0});var Hs=kH(),rpe=ib(),ipe=Ai(),HH=function(){function t(e,r){this._finished=!1,this._inner=new e,this._outer=new e,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var i=new Uint8Array(this.blockSize);r.length>this.blockSize?this._inner.update(r).finish(i).clean():i.set(r);for(var n=0;n<i.length;n++)i[n]^=54;this._inner.update(i);for(var n=0;n<i.length;n++)i[n]^=106;this._outer.update(i),Hs.isSerializableHash(this._inner)&&Hs.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),ipe.wipe(i)}return t.prototype.reset=function(){if(!Hs.isSerializableHash(this._inner)||!Hs.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},t.prototype.clean=function(){Hs.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),Hs.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},t.prototype.update=function(e){return this._inner.update(e),this},t.prototype.finish=function(e){return this._finished?(this._outer.finish(e),this):(this._inner.finish(e),this._outer.update(e.subarray(0,this.digestLength)).finish(e),this._finished=!0,this)},t.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},t.prototype.saveState=function(){if(!Hs.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},t.prototype.restoreState=function(e){if(!Hs.isSerializableHash(this._inner)||!Hs.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(e),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},t.prototype.cleanSavedState=function(e){if(!Hs.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(e)},t}();vp.HMAC=HH;function npe(t,e,r){var i=new HH(t,e);i.update(r);var n=i.digest();return i.clean(),n}vp.hmac=npe;vp.equal=rpe.equal});var KH=D(dA=>{"use strict";y();Object.defineProperty(dA,"__esModule",{value:!0});var VH=jH(),zH=Ai(),spe=function(){function t(e,r,i,n){i===void 0&&(i=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=e,this._info=n;var s=VH.hmac(this._hash,i,r);this._hmac=new VH.HMAC(e,s),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return t.prototype._fillBuffer=function(){this._counter[0]++;var e=this._counter[0];if(e===0)throw new Error("hkdf: cannot expand more");this._hmac.reset(),e>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},t.prototype.expand=function(e){for(var r=new Uint8Array(e),i=0;i<r.length;i++)this._bufpos===this._buffer.length&&this._fillBuffer(),r[i]=this._buffer[this._bufpos++];return r},t.prototype.clean=function(){this._hmac.clean(),zH.wipe(this._buffer),zH.wipe(this._counter),this._bufpos=0},t}();dA.HKDF=spe});var QH=D(Ua=>{"use strict";y();Object.defineProperty(Ua,"__esModule",{value:!0});var ab=qu(),ob=Ai();Ua.DIGEST_LENGTH=32;Ua.BLOCK_SIZE=64;var GH=function(){function t(){this.digestLength=Ua.DIGEST_LENGTH,this.blockSize=Ua.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return t.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},t.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},t.prototype.clean=function(){ob.wipe(this._buffer),ob.wipe(this._temp),this.reset()},t.prototype.update=function(e,r){if(r===void 0&&(r=e.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var i=0;if(this._bytesHashed+=r,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&r>0;)this._buffer[this._bufferLength++]=e[i++],r--;this._bufferLength===this.blockSize&&(pA(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(r>=this.blockSize&&(i=pA(this._temp,this._state,e,i,r),r%=this.blockSize);r>0;)this._buffer[this._bufferLength++]=e[i++],r--;return this},t.prototype.finish=function(e){if(!this._finished){var r=this._bytesHashed,i=this._bufferLength,n=r/536870912|0,s=r<<3,o=r%64<56?64:128;this._buffer[i]=128;for(var f=i+1;f<o-8;f++)this._buffer[f]=0;ab.writeUint32BE(n,this._buffer,o-8),ab.writeUint32BE(s,this._buffer,o-4),pA(this._temp,this._state,this._buffer,0,o),this._finished=!0}for(var f=0;f<this.digestLength/4;f++)ab.writeUint32BE(this._state[f],e,f*4);return this},t.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},t.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},t.prototype.restoreState=function(e){return this._state.set(e.state),this._bufferLength=e.bufferLength,e.buffer&&this._buffer.set(e.buffer),this._bytesHashed=e.bytesHashed,this._finished=!1,this},t.prototype.cleanSavedState=function(e){ob.wipe(e.state),e.buffer&&ob.wipe(e.buffer),e.bufferLength=0,e.bytesHashed=0},t}();Ua.SHA256=GH;var ope=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function pA(t,e,r,i,n){for(;n>=64;){for(var s=e[0],o=e[1],f=e[2],l=e[3],b=e[4],E=e[5],C=e[6],N=e[7],L=0;L<16;L++){var R=i+L*4;t[L]=ab.readUint32BE(r,R)}for(var L=16;L<64;L++){var V=t[L-2],W=(V>>>17|V<<32-17)^(V>>>19|V<<32-19)^V>>>10;V=t[L-15];var $=(V>>>7|V<<32-7)^(V>>>18|V<<32-18)^V>>>3;t[L]=(W+t[L-7]|0)+($+t[L-16]|0)}for(var L=0;L<64;L++){var W=(((b>>>6|b<<26)^(b>>>11|b<<21)^(b>>>25|b<<7))+(b&E^~b&C)|0)+(N+(ope[L]+t[L]|0)|0)|0,$=((s>>>2|s<<32-2)^(s>>>13|s<<32-13)^(s>>>22|s<<32-22))+(s&o^s&f^o&f)|0;N=C,C=E,E=b,b=l+W|0,l=f,f=o,o=s,s=W+$|0}e[0]+=s,e[1]+=o,e[2]+=f,e[3]+=l,e[4]+=b,e[5]+=E,e[6]+=C,e[7]+=N,i+=64,n-=64}return i}function ape(t){var e=new GH;e.update(t);var r=e.digest();return e.clean(),r}Ua.hash=ape});var JH=D(Ti=>{"use strict";y();Object.defineProperty(Ti,"__esModule",{value:!0});var fpe=qm(),upe=Ai();Ti.PUBLIC_KEY_LENGTH=32;Ti.SECRET_KEY_LENGTH=32;Ti.SHARED_KEY_LENGTH=32;function js(t){var e=new Float64Array(16);if(t)for(var r=0;r<t.length;r++)e[r]=t[r];return e}var WH=new Uint8Array(32);WH[0]=9;var cpe=js([56129,1]);function gA(t){for(var e=1,r=0;r<16;r++){var i=t[r]+e+65535;e=Math.floor(i/65536),t[r]=i-e*65536}t[0]+=e-1+37*(e-1)}function yp(t,e,r){for(var i=~(r-1),n=0;n<16;n++){var s=i&(t[n]^e[n]);t[n]^=s,e[n]^=s}}function hpe(t,e){for(var r=js(),i=js(),n=0;n<16;n++)i[n]=e[n];gA(i),gA(i),gA(i);for(var s=0;s<2;s++){r[0]=i[0]-65517;for(var n=1;n<15;n++)r[n]=i[n]-65535-(r[n-1]>>16&1),r[n-1]&=65535;r[15]=i[15]-32767-(r[14]>>16&1);var o=r[15]>>16&1;r[14]&=65535,yp(i,r,1-o)}for(var n=0;n<16;n++)t[2*n]=i[n]&255,t[2*n+1]=i[n]>>8}function lpe(t,e){for(var r=0;r<16;r++)t[r]=e[2*r]+(e[2*r+1]<<8);t[15]&=32767}function fb(t,e,r){for(var i=0;i<16;i++)t[i]=e[i]+r[i]}function ub(t,e,r){for(var i=0;i<16;i++)t[i]=e[i]-r[i]}function To(t,e,r){var i,n,s=0,o=0,f=0,l=0,b=0,E=0,C=0,N=0,L=0,R=0,V=0,W=0,$=0,re=0,ee=0,ie=0,ne=0,Z=0,G=0,Q=0,P=0,w=0,p=0,_=0,g=0,a=0,c=0,m=0,v=0,u=0,d=0,x=r[0],A=r[1],h=r[2],S=r[3],K=r[4],T=r[5],k=r[6],z=r[7],O=r[8],B=r[9],q=r[10],U=r[11],F=r[12],Y=r[13],j=r[14],H=r[15];i=e[0],s+=i*x,o+=i*A,f+=i*h,l+=i*S,b+=i*K,E+=i*T,C+=i*k,N+=i*z,L+=i*O,R+=i*B,V+=i*q,W+=i*U,$+=i*F,re+=i*Y,ee+=i*j,ie+=i*H,i=e[1],o+=i*x,f+=i*A,l+=i*h,b+=i*S,E+=i*K,C+=i*T,N+=i*k,L+=i*z,R+=i*O,V+=i*B,W+=i*q,$+=i*U,re+=i*F,ee+=i*Y,ie+=i*j,ne+=i*H,i=e[2],f+=i*x,l+=i*A,b+=i*h,E+=i*S,C+=i*K,N+=i*T,L+=i*k,R+=i*z,V+=i*O,W+=i*B,$+=i*q,re+=i*U,ee+=i*F,ie+=i*Y,ne+=i*j,Z+=i*H,i=e[3],l+=i*x,b+=i*A,E+=i*h,C+=i*S,N+=i*K,L+=i*T,R+=i*k,V+=i*z,W+=i*O,$+=i*B,re+=i*q,ee+=i*U,ie+=i*F,ne+=i*Y,Z+=i*j,G+=i*H,i=e[4],b+=i*x,E+=i*A,C+=i*h,N+=i*S,L+=i*K,R+=i*T,V+=i*k,W+=i*z,$+=i*O,re+=i*B,ee+=i*q,ie+=i*U,ne+=i*F,Z+=i*Y,G+=i*j,Q+=i*H,i=e[5],E+=i*x,C+=i*A,N+=i*h,L+=i*S,R+=i*K,V+=i*T,W+=i*k,$+=i*z,re+=i*O,ee+=i*B,ie+=i*q,ne+=i*U,Z+=i*F,G+=i*Y,Q+=i*j,P+=i*H,i=e[6],C+=i*x,N+=i*A,L+=i*h,R+=i*S,V+=i*K,W+=i*T,$+=i*k,re+=i*z,ee+=i*O,ie+=i*B,ne+=i*q,Z+=i*U,G+=i*F,Q+=i*Y,P+=i*j,w+=i*H,i=e[7],N+=i*x,L+=i*A,R+=i*h,V+=i*S,W+=i*K,$+=i*T,re+=i*k,ee+=i*z,ie+=i*O,ne+=i*B,Z+=i*q,G+=i*U,Q+=i*F,P+=i*Y,w+=i*j,p+=i*H,i=e[8],L+=i*x,R+=i*A,V+=i*h,W+=i*S,$+=i*K,re+=i*T,ee+=i*k,ie+=i*z,ne+=i*O,Z+=i*B,G+=i*q,Q+=i*U,P+=i*F,w+=i*Y,p+=i*j,_+=i*H,i=e[9],R+=i*x,V+=i*A,W+=i*h,$+=i*S,re+=i*K,ee+=i*T,ie+=i*k,ne+=i*z,Z+=i*O,G+=i*B,Q+=i*q,P+=i*U,w+=i*F,p+=i*Y,_+=i*j,g+=i*H,i=e[10],V+=i*x,W+=i*A,$+=i*h,re+=i*S,ee+=i*K,ie+=i*T,ne+=i*k,Z+=i*z,G+=i*O,Q+=i*B,P+=i*q,w+=i*U,p+=i*F,_+=i*Y,g+=i*j,a+=i*H,i=e[11],W+=i*x,$+=i*A,re+=i*h,ee+=i*S,ie+=i*K,ne+=i*T,Z+=i*k,G+=i*z,Q+=i*O,P+=i*B,w+=i*q,p+=i*U,_+=i*F,g+=i*Y,a+=i*j,c+=i*H,i=e[12],$+=i*x,re+=i*A,ee+=i*h,ie+=i*S,ne+=i*K,Z+=i*T,G+=i*k,Q+=i*z,P+=i*O,w+=i*B,p+=i*q,_+=i*U,g+=i*F,a+=i*Y,c+=i*j,m+=i*H,i=e[13],re+=i*x,ee+=i*A,ie+=i*h,ne+=i*S,Z+=i*K,G+=i*T,Q+=i*k,P+=i*z,w+=i*O,p+=i*B,_+=i*q,g+=i*U,a+=i*F,c+=i*Y,m+=i*j,v+=i*H,i=e[14],ee+=i*x,ie+=i*A,ne+=i*h,Z+=i*S,G+=i*K,Q+=i*T,P+=i*k,w+=i*z,p+=i*O,_+=i*B,g+=i*q,a+=i*U,c+=i*F,m+=i*Y,v+=i*j,u+=i*H,i=e[15],ie+=i*x,ne+=i*A,Z+=i*h,G+=i*S,Q+=i*K,P+=i*T,w+=i*k,p+=i*z,_+=i*O,g+=i*B,a+=i*q,c+=i*U,m+=i*F,v+=i*Y,u+=i*j,d+=i*H,s+=38*ne,o+=38*Z,f+=38*G,l+=38*Q,b+=38*P,E+=38*w,C+=38*p,N+=38*_,L+=38*g,R+=38*a,V+=38*c,W+=38*m,$+=38*v,re+=38*u,ee+=38*d,n=1,i=s+n+65535,n=Math.floor(i/65536),s=i-n*65536,i=o+n+65535,n=Math.floor(i/65536),o=i-n*65536,i=f+n+65535,n=Math.floor(i/65536),f=i-n*65536,i=l+n+65535,n=Math.floor(i/65536),l=i-n*65536,i=b+n+65535,n=Math.floor(i/65536),b=i-n*65536,i=E+n+65535,n=Math.floor(i/65536),E=i-n*65536,i=C+n+65535,n=Math.floor(i/65536),C=i-n*65536,i=N+n+65535,n=Math.floor(i/65536),N=i-n*65536,i=L+n+65535,n=Math.floor(i/65536),L=i-n*65536,i=R+n+65535,n=Math.floor(i/65536),R=i-n*65536,i=V+n+65535,n=Math.floor(i/65536),V=i-n*65536,i=W+n+65535,n=Math.floor(i/65536),W=i-n*65536,i=$+n+65535,n=Math.floor(i/65536),$=i-n*65536,i=re+n+65535,n=Math.floor(i/65536),re=i-n*65536,i=ee+n+65535,n=Math.floor(i/65536),ee=i-n*65536,i=ie+n+65535,n=Math.floor(i/65536),ie=i-n*65536,s+=n-1+37*(n-1),n=1,i=s+n+65535,n=Math.floor(i/65536),s=i-n*65536,i=o+n+65535,n=Math.floor(i/65536),o=i-n*65536,i=f+n+65535,n=Math.floor(i/65536),f=i-n*65536,i=l+n+65535,n=Math.floor(i/65536),l=i-n*65536,i=b+n+65535,n=Math.floor(i/65536),b=i-n*65536,i=E+n+65535,n=Math.floor(i/65536),E=i-n*65536,i=C+n+65535,n=Math.floor(i/65536),C=i-n*65536,i=N+n+65535,n=Math.floor(i/65536),N=i-n*65536,i=L+n+65535,n=Math.floor(i/65536),L=i-n*65536,i=R+n+65535,n=Math.floor(i/65536),R=i-n*65536,i=V+n+65535,n=Math.floor(i/65536),V=i-n*65536,i=W+n+65535,n=Math.floor(i/65536),W=i-n*65536,i=$+n+65535,n=Math.floor(i/65536),$=i-n*65536,i=re+n+65535,n=Math.floor(i/65536),re=i-n*65536,i=ee+n+65535,n=Math.floor(i/65536),ee=i-n*65536,i=ie+n+65535,n=Math.floor(i/65536),ie=i-n*65536,s+=n-1+37*(n-1),t[0]=s,t[1]=o,t[2]=f,t[3]=l,t[4]=b,t[5]=E,t[6]=C,t[7]=N,t[8]=L,t[9]=R,t[10]=V,t[11]=W,t[12]=$,t[13]=re,t[14]=ee,t[15]=ie}function mp(t,e){To(t,e,e)}function dpe(t,e){for(var r=js(),i=0;i<16;i++)r[i]=e[i];for(var i=253;i>=0;i--)mp(r,r),i!==2&&i!==4&&To(r,r,e);for(var i=0;i<16;i++)t[i]=r[i]}function vA(t,e){for(var r=new Uint8Array(32),i=new Float64Array(80),n=js(),s=js(),o=js(),f=js(),l=js(),b=js(),E=0;E<31;E++)r[E]=t[E];r[31]=t[31]&127|64,r[0]&=248,lpe(i,e);for(var E=0;E<16;E++)s[E]=i[E];n[0]=f[0]=1;for(var E=254;E>=0;--E){var C=r[E>>>3]>>>(E&7)&1;yp(n,s,C),yp(o,f,C),fb(l,n,o),ub(n,n,o),fb(o,s,f),ub(s,s,f),mp(f,l),mp(b,n),To(n,o,n),To(o,s,l),fb(l,n,o),ub(n,n,o),mp(s,n),ub(o,f,b),To(n,o,cpe),fb(n,n,f),To(o,o,n),To(n,f,b),To(f,s,i),mp(s,l),yp(n,s,C),yp(o,f,C)}for(var E=0;E<16;E++)i[E+16]=n[E],i[E+32]=o[E],i[E+48]=s[E],i[E+64]=f[E];var N=i.subarray(32),L=i.subarray(16);dpe(N,N),To(L,L,N);var R=new Uint8Array(32);return hpe(R,L),R}Ti.scalarMult=vA;function $H(t){return vA(t,WH)}Ti.scalarMultBase=$H;function YH(t){if(t.length!==Ti.SECRET_KEY_LENGTH)throw new Error("x25519: seed must be "+Ti.SECRET_KEY_LENGTH+" bytes");var e=new Uint8Array(t),r=$H(e);return{publicKey:r,secretKey:e}}Ti.generateKeyPairFromSeed=YH;function ppe(t){var e=fpe.randomBytes(32,t),r=YH(e);return upe.wipe(e),r}Ti.generateKeyPair=ppe;function gpe(t,e,r){if(r===void 0&&(r=!1),t.length!==Ti.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect secret key length");if(e.length!==Ti.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect public key length");var i=vA(t,e);if(r){for(var n=0,s=0;s<i.length;s++)n|=i[s];if(n===0)throw new Error("X25519: invalid shared key")}return i}Ti.sharedKey=gpe});function XH(t,e){for(let r=0;r<t.byteLength;r++){if(t[r]<e[r])return-1;if(t[r]>e[r])return 1}return t.byteLength>e.byteLength?1:t.byteLength<e.byteLength?-1:0}var ZH=fe(()=>{y()});function ej(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}var tj=fe(()=>{y()});function rj(t,e){if(t.length!==e.length)throw new Error("Inputs should have the same length");let r=Ml(t.length);for(let i=0;i<t.length;i++)r[i]=t[i]^e[i];return r}var ij=fe(()=>{y();Wm()});var nj={};Ut(nj,{compare:()=>XH,concat:()=>$m,equals:()=>ej,fromString:()=>Io,toString:()=>So,xor:()=>rj});var sj=fe(()=>{y();ZH();BE();tj();sA();nA();ij()});var yj=D(zt=>{"use strict";y();var oj=zt&&zt.__spreadArray||function(t,e,r){if(r||arguments.length===2)for(var i=0,n=e.length,s;i<n;i++)(s||!(i in e))&&(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return t.concat(s||Array.prototype.slice.call(e))};Object.defineProperty(zt,"__esModule",{value:!0});zt.getNodeVersion=zt.detectOS=zt.parseUserAgent=zt.browserName=zt.detect=zt.ReactNativeInfo=zt.BotInfo=zt.SearchBotDeviceInfo=zt.NodeInfo=zt.BrowserInfo=void 0;var uj=function(){function t(e,r,i){this.name=e,this.version=r,this.os=i,this.type="browser"}return t}();zt.BrowserInfo=uj;var cj=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=I.default.platform}return t}();zt.NodeInfo=cj;var hj=function(){function t(e,r,i,n){this.name=e,this.version=r,this.os=i,this.bot=n,this.type="bot-device"}return t}();zt.SearchBotDeviceInfo=hj;var lj=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}();zt.BotInfo=lj;var dj=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}();zt.ReactNativeInfo=dj;var vpe=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,ype=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,aj=3,mpe=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",vpe]],fj=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function bpe(t){return t?yA(t):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new dj:typeof navigator<"u"?yA(navigator.userAgent):vj()}zt.detect=bpe;function pj(t){return t!==""&&mpe.reduce(function(e,r){var i=r[0],n=r[1];if(e)return e;var s=n.exec(t);return!!s&&[i,s]},!1)}function wpe(t){var e=pj(t);return e?e[0]:null}zt.browserName=wpe;function yA(t){var e=pj(t);if(!e)return null;var r=e[0],i=e[1];if(r==="searchbot")return new lj;var n=i[1]&&i[1].split(".").join("_").split("_").slice(0,3);n?n.length<aj&&(n=oj(oj([],n,!0),_pe(aj-n.length),!0)):n=[];var s=n.join("."),o=gj(t),f=ype.exec(t);return f&&f[1]?new hj(r,s,o,f[1]):new uj(r,s,o)}zt.parseUserAgent=yA;function gj(t){for(var e=0,r=fj.length;e<r;e++){var i=fj[e],n=i[0],s=i[1],o=s.exec(t);if(o)return n}return null}zt.detectOS=gj;function vj(){var t=typeof I.default<"u"&&I.default.version;return t?new cj(I.default.version.slice(1)):null}zt.getNodeVersion=vj;function _pe(t){for(var e=[],r=0;r<t;r++)e.push("0");return e}});var bj=D((iRe,mj)=>{"use strict";y();mj.exports=function(t,e){for(var r={},i=Object.keys(t),n=Array.isArray(e),s=0;s<i.length;s++){var o=i[s],f=t[o];(n?e.indexOf(o)!==-1:e(o,f,t))&&(r[o]=f)}return r}});var Mj=D(Oi=>{"use strict";y();var xpe=$d(),Epe=Yd(),_j=Jd(),Ape=bj(),Spe=t=>t==null,mA=Symbol("encodeFragmentIdentifier");function Ipe(t){switch(t.arrayFormat){case"index":return e=>(r,i)=>{let n=r.length;return i===void 0||t.skipNull&&i===null||t.skipEmptyString&&i===""?r:i===null?[...r,[er(e,t),"[",n,"]"].join("")]:[...r,[er(e,t),"[",er(n,t),"]=",er(i,t)].join("")]};case"bracket":return e=>(r,i)=>i===void 0||t.skipNull&&i===null||t.skipEmptyString&&i===""?r:i===null?[...r,[er(e,t),"[]"].join("")]:[...r,[er(e,t),"[]=",er(i,t)].join("")];case"colon-list-separator":return e=>(r,i)=>i===void 0||t.skipNull&&i===null||t.skipEmptyString&&i===""?r:i===null?[...r,[er(e,t),":list="].join("")]:[...r,[er(e,t),":list=",er(i,t)].join("")];case"comma":case"separator":case"bracket-separator":{let e=t.arrayFormat==="bracket-separator"?"[]=":"=";return r=>(i,n)=>n===void 0||t.skipNull&&n===null||t.skipEmptyString&&n===""?i:(n=n===null?"":n,i.length===0?[[er(r,t),e,er(n,t)].join("")]:[[i,er(n,t)].join(t.arrayFormatSeparator)])}default:return e=>(r,i)=>i===void 0||t.skipNull&&i===null||t.skipEmptyString&&i===""?r:i===null?[...r,er(e,t)]:[...r,[er(e,t),"=",er(i,t)].join("")]}}function Mpe(t){let e;switch(t.arrayFormat){case"index":return(r,i,n)=>{if(e=/\[(\d*)\]$/.exec(r),r=r.replace(/\[\d*\]$/,""),!e){n[r]=i;return}n[r]===void 0&&(n[r]={}),n[r][e[1]]=i};case"bracket":return(r,i,n)=>{if(e=/(\[\])$/.exec(r),r=r.replace(/\[\]$/,""),!e){n[r]=i;return}if(n[r]===void 0){n[r]=[i];return}n[r]=[].concat(n[r],i)};case"colon-list-separator":return(r,i,n)=>{if(e=/(:list)$/.exec(r),r=r.replace(/:list$/,""),!e){n[r]=i;return}if(n[r]===void 0){n[r]=[i];return}n[r]=[].concat(n[r],i)};case"comma":case"separator":return(r,i,n)=>{let s=typeof i=="string"&&i.includes(t.arrayFormatSeparator),o=typeof i=="string"&&!s&&Oo(i,t).includes(t.arrayFormatSeparator);i=o?Oo(i,t):i;let f=s||o?i.split(t.arrayFormatSeparator).map(l=>Oo(l,t)):i===null?i:Oo(i,t);n[r]=f};case"bracket-separator":return(r,i,n)=>{let s=/(\[\])$/.test(r);if(r=r.replace(/\[\]$/,""),!s){n[r]=i&&Oo(i,t);return}let o=i===null?[]:i.split(t.arrayFormatSeparator).map(f=>Oo(f,t));if(n[r]===void 0){n[r]=o;return}n[r]=[].concat(n[r],o)};default:return(r,i,n)=>{if(n[r]===void 0){n[r]=i;return}n[r]=[].concat(n[r],i)}}}function xj(t){if(typeof t!="string"||t.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function er(t,e){return e.encode?e.strict?xpe(t):encodeURIComponent(t):t}function Oo(t,e){return e.decode?Epe(t):t}function Ej(t){return Array.isArray(t)?t.sort():typeof t=="object"?Ej(Object.keys(t)).sort((e,r)=>Number(e)-Number(r)).map(e=>t[e]):t}function Aj(t){let e=t.indexOf("#");return e!==-1&&(t=t.slice(0,e)),t}function Cpe(t){let e="",r=t.indexOf("#");return r!==-1&&(e=t.slice(r)),e}function Sj(t){t=Aj(t);let e=t.indexOf("?");return e===-1?"":t.slice(e+1)}function wj(t,e){return e.parseNumbers&&!Number.isNaN(Number(t))&&typeof t=="string"&&t.trim()!==""?t=Number(t):e.parseBooleans&&t!==null&&(t.toLowerCase()==="true"||t.toLowerCase()==="false")&&(t=t.toLowerCase()==="true"),t}function Ij(t,e){e=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},e),xj(e.arrayFormatSeparator);let r=Mpe(e),i=Object.create(null);if(typeof t!="string"||(t=t.trim().replace(/^[?#&]/,""),!t))return i;for(let n of t.split("&")){if(n==="")continue;let[s,o]=_j(e.decode?n.replace(/\+/g," "):n,"=");o=o===void 0?null:["comma","separator","bracket-separator"].includes(e.arrayFormat)?o:Oo(o,e),r(Oo(s,e),o,i)}for(let n of Object.keys(i)){let s=i[n];if(typeof s=="object"&&s!==null)for(let o of Object.keys(s))s[o]=wj(s[o],e);else i[n]=wj(s,e)}return e.sort===!1?i:(e.sort===!0?Object.keys(i).sort():Object.keys(i).sort(e.sort)).reduce((n,s)=>{let o=i[s];return Boolean(o)&&typeof o=="object"&&!Array.isArray(o)?n[s]=Ej(o):n[s]=o,n},Object.create(null))}Oi.extract=Sj;Oi.parse=Ij;Oi.stringify=(t,e)=>{if(!t)return"";e=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},e),xj(e.arrayFormatSeparator);let r=o=>e.skipNull&&Spe(t[o])||e.skipEmptyString&&t[o]==="",i=Ipe(e),n={};for(let o of Object.keys(t))r(o)||(n[o]=t[o]);let s=Object.keys(n);return e.sort!==!1&&s.sort(e.sort),s.map(o=>{let f=t[o];return f===void 0?"":f===null?er(o,e):Array.isArray(f)?f.length===0&&e.arrayFormat==="bracket-separator"?er(o,e)+"[]":f.reduce(i(o),[]).join("&"):er(o,e)+"="+er(f,e)}).filter(o=>o.length>0).join("&")};Oi.parseUrl=(t,e)=>{e=Object.assign({decode:!0},e);let[r,i]=_j(t,"#");return Object.assign({url:r.split("?")[0]||"",query:Ij(Sj(t),e)},e&&e.parseFragmentIdentifier&&i?{fragmentIdentifier:Oo(i,e)}:{})};Oi.stringifyUrl=(t,e)=>{e=Object.assign({encode:!0,strict:!0,[mA]:!0},e);let r=Aj(t.url).split("?")[0]||"",i=Oi.extract(t.url),n=Oi.parse(i,{sort:!1}),s=Object.assign(n,t.query),o=Oi.stringify(s,e);o&&(o=`?${o}`);let f=Cpe(t.url);return t.fragmentIdentifier&&(f=`#${e[mA]?er(t.fragmentIdentifier,e):t.fragmentIdentifier}`),`${r}${o}${f}`};Oi.pick=(t,e,r)=>{r=Object.assign({parseFragmentIdentifier:!0,[mA]:!1},r);let{url:i,query:n,fragmentIdentifier:s}=Oi.parseUrl(t,r);return Oi.stringifyUrl({url:i,query:Ape(n,e),fragmentIdentifier:s},r)};Oi.exclude=(t,e,r)=>{let i=Array.isArray(e)?n=>!e.includes(n):(n,s)=>!e(n,s);return Oi.pick(t,i,r)}});var Cj=fe(()=>{y()});function ka(t,e,r="string"){if(!t[e]||typeof t[e]!==r)throw new Error(`Missing or invalid "${e}" param`)}function Tpe(t,e){let r=!0;return e.forEach(i=>{i in t||(r=!1)}),r}function Ope(t,e){return Array.isArray(t)?t.length===e:Object.keys(t).length===e}function Npe(t,e){return Array.isArray(t)?t.length>=e:Object.keys(t).length>=e}function bp(t,e,r){return(!r.length?Ope(t,e.length):Npe(t,e.length))?Tpe(t,e):!1}function wp(t,e,r="_"){let i=t.split(r);return i[i.length-1].trim().toLowerCase()===e.trim().toLowerCase()}var bA=fe(()=>{y()});function Bpe(t){return cb(t.method)&&hb(t.params)}function cb(t){return wp(t,"subscribe")}function hb(t){return bp(t,["topic"],[])}function Dpe(t){return lb(t.method)&&db(t.params)}function lb(t){return wp(t,"publish")}function db(t){return bp(t,["message","topic","ttl"],["prompt","tag"])}function Rpe(t){return pb(t.method)&&gb(t.params)}function pb(t){return wp(t,"unsubscribe")}function gb(t){return bp(t,["id","topic"],[])}function Ppe(t){return vb(t.method)&&yb(t.params)}function vb(t){return wp(t,"subscription")}function yb(t){return bp(t,["id","data"],[])}var wA=fe(()=>{y();bA()});function Lpe(t){if(!cb(t.method))throw new Error("JSON-RPC Request has invalid subscribe method");if(!hb(t.params))throw new Error("JSON-RPC Request has invalid subscribe params");let e=t.params;return ka(e,"topic"),e}function qpe(t){if(!lb(t.method))throw new Error("JSON-RPC Request has invalid publish method");if(!db(t.params))throw new Error("JSON-RPC Request has invalid publish params");let e=t.params;return ka(e,"topic"),ka(e,"message"),ka(e,"ttl","number"),e}function Fpe(t){if(!pb(t.method))throw new Error("JSON-RPC Request has invalid unsubscribe method");if(!gb(t.params))throw new Error("JSON-RPC Request has invalid unsubscribe params");let e=t.params;return ka(e,"id"),e}function Upe(t){if(!vb(t.method))throw new Error("JSON-RPC Request has invalid subscription method");if(!yb(t.params))throw new Error("JSON-RPC Request has invalid subscription params");let e=t.params;return ka(e,"id"),ka(e,"data"),e}var Tj=fe(()=>{y();bA();wA()});var kpe,Oj=fe(()=>{y();kpe={waku:{publish:"waku_publish",subscribe:"waku_subscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe"},irn:{publish:"irn_publish",subscribe:"irn_subscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe"},iridium:{publish:"iridium_publish",subscribe:"iridium_subscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe"}}});var Nj={};Ut(Nj,{RELAY_JSONRPC:()=>kpe,isPublishMethod:()=>lb,isPublishParams:()=>db,isPublishRequest:()=>Dpe,isSubscribeMethod:()=>cb,isSubscribeParams:()=>hb,isSubscribeRequest:()=>Bpe,isSubscriptionMethod:()=>vb,isSubscriptionParams:()=>yb,isSubscriptionRequest:()=>Ppe,isUnsubscribeMethod:()=>pb,isUnsubscribeParams:()=>gb,isUnsubscribeRequest:()=>Rpe,parsePublishRequest:()=>qpe,parseSubscribeRequest:()=>Lpe,parseSubscriptionRequest:()=>Upe,parseUnsubscribeRequest:()=>Fpe});var Bj=fe(()=>{y();Cj();Tj();Oj();wA()});var Sb=D(ce=>{"use strict";y();Object.defineProperty(ce,"__esModule",{value:!0});var Uj=UH(),Hpe=KH(),kj=qm(),IA=QH(),jpe=JH(),Kt=(sj(),_n(nj)),Vpe=yj(),Ll=ru(),_p=O1(),zpe=u_(),Kpe=Mj(),Gpe=(Bj(),_n(Nj));function Hj(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}}),e.default=t,Object.freeze(e)}var jj=Hj(jpe),mb=Hj(Kpe),_b=":";function Vj(t){let[e,r]=t.split(_b);return{namespace:e,reference:r}}function zj(t){let{namespace:e,reference:r}=t;return[e,r].join(_b)}function MA(t){let[e,r,i]=t.split(_b);return{namespace:e,reference:r,address:i}}function Kj(t){let{namespace:e,reference:r,address:i}=t;return[e,r,i].join(_b)}function CA(t,e){let r=[];return t.forEach(i=>{let n=e(i);r.includes(n)||r.push(n)}),r}function Gj(t){let{address:e}=MA(t);return e}function Qj(t){let{namespace:e,reference:r}=MA(t);return zj({namespace:e,reference:r})}function Qpe(t,e){let{namespace:r,reference:i}=Vj(e);return Kj({namespace:r,reference:i,address:t})}function Wpe(t){return CA(t,Gj)}function Wj(t){return CA(t,Qj)}function $pe(t,e=[]){let r=[];return Object.keys(t).forEach(i=>{if(e.length&&!e.includes(i))return;let n=t[i];r.push(...n.accounts)}),r}function Ype(t,e=[]){let r=[];return Object.keys(t).forEach(i=>{if(e.length&&!e.includes(i))return;let n=t[i];r.push(...Wj(n.accounts))}),r}function Jpe(t,e=[]){let r=[];return Object.keys(t).forEach(i=>{if(e.length&&!e.includes(i))return;let n=t[i];r.push(...n.chains)}),r}var TA="base10",vi="base16",bb="base64pad",xb="utf8",OA=0,ql=1,Xpe=0,Dj=1,_A=12,NA=32;function Zpe(){let t=jj.generateKeyPair();return{privateKey:Kt.toString(t.secretKey,vi),publicKey:Kt.toString(t.publicKey,vi)}}function ege(){let t=kj.randomBytes(NA);return Kt.toString(t,vi)}function tge(t,e){let r=jj.sharedKey(Kt.fromString(t,vi),Kt.fromString(e,vi)),i=new Hpe.HKDF(IA.SHA256,r).expand(NA);return Kt.toString(i,vi)}function rge(t){let e=IA.hash(Kt.fromString(t,vi));return Kt.toString(e,vi)}function ige(t){let e=IA.hash(Kt.fromString(t,xb));return Kt.toString(e,vi)}function $j(t){return Kt.fromString(`${t}`,TA)}function xp(t){return Number(Kt.toString(t,TA))}function nge(t){let e=$j(typeof t.type<"u"?t.type:OA);if(xp(e)===ql&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");let r=typeof t.senderPublicKey<"u"?Kt.fromString(t.senderPublicKey,vi):void 0,i=typeof t.iv<"u"?Kt.fromString(t.iv,vi):kj.randomBytes(_A),n=new Uj.ChaCha20Poly1305(Kt.fromString(t.symKey,vi)).seal(i,Kt.fromString(t.message,xb));return Yj({type:e,sealed:n,iv:i,senderPublicKey:r})}function sge(t){let e=new Uj.ChaCha20Poly1305(Kt.fromString(t.symKey,vi)),{sealed:r,iv:i}=BA(t.encoded),n=e.open(i,r);if(n===null)throw new Error("Failed to decrypt");return Kt.toString(n,xb)}function Yj(t){if(xp(t.type)===ql){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Kt.toString(Kt.concat([t.type,t.senderPublicKey,t.iv,t.sealed]),bb)}return Kt.toString(Kt.concat([t.type,t.iv,t.sealed]),bb)}function BA(t){let e=Kt.fromString(t,bb),r=e.slice(Xpe,Dj),i=Dj;if(xp(r)===ql){let f=i+NA,l=f+_A,b=e.slice(i,f),E=e.slice(f,l),C=e.slice(l);return{type:r,sealed:C,iv:E,senderPublicKey:b}}let n=i+_A,s=e.slice(i,n),o=e.slice(n);return{type:r,sealed:o,iv:s}}function oge(t,e){let r=BA(t);return Jj({type:xp(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?Kt.toString(r.senderPublicKey,vi):void 0,receiverPublicKey:e?.receiverPublicKey})}function Jj(t){let e=t?.type||OA;if(e===ql){if(typeof t?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof t?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t?.senderPublicKey,receiverPublicKey:t?.receiverPublicKey}}function age(t){return t.type===ql&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}var fge=Object.defineProperty,Rj=Object.getOwnPropertySymbols,uge=Object.prototype.hasOwnProperty,cge=Object.prototype.propertyIsEnumerable,Pj=(t,e,r)=>e in t?fge(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Lj=(t,e)=>{for(var r in e||(e={}))uge.call(e,r)&&Pj(t,r,e[r]);if(Rj)for(var r of Rj(e))cge.call(e,r)&&Pj(t,r,e[r]);return t},Xj="ReactNative",Pl={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},wb=" ",hge=":",Zj="/",DA=2,lge=1e3,eV="js";function RA(){return typeof I.default<"u"&&typeof I.default.versions<"u"&&typeof I.default.versions.node<"u"}function tV(){return!_p.getDocument()&&!!_p.getNavigator()&&navigator.product===Xj}function rV(){return!RA()&&!!_p.getNavigator()}function PA(){return tV()?Pl.reactNative:RA()?Pl.node:rV()?Pl.browser:Pl.unknown}function iV(t,e){let r=mb.parse(t);return r=Lj(Lj({},r),e),t=mb.stringify(r),t}function dge(){return zpe.getWindowMetadata()||{name:"",description:"",url:"",icons:[""]}}function pge(t,e){var r;let i=PA(),n={protocol:t,version:e,env:i};return i==="browser"&&(n.host=((r=_p.getLocation())==null?void 0:r.host)||"unknown"),n}function nV(){let t=Vpe.detect();if(t===null)return"unknown";let e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function sV(){var t;let e=PA();return e===Pl.browser?[e,((t=_p.getLocation())==null?void 0:t.host)||"unknown"].join(":"):e}function oV(t,e,r){let i=nV(),n=sV();return[[t,e].join("-"),[eV,r].join("-"),i,n].join("/")}function gge({protocol:t,version:e,relayUrl:r,sdkVersion:i,auth:n,projectId:s}){let o=r.split("?"),f=oV(t,e,i),l={auth:n,ua:f,projectId:s},b=iV(o[1]||"",l);return o[0]+"?"+b}function vge(t){let e=(t.match(/^[^:]+(?=:\/\/)/gi)||[])[0],r=typeof e<"u"?t.split("://")[1]:t;return e=e==="wss"?"https":"http",[e,r].join("://")}function yge(t,e,r){if(!t[e]||typeof t[e]!==r)throw new Error(`Missing or invalid "${e}" param`)}function aV(t,e=DA){return fV(t.split(Zj),e)}function mge(t){return aV(t).join(wb)}function gi(t,e){return t.filter(r=>e.includes(r)).length===t.length}function fV(t,e=DA){return t.slice(Math.max(t.length-e,0))}function bge(t){return Object.fromEntries(t.entries())}function wge(t){return new Map(Object.entries(t))}function _ge(t,e){let r={};return Object.keys(t).forEach(i=>{r[i]=e(t[i])}),r}var xge=t=>t;function uV(t){return t.trim().replace(/^\w/,e=>e.toUpperCase())}function Ege(t){return t.split(wb).map(e=>uV(e)).join(wb)}function Age(t,e){return Ll.fromMiliseconds((e||Date.now())+Ll.toMiliseconds(t))}function Sge(t){return Ll.fromMiliseconds(Date.now())>=Ll.toMiliseconds(t)}function Ige(){let t=Ll.toMiliseconds(Ll.FIVE_MINUTES),e,r,i;return{resolve:n=>{i&&e&&(clearTimeout(i),e(n))},reject:n=>{i&&r&&(clearTimeout(i),r(n))},done:()=>new Promise((n,s)=>{i=setTimeout(s,t),e=n,r=s})}}function LA(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function Mge(t){return LA("topic",t)}function Cge(t){return LA("id",t)}function Tge(t){let[e,r]=t.split(":"),i={id:void 0,topic:void 0};if(e==="topic"&&typeof r=="string")i.topic=r;else if(e==="id"&&Number.isInteger(Number(r)))i.id=Number(r);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${r}`);return i}function Oge(t,e){return`${t}${e?`:${e}`:""}`}var cV="irn";function Nge(t){return t?.relay||{protocol:cV}}function Bge(t){let e=Gpe.RELAY_JSONRPC[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}var Dge=Object.defineProperty,qj=Object.getOwnPropertySymbols,Rge=Object.prototype.hasOwnProperty,Pge=Object.prototype.propertyIsEnumerable,Fj=(t,e,r)=>e in t?Dge(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Lge=(t,e)=>{for(var r in e||(e={}))Rge.call(e,r)&&Fj(t,r,e[r]);if(qj)for(var r of qj(e))Pge.call(e,r)&&Fj(t,r,e[r]);return t};function hV(t,e="-"){let r={},i="relay"+e;return Object.keys(t).forEach(n=>{if(n.startsWith(i)){let s=n.replace(i,""),o=t[n];r[s]=o}}),r}function qge(t){let e=t.indexOf(":"),r=t.indexOf("?")!==-1?t.indexOf("?"):void 0,i=t.substring(0,e),n=t.substring(e+1,r).split("@"),s=typeof r<"u"?t.substring(r):"",o=mb.parse(s);return{protocol:i,topic:n[0],version:parseInt(n[1],10),symKey:o.symKey,relay:hV(o)}}function lV(t,e="-"){let r="relay",i={};return Object.keys(t).forEach(n=>{let s=r+e+n;t[n]&&(i[s]=t[n])}),i}function Fge(t){return`${t.protocol}:${t.topic}@${t.version}?`+mb.stringify(Lge({symKey:t.symKey},lV(t.relay)))}function Wn(t){let e=[];return t.forEach(r=>{let[i,n]=r.split(":");e.push(`${i}:${n}`)}),e}function dV(t){let e=[];return Object.values(t).forEach(r=>{e.push(...Wn(r.accounts)),r.extension&&r.extension.forEach(i=>{e.push(...Wn(i.accounts))})}),e}function pV(t,e){let r=[];return Object.values(t).forEach(i=>{Wn(i.accounts).includes(e)&&r.push(...i.methods),i.extension&&i.extension.forEach(n=>{Wn(n.accounts).includes(e)&&r.push(...n.methods)})}),r}function gV(t,e){let r=[];return Object.values(t).forEach(i=>{Wn(i.accounts).includes(e)&&r.push(...i.events),i.extension&&i.extension.forEach(n=>{Wn(n.accounts).includes(e)&&r.push(...n.events)})}),r}var Uge={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3}},kge={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function Qn(t,e){let{message:r,code:i}=kge[t];return{message:e?`${r} ${e}`:r,code:i}}function ju(t,e){let{message:r,code:i}=Uge[t];return{message:e?`${r} ${e}`:r,code:i}}function Fl(t,e){return Array.isArray(t)?typeof e<"u"&&t.length?t.every(e):!0:!1}function qA(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function No(t){return typeof t>"u"}function ki(t,e){return e&&No(t)?!0:typeof t=="string"&&Boolean(t.trim().length)}function FA(t,e){return e&&No(t)?!0:typeof t=="number"&&!isNaN(t)}function Hge(t,e){let{requiredNamespaces:r}=e,i=Object.keys(t.namespaces),n=Object.keys(r),s=!0;return gi(n,i)?(i.forEach(o=>{let{accounts:f,methods:l,events:b,extension:E}=t.namespaces[o],C=Wn(f),N=r[o];(!gi(N.chains,C)||!gi(N.methods,l)||!gi(N.events,b))&&(s=!1),s&&E&&E.forEach(L=>{var R;let{accounts:V,methods:W,events:$}=L,re=Wn(V);(R=N.extension)!=null&&R.find(ee=>gi(ee.chains,re)&&gi(ee.methods,W)&&gi(ee.events,$))||(s=!1)})}),s):!1}function Eb(t){return ki(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function vV(t){if(ki(t,!1)&&t.includes(":")){let e=t.split(":");if(e.length===3){let r=e[0]+":"+e[1];return!!e[2]&&Eb(r)}}return!1}function jge(t){if(ki(t,!1))try{return typeof new URL(t)<"u"}catch{return!1}return!1}function Vge(t){var e;return(e=t?.proposer)==null?void 0:e.publicKey}function zge(t){return t?.topic}function Kge(t,e){let r=null;return ki(t?.publicKey,!1)||(r=Qn("MISSING_OR_INVALID",`${e} controller public key should be a string`)),r}function Ab(t,e){let r=null;return No(t?.extension)||(!Fl(t.extension)||!t.extension.length)&&(r=Qn("MISSING_OR_INVALID",`${e} extension should be an array of namespaces, or omitted`)),r}function xA(t){let e=!0;return Fl(t)?t.length&&(e=t.every(r=>ki(r,!1))):e=!1,e}function EA(t,e,r){let i=null;return Fl(e)?e.forEach(n=>{i||(!Eb(n)||!n.includes(t))&&(i=ju("UNSUPPORTED_CHAINS",`${r}, chain ${n} should be a string and conform to "namespace:chainId" format`))}):i=ju("UNSUPPORTED_CHAINS",`${r}, chains ${e} should be an array of strings conforming to "namespace:chainId" format`),i}function yV(t,e){let r=null;return Object.entries(t).forEach(([i,n])=>{if(r)return;let s=EA(i,n?.chains,`${e} requiredNamespace`),o=Ab(n,e);s?r=s:o?r=o:n.extension&&n.extension.forEach(f=>{if(r)return;let l=EA(i,f.chains,`${e} extension`);l&&(r=l)})}),r}function AA(t,e){let r=null;return Fl(t)?t.forEach(i=>{r||vV(i)||(r=ju("UNSUPPORTED_ACCOUNTS",`${e}, account ${i} should be a string and conform to "namespace:chainId:address" format`))}):r=ju("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),r}function mV(t,e){let r=null;return Object.values(t).forEach(i=>{if(r)return;let n=AA(i?.accounts,`${e} namespace`),s=Ab(i,e);n?r=n:s?r=s:i.extension&&i.extension.forEach(o=>{if(r)return;let f=AA(o.accounts,`${e} extension`);f&&(r=f)})}),r}function SA(t,e){let r=null;return xA(t?.methods)?xA(t?.events)||(r=ju("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):r=ju("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),r}function UA(t,e){let r=null;return Object.values(t).forEach(i=>{if(r)return;let n=SA(i,`${e}, namespace`),s=Ab(i,e);n?r=n:s?r=s:i.extension&&i.extension.forEach(o=>{if(r)return;let f=SA(o,`${e}, extension`);f&&(r=f)})}),r}function Gge(t,e){let r=null;if(t&&qA(t)){let i=UA(t,e);i&&(r=i);let n=yV(t,e);n&&(r=n)}else r=Qn("MISSING_OR_INVALID",`${e}, requiredNamespaces should be an object with data`);return r}function Qge(t,e){let r=null;if(t&&qA(t)){let i=UA(t,e);i&&(r=i);let n=mV(t,e);n&&(r=n)}else r=Qn("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return r}function bV(t){return ki(t.protocol,!0)}function Wge(t,e){let r=!1;return e&&!t?r=!0:t&&Fl(t)&&t.length&&t.forEach(i=>{r=bV(i)}),r}function $ge(t){return typeof t=="number"}function Yge(t){return typeof t<"u"&&typeof t!==null}function Jge(t){return!(!t||typeof t!="object"||!t.code||!FA(t.code,!1)||!t.message||!ki(t.message,!1))}function Xge(t){return!(No(t)||!ki(t.method,!1))}function Zge(t){return!(No(t)||No(t.result)&&No(t.error)||!FA(t.id,!1)||!ki(t.jsonrpc,!1))}function e1e(t){return!(No(t)||!ki(t.name,!1))}function t1e(t,e){return!(!Eb(e)||!dV(t).includes(e))}function r1e(t,e,r){return ki(r,!1)?pV(t,e).includes(r):!1}function i1e(t,e,r){return ki(r,!1)?gV(t,e).includes(r):!1}function n1e(t,e,r){let i=null,n=Object.keys(t),s=Object.keys(e);return gi(n,s)?n.forEach(o=>{var f;if(i)return;let l=t[o].chains,b=Wn(e[o].accounts);gi(l,b)?gi(t[o].methods,e[o].methods)?gi(t[o].events,e[o].events)?t[o].extension&&!e[o].extension?i=Qn("NON_CONFORMING_NAMESPACES",`${r} namespaces extension doesn't satisfy requiredNamespaces extension for ${o}`):t[o].extension&&e[o].extension&&((f=t[o].extension)==null||f.forEach(({methods:E,events:C,chains:N})=>{var L;i||(L=e[o].extension)!=null&&L.find(R=>{let V=Wn(R.accounts);return gi(N,V)&&gi(C,R.events)&&gi(E,R.methods)})||(i=Qn("NON_CONFORMING_NAMESPACES",`${r} namespaces extension doesn't satisfy requiredNamespaces extension for ${o}`))})):i=Qn("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy requiredNamespaces events for ${o}`):i=Qn("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy requiredNamespaces methods for ${o}`):i=Qn("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy requiredNamespaces chains for ${o}`)}):i=Qn("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces`),i}ce.BASE10=TA,ce.BASE16=vi,ce.BASE64=bb,ce.COLON=hge,ce.DEFAULT_DEPTH=DA,ce.EMPTY_SPACE=wb,ce.ENV_MAP=Pl,ce.ONE_THOUSAND=lge,ce.REACT_NATIVE_PRODUCT=Xj,ce.RELAYER_DEFAULT_PROTOCOL=cV,ce.SDK_TYPE=eV,ce.SLASH=Zj,ce.TYPE_0=OA,ce.TYPE_1=ql,ce.UTF8=xb,ce.appendToQueryString=iV,ce.assertType=yge,ce.calcExpiry=Age,ce.capitalize=Ege,ce.capitalizeWord=uV,ce.createDelayedPromise=Ige,ce.decodeTypeByte=xp,ce.decrypt=sge,ce.deriveSymKey=tge,ce.deserialize=BA,ce.encodeTypeByte=$j,ce.encrypt=nge,ce.engineEvent=Oge,ce.enumify=xge,ce.formatAccountId=Kj,ce.formatAccountWithChain=Qpe,ce.formatChainId=zj,ce.formatExpirerTarget=LA,ce.formatIdTarget=Cge,ce.formatMessageContext=mge,ce.formatRelayParams=lV,ce.formatRelayRpcUrl=gge,ce.formatTopicTarget=Mge,ce.formatUA=oV,ce.formatUri=Fge,ce.generateKeyPair=Zpe,ce.generateRandomBytes32=ege,ce.getAccountsChains=Wn,ce.getAccountsFromNamespaces=$pe,ce.getAddressFromAccount=Gj,ce.getAddressesFromAccounts=Wpe,ce.getAppMetadata=dge,ce.getChainFromAccount=Qj,ce.getChainsFromAccounts=Wj,ce.getChainsFromNamespaces=Ype,ce.getChainsFromRequiredNamespaces=Jpe,ce.getEnvironment=PA,ce.getHttpUrl=vge,ce.getInternalError=Qn,ce.getJavascriptID=sV,ce.getJavascriptOS=nV,ce.getLastItems=fV,ce.getNamespacesChains=dV,ce.getNamespacesEventsForChainId=gV,ce.getNamespacesMethodsForChainId=pV,ce.getRelayClientMetadata=pge,ce.getRelayProtocolApi=Bge,ce.getRelayProtocolName=Nge,ce.getSdkError=ju,ce.getUniqueValues=CA,ce.hasOverlap=gi,ce.hashKey=rge,ce.hashMessage=ige,ce.isBrowser=rV,ce.isConformingNamespaces=n1e,ce.isExpired=Sge,ce.isNode=RA,ce.isProposalStruct=Vge,ce.isReactNative=tV,ce.isSessionCompatible=Hge,ce.isSessionStruct=zge,ce.isTypeOneEnvelope=age,ce.isUndefined=No,ce.isValidAccountId=vV,ce.isValidAccounts=AA,ce.isValidActions=SA,ce.isValidArray=Fl,ce.isValidChainId=Eb,ce.isValidChains=EA,ce.isValidController=Kge,ce.isValidErrorReason=Jge,ce.isValidEvent=e1e,ce.isValidExtension=Ab,ce.isValidId=$ge,ce.isValidNamespaceAccounts=mV,ce.isValidNamespaceActions=UA,ce.isValidNamespaceChains=yV,ce.isValidNamespaceMethodsOrEvents=xA,ce.isValidNamespaces=Qge,ce.isValidNamespacesChainId=t1e,ce.isValidNamespacesEvent=i1e,ce.isValidNamespacesRequest=r1e,ce.isValidNumber=FA,ce.isValidObject=qA,ce.isValidParams=Yge,ce.isValidRelay=bV,ce.isValidRelays=Wge,ce.isValidRequest=Xge,ce.isValidRequiredNamespaces=Gge,ce.isValidResponse=Zge,ce.isValidString=ki,ce.isValidUrl=jge,ce.mapEntries=_ge,ce.mapToObj=bge,ce.objToMap=wge,ce.parseAccountId=MA,ce.parseChainId=Vj,ce.parseContextNames=aV,ce.parseExpirerTarget=Tge,ce.parseRelayParams=hV,ce.parseUri=qge,ce.serialize=Yj,ce.validateDecoding=oge,ce.validateEncoding=Jj});var wV,Ib,_V,kA=fe(()=>{y();wV=Ve(eu());da();Ib=class extends Qd{constructor(e){super(e),this.events=new wV.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async request(e,r){return this.requestStrict(M_(e.method,e.params||[]),r)}async requestStrict(e,r){return new Promise(async(i,n)=>{if(!this.connection.connected)try{await this.open()}catch(s){n(s)}this.events.on(`${e.id}`,s=>{nv(s)?n(s.error):i(s.result)});try{await this.connection.send(e,r)}catch(s){n(s)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),D_(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",()=>this.events.emit("disconnect")),this.connection.on("error",e=>this.events.emit("error",e)),this.hasRegisteredEventListeners=!0)}},_V=Ib});var xV={};Ut(xV,{JsonRpcProvider:()=>Ib,default:()=>s1e});var s1e,EV=fe(()=>{y();kA();kA();s1e=_V});var SV,AV,o1e,Mb,IV,HA=fe(()=>{y();SV=Ve(eu());Hd();da();AV=10,o1e=typeof global.WebSocket<"u"?global.WebSocket:Q_(),Mb=class{constructor(e){if(this.url=e,this.events=new SV.EventEmitter,this.registering=!1,!iv(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async open(e=this.url){await this.register(e)}async close(){if(typeof this.socket>"u")throw new Error("Connection already closed");this.socket.close(),this.onClose()}async send(e,r){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(Jf(e))}catch(i){this.onError(e.id,i)}}register(e=this.url){if(!iv(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){let r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((i,n)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),n(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return n(new Error("WebSocket connection is missing or invalid"));i(this.socket)})})}return this.url=e,this.registering=!0,new Promise((r,i)=>{let n=(0,lr.isReactNative)()?void 0:{rejectUnauthorized:!N_(e)},s=new o1e(e,[],n);s.onopen=()=>{this.onOpen(s),r(s)},s.onerror=o=>{let f=this.parseError(o.error);this.events.emit("register_error",f),this.onClose(),i(f)}})}onOpen(e){e.onmessage=r=>this.onPayload(r),e.onclose=()=>this.onClose(),e.onerror=r=>{let i=this.parseError(r.error);this.events.emit("error",i)},this.socket=e,this.registering=!1,this.events.emit("open")}onClose(){this.socket=void 0,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;let r=typeof e.data=="string"?Yf(e.data):e.data;this.events.emit("payload",r)}onError(e,r){let i=this.parseError(r),n=i.message||i.toString(),s=C_(e,n);this.events.emit("payload",s)}parseError(e,r=this.url){return A_(e,r,"WS")}resetMaxListeners(){this.events.getMaxListeners()>AV&&this.events.setMaxListeners(AV)}},IV=Mb});var MV={};Ut(MV,{WsConnection:()=>Mb,default:()=>a1e});var a1e,CV=fe(()=>{y();HA();HA();a1e=IV});var uz=D((Ep,kl)=>{y();var f1e=200,XA="__lodash_hash_undefined__",Pb=1,kV=2,HV=9007199254740991,Cb="[object Arguments]",KA="[object Array]",u1e="[object AsyncFunction]",jV="[object Boolean]",VV="[object Date]",zV="[object Error]",KV="[object Function]",c1e="[object GeneratorFunction]",Tb="[object Map]",GV="[object Number]",h1e="[object Null]",Ul="[object Object]",TV="[object Promise]",l1e="[object Proxy]",QV="[object RegExp]",Ob="[object Set]",WV="[object String]",d1e="[object Symbol]",p1e="[object Undefined]",GA="[object WeakMap]",$V="[object ArrayBuffer]",Nb="[object DataView]",g1e="[object Float32Array]",v1e="[object Float64Array]",y1e="[object Int8Array]",m1e="[object Int16Array]",b1e="[object Int32Array]",w1e="[object Uint8Array]",_1e="[object Uint8ClampedArray]",x1e="[object Uint16Array]",E1e="[object Uint32Array]",A1e=/[\\^$.*+?()[\]{}|]/g,S1e=/^\[object .+?Constructor\]$/,I1e=/^(?:0|[1-9]\d*)$/,jt={};jt[g1e]=jt[v1e]=jt[y1e]=jt[m1e]=jt[b1e]=jt[w1e]=jt[_1e]=jt[x1e]=jt[E1e]=!0;jt[Cb]=jt[KA]=jt[$V]=jt[jV]=jt[Nb]=jt[VV]=jt[zV]=jt[KV]=jt[Tb]=jt[GV]=jt[Ul]=jt[QV]=jt[Ob]=jt[WV]=jt[GA]=!1;var YV=typeof global=="object"&&global&&global.Object===Object&&global,M1e=typeof self=="object"&&self&&self.Object===Object&&self,Bo=YV||M1e||Function("return this")(),JV=typeof Ep=="object"&&Ep&&!Ep.nodeType&&Ep,OV=JV&&typeof kl=="object"&&kl&&!kl.nodeType&&kl,XV=OV&&OV.exports===JV,jA=XV&&YV.process,NV=function(){try{return jA&&jA.binding&&jA.binding("util")}catch{}}(),BV=NV&&NV.isTypedArray;function C1e(t,e){for(var r=-1,i=t==null?0:t.length,n=0,s=[];++r<i;){var o=t[r];e(o,r,t)&&(s[n++]=o)}return s}function T1e(t,e){for(var r=-1,i=e.length,n=t.length;++r<i;)t[n+r]=e[r];return t}function O1e(t,e){for(var r=-1,i=t==null?0:t.length;++r<i;)if(e(t[r],r,t))return!0;return!1}function N1e(t,e){for(var r=-1,i=Array(t);++r<t;)i[r]=e(r);return i}function B1e(t){return function(e){return t(e)}}function D1e(t,e){return t.has(e)}function R1e(t,e){return t?.[e]}function P1e(t){var e=-1,r=Array(t.size);return t.forEach(function(i,n){r[++e]=[n,i]}),r}function L1e(t,e){return function(r){return t(e(r))}}function q1e(t){var e=-1,r=Array(t.size);return t.forEach(function(i){r[++e]=i}),r}var F1e=Array.prototype,U1e=Function.prototype,Lb=Object.prototype,VA=Bo["__core-js_shared__"],ZV=U1e.toString,Vs=Lb.hasOwnProperty,DV=function(){var t=/[^.]+$/.exec(VA&&VA.keys&&VA.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),ez=Lb.toString,k1e=RegExp("^"+ZV.call(Vs).replace(A1e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),RV=XV?Bo.Buffer:void 0,Bb=Bo.Symbol,PV=Bo.Uint8Array,tz=Lb.propertyIsEnumerable,H1e=F1e.splice,Vu=Bb?Bb.toStringTag:void 0,LV=Object.getOwnPropertySymbols,j1e=RV?RV.isBuffer:void 0,V1e=L1e(Object.keys,Object),QA=Hl(Bo,"DataView"),Ap=Hl(Bo,"Map"),WA=Hl(Bo,"Promise"),$A=Hl(Bo,"Set"),YA=Hl(Bo,"WeakMap"),Sp=Hl(Object,"create"),z1e=Gu(QA),K1e=Gu(Ap),G1e=Gu(WA),Q1e=Gu($A),W1e=Gu(YA),qV=Bb?Bb.prototype:void 0,zA=qV?qV.valueOf:void 0;function zu(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}function $1e(){this.__data__=Sp?Sp(null):{},this.size=0}function Y1e(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function J1e(t){var e=this.__data__;if(Sp){var r=e[t];return r===XA?void 0:r}return Vs.call(e,t)?e[t]:void 0}function X1e(t){var e=this.__data__;return Sp?e[t]!==void 0:Vs.call(e,t)}function Z1e(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Sp&&e===void 0?XA:e,this}zu.prototype.clear=$1e;zu.prototype.delete=Y1e;zu.prototype.get=J1e;zu.prototype.has=X1e;zu.prototype.set=Z1e;function Do(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}function eve(){this.__data__=[],this.size=0}function tve(t){var e=this.__data__,r=qb(e,t);if(r<0)return!1;var i=e.length-1;return r==i?e.pop():H1e.call(e,r,1),--this.size,!0}function rve(t){var e=this.__data__,r=qb(e,t);return r<0?void 0:e[r][1]}function ive(t){return qb(this.__data__,t)>-1}function nve(t,e){var r=this.__data__,i=qb(r,t);return i<0?(++this.size,r.push([t,e])):r[i][1]=e,this}Do.prototype.clear=eve;Do.prototype.delete=tve;Do.prototype.get=rve;Do.prototype.has=ive;Do.prototype.set=nve;function Ku(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}function sve(){this.size=0,this.__data__={hash:new zu,map:new(Ap||Do),string:new zu}}function ove(t){var e=Fb(this,t).delete(t);return this.size-=e?1:0,e}function ave(t){return Fb(this,t).get(t)}function fve(t){return Fb(this,t).has(t)}function uve(t,e){var r=Fb(this,t),i=r.size;return r.set(t,e),this.size+=r.size==i?0:1,this}Ku.prototype.clear=sve;Ku.prototype.delete=ove;Ku.prototype.get=ave;Ku.prototype.has=fve;Ku.prototype.set=uve;function Db(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new Ku;++e<r;)this.add(t[e])}function cve(t){return this.__data__.set(t,XA),this}function hve(t){return this.__data__.has(t)}Db.prototype.add=Db.prototype.push=cve;Db.prototype.has=hve;function ja(t){var e=this.__data__=new Do(t);this.size=e.size}function lve(){this.__data__=new Do,this.size=0}function dve(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function pve(t){return this.__data__.get(t)}function gve(t){return this.__data__.has(t)}function vve(t,e){var r=this.__data__;if(r instanceof Do){var i=r.__data__;if(!Ap||i.length<f1e-1)return i.push([t,e]),this.size=++r.size,this;r=this.__data__=new Ku(i)}return r.set(t,e),this.size=r.size,this}ja.prototype.clear=lve;ja.prototype.delete=dve;ja.prototype.get=pve;ja.prototype.has=gve;ja.prototype.set=vve;function yve(t,e){var r=Rb(t),i=!r&&Bve(t),n=!r&&!i&&JA(t),s=!r&&!i&&!n&&fz(t),o=r||i||n||s,f=o?N1e(t.length,String):[],l=f.length;for(var b in t)(e||Vs.call(t,b))&&!(o&&(b=="length"||n&&(b=="offset"||b=="parent")||s&&(b=="buffer"||b=="byteLength"||b=="byteOffset")||Mve(b,l)))&&f.push(b);return f}function qb(t,e){for(var r=t.length;r--;)if(nz(t[r][0],e))return r;return-1}function mve(t,e,r){var i=e(t);return Rb(t)?i:T1e(i,r(t))}function Mp(t){return t==null?t===void 0?p1e:h1e:Vu&&Vu in Object(t)?Sve(t):Nve(t)}function FV(t){return Ip(t)&&Mp(t)==Cb}function rz(t,e,r,i,n){return t===e?!0:t==null||e==null||!Ip(t)&&!Ip(e)?t!==t&&e!==e:bve(t,e,r,i,rz,n)}function bve(t,e,r,i,n,s){var o=Rb(t),f=Rb(e),l=o?KA:Ha(t),b=f?KA:Ha(e);l=l==Cb?Ul:l,b=b==Cb?Ul:b;var E=l==Ul,C=b==Ul,N=l==b;if(N&&JA(t)){if(!JA(e))return!1;o=!0,E=!1}if(N&&!E)return s||(s=new ja),o||fz(t)?iz(t,e,r,i,n,s):Eve(t,e,l,r,i,n,s);if(!(r&Pb)){var L=E&&Vs.call(t,"__wrapped__"),R=C&&Vs.call(e,"__wrapped__");if(L||R){var V=L?t.value():t,W=R?e.value():e;return s||(s=new ja),n(V,W,r,i,s)}}return N?(s||(s=new ja),Ave(t,e,r,i,n,s)):!1}function wve(t){if(!az(t)||Tve(t))return!1;var e=sz(t)?k1e:S1e;return e.test(Gu(t))}function _ve(t){return Ip(t)&&oz(t.length)&&!!jt[Mp(t)]}function xve(t){if(!Ove(t))return V1e(t);var e=[];for(var r in Object(t))Vs.call(t,r)&&r!="constructor"&&e.push(r);return e}function iz(t,e,r,i,n,s){var o=r&Pb,f=t.length,l=e.length;if(f!=l&&!(o&&l>f))return!1;var b=s.get(t);if(b&&s.get(e))return b==e;var E=-1,C=!0,N=r&kV?new Db:void 0;for(s.set(t,e),s.set(e,t);++E<f;){var L=t[E],R=e[E];if(i)var V=o?i(R,L,E,e,t,s):i(L,R,E,t,e,s);if(V!==void 0){if(V)continue;C=!1;break}if(N){if(!O1e(e,function(W,$){if(!D1e(N,$)&&(L===W||n(L,W,r,i,s)))return N.push($)})){C=!1;break}}else if(!(L===R||n(L,R,r,i,s))){C=!1;break}}return s.delete(t),s.delete(e),C}function Eve(t,e,r,i,n,s,o){switch(r){case Nb:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case $V:return!(t.byteLength!=e.byteLength||!s(new PV(t),new PV(e)));case jV:case VV:case GV:return nz(+t,+e);case zV:return t.name==e.name&&t.message==e.message;case QV:case WV:return t==e+"";case Tb:var f=P1e;case Ob:var l=i&Pb;if(f||(f=q1e),t.size!=e.size&&!l)return!1;var b=o.get(t);if(b)return b==e;i|=kV,o.set(t,e);var E=iz(f(t),f(e),i,n,s,o);return o.delete(t),E;case d1e:if(zA)return zA.call(t)==zA.call(e)}return!1}function Ave(t,e,r,i,n,s){var o=r&Pb,f=UV(t),l=f.length,b=UV(e),E=b.length;if(l!=E&&!o)return!1;for(var C=l;C--;){var N=f[C];if(!(o?N in e:Vs.call(e,N)))return!1}var L=s.get(t);if(L&&s.get(e))return L==e;var R=!0;s.set(t,e),s.set(e,t);for(var V=o;++C<l;){N=f[C];var W=t[N],$=e[N];if(i)var re=o?i($,W,N,e,t,s):i(W,$,N,t,e,s);if(!(re===void 0?W===$||n(W,$,r,i,s):re)){R=!1;break}V||(V=N=="constructor")}if(R&&!V){var ee=t.constructor,ie=e.constructor;ee!=ie&&"constructor"in t&&"constructor"in e&&!(typeof ee=="function"&&ee instanceof ee&&typeof ie=="function"&&ie instanceof ie)&&(R=!1)}return s.delete(t),s.delete(e),R}function UV(t){return mve(t,Pve,Ive)}function Fb(t,e){var r=t.__data__;return Cve(e)?r[typeof e=="string"?"string":"hash"]:r.map}function Hl(t,e){var r=R1e(t,e);return wve(r)?r:void 0}function Sve(t){var e=Vs.call(t,Vu),r=t[Vu];try{t[Vu]=void 0;var i=!0}catch{}var n=ez.call(t);return i&&(e?t[Vu]=r:delete t[Vu]),n}var Ive=LV?function(t){return t==null?[]:(t=Object(t),C1e(LV(t),function(e){return tz.call(t,e)}))}:Lve,Ha=Mp;(QA&&Ha(new QA(new ArrayBuffer(1)))!=Nb||Ap&&Ha(new Ap)!=Tb||WA&&Ha(WA.resolve())!=TV||$A&&Ha(new $A)!=Ob||YA&&Ha(new YA)!=GA)&&(Ha=function(t){var e=Mp(t),r=e==Ul?t.constructor:void 0,i=r?Gu(r):"";if(i)switch(i){case z1e:return Nb;case K1e:return Tb;case G1e:return TV;case Q1e:return Ob;case W1e:return GA}return e});function Mve(t,e){return e=e??HV,!!e&&(typeof t=="number"||I1e.test(t))&&t>-1&&t%1==0&&t<e}function Cve(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Tve(t){return!!DV&&DV in t}function Ove(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||Lb;return t===r}function Nve(t){return ez.call(t)}function Gu(t){if(t!=null){try{return ZV.call(t)}catch{}try{return t+""}catch{}}return""}function nz(t,e){return t===e||t!==t&&e!==e}var Bve=FV(function(){return arguments}())?FV:function(t){return Ip(t)&&Vs.call(t,"callee")&&!tz.call(t,"callee")},Rb=Array.isArray;function Dve(t){return t!=null&&oz(t.length)&&!sz(t)}var JA=j1e||qve;function Rve(t,e){return rz(t,e)}function sz(t){if(!az(t))return!1;var e=Mp(t);return e==KV||e==c1e||e==u1e||e==l1e}function oz(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=HV}function az(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function Ip(t){return t!=null&&typeof t=="object"}var fz=BV?B1e(BV):_ve;function Pve(t){return Dve(t)?yve(t):xve(t)}function Lve(){return[]}function qve(){return!1}kl.exports=Rve});var aK=D(et=>{"use strict";y();Object.defineProperty(et,"__esModule",{value:!0});var Fve=q6(),Uve=ON(),d5=e8(),Mr=r8(),zl=m8(),cz=(Hd(),_n(d_)),kve=(NH(),_n(OH)),Je=Sb(),Wu=ru(),Hve=(EV(),_n(xV)),hz=(da(),_n(lr)),jve=(CV(),_n(MV)),Vve=uz();function Gb(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}function zve(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}}),e.default=t,Object.freeze(e)}var Tz=Gb(Fve),Kve=Gb(Uve),Ub=zve(kve),Gve=Gb(jve),Qve=Gb(Vve);function Ir(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}var Qb=Ir;Ir.EventEmitter=Ir,Ir.prototype._events=void 0,Ir.prototype._maxListeners=void 0,Ir.defaultMaxListeners=10,Ir.prototype.setMaxListeners=function(t){if(!Wve(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},Ir.prototype.emit=function(t){var e,r,i,n,s,o;if(this._events||(this._events={}),t==="error"&&(!this._events.error||Cp(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;var f=new Error('Uncaught, unspecified "error" event. ('+e+")");throw f.context=e,f}if(r=this._events[t],lz(r))return!1;if(Ro(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:n=Array.prototype.slice.call(arguments,1),r.apply(this,n)}else if(Cp(r))for(n=Array.prototype.slice.call(arguments,1),o=r.slice(),i=o.length,s=0;s<i;s++)o[s].apply(this,n);return!0},Ir.prototype.addListener=function(t,e){var r;if(!Ro(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,Ro(e.listener)?e.listener:e),this._events[t]?Cp(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,Cp(this._events[t])&&!this._events[t].warned&&(lz(this._maxListeners)?r=Ir.defaultMaxListeners:r=this._maxListeners,r&&r>0&&this._events[t].length>r&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),typeof console.trace=="function"&&console.trace())),this},Ir.prototype.on=Ir.prototype.addListener,Ir.prototype.once=function(t,e){if(!Ro(e))throw TypeError("listener must be a function");var r=!1;function i(){this.removeListener(t,i),r||(r=!0,e.apply(this,arguments))}return i.listener=e,this.on(t,i),this},Ir.prototype.removeListener=function(t,e){var r,i,n,s;if(!Ro(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(r=this._events[t],n=r.length,i=-1,r===e||Ro(r.listener)&&r.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(Cp(r)){for(s=n;s-- >0;)if(r[s]===e||r[s].listener&&r[s].listener===e){i=s;break}if(i<0)return this;r.length===1?(r.length=0,delete this._events[t]):r.splice(i,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},Ir.prototype.removeAllListeners=function(t){var e,r;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[t]&&delete this._events[t],this;if(arguments.length===0){for(e in this._events)e!=="removeListener"&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(r=this._events[t],Ro(r))this.removeListener(t,r);else if(r)for(;r.length;)this.removeListener(t,r[r.length-1]);return delete this._events[t],this},Ir.prototype.listeners=function(t){var e;return!this._events||!this._events[t]?e=[]:Ro(this._events[t])?e=[this._events[t]]:e=this._events[t].slice(),e},Ir.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(Ro(e))return 1;if(e)return e.length}return 0},Ir.listenerCount=function(t,e){return t.listenerCount(e)};function Ro(t){return typeof t=="function"}function Wve(t){return typeof t=="number"}function Cp(t){return typeof t=="object"&&t!==null}function lz(t){return t===void 0}function $ve(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var n=0;n<t.length;n++){var s=t.charAt(n),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=n}var f=t.length,l=t.charAt(0),b=Math.log(f)/Math.log(256),E=Math.log(256)/Math.log(f);function C(R){if(R instanceof Uint8Array||(ArrayBuffer.isView(R)?R=new Uint8Array(R.buffer,R.byteOffset,R.byteLength):Array.isArray(R)&&(R=Uint8Array.from(R))),!(R instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(R.length===0)return"";for(var V=0,W=0,$=0,re=R.length;$!==re&&R[$]===0;)$++,V++;for(var ee=(re-$)*E+1>>>0,ie=new Uint8Array(ee);$!==re;){for(var ne=R[$],Z=0,G=ee-1;(ne!==0||Z<W)&&G!==-1;G--,Z++)ne+=256*ie[G]>>>0,ie[G]=ne%f>>>0,ne=ne/f>>>0;if(ne!==0)throw new Error("Non-zero carry");W=Z,$++}for(var Q=ee-W;Q!==ee&&ie[Q]===0;)Q++;for(var P=l.repeat(V);Q<ee;++Q)P+=t.charAt(ie[Q]);return P}function N(R){if(typeof R!="string")throw new TypeError("Expected String");if(R.length===0)return new Uint8Array;var V=0;if(R[V]!==" "){for(var W=0,$=0;R[V]===l;)W++,V++;for(var re=(R.length-V)*b+1>>>0,ee=new Uint8Array(re);R[V];){var ie=r[R.charCodeAt(V)];if(ie===255)return;for(var ne=0,Z=re-1;(ie!==0||ne<$)&&Z!==-1;Z--,ne++)ie+=f*ee[Z]>>>0,ee[Z]=ie%256>>>0,ie=ie/256>>>0;if(ie!==0)throw new Error("Non-zero carry");$=ne,V++}if(R[V]!==" "){for(var G=re-$;G!==re&&ee[G]===0;)G++;for(var Q=new Uint8Array(W+(re-G)),P=W;G!==re;)Q[P++]=ee[G++];return Q}}}function L(R){var V=N(R);if(V)return V;throw new Error(`Non-${e} character`)}return{encode:C,decodeUnsafe:N,decode:L}}var Yve=$ve,Jve=Yve,Oz=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},Xve=t=>new TextEncoder().encode(t),Zve=t=>new TextDecoder().decode(t),t5=class{constructor(e,r,i){this.name=e,this.prefix=r,this.baseEncode=i}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},r5=class{constructor(e,r,i){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=i}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Nz(this,e)}},i5=class{constructor(e){this.decoders=e}or(e){return Nz(this,e)}decode(e){let r=e[0],i=this.decoders[r];if(i)return i.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},Nz=(t,e)=>new i5({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}}),n5=class{constructor(e,r,i,n){this.name=e,this.prefix=r,this.baseEncode=i,this.baseDecode=n,this.encoder=new t5(e,r,i),this.decoder=new r5(e,r,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},Wb=({name:t,prefix:e,encode:r,decode:i})=>new n5(t,e,r,i),Op=({prefix:t,name:e,alphabet:r})=>{let{encode:i,decode:n}=Jve(r,e);return Wb({prefix:t,name:e,encode:i,decode:s=>Oz(n(s))})},eye=(t,e,r,i)=>{let n={};for(let E=0;E<e.length;++E)n[e[E]]=E;let s=t.length;for(;t[s-1]==="=";)--s;let o=new Uint8Array(s*r/8|0),f=0,l=0,b=0;for(let E=0;E<s;++E){let C=n[t[E]];if(C===void 0)throw new SyntaxError(`Non-${i} character`);l=l<<r|C,f+=r,f>=8&&(f-=8,o[b++]=255&l>>f)}if(f>=r||255&l<<8-f)throw new SyntaxError("Unexpected end of data");return o},tye=(t,e,r)=>{let i=e[e.length-1]==="=",n=(1<<r)-1,s="",o=0,f=0;for(let l=0;l<t.length;++l)for(f=f<<8|t[l],o+=8;o>r;)o-=r,s+=e[n&f>>o];if(o&&(s+=e[n&f<<r-o]),i)for(;s.length*r&7;)s+="=";return s},kr=({name:t,prefix:e,bitsPerChar:r,alphabet:i})=>Wb({prefix:e,name:t,encode(n){return tye(n,i,r)},decode(n){return eye(n,i,r,t)}}),rye=Wb({prefix:"\0",name:"identity",encode:t=>Zve(t),decode:t=>Xve(t)}),iye=Object.freeze({__proto__:null,identity:rye}),nye=kr({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),sye=Object.freeze({__proto__:null,base2:nye}),oye=kr({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),aye=Object.freeze({__proto__:null,base8:oye}),fye=Op({prefix:"9",name:"base10",alphabet:"0123456789"}),uye=Object.freeze({__proto__:null,base10:fye}),cye=kr({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),hye=kr({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),lye=Object.freeze({__proto__:null,base16:cye,base16upper:hye}),dye=kr({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),pye=kr({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),gye=kr({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),vye=kr({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),yye=kr({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),mye=kr({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),bye=kr({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),wye=kr({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),_ye=kr({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),xye=Object.freeze({__proto__:null,base32:dye,base32upper:pye,base32pad:gye,base32padupper:vye,base32hex:yye,base32hexupper:mye,base32hexpad:bye,base32hexpadupper:wye,base32z:_ye}),Eye=Op({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Aye=Op({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),Sye=Object.freeze({__proto__:null,base36:Eye,base36upper:Aye}),Iye=Op({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Mye=Op({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Cye=Object.freeze({__proto__:null,base58btc:Iye,base58flickr:Mye}),Tye=kr({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Oye=kr({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Nye=kr({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Bye=kr({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),Dye=Object.freeze({__proto__:null,base64:Tye,base64pad:Oye,base64url:Nye,base64urlpad:Bye}),Bz=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),Rye=Bz.reduce((t,e,r)=>(t[r]=e,t),[]),Pye=Bz.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function Lye(t){return t.reduce((e,r)=>(e+=Rye[r],e),"")}function qye(t){let e=[];for(let r of t){let i=Pye[r.codePointAt(0)];if(i===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(i)}return new Uint8Array(e)}var Fye=Wb({prefix:"\u{1F680}",name:"base256emoji",encode:Lye,decode:qye}),Uye=Object.freeze({__proto__:null,base256emoji:Fye}),kye=Dz,dz=128,Hye=127,jye=~Hye,Vye=Math.pow(2,31);function Dz(t,e,r){e=e||[],r=r||0;for(var i=r;t>=Vye;)e[r++]=t&255|dz,t/=128;for(;t&jye;)e[r++]=t&255|dz,t>>>=7;return e[r]=t|0,Dz.bytes=r-i+1,e}var zye=s5,Kye=128,pz=127;function s5(t,i){var r=0,i=i||0,n=0,s=i,o,f=t.length;do{if(s>=f)throw s5.bytes=0,new RangeError("Could not decode varint");o=t[s++],r+=n<28?(o&pz)<<n:(o&pz)*Math.pow(2,n),n+=7}while(o>=Kye);return s5.bytes=s-i,r}var Gye=Math.pow(2,7),Qye=Math.pow(2,14),Wye=Math.pow(2,21),$ye=Math.pow(2,28),Yye=Math.pow(2,35),Jye=Math.pow(2,42),Xye=Math.pow(2,49),Zye=Math.pow(2,56),eme=Math.pow(2,63),tme=function(t){return t<Gye?1:t<Qye?2:t<Wye?3:t<$ye?4:t<Yye?5:t<Jye?6:t<Xye?7:t<Zye?8:t<eme?9:10},rme={encode:kye,decode:zye,encodingLength:tme},Rz=rme,gz=(t,e,r=0)=>(Rz.encode(t,e,r),e),vz=t=>Rz.encodingLength(t),o5=(t,e)=>{let r=e.byteLength,i=vz(t),n=i+vz(r),s=new Uint8Array(n+r);return gz(t,s,0),gz(r,s,i),s.set(e,n),new a5(t,r,e,s)},a5=class{constructor(e,r,i,n){this.code=e,this.size=r,this.digest=i,this.bytes=n}},Pz=({name:t,code:e,encode:r})=>new f5(t,e,r),f5=class{constructor(e,r,i){this.name=e,this.code=r,this.encode=i}digest(e){if(e instanceof Uint8Array){let r=this.encode(e);return r instanceof Uint8Array?o5(this.code,r):r.then(i=>o5(this.code,i))}else throw Error("Unknown type, must be binary type")}},Lz=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),ime=Pz({name:"sha2-256",code:18,encode:Lz("SHA-256")}),nme=Pz({name:"sha2-512",code:19,encode:Lz("SHA-512")}),sme=Object.freeze({__proto__:null,sha256:ime,sha512:nme}),qz=0,ome="identity",Fz=Oz,ame=t=>o5(qz,Fz(t)),fme={code:qz,name:ome,encode:Fz,digest:ame},ume=Object.freeze({__proto__:null,identity:fme});new TextEncoder,new TextDecoder;var yz={...iye,...sye,...aye,...uye,...lye,...xye,...Sye,...Cye,...Dye,...Uye};({...sme,...ume});function cme(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}function Uz(t,e,r,i){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:i}}}var mz=Uz("utf8","u",t=>{let e=new TextDecoder("utf8");return"u"+e.decode(t)},t=>new TextEncoder().encode(t.substring(1))),ZA=Uz("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);let e=cme(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),hme={utf8:mz,"utf-8":mz,hex:yz.base16,latin1:ZA,ascii:ZA,binary:ZA,...yz};function lme(t,e="utf8"){let r=hme[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t,"utf8"):r.decoder.decode(`${r.prefix}${t}`)}var p5="wc",kz=2,$b="core",jl=`${p5}@${2}:${$b}:`,Hz={name:$b,logger:"error"},jz={database:":memory:"},Vz="crypto",u5="client_ed25519_seed",zz=Wu.ONE_DAY,Kz="keychain",Gz="0.3",Qz="messages",Wz="0.3",$z=Wu.SIX_HOURS,Yz="publisher",dme="irn",Jz="error",Xz="wss://relay.walletconnect.com",Zz="relayer",Tp={message:"relayer_message",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error"},eK="_subscription",Qu={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},tK=Wu.ONE_SECOND,pme={database:":memory:"},rK="2.0.0-rc.1",iK="0.3",Va={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync"},gme=Wu.THIRTY_DAYS,nK="subscription",sK="0.3",oK=Wu.FIVE_SECONDS*1e3,Hb=class{constructor(e,r){this.core=e,this.logger=r,this.keychain=new Map,this.name=Kz,this.version=Gz,this.initialized=!1,this.storagePrefix=jl,this.init=async()=>{if(!this.initialized){let i=await this.getKeyChain();typeof i<"u"&&(this.keychain=i),this.initialized=!0}},this.has=i=>(this.isInitialized(),this.keychain.has(i)),this.set=async(i,n)=>{this.isInitialized(),this.keychain.set(i,n),await this.persist()},this.get=i=>{this.isInitialized();let n=this.keychain.get(i);if(typeof n>"u"){let{message:s}=Je.getInternalError("NO_MATCHING_KEY",`${this.name}: ${i}`);throw new Error(s)}return n},this.del=async i=>{this.isInitialized(),this.keychain.delete(i),await this.persist()},this.core=e,this.logger=Mr.generateChildLogger(r,this.name)}get context(){return Mr.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,Je.mapToObj(e))}async getKeyChain(){let e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?Je.objToMap(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){let{message:e}=Je.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}},jb=class{constructor(e,r,i){this.core=e,this.logger=r,this.name=Vz,this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=n=>(this.isInitialized(),this.keychain.has(n)),this.getClientId=async()=>{this.isInitialized();let n=await this.getClientSeed(),s=Ub.generateKeyPair(n);return Ub.encodeIss(s.publicKey)},this.generateKeyPair=()=>{this.isInitialized();let n=Je.generateKeyPair();return this.setPrivateKey(n.publicKey,n.privateKey)},this.signJWT=async n=>{this.isInitialized();let s=await this.getClientSeed(),o=Ub.generateKeyPair(s),f=Je.generateRandomBytes32(),l=zz;return await Ub.signJWT(f,n,l,o)},this.generateSharedKey=(n,s,o)=>{this.isInitialized();let f=this.getPrivateKey(n),l=Je.deriveSymKey(f,s);return this.setSymKey(l,o)},this.setSymKey=async(n,s)=>{this.isInitialized();let o=s||Je.hashKey(n);return await this.keychain.set(o,n),o},this.deleteKeyPair=async n=>{this.isInitialized(),await this.keychain.del(n)},this.deleteSymKey=async n=>{this.isInitialized(),await this.keychain.del(n)},this.encode=async(n,s,o)=>{this.isInitialized();let f=Je.validateEncoding(o),l=cz.safeJsonStringify(s);if(Je.isTypeOneEnvelope(f)){let N=f.senderPublicKey,L=f.receiverPublicKey;n=await this.generateSharedKey(N,L)}let b=this.getSymKey(n),{type:E,senderPublicKey:C}=f;return Je.encrypt({type:E,symKey:b,message:l,senderPublicKey:C})},this.decode=async(n,s,o)=>{this.isInitialized();let f=Je.validateDecoding(s,o);if(Je.isTypeOneEnvelope(f)){let E=f.receiverPublicKey,C=f.senderPublicKey;n=await this.generateSharedKey(E,C)}let l=this.getSymKey(n),b=Je.decrypt({symKey:l,encoded:s});return cz.safeJsonParse(b)},this.core=e,this.logger=Mr.generateChildLogger(r,this.name),this.keychain=i||new Hb(this.core,this.logger)}get context(){return Mr.getLoggerContext(this.logger)}async setPrivateKey(e,r){return await this.keychain.set(e,r),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(u5)}catch{e=Je.generateRandomBytes32(),await this.keychain.set(u5,e)}return lme(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){let{message:e}=Je.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}},Vb=class extends zl.IMessageTracker{constructor(e,r){super(e,r),this.logger=e,this.core=r,this.messages=new Map,this.name=Qz,this.version=Wz,this.initialized=!1,this.storagePrefix=jl,this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{let i=await this.getRelayerMessages();typeof i<"u"&&(this.messages=i),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(i){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(i)}finally{this.initialized=!0}}},this.set=async(i,n)=>{this.isInitialized();let s=Je.hashMessage(n),o=this.messages.get(i);return typeof o>"u"&&(o={}),typeof o[s]<"u"||(o[s]=n,this.messages.set(i,o),await this.persist()),s},this.get=i=>{this.isInitialized();let n=this.messages.get(i);return typeof n>"u"&&(n={}),n},this.has=(i,n)=>{this.isInitialized();let s=this.get(i),o=Je.hashMessage(n);return typeof s[o]<"u"},this.del=async i=>{this.isInitialized(),this.messages.delete(i),await this.persist()},this.logger=Mr.generateChildLogger(e,this.name),this.core=r}get context(){return Mr.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,Je.mapToObj(e))}async getRelayerMessages(){let e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?Je.objToMap(e):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){let{message:e}=Je.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}},c5=class extends zl.IPublisher{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,this.events=new Qb.EventEmitter,this.name=Yz,this.queue=new Map,this.publish=async(i,n,s)=>{this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:i,message:n,opts:s}});try{let o=s?.ttl||$z,f=Je.getRelayProtocolName(s),l=s?.prompt||!1,b=s?.tag||0,E={topic:i,message:n,opts:{ttl:o,relay:f,prompt:l,tag:b}},C=Je.hashMessage(n);this.queue.set(C,E),await this.rpcPublish(i,n,o,f,l,b),this.onPublish(C,E),this.logger.debug("Successfully Published Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:i,message:n,opts:s}})}catch(o){throw this.logger.debug("Failed to Publish Payload"),this.logger.error(o),o}},this.on=(i,n)=>{this.events.on(i,n)},this.once=(i,n)=>{this.events.once(i,n)},this.off=(i,n)=>{this.events.off(i,n)},this.removeListener=(i,n)=>{this.events.removeListener(i,n)},this.relayer=e,this.logger=Mr.generateChildLogger(r,this.name),this.registerEventListeners()}get context(){return Mr.getLoggerContext(this.logger)}rpcPublish(e,r,i,n,s,o){var f,l,b,E;let C={method:Je.getRelayProtocolApi(n.protocol).publish,params:{topic:e,message:r,ttl:i,prompt:s,tag:o}};return Je.isUndefined((f=C.params)==null?void 0:f.prompt)&&((l=C.params)==null||delete l.prompt),Je.isUndefined((b=C.params)==null?void 0:b.tag)&&((E=C.params)==null||delete E.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:C}),this.relayer.provider.request(C)}onPublish(e,r){this.queue.delete(e)}checkQueue(){this.queue.forEach(async e=>{let{topic:r,message:i,opts:{ttl:n,relay:s,prompt:o,tag:f}}=e,l=Je.hashMessage(i);await this.rpcPublish(r,i,n,s,o,f),this.onPublish(l,e)})}registerEventListeners(){this.relayer.core.heartbeat.on(d5.HEARTBEAT_EVENTS.pulse,()=>{this.checkQueue()})}},h5=class{constructor(){this.map=new Map,this.set=(e,r)=>{let i=this.get(e);this.exists(e,r)||this.map.set(e,[...i,r])},this.get=e=>this.map.get(e)||[],this.exists=(e,r)=>this.get(e).includes(r),this.delete=(e,r)=>{if(typeof r>"u"){this.map.delete(e);return}if(!this.map.has(e))return;let i=this.get(e);if(!this.exists(e,r))return;let n=i.filter(s=>s!==r);if(!n.length){this.map.delete(e);return}this.map.set(e,n)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}},vme=Object.defineProperty,yme=Object.defineProperties,mme=Object.getOwnPropertyDescriptors,bz=Object.getOwnPropertySymbols,bme=Object.prototype.hasOwnProperty,wme=Object.prototype.propertyIsEnumerable,wz=(t,e,r)=>e in t?vme(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,kb=(t,e)=>{for(var r in e||(e={}))bme.call(e,r)&&wz(t,r,e[r]);if(bz)for(var r of bz(e))wme.call(e,r)&&wz(t,r,e[r]);return t},e5=(t,e)=>yme(t,mme(e)),zb=class extends zl.ISubscriber{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,this.subscriptions=new Map,this.topicMap=new h5,this.events=new Qb.EventEmitter,this.name=nK,this.version=sK,this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pendingSubInterval=20,this.storagePrefix=jl,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),await this.reset(),this.registerEventListeners(),this.onEnable())},this.subscribe=async(i,n)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:i,opts:n}});try{let s=Je.getRelayProtocolName(n),o={topic:i,relay:s};this.pending.set(i,o);let f=await this.rpcSubscribe(i,s);return this.onSubscribe(f,o),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:i,opts:n}}),f}catch(s){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(s),s}},this.unsubscribe=async(i,n)=>{this.isInitialized(),typeof n?.id<"u"?await this.unsubscribeById(i,n.id,n):await this.unsubscribeByTopic(i,n)},this.isSubscribed=async i=>this.topics.includes(i)?!0:await new Promise((n,s)=>{let o=new Wu.Watch;o.start(this.pendingSubscriptionWatchLabel);let f=setInterval(()=>{!this.pending.has(i)&&this.topics.includes(i)&&(clearInterval(f),o.stop(this.pendingSubscriptionWatchLabel),n(!0)),o.elapsed(this.pendingSubscriptionWatchLabel)>=oK&&(clearInterval(f),o.stop(this.pendingSubscriptionWatchLabel),s(!1))},this.pendingSubInterval)}),this.on=(i,n)=>{this.events.on(i,n)},this.once=(i,n)=>{this.events.once(i,n)},this.off=(i,n)=>{this.events.off(i,n)},this.removeListener=(i,n)=>{this.events.removeListener(i,n)},this.relayer=e,this.logger=Mr.generateChildLogger(r,this.name)}get context(){return Mr.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(e,r){let i=!1;try{i=this.getSubscription(e).topic===r}catch{}return i}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear(),this.initialized=!1}async unsubscribeByTopic(e,r){let i=this.topicMap.get(e);await Promise.all(i.map(async n=>await this.unsubscribeById(e,n,r)))}async unsubscribeById(e,r,i){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:i}});try{let n=Je.getRelayProtocolName(i);await this.rpcUnsubscribe(e,r,n);let s=Je.getSdkError("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,r,s),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:i}})}catch(n){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(n),n}}async rpcSubscribe(e,r){let i={method:Je.getRelayProtocolApi(r.protocol).subscribe,params:{topic:e}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),await this.relayer.provider.request(i)}rpcUnsubscribe(e,r,i){let n={method:Je.getRelayProtocolApi(i.protocol).unsubscribe,params:{topic:e,id:r}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n}),this.relayer.provider.request(n)}onSubscribe(e,r){this.setSubscription(e,e5(kb({},r),{id:e})),this.pending.delete(r.topic)}onResubscribe(e,r){this.addSubscription(e,e5(kb({},r),{id:e})),this.pending.delete(r.topic)}async onUnsubscribe(e,r,i){this.events.removeAllListeners(r),this.hasSubscription(r,e)&&this.deleteSubscription(r,i),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,r){this.subscriptions.has(e)||(this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:r}),this.addSubscription(e,r))}addSubscription(e,r){this.subscriptions.set(e,kb({},r)),this.topicMap.set(r.topic,e),this.events.emit(Va.created,r)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});let r=this.subscriptions.get(e);if(!r){let{message:i}=Je.getInternalError("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(i)}return r}deleteSubscription(e,r){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:r});let i=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(i.topic,e),this.events.emit(Va.deleted,e5(kb({},i),{reason:r}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(Va.sync)}async reset(){!this.cached.length||await Promise.all(this.cached.map(async e=>await this.resubscribe(e)))}async restore(){try{let e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){let{message:r}=Je.getInternalError("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async resubscribe(e){if(!this.ids.includes(e.id)){let{topic:r,relay:i}=e,n={topic:r,relay:i};this.pending.set(n.topic,n);let s=await this.rpcSubscribe(n.topic,n.relay);this.onResubscribe(s,n)}}async onConnect(){await this.reset(),this.onEnable()}onDisconnect(){this.onDisable()}checkPending(){this.pending.forEach(async e=>{let r=await this.rpcSubscribe(e.topic,e.relay);this.onSubscribe(r,e)})}registerEventListeners(){this.relayer.core.heartbeat.on(d5.HEARTBEAT_EVENTS.pulse,()=>{this.checkPending()}),this.relayer.provider.on(Qu.connect,async()=>{await this.onConnect()}),this.relayer.provider.on(Qu.disconnect,()=>{this.onDisconnect()}),this.events.on(Va.created,async e=>{let r=Va.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),await this.persist()}),this.events.on(Va.deleted,async e=>{let r=Va.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),await this.persist()})}isInitialized(){if(!this.initialized){let{message:e}=Je.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}},_me=Object.defineProperty,_z=Object.getOwnPropertySymbols,xme=Object.prototype.hasOwnProperty,Eme=Object.prototype.propertyIsEnumerable,xz=(t,e,r)=>e in t?_me(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ame=(t,e)=>{for(var r in e||(e={}))xme.call(e,r)&&xz(t,r,e[r]);if(_z)for(var r of _z(e))Eme.call(e,r)&&xz(t,r,e[r]);return t},Kb=class extends zl.IRelayer{constructor(e){super(e),this.protocol="wc",this.version=2,this.events=new Qb.EventEmitter,this.name=Zz,this.initialized=!1,this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?Mr.generateChildLogger(e.logger,this.name):Tz.default(Mr.getDefaultLoggerOptions({level:e.logger||Jz})),this.messages=new Vb(this.logger,e.core),this.subscriber=new zb(this,this.logger),this.publisher=new c5(this,this.logger),this.relayUrl=e?.relayUrl||Xz,this.projectId=e.projectId,this.provider={}}async init(){this.logger.trace("Initialized");let e=await this.core.crypto.signJWT(this.relayUrl);this.provider=this.createProvider(e),await Promise.all([this.messages.init(),this.provider.connect(),this.subscriber.init()]),this.registerEventListeners(),this.initialized=!0}get context(){return Mr.getLoggerContext(this.logger)}get connected(){return this.provider.connection.connected}get connecting(){return this.provider.connection.connecting}async publish(e,r,i){this.isInitialized(),await this.publisher.publish(e,r,i),await this.recordMessageEvent({topic:e,message:r})}async subscribe(e,r){return this.isInitialized(),await this.subscriber.subscribe(e,r)}async unsubscribe(e,r){this.isInitialized(),await this.subscriber.unsubscribe(e,r)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}createProvider(e){return new Hve.JsonRpcProvider(new Gve.default(Je.formatRelayRpcUrl({sdkVersion:rK,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e})))}async recordMessageEvent(e){let{topic:r,message:i}=e;await this.messages.set(r,i)}async shouldIgnoreMessageEvent(e){let{topic:r,message:i}=e;return await this.subscriber.isSubscribed(r)?this.messages.has(r,i):!0}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),hz.isJsonRpcRequest(e)){if(!e.method.endsWith(eK))return;let r=e.params,{topic:i,message:n}=r.data,s={topic:i,message:n};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(Ame({type:"event",event:r.id},s)),this.events.emit(r.id,s),await this.acknowledgePayload(e),await this.onMessageEvent(s)}}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(this.events.emit(Tp.message,e),await this.recordMessageEvent(e))}async acknowledgePayload(e){let r=hz.formatJsonRpcResult(e.id,!0);await this.provider.connection.send(r)}registerEventListeners(){this.provider.on(Qu.payload,e=>this.onProviderPayload(e)),this.provider.on(Qu.connect,()=>{this.events.emit(Tp.connect)}),this.provider.on(Qu.disconnect,()=>{this.events.emit(Tp.disconnect),setTimeout(()=>{this.provider.connect()},Wu.toMiliseconds(tK))}),this.provider.on(Qu.error,e=>this.events.emit(Tp.error,e))}isInitialized(){if(!this.initialized){let{message:e}=Je.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}},Sme=Object.defineProperty,Ez=Object.getOwnPropertySymbols,Ime=Object.prototype.hasOwnProperty,Mme=Object.prototype.propertyIsEnumerable,Az=(t,e,r)=>e in t?Sme(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Sz=(t,e)=>{for(var r in e||(e={}))Ime.call(e,r)&&Az(t,r,e[r]);if(Ez)for(var r of Ez(e))Mme.call(e,r)&&Az(t,r,e[r]);return t},l5=class extends zl.IStore{constructor(e,r,i,n=jl,s=void 0){super(e,r,i,n),this.core=e,this.logger=r,this.name=i,this.map=new Map,this.version=iK,this.cached=[],this.initialized=!1,this.storagePrefix=jl,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{Je.isProposalStruct(o)?this.map.set(o.id,o):Je.isSessionStruct(o)?this.map.set(o.topic,o):this.getKey&&o!==null&&!Je.isUndefined(o)&&this.map.set(this.getKey(o),o)}),this.cached=[],this.initialized=!0)},this.set=async(o,f)=>{this.isInitialized(),this.map.has(o)?await this.update(o,f):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:f}),this.map.set(o,f),await this.persist())},this.get=o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o)),this.getAll=o=>o?this.values.filter(f=>Object.keys(o).every(l=>Qve.default(f[l],o[l]))):this.values,this.update=async(o,f)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:f});let l=Sz(Sz({},this.getData(o)),f);this.map.set(o,l),await this.persist()},this.delete=async(o,f)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:f}),this.map.delete(o),await this.persist())},this.logger=Mr.generateChildLogger(r,this.name),this.storagePrefix=n,this.getKey=s}get context(){return Mr.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){let r=this.map.get(e);if(!r){let{message:i}=Je.getInternalError("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}return r}async persist(){await this.setDataStore(this.values)}async restore(){try{let e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){let{message:r}=Je.getInternalError("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){let{message:e}=Je.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}},Cme=Object.defineProperty,Iz=Object.getOwnPropertySymbols,Tme=Object.prototype.hasOwnProperty,Ome=Object.prototype.propertyIsEnumerable,Mz=(t,e,r)=>e in t?Cme(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Cz=(t,e)=>{for(var r in e||(e={}))Tme.call(e,r)&&Mz(t,r,e[r]);if(Iz)for(var r of Iz(e))Ome.call(e,r)&&Mz(t,r,e[r]);return t},Vl=class extends zl.ICore{constructor(e){super(e),this.protocol=p5,this.version=kz,this.name=$b,this.events=new Qb.EventEmitter,this.initialized=!1,this.on=(i,n)=>this.events.on(i,n),this.once=(i,n)=>this.events.once(i,n),this.off=(i,n)=>this.events.off(i,n),this.removeListener=(i,n)=>this.events.removeListener(i,n),this.projectId=e?.projectId;let r=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:Tz.default(Mr.getDefaultLoggerOptions({level:e?.logger||Hz.logger}));this.logger=Mr.generateChildLogger(r,this.name),this.heartbeat=new d5.HeartBeat,this.crypto=new jb(this,this.logger,e?.keychain),this.storage=e!=null&&e.storage?e.storage:new Kve.default(Cz(Cz({},jz),e?.storageOptions)),this.relayer=new Kb({core:this,logger:this.logger,relayUrl:e?.relayUrl,projectId:this.projectId})}static async init(e){let r=new Vl(e);return await r.initialize(),r}get context(){return Mr.getLoggerContext(this.logger)}async start(){this.initialized||await this.initialize()}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.relayer.init(),await this.heartbeat.init(),this.initialized=!0,this.logger.info("Core Initilization Success")}catch(e){throw this.logger.warn(`Core Initilization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}},Nme=Vl;et.CORE_CONTEXT=$b,et.CORE_DEFAULT=Hz,et.CORE_PROTOCOL=p5,et.CORE_STORAGE_OPTIONS=jz,et.CORE_STORAGE_PREFIX=jl,et.CORE_VERSION=kz,et.CRYPTO_CLIENT_SEED=u5,et.CRYPTO_CONTEXT=Vz,et.CRYPTO_JWT_TTL=zz,et.Core=Nme,et.Crypto=jb,et.KEYCHAIN_CONTEXT=Kz,et.KEYCHAIN_STORAGE_VERSION=Gz,et.KeyChain=Hb,et.MESSAGES_CONTEXT=Qz,et.MESSAGES_STORAGE_VERSION=Wz,et.MessageTracker=Vb,et.PENDING_SUB_RESOLUTION_TIMEOUT=oK,et.PUBLISHER_CONTEXT=Yz,et.PUBLISHER_DEFAULT_TTL=$z,et.RELAYER_CONTEXT=Zz,et.RELAYER_DEFAULT_LOGGER=Jz,et.RELAYER_DEFAULT_PROTOCOL=dme,et.RELAYER_DEFAULT_RELAY_URL=Xz,et.RELAYER_EVENTS=Tp,et.RELAYER_PROVIDER_EVENTS=Qu,et.RELAYER_RECONNECT_TIMEOUT=tK,et.RELAYER_SDK_VERSION=rK,et.RELAYER_STORAGE_OPTIONS=pme,et.RELAYER_SUBSCRIBER_SUFFIX=eK,et.Relayer=Kb,et.STORE_STORAGE_VERSION=iK,et.SUBSCRIBER_CONTEXT=nK,et.SUBSCRIBER_DEFAULT_TTL=gme,et.SUBSCRIBER_EVENTS=Va,et.SUBSCRIBER_STORAGE_VERSION=sK,et.Store=l5,et.Subscriber=zb,et.default=Vl});var _K=D(qt=>{"use strict";y();Object.defineProperty(qt,"__esModule",{value:!0});var $u=aK(),Yu=r8(),Xb=m8(),oe=Sb(),Bme=q6(),Mt=ru(),Gt=(da(),_n(lr)),Dme=e8();function Rme(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}var Pme=Rme(Bme);function Cr(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}var Zb=Cr;Cr.EventEmitter=Cr,Cr.prototype._events=void 0,Cr.prototype._maxListeners=void 0,Cr.defaultMaxListeners=10,Cr.prototype.setMaxListeners=function(t){if(!Lme(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},Cr.prototype.emit=function(t){var e,r,i,n,s,o;if(this._events||(this._events={}),t==="error"&&(!this._events.error||Np(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;var f=new Error('Uncaught, unspecified "error" event. ('+e+")");throw f.context=e,f}if(r=this._events[t],fK(r))return!1;if(Po(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:n=Array.prototype.slice.call(arguments,1),r.apply(this,n)}else if(Np(r))for(n=Array.prototype.slice.call(arguments,1),o=r.slice(),i=o.length,s=0;s<i;s++)o[s].apply(this,n);return!0},Cr.prototype.addListener=function(t,e){var r;if(!Po(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,Po(e.listener)?e.listener:e),this._events[t]?Np(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,Np(this._events[t])&&!this._events[t].warned&&(fK(this._maxListeners)?r=Cr.defaultMaxListeners:r=this._maxListeners,r&&r>0&&this._events[t].length>r&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),typeof console.trace=="function"&&console.trace())),this},Cr.prototype.on=Cr.prototype.addListener,Cr.prototype.once=function(t,e){if(!Po(e))throw TypeError("listener must be a function");var r=!1;function i(){this.removeListener(t,i),r||(r=!0,e.apply(this,arguments))}return i.listener=e,this.on(t,i),this},Cr.prototype.removeListener=function(t,e){var r,i,n,s;if(!Po(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(r=this._events[t],n=r.length,i=-1,r===e||Po(r.listener)&&r.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(Np(r)){for(s=n;s-- >0;)if(r[s]===e||r[s].listener&&r[s].listener===e){i=s;break}if(i<0)return this;r.length===1?(r.length=0,delete this._events[t]):r.splice(i,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},Cr.prototype.removeAllListeners=function(t){var e,r;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[t]&&delete this._events[t],this;if(arguments.length===0){for(e in this._events)e!=="removeListener"&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(r=this._events[t],Po(r))this.removeListener(t,r);else if(r)for(;r.length;)this.removeListener(t,r[r.length-1]);return delete this._events[t],this},Cr.prototype.listeners=function(t){var e;return!this._events||!this._events[t]?e=[]:Po(this._events[t])?e=[this._events[t]]:e=this._events[t].slice(),e},Cr.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(Po(e))return 1;if(e)return e.length}return 0},Cr.listenerCount=function(t,e){return t.listenerCount(e)};function Po(t){return typeof t=="function"}function Lme(t){return typeof t=="number"}function Np(t){return typeof t=="object"&&t!==null}function fK(t){return t===void 0}var _5="wc",x5=2,E5="client",Gl=`${_5}@${x5}:${E5}:`,Yb={name:E5,logger:"error",controller:!1,relayUrl:"wss://relay.walletconnect.com"},qme={session_proposal:"session_proposal",session_update:"session_update",session_extend:"session_extend",session_ping:"session_ping",pairing_ping:"pairing_ping",session_delete:"session_delete",session_expire:"session_expire",pairing_delete:"pairing_delete",pairing_expire:"pairing_expire",session_request:"session_request",session_event:"session_event",proposal_expire:"proposal_expire"},Fme={database:":memory:"},lK="expirer",mn={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},dK="0.3",Ume=Mt.ONE_DAY,$n={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},pK="history",gK="0.3",vK="pairing",kme=Mt.THIRTY_DAYS,yK="proposal",mK=Mt.THIRTY_DAYS,bK="session",Bp=Mt.SEVEN_DAYS,wK="engine",Jb={wc_pairingDelete:{req:{ttl:Mt.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:Mt.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:Mt.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:Mt.THIRTY_SECONDS,prompt:!1,tag:1003}},wc_sessionPropose:{req:{ttl:Mt.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:Mt.FIVE_MINUTES,prompt:!1,tag:1101}},wc_sessionSettle:{req:{ttl:Mt.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:Mt.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:Mt.ONE_DAY,prompt:!1,tag:1104},res:{ttl:Mt.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:Mt.ONE_DAY,prompt:!1,tag:1106},res:{ttl:Mt.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:Mt.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:Mt.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:Mt.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:Mt.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:Mt.ONE_DAY,prompt:!1,tag:1112},res:{ttl:Mt.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:Mt.THIRTY_SECONDS,prompt:!1,tag:1114},res:{ttl:Mt.THIRTY_SECONDS,prompt:!1,tag:1115}}},Hme=Object.defineProperty,jme=Object.defineProperties,Vme=Object.getOwnPropertyDescriptors,uK=Object.getOwnPropertySymbols,zme=Object.prototype.hasOwnProperty,Kme=Object.prototype.propertyIsEnumerable,cK=(t,e,r)=>e in t?Hme(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,za=(t,e)=>{for(var r in e||(e={}))zme.call(e,r)&&cK(t,r,e[r]);if(uK)for(var r of uK(e))Kme.call(e,r)&&cK(t,r,e[r]);return t},hK=(t,e)=>jme(t,Vme(e)),g5=class extends Xb.IEngine{constructor(e){super(e),this.events=new Zb,this.initialized=!1,this.name=wK,this.init=async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0)},this.connect=async r=>{this.isInitialized(),await this.isValidConnect(r);let{pairingTopic:i,requiredNamespaces:n,relays:s}=r,o=i,f,l=!1;if(o&&(l=this.client.pairing.get(o).active),!o||!l){let{topic:W,uri:$}=await this.createPairing();o=W,f=$}let b=await this.client.core.crypto.generateKeyPair(),E={requiredNamespaces:n,relays:s??[{protocol:$u.RELAYER_DEFAULT_PROTOCOL}],proposer:{publicKey:b,metadata:this.client.metadata}},{reject:C,resolve:N,done:L}=oe.createDelayedPromise();if(this.events.once(oe.engineEvent("session_connect"),async({error:W,session:$})=>{if(W)C(W);else if($){$.self.publicKey=b;let re=hK(za({},$),{requiredNamespaces:n});await this.client.session.set($.topic,re),await this.setExpiry($.topic,$.expiry),o&&await this.client.pairing.update(o,{peerMetadata:$.peer.metadata}),N(re)}}),!o){let{message:W}=oe.getInternalError("NO_MATCHING_KEY",`connect() pairing topic: ${o}`);throw new Error(W)}let R=await this.sendRequest(o,"wc_sessionPropose",E),V=oe.calcExpiry(Mt.FIVE_MINUTES);return await this.setProposal(R,za({id:R,expiry:V},E)),{uri:f,approval:L}},this.pair=async r=>{this.isInitialized(),this.isValidPair(r);let{topic:i,symKey:n,relay:s}=oe.parseUri(r.uri),o=oe.calcExpiry(Mt.FIVE_MINUTES),f={topic:i,relay:s,expiry:o,active:!1};return await this.client.pairing.set(i,f),await this.client.core.crypto.setSymKey(n,i),await this.client.core.relayer.subscribe(i,{relay:s}),await this.setExpiry(i,o),f},this.approve=async r=>{this.isInitialized(),await this.isValidApprove(r);let{id:i,relayProtocol:n,namespaces:s}=r,{pairingTopic:o,proposer:f,requiredNamespaces:l}=this.client.proposal.get(i),b=await this.client.core.crypto.generateKeyPair(),E=f.publicKey,C=await this.client.core.crypto.generateSharedKey(b,E),N={relay:{protocol:n??"irn"},namespaces:s,requiredNamespaces:l,controller:{publicKey:b,metadata:this.client.metadata},expiry:oe.calcExpiry(Bp)};await this.client.core.relayer.subscribe(C);let L=await this.sendRequest(C,"wc_sessionSettle",N),{done:R,resolve:V,reject:W}=oe.createDelayedPromise();this.events.once(oe.engineEvent("session_approve",L),({error:re})=>{re?W(re):V(this.client.session.get(C))});let $=hK(za({},N),{topic:C,acknowledged:!1,self:N.controller,peer:{publicKey:f.publicKey,metadata:f.metadata},controller:b});return await this.client.session.set(C,$),await this.setExpiry(C,oe.calcExpiry(Bp)),o&&await this.client.pairing.update(o,{peerMetadata:$.peer.metadata}),o&&i&&(await this.sendResult(i,o,{relay:{protocol:n??"irn"},responderPublicKey:b}),await this.client.proposal.delete(i,oe.getSdkError("USER_DISCONNECTED")),await this.activatePairing(o)),{topic:C,acknowledged:R}},this.reject=async r=>{this.isInitialized(),await this.isValidReject(r);let{id:i,reason:n}=r,{pairingTopic:s}=this.client.proposal.get(i);s&&(await this.sendError(i,s,n),await this.client.proposal.delete(i,oe.getSdkError("USER_DISCONNECTED")))},this.update=async r=>{this.isInitialized(),await this.isValidUpdate(r);let{topic:i,namespaces:n}=r,s=await this.sendRequest(i,"wc_sessionUpdate",{namespaces:n}),{done:o,resolve:f,reject:l}=oe.createDelayedPromise();return this.events.once(oe.engineEvent("session_update",s),({error:b})=>{b?l(b):f()}),await this.client.session.update(i,{namespaces:n}),{acknowledged:o}},this.extend=async r=>{this.isInitialized(),await this.isValidExtend(r);let{topic:i}=r,n=await this.sendRequest(i,"wc_sessionExtend",{}),{done:s,resolve:o,reject:f}=oe.createDelayedPromise();return this.events.once(oe.engineEvent("session_extend",n),({error:l})=>{l?f(l):o()}),await this.setExpiry(i,oe.calcExpiry(Bp)),{acknowledged:s}},this.request=async r=>{this.isInitialized(),await this.isValidRequest(r);let{chainId:i,request:n,topic:s}=r,o=await this.sendRequest(s,"wc_sessionRequest",{request:n,chainId:i}),{done:f,resolve:l,reject:b}=oe.createDelayedPromise();return this.events.once(oe.engineEvent("session_request",o),({error:E,result:C})=>{E?b(E):l(C)}),await f()},this.respond=async r=>{this.isInitialized(),await this.isValidRespond(r);let{topic:i,response:n}=r,{id:s}=n;Gt.isJsonRpcResult(n)?await this.sendResult(s,i,n.result):Gt.isJsonRpcError(n)&&await this.sendError(s,i,n.error)},this.ping=async r=>{this.isInitialized(),await this.isValidPing(r);let{topic:i}=r;if(this.client.session.keys.includes(i)){let n=await this.sendRequest(i,"wc_sessionPing",{}),{done:s,resolve:o,reject:f}=oe.createDelayedPromise();this.events.once(oe.engineEvent("session_ping",n),({error:l})=>{l?f(l):o()}),await s()}else if(this.client.pairing.keys.includes(i)){let n=await this.sendRequest(i,"wc_pairingPing",{}),{done:s,resolve:o,reject:f}=oe.createDelayedPromise();this.events.once(oe.engineEvent("pairing_ping",n),({error:l})=>{l?f(l):o()}),await s()}},this.emit=async r=>{this.isInitialized(),await this.isValidEmit(r);let{topic:i,event:n,chainId:s}=r;await this.sendRequest(i,"wc_sessionEvent",{event:n,chainId:s})},this.disconnect=async r=>{this.isInitialized(),await this.isValidDisconnect(r);let{topic:i}=r;this.client.session.keys.includes(i)?(await this.sendRequest(i,"wc_sessionDelete",oe.getSdkError("USER_DISCONNECTED")),await this.deleteSession(i)):this.client.pairing.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",oe.getSdkError("USER_DISCONNECTED")),await this.deletePairing(i))},this.find=r=>(this.isInitialized(),this.client.session.getAll().filter(i=>oe.isSessionCompatible(i,r))),this.activatePairing=async r=>{let i=oe.calcExpiry(mK);await this.client.pairing.update(r,{active:!0,expiry:i}),await this.setExpiry(r,i)},this.deleteSession=async(r,i)=>{let{self:n}=this.client.session.get(r);await this.client.core.relayer.unsubscribe(r),await Promise.all([this.client.session.delete(r,oe.getSdkError("USER_DISCONNECTED")),this.client.core.crypto.deleteKeyPair(n.publicKey),this.client.core.crypto.deleteSymKey(r),i?Promise.resolve():this.client.expirer.del(r)])},this.deletePairing=async(r,i)=>{await this.client.core.relayer.unsubscribe(r),await Promise.all([this.client.pairing.delete(r,oe.getSdkError("USER_DISCONNECTED")),this.client.core.crypto.deleteSymKey(r),i?Promise.resolve():this.client.expirer.del(r)])},this.deleteProposal=async(r,i)=>{await Promise.all([this.client.proposal.delete(r,oe.getSdkError("USER_DISCONNECTED")),i?Promise.resolve():this.client.expirer.del(r)])},this.setExpiry=async(r,i)=>{this.client.pairing.keys.includes(r)?await this.client.pairing.update(r,{expiry:i}):this.client.session.keys.includes(r)&&await this.client.session.update(r,{expiry:i}),this.client.expirer.set(r,i)},this.setProposal=async(r,i)=>{await this.client.proposal.set(r,i),this.client.expirer.set(r,i.expiry)},this.sendRequest=async(r,i,n)=>{let s=Gt.formatJsonRpcRequest(i,n),o=await this.client.core.crypto.encode(r,s),f=Jb[i].req;return this.client.history.set(r,s),this.client.core.relayer.publish(r,o,f),s.id},this.sendResult=async(r,i,n)=>{let s=Gt.formatJsonRpcResult(r,n),o=await this.client.core.crypto.encode(i,s),f=await this.client.history.get(i,r),l=Jb[f.request.method].res;await this.client.core.relayer.publish(i,o,l),await this.client.history.resolve(s)},this.sendError=async(r,i,n)=>{let s=Gt.formatJsonRpcError(r,n),o=await this.client.core.crypto.encode(i,s),f=await this.client.history.get(i,r),l=Jb[f.request.method].res;await this.client.core.relayer.publish(i,o,l),await this.client.history.resolve(s)},this.cleanup=async()=>{let r=[],i=[],n=[];this.client.session.getAll().forEach(s=>{oe.isExpired(s.expiry)&&r.push(s.topic)}),this.client.pairing.getAll().forEach(s=>{oe.isExpired(s.expiry)&&i.push(s.topic)}),this.client.proposal.getAll().forEach(s=>{oe.isExpired(s.expiry)&&n.push(s.id)}),await Promise.all([...r.map(s=>this.deleteSession(s)),...i.map(s=>this.deletePairing(s)),...n.map(s=>this.deleteProposal(s))])},this.onRelayEventRequest=r=>{let{topic:i,payload:n}=r,s=n.method;switch(s){case"wc_sessionPropose":return this.onSessionProposeRequest(i,n);case"wc_sessionSettle":return this.onSessionSettleRequest(i,n);case"wc_sessionUpdate":return this.onSessionUpdateRequest(i,n);case"wc_sessionExtend":return this.onSessionExtendRequest(i,n);case"wc_sessionPing":return this.onSessionPingRequest(i,n);case"wc_pairingPing":return this.onPairingPingRequest(i,n);case"wc_sessionDelete":return this.onSessionDeleteRequest(i,n);case"wc_pairingDelete":return this.onPairingDeleteRequest(i,n);case"wc_sessionRequest":return this.onSessionRequest(i,n);case"wc_sessionEvent":return this.onSessionEventRequest(i,n);default:return this.client.logger.info(`Unsupported request method ${s}`)}},this.onRelayEventResponse=async r=>{let{topic:i,payload:n}=r,s=(await this.client.history.get(i,n.id)).request.method;switch(s){case"wc_sessionPropose":return this.onSessionProposeResponse(i,n);case"wc_sessionSettle":return this.onSessionSettleResponse(i,n);case"wc_sessionUpdate":return this.onSessionUpdateResponse(i,n);case"wc_sessionExtend":return this.onSessionExtendResponse(i,n);case"wc_sessionPing":return this.onSessionPingResponse(i,n);case"wc_pairingPing":return this.onPairingPingResponse(i,n);case"wc_sessionRequest":return this.onSessionRequestResponse(i,n);default:return this.client.logger.info(`Unsupported response method ${s}`)}},this.onSessionProposeRequest=async(r,i)=>{let{params:n,id:s}=i;try{this.isValidConnect(za({},i.params));let o=oe.calcExpiry(Mt.FIVE_MINUTES),f=za({id:s,pairingTopic:r,expiry:o},n);await this.setProposal(s,f),this.client.events.emit("session_proposal",{id:s,params:f})}catch(o){await this.sendError(s,r,o),this.client.logger.error(o)}},this.onSessionProposeResponse=async(r,i)=>{let{id:n}=i;if(Gt.isJsonRpcResult(i)){let{result:s}=i;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:s});let o=this.client.proposal.get(n);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:o});let f=o.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:f});let l=s.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:l});let b=await this.client.core.crypto.generateSharedKey(f,l);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:b});let E=await this.client.core.relayer.subscribe(b);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:E}),await this.activatePairing(r)}else Gt.isJsonRpcError(i)&&(await this.client.proposal.delete(n,oe.getSdkError("USER_DISCONNECTED")),this.events.emit(oe.engineEvent("session_connect"),{error:i.error}))},this.onSessionSettleRequest=async(r,i)=>{let{id:n,params:s}=i;try{this.isValidSessionSettleRequest(s);let{relay:o,controller:f,expiry:l,namespaces:b}=i.params,E={topic:r,relay:o,expiry:l,namespaces:b,acknowledged:!0,controller:f.publicKey,self:{publicKey:"",metadata:this.client.metadata},peer:{publicKey:f.publicKey,metadata:f.metadata}};await this.sendResult(i.id,r,!0),this.events.emit(oe.engineEvent("session_connect"),{session:E})}catch(o){await this.sendError(n,r,o),this.client.logger.error(o)}},this.onSessionSettleResponse=async(r,i)=>{let{id:n}=i;Gt.isJsonRpcResult(i)?(await this.client.session.update(r,{acknowledged:!0}),this.events.emit(oe.engineEvent("session_approve",n),{})):Gt.isJsonRpcError(i)&&(await this.client.session.delete(r,oe.getSdkError("USER_DISCONNECTED")),this.events.emit(oe.engineEvent("session_approve",n),{error:i.error}))},this.onSessionUpdateRequest=async(r,i)=>{let{params:n,id:s}=i;try{this.isValidUpdate(za({topic:r},n)),await this.client.session.update(r,{namespaces:n.namespaces}),await this.sendResult(s,r,!0),this.client.events.emit("session_update",{id:s,topic:r,params:n})}catch(o){await this.sendError(s,r,o),this.client.logger.error(o)}},this.onSessionUpdateResponse=(r,i)=>{let{id:n}=i;Gt.isJsonRpcResult(i)?this.events.emit(oe.engineEvent("session_update",n),{}):Gt.isJsonRpcError(i)&&this.events.emit(oe.engineEvent("session_update",n),{error:i.error})},this.onSessionExtendRequest=async(r,i)=>{let{id:n}=i;try{this.isValidExtend({topic:r}),await this.setExpiry(r,oe.calcExpiry(Bp)),await this.sendResult(n,r,!0),this.client.events.emit("session_extend",{id:n,topic:r})}catch(s){await this.sendError(n,r,s),this.client.logger.error(s)}},this.onSessionExtendResponse=(r,i)=>{let{id:n}=i;Gt.isJsonRpcResult(i)?this.events.emit(oe.engineEvent("session_extend",n),{}):Gt.isJsonRpcError(i)&&this.events.emit(oe.engineEvent("session_extend",n),{error:i.error})},this.onSessionPingRequest=async(r,i)=>{let{id:n}=i;try{this.isValidPing({topic:r}),await this.sendResult(n,r,!0),this.client.events.emit("session_ping",{id:n,topic:r})}catch(s){await this.sendError(n,r,s),this.client.logger.error(s)}},this.onSessionPingResponse=(r,i)=>{let{id:n}=i;setTimeout(()=>{Gt.isJsonRpcResult(i)?this.events.emit(oe.engineEvent("session_ping",n),{}):Gt.isJsonRpcError(i)&&this.events.emit(oe.engineEvent("session_ping",n),{error:i.error})},500)},this.onPairingPingRequest=async(r,i)=>{let{id:n}=i;try{this.isValidPing({topic:r}),await this.sendResult(n,r,!0),this.client.events.emit("pairing_ping",{id:n,topic:r})}catch(s){await this.sendError(n,r,s),this.client.logger.error(s)}},this.onPairingPingResponse=(r,i)=>{let{id:n}=i;setTimeout(()=>{Gt.isJsonRpcResult(i)?this.events.emit(oe.engineEvent("pairing_ping",n),{}):Gt.isJsonRpcError(i)&&this.events.emit(oe.engineEvent("pairing_ping",n),{error:i.error})},500)},this.onSessionDeleteRequest=async(r,i)=>{let{id:n}=i;try{this.isValidDisconnect({topic:r,reason:i.params}),await this.sendResult(n,r,!0),await this.deleteSession(r),this.client.events.emit("session_delete",{id:n,topic:r})}catch(s){await this.sendError(n,r,s),this.client.logger.error(s)}},this.onPairingDeleteRequest=async(r,i)=>{let{id:n}=i;try{this.isValidDisconnect({topic:r,reason:i.params}),await this.sendResult(n,r,!0),await this.deletePairing(r),this.client.events.emit("pairing_delete",{id:n,topic:r})}catch(s){await this.sendError(n,r,s),this.client.logger.error(s)}},this.onSessionRequest=async(r,i)=>{let{id:n,params:s}=i;try{this.isValidRequest(za({topic:r},s)),this.client.events.emit("session_request",{id:n,topic:r,params:s})}catch(o){await this.sendError(n,r,o),this.client.logger.error(o)}},this.onSessionRequestResponse=(r,i)=>{let{id:n}=i;Gt.isJsonRpcResult(i)?this.events.emit(oe.engineEvent("session_request",n),{result:i.result}):Gt.isJsonRpcError(i)&&this.events.emit(oe.engineEvent("session_request",n),{error:i.error})},this.onSessionEventRequest=async(r,i)=>{let{id:n,params:s}=i;try{this.isValidEmit(za({topic:r},s)),this.client.events.emit("session_event",{id:n,topic:r,params:s})}catch(o){await this.sendError(n,r,o),this.client.logger.error(o)}},this.isValidConnect=async r=>{if(!oe.isValidParams(r)){let{message:f}=oe.getInternalError("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(r)}`);throw new Error(f)}let{pairingTopic:i,requiredNamespaces:n,relays:s}=r;oe.isUndefined(i)||await this.isValidPairingTopic(i);let o=oe.isValidRequiredNamespaces(n,"connect()");if(o)throw new Error(o.message);if(!oe.isValidRelays(s,!0)){let{message:f}=oe.getInternalError("MISSING_OR_INVALID",`connect() relays: ${s}`);throw new Error(f)}},this.isValidPair=r=>{if(!oe.isValidParams(r)){let{message:i}=oe.getInternalError("MISSING_OR_INVALID",`pair() params: ${r}`);throw new Error(i)}if(!oe.isValidUrl(r.uri)){let{message:i}=oe.getInternalError("MISSING_OR_INVALID",`pair() uri: ${r.uri}`);throw new Error(i)}},this.isValidApprove=async r=>{if(!oe.isValidParams(r))throw new Error(oe.getInternalError("MISSING_OR_INVALID",`approve() params: ${r}`).message);let{id:i,namespaces:n,relayProtocol:s}=r;await this.isValidProposalId(i);let o=this.client.proposal.get(i),f=oe.isValidNamespaces(n,"approve()");if(f)throw new Error(f.message);let l=oe.isConformingNamespaces(o.requiredNamespaces,n,"update()");if(l)throw new Error(l.message);if(!oe.isValidString(s,!0)){let{message:b}=oe.getInternalError("MISSING_OR_INVALID",`approve() relayProtocol: ${s}`);throw new Error(b)}},this.isValidReject=async r=>{if(!oe.isValidParams(r)){let{message:s}=oe.getInternalError("MISSING_OR_INVALID",`reject() params: ${r}`);throw new Error(s)}let{id:i,reason:n}=r;if(await this.isValidProposalId(i),!oe.isValidErrorReason(n)){let{message:s}=oe.getInternalError("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(n)}`);throw new Error(s)}},this.isValidSessionSettleRequest=r=>{if(!oe.isValidParams(r)){let{message:b}=oe.getInternalError("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${r}`);throw new Error(b)}let{relay:i,controller:n,namespaces:s,expiry:o}=r;if(!oe.isValidRelay(i)){let{message:b}=oe.getInternalError("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(b)}let f=oe.isValidController(n,"onSessionSettleRequest()");if(f)throw new Error(f.message);let l=oe.isValidNamespaces(s,"onSessionSettleRequest()");if(l)throw new Error(l.message);if(oe.isExpired(o)){let{message:b}=oe.getInternalError("EXPIRED","onSessionSettleRequest()");throw new Error(b)}},this.isValidUpdate=async r=>{if(!oe.isValidParams(r)){let{message:l}=oe.getInternalError("MISSING_OR_INVALID",`update() params: ${r}`);throw new Error(l)}let{topic:i,namespaces:n}=r;await this.isValidSessionTopic(i);let s=this.client.session.get(i),o=oe.isValidNamespaces(n,"update()");if(o)throw new Error(o.message);let f=oe.isConformingNamespaces(s.requiredNamespaces,n,"update()");if(f)throw new Error(f.message)},this.isValidExtend=async r=>{if(!oe.isValidParams(r)){let{message:n}=oe.getInternalError("MISSING_OR_INVALID",`extend() params: ${r}`);throw new Error(n)}let{topic:i}=r;await this.isValidSessionTopic(i)},this.isValidRequest=async r=>{if(!oe.isValidParams(r)){let{message:f}=oe.getInternalError("MISSING_OR_INVALID",`request() params: ${r}`);throw new Error(f)}let{topic:i,request:n,chainId:s}=r;await this.isValidSessionTopic(i);let{namespaces:o}=this.client.session.get(i);if(!oe.isValidNamespacesChainId(o,s)){let{message:f}=oe.getInternalError("MISSING_OR_INVALID",`request() chainId: ${s}`);throw new Error(f)}if(!oe.isValidRequest(n)){let{message:f}=oe.getInternalError("MISSING_OR_INVALID",`request() ${JSON.stringify(n)}`);throw new Error(f)}if(!oe.isValidNamespacesRequest(o,s,n.method)){let{message:f}=oe.getInternalError("MISSING_OR_INVALID",`request() method: ${n.method}`);throw new Error(f)}},this.isValidRespond=async r=>{if(!oe.isValidParams(r)){let{message:s}=oe.getInternalError("MISSING_OR_INVALID",`respond() params: ${r}`);throw new Error(s)}let{topic:i,response:n}=r;if(await this.isValidSessionTopic(i),!oe.isValidResponse(n)){let{message:s}=oe.getInternalError("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(n)}`);throw new Error(s)}},this.isValidPing=async r=>{if(!oe.isValidParams(r)){let{message:n}=oe.getInternalError("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(n)}let{topic:i}=r;await this.isValidSessionOrPairingTopic(i)},this.isValidEmit=async r=>{if(!oe.isValidParams(r)){let{message:f}=oe.getInternalError("MISSING_OR_INVALID",`emit() params: ${r}`);throw new Error(f)}let{topic:i,event:n,chainId:s}=r;await this.isValidSessionTopic(i);let{namespaces:o}=this.client.session.get(i);if(!oe.isValidNamespacesChainId(o,s)){let{message:f}=oe.getInternalError("MISSING_OR_INVALID",`emit() chainId: ${s}`);throw new Error(f)}if(!oe.isValidEvent(n)){let{message:f}=oe.getInternalError("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(n)}`);throw new Error(f)}if(!oe.isValidNamespacesEvent(o,s,n.name)){let{message:f}=oe.getInternalError("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(n)}`);throw new Error(f)}},this.isValidDisconnect=async r=>{if(!oe.isValidParams(r)){let{message:n}=oe.getInternalError("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(n)}let{topic:i}=r;await this.isValidSessionOrPairingTopic(i)}}async createPairing(){let e=oe.generateRandomBytes32(),r=await this.client.core.crypto.setSymKey(e),i=oe.calcExpiry(Mt.FIVE_MINUTES),n={protocol:$u.RELAYER_DEFAULT_PROTOCOL},s={topic:r,expiry:i,relay:n,active:!1},o=oe.formatUri({protocol:this.client.protocol,version:this.client.version,topic:r,symKey:e,relay:n});return await this.client.pairing.set(r,s),await this.client.core.relayer.subscribe(r),await this.setExpiry(r,i),{topic:r,uri:o}}isInitialized(){if(!this.initialized){let{message:e}=oe.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.client.core.relayer.on($u.RELAYER_EVENTS.message,async e=>{let{topic:r,message:i}=e,n=await this.client.core.crypto.decode(r,i);Gt.isJsonRpcRequest(n)?(this.client.history.set(r,n),this.onRelayEventRequest({topic:r,payload:n})):Gt.isJsonRpcResponse(n)&&(await this.client.history.resolve(n),this.onRelayEventResponse({topic:r,payload:n}))})}registerExpirerEvents(){this.client.expirer.on(mn.expired,async e=>{let{topic:r,id:i}=oe.parseExpirerTarget(e.target);r?this.client.session.keys.includes(r)?(await this.deleteSession(r,!0),this.client.events.emit("session_expire",{topic:r})):this.client.pairing.keys.includes(r)&&(await this.deletePairing(r,!0),this.client.events.emit("pairing_expire",{topic:r})):i&&await this.deleteProposal(i,!0)})}async isValidPairingTopic(e){if(!oe.isValidString(e,!1)){let{message:r}=oe.getInternalError("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(r)}if(!this.client.pairing.keys.includes(e)){let{message:r}=oe.getInternalError("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(r)}if(oe.isExpired(this.client.pairing.get(e).expiry)){await this.deletePairing(e);let{message:r}=oe.getInternalError("EXPIRED",`pairing topic: ${e}`);throw new Error(r)}}async isValidSessionTopic(e){if(!oe.isValidString(e,!1)){let{message:r}=oe.getInternalError("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(r)}if(!this.client.session.keys.includes(e)){let{message:r}=oe.getInternalError("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(r)}if(oe.isExpired(this.client.session.get(e).expiry)){await this.deleteSession(e);let{message:r}=oe.getInternalError("EXPIRED",`session topic: ${e}`);throw new Error(r)}}async isValidSessionOrPairingTopic(e){if(this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.pairing.keys.includes(e))await this.isValidPairingTopic(e);else if(oe.isValidString(e,!1)){let{message:r}=oe.getInternalError("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(r)}else{let{message:r}=oe.getInternalError("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(r)}}async isValidProposalId(e){if(!oe.isValidId(e)){let{message:r}=oe.getInternalError("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(r)}if(!this.client.proposal.keys.includes(e)){let{message:r}=oe.getInternalError("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(r)}if(oe.isExpired(this.client.proposal.get(e).expiry)){await this.deleteProposal(e);let{message:r}=oe.getInternalError("EXPIRED",`proposal id: ${e}`);throw new Error(r)}}},v5=class extends Xb.IExpirer{constructor(e,r){super(e,r),this.core=e,this.logger=r,this.expirations=new Map,this.events=new Zb.EventEmitter,this.name=lK,this.version=dK,this.cached=[],this.initialized=!1,this.storagePrefix=Gl,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(i=>this.expirations.set(i.target,i)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=i=>{try{let n=this.formatTarget(i);return typeof this.getExpiration(n)<"u"}catch{return!1}},this.set=(i,n)=>{this.isInitialized();let s=this.formatTarget(i),o={target:s,expiry:n};this.expirations.set(s,o),this.checkExpiry(s,o),this.events.emit(mn.created,{target:s,expiration:o})},this.get=i=>{this.isInitialized();let n=this.formatTarget(i);return this.getExpiration(n)},this.del=i=>{this.isInitialized();let n=this.formatTarget(i);if(this.has(n)){let s=this.getExpiration(n);this.expirations.delete(n),this.events.emit(mn.deleted,{target:n,expiration:s})}},this.on=(i,n)=>{this.events.on(i,n)},this.once=(i,n)=>{this.events.once(i,n)},this.off=(i,n)=>{this.events.off(i,n)},this.removeListener=(i,n)=>{this.events.removeListener(i,n)},this.logger=Yu.generateChildLogger(r,this.name)}get context(){return Yu.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return oe.formatTopicTarget(e);if(typeof e=="number")return oe.formatIdTarget(e);let{message:r}=oe.getInternalError("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(r)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(mn.sync)}async restore(){try{let e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){let{message:r}=oe.getInternalError("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){let r=this.expirations.get(e);if(!r){let{message:i}=oe.getInternalError("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}return r}checkExpiry(e,r){let{expiry:i}=r;Mt.toMiliseconds(i)-Date.now()<=0&&this.expire(e,r)}expire(e,r){this.expirations.delete(e),this.events.emit(mn.expired,{target:e,expiration:r})}checkExpirations(){this.expirations.forEach((e,r)=>this.checkExpiry(r,e))}registerEventListeners(){this.core.heartbeat.on(Dme.HEARTBEAT_EVENTS.pulse,()=>this.checkExpirations()),this.events.on(mn.created,e=>{let r=mn.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(mn.expired,e=>{let r=mn.expired;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(mn.deleted,e=>{let r=mn.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()})}isInitialized(){if(!this.initialized){let{message:e}=oe.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}},y5=class extends Xb.IJsonRpcHistory{constructor(e,r){super(e,r),this.core=e,this.logger=r,this.records=new Map,this.events=new Zb.EventEmitter,this.name=pK,this.version=gK,this.cached=[],this.initialized=!1,this.storagePrefix=Gl,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(i=>this.records.set(i.id,i)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(i,n,s)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:i,request:n,chainId:s}),this.records.has(n.id))return;let o={id:n.id,topic:i,request:{method:n.method,params:n.params||null},chainId:s};this.records.set(o.id,o),this.events.emit($n.created,o)},this.resolve=async i=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:i}),!this.records.has(i.id))return;let n=await this.getRecord(i.id);typeof n.response>"u"&&(n.response=Gt.isJsonRpcError(i)?{error:i.error}:{result:i.result},this.records.set(n.id,n),this.events.emit($n.updated,n))},this.get=async(i,n)=>{this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:i,id:n});let s=await this.getRecord(n);if(s.topic!==i){let{message:o}=oe.getInternalError("MISMATCHED_TOPIC",`${this.name}, ${n}`);throw this.logger.error(o),new Error(o)}return s},this.delete=(i,n)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:n}),this.values.forEach(s=>{if(s.topic===i){if(typeof n<"u"&&s.id!==n)return;this.records.delete(s.id),this.events.emit($n.deleted,s)}})},this.exists=async(i,n)=>(this.isInitialized(),this.records.has(n)?(await this.getRecord(n)).topic===i:!1),this.on=(i,n)=>{this.events.on(i,n)},this.once=(i,n)=>{this.events.once(i,n)},this.off=(i,n)=>{this.events.off(i,n)},this.removeListener=(i,n)=>{this.events.removeListener(i,n)},this.logger=Yu.generateChildLogger(r,this.name)}get context(){return Yu.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){let e=[];return this.values.forEach(r=>{if(typeof r.response<"u")return;let i={topic:r.topic,request:Gt.formatJsonRpcRequest(r.request.method,r.request.params,r.id),chainId:r.chainId};return e.push(i)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();let r=this.records.get(e);if(!r){let{message:i}=oe.getInternalError("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(i)}return r}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit($n.sync)}async restore(){try{let e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){let{message:r}=oe.getInternalError("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on($n.created,e=>{let r=$n.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e}),this.persist()}),this.events.on($n.updated,e=>{let r=$n.updated;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e}),this.persist()}),this.events.on($n.deleted,e=>{let r=$n.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e}),this.persist()})}isInitialized(){if(!this.initialized){let{message:e}=oe.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}},m5=class extends $u.Store{constructor(e,r){super(e,r,vK,Gl),this.core=e,this.logger=r}},b5=class extends $u.Store{constructor(e,r){super(e,r,yK,Gl),this.core=e,this.logger=r}},w5=class extends $u.Store{constructor(e,r){super(e,r,bK,Gl),this.core=e,this.logger=r}},Kl=class extends Xb.ISignClient{constructor(e){super(e),this.protocol=_5,this.version=x5,this.name=Yb.name,this.events=new Zb.EventEmitter,this.on=(i,n)=>this.events.on(i,n),this.once=(i,n)=>this.events.once(i,n),this.off=(i,n)=>this.events.off(i,n),this.removeListener=(i,n)=>this.events.removeListener(i,n),this.connect=async i=>{try{return await this.engine.connect(i)}catch(n){throw this.logger.error(n.message),n}},this.pair=async i=>{try{return await this.engine.pair(i)}catch(n){throw this.logger.error(n.message),n}},this.approve=async i=>{try{return await this.engine.approve(i)}catch(n){throw this.logger.error(n.message),n}},this.reject=async i=>{try{return await this.engine.reject(i)}catch(n){throw this.logger.error(n.message),n}},this.update=async i=>{try{return await this.engine.update(i)}catch(n){throw this.logger.error(n.message),n}},this.extend=async i=>{try{return await this.engine.extend(i)}catch(n){throw this.logger.error(n.message),n}},this.request=async i=>{try{return await this.engine.request(i)}catch(n){throw this.logger.error(n.message),n}},this.respond=async i=>{try{return await this.engine.respond(i)}catch(n){throw this.logger.error(n.message),n}},this.ping=async i=>{try{return await this.engine.ping(i)}catch(n){throw this.logger.error(n.message),n}},this.emit=async i=>{try{return await this.engine.emit(i)}catch(n){throw this.logger.error(n.message),n}},this.disconnect=async i=>{try{return await this.engine.disconnect(i)}catch(n){throw this.logger.error(n.message),n}},this.find=i=>{try{return this.engine.find(i)}catch(n){throw this.logger.error(n.message),n}},this.name=e?.name||Yb.name,this.metadata=e?.metadata||oe.getAppMetadata();let r=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:Pme.default(Yu.getDefaultLoggerOptions({level:e?.logger||Yb.logger}));this.core=e?.core||new $u.Core(e),this.logger=Yu.generateChildLogger(r,this.name),this.pairing=new m5(this.core,this.logger),this.session=new w5(this.core,this.logger),this.proposal=new b5(this.core,this.logger),this.history=new y5(this.core,this.logger),this.expirer=new v5(this.core,this.logger),this.engine=new g5(this)}static async init(e){let r=new Kl(e);return await r.initialize(),r}get context(){return Yu.getLoggerContext(this.logger)}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.pairing.init(),await this.session.init(),await this.proposal.init(),await this.history.init(),await this.expirer.init(),await this.engine.init(),this.logger.info("SignClient Initilization Success")}catch(e){throw this.logger.info("SignClient Initilization Failure"),this.logger.error(e.message),e}}},Gme=Kl;qt.ENGINE_CONTEXT=wK,qt.ENGINE_RPC_OPTS=Jb,qt.EXPIRER_CONTEXT=lK,qt.EXPIRER_DEFAULT_TTL=Ume,qt.EXPIRER_EVENTS=mn,qt.EXPIRER_STORAGE_VERSION=dK,qt.HISTORY_CONTEXT=pK,qt.HISTORY_EVENTS=$n,qt.HISTORY_STORAGE_VERSION=gK,qt.PAIRING_CONTEXT=vK,qt.PAIRING_DEFAULT_TTL=kme,qt.PROPOSAL_CONTEXT=yK,qt.PROPOSAL_EXPIRY=mK,qt.SESSION_CONTEXT=bK,qt.SESSION_EXPIRY=Bp,qt.SIGN_CLIENT_CONTEXT=E5,qt.SIGN_CLIENT_DEFAULT=Yb,qt.SIGN_CLIENT_EVENTS=qme,qt.SIGN_CLIENT_PROTOCOL=_5,qt.SIGN_CLIENT_STORAGE_OPTIONS=Fme,qt.SIGN_CLIENT_STORAGE_PREFIX=Gl,qt.SIGN_CLIENT_VERSION=x5,qt.SignClient=Gme,qt.default=Kl});var xK=D(Dp=>{"use strict";y();Object.defineProperty(Dp,"__esModule",{value:!0});Dp.Operation=void 0;var Qme;(function(t){t.SIGN_TRANSACTION="erd_signTransaction",t.SIGN_TRANSACTIONS="erd_signTransactions",t.SIGN_MESSAGE="erd_signMessage",t.SIGN_LOGIN_TOKEN="erd_signLoginToken"})(Qme=Dp.Operation||(Dp.Operation={}))});var AK=D(Ga=>{"use strict";y();var Tr=Ga&&Ga.__awaiter||function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function f(E){try{b(i.next(E))}catch(C){o(C)}}function l(E){try{b(i.throw(E))}catch(C){o(C)}}function b(E){E.done?s(E.value):n(E.value).then(f,l)}b((i=i.apply(t,e||[])).next())})},Wme=Ga&&Ga.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ga,"__esModule",{value:!0});Ga.WalletConnectProviderV2=void 0;var $me=Wme(_K()),EK=Sb(),Ka=A6(),Rp=xK(),Bt=I6(),Pp=N6(),e2=B6(),A5=class{constructor(e,r,i,n){this.chainId="",this.address="",this.signature="",this.isInitializing=!1,this.events=[],this.methods=[],this.onClientConnect=e,this.chainId=r,this.walletConnectV2Relay=i,this.walletConnectV2ProjectId=n}init(){return Tr(this,void 0,void 0,function*(){try{let e=yield $me.default.init({relayUrl:this.walletConnectV2Relay,projectId:this.walletConnectV2ProjectId});this.walletConnector=e,yield this.subscribeToEvents(e),yield this.checkPersistedState(e)}catch{throw new Error("connect: WalletConnect is unable to init")}finally{this.isInitializing=!1}return!0})}isInitialized(){return!!this.walletConnector}isConnected(){return new Promise((e,r)=>e(Boolean(this.isInitialized()&&typeof this.session<"u")))}connect(e){var r,i;return Tr(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u"&&(yield this.init()),typeof this.walletConnector>"u")throw new Error("WalletConnect is not initialized");let n=[...Object.values(Rp.Operation),...(r=e?.methods)!==null&&r!==void 0?r:[]],s=[`${Ka.WALLETCONNECT_ELROND_NAMESPACE}:${this.chainId}`],o=(i=e?.events)!==null&&i!==void 0?i:[];try{let f=yield this.walletConnector.connect({pairingTopic:e?.topic,requiredNamespaces:{[Ka.WALLETCONNECT_ELROND_NAMESPACE]:{methods:n,chains:s,events:o}}});return this.events=o,this.methods=n,f}catch{throw e?.topic?(yield this.logout({topic:e.topic}),Bt.Logger.error("connect: WalletConnect is unable to connect to existing pairing"),new Error("connect: WalletConnect is unable to connect to existing pairing")):(Bt.Logger.error("connect: WalletConnect is unable to connect"),new Error("connect: WalletConnect is unable to connect"))}})}login(e){return Tr(this,void 0,void 0,function*(){if(this.isInitializing=!0,typeof this.walletConnector>"u"&&(yield this.connect()),typeof this.walletConnector>"u")throw new Error("WalletConnect is not initialized");typeof this.session<"u"&&(yield this.logout());try{if(e&&e.approval){let r=yield e.approval();if(e.token){let i=this.getAddressFromSession(r),{signature:n}=yield this.walletConnector.request({chainId:`${Ka.WALLETCONNECT_ELROND_NAMESPACE}:${this.chainId}`,topic:r.topic,request:{method:Rp.Operation.SIGN_LOGIN_TOKEN,params:{token:e.token,address:i}}});if(!n)throw Bt.Logger.error("login: WalletConnect could not sign login token"),new Error("WalletConnect could not sign login token");return yield this.onSessionConnected({session:r,signature:n})}return yield this.onSessionConnected({session:r,signature:""})}}catch{throw Bt.Logger.error("login: WalletConnect is unable to login"),new Error("login: WalletConnect is unable to login")}finally{this.isInitializing=!1}return""})}logout(e){var r,i;return Tr(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw Bt.Logger.error("logout: WalletConnect not initialised, call init() first"),new Error("WalletConnect not initialised, call init() first");try{let n=(r=e?.topic)!==null&&r!==void 0?r:(i=this.session)===null||i===void 0?void 0:i.topic;if(n){yield this.walletConnector.disconnect({topic:n,reason:EK.getSdkError("USER_DISCONNECTED")});let s=this.walletConnector.pairing.getAll({active:!0}).filter(o=>o.topic!==n);this.pairings=s}}catch{Bt.Logger.error("logout: WalletConnect was unable to logout")}return!0})}getAddress(){return Tr(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw Bt.Logger.error("getAddress: WalletConnect not initialised, call init() first"),new Error("WalletConnect not initialised, call init() first");return this.address})}getSignature(){return Tr(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw Bt.Logger.error("getSignature: WalletConnect not initialised, call init() first"),new Error("WalletConnect not initialised, call init() first");return this.signature})}getPairings(){var e;return Tr(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw Bt.Logger.error("getPairings: WalletConnect not initialised, call init() first"),new Error("WalletConnect not initialised, call init() first");return(e=this.pairings)!==null&&e!==void 0?e:this.walletConnector.pairing.getAll({active:!0})})}signMessage(e){return Tr(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw Bt.Logger.error("signMessage: WalletConnect not initialised, call init() first"),new Error("WalletConnect not initialised, call init() first");if(typeof this.session>"u")throw Bt.Logger.error("signMessage: Session is not connected"),new Error("Session is not connected");let r=yield this.getAddress(),{signature:i}=yield this.walletConnector.request({chainId:`${Ka.WALLETCONNECT_ELROND_NAMESPACE}:${this.chainId}`,topic:this.session.topic,request:{method:Rp.Operation.SIGN_MESSAGE,params:{address:r,message:e.message.toString()}}});if(!i)throw Bt.Logger.error("signMessage: WalletConnect could not sign the message"),new Error("WalletConnect could not sign the message");return e.applySignature(new Pp.Signature(i),e2.UserAddress.fromBech32(r)),e})}signTransaction(e){return Tr(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw Bt.Logger.error("signTransaction: WalletConnect not initialised, call init() first"),new Error("WalletConnect not initialised, call init() first");if(typeof this.session>"u")throw Bt.Logger.error("signTransaction: Session is not connected"),new Error("Session is not connected");let r=yield this.getAddress(),i=new Pp.Address(r),n=e.toPlainObject(i);if(this.chainId!==e.getChainID().valueOf())throw Bt.Logger.error("signTransaction: Transaction Chain Id different than Connection Chain Id"),new Error("Transaction Chain Id different than Connection Chain Id");let{signature:s}=yield this.walletConnector.request({chainId:`${Ka.WALLETCONNECT_ELROND_NAMESPACE}:${this.chainId}`,topic:this.session.topic,request:{method:Rp.Operation.SIGN_TRANSACTION,params:{transaction:n}}});if(!s)throw Bt.Logger.error("signTransaction: WalletConnect could not sign the transaction"),new Error("WalletConnect could not sign the transaction");return e.applySignature(Pp.Signature.fromHex(s),e2.UserAddress.fromBech32(r)),e})}signTransactions(e){return Tr(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw Bt.Logger.error("signTransactions: WalletConnect not initialised, call init() first"),new Error("WalletConnect not initialised, call init() first");if(typeof this.session>"u")throw Bt.Logger.error("signTransactions: Session is not connected"),new Error("Session is not connected");let r=yield this.getAddress(),i=new Pp.Address(r),n=e.map(o=>{if(this.chainId!==o.getChainID().valueOf())throw Bt.Logger.error("signTransactions: Transaction Chain Id different than Connection Chain Id"),new Error("Transactions Chain Id different than Connection Chain Id");return o.toPlainObject(i)}),{signatures:s}=yield this.walletConnector.request({chainId:`${Ka.WALLETCONNECT_ELROND_NAMESPACE}:${this.chainId}`,topic:this.session.topic,request:{method:Rp.Operation.SIGN_TRANSACTIONS,params:{transactions:n}}});if(!s||!Array.isArray(s))throw Bt.Logger.error("signTransactions: WalletConnect could not sign the transactions"),new Error("WalletConnect could not sign the transactions");if(e.length!==s.length)throw Bt.Logger.error("signTransactions: WalletConnect could not sign the transactions. Invalid signatures."),new Error("WalletConnect could not sign the transactions. Invalid signatures.");for(let[o,f]of e.entries())f.applySignature(Pp.Signature.fromHex(s[o].signature),e2.UserAddress.fromBech32(r));return e})}sendCustomRequest(e){return Tr(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw Bt.Logger.error("sendCustomRequest: WalletConnect not initialised, call init() first"),new Error("WalletConnect not initialised, call init() first");if(typeof this.session>"u")throw Bt.Logger.error("sendCustomRequest: Session is not connected"),new Error("Session is not connected");if(e?.request){let{response:r}=yield this.walletConnector.request({chainId:`${Ka.WALLETCONNECT_ELROND_NAMESPACE}:${this.chainId}`,topic:this.session.topic,request:e.request});if(!r)throw Bt.Logger.error("sendCustomRequest: WalletConnect could not send the custom request"),new Error("WalletConnect could not send the custom request");return r}})}ping(){return Tr(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw Bt.Logger.error("ping: WalletConnect not initialised, call init() first"),new Error("WalletConnect not initialised, call init() first");if(typeof this.session>"u")throw Bt.Logger.error("ping: Session is not connected"),new Error("Session is not connected");try{return yield this.walletConnector.ping({topic:this.session.topic}),!0}catch{return Bt.Logger.error("ping: Ping failed"),!1}})}loginAccount(e){var r;return Tr(this,void 0,void 0,function*(){if(!!e){if(this.addressIsValid(e.address)){this.address=e.address,e.signature&&(this.signature=e.signature),this.onClientConnect.onClientLogin();return}if(Bt.Logger.error(`WalletConnect invalid address ${e.address}`),((r=this.session)===null||r===void 0?void 0:r.topic)&&this.walletConnector){yield this.walletConnector.disconnect({topic:this.session.topic,reason:EK.getSdkError("USER_DISCONNECTED")});let i=this.walletConnector.pairing.getAll({active:!0});this.pairings=i}}})}onSessionConnected(e){return Tr(this,void 0,void 0,function*(){if(!e)return"";this.session=e.session;let r=this.getAddressFromSession(e.session);return r&&(yield this.loginAccount({address:r,signature:e.signature})),""})}handleTopicUpdateEvent({topic:e}){var r;return Tr(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw new Error("WalletConnect is not initialized");this.pairings=this.walletConnector.pairing.getAll({active:!0}),this.address&&!this.isInitializing&&(((r=this===null||this===void 0?void 0:this.session)===null||r===void 0?void 0:r.topic)===e||this.pairings.length===0)&&this.onClientConnect.onClientLogout()})}handleSessionEvents({topic:e,params:r}){var i;return Tr(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw new Error("WalletConnect is not initialized");let{event:n}=r;if(n?.name&&((i=this.session)===null||i===void 0?void 0:i.topic)===e){let s=n.data,o=this.walletConnector.session.get(e);this.onClientConnect.onClientEvent(s)}})}subscribeToEvents(e){return Tr(this,void 0,void 0,function*(){if(typeof e>"u")throw new Error("WalletConnect is not initialized");e.on("session_update",({topic:r,params:i})=>{let{namespaces:n}=i,s=e.session.get(r),o=Object.assign(Object.assign({},s),{namespaces:n});this.onSessionConnected({session:o})}),e.on("session_event",this.handleSessionEvents.bind(this)),e.on("session_expire",this.handleTopicUpdateEvent.bind(this)),e.on("session_delete",this.handleTopicUpdateEvent.bind(this)),e.on("pairing_expire",this.handleTopicUpdateEvent.bind(this)),e.on("pairing_delete",this.handleTopicUpdateEvent.bind(this))})}checkPersistedState(e){return Tr(this,void 0,void 0,function*(){if(typeof e>"u")throw new Error("WalletConnect is not initialized");if(this.pairings=e.pairing.getAll({active:!0}),!(typeof this.session<"u")&&e.session.length&&!this.address&&!this.isInitializing){let r=e.session.keys.length-1,i=e.session.get(e.session.keys[r]);return yield this.onSessionConnected({session:i}),i}})}addressIsValid(e){try{return!!e2.UserAddress.fromBech32(e)}catch{return!1}}getAddressFromSession(e){let r=e.namespaces[Ka.WALLETCONNECT_ELROND_NAMESPACE];if(r&&r.accounts){let i=r.accounts[0],[n,s,o]=i.split(":");return o}return""}};Ga.WalletConnectProviderV2=A5});var t2=D(Qa=>{"use strict";y();var Yme=Qa&&Qa.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),SK=Qa&&Qa.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Yme(e,t,r)};Object.defineProperty(Qa,"__esModule",{value:!0});SK(JO(),Qa);SK(AK(),Qa)});var RK=D(s2=>{"use strict";y();Object.defineProperty(s2,"__esModule",{value:!0});s2.TransactionStatus=void 0;var qp=class{constructor(e){this.status=(e||"").toLowerCase()}static createUnknown(){return new qp("unknown")}isPending(){return this.status=="received"||this.status=="pending"}isExecuted(){return this.isSuccessful()||this.isFailed()||this.isInvalid()}isSuccessful(){return this.status=="executed"||this.status=="success"||this.status=="successful"}isFailed(){return this.status=="fail"||this.status=="failed"||this.status=="unsuccessful"||this.isInvalid()}isInvalid(){return this.status=="invalid"}toString(){return this.status}valueOf(){return this.status}equals(e){return e?this.status==e.status:!1}};s2.TransactionStatus=qp});var Yl=D(Or=>{"use strict";y();var obe=Or&&Or.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),abe=Or&&Or.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),fbe=Or&&Or.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&obe(e,t,r);return abe(e,t),e};Object.defineProperty(Or,"__esModule",{value:!0});Or.zeroPadStringIfOddLength=Or.isPaddedHex=Or.numberToPaddedHex=Or.Nonce=Or.Address=void 0;var PK=fbe(yg()),ube="erd",Fp=class{constructor(e){this.value=e}static fromPubkey(e){let r=PK.toWords(e),i=PK.encode(ube,r);return new Fp(i)}bech32(){return this.value}};Or.Address=Fp;var S5=class{constructor(e){this.value=e}valueOf(){return this.value}hex(){return LK(this.value)}};Or.Nonce=S5;function LK(t){let e=t.toString(16);return qK(e)}Or.numberToPaddedHex=LK;function cbe(t){t=t||"";let e=M.Buffer.from(t,"hex").toString("hex");return t.toUpperCase()==e.toUpperCase()}Or.isPaddedHex=cbe;function qK(t){return t=t||"",t.length%2==1?"0"+t:t}Or.zeroPadStringIfOddLength=qK});var UK=D(o2=>{"use strict";y();Object.defineProperty(o2,"__esModule",{value:!0});o2.TransactionReceipt=void 0;var FK=Yl(),Up=class{constructor(){this.value="",this.sender=new FK.Address(""),this.data="",this.hash=""}static fromHttpResponse(e){let r=new Up;return r.value=(e.value||0).toString(),r.sender=new FK.Address(e.sender),r.data=e.data,r.hash=e.txHash,r}};o2.TransactionReceipt=Up});var kK=D(Ks=>{"use strict";y();Object.defineProperty(Ks,"__esModule",{value:!0});Ks.ErrContractQuery=Ks.ErrNetworkProvider=Ks.ErrUnexpectedCondition=Ks.Err=void 0;var Jl=class extends Error{constructor(e,r){super(e),this.inner=void 0,this.inner=r}};Ks.Err=Jl;var I5=class extends Jl{constructor(e){super(`Unexpected condition: [${e}]`)}};Ks.ErrUnexpectedCondition=I5;var M5=class extends Jl{constructor(e,r,i){let n=`Request error on url [${e}]: [${r}]`;super(n,i)}};Ks.ErrNetworkProvider=M5;var C5=class extends Jl{constructor(e){super(e.message.replace("executeQuery:",""))}};Ks.ErrContractQuery=C5});var jK=D(Xl=>{"use strict";y();Object.defineProperty(Xl,"__esModule",{value:!0});Xl.TransactionEventTopic=Xl.TransactionEvent=void 0;var HK=Yl(),kp=class{constructor(e){this.address=new HK.Address(""),this.identifier="",this.topics=[],this.data="",Object.assign(this,e)}static fromHttpResponse(e){let r=new kp;return r.address=new HK.Address(e.address),r.identifier=e.identifier||"",r.topics=(e.topics||[]).map(i=>new a2(i)),r.data=M.Buffer.from(e.data||"","base64").toString(),r}findFirstOrNoneTopic(e){return this.topics.filter(r=>e(r))[0]}getLastTopic(){return this.topics[this.topics.length-1]}};Xl.TransactionEvent=kp;var a2=class{constructor(e){this.raw=M.Buffer.from(e||"","base64")}toString(){return this.raw.toString("utf8")}hex(){return this.raw.toString("hex")}valueOf(){return this.raw}};Xl.TransactionEventTopic=a2});var T5=D(f2=>{"use strict";y();Object.defineProperty(f2,"__esModule",{value:!0});f2.TransactionLogs=void 0;var hbe=kK(),VK=Yl(),lbe=jK(),Hp=class{constructor(e){this.address=new VK.Address(""),this.events=[],Object.assign(this,e)}static fromHttpResponse(e){let r=new Hp;return r.address=new VK.Address(e.address),r.events=(e.events||[]).map(i=>lbe.TransactionEvent.fromHttpResponse(i)),r}findSingleOrNoneEvent(e,r){let i=this.findEvents(e,r);if(i.length>1)throw new hbe.ErrUnexpectedCondition(`more than one event of type ${e}`);return i[0]}findFirstOrNoneEvent(e,r){return this.findEvents(e,r)[0]}findEvents(e,r){let i=this.events.filter(n=>n.identifier==e);return r&&(i=i.filter(n=>r(n))),i}};f2.TransactionLogs=Hp});var KK=D(ed=>{"use strict";y();Object.defineProperty(ed,"__esModule",{value:!0});ed.ContractResultItem=ed.ContractResults=void 0;var zK=T5(),u2=Yl(),Zl=class{constructor(e){this.items=e,this.items.sort(function(r,i){return r.nonce.valueOf()-i.nonce.valueOf()})}static fromProxyHttpResponse(e){let r=e.map(i=>Lo.fromProxyHttpResponse(i));return new Zl(r)}static fromApiHttpResponse(e){let r=e.map(i=>Lo.fromApiHttpResponse(i));return new Zl(r)}};ed.ContractResults=Zl;var Lo=class{constructor(e){this.hash="",this.nonce=0,this.value="",this.receiver=new u2.Address(""),this.sender=new u2.Address(""),this.data="",this.previousHash="",this.originalHash="",this.gasLimit=0,this.gasPrice=0,this.callType=0,this.returnMessage="",this.logs=new zK.TransactionLogs,Object.assign(this,e)}static fromProxyHttpResponse(e){return Lo.fromHttpResponse(e)}static fromApiHttpResponse(e){let r=Lo.fromHttpResponse(e);return r.data=M.Buffer.from(r.data,"base64").toString(),r.callType=Number(r.callType),r}static fromHttpResponse(e){let r=new Lo;return r.hash=e.hash,r.nonce=Number(e.nonce||0),r.value=(e.value||0).toString(),r.receiver=new u2.Address(e.receiver),r.sender=new u2.Address(e.sender),r.previousHash=e.prevTxHash,r.originalHash=e.originalTxHash,r.gasLimit=Number(e.gasLimit||0),r.gasPrice=Number(e.gasPrice||0),r.data=e.data||"",r.callType=e.callType,r.returnMessage=e.returnMessage,r.logs=zK.TransactionLogs.fromHttpResponse(e.logs||{}),r}};ed.ContractResultItem=Lo});var GK=D($a=>{"use strict";y();var dbe=$a&&$a.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty($a,"__esModule",{value:!0});$a.EsdtContractAddress=$a.MaxUint64AsBigNumber=void 0;var pbe=dbe(xn()),gbe=Yl();$a.MaxUint64AsBigNumber=new pbe.default("18446744073709551615");$a.EsdtContractAddress=new gbe.Address("erd1qqqqqqqqqqqqqqqpqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqzllls8a5w6u")});var QK=D(td=>{"use strict";y();var vbe=td&&td.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(td,"__esModule",{value:!0});td.ContractQueryResponse=void 0;var ybe=vbe(xn()),mbe=GK(),jp=class{constructor(e){this.returnData=e?.returnData||[],this.returnCode=e?.returnCode||"",this.returnMessage=e?.returnMessage||"",this.gasUsed=e?.gasUsed||0}static fromHttpResponse(e){let r=e.returnData||e.ReturnData,i=e.returnCode||e.ReturnCode,n=e.returnMessage||e.ReturnMessage,s=new ybe.default(e.gasRemaining||e.GasRemaining||0),o=mbe.MaxUint64AsBigNumber.minus(s).toNumber();return new jp({returnData:r,returnCode:i,returnMessage:n,gasUsed:o})}getReturnDataParts(){return this.returnData.map(e=>M.Buffer.from(e||"","base64"))}toJSON(){return{returnData:this.returnData,returnCode:this.returnCode,returnMessage:this.returnMessage,gasUsed:this.gasUsed.valueOf()}}};td.ContractQueryResponse=jp});var WK=D(c2=>{"use strict";y();Object.defineProperty(c2,"__esModule",{value:!0});c2.ContractQueryRequest=void 0;var O5=class{constructor(e){this.query=e}toHttpRequest(){var e;let r={},i=this.query;return r.scAddress=i.address.bech32(),r.caller=!((e=i.caller)===null||e===void 0)&&e.bech32()?i.caller.bech32():void 0,r.funcName=i.func.toString(),r.value=i.value?i.value.toString():void 0,r.args=i.getEncodedArguments(),r}};c2.ContractQueryRequest=O5});var $K=D(h2=>{"use strict";y();Object.defineProperty(h2,"__esModule",{value:!0});h2.Query=void 0;var bbe=En(),wbe=h1(),N5=class{constructor(e){this.caller=e.caller||new bbe.Address,this.address=e.address,this.func=e.func,this.args=e.args||[],this.value=e.value||0}getEncodedArguments(){return new wbe.ArgSerializer().valuesToStrings(this.args)}};h2.Query=N5});var oG=D((lLe,sG)=>{y();sG.exports=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}});var Ya=D(tc=>{y();var B5,_be=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];tc.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};tc.getSymbolTotalCodewords=function(e){return _be[e]};tc.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};tc.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');B5=e};tc.isKanjiModeEnabled=function(){return typeof B5<"u"};tc.toSJIS=function(e){return B5(e)}});var p2=D(bn=>{y();bn.L={bit:1};bn.M={bit:0};bn.Q={bit:3};bn.H={bit:2};function xbe(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return bn.L;case"m":case"medium":return bn.M;case"q":case"quartile":return bn.Q;case"h":case"high":return bn.H;default:throw new Error("Unknown EC Level: "+t)}}bn.isValid=function(e){return e&&typeof e.bit<"u"&&e.bit>=0&&e.bit<4};bn.from=function(e,r){if(bn.isValid(e))return e;try{return xbe(e)}catch{return r}}});var uG=D((mLe,fG)=>{y();function aG(){this.buffer=[],this.length=0}aG.prototype={get:function(t){let e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let r=0;r<e;r++)this.putBit((t>>>e-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){let e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};fG.exports=aG});var hG=D((wLe,cG)=>{y();function Vp(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}Vp.prototype.set=function(t,e,r,i){let n=t*this.size+e;this.data[n]=r,i&&(this.reservedBit[n]=!0)};Vp.prototype.get=function(t,e){return this.data[t*this.size+e]};Vp.prototype.xor=function(t,e,r){this.data[t*this.size+e]^=r};Vp.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};cG.exports=Vp});var lG=D(g2=>{y();var Ebe=Ya().getSymbolSize;g2.getRowColCoords=function(e){if(e===1)return[];let r=Math.floor(e/7)+2,i=Ebe(e),n=i===145?26:Math.ceil((i-13)/(2*r-2))*2,s=[i-7];for(let o=1;o<r-1;o++)s[o]=s[o-1]-n;return s.push(6),s.reverse()};g2.getPositions=function(e){let r=[],i=g2.getRowColCoords(e),n=i.length;for(let s=0;s<n;s++)for(let o=0;o<n;o++)s===0&&o===0||s===0&&o===n-1||s===n-1&&o===0||r.push([i[s],i[o]]);return r}});var gG=D(pG=>{y();var Abe=Ya().getSymbolSize,dG=7;pG.getPositions=function(e){let r=Abe(e);return[[0,0],[r-dG,0],[0,r-dG]]}});var vG=D(Ft=>{y();Ft.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var rc={N1:3,N2:3,N3:40,N4:10};Ft.isValid=function(e){return e!=null&&e!==""&&!isNaN(e)&&e>=0&&e<=7};Ft.from=function(e){return Ft.isValid(e)?parseInt(e,10):void 0};Ft.getPenaltyN1=function(e){let r=e.size,i=0,n=0,s=0,o=null,f=null;for(let l=0;l<r;l++){n=s=0,o=f=null;for(let b=0;b<r;b++){let E=e.get(l,b);E===o?n++:(n>=5&&(i+=rc.N1+(n-5)),o=E,n=1),E=e.get(b,l),E===f?s++:(s>=5&&(i+=rc.N1+(s-5)),f=E,s=1)}n>=5&&(i+=rc.N1+(n-5)),s>=5&&(i+=rc.N1+(s-5))}return i};Ft.getPenaltyN2=function(e){let r=e.size,i=0;for(let n=0;n<r-1;n++)for(let s=0;s<r-1;s++){let o=e.get(n,s)+e.get(n,s+1)+e.get(n+1,s)+e.get(n+1,s+1);(o===4||o===0)&&i++}return i*rc.N2};Ft.getPenaltyN3=function(e){let r=e.size,i=0,n=0,s=0;for(let o=0;o<r;o++){n=s=0;for(let f=0;f<r;f++)n=n<<1&2047|e.get(o,f),f>=10&&(n===1488||n===93)&&i++,s=s<<1&2047|e.get(f,o),f>=10&&(s===1488||s===93)&&i++}return i*rc.N3};Ft.getPenaltyN4=function(e){let r=0,i=e.data.length;for(let s=0;s<i;s++)r+=e.data[s];return Math.abs(Math.ceil(r*100/i/5)-10)*rc.N4};function Sbe(t,e,r){switch(t){case Ft.Patterns.PATTERN000:return(e+r)%2===0;case Ft.Patterns.PATTERN001:return e%2===0;case Ft.Patterns.PATTERN010:return r%3===0;case Ft.Patterns.PATTERN011:return(e+r)%3===0;case Ft.Patterns.PATTERN100:return(Math.floor(e/2)+Math.floor(r/3))%2===0;case Ft.Patterns.PATTERN101:return e*r%2+e*r%3===0;case Ft.Patterns.PATTERN110:return(e*r%2+e*r%3)%2===0;case Ft.Patterns.PATTERN111:return(e*r%3+(e+r)%2)%2===0;default:throw new Error("bad maskPattern:"+t)}}Ft.applyMask=function(e,r){let i=r.size;for(let n=0;n<i;n++)for(let s=0;s<i;s++)r.isReserved(s,n)||r.xor(s,n,Sbe(e,s,n))};Ft.getBestMask=function(e,r){let i=Object.keys(Ft.Patterns).length,n=0,s=1/0;for(let o=0;o<i;o++){r(o),Ft.applyMask(o,e);let f=Ft.getPenaltyN1(e)+Ft.getPenaltyN2(e)+Ft.getPenaltyN3(e)+Ft.getPenaltyN4(e);Ft.applyMask(o,e),f<s&&(s=f,n=o)}return n}});var R5=D(D5=>{y();var Ja=p2(),v2=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],y2=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];D5.getBlocksCount=function(e,r){switch(r){case Ja.L:return v2[(e-1)*4+0];case Ja.M:return v2[(e-1)*4+1];case Ja.Q:return v2[(e-1)*4+2];case Ja.H:return v2[(e-1)*4+3];default:return}};D5.getTotalCodewordsCount=function(e,r){switch(r){case Ja.L:return y2[(e-1)*4+0];case Ja.M:return y2[(e-1)*4+1];case Ja.Q:return y2[(e-1)*4+2];case Ja.H:return y2[(e-1)*4+3];default:return}}});var yG=D(b2=>{y();var zp=new Uint8Array(512),m2=new Uint8Array(256);(function(){let e=1;for(let r=0;r<255;r++)zp[r]=e,m2[e]=r,e<<=1,e&256&&(e^=285);for(let r=255;r<512;r++)zp[r]=zp[r-255]})();b2.log=function(e){if(e<1)throw new Error("log("+e+")");return m2[e]};b2.exp=function(e){return zp[e]};b2.mul=function(e,r){return e===0||r===0?0:zp[m2[e]+m2[r]]}});var mG=D(Kp=>{y();var P5=yG();Kp.mul=function(e,r){let i=new Uint8Array(e.length+r.length-1);for(let n=0;n<e.length;n++)for(let s=0;s<r.length;s++)i[n+s]^=P5.mul(e[n],r[s]);return i};Kp.mod=function(e,r){let i=new Uint8Array(e);for(;i.length-r.length>=0;){let n=i[0];for(let o=0;o<r.length;o++)i[o]^=P5.mul(r[o],n);let s=0;for(;s<i.length&&i[s]===0;)s++;i=i.slice(s)}return i};Kp.generateECPolynomial=function(e){let r=new Uint8Array([1]);for(let i=0;i<e;i++)r=Kp.mul(r,new Uint8Array([1,P5.exp(i)]));return r}});var _G=D((RLe,wG)=>{y();var bG=mG();function L5(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}L5.prototype.initialize=function(e){this.degree=e,this.genPoly=bG.generateECPolynomial(this.degree)};L5.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");let r=new Uint8Array(e.length+this.degree);r.set(e);let i=bG.mod(r,this.genPoly),n=this.degree-i.length;if(n>0){let s=new Uint8Array(this.degree);return s.set(i,n),s}return i};wG.exports=L5});var q5=D(xG=>{y();xG.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}});var F5=D(qo=>{y();var EG="[0-9]+",Ibe="[A-Z $%*+\\-./:]+",Gp="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Gp=Gp.replace(/u/g,"\\u");var Mbe="(?:(?![A-Z0-9 $%*+\\-./:]|"+Gp+`)(?:.|[\r
]))+`;qo.KANJI=new RegExp(Gp,"g");qo.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");qo.BYTE=new RegExp(Mbe,"g");qo.NUMERIC=new RegExp(EG,"g");qo.ALPHANUMERIC=new RegExp(Ibe,"g");var Cbe=new RegExp("^"+Gp+"$"),Tbe=new RegExp("^"+EG+"$"),Obe=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");qo.testKanji=function(e){return Cbe.test(e)};qo.testNumeric=function(e){return Tbe.test(e)};qo.testAlphanumeric=function(e){return Obe.test(e)}});var Xa=D(cr=>{y();var Nbe=q5(),U5=F5();cr.NUMERIC={id:"Numeric",bit:1<<0,ccBits:[10,12,14]};cr.ALPHANUMERIC={id:"Alphanumeric",bit:1<<1,ccBits:[9,11,13]};cr.BYTE={id:"Byte",bit:1<<2,ccBits:[8,16,16]};cr.KANJI={id:"Kanji",bit:1<<3,ccBits:[8,10,12]};cr.MIXED={bit:-1};cr.getCharCountIndicator=function(e,r){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!Nbe.isValid(r))throw new Error("Invalid version: "+r);return r>=1&&r<10?e.ccBits[0]:r<27?e.ccBits[1]:e.ccBits[2]};cr.getBestModeForData=function(e){return U5.testNumeric(e)?cr.NUMERIC:U5.testAlphanumeric(e)?cr.ALPHANUMERIC:U5.testKanji(e)?cr.KANJI:cr.BYTE};cr.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")};cr.isValid=function(e){return e&&e.bit&&e.ccBits};function Bbe(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"numeric":return cr.NUMERIC;case"alphanumeric":return cr.ALPHANUMERIC;case"kanji":return cr.KANJI;case"byte":return cr.BYTE;default:throw new Error("Unknown mode: "+t)}}cr.from=function(e,r){if(cr.isValid(e))return e;try{return Bbe(e)}catch{return r}}});var CG=D(ic=>{y();var w2=Ya(),Dbe=R5(),AG=p2(),Za=Xa(),k5=q5(),IG=1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,SG=w2.getBCHDigit(IG);function Rbe(t,e,r){for(let i=1;i<=40;i++)if(e<=ic.getCapacity(i,r,t))return i}function MG(t,e){return Za.getCharCountIndicator(t,e)+4}function Pbe(t,e){let r=0;return t.forEach(function(i){r+=MG(i.mode,e)+i.getBitsLength()}),r}function Lbe(t,e){for(let r=1;r<=40;r++)if(Pbe(t,r)<=ic.getCapacity(r,e,Za.MIXED))return r}ic.from=function(e,r){return k5.isValid(e)?parseInt(e,10):r};ic.getCapacity=function(e,r,i){if(!k5.isValid(e))throw new Error("Invalid QR Code version");typeof i>"u"&&(i=Za.BYTE);let n=w2.getSymbolTotalCodewords(e),s=Dbe.getTotalCodewordsCount(e,r),o=(n-s)*8;if(i===Za.MIXED)return o;let f=o-MG(i,e);switch(i){case Za.NUMERIC:return Math.floor(f/10*3);case Za.ALPHANUMERIC:return Math.floor(f/11*2);case Za.KANJI:return Math.floor(f/13);case Za.BYTE:default:return Math.floor(f/8)}};ic.getBestVersionForData=function(e,r){let i,n=AG.from(r,AG.M);if(Array.isArray(e)){if(e.length>1)return Lbe(e,n);if(e.length===0)return 1;i=e[0]}else i=e;return Rbe(i.mode,i.getLength(),n)};ic.getEncodedBits=function(e){if(!k5.isValid(e)||e<7)throw new Error("Invalid QR Code version");let r=e<<12;for(;w2.getBCHDigit(r)-SG>=0;)r^=IG<<w2.getBCHDigit(r)-SG;return e<<12|r}});var BG=D(NG=>{y();var H5=Ya(),OG=1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,qbe=1<<14|1<<12|1<<10|1<<4|1<<1,TG=H5.getBCHDigit(OG);NG.getEncodedBits=function(e,r){let i=e.bit<<3|r,n=i<<10;for(;H5.getBCHDigit(n)-TG>=0;)n^=OG<<H5.getBCHDigit(n)-TG;return(i<<10|n)^qbe}});var RG=D((GLe,DG)=>{y();var Fbe=Xa();function rd(t){this.mode=Fbe.NUMERIC,this.data=t.toString()}rd.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};rd.prototype.getLength=function(){return this.data.length};rd.prototype.getBitsLength=function(){return rd.getBitsLength(this.data.length)};rd.prototype.write=function(e){let r,i,n;for(r=0;r+3<=this.data.length;r+=3)i=this.data.substr(r,3),n=parseInt(i,10),e.put(n,10);let s=this.data.length-r;s>0&&(i=this.data.substr(r),n=parseInt(i,10),e.put(n,s*3+1))};DG.exports=rd});var LG=D((WLe,PG)=>{y();var Ube=Xa(),j5=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function id(t){this.mode=Ube.ALPHANUMERIC,this.data=t}id.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};id.prototype.getLength=function(){return this.data.length};id.prototype.getBitsLength=function(){return id.getBitsLength(this.data.length)};id.prototype.write=function(e){let r;for(r=0;r+2<=this.data.length;r+=2){let i=j5.indexOf(this.data[r])*45;i+=j5.indexOf(this.data[r+1]),e.put(i,11)}this.data.length%2&&e.put(j5.indexOf(this.data[r]),6)};PG.exports=id});var FG=D((YLe,qG)=>{"use strict";y();qG.exports=function(e){for(var r=[],i=e.length,n=0;n<i;n++){var s=e.charCodeAt(n);if(s>=55296&&s<=56319&&i>n+1){var o=e.charCodeAt(n+1);o>=56320&&o<=57343&&(s=(s-55296)*1024+o-56320+65536,n+=1)}if(s<128){r.push(s);continue}if(s<2048){r.push(s>>6|192),r.push(s&63|128);continue}if(s<55296||s>=57344&&s<65536){r.push(s>>12|224),r.push(s>>6&63|128),r.push(s&63|128);continue}if(s>=65536&&s<=1114111){r.push(s>>18|240),r.push(s>>12&63|128),r.push(s>>6&63|128),r.push(s&63|128);continue}r.push(239,191,189)}return new Uint8Array(r).buffer}});var kG=D((XLe,UG)=>{y();var kbe=FG(),Hbe=Xa();function nd(t){this.mode=Hbe.BYTE,typeof t=="string"&&(t=kbe(t)),this.data=new Uint8Array(t)}nd.getBitsLength=function(e){return e*8};nd.prototype.getLength=function(){return this.data.length};nd.prototype.getBitsLength=function(){return nd.getBitsLength(this.data.length)};nd.prototype.write=function(t){for(let e=0,r=this.data.length;e<r;e++)t.put(this.data[e],8)};UG.exports=nd});var jG=D((eqe,HG)=>{y();var jbe=Xa(),Vbe=Ya();function sd(t){this.mode=jbe.KANJI,this.data=t}sd.getBitsLength=function(e){return e*13};sd.prototype.getLength=function(){return this.data.length};sd.prototype.getBitsLength=function(){return sd.getBitsLength(this.data.length)};sd.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let r=Vbe.toSJIS(this.data[e]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),t.put(r,13)}};HG.exports=sd});var VG=D((rqe,V5)=>{"use strict";y();var Qp={single_source_shortest_paths:function(t,e,r){var i={},n={};n[e]=0;var s=Qp.PriorityQueue.make();s.push(e,0);for(var o,f,l,b,E,C,N,L,R;!s.empty();){o=s.pop(),f=o.value,b=o.cost,E=t[f]||{};for(l in E)E.hasOwnProperty(l)&&(C=E[l],N=b+C,L=n[l],R=typeof n[l]>"u",(R||L>N)&&(n[l]=N,s.push(l,N),i[l]=f))}if(typeof r<"u"&&typeof n[r]>"u"){var V=["Could not find a path from ",e," to ",r,"."].join("");throw new Error(V)}return i},extract_shortest_path_from_predecessor_list:function(t,e){for(var r=[],i=e,n;i;)r.push(i),n=t[i],i=t[i];return r.reverse(),r},find_path:function(t,e,r){var i=Qp.single_source_shortest_paths(t,e,r);return Qp.extract_shortest_path_from_predecessor_list(i,r)},PriorityQueue:{make:function(t){var e=Qp.PriorityQueue,r={},i;t=t||{};for(i in e)e.hasOwnProperty(i)&&(r[i]=e[i]);return r.queue=[],r.sorter=t.sorter||e.default_sorter,r},default_sorter:function(t,e){return t.cost-e.cost},push:function(t,e){var r={value:t,cost:e};this.queue.push(r),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};typeof V5<"u"&&(V5.exports=Qp)});var JG=D(od=>{y();var It=Xa(),GG=RG(),QG=LG(),WG=kG(),$G=jG(),Wp=F5(),_2=Ya(),zbe=VG();function zG(t){return unescape(encodeURIComponent(t)).length}function $p(t,e,r){let i=[],n;for(;(n=t.exec(r))!==null;)i.push({data:n[0],index:n.index,mode:e,length:n[0].length});return i}function YG(t){let e=$p(Wp.NUMERIC,It.NUMERIC,t),r=$p(Wp.ALPHANUMERIC,It.ALPHANUMERIC,t),i,n;return _2.isKanjiModeEnabled()?(i=$p(Wp.BYTE,It.BYTE,t),n=$p(Wp.KANJI,It.KANJI,t)):(i=$p(Wp.BYTE_KANJI,It.BYTE,t),n=[]),e.concat(r,i,n).sort(function(o,f){return o.index-f.index}).map(function(o){return{data:o.data,mode:o.mode,length:o.length}})}function z5(t,e){switch(e){case It.NUMERIC:return GG.getBitsLength(t);case It.ALPHANUMERIC:return QG.getBitsLength(t);case It.KANJI:return $G.getBitsLength(t);case It.BYTE:return WG.getBitsLength(t)}}function Kbe(t){return t.reduce(function(e,r){let i=e.length-1>=0?e[e.length-1]:null;return i&&i.mode===r.mode?(e[e.length-1].data+=r.data,e):(e.push(r),e)},[])}function Gbe(t){let e=[];for(let r=0;r<t.length;r++){let i=t[r];switch(i.mode){case It.NUMERIC:e.push([i,{data:i.data,mode:It.ALPHANUMERIC,length:i.length},{data:i.data,mode:It.BYTE,length:i.length}]);break;case It.ALPHANUMERIC:e.push([i,{data:i.data,mode:It.BYTE,length:i.length}]);break;case It.KANJI:e.push([i,{data:i.data,mode:It.BYTE,length:zG(i.data)}]);break;case It.BYTE:e.push([{data:i.data,mode:It.BYTE,length:zG(i.data)}])}}return e}function Qbe(t,e){let r={},i={start:{}},n=["start"];for(let s=0;s<t.length;s++){let o=t[s],f=[];for(let l=0;l<o.length;l++){let b=o[l],E=""+s+l;f.push(E),r[E]={node:b,lastCount:0},i[E]={};for(let C=0;C<n.length;C++){let N=n[C];r[N]&&r[N].node.mode===b.mode?(i[N][E]=z5(r[N].lastCount+b.length,b.mode)-z5(r[N].lastCount,b.mode),r[N].lastCount+=b.length):(r[N]&&(r[N].lastCount=b.length),i[N][E]=z5(b.length,b.mode)+4+It.getCharCountIndicator(b.mode,e))}}n=f}for(let s=0;s<n.length;s++)i[n[s]].end=0;return{map:i,table:r}}function KG(t,e){let r,i=It.getBestModeForData(t);if(r=It.from(e,i),r!==It.BYTE&&r.bit<i.bit)throw new Error('"'+t+'" cannot be encoded with mode '+It.toString(r)+`.
 Suggested mode is: `+It.toString(i));switch(r===It.KANJI&&!_2.isKanjiModeEnabled()&&(r=It.BYTE),r){case It.NUMERIC:return new GG(t);case It.ALPHANUMERIC:return new QG(t);case It.KANJI:return new $G(t);case It.BYTE:return new WG(t)}}od.fromArray=function(e){return e.reduce(function(r,i){return typeof i=="string"?r.push(KG(i,null)):i.data&&r.push(KG(i.data,i.mode)),r},[])};od.fromString=function(e,r){let i=YG(e,_2.isKanjiModeEnabled()),n=Gbe(i),s=Qbe(n,r),o=zbe.find_path(s.map,"start","end"),f=[];for(let l=1;l<o.length-1;l++)f.push(s.table[o[l]].node);return od.fromArray(Kbe(f))};od.rawSplit=function(e){return od.fromArray(YG(e,_2.isKanjiModeEnabled()))}});var ZG=D(XG=>{y();var E2=Ya(),K5=p2(),Wbe=uG(),$be=hG(),Ybe=lG(),Jbe=gG(),W5=vG(),$5=R5(),Xbe=_G(),x2=CG(),Zbe=BG(),e2e=Xa(),G5=JG();function t2e(t,e){let r=t.size,i=Jbe.getPositions(e);for(let n=0;n<i.length;n++){let s=i[n][0],o=i[n][1];for(let f=-1;f<=7;f++)if(!(s+f<=-1||r<=s+f))for(let l=-1;l<=7;l++)o+l<=-1||r<=o+l||(f>=0&&f<=6&&(l===0||l===6)||l>=0&&l<=6&&(f===0||f===6)||f>=2&&f<=4&&l>=2&&l<=4?t.set(s+f,o+l,!0,!0):t.set(s+f,o+l,!1,!0))}}function r2e(t){let e=t.size;for(let r=8;r<e-8;r++){let i=r%2===0;t.set(r,6,i,!0),t.set(6,r,i,!0)}}function i2e(t,e){let r=Ybe.getPositions(e);for(let i=0;i<r.length;i++){let n=r[i][0],s=r[i][1];for(let o=-2;o<=2;o++)for(let f=-2;f<=2;f++)o===-2||o===2||f===-2||f===2||o===0&&f===0?t.set(n+o,s+f,!0,!0):t.set(n+o,s+f,!1,!0)}}function n2e(t,e){let r=t.size,i=x2.getEncodedBits(e),n,s,o;for(let f=0;f<18;f++)n=Math.floor(f/3),s=f%3+r-8-3,o=(i>>f&1)===1,t.set(n,s,o,!0),t.set(s,n,o,!0)}function Q5(t,e,r){let i=t.size,n=Zbe.getEncodedBits(e,r),s,o;for(s=0;s<15;s++)o=(n>>s&1)===1,s<6?t.set(s,8,o,!0):s<8?t.set(s+1,8,o,!0):t.set(i-15+s,8,o,!0),s<8?t.set(8,i-s-1,o,!0):s<9?t.set(8,15-s-1+1,o,!0):t.set(8,15-s-1,o,!0);t.set(i-8,8,1,!0)}function s2e(t,e){let r=t.size,i=-1,n=r-1,s=7,o=0;for(let f=r-1;f>0;f-=2)for(f===6&&f--;;){for(let l=0;l<2;l++)if(!t.isReserved(n,f-l)){let b=!1;o<e.length&&(b=(e[o]>>>s&1)===1),t.set(n,f-l,b),s--,s===-1&&(o++,s=7)}if(n+=i,n<0||r<=n){n-=i,i=-i;break}}}function o2e(t,e,r){let i=new Wbe;r.forEach(function(l){i.put(l.mode.bit,4),i.put(l.getLength(),e2e.getCharCountIndicator(l.mode,t)),l.write(i)});let n=E2.getSymbolTotalCodewords(t),s=$5.getTotalCodewordsCount(t,e),o=(n-s)*8;for(i.getLengthInBits()+4<=o&&i.put(0,4);i.getLengthInBits()%8!==0;)i.putBit(0);let f=(o-i.getLengthInBits())/8;for(let l=0;l<f;l++)i.put(l%2?17:236,8);return a2e(i,t,e)}function a2e(t,e,r){let i=E2.getSymbolTotalCodewords(e),n=$5.getTotalCodewordsCount(e,r),s=i-n,o=$5.getBlocksCount(e,r),f=i%o,l=o-f,b=Math.floor(i/o),E=Math.floor(s/o),C=E+1,N=b-E,L=new Xbe(N),R=0,V=new Array(o),W=new Array(o),$=0,re=new Uint8Array(t.buffer);for(let G=0;G<o;G++){let Q=G<l?E:C;V[G]=re.slice(R,R+Q),W[G]=L.encode(V[G]),R+=Q,$=Math.max($,Q)}let ee=new Uint8Array(i),ie=0,ne,Z;for(ne=0;ne<$;ne++)for(Z=0;Z<o;Z++)ne<V[Z].length&&(ee[ie++]=V[Z][ne]);for(ne=0;ne<N;ne++)for(Z=0;Z<o;Z++)ee[ie++]=W[Z][ne];return ee}function f2e(t,e,r,i){let n;if(Array.isArray(t))n=G5.fromArray(t);else if(typeof t=="string"){let b=e;if(!b){let E=G5.rawSplit(t);b=x2.getBestVersionForData(E,r)}n=G5.fromString(t,b||40)}else throw new Error("Invalid data");let s=x2.getBestVersionForData(n,r);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=s;else if(e<s)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+s+`.
`);let o=o2e(e,r,n),f=E2.getSymbolSize(e),l=new $be(f);return t2e(l,e),r2e(l),i2e(l,e),Q5(l,r,0),e>=7&&n2e(l,e),s2e(l,o),isNaN(i)&&(i=W5.getBestMask(l,Q5.bind(null,l,r))),W5.applyMask(i,l),Q5(l,r,i),{modules:l,version:e,errorCorrectionLevel:r,maskPattern:i,segments:n}}XG.create=function(e,r){if(typeof e>"u"||e==="")throw new Error("No input text");let i=K5.M,n,s;return typeof r<"u"&&(i=K5.from(r.errorCorrectionLevel,K5.M),n=x2.from(r.version),s=W5.from(r.maskPattern),r.toSJISFunc&&E2.setToSJISFunction(r.toSJISFunc)),f2e(e,n,i,s)}});var Y5=D(nc=>{y();function eQ(t){if(typeof t=="number"&&(t=t.toString()),typeof t!="string")throw new Error("Color should be defined as hex string");let e=t.slice().replace("#","").split("");if(e.length<3||e.length===5||e.length>8)throw new Error("Invalid hex color: "+t);(e.length===3||e.length===4)&&(e=Array.prototype.concat.apply([],e.map(function(i){return[i,i]}))),e.length===6&&e.push("F","F");let r=parseInt(e.join(""),16);return{r:r>>24&255,g:r>>16&255,b:r>>8&255,a:r&255,hex:"#"+e.slice(0,6).join("")}}nc.getOptions=function(e){e||(e={}),e.color||(e.color={});let r=typeof e.margin>"u"||e.margin===null||e.margin<0?4:e.margin,i=e.width&&e.width>=21?e.width:void 0,n=e.scale||4;return{width:i,scale:i?4:n,margin:r,color:{dark:eQ(e.color.dark||"#000000ff"),light:eQ(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}};nc.getScale=function(e,r){return r.width&&r.width>=e+r.margin*2?r.width/(e+r.margin*2):r.scale};nc.getImageWidth=function(e,r){let i=nc.getScale(e,r);return Math.floor((e+r.margin*2)*i)};nc.qrToImageData=function(e,r,i){let n=r.modules.size,s=r.modules.data,o=nc.getScale(n,i),f=Math.floor((n+i.margin*2)*o),l=i.margin*o,b=[i.color.light,i.color.dark];for(let E=0;E<f;E++)for(let C=0;C<f;C++){let N=(E*f+C)*4,L=i.color.light;if(E>=l&&C>=l&&E<f-l&&C<f-l){let R=Math.floor((E-l)/o),V=Math.floor((C-l)/o);L=b[s[R*n+V]?1:0]}e[N++]=L.r,e[N++]=L.g,e[N++]=L.b,e[N]=L.a}}});var tQ=D(A2=>{y();var J5=Y5();function u2e(t,e,r){t.clearRect(0,0,e.width,e.height),e.style||(e.style={}),e.height=r,e.width=r,e.style.height=r+"px",e.style.width=r+"px"}function c2e(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}A2.render=function(e,r,i){let n=i,s=r;typeof n>"u"&&(!r||!r.getContext)&&(n=r,r=void 0),r||(s=c2e()),n=J5.getOptions(n);let o=J5.getImageWidth(e.modules.size,n),f=s.getContext("2d"),l=f.createImageData(o,o);return J5.qrToImageData(l.data,e,n),u2e(f,s,o),f.putImageData(l,0,0),s};A2.renderToDataURL=function(e,r,i){let n=i;typeof n>"u"&&(!r||!r.getContext)&&(n=r,r=void 0),n||(n={});let s=A2.render(e,r,n),o=n.type||"image/png",f=n.rendererOpts||{};return s.toDataURL(o,f.quality)}});var nQ=D(iQ=>{y();var h2e=Y5();function rQ(t,e){let r=t.a/255,i=e+'="'+t.hex+'"';return r<1?i+" "+e+'-opacity="'+r.toFixed(2).slice(1)+'"':i}function X5(t,e,r){let i=t+e;return typeof r<"u"&&(i+=" "+r),i}function l2e(t,e,r){let i="",n=0,s=!1,o=0;for(let f=0;f<t.length;f++){let l=Math.floor(f%e),b=Math.floor(f/e);!l&&!s&&(s=!0),t[f]?(o++,f>0&&l>0&&t[f-1]||(i+=s?X5("M",l+r,.5+b+r):X5("m",n,0),n=0,s=!1),l+1<e&&t[f+1]||(i+=X5("h",o),o=0)):n++}return i}iQ.render=function(e,r,i){let n=h2e.getOptions(r),s=e.modules.size,o=e.modules.data,f=s+n.margin*2,l=n.color.light.a?"<path "+rQ(n.color.light,"fill")+' d="M0 0h'+f+"v"+f+'H0z"/>':"",b="<path "+rQ(n.color.dark,"stroke")+' d="'+l2e(o,s,n.margin)+'"/>',E='viewBox="0 0 '+f+" "+f+'"',C=n.width?'width="'+n.width+'" height="'+n.width+'" ':"",N='<svg xmlns="http://www.w3.org/2000/svg" '+C+E+' shape-rendering="crispEdges">'+l+b+`</svg>
`;return typeof i=="function"&&i(null,N),N}});var oQ=D(Yp=>{y();var d2e=oG(),Z5=ZG(),sQ=tQ(),p2e=nQ();function eS(t,e,r,i,n){let s=[].slice.call(arguments,1),o=s.length,f=typeof s[o-1]=="function";if(!f&&!d2e())throw new Error("Callback required as last argument");if(f){if(o<2)throw new Error("Too few arguments provided");o===2?(n=r,r=e,e=i=void 0):o===3&&(e.getContext&&typeof n>"u"?(n=i,i=void 0):(n=i,i=r,r=e,e=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(r=e,e=i=void 0):o===2&&!e.getContext&&(i=r,r=e,e=void 0),new Promise(function(l,b){try{let E=Z5.create(r,i);l(t(E,e,i))}catch(E){b(E)}})}try{let l=Z5.create(r,i);n(null,t(l,e,i))}catch(l){n(l)}}Yp.create=Z5.create;Yp.toCanvas=eS.bind(null,sQ.render);Yp.toDataURL=eS.bind(null,sQ.renderToDataURL);Yp.toString=eS.bind(null,function(t,e,r){return p2e.render(t,r)})});var cQ=D(()=>{y()});var CQ=D((Uqe,MQ)=>{y();var cS=typeof Map=="function"&&Map.prototype,tS=Object.getOwnPropertyDescriptor&&cS?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,M2=cS&&tS&&typeof tS.get=="function"?tS.get:null,b2e=cS&&Map.prototype.forEach,hS=typeof Set=="function"&&Set.prototype,rS=Object.getOwnPropertyDescriptor&&hS?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,C2=hS&&rS&&typeof rS.get=="function"?rS.get:null,w2e=hS&&Set.prototype.forEach,_2e=typeof WeakMap=="function"&&WeakMap.prototype,Xp=_2e?WeakMap.prototype.has:null,x2e=typeof WeakSet=="function"&&WeakSet.prototype,Zp=x2e?WeakSet.prototype.has:null,E2e=typeof WeakRef=="function"&&WeakRef.prototype,hQ=E2e?WeakRef.prototype.deref:null,A2e=Boolean.prototype.valueOf,S2e=Object.prototype.toString,I2e=Function.prototype.toString,M2e=String.prototype.match,lS=String.prototype.slice,tf=String.prototype.replace,C2e=String.prototype.toUpperCase,lQ=String.prototype.toLowerCase,_Q=RegExp.prototype.test,dQ=Array.prototype.concat,Gs=Array.prototype.join,T2e=Array.prototype.slice,pQ=Math.floor,sS=typeof BigInt=="function"?BigInt.prototype.valueOf:null,iS=Object.getOwnPropertySymbols,oS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,ad=typeof Symbol=="function"&&typeof Symbol.iterator=="object",ei=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===ad?"object":"symbol")?Symbol.toStringTag:null,xQ=Object.prototype.propertyIsEnumerable,gQ=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function vQ(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||_Q.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var i=t<0?-pQ(-t):pQ(t);if(i!==t){var n=String(i),s=lS.call(e,n.length+1);return tf.call(n,r,"$&_")+"."+tf.call(tf.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return tf.call(e,r,"$&_")}var aS=cQ(),yQ=aS.custom,mQ=AQ(yQ)?yQ:null;MQ.exports=function t(e,r,i,n){var s=r||{};if(ef(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(ef(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=ef(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(ef(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(ef(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var f=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return IQ(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var l=String(e);return f?vQ(e,l):l}if(typeof e=="bigint"){var b=String(e)+"n";return f?vQ(e,b):b}var E=typeof s.depth>"u"?5:s.depth;if(typeof i>"u"&&(i=0),i>=E&&E>0&&typeof e=="object")return fS(e)?"[Array]":"[Object]";var C=Q2e(s,i);if(typeof n>"u")n=[];else if(SQ(n,e)>=0)return"[Circular]";function N(g,a,c){if(a&&(n=T2e.call(n),n.push(a)),c){var m={depth:s.depth};return ef(s,"quoteStyle")&&(m.quoteStyle=s.quoteStyle),t(g,m,i+1,n)}return t(g,s,i+1,n)}if(typeof e=="function"&&!bQ(e)){var L=F2e(e),R=I2(e,N);return"[Function"+(L?": "+L:" (anonymous)")+"]"+(R.length>0?" { "+Gs.call(R,", ")+" }":"")}if(AQ(e)){var V=ad?tf.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):oS.call(e);return typeof e=="object"&&!ad?Jp(V):V}if(z2e(e)){for(var W="<"+lQ.call(String(e.nodeName)),$=e.attributes||[],re=0;re<$.length;re++)W+=" "+$[re].name+"="+EQ(O2e($[re].value),"double",s);return W+=">",e.childNodes&&e.childNodes.length&&(W+="..."),W+="</"+lQ.call(String(e.nodeName))+">",W}if(fS(e)){if(e.length===0)return"[]";var ee=I2(e,N);return C&&!G2e(ee)?"["+uS(ee,C)+"]":"[ "+Gs.call(ee,", ")+" ]"}if(B2e(e)){var ie=I2(e,N);return!("cause"in Error.prototype)&&"cause"in e&&!xQ.call(e,"cause")?"{ ["+String(e)+"] "+Gs.call(dQ.call("[cause]: "+N(e.cause),ie),", ")+" }":ie.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+Gs.call(ie,", ")+" }"}if(typeof e=="object"&&o){if(mQ&&typeof e[mQ]=="function"&&aS)return aS(e,{depth:E-i});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(U2e(e)){var ne=[];return b2e.call(e,function(g,a){ne.push(N(a,e,!0)+" => "+N(g,e))}),wQ("Map",M2.call(e),ne,C)}if(j2e(e)){var Z=[];return w2e.call(e,function(g){Z.push(N(g,e))}),wQ("Set",C2.call(e),Z,C)}if(k2e(e))return nS("WeakMap");if(V2e(e))return nS("WeakSet");if(H2e(e))return nS("WeakRef");if(R2e(e))return Jp(N(Number(e)));if(L2e(e))return Jp(N(sS.call(e)));if(P2e(e))return Jp(A2e.call(e));if(D2e(e))return Jp(N(String(e)));if(!N2e(e)&&!bQ(e)){var G=I2(e,N),Q=gQ?gQ(e)===Object.prototype:e instanceof Object||e.constructor===Object,P=e instanceof Object?"":"null prototype",w=!Q&&ei&&Object(e)===e&&ei in e?lS.call(rf(e),8,-1):P?"Object":"",p=Q||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",_=p+(w||P?"["+Gs.call(dQ.call([],w||[],P||[]),": ")+"] ":"");return G.length===0?_+"{}":C?_+"{"+uS(G,C)+"}":_+"{ "+Gs.call(G,", ")+" }"}return String(e)};function EQ(t,e,r){var i=(r.quoteStyle||e)==="double"?'"':"'";return i+t+i}function O2e(t){return tf.call(String(t),/"/g,"&quot;")}function fS(t){return rf(t)==="[object Array]"&&(!ei||!(typeof t=="object"&&ei in t))}function N2e(t){return rf(t)==="[object Date]"&&(!ei||!(typeof t=="object"&&ei in t))}function bQ(t){return rf(t)==="[object RegExp]"&&(!ei||!(typeof t=="object"&&ei in t))}function B2e(t){return rf(t)==="[object Error]"&&(!ei||!(typeof t=="object"&&ei in t))}function D2e(t){return rf(t)==="[object String]"&&(!ei||!(typeof t=="object"&&ei in t))}function R2e(t){return rf(t)==="[object Number]"&&(!ei||!(typeof t=="object"&&ei in t))}function P2e(t){return rf(t)==="[object Boolean]"&&(!ei||!(typeof t=="object"&&ei in t))}function AQ(t){if(ad)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!oS)return!1;try{return oS.call(t),!0}catch{}return!1}function L2e(t){if(!t||typeof t!="object"||!sS)return!1;try{return sS.call(t),!0}catch{}return!1}var q2e=Object.prototype.hasOwnProperty||function(t){return t in this};function ef(t,e){return q2e.call(t,e)}function rf(t){return S2e.call(t)}function F2e(t){if(t.name)return t.name;var e=M2e.call(I2e.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function SQ(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,i=t.length;r<i;r++)if(t[r]===e)return r;return-1}function U2e(t){if(!M2||!t||typeof t!="object")return!1;try{M2.call(t);try{C2.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function k2e(t){if(!Xp||!t||typeof t!="object")return!1;try{Xp.call(t,Xp);try{Zp.call(t,Zp)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function H2e(t){if(!hQ||!t||typeof t!="object")return!1;try{return hQ.call(t),!0}catch{}return!1}function j2e(t){if(!C2||!t||typeof t!="object")return!1;try{C2.call(t);try{M2.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function V2e(t){if(!Zp||!t||typeof t!="object")return!1;try{Zp.call(t,Zp);try{Xp.call(t,Xp)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function z2e(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function IQ(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,i="... "+r+" more character"+(r>1?"s":"");return IQ(lS.call(t,0,e.maxStringLength),e)+i}var n=tf.call(tf.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,K2e);return EQ(n,"single",e)}function K2e(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+C2e.call(e.toString(16))}function Jp(t){return"Object("+t+")"}function nS(t){return t+" { ? }"}function wQ(t,e,r,i){var n=i?uS(r,i):Gs.call(r,", ");return t+" ("+e+") {"+n+"}"}function G2e(t){for(var e=0;e<t.length;e++)if(SQ(t[e],`
`)>=0)return!1;return!0}function Q2e(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=Gs.call(Array(t.indent+1)," ");else return null;return{base:r,prev:Gs.call(Array(e+1),r)}}function uS(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+Gs.call(t,","+r)+`
`+e.prev}function I2(t,e){var r=fS(t),i=[];if(r){i.length=t.length;for(var n=0;n<t.length;n++)i[n]=ef(t,n)?e(t[n],t):""}var s=typeof iS=="function"?iS(t):[],o;if(ad){o={};for(var f=0;f<s.length;f++)o["$"+s[f]]=s[f]}for(var l in t)!ef(t,l)||r&&String(Number(l))===l&&l<t.length||ad&&o["$"+l]instanceof Symbol||(_Q.call(/[^\w$]/,l)?i.push(e(l,t)+": "+e(t[l],t)):i.push(l+": "+e(t[l],t)));if(typeof iS=="function")for(var b=0;b<s.length;b++)xQ.call(t,s[b])&&i.push("["+e(s[b])+"]: "+e(t[s[b]],t));return i}});var OQ=D((Hqe,TQ)=>{"use strict";y();var dS=p0(),fd=g0(),W2e=CQ(),$2e=dS("%TypeError%"),T2=dS("%WeakMap%",!0),O2=dS("%Map%",!0),Y2e=fd("WeakMap.prototype.get",!0),J2e=fd("WeakMap.prototype.set",!0),X2e=fd("WeakMap.prototype.has",!0),Z2e=fd("Map.prototype.get",!0),ewe=fd("Map.prototype.set",!0),twe=fd("Map.prototype.has",!0),pS=function(t,e){for(var r=t,i;(i=r.next)!==null;r=i)if(i.key===e)return r.next=i.next,i.next=t.next,t.next=i,i},rwe=function(t,e){var r=pS(t,e);return r&&r.value},iwe=function(t,e,r){var i=pS(t,e);i?i.value=r:t.next={key:e,next:t.next,value:r}},nwe=function(t,e){return!!pS(t,e)};TQ.exports=function(){var e,r,i,n={assert:function(s){if(!n.has(s))throw new $2e("Side channel does not contain "+W2e(s))},get:function(s){if(T2&&s&&(typeof s=="object"||typeof s=="function")){if(e)return Y2e(e,s)}else if(O2){if(r)return Z2e(r,s)}else if(i)return rwe(i,s)},has:function(s){if(T2&&s&&(typeof s=="object"||typeof s=="function")){if(e)return X2e(e,s)}else if(O2){if(r)return twe(r,s)}else if(i)return nwe(i,s);return!1},set:function(s,o){T2&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new T2),J2e(e,s,o)):O2?(r||(r=new O2),ewe(r,s,o)):(i||(i={key:{},next:null}),iwe(i,s,o))}};return n}});var N2=D((Vqe,NQ)=>{"use strict";y();var swe=String.prototype.replace,owe=/%20/g,gS={RFC1738:"RFC1738",RFC3986:"RFC3986"};NQ.exports={default:gS.RFC3986,formatters:{RFC1738:function(t){return swe.call(t,owe,"+")},RFC3986:function(t){return String(t)}},RFC1738:gS.RFC1738,RFC3986:gS.RFC3986}});var yS=D((Kqe,DQ)=>{"use strict";y();var awe=N2(),vS=Object.prototype.hasOwnProperty,sc=Array.isArray,Qs=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),fwe=function(e){for(;e.length>1;){var r=e.pop(),i=r.obj[r.prop];if(sc(i)){for(var n=[],s=0;s<i.length;++s)typeof i[s]<"u"&&n.push(i[s]);r.obj[r.prop]=n}}},BQ=function(e,r){for(var i=r&&r.plainObjects?Object.create(null):{},n=0;n<e.length;++n)typeof e[n]<"u"&&(i[n]=e[n]);return i},uwe=function t(e,r,i){if(!r)return e;if(typeof r!="object"){if(sc(e))e.push(r);else if(e&&typeof e=="object")(i&&(i.plainObjects||i.allowPrototypes)||!vS.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var n=e;return sc(e)&&!sc(r)&&(n=BQ(e,i)),sc(e)&&sc(r)?(r.forEach(function(s,o){if(vS.call(e,o)){var f=e[o];f&&typeof f=="object"&&s&&typeof s=="object"?e[o]=t(f,s,i):e.push(s)}else e[o]=s}),e):Object.keys(r).reduce(function(s,o){var f=r[o];return vS.call(s,o)?s[o]=t(s[o],f,i):s[o]=f,s},n)},cwe=function(e,r){return Object.keys(r).reduce(function(i,n){return i[n]=r[n],i},e)},hwe=function(t,e,r){var i=t.replace(/\+/g," ");if(r==="iso-8859-1")return i.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(i)}catch{return i}},lwe=function(e,r,i,n,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),i==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(E){return"%26%23"+parseInt(E.slice(2),16)+"%3B"});for(var f="",l=0;l<o.length;++l){var b=o.charCodeAt(l);if(b===45||b===46||b===95||b===126||b>=48&&b<=57||b>=65&&b<=90||b>=97&&b<=122||s===awe.RFC1738&&(b===40||b===41)){f+=o.charAt(l);continue}if(b<128){f=f+Qs[b];continue}if(b<2048){f=f+(Qs[192|b>>6]+Qs[128|b&63]);continue}if(b<55296||b>=57344){f=f+(Qs[224|b>>12]+Qs[128|b>>6&63]+Qs[128|b&63]);continue}l+=1,b=65536+((b&1023)<<10|o.charCodeAt(l)&1023),f+=Qs[240|b>>18]+Qs[128|b>>12&63]+Qs[128|b>>6&63]+Qs[128|b&63]}return f},dwe=function(e){for(var r=[{obj:{o:e},prop:"o"}],i=[],n=0;n<r.length;++n)for(var s=r[n],o=s.obj[s.prop],f=Object.keys(o),l=0;l<f.length;++l){var b=f[l],E=o[b];typeof E=="object"&&E!==null&&i.indexOf(E)===-1&&(r.push({obj:o,prop:b}),i.push(E))}return fwe(r),e},pwe=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},gwe=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},vwe=function(e,r){return[].concat(e,r)},ywe=function(e,r){if(sc(e)){for(var i=[],n=0;n<e.length;n+=1)i.push(r(e[n]));return i}return r(e)};DQ.exports={arrayToObject:BQ,assign:cwe,combine:vwe,compact:dwe,decode:hwe,encode:lwe,isBuffer:gwe,isRegExp:pwe,maybeMap:ywe,merge:uwe}});var UQ=D((Qqe,FQ)=>{"use strict";y();var LQ=OQ(),mS=yS(),eg=N2(),mwe=Object.prototype.hasOwnProperty,RQ={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},oc=Array.isArray,bwe=Array.prototype.push,qQ=function(t,e){bwe.apply(t,oc(e)?e:[e])},wwe=Date.prototype.toISOString,PQ=eg.default,ti={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:mS.encode,encodeValuesOnly:!1,format:PQ,formatter:eg.formatters[PQ],indices:!1,serializeDate:function(e){return wwe.call(e)},skipNulls:!1,strictNullHandling:!1},_we=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},xwe=function t(e,r,i,n,s,o,f,l,b,E,C,N,L,R,V){var W=e;if(V.has(e))throw new RangeError("Cyclic object value");if(typeof f=="function"?W=f(r,W):W instanceof Date?W=E(W):i==="comma"&&oc(W)&&(W=mS.maybeMap(W,function(w){return w instanceof Date?E(w):w})),W===null){if(n)return o&&!L?o(r,ti.encoder,R,"key",C):r;W=""}if(_we(W)||mS.isBuffer(W)){if(o){var $=L?r:o(r,ti.encoder,R,"key",C);return[N($)+"="+N(o(W,ti.encoder,R,"value",C))]}return[N(r)+"="+N(String(W))]}var re=[];if(typeof W>"u")return re;var ee;if(i==="comma"&&oc(W))ee=[{value:W.length>0?W.join(",")||null:void 0}];else if(oc(f))ee=f;else{var ie=Object.keys(W);ee=l?ie.sort(l):ie}for(var ne=0;ne<ee.length;++ne){var Z=ee[ne],G=typeof Z=="object"&&Z.value!==void 0?Z.value:W[Z];if(!(s&&G===null)){var Q=oc(W)?typeof i=="function"?i(r,Z):r:r+(b?"."+Z:"["+Z+"]");V.set(e,!0);var P=LQ();qQ(re,t(G,Q,i,n,s,o,f,l,b,E,C,N,L,R,P))}}return re},Ewe=function(e){if(!e)return ti;if(e.encoder!==null&&e.encoder!==void 0&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||ti.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var i=eg.default;if(typeof e.format<"u"){if(!mwe.call(eg.formatters,e.format))throw new TypeError("Unknown format option provided.");i=e.format}var n=eg.formatters[i],s=ti.filter;return(typeof e.filter=="function"||oc(e.filter))&&(s=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:ti.addQueryPrefix,allowDots:typeof e.allowDots>"u"?ti.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:ti.charsetSentinel,delimiter:typeof e.delimiter>"u"?ti.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:ti.encode,encoder:typeof e.encoder=="function"?e.encoder:ti.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:ti.encodeValuesOnly,filter:s,format:i,formatter:n,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:ti.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:ti.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:ti.strictNullHandling}};FQ.exports=function(t,e){var r=t,i=Ewe(e),n,s;typeof i.filter=="function"?(s=i.filter,r=s("",r)):oc(i.filter)&&(s=i.filter,n=s);var o=[];if(typeof r!="object"||r===null)return"";var f;e&&e.arrayFormat in RQ?f=e.arrayFormat:e&&"indices"in e?f=e.indices?"indices":"repeat":f="indices";var l=RQ[f];n||(n=Object.keys(r)),i.sort&&n.sort(i.sort);for(var b=LQ(),E=0;E<n.length;++E){var C=n[E];i.skipNulls&&r[C]===null||qQ(o,xwe(r[C],C,l,i.strictNullHandling,i.skipNulls,i.encode?i.encoder:null,i.filter,i.sort,i.allowDots,i.serializeDate,i.format,i.formatter,i.encodeValuesOnly,i.charset,b))}var N=o.join(i.delimiter),L=i.addQueryPrefix===!0?"?":"";return i.charsetSentinel&&(i.charset==="iso-8859-1"?L+="utf8=%26%2310003%3B&":L+="utf8=%E2%9C%93&"),N.length>0?L+N:""}});var jQ=D(($qe,HQ)=>{"use strict";y();var ud=yS(),bS=Object.prototype.hasOwnProperty,Awe=Array.isArray,Nr={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:ud.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},Swe=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},kQ=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},Iwe="utf8=%26%2310003%3B",Mwe="utf8=%E2%9C%93",Cwe=function(e,r){var i={},n=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=r.parameterLimit===1/0?void 0:r.parameterLimit,o=n.split(r.delimiter,s),f=-1,l,b=r.charset;if(r.charsetSentinel)for(l=0;l<o.length;++l)o[l].indexOf("utf8=")===0&&(o[l]===Mwe?b="utf-8":o[l]===Iwe&&(b="iso-8859-1"),f=l,l=o.length);for(l=0;l<o.length;++l)if(l!==f){var E=o[l],C=E.indexOf("]="),N=C===-1?E.indexOf("="):C+1,L,R;N===-1?(L=r.decoder(E,Nr.decoder,b,"key"),R=r.strictNullHandling?null:""):(L=r.decoder(E.slice(0,N),Nr.decoder,b,"key"),R=ud.maybeMap(kQ(E.slice(N+1),r),function(V){return r.decoder(V,Nr.decoder,b,"value")})),R&&r.interpretNumericEntities&&b==="iso-8859-1"&&(R=Swe(R)),E.indexOf("[]=")>-1&&(R=Awe(R)?[R]:R),bS.call(i,L)?i[L]=ud.combine(i[L],R):i[L]=R}return i},Twe=function(t,e,r,i){for(var n=i?e:kQ(e,r),s=t.length-1;s>=0;--s){var o,f=t[s];if(f==="[]"&&r.parseArrays)o=[].concat(n);else{o=r.plainObjects?Object.create(null):{};var l=f.charAt(0)==="["&&f.charAt(f.length-1)==="]"?f.slice(1,-1):f,b=parseInt(l,10);!r.parseArrays&&l===""?o={0:n}:!isNaN(b)&&f!==l&&String(b)===l&&b>=0&&r.parseArrays&&b<=r.arrayLimit?(o=[],o[b]=n):o[l]=n}n=o}return n},Owe=function(e,r,i,n){if(!!e){var s=i.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,f=/(\[[^[\]]*])/g,l=i.depth>0&&o.exec(s),b=l?s.slice(0,l.index):s,E=[];if(b){if(!i.plainObjects&&bS.call(Object.prototype,b)&&!i.allowPrototypes)return;E.push(b)}for(var C=0;i.depth>0&&(l=f.exec(s))!==null&&C<i.depth;){if(C+=1,!i.plainObjects&&bS.call(Object.prototype,l[1].slice(1,-1))&&!i.allowPrototypes)return;E.push(l[1])}return l&&E.push("["+s.slice(l.index)+"]"),Twe(E,r,i,n)}},Nwe=function(e){if(!e)return Nr;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?Nr.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?Nr.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:Nr.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:Nr.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:Nr.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Nr.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:Nr.comma,decoder:typeof e.decoder=="function"?e.decoder:Nr.decoder,delimiter:typeof e.delimiter=="string"||ud.isRegExp(e.delimiter)?e.delimiter:Nr.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:Nr.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:Nr.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:Nr.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:Nr.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Nr.strictNullHandling}};HQ.exports=function(t,e){var r=Nwe(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var i=typeof t=="string"?Cwe(t,r):t,n=r.plainObjects?Object.create(null):{},s=Object.keys(i),o=0;o<s.length;++o){var f=s[o],l=Owe(f,i[f],r,typeof t=="string");n=ud.merge(n,l,r)}return r.allowSparse===!0?n:ud.compact(n)}});var zQ=D((Jqe,VQ)=>{"use strict";y();var Bwe=UQ(),Dwe=jQ(),Rwe=N2();VQ.exports={formats:Rwe,parse:Dwe,stringify:Bwe}});var wS=D(hr=>{"use strict";y();Object.defineProperty(hr,"__esModule",{value:!0});hr.WALLET_PROVIDER_CALLBACK_PARAM_TX_SIGNED=hr.WALLET_PROVIDER_CALLBACK_PARAM=hr.WALLET_PROVIDER_SIGN_TRANSACTION_URL=hr.WALLET_PROVIDER_SEND_TRANSACTION_URL=hr.WALLET_PROVIDER_DISCONNECT_URL=hr.WALLET_PROVIDER_CONNECT_URL=hr.WALLET_PROVIDER_TESTNET=hr.WALLET_PROVIDER_DEVNET=hr.WALLET_PROVIDER_MAINNET=void 0;hr.WALLET_PROVIDER_MAINNET="https://wallet.elrond.com/dapp/init";hr.WALLET_PROVIDER_DEVNET="https://devnet-wallet.elrond.com/dapp/init";hr.WALLET_PROVIDER_TESTNET="https://testnet-wallet.elrond.com/dapp/init";hr.WALLET_PROVIDER_CONNECT_URL="hook/login";hr.WALLET_PROVIDER_DISCONNECT_URL="hook/logout";hr.WALLET_PROVIDER_SEND_TRANSACTION_URL="hook/transaction";hr.WALLET_PROVIDER_SIGN_TRANSACTION_URL="hook/sign";hr.WALLET_PROVIDER_CALLBACK_PARAM="walletProviderStatus";hr.WALLET_PROVIDER_CALLBACK_PARAM_TX_SIGNED="transactionsSigned"});var KQ=D(cd=>{"use strict";y();Object.defineProperty(cd,"__esModule",{value:!0});cd.ErrInvalidTxSignReturnValue=cd.Err=void 0;var B2=class extends Error{constructor(e,r){super(e),this.inner=void 0,this.inner=r}};cd.Err=B2;var _S=class extends B2{constructor(){super("Invalid response in transaction sign return url")}};cd.ErrInvalidTxSignReturnValue=_S});var GQ=D(D2=>{"use strict";y();Object.defineProperty(D2,"__esModule",{value:!0});D2.PlainSignedTransaction=void 0;var xS=class{constructor(e){this.nonce=0,this.value="",this.receiver="",this.sender="",this.gasPrice=0,this.gasLimit=0,this.data="",this.chainID="",this.version=0,this.options=void 0,this.signature="",Object.assign(this,e)}};D2.PlainSignedTransaction=xS});var $Q=D(nf=>{"use strict";y();var hd=nf&&nf.__awaiter||function(t,e,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function f(E){try{b(i.next(E))}catch(C){o(C)}}function l(E){try{b(i.throw(E))}catch(C){o(C)}}function b(E){E.done?s(E.value):n(E.value).then(f,l)}b((i=i.apply(t,e||[])).next())})},Pwe=nf&&nf.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(nf,"__esModule",{value:!0});nf.WalletProvider=void 0;var QQ=Pwe(zQ()),ld=wS(),WQ=KQ(),Lwe=GQ(),dd=class{constructor(e){this.walletUrl=e}login(e){return hd(this,void 0,void 0,function*(){let r=this.buildWalletUrl({endpoint:ld.WALLET_PROVIDER_CONNECT_URL,callbackUrl:e?.callbackUrl,params:{token:e?.token}});return yield this.redirect(r,e?.redirectDelayMilliseconds),r})}redirect(e,r){return hd(this,void 0,void 0,function*(){r?yield this.redirectLater(e,r):this.redirectImmediately(e)})}redirectImmediately(e){window.location.href=e}redirectLater(e,r){return hd(this,void 0,void 0,function*(){yield new Promise(i=>{setTimeout(()=>{window.location.href=e,i(!0)},r)})})}logout(e){return hd(this,void 0,void 0,function*(){let r=this.buildWalletUrl({endpoint:ld.WALLET_PROVIDER_DISCONNECT_URL,callbackUrl:e?.callbackUrl});return yield this.redirect(r,e?.redirectDelayMilliseconds),!0})}signTransactions(e,r){return hd(this,void 0,void 0,function*(){let i={};e.map(s=>{let o=dd.prepareWalletTransaction(s);for(let f in o)o.hasOwnProperty(f)&&!i.hasOwnProperty(f)&&(i[f]=[]),i[f].push(o[f])});let n=this.buildWalletUrl({endpoint:ld.WALLET_PROVIDER_SIGN_TRANSACTION_URL,callbackUrl:r?.callbackUrl,params:i});window.location.href=n})}signTransaction(e,r){return hd(this,void 0,void 0,function*(){yield this.signTransactions([e],r)})}getTransactionsFromWalletUrl(){let e=QQ.default.parse(window.location.search.slice(1));return dd.isTxSignReturnSuccess(e)?this.getTxSignReturnValue(e):[]}static isTxSignReturnSuccess(e){return e.hasOwnProperty(ld.WALLET_PROVIDER_CALLBACK_PARAM)&&e[ld.WALLET_PROVIDER_CALLBACK_PARAM]===ld.WALLET_PROVIDER_CALLBACK_PARAM_TX_SIGNED}getTxSignReturnValue(e){let r=["nonce","value","receiver","sender","gasPrice","gasLimit","data","chainID","version","signature"];for(let s of r)if(!e[s]||!Array.isArray(e[s]))throw new WQ.ErrInvalidTxSignReturnValue;let i=e.nonce.length;for(let s of r)if(e[s].length!==i)throw new WQ.ErrInvalidTxSignReturnValue;let n=[];for(let s=0;s<i;s++){let o=new Lwe.PlainSignedTransaction(Object.assign(Object.assign({nonce:parseInt(e.nonce[s]),value:e.value[s],receiver:e.receiver[s],sender:e.sender[s],gasPrice:parseInt(e.gasPrice[s]),gasLimit:parseInt(e.gasLimit[s]),data:e.data[s],chainID:e.chainID[s],version:parseInt(e.version[s])},e.options&&e.options[s]?{options:parseInt(e.options[s])}:{}),{signature:e.signature[s]}));n.push(o)}return n}static prepareWalletTransaction(e){let r=e.toPlainObject();return r.data&&(r.data=M.Buffer.from(r.data,"base64").toString()),r}buildWalletUrl(e){let r=e?.callbackUrl||window.location.href,i=QQ.default.stringify(e.params||{}),n=i?`${i}&callbackUrl=${r}`:`callbackUrl=${r}`;return`${this.baseWalletUrl()}/${e.endpoint}?${n}`}baseWalletUrl(){let e=this.walletUrl.split("/"),r=e[0],i=e[2];return r+"//"+i}};nf.WalletProvider=dd});var tg=D(sf=>{"use strict";y();var qwe=sf&&sf.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),YQ=sf&&sf.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&qwe(e,t,r)};Object.defineProperty(sf,"__esModule",{value:!0});YQ($Q(),sf);YQ(wS(),sf)});y();var Fwe=Ve(Aw(),1),fW=Ve(KM(),1),Uwe=Ve(En(),1),kwe=Ve(p1(),1),Hwe=Ve(X3(),1),jwe=Ve(Md(),1),Vwe=Ve(i_(),1),zwe=Ve(jo(),1),uW=Ve(Ad(),1),Kwe=Ve(_d(),1),Gwe=Ve(I3(),1),Qwe=Ve(T9(),1),Wwe=Ve(Cc(),1);y();y();var q9=Ve(f_(),1);y();y();var S1="elvenjs_state",P9="https://devnet-api.elrond.com";var I1="/dapp/init",M1="devnet",L9="https://maiar.page.link/?apn=com.elrond.maiar.wallet&isi=1519405832&ibi=com.elrond.maiar.wallet&link=https://maiar.com/";var C1=["wss://relay.walletconnect.com"],bs={devnet:{id:"devnet",shortId:"D",name:"Devnet",egldLabel:"xEGLD",egldDenomination:"18",decimals:"4",gasPerDataByte:"1500",walletAddress:"https://devnet-wallet.elrond.com",apiAddress:"https://devnet-api.elrond.com",explorerAddress:"https://devnet-explorer.elrond.com",apiTimeout:1e4},testnet:{id:"testnet",shortId:"T",name:"Testnet",egldLabel:"xEGLD",egldDenomination:"18",decimals:"4",gasPerDataByte:"1500",walletAddress:"https://testnet-wallet.elrond.com",apiAddress:"https://testnet-api.elrond.com",explorerAddress:"https://testnet-explorer.elrond.com",apiTimeout:1e4},mainnet:{id:"mainnet",shortId:"1",name:"Mainnet",egldLabel:"EGLD",egldDenomination:"18",decimals:"4",gasPerDataByte:"1500",walletAddress:"https://wallet.elrond.com",apiAddress:"https://api.elrond.com",explorerAddress:"https://explorer.elrond.com",apiTimeout:1e4}};var tt={get(t){let e=localStorage.getItem(S1);if(!e)return{};let r=JSON.parse(e);return t?r[t]:r},set(t,e){let r=this.get();r[t]=e,localStorage.setItem(S1,JSON.stringify(r))},clear(){localStorage.removeItem(S1)}};var T1=()=>st(void 0,null,function*(){let t=q9.ExtensionProvider.getInstance();try{let e=yield t.init(),r=tt.get();if(r!=null&&r.address&&t.setAddress(r.address),!e){console.warn("Something went wrong when trying to initialize the ExtensionProvider..");return}return t}catch(e){console.warn("Can't initialize the Dapp Provider!")}});var sW=Ve(f_(),1),oW=Ve(t2(),1);y();var CK=Ve(t2(),1);y();y();var Et=class{static set(e,r){if(!e)return;let i=IS(sg({},this.events),{[e]:r});this.events=i}static get(e){if(!(!e||!this.events))return this.events[e]}static run(e,r){var i,n;!e||!this.events||(n=(i=this.events)[e])==null||n.call(i,r)}static clear(){this.events=void 0}};var Ql=t=>st(void 0,null,function*(){if(!t.dappProvider)throw new Error("Error: Logout failed: There is no active session!");Et.run("onLoginPending");let e=yield t.dappProvider.logout();return e&&(tt.clear(),Et.run("onLogout")),e});y();var IK=Ve(En(),1),MK=Ve(p1(),1);y();var Ni=t=>typeof t=="string"?t.toUpperCase():t instanceof Error?t.message:`Error: ${JSON.stringify(t)}`;y();var Wl=()=>new Date().setHours(new Date().getHours()+24),r2=t=>Date.now()>t;var Wa=t=>st(void 0,null,function*(){let e=tt.get("address"),r=tt.get("expires");if(!(r&&r2(r))&&e&&t.networkProvider){let n=new IK.Address(e),s=new MK.Account(n);try{let o=yield t.networkProvider.getAccount(n);tt.set("address",e),tt.set("nonce",o.nonce.valueOf()),tt.set("balance",o.balance.toString()),s.update(o)}catch(o){let f=Ni(o);console.warn(`Something went wrong trying to synchronize the user account: ${f}`)}}});y();function i2(t){return t[Math.floor(Math.random()*t.length)]}var TK=t=>st(void 0,null,function*(){if(!t.initOptions.walletConnectV2ProjectId||!t.initOptions.chainType)return;let e={onClientLogin:()=>{Wa(t),Et.run("onLoggedIn")},onClientLogout:()=>Ql(t),onClientEvent:n=>{console.log("wc2 session event: ",n)}},r=i2(C1),i=new CK.WalletConnectProviderV2(e,bs[t.initOptions.chainType].shortId,r,t.initOptions.walletConnectV2ProjectId);try{return yield i.init(),i}catch(n){console.warn("Can't initialize the Dapp Provider!")}});y();y();var Jme=20,Xme=1,Ju=1e6,OK=1e6,Zme=-7,ebe=21,tbe=!1,Lp="[big.js] ",Xu=Lp+"Invalid ",n2=Xu+"decimal places",rbe=Xu+"rounding mode",NK=Lp+"Division by zero",Ct={},zs=void 0,ibe=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function BK(){function t(e){var r=this;if(!(r instanceof t))return e===zs?BK():new t(e);if(e instanceof t)r.s=e.s,r.e=e.e,r.c=e.c.slice();else{if(typeof e!="string"){if(t.strict===!0&&typeof e!="bigint")throw TypeError(Xu+"value");e=e===0&&1/e<0?"-0":String(e)}nbe(r,e)}r.constructor=t}return t.prototype=Ct,t.DP=Jme,t.RM=Xme,t.NE=Zme,t.PE=ebe,t.strict=tbe,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}function nbe(t,e){var r,i,n;if(!ibe.test(e))throw Error(Xu+"number");for(t.s=e.charAt(0)=="-"?(e=e.slice(1),-1):1,(r=e.indexOf("."))>-1&&(e=e.replace(".","")),(i=e.search(/e/i))>0?(r<0&&(r=i),r+=+e.slice(i+1),e=e.substring(0,i)):r<0&&(r=e.length),n=e.length,i=0;i<n&&e.charAt(i)=="0";)++i;if(i==n)t.c=[t.e=0];else{for(;n>0&&e.charAt(--n)=="0";);for(t.e=r-i-1,t.c=[],r=0;i<=n;)t.c[r++]=+e.charAt(i++)}return t}function Zu(t,e,r,i){var n=t.c;if(r===zs&&(r=t.constructor.RM),r!==0&&r!==1&&r!==2&&r!==3)throw Error(rbe);if(e<1)i=r===3&&(i||!!n[0])||e===0&&(r===1&&n[0]>=5||r===2&&(n[0]>5||n[0]===5&&(i||n[1]!==zs))),n.length=1,i?(t.e=t.e-e+1,n[0]=1):n[0]=t.e=0;else if(e<n.length){if(i=r===1&&n[e]>=5||r===2&&(n[e]>5||n[e]===5&&(i||n[e+1]!==zs||n[e-1]&1))||r===3&&(i||!!n[0]),n.length=e,i){for(;++n[--e]>9;)if(n[e]=0,e===0){++t.e,n.unshift(1);break}}for(e=n.length;!n[--e];)n.pop()}return t}function $l(t,e,r){var i=t.e,n=t.c.join(""),s=n.length;if(e)n=n.charAt(0)+(s>1?"."+n.slice(1):"")+(i<0?"e":"e+")+i;else if(i<0){for(;++i;)n="0"+n;n="0."+n}else if(i>0)if(++i>s)for(i-=s;i--;)n+="0";else i<s&&(n=n.slice(0,i)+"."+n.slice(i));else s>1&&(n=n.charAt(0)+"."+n.slice(1));return t.s<0&&r?"-"+n:n}Ct.abs=function(){var t=new this.constructor(this);return t.s=1,t};Ct.cmp=function(t){var e,r=this,i=r.c,n=(t=new r.constructor(t)).c,s=r.s,o=t.s,f=r.e,l=t.e;if(!i[0]||!n[0])return i[0]?s:n[0]?-o:0;if(s!=o)return s;if(e=s<0,f!=l)return f>l^e?1:-1;for(o=(f=i.length)<(l=n.length)?f:l,s=-1;++s<o;)if(i[s]!=n[s])return i[s]>n[s]^e?1:-1;return f==l?0:f>l^e?1:-1};Ct.div=function(t){var e=this,r=e.constructor,i=e.c,n=(t=new r(t)).c,s=e.s==t.s?1:-1,o=r.DP;if(o!==~~o||o<0||o>Ju)throw Error(n2);if(!n[0])throw Error(NK);if(!i[0])return t.s=s,t.c=[t.e=0],t;var f,l,b,E,C,N=n.slice(),L=f=n.length,R=i.length,V=i.slice(0,f),W=V.length,$=t,re=$.c=[],ee=0,ie=o+($.e=e.e-t.e)+1;for($.s=s,s=ie<0?0:ie,N.unshift(0);W++<f;)V.push(0);do{for(b=0;b<10;b++){if(f!=(W=V.length))E=f>W?1:-1;else for(C=-1,E=0;++C<f;)if(n[C]!=V[C]){E=n[C]>V[C]?1:-1;break}if(E<0){for(l=W==f?n:N;W;){if(V[--W]<l[W]){for(C=W;C&&!V[--C];)V[C]=9;--V[C],V[W]+=10}V[W]-=l[W]}for(;!V[0];)V.shift()}else break}re[ee++]=E?b:++b,V[0]&&E?V[W]=i[L]||0:V=[i[L]]}while((L++<R||V[0]!==zs)&&s--);return!re[0]&&ee!=1&&(re.shift(),$.e--,ie--),ee>ie&&Zu($,ie,r.RM,V[0]!==zs),$};Ct.eq=function(t){return this.cmp(t)===0};Ct.gt=function(t){return this.cmp(t)>0};Ct.gte=function(t){return this.cmp(t)>-1};Ct.lt=function(t){return this.cmp(t)<0};Ct.lte=function(t){return this.cmp(t)<1};Ct.minus=Ct.sub=function(t){var e,r,i,n,s=this,o=s.constructor,f=s.s,l=(t=new o(t)).s;if(f!=l)return t.s=-l,s.plus(t);var b=s.c.slice(),E=s.e,C=t.c,N=t.e;if(!b[0]||!C[0])return C[0]?t.s=-l:b[0]?t=new o(s):t.s=1,t;if(f=E-N){for((n=f<0)?(f=-f,i=b):(N=E,i=C),i.reverse(),l=f;l--;)i.push(0);i.reverse()}else for(r=((n=b.length<C.length)?b:C).length,f=l=0;l<r;l++)if(b[l]!=C[l]){n=b[l]<C[l];break}if(n&&(i=b,b=C,C=i,t.s=-t.s),(l=(r=C.length)-(e=b.length))>0)for(;l--;)b[e++]=0;for(l=e;r>f;){if(b[--r]<C[r]){for(e=r;e&&!b[--e];)b[e]=9;--b[e],b[r]+=10}b[r]-=C[r]}for(;b[--l]===0;)b.pop();for(;b[0]===0;)b.shift(),--N;return b[0]||(t.s=1,b=[N=0]),t.c=b,t.e=N,t};Ct.mod=function(t){var e,r=this,i=r.constructor,n=r.s,s=(t=new i(t)).s;if(!t.c[0])throw Error(NK);return r.s=t.s=1,e=t.cmp(r)==1,r.s=n,t.s=s,e?new i(r):(n=i.DP,s=i.RM,i.DP=i.RM=0,r=r.div(t),i.DP=n,i.RM=s,this.minus(r.times(t)))};Ct.neg=function(){var t=new this.constructor(this);return t.s=-t.s,t};Ct.plus=Ct.add=function(t){var e,r,i,n=this,s=n.constructor;if(t=new s(t),n.s!=t.s)return t.s=-t.s,n.minus(t);var o=n.e,f=n.c,l=t.e,b=t.c;if(!f[0]||!b[0])return b[0]||(f[0]?t=new s(n):t.s=n.s),t;if(f=f.slice(),e=o-l){for(e>0?(l=o,i=b):(e=-e,i=f),i.reverse();e--;)i.push(0);i.reverse()}for(f.length-b.length<0&&(i=b,b=f,f=i),e=b.length,r=0;e;f[e]%=10)r=(f[--e]=f[e]+b[e]+r)/10|0;for(r&&(f.unshift(r),++l),e=f.length;f[--e]===0;)f.pop();return t.c=f,t.e=l,t};Ct.pow=function(t){var e=this,r=new e.constructor("1"),i=r,n=t<0;if(t!==~~t||t<-OK||t>OK)throw Error(Xu+"exponent");for(n&&(t=-t);t&1&&(i=i.times(e)),t>>=1,!!t;)e=e.times(e);return n?r.div(i):i};Ct.prec=function(t,e){if(t!==~~t||t<1||t>Ju)throw Error(Xu+"precision");return Zu(new this.constructor(this),t,e)};Ct.round=function(t,e){if(t===zs)t=0;else if(t!==~~t||t<-Ju||t>Ju)throw Error(n2);return Zu(new this.constructor(this),t+this.e+1,e)};Ct.sqrt=function(){var t,e,r,i=this,n=i.constructor,s=i.s,o=i.e,f=new n("0.5");if(!i.c[0])return new n(i);if(s<0)throw Error(Lp+"No square root");s=Math.sqrt(i+""),s===0||s===1/0?(e=i.c.join(""),e.length+o&1||(e+="0"),s=Math.sqrt(e),o=((o+1)/2|0)-(o<0||o&1),t=new n((s==1/0?"5e":(s=s.toExponential()).slice(0,s.indexOf("e")+1))+o)):t=new n(s+""),o=t.e+(n.DP+=4);do r=t,t=f.times(r.plus(i.div(r)));while(r.c.slice(0,o).join("")!==t.c.slice(0,o).join(""));return Zu(t,(n.DP-=4)+t.e+1,n.RM)};Ct.times=Ct.mul=function(t){var e,r=this,i=r.constructor,n=r.c,s=(t=new i(t)).c,o=n.length,f=s.length,l=r.e,b=t.e;if(t.s=r.s==t.s?1:-1,!n[0]||!s[0])return t.c=[t.e=0],t;for(t.e=l+b,o<f&&(e=n,n=s,s=e,b=o,o=f,f=b),e=new Array(b=o+f);b--;)e[b]=0;for(l=f;l--;){for(f=0,b=o+l;b>l;)f=e[b]+s[l]*n[b-l-1]+f,e[b--]=f%10,f=f/10|0;e[b]=f}for(f?++t.e:e.shift(),l=e.length;!e[--l];)e.pop();return t.c=e,t};Ct.toExponential=function(t,e){var r=this,i=r.c[0];if(t!==zs){if(t!==~~t||t<0||t>Ju)throw Error(n2);for(r=Zu(new r.constructor(r),++t,e);r.c.length<t;)r.c.push(0)}return $l(r,!0,!!i)};Ct.toFixed=function(t,e){var r=this,i=r.c[0];if(t!==zs){if(t!==~~t||t<0||t>Ju)throw Error(n2);for(r=Zu(new r.constructor(r),t+r.e+1,e),t=t+r.e+1;r.c.length<t;)r.c.push(0)}return $l(r,!1,!!i)};Ct[Symbol.for("nodejs.util.inspect.custom")]=Ct.toJSON=Ct.toString=function(){var t=this,e=t.constructor;return $l(t,t.e<=e.NE||t.e>=e.PE,!!t.c[0])};Ct.toNumber=function(){var t=Number($l(this,!0,!0));if(this.constructor.strict===!0&&!this.eq(t.toString()))throw Error(Lp+"Imprecise conversion");return t};Ct.toPrecision=function(t,e){var r=this,i=r.constructor,n=r.c[0];if(t!==zs){if(t!==~~t||t<1||t>Ju)throw Error(Xu+"precision");for(r=Zu(new i(r),t,e);r.c.length<t;)r.c.push(0)}return $l(r,t<=r.e||r.e<=i.NE||r.e>=i.PE,!!n)};Ct.valueOf=function(){var t=this,e=t.constructor;if(e.strict===!0)throw Error(Lp+"valueOf disallowed");return $l(t,t.e<=e.NE||t.e>=e.PE,!0)};var sbe=BK(),DK=sbe;var l2=Ve(En(),1),YK=Ve(RK(),1),JK=Ve(UK(),1),XK=Ve(T5(),1),ZK=Ve(KK(),1),eG=Ve(QK(),1),tG=Ve(WK(),1),rG=Ve($K(),1),iG=Ve(mi(),1);var d2=class{constructor({apiUrl:e,chainType:r,apiTimeout:i}){var n,s;this.chainType=r||M1,this.apiUrl=e||((n=bs[this.chainType])==null?void 0:n.apiAddress),this.apiTimeout=i||((s=bs[this.chainType])==null?void 0:s.apiTimeout)}apiGet(e,r){return st(this,null,function*(){if(typeof fetch!="undefined"){let i=new AbortController,n=setTimeout(()=>i.abort(),this.apiTimeout),s={method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"},signal:i.signal};try{let o=yield fetch(this.apiUrl+"/"+e,Object.assign(s,r||{})),f=yield o.json();if(!o.ok){let l=(f==null?void 0:f.error)||o.status;return clearTimeout(n),Promise.reject(l)}return clearTimeout(n),f}catch(o){this.handleApiError(o,e)}}})}apiPost(e,r,i){return st(this,null,function*(){if(typeof fetch!="undefined"){let n=new AbortController,s=setTimeout(()=>n.abort(),this.apiTimeout),o={method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(r||{}),signal:n.signal};try{let f=yield fetch(this.apiUrl+"/"+e,Object.assign(o,i||{})),l=yield f.json();if(!f.ok){let b=(l==null?void 0:l.error)||f.status;return clearTimeout(s),Promise.reject(b)}return clearTimeout(s),l}catch(f){this.handleApiError(f,e)}}})}handleApiError(e,r){if(!e.response)throw new Error(`Request error on url [${r}]: [${e.toString()}]`);let i=e.response.data,n=i.error||i.message||JSON.stringify(i);throw new Error(n)}sendTransaction(e){return st(this,null,function*(){return(yield this.apiPost("transactions",e.toSendable())).txHash})}getAccount(e){return st(this,null,function*(){let r=yield this.apiGet(`accounts/${e.bech32()}`);return{address:new l2.Address((r==null?void 0:r.address)||""),nonce:Number((r==null?void 0:r.nonce)||0),balance:new DK((r==null?void 0:r.balance)||0),code:(r==null?void 0:r.code)||"",userName:(r==null?void 0:r.username)||""}})}getTransaction(e){return st(this,null,function*(){let r=yield this.apiGet(`transactions/${e}`),i=new YK.TransactionStatus(r.status);return{hash:e,type:r.type||"",nonce:r.nonce||0,round:r.round,epoch:r.epoch||0,value:(r.value||0).toString(),sender:new l2.Address(r.sender),receiver:new l2.Address(r.receiver),gasPrice:r.gasPrice||0,gasLimit:r.gasLimit||0,data:iG.Buffer.from(r.data||"","base64"),status:i,timestamp:r.timestamp||0,blockNonce:r.blockNonce||0,hyperblockNonce:r.hyperblockNonce||0,hyperblockHash:r.hyperblockHash||"",receipt:JK.TransactionReceipt.fromHttpResponse(r.receipt||{}),logs:XK.TransactionLogs.fromHttpResponse(r.logs||{}),contractResults:ZK.ContractResults.fromApiHttpResponse(r.results||[]),isCompleted:!i.isPending()}})}queryContract(o){return st(this,arguments,function*({address:e,func:r,args:i,value:n,caller:s}){try{let f=new rG.Query({address:e,func:r,args:i,value:n,caller:s}),l=new tG.ContractQueryRequest(f).toHttpRequest(),b=yield this.apiPost("query",l);return eG.ContractQueryResponse.fromHttpResponse(b)}catch(f){this.handleApiError(f,"query")}})}};y();var ec=(n=>(n.ledger="ledger",n.maiarMobile="maiar-mobile",n.webWallet="web-wallet",n.maiarBrowserExtension="maiar-browser-extension",n))(ec||{});y();var nG=(t,e)=>st(void 0,null,function*(){let r=yield T1();try{r&&(yield r.login())}catch(n){let s=Ni(n);console.warn(`Something went wrong trying to login the user: ${s}`)}if(!r)throw new Error("Error: There were problems with auth provider initialization!");let{signature:i}=r.account;if(e&&tt.set("loginToken",e),i&&tt.set("signature",i),t.networkProvider)try{let n=yield r.getAddress();if(!n)throw new Error("Canceled!");return Et.run("onLoginPending"),tt.set("address",n),tt.set("loginMethod","maiar-browser-extension"),tt.set("expires",Wl()),yield Wa(t),Et.run("onLoggedIn"),r}catch(n){console.warn(`Something went wrong trying to synchronize the user account: ${n==null?void 0:n.message}`)}});y();y();var aQ=Ve(oQ(),1);var g2e=t=>{var r;let e=document.createElement("template");return e.innerHTML=t.trim(),(r=e.content.firstChild)==null?void 0:r.cloneNode(!0)},v2e=t=>{let e=`${L9}?wallet-connect=${encodeURIComponent(t)}`,r=document.createElement("a");return r.setAttribute("href",e),r.setAttribute("rel","noopener noreferrer nofollow"),r.setAttribute("target","_blank"),r.textContent="Maiar login",r.classList.add("elven-qr-code-deep-link"),r},y2e=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),m2e=t=>st(void 0,null,function*(){return t?yield aQ.default.toString(t,{type:"svg"}):void 0}),fQ=(t,e)=>st(void 0,null,function*(){if(!t)throw new Error("Please provide the QR Code container id!");let r=yield m2e(e),i=null;typeof t=="string"?i=document.getElementById(t):t instanceof HTMLElement&&(i=t);let n;return r&&(n=g2e(r)),i&&n&&(i.appendChild(n),y2e()&&i.appendChild(v2e(e))),i});var S2=Ve(t2(),1);var uQ=(t,e,r)=>st(void 0,null,function*(){if(!e)throw new Error("You haven't provided the QR code container DOM element id");let i=i2(C1);if(!i||!t.networkProvider)throw new Error("Something wen't wrong with the initialization (ApiNetworkProvider or Wallet Connect Bridge address), plese try to refresh the page!");if(!t.initOptions.walletConnectV2ProjectId)throw new Error("Please provide your WalletConnect project id. You can get it here: https://cloud.walletconnect.com)");if(!t.initOptions.chainType)throw new Error("Please provide the chain type in ElvenJS.init function!");let n,s={onClientLogin:()=>st(void 0,null,function*(){if(console.log("elven.dappProvider: ",t.dappProvider),t.dappProvider instanceof S2.WalletConnectProviderV2){Et.run("onLoginPending");let f=yield t.dappProvider.getAddress(),l=yield t.dappProvider.getSignature();tt.set("address",f),tt.set("loginMethod","maiar-mobile"),tt.set("expires",Wl()),yield Wa(t),l&&tt.set("signature",l),r&&tt.set("loginToken",r),Et.run("onLoggedIn"),n==null||n.replaceChildren()}}),onClientLogout:()=>st(void 0,null,function*(){t.dappProvider instanceof S2.WalletConnectProviderV2&&(yield Ql(t),Et.run("onLogout"))}),onClientEvent:f=>{console.log("wc2 session event: ",f)}},o=new S2.WalletConnectProviderV2(s,bs[t.initOptions.chainType].shortId,i,t.initOptions.walletConnectV2ProjectId);try{if(o){t.dappProvider=o;let{uri:f,approval:l}=yield o.connect({methods:["erd_cancelAction"]}),b=r?`${f}&token=${r}`:f;return e&&f&&b&&(n=yield fQ(e,b)),yield o.login({approval:l,token:r}),o}}catch(f){let l=Ni(f);console.warn(`Something went wrong trying to login the user: ${l}`)}});y();var JQ=Ve(tg(),1);var XQ=(t,e,r)=>st(void 0,null,function*(){let i=new JQ.WalletProvider(`${t}${I1}`),n=typeof window!="undefined"?encodeURIComponent(`${window.location.origin}${e||"/"}`):"/",s=sg({callbackUrl:n},r?{token:r}:{});try{return Et.run("onLoginPending"),tt.set("loginMethod","web-wallet"),yield i.login(s),tt.set("expires",Wl()),r&&tt.set("loginToken",r),i}catch(o){let f=Ni(o);console.warn(`Something went wrong trying to login the user: ${f}`),tt.set("loginMethod","")}});y();var ac=t=>{if(typeof window!="undefined"){let e=new URL(window.location.href);return new URLSearchParams(e.search).get(t)}};y();var ZQ=Ve(tg(),1);var eW=t=>st(void 0,null,function*(){let e=ac("signature"),r=ac("address"),i=tt.get("address");if(e&&tt.set("signature",e),r||i)return r&&(tt.set("address",r),window.history.replaceState(null,"",window.location.pathname)),new ZQ.WalletProvider(`${t}${I1}`)});y();var tW=Ve(p1(),1),rW=Ve(i_(),1);var R2=(t,e)=>st(void 0,null,function*(){yield new rW.TransactionWatcher(e).awaitCompleted(t);let i=t.getSender(),n=new tW.Account(i),s=yield e.getAccount(i);n.update(s),tt.set("address",n.address.bech32()),tt.set("nonce",n.getNonceThenIncrement().valueOf()),tt.set("balance",n.balance.toString()),Et.run("onTxFinalized",t)});y();var P2=Ve(tg(),1),iW=Ve(X3(),1);var nW=(t,e,r)=>st(void 0,null,function*(){if(ac(P2.WALLET_PROVIDER_CALLBACK_PARAM)===P2.WALLET_PROVIDER_CALLBACK_PARAM_TX_SIGNED&&t&&e&&"getTransactionsFromWalletUrl"in t){let n=t.getTransactionsFromWalletUrl();window.history.replaceState(null,"",window.location.pathname);let s=n==null?void 0:n[0];if(s){s.data=M.Buffer.from(s.data).toString("base64");let o=iW.Transaction.fromPlainObject(s);o.setNonce(r);try{Et.run("onTxStarted",o),yield e.sendTransaction(o),yield R2(o,e)}catch(f){let l=Ni(f);throw Et.run("onTxFinalized",o),new Error(`Error: Transaction signing failed! ${l}`)}}}});var aW=Ve(tg(),1);var ig=class{static init(e){return st(this,null,function*(){let r=tt.get();if(r.expires&&r2(r.expires)){tt.clear(),this.dappProvider=void 0;return}this.initOptions=e||{chainType:M1,apiUrl:P9},this.networkProvider=new d2(this.initOptions),this.initOptions.onLoginPending&&Et.set("onLoginPending",this.initOptions.onLoginPending),this.initOptions.onLoggedIn&&Et.set("onLoggedIn",this.initOptions.onLoggedIn),this.initOptions.onLogout&&Et.set("onLogout",this.initOptions.onLogout),this.initOptions.onTxStarted&&Et.set("onTxStarted",this.initOptions.onTxStarted),this.initOptions.onTxFinalized&&Et.set("onTxFinalized",this.initOptions.onTxFinalized),((r==null?void 0:r.address)||r.loginMethod==="web-wallet"&&ac("address"))&&(r==null?void 0:r.loginMethod)&&(Et.run("onLoginPending"),r.loginMethod==="maiar-browser-extension"&&(this.dappProvider=yield T1()),r.loginMethod==="maiar-mobile"&&(this.dappProvider=yield TK(this)),r.loginMethod==="web-wallet"&&(this.dappProvider=yield eW(bs[this.initOptions.chainType].walletAddress)),yield Wa(this),Et.run("onLoggedIn"),r.loginMethod==="web-wallet"&&(yield nW(this.dappProvider,this.networkProvider,r.nonce)))})}static login(e,r){return st(this,null,function*(){if(!Object.values(ec).includes(e))throw new Error("Error: Wrong login method!");if(!this.networkProvider)throw new Error("Error: Login failed: Use ElvenJs.init() first!");try{if(e==="maiar-browser-extension"){let n=yield nG(this,r==null?void 0:r.token);this.dappProvider=n}if(e==="maiar-mobile"){let n=yield uQ(this,r==null?void 0:r.qrCodeContainer,r==null?void 0:r.token);this.dappProvider=n}if(e==="web-wallet"&&this.initOptions){let n=yield XQ(bs[this.initOptions.chainType].walletAddress,r==null?void 0:r.callbackRoute,r==null?void 0:r.token);this.dappProvider=n}}catch(n){let s=Ni(n);throw new Error(`Error: ${s}`)}})}static logout(){return st(this,null,function*(){let e=yield Ql(this);return this.dappProvider=void 0,e})}static signAndSendTransaction(e){return st(this,null,function*(){if(!this.dappProvider)throw new Error("Error: Transaction signing failed: There is no active session!");if(!this.networkProvider)throw new Error("Error: Transaction signing failed: There is no active network provider!");try{Et.run("onTxStarted",e);let r=tt.get();e.setNonce(r.nonce),this.dappProvider instanceof sW.ExtensionProvider&&(yield this.dappProvider.signTransaction(e)),this.dappProvider instanceof oW.WalletConnectProviderV2&&(console.log("in sign"),yield this.dappProvider.signTransaction(e),console.log("after sign")),this.dappProvider instanceof aW.WalletProvider&&(yield this.dappProvider.signTransaction(e)),r.loginMethod!=="web-wallet"&&(console.log("in send"),yield this.networkProvider.sendTransaction(e),console.log("sent"),yield R2(e,this.networkProvider))}catch(r){let i=Ni(r);throw Et.run("onTxFinalized",e),new Error(`Error: Transaction signing failed! ${i}`)}return e})}static queryContract(o){return st(this,arguments,function*({address:e,func:r,args:i=[],value:n=0,caller:s}){if(!this.networkProvider)throw new Error("Error: Query failed: There is no active network provider!");if(!e||!r)throw new Error("Error: Query failed: The Query arguments are not valid! Address and func required");try{return yield this.networkProvider.queryContract({address:e,func:r,args:i,value:n,caller:s})}catch(f){let l=Ni(f);throw new Error(`Error: Smart contract query failed! ${l}`)}})}},rg=ig;rg.storage=tt,rg.destroy=()=>{ig.networkProvider=void 0,ig.dappProvider=void 0,ig.initOptions=void 0,Et.clear()};var export_Account=kwe.Account;var export_Address=Uwe.Address;var export_AddressValue=Wwe.AddressValue;var export_BigUIntValue=uW.BigUIntValue;var export_BooleanValue=Kwe.BooleanValue;var export_BytesValue=zwe.BytesValue;var export_ContractCallPayloadBuilder=Gwe.ContractCallPayloadBuilder;var export_ContractFunction=Qwe.ContractFunction;var export_ESDTNFTTransferPayloadBuilder=fW.ESDTNFTTransferPayloadBuilder;var export_ESDTTransferPayloadBuilder=fW.ESDTTransferPayloadBuilder;var export_TokenPayment=Fwe.TokenPayment;var export_Transaction=Hwe.Transaction;var export_TransactionPayload=jwe.TransactionPayload;var export_TransactionWatcher=Vwe.TransactionWatcher;var export_U32Value=uW.U32Value;export{export_Account as Account,export_Address as Address,export_AddressValue as AddressValue,export_BigUIntValue as BigUIntValue,export_BooleanValue as BooleanValue,export_BytesValue as BytesValue,export_ContractCallPayloadBuilder as ContractCallPayloadBuilder,export_ContractFunction as ContractFunction,export_ESDTNFTTransferPayloadBuilder as ESDTNFTTransferPayloadBuilder,export_ESDTTransferPayloadBuilder as ESDTTransferPayloadBuilder,rg as ElvenJS,ec as LoginMethodsEnum,export_TokenPayment as TokenPayment,export_Transaction as Transaction,export_TransactionPayload as TransactionPayload,export_TransactionWatcher as TransactionWatcher,export_U32Value as U32Value};
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
/*! https://mths.be/punycode v1.4.1 by @mathias */
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */
