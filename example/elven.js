var kR=Object.create;var uc=Object.defineProperty,KR=Object.defineProperties,zR=Object.getOwnPropertyDescriptor,WR=Object.getOwnPropertyDescriptors,$R=Object.getOwnPropertyNames,P_=Object.getOwnPropertySymbols,YR=Object.getPrototypeOf,R_=Object.prototype.hasOwnProperty,JR=Object.prototype.propertyIsEnumerable;var B_=(t,e,r)=>e in t?uc(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Do=(t,e)=>{for(var r in e||={})R_.call(e,r)&&B_(t,r,e[r]);if(P_)for(var r of P_(e))JR.call(e,r)&&B_(t,r,e[r]);return t},L_=(t,e)=>KR(t,WR(e));var F_=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,r)=>(typeof require<"u"?require:e)[r]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+t+'" is not supported')});var ge=(t,e)=>()=>(t&&(e=t(t=0)),e);var v=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),at=(t,e)=>{for(var r in e)uc(t,r,{get:e[r],enumerable:!0})},lf=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of $R(e))!R_.call(t,i)&&i!==r&&uc(t,i,{get:()=>e[i],enumerable:!(n=zR(e,i))||n.enumerable});return t},Lt=(t,e,r)=>(lf(t,e,"default"),r&&lf(r,e,"default")),be=(t,e,r)=>(r=t!=null?kR(YR(t)):{},lf(e||!t||!t.__esModule?uc(r,"default",{value:t,enumerable:!0}):r,t)),nt=t=>lf(uc({},"__esModule",{value:!0}),t);var Ce=(t,e,r)=>new Promise((n,i)=>{var s=u=>{try{a(r.next(u))}catch(l){i(l)}},o=u=>{try{a(r.throw(u))}catch(l){i(l)}},a=u=>u.done?n(u.value):Promise.resolve(u.value).then(s,o);a((r=r.apply(t,e)).next())});var q0=v(ff=>{"use strict";c();ff.byteLength=ZR;ff.toByteArray=tL;ff.fromByteArray=iL;var Gr=[],lr=[],XR=typeof Uint8Array<"u"?Uint8Array:Array,U0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(ls=0,M_=U0.length;ls<M_;++ls)Gr[ls]=U0[ls],lr[U0.charCodeAt(ls)]=ls;var ls,M_;lr["-".charCodeAt(0)]=62;lr["_".charCodeAt(0)]=63;function U_(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function ZR(t){var e=U_(t),r=e[0],n=e[1];return(r+n)*3/4-n}function eL(t,e,r){return(e+r)*3/4-r}function tL(t){var e,r=U_(t),n=r[0],i=r[1],s=new XR(eL(t,n,i)),o=0,a=i>0?n-4:n,u;for(u=0;u<a;u+=4)e=lr[t.charCodeAt(u)]<<18|lr[t.charCodeAt(u+1)]<<12|lr[t.charCodeAt(u+2)]<<6|lr[t.charCodeAt(u+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return i===2&&(e=lr[t.charCodeAt(u)]<<2|lr[t.charCodeAt(u+1)]>>4,s[o++]=e&255),i===1&&(e=lr[t.charCodeAt(u)]<<10|lr[t.charCodeAt(u+1)]<<4|lr[t.charCodeAt(u+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function rL(t){return Gr[t>>18&63]+Gr[t>>12&63]+Gr[t>>6&63]+Gr[t&63]}function nL(t,e,r){for(var n,i=[],s=e;s<r;s+=3)n=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),i.push(rL(n));return i.join("")}function iL(t){for(var e,r=t.length,n=r%3,i=[],s=16383,o=0,a=r-n;o<a;o+=s)i.push(nL(t,o,o+s>a?a:o+s));return n===1?(e=t[r-1],i.push(Gr[e>>2]+Gr[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],i.push(Gr[e>>10]+Gr[e>>4&63]+Gr[e<<2&63]+"=")),i.join("")}});var H0=v(V0=>{c();V0.read=function(t,e,r,n,i){var s,o,a=i*8-n-1,u=(1<<a)-1,l=u>>1,f=-7,d=r?i-1:0,y=r?-1:1,w=t[e+d];for(d+=y,s=w&(1<<-f)-1,w>>=-f,f+=a;f>0;s=s*256+t[e+d],d+=y,f-=8);for(o=s&(1<<-f)-1,s>>=-f,f+=n;f>0;o=o*256+t[e+d],d+=y,f-=8);if(s===0)s=1-l;else{if(s===u)return o?NaN:(w?-1:1)*(1/0);o=o+Math.pow(2,n),s=s-l}return(w?-1:1)*o*Math.pow(2,s-n)};V0.write=function(t,e,r,n,i,s){var o,a,u,l=s*8-i-1,f=(1<<l)-1,d=f>>1,y=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,w=n?0:s-1,E=n?1:-1,T=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=f):(o=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-o))<1&&(o--,u*=2),o+d>=1?e+=y/u:e+=y*Math.pow(2,1-d),e*u>=2&&(o++,u/=2),o+d>=f?(a=0,o=f):o+d>=1?(a=(e*u-1)*Math.pow(2,i),o=o+d):(a=e*Math.pow(2,d-1)*Math.pow(2,i),o=0));i>=8;t[r+w]=a&255,w+=E,a/=256,i-=8);for(o=o<<i|a,l+=i;l>0;t[r+w]=o&255,w+=E,o/=256,l-=8);t[r+w-E]|=T*128}});var J_=v(Po=>{"use strict";c();var j0=q0(),Oo=H0(),q_=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Po.Buffer=W;Po.SlowBuffer=lL;Po.INSPECT_MAX_BYTES=50;var hf=2147483647;Po.kMaxLength=hf;W.TYPED_ARRAY_SUPPORT=sL();!W.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function sL(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch{return!1}}Object.defineProperty(W.prototype,"parent",{enumerable:!0,get:function(){if(W.isBuffer(this))return this.buffer}});Object.defineProperty(W.prototype,"offset",{enumerable:!0,get:function(){if(W.isBuffer(this))return this.byteOffset}});function On(t){if(t>hf)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return Object.setPrototypeOf(e,W.prototype),e}function W(t,e,r){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return K0(t)}return j_(t,e,r)}W.poolSize=8192;function j_(t,e,r){if(typeof t=="string")return aL(t,e);if(ArrayBuffer.isView(t))return uL(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(Qr(t,ArrayBuffer)||t&&Qr(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Qr(t,SharedArrayBuffer)||t&&Qr(t.buffer,SharedArrayBuffer)))return Q0(t,e,r);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var n=t.valueOf&&t.valueOf();if(n!=null&&n!==t)return W.from(n,e,r);var i=cL(t);if(i)return i;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return W.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}W.from=function(t,e,r){return j_(t,e,r)};Object.setPrototypeOf(W.prototype,Uint8Array.prototype);Object.setPrototypeOf(W,Uint8Array);function G_(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function oL(t,e,r){return G_(t),t<=0?On(t):e!==void 0?typeof r=="string"?On(t).fill(e,r):On(t).fill(e):On(t)}W.alloc=function(t,e,r){return oL(t,e,r)};function K0(t){return G_(t),On(t<0?0:z0(t)|0)}W.allocUnsafe=function(t){return K0(t)};W.allocUnsafeSlow=function(t){return K0(t)};function aL(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!W.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var r=Q_(t,e)|0,n=On(r),i=n.write(t,e);return i!==r&&(n=n.slice(0,i)),n}function G0(t){for(var e=t.length<0?0:z0(t.length)|0,r=On(e),n=0;n<e;n+=1)r[n]=t[n]&255;return r}function uL(t){if(Qr(t,Uint8Array)){var e=new Uint8Array(t);return Q0(e.buffer,e.byteOffset,e.byteLength)}return G0(t)}function Q0(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return e===void 0&&r===void 0?n=new Uint8Array(t):r===void 0?n=new Uint8Array(t,e):n=new Uint8Array(t,e,r),Object.setPrototypeOf(n,W.prototype),n}function cL(t){if(W.isBuffer(t)){var e=z0(t.length)|0,r=On(e);return r.length===0||t.copy(r,0,0,e),r}if(t.length!==void 0)return typeof t.length!="number"||W0(t.length)?On(0):G0(t);if(t.type==="Buffer"&&Array.isArray(t.data))return G0(t.data)}function z0(t){if(t>=hf)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+hf.toString(16)+" bytes");return t|0}function lL(t){return+t!=t&&(t=0),W.alloc(+t)}W.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==W.prototype};W.compare=function(e,r){if(Qr(e,Uint8Array)&&(e=W.from(e,e.offset,e.byteLength)),Qr(r,Uint8Array)&&(r=W.from(r,r.offset,r.byteLength)),!W.isBuffer(e)||!W.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===r)return 0;for(var n=e.length,i=r.length,s=0,o=Math.min(n,i);s<o;++s)if(e[s]!==r[s]){n=e[s],i=r[s];break}return n<i?-1:i<n?1:0};W.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};W.concat=function(e,r){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return W.alloc(0);var n;if(r===void 0)for(r=0,n=0;n<e.length;++n)r+=e[n].length;var i=W.allocUnsafe(r),s=0;for(n=0;n<e.length;++n){var o=e[n];if(Qr(o,Uint8Array))s+o.length>i.length?W.from(o).copy(i,s):Uint8Array.prototype.set.call(i,o,s);else if(W.isBuffer(o))o.copy(i,s);else throw new TypeError('"list" argument must be an Array of Buffers');s+=o.length}return i};function Q_(t,e){if(W.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||Qr(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var r=t.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&r===0)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return k0(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return Y_(t).length;default:if(i)return n?-1:k0(t).length;e=(""+e).toLowerCase(),i=!0}}W.byteLength=Q_;function fL(t,e,r){var n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,e>>>=0,r<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return AL(this,e,r);case"utf8":case"utf-8":return K_(this,e,r);case"ascii":return EL(this,e,r);case"latin1":case"binary":return vL(this,e,r);case"base64":return mL(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _L(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}W.prototype._isBuffer=!0;function fs(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}W.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<e;r+=2)fs(this,r,r+1);return this};W.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<e;r+=4)fs(this,r,r+3),fs(this,r+1,r+2);return this};W.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<e;r+=8)fs(this,r,r+7),fs(this,r+1,r+6),fs(this,r+2,r+5),fs(this,r+3,r+4);return this};W.prototype.toString=function(){var e=this.length;return e===0?"":arguments.length===0?K_(this,0,e):fL.apply(this,arguments)};W.prototype.toLocaleString=W.prototype.toString;W.prototype.equals=function(e){if(!W.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:W.compare(this,e)===0};W.prototype.inspect=function(){var e="",r=Po.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"};q_&&(W.prototype[q_]=W.prototype.inspect);W.prototype.compare=function(e,r,n,i,s){if(Qr(e,Uint8Array)&&(e=W.from(e,e.offset,e.byteLength)),!W.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(r===void 0&&(r=0),n===void 0&&(n=e?e.length:0),i===void 0&&(i=0),s===void 0&&(s=this.length),r<0||n>e.length||i<0||s>this.length)throw new RangeError("out of range index");if(i>=s&&r>=n)return 0;if(i>=s)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,i>>>=0,s>>>=0,this===e)return 0;for(var o=s-i,a=n-r,u=Math.min(o,a),l=this.slice(i,s),f=e.slice(r,n),d=0;d<u;++d)if(l[d]!==f[d]){o=l[d],a=f[d];break}return o<a?-1:a<o?1:0};function k_(t,e,r,n,i){if(t.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,W0(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0)if(i)r=0;else return-1;if(typeof e=="string"&&(e=W.from(e,n)),W.isBuffer(e))return e.length===0?-1:V_(t,e,r,n,i);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):V_(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function V_(t,e,r,n,i){var s=1,o=t.length,a=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(t.length<2||e.length<2)return-1;s=2,o/=2,a/=2,r/=2}function u(w,E){return s===1?w[E]:w.readUInt16BE(E*s)}var l;if(i){var f=-1;for(l=r;l<o;l++)if(u(t,l)===u(e,f===-1?0:l-f)){if(f===-1&&(f=l),l-f+1===a)return f*s}else f!==-1&&(l-=l-f),f=-1}else for(r+a>o&&(r=o-a),l=r;l>=0;l--){for(var d=!0,y=0;y<a;y++)if(u(t,l+y)!==u(e,y)){d=!1;break}if(d)return l}return-1}W.prototype.includes=function(e,r,n){return this.indexOf(e,r,n)!==-1};W.prototype.indexOf=function(e,r,n){return k_(this,e,r,n,!0)};W.prototype.lastIndexOf=function(e,r,n){return k_(this,e,r,n,!1)};function hL(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;var s=e.length;n>s/2&&(n=s/2);for(var o=0;o<n;++o){var a=parseInt(e.substr(o*2,2),16);if(W0(a))return o;t[r+o]=a}return o}function dL(t,e,r,n){return df(k0(e,t.length-r),t,r,n)}function pL(t,e,r,n){return df(SL(e),t,r,n)}function gL(t,e,r,n){return df(Y_(e),t,r,n)}function yL(t,e,r,n){return df(CL(e,t.length-r),t,r,n)}W.prototype.write=function(e,r,n,i){if(r===void 0)i="utf8",n=this.length,r=0;else if(n===void 0&&typeof r=="string")i=r,n=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(n)?(n=n>>>0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var s=this.length-r;if((n===void 0||n>s)&&(n=s),e.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return hL(this,e,r,n);case"utf8":case"utf-8":return dL(this,e,r,n);case"ascii":case"latin1":case"binary":return pL(this,e,r,n);case"base64":return gL(this,e,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return yL(this,e,r,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}};W.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function mL(t,e,r){return e===0&&r===t.length?j0.fromByteArray(t):j0.fromByteArray(t.slice(e,r))}function K_(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var s=t[i],o=null,a=s>239?4:s>223?3:s>191?2:1;if(i+a<=r){var u,l,f,d;switch(a){case 1:s<128&&(o=s);break;case 2:u=t[i+1],(u&192)===128&&(d=(s&31)<<6|u&63,d>127&&(o=d));break;case 3:u=t[i+1],l=t[i+2],(u&192)===128&&(l&192)===128&&(d=(s&15)<<12|(u&63)<<6|l&63,d>2047&&(d<55296||d>57343)&&(o=d));break;case 4:u=t[i+1],l=t[i+2],f=t[i+3],(u&192)===128&&(l&192)===128&&(f&192)===128&&(d=(s&15)<<18|(u&63)<<12|(l&63)<<6|f&63,d>65535&&d<1114112&&(o=d))}}o===null?(o=65533,a=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|o&1023),n.push(o),i+=a}return wL(n)}var H_=4096;function wL(t){var e=t.length;if(e<=H_)return String.fromCharCode.apply(String,t);for(var r="",n=0;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=H_));return r}function EL(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]&127);return n}function vL(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function AL(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",s=e;s<r;++s)i+=TL[t[s]];return i}function _L(t,e,r){for(var n=t.slice(e,r),i="",s=0;s<n.length-1;s+=2)i+=String.fromCharCode(n[s]+n[s+1]*256);return i}W.prototype.slice=function(e,r){var n=this.length;e=~~e,r=r===void 0?n:~~r,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<e&&(r=e);var i=this.subarray(e,r);return Object.setPrototypeOf(i,W.prototype),i};function Ct(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}W.prototype.readUintLE=W.prototype.readUIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||Ct(e,r,this.length);for(var i=this[e],s=1,o=0;++o<r&&(s*=256);)i+=this[e+o]*s;return i};W.prototype.readUintBE=W.prototype.readUIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||Ct(e,r,this.length);for(var i=this[e+--r],s=1;r>0&&(s*=256);)i+=this[e+--r]*s;return i};W.prototype.readUint8=W.prototype.readUInt8=function(e,r){return e=e>>>0,r||Ct(e,1,this.length),this[e]};W.prototype.readUint16LE=W.prototype.readUInt16LE=function(e,r){return e=e>>>0,r||Ct(e,2,this.length),this[e]|this[e+1]<<8};W.prototype.readUint16BE=W.prototype.readUInt16BE=function(e,r){return e=e>>>0,r||Ct(e,2,this.length),this[e]<<8|this[e+1]};W.prototype.readUint32LE=W.prototype.readUInt32LE=function(e,r){return e=e>>>0,r||Ct(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};W.prototype.readUint32BE=W.prototype.readUInt32BE=function(e,r){return e=e>>>0,r||Ct(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};W.prototype.readIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||Ct(e,r,this.length);for(var i=this[e],s=1,o=0;++o<r&&(s*=256);)i+=this[e+o]*s;return s*=128,i>=s&&(i-=Math.pow(2,8*r)),i};W.prototype.readIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||Ct(e,r,this.length);for(var i=r,s=1,o=this[e+--i];i>0&&(s*=256);)o+=this[e+--i]*s;return s*=128,o>=s&&(o-=Math.pow(2,8*r)),o};W.prototype.readInt8=function(e,r){return e=e>>>0,r||Ct(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};W.prototype.readInt16LE=function(e,r){e=e>>>0,r||Ct(e,2,this.length);var n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};W.prototype.readInt16BE=function(e,r){e=e>>>0,r||Ct(e,2,this.length);var n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};W.prototype.readInt32LE=function(e,r){return e=e>>>0,r||Ct(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};W.prototype.readInt32BE=function(e,r){return e=e>>>0,r||Ct(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};W.prototype.readFloatLE=function(e,r){return e=e>>>0,r||Ct(e,4,this.length),Oo.read(this,e,!0,23,4)};W.prototype.readFloatBE=function(e,r){return e=e>>>0,r||Ct(e,4,this.length),Oo.read(this,e,!1,23,4)};W.prototype.readDoubleLE=function(e,r){return e=e>>>0,r||Ct(e,8,this.length),Oo.read(this,e,!0,52,8)};W.prototype.readDoubleBE=function(e,r){return e=e>>>0,r||Ct(e,8,this.length),Oo.read(this,e,!1,52,8)};function Jt(t,e,r,n,i,s){if(!W.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<s)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}W.prototype.writeUintLE=W.prototype.writeUIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){var s=Math.pow(2,8*n)-1;Jt(this,e,r,n,s,0)}var o=1,a=0;for(this[r]=e&255;++a<n&&(o*=256);)this[r+a]=e/o&255;return r+n};W.prototype.writeUintBE=W.prototype.writeUIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){var s=Math.pow(2,8*n)-1;Jt(this,e,r,n,s,0)}var o=n-1,a=1;for(this[r+o]=e&255;--o>=0&&(a*=256);)this[r+o]=e/a&255;return r+n};W.prototype.writeUint8=W.prototype.writeUInt8=function(e,r,n){return e=+e,r=r>>>0,n||Jt(this,e,r,1,255,0),this[r]=e&255,r+1};W.prototype.writeUint16LE=W.prototype.writeUInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||Jt(this,e,r,2,65535,0),this[r]=e&255,this[r+1]=e>>>8,r+2};W.prototype.writeUint16BE=W.prototype.writeUInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||Jt(this,e,r,2,65535,0),this[r]=e>>>8,this[r+1]=e&255,r+2};W.prototype.writeUint32LE=W.prototype.writeUInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||Jt(this,e,r,4,4294967295,0),this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=e&255,r+4};W.prototype.writeUint32BE=W.prototype.writeUInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||Jt(this,e,r,4,4294967295,0),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};W.prototype.writeIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){var s=Math.pow(2,8*n-1);Jt(this,e,r,n,s-1,-s)}var o=0,a=1,u=0;for(this[r]=e&255;++o<n&&(a*=256);)e<0&&u===0&&this[r+o-1]!==0&&(u=1),this[r+o]=(e/a>>0)-u&255;return r+n};W.prototype.writeIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){var s=Math.pow(2,8*n-1);Jt(this,e,r,n,s-1,-s)}var o=n-1,a=1,u=0;for(this[r+o]=e&255;--o>=0&&(a*=256);)e<0&&u===0&&this[r+o+1]!==0&&(u=1),this[r+o]=(e/a>>0)-u&255;return r+n};W.prototype.writeInt8=function(e,r,n){return e=+e,r=r>>>0,n||Jt(this,e,r,1,127,-128),e<0&&(e=255+e+1),this[r]=e&255,r+1};W.prototype.writeInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||Jt(this,e,r,2,32767,-32768),this[r]=e&255,this[r+1]=e>>>8,r+2};W.prototype.writeInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||Jt(this,e,r,2,32767,-32768),this[r]=e>>>8,this[r+1]=e&255,r+2};W.prototype.writeInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||Jt(this,e,r,4,2147483647,-2147483648),this[r]=e&255,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24,r+4};W.prototype.writeInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||Jt(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};function z_(t,e,r,n,i,s){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function W_(t,e,r,n,i){return e=+e,r=r>>>0,i||z_(t,e,r,4,34028234663852886e22,-34028234663852886e22),Oo.write(t,e,r,n,23,4),r+4}W.prototype.writeFloatLE=function(e,r,n){return W_(this,e,r,!0,n)};W.prototype.writeFloatBE=function(e,r,n){return W_(this,e,r,!1,n)};function $_(t,e,r,n,i){return e=+e,r=r>>>0,i||z_(t,e,r,8,17976931348623157e292,-17976931348623157e292),Oo.write(t,e,r,n,52,8),r+8}W.prototype.writeDoubleLE=function(e,r,n){return $_(this,e,r,!0,n)};W.prototype.writeDoubleBE=function(e,r,n){return $_(this,e,r,!1,n)};W.prototype.copy=function(e,r,n,i){if(!W.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),!i&&i!==0&&(i=this.length),r>=e.length&&(r=e.length),r||(r=0),i>0&&i<n&&(i=n),i===n||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-r<i-n&&(i=e.length-r+n);var s=i-n;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,n,i):Uint8Array.prototype.set.call(e,this.subarray(n,i),r),s};W.prototype.fill=function(e,r,n,i){if(typeof e=="string"){if(typeof r=="string"?(i=r,r=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!W.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(e.length===1){var s=e.charCodeAt(0);(i==="utf8"&&s<128||i==="latin1")&&(e=s)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);var o;if(typeof e=="number")for(o=r;o<n;++o)this[o]=e;else{var a=W.isBuffer(e)?e:W.from(e,i),u=a.length;if(u===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-r;++o)this[o+r]=a[o%u]}return this};var bL=/[^+/0-9A-Za-z-_]/g;function IL(t){if(t=t.split("=")[0],t=t.trim().replace(bL,""),t.length<2)return"";for(;t.length%4!==0;)t=t+"=";return t}function k0(t,e){e=e||1/0;for(var r,n=t.length,i=null,s=[],o=0;o<n;++o){if(r=t.charCodeAt(o),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(o+1===n){(e-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&s.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(e-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;s.push(r)}else if(r<2048){if((e-=2)<0)break;s.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;s.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return s}function SL(t){for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r)&255);return e}function CL(t,e){for(var r,n,i,s=[],o=0;o<t.length&&!((e-=2)<0);++o)r=t.charCodeAt(o),n=r>>8,i=r%256,s.push(i),s.push(n);return s}function Y_(t){return j0.toByteArray(IL(t))}function df(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function Qr(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function W0(t){return t!==t}var TL=function(){for(var t="0123456789abcdef",e=new Array(256),r=0;r<16;++r)for(var n=r*16,i=0;i<16;++i)e[n+i]=t[r]+t[i];return e}()});var rb=v((mX,tb)=>{c();var ft=tb.exports={},kr,Kr;function $0(){throw new Error("setTimeout has not been defined")}function Y0(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?kr=setTimeout:kr=$0}catch{kr=$0}try{typeof clearTimeout=="function"?Kr=clearTimeout:Kr=Y0}catch{Kr=Y0}})();function X_(t){if(kr===setTimeout)return setTimeout(t,0);if((kr===$0||!kr)&&setTimeout)return kr=setTimeout,setTimeout(t,0);try{return kr(t,0)}catch{try{return kr.call(null,t,0)}catch{return kr.call(this,t,0)}}}function xL(t){if(Kr===clearTimeout)return clearTimeout(t);if((Kr===Y0||!Kr)&&clearTimeout)return Kr=clearTimeout,clearTimeout(t);try{return Kr(t)}catch{try{return Kr.call(null,t)}catch{return Kr.call(this,t)}}}var Pn=[],Bo=!1,hs,pf=-1;function NL(){!Bo||!hs||(Bo=!1,hs.length?Pn=hs.concat(Pn):pf=-1,Pn.length&&Z_())}function Z_(){if(!Bo){var t=X_(NL);Bo=!0;for(var e=Pn.length;e;){for(hs=Pn,Pn=[];++pf<e;)hs&&hs[pf].run();pf=-1,e=Pn.length}hs=null,Bo=!1,xL(t)}}ft.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];Pn.push(new eb(t,e)),Pn.length===1&&!Bo&&X_(Z_)};function eb(t,e){this.fun=t,this.array=e}eb.prototype.run=function(){this.fun.apply(null,this.array)};ft.title="browser";ft.browser=!0;ft.env={};ft.argv=[];ft.version="";ft.versions={};function Bn(){}ft.on=Bn;ft.addListener=Bn;ft.once=Bn;ft.off=Bn;ft.removeListener=Bn;ft.removeAllListeners=Bn;ft.emit=Bn;ft.prependListener=Bn;ft.prependOnceListener=Bn;ft.listeners=function(t){return[]};ft.binding=function(t){throw new Error("process.binding is not supported")};ft.cwd=function(){return"/"};ft.chdir=function(t){throw new Error("process.chdir is not supported")};ft.umask=function(){return 0}});var h,p,DL,global,c=ge(()=>{h=be(J_()),p=be(rb()),DL=function(t){function e(){var n=this||self;return delete t.prototype.__magic__,n}if(typeof globalThis=="object")return globalThis;if(this)return e();t.defineProperty(t.prototype,"__magic__",{configurable:!0,get:e});var r=__magic__;return r}(Object),global=DL});var Wt=v((nb,gf)=>{c();(function(t){"use strict";var e,r=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,n=Math.ceil,i=Math.floor,s="[BigNumber Error] ",o=s+"Number primitive has more than 15 significant digits: ",a=1e14,u=14,l=9007199254740991,f=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],d=1e7,y=1e9;function w(P){var L,b,C,M=q.prototype={constructor:q,toString:null,valueOf:null},Z=new q(1),K=20,j=4,G=-7,$=21,de=-1e7,ae=1e7,re=!1,Y=1,ie=0,te={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xA0",suffix:""},ne="0123456789abcdefghijklmnopqrstuvwxyz";function q(g,m){var A,D,I,N,F,S,U,H,V=this;if(!(V instanceof q))return new q(g,m);if(m==null){if(g&&g._isBigNumber===!0){V.s=g.s,!g.c||g.e>ae?V.c=V.e=null:g.e<de?V.c=[V.e=0]:(V.e=g.e,V.c=g.c.slice());return}if((S=typeof g=="number")&&g*0==0){if(V.s=1/g<0?(g=-g,-1):1,g===~~g){for(N=0,F=g;F>=10;F/=10,N++);N>ae?V.c=V.e=null:(V.e=N,V.c=[g]);return}H=String(g)}else{if(!r.test(H=String(g)))return C(V,H,S);V.s=H.charCodeAt(0)==45?(H=H.slice(1),-1):1}(N=H.indexOf("."))>-1&&(H=H.replace(".","")),(F=H.search(/e/i))>0?(N<0&&(N=F),N+=+H.slice(F+1),H=H.substring(0,F)):N<0&&(N=H.length)}else{if(_(m,2,ne.length,"Base"),m==10)return V=new q(g),se(V,K+V.e+1,j);if(H=String(g),S=typeof g=="number"){if(g*0!=0)return C(V,H,S,m);if(V.s=1/g<0?(H=H.slice(1),-1):1,q.DEBUG&&H.replace(/^0\.0*|\./,"").length>15)throw Error(o+g)}else V.s=H.charCodeAt(0)===45?(H=H.slice(1),-1):1;for(A=ne.slice(0,m),N=F=0,U=H.length;F<U;F++)if(A.indexOf(D=H.charAt(F))<0){if(D=="."){if(F>N){N=U;continue}}else if(!I&&(H==H.toUpperCase()&&(H=H.toLowerCase())||H==H.toLowerCase()&&(H=H.toUpperCase()))){I=!0,F=-1,N=0;continue}return C(V,String(g),S,m)}S=!1,H=b(H,m,10,V.s),(N=H.indexOf("."))>-1?H=H.replace(".",""):N=H.length}for(F=0;H.charCodeAt(F)===48;F++);for(U=H.length;H.charCodeAt(--U)===48;);if(H=H.slice(F,++U)){if(U-=F,S&&q.DEBUG&&U>15&&(g>l||g!==i(g)))throw Error(o+V.s*g);if((N=N-F-1)>ae)V.c=V.e=null;else if(N<de)V.c=[V.e=0];else{if(V.e=N,V.c=[],F=(N+1)%u,N<0&&(F+=u),F<U){for(F&&V.c.push(+H.slice(0,F)),U-=u;F<U;)V.c.push(+H.slice(F,F+=u));F=u-(H=H.slice(F)).length}else F-=U;for(;F--;H+="0");V.c.push(+H)}}else V.c=[V.e=0]}q.clone=w,q.ROUND_UP=0,q.ROUND_DOWN=1,q.ROUND_CEIL=2,q.ROUND_FLOOR=3,q.ROUND_HALF_UP=4,q.ROUND_HALF_DOWN=5,q.ROUND_HALF_EVEN=6,q.ROUND_HALF_CEIL=7,q.ROUND_HALF_FLOOR=8,q.EUCLID=9,q.config=q.set=function(g){var m,A;if(g!=null)if(typeof g=="object"){if(g.hasOwnProperty(m="DECIMAL_PLACES")&&(A=g[m],_(A,0,y,m),K=A),g.hasOwnProperty(m="ROUNDING_MODE")&&(A=g[m],_(A,0,8,m),j=A),g.hasOwnProperty(m="EXPONENTIAL_AT")&&(A=g[m],A&&A.pop?(_(A[0],-y,0,m),_(A[1],0,y,m),G=A[0],$=A[1]):(_(A,-y,y,m),G=-($=A<0?-A:A))),g.hasOwnProperty(m="RANGE"))if(A=g[m],A&&A.pop)_(A[0],-y,-1,m),_(A[1],1,y,m),de=A[0],ae=A[1];else if(_(A,-y,y,m),A)de=-(ae=A<0?-A:A);else throw Error(s+m+" cannot be zero: "+A);if(g.hasOwnProperty(m="CRYPTO"))if(A=g[m],A===!!A)if(A)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))re=A;else throw re=!A,Error(s+"crypto unavailable");else re=A;else throw Error(s+m+" not true or false: "+A);if(g.hasOwnProperty(m="MODULO_MODE")&&(A=g[m],_(A,0,9,m),Y=A),g.hasOwnProperty(m="POW_PRECISION")&&(A=g[m],_(A,0,y,m),ie=A),g.hasOwnProperty(m="FORMAT"))if(A=g[m],typeof A=="object")te=A;else throw Error(s+m+" not an object: "+A);if(g.hasOwnProperty(m="ALPHABET"))if(A=g[m],typeof A=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(A))ne=A;else throw Error(s+m+" invalid: "+A)}else throw Error(s+"Object expected: "+g);return{DECIMAL_PLACES:K,ROUNDING_MODE:j,EXPONENTIAL_AT:[G,$],RANGE:[de,ae],CRYPTO:re,MODULO_MODE:Y,POW_PRECISION:ie,FORMAT:te,ALPHABET:ne}},q.isBigNumber=function(g){if(!g||g._isBigNumber!==!0)return!1;if(!q.DEBUG)return!0;var m,A,D=g.c,I=g.e,N=g.s;e:if({}.toString.call(D)=="[object Array]"){if((N===1||N===-1)&&I>=-y&&I<=y&&I===i(I)){if(D[0]===0){if(I===0&&D.length===1)return!0;break e}if(m=(I+1)%u,m<1&&(m+=u),String(D[0]).length==m){for(m=0;m<D.length;m++)if(A=D[m],A<0||A>=a||A!==i(A))break e;if(A!==0)return!0}}}else if(D===null&&I===null&&(N===null||N===1||N===-1))return!0;throw Error(s+"Invalid BigNumber: "+g)},q.maximum=q.max=function(){return oe(arguments,M.lt)},q.minimum=q.min=function(){return oe(arguments,M.gt)},q.random=function(){var g=9007199254740992,m=Math.random()*g&2097151?function(){return i(Math.random()*g)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(A){var D,I,N,F,S,U=0,H=[],V=new q(Z);if(A==null?A=K:_(A,0,y),F=n(A/u),re)if(crypto.getRandomValues){for(D=crypto.getRandomValues(new Uint32Array(F*=2));U<F;)S=D[U]*131072+(D[U+1]>>>11),S>=9e15?(I=crypto.getRandomValues(new Uint32Array(2)),D[U]=I[0],D[U+1]=I[1]):(H.push(S%1e14),U+=2);U=F/2}else if(crypto.randomBytes){for(D=crypto.randomBytes(F*=7);U<F;)S=(D[U]&31)*281474976710656+D[U+1]*1099511627776+D[U+2]*4294967296+D[U+3]*16777216+(D[U+4]<<16)+(D[U+5]<<8)+D[U+6],S>=9e15?crypto.randomBytes(7).copy(D,U):(H.push(S%1e14),U+=7);U=F/7}else throw re=!1,Error(s+"crypto unavailable");if(!re)for(;U<F;)S=m(),S<9e15&&(H[U++]=S%1e14);for(F=H[--U],A%=u,F&&A&&(S=f[u-A],H[U]=i(F/S)*S);H[U]===0;H.pop(),U--);if(U<0)H=[N=0];else{for(N=-1;H[0]===0;H.splice(0,1),N-=u);for(U=1,S=H[0];S>=10;S/=10,U++);U<u&&(N-=u-U)}return V.e=N,V.c=H,V}}(),q.sum=function(){for(var g=1,m=arguments,A=new q(m[0]);g<m.length;)A=A.plus(m[g++]);return A},b=function(){var g="0123456789";function m(A,D,I,N){for(var F,S=[0],U,H=0,V=A.length;H<V;){for(U=S.length;U--;S[U]*=D);for(S[0]+=N.indexOf(A.charAt(H++)),F=0;F<S.length;F++)S[F]>I-1&&(S[F+1]==null&&(S[F+1]=0),S[F+1]+=S[F]/I|0,S[F]%=I)}return S.reverse()}return function(A,D,I,N,F){var S,U,H,V,X,ye,we,Pe,$e=A.indexOf("."),ot=K,De=j;for($e>=0&&(V=ie,ie=0,A=A.replace(".",""),Pe=new q(D),ye=Pe.pow(A.length-$e),ie=V,Pe.c=m(O(T(ye.c),ye.e,"0"),10,I,g),Pe.e=Pe.c.length),we=m(A,D,I,F?(S=ne,g):(S=g,ne)),H=V=we.length;we[--V]==0;we.pop());if(!we[0])return S.charAt(0);if($e<0?--H:(ye.c=we,ye.e=H,ye.s=N,ye=L(ye,Pe,ot,De,I),we=ye.c,X=ye.r,H=ye.e),U=H+ot+1,$e=we[U],V=I/2,X=X||U<0||we[U+1]!=null,X=De<4?($e!=null||X)&&(De==0||De==(ye.s<0?3:2)):$e>V||$e==V&&(De==4||X||De==6&&we[U-1]&1||De==(ye.s<0?8:7)),U<1||!we[0])A=X?O(S.charAt(1),-ot,S.charAt(0)):S.charAt(0);else{if(we.length=U,X)for(--I;++we[--U]>I;)we[U]=0,U||(++H,we=[1].concat(we));for(V=we.length;!we[--V];);for($e=0,A="";$e<=V;A+=S.charAt(we[$e++]));A=O(A,H,S.charAt(0))}return A}}(),L=function(){function g(D,I,N){var F,S,U,H,V=0,X=D.length,ye=I%d,we=I/d|0;for(D=D.slice();X--;)U=D[X]%d,H=D[X]/d|0,F=we*U+H*ye,S=ye*U+F%d*d+V,V=(S/N|0)+(F/d|0)+we*H,D[X]=S%N;return V&&(D=[V].concat(D)),D}function m(D,I,N,F){var S,U;if(N!=F)U=N>F?1:-1;else for(S=U=0;S<N;S++)if(D[S]!=I[S]){U=D[S]>I[S]?1:-1;break}return U}function A(D,I,N,F){for(var S=0;N--;)D[N]-=S,S=D[N]<I[N]?1:0,D[N]=S*F+D[N]-I[N];for(;!D[0]&&D.length>1;D.splice(0,1));}return function(D,I,N,F,S){var U,H,V,X,ye,we,Pe,$e,ot,De,Me,vt,ni,us,cs,Yt,Dn,qt=D.s==I.s?1:-1,At=D.c,Qe=I.c;if(!At||!At[0]||!Qe||!Qe[0])return new q(!D.s||!I.s||(At?Qe&&At[0]==Qe[0]:!Qe)?NaN:At&&At[0]==0||!Qe?qt*0:qt/0);for($e=new q(qt),ot=$e.c=[],H=D.e-I.e,qt=N+H+1,S||(S=a,H=E(D.e/u)-E(I.e/u),qt=qt/u|0),V=0;Qe[V]==(At[V]||0);V++);if(Qe[V]>(At[V]||0)&&H--,qt<0)ot.push(1),X=!0;else{for(us=At.length,Yt=Qe.length,V=0,qt+=2,ye=i(S/(Qe[0]+1)),ye>1&&(Qe=g(Qe,ye,S),At=g(At,ye,S),Yt=Qe.length,us=At.length),ni=Yt,De=At.slice(0,Yt),Me=De.length;Me<Yt;De[Me++]=0);Dn=Qe.slice(),Dn=[0].concat(Dn),cs=Qe[0],Qe[1]>=S/2&&cs++;do{if(ye=0,U=m(Qe,De,Yt,Me),U<0){if(vt=De[0],Yt!=Me&&(vt=vt*S+(De[1]||0)),ye=i(vt/cs),ye>1)for(ye>=S&&(ye=S-1),we=g(Qe,ye,S),Pe=we.length,Me=De.length;m(we,De,Pe,Me)==1;)ye--,A(we,Yt<Pe?Dn:Qe,Pe,S),Pe=we.length,U=1;else ye==0&&(U=ye=1),we=Qe.slice(),Pe=we.length;if(Pe<Me&&(we=[0].concat(we)),A(De,we,Me,S),Me=De.length,U==-1)for(;m(Qe,De,Yt,Me)<1;)ye++,A(De,Yt<Me?Dn:Qe,Me,S),Me=De.length}else U===0&&(ye++,De=[0]);ot[V++]=ye,De[0]?De[Me++]=At[ni]||0:(De=[At[ni]],Me=1)}while((ni++<us||De[0]!=null)&&qt--);X=De[0]!=null,ot[0]||ot.splice(0,1)}if(S==a){for(V=1,qt=ot[0];qt>=10;qt/=10,V++);se($e,N+($e.e=V+H*u-1)+1,F,X)}else $e.e=H,$e.r=+X;return $e}}();function ce(g,m,A,D){var I,N,F,S,U;if(A==null?A=j:_(A,0,8),!g.c)return g.toString();if(I=g.c[0],F=g.e,m==null)U=T(g.c),U=D==1||D==2&&(F<=G||F>=$)?x(U,F):O(U,F,"0");else if(g=se(new q(g),m,A),N=g.e,U=T(g.c),S=U.length,D==1||D==2&&(m<=N||N<=G)){for(;S<m;U+="0",S++);U=x(U,N)}else if(m-=F,U=O(U,N,"0"),N+1>S){if(--m>0)for(U+=".";m--;U+="0");}else if(m+=N-S,m>0)for(N+1==S&&(U+=".");m--;U+="0");return g.s<0&&I?"-"+U:U}function oe(g,m){for(var A,D=1,I=new q(g[0]);D<g.length;D++)if(A=new q(g[D]),A.s)m.call(I,A)&&(I=A);else{I=A;break}return I}function le(g,m,A){for(var D=1,I=m.length;!m[--I];m.pop());for(I=m[0];I>=10;I/=10,D++);return(A=D+A*u-1)>ae?g.c=g.e=null:A<de?g.c=[g.e=0]:(g.e=A,g.c=m),g}C=function(){var g=/^(-?)0([xbo])(?=\w[\w.]*$)/i,m=/^([^.]+)\.$/,A=/^\.([^.]+)$/,D=/^-?(Infinity|NaN)$/,I=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(N,F,S,U){var H,V=S?F:F.replace(I,"");if(D.test(V))N.s=isNaN(V)?null:V<0?-1:1;else{if(!S&&(V=V.replace(g,function(X,ye,we){return H=(we=we.toLowerCase())=="x"?16:we=="b"?2:8,!U||U==H?ye:X}),U&&(H=U,V=V.replace(m,"$1").replace(A,"0.$1")),F!=V))return new q(V,H);if(q.DEBUG)throw Error(s+"Not a"+(U?" base "+U:"")+" number: "+F);N.s=null}N.c=N.e=null}}();function se(g,m,A,D){var I,N,F,S,U,H,V,X=g.c,ye=f;if(X){e:{for(I=1,S=X[0];S>=10;S/=10,I++);if(N=m-I,N<0)N+=u,F=m,U=X[H=0],V=U/ye[I-F-1]%10|0;else if(H=n((N+1)/u),H>=X.length)if(D){for(;X.length<=H;X.push(0));U=V=0,I=1,N%=u,F=N-u+1}else break e;else{for(U=S=X[H],I=1;S>=10;S/=10,I++);N%=u,F=N-u+I,V=F<0?0:U/ye[I-F-1]%10|0}if(D=D||m<0||X[H+1]!=null||(F<0?U:U%ye[I-F-1]),D=A<4?(V||D)&&(A==0||A==(g.s<0?3:2)):V>5||V==5&&(A==4||D||A==6&&(N>0?F>0?U/ye[I-F]:0:X[H-1])%10&1||A==(g.s<0?8:7)),m<1||!X[0])return X.length=0,D?(m-=g.e+1,X[0]=ye[(u-m%u)%u],g.e=-m||0):X[0]=g.e=0,g;if(N==0?(X.length=H,S=1,H--):(X.length=H+1,S=ye[u-N],X[H]=F>0?i(U/ye[I-F]%ye[F])*S:0),D)for(;;)if(H==0){for(N=1,F=X[0];F>=10;F/=10,N++);for(F=X[0]+=S,S=1;F>=10;F/=10,S++);N!=S&&(g.e++,X[0]==a&&(X[0]=1));break}else{if(X[H]+=S,X[H]!=a)break;X[H--]=0,S=1}for(N=X.length;X[--N]===0;X.pop());}g.e>ae?g.c=g.e=null:g.e<de&&(g.c=[g.e=0])}return g}function ue(g){var m,A=g.e;return A===null?g.toString():(m=T(g.c),m=A<=G||A>=$?x(m,A):O(m,A,"0"),g.s<0?"-"+m:m)}return M.absoluteValue=M.abs=function(){var g=new q(this);return g.s<0&&(g.s=1),g},M.comparedTo=function(g,m){return R(this,new q(g,m))},M.decimalPlaces=M.dp=function(g,m){var A,D,I,N=this;if(g!=null)return _(g,0,y),m==null?m=j:_(m,0,8),se(new q(N),g+N.e+1,m);if(!(A=N.c))return null;if(D=((I=A.length-1)-E(this.e/u))*u,I=A[I])for(;I%10==0;I/=10,D--);return D<0&&(D=0),D},M.dividedBy=M.div=function(g,m){return L(this,new q(g,m),K,j)},M.dividedToIntegerBy=M.idiv=function(g,m){return L(this,new q(g,m),0,1)},M.exponentiatedBy=M.pow=function(g,m){var A,D,I,N,F,S,U,H,V,X=this;if(g=new q(g),g.c&&!g.isInteger())throw Error(s+"Exponent not an integer: "+ue(g));if(m!=null&&(m=new q(m)),S=g.e>14,!X.c||!X.c[0]||X.c[0]==1&&!X.e&&X.c.length==1||!g.c||!g.c[0])return V=new q(Math.pow(+ue(X),S?2-B(g):+ue(g))),m?V.mod(m):V;if(U=g.s<0,m){if(m.c?!m.c[0]:!m.s)return new q(NaN);D=!U&&X.isInteger()&&m.isInteger(),D&&(X=X.mod(m))}else{if(g.e>9&&(X.e>0||X.e<-1||(X.e==0?X.c[0]>1||S&&X.c[1]>=24e7:X.c[0]<8e13||S&&X.c[0]<=9999975e7)))return N=X.s<0&&B(g)?-0:0,X.e>-1&&(N=1/N),new q(U?1/N:N);ie&&(N=n(ie/u+2))}for(S?(A=new q(.5),U&&(g.s=1),H=B(g)):(I=Math.abs(+ue(g)),H=I%2),V=new q(Z);;){if(H){if(V=V.times(X),!V.c)break;N?V.c.length>N&&(V.c.length=N):D&&(V=V.mod(m))}if(I){if(I=i(I/2),I===0)break;H=I%2}else if(g=g.times(A),se(g,g.e+1,1),g.e>14)H=B(g);else{if(I=+ue(g),I===0)break;H=I%2}X=X.times(X),N?X.c&&X.c.length>N&&(X.c.length=N):D&&(X=X.mod(m))}return D?V:(U&&(V=Z.div(V)),m?V.mod(m):N?se(V,ie,j,F):V)},M.integerValue=function(g){var m=new q(this);return g==null?g=j:_(g,0,8),se(m,m.e+1,g)},M.isEqualTo=M.eq=function(g,m){return R(this,new q(g,m))===0},M.isFinite=function(){return!!this.c},M.isGreaterThan=M.gt=function(g,m){return R(this,new q(g,m))>0},M.isGreaterThanOrEqualTo=M.gte=function(g,m){return(m=R(this,new q(g,m)))===1||m===0},M.isInteger=function(){return!!this.c&&E(this.e/u)>this.c.length-2},M.isLessThan=M.lt=function(g,m){return R(this,new q(g,m))<0},M.isLessThanOrEqualTo=M.lte=function(g,m){return(m=R(this,new q(g,m)))===-1||m===0},M.isNaN=function(){return!this.s},M.isNegative=function(){return this.s<0},M.isPositive=function(){return this.s>0},M.isZero=function(){return!!this.c&&this.c[0]==0},M.minus=function(g,m){var A,D,I,N,F=this,S=F.s;if(g=new q(g,m),m=g.s,!S||!m)return new q(NaN);if(S!=m)return g.s=-m,F.plus(g);var U=F.e/u,H=g.e/u,V=F.c,X=g.c;if(!U||!H){if(!V||!X)return V?(g.s=-m,g):new q(X?F:NaN);if(!V[0]||!X[0])return X[0]?(g.s=-m,g):new q(V[0]?F:j==3?-0:0)}if(U=E(U),H=E(H),V=V.slice(),S=U-H){for((N=S<0)?(S=-S,I=V):(H=U,I=X),I.reverse(),m=S;m--;I.push(0));I.reverse()}else for(D=(N=(S=V.length)<(m=X.length))?S:m,S=m=0;m<D;m++)if(V[m]!=X[m]){N=V[m]<X[m];break}if(N&&(I=V,V=X,X=I,g.s=-g.s),m=(D=X.length)-(A=V.length),m>0)for(;m--;V[A++]=0);for(m=a-1;D>S;){if(V[--D]<X[D]){for(A=D;A&&!V[--A];V[A]=m);--V[A],V[D]+=a}V[D]-=X[D]}for(;V[0]==0;V.splice(0,1),--H);return V[0]?le(g,V,H):(g.s=j==3?-1:1,g.c=[g.e=0],g)},M.modulo=M.mod=function(g,m){var A,D,I=this;return g=new q(g,m),!I.c||!g.s||g.c&&!g.c[0]?new q(NaN):!g.c||I.c&&!I.c[0]?new q(I):(Y==9?(D=g.s,g.s=1,A=L(I,g,0,3),g.s=D,A.s*=D):A=L(I,g,0,Y),g=I.minus(A.times(g)),!g.c[0]&&Y==1&&(g.s=I.s),g)},M.multipliedBy=M.times=function(g,m){var A,D,I,N,F,S,U,H,V,X,ye,we,Pe,$e,ot,De=this,Me=De.c,vt=(g=new q(g,m)).c;if(!Me||!vt||!Me[0]||!vt[0])return!De.s||!g.s||Me&&!Me[0]&&!vt||vt&&!vt[0]&&!Me?g.c=g.e=g.s=null:(g.s*=De.s,!Me||!vt?g.c=g.e=null:(g.c=[0],g.e=0)),g;for(D=E(De.e/u)+E(g.e/u),g.s*=De.s,U=Me.length,X=vt.length,U<X&&(Pe=Me,Me=vt,vt=Pe,I=U,U=X,X=I),I=U+X,Pe=[];I--;Pe.push(0));for($e=a,ot=d,I=X;--I>=0;){for(A=0,ye=vt[I]%ot,we=vt[I]/ot|0,F=U,N=I+F;N>I;)H=Me[--F]%ot,V=Me[F]/ot|0,S=we*H+V*ye,H=ye*H+S%ot*ot+Pe[N]+A,A=(H/$e|0)+(S/ot|0)+we*V,Pe[N--]=H%$e;Pe[N]=A}return A?++D:Pe.splice(0,1),le(g,Pe,D)},M.negated=function(){var g=new q(this);return g.s=-g.s||null,g},M.plus=function(g,m){var A,D=this,I=D.s;if(g=new q(g,m),m=g.s,!I||!m)return new q(NaN);if(I!=m)return g.s=-m,D.minus(g);var N=D.e/u,F=g.e/u,S=D.c,U=g.c;if(!N||!F){if(!S||!U)return new q(I/0);if(!S[0]||!U[0])return U[0]?g:new q(S[0]?D:I*0)}if(N=E(N),F=E(F),S=S.slice(),I=N-F){for(I>0?(F=N,A=U):(I=-I,A=S),A.reverse();I--;A.push(0));A.reverse()}for(I=S.length,m=U.length,I-m<0&&(A=U,U=S,S=A,m=I),I=0;m;)I=(S[--m]=S[m]+U[m]+I)/a|0,S[m]=a===S[m]?0:S[m]%a;return I&&(S=[I].concat(S),++F),le(g,S,F)},M.precision=M.sd=function(g,m){var A,D,I,N=this;if(g!=null&&g!==!!g)return _(g,1,y),m==null?m=j:_(m,0,8),se(new q(N),g,m);if(!(A=N.c))return null;if(I=A.length-1,D=I*u+1,I=A[I]){for(;I%10==0;I/=10,D--);for(I=A[0];I>=10;I/=10,D++);}return g&&N.e+1>D&&(D=N.e+1),D},M.shiftedBy=function(g){return _(g,-l,l),this.times("1e"+g)},M.squareRoot=M.sqrt=function(){var g,m,A,D,I,N=this,F=N.c,S=N.s,U=N.e,H=K+4,V=new q("0.5");if(S!==1||!F||!F[0])return new q(!S||S<0&&(!F||F[0])?NaN:F?N:1/0);if(S=Math.sqrt(+ue(N)),S==0||S==1/0?(m=T(F),(m.length+U)%2==0&&(m+="0"),S=Math.sqrt(+m),U=E((U+1)/2)-(U<0||U%2),S==1/0?m="5e"+U:(m=S.toExponential(),m=m.slice(0,m.indexOf("e")+1)+U),A=new q(m)):A=new q(S+""),A.c[0]){for(U=A.e,S=U+H,S<3&&(S=0);;)if(I=A,A=V.times(I.plus(L(N,I,H,1))),T(I.c).slice(0,S)===(m=T(A.c)).slice(0,S))if(A.e<U&&--S,m=m.slice(S-3,S+1),m=="9999"||!D&&m=="4999"){if(!D&&(se(I,I.e+K+2,0),I.times(I).eq(N))){A=I;break}H+=4,S+=4,D=1}else{(!+m||!+m.slice(1)&&m.charAt(0)=="5")&&(se(A,A.e+K+2,1),g=!A.times(A).eq(N));break}}return se(A,A.e+K+1,j,g)},M.toExponential=function(g,m){return g!=null&&(_(g,0,y),g++),ce(this,g,m,1)},M.toFixed=function(g,m){return g!=null&&(_(g,0,y),g=g+this.e+1),ce(this,g,m)},M.toFormat=function(g,m,A){var D,I=this;if(A==null)g!=null&&m&&typeof m=="object"?(A=m,m=null):g&&typeof g=="object"?(A=g,g=m=null):A=te;else if(typeof A!="object")throw Error(s+"Argument not an object: "+A);if(D=I.toFixed(g,m),I.c){var N,F=D.split("."),S=+A.groupSize,U=+A.secondaryGroupSize,H=A.groupSeparator||"",V=F[0],X=F[1],ye=I.s<0,we=ye?V.slice(1):V,Pe=we.length;if(U&&(N=S,S=U,U=N,Pe-=N),S>0&&Pe>0){for(N=Pe%S||S,V=we.substr(0,N);N<Pe;N+=S)V+=H+we.substr(N,S);U>0&&(V+=H+we.slice(N)),ye&&(V="-"+V)}D=X?V+(A.decimalSeparator||"")+((U=+A.fractionGroupSize)?X.replace(new RegExp("\\d{"+U+"}\\B","g"),"$&"+(A.fractionGroupSeparator||"")):X):V}return(A.prefix||"")+D+(A.suffix||"")},M.toFraction=function(g){var m,A,D,I,N,F,S,U,H,V,X,ye,we=this,Pe=we.c;if(g!=null&&(S=new q(g),!S.isInteger()&&(S.c||S.s!==1)||S.lt(Z)))throw Error(s+"Argument "+(S.isInteger()?"out of range: ":"not an integer: ")+ue(S));if(!Pe)return new q(we);for(m=new q(Z),H=A=new q(Z),D=U=new q(Z),ye=T(Pe),N=m.e=ye.length-we.e-1,m.c[0]=f[(F=N%u)<0?u+F:F],g=!g||S.comparedTo(m)>0?N>0?m:H:S,F=ae,ae=1/0,S=new q(ye),U.c[0]=0;V=L(S,m,0,1),I=A.plus(V.times(D)),I.comparedTo(g)!=1;)A=D,D=I,H=U.plus(V.times(I=H)),U=I,m=S.minus(V.times(I=m)),S=I;return I=L(g.minus(A),D,0,1),U=U.plus(I.times(H)),A=A.plus(I.times(D)),U.s=H.s=we.s,N=N*2,X=L(H,D,N,j).minus(we).abs().comparedTo(L(U,A,N,j).minus(we).abs())<1?[H,D]:[U,A],ae=F,X},M.toNumber=function(){return+ue(this)},M.toPrecision=function(g,m){return g!=null&&_(g,1,y),ce(this,g,m,2)},M.toString=function(g){var m,A=this,D=A.s,I=A.e;return I===null?D?(m="Infinity",D<0&&(m="-"+m)):m="NaN":(g==null?m=I<=G||I>=$?x(T(A.c),I):O(T(A.c),I,"0"):g===10?(A=se(new q(A),K+I+1,j),m=O(T(A.c),A.e,"0")):(_(g,2,ne.length,"Base"),m=b(O(T(A.c),I,"0"),10,g,D,!0)),D<0&&A.c[0]&&(m="-"+m)),m},M.valueOf=M.toJSON=function(){return ue(this)},M._isBigNumber=!0,P!=null&&q.set(P),q}function E(P){var L=P|0;return P>0||P===L?L:L-1}function T(P){for(var L,b,C=1,M=P.length,Z=P[0]+"";C<M;){for(L=P[C++]+"",b=u-L.length;b--;L="0"+L);Z+=L}for(M=Z.length;Z.charCodeAt(--M)===48;);return Z.slice(0,M+1||1)}function R(P,L){var b,C,M=P.c,Z=L.c,K=P.s,j=L.s,G=P.e,$=L.e;if(!K||!j)return null;if(b=M&&!M[0],C=Z&&!Z[0],b||C)return b?C?0:-j:K;if(K!=j)return K;if(b=K<0,C=G==$,!M||!Z)return C?0:!M^b?1:-1;if(!C)return G>$^b?1:-1;for(j=(G=M.length)<($=Z.length)?G:$,K=0;K<j;K++)if(M[K]!=Z[K])return M[K]>Z[K]^b?1:-1;return G==$?0:G>$^b?1:-1}function _(P,L,b,C){if(P<L||P>b||P!==i(P))throw Error(s+(C||"Argument")+(typeof P=="number"?P<L||P>b?" out of range: ":" not an integer: ":" not a primitive number: ")+String(P))}function B(P){var L=P.c.length-1;return E(P.e/u)==L&&P.c[L]%2!=0}function x(P,L){return(P.length>1?P.charAt(0)+"."+P.slice(1):P)+(L<0?"e":"e+")+L}function O(P,L,b){var C,M;if(L<0){for(M=b+".";++L;M+=b);P=M+P}else if(C=P.length,++L>C){for(M=b,L-=C;--L;M+=b);P+=M}else L<C&&(P=P.slice(0,L)+"."+P.slice(L));return P}e=w(),e.default=e.BigNumber=e,typeof define=="function"&&define.amd?define(function(){return e}):typeof gf<"u"&&gf.exports?gf.exports=e:(t||(t=typeof self<"u"&&self?self:window),t.BigNumber=e)})(nb)});var He=v(pe=>{"use strict";c();Object.defineProperty(pe,"__esModule",{value:!0});pe.ErrGasLimitShouldBe0ForInnerTransaction=pe.ErrInvalidRelayedV2BuilderArguments=pe.ErrInvalidRelayedV1BuilderArguments=pe.ErrNotImplemented=pe.ErrContractInteraction=pe.ErrCodec=pe.ErrCannotParseTransactionOutcome=pe.ErrCannotParseContractResults=pe.ErrMissingFieldOnEnum=pe.ErrMissingFieldOnStruct=pe.ErrTypingSystem=pe.ErrMock=pe.ErrContractHasNoAddress=pe.ErrContract=pe.ErrExpectedTransactionEventsNotFound=pe.ErrExpectedTransactionStatusNotReached=pe.ErrTransactionWatcherTimeout=pe.ErrAsyncTimerAborted=pe.ErrAsyncTimerAlreadyRunning=pe.ErrInvalidFunctionName=pe.ErrSignatureCannotCreate=pe.ErrTransactionOptionsInvalid=pe.ErrTransactionVersionInvalid=pe.ErrNonceInvalid=pe.ErrNotEnoughGas=pe.ErrAddressEmpty=pe.ErrAddressBadHrp=pe.ErrAddressCannotCreate=pe.ErrUnexpectedCondition=pe.ErrInvariantFailed=pe.ErrBadType=pe.ErrUnsupportedOperation=pe.ErrInvalidArgument=pe.Err=void 0;var Be=class extends Error{constructor(e,r){super(e),this.inner=void 0,this.inner=r}summary(){let e=[];e.push({name:this.name,message:this.message});let r=this.inner;for(;r;)e.push({name:r.name,message:r.message}),r=r.inner;return e}};pe.Err=Be;var J0=class extends Be{constructor(e,r){super(`Invalid argument: ${e}`,r)}};pe.ErrInvalidArgument=J0;var X0=class extends Be{constructor(e,r="not specified"){super(`Operation "${e}" not supported. Reason: ${r}`)}};pe.ErrUnsupportedOperation=X0;var Z0=class extends Be{constructor(e,r,n){super(`Bad type of "${e}": ${n}. Expected type: ${r}`)}};pe.ErrBadType=Z0;var ey=class extends Be{constructor(e){super(`Invariant failed: [${e}]`)}};pe.ErrInvariantFailed=ey;var ty=class extends Be{constructor(e){super(`Unexpected condition: [${e}]`)}};pe.ErrUnexpectedCondition=ty;var ry=class extends Be{constructor(e,r){let n=`Cannot create address from: ${e}`;super(n,r)}};pe.ErrAddressCannotCreate=ry;var ny=class extends Be{constructor(e,r){super(`Wrong address HRP. Expected: ${e}, got ${r}`)}};pe.ErrAddressBadHrp=ny;var iy=class extends Be{constructor(){super("Address is empty")}};pe.ErrAddressEmpty=iy;var sy=class extends Be{constructor(e){super(`Not enough gas provided: ${e}`)}};pe.ErrNotEnoughGas=sy;var oy=class extends Be{constructor(e){super(`Invalid nonce: ${e}`)}};pe.ErrNonceInvalid=oy;var ay=class extends Be{constructor(e){super(`Invalid transaction version: ${e}`)}};pe.ErrTransactionVersionInvalid=ay;var uy=class extends Be{constructor(e){super(`Invalid transaction options: ${e}`)}};pe.ErrTransactionOptionsInvalid=uy;var cy=class extends Be{constructor(e,r){let n=`Cannot create signature from: ${e}`;super(n,r)}};pe.ErrSignatureCannotCreate=cy;var ly=class extends Be{constructor(){super("Invalid function name")}};pe.ErrInvalidFunctionName=ly;var fy=class extends Be{constructor(){super("Async timer already running")}};pe.ErrAsyncTimerAlreadyRunning=fy;var hy=class extends Be{constructor(){super("Async timer aborted")}};pe.ErrAsyncTimerAborted=hy;var dy=class extends Be{constructor(){super("TransactionWatcher has timed out")}};pe.ErrTransactionWatcherTimeout=dy;var py=class extends Be{constructor(){super("Expected transaction status not reached")}};pe.ErrExpectedTransactionStatusNotReached=py;var gy=class extends Be{constructor(){super("Expected transaction events not found")}};pe.ErrExpectedTransactionEventsNotFound=gy;var yf=class extends Be{constructor(e){super(e)}};pe.ErrContract=yf;var yy=class extends yf{constructor(){super(`
The smart contract has no address set. Make sure you provide the address in the constructor, or call setAddress() appropriately.
If you need to recompute the address of the contract, make use of SmartContract.computeAddress() (static method). 
`)}};pe.ErrContractHasNoAddress=yy;var my=class extends Be{constructor(e){super(e)}};pe.ErrMock=my;var wy=class extends Be{constructor(e){super(e)}};pe.ErrTypingSystem=wy;var Ey=class extends Be{constructor(e,r){super(`field ${e} does not exist on struct ${r}`)}};pe.ErrMissingFieldOnStruct=Ey;var vy=class extends Be{constructor(e,r){super(`field ${e} does not exist on enum ${r}`)}};pe.ErrMissingFieldOnEnum=vy;var Ay=class extends Be{constructor(e){super(`cannot parse contract results: ${e}`)}};pe.ErrCannotParseContractResults=Ay;var _y=class extends Be{constructor(e,r){super(`cannot parse outcome of transaction ${e}: ${r}`)}};pe.ErrCannotParseTransactionOutcome=_y;var by=class extends Be{constructor(e){super(e)}};pe.ErrCodec=by;var Iy=class extends Be{constructor(e){super(e)}};pe.ErrContractInteraction=Iy;var Sy=class extends Be{constructor(){super("Method not yet implemented")}};pe.ErrNotImplemented=Sy;var Cy=class extends Be{constructor(){super("invalid arguments for relayed v1 builder")}};pe.ErrInvalidRelayedV1BuilderArguments=Cy;var Ty=class extends Be{constructor(){super("invalid arguments for relayed v2 builder")}};pe.ErrInvalidRelayedV2BuilderArguments=Ty;var xy=class extends Be{constructor(){super("gas limit must be 0 for the inner transaction for relayed v2")}};pe.ErrGasLimitShouldBe0ForInnerTransaction=xy});var ob=v(ii=>{"use strict";c();var OL=ii&&ii.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ii,"__esModule",{value:!0});ii.TokenPayment=ii.TokenTransfer=void 0;var cc=OL(Wt()),PL=He(),ib="EGLD",sb=18;cc.default.set({ROUNDING_MODE:1});var zr=class{constructor(e){let r=new cc.default(e.amountAsBigInteger);if(!r.isInteger()||r.isNegative())throw new PL.ErrInvalidArgument(`bad amountAsBigInteger: ${e.amountAsBigInteger}`);this.tokenIdentifier=e.tokenIdentifier,this.nonce=e.nonce,this.amountAsBigInteger=r,this.numDecimals=e.numDecimals}static egldFromAmount(e){let r=new cc.default(e).shiftedBy(sb).decimalPlaces(0);return this.egldFromBigInteger(r)}static egldFromBigInteger(e){return new zr({tokenIdentifier:ib,nonce:0,amountAsBigInteger:e,numDecimals:sb})}static fungibleFromAmount(e,r,n){let i=new cc.default(r).shiftedBy(n).decimalPlaces(0);return this.fungibleFromBigInteger(e,i,n)}static fungibleFromBigInteger(e,r,n=0){return new zr({tokenIdentifier:e,nonce:0,amountAsBigInteger:r,numDecimals:n})}static nonFungible(e,r){return new zr({tokenIdentifier:e,nonce:r,amountAsBigInteger:1,numDecimals:0})}static semiFungible(e,r,n){return new zr({tokenIdentifier:e,nonce:r,amountAsBigInteger:n,numDecimals:0})}static metaEsdtFromAmount(e,r,n,i){let s=new cc.default(n).shiftedBy(i).decimalPlaces(0);return this.metaEsdtFromBigInteger(e,r,s,i)}static metaEsdtFromBigInteger(e,r,n,i=0){return new zr({tokenIdentifier:e,nonce:r,amountAsBigInteger:n,numDecimals:i})}toString(){return this.amountAsBigInteger.toFixed(0)}valueOf(){return this.amountAsBigInteger}toPrettyString(){return`${this.toAmount()} ${this.tokenIdentifier}`}toAmount(){return this.amountAsBigInteger.shiftedBy(-this.numDecimals).toFixed(this.numDecimals)}isEgld(){return this.tokenIdentifier==ib}isFungible(){return this.nonce==0}};ii.TokenTransfer=zr;var Ny=class extends zr{constructor(e,r,n,i){super({tokenIdentifier:e,nonce:r,amountAsBigInteger:n,numDecimals:i})}};ii.TokenPayment=Ny});var Ro=v(ke=>{"use strict";c();Object.defineProperty(ke,"__esModule",{value:!0});ke.ARGUMENTS_SEPARATOR=ke.ESDT_TRANSFER_VALUE=ke.MULTI_ESDTNFT_TRANSFER_FUNCTION_NAME=ke.ESDTNFT_TRANSFER_FUNCTION_NAME=ke.ESDT_TRANSFER_FUNCTION_NAME=ke.ESDT_TRANSFER_GAS_LIMIT=ke.TRANSACTION_VERSION_WITH_OPTIONS=ke.TRANSACTION_VERSION_DEFAULT=ke.TRANSACTION_OPTIONS_TX_GUARDED=ke.TRANSACTION_OPTIONS_TX_HASH_SIGN=ke.TRANSACTION_OPTIONS_DEFAULT=ke.TRANSACTION_MIN_GAS_PRICE=void 0;ke.TRANSACTION_MIN_GAS_PRICE=1e9;ke.TRANSACTION_OPTIONS_DEFAULT=0;ke.TRANSACTION_OPTIONS_TX_HASH_SIGN=1;ke.TRANSACTION_OPTIONS_TX_GUARDED=2;ke.TRANSACTION_VERSION_DEFAULT=1;ke.TRANSACTION_VERSION_WITH_OPTIONS=2;ke.ESDT_TRANSFER_GAS_LIMIT=5e5;ke.ESDT_TRANSFER_FUNCTION_NAME="ESDTTransfer";ke.ESDTNFT_TRANSFER_FUNCTION_NAME="ESDTNFTTransfer";ke.MULTI_ESDTNFT_TRANSFER_FUNCTION_NAME="MultiESDTNFTTransfer";ke.ESDT_TRANSFER_VALUE="0";ke.ARGUMENTS_SEPARATOR="@"});var fr=v(Je=>{"use strict";c();var BL=Je&&Je.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),RL=Je&&Je.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),LL=Je&&Je.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&BL(e,t,r);return RL(e,t),e};Object.defineProperty(Je,"__esModule",{value:!0});Je.isEmpty=Je.guardEmpty=Je.guardNotEmpty=Je.guardLength=Je.guardSameLength=Je.guardValueIsSetWithMessage=Je.guardValueIsSet=Je.guardTrue=void 0;var Lo=LL(He());function FL(t,e){if(!t)throw new Lo.ErrInvariantFailed(`[<${e}>] isn't true`)}Je.guardTrue=FL;function ML(t,e){ab(`${t} isn't set (null or undefined)`,e)}Je.guardValueIsSet=ML;function ab(t,e){if(e==null||e===void 0)throw new Lo.ErrInvariantFailed(t)}Je.guardValueIsSetWithMessage=ab;function UL(t,e){if(t=t||[],e=e||[],t.length!=e.length)throw new Lo.ErrInvariantFailed("arrays do not have the same length")}Je.guardSameLength=UL;function qL(t,e){let r=t.length||0;if(r!=e)throw new Lo.ErrInvariantFailed(`wrong length, expected: ${e}, actual: ${r}`)}Je.guardLength=qL;function VL(t,e){if(Dy(t))throw new Lo.ErrInvariantFailed(`${e} is empty`)}Je.guardNotEmpty=VL;function HL(t,e){if(!Dy(t))throw new Lo.ErrInvariantFailed(`${e} is not empty`)}Je.guardEmpty=HL;function Dy(t){return t.isEmpty?t.isEmpty():t.length===0}Je.isEmpty=Dy});var ub=v(mf=>{"use strict";c();Object.defineProperty(mf,"__esModule",{value:!0});mf.getJavascriptPrototypesInHierarchy=void 0;function jL(t,e){let r=[],n=Object.getPrototypeOf(t);for(;n&&e(n);)r.push(n),n=Object.getPrototypeOf(n);return r}mf.getJavascriptPrototypesInHierarchy=jL});var mt=v(yt=>{"use strict";c();Object.defineProperty(yt,"__esModule",{value:!0});yt.NullType=yt.TypePlaceholder=yt.isTyped=yt.PrimitiveValue=yt.TypedValue=yt.CustomType=yt.PrimitiveType=yt.TypeCardinality=yt.Type=void 0;var Oy=ub(),cb=fr(),sr=class{constructor(e,r=[],n=Rn.fixed(1)){cb.guardValueIsSet("name",e),this.name=e,this.typeParameters=r,this.cardinality=n}getName(){return this.name}getClassName(){return sr.ClassName}getClassHierarchy(){return Oy.getJavascriptPrototypesInHierarchy(this,n=>n.belongsToTypesystem).map(n=>n.getClassName()).reverse()}getFullyQualifiedName(){let e=this.getTypeParameters().map(r=>r.getFullyQualifiedName()).join(", ");return this.isGenericType()?`multiversx:types:${this.getName()}<${e}>`:`multiversx:types:${this.getName()}`}hasExactClass(e){return this.getClassName()==e}hasClassOrSuperclass(e){return this.getClassHierarchy().includes(e)}getTypeParameters(){return this.typeParameters}isGenericType(){return this.typeParameters.length>0}getFirstTypeParameter(){return cb.guardTrue(this.typeParameters.length>0,"type parameters length > 0"),this.typeParameters[0]}toString(){let e=this.getTypeParameters().map(n=>n.toString()).join(", "),r=e?`<${e}>`:"";return`${this.name}${r}`}equals(e){return sr.equals(this,e)}static equals(e,r){return e.getFullyQualifiedName()==r.getFullyQualifiedName()}static equalsMany(e,r){return e.every((n,i)=>n.equals(r[i]))}static isAssignableFromMany(e,r){return e.every((n,i)=>n.isAssignableFrom(r[i]))}differs(e){return!this.equals(e)}valueOf(){return this.name}isAssignableFrom(e){if(!sr.equalsMany(this.getTypeParameters(),e.getTypeParameters()))return!1;let n=this.getFullyQualifiedName();return sr.getFullyQualifiedNamesInHierarchy(e).includes(n)?!0:e.hasClassOrSuperclass(this.getClassName())}static getFullyQualifiedNamesInHierarchy(e){return Oy.getJavascriptPrototypesInHierarchy(e,i=>i.belongsToTypesystem).map(i=>i.getFullyQualifiedName.call(e))}getNamesOfDependencies(){let e=[];for(let r of this.typeParameters)e.push(r.getName()),e.push(...r.getNamesOfDependencies());return[...new Set(e)]}toJSON(){return{name:this.name,typeParameters:this.typeParameters.map(e=>e.toJSON())}}getCardinality(){return this.cardinality}belongsToTypesystem(){}};yt.Type=sr;sr.ClassName="Type";var Rn=class{constructor(e,r){this.lowerBound=e,this.upperBound=r}static fixed(e){return new Rn(e,e)}static variable(e){return new Rn(0,e)}isSingular(){return this.lowerBound==1&&this.upperBound==1}isSingularOrNone(){return this.lowerBound==0&&this.upperBound==1}isComposite(){return this.upperBound!=1}isFixed(){return this.lowerBound==this.upperBound}getLowerBound(){return this.lowerBound}getUpperBound(){return this.upperBound||Rn.MaxCardinality}};yt.TypeCardinality=Rn;Rn.MaxCardinality=4096;var Fo=class extends sr{constructor(e){super(e)}getClassName(){return Fo.ClassName}};yt.PrimitiveType=Fo;Fo.ClassName="PrimitiveType";var Mo=class extends sr{getClassName(){return Mo.ClassName}};yt.CustomType=Mo;Mo.ClassName="CustomType";var ds=class{constructor(e){this.type=e}getClassName(){return ds.ClassName}getClassHierarchy(){return Oy.getJavascriptPrototypesInHierarchy(this,n=>n.belongsToTypesystem).map(n=>n.getClassName()).reverse()}getType(){return this.type}hasExactClass(e){return this.getClassName()==e}hasClassOrSuperclass(e){return this.getClassHierarchy().includes(e)}belongsToTypesystem(){}};yt.TypedValue=ds;ds.ClassName="TypedValue";var Uo=class extends ds{constructor(e){super(e)}getClassName(){return Uo.ClassName}};yt.PrimitiveValue=Uo;Uo.ClassName="PrimitiveValue";function GL(t){return t.belongsToTypesystem!==void 0}yt.isTyped=GL;var qo=class extends sr{constructor(){super("...")}getClassName(){return qo.ClassName}};yt.TypePlaceholder=qo;qo.ClassName="TypePlaceholder";var Vo=class extends sr{constructor(){super("?")}getClassName(){return Vo.ClassName}};yt.NullType=Vo;Vo.ClassName="NullType"});var lb=v((Ho,jo)=>{c();(function(t){var e=typeof Ho=="object"&&Ho&&!Ho.nodeType&&Ho,r=typeof jo=="object"&&jo&&!jo.nodeType&&jo,n=typeof global=="object"&&global;(n.global===n||n.window===n||n.self===n)&&(t=n);var i,s=2147483647,o=36,a=1,u=26,l=38,f=700,d=72,y=128,w="-",E=/^xn--/,T=/[^\x20-\x7E]/,R=/[\x2E\u3002\uFF0E\uFF61]/g,_={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},B=o-a,x=Math.floor,O=String.fromCharCode,P;function L(Y){throw new RangeError(_[Y])}function b(Y,ie){for(var te=Y.length,ne=[];te--;)ne[te]=ie(Y[te]);return ne}function C(Y,ie){var te=Y.split("@"),ne="";te.length>1&&(ne=te[0]+"@",Y=te[1]),Y=Y.replace(R,".");var q=Y.split("."),ce=b(q,ie).join(".");return ne+ce}function M(Y){for(var ie=[],te=0,ne=Y.length,q,ce;te<ne;)q=Y.charCodeAt(te++),q>=55296&&q<=56319&&te<ne?(ce=Y.charCodeAt(te++),(ce&64512)==56320?ie.push(((q&1023)<<10)+(ce&1023)+65536):(ie.push(q),te--)):ie.push(q);return ie}function Z(Y){return b(Y,function(ie){var te="";return ie>65535&&(ie-=65536,te+=O(ie>>>10&1023|55296),ie=56320|ie&1023),te+=O(ie),te}).join("")}function K(Y){return Y-48<10?Y-22:Y-65<26?Y-65:Y-97<26?Y-97:o}function j(Y,ie){return Y+22+75*(Y<26)-((ie!=0)<<5)}function G(Y,ie,te){var ne=0;for(Y=te?x(Y/f):Y>>1,Y+=x(Y/ie);Y>B*u>>1;ne+=o)Y=x(Y/B);return x(ne+(B+1)*Y/(Y+l))}function $(Y){var ie=[],te=Y.length,ne,q=0,ce=y,oe=d,le,se,ue,g,m,A,D,I,N;for(le=Y.lastIndexOf(w),le<0&&(le=0),se=0;se<le;++se)Y.charCodeAt(se)>=128&&L("not-basic"),ie.push(Y.charCodeAt(se));for(ue=le>0?le+1:0;ue<te;){for(g=q,m=1,A=o;ue>=te&&L("invalid-input"),D=K(Y.charCodeAt(ue++)),(D>=o||D>x((s-q)/m))&&L("overflow"),q+=D*m,I=A<=oe?a:A>=oe+u?u:A-oe,!(D<I);A+=o)N=o-I,m>x(s/N)&&L("overflow"),m*=N;ne=ie.length+1,oe=G(q-g,ne,g==0),x(q/ne)>s-ce&&L("overflow"),ce+=x(q/ne),q%=ne,ie.splice(q++,0,ce)}return Z(ie)}function de(Y){var ie,te,ne,q,ce,oe,le,se,ue,g,m,A=[],D,I,N,F;for(Y=M(Y),D=Y.length,ie=y,te=0,ce=d,oe=0;oe<D;++oe)m=Y[oe],m<128&&A.push(O(m));for(ne=q=A.length,q&&A.push(w);ne<D;){for(le=s,oe=0;oe<D;++oe)m=Y[oe],m>=ie&&m<le&&(le=m);for(I=ne+1,le-ie>x((s-te)/I)&&L("overflow"),te+=(le-ie)*I,ie=le,oe=0;oe<D;++oe)if(m=Y[oe],m<ie&&++te>s&&L("overflow"),m==ie){for(se=te,ue=o;g=ue<=ce?a:ue>=ce+u?u:ue-ce,!(se<g);ue+=o)F=se-g,N=o-g,A.push(O(j(g+F%N,0))),se=x(F/N);A.push(O(j(se,0))),ce=G(te,I,ne==q),te=0,++ne}++te,++ie}return A.join("")}function ae(Y){return C(Y,function(ie){return E.test(ie)?$(ie.slice(4).toLowerCase()):ie})}function re(Y){return C(Y,function(ie){return T.test(ie)?"xn--"+de(ie):ie})}if(i={version:"1.4.1",ucs2:{decode:M,encode:Z},decode:$,encode:de,toASCII:re,toUnicode:ae},typeof define=="function"&&typeof define.amd=="object"&&define.amd)define("punycode",function(){return i});else if(e&&r)if(jo.exports==e)r.exports=i;else for(P in i)i.hasOwnProperty(P)&&(e[P]=i[P]);else t.punycode=i})(Ho)});var pb=v((RX,By)=>{"use strict";c();var hb=lb();function QL(t,e){this.__proto__=new Error(e),this.__proto__.name="BackslashError",this.offset=t}function Py(t){return t>="0"&&t<="7"}function kL(t){return t>="0"&&t<="9"||t>="a"&&t<="f"||t>="A"&&t<="F"}function fb(t){return t=parseInt(t,16),hb.ucs2.encode([t])}function db(t,e,r){var n=!1,i=[];function s(u){var l=t[u];if(!kL(l))throw new QL(u,"Unexpected token ILLEGAL");return l}for(;e<t.length;){var o=t[e];if(e++,n){switch(n=!1,o){case"n":i.push(`
`);continue;case"r":i.push("\r");continue;case"f":i.push("\f");continue;case"b":i.push("\b");continue;case"t":i.push("	");continue;case"v":i.push("\v");continue;case"\\":i.push("\\");continue}if(o==="x"){i.push(fb(s(e)+s(e+1))),e+=2;continue}if(o==="u"){i.push(fb(s(e)+s(e+1)+s(e+2)+s(e+3))),e+=4;continue}if(Py(o)){var a;Py(a=t[e])&&(e++,o+=a,Py(a=t[e])&&o[0]<="3"&&(e++,o+=a)),i.push(hb.ucs2.encode([parseInt(o,8)]));continue}i.push(o)}else if(o==="\\")n=!0;else if(o===r){e--;break}else i.push(o)}return arguments.length===3?{end:e,value:i.join("")}:i.join("")}By.exports=function(e){return db(e,0)};By.exports.parseUntil=function(e,r,n){return db(e,r,n)}});var Ab=v((FX,vb)=>{c();var mb=pb();vb.exports={validate:KL,parse:zL};function KL(t,e){var r;if(e=e||!1,typeof t!="string")r="Input must be a string";else try{wf(t,0,e,!1)}catch(n){r=n.message}return r}function zL(t,e){if(typeof t!="string")throw new Error("Input must be a string");e=e||!1;var r=wf(t,0,e,!0);return r.value}function wb(t,e){for(var r=t.length,n=e,i,s=e;s<r;s++){var o=t[s];if(o===","){i=s;break}else if(o==="]"||o==="}"){i=s-1;break}else if(!ps(o))throw Ln(t,s,"expecting end of expression or separator")}var a;return i===void 0?(i=r,a=t[i]):(a=t[i],i++),{start:n,end:i,value:a}}function WL(t,e){for(var r=t.length,n=e,i,s=e;s<r;s++){var o=t[s];if(o===":"){i=s;break}else if(!ps(o))throw Ln(t,s,"expecting ':'")}if(i===void 0)throw Ln(t,s,"expecting ':'");return i++,{start:n,end:i}}function wf(t,e,r,n){for(var i=t.length,s,o,a=!1,u=!1,l=!1,f=!1,d=!1,y=!1,w,E=e;E<i;E++){var T=t[E];if(s===void 0){if(!ps(T)){if(T==="[")a=!0;else if(T==="{")u=!0;else if(T==='"')l=!0;else if(XL(t,E)){s=E,E=E+3,o=E,w=!0;break}else if(ZL(t,E)){s=E,E=E+4,o=E,w=!1;break}else if(e5(t,E)){s=E,E=E+3,o=E,w=null;break}else if(gb(T))f=!0;else if(T==="-")f=!0;else throw Ln(t,E,"");s=E}}else if(a){var R=JL(t,E,r,n);o=R.end,w=R.value;break}else if(u){var _=YL(t,E,r,n);o=_.end,w=_.value;break}else if(l&&T==='"'&&Eb(t,E-1)){o=E,w=mb(t.substring(s+1,o));break}else if(f)if(ps(T))y=!0;else if(T===","||T==="]"||T==="}"){w=parseFloat(t.substring(s,o),10),o=E-1;break}else{if(gb(T)&&!y)continue;if(T==="."&&!d&&!y)d=!0;else throw Ln(t,E,"expecting number")}}if(o===void 0)if(f)w=parseFloat(t.substring(s,E),10),o=E-1;else throw Ln(t,E,"unclosed statement");return o++,{value:w,start:s,end:o}}function $L(t,e){for(var r=t.length,n,i,s=e;s<r;s++){var o=t[s];if(n===void 0){if(!ps(o)){if(o!=='"')throw Ln(t,s,"expecting String");n=s}}else if(o==='"'&&Eb(t,s-1)){i=s;break}}if(i===void 0)throw Ln(t,r,"expecting String");var a=mb(t.substring(n+1,i));if(a==="")throw Ln(t,n,"empty string");return i++,{start:n,end:i,value:a}}function YL(t,e,r,n){for(var i=e,s=",",o={},a=[],u=[],l=e;ps(t[l]);)l++;if(t[l]==="}")return{start:e,end:l,value:o};for(;s===",";){var f=$L(t,i),d=WL(t,f.end),y=wf(t,d.end,r,n),w=wb(t,y.end);r||a.indexOf(f.value)!==-1&&(f.value=f.value+"1"),a.push(f.value),u.push(y.value),i=w.end,s=w.value}if(n){var E=0;for(E=0;E<a.length;E++)o[a[E]]=u[E]}return{start:e,end:i,value:o}}function Eb(t,e){for(var r=e,n=0;r>-1&&t[r]==="\\";)n++,r--;return n%2===0}function JL(t,e,r,n){for(var i=e,s=",",o=[],a=e;ps(t[a]);)a++;if(t[a]==="]")return{start:e,end:a,value:o};for(;s===",";){var u=wf(t,i,r,n),l=wb(t,u.end);n&&o.push(u.value),i=l.end,s=l.value}return{start:e,end:i,value:o}}function XL(t,e){return t.substr(e,4)==="true"}function ZL(t,e){return t.substr(e,5)==="false"}function e5(t,e){return t.substr(e,4)==="null"}var t5=new RegExp(/^\s$/);function ps(t){return t5.test(t)}var r5=new RegExp(/^\d$/);function gb(t){return r5.test(t)}function Ln(t,e,r){var n=10,i;t.length<e+n?i=t.substr(yb(t.length-n),t.length):e-n/2<0?i=t.substr(0,n):i=t.substr(yb(e-n/2),n);var s;return r?s="Syntax error: "+r+" near "+i:s="Syntax error near "+i,new Error(s)}function yb(t){return t<0?0:t}});var Ef=v(Wr=>{"use strict";c();var n5=Wr&&Wr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),i5=Wr&&Wr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s5=Wr&&Wr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&n5(e,t,r);return i5(e,t),e};Object.defineProperty(Wr,"__esModule",{value:!0});Wr.TypeExpressionParser=void 0;var _b=s5(He()),o5=mt(),a5=Ab(),Ry=class{parse(e){let r=this.doParse(e),n=Object.keys(r);if(n.length!=1)throw new _b.ErrTypingSystem(`bad type expression: ${e}`);let i=n[0];return this.nodeToType(i,r[i])}doParse(e){let r=this.getJsonedString(e);try{return a5.parse(r)}catch{throw new _b.ErrTypingSystem(`cannot parse type expression: ${e}. internal json: ${r}.`)}}getJsonedString(e){let r="";for(var n=0;n<e.length;n++){let o=e.charAt(n),a=e.charAt(n-1),u=e.charAt(n+1);o=="<"?r+=": {":o==">"?a!=">"?r+=": {} }":r+="}":o==","?u==">"||(a==">"?r+=",":r+=": {},"):r+=o}let i=/(:|\{|\}|,|\s)/,s=r.replace(/utf\-8\sstring/ig,"utf-8-string").split(i).filter(o=>o);return r=s.map(o=>i.test(o)?o:`"${o}"`).map(o=>o.replace(/utf\-8\-string/ig,"utf-8 string")).join(""),s.length==1?`{${r}: {}}`:`{${r}}`}nodeToType(e,r){e.charAt(e.length-1)==="1"&&(e=e.slice(0,-1));let n=Object.keys(r).map(i=>this.nodeToType(i,r[i]));return new o5.Type(e,n)}};Wr.TypeExpressionParser=Ry});var Ly=v(si=>{"use strict";c();Object.defineProperty(si,"__esModule",{value:!0});si.EndpointParameterDefinition=si.EndpointModifiers=si.EndpointDefinition=void 0;var u5=Ef(),bb="?",c5="N / A",lc=class{constructor(e,r,n,i){this.input=[],this.output=[],this.name=e,this.input=r||[],this.output=n||[],this.modifiers=i}isConstructor(){return this.name=="constructor"}static fromJSON(e){e.name=e.name==null?bb:e.name,e.payableInTokens=e.payableInTokens||[],e.inputs=e.inputs||[],e.outputs=e.outputs||[];let r=e.inputs.map(s=>gs.fromJSON(s)),n=e.outputs.map(s=>gs.fromJSON(s)),i=new vf(e.mutability,e.payableInTokens);return new lc(e.name,r,n,i)}};si.EndpointDefinition=lc;var vf=class{constructor(e,r){this.mutability=e||"",this.payableInTokens=r||[]}isPayableInEGLD(){return this.isPayableInToken("EGLD")}isPayableInToken(e){return this.payableInTokens.includes(e)?!0:this.payableInTokens.includes(`!${e}`)?!1:!!this.payableInTokens.includes("*")}isPayable(){return this.payableInTokens.length!=0}isReadonly(){return this.mutability=="readonly"}};si.EndpointModifiers=vf;var gs=class{constructor(e,r,n){this.name=e,this.description=r,this.type=n}static fromJSON(e){let r=new u5.TypeExpressionParser().parse(e.type);return new gs(e.name||bb,e.description||c5,r)}};si.EndpointParameterDefinition=gs});var Go=v(Xt=>{"use strict";c();var l5=Xt&&Xt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),f5=Xt&&Xt.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),h5=Xt&&Xt.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&l5(e,t,r);return f5(e,t),e};Object.defineProperty(Xt,"__esModule",{value:!0});Xt.Fields=Xt.Field=Xt.FieldDefinition=void 0;var Fy=h5(He()),d5=Ef(),fc=class{constructor(e,r,n){this.name=e,this.description=r,this.type=n}static fromJSON(e){let r=new d5.TypeExpressionParser().parse(e.type);return new fc(e.name,e.description,r)}};Xt.FieldDefinition=fc;var My=class{constructor(e,r=""){this.value=e,this.name=r}checkTyping(e){let r=this.value.getType();if(!r.equals(e.type))throw new Fy.ErrTypingSystem(`check type of field "${e.name}; expected: ${e.type}, actual: ${r}"`);if(this.name!=e.name)throw new Fy.ErrTypingSystem(`check name of field "${e.name}"`)}equals(e){return this.name==e.name&&this.value.equals(e.value)}};Xt.Field=My;var Uy=class{static checkTyping(e,r){if(e.length!=r.length)throw new Fy.ErrTypingSystem("fields length vs. field definitions length");for(let n=0;n<e.length;n++){let i=e[n],s=r[n];i.checkTyping(s)}}static equals(e,r){if(e.length!=r.length)return!1;for(let n=0;n<e.length;n++){let i=e[n],s=r[n];if(!i.equals(s))return!1}return!0}static getNamesOfTypeDependencies(e){let r=[];for(let n of e)r.push(n.type.getName()),r.push(...n.type.getNamesOfDependencies());return[...new Set(r)]}};Xt.Fields=Uy});var hc=v(ai=>{"use strict";c();Object.defineProperty(ai,"__esModule",{value:!0});ai.EnumValue=ai.EnumVariantDefinition=ai.EnumType=void 0;var p5=He(),qy=fr(),Af=Go(),Sb=mt(),Ib=256,ys=class extends Sb.CustomType{constructor(e,r){super(e),this.variants=[],this.variants=r}getClassName(){return ys.ClassName}static fromJSON(e){let r=(e.variants||[]).map(n=>Qo.fromJSON(n));return new ys(e.name,r)}getVariantByDiscriminant(e){let r=this.variants.find(n=>n.discriminant==e);return qy.guardValueIsSet(`variant by discriminant (${e})`,r),r}getVariantByName(e){let r=this.variants.find(n=>n.name==e);return qy.guardValueIsSet(`variant by name (${e})`,r),r}getNamesOfDependencies(){let e=[];for(let r of this.variants)e.push(...r.getNamesOfDependencies());return[...new Set(e)]}};ai.EnumType=ys;ys.ClassName="EnumType";var Qo=class{constructor(e,r,n=[]){this.fieldsDefinitions=[],qy.guardTrue(r<Ib,`discriminant for simple enum should be less than ${Ib}`),this.name=e,this.discriminant=r,this.fieldsDefinitions=n}static fromJSON(e){let r=(e.fields||[]).map(n=>Af.FieldDefinition.fromJSON(n));return new Qo(e.name,e.discriminant,r)}getFieldsDefinitions(){return this.fieldsDefinitions}getFieldDefinition(e){return this.fieldsDefinitions.find(r=>r.name==e)}getNamesOfDependencies(){return Af.Fields.getNamesOfTypeDependencies(this.fieldsDefinitions)}};ai.EnumVariantDefinition=Qo;var oi=class extends Sb.TypedValue{constructor(e,r,n){super(e),this.fields=[],this.name=r.name,this.discriminant=r.discriminant,this.fields=n,this.fieldsByName=new Map(n.map(s=>[s.name,s]));let i=r.getFieldsDefinitions();Af.Fields.checkTyping(this.fields,i)}getClassName(){return oi.ClassName}static fromName(e,r){let n=e.getVariantByName(r);return new oi(e,n,[])}static fromDiscriminant(e,r){let n=e.getVariantByDiscriminant(r);return new oi(e,n,[])}equals(e){if(!this.getType().equals(e.getType()))return!1;let r=this.getFields(),n=e.getFields(),i=this.name==e.name,s=this.discriminant==e.discriminant,o=Af.Fields.equals(r,n);return i&&s&&o}getFields(){return this.fields}getFieldValue(e){let r=this.fieldsByName.get(e);if(r)return r.value.valueOf();throw new p5.ErrMissingFieldOnEnum(e,this.getType().getName())}valueOf(){let e={name:this.name,fields:[]};return this.fields.forEach(r=>e.fields[r.name]=r.value.valueOf()),e}};ai.EnumValue=oi;oi.ClassName="EnumValue"});var zo=v(Ko=>{"use strict";c();Object.defineProperty(Ko,"__esModule",{value:!0});Ko.Struct=Ko.StructType=void 0;var g5=He(),_f=Go(),Cb=mt(),ms=class extends Cb.CustomType{constructor(e,r){super(e),this.fieldsDefinitions=[],this.fieldsDefinitions=r}getClassName(){return ms.ClassName}static fromJSON(e){let r=(e.fields||[]).map(n=>_f.FieldDefinition.fromJSON(n));return new ms(e.name,r)}getFieldsDefinitions(){return this.fieldsDefinitions}getFieldDefinition(e){return this.fieldsDefinitions.find(r=>r.name==e)}getNamesOfDependencies(){return _f.Fields.getNamesOfTypeDependencies(this.fieldsDefinitions)}};Ko.StructType=ms;ms.ClassName="StructType";var ko=class extends Cb.TypedValue{constructor(e,r){super(e),this.fields=r,this.fieldsByName=new Map(r.map(n=>[n.name,n])),this.checkTyping()}getClassName(){return ko.ClassName}checkTyping(){let r=this.getType().getFieldsDefinitions();_f.Fields.checkTyping(this.fields,r)}getFields(){return this.fields}getFieldValue(e){let r=this.fieldsByName.get(e);if(r)return r.value.valueOf();throw new g5.ErrMissingFieldOnStruct(e,this.getType().getName())}valueOf(){let e={};for(let r of this.fields)e[r.name]=r.value.valueOf();return e}equals(e){if(!this.getType().equals(e.getType()))return!1;let r=this.getFields(),n=e.getFields();return _f.Fields.equals(r,n)}};Ko.Struct=ko;ko.ClassName="Struct"});var Cf=v((WX,Nb)=>{"use strict";c();var If="qpzry9x8gf2tvdw0s3jn54khce6mua7l",Vy={};for(dc=0;dc<If.length;dc++){if(bf=If.charAt(dc),Vy[bf]!==void 0)throw new TypeError(bf+" is ambiguous");Vy[bf]=dc}var bf,dc;function Wo(t){var e=t>>25;return(t&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}function Tb(t){for(var e=1,r=0;r<t.length;++r){var n=t.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+t+")";e=Wo(e)^n>>5}for(e=Wo(e),r=0;r<t.length;++r){var i=t.charCodeAt(r);e=Wo(e)^i&31}return e}function y5(t,e,r){if(r=r||90,t.length+7+e.length>r)throw new TypeError("Exceeds length limit");t=t.toLowerCase();var n=Tb(t);if(typeof n=="string")throw new Error(n);for(var i=t+"1",s=0;s<e.length;++s){var o=e[s];if(o>>5)throw new Error("Non 5-bit word");n=Wo(n)^o,i+=If.charAt(o)}for(s=0;s<6;++s)n=Wo(n);for(n^=1,s=0;s<6;++s){var a=n>>(5-s)*5&31;i+=If.charAt(a)}return i}function xb(t,e){if(e=e||90,t.length<8)return t+" too short";if(t.length>e)return"Exceeds length limit";var r=t.toLowerCase(),n=t.toUpperCase();if(t!==r&&t!==n)return"Mixed-case string "+t;t=r;var i=t.lastIndexOf("1");if(i===-1)return"No separator character for "+t;if(i===0)return"Missing prefix for "+t;var s=t.slice(0,i),o=t.slice(i+1);if(o.length<6)return"Data too short";var a=Tb(s);if(typeof a=="string")return a;for(var u=[],l=0;l<o.length;++l){var f=o.charAt(l),d=Vy[f];if(d===void 0)return"Unknown character "+f;a=Wo(a)^d,!(l+6>=o.length)&&u.push(d)}return a!==1?"Invalid checksum for "+t:{prefix:s,words:u}}function m5(){var t=xb.apply(null,arguments);if(typeof t=="object")return t}function w5(t){var e=xb.apply(null,arguments);if(typeof e=="object")return e;throw new Error(e)}function Sf(t,e,r,n){for(var i=0,s=0,o=(1<<r)-1,a=[],u=0;u<t.length;++u)for(i=i<<e|t[u],s+=e;s>=r;)s-=r,a.push(i>>s&o);if(n)s>0&&a.push(i<<r-s&o);else{if(s>=e)return"Excess padding";if(i<<r-s&o)return"Non-zero padding"}return a}function E5(t){var e=Sf(t,8,5,!0);if(Array.isArray(e))return e}function v5(t){var e=Sf(t,8,5,!0);if(Array.isArray(e))return e;throw new Error(e)}function A5(t){var e=Sf(t,5,8,!1);if(Array.isArray(e))return e}function _5(t){var e=Sf(t,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}Nb.exports={decodeUnsafe:m5,decode:w5,encode:y5,toWordsUnsafe:E5,toWords:v5,fromWordsUnsafe:A5,fromWords:_5}});var Zt=v($r=>{"use strict";c();var b5=$r&&$r.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),I5=$r&&$r.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Db=$r&&$r.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&b5(e,t,r);return I5(e,t),e};Object.defineProperty($r,"__esModule",{value:!0});$r.Address=void 0;var Tf=Db(Cf()),$o=Db(He()),Hy="erd",jy=32,S5="0".repeat(16),_t=class{constructor(e){if(this.valueHex="",!!e){if(e instanceof _t)return _t.fromAddress(e);if(e instanceof h.Buffer)return _t.fromBuffer(e);if(typeof e=="string")return _t.fromString(e);throw new $o.ErrAddressCannotCreate(e)}}static fromAddress(e){return _t.fromValidHex(e.valueHex)}static fromValidHex(e){let r=new _t;return r.valueHex=e,r}static fromBuffer(e){if(e.length!=jy)throw new $o.ErrAddressCannotCreate(e);return _t.fromValidHex(e.toString("hex"))}static fromString(e){return _t.isValidHex(e)?_t.fromValidHex(e):_t.fromBech32(e)}static isValidHex(e){return h.Buffer.from(e,"hex").length==jy}static fromHex(e){if(!_t.isValidHex(e))throw new $o.ErrAddressCannotCreate(e);return _t.fromValidHex(e)}static empty(){return new _t}static fromBech32(e){let r;try{r=Tf.decode(e)}catch(s){throw new $o.ErrAddressCannotCreate(e,s)}let n=r.prefix;if(n!=Hy)throw new $o.ErrAddressBadHrp(Hy,n);let i=h.Buffer.from(Tf.fromWords(r.words));if(i.length!=jy)throw new $o.ErrAddressCannotCreate(e);return _t.fromValidHex(i.toString("hex"))}hex(){return this.isEmpty()?"":this.valueHex}bech32(){if(this.isEmpty())return"";let e=Tf.toWords(this.pubkey());return Tf.encode(Hy,e)}pubkey(){return this.isEmpty()?h.Buffer.from([]):h.Buffer.from(this.valueHex,"hex")}isEmpty(){return!this.valueHex}equals(e){return e?this.valueHex==e.valueHex:!1}toString(){return this.bech32()}toJSON(){return{bech32:this.bech32(),pubkey:this.hex()}}static Zero(){return new _t("0".repeat(64))}isContractAddress(){return this.hex().startsWith(S5)}};$r.Address=_t});var Xo=v(Jo=>{"use strict";c();Object.defineProperty(Jo,"__esModule",{value:!0});Jo.AddressValue=Jo.AddressType=void 0;var C5=Zt(),Ob=mt(),ws=class extends Ob.PrimitiveType{constructor(){super("Address")}getClassName(){return ws.ClassName}};Jo.AddressType=ws;ws.ClassName="AddressType";var Yo=class extends Ob.PrimitiveValue{constructor(e){super(new ws),this.value=new C5.Address(e.bech32())}getClassName(){return Yo.ClassName}equals(e){return this.value.equals(e.value)}valueOf(){return this.value}};Jo.AddressValue=Yo;Yo.ClassName="AddressValue"});var xf=v(Zo=>{"use strict";c();Object.defineProperty(Zo,"__esModule",{value:!0});Zo.OptionalValue=Zo.OptionalType=void 0;var T5=fr(),pc=mt(),ui=class extends pc.Type{constructor(e){super("Optional",[e],pc.TypeCardinality.variable(1))}getClassName(){return ui.ClassName}isAssignableFrom(e){if(!e.hasExactClass(ui.ClassName))return!1;let r=this.getFirstTypeParameter().equals(e.getFirstTypeParameter()),n=e.getFirstTypeParameter().hasExactClass(pc.NullType.ClassName);return r||n}};Zo.OptionalType=ui;ui.ClassName="OptionalType";var Es=class extends pc.TypedValue{constructor(e,r=null){super(e),this.value=r}getClassName(){return Es.ClassName}static newMissing(){let e=new ui(new pc.NullType);return new Es(e)}isSet(){return!!this.value}getTypedValue(){return T5.guardValueIsSet("value",this.value),this.value}valueOf(){return this.value?this.value.valueOf():null}equals(e){var r;return((r=this.value)===null||r===void 0?void 0:r.equals(e.value))||!1}};Zo.OptionalValue=Es;Es.ClassName="OptionalValue"});var gc=v(ta=>{"use strict";c();Object.defineProperty(ta,"__esModule",{value:!0});ta.BooleanValue=ta.BooleanType=void 0;var Pb=mt(),vs=class extends Pb.PrimitiveType{constructor(){super("bool")}getClassName(){return vs.ClassName}};ta.BooleanType=vs;vs.ClassName="BooleanType";var ea=class extends Pb.PrimitiveValue{constructor(e){super(new vs),this.value=e}getClassName(){return ea.ClassName}equals(e){return this.value===e.value}isTrue(){return this.value===!0}isFalse(){return!this.isTrue()}valueOf(){return this.value}};ta.BooleanValue=ea;ea.ClassName="BooleanValue"});var li=v(ra=>{"use strict";c();Object.defineProperty(ra,"__esModule",{value:!0});ra.BytesValue=ra.BytesType=void 0;var Bb=mt(),As=class extends Bb.PrimitiveType{constructor(){super("bytes")}getClassName(){return As.ClassName}};ra.BytesType=As;As.ClassName="BytesType";var ci=class extends Bb.PrimitiveValue{constructor(e){super(new As),this.value=e}getClassName(){return ci.ClassName}static fromUTF8(e){let r=h.Buffer.from(e,"utf-8");return new ci(r)}static fromHex(e){let r=h.Buffer.from(e,"hex");return new ci(r)}getLength(){return this.value.length}equals(e){return this.getLength()!=e.getLength()?!1:this.value.equals(e.value)}valueOf(){return this.value}toString(){return this.value.toString()}};ra.BytesValue=ci;ci.ClassName="BytesValue"});var Lb=v(na=>{"use strict";c();Object.defineProperty(na,"__esModule",{value:!0});na.CodeMetadataValue=na.CodeMetadataType=void 0;var Rb=mt(),Nf=class extends Rb.PrimitiveType{constructor(){super("CodeMetadata")}};na.CodeMetadataType=Nf;var Gy=class extends Rb.PrimitiveValue{constructor(e){super(new Nf),this.value=e}equals(e){return this.value.equals(e.value)}valueOf(){return this.value}};na.CodeMetadataValue=Gy});var Df=v(ia=>{"use strict";c();Object.defineProperty(ia,"__esModule",{value:!0});ia.CompositeValue=ia.CompositeType=void 0;var x5=fr(),Qy=mt(),_s=class extends Qy.Type{constructor(...e){super("Composite",e,Qy.TypeCardinality.variable(e.length))}getClassName(){return _s.ClassName}};ia.CompositeType=_s;_s.ClassName="CompositeType";var bs=class extends Qy.TypedValue{constructor(e,r){super(e),x5.guardLength(r,e.getTypeParameters().length),this.items=r}getClassName(){return bs.ClassName}static fromItems(...e){let r=e.map(i=>i.getType()),n=new _s(...r);return new bs(n,e)}getItems(){return this.items}valueOf(){return this.items.map(e=>e?.valueOf())}equals(e){if(this.getType().differs(e.getType()))return!1;for(let r=0;r<this.items.length;r++){let n=this.items[r],i=e.items[r];if(!n.equals(i))return!1}return!0}};ia.CompositeValue=bs;bs.ClassName="CompositeValue"});var Ky=v(Of=>{"use strict";c();Object.defineProperty(Of,"__esModule",{value:!0});Of.CollectionOfTypedValues=void 0;var ky=class{constructor(e){this.items=e}getLength(){return this.items.length}getItems(){return this.items}valueOf(){return this.items.map(e=>e.valueOf())}equals(e){if(this.getLength()!=e.getLength())return!1;for(let r=0;r<this.getLength();r++){let n=this.items[r],i=e.items[r];if(!n.equals(i))return!1}return!0}};Of.CollectionOfTypedValues=ky});var yc=v(Yr=>{"use strict";c();Object.defineProperty(Yr,"__esModule",{value:!0});Yr.List=Yr.OptionValue=Yr.ListType=Yr.OptionType=void 0;var N5=fr(),D5=Ky(),Is=mt(),Jr=class extends Is.Type{constructor(e){super("Option",[e])}getClassName(){return Jr.ClassName}isAssignableFrom(e){if(!e.hasExactClass(Jr.ClassName))return!1;let r=this.getFirstTypeParameter().equals(e.getFirstTypeParameter()),n=e.getFirstTypeParameter().hasExactClass(Is.NullType.ClassName);return r||n}};Yr.OptionType=Jr;Jr.ClassName="OptionType";var Ss=class extends Is.Type{constructor(e){super("List",[e])}getClassName(){return Ss.ClassName}};Yr.ListType=Ss;Ss.ClassName="ListType";var Fn=class extends Is.TypedValue{constructor(e,r=null){super(e),this.value=r}getClassName(){return Fn.ClassName}static newMissing(){let e=new Jr(new Is.NullType);return new Fn(e)}static newMissingTyped(e){return new Fn(new Jr(e))}static newProvided(e){let r=new Jr(e.getType());return new Fn(r,e)}isSet(){return!!this.value}getTypedValue(){return N5.guardValueIsSet("value",this.value),this.value}valueOf(){return this.value?this.value.valueOf():null}equals(e){var r;return((r=this.value)===null||r===void 0?void 0:r.equals(e.value))||!1}};Yr.OptionValue=Fn;Fn.ClassName="OptionValue";var fi=class extends Is.TypedValue{constructor(e,r){super(e),this.backingCollection=new D5.CollectionOfTypedValues(r)}getClassName(){return fi.ClassName}static fromItems(e){if(e.length==0)return new fi(new Is.TypePlaceholder,[]);let r=e[0].getType(),n=new Ss(r);return new fi(n,e)}getLength(){return this.backingCollection.getLength()}getItems(){return this.backingCollection.getItems()}valueOf(){return this.backingCollection.valueOf()}equals(e){return this.backingCollection.equals(e.backingCollection)}};Yr.List=fi;fi.ClassName="List"});var Pf=v(aa=>{"use strict";c();Object.defineProperty(aa,"__esModule",{value:!0});aa.ArrayVec=aa.ArrayVecType=void 0;var Fb=fr(),O5=Ky(),Mb=mt(),sa=class extends Mb.Type{constructor(e,r){super("Array",[r]),Fb.guardTrue(e>0,"array length > 0"),this.length=e}getClassName(){return sa.ClassName}};aa.ArrayVecType=sa;sa.ClassName="ArrayVecType";var oa=class extends Mb.TypedValue{constructor(e,r){super(e),Fb.guardLength(r,e.length),this.backingCollection=new O5.CollectionOfTypedValues(r)}getClassName(){return oa.ClassName}getLength(){return this.backingCollection.getLength()}getItems(){return this.backingCollection.getItems()}valueOf(){return this.backingCollection.valueOf()}equals(e){return this.backingCollection.equals(e.backingCollection)}};aa.ArrayVec=oa;oa.ClassName="ArrayVec"});var mc=v(ca=>{"use strict";c();Object.defineProperty(ca,"__esModule",{value:!0});ca.H256Value=ca.H256Type=void 0;var Ub=mt(),Cs=class extends Ub.PrimitiveType{constructor(){super("H256")}getClassName(){return Cs.ClassName}};ca.H256Type=Cs;Cs.ClassName="H256Type";var ua=class extends Ub.PrimitiveValue{constructor(e){super(new Cs),this.value=e}getClassName(){return ua.ClassName}equals(e){return this.value.equals(e.value)}valueOf(){return this.value}};ca.H256Value=ua;ua.ClassName="H256Value"});var Bf=v(fa=>{"use strict";c();Object.defineProperty(fa,"__esModule",{value:!0});fa.NothingValue=fa.NothingType=void 0;var qb=mt(),Ts=class extends qb.PrimitiveType{constructor(){super("nothing")}getClassName(){return Ts.ClassName}};fa.NothingType=Ts;Ts.ClassName="NothingType";var la=class extends qb.PrimitiveValue{constructor(){super(new Ts)}getClassName(){return la.ClassName}equals(e){return!1}valueOf(){return{}}};fa.NothingValue=la;la.ClassName="NothingValue"});var wc=v(Ae=>{"use strict";c();var P5=Ae&&Ae.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),B5=Ae&&Ae.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),R5=Ae&&Ae.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&P5(e,t,r);return B5(e,t),e},L5=Ae&&Ae.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ae,"__esModule",{value:!0});Ae.BigIntValue=Ae.BigUIntValue=Ae.I64Value=Ae.U64Value=Ae.I32Value=Ae.U32Value=Ae.I16Value=Ae.U16Value=Ae.I8Value=Ae.U8Value=Ae.NumericalValue=Ae.BigIntType=Ae.BigUIntType=Ae.I64Type=Ae.U64Type=Ae.I32Type=Ae.U32Type=Ae.I16Type=Ae.U16Type=Ae.I8Type=Ae.U8Type=Ae.NumericalType=void 0;var Vb=R5(He()),Hb=mt(),Us=L5(Wt()),Vt=class extends Hb.PrimitiveType{constructor(e,r,n){super(e),this.sizeInBytes=r,this.withSign=n}getClassName(){return Vt.ClassName}hasFixedSize(){return!!this.sizeInBytes}hasArbitrarySize(){return!this.hasFixedSize()}};Ae.NumericalType=Vt;Vt.ClassName="NumericalType";var xs=class extends Vt{constructor(){super("u8",1,!1)}getClassName(){return xs.ClassName}};Ae.U8Type=xs;xs.ClassName="U8Type";var Ns=class extends Vt{constructor(){super("i8",1,!0)}getClassName(){return Ns.ClassName}};Ae.I8Type=Ns;Ns.ClassName="I8Type";var Ds=class extends Vt{constructor(){super("u16",2,!1)}getClassName(){return Ds.ClassName}};Ae.U16Type=Ds;Ds.ClassName="U16Type";var Os=class extends Vt{constructor(){super("i16",2,!0)}getClassName(){return Os.ClassName}};Ae.I16Type=Os;Os.ClassName="I16Type";var Ps=class extends Vt{constructor(){super("u32",4,!1)}getClassName(){return Ps.ClassName}};Ae.U32Type=Ps;Ps.ClassName="U32Type";var Bs=class extends Vt{constructor(){super("i32",4,!0)}getClassName(){return Bs.ClassName}};Ae.I32Type=Bs;Bs.ClassName="I32Type";var Rs=class extends Vt{constructor(){super("u64",8,!1)}getClassName(){return Rs.ClassName}};Ae.U64Type=Rs;Rs.ClassName="U64Type";var Ls=class extends Vt{constructor(){super("i64",8,!0)}getClassName(){return Ls.ClassName}};Ae.I64Type=Ls;Ls.ClassName="I64Type";var Fs=class extends Vt{constructor(){super("BigUint",0,!1)}getClassName(){return Fs.ClassName}};Ae.BigUIntType=Fs;Fs.ClassName="BigUIntType";var Ms=class extends Vt{constructor(){super("Bigint",0,!0)}getClassName(){return Ms.ClassName}};Ae.BigIntType=Ms;Ms.ClassName="BigIntType";var Ht=class extends Hb.PrimitiveValue{constructor(e,r){if(super(e),this.value=new Us.default(r),this.sizeInBytes=e.sizeInBytes,this.withSign=e.withSign,this.value.isNaN())throw new Vb.ErrInvalidArgument(`not a number: ${r}`);if(!this.withSign&&this.value.isNegative())throw new Vb.ErrInvalidArgument(`negative, but type is unsigned: ${r}`)}getClassName(){return Ht.ClassName}equals(e){return this.value.isEqualTo(e.value)}valueOf(){return this.value}toString(){return this.value.toString()}};Ae.NumericalValue=Ht;Ht.ClassName="NumericalValue";var ha=class extends Ht{constructor(e){super(new xs,new Us.default(e))}getClassName(){return ha.ClassName}};Ae.U8Value=ha;ha.ClassName="U8Value";var da=class extends Ht{constructor(e){super(new Ns,new Us.default(e))}getClassName(){return da.ClassName}};Ae.I8Value=da;da.ClassName="I8Value";var pa=class extends Ht{constructor(e){super(new Ds,new Us.default(e))}getClassName(){return pa.ClassName}};Ae.U16Value=pa;pa.ClassName="U16Value";var ga=class extends Ht{constructor(e){super(new Os,new Us.default(e))}getClassName(){return ga.ClassName}};Ae.I16Value=ga;ga.ClassName="I16Value";var ya=class extends Ht{constructor(e){super(new Ps,new Us.default(e))}getClassName(){return ya.ClassName}};Ae.U32Value=ya;ya.ClassName="U32Value";var ma=class extends Ht{constructor(e){super(new Bs,new Us.default(e))}getClassName(){return ma.ClassName}};Ae.I32Value=ma;ma.ClassName="I32Value";var wa=class extends Ht{constructor(e){super(new Rs,e)}getClassName(){return wa.ClassName}};Ae.U64Value=wa;wa.ClassName="U64Value";var Ea=class extends Ht{constructor(e){super(new Ls,e)}getClassName(){return Ea.ClassName}};Ae.I64Value=Ea;Ea.ClassName="I64Value";var va=class extends Ht{constructor(e){super(new Fs,e)}getClassName(){return va.ClassName}};Ae.BigUIntValue=va;va.ClassName="BigUIntValue";var Aa=class extends Ht{constructor(e){super(new Ms,e)}getClassName(){return Aa.ClassName}};Ae.BigIntValue=Aa;Aa.ClassName="BigIntValue"});var Rf=v(_a=>{"use strict";c();Object.defineProperty(_a,"__esModule",{value:!0});_a.StringValue=_a.StringType=void 0;var jb=mt(),qs=class extends jb.PrimitiveType{constructor(){super("utf-8 string")}getClassName(){return qs.ClassName}};_a.StringType=qs;qs.ClassName="StringType";var hi=class extends jb.PrimitiveValue{constructor(e){super(new qs),this.value=e}getClassName(){return hi.ClassName}static fromUTF8(e){return new hi(e)}static fromHex(e){let r=h.Buffer.from(e,"hex").toString();return new hi(r)}getLength(){return this.value.length}equals(e){return this.value===e.value}valueOf(){return this.value}};_a.StringValue=hi;hi.ClassName="StringValue"});var Ia=v(ba=>{"use strict";c();Object.defineProperty(ba,"__esModule",{value:!0});ba.TokenIdentifierValue=ba.TokenIdentifierType=void 0;var Gb=mt(),F5="EGLD",Vs=class extends Gb.PrimitiveType{constructor(){super("TokenIdentifier")}getClassName(){return Vs.ClassName}};ba.TokenIdentifierType=Vs;Vs.ClassName="TokenIdentifierType";var di=class extends Gb.PrimitiveValue{constructor(e){super(new Vs),this.value=e}static egld(){return new di(F5)}static esdtTokenIdentifier(e){return new di(e)}getClassName(){return di.ClassName}getLength(){return this.value.length}equals(e){return this.getLength()!=e.getLength()?!1:this.value==e.value}valueOf(){return this.value}toString(){return this.value.toString()}};ba.TokenIdentifierValue=di;di.ClassName="TokenIdentifierValue"});var Lf=v(hr=>{"use strict";c();var M5=hr&&hr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),U5=hr&&hr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),q5=hr&&hr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&M5(e,t,r);return U5(e,t),e};Object.defineProperty(hr,"__esModule",{value:!0});hr.Tuple=hr.TupleType=void 0;var V5=q5(He()),Qb=Go(),kb=zo(),Mn=class extends kb.StructType{constructor(...e){super(Mn.prepareName(e),Mn.prepareFieldDefinitions(e))}getClassName(){return Mn.ClassName}static prepareName(e){return`tuple<${e.map(i=>i.toString()).join(", ")}>`}static prepareFieldDefinitions(e){return e.map((n,i)=>new Qb.FieldDefinition(Kb(i),"anonymous tuple field",n))}};hr.TupleType=Mn;Mn.ClassName="TupleType";function Kb(t){return`field${t}`}var Hs=class extends kb.Struct{constructor(e,r){super(e,r)}getClassName(){return Hs.ClassName}static fromItems(e){if(e.length<1)throw new V5.ErrTypingSystem("bad tuple items");let r=e.map(s=>s.getType()),n=new Mn(...r),i=e.map((s,o)=>new Qb.Field(s,Kb(o)));return new Hs(n,i)}};hr.Tuple=Hs;Hs.ClassName="Tuple"});var Mf=v(Sa=>{"use strict";c();Object.defineProperty(Sa,"__esModule",{value:!0});Sa.VariadicValue=Sa.VariadicType=void 0;var Ff=mt(),gi=class extends Ff.Type{constructor(e){super("Variadic",[e],Ff.TypeCardinality.variable())}getClassName(){return gi.ClassName}};Sa.VariadicType=gi;gi.ClassName="VariadicType";var pi=class extends Ff.TypedValue{constructor(e,r){super(e),this.items=r}getClassName(){return pi.ClassName}static fromItems(...e){if(e.length==0)return new pi(new gi(new Ff.TypePlaceholder),[]);let r=e[0].getType();return new pi(new gi(r),e)}getItems(){return this.items}valueOf(){return this.items.map(e=>e.valueOf())}equals(e){if(this.getType().differs(e.getType()))return!1;for(let r=0;r<this.items.length;r++){let n=this.items[r],i=e.items[r];if(!n.equals(i))return!1}return!0}};Sa.VariadicValue=pi;pi.ClassName="VariadicValue"});var Jy=v(Xr=>{"use strict";c();var H5=Xr&&Xr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),j5=Xr&&Xr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),G5=Xr&&Xr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&H5(e,t,r);return j5(e,t),e};Object.defineProperty(Xr,"__esModule",{value:!0});Xr.TypeMapper=void 0;var zb=G5(He()),Q5=Xo(),zy=xf(),k5=gc(),K5=li(),z5=Lb(),Uf=Df(),Wy=hc(),W5=Go(),Wb=yc(),qf=Pf(),$5=mc(),$b=Bf(),dr=wc(),Y5=Rf(),Yb=zo(),Jb=Ia(),yi=Lf(),$y=Mf(),Yy=class{constructor(e=[]){this.openTypesFactories=new Map([["Option",(...r)=>new Wb.OptionType(r[0])],["List",(...r)=>new Wb.ListType(r[0])],["VarArgs",(...r)=>new $y.VariadicType(r[0])],["MultiResultVec",(...r)=>new $y.VariadicType(r[0])],["variadic",(...r)=>new $y.VariadicType(r[0])],["OptionalArg",(...r)=>new zy.OptionalType(r[0])],["optional",(...r)=>new zy.OptionalType(r[0])],["OptionalResult",(...r)=>new zy.OptionalType(r[0])],["multi",(...r)=>new Uf.CompositeType(...r)],["MultiArg",(...r)=>new Uf.CompositeType(...r)],["MultiResult",(...r)=>new Uf.CompositeType(...r)],["multi",(...r)=>new Uf.CompositeType(...r)],["tuple",(...r)=>new yi.TupleType(...r)],["tuple2",(...r)=>new yi.TupleType(...r)],["tuple3",(...r)=>new yi.TupleType(...r)],["tuple4",(...r)=>new yi.TupleType(...r)],["tuple5",(...r)=>new yi.TupleType(...r)],["tuple6",(...r)=>new yi.TupleType(...r)],["tuple7",(...r)=>new yi.TupleType(...r)],["tuple8",(...r)=>new yi.TupleType(...r)],["array20",(...r)=>new qf.ArrayVecType(20,r[0])],["array32",(...r)=>new qf.ArrayVecType(32,r[0])],["array46",(...r)=>new qf.ArrayVecType(46,r[0])],["array64",(...r)=>new qf.ArrayVecType(64,r[0])]]),this.closedTypesMap=new Map([["u8",new dr.U8Type],["u16",new dr.U16Type],["u32",new dr.U32Type],["u64",new dr.U64Type],["U64",new dr.U64Type],["BigUint",new dr.BigUIntType],["i8",new dr.I8Type],["i16",new dr.I16Type],["i32",new dr.I32Type],["i64",new dr.I64Type],["Bigint",new dr.BigIntType],["BigInt",new dr.BigIntType],["bool",new k5.BooleanType],["bytes",new K5.BytesType],["Address",new Q5.AddressType],["H256",new $5.H256Type],["utf-8 string",new Y5.StringType],["TokenIdentifier",new Jb.TokenIdentifierType],["EgldOrEsdtTokenIdentifier",new Jb.TokenIdentifierType],["CodeMetadata",new z5.CodeMetadataType],["nothing",new $b.NothingType],["AsyncCall",new $b.NothingType]]),this.learnedTypesMap=new Map;for(let r of e)this.learnedTypesMap.set(r.getName(),r)}mapType(e){let r=this.mapTypeRecursively(e);if(r)return r.isGenericType()||this.learnType(r),r;throw new zb.ErrTypingSystem(`Cannot map the type "${e.getName()}" to a known type`)}mapTypeRecursively(e){let r=e.isGenericType(),n=this.learnedTypesMap.get(e.getName());if(n)return n;let i=this.closedTypesMap.get(e.getName());return i||(e.hasExactClass(Wy.EnumType.ClassName)?this.mapEnumType(e):e.hasExactClass(Yb.StructType.ClassName)?this.mapStructType(e):r?this.mapGenericType(e):null)}learnType(e){this.learnedTypesMap.delete(e.getName()),this.learnedTypesMap.set(e.getName(),e)}mapStructType(e){let r=this.mappedFields(e.getFieldsDefinitions());return new Yb.StructType(e.getName(),r)}mapEnumType(e){let r=e.variants.map(i=>new Wy.EnumVariantDefinition(i.name,i.discriminant,this.mappedFields(i.getFieldsDefinitions())));return new Wy.EnumType(e.getName(),r)}mappedFields(e){return e.map(r=>new W5.FieldDefinition(r.name,r.description,this.mapType(r.type)))}mapGenericType(e){let n=e.getTypeParameters().map(s=>this.mapType(s)),i=this.openTypesFactories.get(e.getName());if(!i)throw new zb.ErrTypingSystem(`Cannot map the generic type "${e.getName()}" to a known type`);return i(...n)}};Xr.TypeMapper=Yy});var rI=v(Zr=>{"use strict";c();var J5=Zr&&Zr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),X5=Zr&&Zr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Z5=Zr&&Zr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&J5(e,t,r);return X5(e,t),e};Object.defineProperty(Zr,"__esModule",{value:!0});Zr.AbiRegistry=void 0;var Xb=Z5(He()),Xy=fr(),Ec=Ly(),Zb=hc(),eI=zo(),eF=Jy(),tF="?",Ca=class{constructor(e){this.endpoints=[],this.customTypes=[],this.name=e.name,this.constructorDefinition=e.constructorDefinition,this.endpoints=e.endpoints,this.customTypes=e.customTypes}static create(e){let r=e.name||tF,n=e.constructor||{},i=e.endpoints||[],s=e.types||{},o=Ec.EndpointDefinition.fromJSON(Object.assign({name:"constructor"},n)),a=i.map(d=>Ec.EndpointDefinition.fromJSON(d)),u=[];for(let d in s){let y=s[d];if(y.type=="struct")u.push(eI.StructType.fromJSON({name:d,fields:y.fields}));else if(y.type=="enum")u.push(Zb.EnumType.fromJSON({name:d,variants:y.variants}));else throw new Xb.ErrTypingSystem(`Cannot handle custom type: ${d}`)}return new Ca({name:r,constructorDefinition:o,endpoints:a,customTypes:u}).remapToKnownTypes()}getStruct(e){let r=this.customTypes.find(n=>n.getName()==e&&n.hasExactClass(eI.StructType.ClassName));return Xy.guardValueIsSetWithMessage(`struct [${e}] not found`,r),r}getStructs(e){return e.map(r=>this.getStruct(r))}getEnum(e){let r=this.customTypes.find(n=>n.getName()==e&&n.hasExactClass(Zb.EnumType.ClassName));return Xy.guardValueIsSetWithMessage(`enum [${e}] not found`,r),r}getEnums(e){return e.map(r=>this.getEnum(r))}getEndpoints(){return this.endpoints}getEndpoint(e){let r=this.endpoints.find(n=>n.name==e);return Xy.guardValueIsSetWithMessage(`endpoint [${e}] not found`,r),r}remapToKnownTypes(){let e=new eF.TypeMapper([]),r=[];for(let o of this.customTypes)this.mapCustomTypeDepthFirst(o,this.customTypes,e,r);if(this.customTypes.length!=r.length)throw new Xb.ErrTypingSystem("Did not re-map all custom types");let n=tI(this.constructorDefinition,e),i=[];for(let o of this.endpoints)i.push(tI(o,e));return new Ca({name:this.name,constructorDefinition:n,endpoints:i,customTypes:r})}mapCustomTypeDepthFirst(e,r,n,i){if(i.findIndex(a=>a.getName()==e.getName())>=0)return;for(let a of e.getNamesOfDependencies()){let u=r.find(l=>l.getName()==a);u&&this.mapCustomTypeDepthFirst(u,r,n,i)}let o=n.mapType(e);i.push(o)}};Zr.AbiRegistry=Ca;function tI(t,e){let r=t.input.map(i=>new Ec.EndpointParameterDefinition(i.name,i.description,e.mapType(i.type))),n=t.output.map(i=>new Ec.EndpointParameterDefinition(i.name,i.description,e.mapType(i.type)));return new Ec.EndpointDefinition(t.name,r,n,t.modifiers)}});var iI=v(Ta=>{"use strict";c();Object.defineProperty(Ta,"__esModule",{value:!0});Ta.createListOfTokenIdentifiers=Ta.createListOfAddresses=void 0;var rF=Xo(),nI=yc(),nF=Ia();function iF(t){let e=t.map(n=>new rF.AddressValue(n));return nI.List.fromItems(e)}Ta.createListOfAddresses=iF;function sF(t){let e=t.map(n=>new nF.TokenIdentifierValue(n));return nI.List.fromItems(e)}Ta.createListOfTokenIdentifiers=sF});var wI=v(jt=>{"use strict";c();var oF=jt&&jt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),aF=jt&&jt.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),uF=jt&&jt.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&oF(e,t,r);return aF(e,t),e};Object.defineProperty(jt,"__esModule",{value:!0});jt.onPrimitiveTypeSelect=jt.onPrimitiveValueSelect=jt.onTypedValueSelect=jt.onTypeSelect=void 0;var Hf=uF(He()),sI=Xo(),oI=gc(),aI=li(),uI=hc(),Vf=yc(),cI=mc(),lI=wc(),fI=Bf(),hI=zo(),dI=Ia(),pI=Lf(),gI=mt(),yI=Pf(),mI=Rf();function cF(t,e){if(t.hasExactClass(Vf.OptionType.ClassName))return e.onOption();if(t.hasExactClass(Vf.ListType.ClassName))return e.onList();if(t.hasExactClass(yI.ArrayVecType.ClassName))return e.onArray();if(t.hasClassOrSuperclass(gI.PrimitiveType.ClassName))return e.onPrimitive();if(t.hasExactClass(hI.StructType.ClassName))return e.onStruct();if(t.hasExactClass(pI.TupleType.ClassName))return e.onTuple();if(t.hasExactClass(uI.EnumType.ClassName))return e.onEnum();if(e.onOther)return e.onOther();throw new Hf.ErrTypingSystem(`type isn't known: ${t}`)}jt.onTypeSelect=cF;function lF(t,e){if(t.hasClassOrSuperclass(gI.PrimitiveValue.ClassName))return e.onPrimitive();if(t.hasExactClass(Vf.OptionValue.ClassName))return e.onOption();if(t.hasExactClass(Vf.List.ClassName))return e.onList();if(t.hasExactClass(yI.ArrayVec.ClassName))return e.onArray();if(t.hasExactClass(hI.Struct.ClassName))return e.onStruct();if(t.hasExactClass(pI.Tuple.ClassName))return e.onTuple();if(t.hasExactClass(uI.EnumValue.ClassName))return e.onEnum();if(e.onOther)return e.onOther();throw new Hf.ErrTypingSystem(`value isn't typed: ${t}`)}jt.onTypedValueSelect=lF;function fF(t,e){if(t.hasExactClass(oI.BooleanValue.ClassName))return e.onBoolean();if(t.hasClassOrSuperclass(lI.NumericalValue.ClassName))return e.onNumerical();if(t.hasExactClass(sI.AddressValue.ClassName))return e.onAddress();if(t.hasExactClass(aI.BytesValue.ClassName))return e.onBytes();if(t.hasExactClass(mI.StringValue.ClassName))return e.onString();if(t.hasExactClass(cI.H256Value.ClassName))return e.onH256();if(t.hasExactClass(dI.TokenIdentifierValue.ClassName))return e.onTypeIdentifier();if(t.hasExactClass(fI.NothingValue.ClassName))return e.onNothing();if(e.onOther)return e.onOther();throw new Hf.ErrTypingSystem(`value isn't a primitive: ${t.getType()}`)}jt.onPrimitiveValueSelect=fF;function hF(t,e){if(t.hasExactClass(oI.BooleanType.ClassName))return e.onBoolean();if(t.hasClassOrSuperclass(lI.NumericalType.ClassName))return e.onNumerical();if(t.hasExactClass(sI.AddressType.ClassName))return e.onAddress();if(t.hasExactClass(aI.BytesType.ClassName))return e.onBytes();if(t.hasExactClass(mI.StringType.ClassName))return e.onString();if(t.hasExactClass(cI.H256Type.ClassName))return e.onH256();if(t.hasExactClass(dI.TokenIdentifierType.ClassName))return e.onTokenIndetifier();if(t.hasExactClass(fI.NothingType.ClassName))return e.onNothing();if(e.onOther)return e.onOther();throw new Hf.ErrTypingSystem(`type isn't a known primitive: ${t}`)}jt.onPrimitiveTypeSelect=hF});var Tt=v(Ue=>{"use strict";c();var dF=Ue&&Ue.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Xe=Ue&&Ue.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&dF(e,t,r)};Object.defineProperty(Ue,"__esModule",{value:!0});Xe(rI(),Ue);Xe(Xo(),Ue);Xe(xf(),Ue);Xe(gc(),Ue);Xe(li(),Ue);Xe(Df(),Ue);Xe(Ly(),Ue);Xe(hc(),Ue);Xe(iI(),Ue);Xe(Go(),Ue);Xe(yc(),Ue);Xe(Pf(),Ue);Xe(mc(),Ue);Xe(wI(),Ue);Xe(Bf(),Ue);Xe(wc(),Ue);Xe(Rf(),Ue);Xe(zo(),Ue);Xe(Ia(),Ue);Xe(Lf(),Ue);Xe(Ef(),Ue);Xe(Jy(),Ue);Xe(mt(),Ue);Xe(Mf(),Ue)});var vI=v(en=>{"use strict";c();var pF=en&&en.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),gF=en&&en.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),yF=en&&en.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&pF(e,t,r);return gF(e,t),e};Object.defineProperty(en,"__esModule",{value:!0});en.OptionValueBinaryCodec=void 0;var EI=yF(He()),jf=Tt(),Zy=class{constructor(e){this.binaryCodec=e}decodeNested(e,r){if(e[0]==0)return[jf.OptionValue.newMissingTyped(r),1];if(e[0]!=1)throw new EI.ErrCodec("invalid buffer for optional value");let[n,i]=this.binaryCodec.decodeNested(e.slice(1),r);return[jf.OptionValue.newProvided(n),i+1]}decodeTopLevel(e,r){if(e.length==0)return new jf.OptionValue(r);if(e[0]!=1)throw new EI.ErrCodec("invalid buffer for optional value");let[n,i]=this.binaryCodec.decodeNested(e.slice(1),r);return new jf.OptionValue(r,n)}encodeNested(e){return e.isSet()?h.Buffer.concat([h.Buffer.from([1]),this.binaryCodec.encodeNested(e.getTypedValue())]):h.Buffer.from([0])}encodeTopLevel(e){return e.isSet()?h.Buffer.concat([h.Buffer.from([1]),this.binaryCodec.encodeNested(e.getTypedValue())]):h.Buffer.from([])}};en.OptionValueBinaryCodec=Zy});var AI=v(Gf=>{"use strict";c();Object.defineProperty(Gf,"__esModule",{value:!0});Gf.AddressBinaryCodec=void 0;var mF=Zt(),wF=Tt(),em=class{decodeNested(e){let r=e.slice(0,32),n=new mF.Address(r);return[new wF.AddressValue(n),32]}decodeTopLevel(e){let[r,n]=this.decodeNested(e);return r}encodeNested(e){return e.valueOf().pubkey()}encodeTopLevel(e){return e.valueOf().pubkey()}};Gf.AddressBinaryCodec=em});var bI=v(tn=>{"use strict";c();var EF=tn&&tn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),vF=tn&&tn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),AF=tn&&tn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&EF(e,t,r);return vF(e,t),e};Object.defineProperty(tn,"__esModule",{value:!0});tn.BooleanBinaryCodec=void 0;var _F=AF(He()),_I=Tt(),Dr=class{decodeNested(e){let r=e.readUInt8(0);return[new _I.BooleanValue(r==Dr.TRUE),1]}decodeTopLevel(e){if(e.length>1)throw new _F.ErrInvalidArgument("buffer should be of size <= 1");let r=e[0];return new _I.BooleanValue(r==Dr.TRUE)}encodeNested(e){return e.isTrue()?h.Buffer.from([Dr.TRUE]):h.Buffer.from([Dr.FALSE])}encodeTopLevel(e){return e.isTrue()?h.Buffer.from([Dr.TRUE]):h.Buffer.from([])}};tn.BooleanBinaryCodec=Dr;Dr.TRUE=1;Dr.FALSE=0});var kf=v(Qf=>{"use strict";c();Object.defineProperty(Qf,"__esModule",{value:!0});Qf.SizeOfU32=void 0;Qf.SizeOfU32=4});var tm=v(rn=>{"use strict";c();var bF=rn&&rn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(rn,"__esModule",{value:!0});rn.zeroPadStringIfOddLength=rn.isPaddedHex=rn.numberToPaddedHex=void 0;var IF=bF(Wt());function SF(t){let e=new IF.default(t).toString(16);return II(e)}rn.numberToPaddedHex=SF;function CF(t){t=t||"";let e=h.Buffer.from(t,"hex").toString("hex");return t.toUpperCase()==e.toUpperCase()}rn.isPaddedHex=CF;function II(t){return t=t||"",t.length%2==1?"0"+t:t}rn.zeroPadStringIfOddLength=II});var Kf=v(wt=>{"use strict";c();var TF=wt&&wt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(wt,"__esModule",{value:!0});wt.prependByteToBuffer=wt.flipBufferBitsInPlace=wt.getHexMagnitudeOfBigInt=wt.bigIntToBuffer=wt.bufferToBigInt=wt.cloneBuffer=wt.isMsbZero=wt.isMsbOne=void 0;var rm=TF(Wt()),xF=tm();function SI(t,e=0){return t[e]>>7==1}wt.isMsbOne=SI;function NF(t,e=0){return!SI(t,e)}wt.isMsbZero=NF;function DF(t){let e=h.Buffer.alloc(t.length);return t.copy(e),e}wt.cloneBuffer=DF;function OF(t){let e=t.toString("hex");return new rm.default(`0x${e}`,16)}wt.bufferToBigInt=OF;function PF(t){let e=CI(t);return h.Buffer.from(e,"hex")}wt.bigIntToBuffer=PF;function CI(t){return t=new rm.default(t),t?(t.isNegative()&&(t=t.multipliedBy(new rm.default(-1))),xF.numberToPaddedHex(t)):""}wt.getHexMagnitudeOfBigInt=CI;function BF(t){for(let e=0;e<t.length;e++)t[e]=~t[e]}wt.flipBufferBitsInPlace=BF;function RF(t,e){return h.Buffer.concat([h.Buffer.from([e]),t])}wt.prependByteToBuffer=RF});var xI=v(xa=>{"use strict";c();var LF=xa&&xa.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(xa,"__esModule",{value:!0});xa.NumericalBinaryCodec=void 0;var vc=LF(Wt()),nm=Tt(),TI=kf(),ht=Kf(),im=class{decodeNested(e,r){let n=0,i=r.sizeInBytes;i||(n=TI.SizeOfU32,i=e.readUInt32BE(0));let s=e.slice(n,n+i),o=this.decodeTopLevel(s,r),a=i+n;return[o,a]}decodeTopLevel(e,r){let n=ht.cloneBuffer(e);if(e.length==0)return new nm.NumericalValue(r,new vc.default(0));if(!r.withSign||ht.isMsbZero(n)){let l=ht.bufferToBigInt(n);return new nm.NumericalValue(r,l)}ht.flipBufferBitsInPlace(n);let u=ht.bufferToBigInt(n).multipliedBy(new vc.default(-1)).minus(new vc.default(1));return new nm.NumericalValue(r,u)}encodeNested(e){if(e.sizeInBytes)return this.encodeNestedFixedSize(e,e.sizeInBytes);let r=this.encodeTopLevel(e),n=h.Buffer.alloc(TI.SizeOfU32);return n.writeUInt32BE(r.length),h.Buffer.concat([n,r])}encodeNestedFixedSize(e,r){if(e.value.isZero())return h.Buffer.alloc(r,0);if(!e.withSign){let o=ht.bigIntToBuffer(e.value),a=h.Buffer.alloc(r-o.length,0);return h.Buffer.concat([a,o])}if(e.value.isPositive()){let o=ht.bigIntToBuffer(e.value);ht.isMsbOne(o)&&(o=ht.prependByteToBuffer(o,0));let a=h.Buffer.alloc(r-o.length,0);return h.Buffer.concat([a,o])}let n=e.value.plus(new vc.default(1)),i=ht.bigIntToBuffer(n);ht.flipBufferBitsInPlace(i),ht.isMsbZero(i)&&(i=ht.prependByteToBuffer(i,255));let s=h.Buffer.alloc(r-i.length,255);return h.Buffer.concat([s,i])}encodeTopLevel(e){let r=e.withSign;return e.value.isZero()?h.Buffer.alloc(0):r?this.encodePrimitive(e):ht.bigIntToBuffer(e.value)}encodePrimitive(e){if(e.value.isPositive()){let i=ht.bigIntToBuffer(e.value);return ht.isMsbOne(i)&&(i=ht.prependByteToBuffer(i,0)),i}let r=e.value.plus(new vc.default(1)),n=ht.bigIntToBuffer(r);return ht.flipBufferBitsInPlace(n),ht.isMsbZero(n)&&(n=ht.prependByteToBuffer(n,255)),n}};xa.NumericalBinaryCodec=im});var NI=v(zf=>{"use strict";c();Object.defineProperty(zf,"__esModule",{value:!0});zf.H256BinaryCodec=void 0;var FF=mc(),sm=class{decodeNested(e){let r=e.slice(0,32);return[new FF.H256Value(r),32]}decodeTopLevel(e){let[r,n]=this.decodeNested(e);return r}encodeNested(e){return e.valueOf()}encodeTopLevel(e){return e.valueOf()}};zf.H256BinaryCodec=sm});var Yf=v($f=>{"use strict";c();Object.defineProperty($f,"__esModule",{value:!0});$f.BytesBinaryCodec=void 0;var DI=li(),Wf=kf(),om=class{decodeNested(e){let r=e.readUInt32BE(0),n=e.slice(Wf.SizeOfU32,Wf.SizeOfU32+r);return[new DI.BytesValue(n),Wf.SizeOfU32+r]}decodeTopLevel(e){return new DI.BytesValue(e)}encodeNested(e){let r=h.Buffer.alloc(Wf.SizeOfU32);return r.writeUInt32BE(e.getLength()),h.Buffer.concat([r,e.valueOf()])}encodeTopLevel(e){return e.valueOf()}};$f.BytesBinaryCodec=om});var PI=v(Jf=>{"use strict";c();Object.defineProperty(Jf,"__esModule",{value:!0});Jf.TokenIdentifierCodec=void 0;var MF=li(),OI=Ia(),UF=Yf(),am=class{constructor(){this.bytesCodec=new UF.BytesBinaryCodec}decodeNested(e){let[r,n]=this.bytesCodec.decodeNested(e);return[new OI.TokenIdentifierValue(r.toString()),n]}decodeTopLevel(e){let r=this.bytesCodec.decodeTopLevel(e);return new OI.TokenIdentifierValue(r.toString())}encodeNested(e){let r=MF.BytesValue.fromUTF8(e.valueOf());return this.bytesCodec.encodeNested(r)}encodeTopLevel(e){return h.Buffer.from(e.valueOf())}};Jf.TokenIdentifierCodec=am});var RI=v(Xf=>{"use strict";c();Object.defineProperty(Xf,"__esModule",{value:!0});Xf.NothingCodec=void 0;var BI=Tt(),um=class{decodeNested(){return[new BI.NothingValue,0]}decodeTopLevel(){return new BI.NothingValue}encodeNested(){return h.Buffer.from([])}encodeTopLevel(){return h.Buffer.from([])}};Xf.NothingCodec=um});var FI=v(Zf=>{"use strict";c();Object.defineProperty(Zf,"__esModule",{value:!0});Zf.StringBinaryCodec=void 0;var LI=Tt(),qF=li(),VF=Yf(),cm=class{constructor(){this.bytesBinaryCodec=new VF.BytesBinaryCodec}decodeNested(e){let[r,n]=this.bytesBinaryCodec.decodeNested(e);return[new LI.StringValue(r.valueOf().toString()),n]}decodeTopLevel(e){return new LI.StringValue(e.toString())}encodeNested(e){let r=qF.BytesValue.fromUTF8(e.valueOf());return this.bytesBinaryCodec.encodeNested(r)}encodeTopLevel(e){return h.Buffer.from(e.valueOf())}};Zf.StringBinaryCodec=cm});var MI=v(th=>{"use strict";c();Object.defineProperty(th,"__esModule",{value:!0});th.PrimitiveBinaryCodec=void 0;var eh=Tt(),HF=AI(),jF=bI(),GF=xI(),QF=NI(),kF=Yf(),KF=PI(),zF=RI(),WF=FI(),lm=class{constructor(e){this.binaryCodec=e,this.booleanCodec=new jF.BooleanBinaryCodec,this.numericalCodec=new GF.NumericalBinaryCodec,this.addressCodec=new HF.AddressBinaryCodec,this.h256Codec=new QF.H256BinaryCodec,this.bytesCodec=new kF.BytesBinaryCodec,this.stringCodec=new WF.StringBinaryCodec,this.tokenIdentifierCodec=new KF.TokenIdentifierCodec,this.nothingCodec=new zF.NothingCodec}decodeNested(e,r){return eh.onPrimitiveTypeSelect(r,{onBoolean:()=>this.booleanCodec.decodeNested(e),onNumerical:()=>this.numericalCodec.decodeNested(e,r),onAddress:()=>this.addressCodec.decodeNested(e),onBytes:()=>this.bytesCodec.decodeNested(e),onString:()=>this.stringCodec.decodeNested(e),onH256:()=>this.h256Codec.decodeNested(e),onTokenIndetifier:()=>this.tokenIdentifierCodec.decodeNested(e),onNothing:()=>this.nothingCodec.decodeNested()})}decodeTopLevel(e,r){return eh.onPrimitiveTypeSelect(r,{onBoolean:()=>this.booleanCodec.decodeTopLevel(e),onNumerical:()=>this.numericalCodec.decodeTopLevel(e,r),onAddress:()=>this.addressCodec.decodeTopLevel(e),onBytes:()=>this.bytesCodec.decodeTopLevel(e),onString:()=>this.stringCodec.decodeTopLevel(e),onH256:()=>this.h256Codec.decodeTopLevel(e),onTokenIndetifier:()=>this.tokenIdentifierCodec.decodeTopLevel(e),onNothing:()=>this.nothingCodec.decodeTopLevel()})}encodeNested(e){return eh.onPrimitiveValueSelect(e,{onBoolean:()=>this.booleanCodec.encodeNested(e),onNumerical:()=>this.numericalCodec.encodeNested(e),onAddress:()=>this.addressCodec.encodeNested(e),onBytes:()=>this.bytesCodec.encodeNested(e),onString:()=>this.stringCodec.encodeNested(e),onH256:()=>this.h256Codec.encodeNested(e),onTypeIdentifier:()=>this.tokenIdentifierCodec.encodeNested(e),onNothing:()=>this.nothingCodec.encodeNested()})}encodeTopLevel(e){return eh.onPrimitiveValueSelect(e,{onBoolean:()=>this.booleanCodec.encodeTopLevel(e),onNumerical:()=>this.numericalCodec.encodeTopLevel(e),onAddress:()=>this.addressCodec.encodeTopLevel(e),onBytes:()=>this.bytesCodec.encodeTopLevel(e),onString:()=>this.stringCodec.encodeTopLevel(e),onH256:()=>this.h256Codec.encodeTopLevel(e),onTypeIdentifier:()=>this.tokenIdentifierCodec.encodeTopLevel(e),onNothing:()=>this.nothingCodec.encodeTopLevel()})}};th.PrimitiveBinaryCodec=lm});var VI=v(rh=>{"use strict";c();Object.defineProperty(rh,"__esModule",{value:!0});rh.ListBinaryCodec=void 0;var UI=Tt(),qI=kf(),fm=class{constructor(e){this.binaryCodec=e}decodeNested(e,r){let n=r.getFirstTypeParameter(),i=[],s=e.readUInt32BE(0);this.binaryCodec.constraints.checkListLength(s);let o=e,a=qI.SizeOfU32;e=o.slice(a);for(let u=0;u<s;u++){let[l,f]=this.binaryCodec.decodeNested(e,n);i.push(l),a+=f,e=o.slice(a)}return[new UI.List(r,i),a]}decodeTopLevel(e,r){let n=r.getFirstTypeParameter(),i=[],s=e,o=0;for(;e.length>0;){let[a,u]=this.binaryCodec.decodeNested(e,n);i.push(a),o+=u,e=s.slice(o),this.binaryCodec.constraints.checkListLength(i.length)}return new UI.List(r,i)}encodeNested(e){this.binaryCodec.constraints.checkListLength(e.getLength());let r=h.Buffer.alloc(qI.SizeOfU32);r.writeUInt32BE(e.getLength());let n=[];for(let s of e.getItems()){let o=this.binaryCodec.encodeNested(s);n.push(o)}return h.Buffer.concat([r,...n])}encodeTopLevel(e){this.binaryCodec.constraints.checkListLength(e.getLength());let r=[];for(let i of e.getItems()){let s=this.binaryCodec.encodeNested(i);r.push(s)}return h.Buffer.concat(r)}};rh.ListBinaryCodec=fm});var dm=v(nh=>{"use strict";c();Object.defineProperty(nh,"__esModule",{value:!0});nh.FieldsBinaryCodec=void 0;var $F=Tt(),hm=class{constructor(e){this.binaryCodec=e}decodeNested(e,r){let n=[],i=0;for(let s of r){let[o,a]=this.binaryCodec.decodeNested(e,s.type);e=e.slice(a),i+=a;let u=new $F.Field(o,s.name);n.push(u)}return[n,i]}encodeNested(e){let r=[];for(let n of e){let i=this.binaryCodec.encodeNested(n.value);r.push(i)}return h.Buffer.concat(r)}};nh.FieldsBinaryCodec=hm});var gm=v(ih=>{"use strict";c();Object.defineProperty(ih,"__esModule",{value:!0});ih.StructBinaryCodec=void 0;var YF=Tt(),JF=dm(),pm=class{constructor(e){this.fieldsCodec=new JF.FieldsBinaryCodec(e)}decodeTopLevel(e,r){let[n]=this.decodeNested(e,r);return n}decodeNested(e,r){let n=r.getFieldsDefinitions(),[i,s]=this.fieldsCodec.decodeNested(e,n);return[new YF.Struct(r,i),s]}encodeNested(e){let r=e.getFields();return this.fieldsCodec.encodeNested(r)}encodeTopLevel(e){return this.encodeNested(e)}};ih.StructBinaryCodec=pm});var HI=v(oh=>{"use strict";c();Object.defineProperty(oh,"__esModule",{value:!0});oh.EnumBinaryCodec=void 0;var sh=Tt(),XF=dm(),ym=class{constructor(e){this.binaryCodec=e,this.fieldsCodec=new XF.FieldsBinaryCodec(e)}decodeTopLevel(e,r){let[n]=this.decodeNested(e,r);return n}decodeNested(e,r){let[n,i]=this.readDiscriminant(e);e=e.slice(i);let s=r.getVariantByDiscriminant(n),o=s.getFieldsDefinitions(),[a,u]=this.fieldsCodec.decodeNested(e,o);return[new sh.EnumValue(r,s,a),i+u]}readDiscriminant(e){let[r,n]=this.binaryCodec.decodeNested(e,new sh.U8Type);return[r.valueOf(),n]}encodeNested(e){let r=new sh.U8Value(e.discriminant),n=this.binaryCodec.encodeNested(r),i=e.getFields(),s=this.fieldsCodec.encodeNested(i);return h.Buffer.concat([n,s])}encodeTopLevel(e){let r=e.getFields(),n=r.length>0,i=this.fieldsCodec.encodeNested(r),s=new sh.U8Value(e.discriminant),o=n?this.binaryCodec.encodeNested(s):this.binaryCodec.encodeTopLevel(s);return h.Buffer.concat([o,i])}};oh.EnumBinaryCodec=ym});var jI=v(ah=>{"use strict";c();Object.defineProperty(ah,"__esModule",{value:!0});ah.TupleBinaryCodec=void 0;var ZF=gm(),mm=class{constructor(e){this.structCodec=new ZF.StructBinaryCodec(e)}decodeTopLevel(e,r){return this.structCodec.decodeTopLevel(e,r)}decodeNested(e,r){return this.structCodec.decodeNested(e,r)}encodeNested(e){return this.structCodec.encodeNested(e)}encodeTopLevel(e){return this.structCodec.encodeTopLevel(e)}};ah.TupleBinaryCodec=mm});var GI=v(uh=>{"use strict";c();Object.defineProperty(uh,"__esModule",{value:!0});uh.ArrayVecBinaryCodec=void 0;var e4=Tt(),wm=class{constructor(e){this.binaryCodec=e}decodeNested(e,r){let n=r.length,i=r.getFirstTypeParameter(),s=[],o=0;for(let a=0;a<n;a++){let[u,l]=this.binaryCodec.decodeNested(e,i);s.push(u),o+=l,e=e.slice(l)}return[new e4.ArrayVec(r,s),o]}decodeTopLevel(e,r){let[n,i]=this.decodeNested(e,r);return n}encodeNested(e){let r=[];for(let n of e.getItems()){let i=this.binaryCodec.encodeNested(n);r.push(i)}return h.Buffer.concat(r)}encodeTopLevel(e){return this.encodeNested(e)}};uh.ArrayVecBinaryCodec=wm});var vm=v(pr=>{"use strict";c();var t4=pr&&pr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),r4=pr&&pr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),n4=pr&&pr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&t4(e,t,r);return r4(e,t),e};Object.defineProperty(pr,"__esModule",{value:!0});pr.BinaryCodecConstraints=pr.BinaryCodec=void 0;var QI=n4(He()),ch=Tt(),kI=fr(),i4=vI(),s4=MI(),o4=VI(),a4=gm(),u4=HI(),c4=jI(),l4=GI(),Em=class{constructor(e=null){this.constraints=e||new lh,this.optionCodec=new i4.OptionValueBinaryCodec(this),this.listCodec=new o4.ListBinaryCodec(this),this.arrayCodec=new l4.ArrayVecBinaryCodec(this),this.primitiveCodec=new s4.PrimitiveBinaryCodec(this),this.structCodec=new a4.StructBinaryCodec(this),this.tupleCodec=new c4.TupleBinaryCodec(this),this.enumCodec=new u4.EnumBinaryCodec(this)}decodeTopLevel(e,r){return this.constraints.checkBufferLength(e),ch.onTypeSelect(r,{onOption:()=>this.optionCodec.decodeTopLevel(e,r.getFirstTypeParameter()),onList:()=>this.listCodec.decodeTopLevel(e,r),onArray:()=>this.arrayCodec.decodeTopLevel(e,r),onPrimitive:()=>this.primitiveCodec.decodeTopLevel(e,r),onStruct:()=>this.structCodec.decodeTopLevel(e,r),onTuple:()=>this.tupleCodec.decodeTopLevel(e,r),onEnum:()=>this.enumCodec.decodeTopLevel(e,r)})}decodeNested(e,r){this.constraints.checkBufferLength(e);let[n,i]=ch.onTypeSelect(r,{onOption:()=>this.optionCodec.decodeNested(e,r.getFirstTypeParameter()),onList:()=>this.listCodec.decodeNested(e,r),onArray:()=>this.arrayCodec.decodeNested(e,r),onPrimitive:()=>this.primitiveCodec.decodeNested(e,r),onStruct:()=>this.structCodec.decodeNested(e,r),onTuple:()=>this.tupleCodec.decodeNested(e,r),onEnum:()=>this.enumCodec.decodeNested(e,r)});return[n,i]}encodeNested(e){return kI.guardTrue(e.getType().getCardinality().isSingular(),"singular cardinality, thus encodable type"),ch.onTypedValueSelect(e,{onPrimitive:()=>this.primitiveCodec.encodeNested(e),onOption:()=>this.optionCodec.encodeNested(e),onList:()=>this.listCodec.encodeNested(e),onArray:()=>this.arrayCodec.encodeNested(e),onStruct:()=>this.structCodec.encodeNested(e),onTuple:()=>this.tupleCodec.encodeNested(e),onEnum:()=>this.enumCodec.encodeNested(e)})}encodeTopLevel(e){return kI.guardTrue(e.getType().getCardinality().isSingular(),"singular cardinality, thus encodable type"),ch.onTypedValueSelect(e,{onPrimitive:()=>this.primitiveCodec.encodeTopLevel(e),onOption:()=>this.optionCodec.encodeTopLevel(e),onList:()=>this.listCodec.encodeTopLevel(e),onArray:()=>this.arrayCodec.encodeTopLevel(e),onStruct:()=>this.structCodec.encodeTopLevel(e),onTuple:()=>this.tupleCodec.encodeTopLevel(e),onEnum:()=>this.enumCodec.encodeTopLevel(e)})}};pr.BinaryCodec=Em;var lh=class{constructor(e){this.maxBufferLength=e?.maxBufferLength||256e3,this.maxListLength=e?.maxListLength||128e3}checkBufferLength(e){if(e.length>this.maxBufferLength)throw new QI.ErrCodec(`Buffer too large: ${e.length} > ${this.maxBufferLength}`)}checkListLength(e){if(e>this.maxListLength)throw new QI.ErrCodec(`List too large: ${e} > ${this.maxListLength}`)}};pr.BinaryCodecConstraints=lh});var KI=v(gr=>{"use strict";c();var f4=gr&&gr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(gr,"__esModule",{value:!0});gr.decodeBigNumber=gr.decodeString=gr.decodeBool=gr.decodeUnsignedNumber=void 0;var h4=f4(Wt()),fh=Tt(),d4=vm(),hh=new d4.BinaryCodec;function p4(t){let e=hh.decodeTopLevel(t,new fh.BigUIntType);return Number(e.valueOf())}gr.decodeUnsignedNumber=p4;function g4(t){return!!hh.decodeTopLevel(t,new fh.BooleanType).valueOf()}gr.decodeBool=g4;function y4(t){let e=hh.decodeTopLevel(t,new fh.BytesType);return String(e.valueOf())}gr.decodeString=y4;function m4(t){let e=hh.decodeTopLevel(t,new fh.BigUIntType);return new h4.default(e.valueOf())}gr.decodeBigNumber=m4});var WI=v(mi=>{"use strict";c();var w4=mi&&mi.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),zI=mi&&mi.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&w4(e,t,r)};Object.defineProperty(mi,"__esModule",{value:!0});zI(vm(),mi);zI(KI(),mi)});var ph=v(dh=>{"use strict";c();Object.defineProperty(dh,"__esModule",{value:!0});dh.ArgSerializer=void 0;var $I=Ro(),E4=WI(),Am=xf(),_m=Df(),bm=Mf(),v4={codec:new E4.BinaryCodec},Im=class{constructor(e){e=Object.assign(Object.assign({},v4),e),this.codec=e.codec}stringToValues(e,r){let n=this.stringToBuffers(e);return this.buffersToValues(n,r)}stringToBuffers(e){return e.split($I.ARGUMENTS_SEPARATOR).map(r=>h.Buffer.from(r,"hex"))}buffersToValues(e,r){let n=this;e=e||[];let i=[],s=0,o=e.length;for(let f=0;f<r.length;f++){let y=r[f].type,w=a(y);i.push(w)}function a(f){if(f.hasExactClass(Am.OptionalType.ClassName)){let d=a(f.getFirstTypeParameter());return new Am.OptionalValue(f,d)}else if(f.hasExactClass(bm.VariadicType.ClassName)){let d=[];for(;!l();)d.push(a(f.getFirstTypeParameter()));return new bm.VariadicValue(f,d)}else if(f.hasExactClass(_m.CompositeType.ClassName)){let d=[];for(let y of f.getTypeParameters())d.push(a(y));return new _m.CompositeValue(f,d)}else return u(f)}function u(f){if(l())return null;let d=e[s++];return n.codec.decodeTopLevel(d,f)}function l(){return s>=o}return i}valuesToString(e){let r=this.valuesToStrings(e),n=r.join($I.ARGUMENTS_SEPARATOR),i=r.length;return{argumentsString:n,count:i}}valuesToStrings(e){return this.valuesToBuffers(e).map(i=>i.toString("hex"))}valuesToBuffers(e){let r=this,n=[];for(let s of e)i(s);function i(s){if(s.hasExactClass(Am.OptionalValue.ClassName)){let o=s;o.isSet()&&i(o.getTypedValue())}else if(s.hasExactClass(bm.VariadicValue.ClassName)){let o=s;for(let a of o.getItems())i(a)}else if(s.hasExactClass(_m.CompositeValue.ClassName)){let o=s;for(let a of o.getItems())i(a)}else{let o=r.codec.encodeTopLevel(s);n.push(o)}}return n}};dh.ArgSerializer=Im});var mh=v(yh=>{"use strict";c();Object.defineProperty(yh,"__esModule",{value:!0});yh.Compatibility=void 0;var A4=Zt(),gh=class{static guardAddressIsSetAndNonZero(e,r,n){this.areWarningsEnabled&&(!e||e.bech32()==""?console.warn(`${r}: address should be set; ${n}. In the future, this will throw an exception instead of emitting a WARN.`):e.bech32()==A4.Address.Zero().bech32()&&console.warn(`${r}: address should not be the 'zero' address (also known as the 'contracts deployment address'); ${n}. In the future, this will throw an exception instead of emitting a WARN.`))}};yh.Compatibility=gh;gh.areWarningsEnabled=!0});var YI=v(nn=>{"use strict";c();var _4=nn&&nn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),b4=nn&&nn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),I4=nn&&nn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&_4(e,t,r);return b4(e,t),e};Object.defineProperty(nn,"__esModule",{value:!0});nn.Hash=void 0;var S4=I4(He()),Ac=class{constructor(e){if(!e)this.hash=h.Buffer.from([]);else if(e instanceof h.Buffer)this.hash=e;else if(typeof e=="string")this.hash=h.Buffer.from(e,"hex");else throw new S4.ErrBadType("hash","buffer | string",e)}static empty(){return new Ac(h.Buffer.from([]))}isEmpty(){return this.hash.length==0}toString(){return this.hex()}hex(){return this.hash.toString("hex")}valueOf(){return this.hash}};nn.Hash=Ac});var XI=v(yr=>{"use strict";c();var C4=yr&&yr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),T4=yr&&yr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),x4=yr&&yr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&C4(e,t,r);return T4(e,t),e};Object.defineProperty(yr,"__esModule",{value:!0});yr.TransactionOptions=yr.TransactionVersion=void 0;var Or=Ro(),JI=x4(He()),Na=class{constructor(e){if(e=Number(e),e<1)throw new JI.ErrTransactionVersionInvalid(e);this.value=e}static withDefaultVersion(){return new Na(Or.TRANSACTION_VERSION_DEFAULT)}static withTxOptions(){return new Na(Or.TRANSACTION_VERSION_WITH_OPTIONS)}valueOf(){return this.value}};yr.TransactionVersion=Na;var Da=class{constructor(e){if(e=Number(e),e<0)throw new JI.ErrTransactionOptionsInvalid(e);this.value=e}static withDefaultOptions(){return new Da(Or.TRANSACTION_OPTIONS_DEFAULT)}static withOptions(e){let r=0;return e.hashSign&&(r|=Or.TRANSACTION_OPTIONS_TX_HASH_SIGN),e.guarded&&(r|=Or.TRANSACTION_OPTIONS_TX_GUARDED),new Da(r)}isWithHashSign(){return(this.value&Or.TRANSACTION_OPTIONS_TX_HASH_SIGN)==Or.TRANSACTION_OPTIONS_TX_HASH_SIGN}isWithGuardian(){return(this.value&Or.TRANSACTION_OPTIONS_TX_GUARDED)==Or.TRANSACTION_OPTIONS_TX_GUARDED}setWithHashSign(){this.value|=Or.TRANSACTION_OPTIONS_TX_HASH_SIGN}setWithGuardian(){this.value|=Or.TRANSACTION_OPTIONS_TX_GUARDED}valueOf(){return this.value}};yr.TransactionOptions=Da});var eS=v((Uee,ZI)=>{"use strict";c();ZI.exports=N4;function N4(t,e){for(var r=new Array(arguments.length-1),n=0,i=2,s=!0;i<arguments.length;)r[n++]=arguments[i++];return new Promise(function(a,u){r[n]=function(f){if(s)if(s=!1,f)u(f);else{for(var d=new Array(arguments.length-1),y=0;y<d.length;)d[y++]=arguments[y];a.apply(null,d)}};try{t.apply(e||null,r)}catch(l){s&&(s=!1,u(l))}})}});var iS=v(nS=>{"use strict";c();var wh=nS;wh.length=function(e){var r=e.length;if(!r)return 0;for(var n=0;--r%4>1&&e.charAt(r)==="=";)++n;return Math.ceil(e.length*3)/4-n};var Oa=new Array(64),rS=new Array(123);for(Pr=0;Pr<64;)rS[Oa[Pr]=Pr<26?Pr+65:Pr<52?Pr+71:Pr<62?Pr-4:Pr-59|43]=Pr++;var Pr;wh.encode=function(e,r,n){for(var i=null,s=[],o=0,a=0,u;r<n;){var l=e[r++];switch(a){case 0:s[o++]=Oa[l>>2],u=(l&3)<<4,a=1;break;case 1:s[o++]=Oa[u|l>>4],u=(l&15)<<2,a=2;break;case 2:s[o++]=Oa[u|l>>6],s[o++]=Oa[l&63],a=0;break}o>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,s)),o=0)}return a&&(s[o++]=Oa[u],s[o++]=61,a===1&&(s[o++]=61)),i?(o&&i.push(String.fromCharCode.apply(String,s.slice(0,o))),i.join("")):String.fromCharCode.apply(String,s.slice(0,o))};var tS="invalid encoding";wh.decode=function(e,r,n){for(var i=n,s=0,o,a=0;a<e.length;){var u=e.charCodeAt(a++);if(u===61&&s>1)break;if((u=rS[u])===void 0)throw Error(tS);switch(s){case 0:o=u,s=1;break;case 1:r[n++]=o<<2|(u&48)>>4,o=u,s=2;break;case 2:r[n++]=(o&15)<<4|(u&60)>>2,o=u,s=3;break;case 3:r[n++]=(o&3)<<6|u,s=0;break}}if(s===1)throw Error(tS);return n-i};wh.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}});var oS=v((jee,sS)=>{"use strict";c();sS.exports=Eh;function Eh(){this._listeners={}}Eh.prototype.on=function(e,r,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:r,ctx:n||this}),this};Eh.prototype.off=function(e,r){if(e===void 0)this._listeners={};else if(r===void 0)this._listeners[e]=[];else for(var n=this._listeners[e],i=0;i<n.length;)n[i].fn===r?n.splice(i,1):++i;return this};Eh.prototype.emit=function(e){var r=this._listeners[e];if(r){for(var n=[],i=1;i<arguments.length;)n.push(arguments[i++]);for(i=0;i<r.length;)r[i].fn.apply(r[i++].ctx,n)}return this}});var dS=v((Qee,hS)=>{"use strict";c();hS.exports=aS(aS);function aS(t){return typeof Float32Array<"u"?function(){var e=new Float32Array([-0]),r=new Uint8Array(e.buffer),n=r[3]===128;function i(u,l,f){e[0]=u,l[f]=r[0],l[f+1]=r[1],l[f+2]=r[2],l[f+3]=r[3]}function s(u,l,f){e[0]=u,l[f]=r[3],l[f+1]=r[2],l[f+2]=r[1],l[f+3]=r[0]}t.writeFloatLE=n?i:s,t.writeFloatBE=n?s:i;function o(u,l){return r[0]=u[l],r[1]=u[l+1],r[2]=u[l+2],r[3]=u[l+3],e[0]}function a(u,l){return r[3]=u[l],r[2]=u[l+1],r[1]=u[l+2],r[0]=u[l+3],e[0]}t.readFloatLE=n?o:a,t.readFloatBE=n?a:o}():function(){function e(n,i,s,o){var a=i<0?1:0;if(a&&(i=-i),i===0)n(1/i>0?0:2147483648,s,o);else if(isNaN(i))n(2143289344,s,o);else if(i>34028234663852886e22)n((a<<31|2139095040)>>>0,s,o);else if(i<11754943508222875e-54)n((a<<31|Math.round(i/1401298464324817e-60))>>>0,s,o);else{var u=Math.floor(Math.log(i)/Math.LN2),l=Math.round(i*Math.pow(2,-u)*8388608)&8388607;n((a<<31|u+127<<23|l)>>>0,s,o)}}t.writeFloatLE=e.bind(null,uS),t.writeFloatBE=e.bind(null,cS);function r(n,i,s){var o=n(i,s),a=(o>>31)*2+1,u=o>>>23&255,l=o&8388607;return u===255?l?NaN:a*(1/0):u===0?a*1401298464324817e-60*l:a*Math.pow(2,u-150)*(l+8388608)}t.readFloatLE=r.bind(null,lS),t.readFloatBE=r.bind(null,fS)}(),typeof Float64Array<"u"?function(){var e=new Float64Array([-0]),r=new Uint8Array(e.buffer),n=r[7]===128;function i(u,l,f){e[0]=u,l[f]=r[0],l[f+1]=r[1],l[f+2]=r[2],l[f+3]=r[3],l[f+4]=r[4],l[f+5]=r[5],l[f+6]=r[6],l[f+7]=r[7]}function s(u,l,f){e[0]=u,l[f]=r[7],l[f+1]=r[6],l[f+2]=r[5],l[f+3]=r[4],l[f+4]=r[3],l[f+5]=r[2],l[f+6]=r[1],l[f+7]=r[0]}t.writeDoubleLE=n?i:s,t.writeDoubleBE=n?s:i;function o(u,l){return r[0]=u[l],r[1]=u[l+1],r[2]=u[l+2],r[3]=u[l+3],r[4]=u[l+4],r[5]=u[l+5],r[6]=u[l+6],r[7]=u[l+7],e[0]}function a(u,l){return r[7]=u[l],r[6]=u[l+1],r[5]=u[l+2],r[4]=u[l+3],r[3]=u[l+4],r[2]=u[l+5],r[1]=u[l+6],r[0]=u[l+7],e[0]}t.readDoubleLE=n?o:a,t.readDoubleBE=n?a:o}():function(){function e(n,i,s,o,a,u){var l=o<0?1:0;if(l&&(o=-o),o===0)n(0,a,u+i),n(1/o>0?0:2147483648,a,u+s);else if(isNaN(o))n(0,a,u+i),n(2146959360,a,u+s);else if(o>17976931348623157e292)n(0,a,u+i),n((l<<31|2146435072)>>>0,a,u+s);else{var f;if(o<22250738585072014e-324)f=o/5e-324,n(f>>>0,a,u+i),n((l<<31|f/4294967296)>>>0,a,u+s);else{var d=Math.floor(Math.log(o)/Math.LN2);d===1024&&(d=1023),f=o*Math.pow(2,-d),n(f*4503599627370496>>>0,a,u+i),n((l<<31|d+1023<<20|f*1048576&1048575)>>>0,a,u+s)}}}t.writeDoubleLE=e.bind(null,uS,0,4),t.writeDoubleBE=e.bind(null,cS,4,0);function r(n,i,s,o,a){var u=n(o,a+i),l=n(o,a+s),f=(l>>31)*2+1,d=l>>>20&2047,y=4294967296*(l&1048575)+u;return d===2047?y?NaN:f*(1/0):d===0?f*5e-324*y:f*Math.pow(2,d-1075)*(y+4503599627370496)}t.readDoubleLE=r.bind(null,lS,0,4),t.readDoubleBE=r.bind(null,fS,4,0)}(),t}function uS(t,e,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}function cS(t,e,r){e[r]=t>>>24,e[r+1]=t>>>16&255,e[r+2]=t>>>8&255,e[r+3]=t&255}function lS(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0}function fS(t,e){return(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}});var pS=v((exports,module)=>{"use strict";c();module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(t){}return null}});var yS=v(gS=>{"use strict";c();var Sm=gS;Sm.length=function(e){for(var r=0,n=0,i=0;i<e.length;++i)n=e.charCodeAt(i),n<128?r+=1:n<2048?r+=2:(n&64512)===55296&&(e.charCodeAt(i+1)&64512)===56320?(++i,r+=4):r+=3;return r};Sm.read=function(e,r,n){var i=n-r;if(i<1)return"";for(var s=null,o=[],a=0,u;r<n;)u=e[r++],u<128?o[a++]=u:u>191&&u<224?o[a++]=(u&31)<<6|e[r++]&63:u>239&&u<365?(u=((u&7)<<18|(e[r++]&63)<<12|(e[r++]&63)<<6|e[r++]&63)-65536,o[a++]=55296+(u>>10),o[a++]=56320+(u&1023)):o[a++]=(u&15)<<12|(e[r++]&63)<<6|e[r++]&63,a>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,o)),a=0);return s?(a&&s.push(String.fromCharCode.apply(String,o.slice(0,a))),s.join("")):String.fromCharCode.apply(String,o.slice(0,a))};Sm.write=function(e,r,n){for(var i=n,s,o,a=0;a<e.length;++a)s=e.charCodeAt(a),s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=s&63|128):(s&64512)===55296&&((o=e.charCodeAt(a+1))&64512)===56320?(s=65536+((s&1023)<<10)+(o&1023),++a,r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=s&63|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=s&63|128);return n-i}});var wS=v(($ee,mS)=>{"use strict";c();mS.exports=D4;function D4(t,e,r){var n=r||8192,i=n>>>1,s=null,o=n;return function(u){if(u<1||u>i)return t(u);o+u>n&&(s=t(n),o=0);var l=e.call(s,o,o+=u);return o&7&&(o=(o|7)+1),l}}});var vS=v((Jee,ES)=>{"use strict";c();ES.exports=xt;var _c=Ei();function xt(t,e){this.lo=t>>>0,this.hi=e>>>0}var js=xt.zero=new xt(0,0);js.toNumber=function(){return 0};js.zzEncode=js.zzDecode=function(){return this};js.length=function(){return 1};var O4=xt.zeroHash="\0\0\0\0\0\0\0\0";xt.fromNumber=function(e){if(e===0)return js;var r=e<0;r&&(e=-e);var n=e>>>0,i=(e-n)/4294967296>>>0;return r&&(i=~i>>>0,n=~n>>>0,++n>4294967295&&(n=0,++i>4294967295&&(i=0))),new xt(n,i)};xt.from=function(e){if(typeof e=="number")return xt.fromNumber(e);if(_c.isString(e))if(_c.Long)e=_c.Long.fromString(e);else return xt.fromNumber(parseInt(e,10));return e.low||e.high?new xt(e.low>>>0,e.high>>>0):js};xt.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var r=~this.lo+1>>>0,n=~this.hi>>>0;return r||(n=n+1>>>0),-(r+n*4294967296)}return this.lo+this.hi*4294967296};xt.prototype.toLong=function(e){return _c.Long?new _c.Long(this.lo|0,this.hi|0,!!e):{low:this.lo|0,high:this.hi|0,unsigned:!!e}};var wi=String.prototype.charCodeAt;xt.fromHash=function(e){return e===O4?js:new xt((wi.call(e,0)|wi.call(e,1)<<8|wi.call(e,2)<<16|wi.call(e,3)<<24)>>>0,(wi.call(e,4)|wi.call(e,5)<<8|wi.call(e,6)<<16|wi.call(e,7)<<24)>>>0)};xt.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};xt.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this};xt.prototype.zzDecode=function(){var e=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this};xt.prototype.length=function(){var e=this.lo,r=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return n===0?r===0?e<16384?e<128?1:2:e<2097152?3:4:r<16384?r<128?5:6:r<2097152?7:8:n<128?9:10}});var Ei=v(Cm=>{"use strict";c();var me=Cm;me.asPromise=eS();me.base64=iS();me.EventEmitter=oS();me.float=dS();me.inquire=pS();me.utf8=yS();me.pool=wS();me.LongBits=vS();me.isNode=!!(typeof global<"u"&&global&&global.process&&global.process.versions&&global.process.versions.node);me.global=me.isNode&&global||typeof window<"u"&&window||typeof self<"u"&&self||Cm;me.emptyArray=Object.freeze?Object.freeze([]):[];me.emptyObject=Object.freeze?Object.freeze({}):{};me.isInteger=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};me.isString=function(e){return typeof e=="string"||e instanceof String};me.isObject=function(e){return e&&typeof e=="object"};me.isset=me.isSet=function(e,r){var n=e[r];return n!=null&&e.hasOwnProperty(r)?typeof n!="object"||(Array.isArray(n)?n.length:Object.keys(n).length)>0:!1};me.Buffer=function(){try{var t=me.inquire("buffer").Buffer;return t.prototype.utf8Write?t:null}catch{return null}}();me._Buffer_from=null;me._Buffer_allocUnsafe=null;me.newBuffer=function(e){return typeof e=="number"?me.Buffer?me._Buffer_allocUnsafe(e):new me.Array(e):me.Buffer?me._Buffer_from(e):typeof Uint8Array>"u"?e:new Uint8Array(e)};me.Array=typeof Uint8Array<"u"?Uint8Array:Array;me.Long=me.global.dcodeIO&&me.global.dcodeIO.Long||me.global.Long||me.inquire("long");me.key2Re=/^true|false|0|1$/;me.key32Re=/^-?(?:0|[1-9][0-9]*)$/;me.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;me.longToHash=function(e){return e?me.LongBits.from(e).toHash():me.LongBits.zeroHash};me.longFromHash=function(e,r){var n=me.LongBits.fromHash(e);return me.Long?me.Long.fromBits(n.lo,n.hi,r):n.toNumber(!!r)};function AS(t,e,r){for(var n=Object.keys(e),i=0;i<n.length;++i)(t[n[i]]===void 0||!r)&&(t[n[i]]=e[n[i]]);return t}me.merge=AS;me.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)};function _S(t){function e(r,n){if(!(this instanceof e))return new e(r,n);Object.defineProperty(this,"message",{get:function(){return r}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:new Error().stack||""}),n&&AS(this,n)}return(e.prototype=Object.create(Error.prototype)).constructor=e,Object.defineProperty(e.prototype,"name",{get:function(){return t}}),e.prototype.toString=function(){return this.name+": "+this.message},e}me.newError=_S;me.ProtocolError=_S("ProtocolError");me.oneOfGetter=function(e){for(var r={},n=0;n<e.length;++n)r[e[n]]=1;return function(){for(var i=Object.keys(this),s=i.length-1;s>-1;--s)if(r[i[s]]===1&&this[i[s]]!==void 0&&this[i[s]]!==null)return i[s]}};me.oneOfSetter=function(e){return function(r){for(var n=0;n<e.length;++n)e[n]!==r&&delete this[e[n]]}};me.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};me._configure=function(){var t=me.Buffer;if(!t){me._Buffer_from=me._Buffer_allocUnsafe=null;return}me._Buffer_from=t.from!==Uint8Array.from&&t.from||function(r,n){return new t(r,n)},me._Buffer_allocUnsafe=t.allocUnsafe||function(r){return new t(r)}}});var Bm=v((tte,CS)=>{"use strict";c();CS.exports=Le;var mr=Ei(),Tm,vh=mr.LongBits,bS=mr.base64,IS=mr.utf8;function bc(t,e,r){this.fn=t,this.len=e,this.next=void 0,this.val=r}function Nm(){}function P4(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function Le(){this.len=0,this.head=new bc(Nm,0,0),this.tail=this.head,this.states=null}var SS=function(){return mr.Buffer?function(){return(Le.create=function(){return new Tm})()}:function(){return new Le}};Le.create=SS();Le.alloc=function(e){return new mr.Array(e)};mr.Array!==Array&&(Le.alloc=mr.pool(Le.alloc,mr.Array.prototype.subarray));Le.prototype._push=function(e,r,n){return this.tail=this.tail.next=new bc(e,r,n),this.len+=r,this};function Dm(t,e,r){e[r]=t&255}function B4(t,e,r){for(;t>127;)e[r++]=t&127|128,t>>>=7;e[r]=t}function Om(t,e){this.len=t,this.next=void 0,this.val=e}Om.prototype=Object.create(bc.prototype);Om.prototype.fn=B4;Le.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new Om((e=e>>>0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this};Le.prototype.int32=function(e){return e<0?this._push(Pm,10,vh.fromNumber(e)):this.uint32(e)};Le.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)};function Pm(t,e,r){for(;t.hi;)e[r++]=t.lo&127|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;t.lo>127;)e[r++]=t.lo&127|128,t.lo=t.lo>>>7;e[r++]=t.lo}Le.prototype.uint64=function(e){var r=vh.from(e);return this._push(Pm,r.length(),r)};Le.prototype.int64=Le.prototype.uint64;Le.prototype.sint64=function(e){var r=vh.from(e).zzEncode();return this._push(Pm,r.length(),r)};Le.prototype.bool=function(e){return this._push(Dm,1,e?1:0)};function xm(t,e,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}Le.prototype.fixed32=function(e){return this._push(xm,4,e>>>0)};Le.prototype.sfixed32=Le.prototype.fixed32;Le.prototype.fixed64=function(e){var r=vh.from(e);return this._push(xm,4,r.lo)._push(xm,4,r.hi)};Le.prototype.sfixed64=Le.prototype.fixed64;Le.prototype.float=function(e){return this._push(mr.float.writeFloatLE,4,e)};Le.prototype.double=function(e){return this._push(mr.float.writeDoubleLE,8,e)};var R4=mr.Array.prototype.set?function(e,r,n){r.set(e,n)}:function(e,r,n){for(var i=0;i<e.length;++i)r[n+i]=e[i]};Le.prototype.bytes=function(e){var r=e.length>>>0;if(!r)return this._push(Dm,1,0);if(mr.isString(e)){var n=Le.alloc(r=bS.length(e));bS.decode(e,n,0),e=n}return this.uint32(r)._push(R4,r,e)};Le.prototype.string=function(e){var r=IS.length(e);return r?this.uint32(r)._push(IS.write,r,e):this._push(Dm,1,0)};Le.prototype.fork=function(){return this.states=new P4(this),this.head=this.tail=new bc(Nm,0,0),this.len=0,this};Le.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new bc(Nm,0,0),this.len=0),this};Le.prototype.ldelim=function(){var e=this.head,r=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=r,this.len+=n),this};Le.prototype.finish=function(){for(var e=this.head.next,r=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,r,n),n+=e.len,e=e.next;return r};Le._configure=function(t){Tm=t,Le.create=SS(),Tm._configure()}});var NS=v((nte,xS)=>{"use strict";c();xS.exports=sn;var TS=Bm();(sn.prototype=Object.create(TS.prototype)).constructor=sn;var vi=Ei();function sn(){TS.call(this)}sn._configure=function(){sn.alloc=vi._Buffer_allocUnsafe,sn.writeBytesBuffer=vi.Buffer&&vi.Buffer.prototype instanceof Uint8Array&&vi.Buffer.prototype.set.name==="set"?function(e,r,n){r.set(e,n)}:function(e,r,n){if(e.copy)e.copy(r,n,0,e.length);else for(var i=0;i<e.length;)r[n++]=e[i++]}};sn.prototype.bytes=function(e){vi.isString(e)&&(e=vi._Buffer_from(e,"base64"));var r=e.length>>>0;return this.uint32(r),r&&this._push(sn.writeBytesBuffer,r,e),this};function L4(t,e,r){t.length<40?vi.utf8.write(t,e,r):e.utf8Write?e.utf8Write(t,r):e.write(t,r)}sn.prototype.string=function(e){var r=vi.Buffer.byteLength(e);return this.uint32(r),r&&this._push(L4,r,e),this};sn._configure()});var Fm=v((ste,RS)=>{"use strict";c();RS.exports=dt;var on=Ei(),Lm,PS=on.LongBits,F4=on.utf8;function Br(t,e){return RangeError("index out of range: "+t.pos+" + "+(e||1)+" > "+t.len)}function dt(t){this.buf=t,this.pos=0,this.len=t.length}var DS=typeof Uint8Array<"u"?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new dt(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new dt(e);throw Error("illegal buffer")},BS=function(){return on.Buffer?function(r){return(dt.create=function(i){return on.Buffer.isBuffer(i)?new Lm(i):DS(i)})(r)}:DS};dt.create=BS();dt.prototype._slice=on.Array.prototype.subarray||on.Array.prototype.slice;dt.prototype.uint32=function(){var e=4294967295;return function(){if(e=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(e=(e|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,Br(this,10);return e}}();dt.prototype.int32=function(){return this.uint32()|0};dt.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(e&1)|0};function Rm(){var t=new PS(0,0),e=0;if(this.len-this.pos>4){for(;e<4;++e)if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(this.buf[this.pos]&127)<<28)>>>0,t.hi=(t.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return t;e=0}else{for(;e<3;++e){if(this.pos>=this.len)throw Br(this);if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(this.buf[this.pos++]&127)<<e*7)>>>0,t}if(this.len-this.pos>4){for(;e<5;++e)if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}else for(;e<5;++e){if(this.pos>=this.len)throw Br(this);if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}dt.prototype.bool=function(){return this.uint32()!==0};function Ah(t,e){return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0}dt.prototype.fixed32=function(){if(this.pos+4>this.len)throw Br(this,4);return Ah(this.buf,this.pos+=4)};dt.prototype.sfixed32=function(){if(this.pos+4>this.len)throw Br(this,4);return Ah(this.buf,this.pos+=4)|0};function OS(){if(this.pos+8>this.len)throw Br(this,8);return new PS(Ah(this.buf,this.pos+=4),Ah(this.buf,this.pos+=4))}dt.prototype.float=function(){if(this.pos+4>this.len)throw Br(this,4);var e=on.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e};dt.prototype.double=function(){if(this.pos+8>this.len)throw Br(this,4);var e=on.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e};dt.prototype.bytes=function(){var e=this.uint32(),r=this.pos,n=this.pos+e;if(n>this.len)throw Br(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(r,n):r===n?new this.buf.constructor(0):this._slice.call(this.buf,r,n)};dt.prototype.string=function(){var e=this.bytes();return F4.read(e,0,e.length)};dt.prototype.skip=function(e){if(typeof e=="number"){if(this.pos+e>this.len)throw Br(this,e);this.pos+=e}else do if(this.pos>=this.len)throw Br(this);while(this.buf[this.pos++]&128);return this};dt.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(t=this.uint32()&7)!==4;)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this};dt._configure=function(t){Lm=t,dt.create=BS(),Lm._configure();var e=on.Long?"toLong":"toNumber";on.merge(dt.prototype,{int64:function(){return Rm.call(this)[e](!1)},uint64:function(){return Rm.call(this)[e](!0)},sint64:function(){return Rm.call(this).zzDecode()[e](!1)},fixed64:function(){return OS.call(this)[e](!0)},sfixed64:function(){return OS.call(this)[e](!1)}})}});var US=v((ate,MS)=>{"use strict";c();MS.exports=Gs;var FS=Fm();(Gs.prototype=Object.create(FS.prototype)).constructor=Gs;var LS=Ei();function Gs(t){FS.call(this,t)}Gs._configure=function(){LS.Buffer&&(Gs.prototype._slice=LS.Buffer.prototype.slice)};Gs.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))};Gs._configure()});var VS=v((cte,qS)=>{"use strict";c();qS.exports=Ic;var Mm=Ei();(Ic.prototype=Object.create(Mm.EventEmitter.prototype)).constructor=Ic;function Ic(t,e,r){if(typeof t!="function")throw TypeError("rpcImpl must be a function");Mm.EventEmitter.call(this),this.rpcImpl=t,this.requestDelimited=!!e,this.responseDelimited=!!r}Ic.prototype.rpcCall=function t(e,r,n,i,s){if(!i)throw TypeError("request must be specified");var o=this;if(!s)return Mm.asPromise(t,o,e,r,n,i);if(!o.rpcImpl){setTimeout(function(){s(Error("already ended"))},0);return}try{return o.rpcImpl(e,r[o.requestDelimited?"encodeDelimited":"encode"](i).finish(),function(u,l){if(u)return o.emit("error",u,e),s(u);if(l===null){o.end(!0);return}if(!(l instanceof n))try{l=n[o.responseDelimited?"decodeDelimited":"decode"](l)}catch(f){return o.emit("error",f,e),s(f)}return o.emit("data",l,e),s(null,l)})}catch(a){o.emit("error",a,e),setTimeout(function(){s(a)},0);return}};Ic.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}});var jS=v(HS=>{"use strict";c();var M4=HS;M4.Service=VS()});var QS=v((dte,GS)=>{"use strict";c();GS.exports={}});var zS=v(KS=>{"use strict";c();var er=KS;er.build="minimal";er.Writer=Bm();er.BufferWriter=NS();er.Reader=Fm();er.BufferReader=US();er.util=Ei();er.rpc=jS();er.roots=QS();er.configure=kS;function kS(){er.util._configure(),er.Writer._configure(er.BufferWriter),er.Reader._configure(er.BufferReader)}kS()});var $S=v((mte,WS)=>{"use strict";c();WS.exports=zS()});var JS=v((Ete,YS)=>{"use strict";c();var Pa=$S(),_h=Pa.Reader,U4=Pa.Writer,J=Pa.util,Sc=Pa.roots.default||(Pa.roots.default={});Sc.proto=function(){var t={};return t.Transaction=function(){function e(r){if(r)for(var n=Object.keys(r),i=0;i<n.length;++i)r[n[i]]!=null&&(this[n[i]]=r[n[i]])}return e.prototype.Nonce=J.Long?J.Long.fromBits(0,0,!0):0,e.prototype.Value=J.newBuffer([]),e.prototype.RcvAddr=J.newBuffer([]),e.prototype.RcvUserName=J.newBuffer([]),e.prototype.SndAddr=J.newBuffer([]),e.prototype.SndUserName=J.newBuffer([]),e.prototype.GasPrice=J.Long?J.Long.fromBits(0,0,!0):0,e.prototype.GasLimit=J.Long?J.Long.fromBits(0,0,!0):0,e.prototype.Data=J.newBuffer([]),e.prototype.ChainID=J.newBuffer([]),e.prototype.Version=0,e.prototype.Signature=J.newBuffer([]),e.prototype.Options=0,e.prototype.GuardAddr=J.newBuffer([]),e.prototype.GuardSignature=J.newBuffer([]),e.create=function(n){return new e(n)},e.encode=function(n,i){return i||(i=U4.create()),n.Nonce!=null&&Object.hasOwnProperty.call(n,"Nonce")&&i.uint32(8).uint64(n.Nonce),n.Value!=null&&Object.hasOwnProperty.call(n,"Value")&&i.uint32(18).bytes(n.Value),n.RcvAddr!=null&&Object.hasOwnProperty.call(n,"RcvAddr")&&i.uint32(26).bytes(n.RcvAddr),n.RcvUserName!=null&&Object.hasOwnProperty.call(n,"RcvUserName")&&i.uint32(34).bytes(n.RcvUserName),n.SndAddr!=null&&Object.hasOwnProperty.call(n,"SndAddr")&&i.uint32(42).bytes(n.SndAddr),n.SndUserName!=null&&Object.hasOwnProperty.call(n,"SndUserName")&&i.uint32(50).bytes(n.SndUserName),n.GasPrice!=null&&Object.hasOwnProperty.call(n,"GasPrice")&&i.uint32(56).uint64(n.GasPrice),n.GasLimit!=null&&Object.hasOwnProperty.call(n,"GasLimit")&&i.uint32(64).uint64(n.GasLimit),n.Data!=null&&Object.hasOwnProperty.call(n,"Data")&&i.uint32(74).bytes(n.Data),n.ChainID!=null&&Object.hasOwnProperty.call(n,"ChainID")&&i.uint32(82).bytes(n.ChainID),n.Version!=null&&Object.hasOwnProperty.call(n,"Version")&&i.uint32(88).uint32(n.Version),n.Signature!=null&&Object.hasOwnProperty.call(n,"Signature")&&i.uint32(98).bytes(n.Signature),n.Options!=null&&Object.hasOwnProperty.call(n,"Options")&&i.uint32(104).uint32(n.Options),n.GuardAddr!=null&&Object.hasOwnProperty.call(n,"GuardAddr")&&i.uint32(114).bytes(n.GuardAddr),n.GuardSignature!=null&&Object.hasOwnProperty.call(n,"GuardSignature")&&i.uint32(122).bytes(n.GuardSignature),i},e.encodeDelimited=function(n,i){return this.encode(n,i).ldelim()},e.decode=function(n,i){n instanceof _h||(n=_h.create(n));for(var s=i===void 0?n.len:n.pos+i,o=new Sc.proto.Transaction;n.pos<s;){var a=n.uint32();switch(a>>>3){case 1:o.Nonce=n.uint64();break;case 2:o.Value=n.bytes();break;case 3:o.RcvAddr=n.bytes();break;case 4:o.RcvUserName=n.bytes();break;case 5:o.SndAddr=n.bytes();break;case 6:o.SndUserName=n.bytes();break;case 7:o.GasPrice=n.uint64();break;case 8:o.GasLimit=n.uint64();break;case 9:o.Data=n.bytes();break;case 10:o.ChainID=n.bytes();break;case 11:o.Version=n.uint32();break;case 12:o.Signature=n.bytes();break;case 13:o.Options=n.uint32();break;case 14:o.GuardAddr=n.bytes();break;case 15:o.GuardSignature=n.bytes();break;default:n.skipType(a&7);break}}return o},e.decodeDelimited=function(n){return n instanceof _h||(n=new _h(n)),this.decode(n,n.uint32())},e.verify=function(n){return typeof n!="object"||n===null?"object expected":n.Nonce!=null&&n.hasOwnProperty("Nonce")&&!J.isInteger(n.Nonce)&&!(n.Nonce&&J.isInteger(n.Nonce.low)&&J.isInteger(n.Nonce.high))?"Nonce: integer|Long expected":n.Value!=null&&n.hasOwnProperty("Value")&&!(n.Value&&typeof n.Value.length=="number"||J.isString(n.Value))?"Value: buffer expected":n.RcvAddr!=null&&n.hasOwnProperty("RcvAddr")&&!(n.RcvAddr&&typeof n.RcvAddr.length=="number"||J.isString(n.RcvAddr))?"RcvAddr: buffer expected":n.RcvUserName!=null&&n.hasOwnProperty("RcvUserName")&&!(n.RcvUserName&&typeof n.RcvUserName.length=="number"||J.isString(n.RcvUserName))?"RcvUserName: buffer expected":n.SndAddr!=null&&n.hasOwnProperty("SndAddr")&&!(n.SndAddr&&typeof n.SndAddr.length=="number"||J.isString(n.SndAddr))?"SndAddr: buffer expected":n.SndUserName!=null&&n.hasOwnProperty("SndUserName")&&!(n.SndUserName&&typeof n.SndUserName.length=="number"||J.isString(n.SndUserName))?"SndUserName: buffer expected":n.GasPrice!=null&&n.hasOwnProperty("GasPrice")&&!J.isInteger(n.GasPrice)&&!(n.GasPrice&&J.isInteger(n.GasPrice.low)&&J.isInteger(n.GasPrice.high))?"GasPrice: integer|Long expected":n.GasLimit!=null&&n.hasOwnProperty("GasLimit")&&!J.isInteger(n.GasLimit)&&!(n.GasLimit&&J.isInteger(n.GasLimit.low)&&J.isInteger(n.GasLimit.high))?"GasLimit: integer|Long expected":n.Data!=null&&n.hasOwnProperty("Data")&&!(n.Data&&typeof n.Data.length=="number"||J.isString(n.Data))?"Data: buffer expected":n.ChainID!=null&&n.hasOwnProperty("ChainID")&&!(n.ChainID&&typeof n.ChainID.length=="number"||J.isString(n.ChainID))?"ChainID: buffer expected":n.Version!=null&&n.hasOwnProperty("Version")&&!J.isInteger(n.Version)?"Version: integer expected":n.Signature!=null&&n.hasOwnProperty("Signature")&&!(n.Signature&&typeof n.Signature.length=="number"||J.isString(n.Signature))?"Signature: buffer expected":n.Options!=null&&n.hasOwnProperty("Options")&&!J.isInteger(n.Options)?"Options: integer expected":n.GuardAddr!=null&&n.hasOwnProperty("GuardAddr")&&!(n.GuardAddr&&typeof n.GuardAddr.length=="number"||J.isString(n.GuardAddr))?"GuardAddr: buffer expected":n.GuardSignature!=null&&n.hasOwnProperty("GuardSignature")&&!(n.GuardSignature&&typeof n.GuardSignature.length=="number"||J.isString(n.GuardSignature))?"GuardSignature: buffer expected":null},e.fromObject=function(n){if(n instanceof Sc.proto.Transaction)return n;var i=new Sc.proto.Transaction;return n.Nonce!=null&&(J.Long?(i.Nonce=J.Long.fromValue(n.Nonce)).unsigned=!0:typeof n.Nonce=="string"?i.Nonce=parseInt(n.Nonce,10):typeof n.Nonce=="number"?i.Nonce=n.Nonce:typeof n.Nonce=="object"&&(i.Nonce=new J.LongBits(n.Nonce.low>>>0,n.Nonce.high>>>0).toNumber(!0))),n.Value!=null&&(typeof n.Value=="string"?J.base64.decode(n.Value,i.Value=J.newBuffer(J.base64.length(n.Value)),0):n.Value.length&&(i.Value=n.Value)),n.RcvAddr!=null&&(typeof n.RcvAddr=="string"?J.base64.decode(n.RcvAddr,i.RcvAddr=J.newBuffer(J.base64.length(n.RcvAddr)),0):n.RcvAddr.length&&(i.RcvAddr=n.RcvAddr)),n.RcvUserName!=null&&(typeof n.RcvUserName=="string"?J.base64.decode(n.RcvUserName,i.RcvUserName=J.newBuffer(J.base64.length(n.RcvUserName)),0):n.RcvUserName.length&&(i.RcvUserName=n.RcvUserName)),n.SndAddr!=null&&(typeof n.SndAddr=="string"?J.base64.decode(n.SndAddr,i.SndAddr=J.newBuffer(J.base64.length(n.SndAddr)),0):n.SndAddr.length&&(i.SndAddr=n.SndAddr)),n.SndUserName!=null&&(typeof n.SndUserName=="string"?J.base64.decode(n.SndUserName,i.SndUserName=J.newBuffer(J.base64.length(n.SndUserName)),0):n.SndUserName.length&&(i.SndUserName=n.SndUserName)),n.GasPrice!=null&&(J.Long?(i.GasPrice=J.Long.fromValue(n.GasPrice)).unsigned=!0:typeof n.GasPrice=="string"?i.GasPrice=parseInt(n.GasPrice,10):typeof n.GasPrice=="number"?i.GasPrice=n.GasPrice:typeof n.GasPrice=="object"&&(i.GasPrice=new J.LongBits(n.GasPrice.low>>>0,n.GasPrice.high>>>0).toNumber(!0))),n.GasLimit!=null&&(J.Long?(i.GasLimit=J.Long.fromValue(n.GasLimit)).unsigned=!0:typeof n.GasLimit=="string"?i.GasLimit=parseInt(n.GasLimit,10):typeof n.GasLimit=="number"?i.GasLimit=n.GasLimit:typeof n.GasLimit=="object"&&(i.GasLimit=new J.LongBits(n.GasLimit.low>>>0,n.GasLimit.high>>>0).toNumber(!0))),n.Data!=null&&(typeof n.Data=="string"?J.base64.decode(n.Data,i.Data=J.newBuffer(J.base64.length(n.Data)),0):n.Data.length&&(i.Data=n.Data)),n.ChainID!=null&&(typeof n.ChainID=="string"?J.base64.decode(n.ChainID,i.ChainID=J.newBuffer(J.base64.length(n.ChainID)),0):n.ChainID.length&&(i.ChainID=n.ChainID)),n.Version!=null&&(i.Version=n.Version>>>0),n.Signature!=null&&(typeof n.Signature=="string"?J.base64.decode(n.Signature,i.Signature=J.newBuffer(J.base64.length(n.Signature)),0):n.Signature.length&&(i.Signature=n.Signature)),n.Options!=null&&(i.Options=n.Options>>>0),n.GuardAddr!=null&&(typeof n.GuardAddr=="string"?J.base64.decode(n.GuardAddr,i.GuardAddr=J.newBuffer(J.base64.length(n.GuardAddr)),0):n.GuardAddr.length&&(i.GuardAddr=n.GuardAddr)),n.GuardSignature!=null&&(typeof n.GuardSignature=="string"?J.base64.decode(n.GuardSignature,i.GuardSignature=J.newBuffer(J.base64.length(n.GuardSignature)),0):n.GuardSignature.length&&(i.GuardSignature=n.GuardSignature)),i},e.toObject=function(n,i){i||(i={});var s={};if(i.defaults){if(J.Long){var o=new J.Long(0,0,!0);s.Nonce=i.longs===String?o.toString():i.longs===Number?o.toNumber():o}else s.Nonce=i.longs===String?"0":0;if(i.bytes===String?s.Value="":(s.Value=[],i.bytes!==Array&&(s.Value=J.newBuffer(s.Value))),i.bytes===String?s.RcvAddr="":(s.RcvAddr=[],i.bytes!==Array&&(s.RcvAddr=J.newBuffer(s.RcvAddr))),i.bytes===String?s.RcvUserName="":(s.RcvUserName=[],i.bytes!==Array&&(s.RcvUserName=J.newBuffer(s.RcvUserName))),i.bytes===String?s.SndAddr="":(s.SndAddr=[],i.bytes!==Array&&(s.SndAddr=J.newBuffer(s.SndAddr))),i.bytes===String?s.SndUserName="":(s.SndUserName=[],i.bytes!==Array&&(s.SndUserName=J.newBuffer(s.SndUserName))),J.Long){var o=new J.Long(0,0,!0);s.GasPrice=i.longs===String?o.toString():i.longs===Number?o.toNumber():o}else s.GasPrice=i.longs===String?"0":0;if(J.Long){var o=new J.Long(0,0,!0);s.GasLimit=i.longs===String?o.toString():i.longs===Number?o.toNumber():o}else s.GasLimit=i.longs===String?"0":0;i.bytes===String?s.Data="":(s.Data=[],i.bytes!==Array&&(s.Data=J.newBuffer(s.Data))),i.bytes===String?s.ChainID="":(s.ChainID=[],i.bytes!==Array&&(s.ChainID=J.newBuffer(s.ChainID))),s.Version=0,i.bytes===String?s.Signature="":(s.Signature=[],i.bytes!==Array&&(s.Signature=J.newBuffer(s.Signature))),s.Options=0,i.bytes===String?s.GuardAddr="":(s.GuardAddr=[],i.bytes!==Array&&(s.GuardAddr=J.newBuffer(s.GuardAddr))),i.bytes===String?s.GuardSignature="":(s.GuardSignature=[],i.bytes!==Array&&(s.GuardSignature=J.newBuffer(s.GuardSignature)))}return n.Nonce!=null&&n.hasOwnProperty("Nonce")&&(typeof n.Nonce=="number"?s.Nonce=i.longs===String?String(n.Nonce):n.Nonce:s.Nonce=i.longs===String?J.Long.prototype.toString.call(n.Nonce):i.longs===Number?new J.LongBits(n.Nonce.low>>>0,n.Nonce.high>>>0).toNumber(!0):n.Nonce),n.Value!=null&&n.hasOwnProperty("Value")&&(s.Value=i.bytes===String?J.base64.encode(n.Value,0,n.Value.length):i.bytes===Array?Array.prototype.slice.call(n.Value):n.Value),n.RcvAddr!=null&&n.hasOwnProperty("RcvAddr")&&(s.RcvAddr=i.bytes===String?J.base64.encode(n.RcvAddr,0,n.RcvAddr.length):i.bytes===Array?Array.prototype.slice.call(n.RcvAddr):n.RcvAddr),n.RcvUserName!=null&&n.hasOwnProperty("RcvUserName")&&(s.RcvUserName=i.bytes===String?J.base64.encode(n.RcvUserName,0,n.RcvUserName.length):i.bytes===Array?Array.prototype.slice.call(n.RcvUserName):n.RcvUserName),n.SndAddr!=null&&n.hasOwnProperty("SndAddr")&&(s.SndAddr=i.bytes===String?J.base64.encode(n.SndAddr,0,n.SndAddr.length):i.bytes===Array?Array.prototype.slice.call(n.SndAddr):n.SndAddr),n.SndUserName!=null&&n.hasOwnProperty("SndUserName")&&(s.SndUserName=i.bytes===String?J.base64.encode(n.SndUserName,0,n.SndUserName.length):i.bytes===Array?Array.prototype.slice.call(n.SndUserName):n.SndUserName),n.GasPrice!=null&&n.hasOwnProperty("GasPrice")&&(typeof n.GasPrice=="number"?s.GasPrice=i.longs===String?String(n.GasPrice):n.GasPrice:s.GasPrice=i.longs===String?J.Long.prototype.toString.call(n.GasPrice):i.longs===Number?new J.LongBits(n.GasPrice.low>>>0,n.GasPrice.high>>>0).toNumber(!0):n.GasPrice),n.GasLimit!=null&&n.hasOwnProperty("GasLimit")&&(typeof n.GasLimit=="number"?s.GasLimit=i.longs===String?String(n.GasLimit):n.GasLimit:s.GasLimit=i.longs===String?J.Long.prototype.toString.call(n.GasLimit):i.longs===Number?new J.LongBits(n.GasLimit.low>>>0,n.GasLimit.high>>>0).toNumber(!0):n.GasLimit),n.Data!=null&&n.hasOwnProperty("Data")&&(s.Data=i.bytes===String?J.base64.encode(n.Data,0,n.Data.length):i.bytes===Array?Array.prototype.slice.call(n.Data):n.Data),n.ChainID!=null&&n.hasOwnProperty("ChainID")&&(s.ChainID=i.bytes===String?J.base64.encode(n.ChainID,0,n.ChainID.length):i.bytes===Array?Array.prototype.slice.call(n.ChainID):n.ChainID),n.Version!=null&&n.hasOwnProperty("Version")&&(s.Version=n.Version),n.Signature!=null&&n.hasOwnProperty("Signature")&&(s.Signature=i.bytes===String?J.base64.encode(n.Signature,0,n.Signature.length):i.bytes===Array?Array.prototype.slice.call(n.Signature):n.Signature),n.Options!=null&&n.hasOwnProperty("Options")&&(s.Options=n.Options),n.GuardAddr!=null&&n.hasOwnProperty("GuardAddr")&&(s.GuardAddr=i.bytes===String?J.base64.encode(n.GuardAddr,0,n.GuardAddr.length):i.bytes===Array?Array.prototype.slice.call(n.GuardAddr):n.GuardAddr),n.GuardSignature!=null&&n.hasOwnProperty("GuardSignature")&&(s.GuardSignature=i.bytes===String?J.base64.encode(n.GuardSignature,0,n.GuardSignature.length):i.bytes===Array?Array.prototype.slice.call(n.GuardSignature):n.GuardSignature),s},e.prototype.toJSON=function(){return this.constructor.toObject(this,Pa.util.toJSONOptions)},e}(),t}();YS.exports=Sc});var XS=v(wr=>{"use strict";c();var q4=wr&&wr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),V4=wr&&wr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),H4=wr&&wr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&q4(e,t,r);return V4(e,t),e},j4=wr&&wr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(wr,"__esModule",{value:!0});wr.ProtoSerializer=void 0;var G4=j4(Wt()),Um=Zt(),Q4=Ro(),k4=H4(He()),K4=Kf(),qm=class{serializeTransaction(e){let r=JS().proto,n=new Um.Address(e.getReceiver().bech32()).pubkey(),i=new Um.Address(e.getSender().bech32()).pubkey(),s=new r.Transaction({Nonce:e.getNonce().valueOf()?e.getNonce().valueOf():void 0,Value:this.serializeTransactionValue(e.getValue()),RcvAddr:n,RcvUserName:null,SndAddr:i,SndUserName:null,GasPrice:e.getGasPrice().valueOf(),GasLimit:e.getGasLimit().valueOf(),Data:e.getData().length()==0?null:e.getData().valueOf(),ChainID:h.Buffer.from(e.getChainID().valueOf()),Version:e.getVersion().valueOf(),Signature:e.getSignature()});if(e.getOptions().valueOf()!==Q4.TRANSACTION_OPTIONS_DEFAULT&&(s.Options=e.getOptions().valueOf()),e.isGuardedTransaction()){let u=e.getGuardian();s.GuardAddr=new Um.Address(u.bech32()).pubkey(),s.GuardSignature=e.getGuardianSignature()}let o=r.Transaction.encode(s).finish();return h.Buffer.from(o)}serializeTransactionValue(e){let r=new G4.default(e.toString());if(r.isZero())return h.Buffer.from([0,0]);let n=K4.bigIntToBuffer(r);return n=h.Buffer.concat([h.Buffer.from([0]),n]),n}deserializeTransaction(e){throw new k4.ErrUnsupportedOperation("deserializeTransaction")}};wr.ProtoSerializer=qm});var ZS=v(Qs=>{"use strict";c();var z4=Qs&&Qs.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),W4=Qs&&Qs.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&z4(e,t,r)};Object.defineProperty(Qs,"__esModule",{value:!0});W4(XS(),Qs)});var rC=v(an=>{"use strict";c();var $4=an&&an.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Y4=an&&an.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),J4=an&&an.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&$4(e,t,r);return Y4(e,t),e};Object.defineProperty(an,"__esModule",{value:!0});an.Signature=void 0;var eC=J4(He()),tC=64,Rr=class{constructor(e){if(this.valueHex="",!!e){if(typeof e=="string")return Rr.fromHex(e);if(e instanceof h.Buffer)return Rr.fromBuffer(e)}}static empty(){return new Rr}static fromHex(e){if(e.startsWith("0x")&&(e=e.slice(2)),!Rr.isValidHex(e))throw new eC.ErrSignatureCannotCreate(e);return Rr.fromValidHex(e)}static isValidHex(e){return h.Buffer.from(e,"hex").length==tC}static fromValidHex(e){let r=new Rr;return r.valueHex=e,r}static fromBuffer(e){if(e.length!=tC)throw new eC.ErrSignatureCannotCreate(e);return Rr.fromValidHex(e.toString("hex"))}hex(){return this.valueHex}};an.Signature=Rr});var Cc=v(bh=>{"use strict";c();Object.defineProperty(bh,"__esModule",{value:!0});bh.TransactionPayload=void 0;var Ba=class{constructor(e){this.data=h.Buffer.from(e||[])}static fromEncoded(e){if(!e)return new Ba("");let r=h.Buffer.from(e,"base64").toString();return new Ba(r)}isEmpty(){return this.data.length==0}encoded(){return this.data.toString("base64")}valueOf(){return this.data}toString(){return this.data.toString()}getEncodedArguments(){return this.toString().split("@")}getRawArguments(){return this.getEncodedArguments().map(e=>h.Buffer.from(e,"hex"))}length(){return h.Buffer.from(this.data).length}};bh.TransactionPayload=Ba});var Vm=v((Nte,nC)=>{c();Un.notEqual=Z4;Un.notOk=eM;Un.equal=X4;Un.ok=Un;nC.exports=Un;function X4(t,e,r){Un(t==e,r)}function Z4(t,e,r){Un(t!=e,r)}function eM(t,e){Un(!t,e)}function Un(t,e){if(!t)throw new Error(e||"AssertionError")}});var Ua=v(Ma=>{"use strict";c();var Hm=q0(),La=H0(),iC=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Ma.Buffer=z;Ma.SlowBuffer=oM;Ma.INSPECT_MAX_BYTES=50;var Ih=2147483647;Ma.kMaxLength=Ih;z.TYPED_ARRAY_SUPPORT=tM();!z.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function tM(){try{let t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch{return!1}}Object.defineProperty(z.prototype,"parent",{enumerable:!0,get:function(){if(z.isBuffer(this))return this.buffer}});Object.defineProperty(z.prototype,"offset",{enumerable:!0,get:function(){if(z.isBuffer(this))return this.byteOffset}});function qn(t){if(t>Ih)throw new RangeError('The value "'+t+'" is invalid for option "size"');let e=new Uint8Array(t);return Object.setPrototypeOf(e,z.prototype),e}function z(t,e,r){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return km(t)}return uC(t,e,r)}z.poolSize=8192;function uC(t,e,r){if(typeof t=="string")return nM(t,e);if(ArrayBuffer.isView(t))return iM(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(un(t,ArrayBuffer)||t&&un(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(un(t,SharedArrayBuffer)||t&&un(t.buffer,SharedArrayBuffer)))return Gm(t,e,r);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let n=t.valueOf&&t.valueOf();if(n!=null&&n!==t)return z.from(n,e,r);let i=sM(t);if(i)return i;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return z.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}z.from=function(t,e,r){return uC(t,e,r)};Object.setPrototypeOf(z.prototype,Uint8Array.prototype);Object.setPrototypeOf(z,Uint8Array);function cC(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function rM(t,e,r){return cC(t),t<=0?qn(t):e!==void 0?typeof r=="string"?qn(t).fill(e,r):qn(t).fill(e):qn(t)}z.alloc=function(t,e,r){return rM(t,e,r)};function km(t){return cC(t),qn(t<0?0:Km(t)|0)}z.allocUnsafe=function(t){return km(t)};z.allocUnsafeSlow=function(t){return km(t)};function nM(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!z.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let r=lC(t,e)|0,n=qn(r),i=n.write(t,e);return i!==r&&(n=n.slice(0,i)),n}function jm(t){let e=t.length<0?0:Km(t.length)|0,r=qn(e);for(let n=0;n<e;n+=1)r[n]=t[n]&255;return r}function iM(t){if(un(t,Uint8Array)){let e=new Uint8Array(t);return Gm(e.buffer,e.byteOffset,e.byteLength)}return jm(t)}function Gm(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return e===void 0&&r===void 0?n=new Uint8Array(t):r===void 0?n=new Uint8Array(t,e):n=new Uint8Array(t,e,r),Object.setPrototypeOf(n,z.prototype),n}function sM(t){if(z.isBuffer(t)){let e=Km(t.length)|0,r=qn(e);return r.length===0||t.copy(r,0,0,e),r}if(t.length!==void 0)return typeof t.length!="number"||Wm(t.length)?qn(0):jm(t);if(t.type==="Buffer"&&Array.isArray(t.data))return jm(t.data)}function Km(t){if(t>=Ih)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Ih.toString(16)+" bytes");return t|0}function oM(t){return+t!=t&&(t=0),z.alloc(+t)}z.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==z.prototype};z.compare=function(e,r){if(un(e,Uint8Array)&&(e=z.from(e,e.offset,e.byteLength)),un(r,Uint8Array)&&(r=z.from(r,r.offset,r.byteLength)),!z.isBuffer(e)||!z.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===r)return 0;let n=e.length,i=r.length;for(let s=0,o=Math.min(n,i);s<o;++s)if(e[s]!==r[s]){n=e[s],i=r[s];break}return n<i?-1:i<n?1:0};z.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};z.concat=function(e,r){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return z.alloc(0);let n;if(r===void 0)for(r=0,n=0;n<e.length;++n)r+=e[n].length;let i=z.allocUnsafe(r),s=0;for(n=0;n<e.length;++n){let o=e[n];if(un(o,Uint8Array))s+o.length>i.length?(z.isBuffer(o)||(o=z.from(o)),o.copy(i,s)):Uint8Array.prototype.set.call(i,o,s);else if(z.isBuffer(o))o.copy(i,s);else throw new TypeError('"list" argument must be an Array of Buffers');s+=o.length}return i};function lC(t,e){if(z.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||un(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);let r=t.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&r===0)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return Qm(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return EC(t).length;default:if(i)return n?-1:Qm(t).length;e=(""+e).toLowerCase(),i=!0}}z.byteLength=lC;function aM(t,e,r){let n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,e>>>=0,r<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return mM(this,e,r);case"utf8":case"utf-8":return hC(this,e,r);case"ascii":return gM(this,e,r);case"latin1":case"binary":return yM(this,e,r);case"base64":return dM(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return wM(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}z.prototype._isBuffer=!0;function ks(t,e,r){let n=t[e];t[e]=t[r],t[r]=n}z.prototype.swap16=function(){let e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let r=0;r<e;r+=2)ks(this,r,r+1);return this};z.prototype.swap32=function(){let e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let r=0;r<e;r+=4)ks(this,r,r+3),ks(this,r+1,r+2);return this};z.prototype.swap64=function(){let e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let r=0;r<e;r+=8)ks(this,r,r+7),ks(this,r+1,r+6),ks(this,r+2,r+5),ks(this,r+3,r+4);return this};z.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?hC(this,0,e):aM.apply(this,arguments)};z.prototype.toLocaleString=z.prototype.toString;z.prototype.equals=function(e){if(!z.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:z.compare(this,e)===0};z.prototype.inspect=function(){let e="",r=Ma.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"};iC&&(z.prototype[iC]=z.prototype.inspect);z.prototype.compare=function(e,r,n,i,s){if(un(e,Uint8Array)&&(e=z.from(e,e.offset,e.byteLength)),!z.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(r===void 0&&(r=0),n===void 0&&(n=e?e.length:0),i===void 0&&(i=0),s===void 0&&(s=this.length),r<0||n>e.length||i<0||s>this.length)throw new RangeError("out of range index");if(i>=s&&r>=n)return 0;if(i>=s)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,i>>>=0,s>>>=0,this===e)return 0;let o=s-i,a=n-r,u=Math.min(o,a),l=this.slice(i,s),f=e.slice(r,n);for(let d=0;d<u;++d)if(l[d]!==f[d]){o=l[d],a=f[d];break}return o<a?-1:a<o?1:0};function fC(t,e,r,n,i){if(t.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,Wm(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0)if(i)r=0;else return-1;if(typeof e=="string"&&(e=z.from(e,n)),z.isBuffer(e))return e.length===0?-1:sC(t,e,r,n,i);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):sC(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function sC(t,e,r,n,i){let s=1,o=t.length,a=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(t.length<2||e.length<2)return-1;s=2,o/=2,a/=2,r/=2}function u(f,d){return s===1?f[d]:f.readUInt16BE(d*s)}let l;if(i){let f=-1;for(l=r;l<o;l++)if(u(t,l)===u(e,f===-1?0:l-f)){if(f===-1&&(f=l),l-f+1===a)return f*s}else f!==-1&&(l-=l-f),f=-1}else for(r+a>o&&(r=o-a),l=r;l>=0;l--){let f=!0;for(let d=0;d<a;d++)if(u(t,l+d)!==u(e,d)){f=!1;break}if(f)return l}return-1}z.prototype.includes=function(e,r,n){return this.indexOf(e,r,n)!==-1};z.prototype.indexOf=function(e,r,n){return fC(this,e,r,n,!0)};z.prototype.lastIndexOf=function(e,r,n){return fC(this,e,r,n,!1)};function uM(t,e,r,n){r=Number(r)||0;let i=t.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;let s=e.length;n>s/2&&(n=s/2);let o;for(o=0;o<n;++o){let a=parseInt(e.substr(o*2,2),16);if(Wm(a))return o;t[r+o]=a}return o}function cM(t,e,r,n){return Sh(Qm(e,t.length-r),t,r,n)}function lM(t,e,r,n){return Sh(_M(e),t,r,n)}function fM(t,e,r,n){return Sh(EC(e),t,r,n)}function hM(t,e,r,n){return Sh(bM(e,t.length-r),t,r,n)}z.prototype.write=function(e,r,n,i){if(r===void 0)i="utf8",n=this.length,r=0;else if(n===void 0&&typeof r=="string")i=r,n=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(n)?(n=n>>>0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let s=this.length-r;if((n===void 0||n>s)&&(n=s),e.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let o=!1;for(;;)switch(i){case"hex":return uM(this,e,r,n);case"utf8":case"utf-8":return cM(this,e,r,n);case"ascii":case"latin1":case"binary":return lM(this,e,r,n);case"base64":return fM(this,e,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return hM(this,e,r,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}};z.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function dM(t,e,r){return e===0&&r===t.length?Hm.fromByteArray(t):Hm.fromByteArray(t.slice(e,r))}function hC(t,e,r){r=Math.min(t.length,r);let n=[],i=e;for(;i<r;){let s=t[i],o=null,a=s>239?4:s>223?3:s>191?2:1;if(i+a<=r){let u,l,f,d;switch(a){case 1:s<128&&(o=s);break;case 2:u=t[i+1],(u&192)===128&&(d=(s&31)<<6|u&63,d>127&&(o=d));break;case 3:u=t[i+1],l=t[i+2],(u&192)===128&&(l&192)===128&&(d=(s&15)<<12|(u&63)<<6|l&63,d>2047&&(d<55296||d>57343)&&(o=d));break;case 4:u=t[i+1],l=t[i+2],f=t[i+3],(u&192)===128&&(l&192)===128&&(f&192)===128&&(d=(s&15)<<18|(u&63)<<12|(l&63)<<6|f&63,d>65535&&d<1114112&&(o=d))}}o===null?(o=65533,a=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|o&1023),n.push(o),i+=a}return pM(n)}var oC=4096;function pM(t){let e=t.length;if(e<=oC)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=oC));return r}function gM(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]&127);return n}function yM(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function mM(t,e,r){let n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let i="";for(let s=e;s<r;++s)i+=IM[t[s]];return i}function wM(t,e,r){let n=t.slice(e,r),i="";for(let s=0;s<n.length-1;s+=2)i+=String.fromCharCode(n[s]+n[s+1]*256);return i}z.prototype.slice=function(e,r){let n=this.length;e=~~e,r=r===void 0?n:~~r,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<e&&(r=e);let i=this.subarray(e,r);return Object.setPrototypeOf(i,z.prototype),i};function Nt(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}z.prototype.readUintLE=z.prototype.readUIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||Nt(e,r,this.length);let i=this[e],s=1,o=0;for(;++o<r&&(s*=256);)i+=this[e+o]*s;return i};z.prototype.readUintBE=z.prototype.readUIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||Nt(e,r,this.length);let i=this[e+--r],s=1;for(;r>0&&(s*=256);)i+=this[e+--r]*s;return i};z.prototype.readUint8=z.prototype.readUInt8=function(e,r){return e=e>>>0,r||Nt(e,1,this.length),this[e]};z.prototype.readUint16LE=z.prototype.readUInt16LE=function(e,r){return e=e>>>0,r||Nt(e,2,this.length),this[e]|this[e+1]<<8};z.prototype.readUint16BE=z.prototype.readUInt16BE=function(e,r){return e=e>>>0,r||Nt(e,2,this.length),this[e]<<8|this[e+1]};z.prototype.readUint32LE=z.prototype.readUInt32LE=function(e,r){return e=e>>>0,r||Nt(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};z.prototype.readUint32BE=z.prototype.readUInt32BE=function(e,r){return e=e>>>0,r||Nt(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};z.prototype.readBigUInt64LE=Ai(function(e){e=e>>>0,Fa(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&Tc(e,this.length-8);let i=r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,s=this[++e]+this[++e]*2**8+this[++e]*2**16+n*2**24;return BigInt(i)+(BigInt(s)<<BigInt(32))});z.prototype.readBigUInt64BE=Ai(function(e){e=e>>>0,Fa(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&Tc(e,this.length-8);let i=r*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],s=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n;return(BigInt(i)<<BigInt(32))+BigInt(s)});z.prototype.readIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||Nt(e,r,this.length);let i=this[e],s=1,o=0;for(;++o<r&&(s*=256);)i+=this[e+o]*s;return s*=128,i>=s&&(i-=Math.pow(2,8*r)),i};z.prototype.readIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||Nt(e,r,this.length);let i=r,s=1,o=this[e+--i];for(;i>0&&(s*=256);)o+=this[e+--i]*s;return s*=128,o>=s&&(o-=Math.pow(2,8*r)),o};z.prototype.readInt8=function(e,r){return e=e>>>0,r||Nt(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};z.prototype.readInt16LE=function(e,r){e=e>>>0,r||Nt(e,2,this.length);let n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};z.prototype.readInt16BE=function(e,r){e=e>>>0,r||Nt(e,2,this.length);let n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};z.prototype.readInt32LE=function(e,r){return e=e>>>0,r||Nt(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};z.prototype.readInt32BE=function(e,r){return e=e>>>0,r||Nt(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};z.prototype.readBigInt64LE=Ai(function(e){e=e>>>0,Fa(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&Tc(e,this.length-8);let i=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(n<<24);return(BigInt(i)<<BigInt(32))+BigInt(r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)});z.prototype.readBigInt64BE=Ai(function(e){e=e>>>0,Fa(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&Tc(e,this.length-8);let i=(r<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(i)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n)});z.prototype.readFloatLE=function(e,r){return e=e>>>0,r||Nt(e,4,this.length),La.read(this,e,!0,23,4)};z.prototype.readFloatBE=function(e,r){return e=e>>>0,r||Nt(e,4,this.length),La.read(this,e,!1,23,4)};z.prototype.readDoubleLE=function(e,r){return e=e>>>0,r||Nt(e,8,this.length),La.read(this,e,!0,52,8)};z.prototype.readDoubleBE=function(e,r){return e=e>>>0,r||Nt(e,8,this.length),La.read(this,e,!1,52,8)};function tr(t,e,r,n,i,s){if(!z.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<s)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}z.prototype.writeUintLE=z.prototype.writeUIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){let a=Math.pow(2,8*n)-1;tr(this,e,r,n,a,0)}let s=1,o=0;for(this[r]=e&255;++o<n&&(s*=256);)this[r+o]=e/s&255;return r+n};z.prototype.writeUintBE=z.prototype.writeUIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){let a=Math.pow(2,8*n)-1;tr(this,e,r,n,a,0)}let s=n-1,o=1;for(this[r+s]=e&255;--s>=0&&(o*=256);)this[r+s]=e/o&255;return r+n};z.prototype.writeUint8=z.prototype.writeUInt8=function(e,r,n){return e=+e,r=r>>>0,n||tr(this,e,r,1,255,0),this[r]=e&255,r+1};z.prototype.writeUint16LE=z.prototype.writeUInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||tr(this,e,r,2,65535,0),this[r]=e&255,this[r+1]=e>>>8,r+2};z.prototype.writeUint16BE=z.prototype.writeUInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||tr(this,e,r,2,65535,0),this[r]=e>>>8,this[r+1]=e&255,r+2};z.prototype.writeUint32LE=z.prototype.writeUInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||tr(this,e,r,4,4294967295,0),this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=e&255,r+4};z.prototype.writeUint32BE=z.prototype.writeUInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||tr(this,e,r,4,4294967295,0),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};function dC(t,e,r,n,i){wC(e,n,i,t,r,7);let s=Number(e&BigInt(4294967295));t[r++]=s,s=s>>8,t[r++]=s,s=s>>8,t[r++]=s,s=s>>8,t[r++]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=o,o=o>>8,t[r++]=o,o=o>>8,t[r++]=o,o=o>>8,t[r++]=o,r}function pC(t,e,r,n,i){wC(e,n,i,t,r,7);let s=Number(e&BigInt(4294967295));t[r+7]=s,s=s>>8,t[r+6]=s,s=s>>8,t[r+5]=s,s=s>>8,t[r+4]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=o,o=o>>8,t[r+2]=o,o=o>>8,t[r+1]=o,o=o>>8,t[r]=o,r+8}z.prototype.writeBigUInt64LE=Ai(function(e,r=0){return dC(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});z.prototype.writeBigUInt64BE=Ai(function(e,r=0){return pC(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});z.prototype.writeIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){let u=Math.pow(2,8*n-1);tr(this,e,r,n,u-1,-u)}let s=0,o=1,a=0;for(this[r]=e&255;++s<n&&(o*=256);)e<0&&a===0&&this[r+s-1]!==0&&(a=1),this[r+s]=(e/o>>0)-a&255;return r+n};z.prototype.writeIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){let u=Math.pow(2,8*n-1);tr(this,e,r,n,u-1,-u)}let s=n-1,o=1,a=0;for(this[r+s]=e&255;--s>=0&&(o*=256);)e<0&&a===0&&this[r+s+1]!==0&&(a=1),this[r+s]=(e/o>>0)-a&255;return r+n};z.prototype.writeInt8=function(e,r,n){return e=+e,r=r>>>0,n||tr(this,e,r,1,127,-128),e<0&&(e=255+e+1),this[r]=e&255,r+1};z.prototype.writeInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||tr(this,e,r,2,32767,-32768),this[r]=e&255,this[r+1]=e>>>8,r+2};z.prototype.writeInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||tr(this,e,r,2,32767,-32768),this[r]=e>>>8,this[r+1]=e&255,r+2};z.prototype.writeInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||tr(this,e,r,4,2147483647,-2147483648),this[r]=e&255,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24,r+4};z.prototype.writeInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||tr(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};z.prototype.writeBigInt64LE=Ai(function(e,r=0){return dC(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});z.prototype.writeBigInt64BE=Ai(function(e,r=0){return pC(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function gC(t,e,r,n,i,s){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function yC(t,e,r,n,i){return e=+e,r=r>>>0,i||gC(t,e,r,4,34028234663852886e22,-34028234663852886e22),La.write(t,e,r,n,23,4),r+4}z.prototype.writeFloatLE=function(e,r,n){return yC(this,e,r,!0,n)};z.prototype.writeFloatBE=function(e,r,n){return yC(this,e,r,!1,n)};function mC(t,e,r,n,i){return e=+e,r=r>>>0,i||gC(t,e,r,8,17976931348623157e292,-17976931348623157e292),La.write(t,e,r,n,52,8),r+8}z.prototype.writeDoubleLE=function(e,r,n){return mC(this,e,r,!0,n)};z.prototype.writeDoubleBE=function(e,r,n){return mC(this,e,r,!1,n)};z.prototype.copy=function(e,r,n,i){if(!z.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),!i&&i!==0&&(i=this.length),r>=e.length&&(r=e.length),r||(r=0),i>0&&i<n&&(i=n),i===n||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-r<i-n&&(i=e.length-r+n);let s=i-n;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,n,i):Uint8Array.prototype.set.call(e,this.subarray(n,i),r),s};z.prototype.fill=function(e,r,n,i){if(typeof e=="string"){if(typeof r=="string"?(i=r,r=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!z.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(e.length===1){let o=e.charCodeAt(0);(i==="utf8"&&o<128||i==="latin1")&&(e=o)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);let s;if(typeof e=="number")for(s=r;s<n;++s)this[s]=e;else{let o=z.isBuffer(e)?e:z.from(e,i),a=o.length;if(a===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(s=0;s<n-r;++s)this[s+r]=o[s%a]}return this};var Ra={};function zm(t,e,r){Ra[t]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(i){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:i,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}zm("ERR_BUFFER_OUT_OF_BOUNDS",function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);zm("ERR_INVALID_ARG_TYPE",function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`},TypeError);zm("ERR_OUT_OF_RANGE",function(t,e,r){let n=`The value of "${t}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=aC(String(r)):typeof r=="bigint"&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=aC(i)),i+="n"),n+=` It must be ${e}. Received ${i}`,n},RangeError);function aC(t){let e="",r=t.length,n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function EM(t,e,r){Fa(e,"offset"),(t[e]===void 0||t[e+r]===void 0)&&Tc(e,t.length-(r+1))}function wC(t,e,r,n,i,s){if(t>r||t<e){let o=typeof e=="bigint"?"n":"",a;throw s>3?e===0||e===BigInt(0)?a=`>= 0${o} and < 2${o} ** ${(s+1)*8}${o}`:a=`>= -(2${o} ** ${(s+1)*8-1}${o}) and < 2 ** ${(s+1)*8-1}${o}`:a=`>= ${e}${o} and <= ${r}${o}`,new Ra.ERR_OUT_OF_RANGE("value",a,t)}EM(n,i,s)}function Fa(t,e){if(typeof t!="number")throw new Ra.ERR_INVALID_ARG_TYPE(e,"number",t)}function Tc(t,e,r){throw Math.floor(t)!==t?(Fa(t,r),new Ra.ERR_OUT_OF_RANGE(r||"offset","an integer",t)):e<0?new Ra.ERR_BUFFER_OUT_OF_BOUNDS:new Ra.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}var vM=/[^+/0-9A-Za-z-_]/g;function AM(t){if(t=t.split("=")[0],t=t.trim().replace(vM,""),t.length<2)return"";for(;t.length%4!==0;)t=t+"=";return t}function Qm(t,e){e=e||1/0;let r,n=t.length,i=null,s=[];for(let o=0;o<n;++o){if(r=t.charCodeAt(o),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(o+1===n){(e-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&s.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(e-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;s.push(r)}else if(r<2048){if((e-=2)<0)break;s.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;s.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return s}function _M(t){let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r)&255);return e}function bM(t,e){let r,n,i,s=[];for(let o=0;o<t.length&&!((e-=2)<0);++o)r=t.charCodeAt(o),n=r>>8,i=r%256,s.push(i),s.push(n);return s}function EC(t){return Hm.toByteArray(AM(t))}function Sh(t,e,r,n){let i;for(i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function un(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function Wm(t){return t!==t}var IM=function(){let t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){let n=r*16;for(let i=0;i<16;++i)e[n+i]=t[r]+t[i]}return e}();function Ai(t){return typeof BigInt>"u"?SM:t}function SM(){throw new Error("BigInt not supported")}});var AC=v((Rte,vC)=>{c();vC.exports=$m;$m.supported=typeof WebAssembly<"u";function $m(t){if(!$m.supported)return null;var e=t&&t.imports,r=CM("AGFzbQEAAAABEANgAn9/AGADf39/AGABfwADBQQAAQICBQUBAQroBwdNBQZtZW1vcnkCAAxibGFrZTJiX2luaXQAAA5ibGFrZTJiX3VwZGF0ZQABDWJsYWtlMmJfZmluYWwAAhBibGFrZTJiX2NvbXByZXNzAAMK00AElgMAIABCADcDACAAQQhqQgA3AwAgAEEQakIANwMAIABBGGpCADcDACAAQSBqQgA3AwAgAEEoakIANwMAIABBMGpCADcDACAAQThqQgA3AwAgAEHAAGpCADcDACAAQcgAakIANwMAIABB0ABqQgA3AwAgAEHYAGpCADcDACAAQeAAakIANwMAIABB6ABqQgA3AwAgAEHwAGpCADcDACAAQfgAakIANwMAIABBgAFqQoiS853/zPmE6gBBACkDAIU3AwAgAEGIAWpCu86qptjQ67O7f0EIKQMAhTcDACAAQZABakKr8NP0r+68tzxBECkDAIU3AwAgAEGYAWpC8e30+KWn/aelf0EYKQMAhTcDACAAQaABakLRhZrv+s+Uh9EAQSApAwCFNwMAIABBqAFqQp/Y+dnCkdqCm39BKCkDAIU3AwAgAEGwAWpC6/qG2r+19sEfQTApAwCFNwMAIABBuAFqQvnC+JuRo7Pw2wBBOCkDAIU3AwAgAEHAAWpCADcDACAAQcgBakIANwMAIABB0AFqQgA3AwALbQEDfyAAQcABaiEDIABByAFqIQQgBCkDAKchBQJAA0AgASACRg0BIAVBgAFGBEAgAyADKQMAIAWtfDcDAEEAIQUgABADCyAAIAVqIAEtAAA6AAAgBUEBaiEFIAFBAWohAQwACwsgBCAFrTcDAAtkAQN/IABBwAFqIQEgAEHIAWohAiABIAEpAwAgAikDAHw3AwAgAEHQAWpCfzcDACACKQMApyEDAkADQCADQYABRg0BIAAgA2pBADoAACADQQFqIQMMAAsLIAIgA603AwAgABADC+U7AiB+CX8gAEGAAWohISAAQYgBaiEiIABBkAFqISMgAEGYAWohJCAAQaABaiElIABBqAFqISYgAEGwAWohJyAAQbgBaiEoICEpAwAhASAiKQMAIQIgIykDACEDICQpAwAhBCAlKQMAIQUgJikDACEGICcpAwAhByAoKQMAIQhCiJLznf/M+YTqACEJQrvOqqbY0Ouzu38hCkKr8NP0r+68tzwhC0Lx7fT4paf9p6V/IQxC0YWa7/rPlIfRACENQp/Y+dnCkdqCm38hDkLr+obav7X2wR8hD0L5wvibkaOz8NsAIRAgACkDACERIABBCGopAwAhEiAAQRBqKQMAIRMgAEEYaikDACEUIABBIGopAwAhFSAAQShqKQMAIRYgAEEwaikDACEXIABBOGopAwAhGCAAQcAAaikDACEZIABByABqKQMAIRogAEHQAGopAwAhGyAAQdgAaikDACEcIABB4ABqKQMAIR0gAEHoAGopAwAhHiAAQfAAaikDACEfIABB+ABqKQMAISAgDSAAQcABaikDAIUhDSAPIABB0AFqKQMAhSEPIAEgBSARfHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgEnx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBN8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAUfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgFXx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIBZ8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAXfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggGHx8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBl8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAafHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgG3x8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBx8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAdfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggHnx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIB98fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAgfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgH3x8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBt8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAVfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgGXx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBp8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAgfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggHnx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBd8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiASfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgHXx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBF8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByATfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggHHx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBh8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAWfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgFHx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIBx8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAZfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgHXx8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBF8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAWfHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgE3x8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIICB8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAefHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgG3x8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIB98fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAUfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgF3x8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBh8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCASfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgGnx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBV8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAYfHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgGnx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBR8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiASfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgHnx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIB18fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAcfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggH3x8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBN8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAXfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgFnx8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBt8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAVfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggEXx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFICB8fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAZfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgGnx8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBF8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAWfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgGHx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBN8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAVfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggG3x8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIICB8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAffHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgEnx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBx8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAdfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggF3x8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBl8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAUfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgHnx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIBN8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAdfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgF3x8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBt8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByARfHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgHHx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBl8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAUfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgFXx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIB58fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAYfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgFnx8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIICB8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCAffHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgEnx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBp8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAdfHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgFnx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBJ8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAgfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgH3x8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIB58fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAVfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggG3x8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBF8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAYfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgF3x8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBR8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAafHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggE3x8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIBl8fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAcfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgHnx8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBx8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAYfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgH3x8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIB18fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByASfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggFHx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBp8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAWfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgEXx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHICB8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAVfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggGXx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBd8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSATfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgG3x8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIBd8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAgfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgH3x8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBp8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAcfHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgFHx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBF8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAZfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgHXx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIBN8fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAefHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgGHx8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBJ8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCAVfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgG3x8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBZ8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAbfHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgE3x8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBl8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAVfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgGHx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIBd8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCASfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggFnx8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGICB8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAcfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgGnx8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIB98fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAUfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggHXx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIB58fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSARfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgEXx8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBJ8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiATfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgFHx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBV8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAWfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggF3x8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBh8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAZfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgGnx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBt8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAcfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggHXx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIB58fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAffHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgIHx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIB98fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAbfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgFXx8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBl8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAafHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgIHx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIB58fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAXfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgEnx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIB18fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByARfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgE3x8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBx8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCAYfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgFnx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBR8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFICEgISkDACABIAmFhTcDACAiICIpAwAgAiAKhYU3AwAgIyAjKQMAIAMgC4WFNwMAICQgJCkDACAEIAyFhTcDACAlICUpAwAgBSANhYU3AwAgJiAmKQMAIAYgDoWFNwMAICcgJykDACAHIA+FhTcDACAoICgpAwAgCCAQhYU3AwAL"),n=null,i={buffer:r,memory:null,exports:null,realloc:s,onload:o};return o(function(){}),i;function s(u){i.exports.memory.grow(Math.ceil(Math.abs(u-i.memory.length)/65536)),i.memory=new Uint8Array(i.exports.memory.buffer)}function o(u){if(i.exports)return u();if(n){n.then(u.bind(null,null)).catch(u);return}try{if(t&&t.async)throw new Error("async");a({instance:new WebAssembly.Instance(new WebAssembly.Module(r),e)})}catch{n=WebAssembly.instantiate(r,e).then(a)}o(u)}function a(u){i.exports=u.instance.exports,i.memory=i.exports.memory&&i.exports.memory.buffer&&new Uint8Array(i.exports.memory.buffer)}}function CM(t){return typeof atob=="function"?new Uint8Array(atob(t).split("").map(TM)):new(Ua()).Buffer(t,"base64")}function TM(t){return t.charCodeAt(0)}});var xC=v((Ute,ln)=>{c();var cn=Vm(),Ke=AC()(),Vn=64,Ch=[];ln.exports=Er;var _C=ln.exports.BYTES_MIN=16,bC=ln.exports.BYTES_MAX=64,Fte=ln.exports.BYTES=32,IC=ln.exports.KEYBYTES_MIN=16,SC=ln.exports.KEYBYTES_MAX=64,Mte=ln.exports.KEYBYTES=32,CC=ln.exports.SALTBYTES=16,TC=ln.exports.PERSONALBYTES=16;function Er(t,e,r,n,i){if(!(this instanceof Er))return new Er(t,e,r,n,i);if(!(Ke&&Ke.exports))throw new Error("WASM not loaded. Wait for Blake2b.ready(cb)");t||(t=32),i!==!0&&(cn(t>=_C,"digestLength must be at least "+_C+", was given "+t),cn(t<=bC,"digestLength must be at most "+bC+", was given "+t),e!=null&&cn(e.length>=IC,"key must be at least "+IC+", was given "+e.length),e!=null&&cn(e.length<=SC,"key must be at least "+SC+", was given "+e.length),r!=null&&cn(r.length===CC,"salt must be exactly "+CC+", was given "+r.length),n!=null&&cn(n.length===TC,"personal must be exactly "+TC+", was given "+n.length)),Ch.length||(Ch.push(Vn),Vn+=216),this.digestLength=t,this.finalized=!1,this.pointer=Ch.pop(),Ke.memory.fill(0,0,64),Ke.memory[0]=this.digestLength,Ke.memory[1]=e?e.length:0,Ke.memory[2]=1,Ke.memory[3]=1,r&&Ke.memory.set(r,32),n&&Ke.memory.set(n,48),this.pointer+216>Ke.memory.length&&Ke.realloc(this.pointer+216),Ke.exports.blake2b_init(this.pointer,this.digestLength),e&&(this.update(e),Ke.memory.fill(0,Vn,Vn+e.length),Ke.memory[this.pointer+200]=128)}Er.prototype.update=function(t){return cn(this.finalized===!1,"Hash instance finalized"),cn(t,"input must be TypedArray or Buffer"),Vn+t.length>Ke.memory.length&&Ke.realloc(Vn+t.length),Ke.memory.set(t,Vn),Ke.exports.blake2b_update(this.pointer,Vn,Vn+t.length),this};Er.prototype.digest=function(t){if(cn(this.finalized===!1,"Hash instance finalized"),this.finalized=!0,Ch.push(this.pointer),Ke.exports.blake2b_final(this.pointer),!t||t==="binary")return Ke.memory.slice(this.pointer+128,this.pointer+128+this.digestLength);if(t==="hex")return NM(Ke.memory,this.pointer+128,this.digestLength);cn(t.length>=this.digestLength,"input must be TypedArray or Buffer");for(var e=0;e<this.digestLength;e++)t[e]=Ke.memory[this.pointer+128+e];return t};Er.prototype.final=Er.prototype.digest;Er.WASM=Ke&&Ke.buffer;Er.SUPPORTED=typeof WebAssembly<"u";Er.ready=function(t){if(t||(t=xM),!Ke)return t(new Error("WebAssembly not supported"));var e=new Promise(function(r,n){Ke.onload(function(i){i?n():r(),t(i)})});return e};Er.prototype.ready=Er.ready;function xM(){}function NM(t,e,r){for(var n="",i=0;i<r;i++)n+=DM(t[e+i]);return n}function DM(t){return t<16?"0"+t.toString(16):t.toString(16)}});var HC=v((jte,rr)=>{c();var Ii=Vm(),Nc=xC();function Th(t,e,r){var n=t[e]+t[r],i=t[e+1]+t[r+1];n>=4294967296&&i++,t[e]=n,t[e+1]=i}function NC(t,e,r,n){var i=t[e]+r;r<0&&(i+=4294967296);var s=t[e+1]+n;i>=4294967296&&s++,t[e]=i,t[e+1]=s}function FC(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function _i(t,e,r,n,i,s){var o=xc[i],a=xc[i+1],u=xc[s],l=xc[s+1];Th(Ie,t,e),NC(Ie,t,o,a);var f=Ie[n]^Ie[t],d=Ie[n+1]^Ie[t+1];Ie[n]=d,Ie[n+1]=f,Th(Ie,r,n),f=Ie[e]^Ie[r],d=Ie[e+1]^Ie[r+1],Ie[e]=f>>>24^d<<8,Ie[e+1]=d>>>24^f<<8,Th(Ie,t,e),NC(Ie,t,u,l),f=Ie[n]^Ie[t],d=Ie[n+1]^Ie[t+1],Ie[n]=f>>>16^d<<16,Ie[n+1]=d>>>16^f<<16,Th(Ie,r,n),f=Ie[e]^Ie[r],d=Ie[e+1]^Ie[r+1],Ie[e]=d>>>31^f<<1,Ie[e+1]=f>>>31^d<<1}var MC=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),OM=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],Gt=new Uint8Array(OM.map(function(t){return t*2})),Ie=new Uint32Array(32),xc=new Uint32Array(32);function UC(t,e){var r=0;for(r=0;r<16;r++)Ie[r]=t.h[r],Ie[r+16]=MC[r];for(Ie[24]=Ie[24]^t.t,Ie[25]=Ie[25]^t.t/4294967296,e&&(Ie[28]=~Ie[28],Ie[29]=~Ie[29]),r=0;r<32;r++)xc[r]=FC(t.b,4*r);for(r=0;r<12;r++)_i(0,8,16,24,Gt[r*16+0],Gt[r*16+1]),_i(2,10,18,26,Gt[r*16+2],Gt[r*16+3]),_i(4,12,20,28,Gt[r*16+4],Gt[r*16+5]),_i(6,14,22,30,Gt[r*16+6],Gt[r*16+7]),_i(0,10,20,30,Gt[r*16+8],Gt[r*16+9]),_i(2,12,22,24,Gt[r*16+10],Gt[r*16+11]),_i(4,14,16,26,Gt[r*16+12],Gt[r*16+13]),_i(6,8,18,28,Gt[r*16+14],Gt[r*16+15]);for(r=0;r<16;r++)t.h[r]=t.h[r]^Ie[r]^Ie[r+16]}var bi=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function qa(t,e,r,n){bi.fill(0),this.b=new Uint8Array(128),this.h=new Uint32Array(16),this.t=0,this.c=0,this.outlen=t,bi[0]=t,e&&(bi[1]=e.length),bi[2]=1,bi[3]=1,r&&bi.set(r,32),n&&bi.set(n,48);for(var i=0;i<16;i++)this.h[i]=MC[i]^FC(bi,i*4);e&&(qC(this,e),this.c=128)}qa.prototype.update=function(t){return Ii(t!=null,"input must be Uint8Array or Buffer"),qC(this,t),this};qa.prototype.digest=function(t){var e=!t||t==="binary"||t==="hex"?new Uint8Array(this.outlen):t;return Ii(e.length>=this.outlen,"out must have at least outlen bytes of space"),PM(this,e),t==="hex"?BM(e):e};qa.prototype.final=qa.prototype.digest;qa.ready=function(t){Nc.ready(function(){t()})};function qC(t,e){for(var r=0;r<e.length;r++)t.c===128&&(t.t+=t.c,UC(t,!1),t.c=0),t.b[t.c++]=e[r]}function PM(t,e){for(t.t+=t.c;t.c<128;)t.b[t.c++]=0;UC(t,!0);for(var r=0;r<t.outlen;r++)e[r]=t.h[r>>2]>>8*(r&3);return e}function BM(t){for(var e="",r=0;r<t.length;r++)e+=RM(t[r]);return e}function RM(t){return t<16?"0"+t.toString(16):t.toString(16)}var VC=qa;rr.exports=function(e,r,n,i,s){return s!==!0&&(Ii(e>=DC,"outlen must be at least "+DC+", was given "+e),Ii(e<=OC,"outlen must be at most "+OC+", was given "+e),r!=null&&Ii(r.length>=PC,"key must be at least "+PC+", was given "+r.length),r!=null&&Ii(r.length<=BC,"key must be at most "+BC+", was given "+r.length),n!=null&&Ii(n.length===RC,"salt must be exactly "+RC+", was given "+n.length),i!=null&&Ii(i.length===LC,"personal must be exactly "+LC+", was given "+i.length)),new VC(e,r,n,i)};rr.exports.ready=function(t){Nc.ready(function(){t()})};rr.exports.WASM_SUPPORTED=Nc.SUPPORTED;rr.exports.WASM_LOADED=!1;var DC=rr.exports.BYTES_MIN=16,OC=rr.exports.BYTES_MAX=64,Vte=rr.exports.BYTES=32,PC=rr.exports.KEYBYTES_MIN=16,BC=rr.exports.KEYBYTES_MAX=64,Hte=rr.exports.KEYBYTES=32,RC=rr.exports.SALTBYTES=16,LC=rr.exports.PERSONALBYTES=16;Nc.ready(function(t){t||(rr.exports.WASM_LOADED=!0,VC=Nc)})});var Pc=v(vr=>{"use strict";c();var LM=vr&&vr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),FM=vr&&vr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),MM=vr&&vr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&LM(e,t,r);return FM(e,t),e};Object.defineProperty(vr,"__esModule",{value:!0});vr.TransactionHash=vr.Transaction=void 0;var Va=Wt(),Dc=Zt(),UM=mh(),qM=Ro(),VM=MM(He()),HM=YI(),Hn=XI(),jM=ZS(),jC=rC(),GC=Cc(),GM=fr(),QM=HC(),kM=32,Oc=class{constructor({nonce:e,value:r,receiver:n,sender:i,gasPrice:s,gasLimit:o,data:a,chainID:u,version:l,options:f,guardian:d}){this.nonce=e||0,this.value=r?new Va.BigNumber(r.toString()).toFixed(0):0,this.sender=i,this.receiver=n,this.gasPrice=s||qM.TRANSACTION_MIN_GAS_PRICE,this.gasLimit=o,this.data=a||new GC.TransactionPayload,this.chainID=u,this.version=l?new Hn.TransactionVersion(l.valueOf()):Hn.TransactionVersion.withDefaultVersion(),this.options=f?new Hn.TransactionOptions(f.valueOf()):Hn.TransactionOptions.withDefaultOptions(),this.guardian=d||Dc.Address.empty(),this.signature=h.Buffer.from([]),this.guardianSignature=h.Buffer.from([]),this.hash=Si.empty()}getNonce(){return this.nonce}setNonce(e){this.nonce=e}getValue(){return this.value}setValue(e){this.value=e}getSender(){return this.sender}setSender(e){this.sender=e}getReceiver(){return this.receiver}getGuardian(){return this.guardian}getGasPrice(){return this.gasPrice}setGasPrice(e){this.gasPrice=e}getGasLimit(){return this.gasLimit}setGasLimit(e){this.gasLimit=e}getData(){return this.data}getChainID(){return this.chainID}setChainID(e){this.chainID=e}getVersion(){return this.version}setVersion(e){this.version=new Hn.TransactionVersion(e.valueOf())}getOptions(){return new Hn.TransactionOptions(this.options.valueOf())}setOptions(e){this.options=new Hn.TransactionOptions(e.valueOf())}getSignature(){return this.signature}getGuardianSignature(){return this.guardianSignature}setGuardian(e){this.guardian=e}getHash(){return GM.guardNotEmpty(this.hash,"hash"),this.hash}serializeForSigning(){let e=this.toPlainObject();e.signature&&delete e.signature,e.guardianSignature&&delete e.guardianSignature,e.guardian||delete e.guardian;let r=JSON.stringify(e);return h.Buffer.from(r)}isGuardedTransaction(){let e=this.guardian.bech32().length>0,r=this.guardianSignature.length>0;return this.getOptions().isWithGuardian()&&e&&r}toPlainObject(){var e;let r={nonce:this.nonce.valueOf(),value:this.value.toString(),receiver:this.receiver.bech32(),sender:this.sender.bech32(),gasPrice:this.gasPrice.valueOf(),gasLimit:this.gasLimit.valueOf(),data:this.data.length()==0?void 0:this.data.encoded(),chainID:this.chainID.valueOf(),version:this.version.valueOf(),options:this.options.valueOf()==0?void 0:this.options.valueOf(),guardian:!((e=this.guardian)===null||e===void 0)&&e.bech32()?this.guardian.bech32()==""?void 0:this.guardian.bech32():void 0,signature:this.signature.toString("hex")?this.signature.toString("hex"):void 0,guardianSignature:this.guardianSignature.toString("hex")?this.guardianSignature.toString("hex"):void 0};return UM.Compatibility.guardAddressIsSetAndNonZero(new Dc.Address(r.sender),"'sender' of transaction","pass the actual sender to the Transaction constructor"),r}static fromPlainObject(e){let r=new Oc({nonce:Number(e.nonce),value:new Va.BigNumber(e.value).toFixed(0),receiver:Dc.Address.fromString(e.receiver),sender:Dc.Address.fromString(e.sender),guardian:e.guardian==null?void 0:Dc.Address.fromString(e.guardian||""),gasPrice:Number(e.gasPrice),gasLimit:Number(e.gasLimit),data:new GC.TransactionPayload(h.Buffer.from(e.data||"","base64")),chainID:String(e.chainID),version:new Hn.TransactionVersion(e.version),options:e.options==null?void 0:new Hn.TransactionOptions(e.options)});return e.signature&&r.applySignature(new jC.Signature(e.signature)),e.guardianSignature&&r.applyGuardianSignature(new jC.Signature(e.guardianSignature)),r}applySignature(e){e instanceof h.Buffer?this.signature=e:this.signature=h.Buffer.from(e.hex(),"hex"),this.hash=Si.compute(this)}applyGuardianSignature(e){e instanceof h.Buffer?this.guardianSignature=e:this.guardianSignature=h.Buffer.from(e.hex(),"hex"),this.hash=Si.compute(this)}toSendable(){return this.toPlainObject()}computeFee(e){let r=e.MinGasLimit.valueOf()+this.data.length()*e.GasPerDataByte.valueOf();if(r>this.gasLimit.valueOf())throw new VM.ErrNotEnoughGas(this.gasLimit.valueOf());let n=new Va.BigNumber(this.gasPrice.valueOf()),i=new Va.BigNumber(r).multipliedBy(n);if(r===this.gasLimit.valueOf())return i;let s=new Va.BigNumber(this.gasLimit.valueOf()-r),o=n.multipliedBy(new Va.BigNumber(e.GasPriceModifier.valueOf())),a=s.multipliedBy(o);return i.plus(a)}};vr.Transaction=Oc;var Si=class extends HM.Hash{constructor(e){super(e)}static compute(e){let n=new jM.ProtoSerializer().serializeTransaction(e),i=QM(kM).update(n).digest("hex");return new Si(i)}};vr.TransactionHash=Si});var QC=v(Nh=>{"use strict";c();Object.defineProperty(Nh,"__esModule",{value:!0});Nh.TransferTransactionsFactory=void 0;var Ym=ph(),Lr=Tt(),xh=Pc(),Jm=Cc(),Xm=class{constructor(e){this.gasEstimator=e}createEGLDTransfer(e){var r;let n=((r=e.data)===null||r===void 0?void 0:r.length())||0,i=this.gasEstimator.forEGLDTransfer(n);return new xh.Transaction({nonce:e.nonce,value:e.value,receiver:e.receiver,sender:e.sender,gasPrice:e.gasPrice,gasLimit:e.gasLimit||i,data:e.data,chainID:e.chainID})}createESDTTransfer(e){let{argumentsString:r}=new Ym.ArgSerializer().valuesToString([Lr.BytesValue.fromUTF8(e.tokenTransfer.tokenIdentifier),new Lr.BigUIntValue(e.tokenTransfer.valueOf())]),n=`ESDTTransfer@${r}`,i=new Jm.TransactionPayload(n),s=i.length()||0,o=this.gasEstimator.forESDTTransfer(s);return new xh.Transaction({nonce:e.nonce,receiver:e.receiver,sender:e.sender,gasPrice:e.gasPrice,gasLimit:e.gasLimit||o,data:i,chainID:e.chainID})}createESDTNFTTransfer(e){let{argumentsString:r}=new Ym.ArgSerializer().valuesToString([Lr.BytesValue.fromUTF8(e.tokenTransfer.tokenIdentifier),new Lr.U64Value(e.tokenTransfer.nonce),new Lr.BigUIntValue(e.tokenTransfer.valueOf()),new Lr.AddressValue(e.destination)]),n=`ESDTNFTTransfer@${r}`,i=new Jm.TransactionPayload(n),s=i.length()||0,o=this.gasEstimator.forESDTNFTTransfer(s);return new xh.Transaction({nonce:e.nonce,receiver:e.sender,sender:e.sender,gasPrice:e.gasPrice,gasLimit:e.gasLimit||o,data:i,chainID:e.chainID})}createMultiESDTNFTTransfer(e){let r=[new Lr.AddressValue(e.destination),new Lr.U16Value(e.tokenTransfers.length)];for(let u of e.tokenTransfers)r.push(Lr.BytesValue.fromUTF8(u.tokenIdentifier),new Lr.U64Value(u.nonce),new Lr.BigUIntValue(u.valueOf()));let{argumentsString:n}=new Ym.ArgSerializer().valuesToString(r),i=`MultiESDTNFTTransfer@${n}`,s=new Jm.TransactionPayload(i),o=s.length()||0,a=this.gasEstimator.forMultiESDTNFTTransfer(o,e.tokenTransfers.length);return new xh.Transaction({nonce:e.nonce,receiver:e.sender,sender:e.sender,gasPrice:e.gasPrice,gasLimit:e.gasLimit||a,data:s,chainID:e.chainID})}};Nh.TransferTransactionsFactory=Xm});var KC=v(Ks=>{"use strict";c();Object.defineProperty(Ks,"__esModule",{value:!0});Ks.GasEstimator=Ks.DefaultGasConfiguration=void 0;Ks.DefaultGasConfiguration={minGasLimit:5e4,gasPerDataByte:1500,gasCostESDTTransfer:2e5,gasCostESDTNFTTransfer:2e5,gasCostESDTNFTMultiTransfer:2e5};var KM=1e5,kC=8e5,Zm=class{constructor(e){this.gasConfiguration=e||Ks.DefaultGasConfiguration}forEGLDTransfer(e){return this.gasConfiguration.minGasLimit+this.gasConfiguration.gasPerDataByte*e}forESDTTransfer(e){return this.gasConfiguration.minGasLimit+this.gasConfiguration.gasCostESDTTransfer+this.gasConfiguration.gasPerDataByte*e+KM}forESDTNFTTransfer(e){return this.gasConfiguration.minGasLimit+this.gasConfiguration.gasCostESDTNFTTransfer+this.gasConfiguration.gasPerDataByte*e+kC}forMultiESDTNFTTransfer(e,r){return this.gasConfiguration.minGasLimit+(this.gasConfiguration.gasCostESDTNFTMultiTransfer+kC)*r+this.gasConfiguration.gasPerDataByte*e}};Ks.GasEstimator=Zm});var Oh=v(Dh=>{"use strict";c();Object.defineProperty(Dh,"__esModule",{value:!0});Dh.Account=void 0;var zM=Zt(),ew=class{constructor(e){this.address=new zM.Address,this.nonce=0,this.balance="0",this.address=e}update(e){this.nonce=e.nonce,this.balance=e.balance}incrementNonce(){this.nonce=this.nonce.valueOf()+1}getNonceThenIncrement(){let e=this.nonce;return this.nonce=this.nonce.valueOf()+1,e}toJSON(){return{address:this.address.bech32(),nonce:this.nonce.valueOf(),balance:this.balance.toString()}}};Dh.Account=ew});var tw=v(Ws=>{"use strict";c();Object.defineProperty(Ws,"__esModule",{value:!0});Ws.Logger=Ws.LogLevel=void 0;var zs;(function(t){t[t.Trace=0]="Trace",t[t.Debug=1]="Debug",t[t.Info=2]="Info",t[t.Warn=3]="Warn",t[t.Error=4]="Error",t[t.None=5]="None"})(zs=Ws.LogLevel||(Ws.LogLevel={}));var Fr=class{static setLevel(e){Fr.logLevel=e}static trace(e,...r){Fr.logLevel>=zs.Debug||console.debug(e,r)}static debug(e,...r){Fr.logLevel>=zs.Debug||console.debug(e,r)}static info(e,...r){Fr.logLevel>=zs.Info||console.log(e,r)}static warn(e,...r){Fr.logLevel>=zs.Warn||console.warn(e,r)}static error(e,...r){Fr.logLevel>=zs.Error||console.error(e,r)}};Ws.Logger=Fr;Fr.logLevel=zs.Debug});var zC=v(fn=>{"use strict";c();var WM=fn&&fn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),$M=fn&&fn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),YM=fn&&fn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&WM(e,t,r);return $M(e,t),e};Object.defineProperty(fn,"__esModule",{value:!0});fn.AsyncTimer=void 0;var JM=YM(He()),XM=He(),rw=tw(),nw=class{constructor(e){this.timeoutHandle=null,this.rejectionFunc=null,this.name=e,this.correlationTag=0}start(e){if(this.timeoutHandle)throw new JM.ErrAsyncTimerAlreadyRunning;return this.correlationTag++,rw.Logger.trace(`AsyncTimer[${this.name}'${this.correlationTag}].start()`),new Promise((r,n)=>{this.rejectionFunc=n;let i=()=>{this.rejectionFunc=null,this.stop(),r()};this.timeoutHandle=setTimeout(i,e)})}abort(){rw.Logger.trace(`AsyncTimer[${this.name}'${this.correlationTag}].abort()`),this.rejectionFunc&&(this.rejectionFunc(new XM.ErrAsyncTimerAborted),this.rejectionFunc=null),this.stop()}stop(){this.isStopped()||(rw.Logger.trace(`AsyncTimer[${this.name}'${this.correlationTag}].stop()`),this.timeoutHandle&&(clearTimeout(this.timeoutHandle),this.timeoutHandle=null))}isStopped(){return!this.timeoutHandle}};fn.AsyncTimer=nw});var ow=v(ja=>{"use strict";c();var Ar=ja&&ja.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(f){try{l(n.next(f))}catch(d){o(d)}}function u(f){try{l(n.throw(f))}catch(d){o(d)}}function l(f){f.done?s(f.value):i(f.value).then(a,u)}l((n=n.apply(t,e||[])).next())})};Object.defineProperty(ja,"__esModule",{value:!0});ja.TransactionWatcher=void 0;var iw=zC(),Ha=He(),WC=tw(),_r=class{constructor(e,r={}){this.fetcher=new sw(e),this.pollingIntervalMilliseconds=r.pollingIntervalMilliseconds||_r.DefaultPollingInterval,this.timeoutMilliseconds=r.timeoutMilliseconds||_r.DefaultTimeout,this.patienceMilliseconds=r.patienceMilliseconds||_r.DefaultPatience}awaitPending(e){return Ar(this,void 0,void 0,function*(){let r=s=>s.status.isPending(),n=()=>Ar(this,void 0,void 0,function*(){return yield this.fetcher.getTransaction(e.getHash().hex())}),i=()=>new Ha.ErrExpectedTransactionStatusNotReached;return this.awaitConditionally(r,n,i)})}awaitCompleted(e){return Ar(this,void 0,void 0,function*(){let r=s=>s.isCompleted,n=()=>Ar(this,void 0,void 0,function*(){return yield this.fetcher.getTransaction(e.getHash().hex())}),i=()=>new Ha.ErrExpectedTransactionStatusNotReached;return this.awaitConditionally(r,n,i)})}awaitAllEvents(e,r){return Ar(this,void 0,void 0,function*(){let n=o=>{let a=this.getAllTransactionEvents(o).map(l=>l.identifier);return r.every(l=>a.includes(l))},i=()=>Ar(this,void 0,void 0,function*(){return yield this.fetcher.getTransaction(e.getHash().hex())}),s=()=>new Ha.ErrExpectedTransactionEventsNotFound;return this.awaitConditionally(n,i,s)})}awaitAnyEvent(e,r){return Ar(this,void 0,void 0,function*(){let n=o=>{let a=this.getAllTransactionEvents(o).map(l=>l.identifier);return r.find(l=>a.includes(l))!=null},i=()=>Ar(this,void 0,void 0,function*(){return yield this.fetcher.getTransaction(e.getHash().hex())}),s=()=>new Ha.ErrExpectedTransactionEventsNotFound;return this.awaitConditionally(n,i,s)})}awaitOnCondition(e,r){return Ar(this,void 0,void 0,function*(){let n=()=>Ar(this,void 0,void 0,function*(){return yield this.fetcher.getTransaction(e.getHash().hex())}),i=()=>new Ha.ErrExpectedTransactionStatusNotReached;return this.awaitConditionally(r,n,i)})}awaitConditionally(e,r,n){return Ar(this,void 0,void 0,function*(){let i=new iw.AsyncTimer("watcher:periodic"),s=new iw.AsyncTimer("watcher:patience"),o=new iw.AsyncTimer("watcher:timeout"),a=!1,u,l=!1;for(o.start(this.timeoutMilliseconds).finally(()=>{o.stop(),a=!0});!a;){yield i.start(this.pollingIntervalMilliseconds);try{if(u=yield r(),l=e(u),l||a)break}catch(f){if(WC.Logger.debug("TransactionWatcher.awaitConditionally(): cannot (yet) fetch data."),!(f instanceof Ha.Err))throw f}}if(l&&(yield s.start(this.patienceMilliseconds)),o.isStopped()||o.stop(),!u||!l)throw n();return u})}getAllTransactionEvents(e){let r=[...e.logs.events];for(let n of e.contractResults.items)r.push(...n.logs.events);return r}};ja.TransactionWatcher=_r;_r.DefaultPollingInterval=6e3;_r.DefaultTimeout=_r.DefaultPollingInterval*15;_r.DefaultPatience=0;_r.NoopOnStatusReceived=t=>{};var sw=class{constructor(e){this.fetcher=e}getTransaction(e){return Ar(this,void 0,void 0,function*(){return WC.Logger.debug(`transactionWatcher, getTransaction(${e})`),yield this.fetcher.getTransaction(e)})}}});var $C=v(Rh=>{"use strict";c();Object.defineProperty(Rh,"__esModule",{value:!0});Rh.CodeMetadata=void 0;var aw=class{constructor(e=!0,r=!1,n=!1,i=!1){this.upgradeable=e,this.readable=r,this.payable=n,this.payableBySc=i}toggleUpgradeable(e){this.upgradeable=e}toggleReadable(e){this.readable=e}togglePayable(e){this.payable=e}togglePayableBySc(e){this.payableBySc=e}toBuffer(){let e=0,r=0;return this.upgradeable&&(e|=Ph.Upgradeable),this.readable&&(e|=Ph.Readable),this.payable&&(r|=Bh.Payable),this.payableBySc&&(r|=Bh.PayableBySc),h.Buffer.from([e,r])}toString(){return this.toBuffer().toString("hex")}toJSON(){return{upgradeable:this.upgradeable,readable:this.readable,payable:this.payable,payableBySc:this.payableBySc}}equals(e){return this.upgradeable==e.upgradeable&&this.readable==e.readable&&this.payable==e.payable&&this.payableBySc==e.payableBySc}};Rh.CodeMetadata=aw;var Ph;(function(t){t[t.Upgradeable=1]="Upgradeable",t[t.Reserved2=2]="Reserved2",t[t.Readable=4]="Readable"})(Ph||(Ph={}));var Bh;(function(t){t[t.Reserved1=1]="Reserved1",t[t.Payable=2]="Payable",t[t.PayableBySc=4]="PayableBySc"})(Bh||(Bh={}))});var Lh=v(hn=>{"use strict";c();var ZM=hn&&hn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),eU=hn&&hn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),tU=hn&&hn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&ZM(e,t,r);return eU(e,t),e};Object.defineProperty(hn,"__esModule",{value:!0});hn.ContractFunction=void 0;var rU=tU(He()),Bc=class{constructor(e){if(this.name=e,e==null)throw new rU.ErrInvalidFunctionName}static none(){return new Bc("untitled")}toString(){return this.name}valueOf(){return this.name}};hn.ContractFunction=Bc});var YC=v(br=>{"use strict";c();var nU=br&&br.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),iU=br&&br.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),sU=br&&br.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&nU(e,t,r);return iU(e,t),e},oU=br&&br.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(br,"__esModule",{value:!0});br.InteractionChecker=void 0;var uw=sU(He()),aU=oU(Wt()),cw=class{checkInteraction(e,r){this.checkPayable(e,r),this.checkArguments(e,r)}checkPayable(e,r){let n=!new aU.default(e.getValue().toString()).isZero(),i=r.modifiers.isPayableInEGLD();if(n&&!i)throw new uw.ErrContractInteraction("cannot send EGLD value to non-payable")}checkArguments(e,r){let n=r.input,i=e.getArguments(),s=n.length,o=i.length;if(s!=o)throw new uw.ErrContractInteraction(`bad arguments, expected: ${s}, got: ${o}`);for(let a=0;a<s;a++){let u=n[a].type,f=i[a].getType();if(!u.isAssignableFrom(f))throw new uw.ErrContractInteraction(`type mismatch at index ${a}, expected: ${u}, got: ${f}`)}}};br.InteractionChecker=cw});var Mh=v(Fh=>{"use strict";c();Object.defineProperty(Fh,"__esModule",{value:!0});Fh.Query=void 0;var uU=Zt(),cU=ph(),lw=class{constructor(e){this.caller=e.caller||new uU.Address,this.address=e.address,this.func=e.func,this.args=e.args||[],this.value=e.value||0}getEncodedArguments(){return new cU.ArgSerializer().valuesToStrings(this.args)}};Fh.Query=lw});var XC=v(Uh=>{"use strict";c();Object.defineProperty(Uh,"__esModule",{value:!0});Uh.Interaction=void 0;var JC=Zt(),lU=mh(),fw=Ro(),hw=Lh(),fU=YC(),hU=Mh(),Ga=Tt(),dw=class{constructor(e,r,n){this.nonce=0,this.value="0",this.gasLimit=0,this.gasPrice=void 0,this.chainID="",this.querent=new JC.Address,this.sender=new JC.Address,this.isWithSingleESDTTransfer=!1,this.isWithSingleESDTNFTTransfer=!1,this.isWithMultiESDTNFTTransfer=!1,this.contract=e,this.function=r,this.args=n,this.tokenTransfers=new Qa([],this)}getContractAddress(){return this.contract.getAddress()}getFunction(){return this.function}getEndpoint(){return this.contract.getEndpoint(this.function)}getArguments(){return this.args}getValue(){return this.value}getTokenTransfers(){return this.tokenTransfers.getTransfers()}getGasLimit(){return this.gasLimit}getExplicitReceiver(){return this.explicitReceiver}buildTransaction(){lU.Compatibility.guardAddressIsSetAndNonZero(this.sender,"'sender' of interaction","use interaction.withSender()");let e=this.explicitReceiver||this.contract.getAddress(),r=this.function,n=this.args;this.isWithSingleESDTTransfer?(r=new hw.ContractFunction(fw.ESDT_TRANSFER_FUNCTION_NAME),n=this.tokenTransfers.buildArgsForSingleESDTTransfer()):this.isWithSingleESDTNFTTransfer?(e=this.sender,r=new hw.ContractFunction(fw.ESDTNFT_TRANSFER_FUNCTION_NAME),n=this.tokenTransfers.buildArgsForSingleESDTNFTTransfer()):this.isWithMultiESDTNFTTransfer&&(e=this.sender,r=new hw.ContractFunction(fw.MULTI_ESDTNFT_TRANSFER_FUNCTION_NAME),n=this.tokenTransfers.buildArgsForMultiESDTNFTTransfer());let i=this.contract.call({func:r,gasLimit:this.gasLimit,gasPrice:this.gasPrice,args:n,value:this.value,receiver:e,chainID:this.chainID,caller:this.sender});return i.setNonce(this.nonce),i}buildQuery(){return new hU.Query({address:this.contract.getAddress(),func:this.function,args:this.args,value:this.value,caller:this.querent})}withValue(e){return this.value=e,this}withSingleESDTTransfer(e){return this.isWithSingleESDTTransfer=!0,this.tokenTransfers=new Qa([e],this),this}withSingleESDTNFTTransfer(e,r){return this.isWithSingleESDTNFTTransfer=!0,this.tokenTransfers=new Qa([e],this),r&&(this.sender=r),this}withMultiESDTNFTTransfer(e,r){return this.isWithMultiESDTNFTTransfer=!0,this.tokenTransfers=new Qa(e,this),r&&(this.sender=r),this}withGasLimit(e){return this.gasLimit=e,this}withGasPrice(e){return this.gasPrice=e,this}withNonce(e){return this.nonce=e,this}useThenIncrementNonceOf(e){return this.withNonce(e.getNonceThenIncrement())}withChainID(e){return this.chainID=e,this}withSender(e){return this.sender=e,this}withQuerent(e){return this.querent=e,this}withExplicitReceiver(e){return this.explicitReceiver=e,this}check(){return new fU.InteractionChecker().checkInteraction(this,this.getEndpoint()),this}};Uh.Interaction=dw;var Qa=class{constructor(e,r){this.transfers=e,this.interaction=r}getTransfers(){return this.transfers}buildArgsForSingleESDTTransfer(){let e=this.transfers[0];return[this.getTypedTokenIdentifier(e),this.getTypedTokenQuantity(e),this.getTypedInteractionFunction(),...this.getInteractionArguments()]}buildArgsForSingleESDTNFTTransfer(){let e=this.transfers[0];return[this.getTypedTokenIdentifier(e),this.getTypedTokenNonce(e),this.getTypedTokenQuantity(e),this.getTypedTokensReceiver(),this.getTypedInteractionFunction(),...this.getInteractionArguments()]}buildArgsForMultiESDTNFTTransfer(){let e=[];e.push(this.getTypedTokensReceiver()),e.push(this.getTypedNumberOfTransfers());for(let r of this.transfers)e.push(this.getTypedTokenIdentifier(r)),e.push(this.getTypedTokenNonce(r)),e.push(this.getTypedTokenQuantity(r));return e.push(this.getTypedInteractionFunction()),e.push(...this.getInteractionArguments()),e}getTypedNumberOfTransfers(){return new Ga.U8Value(this.transfers.length)}getTypedTokenIdentifier(e){return Ga.BytesValue.fromUTF8(e.tokenIdentifier)}getTypedTokenNonce(e){return new Ga.U64Value(e.nonce)}getTypedTokenQuantity(e){return new Ga.BigUIntValue(e.amountAsBigInteger)}getTypedTokensReceiver(){return new Ga.AddressValue(this.interaction.getContractAddress())}getTypedInteractionFunction(){return Ga.BytesValue.fromUTF8(this.interaction.getFunction().valueOf())}getInteractionArguments(){return this.interaction.getArguments()}}});var ZC=v(qh=>{"use strict";c();Object.defineProperty(qh,"__esModule",{value:!0});qh.ArgumentErrorContext=void 0;var dU=He(),pw=class{constructor(e,r,n){this.endpointName=e,this.argumentIndex=r,this.parameterDefinition=n}throwError(e){throw new dU.ErrInvalidArgument(`Error when converting arguments for endpoint (endpoint name: ${this.endpointName}, argument index: ${this.argumentIndex}, name: ${this.parameterDefinition.name}, type: ${this.parameterDefinition.type})
Nested error: ${e}`)}convertError(e,r){this.throwError(`Can't convert argument (argument: ${e}, type ${typeof e}), wanted type: ${r})`)}unhandledType(e,r){this.throwError(`Unhandled type (function: ${e}, type: ${r})`)}guardSameLength(e,r){e=e||[],e.length!=r.length&&this.throwError(`Incorrect composite type length: have ${e.length}, expected ${r.length} (argument: ${e})`)}guardHasField(e,r){e=e||{},r in e||this.throwError(`Struct argument does not contain a field named "${r}" (argument: ${JSON.stringify(e)})`)}};qh.ArgumentErrorContext=pw});var tT=v($s=>{"use strict";c();var pU=$s&&$s.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty($s,"__esModule",{value:!0});$s.NativeSerializer=void 0;var gU=pU(Wt()),yU=Zt(),eT=He(),mU=tm(),wU=ZC(),_e=Tt(),EU;(function(t){function e(_,B){_=_||[],_=r(_,B);let x=B.input,O=[];for(let P=0;P<x.length;P++){let L=x[P],b=new wU.ArgumentErrorContext(B.name,P,L),C=i(_[P],L.type,b);O.push(C)}return O}t.nativeToTypedValues=e;function r(_,B){let x=B.input,{min:O,max:P,variadic:L}=n(x);if(!(O<=_.length&&_.length<=P))throw new eT.ErrInvalidArgument(`Wrong number of arguments for endpoint ${B.name}: expected between ${O} and ${P} arguments, have ${_.length}`);if(L){let b=x.length-1,C=_[b];if(C.belongsToTypesystem){if(!C.hasClassOrSuperclass(_e.VariadicValue.ClassName))throw new eT.ErrInvalidArgument(`Wrong argument type for endpoint ${B.name}: typed value provided; expected variadic type, have ${C.getClassName()}`)}else _[b]=_.slice(b)}return _}function n(_){let B=[..._].reverse(),x=_.length,O=_.length,P=!1;B.length>0&&B[0].type.getCardinality().isComposite()&&(O=1/0,P=!0);for(let L of B){if(L.type.getCardinality().isSingular())break;x-=1}return{min:x,max:O,variadic:P}}function i(_,B,x){if(_&&_.belongsToTypesystem)return _;if(B instanceof _e.OptionType)return s(_,B,x);if(B instanceof _e.OptionalType)return o(_,B,x);if(B instanceof _e.VariadicType)return a(_,B,x);if(B instanceof _e.CompositeType)return l(_,B,x);if(B instanceof _e.TupleType)return f(_,B,x);if(B instanceof _e.StructType)return d(_,B,x);if(B instanceof _e.ListType)return u(_,B,x);if(B instanceof _e.PrimitiveType)return y(_,B,x);x.throwError(`convertToTypedValue: unhandled type ${B}`)}function s(_,B,x){if(_==null)return _e.OptionValue.newMissing();let O=i(_,B.getFirstTypeParameter(),x);return _e.OptionValue.newProvided(O)}function o(_,B,x){if(_==null)return new _e.OptionalValue(B);let O=i(_,B.getFirstTypeParameter(),x);return new _e.OptionalValue(B,O)}function a(_,B,x){_==null&&(_=[]),_.map===void 0&&x.convertError(_,"Variadic");let O=_.map(function(P){return i(P,B.getFirstTypeParameter(),x)});return new _e.VariadicValue(B,O)}function u(_,B,x){_.map===void 0&&x.convertError(_,"List");let O=_.map(function(P){return i(P,B.getFirstTypeParameter(),x)});return new _e.List(B,O)}function l(_,B,x){let O=[],P=B.getTypeParameters();x.guardSameLength(_,P);for(let L=0;L<P.length;L++)O.push(i(_[L],P[L],x));return new _e.CompositeValue(B,O)}function f(_,B,x){let O=[],P=B.getFieldsDefinitions();x.guardSameLength(_,P);for(let L=0;L<P.length;L++)O.push(i(_[L],P[L].type,x));return _e.Tuple.fromItems(O)}function d(_,B,x){let O=[],P=B.getFieldsDefinitions();for(let L=0;L<P.length;L++){let b=P[L].name;x.guardHasField(_,b);let C=_[b],M=i(C,P[L].type,x);O.push(new _e.Field(M,b))}return new _e.Struct(B,O)}function y(_,B,x){if(B instanceof _e.NumericalType){let O=new gU.default(_);return R(O,B,x)}if(B instanceof _e.BytesType)return w(_,x);if(B instanceof _e.AddressType)return new _e.AddressValue(T(_,x));if(B instanceof _e.BooleanType)return new _e.BooleanValue(_);if(B instanceof _e.TokenIdentifierType)return new _e.TokenIdentifierValue(E(_,x));x.throwError(`(function: toPrimitive) unsupported type ${B}`)}function w(_,B){let x=_.valueOf();if(_===void 0&&B.convertError(_,"BytesValue"),_ instanceof h.Buffer)return new _e.BytesValue(_);if(typeof _=="string")return _e.BytesValue.fromUTF8(_);if(x instanceof h.Buffer)return new _e.BytesValue(x);if(typeof x=="number")return _e.BytesValue.fromHex(mU.numberToPaddedHex(x));B.convertError(_,"BytesValue")}function E(_,B){if(_===void 0&&B.convertError(_,"Buffer"),_ instanceof h.Buffer)return _.toString();if(typeof _=="string")return _;B.convertError(_,"Buffer")}function T(_,B){if(_.bech32)return _;if(_.getAddress)return _.getAddress();switch(_.constructor){case h.Buffer:case String:return new yU.Address(_);default:B.convertError(_,"Address")}}t.convertNativeToAddress=T;function R(_,B,x){switch(B.constructor){case _e.U8Type:return new _e.U8Value(_);case _e.I8Type:return new _e.I8Value(_);case _e.U16Type:return new _e.U16Value(_);case _e.I16Type:return new _e.I16Value(_);case _e.U32Type:return new _e.U32Value(_);case _e.I32Type:return new _e.I32Value(_);case _e.U64Type:return new _e.U64Value(_);case _e.I64Type:return new _e.I64Value(_);case _e.BigUIntType:return new _e.BigUIntValue(_);case _e.BigIntType:return new _e.BigIntValue(_);default:x.unhandledType("convertNumericalType",B)}}})(EU=$s.NativeSerializer||($s.NativeSerializer={}))});var rT=v(Mr=>{"use strict";c();Object.defineProperty(Mr,"__esModule",{value:!0});Mr.ContractCallPayloadBuilder=Mr.ContractUpgradePayloadBuilder=Mr.ContractDeployPayloadBuilder=Mr.ArwenVirtualMachine=void 0;var ww=Cc(),Ew=fr(),vU=ph();Mr.ArwenVirtualMachine="0500";var gw=class{constructor(){this.code=null,this.codeMetadata="",this.arguments=[]}setCode(e){return this.code=e,this}setCodeMetadata(e){return this.codeMetadata=e,this}addInitArg(e){return this.arguments.push(e),this}setInitArgs(e){return this.arguments=e,this}build(){Ew.guardValueIsSet("code",this.code);let e=this.code.toString(),r=this.codeMetadata.toString(),n=`${e}@${Mr.ArwenVirtualMachine}@${r}`;return n=vw(n,this.arguments),new ww.TransactionPayload(n)}};Mr.ContractDeployPayloadBuilder=gw;var yw=class{constructor(){this.code=null,this.codeMetadata="",this.arguments=[]}setCode(e){return this.code=e,this}setCodeMetadata(e){return this.codeMetadata=e,this}addInitArg(e){return this.arguments.push(e),this}setInitArgs(e){return this.arguments=e,this}build(){Ew.guardValueIsSet("code",this.code);let e=this.code.toString(),r=this.codeMetadata.toString(),n=`upgradeContract@${e}@${r}`;return n=vw(n,this.arguments),new ww.TransactionPayload(n)}};Mr.ContractUpgradePayloadBuilder=yw;var mw=class{constructor(){this.contractFunction=null,this.arguments=[]}setFunction(e){return this.contractFunction=e,this}addArg(e){return this.arguments.push(e),this}setArgs(e){return this.arguments=e,this}build(){Ew.guardValueIsSet("calledFunction",this.contractFunction);let e=this.contractFunction.name;return e=vw(e,this.arguments),new ww.TransactionPayload(e)}};Mr.ContractCallPayloadBuilder=mw;function vw(t,e){let{argumentsString:r,count:n}=new vU.ArgSerializer().valuesToString(e);return n==0?t:`${t}@${r}`}});var jn=v((vre,Aw)=>{"use strict";c();var ka=typeof Reflect=="object"?Reflect:null,nT=ka&&typeof ka.apply=="function"?ka.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},Vh;ka&&typeof ka.ownKeys=="function"?Vh=ka.ownKeys:Object.getOwnPropertySymbols?Vh=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Vh=function(e){return Object.getOwnPropertyNames(e)};function AU(t){console&&console.warn&&console.warn(t)}var sT=Number.isNaN||function(e){return e!==e};function je(){je.init.call(this)}Aw.exports=je;Aw.exports.once=SU;je.EventEmitter=je;je.prototype._events=void 0;je.prototype._eventsCount=0;je.prototype._maxListeners=void 0;var iT=10;function Hh(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(je,"defaultMaxListeners",{enumerable:!0,get:function(){return iT},set:function(t){if(typeof t!="number"||t<0||sT(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");iT=t}});je.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};je.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||sT(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function oT(t){return t._maxListeners===void 0?je.defaultMaxListeners:t._maxListeners}je.prototype.getMaxListeners=function(){return oT(this)};je.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=e==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var o;if(r.length>0&&(o=r[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var u=s[e];if(u===void 0)return!1;if(typeof u=="function")nT(u,this,r);else for(var l=u.length,f=fT(u,l),n=0;n<l;++n)nT(f[n],this,r);return!0};function aT(t,e,r,n){var i,s,o;if(Hh(r),s=t._events,s===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),s=t._events),o=s[e]),o===void 0)o=s[e]=r,++t._eventsCount;else if(typeof o=="function"?o=s[e]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),i=oT(t),i>0&&o.length>i&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=o.length,AU(a)}return t}je.prototype.addListener=function(e,r){return aT(this,e,r,!1)};je.prototype.on=je.prototype.addListener;je.prototype.prependListener=function(e,r){return aT(this,e,r,!0)};function _U(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function uT(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=_U.bind(n);return i.listener=r,n.wrapFn=i,i}je.prototype.once=function(e,r){return Hh(r),this.on(e,uT(this,e,r)),this};je.prototype.prependOnceListener=function(e,r){return Hh(r),this.prependListener(e,uT(this,e,r)),this};je.prototype.removeListener=function(e,r){var n,i,s,o,a;if(Hh(r),i=this._events,i===void 0)return this;if(n=i[e],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(s=-1,o=n.length-1;o>=0;o--)if(n[o]===r||n[o].listener===r){a=n[o].listener,s=o;break}if(s<0)return this;s===0?n.shift():bU(n,s),n.length===1&&(i[e]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",e,a||r)}return this};je.prototype.off=je.prototype.removeListener;je.prototype.removeAllListeners=function(e){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var s=Object.keys(n),o;for(i=0;i<s.length;++i)o=s[i],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(e,r[i]);return this};function cT(t,e,r){var n=t._events;if(n===void 0)return[];var i=n[e];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?IU(i):fT(i,i.length)}je.prototype.listeners=function(e){return cT(this,e,!0)};je.prototype.rawListeners=function(e){return cT(this,e,!1)};je.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):lT.call(t,e)};je.prototype.listenerCount=lT;function lT(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}je.prototype.eventNames=function(){return this._eventsCount>0?Vh(this._events):[]};function fT(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function bU(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function IU(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function SU(t,e){return new Promise(function(r,n){function i(o){t.removeListener(e,s),n(o)}function s(){typeof t.removeListener=="function"&&t.removeListener("error",i),r([].slice.call(arguments))}hT(t,e,s,{once:!0}),e!=="error"&&CU(t,i,{once:!0})})}function CU(t,e,r){typeof t.on=="function"&&hT(t,"error",e,r)}function hT(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(s){n.once&&t.removeEventListener(e,i),r(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}});var _w=v((_re,dT)=>{c();dT.exports=jn().EventEmitter});var bw=v(()=>{c()});var ET=v((Tre,wT)=>{"use strict";c();function pT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gT(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pT(Object(r),!0).forEach(function(n){TU(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function TU(t,e,r){return e=mT(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yT(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,mT(n.key),n)}}function NU(t,e,r){return e&&yT(t.prototype,e),r&&yT(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function mT(t){var e=DU(t,"string");return typeof e=="symbol"?e:String(e)}function DU(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var OU=Ua(),jh=OU.Buffer,PU=bw(),Iw=PU.inspect,BU=Iw&&Iw.custom||"inspect";function RU(t,e,r){jh.prototype.copy.call(t,e,r)}wT.exports=function(){function t(){xU(this,t),this.head=null,this.tail=null,this.length=0}return NU(t,[{key:"push",value:function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length}},{key:"unshift",value:function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i}},{key:"concat",value:function(r){if(this.length===0)return jh.alloc(0);for(var n=jh.allocUnsafe(r>>>0),i=this.head,s=0;i;)RU(i.data,n,s),s+=i.data.length,i=i.next;return n}},{key:"consume",value:function(r,n){var i;return r<this.head.data.length?(i=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?i=this.shift():i=n?this._getString(r):this._getBuffer(r),i}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var n=this.head,i=1,s=n.data;for(r-=s.length;n=n.next;){var o=n.data,a=r>o.length?o.length:r;if(a===o.length?s+=o:s+=o.slice(0,r),r-=a,r===0){a===o.length?(++i,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=o.slice(a));break}++i}return this.length-=i,s}},{key:"_getBuffer",value:function(r){var n=jh.allocUnsafe(r),i=this.head,s=1;for(i.data.copy(n),r-=i.data.length;i=i.next;){var o=i.data,a=r>o.length?o.length:r;if(o.copy(n,n.length-r,0,a),r-=a,r===0){a===o.length?(++s,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=o.slice(a));break}++s}return this.length-=s,n}},{key:BU,value:function(r,n){return Iw(this,gT(gT({},n),{},{depth:0,customInspect:!1}))}}]),t}()});var Cw=v((Nre,AT)=>{"use strict";c();function LU(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,p.default.nextTick(Sw,this,t)):p.default.nextTick(Sw,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?r._writableState?r._writableState.errorEmitted?p.default.nextTick(Gh,r):(r._writableState.errorEmitted=!0,p.default.nextTick(vT,r,s)):p.default.nextTick(vT,r,s):e?(p.default.nextTick(Gh,r),e(s)):p.default.nextTick(Gh,r)}),this)}function vT(t,e){Sw(t,e),Gh(t)}function Gh(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function FU(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function Sw(t,e){t.emit("error",e)}function MU(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}AT.exports={destroy:LU,undestroy:FU,errorOrDestroy:MU}});var Ys=v((Ore,IT)=>{"use strict";c();function UU(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var bT={};function Ir(t,e,r){r||(r=Error);function n(s,o,a){return typeof e=="string"?e:e(s,o,a)}var i=function(s){UU(o,s);function o(a,u,l){return s.call(this,n(a,u,l))||this}return o}(r);i.prototype.name=r.name,i.prototype.code=t,bT[t]=i}function _T(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function qU(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function VU(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function HU(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}Ir("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);Ir("ERR_INVALID_ARG_TYPE",function(t,e,r){var n;typeof e=="string"&&qU(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var i;if(VU(t," argument"))i="The ".concat(t," ").concat(n," ").concat(_T(e,"type"));else{var s=HU(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(s," ").concat(n," ").concat(_T(e,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError);Ir("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");Ir("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});Ir("ERR_STREAM_PREMATURE_CLOSE","Premature close");Ir("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});Ir("ERR_MULTIPLE_CALLBACK","Callback called multiple times");Ir("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");Ir("ERR_STREAM_WRITE_AFTER_END","write after end");Ir("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Ir("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);Ir("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");IT.exports.codes=bT});var Tw=v((Bre,ST)=>{"use strict";c();var jU=Ys().codes.ERR_INVALID_OPT_VALUE;function GU(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function QU(t,e,r,n){var i=GU(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var s=n?r:"highWaterMark";throw new jU(s,i)}return Math.floor(i)}return t.objectMode?16:16*1024}ST.exports={getHighWaterMark:QU}});var Ka=v((Lre,xw)=>{c();typeof Object.create=="function"?xw.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:xw.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}});var TT=v((Mre,CT)=>{c();CT.exports=kU;function kU(t,e){if(Nw("noDeprecation"))return t;var r=!1;function n(){if(!r){if(Nw("throwDeprecation"))throw new Error(e);Nw("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}return n}function Nw(t){try{if(!global.localStorage)return!1}catch{return!1}var e=global.localStorage[t];return e==null?!1:String(e).toLowerCase()==="true"}});var Pw=v((qre,BT)=>{"use strict";c();BT.exports=ut;function NT(t){var e=this;this.next=null,this.entry=null,this.finish=function(){wq(e,t)}}var za;ut.WritableState=Lc;var KU={deprecate:TT()},DT=_w(),kh=Ua().Buffer,zU=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function WU(t){return kh.from(t)}function $U(t){return kh.isBuffer(t)||t instanceof zU}var Ow=Cw(),YU=Tw(),JU=YU.getHighWaterMark,Ci=Ys().codes,XU=Ci.ERR_INVALID_ARG_TYPE,ZU=Ci.ERR_METHOD_NOT_IMPLEMENTED,eq=Ci.ERR_MULTIPLE_CALLBACK,tq=Ci.ERR_STREAM_CANNOT_PIPE,rq=Ci.ERR_STREAM_DESTROYED,nq=Ci.ERR_STREAM_NULL_VALUES,iq=Ci.ERR_STREAM_WRITE_AFTER_END,sq=Ci.ERR_UNKNOWN_ENCODING,Wa=Ow.errorOrDestroy;Ka()(ut,DT);function oq(){}function Lc(t,e,r){za=za||Js(),t=t||{},typeof r!="boolean"&&(r=e instanceof za),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=JU(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=t.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(i){dq(e,i)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new NT(this)}Lc.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(Lc.prototype,"buffer",{get:KU.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var Qh;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Qh=Function.prototype[Symbol.hasInstance],Object.defineProperty(ut,Symbol.hasInstance,{value:function(e){return Qh.call(this,e)?!0:this!==ut?!1:e&&e._writableState instanceof Lc}})):Qh=function(e){return e instanceof this};function ut(t){za=za||Js();var e=this instanceof za;if(!e&&!Qh.call(ut,this))return new ut(t);this._writableState=new Lc(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),DT.call(this)}ut.prototype.pipe=function(){Wa(this,new tq)};function aq(t,e){var r=new iq;Wa(t,r),p.default.nextTick(e,r)}function uq(t,e,r,n){var i;return r===null?i=new nq:typeof r!="string"&&!e.objectMode&&(i=new XU("chunk",["string","Buffer"],r)),i?(Wa(t,i),p.default.nextTick(n,i),!1):!0}ut.prototype.write=function(t,e,r){var n=this._writableState,i=!1,s=!n.objectMode&&$U(t);return s&&!kh.isBuffer(t)&&(t=WU(t)),typeof e=="function"&&(r=e,e=null),s?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=oq),n.ending?aq(this,r):(s||uq(this,n,t,r))&&(n.pendingcb++,i=lq(this,n,s,t,e,r)),i};ut.prototype.cork=function(){this._writableState.corked++};ut.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&OT(this,t))};ut.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new sq(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(ut.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function cq(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=kh.from(e,r)),e}Object.defineProperty(ut.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function lq(t,e,r,n,i,s){if(!r){var o=cq(e,n,i);n!==o&&(r=!0,i="buffer",n=o)}var a=e.objectMode?1:n.length;e.length+=a;var u=e.length<e.highWaterMark;if(u||(e.needDrain=!0),e.writing||e.corked){var l=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},l?l.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else Dw(t,e,!1,a,n,i,s);return u}function Dw(t,e,r,n,i,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new rq("write")):r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}function fq(t,e,r,n,i){--e.pendingcb,r?(p.default.nextTick(i,n),p.default.nextTick(Rc,t,e),t._writableState.errorEmitted=!0,Wa(t,n)):(i(n),t._writableState.errorEmitted=!0,Wa(t,n),Rc(t,e))}function hq(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function dq(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function")throw new eq;if(hq(r),e)fq(t,r,n,e,i);else{var s=PT(r)||t.destroyed;!s&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&OT(t,r),n?p.default.nextTick(xT,t,r,s,i):xT(t,r,s,i)}}function xT(t,e,r,n){r||pq(t,e),e.pendingcb--,n(),Rc(t,e)}function pq(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function OT(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),s=e.corkedRequestsFree;s.entry=r;for(var o=0,a=!0;r;)i[o]=r,r.isBuf||(a=!1),r=r.next,o+=1;i.allBuffers=a,Dw(t,e,!0,e.length,i,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new NT(e),e.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,l=r.encoding,f=r.callback,d=e.objectMode?1:u.length;if(Dw(t,e,!1,d,u,l,f),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}ut.prototype._write=function(t,e,r){r(new ZU("_write()"))};ut.prototype._writev=null;ut.prototype.end=function(t,e,r){var n=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||mq(this,n,r),this};Object.defineProperty(ut.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function PT(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function gq(t,e){t._final(function(r){e.pendingcb--,r&&Wa(t,r),e.prefinished=!0,t.emit("prefinish"),Rc(t,e)})}function yq(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,p.default.nextTick(gq,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function Rc(t,e){var r=PT(e);if(r&&(yq(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy()}return r}function mq(t,e,r){e.ending=!0,Rc(t,e),r&&(e.finished?p.default.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function wq(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree.next=t}Object.defineProperty(ut.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}});ut.prototype.destroy=Ow.destroy;ut.prototype._undestroy=Ow.undestroy;ut.prototype._destroy=function(t,e){e(t)}});var Js=v((Hre,LT)=>{"use strict";c();var Eq=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};LT.exports=dn;var RT=Lw(),Rw=Pw();Ka()(dn,RT);for(Bw=Eq(Rw.prototype),Kh=0;Kh<Bw.length;Kh++)zh=Bw[Kh],dn.prototype[zh]||(dn.prototype[zh]=Rw.prototype[zh]);var Bw,zh,Kh;function dn(t){if(!(this instanceof dn))return new dn(t);RT.call(this,t),Rw.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",vq)))}Object.defineProperty(dn.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(dn.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(dn.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function vq(){this._writableState.ended||p.default.nextTick(Aq,this)}function Aq(t){t.end()}Object.defineProperty(dn.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})});var UT=v((Fw,MT)=>{c();var Wh=Ua(),pn=Wh.Buffer;function FT(t,e){for(var r in t)e[r]=t[r]}pn.from&&pn.alloc&&pn.allocUnsafe&&pn.allocUnsafeSlow?MT.exports=Wh:(FT(Wh,Fw),Fw.Buffer=Xs);function Xs(t,e,r){return pn(t,e,r)}Xs.prototype=Object.create(pn.prototype);FT(pn,Xs);Xs.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return pn(t,e,r)};Xs.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=pn(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n};Xs.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return pn(t)};Xs.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Wh.SlowBuffer(t)}});var qw=v(VT=>{"use strict";c();var Uw=UT().Buffer,qT=Uw.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function _q(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function bq(t){var e=_q(t);if(typeof e!="string"&&(Uw.isEncoding===qT||!qT(t)))throw new Error("Unknown encoding: "+t);return e||t}VT.StringDecoder=Fc;function Fc(t){this.encoding=bq(t);var e;switch(this.encoding){case"utf16le":this.text=Nq,this.end=Dq,e=4;break;case"utf8":this.fillLast=Cq,e=4;break;case"base64":this.text=Oq,this.end=Pq,e=3;break;default:this.write=Bq,this.end=Rq;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=Uw.allocUnsafe(e)}Fc.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};Fc.prototype.end=xq;Fc.prototype.text=Tq;Fc.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function Mw(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function Iq(t,e,r){var n=e.length-1;if(n<r)return 0;var i=Mw(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=Mw(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=Mw(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function Sq(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function Cq(t){var e=this.lastTotal-this.lastNeed,r=Sq(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function Tq(t,e){var r=Iq(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function xq(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function Nq(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function Dq(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function Oq(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function Pq(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function Bq(t){return t.toString(this.encoding)}function Rq(t){return t&&t.length?this.write(t):""}});var $h=v((Kre,GT)=>{"use strict";c();var HT=Ys().codes.ERR_STREAM_PREMATURE_CLOSE;function Lq(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}function Fq(){}function Mq(t){return t.setHeader&&typeof t.abort=="function"}function jT(t,e,r){if(typeof e=="function")return jT(t,null,e);e||(e={}),r=Lq(r||Fq);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,s=function(){t.writable||a()},o=t._writableState&&t._writableState.finished,a=function(){i=!1,o=!0,n||r.call(t)},u=t._readableState&&t._readableState.endEmitted,l=function(){n=!1,u=!0,i||r.call(t)},f=function(E){r.call(t,E)},d=function(){var E;if(n&&!u)return(!t._readableState||!t._readableState.ended)&&(E=new HT),r.call(t,E);if(i&&!o)return(!t._writableState||!t._writableState.ended)&&(E=new HT),r.call(t,E)},y=function(){t.req.on("finish",a)};return Mq(t)?(t.on("complete",a),t.on("abort",d),t.req?y():t.on("request",y)):i&&!t._writableState&&(t.on("end",s),t.on("close",s)),t.on("end",l),t.on("finish",a),e.error!==!1&&t.on("error",f),t.on("close",d),function(){t.removeListener("complete",a),t.removeListener("abort",d),t.removeListener("request",y),t.req&&t.req.removeListener("finish",a),t.removeListener("end",s),t.removeListener("close",s),t.removeListener("finish",a),t.removeListener("end",l),t.removeListener("error",f),t.removeListener("close",d)}}GT.exports=jT});var kT=v((Wre,QT)=>{"use strict";c();var Yh;function Ti(t,e,r){return e=Uq(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Uq(t){var e=qq(t,"string");return typeof e=="symbol"?e:String(e)}function qq(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vq=$h(),xi=Symbol("lastResolve"),Zs=Symbol("lastReject"),Mc=Symbol("error"),Jh=Symbol("ended"),eo=Symbol("lastPromise"),Vw=Symbol("handlePromise"),to=Symbol("stream");function Ni(t,e){return{value:t,done:e}}function Hq(t){var e=t[xi];if(e!==null){var r=t[to].read();r!==null&&(t[eo]=null,t[xi]=null,t[Zs]=null,e(Ni(r,!1)))}}function jq(t){p.default.nextTick(Hq,t)}function Gq(t,e){return function(r,n){t.then(function(){if(e[Jh]){r(Ni(void 0,!0));return}e[Vw](r,n)},n)}}var Qq=Object.getPrototypeOf(function(){}),kq=Object.setPrototypeOf((Yh={get stream(){return this[to]},next:function(){var e=this,r=this[Mc];if(r!==null)return Promise.reject(r);if(this[Jh])return Promise.resolve(Ni(void 0,!0));if(this[to].destroyed)return new Promise(function(o,a){p.default.nextTick(function(){e[Mc]?a(e[Mc]):o(Ni(void 0,!0))})});var n=this[eo],i;if(n)i=new Promise(Gq(n,this));else{var s=this[to].read();if(s!==null)return Promise.resolve(Ni(s,!1));i=new Promise(this[Vw])}return this[eo]=i,i}},Ti(Yh,Symbol.asyncIterator,function(){return this}),Ti(Yh,"return",function(){var e=this;return new Promise(function(r,n){e[to].destroy(null,function(i){if(i){n(i);return}r(Ni(void 0,!0))})})}),Yh),Qq),Kq=function(e){var r,n=Object.create(kq,(r={},Ti(r,to,{value:e,writable:!0}),Ti(r,xi,{value:null,writable:!0}),Ti(r,Zs,{value:null,writable:!0}),Ti(r,Mc,{value:null,writable:!0}),Ti(r,Jh,{value:e._readableState.endEmitted,writable:!0}),Ti(r,Vw,{value:function(s,o){var a=n[to].read();a?(n[eo]=null,n[xi]=null,n[Zs]=null,s(Ni(a,!1))):(n[xi]=s,n[Zs]=o)},writable:!0}),r));return n[eo]=null,Vq(e,function(i){if(i&&i.code!=="ERR_STREAM_PREMATURE_CLOSE"){var s=n[Zs];s!==null&&(n[eo]=null,n[xi]=null,n[Zs]=null,s(i)),n[Mc]=i;return}var o=n[xi];o!==null&&(n[eo]=null,n[xi]=null,n[Zs]=null,o(Ni(void 0,!0))),n[Jh]=!0}),e.on("readable",jq.bind(null,n)),n};QT.exports=Kq});var zT=v((Yre,KT)=>{c();KT.exports=function(){throw new Error("Readable.from is not available in the browser")}});var Lw=v((Zre,nx)=>{"use strict";c();nx.exports=Fe;var $a;Fe.ReadableState=JT;var Xre=jn().EventEmitter,YT=function(e,r){return e.listeners(r).length},qc=_w(),Xh=Ua().Buffer,zq=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function Wq(t){return Xh.from(t)}function $q(t){return Xh.isBuffer(t)||t instanceof zq}var Hw=bw(),xe;Hw&&Hw.debuglog?xe=Hw.debuglog("stream"):xe=function(){};var Yq=ET(),Ww=Cw(),Jq=Tw(),Xq=Jq.getHighWaterMark,Zh=Ys().codes,Zq=Zh.ERR_INVALID_ARG_TYPE,eV=Zh.ERR_STREAM_PUSH_AFTER_EOF,tV=Zh.ERR_METHOD_NOT_IMPLEMENTED,rV=Zh.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,Ya,jw,Gw;Ka()(Fe,qc);var Uc=Ww.errorOrDestroy,Qw=["error","close","destroy","pause","resume"];function nV(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function JT(t,e,r){$a=$a||Js(),t=t||{},typeof r!="boolean"&&(r=e instanceof $a),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=Xq(this,t,"readableHighWaterMark",r),this.buffer=new Yq,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(Ya||(Ya=qw().StringDecoder),this.decoder=new Ya(t.encoding),this.encoding=t.encoding)}function Fe(t){if($a=$a||Js(),!(this instanceof Fe))return new Fe(t);var e=this instanceof $a;this._readableState=new JT(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),qc.call(this)}Object.defineProperty(Fe.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}});Fe.prototype.destroy=Ww.destroy;Fe.prototype._undestroy=Ww.undestroy;Fe.prototype._destroy=function(t,e){e(t)};Fe.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=Xh.from(t,e),e=""),n=!0),XT(this,t,e,!1,n)};Fe.prototype.unshift=function(t){return XT(this,t,null,!0,!1)};function XT(t,e,r,n,i){xe("readableAddChunk",e);var s=t._readableState;if(e===null)s.reading=!1,oV(t,s);else{var o;if(i||(o=iV(s,e)),o)Uc(t,o);else if(s.objectMode||e&&e.length>0)if(typeof e!="string"&&!s.objectMode&&Object.getPrototypeOf(e)!==Xh.prototype&&(e=Wq(e)),n)s.endEmitted?Uc(t,new rV):kw(t,s,e,!0);else if(s.ended)Uc(t,new eV);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(e=s.decoder.write(e),s.objectMode||e.length!==0?kw(t,s,e,!1):zw(t,s)):kw(t,s,e,!1)}else n||(s.reading=!1,zw(t,s))}return!s.ended&&(s.length<s.highWaterMark||s.length===0)}function kw(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&ed(t)),zw(t,e)}function iV(t,e){var r;return!$q(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new Zq("chunk",["string","Buffer","Uint8Array"],e)),r}Fe.prototype.isPaused=function(){return this._readableState.flowing===!1};Fe.prototype.setEncoding=function(t){Ya||(Ya=qw().StringDecoder);var e=new Ya(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";r!==null;)n+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),n!==""&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var WT=1073741824;function sV(t){return t>=WT?t=WT:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function $T(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=sV(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}Fe.prototype.read=function(t){xe("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return xe("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?Kw(this):ed(this),null;if(t=$T(t,e),t===0&&e.ended)return e.length===0&&Kw(this),null;var n=e.needReadable;xe("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,xe("length less than watermark",n)),e.ended||e.reading?(n=!1,xe("reading or ended",n)):n&&(xe("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=$T(r,e)));var i;return t>0?i=tx(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&Kw(this)),i!==null&&this.emit("data",i),i};function oV(t,e){if(xe("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?ed(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,ZT(t)))}}function ed(t){var e=t._readableState;xe("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(xe("emitReadable",e.flowing),e.emittedReadable=!0,p.default.nextTick(ZT,t))}function ZT(t){var e=t._readableState;xe("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,$w(t)}function zw(t,e){e.readingMore||(e.readingMore=!0,p.default.nextTick(aV,t,e))}function aV(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(xe("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}Fe.prototype._read=function(t){Uc(this,new tV("_read()"))};Fe.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,xe("pipe count=%d opts=%j",n.pipesCount,e);var i=(!e||e.end!==!1)&&t!==p.default.stdout&&t!==p.default.stderr,s=i?a:T;n.endEmitted?p.default.nextTick(s):r.once("end",s),t.on("unpipe",o);function o(R,_){xe("onunpipe"),R===r&&_&&_.hasUnpiped===!1&&(_.hasUnpiped=!0,f())}function a(){xe("onend"),t.end()}var u=uV(r);t.on("drain",u);var l=!1;function f(){xe("cleanup"),t.removeListener("close",w),t.removeListener("finish",E),t.removeListener("drain",u),t.removeListener("error",y),t.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",T),r.removeListener("data",d),l=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&u()}r.on("data",d);function d(R){xe("ondata");var _=t.write(R);xe("dest.write",_),_===!1&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&rx(n.pipes,t)!==-1)&&!l&&(xe("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function y(R){xe("onerror",R),T(),t.removeListener("error",y),YT(t,"error")===0&&Uc(t,R)}nV(t,"error",y);function w(){t.removeListener("finish",E),T()}t.once("close",w);function E(){xe("onfinish"),t.removeListener("close",w),T()}t.once("finish",E);function T(){xe("unpipe"),r.unpipe(t)}return t.emit("pipe",r),n.flowing||(xe("pipe resume"),r.resume()),t};function uV(t){return function(){var r=t._readableState;xe("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&YT(t,"data")&&(r.flowing=!0,$w(t))}}Fe.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=rx(e.pipes,t);return o===-1?this:(e.pipes.splice(o,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};Fe.prototype.on=function(t,e){var r=qc.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,xe("on readable",n.length,n.reading),n.length?ed(this):n.reading||p.default.nextTick(cV,this)),r};Fe.prototype.addListener=Fe.prototype.on;Fe.prototype.removeListener=function(t,e){var r=qc.prototype.removeListener.call(this,t,e);return t==="readable"&&p.default.nextTick(ex,this),r};Fe.prototype.removeAllListeners=function(t){var e=qc.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&p.default.nextTick(ex,this),e};function ex(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function cV(t){xe("readable nexttick read 0"),t.read(0)}Fe.prototype.resume=function(){var t=this._readableState;return t.flowing||(xe("resume"),t.flowing=!t.readableListening,lV(this,t)),t.paused=!1,this};function lV(t,e){e.resumeScheduled||(e.resumeScheduled=!0,p.default.nextTick(fV,t,e))}function fV(t,e){xe("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),$w(t),e.flowing&&!e.reading&&t.read(0)}Fe.prototype.pause=function(){return xe("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(xe("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function $w(t){var e=t._readableState;for(xe("flow",e.flowing);e.flowing&&t.read()!==null;);}Fe.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(xe("wrapped end"),r.decoder&&!r.ended){var o=r.decoder.end();o&&o.length&&e.push(o)}e.push(null)}),t.on("data",function(o){if(xe("wrapped data"),r.decoder&&(o=r.decoder.write(o)),!(r.objectMode&&o==null)&&!(!r.objectMode&&(!o||!o.length))){var a=e.push(o);a||(n=!0,t.pause())}});for(var i in t)this[i]===void 0&&typeof t[i]=="function"&&(this[i]=function(a){return function(){return t[a].apply(t,arguments)}}(i));for(var s=0;s<Qw.length;s++)t.on(Qw[s],this.emit.bind(this,Qw[s]));return this._read=function(o){xe("wrapped _read",o),n&&(n=!1,t.resume())},this};typeof Symbol=="function"&&(Fe.prototype[Symbol.asyncIterator]=function(){return jw===void 0&&(jw=kT()),jw(this)});Object.defineProperty(Fe.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(Fe.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(Fe.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}});Fe._fromList=tx;Object.defineProperty(Fe.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function tx(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function Kw(t){var e=t._readableState;xe("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,p.default.nextTick(hV,e,t))}function hV(t,e){if(xe("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}typeof Symbol=="function"&&(Fe.from=function(t,e){return Gw===void 0&&(Gw=zT()),Gw(Fe,t,e)});function rx(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}});var Yw=v((tne,sx)=>{"use strict";c();sx.exports=Gn;var td=Ys().codes,dV=td.ERR_METHOD_NOT_IMPLEMENTED,pV=td.ERR_MULTIPLE_CALLBACK,gV=td.ERR_TRANSFORM_ALREADY_TRANSFORMING,yV=td.ERR_TRANSFORM_WITH_LENGTH_0,rd=Js();Ka()(Gn,rd);function mV(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new pV);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Gn(t){if(!(this instanceof Gn))return new Gn(t);rd.call(this,t),this._transformState={afterTransform:mV.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",wV)}function wV(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){ix(t,e,r)}):ix(this,null,null)}Gn.prototype.push=function(t,e){return this._transformState.needTransform=!1,rd.prototype.push.call(this,t,e)};Gn.prototype._transform=function(t,e,r){r(new dV("_transform()"))};Gn.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};Gn.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};Gn.prototype._destroy=function(t,e){rd.prototype._destroy.call(this,t,function(r){e(r)})};function ix(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new yV;if(t._transformState.transforming)throw new gV;return t.push(null)}});var ux=v((nne,ax)=>{"use strict";c();ax.exports=Vc;var ox=Yw();Ka()(Vc,ox);function Vc(t){if(!(this instanceof Vc))return new Vc(t);ox.call(this,t)}Vc.prototype._transform=function(t,e,r){r(null,t)}});var dx=v((sne,hx)=>{"use strict";c();var Jw;function EV(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var fx=Ys().codes,vV=fx.ERR_MISSING_ARGS,AV=fx.ERR_STREAM_DESTROYED;function cx(t){if(t)throw t}function _V(t){return t.setHeader&&typeof t.abort=="function"}function bV(t,e,r,n){n=EV(n);var i=!1;t.on("close",function(){i=!0}),Jw===void 0&&(Jw=$h()),Jw(t,{readable:e,writable:r},function(o){if(o)return n(o);i=!0,n()});var s=!1;return function(o){if(!i&&!s){if(s=!0,_V(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(o||new AV("pipe"))}}}function lx(t){t()}function IV(t,e){return t.pipe(e)}function SV(t){return!t.length||typeof t[t.length-1]!="function"?cx:t.pop()}function CV(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=SV(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new vV("streams");var i,s=e.map(function(o,a){var u=a<e.length-1,l=a>0;return bV(o,u,l,function(f){i||(i=f),f&&s.forEach(lx),!u&&(s.forEach(lx),n(i))})});return e.reduce(IV)}hx.exports=CV});var Xw=v((Sr,px)=>{c();Sr=px.exports=Lw();Sr.Stream=Sr;Sr.Readable=Sr;Sr.Writable=Pw();Sr.Duplex=Js();Sr.Transform=Yw();Sr.PassThrough=ux();Sr.finished=$h();Sr.pipeline=dx()});var mx=v((une,yx)=>{c();var{Transform:TV}=Xw();yx.exports=t=>class gx extends TV{constructor(r,n,i,s,o){super(o),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._hashBitLength=s,this._options=o,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let s=null;try{this.update(r,n)}catch(o){s=o}i(s)}_flush(r){let n=null;try{this.push(this.digest())}catch(i){n=i}r(n)}update(r,n){if(!h.Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return h.Buffer.isBuffer(r)||(r=h.Buffer.from(r,n)),this._state.absorb(r),this}digest(r){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let n=this._state.squeeze(this._hashBitLength/8);return r!==void 0&&(n=n.toString(r)),this._resetState(),n}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){let r=new gx(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}}});var vx=v((lne,Ex)=>{c();var{Transform:xV}=Xw();Ex.exports=t=>class wx extends xV{constructor(r,n,i,s){super(s),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._options=s,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let s=null;try{this.update(r,n)}catch(o){s=o}i(s)}_flush(){}_read(r){this.push(this.squeeze(r))}update(r,n){if(!h.Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return h.Buffer.isBuffer(r)||(r=h.Buffer.from(r,n)),this._state.absorb(r),this}squeeze(r,n){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let i=this._state.squeeze(r);return n!==void 0&&(i=i.toString(n)),i}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){let r=new wx(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}}});var _x=v((hne,Ax)=>{c();var NV=mx(),DV=vx();Ax.exports=function(t){let e=NV(t),r=DV(t);return function(n,i){switch(typeof n=="string"?n.toLowerCase():n){case"keccak224":return new e(1152,448,null,224,i);case"keccak256":return new e(1088,512,null,256,i);case"keccak384":return new e(832,768,null,384,i);case"keccak512":return new e(576,1024,null,512,i);case"sha3-224":return new e(1152,448,6,224,i);case"sha3-256":return new e(1088,512,6,256,i);case"sha3-384":return new e(832,768,6,384,i);case"sha3-512":return new e(576,1024,6,512,i);case"shake128":return new r(1344,256,31,i);case"shake256":return new r(1088,512,31,i);default:throw new Error("Invald algorithm: "+n)}}}});var Sx=v(Ix=>{c();var bx=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];Ix.p1600=function(t){for(let e=0;e<24;++e){let r=t[0]^t[10]^t[20]^t[30]^t[40],n=t[1]^t[11]^t[21]^t[31]^t[41],i=t[2]^t[12]^t[22]^t[32]^t[42],s=t[3]^t[13]^t[23]^t[33]^t[43],o=t[4]^t[14]^t[24]^t[34]^t[44],a=t[5]^t[15]^t[25]^t[35]^t[45],u=t[6]^t[16]^t[26]^t[36]^t[46],l=t[7]^t[17]^t[27]^t[37]^t[47],f=t[8]^t[18]^t[28]^t[38]^t[48],d=t[9]^t[19]^t[29]^t[39]^t[49],y=f^(i<<1|s>>>31),w=d^(s<<1|i>>>31),E=t[0]^y,T=t[1]^w,R=t[10]^y,_=t[11]^w,B=t[20]^y,x=t[21]^w,O=t[30]^y,P=t[31]^w,L=t[40]^y,b=t[41]^w;y=r^(o<<1|a>>>31),w=n^(a<<1|o>>>31);let C=t[2]^y,M=t[3]^w,Z=t[12]^y,K=t[13]^w,j=t[22]^y,G=t[23]^w,$=t[32]^y,de=t[33]^w,ae=t[42]^y,re=t[43]^w;y=i^(u<<1|l>>>31),w=s^(l<<1|u>>>31);let Y=t[4]^y,ie=t[5]^w,te=t[14]^y,ne=t[15]^w,q=t[24]^y,ce=t[25]^w,oe=t[34]^y,le=t[35]^w,se=t[44]^y,ue=t[45]^w;y=o^(f<<1|d>>>31),w=a^(d<<1|f>>>31);let g=t[6]^y,m=t[7]^w,A=t[16]^y,D=t[17]^w,I=t[26]^y,N=t[27]^w,F=t[36]^y,S=t[37]^w,U=t[46]^y,H=t[47]^w;y=u^(r<<1|n>>>31),w=l^(n<<1|r>>>31);let V=t[8]^y,X=t[9]^w,ye=t[18]^y,we=t[19]^w,Pe=t[28]^y,$e=t[29]^w,ot=t[38]^y,De=t[39]^w,Me=t[48]^y,vt=t[49]^w,ni=E,us=T,cs=_<<4|R>>>28,Yt=R<<4|_>>>28,Dn=B<<3|x>>>29,qt=x<<3|B>>>29,At=P<<9|O>>>23,Qe=O<<9|P>>>23,Yg=L<<18|b>>>14,Jg=b<<18|L>>>14,Xg=C<<1|M>>>31,Zg=M<<1|C>>>31,e0=K<<12|Z>>>20,t0=Z<<12|K>>>20,r0=j<<10|G>>>22,n0=G<<10|j>>>22,i0=de<<13|$>>>19,s0=$<<13|de>>>19,o0=ae<<2|re>>>30,a0=re<<2|ae>>>30,u0=ie<<30|Y>>>2,c0=Y<<30|ie>>>2,l0=te<<6|ne>>>26,f0=ne<<6|te>>>26,h0=ce<<11|q>>>21,d0=q<<11|ce>>>21,p0=oe<<15|le>>>17,g0=le<<15|oe>>>17,y0=ue<<29|se>>>3,m0=se<<29|ue>>>3,w0=g<<28|m>>>4,E0=m<<28|g>>>4,v0=D<<23|A>>>9,A0=A<<23|D>>>9,_0=I<<25|N>>>7,b0=N<<25|I>>>7,I0=F<<21|S>>>11,S0=S<<21|F>>>11,C0=H<<24|U>>>8,T0=U<<24|H>>>8,x0=V<<27|X>>>5,N0=X<<27|V>>>5,D0=ye<<20|we>>>12,O0=we<<20|ye>>>12,P0=$e<<7|Pe>>>25,B0=Pe<<7|$e>>>25,R0=ot<<8|De>>>24,L0=De<<8|ot>>>24,F0=Me<<14|vt>>>18,M0=vt<<14|Me>>>18;t[0]=ni^~e0&h0,t[1]=us^~t0&d0,t[10]=w0^~D0&Dn,t[11]=E0^~O0&qt,t[20]=Xg^~l0&_0,t[21]=Zg^~f0&b0,t[30]=x0^~cs&r0,t[31]=N0^~Yt&n0,t[40]=u0^~v0&P0,t[41]=c0^~A0&B0,t[2]=e0^~h0&I0,t[3]=t0^~d0&S0,t[12]=D0^~Dn&i0,t[13]=O0^~qt&s0,t[22]=l0^~_0&R0,t[23]=f0^~b0&L0,t[32]=cs^~r0&p0,t[33]=Yt^~n0&g0,t[42]=v0^~P0&At,t[43]=A0^~B0&Qe,t[4]=h0^~I0&F0,t[5]=d0^~S0&M0,t[14]=Dn^~i0&y0,t[15]=qt^~s0&m0,t[24]=_0^~R0&Yg,t[25]=b0^~L0&Jg,t[34]=r0^~p0&C0,t[35]=n0^~g0&T0,t[44]=P0^~At&o0,t[45]=B0^~Qe&a0,t[6]=I0^~F0&ni,t[7]=S0^~M0&us,t[16]=i0^~y0&w0,t[17]=s0^~m0&E0,t[26]=R0^~Yg&Xg,t[27]=L0^~Jg&Zg,t[36]=p0^~C0&x0,t[37]=g0^~T0&N0,t[46]=At^~o0&u0,t[47]=Qe^~a0&c0,t[8]=F0^~ni&e0,t[9]=M0^~us&t0,t[18]=y0^~w0&D0,t[19]=m0^~E0&O0,t[28]=Yg^~Xg&l0,t[29]=Jg^~Zg&f0,t[38]=C0^~x0&cs,t[39]=T0^~N0&Yt,t[48]=o0^~u0&v0,t[49]=a0^~c0&A0,t[0]^=bx[e*2],t[1]^=bx[e*2+1]}}});var Tx=v((yne,Cx)=>{c();var nd=Sx();function Ja(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}Ja.prototype.initialize=function(t,e){for(let r=0;r<50;++r)this.state[r]=0;this.blockSize=t/8,this.count=0,this.squeezing=!1};Ja.prototype.absorb=function(t){for(let e=0;e<t.length;++e)this.state[~~(this.count/4)]^=t[e]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(nd.p1600(this.state),this.count=0)};Ja.prototype.absorbLastFewBits=function(t){this.state[~~(this.count/4)]^=t<<8*(this.count%4),t&128&&this.count===this.blockSize-1&&nd.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),nd.p1600(this.state),this.count=0,this.squeezing=!0};Ja.prototype.squeeze=function(t){this.squeezing||this.absorbLastFewBits(1);let e=h.Buffer.alloc(t);for(let r=0;r<t;++r)e[r]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(nd.p1600(this.state),this.count=0);return e};Ja.prototype.copy=function(t){for(let e=0;e<50;++e)t.state[e]=this.state[e];t.blockSize=this.blockSize,t.count=this.count,t.squeezing=this.squeezing};Cx.exports=Ja});var Nx=v((wne,xx)=>{c();xx.exports=_x()(Tx())});var Bx=v(Xa=>{"use strict";c();var OV=Xa&&Xa.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Xa,"__esModule",{value:!0});Xa.SmartContract=void 0;var PV=OV(Wt()),Hc=Zt(),Zw=mh(),BV=He(),eE=Pc(),RV=fr(),LV=Kf(),Dx=$C(),Ox=Lh(),Px=XC(),FV=tT(),MV=Mh(),id=rT(),UV=Nx(),tE=class{constructor(e={}){this.address=new Hc.Address,this.methodsExplicit={},this.methods={},this.address=e.address||new Hc.Address,this.abi=e.abi,this.abi&&this.setupMethods()}setupMethods(){let e=this,r=this.getAbi();for(let n of r.getEndpoints()){let i=n.name;this.methodsExplicit[i]=function(s){let o=new Ox.ContractFunction(i);return new Px.Interaction(e,o,s||[])},this.methods[i]=function(s){let o=new Ox.ContractFunction(i),a=FV.NativeSerializer.nativeToTypedValues(s||[],n);return new Px.Interaction(e,o,a||[])}}}setAddress(e){this.address=e}getAddress(){return this.address}getAbi(){return RV.guardValueIsSet("abi",this.abi),this.abi}getEndpoint(e){return this.getAbi().getEndpoint(e)}deploy({deployer:e,code:r,codeMetadata:n,initArguments:i,value:s,gasLimit:o,gasPrice:a,chainID:u}){Zw.Compatibility.guardAddressIsSetAndNonZero(e,"'deployer' of SmartContract.deploy()","pass the actual address to deploy()"),n=n||new Dx.CodeMetadata,i=i||[],s=s||0;let l=new id.ContractDeployPayloadBuilder().setCode(r).setCodeMetadata(n).setInitArgs(i).build();return new eE.Transaction({receiver:Hc.Address.Zero(),sender:e,value:s,gasLimit:o,gasPrice:a,data:l,chainID:u})}upgrade({caller:e,code:r,codeMetadata:n,initArguments:i,value:s,gasLimit:o,gasPrice:a,chainID:u}){Zw.Compatibility.guardAddressIsSetAndNonZero(e,"'caller' of SmartContract.upgrade()","pass the actual address to upgrade()"),this.ensureHasAddress(),n=n||new Dx.CodeMetadata,i=i||[],s=s||0;let l=new id.ContractUpgradePayloadBuilder().setCode(r).setCodeMetadata(n).setInitArgs(i).build();return new eE.Transaction({sender:e,receiver:this.getAddress(),value:s,gasLimit:o,gasPrice:a,data:l,chainID:u})}call({func:e,args:r,value:n,gasLimit:i,receiver:s,gasPrice:o,chainID:a,caller:u}){Zw.Compatibility.guardAddressIsSetAndNonZero(u,"'caller' of SmartContract.call()","pass the actual address to call()"),this.ensureHasAddress(),r=r||[],n=n||0;let l=new id.ContractCallPayloadBuilder().setFunction(e).setArgs(r).build();return new eE.Transaction({sender:u,receiver:s||this.getAddress(),value:n,gasLimit:i,gasPrice:o,data:l,chainID:a})}createQuery({func:e,args:r,value:n,caller:i}){return this.ensureHasAddress(),new MV.Query({address:this.getAddress(),func:e,args:r,value:n,caller:i})}ensureHasAddress(){if(!this.getAddress().bech32())throw new BV.ErrContractHasNoAddress}static computeAddress(e,r){let n=h.Buffer.alloc(8,0),i=new Hc.Address(e.bech32()).pubkey(),s=i.slice(30),o=h.Buffer.alloc(8),a=new PV.default(r.valueOf().toString(10)),u=LV.bigIntToBuffer(a);o.write(u.reverse().toString("hex"),"hex");let l=h.Buffer.concat([i,o]),f=UV("keccak256").update(l).digest(),d=h.Buffer.from(id.ArwenVirtualMachine,"hex"),y=h.Buffer.concat([n,d,f.slice(10,30),s]);return new Hc.Address(y)}};Xa.SmartContract=tE});var Rx=v(Za=>{"use strict";c();Object.defineProperty(Za,"__esModule",{value:!0});Za.Signature=Za.Address=void 0;var rE=class{constructor(e){this.value=e}bech32(){return this.value}};Za.Address=rE;var nE=class{constructor(e){this.value=e}hex(){return this.value}};Za.Signature=nE});var Lx=v(jc=>{"use strict";c();Object.defineProperty(jc,"__esModule",{value:!0});jc.Operation=void 0;var qV;(function(t){t.Connect="connect",t.Logout="logout",t.SignTransactions="signTransactions",t.SignMessage="signMessage",t.CancelAction="cancelAction"})(qV=jc.Operation||(jc.Operation={}))});var Fx=v(Di=>{"use strict";c();Object.defineProperty(Di,"__esModule",{value:!0});Di.ErrAccountNotConnected=Di.ErrCannotSignSingleTransaction=Di.Err=void 0;var Gc=class extends Error{constructor(e,r){super(e),this.inner=void 0,this.inner=r}};Di.Err=Gc;var iE=class extends Gc{constructor(){super("Cannot sign single transaction.")}};Di.ErrCannotSignSingleTransaction=iE;var sE=class extends Gc{constructor(){super("Account is not connected.")}};Di.ErrAccountNotConnected=sE});var oE=v(eu=>{"use strict";c();var Oi=eu&&eu.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(f){try{l(n.next(f))}catch(d){o(d)}}function u(f){try{l(n.throw(f))}catch(d){o(d)}}function l(f){f.done?s(f.value):i(f.value).then(a,u)}l((n=n.apply(t,e||[])).next())})};Object.defineProperty(eu,"__esModule",{value:!0});eu.ExtensionProvider=void 0;var sd=Rx(),Qc=Lx(),Mx=Fx(),gn=class{constructor(){if(this.account={address:""},this.initialized=!1,gn._instance)throw new Error("Error: Instantiation failed: Use ExtensionProvider.getInstance() instead of new.");gn._instance=this}static getInstance(){return gn._instance}setAddress(e){return this.account.address=e,gn._instance}init(){return Oi(this,void 0,void 0,function*(){return window&&window.elrondWallet&&(this.initialized=!0),this.initialized})}login(e={}){return Oi(this,void 0,void 0,function*(){if(!this.initialized)throw new Error("Extension provider is not initialised, call init() first");let{token:r}=e,n=r||"";return yield this.startBgrMsgChannel(Qc.Operation.Connect,n),this.account.address})}logout(){return Oi(this,void 0,void 0,function*(){if(!this.initialized)throw new Error("Extension provider is not initialised, call init() first");try{yield this.startBgrMsgChannel(Qc.Operation.Logout,this.account.address),this.disconnect()}catch(e){console.warn("Extension origin url is already cleared!",e)}return!0})}disconnect(){this.account={address:""}}getAddress(){return Oi(this,void 0,void 0,function*(){if(!this.initialized)throw new Error("Extension provider is not initialised, call init() first");return this.account?this.account.address:""})}isInitialized(){return this.initialized}isConnected(){return Oi(this,void 0,void 0,function*(){return!!this.account.address})}signTransaction(e){return Oi(this,void 0,void 0,function*(){this.ensureConnected();let r=yield this.signTransactions([e]);if(r.length!=1)throw new Mx.ErrCannotSignSingleTransaction;return r[0]})}ensureConnected(){if(!this.account.address)throw new Mx.ErrAccountNotConnected}signTransactions(e){return Oi(this,void 0,void 0,function*(){this.ensureConnected();let r=yield this.startBgrMsgChannel(Qc.Operation.SignTransactions,{from:this.account.address,transactions:e.map(n=>n.toPlainObject())});try{for(let n=0;n<e.length;n++){let i=e[n],s=r[n];i.applySignature(new sd.Signature(s.signature),new sd.Address(this.account.address))}return e}catch(n){throw new Error(`Transaction canceled: ${n.message}.`)}})}signMessage(e){return Oi(this,void 0,void 0,function*(){this.ensureConnected();let r={account:this.account.address,message:e.message.toString()},n=yield this.startBgrMsgChannel(Qc.Operation.SignMessage,r);return e.applySignature(new sd.Signature(n.signature),new sd.Address(this.account.address)),e})}cancelAction(){return this.startBgrMsgChannel(Qc.Operation.CancelAction,{})}startBgrMsgChannel(e,r){return new Promise(n=>{window.postMessage({target:"erdw-inpage",type:e,data:r},window.origin);let i=s=>{s.isTrusted&&s.data.target==="erdw-contentScript"&&(s.data.type==="connectResponse"?(s.data.data&&s.data.data.address&&(this.account=s.data.data),window.removeEventListener("message",i),n(s.data.data)):(window.removeEventListener("message",i),n(s.data.data)))};window.addEventListener("message",i,!1)})}};eu.ExtensionProvider=gn;gn._instance=new gn});var Gx=v((qne,jx)=>{"use strict";c();function VV(t){try{return JSON.stringify(t)}catch{return'"[Circular]"'}}jx.exports=HV;function HV(t,e,r){var n=r&&r.stringify||VV,i=1;if(typeof t=="object"&&t!==null){var s=e.length+i;if(s===1)return t;var o=new Array(s);o[0]=n(t);for(var a=1;a<s;a++)o[a]=n(e[a]);return o.join(" ")}if(typeof t!="string")return t;var u=e.length;if(u===0)return t;for(var l="",f=1-i,d=-1,y=t&&t.length||0,w=0;w<y;){if(t.charCodeAt(w)===37&&w+1<y){switch(d=d>-1?d:0,t.charCodeAt(w+1)){case 100:case 102:if(f>=u||e[f]==null)break;d<w&&(l+=t.slice(d,w)),l+=Number(e[f]),d=w+2,w++;break;case 105:if(f>=u||e[f]==null)break;d<w&&(l+=t.slice(d,w)),l+=Math.floor(Number(e[f])),d=w+2,w++;break;case 79:case 111:case 106:if(f>=u||e[f]===void 0)break;d<w&&(l+=t.slice(d,w));var E=typeof e[f];if(E==="string"){l+="'"+e[f]+"'",d=w+2,w++;break}if(E==="function"){l+=e[f].name||"<anonymous>",d=w+2,w++;break}l+=n(e[f]),d=w+2,w++;break;case 115:if(f>=u)break;d<w&&(l+=t.slice(d,w)),l+=String(e[f]),d=w+2,w++;break;case 37:d<w&&(l+=t.slice(d,w)),l+="%",d=w+2,w++,f--;break}++f}++w}return d===-1?t:(d<y&&(l+=t.slice(d)),l)}});var hd=v((Hne,zx)=>{"use strict";c();var Qx=Gx();zx.exports=mn;var kc=JV().console||{},jV={mapHttpRequest:ld,mapHttpResponse:ld,wrapRequestSerializer:aE,wrapResponseSerializer:aE,wrapErrorSerializer:aE,req:ld,res:ld,err:zV};function GV(t,e){return Array.isArray(t)?t.filter(function(n){return n!=="!stdSerializers.err"}):t===!0?Object.keys(e):!1}function mn(t){t=t||{},t.browser=t.browser||{};let e=t.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");let r=t.browser.write||kc;t.browser.write&&(t.browser.asObject=!0);let n=t.serializers||{},i=GV(t.browser.serialize,n),s=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(s=!1);let o=["error","fatal","warn","info","debug","trace"];typeof r=="function"&&(r.error=r.fatal=r.warn=r.info=r.debug=r.trace=r),t.enabled===!1&&(t.level="silent");let a=t.level||"info",u=Object.create(r);u.log||(u.log=Kc),Object.defineProperty(u,"levelVal",{get:f}),Object.defineProperty(u,"level",{get:d,set:y});let l={transmit:e,serialize:i,asObject:t.browser.asObject,levels:o,timestamp:WV(t)};u.levels=mn.levels,u.level=a,u.setMaxListeners=u.getMaxListeners=u.emit=u.addListener=u.on=u.prependListener=u.once=u.prependOnceListener=u.removeListener=u.removeAllListeners=u.listeners=u.listenerCount=u.eventNames=u.write=u.flush=Kc,u.serializers=n,u._serialize=i,u._stdErrSerialize=s,u.child=w,e&&(u._logEvent=uE());function f(){return this.level==="silent"?1/0:this.levels.values[this.level]}function d(){return this._level}function y(E){if(E!=="silent"&&!this.levels.values[E])throw Error("unknown level "+E);this._level=E,tu(l,u,"error","log"),tu(l,u,"fatal","error"),tu(l,u,"warn","error"),tu(l,u,"info","log"),tu(l,u,"debug","log"),tu(l,u,"trace","log")}function w(E,T){if(!E)throw new Error("missing bindings for child Pino");T=T||{},i&&E.serializers&&(T.serializers=E.serializers);let R=T.serializers;if(i&&R){var _=Object.assign({},n,R),B=t.browser.serialize===!0?Object.keys(_):i;delete E.serializers,fd([E],B,_,this._stdErrSerialize)}function x(O){this._childLevel=(O._childLevel|0)+1,this.error=ru(O,E,"error"),this.fatal=ru(O,E,"fatal"),this.warn=ru(O,E,"warn"),this.info=ru(O,E,"info"),this.debug=ru(O,E,"debug"),this.trace=ru(O,E,"trace"),_&&(this.serializers=_,this._serialize=B),e&&(this._logEvent=uE([].concat(O._logEvent.bindings,E)))}return x.prototype=this,new x(this)}return u}mn.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};mn.stdSerializers=jV;mn.stdTimeFunctions=Object.assign({},{nullTime:kx,epochTime:Kx,unixTime:$V,isoTime:YV});function tu(t,e,r,n){let i=Object.getPrototypeOf(e);e[r]=e.levelVal>e.levels.values[r]?Kc:i[r]?i[r]:kc[r]||kc[n]||Kc,QV(t,e,r)}function QV(t,e,r){!t.transmit&&e[r]===Kc||(e[r]=function(n){return function(){let s=t.timestamp(),o=new Array(arguments.length),a=Object.getPrototypeOf&&Object.getPrototypeOf(this)===kc?kc:this;for(var u=0;u<o.length;u++)o[u]=arguments[u];if(t.serialize&&!t.asObject&&fd(o,this._serialize,this.serializers,this._stdErrSerialize),t.asObject?n.call(a,kV(this,r,o,s)):n.apply(a,o),t.transmit){let l=t.transmit.level||e.level,f=mn.levels.values[l],d=mn.levels.values[r];if(d<f)return;KV(this,{ts:s,methodLevel:r,methodValue:d,transmitLevel:l,transmitValue:mn.levels.values[t.transmit.level||e.level],send:t.transmit.send,val:e.levelVal},o)}}}(e[r]))}function kV(t,e,r,n){t._serialize&&fd(r,t._serialize,t.serializers,t._stdErrSerialize);let i=r.slice(),s=i[0],o={};n&&(o.time=n),o.level=mn.levels.values[e];let a=(t._childLevel|0)+1;if(a<1&&(a=1),s!==null&&typeof s=="object"){for(;a--&&typeof i[0]=="object";)Object.assign(o,i.shift());s=i.length?Qx(i.shift(),i):void 0}else typeof s=="string"&&(s=Qx(i.shift(),i));return s!==void 0&&(o.msg=s),o}function fd(t,e,r,n){for(let i in t)if(n&&t[i]instanceof Error)t[i]=mn.stdSerializers.err(t[i]);else if(typeof t[i]=="object"&&!Array.isArray(t[i]))for(let s in t[i])e&&e.indexOf(s)>-1&&s in r&&(t[i][s]=r[s](t[i][s]))}function ru(t,e,r){return function(){let n=new Array(1+arguments.length);n[0]=e;for(var i=1;i<n.length;i++)n[i]=arguments[i-1];return t[r].apply(this,n)}}function KV(t,e,r){let n=e.send,i=e.ts,s=e.methodLevel,o=e.methodValue,a=e.val,u=t._logEvent.bindings;fd(r,t._serialize||Object.keys(t.serializers),t.serializers,t._stdErrSerialize===void 0?!0:t._stdErrSerialize),t._logEvent.ts=i,t._logEvent.messages=r.filter(function(l){return u.indexOf(l)===-1}),t._logEvent.level.label=s,t._logEvent.level.value=o,n(s,t._logEvent,a),t._logEvent=uE(u)}function uE(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}function zV(t){let e={type:t.constructor.name,msg:t.message,stack:t.stack};for(let r in t)e[r]===void 0&&(e[r]=t[r]);return e}function WV(t){return typeof t.timestamp=="function"?t.timestamp:t.timestamp===!1?kx:Kx}function ld(){return{}}function aE(t){return t}function Kc(){}function kx(){return!1}function Kx(){return Date.now()}function $V(){return Math.round(Date.now()/1e3)}function YV(){return new Date(Date.now()).toISOString()}function JV(){function t(e){return typeof e<"u"&&e}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return t(self)||t(window)||t(this)||{}}}});var or={};at(or,{__assign:()=>lE,__asyncDelegator:()=>lH,__asyncGenerator:()=>cH,__asyncValues:()=>fH,__await:()=>zc,__awaiter:()=>nH,__classPrivateFieldGet:()=>gH,__classPrivateFieldSet:()=>yH,__createBinding:()=>sH,__decorate:()=>eH,__exportStar:()=>oH,__extends:()=>XV,__generator:()=>iH,__importDefault:()=>pH,__importStar:()=>dH,__makeTemplateObject:()=>hH,__metadata:()=>rH,__param:()=>tH,__read:()=>Wx,__rest:()=>ZV,__spread:()=>aH,__spreadArrays:()=>uH,__values:()=>fE});function XV(t,e){cE(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function ZV(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function eH(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function tH(t,e){return function(r,n){e(r,n,t)}}function rH(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function nH(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(f){try{l(n.next(f))}catch(d){o(d)}}function u(f){try{l(n.throw(f))}catch(d){o(d)}}function l(f){f.done?s(f.value):i(f.value).then(a,u)}l((n=n.apply(t,e||[])).next())})}function iH(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(f){return u([l,f])}}function u(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){r.label=l[1];break}if(l[0]===6&&r.label<s[1]){r.label=s[1],s=l;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(l);break}s[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(f){l=[6,f],i=0}finally{n=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function sH(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function oH(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function fE(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Wx(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function aH(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Wx(arguments[e]));return t}function uH(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function zc(t){return this instanceof zc?(this.v=t,this):new zc(t)}function cH(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(y){n[y]&&(i[y]=function(w){return new Promise(function(E,T){s.push([y,w,E,T])>1||a(y,w)})})}function a(y,w){try{u(n[y](w))}catch(E){d(s[0][3],E)}}function u(y){y.value instanceof zc?Promise.resolve(y.value.v).then(l,f):d(s[0][2],y)}function l(y){a("next",y)}function f(y){a("throw",y)}function d(y,w){y(w),s.shift(),s.length&&a(s[0][0],s[0][1])}}function lH(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=t[i]?function(o){return(r=!r)?{value:zc(t[i](o)),done:i==="return"}:s?s(o):o}:s}}function fH(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof fE=="function"?fE(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(o){return new Promise(function(a,u){o=t[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}}function hH(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function dH(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function pH(t){return t&&t.__esModule?t:{default:t}}function gH(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function yH(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}var cE,lE,ar=ge(()=>{c();cE=function(t,e){return cE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},cE(t,e)};lE=function(){return lE=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},lE.apply(this,arguments)}});var hE=v(dd=>{"use strict";c();Object.defineProperty(dd,"__esModule",{value:!0});function mH(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return JSON.parse(t)}catch{return t}}dd.safeJsonParse=mH;function wH(t){return typeof t=="string"?t:JSON.stringify(t,(e,r)=>typeof r>"u"?null:r)}dd.safeJsonStringify=wH});var $x=v((Kne,pd)=>{"use strict";c();(function(){"use strict";let t;function e(){}t=e,t.prototype.getItem=function(r){return this.hasOwnProperty(r)?String(this[r]):null},t.prototype.setItem=function(r,n){this[r]=String(n)},t.prototype.removeItem=function(r){delete this[r]},t.prototype.clear=function(){let r=this;Object.keys(r).forEach(function(n){r[n]=void 0,delete r[n]})},t.prototype.key=function(r){return r=r||0,Object.keys(this)[r]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof global<"u"&&global.localStorage?pd.exports=global.localStorage:typeof window<"u"&&window.localStorage?pd.exports=window.localStorage:pd.exports=new e})()});var Yx=v(gd=>{"use strict";c();Object.defineProperty(gd,"__esModule",{value:!0});gd.IKeyValueStorage=void 0;var dE=class{};gd.IKeyValueStorage=dE});var Jx=v(yd=>{"use strict";c();Object.defineProperty(yd,"__esModule",{value:!0});yd.parseEntry=void 0;var EH=hE();function vH(t){var e;return[t[0],EH.safeJsonParse((e=t[1])!==null&&e!==void 0?e:"")]}yd.parseEntry=vH});var Zx=v(md=>{"use strict";c();Object.defineProperty(md,"__esModule",{value:!0});var Xx=(ar(),nt(or));Xx.__exportStar(Yx(),md);Xx.__exportStar(Jx(),md)});var t2=v(Wc=>{"use strict";c();Object.defineProperty(Wc,"__esModule",{value:!0});Wc.KeyValueStorage=void 0;var nu=(ar(),nt(or)),e2=hE(),AH=nu.__importDefault($x()),_H=Zx(),wd=class{constructor(){this.localStorage=AH.default}getKeys(){return nu.__awaiter(this,void 0,void 0,function*(){return Object.keys(this.localStorage)})}getEntries(){return nu.__awaiter(this,void 0,void 0,function*(){return Object.entries(this.localStorage).map(_H.parseEntry)})}getItem(e){return nu.__awaiter(this,void 0,void 0,function*(){let r=this.localStorage.getItem(e);if(r!==null)return e2.safeJsonParse(r)})}setItem(e,r){return nu.__awaiter(this,void 0,void 0,function*(){this.localStorage.setItem(e,e2.safeJsonStringify(r))})}removeItem(e){return nu.__awaiter(this,void 0,void 0,function*(){this.localStorage.removeItem(e)})}};Wc.KeyValueStorage=wd;Wc.default=wd});var r2=v(Ed=>{"use strict";c();Object.defineProperty(Ed,"__esModule",{value:!0});Ed.delay=void 0;function bH(t){return new Promise(e=>{setTimeout(()=>{e(!0)},t)})}Ed.delay=bH});var n2=v(iu=>{"use strict";c();Object.defineProperty(iu,"__esModule",{value:!0});iu.ONE_THOUSAND=iu.ONE_HUNDRED=void 0;iu.ONE_HUNDRED=100;iu.ONE_THOUSAND=1e3});var i2=v(fe=>{"use strict";c();Object.defineProperty(fe,"__esModule",{value:!0});fe.ONE_YEAR=fe.FOUR_WEEKS=fe.THREE_WEEKS=fe.TWO_WEEKS=fe.ONE_WEEK=fe.THIRTY_DAYS=fe.SEVEN_DAYS=fe.FIVE_DAYS=fe.THREE_DAYS=fe.ONE_DAY=fe.TWENTY_FOUR_HOURS=fe.TWELVE_HOURS=fe.SIX_HOURS=fe.THREE_HOURS=fe.ONE_HOUR=fe.SIXTY_MINUTES=fe.THIRTY_MINUTES=fe.TEN_MINUTES=fe.FIVE_MINUTES=fe.ONE_MINUTE=fe.SIXTY_SECONDS=fe.THIRTY_SECONDS=fe.TEN_SECONDS=fe.FIVE_SECONDS=fe.ONE_SECOND=void 0;fe.ONE_SECOND=1;fe.FIVE_SECONDS=5;fe.TEN_SECONDS=10;fe.THIRTY_SECONDS=30;fe.SIXTY_SECONDS=60;fe.ONE_MINUTE=fe.SIXTY_SECONDS;fe.FIVE_MINUTES=fe.ONE_MINUTE*5;fe.TEN_MINUTES=fe.ONE_MINUTE*10;fe.THIRTY_MINUTES=fe.ONE_MINUTE*30;fe.SIXTY_MINUTES=fe.ONE_MINUTE*60;fe.ONE_HOUR=fe.SIXTY_MINUTES;fe.THREE_HOURS=fe.ONE_HOUR*3;fe.SIX_HOURS=fe.ONE_HOUR*6;fe.TWELVE_HOURS=fe.ONE_HOUR*12;fe.TWENTY_FOUR_HOURS=fe.ONE_HOUR*24;fe.ONE_DAY=fe.TWENTY_FOUR_HOURS;fe.THREE_DAYS=fe.ONE_DAY*3;fe.FIVE_DAYS=fe.ONE_DAY*5;fe.SEVEN_DAYS=fe.ONE_DAY*7;fe.THIRTY_DAYS=fe.ONE_DAY*30;fe.ONE_WEEK=fe.SEVEN_DAYS;fe.TWO_WEEKS=fe.ONE_WEEK*2;fe.THREE_WEEKS=fe.ONE_WEEK*3;fe.FOUR_WEEKS=fe.ONE_WEEK*4;fe.ONE_YEAR=fe.ONE_DAY*365});var pE=v(vd=>{"use strict";c();Object.defineProperty(vd,"__esModule",{value:!0});var s2=(ar(),nt(or));s2.__exportStar(n2(),vd);s2.__exportStar(i2(),vd)});var a2=v(su=>{"use strict";c();Object.defineProperty(su,"__esModule",{value:!0});su.fromMiliseconds=su.toMiliseconds=void 0;var o2=pE();function IH(t){return t*o2.ONE_THOUSAND}su.toMiliseconds=IH;function SH(t){return Math.floor(t/o2.ONE_THOUSAND)}su.fromMiliseconds=SH});var c2=v(Ad=>{"use strict";c();Object.defineProperty(Ad,"__esModule",{value:!0});var u2=(ar(),nt(or));u2.__exportStar(r2(),Ad);u2.__exportStar(a2(),Ad)});var l2=v($c=>{"use strict";c();Object.defineProperty($c,"__esModule",{value:!0});$c.Watch=void 0;var _d=class{constructor(){this.timestamps=new Map}start(e){if(this.timestamps.has(e))throw new Error(`Watch already started for label: ${e}`);this.timestamps.set(e,{started:Date.now()})}stop(e){let r=this.get(e);if(typeof r.elapsed<"u")throw new Error(`Watch already stopped for label: ${e}`);let n=Date.now()-r.started;this.timestamps.set(e,{started:r.started,elapsed:n})}get(e){let r=this.timestamps.get(e);if(typeof r>"u")throw new Error(`No timestamp found for label: ${e}`);return r}elapsed(e){let r=this.get(e);return r.elapsed||Date.now()-r.started}};$c.Watch=_d;$c.default=_d});var f2=v(bd=>{"use strict";c();Object.defineProperty(bd,"__esModule",{value:!0});bd.IWatch=void 0;var gE=class{};bd.IWatch=gE});var h2=v(yE=>{"use strict";c();Object.defineProperty(yE,"__esModule",{value:!0});var CH=(ar(),nt(or));CH.__exportStar(f2(),yE)});var ro=v(ou=>{"use strict";c();Object.defineProperty(ou,"__esModule",{value:!0});var Id=(ar(),nt(or));Id.__exportStar(c2(),ou);Id.__exportStar(l2(),ou);Id.__exportStar(h2(),ou);Id.__exportStar(pE(),ou)});var mE,d2=ge(()=>{c();mE=class{}});var wE={};at(wE,{IEvents:()=>mE});var EE=ge(()=>{c();d2()});var p2=v(Sd=>{"use strict";c();Object.defineProperty(Sd,"__esModule",{value:!0});Sd.IHeartBeat=void 0;var TH=(EE(),nt(wE)),vE=class extends TH.IEvents{constructor(e){super()}};Sd.IHeartBeat=vE});var _E=v(AE=>{"use strict";c();Object.defineProperty(AE,"__esModule",{value:!0});var xH=(ar(),nt(or));xH.__exportStar(p2(),AE)});var g2=v(au=>{"use strict";c();Object.defineProperty(au,"__esModule",{value:!0});au.HEARTBEAT_EVENTS=au.HEARTBEAT_INTERVAL=void 0;var NH=ro();au.HEARTBEAT_INTERVAL=NH.FIVE_SECONDS;au.HEARTBEAT_EVENTS={pulse:"heartbeat_pulse"}});var IE=v(bE=>{"use strict";c();Object.defineProperty(bE,"__esModule",{value:!0});var DH=(ar(),nt(or));DH.__exportStar(g2(),bE)});var y2=v(Cd=>{"use strict";c();Object.defineProperty(Cd,"__esModule",{value:!0});Cd.HeartBeat=void 0;var SE=(ar(),nt(or)),OH=jn(),PH=ro(),BH=_E(),CE=IE(),Yc=class extends BH.IHeartBeat{constructor(e){super(e),this.events=new OH.EventEmitter,this.interval=CE.HEARTBEAT_INTERVAL,this.interval=e?.interval||CE.HEARTBEAT_INTERVAL}static init(e){return SE.__awaiter(this,void 0,void 0,function*(){let r=new Yc(e);return yield r.init(),r})}init(){return SE.__awaiter(this,void 0,void 0,function*(){yield this.initialize()})}stop(){clearInterval(this.intervalRef)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}initialize(){return SE.__awaiter(this,void 0,void 0,function*(){this.intervalRef=setInterval(()=>this.pulse(),PH.toMiliseconds(this.interval))})}pulse(){this.events.emit(CE.HEARTBEAT_EVENTS.pulse)}};Cd.HeartBeat=Yc});var m2=v(Jc=>{"use strict";c();Object.defineProperty(Jc,"__esModule",{value:!0});var TE=(ar(),nt(or));TE.__exportStar(y2(),Jc);TE.__exportStar(_E(),Jc);TE.__exportStar(IE(),Jc)});var xE=v(uu=>{"use strict";c();Object.defineProperty(uu,"__esModule",{value:!0});uu.PINO_CUSTOM_CONTEXT_KEY=uu.PINO_LOGGER_DEFAULTS=void 0;uu.PINO_LOGGER_DEFAULTS={level:"info"};uu.PINO_CUSTOM_CONTEXT_KEY="custom_context"});var _2=v(nr=>{"use strict";c();Object.defineProperty(nr,"__esModule",{value:!0});nr.generateChildLogger=nr.formatChildLoggerContext=nr.getLoggerContext=nr.setBrowserLoggerContext=nr.getBrowserLoggerContext=nr.getDefaultLoggerOptions=void 0;var cu=xE();function RH(t){return Object.assign(Object.assign({},t),{level:t?.level||cu.PINO_LOGGER_DEFAULTS.level})}nr.getDefaultLoggerOptions=RH;function w2(t,e=cu.PINO_CUSTOM_CONTEXT_KEY){return t[e]||""}nr.getBrowserLoggerContext=w2;function E2(t,e,r=cu.PINO_CUSTOM_CONTEXT_KEY){return t[r]=e,t}nr.setBrowserLoggerContext=E2;function v2(t,e=cu.PINO_CUSTOM_CONTEXT_KEY){let r="";return typeof t.bindings>"u"?r=w2(t,e):r=t.bindings().context||"",r}nr.getLoggerContext=v2;function A2(t,e,r=cu.PINO_CUSTOM_CONTEXT_KEY){let n=v2(t,r);return n.trim()?`${n}/${e}`:e}nr.formatChildLoggerContext=A2;function LH(t,e,r=cu.PINO_CUSTOM_CONTEXT_KEY){let n=A2(t,e,r),i=t.child({context:n});return E2(i,n,r)}nr.generateChildLogger=LH});var DE=v(lu=>{"use strict";c();Object.defineProperty(lu,"__esModule",{value:!0});lu.pino=void 0;var NE=(ar(),nt(or)),FH=NE.__importDefault(hd());Object.defineProperty(lu,"pino",{enumerable:!0,get:function(){return FH.default}});NE.__exportStar(xE(),lu);NE.__exportStar(_2(),lu)});var zE=v(Dt=>{"use strict";c();Object.defineProperty(Dt,"__esModule",{value:!0});var fu=(EE(),nt(wE)),b2=jn();function MH(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}var UH=MH(b2),OE=class extends fu.IEvents{constructor(e){super(),this.opts=e,this.protocol="wc",this.version=2}},PE=class{constructor(e,r,n){this.core=e,this.logger=r}},BE=class extends fu.IEvents{constructor(e,r){super(),this.core=e,this.logger=r,this.records=new Map}},RE=class{constructor(e,r){this.logger=e,this.core=r}},LE=class extends fu.IEvents{constructor(e,r){super(),this.relayer=e,this.logger=r}},FE=class extends fu.IEvents{constructor(e){super()}},ME=class{constructor(e,r,n,i){this.core=e,this.logger=r,this.name=n}},UE=class{constructor(){this.map=new Map}},qE=class extends fu.IEvents{constructor(e,r){super(),this.relayer=e,this.logger=r}},VE=class{constructor(e,r){this.core=e,this.logger=r}},HE=class extends fu.IEvents{constructor(e,r){super(),this.core=e,this.logger=r}},jE=class{constructor(e,r){this.logger=e,this.core=r}},GE=class extends UH.default{constructor(){super()}},QE=class{constructor(e){this.opts=e,this.protocol="wc",this.version=2}},kE=class extends b2.EventEmitter{constructor(){super()}},KE=class{constructor(e){this.client=e}};Dt.ICore=OE,Dt.ICrypto=PE,Dt.IEngine=KE,Dt.IEngineEvents=kE,Dt.IExpirer=HE,Dt.IJsonRpcHistory=BE,Dt.IKeyChain=VE,Dt.IMessageTracker=RE,Dt.IPairing=jE,Dt.IPublisher=LE,Dt.IRelayer=FE,Dt.ISignClient=QE,Dt.ISignClientEvents=GE,Dt.IStore=ME,Dt.ISubscriber=qE,Dt.ISubscriberTopicMap=UE});var I2={};at(I2,{safeJsonParse:()=>Xc,safeJsonStringify:()=>Zc});function Xc(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return VH(t)}catch{return t}}function Zc(t){return typeof t=="string"?t:qH(t)||""}var qH,VH,Td=ge(()=>{c();qH=t=>JSON.stringify(t,(e,r)=>typeof r=="bigint"?r.toString()+"n":r),VH=t=>{let e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,r=t.replace(e,'$1"$2n"$3');return JSON.parse(r,(n,i)=>typeof i=="string"&&i.match(/^\d+n$/)?BigInt(i.substring(0,i.length-1)):i)}});var C2=v(xd=>{"use strict";c();Object.defineProperty(xd,"__esModule",{value:!0});xd.BrowserRandomSource=void 0;var S2=65536,WE=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;let e=typeof self<"u"?self.crypto||self.msCrypto:null;e&&e.getRandomValues!==void 0&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");let r=new Uint8Array(e);for(let n=0;n<r.length;n+=S2)this._crypto.getRandomValues(r.subarray(n,n+Math.min(r.length-n,S2)));return r}};xd.BrowserRandomSource=WE});var Cr=v($E=>{"use strict";c();Object.defineProperty($E,"__esModule",{value:!0});function HH(t){for(var e=0;e<t.length;e++)t[e]=0;return t}$E.wipe=HH});var T2=v(()=>{c()});var x2=v(Nd=>{"use strict";c();Object.defineProperty(Nd,"__esModule",{value:!0});Nd.NodeRandomSource=void 0;var jH=Cr(),YE=class{constructor(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof F_<"u"){let e=T2();e&&e.randomBytes&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let r=this._crypto.randomBytes(e);if(r.length!==e)throw new Error("NodeRandomSource: got fewer bytes than requested");let n=new Uint8Array(e);for(let i=0;i<n.length;i++)n[i]=r[i];return(0,jH.wipe)(r),n}};Nd.NodeRandomSource=YE});var N2=v(Dd=>{"use strict";c();Object.defineProperty(Dd,"__esModule",{value:!0});Dd.SystemRandomSource=void 0;var GH=C2(),QH=x2(),JE=class{constructor(){if(this.isAvailable=!1,this.name="",this._source=new GH.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new QH.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(e)}};Dd.SystemRandomSource=JE});var D2=v(ur=>{"use strict";c();Object.defineProperty(ur,"__esModule",{value:!0});function kH(t,e){var r=t>>>16&65535,n=t&65535,i=e>>>16&65535,s=e&65535;return n*s+(r*s+n*i<<16>>>0)|0}ur.mul=Math.imul||kH;function KH(t,e){return t+e|0}ur.add=KH;function zH(t,e){return t-e|0}ur.sub=zH;function WH(t,e){return t<<e|t>>>32-e}ur.rotl=WH;function $H(t,e){return t<<32-e|t>>>e}ur.rotr=$H;function YH(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t}ur.isInteger=Number.isInteger||YH;ur.MAX_SAFE_INTEGER=9007199254740991;ur.isSafeInteger=function(t){return ur.isInteger(t)&&t>=-ur.MAX_SAFE_INTEGER&&t<=ur.MAX_SAFE_INTEGER}});var hu=v(Ne=>{"use strict";c();Object.defineProperty(Ne,"__esModule",{value:!0});var O2=D2();function JH(t,e){return e===void 0&&(e=0),(t[e+0]<<8|t[e+1])<<16>>16}Ne.readInt16BE=JH;function XH(t,e){return e===void 0&&(e=0),(t[e+0]<<8|t[e+1])>>>0}Ne.readUint16BE=XH;function ZH(t,e){return e===void 0&&(e=0),(t[e+1]<<8|t[e])<<16>>16}Ne.readInt16LE=ZH;function ej(t,e){return e===void 0&&(e=0),(t[e+1]<<8|t[e])>>>0}Ne.readUint16LE=ej;function P2(t,e,r){return e===void 0&&(e=new Uint8Array(2)),r===void 0&&(r=0),e[r+0]=t>>>8,e[r+1]=t>>>0,e}Ne.writeUint16BE=P2;Ne.writeInt16BE=P2;function B2(t,e,r){return e===void 0&&(e=new Uint8Array(2)),r===void 0&&(r=0),e[r+0]=t>>>0,e[r+1]=t>>>8,e}Ne.writeUint16LE=B2;Ne.writeInt16LE=B2;function XE(t,e){return e===void 0&&(e=0),t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]}Ne.readInt32BE=XE;function ZE(t,e){return e===void 0&&(e=0),(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}Ne.readUint32BE=ZE;function e1(t,e){return e===void 0&&(e=0),t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]}Ne.readInt32LE=e1;function t1(t,e){return e===void 0&&(e=0),(t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e])>>>0}Ne.readUint32LE=t1;function Od(t,e,r){return e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0),e[r+0]=t>>>24,e[r+1]=t>>>16,e[r+2]=t>>>8,e[r+3]=t>>>0,e}Ne.writeUint32BE=Od;Ne.writeInt32BE=Od;function Pd(t,e,r){return e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0),e[r+0]=t>>>0,e[r+1]=t>>>8,e[r+2]=t>>>16,e[r+3]=t>>>24,e}Ne.writeUint32LE=Pd;Ne.writeInt32LE=Pd;function tj(t,e){e===void 0&&(e=0);var r=XE(t,e),n=XE(t,e+4);return r*4294967296+n-(n>>31)*4294967296}Ne.readInt64BE=tj;function rj(t,e){e===void 0&&(e=0);var r=ZE(t,e),n=ZE(t,e+4);return r*4294967296+n}Ne.readUint64BE=rj;function nj(t,e){e===void 0&&(e=0);var r=e1(t,e),n=e1(t,e+4);return n*4294967296+r-(r>>31)*4294967296}Ne.readInt64LE=nj;function ij(t,e){e===void 0&&(e=0);var r=t1(t,e),n=t1(t,e+4);return n*4294967296+r}Ne.readUint64LE=ij;function R2(t,e,r){return e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0),Od(t/4294967296>>>0,e,r),Od(t>>>0,e,r+4),e}Ne.writeUint64BE=R2;Ne.writeInt64BE=R2;function L2(t,e,r){return e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0),Pd(t>>>0,e,r),Pd(t/4294967296>>>0,e,r+4),e}Ne.writeUint64LE=L2;Ne.writeInt64LE=L2;function sj(t,e,r){if(r===void 0&&(r=0),t%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(t/8>e.length-r)throw new Error("readUintBE: array is too short for the given bitLength");for(var n=0,i=1,s=t/8+r-1;s>=r;s--)n+=e[s]*i,i*=256;return n}Ne.readUintBE=sj;function oj(t,e,r){if(r===void 0&&(r=0),t%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(t/8>e.length-r)throw new Error("readUintLE: array is too short for the given bitLength");for(var n=0,i=1,s=r;s<r+t/8;s++)n+=e[s]*i,i*=256;return n}Ne.readUintLE=oj;function aj(t,e,r,n){if(r===void 0&&(r=new Uint8Array(t/8)),n===void 0&&(n=0),t%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!O2.isSafeInteger(e))throw new Error("writeUintBE value must be an integer");for(var i=1,s=t/8+n-1;s>=n;s--)r[s]=e/i&255,i*=256;return r}Ne.writeUintBE=aj;function uj(t,e,r,n){if(r===void 0&&(r=new Uint8Array(t/8)),n===void 0&&(n=0),t%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!O2.isSafeInteger(e))throw new Error("writeUintLE value must be an integer");for(var i=1,s=n;s<n+t/8;s++)r[s]=e/i&255,i*=256;return r}Ne.writeUintLE=uj;function cj(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat32(e)}Ne.readFloat32BE=cj;function lj(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat32(e,!0)}Ne.readFloat32LE=lj;function fj(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat64(e)}Ne.readFloat64BE=fj;function hj(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat64(e,!0)}Ne.readFloat64LE=hj;function dj(t,e,r){e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat32(r,t),e}Ne.writeFloat32BE=dj;function pj(t,e,r){e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat32(r,t,!0),e}Ne.writeFloat32LE=pj;function gj(t,e,r){e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat64(r,t),e}Ne.writeFloat64BE=gj;function yj(t,e,r){e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat64(r,t,!0),e}Ne.writeFloat64LE=yj});var el=v(Qt=>{"use strict";c();Object.defineProperty(Qt,"__esModule",{value:!0});Qt.randomStringForEntropy=Qt.randomString=Qt.randomUint32=Qt.randomBytes=Qt.defaultRandomSource=void 0;var mj=N2(),wj=hu(),F2=Cr();Qt.defaultRandomSource=new mj.SystemRandomSource;function r1(t,e=Qt.defaultRandomSource){return e.randomBytes(t)}Qt.randomBytes=r1;function Ej(t=Qt.defaultRandomSource){let e=r1(4,t),r=(0,wj.readUint32LE)(e);return(0,F2.wipe)(e),r}Qt.randomUint32=Ej;var M2="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function U2(t,e=M2,r=Qt.defaultRandomSource){if(e.length<2)throw new Error("randomString charset is too short");if(e.length>256)throw new Error("randomString charset is too long");let n="",i=e.length,s=256-256%i;for(;t>0;){let o=r1(Math.ceil(t*256/s),r);for(let a=0;a<o.length&&t>0;a++){let u=o[a];u<s&&(n+=e.charAt(u%i),t--)}(0,F2.wipe)(o)}return n}Qt.randomString=U2;function vj(t,e=M2,r=Qt.defaultRandomSource){let n=Math.ceil(t/(Math.log(e.length)/Math.LN2));return U2(n,e,r)}Qt.randomStringForEntropy=vj});var H2=v(Qn=>{"use strict";c();Object.defineProperty(Qn,"__esModule",{value:!0});var pu=hu(),du=Cr();Qn.DIGEST_LENGTH=64;Qn.BLOCK_SIZE=128;var V2=function(){function t(){this.digestLength=Qn.DIGEST_LENGTH,this.blockSize=Qn.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return t.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},t.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},t.prototype.clean=function(){du.wipe(this._buffer),du.wipe(this._tempHi),du.wipe(this._tempLo),this.reset()},t.prototype.update=function(e,r){if(r===void 0&&(r=e.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var n=0;if(this._bytesHashed+=r,this._bufferLength>0){for(;this._bufferLength<Qn.BLOCK_SIZE&&r>0;)this._buffer[this._bufferLength++]=e[n++],r--;this._bufferLength===this.blockSize&&(n1(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(r>=this.blockSize&&(n=n1(this._tempHi,this._tempLo,this._stateHi,this._stateLo,e,n,r),r%=this.blockSize);r>0;)this._buffer[this._bufferLength++]=e[n++],r--;return this},t.prototype.finish=function(e){if(!this._finished){var r=this._bytesHashed,n=this._bufferLength,i=r/536870912|0,s=r<<3,o=r%128<112?128:256;this._buffer[n]=128;for(var a=n+1;a<o-8;a++)this._buffer[a]=0;pu.writeUint32BE(i,this._buffer,o-8),pu.writeUint32BE(s,this._buffer,o-4),n1(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,o),this._finished=!0}for(var a=0;a<this.digestLength/8;a++)pu.writeUint32BE(this._stateHi[a],e,a*8),pu.writeUint32BE(this._stateLo[a],e,a*8+4);return this},t.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},t.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},t.prototype.restoreState=function(e){return this._stateHi.set(e.stateHi),this._stateLo.set(e.stateLo),this._bufferLength=e.bufferLength,e.buffer&&this._buffer.set(e.buffer),this._bytesHashed=e.bytesHashed,this._finished=!1,this},t.prototype.cleanSavedState=function(e){du.wipe(e.stateHi),du.wipe(e.stateLo),e.buffer&&du.wipe(e.buffer),e.bufferLength=0,e.bytesHashed=0},t}();Qn.SHA512=V2;var q2=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function n1(t,e,r,n,i,s,o){for(var a=r[0],u=r[1],l=r[2],f=r[3],d=r[4],y=r[5],w=r[6],E=r[7],T=n[0],R=n[1],_=n[2],B=n[3],x=n[4],O=n[5],P=n[6],L=n[7],b,C,M,Z,K,j,G,$;o>=128;){for(var de=0;de<16;de++){var ae=8*de+s;t[de]=pu.readUint32BE(i,ae),e[de]=pu.readUint32BE(i,ae+4)}for(var de=0;de<80;de++){var re=a,Y=u,ie=l,te=f,ne=d,q=y,ce=w,oe=E,le=T,se=R,ue=_,g=B,m=x,A=O,D=P,I=L;if(b=E,C=L,K=C&65535,j=C>>>16,G=b&65535,$=b>>>16,b=(d>>>14|x<<32-14)^(d>>>18|x<<32-18)^(x>>>41-32|d<<32-(41-32)),C=(x>>>14|d<<32-14)^(x>>>18|d<<32-18)^(d>>>41-32|x<<32-(41-32)),K+=C&65535,j+=C>>>16,G+=b&65535,$+=b>>>16,b=d&y^~d&w,C=x&O^~x&P,K+=C&65535,j+=C>>>16,G+=b&65535,$+=b>>>16,b=q2[de*2],C=q2[de*2+1],K+=C&65535,j+=C>>>16,G+=b&65535,$+=b>>>16,b=t[de%16],C=e[de%16],K+=C&65535,j+=C>>>16,G+=b&65535,$+=b>>>16,j+=K>>>16,G+=j>>>16,$+=G>>>16,M=G&65535|$<<16,Z=K&65535|j<<16,b=M,C=Z,K=C&65535,j=C>>>16,G=b&65535,$=b>>>16,b=(a>>>28|T<<32-28)^(T>>>34-32|a<<32-(34-32))^(T>>>39-32|a<<32-(39-32)),C=(T>>>28|a<<32-28)^(a>>>34-32|T<<32-(34-32))^(a>>>39-32|T<<32-(39-32)),K+=C&65535,j+=C>>>16,G+=b&65535,$+=b>>>16,b=a&u^a&l^u&l,C=T&R^T&_^R&_,K+=C&65535,j+=C>>>16,G+=b&65535,$+=b>>>16,j+=K>>>16,G+=j>>>16,$+=G>>>16,oe=G&65535|$<<16,I=K&65535|j<<16,b=te,C=g,K=C&65535,j=C>>>16,G=b&65535,$=b>>>16,b=M,C=Z,K+=C&65535,j+=C>>>16,G+=b&65535,$+=b>>>16,j+=K>>>16,G+=j>>>16,$+=G>>>16,te=G&65535|$<<16,g=K&65535|j<<16,u=re,l=Y,f=ie,d=te,y=ne,w=q,E=ce,a=oe,R=le,_=se,B=ue,x=g,O=m,P=A,L=D,T=I,de%16===15)for(var ae=0;ae<16;ae++)b=t[ae],C=e[ae],K=C&65535,j=C>>>16,G=b&65535,$=b>>>16,b=t[(ae+9)%16],C=e[(ae+9)%16],K+=C&65535,j+=C>>>16,G+=b&65535,$+=b>>>16,M=t[(ae+1)%16],Z=e[(ae+1)%16],b=(M>>>1|Z<<32-1)^(M>>>8|Z<<32-8)^M>>>7,C=(Z>>>1|M<<32-1)^(Z>>>8|M<<32-8)^(Z>>>7|M<<32-7),K+=C&65535,j+=C>>>16,G+=b&65535,$+=b>>>16,M=t[(ae+14)%16],Z=e[(ae+14)%16],b=(M>>>19|Z<<32-19)^(Z>>>61-32|M<<32-(61-32))^M>>>6,C=(Z>>>19|M<<32-19)^(M>>>61-32|Z<<32-(61-32))^(Z>>>6|M<<32-6),K+=C&65535,j+=C>>>16,G+=b&65535,$+=b>>>16,j+=K>>>16,G+=j>>>16,$+=G>>>16,t[ae]=G&65535|$<<16,e[ae]=K&65535|j<<16}b=a,C=T,K=C&65535,j=C>>>16,G=b&65535,$=b>>>16,b=r[0],C=n[0],K+=C&65535,j+=C>>>16,G+=b&65535,$+=b>>>16,j+=K>>>16,G+=j>>>16,$+=G>>>16,r[0]=a=G&65535|$<<16,n[0]=T=K&65535|j<<16,b=u,C=R,K=C&65535,j=C>>>16,G=b&65535,$=b>>>16,b=r[1],C=n[1],K+=C&65535,j+=C>>>16,G+=b&65535,$+=b>>>16,j+=K>>>16,G+=j>>>16,$+=G>>>16,r[1]=u=G&65535|$<<16,n[1]=R=K&65535|j<<16,b=l,C=_,K=C&65535,j=C>>>16,G=b&65535,$=b>>>16,b=r[2],C=n[2],K+=C&65535,j+=C>>>16,G+=b&65535,$+=b>>>16,j+=K>>>16,G+=j>>>16,$+=G>>>16,r[2]=l=G&65535|$<<16,n[2]=_=K&65535|j<<16,b=f,C=B,K=C&65535,j=C>>>16,G=b&65535,$=b>>>16,b=r[3],C=n[3],K+=C&65535,j+=C>>>16,G+=b&65535,$+=b>>>16,j+=K>>>16,G+=j>>>16,$+=G>>>16,r[3]=f=G&65535|$<<16,n[3]=B=K&65535|j<<16,b=d,C=x,K=C&65535,j=C>>>16,G=b&65535,$=b>>>16,b=r[4],C=n[4],K+=C&65535,j+=C>>>16,G+=b&65535,$+=b>>>16,j+=K>>>16,G+=j>>>16,$+=G>>>16,r[4]=d=G&65535|$<<16,n[4]=x=K&65535|j<<16,b=y,C=O,K=C&65535,j=C>>>16,G=b&65535,$=b>>>16,b=r[5],C=n[5],K+=C&65535,j+=C>>>16,G+=b&65535,$+=b>>>16,j+=K>>>16,G+=j>>>16,$+=G>>>16,r[5]=y=G&65535|$<<16,n[5]=O=K&65535|j<<16,b=w,C=P,K=C&65535,j=C>>>16,G=b&65535,$=b>>>16,b=r[6],C=n[6],K+=C&65535,j+=C>>>16,G+=b&65535,$+=b>>>16,j+=K>>>16,G+=j>>>16,$+=G>>>16,r[6]=w=G&65535|$<<16,n[6]=P=K&65535|j<<16,b=E,C=L,K=C&65535,j=C>>>16,G=b&65535,$=b>>>16,b=r[7],C=n[7],K+=C&65535,j+=C>>>16,G+=b&65535,$+=b>>>16,j+=K>>>16,G+=j>>>16,$+=G>>>16,r[7]=E=G&65535|$<<16,n[7]=L=K&65535|j<<16,s+=128,o-=128}return s}function Aj(t){var e=new V2;e.update(t);var r=e.digest();return e.clean(),r}Qn.hash=Aj});var tN=v(qe=>{"use strict";c();Object.defineProperty(qe,"__esModule",{value:!0});qe.convertSecretKeyToX25519=qe.convertPublicKeyToX25519=qe.verify=qe.sign=qe.extractPublicKeyFromSecretKey=qe.generateKeyPair=qe.generateKeyPairFromSeed=qe.SEED_LENGTH=qe.SECRET_KEY_LENGTH=qe.PUBLIC_KEY_LENGTH=qe.SIGNATURE_LENGTH=void 0;var _j=el(),tl=H2(),K2=Cr();qe.SIGNATURE_LENGTH=64;qe.PUBLIC_KEY_LENGTH=32;qe.SECRET_KEY_LENGTH=64;qe.SEED_LENGTH=32;function Ee(t){let e=new Float64Array(16);if(t)for(let r=0;r<t.length;r++)e[r]=t[r];return e}var bj=new Uint8Array(32);bj[0]=9;var o1=Ee(),gu=Ee([1]),Ij=Ee([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),Sj=Ee([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),j2=Ee([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),G2=Ee([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),Cj=Ee([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function Pi(t,e){for(let r=0;r<16;r++)t[r]=e[r]|0}function i1(t){let e=1;for(let r=0;r<16;r++){let n=t[r]+e+65535;e=Math.floor(n/65536),t[r]=n-e*65536}t[0]+=e-1+37*(e-1)}function z2(t,e,r){let n=~(r-1);for(let i=0;i<16;i++){let s=n&(t[i]^e[i]);t[i]^=s,e[i]^=s}}function rl(t,e){let r=Ee(),n=Ee();for(let i=0;i<16;i++)n[i]=e[i];i1(n),i1(n),i1(n);for(let i=0;i<2;i++){r[0]=n[0]-65517;for(let o=1;o<15;o++)r[o]=n[o]-65535-(r[o-1]>>16&1),r[o-1]&=65535;r[15]=n[15]-32767-(r[14]>>16&1);let s=r[15]>>16&1;r[14]&=65535,z2(n,r,1-s)}for(let i=0;i<16;i++)t[2*i]=n[i]&255,t[2*i+1]=n[i]>>8}function W2(t,e){let r=0;for(let n=0;n<32;n++)r|=t[n]^e[n];return(1&r-1>>>8)-1}function Q2(t,e){let r=new Uint8Array(32),n=new Uint8Array(32);return rl(r,t),rl(n,e),W2(r,n)}function $2(t){let e=new Uint8Array(32);return rl(e,t),e[0]&1}function Tj(t,e){for(let r=0;r<16;r++)t[r]=e[2*r]+(e[2*r+1]<<8);t[15]&=32767}function no(t,e,r){for(let n=0;n<16;n++)t[n]=e[n]+r[n]}function so(t,e,r){for(let n=0;n<16;n++)t[n]=e[n]-r[n]}function Ge(t,e,r){let n,i,s=0,o=0,a=0,u=0,l=0,f=0,d=0,y=0,w=0,E=0,T=0,R=0,_=0,B=0,x=0,O=0,P=0,L=0,b=0,C=0,M=0,Z=0,K=0,j=0,G=0,$=0,de=0,ae=0,re=0,Y=0,ie=0,te=r[0],ne=r[1],q=r[2],ce=r[3],oe=r[4],le=r[5],se=r[6],ue=r[7],g=r[8],m=r[9],A=r[10],D=r[11],I=r[12],N=r[13],F=r[14],S=r[15];n=e[0],s+=n*te,o+=n*ne,a+=n*q,u+=n*ce,l+=n*oe,f+=n*le,d+=n*se,y+=n*ue,w+=n*g,E+=n*m,T+=n*A,R+=n*D,_+=n*I,B+=n*N,x+=n*F,O+=n*S,n=e[1],o+=n*te,a+=n*ne,u+=n*q,l+=n*ce,f+=n*oe,d+=n*le,y+=n*se,w+=n*ue,E+=n*g,T+=n*m,R+=n*A,_+=n*D,B+=n*I,x+=n*N,O+=n*F,P+=n*S,n=e[2],a+=n*te,u+=n*ne,l+=n*q,f+=n*ce,d+=n*oe,y+=n*le,w+=n*se,E+=n*ue,T+=n*g,R+=n*m,_+=n*A,B+=n*D,x+=n*I,O+=n*N,P+=n*F,L+=n*S,n=e[3],u+=n*te,l+=n*ne,f+=n*q,d+=n*ce,y+=n*oe,w+=n*le,E+=n*se,T+=n*ue,R+=n*g,_+=n*m,B+=n*A,x+=n*D,O+=n*I,P+=n*N,L+=n*F,b+=n*S,n=e[4],l+=n*te,f+=n*ne,d+=n*q,y+=n*ce,w+=n*oe,E+=n*le,T+=n*se,R+=n*ue,_+=n*g,B+=n*m,x+=n*A,O+=n*D,P+=n*I,L+=n*N,b+=n*F,C+=n*S,n=e[5],f+=n*te,d+=n*ne,y+=n*q,w+=n*ce,E+=n*oe,T+=n*le,R+=n*se,_+=n*ue,B+=n*g,x+=n*m,O+=n*A,P+=n*D,L+=n*I,b+=n*N,C+=n*F,M+=n*S,n=e[6],d+=n*te,y+=n*ne,w+=n*q,E+=n*ce,T+=n*oe,R+=n*le,_+=n*se,B+=n*ue,x+=n*g,O+=n*m,P+=n*A,L+=n*D,b+=n*I,C+=n*N,M+=n*F,Z+=n*S,n=e[7],y+=n*te,w+=n*ne,E+=n*q,T+=n*ce,R+=n*oe,_+=n*le,B+=n*se,x+=n*ue,O+=n*g,P+=n*m,L+=n*A,b+=n*D,C+=n*I,M+=n*N,Z+=n*F,K+=n*S,n=e[8],w+=n*te,E+=n*ne,T+=n*q,R+=n*ce,_+=n*oe,B+=n*le,x+=n*se,O+=n*ue,P+=n*g,L+=n*m,b+=n*A,C+=n*D,M+=n*I,Z+=n*N,K+=n*F,j+=n*S,n=e[9],E+=n*te,T+=n*ne,R+=n*q,_+=n*ce,B+=n*oe,x+=n*le,O+=n*se,P+=n*ue,L+=n*g,b+=n*m,C+=n*A,M+=n*D,Z+=n*I,K+=n*N,j+=n*F,G+=n*S,n=e[10],T+=n*te,R+=n*ne,_+=n*q,B+=n*ce,x+=n*oe,O+=n*le,P+=n*se,L+=n*ue,b+=n*g,C+=n*m,M+=n*A,Z+=n*D,K+=n*I,j+=n*N,G+=n*F,$+=n*S,n=e[11],R+=n*te,_+=n*ne,B+=n*q,x+=n*ce,O+=n*oe,P+=n*le,L+=n*se,b+=n*ue,C+=n*g,M+=n*m,Z+=n*A,K+=n*D,j+=n*I,G+=n*N,$+=n*F,de+=n*S,n=e[12],_+=n*te,B+=n*ne,x+=n*q,O+=n*ce,P+=n*oe,L+=n*le,b+=n*se,C+=n*ue,M+=n*g,Z+=n*m,K+=n*A,j+=n*D,G+=n*I,$+=n*N,de+=n*F,ae+=n*S,n=e[13],B+=n*te,x+=n*ne,O+=n*q,P+=n*ce,L+=n*oe,b+=n*le,C+=n*se,M+=n*ue,Z+=n*g,K+=n*m,j+=n*A,G+=n*D,$+=n*I,de+=n*N,ae+=n*F,re+=n*S,n=e[14],x+=n*te,O+=n*ne,P+=n*q,L+=n*ce,b+=n*oe,C+=n*le,M+=n*se,Z+=n*ue,K+=n*g,j+=n*m,G+=n*A,$+=n*D,de+=n*I,ae+=n*N,re+=n*F,Y+=n*S,n=e[15],O+=n*te,P+=n*ne,L+=n*q,b+=n*ce,C+=n*oe,M+=n*le,Z+=n*se,K+=n*ue,j+=n*g,G+=n*m,$+=n*A,de+=n*D,ae+=n*I,re+=n*N,Y+=n*F,ie+=n*S,s+=38*P,o+=38*L,a+=38*b,u+=38*C,l+=38*M,f+=38*Z,d+=38*K,y+=38*j,w+=38*G,E+=38*$,T+=38*de,R+=38*ae,_+=38*re,B+=38*Y,x+=38*ie,i=1,n=s+i+65535,i=Math.floor(n/65536),s=n-i*65536,n=o+i+65535,i=Math.floor(n/65536),o=n-i*65536,n=a+i+65535,i=Math.floor(n/65536),a=n-i*65536,n=u+i+65535,i=Math.floor(n/65536),u=n-i*65536,n=l+i+65535,i=Math.floor(n/65536),l=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=d+i+65535,i=Math.floor(n/65536),d=n-i*65536,n=y+i+65535,i=Math.floor(n/65536),y=n-i*65536,n=w+i+65535,i=Math.floor(n/65536),w=n-i*65536,n=E+i+65535,i=Math.floor(n/65536),E=n-i*65536,n=T+i+65535,i=Math.floor(n/65536),T=n-i*65536,n=R+i+65535,i=Math.floor(n/65536),R=n-i*65536,n=_+i+65535,i=Math.floor(n/65536),_=n-i*65536,n=B+i+65535,i=Math.floor(n/65536),B=n-i*65536,n=x+i+65535,i=Math.floor(n/65536),x=n-i*65536,n=O+i+65535,i=Math.floor(n/65536),O=n-i*65536,s+=i-1+37*(i-1),i=1,n=s+i+65535,i=Math.floor(n/65536),s=n-i*65536,n=o+i+65535,i=Math.floor(n/65536),o=n-i*65536,n=a+i+65535,i=Math.floor(n/65536),a=n-i*65536,n=u+i+65535,i=Math.floor(n/65536),u=n-i*65536,n=l+i+65535,i=Math.floor(n/65536),l=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=d+i+65535,i=Math.floor(n/65536),d=n-i*65536,n=y+i+65535,i=Math.floor(n/65536),y=n-i*65536,n=w+i+65535,i=Math.floor(n/65536),w=n-i*65536,n=E+i+65535,i=Math.floor(n/65536),E=n-i*65536,n=T+i+65535,i=Math.floor(n/65536),T=n-i*65536,n=R+i+65535,i=Math.floor(n/65536),R=n-i*65536,n=_+i+65535,i=Math.floor(n/65536),_=n-i*65536,n=B+i+65535,i=Math.floor(n/65536),B=n-i*65536,n=x+i+65535,i=Math.floor(n/65536),x=n-i*65536,n=O+i+65535,i=Math.floor(n/65536),O=n-i*65536,s+=i-1+37*(i-1),t[0]=s,t[1]=o,t[2]=a,t[3]=u,t[4]=l,t[5]=f,t[6]=d,t[7]=y,t[8]=w,t[9]=E,t[10]=T,t[11]=R,t[12]=_,t[13]=B,t[14]=x,t[15]=O}function io(t,e){Ge(t,e,e)}function Y2(t,e){let r=Ee(),n;for(n=0;n<16;n++)r[n]=e[n];for(n=253;n>=0;n--)io(r,r),n!==2&&n!==4&&Ge(r,r,e);for(n=0;n<16;n++)t[n]=r[n]}function xj(t,e){let r=Ee(),n;for(n=0;n<16;n++)r[n]=e[n];for(n=250;n>=0;n--)io(r,r),n!==1&&Ge(r,r,e);for(n=0;n<16;n++)t[n]=r[n]}function a1(t,e){let r=Ee(),n=Ee(),i=Ee(),s=Ee(),o=Ee(),a=Ee(),u=Ee(),l=Ee(),f=Ee();so(r,t[1],t[0]),so(f,e[1],e[0]),Ge(r,r,f),no(n,t[0],t[1]),no(f,e[0],e[1]),Ge(n,n,f),Ge(i,t[3],e[3]),Ge(i,i,Sj),Ge(s,t[2],e[2]),no(s,s,s),so(o,n,r),so(a,s,i),no(u,s,i),no(l,n,r),Ge(t[0],o,a),Ge(t[1],l,u),Ge(t[2],u,a),Ge(t[3],o,l)}function k2(t,e,r){for(let n=0;n<4;n++)z2(t[n],e[n],r)}function c1(t,e){let r=Ee(),n=Ee(),i=Ee();Y2(i,e[2]),Ge(r,e[0],i),Ge(n,e[1],i),rl(t,n),t[31]^=$2(r)<<7}function J2(t,e,r){Pi(t[0],o1),Pi(t[1],gu),Pi(t[2],gu),Pi(t[3],o1);for(let n=255;n>=0;--n){let i=r[n/8|0]>>(n&7)&1;k2(t,e,i),a1(e,t),a1(t,t),k2(t,e,i)}}function l1(t,e){let r=[Ee(),Ee(),Ee(),Ee()];Pi(r[0],j2),Pi(r[1],G2),Pi(r[2],gu),Ge(r[3],j2,G2),J2(t,r,e)}function X2(t){if(t.length!==qe.SEED_LENGTH)throw new Error(`ed25519: seed must be ${qe.SEED_LENGTH} bytes`);let e=(0,tl.hash)(t);e[0]&=248,e[31]&=127,e[31]|=64;let r=new Uint8Array(32),n=[Ee(),Ee(),Ee(),Ee()];l1(n,e),c1(r,n);let i=new Uint8Array(64);return i.set(t),i.set(r,32),{publicKey:r,secretKey:i}}qe.generateKeyPairFromSeed=X2;function Nj(t){let e=(0,_j.randomBytes)(32,t),r=X2(e);return(0,K2.wipe)(e),r}qe.generateKeyPair=Nj;function Dj(t){if(t.length!==qe.SECRET_KEY_LENGTH)throw new Error(`ed25519: secret key must be ${qe.SECRET_KEY_LENGTH} bytes`);return new Uint8Array(t.subarray(32))}qe.extractPublicKeyFromSecretKey=Dj;var s1=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function Z2(t,e){let r,n,i,s;for(n=63;n>=32;--n){for(r=0,i=n-32,s=n-12;i<s;++i)e[i]+=r-16*e[n]*s1[i-(n-32)],r=Math.floor((e[i]+128)/256),e[i]-=r*256;e[i]+=r,e[n]=0}for(r=0,i=0;i<32;i++)e[i]+=r-(e[31]>>4)*s1[i],r=e[i]>>8,e[i]&=255;for(i=0;i<32;i++)e[i]-=r*s1[i];for(n=0;n<32;n++)e[n+1]+=e[n]>>8,t[n]=e[n]&255}function u1(t){let e=new Float64Array(64);for(let r=0;r<64;r++)e[r]=t[r];for(let r=0;r<64;r++)t[r]=0;Z2(t,e)}function Oj(t,e){let r=new Float64Array(64),n=[Ee(),Ee(),Ee(),Ee()],i=(0,tl.hash)(t.subarray(0,32));i[0]&=248,i[31]&=127,i[31]|=64;let s=new Uint8Array(64);s.set(i.subarray(32),32);let o=new tl.SHA512;o.update(s.subarray(32)),o.update(e);let a=o.digest();o.clean(),u1(a),l1(n,a),c1(s,n),o.reset(),o.update(s.subarray(0,32)),o.update(t.subarray(32)),o.update(e);let u=o.digest();u1(u);for(let l=0;l<32;l++)r[l]=a[l];for(let l=0;l<32;l++)for(let f=0;f<32;f++)r[l+f]+=u[l]*i[f];return Z2(s.subarray(32),r),s}qe.sign=Oj;function eN(t,e){let r=Ee(),n=Ee(),i=Ee(),s=Ee(),o=Ee(),a=Ee(),u=Ee();return Pi(t[2],gu),Tj(t[1],e),io(i,t[1]),Ge(s,i,Ij),so(i,i,t[2]),no(s,t[2],s),io(o,s),io(a,o),Ge(u,a,o),Ge(r,u,i),Ge(r,r,s),xj(r,r),Ge(r,r,i),Ge(r,r,s),Ge(r,r,s),Ge(t[0],r,s),io(n,t[0]),Ge(n,n,s),Q2(n,i)&&Ge(t[0],t[0],Cj),io(n,t[0]),Ge(n,n,s),Q2(n,i)?-1:($2(t[0])===e[31]>>7&&so(t[0],o1,t[0]),Ge(t[3],t[0],t[1]),0)}function Pj(t,e,r){let n=new Uint8Array(32),i=[Ee(),Ee(),Ee(),Ee()],s=[Ee(),Ee(),Ee(),Ee()];if(r.length!==qe.SIGNATURE_LENGTH)throw new Error(`ed25519: signature must be ${qe.SIGNATURE_LENGTH} bytes`);if(eN(s,t))return!1;let o=new tl.SHA512;o.update(r.subarray(0,32)),o.update(t),o.update(e);let a=o.digest();return u1(a),J2(i,s,a),l1(s,r.subarray(32)),a1(i,s),c1(n,i),!W2(r,n)}qe.verify=Pj;function Bj(t){let e=[Ee(),Ee(),Ee(),Ee()];if(eN(e,t))throw new Error("Ed25519: invalid public key");let r=Ee(),n=Ee(),i=e[1];no(r,gu,i),so(n,gu,i),Y2(n,n),Ge(r,r,n);let s=new Uint8Array(32);return rl(s,r),s}qe.convertPublicKeyToX25519=Bj;function Rj(t){let e=(0,tl.hash)(t.subarray(0,32));e[0]&=248,e[31]&=127,e[31]|=64;let r=new Uint8Array(e.subarray(0,32));return(0,K2.wipe)(e),r}qe.convertSecretKeyToX25519=Rj});var Bd,Rd,oo,yu,Ld,nl,Fd,Md,Ud,mu,qd,Vd,rN,nN,Hd=ge(()=>{c();Bd="EdDSA",Rd="JWT",oo=".",yu="base64url",Ld="utf8",nl="utf8",Fd=":",Md="did",Ud="key",mu="base58btc",qd="z",Vd="K36",rN=32,nN=32});function Bi(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}var il=ge(()=>{c()});function wu(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Bi(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}var jd=ge(()=>{c();il()});function Gd(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));let r=wu(e),n=0;for(let i of t)r.set(i,n),n+=i.length;return Bi(r)}var f1=ge(()=>{c();jd();il()});function Lj(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=t.length,u=t.charAt(0),l=Math.log(a)/Math.log(256),f=Math.log(256)/Math.log(a);function d(E){if(E instanceof Uint8Array||(ArrayBuffer.isView(E)?E=new Uint8Array(E.buffer,E.byteOffset,E.byteLength):Array.isArray(E)&&(E=Uint8Array.from(E))),!(E instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(E.length===0)return"";for(var T=0,R=0,_=0,B=E.length;_!==B&&E[_]===0;)_++,T++;for(var x=(B-_)*f+1>>>0,O=new Uint8Array(x);_!==B;){for(var P=E[_],L=0,b=x-1;(P!==0||L<R)&&b!==-1;b--,L++)P+=256*O[b]>>>0,O[b]=P%a>>>0,P=P/a>>>0;if(P!==0)throw new Error("Non-zero carry");R=L,_++}for(var C=x-R;C!==x&&O[C]===0;)C++;for(var M=u.repeat(T);C<x;++C)M+=t.charAt(O[C]);return M}function y(E){if(typeof E!="string")throw new TypeError("Expected String");if(E.length===0)return new Uint8Array;var T=0;if(E[T]!==" "){for(var R=0,_=0;E[T]===u;)R++,T++;for(var B=(E.length-T)*l+1>>>0,x=new Uint8Array(B);E[T];){var O=r[E.charCodeAt(T)];if(O===255)return;for(var P=0,L=B-1;(O!==0||P<_)&&L!==-1;L--,P++)O+=a*x[L]>>>0,x[L]=O%256>>>0,O=O/256>>>0;if(O!==0)throw new Error("Non-zero carry");_=P,T++}if(E[T]!==" "){for(var b=B-_;b!==B&&x[b]===0;)b++;for(var C=new Uint8Array(R+(B-b)),M=R;b!==B;)C[M++]=x[b++];return C}}}function w(E){var T=y(E);if(T)return T;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:y,decode:w}}var Fj,Mj,iN,sN=ge(()=>{c();Fj=Lj,Mj=Fj,iN=Mj});var xse,oN,kn,aN,uN,Ri=ge(()=>{c();xse=new Uint8Array(0),oN=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0},kn=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},aN=t=>new TextEncoder().encode(t),uN=t=>new TextDecoder().decode(t)});var h1,d1,p1,lN,g1,Eu,Li,Uj,qj,ct,Ur=ge(()=>{c();sN();Ri();h1=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},d1=class{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return lN(this,e)}},p1=class{constructor(e){this.decoders=e}or(e){return lN(this,e)}decode(e){let r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},lN=(t,e)=>new p1({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}}),g1=class{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new h1(e,r,n),this.decoder=new d1(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},Eu=({name:t,prefix:e,encode:r,decode:n})=>new g1(t,e,r,n),Li=({prefix:t,name:e,alphabet:r})=>{let{encode:n,decode:i}=iN(r,e);return Eu({prefix:t,name:e,encode:n,decode:s=>kn(i(s))})},Uj=(t,e,r,n)=>{let i={};for(let f=0;f<e.length;++f)i[e[f]]=f;let s=t.length;for(;t[s-1]==="=";)--s;let o=new Uint8Array(s*r/8|0),a=0,u=0,l=0;for(let f=0;f<s;++f){let d=i[t[f]];if(d===void 0)throw new SyntaxError(`Non-${n} character`);u=u<<r|d,a+=r,a>=8&&(a-=8,o[l++]=255&u>>a)}if(a>=r||255&u<<8-a)throw new SyntaxError("Unexpected end of data");return o},qj=(t,e,r)=>{let n=e[e.length-1]==="=",i=(1<<r)-1,s="",o=0,a=0;for(let u=0;u<t.length;++u)for(a=a<<8|t[u],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},ct=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>Eu({prefix:e,name:t,encode(i){return qj(i,n,r)},decode(i){return Uj(i,n,r,t)}})});var y1={};at(y1,{identity:()=>Vj});var Vj,fN=ge(()=>{c();Ur();Ri();Vj=Eu({prefix:"\0",name:"identity",encode:t=>uN(t),decode:t=>aN(t)})});var m1={};at(m1,{base2:()=>Hj});var Hj,hN=ge(()=>{c();Ur();Hj=ct({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1})});var w1={};at(w1,{base8:()=>jj});var jj,dN=ge(()=>{c();Ur();jj=ct({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3})});var E1={};at(E1,{base10:()=>Gj});var Gj,pN=ge(()=>{c();Ur();Gj=Li({prefix:"9",name:"base10",alphabet:"0123456789"})});var v1={};at(v1,{base16:()=>Qj,base16upper:()=>kj});var Qj,kj,gN=ge(()=>{c();Ur();Qj=ct({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),kj=ct({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4})});var A1={};at(A1,{base32:()=>vu,base32hex:()=>$j,base32hexpad:()=>Jj,base32hexpadupper:()=>Xj,base32hexupper:()=>Yj,base32pad:()=>zj,base32padupper:()=>Wj,base32upper:()=>Kj,base32z:()=>Zj});var vu,Kj,zj,Wj,$j,Yj,Jj,Xj,Zj,_1=ge(()=>{c();Ur();vu=ct({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Kj=ct({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),zj=ct({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Wj=ct({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),$j=ct({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Yj=ct({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Jj=ct({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Xj=ct({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Zj=ct({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})});var b1={};at(b1,{base36:()=>e7,base36upper:()=>t7});var e7,t7,yN=ge(()=>{c();Ur();e7=Li({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),t7=Li({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})});var I1={};at(I1,{base58btc:()=>wn,base58flickr:()=>r7});var wn,r7,S1=ge(()=>{c();Ur();wn=Li({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),r7=Li({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})});var C1={};at(C1,{base64:()=>n7,base64pad:()=>i7,base64url:()=>s7,base64urlpad:()=>o7});var n7,i7,s7,o7,mN=ge(()=>{c();Ur();n7=ct({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),i7=ct({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),s7=ct({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),o7=ct({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})});var T1={};at(T1,{base256emoji:()=>f7});function c7(t){return t.reduce((e,r)=>(e+=a7[r],e),"")}function l7(t){let e=[];for(let r of t){let n=u7[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}var wN,a7,u7,f7,EN=ge(()=>{c();Ur();wN=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),a7=wN.reduce((t,e,r)=>(t[r]=e,t),[]),u7=wN.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);f7=Eu({prefix:"\u{1F680}",name:"base256emoji",encode:c7,decode:l7})});function _N(t,e,r){e=e||[],r=r||0;for(var n=r;t>=g7;)e[r++]=t&255|vN,t/=128;for(;t&p7;)e[r++]=t&255|vN,t>>>=7;return e[r]=t|0,_N.bytes=r-n+1,e}function x1(t,n){var r=0,n=n||0,i=0,s=n,o,a=t.length;do{if(s>=a)throw x1.bytes=0,new RangeError("Could not decode varint");o=t[s++],r+=i<28?(o&AN)<<i:(o&AN)*Math.pow(2,i),i+=7}while(o>=m7);return x1.bytes=s-n,r}var h7,vN,d7,p7,g7,y7,m7,AN,w7,E7,v7,A7,_7,b7,I7,S7,C7,T7,x7,N7,sl,bN=ge(()=>{c();h7=_N,vN=128,d7=127,p7=~d7,g7=Math.pow(2,31);y7=x1,m7=128,AN=127;w7=Math.pow(2,7),E7=Math.pow(2,14),v7=Math.pow(2,21),A7=Math.pow(2,28),_7=Math.pow(2,35),b7=Math.pow(2,42),I7=Math.pow(2,49),S7=Math.pow(2,56),C7=Math.pow(2,63),T7=function(t){return t<w7?1:t<E7?2:t<v7?3:t<A7?4:t<_7?5:t<b7?6:t<I7?7:t<S7?8:t<C7?9:10},x7={encode:h7,decode:y7,encodingLength:T7},N7=x7,sl=N7});var ol,Au,_u,kd=ge(()=>{c();bN();ol=(t,e=0)=>[sl.decode(t,e),sl.decode.bytes],Au=(t,e,r=0)=>(sl.encode(t,e,r),e),_u=t=>sl.encodingLength(t)});var ao,IN,SN,bu,ul=ge(()=>{c();Ri();kd();ao=(t,e)=>{let r=e.byteLength,n=_u(t),i=n+_u(r),s=new Uint8Array(i+r);return Au(t,s,0),Au(r,s,n),s.set(e,i),new bu(t,r,e,s)},IN=t=>{let e=kn(t),[r,n]=ol(e),[i,s]=ol(e.subarray(n)),o=e.subarray(n+s);if(o.byteLength!==i)throw new Error("Incorrect length");return new bu(r,i,o,e)},SN=(t,e)=>t===e?!0:t.code===e.code&&t.size===e.size&&oN(t.bytes,e.bytes),bu=class{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}}});var D1,N1,O1=ge(()=>{c();ul();D1=({name:t,code:e,encode:r})=>new N1(t,e,r),N1=class{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){let r=this.encode(e);return r instanceof Uint8Array?ao(this.code,r):r.then(n=>ao(this.code,n))}else throw Error("Unknown type, must be binary type")}}});var P1={};at(P1,{sha256:()=>D7,sha512:()=>O7});var TN,D7,O7,xN=ge(()=>{c();O1();TN=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),D7=D1({name:"sha2-256",code:18,encode:TN("SHA-256")}),O7=D1({name:"sha2-512",code:19,encode:TN("SHA-512")})});var B1={};at(B1,{identity:()=>R7});var NN,P7,DN,B7,R7,ON=ge(()=>{c();Ri();ul();NN=0,P7="identity",DN=kn,B7=t=>ao(NN,DN(t)),R7={code:NN,name:P7,encode:DN,digest:B7}});var PN=ge(()=>{c();Ri()});var poe,goe,BN=ge(()=>{c();poe=new TextEncoder,goe=new TextDecoder});var bt,M7,U7,q7,cl,V7,RN,LN,Kd,zd,H7,j7,G7,FN=ge(()=>{c();kd();ul();S1();_1();Ri();bt=class{constructor(e,r,n,i){this.code=r,this.version=e,this.multihash=n,this.bytes=i,this.byteOffset=i.byteOffset,this.byteLength=i.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:zd,byteLength:zd,code:Kd,version:Kd,multihash:Kd,bytes:Kd,_baseCache:zd,asCID:zd})}toV0(){switch(this.version){case 0:return this;default:{let{code:e,multihash:r}=this;if(e!==cl)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==V7)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return bt.createV0(r)}}}toV1(){switch(this.version){case 0:{let{code:e,digest:r}=this.multihash,n=ao(e,r);return bt.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&SN(this.multihash,e.multihash)}toString(e){let{bytes:r,version:n,_baseCache:i}=this;switch(n){case 0:return U7(r,i,e||wn.encoder);default:return q7(r,i,e||vu.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return j7(/^0\.0/,G7),!!(e&&(e[LN]||e.asCID===e))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof bt)return e;if(e!=null&&e.asCID===e){let{version:r,code:n,multihash:i,bytes:s}=e;return new bt(r,n,i,s||RN(r,n,i.bytes))}else if(e!=null&&e[LN]===!0){let{version:r,multihash:n,code:i}=e,s=IN(n);return bt.create(r,i,s)}else return null}static create(e,r,n){if(typeof r!="number")throw new Error("String codecs are no longer supported");switch(e){case 0:{if(r!==cl)throw new Error(`Version 0 CID must use dag-pb (code: ${cl}) block encoding`);return new bt(e,r,n,n.bytes)}case 1:{let i=RN(e,r,n.bytes);return new bt(e,r,n,i)}default:throw new Error("Invalid version")}}static createV0(e){return bt.create(0,cl,e)}static createV1(e,r){return bt.create(1,e,r)}static decode(e){let[r,n]=bt.decodeFirst(e);if(n.length)throw new Error("Incorrect length");return r}static decodeFirst(e){let r=bt.inspectBytes(e),n=r.size-r.multihashSize,i=kn(e.subarray(n,n+r.multihashSize));if(i.byteLength!==r.multihashSize)throw new Error("Incorrect length");let s=i.subarray(r.multihashSize-r.digestSize),o=new bu(r.multihashCode,r.digestSize,s,i);return[r.version===0?bt.createV0(o):bt.createV1(r.codec,o),e.subarray(r.size)]}static inspectBytes(e){let r=0,n=()=>{let[d,y]=ol(e.subarray(r));return r+=y,d},i=n(),s=cl;if(i===18?(i=0,r=0):i===1&&(s=n()),i!==0&&i!==1)throw new RangeError(`Invalid CID version ${i}`);let o=r,a=n(),u=n(),l=r+u,f=l-o;return{version:i,codec:s,multihashCode:a,digestSize:u,multihashSize:f,size:l}}static parse(e,r){let[n,i]=M7(e,r),s=bt.decode(i);return s._baseCache.set(n,e),s}},M7=(t,e)=>{switch(t[0]){case"Q":{let r=e||wn;return[wn.prefix,r.decode(`${wn.prefix}${t}`)]}case wn.prefix:{let r=e||wn;return[wn.prefix,r.decode(t)]}case vu.prefix:{let r=e||vu;return[vu.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}},U7=(t,e,r)=>{let{prefix:n}=r;if(n!==wn.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let i=e.get(n);if(i==null){let s=r.encode(t).slice(1);return e.set(n,s),s}else return i},q7=(t,e,r)=>{let{prefix:n}=r,i=e.get(n);if(i==null){let s=r.encode(t);return e.set(n,s),s}else return i},cl=112,V7=18,RN=(t,e,r)=>{let n=_u(t),i=n+_u(e),s=new Uint8Array(i+r.byteLength);return Au(t,s,0),Au(e,s,n),s.set(r,i),s},LN=Symbol.for("@ipld/js-cid/CID"),Kd={writable:!1,configurable:!1,enumerable:!0},zd={writable:!1,enumerable:!1,configurable:!1},H7="0.0.0-dev",j7=(t,e)=>{if(t.test(H7))console.warn(e);else throw new Error(e)},G7=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`});var MN=ge(()=>{c();FN();kd();Ri();O1();ul()});var R1,Coe,UN=ge(()=>{c();fN();hN();dN();pN();gN();_1();yN();S1();mN();EN();xN();ON();PN();BN();MN();R1={...y1,...m1,...w1,...E1,...v1,...A1,...b1,...I1,...C1,...T1},Coe={...P1,...B1}});function VN(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}var qN,L1,Q7,Wd,F1=ge(()=>{c();UN();jd();qN=VN("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),L1=VN("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);let e=wu(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),Q7={utf8:qN,"utf-8":qN,hex:R1.base16,latin1:L1,ascii:L1,binary:L1,...R1},Wd=Q7});function Kn(t,e="utf8"){let r=Wd[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}var M1=ge(()=>{c();F1()});function En(t,e="utf8"){let r=Wd[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Bi(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}var U1=ge(()=>{c();F1();il()});function ll(t){return Xc(Kn(En(t,yu),Ld))}function fl(t){return Kn(En(Zc(t),Ld),yu)}function q1(t){let e=En(Vd,mu),r=qd+Kn(Gd([e,t]),mu);return[Md,Ud,r].join(Fd)}function V1(t){let[e,r,n]=t.split(Fd);if(e!==Md||r!==Ud)throw new Error('Issuer must be a DID with method "key"');if(n.slice(0,1)!==qd)throw new Error("Issuer must be a key in mulicodec format");let s=En(n.slice(1),mu);if(Kn(s.slice(0,2),mu)!==Vd)throw new Error('Issuer must be a public key with type "Ed25519"');let a=s.slice(2);if(a.length!==32)throw new Error("Issuer must be a public key with length 32 bytes");return a}function HN(t){return Kn(t,yu)}function jN(t){return En(t,yu)}function H1(t){return En([fl(t.header),fl(t.payload)].join(oo),nl)}function k7(t){let e=Kn(t,nl).split(oo),r=ll(e[0]),n=ll(e[1]);return{header:r,payload:n}}function j1(t){return[fl(t.header),fl(t.payload),HN(t.signature)].join(oo)}function G1(t){let e=t.split(oo),r=ll(e[0]),n=ll(e[1]),i=jN(e[2]),s=En(e.slice(0,2).join(oo),nl);return{header:r,payload:n,signature:i,data:s}}var Q1=ge(()=>{c();f1();M1();U1();Td();Hd()});function K7(t=(0,GN.randomBytes)(32)){return Iu.generateKeyPairFromSeed(t)}async function z7(t,e,r,n,i=(0,QN.fromMiliseconds)(Date.now())){let s={alg:Bd,typ:Rd},o=q1(n.publicKey),a=i+r,u={iss:o,sub:t,aud:e,iat:i,exp:a},l=H1({header:s,payload:u}),f=Iu.sign(n.secretKey,l);return j1({header:s,payload:u,signature:f})}async function W7(t){let{header:e,payload:r,data:n,signature:i}=G1(t);if(e.alg!==Bd||e.typ!==Rd)throw new Error("JWT must use EdDSA algorithm");let s=V1(r.iss);return Iu.verify(s,n,i)}var Iu,GN,QN,kN=ge(()=>{c();Iu=be(tN()),GN=be(el()),QN=be(ro());Hd();Q1()});var KN=ge(()=>{c()});var zN={};at(zN,{DATA_ENCODING:()=>nl,DID_DELIMITER:()=>Fd,DID_METHOD:()=>Ud,DID_PREFIX:()=>Md,JSON_ENCODING:()=>Ld,JWT_DELIMITER:()=>oo,JWT_ENCODING:()=>yu,JWT_IRIDIUM_ALG:()=>Bd,JWT_IRIDIUM_TYP:()=>Rd,KEY_PAIR_SEED_LENGTH:()=>nN,MULTICODEC_ED25519_BASE:()=>qd,MULTICODEC_ED25519_ENCODING:()=>mu,MULTICODEC_ED25519_HEADER:()=>Vd,MULTICODEC_ED25519_LENGTH:()=>rN,decodeData:()=>k7,decodeIss:()=>V1,decodeJSON:()=>ll,decodeJWT:()=>G1,decodeSig:()=>jN,encodeData:()=>H1,encodeIss:()=>q1,encodeJSON:()=>fl,encodeJWT:()=>j1,encodeSig:()=>HN,generateKeyPair:()=>K7,signJWT:()=>z7,verifyJWT:()=>W7});var WN=ge(()=>{c();kN();Hd();KN();Q1()});var YN=v($d=>{"use strict";c();Object.defineProperty($d,"__esModule",{value:!0});var kt=hu(),k1=Cr(),$7=20;function Y7(t,e,r){for(var n=1634760805,i=857760878,s=2036477234,o=1797285236,a=r[3]<<24|r[2]<<16|r[1]<<8|r[0],u=r[7]<<24|r[6]<<16|r[5]<<8|r[4],l=r[11]<<24|r[10]<<16|r[9]<<8|r[8],f=r[15]<<24|r[14]<<16|r[13]<<8|r[12],d=r[19]<<24|r[18]<<16|r[17]<<8|r[16],y=r[23]<<24|r[22]<<16|r[21]<<8|r[20],w=r[27]<<24|r[26]<<16|r[25]<<8|r[24],E=r[31]<<24|r[30]<<16|r[29]<<8|r[28],T=e[3]<<24|e[2]<<16|e[1]<<8|e[0],R=e[7]<<24|e[6]<<16|e[5]<<8|e[4],_=e[11]<<24|e[10]<<16|e[9]<<8|e[8],B=e[15]<<24|e[14]<<16|e[13]<<8|e[12],x=n,O=i,P=s,L=o,b=a,C=u,M=l,Z=f,K=d,j=y,G=w,$=E,de=T,ae=R,re=_,Y=B,ie=0;ie<$7;ie+=2)x=x+b|0,de^=x,de=de>>>32-16|de<<16,K=K+de|0,b^=K,b=b>>>32-12|b<<12,O=O+C|0,ae^=O,ae=ae>>>32-16|ae<<16,j=j+ae|0,C^=j,C=C>>>32-12|C<<12,P=P+M|0,re^=P,re=re>>>32-16|re<<16,G=G+re|0,M^=G,M=M>>>32-12|M<<12,L=L+Z|0,Y^=L,Y=Y>>>32-16|Y<<16,$=$+Y|0,Z^=$,Z=Z>>>32-12|Z<<12,P=P+M|0,re^=P,re=re>>>32-8|re<<8,G=G+re|0,M^=G,M=M>>>32-7|M<<7,L=L+Z|0,Y^=L,Y=Y>>>32-8|Y<<8,$=$+Y|0,Z^=$,Z=Z>>>32-7|Z<<7,O=O+C|0,ae^=O,ae=ae>>>32-8|ae<<8,j=j+ae|0,C^=j,C=C>>>32-7|C<<7,x=x+b|0,de^=x,de=de>>>32-8|de<<8,K=K+de|0,b^=K,b=b>>>32-7|b<<7,x=x+C|0,Y^=x,Y=Y>>>32-16|Y<<16,G=G+Y|0,C^=G,C=C>>>32-12|C<<12,O=O+M|0,de^=O,de=de>>>32-16|de<<16,$=$+de|0,M^=$,M=M>>>32-12|M<<12,P=P+Z|0,ae^=P,ae=ae>>>32-16|ae<<16,K=K+ae|0,Z^=K,Z=Z>>>32-12|Z<<12,L=L+b|0,re^=L,re=re>>>32-16|re<<16,j=j+re|0,b^=j,b=b>>>32-12|b<<12,P=P+Z|0,ae^=P,ae=ae>>>32-8|ae<<8,K=K+ae|0,Z^=K,Z=Z>>>32-7|Z<<7,L=L+b|0,re^=L,re=re>>>32-8|re<<8,j=j+re|0,b^=j,b=b>>>32-7|b<<7,O=O+M|0,de^=O,de=de>>>32-8|de<<8,$=$+de|0,M^=$,M=M>>>32-7|M<<7,x=x+C|0,Y^=x,Y=Y>>>32-8|Y<<8,G=G+Y|0,C^=G,C=C>>>32-7|C<<7;kt.writeUint32LE(x+n|0,t,0),kt.writeUint32LE(O+i|0,t,4),kt.writeUint32LE(P+s|0,t,8),kt.writeUint32LE(L+o|0,t,12),kt.writeUint32LE(b+a|0,t,16),kt.writeUint32LE(C+u|0,t,20),kt.writeUint32LE(M+l|0,t,24),kt.writeUint32LE(Z+f|0,t,28),kt.writeUint32LE(K+d|0,t,32),kt.writeUint32LE(j+y|0,t,36),kt.writeUint32LE(G+w|0,t,40),kt.writeUint32LE($+E|0,t,44),kt.writeUint32LE(de+T|0,t,48),kt.writeUint32LE(ae+R|0,t,52),kt.writeUint32LE(re+_|0,t,56),kt.writeUint32LE(Y+B|0,t,60)}function $N(t,e,r,n,i){if(i===void 0&&(i=0),t.length!==32)throw new Error("ChaCha: key size must be 32 bytes");if(n.length<r.length)throw new Error("ChaCha: destination is shorter than source");var s,o;if(i===0){if(e.length!==8&&e.length!==12)throw new Error("ChaCha nonce must be 8 or 12 bytes");s=new Uint8Array(16),o=s.length-e.length,s.set(e,o)}else{if(e.length!==16)throw new Error("ChaCha nonce with counter must be 16 bytes");s=e,o=i}for(var a=new Uint8Array(64),u=0;u<r.length;u+=64){Y7(a,s,t);for(var l=u;l<u+64&&l<r.length;l++)n[l]=r[l]^a[l-u];X7(s,0,o)}return k1.wipe(a),i===0&&k1.wipe(s),n}$d.streamXOR=$N;function J7(t,e,r,n){return n===void 0&&(n=0),k1.wipe(r),$N(t,e,r,r,n)}$d.stream=J7;function X7(t,e,r){for(var n=1;r--;)n=n+(t[e]&255)|0,t[e]=n&255,n>>>=8,e++;if(n>0)throw new Error("ChaCha: counter overflow")}});var Yd=v(Su=>{"use strict";c();Object.defineProperty(Su,"__esModule",{value:!0});function Z7(t,e,r){return~(t-1)&e|t-1&r}Su.select=Z7;function eG(t,e){return(t|0)-(e|0)-1>>>31&1}Su.lessOrEqual=eG;function JN(t,e){if(t.length!==e.length)return 0;for(var r=0,n=0;n<t.length;n++)r|=t[n]^e[n];return 1&r-1>>>8}Su.compare=JN;function tG(t,e){return t.length===0||e.length===0?!1:JN(t,e)!==0}Su.equal=tG});var ZN=v(zn=>{"use strict";c();Object.defineProperty(zn,"__esModule",{value:!0});var rG=Yd(),Jd=Cr();zn.DIGEST_LENGTH=16;var XN=function(){function t(e){this.digestLength=zn.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var r=e[0]|e[1]<<8;this._r[0]=r&8191;var n=e[2]|e[3]<<8;this._r[1]=(r>>>13|n<<3)&8191;var i=e[4]|e[5]<<8;this._r[2]=(n>>>10|i<<6)&7939;var s=e[6]|e[7]<<8;this._r[3]=(i>>>7|s<<9)&8191;var o=e[8]|e[9]<<8;this._r[4]=(s>>>4|o<<12)&255,this._r[5]=o>>>1&8190;var a=e[10]|e[11]<<8;this._r[6]=(o>>>14|a<<2)&8191;var u=e[12]|e[13]<<8;this._r[7]=(a>>>11|u<<5)&8065;var l=e[14]|e[15]<<8;this._r[8]=(u>>>8|l<<8)&8191,this._r[9]=l>>>5&127,this._pad[0]=e[16]|e[17]<<8,this._pad[1]=e[18]|e[19]<<8,this._pad[2]=e[20]|e[21]<<8,this._pad[3]=e[22]|e[23]<<8,this._pad[4]=e[24]|e[25]<<8,this._pad[5]=e[26]|e[27]<<8,this._pad[6]=e[28]|e[29]<<8,this._pad[7]=e[30]|e[31]<<8}return t.prototype._blocks=function(e,r,n){for(var i=this._fin?0:2048,s=this._h[0],o=this._h[1],a=this._h[2],u=this._h[3],l=this._h[4],f=this._h[5],d=this._h[6],y=this._h[7],w=this._h[8],E=this._h[9],T=this._r[0],R=this._r[1],_=this._r[2],B=this._r[3],x=this._r[4],O=this._r[5],P=this._r[6],L=this._r[7],b=this._r[8],C=this._r[9];n>=16;){var M=e[r+0]|e[r+1]<<8;s+=M&8191;var Z=e[r+2]|e[r+3]<<8;o+=(M>>>13|Z<<3)&8191;var K=e[r+4]|e[r+5]<<8;a+=(Z>>>10|K<<6)&8191;var j=e[r+6]|e[r+7]<<8;u+=(K>>>7|j<<9)&8191;var G=e[r+8]|e[r+9]<<8;l+=(j>>>4|G<<12)&8191,f+=G>>>1&8191;var $=e[r+10]|e[r+11]<<8;d+=(G>>>14|$<<2)&8191;var de=e[r+12]|e[r+13]<<8;y+=($>>>11|de<<5)&8191;var ae=e[r+14]|e[r+15]<<8;w+=(de>>>8|ae<<8)&8191,E+=ae>>>5|i;var re=0,Y=re;Y+=s*T,Y+=o*(5*C),Y+=a*(5*b),Y+=u*(5*L),Y+=l*(5*P),re=Y>>>13,Y&=8191,Y+=f*(5*O),Y+=d*(5*x),Y+=y*(5*B),Y+=w*(5*_),Y+=E*(5*R),re+=Y>>>13,Y&=8191;var ie=re;ie+=s*R,ie+=o*T,ie+=a*(5*C),ie+=u*(5*b),ie+=l*(5*L),re=ie>>>13,ie&=8191,ie+=f*(5*P),ie+=d*(5*O),ie+=y*(5*x),ie+=w*(5*B),ie+=E*(5*_),re+=ie>>>13,ie&=8191;var te=re;te+=s*_,te+=o*R,te+=a*T,te+=u*(5*C),te+=l*(5*b),re=te>>>13,te&=8191,te+=f*(5*L),te+=d*(5*P),te+=y*(5*O),te+=w*(5*x),te+=E*(5*B),re+=te>>>13,te&=8191;var ne=re;ne+=s*B,ne+=o*_,ne+=a*R,ne+=u*T,ne+=l*(5*C),re=ne>>>13,ne&=8191,ne+=f*(5*b),ne+=d*(5*L),ne+=y*(5*P),ne+=w*(5*O),ne+=E*(5*x),re+=ne>>>13,ne&=8191;var q=re;q+=s*x,q+=o*B,q+=a*_,q+=u*R,q+=l*T,re=q>>>13,q&=8191,q+=f*(5*C),q+=d*(5*b),q+=y*(5*L),q+=w*(5*P),q+=E*(5*O),re+=q>>>13,q&=8191;var ce=re;ce+=s*O,ce+=o*x,ce+=a*B,ce+=u*_,ce+=l*R,re=ce>>>13,ce&=8191,ce+=f*T,ce+=d*(5*C),ce+=y*(5*b),ce+=w*(5*L),ce+=E*(5*P),re+=ce>>>13,ce&=8191;var oe=re;oe+=s*P,oe+=o*O,oe+=a*x,oe+=u*B,oe+=l*_,re=oe>>>13,oe&=8191,oe+=f*R,oe+=d*T,oe+=y*(5*C),oe+=w*(5*b),oe+=E*(5*L),re+=oe>>>13,oe&=8191;var le=re;le+=s*L,le+=o*P,le+=a*O,le+=u*x,le+=l*B,re=le>>>13,le&=8191,le+=f*_,le+=d*R,le+=y*T,le+=w*(5*C),le+=E*(5*b),re+=le>>>13,le&=8191;var se=re;se+=s*b,se+=o*L,se+=a*P,se+=u*O,se+=l*x,re=se>>>13,se&=8191,se+=f*B,se+=d*_,se+=y*R,se+=w*T,se+=E*(5*C),re+=se>>>13,se&=8191;var ue=re;ue+=s*C,ue+=o*b,ue+=a*L,ue+=u*P,ue+=l*O,re=ue>>>13,ue&=8191,ue+=f*x,ue+=d*B,ue+=y*_,ue+=w*R,ue+=E*T,re+=ue>>>13,ue&=8191,re=(re<<2)+re|0,re=re+Y|0,Y=re&8191,re=re>>>13,ie+=re,s=Y,o=ie,a=te,u=ne,l=q,f=ce,d=oe,y=le,w=se,E=ue,r+=16,n-=16}this._h[0]=s,this._h[1]=o,this._h[2]=a,this._h[3]=u,this._h[4]=l,this._h[5]=f,this._h[6]=d,this._h[7]=y,this._h[8]=w,this._h[9]=E},t.prototype.finish=function(e,r){r===void 0&&(r=0);var n=new Uint16Array(10),i,s,o,a;if(this._leftover){for(a=this._leftover,this._buffer[a++]=1;a<16;a++)this._buffer[a]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(i=this._h[1]>>>13,this._h[1]&=8191,a=2;a<10;a++)this._h[a]+=i,i=this._h[a]>>>13,this._h[a]&=8191;for(this._h[0]+=i*5,i=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=i,i=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=i,n[0]=this._h[0]+5,i=n[0]>>>13,n[0]&=8191,a=1;a<10;a++)n[a]=this._h[a]+i,i=n[a]>>>13,n[a]&=8191;for(n[9]-=8192,s=(i^1)-1,a=0;a<10;a++)n[a]&=s;for(s=~s,a=0;a<10;a++)this._h[a]=this._h[a]&s|n[a];for(this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,o=this._h[0]+this._pad[0],this._h[0]=o&65535,a=1;a<8;a++)o=(this._h[a]+this._pad[a]|0)+(o>>>16)|0,this._h[a]=o&65535;return e[r+0]=this._h[0]>>>0,e[r+1]=this._h[0]>>>8,e[r+2]=this._h[1]>>>0,e[r+3]=this._h[1]>>>8,e[r+4]=this._h[2]>>>0,e[r+5]=this._h[2]>>>8,e[r+6]=this._h[3]>>>0,e[r+7]=this._h[3]>>>8,e[r+8]=this._h[4]>>>0,e[r+9]=this._h[4]>>>8,e[r+10]=this._h[5]>>>0,e[r+11]=this._h[5]>>>8,e[r+12]=this._h[6]>>>0,e[r+13]=this._h[6]>>>8,e[r+14]=this._h[7]>>>0,e[r+15]=this._h[7]>>>8,this._finished=!0,this},t.prototype.update=function(e){var r=0,n=e.length,i;if(this._leftover){i=16-this._leftover,i>n&&(i=n);for(var s=0;s<i;s++)this._buffer[this._leftover+s]=e[r+s];if(n-=i,r+=i,this._leftover+=i,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(n>=16&&(i=n-n%16,this._blocks(e,r,i),r+=i,n-=i),n){for(var s=0;s<n;s++)this._buffer[this._leftover+s]=e[r+s];this._leftover+=n}return this},t.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var e=new Uint8Array(16);return this.finish(e),e},t.prototype.clean=function(){return Jd.wipe(this._buffer),Jd.wipe(this._r),Jd.wipe(this._h),Jd.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},t}();zn.Poly1305=XN;function nG(t,e){var r=new XN(t);r.update(e);var n=r.digest();return r.clean(),n}zn.oneTimeAuth=nG;function iG(t,e){return t.length!==zn.DIGEST_LENGTH||e.length!==zn.DIGEST_LENGTH?!1:rG.equal(t,e)}zn.equal=iG});var rD=v(Wn=>{"use strict";c();Object.defineProperty(Wn,"__esModule",{value:!0});var Xd=YN(),sG=ZN(),hl=Cr(),eD=hu(),oG=Yd();Wn.KEY_LENGTH=32;Wn.NONCE_LENGTH=12;Wn.TAG_LENGTH=16;var tD=new Uint8Array(16),aG=function(){function t(e){if(this.nonceLength=Wn.NONCE_LENGTH,this.tagLength=Wn.TAG_LENGTH,e.length!==Wn.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(e)}return t.prototype.seal=function(e,r,n,i){if(e.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var s=new Uint8Array(16);s.set(e,s.length-e.length);var o=new Uint8Array(32);Xd.stream(this._key,s,o,4);var a=r.length+this.tagLength,u;if(i){if(i.length!==a)throw new Error("ChaCha20Poly1305: incorrect destination length");u=i}else u=new Uint8Array(a);return Xd.streamXOR(this._key,s,r,u,4),this._authenticate(u.subarray(u.length-this.tagLength,u.length),o,u.subarray(0,u.length-this.tagLength),n),hl.wipe(s),u},t.prototype.open=function(e,r,n,i){if(e.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(r.length<this.tagLength)return null;var s=new Uint8Array(16);s.set(e,s.length-e.length);var o=new Uint8Array(32);Xd.stream(this._key,s,o,4);var a=new Uint8Array(this.tagLength);if(this._authenticate(a,o,r.subarray(0,r.length-this.tagLength),n),!oG.equal(a,r.subarray(r.length-this.tagLength,r.length)))return null;var u=r.length-this.tagLength,l;if(i){if(i.length!==u)throw new Error("ChaCha20Poly1305: incorrect destination length");l=i}else l=new Uint8Array(u);return Xd.streamXOR(this._key,s,r.subarray(0,r.length-this.tagLength),l,4),hl.wipe(s),l},t.prototype.clean=function(){return hl.wipe(this._key),this},t.prototype._authenticate=function(e,r,n,i){var s=new sG.Poly1305(r);i&&(s.update(i),i.length%16>0&&s.update(tD.subarray(i.length%16))),s.update(n),n.length%16>0&&s.update(tD.subarray(n.length%16));var o=new Uint8Array(8);i&&eD.writeUint64LE(i.length,o),s.update(o),eD.writeUint64LE(n.length,o),s.update(o);for(var a=s.digest(),u=0;u<a.length;u++)e[u]=a[u];s.clean(),hl.wipe(a),hl.wipe(o)},t}();Wn.ChaCha20Poly1305=aG});var nD=v(K1=>{"use strict";c();Object.defineProperty(K1,"__esModule",{value:!0});function uG(t){return typeof t.saveState<"u"&&typeof t.restoreState<"u"&&typeof t.cleanSavedState<"u"}K1.isSerializableHash=uG});var sD=v(dl=>{"use strict";c();Object.defineProperty(dl,"__esModule",{value:!0});var vn=nD(),cG=Yd(),lG=Cr(),iD=function(){function t(e,r){this._finished=!1,this._inner=new e,this._outer=new e,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var n=new Uint8Array(this.blockSize);r.length>this.blockSize?this._inner.update(r).finish(n).clean():n.set(r);for(var i=0;i<n.length;i++)n[i]^=54;this._inner.update(n);for(var i=0;i<n.length;i++)n[i]^=106;this._outer.update(n),vn.isSerializableHash(this._inner)&&vn.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),lG.wipe(n)}return t.prototype.reset=function(){if(!vn.isSerializableHash(this._inner)||!vn.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},t.prototype.clean=function(){vn.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),vn.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},t.prototype.update=function(e){return this._inner.update(e),this},t.prototype.finish=function(e){return this._finished?(this._outer.finish(e),this):(this._inner.finish(e),this._outer.update(e.subarray(0,this.digestLength)).finish(e),this._finished=!0,this)},t.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},t.prototype.saveState=function(){if(!vn.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},t.prototype.restoreState=function(e){if(!vn.isSerializableHash(this._inner)||!vn.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(e),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},t.prototype.cleanSavedState=function(e){if(!vn.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(e)},t}();dl.HMAC=iD;function fG(t,e,r){var n=new iD(t,e);n.update(r);var i=n.digest();return n.clean(),i}dl.hmac=fG;dl.equal=cG.equal});var uD=v(z1=>{"use strict";c();Object.defineProperty(z1,"__esModule",{value:!0});var oD=sD(),aD=Cr(),hG=function(){function t(e,r,n,i){n===void 0&&(n=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=e,this._info=i;var s=oD.hmac(this._hash,n,r);this._hmac=new oD.HMAC(e,s),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return t.prototype._fillBuffer=function(){this._counter[0]++;var e=this._counter[0];if(e===0)throw new Error("hkdf: cannot expand more");this._hmac.reset(),e>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},t.prototype.expand=function(e){for(var r=new Uint8Array(e),n=0;n<r.length;n++)this._bufpos===this._buffer.length&&this._fillBuffer(),r[n]=this._buffer[this._bufpos++];return r},t.prototype.clean=function(){this._hmac.clean(),aD.wipe(this._buffer),aD.wipe(this._counter),this._bufpos=0},t}();z1.HKDF=hG});var lD=v(Fi=>{"use strict";c();Object.defineProperty(Fi,"__esModule",{value:!0});var ep=hu(),Zd=Cr();Fi.DIGEST_LENGTH=32;Fi.BLOCK_SIZE=64;var cD=function(){function t(){this.digestLength=Fi.DIGEST_LENGTH,this.blockSize=Fi.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return t.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},t.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},t.prototype.clean=function(){Zd.wipe(this._buffer),Zd.wipe(this._temp),this.reset()},t.prototype.update=function(e,r){if(r===void 0&&(r=e.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var n=0;if(this._bytesHashed+=r,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&r>0;)this._buffer[this._bufferLength++]=e[n++],r--;this._bufferLength===this.blockSize&&(W1(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(r>=this.blockSize&&(n=W1(this._temp,this._state,e,n,r),r%=this.blockSize);r>0;)this._buffer[this._bufferLength++]=e[n++],r--;return this},t.prototype.finish=function(e){if(!this._finished){var r=this._bytesHashed,n=this._bufferLength,i=r/536870912|0,s=r<<3,o=r%64<56?64:128;this._buffer[n]=128;for(var a=n+1;a<o-8;a++)this._buffer[a]=0;ep.writeUint32BE(i,this._buffer,o-8),ep.writeUint32BE(s,this._buffer,o-4),W1(this._temp,this._state,this._buffer,0,o),this._finished=!0}for(var a=0;a<this.digestLength/4;a++)ep.writeUint32BE(this._state[a],e,a*4);return this},t.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},t.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},t.prototype.restoreState=function(e){return this._state.set(e.state),this._bufferLength=e.bufferLength,e.buffer&&this._buffer.set(e.buffer),this._bytesHashed=e.bytesHashed,this._finished=!1,this},t.prototype.cleanSavedState=function(e){Zd.wipe(e.state),e.buffer&&Zd.wipe(e.buffer),e.bufferLength=0,e.bytesHashed=0},t}();Fi.SHA256=cD;var dG=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function W1(t,e,r,n,i){for(;i>=64;){for(var s=e[0],o=e[1],a=e[2],u=e[3],l=e[4],f=e[5],d=e[6],y=e[7],w=0;w<16;w++){var E=n+w*4;t[w]=ep.readUint32BE(r,E)}for(var w=16;w<64;w++){var T=t[w-2],R=(T>>>17|T<<32-17)^(T>>>19|T<<32-19)^T>>>10;T=t[w-15];var _=(T>>>7|T<<32-7)^(T>>>18|T<<32-18)^T>>>3;t[w]=(R+t[w-7]|0)+(_+t[w-16]|0)}for(var w=0;w<64;w++){var R=(((l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7))+(l&f^~l&d)|0)+(y+(dG[w]+t[w]|0)|0)|0,_=((s>>>2|s<<32-2)^(s>>>13|s<<32-13)^(s>>>22|s<<32-22))+(s&o^s&a^o&a)|0;y=d,d=f,f=l,l=u+R|0,u=a,a=o,o=s,s=R+_|0}e[0]+=s,e[1]+=o,e[2]+=a,e[3]+=u,e[4]+=l,e[5]+=f,e[6]+=d,e[7]+=y,n+=64,i-=64}return n}function pG(t){var e=new cD;e.update(t);var r=e.digest();return e.clean(),r}Fi.hash=pG});var pD=v(lt=>{"use strict";c();Object.defineProperty(lt,"__esModule",{value:!0});lt.sharedKey=lt.generateKeyPair=lt.generateKeyPairFromSeed=lt.scalarMultBase=lt.scalarMult=lt.SHARED_KEY_LENGTH=lt.SECRET_KEY_LENGTH=lt.PUBLIC_KEY_LENGTH=void 0;var gG=el(),yG=Cr();lt.PUBLIC_KEY_LENGTH=32;lt.SECRET_KEY_LENGTH=32;lt.SHARED_KEY_LENGTH=32;function An(t){let e=new Float64Array(16);if(t)for(let r=0;r<t.length;r++)e[r]=t[r];return e}var fD=new Uint8Array(32);fD[0]=9;var mG=An([56129,1]);function $1(t){let e=1;for(let r=0;r<16;r++){let n=t[r]+e+65535;e=Math.floor(n/65536),t[r]=n-e*65536}t[0]+=e-1+37*(e-1)}function pl(t,e,r){let n=~(r-1);for(let i=0;i<16;i++){let s=n&(t[i]^e[i]);t[i]^=s,e[i]^=s}}function wG(t,e){let r=An(),n=An();for(let i=0;i<16;i++)n[i]=e[i];$1(n),$1(n),$1(n);for(let i=0;i<2;i++){r[0]=n[0]-65517;for(let o=1;o<15;o++)r[o]=n[o]-65535-(r[o-1]>>16&1),r[o-1]&=65535;r[15]=n[15]-32767-(r[14]>>16&1);let s=r[15]>>16&1;r[14]&=65535,pl(n,r,1-s)}for(let i=0;i<16;i++)t[2*i]=n[i]&255,t[2*i+1]=n[i]>>8}function EG(t,e){for(let r=0;r<16;r++)t[r]=e[2*r]+(e[2*r+1]<<8);t[15]&=32767}function tp(t,e,r){for(let n=0;n<16;n++)t[n]=e[n]+r[n]}function rp(t,e,r){for(let n=0;n<16;n++)t[n]=e[n]-r[n]}function $n(t,e,r){let n,i,s=0,o=0,a=0,u=0,l=0,f=0,d=0,y=0,w=0,E=0,T=0,R=0,_=0,B=0,x=0,O=0,P=0,L=0,b=0,C=0,M=0,Z=0,K=0,j=0,G=0,$=0,de=0,ae=0,re=0,Y=0,ie=0,te=r[0],ne=r[1],q=r[2],ce=r[3],oe=r[4],le=r[5],se=r[6],ue=r[7],g=r[8],m=r[9],A=r[10],D=r[11],I=r[12],N=r[13],F=r[14],S=r[15];n=e[0],s+=n*te,o+=n*ne,a+=n*q,u+=n*ce,l+=n*oe,f+=n*le,d+=n*se,y+=n*ue,w+=n*g,E+=n*m,T+=n*A,R+=n*D,_+=n*I,B+=n*N,x+=n*F,O+=n*S,n=e[1],o+=n*te,a+=n*ne,u+=n*q,l+=n*ce,f+=n*oe,d+=n*le,y+=n*se,w+=n*ue,E+=n*g,T+=n*m,R+=n*A,_+=n*D,B+=n*I,x+=n*N,O+=n*F,P+=n*S,n=e[2],a+=n*te,u+=n*ne,l+=n*q,f+=n*ce,d+=n*oe,y+=n*le,w+=n*se,E+=n*ue,T+=n*g,R+=n*m,_+=n*A,B+=n*D,x+=n*I,O+=n*N,P+=n*F,L+=n*S,n=e[3],u+=n*te,l+=n*ne,f+=n*q,d+=n*ce,y+=n*oe,w+=n*le,E+=n*se,T+=n*ue,R+=n*g,_+=n*m,B+=n*A,x+=n*D,O+=n*I,P+=n*N,L+=n*F,b+=n*S,n=e[4],l+=n*te,f+=n*ne,d+=n*q,y+=n*ce,w+=n*oe,E+=n*le,T+=n*se,R+=n*ue,_+=n*g,B+=n*m,x+=n*A,O+=n*D,P+=n*I,L+=n*N,b+=n*F,C+=n*S,n=e[5],f+=n*te,d+=n*ne,y+=n*q,w+=n*ce,E+=n*oe,T+=n*le,R+=n*se,_+=n*ue,B+=n*g,x+=n*m,O+=n*A,P+=n*D,L+=n*I,b+=n*N,C+=n*F,M+=n*S,n=e[6],d+=n*te,y+=n*ne,w+=n*q,E+=n*ce,T+=n*oe,R+=n*le,_+=n*se,B+=n*ue,x+=n*g,O+=n*m,P+=n*A,L+=n*D,b+=n*I,C+=n*N,M+=n*F,Z+=n*S,n=e[7],y+=n*te,w+=n*ne,E+=n*q,T+=n*ce,R+=n*oe,_+=n*le,B+=n*se,x+=n*ue,O+=n*g,P+=n*m,L+=n*A,b+=n*D,C+=n*I,M+=n*N,Z+=n*F,K+=n*S,n=e[8],w+=n*te,E+=n*ne,T+=n*q,R+=n*ce,_+=n*oe,B+=n*le,x+=n*se,O+=n*ue,P+=n*g,L+=n*m,b+=n*A,C+=n*D,M+=n*I,Z+=n*N,K+=n*F,j+=n*S,n=e[9],E+=n*te,T+=n*ne,R+=n*q,_+=n*ce,B+=n*oe,x+=n*le,O+=n*se,P+=n*ue,L+=n*g,b+=n*m,C+=n*A,M+=n*D,Z+=n*I,K+=n*N,j+=n*F,G+=n*S,n=e[10],T+=n*te,R+=n*ne,_+=n*q,B+=n*ce,x+=n*oe,O+=n*le,P+=n*se,L+=n*ue,b+=n*g,C+=n*m,M+=n*A,Z+=n*D,K+=n*I,j+=n*N,G+=n*F,$+=n*S,n=e[11],R+=n*te,_+=n*ne,B+=n*q,x+=n*ce,O+=n*oe,P+=n*le,L+=n*se,b+=n*ue,C+=n*g,M+=n*m,Z+=n*A,K+=n*D,j+=n*I,G+=n*N,$+=n*F,de+=n*S,n=e[12],_+=n*te,B+=n*ne,x+=n*q,O+=n*ce,P+=n*oe,L+=n*le,b+=n*se,C+=n*ue,M+=n*g,Z+=n*m,K+=n*A,j+=n*D,G+=n*I,$+=n*N,de+=n*F,ae+=n*S,n=e[13],B+=n*te,x+=n*ne,O+=n*q,P+=n*ce,L+=n*oe,b+=n*le,C+=n*se,M+=n*ue,Z+=n*g,K+=n*m,j+=n*A,G+=n*D,$+=n*I,de+=n*N,ae+=n*F,re+=n*S,n=e[14],x+=n*te,O+=n*ne,P+=n*q,L+=n*ce,b+=n*oe,C+=n*le,M+=n*se,Z+=n*ue,K+=n*g,j+=n*m,G+=n*A,$+=n*D,de+=n*I,ae+=n*N,re+=n*F,Y+=n*S,n=e[15],O+=n*te,P+=n*ne,L+=n*q,b+=n*ce,C+=n*oe,M+=n*le,Z+=n*se,K+=n*ue,j+=n*g,G+=n*m,$+=n*A,de+=n*D,ae+=n*I,re+=n*N,Y+=n*F,ie+=n*S,s+=38*P,o+=38*L,a+=38*b,u+=38*C,l+=38*M,f+=38*Z,d+=38*K,y+=38*j,w+=38*G,E+=38*$,T+=38*de,R+=38*ae,_+=38*re,B+=38*Y,x+=38*ie,i=1,n=s+i+65535,i=Math.floor(n/65536),s=n-i*65536,n=o+i+65535,i=Math.floor(n/65536),o=n-i*65536,n=a+i+65535,i=Math.floor(n/65536),a=n-i*65536,n=u+i+65535,i=Math.floor(n/65536),u=n-i*65536,n=l+i+65535,i=Math.floor(n/65536),l=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=d+i+65535,i=Math.floor(n/65536),d=n-i*65536,n=y+i+65535,i=Math.floor(n/65536),y=n-i*65536,n=w+i+65535,i=Math.floor(n/65536),w=n-i*65536,n=E+i+65535,i=Math.floor(n/65536),E=n-i*65536,n=T+i+65535,i=Math.floor(n/65536),T=n-i*65536,n=R+i+65535,i=Math.floor(n/65536),R=n-i*65536,n=_+i+65535,i=Math.floor(n/65536),_=n-i*65536,n=B+i+65535,i=Math.floor(n/65536),B=n-i*65536,n=x+i+65535,i=Math.floor(n/65536),x=n-i*65536,n=O+i+65535,i=Math.floor(n/65536),O=n-i*65536,s+=i-1+37*(i-1),i=1,n=s+i+65535,i=Math.floor(n/65536),s=n-i*65536,n=o+i+65535,i=Math.floor(n/65536),o=n-i*65536,n=a+i+65535,i=Math.floor(n/65536),a=n-i*65536,n=u+i+65535,i=Math.floor(n/65536),u=n-i*65536,n=l+i+65535,i=Math.floor(n/65536),l=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=d+i+65535,i=Math.floor(n/65536),d=n-i*65536,n=y+i+65535,i=Math.floor(n/65536),y=n-i*65536,n=w+i+65535,i=Math.floor(n/65536),w=n-i*65536,n=E+i+65535,i=Math.floor(n/65536),E=n-i*65536,n=T+i+65535,i=Math.floor(n/65536),T=n-i*65536,n=R+i+65535,i=Math.floor(n/65536),R=n-i*65536,n=_+i+65535,i=Math.floor(n/65536),_=n-i*65536,n=B+i+65535,i=Math.floor(n/65536),B=n-i*65536,n=x+i+65535,i=Math.floor(n/65536),x=n-i*65536,n=O+i+65535,i=Math.floor(n/65536),O=n-i*65536,s+=i-1+37*(i-1),t[0]=s,t[1]=o,t[2]=a,t[3]=u,t[4]=l,t[5]=f,t[6]=d,t[7]=y,t[8]=w,t[9]=E,t[10]=T,t[11]=R,t[12]=_,t[13]=B,t[14]=x,t[15]=O}function gl(t,e){$n(t,e,e)}function vG(t,e){let r=An();for(let n=0;n<16;n++)r[n]=e[n];for(let n=253;n>=0;n--)gl(r,r),n!==2&&n!==4&&$n(r,r,e);for(let n=0;n<16;n++)t[n]=r[n]}function Y1(t,e){let r=new Uint8Array(32),n=new Float64Array(80),i=An(),s=An(),o=An(),a=An(),u=An(),l=An();for(let w=0;w<31;w++)r[w]=t[w];r[31]=t[31]&127|64,r[0]&=248,EG(n,e);for(let w=0;w<16;w++)s[w]=n[w];i[0]=a[0]=1;for(let w=254;w>=0;--w){let E=r[w>>>3]>>>(w&7)&1;pl(i,s,E),pl(o,a,E),tp(u,i,o),rp(i,i,o),tp(o,s,a),rp(s,s,a),gl(a,u),gl(l,i),$n(i,o,i),$n(o,s,u),tp(u,i,o),rp(i,i,o),gl(s,i),rp(o,a,l),$n(i,o,mG),tp(i,i,a),$n(o,o,i),$n(i,a,l),$n(a,s,n),gl(s,u),pl(i,s,E),pl(o,a,E)}for(let w=0;w<16;w++)n[w+16]=i[w],n[w+32]=o[w],n[w+48]=s[w],n[w+64]=a[w];let f=n.subarray(32),d=n.subarray(16);vG(f,f),$n(d,d,f);let y=new Uint8Array(32);return wG(y,d),y}lt.scalarMult=Y1;function hD(t){return Y1(t,fD)}lt.scalarMultBase=hD;function dD(t){if(t.length!==lt.SECRET_KEY_LENGTH)throw new Error(`x25519: seed must be ${lt.SECRET_KEY_LENGTH} bytes`);let e=new Uint8Array(t);return{publicKey:hD(e),secretKey:e}}lt.generateKeyPairFromSeed=dD;function AG(t){let e=(0,gG.randomBytes)(32,t),r=dD(e);return(0,yG.wipe)(e),r}lt.generateKeyPair=AG;function _G(t,e,r=!1){if(t.length!==lt.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect secret key length");if(e.length!==lt.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect public key length");let n=Y1(t,e);if(r){let i=0;for(let s=0;s<n.length;s++)i|=n[s];if(i===0)throw new Error("X25519: invalid shared key")}return n}lt.sharedKey=_G});function gD(t,e){for(let r=0;r<t.byteLength;r++){if(t[r]<e[r])return-1;if(t[r]>e[r])return 1}return t.byteLength>e.byteLength?1:t.byteLength<e.byteLength?-1:0}var yD=ge(()=>{c()});function mD(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}var wD=ge(()=>{c()});function ED(t,e){if(t.length!==e.length)throw new Error("Inputs should have the same length");let r=wu(t.length);for(let n=0;n<t.length;n++)r[n]=t[n]^e[n];return Bi(r)}var vD=ge(()=>{c();jd();il()});var J1={};at(J1,{compare:()=>gD,concat:()=>Gd,equals:()=>mD,fromString:()=>En,toString:()=>Kn,xor:()=>ED});var X1=ge(()=>{c();yD();f1();wD();U1();M1();vD()});var PD=v(Ze=>{"use strict";c();var AD=Ze&&Ze.__spreadArray||function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))};Object.defineProperty(Ze,"__esModule",{value:!0});Ze.getNodeVersion=Ze.detectOS=Ze.parseUserAgent=Ze.browserName=Ze.detect=Ze.ReactNativeInfo=Ze.BotInfo=Ze.SearchBotDeviceInfo=Ze.NodeInfo=Ze.BrowserInfo=void 0;var ID=function(){function t(e,r,n){this.name=e,this.version=r,this.os=n,this.type="browser"}return t}();Ze.BrowserInfo=ID;var SD=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=p.default.platform}return t}();Ze.NodeInfo=SD;var CD=function(){function t(e,r,n,i){this.name=e,this.version=r,this.os=n,this.bot=i,this.type="bot-device"}return t}();Ze.SearchBotDeviceInfo=CD;var TD=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}();Ze.BotInfo=TD;var xD=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}();Ze.ReactNativeInfo=xD;var bG=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,IG=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,_D=3,SG=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",bG]],bD=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function CG(t){return t?Z1(t):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new xD:typeof navigator<"u"?Z1(navigator.userAgent):OD()}Ze.detect=CG;function ND(t){return t!==""&&SG.reduce(function(e,r){var n=r[0],i=r[1];if(e)return e;var s=i.exec(t);return!!s&&[n,s]},!1)}function TG(t){var e=ND(t);return e?e[0]:null}Ze.browserName=TG;function Z1(t){var e=ND(t);if(!e)return null;var r=e[0],n=e[1];if(r==="searchbot")return new TD;var i=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);i?i.length<_D&&(i=AD(AD([],i,!0),xG(_D-i.length),!0)):i=[];var s=i.join("."),o=DD(t),a=IG.exec(t);return a&&a[1]?new CD(r,s,o,a[1]):new ID(r,s,o)}Ze.parseUserAgent=Z1;function DD(t){for(var e=0,r=bD.length;e<r;e++){var n=bD[e],i=n[0],s=n[1],o=s.exec(t);if(o)return i}return null}Ze.detectOS=DD;function OD(){var t=typeof p.default<"u"&&p.default.version;return t?new SD(p.default.version.slice(1)):null}Ze.getNodeVersion=OD;function xG(t){for(var e=[],r=0;r<t;r++)e.push("0");return e}});var ev=v(ze=>{"use strict";c();Object.defineProperty(ze,"__esModule",{value:!0});ze.getLocalStorage=ze.getLocalStorageOrThrow=ze.getCrypto=ze.getCryptoOrThrow=ze.getLocation=ze.getLocationOrThrow=ze.getNavigator=ze.getNavigatorOrThrow=ze.getDocument=ze.getDocumentOrThrow=ze.getFromWindowOrThrow=ze.getFromWindow=void 0;function uo(t){let e;return typeof window<"u"&&typeof window[t]<"u"&&(e=window[t]),e}ze.getFromWindow=uo;function Cu(t){let e=uo(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}ze.getFromWindowOrThrow=Cu;function NG(){return Cu("document")}ze.getDocumentOrThrow=NG;function DG(){return uo("document")}ze.getDocument=DG;function OG(){return Cu("navigator")}ze.getNavigatorOrThrow=OG;function PG(){return uo("navigator")}ze.getNavigator=PG;function BG(){return Cu("location")}ze.getLocationOrThrow=BG;function RG(){return uo("location")}ze.getLocation=RG;function LG(){return Cu("crypto")}ze.getCryptoOrThrow=LG;function FG(){return uo("crypto")}ze.getCrypto=FG;function MG(){return Cu("localStorage")}ze.getLocalStorageOrThrow=MG;function UG(){return uo("localStorage")}ze.getLocalStorage=UG});var RD=v(np=>{"use strict";c();Object.defineProperty(np,"__esModule",{value:!0});np.getWindowMetadata=void 0;var BD=ev();function qG(){let t,e;try{t=BD.getDocumentOrThrow(),e=BD.getLocationOrThrow()}catch{return null}function r(){let d=t.getElementsByTagName("link"),y=[];for(let w=0;w<d.length;w++){let E=d[w],T=E.getAttribute("rel");if(T&&T.toLowerCase().indexOf("icon")>-1){let R=E.getAttribute("href");if(R)if(R.toLowerCase().indexOf("https:")===-1&&R.toLowerCase().indexOf("http:")===-1&&R.indexOf("//")!==0){let _=e.protocol+"//"+e.host;if(R.indexOf("/")===0)_+=R;else{let B=e.pathname.split("/");B.pop();let x=B.join("/");_+=x+"/"+R}y.push(_)}else if(R.indexOf("//")===0){let _=e.protocol+R;y.push(_)}else y.push(R)}}return y}function n(...d){let y=t.getElementsByTagName("meta");for(let w=0;w<y.length;w++){let E=y[w],T=["itemprop","property","name"].map(R=>E.getAttribute(R)).filter(R=>R?d.includes(R):!1);if(T.length&&T){let R=E.getAttribute("content");if(R)return R}}return""}function i(){let d=n("name","og:site_name","og:title","twitter:title");return d||(d=t.title),d}function s(){return n("description","og:description","twitter:description","keywords")}let o=i(),a=s(),u=e.origin,l=r();return{description:a,url:u,icons:l,name:o}}np.getWindowMetadata=qG});var FD=v((jae,LD)=>{"use strict";c();LD.exports=t=>encodeURIComponent(t).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`)});var HD=v((Qae,VD)=>{"use strict";c();var qD="%[a-f0-9]{2}",MD=new RegExp("("+qD+")|([^%]+?)","gi"),UD=new RegExp("("+qD+")+","gi");function tv(t,e){try{return[decodeURIComponent(t.join(""))]}catch{}if(t.length===1)return t;e=e||1;var r=t.slice(0,e),n=t.slice(e);return Array.prototype.concat.call([],tv(r),tv(n))}function VG(t){try{return decodeURIComponent(t)}catch{for(var e=t.match(MD)||[],r=1;r<e.length;r++)t=tv(e,r).join(""),e=t.match(MD)||[];return t}}function HG(t){for(var e={"%FE%FF":"\uFFFD\uFFFD","%FF%FE":"\uFFFD\uFFFD"},r=UD.exec(t);r;){try{e[r[0]]=decodeURIComponent(r[0])}catch{var n=VG(r[0]);n!==r[0]&&(e[r[0]]=n)}r=UD.exec(t)}e["%C2"]="\uFFFD";for(var i=Object.keys(e),s=0;s<i.length;s++){var o=i[s];t=t.replace(new RegExp(o,"g"),e[o])}return t}VD.exports=function(t){if(typeof t!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch{return HG(t)}}});var GD=v((Kae,jD)=>{"use strict";c();jD.exports=(t,e)=>{if(!(typeof t=="string"&&typeof e=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e==="")return[t];let r=t.indexOf(e);return r===-1?[t]:[t.slice(0,r),t.slice(r+e.length)]}});var kD=v((Wae,QD)=>{"use strict";c();QD.exports=function(t,e){for(var r={},n=Object.keys(t),i=Array.isArray(e),s=0;s<n.length;s++){var o=n[s],a=t[o];(i?e.indexOf(o)!==-1:e(o,a,t))&&(r[o]=a)}return r}});var ZD=v(ir=>{"use strict";c();var jG=FD(),GG=HD(),zD=GD(),QG=kD(),kG=t=>t==null,rv=Symbol("encodeFragmentIdentifier");function KG(t){switch(t.arrayFormat){case"index":return e=>(r,n)=>{let i=r.length;return n===void 0||t.skipNull&&n===null||t.skipEmptyString&&n===""?r:n===null?[...r,[pt(e,t),"[",i,"]"].join("")]:[...r,[pt(e,t),"[",pt(i,t),"]=",pt(n,t)].join("")]};case"bracket":return e=>(r,n)=>n===void 0||t.skipNull&&n===null||t.skipEmptyString&&n===""?r:n===null?[...r,[pt(e,t),"[]"].join("")]:[...r,[pt(e,t),"[]=",pt(n,t)].join("")];case"colon-list-separator":return e=>(r,n)=>n===void 0||t.skipNull&&n===null||t.skipEmptyString&&n===""?r:n===null?[...r,[pt(e,t),":list="].join("")]:[...r,[pt(e,t),":list=",pt(n,t)].join("")];case"comma":case"separator":case"bracket-separator":{let e=t.arrayFormat==="bracket-separator"?"[]=":"=";return r=>(n,i)=>i===void 0||t.skipNull&&i===null||t.skipEmptyString&&i===""?n:(i=i===null?"":i,n.length===0?[[pt(r,t),e,pt(i,t)].join("")]:[[n,pt(i,t)].join(t.arrayFormatSeparator)])}default:return e=>(r,n)=>n===void 0||t.skipNull&&n===null||t.skipEmptyString&&n===""?r:n===null?[...r,pt(e,t)]:[...r,[pt(e,t),"=",pt(n,t)].join("")]}}function zG(t){let e;switch(t.arrayFormat){case"index":return(r,n,i)=>{if(e=/\[(\d*)\]$/.exec(r),r=r.replace(/\[\d*\]$/,""),!e){i[r]=n;return}i[r]===void 0&&(i[r]={}),i[r][e[1]]=n};case"bracket":return(r,n,i)=>{if(e=/(\[\])$/.exec(r),r=r.replace(/\[\]$/,""),!e){i[r]=n;return}if(i[r]===void 0){i[r]=[n];return}i[r]=[].concat(i[r],n)};case"colon-list-separator":return(r,n,i)=>{if(e=/(:list)$/.exec(r),r=r.replace(/:list$/,""),!e){i[r]=n;return}if(i[r]===void 0){i[r]=[n];return}i[r]=[].concat(i[r],n)};case"comma":case"separator":return(r,n,i)=>{let s=typeof n=="string"&&n.includes(t.arrayFormatSeparator),o=typeof n=="string"&&!s&&Yn(n,t).includes(t.arrayFormatSeparator);n=o?Yn(n,t):n;let a=s||o?n.split(t.arrayFormatSeparator).map(u=>Yn(u,t)):n===null?n:Yn(n,t);i[r]=a};case"bracket-separator":return(r,n,i)=>{let s=/(\[\])$/.test(r);if(r=r.replace(/\[\]$/,""),!s){i[r]=n&&Yn(n,t);return}let o=n===null?[]:n.split(t.arrayFormatSeparator).map(a=>Yn(a,t));if(i[r]===void 0){i[r]=o;return}i[r]=[].concat(i[r],o)};default:return(r,n,i)=>{if(i[r]===void 0){i[r]=n;return}i[r]=[].concat(i[r],n)}}}function WD(t){if(typeof t!="string"||t.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function pt(t,e){return e.encode?e.strict?jG(t):encodeURIComponent(t):t}function Yn(t,e){return e.decode?GG(t):t}function $D(t){return Array.isArray(t)?t.sort():typeof t=="object"?$D(Object.keys(t)).sort((e,r)=>Number(e)-Number(r)).map(e=>t[e]):t}function YD(t){let e=t.indexOf("#");return e!==-1&&(t=t.slice(0,e)),t}function WG(t){let e="",r=t.indexOf("#");return r!==-1&&(e=t.slice(r)),e}function JD(t){t=YD(t);let e=t.indexOf("?");return e===-1?"":t.slice(e+1)}function KD(t,e){return e.parseNumbers&&!Number.isNaN(Number(t))&&typeof t=="string"&&t.trim()!==""?t=Number(t):e.parseBooleans&&t!==null&&(t.toLowerCase()==="true"||t.toLowerCase()==="false")&&(t=t.toLowerCase()==="true"),t}function XD(t,e){e=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},e),WD(e.arrayFormatSeparator);let r=zG(e),n=Object.create(null);if(typeof t!="string"||(t=t.trim().replace(/^[?#&]/,""),!t))return n;for(let i of t.split("&")){if(i==="")continue;let[s,o]=zD(e.decode?i.replace(/\+/g," "):i,"=");o=o===void 0?null:["comma","separator","bracket-separator"].includes(e.arrayFormat)?o:Yn(o,e),r(Yn(s,e),o,n)}for(let i of Object.keys(n)){let s=n[i];if(typeof s=="object"&&s!==null)for(let o of Object.keys(s))s[o]=KD(s[o],e);else n[i]=KD(s,e)}return e.sort===!1?n:(e.sort===!0?Object.keys(n).sort():Object.keys(n).sort(e.sort)).reduce((i,s)=>{let o=n[s];return o&&typeof o=="object"&&!Array.isArray(o)?i[s]=$D(o):i[s]=o,i},Object.create(null))}ir.extract=JD;ir.parse=XD;ir.stringify=(t,e)=>{if(!t)return"";e=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},e),WD(e.arrayFormatSeparator);let r=o=>e.skipNull&&kG(t[o])||e.skipEmptyString&&t[o]==="",n=KG(e),i={};for(let o of Object.keys(t))r(o)||(i[o]=t[o]);let s=Object.keys(i);return e.sort!==!1&&s.sort(e.sort),s.map(o=>{let a=t[o];return a===void 0?"":a===null?pt(o,e):Array.isArray(a)?a.length===0&&e.arrayFormat==="bracket-separator"?pt(o,e)+"[]":a.reduce(n(o),[]).join("&"):pt(o,e)+"="+pt(a,e)}).filter(o=>o.length>0).join("&")};ir.parseUrl=(t,e)=>{e=Object.assign({decode:!0},e);let[r,n]=zD(t,"#");return Object.assign({url:r.split("?")[0]||"",query:XD(JD(t),e)},e&&e.parseFragmentIdentifier&&n?{fragmentIdentifier:Yn(n,e)}:{})};ir.stringifyUrl=(t,e)=>{e=Object.assign({encode:!0,strict:!0,[rv]:!0},e);let r=YD(t.url).split("?")[0]||"",n=ir.extract(t.url),i=ir.parse(n,{sort:!1}),s=Object.assign(i,t.query),o=ir.stringify(s,e);o&&(o=`?${o}`);let a=WG(t.url);return t.fragmentIdentifier&&(a=`#${e[rv]?pt(t.fragmentIdentifier,e):t.fragmentIdentifier}`),`${r}${o}${a}`};ir.pick=(t,e,r)=>{r=Object.assign({parseFragmentIdentifier:!0,[rv]:!1},r);let{url:n,query:i,fragmentIdentifier:s}=ir.parseUrl(t,r);return ir.stringifyUrl({url:n,query:QG(i,e),fragmentIdentifier:s},r)};ir.exclude=(t,e,r)=>{let n=Array.isArray(e)?i=>!e.includes(i):(i,s)=>!e(i,s);return ir.pick(t,n,r)}});var eO=ge(()=>{c()});function Mi(t,e,r="string"){if(!t[e]||typeof t[e]!==r)throw new Error(`Missing or invalid "${e}" param`)}function $G(t,e){let r=!0;return e.forEach(n=>{n in t||(r=!1)}),r}function YG(t,e){return Array.isArray(t)?t.length===e:Object.keys(t).length===e}function JG(t,e){return Array.isArray(t)?t.length>=e:Object.keys(t).length>=e}function yl(t,e,r){return(!r.length?YG(t,e.length):JG(t,e.length))?$G(t,e):!1}function ml(t,e,r="_"){let n=t.split(r);return n[n.length-1].trim().toLowerCase()===e.trim().toLowerCase()}var nv=ge(()=>{c()});function XG(t){return ip(t.method)&&sp(t.params)}function ip(t){return ml(t,"subscribe")}function sp(t){return yl(t,["topic"],[])}function ZG(t){return op(t.method)&&ap(t.params)}function op(t){return ml(t,"publish")}function ap(t){return yl(t,["message","topic","ttl"],["prompt","tag"])}function e9(t){return up(t.method)&&cp(t.params)}function up(t){return ml(t,"unsubscribe")}function cp(t){return yl(t,["id","topic"],[])}function t9(t){return lp(t.method)&&fp(t.params)}function lp(t){return ml(t,"subscription")}function fp(t){return yl(t,["id","data"],[])}var iv=ge(()=>{c();nv()});function r9(t){if(!ip(t.method))throw new Error("JSON-RPC Request has invalid subscribe method");if(!sp(t.params))throw new Error("JSON-RPC Request has invalid subscribe params");let e=t.params;return Mi(e,"topic"),e}function n9(t){if(!op(t.method))throw new Error("JSON-RPC Request has invalid publish method");if(!ap(t.params))throw new Error("JSON-RPC Request has invalid publish params");let e=t.params;return Mi(e,"topic"),Mi(e,"message"),Mi(e,"ttl","number"),e}function i9(t){if(!up(t.method))throw new Error("JSON-RPC Request has invalid unsubscribe method");if(!cp(t.params))throw new Error("JSON-RPC Request has invalid unsubscribe params");let e=t.params;return Mi(e,"id"),e}function s9(t){if(!lp(t.method))throw new Error("JSON-RPC Request has invalid subscription method");if(!fp(t.params))throw new Error("JSON-RPC Request has invalid subscription params");let e=t.params;return Mi(e,"id"),Mi(e,"data"),e}var tO=ge(()=>{c();nv();iv()});var o9,rO=ge(()=>{c();o9={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe"}}});var nO={};at(nO,{RELAY_JSONRPC:()=>o9,isPublishMethod:()=>op,isPublishParams:()=>ap,isPublishRequest:()=>ZG,isSubscribeMethod:()=>ip,isSubscribeParams:()=>sp,isSubscribeRequest:()=>XG,isSubscriptionMethod:()=>lp,isSubscriptionParams:()=>fp,isSubscriptionRequest:()=>t9,isUnsubscribeMethod:()=>up,isUnsubscribeParams:()=>cp,isUnsubscribeRequest:()=>e9,parsePublishRequest:()=>n9,parseSubscribeRequest:()=>r9,parseSubscriptionRequest:()=>s9,parseUnsubscribeRequest:()=>i9});var iO=ge(()=>{c();eO();tO();rO();iv()});var _p=v(Q=>{"use strict";c();Object.defineProperty(Q,"__esModule",{value:!0});var pO=rD(),a9=uD(),gO=el(),uv=lD(),u9=pD(),et=(X1(),nt(J1)),c9=PD(),xu=ro(),wl=ev(),l9=RD(),f9=ZD(),h9=(iO(),nt(nO));function yO(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}),e.default=t,Object.freeze(e)}var mO=yO(u9),hp=yO(f9),gp=":";function wO(t){let[e,r]=t.split(gp);return{namespace:e,reference:r}}function EO(t){let{namespace:e,reference:r}=t;return[e,r].join(gp)}function cv(t){let[e,r,n]=t.split(gp);return{namespace:e,reference:r,address:n}}function vO(t){let{namespace:e,reference:r,address:n}=t;return[e,r,n].join(gp)}function lv(t,e){let r=[];return t.forEach(n=>{let i=e(n);r.includes(i)||r.push(i)}),r}function AO(t){let{address:e}=cv(t);return e}function _O(t){let{namespace:e,reference:r}=cv(t);return EO({namespace:e,reference:r})}function d9(t,e){let{namespace:r,reference:n}=wO(e);return vO({namespace:r,reference:n,address:t})}function p9(t){return lv(t,AO)}function bO(t){return lv(t,_O)}function g9(t,e=[]){let r=[];return Object.keys(t).forEach(n=>{if(e.length&&!e.includes(n))return;let i=t[n];r.push(...i.accounts)}),r}function y9(t,e=[]){let r=[];return Object.keys(t).forEach(n=>{if(e.length&&!e.includes(n))return;let i=t[n];r.push(...bO(i.accounts))}),r}function m9(t,e=[]){let r=[];return Object.keys(t).forEach(n=>{if(e.length&&!e.includes(n))return;let i=t[n];r.push(...yp(n,i))}),r}function yp(t,e){return t.includes(":")?[t]:e.chains||[]}var mp=t=>t?.split(":"),IO=t=>{let e=t&&mp(t);if(e)return e[3]},w9=t=>{let e=t&&mp(t);if(e)return e[2]+":"+e[3]},SO=t=>{let e=t&&mp(t);if(e)return e.pop()},E9=(t,e)=>{let r=`${t.domain} wants you to sign in with your Ethereum account:`,n=SO(e),i=t.statement,s=`URI: ${t.aud}`,o=`Version: ${t.version}`,a=`Chain ID: ${IO(e)}`,u=`Nonce: ${t.nonce}`,l=`Issued At: ${t.iat}`,f=t.resources&&t.resources.length>0?`Resources:
${t.resources.map(d=>`- ${d}`).join(`
`)}`:void 0;return[r,n,"",i,"",s,o,a,u,l,f].filter(d=>d!=null).join(`
`)},fv="base10",$t="base16",dp="base64pad",wp="utf8",hv=0,Nu=1,v9=0,sO=1,sv=12,dv=32;function A9(){let t=mO.generateKeyPair();return{privateKey:et.toString(t.secretKey,$t),publicKey:et.toString(t.publicKey,$t)}}function _9(){let t=gO.randomBytes(dv);return et.toString(t,$t)}function b9(t,e){let r=mO.sharedKey(et.fromString(t,$t),et.fromString(e,$t)),n=new a9.HKDF(uv.SHA256,r).expand(dv);return et.toString(n,$t)}function I9(t){let e=uv.hash(et.fromString(t,$t));return et.toString(e,$t)}function S9(t){let e=uv.hash(et.fromString(t,wp));return et.toString(e,$t)}function CO(t){return et.fromString(`${t}`,fv)}function El(t){return Number(et.toString(t,fv))}function C9(t){let e=CO(typeof t.type<"u"?t.type:hv);if(El(e)===Nu&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");let r=typeof t.senderPublicKey<"u"?et.fromString(t.senderPublicKey,$t):void 0,n=typeof t.iv<"u"?et.fromString(t.iv,$t):gO.randomBytes(sv),i=new pO.ChaCha20Poly1305(et.fromString(t.symKey,$t)).seal(n,et.fromString(t.message,wp));return TO({type:e,sealed:i,iv:n,senderPublicKey:r})}function T9(t){let e=new pO.ChaCha20Poly1305(et.fromString(t.symKey,$t)),{sealed:r,iv:n}=pv(t.encoded),i=e.open(n,r);if(i===null)throw new Error("Failed to decrypt");return et.toString(i,wp)}function TO(t){if(El(t.type)===Nu){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return et.toString(et.concat([t.type,t.senderPublicKey,t.iv,t.sealed]),dp)}return et.toString(et.concat([t.type,t.iv,t.sealed]),dp)}function pv(t){let e=et.fromString(t,dp),r=e.slice(v9,sO),n=sO;if(El(r)===Nu){let a=n+dv,u=a+sv,l=e.slice(n,a),f=e.slice(a,u),d=e.slice(u);return{type:r,sealed:d,iv:f,senderPublicKey:l}}let i=n+sv,s=e.slice(n,i),o=e.slice(i);return{type:r,sealed:o,iv:s}}function x9(t,e){let r=pv(t);return xO({type:El(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?et.toString(r.senderPublicKey,$t):void 0,receiverPublicKey:e?.receiverPublicKey})}function xO(t){let e=t?.type||hv;if(e===Nu){if(typeof t?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof t?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t?.senderPublicKey,receiverPublicKey:t?.receiverPublicKey}}function N9(t){return t.type===Nu&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}var D9=Object.defineProperty,oO=Object.getOwnPropertySymbols,O9=Object.prototype.hasOwnProperty,P9=Object.prototype.propertyIsEnumerable,aO=(t,e,r)=>e in t?D9(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,uO=(t,e)=>{for(var r in e||(e={}))O9.call(e,r)&&aO(t,r,e[r]);if(oO)for(var r of oO(e))P9.call(e,r)&&aO(t,r,e[r]);return t},NO="ReactNative",Tu={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},pp=" ",B9=":",DO="/",gv=2,R9=1e3,OO="js";function yv(){return typeof p.default<"u"&&typeof p.default.versions<"u"&&typeof p.default.versions.node<"u"}function PO(){return!wl.getDocument()&&!!wl.getNavigator()&&navigator.product===NO}function BO(){return!yv()&&!!wl.getNavigator()}function mv(){return PO()?Tu.reactNative:yv()?Tu.node:BO()?Tu.browser:Tu.unknown}function RO(t,e){let r=hp.parse(t);return r=uO(uO({},r),e),t=hp.stringify(r),t}function L9(){return l9.getWindowMetadata()||{name:"",description:"",url:"",icons:[""]}}function F9(t,e){var r;let n=mv(),i={protocol:t,version:e,env:n};return n==="browser"&&(i.host=((r=wl.getLocation())==null?void 0:r.host)||"unknown"),i}function LO(){let t=c9.detect();if(t===null)return"unknown";let e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function FO(){var t;let e=mv();return e===Tu.browser?[e,((t=wl.getLocation())==null?void 0:t.host)||"unknown"].join(":"):e}function MO(t,e,r){let n=LO(),i=FO();return[[t,e].join("-"),[OO,r].join("-"),n,i].join("/")}function M9({protocol:t,version:e,relayUrl:r,sdkVersion:n,auth:i,projectId:s,useOnCloseEvent:o}){let a=r.split("?"),u=MO(t,e,n),l={auth:i,ua:u,projectId:s,useOnCloseEvent:o||void 0},f=RO(a[1]||"",l);return a[0]+"?"+f}function U9(t){let e=(t.match(/^[^:]+(?=:\/\/)/gi)||[])[0],r=typeof e<"u"?t.split("://")[1]:t;return e=e==="wss"?"https":"http",[e,r].join("://")}function q9(t,e,r){if(!t[e]||typeof t[e]!==r)throw new Error(`Missing or invalid "${e}" param`)}function UO(t,e=gv){return qO(t.split(DO),e)}function V9(t){return UO(t).join(pp)}function Ui(t,e){return t.filter(r=>e.includes(r)).length===t.length}function qO(t,e=gv){return t.slice(Math.max(t.length-e,0))}function H9(t){return Object.fromEntries(t.entries())}function j9(t){return new Map(Object.entries(t))}function G9(t,e){let r={};return Object.keys(t).forEach(n=>{r[n]=e(t[n])}),r}var Q9=t=>t;function VO(t){return t.trim().replace(/^\w/,e=>e.toUpperCase())}function k9(t){return t.split(pp).map(e=>VO(e)).join(pp)}function K9(t=xu.FIVE_MINUTES,e){let r=xu.toMiliseconds(t||xu.FIVE_MINUTES),n,i,s;return{resolve:o=>{s&&n&&(clearTimeout(s),n(o))},reject:o=>{s&&i&&(clearTimeout(s),i(o))},done:()=>new Promise((o,a)=>{s=setTimeout(()=>{a(new Error(e))},r),n=o,i=a})}}function z9(t,e,r){return new Promise(async(n,i)=>{let s=setTimeout(()=>i(new Error(r)),e);try{let o=await t;n(o)}catch(o){i(o)}clearTimeout(s)})}function wv(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function W9(t){return wv("topic",t)}function $9(t){return wv("id",t)}function Y9(t){let[e,r]=t.split(":"),n={id:void 0,topic:void 0};if(e==="topic"&&typeof r=="string")n.topic=r;else if(e==="id"&&Number.isInteger(Number(r)))n.id=Number(r);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${r}`);return n}function J9(t,e){return xu.fromMiliseconds((e||Date.now())+xu.toMiliseconds(t))}function X9(t){return Date.now()>=xu.toMiliseconds(t)}function Z9(t,e){return`${t}${e?`:${e}`:""}`}function qi(t=[],e=[]){return[...new Set([...t,...e])]}var HO="irn";function eQ(t){return t?.relay||{protocol:HO}}function tQ(t){let e=h9.RELAY_JSONRPC[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}var rQ=Object.defineProperty,cO=Object.getOwnPropertySymbols,nQ=Object.prototype.hasOwnProperty,iQ=Object.prototype.propertyIsEnumerable,lO=(t,e,r)=>e in t?rQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,sQ=(t,e)=>{for(var r in e||(e={}))nQ.call(e,r)&&lO(t,r,e[r]);if(cO)for(var r of cO(e))iQ.call(e,r)&&lO(t,r,e[r]);return t};function jO(t,e="-"){let r={},n="relay"+e;return Object.keys(t).forEach(i=>{if(i.startsWith(n)){let s=i.replace(n,""),o=t[i];r[s]=o}}),r}function oQ(t){let e=t.indexOf(":"),r=t.indexOf("?")!==-1?t.indexOf("?"):void 0,n=t.substring(0,e),i=t.substring(e+1,r).split("@"),s=typeof r<"u"?t.substring(r):"",o=hp.parse(s);return{protocol:n,topic:i[0],version:parseInt(i[1],10),symKey:o.symKey,relay:jO(o)}}function GO(t,e="-"){let r="relay",n={};return Object.keys(t).forEach(i=>{let s=r+e+i;t[i]&&(n[s]=t[i])}),n}function aQ(t){return`${t.protocol}:${t.topic}@${t.version}?`+hp.stringify(sQ({symKey:t.symKey},GO(t.relay)))}var uQ=Object.defineProperty,cQ=Object.defineProperties,lQ=Object.getOwnPropertyDescriptors,fO=Object.getOwnPropertySymbols,fQ=Object.prototype.hasOwnProperty,hQ=Object.prototype.propertyIsEnumerable,hO=(t,e,r)=>e in t?uQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,dQ=(t,e)=>{for(var r in e||(e={}))fQ.call(e,r)&&hO(t,r,e[r]);if(fO)for(var r of fO(e))hQ.call(e,r)&&hO(t,r,e[r]);return t},pQ=(t,e)=>cQ(t,lQ(e));function lo(t){let e=[];return t.forEach(r=>{let[n,i]=r.split(":");e.push(`${n}:${i}`)}),e}function QO(t){let e=[];return Object.values(t).forEach(r=>{e.push(...lo(r.accounts))}),e}function kO(t,e){let r=[];return Object.values(t).forEach(n=>{lo(n.accounts).includes(e)&&r.push(...n.methods)}),r}function KO(t,e){let r=[];return Object.values(t).forEach(n=>{lo(n.accounts).includes(e)&&r.push(...n.events)}),r}function gQ(t,e){let r=e3(t,e);if(r)throw new Error(r.message);let n={};for(let[i,s]of Object.entries(t))n[i]={methods:s.methods,events:s.events,chains:s.accounts.map(o=>`${o.split(":")[0]}:${o.split(":")[1]}`)};return n}function yQ(t){let{proposal:{requiredNamespaces:e,optionalNamespaces:r={}},supportedNamespaces:n}=t,i=ov(e),s=ov(r),o={};Object.keys(n).forEach(l=>{let f=n[l].chains,d=n[l].methods,y=n[l].events,w=n[l].accounts;o[l]={chains:f,methods:d,events:y,accounts:w}});let a=r3(e,o,"approve()");if(a)throw new Error(a.message);let u={};return Object.keys(i).forEach(l=>{let f=n[l].chains.filter(E=>{var T,R;return(R=(T=i[l])==null?void 0:T.chains)==null?void 0:R.includes(E)}),d=n[l].methods.filter(E=>{var T,R;return(R=(T=i[l])==null?void 0:T.methods)==null?void 0:R.includes(E)}),y=n[l].events.filter(E=>{var T,R;return(R=(T=i[l])==null?void 0:T.events)==null?void 0:R.includes(E)}),w=f.map(E=>n[l].accounts.filter(T=>T.includes(E))).flat();u[l]={chains:f,methods:d,events:y,accounts:w}}),Object.keys(s).forEach(l=>{var f,d,y,w,E,T;if(!n[l])return;let R=(d=(f=s[l])==null?void 0:f.chains)==null?void 0:d.filter(O=>n[l].chains.includes(O)),_=n[l].methods.filter(O=>{var P,L;return(L=(P=s[l])==null?void 0:P.methods)==null?void 0:L.includes(O)}),B=n[l].events.filter(O=>{var P,L;return(L=(P=s[l])==null?void 0:P.events)==null?void 0:L.includes(O)}),x=R?.map(O=>n[l].accounts.filter(P=>P.includes(O))).flat();u[l]={chains:qi((y=u[l])==null?void 0:y.chains,R),methods:qi((w=u[l])==null?void 0:w.methods,_),events:qi((E=u[l])==null?void 0:E.events,B),accounts:qi((T=u[l])==null?void 0:T.accounts,x)}}),u}function Ev(t){return t.includes(":")}function zO(t){return Ev(t)?t.split(":")[0]:t}function ov(t){var e,r,n;let i={};if(!Ep(t))return i;for(let[s,o]of Object.entries(t)){let a=Ev(s)?[s]:o.chains,u=o.methods||[],l=o.events||[],f=zO(s);i[f]=pQ(dQ({},i[f]),{chains:qi(a,(e=i[f])==null?void 0:e.chains),methods:qi(u,(r=i[f])==null?void 0:r.methods),events:qi(l,(n=i[f])==null?void 0:n.events)})}return i}var mQ={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},wQ={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function Jn(t,e){let{message:r,code:n}=wQ[t];return{message:e?`${r} ${e}`:r,code:n}}function co(t,e){let{message:r,code:n}=mQ[t];return{message:e?`${r} ${e}`:r,code:n}}function vl(t,e){return Array.isArray(t)?typeof e<"u"&&t.length?t.every(e):!0:!1}function Ep(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function Vi(t){return typeof t>"u"}function cr(t,e){return e&&Vi(t)?!0:typeof t=="string"&&!!t.trim().length}function vp(t,e){return e&&Vi(t)?!0:typeof t=="number"&&!isNaN(t)}function EQ(t,e){let{requiredNamespaces:r}=e,n=Object.keys(t.namespaces),i=Object.keys(r),s=!0;return Ui(i,n)?(n.forEach(o=>{let{accounts:a,methods:u,events:l}=t.namespaces[o],f=lo(a),d=r[o];(!Ui(yp(o,d),f)||!Ui(d.methods,u)||!Ui(d.events,l))&&(s=!1)}),s):!1}function Ap(t){return cr(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function WO(t){if(cr(t,!1)&&t.includes(":")){let e=t.split(":");if(e.length===3){let r=e[0]+":"+e[1];return!!e[2]&&Ap(r)}}return!1}function vQ(t){if(cr(t,!1))try{return typeof new URL(t)<"u"}catch{return!1}return!1}function AQ(t){var e;return(e=t?.proposer)==null?void 0:e.publicKey}function _Q(t){return t?.topic}function bQ(t,e){let r=null;return cr(t?.publicKey,!1)||(r=Jn("MISSING_OR_INVALID",`${e} controller public key should be a string`)),r}function av(t){let e=!0;return vl(t)?t.length&&(e=t.every(r=>cr(r,!1))):e=!1,e}function $O(t,e,r){let n=null;return vl(e)?e.forEach(i=>{n||(!Ap(i)||!i.includes(t))&&(n=co("UNSUPPORTED_CHAINS",`${r}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):n=co("UNSUPPORTED_CHAINS",`${r}, chains ${e} should be an array of strings conforming to "namespace:chainId" format`),n}function YO(t,e){let r=null;return Object.entries(t).forEach(([n,i])=>{if(r)return;let s=$O(n,yp(n,i),`${e} requiredNamespace`);s&&(r=s)}),r}function JO(t,e){let r=null;return vl(t)?t.forEach(n=>{r||WO(n)||(r=co("UNSUPPORTED_ACCOUNTS",`${e}, account ${n} should be a string and conform to "namespace:chainId:address" format`))}):r=co("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),r}function XO(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;let i=JO(n?.accounts,`${e} namespace`);i&&(r=i)}),r}function ZO(t,e){let r=null;return av(t?.methods)?av(t?.events)||(r=co("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):r=co("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),r}function vv(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;let i=ZO(n,`${e}, namespace`);i&&(r=i)}),r}function IQ(t,e,r){let n=null;if(t&&Ep(t)){let i=vv(t,e);i&&(n=i);let s=YO(t,e);s&&(n=s)}else n=Jn("MISSING_OR_INVALID",`${e}, ${r} should be an object with data`);return n}function e3(t,e){let r=null;if(t&&Ep(t)){let n=vv(t,e);n&&(r=n);let i=XO(t,e);i&&(r=i)}else r=Jn("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return r}function t3(t){return cr(t.protocol,!0)}function SQ(t,e){let r=!1;return e&&!t?r=!0:t&&vl(t)&&t.length&&t.forEach(n=>{r=t3(n)}),r}function CQ(t){return typeof t=="number"}function TQ(t){return typeof t<"u"&&typeof t!==null}function xQ(t){return!(!t||typeof t!="object"||!t.code||!vp(t.code,!1)||!t.message||!cr(t.message,!1))}function NQ(t){return!(Vi(t)||!cr(t.method,!1))}function DQ(t){return!(Vi(t)||Vi(t.result)&&Vi(t.error)||!vp(t.id,!1)||!cr(t.jsonrpc,!1))}function OQ(t){return!(Vi(t)||!cr(t.name,!1))}function PQ(t,e){return!(!Ap(e)||!QO(t).includes(e))}function BQ(t,e,r){return cr(r,!1)?kO(t,e).includes(r):!1}function RQ(t,e,r){return cr(r,!1)?KO(t,e).includes(r):!1}function r3(t,e,r){let n=null,i=LQ(t),s=FQ(e),o=Object.keys(i),a=Object.keys(s),u=dO(Object.keys(t)),l=dO(Object.keys(e)),f=u.filter(d=>!l.includes(d));return f.length&&(n=Jn("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.
      Required: ${f.toString()}
      Received: ${Object.keys(e).toString()}`)),Ui(o,a)||(n=Jn("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${a.toString()}`)),Object.keys(e).forEach(d=>{if(!d.includes(":")||n)return;let y=lo(e[d].accounts);y.includes(d)||(n=Jn("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${d}
        Required: ${d}
        Approved: ${y.toString()}`))}),o.forEach(d=>{n||(Ui(i[d].methods,s[d].methods)?Ui(i[d].events,s[d].events)||(n=Jn("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${d}`)):n=Jn("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${d}`))}),n}function LQ(t){let e={};return Object.keys(t).forEach(r=>{var n;r.includes(":")?e[r]=t[r]:(n=t[r].chains)==null||n.forEach(i=>{e[i]={methods:t[r].methods,events:t[r].events}})}),e}function dO(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function FQ(t){let e={};return Object.keys(t).forEach(r=>{r.includes(":")?e[r]=t[r]:lo(t[r].accounts)?.forEach(i=>{e[i]={accounts:t[r].accounts.filter(s=>s.includes(`${i}:`)),methods:t[r].methods,events:t[r].events}})}),e}function MQ(t,e){return vp(t,!1)&&t<=e.max&&t>=e.min}Q.BASE10=fv,Q.BASE16=$t,Q.BASE64=dp,Q.COLON=B9,Q.DEFAULT_DEPTH=gv,Q.EMPTY_SPACE=pp,Q.ENV_MAP=Tu,Q.ONE_THOUSAND=R9,Q.REACT_NATIVE_PRODUCT=NO,Q.RELAYER_DEFAULT_PROTOCOL=HO,Q.SDK_TYPE=OO,Q.SLASH=DO,Q.TYPE_0=hv,Q.TYPE_1=Nu,Q.UTF8=wp,Q.appendToQueryString=RO,Q.assertType=q9,Q.buildApprovedNamespaces=yQ,Q.calcExpiry=J9,Q.capitalize=k9,Q.capitalizeWord=VO,Q.createDelayedPromise=K9,Q.createExpiringPromise=z9,Q.decodeTypeByte=El,Q.decrypt=T9,Q.deriveSymKey=b9,Q.deserialize=pv,Q.encodeTypeByte=CO,Q.encrypt=C9,Q.engineEvent=Z9,Q.enumify=Q9,Q.formatAccountId=vO,Q.formatAccountWithChain=d9,Q.formatChainId=EO,Q.formatExpirerTarget=wv,Q.formatIdTarget=$9,Q.formatMessage=E9,Q.formatMessageContext=V9,Q.formatRelayParams=GO,Q.formatRelayRpcUrl=M9,Q.formatTopicTarget=W9,Q.formatUA=MO,Q.formatUri=aQ,Q.generateKeyPair=A9,Q.generateRandomBytes32=_9,Q.getAccountsChains=lo,Q.getAccountsFromNamespaces=g9,Q.getAddressFromAccount=AO,Q.getAddressesFromAccounts=p9,Q.getAppMetadata=L9,Q.getChainFromAccount=_O,Q.getChainsFromAccounts=bO,Q.getChainsFromNamespace=yp,Q.getChainsFromNamespaces=y9,Q.getChainsFromRequiredNamespaces=m9,Q.getDidAddress=SO,Q.getDidAddressSegments=mp,Q.getDidChainId=IO,Q.getEnvironment=mv,Q.getHttpUrl=U9,Q.getInternalError=Jn,Q.getJavascriptID=FO,Q.getJavascriptOS=LO,Q.getLastItems=qO,Q.getNamespacedDidChainId=w9,Q.getNamespacesChains=QO,Q.getNamespacesEventsForChainId=KO,Q.getNamespacesMethodsForChainId=kO,Q.getRelayClientMetadata=F9,Q.getRelayProtocolApi=tQ,Q.getRelayProtocolName=eQ,Q.getRequiredNamespacesFromNamespaces=gQ,Q.getSdkError=co,Q.getUniqueValues=lv,Q.hasOverlap=Ui,Q.hashKey=I9,Q.hashMessage=S9,Q.isBrowser=BO,Q.isCaipNamespace=Ev,Q.isConformingNamespaces=r3,Q.isExpired=X9,Q.isNode=yv,Q.isProposalStruct=AQ,Q.isReactNative=PO,Q.isSessionCompatible=EQ,Q.isSessionStruct=_Q,Q.isTypeOneEnvelope=N9,Q.isUndefined=Vi,Q.isValidAccountId=WO,Q.isValidAccounts=JO,Q.isValidActions=ZO,Q.isValidArray=vl,Q.isValidChainId=Ap,Q.isValidChains=$O,Q.isValidController=bQ,Q.isValidErrorReason=xQ,Q.isValidEvent=OQ,Q.isValidId=CQ,Q.isValidNamespaceAccounts=XO,Q.isValidNamespaceActions=vv,Q.isValidNamespaceChains=YO,Q.isValidNamespaceMethodsOrEvents=av,Q.isValidNamespaces=e3,Q.isValidNamespacesChainId=PQ,Q.isValidNamespacesEvent=RQ,Q.isValidNamespacesRequest=BQ,Q.isValidNumber=vp,Q.isValidObject=Ep,Q.isValidParams=TQ,Q.isValidRelay=t3,Q.isValidRelays=SQ,Q.isValidRequest=NQ,Q.isValidRequestExpiry=MQ,Q.isValidRequiredNamespaces=IQ,Q.isValidResponse=DQ,Q.isValidString=cr,Q.isValidUrl=vQ,Q.mapEntries=G9,Q.mapToObj=H9,Q.mergeArrays=qi,Q.normalizeNamespaces=ov,Q.objToMap=j9,Q.parseAccountId=cv,Q.parseChainId=wO,Q.parseContextNames=UO,Q.parseExpirerTarget=Y9,Q.parseNamespaceKey=zO,Q.parseRelayParams=jO,Q.parseUri=oQ,Q.serialize=TO,Q.validateDecoding=x9,Q.validateEncoding=xO});var n3,i3,s3,o3,bp,Al,Av,Ip,Hi,_l,Sp=ge(()=>{c();n3="PARSE_ERROR",i3="INVALID_REQUEST",s3="METHOD_NOT_FOUND",o3="INVALID_PARAMS",bp="INTERNAL_ERROR",Al="SERVER_ERROR",Av=[-32700,-32600,-32601,-32602,-32603],Ip=[-32e3,-32099],Hi={[n3]:{code:-32700,message:"Parse error"},[i3]:{code:-32600,message:"Invalid Request"},[s3]:{code:-32601,message:"Method not found"},[o3]:{code:-32602,message:"Invalid params"},[bp]:{code:-32603,message:"Internal error"},[Al]:{code:-32e3,message:"Server error"}},_l=Al});function UQ(t){return t<=Ip[0]&&t>=Ip[1]}function Cp(t){return Av.includes(t)}function a3(t){return typeof t=="number"}function Tp(t){return Object.keys(Hi).includes(t)?Hi[t]:Hi[_l]}function xp(t){let e=Object.values(Hi).find(r=>r.code===t);return e||Hi[_l]}function qQ(t){if(typeof t.error.code>"u")return{valid:!1,error:"Missing code for JSON-RPC error"};if(typeof t.error.message>"u")return{valid:!1,error:"Missing message for JSON-RPC error"};if(!a3(t.error.code))return{valid:!1,error:`Invalid error code type for JSON-RPC: ${t.error.code}`};if(Cp(t.error.code)){let e=xp(t.error.code);if(e.message!==Hi[_l].message&&t.error.message===e.message)return{valid:!1,error:`Invalid error code message for JSON-RPC: ${t.error.code}`}}return{valid:!0}}function _v(t,e,r){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${r} RPC url at ${e}`):t}var bv=ge(()=>{c();Sp()});var c3=v(ji=>{"use strict";c();Object.defineProperty(ji,"__esModule",{value:!0});ji.isBrowserCryptoAvailable=ji.getSubtleCrypto=ji.getBrowerCrypto=void 0;function Iv(){return(global===null||global===void 0?void 0:global.crypto)||(global===null||global===void 0?void 0:global.msCrypto)||{}}ji.getBrowerCrypto=Iv;function u3(){let t=Iv();return t.subtle||t.webkitSubtle}ji.getSubtleCrypto=u3;function VQ(){return!!Iv()&&!!u3()}ji.isBrowserCryptoAvailable=VQ});var h3=v(Gi=>{"use strict";c();Object.defineProperty(Gi,"__esModule",{value:!0});Gi.isBrowser=Gi.isNode=Gi.isReactNative=void 0;function l3(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}Gi.isReactNative=l3;function f3(){return typeof p.default<"u"&&typeof p.default.versions<"u"&&typeof p.default.versions.node<"u"}Gi.isNode=f3;function HQ(){return!l3()&&!f3()}Gi.isBrowser=HQ});var Sv=v(Np=>{"use strict";c();Object.defineProperty(Np,"__esModule",{value:!0});var d3=(ar(),nt(or));d3.__exportStar(c3(),Np);d3.__exportStar(h3(),Np)});var Ot={};at(Ot,{isNodeJs:()=>g3});var p3,g3,y3=ge(()=>{c();p3=be(Sv());Lt(Ot,be(Sv()));g3=p3.isNode});function Cv(t=3){let e=Date.now()*Math.pow(10,t),r=Math.floor(Math.random()*Math.pow(10,t));return e+r}function Tv(t=6){return BigInt(Cv(t))}function xv(t,e,r){return{id:r||Cv(),jsonrpc:"2.0",method:t,params:e}}function jQ(t,e){return{id:t,jsonrpc:"2.0",result:e}}function Nv(t,e,r){return{id:t,jsonrpc:"2.0",error:m3(e,r)}}function m3(t,e){return typeof t>"u"?Tp(bp):(typeof t=="string"&&(t=Object.assign(Object.assign({},Tp(Al)),{message:t})),typeof e<"u"&&(t.data=e),Cp(t.code)&&(t=xp(t.code)),t)}var w3=ge(()=>{c();bv();Sp()});function GQ(t){return t.includes("*")?Op(t):!/\W/g.test(t)}function Dp(t){return t==="*"}function Op(t){return Dp(t)?!0:!(!t.includes("*")||t.split("*").length!==2||t.split("*").filter(e=>e.trim()==="").length!==1)}function QQ(t){return!Dp(t)&&Op(t)&&!t.split("*")[0].trim()}function kQ(t){return!Dp(t)&&Op(t)&&!t.split("*")[1].trim()}var E3=ge(()=>{c()});var v3=ge(()=>{c()});var Du,Dv=ge(()=>{c();Du=class{}});var Ov,Pp,bl,A3=ge(()=>{c();Dv();Ov=class extends Du{constructor(e){super()}},Pp=class extends Du{constructor(){super()}},bl=class extends Pp{constructor(e){super()}}});var _3=ge(()=>{c()});var b3=ge(()=>{c();v3();Dv();A3();_3()});var I3=ge(()=>{c();b3()});function WQ(t){let e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function S3(t,e){let r=WQ(t);return typeof r>"u"?!1:new RegExp(e).test(r)}function $Q(t){return S3(t,KQ)}function Bp(t){return S3(t,zQ)}function Pv(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}var KQ,zQ,C3=ge(()=>{c();KQ="^https?:",zQ="^wss?:"});function Bv(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function YQ(t){return Bv(t)&&"method"in t}function Rv(t){return Bv(t)&&(T3(t)||Rp(t))}function T3(t){return"result"in t}function Rp(t){return"error"in t}function JQ(t){return"error"in t&&t.valid===!1}var x3=ge(()=>{c()});var Kt={};at(Kt,{DEFAULT_ERROR:()=>_l,IBaseJsonRpcProvider:()=>Pp,IEvents:()=>Du,IJsonRpcConnection:()=>Ov,IJsonRpcProvider:()=>bl,INTERNAL_ERROR:()=>bp,INVALID_PARAMS:()=>o3,INVALID_REQUEST:()=>i3,METHOD_NOT_FOUND:()=>s3,PARSE_ERROR:()=>n3,RESERVED_ERROR_CODES:()=>Av,SERVER_ERROR:()=>Al,SERVER_ERROR_CODE_RANGE:()=>Ip,STANDARD_ERROR_MAP:()=>Hi,formatErrorMessage:()=>m3,formatJsonRpcError:()=>Nv,formatJsonRpcRequest:()=>xv,formatJsonRpcResult:()=>jQ,getBigIntRpcId:()=>Tv,getError:()=>Tp,getErrorByCode:()=>xp,isHttpUrl:()=>$Q,isJsonRpcError:()=>Rp,isJsonRpcPayload:()=>Bv,isJsonRpcRequest:()=>YQ,isJsonRpcResponse:()=>Rv,isJsonRpcResult:()=>T3,isJsonRpcValidationInvalid:()=>JQ,isLocalhostUrl:()=>Pv,isNodeJs:()=>g3,isReservedErrorCode:()=>Cp,isServerErrorCode:()=>UQ,isValidDefaultRoute:()=>Dp,isValidErrorCode:()=>a3,isValidLeadingWildcardRoute:()=>QQ,isValidRoute:()=>GQ,isValidTrailingWildcardRoute:()=>kQ,isValidWildcardRoute:()=>Op,isWsUrl:()=>Bp,parseConnectionError:()=>_v,payloadId:()=>Cv,validateJsonRpcError:()=>qQ});var Il=ge(()=>{c();Sp();bv();y3();Lt(Kt,Ot);w3();E3();I3();C3();x3()});var N3,Lp,D3,Lv=ge(()=>{c();N3=be(jn());Il();Lp=class extends bl{constructor(e){super(e),this.events=new N3.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async request(e,r){return this.requestStrict(xv(e.method,e.params||[],Tv().toString()),r)}async requestStrict(e,r){return new Promise(async(n,i)=>{if(!this.connection.connected)try{await this.open()}catch(s){i(s)}this.events.on(`${e.id}`,s=>{Rp(s)?i(s.error):n(s.result)});try{await this.connection.send(e,r)}catch(s){i(s)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),Rv(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}},D3=Lp});var O3={};at(O3,{JsonRpcProvider:()=>Lp,default:()=>XQ});var XQ,P3=ge(()=>{c();Lv();Lv();XQ=D3});var R3=v((mce,B3)=>{"use strict";c();B3.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}});var F3,L3,ZQ,ek,tk,Fp,M3,Fv=ge(()=>{c();F3=be(jn());Td();Il();L3=10,ZQ=()=>typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:R3(),ek=()=>typeof window<"u",tk=ZQ(),Fp=class{constructor(e){if(this.url=e,this.events=new F3.EventEmitter,this.registering=!1,!Bp(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,r)=>{if(typeof this.socket>"u"){r(new Error("Connection already closed"));return}this.socket.onclose=n=>{this.onClose(n),e()},this.socket.close()})}async send(e,r){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(Zc(e))}catch(n){this.onError(e.id,n)}}register(e=this.url){if(!Bp(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){let r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return i(new Error("WebSocket connection is missing or invalid"));n(this.socket)})})}return this.url=e,this.registering=!0,new Promise((r,n)=>{let i=(0,Kt.isReactNative)()?void 0:{rejectUnauthorized:!Pv(e)},s=new tk(e,[],i);ek()?s.onerror=o=>{let a=o;n(this.emitError(a.error))}:s.on("error",o=>{n(this.emitError(o))}),s.onopen=()=>{this.onOpen(s),r(s)}})}onOpen(e){e.onmessage=r=>this.onPayload(r),e.onclose=r=>this.onClose(r),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;let r=typeof e.data=="string"?Xc(e.data):e.data;this.events.emit("payload",r)}onError(e,r){let n=this.parseError(r),i=n.message||n.toString(),s=Nv(e,i);this.events.emit("payload",s)}parseError(e,r=this.url){return _v(e,r,"WS")}resetMaxListeners(){this.events.getMaxListeners()>L3&&this.events.setMaxListeners(L3)}emitError(e){let r=this.parseError(new Error(e?.message||`WebSocket connection failed for URL: ${this.url}`));return this.events.emit("register_error",r),r}},M3=Fp});var U3={};at(U3,{WsConnection:()=>Fp,default:()=>rk});var rk,q3=ge(()=>{c();Fv();Fv();rk=M3});var v6=v((Sl,Pu)=>{c();var nk=200,zv="__lodash_hash_undefined__",Qp=1,J3=2,X3=9007199254740991,Mp="[object Arguments]",Vv="[object Array]",ik="[object AsyncFunction]",Z3="[object Boolean]",e6="[object Date]",t6="[object Error]",r6="[object Function]",sk="[object GeneratorFunction]",Up="[object Map]",n6="[object Number]",ok="[object Null]",Ou="[object Object]",V3="[object Promise]",ak="[object Proxy]",i6="[object RegExp]",qp="[object Set]",s6="[object String]",uk="[object Symbol]",ck="[object Undefined]",Hv="[object WeakMap]",o6="[object ArrayBuffer]",Vp="[object DataView]",lk="[object Float32Array]",fk="[object Float64Array]",hk="[object Int8Array]",dk="[object Int16Array]",pk="[object Int32Array]",gk="[object Uint8Array]",yk="[object Uint8ClampedArray]",mk="[object Uint16Array]",wk="[object Uint32Array]",Ek=/[\\^$.*+?()[\]{}|]/g,vk=/^\[object .+?Constructor\]$/,Ak=/^(?:0|[1-9]\d*)$/,Ye={};Ye[lk]=Ye[fk]=Ye[hk]=Ye[dk]=Ye[pk]=Ye[gk]=Ye[yk]=Ye[mk]=Ye[wk]=!0;Ye[Mp]=Ye[Vv]=Ye[o6]=Ye[Z3]=Ye[Vp]=Ye[e6]=Ye[t6]=Ye[r6]=Ye[Up]=Ye[n6]=Ye[Ou]=Ye[i6]=Ye[qp]=Ye[s6]=Ye[Hv]=!1;var a6=typeof global=="object"&&global&&global.Object===Object&&global,_k=typeof self=="object"&&self&&self.Object===Object&&self,Xn=a6||_k||Function("return this")(),u6=typeof Sl=="object"&&Sl&&!Sl.nodeType&&Sl,H3=u6&&typeof Pu=="object"&&Pu&&!Pu.nodeType&&Pu,c6=H3&&H3.exports===u6,Mv=c6&&a6.process,j3=function(){try{return Mv&&Mv.binding&&Mv.binding("util")}catch{}}(),G3=j3&&j3.isTypedArray;function bk(t,e){for(var r=-1,n=t==null?0:t.length,i=0,s=[];++r<n;){var o=t[r];e(o,r,t)&&(s[i++]=o)}return s}function Ik(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}function Sk(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}function Ck(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}function Tk(t){return function(e){return t(e)}}function xk(t,e){return t.has(e)}function Nk(t,e){return t?.[e]}function Dk(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}function Ok(t,e){return function(r){return t(e(r))}}function Pk(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var Bk=Array.prototype,Rk=Function.prototype,kp=Object.prototype,Uv=Xn["__core-js_shared__"],l6=Rk.toString,_n=kp.hasOwnProperty,Q3=function(){var t=/[^.]+$/.exec(Uv&&Uv.keys&&Uv.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),f6=kp.toString,Lk=RegExp("^"+l6.call(_n).replace(Ek,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),k3=c6?Xn.Buffer:void 0,Hp=Xn.Symbol,K3=Xn.Uint8Array,h6=kp.propertyIsEnumerable,Fk=Bk.splice,fo=Hp?Hp.toStringTag:void 0,z3=Object.getOwnPropertySymbols,Mk=k3?k3.isBuffer:void 0,Uk=Ok(Object.keys,Object),jv=Bu(Xn,"DataView"),Cl=Bu(Xn,"Map"),Gv=Bu(Xn,"Promise"),Qv=Bu(Xn,"Set"),kv=Bu(Xn,"WeakMap"),Tl=Bu(Object,"create"),qk=go(jv),Vk=go(Cl),Hk=go(Gv),jk=go(Qv),Gk=go(kv),W3=Hp?Hp.prototype:void 0,qv=W3?W3.valueOf:void 0;function ho(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Qk(){this.__data__=Tl?Tl(null):{},this.size=0}function kk(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function Kk(t){var e=this.__data__;if(Tl){var r=e[t];return r===zv?void 0:r}return _n.call(e,t)?e[t]:void 0}function zk(t){var e=this.__data__;return Tl?e[t]!==void 0:_n.call(e,t)}function Wk(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Tl&&e===void 0?zv:e,this}ho.prototype.clear=Qk;ho.prototype.delete=kk;ho.prototype.get=Kk;ho.prototype.has=zk;ho.prototype.set=Wk;function Zn(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function $k(){this.__data__=[],this.size=0}function Yk(t){var e=this.__data__,r=Kp(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():Fk.call(e,r,1),--this.size,!0}function Jk(t){var e=this.__data__,r=Kp(e,t);return r<0?void 0:e[r][1]}function Xk(t){return Kp(this.__data__,t)>-1}function Zk(t,e){var r=this.__data__,n=Kp(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}Zn.prototype.clear=$k;Zn.prototype.delete=Yk;Zn.prototype.get=Jk;Zn.prototype.has=Xk;Zn.prototype.set=Zk;function po(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function eK(){this.size=0,this.__data__={hash:new ho,map:new(Cl||Zn),string:new ho}}function tK(t){var e=zp(this,t).delete(t);return this.size-=e?1:0,e}function rK(t){return zp(this,t).get(t)}function nK(t){return zp(this,t).has(t)}function iK(t,e){var r=zp(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}po.prototype.clear=eK;po.prototype.delete=tK;po.prototype.get=rK;po.prototype.has=nK;po.prototype.set=iK;function jp(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new po;++e<r;)this.add(t[e])}function sK(t){return this.__data__.set(t,zv),this}function oK(t){return this.__data__.has(t)}jp.prototype.add=jp.prototype.push=sK;jp.prototype.has=oK;function ki(t){var e=this.__data__=new Zn(t);this.size=e.size}function aK(){this.__data__=new Zn,this.size=0}function uK(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function cK(t){return this.__data__.get(t)}function lK(t){return this.__data__.has(t)}function fK(t,e){var r=this.__data__;if(r instanceof Zn){var n=r.__data__;if(!Cl||n.length<nk-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new po(n)}return r.set(t,e),this.size=r.size,this}ki.prototype.clear=aK;ki.prototype.delete=uK;ki.prototype.get=cK;ki.prototype.has=lK;ki.prototype.set=fK;function hK(t,e){var r=Gp(t),n=!r&&TK(t),i=!r&&!n&&Kv(t),s=!r&&!n&&!i&&E6(t),o=r||n||i||s,a=o?Ck(t.length,String):[],u=a.length;for(var l in t)(e||_n.call(t,l))&&!(o&&(l=="length"||i&&(l=="offset"||l=="parent")||s&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||_K(l,u)))&&a.push(l);return a}function Kp(t,e){for(var r=t.length;r--;)if(g6(t[r][0],e))return r;return-1}function dK(t,e,r){var n=e(t);return Gp(t)?n:Ik(n,r(t))}function Nl(t){return t==null?t===void 0?ck:ok:fo&&fo in Object(t)?vK(t):CK(t)}function $3(t){return xl(t)&&Nl(t)==Mp}function d6(t,e,r,n,i){return t===e?!0:t==null||e==null||!xl(t)&&!xl(e)?t!==t&&e!==e:pK(t,e,r,n,d6,i)}function pK(t,e,r,n,i,s){var o=Gp(t),a=Gp(e),u=o?Vv:Qi(t),l=a?Vv:Qi(e);u=u==Mp?Ou:u,l=l==Mp?Ou:l;var f=u==Ou,d=l==Ou,y=u==l;if(y&&Kv(t)){if(!Kv(e))return!1;o=!0,f=!1}if(y&&!f)return s||(s=new ki),o||E6(t)?p6(t,e,r,n,i,s):wK(t,e,u,r,n,i,s);if(!(r&Qp)){var w=f&&_n.call(t,"__wrapped__"),E=d&&_n.call(e,"__wrapped__");if(w||E){var T=w?t.value():t,R=E?e.value():e;return s||(s=new ki),i(T,R,r,n,s)}}return y?(s||(s=new ki),EK(t,e,r,n,i,s)):!1}function gK(t){if(!w6(t)||IK(t))return!1;var e=y6(t)?Lk:vk;return e.test(go(t))}function yK(t){return xl(t)&&m6(t.length)&&!!Ye[Nl(t)]}function mK(t){if(!SK(t))return Uk(t);var e=[];for(var r in Object(t))_n.call(t,r)&&r!="constructor"&&e.push(r);return e}function p6(t,e,r,n,i,s){var o=r&Qp,a=t.length,u=e.length;if(a!=u&&!(o&&u>a))return!1;var l=s.get(t);if(l&&s.get(e))return l==e;var f=-1,d=!0,y=r&J3?new jp:void 0;for(s.set(t,e),s.set(e,t);++f<a;){var w=t[f],E=e[f];if(n)var T=o?n(E,w,f,e,t,s):n(w,E,f,t,e,s);if(T!==void 0){if(T)continue;d=!1;break}if(y){if(!Sk(e,function(R,_){if(!xk(y,_)&&(w===R||i(w,R,r,n,s)))return y.push(_)})){d=!1;break}}else if(!(w===E||i(w,E,r,n,s))){d=!1;break}}return s.delete(t),s.delete(e),d}function wK(t,e,r,n,i,s,o){switch(r){case Vp:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case o6:return!(t.byteLength!=e.byteLength||!s(new K3(t),new K3(e)));case Z3:case e6:case n6:return g6(+t,+e);case t6:return t.name==e.name&&t.message==e.message;case i6:case s6:return t==e+"";case Up:var a=Dk;case qp:var u=n&Qp;if(a||(a=Pk),t.size!=e.size&&!u)return!1;var l=o.get(t);if(l)return l==e;n|=J3,o.set(t,e);var f=p6(a(t),a(e),n,i,s,o);return o.delete(t),f;case uk:if(qv)return qv.call(t)==qv.call(e)}return!1}function EK(t,e,r,n,i,s){var o=r&Qp,a=Y3(t),u=a.length,l=Y3(e),f=l.length;if(u!=f&&!o)return!1;for(var d=u;d--;){var y=a[d];if(!(o?y in e:_n.call(e,y)))return!1}var w=s.get(t);if(w&&s.get(e))return w==e;var E=!0;s.set(t,e),s.set(e,t);for(var T=o;++d<u;){y=a[d];var R=t[y],_=e[y];if(n)var B=o?n(_,R,y,e,t,s):n(R,_,y,t,e,s);if(!(B===void 0?R===_||i(R,_,r,n,s):B)){E=!1;break}T||(T=y=="constructor")}if(E&&!T){var x=t.constructor,O=e.constructor;x!=O&&"constructor"in t&&"constructor"in e&&!(typeof x=="function"&&x instanceof x&&typeof O=="function"&&O instanceof O)&&(E=!1)}return s.delete(t),s.delete(e),E}function Y3(t){return dK(t,DK,AK)}function zp(t,e){var r=t.__data__;return bK(e)?r[typeof e=="string"?"string":"hash"]:r.map}function Bu(t,e){var r=Nk(t,e);return gK(r)?r:void 0}function vK(t){var e=_n.call(t,fo),r=t[fo];try{t[fo]=void 0;var n=!0}catch{}var i=f6.call(t);return n&&(e?t[fo]=r:delete t[fo]),i}var AK=z3?function(t){return t==null?[]:(t=Object(t),bk(z3(t),function(e){return h6.call(t,e)}))}:OK,Qi=Nl;(jv&&Qi(new jv(new ArrayBuffer(1)))!=Vp||Cl&&Qi(new Cl)!=Up||Gv&&Qi(Gv.resolve())!=V3||Qv&&Qi(new Qv)!=qp||kv&&Qi(new kv)!=Hv)&&(Qi=function(t){var e=Nl(t),r=e==Ou?t.constructor:void 0,n=r?go(r):"";if(n)switch(n){case qk:return Vp;case Vk:return Up;case Hk:return V3;case jk:return qp;case Gk:return Hv}return e});function _K(t,e){return e=e??X3,!!e&&(typeof t=="number"||Ak.test(t))&&t>-1&&t%1==0&&t<e}function bK(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function IK(t){return!!Q3&&Q3 in t}function SK(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||kp;return t===r}function CK(t){return f6.call(t)}function go(t){if(t!=null){try{return l6.call(t)}catch{}try{return t+""}catch{}}return""}function g6(t,e){return t===e||t!==t&&e!==e}var TK=$3(function(){return arguments}())?$3:function(t){return xl(t)&&_n.call(t,"callee")&&!h6.call(t,"callee")},Gp=Array.isArray;function xK(t){return t!=null&&m6(t.length)&&!y6(t)}var Kv=Mk||PK;function NK(t,e){return d6(t,e)}function y6(t){if(!w6(t))return!1;var e=Nl(t);return e==r6||e==sk||e==ik||e==ak}function m6(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=X3}function w6(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function xl(t){return t!=null&&typeof t=="object"}var E6=G3?Tk(G3):yK;function DK(t){return xK(t)?hK(t):mK(t)}function OK(){return[]}function PK(){return!1}Pu.exports=NK});var _P=v(ve=>{"use strict";c();Object.defineProperty(ve,"__esModule",{value:!0});var yo=jn(),BK=hd(),RK=t2(),ig=m2(),tt=DE(),Ki=zE(),A6=(Td(),nt(I2)),LK=(WN(),nt(zN)),ee=_p(),FK=(X1(),nt(J1)),It=ro(),MK=(P3(),nt(O3)),Hr=(Il(),nt(Kt)),UK=(q3(),nt(U3)),qK=v6();function Pl(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}function VK(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}),e.default=t,Object.freeze(e)}var HK=Pl(yo),U6=Pl(BK),jK=Pl(RK),Wp=VK(LK),GK=Pl(UK),QK=Pl(qK);function kK(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=t.length,u=t.charAt(0),l=Math.log(a)/Math.log(256),f=Math.log(256)/Math.log(a);function d(E){if(E instanceof Uint8Array||(ArrayBuffer.isView(E)?E=new Uint8Array(E.buffer,E.byteOffset,E.byteLength):Array.isArray(E)&&(E=Uint8Array.from(E))),!(E instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(E.length===0)return"";for(var T=0,R=0,_=0,B=E.length;_!==B&&E[_]===0;)_++,T++;for(var x=(B-_)*f+1>>>0,O=new Uint8Array(x);_!==B;){for(var P=E[_],L=0,b=x-1;(P!==0||L<R)&&b!==-1;b--,L++)P+=256*O[b]>>>0,O[b]=P%a>>>0,P=P/a>>>0;if(P!==0)throw new Error("Non-zero carry");R=L,_++}for(var C=x-R;C!==x&&O[C]===0;)C++;for(var M=u.repeat(T);C<x;++C)M+=t.charAt(O[C]);return M}function y(E){if(typeof E!="string")throw new TypeError("Expected String");if(E.length===0)return new Uint8Array;var T=0;if(E[T]!==" "){for(var R=0,_=0;E[T]===u;)R++,T++;for(var B=(E.length-T)*l+1>>>0,x=new Uint8Array(B);E[T];){var O=r[E.charCodeAt(T)];if(O===255)return;for(var P=0,L=B-1;(O!==0||P<_)&&L!==-1;L--,P++)O+=a*x[L]>>>0,x[L]=O%256>>>0,O=O/256>>>0;if(O!==0)throw new Error("Non-zero carry");_=P,T++}if(E[T]!==" "){for(var b=B-_;b!==B&&x[b]===0;)b++;for(var C=new Uint8Array(R+(B-b)),M=R;b!==B;)C[M++]=x[b++];return C}}}function w(E){var T=y(E);if(T)return T;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:y,decode:w}}var KK=kK,zK=KK,q6=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},WK=t=>new TextEncoder().encode(t),$K=t=>new TextDecoder().decode(t),Yv=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},Jv=class{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return V6(this,e)}},Xv=class{constructor(e){this.decoders=e}or(e){return V6(this,e)}decode(e){let r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},V6=(t,e)=>new Xv({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}}),Zv=class{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new Yv(e,r,n),this.decoder=new Jv(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},sg=({name:t,prefix:e,encode:r,decode:n})=>new Zv(t,e,r,n),Bl=({prefix:t,name:e,alphabet:r})=>{let{encode:n,decode:i}=zK(r,e);return sg({prefix:t,name:e,encode:n,decode:s=>q6(i(s))})},YK=(t,e,r,n)=>{let i={};for(let f=0;f<e.length;++f)i[e[f]]=f;let s=t.length;for(;t[s-1]==="=";)--s;let o=new Uint8Array(s*r/8|0),a=0,u=0,l=0;for(let f=0;f<s;++f){let d=i[t[f]];if(d===void 0)throw new SyntaxError(`Non-${n} character`);u=u<<r|d,a+=r,a>=8&&(a-=8,o[l++]=255&u>>a)}if(a>=r||255&u<<8-a)throw new SyntaxError("Unexpected end of data");return o},JK=(t,e,r)=>{let n=e[e.length-1]==="=",i=(1<<r)-1,s="",o=0,a=0;for(let u=0;u<t.length;++u)for(a=a<<8|t[u],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},Mt=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>sg({prefix:e,name:t,encode(i){return JK(i,n,r)},decode(i){return YK(i,n,r,t)}}),XK=sg({prefix:"\0",name:"identity",encode:t=>$K(t),decode:t=>WK(t)}),ZK=Object.freeze({__proto__:null,identity:XK}),ez=Mt({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),tz=Object.freeze({__proto__:null,base2:ez}),rz=Mt({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),nz=Object.freeze({__proto__:null,base8:rz}),iz=Bl({prefix:"9",name:"base10",alphabet:"0123456789"}),sz=Object.freeze({__proto__:null,base10:iz}),oz=Mt({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),az=Mt({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),uz=Object.freeze({__proto__:null,base16:oz,base16upper:az}),cz=Mt({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),lz=Mt({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),fz=Mt({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),hz=Mt({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),dz=Mt({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),pz=Mt({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),gz=Mt({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),yz=Mt({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),mz=Mt({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),wz=Object.freeze({__proto__:null,base32:cz,base32upper:lz,base32pad:fz,base32padupper:hz,base32hex:dz,base32hexupper:pz,base32hexpad:gz,base32hexpadupper:yz,base32z:mz}),Ez=Bl({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),vz=Bl({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),Az=Object.freeze({__proto__:null,base36:Ez,base36upper:vz}),_z=Bl({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),bz=Bl({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Iz=Object.freeze({__proto__:null,base58btc:_z,base58flickr:bz}),Sz=Mt({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Cz=Mt({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Tz=Mt({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),xz=Mt({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),Nz=Object.freeze({__proto__:null,base64:Sz,base64pad:Cz,base64url:Tz,base64urlpad:xz}),H6=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),Dz=H6.reduce((t,e,r)=>(t[r]=e,t),[]),Oz=H6.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function Pz(t){return t.reduce((e,r)=>(e+=Dz[r],e),"")}function Bz(t){let e=[];for(let r of t){let n=Oz[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}var Rz=sg({prefix:"\u{1F680}",name:"base256emoji",encode:Pz,decode:Bz}),Lz=Object.freeze({__proto__:null,base256emoji:Rz}),Fz=j6,_6=128,Mz=127,Uz=~Mz,qz=Math.pow(2,31);function j6(t,e,r){e=e||[],r=r||0;for(var n=r;t>=qz;)e[r++]=t&255|_6,t/=128;for(;t&Uz;)e[r++]=t&255|_6,t>>>=7;return e[r]=t|0,j6.bytes=r-n+1,e}var Vz=eA,Hz=128,b6=127;function eA(t,n){var r=0,n=n||0,i=0,s=n,o,a=t.length;do{if(s>=a)throw eA.bytes=0,new RangeError("Could not decode varint");o=t[s++],r+=i<28?(o&b6)<<i:(o&b6)*Math.pow(2,i),i+=7}while(o>=Hz);return eA.bytes=s-n,r}var jz=Math.pow(2,7),Gz=Math.pow(2,14),Qz=Math.pow(2,21),kz=Math.pow(2,28),Kz=Math.pow(2,35),zz=Math.pow(2,42),Wz=Math.pow(2,49),$z=Math.pow(2,56),Yz=Math.pow(2,63),Jz=function(t){return t<jz?1:t<Gz?2:t<Qz?3:t<kz?4:t<Kz?5:t<zz?6:t<Wz?7:t<$z?8:t<Yz?9:10},Xz={encode:Fz,decode:Vz,encodingLength:Jz},G6=Xz,I6=(t,e,r=0)=>(G6.encode(t,e,r),e),S6=t=>G6.encodingLength(t),tA=(t,e)=>{let r=e.byteLength,n=S6(t),i=n+S6(r),s=new Uint8Array(i+r);return I6(t,s,0),I6(r,s,n),s.set(e,i),new rA(t,r,e,s)},rA=class{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}},Q6=({name:t,code:e,encode:r})=>new nA(t,e,r),nA=class{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){let r=this.encode(e);return r instanceof Uint8Array?tA(this.code,r):r.then(n=>tA(this.code,n))}else throw Error("Unknown type, must be binary type")}},k6=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),Zz=Q6({name:"sha2-256",code:18,encode:k6("SHA-256")}),eW=Q6({name:"sha2-512",code:19,encode:k6("SHA-512")}),tW=Object.freeze({__proto__:null,sha256:Zz,sha512:eW}),K6=0,rW="identity",z6=q6,nW=t=>tA(K6,z6(t)),iW={code:K6,name:rW,encode:z6,digest:nW},sW=Object.freeze({__proto__:null,identity:iW});new TextEncoder,new TextDecoder;var C6={...ZK,...tz,...nz,...sz,...uz,...wz,...Az,...Iz,...Nz,...Lz};({...tW,...sW});function oW(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}function W6(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}var T6=W6("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),Wv=W6("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);let e=oW(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),aW={utf8:T6,"utf-8":T6,hex:C6.base16,latin1:Wv,ascii:Wv,binary:Wv,...C6};function uW(t,e="utf8"){let r=aW[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t,"utf8"):r.decoder.decode(`${r.prefix}${t}`)}var aA="wc",$6=2,og="core",ei=`${aA}@2:${og}:`,Y6={name:og,logger:"error"},J6={database:":memory:"},X6="crypto",iA="client_ed25519_seed",Z6=It.ONE_DAY,eP="keychain",tP="0.3",rP="messages",nP="0.3",iP=It.SIX_HOURS,sP="publisher",oP="irn",aP="error",uA="wss://relay.walletconnect.com",uP="relayer",Ft={message:"relayer_message",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},cP="_subscription",Ol={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},lP=It.ONE_SECOND,cW={database:":memory:"},fP="2.6.2",hP="0.3",Vr={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},lW=It.THIRTY_DAYS,dP="subscription",pP="0.3",gP=It.FIVE_SECONDS*1e3,yP="pairing",mP="0.3",fW=It.THIRTY_DAYS,Ru={wc_pairingDelete:{req:{ttl:It.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:It.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:It.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:It.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:It.ONE_DAY,prompt:!1,tag:0},res:{ttl:It.ONE_DAY,prompt:!1,tag:0}}},qr={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},wP="history",EP="0.3",vP="expirer",Tr={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},AP="0.3",hW=It.ONE_DAY,$p=class{constructor(e,r){this.core=e,this.logger=r,this.keychain=new Map,this.name=eP,this.version=tP,this.initialized=!1,this.storagePrefix=ei,this.init=async()=>{if(!this.initialized){let n=await this.getKeyChain();typeof n<"u"&&(this.keychain=n),this.initialized=!0}},this.has=n=>(this.isInitialized(),this.keychain.has(n)),this.set=async(n,i)=>{this.isInitialized(),this.keychain.set(n,i),await this.persist()},this.get=n=>{this.isInitialized();let i=this.keychain.get(n);if(typeof i>"u"){let{message:s}=ee.getInternalError("NO_MATCHING_KEY",`${this.name}: ${n}`);throw new Error(s)}return i},this.del=async n=>{this.isInitialized(),this.keychain.delete(n),await this.persist()},this.core=e,this.logger=tt.generateChildLogger(r,this.name)}get context(){return tt.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,ee.mapToObj(e))}async getKeyChain(){let e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?ee.objToMap(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){let{message:e}=ee.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}},Yp=class{constructor(e,r,n){this.core=e,this.logger=r,this.name=X6,this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=i=>(this.isInitialized(),this.keychain.has(i)),this.getClientId=async()=>{this.isInitialized();let i=await this.getClientSeed(),s=Wp.generateKeyPair(i);return Wp.encodeIss(s.publicKey)},this.generateKeyPair=()=>{this.isInitialized();let i=ee.generateKeyPair();return this.setPrivateKey(i.publicKey,i.privateKey)},this.signJWT=async i=>{this.isInitialized();let s=await this.getClientSeed(),o=Wp.generateKeyPair(s),a=ee.generateRandomBytes32(),u=Z6;return await Wp.signJWT(a,i,u,o)},this.generateSharedKey=(i,s,o)=>{this.isInitialized();let a=this.getPrivateKey(i),u=ee.deriveSymKey(a,s);return this.setSymKey(u,o)},this.setSymKey=async(i,s)=>{this.isInitialized();let o=s||ee.hashKey(i);return await this.keychain.set(o,i),o},this.deleteKeyPair=async i=>{this.isInitialized(),await this.keychain.del(i)},this.deleteSymKey=async i=>{this.isInitialized(),await this.keychain.del(i)},this.encode=async(i,s,o)=>{this.isInitialized();let a=ee.validateEncoding(o),u=A6.safeJsonStringify(s);if(ee.isTypeOneEnvelope(a)){let y=a.senderPublicKey,w=a.receiverPublicKey;i=await this.generateSharedKey(y,w)}let l=this.getSymKey(i),{type:f,senderPublicKey:d}=a;return ee.encrypt({type:f,symKey:l,message:u,senderPublicKey:d})},this.decode=async(i,s,o)=>{this.isInitialized();let a=ee.validateDecoding(s,o);if(ee.isTypeOneEnvelope(a)){let f=a.receiverPublicKey,d=a.senderPublicKey;i=await this.generateSharedKey(f,d)}let u=this.getSymKey(i),l=ee.decrypt({symKey:u,encoded:s});return A6.safeJsonParse(l)},this.getPayloadType=i=>{let s=ee.deserialize(i);return ee.decodeTypeByte(s.type)},this.getPayloadSenderPublicKey=i=>{let s=ee.deserialize(i);return s.senderPublicKey?FK.toString(s.senderPublicKey,ee.BASE16):void 0},this.core=e,this.logger=tt.generateChildLogger(r,this.name),this.keychain=n||new $p(this.core,this.logger)}get context(){return tt.getLoggerContext(this.logger)}async setPrivateKey(e,r){return await this.keychain.set(e,r),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(iA)}catch{e=ee.generateRandomBytes32(),await this.keychain.set(iA,e)}return uW(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){let{message:e}=ee.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}},Jp=class extends Ki.IMessageTracker{constructor(e,r){super(e,r),this.logger=e,this.core=r,this.messages=new Map,this.name=rP,this.version=nP,this.initialized=!1,this.storagePrefix=ei,this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{let n=await this.getRelayerMessages();typeof n<"u"&&(this.messages=n),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(n){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(n)}finally{this.initialized=!0}}},this.set=async(n,i)=>{this.isInitialized();let s=ee.hashMessage(i),o=this.messages.get(n);return typeof o>"u"&&(o={}),typeof o[s]<"u"||(o[s]=i,this.messages.set(n,o),await this.persist()),s},this.get=n=>{this.isInitialized();let i=this.messages.get(n);return typeof i>"u"&&(i={}),i},this.has=(n,i)=>{this.isInitialized();let s=this.get(n),o=ee.hashMessage(i);return typeof s[o]<"u"},this.del=async n=>{this.isInitialized(),this.messages.delete(n),await this.persist()},this.logger=tt.generateChildLogger(e,this.name),this.core=r}get context(){return tt.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,ee.mapToObj(e))}async getRelayerMessages(){let e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?ee.objToMap(e):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){let{message:e}=ee.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}},sA=class extends Ki.IPublisher{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,this.events=new yo.EventEmitter,this.name=sP,this.queue=new Map,this.publishTimeout=1e4,this.publish=async(n,i,s)=>{this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:n,message:i,opts:s}});try{let o=s?.ttl||iP,a=ee.getRelayProtocolName(s),u=s?.prompt||!1,l=s?.tag||0,f={topic:n,message:i,opts:{ttl:o,relay:a,prompt:u,tag:l}},d=ee.hashMessage(i);this.queue.set(d,f);try{await await ee.createExpiringPromise(this.rpcPublish(n,i,o,a,u,l),this.publishTimeout),this.relayer.events.emit(Ft.publish,f)}catch{this.logger.debug("Publishing Payload stalled"),this.relayer.events.emit(Ft.connection_stalled);return}this.onPublish(d,f),this.logger.debug("Successfully Published Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:n,message:i,opts:s}})}catch(o){throw this.logger.debug("Failed to Publish Payload"),this.logger.error(o),o}},this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.relayer=e,this.logger=tt.generateChildLogger(r,this.name),this.registerEventListeners()}get context(){return tt.getLoggerContext(this.logger)}rpcPublish(e,r,n,i,s,o){var a,u,l,f;let d={method:ee.getRelayProtocolApi(i.protocol).publish,params:{topic:e,message:r,ttl:n,prompt:s,tag:o}};return ee.isUndefined((a=d.params)==null?void 0:a.prompt)&&((u=d.params)==null||delete u.prompt),ee.isUndefined((l=d.params)==null?void 0:l.tag)&&((f=d.params)==null||delete f.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:d}),this.relayer.request(d)}onPublish(e,r){this.queue.delete(e)}checkQueue(){this.queue.forEach(async e=>{let{topic:r,message:n,opts:i}=e;await this.publish(r,n,i)})}registerEventListeners(){this.relayer.core.heartbeat.on(ig.HEARTBEAT_EVENTS.pulse,()=>{this.checkQueue()})}},oA=class{constructor(){this.map=new Map,this.set=(e,r)=>{let n=this.get(e);this.exists(e,r)||this.map.set(e,[...n,r])},this.get=e=>this.map.get(e)||[],this.exists=(e,r)=>this.get(e).includes(r),this.delete=(e,r)=>{if(typeof r>"u"){this.map.delete(e);return}if(!this.map.has(e))return;let n=this.get(e);if(!this.exists(e,r))return;let i=n.filter(s=>s!==r);if(!i.length){this.map.delete(e);return}this.map.set(e,i)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}},dW=Object.defineProperty,pW=Object.defineProperties,gW=Object.getOwnPropertyDescriptors,x6=Object.getOwnPropertySymbols,yW=Object.prototype.hasOwnProperty,mW=Object.prototype.propertyIsEnumerable,N6=(t,e,r)=>e in t?dW(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Dl=(t,e)=>{for(var r in e||(e={}))yW.call(e,r)&&N6(t,r,e[r]);if(x6)for(var r of x6(e))mW.call(e,r)&&N6(t,r,e[r]);return t},$v=(t,e)=>pW(t,gW(e)),Xp=class extends Ki.ISubscriber{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,this.subscriptions=new Map,this.topicMap=new oA,this.events=new yo.EventEmitter,this.name=dP,this.version=pP,this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=ei,this.subscribeTimeout=1e4,this.restartInProgress=!1,this.batchSubscribeTopicsLimit=500,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restart(),this.registerEventListeners(),this.onEnable(),this.clientId=await this.relayer.core.crypto.getClientId())},this.subscribe=async(n,i)=>{await this.restartToComplete(),this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}});try{let s=ee.getRelayProtocolName(i),o={topic:n,relay:s};this.pending.set(n,o);let a=await this.rpcSubscribe(n,s);return this.onSubscribe(a,o),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}}),a}catch(s){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(s),s}},this.unsubscribe=async(n,i)=>{await this.restartToComplete(),this.isInitialized(),typeof i?.id<"u"?await this.unsubscribeById(n,i.id,i):await this.unsubscribeByTopic(n,i)},this.isSubscribed=async n=>this.topics.includes(n)?!0:await new Promise((i,s)=>{let o=new It.Watch;o.start(this.pendingSubscriptionWatchLabel);let a=setInterval(()=>{!this.pending.has(n)&&this.topics.includes(n)&&(clearInterval(a),o.stop(this.pendingSubscriptionWatchLabel),i(!0)),o.elapsed(this.pendingSubscriptionWatchLabel)>=gP&&(clearInterval(a),o.stop(this.pendingSubscriptionWatchLabel),s(!1))},this.pollingInterval)}),this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.restart=async()=>{this.restartInProgress=!0,await this.restore(),await this.reset(),this.restartInProgress=!1},this.relayer=e,this.logger=tt.generateChildLogger(r,this.name),this.clientId=""}get context(){return tt.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(e,r){let n=!1;try{n=this.getSubscription(e).topic===r}catch{}return n}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,r){let n=this.topicMap.get(e);await Promise.all(n.map(async i=>await this.unsubscribeById(e,i,r)))}async unsubscribeById(e,r,n){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}});try{let i=ee.getRelayProtocolName(n);await this.rpcUnsubscribe(e,r,i);let s=ee.getSdkError("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,r,s),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}})}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(e,r){let n={method:ee.getRelayProtocolApi(r.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{await await ee.createExpiringPromise(this.relayer.request(n),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(Ft.connection_stalled)}return ee.hashMessage(e+this.clientId)}async rpcBatchSubscribe(e){if(!e.length)return;let r=e[0].relay,n={method:ee.getRelayProtocolApi(r.protocol).batchSubscribe,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{return await await ee.createExpiringPromise(this.relayer.request(n),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Payload stalled"),this.relayer.events.emit(Ft.connection_stalled)}}rpcUnsubscribe(e,r,n){let i={method:ee.getRelayProtocolApi(n.protocol).unsubscribe,params:{topic:e,id:r}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(e,r){this.setSubscription(e,$v(Dl({},r),{id:e})),this.pending.delete(r.topic)}onBatchSubscribe(e){e.length&&e.forEach(r=>{this.setSubscription(r.id,Dl({},r)),this.pending.delete(r.topic)})}async onUnsubscribe(e,r,n){this.events.removeAllListeners(r),this.hasSubscription(r,e)&&this.deleteSubscription(r,n),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,r){this.subscriptions.has(e)||(this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:r}),this.addSubscription(e,r))}addSubscription(e,r){this.subscriptions.set(e,Dl({},r)),this.topicMap.set(r.topic,e),this.events.emit(Vr.created,r)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});let r=this.subscriptions.get(e);if(!r){let{message:n}=ee.getInternalError("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}deleteSubscription(e,r){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:r});let n=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(n.topic,e),this.events.emit(Vr.deleted,$v(Dl({},n),{reason:r}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(Vr.sync)}async reset(){if(!this.cached.length)return;let e=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<e;r++){let n=this.cached.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(n)}this.events.emit(Vr.resubscribed)}async restore(){try{let e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){let{message:r}=ee.getInternalError("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){if(!e.length)return;let r=await this.rpcBatchSubscribe(e);ee.isValidArray(r)&&this.onBatchSubscribe(r.map((n,i)=>$v(Dl({},e[i]),{id:n})))}async onConnect(){this.restartInProgress||(await this.restart(),this.onEnable())}onDisconnect(){this.onDisable()}async checkPending(){if(this.relayer.transportExplicitlyClosed)return;let e=[];this.pending.forEach(r=>{e.push(r)}),await this.batchSubscribe(e)}registerEventListeners(){this.relayer.core.heartbeat.on(ig.HEARTBEAT_EVENTS.pulse,async()=>{await this.checkPending()}),this.relayer.on(Ft.connect,async()=>{await this.onConnect()}),this.relayer.on(Ft.disconnect,()=>{this.onDisconnect()}),this.events.on(Vr.created,async e=>{let r=Vr.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),await this.persist()}),this.events.on(Vr.deleted,async e=>{let r=Vr.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),await this.persist()})}isInitialized(){if(!this.initialized){let{message:e}=ee.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(){this.restartInProgress&&await new Promise(e=>{let r=setInterval(()=>{this.restartInProgress||(clearInterval(r),e())},this.pollingInterval)})}},wW=Object.defineProperty,D6=Object.getOwnPropertySymbols,EW=Object.prototype.hasOwnProperty,vW=Object.prototype.propertyIsEnumerable,O6=(t,e,r)=>e in t?wW(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,AW=(t,e)=>{for(var r in e||(e={}))EW.call(e,r)&&O6(t,r,e[r]);if(D6)for(var r of D6(e))vW.call(e,r)&&O6(t,r,e[r]);return t},Zp=class extends Ki.IRelayer{constructor(e){super(e),this.protocol="wc",this.version=2,this.events=new yo.EventEmitter,this.name=uP,this.transportExplicitlyClosed=!1,this.initialized=!1,this.reconnecting=!1,this.connectionStatusPollingInterval=20,this.staleConnectionErrors=["socket hang up","socket stalled"],this.request=async r=>{this.logger.debug("Publishing Request Payload");try{return await this.toEstablishConnection(),await this.provider.request(r)}catch(n){throw this.logger.debug("Failed to Publish Request"),this.logger.error(n),n}},this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?tt.generateChildLogger(e.logger,this.name):U6.default(tt.getDefaultLoggerOptions({level:e.logger||aP})),this.messages=new Jp(this.logger,e.core),this.subscriber=new Xp(this,this.logger),this.publisher=new sA(this,this.logger),this.relayUrl=e?.relayUrl||uA,this.projectId=e.projectId,this.provider={}}async init(){this.logger.trace("Initialized"),await this.createProvider(),await Promise.all([this.messages.init(),this.transportOpen(),this.subscriber.init()]),this.registerEventListeners(),this.initialized=!0}get context(){return tt.getLoggerContext(this.logger)}get connected(){return this.provider.connection.connected}get connecting(){return this.provider.connection.connecting}async publish(e,r,n){this.isInitialized(),await this.publisher.publish(e,r,n),await this.recordMessageEvent({topic:e,message:r,publishedAt:Date.now()})}async subscribe(e,r){this.isInitialized();let n="";return await Promise.all([new Promise(i=>{this.subscriber.once(Vr.created,s=>{s.topic===e&&i()})}),new Promise(async i=>{n=await this.subscriber.subscribe(e,r),i()})]),n}async unsubscribe(e,r){this.isInitialized(),await this.subscriber.unsubscribe(e,r)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async transportClose(){this.transportExplicitlyClosed=!0,this.connected&&(await this.provider.disconnect(),this.events.emit(Ft.transport_closed))}async transportOpen(e){if(!this.reconnecting){this.relayUrl=e||this.relayUrl,this.transportExplicitlyClosed=!1,this.reconnecting=!0;try{await Promise.all([new Promise(r=>{this.initialized||r(),this.subscriber.once(Vr.resubscribed,()=>{r()})}),await Promise.race([new Promise(async(r,n)=>{await ee.createExpiringPromise(this.provider.connect(),5e3,"socket stalled").catch(i=>n(i)).then(()=>r()).finally(()=>this.removeListener(Ft.transport_closed,this.rejectTransportOpen))}),new Promise(r=>this.once(Ft.transport_closed,this.rejectTransportOpen))])])}catch(r){this.logger.error(r);let n=r;if(!this.isConnectionStalled(n.message))throw r;this.events.emit(Ft.transport_closed)}finally{this.reconnecting=!1}}}async restartTransport(e){this.transportExplicitlyClosed||(this.relayUrl=e||this.relayUrl,await this.transportClose(),await new Promise(r=>setTimeout(r,500)),await this.createProvider(),await this.transportOpen())}isConnectionStalled(e){return this.staleConnectionErrors.some(r=>e.includes(r))}rejectTransportOpen(){throw new Error("closeTransport called before connection was established")}async createProvider(){let e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new MK.JsonRpcProvider(new GK.default(ee.formatRelayRpcUrl({sdkVersion:fP,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0}))),this.registerProviderListeners()}async recordMessageEvent(e){let{topic:r,message:n}=e;await this.messages.set(r,n)}async shouldIgnoreMessageEvent(e){let{topic:r,message:n}=e;return await this.subscriber.isSubscribed(r)?this.messages.has(r,n):!0}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),Hr.isJsonRpcRequest(e)){if(!e.method.endsWith(cP))return;let r=e.params,{topic:n,message:i,publishedAt:s}=r.data,o={topic:n,message:i,publishedAt:s};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(AW({type:"event",event:r.id},o)),this.events.emit(r.id,o),await this.acknowledgePayload(e),await this.onMessageEvent(o)}}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(this.events.emit(Ft.message,e),await this.recordMessageEvent(e))}async acknowledgePayload(e){let r=Hr.formatJsonRpcResult(e.id,!0);await this.provider.connection.send(r)}registerProviderListeners(){this.provider.on(Ol.payload,e=>this.onProviderPayload(e)),this.provider.on(Ol.connect,()=>{this.events.emit(Ft.connect)}),this.provider.on(Ol.disconnect,()=>{this.onProviderDisconnect()}),this.provider.on(Ol.error,e=>{this.logger.error(e),this.events.emit(Ft.error,e)})}registerEventListeners(){this.events.on(Ft.connection_stalled,async()=>{await this.restartTransport()})}onProviderDisconnect(){this.events.emit(Ft.disconnect),this.attemptToReconnect()}attemptToReconnect(){this.transportExplicitlyClosed||setTimeout(async()=>{await this.restartTransport()},It.toMiliseconds(lP))}isInitialized(){if(!this.initialized){let{message:e}=ee.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(!this.connected){if(this.connecting)return await new Promise(e=>{let r=setInterval(()=>{this.connected&&(clearInterval(r),e())},this.connectionStatusPollingInterval)});await this.restartTransport()}}},_W=Object.defineProperty,P6=Object.getOwnPropertySymbols,bW=Object.prototype.hasOwnProperty,IW=Object.prototype.propertyIsEnumerable,B6=(t,e,r)=>e in t?_W(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,R6=(t,e)=>{for(var r in e||(e={}))bW.call(e,r)&&B6(t,r,e[r]);if(P6)for(var r of P6(e))IW.call(e,r)&&B6(t,r,e[r]);return t},eg=class extends Ki.IStore{constructor(e,r,n,i=ei,s=void 0){super(e,r,n,i),this.core=e,this.logger=r,this.name=n,this.map=new Map,this.version=hP,this.cached=[],this.initialized=!1,this.storagePrefix=ei,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!ee.isUndefined(o)?this.map.set(this.getKey(o),o):ee.isProposalStruct(o)?this.map.set(o.id,o):ee.isSessionStruct(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)},this.set=async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())},this.get=o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o)),this.getAll=o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(u=>QK.default(a[u],o[u]))):this.values),this.update=async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});let u=R6(R6({},this.getData(o)),a);this.map.set(o,u),await this.persist()},this.delete=async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),await this.persist())},this.logger=tt.generateChildLogger(r,this.name),this.storagePrefix=i,this.getKey=s}get context(){return tt.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){let r=this.map.get(e);if(!r){let{message:n}=ee.getInternalError("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(n),new Error(n)}return r}async persist(){await this.setDataStore(this.values)}async restore(){try{let e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){let{message:r}=ee.getInternalError("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){let{message:e}=ee.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}},tg=class{constructor(e,r){this.core=e,this.logger=r,this.name=yP,this.version=mP,this.events=new HK.default,this.initialized=!1,this.storagePrefix=ei,this.ignoredPayloadTypes=[ee.TYPE_1],this.registeredMethods=[],this.init=async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))},this.register=({methods:n})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...n])]},this.create=async()=>{this.isInitialized();let n=ee.generateRandomBytes32(),i=await this.core.crypto.setSymKey(n),s=ee.calcExpiry(It.FIVE_MINUTES),o={protocol:oP},a={topic:i,expiry:s,relay:o,active:!1},u=ee.formatUri({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:n,relay:o});return await this.pairings.set(i,a),await this.core.relayer.subscribe(i),this.core.expirer.set(i,s),{topic:i,uri:u}},this.pair=async n=>{this.isInitialized(),this.isValidPair(n);let{topic:i,symKey:s,relay:o}=ee.parseUri(n.uri);if(this.pairings.keys.includes(i))throw new Error(`Pairing already exists: ${i}`);if(this.core.crypto.hasKeys(i))throw new Error(`Keychain already exists: ${i}`);let a=ee.calcExpiry(It.FIVE_MINUTES),u={topic:i,relay:o,expiry:a,active:!1};return await this.pairings.set(i,u),await this.core.crypto.setSymKey(s,i),await this.core.relayer.subscribe(i,{relay:o}),this.core.expirer.set(i,a),n.activatePairing&&await this.activate({topic:i}),u},this.activate=async({topic:n})=>{this.isInitialized();let i=ee.calcExpiry(It.THIRTY_DAYS);await this.pairings.update(n,{active:!0,expiry:i}),this.core.expirer.set(n,i)},this.ping=async n=>{this.isInitialized(),await this.isValidPing(n);let{topic:i}=n;if(this.pairings.keys.includes(i)){let s=await this.sendRequest(i,"wc_pairingPing",{}),{done:o,resolve:a,reject:u}=ee.createDelayedPromise();this.events.once(ee.engineEvent("pairing_ping",s),({error:l})=>{l?u(l):a()}),await o()}},this.updateExpiry=async({topic:n,expiry:i})=>{this.isInitialized(),await this.pairings.update(n,{expiry:i})},this.updateMetadata=async({topic:n,metadata:i})=>{this.isInitialized(),await this.pairings.update(n,{peerMetadata:i})},this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=async n=>{this.isInitialized(),await this.isValidDisconnect(n);let{topic:i}=n;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",ee.getSdkError("USER_DISCONNECTED")),await this.deletePairing(i))},this.sendRequest=async(n,i,s)=>{let o=Hr.formatJsonRpcRequest(i,s),a=await this.core.crypto.encode(n,o),u=Ru[i].req;return this.core.history.set(n,o),await this.core.relayer.publish(n,a,u),o.id},this.sendResult=async(n,i,s)=>{let o=Hr.formatJsonRpcResult(n,s),a=await this.core.crypto.encode(i,o),u=await this.core.history.get(i,n),l=Ru[u.request.method].res;await this.core.relayer.publish(i,a,l),await this.core.history.resolve(o)},this.sendError=async(n,i,s)=>{let o=Hr.formatJsonRpcError(n,s),a=await this.core.crypto.encode(i,o),u=await this.core.history.get(i,n),l=Ru[u.request.method]?Ru[u.request.method].res:Ru.unregistered_method.res;await this.core.relayer.publish(i,a,l),await this.core.history.resolve(o)},this.deletePairing=async(n,i)=>{await this.core.relayer.unsubscribe(n),await Promise.all([this.pairings.delete(n,ee.getSdkError("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(n),i?Promise.resolve():this.core.expirer.del(n)])},this.cleanup=async()=>{let n=this.pairings.getAll().filter(i=>ee.isExpired(i.expiry));await Promise.all(n.map(i=>this.deletePairing(i.topic)))},this.onRelayEventRequest=n=>{let{topic:i,payload:s}=n,o=s.method;if(this.pairings.keys.includes(i))switch(o){case"wc_pairingPing":return this.onPairingPingRequest(i,s);case"wc_pairingDelete":return this.onPairingDeleteRequest(i,s);default:return this.onUnknownRpcMethodRequest(i,s)}},this.onRelayEventResponse=async n=>{let{topic:i,payload:s}=n,o=(await this.core.history.get(i,s.id)).request.method;if(this.pairings.keys.includes(i))switch(o){case"wc_pairingPing":return this.onPairingPingResponse(i,s);default:return this.onUnknownRpcMethodResponse(o)}},this.onPairingPingRequest=async(n,i)=>{let{id:s}=i;try{this.isValidPing({topic:n}),await this.sendResult(s,n,!0),this.events.emit("pairing_ping",{id:s,topic:n})}catch(o){await this.sendError(s,n,o),this.logger.error(o)}},this.onPairingPingResponse=(n,i)=>{let{id:s}=i;setTimeout(()=>{Hr.isJsonRpcResult(i)?this.events.emit(ee.engineEvent("pairing_ping",s),{}):Hr.isJsonRpcError(i)&&this.events.emit(ee.engineEvent("pairing_ping",s),{error:i.error})},500)},this.onPairingDeleteRequest=async(n,i)=>{let{id:s}=i;try{this.isValidDisconnect({topic:n}),await this.deletePairing(n),this.events.emit("pairing_delete",{id:s,topic:n})}catch(o){await this.sendError(s,n,o),this.logger.error(o)}},this.onUnknownRpcMethodRequest=async(n,i)=>{let{id:s,method:o}=i;try{if(this.registeredMethods.includes(o))return;let a=ee.getSdkError("WC_METHOD_UNSUPPORTED",o);await this.sendError(s,n,a),this.logger.error(a)}catch(a){await this.sendError(s,n,a),this.logger.error(a)}},this.onUnknownRpcMethodResponse=n=>{this.registeredMethods.includes(n)||this.logger.error(ee.getSdkError("WC_METHOD_UNSUPPORTED",n))},this.isValidPair=n=>{if(!ee.isValidParams(n)){let{message:i}=ee.getInternalError("MISSING_OR_INVALID",`pair() params: ${n}`);throw new Error(i)}if(!ee.isValidUrl(n.uri)){let{message:i}=ee.getInternalError("MISSING_OR_INVALID",`pair() uri: ${n.uri}`);throw new Error(i)}},this.isValidPing=async n=>{if(!ee.isValidParams(n)){let{message:s}=ee.getInternalError("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(s)}let{topic:i}=n;await this.isValidPairingTopic(i)},this.isValidDisconnect=async n=>{if(!ee.isValidParams(n)){let{message:s}=ee.getInternalError("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(s)}let{topic:i}=n;await this.isValidPairingTopic(i)},this.isValidPairingTopic=async n=>{if(!ee.isValidString(n,!1)){let{message:i}=ee.getInternalError("MISSING_OR_INVALID",`pairing topic should be a string: ${n}`);throw new Error(i)}if(!this.pairings.keys.includes(n)){let{message:i}=ee.getInternalError("NO_MATCHING_KEY",`pairing topic doesn't exist: ${n}`);throw new Error(i)}if(ee.isExpired(this.pairings.get(n).expiry)){await this.deletePairing(n);let{message:i}=ee.getInternalError("EXPIRED",`pairing topic: ${n}`);throw new Error(i)}},this.core=e,this.logger=tt.generateChildLogger(r,this.name),this.pairings=new eg(this.core,this.logger,this.name,this.storagePrefix)}get context(){return tt.getLoggerContext(this.logger)}isInitialized(){if(!this.initialized){let{message:e}=ee.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(Ft.message,async e=>{let{topic:r,message:n}=e;if(this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(n)))return;let i=await this.core.crypto.decode(r,n);Hr.isJsonRpcRequest(i)?(this.core.history.set(r,i),this.onRelayEventRequest({topic:r,payload:i})):Hr.isJsonRpcResponse(i)&&(await this.core.history.resolve(i),this.onRelayEventResponse({topic:r,payload:i}))})}registerExpirerEvents(){this.core.expirer.on(Tr.expired,async e=>{let{topic:r}=ee.parseExpirerTarget(e.target);r&&this.pairings.keys.includes(r)&&(await this.deletePairing(r,!0),this.events.emit("pairing_expire",{topic:r}))})}},rg=class extends Ki.IJsonRpcHistory{constructor(e,r){super(e,r),this.core=e,this.logger=r,this.records=new Map,this.events=new yo.EventEmitter,this.name=wP,this.version=EP,this.cached=[],this.initialized=!1,this.storagePrefix=ei,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.records.set(n.id,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(n,i,s)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:n,request:i,chainId:s}),this.records.has(i.id))return;let o={id:i.id,topic:n,request:{method:i.method,params:i.params||null},chainId:s};this.records.set(o.id,o),this.events.emit(qr.created,o)},this.resolve=async n=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:n}),!this.records.has(n.id))return;let i=await this.getRecord(n.id);typeof i.response>"u"&&(i.response=Hr.isJsonRpcError(n)?{error:n.error}:{result:n.result},this.records.set(i.id,i),this.events.emit(qr.updated,i))},this.get=async(n,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:n,id:i}),await this.getRecord(i)),this.delete=(n,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(s=>{if(s.topic===n){if(typeof i<"u"&&s.id!==i)return;this.records.delete(s.id),this.events.emit(qr.deleted,s)}})},this.exists=async(n,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===n:!1),this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.logger=tt.generateChildLogger(r,this.name)}get context(){return tt.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){let e=[];return this.values.forEach(r=>{if(typeof r.response<"u")return;let n={topic:r.topic,request:Hr.formatJsonRpcRequest(r.request.method,r.request.params,r.id),chainId:r.chainId};return e.push(n)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();let r=this.records.get(e);if(!r){let{message:n}=ee.getInternalError("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(qr.sync)}async restore(){try{let e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){let{message:r}=ee.getInternalError("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(qr.created,e=>{let r=qr.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e}),this.persist()}),this.events.on(qr.updated,e=>{let r=qr.updated;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e}),this.persist()}),this.events.on(qr.deleted,e=>{let r=qr.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e}),this.persist()})}isInitialized(){if(!this.initialized){let{message:e}=ee.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}},ng=class extends Ki.IExpirer{constructor(e,r){super(e,r),this.core=e,this.logger=r,this.expirations=new Map,this.events=new yo.EventEmitter,this.name=vP,this.version=AP,this.cached=[],this.initialized=!1,this.storagePrefix=ei,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.expirations.set(n.target,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=n=>{try{let i=this.formatTarget(n);return typeof this.getExpiration(i)<"u"}catch{return!1}},this.set=(n,i)=>{this.isInitialized();let s=this.formatTarget(n),o={target:s,expiry:i};this.expirations.set(s,o),this.checkExpiry(s,o),this.events.emit(Tr.created,{target:s,expiration:o})},this.get=n=>{this.isInitialized();let i=this.formatTarget(n);return this.getExpiration(i)},this.del=n=>{if(this.isInitialized(),this.has(n)){let i=this.formatTarget(n),s=this.getExpiration(i);this.expirations.delete(i),this.events.emit(Tr.deleted,{target:i,expiration:s})}},this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.logger=tt.generateChildLogger(r,this.name)}get context(){return tt.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return ee.formatTopicTarget(e);if(typeof e=="number")return ee.formatIdTarget(e);let{message:r}=ee.getInternalError("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(r)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Tr.sync)}async restore(){try{let e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){let{message:r}=ee.getInternalError("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){let r=this.expirations.get(e);if(!r){let{message:n}=ee.getInternalError("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(n),new Error(n)}return r}checkExpiry(e,r){let{expiry:n}=r;It.toMiliseconds(n)-Date.now()<=0&&this.expire(e,r)}expire(e,r){this.expirations.delete(e),this.events.emit(Tr.expired,{target:e,expiration:r})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,r)=>this.checkExpiry(r,e))}registerEventListeners(){this.core.heartbeat.on(ig.HEARTBEAT_EVENTS.pulse,()=>this.checkExpirations()),this.events.on(Tr.created,e=>{let r=Tr.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(Tr.expired,e=>{let r=Tr.expired;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(Tr.deleted,e=>{let r=Tr.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()})}isInitialized(){if(!this.initialized){let{message:e}=ee.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}},SW=Object.defineProperty,L6=Object.getOwnPropertySymbols,CW=Object.prototype.hasOwnProperty,TW=Object.prototype.propertyIsEnumerable,F6=(t,e,r)=>e in t?SW(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,M6=(t,e)=>{for(var r in e||(e={}))CW.call(e,r)&&F6(t,r,e[r]);if(L6)for(var r of L6(e))TW.call(e,r)&&F6(t,r,e[r]);return t},Lu=class extends Ki.ICore{constructor(e){super(e),this.protocol=aA,this.version=$6,this.name=og,this.events=new yo.EventEmitter,this.initialized=!1,this.on=(n,i)=>this.events.on(n,i),this.once=(n,i)=>this.events.once(n,i),this.off=(n,i)=>this.events.off(n,i),this.removeListener=(n,i)=>this.events.removeListener(n,i),this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||uA;let r=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:U6.default(tt.getDefaultLoggerOptions({level:e?.logger||Y6.logger}));this.logger=tt.generateChildLogger(r,this.name),this.heartbeat=new ig.HeartBeat,this.crypto=new Yp(this,this.logger,e?.keychain),this.history=new rg(this,this.logger),this.expirer=new ng(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new jK.default(M6(M6({},J6),e?.storageOptions)),this.relayer=new Zp({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new tg(this,this.logger)}static async init(e){let r=new Lu(e);return await r.initialize(),r}get context(){return tt.getLoggerContext(this.logger)}async start(){this.initialized||await this.initialize()}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}},xW=Lu;ve.CORE_CONTEXT=og,ve.CORE_DEFAULT=Y6,ve.CORE_PROTOCOL=aA,ve.CORE_STORAGE_OPTIONS=J6,ve.CORE_STORAGE_PREFIX=ei,ve.CORE_VERSION=$6,ve.CRYPTO_CLIENT_SEED=iA,ve.CRYPTO_CONTEXT=X6,ve.CRYPTO_JWT_TTL=Z6,ve.Core=xW,ve.Crypto=Yp,ve.EXPIRER_CONTEXT=vP,ve.EXPIRER_DEFAULT_TTL=hW,ve.EXPIRER_EVENTS=Tr,ve.EXPIRER_STORAGE_VERSION=AP,ve.Expirer=ng,ve.HISTORY_CONTEXT=wP,ve.HISTORY_EVENTS=qr,ve.HISTORY_STORAGE_VERSION=EP,ve.JsonRpcHistory=rg,ve.KEYCHAIN_CONTEXT=eP,ve.KEYCHAIN_STORAGE_VERSION=tP,ve.KeyChain=$p,ve.MESSAGES_CONTEXT=rP,ve.MESSAGES_STORAGE_VERSION=nP,ve.MessageTracker=Jp,ve.PAIRING_CONTEXT=yP,ve.PAIRING_DEFAULT_TTL=fW,ve.PAIRING_RPC_OPTS=Ru,ve.PAIRING_STORAGE_VERSION=mP,ve.PENDING_SUB_RESOLUTION_TIMEOUT=gP,ve.PUBLISHER_CONTEXT=sP,ve.PUBLISHER_DEFAULT_TTL=iP,ve.Pairing=tg,ve.RELAYER_CONTEXT=uP,ve.RELAYER_DEFAULT_LOGGER=aP,ve.RELAYER_DEFAULT_PROTOCOL=oP,ve.RELAYER_DEFAULT_RELAY_URL=uA,ve.RELAYER_EVENTS=Ft,ve.RELAYER_PROVIDER_EVENTS=Ol,ve.RELAYER_RECONNECT_TIMEOUT=lP,ve.RELAYER_SDK_VERSION=fP,ve.RELAYER_STORAGE_OPTIONS=cW,ve.RELAYER_SUBSCRIBER_SUFFIX=cP,ve.Relayer=Zp,ve.STORE_STORAGE_VERSION=hP,ve.SUBSCRIBER_CONTEXT=dP,ve.SUBSCRIBER_DEFAULT_TTL=lW,ve.SUBSCRIBER_EVENTS=Vr,ve.SUBSCRIBER_STORAGE_VERSION=pP,ve.Store=eg,ve.Subscriber=Xp,ve.default=Lu});var BP=v(it=>{"use strict";c();Object.defineProperty(it,"__esModule",{value:!0});var NW=hd(),zi=_P(),cA=DE(),SP=zE(),k=_p(),CP=jn(),st=ro(),St=(Il(),nt(Kt));function TP(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}var DW=TP(NW),OW=TP(CP),gA="wc",yA=2,mA="client",cg=`${gA}@${yA}:${mA}:`,ag={name:mA,logger:"error",controller:!1,relayUrl:"wss://relay.walletconnect.com"},PW={session_proposal:"session_proposal",session_update:"session_update",session_extend:"session_extend",session_ping:"session_ping",session_delete:"session_delete",session_expire:"session_expire",session_request:"session_request",session_request_sent:"session_request_sent",session_event:"session_event",proposal_expire:"proposal_expire"},BW={database:":memory:"},RW={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},LW="history",FW="0.3",xP="proposal",MW=st.THIRTY_DAYS,NP="Proposal expired",DP="session",Rl=st.SEVEN_DAYS,OP="engine",Fu={wc_sessionPropose:{req:{ttl:st.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:st.FIVE_MINUTES,prompt:!1,tag:1101}},wc_sessionSettle:{req:{ttl:st.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:st.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:st.ONE_DAY,prompt:!1,tag:1104},res:{ttl:st.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:st.ONE_DAY,prompt:!1,tag:1106},res:{ttl:st.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:st.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:st.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:st.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:st.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:st.ONE_DAY,prompt:!1,tag:1112},res:{ttl:st.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:st.THIRTY_SECONDS,prompt:!1,tag:1114},res:{ttl:st.THIRTY_SECONDS,prompt:!1,tag:1115}}},ug={min:st.FIVE_MINUTES,max:st.SEVEN_DAYS},PP="request",UW=Object.defineProperty,qW=Object.defineProperties,VW=Object.getOwnPropertyDescriptors,bP=Object.getOwnPropertySymbols,HW=Object.prototype.hasOwnProperty,jW=Object.prototype.propertyIsEnumerable,IP=(t,e,r)=>e in t?UW(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,xr=(t,e)=>{for(var r in e||(e={}))HW.call(e,r)&&IP(t,r,e[r]);if(bP)for(var r of bP(e))jW.call(e,r)&&IP(t,r,e[r]);return t},lA=(t,e)=>qW(t,VW(e)),fA=class extends SP.IEngine{constructor(e){super(e),this.name=OP,this.events=new OW.default,this.initialized=!1,this.ignoredPayloadTypes=[k.TYPE_1],this.init=async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.client.core.pairing.register({methods:Object.keys(Fu)}),this.initialized=!0)},this.connect=async r=>{this.isInitialized();let n=lA(xr({},r),{requiredNamespaces:r.requiredNamespaces||{},optionalNamespaces:r.optionalNamespaces||{}});await this.isValidConnect(n);let{pairingTopic:i,requiredNamespaces:s,optionalNamespaces:o,sessionProperties:a,relays:u}=n,l=i,f,d=!1;if(l&&(d=this.client.core.pairing.pairings.get(l).active),!l||!d){let{topic:x,uri:O}=await this.client.core.pairing.create();l=x,f=O}let y=await this.client.core.crypto.generateKeyPair(),w=xr({requiredNamespaces:s,optionalNamespaces:o,relays:u??[{protocol:zi.RELAYER_DEFAULT_PROTOCOL}],proposer:{publicKey:y,metadata:this.client.metadata}},a&&{sessionProperties:a}),{reject:E,resolve:T,done:R}=k.createDelayedPromise(st.FIVE_MINUTES,NP);if(this.events.once(k.engineEvent("session_connect"),async({error:x,session:O})=>{if(x)E(x);else if(O){O.self.publicKey=y;let P=lA(xr({},O),{requiredNamespaces:O.requiredNamespaces,optionalNamespaces:O.optionalNamespaces});await this.client.session.set(O.topic,P),await this.setExpiry(O.topic,O.expiry),l&&await this.client.core.pairing.updateMetadata({topic:l,metadata:O.peer.metadata}),T(P)}}),!l){let{message:x}=k.getInternalError("NO_MATCHING_KEY",`connect() pairing topic: ${l}`);throw new Error(x)}let _=await this.sendRequest(l,"wc_sessionPropose",w),B=k.calcExpiry(st.FIVE_MINUTES);return await this.setProposal(_,xr({id:_,expiry:B},w)),{uri:f,approval:R}},this.pair=async r=>(this.isInitialized(),await this.client.core.pairing.pair(r)),this.approve=async r=>{this.isInitialized(),await this.isValidApprove(r);let{id:n,relayProtocol:i,namespaces:s,sessionProperties:o}=r,a=this.client.proposal.get(n),{pairingTopic:u,proposer:l,requiredNamespaces:f,optionalNamespaces:d}=a;u=u||"",k.isValidObject(f)||(f=k.getRequiredNamespacesFromNamespaces(s,"approve()"));let y=await this.client.core.crypto.generateKeyPair(),w=l.publicKey,E=await this.client.core.crypto.generateSharedKey(y,w);u&&n&&(await this.client.core.pairing.updateMetadata({topic:u,metadata:l.metadata}),await this.sendResult(n,u,{relay:{protocol:i??"irn"},responderPublicKey:y}),await this.client.proposal.delete(n,k.getSdkError("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:u}));let T=xr({relay:{protocol:i??"irn"},namespaces:s,requiredNamespaces:f,optionalNamespaces:d,pairingTopic:u,controller:{publicKey:y,metadata:this.client.metadata},expiry:k.calcExpiry(Rl)},o&&{sessionProperties:o});await this.client.core.relayer.subscribe(E),await this.sendRequest(E,"wc_sessionSettle",T);let R=lA(xr({},T),{topic:E,pairingTopic:u,acknowledged:!1,self:T.controller,peer:{publicKey:l.publicKey,metadata:l.metadata},controller:y});return await this.client.session.set(E,R),await this.setExpiry(E,k.calcExpiry(Rl)),{topic:E,acknowledged:()=>new Promise(_=>_(this.client.session.get(E)))}},this.reject=async r=>{this.isInitialized(),await this.isValidReject(r);let{id:n,reason:i}=r,{pairingTopic:s}=this.client.proposal.get(n);s&&(await this.sendError(n,s,i),await this.client.proposal.delete(n,k.getSdkError("USER_DISCONNECTED")))},this.update=async r=>{this.isInitialized(),await this.isValidUpdate(r);let{topic:n,namespaces:i}=r,s=await this.sendRequest(n,"wc_sessionUpdate",{namespaces:i}),{done:o,resolve:a,reject:u}=k.createDelayedPromise();return this.events.once(k.engineEvent("session_update",s),({error:l})=>{l?u(l):a()}),await this.client.session.update(n,{namespaces:i}),{acknowledged:o}},this.extend=async r=>{this.isInitialized(),await this.isValidExtend(r);let{topic:n}=r,i=await this.sendRequest(n,"wc_sessionExtend",{}),{done:s,resolve:o,reject:a}=k.createDelayedPromise();return this.events.once(k.engineEvent("session_extend",i),({error:u})=>{u?a(u):o()}),await this.setExpiry(n,k.calcExpiry(Rl)),{acknowledged:s}},this.request=async r=>{this.isInitialized(),await this.isValidRequest(r);let{chainId:n,request:i,topic:s,expiry:o}=r,a=await this.sendRequest(s,"wc_sessionRequest",{request:i,chainId:n},o),{done:u,resolve:l,reject:f}=k.createDelayedPromise(o);return this.events.once(k.engineEvent("session_request",a),({error:d,result:y})=>{d?f(d):l(y)}),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:n,id:a}),await u()},this.respond=async r=>{this.isInitialized(),await this.isValidRespond(r);let{topic:n,response:i}=r,{id:s}=i;St.isJsonRpcResult(i)?await this.sendResult(s,n,i.result):St.isJsonRpcError(i)&&await this.sendError(s,n,i.error),this.deletePendingSessionRequest(r.response.id,{message:"fulfilled",code:0})},this.ping=async r=>{this.isInitialized(),await this.isValidPing(r);let{topic:n}=r;if(this.client.session.keys.includes(n)){let i=await this.sendRequest(n,"wc_sessionPing",{}),{done:s,resolve:o,reject:a}=k.createDelayedPromise();this.events.once(k.engineEvent("session_ping",i),({error:u})=>{u?a(u):o()}),await s()}else this.client.core.pairing.pairings.keys.includes(n)&&await this.client.core.pairing.ping({topic:n})},this.emit=async r=>{this.isInitialized(),await this.isValidEmit(r);let{topic:n,event:i,chainId:s}=r;await this.sendRequest(n,"wc_sessionEvent",{event:i,chainId:s})},this.disconnect=async r=>{this.isInitialized(),await this.isValidDisconnect(r);let{topic:n}=r;this.client.session.keys.includes(n)?(await this.sendRequest(n,"wc_sessionDelete",k.getSdkError("USER_DISCONNECTED")),await this.deleteSession(n)):await this.client.core.pairing.disconnect({topic:n})},this.find=r=>(this.isInitialized(),this.client.session.getAll().filter(n=>k.isSessionCompatible(n,r))),this.getPendingSessionRequests=()=>(this.isInitialized(),this.client.pendingRequest.getAll()),this.deleteSession=async(r,n)=>{let{self:i}=this.client.session.get(r);await this.client.core.relayer.unsubscribe(r),await Promise.all([this.client.session.delete(r,k.getSdkError("USER_DISCONNECTED")),this.client.core.crypto.deleteKeyPair(i.publicKey),this.client.core.crypto.deleteSymKey(r),n?Promise.resolve():this.client.core.expirer.del(r)])},this.deleteProposal=async(r,n)=>{await Promise.all([this.client.proposal.delete(r,k.getSdkError("USER_DISCONNECTED")),n?Promise.resolve():this.client.core.expirer.del(r)])},this.deletePendingSessionRequest=async(r,n,i=!1)=>{await Promise.all([this.client.pendingRequest.delete(r,n),i?Promise.resolve():this.client.core.expirer.del(r)])},this.setExpiry=async(r,n)=>{this.client.session.keys.includes(r)&&await this.client.session.update(r,{expiry:n}),this.client.core.expirer.set(r,n)},this.setProposal=async(r,n)=>{await this.client.proposal.set(r,n),this.client.core.expirer.set(r,n.expiry)},this.setPendingSessionRequest=async r=>{let n=Fu.wc_sessionRequest.req.ttl,{id:i,topic:s,params:o}=r;await this.client.pendingRequest.set(i,{id:i,topic:s,params:o}),n&&this.client.core.expirer.set(i,k.calcExpiry(n))},this.sendRequest=async(r,n,i,s)=>{let o=St.formatJsonRpcRequest(n,i),a=await this.client.core.crypto.encode(r,o),u=Fu[n].req;return s&&(u.ttl=s),this.client.core.history.set(r,o),this.client.core.relayer.publish(r,a,u),o.id},this.sendResult=async(r,n,i)=>{let s=St.formatJsonRpcResult(r,i),o=await this.client.core.crypto.encode(n,s),a=await this.client.core.history.get(n,r),u=Fu[a.request.method].res;this.client.core.relayer.publish(n,o,u),await this.client.core.history.resolve(s)},this.sendError=async(r,n,i)=>{let s=St.formatJsonRpcError(r,i),o=await this.client.core.crypto.encode(n,s),a=await this.client.core.history.get(n,r),u=Fu[a.request.method].res;this.client.core.relayer.publish(n,o,u),await this.client.core.history.resolve(s)},this.cleanup=async()=>{let r=[],n=[];this.client.session.getAll().forEach(i=>{k.isExpired(i.expiry)&&r.push(i.topic)}),this.client.proposal.getAll().forEach(i=>{k.isExpired(i.expiry)&&n.push(i.id)}),await Promise.all([...r.map(i=>this.deleteSession(i)),...n.map(i=>this.deleteProposal(i))])},this.onRelayEventRequest=r=>{let{topic:n,payload:i}=r,s=i.method;switch(s){case"wc_sessionPropose":return this.onSessionProposeRequest(n,i);case"wc_sessionSettle":return this.onSessionSettleRequest(n,i);case"wc_sessionUpdate":return this.onSessionUpdateRequest(n,i);case"wc_sessionExtend":return this.onSessionExtendRequest(n,i);case"wc_sessionPing":return this.onSessionPingRequest(n,i);case"wc_sessionDelete":return this.onSessionDeleteRequest(n,i);case"wc_sessionRequest":return this.onSessionRequest(n,i);case"wc_sessionEvent":return this.onSessionEventRequest(n,i);default:return this.client.logger.info(`Unsupported request method ${s}`)}},this.onRelayEventResponse=async r=>{let{topic:n,payload:i}=r,s=(await this.client.core.history.get(n,i.id)).request.method;switch(s){case"wc_sessionPropose":return this.onSessionProposeResponse(n,i);case"wc_sessionSettle":return this.onSessionSettleResponse(n,i);case"wc_sessionUpdate":return this.onSessionUpdateResponse(n,i);case"wc_sessionExtend":return this.onSessionExtendResponse(n,i);case"wc_sessionPing":return this.onSessionPingResponse(n,i);case"wc_sessionRequest":return this.onSessionRequestResponse(n,i);default:return this.client.logger.info(`Unsupported response method ${s}`)}},this.onSessionProposeRequest=async(r,n)=>{let{params:i,id:s}=n;try{this.isValidConnect(xr({},n.params));let o=k.calcExpiry(st.FIVE_MINUTES),a=xr({id:s,pairingTopic:r,expiry:o},i);await this.setProposal(s,a),this.client.events.emit("session_proposal",{id:s,params:a})}catch(o){await this.sendError(s,r,o),this.client.logger.error(o)}},this.onSessionProposeResponse=async(r,n)=>{let{id:i}=n;if(St.isJsonRpcResult(n)){let{result:s}=n;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:s});let o=this.client.proposal.get(i);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:o});let a=o.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:a});let u=s.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:u});let l=await this.client.core.crypto.generateSharedKey(a,u);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:l});let f=await this.client.core.relayer.subscribe(l);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:f}),await this.client.core.pairing.activate({topic:r})}else St.isJsonRpcError(n)&&(await this.client.proposal.delete(i,k.getSdkError("USER_DISCONNECTED")),this.events.emit(k.engineEvent("session_connect"),{error:n.error}))},this.onSessionSettleRequest=async(r,n)=>{let{id:i,params:s}=n;try{this.isValidSessionSettleRequest(s);let{relay:o,controller:a,expiry:u,namespaces:l,requiredNamespaces:f,optionalNamespaces:d,sessionProperties:y,pairingTopic:w}=n.params,E=xr({topic:r,relay:o,expiry:u,namespaces:l,acknowledged:!0,pairingTopic:w,requiredNamespaces:f,optionalNamespaces:d,controller:a.publicKey,self:{publicKey:"",metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},y&&{sessionProperties:y});await this.sendResult(n.id,r,!0),this.events.emit(k.engineEvent("session_connect"),{session:E})}catch(o){await this.sendError(i,r,o),this.client.logger.error(o)}},this.onSessionSettleResponse=async(r,n)=>{let{id:i}=n;St.isJsonRpcResult(n)?(await this.client.session.update(r,{acknowledged:!0}),this.events.emit(k.engineEvent("session_approve",i),{})):St.isJsonRpcError(n)&&(await this.client.session.delete(r,k.getSdkError("USER_DISCONNECTED")),this.events.emit(k.engineEvent("session_approve",i),{error:n.error}))},this.onSessionUpdateRequest=async(r,n)=>{let{params:i,id:s}=n;try{this.isValidUpdate(xr({topic:r},i)),await this.client.session.update(r,{namespaces:i.namespaces}),await this.sendResult(s,r,!0),this.client.events.emit("session_update",{id:s,topic:r,params:i})}catch(o){await this.sendError(s,r,o),this.client.logger.error(o)}},this.onSessionUpdateResponse=(r,n)=>{let{id:i}=n;St.isJsonRpcResult(n)?this.events.emit(k.engineEvent("session_update",i),{}):St.isJsonRpcError(n)&&this.events.emit(k.engineEvent("session_update",i),{error:n.error})},this.onSessionExtendRequest=async(r,n)=>{let{id:i}=n;try{this.isValidExtend({topic:r}),await this.setExpiry(r,k.calcExpiry(Rl)),await this.sendResult(i,r,!0),this.client.events.emit("session_extend",{id:i,topic:r})}catch(s){await this.sendError(i,r,s),this.client.logger.error(s)}},this.onSessionExtendResponse=(r,n)=>{let{id:i}=n;St.isJsonRpcResult(n)?this.events.emit(k.engineEvent("session_extend",i),{}):St.isJsonRpcError(n)&&this.events.emit(k.engineEvent("session_extend",i),{error:n.error})},this.onSessionPingRequest=async(r,n)=>{let{id:i}=n;try{this.isValidPing({topic:r}),await this.sendResult(i,r,!0),this.client.events.emit("session_ping",{id:i,topic:r})}catch(s){await this.sendError(i,r,s),this.client.logger.error(s)}},this.onSessionPingResponse=(r,n)=>{let{id:i}=n;setTimeout(()=>{St.isJsonRpcResult(n)?this.events.emit(k.engineEvent("session_ping",i),{}):St.isJsonRpcError(n)&&this.events.emit(k.engineEvent("session_ping",i),{error:n.error})},500)},this.onSessionDeleteRequest=async(r,n)=>{let{id:i}=n;try{this.isValidDisconnect({topic:r,reason:n.params}),this.client.core.relayer.once(zi.RELAYER_EVENTS.publish,async()=>{await this.deleteSession(r)}),await this.sendResult(i,r,!0),this.client.events.emit("session_delete",{id:i,topic:r})}catch(s){await this.sendError(i,r,s),this.client.logger.error(s)}},this.onSessionRequest=async(r,n)=>{let{id:i,params:s}=n;try{this.isValidRequest(xr({topic:r},s)),await this.setPendingSessionRequest({id:i,topic:r,params:s}),this.client.events.emit("session_request",{id:i,topic:r,params:s})}catch(o){await this.sendError(i,r,o),this.client.logger.error(o)}},this.onSessionRequestResponse=(r,n)=>{let{id:i}=n;St.isJsonRpcResult(n)?this.events.emit(k.engineEvent("session_request",i),{result:n.result}):St.isJsonRpcError(n)&&this.events.emit(k.engineEvent("session_request",i),{error:n.error})},this.onSessionEventRequest=async(r,n)=>{let{id:i,params:s}=n;try{this.isValidEmit(xr({topic:r},s)),this.client.events.emit("session_event",{id:i,topic:r,params:s})}catch(o){await this.sendError(i,r,o),this.client.logger.error(o)}},this.isValidConnect=async r=>{if(!k.isValidParams(r)){let{message:u}=k.getInternalError("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(r)}`);throw new Error(u)}let{pairingTopic:n,requiredNamespaces:i,optionalNamespaces:s,sessionProperties:o,relays:a}=r;if(k.isUndefined(n)||await this.isValidPairingTopic(n),!k.isValidRelays(a,!0)){let{message:u}=k.getInternalError("MISSING_OR_INVALID",`connect() relays: ${a}`);throw new Error(u)}!k.isUndefined(i)&&k.isValidObject(i)!==0&&this.validateNamespaces(i,"requiredNamespaces"),!k.isUndefined(s)&&k.isValidObject(s)!==0&&this.validateNamespaces(s,"optionalNamespaces"),k.isUndefined(o)||this.validateSessionProps(o,"sessionProperties")},this.validateNamespaces=(r,n)=>{let i=k.isValidRequiredNamespaces(r,"connect()",n);if(i)throw new Error(i.message)},this.isValidApprove=async r=>{if(!k.isValidParams(r))throw new Error(k.getInternalError("MISSING_OR_INVALID",`approve() params: ${r}`).message);let{id:n,namespaces:i,relayProtocol:s,sessionProperties:o}=r;await this.isValidProposalId(n);let a=this.client.proposal.get(n),u=k.isValidNamespaces(i,"approve()");if(u)throw new Error(u.message);let l=k.isConformingNamespaces(a.requiredNamespaces,i,"approve()");if(l)throw new Error(l.message);if(!k.isValidString(s,!0)){let{message:f}=k.getInternalError("MISSING_OR_INVALID",`approve() relayProtocol: ${s}`);throw new Error(f)}k.isUndefined(o)||this.validateSessionProps(o,"sessionProperties")},this.isValidReject=async r=>{if(!k.isValidParams(r)){let{message:s}=k.getInternalError("MISSING_OR_INVALID",`reject() params: ${r}`);throw new Error(s)}let{id:n,reason:i}=r;if(await this.isValidProposalId(n),!k.isValidErrorReason(i)){let{message:s}=k.getInternalError("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(i)}`);throw new Error(s)}},this.isValidSessionSettleRequest=r=>{if(!k.isValidParams(r)){let{message:l}=k.getInternalError("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${r}`);throw new Error(l)}let{relay:n,controller:i,namespaces:s,expiry:o}=r;if(!k.isValidRelay(n)){let{message:l}=k.getInternalError("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(l)}let a=k.isValidController(i,"onSessionSettleRequest()");if(a)throw new Error(a.message);let u=k.isValidNamespaces(s,"onSessionSettleRequest()");if(u)throw new Error(u.message);if(k.isExpired(o)){let{message:l}=k.getInternalError("EXPIRED","onSessionSettleRequest()");throw new Error(l)}},this.isValidUpdate=async r=>{if(!k.isValidParams(r)){let{message:u}=k.getInternalError("MISSING_OR_INVALID",`update() params: ${r}`);throw new Error(u)}let{topic:n,namespaces:i}=r;await this.isValidSessionTopic(n);let s=this.client.session.get(n),o=k.isValidNamespaces(i,"update()");if(o)throw new Error(o.message);let a=k.isConformingNamespaces(s.requiredNamespaces,i,"update()");if(a)throw new Error(a.message)},this.isValidExtend=async r=>{if(!k.isValidParams(r)){let{message:i}=k.getInternalError("MISSING_OR_INVALID",`extend() params: ${r}`);throw new Error(i)}let{topic:n}=r;await this.isValidSessionTopic(n)},this.isValidRequest=async r=>{if(!k.isValidParams(r)){let{message:u}=k.getInternalError("MISSING_OR_INVALID",`request() params: ${r}`);throw new Error(u)}let{topic:n,request:i,chainId:s,expiry:o}=r;await this.isValidSessionTopic(n);let{namespaces:a}=this.client.session.get(n);if(!k.isValidNamespacesChainId(a,s)){let{message:u}=k.getInternalError("MISSING_OR_INVALID",`request() chainId: ${s}`);throw new Error(u)}if(!k.isValidRequest(i)){let{message:u}=k.getInternalError("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw new Error(u)}if(!k.isValidNamespacesRequest(a,s,i.method)){let{message:u}=k.getInternalError("MISSING_OR_INVALID",`request() method: ${i.method}`);throw new Error(u)}if(o&&!k.isValidRequestExpiry(o,ug)){let{message:u}=k.getInternalError("MISSING_OR_INVALID",`request() expiry: ${o}. Expiry must be a number (in seconds) between ${ug.min} and ${ug.max}`);throw new Error(u)}},this.isValidRespond=async r=>{if(!k.isValidParams(r)){let{message:s}=k.getInternalError("MISSING_OR_INVALID",`respond() params: ${r}`);throw new Error(s)}let{topic:n,response:i}=r;if(await this.isValidSessionTopic(n),!k.isValidResponse(i)){let{message:s}=k.getInternalError("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(i)}`);throw new Error(s)}},this.isValidPing=async r=>{if(!k.isValidParams(r)){let{message:i}=k.getInternalError("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(i)}let{topic:n}=r;await this.isValidSessionOrPairingTopic(n)},this.isValidEmit=async r=>{if(!k.isValidParams(r)){let{message:a}=k.getInternalError("MISSING_OR_INVALID",`emit() params: ${r}`);throw new Error(a)}let{topic:n,event:i,chainId:s}=r;await this.isValidSessionTopic(n);let{namespaces:o}=this.client.session.get(n);if(!k.isValidNamespacesChainId(o,s)){let{message:a}=k.getInternalError("MISSING_OR_INVALID",`emit() chainId: ${s}`);throw new Error(a)}if(!k.isValidEvent(i)){let{message:a}=k.getInternalError("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}if(!k.isValidNamespacesEvent(o,s,i.name)){let{message:a}=k.getInternalError("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}},this.isValidDisconnect=async r=>{if(!k.isValidParams(r)){let{message:i}=k.getInternalError("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(i)}let{topic:n}=r;await this.isValidSessionOrPairingTopic(n)},this.validateSessionProps=(r,n)=>{Object.values(r).forEach(i=>{if(!k.isValidString(i,!1)){let{message:s}=k.getInternalError("MISSING_OR_INVALID",`${n} must be in Record<string, string> format. Received: ${JSON.stringify(i)}`);throw new Error(s)}})}}isInitialized(){if(!this.initialized){let{message:e}=k.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.client.core.relayer.on(zi.RELAYER_EVENTS.message,async e=>{let{topic:r,message:n}=e;if(this.ignoredPayloadTypes.includes(this.client.core.crypto.getPayloadType(n)))return;let i=await this.client.core.crypto.decode(r,n);St.isJsonRpcRequest(i)?(this.client.core.history.set(r,i),this.onRelayEventRequest({topic:r,payload:i})):St.isJsonRpcResponse(i)&&(await this.client.core.history.resolve(i),this.onRelayEventResponse({topic:r,payload:i}))})}registerExpirerEvents(){this.client.core.expirer.on(zi.EXPIRER_EVENTS.expired,async e=>{let{topic:r,id:n}=k.parseExpirerTarget(e.target);if(n&&this.client.pendingRequest.keys.includes(n))return await this.deletePendingSessionRequest(n,k.getInternalError("EXPIRED"),!0);r?this.client.session.keys.includes(r)&&(await this.deleteSession(r,!0),this.client.events.emit("session_expire",{topic:r})):n&&(await this.deleteProposal(n,!0),this.client.events.emit("proposal_expire",{id:n}))})}isValidPairingTopic(e){if(!k.isValidString(e,!1)){let{message:r}=k.getInternalError("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(r)}if(!this.client.core.pairing.pairings.keys.includes(e)){let{message:r}=k.getInternalError("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(r)}if(k.isExpired(this.client.core.pairing.pairings.get(e).expiry)){let{message:r}=k.getInternalError("EXPIRED",`pairing topic: ${e}`);throw new Error(r)}}async isValidSessionTopic(e){if(!k.isValidString(e,!1)){let{message:r}=k.getInternalError("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(r)}if(!this.client.session.keys.includes(e)){let{message:r}=k.getInternalError("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(r)}if(k.isExpired(this.client.session.get(e).expiry)){await this.deleteSession(e);let{message:r}=k.getInternalError("EXPIRED",`session topic: ${e}`);throw new Error(r)}}async isValidSessionOrPairingTopic(e){if(this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(k.isValidString(e,!1)){let{message:r}=k.getInternalError("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(r)}else{let{message:r}=k.getInternalError("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(r)}}async isValidProposalId(e){if(!k.isValidId(e)){let{message:r}=k.getInternalError("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(r)}if(!this.client.proposal.keys.includes(e)){let{message:r}=k.getInternalError("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(r)}if(k.isExpired(this.client.proposal.get(e).expiry)){await this.deleteProposal(e);let{message:r}=k.getInternalError("EXPIRED",`proposal id: ${e}`);throw new Error(r)}}},hA=class extends zi.Store{constructor(e,r){super(e,r,xP,cg),this.core=e,this.logger=r}},dA=class extends zi.Store{constructor(e,r){super(e,r,DP,cg),this.core=e,this.logger=r}},pA=class extends zi.Store{constructor(e,r){super(e,r,PP,cg,n=>n.id),this.core=e,this.logger=r}},Mu=class extends SP.ISignClient{constructor(e){super(e),this.protocol=gA,this.version=yA,this.name=ag.name,this.events=new CP.EventEmitter,this.on=(n,i)=>this.events.on(n,i),this.once=(n,i)=>this.events.once(n,i),this.off=(n,i)=>this.events.off(n,i),this.removeListener=(n,i)=>this.events.removeListener(n,i),this.removeAllListeners=n=>this.events.removeAllListeners(n),this.connect=async n=>{try{return await this.engine.connect(n)}catch(i){throw this.logger.error(i.message),i}},this.pair=async n=>{try{return await this.engine.pair(n)}catch(i){throw this.logger.error(i.message),i}},this.approve=async n=>{try{return await this.engine.approve(n)}catch(i){throw this.logger.error(i.message),i}},this.reject=async n=>{try{return await this.engine.reject(n)}catch(i){throw this.logger.error(i.message),i}},this.update=async n=>{try{return await this.engine.update(n)}catch(i){throw this.logger.error(i.message),i}},this.extend=async n=>{try{return await this.engine.extend(n)}catch(i){throw this.logger.error(i.message),i}},this.request=async n=>{try{return await this.engine.request(n)}catch(i){throw this.logger.error(i.message),i}},this.respond=async n=>{try{return await this.engine.respond(n)}catch(i){throw this.logger.error(i.message),i}},this.ping=async n=>{try{return await this.engine.ping(n)}catch(i){throw this.logger.error(i.message),i}},this.emit=async n=>{try{return await this.engine.emit(n)}catch(i){throw this.logger.error(i.message),i}},this.disconnect=async n=>{try{return await this.engine.disconnect(n)}catch(i){throw this.logger.error(i.message),i}},this.find=n=>{try{return this.engine.find(n)}catch(i){throw this.logger.error(i.message),i}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(n){throw this.logger.error(n.message),n}},this.name=e?.name||ag.name,this.metadata=e?.metadata||k.getAppMetadata();let r=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:DW.default(cA.getDefaultLoggerOptions({level:e?.logger||ag.logger}));this.core=e?.core||new zi.Core(e),this.logger=cA.generateChildLogger(r,this.name),this.session=new dA(this.core,this.logger),this.proposal=new hA(this.core,this.logger),this.pendingRequest=new pA(this.core,this.logger),this.engine=new fA(this)}static async init(e){let r=new Mu(e);return await r.initialize(),r}get context(){return cA.getLoggerContext(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}},GW=Mu;it.ENGINE_CONTEXT=OP,it.ENGINE_RPC_OPTS=Fu,it.HISTORY_CONTEXT=LW,it.HISTORY_EVENTS=RW,it.HISTORY_STORAGE_VERSION=FW,it.PROPOSAL_CONTEXT=xP,it.PROPOSAL_EXPIRY=MW,it.PROPOSAL_EXPIRY_MESSAGE=NP,it.REQUEST_CONTEXT=PP,it.SESSION_CONTEXT=DP,it.SESSION_EXPIRY=Rl,it.SESSION_REQUEST_EXPIRY_BOUNDARIES=ug,it.SIGN_CLIENT_CONTEXT=mA,it.SIGN_CLIENT_DEFAULT=ag,it.SIGN_CLIENT_EVENTS=PW,it.SIGN_CLIENT_PROTOCOL=gA,it.SIGN_CLIENT_STORAGE_OPTIONS=BW,it.SIGN_CLIENT_STORAGE_PREFIX=cg,it.SIGN_CLIENT_VERSION=yA,it.SignClient=GW,it.default=Mu});var wA=v(Ll=>{"use strict";c();Object.defineProperty(Ll,"__esModule",{value:!0});Ll.Operation=void 0;var QW;(function(t){t.SIGN_TRANSACTION="mvx_signTransaction",t.SIGN_TRANSACTIONS="mvx_signTransactions",t.SIGN_MESSAGE="mvx_signMessage",t.SIGN_LOGIN_TOKEN="mvx_signLoginToken"})(QW=Ll.Operation||(Ll.Operation={}))});var RP=v(Wi=>{"use strict";c();Object.defineProperty(Wi,"__esModule",{value:!0});Wi.WALLETCONNECT_MULTIVERSX_METHODS=Wi.WALLETCONNECT_MULTIVERSX_NAMESPACE=Wi.WALLETCONNECT_MULTIVERSX_CHAIN_ID=void 0;var kW=wA();Wi.WALLETCONNECT_MULTIVERSX_CHAIN_ID=508;Wi.WALLETCONNECT_MULTIVERSX_NAMESPACE="mvx";Wi.WALLETCONNECT_MULTIVERSX_METHODS=Object.values(kW.Operation)});var LP=v(lg=>{"use strict";c();Object.defineProperty(lg,"__esModule",{value:!0});lg.Logger=void 0;var EA=class{static error(e){console.error(e)}static trace(e){console.trace(e)}};lg.Logger=EA});var FP=v(Uu=>{"use strict";c();Object.defineProperty(Uu,"__esModule",{value:!0});Uu.Signature=Uu.Address=void 0;var vA=class{constructor(e){this.value=e}bech32(){return this.value}};Uu.Address=vA;var Fl=class{constructor(e){this.buffer=e}static fromHex(e){return new Fl(h.Buffer.from(e,"hex"))}hex(){return this.buffer.toString("hex")}};Uu.Signature=Fl});var bA=v(jr=>{"use strict";c();Object.defineProperty(jr,"__esModule",{value:!0});jr.WalletConnectV2ProviderErrorMessagesEnum=jr.ErrBadAddress=jr.ErrNotImplemented=jr.Err=void 0;var Ml=class extends Error{constructor(e,r){super(e),this.inner=void 0,this.inner=r}};jr.Err=Ml;var AA=class extends Ml{constructor(){super("Method not yet implemented")}};jr.ErrNotImplemented=AA;var _A=class extends Ml{constructor(e,r){super(`Bad address: ${e}`,r)}};jr.ErrBadAddress=_A;var KW;(function(t){t.unableToInit="WalletConnect is unable to init",t.notInitialized="WalletConnect is not initialized",t.unableToConnect="WalletConnect is unable to connect",t.unableToConnectExisting="WalletConnect is unable to connect to existing pairing",t.unableToSignLoginToken="WalletConnect could not sign login token",t.unableToLogin="WalletConnect is unable to login",t.unableToHandleTopic="WalletConnect: Unable to handle topic update",t.unableToHandleEvent="WalletConnect: Unable to handle events",t.unableToHandleCleanup="WalletConnect: Unable to handle cleanup",t.sessionNotConnected="WalletConnect Session is not connected",t.sessionDeleted="WalletConnect Session Deleted",t.sessionExpired="WalletConnect Session Expired",t.alreadyLoggedOut="WalletConnect: Already logged out",t.pingFailed="WalletConnect Ping Failed",t.invalidAddress="WalletConnect: Invalid address",t.requestDifferentChain="WalletConnect: Request Chain Id different than Connection Chain Id",t.invalidMessageResponse="WalletConnect could not sign the message",t.invalidMessageSignature="WalletConnect: Invalid message signature",t.invalidTransactionResponse="WalletConnect could not sign the transactions. Invalid signatures",t.invalidCustomRequestResponse="WalletConnect could not send the custom request",t.transactionError="Transaction canceled",t.connectionError="WalletConnect could not establish a connection"})(KW=jr.WalletConnectV2ProviderErrorMessagesEnum||(jr.WalletConnectV2ProviderErrorMessagesEnum={}))});var UP=v(bn=>{"use strict";c();var zW=bn&&bn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),WW=bn&&bn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),$W=bn&&bn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&zW(e,t,r);return WW(e,t),e};Object.defineProperty(bn,"__esModule",{value:!0});bn.UserAddress=void 0;var YW=$W(Cf()),MP=bA(),JW="erd",Ul=class{constructor(e){this.value=e}static fromBech32(e){let r;try{r=YW.decode(e)}catch(n){throw new MP.ErrBadAddress(e,n)}if(r.prefix!=JW)throw new MP.ErrBadAddress(e);return new Ul(e)}bech32(){return this.value}};bn.UserAddress=Ul});var Vl=v(In=>{"use strict";c();var gt=In&&In.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(f){try{l(n.next(f))}catch(d){o(d)}}function u(f){try{l(n.throw(f))}catch(d){o(d)}}function l(f){f.done?s(f.value):i(f.value).then(a,u)}l((n=n.apply(t,e||[])).next())})},XW=In&&In.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(In,"__esModule",{value:!0});In.WalletConnectV2Provider=In.WalletConnectV2ProviderErrorMessagesEnum=void 0;var ZW=XW(BP()),IA=_p(),mo=RP(),fg=wA(),Re=LP(),ql=FP(),he=bA();Object.defineProperty(In,"WalletConnectV2ProviderErrorMessagesEnum",{enumerable:!0,get:function(){return he.WalletConnectV2ProviderErrorMessagesEnum}});var hg=UP(),SA=class{constructor(e,r,n,i,s){this.chainId="",this.address="",this.signature="",this.namespace=mo.WALLETCONNECT_MULTIVERSX_NAMESPACE,this.isInitializing=!1,this.events=[],this.methods=[],this.processingTopic="",this.options={},this.onClientConnect=e,this.chainId=r,this.walletConnectV2Relay=n,this.walletConnectV2ProjectId=i,this.options=s}reset(){this.address="",this.signature="",this.namespace=mo.WALLETCONNECT_MULTIVERSX_NAMESPACE,this.session=void 0}init(){return gt(this,void 0,void 0,function*(){if(this.isInitialized())return this.isInitialized();try{if(!this.isInitializing){this.isInitializing=!0,this.reset();let e=yield ZW.default.init(Object.assign({relayUrl:this.walletConnectV2Relay,projectId:this.walletConnectV2ProjectId},this.options));this.walletConnector=e,this.isInitializing=!1,yield this.subscribeToEvents(e),yield this.checkPersistedState(e)}}catch{throw new Error(he.WalletConnectV2ProviderErrorMessagesEnum.unableToInit)}finally{return this.isInitializing=!1,this.isInitialized()}})}isInitialized(){return!!this.walletConnector&&!this.isInitializing}isConnected(){return new Promise((e,r)=>e(!!(this.isInitialized()&&typeof this.session<"u")))}connect(e){var r,n,i,s;return gt(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw new Error(he.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);let o=this.getConnectionParams(e);try{let a=yield this.walletConnector.connect(Object.assign({pairingTopic:e?.topic},o));return this.events=(n=(r=o?.requiredNamespaces)===null||r===void 0?void 0:r[mo.WALLETCONNECT_MULTIVERSX_NAMESPACE])===null||n===void 0?void 0:n.events,this.methods=(s=(i=o?.requiredNamespaces)===null||i===void 0?void 0:i[mo.WALLETCONNECT_MULTIVERSX_NAMESPACE])===null||s===void 0?void 0:s.methods,a}catch{throw this.reset(),Re.Logger.error(e?.topic?he.WalletConnectV2ProviderErrorMessagesEnum.unableToConnectExisting:he.WalletConnectV2ProviderErrorMessagesEnum.unableToConnect),new Error(e?.topic?he.WalletConnectV2ProviderErrorMessagesEnum.unableToConnectExisting:he.WalletConnectV2ProviderErrorMessagesEnum.unableToConnect)}})}login(e){var r;return gt(this,void 0,void 0,function*(){if(this.isInitializing=!0,typeof this.walletConnector>"u"&&(yield this.connect()),typeof this.walletConnector>"u")throw new Error(he.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);typeof this.session<"u"&&(yield this.logout({topic:(r=this.session)===null||r===void 0?void 0:r.topic}));try{if(e&&e.approval){let n=yield e.approval();if(e.token){let i=this.getAddressFromSession(n),{signature:s}=yield this.walletConnector.request({chainId:`${this.namespace}:${this.chainId}`,topic:n.topic,request:{method:fg.Operation.SIGN_LOGIN_TOKEN,params:{token:e.token,address:i}}});if(!s)throw Re.Logger.error(he.WalletConnectV2ProviderErrorMessagesEnum.unableToSignLoginToken),new Error(he.WalletConnectV2ProviderErrorMessagesEnum.unableToSignLoginToken);return yield this.onSessionConnected({session:n,signature:s})}return yield this.onSessionConnected({session:n,signature:""})}}catch{throw this.reset(),Re.Logger.error(he.WalletConnectV2ProviderErrorMessagesEnum.unableToLogin),new Error(he.WalletConnectV2ProviderErrorMessagesEnum.unableToLogin)}finally{this.isInitializing=!1}return""})}logout(e){return gt(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw Re.Logger.error(he.WalletConnectV2ProviderErrorMessagesEnum.notInitialized),new Error(he.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);try{if(this.processingTopic===(e?.topic||this.getCurrentTopic(this.walletConnector)))return!0;if(e?.topic)this.processingTopic=e.topic,yield this.walletConnector.disconnect({topic:e.topic,reason:IA.getSdkError("USER_DISCONNECTED")});else{let r=this.getCurrentTopic(this.walletConnector);this.processingTopic=r,yield this.walletConnector.disconnect({topic:r,reason:IA.getSdkError("USER_DISCONNECTED")}),this.reset(),yield this.cleanupPendingPairings({deletePairings:!0})}}catch{Re.Logger.error(he.WalletConnectV2ProviderErrorMessagesEnum.alreadyLoggedOut)}finally{this.processingTopic=""}return!0})}getAddress(){return gt(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw Re.Logger.error(he.WalletConnectV2ProviderErrorMessagesEnum.notInitialized),new Error(he.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);return this.address})}getSignature(){return gt(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw Re.Logger.error(he.WalletConnectV2ProviderErrorMessagesEnum.notInitialized),new Error(he.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);return this.signature})}getPairings(){var e,r,n,i,s;return gt(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw Re.Logger.error(he.WalletConnectV2ProviderErrorMessagesEnum.notInitialized),new Error(he.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);return(s=(i=(n=(r=(e=this.walletConnector)===null||e===void 0?void 0:e.core)===null||r===void 0?void 0:r.pairing)===null||n===void 0?void 0:n.pairings)===null||i===void 0?void 0:i.getAll({active:!0}))!==null&&s!==void 0?s:[]})}signMessage(e){return gt(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw Re.Logger.error(he.WalletConnectV2ProviderErrorMessagesEnum.notInitialized),new Error(he.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);if(typeof this.session>"u")throw Re.Logger.error(he.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected),this.onClientConnect.onClientLogout(),new Error(he.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected);let r=yield this.getAddress(),{signature:n}=yield this.walletConnector.request({chainId:`${this.namespace}:${this.chainId}`,topic:this.getCurrentTopic(this.walletConnector),request:{method:fg.Operation.SIGN_MESSAGE,params:{address:r,message:e.message.toString()}}});if(!n)throw Re.Logger.error(he.WalletConnectV2ProviderErrorMessagesEnum.invalidMessageResponse),new Error(he.WalletConnectV2ProviderErrorMessagesEnum.invalidMessageResponse);try{e.applySignature(new ql.Signature(n),hg.UserAddress.fromBech32(r))}catch{throw Re.Logger.error(he.WalletConnectV2ProviderErrorMessagesEnum.invalidMessageSignature),new Error(he.WalletConnectV2ProviderErrorMessagesEnum.invalidMessageSignature)}return e})}signTransaction(e){return gt(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw Re.Logger.error(he.WalletConnectV2ProviderErrorMessagesEnum.notInitialized),new Error(he.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);if(typeof this.session>"u")throw Re.Logger.error(he.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected),this.onClientConnect.onClientLogout(),new Error(he.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected);let r=yield this.getAddress(),n=new ql.Address(r),i=e.toPlainObject(n);if(this.chainId!==e.getChainID().valueOf())throw Re.Logger.error(he.WalletConnectV2ProviderErrorMessagesEnum.requestDifferentChain),new Error(he.WalletConnectV2ProviderErrorMessagesEnum.requestDifferentChain);try{let{signature:s}=yield this.walletConnector.request({chainId:`${this.namespace}:${this.chainId}`,topic:this.getCurrentTopic(this.walletConnector),request:{method:fg.Operation.SIGN_TRANSACTION,params:{transaction:i}}});if(!s)throw Re.Logger.error(he.WalletConnectV2ProviderErrorMessagesEnum.requestDifferentChain),new Error(he.WalletConnectV2ProviderErrorMessagesEnum.requestDifferentChain);return e.applySignature(ql.Signature.fromHex(s),hg.UserAddress.fromBech32(r)),e}catch{throw new Error(he.WalletConnectV2ProviderErrorMessagesEnum.transactionError)}})}signTransactions(e){return gt(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw Re.Logger.error(he.WalletConnectV2ProviderErrorMessagesEnum.notInitialized),new Error(he.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);if(typeof this.session>"u")throw Re.Logger.error(he.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected),this.onClientConnect.onClientLogout(),new Error(he.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected);let r=yield this.getAddress(),n=new ql.Address(r),i=e.map(s=>{if(this.chainId!==s.getChainID().valueOf())throw Re.Logger.error(he.WalletConnectV2ProviderErrorMessagesEnum.requestDifferentChain),new Error(he.WalletConnectV2ProviderErrorMessagesEnum.requestDifferentChain);return s.toPlainObject(n)});try{let{signatures:s}=yield this.walletConnector.request({chainId:`${this.namespace}:${this.chainId}`,topic:this.getCurrentTopic(this.walletConnector),request:{method:fg.Operation.SIGN_TRANSACTIONS,params:{transactions:i}}});(!s||!Array.isArray(s))&&Re.Logger.error(he.WalletConnectV2ProviderErrorMessagesEnum.invalidTransactionResponse),e.length!==s.length&&Re.Logger.error(he.WalletConnectV2ProviderErrorMessagesEnum.invalidTransactionResponse);for(let[o,a]of e.entries())a.applySignature(ql.Signature.fromHex(s[o].signature),hg.UserAddress.fromBech32(r));return e}catch{throw new Error(he.WalletConnectV2ProviderErrorMessagesEnum.transactionError)}})}sendCustomRequest(e){var r;return gt(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw Re.Logger.error(he.WalletConnectV2ProviderErrorMessagesEnum.notInitialized),new Error(he.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);if(typeof this.session>"u")throw Re.Logger.error(he.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected),this.onClientConnect.onClientLogout(),new Error(he.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected);if(!((r=e?.request)===null||r===void 0)&&r.method){let n=Object.assign({},e.request),{method:i}=n,{response:s}=yield this.walletConnector.request({chainId:`${this.namespace}:${this.chainId}`,topic:this.getCurrentTopic(this.walletConnector),request:Object.assign(Object.assign({},n),{method:i})});if(!s)throw Re.Logger.error(he.WalletConnectV2ProviderErrorMessagesEnum.invalidCustomRequestResponse),new Error(he.WalletConnectV2ProviderErrorMessagesEnum.invalidCustomRequestResponse);return s}})}ping(){return gt(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw Re.Logger.error(he.WalletConnectV2ProviderErrorMessagesEnum.notInitialized),new Error(he.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);typeof this.session>"u"&&Re.Logger.error(he.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected);try{let e=this.getCurrentTopic(this.walletConnector);return yield this.walletConnector.ping({topic:e}),!0}catch{return Re.Logger.error(he.WalletConnectV2ProviderErrorMessagesEnum.pingFailed),!1}})}loginAccount(e){return gt(this,void 0,void 0,function*(){return e?this.addressIsValid(e.address)?(this.address=e.address,e.signature&&(this.signature=e.signature),this.onClientConnect.onClientLogin(),this.address):(Re.Logger.error(`${he.WalletConnectV2ProviderErrorMessagesEnum.invalidAddress} ${e.address}`),this.walletConnector&&(yield this.logout()),""):""})}onSessionConnected(e){return gt(this,void 0,void 0,function*(){if(!e)return"";this.session=e.session;let r=this.getAddressFromSession(e.session);return r?(yield this.loginAccount({address:r,signature:e.signature}),r):""})}handleTopicUpdateEvent({topic:e}){return gt(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw new Error(he.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);try{let r=yield this.getPairings();if(this.address&&!this.isInitializing&&r)if(r?.length===0)this.onClientConnect.onClientLogout();else{let n=r[r.length-1];n?.topic===e&&this.onClientConnect.onClientLogout()}}catch{Re.Logger.error(he.WalletConnectV2ProviderErrorMessagesEnum.unableToHandleTopic)}finally{this.pairings=yield this.getPairings()}})}handleSessionEvents({topic:e,params:r}){var n;return gt(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw new Error(he.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);if(this.session&&((n=this.session)===null||n===void 0?void 0:n.topic)!==e)return;let{event:i}=r;if(i?.name&&this.getCurrentTopic(this.walletConnector)===e){let s=i.data;this.onClientConnect.onClientEvent(s)}})}subscribeToEvents(e){var r,n,i,s;return gt(this,void 0,void 0,function*(){if(typeof e>"u")throw new Error(he.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);try{e.on("session_update",({topic:o,params:a})=>{var u;if(!this.session||((u=this.session)===null||u===void 0?void 0:u.topic)!==o)return;let{namespaces:l}=a,f=e.session.get(o),d=Object.assign(Object.assign({},f),{namespaces:l});this.onSessionConnected({session:d})}),e.on("session_event",this.handleSessionEvents.bind(this)),e.on("session_delete",({topic:o})=>gt(this,void 0,void 0,function*(){var a;!this.session||((a=this.session)===null||a===void 0?void 0:a.topic)!==o||(Re.Logger.error(he.WalletConnectV2ProviderErrorMessagesEnum.sessionDeleted),this.onClientConnect.onClientLogout(),this.reset(),yield this.cleanupPendingPairings({deletePairings:!0}))})),e.on("session_expire",({topic:o})=>gt(this,void 0,void 0,function*(){var a;!this.session||((a=this.session)===null||a===void 0?void 0:a.topic)!==o||(Re.Logger.error(he.WalletConnectV2ProviderErrorMessagesEnum.sessionExpired),this.onClientConnect.onClientLogout(),this.reset(),yield this.cleanupPendingPairings({deletePairings:!0}))})),(n=(r=e.core)===null||r===void 0?void 0:r.pairing)===null||n===void 0||n.events.on("pairing_delete",this.handleTopicUpdateEvent.bind(this)),(s=(i=e.core)===null||i===void 0?void 0:i.pairing)===null||s===void 0||s.events.on("pairing_expire",this.handleTopicUpdateEvent.bind(this))}catch{Re.Logger.error(he.WalletConnectV2ProviderErrorMessagesEnum.unableToHandleEvent)}})}checkPersistedState(e){return gt(this,void 0,void 0,function*(){if(typeof e>"u")throw new Error(he.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);if(this.pairings=yield this.getPairings(),!(typeof this.session<"u")&&e.session.length&&!this.address&&!this.isInitializing){let r=this.getCurrentSession(e);if(r)return yield this.onSessionConnected({session:r}),r}})}cleanupPendingPairings(e={}){var r,n,i,s,o,a,u,l;return gt(this,void 0,void 0,function*(){if(!(typeof this.walletConnector>"u"))try{let f=(i=(n=(r=this.walletConnector.core)===null||r===void 0?void 0:r.pairing)===null||n===void 0?void 0:n.pairings)===null||i===void 0?void 0:i.getAll({active:!1});if(!IA.isValidArray(f))return;for(let d of f)e.deletePairings?(o=(s=this.walletConnector.core)===null||s===void 0?void 0:s.expirer)===null||o===void 0||o.set(d.topic,0):yield(l=(u=(a=this.walletConnector.core)===null||a===void 0?void 0:a.relayer)===null||u===void 0?void 0:u.subscriber)===null||l===void 0?void 0:l.unsubscribe(d.topic)}catch{Re.Logger.error(he.WalletConnectV2ProviderErrorMessagesEnum.unableToHandleCleanup)}})}getCurrentSession(e){if(typeof e>"u")throw new Error(he.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);let r=e.find(this.getConnectionParams()).filter(n=>n.acknowledged);if(r.length>0){let n=r.length-1;return r[n]}else if(e.session.length>0){let n=e.session.keys.length-1;return e.session.get(e.session.keys[n])}else throw Re.Logger.error(he.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected),new Error(he.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected)}getCurrentTopic(e){if(typeof e>"u")throw new Error(he.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);let r=this.getCurrentSession(e);if(r?.topic)return r.topic;throw new Error(he.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected)}getConnectionParams(e){var r,n;let i=[...mo.WALLETCONNECT_MULTIVERSX_METHODS,...(r=e?.methods)!==null&&r!==void 0?r:[]],s=[`${mo.WALLETCONNECT_MULTIVERSX_NAMESPACE}:${this.chainId}`],o=(n=e?.events)!==null&&n!==void 0?n:[];return{requiredNamespaces:{[mo.WALLETCONNECT_MULTIVERSX_NAMESPACE]:{methods:i,chains:s,events:o}}}}addressIsValid(e){try{return!!hg.UserAddress.fromBech32(e)}catch{return!1}}getAddressFromSession(e){let r=e.namespaces[this.namespace];if(r&&r.accounts){let n=r.accounts[0],[i,s,o]=n.split(":");return o}return""}};In.WalletConnectV2Provider=SA});var VP=v((kce,qP)=>{"use strict";c();qP.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0}});var GP=v((zce,jP)=>{"use strict";c();var HP=typeof Symbol<"u"&&Symbol,e$=VP();jP.exports=function(){return typeof HP!="function"||typeof Symbol!="function"||typeof HP("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e$()}});var kP=v(($ce,QP)=>{"use strict";c();var t$="Function.prototype.bind called on incompatible ",CA=Array.prototype.slice,r$=Object.prototype.toString,n$="[object Function]";QP.exports=function(e){var r=this;if(typeof r!="function"||r$.call(r)!==n$)throw new TypeError(t$+r);for(var n=CA.call(arguments,1),i,s=function(){if(this instanceof i){var f=r.apply(this,n.concat(CA.call(arguments)));return Object(f)===f?f:this}else return r.apply(e,n.concat(CA.call(arguments)))},o=Math.max(0,r.length-n.length),a=[],u=0;u<o;u++)a.push("$"+u);if(i=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var l=function(){};l.prototype=r.prototype,i.prototype=new l,l.prototype=null}return i}});var dg=v((Jce,KP)=>{"use strict";c();var i$=kP();KP.exports=Function.prototype.bind||i$});var WP=v((Zce,zP)=>{"use strict";c();var s$=dg();zP.exports=s$.call(Function.call,Object.prototype.hasOwnProperty)});var yg=v((tle,ZP)=>{"use strict";c();var Oe,ju=SyntaxError,XP=Function,Hu=TypeError,TA=function(t){try{return XP('"use strict"; return ('+t+").constructor;")()}catch{}},wo=Object.getOwnPropertyDescriptor;if(wo)try{wo({},"")}catch{wo=null}var xA=function(){throw new Hu},o$=wo?function(){try{return arguments.callee,xA}catch{try{return wo(arguments,"callee").get}catch{return xA}}}():xA,qu=GP()(),Sn=Object.getPrototypeOf||function(t){return t.__proto__},Vu={},a$=typeof Uint8Array>"u"?Oe:Sn(Uint8Array),Eo={"%AggregateError%":typeof AggregateError>"u"?Oe:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Oe:ArrayBuffer,"%ArrayIteratorPrototype%":qu?Sn([][Symbol.iterator]()):Oe,"%AsyncFromSyncIteratorPrototype%":Oe,"%AsyncFunction%":Vu,"%AsyncGenerator%":Vu,"%AsyncGeneratorFunction%":Vu,"%AsyncIteratorPrototype%":Vu,"%Atomics%":typeof Atomics>"u"?Oe:Atomics,"%BigInt%":typeof BigInt>"u"?Oe:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Oe:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Oe:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Oe:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?Oe:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Oe:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Oe:FinalizationRegistry,"%Function%":XP,"%GeneratorFunction%":Vu,"%Int8Array%":typeof Int8Array>"u"?Oe:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Oe:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Oe:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":qu?Sn(Sn([][Symbol.iterator]())):Oe,"%JSON%":typeof JSON=="object"?JSON:Oe,"%Map%":typeof Map>"u"?Oe:Map,"%MapIteratorPrototype%":typeof Map>"u"||!qu?Oe:Sn(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Oe:Promise,"%Proxy%":typeof Proxy>"u"?Oe:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?Oe:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Oe:Set,"%SetIteratorPrototype%":typeof Set>"u"||!qu?Oe:Sn(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Oe:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":qu?Sn(""[Symbol.iterator]()):Oe,"%Symbol%":qu?Symbol:Oe,"%SyntaxError%":ju,"%ThrowTypeError%":o$,"%TypedArray%":a$,"%TypeError%":Hu,"%Uint8Array%":typeof Uint8Array>"u"?Oe:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Oe:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Oe:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Oe:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?Oe:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Oe:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Oe:WeakSet};try{null.error}catch(t){$P=Sn(Sn(t)),Eo["%Error.prototype%"]=$P}var $P,u$=function t(e){var r;if(e==="%AsyncFunction%")r=TA("async function () {}");else if(e==="%GeneratorFunction%")r=TA("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=TA("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&(r=Sn(i.prototype))}return Eo[e]=r,r},YP={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Hl=dg(),pg=WP(),c$=Hl.call(Function.call,Array.prototype.concat),l$=Hl.call(Function.apply,Array.prototype.splice),JP=Hl.call(Function.call,String.prototype.replace),gg=Hl.call(Function.call,String.prototype.slice),f$=Hl.call(Function.call,RegExp.prototype.exec),h$=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,d$=/\\(\\)?/g,p$=function(e){var r=gg(e,0,1),n=gg(e,-1);if(r==="%"&&n!=="%")throw new ju("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new ju("invalid intrinsic syntax, expected opening `%`");var i=[];return JP(e,h$,function(s,o,a,u){i[i.length]=a?JP(u,d$,"$1"):o||s}),i},g$=function(e,r){var n=e,i;if(pg(YP,n)&&(i=YP[n],n="%"+i[0]+"%"),pg(Eo,n)){var s=Eo[n];if(s===Vu&&(s=u$(n)),typeof s>"u"&&!r)throw new Hu("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new ju("intrinsic "+e+" does not exist!")};ZP.exports=function(e,r){if(typeof e!="string"||e.length===0)throw new Hu("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Hu('"allowMissing" argument must be a boolean');if(f$(/^%?[^%]*%?$/,e)===null)throw new ju("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=p$(e),i=n.length>0?n[0]:"",s=g$("%"+i+"%",r),o=s.name,a=s.value,u=!1,l=s.alias;l&&(i=l[0],l$(n,c$([0,1],l)));for(var f=1,d=!0;f<n.length;f+=1){var y=n[f],w=gg(y,0,1),E=gg(y,-1);if((w==='"'||w==="'"||w==="`"||E==='"'||E==="'"||E==="`")&&w!==E)throw new ju("property names with quotes must have matching quotes");if((y==="constructor"||!d)&&(u=!0),i+="."+y,o="%"+i+"%",pg(Eo,o))a=Eo[o];else if(a!=null){if(!(y in a)){if(!r)throw new Hu("base intrinsic for "+e+" exists, but the property is not available.");return}if(wo&&f+1>=n.length){var T=wo(a,y);d=!!T,d&&"get"in T&&!("originalValue"in T.get)?a=T.get:a=a[y]}else d=pg(a,y),a=a[y];d&&!u&&(Eo[o]=a)}}return a}});var s8=v((nle,mg)=>{"use strict";c();var NA=dg(),Gu=yg(),r8=Gu("%Function.prototype.apply%"),n8=Gu("%Function.prototype.call%"),i8=Gu("%Reflect.apply%",!0)||NA.call(n8,r8),e8=Gu("%Object.getOwnPropertyDescriptor%",!0),vo=Gu("%Object.defineProperty%",!0),y$=Gu("%Math.max%");if(vo)try{vo({},"a",{value:1})}catch{vo=null}mg.exports=function(e){var r=i8(NA,n8,arguments);if(e8&&vo){var n=e8(r,"length");n.configurable&&vo(r,"length",{value:1+y$(0,e.length-(arguments.length-1))})}return r};var t8=function(){return i8(NA,r8,arguments)};vo?vo(mg.exports,"apply",{value:t8}):mg.exports.apply=t8});var c8=v((sle,u8)=>{"use strict";c();var o8=yg(),a8=s8(),m$=a8(o8("String.prototype.indexOf"));u8.exports=function(e,r){var n=o8(e,!!r);return typeof n=="function"&&m$(e,".prototype.")>-1?a8(n):n}});var l8=v(()=>{c()});var D8=v((lle,N8)=>{c();var qA=typeof Map=="function"&&Map.prototype,DA=Object.getOwnPropertyDescriptor&&qA?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Eg=qA&&DA&&typeof DA.get=="function"?DA.get:null,f8=qA&&Map.prototype.forEach,VA=typeof Set=="function"&&Set.prototype,OA=Object.getOwnPropertyDescriptor&&VA?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,vg=VA&&OA&&typeof OA.get=="function"?OA.get:null,h8=VA&&Set.prototype.forEach,w$=typeof WeakMap=="function"&&WeakMap.prototype,Gl=w$?WeakMap.prototype.has:null,E$=typeof WeakSet=="function"&&WeakSet.prototype,Ql=E$?WeakSet.prototype.has:null,v$=typeof WeakRef=="function"&&WeakRef.prototype,d8=v$?WeakRef.prototype.deref:null,A$=Boolean.prototype.valueOf,_$=Object.prototype.toString,b$=Function.prototype.toString,I$=String.prototype.match,HA=String.prototype.slice,Yi=String.prototype.replace,S$=String.prototype.toUpperCase,p8=String.prototype.toLowerCase,b8=RegExp.prototype.test,g8=Array.prototype.concat,Cn=Array.prototype.join,C$=Array.prototype.slice,y8=Math.floor,RA=typeof BigInt=="function"?BigInt.prototype.valueOf:null,PA=Object.getOwnPropertySymbols,LA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Qu=typeof Symbol=="function"&&typeof Symbol.iterator=="object",zt=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Qu||"symbol")?Symbol.toStringTag:null,I8=Object.prototype.propertyIsEnumerable,m8=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function w8(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||b8.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-y8(-t):y8(t);if(n!==t){var i=String(n),s=HA.call(e,i.length+1);return Yi.call(i,r,"$&_")+"."+Yi.call(Yi.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Yi.call(e,r,"$&_")}var FA=l8(),E8=FA.custom,v8=C8(E8)?E8:null;N8.exports=function t(e,r,n,i){var s=r||{};if($i(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if($i(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=$i(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if($i(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if($i(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return x8(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var u=String(e);return a?w8(e,u):u}if(typeof e=="bigint"){var l=String(e)+"n";return a?w8(e,l):l}var f=typeof s.depth>"u"?5:s.depth;if(typeof n>"u"&&(n=0),n>=f&&f>0&&typeof e=="object")return MA(e)?"[Array]":"[Object]";var d=Q$(s,n);if(typeof i>"u")i=[];else if(T8(i,e)>=0)return"[Circular]";function y(G,$,de){if($&&(i=C$.call(i),i.push($)),de){var ae={depth:s.depth};return $i(s,"quoteStyle")&&(ae.quoteStyle=s.quoteStyle),t(G,ae,n+1,i)}return t(G,s,n+1,i)}if(typeof e=="function"&&!A8(e)){var w=L$(e),E=wg(e,y);return"[Function"+(w?": "+w:" (anonymous)")+"]"+(E.length>0?" { "+Cn.call(E,", ")+" }":"")}if(C8(e)){var T=Qu?Yi.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):LA.call(e);return typeof e=="object"&&!Qu?jl(T):T}if(H$(e)){for(var R="<"+p8.call(String(e.nodeName)),_=e.attributes||[],B=0;B<_.length;B++)R+=" "+_[B].name+"="+S8(T$(_[B].value),"double",s);return R+=">",e.childNodes&&e.childNodes.length&&(R+="..."),R+="</"+p8.call(String(e.nodeName))+">",R}if(MA(e)){if(e.length===0)return"[]";var x=wg(e,y);return d&&!G$(x)?"["+UA(x,d)+"]":"[ "+Cn.call(x,", ")+" ]"}if(N$(e)){var O=wg(e,y);return!("cause"in Error.prototype)&&"cause"in e&&!I8.call(e,"cause")?"{ ["+String(e)+"] "+Cn.call(g8.call("[cause]: "+y(e.cause),O),", ")+" }":O.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+Cn.call(O,", ")+" }"}if(typeof e=="object"&&o){if(v8&&typeof e[v8]=="function"&&FA)return FA(e,{depth:f-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(F$(e)){var P=[];return f8&&f8.call(e,function(G,$){P.push(y($,e,!0)+" => "+y(G,e))}),_8("Map",Eg.call(e),P,d)}if(q$(e)){var L=[];return h8&&h8.call(e,function(G){L.push(y(G,e))}),_8("Set",vg.call(e),L,d)}if(M$(e))return BA("WeakMap");if(V$(e))return BA("WeakSet");if(U$(e))return BA("WeakRef");if(O$(e))return jl(y(Number(e)));if(B$(e))return jl(y(RA.call(e)));if(P$(e))return jl(A$.call(e));if(D$(e))return jl(y(String(e)));if(!x$(e)&&!A8(e)){var b=wg(e,y),C=m8?m8(e)===Object.prototype:e instanceof Object||e.constructor===Object,M=e instanceof Object?"":"null prototype",Z=!C&&zt&&Object(e)===e&&zt in e?HA.call(Ji(e),8,-1):M?"Object":"",K=C||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",j=K+(Z||M?"["+Cn.call(g8.call([],Z||[],M||[]),": ")+"] ":"");return b.length===0?j+"{}":d?j+"{"+UA(b,d)+"}":j+"{ "+Cn.call(b,", ")+" }"}return String(e)};function S8(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function T$(t){return Yi.call(String(t),/"/g,"&quot;")}function MA(t){return Ji(t)==="[object Array]"&&(!zt||!(typeof t=="object"&&zt in t))}function x$(t){return Ji(t)==="[object Date]"&&(!zt||!(typeof t=="object"&&zt in t))}function A8(t){return Ji(t)==="[object RegExp]"&&(!zt||!(typeof t=="object"&&zt in t))}function N$(t){return Ji(t)==="[object Error]"&&(!zt||!(typeof t=="object"&&zt in t))}function D$(t){return Ji(t)==="[object String]"&&(!zt||!(typeof t=="object"&&zt in t))}function O$(t){return Ji(t)==="[object Number]"&&(!zt||!(typeof t=="object"&&zt in t))}function P$(t){return Ji(t)==="[object Boolean]"&&(!zt||!(typeof t=="object"&&zt in t))}function C8(t){if(Qu)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!LA)return!1;try{return LA.call(t),!0}catch{}return!1}function B$(t){if(!t||typeof t!="object"||!RA)return!1;try{return RA.call(t),!0}catch{}return!1}var R$=Object.prototype.hasOwnProperty||function(t){return t in this};function $i(t,e){return R$.call(t,e)}function Ji(t){return _$.call(t)}function L$(t){if(t.name)return t.name;var e=I$.call(b$.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function T8(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function F$(t){if(!Eg||!t||typeof t!="object")return!1;try{Eg.call(t);try{vg.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function M$(t){if(!Gl||!t||typeof t!="object")return!1;try{Gl.call(t,Gl);try{Ql.call(t,Ql)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function U$(t){if(!d8||!t||typeof t!="object")return!1;try{return d8.call(t),!0}catch{}return!1}function q$(t){if(!vg||!t||typeof t!="object")return!1;try{vg.call(t);try{Eg.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function V$(t){if(!Ql||!t||typeof t!="object")return!1;try{Ql.call(t,Ql);try{Gl.call(t,Gl)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function H$(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function x8(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return x8(HA.call(t,0,e.maxStringLength),e)+n}var i=Yi.call(Yi.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,j$);return S8(i,"single",e)}function j$(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+S$.call(e.toString(16))}function jl(t){return"Object("+t+")"}function BA(t){return t+" { ? }"}function _8(t,e,r,n){var i=n?UA(r,n):Cn.call(r,", ");return t+" ("+e+") {"+i+"}"}function G$(t){for(var e=0;e<t.length;e++)if(T8(t[e],`
`)>=0)return!1;return!0}function Q$(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=Cn.call(Array(t.indent+1)," ");else return null;return{base:r,prev:Cn.call(Array(e+1),r)}}function UA(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+Cn.call(t,","+r)+`
`+e.prev}function wg(t,e){var r=MA(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=$i(t,i)?e(t[i],t):""}var s=typeof PA=="function"?PA(t):[],o;if(Qu){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var u in t)$i(t,u)&&(r&&String(Number(u))===u&&u<t.length||Qu&&o["$"+u]instanceof Symbol||(b8.call(/[^\w$]/,u)?n.push(e(u,t)+": "+e(t[u],t)):n.push(u+": "+e(t[u],t))));if(typeof PA=="function")for(var l=0;l<s.length;l++)I8.call(t,s[l])&&n.push("["+e(s[l])+"]: "+e(t[s[l]],t));return n}});var P8=v((hle,O8)=>{"use strict";c();var jA=yg(),ku=c8(),k$=D8(),K$=jA("%TypeError%"),Ag=jA("%WeakMap%",!0),_g=jA("%Map%",!0),z$=ku("WeakMap.prototype.get",!0),W$=ku("WeakMap.prototype.set",!0),$$=ku("WeakMap.prototype.has",!0),Y$=ku("Map.prototype.get",!0),J$=ku("Map.prototype.set",!0),X$=ku("Map.prototype.has",!0),GA=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},Z$=function(t,e){var r=GA(t,e);return r&&r.value},eY=function(t,e,r){var n=GA(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},tY=function(t,e){return!!GA(t,e)};O8.exports=function(){var e,r,n,i={assert:function(s){if(!i.has(s))throw new K$("Side channel does not contain "+k$(s))},get:function(s){if(Ag&&s&&(typeof s=="object"||typeof s=="function")){if(e)return z$(e,s)}else if(_g){if(r)return Y$(r,s)}else if(n)return Z$(n,s)},has:function(s){if(Ag&&s&&(typeof s=="object"||typeof s=="function")){if(e)return $$(e,s)}else if(_g){if(r)return X$(r,s)}else if(n)return tY(n,s);return!1},set:function(s,o){Ag&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new Ag),W$(e,s,o)):_g?(r||(r=new _g),J$(r,s,o)):(n||(n={key:{},next:null}),eY(n,s,o))}};return i}});var bg=v((ple,B8)=>{"use strict";c();var rY=String.prototype.replace,nY=/%20/g,QA={RFC1738:"RFC1738",RFC3986:"RFC3986"};B8.exports={default:QA.RFC3986,formatters:{RFC1738:function(t){return rY.call(t,nY,"+")},RFC3986:function(t){return String(t)}},RFC1738:QA.RFC1738,RFC3986:QA.RFC3986}});var KA=v((yle,L8)=>{"use strict";c();var iY=bg(),kA=Object.prototype.hasOwnProperty,Ao=Array.isArray,Tn=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),sY=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(Ao(n)){for(var i=[],s=0;s<n.length;++s)typeof n[s]<"u"&&i.push(n[s]);r.obj[r.prop]=i}}},R8=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},oY=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(Ao(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!kA.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return Ao(e)&&!Ao(r)&&(i=R8(e,n)),Ao(e)&&Ao(r)?(r.forEach(function(s,o){if(kA.call(e,o)){var a=e[o];a&&typeof a=="object"&&s&&typeof s=="object"?e[o]=t(a,s,n):e.push(s)}else e[o]=s}),e):Object.keys(r).reduce(function(s,o){var a=r[o];return kA.call(s,o)?s[o]=t(s[o],a,n):s[o]=a,s},i)},aY=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},uY=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},cY=function(e,r,n,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(f){return"%26%23"+parseInt(f.slice(2),16)+"%3B"});for(var a="",u=0;u<o.length;++u){var l=o.charCodeAt(u);if(l===45||l===46||l===95||l===126||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||s===iY.RFC1738&&(l===40||l===41)){a+=o.charAt(u);continue}if(l<128){a=a+Tn[l];continue}if(l<2048){a=a+(Tn[192|l>>6]+Tn[128|l&63]);continue}if(l<55296||l>=57344){a=a+(Tn[224|l>>12]+Tn[128|l>>6&63]+Tn[128|l&63]);continue}u+=1,l=65536+((l&1023)<<10|o.charCodeAt(u)&1023),a+=Tn[240|l>>18]+Tn[128|l>>12&63]+Tn[128|l>>6&63]+Tn[128|l&63]}return a},lY=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var s=r[i],o=s.obj[s.prop],a=Object.keys(o),u=0;u<a.length;++u){var l=a[u],f=o[l];typeof f=="object"&&f!==null&&n.indexOf(f)===-1&&(r.push({obj:o,prop:l}),n.push(f))}return sY(r),e},fY=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},hY=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},dY=function(e,r){return[].concat(e,r)},pY=function(e,r){if(Ao(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)};L8.exports={arrayToObject:R8,assign:aY,combine:dY,compact:lY,decode:uY,encode:cY,isBuffer:hY,isRegExp:fY,maybeMap:pY,merge:oY}});var H8=v((wle,V8)=>{"use strict";c();var U8=P8(),WA=KA(),kl=bg(),gY=Object.prototype.hasOwnProperty,F8={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},_o=Array.isArray,yY=String.prototype.split,mY=Array.prototype.push,q8=function(t,e){mY.apply(t,_o(e)?e:[e])},wY=Date.prototype.toISOString,M8=kl.default,Ut={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:WA.encode,encodeValuesOnly:!1,format:M8,formatter:kl.formatters[M8],indices:!1,serializeDate:function(e){return wY.call(e)},skipNulls:!1,strictNullHandling:!1},EY=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},zA={},vY=function t(e,r,n,i,s,o,a,u,l,f,d,y,w,E,T){for(var R=e,_=T,B=0,x=!1;(_=_.get(zA))!==void 0&&!x;){var O=_.get(e);if(B+=1,typeof O<"u"){if(O===B)throw new RangeError("Cyclic object value");x=!0}typeof _.get(zA)>"u"&&(B=0)}if(typeof a=="function"?R=a(r,R):R instanceof Date?R=f(R):n==="comma"&&_o(R)&&(R=WA.maybeMap(R,function(re){return re instanceof Date?f(re):re})),R===null){if(i)return o&&!w?o(r,Ut.encoder,E,"key",d):r;R=""}if(EY(R)||WA.isBuffer(R)){if(o){var P=w?r:o(r,Ut.encoder,E,"key",d);if(n==="comma"&&w){for(var L=yY.call(String(R),","),b="",C=0;C<L.length;++C)b+=(C===0?"":",")+y(o(L[C],Ut.encoder,E,"value",d));return[y(P)+"="+b]}return[y(P)+"="+y(o(R,Ut.encoder,E,"value",d))]}return[y(r)+"="+y(String(R))]}var M=[];if(typeof R>"u")return M;var Z;if(n==="comma"&&_o(R))Z=[{value:R.length>0?R.join(",")||null:void 0}];else if(_o(a))Z=a;else{var K=Object.keys(R);Z=u?K.sort(u):K}for(var j=0;j<Z.length;++j){var G=Z[j],$=typeof G=="object"&&typeof G.value<"u"?G.value:R[G];if(!(s&&$===null)){var de=_o(R)?typeof n=="function"?n(r,G):r:r+(l?"."+G:"["+G+"]");T.set(e,B);var ae=U8();ae.set(zA,T),q8(M,t($,de,n,i,s,o,a,u,l,f,d,y,w,E,ae))}}return M},AY=function(e){if(!e)return Ut;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||Ut.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=kl.default;if(typeof e.format<"u"){if(!gY.call(kl.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=kl.formatters[n],s=Ut.filter;return(typeof e.filter=="function"||_o(e.filter))&&(s=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Ut.addQueryPrefix,allowDots:typeof e.allowDots>"u"?Ut.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Ut.charsetSentinel,delimiter:typeof e.delimiter>"u"?Ut.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Ut.encode,encoder:typeof e.encoder=="function"?e.encoder:Ut.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Ut.encodeValuesOnly,filter:s,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Ut.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Ut.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Ut.strictNullHandling}};V8.exports=function(t,e){var r=t,n=AY(e),i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):_o(n.filter)&&(s=n.filter,i=s);var o=[];if(typeof r!="object"||r===null)return"";var a;e&&e.arrayFormat in F8?a=e.arrayFormat:e&&"indices"in e?a=e.indices?"indices":"repeat":a="indices";var u=F8[a];i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var l=U8(),f=0;f<i.length;++f){var d=i[f];n.skipNulls&&r[d]===null||q8(o,vY(r[d],d,u,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,l))}var y=o.join(n.delimiter),w=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?w+="utf8=%26%2310003%3B&":w+="utf8=%E2%9C%93&"),y.length>0?w+y:""}});var Q8=v((vle,G8)=>{"use strict";c();var Ku=KA(),$A=Object.prototype.hasOwnProperty,_Y=Array.isArray,Pt={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:Ku.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},bY=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},j8=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},IY="utf8=%26%2310003%3B",SY="utf8=%E2%9C%93",CY=function(e,r){var n={},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,s),a=-1,u,l=r.charset;if(r.charsetSentinel)for(u=0;u<o.length;++u)o[u].indexOf("utf8=")===0&&(o[u]===SY?l="utf-8":o[u]===IY&&(l="iso-8859-1"),a=u,u=o.length);for(u=0;u<o.length;++u)if(u!==a){var f=o[u],d=f.indexOf("]="),y=d===-1?f.indexOf("="):d+1,w,E;y===-1?(w=r.decoder(f,Pt.decoder,l,"key"),E=r.strictNullHandling?null:""):(w=r.decoder(f.slice(0,y),Pt.decoder,l,"key"),E=Ku.maybeMap(j8(f.slice(y+1),r),function(T){return r.decoder(T,Pt.decoder,l,"value")})),E&&r.interpretNumericEntities&&l==="iso-8859-1"&&(E=bY(E)),f.indexOf("[]=")>-1&&(E=_Y(E)?[E]:E),$A.call(n,w)?n[w]=Ku.combine(n[w],E):n[w]=E}return n},TY=function(t,e,r,n){for(var i=n?e:j8(e,r),s=t.length-1;s>=0;--s){var o,a=t[s];if(a==="[]"&&r.parseArrays)o=[].concat(i);else{o=r.plainObjects?Object.create(null):{};var u=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,l=parseInt(u,10);!r.parseArrays&&u===""?o={0:i}:!isNaN(l)&&a!==u&&String(l)===u&&l>=0&&r.parseArrays&&l<=r.arrayLimit?(o=[],o[l]=i):u!=="__proto__"&&(o[u]=i)}i=o}return i},xY=function(e,r,n,i){if(e){var s=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,u=n.depth>0&&o.exec(s),l=u?s.slice(0,u.index):s,f=[];if(l){if(!n.plainObjects&&$A.call(Object.prototype,l)&&!n.allowPrototypes)return;f.push(l)}for(var d=0;n.depth>0&&(u=a.exec(s))!==null&&d<n.depth;){if(d+=1,!n.plainObjects&&$A.call(Object.prototype,u[1].slice(1,-1))&&!n.allowPrototypes)return;f.push(u[1])}return u&&f.push("["+s.slice(u.index)+"]"),TY(f,r,n,i)}},NY=function(e){if(!e)return Pt;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?Pt.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?Pt.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:Pt.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:Pt.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:Pt.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Pt.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:Pt.comma,decoder:typeof e.decoder=="function"?e.decoder:Pt.decoder,delimiter:typeof e.delimiter=="string"||Ku.isRegExp(e.delimiter)?e.delimiter:Pt.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:Pt.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:Pt.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:Pt.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:Pt.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Pt.strictNullHandling}};G8.exports=function(t,e){var r=NY(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?CY(t,r):t,i=r.plainObjects?Object.create(null):{},s=Object.keys(n),o=0;o<s.length;++o){var a=s[o],u=xY(a,n[a],r,typeof t=="string");i=Ku.merge(i,u,r)}return r.allowSparse===!0?i:Ku.compact(i)}});var K8=v((_le,k8)=>{"use strict";c();var DY=H8(),OY=Q8(),PY=bg();k8.exports={formats:PY,parse:OY,stringify:DY}});var YA=v(rt=>{"use strict";c();Object.defineProperty(rt,"__esModule",{value:!0});rt.WALLET_PROVIDER_CALLBACK_PARAM_TX_SIGNED=rt.WALLET_PROVIDER_CALLBACK_PARAM=rt.WALLET_PROVIDER_SIGN_MESSAGE_URL=rt.WALLET_PROVIDER_GUARD_TRANSACTION_URL=rt.WALLET_PROVIDER_SIGN_TRANSACTION_URL=rt.WALLET_PROVIDER_SEND_TRANSACTION_URL=rt.WALLET_PROVIDER_DISCONNECT_URL=rt.WALLET_PROVIDER_CONNECT_URL=rt.WALLET_PROVIDER_TESTNET=rt.WALLET_PROVIDER_DEVNET=rt.WALLET_PROVIDER_MAINNET=void 0;rt.WALLET_PROVIDER_MAINNET="https://wallet.multiversx.com/dapp/init";rt.WALLET_PROVIDER_DEVNET="https://devnet-wallet.multiversx.com/dapp/init";rt.WALLET_PROVIDER_TESTNET="https://testnet-wallet.multiversx.com/dapp/init";rt.WALLET_PROVIDER_CONNECT_URL="hook/login";rt.WALLET_PROVIDER_DISCONNECT_URL="hook/logout";rt.WALLET_PROVIDER_SEND_TRANSACTION_URL="hook/transaction";rt.WALLET_PROVIDER_SIGN_TRANSACTION_URL="hook/sign";rt.WALLET_PROVIDER_GUARD_TRANSACTION_URL="hook/2fa";rt.WALLET_PROVIDER_SIGN_MESSAGE_URL="hook/sign-message";rt.WALLET_PROVIDER_CALLBACK_PARAM="walletProviderStatus";rt.WALLET_PROVIDER_CALLBACK_PARAM_TX_SIGNED="transactionsSigned"});var z8=v(zu=>{"use strict";c();Object.defineProperty(zu,"__esModule",{value:!0});zu.ErrCannotSignedMessage=zu.ErrCannotGetSignedTransactions=void 0;var JA=class extends Error{constructor(){super("Cannot get signed transaction(s)")}};zu.ErrCannotGetSignedTransactions=JA;var XA=class extends Error{constructor(){super("Cannot get signed message")}};zu.ErrCannotSignedMessage=XA});var W8=v(Ig=>{"use strict";c();Object.defineProperty(Ig,"__esModule",{value:!0});Ig.PlainSignedTransaction=void 0;var ZA=class{constructor(e){this.nonce=0,this.value="",this.receiver="",this.sender="",this.gasPrice=0,this.gasLimit=0,this.data="",this.chainID="",this.version=0,this.options=void 0,this.signature="",Object.assign(this,e)}};Ig.PlainSignedTransaction=ZA});var Kl=v(es=>{"use strict";c();var Xi=es&&es.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(f){try{l(n.next(f))}catch(d){o(d)}}function u(f){try{l(n.throw(f))}catch(d){o(d)}}function l(f){f.done?s(f.value):i(f.value).then(a,u)}l((n=n.apply(t,e||[])).next())})},BY=es&&es.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(es,"__esModule",{value:!0});es.WalletProvider=void 0;var e_=BY(K8()),Zi=YA(),t_=z8(),RY=W8(),Wu=class{constructor(e){this.walletUrl=e}login(e){return Xi(this,void 0,void 0,function*(){let r=this.buildWalletUrl({endpoint:Zi.WALLET_PROVIDER_CONNECT_URL,callbackUrl:e?.callbackUrl,params:{token:e?.token}});return yield this.redirect(r,e?.redirectDelayMilliseconds),r})}redirect(e,r){return Xi(this,void 0,void 0,function*(){r?yield this.redirectLater(e,r):this.redirectImmediately(e)})}redirectImmediately(e){window.location.href=e}redirectLater(e,r){return Xi(this,void 0,void 0,function*(){yield new Promise(n=>{setTimeout(()=>{window.location.href=e,n(!0)},r)})})}logout(e){return Xi(this,void 0,void 0,function*(){let r=this.buildWalletUrl({endpoint:Zi.WALLET_PROVIDER_DISCONNECT_URL,callbackUrl:e?.callbackUrl});return yield this.redirect(r,e?.redirectDelayMilliseconds),!0})}signMessage(e,r){return Xi(this,void 0,void 0,function*(){let n=this.buildWalletUrl({endpoint:Zi.WALLET_PROVIDER_SIGN_MESSAGE_URL,callbackUrl:r?.callbackUrl,params:{message:e.message.toString()}});return yield this.redirect(n),n})}getMessageSignatureFromWalletUrl(){var e,r;let n=window.location.search.slice(1);console.info("getMessageSignatureFromWalletUrl(), url:",n);let i=e_.default.parse(n);if((((e=i.status)===null||e===void 0?void 0:e.toString())||"")!=="signed")throw new t_.ErrCannotSignedMessage;return((r=i.signature)===null||r===void 0?void 0:r.toString())||""}guardTransactions(e,r){return Xi(this,void 0,void 0,function*(){this.redirectTransactionsToEndpoint(Zi.WALLET_PROVIDER_GUARD_TRANSACTION_URL,e,r)})}signTransactions(e,r){return Xi(this,void 0,void 0,function*(){this.redirectTransactionsToEndpoint(Zi.WALLET_PROVIDER_SIGN_TRANSACTION_URL,e,r)})}signTransaction(e,r){return Xi(this,void 0,void 0,function*(){yield this.signTransactions([e],r)})}getTransactionsFromWalletUrl(){let e=e_.default.parse(window.location.search.slice(1));return Wu.isTxSignReturnSuccess(e)?this.getTxSignReturnValue(e):[]}static isTxSignReturnSuccess(e){return e.hasOwnProperty(Zi.WALLET_PROVIDER_CALLBACK_PARAM)&&e[Zi.WALLET_PROVIDER_CALLBACK_PARAM]===Zi.WALLET_PROVIDER_CALLBACK_PARAM_TX_SIGNED}getTxSignReturnValue(e){var r;console.info("getTxSignReturnValue(), urlParams:",e);let n=["nonce","value","receiver","sender","gasPrice","gasLimit","chainID","version","signature"];for(let o of n)if(!e[o]||!Array.isArray(e[o]))throw new t_.ErrCannotGetSignedTransactions;let i=e.nonce.length;for(let o of n)if(e[o].length!==i)throw new t_.ErrCannotGetSignedTransactions;let s=[];for(let o=0;o<i;o++){let a=new RY.PlainSignedTransaction(Object.assign(Object.assign(Object.assign(Object.assign({nonce:parseInt(e.nonce[o]),value:e.value[o],receiver:e.receiver[o],sender:e.sender[o],gasPrice:parseInt(e.gasPrice[o]),gasLimit:parseInt(e.gasLimit[o]),data:(r=e.data[o])!==null&&r!==void 0?r:"",chainID:e.chainID[o],version:parseInt(e.version[o])},e.guardian&&e.guardian[o]?{guardian:e.guardian[o]}:{}),e.guardianSignature&&e.guardianSignature[o]?{guardianSignature:e.guardianSignature[o]}:{}),e.options&&e.options[o]?{options:parseInt(e.options[o])}:{}),{signature:e.signature[o]}));s.push(a)}return s}static prepareWalletTransaction(e){let r=e.toPlainObject();return r.data?r.data=h.Buffer.from(r.data,"base64").toString():r.data="",r}buildWalletUrl(e){let r=e?.callbackUrl||window.location.href,n=e_.default.stringify(e.params||{}),i=n?`${n}&callbackUrl=${r}`:`callbackUrl=${r}`,s=`${this.baseWalletUrl()}/${e.endpoint}?${i}`;return console.info(`Redirecting to Wallet URL: ${decodeURI(s)}`),s}baseWalletUrl(){let e=this.walletUrl.split("/"),r=e[0],n=e[2];return r+"//"+n}redirectTransactionsToEndpoint(e,r,n){let i={};r.map(o=>{let a=Wu.prepareWalletTransaction(o);for(let u in a)a.hasOwnProperty(u)&&!i.hasOwnProperty(u)&&(i[u]=[]),i[u].push(a[u])});let s=this.buildWalletUrl({endpoint:e,callbackUrl:n?.callbackUrl,params:i});window.location.href=s}};es.WalletProvider=Wu});var Z8=v(Tg=>{"use strict";c();Object.defineProperty(Tg,"__esModule",{value:!0});Tg.TransactionStatus=void 0;var zl=class{constructor(e){this.status=(e||"").toLowerCase()}static createUnknown(){return new zl("unknown")}isPending(){return this.status=="received"||this.status=="pending"}isExecuted(){return this.isSuccessful()||this.isFailed()||this.isInvalid()}isSuccessful(){return this.status=="executed"||this.status=="success"||this.status=="successful"}isFailed(){return this.status=="fail"||this.status=="failed"||this.status=="unsuccessful"||this.isInvalid()}isInvalid(){return this.status=="invalid"}toString(){return this.status}valueOf(){return this.status}equals(e){return e?this.status==e.status:!1}};Tg.TransactionStatus=zl});var Ju=v(Rt=>{"use strict";c();var LY=Rt&&Rt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),FY=Rt&&Rt.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),MY=Rt&&Rt.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&LY(e,t,r);return FY(e,t),e};Object.defineProperty(Rt,"__esModule",{value:!0});Rt.zeroPadStringIfOddLength=Rt.isPaddedHex=Rt.numberToPaddedHex=Rt.Nonce=Rt.Address=void 0;var eB=MY(Cf()),UY="erd",Wl=class{constructor(e){this.value=e}static fromPubkey(e){let r=eB.toWords(e),n=eB.encode(UY,r);return new Wl(n)}bech32(){return this.value}toString(){return this.bech32()}};Rt.Address=Wl;var r_=class{constructor(e){this.value=e}valueOf(){return this.value}hex(){return tB(this.value)}};Rt.Nonce=r_;function tB(t){let e=t.toString(16);return rB(e)}Rt.numberToPaddedHex=tB;function qY(t){t=t||"";let e=h.Buffer.from(t,"hex").toString("hex");return t.toUpperCase()==e.toUpperCase()}Rt.isPaddedHex=qY;function rB(t){return t=t||"",t.length%2==1?"0"+t:t}Rt.zeroPadStringIfOddLength=rB});var iB=v(xg=>{"use strict";c();Object.defineProperty(xg,"__esModule",{value:!0});xg.TransactionReceipt=void 0;var nB=Ju(),$l=class{constructor(){this.value="",this.sender=new nB.Address(""),this.data="",this.hash=""}static fromHttpResponse(e){let r=new $l;return r.value=(e.value||0).toString(),r.sender=new nB.Address(e.sender),r.data=e.data,r.hash=e.txHash,r}};xg.TransactionReceipt=$l});var sB=v(xn=>{"use strict";c();Object.defineProperty(xn,"__esModule",{value:!0});xn.ErrContractQuery=xn.ErrNetworkProvider=xn.ErrUnexpectedCondition=xn.Err=void 0;var Xu=class extends Error{constructor(e,r){super(e),this.inner=void 0,this.inner=r}};xn.Err=Xu;var n_=class extends Xu{constructor(e){super(`Unexpected condition: [${e}]`)}};xn.ErrUnexpectedCondition=n_;var i_=class extends Xu{constructor(e,r,n){let i=`Request error on url [${e}]: [${r}]`;super(i,n)}};xn.ErrNetworkProvider=i_;var s_=class extends Xu{constructor(e){super(e.message.replace("executeQuery:",""))}};xn.ErrContractQuery=s_});var aB=v(Zu=>{"use strict";c();Object.defineProperty(Zu,"__esModule",{value:!0});Zu.TransactionEventTopic=Zu.TransactionEvent=void 0;var oB=Ju(),Yl=class{constructor(e){this.address=new oB.Address(""),this.identifier="",this.topics=[],this.data="",Object.assign(this,e)}static fromHttpResponse(e){let r=new Yl;return r.address=new oB.Address(e.address),r.identifier=e.identifier||"",r.topics=(e.topics||[]).map(n=>new Ng(n)),r.data=h.Buffer.from(e.data||"","base64").toString(),r}findFirstOrNoneTopic(e){return this.topics.filter(r=>e(r))[0]}getLastTopic(){return this.topics[this.topics.length-1]}};Zu.TransactionEvent=Yl;var Ng=class{constructor(e){this.raw=h.Buffer.from(e||"","base64")}toString(){return this.raw.toString("utf8")}hex(){return this.raw.toString("hex")}valueOf(){return this.raw}};Zu.TransactionEventTopic=Ng});var o_=v(Dg=>{"use strict";c();Object.defineProperty(Dg,"__esModule",{value:!0});Dg.TransactionLogs=void 0;var VY=sB(),uB=Ju(),HY=aB(),Jl=class{constructor(e){this.address=new uB.Address(""),this.events=[],Object.assign(this,e)}static fromHttpResponse(e){let r=new Jl;return r.address=new uB.Address(e.address),r.events=(e.events||[]).map(n=>HY.TransactionEvent.fromHttpResponse(n)),r}findSingleOrNoneEvent(e,r){let n=this.findEvents(e,r);if(n.length>1)throw new VY.ErrUnexpectedCondition(`more than one event of type ${e}`);return n[0]}findFirstOrNoneEvent(e,r){return this.findEvents(e,r)[0]}findEvents(e,r){let n=this.events.filter(i=>i.identifier==e);return r&&(n=n.filter(i=>r(i))),n}};Dg.TransactionLogs=Jl});var lB=v(tc=>{"use strict";c();Object.defineProperty(tc,"__esModule",{value:!0});tc.ContractResultItem=tc.ContractResults=void 0;var cB=o_(),Og=Ju(),ec=class{constructor(e){this.items=e,this.items.sort(function(r,n){return r.nonce.valueOf()-n.nonce.valueOf()})}static fromProxyHttpResponse(e){let r=e.map(n=>ti.fromProxyHttpResponse(n));return new ec(r)}static fromApiHttpResponse(e){let r=e.map(n=>ti.fromApiHttpResponse(n));return new ec(r)}};tc.ContractResults=ec;var ti=class{constructor(e){this.hash="",this.nonce=0,this.value="",this.receiver=new Og.Address(""),this.sender=new Og.Address(""),this.data="",this.previousHash="",this.originalHash="",this.gasLimit=0,this.gasPrice=0,this.callType=0,this.returnMessage="",this.logs=new cB.TransactionLogs,Object.assign(this,e)}static fromProxyHttpResponse(e){return ti.fromHttpResponse(e)}static fromApiHttpResponse(e){let r=ti.fromHttpResponse(e);return r.data=h.Buffer.from(r.data,"base64").toString(),r.callType=Number(r.callType),r}static fromHttpResponse(e){let r=new ti;return r.hash=e.hash,r.nonce=Number(e.nonce||0),r.value=(e.value||0).toString(),r.receiver=new Og.Address(e.receiver),r.sender=new Og.Address(e.sender),r.previousHash=e.prevTxHash,r.originalHash=e.originalTxHash,r.gasLimit=Number(e.gasLimit||0),r.gasPrice=Number(e.gasPrice||0),r.data=e.data||"",r.callType=e.callType,r.returnMessage=e.returnMessage,r.logs=cB.TransactionLogs.fromHttpResponse(e.logs||{}),r}};tc.ContractResultItem=ti});var fB=v(rs=>{"use strict";c();var jY=rs&&rs.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(rs,"__esModule",{value:!0});rs.EsdtContractAddress=rs.MaxUint64AsBigNumber=void 0;var GY=jY(Wt()),QY=Ju();rs.MaxUint64AsBigNumber=new GY.default("18446744073709551615");rs.EsdtContractAddress=new QY.Address("erd1qqqqqqqqqqqqqqqpqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqzllls8a5w6u")});var hB=v(rc=>{"use strict";c();var kY=rc&&rc.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(rc,"__esModule",{value:!0});rc.ContractQueryResponse=void 0;var KY=kY(Wt()),zY=fB(),Xl=class{constructor(e){this.returnData=e?.returnData||[],this.returnCode=e?.returnCode||"",this.returnMessage=e?.returnMessage||"",this.gasUsed=e?.gasUsed||0}static fromHttpResponse(e){let r=e.returnData||e.ReturnData,n=e.returnCode||e.ReturnCode,i=e.returnMessage||e.ReturnMessage,s=new KY.default(e.gasRemaining||e.GasRemaining||0),o=zY.MaxUint64AsBigNumber.minus(s).toNumber();return new Xl({returnData:r,returnCode:n,returnMessage:i,gasUsed:o})}getReturnDataParts(){return this.returnData.map(e=>h.Buffer.from(e||"","base64"))}toJSON(){return{returnData:this.returnData,returnCode:this.returnCode,returnMessage:this.returnMessage,gasUsed:this.gasUsed.valueOf()}}};rc.ContractQueryResponse=Xl});var dB=v(Pg=>{"use strict";c();Object.defineProperty(Pg,"__esModule",{value:!0});Pg.ContractQueryRequest=void 0;var a_=class{constructor(e){this.query=e}toHttpRequest(){var e;let r={},n=this.query;return r.scAddress=n.address.bech32(),r.caller=!((e=n.caller)===null||e===void 0)&&e.bech32()?n.caller.bech32():void 0,r.funcName=n.func.toString(),r.value=n.value?n.value.toString():void 0,r.args=n.getEncodedArguments(),r}};Pg.ContractQueryRequest=a_});var IB=v((kfe,bB)=>{c();bB.exports=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}});var ns=v(So=>{c();var u_,WY=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];So.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};So.getSymbolTotalCodewords=function(e){return WY[e]};So.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};So.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');u_=e};So.isKanjiModeEnabled=function(){return typeof u_<"u"};So.toSJIS=function(e){return u_(e)}});var Lg=v(Nr=>{c();Nr.L={bit:1};Nr.M={bit:0};Nr.Q={bit:3};Nr.H={bit:2};function $Y(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return Nr.L;case"m":case"medium":return Nr.M;case"q":case"quartile":return Nr.Q;case"h":case"high":return Nr.H;default:throw new Error("Unknown EC Level: "+t)}}Nr.isValid=function(e){return e&&typeof e.bit<"u"&&e.bit>=0&&e.bit<4};Nr.from=function(e,r){if(Nr.isValid(e))return e;try{return $Y(e)}catch{return r}}});var TB=v((Jfe,CB)=>{c();function SB(){this.buffer=[],this.length=0}SB.prototype={get:function(t){let e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let r=0;r<e;r++)this.putBit((t>>>e-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){let e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};CB.exports=SB});var NB=v((Zfe,xB)=>{c();function Zl(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}Zl.prototype.set=function(t,e,r,n){let i=t*this.size+e;this.data[i]=r,n&&(this.reservedBit[i]=!0)};Zl.prototype.get=function(t,e){return this.data[t*this.size+e]};Zl.prototype.xor=function(t,e,r){this.data[t*this.size+e]^=r};Zl.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};xB.exports=Zl});var DB=v(Fg=>{c();var YY=ns().getSymbolSize;Fg.getRowColCoords=function(e){if(e===1)return[];let r=Math.floor(e/7)+2,n=YY(e),i=n===145?26:Math.ceil((n-13)/(2*r-2))*2,s=[n-7];for(let o=1;o<r-1;o++)s[o]=s[o-1]-i;return s.push(6),s.reverse()};Fg.getPositions=function(e){let r=[],n=Fg.getRowColCoords(e),i=n.length;for(let s=0;s<i;s++)for(let o=0;o<i;o++)s===0&&o===0||s===0&&o===i-1||s===i-1&&o===0||r.push([n[s],n[o]]);return r}});var BB=v(PB=>{c();var JY=ns().getSymbolSize,OB=7;PB.getPositions=function(e){let r=JY(e);return[[0,0],[r-OB,0],[0,r-OB]]}});var RB=v(We=>{c();We.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var Co={N1:3,N2:3,N3:40,N4:10};We.isValid=function(e){return e!=null&&e!==""&&!isNaN(e)&&e>=0&&e<=7};We.from=function(e){return We.isValid(e)?parseInt(e,10):void 0};We.getPenaltyN1=function(e){let r=e.size,n=0,i=0,s=0,o=null,a=null;for(let u=0;u<r;u++){i=s=0,o=a=null;for(let l=0;l<r;l++){let f=e.get(u,l);f===o?i++:(i>=5&&(n+=Co.N1+(i-5)),o=f,i=1),f=e.get(l,u),f===a?s++:(s>=5&&(n+=Co.N1+(s-5)),a=f,s=1)}i>=5&&(n+=Co.N1+(i-5)),s>=5&&(n+=Co.N1+(s-5))}return n};We.getPenaltyN2=function(e){let r=e.size,n=0;for(let i=0;i<r-1;i++)for(let s=0;s<r-1;s++){let o=e.get(i,s)+e.get(i,s+1)+e.get(i+1,s)+e.get(i+1,s+1);(o===4||o===0)&&n++}return n*Co.N2};We.getPenaltyN3=function(e){let r=e.size,n=0,i=0,s=0;for(let o=0;o<r;o++){i=s=0;for(let a=0;a<r;a++)i=i<<1&2047|e.get(o,a),a>=10&&(i===1488||i===93)&&n++,s=s<<1&2047|e.get(a,o),a>=10&&(s===1488||s===93)&&n++}return n*Co.N3};We.getPenaltyN4=function(e){let r=0,n=e.data.length;for(let s=0;s<n;s++)r+=e.data[s];return Math.abs(Math.ceil(r*100/n/5)-10)*Co.N4};function XY(t,e,r){switch(t){case We.Patterns.PATTERN000:return(e+r)%2===0;case We.Patterns.PATTERN001:return e%2===0;case We.Patterns.PATTERN010:return r%3===0;case We.Patterns.PATTERN011:return(e+r)%3===0;case We.Patterns.PATTERN100:return(Math.floor(e/2)+Math.floor(r/3))%2===0;case We.Patterns.PATTERN101:return e*r%2+e*r%3===0;case We.Patterns.PATTERN110:return(e*r%2+e*r%3)%2===0;case We.Patterns.PATTERN111:return(e*r%3+(e+r)%2)%2===0;default:throw new Error("bad maskPattern:"+t)}}We.applyMask=function(e,r){let n=r.size;for(let i=0;i<n;i++)for(let s=0;s<n;s++)r.isReserved(s,i)||r.xor(s,i,XY(e,s,i))};We.getBestMask=function(e,r){let n=Object.keys(We.Patterns).length,i=0,s=1/0;for(let o=0;o<n;o++){r(o),We.applyMask(o,e);let a=We.getPenaltyN1(e)+We.getPenaltyN2(e)+We.getPenaltyN3(e)+We.getPenaltyN4(e);We.applyMask(o,e),a<s&&(s=a,i=o)}return i}});var l_=v(c_=>{c();var is=Lg(),Mg=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Ug=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];c_.getBlocksCount=function(e,r){switch(r){case is.L:return Mg[(e-1)*4+0];case is.M:return Mg[(e-1)*4+1];case is.Q:return Mg[(e-1)*4+2];case is.H:return Mg[(e-1)*4+3];default:return}};c_.getTotalCodewordsCount=function(e,r){switch(r){case is.L:return Ug[(e-1)*4+0];case is.M:return Ug[(e-1)*4+1];case is.Q:return Ug[(e-1)*4+2];case is.H:return Ug[(e-1)*4+3];default:return}}});var LB=v(Vg=>{c();var ef=new Uint8Array(512),qg=new Uint8Array(256);(function(){let e=1;for(let r=0;r<255;r++)ef[r]=e,qg[e]=r,e<<=1,e&256&&(e^=285);for(let r=255;r<512;r++)ef[r]=ef[r-255]})();Vg.log=function(e){if(e<1)throw new Error("log("+e+")");return qg[e]};Vg.exp=function(e){return ef[e]};Vg.mul=function(e,r){return e===0||r===0?0:ef[qg[e]+qg[r]]}});var FB=v(tf=>{c();var f_=LB();tf.mul=function(e,r){let n=new Uint8Array(e.length+r.length-1);for(let i=0;i<e.length;i++)for(let s=0;s<r.length;s++)n[i+s]^=f_.mul(e[i],r[s]);return n};tf.mod=function(e,r){let n=new Uint8Array(e);for(;n.length-r.length>=0;){let i=n[0];for(let o=0;o<r.length;o++)n[o]^=f_.mul(r[o],i);let s=0;for(;s<n.length&&n[s]===0;)s++;n=n.slice(s)}return n};tf.generateECPolynomial=function(e){let r=new Uint8Array([1]);for(let n=0;n<e;n++)r=tf.mul(r,new Uint8Array([1,f_.exp(n)]));return r}});var qB=v((dhe,UB)=>{c();var MB=FB();function h_(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}h_.prototype.initialize=function(e){this.degree=e,this.genPoly=MB.generateECPolynomial(this.degree)};h_.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");let r=new Uint8Array(e.length+this.degree);r.set(e);let n=MB.mod(r,this.genPoly),i=this.degree-n.length;if(i>0){let s=new Uint8Array(this.degree);return s.set(n,i),s}return n};UB.exports=h_});var d_=v(VB=>{c();VB.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}});var p_=v(ri=>{c();var HB="[0-9]+",ZY="[A-Z $%*+\\-./:]+",rf="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";rf=rf.replace(/u/g,"\\u");var eJ="(?:(?![A-Z0-9 $%*+\\-./:]|"+rf+`)(?:.|[\r
]))+`;ri.KANJI=new RegExp(rf,"g");ri.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");ri.BYTE=new RegExp(eJ,"g");ri.NUMERIC=new RegExp(HB,"g");ri.ALPHANUMERIC=new RegExp(ZY,"g");var tJ=new RegExp("^"+rf+"$"),rJ=new RegExp("^"+HB+"$"),nJ=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");ri.testKanji=function(e){return tJ.test(e)};ri.testNumeric=function(e){return rJ.test(e)};ri.testAlphanumeric=function(e){return nJ.test(e)}});var ss=v(Et=>{c();var iJ=d_(),g_=p_();Et.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]};Et.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]};Et.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]};Et.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]};Et.MIXED={bit:-1};Et.getCharCountIndicator=function(e,r){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!iJ.isValid(r))throw new Error("Invalid version: "+r);return r>=1&&r<10?e.ccBits[0]:r<27?e.ccBits[1]:e.ccBits[2]};Et.getBestModeForData=function(e){return g_.testNumeric(e)?Et.NUMERIC:g_.testAlphanumeric(e)?Et.ALPHANUMERIC:g_.testKanji(e)?Et.KANJI:Et.BYTE};Et.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")};Et.isValid=function(e){return e&&e.bit&&e.ccBits};function sJ(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"numeric":return Et.NUMERIC;case"alphanumeric":return Et.ALPHANUMERIC;case"kanji":return Et.KANJI;case"byte":return Et.BYTE;default:throw new Error("Unknown mode: "+t)}}Et.from=function(e,r){if(Et.isValid(e))return e;try{return sJ(e)}catch{return r}}});var KB=v(To=>{c();var Hg=ns(),oJ=l_(),jB=Lg(),os=ss(),y_=d_(),QB=7973,GB=Hg.getBCHDigit(QB);function aJ(t,e,r){for(let n=1;n<=40;n++)if(e<=To.getCapacity(n,r,t))return n}function kB(t,e){return os.getCharCountIndicator(t,e)+4}function uJ(t,e){let r=0;return t.forEach(function(n){let i=kB(n.mode,e);r+=i+n.getBitsLength()}),r}function cJ(t,e){for(let r=1;r<=40;r++)if(uJ(t,r)<=To.getCapacity(r,e,os.MIXED))return r}To.from=function(e,r){return y_.isValid(e)?parseInt(e,10):r};To.getCapacity=function(e,r,n){if(!y_.isValid(e))throw new Error("Invalid QR Code version");typeof n>"u"&&(n=os.BYTE);let i=Hg.getSymbolTotalCodewords(e),s=oJ.getTotalCodewordsCount(e,r),o=(i-s)*8;if(n===os.MIXED)return o;let a=o-kB(n,e);switch(n){case os.NUMERIC:return Math.floor(a/10*3);case os.ALPHANUMERIC:return Math.floor(a/11*2);case os.KANJI:return Math.floor(a/13);case os.BYTE:default:return Math.floor(a/8)}};To.getBestVersionForData=function(e,r){let n,i=jB.from(r,jB.M);if(Array.isArray(e)){if(e.length>1)return cJ(e,i);if(e.length===0)return 1;n=e[0]}else n=e;return aJ(n.mode,n.getLength(),i)};To.getEncodedBits=function(e){if(!y_.isValid(e)||e<7)throw new Error("Invalid QR Code version");let r=e<<12;for(;Hg.getBCHDigit(r)-GB>=0;)r^=QB<<Hg.getBCHDigit(r)-GB;return e<<12|r}});var YB=v($B=>{c();var m_=ns(),WB=1335,lJ=21522,zB=m_.getBCHDigit(WB);$B.getEncodedBits=function(e,r){let n=e.bit<<3|r,i=n<<10;for(;m_.getBCHDigit(i)-zB>=0;)i^=WB<<m_.getBCHDigit(i)-zB;return(n<<10|i)^lJ}});var XB=v((She,JB)=>{c();var fJ=ss();function nc(t){this.mode=fJ.NUMERIC,this.data=t.toString()}nc.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};nc.prototype.getLength=function(){return this.data.length};nc.prototype.getBitsLength=function(){return nc.getBitsLength(this.data.length)};nc.prototype.write=function(e){let r,n,i;for(r=0;r+3<=this.data.length;r+=3)n=this.data.substr(r,3),i=parseInt(n,10),e.put(i,10);let s=this.data.length-r;s>0&&(n=this.data.substr(r),i=parseInt(n,10),e.put(i,s*3+1))};JB.exports=nc});var eR=v((The,ZB)=>{c();var hJ=ss(),w_=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function ic(t){this.mode=hJ.ALPHANUMERIC,this.data=t}ic.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};ic.prototype.getLength=function(){return this.data.length};ic.prototype.getBitsLength=function(){return ic.getBitsLength(this.data.length)};ic.prototype.write=function(e){let r;for(r=0;r+2<=this.data.length;r+=2){let n=w_.indexOf(this.data[r])*45;n+=w_.indexOf(this.data[r+1]),e.put(n,11)}this.data.length%2&&e.put(w_.indexOf(this.data[r]),6)};ZB.exports=ic});var rR=v((Nhe,tR)=>{"use strict";c();tR.exports=function(e){for(var r=[],n=e.length,i=0;i<n;i++){var s=e.charCodeAt(i);if(s>=55296&&s<=56319&&n>i+1){var o=e.charCodeAt(i+1);o>=56320&&o<=57343&&(s=(s-55296)*1024+o-56320+65536,i+=1)}if(s<128){r.push(s);continue}if(s<2048){r.push(s>>6|192),r.push(s&63|128);continue}if(s<55296||s>=57344&&s<65536){r.push(s>>12|224),r.push(s>>6&63|128),r.push(s&63|128);continue}if(s>=65536&&s<=1114111){r.push(s>>18|240),r.push(s>>12&63|128),r.push(s>>6&63|128),r.push(s&63|128);continue}r.push(239,191,189)}return new Uint8Array(r).buffer}});var iR=v((Ohe,nR)=>{c();var dJ=rR(),pJ=ss();function sc(t){this.mode=pJ.BYTE,typeof t=="string"&&(t=dJ(t)),this.data=new Uint8Array(t)}sc.getBitsLength=function(e){return e*8};sc.prototype.getLength=function(){return this.data.length};sc.prototype.getBitsLength=function(){return sc.getBitsLength(this.data.length)};sc.prototype.write=function(t){for(let e=0,r=this.data.length;e<r;e++)t.put(this.data[e],8)};nR.exports=sc});var oR=v((Bhe,sR)=>{c();var gJ=ss(),yJ=ns();function oc(t){this.mode=gJ.KANJI,this.data=t}oc.getBitsLength=function(e){return e*13};oc.prototype.getLength=function(){return this.data.length};oc.prototype.getBitsLength=function(){return oc.getBitsLength(this.data.length)};oc.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let r=yJ.toSJIS(this.data[e]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),t.put(r,13)}};sR.exports=oc});var aR=v((Lhe,E_)=>{"use strict";c();var nf={single_source_shortest_paths:function(t,e,r){var n={},i={};i[e]=0;var s=nf.PriorityQueue.make();s.push(e,0);for(var o,a,u,l,f,d,y,w,E;!s.empty();){o=s.pop(),a=o.value,l=o.cost,f=t[a]||{};for(u in f)f.hasOwnProperty(u)&&(d=f[u],y=l+d,w=i[u],E=typeof i[u]>"u",(E||w>y)&&(i[u]=y,s.push(u,y),n[u]=a))}if(typeof r<"u"&&typeof i[r]>"u"){var T=["Could not find a path from ",e," to ",r,"."].join("");throw new Error(T)}return n},extract_shortest_path_from_predecessor_list:function(t,e){for(var r=[],n=e,i;n;)r.push(n),i=t[n],n=t[n];return r.reverse(),r},find_path:function(t,e,r){var n=nf.single_source_shortest_paths(t,e,r);return nf.extract_shortest_path_from_predecessor_list(n,r)},PriorityQueue:{make:function(t){var e=nf.PriorityQueue,r={},n;t=t||{};for(n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);return r.queue=[],r.sorter=t.sorter||e.default_sorter,r},default_sorter:function(t,e){return t.cost-e.cost},push:function(t,e){var r={value:t,cost:e};this.queue.push(r),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};typeof E_<"u"&&(E_.exports=nf)});var gR=v(ac=>{c();var Ve=ss(),lR=XB(),fR=eR(),hR=iR(),dR=oR(),sf=p_(),jg=ns(),mJ=aR();function uR(t){return unescape(encodeURIComponent(t)).length}function of(t,e,r){let n=[],i;for(;(i=t.exec(r))!==null;)n.push({data:i[0],index:i.index,mode:e,length:i[0].length});return n}function pR(t){let e=of(sf.NUMERIC,Ve.NUMERIC,t),r=of(sf.ALPHANUMERIC,Ve.ALPHANUMERIC,t),n,i;return jg.isKanjiModeEnabled()?(n=of(sf.BYTE,Ve.BYTE,t),i=of(sf.KANJI,Ve.KANJI,t)):(n=of(sf.BYTE_KANJI,Ve.BYTE,t),i=[]),e.concat(r,n,i).sort(function(o,a){return o.index-a.index}).map(function(o){return{data:o.data,mode:o.mode,length:o.length}})}function v_(t,e){switch(e){case Ve.NUMERIC:return lR.getBitsLength(t);case Ve.ALPHANUMERIC:return fR.getBitsLength(t);case Ve.KANJI:return dR.getBitsLength(t);case Ve.BYTE:return hR.getBitsLength(t)}}function wJ(t){return t.reduce(function(e,r){let n=e.length-1>=0?e[e.length-1]:null;return n&&n.mode===r.mode?(e[e.length-1].data+=r.data,e):(e.push(r),e)},[])}function EJ(t){let e=[];for(let r=0;r<t.length;r++){let n=t[r];switch(n.mode){case Ve.NUMERIC:e.push([n,{data:n.data,mode:Ve.ALPHANUMERIC,length:n.length},{data:n.data,mode:Ve.BYTE,length:n.length}]);break;case Ve.ALPHANUMERIC:e.push([n,{data:n.data,mode:Ve.BYTE,length:n.length}]);break;case Ve.KANJI:e.push([n,{data:n.data,mode:Ve.BYTE,length:uR(n.data)}]);break;case Ve.BYTE:e.push([{data:n.data,mode:Ve.BYTE,length:uR(n.data)}])}}return e}function vJ(t,e){let r={},n={start:{}},i=["start"];for(let s=0;s<t.length;s++){let o=t[s],a=[];for(let u=0;u<o.length;u++){let l=o[u],f=""+s+u;a.push(f),r[f]={node:l,lastCount:0},n[f]={};for(let d=0;d<i.length;d++){let y=i[d];r[y]&&r[y].node.mode===l.mode?(n[y][f]=v_(r[y].lastCount+l.length,l.mode)-v_(r[y].lastCount,l.mode),r[y].lastCount+=l.length):(r[y]&&(r[y].lastCount=l.length),n[y][f]=v_(l.length,l.mode)+4+Ve.getCharCountIndicator(l.mode,e))}}i=a}for(let s=0;s<i.length;s++)n[i[s]].end=0;return{map:n,table:r}}function cR(t,e){let r,n=Ve.getBestModeForData(t);if(r=Ve.from(e,n),r!==Ve.BYTE&&r.bit<n.bit)throw new Error('"'+t+'" cannot be encoded with mode '+Ve.toString(r)+`.
 Suggested mode is: `+Ve.toString(n));switch(r===Ve.KANJI&&!jg.isKanjiModeEnabled()&&(r=Ve.BYTE),r){case Ve.NUMERIC:return new lR(t);case Ve.ALPHANUMERIC:return new fR(t);case Ve.KANJI:return new dR(t);case Ve.BYTE:return new hR(t)}}ac.fromArray=function(e){return e.reduce(function(r,n){return typeof n=="string"?r.push(cR(n,null)):n.data&&r.push(cR(n.data,n.mode)),r},[])};ac.fromString=function(e,r){let n=pR(e,jg.isKanjiModeEnabled()),i=EJ(n),s=vJ(i,r),o=mJ.find_path(s.map,"start","end"),a=[];for(let u=1;u<o.length-1;u++)a.push(s.table[o[u]].node);return ac.fromArray(wJ(a))};ac.rawSplit=function(e){return ac.fromArray(pR(e,jg.isKanjiModeEnabled()))}});var mR=v(yR=>{c();var Qg=ns(),A_=Lg(),AJ=TB(),_J=NB(),bJ=DB(),IJ=BB(),I_=RB(),S_=l_(),SJ=qB(),Gg=KB(),CJ=YB(),TJ=ss(),__=gR();function xJ(t,e){let r=t.size,n=IJ.getPositions(e);for(let i=0;i<n.length;i++){let s=n[i][0],o=n[i][1];for(let a=-1;a<=7;a++)if(!(s+a<=-1||r<=s+a))for(let u=-1;u<=7;u++)o+u<=-1||r<=o+u||(a>=0&&a<=6&&(u===0||u===6)||u>=0&&u<=6&&(a===0||a===6)||a>=2&&a<=4&&u>=2&&u<=4?t.set(s+a,o+u,!0,!0):t.set(s+a,o+u,!1,!0))}}function NJ(t){let e=t.size;for(let r=8;r<e-8;r++){let n=r%2===0;t.set(r,6,n,!0),t.set(6,r,n,!0)}}function DJ(t,e){let r=bJ.getPositions(e);for(let n=0;n<r.length;n++){let i=r[n][0],s=r[n][1];for(let o=-2;o<=2;o++)for(let a=-2;a<=2;a++)o===-2||o===2||a===-2||a===2||o===0&&a===0?t.set(i+o,s+a,!0,!0):t.set(i+o,s+a,!1,!0)}}function OJ(t,e){let r=t.size,n=Gg.getEncodedBits(e),i,s,o;for(let a=0;a<18;a++)i=Math.floor(a/3),s=a%3+r-8-3,o=(n>>a&1)===1,t.set(i,s,o,!0),t.set(s,i,o,!0)}function b_(t,e,r){let n=t.size,i=CJ.getEncodedBits(e,r),s,o;for(s=0;s<15;s++)o=(i>>s&1)===1,s<6?t.set(s,8,o,!0):s<8?t.set(s+1,8,o,!0):t.set(n-15+s,8,o,!0),s<8?t.set(8,n-s-1,o,!0):s<9?t.set(8,15-s-1+1,o,!0):t.set(8,15-s-1,o,!0);t.set(n-8,8,1,!0)}function PJ(t,e){let r=t.size,n=-1,i=r-1,s=7,o=0;for(let a=r-1;a>0;a-=2)for(a===6&&a--;;){for(let u=0;u<2;u++)if(!t.isReserved(i,a-u)){let l=!1;o<e.length&&(l=(e[o]>>>s&1)===1),t.set(i,a-u,l),s--,s===-1&&(o++,s=7)}if(i+=n,i<0||r<=i){i-=n,n=-n;break}}}function BJ(t,e,r){let n=new AJ;r.forEach(function(u){n.put(u.mode.bit,4),n.put(u.getLength(),TJ.getCharCountIndicator(u.mode,t)),u.write(n)});let i=Qg.getSymbolTotalCodewords(t),s=S_.getTotalCodewordsCount(t,e),o=(i-s)*8;for(n.getLengthInBits()+4<=o&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);let a=(o-n.getLengthInBits())/8;for(let u=0;u<a;u++)n.put(u%2?17:236,8);return RJ(n,t,e)}function RJ(t,e,r){let n=Qg.getSymbolTotalCodewords(e),i=S_.getTotalCodewordsCount(e,r),s=n-i,o=S_.getBlocksCount(e,r),a=n%o,u=o-a,l=Math.floor(n/o),f=Math.floor(s/o),d=f+1,y=l-f,w=new SJ(y),E=0,T=new Array(o),R=new Array(o),_=0,B=new Uint8Array(t.buffer);for(let b=0;b<o;b++){let C=b<u?f:d;T[b]=B.slice(E,E+C),R[b]=w.encode(T[b]),E+=C,_=Math.max(_,C)}let x=new Uint8Array(n),O=0,P,L;for(P=0;P<_;P++)for(L=0;L<o;L++)P<T[L].length&&(x[O++]=T[L][P]);for(P=0;P<y;P++)for(L=0;L<o;L++)x[O++]=R[L][P];return x}function LJ(t,e,r,n){let i;if(Array.isArray(t))i=__.fromArray(t);else if(typeof t=="string"){let l=e;if(!l){let f=__.rawSplit(t);l=Gg.getBestVersionForData(f,r)}i=__.fromString(t,l||40)}else throw new Error("Invalid data");let s=Gg.getBestVersionForData(i,r);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=s;else if(e<s)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+s+`.
`);let o=BJ(e,r,i),a=Qg.getSymbolSize(e),u=new _J(a);return xJ(u,e),NJ(u),DJ(u,e),b_(u,r,0),e>=7&&OJ(u,e),PJ(u,o),isNaN(n)&&(n=I_.getBestMask(u,b_.bind(null,u,r))),I_.applyMask(n,u),b_(u,r,n),{modules:u,version:e,errorCorrectionLevel:r,maskPattern:n,segments:i}}yR.create=function(e,r){if(typeof e>"u"||e==="")throw new Error("No input text");let n=A_.M,i,s;return typeof r<"u"&&(n=A_.from(r.errorCorrectionLevel,A_.M),i=Gg.from(r.version),s=I_.from(r.maskPattern),r.toSJISFunc&&Qg.setToSJISFunction(r.toSJISFunc)),LJ(e,i,n,s)}});var C_=v(xo=>{c();function wR(t){if(typeof t=="number"&&(t=t.toString()),typeof t!="string")throw new Error("Color should be defined as hex string");let e=t.slice().replace("#","").split("");if(e.length<3||e.length===5||e.length>8)throw new Error("Invalid hex color: "+t);(e.length===3||e.length===4)&&(e=Array.prototype.concat.apply([],e.map(function(n){return[n,n]}))),e.length===6&&e.push("F","F");let r=parseInt(e.join(""),16);return{r:r>>24&255,g:r>>16&255,b:r>>8&255,a:r&255,hex:"#"+e.slice(0,6).join("")}}xo.getOptions=function(e){e||(e={}),e.color||(e.color={});let r=typeof e.margin>"u"||e.margin===null||e.margin<0?4:e.margin,n=e.width&&e.width>=21?e.width:void 0,i=e.scale||4;return{width:n,scale:n?4:i,margin:r,color:{dark:wR(e.color.dark||"#000000ff"),light:wR(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}};xo.getScale=function(e,r){return r.width&&r.width>=e+r.margin*2?r.width/(e+r.margin*2):r.scale};xo.getImageWidth=function(e,r){let n=xo.getScale(e,r);return Math.floor((e+r.margin*2)*n)};xo.qrToImageData=function(e,r,n){let i=r.modules.size,s=r.modules.data,o=xo.getScale(i,n),a=Math.floor((i+n.margin*2)*o),u=n.margin*o,l=[n.color.light,n.color.dark];for(let f=0;f<a;f++)for(let d=0;d<a;d++){let y=(f*a+d)*4,w=n.color.light;if(f>=u&&d>=u&&f<a-u&&d<a-u){let E=Math.floor((f-u)/o),T=Math.floor((d-u)/o);w=l[s[E*i+T]?1:0]}e[y++]=w.r,e[y++]=w.g,e[y++]=w.b,e[y]=w.a}}});var ER=v(kg=>{c();var T_=C_();function FJ(t,e,r){t.clearRect(0,0,e.width,e.height),e.style||(e.style={}),e.height=r,e.width=r,e.style.height=r+"px",e.style.width=r+"px"}function MJ(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}kg.render=function(e,r,n){let i=n,s=r;typeof i>"u"&&(!r||!r.getContext)&&(i=r,r=void 0),r||(s=MJ()),i=T_.getOptions(i);let o=T_.getImageWidth(e.modules.size,i),a=s.getContext("2d"),u=a.createImageData(o,o);return T_.qrToImageData(u.data,e,i),FJ(a,s,o),a.putImageData(u,0,0),s};kg.renderToDataURL=function(e,r,n){let i=n;typeof i>"u"&&(!r||!r.getContext)&&(i=r,r=void 0),i||(i={});let s=kg.render(e,r,i),o=i.type||"image/png",a=i.rendererOpts||{};return s.toDataURL(o,a.quality)}});var _R=v(AR=>{c();var UJ=C_();function vR(t,e){let r=t.a/255,n=e+'="'+t.hex+'"';return r<1?n+" "+e+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function x_(t,e,r){let n=t+e;return typeof r<"u"&&(n+=" "+r),n}function qJ(t,e,r){let n="",i=0,s=!1,o=0;for(let a=0;a<t.length;a++){let u=Math.floor(a%e),l=Math.floor(a/e);!u&&!s&&(s=!0),t[a]?(o++,a>0&&u>0&&t[a-1]||(n+=s?x_("M",u+r,.5+l+r):x_("m",i,0),i=0,s=!1),u+1<e&&t[a+1]||(n+=x_("h",o),o=0)):i++}return n}AR.render=function(e,r,n){let i=UJ.getOptions(r),s=e.modules.size,o=e.modules.data,a=s+i.margin*2,u=i.color.light.a?"<path "+vR(i.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",l="<path "+vR(i.color.dark,"stroke")+' d="'+qJ(o,s,i.margin)+'"/>',f='viewBox="0 0 '+a+" "+a+'"',y='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+f+' shape-rendering="crispEdges">'+u+l+`</svg>
`;return typeof n=="function"&&n(null,y),y}});var IR=v(af=>{c();var VJ=IB(),N_=mR(),bR=ER(),HJ=_R();function D_(t,e,r,n,i){let s=[].slice.call(arguments,1),o=s.length,a=typeof s[o-1]=="function";if(!a&&!VJ())throw new Error("Callback required as last argument");if(a){if(o<2)throw new Error("Too few arguments provided");o===2?(i=r,r=e,e=n=void 0):o===3&&(e.getContext&&typeof i>"u"?(i=n,n=void 0):(i=n,n=r,r=e,e=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(r=e,e=n=void 0):o===2&&!e.getContext&&(n=r,r=e,e=void 0),new Promise(function(u,l){try{let f=N_.create(r,n);u(t(f,e,n))}catch(f){l(f)}})}try{let u=N_.create(r,n);i(null,t(u,e,n))}catch(u){i(u)}}af.create=N_.create;af.toCanvas=D_.bind(null,bR.render);af.toDataURL=D_.bind(null,bR.renderToDataURL);af.toString=D_.bind(null,function(t,e,r){return HJ.render(t,r)})});var FR=v(as=>{"use strict";c();var ZJ=as&&as.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),LR=as&&as.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&ZJ(e,t,r)};Object.defineProperty(as,"__esModule",{value:!0});LR(Kl(),as);LR(YA(),as)});c();var eX=be(ob(),1),tX=be(QC(),1),rX=be(KC(),1),nX=be(Zt(),1),iX=be(Oh(),1),sX=be(Pc(),1),oX=be(Cc(),1),aX=be(ow(),1),uX=be(Bx(),1),cX=be(Lh(),1),jR=be(li(),1),Nn=be(wc(),1),GR=be(gc(),1),QR=be(Xo(),1);c();c();var Hx=be(oE(),1);c();c();var od="elvenjs_state",Ux="https://devnet-api.multiversx.com";var ad="/dapp/init",ud="devnet",qx="https://maiar.page.link/?apn=com.elrond.maiar.wallet&isi=1519405832&ibi=com.elrond.maiar.wallet&link=https://xportal.com/",Vx=["wss://relay.walletconnect.com"],yn={devnet:{id:"devnet",shortId:"D",name:"Devnet",egldLabel:"xEGLD",egldDenomination:"18",decimals:"4",gasPerDataByte:"1500",walletAddress:"https://devnet-wallet.multiversx.com",apiAddress:"https://devnet-api.multiversx.com",explorerAddress:"https://devnet-explorer.multiversx.com",apiTimeout:1e4},testnet:{id:"testnet",shortId:"T",name:"Testnet",egldLabel:"xEGLD",egldDenomination:"18",decimals:"4",gasPerDataByte:"1500",walletAddress:"https://testnet-wallet.multiversx.com",apiAddress:"https://testnet-api.multiversx.com",explorerAddress:"https://testnet-explorer.multiversx.com",apiTimeout:1e4},mainnet:{id:"mainnet",shortId:"1",name:"Mainnet",egldLabel:"EGLD",egldDenomination:"18",decimals:"4",gasPerDataByte:"1500",walletAddress:"https://wallet.multiversx.com",apiAddress:"https://api.multiversx.com",explorerAddress:"https://explorer.multiversx.com",apiTimeout:1e4}};var Te={get(t){let e=localStorage.getItem(od);if(!e)return{};let r=JSON.parse(e);return t?r[t]:r},set(t,e){let r=this.get();r[t]=e,localStorage.setItem(od,JSON.stringify(r))},clear(){localStorage.removeItem(od)}};var cd=()=>Ce(void 0,null,function*(){let t=Hx.ExtensionProvider.getInstance();try{let e=yield t.init(),r=Te.get();if(r!=null&&r.address&&t.setAddress(r.address),!e){console.warn("Something went wrong when trying to initialize the ExtensionProvider..");return}return t}catch(e){console.warn("Can't initialize the Dapp Provider!")}});var qR=be(oE(),1),VR=be(Vl(),1),HR=be(Kl(),1);c();var J8=be(Vl(),1);c();c();var Se=class{static set(e,r){if(!e)return;let n=L_(Do({},this.events),{[e]:r});this.events=n}static get(e){if(!(!e||!this.events))return this.events[e]}static run(e,...r){var n,i;!e||!this.events||(i=(n=this.events)[e])==null||i.call(n,...r)}static clear(){this.events=void 0}};c();var bo=(i=>(i.ledger="ledger",i.mobile="mobile",i.webWallet="web-wallet",i.browserExtension="browser-extension",i))(bo||{});var $u=t=>Ce(void 0,null,function*(){if(!t.dappProvider)throw new Error("Error: Logout failed: There is no active session!");Se.run("onLoginPending");let e=yield t.dappProvider.logout();return e&&(Te.clear(),Se.run("onLogout")),e});c();var $8=be(Zt(),1),Y8=be(Oh(),1);c();var Bt=t=>typeof t=="string"?t.toUpperCase():t instanceof Error?t.message:`Error: ${JSON.stringify(t)}`;c();var Yu=()=>new Date().setHours(new Date().getHours()+24),Sg=t=>Date.now()>t;var ts=t=>Ce(void 0,null,function*(){let e=Te.get("address"),r=Te.get("expires");if(!(r&&Sg(r))&&e&&t.networkProvider){let i=new $8.Address(e),s=new Y8.Account(i);try{let o=yield t.networkProvider.getAccount(i);Te.set("address",e),Te.set("nonce",o.nonce.valueOf()),Te.set("balance",o.balance.toString()),s.update(o)}catch(o){let a=Bt(o);console.warn(`Something went wrong trying to synchronize the user account: ${a}`)}}});c();function Cg(t){return t[Math.floor(Math.random()*t.length)]}var X8=t=>Ce(void 0,null,function*(){if(!t.initOptions.walletConnectV2ProjectId||!t.initOptions.chainType)return;let e={onClientLogin:()=>{ts(t),Se.run("onLoggedIn")},onClientLogout:()=>$u(t),onClientEvent:i=>{console.log("wc2 session event: ",i)}},r=Cg(t.initOptions.walletConnectV2RelayAddresses),n=new J8.WalletConnectV2Provider(e,yn[t.initOptions.chainType].shortId,r,t.initOptions.walletConnectV2ProjectId);try{return yield n.init(),n}catch(i){console.warn("Can't initialize the Dapp Provider!")}});c();var pB=be(Wt(),1),Bg=be(Zt(),1),gB=be(Z8(),1),yB=be(iB(),1),mB=be(o_(),1),wB=be(lB(),1),EB=be(hB(),1),vB=be(dB(),1),AB=be(Mh(),1);var Rg=class{constructor({apiUrl:e,chainType:r,apiTimeout:n}){var i,s;this.chainType=r||ud,this.apiUrl=e||((i=yn[this.chainType])==null?void 0:i.apiAddress),this.apiTimeout=n||((s=yn[this.chainType])==null?void 0:s.apiTimeout)}apiGet(e,r){return Ce(this,null,function*(){if(typeof fetch!="undefined"){let n=new AbortController,i=setTimeout(()=>n.abort(),this.apiTimeout),s={method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"},signal:n.signal};try{let o=yield fetch(this.apiUrl+"/"+e,Object.assign(s,r||{})),a=yield o.json();if(!o.ok){let u=(a==null?void 0:a.error)||o.status;return clearTimeout(i),Promise.reject(u)}return clearTimeout(i),a}catch(o){this.handleApiError(o,e)}}})}apiPost(e,r,n){return Ce(this,null,function*(){if(typeof fetch!="undefined"){let i=new AbortController,s=setTimeout(()=>i.abort(),this.apiTimeout),o={method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(r||{}),signal:i.signal};try{let a=yield fetch(this.apiUrl+"/"+e,Object.assign(o,n||{})),u=yield a.json();if(!a.ok){let l=(u==null?void 0:u.error)||a.status;return clearTimeout(s),Promise.reject(l)}return clearTimeout(s),u}catch(a){this.handleApiError(a,e)}}})}handleApiError(e,r){if(!e.response)throw new Error(`Request error on url [${r}]: [${e.toString()}]`);let n=e.response.data,i=n.error||n.message||JSON.stringify(n);throw new Error(i)}sendTransaction(e){return Ce(this,null,function*(){return(yield this.apiPost("transactions",e.toSendable())).txHash})}getAccount(e){return Ce(this,null,function*(){let r=yield this.apiGet(`accounts/${e.bech32()}`);return{address:new Bg.Address((r==null?void 0:r.address)||""),nonce:Number((r==null?void 0:r.nonce)||0),balance:new pB.default((r==null?void 0:r.balance)||0),code:(r==null?void 0:r.code)||"",userName:(r==null?void 0:r.username)||""}})}getTransaction(e){return Ce(this,null,function*(){let r=yield this.apiGet(`transactions/${e}`),n=new gB.TransactionStatus(r.status);return{hash:e,type:r.type||"",nonce:r.nonce||0,round:r.round,epoch:r.epoch||0,value:(r.value||0).toString(),sender:new Bg.Address(r.sender),receiver:new Bg.Address(r.receiver),gasPrice:r.gasPrice||0,gasLimit:r.gasLimit||0,data:h.Buffer.from(r.data||"","base64"),status:n,timestamp:r.timestamp||0,blockNonce:r.blockNonce||0,hyperblockNonce:r.hyperblockNonce||0,hyperblockHash:r.hyperblockHash||"",receipt:yB.TransactionReceipt.fromHttpResponse(r.receipt||{}),logs:mB.TransactionLogs.fromHttpResponse(r.logs||{}),contractResults:wB.ContractResults.fromApiHttpResponse(r.results||[]),isCompleted:!n.isPending()}})}queryContract(o){return Ce(this,arguments,function*({address:e,func:r,args:n,value:i,caller:s}){try{let a=new AB.Query({address:e,func:r,args:n,value:i,caller:s}),u=new vB.ContractQueryRequest(a).toHttpRequest(),l=yield this.apiPost("query",u);return EB.ContractQueryResponse.fromHttpResponse(l)}catch(a){this.handleApiError(a,"query")}})}};c();var _B=(t,e)=>Ce(void 0,null,function*(){let r=yield cd();try{r&&(yield r.login()),Se.run("onLoginPending")}catch(i){let s=Bt(i);console.warn(`Something went wrong trying to login the user: ${s}`)}if(!r)throw new Error("Error: There were problems with auth provider initialization!");let{signature:n}=r.account;if(e&&Te.set("loginToken",e),n&&Te.set("signature",n),t.networkProvider)try{let i=yield r.getAddress();if(!i)throw new Error("Canceled!");return Te.set("address",i),Te.set("loginMethod","browser-extension"),Te.set("expires",Yu()),yield ts(t),Se.run("onLoggedIn"),r}catch(i){console.warn(`Something went wrong trying to synchronize the user account: ${i==null?void 0:i.message}`),Se.run("onLogout")}});c();c();var SR=be(IR(),1),CR=be(Vl(),1);var GJ=t=>{var r;let e=document.createElement("template");return e.innerHTML=t.trim(),(r=e.content.firstChild)==null?void 0:r.cloneNode(!0)},QJ=t=>{let e=`${qx}?wallet-connect=${encodeURIComponent(t)}`,r=document.createElement("a");return r.setAttribute("href",e),r.setAttribute("rel","noopener noreferrer nofollow"),r.setAttribute("target","_blank"),r.textContent="xPortal login",r.classList.add("elven-qr-code-deep-link"),r},kJ=()=>{let t=document.createElement("div");return t.classList.add("elven-wc-pairings"),t},KJ=()=>{let t=document.createElement("div");return t.textContent="Existing WalletConnect pairings:",t.classList.add("elven-wc-pairings-header"),t},O_={},zJ=(t,e)=>{let r=document.createElement("button");return r.classList.add("elven-wc-pairings-remove-btn"),r.textContent="\u2716",O_[t.topic]=new AbortController,r.addEventListener("click",n=>{n.stopImmediatePropagation(),e(t.topic)},{signal:O_[t.topic].signal}),r},Kg={},WJ=(t,e,r)=>{var o,a;let n=document.createElement("div"),i=document.createElement("div");n.classList.add("elven-wc-pairing-item"),n.setAttribute("id",t.topic),i.classList.add("elven-wc-pairing-item-description"),i.textContent=`${(o=t.peerMetadata)==null?void 0:o.description} (${(a=t.peerMetadata)==null?void 0:a.url})`,n.appendChild(i);let s=zJ(t,e);return n.appendChild(s),Kg[t.topic]=new AbortController,n.addEventListener("click",()=>r(t.topic),{signal:Kg[t.topic].signal}),n},$J=()=>{let t=document.createElement("div");return t.classList.add("elven-wc-pairing-item-confirm-msessage"),t.setAttribute("id","elven-wc-pairing-item-confirm-msessage"),t.innerText="Confirm on xPortal app!",t},YJ=t=>{if(!t)return;let e=document.getElementById(t);e==null||e.remove()},JJ=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),XJ=t=>Ce(void 0,null,function*(){return t?yield SR.default.toString(t,{type:"svg"}):void 0}),TR=(t,e,r,n)=>Ce(void 0,null,function*(){if(!t)throw new Error("Please provide the QR Code and WalletConnect Pairings container id!");let i=null;typeof t=="string"?i=document.getElementById(t):t instanceof HTMLElement&&(i=t);let s=yield XJ(e),o;if(s&&(o=GJ(s)),i&&o&&(i.replaceChildren(),i.appendChild(o),JJ()&&i.appendChild(QJ(e))),i&&r instanceof CR.WalletConnectV2Provider){let a=r.pairings,u=f=>Ce(void 0,null,function*(){try{f&&(yield r.logout({topic:f}),YJ(f))}catch(d){let y=Bt(d);console.warn(`Something went wrong trying to remove the existing pairing: ${y}`)}finally{Kg[f].abort()}}),l=f=>Ce(void 0,null,function*(){try{let{approval:d}=yield r.connect({topic:f,methods:["mvx_cancelAction"]});if(!document.getElementById("elven-wc-pairing-item-confirm-msessage")){let w=document.getElementById(f);w==null||w.after($J())}yield r.login({approval:d,token:n})}catch(d){let y=Bt(d);console.warn(`Something went wrong trying to login the user: ${y}`)}finally{for(let d of Object.values(Kg))d==null||d.abort();for(let d of Object.values(O_))d==null||d.abort()}});if(a&&a.length>0){let f=kJ();i.appendChild(f);let d=KJ();f.appendChild(d);for(let y of a){let w=WJ(y,u,l);f.appendChild(w)}}}return i});var zg=be(Vl(),1);var xR=(t,e,r)=>Ce(void 0,null,function*(){if(!e)throw new Error("You haven't provided the QR code container DOM element id");let n=Cg(t.initOptions.walletConnectV2RelayAddresses);if(!n||!t.networkProvider)throw new Error("Something wen't wrong with the initialization (ApiNetworkProvider or Wallet Connect Bridge address), plese try to refresh the page!");if(!t.initOptions.walletConnectV2ProjectId)throw new Error("Please provide your WalletConnect project id. You can get it here: https://cloud.walletconnect.com)");if(!t.initOptions.chainType)throw new Error("Please provide the chain type in ElvenJS.init function!");let i,s={onClientLogin:()=>Ce(void 0,null,function*(){if(t.dappProvider instanceof zg.WalletConnectV2Provider){Se.run("onLoginPending");let a=yield t.dappProvider.getAddress(),u=yield t.dappProvider.getSignature();Te.set("address",a),Te.set("loginMethod","mobile"),Te.set("expires",Yu()),yield ts(t),u&&Te.set("signature",u),r&&Te.set("loginToken",r),Se.run("onLoggedIn"),i==null||i.replaceChildren()}}),onClientLogout:()=>Ce(void 0,null,function*(){t.dappProvider instanceof zg.WalletConnectV2Provider&&(yield $u(t),Se.run("onLogout"))}),onClientEvent:a=>{console.log("wc2 session event: ",a)}},o=new zg.WalletConnectV2Provider(s,yn[t.initOptions.chainType].shortId,n,t.initOptions.walletConnectV2ProjectId);try{if(o){t.dappProvider=o,Se.run("onQrPending"),yield o.init();let{uri:a,approval:u}=yield o.connect({methods:["mvx_cancelAction"]}),l=r?`${a}&token=${r}`:a;return e&&l&&(i=yield TR(e,l,o,r),Se.run("onQrLoaded")),yield o.login({approval:u,token:r}),o}}catch(a){let u=Bt(a);console.warn(`Something went wrong trying to login the user: ${u}`),Se.run("onLogout")}});c();var NR=be(Kl(),1);var DR=(t,e,r)=>Ce(void 0,null,function*(){let n=new NR.WalletProvider(`${t}${ad}`),i=typeof window!="undefined"?encodeURIComponent(`${window.location.origin}${e||"/"}`):"/",s=Do({callbackUrl:i},r?{token:r}:{});try{return Se.run("onLoginPending"),Te.set("loginMethod","web-wallet"),yield n.login(s),Te.set("expires",Yu()),r&&Te.set("loginToken",r),n}catch(o){let a=Bt(o);console.warn(`Something went wrong trying to login the user: ${a}`),Te.set("loginMethod",""),Se.run("onLogout")}});c();var No=t=>{if(typeof window!="undefined"){let e=new URL(window.location.href);return new URLSearchParams(e.search).get(t)}};c();var OR=be(Kl(),1);var PR=t=>Ce(void 0,null,function*(){let e=No("signature"),r=No("address"),n=Te.get("address");if(e&&Te.set("signature",e),r||n)return r&&(Te.set("address",r),window.history.replaceState(null,"",window.location.pathname)),new OR.WalletProvider(`${t}${ad}`)});c();var BR=be(Oh(),1),RR=be(ow(),1);var Wg=(t,e)=>Ce(void 0,null,function*(){Se.run("onTxSent",t),yield new RR.TransactionWatcher(e).awaitCompleted(t);let n=t.getSender(),i=new BR.Account(n),s=yield e.getAccount(n);i.update(s),Te.set("address",i.address.bech32()),Te.set("nonce",i.getNonceThenIncrement().valueOf()),Te.set("balance",i.balance.toString()),Se.run("onTxFinalized",t)});c();var $g=be(FR(),1),MR=be(Pc(),1);var UR=(t,e,r)=>Ce(void 0,null,function*(){if(No($g.WALLET_PROVIDER_CALLBACK_PARAM)===$g.WALLET_PROVIDER_CALLBACK_PARAM_TX_SIGNED&&t&&e&&"getTransactionsFromWalletUrl"in t){let i=t.getTransactionsFromWalletUrl();window.history.replaceState(null,"",window.location.pathname);let s=i==null?void 0:i[0];if(s){s.data=h.Buffer.from(s.data).toString("base64");let o=MR.Transaction.fromPlainObject(s);o.setNonce(r);try{Se.run("onTxStarted",o),yield e.sendTransaction(o),yield Wg(o,e)}catch(a){let u=Bt(a);throw Se.run("onTxError",o,u),new Error(`Error: Transaction signing failed! ${u}`)}}}});var cf=class{static init(e){return Ce(this,null,function*(){let r=Te.get();if(r.expires&&Sg(r.expires)){Te.clear(),this.dappProvider=void 0;return}this.initOptions=Do({chainType:ud,apiUrl:Ux,apiTimeout:1e4,walletConnectV2ProjectId:"",walletConnectV2RelayAddresses:Vx},e),this.networkProvider=new Rg(this.initOptions),this.initOptions.onLoginPending&&Se.set("onLoginPending",this.initOptions.onLoginPending),this.initOptions.onLoggedIn&&Se.set("onLoggedIn",this.initOptions.onLoggedIn),this.initOptions.onQrPending&&Se.set("onQrPending",this.initOptions.onQrPending),this.initOptions.onQrLoaded&&Se.set("onQrLoaded",this.initOptions.onQrLoaded),this.initOptions.onLogout&&Se.set("onLogout",this.initOptions.onLogout),this.initOptions.onTxStarted&&Se.set("onTxStarted",this.initOptions.onTxStarted),this.initOptions.onTxSent&&Se.set("onTxSent",this.initOptions.onTxSent),this.initOptions.onTxFinalized&&Se.set("onTxFinalized",this.initOptions.onTxFinalized),this.initOptions.onTxError&&Se.set("onTxError",this.initOptions.onTxError),((r==null?void 0:r.address)||r.loginMethod==="web-wallet"&&No("address"))&&(r!=null&&r.loginMethod)&&(Se.run("onLoginPending"),r.loginMethod==="browser-extension"&&(this.dappProvider=yield cd()),r.loginMethod==="mobile"&&(this.dappProvider=yield X8(this)),r.loginMethod==="web-wallet"&&this.initOptions.chainType&&(this.dappProvider=yield PR(yn[this.initOptions.chainType].walletAddress)),yield ts(this),Se.run("onLoggedIn"),r.loginMethod==="web-wallet"&&(yield UR(this.dappProvider,this.networkProvider,r.nonce)))})}static login(e,r){return Ce(this,null,function*(){var i;if(!Object.values(bo).includes(e))throw new Error("Error: Wrong login method!");if(!this.networkProvider)throw new Error("Error: Login failed: Use ElvenJs.init() first!");try{if(e==="browser-extension"){let s=yield _B(this,r==null?void 0:r.token);this.dappProvider=s}if(e==="mobile"){let s=yield xR(this,r==null?void 0:r.qrCodeContainer,r==null?void 0:r.token);this.dappProvider=s}if(e==="web-wallet"&&((i=this.initOptions)!=null&&i.chainType)){let s=yield DR(yn[this.initOptions.chainType].walletAddress,r==null?void 0:r.callbackRoute,r==null?void 0:r.token);this.dappProvider=s}}catch(s){let o=Bt(s);throw new Error(`Error: ${o}`)}})}static logout(){return Ce(this,null,function*(){try{let e=yield $u(this);return this.dappProvider=void 0,e}catch(e){let r=Bt(e);console.warn("Something went wrong when logging out: ",r)}})}static signAndSendTransaction(e){return Ce(this,null,function*(){if(!this.dappProvider)throw new Error("Error: Transaction signing failed: There is no active session!");if(!this.networkProvider)throw new Error("Error: Transaction signing failed: There is no active network provider!");try{Se.run("onTxStarted",e);let r=Te.get();e.setNonce(r.nonce),this.dappProvider instanceof qR.ExtensionProvider&&(yield this.dappProvider.signTransaction(e)),this.dappProvider instanceof VR.WalletConnectV2Provider&&(yield this.dappProvider.signTransaction(e)),this.dappProvider instanceof HR.WalletProvider&&(yield this.dappProvider.signTransaction(e)),r.loginMethod!=="web-wallet"&&(yield this.networkProvider.sendTransaction(e),yield Wg(e,this.networkProvider))}catch(r){let n=Bt(r);throw Se.run("onTxError",e,n),new Error(`Error: Transaction signing failed! ${n}`)}return e})}static queryContract(o){return Ce(this,arguments,function*({address:e,func:r,args:n=[],value:i=0,caller:s}){if(!this.networkProvider)throw new Error("Error: Query failed: There is no active network provider!");if(!e||!r)throw new Error("Error: Query failed: The Query arguments are not valid! Address and func required");try{return yield this.networkProvider.queryContract({address:e,func:r,args:n,value:i,caller:s})}catch(a){let u=Bt(a);throw new Error(`Error: Smart contract query failed! ${u}`)}})}},uf=cf;uf.storage=Te,uf.destroy=()=>{cf.networkProvider=void 0,cf.dappProvider=void 0,cf.initOptions=void 0,Se.clear()};var export_Account=iX.Account;var export_Address=nX.Address;var export_AddressType=QR.AddressType;var export_AddressValue=QR.AddressValue;var export_BigUIntType=Nn.BigUIntType;var export_BigUIntValue=Nn.BigUIntValue;var export_BooleanType=GR.BooleanType;var export_BooleanValue=GR.BooleanValue;var export_BytesType=jR.BytesType;var export_BytesValue=jR.BytesValue;var export_ContractFunction=cX.ContractFunction;var export_GasEstimator=rX.GasEstimator;var export_SmartContract=uX.SmartContract;var export_TokenTransfer=eX.TokenTransfer;var export_Transaction=sX.Transaction;var export_TransactionPayload=oX.TransactionPayload;var export_TransactionWatcher=aX.TransactionWatcher;var export_TransferTransactionsFactory=tX.TransferTransactionsFactory;var export_U16Type=Nn.U16Type;var export_U16Value=Nn.U16Value;var export_U32Type=Nn.U32Type;var export_U32Value=Nn.U32Value;var export_U64Type=Nn.U64Type;var export_U64Value=Nn.U64Value;var export_U8Type=Nn.U8Type;var export_U8Value=Nn.U8Value;export{export_Account as Account,export_Address as Address,export_AddressType as AddressType,export_AddressValue as AddressValue,export_BigUIntType as BigUIntType,export_BigUIntValue as BigUIntValue,export_BooleanType as BooleanType,export_BooleanValue as BooleanValue,export_BytesType as BytesType,export_BytesValue as BytesValue,export_ContractFunction as ContractFunction,uf as ElvenJS,export_GasEstimator as GasEstimator,bo as LoginMethodsEnum,export_SmartContract as SmartContract,export_TokenTransfer as TokenTransfer,export_Transaction as Transaction,export_TransactionPayload as TransactionPayload,export_TransactionWatcher as TransactionWatcher,export_TransferTransactionsFactory as TransferTransactionsFactory,export_U16Type as U16Type,export_U16Value as U16Value,export_U32Type as U32Type,export_U32Value as U32Value,export_U64Type as U64Type,export_U64Value as U64Value,export_U8Type as U8Type,export_U8Value as U8Value};
/*! Bundled license information:

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

punycode/punycode.js:
  (*! https://mths.be/punycode v1.4.1 by @mathias *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)
*/
