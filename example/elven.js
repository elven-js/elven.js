var s5=Object.create;var Yl=Object.defineProperty;var o5=Object.getOwnPropertyDescriptor;var a5=Object.getOwnPropertyNames;var u5=Object.getPrototypeOf,c5=Object.prototype.hasOwnProperty;var JI=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,r)=>(typeof require<"u"?require:e)[r]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var ge=(t,e)=>()=>(t&&(e=t(t=0)),e);var m=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),ft=(t,e)=>{for(var r in e)Yl(t,r,{get:e[r],enumerable:!0})},Kl=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of a5(e))!c5.call(t,i)&&i!==r&&Yl(t,i,{get:()=>e[i],enumerable:!(n=o5(e,i))||n.enumerable});return t},Ht=(t,e,r)=>(Kl(t,e,"default"),r&&Kl(r,e,"default")),_e=(t,e,r)=>(r=t!=null?s5(u5(t)):{},Kl(e||!t||!t.__esModule?Yl(r,"default",{value:t,enumerable:!0}):r,t)),ct=t=>Kl(Yl({},"__esModule",{value:!0}),t);var C0=m(Jl=>{"use strict";c();Jl.byteLength=f5;Jl.toByteArray=d5;Jl.fromByteArray=y5;var Xr=[],Sr=[],l5=typeof Uint8Array<"u"?Uint8Array:Array,T0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(Es=0,XI=T0.length;Es<XI;++Es)Xr[Es]=T0[Es],Sr[T0.charCodeAt(Es)]=Es;var Es,XI;Sr["-".charCodeAt(0)]=62;Sr["_".charCodeAt(0)]=63;function ZI(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function f5(t){var e=ZI(t),r=e[0],n=e[1];return(r+n)*3/4-n}function h5(t,e,r){return(e+r)*3/4-r}function d5(t){var e,r=ZI(t),n=r[0],i=r[1],s=new l5(h5(t,n,i)),o=0,a=i>0?n-4:n,u;for(u=0;u<a;u+=4)e=Sr[t.charCodeAt(u)]<<18|Sr[t.charCodeAt(u+1)]<<12|Sr[t.charCodeAt(u+2)]<<6|Sr[t.charCodeAt(u+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return i===2&&(e=Sr[t.charCodeAt(u)]<<2|Sr[t.charCodeAt(u+1)]>>4,s[o++]=e&255),i===1&&(e=Sr[t.charCodeAt(u)]<<10|Sr[t.charCodeAt(u+1)]<<4|Sr[t.charCodeAt(u+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function p5(t){return Xr[t>>18&63]+Xr[t>>12&63]+Xr[t>>6&63]+Xr[t&63]}function g5(t,e,r){for(var n,i=[],s=e;s<r;s+=3)n=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),i.push(p5(n));return i.join("")}function y5(t){for(var e,r=t.length,n=r%3,i=[],s=16383,o=0,a=r-n;o<a;o+=s)i.push(g5(t,o,o+s>a?a:o+s));return n===1?(e=t[r-1],i.push(Xr[e>>2]+Xr[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],i.push(Xr[e>>10]+Xr[e>>4&63]+Xr[e<<2&63]+"=")),i.join("")}});var N0=m(x0=>{c();x0.read=function(t,e,r,n,i){var s,o,a=i*8-n-1,u=(1<<a)-1,l=u>>1,f=-7,d=r?i-1:0,g=r?-1:1,w=t[e+d];for(d+=g,s=w&(1<<-f)-1,w>>=-f,f+=a;f>0;s=s*256+t[e+d],d+=g,f-=8);for(o=s&(1<<-f)-1,s>>=-f,f+=n;f>0;o=o*256+t[e+d],d+=g,f-=8);if(s===0)s=1-l;else{if(s===u)return o?NaN:(w?-1:1)*(1/0);o=o+Math.pow(2,n),s=s-l}return(w?-1:1)*o*Math.pow(2,s-n)};x0.write=function(t,e,r,n,i,s){var o,a,u,l=s*8-i-1,f=(1<<l)-1,d=f>>1,g=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,w=n?0:s-1,E=n?1:-1,T=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=f):(o=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-o))<1&&(o--,u*=2),o+d>=1?e+=g/u:e+=g*Math.pow(2,1-d),e*u>=2&&(o++,u/=2),o+d>=f?(a=0,o=f):o+d>=1?(a=(e*u-1)*Math.pow(2,i),o=o+d):(a=e*Math.pow(2,d-1)*Math.pow(2,i),o=0));i>=8;t[r+w]=a&255,w+=E,a/=256,i-=8);for(o=o<<i|a,l+=i;l>0;t[r+w]=o&255,w+=E,o/=256,l-=8);t[r+w-E]|=T*128}});var hS=m(vo=>{"use strict";c();var O0=C0(),Eo=N0(),eS=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;vo.Buffer=z;vo.SlowBuffer=b5;vo.INSPECT_MAX_BYTES=50;var Xl=2147483647;vo.kMaxLength=Xl;z.TYPED_ARRAY_SUPPORT=m5();!z.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function m5(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch{return!1}}Object.defineProperty(z.prototype,"parent",{enumerable:!0,get:function(){if(z.isBuffer(this))return this.buffer}});Object.defineProperty(z.prototype,"offset",{enumerable:!0,get:function(){if(z.isBuffer(this))return this.byteOffset}});function qn(t){if(t>Xl)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return Object.setPrototypeOf(e,z.prototype),e}function z(t,e,r){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return B0(t)}return nS(t,e,r)}z.poolSize=8192;function nS(t,e,r){if(typeof t=="string")return E5(t,e);if(ArrayBuffer.isView(t))return v5(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(Zr(t,ArrayBuffer)||t&&Zr(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Zr(t,SharedArrayBuffer)||t&&Zr(t.buffer,SharedArrayBuffer)))return P0(t,e,r);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var n=t.valueOf&&t.valueOf();if(n!=null&&n!==t)return z.from(n,e,r);var i=A5(t);if(i)return i;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return z.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}z.from=function(t,e,r){return nS(t,e,r)};Object.setPrototypeOf(z.prototype,Uint8Array.prototype);Object.setPrototypeOf(z,Uint8Array);function iS(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function w5(t,e,r){return iS(t),t<=0?qn(t):e!==void 0?typeof r=="string"?qn(t).fill(e,r):qn(t).fill(e):qn(t)}z.alloc=function(t,e,r){return w5(t,e,r)};function B0(t){return iS(t),qn(t<0?0:L0(t)|0)}z.allocUnsafe=function(t){return B0(t)};z.allocUnsafeSlow=function(t){return B0(t)};function E5(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!z.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var r=sS(t,e)|0,n=qn(r),i=n.write(t,e);return i!==r&&(n=n.slice(0,i)),n}function D0(t){for(var e=t.length<0?0:L0(t.length)|0,r=qn(e),n=0;n<e;n+=1)r[n]=t[n]&255;return r}function v5(t){if(Zr(t,Uint8Array)){var e=new Uint8Array(t);return P0(e.buffer,e.byteOffset,e.byteLength)}return D0(t)}function P0(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return e===void 0&&r===void 0?n=new Uint8Array(t):r===void 0?n=new Uint8Array(t,e):n=new Uint8Array(t,e,r),Object.setPrototypeOf(n,z.prototype),n}function A5(t){if(z.isBuffer(t)){var e=L0(t.length)|0,r=qn(e);return r.length===0||t.copy(r,0,0,e),r}if(t.length!==void 0)return typeof t.length!="number"||F0(t.length)?qn(0):D0(t);if(t.type==="Buffer"&&Array.isArray(t.data))return D0(t.data)}function L0(t){if(t>=Xl)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Xl.toString(16)+" bytes");return t|0}function b5(t){return+t!=t&&(t=0),z.alloc(+t)}z.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==z.prototype};z.compare=function(e,r){if(Zr(e,Uint8Array)&&(e=z.from(e,e.offset,e.byteLength)),Zr(r,Uint8Array)&&(r=z.from(r,r.offset,r.byteLength)),!z.isBuffer(e)||!z.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===r)return 0;for(var n=e.length,i=r.length,s=0,o=Math.min(n,i);s<o;++s)if(e[s]!==r[s]){n=e[s],i=r[s];break}return n<i?-1:i<n?1:0};z.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};z.concat=function(e,r){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return z.alloc(0);var n;if(r===void 0)for(r=0,n=0;n<e.length;++n)r+=e[n].length;var i=z.allocUnsafe(r),s=0;for(n=0;n<e.length;++n){var o=e[n];if(Zr(o,Uint8Array))s+o.length>i.length?z.from(o).copy(i,s):Uint8Array.prototype.set.call(i,o,s);else if(z.isBuffer(o))o.copy(i,s);else throw new TypeError('"list" argument must be an Array of Buffers');s+=o.length}return i};function sS(t,e){if(z.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||Zr(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var r=t.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&r===0)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return R0(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return fS(t).length;default:if(i)return n?-1:R0(t).length;e=(""+e).toLowerCase(),i=!0}}z.byteLength=sS;function _5(t,e,r){var n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,e>>>=0,r<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return R5(this,e,r);case"utf8":case"utf-8":return aS(this,e,r);case"ascii":return D5(this,e,r);case"latin1":case"binary":return P5(this,e,r);case"base64":return N5(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B5(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}z.prototype._isBuffer=!0;function vs(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}z.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<e;r+=2)vs(this,r,r+1);return this};z.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<e;r+=4)vs(this,r,r+3),vs(this,r+1,r+2);return this};z.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<e;r+=8)vs(this,r,r+7),vs(this,r+1,r+6),vs(this,r+2,r+5),vs(this,r+3,r+4);return this};z.prototype.toString=function(){var e=this.length;return e===0?"":arguments.length===0?aS(this,0,e):_5.apply(this,arguments)};z.prototype.toLocaleString=z.prototype.toString;z.prototype.equals=function(e){if(!z.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:z.compare(this,e)===0};z.prototype.inspect=function(){var e="",r=vo.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"};eS&&(z.prototype[eS]=z.prototype.inspect);z.prototype.compare=function(e,r,n,i,s){if(Zr(e,Uint8Array)&&(e=z.from(e,e.offset,e.byteLength)),!z.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(r===void 0&&(r=0),n===void 0&&(n=e?e.length:0),i===void 0&&(i=0),s===void 0&&(s=this.length),r<0||n>e.length||i<0||s>this.length)throw new RangeError("out of range index");if(i>=s&&r>=n)return 0;if(i>=s)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,i>>>=0,s>>>=0,this===e)return 0;for(var o=s-i,a=n-r,u=Math.min(o,a),l=this.slice(i,s),f=e.slice(r,n),d=0;d<u;++d)if(l[d]!==f[d]){o=l[d],a=f[d];break}return o<a?-1:a<o?1:0};function oS(t,e,r,n,i){if(t.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,F0(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0)if(i)r=0;else return-1;if(typeof e=="string"&&(e=z.from(e,n)),z.isBuffer(e))return e.length===0?-1:tS(t,e,r,n,i);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):tS(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function tS(t,e,r,n,i){var s=1,o=t.length,a=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(t.length<2||e.length<2)return-1;s=2,o/=2,a/=2,r/=2}function u(w,E){return s===1?w[E]:w.readUInt16BE(E*s)}var l;if(i){var f=-1;for(l=r;l<o;l++)if(u(t,l)===u(e,f===-1?0:l-f)){if(f===-1&&(f=l),l-f+1===a)return f*s}else f!==-1&&(l-=l-f),f=-1}else for(r+a>o&&(r=o-a),l=r;l>=0;l--){for(var d=!0,g=0;g<a;g++)if(u(t,l+g)!==u(e,g)){d=!1;break}if(d)return l}return-1}z.prototype.includes=function(e,r,n){return this.indexOf(e,r,n)!==-1};z.prototype.indexOf=function(e,r,n){return oS(this,e,r,n,!0)};z.prototype.lastIndexOf=function(e,r,n){return oS(this,e,r,n,!1)};function I5(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;var s=e.length;n>s/2&&(n=s/2);for(var o=0;o<n;++o){var a=parseInt(e.substr(o*2,2),16);if(F0(a))return o;t[r+o]=a}return o}function S5(t,e,r,n){return Zl(R0(e,t.length-r),t,r,n)}function T5(t,e,r,n){return Zl(M5(e),t,r,n)}function C5(t,e,r,n){return Zl(fS(e),t,r,n)}function x5(t,e,r,n){return Zl(U5(e,t.length-r),t,r,n)}z.prototype.write=function(e,r,n,i){if(r===void 0)i="utf8",n=this.length,r=0;else if(n===void 0&&typeof r=="string")i=r,n=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(n)?(n=n>>>0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var s=this.length-r;if((n===void 0||n>s)&&(n=s),e.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return I5(this,e,r,n);case"utf8":case"utf-8":return S5(this,e,r,n);case"ascii":case"latin1":case"binary":return T5(this,e,r,n);case"base64":return C5(this,e,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x5(this,e,r,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}};z.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function N5(t,e,r){return e===0&&r===t.length?O0.fromByteArray(t):O0.fromByteArray(t.slice(e,r))}function aS(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var s=t[i],o=null,a=s>239?4:s>223?3:s>191?2:1;if(i+a<=r){var u,l,f,d;switch(a){case 1:s<128&&(o=s);break;case 2:u=t[i+1],(u&192)===128&&(d=(s&31)<<6|u&63,d>127&&(o=d));break;case 3:u=t[i+1],l=t[i+2],(u&192)===128&&(l&192)===128&&(d=(s&15)<<12|(u&63)<<6|l&63,d>2047&&(d<55296||d>57343)&&(o=d));break;case 4:u=t[i+1],l=t[i+2],f=t[i+3],(u&192)===128&&(l&192)===128&&(f&192)===128&&(d=(s&15)<<18|(u&63)<<12|(l&63)<<6|f&63,d>65535&&d<1114112&&(o=d))}}o===null?(o=65533,a=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|o&1023),n.push(o),i+=a}return O5(n)}var rS=4096;function O5(t){var e=t.length;if(e<=rS)return String.fromCharCode.apply(String,t);for(var r="",n=0;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=rS));return r}function D5(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]&127);return n}function P5(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function R5(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",s=e;s<r;++s)i+=q5[t[s]];return i}function B5(t,e,r){for(var n=t.slice(e,r),i="",s=0;s<n.length-1;s+=2)i+=String.fromCharCode(n[s]+n[s+1]*256);return i}z.prototype.slice=function(e,r){var n=this.length;e=~~e,r=r===void 0?n:~~r,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<e&&(r=e);var i=this.subarray(e,r);return Object.setPrototypeOf(i,z.prototype),i};function Rt(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}z.prototype.readUintLE=z.prototype.readUIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||Rt(e,r,this.length);for(var i=this[e],s=1,o=0;++o<r&&(s*=256);)i+=this[e+o]*s;return i};z.prototype.readUintBE=z.prototype.readUIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||Rt(e,r,this.length);for(var i=this[e+--r],s=1;r>0&&(s*=256);)i+=this[e+--r]*s;return i};z.prototype.readUint8=z.prototype.readUInt8=function(e,r){return e=e>>>0,r||Rt(e,1,this.length),this[e]};z.prototype.readUint16LE=z.prototype.readUInt16LE=function(e,r){return e=e>>>0,r||Rt(e,2,this.length),this[e]|this[e+1]<<8};z.prototype.readUint16BE=z.prototype.readUInt16BE=function(e,r){return e=e>>>0,r||Rt(e,2,this.length),this[e]<<8|this[e+1]};z.prototype.readUint32LE=z.prototype.readUInt32LE=function(e,r){return e=e>>>0,r||Rt(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};z.prototype.readUint32BE=z.prototype.readUInt32BE=function(e,r){return e=e>>>0,r||Rt(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};z.prototype.readIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||Rt(e,r,this.length);for(var i=this[e],s=1,o=0;++o<r&&(s*=256);)i+=this[e+o]*s;return s*=128,i>=s&&(i-=Math.pow(2,8*r)),i};z.prototype.readIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||Rt(e,r,this.length);for(var i=r,s=1,o=this[e+--i];i>0&&(s*=256);)o+=this[e+--i]*s;return s*=128,o>=s&&(o-=Math.pow(2,8*r)),o};z.prototype.readInt8=function(e,r){return e=e>>>0,r||Rt(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};z.prototype.readInt16LE=function(e,r){e=e>>>0,r||Rt(e,2,this.length);var n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};z.prototype.readInt16BE=function(e,r){e=e>>>0,r||Rt(e,2,this.length);var n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};z.prototype.readInt32LE=function(e,r){return e=e>>>0,r||Rt(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};z.prototype.readInt32BE=function(e,r){return e=e>>>0,r||Rt(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};z.prototype.readFloatLE=function(e,r){return e=e>>>0,r||Rt(e,4,this.length),Eo.read(this,e,!0,23,4)};z.prototype.readFloatBE=function(e,r){return e=e>>>0,r||Rt(e,4,this.length),Eo.read(this,e,!1,23,4)};z.prototype.readDoubleLE=function(e,r){return e=e>>>0,r||Rt(e,8,this.length),Eo.read(this,e,!0,52,8)};z.prototype.readDoubleBE=function(e,r){return e=e>>>0,r||Rt(e,8,this.length),Eo.read(this,e,!1,52,8)};function or(t,e,r,n,i,s){if(!z.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<s)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}z.prototype.writeUintLE=z.prototype.writeUIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){var s=Math.pow(2,8*n)-1;or(this,e,r,n,s,0)}var o=1,a=0;for(this[r]=e&255;++a<n&&(o*=256);)this[r+a]=e/o&255;return r+n};z.prototype.writeUintBE=z.prototype.writeUIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){var s=Math.pow(2,8*n)-1;or(this,e,r,n,s,0)}var o=n-1,a=1;for(this[r+o]=e&255;--o>=0&&(a*=256);)this[r+o]=e/a&255;return r+n};z.prototype.writeUint8=z.prototype.writeUInt8=function(e,r,n){return e=+e,r=r>>>0,n||or(this,e,r,1,255,0),this[r]=e&255,r+1};z.prototype.writeUint16LE=z.prototype.writeUInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||or(this,e,r,2,65535,0),this[r]=e&255,this[r+1]=e>>>8,r+2};z.prototype.writeUint16BE=z.prototype.writeUInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||or(this,e,r,2,65535,0),this[r]=e>>>8,this[r+1]=e&255,r+2};z.prototype.writeUint32LE=z.prototype.writeUInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||or(this,e,r,4,4294967295,0),this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=e&255,r+4};z.prototype.writeUint32BE=z.prototype.writeUInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||or(this,e,r,4,4294967295,0),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};z.prototype.writeIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){var s=Math.pow(2,8*n-1);or(this,e,r,n,s-1,-s)}var o=0,a=1,u=0;for(this[r]=e&255;++o<n&&(a*=256);)e<0&&u===0&&this[r+o-1]!==0&&(u=1),this[r+o]=(e/a>>0)-u&255;return r+n};z.prototype.writeIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){var s=Math.pow(2,8*n-1);or(this,e,r,n,s-1,-s)}var o=n-1,a=1,u=0;for(this[r+o]=e&255;--o>=0&&(a*=256);)e<0&&u===0&&this[r+o+1]!==0&&(u=1),this[r+o]=(e/a>>0)-u&255;return r+n};z.prototype.writeInt8=function(e,r,n){return e=+e,r=r>>>0,n||or(this,e,r,1,127,-128),e<0&&(e=255+e+1),this[r]=e&255,r+1};z.prototype.writeInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||or(this,e,r,2,32767,-32768),this[r]=e&255,this[r+1]=e>>>8,r+2};z.prototype.writeInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||or(this,e,r,2,32767,-32768),this[r]=e>>>8,this[r+1]=e&255,r+2};z.prototype.writeInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||or(this,e,r,4,2147483647,-2147483648),this[r]=e&255,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24,r+4};z.prototype.writeInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||or(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};function uS(t,e,r,n,i,s){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function cS(t,e,r,n,i){return e=+e,r=r>>>0,i||uS(t,e,r,4,34028234663852886e22,-34028234663852886e22),Eo.write(t,e,r,n,23,4),r+4}z.prototype.writeFloatLE=function(e,r,n){return cS(this,e,r,!0,n)};z.prototype.writeFloatBE=function(e,r,n){return cS(this,e,r,!1,n)};function lS(t,e,r,n,i){return e=+e,r=r>>>0,i||uS(t,e,r,8,17976931348623157e292,-17976931348623157e292),Eo.write(t,e,r,n,52,8),r+8}z.prototype.writeDoubleLE=function(e,r,n){return lS(this,e,r,!0,n)};z.prototype.writeDoubleBE=function(e,r,n){return lS(this,e,r,!1,n)};z.prototype.copy=function(e,r,n,i){if(!z.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),!i&&i!==0&&(i=this.length),r>=e.length&&(r=e.length),r||(r=0),i>0&&i<n&&(i=n),i===n||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-r<i-n&&(i=e.length-r+n);var s=i-n;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,n,i):Uint8Array.prototype.set.call(e,this.subarray(n,i),r),s};z.prototype.fill=function(e,r,n,i){if(typeof e=="string"){if(typeof r=="string"?(i=r,r=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!z.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(e.length===1){var s=e.charCodeAt(0);(i==="utf8"&&s<128||i==="latin1")&&(e=s)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);var o;if(typeof e=="number")for(o=r;o<n;++o)this[o]=e;else{var a=z.isBuffer(e)?e:z.from(e,i),u=a.length;if(u===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-r;++o)this[o+r]=a[o%u]}return this};var L5=/[^+/0-9A-Za-z-_]/g;function F5(t){if(t=t.split("=")[0],t=t.trim().replace(L5,""),t.length<2)return"";for(;t.length%4!==0;)t=t+"=";return t}function R0(t,e){e=e||1/0;for(var r,n=t.length,i=null,s=[],o=0;o<n;++o){if(r=t.charCodeAt(o),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(o+1===n){(e-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&s.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(e-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;s.push(r)}else if(r<2048){if((e-=2)<0)break;s.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;s.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return s}function M5(t){for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r)&255);return e}function U5(t,e){for(var r,n,i,s=[],o=0;o<t.length&&!((e-=2)<0);++o)r=t.charCodeAt(o),n=r>>8,i=r%256,s.push(i),s.push(n);return s}function fS(t){return O0.toByteArray(F5(t))}function Zl(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function Zr(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function F0(t){return t!==t}var q5=function(){for(var t="0123456789abcdef",e=new Array(256),r=0;r<16;++r)for(var n=r*16,i=0;i<16;++i)e[n+i]=t[r]+t[i];return e}()});var mS=m((Sie,yS)=>{c();var mt=yS.exports={},en,tn;function M0(){throw new Error("setTimeout has not been defined")}function U0(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?en=setTimeout:en=M0}catch{en=M0}try{typeof clearTimeout=="function"?tn=clearTimeout:tn=U0}catch{tn=U0}})();function dS(t){if(en===setTimeout)return setTimeout(t,0);if((en===M0||!en)&&setTimeout)return en=setTimeout,setTimeout(t,0);try{return en(t,0)}catch{try{return en.call(null,t,0)}catch{return en.call(this,t,0)}}}function V5(t){if(tn===clearTimeout)return clearTimeout(t);if((tn===U0||!tn)&&clearTimeout)return tn=clearTimeout,clearTimeout(t);try{return tn(t)}catch{try{return tn.call(null,t)}catch{return tn.call(this,t)}}}var Vn=[],Ao=!1,As,ef=-1;function H5(){!Ao||!As||(Ao=!1,As.length?Vn=As.concat(Vn):ef=-1,Vn.length&&pS())}function pS(){if(!Ao){var t=dS(H5);Ao=!0;for(var e=Vn.length;e;){for(As=Vn,Vn=[];++ef<e;)As&&As[ef].run();ef=-1,e=Vn.length}As=null,Ao=!1,V5(t)}}mt.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];Vn.push(new gS(t,e)),Vn.length===1&&!Ao&&dS(pS)};function gS(t,e){this.fun=t,this.array=e}gS.prototype.run=function(){this.fun.apply(null,this.array)};mt.title="browser";mt.browser=!0;mt.env={};mt.argv=[];mt.version="";mt.versions={};function Hn(){}mt.on=Hn;mt.addListener=Hn;mt.once=Hn;mt.off=Hn;mt.removeListener=Hn;mt.removeAllListeners=Hn;mt.emit=Hn;mt.prependListener=Hn;mt.prependOnceListener=Hn;mt.listeners=function(t){return[]};mt.binding=function(t){throw new Error("process.binding is not supported")};mt.cwd=function(){return"/"};mt.chdir=function(t){throw new Error("process.chdir is not supported")};mt.umask=function(){return 0}});var h,p,G5,global,c=ge(()=>{h=_e(hS()),p=_e(mS()),G5=function(t){function e(){var n=this||self;return delete t.prototype.__magic__,n}if(typeof globalThis=="object")return globalThis;if(this)return e();t.defineProperty(t.prototype,"__magic__",{configurable:!0,get:e});var r=__magic__;return r}(Object),global=G5});var Gt=m((wS,tf)=>{c();(function(t){"use strict";var e,r=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,n=Math.ceil,i=Math.floor,s="[BigNumber Error] ",o=s+"Number primitive has more than 15 significant digits: ",a=1e14,u=14,l=9007199254740991,f=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],d=1e7,g=1e9;function w(I){var N,_,S,R=M.prototype={constructor:M,toString:null,valueOf:null},J=new M(1),Q=20,V=4,k=-7,K=21,pe=-1e7,ue=1e7,re=!1,Y=1,se=0,te={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xA0",suffix:""},ie="0123456789abcdefghijklmnopqrstuvwxyz";function M(y,v){var b,P,C,O,L,x,F,H,q=this;if(!(q instanceof M))return new M(y,v);if(v==null){if(y&&y._isBigNumber===!0){q.s=y.s,!y.c||y.e>ue?q.c=q.e=null:y.e<pe?q.c=[q.e=0]:(q.e=y.e,q.c=y.c.slice());return}if((x=typeof y=="number")&&y*0==0){if(q.s=1/y<0?(y=-y,-1):1,y===~~y){for(O=0,L=y;L>=10;L/=10,O++);O>ue?q.c=q.e=null:(q.e=O,q.c=[y]);return}H=String(y)}else{if(!r.test(H=String(y)))return S(q,H,x);q.s=H.charCodeAt(0)==45?(H=H.slice(1),-1):1}(O=H.indexOf("."))>-1&&(H=H.replace(".","")),(L=H.search(/e/i))>0?(O<0&&(O=L),O+=+H.slice(L+1),H=H.substring(0,L)):O<0&&(O=H.length)}else{if(B(v,2,ie.length,"Base"),v==10)return q=new M(y),oe(q,Q+q.e+1,V);if(H=String(y),x=typeof y=="number"){if(y*0!=0)return S(q,H,x,v);if(q.s=1/y<0?(H=H.slice(1),-1):1,M.DEBUG&&H.replace(/^0\.0*|\./,"").length>15)throw Error(o+y)}else q.s=H.charCodeAt(0)===45?(H=H.slice(1),-1):1;for(b=ie.slice(0,v),O=L=0,F=H.length;L<F;L++)if(b.indexOf(P=H.charAt(L))<0){if(P=="."){if(L>O){O=F;continue}}else if(!C&&(H==H.toUpperCase()&&(H=H.toLowerCase())||H==H.toLowerCase()&&(H=H.toUpperCase()))){C=!0,L=-1,O=0;continue}return S(q,String(y),x,v)}x=!1,H=_(H,v,10,q.s),(O=H.indexOf("."))>-1?H=H.replace(".",""):O=H.length}for(L=0;H.charCodeAt(L)===48;L++);for(F=H.length;H.charCodeAt(--F)===48;);if(H=H.slice(L,++F)){if(F-=L,x&&M.DEBUG&&F>15&&(y>l||y!==i(y)))throw Error(o+q.s*y);if((O=O-L-1)>ue)q.c=q.e=null;else if(O<pe)q.c=[q.e=0];else{if(q.e=O,q.c=[],L=(O+1)%u,O<0&&(L+=u),L<F){for(L&&q.c.push(+H.slice(0,L)),F-=u;L<F;)q.c.push(+H.slice(L,L+=u));L=u-(H=H.slice(L)).length}else L-=F;for(;L--;H+="0");q.c.push(+H)}}else q.c=[q.e=0]}M.clone=w,M.ROUND_UP=0,M.ROUND_DOWN=1,M.ROUND_CEIL=2,M.ROUND_FLOOR=3,M.ROUND_HALF_UP=4,M.ROUND_HALF_DOWN=5,M.ROUND_HALF_EVEN=6,M.ROUND_HALF_CEIL=7,M.ROUND_HALF_FLOOR=8,M.EUCLID=9,M.config=M.set=function(y){var v,b;if(y!=null)if(typeof y=="object"){if(y.hasOwnProperty(v="DECIMAL_PLACES")&&(b=y[v],B(b,0,g,v),Q=b),y.hasOwnProperty(v="ROUNDING_MODE")&&(b=y[v],B(b,0,8,v),V=b),y.hasOwnProperty(v="EXPONENTIAL_AT")&&(b=y[v],b&&b.pop?(B(b[0],-g,0,v),B(b[1],0,g,v),k=b[0],K=b[1]):(B(b,-g,g,v),k=-(K=b<0?-b:b))),y.hasOwnProperty(v="RANGE"))if(b=y[v],b&&b.pop)B(b[0],-g,-1,v),B(b[1],1,g,v),pe=b[0],ue=b[1];else if(B(b,-g,g,v),b)pe=-(ue=b<0?-b:b);else throw Error(s+v+" cannot be zero: "+b);if(y.hasOwnProperty(v="CRYPTO"))if(b=y[v],b===!!b)if(b)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))re=b;else throw re=!b,Error(s+"crypto unavailable");else re=b;else throw Error(s+v+" not true or false: "+b);if(y.hasOwnProperty(v="MODULO_MODE")&&(b=y[v],B(b,0,9,v),Y=b),y.hasOwnProperty(v="POW_PRECISION")&&(b=y[v],B(b,0,g,v),se=b),y.hasOwnProperty(v="FORMAT"))if(b=y[v],typeof b=="object")te=b;else throw Error(s+v+" not an object: "+b);if(y.hasOwnProperty(v="ALPHABET"))if(b=y[v],typeof b=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(b))ie=b;else throw Error(s+v+" invalid: "+b)}else throw Error(s+"Object expected: "+y);return{DECIMAL_PLACES:Q,ROUNDING_MODE:V,EXPONENTIAL_AT:[k,K],RANGE:[pe,ue],CRYPTO:re,MODULO_MODE:Y,POW_PRECISION:se,FORMAT:te,ALPHABET:ie}},M.isBigNumber=function(y){if(!y||y._isBigNumber!==!0)return!1;if(!M.DEBUG)return!0;var v,b,P=y.c,C=y.e,O=y.s;e:if({}.toString.call(P)=="[object Array]"){if((O===1||O===-1)&&C>=-g&&C<=g&&C===i(C)){if(P[0]===0){if(C===0&&P.length===1)return!0;break e}if(v=(C+1)%u,v<1&&(v+=u),String(P[0]).length==v){for(v=0;v<P.length;v++)if(b=P[v],b<0||b>=a||b!==i(b))break e;if(b!==0)return!0}}}else if(P===null&&C===null&&(O===null||O===1||O===-1))return!0;throw Error(s+"Invalid BigNumber: "+y)},M.maximum=M.max=function(){return ae(arguments,R.lt)},M.minimum=M.min=function(){return ae(arguments,R.gt)},M.random=function(){var y=9007199254740992,v=Math.random()*y&2097151?function(){return i(Math.random()*y)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(b){var P,C,O,L,x,F=0,H=[],q=new M(J);if(b==null?b=Q:B(b,0,g),L=n(b/u),re)if(crypto.getRandomValues){for(P=crypto.getRandomValues(new Uint32Array(L*=2));F<L;)x=P[F]*131072+(P[F+1]>>>11),x>=9e15?(C=crypto.getRandomValues(new Uint32Array(2)),P[F]=C[0],P[F+1]=C[1]):(H.push(x%1e14),F+=2);F=L/2}else if(crypto.randomBytes){for(P=crypto.randomBytes(L*=7);F<L;)x=(P[F]&31)*281474976710656+P[F+1]*1099511627776+P[F+2]*4294967296+P[F+3]*16777216+(P[F+4]<<16)+(P[F+5]<<8)+P[F+6],x>=9e15?crypto.randomBytes(7).copy(P,F):(H.push(x%1e14),F+=7);F=L/7}else throw re=!1,Error(s+"crypto unavailable");if(!re)for(;F<L;)x=v(),x<9e15&&(H[F++]=x%1e14);for(L=H[--F],b%=u,L&&b&&(x=f[u-b],H[F]=i(L/x)*x);H[F]===0;H.pop(),F--);if(F<0)H=[O=0];else{for(O=-1;H[0]===0;H.splice(0,1),O-=u);for(F=1,x=H[0];x>=10;x/=10,F++);F<u&&(O-=u-F)}return q.e=O,q.c=H,q}}(),M.sum=function(){for(var y=1,v=arguments,b=new M(v[0]);y<v.length;)b=b.plus(v[y++]);return b},_=function(){var y="0123456789";function v(b,P,C,O){for(var L,x=[0],F,H=0,q=b.length;H<q;){for(F=x.length;F--;x[F]*=P);for(x[0]+=O.indexOf(b.charAt(H++)),L=0;L<x.length;L++)x[L]>C-1&&(x[L+1]==null&&(x[L+1]=0),x[L+1]+=x[L]/C|0,x[L]%=C)}return x.reverse()}return function(b,P,C,O,L){var x,F,H,q,Z,we,Ae,Re,tt=b.indexOf("."),lt=Q,Oe=V;for(tt>=0&&(q=se,se=0,b=b.replace(".",""),Re=new M(P),we=Re.pow(b.length-tt),se=q,Re.c=v(A(T(we.c),we.e,"0"),10,C,y),Re.e=Re.c.length),Ae=v(b,P,C,L?(x=ie,y):(x=y,ie)),H=q=Ae.length;Ae[--q]==0;Ae.pop());if(!Ae[0])return x.charAt(0);if(tt<0?--H:(we.c=Ae,we.e=H,we.s=O,we=N(we,Re,lt,Oe,C),Ae=we.c,Z=we.r,H=we.e),F=H+lt+1,tt=Ae[F],q=C/2,Z=Z||F<0||Ae[F+1]!=null,Z=Oe<4?(tt!=null||Z)&&(Oe==0||Oe==(we.s<0?3:2)):tt>q||tt==q&&(Oe==4||Z||Oe==6&&Ae[F-1]&1||Oe==(we.s<0?8:7)),F<1||!Ae[0])b=Z?A(x.charAt(1),-lt,x.charAt(0)):x.charAt(0);else{if(Ae.length=F,Z)for(--C;++Ae[--F]>C;)Ae[F]=0,F||(++H,Ae=[1].concat(Ae));for(q=Ae.length;!Ae[--q];);for(tt=0,b="";tt<=q;b+=x.charAt(Ae[tt++]));b=A(b,H,x.charAt(0))}return b}}(),N=function(){function y(P,C,O){var L,x,F,H,q=0,Z=P.length,we=C%d,Ae=C/d|0;for(P=P.slice();Z--;)F=P[Z]%d,H=P[Z]/d|0,L=Ae*F+H*we,x=we*F+L%d*d+q,q=(x/O|0)+(L/d|0)+Ae*H,P[Z]=x%O;return q&&(P=[q].concat(P)),P}function v(P,C,O,L){var x,F;if(O!=L)F=O>L?1:-1;else for(x=F=0;x<O;x++)if(P[x]!=C[x]){F=P[x]>C[x]?1:-1;break}return F}function b(P,C,O,L){for(var x=0;O--;)P[O]-=x,x=P[O]<C[O]?1:0,P[O]=x*L+P[O]-C[O];for(;!P[0]&&P.length>1;P.splice(0,1));}return function(P,C,O,L,x){var F,H,q,Z,we,Ae,Re,tt,lt,Oe,Ue,Ot,hi,ms,ws,sr,Un,$t=P.s==C.s?1:-1,Dt=P.c,$e=C.c;if(!Dt||!Dt[0]||!$e||!$e[0])return new M(!P.s||!C.s||(Dt?$e&&Dt[0]==$e[0]:!$e)?NaN:Dt&&Dt[0]==0||!$e?$t*0:$t/0);for(tt=new M($t),lt=tt.c=[],H=P.e-C.e,$t=O+H+1,x||(x=a,H=E(P.e/u)-E(C.e/u),$t=$t/u|0),q=0;$e[q]==(Dt[q]||0);q++);if($e[q]>(Dt[q]||0)&&H--,$t<0)lt.push(1),Z=!0;else{for(ms=Dt.length,sr=$e.length,q=0,$t+=2,we=i(x/($e[0]+1)),we>1&&($e=y($e,we,x),Dt=y(Dt,we,x),sr=$e.length,ms=Dt.length),hi=sr,Oe=Dt.slice(0,sr),Ue=Oe.length;Ue<sr;Oe[Ue++]=0);Un=$e.slice(),Un=[0].concat(Un),ws=$e[0],$e[1]>=x/2&&ws++;do{if(we=0,F=v($e,Oe,sr,Ue),F<0){if(Ot=Oe[0],sr!=Ue&&(Ot=Ot*x+(Oe[1]||0)),we=i(Ot/ws),we>1)for(we>=x&&(we=x-1),Ae=y($e,we,x),Re=Ae.length,Ue=Oe.length;v(Ae,Oe,Re,Ue)==1;)we--,b(Ae,sr<Re?Un:$e,Re,x),Re=Ae.length,F=1;else we==0&&(F=we=1),Ae=$e.slice(),Re=Ae.length;if(Re<Ue&&(Ae=[0].concat(Ae)),b(Oe,Ae,Ue,x),Ue=Oe.length,F==-1)for(;v($e,Oe,sr,Ue)<1;)we++,b(Oe,sr<Ue?Un:$e,Ue,x),Ue=Oe.length}else F===0&&(we++,Oe=[0]);lt[q++]=we,Oe[0]?Oe[Ue++]=Dt[hi]||0:(Oe=[Dt[hi]],Ue=1)}while((hi++<ms||Oe[0]!=null)&&$t--);Z=Oe[0]!=null,lt[0]||lt.splice(0,1)}if(x==a){for(q=1,$t=lt[0];$t>=10;$t/=10,q++);oe(tt,O+(tt.e=q+H*u-1)+1,L,Z)}else tt.e=H,tt.r=+Z;return tt}}();function le(y,v,b,P){var C,O,L,x,F;if(b==null?b=V:B(b,0,8),!y.c)return y.toString();if(C=y.c[0],L=y.e,v==null)F=T(y.c),F=P==1||P==2&&(L<=k||L>=K)?U(F,L):A(F,L,"0");else if(y=oe(new M(y),v,b),O=y.e,F=T(y.c),x=F.length,P==1||P==2&&(v<=O||O<=k)){for(;x<v;F+="0",x++);F=U(F,O)}else if(v-=L,F=A(F,O,"0"),O+1>x){if(--v>0)for(F+=".";v--;F+="0");}else if(v+=O-x,v>0)for(O+1==x&&(F+=".");v--;F+="0");return y.s<0&&C?"-"+F:F}function ae(y,v){for(var b,P=1,C=new M(y[0]);P<y.length;P++)if(b=new M(y[P]),b.s)v.call(C,b)&&(C=b);else{C=b;break}return C}function fe(y,v,b){for(var P=1,C=v.length;!v[--C];v.pop());for(C=v[0];C>=10;C/=10,P++);return(b=P+b*u-1)>ue?y.c=y.e=null:b<pe?y.c=[y.e=0]:(y.e=b,y.c=v),y}S=function(){var y=/^(-?)0([xbo])(?=\w[\w.]*$)/i,v=/^([^.]+)\.$/,b=/^\.([^.]+)$/,P=/^-?(Infinity|NaN)$/,C=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(O,L,x,F){var H,q=x?L:L.replace(C,"");if(P.test(q))O.s=isNaN(q)?null:q<0?-1:1;else{if(!x&&(q=q.replace(y,function(Z,we,Ae){return H=(Ae=Ae.toLowerCase())=="x"?16:Ae=="b"?2:8,!F||F==H?we:Z}),F&&(H=F,q=q.replace(v,"$1").replace(b,"0.$1")),L!=q))return new M(q,H);if(M.DEBUG)throw Error(s+"Not a"+(F?" base "+F:"")+" number: "+L);O.s=null}O.c=O.e=null}}();function oe(y,v,b,P){var C,O,L,x,F,H,q,Z=y.c,we=f;if(Z){e:{for(C=1,x=Z[0];x>=10;x/=10,C++);if(O=v-C,O<0)O+=u,L=v,F=Z[H=0],q=F/we[C-L-1]%10|0;else if(H=n((O+1)/u),H>=Z.length)if(P){for(;Z.length<=H;Z.push(0));F=q=0,C=1,O%=u,L=O-u+1}else break e;else{for(F=x=Z[H],C=1;x>=10;x/=10,C++);O%=u,L=O-u+C,q=L<0?0:F/we[C-L-1]%10|0}if(P=P||v<0||Z[H+1]!=null||(L<0?F:F%we[C-L-1]),P=b<4?(q||P)&&(b==0||b==(y.s<0?3:2)):q>5||q==5&&(b==4||P||b==6&&(O>0?L>0?F/we[C-L]:0:Z[H-1])%10&1||b==(y.s<0?8:7)),v<1||!Z[0])return Z.length=0,P?(v-=y.e+1,Z[0]=we[(u-v%u)%u],y.e=-v||0):Z[0]=y.e=0,y;if(O==0?(Z.length=H,x=1,H--):(Z.length=H+1,x=we[u-O],Z[H]=L>0?i(F/we[C-L]%we[L])*x:0),P)for(;;)if(H==0){for(O=1,L=Z[0];L>=10;L/=10,O++);for(L=Z[0]+=x,x=1;L>=10;L/=10,x++);O!=x&&(y.e++,Z[0]==a&&(Z[0]=1));break}else{if(Z[H]+=x,Z[H]!=a)break;Z[H--]=0,x=1}for(O=Z.length;Z[--O]===0;Z.pop());}y.e>ue?y.c=y.e=null:y.e<pe&&(y.c=[y.e=0])}return y}function ce(y){var v,b=y.e;return b===null?y.toString():(v=T(y.c),v=b<=k||b>=K?U(v,b):A(v,b,"0"),y.s<0?"-"+v:v)}return R.absoluteValue=R.abs=function(){var y=new M(this);return y.s<0&&(y.s=1),y},R.comparedTo=function(y,v){return D(this,new M(y,v))},R.decimalPlaces=R.dp=function(y,v){var b,P,C,O=this;if(y!=null)return B(y,0,g),v==null?v=V:B(v,0,8),oe(new M(O),y+O.e+1,v);if(!(b=O.c))return null;if(P=((C=b.length-1)-E(this.e/u))*u,C=b[C])for(;C%10==0;C/=10,P--);return P<0&&(P=0),P},R.dividedBy=R.div=function(y,v){return N(this,new M(y,v),Q,V)},R.dividedToIntegerBy=R.idiv=function(y,v){return N(this,new M(y,v),0,1)},R.exponentiatedBy=R.pow=function(y,v){var b,P,C,O,L,x,F,H,q,Z=this;if(y=new M(y),y.c&&!y.isInteger())throw Error(s+"Exponent not an integer: "+ce(y));if(v!=null&&(v=new M(v)),x=y.e>14,!Z.c||!Z.c[0]||Z.c[0]==1&&!Z.e&&Z.c.length==1||!y.c||!y.c[0])return q=new M(Math.pow(+ce(Z),x?2-W(y):+ce(y))),v?q.mod(v):q;if(F=y.s<0,v){if(v.c?!v.c[0]:!v.s)return new M(NaN);P=!F&&Z.isInteger()&&v.isInteger(),P&&(Z=Z.mod(v))}else{if(y.e>9&&(Z.e>0||Z.e<-1||(Z.e==0?Z.c[0]>1||x&&Z.c[1]>=24e7:Z.c[0]<8e13||x&&Z.c[0]<=9999975e7)))return O=Z.s<0&&W(y)?-0:0,Z.e>-1&&(O=1/O),new M(F?1/O:O);se&&(O=n(se/u+2))}for(x?(b=new M(.5),F&&(y.s=1),H=W(y)):(C=Math.abs(+ce(y)),H=C%2),q=new M(J);;){if(H){if(q=q.times(Z),!q.c)break;O?q.c.length>O&&(q.c.length=O):P&&(q=q.mod(v))}if(C){if(C=i(C/2),C===0)break;H=C%2}else if(y=y.times(b),oe(y,y.e+1,1),y.e>14)H=W(y);else{if(C=+ce(y),C===0)break;H=C%2}Z=Z.times(Z),O?Z.c&&Z.c.length>O&&(Z.c.length=O):P&&(Z=Z.mod(v))}return P?q:(F&&(q=J.div(q)),v?q.mod(v):O?oe(q,se,V,L):q)},R.integerValue=function(y){var v=new M(this);return y==null?y=V:B(y,0,8),oe(v,v.e+1,y)},R.isEqualTo=R.eq=function(y,v){return D(this,new M(y,v))===0},R.isFinite=function(){return!!this.c},R.isGreaterThan=R.gt=function(y,v){return D(this,new M(y,v))>0},R.isGreaterThanOrEqualTo=R.gte=function(y,v){return(v=D(this,new M(y,v)))===1||v===0},R.isInteger=function(){return!!this.c&&E(this.e/u)>this.c.length-2},R.isLessThan=R.lt=function(y,v){return D(this,new M(y,v))<0},R.isLessThanOrEqualTo=R.lte=function(y,v){return(v=D(this,new M(y,v)))===-1||v===0},R.isNaN=function(){return!this.s},R.isNegative=function(){return this.s<0},R.isPositive=function(){return this.s>0},R.isZero=function(){return!!this.c&&this.c[0]==0},R.minus=function(y,v){var b,P,C,O,L=this,x=L.s;if(y=new M(y,v),v=y.s,!x||!v)return new M(NaN);if(x!=v)return y.s=-v,L.plus(y);var F=L.e/u,H=y.e/u,q=L.c,Z=y.c;if(!F||!H){if(!q||!Z)return q?(y.s=-v,y):new M(Z?L:NaN);if(!q[0]||!Z[0])return Z[0]?(y.s=-v,y):new M(q[0]?L:V==3?-0:0)}if(F=E(F),H=E(H),q=q.slice(),x=F-H){for((O=x<0)?(x=-x,C=q):(H=F,C=Z),C.reverse(),v=x;v--;C.push(0));C.reverse()}else for(P=(O=(x=q.length)<(v=Z.length))?x:v,x=v=0;v<P;v++)if(q[v]!=Z[v]){O=q[v]<Z[v];break}if(O&&(C=q,q=Z,Z=C,y.s=-y.s),v=(P=Z.length)-(b=q.length),v>0)for(;v--;q[b++]=0);for(v=a-1;P>x;){if(q[--P]<Z[P]){for(b=P;b&&!q[--b];q[b]=v);--q[b],q[P]+=a}q[P]-=Z[P]}for(;q[0]==0;q.splice(0,1),--H);return q[0]?fe(y,q,H):(y.s=V==3?-1:1,y.c=[y.e=0],y)},R.modulo=R.mod=function(y,v){var b,P,C=this;return y=new M(y,v),!C.c||!y.s||y.c&&!y.c[0]?new M(NaN):!y.c||C.c&&!C.c[0]?new M(C):(Y==9?(P=y.s,y.s=1,b=N(C,y,0,3),y.s=P,b.s*=P):b=N(C,y,0,Y),y=C.minus(b.times(y)),!y.c[0]&&Y==1&&(y.s=C.s),y)},R.multipliedBy=R.times=function(y,v){var b,P,C,O,L,x,F,H,q,Z,we,Ae,Re,tt,lt,Oe=this,Ue=Oe.c,Ot=(y=new M(y,v)).c;if(!Ue||!Ot||!Ue[0]||!Ot[0])return!Oe.s||!y.s||Ue&&!Ue[0]&&!Ot||Ot&&!Ot[0]&&!Ue?y.c=y.e=y.s=null:(y.s*=Oe.s,!Ue||!Ot?y.c=y.e=null:(y.c=[0],y.e=0)),y;for(P=E(Oe.e/u)+E(y.e/u),y.s*=Oe.s,F=Ue.length,Z=Ot.length,F<Z&&(Re=Ue,Ue=Ot,Ot=Re,C=F,F=Z,Z=C),C=F+Z,Re=[];C--;Re.push(0));for(tt=a,lt=d,C=Z;--C>=0;){for(b=0,we=Ot[C]%lt,Ae=Ot[C]/lt|0,L=F,O=C+L;O>C;)H=Ue[--L]%lt,q=Ue[L]/lt|0,x=Ae*H+q*we,H=we*H+x%lt*lt+Re[O]+b,b=(H/tt|0)+(x/lt|0)+Ae*q,Re[O--]=H%tt;Re[O]=b}return b?++P:Re.splice(0,1),fe(y,Re,P)},R.negated=function(){var y=new M(this);return y.s=-y.s||null,y},R.plus=function(y,v){var b,P=this,C=P.s;if(y=new M(y,v),v=y.s,!C||!v)return new M(NaN);if(C!=v)return y.s=-v,P.minus(y);var O=P.e/u,L=y.e/u,x=P.c,F=y.c;if(!O||!L){if(!x||!F)return new M(C/0);if(!x[0]||!F[0])return F[0]?y:new M(x[0]?P:C*0)}if(O=E(O),L=E(L),x=x.slice(),C=O-L){for(C>0?(L=O,b=F):(C=-C,b=x),b.reverse();C--;b.push(0));b.reverse()}for(C=x.length,v=F.length,C-v<0&&(b=F,F=x,x=b,v=C),C=0;v;)C=(x[--v]=x[v]+F[v]+C)/a|0,x[v]=a===x[v]?0:x[v]%a;return C&&(x=[C].concat(x),++L),fe(y,x,L)},R.precision=R.sd=function(y,v){var b,P,C,O=this;if(y!=null&&y!==!!y)return B(y,1,g),v==null?v=V:B(v,0,8),oe(new M(O),y,v);if(!(b=O.c))return null;if(C=b.length-1,P=C*u+1,C=b[C]){for(;C%10==0;C/=10,P--);for(C=b[0];C>=10;C/=10,P++);}return y&&O.e+1>P&&(P=O.e+1),P},R.shiftedBy=function(y){return B(y,-l,l),this.times("1e"+y)},R.squareRoot=R.sqrt=function(){var y,v,b,P,C,O=this,L=O.c,x=O.s,F=O.e,H=Q+4,q=new M("0.5");if(x!==1||!L||!L[0])return new M(!x||x<0&&(!L||L[0])?NaN:L?O:1/0);if(x=Math.sqrt(+ce(O)),x==0||x==1/0?(v=T(L),(v.length+F)%2==0&&(v+="0"),x=Math.sqrt(+v),F=E((F+1)/2)-(F<0||F%2),x==1/0?v="5e"+F:(v=x.toExponential(),v=v.slice(0,v.indexOf("e")+1)+F),b=new M(v)):b=new M(x+""),b.c[0]){for(F=b.e,x=F+H,x<3&&(x=0);;)if(C=b,b=q.times(C.plus(N(O,C,H,1))),T(C.c).slice(0,x)===(v=T(b.c)).slice(0,x))if(b.e<F&&--x,v=v.slice(x-3,x+1),v=="9999"||!P&&v=="4999"){if(!P&&(oe(C,C.e+Q+2,0),C.times(C).eq(O))){b=C;break}H+=4,x+=4,P=1}else{(!+v||!+v.slice(1)&&v.charAt(0)=="5")&&(oe(b,b.e+Q+2,1),y=!b.times(b).eq(O));break}}return oe(b,b.e+Q+1,V,y)},R.toExponential=function(y,v){return y!=null&&(B(y,0,g),y++),le(this,y,v,1)},R.toFixed=function(y,v){return y!=null&&(B(y,0,g),y=y+this.e+1),le(this,y,v)},R.toFormat=function(y,v,b){var P,C=this;if(b==null)y!=null&&v&&typeof v=="object"?(b=v,v=null):y&&typeof y=="object"?(b=y,y=v=null):b=te;else if(typeof b!="object")throw Error(s+"Argument not an object: "+b);if(P=C.toFixed(y,v),C.c){var O,L=P.split("."),x=+b.groupSize,F=+b.secondaryGroupSize,H=b.groupSeparator||"",q=L[0],Z=L[1],we=C.s<0,Ae=we?q.slice(1):q,Re=Ae.length;if(F&&(O=x,x=F,F=O,Re-=O),x>0&&Re>0){for(O=Re%x||x,q=Ae.substr(0,O);O<Re;O+=x)q+=H+Ae.substr(O,x);F>0&&(q+=H+Ae.slice(O)),we&&(q="-"+q)}P=Z?q+(b.decimalSeparator||"")+((F=+b.fractionGroupSize)?Z.replace(new RegExp("\\d{"+F+"}\\B","g"),"$&"+(b.fractionGroupSeparator||"")):Z):q}return(b.prefix||"")+P+(b.suffix||"")},R.toFraction=function(y){var v,b,P,C,O,L,x,F,H,q,Z,we,Ae=this,Re=Ae.c;if(y!=null&&(x=new M(y),!x.isInteger()&&(x.c||x.s!==1)||x.lt(J)))throw Error(s+"Argument "+(x.isInteger()?"out of range: ":"not an integer: ")+ce(x));if(!Re)return new M(Ae);for(v=new M(J),H=b=new M(J),P=F=new M(J),we=T(Re),O=v.e=we.length-Ae.e-1,v.c[0]=f[(L=O%u)<0?u+L:L],y=!y||x.comparedTo(v)>0?O>0?v:H:x,L=ue,ue=1/0,x=new M(we),F.c[0]=0;q=N(x,v,0,1),C=b.plus(q.times(P)),C.comparedTo(y)!=1;)b=P,P=C,H=F.plus(q.times(C=H)),F=C,v=x.minus(q.times(C=v)),x=C;return C=N(y.minus(b),P,0,1),F=F.plus(C.times(H)),b=b.plus(C.times(P)),F.s=H.s=Ae.s,O=O*2,Z=N(H,P,O,V).minus(Ae).abs().comparedTo(N(F,b,O,V).minus(Ae).abs())<1?[H,P]:[F,b],ue=L,Z},R.toNumber=function(){return+ce(this)},R.toPrecision=function(y,v){return y!=null&&B(y,1,g),le(this,y,v,2)},R.toString=function(y){var v,b=this,P=b.s,C=b.e;return C===null?P?(v="Infinity",P<0&&(v="-"+v)):v="NaN":(y==null?v=C<=k||C>=K?U(T(b.c),C):A(T(b.c),C,"0"):y===10?(b=oe(new M(b),Q+C+1,V),v=A(T(b.c),b.e,"0")):(B(y,2,ie.length,"Base"),v=_(A(T(b.c),C,"0"),10,y,P,!0)),P<0&&b.c[0]&&(v="-"+v)),v},R.valueOf=R.toJSON=function(){return ce(this)},R._isBigNumber=!0,I!=null&&M.set(I),M}function E(I){var N=I|0;return I>0||I===N?N:N-1}function T(I){for(var N,_,S=1,R=I.length,J=I[0]+"";S<R;){for(N=I[S++]+"",_=u-N.length;_--;N="0"+N);J+=N}for(R=J.length;J.charCodeAt(--R)===48;);return J.slice(0,R+1||1)}function D(I,N){var _,S,R=I.c,J=N.c,Q=I.s,V=N.s,k=I.e,K=N.e;if(!Q||!V)return null;if(_=R&&!R[0],S=J&&!J[0],_||S)return _?S?0:-V:Q;if(Q!=V)return Q;if(_=Q<0,S=k==K,!R||!J)return S?0:!R^_?1:-1;if(!S)return k>K^_?1:-1;for(V=(k=R.length)<(K=J.length)?k:K,Q=0;Q<V;Q++)if(R[Q]!=J[Q])return R[Q]>J[Q]^_?1:-1;return k==K?0:k>K^_?1:-1}function B(I,N,_,S){if(I<N||I>_||I!==i(I))throw Error(s+(S||"Argument")+(typeof I=="number"?I<N||I>_?" out of range: ":" not an integer: ":" not a primitive number: ")+String(I))}function W(I){var N=I.c.length-1;return E(I.e/u)==N&&I.c[N]%2!=0}function U(I,N){return(I.length>1?I.charAt(0)+"."+I.slice(1):I)+(N<0?"e":"e+")+N}function A(I,N,_){var S,R;if(N<0){for(R=_+".";++N;R+=_);I=R+I}else if(S=I.length,++N>S){for(R=_,N-=S;--N;R+=_);I+=R}else N<S&&(I=I.slice(0,N)+"."+I.slice(N));return I}e=w(),e.default=e.BigNumber=e,typeof define=="function"&&define.amd?define(function(){return e}):typeof tf<"u"&&tf.exports?tf.exports=e:(t||(t=typeof self<"u"&&self?self:window),t.BigNumber=e)})(wS)});var Be=m(he=>{"use strict";c();Object.defineProperty(he,"__esModule",{value:!0});he.ErrIsCompletedFieldIsMissingOnTransaction=he.ErrGasLimitShouldBe0ForInnerTransaction=he.ErrInvalidRelayedV2BuilderArguments=he.ErrInvalidRelayedV1BuilderArguments=he.ErrNotImplemented=he.ErrContractInteraction=he.ErrCodec=he.ErrCannotParseTransactionOutcome=he.ErrCannotParseContractResults=he.ErrMissingFieldOnEnum=he.ErrMissingFieldOnStruct=he.ErrTypingSystem=he.ErrMock=he.ErrContractHasNoAddress=he.ErrContract=he.ErrExpectedTransactionEventsNotFound=he.ErrExpectedTransactionStatusNotReached=he.ErrTransactionWatcherTimeout=he.ErrAsyncTimerAborted=he.ErrAsyncTimerAlreadyRunning=he.ErrInvalidFunctionName=he.ErrSignatureCannotCreate=he.ErrTransactionOptionsInvalid=he.ErrTransactionVersionInvalid=he.ErrNonceInvalid=he.ErrNotEnoughGas=he.ErrAddressEmpty=he.ErrAddressBadHrp=he.ErrAddressCannotCreate=he.ErrUnexpectedCondition=he.ErrInvariantFailed=he.ErrBadType=he.ErrUnsupportedOperation=he.ErrInvalidArgument=he.Err=void 0;var De=class extends Error{constructor(e,r){super(e),this.inner=void 0,this.inner=r}summary(){let e=[];e.push({name:this.name,message:this.message});let r=this.inner;for(;r;)e.push({name:r.name,message:r.message}),r=r.inner;return e}};he.Err=De;var q0=class extends De{constructor(e,r){super(`Invalid argument: ${e}`,r)}};he.ErrInvalidArgument=q0;var V0=class extends De{constructor(e,r="not specified"){super(`Operation "${e}" not supported. Reason: ${r}`)}};he.ErrUnsupportedOperation=V0;var H0=class extends De{constructor(e,r,n){super(`Bad type of "${e}": ${n}. Expected type: ${r}`)}};he.ErrBadType=H0;var G0=class extends De{constructor(e){super(`Invariant failed: [${e}]`)}};he.ErrInvariantFailed=G0;var k0=class extends De{constructor(e){super(`Unexpected condition: [${e}]`)}};he.ErrUnexpectedCondition=k0;var j0=class extends De{constructor(e,r){let n=`Cannot create address from: ${e}`;super(n,r)}};he.ErrAddressCannotCreate=j0;var Q0=class extends De{constructor(e,r){super(`Wrong address HRP. Expected: ${e}, got ${r}`)}};he.ErrAddressBadHrp=Q0;var W0=class extends De{constructor(){super("Address is empty")}};he.ErrAddressEmpty=W0;var $0=class extends De{constructor(e){super(`Not enough gas provided: ${e}`)}};he.ErrNotEnoughGas=$0;var z0=class extends De{constructor(e){super(`Invalid nonce: ${e}`)}};he.ErrNonceInvalid=z0;var K0=class extends De{constructor(e){super(`Invalid transaction version: ${e}`)}};he.ErrTransactionVersionInvalid=K0;var Y0=class extends De{constructor(e){super(`Invalid transaction options: ${e}`)}};he.ErrTransactionOptionsInvalid=Y0;var J0=class extends De{constructor(e,r){let n=`Cannot create signature from: ${e}`;super(n,r)}};he.ErrSignatureCannotCreate=J0;var X0=class extends De{constructor(){super("Invalid function name")}};he.ErrInvalidFunctionName=X0;var Z0=class extends De{constructor(){super("Async timer already running")}};he.ErrAsyncTimerAlreadyRunning=Z0;var em=class extends De{constructor(){super("Async timer aborted")}};he.ErrAsyncTimerAborted=em;var tm=class extends De{constructor(){super("TransactionWatcher has timed out")}};he.ErrTransactionWatcherTimeout=tm;var rm=class extends De{constructor(){super("Expected transaction status not reached")}};he.ErrExpectedTransactionStatusNotReached=rm;var nm=class extends De{constructor(){super("Expected transaction events not found")}};he.ErrExpectedTransactionEventsNotFound=nm;var rf=class extends De{constructor(e){super(e)}};he.ErrContract=rf;var im=class extends rf{constructor(){super(`
The smart contract has no address set. Make sure you provide the address in the constructor, or call setAddress() appropriately.
If you need to recompute the address of the contract, make use of SmartContract.computeAddress() (static method). 
`)}};he.ErrContractHasNoAddress=im;var sm=class extends De{constructor(e){super(e)}};he.ErrMock=sm;var om=class extends De{constructor(e){super(e)}};he.ErrTypingSystem=om;var am=class extends De{constructor(e,r){super(`field ${e} does not exist on struct ${r}`)}};he.ErrMissingFieldOnStruct=am;var um=class extends De{constructor(e,r){super(`field ${e} does not exist on enum ${r}`)}};he.ErrMissingFieldOnEnum=um;var cm=class extends De{constructor(e){super(`cannot parse contract results: ${e}`)}};he.ErrCannotParseContractResults=cm;var lm=class extends De{constructor(e,r){super(`cannot parse outcome of transaction ${e}: ${r}`)}};he.ErrCannotParseTransactionOutcome=lm;var fm=class extends De{constructor(e){super(e)}};he.ErrCodec=fm;var hm=class extends De{constructor(e){super(e)}};he.ErrContractInteraction=hm;var dm=class extends De{constructor(){super("Method not yet implemented")}};he.ErrNotImplemented=dm;var pm=class extends De{constructor(){super("invalid arguments for relayed v1 builder")}};he.ErrInvalidRelayedV1BuilderArguments=pm;var gm=class extends De{constructor(){super("invalid arguments for relayed v2 builder")}};he.ErrInvalidRelayedV2BuilderArguments=gm;var ym=class extends De{constructor(){super("gas limit must be 0 for the inner transaction for relayed v2")}};he.ErrGasLimitShouldBe0ForInnerTransaction=ym;var mm=class extends De{constructor(){super("The transaction watcher requires the `isCompleted` property to be defined on the transaction object. Perhaps you've used the sdk-network-provider's `ProxyNetworkProvider.getTransaction()` and in that case you should also pass `withProcessStatus=true`.")}};he.ErrIsCompletedFieldIsMissingOnTransaction=mm});var Em=m(di=>{"use strict";c();var k5=di&&di.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(di,"__esModule",{value:!0});di.TokenPayment=di.TokenTransfer=void 0;var Cu=k5(Gt()),j5=Be(),ES="EGLD",vS=18;Cu.default.set({ROUNDING_MODE:1});var nf=class t{constructor(e){let r=new Cu.default(e.amountAsBigInteger);if(!r.isInteger()||r.isNegative())throw new j5.ErrInvalidArgument(`bad amountAsBigInteger: ${e.amountAsBigInteger}`);this.tokenIdentifier=e.tokenIdentifier,this.nonce=e.nonce,this.amountAsBigInteger=r,this.numDecimals=e.numDecimals||0}static egldFromAmount(e){let r=new Cu.default(e).shiftedBy(vS).decimalPlaces(0);return this.egldFromBigInteger(r)}static egldFromBigInteger(e){return new t({tokenIdentifier:ES,nonce:0,amountAsBigInteger:e,numDecimals:vS})}static fungibleFromAmount(e,r,n){let i=new Cu.default(r).shiftedBy(n).decimalPlaces(0);return this.fungibleFromBigInteger(e,i,n)}static fungibleFromBigInteger(e,r,n=0){return new t({tokenIdentifier:e,nonce:0,amountAsBigInteger:r,numDecimals:n})}static nonFungible(e,r){return new t({tokenIdentifier:e,nonce:r,amountAsBigInteger:1,numDecimals:0})}static semiFungible(e,r,n){return new t({tokenIdentifier:e,nonce:r,amountAsBigInteger:n,numDecimals:0})}static metaEsdtFromAmount(e,r,n,i){let s=new Cu.default(n).shiftedBy(i).decimalPlaces(0);return this.metaEsdtFromBigInteger(e,r,s,i)}static metaEsdtFromBigInteger(e,r,n,i=0){return new t({tokenIdentifier:e,nonce:r,amountAsBigInteger:n,numDecimals:i})}toString(){return this.amountAsBigInteger.toFixed(0)}valueOf(){return this.amountAsBigInteger}toPrettyString(){return`${this.toAmount()} ${this.tokenIdentifier}`}toAmount(){return this.amountAsBigInteger.shiftedBy(-this.numDecimals).toFixed(this.numDecimals)}isEgld(){return this.tokenIdentifier==ES}isFungible(){return this.nonce==0}};di.TokenTransfer=nf;var wm=class extends nf{constructor(e,r,n,i){super({tokenIdentifier:e,nonce:r,amountAsBigInteger:n,numDecimals:i})}};di.TokenPayment=wm});var bs=m(ze=>{"use strict";c();Object.defineProperty(ze,"__esModule",{value:!0});ze.ARGUMENTS_SEPARATOR=ze.ESDT_TRANSFER_VALUE=ze.MULTI_ESDTNFT_TRANSFER_FUNCTION_NAME=ze.ESDTNFT_TRANSFER_FUNCTION_NAME=ze.ESDT_TRANSFER_FUNCTION_NAME=ze.ESDT_TRANSFER_GAS_LIMIT=ze.TRANSACTION_VERSION_WITH_OPTIONS=ze.TRANSACTION_VERSION_DEFAULT=ze.TRANSACTION_OPTIONS_TX_GUARDED=ze.TRANSACTION_OPTIONS_TX_HASH_SIGN=ze.TRANSACTION_OPTIONS_DEFAULT=ze.TRANSACTION_MIN_GAS_PRICE=void 0;ze.TRANSACTION_MIN_GAS_PRICE=1e9;ze.TRANSACTION_OPTIONS_DEFAULT=0;ze.TRANSACTION_OPTIONS_TX_HASH_SIGN=1;ze.TRANSACTION_OPTIONS_TX_GUARDED=2;ze.TRANSACTION_VERSION_DEFAULT=1;ze.TRANSACTION_VERSION_WITH_OPTIONS=2;ze.ESDT_TRANSFER_GAS_LIMIT=5e5;ze.ESDT_TRANSFER_FUNCTION_NAME="ESDTTransfer";ze.ESDTNFT_TRANSFER_FUNCTION_NAME="ESDTNFTTransfer";ze.MULTI_ESDTNFT_TRANSFER_FUNCTION_NAME="MultiESDTNFTTransfer";ze.ESDT_TRANSFER_VALUE="0";ze.ARGUMENTS_SEPARATOR="@"});var wr=m(nt=>{"use strict";c();var Q5=nt&&nt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),W5=nt&&nt.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),$5=nt&&nt.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Q5(e,t,r);return W5(e,t),e};Object.defineProperty(nt,"__esModule",{value:!0});nt.isEmpty=nt.guardEmpty=nt.guardNotEmpty=nt.guardLength=nt.guardSameLength=nt.guardValueIsSetWithMessage=nt.guardValueIsSet=nt.guardTrue=void 0;var bo=$5(Be());function z5(t,e){if(!t)throw new bo.ErrInvariantFailed(`[<${e}>] isn't true`)}nt.guardTrue=z5;function K5(t,e){AS(`${t} isn't set (null or undefined)`,e)}nt.guardValueIsSet=K5;function AS(t,e){if(e==null||e===void 0)throw new bo.ErrInvariantFailed(t)}nt.guardValueIsSetWithMessage=AS;function Y5(t,e){if(t=t||[],e=e||[],t.length!=e.length)throw new bo.ErrInvariantFailed("arrays do not have the same length")}nt.guardSameLength=Y5;function J5(t,e){let r=t.length||0;if(r!=e)throw new bo.ErrInvariantFailed(`wrong length, expected: ${e}, actual: ${r}`)}nt.guardLength=J5;function X5(t,e){if(vm(t))throw new bo.ErrInvariantFailed(`${e} is empty`)}nt.guardNotEmpty=X5;function Z5(t,e){if(!vm(t))throw new bo.ErrInvariantFailed(`${e} is not empty`)}nt.guardEmpty=Z5;function vm(t){return t.isEmpty?t.isEmpty():t.length===0}nt.isEmpty=vm});var bS=m(sf=>{"use strict";c();Object.defineProperty(sf,"__esModule",{value:!0});sf.getJavascriptPrototypesInHierarchy=void 0;function e4(t,e){let r=[],n=Object.getPrototypeOf(t);for(;n&&e(n);)r.push(n),n=Object.getPrototypeOf(n);return r}sf.getJavascriptPrototypesInHierarchy=e4});var It=m(_t=>{"use strict";c();Object.defineProperty(_t,"__esModule",{value:!0});_t.NullType=_t.TypePlaceholder=_t.isTyped=_t.PrimitiveValue=_t.TypedValue=_t.CustomType=_t.PrimitiveType=_t.TypeCardinality=_t.Type=void 0;var Am=bS(),_S=wr(),pi=class t{constructor(e,r=[],n=xu.fixed(1)){_S.guardValueIsSet("name",e),this.name=e,this.typeParameters=r,this.cardinality=n}getName(){return this.name}getClassName(){return t.ClassName}getClassHierarchy(){return Am.getJavascriptPrototypesInHierarchy(this,n=>n.belongsToTypesystem).map(n=>n.getClassName()).reverse()}getFullyQualifiedName(){let e=this.getTypeParameters().map(r=>r.getFullyQualifiedName()).join(", ");return this.isGenericType()?`multiversx:types:${this.getName()}<${e}>`:`multiversx:types:${this.getName()}`}hasExactClass(e){return this.getClassName()==e}hasClassOrSuperclass(e){return this.getClassHierarchy().includes(e)}getTypeParameters(){return this.typeParameters}isGenericType(){return this.typeParameters.length>0}getFirstTypeParameter(){return _S.guardTrue(this.typeParameters.length>0,"type parameters length > 0"),this.typeParameters[0]}toString(){let e=this.getTypeParameters().map(n=>n.toString()).join(", "),r=e?`<${e}>`:"";return`${this.name}${r}`}equals(e){return t.equals(this,e)}static equals(e,r){return e.getFullyQualifiedName()==r.getFullyQualifiedName()}static equalsMany(e,r){return e.every((n,i)=>n.equals(r[i]))}static isAssignableFromMany(e,r){return e.every((n,i)=>n.isAssignableFrom(r[i]))}differs(e){return!this.equals(e)}valueOf(){return this.name}isAssignableFrom(e){if(!t.equalsMany(this.getTypeParameters(),e.getTypeParameters()))return!1;let n=this.getFullyQualifiedName();return t.getFullyQualifiedNamesInHierarchy(e).includes(n)?!0:e.hasClassOrSuperclass(this.getClassName())}static getFullyQualifiedNamesInHierarchy(e){return Am.getJavascriptPrototypesInHierarchy(e,i=>i.belongsToTypesystem).map(i=>i.getFullyQualifiedName.call(e))}getNamesOfDependencies(){let e=[];for(let r of this.typeParameters)e.push(r.getName()),e.push(...r.getNamesOfDependencies());return[...new Set(e)]}toJSON(){return{name:this.name,typeParameters:this.typeParameters.map(e=>e.toJSON())}}getCardinality(){return this.cardinality}belongsToTypesystem(){}};_t.Type=pi;pi.ClassName="Type";var xu=class t{constructor(e,r){this.lowerBound=e,this.upperBound=r}static fixed(e){return new t(e,e)}static variable(e){return new t(0,e)}isSingular(){return this.lowerBound==1&&this.upperBound==1}isSingularOrNone(){return this.lowerBound==0&&this.upperBound==1}isComposite(){return this.upperBound!=1}isFixed(){return this.lowerBound==this.upperBound}getLowerBound(){return this.lowerBound}getUpperBound(){return this.upperBound||t.MaxCardinality}};_t.TypeCardinality=xu;xu.MaxCardinality=4096;var of=class t extends pi{constructor(e){super(e)}getClassName(){return t.ClassName}};_t.PrimitiveType=of;of.ClassName="PrimitiveType";var af=class t extends pi{getClassName(){return t.ClassName}};_t.CustomType=af;af.ClassName="CustomType";var Nu=class t{constructor(e){this.type=e}getClassName(){return t.ClassName}getClassHierarchy(){return Am.getJavascriptPrototypesInHierarchy(this,n=>n.belongsToTypesystem).map(n=>n.getClassName()).reverse()}getType(){return this.type}hasExactClass(e){return this.getClassName()==e}hasClassOrSuperclass(e){return this.getClassHierarchy().includes(e)}belongsToTypesystem(){}};_t.TypedValue=Nu;Nu.ClassName="TypedValue";var uf=class t extends Nu{constructor(e){super(e)}getClassName(){return t.ClassName}};_t.PrimitiveValue=uf;uf.ClassName="PrimitiveValue";function t4(t){return t.belongsToTypesystem!==void 0}_t.isTyped=t4;var cf=class t extends pi{constructor(){super("...")}getClassName(){return t.ClassName}};_t.TypePlaceholder=cf;cf.ClassName="TypePlaceholder";var lf=class t extends pi{constructor(){super("?")}getClassName(){return t.ClassName}};_t.NullType=lf;lf.ClassName="NullType"});var IS=m((_o,Io)=>{c();(function(t){var e=typeof _o=="object"&&_o&&!_o.nodeType&&_o,r=typeof Io=="object"&&Io&&!Io.nodeType&&Io,n=typeof global=="object"&&global;(n.global===n||n.window===n||n.self===n)&&(t=n);var i,s=2147483647,o=36,a=1,u=26,l=38,f=700,d=72,g=128,w="-",E=/^xn--/,T=/[^\x20-\x7E]/,D=/[\x2E\u3002\uFF0E\uFF61]/g,B={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},W=o-a,U=Math.floor,A=String.fromCharCode,I;function N(Y){throw new RangeError(B[Y])}function _(Y,se){for(var te=Y.length,ie=[];te--;)ie[te]=se(Y[te]);return ie}function S(Y,se){var te=Y.split("@"),ie="";te.length>1&&(ie=te[0]+"@",Y=te[1]),Y=Y.replace(D,".");var M=Y.split("."),le=_(M,se).join(".");return ie+le}function R(Y){for(var se=[],te=0,ie=Y.length,M,le;te<ie;)M=Y.charCodeAt(te++),M>=55296&&M<=56319&&te<ie?(le=Y.charCodeAt(te++),(le&64512)==56320?se.push(((M&1023)<<10)+(le&1023)+65536):(se.push(M),te--)):se.push(M);return se}function J(Y){return _(Y,function(se){var te="";return se>65535&&(se-=65536,te+=A(se>>>10&1023|55296),se=56320|se&1023),te+=A(se),te}).join("")}function Q(Y){return Y-48<10?Y-22:Y-65<26?Y-65:Y-97<26?Y-97:o}function V(Y,se){return Y+22+75*(Y<26)-((se!=0)<<5)}function k(Y,se,te){var ie=0;for(Y=te?U(Y/f):Y>>1,Y+=U(Y/se);Y>W*u>>1;ie+=o)Y=U(Y/W);return U(ie+(W+1)*Y/(Y+l))}function K(Y){var se=[],te=Y.length,ie,M=0,le=g,ae=d,fe,oe,ce,y,v,b,P,C,O;for(fe=Y.lastIndexOf(w),fe<0&&(fe=0),oe=0;oe<fe;++oe)Y.charCodeAt(oe)>=128&&N("not-basic"),se.push(Y.charCodeAt(oe));for(ce=fe>0?fe+1:0;ce<te;){for(y=M,v=1,b=o;ce>=te&&N("invalid-input"),P=Q(Y.charCodeAt(ce++)),(P>=o||P>U((s-M)/v))&&N("overflow"),M+=P*v,C=b<=ae?a:b>=ae+u?u:b-ae,!(P<C);b+=o)O=o-C,v>U(s/O)&&N("overflow"),v*=O;ie=se.length+1,ae=k(M-y,ie,y==0),U(M/ie)>s-le&&N("overflow"),le+=U(M/ie),M%=ie,se.splice(M++,0,le)}return J(se)}function pe(Y){var se,te,ie,M,le,ae,fe,oe,ce,y,v,b=[],P,C,O,L;for(Y=R(Y),P=Y.length,se=g,te=0,le=d,ae=0;ae<P;++ae)v=Y[ae],v<128&&b.push(A(v));for(ie=M=b.length,M&&b.push(w);ie<P;){for(fe=s,ae=0;ae<P;++ae)v=Y[ae],v>=se&&v<fe&&(fe=v);for(C=ie+1,fe-se>U((s-te)/C)&&N("overflow"),te+=(fe-se)*C,se=fe,ae=0;ae<P;++ae)if(v=Y[ae],v<se&&++te>s&&N("overflow"),v==se){for(oe=te,ce=o;y=ce<=le?a:ce>=le+u?u:ce-le,!(oe<y);ce+=o)L=oe-y,O=o-y,b.push(A(V(y+L%O,0))),oe=U(L/O);b.push(A(V(oe,0))),le=k(te,C,ie==M),te=0,++ie}++te,++se}return b.join("")}function ue(Y){return S(Y,function(se){return E.test(se)?K(se.slice(4).toLowerCase()):se})}function re(Y){return S(Y,function(se){return T.test(se)?"xn--"+pe(se):se})}if(i={version:"1.4.1",ucs2:{decode:R,encode:J},decode:K,encode:pe,toASCII:re,toUnicode:ue},typeof define=="function"&&typeof define.amd=="object"&&define.amd)define("punycode",function(){return i});else if(e&&r)if(Io.exports==e)r.exports=i;else for(I in i)i.hasOwnProperty(I)&&(e[I]=i[I]);else t.punycode=i})(_o)});var xS=m((Gie,_m)=>{"use strict";c();var TS=IS();function r4(t,e){this.__proto__=new Error(e),this.__proto__.name="BackslashError",this.offset=t}function bm(t){return t>="0"&&t<="7"}function n4(t){return t>="0"&&t<="9"||t>="a"&&t<="f"||t>="A"&&t<="F"}function SS(t){return t=parseInt(t,16),TS.ucs2.encode([t])}function CS(t,e,r){var n=!1,i=[];function s(u){var l=t[u];if(!n4(l))throw new r4(u,"Unexpected token ILLEGAL");return l}for(;e<t.length;){var o=t[e];if(e++,n){switch(n=!1,o){case"n":i.push(`
`);continue;case"r":i.push("\r");continue;case"f":i.push("\f");continue;case"b":i.push("\b");continue;case"t":i.push("	");continue;case"v":i.push("\v");continue;case"\\":i.push("\\");continue}if(o==="x"){i.push(SS(s(e)+s(e+1))),e+=2;continue}if(o==="u"){i.push(SS(s(e)+s(e+1)+s(e+2)+s(e+3))),e+=4;continue}if(bm(o)){var a;bm(a=t[e])&&(e++,o+=a,bm(a=t[e])&&o[0]<="3"&&(e++,o+=a)),i.push(TS.ucs2.encode([parseInt(o,8)]));continue}i.push(o)}else if(o==="\\")n=!0;else if(o===r){e--;break}else i.push(o)}return arguments.length===3?{end:e,value:i.join("")}:i.join("")}_m.exports=function(e){return CS(e,0)};_m.exports.parseUntil=function(e,r,n){return CS(e,r,n)}});var LS=m((jie,BS)=>{c();var DS=xS();BS.exports={validate:i4,parse:s4};function i4(t,e){var r;if(e=e||!1,typeof t!="string")r="Input must be a string";else try{ff(t,0,e,!1)}catch(n){r=n.message}return r}function s4(t,e){if(typeof t!="string")throw new Error("Input must be a string");e=e||!1;var r=ff(t,0,e,!0);return r.value}function PS(t,e){for(var r=t.length,n=e,i,s=e;s<r;s++){var o=t[s];if(o===","){i=s;break}else if(o==="]"||o==="}"){i=s-1;break}else if(!_s(o))throw Gn(t,s,"expecting end of expression or separator")}var a;return i===void 0?(i=r,a=t[i]):(a=t[i],i++),{start:n,end:i,value:a}}function o4(t,e){for(var r=t.length,n=e,i,s=e;s<r;s++){var o=t[s];if(o===":"){i=s;break}else if(!_s(o))throw Gn(t,s,"expecting ':'")}if(i===void 0)throw Gn(t,s,"expecting ':'");return i++,{start:n,end:i}}function ff(t,e,r,n){for(var i=t.length,s,o,a=!1,u=!1,l=!1,f=!1,d=!1,g=!1,w,E=e;E<i;E++){var T=t[E];if(s===void 0){if(!_s(T)){if(T==="[")a=!0;else if(T==="{")u=!0;else if(T==='"')l=!0;else if(l4(t,E)){s=E,E=E+3,o=E,w=!0;break}else if(f4(t,E)){s=E,E=E+4,o=E,w=!1;break}else if(h4(t,E)){s=E,E=E+3,o=E,w=null;break}else if(NS(T))f=!0;else if(T==="-")f=!0;else throw Gn(t,E,"");s=E}}else if(a){var D=c4(t,E,r,n);o=D.end,w=D.value;break}else if(u){var B=u4(t,E,r,n);o=B.end,w=B.value;break}else if(l&&T==='"'&&RS(t,E-1)){o=E,w=DS(t.substring(s+1,o));break}else if(f)if(_s(T))g=!0;else if(T===","||T==="]"||T==="}"){w=parseFloat(t.substring(s,o),10),o=E-1;break}else{if(NS(T)&&!g)continue;if(T==="."&&!d&&!g)d=!0;else throw Gn(t,E,"expecting number")}}if(o===void 0)if(f)w=parseFloat(t.substring(s,E),10),o=E-1;else throw Gn(t,E,"unclosed statement");return o++,{value:w,start:s,end:o}}function a4(t,e){for(var r=t.length,n,i,s=e;s<r;s++){var o=t[s];if(n===void 0){if(!_s(o)){if(o!=='"')throw Gn(t,s,"expecting String");n=s}}else if(o==='"'&&RS(t,s-1)){i=s;break}}if(i===void 0)throw Gn(t,r,"expecting String");var a=DS(t.substring(n+1,i));if(a==="")throw Gn(t,n,"empty string");return i++,{start:n,end:i,value:a}}function u4(t,e,r,n){for(var i=e,s=",",o={},a=[],u=[],l=e;_s(t[l]);)l++;if(t[l]==="}")return{start:e,end:l,value:o};for(;s===",";){var f=a4(t,i),d=o4(t,f.end),g=ff(t,d.end,r,n),w=PS(t,g.end);r||a.indexOf(f.value)!==-1&&(f.value=f.value+"1"),a.push(f.value),u.push(g.value),i=w.end,s=w.value}if(n){var E=0;for(E=0;E<a.length;E++)o[a[E]]=u[E]}return{start:e,end:i,value:o}}function RS(t,e){for(var r=e,n=0;r>-1&&t[r]==="\\";)n++,r--;return n%2===0}function c4(t,e,r,n){for(var i=e,s=",",o=[],a=e;_s(t[a]);)a++;if(t[a]==="]")return{start:e,end:a,value:o};for(;s===",";){var u=ff(t,i,r,n),l=PS(t,u.end);n&&o.push(u.value),i=l.end,s=l.value}return{start:e,end:i,value:o}}function l4(t,e){return t.substr(e,4)==="true"}function f4(t,e){return t.substr(e,5)==="false"}function h4(t,e){return t.substr(e,4)==="null"}var d4=new RegExp(/^\s$/);function _s(t){return d4.test(t)}var p4=new RegExp(/^\d$/);function NS(t){return p4.test(t)}function Gn(t,e,r){var n=10,i;t.length<e+n?i=t.substr(OS(t.length-n),t.length):e-n/2<0?i=t.substr(0,n):i=t.substr(OS(e-n/2),n);var s;return r?s="Syntax error: "+r+" near "+i:s="Syntax error near "+i,new Error(s)}function OS(t){return t<0?0:t}});var hf=m(rn=>{"use strict";c();var g4=rn&&rn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),y4=rn&&rn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),m4=rn&&rn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&g4(e,t,r);return y4(e,t),e};Object.defineProperty(rn,"__esModule",{value:!0});rn.TypeExpressionParser=void 0;var FS=m4(Be()),w4=It(),E4=LS(),Im=class{parse(e){let r=this.doParse(e),n=Object.keys(r);if(n.length!=1)throw new FS.ErrTypingSystem(`bad type expression: ${e}`);let i=n[0];return this.nodeToType(i,r[i])}doParse(e){let r=this.getJsonedString(e);try{return E4.parse(r)}catch{throw new FS.ErrTypingSystem(`cannot parse type expression: ${e}. internal json: ${r}.`)}}getJsonedString(e){let r="";for(var n=0;n<e.length;n++){let o=e.charAt(n),a=e.charAt(n-1),u=e.charAt(n+1);o=="<"?r+=": {":o==">"?a!=">"?r+=": {} }":r+="}":o==","?u==">"||(a==">"?r+=",":r+=": {},"):r+=o}let i=/(:|\{|\}|,|\s)/,s=r.replace(/utf\-8\sstring/ig,"utf-8-string").split(i).filter(o=>o);return r=s.map(o=>i.test(o)?o:`"${o}"`).map(o=>o.replace(/utf\-8\-string/ig,"utf-8 string")).join(""),s.length==1?`{${r}: {}}`:`{${r}}`}nodeToType(e,r){e.charAt(e.length-1)==="1"&&(e=e.slice(0,-1));let n=Object.keys(r).map(i=>this.nodeToType(i,r[i]));return new w4.Type(e,n)}};rn.TypeExpressionParser=Im});var Tm=m(gi=>{"use strict";c();Object.defineProperty(gi,"__esModule",{value:!0});gi.EndpointParameterDefinition=gi.EndpointModifiers=gi.EndpointDefinition=void 0;var v4=hf(),MS="?",A4="N / A",Sm=class t{constructor(e,r,n,i){this.input=[],this.output=[],this.name=e,this.input=r||[],this.output=n||[],this.modifiers=i}isConstructor(){return this.name=="constructor"}static fromJSON(e){e.name=e.name==null?MS:e.name,e.onlyOwner=e.onlyOwner||!1,e.payableInTokens=e.payableInTokens||[],e.inputs=e.inputs||[],e.outputs=e.outputs||[];let r=e.inputs.map(s=>Ou.fromJSON(s)),n=e.outputs.map(s=>Ou.fromJSON(s)),i=new df(e.mutability,e.payableInTokens,e.onlyOwner);return new t(e.name,r,n,i)}};gi.EndpointDefinition=Sm;var df=class{constructor(e,r,n){this.mutability=e||"",this.payableInTokens=r||[],this.onlyOwner=n||!1}isPayableInEGLD(){return this.isPayableInToken("EGLD")}isPayableInToken(e){return this.payableInTokens.includes(e)?!0:this.payableInTokens.includes(`!${e}`)?!1:!!this.payableInTokens.includes("*")}isPayable(){return this.payableInTokens.length!=0}isReadonly(){return this.mutability=="readonly"}isOnlyOwner(){return this.onlyOwner}};gi.EndpointModifiers=df;var Ou=class t{constructor(e,r,n){this.name=e,this.description=r,this.type=n}static fromJSON(e){let r=new v4.TypeExpressionParser().parse(e.type);return new t(e.name||MS,e.description||A4,r)}};gi.EndpointParameterDefinition=Ou});var So=m(ar=>{"use strict";c();var b4=ar&&ar.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),_4=ar&&ar.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),I4=ar&&ar.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&b4(e,t,r);return _4(e,t),e};Object.defineProperty(ar,"__esModule",{value:!0});ar.Fields=ar.Field=ar.FieldDefinition=void 0;var Cm=I4(Be()),S4=hf(),xm=class t{constructor(e,r,n){this.name=e,this.description=r,this.type=n}static fromJSON(e){let r=new S4.TypeExpressionParser().parse(e.type);return new t(e.name,e.description,r)}};ar.FieldDefinition=xm;var Nm=class{constructor(e,r=""){this.value=e,this.name=r}checkTyping(e){let r=this.value.getType();if(!r.equals(e.type))throw new Cm.ErrTypingSystem(`check type of field "${e.name}; expected: ${e.type}, actual: ${r}"`);if(this.name!=e.name)throw new Cm.ErrTypingSystem(`check name of field "${e.name}"`)}equals(e){return this.name==e.name&&this.value.equals(e.value)}};ar.Field=Nm;var Om=class{static checkTyping(e,r){if(e.length!=r.length)throw new Cm.ErrTypingSystem("fields length vs. field definitions length");for(let n=0;n<e.length;n++){let i=e[n],s=r[n];i.checkTyping(s)}}static equals(e,r){if(e.length!=r.length)return!1;for(let n=0;n<e.length;n++){let i=e[n],s=r[n];if(!i.equals(s))return!1}return!0}static getNamesOfTypeDependencies(e){let r=[];for(let n of e)r.push(n.type.getName()),r.push(...n.type.getNamesOfDependencies());return[...new Set(r)]}};ar.Fields=Om});var Du=m(yi=>{"use strict";c();Object.defineProperty(yi,"__esModule",{value:!0});yi.EnumValue=yi.EnumVariantDefinition=yi.EnumType=void 0;var T4=Be(),Dm=wr(),pf=So(),qS=It(),US=256,gf=class t extends qS.CustomType{constructor(e,r){super(e),this.variants=[],this.variants=r}getClassName(){return t.ClassName}static fromJSON(e){let r=(e.variants||[]).map(n=>yf.fromJSON(n));return new t(e.name,r)}getVariantByDiscriminant(e){let r=this.variants.find(n=>n.discriminant==e);return Dm.guardValueIsSet(`variant by discriminant (${e})`,r),r}getVariantByName(e){let r=this.variants.find(n=>n.name==e);return Dm.guardValueIsSet(`variant by name (${e})`,r),r}getNamesOfDependencies(){let e=[];for(let r of this.variants)e.push(...r.getNamesOfDependencies());return[...new Set(e)]}};yi.EnumType=gf;gf.ClassName="EnumType";var yf=class t{constructor(e,r,n=[]){this.fieldsDefinitions=[],Dm.guardTrue(r<US,`discriminant for simple enum should be less than ${US}`),this.name=e,this.discriminant=r,this.fieldsDefinitions=n}static fromJSON(e){let r=(e.fields||[]).map(n=>pf.FieldDefinition.fromJSON(n));return new t(e.name,e.discriminant,r)}getFieldsDefinitions(){return this.fieldsDefinitions}getFieldDefinition(e){return this.fieldsDefinitions.find(r=>r.name==e)}getNamesOfDependencies(){return pf.Fields.getNamesOfTypeDependencies(this.fieldsDefinitions)}};yi.EnumVariantDefinition=yf;var mf=class t extends qS.TypedValue{constructor(e,r,n){super(e),this.fields=[],this.name=r.name,this.discriminant=r.discriminant,this.fields=n,this.fieldsByName=new Map(n.map(s=>[s.name,s]));let i=r.getFieldsDefinitions();pf.Fields.checkTyping(this.fields,i)}getClassName(){return t.ClassName}static fromName(e,r){let n=e.getVariantByName(r);return new t(e,n,[])}static fromDiscriminant(e,r){let n=e.getVariantByDiscriminant(r);return new t(e,n,[])}equals(e){if(!this.getType().equals(e.getType()))return!1;let r=this.getFields(),n=e.getFields(),i=this.name==e.name,s=this.discriminant==e.discriminant,o=pf.Fields.equals(r,n);return i&&s&&o}getFields(){return this.fields}getFieldValue(e){let r=this.fieldsByName.get(e);if(r)return r.value.valueOf();throw new T4.ErrMissingFieldOnEnum(e,this.getType().getName())}valueOf(){let e={name:this.name,fields:[]};return this.fields.forEach((r,n)=>e.fields[n]=r.value.valueOf()),e}};yi.EnumValue=mf;mf.ClassName="EnumValue"});var Co=m(To=>{"use strict";c();Object.defineProperty(To,"__esModule",{value:!0});To.Struct=To.StructType=void 0;var C4=Be(),wf=So(),VS=It(),Ef=class t extends VS.CustomType{constructor(e,r){super(e),this.fieldsDefinitions=[],this.fieldsDefinitions=r}getClassName(){return t.ClassName}static fromJSON(e){let r=(e.fields||[]).map(n=>wf.FieldDefinition.fromJSON(n));return new t(e.name,r)}getFieldsDefinitions(){return this.fieldsDefinitions}getFieldDefinition(e){return this.fieldsDefinitions.find(r=>r.name==e)}getNamesOfDependencies(){return wf.Fields.getNamesOfTypeDependencies(this.fieldsDefinitions)}};To.StructType=Ef;Ef.ClassName="StructType";var vf=class t extends VS.TypedValue{constructor(e,r){super(e),this.fields=r,this.fieldsByName=new Map(r.map(n=>[n.name,n])),this.checkTyping()}getClassName(){return t.ClassName}checkTyping(){let r=this.getType().getFieldsDefinitions();wf.Fields.checkTyping(this.fields,r)}getFields(){return this.fields}getFieldValue(e){let r=this.fieldsByName.get(e);if(r)return r.value.valueOf();throw new C4.ErrMissingFieldOnStruct(e,this.getType().getName())}valueOf(){let e={};for(let r of this.fields)e[r.name]=r.value.valueOf();return e}equals(e){if(!this.getType().equals(e.getType()))return!1;let r=this.getFields(),n=e.getFields();return wf.Fields.equals(r,n)}};To.Struct=vf;vf.ClassName="Struct"});var Rm=m((rse,kS)=>{"use strict";c();var bf="qpzry9x8gf2tvdw0s3jn54khce6mua7l",Pm={};for(Pu=0;Pu<bf.length;Pu++){if(Af=bf.charAt(Pu),Pm[Af]!==void 0)throw new TypeError(Af+" is ambiguous");Pm[Af]=Pu}var Af,Pu;function xo(t){var e=t>>25;return(t&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}function HS(t){for(var e=1,r=0;r<t.length;++r){var n=t.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+t+")";e=xo(e)^n>>5}for(e=xo(e),r=0;r<t.length;++r){var i=t.charCodeAt(r);e=xo(e)^i&31}return e}function x4(t,e,r){if(r=r||90,t.length+7+e.length>r)throw new TypeError("Exceeds length limit");t=t.toLowerCase();var n=HS(t);if(typeof n=="string")throw new Error(n);for(var i=t+"1",s=0;s<e.length;++s){var o=e[s];if(o>>5)throw new Error("Non 5-bit word");n=xo(n)^o,i+=bf.charAt(o)}for(s=0;s<6;++s)n=xo(n);for(n^=1,s=0;s<6;++s){var a=n>>(5-s)*5&31;i+=bf.charAt(a)}return i}function GS(t,e){if(e=e||90,t.length<8)return t+" too short";if(t.length>e)return"Exceeds length limit";var r=t.toLowerCase(),n=t.toUpperCase();if(t!==r&&t!==n)return"Mixed-case string "+t;t=r;var i=t.lastIndexOf("1");if(i===-1)return"No separator character for "+t;if(i===0)return"Missing prefix for "+t;var s=t.slice(0,i),o=t.slice(i+1);if(o.length<6)return"Data too short";var a=HS(s);if(typeof a=="string")return a;for(var u=[],l=0;l<o.length;++l){var f=o.charAt(l),d=Pm[f];if(d===void 0)return"Unknown character "+f;a=xo(a)^d,!(l+6>=o.length)&&u.push(d)}return a!==1?"Invalid checksum for "+t:{prefix:s,words:u}}function N4(){var t=GS.apply(null,arguments);if(typeof t=="object")return t}function O4(t){var e=GS.apply(null,arguments);if(typeof e=="object")return e;throw new Error(e)}function _f(t,e,r,n){for(var i=0,s=0,o=(1<<r)-1,a=[],u=0;u<t.length;++u)for(i=i<<e|t[u],s+=e;s>=r;)s-=r,a.push(i>>s&o);if(n)s>0&&a.push(i<<r-s&o);else{if(s>=e)return"Excess padding";if(i<<r-s&o)return"Non-zero padding"}return a}function D4(t){var e=_f(t,8,5,!0);if(Array.isArray(e))return e}function P4(t){var e=_f(t,8,5,!0);if(Array.isArray(e))return e;throw new Error(e)}function R4(t){var e=_f(t,5,8,!1);if(Array.isArray(e))return e}function B4(t){var e=_f(t,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}kS.exports={decodeUnsafe:N4,decode:O4,encode:x4,toWordsUnsafe:D4,toWords:P4,fromWordsUnsafe:R4,fromWords:B4}});var ht=m(nn=>{"use strict";c();var L4=nn&&nn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),F4=nn&&nn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),jS=nn&&nn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&L4(e,t,r);return F4(e,t),e};Object.defineProperty(nn,"__esModule",{value:!0});nn.Address=void 0;var If=jS(Rm()),No=jS(Be()),Bm="erd",Lm=32,M4="0".repeat(16),Fm=class t{constructor(e){if(this.valueHex="",!!e){if(e instanceof t)return t.fromAddress(e);if(e instanceof h.Buffer)return t.fromBuffer(e);if(typeof e=="string")return t.fromString(e);throw new No.ErrAddressCannotCreate(e)}}static fromAddress(e){return t.fromValidHex(e.valueHex)}static fromValidHex(e){let r=new t;return r.valueHex=e,r}static fromBuffer(e){if(e.length!=Lm)throw new No.ErrAddressCannotCreate(e);return t.fromValidHex(e.toString("hex"))}static fromString(e){return t.isValidHex(e)?t.fromValidHex(e):t.fromBech32(e)}static isValidHex(e){return h.Buffer.from(e,"hex").length==Lm}static fromHex(e){if(!t.isValidHex(e))throw new No.ErrAddressCannotCreate(e);return t.fromValidHex(e)}static empty(){return new t}static fromBech32(e){let r;try{r=If.decode(e)}catch(s){throw new No.ErrAddressCannotCreate(e,s)}let n=r.prefix;if(n!=Bm)throw new No.ErrAddressBadHrp(Bm,n);let i=h.Buffer.from(If.fromWords(r.words));if(i.length!=Lm)throw new No.ErrAddressCannotCreate(e);return t.fromValidHex(i.toString("hex"))}hex(){return this.isEmpty()?"":this.valueHex}bech32(){if(this.isEmpty())return"";let e=If.toWords(this.pubkey());return If.encode(Bm,e)}pubkey(){return this.isEmpty()?h.Buffer.from([]):h.Buffer.from(this.valueHex,"hex")}isEmpty(){return!this.valueHex}equals(e){return e?this.valueHex==e.valueHex:!1}toString(){return this.bech32()}toJSON(){return{bech32:this.bech32(),pubkey:this.hex()}}static Zero(){return new t("0".repeat(64))}isContractAddress(){return this.hex().startsWith(M4)}};nn.Address=Fm});var Do=m(Oo=>{"use strict";c();Object.defineProperty(Oo,"__esModule",{value:!0});Oo.AddressValue=Oo.AddressType=void 0;var U4=ht(),QS=It(),Ru=class t extends QS.PrimitiveType{constructor(){super("Address")}getClassName(){return t.ClassName}};Oo.AddressType=Ru;Ru.ClassName="AddressType";var Sf=class t extends QS.PrimitiveValue{constructor(e){super(new Ru),this.value=new U4.Address(e.bech32())}getClassName(){return t.ClassName}equals(e){return this.value.equals(e.value)}valueOf(){return this.value}};Oo.AddressValue=Sf;Sf.ClassName="AddressValue"});var Cf=m(Po=>{"use strict";c();Object.defineProperty(Po,"__esModule",{value:!0});Po.OptionalValue=Po.OptionalType=void 0;var q4=wr(),Bu=It(),Lu=class t extends Bu.Type{constructor(e){super("Optional",[e],Bu.TypeCardinality.variable(1))}getClassName(){return t.ClassName}isAssignableFrom(e){if(!e.hasExactClass(t.ClassName))return!1;let r=this.getFirstTypeParameter().equals(e.getFirstTypeParameter()),n=e.getFirstTypeParameter().hasExactClass(Bu.NullType.ClassName);return r||n}};Po.OptionalType=Lu;Lu.ClassName="OptionalType";var Tf=class t extends Bu.TypedValue{constructor(e,r=null){super(e),this.value=r}getClassName(){return t.ClassName}static newMissing(){let e=new Lu(new Bu.NullType);return new t(e)}isSet(){return!!this.value}getTypedValue(){return q4.guardValueIsSet("value",this.value),this.value}valueOf(){return this.value?this.value.valueOf():null}equals(e){var r;return((r=this.value)===null||r===void 0?void 0:r.equals(e.value))||!1}};Po.OptionalValue=Tf;Tf.ClassName="OptionalValue"});var Mu=m(Ro=>{"use strict";c();Object.defineProperty(Ro,"__esModule",{value:!0});Ro.BooleanValue=Ro.BooleanType=void 0;var WS=It(),Fu=class t extends WS.PrimitiveType{constructor(){super("bool")}getClassName(){return t.ClassName}};Ro.BooleanType=Fu;Fu.ClassName="BooleanType";var xf=class t extends WS.PrimitiveValue{constructor(e){super(new Fu),this.value=e}getClassName(){return t.ClassName}equals(e){return this.value===e.value}isTrue(){return this.value===!0}isFalse(){return!this.isTrue()}valueOf(){return this.value}};Ro.BooleanValue=xf;xf.ClassName="BooleanValue"});var mi=m(Bo=>{"use strict";c();Object.defineProperty(Bo,"__esModule",{value:!0});Bo.BytesValue=Bo.BytesType=void 0;var $S=It(),Uu=class t extends $S.PrimitiveType{constructor(){super("bytes")}getClassName(){return t.ClassName}};Bo.BytesType=Uu;Uu.ClassName="BytesType";var Nf=class t extends $S.PrimitiveValue{constructor(e){super(new Uu),this.value=e}getClassName(){return t.ClassName}static fromUTF8(e){let r=h.Buffer.from(e,"utf-8");return new t(r)}static fromHex(e){let r=h.Buffer.from(e,"hex");return new t(r)}getLength(){return this.value.length}equals(e){return this.getLength()!=e.getLength()?!1:this.value.equals(e.value)}valueOf(){return this.value}toString(){return this.value.toString()}};Bo.BytesValue=Nf;Nf.ClassName="BytesValue"});var KS=m(Lo=>{"use strict";c();Object.defineProperty(Lo,"__esModule",{value:!0});Lo.CodeMetadataValue=Lo.CodeMetadataType=void 0;var zS=It(),Of=class extends zS.PrimitiveType{constructor(){super("CodeMetadata")}};Lo.CodeMetadataType=Of;var Mm=class extends zS.PrimitiveValue{constructor(e){super(new Of),this.value=e}equals(e){return this.value.equals(e.value)}valueOf(){return this.value}};Lo.CodeMetadataValue=Mm});var Pf=m(Fo=>{"use strict";c();Object.defineProperty(Fo,"__esModule",{value:!0});Fo.CompositeValue=Fo.CompositeType=void 0;var V4=wr(),Um=It(),qu=class t extends Um.Type{constructor(...e){super("Composite",e,Um.TypeCardinality.variable(e.length))}getClassName(){return t.ClassName}};Fo.CompositeType=qu;qu.ClassName="CompositeType";var Df=class t extends Um.TypedValue{constructor(e,r){super(e),V4.guardLength(r,e.getTypeParameters().length),this.items=r}getClassName(){return t.ClassName}static fromItems(...e){let r=e.map(i=>i.getType()),n=new qu(...r);return new t(n,e)}getItems(){return this.items}valueOf(){return this.items.map(e=>e?.valueOf())}equals(e){if(this.getType().differs(e.getType()))return!1;for(let r=0;r<this.items.length;r++){let n=this.items[r],i=e.items[r];if(!n.equals(i))return!1}return!0}};Fo.CompositeValue=Df;Df.ClassName="CompositeValue"});var Vm=m(Rf=>{"use strict";c();Object.defineProperty(Rf,"__esModule",{value:!0});Rf.CollectionOfTypedValues=void 0;var qm=class{constructor(e){this.items=e}getLength(){return this.items.length}getItems(){return this.items}valueOf(){return this.items.map(e=>e.valueOf())}equals(e){if(this.getLength()!=e.getLength())return!1;for(let r=0;r<this.getLength();r++){let n=this.items[r],i=e.items[r];if(!n.equals(i))return!1}return!0}};Rf.CollectionOfTypedValues=qm});var Hu=m(sn=>{"use strict";c();Object.defineProperty(sn,"__esModule",{value:!0});sn.List=sn.OptionValue=sn.ListType=sn.OptionType=void 0;var H4=wr(),G4=Vm(),Ss=It(),Is=class t extends Ss.Type{constructor(e){super("Option",[e])}getClassName(){return t.ClassName}isAssignableFrom(e){if(!e.hasExactClass(t.ClassName))return!1;let r=this.getFirstTypeParameter().equals(e.getFirstTypeParameter()),n=e.getFirstTypeParameter().hasExactClass(Ss.NullType.ClassName);return r||n}};sn.OptionType=Is;Is.ClassName="OptionType";var Vu=class t extends Ss.Type{constructor(e){super("List",[e])}getClassName(){return t.ClassName}};sn.ListType=Vu;Vu.ClassName="ListType";var Bf=class t extends Ss.TypedValue{constructor(e,r=null){super(e),this.value=r}getClassName(){return t.ClassName}static newMissing(){let e=new Is(new Ss.NullType);return new t(e)}static newMissingTyped(e){return new t(new Is(e))}static newProvided(e){let r=new Is(e.getType());return new t(r,e)}isSet(){return!!this.value}getTypedValue(){return H4.guardValueIsSet("value",this.value),this.value}valueOf(){return this.value?this.value.valueOf():null}equals(e){var r;return((r=this.value)===null||r===void 0?void 0:r.equals(e.value))||!1}};sn.OptionValue=Bf;Bf.ClassName="OptionValue";var Lf=class t extends Ss.TypedValue{constructor(e,r){super(e),this.backingCollection=new G4.CollectionOfTypedValues(r)}getClassName(){return t.ClassName}static fromItems(e){if(e.length==0)return new t(new Ss.TypePlaceholder,[]);let r=e[0].getType(),n=new Vu(r);return new t(n,e)}getLength(){return this.backingCollection.getLength()}getItems(){return this.backingCollection.getItems()}valueOf(){return this.backingCollection.valueOf()}equals(e){return this.backingCollection.equals(e.backingCollection)}};sn.List=Lf;Lf.ClassName="List"});var Uf=m(Mo=>{"use strict";c();Object.defineProperty(Mo,"__esModule",{value:!0});Mo.ArrayVec=Mo.ArrayVecType=void 0;var YS=wr(),k4=Vm(),JS=It(),Ff=class t extends JS.Type{constructor(e,r){super("Array",[r]),YS.guardTrue(e>0,"array length > 0"),this.length=e}getClassName(){return t.ClassName}};Mo.ArrayVecType=Ff;Ff.ClassName="ArrayVecType";var Mf=class t extends JS.TypedValue{constructor(e,r){super(e),YS.guardLength(r,e.length),this.backingCollection=new k4.CollectionOfTypedValues(r)}getClassName(){return t.ClassName}getLength(){return this.backingCollection.getLength()}getItems(){return this.backingCollection.getItems()}valueOf(){return this.backingCollection.valueOf()}equals(e){return this.backingCollection.equals(e.backingCollection)}};Mo.ArrayVec=Mf;Mf.ClassName="ArrayVec"});var ku=m(Uo=>{"use strict";c();Object.defineProperty(Uo,"__esModule",{value:!0});Uo.H256Value=Uo.H256Type=void 0;var XS=It(),Gu=class t extends XS.PrimitiveType{constructor(){super("H256")}getClassName(){return t.ClassName}};Uo.H256Type=Gu;Gu.ClassName="H256Type";var qf=class t extends XS.PrimitiveValue{constructor(e){super(new Gu),this.value=e}getClassName(){return t.ClassName}equals(e){return this.value.equals(e.value)}valueOf(){return this.value}};Uo.H256Value=qf;qf.ClassName="H256Value"});var Hf=m(qo=>{"use strict";c();Object.defineProperty(qo,"__esModule",{value:!0});qo.NothingValue=qo.NothingType=void 0;var ZS=It(),ju=class t extends ZS.PrimitiveType{constructor(){super("nothing")}getClassName(){return t.ClassName}};qo.NothingType=ju;ju.ClassName="NothingType";var Vf=class t extends ZS.PrimitiveValue{constructor(){super(new ju)}getClassName(){return t.ClassName}equals(e){return!1}valueOf(){return{}}};qo.NothingValue=Vf;Vf.ClassName="NothingValue"});var tc=m(Ie=>{"use strict";c();var j4=Ie&&Ie.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Q4=Ie&&Ie.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),W4=Ie&&Ie.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&j4(e,t,r);return Q4(e,t),e},$4=Ie&&Ie.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ie,"__esModule",{value:!0});Ie.BigIntValue=Ie.BigUIntValue=Ie.I64Value=Ie.U64Value=Ie.I32Value=Ie.U32Value=Ie.I16Value=Ie.U16Value=Ie.I8Value=Ie.U8Value=Ie.NumericalValue=Ie.BigIntType=Ie.BigUIntType=Ie.I64Type=Ie.U64Type=Ie.I32Type=Ie.U32Type=Ie.I16Type=Ie.U16Type=Ie.I8Type=Ie.U8Type=Ie.NumericalType=void 0;var eT=W4(Be()),tT=It(),Ts=$4(Gt()),ur=class t extends tT.PrimitiveType{constructor(e,r,n){super(e),this.sizeInBytes=r,this.withSign=n}getClassName(){return t.ClassName}hasFixedSize(){return!!this.sizeInBytes}hasArbitrarySize(){return!this.hasFixedSize()}};Ie.NumericalType=ur;ur.ClassName="NumericalType";var Qu=class t extends ur{constructor(){super("u8",1,!1)}getClassName(){return t.ClassName}};Ie.U8Type=Qu;Qu.ClassName="U8Type";var Wu=class t extends ur{constructor(){super("i8",1,!0)}getClassName(){return t.ClassName}};Ie.I8Type=Wu;Wu.ClassName="I8Type";var $u=class t extends ur{constructor(){super("u16",2,!1)}getClassName(){return t.ClassName}};Ie.U16Type=$u;$u.ClassName="U16Type";var zu=class t extends ur{constructor(){super("i16",2,!0)}getClassName(){return t.ClassName}};Ie.I16Type=zu;zu.ClassName="I16Type";var Ku=class t extends ur{constructor(){super("u32",4,!1)}getClassName(){return t.ClassName}};Ie.U32Type=Ku;Ku.ClassName="U32Type";var Yu=class t extends ur{constructor(){super("i32",4,!0)}getClassName(){return t.ClassName}};Ie.I32Type=Yu;Yu.ClassName="I32Type";var Ju=class t extends ur{constructor(){super("u64",8,!1)}getClassName(){return t.ClassName}};Ie.U64Type=Ju;Ju.ClassName="U64Type";var Xu=class t extends ur{constructor(){super("i64",8,!0)}getClassName(){return t.ClassName}};Ie.I64Type=Xu;Xu.ClassName="I64Type";var Zu=class t extends ur{constructor(){super("BigUint",0,!1)}getClassName(){return t.ClassName}};Ie.BigUIntType=Zu;Zu.ClassName="BigUIntType";var ec=class t extends ur{constructor(){super("Bigint",0,!0)}getClassName(){return t.ClassName}};Ie.BigIntType=ec;ec.ClassName="BigIntType";var cr=class t extends tT.PrimitiveValue{constructor(e,r){if(super(e),this.value=new Ts.default(r),this.sizeInBytes=e.sizeInBytes,this.withSign=e.withSign,this.value.isNaN())throw new eT.ErrInvalidArgument(`not a number: ${r}`);if(!this.withSign&&this.value.isNegative())throw new eT.ErrInvalidArgument(`negative, but type is unsigned: ${r}`)}getClassName(){return t.ClassName}equals(e){return this.value.isEqualTo(e.value)}valueOf(){return this.value}toString(){return this.value.toString()}};Ie.NumericalValue=cr;cr.ClassName="NumericalValue";var Gf=class t extends cr{constructor(e){super(new Qu,new Ts.default(e))}getClassName(){return t.ClassName}};Ie.U8Value=Gf;Gf.ClassName="U8Value";var kf=class t extends cr{constructor(e){super(new Wu,new Ts.default(e))}getClassName(){return t.ClassName}};Ie.I8Value=kf;kf.ClassName="I8Value";var jf=class t extends cr{constructor(e){super(new $u,new Ts.default(e))}getClassName(){return t.ClassName}};Ie.U16Value=jf;jf.ClassName="U16Value";var Qf=class t extends cr{constructor(e){super(new zu,new Ts.default(e))}getClassName(){return t.ClassName}};Ie.I16Value=Qf;Qf.ClassName="I16Value";var Wf=class t extends cr{constructor(e){super(new Ku,new Ts.default(e))}getClassName(){return t.ClassName}};Ie.U32Value=Wf;Wf.ClassName="U32Value";var $f=class t extends cr{constructor(e){super(new Yu,new Ts.default(e))}getClassName(){return t.ClassName}};Ie.I32Value=$f;$f.ClassName="I32Value";var zf=class t extends cr{constructor(e){super(new Ju,e)}getClassName(){return t.ClassName}};Ie.U64Value=zf;zf.ClassName="U64Value";var Kf=class t extends cr{constructor(e){super(new Xu,e)}getClassName(){return t.ClassName}};Ie.I64Value=Kf;Kf.ClassName="I64Value";var Yf=class t extends cr{constructor(e){super(new Zu,e)}getClassName(){return t.ClassName}};Ie.BigUIntValue=Yf;Yf.ClassName="BigUIntValue";var Jf=class t extends cr{constructor(e){super(new ec,e)}getClassName(){return t.ClassName}};Ie.BigIntValue=Jf;Jf.ClassName="BigIntValue"});var Zf=m(Vo=>{"use strict";c();Object.defineProperty(Vo,"__esModule",{value:!0});Vo.StringValue=Vo.StringType=void 0;var rT=It(),rc=class t extends rT.PrimitiveType{constructor(){super("utf-8 string")}getClassName(){return t.ClassName}};Vo.StringType=rc;rc.ClassName="StringType";var Xf=class t extends rT.PrimitiveValue{constructor(e){super(new rc),this.value=e}getClassName(){return t.ClassName}static fromUTF8(e){return new t(e)}static fromHex(e){let r=h.Buffer.from(e,"hex").toString();return new t(r)}getLength(){return this.value.length}equals(e){return this.value===e.value}valueOf(){return this.value}};Vo.StringValue=Xf;Xf.ClassName="StringValue"});var Go=m(Ho=>{"use strict";c();Object.defineProperty(Ho,"__esModule",{value:!0});Ho.TokenIdentifierValue=Ho.TokenIdentifierType=void 0;var nT=It(),z4="EGLD",nc=class t extends nT.PrimitiveType{constructor(){super("TokenIdentifier")}getClassName(){return t.ClassName}};Ho.TokenIdentifierType=nc;nc.ClassName="TokenIdentifierType";var eh=class t extends nT.PrimitiveValue{constructor(e){super(new nc),this.value=e}static egld(){return new t(z4)}static esdtTokenIdentifier(e){return new t(e)}getClassName(){return t.ClassName}getLength(){return this.value.length}equals(e){return this.getLength()!=e.getLength()?!1:this.value==e.value}valueOf(){return this.value}toString(){return this.value.toString()}};Ho.TokenIdentifierValue=eh;eh.ClassName="TokenIdentifierValue"});var rh=m(Tr=>{"use strict";c();var K4=Tr&&Tr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Y4=Tr&&Tr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),J4=Tr&&Tr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&K4(e,t,r);return Y4(e,t),e};Object.defineProperty(Tr,"__esModule",{value:!0});Tr.Tuple=Tr.TupleType=void 0;var X4=J4(Be()),iT=So(),sT=Co(),ic=class t extends sT.StructType{constructor(...e){super(t.prepareName(e),t.prepareFieldDefinitions(e))}getClassName(){return t.ClassName}static prepareName(e){return`tuple<${e.map(i=>i.toString()).join(", ")}>`}static prepareFieldDefinitions(e){return e.map((n,i)=>new iT.FieldDefinition(oT(i),"anonymous tuple field",n))}};Tr.TupleType=ic;ic.ClassName="TupleType";function oT(t){return`field${t}`}var th=class t extends sT.Struct{constructor(e,r){super(e,r)}getClassName(){return t.ClassName}static fromItems(e){if(e.length<1)throw new X4.ErrTypingSystem("bad tuple items");let r=e.map(s=>s.getType()),n=new ic(...r),i=e.map((s,o)=>new iT.Field(s,oT(o)));return new t(n,i)}};Tr.Tuple=th;th.ClassName="Tuple"});var sh=m(wi=>{"use strict";c();Object.defineProperty(wi,"__esModule",{value:!0});wi.VariadicValue=wi.CountedVariadicType=wi.VariadicType=void 0;var ko=It(),Cs=class t extends ko.Type{constructor(e,r=!1){super("Variadic",[e],ko.TypeCardinality.variable()),this.isCounted=r}getClassName(){return t.ClassName}};wi.VariadicType=Cs;Cs.ClassName="VariadicType";var nh=class extends ko.Type{constructor(e){super("Variadic",[e],ko.TypeCardinality.variable())}getClassName(){return Cs.ClassName}};wi.CountedVariadicType=nh;nh.ClassName="VariadicType";var ih=class t extends ko.TypedValue{constructor(e,r){super(e),this.items=r}getClassName(){return t.ClassName}static fromItems(...e){return this.createFromItems(e,!1)}static fromItemsCounted(...e){return this.createFromItems(e,!0)}static createFromItems(e,r){if(e.length==0)return new t(new Cs(new ko.TypePlaceholder,r),[]);let n=e[0].getType();return new t(new Cs(n,r),e)}getItems(){return this.items}valueOf(){return this.items.map(e=>e.valueOf())}equals(e){if(this.getType().differs(e.getType()))return!1;for(let r=0;r<this.items.length;r++){let n=this.items[r],i=e.items[r];if(!n.equals(i))return!1}return!0}};wi.VariadicValue=ih;ih.ClassName="VariadicValue"});var jm=m(on=>{"use strict";c();var Z4=on&&on.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),eq=on&&on.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),tq=on&&on.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Z4(e,t,r);return eq(e,t),e};Object.defineProperty(on,"__esModule",{value:!0});on.TypeMapper=void 0;var aT=tq(Be()),rq=Do(),Hm=Cf(),nq=Mu(),iq=mi(),sq=KS(),oh=Pf(),Gm=Du(),oq=So(),uT=Hu(),kn=Uf(),aq=ku(),cT=Hf(),Cr=tc(),uq=Zf(),lT=Co(),fT=Go(),Ei=rh(),ah=sh(),km=class{constructor(e=[]){this.openTypesFactories=new Map([["Option",(...r)=>new uT.OptionType(r[0])],["List",(...r)=>new uT.ListType(r[0])],["VarArgs",(...r)=>new ah.VariadicType(r[0])],["MultiResultVec",(...r)=>new ah.VariadicType(r[0])],["variadic",(...r)=>new ah.VariadicType(r[0])],["counted-variadic",(...r)=>new ah.VariadicType(r[0],!0)],["OptionalArg",(...r)=>new Hm.OptionalType(r[0])],["optional",(...r)=>new Hm.OptionalType(r[0])],["OptionalResult",(...r)=>new Hm.OptionalType(r[0])],["multi",(...r)=>new oh.CompositeType(...r)],["MultiArg",(...r)=>new oh.CompositeType(...r)],["MultiResult",(...r)=>new oh.CompositeType(...r)],["multi",(...r)=>new oh.CompositeType(...r)],["tuple",(...r)=>new Ei.TupleType(...r)],["tuple2",(...r)=>new Ei.TupleType(...r)],["tuple3",(...r)=>new Ei.TupleType(...r)],["tuple4",(...r)=>new Ei.TupleType(...r)],["tuple5",(...r)=>new Ei.TupleType(...r)],["tuple6",(...r)=>new Ei.TupleType(...r)],["tuple7",(...r)=>new Ei.TupleType(...r)],["tuple8",(...r)=>new Ei.TupleType(...r)],["array2",(...r)=>new kn.ArrayVecType(2,r[0])],["array8",(...r)=>new kn.ArrayVecType(8,r[0])],["array16",(...r)=>new kn.ArrayVecType(16,r[0])],["array20",(...r)=>new kn.ArrayVecType(20,r[0])],["array32",(...r)=>new kn.ArrayVecType(32,r[0])],["array46",(...r)=>new kn.ArrayVecType(46,r[0])],["array64",(...r)=>new kn.ArrayVecType(64,r[0])],["array128",(...r)=>new kn.ArrayVecType(128,r[0])],["array256",(...r)=>new kn.ArrayVecType(256,r[0])]]),this.closedTypesMap=new Map([["u8",new Cr.U8Type],["u16",new Cr.U16Type],["u32",new Cr.U32Type],["u64",new Cr.U64Type],["U64",new Cr.U64Type],["BigUint",new Cr.BigUIntType],["i8",new Cr.I8Type],["i16",new Cr.I16Type],["i32",new Cr.I32Type],["i64",new Cr.I64Type],["Bigint",new Cr.BigIntType],["BigInt",new Cr.BigIntType],["bool",new nq.BooleanType],["bytes",new iq.BytesType],["Address",new rq.AddressType],["H256",new aq.H256Type],["utf-8 string",new uq.StringType],["TokenIdentifier",new fT.TokenIdentifierType],["EgldOrEsdtTokenIdentifier",new fT.TokenIdentifierType],["CodeMetadata",new sq.CodeMetadataType],["nothing",new cT.NothingType],["AsyncCall",new cT.NothingType]]),this.learnedTypesMap=new Map;for(let r of e)this.learnedTypesMap.set(r.getName(),r)}mapType(e){let r=this.mapTypeRecursively(e);if(r)return r.isGenericType()||this.learnType(r),r;throw new aT.ErrTypingSystem(`Cannot map the type "${e.getName()}" to a known type`)}mapTypeRecursively(e){let r=e.isGenericType(),n=this.learnedTypesMap.get(e.getName());if(n)return n;let i=this.closedTypesMap.get(e.getName());return i||(e.hasExactClass(Gm.EnumType.ClassName)?this.mapEnumType(e):e.hasExactClass(lT.StructType.ClassName)?this.mapStructType(e):r?this.mapGenericType(e):null)}learnType(e){this.learnedTypesMap.delete(e.getName()),this.learnedTypesMap.set(e.getName(),e)}mapStructType(e){let r=this.mappedFields(e.getFieldsDefinitions());return new lT.StructType(e.getName(),r)}mapEnumType(e){let r=e.variants.map(i=>new Gm.EnumVariantDefinition(i.name,i.discriminant,this.mappedFields(i.getFieldsDefinitions())));return new Gm.EnumType(e.getName(),r)}mappedFields(e){return e.map(r=>new oq.FieldDefinition(r.name,r.description,this.mapType(r.type)))}mapGenericType(e){let n=e.getTypeParameters().map(s=>this.mapType(s)),i=this.openTypesFactories.get(e.getName());if(!i)throw new aT.ErrTypingSystem(`Cannot map the generic type "${e.getName()}" to a known type`);return i(...n)}};on.TypeMapper=km});var yT=m(an=>{"use strict";c();var cq=an&&an.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),lq=an&&an.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),fq=an&&an.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&cq(e,t,r);return lq(e,t),e};Object.defineProperty(an,"__esModule",{value:!0});an.AbiRegistry=void 0;var hT=fq(Be()),Qm=wr(),sc=Tm(),dT=Du(),pT=Co(),hq=jm(),dq="?",Wm=class t{constructor(e){this.endpoints=[],this.customTypes=[],this.name=e.name,this.constructorDefinition=e.constructorDefinition,this.endpoints=e.endpoints,this.customTypes=e.customTypes}static create(e){let r=e.name||dq,n=e.constructor||{},i=e.endpoints||[],s=e.types||{},o=sc.EndpointDefinition.fromJSON(Object.assign({name:"constructor"},n)),a=i.map(d=>sc.EndpointDefinition.fromJSON(d)),u=[];for(let d in s){let g=s[d];if(g.type=="struct")u.push(pT.StructType.fromJSON({name:d,fields:g.fields}));else if(g.type=="enum")u.push(dT.EnumType.fromJSON({name:d,variants:g.variants}));else throw new hT.ErrTypingSystem(`Cannot handle custom type: ${d}`)}return new t({name:r,constructorDefinition:o,endpoints:a,customTypes:u}).remapToKnownTypes()}getStruct(e){let r=this.customTypes.find(n=>n.getName()==e&&n.hasExactClass(pT.StructType.ClassName));return Qm.guardValueIsSetWithMessage(`struct [${e}] not found`,r),r}getStructs(e){return e.map(r=>this.getStruct(r))}getEnum(e){let r=this.customTypes.find(n=>n.getName()==e&&n.hasExactClass(dT.EnumType.ClassName));return Qm.guardValueIsSetWithMessage(`enum [${e}] not found`,r),r}getEnums(e){return e.map(r=>this.getEnum(r))}getEndpoints(){return this.endpoints}getEndpoint(e){let r=this.endpoints.find(n=>n.name==e);return Qm.guardValueIsSetWithMessage(`endpoint [${e}] not found`,r),r}remapToKnownTypes(){let e=new hq.TypeMapper([]),r=[];for(let o of this.customTypes)this.mapCustomTypeDepthFirst(o,this.customTypes,e,r);if(this.customTypes.length!=r.length)throw new hT.ErrTypingSystem("Did not re-map all custom types");let n=gT(this.constructorDefinition,e),i=[];for(let o of this.endpoints)i.push(gT(o,e));return new t({name:this.name,constructorDefinition:n,endpoints:i,customTypes:r})}mapCustomTypeDepthFirst(e,r,n,i){if(i.findIndex(a=>a.getName()==e.getName())>=0)return;for(let a of e.getNamesOfDependencies()){let u=r.find(l=>l.getName()==a);u&&this.mapCustomTypeDepthFirst(u,r,n,i)}let o=n.mapType(e);i.push(o)}};an.AbiRegistry=Wm;function gT(t,e){let r=t.input.map(i=>new sc.EndpointParameterDefinition(i.name,i.description,e.mapType(i.type))),n=t.output.map(i=>new sc.EndpointParameterDefinition(i.name,i.description,e.mapType(i.type)));return new sc.EndpointDefinition(t.name,r,n,t.modifiers)}});var wT=m(jo=>{"use strict";c();Object.defineProperty(jo,"__esModule",{value:!0});jo.createListOfTokenIdentifiers=jo.createListOfAddresses=void 0;var pq=Do(),mT=Hu(),gq=Go();function yq(t){let e=t.map(n=>new pq.AddressValue(n));return mT.List.fromItems(e)}jo.createListOfAddresses=yq;function mq(t){let e=t.map(n=>new gq.TokenIdentifierValue(n));return mT.List.fromItems(e)}jo.createListOfTokenIdentifiers=mq});var PT=m(zt=>{"use strict";c();var wq=zt&&zt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Eq=zt&&zt.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),vq=zt&&zt.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&wq(e,t,r);return Eq(e,t),e};Object.defineProperty(zt,"__esModule",{value:!0});zt.onPrimitiveTypeSelect=zt.onPrimitiveValueSelect=zt.onTypedValueSelect=zt.onTypeSelect=void 0;var ch=vq(Be()),ET=Do(),vT=Mu(),AT=mi(),bT=Du(),uh=Hu(),_T=ku(),IT=tc(),ST=Hf(),TT=Co(),CT=Go(),xT=rh(),NT=It(),OT=Uf(),DT=Zf();function Aq(t,e){if(t.hasExactClass(uh.OptionType.ClassName))return e.onOption();if(t.hasExactClass(uh.ListType.ClassName))return e.onList();if(t.hasExactClass(OT.ArrayVecType.ClassName))return e.onArray();if(t.hasClassOrSuperclass(NT.PrimitiveType.ClassName))return e.onPrimitive();if(t.hasExactClass(TT.StructType.ClassName))return e.onStruct();if(t.hasExactClass(xT.TupleType.ClassName))return e.onTuple();if(t.hasExactClass(bT.EnumType.ClassName))return e.onEnum();if(e.onOther)return e.onOther();throw new ch.ErrTypingSystem(`type isn't known: ${t}`)}zt.onTypeSelect=Aq;function bq(t,e){if(t.hasClassOrSuperclass(NT.PrimitiveValue.ClassName))return e.onPrimitive();if(t.hasExactClass(uh.OptionValue.ClassName))return e.onOption();if(t.hasExactClass(uh.List.ClassName))return e.onList();if(t.hasExactClass(OT.ArrayVec.ClassName))return e.onArray();if(t.hasExactClass(TT.Struct.ClassName))return e.onStruct();if(t.hasExactClass(xT.Tuple.ClassName))return e.onTuple();if(t.hasExactClass(bT.EnumValue.ClassName))return e.onEnum();if(e.onOther)return e.onOther();throw new ch.ErrTypingSystem(`value isn't typed: ${t}`)}zt.onTypedValueSelect=bq;function _q(t,e){if(t.hasExactClass(vT.BooleanValue.ClassName))return e.onBoolean();if(t.hasClassOrSuperclass(IT.NumericalValue.ClassName))return e.onNumerical();if(t.hasExactClass(ET.AddressValue.ClassName))return e.onAddress();if(t.hasExactClass(AT.BytesValue.ClassName))return e.onBytes();if(t.hasExactClass(DT.StringValue.ClassName))return e.onString();if(t.hasExactClass(_T.H256Value.ClassName))return e.onH256();if(t.hasExactClass(CT.TokenIdentifierValue.ClassName))return e.onTypeIdentifier();if(t.hasExactClass(ST.NothingValue.ClassName))return e.onNothing();if(e.onOther)return e.onOther();throw new ch.ErrTypingSystem(`value isn't a primitive: ${t.getType()}`)}zt.onPrimitiveValueSelect=_q;function Iq(t,e){if(t.hasExactClass(vT.BooleanType.ClassName))return e.onBoolean();if(t.hasClassOrSuperclass(IT.NumericalType.ClassName))return e.onNumerical();if(t.hasExactClass(ET.AddressType.ClassName))return e.onAddress();if(t.hasExactClass(AT.BytesType.ClassName))return e.onBytes();if(t.hasExactClass(DT.StringType.ClassName))return e.onString();if(t.hasExactClass(_T.H256Type.ClassName))return e.onH256();if(t.hasExactClass(CT.TokenIdentifierType.ClassName))return e.onTokenIndetifier();if(t.hasExactClass(ST.NothingType.ClassName))return e.onNothing();if(e.onOther)return e.onOther();throw new ch.ErrTypingSystem(`type isn't a known primitive: ${t}`)}zt.onPrimitiveTypeSelect=Iq});var St=m(qe=>{"use strict";c();var Sq=qe&&qe.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),it=qe&&qe.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Sq(e,t,r)};Object.defineProperty(qe,"__esModule",{value:!0});it(yT(),qe);it(Do(),qe);it(Cf(),qe);it(Mu(),qe);it(mi(),qe);it(Pf(),qe);it(Tm(),qe);it(Du(),qe);it(wT(),qe);it(So(),qe);it(Hu(),qe);it(Uf(),qe);it(ku(),qe);it(PT(),qe);it(Hf(),qe);it(tc(),qe);it(Zf(),qe);it(Co(),qe);it(Go(),qe);it(rh(),qe);it(hf(),qe);it(jm(),qe);it(It(),qe);it(sh(),qe)});var BT=m(un=>{"use strict";c();var Tq=un&&un.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Cq=un&&un.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),xq=un&&un.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Tq(e,t,r);return Cq(e,t),e};Object.defineProperty(un,"__esModule",{value:!0});un.OptionValueBinaryCodec=void 0;var RT=xq(Be()),lh=St(),$m=class{constructor(e){this.binaryCodec=e}decodeNested(e,r){if(e[0]==0)return[lh.OptionValue.newMissingTyped(r),1];if(e[0]!=1)throw new RT.ErrCodec("invalid buffer for optional value");let[n,i]=this.binaryCodec.decodeNested(e.slice(1),r);return[lh.OptionValue.newProvided(n),i+1]}decodeTopLevel(e,r){if(e.length==0)return new lh.OptionValue(r);if(e[0]!=1)throw new RT.ErrCodec("invalid buffer for optional value");let[n,i]=this.binaryCodec.decodeNested(e.slice(1),r);return new lh.OptionValue(r,n)}encodeNested(e){return e.isSet()?h.Buffer.concat([h.Buffer.from([1]),this.binaryCodec.encodeNested(e.getTypedValue())]):h.Buffer.from([0])}encodeTopLevel(e){return e.isSet()?h.Buffer.concat([h.Buffer.from([1]),this.binaryCodec.encodeNested(e.getTypedValue())]):h.Buffer.from([])}};un.OptionValueBinaryCodec=$m});var LT=m(fh=>{"use strict";c();Object.defineProperty(fh,"__esModule",{value:!0});fh.AddressBinaryCodec=void 0;var Nq=ht(),Oq=St(),zm=class{decodeNested(e){let r=e.slice(0,32),n=new Nq.Address(r);return[new Oq.AddressValue(n),32]}decodeTopLevel(e){let[r,n]=this.decodeNested(e);return r}encodeNested(e){return e.valueOf().pubkey()}encodeTopLevel(e){return e.valueOf().pubkey()}};fh.AddressBinaryCodec=zm});var MT=m(cn=>{"use strict";c();var Dq=cn&&cn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Pq=cn&&cn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Rq=cn&&cn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Dq(e,t,r);return Pq(e,t),e};Object.defineProperty(cn,"__esModule",{value:!0});cn.BooleanBinaryCodec=void 0;var Bq=Rq(Be()),FT=St(),oc=class t{decodeNested(e){let r=e.readUInt8(0);return[new FT.BooleanValue(r==t.TRUE),1]}decodeTopLevel(e){if(e.length>1)throw new Bq.ErrInvalidArgument("buffer should be of size <= 1");let r=e[0];return new FT.BooleanValue(r==t.TRUE)}encodeNested(e){return e.isTrue()?h.Buffer.from([t.TRUE]):h.Buffer.from([t.FALSE])}encodeTopLevel(e){return e.isTrue()?h.Buffer.from([t.TRUE]):h.Buffer.from([])}};cn.BooleanBinaryCodec=oc;oc.TRUE=1;oc.FALSE=0});var dh=m(hh=>{"use strict";c();Object.defineProperty(hh,"__esModule",{value:!0});hh.SizeOfU32=void 0;hh.SizeOfU32=4});var ph=m(ln=>{"use strict";c();var Lq=ln&&ln.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ln,"__esModule",{value:!0});ln.zeroPadStringIfOddLength=ln.isPaddedHex=ln.numberToPaddedHex=void 0;var Fq=Lq(Gt());function Mq(t){let e=new Fq.default(t).toString(16);return UT(e)}ln.numberToPaddedHex=Mq;function Uq(t){t=t||"";let e=h.Buffer.from(t,"hex").toString("hex");return t.toUpperCase()==e.toUpperCase()}ln.isPaddedHex=Uq;function UT(t){return t=t||"",t.length%2==1?"0"+t:t}ln.zeroPadStringIfOddLength=UT});var ac=m(Tt=>{"use strict";c();var qq=Tt&&Tt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Tt,"__esModule",{value:!0});Tt.prependByteToBuffer=Tt.flipBufferBitsInPlace=Tt.getHexMagnitudeOfBigInt=Tt.bigIntToBuffer=Tt.bufferToBigInt=Tt.cloneBuffer=Tt.isMsbZero=Tt.isMsbOne=void 0;var Km=qq(Gt()),Vq=ph();function qT(t,e=0){return t[e]>>7==1}Tt.isMsbOne=qT;function Hq(t,e=0){return!qT(t,e)}Tt.isMsbZero=Hq;function Gq(t){let e=h.Buffer.alloc(t.length);return t.copy(e),e}Tt.cloneBuffer=Gq;function kq(t){let e=t.toString("hex");return new Km.default(`0x${e}`,16)}Tt.bufferToBigInt=kq;function jq(t){let e=VT(t);return h.Buffer.from(e,"hex")}Tt.bigIntToBuffer=jq;function VT(t){return t=new Km.default(t),t?(t.isNegative()&&(t=t.multipliedBy(new Km.default(-1))),Vq.numberToPaddedHex(t)):""}Tt.getHexMagnitudeOfBigInt=VT;function Qq(t){for(let e=0;e<t.length;e++)t[e]=~t[e]}Tt.flipBufferBitsInPlace=Qq;function Wq(t,e){return h.Buffer.concat([h.Buffer.from([e]),t])}Tt.prependByteToBuffer=Wq});var GT=m(Qo=>{"use strict";c();var $q=Qo&&Qo.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Qo,"__esModule",{value:!0});Qo.NumericalBinaryCodec=void 0;var uc=$q(Gt()),Ym=St(),HT=dh(),wt=ac(),Jm=class{decodeNested(e,r){let n=0,i=r.sizeInBytes;i||(n=HT.SizeOfU32,i=e.readUInt32BE(0));let s=e.slice(n,n+i),o=this.decodeTopLevel(s,r),a=i+n;return[o,a]}decodeTopLevel(e,r){let n=wt.cloneBuffer(e);if(e.length==0)return new Ym.NumericalValue(r,new uc.default(0));if(!r.withSign||wt.isMsbZero(n)){let l=wt.bufferToBigInt(n);return new Ym.NumericalValue(r,l)}wt.flipBufferBitsInPlace(n);let u=wt.bufferToBigInt(n).multipliedBy(new uc.default(-1)).minus(new uc.default(1));return new Ym.NumericalValue(r,u)}encodeNested(e){if(e.sizeInBytes)return this.encodeNestedFixedSize(e,e.sizeInBytes);let r=this.encodeTopLevel(e),n=h.Buffer.alloc(HT.SizeOfU32);return n.writeUInt32BE(r.length),h.Buffer.concat([n,r])}encodeNestedFixedSize(e,r){if(e.value.isZero())return h.Buffer.alloc(r,0);if(!e.withSign){let o=wt.bigIntToBuffer(e.value),a=h.Buffer.alloc(r-o.length,0);return h.Buffer.concat([a,o])}if(e.value.isPositive()){let o=wt.bigIntToBuffer(e.value);wt.isMsbOne(o)&&(o=wt.prependByteToBuffer(o,0));let a=h.Buffer.alloc(r-o.length,0);return h.Buffer.concat([a,o])}let n=e.value.plus(new uc.default(1)),i=wt.bigIntToBuffer(n);wt.flipBufferBitsInPlace(i),wt.isMsbZero(i)&&(i=wt.prependByteToBuffer(i,255));let s=h.Buffer.alloc(r-i.length,255);return h.Buffer.concat([s,i])}encodeTopLevel(e){let r=e.withSign;return e.value.isZero()?h.Buffer.alloc(0):r?this.encodePrimitive(e):wt.bigIntToBuffer(e.value)}encodePrimitive(e){if(e.value.isPositive()){let i=wt.bigIntToBuffer(e.value);return wt.isMsbOne(i)&&(i=wt.prependByteToBuffer(i,0)),i}let r=e.value.plus(new uc.default(1)),n=wt.bigIntToBuffer(r);return wt.flipBufferBitsInPlace(n),wt.isMsbZero(n)&&(n=wt.prependByteToBuffer(n,255)),n}};Qo.NumericalBinaryCodec=Jm});var kT=m(gh=>{"use strict";c();Object.defineProperty(gh,"__esModule",{value:!0});gh.H256BinaryCodec=void 0;var zq=ku(),Xm=class{decodeNested(e){let r=e.slice(0,32);return[new zq.H256Value(r),32]}decodeTopLevel(e){let[r,n]=this.decodeNested(e);return r}encodeNested(e){return e.valueOf()}encodeTopLevel(e){return e.valueOf()}};gh.H256BinaryCodec=Xm});var wh=m(mh=>{"use strict";c();Object.defineProperty(mh,"__esModule",{value:!0});mh.BytesBinaryCodec=void 0;var jT=mi(),yh=dh(),Zm=class{decodeNested(e){let r=e.readUInt32BE(0),n=e.slice(yh.SizeOfU32,yh.SizeOfU32+r);return[new jT.BytesValue(n),yh.SizeOfU32+r]}decodeTopLevel(e){return new jT.BytesValue(e)}encodeNested(e){let r=h.Buffer.alloc(yh.SizeOfU32);return r.writeUInt32BE(e.getLength()),h.Buffer.concat([r,e.valueOf()])}encodeTopLevel(e){return e.valueOf()}};mh.BytesBinaryCodec=Zm});var WT=m(Eh=>{"use strict";c();Object.defineProperty(Eh,"__esModule",{value:!0});Eh.TokenIdentifierCodec=void 0;var Kq=mi(),QT=Go(),Yq=wh(),ew=class{constructor(){this.bytesCodec=new Yq.BytesBinaryCodec}decodeNested(e){let[r,n]=this.bytesCodec.decodeNested(e);return[new QT.TokenIdentifierValue(r.toString()),n]}decodeTopLevel(e){let r=this.bytesCodec.decodeTopLevel(e);return new QT.TokenIdentifierValue(r.toString())}encodeNested(e){let r=Kq.BytesValue.fromUTF8(e.valueOf());return this.bytesCodec.encodeNested(r)}encodeTopLevel(e){return h.Buffer.from(e.valueOf())}};Eh.TokenIdentifierCodec=ew});var zT=m(vh=>{"use strict";c();Object.defineProperty(vh,"__esModule",{value:!0});vh.NothingCodec=void 0;var $T=St(),tw=class{decodeNested(){return[new $T.NothingValue,0]}decodeTopLevel(){return new $T.NothingValue}encodeNested(){return h.Buffer.from([])}encodeTopLevel(){return h.Buffer.from([])}};vh.NothingCodec=tw});var YT=m(Ah=>{"use strict";c();Object.defineProperty(Ah,"__esModule",{value:!0});Ah.StringBinaryCodec=void 0;var KT=St(),Jq=mi(),Xq=wh(),rw=class{constructor(){this.bytesBinaryCodec=new Xq.BytesBinaryCodec}decodeNested(e){let[r,n]=this.bytesBinaryCodec.decodeNested(e);return[new KT.StringValue(r.valueOf().toString()),n]}decodeTopLevel(e){return new KT.StringValue(e.toString())}encodeNested(e){let r=Jq.BytesValue.fromUTF8(e.valueOf());return this.bytesBinaryCodec.encodeNested(r)}encodeTopLevel(e){return h.Buffer.from(e.valueOf())}};Ah.StringBinaryCodec=rw});var JT=m(_h=>{"use strict";c();Object.defineProperty(_h,"__esModule",{value:!0});_h.PrimitiveBinaryCodec=void 0;var bh=St(),Zq=LT(),eV=MT(),tV=GT(),rV=kT(),nV=wh(),iV=WT(),sV=zT(),oV=YT(),nw=class{constructor(e){this.binaryCodec=e,this.booleanCodec=new eV.BooleanBinaryCodec,this.numericalCodec=new tV.NumericalBinaryCodec,this.addressCodec=new Zq.AddressBinaryCodec,this.h256Codec=new rV.H256BinaryCodec,this.bytesCodec=new nV.BytesBinaryCodec,this.stringCodec=new oV.StringBinaryCodec,this.tokenIdentifierCodec=new iV.TokenIdentifierCodec,this.nothingCodec=new sV.NothingCodec}decodeNested(e,r){return bh.onPrimitiveTypeSelect(r,{onBoolean:()=>this.booleanCodec.decodeNested(e),onNumerical:()=>this.numericalCodec.decodeNested(e,r),onAddress:()=>this.addressCodec.decodeNested(e),onBytes:()=>this.bytesCodec.decodeNested(e),onString:()=>this.stringCodec.decodeNested(e),onH256:()=>this.h256Codec.decodeNested(e),onTokenIndetifier:()=>this.tokenIdentifierCodec.decodeNested(e),onNothing:()=>this.nothingCodec.decodeNested()})}decodeTopLevel(e,r){return bh.onPrimitiveTypeSelect(r,{onBoolean:()=>this.booleanCodec.decodeTopLevel(e),onNumerical:()=>this.numericalCodec.decodeTopLevel(e,r),onAddress:()=>this.addressCodec.decodeTopLevel(e),onBytes:()=>this.bytesCodec.decodeTopLevel(e),onString:()=>this.stringCodec.decodeTopLevel(e),onH256:()=>this.h256Codec.decodeTopLevel(e),onTokenIndetifier:()=>this.tokenIdentifierCodec.decodeTopLevel(e),onNothing:()=>this.nothingCodec.decodeTopLevel()})}encodeNested(e){return bh.onPrimitiveValueSelect(e,{onBoolean:()=>this.booleanCodec.encodeNested(e),onNumerical:()=>this.numericalCodec.encodeNested(e),onAddress:()=>this.addressCodec.encodeNested(e),onBytes:()=>this.bytesCodec.encodeNested(e),onString:()=>this.stringCodec.encodeNested(e),onH256:()=>this.h256Codec.encodeNested(e),onTypeIdentifier:()=>this.tokenIdentifierCodec.encodeNested(e),onNothing:()=>this.nothingCodec.encodeNested()})}encodeTopLevel(e){return bh.onPrimitiveValueSelect(e,{onBoolean:()=>this.booleanCodec.encodeTopLevel(e),onNumerical:()=>this.numericalCodec.encodeTopLevel(e),onAddress:()=>this.addressCodec.encodeTopLevel(e),onBytes:()=>this.bytesCodec.encodeTopLevel(e),onString:()=>this.stringCodec.encodeTopLevel(e),onH256:()=>this.h256Codec.encodeTopLevel(e),onTypeIdentifier:()=>this.tokenIdentifierCodec.encodeTopLevel(e),onNothing:()=>this.nothingCodec.encodeTopLevel()})}};_h.PrimitiveBinaryCodec=nw});var eC=m(Ih=>{"use strict";c();Object.defineProperty(Ih,"__esModule",{value:!0});Ih.ListBinaryCodec=void 0;var XT=St(),ZT=dh(),iw=class{constructor(e){this.binaryCodec=e}decodeNested(e,r){let n=r.getFirstTypeParameter(),i=[],s=e.readUInt32BE(0);this.binaryCodec.constraints.checkListLength(s);let o=e,a=ZT.SizeOfU32;e=o.slice(a);for(let u=0;u<s;u++){let[l,f]=this.binaryCodec.decodeNested(e,n);i.push(l),a+=f,e=o.slice(a)}return[new XT.List(r,i),a]}decodeTopLevel(e,r){let n=r.getFirstTypeParameter(),i=[],s=e,o=0;for(;e.length>0;){let[a,u]=this.binaryCodec.decodeNested(e,n);i.push(a),o+=u,e=s.slice(o),this.binaryCodec.constraints.checkListLength(i.length)}return new XT.List(r,i)}encodeNested(e){this.binaryCodec.constraints.checkListLength(e.getLength());let r=h.Buffer.alloc(ZT.SizeOfU32);r.writeUInt32BE(e.getLength());let n=[];for(let s of e.getItems()){let o=this.binaryCodec.encodeNested(s);n.push(o)}return h.Buffer.concat([r,...n])}encodeTopLevel(e){this.binaryCodec.constraints.checkListLength(e.getLength());let r=[];for(let i of e.getItems()){let s=this.binaryCodec.encodeNested(i);r.push(s)}return h.Buffer.concat(r)}};Ih.ListBinaryCodec=iw});var ow=m(Sh=>{"use strict";c();Object.defineProperty(Sh,"__esModule",{value:!0});Sh.FieldsBinaryCodec=void 0;var aV=St(),sw=class{constructor(e){this.binaryCodec=e}decodeNested(e,r){let n=[],i=0;for(let s of r){let[o,a]=this.binaryCodec.decodeNested(e,s.type);e=e.slice(a),i+=a;let u=new aV.Field(o,s.name);n.push(u)}return[n,i]}encodeNested(e){let r=[];for(let n of e){let i=this.binaryCodec.encodeNested(n.value);r.push(i)}return h.Buffer.concat(r)}};Sh.FieldsBinaryCodec=sw});var uw=m(Th=>{"use strict";c();Object.defineProperty(Th,"__esModule",{value:!0});Th.StructBinaryCodec=void 0;var uV=St(),cV=ow(),aw=class{constructor(e){this.fieldsCodec=new cV.FieldsBinaryCodec(e)}decodeTopLevel(e,r){let[n]=this.decodeNested(e,r);return n}decodeNested(e,r){let n=r.getFieldsDefinitions(),[i,s]=this.fieldsCodec.decodeNested(e,n);return[new uV.Struct(r,i),s]}encodeNested(e){let r=e.getFields();return this.fieldsCodec.encodeNested(r)}encodeTopLevel(e){return this.encodeNested(e)}};Th.StructBinaryCodec=aw});var tC=m(xh=>{"use strict";c();Object.defineProperty(xh,"__esModule",{value:!0});xh.EnumBinaryCodec=void 0;var Ch=St(),lV=ow(),cw=class{constructor(e){this.binaryCodec=e,this.fieldsCodec=new lV.FieldsBinaryCodec(e)}decodeTopLevel(e,r){let[n]=this.decodeNested(e,r);return n}decodeNested(e,r){let[n,i]=this.readDiscriminant(e);e=e.slice(i);let s=r.getVariantByDiscriminant(n),o=s.getFieldsDefinitions(),[a,u]=this.fieldsCodec.decodeNested(e,o);return[new Ch.EnumValue(r,s,a),i+u]}readDiscriminant(e){let[r,n]=this.binaryCodec.decodeNested(e,new Ch.U8Type);return[r.valueOf(),n]}encodeNested(e){let r=new Ch.U8Value(e.discriminant),n=this.binaryCodec.encodeNested(r),i=e.getFields(),s=this.fieldsCodec.encodeNested(i);return h.Buffer.concat([n,s])}encodeTopLevel(e){let r=e.getFields(),n=r.length>0,i=this.fieldsCodec.encodeNested(r),s=new Ch.U8Value(e.discriminant),o=n?this.binaryCodec.encodeNested(s):this.binaryCodec.encodeTopLevel(s);return h.Buffer.concat([o,i])}};xh.EnumBinaryCodec=cw});var rC=m(Nh=>{"use strict";c();Object.defineProperty(Nh,"__esModule",{value:!0});Nh.TupleBinaryCodec=void 0;var fV=uw(),lw=class{constructor(e){this.structCodec=new fV.StructBinaryCodec(e)}decodeTopLevel(e,r){return this.structCodec.decodeTopLevel(e,r)}decodeNested(e,r){return this.structCodec.decodeNested(e,r)}encodeNested(e){return this.structCodec.encodeNested(e)}encodeTopLevel(e){return this.structCodec.encodeTopLevel(e)}};Nh.TupleBinaryCodec=lw});var nC=m(Oh=>{"use strict";c();Object.defineProperty(Oh,"__esModule",{value:!0});Oh.ArrayVecBinaryCodec=void 0;var hV=St(),fw=class{constructor(e){this.binaryCodec=e}decodeNested(e,r){let n=r.length,i=r.getFirstTypeParameter(),s=[],o=0;for(let a=0;a<n;a++){let[u,l]=this.binaryCodec.decodeNested(e,i);s.push(u),o+=l,e=e.slice(l)}return[new hV.ArrayVec(r,s),o]}decodeTopLevel(e,r){let[n,i]=this.decodeNested(e,r);return n}encodeNested(e){let r=[];for(let n of e.getItems()){let i=this.binaryCodec.encodeNested(n);r.push(i)}return h.Buffer.concat(r)}encodeTopLevel(e){return this.encodeNested(e)}};Oh.ArrayVecBinaryCodec=fw});var dw=m(xr=>{"use strict";c();var dV=xr&&xr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),pV=xr&&xr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),gV=xr&&xr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&dV(e,t,r);return pV(e,t),e};Object.defineProperty(xr,"__esModule",{value:!0});xr.BinaryCodecConstraints=xr.BinaryCodec=void 0;var iC=gV(Be()),Dh=St(),sC=wr(),yV=BT(),mV=JT(),wV=eC(),EV=uw(),vV=tC(),AV=rC(),bV=nC(),hw=class{constructor(e=null){this.constraints=e||new Ph,this.optionCodec=new yV.OptionValueBinaryCodec(this),this.listCodec=new wV.ListBinaryCodec(this),this.arrayCodec=new bV.ArrayVecBinaryCodec(this),this.primitiveCodec=new mV.PrimitiveBinaryCodec(this),this.structCodec=new EV.StructBinaryCodec(this),this.tupleCodec=new AV.TupleBinaryCodec(this),this.enumCodec=new vV.EnumBinaryCodec(this)}decodeTopLevel(e,r){return this.constraints.checkBufferLength(e),Dh.onTypeSelect(r,{onOption:()=>this.optionCodec.decodeTopLevel(e,r.getFirstTypeParameter()),onList:()=>this.listCodec.decodeTopLevel(e,r),onArray:()=>this.arrayCodec.decodeTopLevel(e,r),onPrimitive:()=>this.primitiveCodec.decodeTopLevel(e,r),onStruct:()=>this.structCodec.decodeTopLevel(e,r),onTuple:()=>this.tupleCodec.decodeTopLevel(e,r),onEnum:()=>this.enumCodec.decodeTopLevel(e,r)})}decodeNested(e,r){this.constraints.checkBufferLength(e);let[n,i]=Dh.onTypeSelect(r,{onOption:()=>this.optionCodec.decodeNested(e,r.getFirstTypeParameter()),onList:()=>this.listCodec.decodeNested(e,r),onArray:()=>this.arrayCodec.decodeNested(e,r),onPrimitive:()=>this.primitiveCodec.decodeNested(e,r),onStruct:()=>this.structCodec.decodeNested(e,r),onTuple:()=>this.tupleCodec.decodeNested(e,r),onEnum:()=>this.enumCodec.decodeNested(e,r)});return[n,i]}encodeNested(e){return sC.guardTrue(e.getType().getCardinality().isSingular(),"singular cardinality, thus encodable type"),Dh.onTypedValueSelect(e,{onPrimitive:()=>this.primitiveCodec.encodeNested(e),onOption:()=>this.optionCodec.encodeNested(e),onList:()=>this.listCodec.encodeNested(e),onArray:()=>this.arrayCodec.encodeNested(e),onStruct:()=>this.structCodec.encodeNested(e),onTuple:()=>this.tupleCodec.encodeNested(e),onEnum:()=>this.enumCodec.encodeNested(e)})}encodeTopLevel(e){return sC.guardTrue(e.getType().getCardinality().isSingular(),"singular cardinality, thus encodable type"),Dh.onTypedValueSelect(e,{onPrimitive:()=>this.primitiveCodec.encodeTopLevel(e),onOption:()=>this.optionCodec.encodeTopLevel(e),onList:()=>this.listCodec.encodeTopLevel(e),onArray:()=>this.arrayCodec.encodeTopLevel(e),onStruct:()=>this.structCodec.encodeTopLevel(e),onTuple:()=>this.tupleCodec.encodeTopLevel(e),onEnum:()=>this.enumCodec.encodeTopLevel(e)})}};xr.BinaryCodec=hw;var Ph=class{constructor(e){this.maxBufferLength=e?.maxBufferLength||256e3,this.maxListLength=e?.maxListLength||128e3}checkBufferLength(e){if(e.length>this.maxBufferLength)throw new iC.ErrCodec(`Buffer too large: ${e.length} > ${this.maxBufferLength}`)}checkListLength(e){if(e>this.maxListLength)throw new iC.ErrCodec(`List too large: ${e} > ${this.maxListLength}`)}};xr.BinaryCodecConstraints=Ph});var oC=m(Nr=>{"use strict";c();var _V=Nr&&Nr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Nr,"__esModule",{value:!0});Nr.decodeBigNumber=Nr.decodeString=Nr.decodeBool=Nr.decodeUnsignedNumber=void 0;var IV=_V(Gt()),Rh=St(),SV=dw(),Bh=new SV.BinaryCodec;function TV(t){let e=Bh.decodeTopLevel(t,new Rh.BigUIntType);return Number(e.valueOf())}Nr.decodeUnsignedNumber=TV;function CV(t){return!!Bh.decodeTopLevel(t,new Rh.BooleanType).valueOf()}Nr.decodeBool=CV;function xV(t){let e=Bh.decodeTopLevel(t,new Rh.BytesType);return String(e.valueOf())}Nr.decodeString=xV;function NV(t){let e=Bh.decodeTopLevel(t,new Rh.BigUIntType);return new IV.default(e.valueOf())}Nr.decodeBigNumber=NV});var pw=m(vi=>{"use strict";c();var OV=vi&&vi.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),aC=vi&&vi.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&OV(e,t,r)};Object.defineProperty(vi,"__esModule",{value:!0});aC(dw(),vi);aC(oC(),vi)});var Wo=m(Lh=>{"use strict";c();Object.defineProperty(Lh,"__esModule",{value:!0});Lh.ArgSerializer=void 0;var uC=bs(),DV=pw(),cC=St(),gw=Cf(),yw=Pf(),mw=sh(),PV={codec:new DV.BinaryCodec},ww=class{constructor(e){e=Object.assign(Object.assign({},PV),e),this.codec=e.codec}stringToValues(e,r){let n=this.stringToBuffers(e);return this.buffersToValues(n,r)}stringToBuffers(e){return e.split(uC.ARGUMENTS_SEPARATOR).map(r=>h.Buffer.from(r,"hex"))}buffersToValues(e,r){let n=this;e=e||[];let i=[],s=0,o=e.length;for(let d=0;d<r.length;d++){let w=r[d].type,E=a(w);i.push(E)}function a(d){if(d.hasExactClass(gw.OptionalType.ClassName)){let w=a(d.getFirstTypeParameter());return new gw.OptionalValue(d,w)}if(d.hasExactClass(mw.VariadicType.ClassName))return u(d);if(d.hasExactClass(yw.CompositeType.ClassName)){let w=[];for(let E of d.getTypeParameters())w.push(a(E));return new yw.CompositeValue(d,w)}return l(d)}function u(d){let g=d,w=[];if(g.isCounted){let E=a(new cC.U32Type).valueOf().toNumber();for(let T=0;T<E;T++)w.push(a(d.getFirstTypeParameter()))}else for(;!f();)w.push(a(d.getFirstTypeParameter()));return new mw.VariadicValue(g,w)}function l(d){if(f())return null;let g=e[s++];return n.codec.decodeTopLevel(g,d)}function f(){return s>=o}return i}valuesToString(e){let r=this.valuesToStrings(e),n=r.join(uC.ARGUMENTS_SEPARATOR),i=r.length;return{argumentsString:n,count:i}}valuesToStrings(e){return this.valuesToBuffers(e).map(i=>i.toString("hex"))}valuesToBuffers(e){let r=this,n=[];for(let o of e)i(o);function i(o){if(o.hasExactClass(gw.OptionalValue.ClassName)){let u=o;u.isSet()&&i(u.getTypedValue());return}if(o.hasExactClass(mw.VariadicValue.ClassName)){s(o);return}if(o.hasExactClass(yw.CompositeValue.ClassName)){let u=o;for(let l of u.getItems())i(l);return}let a=r.codec.encodeTopLevel(o);n.push(a)}function s(o){if(o.getType().isCounted){let u=new cC.U32Value(o.getItems().length);n.push(r.codec.encodeTopLevel(u))}for(let u of o.getItems())i(u)}return n}};Lh.ArgSerializer=ww});var Uh=m(Mh=>{"use strict";c();Object.defineProperty(Mh,"__esModule",{value:!0});Mh.Compatibility=void 0;var RV=ht(),Fh=class{static guardAddressIsSetAndNonZero(e,r,n){this.areWarningsEnabled&&(!e||e.bech32()==""?console.warn(`${r}: address should be set; ${n}. In the future, this will throw an exception instead of emitting a WARN.`):e.bech32()==RV.Address.Zero().bech32()&&console.warn(`${r}: address should not be the 'zero' address (also known as the 'contracts deployment address'); ${n}. In the future, this will throw an exception instead of emitting a WARN.`))}};Mh.Compatibility=Fh;Fh.areWarningsEnabled=!0});var lC=m(fn=>{"use strict";c();var BV=fn&&fn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),LV=fn&&fn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),FV=fn&&fn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&BV(e,t,r);return LV(e,t),e};Object.defineProperty(fn,"__esModule",{value:!0});fn.Hash=void 0;var MV=FV(Be()),Ew=class t{constructor(e){if(!e)this.hash=h.Buffer.from([]);else if(e instanceof h.Buffer)this.hash=e;else if(typeof e=="string")this.hash=h.Buffer.from(e,"hex");else throw new MV.ErrBadType("hash","buffer | string",e)}static empty(){return new t(h.Buffer.from([]))}isEmpty(){return this.hash.length==0}toString(){return this.hex()}hex(){return this.hash.toString("hex")}valueOf(){return this.hash}};fn.Hash=Ew});var cc=m(Or=>{"use strict";c();var UV=Or&&Or.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),qV=Or&&Or.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),VV=Or&&Or.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&UV(e,t,r);return qV(e,t),e};Object.defineProperty(Or,"__esModule",{value:!0});Or.TransactionOptions=Or.TransactionVersion=void 0;var jr=bs(),fC=VV(Be()),vw=class t{constructor(e){if(e=Number(e),e<1)throw new fC.ErrTransactionVersionInvalid(e);this.value=e}static withDefaultVersion(){return new t(jr.TRANSACTION_VERSION_DEFAULT)}static withTxOptions(){return new t(jr.TRANSACTION_VERSION_WITH_OPTIONS)}valueOf(){return this.value}};Or.TransactionVersion=vw;var Aw=class t{constructor(e){if(e=Number(e),e<0)throw new fC.ErrTransactionOptionsInvalid(e);this.value=e}static withDefaultOptions(){return new t(jr.TRANSACTION_OPTIONS_DEFAULT)}static withOptions(e){let r=0;return e.hashSign&&(r|=jr.TRANSACTION_OPTIONS_TX_HASH_SIGN),e.guarded&&(r|=jr.TRANSACTION_OPTIONS_TX_GUARDED),new t(r)}isWithHashSign(){return(this.value&jr.TRANSACTION_OPTIONS_TX_HASH_SIGN)==jr.TRANSACTION_OPTIONS_TX_HASH_SIGN}isWithGuardian(){return(this.value&jr.TRANSACTION_OPTIONS_TX_GUARDED)==jr.TRANSACTION_OPTIONS_TX_GUARDED}setWithHashSign(){this.value|=jr.TRANSACTION_OPTIONS_TX_HASH_SIGN}setWithGuardian(){this.value|=jr.TRANSACTION_OPTIONS_TX_GUARDED}valueOf(){return this.value}};Or.TransactionOptions=Aw});var dC=m((Woe,hC)=>{"use strict";c();hC.exports=HV;function HV(t,e){for(var r=new Array(arguments.length-1),n=0,i=2,s=!0;i<arguments.length;)r[n++]=arguments[i++];return new Promise(function(a,u){r[n]=function(f){if(s)if(s=!1,f)u(f);else{for(var d=new Array(arguments.length-1),g=0;g<d.length;)d[g++]=arguments[g];a.apply(null,d)}};try{t.apply(e||null,r)}catch(l){s&&(s=!1,u(l))}})}});var mC=m(yC=>{"use strict";c();var qh=yC;qh.length=function(e){var r=e.length;if(!r)return 0;for(var n=0;--r%4>1&&e.charAt(r)==="=";)++n;return Math.ceil(e.length*3)/4-n};var $o=new Array(64),gC=new Array(123);for(Qr=0;Qr<64;)gC[$o[Qr]=Qr<26?Qr+65:Qr<52?Qr+71:Qr<62?Qr-4:Qr-59|43]=Qr++;var Qr;qh.encode=function(e,r,n){for(var i=null,s=[],o=0,a=0,u;r<n;){var l=e[r++];switch(a){case 0:s[o++]=$o[l>>2],u=(l&3)<<4,a=1;break;case 1:s[o++]=$o[u|l>>4],u=(l&15)<<2,a=2;break;case 2:s[o++]=$o[u|l>>6],s[o++]=$o[l&63],a=0;break}o>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,s)),o=0)}return a&&(s[o++]=$o[u],s[o++]=61,a===1&&(s[o++]=61)),i?(o&&i.push(String.fromCharCode.apply(String,s.slice(0,o))),i.join("")):String.fromCharCode.apply(String,s.slice(0,o))};var pC="invalid encoding";qh.decode=function(e,r,n){for(var i=n,s=0,o,a=0;a<e.length;){var u=e.charCodeAt(a++);if(u===61&&s>1)break;if((u=gC[u])===void 0)throw Error(pC);switch(s){case 0:o=u,s=1;break;case 1:r[n++]=o<<2|(u&48)>>4,o=u,s=2;break;case 2:r[n++]=(o&15)<<4|(u&60)>>2,o=u,s=3;break;case 3:r[n++]=(o&3)<<6|u,s=0;break}}if(s===1)throw Error(pC);return n-i};qh.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}});var EC=m((Yoe,wC)=>{"use strict";c();wC.exports=Vh;function Vh(){this._listeners={}}Vh.prototype.on=function(e,r,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:r,ctx:n||this}),this};Vh.prototype.off=function(e,r){if(e===void 0)this._listeners={};else if(r===void 0)this._listeners[e]=[];else for(var n=this._listeners[e],i=0;i<n.length;)n[i].fn===r?n.splice(i,1):++i;return this};Vh.prototype.emit=function(e){var r=this._listeners[e];if(r){for(var n=[],i=1;i<arguments.length;)n.push(arguments[i++]);for(i=0;i<r.length;)r[i].fn.apply(r[i++].ctx,n)}return this}});var TC=m((Xoe,SC)=>{"use strict";c();SC.exports=vC(vC);function vC(t){return typeof Float32Array<"u"?function(){var e=new Float32Array([-0]),r=new Uint8Array(e.buffer),n=r[3]===128;function i(u,l,f){e[0]=u,l[f]=r[0],l[f+1]=r[1],l[f+2]=r[2],l[f+3]=r[3]}function s(u,l,f){e[0]=u,l[f]=r[3],l[f+1]=r[2],l[f+2]=r[1],l[f+3]=r[0]}t.writeFloatLE=n?i:s,t.writeFloatBE=n?s:i;function o(u,l){return r[0]=u[l],r[1]=u[l+1],r[2]=u[l+2],r[3]=u[l+3],e[0]}function a(u,l){return r[3]=u[l],r[2]=u[l+1],r[1]=u[l+2],r[0]=u[l+3],e[0]}t.readFloatLE=n?o:a,t.readFloatBE=n?a:o}():function(){function e(n,i,s,o){var a=i<0?1:0;if(a&&(i=-i),i===0)n(1/i>0?0:2147483648,s,o);else if(isNaN(i))n(2143289344,s,o);else if(i>34028234663852886e22)n((a<<31|2139095040)>>>0,s,o);else if(i<11754943508222875e-54)n((a<<31|Math.round(i/1401298464324817e-60))>>>0,s,o);else{var u=Math.floor(Math.log(i)/Math.LN2),l=Math.round(i*Math.pow(2,-u)*8388608)&8388607;n((a<<31|u+127<<23|l)>>>0,s,o)}}t.writeFloatLE=e.bind(null,AC),t.writeFloatBE=e.bind(null,bC);function r(n,i,s){var o=n(i,s),a=(o>>31)*2+1,u=o>>>23&255,l=o&8388607;return u===255?l?NaN:a*(1/0):u===0?a*1401298464324817e-60*l:a*Math.pow(2,u-150)*(l+8388608)}t.readFloatLE=r.bind(null,_C),t.readFloatBE=r.bind(null,IC)}(),typeof Float64Array<"u"?function(){var e=new Float64Array([-0]),r=new Uint8Array(e.buffer),n=r[7]===128;function i(u,l,f){e[0]=u,l[f]=r[0],l[f+1]=r[1],l[f+2]=r[2],l[f+3]=r[3],l[f+4]=r[4],l[f+5]=r[5],l[f+6]=r[6],l[f+7]=r[7]}function s(u,l,f){e[0]=u,l[f]=r[7],l[f+1]=r[6],l[f+2]=r[5],l[f+3]=r[4],l[f+4]=r[3],l[f+5]=r[2],l[f+6]=r[1],l[f+7]=r[0]}t.writeDoubleLE=n?i:s,t.writeDoubleBE=n?s:i;function o(u,l){return r[0]=u[l],r[1]=u[l+1],r[2]=u[l+2],r[3]=u[l+3],r[4]=u[l+4],r[5]=u[l+5],r[6]=u[l+6],r[7]=u[l+7],e[0]}function a(u,l){return r[7]=u[l],r[6]=u[l+1],r[5]=u[l+2],r[4]=u[l+3],r[3]=u[l+4],r[2]=u[l+5],r[1]=u[l+6],r[0]=u[l+7],e[0]}t.readDoubleLE=n?o:a,t.readDoubleBE=n?a:o}():function(){function e(n,i,s,o,a,u){var l=o<0?1:0;if(l&&(o=-o),o===0)n(0,a,u+i),n(1/o>0?0:2147483648,a,u+s);else if(isNaN(o))n(0,a,u+i),n(2146959360,a,u+s);else if(o>17976931348623157e292)n(0,a,u+i),n((l<<31|2146435072)>>>0,a,u+s);else{var f;if(o<22250738585072014e-324)f=o/5e-324,n(f>>>0,a,u+i),n((l<<31|f/4294967296)>>>0,a,u+s);else{var d=Math.floor(Math.log(o)/Math.LN2);d===1024&&(d=1023),f=o*Math.pow(2,-d),n(f*4503599627370496>>>0,a,u+i),n((l<<31|d+1023<<20|f*1048576&1048575)>>>0,a,u+s)}}}t.writeDoubleLE=e.bind(null,AC,0,4),t.writeDoubleBE=e.bind(null,bC,4,0);function r(n,i,s,o,a){var u=n(o,a+i),l=n(o,a+s),f=(l>>31)*2+1,d=l>>>20&2047,g=4294967296*(l&1048575)+u;return d===2047?g?NaN:f*(1/0):d===0?f*5e-324*g:f*Math.pow(2,d-1075)*(g+4503599627370496)}t.readDoubleLE=r.bind(null,_C,0,4),t.readDoubleBE=r.bind(null,IC,4,0)}(),t}function AC(t,e,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}function bC(t,e,r){e[r]=t>>>24,e[r+1]=t>>>16&255,e[r+2]=t>>>8&255,e[r+3]=t&255}function _C(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0}function IC(t,e){return(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}});var CC=m((exports,module)=>{"use strict";c();module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(t){}return null}});var NC=m(xC=>{"use strict";c();var bw=xC;bw.length=function(e){for(var r=0,n=0,i=0;i<e.length;++i)n=e.charCodeAt(i),n<128?r+=1:n<2048?r+=2:(n&64512)===55296&&(e.charCodeAt(i+1)&64512)===56320?(++i,r+=4):r+=3;return r};bw.read=function(e,r,n){var i=n-r;if(i<1)return"";for(var s=null,o=[],a=0,u;r<n;)u=e[r++],u<128?o[a++]=u:u>191&&u<224?o[a++]=(u&31)<<6|e[r++]&63:u>239&&u<365?(u=((u&7)<<18|(e[r++]&63)<<12|(e[r++]&63)<<6|e[r++]&63)-65536,o[a++]=55296+(u>>10),o[a++]=56320+(u&1023)):o[a++]=(u&15)<<12|(e[r++]&63)<<6|e[r++]&63,a>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,o)),a=0);return s?(a&&s.push(String.fromCharCode.apply(String,o.slice(0,a))),s.join("")):String.fromCharCode.apply(String,o.slice(0,a))};bw.write=function(e,r,n){for(var i=n,s,o,a=0;a<e.length;++a)s=e.charCodeAt(a),s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=s&63|128):(s&64512)===55296&&((o=e.charCodeAt(a+1))&64512)===56320?(s=65536+((s&1023)<<10)+(o&1023),++a,r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=s&63|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=s&63|128);return n-i}});var DC=m((nae,OC)=>{"use strict";c();OC.exports=GV;function GV(t,e,r){var n=r||8192,i=n>>>1,s=null,o=n;return function(u){if(u<1||u>i)return t(u);o+u>n&&(s=t(n),o=0);var l=e.call(s,o,o+=u);return o&7&&(o=(o|7)+1),l}}});var RC=m((sae,PC)=>{"use strict";c();PC.exports=Bt;var lc=bi();function Bt(t,e){this.lo=t>>>0,this.hi=e>>>0}var xs=Bt.zero=new Bt(0,0);xs.toNumber=function(){return 0};xs.zzEncode=xs.zzDecode=function(){return this};xs.length=function(){return 1};var kV=Bt.zeroHash="\0\0\0\0\0\0\0\0";Bt.fromNumber=function(e){if(e===0)return xs;var r=e<0;r&&(e=-e);var n=e>>>0,i=(e-n)/4294967296>>>0;return r&&(i=~i>>>0,n=~n>>>0,++n>4294967295&&(n=0,++i>4294967295&&(i=0))),new Bt(n,i)};Bt.from=function(e){if(typeof e=="number")return Bt.fromNumber(e);if(lc.isString(e))if(lc.Long)e=lc.Long.fromString(e);else return Bt.fromNumber(parseInt(e,10));return e.low||e.high?new Bt(e.low>>>0,e.high>>>0):xs};Bt.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var r=~this.lo+1>>>0,n=~this.hi>>>0;return r||(n=n+1>>>0),-(r+n*4294967296)}return this.lo+this.hi*4294967296};Bt.prototype.toLong=function(e){return lc.Long?new lc.Long(this.lo|0,this.hi|0,!!e):{low:this.lo|0,high:this.hi|0,unsigned:!!e}};var Ai=String.prototype.charCodeAt;Bt.fromHash=function(e){return e===kV?xs:new Bt((Ai.call(e,0)|Ai.call(e,1)<<8|Ai.call(e,2)<<16|Ai.call(e,3)<<24)>>>0,(Ai.call(e,4)|Ai.call(e,5)<<8|Ai.call(e,6)<<16|Ai.call(e,7)<<24)>>>0)};Bt.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};Bt.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this};Bt.prototype.zzDecode=function(){var e=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this};Bt.prototype.length=function(){var e=this.lo,r=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return n===0?r===0?e<16384?e<128?1:2:e<2097152?3:4:r<16384?r<128?5:6:r<2097152?7:8:n<128?9:10}});var bi=m(_w=>{"use strict";c();var Ee=_w;Ee.asPromise=dC();Ee.base64=mC();Ee.EventEmitter=EC();Ee.float=TC();Ee.inquire=CC();Ee.utf8=NC();Ee.pool=DC();Ee.LongBits=RC();Ee.isNode=!!(typeof global<"u"&&global&&global.process&&global.process.versions&&global.process.versions.node);Ee.global=Ee.isNode&&global||typeof window<"u"&&window||typeof self<"u"&&self||_w;Ee.emptyArray=Object.freeze?Object.freeze([]):[];Ee.emptyObject=Object.freeze?Object.freeze({}):{};Ee.isInteger=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};Ee.isString=function(e){return typeof e=="string"||e instanceof String};Ee.isObject=function(e){return e&&typeof e=="object"};Ee.isset=Ee.isSet=function(e,r){var n=e[r];return n!=null&&e.hasOwnProperty(r)?typeof n!="object"||(Array.isArray(n)?n.length:Object.keys(n).length)>0:!1};Ee.Buffer=function(){try{var t=Ee.inquire("buffer").Buffer;return t.prototype.utf8Write?t:null}catch{return null}}();Ee._Buffer_from=null;Ee._Buffer_allocUnsafe=null;Ee.newBuffer=function(e){return typeof e=="number"?Ee.Buffer?Ee._Buffer_allocUnsafe(e):new Ee.Array(e):Ee.Buffer?Ee._Buffer_from(e):typeof Uint8Array>"u"?e:new Uint8Array(e)};Ee.Array=typeof Uint8Array<"u"?Uint8Array:Array;Ee.Long=Ee.global.dcodeIO&&Ee.global.dcodeIO.Long||Ee.global.Long||Ee.inquire("long");Ee.key2Re=/^true|false|0|1$/;Ee.key32Re=/^-?(?:0|[1-9][0-9]*)$/;Ee.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;Ee.longToHash=function(e){return e?Ee.LongBits.from(e).toHash():Ee.LongBits.zeroHash};Ee.longFromHash=function(e,r){var n=Ee.LongBits.fromHash(e);return Ee.Long?Ee.Long.fromBits(n.lo,n.hi,r):n.toNumber(!!r)};function BC(t,e,r){for(var n=Object.keys(e),i=0;i<n.length;++i)(t[n[i]]===void 0||!r)&&(t[n[i]]=e[n[i]]);return t}Ee.merge=BC;Ee.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)};function LC(t){function e(r,n){if(!(this instanceof e))return new e(r,n);Object.defineProperty(this,"message",{get:function(){return r}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:new Error().stack||""}),n&&BC(this,n)}return e.prototype=Object.create(Error.prototype,{constructor:{value:e,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return t},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),e}Ee.newError=LC;Ee.ProtocolError=LC("ProtocolError");Ee.oneOfGetter=function(e){for(var r={},n=0;n<e.length;++n)r[e[n]]=1;return function(){for(var i=Object.keys(this),s=i.length-1;s>-1;--s)if(r[i[s]]===1&&this[i[s]]!==void 0&&this[i[s]]!==null)return i[s]}};Ee.oneOfSetter=function(e){return function(r){for(var n=0;n<e.length;++n)e[n]!==r&&delete this[e[n]]}};Ee.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};Ee._configure=function(){var t=Ee.Buffer;if(!t){Ee._Buffer_from=Ee._Buffer_allocUnsafe=null;return}Ee._Buffer_from=t.from!==Uint8Array.from&&t.from||function(r,n){return new t(r,n)},Ee._Buffer_allocUnsafe=t.allocUnsafe||function(r){return new t(r)}}});var Ow=m((cae,qC)=>{"use strict";c();qC.exports=Fe;var Dr=bi(),Iw,Hh=Dr.LongBits,FC=Dr.base64,MC=Dr.utf8;function fc(t,e,r){this.fn=t,this.len=e,this.next=void 0,this.val=r}function Tw(){}function jV(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function Fe(){this.len=0,this.head=new fc(Tw,0,0),this.tail=this.head,this.states=null}var UC=function(){return Dr.Buffer?function(){return(Fe.create=function(){return new Iw})()}:function(){return new Fe}};Fe.create=UC();Fe.alloc=function(e){return new Dr.Array(e)};Dr.Array!==Array&&(Fe.alloc=Dr.pool(Fe.alloc,Dr.Array.prototype.subarray));Fe.prototype._push=function(e,r,n){return this.tail=this.tail.next=new fc(e,r,n),this.len+=r,this};function Cw(t,e,r){e[r]=t&255}function QV(t,e,r){for(;t>127;)e[r++]=t&127|128,t>>>=7;e[r]=t}function xw(t,e){this.len=t,this.next=void 0,this.val=e}xw.prototype=Object.create(fc.prototype);xw.prototype.fn=QV;Fe.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new xw((e=e>>>0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this};Fe.prototype.int32=function(e){return e<0?this._push(Nw,10,Hh.fromNumber(e)):this.uint32(e)};Fe.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)};function Nw(t,e,r){for(;t.hi;)e[r++]=t.lo&127|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;t.lo>127;)e[r++]=t.lo&127|128,t.lo=t.lo>>>7;e[r++]=t.lo}Fe.prototype.uint64=function(e){var r=Hh.from(e);return this._push(Nw,r.length(),r)};Fe.prototype.int64=Fe.prototype.uint64;Fe.prototype.sint64=function(e){var r=Hh.from(e).zzEncode();return this._push(Nw,r.length(),r)};Fe.prototype.bool=function(e){return this._push(Cw,1,e?1:0)};function Sw(t,e,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}Fe.prototype.fixed32=function(e){return this._push(Sw,4,e>>>0)};Fe.prototype.sfixed32=Fe.prototype.fixed32;Fe.prototype.fixed64=function(e){var r=Hh.from(e);return this._push(Sw,4,r.lo)._push(Sw,4,r.hi)};Fe.prototype.sfixed64=Fe.prototype.fixed64;Fe.prototype.float=function(e){return this._push(Dr.float.writeFloatLE,4,e)};Fe.prototype.double=function(e){return this._push(Dr.float.writeDoubleLE,8,e)};var WV=Dr.Array.prototype.set?function(e,r,n){r.set(e,n)}:function(e,r,n){for(var i=0;i<e.length;++i)r[n+i]=e[i]};Fe.prototype.bytes=function(e){var r=e.length>>>0;if(!r)return this._push(Cw,1,0);if(Dr.isString(e)){var n=Fe.alloc(r=FC.length(e));FC.decode(e,n,0),e=n}return this.uint32(r)._push(WV,r,e)};Fe.prototype.string=function(e){var r=MC.length(e);return r?this.uint32(r)._push(MC.write,r,e):this._push(Cw,1,0)};Fe.prototype.fork=function(){return this.states=new jV(this),this.head=this.tail=new fc(Tw,0,0),this.len=0,this};Fe.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new fc(Tw,0,0),this.len=0),this};Fe.prototype.ldelim=function(){var e=this.head,r=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=r,this.len+=n),this};Fe.prototype.finish=function(){for(var e=this.head.next,r=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,r,n),n+=e.len,e=e.next;return r};Fe._configure=function(t){Iw=t,Fe.create=UC(),Iw._configure()}});var GC=m((fae,HC)=>{"use strict";c();HC.exports=hn;var VC=Ow();(hn.prototype=Object.create(VC.prototype)).constructor=hn;var _i=bi();function hn(){VC.call(this)}hn._configure=function(){hn.alloc=_i._Buffer_allocUnsafe,hn.writeBytesBuffer=_i.Buffer&&_i.Buffer.prototype instanceof Uint8Array&&_i.Buffer.prototype.set.name==="set"?function(e,r,n){r.set(e,n)}:function(e,r,n){if(e.copy)e.copy(r,n,0,e.length);else for(var i=0;i<e.length;)r[n++]=e[i++]}};hn.prototype.bytes=function(e){_i.isString(e)&&(e=_i._Buffer_from(e,"base64"));var r=e.length>>>0;return this.uint32(r),r&&this._push(hn.writeBytesBuffer,r,e),this};function $V(t,e,r){t.length<40?_i.utf8.write(t,e,r):e.utf8Write?e.utf8Write(t,r):e.write(t,r)}hn.prototype.string=function(e){var r=_i.Buffer.byteLength(e);return this.uint32(r),r&&this._push($V,r,e),this};hn._configure()});var Rw=m((dae,$C)=>{"use strict";c();$C.exports=Et;var dn=bi(),Pw,QC=dn.LongBits,zV=dn.utf8;function Wr(t,e){return RangeError("index out of range: "+t.pos+" + "+(e||1)+" > "+t.len)}function Et(t){this.buf=t,this.pos=0,this.len=t.length}var kC=typeof Uint8Array<"u"?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new Et(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new Et(e);throw Error("illegal buffer")},WC=function(){return dn.Buffer?function(r){return(Et.create=function(i){return dn.Buffer.isBuffer(i)?new Pw(i):kC(i)})(r)}:kC};Et.create=WC();Et.prototype._slice=dn.Array.prototype.subarray||dn.Array.prototype.slice;Et.prototype.uint32=function(){var e=4294967295;return function(){if(e=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(e=(e|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,Wr(this,10);return e}}();Et.prototype.int32=function(){return this.uint32()|0};Et.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(e&1)|0};function Dw(){var t=new QC(0,0),e=0;if(this.len-this.pos>4){for(;e<4;++e)if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(this.buf[this.pos]&127)<<28)>>>0,t.hi=(t.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return t;e=0}else{for(;e<3;++e){if(this.pos>=this.len)throw Wr(this);if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(this.buf[this.pos++]&127)<<e*7)>>>0,t}if(this.len-this.pos>4){for(;e<5;++e)if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}else for(;e<5;++e){if(this.pos>=this.len)throw Wr(this);if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}Et.prototype.bool=function(){return this.uint32()!==0};function Gh(t,e){return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0}Et.prototype.fixed32=function(){if(this.pos+4>this.len)throw Wr(this,4);return Gh(this.buf,this.pos+=4)};Et.prototype.sfixed32=function(){if(this.pos+4>this.len)throw Wr(this,4);return Gh(this.buf,this.pos+=4)|0};function jC(){if(this.pos+8>this.len)throw Wr(this,8);return new QC(Gh(this.buf,this.pos+=4),Gh(this.buf,this.pos+=4))}Et.prototype.float=function(){if(this.pos+4>this.len)throw Wr(this,4);var e=dn.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e};Et.prototype.double=function(){if(this.pos+8>this.len)throw Wr(this,4);var e=dn.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e};Et.prototype.bytes=function(){var e=this.uint32(),r=this.pos,n=this.pos+e;if(n>this.len)throw Wr(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(r,n):r===n?new this.buf.constructor(0):this._slice.call(this.buf,r,n)};Et.prototype.string=function(){var e=this.bytes();return zV.read(e,0,e.length)};Et.prototype.skip=function(e){if(typeof e=="number"){if(this.pos+e>this.len)throw Wr(this,e);this.pos+=e}else do if(this.pos>=this.len)throw Wr(this);while(this.buf[this.pos++]&128);return this};Et.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(t=this.uint32()&7)!==4;)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this};Et._configure=function(t){Pw=t,Et.create=WC(),Pw._configure();var e=dn.Long?"toLong":"toNumber";dn.merge(Et.prototype,{int64:function(){return Dw.call(this)[e](!1)},uint64:function(){return Dw.call(this)[e](!0)},sint64:function(){return Dw.call(this).zzDecode()[e](!1)},fixed64:function(){return jC.call(this)[e](!0)},sfixed64:function(){return jC.call(this)[e](!1)}})}});var JC=m((gae,YC)=>{"use strict";c();YC.exports=Ns;var KC=Rw();(Ns.prototype=Object.create(KC.prototype)).constructor=Ns;var zC=bi();function Ns(t){KC.call(this,t)}Ns._configure=function(){zC.Buffer&&(Ns.prototype._slice=zC.Buffer.prototype.slice)};Ns.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))};Ns._configure()});var ZC=m((mae,XC)=>{"use strict";c();XC.exports=hc;var Bw=bi();(hc.prototype=Object.create(Bw.EventEmitter.prototype)).constructor=hc;function hc(t,e,r){if(typeof t!="function")throw TypeError("rpcImpl must be a function");Bw.EventEmitter.call(this),this.rpcImpl=t,this.requestDelimited=!!e,this.responseDelimited=!!r}hc.prototype.rpcCall=function t(e,r,n,i,s){if(!i)throw TypeError("request must be specified");var o=this;if(!s)return Bw.asPromise(t,o,e,r,n,i);if(!o.rpcImpl){setTimeout(function(){s(Error("already ended"))},0);return}try{return o.rpcImpl(e,r[o.requestDelimited?"encodeDelimited":"encode"](i).finish(),function(u,l){if(u)return o.emit("error",u,e),s(u);if(l===null){o.end(!0);return}if(!(l instanceof n))try{l=n[o.responseDelimited?"decodeDelimited":"decode"](l)}catch(f){return o.emit("error",f,e),s(f)}return o.emit("data",l,e),s(null,l)})}catch(a){o.emit("error",a,e),setTimeout(function(){s(a)},0);return}};hc.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}});var tx=m(ex=>{"use strict";c();var KV=ex;KV.Service=ZC()});var nx=m((Aae,rx)=>{"use strict";c();rx.exports={}});var ox=m(sx=>{"use strict";c();var lr=sx;lr.build="minimal";lr.Writer=Ow();lr.BufferWriter=GC();lr.Reader=Rw();lr.BufferReader=JC();lr.util=bi();lr.rpc=tx();lr.roots=nx();lr.configure=ix;function ix(){lr.util._configure(),lr.Writer._configure(lr.BufferWriter),lr.Reader._configure(lr.BufferReader)}ix()});var ux=m((Sae,ax)=>{"use strict";c();ax.exports=ox()});var lx=m((Cae,cx)=>{"use strict";c();var zo=ux(),kh=zo.Reader,YV=zo.Writer,X=zo.util,dc=zo.roots.default||(zo.roots.default={});dc.proto=function(){var t={};return t.Transaction=function(){function e(r){if(r)for(var n=Object.keys(r),i=0;i<n.length;++i)r[n[i]]!=null&&(this[n[i]]=r[n[i]])}return e.prototype.Nonce=X.Long?X.Long.fromBits(0,0,!0):0,e.prototype.Value=X.newBuffer([]),e.prototype.RcvAddr=X.newBuffer([]),e.prototype.RcvUserName=X.newBuffer([]),e.prototype.SndAddr=X.newBuffer([]),e.prototype.SndUserName=X.newBuffer([]),e.prototype.GasPrice=X.Long?X.Long.fromBits(0,0,!0):0,e.prototype.GasLimit=X.Long?X.Long.fromBits(0,0,!0):0,e.prototype.Data=X.newBuffer([]),e.prototype.ChainID=X.newBuffer([]),e.prototype.Version=0,e.prototype.Signature=X.newBuffer([]),e.prototype.Options=0,e.prototype.GuardAddr=X.newBuffer([]),e.prototype.GuardSignature=X.newBuffer([]),e.create=function(n){return new e(n)},e.encode=function(n,i){return i||(i=YV.create()),n.Nonce!=null&&Object.hasOwnProperty.call(n,"Nonce")&&i.uint32(8).uint64(n.Nonce),n.Value!=null&&Object.hasOwnProperty.call(n,"Value")&&i.uint32(18).bytes(n.Value),n.RcvAddr!=null&&Object.hasOwnProperty.call(n,"RcvAddr")&&i.uint32(26).bytes(n.RcvAddr),n.RcvUserName!=null&&Object.hasOwnProperty.call(n,"RcvUserName")&&i.uint32(34).bytes(n.RcvUserName),n.SndAddr!=null&&Object.hasOwnProperty.call(n,"SndAddr")&&i.uint32(42).bytes(n.SndAddr),n.SndUserName!=null&&Object.hasOwnProperty.call(n,"SndUserName")&&i.uint32(50).bytes(n.SndUserName),n.GasPrice!=null&&Object.hasOwnProperty.call(n,"GasPrice")&&i.uint32(56).uint64(n.GasPrice),n.GasLimit!=null&&Object.hasOwnProperty.call(n,"GasLimit")&&i.uint32(64).uint64(n.GasLimit),n.Data!=null&&Object.hasOwnProperty.call(n,"Data")&&i.uint32(74).bytes(n.Data),n.ChainID!=null&&Object.hasOwnProperty.call(n,"ChainID")&&i.uint32(82).bytes(n.ChainID),n.Version!=null&&Object.hasOwnProperty.call(n,"Version")&&i.uint32(88).uint32(n.Version),n.Signature!=null&&Object.hasOwnProperty.call(n,"Signature")&&i.uint32(98).bytes(n.Signature),n.Options!=null&&Object.hasOwnProperty.call(n,"Options")&&i.uint32(104).uint32(n.Options),n.GuardAddr!=null&&Object.hasOwnProperty.call(n,"GuardAddr")&&i.uint32(114).bytes(n.GuardAddr),n.GuardSignature!=null&&Object.hasOwnProperty.call(n,"GuardSignature")&&i.uint32(122).bytes(n.GuardSignature),i},e.encodeDelimited=function(n,i){return this.encode(n,i).ldelim()},e.decode=function(n,i){n instanceof kh||(n=kh.create(n));for(var s=i===void 0?n.len:n.pos+i,o=new dc.proto.Transaction;n.pos<s;){var a=n.uint32();switch(a>>>3){case 1:o.Nonce=n.uint64();break;case 2:o.Value=n.bytes();break;case 3:o.RcvAddr=n.bytes();break;case 4:o.RcvUserName=n.bytes();break;case 5:o.SndAddr=n.bytes();break;case 6:o.SndUserName=n.bytes();break;case 7:o.GasPrice=n.uint64();break;case 8:o.GasLimit=n.uint64();break;case 9:o.Data=n.bytes();break;case 10:o.ChainID=n.bytes();break;case 11:o.Version=n.uint32();break;case 12:o.Signature=n.bytes();break;case 13:o.Options=n.uint32();break;case 14:o.GuardAddr=n.bytes();break;case 15:o.GuardSignature=n.bytes();break;default:n.skipType(a&7);break}}return o},e.decodeDelimited=function(n){return n instanceof kh||(n=new kh(n)),this.decode(n,n.uint32())},e.verify=function(n){return typeof n!="object"||n===null?"object expected":n.Nonce!=null&&n.hasOwnProperty("Nonce")&&!X.isInteger(n.Nonce)&&!(n.Nonce&&X.isInteger(n.Nonce.low)&&X.isInteger(n.Nonce.high))?"Nonce: integer|Long expected":n.Value!=null&&n.hasOwnProperty("Value")&&!(n.Value&&typeof n.Value.length=="number"||X.isString(n.Value))?"Value: buffer expected":n.RcvAddr!=null&&n.hasOwnProperty("RcvAddr")&&!(n.RcvAddr&&typeof n.RcvAddr.length=="number"||X.isString(n.RcvAddr))?"RcvAddr: buffer expected":n.RcvUserName!=null&&n.hasOwnProperty("RcvUserName")&&!(n.RcvUserName&&typeof n.RcvUserName.length=="number"||X.isString(n.RcvUserName))?"RcvUserName: buffer expected":n.SndAddr!=null&&n.hasOwnProperty("SndAddr")&&!(n.SndAddr&&typeof n.SndAddr.length=="number"||X.isString(n.SndAddr))?"SndAddr: buffer expected":n.SndUserName!=null&&n.hasOwnProperty("SndUserName")&&!(n.SndUserName&&typeof n.SndUserName.length=="number"||X.isString(n.SndUserName))?"SndUserName: buffer expected":n.GasPrice!=null&&n.hasOwnProperty("GasPrice")&&!X.isInteger(n.GasPrice)&&!(n.GasPrice&&X.isInteger(n.GasPrice.low)&&X.isInteger(n.GasPrice.high))?"GasPrice: integer|Long expected":n.GasLimit!=null&&n.hasOwnProperty("GasLimit")&&!X.isInteger(n.GasLimit)&&!(n.GasLimit&&X.isInteger(n.GasLimit.low)&&X.isInteger(n.GasLimit.high))?"GasLimit: integer|Long expected":n.Data!=null&&n.hasOwnProperty("Data")&&!(n.Data&&typeof n.Data.length=="number"||X.isString(n.Data))?"Data: buffer expected":n.ChainID!=null&&n.hasOwnProperty("ChainID")&&!(n.ChainID&&typeof n.ChainID.length=="number"||X.isString(n.ChainID))?"ChainID: buffer expected":n.Version!=null&&n.hasOwnProperty("Version")&&!X.isInteger(n.Version)?"Version: integer expected":n.Signature!=null&&n.hasOwnProperty("Signature")&&!(n.Signature&&typeof n.Signature.length=="number"||X.isString(n.Signature))?"Signature: buffer expected":n.Options!=null&&n.hasOwnProperty("Options")&&!X.isInteger(n.Options)?"Options: integer expected":n.GuardAddr!=null&&n.hasOwnProperty("GuardAddr")&&!(n.GuardAddr&&typeof n.GuardAddr.length=="number"||X.isString(n.GuardAddr))?"GuardAddr: buffer expected":n.GuardSignature!=null&&n.hasOwnProperty("GuardSignature")&&!(n.GuardSignature&&typeof n.GuardSignature.length=="number"||X.isString(n.GuardSignature))?"GuardSignature: buffer expected":null},e.fromObject=function(n){if(n instanceof dc.proto.Transaction)return n;var i=new dc.proto.Transaction;return n.Nonce!=null&&(X.Long?(i.Nonce=X.Long.fromValue(n.Nonce)).unsigned=!0:typeof n.Nonce=="string"?i.Nonce=parseInt(n.Nonce,10):typeof n.Nonce=="number"?i.Nonce=n.Nonce:typeof n.Nonce=="object"&&(i.Nonce=new X.LongBits(n.Nonce.low>>>0,n.Nonce.high>>>0).toNumber(!0))),n.Value!=null&&(typeof n.Value=="string"?X.base64.decode(n.Value,i.Value=X.newBuffer(X.base64.length(n.Value)),0):n.Value.length&&(i.Value=n.Value)),n.RcvAddr!=null&&(typeof n.RcvAddr=="string"?X.base64.decode(n.RcvAddr,i.RcvAddr=X.newBuffer(X.base64.length(n.RcvAddr)),0):n.RcvAddr.length&&(i.RcvAddr=n.RcvAddr)),n.RcvUserName!=null&&(typeof n.RcvUserName=="string"?X.base64.decode(n.RcvUserName,i.RcvUserName=X.newBuffer(X.base64.length(n.RcvUserName)),0):n.RcvUserName.length&&(i.RcvUserName=n.RcvUserName)),n.SndAddr!=null&&(typeof n.SndAddr=="string"?X.base64.decode(n.SndAddr,i.SndAddr=X.newBuffer(X.base64.length(n.SndAddr)),0):n.SndAddr.length&&(i.SndAddr=n.SndAddr)),n.SndUserName!=null&&(typeof n.SndUserName=="string"?X.base64.decode(n.SndUserName,i.SndUserName=X.newBuffer(X.base64.length(n.SndUserName)),0):n.SndUserName.length&&(i.SndUserName=n.SndUserName)),n.GasPrice!=null&&(X.Long?(i.GasPrice=X.Long.fromValue(n.GasPrice)).unsigned=!0:typeof n.GasPrice=="string"?i.GasPrice=parseInt(n.GasPrice,10):typeof n.GasPrice=="number"?i.GasPrice=n.GasPrice:typeof n.GasPrice=="object"&&(i.GasPrice=new X.LongBits(n.GasPrice.low>>>0,n.GasPrice.high>>>0).toNumber(!0))),n.GasLimit!=null&&(X.Long?(i.GasLimit=X.Long.fromValue(n.GasLimit)).unsigned=!0:typeof n.GasLimit=="string"?i.GasLimit=parseInt(n.GasLimit,10):typeof n.GasLimit=="number"?i.GasLimit=n.GasLimit:typeof n.GasLimit=="object"&&(i.GasLimit=new X.LongBits(n.GasLimit.low>>>0,n.GasLimit.high>>>0).toNumber(!0))),n.Data!=null&&(typeof n.Data=="string"?X.base64.decode(n.Data,i.Data=X.newBuffer(X.base64.length(n.Data)),0):n.Data.length&&(i.Data=n.Data)),n.ChainID!=null&&(typeof n.ChainID=="string"?X.base64.decode(n.ChainID,i.ChainID=X.newBuffer(X.base64.length(n.ChainID)),0):n.ChainID.length&&(i.ChainID=n.ChainID)),n.Version!=null&&(i.Version=n.Version>>>0),n.Signature!=null&&(typeof n.Signature=="string"?X.base64.decode(n.Signature,i.Signature=X.newBuffer(X.base64.length(n.Signature)),0):n.Signature.length&&(i.Signature=n.Signature)),n.Options!=null&&(i.Options=n.Options>>>0),n.GuardAddr!=null&&(typeof n.GuardAddr=="string"?X.base64.decode(n.GuardAddr,i.GuardAddr=X.newBuffer(X.base64.length(n.GuardAddr)),0):n.GuardAddr.length&&(i.GuardAddr=n.GuardAddr)),n.GuardSignature!=null&&(typeof n.GuardSignature=="string"?X.base64.decode(n.GuardSignature,i.GuardSignature=X.newBuffer(X.base64.length(n.GuardSignature)),0):n.GuardSignature.length&&(i.GuardSignature=n.GuardSignature)),i},e.toObject=function(n,i){i||(i={});var s={};if(i.defaults){if(X.Long){var o=new X.Long(0,0,!0);s.Nonce=i.longs===String?o.toString():i.longs===Number?o.toNumber():o}else s.Nonce=i.longs===String?"0":0;if(i.bytes===String?s.Value="":(s.Value=[],i.bytes!==Array&&(s.Value=X.newBuffer(s.Value))),i.bytes===String?s.RcvAddr="":(s.RcvAddr=[],i.bytes!==Array&&(s.RcvAddr=X.newBuffer(s.RcvAddr))),i.bytes===String?s.RcvUserName="":(s.RcvUserName=[],i.bytes!==Array&&(s.RcvUserName=X.newBuffer(s.RcvUserName))),i.bytes===String?s.SndAddr="":(s.SndAddr=[],i.bytes!==Array&&(s.SndAddr=X.newBuffer(s.SndAddr))),i.bytes===String?s.SndUserName="":(s.SndUserName=[],i.bytes!==Array&&(s.SndUserName=X.newBuffer(s.SndUserName))),X.Long){var o=new X.Long(0,0,!0);s.GasPrice=i.longs===String?o.toString():i.longs===Number?o.toNumber():o}else s.GasPrice=i.longs===String?"0":0;if(X.Long){var o=new X.Long(0,0,!0);s.GasLimit=i.longs===String?o.toString():i.longs===Number?o.toNumber():o}else s.GasLimit=i.longs===String?"0":0;i.bytes===String?s.Data="":(s.Data=[],i.bytes!==Array&&(s.Data=X.newBuffer(s.Data))),i.bytes===String?s.ChainID="":(s.ChainID=[],i.bytes!==Array&&(s.ChainID=X.newBuffer(s.ChainID))),s.Version=0,i.bytes===String?s.Signature="":(s.Signature=[],i.bytes!==Array&&(s.Signature=X.newBuffer(s.Signature))),s.Options=0,i.bytes===String?s.GuardAddr="":(s.GuardAddr=[],i.bytes!==Array&&(s.GuardAddr=X.newBuffer(s.GuardAddr))),i.bytes===String?s.GuardSignature="":(s.GuardSignature=[],i.bytes!==Array&&(s.GuardSignature=X.newBuffer(s.GuardSignature)))}return n.Nonce!=null&&n.hasOwnProperty("Nonce")&&(typeof n.Nonce=="number"?s.Nonce=i.longs===String?String(n.Nonce):n.Nonce:s.Nonce=i.longs===String?X.Long.prototype.toString.call(n.Nonce):i.longs===Number?new X.LongBits(n.Nonce.low>>>0,n.Nonce.high>>>0).toNumber(!0):n.Nonce),n.Value!=null&&n.hasOwnProperty("Value")&&(s.Value=i.bytes===String?X.base64.encode(n.Value,0,n.Value.length):i.bytes===Array?Array.prototype.slice.call(n.Value):n.Value),n.RcvAddr!=null&&n.hasOwnProperty("RcvAddr")&&(s.RcvAddr=i.bytes===String?X.base64.encode(n.RcvAddr,0,n.RcvAddr.length):i.bytes===Array?Array.prototype.slice.call(n.RcvAddr):n.RcvAddr),n.RcvUserName!=null&&n.hasOwnProperty("RcvUserName")&&(s.RcvUserName=i.bytes===String?X.base64.encode(n.RcvUserName,0,n.RcvUserName.length):i.bytes===Array?Array.prototype.slice.call(n.RcvUserName):n.RcvUserName),n.SndAddr!=null&&n.hasOwnProperty("SndAddr")&&(s.SndAddr=i.bytes===String?X.base64.encode(n.SndAddr,0,n.SndAddr.length):i.bytes===Array?Array.prototype.slice.call(n.SndAddr):n.SndAddr),n.SndUserName!=null&&n.hasOwnProperty("SndUserName")&&(s.SndUserName=i.bytes===String?X.base64.encode(n.SndUserName,0,n.SndUserName.length):i.bytes===Array?Array.prototype.slice.call(n.SndUserName):n.SndUserName),n.GasPrice!=null&&n.hasOwnProperty("GasPrice")&&(typeof n.GasPrice=="number"?s.GasPrice=i.longs===String?String(n.GasPrice):n.GasPrice:s.GasPrice=i.longs===String?X.Long.prototype.toString.call(n.GasPrice):i.longs===Number?new X.LongBits(n.GasPrice.low>>>0,n.GasPrice.high>>>0).toNumber(!0):n.GasPrice),n.GasLimit!=null&&n.hasOwnProperty("GasLimit")&&(typeof n.GasLimit=="number"?s.GasLimit=i.longs===String?String(n.GasLimit):n.GasLimit:s.GasLimit=i.longs===String?X.Long.prototype.toString.call(n.GasLimit):i.longs===Number?new X.LongBits(n.GasLimit.low>>>0,n.GasLimit.high>>>0).toNumber(!0):n.GasLimit),n.Data!=null&&n.hasOwnProperty("Data")&&(s.Data=i.bytes===String?X.base64.encode(n.Data,0,n.Data.length):i.bytes===Array?Array.prototype.slice.call(n.Data):n.Data),n.ChainID!=null&&n.hasOwnProperty("ChainID")&&(s.ChainID=i.bytes===String?X.base64.encode(n.ChainID,0,n.ChainID.length):i.bytes===Array?Array.prototype.slice.call(n.ChainID):n.ChainID),n.Version!=null&&n.hasOwnProperty("Version")&&(s.Version=n.Version),n.Signature!=null&&n.hasOwnProperty("Signature")&&(s.Signature=i.bytes===String?X.base64.encode(n.Signature,0,n.Signature.length):i.bytes===Array?Array.prototype.slice.call(n.Signature):n.Signature),n.Options!=null&&n.hasOwnProperty("Options")&&(s.Options=n.Options),n.GuardAddr!=null&&n.hasOwnProperty("GuardAddr")&&(s.GuardAddr=i.bytes===String?X.base64.encode(n.GuardAddr,0,n.GuardAddr.length):i.bytes===Array?Array.prototype.slice.call(n.GuardAddr):n.GuardAddr),n.GuardSignature!=null&&n.hasOwnProperty("GuardSignature")&&(s.GuardSignature=i.bytes===String?X.base64.encode(n.GuardSignature,0,n.GuardSignature.length):i.bytes===Array?Array.prototype.slice.call(n.GuardSignature):n.GuardSignature),s},e.prototype.toJSON=function(){return this.constructor.toObject(this,zo.util.toJSONOptions)},e}(),t}();cx.exports=dc});var fx=m(Pr=>{"use strict";c();var JV=Pr&&Pr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),XV=Pr&&Pr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),ZV=Pr&&Pr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&JV(e,t,r);return XV(e,t),e},eH=Pr&&Pr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Pr,"__esModule",{value:!0});Pr.ProtoSerializer=void 0;var tH=eH(Gt()),Lw=ht(),rH=bs(),nH=ZV(Be()),iH=ac(),Fw=class{serializeTransaction(e){let r=lx().proto,n=new Lw.Address(e.getReceiver().bech32()).pubkey(),i=new Lw.Address(e.getSender().bech32()).pubkey(),s=new r.Transaction({Nonce:e.getNonce().valueOf()?e.getNonce().valueOf():void 0,Value:this.serializeTransactionValue(e.getValue()),RcvAddr:n,RcvUserName:e.getReceiverUsername()?h.Buffer.from(e.getReceiverUsername()).toString("base64"):void 0,SndAddr:i,SndUserName:e.getSenderUsername()?h.Buffer.from(e.getSenderUsername()).toString("base64"):void 0,GasPrice:e.getGasPrice().valueOf(),GasLimit:e.getGasLimit().valueOf(),Data:e.getData().length()==0?null:e.getData().valueOf(),ChainID:h.Buffer.from(e.getChainID().valueOf()),Version:e.getVersion().valueOf(),Signature:e.getSignature()});if(e.getOptions().valueOf()!==rH.TRANSACTION_OPTIONS_DEFAULT&&(s.Options=e.getOptions().valueOf()),e.isGuardedTransaction()){let u=e.getGuardian();s.GuardAddr=new Lw.Address(u.bech32()).pubkey(),s.GuardSignature=e.getGuardianSignature()}let o=r.Transaction.encode(s).finish();return h.Buffer.from(o)}serializeTransactionValue(e){let r=new tH.default(e.toString());if(r.isZero())return h.Buffer.from([0,0]);let n=iH.bigIntToBuffer(r);return n=h.Buffer.concat([h.Buffer.from([0]),n]),n}deserializeTransaction(e){throw new nH.ErrUnsupportedOperation("deserializeTransaction")}};Pr.ProtoSerializer=Fw});var hx=m(Os=>{"use strict";c();var sH=Os&&Os.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),oH=Os&&Os.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&sH(e,t,r)};Object.defineProperty(Os,"__esModule",{value:!0});oH(fx(),Os)});var jh=m(pn=>{"use strict";c();var aH=pn&&pn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),uH=pn&&pn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),cH=pn&&pn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&aH(e,t,r);return uH(e,t),e};Object.defineProperty(pn,"__esModule",{value:!0});pn.Signature=void 0;var dx=cH(Be()),px=64,Mw=class t{constructor(e){if(this.valueHex="",!!e){if(typeof e=="string")return t.fromHex(e);if(e instanceof h.Buffer)return t.fromBuffer(e)}}static empty(){return new t}static fromHex(e){if(e.startsWith("0x")&&(e=e.slice(2)),!t.isValidHex(e))throw new dx.ErrSignatureCannotCreate(e);return t.fromValidHex(e)}static isValidHex(e){return h.Buffer.from(e,"hex").length==px}static fromValidHex(e){let r=new t;return r.valueHex=e,r}static fromBuffer(e){if(e.length!=px)throw new dx.ErrSignatureCannotCreate(e);return t.fromValidHex(e.toString("hex"))}hex(){return this.valueHex}};pn.Signature=Mw});var jn=m(Qh=>{"use strict";c();Object.defineProperty(Qh,"__esModule",{value:!0});Qh.TransactionPayload=void 0;var Uw=class t{constructor(e){this.data=h.Buffer.from(e||[])}static fromEncoded(e){if(!e)return new t("");let r=h.Buffer.from(e,"base64").toString();return new t(r)}isEmpty(){return this.data.length==0}encoded(){return this.data.toString("base64")}valueOf(){return this.data}toString(){return this.data.toString()}getEncodedArguments(){return this.toString().split("@")}getRawArguments(){return this.getEncodedArguments().map(e=>h.Buffer.from(e,"hex"))}length(){return h.Buffer.from(this.data).length}};Qh.TransactionPayload=Uw});var qw=m((Mae,gx)=>{c();Qn.notEqual=fH;Qn.notOk=hH;Qn.equal=lH;Qn.ok=Qn;gx.exports=Qn;function lH(t,e,r){Qn(t==e,r)}function fH(t,e,r){Qn(t!=e,r)}function hH(t,e){Qn(!t,e)}function Qn(t,e){if(!t)throw new Error(e||"AssertionError")}});var Ps=m(Xo=>{"use strict";c();var Vw=C0(),Yo=N0(),yx=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Xo.Buffer=$;Xo.SlowBuffer=wH;Xo.INSPECT_MAX_BYTES=50;var Wh=2147483647;Xo.kMaxLength=Wh;$.TYPED_ARRAY_SUPPORT=dH();!$.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function dH(){try{let t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch{return!1}}Object.defineProperty($.prototype,"parent",{enumerable:!0,get:function(){if($.isBuffer(this))return this.buffer}});Object.defineProperty($.prototype,"offset",{enumerable:!0,get:function(){if($.isBuffer(this))return this.byteOffset}});function Wn(t){if(t>Wh)throw new RangeError('The value "'+t+'" is invalid for option "size"');let e=new Uint8Array(t);return Object.setPrototypeOf(e,$.prototype),e}function $(t,e,r){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return jw(t)}return vx(t,e,r)}$.poolSize=8192;function vx(t,e,r){if(typeof t=="string")return gH(t,e);if(ArrayBuffer.isView(t))return yH(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(gn(t,ArrayBuffer)||t&&gn(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(gn(t,SharedArrayBuffer)||t&&gn(t.buffer,SharedArrayBuffer)))return Gw(t,e,r);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let n=t.valueOf&&t.valueOf();if(n!=null&&n!==t)return $.from(n,e,r);let i=mH(t);if(i)return i;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return $.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}$.from=function(t,e,r){return vx(t,e,r)};Object.setPrototypeOf($.prototype,Uint8Array.prototype);Object.setPrototypeOf($,Uint8Array);function Ax(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function pH(t,e,r){return Ax(t),t<=0?Wn(t):e!==void 0?typeof r=="string"?Wn(t).fill(e,r):Wn(t).fill(e):Wn(t)}$.alloc=function(t,e,r){return pH(t,e,r)};function jw(t){return Ax(t),Wn(t<0?0:Qw(t)|0)}$.allocUnsafe=function(t){return jw(t)};$.allocUnsafeSlow=function(t){return jw(t)};function gH(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!$.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let r=bx(t,e)|0,n=Wn(r),i=n.write(t,e);return i!==r&&(n=n.slice(0,i)),n}function Hw(t){let e=t.length<0?0:Qw(t.length)|0,r=Wn(e);for(let n=0;n<e;n+=1)r[n]=t[n]&255;return r}function yH(t){if(gn(t,Uint8Array)){let e=new Uint8Array(t);return Gw(e.buffer,e.byteOffset,e.byteLength)}return Hw(t)}function Gw(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return e===void 0&&r===void 0?n=new Uint8Array(t):r===void 0?n=new Uint8Array(t,e):n=new Uint8Array(t,e,r),Object.setPrototypeOf(n,$.prototype),n}function mH(t){if($.isBuffer(t)){let e=Qw(t.length)|0,r=Wn(e);return r.length===0||t.copy(r,0,0,e),r}if(t.length!==void 0)return typeof t.length!="number"||$w(t.length)?Wn(0):Hw(t);if(t.type==="Buffer"&&Array.isArray(t.data))return Hw(t.data)}function Qw(t){if(t>=Wh)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Wh.toString(16)+" bytes");return t|0}function wH(t){return+t!=t&&(t=0),$.alloc(+t)}$.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==$.prototype};$.compare=function(e,r){if(gn(e,Uint8Array)&&(e=$.from(e,e.offset,e.byteLength)),gn(r,Uint8Array)&&(r=$.from(r,r.offset,r.byteLength)),!$.isBuffer(e)||!$.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===r)return 0;let n=e.length,i=r.length;for(let s=0,o=Math.min(n,i);s<o;++s)if(e[s]!==r[s]){n=e[s],i=r[s];break}return n<i?-1:i<n?1:0};$.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};$.concat=function(e,r){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return $.alloc(0);let n;if(r===void 0)for(r=0,n=0;n<e.length;++n)r+=e[n].length;let i=$.allocUnsafe(r),s=0;for(n=0;n<e.length;++n){let o=e[n];if(gn(o,Uint8Array))s+o.length>i.length?($.isBuffer(o)||(o=$.from(o)),o.copy(i,s)):Uint8Array.prototype.set.call(i,o,s);else if($.isBuffer(o))o.copy(i,s);else throw new TypeError('"list" argument must be an Array of Buffers');s+=o.length}return i};function bx(t,e){if($.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||gn(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);let r=t.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&r===0)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return kw(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return Dx(t).length;default:if(i)return n?-1:kw(t).length;e=(""+e).toLowerCase(),i=!0}}$.byteLength=bx;function EH(t,e,r){let n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,e>>>=0,r<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return NH(this,e,r);case"utf8":case"utf-8":return Ix(this,e,r);case"ascii":return CH(this,e,r);case"latin1":case"binary":return xH(this,e,r);case"base64":return SH(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return OH(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}$.prototype._isBuffer=!0;function Ds(t,e,r){let n=t[e];t[e]=t[r],t[r]=n}$.prototype.swap16=function(){let e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let r=0;r<e;r+=2)Ds(this,r,r+1);return this};$.prototype.swap32=function(){let e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let r=0;r<e;r+=4)Ds(this,r,r+3),Ds(this,r+1,r+2);return this};$.prototype.swap64=function(){let e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let r=0;r<e;r+=8)Ds(this,r,r+7),Ds(this,r+1,r+6),Ds(this,r+2,r+5),Ds(this,r+3,r+4);return this};$.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?Ix(this,0,e):EH.apply(this,arguments)};$.prototype.toLocaleString=$.prototype.toString;$.prototype.equals=function(e){if(!$.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:$.compare(this,e)===0};$.prototype.inspect=function(){let e="",r=Xo.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"};yx&&($.prototype[yx]=$.prototype.inspect);$.prototype.compare=function(e,r,n,i,s){if(gn(e,Uint8Array)&&(e=$.from(e,e.offset,e.byteLength)),!$.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(r===void 0&&(r=0),n===void 0&&(n=e?e.length:0),i===void 0&&(i=0),s===void 0&&(s=this.length),r<0||n>e.length||i<0||s>this.length)throw new RangeError("out of range index");if(i>=s&&r>=n)return 0;if(i>=s)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,i>>>=0,s>>>=0,this===e)return 0;let o=s-i,a=n-r,u=Math.min(o,a),l=this.slice(i,s),f=e.slice(r,n);for(let d=0;d<u;++d)if(l[d]!==f[d]){o=l[d],a=f[d];break}return o<a?-1:a<o?1:0};function _x(t,e,r,n,i){if(t.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,$w(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0)if(i)r=0;else return-1;if(typeof e=="string"&&(e=$.from(e,n)),$.isBuffer(e))return e.length===0?-1:mx(t,e,r,n,i);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):mx(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function mx(t,e,r,n,i){let s=1,o=t.length,a=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(t.length<2||e.length<2)return-1;s=2,o/=2,a/=2,r/=2}function u(f,d){return s===1?f[d]:f.readUInt16BE(d*s)}let l;if(i){let f=-1;for(l=r;l<o;l++)if(u(t,l)===u(e,f===-1?0:l-f)){if(f===-1&&(f=l),l-f+1===a)return f*s}else f!==-1&&(l-=l-f),f=-1}else for(r+a>o&&(r=o-a),l=r;l>=0;l--){let f=!0;for(let d=0;d<a;d++)if(u(t,l+d)!==u(e,d)){f=!1;break}if(f)return l}return-1}$.prototype.includes=function(e,r,n){return this.indexOf(e,r,n)!==-1};$.prototype.indexOf=function(e,r,n){return _x(this,e,r,n,!0)};$.prototype.lastIndexOf=function(e,r,n){return _x(this,e,r,n,!1)};function vH(t,e,r,n){r=Number(r)||0;let i=t.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;let s=e.length;n>s/2&&(n=s/2);let o;for(o=0;o<n;++o){let a=parseInt(e.substr(o*2,2),16);if($w(a))return o;t[r+o]=a}return o}function AH(t,e,r,n){return $h(kw(e,t.length-r),t,r,n)}function bH(t,e,r,n){return $h(BH(e),t,r,n)}function _H(t,e,r,n){return $h(Dx(e),t,r,n)}function IH(t,e,r,n){return $h(LH(e,t.length-r),t,r,n)}$.prototype.write=function(e,r,n,i){if(r===void 0)i="utf8",n=this.length,r=0;else if(n===void 0&&typeof r=="string")i=r,n=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(n)?(n=n>>>0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let s=this.length-r;if((n===void 0||n>s)&&(n=s),e.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let o=!1;for(;;)switch(i){case"hex":return vH(this,e,r,n);case"utf8":case"utf-8":return AH(this,e,r,n);case"ascii":case"latin1":case"binary":return bH(this,e,r,n);case"base64":return _H(this,e,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return IH(this,e,r,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}};$.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function SH(t,e,r){return e===0&&r===t.length?Vw.fromByteArray(t):Vw.fromByteArray(t.slice(e,r))}function Ix(t,e,r){r=Math.min(t.length,r);let n=[],i=e;for(;i<r;){let s=t[i],o=null,a=s>239?4:s>223?3:s>191?2:1;if(i+a<=r){let u,l,f,d;switch(a){case 1:s<128&&(o=s);break;case 2:u=t[i+1],(u&192)===128&&(d=(s&31)<<6|u&63,d>127&&(o=d));break;case 3:u=t[i+1],l=t[i+2],(u&192)===128&&(l&192)===128&&(d=(s&15)<<12|(u&63)<<6|l&63,d>2047&&(d<55296||d>57343)&&(o=d));break;case 4:u=t[i+1],l=t[i+2],f=t[i+3],(u&192)===128&&(l&192)===128&&(f&192)===128&&(d=(s&15)<<18|(u&63)<<12|(l&63)<<6|f&63,d>65535&&d<1114112&&(o=d))}}o===null?(o=65533,a=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|o&1023),n.push(o),i+=a}return TH(n)}var wx=4096;function TH(t){let e=t.length;if(e<=wx)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=wx));return r}function CH(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]&127);return n}function xH(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function NH(t,e,r){let n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let i="";for(let s=e;s<r;++s)i+=FH[t[s]];return i}function OH(t,e,r){let n=t.slice(e,r),i="";for(let s=0;s<n.length-1;s+=2)i+=String.fromCharCode(n[s]+n[s+1]*256);return i}$.prototype.slice=function(e,r){let n=this.length;e=~~e,r=r===void 0?n:~~r,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<e&&(r=e);let i=this.subarray(e,r);return Object.setPrototypeOf(i,$.prototype),i};function Lt(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}$.prototype.readUintLE=$.prototype.readUIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||Lt(e,r,this.length);let i=this[e],s=1,o=0;for(;++o<r&&(s*=256);)i+=this[e+o]*s;return i};$.prototype.readUintBE=$.prototype.readUIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||Lt(e,r,this.length);let i=this[e+--r],s=1;for(;r>0&&(s*=256);)i+=this[e+--r]*s;return i};$.prototype.readUint8=$.prototype.readUInt8=function(e,r){return e=e>>>0,r||Lt(e,1,this.length),this[e]};$.prototype.readUint16LE=$.prototype.readUInt16LE=function(e,r){return e=e>>>0,r||Lt(e,2,this.length),this[e]|this[e+1]<<8};$.prototype.readUint16BE=$.prototype.readUInt16BE=function(e,r){return e=e>>>0,r||Lt(e,2,this.length),this[e]<<8|this[e+1]};$.prototype.readUint32LE=$.prototype.readUInt32LE=function(e,r){return e=e>>>0,r||Lt(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};$.prototype.readUint32BE=$.prototype.readUInt32BE=function(e,r){return e=e>>>0,r||Lt(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};$.prototype.readBigUInt64LE=Ii(function(e){e=e>>>0,Jo(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&pc(e,this.length-8);let i=r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,s=this[++e]+this[++e]*2**8+this[++e]*2**16+n*2**24;return BigInt(i)+(BigInt(s)<<BigInt(32))});$.prototype.readBigUInt64BE=Ii(function(e){e=e>>>0,Jo(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&pc(e,this.length-8);let i=r*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],s=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n;return(BigInt(i)<<BigInt(32))+BigInt(s)});$.prototype.readIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||Lt(e,r,this.length);let i=this[e],s=1,o=0;for(;++o<r&&(s*=256);)i+=this[e+o]*s;return s*=128,i>=s&&(i-=Math.pow(2,8*r)),i};$.prototype.readIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||Lt(e,r,this.length);let i=r,s=1,o=this[e+--i];for(;i>0&&(s*=256);)o+=this[e+--i]*s;return s*=128,o>=s&&(o-=Math.pow(2,8*r)),o};$.prototype.readInt8=function(e,r){return e=e>>>0,r||Lt(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};$.prototype.readInt16LE=function(e,r){e=e>>>0,r||Lt(e,2,this.length);let n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};$.prototype.readInt16BE=function(e,r){e=e>>>0,r||Lt(e,2,this.length);let n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};$.prototype.readInt32LE=function(e,r){return e=e>>>0,r||Lt(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};$.prototype.readInt32BE=function(e,r){return e=e>>>0,r||Lt(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};$.prototype.readBigInt64LE=Ii(function(e){e=e>>>0,Jo(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&pc(e,this.length-8);let i=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(n<<24);return(BigInt(i)<<BigInt(32))+BigInt(r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)});$.prototype.readBigInt64BE=Ii(function(e){e=e>>>0,Jo(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&pc(e,this.length-8);let i=(r<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(i)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n)});$.prototype.readFloatLE=function(e,r){return e=e>>>0,r||Lt(e,4,this.length),Yo.read(this,e,!0,23,4)};$.prototype.readFloatBE=function(e,r){return e=e>>>0,r||Lt(e,4,this.length),Yo.read(this,e,!1,23,4)};$.prototype.readDoubleLE=function(e,r){return e=e>>>0,r||Lt(e,8,this.length),Yo.read(this,e,!0,52,8)};$.prototype.readDoubleBE=function(e,r){return e=e>>>0,r||Lt(e,8,this.length),Yo.read(this,e,!1,52,8)};function fr(t,e,r,n,i,s){if(!$.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<s)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}$.prototype.writeUintLE=$.prototype.writeUIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){let a=Math.pow(2,8*n)-1;fr(this,e,r,n,a,0)}let s=1,o=0;for(this[r]=e&255;++o<n&&(s*=256);)this[r+o]=e/s&255;return r+n};$.prototype.writeUintBE=$.prototype.writeUIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){let a=Math.pow(2,8*n)-1;fr(this,e,r,n,a,0)}let s=n-1,o=1;for(this[r+s]=e&255;--s>=0&&(o*=256);)this[r+s]=e/o&255;return r+n};$.prototype.writeUint8=$.prototype.writeUInt8=function(e,r,n){return e=+e,r=r>>>0,n||fr(this,e,r,1,255,0),this[r]=e&255,r+1};$.prototype.writeUint16LE=$.prototype.writeUInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||fr(this,e,r,2,65535,0),this[r]=e&255,this[r+1]=e>>>8,r+2};$.prototype.writeUint16BE=$.prototype.writeUInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||fr(this,e,r,2,65535,0),this[r]=e>>>8,this[r+1]=e&255,r+2};$.prototype.writeUint32LE=$.prototype.writeUInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||fr(this,e,r,4,4294967295,0),this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=e&255,r+4};$.prototype.writeUint32BE=$.prototype.writeUInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||fr(this,e,r,4,4294967295,0),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};function Sx(t,e,r,n,i){Ox(e,n,i,t,r,7);let s=Number(e&BigInt(4294967295));t[r++]=s,s=s>>8,t[r++]=s,s=s>>8,t[r++]=s,s=s>>8,t[r++]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=o,o=o>>8,t[r++]=o,o=o>>8,t[r++]=o,o=o>>8,t[r++]=o,r}function Tx(t,e,r,n,i){Ox(e,n,i,t,r,7);let s=Number(e&BigInt(4294967295));t[r+7]=s,s=s>>8,t[r+6]=s,s=s>>8,t[r+5]=s,s=s>>8,t[r+4]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=o,o=o>>8,t[r+2]=o,o=o>>8,t[r+1]=o,o=o>>8,t[r]=o,r+8}$.prototype.writeBigUInt64LE=Ii(function(e,r=0){return Sx(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});$.prototype.writeBigUInt64BE=Ii(function(e,r=0){return Tx(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});$.prototype.writeIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){let u=Math.pow(2,8*n-1);fr(this,e,r,n,u-1,-u)}let s=0,o=1,a=0;for(this[r]=e&255;++s<n&&(o*=256);)e<0&&a===0&&this[r+s-1]!==0&&(a=1),this[r+s]=(e/o>>0)-a&255;return r+n};$.prototype.writeIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){let u=Math.pow(2,8*n-1);fr(this,e,r,n,u-1,-u)}let s=n-1,o=1,a=0;for(this[r+s]=e&255;--s>=0&&(o*=256);)e<0&&a===0&&this[r+s+1]!==0&&(a=1),this[r+s]=(e/o>>0)-a&255;return r+n};$.prototype.writeInt8=function(e,r,n){return e=+e,r=r>>>0,n||fr(this,e,r,1,127,-128),e<0&&(e=255+e+1),this[r]=e&255,r+1};$.prototype.writeInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||fr(this,e,r,2,32767,-32768),this[r]=e&255,this[r+1]=e>>>8,r+2};$.prototype.writeInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||fr(this,e,r,2,32767,-32768),this[r]=e>>>8,this[r+1]=e&255,r+2};$.prototype.writeInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||fr(this,e,r,4,2147483647,-2147483648),this[r]=e&255,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24,r+4};$.prototype.writeInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||fr(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};$.prototype.writeBigInt64LE=Ii(function(e,r=0){return Sx(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});$.prototype.writeBigInt64BE=Ii(function(e,r=0){return Tx(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Cx(t,e,r,n,i,s){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function xx(t,e,r,n,i){return e=+e,r=r>>>0,i||Cx(t,e,r,4,34028234663852886e22,-34028234663852886e22),Yo.write(t,e,r,n,23,4),r+4}$.prototype.writeFloatLE=function(e,r,n){return xx(this,e,r,!0,n)};$.prototype.writeFloatBE=function(e,r,n){return xx(this,e,r,!1,n)};function Nx(t,e,r,n,i){return e=+e,r=r>>>0,i||Cx(t,e,r,8,17976931348623157e292,-17976931348623157e292),Yo.write(t,e,r,n,52,8),r+8}$.prototype.writeDoubleLE=function(e,r,n){return Nx(this,e,r,!0,n)};$.prototype.writeDoubleBE=function(e,r,n){return Nx(this,e,r,!1,n)};$.prototype.copy=function(e,r,n,i){if(!$.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),!i&&i!==0&&(i=this.length),r>=e.length&&(r=e.length),r||(r=0),i>0&&i<n&&(i=n),i===n||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-r<i-n&&(i=e.length-r+n);let s=i-n;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,n,i):Uint8Array.prototype.set.call(e,this.subarray(n,i),r),s};$.prototype.fill=function(e,r,n,i){if(typeof e=="string"){if(typeof r=="string"?(i=r,r=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!$.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(e.length===1){let o=e.charCodeAt(0);(i==="utf8"&&o<128||i==="latin1")&&(e=o)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);let s;if(typeof e=="number")for(s=r;s<n;++s)this[s]=e;else{let o=$.isBuffer(e)?e:$.from(e,i),a=o.length;if(a===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(s=0;s<n-r;++s)this[s+r]=o[s%a]}return this};var Ko={};function Ww(t,e,r){Ko[t]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(i){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:i,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}Ww("ERR_BUFFER_OUT_OF_BOUNDS",function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);Ww("ERR_INVALID_ARG_TYPE",function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`},TypeError);Ww("ERR_OUT_OF_RANGE",function(t,e,r){let n=`The value of "${t}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=Ex(String(r)):typeof r=="bigint"&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=Ex(i)),i+="n"),n+=` It must be ${e}. Received ${i}`,n},RangeError);function Ex(t){let e="",r=t.length,n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function DH(t,e,r){Jo(e,"offset"),(t[e]===void 0||t[e+r]===void 0)&&pc(e,t.length-(r+1))}function Ox(t,e,r,n,i,s){if(t>r||t<e){let o=typeof e=="bigint"?"n":"",a;throw s>3?e===0||e===BigInt(0)?a=`>= 0${o} and < 2${o} ** ${(s+1)*8}${o}`:a=`>= -(2${o} ** ${(s+1)*8-1}${o}) and < 2 ** ${(s+1)*8-1}${o}`:a=`>= ${e}${o} and <= ${r}${o}`,new Ko.ERR_OUT_OF_RANGE("value",a,t)}DH(n,i,s)}function Jo(t,e){if(typeof t!="number")throw new Ko.ERR_INVALID_ARG_TYPE(e,"number",t)}function pc(t,e,r){throw Math.floor(t)!==t?(Jo(t,r),new Ko.ERR_OUT_OF_RANGE(r||"offset","an integer",t)):e<0?new Ko.ERR_BUFFER_OUT_OF_BOUNDS:new Ko.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}var PH=/[^+/0-9A-Za-z-_]/g;function RH(t){if(t=t.split("=")[0],t=t.trim().replace(PH,""),t.length<2)return"";for(;t.length%4!==0;)t=t+"=";return t}function kw(t,e){e=e||1/0;let r,n=t.length,i=null,s=[];for(let o=0;o<n;++o){if(r=t.charCodeAt(o),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(o+1===n){(e-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&s.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(e-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;s.push(r)}else if(r<2048){if((e-=2)<0)break;s.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;s.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return s}function BH(t){let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r)&255);return e}function LH(t,e){let r,n,i,s=[];for(let o=0;o<t.length&&!((e-=2)<0);++o)r=t.charCodeAt(o),n=r>>8,i=r%256,s.push(i),s.push(n);return s}function Dx(t){return Vw.toByteArray(RH(t))}function $h(t,e,r,n){let i;for(i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function gn(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function $w(t){return t!==t}var FH=function(){let t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){let n=r*16;for(let i=0;i<16;++i)e[n+i]=t[r]+t[i]}return e}();function Ii(t){return typeof BigInt>"u"?MH:t}function MH(){throw new Error("BigInt not supported")}});var Rx=m((Gae,Px)=>{c();Px.exports=zw;zw.supported=typeof WebAssembly<"u";function zw(t){if(!zw.supported)return null;var e=t&&t.imports,r=UH("AGFzbQEAAAABEANgAn9/AGADf39/AGABfwADBQQAAQICBQUBAQroBwdNBQZtZW1vcnkCAAxibGFrZTJiX2luaXQAAA5ibGFrZTJiX3VwZGF0ZQABDWJsYWtlMmJfZmluYWwAAhBibGFrZTJiX2NvbXByZXNzAAMK00AElgMAIABCADcDACAAQQhqQgA3AwAgAEEQakIANwMAIABBGGpCADcDACAAQSBqQgA3AwAgAEEoakIANwMAIABBMGpCADcDACAAQThqQgA3AwAgAEHAAGpCADcDACAAQcgAakIANwMAIABB0ABqQgA3AwAgAEHYAGpCADcDACAAQeAAakIANwMAIABB6ABqQgA3AwAgAEHwAGpCADcDACAAQfgAakIANwMAIABBgAFqQoiS853/zPmE6gBBACkDAIU3AwAgAEGIAWpCu86qptjQ67O7f0EIKQMAhTcDACAAQZABakKr8NP0r+68tzxBECkDAIU3AwAgAEGYAWpC8e30+KWn/aelf0EYKQMAhTcDACAAQaABakLRhZrv+s+Uh9EAQSApAwCFNwMAIABBqAFqQp/Y+dnCkdqCm39BKCkDAIU3AwAgAEGwAWpC6/qG2r+19sEfQTApAwCFNwMAIABBuAFqQvnC+JuRo7Pw2wBBOCkDAIU3AwAgAEHAAWpCADcDACAAQcgBakIANwMAIABB0AFqQgA3AwALbQEDfyAAQcABaiEDIABByAFqIQQgBCkDAKchBQJAA0AgASACRg0BIAVBgAFGBEAgAyADKQMAIAWtfDcDAEEAIQUgABADCyAAIAVqIAEtAAA6AAAgBUEBaiEFIAFBAWohAQwACwsgBCAFrTcDAAtkAQN/IABBwAFqIQEgAEHIAWohAiABIAEpAwAgAikDAHw3AwAgAEHQAWpCfzcDACACKQMApyEDAkADQCADQYABRg0BIAAgA2pBADoAACADQQFqIQMMAAsLIAIgA603AwAgABADC+U7AiB+CX8gAEGAAWohISAAQYgBaiEiIABBkAFqISMgAEGYAWohJCAAQaABaiElIABBqAFqISYgAEGwAWohJyAAQbgBaiEoICEpAwAhASAiKQMAIQIgIykDACEDICQpAwAhBCAlKQMAIQUgJikDACEGICcpAwAhByAoKQMAIQhCiJLznf/M+YTqACEJQrvOqqbY0Ouzu38hCkKr8NP0r+68tzwhC0Lx7fT4paf9p6V/IQxC0YWa7/rPlIfRACENQp/Y+dnCkdqCm38hDkLr+obav7X2wR8hD0L5wvibkaOz8NsAIRAgACkDACERIABBCGopAwAhEiAAQRBqKQMAIRMgAEEYaikDACEUIABBIGopAwAhFSAAQShqKQMAIRYgAEEwaikDACEXIABBOGopAwAhGCAAQcAAaikDACEZIABByABqKQMAIRogAEHQAGopAwAhGyAAQdgAaikDACEcIABB4ABqKQMAIR0gAEHoAGopAwAhHiAAQfAAaikDACEfIABB+ABqKQMAISAgDSAAQcABaikDAIUhDSAPIABB0AFqKQMAhSEPIAEgBSARfHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgEnx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBN8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAUfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgFXx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIBZ8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAXfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggGHx8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBl8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAafHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgG3x8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBx8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAdfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggHnx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIB98fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAgfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgH3x8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBt8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAVfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgGXx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBp8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAgfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggHnx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBd8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiASfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgHXx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBF8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByATfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggHHx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBh8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAWfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgFHx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIBx8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAZfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgHXx8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBF8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAWfHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgE3x8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIICB8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAefHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgG3x8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIB98fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAUfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgF3x8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBh8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCASfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgGnx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBV8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAYfHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgGnx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBR8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiASfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgHnx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIB18fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAcfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggH3x8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBN8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAXfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgFnx8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBt8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAVfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggEXx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFICB8fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAZfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgGnx8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBF8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAWfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgGHx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBN8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAVfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggG3x8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIICB8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAffHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgEnx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBx8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAdfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggF3x8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBl8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAUfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgHnx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIBN8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAdfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgF3x8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBt8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByARfHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgHHx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBl8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAUfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgFXx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIB58fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAYfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgFnx8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIICB8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCAffHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgEnx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBp8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAdfHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgFnx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBJ8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAgfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgH3x8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIB58fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAVfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggG3x8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBF8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAYfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgF3x8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBR8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAafHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggE3x8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIBl8fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAcfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgHnx8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBx8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAYfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgH3x8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIB18fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByASfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggFHx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBp8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAWfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgEXx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHICB8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAVfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggGXx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBd8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSATfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgG3x8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIBd8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAgfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgH3x8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBp8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAcfHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgFHx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBF8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAZfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgHXx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIBN8fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAefHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgGHx8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBJ8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCAVfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgG3x8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBZ8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAbfHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgE3x8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBl8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAVfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgGHx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIBd8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCASfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggFnx8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGICB8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAcfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgGnx8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIB98fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAUfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggHXx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIB58fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSARfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgEXx8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBJ8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiATfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgFHx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBV8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAWfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggF3x8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBh8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAZfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgGnx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBt8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAcfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggHXx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIB58fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAffHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgIHx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIB98fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAbfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgFXx8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBl8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAafHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgIHx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIB58fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAXfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgEnx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIB18fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByARfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgE3x8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBx8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCAYfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgFnx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBR8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFICEgISkDACABIAmFhTcDACAiICIpAwAgAiAKhYU3AwAgIyAjKQMAIAMgC4WFNwMAICQgJCkDACAEIAyFhTcDACAlICUpAwAgBSANhYU3AwAgJiAmKQMAIAYgDoWFNwMAICcgJykDACAHIA+FhTcDACAoICgpAwAgCCAQhYU3AwAL"),n=null,i={buffer:r,memory:null,exports:null,realloc:s,onload:o};return o(function(){}),i;function s(u){i.exports.memory.grow(Math.ceil(Math.abs(u-i.memory.length)/65536)),i.memory=new Uint8Array(i.exports.memory.buffer)}function o(u){if(i.exports)return u();if(n){n.then(u.bind(null,null)).catch(u);return}try{if(t&&t.async)throw new Error("async");a({instance:new WebAssembly.Instance(new WebAssembly.Module(r),e)})}catch{n=WebAssembly.instantiate(r,e).then(a)}o(u)}function a(u){i.exports=u.instance.exports,i.memory=i.exports.memory&&i.exports.memory.buffer&&new Uint8Array(i.exports.memory.buffer)}}function UH(t){return typeof atob=="function"?new Uint8Array(atob(t).split("").map(qH)):new(Ps()).Buffer(t,"base64")}function qH(t){return t.charCodeAt(0)}});var Vx=m((Wae,mn)=>{c();var yn=qw(),Ke=Rx()(),$n=64,zh=[];mn.exports=Rr;var Bx=mn.exports.BYTES_MIN=16,Lx=mn.exports.BYTES_MAX=64,jae=mn.exports.BYTES=32,Fx=mn.exports.KEYBYTES_MIN=16,Mx=mn.exports.KEYBYTES_MAX=64,Qae=mn.exports.KEYBYTES=32,Ux=mn.exports.SALTBYTES=16,qx=mn.exports.PERSONALBYTES=16;function Rr(t,e,r,n,i){if(!(this instanceof Rr))return new Rr(t,e,r,n,i);if(!(Ke&&Ke.exports))throw new Error("WASM not loaded. Wait for Blake2b.ready(cb)");t||(t=32),i!==!0&&(yn(t>=Bx,"digestLength must be at least "+Bx+", was given "+t),yn(t<=Lx,"digestLength must be at most "+Lx+", was given "+t),e!=null&&yn(e.length>=Fx,"key must be at least "+Fx+", was given "+e.length),e!=null&&yn(e.length<=Mx,"key must be at least "+Mx+", was given "+e.length),r!=null&&yn(r.length===Ux,"salt must be exactly "+Ux+", was given "+r.length),n!=null&&yn(n.length===qx,"personal must be exactly "+qx+", was given "+n.length)),zh.length||(zh.push($n),$n+=216),this.digestLength=t,this.finalized=!1,this.pointer=zh.pop(),Ke.memory.fill(0,0,64),Ke.memory[0]=this.digestLength,Ke.memory[1]=e?e.length:0,Ke.memory[2]=1,Ke.memory[3]=1,r&&Ke.memory.set(r,32),n&&Ke.memory.set(n,48),this.pointer+216>Ke.memory.length&&Ke.realloc(this.pointer+216),Ke.exports.blake2b_init(this.pointer,this.digestLength),e&&(this.update(e),Ke.memory.fill(0,$n,$n+e.length),Ke.memory[this.pointer+200]=128)}Rr.prototype.update=function(t){return yn(this.finalized===!1,"Hash instance finalized"),yn(t,"input must be TypedArray or Buffer"),$n+t.length>Ke.memory.length&&Ke.realloc($n+t.length),Ke.memory.set(t,$n),Ke.exports.blake2b_update(this.pointer,$n,$n+t.length),this};Rr.prototype.digest=function(t){if(yn(this.finalized===!1,"Hash instance finalized"),this.finalized=!0,zh.push(this.pointer),Ke.exports.blake2b_final(this.pointer),!t||t==="binary")return Ke.memory.slice(this.pointer+128,this.pointer+128+this.digestLength);if(t==="hex")return HH(Ke.memory,this.pointer+128,this.digestLength);yn(t.length>=this.digestLength,"input must be TypedArray or Buffer");for(var e=0;e<this.digestLength;e++)t[e]=Ke.memory[this.pointer+128+e];return t};Rr.prototype.final=Rr.prototype.digest;Rr.WASM=Ke&&Ke.buffer;Rr.SUPPORTED=typeof WebAssembly<"u";Rr.ready=function(t){if(t||(t=VH),!Ke)return t(new Error("WebAssembly not supported"));var e=new Promise(function(r,n){Ke.onload(function(i){i?n():r(),t(i)})});return e};Rr.prototype.ready=Rr.ready;function VH(){}function HH(t,e,r){for(var n="",i=0;i<r;i++)n+=GH(t[e+i]);return n}function GH(t){return t<16?"0"+t.toString(16):t.toString(16)}});var Zx=m((Yae,hr)=>{c();var Ci=qw(),yc=Vx();function Kh(t,e,r){var n=t[e]+t[r],i=t[e+1]+t[r+1];n>=4294967296&&i++,t[e]=n,t[e+1]=i}function Hx(t,e,r,n){var i=t[e]+r;r<0&&(i+=4294967296);var s=t[e+1]+n;i>=4294967296&&s++,t[e]=i,t[e+1]=s}function zx(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function Si(t,e,r,n,i,s){var o=gc[i],a=gc[i+1],u=gc[s],l=gc[s+1];Kh(Ce,t,e),Hx(Ce,t,o,a);var f=Ce[n]^Ce[t],d=Ce[n+1]^Ce[t+1];Ce[n]=d,Ce[n+1]=f,Kh(Ce,r,n),f=Ce[e]^Ce[r],d=Ce[e+1]^Ce[r+1],Ce[e]=f>>>24^d<<8,Ce[e+1]=d>>>24^f<<8,Kh(Ce,t,e),Hx(Ce,t,u,l),f=Ce[n]^Ce[t],d=Ce[n+1]^Ce[t+1],Ce[n]=f>>>16^d<<16,Ce[n+1]=d>>>16^f<<16,Kh(Ce,r,n),f=Ce[e]^Ce[r],d=Ce[e+1]^Ce[r+1],Ce[e]=d>>>31^f<<1,Ce[e+1]=f>>>31^d<<1}var Kx=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),kH=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],Kt=new Uint8Array(kH.map(function(t){return t*2})),Ce=new Uint32Array(32),gc=new Uint32Array(32);function Yx(t,e){var r=0;for(r=0;r<16;r++)Ce[r]=t.h[r],Ce[r+16]=Kx[r];for(Ce[24]=Ce[24]^t.t,Ce[25]=Ce[25]^t.t/4294967296,e&&(Ce[28]=~Ce[28],Ce[29]=~Ce[29]),r=0;r<32;r++)gc[r]=zx(t.b,4*r);for(r=0;r<12;r++)Si(0,8,16,24,Kt[r*16+0],Kt[r*16+1]),Si(2,10,18,26,Kt[r*16+2],Kt[r*16+3]),Si(4,12,20,28,Kt[r*16+4],Kt[r*16+5]),Si(6,14,22,30,Kt[r*16+6],Kt[r*16+7]),Si(0,10,20,30,Kt[r*16+8],Kt[r*16+9]),Si(2,12,22,24,Kt[r*16+10],Kt[r*16+11]),Si(4,14,16,26,Kt[r*16+12],Kt[r*16+13]),Si(6,8,18,28,Kt[r*16+14],Kt[r*16+15]);for(r=0;r<16;r++)t.h[r]=t.h[r]^Ce[r]^Ce[r+16]}var Ti=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function Zo(t,e,r,n){Ti.fill(0),this.b=new Uint8Array(128),this.h=new Uint32Array(16),this.t=0,this.c=0,this.outlen=t,Ti[0]=t,e&&(Ti[1]=e.length),Ti[2]=1,Ti[3]=1,r&&Ti.set(r,32),n&&Ti.set(n,48);for(var i=0;i<16;i++)this.h[i]=Kx[i]^zx(Ti,i*4);e&&(Jx(this,e),this.c=128)}Zo.prototype.update=function(t){return Ci(t!=null,"input must be Uint8Array or Buffer"),Jx(this,t),this};Zo.prototype.digest=function(t){var e=!t||t==="binary"||t==="hex"?new Uint8Array(this.outlen):t;return Ci(e.length>=this.outlen,"out must have at least outlen bytes of space"),jH(this,e),t==="hex"?QH(e):e};Zo.prototype.final=Zo.prototype.digest;Zo.ready=function(t){yc.ready(function(){t()})};function Jx(t,e){for(var r=0;r<e.length;r++)t.c===128&&(t.t+=t.c,Yx(t,!1),t.c=0),t.b[t.c++]=e[r]}function jH(t,e){for(t.t+=t.c;t.c<128;)t.b[t.c++]=0;Yx(t,!0);for(var r=0;r<t.outlen;r++)e[r]=t.h[r>>2]>>8*(r&3);return e}function QH(t){for(var e="",r=0;r<t.length;r++)e+=WH(t[r]);return e}function WH(t){return t<16?"0"+t.toString(16):t.toString(16)}var Xx=Zo;hr.exports=function(e,r,n,i,s){return s!==!0&&(Ci(e>=Gx,"outlen must be at least "+Gx+", was given "+e),Ci(e<=kx,"outlen must be at most "+kx+", was given "+e),r!=null&&Ci(r.length>=jx,"key must be at least "+jx+", was given "+r.length),r!=null&&Ci(r.length<=Qx,"key must be at most "+Qx+", was given "+r.length),n!=null&&Ci(n.length===Wx,"salt must be exactly "+Wx+", was given "+n.length),i!=null&&Ci(i.length===$x,"personal must be exactly "+$x+", was given "+i.length)),new Xx(e,r,n,i)};hr.exports.ready=function(t){yc.ready(function(){t()})};hr.exports.WASM_SUPPORTED=yc.SUPPORTED;hr.exports.WASM_LOADED=!1;var Gx=hr.exports.BYTES_MIN=16,kx=hr.exports.BYTES_MAX=64,zae=hr.exports.BYTES=32,jx=hr.exports.KEYBYTES_MIN=16,Qx=hr.exports.KEYBYTES_MAX=64,Kae=hr.exports.KEYBYTES=32,Wx=hr.exports.SALTBYTES=16,$x=hr.exports.PERSONALBYTES=16;yc.ready(function(t){t||(hr.exports.WASM_LOADED=!0,Xx=yc)})});var wn=m(Br=>{"use strict";c();var $H=Br&&Br.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),zH=Br&&Br.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),KH=Br&&Br.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&$H(e,t,r);return zH(e,t),e};Object.defineProperty(Br,"__esModule",{value:!0});Br.TransactionHash=Br.Transaction=void 0;var ea=Gt(),mc=ht(),YH=Uh(),JH=bs(),XH=KH(Be()),ZH=lC(),zn=cc(),eG=hx(),eN=jh(),tN=jn(),tG=wr(),rG=Zx(),nG=32,Kw=class t{constructor({nonce:e,value:r,sender:n,receiver:i,senderUsername:s,receiverUsername:o,gasPrice:a,gasLimit:u,data:l,chainID:f,version:d,options:g,guardian:w}){this.nonce=e||0,this.value=r?new ea.BigNumber(r.toString()).toFixed(0):0,this.sender=n,this.receiver=i,this.senderUsername=s||"",this.receiverUsername=o||"",this.gasPrice=a||JH.TRANSACTION_MIN_GAS_PRICE,this.gasLimit=u,this.data=l||new tN.TransactionPayload,this.chainID=f,this.version=d?new zn.TransactionVersion(d.valueOf()):zn.TransactionVersion.withDefaultVersion(),this.options=g?new zn.TransactionOptions(g.valueOf()):zn.TransactionOptions.withDefaultOptions(),this.guardian=w||mc.Address.empty(),this.signature=h.Buffer.from([]),this.guardianSignature=h.Buffer.from([]),this.hash=ta.empty()}getNonce(){return this.nonce}setNonce(e){this.nonce=e}getValue(){return this.value}setValue(e){this.value=e}getSender(){return this.sender}setSender(e){this.sender=e}getReceiver(){return this.receiver}getSenderUsername(){return this.senderUsername}setSenderUsername(e){this.senderUsername=e}getReceiverUsername(){return this.receiverUsername}setReceiverUsername(e){this.receiverUsername=e}getGuardian(){return this.guardian}getGasPrice(){return this.gasPrice}setGasPrice(e){this.gasPrice=e}getGasLimit(){return this.gasLimit}setGasLimit(e){this.gasLimit=e}getData(){return this.data}getChainID(){return this.chainID}setChainID(e){this.chainID=e}getVersion(){return this.version}setVersion(e){this.version=new zn.TransactionVersion(e.valueOf())}getOptions(){return new zn.TransactionOptions(this.options.valueOf())}setOptions(e){this.options=new zn.TransactionOptions(e.valueOf())}getSignature(){return this.signature}getGuardianSignature(){return this.guardianSignature}setGuardian(e){this.guardian=e}getHash(){return tG.guardNotEmpty(this.hash,"hash"),this.hash}serializeForSigning(){let e=this.toPlainObject();e.signature&&delete e.signature,e.guardianSignature&&delete e.guardianSignature,e.guardian||delete e.guardian;let r=JSON.stringify(e);return h.Buffer.from(r)}isGuardedTransaction(){let e=this.guardian.bech32().length>0,r=this.guardianSignature.length>0;return this.getOptions().isWithGuardian()&&e&&r}toPlainObject(){var e;let r={nonce:this.nonce.valueOf(),value:this.value.toString(),receiver:this.receiver.bech32(),sender:this.sender.bech32(),senderUsername:this.senderUsername?h.Buffer.from(this.senderUsername).toString("base64"):void 0,receiverUsername:this.receiverUsername?h.Buffer.from(this.receiverUsername).toString("base64"):void 0,gasPrice:this.gasPrice.valueOf(),gasLimit:this.gasLimit.valueOf(),data:this.data.length()==0?void 0:this.data.encoded(),chainID:this.chainID.valueOf(),version:this.getVersion().valueOf(),options:this.getOptions().valueOf()==0?void 0:this.getOptions().valueOf(),guardian:!((e=this.guardian)===null||e===void 0)&&e.bech32()?this.guardian.bech32()==""?void 0:this.guardian.bech32():void 0,signature:this.signature.toString("hex")?this.signature.toString("hex"):void 0,guardianSignature:this.guardianSignature.toString("hex")?this.guardianSignature.toString("hex"):void 0};return YH.Compatibility.guardAddressIsSetAndNonZero(new mc.Address(r.sender),"'sender' of transaction","pass the actual sender to the Transaction constructor"),r}static fromPlainObject(e){let r=new t({nonce:Number(e.nonce),value:new ea.BigNumber(e.value).toFixed(0),receiver:mc.Address.fromString(e.receiver),receiverUsername:e.receiverUsername?h.Buffer.from(e.receiverUsername,"base64").toString():void 0,sender:mc.Address.fromString(e.sender),senderUsername:e.senderUsername?h.Buffer.from(e.senderUsername,"base64").toString():void 0,guardian:e.guardian?mc.Address.fromString(e.guardian):void 0,gasPrice:Number(e.gasPrice),gasLimit:Number(e.gasLimit),data:new tN.TransactionPayload(h.Buffer.from(e.data||"","base64")),chainID:String(e.chainID),version:new zn.TransactionVersion(e.version),options:e.options!=null?new zn.TransactionOptions(e.options):void 0});return e.signature&&r.applySignature(new eN.Signature(e.signature)),e.guardianSignature&&r.applyGuardianSignature(new eN.Signature(e.guardianSignature)),r}applySignature(e){this.signature=this.interpretSignatureAsBuffer(e),this.hash=ta.compute(this)}interpretSignatureAsBuffer(e){if(ArrayBuffer.isView(e))return h.Buffer.from(e);if(e.hex!=null)return h.Buffer.from(e.hex(),"hex");throw new Error(`Object cannot be interpreted as a signature: ${e}`)}applyGuardianSignature(e){this.guardianSignature=this.interpretSignatureAsBuffer(e),this.hash=ta.compute(this)}toSendable(){return this.toPlainObject()}computeFee(e){let r=e.MinGasLimit.valueOf()+this.data.length()*e.GasPerDataByte.valueOf();if(r>this.gasLimit.valueOf())throw new XH.ErrNotEnoughGas(this.gasLimit.valueOf());let n=new ea.BigNumber(this.gasPrice.valueOf()),i=new ea.BigNumber(r).multipliedBy(n);if(r===this.gasLimit.valueOf())return i;let s=new ea.BigNumber(this.gasLimit.valueOf()-r),o=n.multipliedBy(new ea.BigNumber(e.GasPriceModifier.valueOf())),a=s.multipliedBy(o);return i.plus(a)}};Br.Transaction=Kw;var ta=class t extends ZH.Hash{constructor(e){super(e)}static compute(e){let n=new eG.ProtoSerializer().serializeTransaction(e),i=rG(nG).update(n).digest("hex");return new t(i)}};Br.TransactionHash=ta});var Zw=m(Jh=>{"use strict";c();Object.defineProperty(Jh,"__esModule",{value:!0});Jh.TransferTransactionsFactory=void 0;var Yw=Wo(),$r=St(),Yh=wn(),Jw=jn(),Xw=class{constructor(e){this.gasEstimator=e}createEGLDTransfer(e){var r;let n=((r=e.data)===null||r===void 0?void 0:r.length())||0,i=this.gasEstimator.forEGLDTransfer(n);return new Yh.Transaction({nonce:e.nonce,value:e.value,receiver:e.receiver,sender:e.sender,gasPrice:e.gasPrice,gasLimit:e.gasLimit||i,data:e.data,chainID:e.chainID})}createESDTTransfer(e){let{argumentsString:r}=new Yw.ArgSerializer().valuesToString([$r.BytesValue.fromUTF8(e.tokenTransfer.tokenIdentifier),new $r.BigUIntValue(e.tokenTransfer.valueOf())]),n=`ESDTTransfer@${r}`,i=new Jw.TransactionPayload(n),s=i.length()||0,o=this.gasEstimator.forESDTTransfer(s);return new Yh.Transaction({nonce:e.nonce,receiver:e.receiver,sender:e.sender,gasPrice:e.gasPrice,gasLimit:e.gasLimit||o,data:i,chainID:e.chainID})}createESDTNFTTransfer(e){let{argumentsString:r}=new Yw.ArgSerializer().valuesToString([$r.BytesValue.fromUTF8(e.tokenTransfer.tokenIdentifier),new $r.U64Value(e.tokenTransfer.nonce),new $r.BigUIntValue(e.tokenTransfer.valueOf()),new $r.AddressValue(e.destination)]),n=`ESDTNFTTransfer@${r}`,i=new Jw.TransactionPayload(n),s=i.length()||0,o=this.gasEstimator.forESDTNFTTransfer(s);return new Yh.Transaction({nonce:e.nonce,receiver:e.sender,sender:e.sender,gasPrice:e.gasPrice,gasLimit:e.gasLimit||o,data:i,chainID:e.chainID})}createMultiESDTNFTTransfer(e){let r=[new $r.AddressValue(e.destination),new $r.U16Value(e.tokenTransfers.length)];for(let u of e.tokenTransfers)r.push($r.BytesValue.fromUTF8(u.tokenIdentifier),new $r.U64Value(u.nonce),new $r.BigUIntValue(u.valueOf()));let{argumentsString:n}=new Yw.ArgSerializer().valuesToString(r),i=`MultiESDTNFTTransfer@${n}`,s=new Jw.TransactionPayload(i),o=s.length()||0,a=this.gasEstimator.forMultiESDTNFTTransfer(o,e.tokenTransfers.length);return new Yh.Transaction({nonce:e.nonce,receiver:e.sender,sender:e.sender,gasPrice:e.gasPrice,gasLimit:e.gasLimit||a,data:s,chainID:e.chainID})}};Jh.TransferTransactionsFactory=Xw});var tE=m(Rs=>{"use strict";c();Object.defineProperty(Rs,"__esModule",{value:!0});Rs.GasEstimator=Rs.DefaultGasConfiguration=void 0;Rs.DefaultGasConfiguration={minGasLimit:5e4,gasPerDataByte:1500,gasCostESDTTransfer:2e5,gasCostESDTNFTTransfer:2e5,gasCostESDTNFTMultiTransfer:2e5};var iG=1e5,rN=8e5,eE=class{constructor(e){this.gasConfiguration=e||Rs.DefaultGasConfiguration}forEGLDTransfer(e){return this.gasConfiguration.minGasLimit+this.gasConfiguration.gasPerDataByte*e}forESDTTransfer(e){return this.gasConfiguration.minGasLimit+this.gasConfiguration.gasCostESDTTransfer+this.gasConfiguration.gasPerDataByte*e+iG}forESDTNFTTransfer(e){return this.gasConfiguration.minGasLimit+this.gasConfiguration.gasCostESDTNFTTransfer+this.gasConfiguration.gasPerDataByte*e+rN}forMultiESDTNFTTransfer(e,r){return this.gasConfiguration.minGasLimit+(this.gasConfiguration.gasCostESDTNFTMultiTransfer+rN)*r+this.gasConfiguration.gasPerDataByte*e}};Rs.GasEstimator=eE});var ra=m(Xh=>{"use strict";c();Object.defineProperty(Xh,"__esModule",{value:!0});Xh.Account=void 0;var sG=ht(),rE=class{constructor(e){this.address=new sG.Address,this.nonce=0,this.balance="0",this.address=e}update(e){this.nonce=e.nonce,this.balance=e.balance}incrementNonce(){this.nonce=this.nonce.valueOf()+1}getNonceThenIncrement(){let e=this.nonce;return this.nonce=this.nonce.valueOf()+1,e}toJSON(){return{address:this.address.bech32(),nonce:this.nonce.valueOf(),balance:this.balance.toString()}}};Xh.Account=rE});var na=m(Ls=>{"use strict";c();Object.defineProperty(Ls,"__esModule",{value:!0});Ls.Logger=Ls.LogLevel=void 0;var Bs;(function(t){t[t.Trace=0]="Trace",t[t.Debug=1]="Debug",t[t.Info=2]="Info",t[t.Warn=3]="Warn",t[t.Error=4]="Error",t[t.None=5]="None"})(Bs=Ls.LogLevel||(Ls.LogLevel={}));var Zh=class t{static setLevel(e){t.logLevel=e}static trace(e,...r){t.logLevel>=Bs.Debug||console.debug(e,r)}static debug(e,...r){t.logLevel>=Bs.Debug||console.debug(e,r)}static info(e,...r){t.logLevel>=Bs.Info||console.log(e,r)}static warn(e,...r){t.logLevel>=Bs.Warn||console.warn(e,r)}static error(e,...r){t.logLevel>=Bs.Error||console.error(e,r)}};Ls.Logger=Zh;Zh.logLevel=Bs.Debug});var sE=m(En=>{"use strict";c();var oG=En&&En.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),aG=En&&En.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),uG=En&&En.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&oG(e,t,r);return aG(e,t),e};Object.defineProperty(En,"__esModule",{value:!0});En.AsyncTimer=void 0;var cG=uG(Be()),lG=Be(),nE=na(),iE=class{constructor(e){this.timeoutHandle=null,this.rejectionFunc=null,this.name=e,this.correlationTag=0}start(e){if(this.timeoutHandle)throw new cG.ErrAsyncTimerAlreadyRunning;return this.correlationTag++,nE.Logger.trace(`AsyncTimer[${this.name}'${this.correlationTag}].start()`),new Promise((r,n)=>{this.rejectionFunc=n;let i=()=>{this.rejectionFunc=null,this.stop(),r()};this.timeoutHandle=setTimeout(i,e)})}abort(){nE.Logger.trace(`AsyncTimer[${this.name}'${this.correlationTag}].abort()`),this.rejectionFunc&&(this.rejectionFunc(new lG.ErrAsyncTimerAborted),this.rejectionFunc=null),this.stop()}stop(){this.isStopped()||(nE.Logger.trace(`AsyncTimer[${this.name}'${this.correlationTag}].stop()`),this.timeoutHandle&&(clearTimeout(this.timeoutHandle),this.timeoutHandle=null))}isStopped(){return!this.timeoutHandle}};En.AsyncTimer=iE});var ed=m(ia=>{"use strict";c();var Lr=ia&&ia.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(f){try{l(n.next(f))}catch(d){o(d)}}function u(f){try{l(n.throw(f))}catch(d){o(d)}}function l(f){f.done?s(f.value):i(f.value).then(a,u)}l((n=n.apply(t,e||[])).next())})};Object.defineProperty(ia,"__esModule",{value:!0});ia.TransactionWatcher=void 0;var oE=sE(),xi=Be(),nN=na(),Ni=class t{constructor(e,r={}){this.fetcher=new aE(e),this.pollingIntervalMilliseconds=r.pollingIntervalMilliseconds||t.DefaultPollingInterval,this.timeoutMilliseconds=r.timeoutMilliseconds||t.DefaultTimeout,this.patienceMilliseconds=r.patienceMilliseconds||t.DefaultPatience}awaitPending(e){return Lr(this,void 0,void 0,function*(){let r=s=>s.status.isPending(),n=()=>Lr(this,void 0,void 0,function*(){return yield this.fetcher.getTransaction(e.getHash().hex())}),i=()=>new xi.ErrExpectedTransactionStatusNotReached;return this.awaitConditionally(r,n,i)})}awaitCompleted(e){return Lr(this,void 0,void 0,function*(){let r=s=>{if(s.isCompleted===void 0)throw new xi.ErrIsCompletedFieldIsMissingOnTransaction;return s.isCompleted},n=()=>Lr(this,void 0,void 0,function*(){return yield this.fetcher.getTransaction(e.getHash().hex())}),i=()=>new xi.ErrExpectedTransactionStatusNotReached;return this.awaitConditionally(r,n,i)})}awaitAllEvents(e,r){return Lr(this,void 0,void 0,function*(){let n=o=>{let a=this.getAllTransactionEvents(o).map(l=>l.identifier);return r.every(l=>a.includes(l))},i=()=>Lr(this,void 0,void 0,function*(){return yield this.fetcher.getTransaction(e.getHash().hex())}),s=()=>new xi.ErrExpectedTransactionEventsNotFound;return this.awaitConditionally(n,i,s)})}awaitAnyEvent(e,r){return Lr(this,void 0,void 0,function*(){let n=o=>{let a=this.getAllTransactionEvents(o).map(l=>l.identifier);return r.find(l=>a.includes(l))!=null},i=()=>Lr(this,void 0,void 0,function*(){return yield this.fetcher.getTransaction(e.getHash().hex())}),s=()=>new xi.ErrExpectedTransactionEventsNotFound;return this.awaitConditionally(n,i,s)})}awaitOnCondition(e,r){return Lr(this,void 0,void 0,function*(){let n=()=>Lr(this,void 0,void 0,function*(){return yield this.fetcher.getTransaction(e.getHash().hex())}),i=()=>new xi.ErrExpectedTransactionStatusNotReached;return this.awaitConditionally(r,n,i)})}awaitConditionally(e,r,n){return Lr(this,void 0,void 0,function*(){let i=new oE.AsyncTimer("watcher:periodic"),s=new oE.AsyncTimer("watcher:patience"),o=new oE.AsyncTimer("watcher:timeout"),a=!1,u,l=!1;for(o.start(this.timeoutMilliseconds).finally(()=>{o.stop(),a=!0});!a;){yield i.start(this.pollingIntervalMilliseconds);try{if(u=yield r(),l=e(u),l||a)break}catch(f){if(nN.Logger.debug("TransactionWatcher.awaitConditionally(): cannot (yet) fetch data."),f instanceof xi.ErrIsCompletedFieldIsMissingOnTransaction||!(f instanceof xi.Err))throw f}}if(l&&(yield s.start(this.patienceMilliseconds)),o.isStopped()||o.stop(),!u||!l)throw n();return u})}getAllTransactionEvents(e){let r=[...e.logs.events];for(let n of e.contractResults.items)r.push(...n.logs.events);return r}};ia.TransactionWatcher=Ni;Ni.DefaultPollingInterval=6e3;Ni.DefaultTimeout=Ni.DefaultPollingInterval*15;Ni.DefaultPatience=0;Ni.NoopOnStatusReceived=t=>{};var aE=class{constructor(e){this.fetcher=e}getTransaction(e){return Lr(this,void 0,void 0,function*(){return nN.Logger.debug(`transactionWatcher, getTransaction(${e})`),yield this.fetcher.getTransaction(e)})}}});var cE=m(nd=>{"use strict";c();Object.defineProperty(nd,"__esModule",{value:!0});nd.CodeMetadata=void 0;var uE=class{constructor(e=!0,r=!1,n=!1,i=!1){this.upgradeable=e,this.readable=r,this.payable=n,this.payableBySc=i}toggleUpgradeable(e){this.upgradeable=e}toggleReadable(e){this.readable=e}togglePayable(e){this.payable=e}togglePayableBySc(e){this.payableBySc=e}toBuffer(){let e=0,r=0;return this.upgradeable&&(e|=td.Upgradeable),this.readable&&(e|=td.Readable),this.payable&&(r|=rd.Payable),this.payableBySc&&(r|=rd.PayableBySc),h.Buffer.from([e,r])}toString(){return this.toBuffer().toString("hex")}toJSON(){return{upgradeable:this.upgradeable,readable:this.readable,payable:this.payable,payableBySc:this.payableBySc}}equals(e){return this.upgradeable==e.upgradeable&&this.readable==e.readable&&this.payable==e.payable&&this.payableBySc==e.payableBySc}};nd.CodeMetadata=uE;var td;(function(t){t[t.Upgradeable=1]="Upgradeable",t[t.Reserved2=2]="Reserved2",t[t.Readable=4]="Readable"})(td||(td={}));var rd;(function(t){t[t.Reserved1=1]="Reserved1",t[t.Payable=2]="Payable",t[t.PayableBySc=4]="PayableBySc"})(rd||(rd={}))});var wc=m(vn=>{"use strict";c();var fG=vn&&vn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),hG=vn&&vn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),dG=vn&&vn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&fG(e,t,r);return hG(e,t),e};Object.defineProperty(vn,"__esModule",{value:!0});vn.ContractFunction=void 0;var pG=dG(Be()),lE=class t{constructor(e){if(this.name=e,e==null)throw new pG.ErrInvalidFunctionName}static none(){return new t("untitled")}toString(){return this.name}valueOf(){return this.name}};vn.ContractFunction=lE});var dE=m(Fr=>{"use strict";c();var gG=Fr&&Fr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),yG=Fr&&Fr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),mG=Fr&&Fr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&gG(e,t,r);return yG(e,t),e},wG=Fr&&Fr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Fr,"__esModule",{value:!0});Fr.InteractionChecker=void 0;var fE=mG(Be()),EG=wG(Gt()),hE=class{checkInteraction(e,r){this.checkPayable(e,r),this.checkArguments(e,r)}checkPayable(e,r){let n=!new EG.default(e.getValue().toString()).isZero(),i=r.modifiers.isPayableInEGLD();if(n&&!i)throw new fE.ErrContractInteraction("cannot send EGLD value to non-payable")}checkArguments(e,r){let n=r.input,i=e.getArguments(),s=n.length,o=i.length;if(s!=o)throw new fE.ErrContractInteraction(`bad arguments, expected: ${s}, got: ${o}`);for(let a=0;a<s;a++){let u=n[a].type,f=i[a].getType();if(!u.isAssignableFrom(f))throw new fE.ErrContractInteraction(`type mismatch at index ${a}, expected: ${u}, got: ${f}`)}}};Fr.InteractionChecker=hE});var Ec=m(id=>{"use strict";c();Object.defineProperty(id,"__esModule",{value:!0});id.Query=void 0;var vG=ht(),AG=Wo(),pE=class{constructor(e){this.caller=e.caller||new vG.Address,this.address=e.address,this.func=e.func,this.args=e.args||[],this.value=e.value||0}getEncodedArguments(){return new AG.ArgSerializer().valuesToStrings(this.args)}};id.Query=pE});var wE=m(sd=>{"use strict";c();Object.defineProperty(sd,"__esModule",{value:!0});sd.Interaction=void 0;var iN=ht(),bG=Uh(),gE=bs(),yE=wc(),_G=dE(),IG=Ec(),sa=St(),mE=class{constructor(e,r,n){this.nonce=0,this.value="0",this.gasLimit=0,this.gasPrice=void 0,this.chainID="",this.querent=new iN.Address,this.sender=new iN.Address,this.isWithSingleESDTTransfer=!1,this.isWithSingleESDTNFTTransfer=!1,this.isWithMultiESDTNFTTransfer=!1,this.contract=e,this.function=r,this.args=n,this.tokenTransfers=new oa([],this)}getContractAddress(){return this.contract.getAddress()}getFunction(){return this.function}getEndpoint(){return this.contract.getEndpoint(this.function)}getArguments(){return this.args}getValue(){return this.value}getTokenTransfers(){return this.tokenTransfers.getTransfers()}getGasLimit(){return this.gasLimit}getExplicitReceiver(){return this.explicitReceiver}buildTransaction(){bG.Compatibility.guardAddressIsSetAndNonZero(this.sender,"'sender' of interaction","use interaction.withSender()");let e=this.explicitReceiver||this.contract.getAddress(),r=this.function,n=this.args;this.isWithSingleESDTTransfer?(r=new yE.ContractFunction(gE.ESDT_TRANSFER_FUNCTION_NAME),n=this.tokenTransfers.buildArgsForSingleESDTTransfer()):this.isWithSingleESDTNFTTransfer?(e=this.sender,r=new yE.ContractFunction(gE.ESDTNFT_TRANSFER_FUNCTION_NAME),n=this.tokenTransfers.buildArgsForSingleESDTNFTTransfer()):this.isWithMultiESDTNFTTransfer&&(e=this.sender,r=new yE.ContractFunction(gE.MULTI_ESDTNFT_TRANSFER_FUNCTION_NAME),n=this.tokenTransfers.buildArgsForMultiESDTNFTTransfer());let i=this.contract.call({func:r,gasLimit:this.gasLimit,gasPrice:this.gasPrice,args:n,value:this.value,receiver:e,chainID:this.chainID,caller:this.sender});return i.setNonce(this.nonce),i}buildQuery(){return new IG.Query({address:this.contract.getAddress(),func:this.function,args:this.args,value:this.value,caller:this.querent})}withValue(e){return this.value=e,this}withSingleESDTTransfer(e){return this.isWithSingleESDTTransfer=!0,this.tokenTransfers=new oa([e],this),this}withSingleESDTNFTTransfer(e,r){return this.isWithSingleESDTNFTTransfer=!0,this.tokenTransfers=new oa([e],this),r&&(this.sender=r),this}withMultiESDTNFTTransfer(e,r){return this.isWithMultiESDTNFTTransfer=!0,this.tokenTransfers=new oa(e,this),r&&(this.sender=r),this}withGasLimit(e){return this.gasLimit=e,this}withGasPrice(e){return this.gasPrice=e,this}withNonce(e){return this.nonce=e,this}useThenIncrementNonceOf(e){return this.withNonce(e.getNonceThenIncrement())}withChainID(e){return this.chainID=e,this}withSender(e){return this.sender=e,this}withQuerent(e){return this.querent=e,this}withExplicitReceiver(e){return this.explicitReceiver=e,this}check(){return new _G.InteractionChecker().checkInteraction(this,this.getEndpoint()),this}};sd.Interaction=mE;var oa=class{constructor(e,r){this.transfers=e,this.interaction=r}getTransfers(){return this.transfers}buildArgsForSingleESDTTransfer(){let e=this.transfers[0];return[this.getTypedTokenIdentifier(e),this.getTypedTokenQuantity(e),this.getTypedInteractionFunction(),...this.getInteractionArguments()]}buildArgsForSingleESDTNFTTransfer(){let e=this.transfers[0];return[this.getTypedTokenIdentifier(e),this.getTypedTokenNonce(e),this.getTypedTokenQuantity(e),this.getTypedTokensReceiver(),this.getTypedInteractionFunction(),...this.getInteractionArguments()]}buildArgsForMultiESDTNFTTransfer(){let e=[];e.push(this.getTypedTokensReceiver()),e.push(this.getTypedNumberOfTransfers());for(let r of this.transfers)e.push(this.getTypedTokenIdentifier(r)),e.push(this.getTypedTokenNonce(r)),e.push(this.getTypedTokenQuantity(r));return e.push(this.getTypedInteractionFunction()),e.push(...this.getInteractionArguments()),e}getTypedNumberOfTransfers(){return new sa.U8Value(this.transfers.length)}getTypedTokenIdentifier(e){return sa.BytesValue.fromUTF8(e.tokenIdentifier)}getTypedTokenNonce(e){return new sa.U64Value(e.nonce)}getTypedTokenQuantity(e){return new sa.BigUIntValue(e.amountAsBigInteger)}getTypedTokensReceiver(){return new sa.AddressValue(this.interaction.getContractAddress())}getTypedInteractionFunction(){return sa.BytesValue.fromUTF8(this.interaction.getFunction().valueOf())}getInteractionArguments(){return this.interaction.getArguments()}}});var sN=m(od=>{"use strict";c();Object.defineProperty(od,"__esModule",{value:!0});od.ArgumentErrorContext=void 0;var SG=Be(),EE=class{constructor(e,r,n){this.endpointName=e,this.argumentIndex=r,this.parameterDefinition=n}throwError(e){throw new SG.ErrInvalidArgument(`Error when converting arguments for endpoint (endpoint name: ${this.endpointName}, argument index: ${this.argumentIndex}, name: ${this.parameterDefinition.name}, type: ${this.parameterDefinition.type})
Nested error: ${e}`)}convertError(e,r){this.throwError(`Can't convert argument (argument: ${e}, type ${typeof e}), wanted type: ${r})`)}unhandledType(e,r){this.throwError(`Unhandled type (function: ${e}, type: ${r})`)}guardSameLength(e,r){e=e||[],e.length!=r.length&&this.throwError(`Incorrect composite type length: have ${e.length}, expected ${r.length} (argument: ${e})`)}guardHasField(e,r){e=e||{},r in e||this.throwError(`Struct argument does not contain a field named "${r}" (argument: ${JSON.stringify(e)})`)}};od.ArgumentErrorContext=EE});var AE=m(Fs=>{"use strict";c();var TG=Fs&&Fs.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Fs,"__esModule",{value:!0});Fs.NativeSerializer=void 0;var CG=TG(Gt()),xG=ht(),vE=Be(),NG=ph(),OG=sN(),ve=St(),DG;(function(t){function e(A,I){A=A||[],r(A,I),n(I)&&(A=i(A,I));let N=I.input,_=[];for(let S=0;S<N.length;S++){let R=N[S],J=new OG.ArgumentErrorContext(I.name,S,R),Q=o(A[S],R.type,J);_.push(Q)}return _}t.nativeToTypedValues=e;function r(A,I){let{min:N,max:_}=s(I.input);if(!(N<=A.length&&A.length<=_))throw new vE.ErrInvalidArgument(`Wrong number of arguments for endpoint ${I.name}: expected between ${N} and ${_} arguments, have ${A.length}`)}function n(A){let I=A.input[A.input.length-1];return I?.type instanceof ve.VariadicType&&!I.type.isCounted}function i(A,I){let N=I.input.length-1,_=A[N];if(_?.belongsToTypesystem){if(!_.hasClassOrSuperclass(ve.VariadicValue.ClassName))throw new vE.ErrInvalidArgument(`Wrong argument type for endpoint ${I.name}: typed value provided; expected variadic type, have ${_.getClassName()}`)}else A[N]=A.slice(N);return A}function s(A){let I=[...A].reverse(),N=A.length,_=A.length,S=!1;I.length>0&&I[0].type.getCardinality().isComposite()&&(_=1/0,S=!0);for(let R of I){if(R.type.getCardinality().isSingular())break;N-=1}return{min:N,max:_,variadic:S}}function o(A,I,N){if(A&&A.belongsToTypesystem)return A;if(I instanceof ve.OptionType)return a(A,I,N);if(I instanceof ve.OptionalType)return u(A,I,N);if(I instanceof ve.VariadicType)return l(A,I,N);if(I instanceof ve.CompositeType)return d(A,I,N);if(I instanceof ve.TupleType)return g(A,I,N);if(I instanceof ve.StructType)return w(A,I,N);if(I instanceof ve.ListType)return f(A,I,N);if(I instanceof ve.PrimitiveType)return E(A,I,N);if(I instanceof ve.EnumType)return T(A,I,N);N.throwError(`convertToTypedValue: unhandled type ${I}`)}function a(A,I,N){if(A==null)return ve.OptionValue.newMissing();let _=o(A,I.getFirstTypeParameter(),N);return ve.OptionValue.newProvided(_)}function u(A,I,N){if(A==null)return new ve.OptionalValue(I);let _=o(A,I.getFirstTypeParameter(),N);return new ve.OptionalValue(I,_)}function l(A,I,N){if(I.isCounted)throw new vE.ErrInvalidArgument('Counted variadic arguments must be explicitly typed. E.g. use "VariadicValue.fromItemsCounted()" or "new VariadicValue()"');A==null&&(A=[]),A.map===void 0&&N.convertError(A,"Variadic");let _=A.map(function(S){return o(S,I.getFirstTypeParameter(),N)});return new ve.VariadicValue(I,_)}function f(A,I,N){A.map===void 0&&N.convertError(A,"List");let _=A.map(function(S){return o(S,I.getFirstTypeParameter(),N)});return new ve.List(I,_)}function d(A,I,N){let _=[],S=I.getTypeParameters();N.guardSameLength(A,S);for(let R=0;R<S.length;R++)_.push(o(A[R],S[R],N));return new ve.CompositeValue(I,_)}function g(A,I,N){let _=[],S=I.getFieldsDefinitions();N.guardSameLength(A,S);for(let R=0;R<S.length;R++)_.push(o(A[R],S[R].type,N));return ve.Tuple.fromItems(_)}function w(A,I,N){let _=[],S=I.getFieldsDefinitions();for(let R=0;R<S.length;R++){let J=S[R].name;N.guardHasField(A,J);let Q=A[J],V=o(Q,S[R].type,N);_.push(new ve.Field(V,J))}return new ve.Struct(I,_)}function E(A,I,N){if(I instanceof ve.NumericalType){let _=new CG.default(A);return U(_,I,N)}if(I instanceof ve.BytesType)return D(A,N);if(I instanceof ve.AddressType)return new ve.AddressValue(W(A,N));if(I instanceof ve.BooleanType)return new ve.BooleanValue(A);if(I instanceof ve.TokenIdentifierType)return new ve.TokenIdentifierValue(B(A,N));N.throwError(`(function: toPrimitive) unsupported type ${I}`)}function T(A,I,N){if(typeof A=="number")return ve.EnumValue.fromDiscriminant(I,A);if(typeof A=="string")return ve.EnumValue.fromName(I,A);if(typeof A=="object"){N.guardHasField(A,"name");let _=I.getVariantByName(A.name);N.guardHasField(A,"fields");let S=A.fields,R=[],J=_.getFieldsDefinitions();for(let Q=0;Q<J.length;Q++){let V=J[Q].name;N.guardHasField(S,V);let k=S[V],K=o(k,J[Q].type,N);R.push(new ve.Field(K,V))}return new ve.EnumValue(I,_,R)}N.throwError(`(function: toEnumValue) unsupported native type ${typeof A}`)}function D(A,I){let N=A.valueOf();if(A===void 0&&I.convertError(A,"BytesValue"),A instanceof h.Buffer)return new ve.BytesValue(A);if(typeof A=="string")return ve.BytesValue.fromUTF8(A);if(N instanceof h.Buffer)return new ve.BytesValue(N);if(typeof N=="number")return ve.BytesValue.fromHex(NG.numberToPaddedHex(N));I.convertError(A,"BytesValue")}function B(A,I){if(A===void 0&&I.convertError(A,"Buffer"),A instanceof h.Buffer)return A.toString();if(typeof A=="string")return A;I.convertError(A,"Buffer")}function W(A,I){if(A.bech32)return A;if(A.getAddress)return A.getAddress();switch(A.constructor){case h.Buffer:case String:return new xG.Address(A);default:I.convertError(A,"Address")}}t.convertNativeToAddress=W;function U(A,I,N){switch(I.constructor){case ve.U8Type:return new ve.U8Value(A);case ve.I8Type:return new ve.I8Value(A);case ve.U16Type:return new ve.U16Value(A);case ve.I16Type:return new ve.I16Value(A);case ve.U32Type:return new ve.U32Value(A);case ve.I32Type:return new ve.I32Value(A);case ve.U64Type:return new ve.U64Value(A);case ve.I64Type:return new ve.I64Value(A);case ve.BigUIntType:return new ve.BigUIntValue(A);case ve.BigIntType:return new ve.BigIntValue(A);default:N.unhandledType("convertNumericalType",I)}}})(DG=Fs.NativeSerializer||(Fs.NativeSerializer={}))});var xE=m(zr=>{"use strict";c();Object.defineProperty(zr,"__esModule",{value:!0});zr.ContractCallPayloadBuilder=zr.ContractUpgradePayloadBuilder=zr.ContractDeployPayloadBuilder=zr.ArwenVirtualMachine=void 0;var SE=jn(),TE=wr(),PG=Wo();zr.ArwenVirtualMachine="0500";var bE=class{constructor(){this.code=null,this.codeMetadata="",this.arguments=[]}setCode(e){return this.code=e,this}setCodeMetadata(e){return this.codeMetadata=e,this}addInitArg(e){return this.arguments.push(e),this}setInitArgs(e){return this.arguments=e,this}build(){TE.guardValueIsSet("code",this.code);let e=this.code.toString(),r=this.codeMetadata.toString(),n=`${e}@${zr.ArwenVirtualMachine}@${r}`;return n=CE(n,this.arguments),new SE.TransactionPayload(n)}};zr.ContractDeployPayloadBuilder=bE;var _E=class{constructor(){this.code=null,this.codeMetadata="",this.arguments=[]}setCode(e){return this.code=e,this}setCodeMetadata(e){return this.codeMetadata=e,this}addInitArg(e){return this.arguments.push(e),this}setInitArgs(e){return this.arguments=e,this}build(){TE.guardValueIsSet("code",this.code);let e=this.code.toString(),r=this.codeMetadata.toString(),n=`upgradeContract@${e}@${r}`;return n=CE(n,this.arguments),new SE.TransactionPayload(n)}};zr.ContractUpgradePayloadBuilder=_E;var IE=class{constructor(){this.contractFunction=null,this.arguments=[]}setFunction(e){return this.contractFunction=e,this}addArg(e){return this.arguments.push(e),this}setArgs(e){return this.arguments=e,this}build(){TE.guardValueIsSet("calledFunction",this.contractFunction);let e=this.contractFunction.toString();return e=CE(e,this.arguments),new SE.TransactionPayload(e)}};zr.ContractCallPayloadBuilder=IE;function CE(t,e){let{argumentsString:r,count:n}=new PG.ArgSerializer().valuesToString(e);return n==0?t:`${t}@${r}`}});var Kn=m((xue,NE)=>{"use strict";c();var aa=typeof Reflect=="object"?Reflect:null,oN=aa&&typeof aa.apply=="function"?aa.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},ad;aa&&typeof aa.ownKeys=="function"?ad=aa.ownKeys:Object.getOwnPropertySymbols?ad=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:ad=function(e){return Object.getOwnPropertyNames(e)};function RG(t){console&&console.warn&&console.warn(t)}var uN=Number.isNaN||function(e){return e!==e};function ke(){ke.init.call(this)}NE.exports=ke;NE.exports.once=MG;ke.EventEmitter=ke;ke.prototype._events=void 0;ke.prototype._eventsCount=0;ke.prototype._maxListeners=void 0;var aN=10;function ud(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(ke,"defaultMaxListeners",{enumerable:!0,get:function(){return aN},set:function(t){if(typeof t!="number"||t<0||uN(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");aN=t}});ke.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};ke.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||uN(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function cN(t){return t._maxListeners===void 0?ke.defaultMaxListeners:t._maxListeners}ke.prototype.getMaxListeners=function(){return cN(this)};ke.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=e==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var o;if(r.length>0&&(o=r[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var u=s[e];if(u===void 0)return!1;if(typeof u=="function")oN(u,this,r);else for(var l=u.length,f=pN(u,l),n=0;n<l;++n)oN(f[n],this,r);return!0};function lN(t,e,r,n){var i,s,o;if(ud(r),s=t._events,s===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),s=t._events),o=s[e]),o===void 0)o=s[e]=r,++t._eventsCount;else if(typeof o=="function"?o=s[e]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),i=cN(t),i>0&&o.length>i&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=o.length,RG(a)}return t}ke.prototype.addListener=function(e,r){return lN(this,e,r,!1)};ke.prototype.on=ke.prototype.addListener;ke.prototype.prependListener=function(e,r){return lN(this,e,r,!0)};function BG(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function fN(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=BG.bind(n);return i.listener=r,n.wrapFn=i,i}ke.prototype.once=function(e,r){return ud(r),this.on(e,fN(this,e,r)),this};ke.prototype.prependOnceListener=function(e,r){return ud(r),this.prependListener(e,fN(this,e,r)),this};ke.prototype.removeListener=function(e,r){var n,i,s,o,a;if(ud(r),i=this._events,i===void 0)return this;if(n=i[e],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(s=-1,o=n.length-1;o>=0;o--)if(n[o]===r||n[o].listener===r){a=n[o].listener,s=o;break}if(s<0)return this;s===0?n.shift():LG(n,s),n.length===1&&(i[e]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",e,a||r)}return this};ke.prototype.off=ke.prototype.removeListener;ke.prototype.removeAllListeners=function(e){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var s=Object.keys(n),o;for(i=0;i<s.length;++i)o=s[i],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(e,r[i]);return this};function hN(t,e,r){var n=t._events;if(n===void 0)return[];var i=n[e];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?FG(i):pN(i,i.length)}ke.prototype.listeners=function(e){return hN(this,e,!0)};ke.prototype.rawListeners=function(e){return hN(this,e,!1)};ke.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):dN.call(t,e)};ke.prototype.listenerCount=dN;function dN(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}ke.prototype.eventNames=function(){return this._eventsCount>0?ad(this._events):[]};function pN(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function LG(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function FG(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function MG(t,e){return new Promise(function(r,n){function i(o){t.removeListener(e,s),n(o)}function s(){typeof t.removeListener=="function"&&t.removeListener("error",i),r([].slice.call(arguments))}gN(t,e,s,{once:!0}),e!=="error"&&UG(t,i,{once:!0})})}function UG(t,e,r){typeof t.on=="function"&&gN(t,"error",e,r)}function gN(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(s){n.once&&t.removeEventListener(e,i),r(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}});var OE=m((Oue,yN)=>{c();yN.exports=Kn().EventEmitter});var DE=m(()=>{c()});var bN=m((Lue,AN)=>{"use strict";c();function mN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mN(Object(r),!0).forEach(function(n){qG(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qG(t,e,r){return e=vN(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EN(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,vN(n.key),n)}}function HG(t,e,r){return e&&EN(t.prototype,e),r&&EN(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function vN(t){var e=GG(t,"string");return typeof e=="symbol"?e:String(e)}function GG(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kG=Ps(),cd=kG.Buffer,jG=DE(),PE=jG.inspect,QG=PE&&PE.custom||"inspect";function WG(t,e,r){cd.prototype.copy.call(t,e,r)}AN.exports=function(){function t(){VG(this,t),this.head=null,this.tail=null,this.length=0}return HG(t,[{key:"push",value:function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length}},{key:"unshift",value:function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i}},{key:"concat",value:function(r){if(this.length===0)return cd.alloc(0);for(var n=cd.allocUnsafe(r>>>0),i=this.head,s=0;i;)WG(i.data,n,s),s+=i.data.length,i=i.next;return n}},{key:"consume",value:function(r,n){var i;return r<this.head.data.length?(i=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?i=this.shift():i=n?this._getString(r):this._getBuffer(r),i}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var n=this.head,i=1,s=n.data;for(r-=s.length;n=n.next;){var o=n.data,a=r>o.length?o.length:r;if(a===o.length?s+=o:s+=o.slice(0,r),r-=a,r===0){a===o.length?(++i,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=o.slice(a));break}++i}return this.length-=i,s}},{key:"_getBuffer",value:function(r){var n=cd.allocUnsafe(r),i=this.head,s=1;for(i.data.copy(n),r-=i.data.length;i=i.next;){var o=i.data,a=r>o.length?o.length:r;if(o.copy(n,n.length-r,0,a),r-=a,r===0){a===o.length?(++s,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=o.slice(a));break}++s}return this.length-=s,n}},{key:QG,value:function(r,n){return PE(this,wN(wN({},n),{},{depth:0,customInspect:!1}))}}]),t}()});var BE=m((Mue,IN)=>{"use strict";c();function $G(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,p.default.nextTick(RE,this,t)):p.default.nextTick(RE,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?r._writableState?r._writableState.errorEmitted?p.default.nextTick(ld,r):(r._writableState.errorEmitted=!0,p.default.nextTick(_N,r,s)):p.default.nextTick(_N,r,s):e?(p.default.nextTick(ld,r),e(s)):p.default.nextTick(ld,r)}),this)}function _N(t,e){RE(t,e),ld(t)}function ld(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function zG(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function RE(t,e){t.emit("error",e)}function KG(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}IN.exports={destroy:$G,undestroy:zG,errorOrDestroy:KG}});var Ms=m((que,CN)=>{"use strict";c();function YG(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var TN={};function Mr(t,e,r){r||(r=Error);function n(s,o,a){return typeof e=="string"?e:e(s,o,a)}var i=function(s){YG(o,s);function o(a,u,l){return s.call(this,n(a,u,l))||this}return o}(r);i.prototype.name=r.name,i.prototype.code=t,TN[t]=i}function SN(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function JG(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function XG(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function ZG(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}Mr("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);Mr("ERR_INVALID_ARG_TYPE",function(t,e,r){var n;typeof e=="string"&&JG(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var i;if(XG(t," argument"))i="The ".concat(t," ").concat(n," ").concat(SN(e,"type"));else{var s=ZG(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(s," ").concat(n," ").concat(SN(e,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError);Mr("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");Mr("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});Mr("ERR_STREAM_PREMATURE_CLOSE","Premature close");Mr("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});Mr("ERR_MULTIPLE_CALLBACK","Callback called multiple times");Mr("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");Mr("ERR_STREAM_WRITE_AFTER_END","write after end");Mr("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Mr("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);Mr("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");CN.exports.codes=TN});var LE=m((Hue,xN)=>{"use strict";c();var ek=Ms().codes.ERR_INVALID_OPT_VALUE;function tk(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function rk(t,e,r,n){var i=tk(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var s=n?r:"highWaterMark";throw new ek(s,i)}return Math.floor(i)}return t.objectMode?16:16*1024}xN.exports={getHighWaterMark:rk}});var ua=m((kue,FE)=>{c();typeof Object.create=="function"?FE.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:FE.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}});var ON=m((Que,NN)=>{c();NN.exports=nk;function nk(t,e){if(ME("noDeprecation"))return t;var r=!1;function n(){if(!r){if(ME("throwDeprecation"))throw new Error(e);ME("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}return n}function ME(t){try{if(!global.localStorage)return!1}catch{return!1}var e=global.localStorage[t];return e==null?!1:String(e).toLowerCase()==="true"}});var VE=m(($ue,FN)=>{"use strict";c();FN.exports=dt;function PN(t){var e=this;this.next=null,this.entry=null,this.finish=function(){Ok(e,t)}}var ca;dt.WritableState=Ac;var ik={deprecate:ON()},RN=OE(),hd=Ps().Buffer,sk=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function ok(t){return hd.from(t)}function ak(t){return hd.isBuffer(t)||t instanceof sk}var qE=BE(),uk=LE(),ck=uk.getHighWaterMark,Oi=Ms().codes,lk=Oi.ERR_INVALID_ARG_TYPE,fk=Oi.ERR_METHOD_NOT_IMPLEMENTED,hk=Oi.ERR_MULTIPLE_CALLBACK,dk=Oi.ERR_STREAM_CANNOT_PIPE,pk=Oi.ERR_STREAM_DESTROYED,gk=Oi.ERR_STREAM_NULL_VALUES,yk=Oi.ERR_STREAM_WRITE_AFTER_END,mk=Oi.ERR_UNKNOWN_ENCODING,la=qE.errorOrDestroy;ua()(dt,RN);function wk(){}function Ac(t,e,r){ca=ca||Us(),t=t||{},typeof r!="boolean"&&(r=e instanceof ca),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=ck(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=t.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(i){Sk(e,i)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new PN(this)}Ac.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(Ac.prototype,"buffer",{get:ik.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var fd;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(fd=Function.prototype[Symbol.hasInstance],Object.defineProperty(dt,Symbol.hasInstance,{value:function(e){return fd.call(this,e)?!0:this!==dt?!1:e&&e._writableState instanceof Ac}})):fd=function(e){return e instanceof this};function dt(t){ca=ca||Us();var e=this instanceof ca;if(!e&&!fd.call(dt,this))return new dt(t);this._writableState=new Ac(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),RN.call(this)}dt.prototype.pipe=function(){la(this,new dk)};function Ek(t,e){var r=new yk;la(t,r),p.default.nextTick(e,r)}function vk(t,e,r,n){var i;return r===null?i=new gk:typeof r!="string"&&!e.objectMode&&(i=new lk("chunk",["string","Buffer"],r)),i?(la(t,i),p.default.nextTick(n,i),!1):!0}dt.prototype.write=function(t,e,r){var n=this._writableState,i=!1,s=!n.objectMode&&ak(t);return s&&!hd.isBuffer(t)&&(t=ok(t)),typeof e=="function"&&(r=e,e=null),s?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=wk),n.ending?Ek(this,r):(s||vk(this,n,t,r))&&(n.pendingcb++,i=bk(this,n,s,t,e,r)),i};dt.prototype.cork=function(){this._writableState.corked++};dt.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&BN(this,t))};dt.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new mk(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(dt.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function Ak(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=hd.from(e,r)),e}Object.defineProperty(dt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function bk(t,e,r,n,i,s){if(!r){var o=Ak(e,n,i);n!==o&&(r=!0,i="buffer",n=o)}var a=e.objectMode?1:n.length;e.length+=a;var u=e.length<e.highWaterMark;if(u||(e.needDrain=!0),e.writing||e.corked){var l=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},l?l.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else UE(t,e,!1,a,n,i,s);return u}function UE(t,e,r,n,i,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new pk("write")):r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}function _k(t,e,r,n,i){--e.pendingcb,r?(p.default.nextTick(i,n),p.default.nextTick(vc,t,e),t._writableState.errorEmitted=!0,la(t,n)):(i(n),t._writableState.errorEmitted=!0,la(t,n),vc(t,e))}function Ik(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function Sk(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function")throw new hk;if(Ik(r),e)_k(t,r,n,e,i);else{var s=LN(r)||t.destroyed;!s&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&BN(t,r),n?p.default.nextTick(DN,t,r,s,i):DN(t,r,s,i)}}function DN(t,e,r,n){r||Tk(t,e),e.pendingcb--,n(),vc(t,e)}function Tk(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function BN(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),s=e.corkedRequestsFree;s.entry=r;for(var o=0,a=!0;r;)i[o]=r,r.isBuf||(a=!1),r=r.next,o+=1;i.allBuffers=a,UE(t,e,!0,e.length,i,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new PN(e),e.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,l=r.encoding,f=r.callback,d=e.objectMode?1:u.length;if(UE(t,e,!1,d,u,l,f),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}dt.prototype._write=function(t,e,r){r(new fk("_write()"))};dt.prototype._writev=null;dt.prototype.end=function(t,e,r){var n=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||Nk(this,n,r),this};Object.defineProperty(dt.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function LN(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function Ck(t,e){t._final(function(r){e.pendingcb--,r&&la(t,r),e.prefinished=!0,t.emit("prefinish"),vc(t,e)})}function xk(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,p.default.nextTick(Ck,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function vc(t,e){var r=LN(e);if(r&&(xk(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy()}return r}function Nk(t,e,r){e.ending=!0,vc(t,e),r&&(e.finished?p.default.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function Ok(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree.next=t}Object.defineProperty(dt.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}});dt.prototype.destroy=qE.destroy;dt.prototype._undestroy=qE.undestroy;dt.prototype._destroy=function(t,e){e(t)}});var Us=m((Kue,UN)=>{"use strict";c();var Dk=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};UN.exports=An;var MN=kE(),GE=VE();ua()(An,MN);for(HE=Dk(GE.prototype),dd=0;dd<HE.length;dd++)pd=HE[dd],An.prototype[pd]||(An.prototype[pd]=GE.prototype[pd]);var HE,pd,dd;function An(t){if(!(this instanceof An))return new An(t);MN.call(this,t),GE.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",Pk)))}Object.defineProperty(An.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(An.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(An.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Pk(){this._writableState.ended||p.default.nextTick(Rk,this)}function Rk(t){t.end()}Object.defineProperty(An.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})});var HN=m((jE,VN)=>{c();var gd=Ps(),bn=gd.Buffer;function qN(t,e){for(var r in t)e[r]=t[r]}bn.from&&bn.alloc&&bn.allocUnsafe&&bn.allocUnsafeSlow?VN.exports=gd:(qN(gd,jE),jE.Buffer=qs);function qs(t,e,r){return bn(t,e,r)}qs.prototype=Object.create(bn.prototype);qN(bn,qs);qs.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return bn(t,e,r)};qs.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=bn(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n};qs.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return bn(t)};qs.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return gd.SlowBuffer(t)}});var $E=m(kN=>{"use strict";c();var WE=HN().Buffer,GN=WE.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Bk(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function Lk(t){var e=Bk(t);if(typeof e!="string"&&(WE.isEncoding===GN||!GN(t)))throw new Error("Unknown encoding: "+t);return e||t}kN.StringDecoder=bc;function bc(t){this.encoding=Lk(t);var e;switch(this.encoding){case"utf16le":this.text=Hk,this.end=Gk,e=4;break;case"utf8":this.fillLast=Uk,e=4;break;case"base64":this.text=kk,this.end=jk,e=3;break;default:this.write=Qk,this.end=Wk;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=WE.allocUnsafe(e)}bc.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};bc.prototype.end=Vk;bc.prototype.text=qk;bc.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function QE(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function Fk(t,e,r){var n=e.length-1;if(n<r)return 0;var i=QE(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=QE(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=QE(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function Mk(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function Uk(t){var e=this.lastTotal-this.lastNeed,r=Mk(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function qk(t,e){var r=Fk(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function Vk(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function Hk(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function Gk(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function kk(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function jk(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function Qk(t){return t.toString(this.encoding)}function Wk(t){return t&&t.length?this.write(t):""}});var yd=m((ece,WN)=>{"use strict";c();var jN=Ms().codes.ERR_STREAM_PREMATURE_CLOSE;function $k(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}function zk(){}function Kk(t){return t.setHeader&&typeof t.abort=="function"}function QN(t,e,r){if(typeof e=="function")return QN(t,null,e);e||(e={}),r=$k(r||zk);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,s=function(){t.writable||a()},o=t._writableState&&t._writableState.finished,a=function(){i=!1,o=!0,n||r.call(t)},u=t._readableState&&t._readableState.endEmitted,l=function(){n=!1,u=!0,i||r.call(t)},f=function(E){r.call(t,E)},d=function(){var E;if(n&&!u)return(!t._readableState||!t._readableState.ended)&&(E=new jN),r.call(t,E);if(i&&!o)return(!t._writableState||!t._writableState.ended)&&(E=new jN),r.call(t,E)},g=function(){t.req.on("finish",a)};return Kk(t)?(t.on("complete",a),t.on("abort",d),t.req?g():t.on("request",g)):i&&!t._writableState&&(t.on("end",s),t.on("close",s)),t.on("end",l),t.on("finish",a),e.error!==!1&&t.on("error",f),t.on("close",d),function(){t.removeListener("complete",a),t.removeListener("abort",d),t.removeListener("request",g),t.req&&t.req.removeListener("finish",a),t.removeListener("end",s),t.removeListener("close",s),t.removeListener("finish",a),t.removeListener("end",l),t.removeListener("error",f),t.removeListener("close",d)}}WN.exports=QN});var zN=m((rce,$N)=>{"use strict";c();var md;function Di(t,e,r){return e=Yk(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Yk(t){var e=Jk(t,"string");return typeof e=="symbol"?e:String(e)}function Jk(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xk=yd(),Pi=Symbol("lastResolve"),Vs=Symbol("lastReject"),_c=Symbol("error"),wd=Symbol("ended"),Hs=Symbol("lastPromise"),zE=Symbol("handlePromise"),Gs=Symbol("stream");function Ri(t,e){return{value:t,done:e}}function Zk(t){var e=t[Pi];if(e!==null){var r=t[Gs].read();r!==null&&(t[Hs]=null,t[Pi]=null,t[Vs]=null,e(Ri(r,!1)))}}function ej(t){p.default.nextTick(Zk,t)}function tj(t,e){return function(r,n){t.then(function(){if(e[wd]){r(Ri(void 0,!0));return}e[zE](r,n)},n)}}var rj=Object.getPrototypeOf(function(){}),nj=Object.setPrototypeOf((md={get stream(){return this[Gs]},next:function(){var e=this,r=this[_c];if(r!==null)return Promise.reject(r);if(this[wd])return Promise.resolve(Ri(void 0,!0));if(this[Gs].destroyed)return new Promise(function(o,a){p.default.nextTick(function(){e[_c]?a(e[_c]):o(Ri(void 0,!0))})});var n=this[Hs],i;if(n)i=new Promise(tj(n,this));else{var s=this[Gs].read();if(s!==null)return Promise.resolve(Ri(s,!1));i=new Promise(this[zE])}return this[Hs]=i,i}},Di(md,Symbol.asyncIterator,function(){return this}),Di(md,"return",function(){var e=this;return new Promise(function(r,n){e[Gs].destroy(null,function(i){if(i){n(i);return}r(Ri(void 0,!0))})})}),md),rj),ij=function(e){var r,n=Object.create(nj,(r={},Di(r,Gs,{value:e,writable:!0}),Di(r,Pi,{value:null,writable:!0}),Di(r,Vs,{value:null,writable:!0}),Di(r,_c,{value:null,writable:!0}),Di(r,wd,{value:e._readableState.endEmitted,writable:!0}),Di(r,zE,{value:function(s,o){var a=n[Gs].read();a?(n[Hs]=null,n[Pi]=null,n[Vs]=null,s(Ri(a,!1))):(n[Pi]=s,n[Vs]=o)},writable:!0}),r));return n[Hs]=null,Xk(e,function(i){if(i&&i.code!=="ERR_STREAM_PREMATURE_CLOSE"){var s=n[Vs];s!==null&&(n[Hs]=null,n[Pi]=null,n[Vs]=null,s(i)),n[_c]=i;return}var o=n[Pi];o!==null&&(n[Hs]=null,n[Pi]=null,n[Vs]=null,o(Ri(void 0,!0))),n[wd]=!0}),e.on("readable",ej.bind(null,n)),n};$N.exports=ij});var YN=m((ice,KN)=>{c();KN.exports=function(){throw new Error("Readable.from is not available in the browser")}});var kE=m((ace,oO)=>{"use strict";c();oO.exports=Me;var fa;Me.ReadableState=eO;var oce=Kn().EventEmitter,ZN=function(e,r){return e.listeners(r).length},Sc=OE(),Ed=Ps().Buffer,sj=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function oj(t){return Ed.from(t)}function aj(t){return Ed.isBuffer(t)||t instanceof sj}var KE=DE(),xe;KE&&KE.debuglog?xe=KE.debuglog("stream"):xe=function(){};var uj=bN(),rv=BE(),cj=LE(),lj=cj.getHighWaterMark,vd=Ms().codes,fj=vd.ERR_INVALID_ARG_TYPE,hj=vd.ERR_STREAM_PUSH_AFTER_EOF,dj=vd.ERR_METHOD_NOT_IMPLEMENTED,pj=vd.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,ha,YE,JE;ua()(Me,Sc);var Ic=rv.errorOrDestroy,XE=["error","close","destroy","pause","resume"];function gj(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function eO(t,e,r){fa=fa||Us(),t=t||{},typeof r!="boolean"&&(r=e instanceof fa),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=lj(this,t,"readableHighWaterMark",r),this.buffer=new uj,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(ha||(ha=$E().StringDecoder),this.decoder=new ha(t.encoding),this.encoding=t.encoding)}function Me(t){if(fa=fa||Us(),!(this instanceof Me))return new Me(t);var e=this instanceof fa;this._readableState=new eO(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),Sc.call(this)}Object.defineProperty(Me.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}});Me.prototype.destroy=rv.destroy;Me.prototype._undestroy=rv.undestroy;Me.prototype._destroy=function(t,e){e(t)};Me.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=Ed.from(t,e),e=""),n=!0),tO(this,t,e,!1,n)};Me.prototype.unshift=function(t){return tO(this,t,null,!0,!1)};function tO(t,e,r,n,i){xe("readableAddChunk",e);var s=t._readableState;if(e===null)s.reading=!1,wj(t,s);else{var o;if(i||(o=yj(s,e)),o)Ic(t,o);else if(s.objectMode||e&&e.length>0)if(typeof e!="string"&&!s.objectMode&&Object.getPrototypeOf(e)!==Ed.prototype&&(e=oj(e)),n)s.endEmitted?Ic(t,new pj):ZE(t,s,e,!0);else if(s.ended)Ic(t,new hj);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(e=s.decoder.write(e),s.objectMode||e.length!==0?ZE(t,s,e,!1):tv(t,s)):ZE(t,s,e,!1)}else n||(s.reading=!1,tv(t,s))}return!s.ended&&(s.length<s.highWaterMark||s.length===0)}function ZE(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&Ad(t)),tv(t,e)}function yj(t,e){var r;return!aj(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new fj("chunk",["string","Buffer","Uint8Array"],e)),r}Me.prototype.isPaused=function(){return this._readableState.flowing===!1};Me.prototype.setEncoding=function(t){ha||(ha=$E().StringDecoder);var e=new ha(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";r!==null;)n+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),n!==""&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var JN=1073741824;function mj(t){return t>=JN?t=JN:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function XN(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=mj(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}Me.prototype.read=function(t){xe("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return xe("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?ev(this):Ad(this),null;if(t=XN(t,e),t===0&&e.ended)return e.length===0&&ev(this),null;var n=e.needReadable;xe("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,xe("length less than watermark",n)),e.ended||e.reading?(n=!1,xe("reading or ended",n)):n&&(xe("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=XN(r,e)));var i;return t>0?i=iO(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&ev(this)),i!==null&&this.emit("data",i),i};function wj(t,e){if(xe("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?Ad(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,rO(t)))}}function Ad(t){var e=t._readableState;xe("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(xe("emitReadable",e.flowing),e.emittedReadable=!0,p.default.nextTick(rO,t))}function rO(t){var e=t._readableState;xe("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,nv(t)}function tv(t,e){e.readingMore||(e.readingMore=!0,p.default.nextTick(Ej,t,e))}function Ej(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(xe("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}Me.prototype._read=function(t){Ic(this,new dj("_read()"))};Me.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,xe("pipe count=%d opts=%j",n.pipesCount,e);var i=(!e||e.end!==!1)&&t!==p.default.stdout&&t!==p.default.stderr,s=i?a:T;n.endEmitted?p.default.nextTick(s):r.once("end",s),t.on("unpipe",o);function o(D,B){xe("onunpipe"),D===r&&B&&B.hasUnpiped===!1&&(B.hasUnpiped=!0,f())}function a(){xe("onend"),t.end()}var u=vj(r);t.on("drain",u);var l=!1;function f(){xe("cleanup"),t.removeListener("close",w),t.removeListener("finish",E),t.removeListener("drain",u),t.removeListener("error",g),t.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",T),r.removeListener("data",d),l=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&u()}r.on("data",d);function d(D){xe("ondata");var B=t.write(D);xe("dest.write",B),B===!1&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&sO(n.pipes,t)!==-1)&&!l&&(xe("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function g(D){xe("onerror",D),T(),t.removeListener("error",g),ZN(t,"error")===0&&Ic(t,D)}gj(t,"error",g);function w(){t.removeListener("finish",E),T()}t.once("close",w);function E(){xe("onfinish"),t.removeListener("close",w),T()}t.once("finish",E);function T(){xe("unpipe"),r.unpipe(t)}return t.emit("pipe",r),n.flowing||(xe("pipe resume"),r.resume()),t};function vj(t){return function(){var r=t._readableState;xe("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&ZN(t,"data")&&(r.flowing=!0,nv(t))}}Me.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=sO(e.pipes,t);return o===-1?this:(e.pipes.splice(o,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};Me.prototype.on=function(t,e){var r=Sc.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,xe("on readable",n.length,n.reading),n.length?Ad(this):n.reading||p.default.nextTick(Aj,this)),r};Me.prototype.addListener=Me.prototype.on;Me.prototype.removeListener=function(t,e){var r=Sc.prototype.removeListener.call(this,t,e);return t==="readable"&&p.default.nextTick(nO,this),r};Me.prototype.removeAllListeners=function(t){var e=Sc.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&p.default.nextTick(nO,this),e};function nO(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function Aj(t){xe("readable nexttick read 0"),t.read(0)}Me.prototype.resume=function(){var t=this._readableState;return t.flowing||(xe("resume"),t.flowing=!t.readableListening,bj(this,t)),t.paused=!1,this};function bj(t,e){e.resumeScheduled||(e.resumeScheduled=!0,p.default.nextTick(_j,t,e))}function _j(t,e){xe("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),nv(t),e.flowing&&!e.reading&&t.read(0)}Me.prototype.pause=function(){return xe("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(xe("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function nv(t){var e=t._readableState;for(xe("flow",e.flowing);e.flowing&&t.read()!==null;);}Me.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(xe("wrapped end"),r.decoder&&!r.ended){var o=r.decoder.end();o&&o.length&&e.push(o)}e.push(null)}),t.on("data",function(o){if(xe("wrapped data"),r.decoder&&(o=r.decoder.write(o)),!(r.objectMode&&o==null)&&!(!r.objectMode&&(!o||!o.length))){var a=e.push(o);a||(n=!0,t.pause())}});for(var i in t)this[i]===void 0&&typeof t[i]=="function"&&(this[i]=function(a){return function(){return t[a].apply(t,arguments)}}(i));for(var s=0;s<XE.length;s++)t.on(XE[s],this.emit.bind(this,XE[s]));return this._read=function(o){xe("wrapped _read",o),n&&(n=!1,t.resume())},this};typeof Symbol=="function"&&(Me.prototype[Symbol.asyncIterator]=function(){return YE===void 0&&(YE=zN()),YE(this)});Object.defineProperty(Me.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(Me.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(Me.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}});Me._fromList=iO;Object.defineProperty(Me.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function iO(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function ev(t){var e=t._readableState;xe("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,p.default.nextTick(Ij,e,t))}function Ij(t,e){if(xe("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}typeof Symbol=="function"&&(Me.from=function(t,e){return JE===void 0&&(JE=YN()),JE(Me,t,e)});function sO(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}});var iv=m((cce,uO)=>{"use strict";c();uO.exports=Yn;var bd=Ms().codes,Sj=bd.ERR_METHOD_NOT_IMPLEMENTED,Tj=bd.ERR_MULTIPLE_CALLBACK,Cj=bd.ERR_TRANSFORM_ALREADY_TRANSFORMING,xj=bd.ERR_TRANSFORM_WITH_LENGTH_0,_d=Us();ua()(Yn,_d);function Nj(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new Tj);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Yn(t){if(!(this instanceof Yn))return new Yn(t);_d.call(this,t),this._transformState={afterTransform:Nj.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",Oj)}function Oj(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){aO(t,e,r)}):aO(this,null,null)}Yn.prototype.push=function(t,e){return this._transformState.needTransform=!1,_d.prototype.push.call(this,t,e)};Yn.prototype._transform=function(t,e,r){r(new Sj("_transform()"))};Yn.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};Yn.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};Yn.prototype._destroy=function(t,e){_d.prototype._destroy.call(this,t,function(r){e(r)})};function aO(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new xj;if(t._transformState.transforming)throw new Cj;return t.push(null)}});var fO=m((fce,lO)=>{"use strict";c();lO.exports=Tc;var cO=iv();ua()(Tc,cO);function Tc(t){if(!(this instanceof Tc))return new Tc(t);cO.call(this,t)}Tc.prototype._transform=function(t,e,r){r(null,t)}});var yO=m((dce,gO)=>{"use strict";c();var sv;function Dj(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var pO=Ms().codes,Pj=pO.ERR_MISSING_ARGS,Rj=pO.ERR_STREAM_DESTROYED;function hO(t){if(t)throw t}function Bj(t){return t.setHeader&&typeof t.abort=="function"}function Lj(t,e,r,n){n=Dj(n);var i=!1;t.on("close",function(){i=!0}),sv===void 0&&(sv=yd()),sv(t,{readable:e,writable:r},function(o){if(o)return n(o);i=!0,n()});var s=!1;return function(o){if(!i&&!s){if(s=!0,Bj(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(o||new Rj("pipe"))}}}function dO(t){t()}function Fj(t,e){return t.pipe(e)}function Mj(t){return!t.length||typeof t[t.length-1]!="function"?hO:t.pop()}function Uj(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=Mj(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new Pj("streams");var i,s=e.map(function(o,a){var u=a<e.length-1,l=a>0;return Lj(o,u,l,function(f){i||(i=f),f&&s.forEach(dO),!u&&(s.forEach(dO),n(i))})});return e.reduce(Fj)}gO.exports=Uj});var ov=m((Ur,mO)=>{c();Ur=mO.exports=kE();Ur.Stream=Ur;Ur.Readable=Ur;Ur.Writable=VE();Ur.Duplex=Us();Ur.Transform=iv();Ur.PassThrough=fO();Ur.finished=yd();Ur.pipeline=yO()});var vO=m((yce,EO)=>{c();var{Transform:qj}=ov();EO.exports=t=>class wO extends qj{constructor(r,n,i,s,o){super(o),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._hashBitLength=s,this._options=o,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let s=null;try{this.update(r,n)}catch(o){s=o}i(s)}_flush(r){let n=null;try{this.push(this.digest())}catch(i){n=i}r(n)}update(r,n){if(!h.Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return h.Buffer.isBuffer(r)||(r=h.Buffer.from(r,n)),this._state.absorb(r),this}digest(r){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let n=this._state.squeeze(this._hashBitLength/8);return r!==void 0&&(n=n.toString(r)),this._resetState(),n}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){let r=new wO(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}}});var _O=m((wce,bO)=>{c();var{Transform:Vj}=ov();bO.exports=t=>class AO extends Vj{constructor(r,n,i,s){super(s),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._options=s,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let s=null;try{this.update(r,n)}catch(o){s=o}i(s)}_flush(){}_read(r){this.push(this.squeeze(r))}update(r,n){if(!h.Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return h.Buffer.isBuffer(r)||(r=h.Buffer.from(r,n)),this._state.absorb(r),this}squeeze(r,n){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let i=this._state.squeeze(r);return n!==void 0&&(i=i.toString(n)),i}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){let r=new AO(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}}});var SO=m((vce,IO)=>{c();var Hj=vO(),Gj=_O();IO.exports=function(t){let e=Hj(t),r=Gj(t);return function(n,i){switch(typeof n=="string"?n.toLowerCase():n){case"keccak224":return new e(1152,448,null,224,i);case"keccak256":return new e(1088,512,null,256,i);case"keccak384":return new e(832,768,null,384,i);case"keccak512":return new e(576,1024,null,512,i);case"sha3-224":return new e(1152,448,6,224,i);case"sha3-256":return new e(1088,512,6,256,i);case"sha3-384":return new e(832,768,6,384,i);case"sha3-512":return new e(576,1024,6,512,i);case"shake128":return new r(1344,256,31,i);case"shake256":return new r(1088,512,31,i);default:throw new Error("Invald algorithm: "+n)}}}});var xO=m(CO=>{c();var TO=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];CO.p1600=function(t){for(let e=0;e<24;++e){let r=t[0]^t[10]^t[20]^t[30]^t[40],n=t[1]^t[11]^t[21]^t[31]^t[41],i=t[2]^t[12]^t[22]^t[32]^t[42],s=t[3]^t[13]^t[23]^t[33]^t[43],o=t[4]^t[14]^t[24]^t[34]^t[44],a=t[5]^t[15]^t[25]^t[35]^t[45],u=t[6]^t[16]^t[26]^t[36]^t[46],l=t[7]^t[17]^t[27]^t[37]^t[47],f=t[8]^t[18]^t[28]^t[38]^t[48],d=t[9]^t[19]^t[29]^t[39]^t[49],g=f^(i<<1|s>>>31),w=d^(s<<1|i>>>31),E=t[0]^g,T=t[1]^w,D=t[10]^g,B=t[11]^w,W=t[20]^g,U=t[21]^w,A=t[30]^g,I=t[31]^w,N=t[40]^g,_=t[41]^w;g=r^(o<<1|a>>>31),w=n^(a<<1|o>>>31);let S=t[2]^g,R=t[3]^w,J=t[12]^g,Q=t[13]^w,V=t[22]^g,k=t[23]^w,K=t[32]^g,pe=t[33]^w,ue=t[42]^g,re=t[43]^w;g=i^(u<<1|l>>>31),w=s^(l<<1|u>>>31);let Y=t[4]^g,se=t[5]^w,te=t[14]^g,ie=t[15]^w,M=t[24]^g,le=t[25]^w,ae=t[34]^g,fe=t[35]^w,oe=t[44]^g,ce=t[45]^w;g=o^(f<<1|d>>>31),w=a^(d<<1|f>>>31);let y=t[6]^g,v=t[7]^w,b=t[16]^g,P=t[17]^w,C=t[26]^g,O=t[27]^w,L=t[36]^g,x=t[37]^w,F=t[46]^g,H=t[47]^w;g=u^(r<<1|n>>>31),w=l^(n<<1|r>>>31);let q=t[8]^g,Z=t[9]^w,we=t[18]^g,Ae=t[19]^w,Re=t[28]^g,tt=t[29]^w,lt=t[38]^g,Oe=t[39]^w,Ue=t[48]^g,Ot=t[49]^w,hi=E,ms=T,ws=B<<4|D>>>28,sr=D<<4|B>>>28,Un=W<<3|U>>>29,$t=U<<3|W>>>29,Dt=I<<9|A>>>23,$e=A<<9|I>>>23,Uy=N<<18|_>>>14,qy=_<<18|N>>>14,Vy=S<<1|R>>>31,Hy=R<<1|S>>>31,Gy=Q<<12|J>>>20,ky=J<<12|Q>>>20,jy=V<<10|k>>>22,Qy=k<<10|V>>>22,Wy=pe<<13|K>>>19,$y=K<<13|pe>>>19,zy=ue<<2|re>>>30,Ky=re<<2|ue>>>30,Yy=se<<30|Y>>>2,Jy=Y<<30|se>>>2,Xy=te<<6|ie>>>26,Zy=ie<<6|te>>>26,e0=le<<11|M>>>21,t0=M<<11|le>>>21,r0=ae<<15|fe>>>17,n0=fe<<15|ae>>>17,i0=ce<<29|oe>>>3,s0=oe<<29|ce>>>3,o0=y<<28|v>>>4,a0=v<<28|y>>>4,u0=P<<23|b>>>9,c0=b<<23|P>>>9,l0=C<<25|O>>>7,f0=O<<25|C>>>7,h0=L<<21|x>>>11,d0=x<<21|L>>>11,p0=H<<24|F>>>8,g0=F<<24|H>>>8,y0=q<<27|Z>>>5,m0=Z<<27|q>>>5,w0=we<<20|Ae>>>12,E0=Ae<<20|we>>>12,v0=tt<<7|Re>>>25,A0=Re<<7|tt>>>25,b0=lt<<8|Oe>>>24,_0=Oe<<8|lt>>>24,I0=Ue<<14|Ot>>>18,S0=Ot<<14|Ue>>>18;t[0]=hi^~Gy&e0,t[1]=ms^~ky&t0,t[10]=o0^~w0&Un,t[11]=a0^~E0&$t,t[20]=Vy^~Xy&l0,t[21]=Hy^~Zy&f0,t[30]=y0^~ws&jy,t[31]=m0^~sr&Qy,t[40]=Yy^~u0&v0,t[41]=Jy^~c0&A0,t[2]=Gy^~e0&h0,t[3]=ky^~t0&d0,t[12]=w0^~Un&Wy,t[13]=E0^~$t&$y,t[22]=Xy^~l0&b0,t[23]=Zy^~f0&_0,t[32]=ws^~jy&r0,t[33]=sr^~Qy&n0,t[42]=u0^~v0&Dt,t[43]=c0^~A0&$e,t[4]=e0^~h0&I0,t[5]=t0^~d0&S0,t[14]=Un^~Wy&i0,t[15]=$t^~$y&s0,t[24]=l0^~b0&Uy,t[25]=f0^~_0&qy,t[34]=jy^~r0&p0,t[35]=Qy^~n0&g0,t[44]=v0^~Dt&zy,t[45]=A0^~$e&Ky,t[6]=h0^~I0&hi,t[7]=d0^~S0&ms,t[16]=Wy^~i0&o0,t[17]=$y^~s0&a0,t[26]=b0^~Uy&Vy,t[27]=_0^~qy&Hy,t[36]=r0^~p0&y0,t[37]=n0^~g0&m0,t[46]=Dt^~zy&Yy,t[47]=$e^~Ky&Jy,t[8]=I0^~hi&Gy,t[9]=S0^~ms&ky,t[18]=i0^~o0&w0,t[19]=s0^~a0&E0,t[28]=Uy^~Vy&Xy,t[29]=qy^~Hy&Zy,t[38]=p0^~y0&ws,t[39]=g0^~m0&sr,t[48]=zy^~Yy&u0,t[49]=Ky^~Jy&c0,t[0]^=TO[e*2],t[1]^=TO[e*2+1]}}});var OO=m((Ice,NO)=>{c();var Id=xO();function da(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}da.prototype.initialize=function(t,e){for(let r=0;r<50;++r)this.state[r]=0;this.blockSize=t/8,this.count=0,this.squeezing=!1};da.prototype.absorb=function(t){for(let e=0;e<t.length;++e)this.state[~~(this.count/4)]^=t[e]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(Id.p1600(this.state),this.count=0)};da.prototype.absorbLastFewBits=function(t){this.state[~~(this.count/4)]^=t<<8*(this.count%4),t&128&&this.count===this.blockSize-1&&Id.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),Id.p1600(this.state),this.count=0,this.squeezing=!0};da.prototype.squeeze=function(t){this.squeezing||this.absorbLastFewBits(1);let e=h.Buffer.alloc(t);for(let r=0;r<t;++r)e[r]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(Id.p1600(this.state),this.count=0);return e};da.prototype.copy=function(t){for(let e=0;e<50;++e)t.state[e]=this.state[e];t.blockSize=this.blockSize,t.count=this.count,t.squeezing=this.squeezing};NO.exports=da});var av=m((Tce,DO)=>{c();DO.exports=SO()(OO())});var fv=m(pa=>{"use strict";c();var kj=pa&&pa.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(pa,"__esModule",{value:!0});pa.SmartContract=void 0;var jj=kj(Gt()),Cc=ht(),uv=Uh(),Qj=Be(),cv=wn(),Wj=wr(),$j=ac(),PO=cE(),RO=wc(),BO=wE(),zj=AE(),Kj=Ec(),Sd=xE(),Yj=av(),lv=class{constructor(e={}){this.address=new Cc.Address,this.methodsExplicit={},this.methods={},this.address=e.address||new Cc.Address,this.abi=e.abi,this.abi&&this.setupMethods()}setupMethods(){let e=this,r=this.getAbi();for(let n of r.getEndpoints()){let i=n.name;this.methodsExplicit[i]=function(s){let o=new RO.ContractFunction(i);return new BO.Interaction(e,o,s||[])},this.methods[i]=function(s){let o=new RO.ContractFunction(i),a=zj.NativeSerializer.nativeToTypedValues(s||[],n);return new BO.Interaction(e,o,a||[])}}}setAddress(e){this.address=e}getAddress(){return this.address}getAbi(){return Wj.guardValueIsSet("abi",this.abi),this.abi}getEndpoint(e){return this.getAbi().getEndpoint(e)}deploy({deployer:e,code:r,codeMetadata:n,initArguments:i,value:s,gasLimit:o,gasPrice:a,chainID:u}){uv.Compatibility.guardAddressIsSetAndNonZero(e,"'deployer' of SmartContract.deploy()","pass the actual address to deploy()"),n=n||new PO.CodeMetadata,i=i||[],s=s||0;let l=new Sd.ContractDeployPayloadBuilder().setCode(r).setCodeMetadata(n).setInitArgs(i).build();return new cv.Transaction({receiver:Cc.Address.Zero(),sender:e,value:s,gasLimit:o,gasPrice:a,data:l,chainID:u})}upgrade({caller:e,code:r,codeMetadata:n,initArguments:i,value:s,gasLimit:o,gasPrice:a,chainID:u}){uv.Compatibility.guardAddressIsSetAndNonZero(e,"'caller' of SmartContract.upgrade()","pass the actual address to upgrade()"),this.ensureHasAddress(),n=n||new PO.CodeMetadata,i=i||[],s=s||0;let l=new Sd.ContractUpgradePayloadBuilder().setCode(r).setCodeMetadata(n).setInitArgs(i).build();return new cv.Transaction({sender:e,receiver:this.getAddress(),value:s,gasLimit:o,gasPrice:a,data:l,chainID:u})}call({func:e,args:r,value:n,gasLimit:i,receiver:s,gasPrice:o,chainID:a,caller:u}){uv.Compatibility.guardAddressIsSetAndNonZero(u,"'caller' of SmartContract.call()","pass the actual address to call()"),this.ensureHasAddress(),r=r||[],n=n||0;let l=new Sd.ContractCallPayloadBuilder().setFunction(e).setArgs(r).build();return new cv.Transaction({sender:u,receiver:s||this.getAddress(),value:n,gasLimit:i,gasPrice:o,data:l,chainID:a})}createQuery({func:e,args:r,value:n,caller:i}){return this.ensureHasAddress(),new Kj.Query({address:this.getAddress(),func:e,args:r,value:n,caller:i})}ensureHasAddress(){if(!this.getAddress().bech32())throw new Qj.ErrContractHasNoAddress}static computeAddress(e,r){let n=h.Buffer.alloc(8,0),i=new Cc.Address(e.bech32()).pubkey(),s=i.slice(30),o=h.Buffer.alloc(8),a=new jj.default(r.valueOf().toString(10)),u=$j.bigIntToBuffer(a);o.write(u.reverse().toString("hex"),"hex");let l=h.Buffer.concat([i,o]),f=Yj("keccak256").update(l).digest(),d=h.Buffer.from(Sd.ArwenVirtualMachine,"hex"),g=h.Buffer.concat([n,d,f.slice(10,30),s]);return new Cc.Address(g)}};pa.SmartContract=lv});var LO=m(Bi=>{"use strict";c();Object.defineProperty(Bi,"__esModule",{value:!0});Bi.ErrAccountNotConnected=Bi.ErrCannotSignSingleTransaction=Bi.Err=void 0;var xc=class extends Error{constructor(e,r){super(e),this.inner=void 0,this.inner=r}};Bi.Err=xc;var hv=class extends xc{constructor(){super("Cannot sign single transaction.")}};Bi.ErrCannotSignSingleTransaction=hv;var dv=class extends xc{constructor(){super("Account is not connected.")}};Bi.ErrAccountNotConnected=dv});var FO=m(Nc=>{"use strict";c();Object.defineProperty(Nc,"__esModule",{value:!0});Nc.Operation=void 0;var Jj;(function(t){t.Connect="connect",t.Logout="logout",t.SignTransactions="signTransactions",t.SignMessage="signMessage",t.CancelAction="cancelAction"})(Jj=Nc.Operation||(Nc.Operation={}))});var pv=m(ga=>{"use strict";c();var Li=ga&&ga.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(f){try{l(n.next(f))}catch(d){o(d)}}function u(f){try{l(n.throw(f))}catch(d){o(d)}}function l(f){f.done?s(f.value):i(f.value).then(a,u)}l((n=n.apply(t,e||[])).next())})};Object.defineProperty(ga,"__esModule",{value:!0});ga.ExtensionProvider=void 0;var Xj=wn(),MO=LO(),Oc=FO(),Dc=class t{constructor(){if(this.account={address:""},this.initialized=!1,t._instance)throw new Error("Error: Instantiation failed: Use ExtensionProvider.getInstance() instead of new.");t._instance=this}static getInstance(){return t._instance}setAddress(e){return this.account.address=e,t._instance}init(){return Li(this,void 0,void 0,function*(){return window&&window.elrondWallet&&(this.initialized=!0),this.initialized})}login(e={}){return Li(this,void 0,void 0,function*(){if(!this.initialized)throw new Error("Extension provider is not initialised, call init() first");let{token:r}=e,n=r||"";return yield this.startBgrMsgChannel(Oc.Operation.Connect,n),this.account.address})}logout(){return Li(this,void 0,void 0,function*(){if(!this.initialized)throw new Error("Extension provider is not initialised, call init() first");try{yield this.startBgrMsgChannel(Oc.Operation.Logout,this.account.address),this.disconnect()}catch(e){console.warn("Extension origin url is already cleared!",e)}return!0})}disconnect(){this.account={address:""}}getAddress(){return Li(this,void 0,void 0,function*(){if(!this.initialized)throw new Error("Extension provider is not initialised, call init() first");return this.account?this.account.address:""})}isInitialized(){return this.initialized}isConnected(){return Li(this,void 0,void 0,function*(){return!!this.account.address})}signTransaction(e){return Li(this,void 0,void 0,function*(){this.ensureConnected();let r=yield this.signTransactions([e]);if(r.length!=1)throw new MO.ErrCannotSignSingleTransaction;return r[0]})}ensureConnected(){if(!this.account.address)throw new MO.ErrAccountNotConnected}signTransactions(e){return Li(this,void 0,void 0,function*(){this.ensureConnected();let r=yield this.startBgrMsgChannel(Oc.Operation.SignTransactions,{from:this.account.address,transactions:e.map(n=>n.toPlainObject())});try{return r.map(i=>Xj.Transaction.fromPlainObject(i))}catch(n){throw new Error(`Transaction canceled: ${n.message}.`)}})}signMessage(e){return Li(this,void 0,void 0,function*(){this.ensureConnected();let r={account:this.account.address,message:e.message.toString()},i=(yield this.startBgrMsgChannel(Oc.Operation.SignMessage,r)).signature,s=h.Buffer.from(i,"hex");return e.applySignature(s),e})}cancelAction(){return this.startBgrMsgChannel(Oc.Operation.CancelAction,{})}startBgrMsgChannel(e,r){return new Promise(n=>{window.postMessage({target:"erdw-inpage",type:e,data:r},window.origin);let i=s=>{s.isTrusted&&s.data.target==="erdw-contentScript"&&(s.data.type==="connectResponse"?(s.data.data&&s.data.data.address&&(this.account=s.data.data),window.removeEventListener("message",i),n(s.data.data)):(window.removeEventListener("message",i),n(s.data.data)))};window.addEventListener("message",i,!1)})}};ga.ExtensionProvider=Dc;Dc._instance=new Dc});var Er={};ft(Er,{__assign:()=>yv,__asyncDelegator:()=>fQ,__asyncGenerator:()=>lQ,__asyncValues:()=>hQ,__await:()=>Pc,__awaiter:()=>iQ,__classPrivateFieldGet:()=>yQ,__classPrivateFieldSet:()=>mQ,__createBinding:()=>oQ,__decorate:()=>tQ,__exportStar:()=>aQ,__extends:()=>Zj,__generator:()=>sQ,__importDefault:()=>gQ,__importStar:()=>pQ,__makeTemplateObject:()=>dQ,__metadata:()=>nQ,__param:()=>rQ,__read:()=>GO,__rest:()=>eQ,__spread:()=>uQ,__spreadArrays:()=>cQ,__values:()=>mv});function Zj(t,e){gv(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function eQ(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function tQ(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function rQ(t,e){return function(r,n){e(r,n,t)}}function nQ(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function iQ(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(f){try{l(n.next(f))}catch(d){o(d)}}function u(f){try{l(n.throw(f))}catch(d){o(d)}}function l(f){f.done?s(f.value):i(f.value).then(a,u)}l((n=n.apply(t,e||[])).next())})}function sQ(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(f){return u([l,f])}}function u(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){r.label=l[1];break}if(l[0]===6&&r.label<s[1]){r.label=s[1],s=l;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(l);break}s[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(f){l=[6,f],i=0}finally{n=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function oQ(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function aQ(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function mv(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function GO(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function uQ(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(GO(arguments[e]));return t}function cQ(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function Pc(t){return this instanceof Pc?(this.v=t,this):new Pc(t)}function lQ(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(g){n[g]&&(i[g]=function(w){return new Promise(function(E,T){s.push([g,w,E,T])>1||a(g,w)})})}function a(g,w){try{u(n[g](w))}catch(E){d(s[0][3],E)}}function u(g){g.value instanceof Pc?Promise.resolve(g.value.v).then(l,f):d(s[0][2],g)}function l(g){a("next",g)}function f(g){a("throw",g)}function d(g,w){g(w),s.shift(),s.length&&a(s[0][0],s[0][1])}}function fQ(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=t[i]?function(o){return(r=!r)?{value:Pc(t[i](o)),done:i==="return"}:s?s(o):o}:s}}function hQ(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof mv=="function"?mv(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(o){return new Promise(function(a,u){o=t[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}}function dQ(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function pQ(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function gQ(t){return t&&t.__esModule?t:{default:t}}function yQ(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function mQ(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}var gv,yv,vr=ge(()=>{c();gv=function(t,e){return gv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},gv(t,e)};yv=function(){return yv=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},yv.apply(this,arguments)}});var wv=m(Nd=>{"use strict";c();Object.defineProperty(Nd,"__esModule",{value:!0});function wQ(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return JSON.parse(t)}catch{return t}}Nd.safeJsonParse=wQ;function EQ(t){return typeof t=="string"?t:JSON.stringify(t,(e,r)=>typeof r>"u"?null:r)}Nd.safeJsonStringify=EQ});var kO=m(($ce,Od)=>{"use strict";c();(function(){"use strict";let t;function e(){}t=e,t.prototype.getItem=function(r){return this.hasOwnProperty(r)?String(this[r]):null},t.prototype.setItem=function(r,n){this[r]=String(n)},t.prototype.removeItem=function(r){delete this[r]},t.prototype.clear=function(){let r=this;Object.keys(r).forEach(function(n){r[n]=void 0,delete r[n]})},t.prototype.key=function(r){return r=r||0,Object.keys(this)[r]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof global<"u"&&global.localStorage?Od.exports=global.localStorage:typeof window<"u"&&window.localStorage?Od.exports=window.localStorage:Od.exports=new e})()});var jO=m(Dd=>{"use strict";c();Object.defineProperty(Dd,"__esModule",{value:!0});Dd.IKeyValueStorage=void 0;var Ev=class{};Dd.IKeyValueStorage=Ev});var QO=m(Pd=>{"use strict";c();Object.defineProperty(Pd,"__esModule",{value:!0});Pd.parseEntry=void 0;var vQ=wv();function AQ(t){var e;return[t[0],vQ.safeJsonParse((e=t[1])!==null&&e!==void 0?e:"")]}Pd.parseEntry=AQ});var $O=m(Rd=>{"use strict";c();Object.defineProperty(Rd,"__esModule",{value:!0});var WO=(vr(),ct(Er));WO.__exportStar(jO(),Rd);WO.__exportStar(QO(),Rd)});var KO=m(Rc=>{"use strict";c();Object.defineProperty(Rc,"__esModule",{value:!0});Rc.KeyValueStorage=void 0;var ya=(vr(),ct(Er)),zO=wv(),bQ=ya.__importDefault(kO()),_Q=$O(),Bd=class{constructor(){this.localStorage=bQ.default}getKeys(){return ya.__awaiter(this,void 0,void 0,function*(){return Object.keys(this.localStorage)})}getEntries(){return ya.__awaiter(this,void 0,void 0,function*(){return Object.entries(this.localStorage).map(_Q.parseEntry)})}getItem(e){return ya.__awaiter(this,void 0,void 0,function*(){let r=this.localStorage.getItem(e);if(r!==null)return zO.safeJsonParse(r)})}setItem(e,r){return ya.__awaiter(this,void 0,void 0,function*(){this.localStorage.setItem(e,zO.safeJsonStringify(r))})}removeItem(e){return ya.__awaiter(this,void 0,void 0,function*(){this.localStorage.removeItem(e)})}};Rc.KeyValueStorage=Bd;Rc.default=Bd});var YO=m(Ld=>{"use strict";c();Object.defineProperty(Ld,"__esModule",{value:!0});Ld.delay=void 0;function IQ(t){return new Promise(e=>{setTimeout(()=>{e(!0)},t)})}Ld.delay=IQ});var JO=m(ma=>{"use strict";c();Object.defineProperty(ma,"__esModule",{value:!0});ma.ONE_THOUSAND=ma.ONE_HUNDRED=void 0;ma.ONE_HUNDRED=100;ma.ONE_THOUSAND=1e3});var XO=m(de=>{"use strict";c();Object.defineProperty(de,"__esModule",{value:!0});de.ONE_YEAR=de.FOUR_WEEKS=de.THREE_WEEKS=de.TWO_WEEKS=de.ONE_WEEK=de.THIRTY_DAYS=de.SEVEN_DAYS=de.FIVE_DAYS=de.THREE_DAYS=de.ONE_DAY=de.TWENTY_FOUR_HOURS=de.TWELVE_HOURS=de.SIX_HOURS=de.THREE_HOURS=de.ONE_HOUR=de.SIXTY_MINUTES=de.THIRTY_MINUTES=de.TEN_MINUTES=de.FIVE_MINUTES=de.ONE_MINUTE=de.SIXTY_SECONDS=de.THIRTY_SECONDS=de.TEN_SECONDS=de.FIVE_SECONDS=de.ONE_SECOND=void 0;de.ONE_SECOND=1;de.FIVE_SECONDS=5;de.TEN_SECONDS=10;de.THIRTY_SECONDS=30;de.SIXTY_SECONDS=60;de.ONE_MINUTE=de.SIXTY_SECONDS;de.FIVE_MINUTES=de.ONE_MINUTE*5;de.TEN_MINUTES=de.ONE_MINUTE*10;de.THIRTY_MINUTES=de.ONE_MINUTE*30;de.SIXTY_MINUTES=de.ONE_MINUTE*60;de.ONE_HOUR=de.SIXTY_MINUTES;de.THREE_HOURS=de.ONE_HOUR*3;de.SIX_HOURS=de.ONE_HOUR*6;de.TWELVE_HOURS=de.ONE_HOUR*12;de.TWENTY_FOUR_HOURS=de.ONE_HOUR*24;de.ONE_DAY=de.TWENTY_FOUR_HOURS;de.THREE_DAYS=de.ONE_DAY*3;de.FIVE_DAYS=de.ONE_DAY*5;de.SEVEN_DAYS=de.ONE_DAY*7;de.THIRTY_DAYS=de.ONE_DAY*30;de.ONE_WEEK=de.SEVEN_DAYS;de.TWO_WEEKS=de.ONE_WEEK*2;de.THREE_WEEKS=de.ONE_WEEK*3;de.FOUR_WEEKS=de.ONE_WEEK*4;de.ONE_YEAR=de.ONE_DAY*365});var vv=m(Fd=>{"use strict";c();Object.defineProperty(Fd,"__esModule",{value:!0});var ZO=(vr(),ct(Er));ZO.__exportStar(JO(),Fd);ZO.__exportStar(XO(),Fd)});var t2=m(wa=>{"use strict";c();Object.defineProperty(wa,"__esModule",{value:!0});wa.fromMiliseconds=wa.toMiliseconds=void 0;var e2=vv();function SQ(t){return t*e2.ONE_THOUSAND}wa.toMiliseconds=SQ;function TQ(t){return Math.floor(t/e2.ONE_THOUSAND)}wa.fromMiliseconds=TQ});var n2=m(Md=>{"use strict";c();Object.defineProperty(Md,"__esModule",{value:!0});var r2=(vr(),ct(Er));r2.__exportStar(YO(),Md);r2.__exportStar(t2(),Md)});var i2=m(Bc=>{"use strict";c();Object.defineProperty(Bc,"__esModule",{value:!0});Bc.Watch=void 0;var Ud=class{constructor(){this.timestamps=new Map}start(e){if(this.timestamps.has(e))throw new Error(`Watch already started for label: ${e}`);this.timestamps.set(e,{started:Date.now()})}stop(e){let r=this.get(e);if(typeof r.elapsed<"u")throw new Error(`Watch already stopped for label: ${e}`);let n=Date.now()-r.started;this.timestamps.set(e,{started:r.started,elapsed:n})}get(e){let r=this.timestamps.get(e);if(typeof r>"u")throw new Error(`No timestamp found for label: ${e}`);return r}elapsed(e){let r=this.get(e);return r.elapsed||Date.now()-r.started}};Bc.Watch=Ud;Bc.default=Ud});var s2=m(qd=>{"use strict";c();Object.defineProperty(qd,"__esModule",{value:!0});qd.IWatch=void 0;var Av=class{};qd.IWatch=Av});var o2=m(bv=>{"use strict";c();Object.defineProperty(bv,"__esModule",{value:!0});var CQ=(vr(),ct(Er));CQ.__exportStar(s2(),bv)});var ks=m(Ea=>{"use strict";c();Object.defineProperty(Ea,"__esModule",{value:!0});var Vd=(vr(),ct(Er));Vd.__exportStar(n2(),Ea);Vd.__exportStar(i2(),Ea);Vd.__exportStar(o2(),Ea);Vd.__exportStar(vv(),Ea)});var _v,a2=ge(()=>{c();_v=class{}});var Iv={};ft(Iv,{IEvents:()=>_v});var Sv=ge(()=>{c();a2()});var u2=m(Hd=>{"use strict";c();Object.defineProperty(Hd,"__esModule",{value:!0});Hd.IHeartBeat=void 0;var xQ=(Sv(),ct(Iv)),Tv=class extends xQ.IEvents{constructor(e){super()}};Hd.IHeartBeat=Tv});var xv=m(Cv=>{"use strict";c();Object.defineProperty(Cv,"__esModule",{value:!0});var NQ=(vr(),ct(Er));NQ.__exportStar(u2(),Cv)});var c2=m(va=>{"use strict";c();Object.defineProperty(va,"__esModule",{value:!0});va.HEARTBEAT_EVENTS=va.HEARTBEAT_INTERVAL=void 0;var OQ=ks();va.HEARTBEAT_INTERVAL=OQ.FIVE_SECONDS;va.HEARTBEAT_EVENTS={pulse:"heartbeat_pulse"}});var Ov=m(Nv=>{"use strict";c();Object.defineProperty(Nv,"__esModule",{value:!0});var DQ=(vr(),ct(Er));DQ.__exportStar(c2(),Nv)});var l2=m(Gd=>{"use strict";c();Object.defineProperty(Gd,"__esModule",{value:!0});Gd.HeartBeat=void 0;var Dv=(vr(),ct(Er)),PQ=Kn(),RQ=ks(),BQ=xv(),Pv=Ov(),Rv=class t extends BQ.IHeartBeat{constructor(e){super(e),this.events=new PQ.EventEmitter,this.interval=Pv.HEARTBEAT_INTERVAL,this.interval=e?.interval||Pv.HEARTBEAT_INTERVAL}static init(e){return Dv.__awaiter(this,void 0,void 0,function*(){let r=new t(e);return yield r.init(),r})}init(){return Dv.__awaiter(this,void 0,void 0,function*(){yield this.initialize()})}stop(){clearInterval(this.intervalRef)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}initialize(){return Dv.__awaiter(this,void 0,void 0,function*(){this.intervalRef=setInterval(()=>this.pulse(),RQ.toMiliseconds(this.interval))})}pulse(){this.events.emit(Pv.HEARTBEAT_EVENTS.pulse)}};Gd.HeartBeat=Rv});var f2=m(Lc=>{"use strict";c();Object.defineProperty(Lc,"__esModule",{value:!0});var Bv=(vr(),ct(Er));Bv.__exportStar(l2(),Lc);Bv.__exportStar(xv(),Lc);Bv.__exportStar(Ov(),Lc)});var d2=m((qle,h2)=>{"use strict";c();function LQ(t){try{return JSON.stringify(t)}catch{return'"[Circular]"'}}h2.exports=FQ;function FQ(t,e,r){var n=r&&r.stringify||LQ,i=1;if(typeof t=="object"&&t!==null){var s=e.length+i;if(s===1)return t;var o=new Array(s);o[0]=n(t);for(var a=1;a<s;a++)o[a]=n(e[a]);return o.join(" ")}if(typeof t!="string")return t;var u=e.length;if(u===0)return t;for(var l="",f=1-i,d=-1,g=t&&t.length||0,w=0;w<g;){if(t.charCodeAt(w)===37&&w+1<g){switch(d=d>-1?d:0,t.charCodeAt(w+1)){case 100:case 102:if(f>=u||e[f]==null)break;d<w&&(l+=t.slice(d,w)),l+=Number(e[f]),d=w+2,w++;break;case 105:if(f>=u||e[f]==null)break;d<w&&(l+=t.slice(d,w)),l+=Math.floor(Number(e[f])),d=w+2,w++;break;case 79:case 111:case 106:if(f>=u||e[f]===void 0)break;d<w&&(l+=t.slice(d,w));var E=typeof e[f];if(E==="string"){l+="'"+e[f]+"'",d=w+2,w++;break}if(E==="function"){l+=e[f].name||"<anonymous>",d=w+2,w++;break}l+=n(e[f]),d=w+2,w++;break;case 115:if(f>=u)break;d<w&&(l+=t.slice(d,w)),l+=String(e[f]),d=w+2,w++;break;case 37:d<w&&(l+=t.slice(d,w)),l+="%",d=w+2,w++,f--;break}++f}++w}return d===-1?t:(d<g&&(l+=t.slice(d)),l)}});var w2=m((Hle,m2)=>{"use strict";c();var p2=d2();m2.exports=_n;var Fc=WQ().console||{},MQ={mapHttpRequest:kd,mapHttpResponse:kd,wrapRequestSerializer:Lv,wrapResponseSerializer:Lv,wrapErrorSerializer:Lv,req:kd,res:kd,err:GQ};function UQ(t,e){return Array.isArray(t)?t.filter(function(n){return n!=="!stdSerializers.err"}):t===!0?Object.keys(e):!1}function _n(t){t=t||{},t.browser=t.browser||{};let e=t.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");let r=t.browser.write||Fc;t.browser.write&&(t.browser.asObject=!0);let n=t.serializers||{},i=UQ(t.browser.serialize,n),s=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(s=!1);let o=["error","fatal","warn","info","debug","trace"];typeof r=="function"&&(r.error=r.fatal=r.warn=r.info=r.debug=r.trace=r),t.enabled===!1&&(t.level="silent");let a=t.level||"info",u=Object.create(r);u.log||(u.log=Mc),Object.defineProperty(u,"levelVal",{get:f}),Object.defineProperty(u,"level",{get:d,set:g});let l={transmit:e,serialize:i,asObject:t.browser.asObject,levels:o,timestamp:kQ(t)};u.levels=_n.levels,u.level=a,u.setMaxListeners=u.getMaxListeners=u.emit=u.addListener=u.on=u.prependListener=u.once=u.prependOnceListener=u.removeListener=u.removeAllListeners=u.listeners=u.listenerCount=u.eventNames=u.write=u.flush=Mc,u.serializers=n,u._serialize=i,u._stdErrSerialize=s,u.child=w,e&&(u._logEvent=Fv());function f(){return this.level==="silent"?1/0:this.levels.values[this.level]}function d(){return this._level}function g(E){if(E!=="silent"&&!this.levels.values[E])throw Error("unknown level "+E);this._level=E,Aa(l,u,"error","log"),Aa(l,u,"fatal","error"),Aa(l,u,"warn","error"),Aa(l,u,"info","log"),Aa(l,u,"debug","log"),Aa(l,u,"trace","log")}function w(E,T){if(!E)throw new Error("missing bindings for child Pino");T=T||{},i&&E.serializers&&(T.serializers=E.serializers);let D=T.serializers;if(i&&D){var B=Object.assign({},n,D),W=t.browser.serialize===!0?Object.keys(B):i;delete E.serializers,jd([E],W,B,this._stdErrSerialize)}function U(A){this._childLevel=(A._childLevel|0)+1,this.error=ba(A,E,"error"),this.fatal=ba(A,E,"fatal"),this.warn=ba(A,E,"warn"),this.info=ba(A,E,"info"),this.debug=ba(A,E,"debug"),this.trace=ba(A,E,"trace"),B&&(this.serializers=B,this._serialize=W),e&&(this._logEvent=Fv([].concat(A._logEvent.bindings,E)))}return U.prototype=this,new U(this)}return u}_n.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};_n.stdSerializers=MQ;_n.stdTimeFunctions=Object.assign({},{nullTime:g2,epochTime:y2,unixTime:jQ,isoTime:QQ});function Aa(t,e,r,n){let i=Object.getPrototypeOf(e);e[r]=e.levelVal>e.levels.values[r]?Mc:i[r]?i[r]:Fc[r]||Fc[n]||Mc,qQ(t,e,r)}function qQ(t,e,r){!t.transmit&&e[r]===Mc||(e[r]=function(n){return function(){let s=t.timestamp(),o=new Array(arguments.length),a=Object.getPrototypeOf&&Object.getPrototypeOf(this)===Fc?Fc:this;for(var u=0;u<o.length;u++)o[u]=arguments[u];if(t.serialize&&!t.asObject&&jd(o,this._serialize,this.serializers,this._stdErrSerialize),t.asObject?n.call(a,VQ(this,r,o,s)):n.apply(a,o),t.transmit){let l=t.transmit.level||e.level,f=_n.levels.values[l],d=_n.levels.values[r];if(d<f)return;HQ(this,{ts:s,methodLevel:r,methodValue:d,transmitLevel:l,transmitValue:_n.levels.values[t.transmit.level||e.level],send:t.transmit.send,val:e.levelVal},o)}}}(e[r]))}function VQ(t,e,r,n){t._serialize&&jd(r,t._serialize,t.serializers,t._stdErrSerialize);let i=r.slice(),s=i[0],o={};n&&(o.time=n),o.level=_n.levels.values[e];let a=(t._childLevel|0)+1;if(a<1&&(a=1),s!==null&&typeof s=="object"){for(;a--&&typeof i[0]=="object";)Object.assign(o,i.shift());s=i.length?p2(i.shift(),i):void 0}else typeof s=="string"&&(s=p2(i.shift(),i));return s!==void 0&&(o.msg=s),o}function jd(t,e,r,n){for(let i in t)if(n&&t[i]instanceof Error)t[i]=_n.stdSerializers.err(t[i]);else if(typeof t[i]=="object"&&!Array.isArray(t[i]))for(let s in t[i])e&&e.indexOf(s)>-1&&s in r&&(t[i][s]=r[s](t[i][s]))}function ba(t,e,r){return function(){let n=new Array(1+arguments.length);n[0]=e;for(var i=1;i<n.length;i++)n[i]=arguments[i-1];return t[r].apply(this,n)}}function HQ(t,e,r){let n=e.send,i=e.ts,s=e.methodLevel,o=e.methodValue,a=e.val,u=t._logEvent.bindings;jd(r,t._serialize||Object.keys(t.serializers),t.serializers,t._stdErrSerialize===void 0?!0:t._stdErrSerialize),t._logEvent.ts=i,t._logEvent.messages=r.filter(function(l){return u.indexOf(l)===-1}),t._logEvent.level.label=s,t._logEvent.level.value=o,n(s,t._logEvent,a),t._logEvent=Fv(u)}function Fv(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}function GQ(t){let e={type:t.constructor.name,msg:t.message,stack:t.stack};for(let r in t)e[r]===void 0&&(e[r]=t[r]);return e}function kQ(t){return typeof t.timestamp=="function"?t.timestamp:t.timestamp===!1?g2:y2}function kd(){return{}}function Lv(t){return t}function Mc(){}function g2(){return!1}function y2(){return Date.now()}function jQ(){return Math.round(Date.now()/1e3)}function QQ(){return new Date(Date.now()).toISOString()}function WQ(){function t(e){return typeof e<"u"&&e}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return t(self)||t(window)||t(this)||{}}}});var Mv=m(_a=>{"use strict";c();Object.defineProperty(_a,"__esModule",{value:!0});_a.PINO_CUSTOM_CONTEXT_KEY=_a.PINO_LOGGER_DEFAULTS=void 0;_a.PINO_LOGGER_DEFAULTS={level:"info"};_a.PINO_CUSTOM_CONTEXT_KEY="custom_context"});var _2=m(dr=>{"use strict";c();Object.defineProperty(dr,"__esModule",{value:!0});dr.generateChildLogger=dr.formatChildLoggerContext=dr.getLoggerContext=dr.setBrowserLoggerContext=dr.getBrowserLoggerContext=dr.getDefaultLoggerOptions=void 0;var Ia=Mv();function $Q(t){return Object.assign(Object.assign({},t),{level:t?.level||Ia.PINO_LOGGER_DEFAULTS.level})}dr.getDefaultLoggerOptions=$Q;function E2(t,e=Ia.PINO_CUSTOM_CONTEXT_KEY){return t[e]||""}dr.getBrowserLoggerContext=E2;function v2(t,e,r=Ia.PINO_CUSTOM_CONTEXT_KEY){return t[r]=e,t}dr.setBrowserLoggerContext=v2;function A2(t,e=Ia.PINO_CUSTOM_CONTEXT_KEY){let r="";return typeof t.bindings>"u"?r=E2(t,e):r=t.bindings().context||"",r}dr.getLoggerContext=A2;function b2(t,e,r=Ia.PINO_CUSTOM_CONTEXT_KEY){let n=A2(t,r);return n.trim()?`${n}/${e}`:e}dr.formatChildLoggerContext=b2;function zQ(t,e,r=Ia.PINO_CUSTOM_CONTEXT_KEY){let n=b2(t,e,r),i=t.child({context:n});return v2(i,n,r)}dr.generateChildLogger=zQ});var qv=m(Sa=>{"use strict";c();Object.defineProperty(Sa,"__esModule",{value:!0});Sa.pino=void 0;var Uv=(vr(),ct(Er)),KQ=Uv.__importDefault(w2());Object.defineProperty(Sa,"pino",{enumerable:!0,get:function(){return KQ.default}});Uv.__exportStar(Mv(),Sa);Uv.__exportStar(_2(),Sa)});var n1=m(Pt=>{"use strict";c();Object.defineProperty(Pt,"__esModule",{value:!0});var Ta=(Sv(),ct(Iv)),I2=Kn();function YQ(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}var JQ=YQ(I2),Vv=class extends Ta.IEvents{constructor(e){super(),this.opts=e,this.protocol="wc",this.version=2}},Hv=class{constructor(e,r,n){this.core=e,this.logger=r}},Gv=class extends Ta.IEvents{constructor(e,r){super(),this.core=e,this.logger=r,this.records=new Map}},kv=class{constructor(e,r){this.logger=e,this.core=r}},jv=class extends Ta.IEvents{constructor(e,r){super(),this.relayer=e,this.logger=r}},Qv=class extends Ta.IEvents{constructor(e){super()}},Wv=class{constructor(e,r,n,i){this.core=e,this.logger=r,this.name=n}},$v=class{constructor(){this.map=new Map}},zv=class extends Ta.IEvents{constructor(e,r){super(),this.relayer=e,this.logger=r}},Kv=class{constructor(e,r){this.core=e,this.logger=r}},Yv=class extends Ta.IEvents{constructor(e,r){super(),this.core=e,this.logger=r}},Jv=class{constructor(e,r){this.logger=e,this.core=r}},Xv=class{constructor(e,r){this.projectId=e,this.logger=r}},Zv=class extends JQ.default{constructor(){super()}},e1=class{constructor(e){this.opts=e,this.protocol="wc",this.version=2}},t1=class extends I2.EventEmitter{constructor(){super()}},r1=class{constructor(e){this.client=e}};Pt.ICore=Vv,Pt.ICrypto=Hv,Pt.IEngine=r1,Pt.IEngineEvents=t1,Pt.IExpirer=Yv,Pt.IJsonRpcHistory=Gv,Pt.IKeyChain=Kv,Pt.IMessageTracker=kv,Pt.IPairing=Jv,Pt.IPublisher=jv,Pt.IRelayer=Qv,Pt.ISignClient=e1,Pt.ISignClientEvents=Zv,Pt.IStore=Wv,Pt.ISubscriber=zv,Pt.ISubscriberTopicMap=$v,Pt.IVerify=Xv});var S2={};ft(S2,{safeJsonParse:()=>Uc,safeJsonStringify:()=>qc});function Uc(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return ZQ(t)}catch{return t}}function qc(t){return typeof t=="string"?t:XQ(t)||""}var XQ,ZQ,Qd=ge(()=>{c();XQ=t=>JSON.stringify(t,(e,r)=>typeof r=="bigint"?r.toString()+"n":r),ZQ=t=>{let e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,r=t.replace(e,'$1"$2n"$3');return JSON.parse(r,(n,i)=>typeof i=="string"&&i.match(/^\d+n$/)?BigInt(i.substring(0,i.length-1)):i)}});var C2=m(Wd=>{"use strict";c();Object.defineProperty(Wd,"__esModule",{value:!0});Wd.BrowserRandomSource=void 0;var T2=65536,i1=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;let e=typeof self<"u"?self.crypto||self.msCrypto:null;e&&e.getRandomValues!==void 0&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");let r=new Uint8Array(e);for(let n=0;n<r.length;n+=T2)this._crypto.getRandomValues(r.subarray(n,n+Math.min(r.length-n,T2)));return r}};Wd.BrowserRandomSource=i1});var qr=m(s1=>{"use strict";c();Object.defineProperty(s1,"__esModule",{value:!0});function e7(t){for(var e=0;e<t.length;e++)t[e]=0;return t}s1.wipe=e7});var x2=m(()=>{c()});var N2=m($d=>{"use strict";c();Object.defineProperty($d,"__esModule",{value:!0});$d.NodeRandomSource=void 0;var t7=qr(),o1=class{constructor(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof JI<"u"){let e=x2();e&&e.randomBytes&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let r=this._crypto.randomBytes(e);if(r.length!==e)throw new Error("NodeRandomSource: got fewer bytes than requested");let n=new Uint8Array(e);for(let i=0;i<n.length;i++)n[i]=r[i];return(0,t7.wipe)(r),n}};$d.NodeRandomSource=o1});var O2=m(zd=>{"use strict";c();Object.defineProperty(zd,"__esModule",{value:!0});zd.SystemRandomSource=void 0;var r7=C2(),n7=N2(),a1=class{constructor(){if(this.isAvailable=!1,this.name="",this._source=new r7.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new n7.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(e)}};zd.SystemRandomSource=a1});var D2=m(Ar=>{"use strict";c();Object.defineProperty(Ar,"__esModule",{value:!0});function i7(t,e){var r=t>>>16&65535,n=t&65535,i=e>>>16&65535,s=e&65535;return n*s+(r*s+n*i<<16>>>0)|0}Ar.mul=Math.imul||i7;function s7(t,e){return t+e|0}Ar.add=s7;function o7(t,e){return t-e|0}Ar.sub=o7;function a7(t,e){return t<<e|t>>>32-e}Ar.rotl=a7;function u7(t,e){return t<<32-e|t>>>e}Ar.rotr=u7;function c7(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t}Ar.isInteger=Number.isInteger||c7;Ar.MAX_SAFE_INTEGER=9007199254740991;Ar.isSafeInteger=function(t){return Ar.isInteger(t)&&t>=-Ar.MAX_SAFE_INTEGER&&t<=Ar.MAX_SAFE_INTEGER}});var Ca=m(Ne=>{"use strict";c();Object.defineProperty(Ne,"__esModule",{value:!0});var P2=D2();function l7(t,e){return e===void 0&&(e=0),(t[e+0]<<8|t[e+1])<<16>>16}Ne.readInt16BE=l7;function f7(t,e){return e===void 0&&(e=0),(t[e+0]<<8|t[e+1])>>>0}Ne.readUint16BE=f7;function h7(t,e){return e===void 0&&(e=0),(t[e+1]<<8|t[e])<<16>>16}Ne.readInt16LE=h7;function d7(t,e){return e===void 0&&(e=0),(t[e+1]<<8|t[e])>>>0}Ne.readUint16LE=d7;function R2(t,e,r){return e===void 0&&(e=new Uint8Array(2)),r===void 0&&(r=0),e[r+0]=t>>>8,e[r+1]=t>>>0,e}Ne.writeUint16BE=R2;Ne.writeInt16BE=R2;function B2(t,e,r){return e===void 0&&(e=new Uint8Array(2)),r===void 0&&(r=0),e[r+0]=t>>>0,e[r+1]=t>>>8,e}Ne.writeUint16LE=B2;Ne.writeInt16LE=B2;function u1(t,e){return e===void 0&&(e=0),t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]}Ne.readInt32BE=u1;function c1(t,e){return e===void 0&&(e=0),(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}Ne.readUint32BE=c1;function l1(t,e){return e===void 0&&(e=0),t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]}Ne.readInt32LE=l1;function f1(t,e){return e===void 0&&(e=0),(t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e])>>>0}Ne.readUint32LE=f1;function Kd(t,e,r){return e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0),e[r+0]=t>>>24,e[r+1]=t>>>16,e[r+2]=t>>>8,e[r+3]=t>>>0,e}Ne.writeUint32BE=Kd;Ne.writeInt32BE=Kd;function Yd(t,e,r){return e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0),e[r+0]=t>>>0,e[r+1]=t>>>8,e[r+2]=t>>>16,e[r+3]=t>>>24,e}Ne.writeUint32LE=Yd;Ne.writeInt32LE=Yd;function p7(t,e){e===void 0&&(e=0);var r=u1(t,e),n=u1(t,e+4);return r*4294967296+n-(n>>31)*4294967296}Ne.readInt64BE=p7;function g7(t,e){e===void 0&&(e=0);var r=c1(t,e),n=c1(t,e+4);return r*4294967296+n}Ne.readUint64BE=g7;function y7(t,e){e===void 0&&(e=0);var r=l1(t,e),n=l1(t,e+4);return n*4294967296+r-(r>>31)*4294967296}Ne.readInt64LE=y7;function m7(t,e){e===void 0&&(e=0);var r=f1(t,e),n=f1(t,e+4);return n*4294967296+r}Ne.readUint64LE=m7;function L2(t,e,r){return e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0),Kd(t/4294967296>>>0,e,r),Kd(t>>>0,e,r+4),e}Ne.writeUint64BE=L2;Ne.writeInt64BE=L2;function F2(t,e,r){return e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0),Yd(t>>>0,e,r),Yd(t/4294967296>>>0,e,r+4),e}Ne.writeUint64LE=F2;Ne.writeInt64LE=F2;function w7(t,e,r){if(r===void 0&&(r=0),t%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(t/8>e.length-r)throw new Error("readUintBE: array is too short for the given bitLength");for(var n=0,i=1,s=t/8+r-1;s>=r;s--)n+=e[s]*i,i*=256;return n}Ne.readUintBE=w7;function E7(t,e,r){if(r===void 0&&(r=0),t%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(t/8>e.length-r)throw new Error("readUintLE: array is too short for the given bitLength");for(var n=0,i=1,s=r;s<r+t/8;s++)n+=e[s]*i,i*=256;return n}Ne.readUintLE=E7;function v7(t,e,r,n){if(r===void 0&&(r=new Uint8Array(t/8)),n===void 0&&(n=0),t%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!P2.isSafeInteger(e))throw new Error("writeUintBE value must be an integer");for(var i=1,s=t/8+n-1;s>=n;s--)r[s]=e/i&255,i*=256;return r}Ne.writeUintBE=v7;function A7(t,e,r,n){if(r===void 0&&(r=new Uint8Array(t/8)),n===void 0&&(n=0),t%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!P2.isSafeInteger(e))throw new Error("writeUintLE value must be an integer");for(var i=1,s=n;s<n+t/8;s++)r[s]=e/i&255,i*=256;return r}Ne.writeUintLE=A7;function b7(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat32(e)}Ne.readFloat32BE=b7;function _7(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat32(e,!0)}Ne.readFloat32LE=_7;function I7(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat64(e)}Ne.readFloat64BE=I7;function S7(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat64(e,!0)}Ne.readFloat64LE=S7;function T7(t,e,r){e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat32(r,t),e}Ne.writeFloat32BE=T7;function C7(t,e,r){e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat32(r,t,!0),e}Ne.writeFloat32LE=C7;function x7(t,e,r){e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat64(r,t),e}Ne.writeFloat64BE=x7;function N7(t,e,r){e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat64(r,t,!0),e}Ne.writeFloat64LE=N7});var Vc=m(Jt=>{"use strict";c();Object.defineProperty(Jt,"__esModule",{value:!0});Jt.randomStringForEntropy=Jt.randomString=Jt.randomUint32=Jt.randomBytes=Jt.defaultRandomSource=void 0;var O7=O2(),D7=Ca(),M2=qr();Jt.defaultRandomSource=new O7.SystemRandomSource;function h1(t,e=Jt.defaultRandomSource){return e.randomBytes(t)}Jt.randomBytes=h1;function P7(t=Jt.defaultRandomSource){let e=h1(4,t),r=(0,D7.readUint32LE)(e);return(0,M2.wipe)(e),r}Jt.randomUint32=P7;var U2="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function q2(t,e=U2,r=Jt.defaultRandomSource){if(e.length<2)throw new Error("randomString charset is too short");if(e.length>256)throw new Error("randomString charset is too long");let n="",i=e.length,s=256-256%i;for(;t>0;){let o=h1(Math.ceil(t*256/s),r);for(let a=0;a<o.length&&t>0;a++){let u=o[a];u<s&&(n+=e.charAt(u%i),t--)}(0,M2.wipe)(o)}return n}Jt.randomString=q2;function R7(t,e=U2,r=Jt.defaultRandomSource){let n=Math.ceil(t/(Math.log(e.length)/Math.LN2));return q2(n,e,r)}Jt.randomStringForEntropy=R7});var G2=m(Jn=>{"use strict";c();Object.defineProperty(Jn,"__esModule",{value:!0});var Na=Ca(),xa=qr();Jn.DIGEST_LENGTH=64;Jn.BLOCK_SIZE=128;var H2=function(){function t(){this.digestLength=Jn.DIGEST_LENGTH,this.blockSize=Jn.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return t.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},t.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},t.prototype.clean=function(){xa.wipe(this._buffer),xa.wipe(this._tempHi),xa.wipe(this._tempLo),this.reset()},t.prototype.update=function(e,r){if(r===void 0&&(r=e.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var n=0;if(this._bytesHashed+=r,this._bufferLength>0){for(;this._bufferLength<Jn.BLOCK_SIZE&&r>0;)this._buffer[this._bufferLength++]=e[n++],r--;this._bufferLength===this.blockSize&&(d1(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(r>=this.blockSize&&(n=d1(this._tempHi,this._tempLo,this._stateHi,this._stateLo,e,n,r),r%=this.blockSize);r>0;)this._buffer[this._bufferLength++]=e[n++],r--;return this},t.prototype.finish=function(e){if(!this._finished){var r=this._bytesHashed,n=this._bufferLength,i=r/536870912|0,s=r<<3,o=r%128<112?128:256;this._buffer[n]=128;for(var a=n+1;a<o-8;a++)this._buffer[a]=0;Na.writeUint32BE(i,this._buffer,o-8),Na.writeUint32BE(s,this._buffer,o-4),d1(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,o),this._finished=!0}for(var a=0;a<this.digestLength/8;a++)Na.writeUint32BE(this._stateHi[a],e,a*8),Na.writeUint32BE(this._stateLo[a],e,a*8+4);return this},t.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},t.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},t.prototype.restoreState=function(e){return this._stateHi.set(e.stateHi),this._stateLo.set(e.stateLo),this._bufferLength=e.bufferLength,e.buffer&&this._buffer.set(e.buffer),this._bytesHashed=e.bytesHashed,this._finished=!1,this},t.prototype.cleanSavedState=function(e){xa.wipe(e.stateHi),xa.wipe(e.stateLo),e.buffer&&xa.wipe(e.buffer),e.bufferLength=0,e.bytesHashed=0},t}();Jn.SHA512=H2;var V2=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function d1(t,e,r,n,i,s,o){for(var a=r[0],u=r[1],l=r[2],f=r[3],d=r[4],g=r[5],w=r[6],E=r[7],T=n[0],D=n[1],B=n[2],W=n[3],U=n[4],A=n[5],I=n[6],N=n[7],_,S,R,J,Q,V,k,K;o>=128;){for(var pe=0;pe<16;pe++){var ue=8*pe+s;t[pe]=Na.readUint32BE(i,ue),e[pe]=Na.readUint32BE(i,ue+4)}for(var pe=0;pe<80;pe++){var re=a,Y=u,se=l,te=f,ie=d,M=g,le=w,ae=E,fe=T,oe=D,ce=B,y=W,v=U,b=A,P=I,C=N;if(_=E,S=N,Q=S&65535,V=S>>>16,k=_&65535,K=_>>>16,_=(d>>>14|U<<32-14)^(d>>>18|U<<32-18)^(U>>>41-32|d<<32-(41-32)),S=(U>>>14|d<<32-14)^(U>>>18|d<<32-18)^(d>>>41-32|U<<32-(41-32)),Q+=S&65535,V+=S>>>16,k+=_&65535,K+=_>>>16,_=d&g^~d&w,S=U&A^~U&I,Q+=S&65535,V+=S>>>16,k+=_&65535,K+=_>>>16,_=V2[pe*2],S=V2[pe*2+1],Q+=S&65535,V+=S>>>16,k+=_&65535,K+=_>>>16,_=t[pe%16],S=e[pe%16],Q+=S&65535,V+=S>>>16,k+=_&65535,K+=_>>>16,V+=Q>>>16,k+=V>>>16,K+=k>>>16,R=k&65535|K<<16,J=Q&65535|V<<16,_=R,S=J,Q=S&65535,V=S>>>16,k=_&65535,K=_>>>16,_=(a>>>28|T<<32-28)^(T>>>34-32|a<<32-(34-32))^(T>>>39-32|a<<32-(39-32)),S=(T>>>28|a<<32-28)^(a>>>34-32|T<<32-(34-32))^(a>>>39-32|T<<32-(39-32)),Q+=S&65535,V+=S>>>16,k+=_&65535,K+=_>>>16,_=a&u^a&l^u&l,S=T&D^T&B^D&B,Q+=S&65535,V+=S>>>16,k+=_&65535,K+=_>>>16,V+=Q>>>16,k+=V>>>16,K+=k>>>16,ae=k&65535|K<<16,C=Q&65535|V<<16,_=te,S=y,Q=S&65535,V=S>>>16,k=_&65535,K=_>>>16,_=R,S=J,Q+=S&65535,V+=S>>>16,k+=_&65535,K+=_>>>16,V+=Q>>>16,k+=V>>>16,K+=k>>>16,te=k&65535|K<<16,y=Q&65535|V<<16,u=re,l=Y,f=se,d=te,g=ie,w=M,E=le,a=ae,D=fe,B=oe,W=ce,U=y,A=v,I=b,N=P,T=C,pe%16===15)for(var ue=0;ue<16;ue++)_=t[ue],S=e[ue],Q=S&65535,V=S>>>16,k=_&65535,K=_>>>16,_=t[(ue+9)%16],S=e[(ue+9)%16],Q+=S&65535,V+=S>>>16,k+=_&65535,K+=_>>>16,R=t[(ue+1)%16],J=e[(ue+1)%16],_=(R>>>1|J<<32-1)^(R>>>8|J<<32-8)^R>>>7,S=(J>>>1|R<<32-1)^(J>>>8|R<<32-8)^(J>>>7|R<<32-7),Q+=S&65535,V+=S>>>16,k+=_&65535,K+=_>>>16,R=t[(ue+14)%16],J=e[(ue+14)%16],_=(R>>>19|J<<32-19)^(J>>>61-32|R<<32-(61-32))^R>>>6,S=(J>>>19|R<<32-19)^(R>>>61-32|J<<32-(61-32))^(J>>>6|R<<32-6),Q+=S&65535,V+=S>>>16,k+=_&65535,K+=_>>>16,V+=Q>>>16,k+=V>>>16,K+=k>>>16,t[ue]=k&65535|K<<16,e[ue]=Q&65535|V<<16}_=a,S=T,Q=S&65535,V=S>>>16,k=_&65535,K=_>>>16,_=r[0],S=n[0],Q+=S&65535,V+=S>>>16,k+=_&65535,K+=_>>>16,V+=Q>>>16,k+=V>>>16,K+=k>>>16,r[0]=a=k&65535|K<<16,n[0]=T=Q&65535|V<<16,_=u,S=D,Q=S&65535,V=S>>>16,k=_&65535,K=_>>>16,_=r[1],S=n[1],Q+=S&65535,V+=S>>>16,k+=_&65535,K+=_>>>16,V+=Q>>>16,k+=V>>>16,K+=k>>>16,r[1]=u=k&65535|K<<16,n[1]=D=Q&65535|V<<16,_=l,S=B,Q=S&65535,V=S>>>16,k=_&65535,K=_>>>16,_=r[2],S=n[2],Q+=S&65535,V+=S>>>16,k+=_&65535,K+=_>>>16,V+=Q>>>16,k+=V>>>16,K+=k>>>16,r[2]=l=k&65535|K<<16,n[2]=B=Q&65535|V<<16,_=f,S=W,Q=S&65535,V=S>>>16,k=_&65535,K=_>>>16,_=r[3],S=n[3],Q+=S&65535,V+=S>>>16,k+=_&65535,K+=_>>>16,V+=Q>>>16,k+=V>>>16,K+=k>>>16,r[3]=f=k&65535|K<<16,n[3]=W=Q&65535|V<<16,_=d,S=U,Q=S&65535,V=S>>>16,k=_&65535,K=_>>>16,_=r[4],S=n[4],Q+=S&65535,V+=S>>>16,k+=_&65535,K+=_>>>16,V+=Q>>>16,k+=V>>>16,K+=k>>>16,r[4]=d=k&65535|K<<16,n[4]=U=Q&65535|V<<16,_=g,S=A,Q=S&65535,V=S>>>16,k=_&65535,K=_>>>16,_=r[5],S=n[5],Q+=S&65535,V+=S>>>16,k+=_&65535,K+=_>>>16,V+=Q>>>16,k+=V>>>16,K+=k>>>16,r[5]=g=k&65535|K<<16,n[5]=A=Q&65535|V<<16,_=w,S=I,Q=S&65535,V=S>>>16,k=_&65535,K=_>>>16,_=r[6],S=n[6],Q+=S&65535,V+=S>>>16,k+=_&65535,K+=_>>>16,V+=Q>>>16,k+=V>>>16,K+=k>>>16,r[6]=w=k&65535|K<<16,n[6]=I=Q&65535|V<<16,_=E,S=N,Q=S&65535,V=S>>>16,k=_&65535,K=_>>>16,_=r[7],S=n[7],Q+=S&65535,V+=S>>>16,k+=_&65535,K+=_>>>16,V+=Q>>>16,k+=V>>>16,K+=k>>>16,r[7]=E=k&65535|K<<16,n[7]=N=Q&65535|V<<16,s+=128,o-=128}return s}function B7(t){var e=new H2;e.update(t);var r=e.digest();return e.clean(),r}Jn.hash=B7});var rD=m(Ve=>{"use strict";c();Object.defineProperty(Ve,"__esModule",{value:!0});Ve.convertSecretKeyToX25519=Ve.convertPublicKeyToX25519=Ve.verify=Ve.sign=Ve.extractPublicKeyFromSecretKey=Ve.generateKeyPair=Ve.generateKeyPairFromSeed=Ve.SEED_LENGTH=Ve.SECRET_KEY_LENGTH=Ve.PUBLIC_KEY_LENGTH=Ve.SIGNATURE_LENGTH=void 0;var L7=Vc(),Hc=G2(),$2=qr();Ve.SIGNATURE_LENGTH=64;Ve.PUBLIC_KEY_LENGTH=32;Ve.SECRET_KEY_LENGTH=64;Ve.SEED_LENGTH=32;function be(t){let e=new Float64Array(16);if(t)for(let r=0;r<t.length;r++)e[r]=t[r];return e}var F7=new Uint8Array(32);F7[0]=9;var y1=be(),Oa=be([1]),M7=be([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),U7=be([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),k2=be([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),j2=be([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),q7=be([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function Mi(t,e){for(let r=0;r<16;r++)t[r]=e[r]|0}function p1(t){let e=1;for(let r=0;r<16;r++){let n=t[r]+e+65535;e=Math.floor(n/65536),t[r]=n-e*65536}t[0]+=e-1+37*(e-1)}function z2(t,e,r){let n=~(r-1);for(let i=0;i<16;i++){let s=n&(t[i]^e[i]);t[i]^=s,e[i]^=s}}function Gc(t,e){let r=be(),n=be();for(let i=0;i<16;i++)n[i]=e[i];p1(n),p1(n),p1(n);for(let i=0;i<2;i++){r[0]=n[0]-65517;for(let o=1;o<15;o++)r[o]=n[o]-65535-(r[o-1]>>16&1),r[o-1]&=65535;r[15]=n[15]-32767-(r[14]>>16&1);let s=r[15]>>16&1;r[14]&=65535,z2(n,r,1-s)}for(let i=0;i<16;i++)t[2*i]=n[i]&255,t[2*i+1]=n[i]>>8}function K2(t,e){let r=0;for(let n=0;n<32;n++)r|=t[n]^e[n];return(1&r-1>>>8)-1}function Q2(t,e){let r=new Uint8Array(32),n=new Uint8Array(32);return Gc(r,t),Gc(n,e),K2(r,n)}function Y2(t){let e=new Uint8Array(32);return Gc(e,t),e[0]&1}function V7(t,e){for(let r=0;r<16;r++)t[r]=e[2*r]+(e[2*r+1]<<8);t[15]&=32767}function js(t,e,r){for(let n=0;n<16;n++)t[n]=e[n]+r[n]}function Ws(t,e,r){for(let n=0;n<16;n++)t[n]=e[n]-r[n]}function je(t,e,r){let n,i,s=0,o=0,a=0,u=0,l=0,f=0,d=0,g=0,w=0,E=0,T=0,D=0,B=0,W=0,U=0,A=0,I=0,N=0,_=0,S=0,R=0,J=0,Q=0,V=0,k=0,K=0,pe=0,ue=0,re=0,Y=0,se=0,te=r[0],ie=r[1],M=r[2],le=r[3],ae=r[4],fe=r[5],oe=r[6],ce=r[7],y=r[8],v=r[9],b=r[10],P=r[11],C=r[12],O=r[13],L=r[14],x=r[15];n=e[0],s+=n*te,o+=n*ie,a+=n*M,u+=n*le,l+=n*ae,f+=n*fe,d+=n*oe,g+=n*ce,w+=n*y,E+=n*v,T+=n*b,D+=n*P,B+=n*C,W+=n*O,U+=n*L,A+=n*x,n=e[1],o+=n*te,a+=n*ie,u+=n*M,l+=n*le,f+=n*ae,d+=n*fe,g+=n*oe,w+=n*ce,E+=n*y,T+=n*v,D+=n*b,B+=n*P,W+=n*C,U+=n*O,A+=n*L,I+=n*x,n=e[2],a+=n*te,u+=n*ie,l+=n*M,f+=n*le,d+=n*ae,g+=n*fe,w+=n*oe,E+=n*ce,T+=n*y,D+=n*v,B+=n*b,W+=n*P,U+=n*C,A+=n*O,I+=n*L,N+=n*x,n=e[3],u+=n*te,l+=n*ie,f+=n*M,d+=n*le,g+=n*ae,w+=n*fe,E+=n*oe,T+=n*ce,D+=n*y,B+=n*v,W+=n*b,U+=n*P,A+=n*C,I+=n*O,N+=n*L,_+=n*x,n=e[4],l+=n*te,f+=n*ie,d+=n*M,g+=n*le,w+=n*ae,E+=n*fe,T+=n*oe,D+=n*ce,B+=n*y,W+=n*v,U+=n*b,A+=n*P,I+=n*C,N+=n*O,_+=n*L,S+=n*x,n=e[5],f+=n*te,d+=n*ie,g+=n*M,w+=n*le,E+=n*ae,T+=n*fe,D+=n*oe,B+=n*ce,W+=n*y,U+=n*v,A+=n*b,I+=n*P,N+=n*C,_+=n*O,S+=n*L,R+=n*x,n=e[6],d+=n*te,g+=n*ie,w+=n*M,E+=n*le,T+=n*ae,D+=n*fe,B+=n*oe,W+=n*ce,U+=n*y,A+=n*v,I+=n*b,N+=n*P,_+=n*C,S+=n*O,R+=n*L,J+=n*x,n=e[7],g+=n*te,w+=n*ie,E+=n*M,T+=n*le,D+=n*ae,B+=n*fe,W+=n*oe,U+=n*ce,A+=n*y,I+=n*v,N+=n*b,_+=n*P,S+=n*C,R+=n*O,J+=n*L,Q+=n*x,n=e[8],w+=n*te,E+=n*ie,T+=n*M,D+=n*le,B+=n*ae,W+=n*fe,U+=n*oe,A+=n*ce,I+=n*y,N+=n*v,_+=n*b,S+=n*P,R+=n*C,J+=n*O,Q+=n*L,V+=n*x,n=e[9],E+=n*te,T+=n*ie,D+=n*M,B+=n*le,W+=n*ae,U+=n*fe,A+=n*oe,I+=n*ce,N+=n*y,_+=n*v,S+=n*b,R+=n*P,J+=n*C,Q+=n*O,V+=n*L,k+=n*x,n=e[10],T+=n*te,D+=n*ie,B+=n*M,W+=n*le,U+=n*ae,A+=n*fe,I+=n*oe,N+=n*ce,_+=n*y,S+=n*v,R+=n*b,J+=n*P,Q+=n*C,V+=n*O,k+=n*L,K+=n*x,n=e[11],D+=n*te,B+=n*ie,W+=n*M,U+=n*le,A+=n*ae,I+=n*fe,N+=n*oe,_+=n*ce,S+=n*y,R+=n*v,J+=n*b,Q+=n*P,V+=n*C,k+=n*O,K+=n*L,pe+=n*x,n=e[12],B+=n*te,W+=n*ie,U+=n*M,A+=n*le,I+=n*ae,N+=n*fe,_+=n*oe,S+=n*ce,R+=n*y,J+=n*v,Q+=n*b,V+=n*P,k+=n*C,K+=n*O,pe+=n*L,ue+=n*x,n=e[13],W+=n*te,U+=n*ie,A+=n*M,I+=n*le,N+=n*ae,_+=n*fe,S+=n*oe,R+=n*ce,J+=n*y,Q+=n*v,V+=n*b,k+=n*P,K+=n*C,pe+=n*O,ue+=n*L,re+=n*x,n=e[14],U+=n*te,A+=n*ie,I+=n*M,N+=n*le,_+=n*ae,S+=n*fe,R+=n*oe,J+=n*ce,Q+=n*y,V+=n*v,k+=n*b,K+=n*P,pe+=n*C,ue+=n*O,re+=n*L,Y+=n*x,n=e[15],A+=n*te,I+=n*ie,N+=n*M,_+=n*le,S+=n*ae,R+=n*fe,J+=n*oe,Q+=n*ce,V+=n*y,k+=n*v,K+=n*b,pe+=n*P,ue+=n*C,re+=n*O,Y+=n*L,se+=n*x,s+=38*I,o+=38*N,a+=38*_,u+=38*S,l+=38*R,f+=38*J,d+=38*Q,g+=38*V,w+=38*k,E+=38*K,T+=38*pe,D+=38*ue,B+=38*re,W+=38*Y,U+=38*se,i=1,n=s+i+65535,i=Math.floor(n/65536),s=n-i*65536,n=o+i+65535,i=Math.floor(n/65536),o=n-i*65536,n=a+i+65535,i=Math.floor(n/65536),a=n-i*65536,n=u+i+65535,i=Math.floor(n/65536),u=n-i*65536,n=l+i+65535,i=Math.floor(n/65536),l=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=d+i+65535,i=Math.floor(n/65536),d=n-i*65536,n=g+i+65535,i=Math.floor(n/65536),g=n-i*65536,n=w+i+65535,i=Math.floor(n/65536),w=n-i*65536,n=E+i+65535,i=Math.floor(n/65536),E=n-i*65536,n=T+i+65535,i=Math.floor(n/65536),T=n-i*65536,n=D+i+65535,i=Math.floor(n/65536),D=n-i*65536,n=B+i+65535,i=Math.floor(n/65536),B=n-i*65536,n=W+i+65535,i=Math.floor(n/65536),W=n-i*65536,n=U+i+65535,i=Math.floor(n/65536),U=n-i*65536,n=A+i+65535,i=Math.floor(n/65536),A=n-i*65536,s+=i-1+37*(i-1),i=1,n=s+i+65535,i=Math.floor(n/65536),s=n-i*65536,n=o+i+65535,i=Math.floor(n/65536),o=n-i*65536,n=a+i+65535,i=Math.floor(n/65536),a=n-i*65536,n=u+i+65535,i=Math.floor(n/65536),u=n-i*65536,n=l+i+65535,i=Math.floor(n/65536),l=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=d+i+65535,i=Math.floor(n/65536),d=n-i*65536,n=g+i+65535,i=Math.floor(n/65536),g=n-i*65536,n=w+i+65535,i=Math.floor(n/65536),w=n-i*65536,n=E+i+65535,i=Math.floor(n/65536),E=n-i*65536,n=T+i+65535,i=Math.floor(n/65536),T=n-i*65536,n=D+i+65535,i=Math.floor(n/65536),D=n-i*65536,n=B+i+65535,i=Math.floor(n/65536),B=n-i*65536,n=W+i+65535,i=Math.floor(n/65536),W=n-i*65536,n=U+i+65535,i=Math.floor(n/65536),U=n-i*65536,n=A+i+65535,i=Math.floor(n/65536),A=n-i*65536,s+=i-1+37*(i-1),t[0]=s,t[1]=o,t[2]=a,t[3]=u,t[4]=l,t[5]=f,t[6]=d,t[7]=g,t[8]=w,t[9]=E,t[10]=T,t[11]=D,t[12]=B,t[13]=W,t[14]=U,t[15]=A}function Qs(t,e){je(t,e,e)}function J2(t,e){let r=be(),n;for(n=0;n<16;n++)r[n]=e[n];for(n=253;n>=0;n--)Qs(r,r),n!==2&&n!==4&&je(r,r,e);for(n=0;n<16;n++)t[n]=r[n]}function H7(t,e){let r=be(),n;for(n=0;n<16;n++)r[n]=e[n];for(n=250;n>=0;n--)Qs(r,r),n!==1&&je(r,r,e);for(n=0;n<16;n++)t[n]=r[n]}function m1(t,e){let r=be(),n=be(),i=be(),s=be(),o=be(),a=be(),u=be(),l=be(),f=be();Ws(r,t[1],t[0]),Ws(f,e[1],e[0]),je(r,r,f),js(n,t[0],t[1]),js(f,e[0],e[1]),je(n,n,f),je(i,t[3],e[3]),je(i,i,U7),je(s,t[2],e[2]),js(s,s,s),Ws(o,n,r),Ws(a,s,i),js(u,s,i),js(l,n,r),je(t[0],o,a),je(t[1],l,u),je(t[2],u,a),je(t[3],o,l)}function W2(t,e,r){for(let n=0;n<4;n++)z2(t[n],e[n],r)}function E1(t,e){let r=be(),n=be(),i=be();J2(i,e[2]),je(r,e[0],i),je(n,e[1],i),Gc(t,n),t[31]^=Y2(r)<<7}function X2(t,e,r){Mi(t[0],y1),Mi(t[1],Oa),Mi(t[2],Oa),Mi(t[3],y1);for(let n=255;n>=0;--n){let i=r[n/8|0]>>(n&7)&1;W2(t,e,i),m1(e,t),m1(t,t),W2(t,e,i)}}function v1(t,e){let r=[be(),be(),be(),be()];Mi(r[0],k2),Mi(r[1],j2),Mi(r[2],Oa),je(r[3],k2,j2),X2(t,r,e)}function Z2(t){if(t.length!==Ve.SEED_LENGTH)throw new Error(`ed25519: seed must be ${Ve.SEED_LENGTH} bytes`);let e=(0,Hc.hash)(t);e[0]&=248,e[31]&=127,e[31]|=64;let r=new Uint8Array(32),n=[be(),be(),be(),be()];v1(n,e),E1(r,n);let i=new Uint8Array(64);return i.set(t),i.set(r,32),{publicKey:r,secretKey:i}}Ve.generateKeyPairFromSeed=Z2;function G7(t){let e=(0,L7.randomBytes)(32,t),r=Z2(e);return(0,$2.wipe)(e),r}Ve.generateKeyPair=G7;function k7(t){if(t.length!==Ve.SECRET_KEY_LENGTH)throw new Error(`ed25519: secret key must be ${Ve.SECRET_KEY_LENGTH} bytes`);return new Uint8Array(t.subarray(32))}Ve.extractPublicKeyFromSecretKey=k7;var g1=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function eD(t,e){let r,n,i,s;for(n=63;n>=32;--n){for(r=0,i=n-32,s=n-12;i<s;++i)e[i]+=r-16*e[n]*g1[i-(n-32)],r=Math.floor((e[i]+128)/256),e[i]-=r*256;e[i]+=r,e[n]=0}for(r=0,i=0;i<32;i++)e[i]+=r-(e[31]>>4)*g1[i],r=e[i]>>8,e[i]&=255;for(i=0;i<32;i++)e[i]-=r*g1[i];for(n=0;n<32;n++)e[n+1]+=e[n]>>8,t[n]=e[n]&255}function w1(t){let e=new Float64Array(64);for(let r=0;r<64;r++)e[r]=t[r];for(let r=0;r<64;r++)t[r]=0;eD(t,e)}function j7(t,e){let r=new Float64Array(64),n=[be(),be(),be(),be()],i=(0,Hc.hash)(t.subarray(0,32));i[0]&=248,i[31]&=127,i[31]|=64;let s=new Uint8Array(64);s.set(i.subarray(32),32);let o=new Hc.SHA512;o.update(s.subarray(32)),o.update(e);let a=o.digest();o.clean(),w1(a),v1(n,a),E1(s,n),o.reset(),o.update(s.subarray(0,32)),o.update(t.subarray(32)),o.update(e);let u=o.digest();w1(u);for(let l=0;l<32;l++)r[l]=a[l];for(let l=0;l<32;l++)for(let f=0;f<32;f++)r[l+f]+=u[l]*i[f];return eD(s.subarray(32),r),s}Ve.sign=j7;function tD(t,e){let r=be(),n=be(),i=be(),s=be(),o=be(),a=be(),u=be();return Mi(t[2],Oa),V7(t[1],e),Qs(i,t[1]),je(s,i,M7),Ws(i,i,t[2]),js(s,t[2],s),Qs(o,s),Qs(a,o),je(u,a,o),je(r,u,i),je(r,r,s),H7(r,r),je(r,r,i),je(r,r,s),je(r,r,s),je(t[0],r,s),Qs(n,t[0]),je(n,n,s),Q2(n,i)&&je(t[0],t[0],q7),Qs(n,t[0]),je(n,n,s),Q2(n,i)?-1:(Y2(t[0])===e[31]>>7&&Ws(t[0],y1,t[0]),je(t[3],t[0],t[1]),0)}function Q7(t,e,r){let n=new Uint8Array(32),i=[be(),be(),be(),be()],s=[be(),be(),be(),be()];if(r.length!==Ve.SIGNATURE_LENGTH)throw new Error(`ed25519: signature must be ${Ve.SIGNATURE_LENGTH} bytes`);if(tD(s,t))return!1;let o=new Hc.SHA512;o.update(r.subarray(0,32)),o.update(t),o.update(e);let a=o.digest();return w1(a),X2(i,s,a),v1(s,r.subarray(32)),m1(i,s),E1(n,i),!K2(r,n)}Ve.verify=Q7;function W7(t){let e=[be(),be(),be(),be()];if(tD(e,t))throw new Error("Ed25519: invalid public key");let r=be(),n=be(),i=e[1];js(r,Oa,i),Ws(n,Oa,i),J2(n,n),je(r,r,n);let s=new Uint8Array(32);return Gc(s,r),s}Ve.convertPublicKeyToX25519=W7;function $7(t){let e=(0,Hc.hash)(t.subarray(0,32));e[0]&=248,e[31]&=127,e[31]|=64;let r=new Uint8Array(e.subarray(0,32));return(0,$2.wipe)(e),r}Ve.convertSecretKeyToX25519=$7});var Jd,Xd,$s,Da,Zd,kc,ep,tp,rp,Pa,np,ip,nD,iD,sp=ge(()=>{c();Jd="EdDSA",Xd="JWT",$s=".",Da="base64url",Zd="utf8",kc="utf8",ep=":",tp="did",rp="key",Pa="base58btc",np="z",ip="K36",nD=32,iD=32});function Ui(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}var jc=ge(()=>{c()});function Ra(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Ui(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}var op=ge(()=>{c();jc()});function ap(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));let r=Ra(e),n=0;for(let i of t)r.set(i,n),n+=i.length;return Ui(r)}var A1=ge(()=>{c();op();jc()});function z7(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=t.length,u=t.charAt(0),l=Math.log(a)/Math.log(256),f=Math.log(256)/Math.log(a);function d(E){if(E instanceof Uint8Array||(ArrayBuffer.isView(E)?E=new Uint8Array(E.buffer,E.byteOffset,E.byteLength):Array.isArray(E)&&(E=Uint8Array.from(E))),!(E instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(E.length===0)return"";for(var T=0,D=0,B=0,W=E.length;B!==W&&E[B]===0;)B++,T++;for(var U=(W-B)*f+1>>>0,A=new Uint8Array(U);B!==W;){for(var I=E[B],N=0,_=U-1;(I!==0||N<D)&&_!==-1;_--,N++)I+=256*A[_]>>>0,A[_]=I%a>>>0,I=I/a>>>0;if(I!==0)throw new Error("Non-zero carry");D=N,B++}for(var S=U-D;S!==U&&A[S]===0;)S++;for(var R=u.repeat(T);S<U;++S)R+=t.charAt(A[S]);return R}function g(E){if(typeof E!="string")throw new TypeError("Expected String");if(E.length===0)return new Uint8Array;var T=0;if(E[T]!==" "){for(var D=0,B=0;E[T]===u;)D++,T++;for(var W=(E.length-T)*l+1>>>0,U=new Uint8Array(W);E[T];){var A=r[E.charCodeAt(T)];if(A===255)return;for(var I=0,N=W-1;(A!==0||I<B)&&N!==-1;N--,I++)A+=a*U[N]>>>0,U[N]=A%256>>>0,A=A/256>>>0;if(A!==0)throw new Error("Non-zero carry");B=I,T++}if(E[T]!==" "){for(var _=W-B;_!==W&&U[_]===0;)_++;for(var S=new Uint8Array(D+(W-_)),R=D;_!==W;)S[R++]=U[_++];return S}}}function w(E){var T=g(E);if(T)return T;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:g,decode:w}}var K7,Y7,sD,oD=ge(()=>{c();K7=z7,Y7=K7,sD=Y7});var Rfe,aD,Xn,uD,cD,qi=ge(()=>{c();Rfe=new Uint8Array(0),aD=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0},Xn=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},uD=t=>new TextEncoder().encode(t),cD=t=>new TextDecoder().decode(t)});var b1,_1,I1,fD,S1,Ba,Vi,J7,X7,pt,Kr=ge(()=>{c();oD();qi();b1=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},_1=class{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return fD(this,e)}},I1=class{constructor(e){this.decoders=e}or(e){return fD(this,e)}decode(e){let r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},fD=(t,e)=>new I1({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}}),S1=class{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new b1(e,r,n),this.decoder=new _1(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},Ba=({name:t,prefix:e,encode:r,decode:n})=>new S1(t,e,r,n),Vi=({prefix:t,name:e,alphabet:r})=>{let{encode:n,decode:i}=sD(r,e);return Ba({prefix:t,name:e,encode:n,decode:s=>Xn(i(s))})},J7=(t,e,r,n)=>{let i={};for(let f=0;f<e.length;++f)i[e[f]]=f;let s=t.length;for(;t[s-1]==="=";)--s;let o=new Uint8Array(s*r/8|0),a=0,u=0,l=0;for(let f=0;f<s;++f){let d=i[t[f]];if(d===void 0)throw new SyntaxError(`Non-${n} character`);u=u<<r|d,a+=r,a>=8&&(a-=8,o[l++]=255&u>>a)}if(a>=r||255&u<<8-a)throw new SyntaxError("Unexpected end of data");return o},X7=(t,e,r)=>{let n=e[e.length-1]==="=",i=(1<<r)-1,s="",o=0,a=0;for(let u=0;u<t.length;++u)for(a=a<<8|t[u],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},pt=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>Ba({prefix:e,name:t,encode(i){return X7(i,n,r)},decode(i){return J7(i,n,r,t)}})});var T1={};ft(T1,{identity:()=>Z7});var Z7,hD=ge(()=>{c();Kr();qi();Z7=Ba({prefix:"\0",name:"identity",encode:t=>cD(t),decode:t=>uD(t)})});var C1={};ft(C1,{base2:()=>e9});var e9,dD=ge(()=>{c();Kr();e9=pt({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1})});var x1={};ft(x1,{base8:()=>t9});var t9,pD=ge(()=>{c();Kr();t9=pt({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3})});var N1={};ft(N1,{base10:()=>r9});var r9,gD=ge(()=>{c();Kr();r9=Vi({prefix:"9",name:"base10",alphabet:"0123456789"})});var O1={};ft(O1,{base16:()=>n9,base16upper:()=>i9});var n9,i9,yD=ge(()=>{c();Kr();n9=pt({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),i9=pt({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4})});var D1={};ft(D1,{base32:()=>La,base32hex:()=>u9,base32hexpad:()=>l9,base32hexpadupper:()=>f9,base32hexupper:()=>c9,base32pad:()=>o9,base32padupper:()=>a9,base32upper:()=>s9,base32z:()=>h9});var La,s9,o9,a9,u9,c9,l9,f9,h9,P1=ge(()=>{c();Kr();La=pt({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),s9=pt({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),o9=pt({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),a9=pt({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),u9=pt({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),c9=pt({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),l9=pt({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),f9=pt({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),h9=pt({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})});var R1={};ft(R1,{base36:()=>d9,base36upper:()=>p9});var d9,p9,mD=ge(()=>{c();Kr();d9=Vi({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),p9=Vi({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})});var B1={};ft(B1,{base58btc:()=>In,base58flickr:()=>g9});var In,g9,L1=ge(()=>{c();Kr();In=Vi({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),g9=Vi({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})});var F1={};ft(F1,{base64:()=>y9,base64pad:()=>m9,base64url:()=>w9,base64urlpad:()=>E9});var y9,m9,w9,E9,wD=ge(()=>{c();Kr();y9=pt({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),m9=pt({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),w9=pt({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),E9=pt({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})});var M1={};ft(M1,{base256emoji:()=>I9});function b9(t){return t.reduce((e,r)=>(e+=v9[r],e),"")}function _9(t){let e=[];for(let r of t){let n=A9[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}var ED,v9,A9,I9,vD=ge(()=>{c();Kr();ED=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),v9=ED.reduce((t,e,r)=>(t[r]=e,t),[]),A9=ED.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);I9=Ba({prefix:"\u{1F680}",name:"base256emoji",encode:b9,decode:_9})});function _D(t,e,r){e=e||[],r=r||0;for(var n=r;t>=x9;)e[r++]=t&255|AD,t/=128;for(;t&C9;)e[r++]=t&255|AD,t>>>=7;return e[r]=t|0,_D.bytes=r-n+1,e}function U1(t,n){var r=0,n=n||0,i=0,s=n,o,a=t.length;do{if(s>=a)throw U1.bytes=0,new RangeError("Could not decode varint");o=t[s++],r+=i<28?(o&bD)<<i:(o&bD)*Math.pow(2,i),i+=7}while(o>=O9);return U1.bytes=s-n,r}var S9,AD,T9,C9,x9,N9,O9,bD,D9,P9,R9,B9,L9,F9,M9,U9,q9,V9,H9,G9,Qc,ID=ge(()=>{c();S9=_D,AD=128,T9=127,C9=~T9,x9=Math.pow(2,31);N9=U1,O9=128,bD=127;D9=Math.pow(2,7),P9=Math.pow(2,14),R9=Math.pow(2,21),B9=Math.pow(2,28),L9=Math.pow(2,35),F9=Math.pow(2,42),M9=Math.pow(2,49),U9=Math.pow(2,56),q9=Math.pow(2,63),V9=function(t){return t<D9?1:t<P9?2:t<R9?3:t<B9?4:t<L9?5:t<F9?6:t<M9?7:t<U9?8:t<q9?9:10},H9={encode:S9,decode:N9,encodingLength:V9},G9=H9,Qc=G9});var Wc,Fa,Ma,cp=ge(()=>{c();ID();Wc=(t,e=0)=>[Qc.decode(t,e),Qc.decode.bytes],Fa=(t,e,r=0)=>(Qc.encode(t,e,r),e),Ma=t=>Qc.encodingLength(t)});var zs,SD,TD,Ua,zc=ge(()=>{c();qi();cp();zs=(t,e)=>{let r=e.byteLength,n=Ma(t),i=n+Ma(r),s=new Uint8Array(i+r);return Fa(t,s,0),Fa(r,s,n),s.set(e,i),new Ua(t,r,e,s)},SD=t=>{let e=Xn(t),[r,n]=Wc(e),[i,s]=Wc(e.subarray(n)),o=e.subarray(n+s);if(o.byteLength!==i)throw new Error("Incorrect length");return new Ua(r,i,o,e)},TD=(t,e)=>t===e?!0:t.code===e.code&&t.size===e.size&&aD(t.bytes,e.bytes),Ua=class{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}}});var V1,q1,H1=ge(()=>{c();zc();V1=({name:t,code:e,encode:r})=>new q1(t,e,r),q1=class{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){let r=this.encode(e);return r instanceof Uint8Array?zs(this.code,r):r.then(n=>zs(this.code,n))}else throw Error("Unknown type, must be binary type")}}});var G1={};ft(G1,{sha256:()=>k9,sha512:()=>j9});var xD,k9,j9,ND=ge(()=>{c();H1();xD=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),k9=V1({name:"sha2-256",code:18,encode:xD("SHA-256")}),j9=V1({name:"sha2-512",code:19,encode:xD("SHA-512")})});var k1={};ft(k1,{identity:()=>$9});var OD,Q9,DD,W9,$9,PD=ge(()=>{c();qi();zc();OD=0,Q9="identity",DD=Xn,W9=t=>zs(OD,DD(t)),$9={code:OD,name:Q9,encode:DD,digest:W9}});var RD=ge(()=>{c();qi()});var Ehe,vhe,BD=ge(()=>{c();Ehe=new TextEncoder,vhe=new TextDecoder});var hp,Y9,J9,X9,Kc,Z9,LD,FD,lp,fp,eW,tW,rW,MD=ge(()=>{c();cp();zc();L1();P1();qi();hp=class t{constructor(e,r,n,i){this.code=r,this.version=e,this.multihash=n,this.bytes=i,this.byteOffset=i.byteOffset,this.byteLength=i.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:fp,byteLength:fp,code:lp,version:lp,multihash:lp,bytes:lp,_baseCache:fp,asCID:fp})}toV0(){switch(this.version){case 0:return this;default:{let{code:e,multihash:r}=this;if(e!==Kc)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==Z9)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return t.createV0(r)}}}toV1(){switch(this.version){case 0:{let{code:e,digest:r}=this.multihash,n=zs(e,r);return t.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&TD(this.multihash,e.multihash)}toString(e){let{bytes:r,version:n,_baseCache:i}=this;switch(n){case 0:return J9(r,i,e||In.encoder);default:return X9(r,i,e||La.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return tW(/^0\.0/,rW),!!(e&&(e[FD]||e.asCID===e))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof t)return e;if(e!=null&&e.asCID===e){let{version:r,code:n,multihash:i,bytes:s}=e;return new t(r,n,i,s||LD(r,n,i.bytes))}else if(e!=null&&e[FD]===!0){let{version:r,multihash:n,code:i}=e,s=SD(n);return t.create(r,i,s)}else return null}static create(e,r,n){if(typeof r!="number")throw new Error("String codecs are no longer supported");switch(e){case 0:{if(r!==Kc)throw new Error(`Version 0 CID must use dag-pb (code: ${Kc}) block encoding`);return new t(e,r,n,n.bytes)}case 1:{let i=LD(e,r,n.bytes);return new t(e,r,n,i)}default:throw new Error("Invalid version")}}static createV0(e){return t.create(0,Kc,e)}static createV1(e,r){return t.create(1,e,r)}static decode(e){let[r,n]=t.decodeFirst(e);if(n.length)throw new Error("Incorrect length");return r}static decodeFirst(e){let r=t.inspectBytes(e),n=r.size-r.multihashSize,i=Xn(e.subarray(n,n+r.multihashSize));if(i.byteLength!==r.multihashSize)throw new Error("Incorrect length");let s=i.subarray(r.multihashSize-r.digestSize),o=new Ua(r.multihashCode,r.digestSize,s,i);return[r.version===0?t.createV0(o):t.createV1(r.codec,o),e.subarray(r.size)]}static inspectBytes(e){let r=0,n=()=>{let[d,g]=Wc(e.subarray(r));return r+=g,d},i=n(),s=Kc;if(i===18?(i=0,r=0):i===1&&(s=n()),i!==0&&i!==1)throw new RangeError(`Invalid CID version ${i}`);let o=r,a=n(),u=n(),l=r+u,f=l-o;return{version:i,codec:s,multihashCode:a,digestSize:u,multihashSize:f,size:l}}static parse(e,r){let[n,i]=Y9(e,r),s=t.decode(i);return s._baseCache.set(n,e),s}},Y9=(t,e)=>{switch(t[0]){case"Q":{let r=e||In;return[In.prefix,r.decode(`${In.prefix}${t}`)]}case In.prefix:{let r=e||In;return[In.prefix,r.decode(t)]}case La.prefix:{let r=e||La;return[La.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}},J9=(t,e,r)=>{let{prefix:n}=r;if(n!==In.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let i=e.get(n);if(i==null){let s=r.encode(t).slice(1);return e.set(n,s),s}else return i},X9=(t,e,r)=>{let{prefix:n}=r,i=e.get(n);if(i==null){let s=r.encode(t);return e.set(n,s),s}else return i},Kc=112,Z9=18,LD=(t,e,r)=>{let n=Ma(t),i=n+Ma(e),s=new Uint8Array(i+r.byteLength);return Fa(t,s,0),Fa(e,s,n),s.set(r,i),s},FD=Symbol.for("@ipld/js-cid/CID"),lp={writable:!1,configurable:!1,enumerable:!0},fp={writable:!1,enumerable:!1,configurable:!1},eW="0.0.0-dev",tW=(t,e)=>{if(t.test(eW))console.warn(e);else throw new Error(e)},rW=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`});var UD=ge(()=>{c();MD();cp();qi();H1();zc()});var j1,Dhe,qD=ge(()=>{c();hD();dD();pD();gD();yD();P1();mD();L1();wD();vD();ND();PD();RD();BD();UD();j1={...T1,...C1,...x1,...N1,...O1,...D1,...R1,...B1,...F1,...M1},Dhe={...G1,...k1}});function HD(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}var VD,Q1,nW,dp,W1=ge(()=>{c();qD();op();VD=HD("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),Q1=HD("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);let e=Ra(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),nW={utf8:VD,"utf-8":VD,hex:j1.base16,latin1:Q1,ascii:Q1,binary:Q1,...j1},dp=nW});function Zn(t,e="utf8"){let r=dp[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}var $1=ge(()=>{c();W1()});function Sn(t,e="utf8"){let r=dp[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Ui(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}var z1=ge(()=>{c();W1();jc()});function Yc(t){return Uc(Zn(Sn(t,Da),Zd))}function Jc(t){return Zn(Sn(qc(t),Zd),Da)}function K1(t){let e=Sn(ip,Pa),r=np+Zn(ap([e,t]),Pa);return[tp,rp,r].join(ep)}function Y1(t){let[e,r,n]=t.split(ep);if(e!==tp||r!==rp)throw new Error('Issuer must be a DID with method "key"');if(n.slice(0,1)!==np)throw new Error("Issuer must be a key in mulicodec format");let s=Sn(n.slice(1),Pa);if(Zn(s.slice(0,2),Pa)!==ip)throw new Error('Issuer must be a public key with type "Ed25519"');let a=s.slice(2);if(a.length!==32)throw new Error("Issuer must be a public key with length 32 bytes");return a}function GD(t){return Zn(t,Da)}function kD(t){return Sn(t,Da)}function J1(t){return Sn([Jc(t.header),Jc(t.payload)].join($s),kc)}function iW(t){let e=Zn(t,kc).split($s),r=Yc(e[0]),n=Yc(e[1]);return{header:r,payload:n}}function X1(t){return[Jc(t.header),Jc(t.payload),GD(t.signature)].join($s)}function Z1(t){let e=t.split($s),r=Yc(e[0]),n=Yc(e[1]),i=kD(e[2]),s=Sn(e.slice(0,2).join($s),kc);return{header:r,payload:n,signature:i,data:s}}var eA=ge(()=>{c();A1();$1();z1();Qd();sp()});function sW(t=(0,jD.randomBytes)(32)){return qa.generateKeyPairFromSeed(t)}async function oW(t,e,r,n,i=(0,QD.fromMiliseconds)(Date.now())){let s={alg:Jd,typ:Xd},o=K1(n.publicKey),a=i+r,u={iss:o,sub:t,aud:e,iat:i,exp:a},l=J1({header:s,payload:u}),f=qa.sign(n.secretKey,l);return X1({header:s,payload:u,signature:f})}async function aW(t){let{header:e,payload:r,data:n,signature:i}=Z1(t);if(e.alg!==Jd||e.typ!==Xd)throw new Error("JWT must use EdDSA algorithm");let s=Y1(r.iss);return qa.verify(s,n,i)}var qa,jD,QD,WD=ge(()=>{c();qa=_e(rD()),jD=_e(Vc()),QD=_e(ks());sp();eA()});var $D=ge(()=>{c()});var zD={};ft(zD,{DATA_ENCODING:()=>kc,DID_DELIMITER:()=>ep,DID_METHOD:()=>rp,DID_PREFIX:()=>tp,JSON_ENCODING:()=>Zd,JWT_DELIMITER:()=>$s,JWT_ENCODING:()=>Da,JWT_IRIDIUM_ALG:()=>Jd,JWT_IRIDIUM_TYP:()=>Xd,KEY_PAIR_SEED_LENGTH:()=>iD,MULTICODEC_ED25519_BASE:()=>np,MULTICODEC_ED25519_ENCODING:()=>Pa,MULTICODEC_ED25519_HEADER:()=>ip,MULTICODEC_ED25519_LENGTH:()=>nD,decodeData:()=>iW,decodeIss:()=>Y1,decodeJSON:()=>Yc,decodeJWT:()=>Z1,decodeSig:()=>kD,encodeData:()=>J1,encodeIss:()=>K1,encodeJSON:()=>Jc,encodeJWT:()=>X1,encodeSig:()=>GD,generateKeyPair:()=>sW,signJWT:()=>oW,verifyJWT:()=>aW});var KD=ge(()=>{c();WD();sp();$D();eA()});var JD=m(pp=>{"use strict";c();Object.defineProperty(pp,"__esModule",{value:!0});var Xt=Ca(),tA=qr(),uW=20;function cW(t,e,r){for(var n=1634760805,i=857760878,s=2036477234,o=1797285236,a=r[3]<<24|r[2]<<16|r[1]<<8|r[0],u=r[7]<<24|r[6]<<16|r[5]<<8|r[4],l=r[11]<<24|r[10]<<16|r[9]<<8|r[8],f=r[15]<<24|r[14]<<16|r[13]<<8|r[12],d=r[19]<<24|r[18]<<16|r[17]<<8|r[16],g=r[23]<<24|r[22]<<16|r[21]<<8|r[20],w=r[27]<<24|r[26]<<16|r[25]<<8|r[24],E=r[31]<<24|r[30]<<16|r[29]<<8|r[28],T=e[3]<<24|e[2]<<16|e[1]<<8|e[0],D=e[7]<<24|e[6]<<16|e[5]<<8|e[4],B=e[11]<<24|e[10]<<16|e[9]<<8|e[8],W=e[15]<<24|e[14]<<16|e[13]<<8|e[12],U=n,A=i,I=s,N=o,_=a,S=u,R=l,J=f,Q=d,V=g,k=w,K=E,pe=T,ue=D,re=B,Y=W,se=0;se<uW;se+=2)U=U+_|0,pe^=U,pe=pe>>>32-16|pe<<16,Q=Q+pe|0,_^=Q,_=_>>>32-12|_<<12,A=A+S|0,ue^=A,ue=ue>>>32-16|ue<<16,V=V+ue|0,S^=V,S=S>>>32-12|S<<12,I=I+R|0,re^=I,re=re>>>32-16|re<<16,k=k+re|0,R^=k,R=R>>>32-12|R<<12,N=N+J|0,Y^=N,Y=Y>>>32-16|Y<<16,K=K+Y|0,J^=K,J=J>>>32-12|J<<12,I=I+R|0,re^=I,re=re>>>32-8|re<<8,k=k+re|0,R^=k,R=R>>>32-7|R<<7,N=N+J|0,Y^=N,Y=Y>>>32-8|Y<<8,K=K+Y|0,J^=K,J=J>>>32-7|J<<7,A=A+S|0,ue^=A,ue=ue>>>32-8|ue<<8,V=V+ue|0,S^=V,S=S>>>32-7|S<<7,U=U+_|0,pe^=U,pe=pe>>>32-8|pe<<8,Q=Q+pe|0,_^=Q,_=_>>>32-7|_<<7,U=U+S|0,Y^=U,Y=Y>>>32-16|Y<<16,k=k+Y|0,S^=k,S=S>>>32-12|S<<12,A=A+R|0,pe^=A,pe=pe>>>32-16|pe<<16,K=K+pe|0,R^=K,R=R>>>32-12|R<<12,I=I+J|0,ue^=I,ue=ue>>>32-16|ue<<16,Q=Q+ue|0,J^=Q,J=J>>>32-12|J<<12,N=N+_|0,re^=N,re=re>>>32-16|re<<16,V=V+re|0,_^=V,_=_>>>32-12|_<<12,I=I+J|0,ue^=I,ue=ue>>>32-8|ue<<8,Q=Q+ue|0,J^=Q,J=J>>>32-7|J<<7,N=N+_|0,re^=N,re=re>>>32-8|re<<8,V=V+re|0,_^=V,_=_>>>32-7|_<<7,A=A+R|0,pe^=A,pe=pe>>>32-8|pe<<8,K=K+pe|0,R^=K,R=R>>>32-7|R<<7,U=U+S|0,Y^=U,Y=Y>>>32-8|Y<<8,k=k+Y|0,S^=k,S=S>>>32-7|S<<7;Xt.writeUint32LE(U+n|0,t,0),Xt.writeUint32LE(A+i|0,t,4),Xt.writeUint32LE(I+s|0,t,8),Xt.writeUint32LE(N+o|0,t,12),Xt.writeUint32LE(_+a|0,t,16),Xt.writeUint32LE(S+u|0,t,20),Xt.writeUint32LE(R+l|0,t,24),Xt.writeUint32LE(J+f|0,t,28),Xt.writeUint32LE(Q+d|0,t,32),Xt.writeUint32LE(V+g|0,t,36),Xt.writeUint32LE(k+w|0,t,40),Xt.writeUint32LE(K+E|0,t,44),Xt.writeUint32LE(pe+T|0,t,48),Xt.writeUint32LE(ue+D|0,t,52),Xt.writeUint32LE(re+B|0,t,56),Xt.writeUint32LE(Y+W|0,t,60)}function YD(t,e,r,n,i){if(i===void 0&&(i=0),t.length!==32)throw new Error("ChaCha: key size must be 32 bytes");if(n.length<r.length)throw new Error("ChaCha: destination is shorter than source");var s,o;if(i===0){if(e.length!==8&&e.length!==12)throw new Error("ChaCha nonce must be 8 or 12 bytes");s=new Uint8Array(16),o=s.length-e.length,s.set(e,o)}else{if(e.length!==16)throw new Error("ChaCha nonce with counter must be 16 bytes");s=e,o=i}for(var a=new Uint8Array(64),u=0;u<r.length;u+=64){cW(a,s,t);for(var l=u;l<u+64&&l<r.length;l++)n[l]=r[l]^a[l-u];fW(s,0,o)}return tA.wipe(a),i===0&&tA.wipe(s),n}pp.streamXOR=YD;function lW(t,e,r,n){return n===void 0&&(n=0),tA.wipe(r),YD(t,e,r,r,n)}pp.stream=lW;function fW(t,e,r){for(var n=1;r--;)n=n+(t[e]&255)|0,t[e]=n&255,n>>>=8,e++;if(n>0)throw new Error("ChaCha: counter overflow")}});var gp=m(Va=>{"use strict";c();Object.defineProperty(Va,"__esModule",{value:!0});function hW(t,e,r){return~(t-1)&e|t-1&r}Va.select=hW;function dW(t,e){return(t|0)-(e|0)-1>>>31&1}Va.lessOrEqual=dW;function XD(t,e){if(t.length!==e.length)return 0;for(var r=0,n=0;n<t.length;n++)r|=t[n]^e[n];return 1&r-1>>>8}Va.compare=XD;function pW(t,e){return t.length===0||e.length===0?!1:XD(t,e)!==0}Va.equal=pW});var eP=m(ei=>{"use strict";c();Object.defineProperty(ei,"__esModule",{value:!0});var gW=gp(),yp=qr();ei.DIGEST_LENGTH=16;var ZD=function(){function t(e){this.digestLength=ei.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var r=e[0]|e[1]<<8;this._r[0]=r&8191;var n=e[2]|e[3]<<8;this._r[1]=(r>>>13|n<<3)&8191;var i=e[4]|e[5]<<8;this._r[2]=(n>>>10|i<<6)&7939;var s=e[6]|e[7]<<8;this._r[3]=(i>>>7|s<<9)&8191;var o=e[8]|e[9]<<8;this._r[4]=(s>>>4|o<<12)&255,this._r[5]=o>>>1&8190;var a=e[10]|e[11]<<8;this._r[6]=(o>>>14|a<<2)&8191;var u=e[12]|e[13]<<8;this._r[7]=(a>>>11|u<<5)&8065;var l=e[14]|e[15]<<8;this._r[8]=(u>>>8|l<<8)&8191,this._r[9]=l>>>5&127,this._pad[0]=e[16]|e[17]<<8,this._pad[1]=e[18]|e[19]<<8,this._pad[2]=e[20]|e[21]<<8,this._pad[3]=e[22]|e[23]<<8,this._pad[4]=e[24]|e[25]<<8,this._pad[5]=e[26]|e[27]<<8,this._pad[6]=e[28]|e[29]<<8,this._pad[7]=e[30]|e[31]<<8}return t.prototype._blocks=function(e,r,n){for(var i=this._fin?0:2048,s=this._h[0],o=this._h[1],a=this._h[2],u=this._h[3],l=this._h[4],f=this._h[5],d=this._h[6],g=this._h[7],w=this._h[8],E=this._h[9],T=this._r[0],D=this._r[1],B=this._r[2],W=this._r[3],U=this._r[4],A=this._r[5],I=this._r[6],N=this._r[7],_=this._r[8],S=this._r[9];n>=16;){var R=e[r+0]|e[r+1]<<8;s+=R&8191;var J=e[r+2]|e[r+3]<<8;o+=(R>>>13|J<<3)&8191;var Q=e[r+4]|e[r+5]<<8;a+=(J>>>10|Q<<6)&8191;var V=e[r+6]|e[r+7]<<8;u+=(Q>>>7|V<<9)&8191;var k=e[r+8]|e[r+9]<<8;l+=(V>>>4|k<<12)&8191,f+=k>>>1&8191;var K=e[r+10]|e[r+11]<<8;d+=(k>>>14|K<<2)&8191;var pe=e[r+12]|e[r+13]<<8;g+=(K>>>11|pe<<5)&8191;var ue=e[r+14]|e[r+15]<<8;w+=(pe>>>8|ue<<8)&8191,E+=ue>>>5|i;var re=0,Y=re;Y+=s*T,Y+=o*(5*S),Y+=a*(5*_),Y+=u*(5*N),Y+=l*(5*I),re=Y>>>13,Y&=8191,Y+=f*(5*A),Y+=d*(5*U),Y+=g*(5*W),Y+=w*(5*B),Y+=E*(5*D),re+=Y>>>13,Y&=8191;var se=re;se+=s*D,se+=o*T,se+=a*(5*S),se+=u*(5*_),se+=l*(5*N),re=se>>>13,se&=8191,se+=f*(5*I),se+=d*(5*A),se+=g*(5*U),se+=w*(5*W),se+=E*(5*B),re+=se>>>13,se&=8191;var te=re;te+=s*B,te+=o*D,te+=a*T,te+=u*(5*S),te+=l*(5*_),re=te>>>13,te&=8191,te+=f*(5*N),te+=d*(5*I),te+=g*(5*A),te+=w*(5*U),te+=E*(5*W),re+=te>>>13,te&=8191;var ie=re;ie+=s*W,ie+=o*B,ie+=a*D,ie+=u*T,ie+=l*(5*S),re=ie>>>13,ie&=8191,ie+=f*(5*_),ie+=d*(5*N),ie+=g*(5*I),ie+=w*(5*A),ie+=E*(5*U),re+=ie>>>13,ie&=8191;var M=re;M+=s*U,M+=o*W,M+=a*B,M+=u*D,M+=l*T,re=M>>>13,M&=8191,M+=f*(5*S),M+=d*(5*_),M+=g*(5*N),M+=w*(5*I),M+=E*(5*A),re+=M>>>13,M&=8191;var le=re;le+=s*A,le+=o*U,le+=a*W,le+=u*B,le+=l*D,re=le>>>13,le&=8191,le+=f*T,le+=d*(5*S),le+=g*(5*_),le+=w*(5*N),le+=E*(5*I),re+=le>>>13,le&=8191;var ae=re;ae+=s*I,ae+=o*A,ae+=a*U,ae+=u*W,ae+=l*B,re=ae>>>13,ae&=8191,ae+=f*D,ae+=d*T,ae+=g*(5*S),ae+=w*(5*_),ae+=E*(5*N),re+=ae>>>13,ae&=8191;var fe=re;fe+=s*N,fe+=o*I,fe+=a*A,fe+=u*U,fe+=l*W,re=fe>>>13,fe&=8191,fe+=f*B,fe+=d*D,fe+=g*T,fe+=w*(5*S),fe+=E*(5*_),re+=fe>>>13,fe&=8191;var oe=re;oe+=s*_,oe+=o*N,oe+=a*I,oe+=u*A,oe+=l*U,re=oe>>>13,oe&=8191,oe+=f*W,oe+=d*B,oe+=g*D,oe+=w*T,oe+=E*(5*S),re+=oe>>>13,oe&=8191;var ce=re;ce+=s*S,ce+=o*_,ce+=a*N,ce+=u*I,ce+=l*A,re=ce>>>13,ce&=8191,ce+=f*U,ce+=d*W,ce+=g*B,ce+=w*D,ce+=E*T,re+=ce>>>13,ce&=8191,re=(re<<2)+re|0,re=re+Y|0,Y=re&8191,re=re>>>13,se+=re,s=Y,o=se,a=te,u=ie,l=M,f=le,d=ae,g=fe,w=oe,E=ce,r+=16,n-=16}this._h[0]=s,this._h[1]=o,this._h[2]=a,this._h[3]=u,this._h[4]=l,this._h[5]=f,this._h[6]=d,this._h[7]=g,this._h[8]=w,this._h[9]=E},t.prototype.finish=function(e,r){r===void 0&&(r=0);var n=new Uint16Array(10),i,s,o,a;if(this._leftover){for(a=this._leftover,this._buffer[a++]=1;a<16;a++)this._buffer[a]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(i=this._h[1]>>>13,this._h[1]&=8191,a=2;a<10;a++)this._h[a]+=i,i=this._h[a]>>>13,this._h[a]&=8191;for(this._h[0]+=i*5,i=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=i,i=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=i,n[0]=this._h[0]+5,i=n[0]>>>13,n[0]&=8191,a=1;a<10;a++)n[a]=this._h[a]+i,i=n[a]>>>13,n[a]&=8191;for(n[9]-=8192,s=(i^1)-1,a=0;a<10;a++)n[a]&=s;for(s=~s,a=0;a<10;a++)this._h[a]=this._h[a]&s|n[a];for(this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,o=this._h[0]+this._pad[0],this._h[0]=o&65535,a=1;a<8;a++)o=(this._h[a]+this._pad[a]|0)+(o>>>16)|0,this._h[a]=o&65535;return e[r+0]=this._h[0]>>>0,e[r+1]=this._h[0]>>>8,e[r+2]=this._h[1]>>>0,e[r+3]=this._h[1]>>>8,e[r+4]=this._h[2]>>>0,e[r+5]=this._h[2]>>>8,e[r+6]=this._h[3]>>>0,e[r+7]=this._h[3]>>>8,e[r+8]=this._h[4]>>>0,e[r+9]=this._h[4]>>>8,e[r+10]=this._h[5]>>>0,e[r+11]=this._h[5]>>>8,e[r+12]=this._h[6]>>>0,e[r+13]=this._h[6]>>>8,e[r+14]=this._h[7]>>>0,e[r+15]=this._h[7]>>>8,this._finished=!0,this},t.prototype.update=function(e){var r=0,n=e.length,i;if(this._leftover){i=16-this._leftover,i>n&&(i=n);for(var s=0;s<i;s++)this._buffer[this._leftover+s]=e[r+s];if(n-=i,r+=i,this._leftover+=i,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(n>=16&&(i=n-n%16,this._blocks(e,r,i),r+=i,n-=i),n){for(var s=0;s<n;s++)this._buffer[this._leftover+s]=e[r+s];this._leftover+=n}return this},t.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var e=new Uint8Array(16);return this.finish(e),e},t.prototype.clean=function(){return yp.wipe(this._buffer),yp.wipe(this._r),yp.wipe(this._h),yp.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},t}();ei.Poly1305=ZD;function yW(t,e){var r=new ZD(t);r.update(e);var n=r.digest();return r.clean(),n}ei.oneTimeAuth=yW;function mW(t,e){return t.length!==ei.DIGEST_LENGTH||e.length!==ei.DIGEST_LENGTH?!1:gW.equal(t,e)}ei.equal=mW});var nP=m(ti=>{"use strict";c();Object.defineProperty(ti,"__esModule",{value:!0});var mp=JD(),wW=eP(),Xc=qr(),tP=Ca(),EW=gp();ti.KEY_LENGTH=32;ti.NONCE_LENGTH=12;ti.TAG_LENGTH=16;var rP=new Uint8Array(16),vW=function(){function t(e){if(this.nonceLength=ti.NONCE_LENGTH,this.tagLength=ti.TAG_LENGTH,e.length!==ti.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(e)}return t.prototype.seal=function(e,r,n,i){if(e.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var s=new Uint8Array(16);s.set(e,s.length-e.length);var o=new Uint8Array(32);mp.stream(this._key,s,o,4);var a=r.length+this.tagLength,u;if(i){if(i.length!==a)throw new Error("ChaCha20Poly1305: incorrect destination length");u=i}else u=new Uint8Array(a);return mp.streamXOR(this._key,s,r,u,4),this._authenticate(u.subarray(u.length-this.tagLength,u.length),o,u.subarray(0,u.length-this.tagLength),n),Xc.wipe(s),u},t.prototype.open=function(e,r,n,i){if(e.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(r.length<this.tagLength)return null;var s=new Uint8Array(16);s.set(e,s.length-e.length);var o=new Uint8Array(32);mp.stream(this._key,s,o,4);var a=new Uint8Array(this.tagLength);if(this._authenticate(a,o,r.subarray(0,r.length-this.tagLength),n),!EW.equal(a,r.subarray(r.length-this.tagLength,r.length)))return null;var u=r.length-this.tagLength,l;if(i){if(i.length!==u)throw new Error("ChaCha20Poly1305: incorrect destination length");l=i}else l=new Uint8Array(u);return mp.streamXOR(this._key,s,r.subarray(0,r.length-this.tagLength),l,4),Xc.wipe(s),l},t.prototype.clean=function(){return Xc.wipe(this._key),this},t.prototype._authenticate=function(e,r,n,i){var s=new wW.Poly1305(r);i&&(s.update(i),i.length%16>0&&s.update(rP.subarray(i.length%16))),s.update(n),n.length%16>0&&s.update(rP.subarray(n.length%16));var o=new Uint8Array(8);i&&tP.writeUint64LE(i.length,o),s.update(o),tP.writeUint64LE(n.length,o),s.update(o);for(var a=s.digest(),u=0;u<a.length;u++)e[u]=a[u];s.clean(),Xc.wipe(a),Xc.wipe(o)},t}();ti.ChaCha20Poly1305=vW});var iP=m(rA=>{"use strict";c();Object.defineProperty(rA,"__esModule",{value:!0});function AW(t){return typeof t.saveState<"u"&&typeof t.restoreState<"u"&&typeof t.cleanSavedState<"u"}rA.isSerializableHash=AW});var oP=m(Zc=>{"use strict";c();Object.defineProperty(Zc,"__esModule",{value:!0});var Tn=iP(),bW=gp(),_W=qr(),sP=function(){function t(e,r){this._finished=!1,this._inner=new e,this._outer=new e,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var n=new Uint8Array(this.blockSize);r.length>this.blockSize?this._inner.update(r).finish(n).clean():n.set(r);for(var i=0;i<n.length;i++)n[i]^=54;this._inner.update(n);for(var i=0;i<n.length;i++)n[i]^=106;this._outer.update(n),Tn.isSerializableHash(this._inner)&&Tn.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),_W.wipe(n)}return t.prototype.reset=function(){if(!Tn.isSerializableHash(this._inner)||!Tn.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},t.prototype.clean=function(){Tn.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),Tn.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},t.prototype.update=function(e){return this._inner.update(e),this},t.prototype.finish=function(e){return this._finished?(this._outer.finish(e),this):(this._inner.finish(e),this._outer.update(e.subarray(0,this.digestLength)).finish(e),this._finished=!0,this)},t.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},t.prototype.saveState=function(){if(!Tn.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},t.prototype.restoreState=function(e){if(!Tn.isSerializableHash(this._inner)||!Tn.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(e),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},t.prototype.cleanSavedState=function(e){if(!Tn.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(e)},t}();Zc.HMAC=sP;function IW(t,e,r){var n=new sP(t,e);n.update(r);var i=n.digest();return n.clean(),i}Zc.hmac=IW;Zc.equal=bW.equal});var cP=m(nA=>{"use strict";c();Object.defineProperty(nA,"__esModule",{value:!0});var aP=oP(),uP=qr(),SW=function(){function t(e,r,n,i){n===void 0&&(n=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=e,this._info=i;var s=aP.hmac(this._hash,n,r);this._hmac=new aP.HMAC(e,s),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return t.prototype._fillBuffer=function(){this._counter[0]++;var e=this._counter[0];if(e===0)throw new Error("hkdf: cannot expand more");this._hmac.reset(),e>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},t.prototype.expand=function(e){for(var r=new Uint8Array(e),n=0;n<r.length;n++)this._bufpos===this._buffer.length&&this._fillBuffer(),r[n]=this._buffer[this._bufpos++];return r},t.prototype.clean=function(){this._hmac.clean(),uP.wipe(this._buffer),uP.wipe(this._counter),this._bufpos=0},t}();nA.HKDF=SW});var fP=m(Hi=>{"use strict";c();Object.defineProperty(Hi,"__esModule",{value:!0});var Ep=Ca(),wp=qr();Hi.DIGEST_LENGTH=32;Hi.BLOCK_SIZE=64;var lP=function(){function t(){this.digestLength=Hi.DIGEST_LENGTH,this.blockSize=Hi.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return t.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},t.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},t.prototype.clean=function(){wp.wipe(this._buffer),wp.wipe(this._temp),this.reset()},t.prototype.update=function(e,r){if(r===void 0&&(r=e.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var n=0;if(this._bytesHashed+=r,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&r>0;)this._buffer[this._bufferLength++]=e[n++],r--;this._bufferLength===this.blockSize&&(iA(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(r>=this.blockSize&&(n=iA(this._temp,this._state,e,n,r),r%=this.blockSize);r>0;)this._buffer[this._bufferLength++]=e[n++],r--;return this},t.prototype.finish=function(e){if(!this._finished){var r=this._bytesHashed,n=this._bufferLength,i=r/536870912|0,s=r<<3,o=r%64<56?64:128;this._buffer[n]=128;for(var a=n+1;a<o-8;a++)this._buffer[a]=0;Ep.writeUint32BE(i,this._buffer,o-8),Ep.writeUint32BE(s,this._buffer,o-4),iA(this._temp,this._state,this._buffer,0,o),this._finished=!0}for(var a=0;a<this.digestLength/4;a++)Ep.writeUint32BE(this._state[a],e,a*4);return this},t.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},t.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},t.prototype.restoreState=function(e){return this._state.set(e.state),this._bufferLength=e.bufferLength,e.buffer&&this._buffer.set(e.buffer),this._bytesHashed=e.bytesHashed,this._finished=!1,this},t.prototype.cleanSavedState=function(e){wp.wipe(e.state),e.buffer&&wp.wipe(e.buffer),e.bufferLength=0,e.bytesHashed=0},t}();Hi.SHA256=lP;var TW=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function iA(t,e,r,n,i){for(;i>=64;){for(var s=e[0],o=e[1],a=e[2],u=e[3],l=e[4],f=e[5],d=e[6],g=e[7],w=0;w<16;w++){var E=n+w*4;t[w]=Ep.readUint32BE(r,E)}for(var w=16;w<64;w++){var T=t[w-2],D=(T>>>17|T<<32-17)^(T>>>19|T<<32-19)^T>>>10;T=t[w-15];var B=(T>>>7|T<<32-7)^(T>>>18|T<<32-18)^T>>>3;t[w]=(D+t[w-7]|0)+(B+t[w-16]|0)}for(var w=0;w<64;w++){var D=(((l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7))+(l&f^~l&d)|0)+(g+(TW[w]+t[w]|0)|0)|0,B=((s>>>2|s<<32-2)^(s>>>13|s<<32-13)^(s>>>22|s<<32-22))+(s&o^s&a^o&a)|0;g=d,d=f,f=l,l=u+D|0,u=a,a=o,o=s,s=D+B|0}e[0]+=s,e[1]+=o,e[2]+=a,e[3]+=u,e[4]+=l,e[5]+=f,e[6]+=d,e[7]+=g,n+=64,i-=64}return n}function CW(t){var e=new lP;e.update(t);var r=e.digest();return e.clean(),r}Hi.hash=CW});var gP=m(gt=>{"use strict";c();Object.defineProperty(gt,"__esModule",{value:!0});gt.sharedKey=gt.generateKeyPair=gt.generateKeyPairFromSeed=gt.scalarMultBase=gt.scalarMult=gt.SHARED_KEY_LENGTH=gt.SECRET_KEY_LENGTH=gt.PUBLIC_KEY_LENGTH=void 0;var xW=Vc(),NW=qr();gt.PUBLIC_KEY_LENGTH=32;gt.SECRET_KEY_LENGTH=32;gt.SHARED_KEY_LENGTH=32;function Cn(t){let e=new Float64Array(16);if(t)for(let r=0;r<t.length;r++)e[r]=t[r];return e}var hP=new Uint8Array(32);hP[0]=9;var OW=Cn([56129,1]);function sA(t){let e=1;for(let r=0;r<16;r++){let n=t[r]+e+65535;e=Math.floor(n/65536),t[r]=n-e*65536}t[0]+=e-1+37*(e-1)}function el(t,e,r){let n=~(r-1);for(let i=0;i<16;i++){let s=n&(t[i]^e[i]);t[i]^=s,e[i]^=s}}function DW(t,e){let r=Cn(),n=Cn();for(let i=0;i<16;i++)n[i]=e[i];sA(n),sA(n),sA(n);for(let i=0;i<2;i++){r[0]=n[0]-65517;for(let o=1;o<15;o++)r[o]=n[o]-65535-(r[o-1]>>16&1),r[o-1]&=65535;r[15]=n[15]-32767-(r[14]>>16&1);let s=r[15]>>16&1;r[14]&=65535,el(n,r,1-s)}for(let i=0;i<16;i++)t[2*i]=n[i]&255,t[2*i+1]=n[i]>>8}function PW(t,e){for(let r=0;r<16;r++)t[r]=e[2*r]+(e[2*r+1]<<8);t[15]&=32767}function vp(t,e,r){for(let n=0;n<16;n++)t[n]=e[n]+r[n]}function Ap(t,e,r){for(let n=0;n<16;n++)t[n]=e[n]-r[n]}function ri(t,e,r){let n,i,s=0,o=0,a=0,u=0,l=0,f=0,d=0,g=0,w=0,E=0,T=0,D=0,B=0,W=0,U=0,A=0,I=0,N=0,_=0,S=0,R=0,J=0,Q=0,V=0,k=0,K=0,pe=0,ue=0,re=0,Y=0,se=0,te=r[0],ie=r[1],M=r[2],le=r[3],ae=r[4],fe=r[5],oe=r[6],ce=r[7],y=r[8],v=r[9],b=r[10],P=r[11],C=r[12],O=r[13],L=r[14],x=r[15];n=e[0],s+=n*te,o+=n*ie,a+=n*M,u+=n*le,l+=n*ae,f+=n*fe,d+=n*oe,g+=n*ce,w+=n*y,E+=n*v,T+=n*b,D+=n*P,B+=n*C,W+=n*O,U+=n*L,A+=n*x,n=e[1],o+=n*te,a+=n*ie,u+=n*M,l+=n*le,f+=n*ae,d+=n*fe,g+=n*oe,w+=n*ce,E+=n*y,T+=n*v,D+=n*b,B+=n*P,W+=n*C,U+=n*O,A+=n*L,I+=n*x,n=e[2],a+=n*te,u+=n*ie,l+=n*M,f+=n*le,d+=n*ae,g+=n*fe,w+=n*oe,E+=n*ce,T+=n*y,D+=n*v,B+=n*b,W+=n*P,U+=n*C,A+=n*O,I+=n*L,N+=n*x,n=e[3],u+=n*te,l+=n*ie,f+=n*M,d+=n*le,g+=n*ae,w+=n*fe,E+=n*oe,T+=n*ce,D+=n*y,B+=n*v,W+=n*b,U+=n*P,A+=n*C,I+=n*O,N+=n*L,_+=n*x,n=e[4],l+=n*te,f+=n*ie,d+=n*M,g+=n*le,w+=n*ae,E+=n*fe,T+=n*oe,D+=n*ce,B+=n*y,W+=n*v,U+=n*b,A+=n*P,I+=n*C,N+=n*O,_+=n*L,S+=n*x,n=e[5],f+=n*te,d+=n*ie,g+=n*M,w+=n*le,E+=n*ae,T+=n*fe,D+=n*oe,B+=n*ce,W+=n*y,U+=n*v,A+=n*b,I+=n*P,N+=n*C,_+=n*O,S+=n*L,R+=n*x,n=e[6],d+=n*te,g+=n*ie,w+=n*M,E+=n*le,T+=n*ae,D+=n*fe,B+=n*oe,W+=n*ce,U+=n*y,A+=n*v,I+=n*b,N+=n*P,_+=n*C,S+=n*O,R+=n*L,J+=n*x,n=e[7],g+=n*te,w+=n*ie,E+=n*M,T+=n*le,D+=n*ae,B+=n*fe,W+=n*oe,U+=n*ce,A+=n*y,I+=n*v,N+=n*b,_+=n*P,S+=n*C,R+=n*O,J+=n*L,Q+=n*x,n=e[8],w+=n*te,E+=n*ie,T+=n*M,D+=n*le,B+=n*ae,W+=n*fe,U+=n*oe,A+=n*ce,I+=n*y,N+=n*v,_+=n*b,S+=n*P,R+=n*C,J+=n*O,Q+=n*L,V+=n*x,n=e[9],E+=n*te,T+=n*ie,D+=n*M,B+=n*le,W+=n*ae,U+=n*fe,A+=n*oe,I+=n*ce,N+=n*y,_+=n*v,S+=n*b,R+=n*P,J+=n*C,Q+=n*O,V+=n*L,k+=n*x,n=e[10],T+=n*te,D+=n*ie,B+=n*M,W+=n*le,U+=n*ae,A+=n*fe,I+=n*oe,N+=n*ce,_+=n*y,S+=n*v,R+=n*b,J+=n*P,Q+=n*C,V+=n*O,k+=n*L,K+=n*x,n=e[11],D+=n*te,B+=n*ie,W+=n*M,U+=n*le,A+=n*ae,I+=n*fe,N+=n*oe,_+=n*ce,S+=n*y,R+=n*v,J+=n*b,Q+=n*P,V+=n*C,k+=n*O,K+=n*L,pe+=n*x,n=e[12],B+=n*te,W+=n*ie,U+=n*M,A+=n*le,I+=n*ae,N+=n*fe,_+=n*oe,S+=n*ce,R+=n*y,J+=n*v,Q+=n*b,V+=n*P,k+=n*C,K+=n*O,pe+=n*L,ue+=n*x,n=e[13],W+=n*te,U+=n*ie,A+=n*M,I+=n*le,N+=n*ae,_+=n*fe,S+=n*oe,R+=n*ce,J+=n*y,Q+=n*v,V+=n*b,k+=n*P,K+=n*C,pe+=n*O,ue+=n*L,re+=n*x,n=e[14],U+=n*te,A+=n*ie,I+=n*M,N+=n*le,_+=n*ae,S+=n*fe,R+=n*oe,J+=n*ce,Q+=n*y,V+=n*v,k+=n*b,K+=n*P,pe+=n*C,ue+=n*O,re+=n*L,Y+=n*x,n=e[15],A+=n*te,I+=n*ie,N+=n*M,_+=n*le,S+=n*ae,R+=n*fe,J+=n*oe,Q+=n*ce,V+=n*y,k+=n*v,K+=n*b,pe+=n*P,ue+=n*C,re+=n*O,Y+=n*L,se+=n*x,s+=38*I,o+=38*N,a+=38*_,u+=38*S,l+=38*R,f+=38*J,d+=38*Q,g+=38*V,w+=38*k,E+=38*K,T+=38*pe,D+=38*ue,B+=38*re,W+=38*Y,U+=38*se,i=1,n=s+i+65535,i=Math.floor(n/65536),s=n-i*65536,n=o+i+65535,i=Math.floor(n/65536),o=n-i*65536,n=a+i+65535,i=Math.floor(n/65536),a=n-i*65536,n=u+i+65535,i=Math.floor(n/65536),u=n-i*65536,n=l+i+65535,i=Math.floor(n/65536),l=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=d+i+65535,i=Math.floor(n/65536),d=n-i*65536,n=g+i+65535,i=Math.floor(n/65536),g=n-i*65536,n=w+i+65535,i=Math.floor(n/65536),w=n-i*65536,n=E+i+65535,i=Math.floor(n/65536),E=n-i*65536,n=T+i+65535,i=Math.floor(n/65536),T=n-i*65536,n=D+i+65535,i=Math.floor(n/65536),D=n-i*65536,n=B+i+65535,i=Math.floor(n/65536),B=n-i*65536,n=W+i+65535,i=Math.floor(n/65536),W=n-i*65536,n=U+i+65535,i=Math.floor(n/65536),U=n-i*65536,n=A+i+65535,i=Math.floor(n/65536),A=n-i*65536,s+=i-1+37*(i-1),i=1,n=s+i+65535,i=Math.floor(n/65536),s=n-i*65536,n=o+i+65535,i=Math.floor(n/65536),o=n-i*65536,n=a+i+65535,i=Math.floor(n/65536),a=n-i*65536,n=u+i+65535,i=Math.floor(n/65536),u=n-i*65536,n=l+i+65535,i=Math.floor(n/65536),l=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=d+i+65535,i=Math.floor(n/65536),d=n-i*65536,n=g+i+65535,i=Math.floor(n/65536),g=n-i*65536,n=w+i+65535,i=Math.floor(n/65536),w=n-i*65536,n=E+i+65535,i=Math.floor(n/65536),E=n-i*65536,n=T+i+65535,i=Math.floor(n/65536),T=n-i*65536,n=D+i+65535,i=Math.floor(n/65536),D=n-i*65536,n=B+i+65535,i=Math.floor(n/65536),B=n-i*65536,n=W+i+65535,i=Math.floor(n/65536),W=n-i*65536,n=U+i+65535,i=Math.floor(n/65536),U=n-i*65536,n=A+i+65535,i=Math.floor(n/65536),A=n-i*65536,s+=i-1+37*(i-1),t[0]=s,t[1]=o,t[2]=a,t[3]=u,t[4]=l,t[5]=f,t[6]=d,t[7]=g,t[8]=w,t[9]=E,t[10]=T,t[11]=D,t[12]=B,t[13]=W,t[14]=U,t[15]=A}function tl(t,e){ri(t,e,e)}function RW(t,e){let r=Cn();for(let n=0;n<16;n++)r[n]=e[n];for(let n=253;n>=0;n--)tl(r,r),n!==2&&n!==4&&ri(r,r,e);for(let n=0;n<16;n++)t[n]=r[n]}function oA(t,e){let r=new Uint8Array(32),n=new Float64Array(80),i=Cn(),s=Cn(),o=Cn(),a=Cn(),u=Cn(),l=Cn();for(let w=0;w<31;w++)r[w]=t[w];r[31]=t[31]&127|64,r[0]&=248,PW(n,e);for(let w=0;w<16;w++)s[w]=n[w];i[0]=a[0]=1;for(let w=254;w>=0;--w){let E=r[w>>>3]>>>(w&7)&1;el(i,s,E),el(o,a,E),vp(u,i,o),Ap(i,i,o),vp(o,s,a),Ap(s,s,a),tl(a,u),tl(l,i),ri(i,o,i),ri(o,s,u),vp(u,i,o),Ap(i,i,o),tl(s,i),Ap(o,a,l),ri(i,o,OW),vp(i,i,a),ri(o,o,i),ri(i,a,l),ri(a,s,n),tl(s,u),el(i,s,E),el(o,a,E)}for(let w=0;w<16;w++)n[w+16]=i[w],n[w+32]=o[w],n[w+48]=s[w],n[w+64]=a[w];let f=n.subarray(32),d=n.subarray(16);RW(f,f),ri(d,d,f);let g=new Uint8Array(32);return DW(g,d),g}gt.scalarMult=oA;function dP(t){return oA(t,hP)}gt.scalarMultBase=dP;function pP(t){if(t.length!==gt.SECRET_KEY_LENGTH)throw new Error(`x25519: seed must be ${gt.SECRET_KEY_LENGTH} bytes`);let e=new Uint8Array(t);return{publicKey:dP(e),secretKey:e}}gt.generateKeyPairFromSeed=pP;function BW(t){let e=(0,xW.randomBytes)(32,t),r=pP(e);return(0,NW.wipe)(e),r}gt.generateKeyPair=BW;function LW(t,e,r=!1){if(t.length!==gt.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect secret key length");if(e.length!==gt.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect public key length");let n=oA(t,e);if(r){let i=0;for(let s=0;s<n.length;s++)i|=n[s];if(i===0)throw new Error("X25519: invalid shared key")}return n}gt.sharedKey=LW});function yP(t,e){for(let r=0;r<t.byteLength;r++){if(t[r]<e[r])return-1;if(t[r]>e[r])return 1}return t.byteLength>e.byteLength?1:t.byteLength<e.byteLength?-1:0}var mP=ge(()=>{c()});function wP(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}var EP=ge(()=>{c()});function vP(t,e){if(t.length!==e.length)throw new Error("Inputs should have the same length");let r=Ra(t.length);for(let n=0;n<t.length;n++)r[n]=t[n]^e[n];return Ui(r)}var AP=ge(()=>{c();op();jc()});var aA={};ft(aA,{compare:()=>yP,concat:()=>ap,equals:()=>wP,fromString:()=>Sn,toString:()=>Zn,xor:()=>vP});var uA=ge(()=>{c();mP();A1();EP();z1();$1();AP()});var RP=m(st=>{"use strict";c();var bP=st&&st.__spreadArray||function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))};Object.defineProperty(st,"__esModule",{value:!0});st.getNodeVersion=st.detectOS=st.parseUserAgent=st.browserName=st.detect=st.ReactNativeInfo=st.BotInfo=st.SearchBotDeviceInfo=st.NodeInfo=st.BrowserInfo=void 0;var SP=function(){function t(e,r,n){this.name=e,this.version=r,this.os=n,this.type="browser"}return t}();st.BrowserInfo=SP;var TP=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=p.default.platform}return t}();st.NodeInfo=TP;var CP=function(){function t(e,r,n,i){this.name=e,this.version=r,this.os=n,this.bot=i,this.type="bot-device"}return t}();st.SearchBotDeviceInfo=CP;var xP=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}();st.BotInfo=xP;var NP=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}();st.ReactNativeInfo=NP;var FW=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,MW=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,_P=3,UW=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",FW]],IP=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function qW(t){return t?cA(t):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new NP:typeof navigator<"u"?cA(navigator.userAgent):PP()}st.detect=qW;function OP(t){return t!==""&&UW.reduce(function(e,r){var n=r[0],i=r[1];if(e)return e;var s=i.exec(t);return!!s&&[n,s]},!1)}function VW(t){var e=OP(t);return e?e[0]:null}st.browserName=VW;function cA(t){var e=OP(t);if(!e)return null;var r=e[0],n=e[1];if(r==="searchbot")return new xP;var i=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);i?i.length<_P&&(i=bP(bP([],i,!0),HW(_P-i.length),!0)):i=[];var s=i.join("."),o=DP(t),a=MW.exec(t);return a&&a[1]?new CP(r,s,o,a[1]):new SP(r,s,o)}st.parseUserAgent=cA;function DP(t){for(var e=0,r=IP.length;e<r;e++){var n=IP[e],i=n[0],s=n[1],o=s.exec(t);if(o)return i}return null}st.detectOS=DP;function PP(){var t=typeof p.default<"u"&&p.default.version;return t?new TP(p.default.version.slice(1)):null}st.getNodeVersion=PP;function HW(t){for(var e=[],r=0;r<t;r++)e.push("0");return e}});var lA=m(Ye=>{"use strict";c();Object.defineProperty(Ye,"__esModule",{value:!0});Ye.getLocalStorage=Ye.getLocalStorageOrThrow=Ye.getCrypto=Ye.getCryptoOrThrow=Ye.getLocation=Ye.getLocationOrThrow=Ye.getNavigator=Ye.getNavigatorOrThrow=Ye.getDocument=Ye.getDocumentOrThrow=Ye.getFromWindowOrThrow=Ye.getFromWindow=void 0;function Ks(t){let e;return typeof window<"u"&&typeof window[t]<"u"&&(e=window[t]),e}Ye.getFromWindow=Ks;function Ha(t){let e=Ks(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}Ye.getFromWindowOrThrow=Ha;function GW(){return Ha("document")}Ye.getDocumentOrThrow=GW;function kW(){return Ks("document")}Ye.getDocument=kW;function jW(){return Ha("navigator")}Ye.getNavigatorOrThrow=jW;function QW(){return Ks("navigator")}Ye.getNavigator=QW;function WW(){return Ha("location")}Ye.getLocationOrThrow=WW;function $W(){return Ks("location")}Ye.getLocation=$W;function zW(){return Ha("crypto")}Ye.getCryptoOrThrow=zW;function KW(){return Ks("crypto")}Ye.getCrypto=KW;function YW(){return Ha("localStorage")}Ye.getLocalStorageOrThrow=YW;function JW(){return Ks("localStorage")}Ye.getLocalStorage=JW});var LP=m(bp=>{"use strict";c();Object.defineProperty(bp,"__esModule",{value:!0});bp.getWindowMetadata=void 0;var BP=lA();function XW(){let t,e;try{t=BP.getDocumentOrThrow(),e=BP.getLocationOrThrow()}catch{return null}function r(){let d=t.getElementsByTagName("link"),g=[];for(let w=0;w<d.length;w++){let E=d[w],T=E.getAttribute("rel");if(T&&T.toLowerCase().indexOf("icon")>-1){let D=E.getAttribute("href");if(D)if(D.toLowerCase().indexOf("https:")===-1&&D.toLowerCase().indexOf("http:")===-1&&D.indexOf("//")!==0){let B=e.protocol+"//"+e.host;if(D.indexOf("/")===0)B+=D;else{let W=e.pathname.split("/");W.pop();let U=W.join("/");B+=U+"/"+D}g.push(B)}else if(D.indexOf("//")===0){let B=e.protocol+D;g.push(B)}else g.push(D)}}return g}function n(...d){let g=t.getElementsByTagName("meta");for(let w=0;w<g.length;w++){let E=g[w],T=["itemprop","property","name"].map(D=>E.getAttribute(D)).filter(D=>D?d.includes(D):!1);if(T.length&&T){let D=E.getAttribute("content");if(D)return D}}return""}function i(){let d=n("name","og:site_name","og:title","twitter:title");return d||(d=t.title),d}function s(){return n("description","og:description","twitter:description","keywords")}let o=i(),a=s(),u=e.origin,l=r();return{description:a,url:u,icons:l,name:o}}bp.getWindowMetadata=XW});var MP=m(($de,FP)=>{"use strict";c();FP.exports=t=>encodeURIComponent(t).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`)});var GP=m((Kde,HP)=>{"use strict";c();var VP="%[a-f0-9]{2}",UP=new RegExp("("+VP+")|([^%]+?)","gi"),qP=new RegExp("("+VP+")+","gi");function fA(t,e){try{return[decodeURIComponent(t.join(""))]}catch{}if(t.length===1)return t;e=e||1;var r=t.slice(0,e),n=t.slice(e);return Array.prototype.concat.call([],fA(r),fA(n))}function ZW(t){try{return decodeURIComponent(t)}catch{for(var e=t.match(UP)||[],r=1;r<e.length;r++)t=fA(e,r).join(""),e=t.match(UP)||[];return t}}function e$(t){for(var e={"%FE%FF":"\uFFFD\uFFFD","%FF%FE":"\uFFFD\uFFFD"},r=qP.exec(t);r;){try{e[r[0]]=decodeURIComponent(r[0])}catch{var n=ZW(r[0]);n!==r[0]&&(e[r[0]]=n)}r=qP.exec(t)}e["%C2"]="\uFFFD";for(var i=Object.keys(e),s=0;s<i.length;s++){var o=i[s];t=t.replace(new RegExp(o,"g"),e[o])}return t}HP.exports=function(t){if(typeof t!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch{return e$(t)}}});var jP=m((Jde,kP)=>{"use strict";c();kP.exports=(t,e)=>{if(!(typeof t=="string"&&typeof e=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e==="")return[t];let r=t.indexOf(e);return r===-1?[t]:[t.slice(0,r),t.slice(r+e.length)]}});var WP=m((Zde,QP)=>{"use strict";c();QP.exports=function(t,e){for(var r={},n=Object.keys(t),i=Array.isArray(e),s=0;s<n.length;s++){var o=n[s],a=t[o];(i?e.indexOf(o)!==-1:e(o,a,t))&&(r[o]=a)}return r}});var e3=m(pr=>{"use strict";c();var t$=MP(),r$=GP(),zP=jP(),n$=WP(),i$=t=>t==null,hA=Symbol("encodeFragmentIdentifier");function s$(t){switch(t.arrayFormat){case"index":return e=>(r,n)=>{let i=r.length;return n===void 0||t.skipNull&&n===null||t.skipEmptyString&&n===""?r:n===null?[...r,[vt(e,t),"[",i,"]"].join("")]:[...r,[vt(e,t),"[",vt(i,t),"]=",vt(n,t)].join("")]};case"bracket":return e=>(r,n)=>n===void 0||t.skipNull&&n===null||t.skipEmptyString&&n===""?r:n===null?[...r,[vt(e,t),"[]"].join("")]:[...r,[vt(e,t),"[]=",vt(n,t)].join("")];case"colon-list-separator":return e=>(r,n)=>n===void 0||t.skipNull&&n===null||t.skipEmptyString&&n===""?r:n===null?[...r,[vt(e,t),":list="].join("")]:[...r,[vt(e,t),":list=",vt(n,t)].join("")];case"comma":case"separator":case"bracket-separator":{let e=t.arrayFormat==="bracket-separator"?"[]=":"=";return r=>(n,i)=>i===void 0||t.skipNull&&i===null||t.skipEmptyString&&i===""?n:(i=i===null?"":i,n.length===0?[[vt(r,t),e,vt(i,t)].join("")]:[[n,vt(i,t)].join(t.arrayFormatSeparator)])}default:return e=>(r,n)=>n===void 0||t.skipNull&&n===null||t.skipEmptyString&&n===""?r:n===null?[...r,vt(e,t)]:[...r,[vt(e,t),"=",vt(n,t)].join("")]}}function o$(t){let e;switch(t.arrayFormat){case"index":return(r,n,i)=>{if(e=/\[(\d*)\]$/.exec(r),r=r.replace(/\[\d*\]$/,""),!e){i[r]=n;return}i[r]===void 0&&(i[r]={}),i[r][e[1]]=n};case"bracket":return(r,n,i)=>{if(e=/(\[\])$/.exec(r),r=r.replace(/\[\]$/,""),!e){i[r]=n;return}if(i[r]===void 0){i[r]=[n];return}i[r]=[].concat(i[r],n)};case"colon-list-separator":return(r,n,i)=>{if(e=/(:list)$/.exec(r),r=r.replace(/:list$/,""),!e){i[r]=n;return}if(i[r]===void 0){i[r]=[n];return}i[r]=[].concat(i[r],n)};case"comma":case"separator":return(r,n,i)=>{let s=typeof n=="string"&&n.includes(t.arrayFormatSeparator),o=typeof n=="string"&&!s&&ni(n,t).includes(t.arrayFormatSeparator);n=o?ni(n,t):n;let a=s||o?n.split(t.arrayFormatSeparator).map(u=>ni(u,t)):n===null?n:ni(n,t);i[r]=a};case"bracket-separator":return(r,n,i)=>{let s=/(\[\])$/.test(r);if(r=r.replace(/\[\]$/,""),!s){i[r]=n&&ni(n,t);return}let o=n===null?[]:n.split(t.arrayFormatSeparator).map(a=>ni(a,t));if(i[r]===void 0){i[r]=o;return}i[r]=[].concat(i[r],o)};default:return(r,n,i)=>{if(i[r]===void 0){i[r]=n;return}i[r]=[].concat(i[r],n)}}}function KP(t){if(typeof t!="string"||t.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function vt(t,e){return e.encode?e.strict?t$(t):encodeURIComponent(t):t}function ni(t,e){return e.decode?r$(t):t}function YP(t){return Array.isArray(t)?t.sort():typeof t=="object"?YP(Object.keys(t)).sort((e,r)=>Number(e)-Number(r)).map(e=>t[e]):t}function JP(t){let e=t.indexOf("#");return e!==-1&&(t=t.slice(0,e)),t}function a$(t){let e="",r=t.indexOf("#");return r!==-1&&(e=t.slice(r)),e}function XP(t){t=JP(t);let e=t.indexOf("?");return e===-1?"":t.slice(e+1)}function $P(t,e){return e.parseNumbers&&!Number.isNaN(Number(t))&&typeof t=="string"&&t.trim()!==""?t=Number(t):e.parseBooleans&&t!==null&&(t.toLowerCase()==="true"||t.toLowerCase()==="false")&&(t=t.toLowerCase()==="true"),t}function ZP(t,e){e=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},e),KP(e.arrayFormatSeparator);let r=o$(e),n=Object.create(null);if(typeof t!="string"||(t=t.trim().replace(/^[?#&]/,""),!t))return n;for(let i of t.split("&")){if(i==="")continue;let[s,o]=zP(e.decode?i.replace(/\+/g," "):i,"=");o=o===void 0?null:["comma","separator","bracket-separator"].includes(e.arrayFormat)?o:ni(o,e),r(ni(s,e),o,n)}for(let i of Object.keys(n)){let s=n[i];if(typeof s=="object"&&s!==null)for(let o of Object.keys(s))s[o]=$P(s[o],e);else n[i]=$P(s,e)}return e.sort===!1?n:(e.sort===!0?Object.keys(n).sort():Object.keys(n).sort(e.sort)).reduce((i,s)=>{let o=n[s];return o&&typeof o=="object"&&!Array.isArray(o)?i[s]=YP(o):i[s]=o,i},Object.create(null))}pr.extract=XP;pr.parse=ZP;pr.stringify=(t,e)=>{if(!t)return"";e=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},e),KP(e.arrayFormatSeparator);let r=o=>e.skipNull&&i$(t[o])||e.skipEmptyString&&t[o]==="",n=s$(e),i={};for(let o of Object.keys(t))r(o)||(i[o]=t[o]);let s=Object.keys(i);return e.sort!==!1&&s.sort(e.sort),s.map(o=>{let a=t[o];return a===void 0?"":a===null?vt(o,e):Array.isArray(a)?a.length===0&&e.arrayFormat==="bracket-separator"?vt(o,e)+"[]":a.reduce(n(o),[]).join("&"):vt(o,e)+"="+vt(a,e)}).filter(o=>o.length>0).join("&")};pr.parseUrl=(t,e)=>{e=Object.assign({decode:!0},e);let[r,n]=zP(t,"#");return Object.assign({url:r.split("?")[0]||"",query:ZP(XP(t),e)},e&&e.parseFragmentIdentifier&&n?{fragmentIdentifier:ni(n,e)}:{})};pr.stringifyUrl=(t,e)=>{e=Object.assign({encode:!0,strict:!0,[hA]:!0},e);let r=JP(t.url).split("?")[0]||"",n=pr.extract(t.url),i=pr.parse(n,{sort:!1}),s=Object.assign(i,t.query),o=pr.stringify(s,e);o&&(o=`?${o}`);let a=a$(t.url);return t.fragmentIdentifier&&(a=`#${e[hA]?vt(t.fragmentIdentifier,e):t.fragmentIdentifier}`),`${r}${o}${a}`};pr.pick=(t,e,r)=>{r=Object.assign({parseFragmentIdentifier:!0,[hA]:!1},r);let{url:n,query:i,fragmentIdentifier:s}=pr.parseUrl(t,r);return pr.stringifyUrl({url:n,query:n$(i,e),fragmentIdentifier:s},r)};pr.exclude=(t,e,r)=>{let n=Array.isArray(e)?i=>!e.includes(i):(i,s)=>!e(i,s);return pr.pick(t,n,r)}});var t3=ge(()=>{c()});function Gi(t,e,r="string"){if(!t[e]||typeof t[e]!==r)throw new Error(`Missing or invalid "${e}" param`)}function u$(t,e){let r=!0;return e.forEach(n=>{n in t||(r=!1)}),r}function c$(t,e){return Array.isArray(t)?t.length===e:Object.keys(t).length===e}function l$(t,e){return Array.isArray(t)?t.length>=e:Object.keys(t).length>=e}function rl(t,e,r){return(!r.length?c$(t,e.length):l$(t,e.length))?u$(t,e):!1}function nl(t,e,r="_"){let n=t.split(r);return n[n.length-1].trim().toLowerCase()===e.trim().toLowerCase()}var dA=ge(()=>{c()});function f$(t){return _p(t.method)&&Ip(t.params)}function _p(t){return nl(t,"subscribe")}function Ip(t){return rl(t,["topic"],[])}function h$(t){return Sp(t.method)&&Tp(t.params)}function Sp(t){return nl(t,"publish")}function Tp(t){return rl(t,["message","topic","ttl"],["prompt","tag"])}function d$(t){return Cp(t.method)&&xp(t.params)}function Cp(t){return nl(t,"unsubscribe")}function xp(t){return rl(t,["id","topic"],[])}function p$(t){return Np(t.method)&&Op(t.params)}function Np(t){return nl(t,"subscription")}function Op(t){return rl(t,["id","data"],[])}var pA=ge(()=>{c();dA()});function g$(t){if(!_p(t.method))throw new Error("JSON-RPC Request has invalid subscribe method");if(!Ip(t.params))throw new Error("JSON-RPC Request has invalid subscribe params");let e=t.params;return Gi(e,"topic"),e}function y$(t){if(!Sp(t.method))throw new Error("JSON-RPC Request has invalid publish method");if(!Tp(t.params))throw new Error("JSON-RPC Request has invalid publish params");let e=t.params;return Gi(e,"topic"),Gi(e,"message"),Gi(e,"ttl","number"),e}function m$(t){if(!Cp(t.method))throw new Error("JSON-RPC Request has invalid unsubscribe method");if(!xp(t.params))throw new Error("JSON-RPC Request has invalid unsubscribe params");let e=t.params;return Gi(e,"id"),e}function w$(t){if(!Np(t.method))throw new Error("JSON-RPC Request has invalid subscription method");if(!Op(t.params))throw new Error("JSON-RPC Request has invalid subscription params");let e=t.params;return Gi(e,"id"),Gi(e,"data"),e}var r3=ge(()=>{c();dA();pA()});var E$,n3=ge(()=>{c();E$={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe"}}});var i3={};ft(i3,{RELAY_JSONRPC:()=>E$,isPublishMethod:()=>Sp,isPublishParams:()=>Tp,isPublishRequest:()=>h$,isSubscribeMethod:()=>_p,isSubscribeParams:()=>Ip,isSubscribeRequest:()=>f$,isSubscriptionMethod:()=>Np,isSubscriptionParams:()=>Op,isSubscriptionRequest:()=>p$,isUnsubscribeMethod:()=>Cp,isUnsubscribeParams:()=>xp,isUnsubscribeRequest:()=>d$,parsePublishRequest:()=>y$,parseSubscribeRequest:()=>g$,parseSubscriptionRequest:()=>w$,parseUnsubscribeRequest:()=>m$});var s3=ge(()=>{c();t3();r3();n3();pA()});var cl=m(G=>{"use strict";c();Object.defineProperty(G,"__esModule",{value:!0});var g3=nP(),v$=cP(),y3=Vc(),vA=fP(),A$=gP(),ot=(uA(),ct(aA)),b$=RP(),Ga=ks(),il=lA(),_$=LP(),I$=e3(),S$=(s3(),ct(i3));function m3(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}),e.default=t,Object.freeze(e)}var w3=m3(A$),Dp=m3(I$),Bp=":";function E3(t){let[e,r]=t.split(Bp);return{namespace:e,reference:r}}function v3(t){let{namespace:e,reference:r}=t;return[e,r].join(Bp)}function AA(t){let[e,r,n]=t.split(Bp);return{namespace:e,reference:r,address:n}}function A3(t){let{namespace:e,reference:r,address:n}=t;return[e,r,n].join(Bp)}function bA(t,e){let r=[];return t.forEach(n=>{let i=e(n);r.includes(i)||r.push(i)}),r}function b3(t){let{address:e}=AA(t);return e}function _3(t){let{namespace:e,reference:r}=AA(t);return v3({namespace:e,reference:r})}function T$(t,e){let{namespace:r,reference:n}=E3(e);return A3({namespace:r,reference:n,address:t})}function C$(t){return bA(t,b3)}function I3(t){return bA(t,_3)}function x$(t,e=[]){let r=[];return Object.keys(t).forEach(n=>{if(e.length&&!e.includes(n))return;let i=t[n];r.push(...i.accounts)}),r}function N$(t,e=[]){let r=[];return Object.keys(t).forEach(n=>{if(e.length&&!e.includes(n))return;let i=t[n];r.push(...I3(i.accounts))}),r}function O$(t,e=[]){let r=[];return Object.keys(t).forEach(n=>{if(e.length&&!e.includes(n))return;let i=t[n];r.push(...Lp(n,i))}),r}function Lp(t,e){return t.includes(":")?[t]:e.chains||[]}var Fp=t=>t?.split(":"),S3=t=>{let e=t&&Fp(t);if(e)return e[3]},D$=t=>{let e=t&&Fp(t);if(e)return e[2]+":"+e[3]},T3=t=>{let e=t&&Fp(t);if(e)return e.pop()},P$=(t,e)=>{let r=`${t.domain} wants you to sign in with your Ethereum account:`,n=T3(e),i=t.statement,s=`URI: ${t.aud}`,o=`Version: ${t.version}`,a=`Chain ID: ${S3(e)}`,u=`Nonce: ${t.nonce}`,l=`Issued At: ${t.iat}`,f=t.resources&&t.resources.length>0?`Resources:
${t.resources.map(d=>`- ${d}`).join(`
`)}`:void 0;return[r,n,"",i,"",s,o,a,u,l,f].filter(d=>d!=null).join(`
`)},_A="base10",rr="base16",Pp="base64pad",Mp="utf8",IA=0,ka=1,R$=0,o3=1,yA=12,SA=32;function B$(){let t=w3.generateKeyPair();return{privateKey:ot.toString(t.secretKey,rr),publicKey:ot.toString(t.publicKey,rr)}}function L$(){let t=y3.randomBytes(SA);return ot.toString(t,rr)}function F$(t,e){let r=w3.sharedKey(ot.fromString(t,rr),ot.fromString(e,rr),!0),n=new v$.HKDF(vA.SHA256,r).expand(SA);return ot.toString(n,rr)}function M$(t){let e=vA.hash(ot.fromString(t,rr));return ot.toString(e,rr)}function U$(t){let e=vA.hash(ot.fromString(t,Mp));return ot.toString(e,rr)}function C3(t){return ot.fromString(`${t}`,_A)}function ol(t){return Number(ot.toString(t,_A))}function q$(t){let e=C3(typeof t.type<"u"?t.type:IA);if(ol(e)===ka&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");let r=typeof t.senderPublicKey<"u"?ot.fromString(t.senderPublicKey,rr):void 0,n=typeof t.iv<"u"?ot.fromString(t.iv,rr):y3.randomBytes(yA),i=new g3.ChaCha20Poly1305(ot.fromString(t.symKey,rr)).seal(n,ot.fromString(t.message,Mp));return x3({type:e,sealed:i,iv:n,senderPublicKey:r})}function V$(t){let e=new g3.ChaCha20Poly1305(ot.fromString(t.symKey,rr)),{sealed:r,iv:n}=TA(t.encoded),i=e.open(n,r);if(i===null)throw new Error("Failed to decrypt");return ot.toString(i,Mp)}function x3(t){if(ol(t.type)===ka){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return ot.toString(ot.concat([t.type,t.senderPublicKey,t.iv,t.sealed]),Pp)}return ot.toString(ot.concat([t.type,t.iv,t.sealed]),Pp)}function TA(t){let e=ot.fromString(t,Pp),r=e.slice(R$,o3),n=o3;if(ol(r)===ka){let a=n+SA,u=a+yA,l=e.slice(n,a),f=e.slice(a,u),d=e.slice(u);return{type:r,sealed:d,iv:f,senderPublicKey:l}}let i=n+yA,s=e.slice(n,i),o=e.slice(i);return{type:r,sealed:o,iv:s}}function H$(t,e){let r=TA(t);return N3({type:ol(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?ot.toString(r.senderPublicKey,rr):void 0,receiverPublicKey:e?.receiverPublicKey})}function N3(t){let e=t?.type||IA;if(e===ka){if(typeof t?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof t?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t?.senderPublicKey,receiverPublicKey:t?.receiverPublicKey}}function G$(t){return t.type===ka&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}var k$=Object.defineProperty,a3=Object.getOwnPropertySymbols,j$=Object.prototype.hasOwnProperty,Q$=Object.prototype.propertyIsEnumerable,u3=(t,e,r)=>e in t?k$(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,c3=(t,e)=>{for(var r in e||(e={}))j$.call(e,r)&&u3(t,r,e[r]);if(a3)for(var r of a3(e))Q$.call(e,r)&&u3(t,r,e[r]);return t},O3="ReactNative",tr={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},Rp=" ",W$=":",D3="/",CA=2,$$=1e3,P3="js";function xA(){return typeof p.default<"u"&&typeof p.default.versions<"u"&&typeof p.default.versions.node<"u"}function al(){return!il.getDocument()&&!!il.getNavigator()&&navigator.product===O3}function Up(){return!xA()&&!!il.getNavigator()}function Js(){return al()?tr.reactNative:xA()?tr.node:Up()?tr.browser:tr.unknown}function R3(t,e){let r=Dp.parse(t);return r=c3(c3({},r),e),t=Dp.stringify(r),t}function z$(){return _$.getWindowMetadata()||{name:"",description:"",url:"",icons:[""]}}function K$(t,e){var r;let n=Js(),i={protocol:t,version:e,env:n};return n==="browser"&&(i.host=((r=il.getLocation())==null?void 0:r.host)||"unknown"),i}function B3(){if(Js()===tr.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){let{OS:r,Version:n}=global.Platform;return[r,n].join("-")}let t=b$.detect();if(t===null)return"unknown";let e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function L3(){var t;let e=Js();return e===tr.browser?[e,((t=il.getLocation())==null?void 0:t.host)||"unknown"].join(":"):e}function F3(t,e,r){let n=B3(),i=L3();return[[t,e].join("-"),[P3,r].join("-"),n,i].join("/")}function Y$({protocol:t,version:e,relayUrl:r,sdkVersion:n,auth:i,projectId:s,useOnCloseEvent:o}){let a=r.split("?"),u=F3(t,e,n),l={auth:i,ua:u,projectId:s,useOnCloseEvent:o||void 0},f=R3(a[1]||"",l);return a[0]+"?"+f}function J$(t){let e=(t.match(/^[^:]+(?=:\/\/)/gi)||[])[0],r=typeof e<"u"?t.split("://")[1]:t;return e=e==="wss"?"https":"http",[e,r].join("://")}function X$(t,e,r){if(!t[e]||typeof t[e]!==r)throw new Error(`Missing or invalid "${e}" param`)}function M3(t,e=CA){return U3(t.split(D3),e)}function Z$(t){return M3(t).join(Rp)}function ki(t,e){return t.filter(r=>e.includes(r)).length===t.length}function U3(t,e=CA){return t.slice(Math.max(t.length-e,0))}function ez(t){return Object.fromEntries(t.entries())}function tz(t){return new Map(Object.entries(t))}function rz(t,e){let r={};return Object.keys(t).forEach(n=>{r[n]=e(t[n])}),r}var nz=t=>t;function q3(t){return t.trim().replace(/^\w/,e=>e.toUpperCase())}function iz(t){return t.split(Rp).map(e=>q3(e)).join(Rp)}function sz(t=Ga.FIVE_MINUTES,e){let r=Ga.toMiliseconds(t||Ga.FIVE_MINUTES),n,i,s;return{resolve:o=>{s&&n&&(clearTimeout(s),n(o))},reject:o=>{s&&i&&(clearTimeout(s),i(o))},done:()=>new Promise((o,a)=>{s=setTimeout(()=>{a(new Error(e))},r),n=o,i=a})}}function oz(t,e,r){return new Promise(async(n,i)=>{let s=setTimeout(()=>i(new Error(r)),e);try{let o=await t;n(o)}catch(o){i(o)}clearTimeout(s)})}function NA(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function az(t){return NA("topic",t)}function uz(t){return NA("id",t)}function cz(t){let[e,r]=t.split(":"),n={id:void 0,topic:void 0};if(e==="topic"&&typeof r=="string")n.topic=r;else if(e==="id"&&Number.isInteger(Number(r)))n.id=Number(r);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${r}`);return n}function lz(t,e){return Ga.fromMiliseconds((e||Date.now())+Ga.toMiliseconds(t))}function fz(t){return Date.now()>=Ga.toMiliseconds(t)}function hz(t,e){return`${t}${e?`:${e}`:""}`}function ji(t=[],e=[]){return[...new Set([...t,...e])]}async function dz({id:t,topic:e,wcDeepLink:r}){try{if(!r)return;let i=(typeof r=="string"?JSON.parse(r):r)?.href;if(typeof i!="string")return;i.endsWith("/")&&(i=i.slice(0,-1));let s=`${i}/wc?requestId=${t}&sessionTopic=${e}`,o=Js();o===tr.browser?s.startsWith("https://")?window.open(s,"_blank","noreferrer noopener"):window.open(s,"_self","noreferrer noopener"):o===tr.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(s)}catch(n){console.error(n)}}var V3="irn";function pz(t){return t?.relay||{protocol:V3}}function gz(t){let e=S$.RELAY_JSONRPC[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}var yz=Object.defineProperty,l3=Object.getOwnPropertySymbols,mz=Object.prototype.hasOwnProperty,wz=Object.prototype.propertyIsEnumerable,f3=(t,e,r)=>e in t?yz(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ez=(t,e)=>{for(var r in e||(e={}))mz.call(e,r)&&f3(t,r,e[r]);if(l3)for(var r of l3(e))wz.call(e,r)&&f3(t,r,e[r]);return t};function H3(t,e="-"){let r={},n="relay"+e;return Object.keys(t).forEach(i=>{if(i.startsWith(n)){let s=i.replace(n,""),o=t[i];r[s]=o}}),r}function vz(t){let e=t.indexOf(":"),r=t.indexOf("?")!==-1?t.indexOf("?"):void 0,n=t.substring(0,e),i=t.substring(e+1,r).split("@"),s=typeof r<"u"?t.substring(r):"",o=Dp.parse(s);return{protocol:n,topic:G3(i[0]),version:parseInt(i[1],10),symKey:o.symKey,relay:H3(o)}}function G3(t){return t.startsWith("//")?t.substring(2):t}function k3(t,e="-"){let r="relay",n={};return Object.keys(t).forEach(i=>{let s=r+e+i;t[i]&&(n[s]=t[i])}),n}function Az(t){return`${t.protocol}:${t.topic}@${t.version}?`+Dp.stringify(Ez({symKey:t.symKey},k3(t.relay)))}var bz=Object.defineProperty,_z=Object.defineProperties,Iz=Object.getOwnPropertyDescriptors,h3=Object.getOwnPropertySymbols,Sz=Object.prototype.hasOwnProperty,Tz=Object.prototype.propertyIsEnumerable,d3=(t,e,r)=>e in t?bz(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Cz=(t,e)=>{for(var r in e||(e={}))Sz.call(e,r)&&d3(t,r,e[r]);if(h3)for(var r of h3(e))Tz.call(e,r)&&d3(t,r,e[r]);return t},xz=(t,e)=>_z(t,Iz(e));function Xs(t){let e=[];return t.forEach(r=>{let[n,i]=r.split(":");e.push(`${n}:${i}`)}),e}function j3(t){let e=[];return Object.values(t).forEach(r=>{e.push(...Xs(r.accounts))}),e}function Q3(t,e){let r=[];return Object.values(t).forEach(n=>{Xs(n.accounts).includes(e)&&r.push(...n.methods)}),r}function W3(t,e){let r=[];return Object.values(t).forEach(n=>{Xs(n.accounts).includes(e)&&r.push(...n.events)}),r}function Nz(t,e){let r=eR(t,e);if(r)throw new Error(r.message);let n={};for(let[i,s]of Object.entries(t))n[i]={methods:s.methods,events:s.events,chains:s.accounts.map(o=>`${o.split(":")[0]}:${o.split(":")[1]}`)};return n}function Oz(t){let{proposal:{requiredNamespaces:e,optionalNamespaces:r={}},supportedNamespaces:n}=t,i=mA(e),s=mA(r),o={};Object.keys(n).forEach(l=>{let f=n[l].chains,d=n[l].methods,g=n[l].events,w=n[l].accounts;f.forEach(E=>{if(!w.some(T=>T.includes(E)))throw new Error(`No accounts provided for chain ${E} in namespace ${l}`)}),o[l]={chains:f,methods:d,events:g,accounts:w}});let a=rR(e,o,"approve()");if(a)throw new Error(a.message);let u={};return!Object.keys(e).length&&!Object.keys(r).length?o:(Object.keys(i).forEach(l=>{let f=n[l].chains.filter(E=>{var T,D;return(D=(T=i[l])==null?void 0:T.chains)==null?void 0:D.includes(E)}),d=n[l].methods.filter(E=>{var T,D;return(D=(T=i[l])==null?void 0:T.methods)==null?void 0:D.includes(E)}),g=n[l].events.filter(E=>{var T,D;return(D=(T=i[l])==null?void 0:T.events)==null?void 0:D.includes(E)}),w=f.map(E=>n[l].accounts.filter(T=>T.includes(`${E}:`))).flat();u[l]={chains:f,methods:d,events:g,accounts:w}}),Object.keys(s).forEach(l=>{var f,d,g,w,E,T;if(!n[l])return;let D=(d=(f=s[l])==null?void 0:f.chains)==null?void 0:d.filter(A=>n[l].chains.includes(A)),B=n[l].methods.filter(A=>{var I,N;return(N=(I=s[l])==null?void 0:I.methods)==null?void 0:N.includes(A)}),W=n[l].events.filter(A=>{var I,N;return(N=(I=s[l])==null?void 0:I.events)==null?void 0:N.includes(A)}),U=D?.map(A=>n[l].accounts.filter(I=>I.includes(`${A}:`))).flat();u[l]={chains:ji((g=u[l])==null?void 0:g.chains,D),methods:ji((w=u[l])==null?void 0:w.methods,B),events:ji((E=u[l])==null?void 0:E.events,W),accounts:ji((T=u[l])==null?void 0:T.accounts,U)}}),u)}function OA(t){return t.includes(":")}function $3(t){return OA(t)?t.split(":")[0]:t}function mA(t){var e,r,n;let i={};if(!qp(t))return i;for(let[s,o]of Object.entries(t)){let a=OA(s)?[s]:o.chains,u=o.methods||[],l=o.events||[],f=$3(s);i[f]=xz(Cz({},i[f]),{chains:ji(a,(e=i[f])==null?void 0:e.chains),methods:ji(u,(r=i[f])==null?void 0:r.methods),events:ji(l,(n=i[f])==null?void 0:n.events)})}return i}var Dz={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},Pz={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function ii(t,e){let{message:r,code:n}=Pz[t];return{message:e?`${r} ${e}`:r,code:n}}function Ys(t,e){let{message:r,code:n}=Dz[t];return{message:e?`${r} ${e}`:r,code:n}}function ul(t,e){return Array.isArray(t)?typeof e<"u"&&t.length?t.every(e):!0:!1}function qp(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function Qi(t){return typeof t>"u"}function br(t,e){return e&&Qi(t)?!0:typeof t=="string"&&!!t.trim().length}function Vp(t,e){return e&&Qi(t)?!0:typeof t=="number"&&!isNaN(t)}function Rz(t,e){let{requiredNamespaces:r}=e,n=Object.keys(t.namespaces),i=Object.keys(r),s=!0;return ki(i,n)?(n.forEach(o=>{let{accounts:a,methods:u,events:l}=t.namespaces[o],f=Xs(a),d=r[o];(!ki(Lp(o,d),f)||!ki(d.methods,u)||!ki(d.events,l))&&(s=!1)}),s):!1}function sl(t){return br(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function z3(t){if(br(t,!1)&&t.includes(":")){let e=t.split(":");if(e.length===3){let r=e[0]+":"+e[1];return!!e[2]&&sl(r)}}return!1}function Bz(t){if(br(t,!1))try{return typeof new URL(t)<"u"}catch{return!1}return!1}function Lz(t){var e;return(e=t?.proposer)==null?void 0:e.publicKey}function Fz(t){return t?.topic}function Mz(t,e){let r=null;return br(t?.publicKey,!1)||(r=ii("MISSING_OR_INVALID",`${e} controller public key should be a string`)),r}function wA(t){let e=!0;return ul(t)?t.length&&(e=t.every(r=>br(r,!1))):e=!1,e}function K3(t,e,r){let n=null;return ul(e)&&e.length?e.forEach(i=>{n||sl(i)||(n=Ys("UNSUPPORTED_CHAINS",`${r}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):sl(t)||(n=Ys("UNSUPPORTED_CHAINS",`${r}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),n}function Y3(t,e,r){let n=null;return Object.entries(t).forEach(([i,s])=>{if(n)return;let o=K3(i,Lp(i,s),`${e} ${r}`);o&&(n=o)}),n}function J3(t,e){let r=null;return ul(t)?t.forEach(n=>{r||z3(n)||(r=Ys("UNSUPPORTED_ACCOUNTS",`${e}, account ${n} should be a string and conform to "namespace:chainId:address" format`))}):r=Ys("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),r}function X3(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;let i=J3(n?.accounts,`${e} namespace`);i&&(r=i)}),r}function Z3(t,e){let r=null;return wA(t?.methods)?wA(t?.events)||(r=Ys("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):r=Ys("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),r}function DA(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;let i=Z3(n,`${e}, namespace`);i&&(r=i)}),r}function Uz(t,e,r){let n=null;if(t&&qp(t)){let i=DA(t,e);i&&(n=i);let s=Y3(t,e,r);s&&(n=s)}else n=ii("MISSING_OR_INVALID",`${e}, ${r} should be an object with data`);return n}function eR(t,e){let r=null;if(t&&qp(t)){let n=DA(t,e);n&&(r=n);let i=X3(t,e);i&&(r=i)}else r=ii("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return r}function tR(t){return br(t.protocol,!0)}function qz(t,e){let r=!1;return e&&!t?r=!0:t&&ul(t)&&t.length&&t.forEach(n=>{r=tR(n)}),r}function Vz(t){return typeof t=="number"}function Hz(t){return typeof t<"u"&&typeof t!==null}function Gz(t){return!(!t||typeof t!="object"||!t.code||!Vp(t.code,!1)||!t.message||!br(t.message,!1))}function kz(t){return!(Qi(t)||!br(t.method,!1))}function jz(t){return!(Qi(t)||Qi(t.result)&&Qi(t.error)||!Vp(t.id,!1)||!br(t.jsonrpc,!1))}function Qz(t){return!(Qi(t)||!br(t.name,!1))}function Wz(t,e){return!(!sl(e)||!j3(t).includes(e))}function $z(t,e,r){return br(r,!1)?Q3(t,e).includes(r):!1}function zz(t,e,r){return br(r,!1)?W3(t,e).includes(r):!1}function rR(t,e,r){let n=null,i=Kz(t),s=Yz(e),o=Object.keys(i),a=Object.keys(s),u=p3(Object.keys(t)),l=p3(Object.keys(e)),f=u.filter(d=>!l.includes(d));return f.length&&(n=ii("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.
      Required: ${f.toString()}
      Received: ${Object.keys(e).toString()}`)),ki(o,a)||(n=ii("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${a.toString()}`)),Object.keys(e).forEach(d=>{if(!d.includes(":")||n)return;let g=Xs(e[d].accounts);g.includes(d)||(n=ii("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${d}
        Required: ${d}
        Approved: ${g.toString()}`))}),o.forEach(d=>{n||(ki(i[d].methods,s[d].methods)?ki(i[d].events,s[d].events)||(n=ii("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${d}`)):n=ii("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${d}`))}),n}function Kz(t){let e={};return Object.keys(t).forEach(r=>{var n;r.includes(":")?e[r]=t[r]:(n=t[r].chains)==null||n.forEach(i=>{e[i]={methods:t[r].methods,events:t[r].events}})}),e}function p3(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function Yz(t){let e={};return Object.keys(t).forEach(r=>{r.includes(":")?e[r]=t[r]:Xs(t[r].accounts)?.forEach(i=>{e[i]={accounts:t[r].accounts.filter(s=>s.includes(`${i}:`)),methods:t[r].methods,events:t[r].events}})}),e}function Jz(t,e){return Vp(t,!1)&&t<=e.max&&t>=e.min}function Xz(){let t=Js();return new Promise(e=>{switch(t){case tr.browser:e(nR());break;case tr.reactNative:e(iR());break;case tr.node:e(sR());break;default:e(!0)}})}function nR(){return Up()&&navigator?.onLine}async function iR(){return al()&&typeof global<"u"&&global!=null&&global.NetInfo?(await(global==null?void 0:global.NetInfo.fetch()))?.isConnected:!0}function sR(){return!0}function Zz(t){switch(Js()){case tr.browser:oR(t);break;case tr.reactNative:aR(t);break;case tr.node:break}}function oR(t){!al()&&Up()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function aR(t){al()&&typeof global<"u"&&global!=null&&global.NetInfo&&global?.NetInfo.addEventListener(e=>t(e?.isConnected))}var gA={},EA=class{static get(e){return gA[e]}static set(e,r){gA[e]=r}static delete(e){delete gA[e]}};G.BASE10=_A,G.BASE16=rr,G.BASE64=Pp,G.COLON=W$,G.DEFAULT_DEPTH=CA,G.EMPTY_SPACE=Rp,G.ENV_MAP=tr,G.MemoryStore=EA,G.ONE_THOUSAND=$$,G.REACT_NATIVE_PRODUCT=O3,G.RELAYER_DEFAULT_PROTOCOL=V3,G.SDK_TYPE=P3,G.SLASH=D3,G.TYPE_0=IA,G.TYPE_1=ka,G.UTF8=Mp,G.appendToQueryString=R3,G.assertType=X$,G.buildApprovedNamespaces=Oz,G.calcExpiry=lz,G.capitalize=iz,G.capitalizeWord=q3,G.createDelayedPromise=sz,G.createExpiringPromise=oz,G.decodeTypeByte=ol,G.decrypt=V$,G.deriveSymKey=F$,G.deserialize=TA,G.encodeTypeByte=C3,G.encrypt=q$,G.engineEvent=hz,G.enumify=nz,G.formatAccountId=A3,G.formatAccountWithChain=T$,G.formatChainId=v3,G.formatExpirerTarget=NA,G.formatIdTarget=uz,G.formatMessage=P$,G.formatMessageContext=Z$,G.formatRelayParams=k3,G.formatRelayRpcUrl=Y$,G.formatTopicTarget=az,G.formatUA=F3,G.formatUri=Az,G.generateKeyPair=B$,G.generateRandomBytes32=L$,G.getAccountsChains=Xs,G.getAccountsFromNamespaces=x$,G.getAddressFromAccount=b3,G.getAddressesFromAccounts=C$,G.getAppMetadata=z$,G.getBrowserOnlineStatus=nR,G.getChainFromAccount=_3,G.getChainsFromAccounts=I3,G.getChainsFromNamespace=Lp,G.getChainsFromNamespaces=N$,G.getChainsFromRequiredNamespaces=O$,G.getDidAddress=T3,G.getDidAddressSegments=Fp,G.getDidChainId=S3,G.getEnvironment=Js,G.getHttpUrl=J$,G.getInternalError=ii,G.getJavascriptID=L3,G.getJavascriptOS=B3,G.getLastItems=U3,G.getNamespacedDidChainId=D$,G.getNamespacesChains=j3,G.getNamespacesEventsForChainId=W3,G.getNamespacesMethodsForChainId=Q3,G.getNodeOnlineStatus=sR,G.getReactNativeOnlineStatus=iR,G.getRelayClientMetadata=K$,G.getRelayProtocolApi=gz,G.getRelayProtocolName=pz,G.getRequiredNamespacesFromNamespaces=Nz,G.getSdkError=Ys,G.getUniqueValues=bA,G.handleDeeplinkRedirect=dz,G.hasOverlap=ki,G.hashKey=M$,G.hashMessage=U$,G.isBrowser=Up,G.isCaipNamespace=OA,G.isConformingNamespaces=rR,G.isExpired=fz,G.isNode=xA,G.isOnline=Xz,G.isProposalStruct=Lz,G.isReactNative=al,G.isSessionCompatible=Rz,G.isSessionStruct=Fz,G.isTypeOneEnvelope=G$,G.isUndefined=Qi,G.isValidAccountId=z3,G.isValidAccounts=J3,G.isValidActions=Z3,G.isValidArray=ul,G.isValidChainId=sl,G.isValidChains=K3,G.isValidController=Mz,G.isValidErrorReason=Gz,G.isValidEvent=Qz,G.isValidId=Vz,G.isValidNamespaceAccounts=X3,G.isValidNamespaceActions=DA,G.isValidNamespaceChains=Y3,G.isValidNamespaceMethodsOrEvents=wA,G.isValidNamespaces=eR,G.isValidNamespacesChainId=Wz,G.isValidNamespacesEvent=zz,G.isValidNamespacesRequest=$z,G.isValidNumber=Vp,G.isValidObject=qp,G.isValidParams=Hz,G.isValidRelay=tR,G.isValidRelays=qz,G.isValidRequest=kz,G.isValidRequestExpiry=Jz,G.isValidRequiredNamespaces=Uz,G.isValidResponse=jz,G.isValidString=br,G.isValidUrl=Bz,G.mapEntries=rz,G.mapToObj=ez,G.mergeArrays=ji,G.normalizeNamespaces=mA,G.objToMap=tz,G.parseAccountId=AA,G.parseChainId=E3,G.parseContextNames=M3,G.parseExpirerTarget=cz,G.parseNamespaceKey=$3,G.parseRelayParams=H3,G.parseTopic=G3,G.parseUri=vz,G.serialize=x3,G.subscribeToBrowserNetworkChange=oR,G.subscribeToNetworkChange=Zz,G.subscribeToReactNativeNetworkChange=aR,G.validateDecoding=H$,G.validateEncoding=N3});var uR,cR,lR,fR,Hp,ll,PA,Gp,Wi,fl,kp=ge(()=>{c();uR="PARSE_ERROR",cR="INVALID_REQUEST",lR="METHOD_NOT_FOUND",fR="INVALID_PARAMS",Hp="INTERNAL_ERROR",ll="SERVER_ERROR",PA=[-32700,-32600,-32601,-32602,-32603],Gp=[-32e3,-32099],Wi={[uR]:{code:-32700,message:"Parse error"},[cR]:{code:-32600,message:"Invalid Request"},[lR]:{code:-32601,message:"Method not found"},[fR]:{code:-32602,message:"Invalid params"},[Hp]:{code:-32603,message:"Internal error"},[ll]:{code:-32e3,message:"Server error"}},fl=ll});function eK(t){return t<=Gp[0]&&t>=Gp[1]}function jp(t){return PA.includes(t)}function hR(t){return typeof t=="number"}function Qp(t){return Object.keys(Wi).includes(t)?Wi[t]:Wi[fl]}function Wp(t){let e=Object.values(Wi).find(r=>r.code===t);return e||Wi[fl]}function tK(t){if(typeof t.error.code>"u")return{valid:!1,error:"Missing code for JSON-RPC error"};if(typeof t.error.message>"u")return{valid:!1,error:"Missing message for JSON-RPC error"};if(!hR(t.error.code))return{valid:!1,error:`Invalid error code type for JSON-RPC: ${t.error.code}`};if(jp(t.error.code)){let e=Wp(t.error.code);if(e.message!==Wi[fl].message&&t.error.message===e.message)return{valid:!1,error:`Invalid error code message for JSON-RPC: ${t.error.code}`}}return{valid:!0}}function RA(t,e,r){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${r} RPC url at ${e}`):t}var BA=ge(()=>{c();kp()});var pR=m($i=>{"use strict";c();Object.defineProperty($i,"__esModule",{value:!0});$i.isBrowserCryptoAvailable=$i.getSubtleCrypto=$i.getBrowerCrypto=void 0;function LA(){return(global===null||global===void 0?void 0:global.crypto)||(global===null||global===void 0?void 0:global.msCrypto)||{}}$i.getBrowerCrypto=LA;function dR(){let t=LA();return t.subtle||t.webkitSubtle}$i.getSubtleCrypto=dR;function rK(){return!!LA()&&!!dR()}$i.isBrowserCryptoAvailable=rK});var mR=m(zi=>{"use strict";c();Object.defineProperty(zi,"__esModule",{value:!0});zi.isBrowser=zi.isNode=zi.isReactNative=void 0;function gR(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}zi.isReactNative=gR;function yR(){return typeof p.default<"u"&&typeof p.default.versions<"u"&&typeof p.default.versions.node<"u"}zi.isNode=yR;function nK(){return!gR()&&!yR()}zi.isBrowser=nK});var FA=m($p=>{"use strict";c();Object.defineProperty($p,"__esModule",{value:!0});var wR=(vr(),ct(Er));wR.__exportStar(pR(),$p);wR.__exportStar(mR(),$p)});var Ft={};ft(Ft,{isNodeJs:()=>vR});var ER,vR,AR=ge(()=>{c();ER=_e(FA());Ht(Ft,_e(FA()));vR=ER.isNode});function MA(t=3){let e=Date.now()*Math.pow(10,t),r=Math.floor(Math.random()*Math.pow(10,t));return e+r}function UA(t=6){return BigInt(MA(t))}function qA(t,e,r){return{id:r||MA(),jsonrpc:"2.0",method:t,params:e}}function iK(t,e){return{id:t,jsonrpc:"2.0",result:e}}function VA(t,e,r){return{id:t,jsonrpc:"2.0",error:bR(e,r)}}function bR(t,e){return typeof t>"u"?Qp(Hp):(typeof t=="string"&&(t=Object.assign(Object.assign({},Qp(ll)),{message:t})),typeof e<"u"&&(t.data=e),jp(t.code)&&(t=Wp(t.code)),t)}var _R=ge(()=>{c();BA();kp()});function sK(t){return t.includes("*")?Kp(t):!/\W/g.test(t)}function zp(t){return t==="*"}function Kp(t){return zp(t)?!0:!(!t.includes("*")||t.split("*").length!==2||t.split("*").filter(e=>e.trim()==="").length!==1)}function oK(t){return!zp(t)&&Kp(t)&&!t.split("*")[0].trim()}function aK(t){return!zp(t)&&Kp(t)&&!t.split("*")[1].trim()}var IR=ge(()=>{c()});var SR=ge(()=>{c()});var ja,HA=ge(()=>{c();ja=class{}});var GA,Yp,hl,TR=ge(()=>{c();HA();GA=class extends ja{constructor(e){super()}},Yp=class extends ja{constructor(){super()}},hl=class extends Yp{constructor(e){super()}}});var CR=ge(()=>{c()});var xR=ge(()=>{c();SR();HA();TR();CR()});var NR=ge(()=>{c();xR()});function lK(t){let e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function OR(t,e){let r=lK(t);return typeof r>"u"?!1:new RegExp(e).test(r)}function fK(t){return OR(t,uK)}function Jp(t){return OR(t,cK)}function kA(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}var uK,cK,DR=ge(()=>{c();uK="^https?:",cK="^wss?:"});function jA(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function hK(t){return jA(t)&&"method"in t}function QA(t){return jA(t)&&(PR(t)||Xp(t))}function PR(t){return"result"in t}function Xp(t){return"error"in t}function dK(t){return"error"in t&&t.valid===!1}var RR=ge(()=>{c()});var Zt={};ft(Zt,{DEFAULT_ERROR:()=>fl,IBaseJsonRpcProvider:()=>Yp,IEvents:()=>ja,IJsonRpcConnection:()=>GA,IJsonRpcProvider:()=>hl,INTERNAL_ERROR:()=>Hp,INVALID_PARAMS:()=>fR,INVALID_REQUEST:()=>cR,METHOD_NOT_FOUND:()=>lR,PARSE_ERROR:()=>uR,RESERVED_ERROR_CODES:()=>PA,SERVER_ERROR:()=>ll,SERVER_ERROR_CODE_RANGE:()=>Gp,STANDARD_ERROR_MAP:()=>Wi,formatErrorMessage:()=>bR,formatJsonRpcError:()=>VA,formatJsonRpcRequest:()=>qA,formatJsonRpcResult:()=>iK,getBigIntRpcId:()=>UA,getError:()=>Qp,getErrorByCode:()=>Wp,isHttpUrl:()=>fK,isJsonRpcError:()=>Xp,isJsonRpcPayload:()=>jA,isJsonRpcRequest:()=>hK,isJsonRpcResponse:()=>QA,isJsonRpcResult:()=>PR,isJsonRpcValidationInvalid:()=>dK,isLocalhostUrl:()=>kA,isNodeJs:()=>vR,isReservedErrorCode:()=>jp,isServerErrorCode:()=>eK,isValidDefaultRoute:()=>zp,isValidErrorCode:()=>hR,isValidLeadingWildcardRoute:()=>oK,isValidRoute:()=>sK,isValidTrailingWildcardRoute:()=>aK,isValidWildcardRoute:()=>Kp,isWsUrl:()=>Jp,parseConnectionError:()=>RA,payloadId:()=>MA,validateJsonRpcError:()=>tK});var dl=ge(()=>{c();kp();BA();AR();Ht(Zt,Ft);_R();IR();NR();DR();RR()});var BR,Zp,LR,WA=ge(()=>{c();BR=_e(Kn());dl();Zp=class extends hl{constructor(e){super(e),this.events=new BR.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async request(e,r){return this.requestStrict(qA(e.method,e.params||[],e.id||UA().toString()),r)}async requestStrict(e,r){return new Promise(async(n,i)=>{if(!this.connection.connected)try{await this.open()}catch(s){i(s)}this.events.on(`${e.id}`,s=>{Xp(s)?i(s.error):n(s.result)});try{await this.connection.send(e,r)}catch(s){i(s)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),QA(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}},LR=Zp});var FR={};ft(FR,{JsonRpcProvider:()=>Zp,default:()=>pK});var pK,MR=ge(()=>{c();WA();WA();pK=LR});var qR=m((bge,UR)=>{"use strict";c();UR.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}});var VR,HR,$A,GR=ge(()=>{c();VR=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:qR(),HR=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",$A=t=>t.split("?")[0]});var jR,kR,gK,eg,QR,zA=ge(()=>{c();jR=_e(Kn());Qd();dl();GR();kR=10,gK=VR(),eg=class{constructor(e){if(this.url=e,this.events=new jR.EventEmitter,this.registering=!1,!Jp(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,r)=>{if(typeof this.socket>"u"){r(new Error("Connection already closed"));return}this.socket.onclose=n=>{this.onClose(n),e()},this.socket.close()})}async send(e,r){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(qc(e))}catch(n){this.onError(e.id,n)}}register(e=this.url){if(!Jp(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){let r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return i(new Error("WebSocket connection is missing or invalid"));n(this.socket)})})}return this.url=e,this.registering=!0,new Promise((r,n)=>{let i=(0,Zt.isReactNative)()?void 0:{rejectUnauthorized:!kA(e)},s=new gK(e,[],i);HR()?s.onerror=o=>{let a=o;n(this.emitError(a.error))}:s.on("error",o=>{n(this.emitError(o))}),s.onopen=()=>{this.onOpen(s),r(s)}})}onOpen(e){e.onmessage=r=>this.onPayload(r),e.onclose=r=>this.onClose(r),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;let r=typeof e.data=="string"?Uc(e.data):e.data;this.events.emit("payload",r)}onError(e,r){let n=this.parseError(r),i=n.message||n.toString(),s=VA(e,i);this.events.emit("payload",s)}parseError(e,r=this.url){return RA(e,$A(r),"WS")}resetMaxListeners(){this.events.getMaxListeners()>kR&&this.events.setMaxListeners(kR)}emitError(e){let r=this.parseError(new Error(e?.message||`WebSocket connection failed for host: ${$A(this.url)}`));return this.events.emit("register_error",r),r}},QR=eg});var WR={};ft(WR,{WsConnection:()=>eg,default:()=>yK});var yK,$R=ge(()=>{c();zA();zA();yK=QR});var x6=m((pl,Wa)=>{c();var mK=200,sb="__lodash_hash_undefined__",ug=1,s6=2,o6=9007199254740991,tg="[object Arguments]",XA="[object Array]",wK="[object AsyncFunction]",a6="[object Boolean]",u6="[object Date]",c6="[object Error]",l6="[object Function]",EK="[object GeneratorFunction]",rg="[object Map]",f6="[object Number]",vK="[object Null]",Qa="[object Object]",zR="[object Promise]",AK="[object Proxy]",h6="[object RegExp]",ng="[object Set]",d6="[object String]",bK="[object Symbol]",_K="[object Undefined]",ZA="[object WeakMap]",p6="[object ArrayBuffer]",ig="[object DataView]",IK="[object Float32Array]",SK="[object Float64Array]",TK="[object Int8Array]",CK="[object Int16Array]",xK="[object Int32Array]",NK="[object Uint8Array]",OK="[object Uint8ClampedArray]",DK="[object Uint16Array]",PK="[object Uint32Array]",RK=/[\\^$.*+?()[\]{}|]/g,BK=/^\[object .+?Constructor\]$/,LK=/^(?:0|[1-9]\d*)$/,rt={};rt[IK]=rt[SK]=rt[TK]=rt[CK]=rt[xK]=rt[NK]=rt[OK]=rt[DK]=rt[PK]=!0;rt[tg]=rt[XA]=rt[p6]=rt[a6]=rt[ig]=rt[u6]=rt[c6]=rt[l6]=rt[rg]=rt[f6]=rt[Qa]=rt[h6]=rt[ng]=rt[d6]=rt[ZA]=!1;var g6=typeof global=="object"&&global&&global.Object===Object&&global,FK=typeof self=="object"&&self&&self.Object===Object&&self,si=g6||FK||Function("return this")(),y6=typeof pl=="object"&&pl&&!pl.nodeType&&pl,KR=y6&&typeof Wa=="object"&&Wa&&!Wa.nodeType&&Wa,m6=KR&&KR.exports===y6,KA=m6&&g6.process,YR=function(){try{return KA&&KA.binding&&KA.binding("util")}catch{}}(),JR=YR&&YR.isTypedArray;function MK(t,e){for(var r=-1,n=t==null?0:t.length,i=0,s=[];++r<n;){var o=t[r];e(o,r,t)&&(s[i++]=o)}return s}function UK(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}function qK(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}function VK(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}function HK(t){return function(e){return t(e)}}function GK(t,e){return t.has(e)}function kK(t,e){return t?.[e]}function jK(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}function QK(t,e){return function(r){return t(e(r))}}function WK(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var $K=Array.prototype,zK=Function.prototype,cg=Object.prototype,YA=si["__core-js_shared__"],w6=zK.toString,xn=cg.hasOwnProperty,XR=function(){var t=/[^.]+$/.exec(YA&&YA.keys&&YA.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),E6=cg.toString,KK=RegExp("^"+w6.call(xn).replace(RK,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ZR=m6?si.Buffer:void 0,sg=si.Symbol,e6=si.Uint8Array,v6=cg.propertyIsEnumerable,YK=$K.splice,Zs=sg?sg.toStringTag:void 0,t6=Object.getOwnPropertySymbols,JK=ZR?ZR.isBuffer:void 0,XK=QK(Object.keys,Object),eb=$a(si,"DataView"),gl=$a(si,"Map"),tb=$a(si,"Promise"),rb=$a(si,"Set"),nb=$a(si,"WeakMap"),yl=$a(Object,"create"),ZK=ro(eb),eY=ro(gl),tY=ro(tb),rY=ro(rb),nY=ro(nb),r6=sg?sg.prototype:void 0,JA=r6?r6.valueOf:void 0;function eo(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function iY(){this.__data__=yl?yl(null):{},this.size=0}function sY(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function oY(t){var e=this.__data__;if(yl){var r=e[t];return r===sb?void 0:r}return xn.call(e,t)?e[t]:void 0}function aY(t){var e=this.__data__;return yl?e[t]!==void 0:xn.call(e,t)}function uY(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=yl&&e===void 0?sb:e,this}eo.prototype.clear=iY;eo.prototype.delete=sY;eo.prototype.get=oY;eo.prototype.has=aY;eo.prototype.set=uY;function oi(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function cY(){this.__data__=[],this.size=0}function lY(t){var e=this.__data__,r=lg(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():YK.call(e,r,1),--this.size,!0}function fY(t){var e=this.__data__,r=lg(e,t);return r<0?void 0:e[r][1]}function hY(t){return lg(this.__data__,t)>-1}function dY(t,e){var r=this.__data__,n=lg(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}oi.prototype.clear=cY;oi.prototype.delete=lY;oi.prototype.get=fY;oi.prototype.has=hY;oi.prototype.set=dY;function to(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function pY(){this.size=0,this.__data__={hash:new eo,map:new(gl||oi),string:new eo}}function gY(t){var e=fg(this,t).delete(t);return this.size-=e?1:0,e}function yY(t){return fg(this,t).get(t)}function mY(t){return fg(this,t).has(t)}function wY(t,e){var r=fg(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}to.prototype.clear=pY;to.prototype.delete=gY;to.prototype.get=yY;to.prototype.has=mY;to.prototype.set=wY;function og(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new to;++e<r;)this.add(t[e])}function EY(t){return this.__data__.set(t,sb),this}function vY(t){return this.__data__.has(t)}og.prototype.add=og.prototype.push=EY;og.prototype.has=vY;function Yi(t){var e=this.__data__=new oi(t);this.size=e.size}function AY(){this.__data__=new oi,this.size=0}function bY(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function _Y(t){return this.__data__.get(t)}function IY(t){return this.__data__.has(t)}function SY(t,e){var r=this.__data__;if(r instanceof oi){var n=r.__data__;if(!gl||n.length<mK-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new to(n)}return r.set(t,e),this.size=r.size,this}Yi.prototype.clear=AY;Yi.prototype.delete=bY;Yi.prototype.get=_Y;Yi.prototype.has=IY;Yi.prototype.set=SY;function TY(t,e){var r=ag(t),n=!r&&HY(t),i=!r&&!n&&ib(t),s=!r&&!n&&!i&&C6(t),o=r||n||i||s,a=o?VK(t.length,String):[],u=a.length;for(var l in t)(e||xn.call(t,l))&&!(o&&(l=="length"||i&&(l=="offset"||l=="parent")||s&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||FY(l,u)))&&a.push(l);return a}function lg(t,e){for(var r=t.length;r--;)if(_6(t[r][0],e))return r;return-1}function CY(t,e,r){var n=e(t);return ag(t)?n:UK(n,r(t))}function wl(t){return t==null?t===void 0?_K:vK:Zs&&Zs in Object(t)?BY(t):VY(t)}function n6(t){return ml(t)&&wl(t)==tg}function A6(t,e,r,n,i){return t===e?!0:t==null||e==null||!ml(t)&&!ml(e)?t!==t&&e!==e:xY(t,e,r,n,A6,i)}function xY(t,e,r,n,i,s){var o=ag(t),a=ag(e),u=o?XA:Ki(t),l=a?XA:Ki(e);u=u==tg?Qa:u,l=l==tg?Qa:l;var f=u==Qa,d=l==Qa,g=u==l;if(g&&ib(t)){if(!ib(e))return!1;o=!0,f=!1}if(g&&!f)return s||(s=new Yi),o||C6(t)?b6(t,e,r,n,i,s):PY(t,e,u,r,n,i,s);if(!(r&ug)){var w=f&&xn.call(t,"__wrapped__"),E=d&&xn.call(e,"__wrapped__");if(w||E){var T=w?t.value():t,D=E?e.value():e;return s||(s=new Yi),i(T,D,r,n,s)}}return g?(s||(s=new Yi),RY(t,e,r,n,i,s)):!1}function NY(t){if(!T6(t)||UY(t))return!1;var e=I6(t)?KK:BK;return e.test(ro(t))}function OY(t){return ml(t)&&S6(t.length)&&!!rt[wl(t)]}function DY(t){if(!qY(t))return XK(t);var e=[];for(var r in Object(t))xn.call(t,r)&&r!="constructor"&&e.push(r);return e}function b6(t,e,r,n,i,s){var o=r&ug,a=t.length,u=e.length;if(a!=u&&!(o&&u>a))return!1;var l=s.get(t);if(l&&s.get(e))return l==e;var f=-1,d=!0,g=r&s6?new og:void 0;for(s.set(t,e),s.set(e,t);++f<a;){var w=t[f],E=e[f];if(n)var T=o?n(E,w,f,e,t,s):n(w,E,f,t,e,s);if(T!==void 0){if(T)continue;d=!1;break}if(g){if(!qK(e,function(D,B){if(!GK(g,B)&&(w===D||i(w,D,r,n,s)))return g.push(B)})){d=!1;break}}else if(!(w===E||i(w,E,r,n,s))){d=!1;break}}return s.delete(t),s.delete(e),d}function PY(t,e,r,n,i,s,o){switch(r){case ig:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case p6:return!(t.byteLength!=e.byteLength||!s(new e6(t),new e6(e)));case a6:case u6:case f6:return _6(+t,+e);case c6:return t.name==e.name&&t.message==e.message;case h6:case d6:return t==e+"";case rg:var a=jK;case ng:var u=n&ug;if(a||(a=WK),t.size!=e.size&&!u)return!1;var l=o.get(t);if(l)return l==e;n|=s6,o.set(t,e);var f=b6(a(t),a(e),n,i,s,o);return o.delete(t),f;case bK:if(JA)return JA.call(t)==JA.call(e)}return!1}function RY(t,e,r,n,i,s){var o=r&ug,a=i6(t),u=a.length,l=i6(e),f=l.length;if(u!=f&&!o)return!1;for(var d=u;d--;){var g=a[d];if(!(o?g in e:xn.call(e,g)))return!1}var w=s.get(t);if(w&&s.get(e))return w==e;var E=!0;s.set(t,e),s.set(e,t);for(var T=o;++d<u;){g=a[d];var D=t[g],B=e[g];if(n)var W=o?n(B,D,g,e,t,s):n(D,B,g,t,e,s);if(!(W===void 0?D===B||i(D,B,r,n,s):W)){E=!1;break}T||(T=g=="constructor")}if(E&&!T){var U=t.constructor,A=e.constructor;U!=A&&"constructor"in t&&"constructor"in e&&!(typeof U=="function"&&U instanceof U&&typeof A=="function"&&A instanceof A)&&(E=!1)}return s.delete(t),s.delete(e),E}function i6(t){return CY(t,jY,LY)}function fg(t,e){var r=t.__data__;return MY(e)?r[typeof e=="string"?"string":"hash"]:r.map}function $a(t,e){var r=kK(t,e);return NY(r)?r:void 0}function BY(t){var e=xn.call(t,Zs),r=t[Zs];try{t[Zs]=void 0;var n=!0}catch{}var i=E6.call(t);return n&&(e?t[Zs]=r:delete t[Zs]),i}var LY=t6?function(t){return t==null?[]:(t=Object(t),MK(t6(t),function(e){return v6.call(t,e)}))}:QY,Ki=wl;(eb&&Ki(new eb(new ArrayBuffer(1)))!=ig||gl&&Ki(new gl)!=rg||tb&&Ki(tb.resolve())!=zR||rb&&Ki(new rb)!=ng||nb&&Ki(new nb)!=ZA)&&(Ki=function(t){var e=wl(t),r=e==Qa?t.constructor:void 0,n=r?ro(r):"";if(n)switch(n){case ZK:return ig;case eY:return rg;case tY:return zR;case rY:return ng;case nY:return ZA}return e});function FY(t,e){return e=e??o6,!!e&&(typeof t=="number"||LK.test(t))&&t>-1&&t%1==0&&t<e}function MY(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function UY(t){return!!XR&&XR in t}function qY(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||cg;return t===r}function VY(t){return E6.call(t)}function ro(t){if(t!=null){try{return w6.call(t)}catch{}try{return t+""}catch{}}return""}function _6(t,e){return t===e||t!==t&&e!==e}var HY=n6(function(){return arguments}())?n6:function(t){return ml(t)&&xn.call(t,"callee")&&!v6.call(t,"callee")},ag=Array.isArray;function GY(t){return t!=null&&S6(t.length)&&!I6(t)}var ib=JK||WY;function kY(t,e){return A6(t,e)}function I6(t){if(!T6(t))return!1;var e=wl(t);return e==l6||e==EK||e==wK||e==AK}function S6(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=o6}function T6(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function ml(t){return t!=null&&typeof t=="object"}var C6=JR?HK(JR):OY;function jY(t){return GY(t)?TY(t):DY(t)}function QY(){return[]}function WY(){return!1}Wa.exports=kY});var P8=m(me=>{"use strict";c();Object.defineProperty(me,"__esModule",{value:!0});var no=Kn(),$Y=KO(),Al=f2(),Qe=qv(),ui=n1(),N6=(Qd(),ct(S2)),zY=(KD(),ct(zD)),ee=cl(),KY=(uA(),ct(aA)),We=ks(),YY=(MR(),ct(FR)),_r=(dl(),ct(Zt)),JY=($R(),ct(WR)),XY=x6();function Tg(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}function ZY(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}),e.default=t,Object.freeze(e)}var eJ=Tg(no),tJ=Tg($Y),hg=ZY(zY),rJ=Tg(JY),nJ=Tg(XY);function iJ(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=t.length,u=t.charAt(0),l=Math.log(a)/Math.log(256),f=Math.log(256)/Math.log(a);function d(E){if(E instanceof Uint8Array||(ArrayBuffer.isView(E)?E=new Uint8Array(E.buffer,E.byteOffset,E.byteLength):Array.isArray(E)&&(E=Uint8Array.from(E))),!(E instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(E.length===0)return"";for(var T=0,D=0,B=0,W=E.length;B!==W&&E[B]===0;)B++,T++;for(var U=(W-B)*f+1>>>0,A=new Uint8Array(U);B!==W;){for(var I=E[B],N=0,_=U-1;(I!==0||N<D)&&_!==-1;_--,N++)I+=256*A[_]>>>0,A[_]=I%a>>>0,I=I/a>>>0;if(I!==0)throw new Error("Non-zero carry");D=N,B++}for(var S=U-D;S!==U&&A[S]===0;)S++;for(var R=u.repeat(T);S<U;++S)R+=t.charAt(A[S]);return R}function g(E){if(typeof E!="string")throw new TypeError("Expected String");if(E.length===0)return new Uint8Array;var T=0;if(E[T]!==" "){for(var D=0,B=0;E[T]===u;)D++,T++;for(var W=(E.length-T)*l+1>>>0,U=new Uint8Array(W);E[T];){var A=r[E.charCodeAt(T)];if(A===255)return;for(var I=0,N=W-1;(A!==0||I<B)&&N!==-1;N--,I++)A+=a*U[N]>>>0,U[N]=A%256>>>0,A=A/256>>>0;if(A!==0)throw new Error("Non-zero carry");B=I,T++}if(E[T]!==" "){for(var _=W-B;_!==W&&U[_]===0;)_++;for(var S=new Uint8Array(D+(W-_)),R=D;_!==W;)S[R++]=U[_++];return S}}}function w(E){var T=g(E);if(T)return T;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:g,decode:w}}var sJ=iJ,oJ=sJ,W6=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},aJ=t=>new TextEncoder().encode(t),uJ=t=>new TextDecoder().decode(t),ub=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},cb=class{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return $6(this,e)}},lb=class{constructor(e){this.decoders=e}or(e){return $6(this,e)}decode(e){let r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},$6=(t,e)=>new lb({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}}),fb=class{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new ub(e,r,n),this.decoder=new cb(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},Cg=({name:t,prefix:e,encode:r,decode:n})=>new fb(t,e,r,n),bl=({prefix:t,name:e,alphabet:r})=>{let{encode:n,decode:i}=oJ(r,e);return Cg({prefix:t,name:e,encode:n,decode:s=>W6(i(s))})},cJ=(t,e,r,n)=>{let i={};for(let f=0;f<e.length;++f)i[e[f]]=f;let s=t.length;for(;t[s-1]==="=";)--s;let o=new Uint8Array(s*r/8|0),a=0,u=0,l=0;for(let f=0;f<s;++f){let d=i[t[f]];if(d===void 0)throw new SyntaxError(`Non-${n} character`);u=u<<r|d,a+=r,a>=8&&(a-=8,o[l++]=255&u>>a)}if(a>=r||255&u<<8-a)throw new SyntaxError("Unexpected end of data");return o},lJ=(t,e,r)=>{let n=e[e.length-1]==="=",i=(1<<r)-1,s="",o=0,a=0;for(let u=0;u<t.length;++u)for(a=a<<8|t[u],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},kt=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>Cg({prefix:e,name:t,encode(i){return lJ(i,n,r)},decode(i){return cJ(i,n,r,t)}}),fJ=Cg({prefix:"\0",name:"identity",encode:t=>uJ(t),decode:t=>aJ(t)}),hJ=Object.freeze({__proto__:null,identity:fJ}),dJ=kt({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),pJ=Object.freeze({__proto__:null,base2:dJ}),gJ=kt({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),yJ=Object.freeze({__proto__:null,base8:gJ}),mJ=bl({prefix:"9",name:"base10",alphabet:"0123456789"}),wJ=Object.freeze({__proto__:null,base10:mJ}),EJ=kt({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),vJ=kt({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),AJ=Object.freeze({__proto__:null,base16:EJ,base16upper:vJ}),bJ=kt({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),_J=kt({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),IJ=kt({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),SJ=kt({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),TJ=kt({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),CJ=kt({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),xJ=kt({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),NJ=kt({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),OJ=kt({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),DJ=Object.freeze({__proto__:null,base32:bJ,base32upper:_J,base32pad:IJ,base32padupper:SJ,base32hex:TJ,base32hexupper:CJ,base32hexpad:xJ,base32hexpadupper:NJ,base32z:OJ}),PJ=bl({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),RJ=bl({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),BJ=Object.freeze({__proto__:null,base36:PJ,base36upper:RJ}),LJ=bl({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),FJ=bl({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),MJ=Object.freeze({__proto__:null,base58btc:LJ,base58flickr:FJ}),UJ=kt({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),qJ=kt({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),VJ=kt({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),HJ=kt({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),GJ=Object.freeze({__proto__:null,base64:UJ,base64pad:qJ,base64url:VJ,base64urlpad:HJ}),z6=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),kJ=z6.reduce((t,e,r)=>(t[r]=e,t),[]),jJ=z6.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function QJ(t){return t.reduce((e,r)=>(e+=kJ[r],e),"")}function WJ(t){let e=[];for(let r of t){let n=jJ[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}var $J=Cg({prefix:"\u{1F680}",name:"base256emoji",encode:QJ,decode:WJ}),zJ=Object.freeze({__proto__:null,base256emoji:$J}),KJ=K6,O6=128,YJ=127,JJ=~YJ,XJ=Math.pow(2,31);function K6(t,e,r){e=e||[],r=r||0;for(var n=r;t>=XJ;)e[r++]=t&255|O6,t/=128;for(;t&JJ;)e[r++]=t&255|O6,t>>>=7;return e[r]=t|0,K6.bytes=r-n+1,e}var ZJ=hb,eX=128,D6=127;function hb(t,n){var r=0,n=n||0,i=0,s=n,o,a=t.length;do{if(s>=a)throw hb.bytes=0,new RangeError("Could not decode varint");o=t[s++],r+=i<28?(o&D6)<<i:(o&D6)*Math.pow(2,i),i+=7}while(o>=eX);return hb.bytes=s-n,r}var tX=Math.pow(2,7),rX=Math.pow(2,14),nX=Math.pow(2,21),iX=Math.pow(2,28),sX=Math.pow(2,35),oX=Math.pow(2,42),aX=Math.pow(2,49),uX=Math.pow(2,56),cX=Math.pow(2,63),lX=function(t){return t<tX?1:t<rX?2:t<nX?3:t<iX?4:t<sX?5:t<oX?6:t<aX?7:t<uX?8:t<cX?9:10},fX={encode:KJ,decode:ZJ,encodingLength:lX},Y6=fX,P6=(t,e,r=0)=>(Y6.encode(t,e,r),e),R6=t=>Y6.encodingLength(t),db=(t,e)=>{let r=e.byteLength,n=R6(t),i=n+R6(r),s=new Uint8Array(i+r);return P6(t,s,0),P6(r,s,n),s.set(e,i),new pb(t,r,e,s)},pb=class{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}},J6=({name:t,code:e,encode:r})=>new gb(t,e,r),gb=class{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){let r=this.encode(e);return r instanceof Uint8Array?db(this.code,r):r.then(n=>db(this.code,n))}else throw Error("Unknown type, must be binary type")}},X6=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),hX=J6({name:"sha2-256",code:18,encode:X6("SHA-256")}),dX=J6({name:"sha2-512",code:19,encode:X6("SHA-512")}),pX=Object.freeze({__proto__:null,sha256:hX,sha512:dX}),Z6=0,gX="identity",e8=W6,yX=t=>db(Z6,e8(t)),mX={code:Z6,name:gX,encode:e8,digest:yX},wX=Object.freeze({__proto__:null,identity:mX});new TextEncoder,new TextDecoder;var B6={...hJ,...pJ,...yJ,...wJ,...AJ,...DJ,...BJ,...MJ,...GJ,...zJ};({...pX,...wX});function t8(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function EX(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?t8(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function r8(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}var L6=r8("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),ob=r8("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);let e=EX(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),vX={utf8:L6,"utf-8":L6,hex:B6.base16,latin1:ob,ascii:ob,binary:ob,...B6};function AX(t,e="utf8"){let r=vX[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?t8(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}var Ab="wc",n8=2,xg="core",ai=`${Ab}@2:${xg}:`,i8={name:xg,logger:"error"},s8={database:":memory:"},o8="crypto",yb="client_ed25519_seed",a8=We.ONE_DAY,u8="keychain",c8="0.3",l8="messages",f8="0.3",h8=We.SIX_HOURS,d8="publisher",p8="irn",g8="error",bb="wss://relay.walletconnect.com",mb="wss://relay.walletconnect.org",y8="relayer",nr={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},m8="_subscription",Nn={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},w8=We.ONE_SECOND,bX={database:":memory:"},E8="2.10.2",v8=1e4,A8="0.3",b8="WALLETCONNECT_CLIENT_ID",Hr={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},_X=We.THIRTY_DAYS,_8="subscription",I8="0.3",S8=We.FIVE_SECONDS*1e3,T8="pairing",C8="0.3",IX=We.THIRTY_DAYS,za={wc_pairingDelete:{req:{ttl:We.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:We.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:We.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:We.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:We.ONE_DAY,prompt:!1,tag:0},res:{ttl:We.ONE_DAY,prompt:!1,tag:0}}},vl={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},Yr={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},x8="history",N8="0.3",O8="expirer",Vr={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},D8="0.3",SX=We.ONE_DAY,dg="verify-api",pg="https://verify.walletconnect.com",wb="https://verify.walletconnect.org",gg=class{constructor(e,r){this.core=e,this.logger=r,this.keychain=new Map,this.name=u8,this.version=c8,this.initialized=!1,this.storagePrefix=ai,this.init=async()=>{if(!this.initialized){let n=await this.getKeyChain();typeof n<"u"&&(this.keychain=n),this.initialized=!0}},this.has=n=>(this.isInitialized(),this.keychain.has(n)),this.set=async(n,i)=>{this.isInitialized(),this.keychain.set(n,i),await this.persist()},this.get=n=>{this.isInitialized();let i=this.keychain.get(n);if(typeof i>"u"){let{message:s}=ee.getInternalError("NO_MATCHING_KEY",`${this.name}: ${n}`);throw new Error(s)}return i},this.del=async n=>{this.isInitialized(),this.keychain.delete(n),await this.persist()},this.core=e,this.logger=Qe.generateChildLogger(r,this.name)}get context(){return Qe.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,ee.mapToObj(e))}async getKeyChain(){let e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?ee.objToMap(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){let{message:e}=ee.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}},yg=class{constructor(e,r,n){this.core=e,this.logger=r,this.name=o8,this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=i=>(this.isInitialized(),this.keychain.has(i)),this.getClientId=async()=>{this.isInitialized();let i=await this.getClientSeed(),s=hg.generateKeyPair(i);return hg.encodeIss(s.publicKey)},this.generateKeyPair=()=>{this.isInitialized();let i=ee.generateKeyPair();return this.setPrivateKey(i.publicKey,i.privateKey)},this.signJWT=async i=>{this.isInitialized();let s=await this.getClientSeed(),o=hg.generateKeyPair(s),a=ee.generateRandomBytes32(),u=a8;return await hg.signJWT(a,i,u,o)},this.generateSharedKey=(i,s,o)=>{this.isInitialized();let a=this.getPrivateKey(i),u=ee.deriveSymKey(a,s);return this.setSymKey(u,o)},this.setSymKey=async(i,s)=>{this.isInitialized();let o=s||ee.hashKey(i);return await this.keychain.set(o,i),o},this.deleteKeyPair=async i=>{this.isInitialized(),await this.keychain.del(i)},this.deleteSymKey=async i=>{this.isInitialized(),await this.keychain.del(i)},this.encode=async(i,s,o)=>{this.isInitialized();let a=ee.validateEncoding(o),u=N6.safeJsonStringify(s);if(ee.isTypeOneEnvelope(a)){let g=a.senderPublicKey,w=a.receiverPublicKey;i=await this.generateSharedKey(g,w)}let l=this.getSymKey(i),{type:f,senderPublicKey:d}=a;return ee.encrypt({type:f,symKey:l,message:u,senderPublicKey:d})},this.decode=async(i,s,o)=>{this.isInitialized();let a=ee.validateDecoding(s,o);if(ee.isTypeOneEnvelope(a)){let u=a.receiverPublicKey,l=a.senderPublicKey;i=await this.generateSharedKey(u,l)}try{let u=this.getSymKey(i),l=ee.decrypt({symKey:u,encoded:s});return N6.safeJsonParse(l)}catch(u){this.logger.error(`Failed to decode message from topic: '${i}', clientId: '${await this.getClientId()}'`),this.logger.error(u)}},this.getPayloadType=i=>{let s=ee.deserialize(i);return ee.decodeTypeByte(s.type)},this.getPayloadSenderPublicKey=i=>{let s=ee.deserialize(i);return s.senderPublicKey?KY.toString(s.senderPublicKey,ee.BASE16):void 0},this.core=e,this.logger=Qe.generateChildLogger(r,this.name),this.keychain=n||new gg(this.core,this.logger)}get context(){return Qe.getLoggerContext(this.logger)}async setPrivateKey(e,r){return await this.keychain.set(e,r),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(yb)}catch{e=ee.generateRandomBytes32(),await this.keychain.set(yb,e)}return AX(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){let{message:e}=ee.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}},mg=class extends ui.IMessageTracker{constructor(e,r){super(e,r),this.logger=e,this.core=r,this.messages=new Map,this.name=l8,this.version=f8,this.initialized=!1,this.storagePrefix=ai,this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{let n=await this.getRelayerMessages();typeof n<"u"&&(this.messages=n),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(n){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(n)}finally{this.initialized=!0}}},this.set=async(n,i)=>{this.isInitialized();let s=ee.hashMessage(i),o=this.messages.get(n);return typeof o>"u"&&(o={}),typeof o[s]<"u"||(o[s]=i,this.messages.set(n,o),await this.persist()),s},this.get=n=>{this.isInitialized();let i=this.messages.get(n);return typeof i>"u"&&(i={}),i},this.has=(n,i)=>{this.isInitialized();let s=this.get(n),o=ee.hashMessage(i);return typeof s[o]<"u"},this.del=async n=>{this.isInitialized(),this.messages.delete(n),await this.persist()},this.logger=Qe.generateChildLogger(e,this.name),this.core=r}get context(){return Qe.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,ee.mapToObj(e))}async getRelayerMessages(){let e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?ee.objToMap(e):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){let{message:e}=ee.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}},Eb=class extends ui.IPublisher{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,this.events=new no.EventEmitter,this.name=d8,this.queue=new Map,this.publishTimeout=We.toMiliseconds(We.TEN_SECONDS),this.needsTransportRestart=!1,this.publish=async(n,i,s)=>{var o;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:n,message:i,opts:s}});try{let a=s?.ttl||h8,u=ee.getRelayProtocolName(s),l=s?.prompt||!1,f=s?.tag||0,d=s?.id||_r.getBigIntRpcId().toString(),g={topic:n,message:i,opts:{ttl:a,relay:u,prompt:l,tag:f,id:d}},w=setTimeout(()=>this.queue.set(d,g),this.publishTimeout);try{await await ee.createExpiringPromise(this.rpcPublish(n,i,a,u,l,f,d),this.publishTimeout,"Failed to publish payload, please try again."),this.removeRequestFromQueue(d),this.relayer.events.emit(nr.publish,g)}catch(E){if(this.logger.debug("Publishing Payload stalled"),this.needsTransportRestart=!0,(o=s?.internal)!=null&&o.throwOnFailedPublish)throw this.removeRequestFromQueue(d),E;return}finally{clearTimeout(w)}this.logger.debug("Successfully Published Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:n,message:i,opts:s}})}catch(a){throw this.logger.debug("Failed to Publish Payload"),this.logger.error(a),a}},this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.relayer=e,this.logger=Qe.generateChildLogger(r,this.name),this.registerEventListeners()}get context(){return Qe.getLoggerContext(this.logger)}rpcPublish(e,r,n,i,s,o,a){var u,l,f,d;let g={method:ee.getRelayProtocolApi(i.protocol).publish,params:{topic:e,message:r,ttl:n,prompt:s,tag:o},id:a};return ee.isUndefined((u=g.params)==null?void 0:u.prompt)&&((l=g.params)==null||delete l.prompt),ee.isUndefined((f=g.params)==null?void 0:f.tag)&&((d=g.params)==null||delete d.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:g}),this.relayer.request(g)}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async e=>{let{topic:r,message:n,opts:i}=e;await this.publish(r,n,i)})}registerEventListeners(){this.relayer.core.heartbeat.on(Al.HEARTBEAT_EVENTS.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(nr.connection_stalled);return}this.checkQueue()}),this.relayer.on(nr.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}},vb=class{constructor(){this.map=new Map,this.set=(e,r)=>{let n=this.get(e);this.exists(e,r)||this.map.set(e,[...n,r])},this.get=e=>this.map.get(e)||[],this.exists=(e,r)=>this.get(e).includes(r),this.delete=(e,r)=>{if(typeof r>"u"){this.map.delete(e);return}if(!this.map.has(e))return;let n=this.get(e);if(!this.exists(e,r))return;let i=n.filter(s=>s!==r);if(!i.length){this.map.delete(e);return}this.map.set(e,i)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}},TX=Object.defineProperty,CX=Object.defineProperties,xX=Object.getOwnPropertyDescriptors,F6=Object.getOwnPropertySymbols,NX=Object.prototype.hasOwnProperty,OX=Object.prototype.propertyIsEnumerable,M6=(t,e,r)=>e in t?TX(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,El=(t,e)=>{for(var r in e||(e={}))NX.call(e,r)&&M6(t,r,e[r]);if(F6)for(var r of F6(e))OX.call(e,r)&&M6(t,r,e[r]);return t},ab=(t,e)=>CX(t,xX(e)),wg=class extends ui.ISubscriber{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,this.subscriptions=new Map,this.topicMap=new vb,this.events=new no.EventEmitter,this.name=_8,this.version=I8,this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=ai,this.subscribeTimeout=1e4,this.restartInProgress=!1,this.batchSubscribeTopicsLimit=500,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),this.clientId=await this.relayer.core.crypto.getClientId())},this.subscribe=async(n,i)=>{await this.restartToComplete(),this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}});try{let s=ee.getRelayProtocolName(i),o={topic:n,relay:s};this.pending.set(n,o);let a=await this.rpcSubscribe(n,s);return this.onSubscribe(a,o),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}}),a}catch(s){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(s),s}},this.unsubscribe=async(n,i)=>{await this.restartToComplete(),this.isInitialized(),typeof i?.id<"u"?await this.unsubscribeById(n,i.id,i):await this.unsubscribeByTopic(n,i)},this.isSubscribed=async n=>this.topics.includes(n)?!0:await new Promise((i,s)=>{let o=new We.Watch;o.start(this.pendingSubscriptionWatchLabel);let a=setInterval(()=>{!this.pending.has(n)&&this.topics.includes(n)&&(clearInterval(a),o.stop(this.pendingSubscriptionWatchLabel),i(!0)),o.elapsed(this.pendingSubscriptionWatchLabel)>=S8&&(clearInterval(a),o.stop(this.pendingSubscriptionWatchLabel),s(new Error("Subscription resolution timeout")))},this.pollingInterval)}).catch(()=>!1),this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.restart=async()=>{this.restartInProgress=!0,await this.restore(),await this.reset(),this.restartInProgress=!1},this.relayer=e,this.logger=Qe.generateChildLogger(r,this.name),this.clientId=""}get context(){return Qe.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(e,r){let n=!1;try{n=this.getSubscription(e).topic===r}catch{}return n}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,r){let n=this.topicMap.get(e);await Promise.all(n.map(async i=>await this.unsubscribeById(e,i,r)))}async unsubscribeById(e,r,n){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}});try{let i=ee.getRelayProtocolName(n);await this.rpcUnsubscribe(e,r,i);let s=ee.getSdkError("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,r,s),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}})}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(e,r){let n={method:ee.getRelayProtocolApi(r.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{await await ee.createExpiringPromise(this.relayer.request(n),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(nr.connection_stalled)}return ee.hashMessage(e+this.clientId)}async rpcBatchSubscribe(e){if(!e.length)return;let r=e[0].relay,n={method:ee.getRelayProtocolApi(r.protocol).batchSubscribe,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{return await await ee.createExpiringPromise(this.relayer.request(n),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Payload stalled"),this.relayer.events.emit(nr.connection_stalled)}}rpcUnsubscribe(e,r,n){let i={method:ee.getRelayProtocolApi(n.protocol).unsubscribe,params:{topic:e,id:r}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(e,r){this.setSubscription(e,ab(El({},r),{id:e})),this.pending.delete(r.topic)}onBatchSubscribe(e){e.length&&e.forEach(r=>{this.setSubscription(r.id,El({},r)),this.pending.delete(r.topic)})}async onUnsubscribe(e,r,n){this.events.removeAllListeners(r),this.hasSubscription(r,e)&&this.deleteSubscription(r,n),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,r){this.subscriptions.has(e)||(this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:r}),this.addSubscription(e,r))}addSubscription(e,r){this.subscriptions.set(e,El({},r)),this.topicMap.set(r.topic,e),this.events.emit(Hr.created,r)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});let r=this.subscriptions.get(e);if(!r){let{message:n}=ee.getInternalError("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}deleteSubscription(e,r){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:r});let n=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(n.topic,e),this.events.emit(Hr.deleted,ab(El({},n),{reason:r}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(Hr.sync)}async reset(){if(this.cached.length){let e=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<e;r++){let n=this.cached.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(n)}}this.events.emit(Hr.resubscribed)}async restore(){try{let e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){let{message:r}=ee.getInternalError("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){if(!e.length)return;let r=await this.rpcBatchSubscribe(e);ee.isValidArray(r)&&this.onBatchSubscribe(r.map((n,i)=>ab(El({},e[i]),{id:n})))}async onConnect(){this.restartInProgress||(await this.restart(),this.onEnable())}onDisconnect(){this.onDisable()}async checkPending(){if(!this.initialized||this.relayer.transportExplicitlyClosed)return;let e=[];this.pending.forEach(r=>{e.push(r)}),await this.batchSubscribe(e)}registerEventListeners(){this.relayer.core.heartbeat.on(Al.HEARTBEAT_EVENTS.pulse,async()=>{await this.checkPending()}),this.relayer.on(nr.connect,async()=>{await this.onConnect()}),this.relayer.on(nr.disconnect,()=>{this.onDisconnect()}),this.events.on(Hr.created,async e=>{let r=Hr.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),await this.persist()}),this.events.on(Hr.deleted,async e=>{let r=Hr.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),await this.persist()})}isInitialized(){if(!this.initialized){let{message:e}=ee.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(){this.restartInProgress&&await new Promise(e=>{let r=setInterval(()=>{this.restartInProgress||(clearInterval(r),e())},this.pollingInterval)})}},DX=Object.defineProperty,U6=Object.getOwnPropertySymbols,PX=Object.prototype.hasOwnProperty,RX=Object.prototype.propertyIsEnumerable,q6=(t,e,r)=>e in t?DX(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,BX=(t,e)=>{for(var r in e||(e={}))PX.call(e,r)&&q6(t,r,e[r]);if(U6)for(var r of U6(e))RX.call(e,r)&&q6(t,r,e[r]);return t},Eg=class extends ui.IRelayer{constructor(e){super(e),this.protocol="wc",this.version=2,this.events=new no.EventEmitter,this.name=y8,this.transportExplicitlyClosed=!1,this.initialized=!1,this.connectionAttemptInProgress=!1,this.connectionStatusPollingInterval=20,this.staleConnectionErrors=["socket hang up","socket stalled"],this.hasExperiencedNetworkDisruption=!1,this.request=async r=>{this.logger.debug("Publishing Request Payload");try{return await this.toEstablishConnection(),await this.provider.request(r)}catch(n){throw this.logger.debug("Failed to Publish Request"),this.logger.error(n),n}},this.onPayloadHandler=r=>{this.onProviderPayload(r)},this.onConnectHandler=()=>{this.events.emit(nr.connect)},this.onDisconnectHandler=()=>{this.onProviderDisconnect()},this.onProviderErrorHandler=r=>{this.logger.error(r),this.events.emit(nr.error,r),this.logger.info("Fatal socket error received, closing transport"),this.transportClose()},this.registerProviderListeners=()=>{this.provider.on(Nn.payload,this.onPayloadHandler),this.provider.on(Nn.connect,this.onConnectHandler),this.provider.on(Nn.disconnect,this.onDisconnectHandler),this.provider.on(Nn.error,this.onProviderErrorHandler)},this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?Qe.generateChildLogger(e.logger,this.name):Qe.pino(Qe.getDefaultLoggerOptions({level:e.logger||g8})),this.messages=new mg(this.logger,e.core),this.subscriber=new wg(this,this.logger),this.publisher=new Eb(this,this.logger),this.relayUrl=e?.relayUrl||bb,this.projectId=e.projectId,this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await this.createProvider(),await Promise.all([this.messages.init(),this.subscriber.init()]);try{await this.transportOpen()}catch{this.logger.warn(`Connection via ${this.relayUrl} failed, attempting to connect via failover domain ${mb}...`),await this.restartTransport(mb)}this.initialized=!0,setTimeout(async()=>{this.subscriber.topics.length===0&&(this.logger.info("No topics subscribed to after init, closing transport"),await this.transportClose(),this.transportExplicitlyClosed=!1)},v8)}get context(){return Qe.getLoggerContext(this.logger)}get connected(){return this.provider.connection.connected}get connecting(){return this.provider.connection.connecting}async publish(e,r,n){this.isInitialized(),await this.publisher.publish(e,r,n),await this.recordMessageEvent({topic:e,message:r,publishedAt:Date.now()})}async subscribe(e,r){var n;this.isInitialized();let i=((n=this.subscriber.topicMap.get(e))==null?void 0:n[0])||"";if(i)return i;let s,o=a=>{a.topic===e&&(this.subscriber.off(Hr.created,o),s())};return await Promise.all([new Promise(a=>{s=a,this.subscriber.on(Hr.created,o)}),new Promise(async a=>{i=await this.subscriber.subscribe(e,r),a()})]),i}async unsubscribe(e,r){this.isInitialized(),await this.subscriber.unsubscribe(e,r)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async transportClose(){this.transportExplicitlyClosed=!0,this.hasExperiencedNetworkDisruption&&this.connected?await ee.createExpiringPromise(this.provider.disconnect(),1e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.connected&&await this.provider.disconnect()}async transportOpen(e){if(this.transportExplicitlyClosed=!1,await this.confirmOnlineStateOrThrow(),!this.connectionAttemptInProgress){e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportClose(),await this.createProvider()),this.connectionAttemptInProgress=!0;try{await Promise.all([new Promise(r=>{if(!this.initialized)return r();this.subscriber.once(Hr.resubscribed,()=>{r()})}),new Promise(async(r,n)=>{try{await ee.createExpiringPromise(this.provider.connect(),1e4,`Socket stalled when trying to connect to ${this.relayUrl}`)}catch(i){n(i);return}r()})])}catch(r){this.logger.error(r);let n=r;if(!this.isConnectionStalled(n.message))throw r;this.provider.events.emit(Nn.disconnect)}finally{this.connectionAttemptInProgress=!1,this.hasExperiencedNetworkDisruption=!1}}}async restartTransport(e){await this.confirmOnlineStateOrThrow(),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.transportClose(),await this.createProvider(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await ee.isOnline())throw new Error("No internet connection detected. Please restart your network and try again.")}isConnectionStalled(e){return this.staleConnectionErrors.some(r=>e.includes(r))}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();let e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new YY.JsonRpcProvider(new rJ.default(ee.formatRelayRpcUrl({sdkVersion:E8,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0}))),this.registerProviderListeners()}async recordMessageEvent(e){let{topic:r,message:n}=e;await this.messages.set(r,n)}async shouldIgnoreMessageEvent(e){let{topic:r,message:n}=e;if(!n||n.length===0)return this.logger.debug(`Ignoring invalid/empty message: ${n}`),!0;if(!await this.subscriber.isSubscribed(r))return this.logger.debug(`Ignoring message for non-subscribed topic ${r}`),!0;let i=this.messages.has(r,n);return i&&this.logger.debug(`Ignoring duplicate message: ${n}`),i}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),_r.isJsonRpcRequest(e)){if(!e.method.endsWith(m8))return;let r=e.params,{topic:n,message:i,publishedAt:s}=r.data,o={topic:n,message:i,publishedAt:s};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(BX({type:"event",event:r.id},o)),this.events.emit(r.id,o),await this.acknowledgePayload(e),await this.onMessageEvent(o)}else _r.isJsonRpcResponse(e)&&this.events.emit(nr.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(this.events.emit(nr.message,e),await this.recordMessageEvent(e))}async acknowledgePayload(e){let r=_r.formatJsonRpcResult(e.id,!0);await this.provider.connection.send(r)}unregisterProviderListeners(){this.provider.off(Nn.payload,this.onPayloadHandler),this.provider.off(Nn.connect,this.onConnectHandler),this.provider.off(Nn.disconnect,this.onDisconnectHandler),this.provider.off(Nn.error,this.onProviderErrorHandler)}async registerEventListeners(){this.events.on(nr.connection_stalled,()=>{this.restartTransport().catch(r=>this.logger.error(r))});let e=await ee.isOnline();ee.subscribeToNetworkChange(async r=>{this.initialized&&e!==r&&(e=r,r?await this.restartTransport().catch(n=>this.logger.error(n)):(this.hasExperiencedNetworkDisruption=!0,await this.transportClose().catch(n=>this.logger.error(n))))})}onProviderDisconnect(){this.events.emit(nr.disconnect),this.attemptToReconnect()}attemptToReconnect(){this.transportExplicitlyClosed||(this.logger.info("attemptToReconnect called. Connecting..."),setTimeout(async()=>{await this.restartTransport().catch(e=>this.logger.error(e))},We.toMiliseconds(w8)))}isInitialized(){if(!this.initialized){let{message:e}=ee.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectionAttemptInProgress)return await new Promise(e=>{let r=setInterval(()=>{this.connected&&(clearInterval(r),e())},this.connectionStatusPollingInterval)});await this.restartTransport()}}},LX=Object.defineProperty,V6=Object.getOwnPropertySymbols,FX=Object.prototype.hasOwnProperty,MX=Object.prototype.propertyIsEnumerable,H6=(t,e,r)=>e in t?LX(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,G6=(t,e)=>{for(var r in e||(e={}))FX.call(e,r)&&H6(t,r,e[r]);if(V6)for(var r of V6(e))MX.call(e,r)&&H6(t,r,e[r]);return t},vg=class extends ui.IStore{constructor(e,r,n,i=ai,s=void 0){super(e,r,n,i),this.core=e,this.logger=r,this.name=n,this.map=new Map,this.version=A8,this.cached=[],this.initialized=!1,this.storagePrefix=ai,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!ee.isUndefined(o)?this.map.set(this.getKey(o),o):ee.isProposalStruct(o)?this.map.set(o.id,o):ee.isSessionStruct(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)},this.set=async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())},this.get=o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o)),this.getAll=o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(u=>nJ.default(a[u],o[u]))):this.values),this.update=async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});let u=G6(G6({},this.getData(o)),a);this.map.set(o,u),await this.persist()},this.delete=async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),await this.persist())},this.logger=Qe.generateChildLogger(r,this.name),this.storagePrefix=i,this.getKey=s}get context(){return Qe.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){let r=this.map.get(e);if(!r){let{message:n}=ee.getInternalError("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(n),new Error(n)}return r}async persist(){await this.setDataStore(this.values)}async restore(){try{let e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){let{message:r}=ee.getInternalError("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){let{message:e}=ee.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}},Ag=class{constructor(e,r){this.core=e,this.logger=r,this.name=T8,this.version=C8,this.events=new eJ.default,this.initialized=!1,this.storagePrefix=ai,this.ignoredPayloadTypes=[ee.TYPE_1],this.registeredMethods=[],this.init=async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))},this.register=({methods:n})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...n])]},this.create=async()=>{this.isInitialized();let n=ee.generateRandomBytes32(),i=await this.core.crypto.setSymKey(n),s=ee.calcExpiry(We.FIVE_MINUTES),o={protocol:p8},a={topic:i,expiry:s,relay:o,active:!1},u=ee.formatUri({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:n,relay:o});return await this.pairings.set(i,a),await this.core.relayer.subscribe(i),this.core.expirer.set(i,s),{topic:i,uri:u}},this.pair=async n=>{this.isInitialized(),this.isValidPair(n);let{topic:i,symKey:s,relay:o}=ee.parseUri(n.uri),a;if(this.pairings.keys.includes(i)&&(a=this.pairings.get(i),a.active))throw new Error(`Pairing already exists: ${i}. Please try again with a new connection URI.`);this.core.crypto.keychain.has(i)||(await this.core.crypto.setSymKey(s,i),await this.core.relayer.subscribe(i,{relay:o}));let u=ee.calcExpiry(We.FIVE_MINUTES),l={topic:i,relay:o,expiry:u,active:!1};return await this.pairings.set(i,l),this.core.expirer.set(i,u),n.activatePairing&&await this.activate({topic:i}),this.events.emit(vl.create,l),l},this.activate=async({topic:n})=>{this.isInitialized();let i=ee.calcExpiry(We.THIRTY_DAYS);await this.pairings.update(n,{active:!0,expiry:i}),this.core.expirer.set(n,i)},this.ping=async n=>{this.isInitialized(),await this.isValidPing(n);let{topic:i}=n;if(this.pairings.keys.includes(i)){let s=await this.sendRequest(i,"wc_pairingPing",{}),{done:o,resolve:a,reject:u}=ee.createDelayedPromise();this.events.once(ee.engineEvent("pairing_ping",s),({error:l})=>{l?u(l):a()}),await o()}},this.updateExpiry=async({topic:n,expiry:i})=>{this.isInitialized(),await this.pairings.update(n,{expiry:i})},this.updateMetadata=async({topic:n,metadata:i})=>{this.isInitialized(),await this.pairings.update(n,{peerMetadata:i})},this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=async n=>{this.isInitialized(),await this.isValidDisconnect(n);let{topic:i}=n;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",ee.getSdkError("USER_DISCONNECTED")),await this.deletePairing(i))},this.sendRequest=async(n,i,s)=>{let o=_r.formatJsonRpcRequest(i,s),a=await this.core.crypto.encode(n,o),u=za[i].req;return this.core.history.set(n,o),this.core.relayer.publish(n,a,u),o.id},this.sendResult=async(n,i,s)=>{let o=_r.formatJsonRpcResult(n,s),a=await this.core.crypto.encode(i,o),u=await this.core.history.get(i,n),l=za[u.request.method].res;await this.core.relayer.publish(i,a,l),await this.core.history.resolve(o)},this.sendError=async(n,i,s)=>{let o=_r.formatJsonRpcError(n,s),a=await this.core.crypto.encode(i,o),u=await this.core.history.get(i,n),l=za[u.request.method]?za[u.request.method].res:za.unregistered_method.res;await this.core.relayer.publish(i,a,l),await this.core.history.resolve(o)},this.deletePairing=async(n,i)=>{await this.core.relayer.unsubscribe(n),await Promise.all([this.pairings.delete(n,ee.getSdkError("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(n),i?Promise.resolve():this.core.expirer.del(n)])},this.cleanup=async()=>{let n=this.pairings.getAll().filter(i=>ee.isExpired(i.expiry));await Promise.all(n.map(i=>this.deletePairing(i.topic)))},this.onRelayEventRequest=n=>{let{topic:i,payload:s}=n;switch(s.method){case"wc_pairingPing":return this.onPairingPingRequest(i,s);case"wc_pairingDelete":return this.onPairingDeleteRequest(i,s);default:return this.onUnknownRpcMethodRequest(i,s)}},this.onRelayEventResponse=async n=>{let{topic:i,payload:s}=n,o=(await this.core.history.get(i,s.id)).request.method;switch(o){case"wc_pairingPing":return this.onPairingPingResponse(i,s);default:return this.onUnknownRpcMethodResponse(o)}},this.onPairingPingRequest=async(n,i)=>{let{id:s}=i;try{this.isValidPing({topic:n}),await this.sendResult(s,n,!0),this.events.emit(vl.ping,{id:s,topic:n})}catch(o){await this.sendError(s,n,o),this.logger.error(o)}},this.onPairingPingResponse=(n,i)=>{let{id:s}=i;setTimeout(()=>{_r.isJsonRpcResult(i)?this.events.emit(ee.engineEvent("pairing_ping",s),{}):_r.isJsonRpcError(i)&&this.events.emit(ee.engineEvent("pairing_ping",s),{error:i.error})},500)},this.onPairingDeleteRequest=async(n,i)=>{let{id:s}=i;try{this.isValidDisconnect({topic:n}),await this.deletePairing(n),this.events.emit(vl.delete,{id:s,topic:n})}catch(o){await this.sendError(s,n,o),this.logger.error(o)}},this.onUnknownRpcMethodRequest=async(n,i)=>{let{id:s,method:o}=i;try{if(this.registeredMethods.includes(o))return;let a=ee.getSdkError("WC_METHOD_UNSUPPORTED",o);await this.sendError(s,n,a),this.logger.error(a)}catch(a){await this.sendError(s,n,a),this.logger.error(a)}},this.onUnknownRpcMethodResponse=n=>{this.registeredMethods.includes(n)||this.logger.error(ee.getSdkError("WC_METHOD_UNSUPPORTED",n))},this.isValidPair=n=>{if(!ee.isValidParams(n)){let{message:i}=ee.getInternalError("MISSING_OR_INVALID",`pair() params: ${n}`);throw new Error(i)}if(!ee.isValidUrl(n.uri)){let{message:i}=ee.getInternalError("MISSING_OR_INVALID",`pair() uri: ${n.uri}`);throw new Error(i)}},this.isValidPing=async n=>{if(!ee.isValidParams(n)){let{message:s}=ee.getInternalError("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(s)}let{topic:i}=n;await this.isValidPairingTopic(i)},this.isValidDisconnect=async n=>{if(!ee.isValidParams(n)){let{message:s}=ee.getInternalError("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(s)}let{topic:i}=n;await this.isValidPairingTopic(i)},this.isValidPairingTopic=async n=>{if(!ee.isValidString(n,!1)){let{message:i}=ee.getInternalError("MISSING_OR_INVALID",`pairing topic should be a string: ${n}`);throw new Error(i)}if(!this.pairings.keys.includes(n)){let{message:i}=ee.getInternalError("NO_MATCHING_KEY",`pairing topic doesn't exist: ${n}`);throw new Error(i)}if(ee.isExpired(this.pairings.get(n).expiry)){await this.deletePairing(n);let{message:i}=ee.getInternalError("EXPIRED",`pairing topic: ${n}`);throw new Error(i)}},this.core=e,this.logger=Qe.generateChildLogger(r,this.name),this.pairings=new vg(this.core,this.logger,this.name,this.storagePrefix)}get context(){return Qe.getLoggerContext(this.logger)}isInitialized(){if(!this.initialized){let{message:e}=ee.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(nr.message,async e=>{let{topic:r,message:n}=e;if(!this.pairings.keys.includes(r)||this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(n)))return;let i=await this.core.crypto.decode(r,n);try{_r.isJsonRpcRequest(i)?(this.core.history.set(r,i),this.onRelayEventRequest({topic:r,payload:i})):_r.isJsonRpcResponse(i)&&(await this.core.history.resolve(i),await this.onRelayEventResponse({topic:r,payload:i}),this.core.history.delete(r,i.id))}catch(s){this.logger.error(s)}})}registerExpirerEvents(){this.core.expirer.on(Vr.expired,async e=>{let{topic:r}=ee.parseExpirerTarget(e.target);r&&this.pairings.keys.includes(r)&&(await this.deletePairing(r,!0),this.events.emit(vl.expire,{topic:r}))})}},bg=class extends ui.IJsonRpcHistory{constructor(e,r){super(e,r),this.core=e,this.logger=r,this.records=new Map,this.events=new no.EventEmitter,this.name=x8,this.version=N8,this.cached=[],this.initialized=!1,this.storagePrefix=ai,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.records.set(n.id,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(n,i,s)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:n,request:i,chainId:s}),this.records.has(i.id))return;let o={id:i.id,topic:n,request:{method:i.method,params:i.params||null},chainId:s,expiry:ee.calcExpiry(We.THIRTY_DAYS)};this.records.set(o.id,o),this.events.emit(Yr.created,o)},this.resolve=async n=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:n}),!this.records.has(n.id))return;let i=await this.getRecord(n.id);typeof i.response>"u"&&(i.response=_r.isJsonRpcError(n)?{error:n.error}:{result:n.result},this.records.set(i.id,i),this.events.emit(Yr.updated,i))},this.get=async(n,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:n,id:i}),await this.getRecord(i)),this.delete=(n,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(s=>{if(s.topic===n){if(typeof i<"u"&&s.id!==i)return;this.records.delete(s.id),this.events.emit(Yr.deleted,s)}})},this.exists=async(n,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===n:!1),this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.logger=Qe.generateChildLogger(r,this.name)}get context(){return Qe.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){let e=[];return this.values.forEach(r=>{if(typeof r.response<"u")return;let n={topic:r.topic,request:_r.formatJsonRpcRequest(r.request.method,r.request.params,r.id),chainId:r.chainId};return e.push(n)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();let r=this.records.get(e);if(!r){let{message:n}=ee.getInternalError("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(Yr.sync)}async restore(){try{let e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){let{message:r}=ee.getInternalError("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(Yr.created,e=>{let r=Yr.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e}),this.persist()}),this.events.on(Yr.updated,e=>{let r=Yr.updated;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e}),this.persist()}),this.events.on(Yr.deleted,e=>{let r=Yr.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e}),this.persist()}),this.core.heartbeat.on(Al.HEARTBEAT_EVENTS.pulse,()=>{this.cleanup()})}cleanup(){try{this.records.forEach(e=>{We.toMiliseconds(e.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${e.id}`),this.delete(e.topic,e.id))})}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){let{message:e}=ee.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}},_g=class extends ui.IExpirer{constructor(e,r){super(e,r),this.core=e,this.logger=r,this.expirations=new Map,this.events=new no.EventEmitter,this.name=O8,this.version=D8,this.cached=[],this.initialized=!1,this.storagePrefix=ai,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.expirations.set(n.target,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=n=>{try{let i=this.formatTarget(n);return typeof this.getExpiration(i)<"u"}catch{return!1}},this.set=(n,i)=>{this.isInitialized();let s=this.formatTarget(n),o={target:s,expiry:i};this.expirations.set(s,o),this.checkExpiry(s,o),this.events.emit(Vr.created,{target:s,expiration:o})},this.get=n=>{this.isInitialized();let i=this.formatTarget(n);return this.getExpiration(i)},this.del=n=>{if(this.isInitialized(),this.has(n)){let i=this.formatTarget(n),s=this.getExpiration(i);this.expirations.delete(i),this.events.emit(Vr.deleted,{target:i,expiration:s})}},this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.logger=Qe.generateChildLogger(r,this.name)}get context(){return Qe.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return ee.formatTopicTarget(e);if(typeof e=="number")return ee.formatIdTarget(e);let{message:r}=ee.getInternalError("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(r)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Vr.sync)}async restore(){try{let e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){let{message:r}=ee.getInternalError("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){let r=this.expirations.get(e);if(!r){let{message:n}=ee.getInternalError("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(n),new Error(n)}return r}checkExpiry(e,r){let{expiry:n}=r;We.toMiliseconds(n)-Date.now()<=0&&this.expire(e,r)}expire(e,r){this.expirations.delete(e),this.events.emit(Vr.expired,{target:e,expiration:r})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,r)=>this.checkExpiry(r,e))}registerEventListeners(){this.core.heartbeat.on(Al.HEARTBEAT_EVENTS.pulse,()=>this.checkExpirations()),this.events.on(Vr.created,e=>{let r=Vr.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(Vr.expired,e=>{let r=Vr.expired;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(Vr.deleted,e=>{let r=Vr.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()})}isInitialized(){if(!this.initialized){let{message:e}=ee.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}},Ig=class extends ui.IVerify{constructor(e,r){super(e,r),this.projectId=e,this.logger=r,this.name=dg,this.initialized=!1,this.queue=[],this.verifyDisabled=!1,this.init=async()=>{if(this.verifyDisabled||ee.isReactNative()||!ee.isBrowser())return;let n=pg;this.verifyUrl!==n&&this.removeIframe(),this.verifyUrl=n;try{await this.createIframe()}catch(i){this.logger.info(`Verify iframe failed to load: ${this.verifyUrl}`),this.logger.info(i)}if(!this.initialized){this.removeIframe(),this.verifyUrl=wb;try{await this.createIframe()}catch(i){this.logger.info(`Verify iframe failed to load: ${this.verifyUrl}`),this.logger.info(i),this.verifyDisabled=!0}}},this.register=async n=>{this.initialized?this.sendPost(n.attestationId):(this.addToQueue(n.attestationId),await this.init())},this.resolve=async n=>{if(this.isDevEnv)return"";let i=n?.verifyUrl||pg,s;try{s=await this.fetchAttestation(n.attestationId,i)}catch(o){this.logger.info(`failed to resolve attestation: ${n.attestationId} from url: ${i}`),this.logger.info(o),s=await this.fetchAttestation(n.attestationId,wb)}return s},this.fetchAttestation=async(n,i)=>{this.logger.info(`resolving attestation: ${n} from url: ${i}`);let s=this.startAbortTimer(We.ONE_SECOND*2),o=await fetch(`${i}/attestation/${n}`,{signal:this.abortController.signal});return clearTimeout(s),o.status===200?await o.json():void 0},this.addToQueue=n=>{this.queue.push(n)},this.processQueue=()=>{this.queue.length!==0&&(this.queue.forEach(n=>this.sendPost(n)),this.queue=[])},this.sendPost=n=>{var i;try{if(!this.iframe)return;(i=this.iframe.contentWindow)==null||i.postMessage(n,"*"),this.logger.info(`postMessage sent: ${n} ${this.verifyUrl}`)}catch{}},this.createIframe=async()=>{let n,i=s=>{s.data==="verify_ready"&&(this.initialized=!0,this.processQueue(),window.removeEventListener("message",i),n())};await Promise.race([new Promise(s=>{if(document.getElementById(dg))return s();window.addEventListener("message",i);let o=document.createElement("iframe");o.id=dg,o.src=`${this.verifyUrl}/${this.projectId}`,o.style.display="none",document.body.append(o),this.iframe=o,n=s}),new Promise((s,o)=>setTimeout(()=>{window.removeEventListener("message",i),o("verify iframe load timeout")},We.toMiliseconds(We.FIVE_SECONDS)))])},this.removeIframe=()=>{this.iframe&&(this.iframe.remove(),this.iframe=void 0,this.initialized=!1)},this.logger=Qe.generateChildLogger(r,this.name),this.verifyUrl=pg,this.abortController=new AbortController,this.isDevEnv=ee.isNode()&&p.default.env.IS_VITEST}get context(){return Qe.getLoggerContext(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),We.toMiliseconds(e))}},UX=Object.defineProperty,k6=Object.getOwnPropertySymbols,qX=Object.prototype.hasOwnProperty,VX=Object.prototype.propertyIsEnumerable,j6=(t,e,r)=>e in t?UX(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Q6=(t,e)=>{for(var r in e||(e={}))qX.call(e,r)&&j6(t,r,e[r]);if(k6)for(var r of k6(e))VX.call(e,r)&&j6(t,r,e[r]);return t},Sg=class t extends ui.ICore{constructor(e){super(e),this.protocol=Ab,this.version=n8,this.name=xg,this.events=new no.EventEmitter,this.initialized=!1,this.on=(n,i)=>this.events.on(n,i),this.once=(n,i)=>this.events.once(n,i),this.off=(n,i)=>this.events.off(n,i),this.removeListener=(n,i)=>this.events.removeListener(n,i),this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||bb,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";let r=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:Qe.pino(Qe.getDefaultLoggerOptions({level:e?.logger||i8.logger}));this.logger=Qe.generateChildLogger(r,this.name),this.heartbeat=new Al.HeartBeat,this.crypto=new yg(this,this.logger,e?.keychain),this.history=new bg(this,this.logger),this.expirer=new _g(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new tJ.default(Q6(Q6({},s8),e?.storageOptions)),this.relayer=new Eg({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new Ag(this,this.logger),this.verify=new Ig(this.projectId||"",this.logger)}static async init(e){let r=new t(e);await r.initialize();let n=await r.crypto.getClientId();return await r.storage.setItem(b8,n),r}get context(){return Qe.getLoggerContext(this.logger)}async start(){this.initialized||await this.initialize()}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}},HX=Sg;me.CORE_CONTEXT=xg,me.CORE_DEFAULT=i8,me.CORE_PROTOCOL=Ab,me.CORE_STORAGE_OPTIONS=s8,me.CORE_STORAGE_PREFIX=ai,me.CORE_VERSION=n8,me.CRYPTO_CLIENT_SEED=yb,me.CRYPTO_CONTEXT=o8,me.CRYPTO_JWT_TTL=a8,me.Core=HX,me.Crypto=yg,me.EXPIRER_CONTEXT=O8,me.EXPIRER_DEFAULT_TTL=SX,me.EXPIRER_EVENTS=Vr,me.EXPIRER_STORAGE_VERSION=D8,me.Expirer=_g,me.HISTORY_CONTEXT=x8,me.HISTORY_EVENTS=Yr,me.HISTORY_STORAGE_VERSION=N8,me.JsonRpcHistory=bg,me.KEYCHAIN_CONTEXT=u8,me.KEYCHAIN_STORAGE_VERSION=c8,me.KeyChain=gg,me.MESSAGES_CONTEXT=l8,me.MESSAGES_STORAGE_VERSION=f8,me.MessageTracker=mg,me.PAIRING_CONTEXT=T8,me.PAIRING_DEFAULT_TTL=IX,me.PAIRING_EVENTS=vl,me.PAIRING_RPC_OPTS=za,me.PAIRING_STORAGE_VERSION=C8,me.PENDING_SUB_RESOLUTION_TIMEOUT=S8,me.PUBLISHER_CONTEXT=d8,me.PUBLISHER_DEFAULT_TTL=h8,me.Pairing=Ag,me.RELAYER_CONTEXT=y8,me.RELAYER_DEFAULT_LOGGER=g8,me.RELAYER_DEFAULT_PROTOCOL=p8,me.RELAYER_DEFAULT_RELAY_URL=bb,me.RELAYER_EVENTS=nr,me.RELAYER_FAILOVER_RELAY_URL=mb,me.RELAYER_PROVIDER_EVENTS=Nn,me.RELAYER_RECONNECT_TIMEOUT=w8,me.RELAYER_SDK_VERSION=E8,me.RELAYER_STORAGE_OPTIONS=bX,me.RELAYER_SUBSCRIBER_SUFFIX=m8,me.RELAYER_TRANSPORT_CUTOFF=v8,me.Relayer=Eg,me.STORE_STORAGE_VERSION=A8,me.SUBSCRIBER_CONTEXT=_8,me.SUBSCRIBER_DEFAULT_TTL=_X,me.SUBSCRIBER_EVENTS=Hr,me.SUBSCRIBER_STORAGE_VERSION=I8,me.Store=vg,me.Subscriber=wg,me.VERIFY_CONTEXT=dg,me.VERIFY_FALLBACK_SERVER=wb,me.VERIFY_SERVER=pg,me.Verify=Ig,me.WALLETCONNECT_CLIENT_ID=b8,me.default=Sg});var k8=m(Je=>{"use strict";c();Object.defineProperty(Je,"__esModule",{value:!0});var Dn=P8(),Ng=qv(),L8=n1(),j=cl(),F8=Kn(),Xe=ks(),yt=(dl(),ct(Zt));function GX(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}var kX=GX(F8),xb="wc",Nb=2,Ob="client",Rg=`${xb}@${Nb}:${Ob}:`,Og={name:Ob,logger:"error",controller:!1,relayUrl:"wss://relay.walletconnect.com"},jX={session_proposal:"session_proposal",session_update:"session_update",session_extend:"session_extend",session_ping:"session_ping",session_delete:"session_delete",session_expire:"session_expire",session_request:"session_request",session_request_sent:"session_request_sent",session_event:"session_event",proposal_expire:"proposal_expire"},QX={database:":memory:"},_b="WALLETCONNECT_DEEPLINK_CHOICE",WX={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},$X="history",zX="0.3",M8="proposal",KX=Xe.THIRTY_DAYS,U8="Proposal expired",q8="session",Il=Xe.SEVEN_DAYS,V8="engine",Ka={wc_sessionPropose:{req:{ttl:Xe.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:Xe.FIVE_MINUTES,prompt:!1,tag:1101}},wc_sessionSettle:{req:{ttl:Xe.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:Xe.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:Xe.ONE_DAY,prompt:!1,tag:1104},res:{ttl:Xe.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:Xe.ONE_DAY,prompt:!1,tag:1106},res:{ttl:Xe.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:Xe.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:Xe.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:Xe.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:Xe.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:Xe.ONE_DAY,prompt:!1,tag:1112},res:{ttl:Xe.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:Xe.THIRTY_SECONDS,prompt:!1,tag:1114},res:{ttl:Xe.THIRTY_SECONDS,prompt:!1,tag:1115}}},Dg={min:Xe.FIVE_MINUTES,max:Xe.SEVEN_DAYS},On={idle:"IDLE",active:"ACTIVE"},H8="request",G8=["wc_sessionPropose","wc_sessionRequest","wc_authRequest"],YX=Object.defineProperty,JX=Object.defineProperties,XX=Object.getOwnPropertyDescriptors,R8=Object.getOwnPropertySymbols,ZX=Object.prototype.hasOwnProperty,eZ=Object.prototype.propertyIsEnumerable,B8=(t,e,r)=>e in t?YX(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,gr=(t,e)=>{for(var r in e||(e={}))ZX.call(e,r)&&B8(t,r,e[r]);if(R8)for(var r of R8(e))eZ.call(e,r)&&B8(t,r,e[r]);return t},_l=(t,e)=>JX(t,XX(e)),Ib=class extends L8.IEngine{constructor(e){super(e),this.name=V8,this.events=new kX.default,this.initialized=!1,this.ignoredPayloadTypes=[j.TYPE_1],this.requestQueue={state:On.idle,queue:[]},this.sessionRequestQueue={state:On.idle,queue:[]},this.requestQueueDelay=Xe.ONE_SECOND,this.init=async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),this.client.core.pairing.register({methods:Object.keys(Ka)}),this.initialized=!0,setTimeout(()=>{this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},Xe.toMiliseconds(this.requestQueueDelay)))},this.connect=async r=>{await this.isInitialized();let n=_l(gr({},r),{requiredNamespaces:r.requiredNamespaces||{},optionalNamespaces:r.optionalNamespaces||{}});await this.isValidConnect(n);let{pairingTopic:i,requiredNamespaces:s,optionalNamespaces:o,sessionProperties:a,relays:u}=n,l=i,f,d=!1;if(l&&(d=this.client.core.pairing.pairings.get(l).active),!l||!d){let{topic:U,uri:A}=await this.client.core.pairing.create();l=U,f=A}let g=await this.client.core.crypto.generateKeyPair(),w=gr({requiredNamespaces:s,optionalNamespaces:o,relays:u??[{protocol:Dn.RELAYER_DEFAULT_PROTOCOL}],proposer:{publicKey:g,metadata:this.client.metadata}},a&&{sessionProperties:a}),{reject:E,resolve:T,done:D}=j.createDelayedPromise(Xe.FIVE_MINUTES,U8);if(this.events.once(j.engineEvent("session_connect"),async({error:U,session:A})=>{if(U)E(U);else if(A){A.self.publicKey=g;let I=_l(gr({},A),{requiredNamespaces:A.requiredNamespaces,optionalNamespaces:A.optionalNamespaces});await this.client.session.set(A.topic,I),await this.setExpiry(A.topic,A.expiry),l&&await this.client.core.pairing.updateMetadata({topic:l,metadata:A.peer.metadata}),T(I)}}),!l){let{message:U}=j.getInternalError("NO_MATCHING_KEY",`connect() pairing topic: ${l}`);throw new Error(U)}let B=await this.sendRequest({topic:l,method:"wc_sessionPropose",params:w}),W=j.calcExpiry(Xe.FIVE_MINUTES);return await this.setProposal(B,gr({id:B,expiry:W},w)),{uri:f,approval:D}},this.pair=async r=>(await this.isInitialized(),await this.client.core.pairing.pair(r)),this.approve=async r=>{await this.isInitialized(),await this.isValidApprove(r);let{id:n,relayProtocol:i,namespaces:s,sessionProperties:o}=r,a=this.client.proposal.get(n),{pairingTopic:u,proposer:l,requiredNamespaces:f,optionalNamespaces:d}=a;u=u||"",j.isValidObject(f)||(f=j.getRequiredNamespacesFromNamespaces(s,"approve()"));let g=await this.client.core.crypto.generateKeyPair(),w=l.publicKey,E=await this.client.core.crypto.generateSharedKey(g,w);u&&n&&(await this.client.core.pairing.updateMetadata({topic:u,metadata:l.metadata}),await this.sendResult({id:n,topic:u,result:{relay:{protocol:i??"irn"},responderPublicKey:g}}),await this.client.proposal.delete(n,j.getSdkError("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:u}));let T=gr({relay:{protocol:i??"irn"},namespaces:s,requiredNamespaces:f,optionalNamespaces:d,pairingTopic:u,controller:{publicKey:g,metadata:this.client.metadata},expiry:j.calcExpiry(Il)},o&&{sessionProperties:o});await this.client.core.relayer.subscribe(E),await this.sendRequest({topic:E,method:"wc_sessionSettle",params:T,throwOnFailedPublish:!0});let D=_l(gr({},T),{topic:E,pairingTopic:u,acknowledged:!1,self:T.controller,peer:{publicKey:l.publicKey,metadata:l.metadata},controller:g});return await this.client.session.set(E,D),await this.setExpiry(E,j.calcExpiry(Il)),{topic:E,acknowledged:()=>new Promise(B=>setTimeout(()=>B(this.client.session.get(E)),500))}},this.reject=async r=>{await this.isInitialized(),await this.isValidReject(r);let{id:n,reason:i}=r,{pairingTopic:s}=this.client.proposal.get(n);s&&(await this.sendError(n,s,i),await this.client.proposal.delete(n,j.getSdkError("USER_DISCONNECTED")))},this.update=async r=>{await this.isInitialized(),await this.isValidUpdate(r);let{topic:n,namespaces:i}=r,s=await this.sendRequest({topic:n,method:"wc_sessionUpdate",params:{namespaces:i}}),{done:o,resolve:a,reject:u}=j.createDelayedPromise();return this.events.once(j.engineEvent("session_update",s),({error:l})=>{l?u(l):a()}),await this.client.session.update(n,{namespaces:i}),{acknowledged:o}},this.extend=async r=>{await this.isInitialized(),await this.isValidExtend(r);let{topic:n}=r,i=await this.sendRequest({topic:n,method:"wc_sessionExtend",params:{}}),{done:s,resolve:o,reject:a}=j.createDelayedPromise();return this.events.once(j.engineEvent("session_extend",i),({error:u})=>{u?a(u):o()}),await this.setExpiry(n,j.calcExpiry(Il)),{acknowledged:s}},this.request=async r=>{await this.isInitialized(),await this.isValidRequest(r);let{chainId:n,request:i,topic:s,expiry:o}=r,a=yt.payloadId(),{done:u,resolve:l,reject:f}=j.createDelayedPromise(o,"Request expired. Please try again.");return this.events.once(j.engineEvent("session_request",a),({error:d,result:g})=>{d?f(d):l(g)}),await Promise.all([new Promise(async d=>{await this.sendRequest({clientRpcId:a,topic:s,method:"wc_sessionRequest",params:{request:i,chainId:n},expiry:o,throwOnFailedPublish:!0}).catch(g=>f(g)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:n,id:a}),d()}),new Promise(async d=>{let g=await this.client.core.storage.getItem(_b);j.handleDeeplinkRedirect({id:a,topic:s,wcDeepLink:g}),d()}),u()]).then(d=>d[2])},this.respond=async r=>{await this.isInitialized(),await this.isValidRespond(r);let{topic:n,response:i}=r,{id:s}=i;yt.isJsonRpcResult(i)?await this.sendResult({id:s,topic:n,result:i.result,throwOnFailedPublish:!0}):yt.isJsonRpcError(i)&&await this.sendError(s,n,i.error),this.cleanupAfterResponse(r)},this.ping=async r=>{await this.isInitialized(),await this.isValidPing(r);let{topic:n}=r;if(this.client.session.keys.includes(n)){let i=await this.sendRequest({topic:n,method:"wc_sessionPing",params:{}}),{done:s,resolve:o,reject:a}=j.createDelayedPromise();this.events.once(j.engineEvent("session_ping",i),({error:u})=>{u?a(u):o()}),await s()}else this.client.core.pairing.pairings.keys.includes(n)&&await this.client.core.pairing.ping({topic:n})},this.emit=async r=>{await this.isInitialized(),await this.isValidEmit(r);let{topic:n,event:i,chainId:s}=r;await this.sendRequest({topic:n,method:"wc_sessionEvent",params:{event:i,chainId:s}})},this.disconnect=async r=>{await this.isInitialized(),await this.isValidDisconnect(r);let{topic:n}=r;this.client.session.keys.includes(n)?(await this.sendRequest({topic:n,method:"wc_sessionDelete",params:j.getSdkError("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession(n)):await this.client.core.pairing.disconnect({topic:n})},this.find=r=>(this.isInitialized(),this.client.session.getAll().filter(n=>j.isSessionCompatible(n,r))),this.getPendingSessionRequests=()=>(this.isInitialized(),this.client.pendingRequest.getAll()),this.cleanupDuplicatePairings=async r=>{if(r.pairingTopic)try{let n=this.client.core.pairing.pairings.get(r.pairingTopic),i=this.client.core.pairing.pairings.getAll().filter(s=>{var o,a;return((o=s.peerMetadata)==null?void 0:o.url)&&((a=s.peerMetadata)==null?void 0:a.url)===r.peer.metadata.url&&s.topic&&s.topic!==n.topic});if(i.length===0)return;this.client.logger.info(`Cleaning up ${i.length} duplicate pairing(s)`),await Promise.all(i.map(s=>this.client.core.pairing.disconnect({topic:s.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(n){this.client.logger.error(n)}},this.deleteSession=async(r,n)=>{let{self:i}=this.client.session.get(r);await this.client.core.relayer.unsubscribe(r),this.client.session.delete(r,j.getSdkError("USER_DISCONNECTED")),this.client.core.crypto.keychain.has(i.publicKey)&&await this.client.core.crypto.deleteKeyPair(i.publicKey),this.client.core.crypto.keychain.has(r)&&await this.client.core.crypto.deleteSymKey(r),n||this.client.core.expirer.del(r),this.client.core.storage.removeItem(_b).catch(s=>this.client.logger.warn(s))},this.deleteProposal=async(r,n)=>{await Promise.all([this.client.proposal.delete(r,j.getSdkError("USER_DISCONNECTED")),n?Promise.resolve():this.client.core.expirer.del(r)])},this.deletePendingSessionRequest=async(r,n,i=!1)=>{await Promise.all([this.client.pendingRequest.delete(r,n),i?Promise.resolve():this.client.core.expirer.del(r)]),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(s=>s.id!==r),i&&(this.sessionRequestQueue.state=On.idle)},this.setExpiry=async(r,n)=>{this.client.session.keys.includes(r)&&await this.client.session.update(r,{expiry:n}),this.client.core.expirer.set(r,n)},this.setProposal=async(r,n)=>{await this.client.proposal.set(r,n),this.client.core.expirer.set(r,n.expiry)},this.setPendingSessionRequest=async r=>{let n=Ka.wc_sessionRequest.req.ttl,{id:i,topic:s,params:o,verifyContext:a}=r;await this.client.pendingRequest.set(i,{id:i,topic:s,params:o,verifyContext:a}),n&&this.client.core.expirer.set(i,j.calcExpiry(n))},this.sendRequest=async r=>{let{topic:n,method:i,params:s,expiry:o,relayRpcId:a,clientRpcId:u,throwOnFailedPublish:l}=r,f=yt.formatJsonRpcRequest(i,s,u);if(j.isBrowser()&&G8.includes(i)){let w=j.hashMessage(JSON.stringify(f));this.client.core.verify.register({attestationId:w})}let d=await this.client.core.crypto.encode(n,f),g=Ka[i].req;return o&&(g.ttl=o),a&&(g.id=a),this.client.core.history.set(n,f),l?(g.internal=_l(gr({},g.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(n,d,g)):this.client.core.relayer.publish(n,d,g).catch(w=>this.client.logger.error(w)),f.id},this.sendResult=async r=>{let{id:n,topic:i,result:s,throwOnFailedPublish:o}=r,a=yt.formatJsonRpcResult(n,s),u=await this.client.core.crypto.encode(i,a),l=await this.client.core.history.get(i,n),f=Ka[l.request.method].res;o?(f.internal=_l(gr({},f.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,u,f)):this.client.core.relayer.publish(i,u,f).catch(d=>this.client.logger.error(d)),await this.client.core.history.resolve(a)},this.sendError=async(r,n,i)=>{let s=yt.formatJsonRpcError(r,i),o=await this.client.core.crypto.encode(n,s),a=await this.client.core.history.get(n,r),u=Ka[a.request.method].res;this.client.core.relayer.publish(n,o,u),await this.client.core.history.resolve(s)},this.cleanup=async()=>{let r=[],n=[];this.client.session.getAll().forEach(i=>{j.isExpired(i.expiry)&&r.push(i.topic)}),this.client.proposal.getAll().forEach(i=>{j.isExpired(i.expiry)&&n.push(i.id)}),await Promise.all([...r.map(i=>this.deleteSession(i)),...n.map(i=>this.deleteProposal(i))])},this.onRelayEventRequest=async r=>{this.requestQueue.queue.push(r),await this.processRequestsQueue()},this.processRequestsQueue=async()=>{if(this.requestQueue.state===On.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=On.active;let r=this.requestQueue.queue.shift();if(r)try{this.processRequest(r),await new Promise(n=>setTimeout(n,300))}catch(n){this.client.logger.warn(n)}}this.requestQueue.state=On.idle},this.processRequest=r=>{let{topic:n,payload:i}=r,s=i.method;switch(s){case"wc_sessionPropose":return this.onSessionProposeRequest(n,i);case"wc_sessionSettle":return this.onSessionSettleRequest(n,i);case"wc_sessionUpdate":return this.onSessionUpdateRequest(n,i);case"wc_sessionExtend":return this.onSessionExtendRequest(n,i);case"wc_sessionPing":return this.onSessionPingRequest(n,i);case"wc_sessionDelete":return this.onSessionDeleteRequest(n,i);case"wc_sessionRequest":return this.onSessionRequest(n,i);case"wc_sessionEvent":return this.onSessionEventRequest(n,i);default:return this.client.logger.info(`Unsupported request method ${s}`)}},this.onRelayEventResponse=async r=>{let{topic:n,payload:i}=r,s=(await this.client.core.history.get(n,i.id)).request.method;switch(s){case"wc_sessionPropose":return this.onSessionProposeResponse(n,i);case"wc_sessionSettle":return this.onSessionSettleResponse(n,i);case"wc_sessionUpdate":return this.onSessionUpdateResponse(n,i);case"wc_sessionExtend":return this.onSessionExtendResponse(n,i);case"wc_sessionPing":return this.onSessionPingResponse(n,i);case"wc_sessionRequest":return this.onSessionRequestResponse(n,i);default:return this.client.logger.info(`Unsupported response method ${s}`)}},this.onRelayEventUnknownPayload=r=>{let{topic:n}=r,{message:i}=j.getInternalError("MISSING_OR_INVALID",`Decoded payload on topic ${n} is not identifiable as a JSON-RPC request or a response.`);throw new Error(i)},this.onSessionProposeRequest=async(r,n)=>{let{params:i,id:s}=n;try{this.isValidConnect(gr({},n.params));let o=j.calcExpiry(Xe.FIVE_MINUTES),a=gr({id:s,pairingTopic:r,expiry:o},i);await this.setProposal(s,a);let u=j.hashMessage(JSON.stringify(n)),l=await this.getVerifyContext(u,a.proposer.metadata);this.client.events.emit("session_proposal",{id:s,params:a,verifyContext:l})}catch(o){await this.sendError(s,r,o),this.client.logger.error(o)}},this.onSessionProposeResponse=async(r,n)=>{let{id:i}=n;if(yt.isJsonRpcResult(n)){let{result:s}=n;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:s});let o=this.client.proposal.get(i);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:o});let a=o.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:a});let u=s.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:u});let l=await this.client.core.crypto.generateSharedKey(a,u);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:l});let f=await this.client.core.relayer.subscribe(l);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:f}),await this.client.core.pairing.activate({topic:r})}else yt.isJsonRpcError(n)&&(await this.client.proposal.delete(i,j.getSdkError("USER_DISCONNECTED")),this.events.emit(j.engineEvent("session_connect"),{error:n.error}))},this.onSessionSettleRequest=async(r,n)=>{let{id:i,params:s}=n;try{this.isValidSessionSettleRequest(s);let{relay:o,controller:a,expiry:u,namespaces:l,requiredNamespaces:f,optionalNamespaces:d,sessionProperties:g,pairingTopic:w}=n.params,E=gr({topic:r,relay:o,expiry:u,namespaces:l,acknowledged:!0,pairingTopic:w,requiredNamespaces:f,optionalNamespaces:d,controller:a.publicKey,self:{publicKey:"",metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},g&&{sessionProperties:g});await this.sendResult({id:n.id,topic:r,result:!0}),this.events.emit(j.engineEvent("session_connect"),{session:E}),this.cleanupDuplicatePairings(E)}catch(o){await this.sendError(i,r,o),this.client.logger.error(o)}},this.onSessionSettleResponse=async(r,n)=>{let{id:i}=n;yt.isJsonRpcResult(n)?(await this.client.session.update(r,{acknowledged:!0}),this.events.emit(j.engineEvent("session_approve",i),{})):yt.isJsonRpcError(n)&&(await this.client.session.delete(r,j.getSdkError("USER_DISCONNECTED")),this.events.emit(j.engineEvent("session_approve",i),{error:n.error}))},this.onSessionUpdateRequest=async(r,n)=>{let{params:i,id:s}=n;try{let o=`${r}_session_update`,a=j.MemoryStore.get(o);if(a&&this.isRequestOutOfSync(a,s)){this.client.logger.info(`Discarding out of sync request - ${s}`);return}this.isValidUpdate(gr({topic:r},i)),await this.client.session.update(r,{namespaces:i.namespaces}),await this.sendResult({id:s,topic:r,result:!0}),this.client.events.emit("session_update",{id:s,topic:r,params:i}),j.MemoryStore.set(o,s)}catch(o){await this.sendError(s,r,o),this.client.logger.error(o)}},this.isRequestOutOfSync=(r,n)=>parseInt(n.toString().slice(0,-3))<=parseInt(r.toString().slice(0,-3)),this.onSessionUpdateResponse=(r,n)=>{let{id:i}=n;yt.isJsonRpcResult(n)?this.events.emit(j.engineEvent("session_update",i),{}):yt.isJsonRpcError(n)&&this.events.emit(j.engineEvent("session_update",i),{error:n.error})},this.onSessionExtendRequest=async(r,n)=>{let{id:i}=n;try{this.isValidExtend({topic:r}),await this.setExpiry(r,j.calcExpiry(Il)),await this.sendResult({id:i,topic:r,result:!0}),this.client.events.emit("session_extend",{id:i,topic:r})}catch(s){await this.sendError(i,r,s),this.client.logger.error(s)}},this.onSessionExtendResponse=(r,n)=>{let{id:i}=n;yt.isJsonRpcResult(n)?this.events.emit(j.engineEvent("session_extend",i),{}):yt.isJsonRpcError(n)&&this.events.emit(j.engineEvent("session_extend",i),{error:n.error})},this.onSessionPingRequest=async(r,n)=>{let{id:i}=n;try{this.isValidPing({topic:r}),await this.sendResult({id:i,topic:r,result:!0}),this.client.events.emit("session_ping",{id:i,topic:r})}catch(s){await this.sendError(i,r,s),this.client.logger.error(s)}},this.onSessionPingResponse=(r,n)=>{let{id:i}=n;setTimeout(()=>{yt.isJsonRpcResult(n)?this.events.emit(j.engineEvent("session_ping",i),{}):yt.isJsonRpcError(n)&&this.events.emit(j.engineEvent("session_ping",i),{error:n.error})},500)},this.onSessionDeleteRequest=async(r,n)=>{let{id:i}=n;try{this.isValidDisconnect({topic:r,reason:n.params}),await Promise.all([new Promise(s=>{this.client.core.relayer.once(Dn.RELAYER_EVENTS.publish,async()=>{s(await this.deleteSession(r))})}),this.sendResult({id:i,topic:r,result:!0})]),this.client.events.emit("session_delete",{id:i,topic:r})}catch(s){this.client.logger.error(s)}},this.onSessionRequest=async(r,n)=>{let{id:i,params:s}=n;try{this.isValidRequest(gr({topic:r},s));let o=j.hashMessage(JSON.stringify(yt.formatJsonRpcRequest("wc_sessionRequest",s,i))),a=this.client.session.get(r),u=await this.getVerifyContext(o,a.peer.metadata),l={id:i,topic:r,params:s,verifyContext:u};await this.setPendingSessionRequest(l),this.addSessionRequestToSessionRequestQueue(l),this.processSessionRequestQueue()}catch(o){await this.sendError(i,r,o),this.client.logger.error(o)}},this.onSessionRequestResponse=(r,n)=>{let{id:i}=n;yt.isJsonRpcResult(n)?this.events.emit(j.engineEvent("session_request",i),{result:n.result}):yt.isJsonRpcError(n)&&this.events.emit(j.engineEvent("session_request",i),{error:n.error})},this.onSessionEventRequest=async(r,n)=>{let{id:i,params:s}=n;try{let o=`${r}_session_event_${s.event.name}`,a=j.MemoryStore.get(o);if(a&&this.isRequestOutOfSync(a,i)){this.client.logger.info(`Discarding out of sync request - ${i}`);return}this.isValidEmit(gr({topic:r},s)),this.client.events.emit("session_event",{id:i,topic:r,params:s}),j.MemoryStore.set(o,i)}catch(o){await this.sendError(i,r,o),this.client.logger.error(o)}},this.addSessionRequestToSessionRequestQueue=r=>{this.sessionRequestQueue.queue.push(r)},this.cleanupAfterResponse=r=>{this.deletePendingSessionRequest(r.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=On.idle,this.processSessionRequestQueue()},Xe.toMiliseconds(this.requestQueueDelay))},this.processSessionRequestQueue=()=>{if(this.sessionRequestQueue.state===On.active){this.client.logger.info("session request queue is already active.");return}let r=this.sessionRequestQueue.queue[0];if(!r){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=On.active,this.client.events.emit("session_request",r)}catch(n){this.client.logger.error(n)}},this.onPairingCreated=r=>{if(r.active)return;let n=this.client.proposal.getAll().find(i=>i.pairingTopic===r.topic);n&&this.onSessionProposeRequest(r.topic,yt.formatJsonRpcRequest("wc_sessionPropose",{requiredNamespaces:n.requiredNamespaces,optionalNamespaces:n.optionalNamespaces,relays:n.relays,proposer:n.proposer},n.id))},this.isValidConnect=async r=>{if(!j.isValidParams(r)){let{message:u}=j.getInternalError("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(r)}`);throw new Error(u)}let{pairingTopic:n,requiredNamespaces:i,optionalNamespaces:s,sessionProperties:o,relays:a}=r;if(j.isUndefined(n)||await this.isValidPairingTopic(n),!j.isValidRelays(a,!0)){let{message:u}=j.getInternalError("MISSING_OR_INVALID",`connect() relays: ${a}`);throw new Error(u)}!j.isUndefined(i)&&j.isValidObject(i)!==0&&this.validateNamespaces(i,"requiredNamespaces"),!j.isUndefined(s)&&j.isValidObject(s)!==0&&this.validateNamespaces(s,"optionalNamespaces"),j.isUndefined(o)||this.validateSessionProps(o,"sessionProperties")},this.validateNamespaces=(r,n)=>{let i=j.isValidRequiredNamespaces(r,"connect()",n);if(i)throw new Error(i.message)},this.isValidApprove=async r=>{if(!j.isValidParams(r))throw new Error(j.getInternalError("MISSING_OR_INVALID",`approve() params: ${r}`).message);let{id:n,namespaces:i,relayProtocol:s,sessionProperties:o}=r;await this.isValidProposalId(n);let a=this.client.proposal.get(n),u=j.isValidNamespaces(i,"approve()");if(u)throw new Error(u.message);let l=j.isConformingNamespaces(a.requiredNamespaces,i,"approve()");if(l)throw new Error(l.message);if(!j.isValidString(s,!0)){let{message:f}=j.getInternalError("MISSING_OR_INVALID",`approve() relayProtocol: ${s}`);throw new Error(f)}j.isUndefined(o)||this.validateSessionProps(o,"sessionProperties")},this.isValidReject=async r=>{if(!j.isValidParams(r)){let{message:s}=j.getInternalError("MISSING_OR_INVALID",`reject() params: ${r}`);throw new Error(s)}let{id:n,reason:i}=r;if(await this.isValidProposalId(n),!j.isValidErrorReason(i)){let{message:s}=j.getInternalError("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(i)}`);throw new Error(s)}},this.isValidSessionSettleRequest=r=>{if(!j.isValidParams(r)){let{message:l}=j.getInternalError("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${r}`);throw new Error(l)}let{relay:n,controller:i,namespaces:s,expiry:o}=r;if(!j.isValidRelay(n)){let{message:l}=j.getInternalError("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(l)}let a=j.isValidController(i,"onSessionSettleRequest()");if(a)throw new Error(a.message);let u=j.isValidNamespaces(s,"onSessionSettleRequest()");if(u)throw new Error(u.message);if(j.isExpired(o)){let{message:l}=j.getInternalError("EXPIRED","onSessionSettleRequest()");throw new Error(l)}},this.isValidUpdate=async r=>{if(!j.isValidParams(r)){let{message:u}=j.getInternalError("MISSING_OR_INVALID",`update() params: ${r}`);throw new Error(u)}let{topic:n,namespaces:i}=r;await this.isValidSessionTopic(n);let s=this.client.session.get(n),o=j.isValidNamespaces(i,"update()");if(o)throw new Error(o.message);let a=j.isConformingNamespaces(s.requiredNamespaces,i,"update()");if(a)throw new Error(a.message)},this.isValidExtend=async r=>{if(!j.isValidParams(r)){let{message:i}=j.getInternalError("MISSING_OR_INVALID",`extend() params: ${r}`);throw new Error(i)}let{topic:n}=r;await this.isValidSessionTopic(n)},this.isValidRequest=async r=>{if(!j.isValidParams(r)){let{message:u}=j.getInternalError("MISSING_OR_INVALID",`request() params: ${r}`);throw new Error(u)}let{topic:n,request:i,chainId:s,expiry:o}=r;await this.isValidSessionTopic(n);let{namespaces:a}=this.client.session.get(n);if(!j.isValidNamespacesChainId(a,s)){let{message:u}=j.getInternalError("MISSING_OR_INVALID",`request() chainId: ${s}`);throw new Error(u)}if(!j.isValidRequest(i)){let{message:u}=j.getInternalError("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw new Error(u)}if(!j.isValidNamespacesRequest(a,s,i.method)){let{message:u}=j.getInternalError("MISSING_OR_INVALID",`request() method: ${i.method}`);throw new Error(u)}if(o&&!j.isValidRequestExpiry(o,Dg)){let{message:u}=j.getInternalError("MISSING_OR_INVALID",`request() expiry: ${o}. Expiry must be a number (in seconds) between ${Dg.min} and ${Dg.max}`);throw new Error(u)}},this.isValidRespond=async r=>{if(!j.isValidParams(r)){let{message:s}=j.getInternalError("MISSING_OR_INVALID",`respond() params: ${r}`);throw new Error(s)}let{topic:n,response:i}=r;if(await this.isValidSessionTopic(n),!j.isValidResponse(i)){let{message:s}=j.getInternalError("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(i)}`);throw new Error(s)}},this.isValidPing=async r=>{if(!j.isValidParams(r)){let{message:i}=j.getInternalError("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(i)}let{topic:n}=r;await this.isValidSessionOrPairingTopic(n)},this.isValidEmit=async r=>{if(!j.isValidParams(r)){let{message:a}=j.getInternalError("MISSING_OR_INVALID",`emit() params: ${r}`);throw new Error(a)}let{topic:n,event:i,chainId:s}=r;await this.isValidSessionTopic(n);let{namespaces:o}=this.client.session.get(n);if(!j.isValidNamespacesChainId(o,s)){let{message:a}=j.getInternalError("MISSING_OR_INVALID",`emit() chainId: ${s}`);throw new Error(a)}if(!j.isValidEvent(i)){let{message:a}=j.getInternalError("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}if(!j.isValidNamespacesEvent(o,s,i.name)){let{message:a}=j.getInternalError("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}},this.isValidDisconnect=async r=>{if(!j.isValidParams(r)){let{message:i}=j.getInternalError("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(i)}let{topic:n}=r;await this.isValidSessionOrPairingTopic(n)},this.getVerifyContext=async(r,n)=>{let i={verified:{verifyUrl:n.verifyUrl||Dn.VERIFY_SERVER,validation:"UNKNOWN",origin:n.url||""}};try{let s=await this.client.core.verify.resolve({attestationId:r,verifyUrl:n.verifyUrl});s&&(i.verified.origin=s.origin,i.verified.isScam=s.isScam,i.verified.validation=s.origin===new URL(n.url).origin?"VALID":"INVALID")}catch(s){this.client.logger.info(s)}return this.client.logger.info(`Verify context: ${JSON.stringify(i)}`),i},this.validateSessionProps=(r,n)=>{Object.values(r).forEach(i=>{if(!j.isValidString(i,!1)){let{message:s}=j.getInternalError("MISSING_OR_INVALID",`${n} must be in Record<string, string> format. Received: ${JSON.stringify(i)}`);throw new Error(s)}})}}async isInitialized(){if(!this.initialized){let{message:e}=j.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(Dn.RELAYER_EVENTS.message,async e=>{let{topic:r,message:n}=e;if(this.ignoredPayloadTypes.includes(this.client.core.crypto.getPayloadType(n)))return;let i=await this.client.core.crypto.decode(r,n);try{yt.isJsonRpcRequest(i)?(this.client.core.history.set(r,i),this.onRelayEventRequest({topic:r,payload:i})):yt.isJsonRpcResponse(i)?(await this.client.core.history.resolve(i),await this.onRelayEventResponse({topic:r,payload:i}),this.client.core.history.delete(r,i.id)):this.onRelayEventUnknownPayload({topic:r,payload:i})}catch(s){this.client.logger.error(s)}})}registerExpirerEvents(){this.client.core.expirer.on(Dn.EXPIRER_EVENTS.expired,async e=>{let{topic:r,id:n}=j.parseExpirerTarget(e.target);if(n&&this.client.pendingRequest.keys.includes(n))return await this.deletePendingSessionRequest(n,j.getInternalError("EXPIRED"),!0);r?this.client.session.keys.includes(r)&&(await this.deleteSession(r,!0),this.client.events.emit("session_expire",{topic:r})):n&&(await this.deleteProposal(n,!0),this.client.events.emit("proposal_expire",{id:n}))})}registerPairingEvents(){this.client.core.pairing.events.on(Dn.PAIRING_EVENTS.create,e=>this.onPairingCreated(e))}isValidPairingTopic(e){if(!j.isValidString(e,!1)){let{message:r}=j.getInternalError("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(r)}if(!this.client.core.pairing.pairings.keys.includes(e)){let{message:r}=j.getInternalError("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(r)}if(j.isExpired(this.client.core.pairing.pairings.get(e).expiry)){let{message:r}=j.getInternalError("EXPIRED",`pairing topic: ${e}`);throw new Error(r)}}async isValidSessionTopic(e){if(!j.isValidString(e,!1)){let{message:r}=j.getInternalError("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(r)}if(!this.client.session.keys.includes(e)){let{message:r}=j.getInternalError("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(r)}if(j.isExpired(this.client.session.get(e).expiry)){await this.deleteSession(e);let{message:r}=j.getInternalError("EXPIRED",`session topic: ${e}`);throw new Error(r)}}async isValidSessionOrPairingTopic(e){if(this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(j.isValidString(e,!1)){let{message:r}=j.getInternalError("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(r)}else{let{message:r}=j.getInternalError("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(r)}}async isValidProposalId(e){if(!j.isValidId(e)){let{message:r}=j.getInternalError("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(r)}if(!this.client.proposal.keys.includes(e)){let{message:r}=j.getInternalError("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(r)}if(j.isExpired(this.client.proposal.get(e).expiry)){await this.deleteProposal(e);let{message:r}=j.getInternalError("EXPIRED",`proposal id: ${e}`);throw new Error(r)}}},Sb=class extends Dn.Store{constructor(e,r){super(e,r,M8,Rg),this.core=e,this.logger=r}},Tb=class extends Dn.Store{constructor(e,r){super(e,r,q8,Rg),this.core=e,this.logger=r}},Cb=class extends Dn.Store{constructor(e,r){super(e,r,H8,Rg,n=>n.id),this.core=e,this.logger=r}},Pg=class t extends L8.ISignClient{constructor(e){super(e),this.protocol=xb,this.version=Nb,this.name=Og.name,this.events=new F8.EventEmitter,this.on=(n,i)=>this.events.on(n,i),this.once=(n,i)=>this.events.once(n,i),this.off=(n,i)=>this.events.off(n,i),this.removeListener=(n,i)=>this.events.removeListener(n,i),this.removeAllListeners=n=>this.events.removeAllListeners(n),this.connect=async n=>{try{return await this.engine.connect(n)}catch(i){throw this.logger.error(i.message),i}},this.pair=async n=>{try{return await this.engine.pair(n)}catch(i){throw this.logger.error(i.message),i}},this.approve=async n=>{try{return await this.engine.approve(n)}catch(i){throw this.logger.error(i.message),i}},this.reject=async n=>{try{return await this.engine.reject(n)}catch(i){throw this.logger.error(i.message),i}},this.update=async n=>{try{return await this.engine.update(n)}catch(i){throw this.logger.error(i.message),i}},this.extend=async n=>{try{return await this.engine.extend(n)}catch(i){throw this.logger.error(i.message),i}},this.request=async n=>{try{return await this.engine.request(n)}catch(i){throw this.logger.error(i.message),i}},this.respond=async n=>{try{return await this.engine.respond(n)}catch(i){throw this.logger.error(i.message),i}},this.ping=async n=>{try{return await this.engine.ping(n)}catch(i){throw this.logger.error(i.message),i}},this.emit=async n=>{try{return await this.engine.emit(n)}catch(i){throw this.logger.error(i.message),i}},this.disconnect=async n=>{try{return await this.engine.disconnect(n)}catch(i){throw this.logger.error(i.message),i}},this.find=n=>{try{return this.engine.find(n)}catch(i){throw this.logger.error(i.message),i}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(n){throw this.logger.error(n.message),n}},this.name=e?.name||Og.name,this.metadata=e?.metadata||j.getAppMetadata();let r=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:Ng.pino(Ng.getDefaultLoggerOptions({level:e?.logger||Og.logger}));this.core=e?.core||new Dn.Core(e),this.logger=Ng.generateChildLogger(r,this.name),this.session=new Tb(this.core,this.logger),this.proposal=new Sb(this.core,this.logger),this.pendingRequest=new Cb(this.core,this.logger),this.engine=new Ib(this)}static async init(e){let r=new t(e);return await r.initialize(),r}get context(){return Ng.getLoggerContext(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.engine.init(),this.core.verify.init({verifyUrl:this.metadata.verifyUrl}),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}},tZ=Pg;Je.ENGINE_CONTEXT=V8,Je.ENGINE_QUEUE_STATES=On,Je.ENGINE_RPC_OPTS=Ka,Je.HISTORY_CONTEXT=$X,Je.HISTORY_EVENTS=WX,Je.HISTORY_STORAGE_VERSION=zX,Je.METHODS_TO_VERIFY=G8,Je.PROPOSAL_CONTEXT=M8,Je.PROPOSAL_EXPIRY=KX,Je.PROPOSAL_EXPIRY_MESSAGE=U8,Je.REQUEST_CONTEXT=H8,Je.SESSION_CONTEXT=q8,Je.SESSION_EXPIRY=Il,Je.SESSION_REQUEST_EXPIRY_BOUNDARIES=Dg,Je.SIGN_CLIENT_CONTEXT=Ob,Je.SIGN_CLIENT_DEFAULT=Og,Je.SIGN_CLIENT_EVENTS=jX,Je.SIGN_CLIENT_PROTOCOL=xb,Je.SIGN_CLIENT_STORAGE_OPTIONS=QX,Je.SIGN_CLIENT_STORAGE_PREFIX=Rg,Je.SIGN_CLIENT_VERSION=Nb,Je.SignClient=tZ,Je.WALLETCONNECT_DEEPLINK_CHOICE=_b,Je.default=Pg});var Bg=m(Ji=>{"use strict";c();Object.defineProperty(Ji,"__esModule",{value:!0});Ji.OptionalOperation=Ji.Operation=void 0;var rZ;(function(t){t.SIGN_TRANSACTION="mvx_signTransaction",t.SIGN_TRANSACTIONS="mvx_signTransactions",t.SIGN_MESSAGE="mvx_signMessage"})(rZ=Ji.Operation||(Ji.Operation={}));var nZ;(function(t){t.SIGN_LOGIN_TOKEN="mvx_signLoginToken",t.SIGN_NATIVE_AUTH_TOKEN="mvx_signNativeAuthToken",t.CANCEL_ACTION="mvx_cancelAction"})(nZ=Ji.OptionalOperation||(Ji.OptionalOperation={}))});var Db=m(Pn=>{"use strict";c();Object.defineProperty(Pn,"__esModule",{value:!0});Pn.WALLETCONNECT_SIGN_LOGIN_DELAY=Pn.WALLETCONNECT_MULTIVERSX_OPTIONAL_METHODS=Pn.WALLETCONNECT_MULTIVERSX_METHODS=Pn.WALLETCONNECT_MULTIVERSX_NAMESPACE=void 0;var j8=Bg();Pn.WALLETCONNECT_MULTIVERSX_NAMESPACE="mvx";Pn.WALLETCONNECT_MULTIVERSX_METHODS=Object.values(j8.Operation);Pn.WALLETCONNECT_MULTIVERSX_OPTIONAL_METHODS=Object.values(j8.OptionalOperation);Pn.WALLETCONNECT_SIGN_LOGIN_DELAY=200});var Bb=m(Jr=>{"use strict";c();Object.defineProperty(Jr,"__esModule",{value:!0});Jr.WalletConnectV2ProviderErrorMessagesEnum=Jr.ErrBadAddress=Jr.ErrNotImplemented=Jr.Err=void 0;var Sl=class extends Error{constructor(e,r){super(e),this.inner=void 0,this.inner=r}};Jr.Err=Sl;var Pb=class extends Sl{constructor(){super("Method not yet implemented")}};Jr.ErrNotImplemented=Pb;var Rb=class extends Sl{constructor(e,r){super(`Bad address: ${e}`,r)}};Jr.ErrBadAddress=Rb;var iZ;(function(t){t.unableToInit="WalletConnect is unable to init",t.notInitialized="WalletConnect is not initialized",t.unableToConnect="WalletConnect is unable to connect",t.unableToConnectExisting="WalletConnect is unable to connect to existing pairing",t.unableToSignLoginToken="WalletConnect could not sign login token",t.unableToSign="WalletConnect could not sign the message",t.unableToLogin="WalletConnect is unable to login",t.unableToHandleTopic="WalletConnect: Unable to handle topic update",t.unableToHandleEvent="WalletConnect: Unable to handle events",t.unableToHandleCleanup="WalletConnect: Unable to handle cleanup",t.sessionNotConnected="WalletConnect Session is not connected",t.sessionDeleted="WalletConnect Session Deleted",t.sessionExpired="WalletConnect Session Expired",t.alreadyLoggedOut="WalletConnect: Already logged out",t.pingFailed="WalletConnect Ping Failed",t.invalidAddress="WalletConnect: Invalid address",t.requestDifferentChain="WalletConnect: Request Chain Id different than Connection Chain Id",t.invalidMessageResponse="WalletConnect could not sign the message",t.invalidMessageSignature="WalletConnect: Invalid message signature",t.invalidTransactionResponse="WalletConnect could not sign the transactions. Invalid signatures",t.invalidCustomRequestResponse="WalletConnect could not send the custom request",t.transactionError="Transaction canceled",t.connectionError="WalletConnect could not establish a connection",t.invalidGuardian="WalletConnect: Invalid Guardian"})(iZ=Jr.WalletConnectV2ProviderErrorMessagesEnum||(Jr.WalletConnectV2ProviderErrorMessagesEnum={}))});var Fb=m(Lg=>{"use strict";c();Object.defineProperty(Lg,"__esModule",{value:!0});Lg.Logger=void 0;var Lb=class{static error(e){console.error(e)}static trace(e){console.trace(e)}};Lg.Logger=Lb});var Q8=m(()=>{"use strict";c();global.Buffer||(global.Buffer=Ps().Buffer)});var $8=m(W8=>{"use strict";c();Object.defineProperty(W8,"__esModule",{value:!0})});var K8=m(z8=>{"use strict";c();Object.defineProperty(z8,"__esModule",{value:!0})});var Y8=m(Ya=>{"use strict";c();var sZ=Ya&&Ya.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ya,"__esModule",{value:!0});Ya.RelayedTransactionV1Builder=void 0;var oZ=sZ(Gt()),Mb=ht(),aZ=Be(),uZ=wn(),cZ=jn(),Ub=class{setInnerTransaction(e){return this.innerTransaction=e,this}setNetworkConfig(e){return this.netConfig=e,this}setRelayerAddress(e){return this.relayerAddress=e,this}setRelayerNonce(e){return this.relayerNonce=e,this}setRelayedTransactionVersion(e){return this.relayedTransactionVersion=e,this}setRelayedTransactionOptions(e){return this.relayedTransactionOptions=e,this}setRelayedTransactionGuardian(e){return this.relayedTransactionGuardian=e,this}build(){if(!this.innerTransaction||!this.netConfig||!this.relayerAddress||!this.innerTransaction.getSignature())throw new aZ.ErrInvalidRelayedV1BuilderArguments;let e=this.prepareInnerTransaction(),r=`relayedTx@${h.Buffer.from(e).toString("hex")}`,n=new cZ.TransactionPayload(r),i=this.netConfig.MinGasLimit+this.netConfig.GasPerDataByte*n.length()+this.innerTransaction.getGasLimit().valueOf(),s=new uZ.Transaction({nonce:this.relayerNonce,sender:this.relayerAddress,receiver:this.innerTransaction.getSender(),value:0,gasLimit:i,data:n,chainID:this.netConfig.ChainID,version:this.relayedTransactionVersion,options:this.relayedTransactionOptions,guardian:this.relayedTransactionGuardian});return this.relayerNonce&&s.setNonce(this.relayerNonce),s}prepareInnerTransaction(){if(!this.innerTransaction)return"";let e={nonce:this.innerTransaction.getNonce().valueOf(),sender:new Mb.Address(this.innerTransaction.getSender().bech32()).pubkey().toString("base64"),receiver:new Mb.Address(this.innerTransaction.getReceiver().bech32()).pubkey().toString("base64"),value:new oZ.default(this.innerTransaction.getValue().toString(),10).toNumber(),gasPrice:this.innerTransaction.getGasPrice().valueOf(),gasLimit:this.innerTransaction.getGasLimit().valueOf(),data:this.innerTransaction.getData().valueOf().toString("base64"),signature:this.innerTransaction.getSignature().toString("base64"),chainID:h.Buffer.from(this.innerTransaction.getChainID().valueOf()).toString("base64"),version:this.innerTransaction.getVersion().valueOf(),options:this.innerTransaction.getOptions().valueOf()==0?void 0:this.innerTransaction.getOptions().valueOf(),guardian:this.innerTransaction.getGuardian().bech32()?new Mb.Address(this.innerTransaction.getGuardian().bech32()).pubkey().toString("base64"):void 0,guardianSignature:this.innerTransaction.getGuardianSignature().toString("hex")?this.innerTransaction.getGuardianSignature().toString("base64"):void 0,sndUserName:this.innerTransaction.getSenderUsername()?h.Buffer.from(this.innerTransaction.getSenderUsername()).toString("base64"):void 0,rcvUserName:this.innerTransaction.getReceiverUsername()?h.Buffer.from(this.innerTransaction.getReceiverUsername()).toString("base64"):void 0};return JSON.stringify(e)}};Ya.RelayedTransactionV1Builder=Ub});var J8=m(Fg=>{"use strict";c();Object.defineProperty(Fg,"__esModule",{value:!0});Fg.Code=void 0;var qb=class t{constructor(e){this.hex=e}static fromBuffer(e){return new t(e.toString("hex"))}toString(){return this.hex}valueOf(){return h.Buffer.from(this.hex,"hex")}};Fg.Code=qb});var Z8=m(X8=>{"use strict";c();Object.defineProperty(X8,"__esModule",{value:!0})});var nB=m(Xa=>{"use strict";c();Object.defineProperty(Xa,"__esModule",{value:!0});Xa.bech32m=Xa.bech32=void 0;var Mg="qpzry9x8gf2tvdw0s3jn54khce6mua7l",tB={};for(let t=0;t<Mg.length;t++){let e=Mg.charAt(t);tB[e]=t}function Ja(t){let e=t>>25;return(t&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}function eB(t){let e=1;for(let r=0;r<t.length;++r){let n=t.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+t+")";e=Ja(e)^n>>5}e=Ja(e);for(let r=0;r<t.length;++r){let n=t.charCodeAt(r);e=Ja(e)^n&31}return e}function Vb(t,e,r,n){let i=0,s=0,o=(1<<r)-1,a=[];for(let u=0;u<t.length;++u)for(i=i<<e|t[u],s+=e;s>=r;)s-=r,a.push(i>>s&o);if(n)s>0&&a.push(i<<r-s&o);else{if(s>=e)return"Excess padding";if(i<<r-s&o)return"Non-zero padding"}return a}function lZ(t){return Vb(t,8,5,!0)}function fZ(t){let e=Vb(t,5,8,!1);if(Array.isArray(e))return e}function hZ(t){let e=Vb(t,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}function rB(t){let e;t==="bech32"?e=1:e=734539939;function r(o,a,u){if(u=u||90,o.length+7+a.length>u)throw new TypeError("Exceeds length limit");o=o.toLowerCase();let l=eB(o);if(typeof l=="string")throw new Error(l);let f=o+"1";for(let d=0;d<a.length;++d){let g=a[d];if(g>>5)throw new Error("Non 5-bit word");l=Ja(l)^g,f+=Mg.charAt(g)}for(let d=0;d<6;++d)l=Ja(l);l^=e;for(let d=0;d<6;++d){let g=l>>(5-d)*5&31;f+=Mg.charAt(g)}return f}function n(o,a){if(a=a||90,o.length<8)return o+" too short";if(o.length>a)return"Exceeds length limit";let u=o.toLowerCase(),l=o.toUpperCase();if(o!==u&&o!==l)return"Mixed-case string "+o;o=u;let f=o.lastIndexOf("1");if(f===-1)return"No separator character for "+o;if(f===0)return"Missing prefix for "+o;let d=o.slice(0,f),g=o.slice(f+1);if(g.length<6)return"Data too short";let w=eB(d);if(typeof w=="string")return w;let E=[];for(let T=0;T<g.length;++T){let D=g.charAt(T),B=tB[D];if(B===void 0)return"Unknown character "+D;w=Ja(w)^B,!(T+6>=g.length)&&E.push(B)}return w!==e?"Invalid checksum for "+o:{prefix:d,words:E}}function i(o,a){let u=n(o,a);if(typeof u=="object")return u}function s(o,a){let u=n(o,a);if(typeof u=="object")return u;throw new Error(u)}return{decodeUnsafe:i,decode:s,encode:r,toWords:lZ,fromWordsUnsafe:fZ,fromWords:hZ}}Xa.bech32=rB("bech32");Xa.bech32m=rB("bech32m")});var sB=m(Gr=>{"use strict";c();Object.defineProperty(Gr,"__esModule",{value:!0});Gr.TokenTransferProperties=Gr.TransactionMetadataTransfer=Gr.TransactionMetadata=Gr.TransactionToDecode=Gr.TransactionDecoder=void 0;var iB=nB(),Hb=class{getTransactionMetadata(e){let r=this.getNormalTransactionMetadata(e),n=this.getEsdtTransactionMetadata(r);if(n)return n;let i=this.getNftTransferMetadata(r);if(i)return i;let s=this.getMultiTransferMetadata(r);return s||r}getNormalTransactionMetadata(e){let r=new io;if(r.sender=e.sender,r.receiver=e.receiver,r.value=BigInt(e.value),e.data){let i=this.base64Decode(e.data).split("@"),s=i.slice(1);if(s.every(o=>this.isSmartContractArgument(o))&&(r.functionName=i[0],r.functionArgs=s),r.functionName==="relayedTx"&&r.functionArgs&&r.functionArgs.length===1)try{let o=JSON.parse(this.hexToString(r.functionArgs[0]));return o.value=o.value.toString(),o.sender=this.bech32Encode(this.base64ToHex(o.sender)),o.receiver=this.bech32Encode(this.base64ToHex(o.receiver)),this.getNormalTransactionMetadata(o)}catch{}if(r.functionName==="relayedTxV2"&&r.functionArgs&&r.functionArgs.length===4)try{let o=new Ug;return o.sender=e.receiver,o.receiver=this.bech32Encode(r.functionArgs[0]),o.data=this.base64Encode(this.hexToString(r.functionArgs[2])),o.value="0",this.getNormalTransactionMetadata(o)}catch{}}return r}getMultiTransferMetadata(e){if(e.sender!==e.receiver||e.functionName!=="MultiESDTNFTTransfer")return;let r=e.functionArgs;if(!r||r.length<3||!this.isAddressValid(r[0]))return;let n=this.bech32Encode(r[0]),i=this.hexToNumber(r[1]),s=new io;s.transfers||(s.transfers=[]);let o=2;for(let a=0;a<i;a++){let u=this.hexToString(r[o++]),l=r[o++],f=this.hexToBigInt(r[o++]);l?s.transfers.push({value:f,properties:{collection:u,identifier:`${u}-${l}`}}):s.transfers.push({value:f,properties:{token:u}})}return s.sender=e.sender,s.receiver=n,r.length>o&&(s.functionName=this.hexToString(r[o++]),s.functionArgs=r.slice(o++)),s}getNftTransferMetadata(e){if(e.sender!==e.receiver||e.functionName!=="ESDTNFTTransfer")return;let r=e.functionArgs;if(!r||r.length<4||!this.isAddressValid(r[3]))return;let n=this.hexToString(r[0]),i=r[1],s=this.hexToBigInt(r[2]),o=this.bech32Encode(r[3]),a=new io;return a.sender=e.sender,a.receiver=o,a.value=s,r.length>4&&(a.functionName=this.hexToString(r[4]),a.functionArgs=r.slice(5)),a.transfers=[{value:s,properties:{collection:n,identifier:`${n}-${i}`}}],a}base64Encode(e){return h.Buffer.from(e).toString("base64")}base64Decode(e){return h.Buffer.from(e,"base64").toString("binary")}hexToNumber(e){return parseInt(e,16)}getEsdtTransactionMetadata(e){if(e.functionName!=="ESDTTransfer")return;let r=e.functionArgs;if(!r||r.length<2)return;let n=this.hexToString(r[0]),i=this.hexToBigInt(r[1]),s=new io;return s.sender=e.sender,s.receiver=e.receiver,r.length>2&&(s.functionName=this.hexToString(r[2]),s.functionArgs=r.slice(3)),s.transfers=[{value:i,properties:{identifier:n}}],s.value=i,s}bech32Encode(e){let r=h.Buffer.from(e,"hex"),n=iB.bech32.toWords(r);return iB.bech32.encode("erd",n)}isAddressValid(e){return h.Buffer.from(e,"hex").length==32}isSmartContractArgument(e){return!(!this.isHex(e)||e.length%2!==0)}isHex(e){return new RegExp(/[^a-f0-9]/gi).test(e)===!1}base64ToHex(e){return h.Buffer.from(e,"base64").toString("hex")}hexToString(e){return h.Buffer.from(e,"hex").toString("ascii")}hexToBigInt(e){return BigInt(e?"0x"+e:0)}};Gr.TransactionDecoder=Hb;var Ug=class{constructor(){this.sender="",this.receiver="",this.data="",this.value="0"}};Gr.TransactionToDecode=Ug;var io=class{constructor(){this.sender="",this.receiver="",this.value=BigInt(0)}};Gr.TransactionMetadata=io;var Gb=class{constructor(){this.value=BigInt(0)}};Gr.TransactionMetadataTransfer=Gb;var kb=class{};Gr.TokenTransferProperties=kb});var jb=m(qg=>{"use strict";c();Object.defineProperty(qg,"__esModule",{value:!0});qg.ReturnCode=void 0;var Ge=class t{constructor(e){this.text=e}static fromBuffer(e){let r=e.toString();return new t(r)}toString(){return this.text}valueOf(){return this.text}equals(e){return e?this.text==e.text:!1}isSuccess(){return this.equals(t.Ok)||this.equals(t.None)}};qg.ReturnCode=Ge;Ge.None=new Ge("");Ge.Ok=new Ge("ok");Ge.FunctionNotFound=new Ge("function not found");Ge.FunctionWrongSignature=new Ge("wrong signature for function");Ge.ContractNotFound=new Ge("contract not found");Ge.UserError=new Ge("user error");Ge.OutOfGas=new Ge("out of gas");Ge.AccountCollision=new Ge("account collision");Ge.OutOfFunds=new Ge("out of funds");Ge.CallStackOverFlow=new Ge("call stack overflow");Ge.ContractInvalid=new Ge("contract invalid");Ge.ExecutionFailed=new Ge("execution failed");Ge.Unknown=new Ge("unknown")});var uB=m(Vg=>{"use strict";c();Object.defineProperty(Vg,"__esModule",{value:!0});Vg.ResultsParser=void 0;var dZ=sB(),oB=ht(),aB=Be(),Xi=na(),pZ=Wo(),Za=jb(),eu;(function(t){t.OnTransactionCompleted="completedTxEvent",t.OnSignalError="signalError",t.OnWriteLog="writeLog"})(eu||(eu={}));var Qb;(function(t){t.TooMuchGas="@too much gas provided for processing"})(Qb||(Qb={}));var gZ={argsSerializer:new pZ.ArgSerializer},Wb=class{constructor(e){e=Object.assign(Object.assign({},gZ),e),this.argsSerializer=e.argsSerializer}parseQueryResponse(e,r){let n=e.getReturnDataParts(),i=this.argsSerializer.buffersToValues(n,r.output);return{returnCode:new Za.ReturnCode(e.returnCode.toString()),returnMessage:e.returnMessage,values:i,firstValue:i[0],secondValue:i[1],thirdValue:i[2],lastValue:i[i.length-1]}}parseUntypedQueryResponse(e){return{returnCode:new Za.ReturnCode(e.returnCode.toString()),returnMessage:e.returnMessage,values:e.getReturnDataParts()}}parseOutcome(e,r){let n=this.parseUntypedOutcome(e),i=this.argsSerializer.buffersToValues(n.values,r.output);return{returnCode:n.returnCode,returnMessage:n.returnMessage,values:i,firstValue:i[0],secondValue:i[1],thirdValue:i[2],lastValue:i[i.length-1]}}parseUntypedOutcome(e){let r,n=this.parseTransactionMetadata(e);if(r=this.createBundleOnSimpleMoveBalance(e),r)return Xi.Logger.trace("parseUntypedOutcome(): on simple move balance"),r;if(r=this.createBundleOnInvalidTransaction(e),r)return Xi.Logger.trace("parseUntypedOutcome(): on invalid transaction"),r;if(r=this.createBundleOnEasilyFoundResultWithReturnData(e.contractResults),r)return Xi.Logger.trace("parseUntypedOutcome(): on easily found result with return data"),r;if(r=this.createBundleOnSignalError(e.logs),r)return Xi.Logger.trace("parseUntypedOutcome(): on signal error"),r;if(r=this.createBundleOnTooMuchGasWarning(e.logs),r)return Xi.Logger.trace("parseUntypedOutcome(): on 'too much gas' warning"),r;if(r=this.createBundleOnWriteLogWhereFirstTopicEqualsAddress(e.logs,e.sender),r)return Xi.Logger.trace("parseUntypedOutcome(): on writelog with topics[0] == tx.sender"),r;if(r=this.createBundleWithCustomHeuristics(e,n),r)return Xi.Logger.trace("parseUntypedOutcome(): with custom heuristics"),r;if(r=this.createBundleWithFallbackHeuristics(e,n),r)return Xi.Logger.trace("parseUntypedOutcome(): with fallback heuristics"),r;throw new aB.ErrCannotParseContractResults(`transaction ${e.hash.toString()}`)}parseTransactionMetadata(e){return new dZ.TransactionDecoder().getTransactionMetadata({sender:e.sender.bech32(),receiver:e.receiver.bech32(),data:e.data.toString("base64"),value:e.value.toString()})}createBundleOnSimpleMoveBalance(e){let r=e.contractResults.items.length==0,n=e.logs.events.length==0;return r&&n?{returnCode:Za.ReturnCode.None,returnMessage:Za.ReturnCode.None.toString(),values:[]}:null}createBundleOnInvalidTransaction(e){return e.status.isInvalid()&&e.receipt.data?{returnCode:Za.ReturnCode.OutOfFunds,returnMessage:e.receipt.data,values:[]}:null}createBundleOnEasilyFoundResultWithReturnData(e){let r=e.items.find(o=>o.nonce.valueOf()!=0&&o.data.startsWith("@"));if(!r)return null;let{returnCode:n,returnDataParts:i}=this.sliceDataFieldInParts(r.data),s=r.returnMessage||n.toString();return{returnCode:n,returnMessage:s,values:i}}createBundleOnSignalError(e){let r=e.findSingleOrNoneEvent(eu.OnSignalError);if(!r)return null;let{returnCode:n,returnDataParts:i}=this.sliceDataFieldInParts(r.data),s=r.getLastTopic(),o=s?.toString()||n.toString();return{returnCode:n,returnMessage:o,values:i}}createBundleOnTooMuchGasWarning(e){let r=e.findSingleOrNoneEvent(eu.OnWriteLog,a=>a.findFirstOrNoneTopic(u=>u.toString().startsWith(Qb.TooMuchGas))!=null);if(!r)return null;let{returnCode:n,returnDataParts:i}=this.sliceDataFieldInParts(r.data),s=r.getLastTopic(),o=s?.toString()||n.toString();return{returnCode:n,returnMessage:o,values:i}}createBundleOnWriteLogWhereFirstTopicEqualsAddress(e,r){let n=new oB.Address(r.bech32()).hex(),i=e.findSingleOrNoneEvent(eu.OnWriteLog,u=>u.findFirstOrNoneTopic(l=>l.hex()==n)!=null);if(!i)return null;let{returnCode:s,returnDataParts:o}=this.sliceDataFieldInParts(i.data),a=s.toString();return{returnCode:s,returnMessage:a,values:o}}createBundleWithCustomHeuristics(e,r){return null}createBundleWithFallbackHeuristics(e,r){let n=new oB.Address(r.receiver);for(let i of e.contractResults.items){let s=i.logs.findSingleOrNoneEvent(eu.OnWriteLog,o=>{var a;let u=o.address.bech32()==e.sender.bech32(),l=((a=o.topics[0])===null||a===void 0?void 0:a.hex())==n.hex();return u&&l});if(s){let{returnCode:o,returnDataParts:a}=this.sliceDataFieldInParts(s.data),u=o.toString();return{returnCode:o,returnMessage:u,values:a}}}return null}sliceDataFieldInParts(e){let r=1;e.startsWith("ESDTTransfer")&&(r=3);let n=this.argsSerializer.stringToBuffers(e),i=n[r]||h.Buffer.from([]),s=n.slice(r+1);if(i.length==0)throw new aB.ErrCannotParseContractResults("no return code");return{returnCode:Za.ReturnCode.fromBuffer(i),returnDataParts:s}}};Vg.ResultsParser=Wb});var $b=m(At=>{"use strict";c();var yZ=At&&At.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ir=At&&At.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&yZ(e,t,r)};Object.defineProperty(At,"__esModule",{value:!0});ir(Wo(),At);ir(J8(),At);ir(pw(),At);ir(cE(),At);ir(wc(),At);ir(wE(),At);ir(dE(),At);ir(Z8(),At);ir(AE(),At);ir(Ec(),At);ir(uB(),At);ir(jb(),At);ir(fv(),At);ir(xE(),At);ir(St(),At)});var lB=m(Hg=>{"use strict";c();Object.defineProperty(Hg,"__esModule",{value:!0});Hg.RelayedTransactionV2Builder=void 0;var cB=Be(),Tl=$b(),mZ=wn(),wZ=jn(),zb=class{setInnerTransaction(e){return this.innerTransaction=e,this}setInnerTransactionGasLimit(e){return this.innerTransactionGasLimit=e,this}setNetworkConfig(e){return this.netConfig=e,this}setRelayerAddress(e){return this.relayerAddress=e,this}setRelayerNonce(e){return this.relayerNonce=e,this}build(){if(!this.innerTransaction||!this.innerTransactionGasLimit||!this.relayerAddress||!this.netConfig||!this.innerTransaction.getSignature())throw new cB.ErrInvalidRelayedV2BuilderArguments;if(this.innerTransaction.getGasLimit()!=0)throw new cB.ErrGasLimitShouldBe0ForInnerTransaction;let{argumentsString:e}=new Tl.ArgSerializer().valuesToString([new Tl.AddressValue(this.innerTransaction.getReceiver()),new Tl.U64Value(this.innerTransaction.getNonce().valueOf()),new Tl.BytesValue(this.innerTransaction.getData().valueOf()),new Tl.BytesValue(this.innerTransaction.getSignature())]),r=`relayedTxV2@${e}`,n=new wZ.TransactionPayload(r),i=new mZ.Transaction({sender:this.relayerAddress,receiver:this.innerTransaction.getSender(),value:0,gasLimit:this.innerTransactionGasLimit.valueOf()+this.netConfig.MinGasLimit+this.netConfig.GasPerDataByte*n.length(),data:n,chainID:this.netConfig.ChainID});return this.relayerNonce&&i.setNonce(this.relayerNonce),i}};Hg.RelayedTransactionV2Builder=zb});var fB=m(so=>{"use strict";c();Object.defineProperty(so,"__esModule",{value:!0});so.SignableMessage=so.MESSAGE_PREFIX=void 0;var EZ=ht(),vZ=av();so.MESSAGE_PREFIX=`Elrond Signed Message:
`;var Kb=class{constructor(e){this.message=h.Buffer.from([]),this.signature=h.Buffer.from([]),this.version=1,this.signer="ErdJS",this.address=new EZ.Address,Object.assign(this,e)}serializeForSigning(){let e=h.Buffer.from(this.message.length.toString()),r=h.Buffer.concat([e,this.message]),n=h.Buffer.concat([h.Buffer.from(so.MESSAGE_PREFIX),r]);return vZ("keccak256").update(n).digest()}serializeForSigningRaw(){return h.Buffer.concat([this.getMessageSize(),this.message])}getSignature(){return this.signature}applySignature(e){e instanceof h.Buffer?this.signature=e:this.signature=h.Buffer.from(e.hex(),"hex")}getMessageSize(){let e=h.Buffer.alloc(4);return e.writeUInt32BE(this.message.length,0),e}toJSON(){return{address:this.address.bech32(),message:"0x"+this.message.toString("hex"),signature:"0x"+this.signature.toString("hex"),version:this.version,signer:this.signer}}};so.SignableMessage=Kb});var Jb=m(at=>{"use strict";c();var AZ=at&&at.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),bZ=at&&at.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),hB=at&&at.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&AZ(e,t,r);return bZ(e,t),e},_Z=at&&at.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(at,"__esModule",{value:!0});at.addressToHex=at.bufferToHex=at.utf8ToHex=at.bigIntToHex=at.bigIntToBuffer=at.bufferToBigInt=at.stringToBuffer=void 0;var IZ=_Z(Gt()),SZ=ht(),Yb=hB(ac()),dB=hB(ph());function TZ(t){return h.Buffer.from(t)}at.stringToBuffer=TZ;function CZ(t){return t.length==0?new IZ.default(0):Yb.bufferToBigInt(t)}at.bufferToBigInt=CZ;function xZ(t){return t==0?h.Buffer.from([]):Yb.bigIntToBuffer(t)}at.bigIntToBuffer=xZ;function NZ(t){return t==0?"":Yb.getHexMagnitudeOfBigInt(t)}at.bigIntToHex=NZ;function OZ(t){let e=h.Buffer.from(t).toString("hex");return dB.zeroPadStringIfOddLength(e)}at.utf8ToHex=OZ;function DZ(t){let e=t.toString("hex");return dB.zeroPadStringIfOddLength(e)}at.bufferToHex=DZ;function PZ(t){return SZ.Address.fromBech32(t.toString()).pubkey().toString("hex")}at.addressToHex=PZ});var gB=m(Gg=>{"use strict";c();Object.defineProperty(Gg,"__esModule",{value:!0});Gg.TokenOperationsFactory=void 0;var Xb=bs(),RZ=na(),pB=cc(),BZ=wn(),LZ=jn(),ne=Jb(),Zb=class{constructor(e){this.config=e,this.trueAsHex=ne.utf8ToHex("true")}issueFungible(e){this.notifyAboutUnsettingBurnRoleGlobally();let r=["issue",ne.utf8ToHex(e.tokenName),ne.utf8ToHex(e.tokenTicker),ne.bigIntToHex(e.initialSupply),ne.bigIntToHex(e.numDecimals),...e.canFreeze?[ne.utf8ToHex("canFreeze"),this.trueAsHex]:[],...e.canWipe?[ne.utf8ToHex("canWipe"),this.trueAsHex]:[],...e.canPause?[ne.utf8ToHex("canPause"),this.trueAsHex]:[],...e.canChangeOwner?[ne.utf8ToHex("canChangeOwner"),this.trueAsHex]:[],...e.canUpgrade?[ne.utf8ToHex("canUpgrade"),this.trueAsHex]:[],...e.canAddSpecialRoles?[ne.utf8ToHex("canAddSpecialRoles"),this.trueAsHex]:[]];return this.createTransaction({sender:e.issuer,receiver:this.config.esdtContractAddress,nonce:e.transactionNonce,value:this.config.issueCost,gasPrice:e.gasPrice,gasLimitHint:e.gasLimit,executionGasLimit:this.config.gasLimitIssue,dataParts:r})}notifyAboutUnsettingBurnRoleGlobally(){RZ.Logger.info(`
==========
IMPORTANT!
==========
You are about to issue (register) a new token. This will set the role "ESDTRoleBurnForAll" (globally).
Once the token is registered, you can unset this role by calling "unsetBurnRoleGlobally" (in a separate transaction).`)}issueSemiFungible(e){this.notifyAboutUnsettingBurnRoleGlobally();let r=["issueSemiFungible",ne.utf8ToHex(e.tokenName),ne.utf8ToHex(e.tokenTicker),...e.canFreeze?[ne.utf8ToHex("canFreeze"),this.trueAsHex]:[],...e.canWipe?[ne.utf8ToHex("canWipe"),this.trueAsHex]:[],...e.canPause?[ne.utf8ToHex("canPause"),this.trueAsHex]:[],...e.canTransferNFTCreateRole?[ne.utf8ToHex("canTransferNFTCreateRole"),this.trueAsHex]:[],...e.canChangeOwner?[ne.utf8ToHex("canChangeOwner"),this.trueAsHex]:[],...e.canUpgrade?[ne.utf8ToHex("canUpgrade"),this.trueAsHex]:[],...e.canAddSpecialRoles?[ne.utf8ToHex("canAddSpecialRoles"),this.trueAsHex]:[]];return this.createTransaction({sender:e.issuer,receiver:this.config.esdtContractAddress,nonce:e.transactionNonce,value:this.config.issueCost,gasPrice:e.gasPrice,gasLimitHint:e.gasLimit,executionGasLimit:this.config.gasLimitIssue,dataParts:r})}issueNonFungible(e){this.notifyAboutUnsettingBurnRoleGlobally();let r=["issueNonFungible",ne.utf8ToHex(e.tokenName),ne.utf8ToHex(e.tokenTicker),...e.canFreeze?[ne.utf8ToHex("canFreeze"),this.trueAsHex]:[],...e.canWipe?[ne.utf8ToHex("canWipe"),this.trueAsHex]:[],...e.canPause?[ne.utf8ToHex("canPause"),this.trueAsHex]:[],...e.canTransferNFTCreateRole?[ne.utf8ToHex("canTransferNFTCreateRole"),this.trueAsHex]:[],...e.canChangeOwner?[ne.utf8ToHex("canChangeOwner"),this.trueAsHex]:[],...e.canUpgrade?[ne.utf8ToHex("canUpgrade"),this.trueAsHex]:[],...e.canAddSpecialRoles?[ne.utf8ToHex("canAddSpecialRoles"),this.trueAsHex]:[]];return this.createTransaction({sender:e.issuer,receiver:this.config.esdtContractAddress,nonce:e.transactionNonce,value:this.config.issueCost,gasPrice:e.gasPrice,gasLimitHint:e.gasLimit,executionGasLimit:this.config.gasLimitIssue,dataParts:r})}registerMetaESDT(e){this.notifyAboutUnsettingBurnRoleGlobally();let r=["registerMetaESDT",ne.utf8ToHex(e.tokenName),ne.utf8ToHex(e.tokenTicker),ne.bigIntToHex(e.numDecimals),...e.canFreeze?[ne.utf8ToHex("canFreeze"),this.trueAsHex]:[],...e.canWipe?[ne.utf8ToHex("canWipe"),this.trueAsHex]:[],...e.canPause?[ne.utf8ToHex("canPause"),this.trueAsHex]:[],...e.canTransferNFTCreateRole?[ne.utf8ToHex("canTransferNFTCreateRole"),this.trueAsHex]:[],...e.canChangeOwner?[ne.utf8ToHex("canChangeOwner"),this.trueAsHex]:[],...e.canUpgrade?[ne.utf8ToHex("canUpgrade"),this.trueAsHex]:[],...e.canAddSpecialRoles?[ne.utf8ToHex("canAddSpecialRoles"),this.trueAsHex]:[]];return this.createTransaction({sender:e.issuer,receiver:this.config.esdtContractAddress,nonce:e.transactionNonce,value:this.config.issueCost,gasPrice:e.gasPrice,gasLimitHint:e.gasLimit,executionGasLimit:this.config.gasLimitIssue,dataParts:r})}registerAndSetAllRoles(e){this.notifyAboutUnsettingBurnRoleGlobally();let r=["registerAndSetAllRoles",ne.utf8ToHex(e.tokenName),ne.utf8ToHex(e.tokenTicker),ne.utf8ToHex(e.tokenType),ne.bigIntToHex(e.numDecimals)];return this.createTransaction({sender:e.issuer,receiver:this.config.esdtContractAddress,nonce:e.transactionNonce,value:this.config.issueCost,gasPrice:e.gasPrice,gasLimitHint:e.gasLimit,executionGasLimit:this.config.gasLimitIssue,dataParts:r})}setBurnRoleGlobally(e){let r=["setBurnRoleGlobally",ne.utf8ToHex(e.tokenIdentifier)];return this.createTransaction({sender:e.manager,receiver:this.config.esdtContractAddress,nonce:e.transactionNonce,gasPrice:e.gasPrice,gasLimitHint:e.gasLimit,executionGasLimit:this.config.gasLimitToggleBurnRoleGlobally,dataParts:r})}unsetBurnRoleGlobally(e){let r=["unsetBurnRoleGlobally",ne.utf8ToHex(e.tokenIdentifier)];return this.createTransaction({sender:e.manager,receiver:this.config.esdtContractAddress,nonce:e.transactionNonce,gasPrice:e.gasPrice,gasLimitHint:e.gasLimit,executionGasLimit:this.config.gasLimitToggleBurnRoleGlobally,dataParts:r})}setSpecialRoleOnFungible(e){let r=["setSpecialRole",ne.utf8ToHex(e.tokenIdentifier),ne.addressToHex(e.user),...e.addRoleLocalMint?[ne.utf8ToHex("ESDTRoleLocalMint")]:[],...e.addRoleLocalBurn?[ne.utf8ToHex("ESDTRoleLocalBurn")]:[]];return this.createTransaction({sender:e.manager,receiver:this.config.esdtContractAddress,nonce:e.transactionNonce,gasPrice:e.gasPrice,gasLimitHint:e.gasLimit,executionGasLimit:this.config.gasLimitSetSpecialRole,dataParts:r})}setSpecialRoleOnSemiFungible(e){let r=["setSpecialRole",ne.utf8ToHex(e.tokenIdentifier),ne.addressToHex(e.user),...e.addRoleNFTCreate?[ne.utf8ToHex("ESDTRoleNFTCreate")]:[],...e.addRoleNFTBurn?[ne.utf8ToHex("ESDTRoleNFTBurn")]:[],...e.addRoleNFTAddQuantity?[ne.utf8ToHex("ESDTRoleNFTAddQuantity")]:[],...e.addRoleESDTTransferRole?[ne.utf8ToHex("ESDTTransferRole")]:[]];return this.createTransaction({sender:e.manager,receiver:this.config.esdtContractAddress,nonce:e.transactionNonce,gasPrice:e.gasPrice,gasLimitHint:e.gasLimit,executionGasLimit:this.config.gasLimitSetSpecialRole,dataParts:r})}setSpecialRoleOnMetaESDT(e){return this.setSpecialRoleOnSemiFungible(e)}setSpecialRoleOnNonFungible(e){let r=["setSpecialRole",ne.utf8ToHex(e.tokenIdentifier),ne.addressToHex(e.user),...e.addRoleNFTCreate?[ne.utf8ToHex("ESDTRoleNFTCreate")]:[],...e.addRoleNFTBurn?[ne.utf8ToHex("ESDTRoleNFTBurn")]:[],...e.addRoleNFTUpdateAttributes?[ne.utf8ToHex("ESDTRoleNFTUpdateAttributes")]:[],...e.addRoleNFTAddURI?[ne.utf8ToHex("ESDTRoleNFTAddURI")]:[],...e.addRoleESDTTransferRole?[ne.utf8ToHex("ESDTTransferRole")]:[]];return this.createTransaction({sender:e.manager,receiver:this.config.esdtContractAddress,nonce:e.transactionNonce,gasPrice:e.gasPrice,gasLimitHint:e.gasLimit,executionGasLimit:this.config.gasLimitSetSpecialRole,dataParts:r})}nftCreate(e){let r=["ESDTNFTCreate",ne.utf8ToHex(e.tokenIdentifier),ne.bigIntToHex(e.initialQuantity),ne.utf8ToHex(e.name),ne.bigIntToHex(e.royalties),ne.utf8ToHex(e.hash),ne.bufferToHex(e.attributes),...e.uris.map(ne.utf8ToHex)],i=(e.name+e.hash+e.attributes+e.uris.join("")).length*this.config.gasLimitStorePerByte.valueOf();return this.createTransaction({sender:e.creator,receiver:e.creator,nonce:e.transactionNonce,gasPrice:e.gasPrice,gasLimitHint:e.gasLimit,executionGasLimit:this.config.gasLimitESDTNFTCreate.valueOf()+i.valueOf(),dataParts:r})}pause(e){let r=["pause",ne.utf8ToHex(e.tokenIdentifier)];return this.createTransaction({sender:e.manager,receiver:this.config.esdtContractAddress,nonce:e.transactionNonce,gasPrice:e.gasPrice,gasLimitHint:e.gasLimit,executionGasLimit:this.config.gasLimitPausing,dataParts:r})}unpause(e){let r=["unPause",ne.utf8ToHex(e.tokenIdentifier)];return this.createTransaction({sender:e.manager,receiver:this.config.esdtContractAddress,nonce:e.transactionNonce,gasPrice:e.gasPrice,gasLimitHint:e.gasLimit,executionGasLimit:this.config.gasLimitPausing,dataParts:r})}freeze(e){let r=["freeze",ne.utf8ToHex(e.tokenIdentifier),ne.addressToHex(e.user)];return this.createTransaction({sender:e.manager,receiver:this.config.esdtContractAddress,nonce:e.transactionNonce,gasPrice:e.gasPrice,gasLimitHint:e.gasLimit,executionGasLimit:this.config.gasLimitFreezing,dataParts:r})}unfreeze(e){let r=["unFreeze",ne.utf8ToHex(e.tokenIdentifier),ne.addressToHex(e.user)];return this.createTransaction({sender:e.manager,receiver:this.config.esdtContractAddress,nonce:e.transactionNonce,gasPrice:e.gasPrice,gasLimitHint:e.gasLimit,executionGasLimit:this.config.gasLimitFreezing,dataParts:r})}wipe(e){let r=["wipe",ne.utf8ToHex(e.tokenIdentifier),ne.addressToHex(e.user)];return this.createTransaction({sender:e.manager,receiver:this.config.esdtContractAddress,nonce:e.transactionNonce,gasPrice:e.gasPrice,gasLimitHint:e.gasLimit,executionGasLimit:this.config.gasLimitWiping,dataParts:r})}localMint(e){let r=["ESDTLocalMint",ne.utf8ToHex(e.tokenIdentifier),ne.bigIntToHex(e.supplyToMint)];return this.createTransaction({sender:e.manager,receiver:e.manager,nonce:e.transactionNonce,gasPrice:e.gasPrice,gasLimitHint:e.gasLimit,executionGasLimit:this.config.gasLimitESDTLocalMint,dataParts:r})}localBurn(e){let r=["ESDTLocalBurn",ne.utf8ToHex(e.tokenIdentifier),ne.bigIntToHex(e.supplyToBurn)];return this.createTransaction({sender:e.manager,receiver:e.manager,nonce:e.transactionNonce,gasPrice:e.gasPrice,gasLimitHint:e.gasLimit,executionGasLimit:this.config.gasLimitESDTLocalBurn,dataParts:r})}updateAttributes(e){let r=["ESDTNFTUpdateAttributes",ne.utf8ToHex(e.tokenIdentifier),ne.bigIntToHex(e.tokenNonce),ne.bufferToHex(e.attributes)];return this.createTransaction({sender:e.manager,receiver:e.manager,nonce:e.transactionNonce,gasPrice:e.gasPrice,gasLimitHint:e.gasLimit,executionGasLimit:this.config.gasLimitESDTNFTUpdateAttributes,dataParts:r})}addQuantity(e){let r=["ESDTNFTAddQuantity",ne.utf8ToHex(e.tokenIdentifier),ne.bigIntToHex(e.tokenNonce),ne.bigIntToHex(e.quantityToAdd)];return this.createTransaction({sender:e.manager,receiver:e.manager,nonce:e.transactionNonce,gasPrice:e.gasPrice,gasLimitHint:e.gasLimit,executionGasLimit:this.config.gasLimitESDTNFTAddQuantity,dataParts:r})}burnQuantity(e){let r=["ESDTNFTBurn",ne.utf8ToHex(e.tokenIdentifier),ne.bigIntToHex(e.tokenNonce),ne.bigIntToHex(e.quantityToBurn)];return this.createTransaction({sender:e.manager,receiver:e.manager,nonce:e.transactionNonce,gasPrice:e.gasPrice,gasLimitHint:e.gasLimit,executionGasLimit:this.config.gasLimitESDTNFTBurn,dataParts:r})}createTransaction({sender:e,receiver:r,nonce:n,value:i,gasPrice:s,gasLimitHint:o,executionGasLimit:a,dataParts:u}){let l=this.buildTransactionPayload(u),f=o||this.computeGasLimit(l,a),d=new pB.TransactionVersion(Xb.TRANSACTION_VERSION_DEFAULT),g=new pB.TransactionOptions(Xb.TRANSACTION_OPTIONS_DEFAULT);return new BZ.Transaction({chainID:this.config.chainID,sender:e,receiver:r,gasLimit:f,gasPrice:s,nonce:n||0,value:i||0,data:l,version:d,options:g})}buildTransactionPayload(e){let r=e.join(Xb.ARGUMENTS_SEPARATOR);return new LZ.TransactionPayload(r)}computeGasLimit(e,r){return this.config.minGasLimit.valueOf()+this.config.gasLimitPerByte.valueOf()*e.length()+r.valueOf()}};Gg.TokenOperationsFactory=Zb});var yB=m(kg=>{"use strict";c();Object.defineProperty(kg,"__esModule",{value:!0});kg.TokenOperationsFactoryConfig=void 0;var FZ=ht(),e_=class{constructor(e){this.minGasPrice=1e9,this.minGasLimit=5e4,this.gasLimitPerByte=1500,this.gasLimitIssue=6e7,this.gasLimitToggleBurnRoleGlobally=6e7,this.gasLimitESDTLocalMint=3e5,this.gasLimitESDTLocalBurn=3e5,this.gasLimitSetSpecialRole=6e7,this.gasLimitPausing=6e7,this.gasLimitFreezing=6e7,this.gasLimitWiping=6e7,this.gasLimitESDTNFTCreate=3e6,this.gasLimitESDTNFTUpdateAttributes=1e6,this.gasLimitESDTNFTAddQuantity=1e6,this.gasLimitESDTNFTBurn=1e6,this.gasLimitStorePerByte=5e4,this.issueCost="50000000000000000",this.esdtContractAddress=FZ.Address.fromBech32("erd1qqqqqqqqqqqqqqqpqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqzllls8a5w6u"),this.chainID=e}};kg.TokenOperationsFactoryConfig=e_});var wB=m(jg=>{"use strict";c();Object.defineProperty(jg,"__esModule",{value:!0});jg.TokenOperationsOutcomeParser=void 0;var MZ=ht(),t_=Be(),mB=Jb(),r_=class{parseIssueFungible(e){this.ensureNoError(e);let r=this.findSingleEventByIdentifier(e,"issue");return{tokenIdentifier:this.extractTokenIdentifier(r)}}parseIssueNonFungible(e){this.ensureNoError(e);let r=this.findSingleEventByIdentifier(e,"issueNonFungible");return{tokenIdentifier:this.extractTokenIdentifier(r)}}parseIssueSemiFungible(e){this.ensureNoError(e);let r=this.findSingleEventByIdentifier(e,"issueSemiFungible");return{tokenIdentifier:this.extractTokenIdentifier(r)}}parseRegisterMetaESDT(e){this.ensureNoError(e);let r=this.findSingleEventByIdentifier(e,"registerMetaESDT");return{tokenIdentifier:this.extractTokenIdentifier(r)}}parseRegisterAndSetAllRoles(e){this.ensureNoError(e);let r=this.findSingleEventByIdentifier(e,"registerAndSetAllRoles"),n=this.extractTokenIdentifier(r),s=this.findSingleEventByIdentifier(e,"ESDTSetRole").topics.slice(3).map(o=>o.valueOf().toString());return{tokenIdentifier:n,roles:s}}parseSetBurnRoleGlobally(e){return this.ensureNoError(e),{}}parseUnsetBurnRoleGlobally(e){return this.ensureNoError(e),{}}parseSetSpecialRole(e){this.ensureNoError(e);let r=this.findSingleEventByIdentifier(e,"ESDTSetRole"),n=r.address.toString(),i=this.extractTokenIdentifier(r),s=r.topics.slice(3).map(o=>o.valueOf().toString());return{userAddress:n,tokenIdentifier:i,roles:s}}parseNFTCreate(e){this.ensureNoError(e);let r=this.findSingleEventByIdentifier(e,"ESDTNFTCreate"),n=this.extractTokenIdentifier(r),i=this.extractNonce(r),s=this.extractAmount(r);return{tokenIdentifier:n,nonce:i,initialQuantity:s}}parseLocalMint(e){this.ensureNoError(e);let r=this.findSingleEventByIdentifier(e,"ESDTLocalMint"),n=r.address.toString(),i=this.extractTokenIdentifier(r),s=this.extractNonce(r),o=this.extractAmount(r);return{userAddress:n,tokenIdentifier:i,nonce:s,mintedSupply:o}}parseLocalBurn(e){this.ensureNoError(e);let r=this.findSingleEventByIdentifier(e,"ESDTLocalBurn"),n=r.address.toString(),i=this.extractTokenIdentifier(r),s=this.extractNonce(r),o=this.extractAmount(r);return{userAddress:n,tokenIdentifier:i,nonce:s,burntSupply:o}}parsePause(e){this.ensureNoError(e);let r=this.findSingleEventByIdentifier(e,"ESDTPause");return{}}parseUnpause(e){this.ensureNoError(e);let r=this.findSingleEventByIdentifier(e,"ESDTUnPause");return{}}parseFreeze(e){this.ensureNoError(e);let r=this.findSingleEventByIdentifier(e,"ESDTFreeze"),n=this.extractTokenIdentifier(r),i=this.extractNonce(r),s=this.extractAmount(r);return{userAddress:this.extractAddress(r),tokenIdentifier:n,nonce:i,balance:s}}parseUnfreeze(e){this.ensureNoError(e);let r=this.findSingleEventByIdentifier(e,"ESDTUnFreeze"),n=this.extractTokenIdentifier(r),i=this.extractNonce(r),s=this.extractAmount(r);return{userAddress:this.extractAddress(r),tokenIdentifier:n,nonce:i,balance:s}}parseWipe(e){this.ensureNoError(e);let r=this.findSingleEventByIdentifier(e,"ESDTWipe"),n=this.extractTokenIdentifier(r),i=this.extractNonce(r),s=this.extractAmount(r);return{userAddress:this.extractAddress(r),tokenIdentifier:n,nonce:i,balance:s}}parseUpdateAttributes(e){var r;this.ensureNoError(e);let n=this.findSingleEventByIdentifier(e,"ESDTNFTUpdateAttributes"),i=this.extractTokenIdentifier(n),s=this.extractNonce(n),o=(r=n.topics[3])===null||r===void 0?void 0:r.valueOf();return{tokenIdentifier:i,nonce:s,attributes:o}}parseAddQuantity(e){this.ensureNoError(e);let r=this.findSingleEventByIdentifier(e,"ESDTNFTAddQuantity"),n=this.extractTokenIdentifier(r),i=this.extractNonce(r),s=this.extractAmount(r);return{tokenIdentifier:n,nonce:i,addedQuantity:s}}parseBurnQuantity(e){this.ensureNoError(e);let r=this.findSingleEventByIdentifier(e,"ESDTNFTBurn"),n=this.extractTokenIdentifier(r),i=this.extractNonce(r),s=this.extractAmount(r);return{tokenIdentifier:n,nonce:i,burntQuantity:s}}ensureNoError(e){var r;for(let n of e.logs.events)if(n.identifier=="signalError"){let i=h.Buffer.from(n.data.substring(1),"hex").toString(),s=(r=n.topics[1])===null||r===void 0?void 0:r.valueOf().toString();throw new t_.ErrCannotParseTransactionOutcome(e.hash,`encountered signalError: ${s} (${i})`)}}findSingleEventByIdentifier(e,r){let n=this.gatherAllEvents(e).filter(i=>i.identifier==r);if(n.length==0)throw new t_.ErrCannotParseTransactionOutcome(e.hash,`cannot find event of type ${r}`);if(n.length>1)throw new t_.ErrCannotParseTransactionOutcome(e.hash,`more than one event of type ${r}`);return n[0]}gatherAllEvents(e){let r=[];r.push(...e.logs.events);for(let n of e.contractResults.items)r.push(...n.logs.events);return r}extractTokenIdentifier(e){var r;return(r=e.topics[0])===null||r===void 0?void 0:r.valueOf().toString()}extractNonce(e){var r;return mB.bufferToBigInt((r=e.topics[1])===null||r===void 0?void 0:r.valueOf()).toFixed(0)}extractAmount(e){var r;return mB.bufferToBigInt((r=e.topics[2])===null||r===void 0?void 0:r.valueOf()).toFixed(0)}extractAddress(e){var r;return MZ.Address.fromBuffer((r=e.topics[3])===null||r===void 0?void 0:r.valueOf()).toString()}};jg.TokenOperationsOutcomeParser=r_});var EB=m(ci=>{"use strict";c();var UZ=ci&&ci.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),n_=ci&&ci.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&UZ(e,t,r)};Object.defineProperty(ci,"__esModule",{value:!0});n_(gB(),ci);n_(yB(),ci);n_(wB(),ci)});var vB=m(Ze=>{"use strict";c();var qZ=Ze&&Ze.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Ct=Ze&&Ze.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&qZ(e,t,r)};Object.defineProperty(Ze,"__esModule",{value:!0});Q8();Ct(ra(),Ze);Ct(ht(),Ze);Ct(sE(),Ze);Ct(Be(),Ze);Ct(tE(),Ze);Ct($8(),Ze);Ct(K8(),Ze);Ct(na(),Ze);Ct(cc(),Ze);Ct(Y8(),Ze);Ct(lB(),Ze);Ct(fB(),Ze);Ct($b(),Ze);Ct(EB(),Ze);Ct(Em(),Ze);Ct(wn(),Ze);Ct(jn(),Ze);Ct(ed(),Ze);Ct(Zw(),Ze);Ct(wr(),Ze)});var TB=m(xt=>{"use strict";c();var VZ=xt&&xt.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(f){try{l(n.next(f))}catch(d){o(d)}}function u(f){try{l(n.throw(f))}catch(d){o(d)}}function l(f){f.done?s(f.value):i(f.value).then(a,u)}l((n=n.apply(t,e||[])).next())})};Object.defineProperty(xt,"__esModule",{value:!0});xt.sleep=xt.getMetadata=xt.applyTransactionSignature=xt.getAddressFromSession=xt.addressIsValid=xt.getConnectionParams=xt.getCurrentTopic=xt.getCurrentSession=void 0;var _B=vB(),AB=jh(),HZ=cl(),Qg=Db(),li=Bb(),i_=Fb(),bB=Bg();function IB(t,e){if(!e)throw new Error(li.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);let r=e.find(SB(t)).filter(n=>n.acknowledged);if(r.length>0){let n=r.length-1;return r[n]}if(e.session.length>0){let n=e.session.keys.length-1;return e.session.get(e.session.keys[n])}throw i_.Logger.error(li.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected),new Error(li.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected)}xt.getCurrentSession=IB;function GZ(t,e){if(!e)throw new Error(li.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);let r=IB(t,e);if(!r?.topic)throw new Error(li.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected);return r.topic}xt.getCurrentTopic=GZ;function SB(t,e){var r,n,i;let s=[...Qg.WALLETCONNECT_MULTIVERSX_METHODS,...(r=e?.methods)!==null&&r!==void 0?r:[]];!((n=e?.methods)===null||n===void 0)&&n.includes(bB.OptionalOperation.SIGN_LOGIN_TOKEN)||s.push(bB.OptionalOperation.SIGN_LOGIN_TOKEN);let o=[`${Qg.WALLETCONNECT_MULTIVERSX_NAMESPACE}:${t}`],a=(i=e?.events)!==null&&i!==void 0?i:[];return{requiredNamespaces:{[Qg.WALLETCONNECT_MULTIVERSX_NAMESPACE]:{methods:s,chains:o,events:a}}}}xt.getConnectionParams=SB;function kZ(t){try{return!_B.Address.fromBech32(t).isEmpty()}catch{return!1}}xt.addressIsValid=kZ;function jZ(t){let e=t.namespaces[Qg.WALLETCONNECT_MULTIVERSX_NAMESPACE];if(e&&e.accounts){let r=e.accounts[0],[n,i,s]=r.split(":");return s}return""}xt.getAddressFromSession=jZ;function QZ({transaction:t,response:e}){if(!e)throw i_.Logger.error(li.WalletConnectV2ProviderErrorMessagesEnum.invalidTransactionResponse),new Error(li.WalletConnectV2ProviderErrorMessagesEnum.invalidTransactionResponse);let{signature:r,guardianSignature:n,version:i,options:s,guardian:o}=e,a=t.getGuardian().bech32();if(a&&a!==o)throw i_.Logger.error(li.WalletConnectV2ProviderErrorMessagesEnum.invalidGuardian),new Error(li.WalletConnectV2ProviderErrorMessagesEnum.invalidGuardian);return o&&t.setGuardian(_B.Address.fromBech32(o)),i&&t.setVersion(i),s!=null&&t.setOptions(s),t.applySignature(new AB.Signature(r)),n&&t.applyGuardianSignature(new AB.Signature(n)),t}xt.applyTransactionSignature=QZ;function WZ(t){if(t)return Object.assign(Object.assign({},t),{url:HZ.getAppMetadata().url})}xt.getMetadata=WZ;function $Z(t){return VZ(this,void 0,void 0,function*(){return yield new Promise(e=>setTimeout(()=>{e()},t))})}xt.sleep=$Z});var Cl=m(yr=>{"use strict";c();var bt=yr&&yr.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(f){try{l(n.next(f))}catch(d){o(d)}}function u(f){try{l(n.throw(f))}catch(d){o(d)}}function l(f){f.done?s(f.value):i(f.value).then(a,u)}l((n=n.apply(t,e||[])).next())})},zZ=yr&&yr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(yr,"__esModule",{value:!0});yr.WalletConnectV2Provider=yr.OptionalOperation=yr.Operation=yr.WalletConnectV2ProviderErrorMessagesEnum=void 0;var KZ=jh(),YZ=zZ(k8()),s_=cl(),oo=Db(),ye=Bb();Object.defineProperty(yr,"WalletConnectV2ProviderErrorMessagesEnum",{enumerable:!0,get:function(){return ye.WalletConnectV2ProviderErrorMessagesEnum}});var Le=Fb(),Zi=Bg();Object.defineProperty(yr,"Operation",{enumerable:!0,get:function(){return Zi.Operation}});Object.defineProperty(yr,"OptionalOperation",{enumerable:!0,get:function(){return Zi.OptionalOperation}});var jt=TB(),o_=class{constructor(e,r,n,i,s){this.chainId="",this.address="",this.signature="",this.isInitializing=!1,this.processingTopic="",this.options={},this.onClientConnect=e,this.chainId=r,this.walletConnectV2Relay=n,this.walletConnectV2ProjectId=i,this.options=s}reset(){this.address="",this.signature="",this.walletConnector=void 0,this.session=void 0,this.pairings=void 0}init(){var e,r;return bt(this,void 0,void 0,function*(){if(this.isInitialized())return this.isInitialized();try{if(!this.isInitializing){this.isInitializing=!0,this.reset();let n=!((e=this.options)===null||e===void 0)&&e.metadata?{metadata:jt.getMetadata((r=this.options)===null||r===void 0?void 0:r.metadata)}:{},i=yield YZ.default.init(Object.assign(Object.assign(Object.assign({},this.options),{relayUrl:this.walletConnectV2Relay,projectId:this.walletConnectV2ProjectId}),n));this.walletConnector=i,this.isInitializing=!1,yield this.subscribeToEvents(i),yield this.checkPersistedState(i)}}catch{throw new Error(ye.WalletConnectV2ProviderErrorMessagesEnum.unableToInit)}finally{return this.isInitializing=!1,this.isInitialized()}})}isInitialized(){return!!this.walletConnector&&!this.isInitializing}isConnected(){return new Promise((e,r)=>e(!!(this.isInitialized()&&typeof this.session<"u")))}connect(e){return bt(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw new Error(ye.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);let r=jt.getConnectionParams(this.chainId,e);try{return yield this.walletConnector.connect(Object.assign({pairingTopic:e?.topic},r))}catch{throw this.reset(),Le.Logger.error(e?.topic?ye.WalletConnectV2ProviderErrorMessagesEnum.unableToConnectExisting:ye.WalletConnectV2ProviderErrorMessagesEnum.unableToConnect),new Error(e?.topic?ye.WalletConnectV2ProviderErrorMessagesEnum.unableToConnectExisting:ye.WalletConnectV2ProviderErrorMessagesEnum.unableToConnect)}})}login(e){var r;return bt(this,void 0,void 0,function*(){if(this.isInitializing=!0,typeof this.walletConnector>"u"&&(yield this.connect()),typeof this.walletConnector>"u")throw new Error(ye.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);typeof this.session<"u"&&(yield this.logout({topic:(r=this.session)===null||r===void 0?void 0:r.topic}));try{if(e&&e.approval){let n=yield e.approval();if(e.token){yield jt.sleep(oo.WALLETCONNECT_SIGN_LOGIN_DELAY);let i=jt.getAddressFromSession(n),o=n.namespaces[oo.WALLETCONNECT_MULTIVERSX_NAMESPACE].methods.includes(Zi.OptionalOperation.SIGN_NATIVE_AUTH_TOKEN)?Zi.OptionalOperation.SIGN_NATIVE_AUTH_TOKEN:Zi.OptionalOperation.SIGN_LOGIN_TOKEN,{signature:a}=yield this.walletConnector.request({chainId:`${oo.WALLETCONNECT_MULTIVERSX_NAMESPACE}:${this.chainId}`,topic:n.topic,request:{method:o,params:{token:e.token,address:i}}});if(!a)throw Le.Logger.error(ye.WalletConnectV2ProviderErrorMessagesEnum.unableToSignLoginToken),new Error(ye.WalletConnectV2ProviderErrorMessagesEnum.unableToSignLoginToken);return yield this.onSessionConnected({session:n,signature:a})}return yield this.onSessionConnected({session:n,signature:""})}}catch{throw this.reset(),Le.Logger.error(ye.WalletConnectV2ProviderErrorMessagesEnum.unableToLogin),new Error(ye.WalletConnectV2ProviderErrorMessagesEnum.unableToLogin)}finally{this.isInitializing=!1}return""})}logout(e){return bt(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw Le.Logger.error(ye.WalletConnectV2ProviderErrorMessagesEnum.notInitialized),new Error(ye.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);try{if(this.processingTopic===(e?.topic||jt.getCurrentTopic(this.chainId,this.walletConnector)))return!0;if(e?.topic)this.processingTopic=e.topic,yield this.walletConnector.disconnect({topic:e.topic,reason:s_.getSdkError("USER_DISCONNECTED")});else{let r=jt.getCurrentTopic(this.chainId,this.walletConnector);this.processingTopic=r,yield this.walletConnector.disconnect({topic:r,reason:s_.getSdkError("USER_DISCONNECTED")}),this.reset(),yield this.cleanupPendingPairings({deletePairings:!0})}}catch{Le.Logger.error(ye.WalletConnectV2ProviderErrorMessagesEnum.alreadyLoggedOut)}finally{this.processingTopic=""}return!0})}getAddress(){return bt(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw Le.Logger.error(ye.WalletConnectV2ProviderErrorMessagesEnum.notInitialized),new Error(ye.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);return this.address})}getSignature(){return bt(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw Le.Logger.error(ye.WalletConnectV2ProviderErrorMessagesEnum.notInitialized),new Error(ye.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);return this.signature})}getPairings(){var e,r,n,i,s;return bt(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw Le.Logger.error(ye.WalletConnectV2ProviderErrorMessagesEnum.notInitialized),new Error(ye.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);return(s=(i=(n=(r=(e=this.walletConnector)===null||e===void 0?void 0:e.core)===null||r===void 0?void 0:r.pairing)===null||n===void 0?void 0:n.pairings)===null||i===void 0?void 0:i.getAll({active:!0}))!==null&&s!==void 0?s:[]})}signMessage(e){return bt(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw Le.Logger.error(ye.WalletConnectV2ProviderErrorMessagesEnum.notInitialized),new Error(ye.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);if(typeof this.session>"u")throw Le.Logger.error(ye.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected),this.onClientConnect.onClientLogout(),new Error(ye.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected);try{let r=yield this.getAddress(),{signature:n}=yield this.walletConnector.request({chainId:`${oo.WALLETCONNECT_MULTIVERSX_NAMESPACE}:${this.chainId}`,topic:jt.getCurrentTopic(this.chainId,this.walletConnector),request:{method:Zi.Operation.SIGN_MESSAGE,params:{address:r,message:e.message.toString()}}});if(!n)throw Le.Logger.error(ye.WalletConnectV2ProviderErrorMessagesEnum.invalidMessageResponse),new Error(ye.WalletConnectV2ProviderErrorMessagesEnum.invalidMessageResponse);try{e.applySignature(new KZ.Signature(n))}catch{throw Le.Logger.error(ye.WalletConnectV2ProviderErrorMessagesEnum.invalidMessageSignature),new Error(ye.WalletConnectV2ProviderErrorMessagesEnum.invalidMessageSignature)}}catch{throw new Error(ye.WalletConnectV2ProviderErrorMessagesEnum.unableToSign)}return e})}signTransaction(e){return bt(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw Le.Logger.error(ye.WalletConnectV2ProviderErrorMessagesEnum.notInitialized),new Error(ye.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);if(typeof this.session>"u")throw Le.Logger.error(ye.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected),this.onClientConnect.onClientLogout(),new Error(ye.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected);let r=e.toPlainObject();if(this.chainId!==e.getChainID().valueOf())throw Le.Logger.error(ye.WalletConnectV2ProviderErrorMessagesEnum.requestDifferentChain),new Error(ye.WalletConnectV2ProviderErrorMessagesEnum.requestDifferentChain);try{let n=yield this.walletConnector.request({chainId:`${oo.WALLETCONNECT_MULTIVERSX_NAMESPACE}:${this.chainId}`,topic:jt.getCurrentTopic(this.chainId,this.walletConnector),request:{method:Zi.Operation.SIGN_TRANSACTION,params:{transaction:r}}});return jt.applyTransactionSignature({transaction:e,response:n})}catch{throw new Error(ye.WalletConnectV2ProviderErrorMessagesEnum.transactionError)}})}signTransactions(e){return bt(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw Le.Logger.error(ye.WalletConnectV2ProviderErrorMessagesEnum.notInitialized),new Error(ye.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);if(typeof this.session>"u")throw Le.Logger.error(ye.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected),this.onClientConnect.onClientLogout(),new Error(ye.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected);let r=e.map(n=>{if(this.chainId!==n.getChainID().valueOf())throw Le.Logger.error(ye.WalletConnectV2ProviderErrorMessagesEnum.requestDifferentChain),new Error(ye.WalletConnectV2ProviderErrorMessagesEnum.requestDifferentChain);return n.toPlainObject()});try{let{signatures:n}=yield this.walletConnector.request({chainId:`${oo.WALLETCONNECT_MULTIVERSX_NAMESPACE}:${this.chainId}`,topic:jt.getCurrentTopic(this.chainId,this.walletConnector),request:{method:Zi.Operation.SIGN_TRANSACTIONS,params:{transactions:r}}});if(!n)throw Le.Logger.error(ye.WalletConnectV2ProviderErrorMessagesEnum.invalidTransactionResponse),new Error(ye.WalletConnectV2ProviderErrorMessagesEnum.invalidTransactionResponse);if(!Array.isArray(n)||e.length!==n.length)throw new Error(ye.WalletConnectV2ProviderErrorMessagesEnum.invalidTransactionResponse);for(let[i,s]of e.entries()){let o=n[i];jt.applyTransactionSignature({transaction:s,response:o})}return e}catch{throw new Error(ye.WalletConnectV2ProviderErrorMessagesEnum.transactionError)}})}sendCustomRequest(e){var r;return bt(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw Le.Logger.error(ye.WalletConnectV2ProviderErrorMessagesEnum.notInitialized),new Error(ye.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);if(typeof this.session>"u")throw Le.Logger.error(ye.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected),this.onClientConnect.onClientLogout(),new Error(ye.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected);if(!((r=e?.request)===null||r===void 0)&&r.method){try{let n=Object.assign({},e.request),{method:i}=n,{response:s}=yield this.walletConnector.request({chainId:`${oo.WALLETCONNECT_MULTIVERSX_NAMESPACE}:${this.chainId}`,topic:jt.getCurrentTopic(this.chainId,this.walletConnector),request:Object.assign(Object.assign({},n),{method:i})});s||Le.Logger.error(ye.WalletConnectV2ProviderErrorMessagesEnum.invalidCustomRequestResponse)}catch{Le.Logger.error(ye.WalletConnectV2ProviderErrorMessagesEnum.invalidCustomRequestResponse)}return}})}ping(){return bt(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw Le.Logger.error(ye.WalletConnectV2ProviderErrorMessagesEnum.notInitialized),new Error(ye.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);typeof this.session>"u"&&Le.Logger.error(ye.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected);try{let e=jt.getCurrentTopic(this.chainId,this.walletConnector);return yield this.walletConnector.ping({topic:e}),!0}catch{return Le.Logger.error(ye.WalletConnectV2ProviderErrorMessagesEnum.pingFailed),!1}})}loginAccount(e){return bt(this,void 0,void 0,function*(){return e?jt.addressIsValid(e.address)?(this.address=e.address,e.signature&&(this.signature=e.signature),this.onClientConnect.onClientLogin(),this.address):(Le.Logger.error(`${ye.WalletConnectV2ProviderErrorMessagesEnum.invalidAddress} ${e.address}`),this.walletConnector&&(yield this.logout()),""):""})}onSessionConnected(e){return bt(this,void 0,void 0,function*(){if(!e)return"";this.session=e.session;let r=jt.getAddressFromSession(e.session);return r?(yield this.loginAccount({address:r,signature:e.signature}),r):""})}handleTopicUpdateEvent({topic:e}){return bt(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u"){Le.Logger.error(ye.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);return}try{let r=yield this.getPairings();if(this.address&&!this.isInitializing&&r)if(r?.length===0)this.onClientConnect.onClientLogout();else{let n=r[r.length-1];n?.topic===e&&this.onClientConnect.onClientLogout()}}catch{Le.Logger.error(ye.WalletConnectV2ProviderErrorMessagesEnum.unableToHandleTopic)}finally{this.pairings=yield this.getPairings()}})}handleSessionEvents({topic:e,params:r}){var n;return bt(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw new Error(ye.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);if(this.session&&((n=this.session)===null||n===void 0?void 0:n.topic)!==e)return;let{event:i}=r;if(i?.name&&jt.getCurrentTopic(this.chainId,this.walletConnector)===e){let s=i.data;this.onClientConnect.onClientEvent(s)}})}subscribeToEvents(e){var r,n,i,s;return bt(this,void 0,void 0,function*(){if(typeof e>"u")throw new Error(ye.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);try{e.on("session_update",({topic:o,params:a})=>{var u;if(!this.session||((u=this.session)===null||u===void 0?void 0:u.topic)!==o)return;let{namespaces:l}=a,f=e.session.get(o),d=Object.assign(Object.assign({},f),{namespaces:l});this.onSessionConnected({session:d})}),e.on("session_event",this.handleSessionEvents.bind(this)),e.on("session_delete",({topic:o})=>bt(this,void 0,void 0,function*(){var a;this.isInitializing&&(this.onClientConnect.onClientLogout(),this.reset()),!(!this.session||((a=this.session)===null||a===void 0?void 0:a.topic)!==o)&&(Le.Logger.error(ye.WalletConnectV2ProviderErrorMessagesEnum.sessionDeleted),this.onClientConnect.onClientLogout(),this.reset(),yield this.cleanupPendingPairings({deletePairings:!0}))})),e.on("session_expire",({topic:o})=>bt(this,void 0,void 0,function*(){var a;!this.session||((a=this.session)===null||a===void 0?void 0:a.topic)!==o||(Le.Logger.error(ye.WalletConnectV2ProviderErrorMessagesEnum.sessionExpired),this.onClientConnect.onClientLogout(),this.reset(),yield this.cleanupPendingPairings({deletePairings:!0}))})),(n=(r=e.core)===null||r===void 0?void 0:r.pairing)===null||n===void 0||n.events.on("pairing_delete",this.handleTopicUpdateEvent.bind(this)),(s=(i=e.core)===null||i===void 0?void 0:i.pairing)===null||s===void 0||s.events.on("pairing_expire",this.handleTopicUpdateEvent.bind(this))}catch{Le.Logger.error(ye.WalletConnectV2ProviderErrorMessagesEnum.unableToHandleEvent)}})}checkPersistedState(e){return bt(this,void 0,void 0,function*(){if(typeof e>"u")throw new Error(ye.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);if(this.pairings=yield this.getPairings(),!(typeof this.session<"u")&&e.session.length&&!this.address&&!this.isInitializing){let r=jt.getCurrentSession(this.chainId,e);if(r)return yield this.onSessionConnected({session:r}),r}})}cleanupPendingPairings(e={}){var r,n,i,s,o,a,u,l;return bt(this,void 0,void 0,function*(){if(!(typeof this.walletConnector>"u"))try{let f=(i=(n=(r=this.walletConnector.core)===null||r===void 0?void 0:r.pairing)===null||n===void 0?void 0:n.pairings)===null||i===void 0?void 0:i.getAll({active:!1});if(!s_.isValidArray(f))return;for(let d of f)if(e.deletePairings)(o=(s=this.walletConnector.core)===null||s===void 0?void 0:s.expirer)===null||o===void 0||o.set(d.topic,0);else try{yield(l=(u=(a=this.walletConnector.core)===null||a===void 0?void 0:a.relayer)===null||u===void 0?void 0:u.subscriber)===null||l===void 0?void 0:l.unsubscribe(d.topic)}catch{Le.Logger.error(ye.WalletConnectV2ProviderErrorMessagesEnum.unableToHandleCleanup)}}catch{Le.Logger.error(ye.WalletConnectV2ProviderErrorMessagesEnum.unableToHandleCleanup)}})}};yr.WalletConnectV2Provider=o_});var xB=m((Fye,CB)=>{"use strict";c();CB.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0}});var DB=m((Uye,OB)=>{"use strict";c();var NB=typeof Symbol<"u"&&Symbol,JZ=xB();OB.exports=function(){return typeof NB!="function"||typeof Symbol!="function"||typeof NB("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:JZ()}});var BB=m((Vye,RB)=>{"use strict";c();var PB={foo:{}},XZ=Object;RB.exports=function(){return{__proto__:PB}.foo===PB.foo&&!({__proto__:null}instanceof XZ)}});var MB=m((Gye,FB)=>{"use strict";c();var ZZ="Function.prototype.bind called on incompatible ",eee=Object.prototype.toString,tee=Math.max,ree="[object Function]",LB=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var s=0;s<r.length;s+=1)n[s+e.length]=r[s];return n},nee=function(e,r){for(var n=[],i=r||0,s=0;i<e.length;i+=1,s+=1)n[s]=e[i];return n},iee=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r};FB.exports=function(e){var r=this;if(typeof r!="function"||eee.apply(r)!==ree)throw new TypeError(ZZ+r);for(var n=nee(arguments,1),i,s=function(){if(this instanceof i){var f=r.apply(this,LB(n,arguments));return Object(f)===f?f:this}return r.apply(e,LB(n,arguments))},o=tee(0,r.length-n.length),a=[],u=0;u<o;u++)a[u]="$"+u;if(i=Function("binder","return function ("+iee(a,",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var l=function(){};l.prototype=r.prototype,i.prototype=new l,l.prototype=null}return i}});var Wg=m((jye,UB)=>{"use strict";c();var see=MB();UB.exports=Function.prototype.bind||see});var VB=m((Wye,qB)=>{"use strict";c();var oee=Function.prototype.call,aee=Object.prototype.hasOwnProperty,uee=Wg();qB.exports=uee.call(oee,aee)});var es=m((zye,QB)=>{"use strict";c();var Pe,iu=SyntaxError,jB=Function,nu=TypeError,a_=function(t){try{return jB('"use strict"; return ('+t+").constructor;")()}catch{}},ao=Object.getOwnPropertyDescriptor;if(ao)try{ao({},"")}catch{ao=null}var u_=function(){throw new nu},cee=ao?function(){try{return arguments.callee,u_}catch{try{return ao(arguments,"callee").get}catch{return u_}}}():u_,tu=DB()(),lee=BB()(),Mt=Object.getPrototypeOf||(lee?function(t){return t.__proto__}:null),ru={},fee=typeof Uint8Array>"u"||!Mt?Pe:Mt(Uint8Array),uo={"%AggregateError%":typeof AggregateError>"u"?Pe:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Pe:ArrayBuffer,"%ArrayIteratorPrototype%":tu&&Mt?Mt([][Symbol.iterator]()):Pe,"%AsyncFromSyncIteratorPrototype%":Pe,"%AsyncFunction%":ru,"%AsyncGenerator%":ru,"%AsyncGeneratorFunction%":ru,"%AsyncIteratorPrototype%":ru,"%Atomics%":typeof Atomics>"u"?Pe:Atomics,"%BigInt%":typeof BigInt>"u"?Pe:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Pe:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Pe:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Pe:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?Pe:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Pe:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Pe:FinalizationRegistry,"%Function%":jB,"%GeneratorFunction%":ru,"%Int8Array%":typeof Int8Array>"u"?Pe:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Pe:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Pe:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":tu&&Mt?Mt(Mt([][Symbol.iterator]())):Pe,"%JSON%":typeof JSON=="object"?JSON:Pe,"%Map%":typeof Map>"u"?Pe:Map,"%MapIteratorPrototype%":typeof Map>"u"||!tu||!Mt?Pe:Mt(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Pe:Promise,"%Proxy%":typeof Proxy>"u"?Pe:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?Pe:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Pe:Set,"%SetIteratorPrototype%":typeof Set>"u"||!tu||!Mt?Pe:Mt(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Pe:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":tu&&Mt?Mt(""[Symbol.iterator]()):Pe,"%Symbol%":tu?Symbol:Pe,"%SyntaxError%":iu,"%ThrowTypeError%":cee,"%TypedArray%":fee,"%TypeError%":nu,"%Uint8Array%":typeof Uint8Array>"u"?Pe:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Pe:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Pe:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Pe:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?Pe:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Pe:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Pe:WeakSet};if(Mt)try{null.error}catch(t){HB=Mt(Mt(t)),uo["%Error.prototype%"]=HB}var HB,hee=function t(e){var r;if(e==="%AsyncFunction%")r=a_("async function () {}");else if(e==="%GeneratorFunction%")r=a_("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=a_("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&Mt&&(r=Mt(i.prototype))}return uo[e]=r,r},GB={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},xl=Wg(),$g=VB(),dee=xl.call(Function.call,Array.prototype.concat),pee=xl.call(Function.apply,Array.prototype.splice),kB=xl.call(Function.call,String.prototype.replace),zg=xl.call(Function.call,String.prototype.slice),gee=xl.call(Function.call,RegExp.prototype.exec),yee=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,mee=/\\(\\)?/g,wee=function(e){var r=zg(e,0,1),n=zg(e,-1);if(r==="%"&&n!=="%")throw new iu("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new iu("invalid intrinsic syntax, expected opening `%`");var i=[];return kB(e,yee,function(s,o,a,u){i[i.length]=a?kB(u,mee,"$1"):o||s}),i},Eee=function(e,r){var n=e,i;if($g(GB,n)&&(i=GB[n],n="%"+i[0]+"%"),$g(uo,n)){var s=uo[n];if(s===ru&&(s=hee(n)),typeof s>"u"&&!r)throw new nu("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new iu("intrinsic "+e+" does not exist!")};QB.exports=function(e,r){if(typeof e!="string"||e.length===0)throw new nu("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new nu('"allowMissing" argument must be a boolean');if(gee(/^%?[^%]*%?$/,e)===null)throw new iu("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=wee(e),i=n.length>0?n[0]:"",s=Eee("%"+i+"%",r),o=s.name,a=s.value,u=!1,l=s.alias;l&&(i=l[0],pee(n,dee([0,1],l)));for(var f=1,d=!0;f<n.length;f+=1){var g=n[f],w=zg(g,0,1),E=zg(g,-1);if((w==='"'||w==="'"||w==="`"||E==='"'||E==="'"||E==="`")&&w!==E)throw new iu("property names with quotes must have matching quotes");if((g==="constructor"||!d)&&(u=!0),i+="."+g,o="%"+i+"%",$g(uo,o))a=uo[o];else if(a!=null){if(!(g in a)){if(!r)throw new nu("base intrinsic for "+e+" exists, but the property is not available.");return}if(ao&&f+1>=n.length){var T=ao(a,g);d=!!T,d&&"get"in T&&!("originalValue"in T.get)?a=T.get:a=a[g]}else d=$g(a,g),a=a[g];d&&!u&&(uo[o]=a)}}return a}});var f_=m((Yye,WB)=>{"use strict";c();var vee=es(),c_=vee("%Object.defineProperty%",!0),l_=function(){if(c_)try{return c_({},"a",{value:1}),!0}catch{return!1}return!1};l_.hasArrayLengthDefineBug=function(){if(!l_())return null;try{return c_([],"length",{value:1}).length!==1}catch{return!0}};WB.exports=l_});var h_=m((Xye,$B)=>{"use strict";c();var Aee=es(),Kg=Aee("%Object.getOwnPropertyDescriptor%",!0);if(Kg)try{Kg([],"length")}catch{Kg=null}$B.exports=Kg});var YB=m((e0e,KB)=>{"use strict";c();var bee=f_()(),d_=es(),Nl=bee&&d_("%Object.defineProperty%",!0);if(Nl)try{Nl({},"a",{value:1})}catch{Nl=!1}var _ee=d_("%SyntaxError%"),su=d_("%TypeError%"),zB=h_();KB.exports=function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new su("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new su("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new su("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new su("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new su("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new su("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,s=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,a=arguments.length>6?arguments[6]:!1,u=!!zB&&zB(e,r);if(Nl)Nl(e,r,{configurable:o===null&&u?u.configurable:!o,enumerable:i===null&&u?u.enumerable:!i,value:n,writable:s===null&&u?u.writable:!s});else if(a||!i&&!s&&!o)e[r]=n;else throw new _ee("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")}});var rL=m((r0e,tL)=>{"use strict";c();var eL=es(),JB=YB(),Iee=f_()(),XB=h_(),ZB=eL("%TypeError%"),See=eL("%Math.floor%");tL.exports=function(e,r){if(typeof e!="function")throw new ZB("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||See(r)!==r)throw new ZB("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,s=!0;if("length"in e&&XB){var o=XB(e,"length");o&&!o.configurable&&(i=!1),o&&!o.writable&&(s=!1)}return(i||s||!n)&&(Iee?JB(e,"length",r,!0,!0):JB(e,"length",r)),e}});var aL=m((i0e,Yg)=>{"use strict";c();var p_=Wg(),ou=es(),Tee=rL(),Cee=ou("%TypeError%"),iL=ou("%Function.prototype.apply%"),sL=ou("%Function.prototype.call%"),oL=ou("%Reflect.apply%",!0)||p_.call(sL,iL),Ol=ou("%Object.defineProperty%",!0),xee=ou("%Math.max%");if(Ol)try{Ol({},"a",{value:1})}catch{Ol=null}Yg.exports=function(e){if(typeof e!="function")throw new Cee("a function is required");var r=oL(p_,sL,arguments);return Tee(r,1+xee(0,e.length-(arguments.length-1)),!0)};var nL=function(){return oL(p_,iL,arguments)};Ol?Ol(Yg.exports,"apply",{value:nL}):Yg.exports.apply=nL});var fL=m((o0e,lL)=>{"use strict";c();var uL=es(),cL=aL(),Nee=cL(uL("String.prototype.indexOf"));lL.exports=function(e,r){var n=uL(e,!!r);return typeof n=="function"&&Nee(e,".prototype.")>-1?cL(n):n}});var hL=m(()=>{c()});var PL=m((f0e,DL)=>{c();var I_=typeof Map=="function"&&Map.prototype,g_=Object.getOwnPropertyDescriptor&&I_?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Xg=I_&&g_&&typeof g_.get=="function"?g_.get:null,dL=I_&&Map.prototype.forEach,S_=typeof Set=="function"&&Set.prototype,y_=Object.getOwnPropertyDescriptor&&S_?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Zg=S_&&y_&&typeof y_.get=="function"?y_.get:null,pL=S_&&Set.prototype.forEach,Oee=typeof WeakMap=="function"&&WeakMap.prototype,Pl=Oee?WeakMap.prototype.has:null,Dee=typeof WeakSet=="function"&&WeakSet.prototype,Rl=Dee?WeakSet.prototype.has:null,Pee=typeof WeakRef=="function"&&WeakRef.prototype,gL=Pee?WeakRef.prototype.deref:null,Ree=Boolean.prototype.valueOf,Bee=Object.prototype.toString,Lee=Function.prototype.toString,Fee=String.prototype.match,T_=String.prototype.slice,rs=String.prototype.replace,Mee=String.prototype.toUpperCase,yL=String.prototype.toLowerCase,SL=RegExp.prototype.test,mL=Array.prototype.concat,Rn=Array.prototype.join,Uee=Array.prototype.slice,wL=Math.floor,E_=typeof BigInt=="function"?BigInt.prototype.valueOf:null,m_=Object.getOwnPropertySymbols,v_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,au=typeof Symbol=="function"&&typeof Symbol.iterator=="object",er=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===au||"symbol")?Symbol.toStringTag:null,TL=Object.prototype.propertyIsEnumerable,EL=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function vL(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||SL.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-wL(-t):wL(t);if(n!==t){var i=String(n),s=T_.call(e,i.length+1);return rs.call(i,r,"$&_")+"."+rs.call(rs.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return rs.call(e,r,"$&_")}var A_=hL(),AL=A_.custom,bL=xL(AL)?AL:null;DL.exports=function t(e,r,n,i){var s=r||{};if(ts(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(ts(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=ts(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(ts(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(ts(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return OL(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var u=String(e);return a?vL(e,u):u}if(typeof e=="bigint"){var l=String(e)+"n";return a?vL(e,l):l}var f=typeof s.depth>"u"?5:s.depth;if(typeof n>"u"&&(n=0),n>=f&&f>0&&typeof e=="object")return b_(e)?"[Array]":"[Object]";var d=rte(s,n);if(typeof i>"u")i=[];else if(NL(i,e)>=0)return"[Circular]";function g(k,K,pe){if(K&&(i=Uee.call(i),i.push(K)),pe){var ue={depth:s.depth};return ts(s,"quoteStyle")&&(ue.quoteStyle=s.quoteStyle),t(k,ue,n+1,i)}return t(k,s,n+1,i)}if(typeof e=="function"&&!_L(e)){var w=$ee(e),E=Jg(e,g);return"[Function"+(w?": "+w:" (anonymous)")+"]"+(E.length>0?" { "+Rn.call(E,", ")+" }":"")}if(xL(e)){var T=au?rs.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):v_.call(e);return typeof e=="object"&&!au?Dl(T):T}if(Zee(e)){for(var D="<"+yL.call(String(e.nodeName)),B=e.attributes||[],W=0;W<B.length;W++)D+=" "+B[W].name+"="+CL(qee(B[W].value),"double",s);return D+=">",e.childNodes&&e.childNodes.length&&(D+="..."),D+="</"+yL.call(String(e.nodeName))+">",D}if(b_(e)){if(e.length===0)return"[]";var U=Jg(e,g);return d&&!tte(U)?"["+__(U,d)+"]":"[ "+Rn.call(U,", ")+" ]"}if(Hee(e)){var A=Jg(e,g);return!("cause"in Error.prototype)&&"cause"in e&&!TL.call(e,"cause")?"{ ["+String(e)+"] "+Rn.call(mL.call("[cause]: "+g(e.cause),A),", ")+" }":A.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+Rn.call(A,", ")+" }"}if(typeof e=="object"&&o){if(bL&&typeof e[bL]=="function"&&A_)return A_(e,{depth:f-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(zee(e)){var I=[];return dL&&dL.call(e,function(k,K){I.push(g(K,e,!0)+" => "+g(k,e))}),IL("Map",Xg.call(e),I,d)}if(Jee(e)){var N=[];return pL&&pL.call(e,function(k){N.push(g(k,e))}),IL("Set",Zg.call(e),N,d)}if(Kee(e))return w_("WeakMap");if(Xee(e))return w_("WeakSet");if(Yee(e))return w_("WeakRef");if(kee(e))return Dl(g(Number(e)));if(Qee(e))return Dl(g(E_.call(e)));if(jee(e))return Dl(Ree.call(e));if(Gee(e))return Dl(g(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(e===global)return"{ [object globalThis] }";if(!Vee(e)&&!_L(e)){var _=Jg(e,g),S=EL?EL(e)===Object.prototype:e instanceof Object||e.constructor===Object,R=e instanceof Object?"":"null prototype",J=!S&&er&&Object(e)===e&&er in e?T_.call(ns(e),8,-1):R?"Object":"",Q=S||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",V=Q+(J||R?"["+Rn.call(mL.call([],J||[],R||[]),": ")+"] ":"");return _.length===0?V+"{}":d?V+"{"+__(_,d)+"}":V+"{ "+Rn.call(_,", ")+" }"}return String(e)};function CL(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function qee(t){return rs.call(String(t),/"/g,"&quot;")}function b_(t){return ns(t)==="[object Array]"&&(!er||!(typeof t=="object"&&er in t))}function Vee(t){return ns(t)==="[object Date]"&&(!er||!(typeof t=="object"&&er in t))}function _L(t){return ns(t)==="[object RegExp]"&&(!er||!(typeof t=="object"&&er in t))}function Hee(t){return ns(t)==="[object Error]"&&(!er||!(typeof t=="object"&&er in t))}function Gee(t){return ns(t)==="[object String]"&&(!er||!(typeof t=="object"&&er in t))}function kee(t){return ns(t)==="[object Number]"&&(!er||!(typeof t=="object"&&er in t))}function jee(t){return ns(t)==="[object Boolean]"&&(!er||!(typeof t=="object"&&er in t))}function xL(t){if(au)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!v_)return!1;try{return v_.call(t),!0}catch{}return!1}function Qee(t){if(!t||typeof t!="object"||!E_)return!1;try{return E_.call(t),!0}catch{}return!1}var Wee=Object.prototype.hasOwnProperty||function(t){return t in this};function ts(t,e){return Wee.call(t,e)}function ns(t){return Bee.call(t)}function $ee(t){if(t.name)return t.name;var e=Fee.call(Lee.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function NL(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function zee(t){if(!Xg||!t||typeof t!="object")return!1;try{Xg.call(t);try{Zg.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function Kee(t){if(!Pl||!t||typeof t!="object")return!1;try{Pl.call(t,Pl);try{Rl.call(t,Rl)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function Yee(t){if(!gL||!t||typeof t!="object")return!1;try{return gL.call(t),!0}catch{}return!1}function Jee(t){if(!Zg||!t||typeof t!="object")return!1;try{Zg.call(t);try{Xg.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function Xee(t){if(!Rl||!t||typeof t!="object")return!1;try{Rl.call(t,Rl);try{Pl.call(t,Pl)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function Zee(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function OL(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return OL(T_.call(t,0,e.maxStringLength),e)+n}var i=rs.call(rs.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,ete);return CL(i,"single",e)}function ete(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+Mee.call(e.toString(16))}function Dl(t){return"Object("+t+")"}function w_(t){return t+" { ? }"}function IL(t,e,r,n){var i=n?__(r,n):Rn.call(r,", ");return t+" ("+e+") {"+i+"}"}function tte(t){for(var e=0;e<t.length;e++)if(NL(t[e],`
`)>=0)return!1;return!0}function rte(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=Rn.call(Array(t.indent+1)," ");else return null;return{base:r,prev:Rn.call(Array(e+1),r)}}function __(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+Rn.call(t,","+r)+`
`+e.prev}function Jg(t,e){var r=b_(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=ts(t,i)?e(t[i],t):""}var s=typeof m_=="function"?m_(t):[],o;if(au){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var u in t)ts(t,u)&&(r&&String(Number(u))===u&&u<t.length||au&&o["$"+u]instanceof Symbol||(SL.call(/[^\w$]/,u)?n.push(e(u,t)+": "+e(t[u],t)):n.push(u+": "+e(t[u],t))));if(typeof m_=="function")for(var l=0;l<s.length;l++)TL.call(t,s[l])&&n.push("["+e(s[l])+"]: "+e(t[s[l]],t));return n}});var BL=m((d0e,RL)=>{"use strict";c();var C_=es(),uu=fL(),nte=PL(),ite=C_("%TypeError%"),ey=C_("%WeakMap%",!0),ty=C_("%Map%",!0),ste=uu("WeakMap.prototype.get",!0),ote=uu("WeakMap.prototype.set",!0),ate=uu("WeakMap.prototype.has",!0),ute=uu("Map.prototype.get",!0),cte=uu("Map.prototype.set",!0),lte=uu("Map.prototype.has",!0),x_=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},fte=function(t,e){var r=x_(t,e);return r&&r.value},hte=function(t,e,r){var n=x_(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},dte=function(t,e){return!!x_(t,e)};RL.exports=function(){var e,r,n,i={assert:function(s){if(!i.has(s))throw new ite("Side channel does not contain "+nte(s))},get:function(s){if(ey&&s&&(typeof s=="object"||typeof s=="function")){if(e)return ste(e,s)}else if(ty){if(r)return ute(r,s)}else if(n)return fte(n,s)},has:function(s){if(ey&&s&&(typeof s=="object"||typeof s=="function")){if(e)return ate(e,s)}else if(ty){if(r)return lte(r,s)}else if(n)return dte(n,s);return!1},set:function(s,o){ey&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new ey),ote(e,s,o)):ty?(r||(r=new ty),cte(r,s,o)):(n||(n={key:{},next:null}),hte(n,s,o))}};return i}});var ry=m((g0e,LL)=>{"use strict";c();var pte=String.prototype.replace,gte=/%20/g,N_={RFC1738:"RFC1738",RFC3986:"RFC3986"};LL.exports={default:N_.RFC3986,formatters:{RFC1738:function(t){return pte.call(t,gte,"+")},RFC3986:function(t){return String(t)}},RFC1738:N_.RFC1738,RFC3986:N_.RFC3986}});var D_=m((m0e,ML)=>{"use strict";c();var yte=ry(),O_=Object.prototype.hasOwnProperty,co=Array.isArray,Bn=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),mte=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(co(n)){for(var i=[],s=0;s<n.length;++s)typeof n[s]<"u"&&i.push(n[s]);r.obj[r.prop]=i}}},FL=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},wte=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(co(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!O_.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return co(e)&&!co(r)&&(i=FL(e,n)),co(e)&&co(r)?(r.forEach(function(s,o){if(O_.call(e,o)){var a=e[o];a&&typeof a=="object"&&s&&typeof s=="object"?e[o]=t(a,s,n):e.push(s)}else e[o]=s}),e):Object.keys(r).reduce(function(s,o){var a=r[o];return O_.call(s,o)?s[o]=t(s[o],a,n):s[o]=a,s},i)},Ete=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},vte=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},Ate=function(e,r,n,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(f){return"%26%23"+parseInt(f.slice(2),16)+"%3B"});for(var a="",u=0;u<o.length;++u){var l=o.charCodeAt(u);if(l===45||l===46||l===95||l===126||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||s===yte.RFC1738&&(l===40||l===41)){a+=o.charAt(u);continue}if(l<128){a=a+Bn[l];continue}if(l<2048){a=a+(Bn[192|l>>6]+Bn[128|l&63]);continue}if(l<55296||l>=57344){a=a+(Bn[224|l>>12]+Bn[128|l>>6&63]+Bn[128|l&63]);continue}u+=1,l=65536+((l&1023)<<10|o.charCodeAt(u)&1023),a+=Bn[240|l>>18]+Bn[128|l>>12&63]+Bn[128|l>>6&63]+Bn[128|l&63]}return a},bte=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var s=r[i],o=s.obj[s.prop],a=Object.keys(o),u=0;u<a.length;++u){var l=a[u],f=o[l];typeof f=="object"&&f!==null&&n.indexOf(f)===-1&&(r.push({obj:o,prop:l}),n.push(f))}return mte(r),e},_te=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},Ite=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},Ste=function(e,r){return[].concat(e,r)},Tte=function(e,r){if(co(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)};ML.exports={arrayToObject:FL,assign:Ete,combine:Ste,compact:bte,decode:vte,encode:Ate,isBuffer:Ite,isRegExp:_te,maybeMap:Tte,merge:wte}});var kL=m((E0e,GL)=>{"use strict";c();var VL=BL(),R_=D_(),Bl=ry(),Cte=Object.prototype.hasOwnProperty,UL={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},lo=Array.isArray,xte=String.prototype.split,Nte=Array.prototype.push,HL=function(t,e){Nte.apply(t,lo(e)?e:[e])},Ote=Date.prototype.toISOString,qL=Bl.default,Qt={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:R_.encode,encodeValuesOnly:!1,format:qL,formatter:Bl.formatters[qL],indices:!1,serializeDate:function(e){return Ote.call(e)},skipNulls:!1,strictNullHandling:!1},Dte=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},P_={},Pte=function t(e,r,n,i,s,o,a,u,l,f,d,g,w,E,T){for(var D=e,B=T,W=0,U=!1;(B=B.get(P_))!==void 0&&!U;){var A=B.get(e);if(W+=1,typeof A<"u"){if(A===W)throw new RangeError("Cyclic object value");U=!0}typeof B.get(P_)>"u"&&(W=0)}if(typeof a=="function"?D=a(r,D):D instanceof Date?D=f(D):n==="comma"&&lo(D)&&(D=R_.maybeMap(D,function(re){return re instanceof Date?f(re):re})),D===null){if(i)return o&&!w?o(r,Qt.encoder,E,"key",d):r;D=""}if(Dte(D)||R_.isBuffer(D)){if(o){var I=w?r:o(r,Qt.encoder,E,"key",d);if(n==="comma"&&w){for(var N=xte.call(String(D),","),_="",S=0;S<N.length;++S)_+=(S===0?"":",")+g(o(N[S],Qt.encoder,E,"value",d));return[g(I)+"="+_]}return[g(I)+"="+g(o(D,Qt.encoder,E,"value",d))]}return[g(r)+"="+g(String(D))]}var R=[];if(typeof D>"u")return R;var J;if(n==="comma"&&lo(D))J=[{value:D.length>0?D.join(",")||null:void 0}];else if(lo(a))J=a;else{var Q=Object.keys(D);J=u?Q.sort(u):Q}for(var V=0;V<J.length;++V){var k=J[V],K=typeof k=="object"&&typeof k.value<"u"?k.value:D[k];if(!(s&&K===null)){var pe=lo(D)?typeof n=="function"?n(r,k):r:r+(l?"."+k:"["+k+"]");T.set(e,W);var ue=VL();ue.set(P_,T),HL(R,t(K,pe,n,i,s,o,a,u,l,f,d,g,w,E,ue))}}return R},Rte=function(e){if(!e)return Qt;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||Qt.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Bl.default;if(typeof e.format<"u"){if(!Cte.call(Bl.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=Bl.formatters[n],s=Qt.filter;return(typeof e.filter=="function"||lo(e.filter))&&(s=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Qt.addQueryPrefix,allowDots:typeof e.allowDots>"u"?Qt.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Qt.charsetSentinel,delimiter:typeof e.delimiter>"u"?Qt.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Qt.encode,encoder:typeof e.encoder=="function"?e.encoder:Qt.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Qt.encodeValuesOnly,filter:s,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Qt.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Qt.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Qt.strictNullHandling}};GL.exports=function(t,e){var r=t,n=Rte(e),i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):lo(n.filter)&&(s=n.filter,i=s);var o=[];if(typeof r!="object"||r===null)return"";var a;e&&e.arrayFormat in UL?a=e.arrayFormat:e&&"indices"in e?a=e.indices?"indices":"repeat":a="indices";var u=UL[a];i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var l=VL(),f=0;f<i.length;++f){var d=i[f];n.skipNulls&&r[d]===null||HL(o,Pte(r[d],d,u,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,l))}var g=o.join(n.delimiter),w=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?w+="utf8=%26%2310003%3B&":w+="utf8=%E2%9C%93&"),g.length>0?w+g:""}});var WL=m((A0e,QL)=>{"use strict";c();var cu=D_(),B_=Object.prototype.hasOwnProperty,Bte=Array.isArray,Ut={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:cu.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},Lte=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},jL=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},Fte="utf8=%26%2310003%3B",Mte="utf8=%E2%9C%93",Ute=function(e,r){var n={},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,s),a=-1,u,l=r.charset;if(r.charsetSentinel)for(u=0;u<o.length;++u)o[u].indexOf("utf8=")===0&&(o[u]===Mte?l="utf-8":o[u]===Fte&&(l="iso-8859-1"),a=u,u=o.length);for(u=0;u<o.length;++u)if(u!==a){var f=o[u],d=f.indexOf("]="),g=d===-1?f.indexOf("="):d+1,w,E;g===-1?(w=r.decoder(f,Ut.decoder,l,"key"),E=r.strictNullHandling?null:""):(w=r.decoder(f.slice(0,g),Ut.decoder,l,"key"),E=cu.maybeMap(jL(f.slice(g+1),r),function(T){return r.decoder(T,Ut.decoder,l,"value")})),E&&r.interpretNumericEntities&&l==="iso-8859-1"&&(E=Lte(E)),f.indexOf("[]=")>-1&&(E=Bte(E)?[E]:E),B_.call(n,w)?n[w]=cu.combine(n[w],E):n[w]=E}return n},qte=function(t,e,r,n){for(var i=n?e:jL(e,r),s=t.length-1;s>=0;--s){var o,a=t[s];if(a==="[]"&&r.parseArrays)o=[].concat(i);else{o=r.plainObjects?Object.create(null):{};var u=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,l=parseInt(u,10);!r.parseArrays&&u===""?o={0:i}:!isNaN(l)&&a!==u&&String(l)===u&&l>=0&&r.parseArrays&&l<=r.arrayLimit?(o=[],o[l]=i):u!=="__proto__"&&(o[u]=i)}i=o}return i},Vte=function(e,r,n,i){if(e){var s=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,u=n.depth>0&&o.exec(s),l=u?s.slice(0,u.index):s,f=[];if(l){if(!n.plainObjects&&B_.call(Object.prototype,l)&&!n.allowPrototypes)return;f.push(l)}for(var d=0;n.depth>0&&(u=a.exec(s))!==null&&d<n.depth;){if(d+=1,!n.plainObjects&&B_.call(Object.prototype,u[1].slice(1,-1))&&!n.allowPrototypes)return;f.push(u[1])}return u&&f.push("["+s.slice(u.index)+"]"),qte(f,r,n,i)}},Hte=function(e){if(!e)return Ut;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?Ut.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?Ut.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:Ut.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:Ut.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:Ut.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Ut.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:Ut.comma,decoder:typeof e.decoder=="function"?e.decoder:Ut.decoder,delimiter:typeof e.delimiter=="string"||cu.isRegExp(e.delimiter)?e.delimiter:Ut.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:Ut.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:Ut.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:Ut.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:Ut.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Ut.strictNullHandling}};QL.exports=function(t,e){var r=Hte(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?Ute(t,r):t,i=r.plainObjects?Object.create(null):{},s=Object.keys(n),o=0;o<s.length;++o){var a=s[o],u=Vte(a,n[a],r,typeof t=="string");i=cu.merge(i,u,r)}return r.allowSparse===!0?i:cu.compact(i)}});var zL=m((_0e,$L)=>{"use strict";c();var Gte=kL(),kte=WL(),jte=ry();$L.exports={formats:jte,parse:kte,stringify:Gte}});var L_=m(ut=>{"use strict";c();Object.defineProperty(ut,"__esModule",{value:!0});ut.WALLET_PROVIDER_CALLBACK_PARAM_TX_SIGNED=ut.WALLET_PROVIDER_CALLBACK_PARAM=ut.WALLET_PROVIDER_SIGN_MESSAGE_URL=ut.WALLET_PROVIDER_GUARD_TRANSACTION_URL=ut.WALLET_PROVIDER_SIGN_TRANSACTION_URL=ut.WALLET_PROVIDER_SEND_TRANSACTION_URL=ut.WALLET_PROVIDER_DISCONNECT_URL=ut.WALLET_PROVIDER_CONNECT_URL=ut.WALLET_PROVIDER_TESTNET=ut.WALLET_PROVIDER_DEVNET=ut.WALLET_PROVIDER_MAINNET=void 0;ut.WALLET_PROVIDER_MAINNET="https://wallet.multiversx.com/dapp/init";ut.WALLET_PROVIDER_DEVNET="https://devnet-wallet.multiversx.com/dapp/init";ut.WALLET_PROVIDER_TESTNET="https://testnet-wallet.multiversx.com/dapp/init";ut.WALLET_PROVIDER_CONNECT_URL="hook/login";ut.WALLET_PROVIDER_DISCONNECT_URL="hook/logout";ut.WALLET_PROVIDER_SEND_TRANSACTION_URL="hook/transaction";ut.WALLET_PROVIDER_SIGN_TRANSACTION_URL="hook/sign";ut.WALLET_PROVIDER_GUARD_TRANSACTION_URL="hook/2fa";ut.WALLET_PROVIDER_SIGN_MESSAGE_URL="hook/sign-message";ut.WALLET_PROVIDER_CALLBACK_PARAM="walletProviderStatus";ut.WALLET_PROVIDER_CALLBACK_PARAM_TX_SIGNED="transactionsSigned"});var KL=m(lu=>{"use strict";c();Object.defineProperty(lu,"__esModule",{value:!0});lu.ErrCannotSignedMessage=lu.ErrCannotGetSignedTransactions=void 0;var F_=class extends Error{constructor(){super("Cannot get signed transaction(s)")}};lu.ErrCannotGetSignedTransactions=F_;var M_=class extends Error{constructor(){super("Cannot get signed message")}};lu.ErrCannotSignedMessage=M_});var YL=m(ny=>{"use strict";c();Object.defineProperty(ny,"__esModule",{value:!0});ny.PlainSignedTransaction=void 0;var U_=class{constructor(e){this.nonce=0,this.value="",this.receiver="",this.sender="",this.gasPrice=0,this.gasLimit=0,this.data="",this.chainID="",this.version=0,this.signature="",Object.assign(this,e)}};ny.PlainSignedTransaction=U_});var Ll=m(os=>{"use strict";c();var is=os&&os.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(f){try{l(n.next(f))}catch(d){o(d)}}function u(f){try{l(n.throw(f))}catch(d){o(d)}}function l(f){f.done?s(f.value):i(f.value).then(a,u)}l((n=n.apply(t,e||[])).next())})},Qte=os&&os.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(os,"__esModule",{value:!0});os.WalletProvider=void 0;var q_=Qte(zL()),ss=L_(),V_=KL(),Wte=YL(),H_=class t{constructor(e){this.walletUrl=e}login(e){return is(this,void 0,void 0,function*(){let r=this.buildWalletUrl({endpoint:ss.WALLET_PROVIDER_CONNECT_URL,callbackUrl:e?.callbackUrl,params:{token:e?.token}});return yield this.redirect(r,e?.redirectDelayMilliseconds),r})}redirect(e,r){return is(this,void 0,void 0,function*(){r?yield this.redirectLater(e,r):this.redirectImmediately(e)})}redirectImmediately(e){window.location.href=e}redirectLater(e,r){return is(this,void 0,void 0,function*(){yield new Promise(n=>{setTimeout(()=>{window.location.href=e,n(!0)},r)})})}logout(e){return is(this,void 0,void 0,function*(){let r=this.buildWalletUrl({endpoint:ss.WALLET_PROVIDER_DISCONNECT_URL,callbackUrl:e?.callbackUrl});return yield this.redirect(r,e?.redirectDelayMilliseconds),!0})}signMessage(e,r){return is(this,void 0,void 0,function*(){let n=this.buildWalletUrl({endpoint:ss.WALLET_PROVIDER_SIGN_MESSAGE_URL,callbackUrl:r?.callbackUrl,params:{message:e.message.toString()}});return yield this.redirect(n),n})}getMessageSignatureFromWalletUrl(){var e,r;let n=window.location.search.slice(1);console.info("getMessageSignatureFromWalletUrl(), url:",n);let i=q_.default.parse(n);if((((e=i.status)===null||e===void 0?void 0:e.toString())||"")!=="signed")throw new V_.ErrCannotSignedMessage;return((r=i.signature)===null||r===void 0?void 0:r.toString())||""}guardTransactions(e,r){return is(this,void 0,void 0,function*(){this.redirectTransactionsToEndpoint(ss.WALLET_PROVIDER_GUARD_TRANSACTION_URL,e,r)})}signTransactions(e,r){return is(this,void 0,void 0,function*(){this.redirectTransactionsToEndpoint(ss.WALLET_PROVIDER_SIGN_TRANSACTION_URL,e,r)})}signTransaction(e,r){return is(this,void 0,void 0,function*(){yield this.signTransactions([e],r)})}getTransactionsFromWalletUrl(){let e=q_.default.parse(window.location.search.slice(1));return t.isTxSignReturnSuccess(e)?this.getTxSignReturnValue(e):[]}static isTxSignReturnSuccess(e){return e.hasOwnProperty(ss.WALLET_PROVIDER_CALLBACK_PARAM)&&e[ss.WALLET_PROVIDER_CALLBACK_PARAM]===ss.WALLET_PROVIDER_CALLBACK_PARAM_TX_SIGNED}getTxSignReturnValue(e){var r;console.info("getTxSignReturnValue(), urlParams:",e);let n=["nonce","value","receiver","sender","gasPrice","gasLimit","chainID","version","signature"];for(let o of n)if(!e[o]||!Array.isArray(e[o]))throw new V_.ErrCannotGetSignedTransactions;let i=e.nonce.length;for(let o of n)if(e[o].length!==i)throw new V_.ErrCannotGetSignedTransactions;let s=[];for(let o=0;o<i;o++){let a=new Wte.PlainSignedTransaction(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({nonce:parseInt(e.nonce[o]),value:e.value[o],receiver:e.receiver[o],sender:e.sender[o],gasPrice:parseInt(e.gasPrice[o]),gasLimit:parseInt(e.gasLimit[o]),data:(r=e.data[o])!==null&&r!==void 0?r:"",chainID:e.chainID[o],version:parseInt(e.version[o])},e.guardian&&e.guardian[o]?{guardian:e.guardian[o]}:{}),e.guardianSignature&&e.guardianSignature[o]?{guardianSignature:e.guardianSignature[o]}:{}),e.options&&e.options[o]?{options:parseInt(e.options[o])}:{}),e.senderUsername&&e.senderUsername[o]?{senderUsername:e.senderUsername[o]}:{}),e.receiverUsername&&e.receiverUsername[o]?{receiverUsername:e.receiverUsername[o]}:{}),{signature:e.signature[o]}));s.push(a)}return s}static prepareWalletTransaction(e){let r=e.toPlainObject();return r.data?r.data=h.Buffer.from(r.data,"base64").toString():r.data="",r}buildWalletUrl(e){let r=e?.callbackUrl||window.location.href,n=q_.default.stringify(e.params||{}),i=n?`${n}&callbackUrl=${r}`:`callbackUrl=${r}`,s=`${this.baseWalletUrl()}/${e.endpoint}?${i}`;return console.info(`Redirecting to Wallet URL: ${decodeURI(s)}`),s}baseWalletUrl(){let e=this.walletUrl.split("/"),r=e[0],n=e[2];return r+"//"+n}redirectTransactionsToEndpoint(e,r,n){let i={};r.map(o=>{let a=t.prepareWalletTransaction(o);for(let u in a)a.hasOwnProperty(u)&&!i.hasOwnProperty(u)&&(i[u]=[]),i[u].push(a[u])});let s=this.buildWalletUrl({endpoint:e,callbackUrl:n?.callbackUrl,params:i});window.location.href=s}};os.WalletProvider=H_});var G_=m((R0e,JL)=>{"use strict";c();JL.exports=function(e,r){return function(){for(var i=new Array(arguments.length),s=0;s<i.length;s++)i[s]=arguments[s];return e.apply(r,i)}}});var mr=m((L0e,eF)=>{"use strict";c();var $te=G_(),fo=Object.prototype.toString;function Q_(t){return fo.call(t)==="[object Array]"}function k_(t){return typeof t>"u"}function zte(t){return t!==null&&!k_(t)&&t.constructor!==null&&!k_(t.constructor)&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function Kte(t){return fo.call(t)==="[object ArrayBuffer]"}function Yte(t){return typeof FormData<"u"&&t instanceof FormData}function Jte(t){var e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&t.buffer instanceof ArrayBuffer,e}function Xte(t){return typeof t=="string"}function Zte(t){return typeof t=="number"}function XL(t){return t!==null&&typeof t=="object"}function iy(t){if(fo.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function ere(t){return fo.call(t)==="[object Date]"}function tre(t){return fo.call(t)==="[object File]"}function rre(t){return fo.call(t)==="[object Blob]"}function ZL(t){return fo.call(t)==="[object Function]"}function nre(t){return XL(t)&&ZL(t.pipe)}function ire(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}function sre(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function ore(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function W_(t,e){if(!(t===null||typeof t>"u"))if(typeof t!="object"&&(t=[t]),Q_(t))for(var r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}function j_(){var t={};function e(i,s){iy(t[s])&&iy(i)?t[s]=j_(t[s],i):iy(i)?t[s]=j_({},i):Q_(i)?t[s]=i.slice():t[s]=i}for(var r=0,n=arguments.length;r<n;r++)W_(arguments[r],e);return t}function are(t,e,r){return W_(e,function(i,s){r&&typeof i=="function"?t[s]=$te(i,r):t[s]=i}),t}function ure(t){return t.charCodeAt(0)===65279&&(t=t.slice(1)),t}eF.exports={isArray:Q_,isArrayBuffer:Kte,isBuffer:zte,isFormData:Yte,isArrayBufferView:Jte,isString:Xte,isNumber:Zte,isObject:XL,isPlainObject:iy,isUndefined:k_,isDate:ere,isFile:tre,isBlob:rre,isFunction:ZL,isStream:nre,isURLSearchParams:ire,isStandardBrowserEnv:ore,forEach:W_,merge:j_,extend:are,trim:sre,stripBOM:ure}});var $_=m((M0e,rF)=>{"use strict";c();var fu=mr();function tF(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}rF.exports=function(e,r,n){if(!r)return e;var i;if(n)i=n(r);else if(fu.isURLSearchParams(r))i=r.toString();else{var s=[];fu.forEach(r,function(u,l){u===null||typeof u>"u"||(fu.isArray(u)?l=l+"[]":u=[u],fu.forEach(u,function(d){fu.isDate(d)?d=d.toISOString():fu.isObject(d)&&(d=JSON.stringify(d)),s.push(tF(l)+"="+tF(d))}))}),i=s.join("&")}if(i){var o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}});var iF=m((q0e,nF)=>{"use strict";c();var cre=mr();function sy(){this.handlers=[]}sy.prototype.use=function(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};sy.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};sy.prototype.forEach=function(e){cre.forEach(this.handlers,function(n){n!==null&&e(n)})};nF.exports=sy});var oF=m((H0e,sF)=>{"use strict";c();var lre=mr();sF.exports=function(e,r){lre.forEach(e,function(i,s){s!==r&&s.toUpperCase()===r.toUpperCase()&&(e[r]=i,delete e[s])})}});var z_=m((k0e,aF)=>{"use strict";c();aF.exports=function(e,r,n,i,s){return e.config=r,n&&(e.code=n),e.request=i,e.response=s,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}});var K_=m((Q0e,uF)=>{"use strict";c();var fre=z_();uF.exports=function(e,r,n,i,s){var o=new Error(e);return fre(o,r,n,i,s)}});var lF=m(($0e,cF)=>{"use strict";c();var hre=K_();cF.exports=function(e,r,n){var i=n.config.validateStatus;!n.status||!i||i(n.status)?e(n):r(hre("Request failed with status code "+n.status,n.config,null,n.request,n))}});var hF=m((K0e,fF)=>{"use strict";c();var oy=mr();fF.exports=oy.isStandardBrowserEnv()?function(){return{write:function(r,n,i,s,o,a){var u=[];u.push(r+"="+encodeURIComponent(n)),oy.isNumber(i)&&u.push("expires="+new Date(i).toGMTString()),oy.isString(s)&&u.push("path="+s),oy.isString(o)&&u.push("domain="+o),a===!0&&u.push("secure"),document.cookie=u.join("; ")},read:function(r){var n=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()});var pF=m((J0e,dF)=>{"use strict";c();dF.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}});var yF=m((Z0e,gF)=>{"use strict";c();gF.exports=function(e,r){return r?e.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):e}});var wF=m((tme,mF)=>{"use strict";c();var dre=pF(),pre=yF();mF.exports=function(e,r){return e&&!dre(r)?pre(e,r):r}});var vF=m((nme,EF)=>{"use strict";c();var Y_=mr(),gre=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];EF.exports=function(e){var r={},n,i,s;return e&&Y_.forEach(e.split(`
`),function(a){if(s=a.indexOf(":"),n=Y_.trim(a.substr(0,s)).toLowerCase(),i=Y_.trim(a.substr(s+1)),n){if(r[n]&&gre.indexOf(n)>=0)return;n==="set-cookie"?r[n]=(r[n]?r[n]:[]).concat([i]):r[n]=r[n]?r[n]+", "+i:i}}),r}});var _F=m((sme,bF)=>{"use strict";c();var AF=mr();bF.exports=AF.isStandardBrowserEnv()?function(){var e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),n;function i(s){var o=s;return e&&(r.setAttribute("href",o),o=r.href),r.setAttribute("href",o),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(o){var a=AF.isString(o)?i(o):o;return a.protocol===n.protocol&&a.host===n.host}}():function(){return function(){return!0}}()});var Fl=m((ame,IF)=>{"use strict";c();function J_(t){this.message=t}J_.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};J_.prototype.__CANCEL__=!0;IF.exports=J_});var Z_=m((cme,SF)=>{"use strict";c();var ay=mr(),yre=lF(),mre=hF(),wre=$_(),Ere=wF(),vre=vF(),Are=_F(),X_=K_(),bre=Ml(),_re=Fl();SF.exports=function(e){return new Promise(function(n,i){var s=e.data,o=e.headers,a=e.responseType,u;function l(){e.cancelToken&&e.cancelToken.unsubscribe(u),e.signal&&e.signal.removeEventListener("abort",u)}ay.isFormData(s)&&delete o["Content-Type"];var f=new XMLHttpRequest;if(e.auth){var d=e.auth.username||"",g=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";o.Authorization="Basic "+btoa(d+":"+g)}var w=Ere(e.baseURL,e.url);f.open(e.method.toUpperCase(),wre(w,e.params,e.paramsSerializer),!0),f.timeout=e.timeout;function E(){if(f){var D="getAllResponseHeaders"in f?vre(f.getAllResponseHeaders()):null,B=!a||a==="text"||a==="json"?f.responseText:f.response,W={data:B,status:f.status,statusText:f.statusText,headers:D,config:e,request:f};yre(function(A){n(A),l()},function(A){i(A),l()},W),f=null}}if("onloadend"in f?f.onloadend=E:f.onreadystatechange=function(){!f||f.readyState!==4||f.status===0&&!(f.responseURL&&f.responseURL.indexOf("file:")===0)||setTimeout(E)},f.onabort=function(){f&&(i(X_("Request aborted",e,"ECONNABORTED",f)),f=null)},f.onerror=function(){i(X_("Network Error",e,null,f)),f=null},f.ontimeout=function(){var B=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",W=e.transitional||bre.transitional;e.timeoutErrorMessage&&(B=e.timeoutErrorMessage),i(X_(B,e,W.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",f)),f=null},ay.isStandardBrowserEnv()){var T=(e.withCredentials||Are(w))&&e.xsrfCookieName?mre.read(e.xsrfCookieName):void 0;T&&(o[e.xsrfHeaderName]=T)}"setRequestHeader"in f&&ay.forEach(o,function(B,W){typeof s>"u"&&W.toLowerCase()==="content-type"?delete o[W]:f.setRequestHeader(W,B)}),ay.isUndefined(e.withCredentials)||(f.withCredentials=!!e.withCredentials),a&&a!=="json"&&(f.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&f.addEventListener("progress",e.onDownloadProgress),typeof e.onUploadProgress=="function"&&f.upload&&f.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(u=function(D){f&&(i(!D||D&&D.type?new _re("canceled"):D),f.abort(),f=null)},e.cancelToken&&e.cancelToken.subscribe(u),e.signal&&(e.signal.aborted?u():e.signal.addEventListener("abort",u))),s||(s=null),f.send(s)})}});var Ml=m((fme,xF)=>{"use strict";c();var Wt=mr(),TF=oF(),Ire=z_(),Sre={"Content-Type":"application/x-www-form-urlencoded"};function CF(t,e){!Wt.isUndefined(t)&&Wt.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function Tre(){var t;return typeof XMLHttpRequest<"u"?t=Z_():typeof p.default<"u"&&Object.prototype.toString.call(p.default)==="[object process]"&&(t=Z_()),t}function Cre(t,e,r){if(Wt.isString(t))try{return(e||JSON.parse)(t),Wt.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}var uy={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:Tre(),transformRequest:[function(e,r){return TF(r,"Accept"),TF(r,"Content-Type"),Wt.isFormData(e)||Wt.isArrayBuffer(e)||Wt.isBuffer(e)||Wt.isStream(e)||Wt.isFile(e)||Wt.isBlob(e)?e:Wt.isArrayBufferView(e)?e.buffer:Wt.isURLSearchParams(e)?(CF(r,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):Wt.isObject(e)||r&&r["Content-Type"]==="application/json"?(CF(r,"application/json"),Cre(e)):e}],transformResponse:[function(e){var r=this.transitional||uy.transitional,n=r&&r.silentJSONParsing,i=r&&r.forcedJSONParsing,s=!n&&this.responseType==="json";if(s||i&&Wt.isString(e)&&e.length)try{return JSON.parse(e)}catch(o){if(s)throw o.name==="SyntaxError"?Ire(o,this,"E_JSON_PARSE"):o}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Wt.forEach(["delete","get","head"],function(e){uy.headers[e]={}});Wt.forEach(["post","put","patch"],function(e){uy.headers[e]=Wt.merge(Sre)});xF.exports=uy});var OF=m((dme,NF)=>{"use strict";c();var xre=mr(),Nre=Ml();NF.exports=function(e,r,n){var i=this||Nre;return xre.forEach(n,function(o){e=o.call(i,e,r)}),e}});var eI=m((gme,DF)=>{"use strict";c();DF.exports=function(e){return!!(e&&e.__CANCEL__)}});var BF=m((mme,RF)=>{"use strict";c();var PF=mr(),tI=OF(),Ore=eI(),Dre=Ml(),Pre=Fl();function rI(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Pre("canceled")}RF.exports=function(e){rI(e),e.headers=e.headers||{},e.data=tI.call(e,e.data,e.headers,e.transformRequest),e.headers=PF.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),PF.forEach(["delete","get","head","post","put","patch","common"],function(i){delete e.headers[i]});var r=e.adapter||Dre.adapter;return r(e).then(function(i){return rI(e),i.data=tI.call(e,i.data,i.headers,e.transformResponse),i},function(i){return Ore(i)||(rI(e),i&&i.response&&(i.response.data=tI.call(e,i.response.data,i.response.headers,e.transformResponse))),Promise.reject(i)})}});var nI=m((Eme,LF)=>{"use strict";c();var Ir=mr();LF.exports=function(e,r){r=r||{};var n={};function i(f,d){return Ir.isPlainObject(f)&&Ir.isPlainObject(d)?Ir.merge(f,d):Ir.isPlainObject(d)?Ir.merge({},d):Ir.isArray(d)?d.slice():d}function s(f){if(Ir.isUndefined(r[f])){if(!Ir.isUndefined(e[f]))return i(void 0,e[f])}else return i(e[f],r[f])}function o(f){if(!Ir.isUndefined(r[f]))return i(void 0,r[f])}function a(f){if(Ir.isUndefined(r[f])){if(!Ir.isUndefined(e[f]))return i(void 0,e[f])}else return i(void 0,r[f])}function u(f){if(f in r)return i(e[f],r[f]);if(f in e)return i(void 0,e[f])}var l={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:u};return Ir.forEach(Object.keys(e).concat(Object.keys(r)),function(d){var g=l[d]||s,w=g(d);Ir.isUndefined(w)&&g!==u||(n[d]=w)}),n}});var iI=m((Ame,FF)=>{c();FF.exports={version:"0.24.0"}});var qF=m((_me,UF)=>{"use strict";c();var Rre=iI().version,sI={};["object","boolean","number","function","string","symbol"].forEach(function(t,e){sI[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});var MF={};sI.transitional=function(e,r,n){function i(s,o){return"[Axios v"+Rre+"] Transitional option '"+s+"'"+o+(n?". "+n:"")}return function(s,o,a){if(e===!1)throw new Error(i(o," has been removed"+(r?" in "+r:"")));return r&&!MF[o]&&(MF[o]=!0,console.warn(i(o," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(s,o,a):!0}};function Bre(t,e,r){if(typeof t!="object")throw new TypeError("options must be an object");for(var n=Object.keys(t),i=n.length;i-- >0;){var s=n[i],o=e[s];if(o){var a=t[s],u=a===void 0||o(a,s,t);if(u!==!0)throw new TypeError("option "+s+" must be "+u);continue}if(r!==!0)throw Error("Unknown option "+s)}}UF.exports={assertOptions:Bre,validators:sI}});var QF=m((Sme,jF)=>{"use strict";c();var GF=mr(),Lre=$_(),VF=iF(),HF=BF(),cy=nI(),kF=qF(),hu=kF.validators;function Ul(t){this.defaults=t,this.interceptors={request:new VF,response:new VF}}Ul.prototype.request=function(e){typeof e=="string"?(e=arguments[1]||{},e.url=arguments[0]):e=e||{},e=cy(this.defaults,e),e.method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var r=e.transitional;r!==void 0&&kF.assertOptions(r,{silentJSONParsing:hu.transitional(hu.boolean),forcedJSONParsing:hu.transitional(hu.boolean),clarifyTimeoutError:hu.transitional(hu.boolean)},!1);var n=[],i=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(e)===!1||(i=i&&g.synchronous,n.unshift(g.fulfilled,g.rejected))});var s=[];this.interceptors.response.forEach(function(g){s.push(g.fulfilled,g.rejected)});var o;if(!i){var a=[HF,void 0];for(Array.prototype.unshift.apply(a,n),a=a.concat(s),o=Promise.resolve(e);a.length;)o=o.then(a.shift(),a.shift());return o}for(var u=e;n.length;){var l=n.shift(),f=n.shift();try{u=l(u)}catch(d){f(d);break}}try{o=HF(u)}catch(d){return Promise.reject(d)}for(;s.length;)o=o.then(s.shift(),s.shift());return o};Ul.prototype.getUri=function(e){return e=cy(this.defaults,e),Lre(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")};GF.forEach(["delete","get","head","options"],function(e){Ul.prototype[e]=function(r,n){return this.request(cy(n||{},{method:e,url:r,data:(n||{}).data}))}});GF.forEach(["post","put","patch"],function(e){Ul.prototype[e]=function(r,n,i){return this.request(cy(i||{},{method:e,url:r,data:n}))}});jF.exports=Ul});var $F=m((Cme,WF)=>{"use strict";c();var Fre=Fl();function du(t){if(typeof t!="function")throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(i){e=i});var r=this;this.promise.then(function(n){if(r._listeners){var i,s=r._listeners.length;for(i=0;i<s;i++)r._listeners[i](n);r._listeners=null}}),this.promise.then=function(n){var i,s=new Promise(function(o){r.subscribe(o),i=o}).then(n);return s.cancel=function(){r.unsubscribe(i)},s},t(function(i){r.reason||(r.reason=new Fre(i),e(r.reason))})}du.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};du.prototype.subscribe=function(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]};du.prototype.unsubscribe=function(e){if(this._listeners){var r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}};du.source=function(){var e,r=new du(function(i){e=i});return{token:r,cancel:e}};WF.exports=du});var KF=m((Nme,zF)=>{"use strict";c();zF.exports=function(e){return function(n){return e.apply(null,n)}}});var JF=m((Dme,YF)=>{"use strict";c();YF.exports=function(e){return typeof e=="object"&&e.isAxiosError===!0}});var eM=m((Rme,oI)=>{"use strict";c();var XF=mr(),Mre=G_(),ly=QF(),Ure=nI(),qre=Ml();function ZF(t){var e=new ly(t),r=Mre(ly.prototype.request,e);return XF.extend(r,ly.prototype,e),XF.extend(r,e),r.create=function(i){return ZF(Ure(t,i))},r}var Ln=ZF(qre);Ln.Axios=ly;Ln.Cancel=Fl();Ln.CancelToken=$F();Ln.isCancel=eI();Ln.VERSION=iI().version;Ln.all=function(e){return Promise.all(e)};Ln.spread=KF();Ln.isAxiosError=JF();oI.exports=Ln;oI.exports.default=Ln});var rM=m((Lme,tM)=>{c();tM.exports=eM()});var nM=m(fy=>{"use strict";c();Object.defineProperty(fy,"__esModule",{value:!0});fy.NativeAuthClientConfig=void 0;var aI=class{constructor(){this.origin=typeof window<"u"&&typeof window.location<"u"?window.location.hostname:"",this.apiUrl="https://api.multiversx.com",this.expirySeconds=60*60*24}};fy.NativeAuthClientConfig=aI});var cI=m(pu=>{"use strict";c();var ho=pu&&pu.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(f){try{l(n.next(f))}catch(d){o(d)}}function u(f){try{l(n.throw(f))}catch(d){o(d)}}function l(f){f.done?s(f.value):i(f.value).then(a,u)}l((n=n.apply(t,e||[])).next())})};Object.defineProperty(pu,"__esModule",{value:!0});pu.NativeAuthClient=void 0;var Vre=rM(),Hre=nM(),uI=class{constructor(e){this.config=Object.assign(new Hre.NativeAuthClientConfig,e)}getToken(e,r,n){let i=this.encodeValue(e),s=this.encodeValue(r);return`${i}.${s}.${n}`}initialize(e={}){return ho(this,void 0,void 0,function*(){let r=yield this.getCurrentBlockHash(),n=this.encodeValue(JSON.stringify(e));return`${this.encodeValue(this.config.origin)}.${r}.${this.config.expirySeconds}.${n}`})}getCurrentBlockHash(){return ho(this,void 0,void 0,function*(){return this.config.gatewayUrl?yield this.getCurrentBlockHashWithGateway():yield this.getCurrentBlockHashWithApi()})}getCurrentBlockHashWithGateway(){return ho(this,void 0,void 0,function*(){let e=yield this.getCurrentRound(),r=`${this.config.gatewayUrl}/blocks/by-round/${e}`;return(yield this.get(r)).data.data.blocks.filter(o=>o.shard===this.config.blockHashShard)[0].hash})}getCurrentRound(){return ho(this,void 0,void 0,function*(){if(!this.config.gatewayUrl)throw new Error("Gateway URL not set");if(!this.config.blockHashShard)throw new Error("Blockhash shard not set");let e=`${this.config.gatewayUrl}/network/status/${this.config.blockHashShard}`;return(yield this.get(e)).data.data.status.erd_current_round})}getCurrentBlockHashWithApi(){return ho(this,void 0,void 0,function*(){try{let e=`${this.config.apiUrl}/blocks/latest?ttl=${this.config.expirySeconds}&fields=hash`,r=yield this.get(e);if(r.data[0].hash!==void 0)return r.data[0].hash}catch{}return this.getCurrentBlockHashWithApiFallback()})}getCurrentBlockHashWithApiFallback(){return ho(this,void 0,void 0,function*(){let e=`${this.config.apiUrl}/blocks?size=1&fields=hash`;return this.config.blockHashShard!==void 0&&(e+=`&shard=${this.config.blockHashShard}`),(yield this.get(e)).data[0].hash})}encodeValue(e){return this.escape(h.Buffer.from(e,"utf8").toString("base64"))}escape(e){return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}get(e){return ho(this,void 0,void 0,function*(){return yield Vre.default.get(e,{headers:this.config.extraRequestHeaders})})}};pu.NativeAuthClient=uI});var uM=m(py=>{"use strict";c();Object.defineProperty(py,"__esModule",{value:!0});py.TransactionStatus=void 0;var lI=class t{constructor(e){this.status=(e||"").toLowerCase()}static createUnknown(){return new t("unknown")}isPending(){return this.status=="received"||this.status=="pending"}isExecuted(){return this.isSuccessful()||this.isFailed()||this.isInvalid()}isSuccessful(){return this.status=="executed"||this.status=="success"||this.status=="successful"}isFailed(){return this.status=="fail"||this.status=="failed"||this.status=="unsuccessful"||this.isInvalid()}isInvalid(){return this.status=="invalid"}toString(){return this.status}valueOf(){return this.status}equals(e){return e?this.status==e.status:!1}};py.TransactionStatus=lI});var mu=m(Vt=>{"use strict";c();var Gre=Vt&&Vt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),kre=Vt&&Vt.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),jre=Vt&&Vt.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Gre(e,t,r);return kre(e,t),e};Object.defineProperty(Vt,"__esModule",{value:!0});Vt.zeroPadStringIfOddLength=Vt.isPaddedHex=Vt.numberToPaddedHex=Vt.Nonce=Vt.Address=void 0;var cM=jre(Rm()),Qre="erd",fI=class t{constructor(e){this.value=e}static fromPubkey(e){let r=cM.toWords(e),n=cM.encode(Qre,r);return new t(n)}bech32(){return this.value}toString(){return this.bech32()}};Vt.Address=fI;var hI=class{constructor(e){this.value=e}valueOf(){return this.value}hex(){return lM(this.value)}};Vt.Nonce=hI;function lM(t){let e=t.toString(16);return fM(e)}Vt.numberToPaddedHex=lM;function Wre(t){t=t||"";let e=h.Buffer.from(t,"hex").toString("hex");return t.toUpperCase()==e.toUpperCase()}Vt.isPaddedHex=Wre;function fM(t){return t=t||"",t.length%2==1?"0"+t:t}Vt.zeroPadStringIfOddLength=fM});var dM=m(gy=>{"use strict";c();Object.defineProperty(gy,"__esModule",{value:!0});gy.TransactionReceipt=void 0;var hM=mu(),dI=class t{constructor(){this.value="",this.sender=new hM.Address(""),this.data="",this.hash=""}static fromHttpResponse(e){let r=new t;return r.value=(e.value||0).toString(),r.sender=new hM.Address(e.sender),r.data=e.data,r.hash=e.txHash,r}};gy.TransactionReceipt=dI});var pM=m(Fn=>{"use strict";c();Object.defineProperty(Fn,"__esModule",{value:!0});Fn.ErrContractQuery=Fn.ErrNetworkProvider=Fn.ErrUnexpectedCondition=Fn.Err=void 0;var wu=class extends Error{constructor(e,r){super(e),this.inner=void 0,this.inner=r}};Fn.Err=wu;var pI=class extends wu{constructor(e){super(`Unexpected condition: [${e}]`)}};Fn.ErrUnexpectedCondition=pI;var gI=class extends wu{constructor(e,r,n){let i=`Request error on url [${e}]: [${r}]`;super(i,n)}};Fn.ErrNetworkProvider=gI;var yI=class extends wu{constructor(e){super(e.message.replace("executeQuery:",""))}};Fn.ErrContractQuery=yI});var yM=m(cs=>{"use strict";c();Object.defineProperty(cs,"__esModule",{value:!0});cs.TransactionEventTopic=cs.TransactionEventData=cs.TransactionEvent=void 0;var gM=mu(),mI=class t{constructor(e){this.address=new gM.Address(""),this.identifier="",this.topics=[],this.dataPayload=new ql(h.Buffer.from("","utf8")),this.data="",Object.assign(this,e)}static fromHttpResponse(e){let r=new t;r.address=new gM.Address(e.address),r.identifier=e.identifier||"",r.topics=(e.topics||[]).map(i=>new yy(i));let n=h.Buffer.from(e.data||"","base64");return r.dataPayload=new ql(n),r.data=n.toString(),r}findFirstOrNoneTopic(e){return this.topics.filter(r=>e(r))[0]}getLastTopic(){return this.topics[this.topics.length-1]}};cs.TransactionEvent=mI;var ql=class{constructor(e){this.raw=e}toString(){return this.raw.toString("utf8")}hex(){return this.raw.toString("hex")}valueOf(){return this.raw}};cs.TransactionEventData=ql;var yy=class{constructor(e){this.raw=h.Buffer.from(e||"","base64")}toString(){return this.raw.toString("utf8")}hex(){return this.raw.toString("hex")}valueOf(){return this.raw}};cs.TransactionEventTopic=yy});var EI=m(my=>{"use strict";c();Object.defineProperty(my,"__esModule",{value:!0});my.TransactionLogs=void 0;var $re=pM(),mM=mu(),zre=yM(),wI=class t{constructor(e){this.address=new mM.Address(""),this.events=[],Object.assign(this,e)}static fromHttpResponse(e){let r=new t;return r.address=new mM.Address(e.address),r.events=(e.events||[]).map(n=>zre.TransactionEvent.fromHttpResponse(n)),r}findSingleOrNoneEvent(e,r){let n=this.findEvents(e,r);if(n.length>1)throw new $re.ErrUnexpectedCondition(`more than one event of type ${e}`);return n[0]}findFirstOrNoneEvent(e,r){return this.findEvents(e,r)[0]}findEvents(e,r){let n=this.events.filter(i=>i.identifier==e);return r&&(n=n.filter(i=>r(i))),n}};my.TransactionLogs=wI});var EM=m(Eu=>{"use strict";c();Object.defineProperty(Eu,"__esModule",{value:!0});Eu.ContractResultItem=Eu.ContractResults=void 0;var wM=EI(),wy=mu(),vI=class t{constructor(e){this.items=e,this.items.sort(function(r,n){return r.nonce.valueOf()-n.nonce.valueOf()})}static fromProxyHttpResponse(e){let r=e.map(n=>Vl.fromProxyHttpResponse(n));return new t(r)}static fromApiHttpResponse(e){let r=e.map(n=>Vl.fromApiHttpResponse(n));return new t(r)}};Eu.ContractResults=vI;var Vl=class t{constructor(e){this.hash="",this.nonce=0,this.value="",this.receiver=new wy.Address(""),this.sender=new wy.Address(""),this.data="",this.previousHash="",this.originalHash="",this.gasLimit=0,this.gasPrice=0,this.callType=0,this.returnMessage="",this.logs=new wM.TransactionLogs,Object.assign(this,e)}static fromProxyHttpResponse(e){return t.fromHttpResponse(e)}static fromApiHttpResponse(e){let r=t.fromHttpResponse(e);return r.data=h.Buffer.from(r.data,"base64").toString(),r.callType=Number(r.callType),r}static fromHttpResponse(e){let r=new t;return r.hash=e.hash,r.nonce=Number(e.nonce||0),r.value=(e.value||0).toString(),r.receiver=new wy.Address(e.receiver),r.sender=new wy.Address(e.sender),r.previousHash=e.prevTxHash,r.originalHash=e.originalTxHash,r.gasLimit=Number(e.gasLimit||0),r.gasPrice=Number(e.gasPrice||0),r.data=e.data||"",r.callType=e.callType,r.returnMessage=e.returnMessage,r.logs=wM.TransactionLogs.fromHttpResponse(e.logs||{}),r}};Eu.ContractResultItem=Vl});var vM=m(ls=>{"use strict";c();var Kre=ls&&ls.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ls,"__esModule",{value:!0});ls.EsdtContractAddress=ls.MaxUint64AsBigNumber=void 0;var Yre=Kre(Gt()),Jre=mu();ls.MaxUint64AsBigNumber=new Yre.default("18446744073709551615");ls.EsdtContractAddress=new Jre.Address("erd1qqqqqqqqqqqqqqqpqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqzllls8a5w6u")});var AM=m(vu=>{"use strict";c();var Xre=vu&&vu.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(vu,"__esModule",{value:!0});vu.ContractQueryResponse=void 0;var Zre=Xre(Gt()),ene=vM(),AI=class t{constructor(e){this.returnData=e?.returnData||[],this.returnCode=e?.returnCode||"",this.returnMessage=e?.returnMessage||"",this.gasUsed=e?.gasUsed||0}static fromHttpResponse(e){let r=e.returnData||e.ReturnData,n=e.returnCode||e.ReturnCode,i=e.returnMessage||e.ReturnMessage,s=new Zre.default(e.gasRemaining||e.GasRemaining||0),o=ene.MaxUint64AsBigNumber.minus(s).toNumber();return new t({returnData:r,returnCode:n,returnMessage:i,gasUsed:o})}getReturnDataParts(){return this.returnData.map(e=>h.Buffer.from(e||"","base64"))}toJSON(){return{returnData:this.returnData,returnCode:this.returnCode,returnMessage:this.returnMessage,gasUsed:this.gasUsed.valueOf()}}};vu.ContractQueryResponse=AI});var bM=m(Ey=>{"use strict";c();Object.defineProperty(Ey,"__esModule",{value:!0});Ey.ContractQueryRequest=void 0;var bI=class{constructor(e){this.query=e}toHttpRequest(){var e;let r={},n=this.query;return r.scAddress=n.address.bech32(),r.caller=!((e=n.caller)===null||e===void 0)&&e.bech32()?n.caller.bech32():void 0,r.funcName=n.func.toString(),r.value=n.value?n.value.toString():void 0,r.args=n.getEncodedArguments(),r}};Ey.ContractQueryRequest=bI});var RM=m((zwe,PM)=>{c();PM.exports=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}});var fs=m(go=>{c();var _I,tne=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];go.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};go.getSymbolTotalCodewords=function(e){return tne[e]};go.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};go.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');_I=e};go.isKanjiModeEnabled=function(){return typeof _I<"u"};go.toSJIS=function(e){return _I(e)}});var by=m(kr=>{c();kr.L={bit:1};kr.M={bit:0};kr.Q={bit:3};kr.H={bit:2};function rne(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return kr.L;case"m":case"medium":return kr.M;case"q":case"quartile":return kr.Q;case"h":case"high":return kr.H;default:throw new Error("Unknown EC Level: "+t)}}kr.isValid=function(e){return e&&typeof e.bit<"u"&&e.bit>=0&&e.bit<4};kr.from=function(e,r){if(kr.isValid(e))return e;try{return rne(e)}catch{return r}}});var FM=m((eEe,LM)=>{c();function BM(){this.buffer=[],this.length=0}BM.prototype={get:function(t){let e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let r=0;r<e;r++)this.putBit((t>>>e-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){let e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};LM.exports=BM});var UM=m((rEe,MM)=>{c();function Hl(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}Hl.prototype.set=function(t,e,r,n){let i=t*this.size+e;this.data[i]=r,n&&(this.reservedBit[i]=!0)};Hl.prototype.get=function(t,e){return this.data[t*this.size+e]};Hl.prototype.xor=function(t,e,r){this.data[t*this.size+e]^=r};Hl.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};MM.exports=Hl});var qM=m(_y=>{c();var nne=fs().getSymbolSize;_y.getRowColCoords=function(e){if(e===1)return[];let r=Math.floor(e/7)+2,n=nne(e),i=n===145?26:Math.ceil((n-13)/(2*r-2))*2,s=[n-7];for(let o=1;o<r-1;o++)s[o]=s[o-1]-i;return s.push(6),s.reverse()};_y.getPositions=function(e){let r=[],n=_y.getRowColCoords(e),i=n.length;for(let s=0;s<i;s++)for(let o=0;o<i;o++)s===0&&o===0||s===0&&o===i-1||s===i-1&&o===0||r.push([n[s],n[o]]);return r}});var GM=m(HM=>{c();var ine=fs().getSymbolSize,VM=7;HM.getPositions=function(e){let r=ine(e);return[[0,0],[r-VM,0],[0,r-VM]]}});var kM=m(et=>{c();et.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var yo={N1:3,N2:3,N3:40,N4:10};et.isValid=function(e){return e!=null&&e!==""&&!isNaN(e)&&e>=0&&e<=7};et.from=function(e){return et.isValid(e)?parseInt(e,10):void 0};et.getPenaltyN1=function(e){let r=e.size,n=0,i=0,s=0,o=null,a=null;for(let u=0;u<r;u++){i=s=0,o=a=null;for(let l=0;l<r;l++){let f=e.get(u,l);f===o?i++:(i>=5&&(n+=yo.N1+(i-5)),o=f,i=1),f=e.get(l,u),f===a?s++:(s>=5&&(n+=yo.N1+(s-5)),a=f,s=1)}i>=5&&(n+=yo.N1+(i-5)),s>=5&&(n+=yo.N1+(s-5))}return n};et.getPenaltyN2=function(e){let r=e.size,n=0;for(let i=0;i<r-1;i++)for(let s=0;s<r-1;s++){let o=e.get(i,s)+e.get(i,s+1)+e.get(i+1,s)+e.get(i+1,s+1);(o===4||o===0)&&n++}return n*yo.N2};et.getPenaltyN3=function(e){let r=e.size,n=0,i=0,s=0;for(let o=0;o<r;o++){i=s=0;for(let a=0;a<r;a++)i=i<<1&2047|e.get(o,a),a>=10&&(i===1488||i===93)&&n++,s=s<<1&2047|e.get(a,o),a>=10&&(s===1488||s===93)&&n++}return n*yo.N3};et.getPenaltyN4=function(e){let r=0,n=e.data.length;for(let s=0;s<n;s++)r+=e.data[s];return Math.abs(Math.ceil(r*100/n/5)-10)*yo.N4};function sne(t,e,r){switch(t){case et.Patterns.PATTERN000:return(e+r)%2===0;case et.Patterns.PATTERN001:return e%2===0;case et.Patterns.PATTERN010:return r%3===0;case et.Patterns.PATTERN011:return(e+r)%3===0;case et.Patterns.PATTERN100:return(Math.floor(e/2)+Math.floor(r/3))%2===0;case et.Patterns.PATTERN101:return e*r%2+e*r%3===0;case et.Patterns.PATTERN110:return(e*r%2+e*r%3)%2===0;case et.Patterns.PATTERN111:return(e*r%3+(e+r)%2)%2===0;default:throw new Error("bad maskPattern:"+t)}}et.applyMask=function(e,r){let n=r.size;for(let i=0;i<n;i++)for(let s=0;s<n;s++)r.isReserved(s,i)||r.xor(s,i,sne(e,s,i))};et.getBestMask=function(e,r){let n=Object.keys(et.Patterns).length,i=0,s=1/0;for(let o=0;o<n;o++){r(o),et.applyMask(o,e);let a=et.getPenaltyN1(e)+et.getPenaltyN2(e)+et.getPenaltyN3(e)+et.getPenaltyN4(e);et.applyMask(o,e),a<s&&(s=a,i=o)}return i}});var SI=m(II=>{c();var hs=by(),Iy=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Sy=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];II.getBlocksCount=function(e,r){switch(r){case hs.L:return Iy[(e-1)*4+0];case hs.M:return Iy[(e-1)*4+1];case hs.Q:return Iy[(e-1)*4+2];case hs.H:return Iy[(e-1)*4+3];default:return}};II.getTotalCodewordsCount=function(e,r){switch(r){case hs.L:return Sy[(e-1)*4+0];case hs.M:return Sy[(e-1)*4+1];case hs.Q:return Sy[(e-1)*4+2];case hs.H:return Sy[(e-1)*4+3];default:return}}});var jM=m(Cy=>{c();var Gl=new Uint8Array(512),Ty=new Uint8Array(256);(function(){let e=1;for(let r=0;r<255;r++)Gl[r]=e,Ty[e]=r,e<<=1,e&256&&(e^=285);for(let r=255;r<512;r++)Gl[r]=Gl[r-255]})();Cy.log=function(e){if(e<1)throw new Error("log("+e+")");return Ty[e]};Cy.exp=function(e){return Gl[e]};Cy.mul=function(e,r){return e===0||r===0?0:Gl[Ty[e]+Ty[r]]}});var QM=m(kl=>{c();var TI=jM();kl.mul=function(e,r){let n=new Uint8Array(e.length+r.length-1);for(let i=0;i<e.length;i++)for(let s=0;s<r.length;s++)n[i+s]^=TI.mul(e[i],r[s]);return n};kl.mod=function(e,r){let n=new Uint8Array(e);for(;n.length-r.length>=0;){let i=n[0];for(let o=0;o<r.length;o++)n[o]^=TI.mul(r[o],i);let s=0;for(;s<n.length&&n[s]===0;)s++;n=n.slice(s)}return n};kl.generateECPolynomial=function(e){let r=new Uint8Array([1]);for(let n=0;n<e;n++)r=kl.mul(r,new Uint8Array([1,TI.exp(n)]));return r}});var zM=m((yEe,$M)=>{c();var WM=QM();function CI(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}CI.prototype.initialize=function(e){this.degree=e,this.genPoly=WM.generateECPolynomial(this.degree)};CI.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");let r=new Uint8Array(e.length+this.degree);r.set(e);let n=WM.mod(r,this.genPoly),i=this.degree-n.length;if(i>0){let s=new Uint8Array(this.degree);return s.set(n,i),s}return n};$M.exports=CI});var xI=m(KM=>{c();KM.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}});var NI=m(fi=>{c();var YM="[0-9]+",one="[A-Z $%*+\\-./:]+",jl="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";jl=jl.replace(/u/g,"\\u");var ane="(?:(?![A-Z0-9 $%*+\\-./:]|"+jl+`)(?:.|[\r
]))+`;fi.KANJI=new RegExp(jl,"g");fi.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");fi.BYTE=new RegExp(ane,"g");fi.NUMERIC=new RegExp(YM,"g");fi.ALPHANUMERIC=new RegExp(one,"g");var une=new RegExp("^"+jl+"$"),cne=new RegExp("^"+YM+"$"),lne=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");fi.testKanji=function(e){return une.test(e)};fi.testNumeric=function(e){return cne.test(e)};fi.testAlphanumeric=function(e){return lne.test(e)}});var ds=m(Nt=>{c();var fne=xI(),OI=NI();Nt.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]};Nt.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]};Nt.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]};Nt.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]};Nt.MIXED={bit:-1};Nt.getCharCountIndicator=function(e,r){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!fne.isValid(r))throw new Error("Invalid version: "+r);return r>=1&&r<10?e.ccBits[0]:r<27?e.ccBits[1]:e.ccBits[2]};Nt.getBestModeForData=function(e){return OI.testNumeric(e)?Nt.NUMERIC:OI.testAlphanumeric(e)?Nt.ALPHANUMERIC:OI.testKanji(e)?Nt.KANJI:Nt.BYTE};Nt.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")};Nt.isValid=function(e){return e&&e.bit&&e.ccBits};function hne(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"numeric":return Nt.NUMERIC;case"alphanumeric":return Nt.ALPHANUMERIC;case"kanji":return Nt.KANJI;case"byte":return Nt.BYTE;default:throw new Error("Unknown mode: "+t)}}Nt.from=function(e,r){if(Nt.isValid(e))return e;try{return hne(e)}catch{return r}}});var tU=m(mo=>{c();var xy=fs(),dne=SI(),JM=by(),ps=ds(),DI=xI(),ZM=7973,XM=xy.getBCHDigit(ZM);function pne(t,e,r){for(let n=1;n<=40;n++)if(e<=mo.getCapacity(n,r,t))return n}function eU(t,e){return ps.getCharCountIndicator(t,e)+4}function gne(t,e){let r=0;return t.forEach(function(n){let i=eU(n.mode,e);r+=i+n.getBitsLength()}),r}function yne(t,e){for(let r=1;r<=40;r++)if(gne(t,r)<=mo.getCapacity(r,e,ps.MIXED))return r}mo.from=function(e,r){return DI.isValid(e)?parseInt(e,10):r};mo.getCapacity=function(e,r,n){if(!DI.isValid(e))throw new Error("Invalid QR Code version");typeof n>"u"&&(n=ps.BYTE);let i=xy.getSymbolTotalCodewords(e),s=dne.getTotalCodewordsCount(e,r),o=(i-s)*8;if(n===ps.MIXED)return o;let a=o-eU(n,e);switch(n){case ps.NUMERIC:return Math.floor(a/10*3);case ps.ALPHANUMERIC:return Math.floor(a/11*2);case ps.KANJI:return Math.floor(a/13);case ps.BYTE:default:return Math.floor(a/8)}};mo.getBestVersionForData=function(e,r){let n,i=JM.from(r,JM.M);if(Array.isArray(e)){if(e.length>1)return yne(e,i);if(e.length===0)return 1;n=e[0]}else n=e;return pne(n.mode,n.getLength(),i)};mo.getEncodedBits=function(e){if(!DI.isValid(e)||e<7)throw new Error("Invalid QR Code version");let r=e<<12;for(;xy.getBCHDigit(r)-XM>=0;)r^=ZM<<xy.getBCHDigit(r)-XM;return e<<12|r}});var sU=m(iU=>{c();var PI=fs(),nU=1335,mne=21522,rU=PI.getBCHDigit(nU);iU.getEncodedBits=function(e,r){let n=e.bit<<3|r,i=n<<10;for(;PI.getBCHDigit(i)-rU>=0;)i^=nU<<PI.getBCHDigit(i)-rU;return(n<<10|i)^mne}});var aU=m((xEe,oU)=>{c();var wne=ds();function Au(t){this.mode=wne.NUMERIC,this.data=t.toString()}Au.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};Au.prototype.getLength=function(){return this.data.length};Au.prototype.getBitsLength=function(){return Au.getBitsLength(this.data.length)};Au.prototype.write=function(e){let r,n,i;for(r=0;r+3<=this.data.length;r+=3)n=this.data.substr(r,3),i=parseInt(n,10),e.put(i,10);let s=this.data.length-r;s>0&&(n=this.data.substr(r),i=parseInt(n,10),e.put(i,s*3+1))};oU.exports=Au});var cU=m((OEe,uU)=>{c();var Ene=ds(),RI=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function bu(t){this.mode=Ene.ALPHANUMERIC,this.data=t}bu.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};bu.prototype.getLength=function(){return this.data.length};bu.prototype.getBitsLength=function(){return bu.getBitsLength(this.data.length)};bu.prototype.write=function(e){let r;for(r=0;r+2<=this.data.length;r+=2){let n=RI.indexOf(this.data[r])*45;n+=RI.indexOf(this.data[r+1]),e.put(n,11)}this.data.length%2&&e.put(RI.indexOf(this.data[r]),6)};uU.exports=bu});var fU=m((PEe,lU)=>{"use strict";c();lU.exports=function(e){for(var r=[],n=e.length,i=0;i<n;i++){var s=e.charCodeAt(i);if(s>=55296&&s<=56319&&n>i+1){var o=e.charCodeAt(i+1);o>=56320&&o<=57343&&(s=(s-55296)*1024+o-56320+65536,i+=1)}if(s<128){r.push(s);continue}if(s<2048){r.push(s>>6|192),r.push(s&63|128);continue}if(s<55296||s>=57344&&s<65536){r.push(s>>12|224),r.push(s>>6&63|128),r.push(s&63|128);continue}if(s>=65536&&s<=1114111){r.push(s>>18|240),r.push(s>>12&63|128),r.push(s>>6&63|128),r.push(s&63|128);continue}r.push(239,191,189)}return new Uint8Array(r).buffer}});var dU=m((BEe,hU)=>{c();var vne=fU(),Ane=ds();function _u(t){this.mode=Ane.BYTE,typeof t=="string"&&(t=vne(t)),this.data=new Uint8Array(t)}_u.getBitsLength=function(e){return e*8};_u.prototype.getLength=function(){return this.data.length};_u.prototype.getBitsLength=function(){return _u.getBitsLength(this.data.length)};_u.prototype.write=function(t){for(let e=0,r=this.data.length;e<r;e++)t.put(this.data[e],8)};hU.exports=_u});var gU=m((FEe,pU)=>{c();var bne=ds(),_ne=fs();function Iu(t){this.mode=bne.KANJI,this.data=t}Iu.getBitsLength=function(e){return e*13};Iu.prototype.getLength=function(){return this.data.length};Iu.prototype.getBitsLength=function(){return Iu.getBitsLength(this.data.length)};Iu.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let r=_ne.toSJIS(this.data[e]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),t.put(r,13)}};pU.exports=Iu});var yU=m((UEe,BI)=>{"use strict";c();var Ql={single_source_shortest_paths:function(t,e,r){var n={},i={};i[e]=0;var s=Ql.PriorityQueue.make();s.push(e,0);for(var o,a,u,l,f,d,g,w,E;!s.empty();){o=s.pop(),a=o.value,l=o.cost,f=t[a]||{};for(u in f)f.hasOwnProperty(u)&&(d=f[u],g=l+d,w=i[u],E=typeof i[u]>"u",(E||w>g)&&(i[u]=g,s.push(u,g),n[u]=a))}if(typeof r<"u"&&typeof i[r]>"u"){var T=["Could not find a path from ",e," to ",r,"."].join("");throw new Error(T)}return n},extract_shortest_path_from_predecessor_list:function(t,e){for(var r=[],n=e,i;n;)r.push(n),i=t[n],n=t[n];return r.reverse(),r},find_path:function(t,e,r){var n=Ql.single_source_shortest_paths(t,e,r);return Ql.extract_shortest_path_from_predecessor_list(n,r)},PriorityQueue:{make:function(t){var e=Ql.PriorityQueue,r={},n;t=t||{};for(n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);return r.queue=[],r.sorter=t.sorter||e.default_sorter,r},default_sorter:function(t,e){return t.cost-e.cost},push:function(t,e){var r={value:t,cost:e};this.queue.push(r),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};typeof BI<"u"&&(BI.exports=Ql)});var IU=m(Su=>{c();var He=ds(),EU=aU(),vU=cU(),AU=dU(),bU=gU(),Wl=NI(),Ny=fs(),Ine=yU();function mU(t){return unescape(encodeURIComponent(t)).length}function $l(t,e,r){let n=[],i;for(;(i=t.exec(r))!==null;)n.push({data:i[0],index:i.index,mode:e,length:i[0].length});return n}function _U(t){let e=$l(Wl.NUMERIC,He.NUMERIC,t),r=$l(Wl.ALPHANUMERIC,He.ALPHANUMERIC,t),n,i;return Ny.isKanjiModeEnabled()?(n=$l(Wl.BYTE,He.BYTE,t),i=$l(Wl.KANJI,He.KANJI,t)):(n=$l(Wl.BYTE_KANJI,He.BYTE,t),i=[]),e.concat(r,n,i).sort(function(o,a){return o.index-a.index}).map(function(o){return{data:o.data,mode:o.mode,length:o.length}})}function LI(t,e){switch(e){case He.NUMERIC:return EU.getBitsLength(t);case He.ALPHANUMERIC:return vU.getBitsLength(t);case He.KANJI:return bU.getBitsLength(t);case He.BYTE:return AU.getBitsLength(t)}}function Sne(t){return t.reduce(function(e,r){let n=e.length-1>=0?e[e.length-1]:null;return n&&n.mode===r.mode?(e[e.length-1].data+=r.data,e):(e.push(r),e)},[])}function Tne(t){let e=[];for(let r=0;r<t.length;r++){let n=t[r];switch(n.mode){case He.NUMERIC:e.push([n,{data:n.data,mode:He.ALPHANUMERIC,length:n.length},{data:n.data,mode:He.BYTE,length:n.length}]);break;case He.ALPHANUMERIC:e.push([n,{data:n.data,mode:He.BYTE,length:n.length}]);break;case He.KANJI:e.push([n,{data:n.data,mode:He.BYTE,length:mU(n.data)}]);break;case He.BYTE:e.push([{data:n.data,mode:He.BYTE,length:mU(n.data)}])}}return e}function Cne(t,e){let r={},n={start:{}},i=["start"];for(let s=0;s<t.length;s++){let o=t[s],a=[];for(let u=0;u<o.length;u++){let l=o[u],f=""+s+u;a.push(f),r[f]={node:l,lastCount:0},n[f]={};for(let d=0;d<i.length;d++){let g=i[d];r[g]&&r[g].node.mode===l.mode?(n[g][f]=LI(r[g].lastCount+l.length,l.mode)-LI(r[g].lastCount,l.mode),r[g].lastCount+=l.length):(r[g]&&(r[g].lastCount=l.length),n[g][f]=LI(l.length,l.mode)+4+He.getCharCountIndicator(l.mode,e))}}i=a}for(let s=0;s<i.length;s++)n[i[s]].end=0;return{map:n,table:r}}function wU(t,e){let r,n=He.getBestModeForData(t);if(r=He.from(e,n),r!==He.BYTE&&r.bit<n.bit)throw new Error('"'+t+'" cannot be encoded with mode '+He.toString(r)+`.
 Suggested mode is: `+He.toString(n));switch(r===He.KANJI&&!Ny.isKanjiModeEnabled()&&(r=He.BYTE),r){case He.NUMERIC:return new EU(t);case He.ALPHANUMERIC:return new vU(t);case He.KANJI:return new bU(t);case He.BYTE:return new AU(t)}}Su.fromArray=function(e){return e.reduce(function(r,n){return typeof n=="string"?r.push(wU(n,null)):n.data&&r.push(wU(n.data,n.mode)),r},[])};Su.fromString=function(e,r){let n=_U(e,Ny.isKanjiModeEnabled()),i=Tne(n),s=Cne(i,r),o=Ine.find_path(s.map,"start","end"),a=[];for(let u=1;u<o.length-1;u++)a.push(s.table[o[u]].node);return Su.fromArray(Sne(a))};Su.rawSplit=function(e){return Su.fromArray(_U(e,Ny.isKanjiModeEnabled()))}});var TU=m(SU=>{c();var Dy=fs(),FI=by(),xne=FM(),Nne=UM(),One=qM(),Dne=GM(),qI=kM(),VI=SI(),Pne=zM(),Oy=tU(),Rne=sU(),Bne=ds(),MI=IU();function Lne(t,e){let r=t.size,n=Dne.getPositions(e);for(let i=0;i<n.length;i++){let s=n[i][0],o=n[i][1];for(let a=-1;a<=7;a++)if(!(s+a<=-1||r<=s+a))for(let u=-1;u<=7;u++)o+u<=-1||r<=o+u||(a>=0&&a<=6&&(u===0||u===6)||u>=0&&u<=6&&(a===0||a===6)||a>=2&&a<=4&&u>=2&&u<=4?t.set(s+a,o+u,!0,!0):t.set(s+a,o+u,!1,!0))}}function Fne(t){let e=t.size;for(let r=8;r<e-8;r++){let n=r%2===0;t.set(r,6,n,!0),t.set(6,r,n,!0)}}function Mne(t,e){let r=One.getPositions(e);for(let n=0;n<r.length;n++){let i=r[n][0],s=r[n][1];for(let o=-2;o<=2;o++)for(let a=-2;a<=2;a++)o===-2||o===2||a===-2||a===2||o===0&&a===0?t.set(i+o,s+a,!0,!0):t.set(i+o,s+a,!1,!0)}}function Une(t,e){let r=t.size,n=Oy.getEncodedBits(e),i,s,o;for(let a=0;a<18;a++)i=Math.floor(a/3),s=a%3+r-8-3,o=(n>>a&1)===1,t.set(i,s,o,!0),t.set(s,i,o,!0)}function UI(t,e,r){let n=t.size,i=Rne.getEncodedBits(e,r),s,o;for(s=0;s<15;s++)o=(i>>s&1)===1,s<6?t.set(s,8,o,!0):s<8?t.set(s+1,8,o,!0):t.set(n-15+s,8,o,!0),s<8?t.set(8,n-s-1,o,!0):s<9?t.set(8,15-s-1+1,o,!0):t.set(8,15-s-1,o,!0);t.set(n-8,8,1,!0)}function qne(t,e){let r=t.size,n=-1,i=r-1,s=7,o=0;for(let a=r-1;a>0;a-=2)for(a===6&&a--;;){for(let u=0;u<2;u++)if(!t.isReserved(i,a-u)){let l=!1;o<e.length&&(l=(e[o]>>>s&1)===1),t.set(i,a-u,l),s--,s===-1&&(o++,s=7)}if(i+=n,i<0||r<=i){i-=n,n=-n;break}}}function Vne(t,e,r){let n=new xne;r.forEach(function(u){n.put(u.mode.bit,4),n.put(u.getLength(),Bne.getCharCountIndicator(u.mode,t)),u.write(n)});let i=Dy.getSymbolTotalCodewords(t),s=VI.getTotalCodewordsCount(t,e),o=(i-s)*8;for(n.getLengthInBits()+4<=o&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);let a=(o-n.getLengthInBits())/8;for(let u=0;u<a;u++)n.put(u%2?17:236,8);return Hne(n,t,e)}function Hne(t,e,r){let n=Dy.getSymbolTotalCodewords(e),i=VI.getTotalCodewordsCount(e,r),s=n-i,o=VI.getBlocksCount(e,r),a=n%o,u=o-a,l=Math.floor(n/o),f=Math.floor(s/o),d=f+1,g=l-f,w=new Pne(g),E=0,T=new Array(o),D=new Array(o),B=0,W=new Uint8Array(t.buffer);for(let _=0;_<o;_++){let S=_<u?f:d;T[_]=W.slice(E,E+S),D[_]=w.encode(T[_]),E+=S,B=Math.max(B,S)}let U=new Uint8Array(n),A=0,I,N;for(I=0;I<B;I++)for(N=0;N<o;N++)I<T[N].length&&(U[A++]=T[N][I]);for(I=0;I<g;I++)for(N=0;N<o;N++)U[A++]=D[N][I];return U}function Gne(t,e,r,n){let i;if(Array.isArray(t))i=MI.fromArray(t);else if(typeof t=="string"){let l=e;if(!l){let f=MI.rawSplit(t);l=Oy.getBestVersionForData(f,r)}i=MI.fromString(t,l||40)}else throw new Error("Invalid data");let s=Oy.getBestVersionForData(i,r);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=s;else if(e<s)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+s+`.
`);let o=Vne(e,r,i),a=Dy.getSymbolSize(e),u=new Nne(a);return Lne(u,e),Fne(u),Mne(u,e),UI(u,r,0),e>=7&&Une(u,e),qne(u,o),isNaN(n)&&(n=qI.getBestMask(u,UI.bind(null,u,r))),qI.applyMask(n,u),UI(u,r,n),{modules:u,version:e,errorCorrectionLevel:r,maskPattern:n,segments:i}}SU.create=function(e,r){if(typeof e>"u"||e==="")throw new Error("No input text");let n=FI.M,i,s;return typeof r<"u"&&(n=FI.from(r.errorCorrectionLevel,FI.M),i=Oy.from(r.version),s=qI.from(r.maskPattern),r.toSJISFunc&&Dy.setToSJISFunction(r.toSJISFunc)),Gne(e,i,n,s)}});var HI=m(wo=>{c();function CU(t){if(typeof t=="number"&&(t=t.toString()),typeof t!="string")throw new Error("Color should be defined as hex string");let e=t.slice().replace("#","").split("");if(e.length<3||e.length===5||e.length>8)throw new Error("Invalid hex color: "+t);(e.length===3||e.length===4)&&(e=Array.prototype.concat.apply([],e.map(function(n){return[n,n]}))),e.length===6&&e.push("F","F");let r=parseInt(e.join(""),16);return{r:r>>24&255,g:r>>16&255,b:r>>8&255,a:r&255,hex:"#"+e.slice(0,6).join("")}}wo.getOptions=function(e){e||(e={}),e.color||(e.color={});let r=typeof e.margin>"u"||e.margin===null||e.margin<0?4:e.margin,n=e.width&&e.width>=21?e.width:void 0,i=e.scale||4;return{width:n,scale:n?4:i,margin:r,color:{dark:CU(e.color.dark||"#000000ff"),light:CU(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}};wo.getScale=function(e,r){return r.width&&r.width>=e+r.margin*2?r.width/(e+r.margin*2):r.scale};wo.getImageWidth=function(e,r){let n=wo.getScale(e,r);return Math.floor((e+r.margin*2)*n)};wo.qrToImageData=function(e,r,n){let i=r.modules.size,s=r.modules.data,o=wo.getScale(i,n),a=Math.floor((i+n.margin*2)*o),u=n.margin*o,l=[n.color.light,n.color.dark];for(let f=0;f<a;f++)for(let d=0;d<a;d++){let g=(f*a+d)*4,w=n.color.light;if(f>=u&&d>=u&&f<a-u&&d<a-u){let E=Math.floor((f-u)/o),T=Math.floor((d-u)/o);w=l[s[E*i+T]?1:0]}e[g++]=w.r,e[g++]=w.g,e[g++]=w.b,e[g]=w.a}}});var xU=m(Py=>{c();var GI=HI();function kne(t,e,r){t.clearRect(0,0,e.width,e.height),e.style||(e.style={}),e.height=r,e.width=r,e.style.height=r+"px",e.style.width=r+"px"}function jne(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}Py.render=function(e,r,n){let i=n,s=r;typeof i>"u"&&(!r||!r.getContext)&&(i=r,r=void 0),r||(s=jne()),i=GI.getOptions(i);let o=GI.getImageWidth(e.modules.size,i),a=s.getContext("2d"),u=a.createImageData(o,o);return GI.qrToImageData(u.data,e,i),kne(a,s,o),a.putImageData(u,0,0),s};Py.renderToDataURL=function(e,r,n){let i=n;typeof i>"u"&&(!r||!r.getContext)&&(i=r,r=void 0),i||(i={});let s=Py.render(e,r,i),o=i.type||"image/png",a=i.rendererOpts||{};return s.toDataURL(o,a.quality)}});var DU=m(OU=>{c();var Qne=HI();function NU(t,e){let r=t.a/255,n=e+'="'+t.hex+'"';return r<1?n+" "+e+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function kI(t,e,r){let n=t+e;return typeof r<"u"&&(n+=" "+r),n}function Wne(t,e,r){let n="",i=0,s=!1,o=0;for(let a=0;a<t.length;a++){let u=Math.floor(a%e),l=Math.floor(a/e);!u&&!s&&(s=!0),t[a]?(o++,a>0&&u>0&&t[a-1]||(n+=s?kI("M",u+r,.5+l+r):kI("m",i,0),i=0,s=!1),u+1<e&&t[a+1]||(n+=kI("h",o),o=0)):i++}return n}OU.render=function(e,r,n){let i=Qne.getOptions(r),s=e.modules.size,o=e.modules.data,a=s+i.margin*2,u=i.color.light.a?"<path "+NU(i.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",l="<path "+NU(i.color.dark,"stroke")+' d="'+Wne(o,s,i.margin)+'"/>',f='viewBox="0 0 '+a+" "+a+'"',g='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+f+' shape-rendering="crispEdges">'+u+l+`</svg>
`;return typeof n=="function"&&n(null,g),g}});var RU=m(zl=>{c();var $ne=RM(),jI=TU(),PU=xU(),zne=DU();function QI(t,e,r,n,i){let s=[].slice.call(arguments,1),o=s.length,a=typeof s[o-1]=="function";if(!a&&!$ne())throw new Error("Callback required as last argument");if(a){if(o<2)throw new Error("Too few arguments provided");o===2?(i=r,r=e,e=n=void 0):o===3&&(e.getContext&&typeof i>"u"?(i=n,n=void 0):(i=n,n=r,r=e,e=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(r=e,e=n=void 0):o===2&&!e.getContext&&(n=r,r=e,e=void 0),new Promise(function(u,l){try{let f=jI.create(r,n);u(t(f,e,n))}catch(f){l(f)}})}try{let u=jI.create(r,n);i(null,t(u,e,n))}catch(u){i(u)}}zl.create=jI.create;zl.toCanvas=QI.bind(null,PU.render);zl.toDataURL=QI.bind(null,PU.renderToDataURL);zl.toString=QI.bind(null,function(t,e,r){return zne.render(t,r)})});var KI=m(ys=>{"use strict";c();var oie=ys&&ys.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),kU=ys&&ys.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&oie(e,t,r)};Object.defineProperty(ys,"__esModule",{value:!0});kU(Ll(),ys);kU(L_(),ys)});c();var uie=_e(Em(),1),cie=_e(Zw(),1),lie=_e(tE(),1),fie=_e(ht(),1),hie=_e(ra(),1),die=_e(wn(),1),pie=_e(jn(),1),gie=_e(ed(),1),yie=_e(fv(),1),mie=_e(wc(),1),r5=_e(mi(),1),Mn=_e(tc(),1),n5=_e(Mu(),1),i5=_e(Do(),1);c();c();var HO=_e(pv(),1);c();c();var Td="elvenjs_state",UO="https://devnet-api.multiversx.com";var Fi="/dapp/init",Cd="devnet",qO="https://maiar.page.link/?apn=com.elrond.maiar.wallet&isi=1519405832&ibi=com.elrond.maiar.wallet&link=https://xportal.com/",VO=["wss://relay.walletconnect.com"],Yt={devnet:{id:"devnet",shortId:"D",name:"Devnet",egldLabel:"xEGLD",egldDenomination:"18",decimals:"4",gasPerDataByte:"1500",walletAddress:"https://devnet-wallet.multiversx.com",xAliasAddress:"https://devnet.xalias.com",apiAddress:"https://devnet-api.multiversx.com",explorerAddress:"https://devnet-explorer.multiversx.com",apiTimeout:1e4},testnet:{id:"testnet",shortId:"T",name:"Testnet",egldLabel:"xEGLD",egldDenomination:"18",decimals:"4",gasPerDataByte:"1500",walletAddress:"https://testnet-wallet.multiversx.com",xAliasAddress:"https://testnet.xalias.com",apiAddress:"https://testnet-api.multiversx.com",explorerAddress:"https://testnet-explorer.multiversx.com",apiTimeout:1e4},mainnet:{id:"mainnet",shortId:"1",name:"Mainnet",egldLabel:"EGLD",egldDenomination:"18",decimals:"4",gasPerDataByte:"1500",walletAddress:"https://wallet.multiversx.com",xAliasAddress:"https://xalias.com",apiAddress:"https://api.multiversx.com",explorerAddress:"https://explorer.multiversx.com",apiTimeout:1e4}};var Se={get(t){let e=localStorage.getItem(Td);if(!e)return{};let r=JSON.parse(e);return t?r[t]:r},set(t,e){let r=this.get();r[t]=e,localStorage.setItem(Td,JSON.stringify(r))},clear(){localStorage.removeItem(Td)}};var xd=async()=>{let t=HO.ExtensionProvider.getInstance();try{let e=await t.init(),r=Se.get();if(r?.address&&t.setAddress(r.address),!e){console.warn("Something went wrong when trying to initialize the ExtensionProvider..");return}return t}catch{console.warn("Can't initialize the Dapp Provider!")}};var XU=_e(pv(),1),ZU=_e(Cl(),1),e5=_e(Ll(),1),t5=_e(cI(),1);c();var oM=_e(Cl(),1);c();c();var Te=class{static set(e,r){if(!e)return;let n={...this.events,[e]:r};this.events=n}static get(e){if(!(!e||!this.events))return this.events[e]}static run(e,...r){!e||!this.events||this.events[e]?.(...r)}static clear(){this.events=void 0}};c();var as=(s=>(s.ledger="ledger",s.mobile="mobile",s.webWallet="web-wallet",s.browserExtension="browser-extension",s.xAlias="x-alias",s))(as||{});var gu=async t=>{if(!t.dappProvider)throw new Error("Error: Logout failed: There is no active session!");Te.run("onLoginPending");let e=await t.dappProvider.logout();return e&&(Se.clear(),Te.run("onLogout")),e};c();var iM=_e(ht(),1),sM=_e(ra(),1);c();var qt=t=>typeof t=="string"?t.toUpperCase():t instanceof Error?t.message:`Error: ${JSON.stringify(t)}`;c();var yu=()=>new Date().setHours(new Date().getHours()+24),hy=t=>Date.now()>t;var us=async t=>{let e=Se.get("address"),r=Se.get("expires");if(!(r&&hy(r))&&e&&t.networkProvider){let i=new iM.Address(e),s=new sM.Account(i);try{let o=await t.networkProvider.getAccount(i),a=await t.networkProvider.getGuardianData(i);Se.set("address",e),Se.set("activeGuardian",a.guarded&&a.activeGuardian?.address?a.activeGuardian.address:""),Se.set("nonce",o.nonce.valueOf()),Se.set("balance",o.balance.toString()),s.update(o)}catch(o){let a=qt(o);console.warn(`Something went wrong trying to synchronize the user account: ${a}`)}}};c();function dy(t){return t[Math.floor(Math.random()*t.length)]}var aM=async t=>{if(!t.initOptions.walletConnectV2ProjectId||!t.initOptions.chainType)return;let e={onClientLogin:()=>{us(t),Te.run("onLoggedIn")},onClientLogout:()=>gu(t),onClientEvent:i=>{console.log("wc2 session event: ",i)}},r=dy(t.initOptions.walletConnectV2RelayAddresses),n=new oM.WalletConnectV2Provider(e,Yt[t.initOptions.chainType].shortId,r,t.initOptions.walletConnectV2ProjectId);try{return await n.init(),n}catch{console.warn("Can't initialize the Dapp Provider!")}};c();var _M=_e(Gt(),1),vy=_e(ht(),1),IM=_e(uM(),1),SM=_e(dM(),1),TM=_e(EI(),1),CM=_e(EM(),1),xM=_e(AM(),1),NM=_e(bM(),1),OM=_e(Ec(),1);var Ay=class{constructor({apiUrl:e,chainType:r,apiTimeout:n}){this.chainType=r||Cd,this.apiUrl=e||Yt[this.chainType]?.apiAddress,this.apiTimeout=n||Yt[this.chainType]?.apiTimeout}async apiGet(e,r){if(typeof fetch<"u"){let n=new AbortController,i=setTimeout(()=>n.abort(),this.apiTimeout),s={method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"},signal:n.signal};try{let o=await fetch(this.apiUrl+"/"+e,Object.assign(s,r||{})),a=await o.json();if(!o.ok){let u=a?.error||o.status;return clearTimeout(i),Promise.reject(u)}return clearTimeout(i),a}catch(o){this.handleApiError(o,e)}}}async apiPost(e,r,n){if(typeof fetch<"u"){let i=new AbortController,s=setTimeout(()=>i.abort(),this.apiTimeout),o={method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(r||{}),signal:i.signal};try{let a=await fetch(this.apiUrl+"/"+e,Object.assign(o,n||{})),u=await a.json();if(!a.ok){let l=u?.error||a.status;return clearTimeout(s),Promise.reject(l)}return clearTimeout(s),u}catch(a){this.handleApiError(a,e)}}}handleApiError(e,r){if(!e.response)throw new Error(`Request error on url [${r}]: [${e.toString()}]`);let n=e.response.data,i=n.error||n.message||JSON.stringify(n);throw new Error(i)}async sendTransaction(e){return(await this.apiPost("transactions",e.toSendable())).txHash}async getAccount(e){let r=await this.apiGet(`accounts/${e.bech32()}`);return{address:new vy.Address(r?.address||""),nonce:Number(r?.nonce||0),balance:new _M.default(r?.balance||0),code:r?.code||"",userName:r?.username||""}}async getGuardianData(e){let r=await this.apiGet(`address/${e.bech32()}/guardian-data`);return{guarded:r?.data?.guardianData?.guarded||!1,activeGuardian:r?.data?.guardianData?.activeGuardian,pendingGuardian:r?.data?.guardianData?.pendingGuardian}}async getTransaction(e){let r=await this.apiGet(`transactions/${e}`),n=new IM.TransactionStatus(r.status);return{hash:e,type:r.type||"",nonce:r.nonce||0,round:r.round,epoch:r.epoch||0,value:(r.value||0).toString(),sender:new vy.Address(r.sender),receiver:new vy.Address(r.receiver),gasPrice:r.gasPrice||0,gasLimit:r.gasLimit||0,data:h.Buffer.from(r.data||"","base64"),status:n,timestamp:r.timestamp||0,blockNonce:r.blockNonce||0,hyperblockNonce:r.hyperblockNonce||0,hyperblockHash:r.hyperblockHash||"",receipt:SM.TransactionReceipt.fromHttpResponse(r.receipt||{}),logs:TM.TransactionLogs.fromHttpResponse(r.logs||{}),contractResults:CM.ContractResults.fromApiHttpResponse(r.results||[]),isCompleted:!n.isPending()}}async queryContract({address:e,func:r,args:n,value:i,caller:s}){try{let o=new OM.Query({address:e,func:r,args:n,value:i,caller:s}),a=new NM.ContractQueryRequest(o).toHttpRequest(),u=await this.apiPost("query",a);return xM.ContractQueryResponse.fromHttpResponse(u)}catch(o){this.handleApiError(o,"query")}}};c();var DM=async(t,e,r,n="/")=>{let i=await xd(),o={callbackUrl:encodeURIComponent(`${window.location.origin}${n}`),token:e};try{i&&(await i.login(o)?Te.run("onLoginPending"):Te.run("onLogout"))}catch(u){let l=qt(u);console.warn(`Something went wrong trying to login the user: ${l}`)}if(!i)throw new Error("Error: There were problems with auth provider initialization!");let{signature:a}=i.account;if(Se.set("loginToken",e),a&&Se.set("signature",a),t.networkProvider&&a)try{let u=await i.getAddress();if(!u)throw new Error("Canceled!");Se.set("address",u),Se.set("loginMethod","browser-extension"),Se.set("expires",yu()),await us(t),Te.run("onLoggedIn");let l=r.getToken(u,e,a);return Se.set("accessToken",l),i}catch(u){console.warn(`Something went wrong trying to synchronize the user account: ${u?.message}`),Te.run("onLogout")}};c();c();var BU=_e(RU(),1),LU=_e(Cl(),1);var Yne=t=>{let e=document.createElement("template");return e.innerHTML=t.trim(),e.content.firstChild?.cloneNode(!0)},Jne=t=>{let e=`${qO}?wallet-connect=${encodeURIComponent(t)}`,r=document.createElement("a");return r.setAttribute("href",e),r.setAttribute("rel","noopener noreferrer nofollow"),r.setAttribute("target","_blank"),r.textContent="xPortal login",r.classList.add("elven-qr-code-deep-link"),r},Xne=()=>{let t=document.createElement("div");return t.classList.add("elven-wc-pairings"),t},Zne=()=>{let t=document.createElement("div");return t.textContent="Existing WalletConnect pairings:",t.classList.add("elven-wc-pairings-header"),t},WI={},eie=(t,e)=>{let r=document.createElement("button");return r.classList.add("elven-wc-pairings-remove-btn"),r.textContent="\u2716",WI[t.topic]=new AbortController,r.addEventListener("click",n=>{n.stopImmediatePropagation(),e(t.topic)},{signal:WI[t.topic].signal}),r},Ry={},tie=(t,e,r)=>{let n=document.createElement("div"),i=document.createElement("div");n.classList.add("elven-wc-pairing-item"),n.setAttribute("id",t.topic),i.classList.add("elven-wc-pairing-item-description"),i.textContent=`${t.peerMetadata?.description} (${t.peerMetadata?.url})`,n.appendChild(i);let s=eie(t,e);return n.appendChild(s),Ry[t.topic]=new AbortController,n.addEventListener("click",()=>r(t.topic),{signal:Ry[t.topic].signal}),n},rie=()=>{let t=document.createElement("div");return t.classList.add("elven-wc-pairing-item-confirm-msessage"),t.setAttribute("id","elven-wc-pairing-item-confirm-msessage"),t.innerText="Confirm on xPortal app!",t},nie=t=>{if(!t)return;document.getElementById(t)?.remove()},iie=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),sie=async t=>t?await BU.default.toString(t,{type:"svg"}):void 0,FU=async(t,e,r,n)=>{if(!t)throw new Error("Please provide the QR Code and WalletConnect Pairings container id!");let i=null;typeof t=="string"?i=document.getElementById(t):t instanceof HTMLElement&&(i=t);let s=await sie(e),o;if(s&&(o=Yne(s)),i&&o&&(i.replaceChildren(),i.appendChild(o),iie()&&i.appendChild(Jne(e))),i&&r instanceof LU.WalletConnectV2Provider){let a=r.pairings,u=async f=>{try{f&&(await r.logout({topic:f}),nie(f))}catch(d){let g=qt(d);console.warn(`Something went wrong trying to remove the existing pairing: ${g}`)}finally{Ry[f].abort()}},l=async f=>{try{let{approval:d}=await r.connect({topic:f,methods:["mvx_cancelAction","mvx_signNativeAuthToken"]});document.getElementById("elven-wc-pairing-item-confirm-msessage")||document.getElementById(f)?.after(rie()),await r.login({approval:d,token:n})}catch(d){let g=qt(d);console.warn(`Something went wrong trying to login the user: ${g}`)}finally{for(let d of Object.values(Ry))d?.abort();for(let d of Object.values(WI))d?.abort()}};if(a&&a.length>0){let f=Xne();i.appendChild(f);let d=Zne();f.appendChild(d);for(let g of a){let w=tie(g,u,l);f.appendChild(w)}}}return i};var By=_e(Cl(),1);var MU=async(t,e,r,n)=>{if(!n)throw new Error("You haven't provided the QR code container DOM element id");let i=dy(t.initOptions.walletConnectV2RelayAddresses);if(!i||!t.networkProvider)throw new Error("Something wen't wrong with the initialization (ApiNetworkProvider or Wallet Connect Bridge address), plese try to refresh the page!");if(!t.initOptions.walletConnectV2ProjectId)throw new Error("Please provide your WalletConnect project id. You can get it here: https://cloud.walletconnect.com)");if(!t.initOptions.chainType)throw new Error("Please provide the chain type in ElvenJS.init function!");let s,o={onClientLogin:async()=>{if(t.dappProvider instanceof By.WalletConnectV2Provider){Te.run("onLoginPending");let u=await t.dappProvider.getAddress(),l=await t.dappProvider.getSignature();Se.set("address",u),Se.set("loginMethod","mobile"),Se.set("expires",yu()),await us(t),l&&Se.set("signature",l),Se.set("loginToken",e);let f=r.getToken(u,e,l);Se.set("accessToken",f),Te.run("onLoggedIn"),s?.replaceChildren()}},onClientLogout:async()=>{t.dappProvider instanceof By.WalletConnectV2Provider&&(await gu(t),Te.run("onLogout"))},onClientEvent:u=>{console.log("wc2 session event: ",u)}},a=new By.WalletConnectV2Provider(o,Yt[t.initOptions.chainType].shortId,i,t.initOptions.walletConnectV2ProjectId);try{if(a){t.dappProvider=a,Te.run("onQrPending"),await a.init();let{uri:u,approval:l}=await a.connect({methods:["mvx_cancelAction","mvx_signNativeAuthToken"]}),f=e?`${u}&token=${e}`:u;return n&&f&&(s=await FU(n,f,a,e),Te.run("onQrLoaded")),await a.login({approval:l,token:e}),a}}catch(u){let l=qt(u);console.warn(`Something went wrong trying to login the user: ${l}`),Te.run("onLogout")}};c();var UU=_e(Ll(),1);var $I=async(t,e,r,n)=>{let i=new UU.WalletProvider(`${t}${Fi}`),o={callbackUrl:typeof window<"u"?encodeURIComponent(`${window.location.origin}${n||"/"}`):"/",token:e};try{return Te.run("onLoginPending"),Se.set("loginMethod",Yt[r].xAliasAddress===t?"x-alias":"web-wallet"),await i.login(o),Se.set("expires",yu()),Se.set("loginToken",e),i}catch(a){let u=qt(a);console.warn(`Something went wrong trying to login the user: ${u}`),Se.set("loginMethod",""),Te.run("onLogout")}};c();var gs=t=>{if(typeof window<"u"){let e=new URL(window.location.href);return new URLSearchParams(e.search).get(t)}};c();var qU=_e(Ll(),1);var VU=_e(cI(),1),zI=async(t,e)=>{let r=gs("signature"),n=gs("address"),i=Se.get("address"),s=Se.get("loginToken");if(r&&Se.set("signature",r),n||i){n&&(Se.set("address",n),window.history.replaceState(null,"",window.location.pathname));let o=new qU.WalletProvider(`${t}${Fi}`);if(r&&e&&n){let u=new VU.NativeAuthClient({apiUrl:e,origin:window.location.origin}).getToken(n,s,r);Se.set("accessToken",u)}return o}};c();var HU=_e(ra(),1),GU=_e(ed(),1);var Ly=async(t,e)=>{Te.run("onTxSent",t),await new GU.TransactionWatcher(e).awaitCompleted(t);let n=t.getSender(),i=new HU.Account(n),s=await e.getAccount(n);i.update(s),Se.set("address",i.address.bech32()),Se.set("balance",i.balance.toString()),Te.run("onTxFinalized",t)};c();var Tu=_e(KI(),1),QU=_e(wn(),1);c();var jU=_e(ra(),1);var Fy=t=>{let e=t.getSender(),r=new jU.Account(e),n=t.getNonce().valueOf();r.incrementNonce(),Se.set("nonce",n+1)};var WU=async(t,e,r,n)=>{if(gs(Tu.WALLET_PROVIDER_CALLBACK_PARAM)===Tu.WALLET_PROVIDER_CALLBACK_PARAM_TX_SIGNED&&t&&e){let s=Se.get("activeGuardian"),o=Se.get("loginMethod"),a=gs("hasWebWalletGuardianSign"),u;if("getTransactionsFromWalletUrl"in t){if(u=t.getTransactionsFromWalletUrl()?.[0],!u)return;o==="web-wallet"&&(u.data=h.Buffer.from(u.data).toString("base64"))}else s&&o!=="web-wallet"&&o!=="x-alias"&&a&&(u=new Tu.WalletProvider(`${r}${Fi}`).getTransactionsFromWalletUrl()?.[0]);if(u){let l=QU.Transaction.fromPlainObject(u);l.setNonce(n),Fy(l);try{Te.run("onTxStarted",l),await e.sendTransaction(l),await Ly(l,e)}catch(f){let d=qt(f);throw Te.run("onTxError",l,d),new Error(`Error: Transaction signing failed! ${d}`)}finally{window.history.replaceState(null,"",window.location.pathname)}}window.history.replaceState(null,"",window.location.pathname)}};c();var My=_e(cc(),1),$U=_e(ht(),1),zU=_e(KI(),1);var KU=t=>{let e=Se.get("activeGuardian");if(e){let r={guarded:!0};t.setVersion(My.TransactionVersion.withTxOptions()),t.setOptions(My.TransactionOptions.withOptions(r)),t.setGuardian($U.Address.fromBech32(e))}return t},YU=async(t,e)=>{let r=new zU.WalletProvider(`${e}${Fi}`),n=window?.location.href,i=new URL(n);i.searchParams.set("hasWebWalletGuardianSign","true"),await r.guardTransactions([t],{callbackUrl:encodeURIComponent(i.toString())})},JU=t=>{let e=Se.get("activeGuardian");return!(!Se.get("address")||!e||t.isGuardedTransaction())};var YI=class{static async init(e){let r=Se.get();if(r.expires&&hy(r.expires)){Se.clear(),this.dappProvider=void 0;return}this.initOptions={chainType:Cd,apiUrl:UO,apiTimeout:1e4,walletConnectV2ProjectId:"",walletConnectV2RelayAddresses:VO,...e},this.networkProvider=new Ay(this.initOptions),this.initOptions.onLoginPending&&Te.set("onLoginPending",this.initOptions.onLoginPending),this.initOptions.onLoggedIn&&Te.set("onLoggedIn",this.initOptions.onLoggedIn),this.initOptions.onQrPending&&Te.set("onQrPending",this.initOptions.onQrPending),this.initOptions.onQrLoaded&&Te.set("onQrLoaded",this.initOptions.onQrLoaded),this.initOptions.onLogout&&Te.set("onLogout",this.initOptions.onLogout),this.initOptions.onTxStarted&&Te.set("onTxStarted",this.initOptions.onTxStarted),this.initOptions.onTxSent&&Te.set("onTxSent",this.initOptions.onTxSent),this.initOptions.onTxFinalized&&Te.set("onTxFinalized",this.initOptions.onTxFinalized),this.initOptions.onTxError&&Te.set("onTxError",this.initOptions.onTxError),(r?.address||(r.loginMethod==="web-wallet"||r.loginMethod==="x-alias")&&gs("address"))&&r?.loginMethod&&(Te.run("onLoginPending"),r.loginMethod==="browser-extension"&&(this.dappProvider=await xd()),r.loginMethod==="mobile"&&(this.dappProvider=await aM(this)),r.loginMethod==="web-wallet"&&this.initOptions.chainType&&(this.dappProvider=await zI(Yt[this.initOptions.chainType].walletAddress,this.initOptions.apiUrl)),r.loginMethod==="x-alias"&&this.initOptions.chainType&&(this.dappProvider=await zI(Yt[this.initOptions.chainType].xAliasAddress,this.initOptions.apiUrl)),await us(this),Te.run("onLoggedIn"),this.initOptions?.chainType&&await WU(this.dappProvider,this.networkProvider,Yt[this.initOptions.chainType][r.loginMethod==="x-alias"?"xAliasAddress":"walletAddress"],r.nonce))}static async login(e,r){if(!Object.values(as).includes(e))throw new Error("Error: Wrong login method!");if(!this.networkProvider)throw new Error("Error: Login failed: Use ElvenJs.init() first!");try{Te.run("onLoginPending");let i=new t5.NativeAuthClient({apiUrl:this.initOptions?.apiUrl,origin:window.location.origin}),s=await i.initialize();if(e==="browser-extension"){let o=await DM(this,s,i,r?.callbackRoute);this.dappProvider=o}if(e==="mobile"){let o=await MU(this,s,i,r?.qrCodeContainer);this.dappProvider=o}if(e==="web-wallet"&&this.initOptions?.chainType){let o=await $I(Yt[this.initOptions.chainType].walletAddress,s,this.initOptions?.chainType,r?.callbackRoute);this.dappProvider=o}if(e==="x-alias"&&this.initOptions?.chainType){let o=await $I(Yt[this.initOptions.chainType].xAliasAddress,s,this.initOptions?.chainType,r?.callbackRoute);this.dappProvider=o}}catch(i){let s=qt(i);throw new Error(`Error: ${s}`)}}static async logout(){try{let e=await gu(this);return this.dappProvider=void 0,e}catch(e){let r=qt(e);console.warn("Something went wrong when logging out: ",r)}}static async signAndSendTransaction(e){if(!this.dappProvider)throw new Error("Error: Transaction signing failed: There is no active session!");if(!this.networkProvider)throw new Error("Error: Transaction signing failed: There is no active network provider!");let r=KU(e);try{Te.run("onTxStarted",e);let n=Se.get();if(e.setNonce(n.nonce),this.dappProvider instanceof XU.ExtensionProvider&&(r=await this.dappProvider.signTransaction(e)),this.dappProvider instanceof ZU.WalletConnectV2Provider&&(r=await this.dappProvider.signTransaction(e)),this.dappProvider instanceof e5.WalletProvider&&await this.dappProvider.signTransaction(e),n.loginMethod!=="web-wallet"&&n.loginMethod!=="x-alias"){let i=JU(r);if(i||Fy(r),i&&this.initOptions?.chainType){await YU(r,Yt[this.initOptions.chainType].walletAddress);return}await this.networkProvider.sendTransaction(r),await Ly(r,this.networkProvider)}}catch(n){let i=qt(n);throw Te.run("onTxError",r,i),new Error(`Error: Transaction signing failed! ${i}`)}return r}static async queryContract({address:e,func:r,args:n=[],value:i=0,caller:s}){if(!this.networkProvider)throw new Error("Error: Query failed: There is no active network provider!");if(!e||!r)throw new Error("Error: Query failed: The Query arguments are not valid! Address and func required");try{return await this.networkProvider.queryContract({address:e,func:r,args:n,value:i,caller:s})}catch(o){let a=qt(o);throw new Error(`Error: Smart contract query failed! ${a}`)}}static{this.storage=Se}static{this.destroy=()=>{this.networkProvider=void 0,this.dappProvider=void 0,this.initOptions=void 0,Te.clear()}}};var export_Account=hie.Account;var export_Address=fie.Address;var export_AddressType=i5.AddressType;var export_AddressValue=i5.AddressValue;var export_BigUIntType=Mn.BigUIntType;var export_BigUIntValue=Mn.BigUIntValue;var export_BooleanType=n5.BooleanType;var export_BooleanValue=n5.BooleanValue;var export_BytesType=r5.BytesType;var export_BytesValue=r5.BytesValue;var export_ContractFunction=mie.ContractFunction;var export_GasEstimator=lie.GasEstimator;var export_SmartContract=yie.SmartContract;var export_TokenTransfer=uie.TokenTransfer;var export_Transaction=die.Transaction;var export_TransactionPayload=pie.TransactionPayload;var export_TransactionWatcher=gie.TransactionWatcher;var export_TransferTransactionsFactory=cie.TransferTransactionsFactory;var export_U16Type=Mn.U16Type;var export_U16Value=Mn.U16Value;var export_U32Type=Mn.U32Type;var export_U32Value=Mn.U32Value;var export_U64Type=Mn.U64Type;var export_U64Value=Mn.U64Value;var export_U8Type=Mn.U8Type;var export_U8Value=Mn.U8Value;export{export_Account as Account,export_Address as Address,export_AddressType as AddressType,export_AddressValue as AddressValue,export_BigUIntType as BigUIntType,export_BigUIntValue as BigUIntValue,export_BooleanType as BooleanType,export_BooleanValue as BooleanValue,export_BytesType as BytesType,export_BytesValue as BytesValue,export_ContractFunction as ContractFunction,YI as ElvenJS,export_GasEstimator as GasEstimator,as as LoginMethodsEnum,export_SmartContract as SmartContract,export_TokenTransfer as TokenTransfer,export_Transaction as Transaction,export_TransactionPayload as TransactionPayload,export_TransactionWatcher as TransactionWatcher,export_TransferTransactionsFactory as TransferTransactionsFactory,export_U16Type as U16Type,export_U16Value as U16Value,export_U32Type as U32Type,export_U32Value as U32Value,export_U64Type as U64Type,export_U64Value as U64Value,export_U8Type as U8Type,export_U8Value as U8Value};
/*! Bundled license information:

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

punycode/punycode.js:
  (*! https://mths.be/punycode v1.4.1 by @mathias *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)
*/
