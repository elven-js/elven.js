var a5=Object.create;var _c=Object.defineProperty,u5=Object.defineProperties,c5=Object.getOwnPropertyDescriptor,l5=Object.getOwnPropertyDescriptors,f5=Object.getOwnPropertyNames,O_=Object.getOwnPropertySymbols,h5=Object.getPrototypeOf,P_=Object.prototype.hasOwnProperty,d5=Object.prototype.propertyIsEnumerable;var D_=(t,e,r)=>e in t?_c(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,xf=(t,e)=>{for(var r in e||={})P_.call(e,r)&&D_(t,r,e[r]);if(O_)for(var r of O_(e))d5.call(e,r)&&D_(t,r,e[r]);return t},R_=(t,e)=>u5(t,l5(e));var B_=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,r)=>(typeof require<"u"?require:e)[r]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+t+'" is not supported')});var ge=(t,e)=>()=>(t&&(e=t(t=0)),e);var w=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),at=(t,e)=>{for(var r in e)_c(t,r,{get:e[r],enumerable:!0})},Tf=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of f5(e))!P_.call(t,i)&&i!==r&&_c(t,i,{get:()=>e[i],enumerable:!(n=c5(e,i))||n.enumerable});return t},Mt=(t,e,r)=>(Tf(t,e,"default"),r&&Tf(r,e,"default")),_e=(t,e,r)=>(r=t!=null?a5(h5(t)):{},Tf(e||!t||!t.__esModule?_c(r,"default",{value:t,enumerable:!0}):r,t)),nt=t=>Tf(_c({},"__esModule",{value:!0}),t);var Te=(t,e,r)=>new Promise((n,i)=>{var s=u=>{try{a(r.next(u))}catch(l){i(l)}},o=u=>{try{a(r.throw(u))}catch(l){i(l)}},a=u=>u.done?n(u.value):Promise.resolve(u.value).then(s,o);a((r=r.apply(t,e)).next())});var hy=w(Nf=>{"use strict";c();Nf.byteLength=g5;Nf.toByteArray=m5;Nf.fromByteArray=v5;var Kr=[],pr=[],p5=typeof Uint8Array<"u"?Uint8Array:Array,fy="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(ms=0,L_=fy.length;ms<L_;++ms)Kr[ms]=fy[ms],pr[fy.charCodeAt(ms)]=ms;var ms,L_;pr["-".charCodeAt(0)]=62;pr["_".charCodeAt(0)]=63;function F_(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function g5(t){var e=F_(t),r=e[0],n=e[1];return(r+n)*3/4-n}function y5(t,e,r){return(e+r)*3/4-r}function m5(t){var e,r=F_(t),n=r[0],i=r[1],s=new p5(y5(t,n,i)),o=0,a=i>0?n-4:n,u;for(u=0;u<a;u+=4)e=pr[t.charCodeAt(u)]<<18|pr[t.charCodeAt(u+1)]<<12|pr[t.charCodeAt(u+2)]<<6|pr[t.charCodeAt(u+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return i===2&&(e=pr[t.charCodeAt(u)]<<2|pr[t.charCodeAt(u+1)]>>4,s[o++]=e&255),i===1&&(e=pr[t.charCodeAt(u)]<<10|pr[t.charCodeAt(u+1)]<<4|pr[t.charCodeAt(u+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function w5(t){return Kr[t>>18&63]+Kr[t>>12&63]+Kr[t>>6&63]+Kr[t&63]}function E5(t,e,r){for(var n,i=[],s=e;s<r;s+=3)n=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),i.push(w5(n));return i.join("")}function v5(t){for(var e,r=t.length,n=r%3,i=[],s=16383,o=0,a=r-n;o<a;o+=s)i.push(E5(t,o,o+s>a?a:o+s));return n===1?(e=t[r-1],i.push(Kr[e>>2]+Kr[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],i.push(Kr[e>>10]+Kr[e>>4&63]+Kr[e<<2&63]+"=")),i.join("")}});var py=w(dy=>{c();dy.read=function(t,e,r,n,i){var s,o,a=i*8-n-1,u=(1<<a)-1,l=u>>1,f=-7,d=r?i-1:0,y=r?-1:1,m=t[e+d];for(d+=y,s=m&(1<<-f)-1,m>>=-f,f+=a;f>0;s=s*256+t[e+d],d+=y,f-=8);for(o=s&(1<<-f)-1,s>>=-f,f+=n;f>0;o=o*256+t[e+d],d+=y,f-=8);if(s===0)s=1-l;else{if(s===u)return o?NaN:(m?-1:1)*(1/0);o=o+Math.pow(2,n),s=s-l}return(m?-1:1)*o*Math.pow(2,s-n)};dy.write=function(t,e,r,n,i,s){var o,a,u,l=s*8-i-1,f=(1<<l)-1,d=f>>1,y=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=n?0:s-1,v=n?1:-1,T=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=f):(o=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-o))<1&&(o--,u*=2),o+d>=1?e+=y/u:e+=y*Math.pow(2,1-d),e*u>=2&&(o++,u/=2),o+d>=f?(a=0,o=f):o+d>=1?(a=(e*u-1)*Math.pow(2,i),o=o+d):(a=e*Math.pow(2,d-1)*Math.pow(2,i),o=0));i>=8;t[r+m]=a&255,m+=v,a/=256,i-=8);for(o=o<<i|a,l+=i;l>0;t[r+m]=o&255,m+=v,o/=256,l-=8);t[r+m-v]|=T*128}});var $_=w(jo=>{"use strict";c();var gy=hy(),Vo=py(),M_=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;jo.Buffer=K;jo.SlowBuffer=C5;jo.INSPECT_MAX_BYTES=50;var Of=2147483647;jo.kMaxLength=Of;K.TYPED_ARRAY_SUPPORT=A5();!K.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function A5(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch{return!1}}Object.defineProperty(K.prototype,"parent",{enumerable:!0,get:function(){if(K.isBuffer(this))return this.buffer}});Object.defineProperty(K.prototype,"offset",{enumerable:!0,get:function(){if(K.isBuffer(this))return this.byteOffset}});function Fn(t){if(t>Of)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return Object.setPrototypeOf(e,K.prototype),e}function K(t,e,r){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Ey(t)}return V_(t,e,r)}K.poolSize=8192;function V_(t,e,r){if(typeof t=="string")return _5(t,e);if(ArrayBuffer.isView(t))return I5(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if($r(t,ArrayBuffer)||t&&$r(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&($r(t,SharedArrayBuffer)||t&&$r(t.buffer,SharedArrayBuffer)))return my(t,e,r);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var n=t.valueOf&&t.valueOf();if(n!=null&&n!==t)return K.from(n,e,r);var i=S5(t);if(i)return i;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return K.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}K.from=function(t,e,r){return V_(t,e,r)};Object.setPrototypeOf(K.prototype,Uint8Array.prototype);Object.setPrototypeOf(K,Uint8Array);function j_(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function b5(t,e,r){return j_(t),t<=0?Fn(t):e!==void 0?typeof r=="string"?Fn(t).fill(e,r):Fn(t).fill(e):Fn(t)}K.alloc=function(t,e,r){return b5(t,e,r)};function Ey(t){return j_(t),Fn(t<0?0:vy(t)|0)}K.allocUnsafe=function(t){return Ey(t)};K.allocUnsafeSlow=function(t){return Ey(t)};function _5(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!K.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var r=H_(t,e)|0,n=Fn(r),i=n.write(t,e);return i!==r&&(n=n.slice(0,i)),n}function yy(t){for(var e=t.length<0?0:vy(t.length)|0,r=Fn(e),n=0;n<e;n+=1)r[n]=t[n]&255;return r}function I5(t){if($r(t,Uint8Array)){var e=new Uint8Array(t);return my(e.buffer,e.byteOffset,e.byteLength)}return yy(t)}function my(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return e===void 0&&r===void 0?n=new Uint8Array(t):r===void 0?n=new Uint8Array(t,e):n=new Uint8Array(t,e,r),Object.setPrototypeOf(n,K.prototype),n}function S5(t){if(K.isBuffer(t)){var e=vy(t.length)|0,r=Fn(e);return r.length===0||t.copy(r,0,0,e),r}if(t.length!==void 0)return typeof t.length!="number"||Ay(t.length)?Fn(0):yy(t);if(t.type==="Buffer"&&Array.isArray(t.data))return yy(t.data)}function vy(t){if(t>=Of)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Of.toString(16)+" bytes");return t|0}function C5(t){return+t!=t&&(t=0),K.alloc(+t)}K.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==K.prototype};K.compare=function(e,r){if($r(e,Uint8Array)&&(e=K.from(e,e.offset,e.byteLength)),$r(r,Uint8Array)&&(r=K.from(r,r.offset,r.byteLength)),!K.isBuffer(e)||!K.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===r)return 0;for(var n=e.length,i=r.length,s=0,o=Math.min(n,i);s<o;++s)if(e[s]!==r[s]){n=e[s],i=r[s];break}return n<i?-1:i<n?1:0};K.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};K.concat=function(e,r){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return K.alloc(0);var n;if(r===void 0)for(r=0,n=0;n<e.length;++n)r+=e[n].length;var i=K.allocUnsafe(r),s=0;for(n=0;n<e.length;++n){var o=e[n];if($r(o,Uint8Array))s+o.length>i.length?K.from(o).copy(i,s):Uint8Array.prototype.set.call(i,o,s);else if(K.isBuffer(o))o.copy(i,s);else throw new TypeError('"list" argument must be an Array of Buffers');s+=o.length}return i};function H_(t,e){if(K.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||$r(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var r=t.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&r===0)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return wy(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return K_(t).length;default:if(i)return n?-1:wy(t).length;e=(""+e).toLowerCase(),i=!0}}K.byteLength=H_;function T5(t,e,r){var n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,e>>>=0,r<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return M5(this,e,r);case"utf8":case"utf-8":return Q_(this,e,r);case"ascii":return L5(this,e,r);case"latin1":case"binary":return F5(this,e,r);case"base64":return R5(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U5(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}K.prototype._isBuffer=!0;function ws(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}K.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<e;r+=2)ws(this,r,r+1);return this};K.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<e;r+=4)ws(this,r,r+3),ws(this,r+1,r+2);return this};K.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<e;r+=8)ws(this,r,r+7),ws(this,r+1,r+6),ws(this,r+2,r+5),ws(this,r+3,r+4);return this};K.prototype.toString=function(){var e=this.length;return e===0?"":arguments.length===0?Q_(this,0,e):T5.apply(this,arguments)};K.prototype.toLocaleString=K.prototype.toString;K.prototype.equals=function(e){if(!K.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:K.compare(this,e)===0};K.prototype.inspect=function(){var e="",r=jo.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"};M_&&(K.prototype[M_]=K.prototype.inspect);K.prototype.compare=function(e,r,n,i,s){if($r(e,Uint8Array)&&(e=K.from(e,e.offset,e.byteLength)),!K.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(r===void 0&&(r=0),n===void 0&&(n=e?e.length:0),i===void 0&&(i=0),s===void 0&&(s=this.length),r<0||n>e.length||i<0||s>this.length)throw new RangeError("out of range index");if(i>=s&&r>=n)return 0;if(i>=s)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,i>>>=0,s>>>=0,this===e)return 0;for(var o=s-i,a=n-r,u=Math.min(o,a),l=this.slice(i,s),f=e.slice(r,n),d=0;d<u;++d)if(l[d]!==f[d]){o=l[d],a=f[d];break}return o<a?-1:a<o?1:0};function G_(t,e,r,n,i){if(t.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,Ay(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0)if(i)r=0;else return-1;if(typeof e=="string"&&(e=K.from(e,n)),K.isBuffer(e))return e.length===0?-1:U_(t,e,r,n,i);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):U_(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function U_(t,e,r,n,i){var s=1,o=t.length,a=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(t.length<2||e.length<2)return-1;s=2,o/=2,a/=2,r/=2}function u(m,v){return s===1?m[v]:m.readUInt16BE(v*s)}var l;if(i){var f=-1;for(l=r;l<o;l++)if(u(t,l)===u(e,f===-1?0:l-f)){if(f===-1&&(f=l),l-f+1===a)return f*s}else f!==-1&&(l-=l-f),f=-1}else for(r+a>o&&(r=o-a),l=r;l>=0;l--){for(var d=!0,y=0;y<a;y++)if(u(t,l+y)!==u(e,y)){d=!1;break}if(d)return l}return-1}K.prototype.includes=function(e,r,n){return this.indexOf(e,r,n)!==-1};K.prototype.indexOf=function(e,r,n){return G_(this,e,r,n,!0)};K.prototype.lastIndexOf=function(e,r,n){return G_(this,e,r,n,!1)};function x5(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;var s=e.length;n>s/2&&(n=s/2);for(var o=0;o<n;++o){var a=parseInt(e.substr(o*2,2),16);if(Ay(a))return o;t[r+o]=a}return o}function N5(t,e,r,n){return Df(wy(e,t.length-r),t,r,n)}function O5(t,e,r,n){return Df(j5(e),t,r,n)}function D5(t,e,r,n){return Df(K_(e),t,r,n)}function P5(t,e,r,n){return Df(H5(e,t.length-r),t,r,n)}K.prototype.write=function(e,r,n,i){if(r===void 0)i="utf8",n=this.length,r=0;else if(n===void 0&&typeof r=="string")i=r,n=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(n)?(n=n>>>0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var s=this.length-r;if((n===void 0||n>s)&&(n=s),e.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return x5(this,e,r,n);case"utf8":case"utf-8":return N5(this,e,r,n);case"ascii":case"latin1":case"binary":return O5(this,e,r,n);case"base64":return D5(this,e,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P5(this,e,r,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}};K.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function R5(t,e,r){return e===0&&r===t.length?gy.fromByteArray(t):gy.fromByteArray(t.slice(e,r))}function Q_(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var s=t[i],o=null,a=s>239?4:s>223?3:s>191?2:1;if(i+a<=r){var u,l,f,d;switch(a){case 1:s<128&&(o=s);break;case 2:u=t[i+1],(u&192)===128&&(d=(s&31)<<6|u&63,d>127&&(o=d));break;case 3:u=t[i+1],l=t[i+2],(u&192)===128&&(l&192)===128&&(d=(s&15)<<12|(u&63)<<6|l&63,d>2047&&(d<55296||d>57343)&&(o=d));break;case 4:u=t[i+1],l=t[i+2],f=t[i+3],(u&192)===128&&(l&192)===128&&(f&192)===128&&(d=(s&15)<<18|(u&63)<<12|(l&63)<<6|f&63,d>65535&&d<1114112&&(o=d))}}o===null?(o=65533,a=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|o&1023),n.push(o),i+=a}return B5(n)}var q_=4096;function B5(t){var e=t.length;if(e<=q_)return String.fromCharCode.apply(String,t);for(var r="",n=0;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=q_));return r}function L5(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]&127);return n}function F5(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function M5(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",s=e;s<r;++s)i+=G5[t[s]];return i}function U5(t,e,r){for(var n=t.slice(e,r),i="",s=0;s<n.length-1;s+=2)i+=String.fromCharCode(n[s]+n[s+1]*256);return i}K.prototype.slice=function(e,r){var n=this.length;e=~~e,r=r===void 0?n:~~r,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<e&&(r=e);var i=this.subarray(e,r);return Object.setPrototypeOf(i,K.prototype),i};function Ct(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}K.prototype.readUintLE=K.prototype.readUIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||Ct(e,r,this.length);for(var i=this[e],s=1,o=0;++o<r&&(s*=256);)i+=this[e+o]*s;return i};K.prototype.readUintBE=K.prototype.readUIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||Ct(e,r,this.length);for(var i=this[e+--r],s=1;r>0&&(s*=256);)i+=this[e+--r]*s;return i};K.prototype.readUint8=K.prototype.readUInt8=function(e,r){return e=e>>>0,r||Ct(e,1,this.length),this[e]};K.prototype.readUint16LE=K.prototype.readUInt16LE=function(e,r){return e=e>>>0,r||Ct(e,2,this.length),this[e]|this[e+1]<<8};K.prototype.readUint16BE=K.prototype.readUInt16BE=function(e,r){return e=e>>>0,r||Ct(e,2,this.length),this[e]<<8|this[e+1]};K.prototype.readUint32LE=K.prototype.readUInt32LE=function(e,r){return e=e>>>0,r||Ct(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};K.prototype.readUint32BE=K.prototype.readUInt32BE=function(e,r){return e=e>>>0,r||Ct(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};K.prototype.readIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||Ct(e,r,this.length);for(var i=this[e],s=1,o=0;++o<r&&(s*=256);)i+=this[e+o]*s;return s*=128,i>=s&&(i-=Math.pow(2,8*r)),i};K.prototype.readIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||Ct(e,r,this.length);for(var i=r,s=1,o=this[e+--i];i>0&&(s*=256);)o+=this[e+--i]*s;return s*=128,o>=s&&(o-=Math.pow(2,8*r)),o};K.prototype.readInt8=function(e,r){return e=e>>>0,r||Ct(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};K.prototype.readInt16LE=function(e,r){e=e>>>0,r||Ct(e,2,this.length);var n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};K.prototype.readInt16BE=function(e,r){e=e>>>0,r||Ct(e,2,this.length);var n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};K.prototype.readInt32LE=function(e,r){return e=e>>>0,r||Ct(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};K.prototype.readInt32BE=function(e,r){return e=e>>>0,r||Ct(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};K.prototype.readFloatLE=function(e,r){return e=e>>>0,r||Ct(e,4,this.length),Vo.read(this,e,!0,23,4)};K.prototype.readFloatBE=function(e,r){return e=e>>>0,r||Ct(e,4,this.length),Vo.read(this,e,!1,23,4)};K.prototype.readDoubleLE=function(e,r){return e=e>>>0,r||Ct(e,8,this.length),Vo.read(this,e,!0,52,8)};K.prototype.readDoubleBE=function(e,r){return e=e>>>0,r||Ct(e,8,this.length),Vo.read(this,e,!1,52,8)};function Zt(t,e,r,n,i,s){if(!K.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<s)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}K.prototype.writeUintLE=K.prototype.writeUIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){var s=Math.pow(2,8*n)-1;Zt(this,e,r,n,s,0)}var o=1,a=0;for(this[r]=e&255;++a<n&&(o*=256);)this[r+a]=e/o&255;return r+n};K.prototype.writeUintBE=K.prototype.writeUIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){var s=Math.pow(2,8*n)-1;Zt(this,e,r,n,s,0)}var o=n-1,a=1;for(this[r+o]=e&255;--o>=0&&(a*=256);)this[r+o]=e/a&255;return r+n};K.prototype.writeUint8=K.prototype.writeUInt8=function(e,r,n){return e=+e,r=r>>>0,n||Zt(this,e,r,1,255,0),this[r]=e&255,r+1};K.prototype.writeUint16LE=K.prototype.writeUInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||Zt(this,e,r,2,65535,0),this[r]=e&255,this[r+1]=e>>>8,r+2};K.prototype.writeUint16BE=K.prototype.writeUInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||Zt(this,e,r,2,65535,0),this[r]=e>>>8,this[r+1]=e&255,r+2};K.prototype.writeUint32LE=K.prototype.writeUInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||Zt(this,e,r,4,4294967295,0),this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=e&255,r+4};K.prototype.writeUint32BE=K.prototype.writeUInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||Zt(this,e,r,4,4294967295,0),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};K.prototype.writeIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){var s=Math.pow(2,8*n-1);Zt(this,e,r,n,s-1,-s)}var o=0,a=1,u=0;for(this[r]=e&255;++o<n&&(a*=256);)e<0&&u===0&&this[r+o-1]!==0&&(u=1),this[r+o]=(e/a>>0)-u&255;return r+n};K.prototype.writeIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){var s=Math.pow(2,8*n-1);Zt(this,e,r,n,s-1,-s)}var o=n-1,a=1,u=0;for(this[r+o]=e&255;--o>=0&&(a*=256);)e<0&&u===0&&this[r+o+1]!==0&&(u=1),this[r+o]=(e/a>>0)-u&255;return r+n};K.prototype.writeInt8=function(e,r,n){return e=+e,r=r>>>0,n||Zt(this,e,r,1,127,-128),e<0&&(e=255+e+1),this[r]=e&255,r+1};K.prototype.writeInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||Zt(this,e,r,2,32767,-32768),this[r]=e&255,this[r+1]=e>>>8,r+2};K.prototype.writeInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||Zt(this,e,r,2,32767,-32768),this[r]=e>>>8,this[r+1]=e&255,r+2};K.prototype.writeInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||Zt(this,e,r,4,2147483647,-2147483648),this[r]=e&255,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24,r+4};K.prototype.writeInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||Zt(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};function k_(t,e,r,n,i,s){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function z_(t,e,r,n,i){return e=+e,r=r>>>0,i||k_(t,e,r,4,34028234663852886e22,-34028234663852886e22),Vo.write(t,e,r,n,23,4),r+4}K.prototype.writeFloatLE=function(e,r,n){return z_(this,e,r,!0,n)};K.prototype.writeFloatBE=function(e,r,n){return z_(this,e,r,!1,n)};function W_(t,e,r,n,i){return e=+e,r=r>>>0,i||k_(t,e,r,8,17976931348623157e292,-17976931348623157e292),Vo.write(t,e,r,n,52,8),r+8}K.prototype.writeDoubleLE=function(e,r,n){return W_(this,e,r,!0,n)};K.prototype.writeDoubleBE=function(e,r,n){return W_(this,e,r,!1,n)};K.prototype.copy=function(e,r,n,i){if(!K.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),!i&&i!==0&&(i=this.length),r>=e.length&&(r=e.length),r||(r=0),i>0&&i<n&&(i=n),i===n||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-r<i-n&&(i=e.length-r+n);var s=i-n;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,n,i):Uint8Array.prototype.set.call(e,this.subarray(n,i),r),s};K.prototype.fill=function(e,r,n,i){if(typeof e=="string"){if(typeof r=="string"?(i=r,r=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!K.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(e.length===1){var s=e.charCodeAt(0);(i==="utf8"&&s<128||i==="latin1")&&(e=s)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);var o;if(typeof e=="number")for(o=r;o<n;++o)this[o]=e;else{var a=K.isBuffer(e)?e:K.from(e,i),u=a.length;if(u===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-r;++o)this[o+r]=a[o%u]}return this};var q5=/[^+/0-9A-Za-z-_]/g;function V5(t){if(t=t.split("=")[0],t=t.trim().replace(q5,""),t.length<2)return"";for(;t.length%4!==0;)t=t+"=";return t}function wy(t,e){e=e||1/0;for(var r,n=t.length,i=null,s=[],o=0;o<n;++o){if(r=t.charCodeAt(o),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(o+1===n){(e-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&s.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(e-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;s.push(r)}else if(r<2048){if((e-=2)<0)break;s.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;s.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return s}function j5(t){for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r)&255);return e}function H5(t,e){for(var r,n,i,s=[],o=0;o<t.length&&!((e-=2)<0);++o)r=t.charCodeAt(o),n=r>>8,i=r%256,s.push(i),s.push(n);return s}function K_(t){return gy.toByteArray(V5(t))}function Df(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function $r(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function Ay(t){return t!==t}var G5=function(){for(var t="0123456789abcdef",e=new Array(256),r=0;r<16;++r)for(var n=r*16,i=0;i<16;++i)e[n+i]=t[r]+t[i];return e}()});var eI=w((Mte,Z_)=>{c();var ft=Z_.exports={},Yr,Jr;function by(){throw new Error("setTimeout has not been defined")}function _y(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Yr=setTimeout:Yr=by}catch{Yr=by}try{typeof clearTimeout=="function"?Jr=clearTimeout:Jr=_y}catch{Jr=_y}})();function Y_(t){if(Yr===setTimeout)return setTimeout(t,0);if((Yr===by||!Yr)&&setTimeout)return Yr=setTimeout,setTimeout(t,0);try{return Yr(t,0)}catch{try{return Yr.call(null,t,0)}catch{return Yr.call(this,t,0)}}}function Q5(t){if(Jr===clearTimeout)return clearTimeout(t);if((Jr===_y||!Jr)&&clearTimeout)return Jr=clearTimeout,clearTimeout(t);try{return Jr(t)}catch{try{return Jr.call(null,t)}catch{return Jr.call(this,t)}}}var Mn=[],Ho=!1,Es,Pf=-1;function k5(){!Ho||!Es||(Ho=!1,Es.length?Mn=Es.concat(Mn):Pf=-1,Mn.length&&J_())}function J_(){if(!Ho){var t=Y_(k5);Ho=!0;for(var e=Mn.length;e;){for(Es=Mn,Mn=[];++Pf<e;)Es&&Es[Pf].run();Pf=-1,e=Mn.length}Es=null,Ho=!1,Q5(t)}}ft.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];Mn.push(new X_(t,e)),Mn.length===1&&!Ho&&Y_(J_)};function X_(t,e){this.fun=t,this.array=e}X_.prototype.run=function(){this.fun.apply(null,this.array)};ft.title="browser";ft.browser=!0;ft.env={};ft.argv=[];ft.version="";ft.versions={};function Un(){}ft.on=Un;ft.addListener=Un;ft.once=Un;ft.off=Un;ft.removeListener=Un;ft.removeAllListeners=Un;ft.emit=Un;ft.prependListener=Un;ft.prependOnceListener=Un;ft.listeners=function(t){return[]};ft.binding=function(t){throw new Error("process.binding is not supported")};ft.cwd=function(){return"/"};ft.chdir=function(t){throw new Error("process.chdir is not supported")};ft.umask=function(){return 0}});var h,p,z5,global,c=ge(()=>{h=_e($_()),p=_e(eI()),z5=function(t){function e(){var n=this||self;return delete t.prototype.__magic__,n}if(typeof globalThis=="object")return globalThis;if(this)return e();t.defineProperty(t.prototype,"__magic__",{configurable:!0,get:e});var r=__magic__;return r}(Object),global=z5});var Yt=w((tI,Rf)=>{c();(function(t){"use strict";var e,r=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,n=Math.ceil,i=Math.floor,s="[BigNumber Error] ",o=s+"Number primitive has more than 15 significant digits: ",a=1e14,u=14,l=9007199254740991,f=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],d=1e7,y=1e9;function m(P){var L,_,C,M=q.prototype={constructor:q,toString:null,valueOf:null},Z=new q(1),z=20,H=4,G=-7,$=21,de=-1e7,ae=1e7,re=!1,Y=1,ie=0,te={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xA0",suffix:""},ne="0123456789abcdefghijklmnopqrstuvwxyz";function q(g,E){var b,O,I,N,F,S,U,j,V=this;if(!(V instanceof q))return new q(g,E);if(E==null){if(g&&g._isBigNumber===!0){V.s=g.s,!g.c||g.e>ae?V.c=V.e=null:g.e<de?V.c=[V.e=0]:(V.e=g.e,V.c=g.c.slice());return}if((S=typeof g=="number")&&g*0==0){if(V.s=1/g<0?(g=-g,-1):1,g===~~g){for(N=0,F=g;F>=10;F/=10,N++);N>ae?V.c=V.e=null:(V.e=N,V.c=[g]);return}j=String(g)}else{if(!r.test(j=String(g)))return C(V,j,S);V.s=j.charCodeAt(0)==45?(j=j.slice(1),-1):1}(N=j.indexOf("."))>-1&&(j=j.replace(".","")),(F=j.search(/e/i))>0?(N<0&&(N=F),N+=+j.slice(F+1),j=j.substring(0,F)):N<0&&(N=j.length)}else{if(A(E,2,ne.length,"Base"),E==10)return V=new q(g),se(V,z+V.e+1,H);if(j=String(g),S=typeof g=="number"){if(g*0!=0)return C(V,j,S,E);if(V.s=1/g<0?(j=j.slice(1),-1):1,q.DEBUG&&j.replace(/^0\.0*|\./,"").length>15)throw Error(o+g)}else V.s=j.charCodeAt(0)===45?(j=j.slice(1),-1):1;for(b=ne.slice(0,E),N=F=0,U=j.length;F<U;F++)if(b.indexOf(O=j.charAt(F))<0){if(O=="."){if(F>N){N=U;continue}}else if(!I&&(j==j.toUpperCase()&&(j=j.toLowerCase())||j==j.toLowerCase()&&(j=j.toUpperCase()))){I=!0,F=-1,N=0;continue}return C(V,String(g),S,E)}S=!1,j=_(j,E,10,V.s),(N=j.indexOf("."))>-1?j=j.replace(".",""):N=j.length}for(F=0;j.charCodeAt(F)===48;F++);for(U=j.length;j.charCodeAt(--U)===48;);if(j=j.slice(F,++U)){if(U-=F,S&&q.DEBUG&&U>15&&(g>l||g!==i(g)))throw Error(o+V.s*g);if((N=N-F-1)>ae)V.c=V.e=null;else if(N<de)V.c=[V.e=0];else{if(V.e=N,V.c=[],F=(N+1)%u,N<0&&(F+=u),F<U){for(F&&V.c.push(+j.slice(0,F)),U-=u;F<U;)V.c.push(+j.slice(F,F+=u));F=u-(j=j.slice(F)).length}else F-=U;for(;F--;j+="0");V.c.push(+j)}}else V.c=[V.e=0]}q.clone=m,q.ROUND_UP=0,q.ROUND_DOWN=1,q.ROUND_CEIL=2,q.ROUND_FLOOR=3,q.ROUND_HALF_UP=4,q.ROUND_HALF_DOWN=5,q.ROUND_HALF_EVEN=6,q.ROUND_HALF_CEIL=7,q.ROUND_HALF_FLOOR=8,q.EUCLID=9,q.config=q.set=function(g){var E,b;if(g!=null)if(typeof g=="object"){if(g.hasOwnProperty(E="DECIMAL_PLACES")&&(b=g[E],A(b,0,y,E),z=b),g.hasOwnProperty(E="ROUNDING_MODE")&&(b=g[E],A(b,0,8,E),H=b),g.hasOwnProperty(E="EXPONENTIAL_AT")&&(b=g[E],b&&b.pop?(A(b[0],-y,0,E),A(b[1],0,y,E),G=b[0],$=b[1]):(A(b,-y,y,E),G=-($=b<0?-b:b))),g.hasOwnProperty(E="RANGE"))if(b=g[E],b&&b.pop)A(b[0],-y,-1,E),A(b[1],1,y,E),de=b[0],ae=b[1];else if(A(b,-y,y,E),b)de=-(ae=b<0?-b:b);else throw Error(s+E+" cannot be zero: "+b);if(g.hasOwnProperty(E="CRYPTO"))if(b=g[E],b===!!b)if(b)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))re=b;else throw re=!b,Error(s+"crypto unavailable");else re=b;else throw Error(s+E+" not true or false: "+b);if(g.hasOwnProperty(E="MODULO_MODE")&&(b=g[E],A(b,0,9,E),Y=b),g.hasOwnProperty(E="POW_PRECISION")&&(b=g[E],A(b,0,y,E),ie=b),g.hasOwnProperty(E="FORMAT"))if(b=g[E],typeof b=="object")te=b;else throw Error(s+E+" not an object: "+b);if(g.hasOwnProperty(E="ALPHABET"))if(b=g[E],typeof b=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(b))ne=b;else throw Error(s+E+" invalid: "+b)}else throw Error(s+"Object expected: "+g);return{DECIMAL_PLACES:z,ROUNDING_MODE:H,EXPONENTIAL_AT:[G,$],RANGE:[de,ae],CRYPTO:re,MODULO_MODE:Y,POW_PRECISION:ie,FORMAT:te,ALPHABET:ne}},q.isBigNumber=function(g){if(!g||g._isBigNumber!==!0)return!1;if(!q.DEBUG)return!0;var E,b,O=g.c,I=g.e,N=g.s;e:if({}.toString.call(O)=="[object Array]"){if((N===1||N===-1)&&I>=-y&&I<=y&&I===i(I)){if(O[0]===0){if(I===0&&O.length===1)return!0;break e}if(E=(I+1)%u,E<1&&(E+=u),String(O[0]).length==E){for(E=0;E<O.length;E++)if(b=O[E],b<0||b>=a||b!==i(b))break e;if(b!==0)return!0}}}else if(O===null&&I===null&&(N===null||N===1||N===-1))return!0;throw Error(s+"Invalid BigNumber: "+g)},q.maximum=q.max=function(){return oe(arguments,M.lt)},q.minimum=q.min=function(){return oe(arguments,M.gt)},q.random=function(){var g=9007199254740992,E=Math.random()*g&2097151?function(){return i(Math.random()*g)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(b){var O,I,N,F,S,U=0,j=[],V=new q(Z);if(b==null?b=z:A(b,0,y),F=n(b/u),re)if(crypto.getRandomValues){for(O=crypto.getRandomValues(new Uint32Array(F*=2));U<F;)S=O[U]*131072+(O[U+1]>>>11),S>=9e15?(I=crypto.getRandomValues(new Uint32Array(2)),O[U]=I[0],O[U+1]=I[1]):(j.push(S%1e14),U+=2);U=F/2}else if(crypto.randomBytes){for(O=crypto.randomBytes(F*=7);U<F;)S=(O[U]&31)*281474976710656+O[U+1]*1099511627776+O[U+2]*4294967296+O[U+3]*16777216+(O[U+4]<<16)+(O[U+5]<<8)+O[U+6],S>=9e15?crypto.randomBytes(7).copy(O,U):(j.push(S%1e14),U+=7);U=F/7}else throw re=!1,Error(s+"crypto unavailable");if(!re)for(;U<F;)S=E(),S<9e15&&(j[U++]=S%1e14);for(F=j[--U],b%=u,F&&b&&(S=f[u-b],j[U]=i(F/S)*S);j[U]===0;j.pop(),U--);if(U<0)j=[N=0];else{for(N=-1;j[0]===0;j.splice(0,1),N-=u);for(U=1,S=j[0];S>=10;S/=10,U++);U<u&&(N-=u-U)}return V.e=N,V.c=j,V}}(),q.sum=function(){for(var g=1,E=arguments,b=new q(E[0]);g<E.length;)b=b.plus(E[g++]);return b},_=function(){var g="0123456789";function E(b,O,I,N){for(var F,S=[0],U,j=0,V=b.length;j<V;){for(U=S.length;U--;S[U]*=O);for(S[0]+=N.indexOf(b.charAt(j++)),F=0;F<S.length;F++)S[F]>I-1&&(S[F+1]==null&&(S[F+1]=0),S[F+1]+=S[F]/I|0,S[F]%=I)}return S.reverse()}return function(b,O,I,N,F){var S,U,j,V,X,ye,we,Pe,$e=b.indexOf("."),ot=z,Oe=H;for($e>=0&&(V=ie,ie=0,b=b.replace(".",""),Pe=new q(O),ye=Pe.pow(b.length-$e),ie=V,Pe.c=E(R(T(ye.c),ye.e,"0"),10,I,g),Pe.e=Pe.c.length),we=E(b,O,I,F?(S=ne,g):(S=g,ne)),j=V=we.length;we[--V]==0;we.pop());if(!we[0])return S.charAt(0);if($e<0?--j:(ye.c=we,ye.e=j,ye.s=N,ye=L(ye,Pe,ot,Oe,I),we=ye.c,X=ye.r,j=ye.e),U=j+ot+1,$e=we[U],V=I/2,X=X||U<0||we[U+1]!=null,X=Oe<4?($e!=null||X)&&(Oe==0||Oe==(ye.s<0?3:2)):$e>V||$e==V&&(Oe==4||X||Oe==6&&we[U-1]&1||Oe==(ye.s<0?8:7)),U<1||!we[0])b=X?R(S.charAt(1),-ot,S.charAt(0)):S.charAt(0);else{if(we.length=U,X)for(--I;++we[--U]>I;)we[U]=0,U||(++j,we=[1].concat(we));for(V=we.length;!we[--V];);for($e=0,b="";$e<=V;b+=S.charAt(we[$e++]));b=R(b,j,S.charAt(0))}return b}}(),L=function(){function g(O,I,N){var F,S,U,j,V=0,X=O.length,ye=I%d,we=I/d|0;for(O=O.slice();X--;)U=O[X]%d,j=O[X]/d|0,F=we*U+j*ye,S=ye*U+F%d*d+V,V=(S/N|0)+(F/d|0)+we*j,O[X]=S%N;return V&&(O=[V].concat(O)),O}function E(O,I,N,F){var S,U;if(N!=F)U=N>F?1:-1;else for(S=U=0;S<N;S++)if(O[S]!=I[S]){U=O[S]>I[S]?1:-1;break}return U}function b(O,I,N,F){for(var S=0;N--;)O[N]-=S,S=O[N]<I[N]?1:0,O[N]=S*F+O[N]-I[N];for(;!O[0]&&O.length>1;O.splice(0,1));}return function(O,I,N,F,S){var U,j,V,X,ye,we,Pe,$e,ot,Oe,Me,vt,ci,gs,ys,Xt,Ln,jt=O.s==I.s?1:-1,At=O.c,Qe=I.c;if(!At||!At[0]||!Qe||!Qe[0])return new q(!O.s||!I.s||(At?Qe&&At[0]==Qe[0]:!Qe)?NaN:At&&At[0]==0||!Qe?jt*0:jt/0);for($e=new q(jt),ot=$e.c=[],j=O.e-I.e,jt=N+j+1,S||(S=a,j=v(O.e/u)-v(I.e/u),jt=jt/u|0),V=0;Qe[V]==(At[V]||0);V++);if(Qe[V]>(At[V]||0)&&j--,jt<0)ot.push(1),X=!0;else{for(gs=At.length,Xt=Qe.length,V=0,jt+=2,ye=i(S/(Qe[0]+1)),ye>1&&(Qe=g(Qe,ye,S),At=g(At,ye,S),Xt=Qe.length,gs=At.length),ci=Xt,Oe=At.slice(0,Xt),Me=Oe.length;Me<Xt;Oe[Me++]=0);Ln=Qe.slice(),Ln=[0].concat(Ln),ys=Qe[0],Qe[1]>=S/2&&ys++;do{if(ye=0,U=E(Qe,Oe,Xt,Me),U<0){if(vt=Oe[0],Xt!=Me&&(vt=vt*S+(Oe[1]||0)),ye=i(vt/ys),ye>1)for(ye>=S&&(ye=S-1),we=g(Qe,ye,S),Pe=we.length,Me=Oe.length;E(we,Oe,Pe,Me)==1;)ye--,b(we,Xt<Pe?Ln:Qe,Pe,S),Pe=we.length,U=1;else ye==0&&(U=ye=1),we=Qe.slice(),Pe=we.length;if(Pe<Me&&(we=[0].concat(we)),b(Oe,we,Me,S),Me=Oe.length,U==-1)for(;E(Qe,Oe,Xt,Me)<1;)ye++,b(Oe,Xt<Me?Ln:Qe,Me,S),Me=Oe.length}else U===0&&(ye++,Oe=[0]);ot[V++]=ye,Oe[0]?Oe[Me++]=At[ci]||0:(Oe=[At[ci]],Me=1)}while((ci++<gs||Oe[0]!=null)&&jt--);X=Oe[0]!=null,ot[0]||ot.splice(0,1)}if(S==a){for(V=1,jt=ot[0];jt>=10;jt/=10,V++);se($e,N+($e.e=V+j*u-1)+1,F,X)}else $e.e=j,$e.r=+X;return $e}}();function ce(g,E,b,O){var I,N,F,S,U;if(b==null?b=H:A(b,0,8),!g.c)return g.toString();if(I=g.c[0],F=g.e,E==null)U=T(g.c),U=O==1||O==2&&(F<=G||F>=$)?x(U,F):R(U,F,"0");else if(g=se(new q(g),E,b),N=g.e,U=T(g.c),S=U.length,O==1||O==2&&(E<=N||N<=G)){for(;S<E;U+="0",S++);U=x(U,N)}else if(E-=F,U=R(U,N,"0"),N+1>S){if(--E>0)for(U+=".";E--;U+="0");}else if(E+=N-S,E>0)for(N+1==S&&(U+=".");E--;U+="0");return g.s<0&&I?"-"+U:U}function oe(g,E){for(var b,O=1,I=new q(g[0]);O<g.length;O++)if(b=new q(g[O]),b.s)E.call(I,b)&&(I=b);else{I=b;break}return I}function le(g,E,b){for(var O=1,I=E.length;!E[--I];E.pop());for(I=E[0];I>=10;I/=10,O++);return(b=O+b*u-1)>ae?g.c=g.e=null:b<de?g.c=[g.e=0]:(g.e=b,g.c=E),g}C=function(){var g=/^(-?)0([xbo])(?=\w[\w.]*$)/i,E=/^([^.]+)\.$/,b=/^\.([^.]+)$/,O=/^-?(Infinity|NaN)$/,I=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(N,F,S,U){var j,V=S?F:F.replace(I,"");if(O.test(V))N.s=isNaN(V)?null:V<0?-1:1;else{if(!S&&(V=V.replace(g,function(X,ye,we){return j=(we=we.toLowerCase())=="x"?16:we=="b"?2:8,!U||U==j?ye:X}),U&&(j=U,V=V.replace(E,"$1").replace(b,"0.$1")),F!=V))return new q(V,j);if(q.DEBUG)throw Error(s+"Not a"+(U?" base "+U:"")+" number: "+F);N.s=null}N.c=N.e=null}}();function se(g,E,b,O){var I,N,F,S,U,j,V,X=g.c,ye=f;if(X){e:{for(I=1,S=X[0];S>=10;S/=10,I++);if(N=E-I,N<0)N+=u,F=E,U=X[j=0],V=U/ye[I-F-1]%10|0;else if(j=n((N+1)/u),j>=X.length)if(O){for(;X.length<=j;X.push(0));U=V=0,I=1,N%=u,F=N-u+1}else break e;else{for(U=S=X[j],I=1;S>=10;S/=10,I++);N%=u,F=N-u+I,V=F<0?0:U/ye[I-F-1]%10|0}if(O=O||E<0||X[j+1]!=null||(F<0?U:U%ye[I-F-1]),O=b<4?(V||O)&&(b==0||b==(g.s<0?3:2)):V>5||V==5&&(b==4||O||b==6&&(N>0?F>0?U/ye[I-F]:0:X[j-1])%10&1||b==(g.s<0?8:7)),E<1||!X[0])return X.length=0,O?(E-=g.e+1,X[0]=ye[(u-E%u)%u],g.e=-E||0):X[0]=g.e=0,g;if(N==0?(X.length=j,S=1,j--):(X.length=j+1,S=ye[u-N],X[j]=F>0?i(U/ye[I-F]%ye[F])*S:0),O)for(;;)if(j==0){for(N=1,F=X[0];F>=10;F/=10,N++);for(F=X[0]+=S,S=1;F>=10;F/=10,S++);N!=S&&(g.e++,X[0]==a&&(X[0]=1));break}else{if(X[j]+=S,X[j]!=a)break;X[j--]=0,S=1}for(N=X.length;X[--N]===0;X.pop());}g.e>ae?g.c=g.e=null:g.e<de&&(g.c=[g.e=0])}return g}function ue(g){var E,b=g.e;return b===null?g.toString():(E=T(g.c),E=b<=G||b>=$?x(E,b):R(E,b,"0"),g.s<0?"-"+E:E)}return M.absoluteValue=M.abs=function(){var g=new q(this);return g.s<0&&(g.s=1),g},M.comparedTo=function(g,E){return B(this,new q(g,E))},M.decimalPlaces=M.dp=function(g,E){var b,O,I,N=this;if(g!=null)return A(g,0,y),E==null?E=H:A(E,0,8),se(new q(N),g+N.e+1,E);if(!(b=N.c))return null;if(O=((I=b.length-1)-v(this.e/u))*u,I=b[I])for(;I%10==0;I/=10,O--);return O<0&&(O=0),O},M.dividedBy=M.div=function(g,E){return L(this,new q(g,E),z,H)},M.dividedToIntegerBy=M.idiv=function(g,E){return L(this,new q(g,E),0,1)},M.exponentiatedBy=M.pow=function(g,E){var b,O,I,N,F,S,U,j,V,X=this;if(g=new q(g),g.c&&!g.isInteger())throw Error(s+"Exponent not an integer: "+ue(g));if(E!=null&&(E=new q(E)),S=g.e>14,!X.c||!X.c[0]||X.c[0]==1&&!X.e&&X.c.length==1||!g.c||!g.c[0])return V=new q(Math.pow(+ue(X),S?2-D(g):+ue(g))),E?V.mod(E):V;if(U=g.s<0,E){if(E.c?!E.c[0]:!E.s)return new q(NaN);O=!U&&X.isInteger()&&E.isInteger(),O&&(X=X.mod(E))}else{if(g.e>9&&(X.e>0||X.e<-1||(X.e==0?X.c[0]>1||S&&X.c[1]>=24e7:X.c[0]<8e13||S&&X.c[0]<=9999975e7)))return N=X.s<0&&D(g)?-0:0,X.e>-1&&(N=1/N),new q(U?1/N:N);ie&&(N=n(ie/u+2))}for(S?(b=new q(.5),U&&(g.s=1),j=D(g)):(I=Math.abs(+ue(g)),j=I%2),V=new q(Z);;){if(j){if(V=V.times(X),!V.c)break;N?V.c.length>N&&(V.c.length=N):O&&(V=V.mod(E))}if(I){if(I=i(I/2),I===0)break;j=I%2}else if(g=g.times(b),se(g,g.e+1,1),g.e>14)j=D(g);else{if(I=+ue(g),I===0)break;j=I%2}X=X.times(X),N?X.c&&X.c.length>N&&(X.c.length=N):O&&(X=X.mod(E))}return O?V:(U&&(V=Z.div(V)),E?V.mod(E):N?se(V,ie,H,F):V)},M.integerValue=function(g){var E=new q(this);return g==null?g=H:A(g,0,8),se(E,E.e+1,g)},M.isEqualTo=M.eq=function(g,E){return B(this,new q(g,E))===0},M.isFinite=function(){return!!this.c},M.isGreaterThan=M.gt=function(g,E){return B(this,new q(g,E))>0},M.isGreaterThanOrEqualTo=M.gte=function(g,E){return(E=B(this,new q(g,E)))===1||E===0},M.isInteger=function(){return!!this.c&&v(this.e/u)>this.c.length-2},M.isLessThan=M.lt=function(g,E){return B(this,new q(g,E))<0},M.isLessThanOrEqualTo=M.lte=function(g,E){return(E=B(this,new q(g,E)))===-1||E===0},M.isNaN=function(){return!this.s},M.isNegative=function(){return this.s<0},M.isPositive=function(){return this.s>0},M.isZero=function(){return!!this.c&&this.c[0]==0},M.minus=function(g,E){var b,O,I,N,F=this,S=F.s;if(g=new q(g,E),E=g.s,!S||!E)return new q(NaN);if(S!=E)return g.s=-E,F.plus(g);var U=F.e/u,j=g.e/u,V=F.c,X=g.c;if(!U||!j){if(!V||!X)return V?(g.s=-E,g):new q(X?F:NaN);if(!V[0]||!X[0])return X[0]?(g.s=-E,g):new q(V[0]?F:H==3?-0:0)}if(U=v(U),j=v(j),V=V.slice(),S=U-j){for((N=S<0)?(S=-S,I=V):(j=U,I=X),I.reverse(),E=S;E--;I.push(0));I.reverse()}else for(O=(N=(S=V.length)<(E=X.length))?S:E,S=E=0;E<O;E++)if(V[E]!=X[E]){N=V[E]<X[E];break}if(N&&(I=V,V=X,X=I,g.s=-g.s),E=(O=X.length)-(b=V.length),E>0)for(;E--;V[b++]=0);for(E=a-1;O>S;){if(V[--O]<X[O]){for(b=O;b&&!V[--b];V[b]=E);--V[b],V[O]+=a}V[O]-=X[O]}for(;V[0]==0;V.splice(0,1),--j);return V[0]?le(g,V,j):(g.s=H==3?-1:1,g.c=[g.e=0],g)},M.modulo=M.mod=function(g,E){var b,O,I=this;return g=new q(g,E),!I.c||!g.s||g.c&&!g.c[0]?new q(NaN):!g.c||I.c&&!I.c[0]?new q(I):(Y==9?(O=g.s,g.s=1,b=L(I,g,0,3),g.s=O,b.s*=O):b=L(I,g,0,Y),g=I.minus(b.times(g)),!g.c[0]&&Y==1&&(g.s=I.s),g)},M.multipliedBy=M.times=function(g,E){var b,O,I,N,F,S,U,j,V,X,ye,we,Pe,$e,ot,Oe=this,Me=Oe.c,vt=(g=new q(g,E)).c;if(!Me||!vt||!Me[0]||!vt[0])return!Oe.s||!g.s||Me&&!Me[0]&&!vt||vt&&!vt[0]&&!Me?g.c=g.e=g.s=null:(g.s*=Oe.s,!Me||!vt?g.c=g.e=null:(g.c=[0],g.e=0)),g;for(O=v(Oe.e/u)+v(g.e/u),g.s*=Oe.s,U=Me.length,X=vt.length,U<X&&(Pe=Me,Me=vt,vt=Pe,I=U,U=X,X=I),I=U+X,Pe=[];I--;Pe.push(0));for($e=a,ot=d,I=X;--I>=0;){for(b=0,ye=vt[I]%ot,we=vt[I]/ot|0,F=U,N=I+F;N>I;)j=Me[--F]%ot,V=Me[F]/ot|0,S=we*j+V*ye,j=ye*j+S%ot*ot+Pe[N]+b,b=(j/$e|0)+(S/ot|0)+we*V,Pe[N--]=j%$e;Pe[N]=b}return b?++O:Pe.splice(0,1),le(g,Pe,O)},M.negated=function(){var g=new q(this);return g.s=-g.s||null,g},M.plus=function(g,E){var b,O=this,I=O.s;if(g=new q(g,E),E=g.s,!I||!E)return new q(NaN);if(I!=E)return g.s=-E,O.minus(g);var N=O.e/u,F=g.e/u,S=O.c,U=g.c;if(!N||!F){if(!S||!U)return new q(I/0);if(!S[0]||!U[0])return U[0]?g:new q(S[0]?O:I*0)}if(N=v(N),F=v(F),S=S.slice(),I=N-F){for(I>0?(F=N,b=U):(I=-I,b=S),b.reverse();I--;b.push(0));b.reverse()}for(I=S.length,E=U.length,I-E<0&&(b=U,U=S,S=b,E=I),I=0;E;)I=(S[--E]=S[E]+U[E]+I)/a|0,S[E]=a===S[E]?0:S[E]%a;return I&&(S=[I].concat(S),++F),le(g,S,F)},M.precision=M.sd=function(g,E){var b,O,I,N=this;if(g!=null&&g!==!!g)return A(g,1,y),E==null?E=H:A(E,0,8),se(new q(N),g,E);if(!(b=N.c))return null;if(I=b.length-1,O=I*u+1,I=b[I]){for(;I%10==0;I/=10,O--);for(I=b[0];I>=10;I/=10,O++);}return g&&N.e+1>O&&(O=N.e+1),O},M.shiftedBy=function(g){return A(g,-l,l),this.times("1e"+g)},M.squareRoot=M.sqrt=function(){var g,E,b,O,I,N=this,F=N.c,S=N.s,U=N.e,j=z+4,V=new q("0.5");if(S!==1||!F||!F[0])return new q(!S||S<0&&(!F||F[0])?NaN:F?N:1/0);if(S=Math.sqrt(+ue(N)),S==0||S==1/0?(E=T(F),(E.length+U)%2==0&&(E+="0"),S=Math.sqrt(+E),U=v((U+1)/2)-(U<0||U%2),S==1/0?E="5e"+U:(E=S.toExponential(),E=E.slice(0,E.indexOf("e")+1)+U),b=new q(E)):b=new q(S+""),b.c[0]){for(U=b.e,S=U+j,S<3&&(S=0);;)if(I=b,b=V.times(I.plus(L(N,I,j,1))),T(I.c).slice(0,S)===(E=T(b.c)).slice(0,S))if(b.e<U&&--S,E=E.slice(S-3,S+1),E=="9999"||!O&&E=="4999"){if(!O&&(se(I,I.e+z+2,0),I.times(I).eq(N))){b=I;break}j+=4,S+=4,O=1}else{(!+E||!+E.slice(1)&&E.charAt(0)=="5")&&(se(b,b.e+z+2,1),g=!b.times(b).eq(N));break}}return se(b,b.e+z+1,H,g)},M.toExponential=function(g,E){return g!=null&&(A(g,0,y),g++),ce(this,g,E,1)},M.toFixed=function(g,E){return g!=null&&(A(g,0,y),g=g+this.e+1),ce(this,g,E)},M.toFormat=function(g,E,b){var O,I=this;if(b==null)g!=null&&E&&typeof E=="object"?(b=E,E=null):g&&typeof g=="object"?(b=g,g=E=null):b=te;else if(typeof b!="object")throw Error(s+"Argument not an object: "+b);if(O=I.toFixed(g,E),I.c){var N,F=O.split("."),S=+b.groupSize,U=+b.secondaryGroupSize,j=b.groupSeparator||"",V=F[0],X=F[1],ye=I.s<0,we=ye?V.slice(1):V,Pe=we.length;if(U&&(N=S,S=U,U=N,Pe-=N),S>0&&Pe>0){for(N=Pe%S||S,V=we.substr(0,N);N<Pe;N+=S)V+=j+we.substr(N,S);U>0&&(V+=j+we.slice(N)),ye&&(V="-"+V)}O=X?V+(b.decimalSeparator||"")+((U=+b.fractionGroupSize)?X.replace(new RegExp("\\d{"+U+"}\\B","g"),"$&"+(b.fractionGroupSeparator||"")):X):V}return(b.prefix||"")+O+(b.suffix||"")},M.toFraction=function(g){var E,b,O,I,N,F,S,U,j,V,X,ye,we=this,Pe=we.c;if(g!=null&&(S=new q(g),!S.isInteger()&&(S.c||S.s!==1)||S.lt(Z)))throw Error(s+"Argument "+(S.isInteger()?"out of range: ":"not an integer: ")+ue(S));if(!Pe)return new q(we);for(E=new q(Z),j=b=new q(Z),O=U=new q(Z),ye=T(Pe),N=E.e=ye.length-we.e-1,E.c[0]=f[(F=N%u)<0?u+F:F],g=!g||S.comparedTo(E)>0?N>0?E:j:S,F=ae,ae=1/0,S=new q(ye),U.c[0]=0;V=L(S,E,0,1),I=b.plus(V.times(O)),I.comparedTo(g)!=1;)b=O,O=I,j=U.plus(V.times(I=j)),U=I,E=S.minus(V.times(I=E)),S=I;return I=L(g.minus(b),O,0,1),U=U.plus(I.times(j)),b=b.plus(I.times(O)),U.s=j.s=we.s,N=N*2,X=L(j,O,N,H).minus(we).abs().comparedTo(L(U,b,N,H).minus(we).abs())<1?[j,O]:[U,b],ae=F,X},M.toNumber=function(){return+ue(this)},M.toPrecision=function(g,E){return g!=null&&A(g,1,y),ce(this,g,E,2)},M.toString=function(g){var E,b=this,O=b.s,I=b.e;return I===null?O?(E="Infinity",O<0&&(E="-"+E)):E="NaN":(g==null?E=I<=G||I>=$?x(T(b.c),I):R(T(b.c),I,"0"):g===10?(b=se(new q(b),z+I+1,H),E=R(T(b.c),b.e,"0")):(A(g,2,ne.length,"Base"),E=_(R(T(b.c),I,"0"),10,g,O,!0)),O<0&&b.c[0]&&(E="-"+E)),E},M.valueOf=M.toJSON=function(){return ue(this)},M._isBigNumber=!0,P!=null&&q.set(P),q}function v(P){var L=P|0;return P>0||P===L?L:L-1}function T(P){for(var L,_,C=1,M=P.length,Z=P[0]+"";C<M;){for(L=P[C++]+"",_=u-L.length;_--;L="0"+L);Z+=L}for(M=Z.length;Z.charCodeAt(--M)===48;);return Z.slice(0,M+1||1)}function B(P,L){var _,C,M=P.c,Z=L.c,z=P.s,H=L.s,G=P.e,$=L.e;if(!z||!H)return null;if(_=M&&!M[0],C=Z&&!Z[0],_||C)return _?C?0:-H:z;if(z!=H)return z;if(_=z<0,C=G==$,!M||!Z)return C?0:!M^_?1:-1;if(!C)return G>$^_?1:-1;for(H=(G=M.length)<($=Z.length)?G:$,z=0;z<H;z++)if(M[z]!=Z[z])return M[z]>Z[z]^_?1:-1;return G==$?0:G>$^_?1:-1}function A(P,L,_,C){if(P<L||P>_||P!==i(P))throw Error(s+(C||"Argument")+(typeof P=="number"?P<L||P>_?" out of range: ":" not an integer: ":" not a primitive number: ")+String(P))}function D(P){var L=P.c.length-1;return v(P.e/u)==L&&P.c[L]%2!=0}function x(P,L){return(P.length>1?P.charAt(0)+"."+P.slice(1):P)+(L<0?"e":"e+")+L}function R(P,L,_){var C,M;if(L<0){for(M=_+".";++L;M+=_);P=M+P}else if(C=P.length,++L>C){for(M=_,L-=C;--L;M+=_);P+=M}else L<C&&(P=P.slice(0,L)+"."+P.slice(L));return P}e=m(),e.default=e.BigNumber=e,typeof define=="function"&&define.amd?define(function(){return e}):typeof Rf<"u"&&Rf.exports?Rf.exports=e:(t||(t=typeof self<"u"&&self?self:window),t.BigNumber=e)})(tI)});var je=w(pe=>{"use strict";c();Object.defineProperty(pe,"__esModule",{value:!0});pe.ErrGasLimitShouldBe0ForInnerTransaction=pe.ErrInvalidRelayedV2BuilderArguments=pe.ErrInvalidRelayedV1BuilderArguments=pe.ErrNotImplemented=pe.ErrContractInteraction=pe.ErrCodec=pe.ErrCannotParseTransactionOutcome=pe.ErrCannotParseContractResults=pe.ErrMissingFieldOnEnum=pe.ErrMissingFieldOnStruct=pe.ErrTypingSystem=pe.ErrMock=pe.ErrContractHasNoAddress=pe.ErrContract=pe.ErrExpectedTransactionEventsNotFound=pe.ErrExpectedTransactionStatusNotReached=pe.ErrTransactionWatcherTimeout=pe.ErrAsyncTimerAborted=pe.ErrAsyncTimerAlreadyRunning=pe.ErrInvalidFunctionName=pe.ErrSignatureCannotCreate=pe.ErrTransactionOptionsInvalid=pe.ErrTransactionVersionInvalid=pe.ErrNonceInvalid=pe.ErrNotEnoughGas=pe.ErrAddressEmpty=pe.ErrAddressBadHrp=pe.ErrAddressCannotCreate=pe.ErrUnexpectedCondition=pe.ErrInvariantFailed=pe.ErrBadType=pe.ErrUnsupportedOperation=pe.ErrInvalidArgument=pe.Err=void 0;var Re=class extends Error{constructor(e,r){super(e),this.inner=void 0,this.inner=r}summary(){let e=[];e.push({name:this.name,message:this.message});let r=this.inner;for(;r;)e.push({name:r.name,message:r.message}),r=r.inner;return e}};pe.Err=Re;var Iy=class extends Re{constructor(e,r){super(`Invalid argument: ${e}`,r)}};pe.ErrInvalidArgument=Iy;var Sy=class extends Re{constructor(e,r="not specified"){super(`Operation "${e}" not supported. Reason: ${r}`)}};pe.ErrUnsupportedOperation=Sy;var Cy=class extends Re{constructor(e,r,n){super(`Bad type of "${e}": ${n}. Expected type: ${r}`)}};pe.ErrBadType=Cy;var Ty=class extends Re{constructor(e){super(`Invariant failed: [${e}]`)}};pe.ErrInvariantFailed=Ty;var xy=class extends Re{constructor(e){super(`Unexpected condition: [${e}]`)}};pe.ErrUnexpectedCondition=xy;var Ny=class extends Re{constructor(e,r){let n=`Cannot create address from: ${e}`;super(n,r)}};pe.ErrAddressCannotCreate=Ny;var Oy=class extends Re{constructor(e,r){super(`Wrong address HRP. Expected: ${e}, got ${r}`)}};pe.ErrAddressBadHrp=Oy;var Dy=class extends Re{constructor(){super("Address is empty")}};pe.ErrAddressEmpty=Dy;var Py=class extends Re{constructor(e){super(`Not enough gas provided: ${e}`)}};pe.ErrNotEnoughGas=Py;var Ry=class extends Re{constructor(e){super(`Invalid nonce: ${e}`)}};pe.ErrNonceInvalid=Ry;var By=class extends Re{constructor(e){super(`Invalid transaction version: ${e}`)}};pe.ErrTransactionVersionInvalid=By;var Ly=class extends Re{constructor(e){super(`Invalid transaction options: ${e}`)}};pe.ErrTransactionOptionsInvalid=Ly;var Fy=class extends Re{constructor(e,r){let n=`Cannot create signature from: ${e}`;super(n,r)}};pe.ErrSignatureCannotCreate=Fy;var My=class extends Re{constructor(){super("Invalid function name")}};pe.ErrInvalidFunctionName=My;var Uy=class extends Re{constructor(){super("Async timer already running")}};pe.ErrAsyncTimerAlreadyRunning=Uy;var qy=class extends Re{constructor(){super("Async timer aborted")}};pe.ErrAsyncTimerAborted=qy;var Vy=class extends Re{constructor(){super("TransactionWatcher has timed out")}};pe.ErrTransactionWatcherTimeout=Vy;var jy=class extends Re{constructor(){super("Expected transaction status not reached")}};pe.ErrExpectedTransactionStatusNotReached=jy;var Hy=class extends Re{constructor(){super("Expected transaction events not found")}};pe.ErrExpectedTransactionEventsNotFound=Hy;var Bf=class extends Re{constructor(e){super(e)}};pe.ErrContract=Bf;var Gy=class extends Bf{constructor(){super(`
The smart contract has no address set. Make sure you provide the address in the constructor, or call setAddress() appropriately.
If you need to recompute the address of the contract, make use of SmartContract.computeAddress() (static method). 
`)}};pe.ErrContractHasNoAddress=Gy;var Qy=class extends Re{constructor(e){super(e)}};pe.ErrMock=Qy;var ky=class extends Re{constructor(e){super(e)}};pe.ErrTypingSystem=ky;var zy=class extends Re{constructor(e,r){super(`field ${e} does not exist on struct ${r}`)}};pe.ErrMissingFieldOnStruct=zy;var Wy=class extends Re{constructor(e,r){super(`field ${e} does not exist on enum ${r}`)}};pe.ErrMissingFieldOnEnum=Wy;var Ky=class extends Re{constructor(e){super(`cannot parse contract results: ${e}`)}};pe.ErrCannotParseContractResults=Ky;var $y=class extends Re{constructor(e,r){super(`cannot parse outcome of transaction ${e}: ${r}`)}};pe.ErrCannotParseTransactionOutcome=$y;var Yy=class extends Re{constructor(e){super(e)}};pe.ErrCodec=Yy;var Jy=class extends Re{constructor(e){super(e)}};pe.ErrContractInteraction=Jy;var Xy=class extends Re{constructor(){super("Method not yet implemented")}};pe.ErrNotImplemented=Xy;var Zy=class extends Re{constructor(){super("invalid arguments for relayed v1 builder")}};pe.ErrInvalidRelayedV1BuilderArguments=Zy;var em=class extends Re{constructor(){super("invalid arguments for relayed v2 builder")}};pe.ErrInvalidRelayedV2BuilderArguments=em;var tm=class extends Re{constructor(){super("gas limit must be 0 for the inner transaction for relayed v2")}};pe.ErrGasLimitShouldBe0ForInnerTransaction=tm});var iI=w(li=>{"use strict";c();var W5=li&&li.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(li,"__esModule",{value:!0});li.TokenPayment=li.TokenTransfer=void 0;var Ic=W5(Yt()),K5=je(),rI="EGLD",nI=18;Ic.default.set({ROUNDING_MODE:1});var Xr=class{constructor(e){let r=new Ic.default(e.amountAsBigInteger);if(!r.isInteger()||r.isNegative())throw new K5.ErrInvalidArgument(`bad amountAsBigInteger: ${e.amountAsBigInteger}`);this.tokenIdentifier=e.tokenIdentifier,this.nonce=e.nonce,this.amountAsBigInteger=r,this.numDecimals=e.numDecimals}static egldFromAmount(e){let r=new Ic.default(e).shiftedBy(nI).decimalPlaces(0);return this.egldFromBigInteger(r)}static egldFromBigInteger(e){return new Xr({tokenIdentifier:rI,nonce:0,amountAsBigInteger:e,numDecimals:nI})}static fungibleFromAmount(e,r,n){let i=new Ic.default(r).shiftedBy(n).decimalPlaces(0);return this.fungibleFromBigInteger(e,i,n)}static fungibleFromBigInteger(e,r,n=0){return new Xr({tokenIdentifier:e,nonce:0,amountAsBigInteger:r,numDecimals:n})}static nonFungible(e,r){return new Xr({tokenIdentifier:e,nonce:r,amountAsBigInteger:1,numDecimals:0})}static semiFungible(e,r,n){return new Xr({tokenIdentifier:e,nonce:r,amountAsBigInteger:n,numDecimals:0})}static metaEsdtFromAmount(e,r,n,i){let s=new Ic.default(n).shiftedBy(i).decimalPlaces(0);return this.metaEsdtFromBigInteger(e,r,s,i)}static metaEsdtFromBigInteger(e,r,n,i=0){return new Xr({tokenIdentifier:e,nonce:r,amountAsBigInteger:n,numDecimals:i})}toString(){return this.amountAsBigInteger.toFixed(0)}valueOf(){return this.amountAsBigInteger}toPrettyString(){return`${this.toAmount()} ${this.tokenIdentifier}`}toAmount(){return this.amountAsBigInteger.shiftedBy(-this.numDecimals).toFixed(this.numDecimals)}isEgld(){return this.tokenIdentifier==rI}isFungible(){return this.nonce==0}};li.TokenTransfer=Xr;var rm=class extends Xr{constructor(e,r,n,i){super({tokenIdentifier:e,nonce:r,amountAsBigInteger:n,numDecimals:i})}};li.TokenPayment=rm});var Go=w(ke=>{"use strict";c();Object.defineProperty(ke,"__esModule",{value:!0});ke.ARGUMENTS_SEPARATOR=ke.ESDT_TRANSFER_VALUE=ke.MULTI_ESDTNFT_TRANSFER_FUNCTION_NAME=ke.ESDTNFT_TRANSFER_FUNCTION_NAME=ke.ESDT_TRANSFER_FUNCTION_NAME=ke.ESDT_TRANSFER_GAS_LIMIT=ke.TRANSACTION_VERSION_WITH_OPTIONS=ke.TRANSACTION_VERSION_DEFAULT=ke.TRANSACTION_OPTIONS_TX_GUARDED=ke.TRANSACTION_OPTIONS_TX_HASH_SIGN=ke.TRANSACTION_OPTIONS_DEFAULT=ke.TRANSACTION_MIN_GAS_PRICE=void 0;ke.TRANSACTION_MIN_GAS_PRICE=1e9;ke.TRANSACTION_OPTIONS_DEFAULT=0;ke.TRANSACTION_OPTIONS_TX_HASH_SIGN=1;ke.TRANSACTION_OPTIONS_TX_GUARDED=2;ke.TRANSACTION_VERSION_DEFAULT=1;ke.TRANSACTION_VERSION_WITH_OPTIONS=2;ke.ESDT_TRANSFER_GAS_LIMIT=5e5;ke.ESDT_TRANSFER_FUNCTION_NAME="ESDTTransfer";ke.ESDTNFT_TRANSFER_FUNCTION_NAME="ESDTNFTTransfer";ke.MULTI_ESDTNFT_TRANSFER_FUNCTION_NAME="MultiESDTNFTTransfer";ke.ESDT_TRANSFER_VALUE="0";ke.ARGUMENTS_SEPARATOR="@"});var gr=w(Je=>{"use strict";c();var $5=Je&&Je.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Y5=Je&&Je.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),J5=Je&&Je.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&$5(e,t,r);return Y5(e,t),e};Object.defineProperty(Je,"__esModule",{value:!0});Je.isEmpty=Je.guardEmpty=Je.guardNotEmpty=Je.guardLength=Je.guardSameLength=Je.guardValueIsSetWithMessage=Je.guardValueIsSet=Je.guardTrue=void 0;var Qo=J5(je());function X5(t,e){if(!t)throw new Qo.ErrInvariantFailed(`[<${e}>] isn't true`)}Je.guardTrue=X5;function Z5(t,e){sI(`${t} isn't set (null or undefined)`,e)}Je.guardValueIsSet=Z5;function sI(t,e){if(e==null||e===void 0)throw new Qo.ErrInvariantFailed(t)}Je.guardValueIsSetWithMessage=sI;function eM(t,e){if(t=t||[],e=e||[],t.length!=e.length)throw new Qo.ErrInvariantFailed("arrays do not have the same length")}Je.guardSameLength=eM;function tM(t,e){let r=t.length||0;if(r!=e)throw new Qo.ErrInvariantFailed(`wrong length, expected: ${e}, actual: ${r}`)}Je.guardLength=tM;function rM(t,e){if(nm(t))throw new Qo.ErrInvariantFailed(`${e} is empty`)}Je.guardNotEmpty=rM;function nM(t,e){if(!nm(t))throw new Qo.ErrInvariantFailed(`${e} is not empty`)}Je.guardEmpty=nM;function nm(t){return t.isEmpty?t.isEmpty():t.length===0}Je.isEmpty=nm});var oI=w(Lf=>{"use strict";c();Object.defineProperty(Lf,"__esModule",{value:!0});Lf.getJavascriptPrototypesInHierarchy=void 0;function iM(t,e){let r=[],n=Object.getPrototypeOf(t);for(;n&&e(n);)r.push(n),n=Object.getPrototypeOf(n);return r}Lf.getJavascriptPrototypesInHierarchy=iM});var mt=w(yt=>{"use strict";c();Object.defineProperty(yt,"__esModule",{value:!0});yt.NullType=yt.TypePlaceholder=yt.isTyped=yt.PrimitiveValue=yt.TypedValue=yt.CustomType=yt.PrimitiveType=yt.TypeCardinality=yt.Type=void 0;var im=oI(),aI=gr(),ur=class{constructor(e,r=[],n=qn.fixed(1)){aI.guardValueIsSet("name",e),this.name=e,this.typeParameters=r,this.cardinality=n}getName(){return this.name}getClassName(){return ur.ClassName}getClassHierarchy(){return im.getJavascriptPrototypesInHierarchy(this,n=>n.belongsToTypesystem).map(n=>n.getClassName()).reverse()}getFullyQualifiedName(){let e=this.getTypeParameters().map(r=>r.getFullyQualifiedName()).join(", ");return this.isGenericType()?`multiversx:types:${this.getName()}<${e}>`:`multiversx:types:${this.getName()}`}hasExactClass(e){return this.getClassName()==e}hasClassOrSuperclass(e){return this.getClassHierarchy().includes(e)}getTypeParameters(){return this.typeParameters}isGenericType(){return this.typeParameters.length>0}getFirstTypeParameter(){return aI.guardTrue(this.typeParameters.length>0,"type parameters length > 0"),this.typeParameters[0]}toString(){let e=this.getTypeParameters().map(n=>n.toString()).join(", "),r=e?`<${e}>`:"";return`${this.name}${r}`}equals(e){return ur.equals(this,e)}static equals(e,r){return e.getFullyQualifiedName()==r.getFullyQualifiedName()}static equalsMany(e,r){return e.every((n,i)=>n.equals(r[i]))}static isAssignableFromMany(e,r){return e.every((n,i)=>n.isAssignableFrom(r[i]))}differs(e){return!this.equals(e)}valueOf(){return this.name}isAssignableFrom(e){if(!ur.equalsMany(this.getTypeParameters(),e.getTypeParameters()))return!1;let n=this.getFullyQualifiedName();return ur.getFullyQualifiedNamesInHierarchy(e).includes(n)?!0:e.hasClassOrSuperclass(this.getClassName())}static getFullyQualifiedNamesInHierarchy(e){return im.getJavascriptPrototypesInHierarchy(e,i=>i.belongsToTypesystem).map(i=>i.getFullyQualifiedName.call(e))}getNamesOfDependencies(){let e=[];for(let r of this.typeParameters)e.push(r.getName()),e.push(...r.getNamesOfDependencies());return[...new Set(e)]}toJSON(){return{name:this.name,typeParameters:this.typeParameters.map(e=>e.toJSON())}}getCardinality(){return this.cardinality}belongsToTypesystem(){}};yt.Type=ur;ur.ClassName="Type";var qn=class{constructor(e,r){this.lowerBound=e,this.upperBound=r}static fixed(e){return new qn(e,e)}static variable(e){return new qn(0,e)}isSingular(){return this.lowerBound==1&&this.upperBound==1}isSingularOrNone(){return this.lowerBound==0&&this.upperBound==1}isComposite(){return this.upperBound!=1}isFixed(){return this.lowerBound==this.upperBound}getLowerBound(){return this.lowerBound}getUpperBound(){return this.upperBound||qn.MaxCardinality}};yt.TypeCardinality=qn;qn.MaxCardinality=4096;var ko=class extends ur{constructor(e){super(e)}getClassName(){return ko.ClassName}};yt.PrimitiveType=ko;ko.ClassName="PrimitiveType";var zo=class extends ur{getClassName(){return zo.ClassName}};yt.CustomType=zo;zo.ClassName="CustomType";var vs=class{constructor(e){this.type=e}getClassName(){return vs.ClassName}getClassHierarchy(){return im.getJavascriptPrototypesInHierarchy(this,n=>n.belongsToTypesystem).map(n=>n.getClassName()).reverse()}getType(){return this.type}hasExactClass(e){return this.getClassName()==e}hasClassOrSuperclass(e){return this.getClassHierarchy().includes(e)}belongsToTypesystem(){}};yt.TypedValue=vs;vs.ClassName="TypedValue";var Wo=class extends vs{constructor(e){super(e)}getClassName(){return Wo.ClassName}};yt.PrimitiveValue=Wo;Wo.ClassName="PrimitiveValue";function sM(t){return t.belongsToTypesystem!==void 0}yt.isTyped=sM;var Ko=class extends ur{constructor(){super("...")}getClassName(){return Ko.ClassName}};yt.TypePlaceholder=Ko;Ko.ClassName="TypePlaceholder";var $o=class extends ur{constructor(){super("?")}getClassName(){return $o.ClassName}};yt.NullType=$o;$o.ClassName="NullType"});var uI=w((Yo,Jo)=>{c();(function(t){var e=typeof Yo=="object"&&Yo&&!Yo.nodeType&&Yo,r=typeof Jo=="object"&&Jo&&!Jo.nodeType&&Jo,n=typeof global=="object"&&global;(n.global===n||n.window===n||n.self===n)&&(t=n);var i,s=2147483647,o=36,a=1,u=26,l=38,f=700,d=72,y=128,m="-",v=/^xn--/,T=/[^\x20-\x7E]/,B=/[\x2E\u3002\uFF0E\uFF61]/g,A={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},D=o-a,x=Math.floor,R=String.fromCharCode,P;function L(Y){throw new RangeError(A[Y])}function _(Y,ie){for(var te=Y.length,ne=[];te--;)ne[te]=ie(Y[te]);return ne}function C(Y,ie){var te=Y.split("@"),ne="";te.length>1&&(ne=te[0]+"@",Y=te[1]),Y=Y.replace(B,".");var q=Y.split("."),ce=_(q,ie).join(".");return ne+ce}function M(Y){for(var ie=[],te=0,ne=Y.length,q,ce;te<ne;)q=Y.charCodeAt(te++),q>=55296&&q<=56319&&te<ne?(ce=Y.charCodeAt(te++),(ce&64512)==56320?ie.push(((q&1023)<<10)+(ce&1023)+65536):(ie.push(q),te--)):ie.push(q);return ie}function Z(Y){return _(Y,function(ie){var te="";return ie>65535&&(ie-=65536,te+=R(ie>>>10&1023|55296),ie=56320|ie&1023),te+=R(ie),te}).join("")}function z(Y){return Y-48<10?Y-22:Y-65<26?Y-65:Y-97<26?Y-97:o}function H(Y,ie){return Y+22+75*(Y<26)-((ie!=0)<<5)}function G(Y,ie,te){var ne=0;for(Y=te?x(Y/f):Y>>1,Y+=x(Y/ie);Y>D*u>>1;ne+=o)Y=x(Y/D);return x(ne+(D+1)*Y/(Y+l))}function $(Y){var ie=[],te=Y.length,ne,q=0,ce=y,oe=d,le,se,ue,g,E,b,O,I,N;for(le=Y.lastIndexOf(m),le<0&&(le=0),se=0;se<le;++se)Y.charCodeAt(se)>=128&&L("not-basic"),ie.push(Y.charCodeAt(se));for(ue=le>0?le+1:0;ue<te;){for(g=q,E=1,b=o;ue>=te&&L("invalid-input"),O=z(Y.charCodeAt(ue++)),(O>=o||O>x((s-q)/E))&&L("overflow"),q+=O*E,I=b<=oe?a:b>=oe+u?u:b-oe,!(O<I);b+=o)N=o-I,E>x(s/N)&&L("overflow"),E*=N;ne=ie.length+1,oe=G(q-g,ne,g==0),x(q/ne)>s-ce&&L("overflow"),ce+=x(q/ne),q%=ne,ie.splice(q++,0,ce)}return Z(ie)}function de(Y){var ie,te,ne,q,ce,oe,le,se,ue,g,E,b=[],O,I,N,F;for(Y=M(Y),O=Y.length,ie=y,te=0,ce=d,oe=0;oe<O;++oe)E=Y[oe],E<128&&b.push(R(E));for(ne=q=b.length,q&&b.push(m);ne<O;){for(le=s,oe=0;oe<O;++oe)E=Y[oe],E>=ie&&E<le&&(le=E);for(I=ne+1,le-ie>x((s-te)/I)&&L("overflow"),te+=(le-ie)*I,ie=le,oe=0;oe<O;++oe)if(E=Y[oe],E<ie&&++te>s&&L("overflow"),E==ie){for(se=te,ue=o;g=ue<=ce?a:ue>=ce+u?u:ue-ce,!(se<g);ue+=o)F=se-g,N=o-g,b.push(R(H(g+F%N,0))),se=x(F/N);b.push(R(H(se,0))),ce=G(te,I,ne==q),te=0,++ne}++te,++ie}return b.join("")}function ae(Y){return C(Y,function(ie){return v.test(ie)?$(ie.slice(4).toLowerCase()):ie})}function re(Y){return C(Y,function(ie){return T.test(ie)?"xn--"+de(ie):ie})}if(i={version:"1.4.1",ucs2:{decode:M,encode:Z},decode:$,encode:de,toASCII:re,toUnicode:ae},typeof define=="function"&&typeof define.amd=="object"&&define.amd)define("punycode",function(){return i});else if(e&&r)if(Jo.exports==e)r.exports=i;else for(P in i)i.hasOwnProperty(P)&&(e[P]=i[P]);else t.punycode=i})(Yo)});var hI=w((ere,om)=>{"use strict";c();var lI=uI();function oM(t,e){this.__proto__=new Error(e),this.__proto__.name="BackslashError",this.offset=t}function sm(t){return t>="0"&&t<="7"}function aM(t){return t>="0"&&t<="9"||t>="a"&&t<="f"||t>="A"&&t<="F"}function cI(t){return t=parseInt(t,16),lI.ucs2.encode([t])}function fI(t,e,r){var n=!1,i=[];function s(u){var l=t[u];if(!aM(l))throw new oM(u,"Unexpected token ILLEGAL");return l}for(;e<t.length;){var o=t[e];if(e++,n){switch(n=!1,o){case"n":i.push(`
`);continue;case"r":i.push("\r");continue;case"f":i.push("\f");continue;case"b":i.push("\b");continue;case"t":i.push("	");continue;case"v":i.push("\v");continue;case"\\":i.push("\\");continue}if(o==="x"){i.push(cI(s(e)+s(e+1))),e+=2;continue}if(o==="u"){i.push(cI(s(e)+s(e+1)+s(e+2)+s(e+3))),e+=4;continue}if(sm(o)){var a;sm(a=t[e])&&(e++,o+=a,sm(a=t[e])&&o[0]<="3"&&(e++,o+=a)),i.push(lI.ucs2.encode([parseInt(o,8)]));continue}i.push(o)}else if(o==="\\")n=!0;else if(o===r){e--;break}else i.push(o)}return arguments.length===3?{end:e,value:i.join("")}:i.join("")}om.exports=function(e){return fI(e,0)};om.exports.parseUntil=function(e,r,n){return fI(e,r,n)}});var EI=w((rre,wI)=>{c();var gI=hI();wI.exports={validate:uM,parse:cM};function uM(t,e){var r;if(e=e||!1,typeof t!="string")r="Input must be a string";else try{Ff(t,0,e,!1)}catch(n){r=n.message}return r}function cM(t,e){if(typeof t!="string")throw new Error("Input must be a string");e=e||!1;var r=Ff(t,0,e,!0);return r.value}function yI(t,e){for(var r=t.length,n=e,i,s=e;s<r;s++){var o=t[s];if(o===","){i=s;break}else if(o==="]"||o==="}"){i=s-1;break}else if(!As(o))throw Vn(t,s,"expecting end of expression or separator")}var a;return i===void 0?(i=r,a=t[i]):(a=t[i],i++),{start:n,end:i,value:a}}function lM(t,e){for(var r=t.length,n=e,i,s=e;s<r;s++){var o=t[s];if(o===":"){i=s;break}else if(!As(o))throw Vn(t,s,"expecting ':'")}if(i===void 0)throw Vn(t,s,"expecting ':'");return i++,{start:n,end:i}}function Ff(t,e,r,n){for(var i=t.length,s,o,a=!1,u=!1,l=!1,f=!1,d=!1,y=!1,m,v=e;v<i;v++){var T=t[v];if(s===void 0){if(!As(T)){if(T==="[")a=!0;else if(T==="{")u=!0;else if(T==='"')l=!0;else if(pM(t,v)){s=v,v=v+3,o=v,m=!0;break}else if(gM(t,v)){s=v,v=v+4,o=v,m=!1;break}else if(yM(t,v)){s=v,v=v+3,o=v,m=null;break}else if(dI(T))f=!0;else if(T==="-")f=!0;else throw Vn(t,v,"");s=v}}else if(a){var B=dM(t,v,r,n);o=B.end,m=B.value;break}else if(u){var A=hM(t,v,r,n);o=A.end,m=A.value;break}else if(l&&T==='"'&&mI(t,v-1)){o=v,m=gI(t.substring(s+1,o));break}else if(f)if(As(T))y=!0;else if(T===","||T==="]"||T==="}"){m=parseFloat(t.substring(s,o),10),o=v-1;break}else{if(dI(T)&&!y)continue;if(T==="."&&!d&&!y)d=!0;else throw Vn(t,v,"expecting number")}}if(o===void 0)if(f)m=parseFloat(t.substring(s,v),10),o=v-1;else throw Vn(t,v,"unclosed statement");return o++,{value:m,start:s,end:o}}function fM(t,e){for(var r=t.length,n,i,s=e;s<r;s++){var o=t[s];if(n===void 0){if(!As(o)){if(o!=='"')throw Vn(t,s,"expecting String");n=s}}else if(o==='"'&&mI(t,s-1)){i=s;break}}if(i===void 0)throw Vn(t,r,"expecting String");var a=gI(t.substring(n+1,i));if(a==="")throw Vn(t,n,"empty string");return i++,{start:n,end:i,value:a}}function hM(t,e,r,n){for(var i=e,s=",",o={},a=[],u=[],l=e;As(t[l]);)l++;if(t[l]==="}")return{start:e,end:l,value:o};for(;s===",";){var f=fM(t,i),d=lM(t,f.end),y=Ff(t,d.end,r,n),m=yI(t,y.end);r||a.indexOf(f.value)!==-1&&(f.value=f.value+"1"),a.push(f.value),u.push(y.value),i=m.end,s=m.value}if(n){var v=0;for(v=0;v<a.length;v++)o[a[v]]=u[v]}return{start:e,end:i,value:o}}function mI(t,e){for(var r=e,n=0;r>-1&&t[r]==="\\";)n++,r--;return n%2===0}function dM(t,e,r,n){for(var i=e,s=",",o=[],a=e;As(t[a]);)a++;if(t[a]==="]")return{start:e,end:a,value:o};for(;s===",";){var u=Ff(t,i,r,n),l=yI(t,u.end);n&&o.push(u.value),i=l.end,s=l.value}return{start:e,end:i,value:o}}function pM(t,e){return t.substr(e,4)==="true"}function gM(t,e){return t.substr(e,5)==="false"}function yM(t,e){return t.substr(e,4)==="null"}var mM=new RegExp(/^\s$/);function As(t){return mM.test(t)}var wM=new RegExp(/^\d$/);function dI(t){return wM.test(t)}function Vn(t,e,r){var n=10,i;t.length<e+n?i=t.substr(pI(t.length-n),t.length):e-n/2<0?i=t.substr(0,n):i=t.substr(pI(e-n/2),n);var s;return r?s="Syntax error: "+r+" near "+i:s="Syntax error near "+i,new Error(s)}function pI(t){return t<0?0:t}});var Mf=w(Zr=>{"use strict";c();var EM=Zr&&Zr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),vM=Zr&&Zr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),AM=Zr&&Zr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&EM(e,t,r);return vM(e,t),e};Object.defineProperty(Zr,"__esModule",{value:!0});Zr.TypeExpressionParser=void 0;var vI=AM(je()),bM=mt(),_M=EI(),am=class{parse(e){let r=this.doParse(e),n=Object.keys(r);if(n.length!=1)throw new vI.ErrTypingSystem(`bad type expression: ${e}`);let i=n[0];return this.nodeToType(i,r[i])}doParse(e){let r=this.getJsonedString(e);try{return _M.parse(r)}catch{throw new vI.ErrTypingSystem(`cannot parse type expression: ${e}. internal json: ${r}.`)}}getJsonedString(e){let r="";for(var n=0;n<e.length;n++){let o=e.charAt(n),a=e.charAt(n-1),u=e.charAt(n+1);o=="<"?r+=": {":o==">"?a!=">"?r+=": {} }":r+="}":o==","?u==">"||(a==">"?r+=",":r+=": {},"):r+=o}let i=/(:|\{|\}|,|\s)/,s=r.replace(/utf\-8\sstring/ig,"utf-8-string").split(i).filter(o=>o);return r=s.map(o=>i.test(o)?o:`"${o}"`).map(o=>o.replace(/utf\-8\-string/ig,"utf-8 string")).join(""),s.length==1?`{${r}: {}}`:`{${r}}`}nodeToType(e,r){e.charAt(e.length-1)==="1"&&(e=e.slice(0,-1));let n=Object.keys(r).map(i=>this.nodeToType(i,r[i]));return new bM.Type(e,n)}};Zr.TypeExpressionParser=am});var um=w(fi=>{"use strict";c();Object.defineProperty(fi,"__esModule",{value:!0});fi.EndpointParameterDefinition=fi.EndpointModifiers=fi.EndpointDefinition=void 0;var IM=Mf(),AI="?",SM="N / A",Sc=class{constructor(e,r,n,i){this.input=[],this.output=[],this.name=e,this.input=r||[],this.output=n||[],this.modifiers=i}isConstructor(){return this.name=="constructor"}static fromJSON(e){e.name=e.name==null?AI:e.name,e.payableInTokens=e.payableInTokens||[],e.inputs=e.inputs||[],e.outputs=e.outputs||[];let r=e.inputs.map(s=>bs.fromJSON(s)),n=e.outputs.map(s=>bs.fromJSON(s)),i=new Uf(e.mutability,e.payableInTokens);return new Sc(e.name,r,n,i)}};fi.EndpointDefinition=Sc;var Uf=class{constructor(e,r){this.mutability=e||"",this.payableInTokens=r||[]}isPayableInEGLD(){return this.isPayableInToken("EGLD")}isPayableInToken(e){return this.payableInTokens.includes(e)?!0:this.payableInTokens.includes(`!${e}`)?!1:!!this.payableInTokens.includes("*")}isPayable(){return this.payableInTokens.length!=0}isReadonly(){return this.mutability=="readonly"}};fi.EndpointModifiers=Uf;var bs=class{constructor(e,r,n){this.name=e,this.description=r,this.type=n}static fromJSON(e){let r=new IM.TypeExpressionParser().parse(e.type);return new bs(e.name||AI,e.description||SM,r)}};fi.EndpointParameterDefinition=bs});var Xo=w(er=>{"use strict";c();var CM=er&&er.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),TM=er&&er.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),xM=er&&er.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&CM(e,t,r);return TM(e,t),e};Object.defineProperty(er,"__esModule",{value:!0});er.Fields=er.Field=er.FieldDefinition=void 0;var cm=xM(je()),NM=Mf(),Cc=class{constructor(e,r,n){this.name=e,this.description=r,this.type=n}static fromJSON(e){let r=new NM.TypeExpressionParser().parse(e.type);return new Cc(e.name,e.description,r)}};er.FieldDefinition=Cc;var lm=class{constructor(e,r=""){this.value=e,this.name=r}checkTyping(e){let r=this.value.getType();if(!r.equals(e.type))throw new cm.ErrTypingSystem(`check type of field "${e.name}; expected: ${e.type}, actual: ${r}"`);if(this.name!=e.name)throw new cm.ErrTypingSystem(`check name of field "${e.name}"`)}equals(e){return this.name==e.name&&this.value.equals(e.value)}};er.Field=lm;var fm=class{static checkTyping(e,r){if(e.length!=r.length)throw new cm.ErrTypingSystem("fields length vs. field definitions length");for(let n=0;n<e.length;n++){let i=e[n],s=r[n];i.checkTyping(s)}}static equals(e,r){if(e.length!=r.length)return!1;for(let n=0;n<e.length;n++){let i=e[n],s=r[n];if(!i.equals(s))return!1}return!0}static getNamesOfTypeDependencies(e){let r=[];for(let n of e)r.push(n.type.getName()),r.push(...n.type.getNamesOfDependencies());return[...new Set(r)]}};er.Fields=fm});var Tc=w(di=>{"use strict";c();Object.defineProperty(di,"__esModule",{value:!0});di.EnumValue=di.EnumVariantDefinition=di.EnumType=void 0;var OM=je(),hm=gr(),qf=Xo(),_I=mt(),bI=256,_s=class extends _I.CustomType{constructor(e,r){super(e),this.variants=[],this.variants=r}getClassName(){return _s.ClassName}static fromJSON(e){let r=(e.variants||[]).map(n=>Zo.fromJSON(n));return new _s(e.name,r)}getVariantByDiscriminant(e){let r=this.variants.find(n=>n.discriminant==e);return hm.guardValueIsSet(`variant by discriminant (${e})`,r),r}getVariantByName(e){let r=this.variants.find(n=>n.name==e);return hm.guardValueIsSet(`variant by name (${e})`,r),r}getNamesOfDependencies(){let e=[];for(let r of this.variants)e.push(...r.getNamesOfDependencies());return[...new Set(e)]}};di.EnumType=_s;_s.ClassName="EnumType";var Zo=class{constructor(e,r,n=[]){this.fieldsDefinitions=[],hm.guardTrue(r<bI,`discriminant for simple enum should be less than ${bI}`),this.name=e,this.discriminant=r,this.fieldsDefinitions=n}static fromJSON(e){let r=(e.fields||[]).map(n=>qf.FieldDefinition.fromJSON(n));return new Zo(e.name,e.discriminant,r)}getFieldsDefinitions(){return this.fieldsDefinitions}getFieldDefinition(e){return this.fieldsDefinitions.find(r=>r.name==e)}getNamesOfDependencies(){return qf.Fields.getNamesOfTypeDependencies(this.fieldsDefinitions)}};di.EnumVariantDefinition=Zo;var hi=class extends _I.TypedValue{constructor(e,r,n){super(e),this.fields=[],this.name=r.name,this.discriminant=r.discriminant,this.fields=n,this.fieldsByName=new Map(n.map(s=>[s.name,s]));let i=r.getFieldsDefinitions();qf.Fields.checkTyping(this.fields,i)}getClassName(){return hi.ClassName}static fromName(e,r){let n=e.getVariantByName(r);return new hi(e,n,[])}static fromDiscriminant(e,r){let n=e.getVariantByDiscriminant(r);return new hi(e,n,[])}equals(e){if(!this.getType().equals(e.getType()))return!1;let r=this.getFields(),n=e.getFields(),i=this.name==e.name,s=this.discriminant==e.discriminant,o=qf.Fields.equals(r,n);return i&&s&&o}getFields(){return this.fields}getFieldValue(e){let r=this.fieldsByName.get(e);if(r)return r.value.valueOf();throw new OM.ErrMissingFieldOnEnum(e,this.getType().getName())}valueOf(){let e={name:this.name,fields:[]};return this.fields.forEach(r=>e.fields[r.name]=r.value.valueOf()),e}};di.EnumValue=hi;hi.ClassName="EnumValue"});var ra=w(ta=>{"use strict";c();Object.defineProperty(ta,"__esModule",{value:!0});ta.Struct=ta.StructType=void 0;var DM=je(),Vf=Xo(),II=mt(),Is=class extends II.CustomType{constructor(e,r){super(e),this.fieldsDefinitions=[],this.fieldsDefinitions=r}getClassName(){return Is.ClassName}static fromJSON(e){let r=(e.fields||[]).map(n=>Vf.FieldDefinition.fromJSON(n));return new Is(e.name,r)}getFieldsDefinitions(){return this.fieldsDefinitions}getFieldDefinition(e){return this.fieldsDefinitions.find(r=>r.name==e)}getNamesOfDependencies(){return Vf.Fields.getNamesOfTypeDependencies(this.fieldsDefinitions)}};ta.StructType=Is;Is.ClassName="StructType";var ea=class extends II.TypedValue{constructor(e,r){super(e),this.fields=r,this.fieldsByName=new Map(r.map(n=>[n.name,n])),this.checkTyping()}getClassName(){return ea.ClassName}checkTyping(){let r=this.getType().getFieldsDefinitions();Vf.Fields.checkTyping(this.fields,r)}getFields(){return this.fields}getFieldValue(e){let r=this.fieldsByName.get(e);if(r)return r.value.valueOf();throw new DM.ErrMissingFieldOnStruct(e,this.getType().getName())}valueOf(){let e={};for(let r of this.fields)e[r.name]=r.value.valueOf();return e}equals(e){if(!this.getType().equals(e.getType()))return!1;let r=this.getFields(),n=e.getFields();return Vf.Fields.equals(r,n)}};ta.Struct=ea;ea.ClassName="Struct"});var Qf=w((pre,TI)=>{"use strict";c();var Hf="qpzry9x8gf2tvdw0s3jn54khce6mua7l",dm={};for(xc=0;xc<Hf.length;xc++){if(jf=Hf.charAt(xc),dm[jf]!==void 0)throw new TypeError(jf+" is ambiguous");dm[jf]=xc}var jf,xc;function na(t){var e=t>>25;return(t&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}function SI(t){for(var e=1,r=0;r<t.length;++r){var n=t.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+t+")";e=na(e)^n>>5}for(e=na(e),r=0;r<t.length;++r){var i=t.charCodeAt(r);e=na(e)^i&31}return e}function PM(t,e,r){if(r=r||90,t.length+7+e.length>r)throw new TypeError("Exceeds length limit");t=t.toLowerCase();var n=SI(t);if(typeof n=="string")throw new Error(n);for(var i=t+"1",s=0;s<e.length;++s){var o=e[s];if(o>>5)throw new Error("Non 5-bit word");n=na(n)^o,i+=Hf.charAt(o)}for(s=0;s<6;++s)n=na(n);for(n^=1,s=0;s<6;++s){var a=n>>(5-s)*5&31;i+=Hf.charAt(a)}return i}function CI(t,e){if(e=e||90,t.length<8)return t+" too short";if(t.length>e)return"Exceeds length limit";var r=t.toLowerCase(),n=t.toUpperCase();if(t!==r&&t!==n)return"Mixed-case string "+t;t=r;var i=t.lastIndexOf("1");if(i===-1)return"No separator character for "+t;if(i===0)return"Missing prefix for "+t;var s=t.slice(0,i),o=t.slice(i+1);if(o.length<6)return"Data too short";var a=SI(s);if(typeof a=="string")return a;for(var u=[],l=0;l<o.length;++l){var f=o.charAt(l),d=dm[f];if(d===void 0)return"Unknown character "+f;a=na(a)^d,!(l+6>=o.length)&&u.push(d)}return a!==1?"Invalid checksum for "+t:{prefix:s,words:u}}function RM(){var t=CI.apply(null,arguments);if(typeof t=="object")return t}function BM(t){var e=CI.apply(null,arguments);if(typeof e=="object")return e;throw new Error(e)}function Gf(t,e,r,n){for(var i=0,s=0,o=(1<<r)-1,a=[],u=0;u<t.length;++u)for(i=i<<e|t[u],s+=e;s>=r;)s-=r,a.push(i>>s&o);if(n)s>0&&a.push(i<<r-s&o);else{if(s>=e)return"Excess padding";if(i<<r-s&o)return"Non-zero padding"}return a}function LM(t){var e=Gf(t,8,5,!0);if(Array.isArray(e))return e}function FM(t){var e=Gf(t,8,5,!0);if(Array.isArray(e))return e;throw new Error(e)}function MM(t){var e=Gf(t,5,8,!1);if(Array.isArray(e))return e}function UM(t){var e=Gf(t,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}TI.exports={decodeUnsafe:RM,decode:BM,encode:PM,toWordsUnsafe:LM,toWords:FM,fromWordsUnsafe:MM,fromWords:UM}});var tr=w(en=>{"use strict";c();var qM=en&&en.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),VM=en&&en.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),xI=en&&en.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&qM(e,t,r);return VM(e,t),e};Object.defineProperty(en,"__esModule",{value:!0});en.Address=void 0;var kf=xI(Qf()),ia=xI(je()),pm="erd",gm=32,jM="0".repeat(16),bt=class{constructor(e){if(this.valueHex="",!!e){if(e instanceof bt)return bt.fromAddress(e);if(e instanceof h.Buffer)return bt.fromBuffer(e);if(typeof e=="string")return bt.fromString(e);throw new ia.ErrAddressCannotCreate(e)}}static fromAddress(e){return bt.fromValidHex(e.valueHex)}static fromValidHex(e){let r=new bt;return r.valueHex=e,r}static fromBuffer(e){if(e.length!=gm)throw new ia.ErrAddressCannotCreate(e);return bt.fromValidHex(e.toString("hex"))}static fromString(e){return bt.isValidHex(e)?bt.fromValidHex(e):bt.fromBech32(e)}static isValidHex(e){return h.Buffer.from(e,"hex").length==gm}static fromHex(e){if(!bt.isValidHex(e))throw new ia.ErrAddressCannotCreate(e);return bt.fromValidHex(e)}static empty(){return new bt}static fromBech32(e){let r;try{r=kf.decode(e)}catch(s){throw new ia.ErrAddressCannotCreate(e,s)}let n=r.prefix;if(n!=pm)throw new ia.ErrAddressBadHrp(pm,n);let i=h.Buffer.from(kf.fromWords(r.words));if(i.length!=gm)throw new ia.ErrAddressCannotCreate(e);return bt.fromValidHex(i.toString("hex"))}hex(){return this.isEmpty()?"":this.valueHex}bech32(){if(this.isEmpty())return"";let e=kf.toWords(this.pubkey());return kf.encode(pm,e)}pubkey(){return this.isEmpty()?h.Buffer.from([]):h.Buffer.from(this.valueHex,"hex")}isEmpty(){return!this.valueHex}equals(e){return e?this.valueHex==e.valueHex:!1}toString(){return this.bech32()}toJSON(){return{bech32:this.bech32(),pubkey:this.hex()}}static Zero(){return new bt("0".repeat(64))}isContractAddress(){return this.hex().startsWith(jM)}};en.Address=bt});var aa=w(oa=>{"use strict";c();Object.defineProperty(oa,"__esModule",{value:!0});oa.AddressValue=oa.AddressType=void 0;var HM=tr(),NI=mt(),Ss=class extends NI.PrimitiveType{constructor(){super("Address")}getClassName(){return Ss.ClassName}};oa.AddressType=Ss;Ss.ClassName="AddressType";var sa=class extends NI.PrimitiveValue{constructor(e){super(new Ss),this.value=new HM.Address(e.bech32())}getClassName(){return sa.ClassName}equals(e){return this.value.equals(e.value)}valueOf(){return this.value}};oa.AddressValue=sa;sa.ClassName="AddressValue"});var zf=w(ua=>{"use strict";c();Object.defineProperty(ua,"__esModule",{value:!0});ua.OptionalValue=ua.OptionalType=void 0;var GM=gr(),Nc=mt(),pi=class extends Nc.Type{constructor(e){super("Optional",[e],Nc.TypeCardinality.variable(1))}getClassName(){return pi.ClassName}isAssignableFrom(e){if(!e.hasExactClass(pi.ClassName))return!1;let r=this.getFirstTypeParameter().equals(e.getFirstTypeParameter()),n=e.getFirstTypeParameter().hasExactClass(Nc.NullType.ClassName);return r||n}};ua.OptionalType=pi;pi.ClassName="OptionalType";var Cs=class extends Nc.TypedValue{constructor(e,r=null){super(e),this.value=r}getClassName(){return Cs.ClassName}static newMissing(){let e=new pi(new Nc.NullType);return new Cs(e)}isSet(){return!!this.value}getTypedValue(){return GM.guardValueIsSet("value",this.value),this.value}valueOf(){return this.value?this.value.valueOf():null}equals(e){var r;return((r=this.value)===null||r===void 0?void 0:r.equals(e.value))||!1}};ua.OptionalValue=Cs;Cs.ClassName="OptionalValue"});var Oc=w(la=>{"use strict";c();Object.defineProperty(la,"__esModule",{value:!0});la.BooleanValue=la.BooleanType=void 0;var OI=mt(),Ts=class extends OI.PrimitiveType{constructor(){super("bool")}getClassName(){return Ts.ClassName}};la.BooleanType=Ts;Ts.ClassName="BooleanType";var ca=class extends OI.PrimitiveValue{constructor(e){super(new Ts),this.value=e}getClassName(){return ca.ClassName}equals(e){return this.value===e.value}isTrue(){return this.value===!0}isFalse(){return!this.isTrue()}valueOf(){return this.value}};la.BooleanValue=ca;ca.ClassName="BooleanValue"});var yi=w(fa=>{"use strict";c();Object.defineProperty(fa,"__esModule",{value:!0});fa.BytesValue=fa.BytesType=void 0;var DI=mt(),xs=class extends DI.PrimitiveType{constructor(){super("bytes")}getClassName(){return xs.ClassName}};fa.BytesType=xs;xs.ClassName="BytesType";var gi=class extends DI.PrimitiveValue{constructor(e){super(new xs),this.value=e}getClassName(){return gi.ClassName}static fromUTF8(e){let r=h.Buffer.from(e,"utf-8");return new gi(r)}static fromHex(e){let r=h.Buffer.from(e,"hex");return new gi(r)}getLength(){return this.value.length}equals(e){return this.getLength()!=e.getLength()?!1:this.value.equals(e.value)}valueOf(){return this.value}toString(){return this.value.toString()}};fa.BytesValue=gi;gi.ClassName="BytesValue"});var RI=w(ha=>{"use strict";c();Object.defineProperty(ha,"__esModule",{value:!0});ha.CodeMetadataValue=ha.CodeMetadataType=void 0;var PI=mt(),Wf=class extends PI.PrimitiveType{constructor(){super("CodeMetadata")}};ha.CodeMetadataType=Wf;var ym=class extends PI.PrimitiveValue{constructor(e){super(new Wf),this.value=e}equals(e){return this.value.equals(e.value)}valueOf(){return this.value}};ha.CodeMetadataValue=ym});var Kf=w(da=>{"use strict";c();Object.defineProperty(da,"__esModule",{value:!0});da.CompositeValue=da.CompositeType=void 0;var QM=gr(),mm=mt(),Ns=class extends mm.Type{constructor(...e){super("Composite",e,mm.TypeCardinality.variable(e.length))}getClassName(){return Ns.ClassName}};da.CompositeType=Ns;Ns.ClassName="CompositeType";var Os=class extends mm.TypedValue{constructor(e,r){super(e),QM.guardLength(r,e.getTypeParameters().length),this.items=r}getClassName(){return Os.ClassName}static fromItems(...e){let r=e.map(i=>i.getType()),n=new Ns(...r);return new Os(n,e)}getItems(){return this.items}valueOf(){return this.items.map(e=>e?.valueOf())}equals(e){if(this.getType().differs(e.getType()))return!1;for(let r=0;r<this.items.length;r++){let n=this.items[r],i=e.items[r];if(!n.equals(i))return!1}return!0}};da.CompositeValue=Os;Os.ClassName="CompositeValue"});var Em=w($f=>{"use strict";c();Object.defineProperty($f,"__esModule",{value:!0});$f.CollectionOfTypedValues=void 0;var wm=class{constructor(e){this.items=e}getLength(){return this.items.length}getItems(){return this.items}valueOf(){return this.items.map(e=>e.valueOf())}equals(e){if(this.getLength()!=e.getLength())return!1;for(let r=0;r<this.getLength();r++){let n=this.items[r],i=e.items[r];if(!n.equals(i))return!1}return!0}};$f.CollectionOfTypedValues=wm});var Dc=w(tn=>{"use strict";c();Object.defineProperty(tn,"__esModule",{value:!0});tn.List=tn.OptionValue=tn.ListType=tn.OptionType=void 0;var kM=gr(),zM=Em(),Ds=mt(),rn=class extends Ds.Type{constructor(e){super("Option",[e])}getClassName(){return rn.ClassName}isAssignableFrom(e){if(!e.hasExactClass(rn.ClassName))return!1;let r=this.getFirstTypeParameter().equals(e.getFirstTypeParameter()),n=e.getFirstTypeParameter().hasExactClass(Ds.NullType.ClassName);return r||n}};tn.OptionType=rn;rn.ClassName="OptionType";var Ps=class extends Ds.Type{constructor(e){super("List",[e])}getClassName(){return Ps.ClassName}};tn.ListType=Ps;Ps.ClassName="ListType";var jn=class extends Ds.TypedValue{constructor(e,r=null){super(e),this.value=r}getClassName(){return jn.ClassName}static newMissing(){let e=new rn(new Ds.NullType);return new jn(e)}static newMissingTyped(e){return new jn(new rn(e))}static newProvided(e){let r=new rn(e.getType());return new jn(r,e)}isSet(){return!!this.value}getTypedValue(){return kM.guardValueIsSet("value",this.value),this.value}valueOf(){return this.value?this.value.valueOf():null}equals(e){var r;return((r=this.value)===null||r===void 0?void 0:r.equals(e.value))||!1}};tn.OptionValue=jn;jn.ClassName="OptionValue";var mi=class extends Ds.TypedValue{constructor(e,r){super(e),this.backingCollection=new zM.CollectionOfTypedValues(r)}getClassName(){return mi.ClassName}static fromItems(e){if(e.length==0)return new mi(new Ds.TypePlaceholder,[]);let r=e[0].getType(),n=new Ps(r);return new mi(n,e)}getLength(){return this.backingCollection.getLength()}getItems(){return this.backingCollection.getItems()}valueOf(){return this.backingCollection.valueOf()}equals(e){return this.backingCollection.equals(e.backingCollection)}};tn.List=mi;mi.ClassName="List"});var Yf=w(ya=>{"use strict";c();Object.defineProperty(ya,"__esModule",{value:!0});ya.ArrayVec=ya.ArrayVecType=void 0;var BI=gr(),WM=Em(),LI=mt(),pa=class extends LI.Type{constructor(e,r){super("Array",[r]),BI.guardTrue(e>0,"array length > 0"),this.length=e}getClassName(){return pa.ClassName}};ya.ArrayVecType=pa;pa.ClassName="ArrayVecType";var ga=class extends LI.TypedValue{constructor(e,r){super(e),BI.guardLength(r,e.length),this.backingCollection=new WM.CollectionOfTypedValues(r)}getClassName(){return ga.ClassName}getLength(){return this.backingCollection.getLength()}getItems(){return this.backingCollection.getItems()}valueOf(){return this.backingCollection.valueOf()}equals(e){return this.backingCollection.equals(e.backingCollection)}};ya.ArrayVec=ga;ga.ClassName="ArrayVec"});var Pc=w(wa=>{"use strict";c();Object.defineProperty(wa,"__esModule",{value:!0});wa.H256Value=wa.H256Type=void 0;var FI=mt(),Rs=class extends FI.PrimitiveType{constructor(){super("H256")}getClassName(){return Rs.ClassName}};wa.H256Type=Rs;Rs.ClassName="H256Type";var ma=class extends FI.PrimitiveValue{constructor(e){super(new Rs),this.value=e}getClassName(){return ma.ClassName}equals(e){return this.value.equals(e.value)}valueOf(){return this.value}};wa.H256Value=ma;ma.ClassName="H256Value"});var Jf=w(va=>{"use strict";c();Object.defineProperty(va,"__esModule",{value:!0});va.NothingValue=va.NothingType=void 0;var MI=mt(),Bs=class extends MI.PrimitiveType{constructor(){super("nothing")}getClassName(){return Bs.ClassName}};va.NothingType=Bs;Bs.ClassName="NothingType";var Ea=class extends MI.PrimitiveValue{constructor(){super(new Bs)}getClassName(){return Ea.ClassName}equals(e){return!1}valueOf(){return{}}};va.NothingValue=Ea;Ea.ClassName="NothingValue"});var Rc=w(Ae=>{"use strict";c();var KM=Ae&&Ae.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),$M=Ae&&Ae.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),YM=Ae&&Ae.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&KM(e,t,r);return $M(e,t),e},JM=Ae&&Ae.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ae,"__esModule",{value:!0});Ae.BigIntValue=Ae.BigUIntValue=Ae.I64Value=Ae.U64Value=Ae.I32Value=Ae.U32Value=Ae.I16Value=Ae.U16Value=Ae.I8Value=Ae.U8Value=Ae.NumericalValue=Ae.BigIntType=Ae.BigUIntType=Ae.I64Type=Ae.U64Type=Ae.I32Type=Ae.U32Type=Ae.I16Type=Ae.U16Type=Ae.I8Type=Ae.U8Type=Ae.NumericalType=void 0;var UI=YM(je()),qI=mt(),ks=JM(Yt()),Ht=class extends qI.PrimitiveType{constructor(e,r,n){super(e),this.sizeInBytes=r,this.withSign=n}getClassName(){return Ht.ClassName}hasFixedSize(){return!!this.sizeInBytes}hasArbitrarySize(){return!this.hasFixedSize()}};Ae.NumericalType=Ht;Ht.ClassName="NumericalType";var Ls=class extends Ht{constructor(){super("u8",1,!1)}getClassName(){return Ls.ClassName}};Ae.U8Type=Ls;Ls.ClassName="U8Type";var Fs=class extends Ht{constructor(){super("i8",1,!0)}getClassName(){return Fs.ClassName}};Ae.I8Type=Fs;Fs.ClassName="I8Type";var Ms=class extends Ht{constructor(){super("u16",2,!1)}getClassName(){return Ms.ClassName}};Ae.U16Type=Ms;Ms.ClassName="U16Type";var Us=class extends Ht{constructor(){super("i16",2,!0)}getClassName(){return Us.ClassName}};Ae.I16Type=Us;Us.ClassName="I16Type";var qs=class extends Ht{constructor(){super("u32",4,!1)}getClassName(){return qs.ClassName}};Ae.U32Type=qs;qs.ClassName="U32Type";var Vs=class extends Ht{constructor(){super("i32",4,!0)}getClassName(){return Vs.ClassName}};Ae.I32Type=Vs;Vs.ClassName="I32Type";var js=class extends Ht{constructor(){super("u64",8,!1)}getClassName(){return js.ClassName}};Ae.U64Type=js;js.ClassName="U64Type";var Hs=class extends Ht{constructor(){super("i64",8,!0)}getClassName(){return Hs.ClassName}};Ae.I64Type=Hs;Hs.ClassName="I64Type";var Gs=class extends Ht{constructor(){super("BigUint",0,!1)}getClassName(){return Gs.ClassName}};Ae.BigUIntType=Gs;Gs.ClassName="BigUIntType";var Qs=class extends Ht{constructor(){super("Bigint",0,!0)}getClassName(){return Qs.ClassName}};Ae.BigIntType=Qs;Qs.ClassName="BigIntType";var Gt=class extends qI.PrimitiveValue{constructor(e,r){if(super(e),this.value=new ks.default(r),this.sizeInBytes=e.sizeInBytes,this.withSign=e.withSign,this.value.isNaN())throw new UI.ErrInvalidArgument(`not a number: ${r}`);if(!this.withSign&&this.value.isNegative())throw new UI.ErrInvalidArgument(`negative, but type is unsigned: ${r}`)}getClassName(){return Gt.ClassName}equals(e){return this.value.isEqualTo(e.value)}valueOf(){return this.value}toString(){return this.value.toString()}};Ae.NumericalValue=Gt;Gt.ClassName="NumericalValue";var Aa=class extends Gt{constructor(e){super(new Ls,new ks.default(e))}getClassName(){return Aa.ClassName}};Ae.U8Value=Aa;Aa.ClassName="U8Value";var ba=class extends Gt{constructor(e){super(new Fs,new ks.default(e))}getClassName(){return ba.ClassName}};Ae.I8Value=ba;ba.ClassName="I8Value";var _a=class extends Gt{constructor(e){super(new Ms,new ks.default(e))}getClassName(){return _a.ClassName}};Ae.U16Value=_a;_a.ClassName="U16Value";var Ia=class extends Gt{constructor(e){super(new Us,new ks.default(e))}getClassName(){return Ia.ClassName}};Ae.I16Value=Ia;Ia.ClassName="I16Value";var Sa=class extends Gt{constructor(e){super(new qs,new ks.default(e))}getClassName(){return Sa.ClassName}};Ae.U32Value=Sa;Sa.ClassName="U32Value";var Ca=class extends Gt{constructor(e){super(new Vs,new ks.default(e))}getClassName(){return Ca.ClassName}};Ae.I32Value=Ca;Ca.ClassName="I32Value";var Ta=class extends Gt{constructor(e){super(new js,e)}getClassName(){return Ta.ClassName}};Ae.U64Value=Ta;Ta.ClassName="U64Value";var xa=class extends Gt{constructor(e){super(new Hs,e)}getClassName(){return xa.ClassName}};Ae.I64Value=xa;xa.ClassName="I64Value";var Na=class extends Gt{constructor(e){super(new Gs,e)}getClassName(){return Na.ClassName}};Ae.BigUIntValue=Na;Na.ClassName="BigUIntValue";var Oa=class extends Gt{constructor(e){super(new Qs,e)}getClassName(){return Oa.ClassName}};Ae.BigIntValue=Oa;Oa.ClassName="BigIntValue"});var Xf=w(Da=>{"use strict";c();Object.defineProperty(Da,"__esModule",{value:!0});Da.StringValue=Da.StringType=void 0;var VI=mt(),zs=class extends VI.PrimitiveType{constructor(){super("utf-8 string")}getClassName(){return zs.ClassName}};Da.StringType=zs;zs.ClassName="StringType";var wi=class extends VI.PrimitiveValue{constructor(e){super(new zs),this.value=e}getClassName(){return wi.ClassName}static fromUTF8(e){return new wi(e)}static fromHex(e){let r=h.Buffer.from(e,"hex").toString();return new wi(r)}getLength(){return this.value.length}equals(e){return this.value===e.value}valueOf(){return this.value}};Da.StringValue=wi;wi.ClassName="StringValue"});var Ra=w(Pa=>{"use strict";c();Object.defineProperty(Pa,"__esModule",{value:!0});Pa.TokenIdentifierValue=Pa.TokenIdentifierType=void 0;var jI=mt(),XM="EGLD",Ws=class extends jI.PrimitiveType{constructor(){super("TokenIdentifier")}getClassName(){return Ws.ClassName}};Pa.TokenIdentifierType=Ws;Ws.ClassName="TokenIdentifierType";var Ei=class extends jI.PrimitiveValue{constructor(e){super(new Ws),this.value=e}static egld(){return new Ei(XM)}static esdtTokenIdentifier(e){return new Ei(e)}getClassName(){return Ei.ClassName}getLength(){return this.value.length}equals(e){return this.getLength()!=e.getLength()?!1:this.value==e.value}valueOf(){return this.value}toString(){return this.value.toString()}};Pa.TokenIdentifierValue=Ei;Ei.ClassName="TokenIdentifierValue"});var Zf=w(yr=>{"use strict";c();var ZM=yr&&yr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),e4=yr&&yr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),t4=yr&&yr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&ZM(e,t,r);return e4(e,t),e};Object.defineProperty(yr,"__esModule",{value:!0});yr.Tuple=yr.TupleType=void 0;var r4=t4(je()),HI=Xo(),GI=ra(),Hn=class extends GI.StructType{constructor(...e){super(Hn.prepareName(e),Hn.prepareFieldDefinitions(e))}getClassName(){return Hn.ClassName}static prepareName(e){return`tuple<${e.map(i=>i.toString()).join(", ")}>`}static prepareFieldDefinitions(e){return e.map((n,i)=>new HI.FieldDefinition(QI(i),"anonymous tuple field",n))}};yr.TupleType=Hn;Hn.ClassName="TupleType";function QI(t){return`field${t}`}var Ks=class extends GI.Struct{constructor(e,r){super(e,r)}getClassName(){return Ks.ClassName}static fromItems(e){if(e.length<1)throw new r4.ErrTypingSystem("bad tuple items");let r=e.map(s=>s.getType()),n=new Hn(...r),i=e.map((s,o)=>new HI.Field(s,QI(o)));return new Ks(n,i)}};yr.Tuple=Ks;Ks.ClassName="Tuple"});var th=w(Ba=>{"use strict";c();Object.defineProperty(Ba,"__esModule",{value:!0});Ba.VariadicValue=Ba.VariadicType=void 0;var eh=mt(),Ai=class extends eh.Type{constructor(e){super("Variadic",[e],eh.TypeCardinality.variable())}getClassName(){return Ai.ClassName}};Ba.VariadicType=Ai;Ai.ClassName="VariadicType";var vi=class extends eh.TypedValue{constructor(e,r){super(e),this.items=r}getClassName(){return vi.ClassName}static fromItems(...e){if(e.length==0)return new vi(new Ai(new eh.TypePlaceholder),[]);let r=e[0].getType();return new vi(new Ai(r),e)}getItems(){return this.items}valueOf(){return this.items.map(e=>e.valueOf())}equals(e){if(this.getType().differs(e.getType()))return!1;for(let r=0;r<this.items.length;r++){let n=this.items[r],i=e.items[r];if(!n.equals(i))return!1}return!0}};Ba.VariadicValue=vi;vi.ClassName="VariadicValue"});var Im=w(nn=>{"use strict";c();var n4=nn&&nn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),i4=nn&&nn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s4=nn&&nn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&n4(e,t,r);return i4(e,t),e};Object.defineProperty(nn,"__esModule",{value:!0});nn.TypeMapper=void 0;var kI=s4(je()),o4=aa(),vm=zf(),a4=Oc(),u4=yi(),c4=RI(),rh=Kf(),Am=Tc(),l4=Xo(),zI=Dc(),nh=Yf(),f4=Pc(),WI=Jf(),mr=Rc(),h4=Xf(),KI=ra(),$I=Ra(),bi=Zf(),bm=th(),_m=class{constructor(e=[]){this.openTypesFactories=new Map([["Option",(...r)=>new zI.OptionType(r[0])],["List",(...r)=>new zI.ListType(r[0])],["VarArgs",(...r)=>new bm.VariadicType(r[0])],["MultiResultVec",(...r)=>new bm.VariadicType(r[0])],["variadic",(...r)=>new bm.VariadicType(r[0])],["OptionalArg",(...r)=>new vm.OptionalType(r[0])],["optional",(...r)=>new vm.OptionalType(r[0])],["OptionalResult",(...r)=>new vm.OptionalType(r[0])],["multi",(...r)=>new rh.CompositeType(...r)],["MultiArg",(...r)=>new rh.CompositeType(...r)],["MultiResult",(...r)=>new rh.CompositeType(...r)],["multi",(...r)=>new rh.CompositeType(...r)],["tuple",(...r)=>new bi.TupleType(...r)],["tuple2",(...r)=>new bi.TupleType(...r)],["tuple3",(...r)=>new bi.TupleType(...r)],["tuple4",(...r)=>new bi.TupleType(...r)],["tuple5",(...r)=>new bi.TupleType(...r)],["tuple6",(...r)=>new bi.TupleType(...r)],["tuple7",(...r)=>new bi.TupleType(...r)],["tuple8",(...r)=>new bi.TupleType(...r)],["array20",(...r)=>new nh.ArrayVecType(20,r[0])],["array32",(...r)=>new nh.ArrayVecType(32,r[0])],["array46",(...r)=>new nh.ArrayVecType(46,r[0])],["array64",(...r)=>new nh.ArrayVecType(64,r[0])]]),this.closedTypesMap=new Map([["u8",new mr.U8Type],["u16",new mr.U16Type],["u32",new mr.U32Type],["u64",new mr.U64Type],["U64",new mr.U64Type],["BigUint",new mr.BigUIntType],["i8",new mr.I8Type],["i16",new mr.I16Type],["i32",new mr.I32Type],["i64",new mr.I64Type],["Bigint",new mr.BigIntType],["BigInt",new mr.BigIntType],["bool",new a4.BooleanType],["bytes",new u4.BytesType],["Address",new o4.AddressType],["H256",new f4.H256Type],["utf-8 string",new h4.StringType],["TokenIdentifier",new $I.TokenIdentifierType],["EgldOrEsdtTokenIdentifier",new $I.TokenIdentifierType],["CodeMetadata",new c4.CodeMetadataType],["nothing",new WI.NothingType],["AsyncCall",new WI.NothingType]]),this.learnedTypesMap=new Map;for(let r of e)this.learnedTypesMap.set(r.getName(),r)}mapType(e){let r=this.mapTypeRecursively(e);if(r)return r.isGenericType()||this.learnType(r),r;throw new kI.ErrTypingSystem(`Cannot map the type "${e.getName()}" to a known type`)}mapTypeRecursively(e){let r=e.isGenericType(),n=this.learnedTypesMap.get(e.getName());if(n)return n;let i=this.closedTypesMap.get(e.getName());return i||(e.hasExactClass(Am.EnumType.ClassName)?this.mapEnumType(e):e.hasExactClass(KI.StructType.ClassName)?this.mapStructType(e):r?this.mapGenericType(e):null)}learnType(e){this.learnedTypesMap.delete(e.getName()),this.learnedTypesMap.set(e.getName(),e)}mapStructType(e){let r=this.mappedFields(e.getFieldsDefinitions());return new KI.StructType(e.getName(),r)}mapEnumType(e){let r=e.variants.map(i=>new Am.EnumVariantDefinition(i.name,i.discriminant,this.mappedFields(i.getFieldsDefinitions())));return new Am.EnumType(e.getName(),r)}mappedFields(e){return e.map(r=>new l4.FieldDefinition(r.name,r.description,this.mapType(r.type)))}mapGenericType(e){let n=e.getTypeParameters().map(s=>this.mapType(s)),i=this.openTypesFactories.get(e.getName());if(!i)throw new kI.ErrTypingSystem(`Cannot map the generic type "${e.getName()}" to a known type`);return i(...n)}};nn.TypeMapper=_m});var eS=w(sn=>{"use strict";c();var d4=sn&&sn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),p4=sn&&sn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),g4=sn&&sn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&d4(e,t,r);return p4(e,t),e};Object.defineProperty(sn,"__esModule",{value:!0});sn.AbiRegistry=void 0;var YI=g4(je()),Sm=gr(),Bc=um(),JI=Tc(),XI=ra(),y4=Im(),m4="?",La=class{constructor(e){this.endpoints=[],this.customTypes=[],this.name=e.name,this.constructorDefinition=e.constructorDefinition,this.endpoints=e.endpoints,this.customTypes=e.customTypes}static create(e){let r=e.name||m4,n=e.constructor||{},i=e.endpoints||[],s=e.types||{},o=Bc.EndpointDefinition.fromJSON(Object.assign({name:"constructor"},n)),a=i.map(d=>Bc.EndpointDefinition.fromJSON(d)),u=[];for(let d in s){let y=s[d];if(y.type=="struct")u.push(XI.StructType.fromJSON({name:d,fields:y.fields}));else if(y.type=="enum")u.push(JI.EnumType.fromJSON({name:d,variants:y.variants}));else throw new YI.ErrTypingSystem(`Cannot handle custom type: ${d}`)}return new La({name:r,constructorDefinition:o,endpoints:a,customTypes:u}).remapToKnownTypes()}getStruct(e){let r=this.customTypes.find(n=>n.getName()==e&&n.hasExactClass(XI.StructType.ClassName));return Sm.guardValueIsSetWithMessage(`struct [${e}] not found`,r),r}getStructs(e){return e.map(r=>this.getStruct(r))}getEnum(e){let r=this.customTypes.find(n=>n.getName()==e&&n.hasExactClass(JI.EnumType.ClassName));return Sm.guardValueIsSetWithMessage(`enum [${e}] not found`,r),r}getEnums(e){return e.map(r=>this.getEnum(r))}getEndpoints(){return this.endpoints}getEndpoint(e){let r=this.endpoints.find(n=>n.name==e);return Sm.guardValueIsSetWithMessage(`endpoint [${e}] not found`,r),r}remapToKnownTypes(){let e=new y4.TypeMapper([]),r=[];for(let o of this.customTypes)this.mapCustomTypeDepthFirst(o,this.customTypes,e,r);if(this.customTypes.length!=r.length)throw new YI.ErrTypingSystem("Did not re-map all custom types");let n=ZI(this.constructorDefinition,e),i=[];for(let o of this.endpoints)i.push(ZI(o,e));return new La({name:this.name,constructorDefinition:n,endpoints:i,customTypes:r})}mapCustomTypeDepthFirst(e,r,n,i){if(i.findIndex(a=>a.getName()==e.getName())>=0)return;for(let a of e.getNamesOfDependencies()){let u=r.find(l=>l.getName()==a);u&&this.mapCustomTypeDepthFirst(u,r,n,i)}let o=n.mapType(e);i.push(o)}};sn.AbiRegistry=La;function ZI(t,e){let r=t.input.map(i=>new Bc.EndpointParameterDefinition(i.name,i.description,e.mapType(i.type))),n=t.output.map(i=>new Bc.EndpointParameterDefinition(i.name,i.description,e.mapType(i.type)));return new Bc.EndpointDefinition(t.name,r,n,t.modifiers)}});var rS=w(Fa=>{"use strict";c();Object.defineProperty(Fa,"__esModule",{value:!0});Fa.createListOfTokenIdentifiers=Fa.createListOfAddresses=void 0;var w4=aa(),tS=Dc(),E4=Ra();function v4(t){let e=t.map(n=>new w4.AddressValue(n));return tS.List.fromItems(e)}Fa.createListOfAddresses=v4;function A4(t){let e=t.map(n=>new E4.TokenIdentifierValue(n));return tS.List.fromItems(e)}Fa.createListOfTokenIdentifiers=A4});var yS=w(Qt=>{"use strict";c();var b4=Qt&&Qt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),_4=Qt&&Qt.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),I4=Qt&&Qt.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&b4(e,t,r);return _4(e,t),e};Object.defineProperty(Qt,"__esModule",{value:!0});Qt.onPrimitiveTypeSelect=Qt.onPrimitiveValueSelect=Qt.onTypedValueSelect=Qt.onTypeSelect=void 0;var sh=I4(je()),nS=aa(),iS=Oc(),sS=yi(),oS=Tc(),ih=Dc(),aS=Pc(),uS=Rc(),cS=Jf(),lS=ra(),fS=Ra(),hS=Zf(),dS=mt(),pS=Yf(),gS=Xf();function S4(t,e){if(t.hasExactClass(ih.OptionType.ClassName))return e.onOption();if(t.hasExactClass(ih.ListType.ClassName))return e.onList();if(t.hasExactClass(pS.ArrayVecType.ClassName))return e.onArray();if(t.hasClassOrSuperclass(dS.PrimitiveType.ClassName))return e.onPrimitive();if(t.hasExactClass(lS.StructType.ClassName))return e.onStruct();if(t.hasExactClass(hS.TupleType.ClassName))return e.onTuple();if(t.hasExactClass(oS.EnumType.ClassName))return e.onEnum();if(e.onOther)return e.onOther();throw new sh.ErrTypingSystem(`type isn't known: ${t}`)}Qt.onTypeSelect=S4;function C4(t,e){if(t.hasClassOrSuperclass(dS.PrimitiveValue.ClassName))return e.onPrimitive();if(t.hasExactClass(ih.OptionValue.ClassName))return e.onOption();if(t.hasExactClass(ih.List.ClassName))return e.onList();if(t.hasExactClass(pS.ArrayVec.ClassName))return e.onArray();if(t.hasExactClass(lS.Struct.ClassName))return e.onStruct();if(t.hasExactClass(hS.Tuple.ClassName))return e.onTuple();if(t.hasExactClass(oS.EnumValue.ClassName))return e.onEnum();if(e.onOther)return e.onOther();throw new sh.ErrTypingSystem(`value isn't typed: ${t}`)}Qt.onTypedValueSelect=C4;function T4(t,e){if(t.hasExactClass(iS.BooleanValue.ClassName))return e.onBoolean();if(t.hasClassOrSuperclass(uS.NumericalValue.ClassName))return e.onNumerical();if(t.hasExactClass(nS.AddressValue.ClassName))return e.onAddress();if(t.hasExactClass(sS.BytesValue.ClassName))return e.onBytes();if(t.hasExactClass(gS.StringValue.ClassName))return e.onString();if(t.hasExactClass(aS.H256Value.ClassName))return e.onH256();if(t.hasExactClass(fS.TokenIdentifierValue.ClassName))return e.onTypeIdentifier();if(t.hasExactClass(cS.NothingValue.ClassName))return e.onNothing();if(e.onOther)return e.onOther();throw new sh.ErrTypingSystem(`value isn't a primitive: ${t.getType()}`)}Qt.onPrimitiveValueSelect=T4;function x4(t,e){if(t.hasExactClass(iS.BooleanType.ClassName))return e.onBoolean();if(t.hasClassOrSuperclass(uS.NumericalType.ClassName))return e.onNumerical();if(t.hasExactClass(nS.AddressType.ClassName))return e.onAddress();if(t.hasExactClass(sS.BytesType.ClassName))return e.onBytes();if(t.hasExactClass(gS.StringType.ClassName))return e.onString();if(t.hasExactClass(aS.H256Type.ClassName))return e.onH256();if(t.hasExactClass(fS.TokenIdentifierType.ClassName))return e.onTokenIndetifier();if(t.hasExactClass(cS.NothingType.ClassName))return e.onNothing();if(e.onOther)return e.onOther();throw new sh.ErrTypingSystem(`type isn't a known primitive: ${t}`)}Qt.onPrimitiveTypeSelect=x4});var Tt=w(Ue=>{"use strict";c();var N4=Ue&&Ue.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Xe=Ue&&Ue.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&N4(e,t,r)};Object.defineProperty(Ue,"__esModule",{value:!0});Xe(eS(),Ue);Xe(aa(),Ue);Xe(zf(),Ue);Xe(Oc(),Ue);Xe(yi(),Ue);Xe(Kf(),Ue);Xe(um(),Ue);Xe(Tc(),Ue);Xe(rS(),Ue);Xe(Xo(),Ue);Xe(Dc(),Ue);Xe(Yf(),Ue);Xe(Pc(),Ue);Xe(yS(),Ue);Xe(Jf(),Ue);Xe(Rc(),Ue);Xe(Xf(),Ue);Xe(ra(),Ue);Xe(Ra(),Ue);Xe(Zf(),Ue);Xe(Mf(),Ue);Xe(Im(),Ue);Xe(mt(),Ue);Xe(th(),Ue)});var wS=w(on=>{"use strict";c();var O4=on&&on.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),D4=on&&on.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),P4=on&&on.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&O4(e,t,r);return D4(e,t),e};Object.defineProperty(on,"__esModule",{value:!0});on.OptionValueBinaryCodec=void 0;var mS=P4(je()),oh=Tt(),Cm=class{constructor(e){this.binaryCodec=e}decodeNested(e,r){if(e[0]==0)return[oh.OptionValue.newMissingTyped(r),1];if(e[0]!=1)throw new mS.ErrCodec("invalid buffer for optional value");let[n,i]=this.binaryCodec.decodeNested(e.slice(1),r);return[oh.OptionValue.newProvided(n),i+1]}decodeTopLevel(e,r){if(e.length==0)return new oh.OptionValue(r);if(e[0]!=1)throw new mS.ErrCodec("invalid buffer for optional value");let[n,i]=this.binaryCodec.decodeNested(e.slice(1),r);return new oh.OptionValue(r,n)}encodeNested(e){return e.isSet()?h.Buffer.concat([h.Buffer.from([1]),this.binaryCodec.encodeNested(e.getTypedValue())]):h.Buffer.from([0])}encodeTopLevel(e){return e.isSet()?h.Buffer.concat([h.Buffer.from([1]),this.binaryCodec.encodeNested(e.getTypedValue())]):h.Buffer.from([])}};on.OptionValueBinaryCodec=Cm});var ES=w(ah=>{"use strict";c();Object.defineProperty(ah,"__esModule",{value:!0});ah.AddressBinaryCodec=void 0;var R4=tr(),B4=Tt(),Tm=class{decodeNested(e){let r=e.slice(0,32),n=new R4.Address(r);return[new B4.AddressValue(n),32]}decodeTopLevel(e){let[r,n]=this.decodeNested(e);return r}encodeNested(e){return e.valueOf().pubkey()}encodeTopLevel(e){return e.valueOf().pubkey()}};ah.AddressBinaryCodec=Tm});var AS=w(an=>{"use strict";c();var L4=an&&an.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),F4=an&&an.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),M4=an&&an.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&L4(e,t,r);return F4(e,t),e};Object.defineProperty(an,"__esModule",{value:!0});an.BooleanBinaryCodec=void 0;var U4=M4(je()),vS=Tt(),Br=class{decodeNested(e){let r=e.readUInt8(0);return[new vS.BooleanValue(r==Br.TRUE),1]}decodeTopLevel(e){if(e.length>1)throw new U4.ErrInvalidArgument("buffer should be of size <= 1");let r=e[0];return new vS.BooleanValue(r==Br.TRUE)}encodeNested(e){return e.isTrue()?h.Buffer.from([Br.TRUE]):h.Buffer.from([Br.FALSE])}encodeTopLevel(e){return e.isTrue()?h.Buffer.from([Br.TRUE]):h.Buffer.from([])}};an.BooleanBinaryCodec=Br;Br.TRUE=1;Br.FALSE=0});var ch=w(uh=>{"use strict";c();Object.defineProperty(uh,"__esModule",{value:!0});uh.SizeOfU32=void 0;uh.SizeOfU32=4});var xm=w(un=>{"use strict";c();var q4=un&&un.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(un,"__esModule",{value:!0});un.zeroPadStringIfOddLength=un.isPaddedHex=un.numberToPaddedHex=void 0;var V4=q4(Yt());function j4(t){let e=new V4.default(t).toString(16);return bS(e)}un.numberToPaddedHex=j4;function H4(t){t=t||"";let e=h.Buffer.from(t,"hex").toString("hex");return t.toUpperCase()==e.toUpperCase()}un.isPaddedHex=H4;function bS(t){return t=t||"",t.length%2==1?"0"+t:t}un.zeroPadStringIfOddLength=bS});var lh=w(wt=>{"use strict";c();var G4=wt&&wt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(wt,"__esModule",{value:!0});wt.prependByteToBuffer=wt.flipBufferBitsInPlace=wt.getHexMagnitudeOfBigInt=wt.bigIntToBuffer=wt.bufferToBigInt=wt.cloneBuffer=wt.isMsbZero=wt.isMsbOne=void 0;var Nm=G4(Yt()),Q4=xm();function _S(t,e=0){return t[e]>>7==1}wt.isMsbOne=_S;function k4(t,e=0){return!_S(t,e)}wt.isMsbZero=k4;function z4(t){let e=h.Buffer.alloc(t.length);return t.copy(e),e}wt.cloneBuffer=z4;function W4(t){let e=t.toString("hex");return new Nm.default(`0x${e}`,16)}wt.bufferToBigInt=W4;function K4(t){let e=IS(t);return h.Buffer.from(e,"hex")}wt.bigIntToBuffer=K4;function IS(t){return t=new Nm.default(t),t?(t.isNegative()&&(t=t.multipliedBy(new Nm.default(-1))),Q4.numberToPaddedHex(t)):""}wt.getHexMagnitudeOfBigInt=IS;function $4(t){for(let e=0;e<t.length;e++)t[e]=~t[e]}wt.flipBufferBitsInPlace=$4;function Y4(t,e){return h.Buffer.concat([h.Buffer.from([e]),t])}wt.prependByteToBuffer=Y4});var CS=w(Ma=>{"use strict";c();var J4=Ma&&Ma.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ma,"__esModule",{value:!0});Ma.NumericalBinaryCodec=void 0;var Lc=J4(Yt()),Om=Tt(),SS=ch(),ht=lh(),Dm=class{decodeNested(e,r){let n=0,i=r.sizeInBytes;i||(n=SS.SizeOfU32,i=e.readUInt32BE(0));let s=e.slice(n,n+i),o=this.decodeTopLevel(s,r),a=i+n;return[o,a]}decodeTopLevel(e,r){let n=ht.cloneBuffer(e);if(e.length==0)return new Om.NumericalValue(r,new Lc.default(0));if(!r.withSign||ht.isMsbZero(n)){let l=ht.bufferToBigInt(n);return new Om.NumericalValue(r,l)}ht.flipBufferBitsInPlace(n);let u=ht.bufferToBigInt(n).multipliedBy(new Lc.default(-1)).minus(new Lc.default(1));return new Om.NumericalValue(r,u)}encodeNested(e){if(e.sizeInBytes)return this.encodeNestedFixedSize(e,e.sizeInBytes);let r=this.encodeTopLevel(e),n=h.Buffer.alloc(SS.SizeOfU32);return n.writeUInt32BE(r.length),h.Buffer.concat([n,r])}encodeNestedFixedSize(e,r){if(e.value.isZero())return h.Buffer.alloc(r,0);if(!e.withSign){let o=ht.bigIntToBuffer(e.value),a=h.Buffer.alloc(r-o.length,0);return h.Buffer.concat([a,o])}if(e.value.isPositive()){let o=ht.bigIntToBuffer(e.value);ht.isMsbOne(o)&&(o=ht.prependByteToBuffer(o,0));let a=h.Buffer.alloc(r-o.length,0);return h.Buffer.concat([a,o])}let n=e.value.plus(new Lc.default(1)),i=ht.bigIntToBuffer(n);ht.flipBufferBitsInPlace(i),ht.isMsbZero(i)&&(i=ht.prependByteToBuffer(i,255));let s=h.Buffer.alloc(r-i.length,255);return h.Buffer.concat([s,i])}encodeTopLevel(e){let r=e.withSign;return e.value.isZero()?h.Buffer.alloc(0):r?this.encodePrimitive(e):ht.bigIntToBuffer(e.value)}encodePrimitive(e){if(e.value.isPositive()){let i=ht.bigIntToBuffer(e.value);return ht.isMsbOne(i)&&(i=ht.prependByteToBuffer(i,0)),i}let r=e.value.plus(new Lc.default(1)),n=ht.bigIntToBuffer(r);return ht.flipBufferBitsInPlace(n),ht.isMsbZero(n)&&(n=ht.prependByteToBuffer(n,255)),n}};Ma.NumericalBinaryCodec=Dm});var TS=w(fh=>{"use strict";c();Object.defineProperty(fh,"__esModule",{value:!0});fh.H256BinaryCodec=void 0;var X4=Pc(),Pm=class{decodeNested(e){let r=e.slice(0,32);return[new X4.H256Value(r),32]}decodeTopLevel(e){let[r,n]=this.decodeNested(e);return r}encodeNested(e){return e.valueOf()}encodeTopLevel(e){return e.valueOf()}};fh.H256BinaryCodec=Pm});var ph=w(dh=>{"use strict";c();Object.defineProperty(dh,"__esModule",{value:!0});dh.BytesBinaryCodec=void 0;var xS=yi(),hh=ch(),Rm=class{decodeNested(e){let r=e.readUInt32BE(0),n=e.slice(hh.SizeOfU32,hh.SizeOfU32+r);return[new xS.BytesValue(n),hh.SizeOfU32+r]}decodeTopLevel(e){return new xS.BytesValue(e)}encodeNested(e){let r=h.Buffer.alloc(hh.SizeOfU32);return r.writeUInt32BE(e.getLength()),h.Buffer.concat([r,e.valueOf()])}encodeTopLevel(e){return e.valueOf()}};dh.BytesBinaryCodec=Rm});var OS=w(gh=>{"use strict";c();Object.defineProperty(gh,"__esModule",{value:!0});gh.TokenIdentifierCodec=void 0;var Z4=yi(),NS=Ra(),eU=ph(),Bm=class{constructor(){this.bytesCodec=new eU.BytesBinaryCodec}decodeNested(e){let[r,n]=this.bytesCodec.decodeNested(e);return[new NS.TokenIdentifierValue(r.toString()),n]}decodeTopLevel(e){let r=this.bytesCodec.decodeTopLevel(e);return new NS.TokenIdentifierValue(r.toString())}encodeNested(e){let r=Z4.BytesValue.fromUTF8(e.valueOf());return this.bytesCodec.encodeNested(r)}encodeTopLevel(e){return h.Buffer.from(e.valueOf())}};gh.TokenIdentifierCodec=Bm});var PS=w(yh=>{"use strict";c();Object.defineProperty(yh,"__esModule",{value:!0});yh.NothingCodec=void 0;var DS=Tt(),Lm=class{decodeNested(){return[new DS.NothingValue,0]}decodeTopLevel(){return new DS.NothingValue}encodeNested(){return h.Buffer.from([])}encodeTopLevel(){return h.Buffer.from([])}};yh.NothingCodec=Lm});var BS=w(mh=>{"use strict";c();Object.defineProperty(mh,"__esModule",{value:!0});mh.StringBinaryCodec=void 0;var RS=Tt(),tU=yi(),rU=ph(),Fm=class{constructor(){this.bytesBinaryCodec=new rU.BytesBinaryCodec}decodeNested(e){let[r,n]=this.bytesBinaryCodec.decodeNested(e);return[new RS.StringValue(r.valueOf().toString()),n]}decodeTopLevel(e){return new RS.StringValue(e.toString())}encodeNested(e){let r=tU.BytesValue.fromUTF8(e.valueOf());return this.bytesBinaryCodec.encodeNested(r)}encodeTopLevel(e){return h.Buffer.from(e.valueOf())}};mh.StringBinaryCodec=Fm});var LS=w(Eh=>{"use strict";c();Object.defineProperty(Eh,"__esModule",{value:!0});Eh.PrimitiveBinaryCodec=void 0;var wh=Tt(),nU=ES(),iU=AS(),sU=CS(),oU=TS(),aU=ph(),uU=OS(),cU=PS(),lU=BS(),Mm=class{constructor(e){this.binaryCodec=e,this.booleanCodec=new iU.BooleanBinaryCodec,this.numericalCodec=new sU.NumericalBinaryCodec,this.addressCodec=new nU.AddressBinaryCodec,this.h256Codec=new oU.H256BinaryCodec,this.bytesCodec=new aU.BytesBinaryCodec,this.stringCodec=new lU.StringBinaryCodec,this.tokenIdentifierCodec=new uU.TokenIdentifierCodec,this.nothingCodec=new cU.NothingCodec}decodeNested(e,r){return wh.onPrimitiveTypeSelect(r,{onBoolean:()=>this.booleanCodec.decodeNested(e),onNumerical:()=>this.numericalCodec.decodeNested(e,r),onAddress:()=>this.addressCodec.decodeNested(e),onBytes:()=>this.bytesCodec.decodeNested(e),onString:()=>this.stringCodec.decodeNested(e),onH256:()=>this.h256Codec.decodeNested(e),onTokenIndetifier:()=>this.tokenIdentifierCodec.decodeNested(e),onNothing:()=>this.nothingCodec.decodeNested()})}decodeTopLevel(e,r){return wh.onPrimitiveTypeSelect(r,{onBoolean:()=>this.booleanCodec.decodeTopLevel(e),onNumerical:()=>this.numericalCodec.decodeTopLevel(e,r),onAddress:()=>this.addressCodec.decodeTopLevel(e),onBytes:()=>this.bytesCodec.decodeTopLevel(e),onString:()=>this.stringCodec.decodeTopLevel(e),onH256:()=>this.h256Codec.decodeTopLevel(e),onTokenIndetifier:()=>this.tokenIdentifierCodec.decodeTopLevel(e),onNothing:()=>this.nothingCodec.decodeTopLevel()})}encodeNested(e){return wh.onPrimitiveValueSelect(e,{onBoolean:()=>this.booleanCodec.encodeNested(e),onNumerical:()=>this.numericalCodec.encodeNested(e),onAddress:()=>this.addressCodec.encodeNested(e),onBytes:()=>this.bytesCodec.encodeNested(e),onString:()=>this.stringCodec.encodeNested(e),onH256:()=>this.h256Codec.encodeNested(e),onTypeIdentifier:()=>this.tokenIdentifierCodec.encodeNested(e),onNothing:()=>this.nothingCodec.encodeNested()})}encodeTopLevel(e){return wh.onPrimitiveValueSelect(e,{onBoolean:()=>this.booleanCodec.encodeTopLevel(e),onNumerical:()=>this.numericalCodec.encodeTopLevel(e),onAddress:()=>this.addressCodec.encodeTopLevel(e),onBytes:()=>this.bytesCodec.encodeTopLevel(e),onString:()=>this.stringCodec.encodeTopLevel(e),onH256:()=>this.h256Codec.encodeTopLevel(e),onTypeIdentifier:()=>this.tokenIdentifierCodec.encodeTopLevel(e),onNothing:()=>this.nothingCodec.encodeTopLevel()})}};Eh.PrimitiveBinaryCodec=Mm});var US=w(vh=>{"use strict";c();Object.defineProperty(vh,"__esModule",{value:!0});vh.ListBinaryCodec=void 0;var FS=Tt(),MS=ch(),Um=class{constructor(e){this.binaryCodec=e}decodeNested(e,r){let n=r.getFirstTypeParameter(),i=[],s=e.readUInt32BE(0);this.binaryCodec.constraints.checkListLength(s);let o=e,a=MS.SizeOfU32;e=o.slice(a);for(let u=0;u<s;u++){let[l,f]=this.binaryCodec.decodeNested(e,n);i.push(l),a+=f,e=o.slice(a)}return[new FS.List(r,i),a]}decodeTopLevel(e,r){let n=r.getFirstTypeParameter(),i=[],s=e,o=0;for(;e.length>0;){let[a,u]=this.binaryCodec.decodeNested(e,n);i.push(a),o+=u,e=s.slice(o),this.binaryCodec.constraints.checkListLength(i.length)}return new FS.List(r,i)}encodeNested(e){this.binaryCodec.constraints.checkListLength(e.getLength());let r=h.Buffer.alloc(MS.SizeOfU32);r.writeUInt32BE(e.getLength());let n=[];for(let s of e.getItems()){let o=this.binaryCodec.encodeNested(s);n.push(o)}return h.Buffer.concat([r,...n])}encodeTopLevel(e){this.binaryCodec.constraints.checkListLength(e.getLength());let r=[];for(let i of e.getItems()){let s=this.binaryCodec.encodeNested(i);r.push(s)}return h.Buffer.concat(r)}};vh.ListBinaryCodec=Um});var Vm=w(Ah=>{"use strict";c();Object.defineProperty(Ah,"__esModule",{value:!0});Ah.FieldsBinaryCodec=void 0;var fU=Tt(),qm=class{constructor(e){this.binaryCodec=e}decodeNested(e,r){let n=[],i=0;for(let s of r){let[o,a]=this.binaryCodec.decodeNested(e,s.type);e=e.slice(a),i+=a;let u=new fU.Field(o,s.name);n.push(u)}return[n,i]}encodeNested(e){let r=[];for(let n of e){let i=this.binaryCodec.encodeNested(n.value);r.push(i)}return h.Buffer.concat(r)}};Ah.FieldsBinaryCodec=qm});var Hm=w(bh=>{"use strict";c();Object.defineProperty(bh,"__esModule",{value:!0});bh.StructBinaryCodec=void 0;var hU=Tt(),dU=Vm(),jm=class{constructor(e){this.fieldsCodec=new dU.FieldsBinaryCodec(e)}decodeTopLevel(e,r){let[n]=this.decodeNested(e,r);return n}decodeNested(e,r){let n=r.getFieldsDefinitions(),[i,s]=this.fieldsCodec.decodeNested(e,n);return[new hU.Struct(r,i),s]}encodeNested(e){let r=e.getFields();return this.fieldsCodec.encodeNested(r)}encodeTopLevel(e){return this.encodeNested(e)}};bh.StructBinaryCodec=jm});var qS=w(Ih=>{"use strict";c();Object.defineProperty(Ih,"__esModule",{value:!0});Ih.EnumBinaryCodec=void 0;var _h=Tt(),pU=Vm(),Gm=class{constructor(e){this.binaryCodec=e,this.fieldsCodec=new pU.FieldsBinaryCodec(e)}decodeTopLevel(e,r){let[n]=this.decodeNested(e,r);return n}decodeNested(e,r){let[n,i]=this.readDiscriminant(e);e=e.slice(i);let s=r.getVariantByDiscriminant(n),o=s.getFieldsDefinitions(),[a,u]=this.fieldsCodec.decodeNested(e,o);return[new _h.EnumValue(r,s,a),i+u]}readDiscriminant(e){let[r,n]=this.binaryCodec.decodeNested(e,new _h.U8Type);return[r.valueOf(),n]}encodeNested(e){let r=new _h.U8Value(e.discriminant),n=this.binaryCodec.encodeNested(r),i=e.getFields(),s=this.fieldsCodec.encodeNested(i);return h.Buffer.concat([n,s])}encodeTopLevel(e){let r=e.getFields(),n=r.length>0,i=this.fieldsCodec.encodeNested(r),s=new _h.U8Value(e.discriminant),o=n?this.binaryCodec.encodeNested(s):this.binaryCodec.encodeTopLevel(s);return h.Buffer.concat([o,i])}};Ih.EnumBinaryCodec=Gm});var VS=w(Sh=>{"use strict";c();Object.defineProperty(Sh,"__esModule",{value:!0});Sh.TupleBinaryCodec=void 0;var gU=Hm(),Qm=class{constructor(e){this.structCodec=new gU.StructBinaryCodec(e)}decodeTopLevel(e,r){return this.structCodec.decodeTopLevel(e,r)}decodeNested(e,r){return this.structCodec.decodeNested(e,r)}encodeNested(e){return this.structCodec.encodeNested(e)}encodeTopLevel(e){return this.structCodec.encodeTopLevel(e)}};Sh.TupleBinaryCodec=Qm});var jS=w(Ch=>{"use strict";c();Object.defineProperty(Ch,"__esModule",{value:!0});Ch.ArrayVecBinaryCodec=void 0;var yU=Tt(),km=class{constructor(e){this.binaryCodec=e}decodeNested(e,r){let n=r.length,i=r.getFirstTypeParameter(),s=[],o=0;for(let a=0;a<n;a++){let[u,l]=this.binaryCodec.decodeNested(e,i);s.push(u),o+=l,e=e.slice(l)}return[new yU.ArrayVec(r,s),o]}decodeTopLevel(e,r){let[n,i]=this.decodeNested(e,r);return n}encodeNested(e){let r=[];for(let n of e.getItems()){let i=this.binaryCodec.encodeNested(n);r.push(i)}return h.Buffer.concat(r)}encodeTopLevel(e){return this.encodeNested(e)}};Ch.ArrayVecBinaryCodec=km});var Wm=w(wr=>{"use strict";c();var mU=wr&&wr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),wU=wr&&wr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),EU=wr&&wr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&mU(e,t,r);return wU(e,t),e};Object.defineProperty(wr,"__esModule",{value:!0});wr.BinaryCodecConstraints=wr.BinaryCodec=void 0;var HS=EU(je()),Th=Tt(),GS=gr(),vU=wS(),AU=LS(),bU=US(),_U=Hm(),IU=qS(),SU=VS(),CU=jS(),zm=class{constructor(e=null){this.constraints=e||new xh,this.optionCodec=new vU.OptionValueBinaryCodec(this),this.listCodec=new bU.ListBinaryCodec(this),this.arrayCodec=new CU.ArrayVecBinaryCodec(this),this.primitiveCodec=new AU.PrimitiveBinaryCodec(this),this.structCodec=new _U.StructBinaryCodec(this),this.tupleCodec=new SU.TupleBinaryCodec(this),this.enumCodec=new IU.EnumBinaryCodec(this)}decodeTopLevel(e,r){return this.constraints.checkBufferLength(e),Th.onTypeSelect(r,{onOption:()=>this.optionCodec.decodeTopLevel(e,r.getFirstTypeParameter()),onList:()=>this.listCodec.decodeTopLevel(e,r),onArray:()=>this.arrayCodec.decodeTopLevel(e,r),onPrimitive:()=>this.primitiveCodec.decodeTopLevel(e,r),onStruct:()=>this.structCodec.decodeTopLevel(e,r),onTuple:()=>this.tupleCodec.decodeTopLevel(e,r),onEnum:()=>this.enumCodec.decodeTopLevel(e,r)})}decodeNested(e,r){this.constraints.checkBufferLength(e);let[n,i]=Th.onTypeSelect(r,{onOption:()=>this.optionCodec.decodeNested(e,r.getFirstTypeParameter()),onList:()=>this.listCodec.decodeNested(e,r),onArray:()=>this.arrayCodec.decodeNested(e,r),onPrimitive:()=>this.primitiveCodec.decodeNested(e,r),onStruct:()=>this.structCodec.decodeNested(e,r),onTuple:()=>this.tupleCodec.decodeNested(e,r),onEnum:()=>this.enumCodec.decodeNested(e,r)});return[n,i]}encodeNested(e){return GS.guardTrue(e.getType().getCardinality().isSingular(),"singular cardinality, thus encodable type"),Th.onTypedValueSelect(e,{onPrimitive:()=>this.primitiveCodec.encodeNested(e),onOption:()=>this.optionCodec.encodeNested(e),onList:()=>this.listCodec.encodeNested(e),onArray:()=>this.arrayCodec.encodeNested(e),onStruct:()=>this.structCodec.encodeNested(e),onTuple:()=>this.tupleCodec.encodeNested(e),onEnum:()=>this.enumCodec.encodeNested(e)})}encodeTopLevel(e){return GS.guardTrue(e.getType().getCardinality().isSingular(),"singular cardinality, thus encodable type"),Th.onTypedValueSelect(e,{onPrimitive:()=>this.primitiveCodec.encodeTopLevel(e),onOption:()=>this.optionCodec.encodeTopLevel(e),onList:()=>this.listCodec.encodeTopLevel(e),onArray:()=>this.arrayCodec.encodeTopLevel(e),onStruct:()=>this.structCodec.encodeTopLevel(e),onTuple:()=>this.tupleCodec.encodeTopLevel(e),onEnum:()=>this.enumCodec.encodeTopLevel(e)})}};wr.BinaryCodec=zm;var xh=class{constructor(e){this.maxBufferLength=e?.maxBufferLength||256e3,this.maxListLength=e?.maxListLength||128e3}checkBufferLength(e){if(e.length>this.maxBufferLength)throw new HS.ErrCodec(`Buffer too large: ${e.length} > ${this.maxBufferLength}`)}checkListLength(e){if(e>this.maxListLength)throw new HS.ErrCodec(`List too large: ${e} > ${this.maxListLength}`)}};wr.BinaryCodecConstraints=xh});var QS=w(Er=>{"use strict";c();var TU=Er&&Er.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Er,"__esModule",{value:!0});Er.decodeBigNumber=Er.decodeString=Er.decodeBool=Er.decodeUnsignedNumber=void 0;var xU=TU(Yt()),Nh=Tt(),NU=Wm(),Oh=new NU.BinaryCodec;function OU(t){let e=Oh.decodeTopLevel(t,new Nh.BigUIntType);return Number(e.valueOf())}Er.decodeUnsignedNumber=OU;function DU(t){return!!Oh.decodeTopLevel(t,new Nh.BooleanType).valueOf()}Er.decodeBool=DU;function PU(t){let e=Oh.decodeTopLevel(t,new Nh.BytesType);return String(e.valueOf())}Er.decodeString=PU;function RU(t){let e=Oh.decodeTopLevel(t,new Nh.BigUIntType);return new xU.default(e.valueOf())}Er.decodeBigNumber=RU});var zS=w(_i=>{"use strict";c();var BU=_i&&_i.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),kS=_i&&_i.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&BU(e,t,r)};Object.defineProperty(_i,"__esModule",{value:!0});kS(Wm(),_i);kS(QS(),_i)});var Ph=w(Dh=>{"use strict";c();Object.defineProperty(Dh,"__esModule",{value:!0});Dh.ArgSerializer=void 0;var WS=Go(),LU=zS(),Km=zf(),$m=Kf(),Ym=th(),FU={codec:new LU.BinaryCodec},Jm=class{constructor(e){e=Object.assign(Object.assign({},FU),e),this.codec=e.codec}stringToValues(e,r){let n=this.stringToBuffers(e);return this.buffersToValues(n,r)}stringToBuffers(e){return e.split(WS.ARGUMENTS_SEPARATOR).map(r=>h.Buffer.from(r,"hex"))}buffersToValues(e,r){let n=this;e=e||[];let i=[],s=0,o=e.length;for(let f=0;f<r.length;f++){let y=r[f].type,m=a(y);i.push(m)}function a(f){if(f.hasExactClass(Km.OptionalType.ClassName)){let d=a(f.getFirstTypeParameter());return new Km.OptionalValue(f,d)}else if(f.hasExactClass(Ym.VariadicType.ClassName)){let d=[];for(;!l();)d.push(a(f.getFirstTypeParameter()));return new Ym.VariadicValue(f,d)}else if(f.hasExactClass($m.CompositeType.ClassName)){let d=[];for(let y of f.getTypeParameters())d.push(a(y));return new $m.CompositeValue(f,d)}else return u(f)}function u(f){if(l())return null;let d=e[s++];return n.codec.decodeTopLevel(d,f)}function l(){return s>=o}return i}valuesToString(e){let r=this.valuesToStrings(e),n=r.join(WS.ARGUMENTS_SEPARATOR),i=r.length;return{argumentsString:n,count:i}}valuesToStrings(e){return this.valuesToBuffers(e).map(i=>i.toString("hex"))}valuesToBuffers(e){let r=this,n=[];for(let s of e)i(s);function i(s){if(s.hasExactClass(Km.OptionalValue.ClassName)){let o=s;o.isSet()&&i(o.getTypedValue())}else if(s.hasExactClass(Ym.VariadicValue.ClassName)){let o=s;for(let a of o.getItems())i(a)}else if(s.hasExactClass($m.CompositeValue.ClassName)){let o=s;for(let a of o.getItems())i(a)}else{let o=r.codec.encodeTopLevel(s);n.push(o)}}return n}};Dh.ArgSerializer=Jm});var Lh=w(Bh=>{"use strict";c();Object.defineProperty(Bh,"__esModule",{value:!0});Bh.Compatibility=void 0;var MU=tr(),Rh=class{static guardAddressIsSetAndNonZero(e,r,n){this.areWarningsEnabled&&(!e||e.bech32()==""?console.warn(`${r}: address should be set; ${n}. In the future, this will throw an exception instead of emitting a WARN.`):e.bech32()==MU.Address.Zero().bech32()&&console.warn(`${r}: address should not be the 'zero' address (also known as the 'contracts deployment address'); ${n}. In the future, this will throw an exception instead of emitting a WARN.`))}};Bh.Compatibility=Rh;Rh.areWarningsEnabled=!0});var KS=w(cn=>{"use strict";c();var UU=cn&&cn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),qU=cn&&cn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),VU=cn&&cn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&UU(e,t,r);return qU(e,t),e};Object.defineProperty(cn,"__esModule",{value:!0});cn.Hash=void 0;var jU=VU(je()),Fc=class{constructor(e){if(!e)this.hash=h.Buffer.from([]);else if(e instanceof h.Buffer)this.hash=e;else if(typeof e=="string")this.hash=h.Buffer.from(e,"hex");else throw new jU.ErrBadType("hash","buffer | string",e)}static empty(){return new Fc(h.Buffer.from([]))}isEmpty(){return this.hash.length==0}toString(){return this.hex()}hex(){return this.hash.toString("hex")}valueOf(){return this.hash}};cn.Hash=Fc});var YS=w(vr=>{"use strict";c();var HU=vr&&vr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),GU=vr&&vr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),QU=vr&&vr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&HU(e,t,r);return GU(e,t),e};Object.defineProperty(vr,"__esModule",{value:!0});vr.TransactionOptions=vr.TransactionVersion=void 0;var Lr=Go(),$S=QU(je()),Ua=class{constructor(e){if(e=Number(e),e<1)throw new $S.ErrTransactionVersionInvalid(e);this.value=e}static withDefaultVersion(){return new Ua(Lr.TRANSACTION_VERSION_DEFAULT)}static withTxOptions(){return new Ua(Lr.TRANSACTION_VERSION_WITH_OPTIONS)}valueOf(){return this.value}};vr.TransactionVersion=Ua;var qa=class{constructor(e){if(e=Number(e),e<0)throw new $S.ErrTransactionOptionsInvalid(e);this.value=e}static withDefaultOptions(){return new qa(Lr.TRANSACTION_OPTIONS_DEFAULT)}static withOptions(e){let r=0;return e.hashSign&&(r|=Lr.TRANSACTION_OPTIONS_TX_HASH_SIGN),e.guarded&&(r|=Lr.TRANSACTION_OPTIONS_TX_GUARDED),new qa(r)}isWithHashSign(){return(this.value&Lr.TRANSACTION_OPTIONS_TX_HASH_SIGN)==Lr.TRANSACTION_OPTIONS_TX_HASH_SIGN}isWithGuardian(){return(this.value&Lr.TRANSACTION_OPTIONS_TX_GUARDED)==Lr.TRANSACTION_OPTIONS_TX_GUARDED}setWithHashSign(){this.value|=Lr.TRANSACTION_OPTIONS_TX_HASH_SIGN}setWithGuardian(){this.value|=Lr.TRANSACTION_OPTIONS_TX_GUARDED}valueOf(){return this.value}};vr.TransactionOptions=qa});var XS=w((iie,JS)=>{"use strict";c();JS.exports=kU;function kU(t,e){for(var r=new Array(arguments.length-1),n=0,i=2,s=!0;i<arguments.length;)r[n++]=arguments[i++];return new Promise(function(a,u){r[n]=function(f){if(s)if(s=!1,f)u(f);else{for(var d=new Array(arguments.length-1),y=0;y<d.length;)d[y++]=arguments[y];a.apply(null,d)}};try{t.apply(e||null,r)}catch(l){s&&(s=!1,u(l))}})}});var rC=w(tC=>{"use strict";c();var Fh=tC;Fh.length=function(e){var r=e.length;if(!r)return 0;for(var n=0;--r%4>1&&e.charAt(r)==="=";)++n;return Math.ceil(e.length*3)/4-n};var Va=new Array(64),eC=new Array(123);for(Fr=0;Fr<64;)eC[Va[Fr]=Fr<26?Fr+65:Fr<52?Fr+71:Fr<62?Fr-4:Fr-59|43]=Fr++;var Fr;Fh.encode=function(e,r,n){for(var i=null,s=[],o=0,a=0,u;r<n;){var l=e[r++];switch(a){case 0:s[o++]=Va[l>>2],u=(l&3)<<4,a=1;break;case 1:s[o++]=Va[u|l>>4],u=(l&15)<<2,a=2;break;case 2:s[o++]=Va[u|l>>6],s[o++]=Va[l&63],a=0;break}o>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,s)),o=0)}return a&&(s[o++]=Va[u],s[o++]=61,a===1&&(s[o++]=61)),i?(o&&i.push(String.fromCharCode.apply(String,s.slice(0,o))),i.join("")):String.fromCharCode.apply(String,s.slice(0,o))};var ZS="invalid encoding";Fh.decode=function(e,r,n){for(var i=n,s=0,o,a=0;a<e.length;){var u=e.charCodeAt(a++);if(u===61&&s>1)break;if((u=eC[u])===void 0)throw Error(ZS);switch(s){case 0:o=u,s=1;break;case 1:r[n++]=o<<2|(u&48)>>4,o=u,s=2;break;case 2:r[n++]=(o&15)<<4|(u&60)>>2,o=u,s=3;break;case 3:r[n++]=(o&3)<<6|u,s=0;break}}if(s===1)throw Error(ZS);return n-i};Fh.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}});var iC=w((uie,nC)=>{"use strict";c();nC.exports=Mh;function Mh(){this._listeners={}}Mh.prototype.on=function(e,r,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:r,ctx:n||this}),this};Mh.prototype.off=function(e,r){if(e===void 0)this._listeners={};else if(r===void 0)this._listeners[e]=[];else for(var n=this._listeners[e],i=0;i<n.length;)n[i].fn===r?n.splice(i,1):++i;return this};Mh.prototype.emit=function(e){var r=this._listeners[e];if(r){for(var n=[],i=1;i<arguments.length;)n.push(arguments[i++]);for(i=0;i<r.length;)r[i].fn.apply(r[i++].ctx,n)}return this}});var fC=w((lie,lC)=>{"use strict";c();lC.exports=sC(sC);function sC(t){return typeof Float32Array<"u"?function(){var e=new Float32Array([-0]),r=new Uint8Array(e.buffer),n=r[3]===128;function i(u,l,f){e[0]=u,l[f]=r[0],l[f+1]=r[1],l[f+2]=r[2],l[f+3]=r[3]}function s(u,l,f){e[0]=u,l[f]=r[3],l[f+1]=r[2],l[f+2]=r[1],l[f+3]=r[0]}t.writeFloatLE=n?i:s,t.writeFloatBE=n?s:i;function o(u,l){return r[0]=u[l],r[1]=u[l+1],r[2]=u[l+2],r[3]=u[l+3],e[0]}function a(u,l){return r[3]=u[l],r[2]=u[l+1],r[1]=u[l+2],r[0]=u[l+3],e[0]}t.readFloatLE=n?o:a,t.readFloatBE=n?a:o}():function(){function e(n,i,s,o){var a=i<0?1:0;if(a&&(i=-i),i===0)n(1/i>0?0:2147483648,s,o);else if(isNaN(i))n(2143289344,s,o);else if(i>34028234663852886e22)n((a<<31|2139095040)>>>0,s,o);else if(i<11754943508222875e-54)n((a<<31|Math.round(i/1401298464324817e-60))>>>0,s,o);else{var u=Math.floor(Math.log(i)/Math.LN2),l=Math.round(i*Math.pow(2,-u)*8388608)&8388607;n((a<<31|u+127<<23|l)>>>0,s,o)}}t.writeFloatLE=e.bind(null,oC),t.writeFloatBE=e.bind(null,aC);function r(n,i,s){var o=n(i,s),a=(o>>31)*2+1,u=o>>>23&255,l=o&8388607;return u===255?l?NaN:a*(1/0):u===0?a*1401298464324817e-60*l:a*Math.pow(2,u-150)*(l+8388608)}t.readFloatLE=r.bind(null,uC),t.readFloatBE=r.bind(null,cC)}(),typeof Float64Array<"u"?function(){var e=new Float64Array([-0]),r=new Uint8Array(e.buffer),n=r[7]===128;function i(u,l,f){e[0]=u,l[f]=r[0],l[f+1]=r[1],l[f+2]=r[2],l[f+3]=r[3],l[f+4]=r[4],l[f+5]=r[5],l[f+6]=r[6],l[f+7]=r[7]}function s(u,l,f){e[0]=u,l[f]=r[7],l[f+1]=r[6],l[f+2]=r[5],l[f+3]=r[4],l[f+4]=r[3],l[f+5]=r[2],l[f+6]=r[1],l[f+7]=r[0]}t.writeDoubleLE=n?i:s,t.writeDoubleBE=n?s:i;function o(u,l){return r[0]=u[l],r[1]=u[l+1],r[2]=u[l+2],r[3]=u[l+3],r[4]=u[l+4],r[5]=u[l+5],r[6]=u[l+6],r[7]=u[l+7],e[0]}function a(u,l){return r[7]=u[l],r[6]=u[l+1],r[5]=u[l+2],r[4]=u[l+3],r[3]=u[l+4],r[2]=u[l+5],r[1]=u[l+6],r[0]=u[l+7],e[0]}t.readDoubleLE=n?o:a,t.readDoubleBE=n?a:o}():function(){function e(n,i,s,o,a,u){var l=o<0?1:0;if(l&&(o=-o),o===0)n(0,a,u+i),n(1/o>0?0:2147483648,a,u+s);else if(isNaN(o))n(0,a,u+i),n(2146959360,a,u+s);else if(o>17976931348623157e292)n(0,a,u+i),n((l<<31|2146435072)>>>0,a,u+s);else{var f;if(o<22250738585072014e-324)f=o/5e-324,n(f>>>0,a,u+i),n((l<<31|f/4294967296)>>>0,a,u+s);else{var d=Math.floor(Math.log(o)/Math.LN2);d===1024&&(d=1023),f=o*Math.pow(2,-d),n(f*4503599627370496>>>0,a,u+i),n((l<<31|d+1023<<20|f*1048576&1048575)>>>0,a,u+s)}}}t.writeDoubleLE=e.bind(null,oC,0,4),t.writeDoubleBE=e.bind(null,aC,4,0);function r(n,i,s,o,a){var u=n(o,a+i),l=n(o,a+s),f=(l>>31)*2+1,d=l>>>20&2047,y=4294967296*(l&1048575)+u;return d===2047?y?NaN:f*(1/0):d===0?f*5e-324*y:f*Math.pow(2,d-1075)*(y+4503599627370496)}t.readDoubleLE=r.bind(null,uC,0,4),t.readDoubleBE=r.bind(null,cC,4,0)}(),t}function oC(t,e,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}function aC(t,e,r){e[r]=t>>>24,e[r+1]=t>>>16&255,e[r+2]=t>>>8&255,e[r+3]=t&255}function uC(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0}function cC(t,e){return(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}});var hC=w((exports,module)=>{"use strict";c();module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(t){}return null}});var pC=w(dC=>{"use strict";c();var Xm=dC;Xm.length=function(e){for(var r=0,n=0,i=0;i<e.length;++i)n=e.charCodeAt(i),n<128?r+=1:n<2048?r+=2:(n&64512)===55296&&(e.charCodeAt(i+1)&64512)===56320?(++i,r+=4):r+=3;return r};Xm.read=function(e,r,n){var i=n-r;if(i<1)return"";for(var s=null,o=[],a=0,u;r<n;)u=e[r++],u<128?o[a++]=u:u>191&&u<224?o[a++]=(u&31)<<6|e[r++]&63:u>239&&u<365?(u=((u&7)<<18|(e[r++]&63)<<12|(e[r++]&63)<<6|e[r++]&63)-65536,o[a++]=55296+(u>>10),o[a++]=56320+(u&1023)):o[a++]=(u&15)<<12|(e[r++]&63)<<6|e[r++]&63,a>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,o)),a=0);return s?(a&&s.push(String.fromCharCode.apply(String,o.slice(0,a))),s.join("")):String.fromCharCode.apply(String,o.slice(0,a))};Xm.write=function(e,r,n){for(var i=n,s,o,a=0;a<e.length;++a)s=e.charCodeAt(a),s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=s&63|128):(s&64512)===55296&&((o=e.charCodeAt(a+1))&64512)===56320?(s=65536+((s&1023)<<10)+(o&1023),++a,r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=s&63|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=s&63|128);return n-i}});var yC=w((gie,gC)=>{"use strict";c();gC.exports=zU;function zU(t,e,r){var n=r||8192,i=n>>>1,s=null,o=n;return function(u){if(u<1||u>i)return t(u);o+u>n&&(s=t(n),o=0);var l=e.call(s,o,o+=u);return o&7&&(o=(o|7)+1),l}}});var wC=w((mie,mC)=>{"use strict";c();mC.exports=xt;var Mc=Si();function xt(t,e){this.lo=t>>>0,this.hi=e>>>0}var $s=xt.zero=new xt(0,0);$s.toNumber=function(){return 0};$s.zzEncode=$s.zzDecode=function(){return this};$s.length=function(){return 1};var WU=xt.zeroHash="\0\0\0\0\0\0\0\0";xt.fromNumber=function(e){if(e===0)return $s;var r=e<0;r&&(e=-e);var n=e>>>0,i=(e-n)/4294967296>>>0;return r&&(i=~i>>>0,n=~n>>>0,++n>4294967295&&(n=0,++i>4294967295&&(i=0))),new xt(n,i)};xt.from=function(e){if(typeof e=="number")return xt.fromNumber(e);if(Mc.isString(e))if(Mc.Long)e=Mc.Long.fromString(e);else return xt.fromNumber(parseInt(e,10));return e.low||e.high?new xt(e.low>>>0,e.high>>>0):$s};xt.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var r=~this.lo+1>>>0,n=~this.hi>>>0;return r||(n=n+1>>>0),-(r+n*4294967296)}return this.lo+this.hi*4294967296};xt.prototype.toLong=function(e){return Mc.Long?new Mc.Long(this.lo|0,this.hi|0,!!e):{low:this.lo|0,high:this.hi|0,unsigned:!!e}};var Ii=String.prototype.charCodeAt;xt.fromHash=function(e){return e===WU?$s:new xt((Ii.call(e,0)|Ii.call(e,1)<<8|Ii.call(e,2)<<16|Ii.call(e,3)<<24)>>>0,(Ii.call(e,4)|Ii.call(e,5)<<8|Ii.call(e,6)<<16|Ii.call(e,7)<<24)>>>0)};xt.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};xt.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this};xt.prototype.zzDecode=function(){var e=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this};xt.prototype.length=function(){var e=this.lo,r=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return n===0?r===0?e<16384?e<128?1:2:e<2097152?3:4:r<16384?r<128?5:6:r<2097152?7:8:n<128?9:10}});var Si=w(Zm=>{"use strict";c();var me=Zm;me.asPromise=XS();me.base64=rC();me.EventEmitter=iC();me.float=fC();me.inquire=hC();me.utf8=pC();me.pool=yC();me.LongBits=wC();me.isNode=!!(typeof global<"u"&&global&&global.process&&global.process.versions&&global.process.versions.node);me.global=me.isNode&&global||typeof window<"u"&&window||typeof self<"u"&&self||Zm;me.emptyArray=Object.freeze?Object.freeze([]):[];me.emptyObject=Object.freeze?Object.freeze({}):{};me.isInteger=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};me.isString=function(e){return typeof e=="string"||e instanceof String};me.isObject=function(e){return e&&typeof e=="object"};me.isset=me.isSet=function(e,r){var n=e[r];return n!=null&&e.hasOwnProperty(r)?typeof n!="object"||(Array.isArray(n)?n.length:Object.keys(n).length)>0:!1};me.Buffer=function(){try{var t=me.inquire("buffer").Buffer;return t.prototype.utf8Write?t:null}catch{return null}}();me._Buffer_from=null;me._Buffer_allocUnsafe=null;me.newBuffer=function(e){return typeof e=="number"?me.Buffer?me._Buffer_allocUnsafe(e):new me.Array(e):me.Buffer?me._Buffer_from(e):typeof Uint8Array>"u"?e:new Uint8Array(e)};me.Array=typeof Uint8Array<"u"?Uint8Array:Array;me.Long=me.global.dcodeIO&&me.global.dcodeIO.Long||me.global.Long||me.inquire("long");me.key2Re=/^true|false|0|1$/;me.key32Re=/^-?(?:0|[1-9][0-9]*)$/;me.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;me.longToHash=function(e){return e?me.LongBits.from(e).toHash():me.LongBits.zeroHash};me.longFromHash=function(e,r){var n=me.LongBits.fromHash(e);return me.Long?me.Long.fromBits(n.lo,n.hi,r):n.toNumber(!!r)};function EC(t,e,r){for(var n=Object.keys(e),i=0;i<n.length;++i)(t[n[i]]===void 0||!r)&&(t[n[i]]=e[n[i]]);return t}me.merge=EC;me.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)};function vC(t){function e(r,n){if(!(this instanceof e))return new e(r,n);Object.defineProperty(this,"message",{get:function(){return r}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:new Error().stack||""}),n&&EC(this,n)}return(e.prototype=Object.create(Error.prototype)).constructor=e,Object.defineProperty(e.prototype,"name",{get:function(){return t}}),e.prototype.toString=function(){return this.name+": "+this.message},e}me.newError=vC;me.ProtocolError=vC("ProtocolError");me.oneOfGetter=function(e){for(var r={},n=0;n<e.length;++n)r[e[n]]=1;return function(){for(var i=Object.keys(this),s=i.length-1;s>-1;--s)if(r[i[s]]===1&&this[i[s]]!==void 0&&this[i[s]]!==null)return i[s]}};me.oneOfSetter=function(e){return function(r){for(var n=0;n<e.length;++n)e[n]!==r&&delete this[e[n]]}};me.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};me._configure=function(){var t=me.Buffer;if(!t){me._Buffer_from=me._Buffer_allocUnsafe=null;return}me._Buffer_from=t.from!==Uint8Array.from&&t.from||function(r,n){return new t(r,n)},me._Buffer_allocUnsafe=t.allocUnsafe||function(r){return new t(r)}}});var ow=w((Aie,IC)=>{"use strict";c();IC.exports=Le;var Ar=Si(),ew,Uh=Ar.LongBits,AC=Ar.base64,bC=Ar.utf8;function Uc(t,e,r){this.fn=t,this.len=e,this.next=void 0,this.val=r}function rw(){}function KU(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function Le(){this.len=0,this.head=new Uc(rw,0,0),this.tail=this.head,this.states=null}var _C=function(){return Ar.Buffer?function(){return(Le.create=function(){return new ew})()}:function(){return new Le}};Le.create=_C();Le.alloc=function(e){return new Ar.Array(e)};Ar.Array!==Array&&(Le.alloc=Ar.pool(Le.alloc,Ar.Array.prototype.subarray));Le.prototype._push=function(e,r,n){return this.tail=this.tail.next=new Uc(e,r,n),this.len+=r,this};function nw(t,e,r){e[r]=t&255}function $U(t,e,r){for(;t>127;)e[r++]=t&127|128,t>>>=7;e[r]=t}function iw(t,e){this.len=t,this.next=void 0,this.val=e}iw.prototype=Object.create(Uc.prototype);iw.prototype.fn=$U;Le.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new iw((e=e>>>0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this};Le.prototype.int32=function(e){return e<0?this._push(sw,10,Uh.fromNumber(e)):this.uint32(e)};Le.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)};function sw(t,e,r){for(;t.hi;)e[r++]=t.lo&127|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;t.lo>127;)e[r++]=t.lo&127|128,t.lo=t.lo>>>7;e[r++]=t.lo}Le.prototype.uint64=function(e){var r=Uh.from(e);return this._push(sw,r.length(),r)};Le.prototype.int64=Le.prototype.uint64;Le.prototype.sint64=function(e){var r=Uh.from(e).zzEncode();return this._push(sw,r.length(),r)};Le.prototype.bool=function(e){return this._push(nw,1,e?1:0)};function tw(t,e,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}Le.prototype.fixed32=function(e){return this._push(tw,4,e>>>0)};Le.prototype.sfixed32=Le.prototype.fixed32;Le.prototype.fixed64=function(e){var r=Uh.from(e);return this._push(tw,4,r.lo)._push(tw,4,r.hi)};Le.prototype.sfixed64=Le.prototype.fixed64;Le.prototype.float=function(e){return this._push(Ar.float.writeFloatLE,4,e)};Le.prototype.double=function(e){return this._push(Ar.float.writeDoubleLE,8,e)};var YU=Ar.Array.prototype.set?function(e,r,n){r.set(e,n)}:function(e,r,n){for(var i=0;i<e.length;++i)r[n+i]=e[i]};Le.prototype.bytes=function(e){var r=e.length>>>0;if(!r)return this._push(nw,1,0);if(Ar.isString(e)){var n=Le.alloc(r=AC.length(e));AC.decode(e,n,0),e=n}return this.uint32(r)._push(YU,r,e)};Le.prototype.string=function(e){var r=bC.length(e);return r?this.uint32(r)._push(bC.write,r,e):this._push(nw,1,0)};Le.prototype.fork=function(){return this.states=new KU(this),this.head=this.tail=new Uc(rw,0,0),this.len=0,this};Le.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Uc(rw,0,0),this.len=0),this};Le.prototype.ldelim=function(){var e=this.head,r=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=r,this.len+=n),this};Le.prototype.finish=function(){for(var e=this.head.next,r=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,r,n),n+=e.len,e=e.next;return r};Le._configure=function(t){ew=t,Le.create=_C(),ew._configure()}});var TC=w((_ie,CC)=>{"use strict";c();CC.exports=ln;var SC=ow();(ln.prototype=Object.create(SC.prototype)).constructor=ln;var Ci=Si();function ln(){SC.call(this)}ln._configure=function(){ln.alloc=Ci._Buffer_allocUnsafe,ln.writeBytesBuffer=Ci.Buffer&&Ci.Buffer.prototype instanceof Uint8Array&&Ci.Buffer.prototype.set.name==="set"?function(e,r,n){r.set(e,n)}:function(e,r,n){if(e.copy)e.copy(r,n,0,e.length);else for(var i=0;i<e.length;)r[n++]=e[i++]}};ln.prototype.bytes=function(e){Ci.isString(e)&&(e=Ci._Buffer_from(e,"base64"));var r=e.length>>>0;return this.uint32(r),r&&this._push(ln.writeBytesBuffer,r,e),this};function JU(t,e,r){t.length<40?Ci.utf8.write(t,e,r):e.utf8Write?e.utf8Write(t,r):e.write(t,r)}ln.prototype.string=function(e){var r=Ci.Buffer.byteLength(e);return this.uint32(r),r&&this._push(JU,r,e),this};ln._configure()});var cw=w((Sie,PC)=>{"use strict";c();PC.exports=dt;var fn=Si(),uw,OC=fn.LongBits,XU=fn.utf8;function Mr(t,e){return RangeError("index out of range: "+t.pos+" + "+(e||1)+" > "+t.len)}function dt(t){this.buf=t,this.pos=0,this.len=t.length}var xC=typeof Uint8Array<"u"?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new dt(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new dt(e);throw Error("illegal buffer")},DC=function(){return fn.Buffer?function(r){return(dt.create=function(i){return fn.Buffer.isBuffer(i)?new uw(i):xC(i)})(r)}:xC};dt.create=DC();dt.prototype._slice=fn.Array.prototype.subarray||fn.Array.prototype.slice;dt.prototype.uint32=function(){var e=4294967295;return function(){if(e=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(e=(e|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,Mr(this,10);return e}}();dt.prototype.int32=function(){return this.uint32()|0};dt.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(e&1)|0};function aw(){var t=new OC(0,0),e=0;if(this.len-this.pos>4){for(;e<4;++e)if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(this.buf[this.pos]&127)<<28)>>>0,t.hi=(t.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return t;e=0}else{for(;e<3;++e){if(this.pos>=this.len)throw Mr(this);if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(this.buf[this.pos++]&127)<<e*7)>>>0,t}if(this.len-this.pos>4){for(;e<5;++e)if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}else for(;e<5;++e){if(this.pos>=this.len)throw Mr(this);if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}dt.prototype.bool=function(){return this.uint32()!==0};function qh(t,e){return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0}dt.prototype.fixed32=function(){if(this.pos+4>this.len)throw Mr(this,4);return qh(this.buf,this.pos+=4)};dt.prototype.sfixed32=function(){if(this.pos+4>this.len)throw Mr(this,4);return qh(this.buf,this.pos+=4)|0};function NC(){if(this.pos+8>this.len)throw Mr(this,8);return new OC(qh(this.buf,this.pos+=4),qh(this.buf,this.pos+=4))}dt.prototype.float=function(){if(this.pos+4>this.len)throw Mr(this,4);var e=fn.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e};dt.prototype.double=function(){if(this.pos+8>this.len)throw Mr(this,4);var e=fn.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e};dt.prototype.bytes=function(){var e=this.uint32(),r=this.pos,n=this.pos+e;if(n>this.len)throw Mr(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(r,n):r===n?new this.buf.constructor(0):this._slice.call(this.buf,r,n)};dt.prototype.string=function(){var e=this.bytes();return XU.read(e,0,e.length)};dt.prototype.skip=function(e){if(typeof e=="number"){if(this.pos+e>this.len)throw Mr(this,e);this.pos+=e}else do if(this.pos>=this.len)throw Mr(this);while(this.buf[this.pos++]&128);return this};dt.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(t=this.uint32()&7)!==4;)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this};dt._configure=function(t){uw=t,dt.create=DC(),uw._configure();var e=fn.Long?"toLong":"toNumber";fn.merge(dt.prototype,{int64:function(){return aw.call(this)[e](!1)},uint64:function(){return aw.call(this)[e](!0)},sint64:function(){return aw.call(this).zzDecode()[e](!1)},fixed64:function(){return NC.call(this)[e](!0)},sfixed64:function(){return NC.call(this)[e](!1)}})}});var FC=w((Tie,LC)=>{"use strict";c();LC.exports=Ys;var BC=cw();(Ys.prototype=Object.create(BC.prototype)).constructor=Ys;var RC=Si();function Ys(t){BC.call(this,t)}Ys._configure=function(){RC.Buffer&&(Ys.prototype._slice=RC.Buffer.prototype.slice)};Ys.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))};Ys._configure()});var UC=w((Nie,MC)=>{"use strict";c();MC.exports=qc;var lw=Si();(qc.prototype=Object.create(lw.EventEmitter.prototype)).constructor=qc;function qc(t,e,r){if(typeof t!="function")throw TypeError("rpcImpl must be a function");lw.EventEmitter.call(this),this.rpcImpl=t,this.requestDelimited=!!e,this.responseDelimited=!!r}qc.prototype.rpcCall=function t(e,r,n,i,s){if(!i)throw TypeError("request must be specified");var o=this;if(!s)return lw.asPromise(t,o,e,r,n,i);if(!o.rpcImpl){setTimeout(function(){s(Error("already ended"))},0);return}try{return o.rpcImpl(e,r[o.requestDelimited?"encodeDelimited":"encode"](i).finish(),function(u,l){if(u)return o.emit("error",u,e),s(u);if(l===null){o.end(!0);return}if(!(l instanceof n))try{l=n[o.responseDelimited?"decodeDelimited":"decode"](l)}catch(f){return o.emit("error",f,e),s(f)}return o.emit("data",l,e),s(null,l)})}catch(a){o.emit("error",a,e),setTimeout(function(){s(a)},0);return}};qc.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}});var VC=w(qC=>{"use strict";c();var ZU=qC;ZU.Service=UC()});var HC=w((Rie,jC)=>{"use strict";c();jC.exports={}});var kC=w(QC=>{"use strict";c();var rr=QC;rr.build="minimal";rr.Writer=ow();rr.BufferWriter=TC();rr.Reader=cw();rr.BufferReader=FC();rr.util=Si();rr.rpc=VC();rr.roots=HC();rr.configure=GC;function GC(){rr.util._configure(),rr.Writer._configure(rr.BufferWriter),rr.Reader._configure(rr.BufferReader)}GC()});var WC=w((Mie,zC)=>{"use strict";c();zC.exports=kC()});var $C=w((qie,KC)=>{"use strict";c();var ja=WC(),Vh=ja.Reader,eq=ja.Writer,J=ja.util,Vc=ja.roots.default||(ja.roots.default={});Vc.proto=function(){var t={};return t.Transaction=function(){function e(r){if(r)for(var n=Object.keys(r),i=0;i<n.length;++i)r[n[i]]!=null&&(this[n[i]]=r[n[i]])}return e.prototype.Nonce=J.Long?J.Long.fromBits(0,0,!0):0,e.prototype.Value=J.newBuffer([]),e.prototype.RcvAddr=J.newBuffer([]),e.prototype.RcvUserName=J.newBuffer([]),e.prototype.SndAddr=J.newBuffer([]),e.prototype.SndUserName=J.newBuffer([]),e.prototype.GasPrice=J.Long?J.Long.fromBits(0,0,!0):0,e.prototype.GasLimit=J.Long?J.Long.fromBits(0,0,!0):0,e.prototype.Data=J.newBuffer([]),e.prototype.ChainID=J.newBuffer([]),e.prototype.Version=0,e.prototype.Signature=J.newBuffer([]),e.prototype.Options=0,e.prototype.GuardAddr=J.newBuffer([]),e.prototype.GuardSignature=J.newBuffer([]),e.create=function(n){return new e(n)},e.encode=function(n,i){return i||(i=eq.create()),n.Nonce!=null&&Object.hasOwnProperty.call(n,"Nonce")&&i.uint32(8).uint64(n.Nonce),n.Value!=null&&Object.hasOwnProperty.call(n,"Value")&&i.uint32(18).bytes(n.Value),n.RcvAddr!=null&&Object.hasOwnProperty.call(n,"RcvAddr")&&i.uint32(26).bytes(n.RcvAddr),n.RcvUserName!=null&&Object.hasOwnProperty.call(n,"RcvUserName")&&i.uint32(34).bytes(n.RcvUserName),n.SndAddr!=null&&Object.hasOwnProperty.call(n,"SndAddr")&&i.uint32(42).bytes(n.SndAddr),n.SndUserName!=null&&Object.hasOwnProperty.call(n,"SndUserName")&&i.uint32(50).bytes(n.SndUserName),n.GasPrice!=null&&Object.hasOwnProperty.call(n,"GasPrice")&&i.uint32(56).uint64(n.GasPrice),n.GasLimit!=null&&Object.hasOwnProperty.call(n,"GasLimit")&&i.uint32(64).uint64(n.GasLimit),n.Data!=null&&Object.hasOwnProperty.call(n,"Data")&&i.uint32(74).bytes(n.Data),n.ChainID!=null&&Object.hasOwnProperty.call(n,"ChainID")&&i.uint32(82).bytes(n.ChainID),n.Version!=null&&Object.hasOwnProperty.call(n,"Version")&&i.uint32(88).uint32(n.Version),n.Signature!=null&&Object.hasOwnProperty.call(n,"Signature")&&i.uint32(98).bytes(n.Signature),n.Options!=null&&Object.hasOwnProperty.call(n,"Options")&&i.uint32(104).uint32(n.Options),n.GuardAddr!=null&&Object.hasOwnProperty.call(n,"GuardAddr")&&i.uint32(114).bytes(n.GuardAddr),n.GuardSignature!=null&&Object.hasOwnProperty.call(n,"GuardSignature")&&i.uint32(122).bytes(n.GuardSignature),i},e.encodeDelimited=function(n,i){return this.encode(n,i).ldelim()},e.decode=function(n,i){n instanceof Vh||(n=Vh.create(n));for(var s=i===void 0?n.len:n.pos+i,o=new Vc.proto.Transaction;n.pos<s;){var a=n.uint32();switch(a>>>3){case 1:o.Nonce=n.uint64();break;case 2:o.Value=n.bytes();break;case 3:o.RcvAddr=n.bytes();break;case 4:o.RcvUserName=n.bytes();break;case 5:o.SndAddr=n.bytes();break;case 6:o.SndUserName=n.bytes();break;case 7:o.GasPrice=n.uint64();break;case 8:o.GasLimit=n.uint64();break;case 9:o.Data=n.bytes();break;case 10:o.ChainID=n.bytes();break;case 11:o.Version=n.uint32();break;case 12:o.Signature=n.bytes();break;case 13:o.Options=n.uint32();break;case 14:o.GuardAddr=n.bytes();break;case 15:o.GuardSignature=n.bytes();break;default:n.skipType(a&7);break}}return o},e.decodeDelimited=function(n){return n instanceof Vh||(n=new Vh(n)),this.decode(n,n.uint32())},e.verify=function(n){return typeof n!="object"||n===null?"object expected":n.Nonce!=null&&n.hasOwnProperty("Nonce")&&!J.isInteger(n.Nonce)&&!(n.Nonce&&J.isInteger(n.Nonce.low)&&J.isInteger(n.Nonce.high))?"Nonce: integer|Long expected":n.Value!=null&&n.hasOwnProperty("Value")&&!(n.Value&&typeof n.Value.length=="number"||J.isString(n.Value))?"Value: buffer expected":n.RcvAddr!=null&&n.hasOwnProperty("RcvAddr")&&!(n.RcvAddr&&typeof n.RcvAddr.length=="number"||J.isString(n.RcvAddr))?"RcvAddr: buffer expected":n.RcvUserName!=null&&n.hasOwnProperty("RcvUserName")&&!(n.RcvUserName&&typeof n.RcvUserName.length=="number"||J.isString(n.RcvUserName))?"RcvUserName: buffer expected":n.SndAddr!=null&&n.hasOwnProperty("SndAddr")&&!(n.SndAddr&&typeof n.SndAddr.length=="number"||J.isString(n.SndAddr))?"SndAddr: buffer expected":n.SndUserName!=null&&n.hasOwnProperty("SndUserName")&&!(n.SndUserName&&typeof n.SndUserName.length=="number"||J.isString(n.SndUserName))?"SndUserName: buffer expected":n.GasPrice!=null&&n.hasOwnProperty("GasPrice")&&!J.isInteger(n.GasPrice)&&!(n.GasPrice&&J.isInteger(n.GasPrice.low)&&J.isInteger(n.GasPrice.high))?"GasPrice: integer|Long expected":n.GasLimit!=null&&n.hasOwnProperty("GasLimit")&&!J.isInteger(n.GasLimit)&&!(n.GasLimit&&J.isInteger(n.GasLimit.low)&&J.isInteger(n.GasLimit.high))?"GasLimit: integer|Long expected":n.Data!=null&&n.hasOwnProperty("Data")&&!(n.Data&&typeof n.Data.length=="number"||J.isString(n.Data))?"Data: buffer expected":n.ChainID!=null&&n.hasOwnProperty("ChainID")&&!(n.ChainID&&typeof n.ChainID.length=="number"||J.isString(n.ChainID))?"ChainID: buffer expected":n.Version!=null&&n.hasOwnProperty("Version")&&!J.isInteger(n.Version)?"Version: integer expected":n.Signature!=null&&n.hasOwnProperty("Signature")&&!(n.Signature&&typeof n.Signature.length=="number"||J.isString(n.Signature))?"Signature: buffer expected":n.Options!=null&&n.hasOwnProperty("Options")&&!J.isInteger(n.Options)?"Options: integer expected":n.GuardAddr!=null&&n.hasOwnProperty("GuardAddr")&&!(n.GuardAddr&&typeof n.GuardAddr.length=="number"||J.isString(n.GuardAddr))?"GuardAddr: buffer expected":n.GuardSignature!=null&&n.hasOwnProperty("GuardSignature")&&!(n.GuardSignature&&typeof n.GuardSignature.length=="number"||J.isString(n.GuardSignature))?"GuardSignature: buffer expected":null},e.fromObject=function(n){if(n instanceof Vc.proto.Transaction)return n;var i=new Vc.proto.Transaction;return n.Nonce!=null&&(J.Long?(i.Nonce=J.Long.fromValue(n.Nonce)).unsigned=!0:typeof n.Nonce=="string"?i.Nonce=parseInt(n.Nonce,10):typeof n.Nonce=="number"?i.Nonce=n.Nonce:typeof n.Nonce=="object"&&(i.Nonce=new J.LongBits(n.Nonce.low>>>0,n.Nonce.high>>>0).toNumber(!0))),n.Value!=null&&(typeof n.Value=="string"?J.base64.decode(n.Value,i.Value=J.newBuffer(J.base64.length(n.Value)),0):n.Value.length&&(i.Value=n.Value)),n.RcvAddr!=null&&(typeof n.RcvAddr=="string"?J.base64.decode(n.RcvAddr,i.RcvAddr=J.newBuffer(J.base64.length(n.RcvAddr)),0):n.RcvAddr.length&&(i.RcvAddr=n.RcvAddr)),n.RcvUserName!=null&&(typeof n.RcvUserName=="string"?J.base64.decode(n.RcvUserName,i.RcvUserName=J.newBuffer(J.base64.length(n.RcvUserName)),0):n.RcvUserName.length&&(i.RcvUserName=n.RcvUserName)),n.SndAddr!=null&&(typeof n.SndAddr=="string"?J.base64.decode(n.SndAddr,i.SndAddr=J.newBuffer(J.base64.length(n.SndAddr)),0):n.SndAddr.length&&(i.SndAddr=n.SndAddr)),n.SndUserName!=null&&(typeof n.SndUserName=="string"?J.base64.decode(n.SndUserName,i.SndUserName=J.newBuffer(J.base64.length(n.SndUserName)),0):n.SndUserName.length&&(i.SndUserName=n.SndUserName)),n.GasPrice!=null&&(J.Long?(i.GasPrice=J.Long.fromValue(n.GasPrice)).unsigned=!0:typeof n.GasPrice=="string"?i.GasPrice=parseInt(n.GasPrice,10):typeof n.GasPrice=="number"?i.GasPrice=n.GasPrice:typeof n.GasPrice=="object"&&(i.GasPrice=new J.LongBits(n.GasPrice.low>>>0,n.GasPrice.high>>>0).toNumber(!0))),n.GasLimit!=null&&(J.Long?(i.GasLimit=J.Long.fromValue(n.GasLimit)).unsigned=!0:typeof n.GasLimit=="string"?i.GasLimit=parseInt(n.GasLimit,10):typeof n.GasLimit=="number"?i.GasLimit=n.GasLimit:typeof n.GasLimit=="object"&&(i.GasLimit=new J.LongBits(n.GasLimit.low>>>0,n.GasLimit.high>>>0).toNumber(!0))),n.Data!=null&&(typeof n.Data=="string"?J.base64.decode(n.Data,i.Data=J.newBuffer(J.base64.length(n.Data)),0):n.Data.length&&(i.Data=n.Data)),n.ChainID!=null&&(typeof n.ChainID=="string"?J.base64.decode(n.ChainID,i.ChainID=J.newBuffer(J.base64.length(n.ChainID)),0):n.ChainID.length&&(i.ChainID=n.ChainID)),n.Version!=null&&(i.Version=n.Version>>>0),n.Signature!=null&&(typeof n.Signature=="string"?J.base64.decode(n.Signature,i.Signature=J.newBuffer(J.base64.length(n.Signature)),0):n.Signature.length&&(i.Signature=n.Signature)),n.Options!=null&&(i.Options=n.Options>>>0),n.GuardAddr!=null&&(typeof n.GuardAddr=="string"?J.base64.decode(n.GuardAddr,i.GuardAddr=J.newBuffer(J.base64.length(n.GuardAddr)),0):n.GuardAddr.length&&(i.GuardAddr=n.GuardAddr)),n.GuardSignature!=null&&(typeof n.GuardSignature=="string"?J.base64.decode(n.GuardSignature,i.GuardSignature=J.newBuffer(J.base64.length(n.GuardSignature)),0):n.GuardSignature.length&&(i.GuardSignature=n.GuardSignature)),i},e.toObject=function(n,i){i||(i={});var s={};if(i.defaults){if(J.Long){var o=new J.Long(0,0,!0);s.Nonce=i.longs===String?o.toString():i.longs===Number?o.toNumber():o}else s.Nonce=i.longs===String?"0":0;if(i.bytes===String?s.Value="":(s.Value=[],i.bytes!==Array&&(s.Value=J.newBuffer(s.Value))),i.bytes===String?s.RcvAddr="":(s.RcvAddr=[],i.bytes!==Array&&(s.RcvAddr=J.newBuffer(s.RcvAddr))),i.bytes===String?s.RcvUserName="":(s.RcvUserName=[],i.bytes!==Array&&(s.RcvUserName=J.newBuffer(s.RcvUserName))),i.bytes===String?s.SndAddr="":(s.SndAddr=[],i.bytes!==Array&&(s.SndAddr=J.newBuffer(s.SndAddr))),i.bytes===String?s.SndUserName="":(s.SndUserName=[],i.bytes!==Array&&(s.SndUserName=J.newBuffer(s.SndUserName))),J.Long){var o=new J.Long(0,0,!0);s.GasPrice=i.longs===String?o.toString():i.longs===Number?o.toNumber():o}else s.GasPrice=i.longs===String?"0":0;if(J.Long){var o=new J.Long(0,0,!0);s.GasLimit=i.longs===String?o.toString():i.longs===Number?o.toNumber():o}else s.GasLimit=i.longs===String?"0":0;i.bytes===String?s.Data="":(s.Data=[],i.bytes!==Array&&(s.Data=J.newBuffer(s.Data))),i.bytes===String?s.ChainID="":(s.ChainID=[],i.bytes!==Array&&(s.ChainID=J.newBuffer(s.ChainID))),s.Version=0,i.bytes===String?s.Signature="":(s.Signature=[],i.bytes!==Array&&(s.Signature=J.newBuffer(s.Signature))),s.Options=0,i.bytes===String?s.GuardAddr="":(s.GuardAddr=[],i.bytes!==Array&&(s.GuardAddr=J.newBuffer(s.GuardAddr))),i.bytes===String?s.GuardSignature="":(s.GuardSignature=[],i.bytes!==Array&&(s.GuardSignature=J.newBuffer(s.GuardSignature)))}return n.Nonce!=null&&n.hasOwnProperty("Nonce")&&(typeof n.Nonce=="number"?s.Nonce=i.longs===String?String(n.Nonce):n.Nonce:s.Nonce=i.longs===String?J.Long.prototype.toString.call(n.Nonce):i.longs===Number?new J.LongBits(n.Nonce.low>>>0,n.Nonce.high>>>0).toNumber(!0):n.Nonce),n.Value!=null&&n.hasOwnProperty("Value")&&(s.Value=i.bytes===String?J.base64.encode(n.Value,0,n.Value.length):i.bytes===Array?Array.prototype.slice.call(n.Value):n.Value),n.RcvAddr!=null&&n.hasOwnProperty("RcvAddr")&&(s.RcvAddr=i.bytes===String?J.base64.encode(n.RcvAddr,0,n.RcvAddr.length):i.bytes===Array?Array.prototype.slice.call(n.RcvAddr):n.RcvAddr),n.RcvUserName!=null&&n.hasOwnProperty("RcvUserName")&&(s.RcvUserName=i.bytes===String?J.base64.encode(n.RcvUserName,0,n.RcvUserName.length):i.bytes===Array?Array.prototype.slice.call(n.RcvUserName):n.RcvUserName),n.SndAddr!=null&&n.hasOwnProperty("SndAddr")&&(s.SndAddr=i.bytes===String?J.base64.encode(n.SndAddr,0,n.SndAddr.length):i.bytes===Array?Array.prototype.slice.call(n.SndAddr):n.SndAddr),n.SndUserName!=null&&n.hasOwnProperty("SndUserName")&&(s.SndUserName=i.bytes===String?J.base64.encode(n.SndUserName,0,n.SndUserName.length):i.bytes===Array?Array.prototype.slice.call(n.SndUserName):n.SndUserName),n.GasPrice!=null&&n.hasOwnProperty("GasPrice")&&(typeof n.GasPrice=="number"?s.GasPrice=i.longs===String?String(n.GasPrice):n.GasPrice:s.GasPrice=i.longs===String?J.Long.prototype.toString.call(n.GasPrice):i.longs===Number?new J.LongBits(n.GasPrice.low>>>0,n.GasPrice.high>>>0).toNumber(!0):n.GasPrice),n.GasLimit!=null&&n.hasOwnProperty("GasLimit")&&(typeof n.GasLimit=="number"?s.GasLimit=i.longs===String?String(n.GasLimit):n.GasLimit:s.GasLimit=i.longs===String?J.Long.prototype.toString.call(n.GasLimit):i.longs===Number?new J.LongBits(n.GasLimit.low>>>0,n.GasLimit.high>>>0).toNumber(!0):n.GasLimit),n.Data!=null&&n.hasOwnProperty("Data")&&(s.Data=i.bytes===String?J.base64.encode(n.Data,0,n.Data.length):i.bytes===Array?Array.prototype.slice.call(n.Data):n.Data),n.ChainID!=null&&n.hasOwnProperty("ChainID")&&(s.ChainID=i.bytes===String?J.base64.encode(n.ChainID,0,n.ChainID.length):i.bytes===Array?Array.prototype.slice.call(n.ChainID):n.ChainID),n.Version!=null&&n.hasOwnProperty("Version")&&(s.Version=n.Version),n.Signature!=null&&n.hasOwnProperty("Signature")&&(s.Signature=i.bytes===String?J.base64.encode(n.Signature,0,n.Signature.length):i.bytes===Array?Array.prototype.slice.call(n.Signature):n.Signature),n.Options!=null&&n.hasOwnProperty("Options")&&(s.Options=n.Options),n.GuardAddr!=null&&n.hasOwnProperty("GuardAddr")&&(s.GuardAddr=i.bytes===String?J.base64.encode(n.GuardAddr,0,n.GuardAddr.length):i.bytes===Array?Array.prototype.slice.call(n.GuardAddr):n.GuardAddr),n.GuardSignature!=null&&n.hasOwnProperty("GuardSignature")&&(s.GuardSignature=i.bytes===String?J.base64.encode(n.GuardSignature,0,n.GuardSignature.length):i.bytes===Array?Array.prototype.slice.call(n.GuardSignature):n.GuardSignature),s},e.prototype.toJSON=function(){return this.constructor.toObject(this,ja.util.toJSONOptions)},e}(),t}();KC.exports=Vc});var YC=w(br=>{"use strict";c();var tq=br&&br.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),rq=br&&br.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),nq=br&&br.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&tq(e,t,r);return rq(e,t),e},iq=br&&br.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(br,"__esModule",{value:!0});br.ProtoSerializer=void 0;var sq=iq(Yt()),fw=tr(),oq=Go(),aq=nq(je()),uq=lh(),hw=class{serializeTransaction(e){let r=$C().proto,n=new fw.Address(e.getReceiver().bech32()).pubkey(),i=new fw.Address(e.getSender().bech32()).pubkey(),s=new r.Transaction({Nonce:e.getNonce().valueOf()?e.getNonce().valueOf():void 0,Value:this.serializeTransactionValue(e.getValue()),RcvAddr:n,RcvUserName:null,SndAddr:i,SndUserName:null,GasPrice:e.getGasPrice().valueOf(),GasLimit:e.getGasLimit().valueOf(),Data:e.getData().length()==0?null:e.getData().valueOf(),ChainID:h.Buffer.from(e.getChainID().valueOf()),Version:e.getVersion().valueOf(),Signature:e.getSignature()});if(e.getOptions().valueOf()!==oq.TRANSACTION_OPTIONS_DEFAULT&&(s.Options=e.getOptions().valueOf()),e.isGuardedTransaction()){let u=e.getGuardian();s.GuardAddr=new fw.Address(u.bech32()).pubkey(),s.GuardSignature=e.getGuardianSignature()}let o=r.Transaction.encode(s).finish();return h.Buffer.from(o)}serializeTransactionValue(e){let r=new sq.default(e.toString());if(r.isZero())return h.Buffer.from([0,0]);let n=uq.bigIntToBuffer(r);return n=h.Buffer.concat([h.Buffer.from([0]),n]),n}deserializeTransaction(e){throw new aq.ErrUnsupportedOperation("deserializeTransaction")}};br.ProtoSerializer=hw});var JC=w(Js=>{"use strict";c();var cq=Js&&Js.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),lq=Js&&Js.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&cq(e,t,r)};Object.defineProperty(Js,"__esModule",{value:!0});lq(YC(),Js)});var eT=w(hn=>{"use strict";c();var fq=hn&&hn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),hq=hn&&hn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),dq=hn&&hn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&fq(e,t,r);return hq(e,t),e};Object.defineProperty(hn,"__esModule",{value:!0});hn.Signature=void 0;var XC=dq(je()),ZC=64,Ur=class{constructor(e){if(this.valueHex="",!!e){if(typeof e=="string")return Ur.fromHex(e);if(e instanceof h.Buffer)return Ur.fromBuffer(e)}}static empty(){return new Ur}static fromHex(e){if(e.startsWith("0x")&&(e=e.slice(2)),!Ur.isValidHex(e))throw new XC.ErrSignatureCannotCreate(e);return Ur.fromValidHex(e)}static isValidHex(e){return h.Buffer.from(e,"hex").length==ZC}static fromValidHex(e){let r=new Ur;return r.valueHex=e,r}static fromBuffer(e){if(e.length!=ZC)throw new XC.ErrSignatureCannotCreate(e);return Ur.fromValidHex(e.toString("hex"))}hex(){return this.valueHex}};hn.Signature=Ur});var jc=w(jh=>{"use strict";c();Object.defineProperty(jh,"__esModule",{value:!0});jh.TransactionPayload=void 0;var Ha=class{constructor(e){this.data=h.Buffer.from(e||[])}static fromEncoded(e){if(!e)return new Ha("");let r=h.Buffer.from(e,"base64").toString();return new Ha(r)}isEmpty(){return this.data.length==0}encoded(){return this.data.toString("base64")}valueOf(){return this.data}toString(){return this.data.toString()}getEncodedArguments(){return this.toString().split("@")}getRawArguments(){return this.getEncodedArguments().map(e=>h.Buffer.from(e,"hex"))}length(){return h.Buffer.from(this.data).length}};jh.TransactionPayload=Ha});var dw=w(($ie,tT)=>{c();Gn.notEqual=gq;Gn.notOk=yq;Gn.equal=pq;Gn.ok=Gn;tT.exports=Gn;function pq(t,e,r){Gn(t==e,r)}function gq(t,e,r){Gn(t!=e,r)}function yq(t,e){Gn(!t,e)}function Gn(t,e){if(!t)throw new Error(e||"AssertionError")}});var Wa=w(za=>{"use strict";c();var pw=hy(),Qa=py(),rT=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;za.Buffer=W;za.SlowBuffer=bq;za.INSPECT_MAX_BYTES=50;var Hh=2147483647;za.kMaxLength=Hh;W.TYPED_ARRAY_SUPPORT=mq();!W.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function mq(){try{let t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch{return!1}}Object.defineProperty(W.prototype,"parent",{enumerable:!0,get:function(){if(W.isBuffer(this))return this.buffer}});Object.defineProperty(W.prototype,"offset",{enumerable:!0,get:function(){if(W.isBuffer(this))return this.byteOffset}});function Qn(t){if(t>Hh)throw new RangeError('The value "'+t+'" is invalid for option "size"');let e=new Uint8Array(t);return Object.setPrototypeOf(e,W.prototype),e}function W(t,e,r){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return ww(t)}return oT(t,e,r)}W.poolSize=8192;function oT(t,e,r){if(typeof t=="string")return Eq(t,e);if(ArrayBuffer.isView(t))return vq(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(dn(t,ArrayBuffer)||t&&dn(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(dn(t,SharedArrayBuffer)||t&&dn(t.buffer,SharedArrayBuffer)))return yw(t,e,r);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let n=t.valueOf&&t.valueOf();if(n!=null&&n!==t)return W.from(n,e,r);let i=Aq(t);if(i)return i;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return W.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}W.from=function(t,e,r){return oT(t,e,r)};Object.setPrototypeOf(W.prototype,Uint8Array.prototype);Object.setPrototypeOf(W,Uint8Array);function aT(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function wq(t,e,r){return aT(t),t<=0?Qn(t):e!==void 0?typeof r=="string"?Qn(t).fill(e,r):Qn(t).fill(e):Qn(t)}W.alloc=function(t,e,r){return wq(t,e,r)};function ww(t){return aT(t),Qn(t<0?0:Ew(t)|0)}W.allocUnsafe=function(t){return ww(t)};W.allocUnsafeSlow=function(t){return ww(t)};function Eq(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!W.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let r=uT(t,e)|0,n=Qn(r),i=n.write(t,e);return i!==r&&(n=n.slice(0,i)),n}function gw(t){let e=t.length<0?0:Ew(t.length)|0,r=Qn(e);for(let n=0;n<e;n+=1)r[n]=t[n]&255;return r}function vq(t){if(dn(t,Uint8Array)){let e=new Uint8Array(t);return yw(e.buffer,e.byteOffset,e.byteLength)}return gw(t)}function yw(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return e===void 0&&r===void 0?n=new Uint8Array(t):r===void 0?n=new Uint8Array(t,e):n=new Uint8Array(t,e,r),Object.setPrototypeOf(n,W.prototype),n}function Aq(t){if(W.isBuffer(t)){let e=Ew(t.length)|0,r=Qn(e);return r.length===0||t.copy(r,0,0,e),r}if(t.length!==void 0)return typeof t.length!="number"||Aw(t.length)?Qn(0):gw(t);if(t.type==="Buffer"&&Array.isArray(t.data))return gw(t.data)}function Ew(t){if(t>=Hh)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Hh.toString(16)+" bytes");return t|0}function bq(t){return+t!=t&&(t=0),W.alloc(+t)}W.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==W.prototype};W.compare=function(e,r){if(dn(e,Uint8Array)&&(e=W.from(e,e.offset,e.byteLength)),dn(r,Uint8Array)&&(r=W.from(r,r.offset,r.byteLength)),!W.isBuffer(e)||!W.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===r)return 0;let n=e.length,i=r.length;for(let s=0,o=Math.min(n,i);s<o;++s)if(e[s]!==r[s]){n=e[s],i=r[s];break}return n<i?-1:i<n?1:0};W.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};W.concat=function(e,r){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return W.alloc(0);let n;if(r===void 0)for(r=0,n=0;n<e.length;++n)r+=e[n].length;let i=W.allocUnsafe(r),s=0;for(n=0;n<e.length;++n){let o=e[n];if(dn(o,Uint8Array))s+o.length>i.length?(W.isBuffer(o)||(o=W.from(o)),o.copy(i,s)):Uint8Array.prototype.set.call(i,o,s);else if(W.isBuffer(o))o.copy(i,s);else throw new TypeError('"list" argument must be an Array of Buffers');s+=o.length}return i};function uT(t,e){if(W.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||dn(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);let r=t.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&r===0)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return mw(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return mT(t).length;default:if(i)return n?-1:mw(t).length;e=(""+e).toLowerCase(),i=!0}}W.byteLength=uT;function _q(t,e,r){let n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,e>>>=0,r<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return Rq(this,e,r);case"utf8":case"utf-8":return lT(this,e,r);case"ascii":return Dq(this,e,r);case"latin1":case"binary":return Pq(this,e,r);case"base64":return Nq(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Bq(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}W.prototype._isBuffer=!0;function Xs(t,e,r){let n=t[e];t[e]=t[r],t[r]=n}W.prototype.swap16=function(){let e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let r=0;r<e;r+=2)Xs(this,r,r+1);return this};W.prototype.swap32=function(){let e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let r=0;r<e;r+=4)Xs(this,r,r+3),Xs(this,r+1,r+2);return this};W.prototype.swap64=function(){let e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let r=0;r<e;r+=8)Xs(this,r,r+7),Xs(this,r+1,r+6),Xs(this,r+2,r+5),Xs(this,r+3,r+4);return this};W.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?lT(this,0,e):_q.apply(this,arguments)};W.prototype.toLocaleString=W.prototype.toString;W.prototype.equals=function(e){if(!W.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:W.compare(this,e)===0};W.prototype.inspect=function(){let e="",r=za.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"};rT&&(W.prototype[rT]=W.prototype.inspect);W.prototype.compare=function(e,r,n,i,s){if(dn(e,Uint8Array)&&(e=W.from(e,e.offset,e.byteLength)),!W.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(r===void 0&&(r=0),n===void 0&&(n=e?e.length:0),i===void 0&&(i=0),s===void 0&&(s=this.length),r<0||n>e.length||i<0||s>this.length)throw new RangeError("out of range index");if(i>=s&&r>=n)return 0;if(i>=s)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,i>>>=0,s>>>=0,this===e)return 0;let o=s-i,a=n-r,u=Math.min(o,a),l=this.slice(i,s),f=e.slice(r,n);for(let d=0;d<u;++d)if(l[d]!==f[d]){o=l[d],a=f[d];break}return o<a?-1:a<o?1:0};function cT(t,e,r,n,i){if(t.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,Aw(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0)if(i)r=0;else return-1;if(typeof e=="string"&&(e=W.from(e,n)),W.isBuffer(e))return e.length===0?-1:nT(t,e,r,n,i);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):nT(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function nT(t,e,r,n,i){let s=1,o=t.length,a=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(t.length<2||e.length<2)return-1;s=2,o/=2,a/=2,r/=2}function u(f,d){return s===1?f[d]:f.readUInt16BE(d*s)}let l;if(i){let f=-1;for(l=r;l<o;l++)if(u(t,l)===u(e,f===-1?0:l-f)){if(f===-1&&(f=l),l-f+1===a)return f*s}else f!==-1&&(l-=l-f),f=-1}else for(r+a>o&&(r=o-a),l=r;l>=0;l--){let f=!0;for(let d=0;d<a;d++)if(u(t,l+d)!==u(e,d)){f=!1;break}if(f)return l}return-1}W.prototype.includes=function(e,r,n){return this.indexOf(e,r,n)!==-1};W.prototype.indexOf=function(e,r,n){return cT(this,e,r,n,!0)};W.prototype.lastIndexOf=function(e,r,n){return cT(this,e,r,n,!1)};function Iq(t,e,r,n){r=Number(r)||0;let i=t.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;let s=e.length;n>s/2&&(n=s/2);let o;for(o=0;o<n;++o){let a=parseInt(e.substr(o*2,2),16);if(Aw(a))return o;t[r+o]=a}return o}function Sq(t,e,r,n){return Gh(mw(e,t.length-r),t,r,n)}function Cq(t,e,r,n){return Gh(Uq(e),t,r,n)}function Tq(t,e,r,n){return Gh(mT(e),t,r,n)}function xq(t,e,r,n){return Gh(qq(e,t.length-r),t,r,n)}W.prototype.write=function(e,r,n,i){if(r===void 0)i="utf8",n=this.length,r=0;else if(n===void 0&&typeof r=="string")i=r,n=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(n)?(n=n>>>0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let s=this.length-r;if((n===void 0||n>s)&&(n=s),e.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let o=!1;for(;;)switch(i){case"hex":return Iq(this,e,r,n);case"utf8":case"utf-8":return Sq(this,e,r,n);case"ascii":case"latin1":case"binary":return Cq(this,e,r,n);case"base64":return Tq(this,e,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return xq(this,e,r,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}};W.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Nq(t,e,r){return e===0&&r===t.length?pw.fromByteArray(t):pw.fromByteArray(t.slice(e,r))}function lT(t,e,r){r=Math.min(t.length,r);let n=[],i=e;for(;i<r;){let s=t[i],o=null,a=s>239?4:s>223?3:s>191?2:1;if(i+a<=r){let u,l,f,d;switch(a){case 1:s<128&&(o=s);break;case 2:u=t[i+1],(u&192)===128&&(d=(s&31)<<6|u&63,d>127&&(o=d));break;case 3:u=t[i+1],l=t[i+2],(u&192)===128&&(l&192)===128&&(d=(s&15)<<12|(u&63)<<6|l&63,d>2047&&(d<55296||d>57343)&&(o=d));break;case 4:u=t[i+1],l=t[i+2],f=t[i+3],(u&192)===128&&(l&192)===128&&(f&192)===128&&(d=(s&15)<<18|(u&63)<<12|(l&63)<<6|f&63,d>65535&&d<1114112&&(o=d))}}o===null?(o=65533,a=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|o&1023),n.push(o),i+=a}return Oq(n)}var iT=4096;function Oq(t){let e=t.length;if(e<=iT)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=iT));return r}function Dq(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]&127);return n}function Pq(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function Rq(t,e,r){let n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let i="";for(let s=e;s<r;++s)i+=Vq[t[s]];return i}function Bq(t,e,r){let n=t.slice(e,r),i="";for(let s=0;s<n.length-1;s+=2)i+=String.fromCharCode(n[s]+n[s+1]*256);return i}W.prototype.slice=function(e,r){let n=this.length;e=~~e,r=r===void 0?n:~~r,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<e&&(r=e);let i=this.subarray(e,r);return Object.setPrototypeOf(i,W.prototype),i};function Nt(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}W.prototype.readUintLE=W.prototype.readUIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||Nt(e,r,this.length);let i=this[e],s=1,o=0;for(;++o<r&&(s*=256);)i+=this[e+o]*s;return i};W.prototype.readUintBE=W.prototype.readUIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||Nt(e,r,this.length);let i=this[e+--r],s=1;for(;r>0&&(s*=256);)i+=this[e+--r]*s;return i};W.prototype.readUint8=W.prototype.readUInt8=function(e,r){return e=e>>>0,r||Nt(e,1,this.length),this[e]};W.prototype.readUint16LE=W.prototype.readUInt16LE=function(e,r){return e=e>>>0,r||Nt(e,2,this.length),this[e]|this[e+1]<<8};W.prototype.readUint16BE=W.prototype.readUInt16BE=function(e,r){return e=e>>>0,r||Nt(e,2,this.length),this[e]<<8|this[e+1]};W.prototype.readUint32LE=W.prototype.readUInt32LE=function(e,r){return e=e>>>0,r||Nt(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};W.prototype.readUint32BE=W.prototype.readUInt32BE=function(e,r){return e=e>>>0,r||Nt(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};W.prototype.readBigUInt64LE=Ti(function(e){e=e>>>0,ka(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&Hc(e,this.length-8);let i=r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,s=this[++e]+this[++e]*2**8+this[++e]*2**16+n*2**24;return BigInt(i)+(BigInt(s)<<BigInt(32))});W.prototype.readBigUInt64BE=Ti(function(e){e=e>>>0,ka(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&Hc(e,this.length-8);let i=r*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],s=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n;return(BigInt(i)<<BigInt(32))+BigInt(s)});W.prototype.readIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||Nt(e,r,this.length);let i=this[e],s=1,o=0;for(;++o<r&&(s*=256);)i+=this[e+o]*s;return s*=128,i>=s&&(i-=Math.pow(2,8*r)),i};W.prototype.readIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||Nt(e,r,this.length);let i=r,s=1,o=this[e+--i];for(;i>0&&(s*=256);)o+=this[e+--i]*s;return s*=128,o>=s&&(o-=Math.pow(2,8*r)),o};W.prototype.readInt8=function(e,r){return e=e>>>0,r||Nt(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};W.prototype.readInt16LE=function(e,r){e=e>>>0,r||Nt(e,2,this.length);let n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};W.prototype.readInt16BE=function(e,r){e=e>>>0,r||Nt(e,2,this.length);let n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};W.prototype.readInt32LE=function(e,r){return e=e>>>0,r||Nt(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};W.prototype.readInt32BE=function(e,r){return e=e>>>0,r||Nt(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};W.prototype.readBigInt64LE=Ti(function(e){e=e>>>0,ka(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&Hc(e,this.length-8);let i=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(n<<24);return(BigInt(i)<<BigInt(32))+BigInt(r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)});W.prototype.readBigInt64BE=Ti(function(e){e=e>>>0,ka(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&Hc(e,this.length-8);let i=(r<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(i)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n)});W.prototype.readFloatLE=function(e,r){return e=e>>>0,r||Nt(e,4,this.length),Qa.read(this,e,!0,23,4)};W.prototype.readFloatBE=function(e,r){return e=e>>>0,r||Nt(e,4,this.length),Qa.read(this,e,!1,23,4)};W.prototype.readDoubleLE=function(e,r){return e=e>>>0,r||Nt(e,8,this.length),Qa.read(this,e,!0,52,8)};W.prototype.readDoubleBE=function(e,r){return e=e>>>0,r||Nt(e,8,this.length),Qa.read(this,e,!1,52,8)};function nr(t,e,r,n,i,s){if(!W.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<s)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}W.prototype.writeUintLE=W.prototype.writeUIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){let a=Math.pow(2,8*n)-1;nr(this,e,r,n,a,0)}let s=1,o=0;for(this[r]=e&255;++o<n&&(s*=256);)this[r+o]=e/s&255;return r+n};W.prototype.writeUintBE=W.prototype.writeUIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){let a=Math.pow(2,8*n)-1;nr(this,e,r,n,a,0)}let s=n-1,o=1;for(this[r+s]=e&255;--s>=0&&(o*=256);)this[r+s]=e/o&255;return r+n};W.prototype.writeUint8=W.prototype.writeUInt8=function(e,r,n){return e=+e,r=r>>>0,n||nr(this,e,r,1,255,0),this[r]=e&255,r+1};W.prototype.writeUint16LE=W.prototype.writeUInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||nr(this,e,r,2,65535,0),this[r]=e&255,this[r+1]=e>>>8,r+2};W.prototype.writeUint16BE=W.prototype.writeUInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||nr(this,e,r,2,65535,0),this[r]=e>>>8,this[r+1]=e&255,r+2};W.prototype.writeUint32LE=W.prototype.writeUInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||nr(this,e,r,4,4294967295,0),this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=e&255,r+4};W.prototype.writeUint32BE=W.prototype.writeUInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||nr(this,e,r,4,4294967295,0),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};function fT(t,e,r,n,i){yT(e,n,i,t,r,7);let s=Number(e&BigInt(4294967295));t[r++]=s,s=s>>8,t[r++]=s,s=s>>8,t[r++]=s,s=s>>8,t[r++]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=o,o=o>>8,t[r++]=o,o=o>>8,t[r++]=o,o=o>>8,t[r++]=o,r}function hT(t,e,r,n,i){yT(e,n,i,t,r,7);let s=Number(e&BigInt(4294967295));t[r+7]=s,s=s>>8,t[r+6]=s,s=s>>8,t[r+5]=s,s=s>>8,t[r+4]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=o,o=o>>8,t[r+2]=o,o=o>>8,t[r+1]=o,o=o>>8,t[r]=o,r+8}W.prototype.writeBigUInt64LE=Ti(function(e,r=0){return fT(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});W.prototype.writeBigUInt64BE=Ti(function(e,r=0){return hT(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});W.prototype.writeIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){let u=Math.pow(2,8*n-1);nr(this,e,r,n,u-1,-u)}let s=0,o=1,a=0;for(this[r]=e&255;++s<n&&(o*=256);)e<0&&a===0&&this[r+s-1]!==0&&(a=1),this[r+s]=(e/o>>0)-a&255;return r+n};W.prototype.writeIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){let u=Math.pow(2,8*n-1);nr(this,e,r,n,u-1,-u)}let s=n-1,o=1,a=0;for(this[r+s]=e&255;--s>=0&&(o*=256);)e<0&&a===0&&this[r+s+1]!==0&&(a=1),this[r+s]=(e/o>>0)-a&255;return r+n};W.prototype.writeInt8=function(e,r,n){return e=+e,r=r>>>0,n||nr(this,e,r,1,127,-128),e<0&&(e=255+e+1),this[r]=e&255,r+1};W.prototype.writeInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||nr(this,e,r,2,32767,-32768),this[r]=e&255,this[r+1]=e>>>8,r+2};W.prototype.writeInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||nr(this,e,r,2,32767,-32768),this[r]=e>>>8,this[r+1]=e&255,r+2};W.prototype.writeInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||nr(this,e,r,4,2147483647,-2147483648),this[r]=e&255,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24,r+4};W.prototype.writeInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||nr(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};W.prototype.writeBigInt64LE=Ti(function(e,r=0){return fT(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});W.prototype.writeBigInt64BE=Ti(function(e,r=0){return hT(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function dT(t,e,r,n,i,s){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function pT(t,e,r,n,i){return e=+e,r=r>>>0,i||dT(t,e,r,4,34028234663852886e22,-34028234663852886e22),Qa.write(t,e,r,n,23,4),r+4}W.prototype.writeFloatLE=function(e,r,n){return pT(this,e,r,!0,n)};W.prototype.writeFloatBE=function(e,r,n){return pT(this,e,r,!1,n)};function gT(t,e,r,n,i){return e=+e,r=r>>>0,i||dT(t,e,r,8,17976931348623157e292,-17976931348623157e292),Qa.write(t,e,r,n,52,8),r+8}W.prototype.writeDoubleLE=function(e,r,n){return gT(this,e,r,!0,n)};W.prototype.writeDoubleBE=function(e,r,n){return gT(this,e,r,!1,n)};W.prototype.copy=function(e,r,n,i){if(!W.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),!i&&i!==0&&(i=this.length),r>=e.length&&(r=e.length),r||(r=0),i>0&&i<n&&(i=n),i===n||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-r<i-n&&(i=e.length-r+n);let s=i-n;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,n,i):Uint8Array.prototype.set.call(e,this.subarray(n,i),r),s};W.prototype.fill=function(e,r,n,i){if(typeof e=="string"){if(typeof r=="string"?(i=r,r=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!W.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(e.length===1){let o=e.charCodeAt(0);(i==="utf8"&&o<128||i==="latin1")&&(e=o)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);let s;if(typeof e=="number")for(s=r;s<n;++s)this[s]=e;else{let o=W.isBuffer(e)?e:W.from(e,i),a=o.length;if(a===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(s=0;s<n-r;++s)this[s+r]=o[s%a]}return this};var Ga={};function vw(t,e,r){Ga[t]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(i){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:i,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}vw("ERR_BUFFER_OUT_OF_BOUNDS",function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);vw("ERR_INVALID_ARG_TYPE",function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`},TypeError);vw("ERR_OUT_OF_RANGE",function(t,e,r){let n=`The value of "${t}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=sT(String(r)):typeof r=="bigint"&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=sT(i)),i+="n"),n+=` It must be ${e}. Received ${i}`,n},RangeError);function sT(t){let e="",r=t.length,n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function Lq(t,e,r){ka(e,"offset"),(t[e]===void 0||t[e+r]===void 0)&&Hc(e,t.length-(r+1))}function yT(t,e,r,n,i,s){if(t>r||t<e){let o=typeof e=="bigint"?"n":"",a;throw s>3?e===0||e===BigInt(0)?a=`>= 0${o} and < 2${o} ** ${(s+1)*8}${o}`:a=`>= -(2${o} ** ${(s+1)*8-1}${o}) and < 2 ** ${(s+1)*8-1}${o}`:a=`>= ${e}${o} and <= ${r}${o}`,new Ga.ERR_OUT_OF_RANGE("value",a,t)}Lq(n,i,s)}function ka(t,e){if(typeof t!="number")throw new Ga.ERR_INVALID_ARG_TYPE(e,"number",t)}function Hc(t,e,r){throw Math.floor(t)!==t?(ka(t,r),new Ga.ERR_OUT_OF_RANGE(r||"offset","an integer",t)):e<0?new Ga.ERR_BUFFER_OUT_OF_BOUNDS:new Ga.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}var Fq=/[^+/0-9A-Za-z-_]/g;function Mq(t){if(t=t.split("=")[0],t=t.trim().replace(Fq,""),t.length<2)return"";for(;t.length%4!==0;)t=t+"=";return t}function mw(t,e){e=e||1/0;let r,n=t.length,i=null,s=[];for(let o=0;o<n;++o){if(r=t.charCodeAt(o),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(o+1===n){(e-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&s.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(e-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;s.push(r)}else if(r<2048){if((e-=2)<0)break;s.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;s.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return s}function Uq(t){let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r)&255);return e}function qq(t,e){let r,n,i,s=[];for(let o=0;o<t.length&&!((e-=2)<0);++o)r=t.charCodeAt(o),n=r>>8,i=r%256,s.push(i),s.push(n);return s}function mT(t){return pw.toByteArray(Mq(t))}function Gh(t,e,r,n){let i;for(i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function dn(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function Aw(t){return t!==t}var Vq=function(){let t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){let n=r*16;for(let i=0;i<16;++i)e[n+i]=t[r]+t[i]}return e}();function Ti(t){return typeof BigInt>"u"?jq:t}function jq(){throw new Error("BigInt not supported")}});var ET=w((ese,wT)=>{c();wT.exports=bw;bw.supported=typeof WebAssembly<"u";function bw(t){if(!bw.supported)return null;var e=t&&t.imports,r=Hq("AGFzbQEAAAABEANgAn9/AGADf39/AGABfwADBQQAAQICBQUBAQroBwdNBQZtZW1vcnkCAAxibGFrZTJiX2luaXQAAA5ibGFrZTJiX3VwZGF0ZQABDWJsYWtlMmJfZmluYWwAAhBibGFrZTJiX2NvbXByZXNzAAMK00AElgMAIABCADcDACAAQQhqQgA3AwAgAEEQakIANwMAIABBGGpCADcDACAAQSBqQgA3AwAgAEEoakIANwMAIABBMGpCADcDACAAQThqQgA3AwAgAEHAAGpCADcDACAAQcgAakIANwMAIABB0ABqQgA3AwAgAEHYAGpCADcDACAAQeAAakIANwMAIABB6ABqQgA3AwAgAEHwAGpCADcDACAAQfgAakIANwMAIABBgAFqQoiS853/zPmE6gBBACkDAIU3AwAgAEGIAWpCu86qptjQ67O7f0EIKQMAhTcDACAAQZABakKr8NP0r+68tzxBECkDAIU3AwAgAEGYAWpC8e30+KWn/aelf0EYKQMAhTcDACAAQaABakLRhZrv+s+Uh9EAQSApAwCFNwMAIABBqAFqQp/Y+dnCkdqCm39BKCkDAIU3AwAgAEGwAWpC6/qG2r+19sEfQTApAwCFNwMAIABBuAFqQvnC+JuRo7Pw2wBBOCkDAIU3AwAgAEHAAWpCADcDACAAQcgBakIANwMAIABB0AFqQgA3AwALbQEDfyAAQcABaiEDIABByAFqIQQgBCkDAKchBQJAA0AgASACRg0BIAVBgAFGBEAgAyADKQMAIAWtfDcDAEEAIQUgABADCyAAIAVqIAEtAAA6AAAgBUEBaiEFIAFBAWohAQwACwsgBCAFrTcDAAtkAQN/IABBwAFqIQEgAEHIAWohAiABIAEpAwAgAikDAHw3AwAgAEHQAWpCfzcDACACKQMApyEDAkADQCADQYABRg0BIAAgA2pBADoAACADQQFqIQMMAAsLIAIgA603AwAgABADC+U7AiB+CX8gAEGAAWohISAAQYgBaiEiIABBkAFqISMgAEGYAWohJCAAQaABaiElIABBqAFqISYgAEGwAWohJyAAQbgBaiEoICEpAwAhASAiKQMAIQIgIykDACEDICQpAwAhBCAlKQMAIQUgJikDACEGICcpAwAhByAoKQMAIQhCiJLznf/M+YTqACEJQrvOqqbY0Ouzu38hCkKr8NP0r+68tzwhC0Lx7fT4paf9p6V/IQxC0YWa7/rPlIfRACENQp/Y+dnCkdqCm38hDkLr+obav7X2wR8hD0L5wvibkaOz8NsAIRAgACkDACERIABBCGopAwAhEiAAQRBqKQMAIRMgAEEYaikDACEUIABBIGopAwAhFSAAQShqKQMAIRYgAEEwaikDACEXIABBOGopAwAhGCAAQcAAaikDACEZIABByABqKQMAIRogAEHQAGopAwAhGyAAQdgAaikDACEcIABB4ABqKQMAIR0gAEHoAGopAwAhHiAAQfAAaikDACEfIABB+ABqKQMAISAgDSAAQcABaikDAIUhDSAPIABB0AFqKQMAhSEPIAEgBSARfHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgEnx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBN8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAUfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgFXx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIBZ8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAXfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggGHx8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBl8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAafHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgG3x8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBx8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAdfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggHnx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIB98fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAgfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgH3x8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBt8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAVfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgGXx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBp8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAgfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggHnx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBd8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiASfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgHXx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBF8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByATfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggHHx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBh8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAWfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgFHx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIBx8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAZfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgHXx8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBF8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAWfHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgE3x8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIICB8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAefHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgG3x8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIB98fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAUfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgF3x8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBh8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCASfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgGnx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBV8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAYfHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgGnx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBR8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiASfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgHnx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIB18fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAcfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggH3x8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBN8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAXfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgFnx8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBt8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAVfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggEXx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFICB8fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAZfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgGnx8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBF8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAWfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgGHx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBN8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAVfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggG3x8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIICB8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAffHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgEnx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBx8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAdfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggF3x8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBl8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAUfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgHnx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIBN8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAdfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgF3x8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBt8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByARfHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgHHx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBl8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAUfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgFXx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIB58fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAYfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgFnx8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIICB8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCAffHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgEnx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBp8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAdfHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgFnx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBJ8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAgfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgH3x8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIB58fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAVfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggG3x8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBF8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAYfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgF3x8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBR8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAafHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggE3x8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIBl8fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAcfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgHnx8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBx8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAYfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgH3x8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIB18fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByASfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggFHx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBp8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAWfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgEXx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHICB8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAVfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggGXx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBd8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSATfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgG3x8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIBd8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAgfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgH3x8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBp8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAcfHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgFHx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBF8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAZfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgHXx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIBN8fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAefHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgGHx8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBJ8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCAVfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgG3x8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBZ8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAbfHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgE3x8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBl8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAVfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgGHx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIBd8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCASfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggFnx8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGICB8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAcfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgGnx8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIB98fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAUfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggHXx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIB58fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSARfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgEXx8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBJ8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiATfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgFHx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBV8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAWfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggF3x8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBh8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAZfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgGnx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBt8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAcfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggHXx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIB58fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAffHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgIHx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIB98fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAbfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgFXx8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBl8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAafHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgIHx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIB58fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAXfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgEnx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIB18fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByARfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgE3x8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBx8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCAYfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgFnx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBR8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFICEgISkDACABIAmFhTcDACAiICIpAwAgAiAKhYU3AwAgIyAjKQMAIAMgC4WFNwMAICQgJCkDACAEIAyFhTcDACAlICUpAwAgBSANhYU3AwAgJiAmKQMAIAYgDoWFNwMAICcgJykDACAHIA+FhTcDACAoICgpAwAgCCAQhYU3AwAL"),n=null,i={buffer:r,memory:null,exports:null,realloc:s,onload:o};return o(function(){}),i;function s(u){i.exports.memory.grow(Math.ceil(Math.abs(u-i.memory.length)/65536)),i.memory=new Uint8Array(i.exports.memory.buffer)}function o(u){if(i.exports)return u();if(n){n.then(u.bind(null,null)).catch(u);return}try{if(t&&t.async)throw new Error("async");a({instance:new WebAssembly.Instance(new WebAssembly.Module(r),e)})}catch{n=WebAssembly.instantiate(r,e).then(a)}o(u)}function a(u){i.exports=u.instance.exports,i.memory=i.exports.memory&&i.exports.memory.buffer&&new Uint8Array(i.exports.memory.buffer)}}function Hq(t){return typeof atob=="function"?new Uint8Array(atob(t).split("").map(Gq)):new(Wa()).Buffer(t,"base64")}function Gq(t){return t.charCodeAt(0)}});var CT=w((ise,gn)=>{c();var pn=dw(),ze=ET()(),kn=64,Qh=[];gn.exports=_r;var vT=gn.exports.BYTES_MIN=16,AT=gn.exports.BYTES_MAX=64,rse=gn.exports.BYTES=32,bT=gn.exports.KEYBYTES_MIN=16,_T=gn.exports.KEYBYTES_MAX=64,nse=gn.exports.KEYBYTES=32,IT=gn.exports.SALTBYTES=16,ST=gn.exports.PERSONALBYTES=16;function _r(t,e,r,n,i){if(!(this instanceof _r))return new _r(t,e,r,n,i);if(!(ze&&ze.exports))throw new Error("WASM not loaded. Wait for Blake2b.ready(cb)");t||(t=32),i!==!0&&(pn(t>=vT,"digestLength must be at least "+vT+", was given "+t),pn(t<=AT,"digestLength must be at most "+AT+", was given "+t),e!=null&&pn(e.length>=bT,"key must be at least "+bT+", was given "+e.length),e!=null&&pn(e.length<=_T,"key must be at least "+_T+", was given "+e.length),r!=null&&pn(r.length===IT,"salt must be exactly "+IT+", was given "+r.length),n!=null&&pn(n.length===ST,"personal must be exactly "+ST+", was given "+n.length)),Qh.length||(Qh.push(kn),kn+=216),this.digestLength=t,this.finalized=!1,this.pointer=Qh.pop(),ze.memory.fill(0,0,64),ze.memory[0]=this.digestLength,ze.memory[1]=e?e.length:0,ze.memory[2]=1,ze.memory[3]=1,r&&ze.memory.set(r,32),n&&ze.memory.set(n,48),this.pointer+216>ze.memory.length&&ze.realloc(this.pointer+216),ze.exports.blake2b_init(this.pointer,this.digestLength),e&&(this.update(e),ze.memory.fill(0,kn,kn+e.length),ze.memory[this.pointer+200]=128)}_r.prototype.update=function(t){return pn(this.finalized===!1,"Hash instance finalized"),pn(t,"input must be TypedArray or Buffer"),kn+t.length>ze.memory.length&&ze.realloc(kn+t.length),ze.memory.set(t,kn),ze.exports.blake2b_update(this.pointer,kn,kn+t.length),this};_r.prototype.digest=function(t){if(pn(this.finalized===!1,"Hash instance finalized"),this.finalized=!0,Qh.push(this.pointer),ze.exports.blake2b_final(this.pointer),!t||t==="binary")return ze.memory.slice(this.pointer+128,this.pointer+128+this.digestLength);if(t==="hex")return kq(ze.memory,this.pointer+128,this.digestLength);pn(t.length>=this.digestLength,"input must be TypedArray or Buffer");for(var e=0;e<this.digestLength;e++)t[e]=ze.memory[this.pointer+128+e];return t};_r.prototype.final=_r.prototype.digest;_r.WASM=ze&&ze.buffer;_r.SUPPORTED=typeof WebAssembly<"u";_r.ready=function(t){if(t||(t=Qq),!ze)return t(new Error("WebAssembly not supported"));var e=new Promise(function(r,n){ze.onload(function(i){i?n():r(),t(i)})});return e};_r.prototype.ready=_r.ready;function Qq(){}function kq(t,e,r){for(var n="",i=0;i<r;i++)n+=zq(t[e+i]);return n}function zq(t){return t<16?"0"+t.toString(16):t.toString(16)}});var qT=w((use,ir)=>{c();var Oi=dw(),Qc=CT();function kh(t,e,r){var n=t[e]+t[r],i=t[e+1]+t[r+1];n>=4294967296&&i++,t[e]=n,t[e+1]=i}function TT(t,e,r,n){var i=t[e]+r;r<0&&(i+=4294967296);var s=t[e+1]+n;i>=4294967296&&s++,t[e]=i,t[e+1]=s}function BT(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function xi(t,e,r,n,i,s){var o=Gc[i],a=Gc[i+1],u=Gc[s],l=Gc[s+1];kh(Se,t,e),TT(Se,t,o,a);var f=Se[n]^Se[t],d=Se[n+1]^Se[t+1];Se[n]=d,Se[n+1]=f,kh(Se,r,n),f=Se[e]^Se[r],d=Se[e+1]^Se[r+1],Se[e]=f>>>24^d<<8,Se[e+1]=d>>>24^f<<8,kh(Se,t,e),TT(Se,t,u,l),f=Se[n]^Se[t],d=Se[n+1]^Se[t+1],Se[n]=f>>>16^d<<16,Se[n+1]=d>>>16^f<<16,kh(Se,r,n),f=Se[e]^Se[r],d=Se[e+1]^Se[r+1],Se[e]=d>>>31^f<<1,Se[e+1]=f>>>31^d<<1}var LT=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),Wq=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],kt=new Uint8Array(Wq.map(function(t){return t*2})),Se=new Uint32Array(32),Gc=new Uint32Array(32);function FT(t,e){var r=0;for(r=0;r<16;r++)Se[r]=t.h[r],Se[r+16]=LT[r];for(Se[24]=Se[24]^t.t,Se[25]=Se[25]^t.t/4294967296,e&&(Se[28]=~Se[28],Se[29]=~Se[29]),r=0;r<32;r++)Gc[r]=BT(t.b,4*r);for(r=0;r<12;r++)xi(0,8,16,24,kt[r*16+0],kt[r*16+1]),xi(2,10,18,26,kt[r*16+2],kt[r*16+3]),xi(4,12,20,28,kt[r*16+4],kt[r*16+5]),xi(6,14,22,30,kt[r*16+6],kt[r*16+7]),xi(0,10,20,30,kt[r*16+8],kt[r*16+9]),xi(2,12,22,24,kt[r*16+10],kt[r*16+11]),xi(4,14,16,26,kt[r*16+12],kt[r*16+13]),xi(6,8,18,28,kt[r*16+14],kt[r*16+15]);for(r=0;r<16;r++)t.h[r]=t.h[r]^Se[r]^Se[r+16]}var Ni=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function Ka(t,e,r,n){Ni.fill(0),this.b=new Uint8Array(128),this.h=new Uint32Array(16),this.t=0,this.c=0,this.outlen=t,Ni[0]=t,e&&(Ni[1]=e.length),Ni[2]=1,Ni[3]=1,r&&Ni.set(r,32),n&&Ni.set(n,48);for(var i=0;i<16;i++)this.h[i]=LT[i]^BT(Ni,i*4);e&&(MT(this,e),this.c=128)}Ka.prototype.update=function(t){return Oi(t!=null,"input must be Uint8Array or Buffer"),MT(this,t),this};Ka.prototype.digest=function(t){var e=!t||t==="binary"||t==="hex"?new Uint8Array(this.outlen):t;return Oi(e.length>=this.outlen,"out must have at least outlen bytes of space"),Kq(this,e),t==="hex"?$q(e):e};Ka.prototype.final=Ka.prototype.digest;Ka.ready=function(t){Qc.ready(function(){t()})};function MT(t,e){for(var r=0;r<e.length;r++)t.c===128&&(t.t+=t.c,FT(t,!1),t.c=0),t.b[t.c++]=e[r]}function Kq(t,e){for(t.t+=t.c;t.c<128;)t.b[t.c++]=0;FT(t,!0);for(var r=0;r<t.outlen;r++)e[r]=t.h[r>>2]>>8*(r&3);return e}function $q(t){for(var e="",r=0;r<t.length;r++)e+=Yq(t[r]);return e}function Yq(t){return t<16?"0"+t.toString(16):t.toString(16)}var UT=Ka;ir.exports=function(e,r,n,i,s){return s!==!0&&(Oi(e>=xT,"outlen must be at least "+xT+", was given "+e),Oi(e<=NT,"outlen must be at most "+NT+", was given "+e),r!=null&&Oi(r.length>=OT,"key must be at least "+OT+", was given "+r.length),r!=null&&Oi(r.length<=DT,"key must be at most "+DT+", was given "+r.length),n!=null&&Oi(n.length===PT,"salt must be exactly "+PT+", was given "+n.length),i!=null&&Oi(i.length===RT,"personal must be exactly "+RT+", was given "+i.length)),new UT(e,r,n,i)};ir.exports.ready=function(t){Qc.ready(function(){t()})};ir.exports.WASM_SUPPORTED=Qc.SUPPORTED;ir.exports.WASM_LOADED=!1;var xT=ir.exports.BYTES_MIN=16,NT=ir.exports.BYTES_MAX=64,ose=ir.exports.BYTES=32,OT=ir.exports.KEYBYTES_MIN=16,DT=ir.exports.KEYBYTES_MAX=64,ase=ir.exports.KEYBYTES=32,PT=ir.exports.SALTBYTES=16,RT=ir.exports.PERSONALBYTES=16;Qc.ready(function(t){t||(ir.exports.WASM_LOADED=!0,UT=Qc)})});var Wc=w(Ir=>{"use strict";c();var Jq=Ir&&Ir.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Xq=Ir&&Ir.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Zq=Ir&&Ir.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Jq(e,t,r);return Xq(e,t),e};Object.defineProperty(Ir,"__esModule",{value:!0});Ir.TransactionHash=Ir.Transaction=void 0;var $a=Yt(),kc=tr(),eV=Lh(),tV=Go(),rV=Zq(je()),nV=KS(),zn=YS(),iV=JC(),VT=eT(),jT=jc(),sV=gr(),oV=qT(),aV=32,zc=class{constructor({nonce:e,value:r,receiver:n,sender:i,gasPrice:s,gasLimit:o,data:a,chainID:u,version:l,options:f,guardian:d}){this.nonce=e||0,this.value=r?new $a.BigNumber(r.toString()).toFixed(0):0,this.sender=i,this.receiver=n,this.gasPrice=s||tV.TRANSACTION_MIN_GAS_PRICE,this.gasLimit=o,this.data=a||new jT.TransactionPayload,this.chainID=u,this.version=l?new zn.TransactionVersion(l.valueOf()):zn.TransactionVersion.withDefaultVersion(),this.options=f?new zn.TransactionOptions(f.valueOf()):zn.TransactionOptions.withDefaultOptions(),this.guardian=d||kc.Address.empty(),this.signature=h.Buffer.from([]),this.guardianSignature=h.Buffer.from([]),this.hash=Di.empty()}getNonce(){return this.nonce}setNonce(e){this.nonce=e}getValue(){return this.value}setValue(e){this.value=e}getSender(){return this.sender}setSender(e){this.sender=e}getReceiver(){return this.receiver}getGuardian(){return this.guardian}getGasPrice(){return this.gasPrice}setGasPrice(e){this.gasPrice=e}getGasLimit(){return this.gasLimit}setGasLimit(e){this.gasLimit=e}getData(){return this.data}getChainID(){return this.chainID}setChainID(e){this.chainID=e}getVersion(){return this.version}setVersion(e){this.version=new zn.TransactionVersion(e.valueOf())}getOptions(){return new zn.TransactionOptions(this.options.valueOf())}setOptions(e){this.options=new zn.TransactionOptions(e.valueOf())}getSignature(){return this.signature}getGuardianSignature(){return this.guardianSignature}setGuardian(e){this.guardian=e}getHash(){return sV.guardNotEmpty(this.hash,"hash"),this.hash}serializeForSigning(){let e=this.toPlainObject();e.signature&&delete e.signature,e.guardianSignature&&delete e.guardianSignature,e.guardian||delete e.guardian;let r=JSON.stringify(e);return h.Buffer.from(r)}isGuardedTransaction(){let e=this.guardian.bech32().length>0,r=this.guardianSignature.length>0;return this.getOptions().isWithGuardian()&&e&&r}toPlainObject(){var e;let r={nonce:this.nonce.valueOf(),value:this.value.toString(),receiver:this.receiver.bech32(),sender:this.sender.bech32(),gasPrice:this.gasPrice.valueOf(),gasLimit:this.gasLimit.valueOf(),data:this.data.length()==0?void 0:this.data.encoded(),chainID:this.chainID.valueOf(),version:this.version.valueOf(),options:this.options.valueOf()==0?void 0:this.options.valueOf(),guardian:!((e=this.guardian)===null||e===void 0)&&e.bech32()?this.guardian.bech32()==""?void 0:this.guardian.bech32():void 0,signature:this.signature.toString("hex")?this.signature.toString("hex"):void 0,guardianSignature:this.guardianSignature.toString("hex")?this.guardianSignature.toString("hex"):void 0};return eV.Compatibility.guardAddressIsSetAndNonZero(new kc.Address(r.sender),"'sender' of transaction","pass the actual sender to the Transaction constructor"),r}static fromPlainObject(e){let r=new zc({nonce:Number(e.nonce),value:new $a.BigNumber(e.value).toFixed(0),receiver:kc.Address.fromString(e.receiver),sender:kc.Address.fromString(e.sender),guardian:e.guardian==null?void 0:kc.Address.fromString(e.guardian||""),gasPrice:Number(e.gasPrice),gasLimit:Number(e.gasLimit),data:new jT.TransactionPayload(h.Buffer.from(e.data||"","base64")),chainID:String(e.chainID),version:new zn.TransactionVersion(e.version),options:e.options==null?void 0:new zn.TransactionOptions(e.options)});return e.signature&&r.applySignature(new VT.Signature(e.signature)),e.guardianSignature&&r.applyGuardianSignature(new VT.Signature(e.guardianSignature)),r}applySignature(e){e instanceof h.Buffer?this.signature=e:this.signature=h.Buffer.from(e.hex(),"hex"),this.hash=Di.compute(this)}applyGuardianSignature(e){e instanceof h.Buffer?this.guardianSignature=e:this.guardianSignature=h.Buffer.from(e.hex(),"hex"),this.hash=Di.compute(this)}toSendable(){return this.toPlainObject()}computeFee(e){let r=e.MinGasLimit.valueOf()+this.data.length()*e.GasPerDataByte.valueOf();if(r>this.gasLimit.valueOf())throw new rV.ErrNotEnoughGas(this.gasLimit.valueOf());let n=new $a.BigNumber(this.gasPrice.valueOf()),i=new $a.BigNumber(r).multipliedBy(n);if(r===this.gasLimit.valueOf())return i;let s=new $a.BigNumber(this.gasLimit.valueOf()-r),o=n.multipliedBy(new $a.BigNumber(e.GasPriceModifier.valueOf())),a=s.multipliedBy(o);return i.plus(a)}};Ir.Transaction=zc;var Di=class extends nV.Hash{constructor(e){super(e)}static compute(e){let n=new iV.ProtoSerializer().serializeTransaction(e),i=oV(aV).update(n).digest("hex");return new Di(i)}};Ir.TransactionHash=Di});var HT=w(Wh=>{"use strict";c();Object.defineProperty(Wh,"__esModule",{value:!0});Wh.TransferTransactionsFactory=void 0;var _w=Ph(),qr=Tt(),zh=Wc(),Iw=jc(),Sw=class{constructor(e){this.gasEstimator=e}createEGLDTransfer(e){var r;let n=((r=e.data)===null||r===void 0?void 0:r.length())||0,i=this.gasEstimator.forEGLDTransfer(n);return new zh.Transaction({nonce:e.nonce,value:e.value,receiver:e.receiver,sender:e.sender,gasPrice:e.gasPrice,gasLimit:e.gasLimit||i,data:e.data,chainID:e.chainID})}createESDTTransfer(e){let{argumentsString:r}=new _w.ArgSerializer().valuesToString([qr.BytesValue.fromUTF8(e.tokenTransfer.tokenIdentifier),new qr.BigUIntValue(e.tokenTransfer.valueOf())]),n=`ESDTTransfer@${r}`,i=new Iw.TransactionPayload(n),s=i.length()||0,o=this.gasEstimator.forESDTTransfer(s);return new zh.Transaction({nonce:e.nonce,receiver:e.receiver,sender:e.sender,gasPrice:e.gasPrice,gasLimit:e.gasLimit||o,data:i,chainID:e.chainID})}createESDTNFTTransfer(e){let{argumentsString:r}=new _w.ArgSerializer().valuesToString([qr.BytesValue.fromUTF8(e.tokenTransfer.tokenIdentifier),new qr.U64Value(e.tokenTransfer.nonce),new qr.BigUIntValue(e.tokenTransfer.valueOf()),new qr.AddressValue(e.destination)]),n=`ESDTNFTTransfer@${r}`,i=new Iw.TransactionPayload(n),s=i.length()||0,o=this.gasEstimator.forESDTNFTTransfer(s);return new zh.Transaction({nonce:e.nonce,receiver:e.sender,sender:e.sender,gasPrice:e.gasPrice,gasLimit:e.gasLimit||o,data:i,chainID:e.chainID})}createMultiESDTNFTTransfer(e){let r=[new qr.AddressValue(e.destination),new qr.U16Value(e.tokenTransfers.length)];for(let u of e.tokenTransfers)r.push(qr.BytesValue.fromUTF8(u.tokenIdentifier),new qr.U64Value(u.nonce),new qr.BigUIntValue(u.valueOf()));let{argumentsString:n}=new _w.ArgSerializer().valuesToString(r),i=`MultiESDTNFTTransfer@${n}`,s=new Iw.TransactionPayload(i),o=s.length()||0,a=this.gasEstimator.forMultiESDTNFTTransfer(o,e.tokenTransfers.length);return new zh.Transaction({nonce:e.nonce,receiver:e.sender,sender:e.sender,gasPrice:e.gasPrice,gasLimit:e.gasLimit||a,data:s,chainID:e.chainID})}};Wh.TransferTransactionsFactory=Sw});var QT=w(Zs=>{"use strict";c();Object.defineProperty(Zs,"__esModule",{value:!0});Zs.GasEstimator=Zs.DefaultGasConfiguration=void 0;Zs.DefaultGasConfiguration={minGasLimit:5e4,gasPerDataByte:1500,gasCostESDTTransfer:2e5,gasCostESDTNFTTransfer:2e5,gasCostESDTNFTMultiTransfer:2e5};var uV=1e5,GT=8e5,Cw=class{constructor(e){this.gasConfiguration=e||Zs.DefaultGasConfiguration}forEGLDTransfer(e){return this.gasConfiguration.minGasLimit+this.gasConfiguration.gasPerDataByte*e}forESDTTransfer(e){return this.gasConfiguration.minGasLimit+this.gasConfiguration.gasCostESDTTransfer+this.gasConfiguration.gasPerDataByte*e+uV}forESDTNFTTransfer(e){return this.gasConfiguration.minGasLimit+this.gasConfiguration.gasCostESDTNFTTransfer+this.gasConfiguration.gasPerDataByte*e+GT}forMultiESDTNFTTransfer(e,r){return this.gasConfiguration.minGasLimit+(this.gasConfiguration.gasCostESDTNFTMultiTransfer+GT)*r+this.gasConfiguration.gasPerDataByte*e}};Zs.GasEstimator=Cw});var $h=w(Kh=>{"use strict";c();Object.defineProperty(Kh,"__esModule",{value:!0});Kh.Account=void 0;var cV=tr(),Tw=class{constructor(e){this.address=new cV.Address,this.nonce=0,this.balance="0",this.address=e}update(e){this.nonce=e.nonce,this.balance=e.balance}incrementNonce(){this.nonce=this.nonce.valueOf()+1}getNonceThenIncrement(){let e=this.nonce;return this.nonce=this.nonce.valueOf()+1,e}toJSON(){return{address:this.address.bech32(),nonce:this.nonce.valueOf(),balance:this.balance.toString()}}};Kh.Account=Tw});var xw=w(to=>{"use strict";c();Object.defineProperty(to,"__esModule",{value:!0});to.Logger=to.LogLevel=void 0;var eo;(function(t){t[t.Trace=0]="Trace",t[t.Debug=1]="Debug",t[t.Info=2]="Info",t[t.Warn=3]="Warn",t[t.Error=4]="Error",t[t.None=5]="None"})(eo=to.LogLevel||(to.LogLevel={}));var Vr=class{static setLevel(e){Vr.logLevel=e}static trace(e,...r){Vr.logLevel>=eo.Debug||console.debug(e,r)}static debug(e,...r){Vr.logLevel>=eo.Debug||console.debug(e,r)}static info(e,...r){Vr.logLevel>=eo.Info||console.log(e,r)}static warn(e,...r){Vr.logLevel>=eo.Warn||console.warn(e,r)}static error(e,...r){Vr.logLevel>=eo.Error||console.error(e,r)}};to.Logger=Vr;Vr.logLevel=eo.Debug});var kT=w(yn=>{"use strict";c();var lV=yn&&yn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),fV=yn&&yn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),hV=yn&&yn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&lV(e,t,r);return fV(e,t),e};Object.defineProperty(yn,"__esModule",{value:!0});yn.AsyncTimer=void 0;var dV=hV(je()),pV=je(),Nw=xw(),Ow=class{constructor(e){this.timeoutHandle=null,this.rejectionFunc=null,this.name=e,this.correlationTag=0}start(e){if(this.timeoutHandle)throw new dV.ErrAsyncTimerAlreadyRunning;return this.correlationTag++,Nw.Logger.trace(`AsyncTimer[${this.name}'${this.correlationTag}].start()`),new Promise((r,n)=>{this.rejectionFunc=n;let i=()=>{this.rejectionFunc=null,this.stop(),r()};this.timeoutHandle=setTimeout(i,e)})}abort(){Nw.Logger.trace(`AsyncTimer[${this.name}'${this.correlationTag}].abort()`),this.rejectionFunc&&(this.rejectionFunc(new pV.ErrAsyncTimerAborted),this.rejectionFunc=null),this.stop()}stop(){this.isStopped()||(Nw.Logger.trace(`AsyncTimer[${this.name}'${this.correlationTag}].stop()`),this.timeoutHandle&&(clearTimeout(this.timeoutHandle),this.timeoutHandle=null))}isStopped(){return!this.timeoutHandle}};yn.AsyncTimer=Ow});var Rw=w(Ja=>{"use strict";c();var Sr=Ja&&Ja.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(f){try{l(n.next(f))}catch(d){o(d)}}function u(f){try{l(n.throw(f))}catch(d){o(d)}}function l(f){f.done?s(f.value):i(f.value).then(a,u)}l((n=n.apply(t,e||[])).next())})};Object.defineProperty(Ja,"__esModule",{value:!0});Ja.TransactionWatcher=void 0;var Dw=kT(),Ya=je(),zT=xw(),Cr=class{constructor(e,r={}){this.fetcher=new Pw(e),this.pollingIntervalMilliseconds=r.pollingIntervalMilliseconds||Cr.DefaultPollingInterval,this.timeoutMilliseconds=r.timeoutMilliseconds||Cr.DefaultTimeout,this.patienceMilliseconds=r.patienceMilliseconds||Cr.DefaultPatience}awaitPending(e){return Sr(this,void 0,void 0,function*(){let r=s=>s.status.isPending(),n=()=>Sr(this,void 0,void 0,function*(){return yield this.fetcher.getTransaction(e.getHash().hex())}),i=()=>new Ya.ErrExpectedTransactionStatusNotReached;return this.awaitConditionally(r,n,i)})}awaitCompleted(e){return Sr(this,void 0,void 0,function*(){let r=s=>s.isCompleted,n=()=>Sr(this,void 0,void 0,function*(){return yield this.fetcher.getTransaction(e.getHash().hex())}),i=()=>new Ya.ErrExpectedTransactionStatusNotReached;return this.awaitConditionally(r,n,i)})}awaitAllEvents(e,r){return Sr(this,void 0,void 0,function*(){let n=o=>{let a=this.getAllTransactionEvents(o).map(l=>l.identifier);return r.every(l=>a.includes(l))},i=()=>Sr(this,void 0,void 0,function*(){return yield this.fetcher.getTransaction(e.getHash().hex())}),s=()=>new Ya.ErrExpectedTransactionEventsNotFound;return this.awaitConditionally(n,i,s)})}awaitAnyEvent(e,r){return Sr(this,void 0,void 0,function*(){let n=o=>{let a=this.getAllTransactionEvents(o).map(l=>l.identifier);return r.find(l=>a.includes(l))!=null},i=()=>Sr(this,void 0,void 0,function*(){return yield this.fetcher.getTransaction(e.getHash().hex())}),s=()=>new Ya.ErrExpectedTransactionEventsNotFound;return this.awaitConditionally(n,i,s)})}awaitOnCondition(e,r){return Sr(this,void 0,void 0,function*(){let n=()=>Sr(this,void 0,void 0,function*(){return yield this.fetcher.getTransaction(e.getHash().hex())}),i=()=>new Ya.ErrExpectedTransactionStatusNotReached;return this.awaitConditionally(r,n,i)})}awaitConditionally(e,r,n){return Sr(this,void 0,void 0,function*(){let i=new Dw.AsyncTimer("watcher:periodic"),s=new Dw.AsyncTimer("watcher:patience"),o=new Dw.AsyncTimer("watcher:timeout"),a=!1,u,l=!1;for(o.start(this.timeoutMilliseconds).finally(()=>{o.stop(),a=!0});!a;){yield i.start(this.pollingIntervalMilliseconds);try{if(u=yield r(),l=e(u),l||a)break}catch(f){if(zT.Logger.debug("TransactionWatcher.awaitConditionally(): cannot (yet) fetch data."),!(f instanceof Ya.Err))throw f}}if(l&&(yield s.start(this.patienceMilliseconds)),o.isStopped()||o.stop(),!u||!l)throw n();return u})}getAllTransactionEvents(e){let r=[...e.logs.events];for(let n of e.contractResults.items)r.push(...n.logs.events);return r}};Ja.TransactionWatcher=Cr;Cr.DefaultPollingInterval=6e3;Cr.DefaultTimeout=Cr.DefaultPollingInterval*15;Cr.DefaultPatience=0;Cr.NoopOnStatusReceived=t=>{};var Pw=class{constructor(e){this.fetcher=e}getTransaction(e){return Sr(this,void 0,void 0,function*(){return zT.Logger.debug(`transactionWatcher, getTransaction(${e})`),yield this.fetcher.getTransaction(e)})}}});var WT=w(Xh=>{"use strict";c();Object.defineProperty(Xh,"__esModule",{value:!0});Xh.CodeMetadata=void 0;var Bw=class{constructor(e=!0,r=!1,n=!1,i=!1){this.upgradeable=e,this.readable=r,this.payable=n,this.payableBySc=i}toggleUpgradeable(e){this.upgradeable=e}toggleReadable(e){this.readable=e}togglePayable(e){this.payable=e}togglePayableBySc(e){this.payableBySc=e}toBuffer(){let e=0,r=0;return this.upgradeable&&(e|=Yh.Upgradeable),this.readable&&(e|=Yh.Readable),this.payable&&(r|=Jh.Payable),this.payableBySc&&(r|=Jh.PayableBySc),h.Buffer.from([e,r])}toString(){return this.toBuffer().toString("hex")}toJSON(){return{upgradeable:this.upgradeable,readable:this.readable,payable:this.payable,payableBySc:this.payableBySc}}equals(e){return this.upgradeable==e.upgradeable&&this.readable==e.readable&&this.payable==e.payable&&this.payableBySc==e.payableBySc}};Xh.CodeMetadata=Bw;var Yh;(function(t){t[t.Upgradeable=1]="Upgradeable",t[t.Reserved2=2]="Reserved2",t[t.Readable=4]="Readable"})(Yh||(Yh={}));var Jh;(function(t){t[t.Reserved1=1]="Reserved1",t[t.Payable=2]="Payable",t[t.PayableBySc=4]="PayableBySc"})(Jh||(Jh={}))});var Zh=w(mn=>{"use strict";c();var gV=mn&&mn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),yV=mn&&mn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),mV=mn&&mn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&gV(e,t,r);return yV(e,t),e};Object.defineProperty(mn,"__esModule",{value:!0});mn.ContractFunction=void 0;var wV=mV(je()),Kc=class{constructor(e){if(this.name=e,e==null)throw new wV.ErrInvalidFunctionName}static none(){return new Kc("untitled")}toString(){return this.name}valueOf(){return this.name}};mn.ContractFunction=Kc});var KT=w(Tr=>{"use strict";c();var EV=Tr&&Tr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),vV=Tr&&Tr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),AV=Tr&&Tr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&EV(e,t,r);return vV(e,t),e},bV=Tr&&Tr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Tr,"__esModule",{value:!0});Tr.InteractionChecker=void 0;var Lw=AV(je()),_V=bV(Yt()),Fw=class{checkInteraction(e,r){this.checkPayable(e,r),this.checkArguments(e,r)}checkPayable(e,r){let n=!new _V.default(e.getValue().toString()).isZero(),i=r.modifiers.isPayableInEGLD();if(n&&!i)throw new Lw.ErrContractInteraction("cannot send EGLD value to non-payable")}checkArguments(e,r){let n=r.input,i=e.getArguments(),s=n.length,o=i.length;if(s!=o)throw new Lw.ErrContractInteraction(`bad arguments, expected: ${s}, got: ${o}`);for(let a=0;a<s;a++){let u=n[a].type,f=i[a].getType();if(!u.isAssignableFrom(f))throw new Lw.ErrContractInteraction(`type mismatch at index ${a}, expected: ${u}, got: ${f}`)}}};Tr.InteractionChecker=Fw});var td=w(ed=>{"use strict";c();Object.defineProperty(ed,"__esModule",{value:!0});ed.Query=void 0;var IV=tr(),SV=Ph(),Mw=class{constructor(e){this.caller=e.caller||new IV.Address,this.address=e.address,this.func=e.func,this.args=e.args||[],this.value=e.value||0}getEncodedArguments(){return new SV.ArgSerializer().valuesToStrings(this.args)}};ed.Query=Mw});var YT=w(rd=>{"use strict";c();Object.defineProperty(rd,"__esModule",{value:!0});rd.Interaction=void 0;var $T=tr(),CV=Lh(),Uw=Go(),qw=Zh(),TV=KT(),xV=td(),Xa=Tt(),Vw=class{constructor(e,r,n){this.nonce=0,this.value="0",this.gasLimit=0,this.gasPrice=void 0,this.chainID="",this.querent=new $T.Address,this.sender=new $T.Address,this.isWithSingleESDTTransfer=!1,this.isWithSingleESDTNFTTransfer=!1,this.isWithMultiESDTNFTTransfer=!1,this.contract=e,this.function=r,this.args=n,this.tokenTransfers=new Za([],this)}getContractAddress(){return this.contract.getAddress()}getFunction(){return this.function}getEndpoint(){return this.contract.getEndpoint(this.function)}getArguments(){return this.args}getValue(){return this.value}getTokenTransfers(){return this.tokenTransfers.getTransfers()}getGasLimit(){return this.gasLimit}getExplicitReceiver(){return this.explicitReceiver}buildTransaction(){CV.Compatibility.guardAddressIsSetAndNonZero(this.sender,"'sender' of interaction","use interaction.withSender()");let e=this.explicitReceiver||this.contract.getAddress(),r=this.function,n=this.args;this.isWithSingleESDTTransfer?(r=new qw.ContractFunction(Uw.ESDT_TRANSFER_FUNCTION_NAME),n=this.tokenTransfers.buildArgsForSingleESDTTransfer()):this.isWithSingleESDTNFTTransfer?(e=this.sender,r=new qw.ContractFunction(Uw.ESDTNFT_TRANSFER_FUNCTION_NAME),n=this.tokenTransfers.buildArgsForSingleESDTNFTTransfer()):this.isWithMultiESDTNFTTransfer&&(e=this.sender,r=new qw.ContractFunction(Uw.MULTI_ESDTNFT_TRANSFER_FUNCTION_NAME),n=this.tokenTransfers.buildArgsForMultiESDTNFTTransfer());let i=this.contract.call({func:r,gasLimit:this.gasLimit,gasPrice:this.gasPrice,args:n,value:this.value,receiver:e,chainID:this.chainID,caller:this.sender});return i.setNonce(this.nonce),i}buildQuery(){return new xV.Query({address:this.contract.getAddress(),func:this.function,args:this.args,value:this.value,caller:this.querent})}withValue(e){return this.value=e,this}withSingleESDTTransfer(e){return this.isWithSingleESDTTransfer=!0,this.tokenTransfers=new Za([e],this),this}withSingleESDTNFTTransfer(e,r){return this.isWithSingleESDTNFTTransfer=!0,this.tokenTransfers=new Za([e],this),r&&(this.sender=r),this}withMultiESDTNFTTransfer(e,r){return this.isWithMultiESDTNFTTransfer=!0,this.tokenTransfers=new Za(e,this),r&&(this.sender=r),this}withGasLimit(e){return this.gasLimit=e,this}withGasPrice(e){return this.gasPrice=e,this}withNonce(e){return this.nonce=e,this}useThenIncrementNonceOf(e){return this.withNonce(e.getNonceThenIncrement())}withChainID(e){return this.chainID=e,this}withSender(e){return this.sender=e,this}withQuerent(e){return this.querent=e,this}withExplicitReceiver(e){return this.explicitReceiver=e,this}check(){return new TV.InteractionChecker().checkInteraction(this,this.getEndpoint()),this}};rd.Interaction=Vw;var Za=class{constructor(e,r){this.transfers=e,this.interaction=r}getTransfers(){return this.transfers}buildArgsForSingleESDTTransfer(){let e=this.transfers[0];return[this.getTypedTokenIdentifier(e),this.getTypedTokenQuantity(e),this.getTypedInteractionFunction(),...this.getInteractionArguments()]}buildArgsForSingleESDTNFTTransfer(){let e=this.transfers[0];return[this.getTypedTokenIdentifier(e),this.getTypedTokenNonce(e),this.getTypedTokenQuantity(e),this.getTypedTokensReceiver(),this.getTypedInteractionFunction(),...this.getInteractionArguments()]}buildArgsForMultiESDTNFTTransfer(){let e=[];e.push(this.getTypedTokensReceiver()),e.push(this.getTypedNumberOfTransfers());for(let r of this.transfers)e.push(this.getTypedTokenIdentifier(r)),e.push(this.getTypedTokenNonce(r)),e.push(this.getTypedTokenQuantity(r));return e.push(this.getTypedInteractionFunction()),e.push(...this.getInteractionArguments()),e}getTypedNumberOfTransfers(){return new Xa.U8Value(this.transfers.length)}getTypedTokenIdentifier(e){return Xa.BytesValue.fromUTF8(e.tokenIdentifier)}getTypedTokenNonce(e){return new Xa.U64Value(e.nonce)}getTypedTokenQuantity(e){return new Xa.BigUIntValue(e.amountAsBigInteger)}getTypedTokensReceiver(){return new Xa.AddressValue(this.interaction.getContractAddress())}getTypedInteractionFunction(){return Xa.BytesValue.fromUTF8(this.interaction.getFunction().valueOf())}getInteractionArguments(){return this.interaction.getArguments()}}});var JT=w(nd=>{"use strict";c();Object.defineProperty(nd,"__esModule",{value:!0});nd.ArgumentErrorContext=void 0;var NV=je(),jw=class{constructor(e,r,n){this.endpointName=e,this.argumentIndex=r,this.parameterDefinition=n}throwError(e){throw new NV.ErrInvalidArgument(`Error when converting arguments for endpoint (endpoint name: ${this.endpointName}, argument index: ${this.argumentIndex}, name: ${this.parameterDefinition.name}, type: ${this.parameterDefinition.type})
Nested error: ${e}`)}convertError(e,r){this.throwError(`Can't convert argument (argument: ${e}, type ${typeof e}), wanted type: ${r})`)}unhandledType(e,r){this.throwError(`Unhandled type (function: ${e}, type: ${r})`)}guardSameLength(e,r){e=e||[],e.length!=r.length&&this.throwError(`Incorrect composite type length: have ${e.length}, expected ${r.length} (argument: ${e})`)}guardHasField(e,r){e=e||{},r in e||this.throwError(`Struct argument does not contain a field named "${r}" (argument: ${JSON.stringify(e)})`)}};nd.ArgumentErrorContext=jw});var ZT=w(ro=>{"use strict";c();var OV=ro&&ro.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ro,"__esModule",{value:!0});ro.NativeSerializer=void 0;var DV=OV(Yt()),PV=tr(),XT=je(),RV=xm(),BV=JT(),be=Tt(),LV;(function(t){function e(A,D){A=A||[],A=r(A,D);let x=D.input,R=[];for(let P=0;P<x.length;P++){let L=x[P],_=new BV.ArgumentErrorContext(D.name,P,L),C=i(A[P],L.type,_);R.push(C)}return R}t.nativeToTypedValues=e;function r(A,D){let x=D.input,{min:R,max:P,variadic:L}=n(x);if(!(R<=A.length&&A.length<=P))throw new XT.ErrInvalidArgument(`Wrong number of arguments for endpoint ${D.name}: expected between ${R} and ${P} arguments, have ${A.length}`);if(L){let _=x.length-1,C=A[_];if(C.belongsToTypesystem){if(!C.hasClassOrSuperclass(be.VariadicValue.ClassName))throw new XT.ErrInvalidArgument(`Wrong argument type for endpoint ${D.name}: typed value provided; expected variadic type, have ${C.getClassName()}`)}else A[_]=A.slice(_)}return A}function n(A){let D=[...A].reverse(),x=A.length,R=A.length,P=!1;D.length>0&&D[0].type.getCardinality().isComposite()&&(R=1/0,P=!0);for(let L of D){if(L.type.getCardinality().isSingular())break;x-=1}return{min:x,max:R,variadic:P}}function i(A,D,x){if(A&&A.belongsToTypesystem)return A;if(D instanceof be.OptionType)return s(A,D,x);if(D instanceof be.OptionalType)return o(A,D,x);if(D instanceof be.VariadicType)return a(A,D,x);if(D instanceof be.CompositeType)return l(A,D,x);if(D instanceof be.TupleType)return f(A,D,x);if(D instanceof be.StructType)return d(A,D,x);if(D instanceof be.ListType)return u(A,D,x);if(D instanceof be.PrimitiveType)return y(A,D,x);x.throwError(`convertToTypedValue: unhandled type ${D}`)}function s(A,D,x){if(A==null)return be.OptionValue.newMissing();let R=i(A,D.getFirstTypeParameter(),x);return be.OptionValue.newProvided(R)}function o(A,D,x){if(A==null)return new be.OptionalValue(D);let R=i(A,D.getFirstTypeParameter(),x);return new be.OptionalValue(D,R)}function a(A,D,x){A==null&&(A=[]),A.map===void 0&&x.convertError(A,"Variadic");let R=A.map(function(P){return i(P,D.getFirstTypeParameter(),x)});return new be.VariadicValue(D,R)}function u(A,D,x){A.map===void 0&&x.convertError(A,"List");let R=A.map(function(P){return i(P,D.getFirstTypeParameter(),x)});return new be.List(D,R)}function l(A,D,x){let R=[],P=D.getTypeParameters();x.guardSameLength(A,P);for(let L=0;L<P.length;L++)R.push(i(A[L],P[L],x));return new be.CompositeValue(D,R)}function f(A,D,x){let R=[],P=D.getFieldsDefinitions();x.guardSameLength(A,P);for(let L=0;L<P.length;L++)R.push(i(A[L],P[L].type,x));return be.Tuple.fromItems(R)}function d(A,D,x){let R=[],P=D.getFieldsDefinitions();for(let L=0;L<P.length;L++){let _=P[L].name;x.guardHasField(A,_);let C=A[_],M=i(C,P[L].type,x);R.push(new be.Field(M,_))}return new be.Struct(D,R)}function y(A,D,x){if(D instanceof be.NumericalType){let R=new DV.default(A);return B(R,D,x)}if(D instanceof be.BytesType)return m(A,x);if(D instanceof be.AddressType)return new be.AddressValue(T(A,x));if(D instanceof be.BooleanType)return new be.BooleanValue(A);if(D instanceof be.TokenIdentifierType)return new be.TokenIdentifierValue(v(A,x));x.throwError(`(function: toPrimitive) unsupported type ${D}`)}function m(A,D){let x=A.valueOf();if(A===void 0&&D.convertError(A,"BytesValue"),A instanceof h.Buffer)return new be.BytesValue(A);if(typeof A=="string")return be.BytesValue.fromUTF8(A);if(x instanceof h.Buffer)return new be.BytesValue(x);if(typeof x=="number")return be.BytesValue.fromHex(RV.numberToPaddedHex(x));D.convertError(A,"BytesValue")}function v(A,D){if(A===void 0&&D.convertError(A,"Buffer"),A instanceof h.Buffer)return A.toString();if(typeof A=="string")return A;D.convertError(A,"Buffer")}function T(A,D){if(A.bech32)return A;if(A.getAddress)return A.getAddress();switch(A.constructor){case h.Buffer:case String:return new PV.Address(A);default:D.convertError(A,"Address")}}t.convertNativeToAddress=T;function B(A,D,x){switch(D.constructor){case be.U8Type:return new be.U8Value(A);case be.I8Type:return new be.I8Value(A);case be.U16Type:return new be.U16Value(A);case be.I16Type:return new be.I16Value(A);case be.U32Type:return new be.U32Value(A);case be.I32Type:return new be.I32Value(A);case be.U64Type:return new be.U64Value(A);case be.I64Type:return new be.I64Value(A);case be.BigUIntType:return new be.BigUIntValue(A);case be.BigIntType:return new be.BigIntValue(A);default:x.unhandledType("convertNumericalType",D)}}})(LV=ro.NativeSerializer||(ro.NativeSerializer={}))});var ex=w(jr=>{"use strict";c();Object.defineProperty(jr,"__esModule",{value:!0});jr.ContractCallPayloadBuilder=jr.ContractUpgradePayloadBuilder=jr.ContractDeployPayloadBuilder=jr.ArwenVirtualMachine=void 0;var kw=jc(),zw=gr(),FV=Ph();jr.ArwenVirtualMachine="0500";var Hw=class{constructor(){this.code=null,this.codeMetadata="",this.arguments=[]}setCode(e){return this.code=e,this}setCodeMetadata(e){return this.codeMetadata=e,this}addInitArg(e){return this.arguments.push(e),this}setInitArgs(e){return this.arguments=e,this}build(){zw.guardValueIsSet("code",this.code);let e=this.code.toString(),r=this.codeMetadata.toString(),n=`${e}@${jr.ArwenVirtualMachine}@${r}`;return n=Ww(n,this.arguments),new kw.TransactionPayload(n)}};jr.ContractDeployPayloadBuilder=Hw;var Gw=class{constructor(){this.code=null,this.codeMetadata="",this.arguments=[]}setCode(e){return this.code=e,this}setCodeMetadata(e){return this.codeMetadata=e,this}addInitArg(e){return this.arguments.push(e),this}setInitArgs(e){return this.arguments=e,this}build(){zw.guardValueIsSet("code",this.code);let e=this.code.toString(),r=this.codeMetadata.toString(),n=`upgradeContract@${e}@${r}`;return n=Ww(n,this.arguments),new kw.TransactionPayload(n)}};jr.ContractUpgradePayloadBuilder=Gw;var Qw=class{constructor(){this.contractFunction=null,this.arguments=[]}setFunction(e){return this.contractFunction=e,this}addArg(e){return this.arguments.push(e),this}setArgs(e){return this.arguments=e,this}build(){zw.guardValueIsSet("calledFunction",this.contractFunction);let e=this.contractFunction.name;return e=Ww(e,this.arguments),new kw.TransactionPayload(e)}};jr.ContractCallPayloadBuilder=Qw;function Ww(t,e){let{argumentsString:r,count:n}=new FV.ArgSerializer().valuesToString(e);return n==0?t:`${t}@${r}`}});var Wn=w((Vse,Kw)=>{"use strict";c();var eu=typeof Reflect=="object"?Reflect:null,tx=eu&&typeof eu.apply=="function"?eu.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},id;eu&&typeof eu.ownKeys=="function"?id=eu.ownKeys:Object.getOwnPropertySymbols?id=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:id=function(e){return Object.getOwnPropertyNames(e)};function MV(t){console&&console.warn&&console.warn(t)}var nx=Number.isNaN||function(e){return e!==e};function He(){He.init.call(this)}Kw.exports=He;Kw.exports.once=jV;He.EventEmitter=He;He.prototype._events=void 0;He.prototype._eventsCount=0;He.prototype._maxListeners=void 0;var rx=10;function sd(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(He,"defaultMaxListeners",{enumerable:!0,get:function(){return rx},set:function(t){if(typeof t!="number"||t<0||nx(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");rx=t}});He.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};He.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||nx(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function ix(t){return t._maxListeners===void 0?He.defaultMaxListeners:t._maxListeners}He.prototype.getMaxListeners=function(){return ix(this)};He.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=e==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var o;if(r.length>0&&(o=r[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var u=s[e];if(u===void 0)return!1;if(typeof u=="function")tx(u,this,r);else for(var l=u.length,f=cx(u,l),n=0;n<l;++n)tx(f[n],this,r);return!0};function sx(t,e,r,n){var i,s,o;if(sd(r),s=t._events,s===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),s=t._events),o=s[e]),o===void 0)o=s[e]=r,++t._eventsCount;else if(typeof o=="function"?o=s[e]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),i=ix(t),i>0&&o.length>i&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=o.length,MV(a)}return t}He.prototype.addListener=function(e,r){return sx(this,e,r,!1)};He.prototype.on=He.prototype.addListener;He.prototype.prependListener=function(e,r){return sx(this,e,r,!0)};function UV(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function ox(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=UV.bind(n);return i.listener=r,n.wrapFn=i,i}He.prototype.once=function(e,r){return sd(r),this.on(e,ox(this,e,r)),this};He.prototype.prependOnceListener=function(e,r){return sd(r),this.prependListener(e,ox(this,e,r)),this};He.prototype.removeListener=function(e,r){var n,i,s,o,a;if(sd(r),i=this._events,i===void 0)return this;if(n=i[e],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(s=-1,o=n.length-1;o>=0;o--)if(n[o]===r||n[o].listener===r){a=n[o].listener,s=o;break}if(s<0)return this;s===0?n.shift():qV(n,s),n.length===1&&(i[e]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",e,a||r)}return this};He.prototype.off=He.prototype.removeListener;He.prototype.removeAllListeners=function(e){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var s=Object.keys(n),o;for(i=0;i<s.length;++i)o=s[i],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(e,r[i]);return this};function ax(t,e,r){var n=t._events;if(n===void 0)return[];var i=n[e];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?VV(i):cx(i,i.length)}He.prototype.listeners=function(e){return ax(this,e,!0)};He.prototype.rawListeners=function(e){return ax(this,e,!1)};He.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):ux.call(t,e)};He.prototype.listenerCount=ux;function ux(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}He.prototype.eventNames=function(){return this._eventsCount>0?id(this._events):[]};function cx(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function qV(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function VV(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function jV(t,e){return new Promise(function(r,n){function i(o){t.removeListener(e,s),n(o)}function s(){typeof t.removeListener=="function"&&t.removeListener("error",i),r([].slice.call(arguments))}lx(t,e,s,{once:!0}),e!=="error"&&HV(t,i,{once:!0})})}function HV(t,e,r){typeof t.on=="function"&&lx(t,"error",e,r)}function lx(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(s){n.once&&t.removeEventListener(e,i),r(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}});var $w=w((Hse,fx)=>{c();fx.exports=Wn().EventEmitter});var Yw=w(()=>{c()});var mx=w((Wse,yx)=>{"use strict";c();function hx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hx(Object(r),!0).forEach(function(n){GV(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function GV(t,e,r){return e=gx(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function px(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gx(n.key),n)}}function kV(t,e,r){return e&&px(t.prototype,e),r&&px(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function gx(t){var e=zV(t,"string");return typeof e=="symbol"?e:String(e)}function zV(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var WV=Wa(),od=WV.Buffer,KV=Yw(),Jw=KV.inspect,$V=Jw&&Jw.custom||"inspect";function YV(t,e,r){od.prototype.copy.call(t,e,r)}yx.exports=function(){function t(){QV(this,t),this.head=null,this.tail=null,this.length=0}return kV(t,[{key:"push",value:function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length}},{key:"unshift",value:function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i}},{key:"concat",value:function(r){if(this.length===0)return od.alloc(0);for(var n=od.allocUnsafe(r>>>0),i=this.head,s=0;i;)YV(i.data,n,s),s+=i.data.length,i=i.next;return n}},{key:"consume",value:function(r,n){var i;return r<this.head.data.length?(i=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?i=this.shift():i=n?this._getString(r):this._getBuffer(r),i}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var n=this.head,i=1,s=n.data;for(r-=s.length;n=n.next;){var o=n.data,a=r>o.length?o.length:r;if(a===o.length?s+=o:s+=o.slice(0,r),r-=a,r===0){a===o.length?(++i,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=o.slice(a));break}++i}return this.length-=i,s}},{key:"_getBuffer",value:function(r){var n=od.allocUnsafe(r),i=this.head,s=1;for(i.data.copy(n),r-=i.data.length;i=i.next;){var o=i.data,a=r>o.length?o.length:r;if(o.copy(n,n.length-r,0,a),r-=a,r===0){a===o.length?(++s,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=o.slice(a));break}++s}return this.length-=s,n}},{key:$V,value:function(r,n){return Jw(this,dx(dx({},n),{},{depth:0,customInspect:!1}))}}]),t}()});var Zw=w(($se,Ex)=>{"use strict";c();function JV(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,p.default.nextTick(Xw,this,t)):p.default.nextTick(Xw,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?r._writableState?r._writableState.errorEmitted?p.default.nextTick(ad,r):(r._writableState.errorEmitted=!0,p.default.nextTick(wx,r,s)):p.default.nextTick(wx,r,s):e?(p.default.nextTick(ad,r),e(s)):p.default.nextTick(ad,r)}),this)}function wx(t,e){Xw(t,e),ad(t)}function ad(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function XV(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function Xw(t,e){t.emit("error",e)}function ZV(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}Ex.exports={destroy:JV,undestroy:XV,errorOrDestroy:ZV}});var no=w((Jse,bx)=>{"use strict";c();function ej(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var Ax={};function xr(t,e,r){r||(r=Error);function n(s,o,a){return typeof e=="string"?e:e(s,o,a)}var i=function(s){ej(o,s);function o(a,u,l){return s.call(this,n(a,u,l))||this}return o}(r);i.prototype.name=r.name,i.prototype.code=t,Ax[t]=i}function vx(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function tj(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function rj(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function nj(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}xr("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);xr("ERR_INVALID_ARG_TYPE",function(t,e,r){var n;typeof e=="string"&&tj(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var i;if(rj(t," argument"))i="The ".concat(t," ").concat(n," ").concat(vx(e,"type"));else{var s=nj(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(s," ").concat(n," ").concat(vx(e,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError);xr("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");xr("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});xr("ERR_STREAM_PREMATURE_CLOSE","Premature close");xr("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});xr("ERR_MULTIPLE_CALLBACK","Callback called multiple times");xr("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");xr("ERR_STREAM_WRITE_AFTER_END","write after end");xr("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);xr("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);xr("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");bx.exports.codes=Ax});var eE=w((Zse,_x)=>{"use strict";c();var ij=no().codes.ERR_INVALID_OPT_VALUE;function sj(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function oj(t,e,r,n){var i=sj(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var s=n?r:"highWaterMark";throw new ij(s,i)}return Math.floor(i)}return t.objectMode?16:16*1024}_x.exports={getHighWaterMark:oj}});var tu=w((toe,tE)=>{c();typeof Object.create=="function"?tE.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:tE.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}});var Sx=w((noe,Ix)=>{c();Ix.exports=aj;function aj(t,e){if(rE("noDeprecation"))return t;var r=!1;function n(){if(!r){if(rE("throwDeprecation"))throw new Error(e);rE("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}return n}function rE(t){try{if(!global.localStorage)return!1}catch{return!1}var e=global.localStorage[t];return e==null?!1:String(e).toLowerCase()==="true"}});var sE=w((soe,Dx)=>{"use strict";c();Dx.exports=ut;function Tx(t){var e=this;this.next=null,this.entry=null,this.finish=function(){Bj(e,t)}}var ru;ut.WritableState=Yc;var uj={deprecate:Sx()},xx=$w(),cd=Wa().Buffer,cj=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function lj(t){return cd.from(t)}function fj(t){return cd.isBuffer(t)||t instanceof cj}var iE=Zw(),hj=eE(),dj=hj.getHighWaterMark,Pi=no().codes,pj=Pi.ERR_INVALID_ARG_TYPE,gj=Pi.ERR_METHOD_NOT_IMPLEMENTED,yj=Pi.ERR_MULTIPLE_CALLBACK,mj=Pi.ERR_STREAM_CANNOT_PIPE,wj=Pi.ERR_STREAM_DESTROYED,Ej=Pi.ERR_STREAM_NULL_VALUES,vj=Pi.ERR_STREAM_WRITE_AFTER_END,Aj=Pi.ERR_UNKNOWN_ENCODING,nu=iE.errorOrDestroy;tu()(ut,xx);function bj(){}function Yc(t,e,r){ru=ru||io(),t=t||{},typeof r!="boolean"&&(r=e instanceof ru),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=dj(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=t.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(i){Nj(e,i)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new Tx(this)}Yc.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(Yc.prototype,"buffer",{get:uj.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var ud;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ud=Function.prototype[Symbol.hasInstance],Object.defineProperty(ut,Symbol.hasInstance,{value:function(e){return ud.call(this,e)?!0:this!==ut?!1:e&&e._writableState instanceof Yc}})):ud=function(e){return e instanceof this};function ut(t){ru=ru||io();var e=this instanceof ru;if(!e&&!ud.call(ut,this))return new ut(t);this._writableState=new Yc(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),xx.call(this)}ut.prototype.pipe=function(){nu(this,new mj)};function _j(t,e){var r=new vj;nu(t,r),p.default.nextTick(e,r)}function Ij(t,e,r,n){var i;return r===null?i=new Ej:typeof r!="string"&&!e.objectMode&&(i=new pj("chunk",["string","Buffer"],r)),i?(nu(t,i),p.default.nextTick(n,i),!1):!0}ut.prototype.write=function(t,e,r){var n=this._writableState,i=!1,s=!n.objectMode&&fj(t);return s&&!cd.isBuffer(t)&&(t=lj(t)),typeof e=="function"&&(r=e,e=null),s?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=bj),n.ending?_j(this,r):(s||Ij(this,n,t,r))&&(n.pendingcb++,i=Cj(this,n,s,t,e,r)),i};ut.prototype.cork=function(){this._writableState.corked++};ut.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&Nx(this,t))};ut.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new Aj(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(ut.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function Sj(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=cd.from(e,r)),e}Object.defineProperty(ut.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Cj(t,e,r,n,i,s){if(!r){var o=Sj(e,n,i);n!==o&&(r=!0,i="buffer",n=o)}var a=e.objectMode?1:n.length;e.length+=a;var u=e.length<e.highWaterMark;if(u||(e.needDrain=!0),e.writing||e.corked){var l=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},l?l.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else nE(t,e,!1,a,n,i,s);return u}function nE(t,e,r,n,i,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new wj("write")):r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}function Tj(t,e,r,n,i){--e.pendingcb,r?(p.default.nextTick(i,n),p.default.nextTick($c,t,e),t._writableState.errorEmitted=!0,nu(t,n)):(i(n),t._writableState.errorEmitted=!0,nu(t,n),$c(t,e))}function xj(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function Nj(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function")throw new yj;if(xj(r),e)Tj(t,r,n,e,i);else{var s=Ox(r)||t.destroyed;!s&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&Nx(t,r),n?p.default.nextTick(Cx,t,r,s,i):Cx(t,r,s,i)}}function Cx(t,e,r,n){r||Oj(t,e),e.pendingcb--,n(),$c(t,e)}function Oj(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function Nx(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),s=e.corkedRequestsFree;s.entry=r;for(var o=0,a=!0;r;)i[o]=r,r.isBuf||(a=!1),r=r.next,o+=1;i.allBuffers=a,nE(t,e,!0,e.length,i,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new Tx(e),e.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,l=r.encoding,f=r.callback,d=e.objectMode?1:u.length;if(nE(t,e,!1,d,u,l,f),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}ut.prototype._write=function(t,e,r){r(new gj("_write()"))};ut.prototype._writev=null;ut.prototype.end=function(t,e,r){var n=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||Rj(this,n,r),this};Object.defineProperty(ut.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Ox(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function Dj(t,e){t._final(function(r){e.pendingcb--,r&&nu(t,r),e.prefinished=!0,t.emit("prefinish"),$c(t,e)})}function Pj(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,p.default.nextTick(Dj,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function $c(t,e){var r=Ox(e);if(r&&(Pj(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy()}return r}function Rj(t,e,r){e.ending=!0,$c(t,e),r&&(e.finished?p.default.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function Bj(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree.next=t}Object.defineProperty(ut.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}});ut.prototype.destroy=iE.destroy;ut.prototype._undestroy=iE.undestroy;ut.prototype._destroy=function(t,e){e(t)}});var io=w((aoe,Rx)=>{"use strict";c();var Lj=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};Rx.exports=wn;var Px=uE(),aE=sE();tu()(wn,Px);for(oE=Lj(aE.prototype),ld=0;ld<oE.length;ld++)fd=oE[ld],wn.prototype[fd]||(wn.prototype[fd]=aE.prototype[fd]);var oE,fd,ld;function wn(t){if(!(this instanceof wn))return new wn(t);Px.call(this,t),aE.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",Fj)))}Object.defineProperty(wn.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(wn.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(wn.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Fj(){this._writableState.ended||p.default.nextTick(Mj,this)}function Mj(t){t.end()}Object.defineProperty(wn.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})});var Fx=w((cE,Lx)=>{c();var hd=Wa(),En=hd.Buffer;function Bx(t,e){for(var r in t)e[r]=t[r]}En.from&&En.alloc&&En.allocUnsafe&&En.allocUnsafeSlow?Lx.exports=hd:(Bx(hd,cE),cE.Buffer=so);function so(t,e,r){return En(t,e,r)}so.prototype=Object.create(En.prototype);Bx(En,so);so.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return En(t,e,r)};so.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=En(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n};so.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return En(t)};so.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return hd.SlowBuffer(t)}});var hE=w(Ux=>{"use strict";c();var fE=Fx().Buffer,Mx=fE.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Uj(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function qj(t){var e=Uj(t);if(typeof e!="string"&&(fE.isEncoding===Mx||!Mx(t)))throw new Error("Unknown encoding: "+t);return e||t}Ux.StringDecoder=Jc;function Jc(t){this.encoding=qj(t);var e;switch(this.encoding){case"utf16le":this.text=kj,this.end=zj,e=4;break;case"utf8":this.fillLast=Hj,e=4;break;case"base64":this.text=Wj,this.end=Kj,e=3;break;default:this.write=$j,this.end=Yj;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=fE.allocUnsafe(e)}Jc.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};Jc.prototype.end=Qj;Jc.prototype.text=Gj;Jc.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function lE(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function Vj(t,e,r){var n=e.length-1;if(n<r)return 0;var i=lE(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=lE(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=lE(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function jj(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function Hj(t){var e=this.lastTotal-this.lastNeed,r=jj(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function Gj(t,e){var r=Vj(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function Qj(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function kj(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function zj(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function Wj(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function Kj(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function $j(t){return t.toString(this.encoding)}function Yj(t){return t&&t.length?this.write(t):""}});var dd=w((hoe,jx)=>{"use strict";c();var qx=no().codes.ERR_STREAM_PREMATURE_CLOSE;function Jj(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}function Xj(){}function Zj(t){return t.setHeader&&typeof t.abort=="function"}function Vx(t,e,r){if(typeof e=="function")return Vx(t,null,e);e||(e={}),r=Jj(r||Xj);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,s=function(){t.writable||a()},o=t._writableState&&t._writableState.finished,a=function(){i=!1,o=!0,n||r.call(t)},u=t._readableState&&t._readableState.endEmitted,l=function(){n=!1,u=!0,i||r.call(t)},f=function(v){r.call(t,v)},d=function(){var v;if(n&&!u)return(!t._readableState||!t._readableState.ended)&&(v=new qx),r.call(t,v);if(i&&!o)return(!t._writableState||!t._writableState.ended)&&(v=new qx),r.call(t,v)},y=function(){t.req.on("finish",a)};return Zj(t)?(t.on("complete",a),t.on("abort",d),t.req?y():t.on("request",y)):i&&!t._writableState&&(t.on("end",s),t.on("close",s)),t.on("end",l),t.on("finish",a),e.error!==!1&&t.on("error",f),t.on("close",d),function(){t.removeListener("complete",a),t.removeListener("abort",d),t.removeListener("request",y),t.req&&t.req.removeListener("finish",a),t.removeListener("end",s),t.removeListener("close",s),t.removeListener("finish",a),t.removeListener("end",l),t.removeListener("error",f),t.removeListener("close",d)}}jx.exports=Vx});var Gx=w((poe,Hx)=>{"use strict";c();var pd;function Ri(t,e,r){return e=eH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eH(t){var e=tH(t,"string");return typeof e=="symbol"?e:String(e)}function tH(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rH=dd(),Bi=Symbol("lastResolve"),oo=Symbol("lastReject"),Xc=Symbol("error"),gd=Symbol("ended"),ao=Symbol("lastPromise"),dE=Symbol("handlePromise"),uo=Symbol("stream");function Li(t,e){return{value:t,done:e}}function nH(t){var e=t[Bi];if(e!==null){var r=t[uo].read();r!==null&&(t[ao]=null,t[Bi]=null,t[oo]=null,e(Li(r,!1)))}}function iH(t){p.default.nextTick(nH,t)}function sH(t,e){return function(r,n){t.then(function(){if(e[gd]){r(Li(void 0,!0));return}e[dE](r,n)},n)}}var oH=Object.getPrototypeOf(function(){}),aH=Object.setPrototypeOf((pd={get stream(){return this[uo]},next:function(){var e=this,r=this[Xc];if(r!==null)return Promise.reject(r);if(this[gd])return Promise.resolve(Li(void 0,!0));if(this[uo].destroyed)return new Promise(function(o,a){p.default.nextTick(function(){e[Xc]?a(e[Xc]):o(Li(void 0,!0))})});var n=this[ao],i;if(n)i=new Promise(sH(n,this));else{var s=this[uo].read();if(s!==null)return Promise.resolve(Li(s,!1));i=new Promise(this[dE])}return this[ao]=i,i}},Ri(pd,Symbol.asyncIterator,function(){return this}),Ri(pd,"return",function(){var e=this;return new Promise(function(r,n){e[uo].destroy(null,function(i){if(i){n(i);return}r(Li(void 0,!0))})})}),pd),oH),uH=function(e){var r,n=Object.create(aH,(r={},Ri(r,uo,{value:e,writable:!0}),Ri(r,Bi,{value:null,writable:!0}),Ri(r,oo,{value:null,writable:!0}),Ri(r,Xc,{value:null,writable:!0}),Ri(r,gd,{value:e._readableState.endEmitted,writable:!0}),Ri(r,dE,{value:function(s,o){var a=n[uo].read();a?(n[ao]=null,n[Bi]=null,n[oo]=null,s(Li(a,!1))):(n[Bi]=s,n[oo]=o)},writable:!0}),r));return n[ao]=null,rH(e,function(i){if(i&&i.code!=="ERR_STREAM_PREMATURE_CLOSE"){var s=n[oo];s!==null&&(n[ao]=null,n[Bi]=null,n[oo]=null,s(i)),n[Xc]=i;return}var o=n[Bi];o!==null&&(n[ao]=null,n[Bi]=null,n[oo]=null,o(Li(void 0,!0))),n[gd]=!0}),e.on("readable",iH.bind(null,n)),n};Hx.exports=uH});var kx=w((yoe,Qx)=>{c();Qx.exports=function(){throw new Error("Readable.from is not available in the browser")}});var uE=w((Eoe,t2)=>{"use strict";c();t2.exports=Fe;var iu;Fe.ReadableState=$x;var woe=Wn().EventEmitter,Kx=function(e,r){return e.listeners(r).length},el=$w(),yd=Wa().Buffer,cH=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function lH(t){return yd.from(t)}function fH(t){return yd.isBuffer(t)||t instanceof cH}var pE=Yw(),xe;pE&&pE.debuglog?xe=pE.debuglog("stream"):xe=function(){};var hH=mx(),AE=Zw(),dH=eE(),pH=dH.getHighWaterMark,md=no().codes,gH=md.ERR_INVALID_ARG_TYPE,yH=md.ERR_STREAM_PUSH_AFTER_EOF,mH=md.ERR_METHOD_NOT_IMPLEMENTED,wH=md.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,su,gE,yE;tu()(Fe,el);var Zc=AE.errorOrDestroy,mE=["error","close","destroy","pause","resume"];function EH(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function $x(t,e,r){iu=iu||io(),t=t||{},typeof r!="boolean"&&(r=e instanceof iu),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=pH(this,t,"readableHighWaterMark",r),this.buffer=new hH,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(su||(su=hE().StringDecoder),this.decoder=new su(t.encoding),this.encoding=t.encoding)}function Fe(t){if(iu=iu||io(),!(this instanceof Fe))return new Fe(t);var e=this instanceof iu;this._readableState=new $x(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),el.call(this)}Object.defineProperty(Fe.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}});Fe.prototype.destroy=AE.destroy;Fe.prototype._undestroy=AE.undestroy;Fe.prototype._destroy=function(t,e){e(t)};Fe.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=yd.from(t,e),e=""),n=!0),Yx(this,t,e,!1,n)};Fe.prototype.unshift=function(t){return Yx(this,t,null,!0,!1)};function Yx(t,e,r,n,i){xe("readableAddChunk",e);var s=t._readableState;if(e===null)s.reading=!1,bH(t,s);else{var o;if(i||(o=vH(s,e)),o)Zc(t,o);else if(s.objectMode||e&&e.length>0)if(typeof e!="string"&&!s.objectMode&&Object.getPrototypeOf(e)!==yd.prototype&&(e=lH(e)),n)s.endEmitted?Zc(t,new wH):wE(t,s,e,!0);else if(s.ended)Zc(t,new yH);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(e=s.decoder.write(e),s.objectMode||e.length!==0?wE(t,s,e,!1):vE(t,s)):wE(t,s,e,!1)}else n||(s.reading=!1,vE(t,s))}return!s.ended&&(s.length<s.highWaterMark||s.length===0)}function wE(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&wd(t)),vE(t,e)}function vH(t,e){var r;return!fH(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new gH("chunk",["string","Buffer","Uint8Array"],e)),r}Fe.prototype.isPaused=function(){return this._readableState.flowing===!1};Fe.prototype.setEncoding=function(t){su||(su=hE().StringDecoder);var e=new su(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";r!==null;)n+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),n!==""&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var zx=1073741824;function AH(t){return t>=zx?t=zx:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function Wx(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=AH(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}Fe.prototype.read=function(t){xe("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return xe("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?EE(this):wd(this),null;if(t=Wx(t,e),t===0&&e.ended)return e.length===0&&EE(this),null;var n=e.needReadable;xe("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,xe("length less than watermark",n)),e.ended||e.reading?(n=!1,xe("reading or ended",n)):n&&(xe("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=Wx(r,e)));var i;return t>0?i=Zx(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&EE(this)),i!==null&&this.emit("data",i),i};function bH(t,e){if(xe("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?wd(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,Jx(t)))}}function wd(t){var e=t._readableState;xe("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(xe("emitReadable",e.flowing),e.emittedReadable=!0,p.default.nextTick(Jx,t))}function Jx(t){var e=t._readableState;xe("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,bE(t)}function vE(t,e){e.readingMore||(e.readingMore=!0,p.default.nextTick(_H,t,e))}function _H(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(xe("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}Fe.prototype._read=function(t){Zc(this,new mH("_read()"))};Fe.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,xe("pipe count=%d opts=%j",n.pipesCount,e);var i=(!e||e.end!==!1)&&t!==p.default.stdout&&t!==p.default.stderr,s=i?a:T;n.endEmitted?p.default.nextTick(s):r.once("end",s),t.on("unpipe",o);function o(B,A){xe("onunpipe"),B===r&&A&&A.hasUnpiped===!1&&(A.hasUnpiped=!0,f())}function a(){xe("onend"),t.end()}var u=IH(r);t.on("drain",u);var l=!1;function f(){xe("cleanup"),t.removeListener("close",m),t.removeListener("finish",v),t.removeListener("drain",u),t.removeListener("error",y),t.removeListener("unpipe",o),r.removeListener("end",a),r.removeListener("end",T),r.removeListener("data",d),l=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&u()}r.on("data",d);function d(B){xe("ondata");var A=t.write(B);xe("dest.write",A),A===!1&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&e2(n.pipes,t)!==-1)&&!l&&(xe("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function y(B){xe("onerror",B),T(),t.removeListener("error",y),Kx(t,"error")===0&&Zc(t,B)}EH(t,"error",y);function m(){t.removeListener("finish",v),T()}t.once("close",m);function v(){xe("onfinish"),t.removeListener("close",m),T()}t.once("finish",v);function T(){xe("unpipe"),r.unpipe(t)}return t.emit("pipe",r),n.flowing||(xe("pipe resume"),r.resume()),t};function IH(t){return function(){var r=t._readableState;xe("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&Kx(t,"data")&&(r.flowing=!0,bE(t))}}Fe.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=e2(e.pipes,t);return o===-1?this:(e.pipes.splice(o,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};Fe.prototype.on=function(t,e){var r=el.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,xe("on readable",n.length,n.reading),n.length?wd(this):n.reading||p.default.nextTick(SH,this)),r};Fe.prototype.addListener=Fe.prototype.on;Fe.prototype.removeListener=function(t,e){var r=el.prototype.removeListener.call(this,t,e);return t==="readable"&&p.default.nextTick(Xx,this),r};Fe.prototype.removeAllListeners=function(t){var e=el.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&p.default.nextTick(Xx,this),e};function Xx(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function SH(t){xe("readable nexttick read 0"),t.read(0)}Fe.prototype.resume=function(){var t=this._readableState;return t.flowing||(xe("resume"),t.flowing=!t.readableListening,CH(this,t)),t.paused=!1,this};function CH(t,e){e.resumeScheduled||(e.resumeScheduled=!0,p.default.nextTick(TH,t,e))}function TH(t,e){xe("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),bE(t),e.flowing&&!e.reading&&t.read(0)}Fe.prototype.pause=function(){return xe("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(xe("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function bE(t){var e=t._readableState;for(xe("flow",e.flowing);e.flowing&&t.read()!==null;);}Fe.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(xe("wrapped end"),r.decoder&&!r.ended){var o=r.decoder.end();o&&o.length&&e.push(o)}e.push(null)}),t.on("data",function(o){if(xe("wrapped data"),r.decoder&&(o=r.decoder.write(o)),!(r.objectMode&&o==null)&&!(!r.objectMode&&(!o||!o.length))){var a=e.push(o);a||(n=!0,t.pause())}});for(var i in t)this[i]===void 0&&typeof t[i]=="function"&&(this[i]=function(a){return function(){return t[a].apply(t,arguments)}}(i));for(var s=0;s<mE.length;s++)t.on(mE[s],this.emit.bind(this,mE[s]));return this._read=function(o){xe("wrapped _read",o),n&&(n=!1,t.resume())},this};typeof Symbol=="function"&&(Fe.prototype[Symbol.asyncIterator]=function(){return gE===void 0&&(gE=Gx()),gE(this)});Object.defineProperty(Fe.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(Fe.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(Fe.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}});Fe._fromList=Zx;Object.defineProperty(Fe.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function Zx(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function EE(t){var e=t._readableState;xe("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,p.default.nextTick(xH,e,t))}function xH(t,e){if(xe("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}typeof Symbol=="function"&&(Fe.from=function(t,e){return yE===void 0&&(yE=kx()),yE(Fe,t,e)});function e2(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}});var _E=w((Aoe,n2)=>{"use strict";c();n2.exports=Kn;var Ed=no().codes,NH=Ed.ERR_METHOD_NOT_IMPLEMENTED,OH=Ed.ERR_MULTIPLE_CALLBACK,DH=Ed.ERR_TRANSFORM_ALREADY_TRANSFORMING,PH=Ed.ERR_TRANSFORM_WITH_LENGTH_0,vd=io();tu()(Kn,vd);function RH(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new OH);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Kn(t){if(!(this instanceof Kn))return new Kn(t);vd.call(this,t),this._transformState={afterTransform:RH.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",BH)}function BH(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){r2(t,e,r)}):r2(this,null,null)}Kn.prototype.push=function(t,e){return this._transformState.needTransform=!1,vd.prototype.push.call(this,t,e)};Kn.prototype._transform=function(t,e,r){r(new NH("_transform()"))};Kn.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};Kn.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};Kn.prototype._destroy=function(t,e){vd.prototype._destroy.call(this,t,function(r){e(r)})};function r2(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new PH;if(t._transformState.transforming)throw new DH;return t.push(null)}});var o2=w((_oe,s2)=>{"use strict";c();s2.exports=tl;var i2=_E();tu()(tl,i2);function tl(t){if(!(this instanceof tl))return new tl(t);i2.call(this,t)}tl.prototype._transform=function(t,e,r){r(null,t)}});var f2=w((Soe,l2)=>{"use strict";c();var IE;function LH(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var c2=no().codes,FH=c2.ERR_MISSING_ARGS,MH=c2.ERR_STREAM_DESTROYED;function a2(t){if(t)throw t}function UH(t){return t.setHeader&&typeof t.abort=="function"}function qH(t,e,r,n){n=LH(n);var i=!1;t.on("close",function(){i=!0}),IE===void 0&&(IE=dd()),IE(t,{readable:e,writable:r},function(o){if(o)return n(o);i=!0,n()});var s=!1;return function(o){if(!i&&!s){if(s=!0,UH(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(o||new MH("pipe"))}}}function u2(t){t()}function VH(t,e){return t.pipe(e)}function jH(t){return!t.length||typeof t[t.length-1]!="function"?a2:t.pop()}function HH(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=jH(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new FH("streams");var i,s=e.map(function(o,a){var u=a<e.length-1,l=a>0;return qH(o,u,l,function(f){i||(i=f),f&&s.forEach(u2),!u&&(s.forEach(u2),n(i))})});return e.reduce(VH)}l2.exports=HH});var SE=w((Nr,h2)=>{c();Nr=h2.exports=uE();Nr.Stream=Nr;Nr.Readable=Nr;Nr.Writable=sE();Nr.Duplex=io();Nr.Transform=_E();Nr.PassThrough=o2();Nr.finished=dd();Nr.pipeline=f2()});var g2=w((xoe,p2)=>{c();var{Transform:GH}=SE();p2.exports=t=>class d2 extends GH{constructor(r,n,i,s,o){super(o),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._hashBitLength=s,this._options=o,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let s=null;try{this.update(r,n)}catch(o){s=o}i(s)}_flush(r){let n=null;try{this.push(this.digest())}catch(i){n=i}r(n)}update(r,n){if(!h.Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return h.Buffer.isBuffer(r)||(r=h.Buffer.from(r,n)),this._state.absorb(r),this}digest(r){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let n=this._state.squeeze(this._hashBitLength/8);return r!==void 0&&(n=n.toString(r)),this._resetState(),n}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){let r=new d2(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}}});var w2=w((Ooe,m2)=>{c();var{Transform:QH}=SE();m2.exports=t=>class y2 extends QH{constructor(r,n,i,s){super(s),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._options=s,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let s=null;try{this.update(r,n)}catch(o){s=o}i(s)}_flush(){}_read(r){this.push(this.squeeze(r))}update(r,n){if(!h.Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return h.Buffer.isBuffer(r)||(r=h.Buffer.from(r,n)),this._state.absorb(r),this}squeeze(r,n){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let i=this._state.squeeze(r);return n!==void 0&&(i=i.toString(n)),i}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){let r=new y2(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}}});var v2=w((Poe,E2)=>{c();var kH=g2(),zH=w2();E2.exports=function(t){let e=kH(t),r=zH(t);return function(n,i){switch(typeof n=="string"?n.toLowerCase():n){case"keccak224":return new e(1152,448,null,224,i);case"keccak256":return new e(1088,512,null,256,i);case"keccak384":return new e(832,768,null,384,i);case"keccak512":return new e(576,1024,null,512,i);case"sha3-224":return new e(1152,448,6,224,i);case"sha3-256":return new e(1088,512,6,256,i);case"sha3-384":return new e(832,768,6,384,i);case"sha3-512":return new e(576,1024,6,512,i);case"shake128":return new r(1344,256,31,i);case"shake256":return new r(1088,512,31,i);default:throw new Error("Invald algorithm: "+n)}}}});var _2=w(b2=>{c();var A2=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];b2.p1600=function(t){for(let e=0;e<24;++e){let r=t[0]^t[10]^t[20]^t[30]^t[40],n=t[1]^t[11]^t[21]^t[31]^t[41],i=t[2]^t[12]^t[22]^t[32]^t[42],s=t[3]^t[13]^t[23]^t[33]^t[43],o=t[4]^t[14]^t[24]^t[34]^t[44],a=t[5]^t[15]^t[25]^t[35]^t[45],u=t[6]^t[16]^t[26]^t[36]^t[46],l=t[7]^t[17]^t[27]^t[37]^t[47],f=t[8]^t[18]^t[28]^t[38]^t[48],d=t[9]^t[19]^t[29]^t[39]^t[49],y=f^(i<<1|s>>>31),m=d^(s<<1|i>>>31),v=t[0]^y,T=t[1]^m,B=t[10]^y,A=t[11]^m,D=t[20]^y,x=t[21]^m,R=t[30]^y,P=t[31]^m,L=t[40]^y,_=t[41]^m;y=r^(o<<1|a>>>31),m=n^(a<<1|o>>>31);let C=t[2]^y,M=t[3]^m,Z=t[12]^y,z=t[13]^m,H=t[22]^y,G=t[23]^m,$=t[32]^y,de=t[33]^m,ae=t[42]^y,re=t[43]^m;y=i^(u<<1|l>>>31),m=s^(l<<1|u>>>31);let Y=t[4]^y,ie=t[5]^m,te=t[14]^y,ne=t[15]^m,q=t[24]^y,ce=t[25]^m,oe=t[34]^y,le=t[35]^m,se=t[44]^y,ue=t[45]^m;y=o^(f<<1|d>>>31),m=a^(d<<1|f>>>31);let g=t[6]^y,E=t[7]^m,b=t[16]^y,O=t[17]^m,I=t[26]^y,N=t[27]^m,F=t[36]^y,S=t[37]^m,U=t[46]^y,j=t[47]^m;y=u^(r<<1|n>>>31),m=l^(n<<1|r>>>31);let V=t[8]^y,X=t[9]^m,ye=t[18]^y,we=t[19]^m,Pe=t[28]^y,$e=t[29]^m,ot=t[38]^y,Oe=t[39]^m,Me=t[48]^y,vt=t[49]^m,ci=v,gs=T,ys=A<<4|B>>>28,Xt=B<<4|A>>>28,Ln=D<<3|x>>>29,jt=x<<3|D>>>29,At=P<<9|R>>>23,Qe=R<<9|P>>>23,_0=L<<18|_>>>14,I0=_<<18|L>>>14,S0=C<<1|M>>>31,C0=M<<1|C>>>31,T0=z<<12|Z>>>20,x0=Z<<12|z>>>20,N0=H<<10|G>>>22,O0=G<<10|H>>>22,D0=de<<13|$>>>19,P0=$<<13|de>>>19,R0=ae<<2|re>>>30,B0=re<<2|ae>>>30,L0=ie<<30|Y>>>2,F0=Y<<30|ie>>>2,M0=te<<6|ne>>>26,U0=ne<<6|te>>>26,q0=ce<<11|q>>>21,V0=q<<11|ce>>>21,j0=oe<<15|le>>>17,H0=le<<15|oe>>>17,G0=ue<<29|se>>>3,Q0=se<<29|ue>>>3,k0=g<<28|E>>>4,z0=E<<28|g>>>4,W0=O<<23|b>>>9,K0=b<<23|O>>>9,$0=I<<25|N>>>7,Y0=N<<25|I>>>7,J0=F<<21|S>>>11,X0=S<<21|F>>>11,Z0=j<<24|U>>>8,ey=U<<24|j>>>8,ty=V<<27|X>>>5,ry=X<<27|V>>>5,ny=ye<<20|we>>>12,iy=we<<20|ye>>>12,sy=$e<<7|Pe>>>25,oy=Pe<<7|$e>>>25,ay=ot<<8|Oe>>>24,uy=Oe<<8|ot>>>24,cy=Me<<14|vt>>>18,ly=vt<<14|Me>>>18;t[0]=ci^~T0&q0,t[1]=gs^~x0&V0,t[10]=k0^~ny&Ln,t[11]=z0^~iy&jt,t[20]=S0^~M0&$0,t[21]=C0^~U0&Y0,t[30]=ty^~ys&N0,t[31]=ry^~Xt&O0,t[40]=L0^~W0&sy,t[41]=F0^~K0&oy,t[2]=T0^~q0&J0,t[3]=x0^~V0&X0,t[12]=ny^~Ln&D0,t[13]=iy^~jt&P0,t[22]=M0^~$0&ay,t[23]=U0^~Y0&uy,t[32]=ys^~N0&j0,t[33]=Xt^~O0&H0,t[42]=W0^~sy&At,t[43]=K0^~oy&Qe,t[4]=q0^~J0&cy,t[5]=V0^~X0&ly,t[14]=Ln^~D0&G0,t[15]=jt^~P0&Q0,t[24]=$0^~ay&_0,t[25]=Y0^~uy&I0,t[34]=N0^~j0&Z0,t[35]=O0^~H0&ey,t[44]=sy^~At&R0,t[45]=oy^~Qe&B0,t[6]=J0^~cy&ci,t[7]=X0^~ly&gs,t[16]=D0^~G0&k0,t[17]=P0^~Q0&z0,t[26]=ay^~_0&S0,t[27]=uy^~I0&C0,t[36]=j0^~Z0&ty,t[37]=H0^~ey&ry,t[46]=At^~R0&L0,t[47]=Qe^~B0&F0,t[8]=cy^~ci&T0,t[9]=ly^~gs&x0,t[18]=G0^~k0&ny,t[19]=Q0^~z0&iy,t[28]=_0^~S0&M0,t[29]=I0^~C0&U0,t[38]=Z0^~ty&ys,t[39]=ey^~ry&Xt,t[48]=R0^~L0&W0,t[49]=B0^~F0&K0,t[0]^=A2[e*2],t[1]^=A2[e*2+1]}}});var S2=w((Foe,I2)=>{c();var Ad=_2();function ou(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}ou.prototype.initialize=function(t,e){for(let r=0;r<50;++r)this.state[r]=0;this.blockSize=t/8,this.count=0,this.squeezing=!1};ou.prototype.absorb=function(t){for(let e=0;e<t.length;++e)this.state[~~(this.count/4)]^=t[e]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(Ad.p1600(this.state),this.count=0)};ou.prototype.absorbLastFewBits=function(t){this.state[~~(this.count/4)]^=t<<8*(this.count%4),t&128&&this.count===this.blockSize-1&&Ad.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),Ad.p1600(this.state),this.count=0,this.squeezing=!0};ou.prototype.squeeze=function(t){this.squeezing||this.absorbLastFewBits(1);let e=h.Buffer.alloc(t);for(let r=0;r<t;++r)e[r]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(Ad.p1600(this.state),this.count=0);return e};ou.prototype.copy=function(t){for(let e=0;e<50;++e)t.state[e]=this.state[e];t.blockSize=this.blockSize,t.count=this.count,t.squeezing=this.squeezing};I2.exports=ou});var T2=w((Uoe,C2)=>{c();C2.exports=v2()(S2())});var D2=w(au=>{"use strict";c();var WH=au&&au.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(au,"__esModule",{value:!0});au.SmartContract=void 0;var KH=WH(Yt()),rl=tr(),CE=Lh(),$H=je(),TE=Wc(),YH=gr(),JH=lh(),x2=WT(),N2=Zh(),O2=YT(),XH=ZT(),ZH=td(),bd=ex(),e7=T2(),xE=class{constructor(e={}){this.address=new rl.Address,this.methodsExplicit={},this.methods={},this.address=e.address||new rl.Address,this.abi=e.abi,this.abi&&this.setupMethods()}setupMethods(){let e=this,r=this.getAbi();for(let n of r.getEndpoints()){let i=n.name;this.methodsExplicit[i]=function(s){let o=new N2.ContractFunction(i);return new O2.Interaction(e,o,s||[])},this.methods[i]=function(s){let o=new N2.ContractFunction(i),a=XH.NativeSerializer.nativeToTypedValues(s||[],n);return new O2.Interaction(e,o,a||[])}}}setAddress(e){this.address=e}getAddress(){return this.address}getAbi(){return YH.guardValueIsSet("abi",this.abi),this.abi}getEndpoint(e){return this.getAbi().getEndpoint(e)}deploy({deployer:e,code:r,codeMetadata:n,initArguments:i,value:s,gasLimit:o,gasPrice:a,chainID:u}){CE.Compatibility.guardAddressIsSetAndNonZero(e,"'deployer' of SmartContract.deploy()","pass the actual address to deploy()"),n=n||new x2.CodeMetadata,i=i||[],s=s||0;let l=new bd.ContractDeployPayloadBuilder().setCode(r).setCodeMetadata(n).setInitArgs(i).build();return new TE.Transaction({receiver:rl.Address.Zero(),sender:e,value:s,gasLimit:o,gasPrice:a,data:l,chainID:u})}upgrade({caller:e,code:r,codeMetadata:n,initArguments:i,value:s,gasLimit:o,gasPrice:a,chainID:u}){CE.Compatibility.guardAddressIsSetAndNonZero(e,"'caller' of SmartContract.upgrade()","pass the actual address to upgrade()"),this.ensureHasAddress(),n=n||new x2.CodeMetadata,i=i||[],s=s||0;let l=new bd.ContractUpgradePayloadBuilder().setCode(r).setCodeMetadata(n).setInitArgs(i).build();return new TE.Transaction({sender:e,receiver:this.getAddress(),value:s,gasLimit:o,gasPrice:a,data:l,chainID:u})}call({func:e,args:r,value:n,gasLimit:i,receiver:s,gasPrice:o,chainID:a,caller:u}){CE.Compatibility.guardAddressIsSetAndNonZero(u,"'caller' of SmartContract.call()","pass the actual address to call()"),this.ensureHasAddress(),r=r||[],n=n||0;let l=new bd.ContractCallPayloadBuilder().setFunction(e).setArgs(r).build();return new TE.Transaction({sender:u,receiver:s||this.getAddress(),value:n,gasLimit:i,gasPrice:o,data:l,chainID:a})}createQuery({func:e,args:r,value:n,caller:i}){return this.ensureHasAddress(),new ZH.Query({address:this.getAddress(),func:e,args:r,value:n,caller:i})}ensureHasAddress(){if(!this.getAddress().bech32())throw new $H.ErrContractHasNoAddress}static computeAddress(e,r){let n=h.Buffer.alloc(8,0),i=new rl.Address(e.bech32()).pubkey(),s=i.slice(30),o=h.Buffer.alloc(8),a=new KH.default(r.valueOf().toString(10)),u=JH.bigIntToBuffer(a);o.write(u.reverse().toString("hex"),"hex");let l=h.Buffer.concat([i,o]),f=e7("keccak256").update(l).digest(),d=h.Buffer.from(bd.ArwenVirtualMachine,"hex"),y=h.Buffer.concat([n,d,f.slice(10,30),s]);return new rl.Address(y)}};au.SmartContract=xE});var P2=w(uu=>{"use strict";c();Object.defineProperty(uu,"__esModule",{value:!0});uu.Signature=uu.Address=void 0;var NE=class{constructor(e){this.value=e}bech32(){return this.value}};uu.Address=NE;var OE=class{constructor(e){this.value=e}hex(){return this.value}};uu.Signature=OE});var R2=w(nl=>{"use strict";c();Object.defineProperty(nl,"__esModule",{value:!0});nl.Operation=void 0;var t7;(function(t){t.Connect="connect",t.Logout="logout",t.SignTransactions="signTransactions",t.SignMessage="signMessage",t.CancelAction="cancelAction"})(t7=nl.Operation||(nl.Operation={}))});var B2=w(Fi=>{"use strict";c();Object.defineProperty(Fi,"__esModule",{value:!0});Fi.ErrAccountNotConnected=Fi.ErrCannotSignSingleTransaction=Fi.Err=void 0;var il=class extends Error{constructor(e,r){super(e),this.inner=void 0,this.inner=r}};Fi.Err=il;var DE=class extends il{constructor(){super("Cannot sign single transaction.")}};Fi.ErrCannotSignSingleTransaction=DE;var PE=class extends il{constructor(){super("Account is not connected.")}};Fi.ErrAccountNotConnected=PE});var RE=w(cu=>{"use strict";c();var Mi=cu&&cu.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(f){try{l(n.next(f))}catch(d){o(d)}}function u(f){try{l(n.throw(f))}catch(d){o(d)}}function l(f){f.done?s(f.value):i(f.value).then(a,u)}l((n=n.apply(t,e||[])).next())})};Object.defineProperty(cu,"__esModule",{value:!0});cu.ExtensionProvider=void 0;var _d=P2(),sl=R2(),L2=B2(),vn=class{constructor(){if(this.account={address:""},this.initialized=!1,vn._instance)throw new Error("Error: Instantiation failed: Use ExtensionProvider.getInstance() instead of new.");vn._instance=this}static getInstance(){return vn._instance}setAddress(e){return this.account.address=e,vn._instance}init(){return Mi(this,void 0,void 0,function*(){return window&&window.elrondWallet&&(this.initialized=!0),this.initialized})}login(e={}){return Mi(this,void 0,void 0,function*(){if(!this.initialized)throw new Error("Extension provider is not initialised, call init() first");let{token:r}=e,n=r||"";return yield this.startBgrMsgChannel(sl.Operation.Connect,n),this.account.address})}logout(){return Mi(this,void 0,void 0,function*(){if(!this.initialized)throw new Error("Extension provider is not initialised, call init() first");try{yield this.startBgrMsgChannel(sl.Operation.Logout,this.account.address),this.disconnect()}catch(e){console.warn("Extension origin url is already cleared!",e)}return!0})}disconnect(){this.account={address:""}}getAddress(){return Mi(this,void 0,void 0,function*(){if(!this.initialized)throw new Error("Extension provider is not initialised, call init() first");return this.account?this.account.address:""})}isInitialized(){return this.initialized}isConnected(){return Mi(this,void 0,void 0,function*(){return!!this.account.address})}signTransaction(e){return Mi(this,void 0,void 0,function*(){this.ensureConnected();let r=yield this.signTransactions([e]);if(r.length!=1)throw new L2.ErrCannotSignSingleTransaction;return r[0]})}ensureConnected(){if(!this.account.address)throw new L2.ErrAccountNotConnected}signTransactions(e){return Mi(this,void 0,void 0,function*(){this.ensureConnected();let r=yield this.startBgrMsgChannel(sl.Operation.SignTransactions,{from:this.account.address,transactions:e.map(n=>n.toPlainObject())});try{for(let n=0;n<e.length;n++){let i=e[n],s=r[n];i.applySignature(new _d.Signature(s.signature),new _d.Address(this.account.address))}return e}catch(n){throw new Error(`Transaction canceled: ${n.message}.`)}})}signMessage(e){return Mi(this,void 0,void 0,function*(){this.ensureConnected();let r={account:this.account.address,message:e.message.toString()},n=yield this.startBgrMsgChannel(sl.Operation.SignMessage,r);return e.applySignature(new _d.Signature(n.signature),new _d.Address(this.account.address)),e})}cancelAction(){return this.startBgrMsgChannel(sl.Operation.CancelAction,{})}startBgrMsgChannel(e,r){return new Promise(n=>{window.postMessage({target:"erdw-inpage",type:e,data:r},window.origin);let i=s=>{s.isTrusted&&s.data.target==="erdw-contentScript"&&(s.data.type==="connectResponse"?(s.data.data&&s.data.data.address&&(this.account=s.data.data),window.removeEventListener("message",i),n(s.data.data)):(window.removeEventListener("message",i),n(s.data.data)))};window.addEventListener("message",i,!1)})}};cu.ExtensionProvider=vn;vn._instance=new vn});var j2=w((sae,V2)=>{"use strict";c();function r7(t){try{return JSON.stringify(t)}catch{return'"[Circular]"'}}V2.exports=n7;function n7(t,e,r){var n=r&&r.stringify||r7,i=1;if(typeof t=="object"&&t!==null){var s=e.length+i;if(s===1)return t;var o=new Array(s);o[0]=n(t);for(var a=1;a<s;a++)o[a]=n(e[a]);return o.join(" ")}if(typeof t!="string")return t;var u=e.length;if(u===0)return t;for(var l="",f=1-i,d=-1,y=t&&t.length||0,m=0;m<y;){if(t.charCodeAt(m)===37&&m+1<y){switch(d=d>-1?d:0,t.charCodeAt(m+1)){case 100:case 102:if(f>=u||e[f]==null)break;d<m&&(l+=t.slice(d,m)),l+=Number(e[f]),d=m+2,m++;break;case 105:if(f>=u||e[f]==null)break;d<m&&(l+=t.slice(d,m)),l+=Math.floor(Number(e[f])),d=m+2,m++;break;case 79:case 111:case 106:if(f>=u||e[f]===void 0)break;d<m&&(l+=t.slice(d,m));var v=typeof e[f];if(v==="string"){l+="'"+e[f]+"'",d=m+2,m++;break}if(v==="function"){l+=e[f].name||"<anonymous>",d=m+2,m++;break}l+=n(e[f]),d=m+2,m++;break;case 115:if(f>=u)break;d<m&&(l+=t.slice(d,m)),l+=String(e[f]),d=m+2,m++;break;case 37:d<m&&(l+=t.slice(d,m)),l+="%",d=m+2,m++,f--;break}++f}++m}return d===-1?t:(d<y&&(l+=t.slice(d)),l)}});var Od=w((aae,k2)=>{"use strict";c();var H2=j2();k2.exports=bn;var ol=d7().console||{},i7={mapHttpRequest:xd,mapHttpResponse:xd,wrapRequestSerializer:BE,wrapResponseSerializer:BE,wrapErrorSerializer:BE,req:xd,res:xd,err:c7};function s7(t,e){return Array.isArray(t)?t.filter(function(n){return n!=="!stdSerializers.err"}):t===!0?Object.keys(e):!1}function bn(t){t=t||{},t.browser=t.browser||{};let e=t.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");let r=t.browser.write||ol;t.browser.write&&(t.browser.asObject=!0);let n=t.serializers||{},i=s7(t.browser.serialize,n),s=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(s=!1);let o=["error","fatal","warn","info","debug","trace"];typeof r=="function"&&(r.error=r.fatal=r.warn=r.info=r.debug=r.trace=r),t.enabled===!1&&(t.level="silent");let a=t.level||"info",u=Object.create(r);u.log||(u.log=al),Object.defineProperty(u,"levelVal",{get:f}),Object.defineProperty(u,"level",{get:d,set:y});let l={transmit:e,serialize:i,asObject:t.browser.asObject,levels:o,timestamp:l7(t)};u.levels=bn.levels,u.level=a,u.setMaxListeners=u.getMaxListeners=u.emit=u.addListener=u.on=u.prependListener=u.once=u.prependOnceListener=u.removeListener=u.removeAllListeners=u.listeners=u.listenerCount=u.eventNames=u.write=u.flush=al,u.serializers=n,u._serialize=i,u._stdErrSerialize=s,u.child=m,e&&(u._logEvent=LE());function f(){return this.level==="silent"?1/0:this.levels.values[this.level]}function d(){return this._level}function y(v){if(v!=="silent"&&!this.levels.values[v])throw Error("unknown level "+v);this._level=v,lu(l,u,"error","log"),lu(l,u,"fatal","error"),lu(l,u,"warn","error"),lu(l,u,"info","log"),lu(l,u,"debug","log"),lu(l,u,"trace","log")}function m(v,T){if(!v)throw new Error("missing bindings for child Pino");T=T||{},i&&v.serializers&&(T.serializers=v.serializers);let B=T.serializers;if(i&&B){var A=Object.assign({},n,B),D=t.browser.serialize===!0?Object.keys(A):i;delete v.serializers,Nd([v],D,A,this._stdErrSerialize)}function x(R){this._childLevel=(R._childLevel|0)+1,this.error=fu(R,v,"error"),this.fatal=fu(R,v,"fatal"),this.warn=fu(R,v,"warn"),this.info=fu(R,v,"info"),this.debug=fu(R,v,"debug"),this.trace=fu(R,v,"trace"),A&&(this.serializers=A,this._serialize=D),e&&(this._logEvent=LE([].concat(R._logEvent.bindings,v)))}return x.prototype=this,new x(this)}return u}bn.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};bn.stdSerializers=i7;bn.stdTimeFunctions=Object.assign({},{nullTime:G2,epochTime:Q2,unixTime:f7,isoTime:h7});function lu(t,e,r,n){let i=Object.getPrototypeOf(e);e[r]=e.levelVal>e.levels.values[r]?al:i[r]?i[r]:ol[r]||ol[n]||al,o7(t,e,r)}function o7(t,e,r){!t.transmit&&e[r]===al||(e[r]=function(n){return function(){let s=t.timestamp(),o=new Array(arguments.length),a=Object.getPrototypeOf&&Object.getPrototypeOf(this)===ol?ol:this;for(var u=0;u<o.length;u++)o[u]=arguments[u];if(t.serialize&&!t.asObject&&Nd(o,this._serialize,this.serializers,this._stdErrSerialize),t.asObject?n.call(a,a7(this,r,o,s)):n.apply(a,o),t.transmit){let l=t.transmit.level||e.level,f=bn.levels.values[l],d=bn.levels.values[r];if(d<f)return;u7(this,{ts:s,methodLevel:r,methodValue:d,transmitLevel:l,transmitValue:bn.levels.values[t.transmit.level||e.level],send:t.transmit.send,val:e.levelVal},o)}}}(e[r]))}function a7(t,e,r,n){t._serialize&&Nd(r,t._serialize,t.serializers,t._stdErrSerialize);let i=r.slice(),s=i[0],o={};n&&(o.time=n),o.level=bn.levels.values[e];let a=(t._childLevel|0)+1;if(a<1&&(a=1),s!==null&&typeof s=="object"){for(;a--&&typeof i[0]=="object";)Object.assign(o,i.shift());s=i.length?H2(i.shift(),i):void 0}else typeof s=="string"&&(s=H2(i.shift(),i));return s!==void 0&&(o.msg=s),o}function Nd(t,e,r,n){for(let i in t)if(n&&t[i]instanceof Error)t[i]=bn.stdSerializers.err(t[i]);else if(typeof t[i]=="object"&&!Array.isArray(t[i]))for(let s in t[i])e&&e.indexOf(s)>-1&&s in r&&(t[i][s]=r[s](t[i][s]))}function fu(t,e,r){return function(){let n=new Array(1+arguments.length);n[0]=e;for(var i=1;i<n.length;i++)n[i]=arguments[i-1];return t[r].apply(this,n)}}function u7(t,e,r){let n=e.send,i=e.ts,s=e.methodLevel,o=e.methodValue,a=e.val,u=t._logEvent.bindings;Nd(r,t._serialize||Object.keys(t.serializers),t.serializers,t._stdErrSerialize===void 0?!0:t._stdErrSerialize),t._logEvent.ts=i,t._logEvent.messages=r.filter(function(l){return u.indexOf(l)===-1}),t._logEvent.level.label=s,t._logEvent.level.value=o,n(s,t._logEvent,a),t._logEvent=LE(u)}function LE(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}function c7(t){let e={type:t.constructor.name,msg:t.message,stack:t.stack};for(let r in t)e[r]===void 0&&(e[r]=t[r]);return e}function l7(t){return typeof t.timestamp=="function"?t.timestamp:t.timestamp===!1?G2:Q2}function xd(){return{}}function BE(t){return t}function al(){}function G2(){return!1}function Q2(){return Date.now()}function f7(){return Math.round(Date.now()/1e3)}function h7(){return new Date(Date.now()).toISOString()}function d7(){function t(e){return typeof e<"u"&&e}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return t(self)||t(window)||t(this)||{}}}});var cr={};at(cr,{__assign:()=>ME,__asyncDelegator:()=>C7,__asyncGenerator:()=>S7,__asyncValues:()=>T7,__await:()=>ul,__awaiter:()=>E7,__classPrivateFieldGet:()=>D7,__classPrivateFieldSet:()=>P7,__createBinding:()=>A7,__decorate:()=>y7,__exportStar:()=>b7,__extends:()=>p7,__generator:()=>v7,__importDefault:()=>O7,__importStar:()=>N7,__makeTemplateObject:()=>x7,__metadata:()=>w7,__param:()=>m7,__read:()=>z2,__rest:()=>g7,__spread:()=>_7,__spreadArrays:()=>I7,__values:()=>UE});function p7(t,e){FE(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function g7(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function y7(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function m7(t,e){return function(r,n){e(r,n,t)}}function w7(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function E7(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(f){try{l(n.next(f))}catch(d){o(d)}}function u(f){try{l(n.throw(f))}catch(d){o(d)}}function l(f){f.done?s(f.value):i(f.value).then(a,u)}l((n=n.apply(t,e||[])).next())})}function v7(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(f){return u([l,f])}}function u(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){r.label=l[1];break}if(l[0]===6&&r.label<s[1]){r.label=s[1],s=l;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(l);break}s[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(f){l=[6,f],i=0}finally{n=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function A7(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function b7(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function UE(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function z2(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function _7(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(z2(arguments[e]));return t}function I7(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function ul(t){return this instanceof ul?(this.v=t,this):new ul(t)}function S7(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(y){n[y]&&(i[y]=function(m){return new Promise(function(v,T){s.push([y,m,v,T])>1||a(y,m)})})}function a(y,m){try{u(n[y](m))}catch(v){d(s[0][3],v)}}function u(y){y.value instanceof ul?Promise.resolve(y.value.v).then(l,f):d(s[0][2],y)}function l(y){a("next",y)}function f(y){a("throw",y)}function d(y,m){y(m),s.shift(),s.length&&a(s[0][0],s[0][1])}}function C7(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=t[i]?function(o){return(r=!r)?{value:ul(t[i](o)),done:i==="return"}:s?s(o):o}:s}}function T7(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof UE=="function"?UE(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(o){return new Promise(function(a,u){o=t[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}}function x7(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function N7(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function O7(t){return t&&t.__esModule?t:{default:t}}function D7(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function P7(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}var FE,ME,lr=ge(()=>{c();FE=function(t,e){return FE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},FE(t,e)};ME=function(){return ME=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},ME.apply(this,arguments)}});var qE=w(Dd=>{"use strict";c();Object.defineProperty(Dd,"__esModule",{value:!0});function R7(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return JSON.parse(t)}catch{return t}}Dd.safeJsonParse=R7;function B7(t){return typeof t=="string"?t:JSON.stringify(t,(e,r)=>typeof r>"u"?null:r)}Dd.safeJsonStringify=B7});var W2=w((hae,Pd)=>{"use strict";c();(function(){"use strict";let t;function e(){}t=e,t.prototype.getItem=function(r){return this.hasOwnProperty(r)?String(this[r]):null},t.prototype.setItem=function(r,n){this[r]=String(n)},t.prototype.removeItem=function(r){delete this[r]},t.prototype.clear=function(){let r=this;Object.keys(r).forEach(function(n){r[n]=void 0,delete r[n]})},t.prototype.key=function(r){return r=r||0,Object.keys(this)[r]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof global<"u"&&global.localStorage?Pd.exports=global.localStorage:typeof window<"u"&&window.localStorage?Pd.exports=window.localStorage:Pd.exports=new e})()});var K2=w(Rd=>{"use strict";c();Object.defineProperty(Rd,"__esModule",{value:!0});Rd.IKeyValueStorage=void 0;var VE=class{};Rd.IKeyValueStorage=VE});var $2=w(Bd=>{"use strict";c();Object.defineProperty(Bd,"__esModule",{value:!0});Bd.parseEntry=void 0;var L7=qE();function F7(t){var e;return[t[0],L7.safeJsonParse((e=t[1])!==null&&e!==void 0?e:"")]}Bd.parseEntry=F7});var J2=w(Ld=>{"use strict";c();Object.defineProperty(Ld,"__esModule",{value:!0});var Y2=(lr(),nt(cr));Y2.__exportStar(K2(),Ld);Y2.__exportStar($2(),Ld)});var Z2=w(cl=>{"use strict";c();Object.defineProperty(cl,"__esModule",{value:!0});cl.KeyValueStorage=void 0;var hu=(lr(),nt(cr)),X2=qE(),M7=hu.__importDefault(W2()),U7=J2(),Fd=class{constructor(){this.localStorage=M7.default}getKeys(){return hu.__awaiter(this,void 0,void 0,function*(){return Object.keys(this.localStorage)})}getEntries(){return hu.__awaiter(this,void 0,void 0,function*(){return Object.entries(this.localStorage).map(U7.parseEntry)})}getItem(e){return hu.__awaiter(this,void 0,void 0,function*(){let r=this.localStorage.getItem(e);if(r!==null)return X2.safeJsonParse(r)})}setItem(e,r){return hu.__awaiter(this,void 0,void 0,function*(){this.localStorage.setItem(e,X2.safeJsonStringify(r))})}removeItem(e){return hu.__awaiter(this,void 0,void 0,function*(){this.localStorage.removeItem(e)})}};cl.KeyValueStorage=Fd;cl.default=Fd});var eN=w(Md=>{"use strict";c();Object.defineProperty(Md,"__esModule",{value:!0});Md.delay=void 0;function q7(t){return new Promise(e=>{setTimeout(()=>{e(!0)},t)})}Md.delay=q7});var tN=w(du=>{"use strict";c();Object.defineProperty(du,"__esModule",{value:!0});du.ONE_THOUSAND=du.ONE_HUNDRED=void 0;du.ONE_HUNDRED=100;du.ONE_THOUSAND=1e3});var rN=w(fe=>{"use strict";c();Object.defineProperty(fe,"__esModule",{value:!0});fe.ONE_YEAR=fe.FOUR_WEEKS=fe.THREE_WEEKS=fe.TWO_WEEKS=fe.ONE_WEEK=fe.THIRTY_DAYS=fe.SEVEN_DAYS=fe.FIVE_DAYS=fe.THREE_DAYS=fe.ONE_DAY=fe.TWENTY_FOUR_HOURS=fe.TWELVE_HOURS=fe.SIX_HOURS=fe.THREE_HOURS=fe.ONE_HOUR=fe.SIXTY_MINUTES=fe.THIRTY_MINUTES=fe.TEN_MINUTES=fe.FIVE_MINUTES=fe.ONE_MINUTE=fe.SIXTY_SECONDS=fe.THIRTY_SECONDS=fe.TEN_SECONDS=fe.FIVE_SECONDS=fe.ONE_SECOND=void 0;fe.ONE_SECOND=1;fe.FIVE_SECONDS=5;fe.TEN_SECONDS=10;fe.THIRTY_SECONDS=30;fe.SIXTY_SECONDS=60;fe.ONE_MINUTE=fe.SIXTY_SECONDS;fe.FIVE_MINUTES=fe.ONE_MINUTE*5;fe.TEN_MINUTES=fe.ONE_MINUTE*10;fe.THIRTY_MINUTES=fe.ONE_MINUTE*30;fe.SIXTY_MINUTES=fe.ONE_MINUTE*60;fe.ONE_HOUR=fe.SIXTY_MINUTES;fe.THREE_HOURS=fe.ONE_HOUR*3;fe.SIX_HOURS=fe.ONE_HOUR*6;fe.TWELVE_HOURS=fe.ONE_HOUR*12;fe.TWENTY_FOUR_HOURS=fe.ONE_HOUR*24;fe.ONE_DAY=fe.TWENTY_FOUR_HOURS;fe.THREE_DAYS=fe.ONE_DAY*3;fe.FIVE_DAYS=fe.ONE_DAY*5;fe.SEVEN_DAYS=fe.ONE_DAY*7;fe.THIRTY_DAYS=fe.ONE_DAY*30;fe.ONE_WEEK=fe.SEVEN_DAYS;fe.TWO_WEEKS=fe.ONE_WEEK*2;fe.THREE_WEEKS=fe.ONE_WEEK*3;fe.FOUR_WEEKS=fe.ONE_WEEK*4;fe.ONE_YEAR=fe.ONE_DAY*365});var jE=w(Ud=>{"use strict";c();Object.defineProperty(Ud,"__esModule",{value:!0});var nN=(lr(),nt(cr));nN.__exportStar(tN(),Ud);nN.__exportStar(rN(),Ud)});var sN=w(pu=>{"use strict";c();Object.defineProperty(pu,"__esModule",{value:!0});pu.fromMiliseconds=pu.toMiliseconds=void 0;var iN=jE();function V7(t){return t*iN.ONE_THOUSAND}pu.toMiliseconds=V7;function j7(t){return Math.floor(t/iN.ONE_THOUSAND)}pu.fromMiliseconds=j7});var aN=w(qd=>{"use strict";c();Object.defineProperty(qd,"__esModule",{value:!0});var oN=(lr(),nt(cr));oN.__exportStar(eN(),qd);oN.__exportStar(sN(),qd)});var uN=w(ll=>{"use strict";c();Object.defineProperty(ll,"__esModule",{value:!0});ll.Watch=void 0;var Vd=class{constructor(){this.timestamps=new Map}start(e){if(this.timestamps.has(e))throw new Error(`Watch already started for label: ${e}`);this.timestamps.set(e,{started:Date.now()})}stop(e){let r=this.get(e);if(typeof r.elapsed<"u")throw new Error(`Watch already stopped for label: ${e}`);let n=Date.now()-r.started;this.timestamps.set(e,{started:r.started,elapsed:n})}get(e){let r=this.timestamps.get(e);if(typeof r>"u")throw new Error(`No timestamp found for label: ${e}`);return r}elapsed(e){let r=this.get(e);return r.elapsed||Date.now()-r.started}};ll.Watch=Vd;ll.default=Vd});var cN=w(jd=>{"use strict";c();Object.defineProperty(jd,"__esModule",{value:!0});jd.IWatch=void 0;var HE=class{};jd.IWatch=HE});var lN=w(GE=>{"use strict";c();Object.defineProperty(GE,"__esModule",{value:!0});var H7=(lr(),nt(cr));H7.__exportStar(cN(),GE)});var co=w(gu=>{"use strict";c();Object.defineProperty(gu,"__esModule",{value:!0});var Hd=(lr(),nt(cr));Hd.__exportStar(aN(),gu);Hd.__exportStar(uN(),gu);Hd.__exportStar(lN(),gu);Hd.__exportStar(jE(),gu)});var QE,fN=ge(()=>{c();QE=class{}});var kE={};at(kE,{IEvents:()=>QE});var zE=ge(()=>{c();fN()});var hN=w(Gd=>{"use strict";c();Object.defineProperty(Gd,"__esModule",{value:!0});Gd.IHeartBeat=void 0;var G7=(zE(),nt(kE)),WE=class extends G7.IEvents{constructor(e){super()}};Gd.IHeartBeat=WE});var $E=w(KE=>{"use strict";c();Object.defineProperty(KE,"__esModule",{value:!0});var Q7=(lr(),nt(cr));Q7.__exportStar(hN(),KE)});var dN=w(yu=>{"use strict";c();Object.defineProperty(yu,"__esModule",{value:!0});yu.HEARTBEAT_EVENTS=yu.HEARTBEAT_INTERVAL=void 0;var k7=co();yu.HEARTBEAT_INTERVAL=k7.FIVE_SECONDS;yu.HEARTBEAT_EVENTS={pulse:"heartbeat_pulse"}});var JE=w(YE=>{"use strict";c();Object.defineProperty(YE,"__esModule",{value:!0});var z7=(lr(),nt(cr));z7.__exportStar(dN(),YE)});var pN=w(Qd=>{"use strict";c();Object.defineProperty(Qd,"__esModule",{value:!0});Qd.HeartBeat=void 0;var XE=(lr(),nt(cr)),W7=Wn(),K7=co(),$7=$E(),ZE=JE(),fl=class extends $7.IHeartBeat{constructor(e){super(e),this.events=new W7.EventEmitter,this.interval=ZE.HEARTBEAT_INTERVAL,this.interval=e?.interval||ZE.HEARTBEAT_INTERVAL}static init(e){return XE.__awaiter(this,void 0,void 0,function*(){let r=new fl(e);return yield r.init(),r})}init(){return XE.__awaiter(this,void 0,void 0,function*(){yield this.initialize()})}stop(){clearInterval(this.intervalRef)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}initialize(){return XE.__awaiter(this,void 0,void 0,function*(){this.intervalRef=setInterval(()=>this.pulse(),K7.toMiliseconds(this.interval))})}pulse(){this.events.emit(ZE.HEARTBEAT_EVENTS.pulse)}};Qd.HeartBeat=fl});var gN=w(hl=>{"use strict";c();Object.defineProperty(hl,"__esModule",{value:!0});var e1=(lr(),nt(cr));e1.__exportStar(pN(),hl);e1.__exportStar($E(),hl);e1.__exportStar(JE(),hl)});var t1=w(mu=>{"use strict";c();Object.defineProperty(mu,"__esModule",{value:!0});mu.PINO_CUSTOM_CONTEXT_KEY=mu.PINO_LOGGER_DEFAULTS=void 0;mu.PINO_LOGGER_DEFAULTS={level:"info"};mu.PINO_CUSTOM_CONTEXT_KEY="custom_context"});var vN=w(sr=>{"use strict";c();Object.defineProperty(sr,"__esModule",{value:!0});sr.generateChildLogger=sr.formatChildLoggerContext=sr.getLoggerContext=sr.setBrowserLoggerContext=sr.getBrowserLoggerContext=sr.getDefaultLoggerOptions=void 0;var wu=t1();function Y7(t){return Object.assign(Object.assign({},t),{level:t?.level||wu.PINO_LOGGER_DEFAULTS.level})}sr.getDefaultLoggerOptions=Y7;function yN(t,e=wu.PINO_CUSTOM_CONTEXT_KEY){return t[e]||""}sr.getBrowserLoggerContext=yN;function mN(t,e,r=wu.PINO_CUSTOM_CONTEXT_KEY){return t[r]=e,t}sr.setBrowserLoggerContext=mN;function wN(t,e=wu.PINO_CUSTOM_CONTEXT_KEY){let r="";return typeof t.bindings>"u"?r=yN(t,e):r=t.bindings().context||"",r}sr.getLoggerContext=wN;function EN(t,e,r=wu.PINO_CUSTOM_CONTEXT_KEY){let n=wN(t,r);return n.trim()?`${n}/${e}`:e}sr.formatChildLoggerContext=EN;function J7(t,e,r=wu.PINO_CUSTOM_CONTEXT_KEY){let n=EN(t,e,r),i=t.child({context:n});return mN(i,n,r)}sr.generateChildLogger=J7});var n1=w(Eu=>{"use strict";c();Object.defineProperty(Eu,"__esModule",{value:!0});Eu.pino=void 0;var r1=(lr(),nt(cr)),X7=r1.__importDefault(Od());Object.defineProperty(Eu,"pino",{enumerable:!0,get:function(){return X7.default}});r1.__exportStar(t1(),Eu);r1.__exportStar(vN(),Eu)});var v1=w(Ot=>{"use strict";c();Object.defineProperty(Ot,"__esModule",{value:!0});var vu=(zE(),nt(kE)),AN=Wn();function Z7(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}var eG=Z7(AN),i1=class extends vu.IEvents{constructor(e){super(),this.opts=e,this.protocol="wc",this.version=2}},s1=class{constructor(e,r,n){this.core=e,this.logger=r}},o1=class extends vu.IEvents{constructor(e,r){super(),this.core=e,this.logger=r,this.records=new Map}},a1=class{constructor(e,r){this.logger=e,this.core=r}},u1=class extends vu.IEvents{constructor(e,r){super(),this.relayer=e,this.logger=r}},c1=class extends vu.IEvents{constructor(e){super()}},l1=class{constructor(e,r,n,i){this.core=e,this.logger=r,this.name=n}},f1=class{constructor(){this.map=new Map}},h1=class extends vu.IEvents{constructor(e,r){super(),this.relayer=e,this.logger=r}},d1=class{constructor(e,r){this.core=e,this.logger=r}},p1=class extends vu.IEvents{constructor(e,r){super(),this.core=e,this.logger=r}},g1=class{constructor(e,r){this.logger=e,this.core=r}},y1=class extends eG.default{constructor(){super()}},m1=class{constructor(e){this.opts=e,this.protocol="wc",this.version=2}},w1=class extends AN.EventEmitter{constructor(){super()}},E1=class{constructor(e){this.client=e}};Ot.ICore=i1,Ot.ICrypto=s1,Ot.IEngine=E1,Ot.IEngineEvents=w1,Ot.IExpirer=p1,Ot.IJsonRpcHistory=o1,Ot.IKeyChain=d1,Ot.IMessageTracker=a1,Ot.IPairing=g1,Ot.IPublisher=u1,Ot.IRelayer=c1,Ot.ISignClient=m1,Ot.ISignClientEvents=y1,Ot.IStore=l1,Ot.ISubscriber=h1,Ot.ISubscriberTopicMap=f1});var bN={};at(bN,{safeJsonParse:()=>dl,safeJsonStringify:()=>pl});function dl(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return rG(t)}catch{return t}}function pl(t){return typeof t=="string"?t:tG(t)||""}var tG,rG,kd=ge(()=>{c();tG=t=>JSON.stringify(t,(e,r)=>typeof r=="bigint"?r.toString()+"n":r),rG=t=>{let e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,r=t.replace(e,'$1"$2n"$3');return JSON.parse(r,(n,i)=>typeof i=="string"&&i.match(/^\d+n$/)?BigInt(i.substring(0,i.length-1)):i)}});var IN=w(zd=>{"use strict";c();Object.defineProperty(zd,"__esModule",{value:!0});zd.BrowserRandomSource=void 0;var _N=65536,A1=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;let e=typeof self<"u"?self.crypto||self.msCrypto:null;e&&e.getRandomValues!==void 0&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");let r=new Uint8Array(e);for(let n=0;n<r.length;n+=_N)this._crypto.getRandomValues(r.subarray(n,n+Math.min(r.length-n,_N)));return r}};zd.BrowserRandomSource=A1});var Or=w(b1=>{"use strict";c();Object.defineProperty(b1,"__esModule",{value:!0});function nG(t){for(var e=0;e<t.length;e++)t[e]=0;return t}b1.wipe=nG});var SN=w(()=>{c()});var CN=w(Wd=>{"use strict";c();Object.defineProperty(Wd,"__esModule",{value:!0});Wd.NodeRandomSource=void 0;var iG=Or(),_1=class{constructor(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof B_<"u"){let e=SN();e&&e.randomBytes&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let r=this._crypto.randomBytes(e);if(r.length!==e)throw new Error("NodeRandomSource: got fewer bytes than requested");let n=new Uint8Array(e);for(let i=0;i<n.length;i++)n[i]=r[i];return(0,iG.wipe)(r),n}};Wd.NodeRandomSource=_1});var TN=w(Kd=>{"use strict";c();Object.defineProperty(Kd,"__esModule",{value:!0});Kd.SystemRandomSource=void 0;var sG=IN(),oG=CN(),I1=class{constructor(){if(this.isAvailable=!1,this.name="",this._source=new sG.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new oG.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(e)}};Kd.SystemRandomSource=I1});var xN=w(fr=>{"use strict";c();Object.defineProperty(fr,"__esModule",{value:!0});function aG(t,e){var r=t>>>16&65535,n=t&65535,i=e>>>16&65535,s=e&65535;return n*s+(r*s+n*i<<16>>>0)|0}fr.mul=Math.imul||aG;function uG(t,e){return t+e|0}fr.add=uG;function cG(t,e){return t-e|0}fr.sub=cG;function lG(t,e){return t<<e|t>>>32-e}fr.rotl=lG;function fG(t,e){return t<<32-e|t>>>e}fr.rotr=fG;function hG(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t}fr.isInteger=Number.isInteger||hG;fr.MAX_SAFE_INTEGER=9007199254740991;fr.isSafeInteger=function(t){return fr.isInteger(t)&&t>=-fr.MAX_SAFE_INTEGER&&t<=fr.MAX_SAFE_INTEGER}});var Au=w(Ne=>{"use strict";c();Object.defineProperty(Ne,"__esModule",{value:!0});var NN=xN();function dG(t,e){return e===void 0&&(e=0),(t[e+0]<<8|t[e+1])<<16>>16}Ne.readInt16BE=dG;function pG(t,e){return e===void 0&&(e=0),(t[e+0]<<8|t[e+1])>>>0}Ne.readUint16BE=pG;function gG(t,e){return e===void 0&&(e=0),(t[e+1]<<8|t[e])<<16>>16}Ne.readInt16LE=gG;function yG(t,e){return e===void 0&&(e=0),(t[e+1]<<8|t[e])>>>0}Ne.readUint16LE=yG;function ON(t,e,r){return e===void 0&&(e=new Uint8Array(2)),r===void 0&&(r=0),e[r+0]=t>>>8,e[r+1]=t>>>0,e}Ne.writeUint16BE=ON;Ne.writeInt16BE=ON;function DN(t,e,r){return e===void 0&&(e=new Uint8Array(2)),r===void 0&&(r=0),e[r+0]=t>>>0,e[r+1]=t>>>8,e}Ne.writeUint16LE=DN;Ne.writeInt16LE=DN;function S1(t,e){return e===void 0&&(e=0),t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]}Ne.readInt32BE=S1;function C1(t,e){return e===void 0&&(e=0),(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}Ne.readUint32BE=C1;function T1(t,e){return e===void 0&&(e=0),t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]}Ne.readInt32LE=T1;function x1(t,e){return e===void 0&&(e=0),(t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e])>>>0}Ne.readUint32LE=x1;function $d(t,e,r){return e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0),e[r+0]=t>>>24,e[r+1]=t>>>16,e[r+2]=t>>>8,e[r+3]=t>>>0,e}Ne.writeUint32BE=$d;Ne.writeInt32BE=$d;function Yd(t,e,r){return e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0),e[r+0]=t>>>0,e[r+1]=t>>>8,e[r+2]=t>>>16,e[r+3]=t>>>24,e}Ne.writeUint32LE=Yd;Ne.writeInt32LE=Yd;function mG(t,e){e===void 0&&(e=0);var r=S1(t,e),n=S1(t,e+4);return r*4294967296+n-(n>>31)*4294967296}Ne.readInt64BE=mG;function wG(t,e){e===void 0&&(e=0);var r=C1(t,e),n=C1(t,e+4);return r*4294967296+n}Ne.readUint64BE=wG;function EG(t,e){e===void 0&&(e=0);var r=T1(t,e),n=T1(t,e+4);return n*4294967296+r-(r>>31)*4294967296}Ne.readInt64LE=EG;function vG(t,e){e===void 0&&(e=0);var r=x1(t,e),n=x1(t,e+4);return n*4294967296+r}Ne.readUint64LE=vG;function PN(t,e,r){return e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0),$d(t/4294967296>>>0,e,r),$d(t>>>0,e,r+4),e}Ne.writeUint64BE=PN;Ne.writeInt64BE=PN;function RN(t,e,r){return e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0),Yd(t>>>0,e,r),Yd(t/4294967296>>>0,e,r+4),e}Ne.writeUint64LE=RN;Ne.writeInt64LE=RN;function AG(t,e,r){if(r===void 0&&(r=0),t%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(t/8>e.length-r)throw new Error("readUintBE: array is too short for the given bitLength");for(var n=0,i=1,s=t/8+r-1;s>=r;s--)n+=e[s]*i,i*=256;return n}Ne.readUintBE=AG;function bG(t,e,r){if(r===void 0&&(r=0),t%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(t/8>e.length-r)throw new Error("readUintLE: array is too short for the given bitLength");for(var n=0,i=1,s=r;s<r+t/8;s++)n+=e[s]*i,i*=256;return n}Ne.readUintLE=bG;function _G(t,e,r,n){if(r===void 0&&(r=new Uint8Array(t/8)),n===void 0&&(n=0),t%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!NN.isSafeInteger(e))throw new Error("writeUintBE value must be an integer");for(var i=1,s=t/8+n-1;s>=n;s--)r[s]=e/i&255,i*=256;return r}Ne.writeUintBE=_G;function IG(t,e,r,n){if(r===void 0&&(r=new Uint8Array(t/8)),n===void 0&&(n=0),t%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!NN.isSafeInteger(e))throw new Error("writeUintLE value must be an integer");for(var i=1,s=n;s<n+t/8;s++)r[s]=e/i&255,i*=256;return r}Ne.writeUintLE=IG;function SG(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat32(e)}Ne.readFloat32BE=SG;function CG(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat32(e,!0)}Ne.readFloat32LE=CG;function TG(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat64(e)}Ne.readFloat64BE=TG;function xG(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat64(e,!0)}Ne.readFloat64LE=xG;function NG(t,e,r){e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat32(r,t),e}Ne.writeFloat32BE=NG;function OG(t,e,r){e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat32(r,t,!0),e}Ne.writeFloat32LE=OG;function DG(t,e,r){e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat64(r,t),e}Ne.writeFloat64BE=DG;function PG(t,e,r){e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat64(r,t,!0),e}Ne.writeFloat64LE=PG});var gl=w(zt=>{"use strict";c();Object.defineProperty(zt,"__esModule",{value:!0});zt.randomStringForEntropy=zt.randomString=zt.randomUint32=zt.randomBytes=zt.defaultRandomSource=void 0;var RG=TN(),BG=Au(),BN=Or();zt.defaultRandomSource=new RG.SystemRandomSource;function N1(t,e=zt.defaultRandomSource){return e.randomBytes(t)}zt.randomBytes=N1;function LG(t=zt.defaultRandomSource){let e=N1(4,t),r=(0,BG.readUint32LE)(e);return(0,BN.wipe)(e),r}zt.randomUint32=LG;var LN="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function FN(t,e=LN,r=zt.defaultRandomSource){if(e.length<2)throw new Error("randomString charset is too short");if(e.length>256)throw new Error("randomString charset is too long");let n="",i=e.length,s=256-256%i;for(;t>0;){let o=N1(Math.ceil(t*256/s),r);for(let a=0;a<o.length&&t>0;a++){let u=o[a];u<s&&(n+=e.charAt(u%i),t--)}(0,BN.wipe)(o)}return n}zt.randomString=FN;function FG(t,e=LN,r=zt.defaultRandomSource){let n=Math.ceil(t/(Math.log(e.length)/Math.LN2));return FN(n,e,r)}zt.randomStringForEntropy=FG});var qN=w($n=>{"use strict";c();Object.defineProperty($n,"__esModule",{value:!0});var _u=Au(),bu=Or();$n.DIGEST_LENGTH=64;$n.BLOCK_SIZE=128;var UN=function(){function t(){this.digestLength=$n.DIGEST_LENGTH,this.blockSize=$n.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return t.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},t.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},t.prototype.clean=function(){bu.wipe(this._buffer),bu.wipe(this._tempHi),bu.wipe(this._tempLo),this.reset()},t.prototype.update=function(e,r){if(r===void 0&&(r=e.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var n=0;if(this._bytesHashed+=r,this._bufferLength>0){for(;this._bufferLength<$n.BLOCK_SIZE&&r>0;)this._buffer[this._bufferLength++]=e[n++],r--;this._bufferLength===this.blockSize&&(O1(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(r>=this.blockSize&&(n=O1(this._tempHi,this._tempLo,this._stateHi,this._stateLo,e,n,r),r%=this.blockSize);r>0;)this._buffer[this._bufferLength++]=e[n++],r--;return this},t.prototype.finish=function(e){if(!this._finished){var r=this._bytesHashed,n=this._bufferLength,i=r/536870912|0,s=r<<3,o=r%128<112?128:256;this._buffer[n]=128;for(var a=n+1;a<o-8;a++)this._buffer[a]=0;_u.writeUint32BE(i,this._buffer,o-8),_u.writeUint32BE(s,this._buffer,o-4),O1(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,o),this._finished=!0}for(var a=0;a<this.digestLength/8;a++)_u.writeUint32BE(this._stateHi[a],e,a*8),_u.writeUint32BE(this._stateLo[a],e,a*8+4);return this},t.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},t.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},t.prototype.restoreState=function(e){return this._stateHi.set(e.stateHi),this._stateLo.set(e.stateLo),this._bufferLength=e.bufferLength,e.buffer&&this._buffer.set(e.buffer),this._bytesHashed=e.bytesHashed,this._finished=!1,this},t.prototype.cleanSavedState=function(e){bu.wipe(e.stateHi),bu.wipe(e.stateLo),e.buffer&&bu.wipe(e.buffer),e.bufferLength=0,e.bytesHashed=0},t}();$n.SHA512=UN;var MN=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function O1(t,e,r,n,i,s,o){for(var a=r[0],u=r[1],l=r[2],f=r[3],d=r[4],y=r[5],m=r[6],v=r[7],T=n[0],B=n[1],A=n[2],D=n[3],x=n[4],R=n[5],P=n[6],L=n[7],_,C,M,Z,z,H,G,$;o>=128;){for(var de=0;de<16;de++){var ae=8*de+s;t[de]=_u.readUint32BE(i,ae),e[de]=_u.readUint32BE(i,ae+4)}for(var de=0;de<80;de++){var re=a,Y=u,ie=l,te=f,ne=d,q=y,ce=m,oe=v,le=T,se=B,ue=A,g=D,E=x,b=R,O=P,I=L;if(_=v,C=L,z=C&65535,H=C>>>16,G=_&65535,$=_>>>16,_=(d>>>14|x<<32-14)^(d>>>18|x<<32-18)^(x>>>41-32|d<<32-(41-32)),C=(x>>>14|d<<32-14)^(x>>>18|d<<32-18)^(d>>>41-32|x<<32-(41-32)),z+=C&65535,H+=C>>>16,G+=_&65535,$+=_>>>16,_=d&y^~d&m,C=x&R^~x&P,z+=C&65535,H+=C>>>16,G+=_&65535,$+=_>>>16,_=MN[de*2],C=MN[de*2+1],z+=C&65535,H+=C>>>16,G+=_&65535,$+=_>>>16,_=t[de%16],C=e[de%16],z+=C&65535,H+=C>>>16,G+=_&65535,$+=_>>>16,H+=z>>>16,G+=H>>>16,$+=G>>>16,M=G&65535|$<<16,Z=z&65535|H<<16,_=M,C=Z,z=C&65535,H=C>>>16,G=_&65535,$=_>>>16,_=(a>>>28|T<<32-28)^(T>>>34-32|a<<32-(34-32))^(T>>>39-32|a<<32-(39-32)),C=(T>>>28|a<<32-28)^(a>>>34-32|T<<32-(34-32))^(a>>>39-32|T<<32-(39-32)),z+=C&65535,H+=C>>>16,G+=_&65535,$+=_>>>16,_=a&u^a&l^u&l,C=T&B^T&A^B&A,z+=C&65535,H+=C>>>16,G+=_&65535,$+=_>>>16,H+=z>>>16,G+=H>>>16,$+=G>>>16,oe=G&65535|$<<16,I=z&65535|H<<16,_=te,C=g,z=C&65535,H=C>>>16,G=_&65535,$=_>>>16,_=M,C=Z,z+=C&65535,H+=C>>>16,G+=_&65535,$+=_>>>16,H+=z>>>16,G+=H>>>16,$+=G>>>16,te=G&65535|$<<16,g=z&65535|H<<16,u=re,l=Y,f=ie,d=te,y=ne,m=q,v=ce,a=oe,B=le,A=se,D=ue,x=g,R=E,P=b,L=O,T=I,de%16===15)for(var ae=0;ae<16;ae++)_=t[ae],C=e[ae],z=C&65535,H=C>>>16,G=_&65535,$=_>>>16,_=t[(ae+9)%16],C=e[(ae+9)%16],z+=C&65535,H+=C>>>16,G+=_&65535,$+=_>>>16,M=t[(ae+1)%16],Z=e[(ae+1)%16],_=(M>>>1|Z<<32-1)^(M>>>8|Z<<32-8)^M>>>7,C=(Z>>>1|M<<32-1)^(Z>>>8|M<<32-8)^(Z>>>7|M<<32-7),z+=C&65535,H+=C>>>16,G+=_&65535,$+=_>>>16,M=t[(ae+14)%16],Z=e[(ae+14)%16],_=(M>>>19|Z<<32-19)^(Z>>>61-32|M<<32-(61-32))^M>>>6,C=(Z>>>19|M<<32-19)^(M>>>61-32|Z<<32-(61-32))^(Z>>>6|M<<32-6),z+=C&65535,H+=C>>>16,G+=_&65535,$+=_>>>16,H+=z>>>16,G+=H>>>16,$+=G>>>16,t[ae]=G&65535|$<<16,e[ae]=z&65535|H<<16}_=a,C=T,z=C&65535,H=C>>>16,G=_&65535,$=_>>>16,_=r[0],C=n[0],z+=C&65535,H+=C>>>16,G+=_&65535,$+=_>>>16,H+=z>>>16,G+=H>>>16,$+=G>>>16,r[0]=a=G&65535|$<<16,n[0]=T=z&65535|H<<16,_=u,C=B,z=C&65535,H=C>>>16,G=_&65535,$=_>>>16,_=r[1],C=n[1],z+=C&65535,H+=C>>>16,G+=_&65535,$+=_>>>16,H+=z>>>16,G+=H>>>16,$+=G>>>16,r[1]=u=G&65535|$<<16,n[1]=B=z&65535|H<<16,_=l,C=A,z=C&65535,H=C>>>16,G=_&65535,$=_>>>16,_=r[2],C=n[2],z+=C&65535,H+=C>>>16,G+=_&65535,$+=_>>>16,H+=z>>>16,G+=H>>>16,$+=G>>>16,r[2]=l=G&65535|$<<16,n[2]=A=z&65535|H<<16,_=f,C=D,z=C&65535,H=C>>>16,G=_&65535,$=_>>>16,_=r[3],C=n[3],z+=C&65535,H+=C>>>16,G+=_&65535,$+=_>>>16,H+=z>>>16,G+=H>>>16,$+=G>>>16,r[3]=f=G&65535|$<<16,n[3]=D=z&65535|H<<16,_=d,C=x,z=C&65535,H=C>>>16,G=_&65535,$=_>>>16,_=r[4],C=n[4],z+=C&65535,H+=C>>>16,G+=_&65535,$+=_>>>16,H+=z>>>16,G+=H>>>16,$+=G>>>16,r[4]=d=G&65535|$<<16,n[4]=x=z&65535|H<<16,_=y,C=R,z=C&65535,H=C>>>16,G=_&65535,$=_>>>16,_=r[5],C=n[5],z+=C&65535,H+=C>>>16,G+=_&65535,$+=_>>>16,H+=z>>>16,G+=H>>>16,$+=G>>>16,r[5]=y=G&65535|$<<16,n[5]=R=z&65535|H<<16,_=m,C=P,z=C&65535,H=C>>>16,G=_&65535,$=_>>>16,_=r[6],C=n[6],z+=C&65535,H+=C>>>16,G+=_&65535,$+=_>>>16,H+=z>>>16,G+=H>>>16,$+=G>>>16,r[6]=m=G&65535|$<<16,n[6]=P=z&65535|H<<16,_=v,C=L,z=C&65535,H=C>>>16,G=_&65535,$=_>>>16,_=r[7],C=n[7],z+=C&65535,H+=C>>>16,G+=_&65535,$+=_>>>16,H+=z>>>16,G+=H>>>16,$+=G>>>16,r[7]=v=G&65535|$<<16,n[7]=L=z&65535|H<<16,s+=128,o-=128}return s}function MG(t){var e=new UN;e.update(t);var r=e.digest();return e.clean(),r}$n.hash=MG});var ZN=w(qe=>{"use strict";c();Object.defineProperty(qe,"__esModule",{value:!0});qe.convertSecretKeyToX25519=qe.convertPublicKeyToX25519=qe.verify=qe.sign=qe.extractPublicKeyFromSecretKey=qe.generateKeyPair=qe.generateKeyPairFromSeed=qe.SEED_LENGTH=qe.SECRET_KEY_LENGTH=qe.PUBLIC_KEY_LENGTH=qe.SIGNATURE_LENGTH=void 0;var UG=gl(),yl=qN(),QN=Or();qe.SIGNATURE_LENGTH=64;qe.PUBLIC_KEY_LENGTH=32;qe.SECRET_KEY_LENGTH=64;qe.SEED_LENGTH=32;function Ee(t){let e=new Float64Array(16);if(t)for(let r=0;r<t.length;r++)e[r]=t[r];return e}var qG=new Uint8Array(32);qG[0]=9;var R1=Ee(),Iu=Ee([1]),VG=Ee([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),jG=Ee([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),VN=Ee([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),jN=Ee([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),HG=Ee([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function Ui(t,e){for(let r=0;r<16;r++)t[r]=e[r]|0}function D1(t){let e=1;for(let r=0;r<16;r++){let n=t[r]+e+65535;e=Math.floor(n/65536),t[r]=n-e*65536}t[0]+=e-1+37*(e-1)}function kN(t,e,r){let n=~(r-1);for(let i=0;i<16;i++){let s=n&(t[i]^e[i]);t[i]^=s,e[i]^=s}}function ml(t,e){let r=Ee(),n=Ee();for(let i=0;i<16;i++)n[i]=e[i];D1(n),D1(n),D1(n);for(let i=0;i<2;i++){r[0]=n[0]-65517;for(let o=1;o<15;o++)r[o]=n[o]-65535-(r[o-1]>>16&1),r[o-1]&=65535;r[15]=n[15]-32767-(r[14]>>16&1);let s=r[15]>>16&1;r[14]&=65535,kN(n,r,1-s)}for(let i=0;i<16;i++)t[2*i]=n[i]&255,t[2*i+1]=n[i]>>8}function zN(t,e){let r=0;for(let n=0;n<32;n++)r|=t[n]^e[n];return(1&r-1>>>8)-1}function HN(t,e){let r=new Uint8Array(32),n=new Uint8Array(32);return ml(r,t),ml(n,e),zN(r,n)}function WN(t){let e=new Uint8Array(32);return ml(e,t),e[0]&1}function GG(t,e){for(let r=0;r<16;r++)t[r]=e[2*r]+(e[2*r+1]<<8);t[15]&=32767}function lo(t,e,r){for(let n=0;n<16;n++)t[n]=e[n]+r[n]}function ho(t,e,r){for(let n=0;n<16;n++)t[n]=e[n]-r[n]}function Ge(t,e,r){let n,i,s=0,o=0,a=0,u=0,l=0,f=0,d=0,y=0,m=0,v=0,T=0,B=0,A=0,D=0,x=0,R=0,P=0,L=0,_=0,C=0,M=0,Z=0,z=0,H=0,G=0,$=0,de=0,ae=0,re=0,Y=0,ie=0,te=r[0],ne=r[1],q=r[2],ce=r[3],oe=r[4],le=r[5],se=r[6],ue=r[7],g=r[8],E=r[9],b=r[10],O=r[11],I=r[12],N=r[13],F=r[14],S=r[15];n=e[0],s+=n*te,o+=n*ne,a+=n*q,u+=n*ce,l+=n*oe,f+=n*le,d+=n*se,y+=n*ue,m+=n*g,v+=n*E,T+=n*b,B+=n*O,A+=n*I,D+=n*N,x+=n*F,R+=n*S,n=e[1],o+=n*te,a+=n*ne,u+=n*q,l+=n*ce,f+=n*oe,d+=n*le,y+=n*se,m+=n*ue,v+=n*g,T+=n*E,B+=n*b,A+=n*O,D+=n*I,x+=n*N,R+=n*F,P+=n*S,n=e[2],a+=n*te,u+=n*ne,l+=n*q,f+=n*ce,d+=n*oe,y+=n*le,m+=n*se,v+=n*ue,T+=n*g,B+=n*E,A+=n*b,D+=n*O,x+=n*I,R+=n*N,P+=n*F,L+=n*S,n=e[3],u+=n*te,l+=n*ne,f+=n*q,d+=n*ce,y+=n*oe,m+=n*le,v+=n*se,T+=n*ue,B+=n*g,A+=n*E,D+=n*b,x+=n*O,R+=n*I,P+=n*N,L+=n*F,_+=n*S,n=e[4],l+=n*te,f+=n*ne,d+=n*q,y+=n*ce,m+=n*oe,v+=n*le,T+=n*se,B+=n*ue,A+=n*g,D+=n*E,x+=n*b,R+=n*O,P+=n*I,L+=n*N,_+=n*F,C+=n*S,n=e[5],f+=n*te,d+=n*ne,y+=n*q,m+=n*ce,v+=n*oe,T+=n*le,B+=n*se,A+=n*ue,D+=n*g,x+=n*E,R+=n*b,P+=n*O,L+=n*I,_+=n*N,C+=n*F,M+=n*S,n=e[6],d+=n*te,y+=n*ne,m+=n*q,v+=n*ce,T+=n*oe,B+=n*le,A+=n*se,D+=n*ue,x+=n*g,R+=n*E,P+=n*b,L+=n*O,_+=n*I,C+=n*N,M+=n*F,Z+=n*S,n=e[7],y+=n*te,m+=n*ne,v+=n*q,T+=n*ce,B+=n*oe,A+=n*le,D+=n*se,x+=n*ue,R+=n*g,P+=n*E,L+=n*b,_+=n*O,C+=n*I,M+=n*N,Z+=n*F,z+=n*S,n=e[8],m+=n*te,v+=n*ne,T+=n*q,B+=n*ce,A+=n*oe,D+=n*le,x+=n*se,R+=n*ue,P+=n*g,L+=n*E,_+=n*b,C+=n*O,M+=n*I,Z+=n*N,z+=n*F,H+=n*S,n=e[9],v+=n*te,T+=n*ne,B+=n*q,A+=n*ce,D+=n*oe,x+=n*le,R+=n*se,P+=n*ue,L+=n*g,_+=n*E,C+=n*b,M+=n*O,Z+=n*I,z+=n*N,H+=n*F,G+=n*S,n=e[10],T+=n*te,B+=n*ne,A+=n*q,D+=n*ce,x+=n*oe,R+=n*le,P+=n*se,L+=n*ue,_+=n*g,C+=n*E,M+=n*b,Z+=n*O,z+=n*I,H+=n*N,G+=n*F,$+=n*S,n=e[11],B+=n*te,A+=n*ne,D+=n*q,x+=n*ce,R+=n*oe,P+=n*le,L+=n*se,_+=n*ue,C+=n*g,M+=n*E,Z+=n*b,z+=n*O,H+=n*I,G+=n*N,$+=n*F,de+=n*S,n=e[12],A+=n*te,D+=n*ne,x+=n*q,R+=n*ce,P+=n*oe,L+=n*le,_+=n*se,C+=n*ue,M+=n*g,Z+=n*E,z+=n*b,H+=n*O,G+=n*I,$+=n*N,de+=n*F,ae+=n*S,n=e[13],D+=n*te,x+=n*ne,R+=n*q,P+=n*ce,L+=n*oe,_+=n*le,C+=n*se,M+=n*ue,Z+=n*g,z+=n*E,H+=n*b,G+=n*O,$+=n*I,de+=n*N,ae+=n*F,re+=n*S,n=e[14],x+=n*te,R+=n*ne,P+=n*q,L+=n*ce,_+=n*oe,C+=n*le,M+=n*se,Z+=n*ue,z+=n*g,H+=n*E,G+=n*b,$+=n*O,de+=n*I,ae+=n*N,re+=n*F,Y+=n*S,n=e[15],R+=n*te,P+=n*ne,L+=n*q,_+=n*ce,C+=n*oe,M+=n*le,Z+=n*se,z+=n*ue,H+=n*g,G+=n*E,$+=n*b,de+=n*O,ae+=n*I,re+=n*N,Y+=n*F,ie+=n*S,s+=38*P,o+=38*L,a+=38*_,u+=38*C,l+=38*M,f+=38*Z,d+=38*z,y+=38*H,m+=38*G,v+=38*$,T+=38*de,B+=38*ae,A+=38*re,D+=38*Y,x+=38*ie,i=1,n=s+i+65535,i=Math.floor(n/65536),s=n-i*65536,n=o+i+65535,i=Math.floor(n/65536),o=n-i*65536,n=a+i+65535,i=Math.floor(n/65536),a=n-i*65536,n=u+i+65535,i=Math.floor(n/65536),u=n-i*65536,n=l+i+65535,i=Math.floor(n/65536),l=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=d+i+65535,i=Math.floor(n/65536),d=n-i*65536,n=y+i+65535,i=Math.floor(n/65536),y=n-i*65536,n=m+i+65535,i=Math.floor(n/65536),m=n-i*65536,n=v+i+65535,i=Math.floor(n/65536),v=n-i*65536,n=T+i+65535,i=Math.floor(n/65536),T=n-i*65536,n=B+i+65535,i=Math.floor(n/65536),B=n-i*65536,n=A+i+65535,i=Math.floor(n/65536),A=n-i*65536,n=D+i+65535,i=Math.floor(n/65536),D=n-i*65536,n=x+i+65535,i=Math.floor(n/65536),x=n-i*65536,n=R+i+65535,i=Math.floor(n/65536),R=n-i*65536,s+=i-1+37*(i-1),i=1,n=s+i+65535,i=Math.floor(n/65536),s=n-i*65536,n=o+i+65535,i=Math.floor(n/65536),o=n-i*65536,n=a+i+65535,i=Math.floor(n/65536),a=n-i*65536,n=u+i+65535,i=Math.floor(n/65536),u=n-i*65536,n=l+i+65535,i=Math.floor(n/65536),l=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=d+i+65535,i=Math.floor(n/65536),d=n-i*65536,n=y+i+65535,i=Math.floor(n/65536),y=n-i*65536,n=m+i+65535,i=Math.floor(n/65536),m=n-i*65536,n=v+i+65535,i=Math.floor(n/65536),v=n-i*65536,n=T+i+65535,i=Math.floor(n/65536),T=n-i*65536,n=B+i+65535,i=Math.floor(n/65536),B=n-i*65536,n=A+i+65535,i=Math.floor(n/65536),A=n-i*65536,n=D+i+65535,i=Math.floor(n/65536),D=n-i*65536,n=x+i+65535,i=Math.floor(n/65536),x=n-i*65536,n=R+i+65535,i=Math.floor(n/65536),R=n-i*65536,s+=i-1+37*(i-1),t[0]=s,t[1]=o,t[2]=a,t[3]=u,t[4]=l,t[5]=f,t[6]=d,t[7]=y,t[8]=m,t[9]=v,t[10]=T,t[11]=B,t[12]=A,t[13]=D,t[14]=x,t[15]=R}function fo(t,e){Ge(t,e,e)}function KN(t,e){let r=Ee(),n;for(n=0;n<16;n++)r[n]=e[n];for(n=253;n>=0;n--)fo(r,r),n!==2&&n!==4&&Ge(r,r,e);for(n=0;n<16;n++)t[n]=r[n]}function QG(t,e){let r=Ee(),n;for(n=0;n<16;n++)r[n]=e[n];for(n=250;n>=0;n--)fo(r,r),n!==1&&Ge(r,r,e);for(n=0;n<16;n++)t[n]=r[n]}function B1(t,e){let r=Ee(),n=Ee(),i=Ee(),s=Ee(),o=Ee(),a=Ee(),u=Ee(),l=Ee(),f=Ee();ho(r,t[1],t[0]),ho(f,e[1],e[0]),Ge(r,r,f),lo(n,t[0],t[1]),lo(f,e[0],e[1]),Ge(n,n,f),Ge(i,t[3],e[3]),Ge(i,i,jG),Ge(s,t[2],e[2]),lo(s,s,s),ho(o,n,r),ho(a,s,i),lo(u,s,i),lo(l,n,r),Ge(t[0],o,a),Ge(t[1],l,u),Ge(t[2],u,a),Ge(t[3],o,l)}function GN(t,e,r){for(let n=0;n<4;n++)kN(t[n],e[n],r)}function F1(t,e){let r=Ee(),n=Ee(),i=Ee();KN(i,e[2]),Ge(r,e[0],i),Ge(n,e[1],i),ml(t,n),t[31]^=WN(r)<<7}function $N(t,e,r){Ui(t[0],R1),Ui(t[1],Iu),Ui(t[2],Iu),Ui(t[3],R1);for(let n=255;n>=0;--n){let i=r[n/8|0]>>(n&7)&1;GN(t,e,i),B1(e,t),B1(t,t),GN(t,e,i)}}function M1(t,e){let r=[Ee(),Ee(),Ee(),Ee()];Ui(r[0],VN),Ui(r[1],jN),Ui(r[2],Iu),Ge(r[3],VN,jN),$N(t,r,e)}function YN(t){if(t.length!==qe.SEED_LENGTH)throw new Error(`ed25519: seed must be ${qe.SEED_LENGTH} bytes`);let e=(0,yl.hash)(t);e[0]&=248,e[31]&=127,e[31]|=64;let r=new Uint8Array(32),n=[Ee(),Ee(),Ee(),Ee()];M1(n,e),F1(r,n);let i=new Uint8Array(64);return i.set(t),i.set(r,32),{publicKey:r,secretKey:i}}qe.generateKeyPairFromSeed=YN;function kG(t){let e=(0,UG.randomBytes)(32,t),r=YN(e);return(0,QN.wipe)(e),r}qe.generateKeyPair=kG;function zG(t){if(t.length!==qe.SECRET_KEY_LENGTH)throw new Error(`ed25519: secret key must be ${qe.SECRET_KEY_LENGTH} bytes`);return new Uint8Array(t.subarray(32))}qe.extractPublicKeyFromSecretKey=zG;var P1=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function JN(t,e){let r,n,i,s;for(n=63;n>=32;--n){for(r=0,i=n-32,s=n-12;i<s;++i)e[i]+=r-16*e[n]*P1[i-(n-32)],r=Math.floor((e[i]+128)/256),e[i]-=r*256;e[i]+=r,e[n]=0}for(r=0,i=0;i<32;i++)e[i]+=r-(e[31]>>4)*P1[i],r=e[i]>>8,e[i]&=255;for(i=0;i<32;i++)e[i]-=r*P1[i];for(n=0;n<32;n++)e[n+1]+=e[n]>>8,t[n]=e[n]&255}function L1(t){let e=new Float64Array(64);for(let r=0;r<64;r++)e[r]=t[r];for(let r=0;r<64;r++)t[r]=0;JN(t,e)}function WG(t,e){let r=new Float64Array(64),n=[Ee(),Ee(),Ee(),Ee()],i=(0,yl.hash)(t.subarray(0,32));i[0]&=248,i[31]&=127,i[31]|=64;let s=new Uint8Array(64);s.set(i.subarray(32),32);let o=new yl.SHA512;o.update(s.subarray(32)),o.update(e);let a=o.digest();o.clean(),L1(a),M1(n,a),F1(s,n),o.reset(),o.update(s.subarray(0,32)),o.update(t.subarray(32)),o.update(e);let u=o.digest();L1(u);for(let l=0;l<32;l++)r[l]=a[l];for(let l=0;l<32;l++)for(let f=0;f<32;f++)r[l+f]+=u[l]*i[f];return JN(s.subarray(32),r),s}qe.sign=WG;function XN(t,e){let r=Ee(),n=Ee(),i=Ee(),s=Ee(),o=Ee(),a=Ee(),u=Ee();return Ui(t[2],Iu),GG(t[1],e),fo(i,t[1]),Ge(s,i,VG),ho(i,i,t[2]),lo(s,t[2],s),fo(o,s),fo(a,o),Ge(u,a,o),Ge(r,u,i),Ge(r,r,s),QG(r,r),Ge(r,r,i),Ge(r,r,s),Ge(r,r,s),Ge(t[0],r,s),fo(n,t[0]),Ge(n,n,s),HN(n,i)&&Ge(t[0],t[0],HG),fo(n,t[0]),Ge(n,n,s),HN(n,i)?-1:(WN(t[0])===e[31]>>7&&ho(t[0],R1,t[0]),Ge(t[3],t[0],t[1]),0)}function KG(t,e,r){let n=new Uint8Array(32),i=[Ee(),Ee(),Ee(),Ee()],s=[Ee(),Ee(),Ee(),Ee()];if(r.length!==qe.SIGNATURE_LENGTH)throw new Error(`ed25519: signature must be ${qe.SIGNATURE_LENGTH} bytes`);if(XN(s,t))return!1;let o=new yl.SHA512;o.update(r.subarray(0,32)),o.update(t),o.update(e);let a=o.digest();return L1(a),$N(i,s,a),M1(s,r.subarray(32)),B1(i,s),F1(n,i),!zN(r,n)}qe.verify=KG;function $G(t){let e=[Ee(),Ee(),Ee(),Ee()];if(XN(e,t))throw new Error("Ed25519: invalid public key");let r=Ee(),n=Ee(),i=e[1];lo(r,Iu,i),ho(n,Iu,i),KN(n,n),Ge(r,r,n);let s=new Uint8Array(32);return ml(s,r),s}qe.convertPublicKeyToX25519=$G;function YG(t){let e=(0,yl.hash)(t.subarray(0,32));e[0]&=248,e[31]&=127,e[31]|=64;let r=new Uint8Array(e.subarray(0,32));return(0,QN.wipe)(e),r}qe.convertSecretKeyToX25519=YG});var Jd,Xd,po,Su,Zd,wl,ep,tp,rp,Cu,np,ip,eO,tO,sp=ge(()=>{c();Jd="EdDSA",Xd="JWT",po=".",Su="base64url",Zd="utf8",wl="utf8",ep=":",tp="did",rp="key",Cu="base58btc",np="z",ip="K36",eO=32,tO=32});function qi(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}var El=ge(()=>{c()});function Tu(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?qi(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}var op=ge(()=>{c();El()});function ap(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));let r=Tu(e),n=0;for(let i of t)r.set(i,n),n+=i.length;return qi(r)}var U1=ge(()=>{c();op();El()});function JG(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=t.length,u=t.charAt(0),l=Math.log(a)/Math.log(256),f=Math.log(256)/Math.log(a);function d(v){if(v instanceof Uint8Array||(ArrayBuffer.isView(v)?v=new Uint8Array(v.buffer,v.byteOffset,v.byteLength):Array.isArray(v)&&(v=Uint8Array.from(v))),!(v instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(v.length===0)return"";for(var T=0,B=0,A=0,D=v.length;A!==D&&v[A]===0;)A++,T++;for(var x=(D-A)*f+1>>>0,R=new Uint8Array(x);A!==D;){for(var P=v[A],L=0,_=x-1;(P!==0||L<B)&&_!==-1;_--,L++)P+=256*R[_]>>>0,R[_]=P%a>>>0,P=P/a>>>0;if(P!==0)throw new Error("Non-zero carry");B=L,A++}for(var C=x-B;C!==x&&R[C]===0;)C++;for(var M=u.repeat(T);C<x;++C)M+=t.charAt(R[C]);return M}function y(v){if(typeof v!="string")throw new TypeError("Expected String");if(v.length===0)return new Uint8Array;var T=0;if(v[T]!==" "){for(var B=0,A=0;v[T]===u;)B++,T++;for(var D=(v.length-T)*l+1>>>0,x=new Uint8Array(D);v[T];){var R=r[v.charCodeAt(T)];if(R===255)return;for(var P=0,L=D-1;(R!==0||P<A)&&L!==-1;L--,P++)R+=a*x[L]>>>0,x[L]=R%256>>>0,R=R/256>>>0;if(R!==0)throw new Error("Non-zero carry");A=P,T++}if(v[T]!==" "){for(var _=D-A;_!==D&&x[_]===0;)_++;for(var C=new Uint8Array(B+(D-_)),M=B;_!==D;)C[M++]=x[_++];return C}}}function m(v){var T=y(v);if(T)return T;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:y,decode:m}}var XG,ZG,rO,nO=ge(()=>{c();XG=JG,ZG=XG,rO=ZG});var Kue,iO,Yn,sO,oO,Vi=ge(()=>{c();Kue=new Uint8Array(0),iO=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0},Yn=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},sO=t=>new TextEncoder().encode(t),oO=t=>new TextDecoder().decode(t)});var q1,V1,j1,uO,H1,xu,ji,e9,t9,ct,Hr=ge(()=>{c();nO();Vi();q1=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},V1=class{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return uO(this,e)}},j1=class{constructor(e){this.decoders=e}or(e){return uO(this,e)}decode(e){let r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},uO=(t,e)=>new j1({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}}),H1=class{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new q1(e,r,n),this.decoder=new V1(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},xu=({name:t,prefix:e,encode:r,decode:n})=>new H1(t,e,r,n),ji=({prefix:t,name:e,alphabet:r})=>{let{encode:n,decode:i}=rO(r,e);return xu({prefix:t,name:e,encode:n,decode:s=>Yn(i(s))})},e9=(t,e,r,n)=>{let i={};for(let f=0;f<e.length;++f)i[e[f]]=f;let s=t.length;for(;t[s-1]==="=";)--s;let o=new Uint8Array(s*r/8|0),a=0,u=0,l=0;for(let f=0;f<s;++f){let d=i[t[f]];if(d===void 0)throw new SyntaxError(`Non-${n} character`);u=u<<r|d,a+=r,a>=8&&(a-=8,o[l++]=255&u>>a)}if(a>=r||255&u<<8-a)throw new SyntaxError("Unexpected end of data");return o},t9=(t,e,r)=>{let n=e[e.length-1]==="=",i=(1<<r)-1,s="",o=0,a=0;for(let u=0;u<t.length;++u)for(a=a<<8|t[u],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},ct=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>xu({prefix:e,name:t,encode(i){return t9(i,n,r)},decode(i){return e9(i,n,r,t)}})});var G1={};at(G1,{identity:()=>r9});var r9,cO=ge(()=>{c();Hr();Vi();r9=xu({prefix:"\0",name:"identity",encode:t=>oO(t),decode:t=>sO(t)})});var Q1={};at(Q1,{base2:()=>n9});var n9,lO=ge(()=>{c();Hr();n9=ct({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1})});var k1={};at(k1,{base8:()=>i9});var i9,fO=ge(()=>{c();Hr();i9=ct({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3})});var z1={};at(z1,{base10:()=>s9});var s9,hO=ge(()=>{c();Hr();s9=ji({prefix:"9",name:"base10",alphabet:"0123456789"})});var W1={};at(W1,{base16:()=>o9,base16upper:()=>a9});var o9,a9,dO=ge(()=>{c();Hr();o9=ct({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),a9=ct({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4})});var K1={};at(K1,{base32:()=>Nu,base32hex:()=>f9,base32hexpad:()=>d9,base32hexpadupper:()=>p9,base32hexupper:()=>h9,base32pad:()=>c9,base32padupper:()=>l9,base32upper:()=>u9,base32z:()=>g9});var Nu,u9,c9,l9,f9,h9,d9,p9,g9,$1=ge(()=>{c();Hr();Nu=ct({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),u9=ct({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),c9=ct({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),l9=ct({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),f9=ct({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),h9=ct({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),d9=ct({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),p9=ct({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),g9=ct({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})});var Y1={};at(Y1,{base36:()=>y9,base36upper:()=>m9});var y9,m9,pO=ge(()=>{c();Hr();y9=ji({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),m9=ji({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})});var J1={};at(J1,{base58btc:()=>_n,base58flickr:()=>w9});var _n,w9,X1=ge(()=>{c();Hr();_n=ji({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),w9=ji({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})});var Z1={};at(Z1,{base64:()=>E9,base64pad:()=>v9,base64url:()=>A9,base64urlpad:()=>b9});var E9,v9,A9,b9,gO=ge(()=>{c();Hr();E9=ct({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),v9=ct({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),A9=ct({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),b9=ct({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})});var ev={};at(ev,{base256emoji:()=>T9});function S9(t){return t.reduce((e,r)=>(e+=_9[r],e),"")}function C9(t){let e=[];for(let r of t){let n=I9[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}var yO,_9,I9,T9,mO=ge(()=>{c();Hr();yO=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),_9=yO.reduce((t,e,r)=>(t[r]=e,t),[]),I9=yO.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);T9=xu({prefix:"\u{1F680}",name:"base256emoji",encode:S9,decode:C9})});function vO(t,e,r){e=e||[],r=r||0;for(var n=r;t>=D9;)e[r++]=t&255|wO,t/=128;for(;t&O9;)e[r++]=t&255|wO,t>>>=7;return e[r]=t|0,vO.bytes=r-n+1,e}function tv(t,n){var r=0,n=n||0,i=0,s=n,o,a=t.length;do{if(s>=a)throw tv.bytes=0,new RangeError("Could not decode varint");o=t[s++],r+=i<28?(o&EO)<<i:(o&EO)*Math.pow(2,i),i+=7}while(o>=R9);return tv.bytes=s-n,r}var x9,wO,N9,O9,D9,P9,R9,EO,B9,L9,F9,M9,U9,q9,V9,j9,H9,G9,Q9,k9,vl,AO=ge(()=>{c();x9=vO,wO=128,N9=127,O9=~N9,D9=Math.pow(2,31);P9=tv,R9=128,EO=127;B9=Math.pow(2,7),L9=Math.pow(2,14),F9=Math.pow(2,21),M9=Math.pow(2,28),U9=Math.pow(2,35),q9=Math.pow(2,42),V9=Math.pow(2,49),j9=Math.pow(2,56),H9=Math.pow(2,63),G9=function(t){return t<B9?1:t<L9?2:t<F9?3:t<M9?4:t<U9?5:t<q9?6:t<V9?7:t<j9?8:t<H9?9:10},Q9={encode:x9,decode:P9,encodingLength:G9},k9=Q9,vl=k9});var Al,Ou,Du,cp=ge(()=>{c();AO();Al=(t,e=0)=>[vl.decode(t,e),vl.decode.bytes],Ou=(t,e,r=0)=>(vl.encode(t,e,r),e),Du=t=>vl.encodingLength(t)});var go,bO,_O,Pu,_l=ge(()=>{c();Vi();cp();go=(t,e)=>{let r=e.byteLength,n=Du(t),i=n+Du(r),s=new Uint8Array(i+r);return Ou(t,s,0),Ou(r,s,n),s.set(e,i),new Pu(t,r,e,s)},bO=t=>{let e=Yn(t),[r,n]=Al(e),[i,s]=Al(e.subarray(n)),o=e.subarray(n+s);if(o.byteLength!==i)throw new Error("Incorrect length");return new Pu(r,i,o,e)},_O=(t,e)=>t===e?!0:t.code===e.code&&t.size===e.size&&iO(t.bytes,e.bytes),Pu=class{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}}});var nv,rv,iv=ge(()=>{c();_l();nv=({name:t,code:e,encode:r})=>new rv(t,e,r),rv=class{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){let r=this.encode(e);return r instanceof Uint8Array?go(this.code,r):r.then(n=>go(this.code,n))}else throw Error("Unknown type, must be binary type")}}});var sv={};at(sv,{sha256:()=>z9,sha512:()=>W9});var SO,z9,W9,CO=ge(()=>{c();iv();SO=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),z9=nv({name:"sha2-256",code:18,encode:SO("SHA-256")}),W9=nv({name:"sha2-512",code:19,encode:SO("SHA-512")})});var ov={};at(ov,{identity:()=>Y9});var TO,K9,xO,$9,Y9,NO=ge(()=>{c();Vi();_l();TO=0,K9="identity",xO=Yn,$9=t=>go(TO,xO(t)),Y9={code:TO,name:K9,encode:xO,digest:$9}});var OO=ge(()=>{c();Vi()});var Bce,Lce,DO=ge(()=>{c();Bce=new TextEncoder,Lce=new TextDecoder});var _t,Z9,eQ,tQ,Il,rQ,PO,RO,lp,fp,nQ,iQ,sQ,BO=ge(()=>{c();cp();_l();X1();$1();Vi();_t=class{constructor(e,r,n,i){this.code=r,this.version=e,this.multihash=n,this.bytes=i,this.byteOffset=i.byteOffset,this.byteLength=i.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:fp,byteLength:fp,code:lp,version:lp,multihash:lp,bytes:lp,_baseCache:fp,asCID:fp})}toV0(){switch(this.version){case 0:return this;default:{let{code:e,multihash:r}=this;if(e!==Il)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==rQ)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return _t.createV0(r)}}}toV1(){switch(this.version){case 0:{let{code:e,digest:r}=this.multihash,n=go(e,r);return _t.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&_O(this.multihash,e.multihash)}toString(e){let{bytes:r,version:n,_baseCache:i}=this;switch(n){case 0:return eQ(r,i,e||_n.encoder);default:return tQ(r,i,e||Nu.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return iQ(/^0\.0/,sQ),!!(e&&(e[RO]||e.asCID===e))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof _t)return e;if(e!=null&&e.asCID===e){let{version:r,code:n,multihash:i,bytes:s}=e;return new _t(r,n,i,s||PO(r,n,i.bytes))}else if(e!=null&&e[RO]===!0){let{version:r,multihash:n,code:i}=e,s=bO(n);return _t.create(r,i,s)}else return null}static create(e,r,n){if(typeof r!="number")throw new Error("String codecs are no longer supported");switch(e){case 0:{if(r!==Il)throw new Error(`Version 0 CID must use dag-pb (code: ${Il}) block encoding`);return new _t(e,r,n,n.bytes)}case 1:{let i=PO(e,r,n.bytes);return new _t(e,r,n,i)}default:throw new Error("Invalid version")}}static createV0(e){return _t.create(0,Il,e)}static createV1(e,r){return _t.create(1,e,r)}static decode(e){let[r,n]=_t.decodeFirst(e);if(n.length)throw new Error("Incorrect length");return r}static decodeFirst(e){let r=_t.inspectBytes(e),n=r.size-r.multihashSize,i=Yn(e.subarray(n,n+r.multihashSize));if(i.byteLength!==r.multihashSize)throw new Error("Incorrect length");let s=i.subarray(r.multihashSize-r.digestSize),o=new Pu(r.multihashCode,r.digestSize,s,i);return[r.version===0?_t.createV0(o):_t.createV1(r.codec,o),e.subarray(r.size)]}static inspectBytes(e){let r=0,n=()=>{let[d,y]=Al(e.subarray(r));return r+=y,d},i=n(),s=Il;if(i===18?(i=0,r=0):i===1&&(s=n()),i!==0&&i!==1)throw new RangeError(`Invalid CID version ${i}`);let o=r,a=n(),u=n(),l=r+u,f=l-o;return{version:i,codec:s,multihashCode:a,digestSize:u,multihashSize:f,size:l}}static parse(e,r){let[n,i]=Z9(e,r),s=_t.decode(i);return s._baseCache.set(n,e),s}},Z9=(t,e)=>{switch(t[0]){case"Q":{let r=e||_n;return[_n.prefix,r.decode(`${_n.prefix}${t}`)]}case _n.prefix:{let r=e||_n;return[_n.prefix,r.decode(t)]}case Nu.prefix:{let r=e||Nu;return[Nu.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}},eQ=(t,e,r)=>{let{prefix:n}=r;if(n!==_n.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let i=e.get(n);if(i==null){let s=r.encode(t).slice(1);return e.set(n,s),s}else return i},tQ=(t,e,r)=>{let{prefix:n}=r,i=e.get(n);if(i==null){let s=r.encode(t);return e.set(n,s),s}else return i},Il=112,rQ=18,PO=(t,e,r)=>{let n=Du(t),i=n+Du(e),s=new Uint8Array(i+r.byteLength);return Ou(t,s,0),Ou(e,s,n),s.set(r,i),s},RO=Symbol.for("@ipld/js-cid/CID"),lp={writable:!1,configurable:!1,enumerable:!0},fp={writable:!1,enumerable:!1,configurable:!1},nQ="0.0.0-dev",iQ=(t,e)=>{if(t.test(nQ))console.warn(e);else throw new Error(e)},sQ=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`});var LO=ge(()=>{c();BO();cp();Vi();iv();_l()});var av,zce,FO=ge(()=>{c();cO();lO();fO();hO();dO();$1();pO();X1();gO();mO();CO();NO();OO();DO();LO();av={...G1,...Q1,...k1,...z1,...W1,...K1,...Y1,...J1,...Z1,...ev},zce={...sv,...ov}});function UO(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}var MO,uv,oQ,hp,cv=ge(()=>{c();FO();op();MO=UO("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),uv=UO("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);let e=Tu(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),oQ={utf8:MO,"utf-8":MO,hex:av.base16,latin1:uv,ascii:uv,binary:uv,...av},hp=oQ});function Jn(t,e="utf8"){let r=hp[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}var lv=ge(()=>{c();cv()});function In(t,e="utf8"){let r=hp[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?qi(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}var fv=ge(()=>{c();cv();El()});function Sl(t){return dl(Jn(In(t,Su),Zd))}function Cl(t){return Jn(In(pl(t),Zd),Su)}function hv(t){let e=In(ip,Cu),r=np+Jn(ap([e,t]),Cu);return[tp,rp,r].join(ep)}function dv(t){let[e,r,n]=t.split(ep);if(e!==tp||r!==rp)throw new Error('Issuer must be a DID with method "key"');if(n.slice(0,1)!==np)throw new Error("Issuer must be a key in mulicodec format");let s=In(n.slice(1),Cu);if(Jn(s.slice(0,2),Cu)!==ip)throw new Error('Issuer must be a public key with type "Ed25519"');let a=s.slice(2);if(a.length!==32)throw new Error("Issuer must be a public key with length 32 bytes");return a}function qO(t){return Jn(t,Su)}function VO(t){return In(t,Su)}function pv(t){return In([Cl(t.header),Cl(t.payload)].join(po),wl)}function aQ(t){let e=Jn(t,wl).split(po),r=Sl(e[0]),n=Sl(e[1]);return{header:r,payload:n}}function gv(t){return[Cl(t.header),Cl(t.payload),qO(t.signature)].join(po)}function yv(t){let e=t.split(po),r=Sl(e[0]),n=Sl(e[1]),i=VO(e[2]),s=In(e.slice(0,2).join(po),wl);return{header:r,payload:n,signature:i,data:s}}var mv=ge(()=>{c();U1();lv();fv();kd();sp()});function uQ(t=(0,jO.randomBytes)(32)){return Ru.generateKeyPairFromSeed(t)}async function cQ(t,e,r,n,i=(0,HO.fromMiliseconds)(Date.now())){let s={alg:Jd,typ:Xd},o=hv(n.publicKey),a=i+r,u={iss:o,sub:t,aud:e,iat:i,exp:a},l=pv({header:s,payload:u}),f=Ru.sign(n.secretKey,l);return gv({header:s,payload:u,signature:f})}async function lQ(t){let{header:e,payload:r,data:n,signature:i}=yv(t);if(e.alg!==Jd||e.typ!==Xd)throw new Error("JWT must use EdDSA algorithm");let s=dv(r.iss);return Ru.verify(s,n,i)}var Ru,jO,HO,GO=ge(()=>{c();Ru=_e(ZN()),jO=_e(gl()),HO=_e(co());sp();mv()});var QO=ge(()=>{c()});var kO={};at(kO,{DATA_ENCODING:()=>wl,DID_DELIMITER:()=>ep,DID_METHOD:()=>rp,DID_PREFIX:()=>tp,JSON_ENCODING:()=>Zd,JWT_DELIMITER:()=>po,JWT_ENCODING:()=>Su,JWT_IRIDIUM_ALG:()=>Jd,JWT_IRIDIUM_TYP:()=>Xd,KEY_PAIR_SEED_LENGTH:()=>tO,MULTICODEC_ED25519_BASE:()=>np,MULTICODEC_ED25519_ENCODING:()=>Cu,MULTICODEC_ED25519_HEADER:()=>ip,MULTICODEC_ED25519_LENGTH:()=>eO,decodeData:()=>aQ,decodeIss:()=>dv,decodeJSON:()=>Sl,decodeJWT:()=>yv,decodeSig:()=>VO,encodeData:()=>pv,encodeIss:()=>hv,encodeJSON:()=>Cl,encodeJWT:()=>gv,encodeSig:()=>qO,generateKeyPair:()=>uQ,signJWT:()=>cQ,verifyJWT:()=>lQ});var zO=ge(()=>{c();GO();sp();QO();mv()});var KO=w(dp=>{"use strict";c();Object.defineProperty(dp,"__esModule",{value:!0});var Wt=Au(),wv=Or(),fQ=20;function hQ(t,e,r){for(var n=1634760805,i=857760878,s=2036477234,o=1797285236,a=r[3]<<24|r[2]<<16|r[1]<<8|r[0],u=r[7]<<24|r[6]<<16|r[5]<<8|r[4],l=r[11]<<24|r[10]<<16|r[9]<<8|r[8],f=r[15]<<24|r[14]<<16|r[13]<<8|r[12],d=r[19]<<24|r[18]<<16|r[17]<<8|r[16],y=r[23]<<24|r[22]<<16|r[21]<<8|r[20],m=r[27]<<24|r[26]<<16|r[25]<<8|r[24],v=r[31]<<24|r[30]<<16|r[29]<<8|r[28],T=e[3]<<24|e[2]<<16|e[1]<<8|e[0],B=e[7]<<24|e[6]<<16|e[5]<<8|e[4],A=e[11]<<24|e[10]<<16|e[9]<<8|e[8],D=e[15]<<24|e[14]<<16|e[13]<<8|e[12],x=n,R=i,P=s,L=o,_=a,C=u,M=l,Z=f,z=d,H=y,G=m,$=v,de=T,ae=B,re=A,Y=D,ie=0;ie<fQ;ie+=2)x=x+_|0,de^=x,de=de>>>32-16|de<<16,z=z+de|0,_^=z,_=_>>>32-12|_<<12,R=R+C|0,ae^=R,ae=ae>>>32-16|ae<<16,H=H+ae|0,C^=H,C=C>>>32-12|C<<12,P=P+M|0,re^=P,re=re>>>32-16|re<<16,G=G+re|0,M^=G,M=M>>>32-12|M<<12,L=L+Z|0,Y^=L,Y=Y>>>32-16|Y<<16,$=$+Y|0,Z^=$,Z=Z>>>32-12|Z<<12,P=P+M|0,re^=P,re=re>>>32-8|re<<8,G=G+re|0,M^=G,M=M>>>32-7|M<<7,L=L+Z|0,Y^=L,Y=Y>>>32-8|Y<<8,$=$+Y|0,Z^=$,Z=Z>>>32-7|Z<<7,R=R+C|0,ae^=R,ae=ae>>>32-8|ae<<8,H=H+ae|0,C^=H,C=C>>>32-7|C<<7,x=x+_|0,de^=x,de=de>>>32-8|de<<8,z=z+de|0,_^=z,_=_>>>32-7|_<<7,x=x+C|0,Y^=x,Y=Y>>>32-16|Y<<16,G=G+Y|0,C^=G,C=C>>>32-12|C<<12,R=R+M|0,de^=R,de=de>>>32-16|de<<16,$=$+de|0,M^=$,M=M>>>32-12|M<<12,P=P+Z|0,ae^=P,ae=ae>>>32-16|ae<<16,z=z+ae|0,Z^=z,Z=Z>>>32-12|Z<<12,L=L+_|0,re^=L,re=re>>>32-16|re<<16,H=H+re|0,_^=H,_=_>>>32-12|_<<12,P=P+Z|0,ae^=P,ae=ae>>>32-8|ae<<8,z=z+ae|0,Z^=z,Z=Z>>>32-7|Z<<7,L=L+_|0,re^=L,re=re>>>32-8|re<<8,H=H+re|0,_^=H,_=_>>>32-7|_<<7,R=R+M|0,de^=R,de=de>>>32-8|de<<8,$=$+de|0,M^=$,M=M>>>32-7|M<<7,x=x+C|0,Y^=x,Y=Y>>>32-8|Y<<8,G=G+Y|0,C^=G,C=C>>>32-7|C<<7;Wt.writeUint32LE(x+n|0,t,0),Wt.writeUint32LE(R+i|0,t,4),Wt.writeUint32LE(P+s|0,t,8),Wt.writeUint32LE(L+o|0,t,12),Wt.writeUint32LE(_+a|0,t,16),Wt.writeUint32LE(C+u|0,t,20),Wt.writeUint32LE(M+l|0,t,24),Wt.writeUint32LE(Z+f|0,t,28),Wt.writeUint32LE(z+d|0,t,32),Wt.writeUint32LE(H+y|0,t,36),Wt.writeUint32LE(G+m|0,t,40),Wt.writeUint32LE($+v|0,t,44),Wt.writeUint32LE(de+T|0,t,48),Wt.writeUint32LE(ae+B|0,t,52),Wt.writeUint32LE(re+A|0,t,56),Wt.writeUint32LE(Y+D|0,t,60)}function WO(t,e,r,n,i){if(i===void 0&&(i=0),t.length!==32)throw new Error("ChaCha: key size must be 32 bytes");if(n.length<r.length)throw new Error("ChaCha: destination is shorter than source");var s,o;if(i===0){if(e.length!==8&&e.length!==12)throw new Error("ChaCha nonce must be 8 or 12 bytes");s=new Uint8Array(16),o=s.length-e.length,s.set(e,o)}else{if(e.length!==16)throw new Error("ChaCha nonce with counter must be 16 bytes");s=e,o=i}for(var a=new Uint8Array(64),u=0;u<r.length;u+=64){hQ(a,s,t);for(var l=u;l<u+64&&l<r.length;l++)n[l]=r[l]^a[l-u];pQ(s,0,o)}return wv.wipe(a),i===0&&wv.wipe(s),n}dp.streamXOR=WO;function dQ(t,e,r,n){return n===void 0&&(n=0),wv.wipe(r),WO(t,e,r,r,n)}dp.stream=dQ;function pQ(t,e,r){for(var n=1;r--;)n=n+(t[e]&255)|0,t[e]=n&255,n>>>=8,e++;if(n>0)throw new Error("ChaCha: counter overflow")}});var pp=w(Bu=>{"use strict";c();Object.defineProperty(Bu,"__esModule",{value:!0});function gQ(t,e,r){return~(t-1)&e|t-1&r}Bu.select=gQ;function yQ(t,e){return(t|0)-(e|0)-1>>>31&1}Bu.lessOrEqual=yQ;function $O(t,e){if(t.length!==e.length)return 0;for(var r=0,n=0;n<t.length;n++)r|=t[n]^e[n];return 1&r-1>>>8}Bu.compare=$O;function mQ(t,e){return t.length===0||e.length===0?!1:$O(t,e)!==0}Bu.equal=mQ});var JO=w(Xn=>{"use strict";c();Object.defineProperty(Xn,"__esModule",{value:!0});var wQ=pp(),gp=Or();Xn.DIGEST_LENGTH=16;var YO=function(){function t(e){this.digestLength=Xn.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var r=e[0]|e[1]<<8;this._r[0]=r&8191;var n=e[2]|e[3]<<8;this._r[1]=(r>>>13|n<<3)&8191;var i=e[4]|e[5]<<8;this._r[2]=(n>>>10|i<<6)&7939;var s=e[6]|e[7]<<8;this._r[3]=(i>>>7|s<<9)&8191;var o=e[8]|e[9]<<8;this._r[4]=(s>>>4|o<<12)&255,this._r[5]=o>>>1&8190;var a=e[10]|e[11]<<8;this._r[6]=(o>>>14|a<<2)&8191;var u=e[12]|e[13]<<8;this._r[7]=(a>>>11|u<<5)&8065;var l=e[14]|e[15]<<8;this._r[8]=(u>>>8|l<<8)&8191,this._r[9]=l>>>5&127,this._pad[0]=e[16]|e[17]<<8,this._pad[1]=e[18]|e[19]<<8,this._pad[2]=e[20]|e[21]<<8,this._pad[3]=e[22]|e[23]<<8,this._pad[4]=e[24]|e[25]<<8,this._pad[5]=e[26]|e[27]<<8,this._pad[6]=e[28]|e[29]<<8,this._pad[7]=e[30]|e[31]<<8}return t.prototype._blocks=function(e,r,n){for(var i=this._fin?0:2048,s=this._h[0],o=this._h[1],a=this._h[2],u=this._h[3],l=this._h[4],f=this._h[5],d=this._h[6],y=this._h[7],m=this._h[8],v=this._h[9],T=this._r[0],B=this._r[1],A=this._r[2],D=this._r[3],x=this._r[4],R=this._r[5],P=this._r[6],L=this._r[7],_=this._r[8],C=this._r[9];n>=16;){var M=e[r+0]|e[r+1]<<8;s+=M&8191;var Z=e[r+2]|e[r+3]<<8;o+=(M>>>13|Z<<3)&8191;var z=e[r+4]|e[r+5]<<8;a+=(Z>>>10|z<<6)&8191;var H=e[r+6]|e[r+7]<<8;u+=(z>>>7|H<<9)&8191;var G=e[r+8]|e[r+9]<<8;l+=(H>>>4|G<<12)&8191,f+=G>>>1&8191;var $=e[r+10]|e[r+11]<<8;d+=(G>>>14|$<<2)&8191;var de=e[r+12]|e[r+13]<<8;y+=($>>>11|de<<5)&8191;var ae=e[r+14]|e[r+15]<<8;m+=(de>>>8|ae<<8)&8191,v+=ae>>>5|i;var re=0,Y=re;Y+=s*T,Y+=o*(5*C),Y+=a*(5*_),Y+=u*(5*L),Y+=l*(5*P),re=Y>>>13,Y&=8191,Y+=f*(5*R),Y+=d*(5*x),Y+=y*(5*D),Y+=m*(5*A),Y+=v*(5*B),re+=Y>>>13,Y&=8191;var ie=re;ie+=s*B,ie+=o*T,ie+=a*(5*C),ie+=u*(5*_),ie+=l*(5*L),re=ie>>>13,ie&=8191,ie+=f*(5*P),ie+=d*(5*R),ie+=y*(5*x),ie+=m*(5*D),ie+=v*(5*A),re+=ie>>>13,ie&=8191;var te=re;te+=s*A,te+=o*B,te+=a*T,te+=u*(5*C),te+=l*(5*_),re=te>>>13,te&=8191,te+=f*(5*L),te+=d*(5*P),te+=y*(5*R),te+=m*(5*x),te+=v*(5*D),re+=te>>>13,te&=8191;var ne=re;ne+=s*D,ne+=o*A,ne+=a*B,ne+=u*T,ne+=l*(5*C),re=ne>>>13,ne&=8191,ne+=f*(5*_),ne+=d*(5*L),ne+=y*(5*P),ne+=m*(5*R),ne+=v*(5*x),re+=ne>>>13,ne&=8191;var q=re;q+=s*x,q+=o*D,q+=a*A,q+=u*B,q+=l*T,re=q>>>13,q&=8191,q+=f*(5*C),q+=d*(5*_),q+=y*(5*L),q+=m*(5*P),q+=v*(5*R),re+=q>>>13,q&=8191;var ce=re;ce+=s*R,ce+=o*x,ce+=a*D,ce+=u*A,ce+=l*B,re=ce>>>13,ce&=8191,ce+=f*T,ce+=d*(5*C),ce+=y*(5*_),ce+=m*(5*L),ce+=v*(5*P),re+=ce>>>13,ce&=8191;var oe=re;oe+=s*P,oe+=o*R,oe+=a*x,oe+=u*D,oe+=l*A,re=oe>>>13,oe&=8191,oe+=f*B,oe+=d*T,oe+=y*(5*C),oe+=m*(5*_),oe+=v*(5*L),re+=oe>>>13,oe&=8191;var le=re;le+=s*L,le+=o*P,le+=a*R,le+=u*x,le+=l*D,re=le>>>13,le&=8191,le+=f*A,le+=d*B,le+=y*T,le+=m*(5*C),le+=v*(5*_),re+=le>>>13,le&=8191;var se=re;se+=s*_,se+=o*L,se+=a*P,se+=u*R,se+=l*x,re=se>>>13,se&=8191,se+=f*D,se+=d*A,se+=y*B,se+=m*T,se+=v*(5*C),re+=se>>>13,se&=8191;var ue=re;ue+=s*C,ue+=o*_,ue+=a*L,ue+=u*P,ue+=l*R,re=ue>>>13,ue&=8191,ue+=f*x,ue+=d*D,ue+=y*A,ue+=m*B,ue+=v*T,re+=ue>>>13,ue&=8191,re=(re<<2)+re|0,re=re+Y|0,Y=re&8191,re=re>>>13,ie+=re,s=Y,o=ie,a=te,u=ne,l=q,f=ce,d=oe,y=le,m=se,v=ue,r+=16,n-=16}this._h[0]=s,this._h[1]=o,this._h[2]=a,this._h[3]=u,this._h[4]=l,this._h[5]=f,this._h[6]=d,this._h[7]=y,this._h[8]=m,this._h[9]=v},t.prototype.finish=function(e,r){r===void 0&&(r=0);var n=new Uint16Array(10),i,s,o,a;if(this._leftover){for(a=this._leftover,this._buffer[a++]=1;a<16;a++)this._buffer[a]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(i=this._h[1]>>>13,this._h[1]&=8191,a=2;a<10;a++)this._h[a]+=i,i=this._h[a]>>>13,this._h[a]&=8191;for(this._h[0]+=i*5,i=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=i,i=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=i,n[0]=this._h[0]+5,i=n[0]>>>13,n[0]&=8191,a=1;a<10;a++)n[a]=this._h[a]+i,i=n[a]>>>13,n[a]&=8191;for(n[9]-=8192,s=(i^1)-1,a=0;a<10;a++)n[a]&=s;for(s=~s,a=0;a<10;a++)this._h[a]=this._h[a]&s|n[a];for(this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,o=this._h[0]+this._pad[0],this._h[0]=o&65535,a=1;a<8;a++)o=(this._h[a]+this._pad[a]|0)+(o>>>16)|0,this._h[a]=o&65535;return e[r+0]=this._h[0]>>>0,e[r+1]=this._h[0]>>>8,e[r+2]=this._h[1]>>>0,e[r+3]=this._h[1]>>>8,e[r+4]=this._h[2]>>>0,e[r+5]=this._h[2]>>>8,e[r+6]=this._h[3]>>>0,e[r+7]=this._h[3]>>>8,e[r+8]=this._h[4]>>>0,e[r+9]=this._h[4]>>>8,e[r+10]=this._h[5]>>>0,e[r+11]=this._h[5]>>>8,e[r+12]=this._h[6]>>>0,e[r+13]=this._h[6]>>>8,e[r+14]=this._h[7]>>>0,e[r+15]=this._h[7]>>>8,this._finished=!0,this},t.prototype.update=function(e){var r=0,n=e.length,i;if(this._leftover){i=16-this._leftover,i>n&&(i=n);for(var s=0;s<i;s++)this._buffer[this._leftover+s]=e[r+s];if(n-=i,r+=i,this._leftover+=i,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(n>=16&&(i=n-n%16,this._blocks(e,r,i),r+=i,n-=i),n){for(var s=0;s<n;s++)this._buffer[this._leftover+s]=e[r+s];this._leftover+=n}return this},t.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var e=new Uint8Array(16);return this.finish(e),e},t.prototype.clean=function(){return gp.wipe(this._buffer),gp.wipe(this._r),gp.wipe(this._h),gp.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},t}();Xn.Poly1305=YO;function EQ(t,e){var r=new YO(t);r.update(e);var n=r.digest();return r.clean(),n}Xn.oneTimeAuth=EQ;function vQ(t,e){return t.length!==Xn.DIGEST_LENGTH||e.length!==Xn.DIGEST_LENGTH?!1:wQ.equal(t,e)}Xn.equal=vQ});var eD=w(Zn=>{"use strict";c();Object.defineProperty(Zn,"__esModule",{value:!0});var yp=KO(),AQ=JO(),Tl=Or(),XO=Au(),bQ=pp();Zn.KEY_LENGTH=32;Zn.NONCE_LENGTH=12;Zn.TAG_LENGTH=16;var ZO=new Uint8Array(16),_Q=function(){function t(e){if(this.nonceLength=Zn.NONCE_LENGTH,this.tagLength=Zn.TAG_LENGTH,e.length!==Zn.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(e)}return t.prototype.seal=function(e,r,n,i){if(e.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var s=new Uint8Array(16);s.set(e,s.length-e.length);var o=new Uint8Array(32);yp.stream(this._key,s,o,4);var a=r.length+this.tagLength,u;if(i){if(i.length!==a)throw new Error("ChaCha20Poly1305: incorrect destination length");u=i}else u=new Uint8Array(a);return yp.streamXOR(this._key,s,r,u,4),this._authenticate(u.subarray(u.length-this.tagLength,u.length),o,u.subarray(0,u.length-this.tagLength),n),Tl.wipe(s),u},t.prototype.open=function(e,r,n,i){if(e.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(r.length<this.tagLength)return null;var s=new Uint8Array(16);s.set(e,s.length-e.length);var o=new Uint8Array(32);yp.stream(this._key,s,o,4);var a=new Uint8Array(this.tagLength);if(this._authenticate(a,o,r.subarray(0,r.length-this.tagLength),n),!bQ.equal(a,r.subarray(r.length-this.tagLength,r.length)))return null;var u=r.length-this.tagLength,l;if(i){if(i.length!==u)throw new Error("ChaCha20Poly1305: incorrect destination length");l=i}else l=new Uint8Array(u);return yp.streamXOR(this._key,s,r.subarray(0,r.length-this.tagLength),l,4),Tl.wipe(s),l},t.prototype.clean=function(){return Tl.wipe(this._key),this},t.prototype._authenticate=function(e,r,n,i){var s=new AQ.Poly1305(r);i&&(s.update(i),i.length%16>0&&s.update(ZO.subarray(i.length%16))),s.update(n),n.length%16>0&&s.update(ZO.subarray(n.length%16));var o=new Uint8Array(8);i&&XO.writeUint64LE(i.length,o),s.update(o),XO.writeUint64LE(n.length,o),s.update(o);for(var a=s.digest(),u=0;u<a.length;u++)e[u]=a[u];s.clean(),Tl.wipe(a),Tl.wipe(o)},t}();Zn.ChaCha20Poly1305=_Q});var tD=w(Ev=>{"use strict";c();Object.defineProperty(Ev,"__esModule",{value:!0});function IQ(t){return typeof t.saveState<"u"&&typeof t.restoreState<"u"&&typeof t.cleanSavedState<"u"}Ev.isSerializableHash=IQ});var nD=w(xl=>{"use strict";c();Object.defineProperty(xl,"__esModule",{value:!0});var Sn=tD(),SQ=pp(),CQ=Or(),rD=function(){function t(e,r){this._finished=!1,this._inner=new e,this._outer=new e,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var n=new Uint8Array(this.blockSize);r.length>this.blockSize?this._inner.update(r).finish(n).clean():n.set(r);for(var i=0;i<n.length;i++)n[i]^=54;this._inner.update(n);for(var i=0;i<n.length;i++)n[i]^=106;this._outer.update(n),Sn.isSerializableHash(this._inner)&&Sn.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),CQ.wipe(n)}return t.prototype.reset=function(){if(!Sn.isSerializableHash(this._inner)||!Sn.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},t.prototype.clean=function(){Sn.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),Sn.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},t.prototype.update=function(e){return this._inner.update(e),this},t.prototype.finish=function(e){return this._finished?(this._outer.finish(e),this):(this._inner.finish(e),this._outer.update(e.subarray(0,this.digestLength)).finish(e),this._finished=!0,this)},t.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},t.prototype.saveState=function(){if(!Sn.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},t.prototype.restoreState=function(e){if(!Sn.isSerializableHash(this._inner)||!Sn.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(e),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},t.prototype.cleanSavedState=function(e){if(!Sn.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(e)},t}();xl.HMAC=rD;function TQ(t,e,r){var n=new rD(t,e);n.update(r);var i=n.digest();return n.clean(),i}xl.hmac=TQ;xl.equal=SQ.equal});var oD=w(vv=>{"use strict";c();Object.defineProperty(vv,"__esModule",{value:!0});var iD=nD(),sD=Or(),xQ=function(){function t(e,r,n,i){n===void 0&&(n=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=e,this._info=i;var s=iD.hmac(this._hash,n,r);this._hmac=new iD.HMAC(e,s),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return t.prototype._fillBuffer=function(){this._counter[0]++;var e=this._counter[0];if(e===0)throw new Error("hkdf: cannot expand more");this._hmac.reset(),e>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},t.prototype.expand=function(e){for(var r=new Uint8Array(e),n=0;n<r.length;n++)this._bufpos===this._buffer.length&&this._fillBuffer(),r[n]=this._buffer[this._bufpos++];return r},t.prototype.clean=function(){this._hmac.clean(),sD.wipe(this._buffer),sD.wipe(this._counter),this._bufpos=0},t}();vv.HKDF=xQ});var uD=w(Hi=>{"use strict";c();Object.defineProperty(Hi,"__esModule",{value:!0});var wp=Au(),mp=Or();Hi.DIGEST_LENGTH=32;Hi.BLOCK_SIZE=64;var aD=function(){function t(){this.digestLength=Hi.DIGEST_LENGTH,this.blockSize=Hi.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return t.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},t.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},t.prototype.clean=function(){mp.wipe(this._buffer),mp.wipe(this._temp),this.reset()},t.prototype.update=function(e,r){if(r===void 0&&(r=e.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var n=0;if(this._bytesHashed+=r,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&r>0;)this._buffer[this._bufferLength++]=e[n++],r--;this._bufferLength===this.blockSize&&(Av(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(r>=this.blockSize&&(n=Av(this._temp,this._state,e,n,r),r%=this.blockSize);r>0;)this._buffer[this._bufferLength++]=e[n++],r--;return this},t.prototype.finish=function(e){if(!this._finished){var r=this._bytesHashed,n=this._bufferLength,i=r/536870912|0,s=r<<3,o=r%64<56?64:128;this._buffer[n]=128;for(var a=n+1;a<o-8;a++)this._buffer[a]=0;wp.writeUint32BE(i,this._buffer,o-8),wp.writeUint32BE(s,this._buffer,o-4),Av(this._temp,this._state,this._buffer,0,o),this._finished=!0}for(var a=0;a<this.digestLength/4;a++)wp.writeUint32BE(this._state[a],e,a*4);return this},t.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},t.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},t.prototype.restoreState=function(e){return this._state.set(e.state),this._bufferLength=e.bufferLength,e.buffer&&this._buffer.set(e.buffer),this._bytesHashed=e.bytesHashed,this._finished=!1,this},t.prototype.cleanSavedState=function(e){mp.wipe(e.state),e.buffer&&mp.wipe(e.buffer),e.bufferLength=0,e.bytesHashed=0},t}();Hi.SHA256=aD;var NQ=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function Av(t,e,r,n,i){for(;i>=64;){for(var s=e[0],o=e[1],a=e[2],u=e[3],l=e[4],f=e[5],d=e[6],y=e[7],m=0;m<16;m++){var v=n+m*4;t[m]=wp.readUint32BE(r,v)}for(var m=16;m<64;m++){var T=t[m-2],B=(T>>>17|T<<32-17)^(T>>>19|T<<32-19)^T>>>10;T=t[m-15];var A=(T>>>7|T<<32-7)^(T>>>18|T<<32-18)^T>>>3;t[m]=(B+t[m-7]|0)+(A+t[m-16]|0)}for(var m=0;m<64;m++){var B=(((l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7))+(l&f^~l&d)|0)+(y+(NQ[m]+t[m]|0)|0)|0,A=((s>>>2|s<<32-2)^(s>>>13|s<<32-13)^(s>>>22|s<<32-22))+(s&o^s&a^o&a)|0;y=d,d=f,f=l,l=u+B|0,u=a,a=o,o=s,s=B+A|0}e[0]+=s,e[1]+=o,e[2]+=a,e[3]+=u,e[4]+=l,e[5]+=f,e[6]+=d,e[7]+=y,n+=64,i-=64}return n}function OQ(t){var e=new aD;e.update(t);var r=e.digest();return e.clean(),r}Hi.hash=OQ});var hD=w(lt=>{"use strict";c();Object.defineProperty(lt,"__esModule",{value:!0});lt.sharedKey=lt.generateKeyPair=lt.generateKeyPairFromSeed=lt.scalarMultBase=lt.scalarMult=lt.SHARED_KEY_LENGTH=lt.SECRET_KEY_LENGTH=lt.PUBLIC_KEY_LENGTH=void 0;var DQ=gl(),PQ=Or();lt.PUBLIC_KEY_LENGTH=32;lt.SECRET_KEY_LENGTH=32;lt.SHARED_KEY_LENGTH=32;function Cn(t){let e=new Float64Array(16);if(t)for(let r=0;r<t.length;r++)e[r]=t[r];return e}var cD=new Uint8Array(32);cD[0]=9;var RQ=Cn([56129,1]);function bv(t){let e=1;for(let r=0;r<16;r++){let n=t[r]+e+65535;e=Math.floor(n/65536),t[r]=n-e*65536}t[0]+=e-1+37*(e-1)}function Nl(t,e,r){let n=~(r-1);for(let i=0;i<16;i++){let s=n&(t[i]^e[i]);t[i]^=s,e[i]^=s}}function BQ(t,e){let r=Cn(),n=Cn();for(let i=0;i<16;i++)n[i]=e[i];bv(n),bv(n),bv(n);for(let i=0;i<2;i++){r[0]=n[0]-65517;for(let o=1;o<15;o++)r[o]=n[o]-65535-(r[o-1]>>16&1),r[o-1]&=65535;r[15]=n[15]-32767-(r[14]>>16&1);let s=r[15]>>16&1;r[14]&=65535,Nl(n,r,1-s)}for(let i=0;i<16;i++)t[2*i]=n[i]&255,t[2*i+1]=n[i]>>8}function LQ(t,e){for(let r=0;r<16;r++)t[r]=e[2*r]+(e[2*r+1]<<8);t[15]&=32767}function Ep(t,e,r){for(let n=0;n<16;n++)t[n]=e[n]+r[n]}function vp(t,e,r){for(let n=0;n<16;n++)t[n]=e[n]-r[n]}function ei(t,e,r){let n,i,s=0,o=0,a=0,u=0,l=0,f=0,d=0,y=0,m=0,v=0,T=0,B=0,A=0,D=0,x=0,R=0,P=0,L=0,_=0,C=0,M=0,Z=0,z=0,H=0,G=0,$=0,de=0,ae=0,re=0,Y=0,ie=0,te=r[0],ne=r[1],q=r[2],ce=r[3],oe=r[4],le=r[5],se=r[6],ue=r[7],g=r[8],E=r[9],b=r[10],O=r[11],I=r[12],N=r[13],F=r[14],S=r[15];n=e[0],s+=n*te,o+=n*ne,a+=n*q,u+=n*ce,l+=n*oe,f+=n*le,d+=n*se,y+=n*ue,m+=n*g,v+=n*E,T+=n*b,B+=n*O,A+=n*I,D+=n*N,x+=n*F,R+=n*S,n=e[1],o+=n*te,a+=n*ne,u+=n*q,l+=n*ce,f+=n*oe,d+=n*le,y+=n*se,m+=n*ue,v+=n*g,T+=n*E,B+=n*b,A+=n*O,D+=n*I,x+=n*N,R+=n*F,P+=n*S,n=e[2],a+=n*te,u+=n*ne,l+=n*q,f+=n*ce,d+=n*oe,y+=n*le,m+=n*se,v+=n*ue,T+=n*g,B+=n*E,A+=n*b,D+=n*O,x+=n*I,R+=n*N,P+=n*F,L+=n*S,n=e[3],u+=n*te,l+=n*ne,f+=n*q,d+=n*ce,y+=n*oe,m+=n*le,v+=n*se,T+=n*ue,B+=n*g,A+=n*E,D+=n*b,x+=n*O,R+=n*I,P+=n*N,L+=n*F,_+=n*S,n=e[4],l+=n*te,f+=n*ne,d+=n*q,y+=n*ce,m+=n*oe,v+=n*le,T+=n*se,B+=n*ue,A+=n*g,D+=n*E,x+=n*b,R+=n*O,P+=n*I,L+=n*N,_+=n*F,C+=n*S,n=e[5],f+=n*te,d+=n*ne,y+=n*q,m+=n*ce,v+=n*oe,T+=n*le,B+=n*se,A+=n*ue,D+=n*g,x+=n*E,R+=n*b,P+=n*O,L+=n*I,_+=n*N,C+=n*F,M+=n*S,n=e[6],d+=n*te,y+=n*ne,m+=n*q,v+=n*ce,T+=n*oe,B+=n*le,A+=n*se,D+=n*ue,x+=n*g,R+=n*E,P+=n*b,L+=n*O,_+=n*I,C+=n*N,M+=n*F,Z+=n*S,n=e[7],y+=n*te,m+=n*ne,v+=n*q,T+=n*ce,B+=n*oe,A+=n*le,D+=n*se,x+=n*ue,R+=n*g,P+=n*E,L+=n*b,_+=n*O,C+=n*I,M+=n*N,Z+=n*F,z+=n*S,n=e[8],m+=n*te,v+=n*ne,T+=n*q,B+=n*ce,A+=n*oe,D+=n*le,x+=n*se,R+=n*ue,P+=n*g,L+=n*E,_+=n*b,C+=n*O,M+=n*I,Z+=n*N,z+=n*F,H+=n*S,n=e[9],v+=n*te,T+=n*ne,B+=n*q,A+=n*ce,D+=n*oe,x+=n*le,R+=n*se,P+=n*ue,L+=n*g,_+=n*E,C+=n*b,M+=n*O,Z+=n*I,z+=n*N,H+=n*F,G+=n*S,n=e[10],T+=n*te,B+=n*ne,A+=n*q,D+=n*ce,x+=n*oe,R+=n*le,P+=n*se,L+=n*ue,_+=n*g,C+=n*E,M+=n*b,Z+=n*O,z+=n*I,H+=n*N,G+=n*F,$+=n*S,n=e[11],B+=n*te,A+=n*ne,D+=n*q,x+=n*ce,R+=n*oe,P+=n*le,L+=n*se,_+=n*ue,C+=n*g,M+=n*E,Z+=n*b,z+=n*O,H+=n*I,G+=n*N,$+=n*F,de+=n*S,n=e[12],A+=n*te,D+=n*ne,x+=n*q,R+=n*ce,P+=n*oe,L+=n*le,_+=n*se,C+=n*ue,M+=n*g,Z+=n*E,z+=n*b,H+=n*O,G+=n*I,$+=n*N,de+=n*F,ae+=n*S,n=e[13],D+=n*te,x+=n*ne,R+=n*q,P+=n*ce,L+=n*oe,_+=n*le,C+=n*se,M+=n*ue,Z+=n*g,z+=n*E,H+=n*b,G+=n*O,$+=n*I,de+=n*N,ae+=n*F,re+=n*S,n=e[14],x+=n*te,R+=n*ne,P+=n*q,L+=n*ce,_+=n*oe,C+=n*le,M+=n*se,Z+=n*ue,z+=n*g,H+=n*E,G+=n*b,$+=n*O,de+=n*I,ae+=n*N,re+=n*F,Y+=n*S,n=e[15],R+=n*te,P+=n*ne,L+=n*q,_+=n*ce,C+=n*oe,M+=n*le,Z+=n*se,z+=n*ue,H+=n*g,G+=n*E,$+=n*b,de+=n*O,ae+=n*I,re+=n*N,Y+=n*F,ie+=n*S,s+=38*P,o+=38*L,a+=38*_,u+=38*C,l+=38*M,f+=38*Z,d+=38*z,y+=38*H,m+=38*G,v+=38*$,T+=38*de,B+=38*ae,A+=38*re,D+=38*Y,x+=38*ie,i=1,n=s+i+65535,i=Math.floor(n/65536),s=n-i*65536,n=o+i+65535,i=Math.floor(n/65536),o=n-i*65536,n=a+i+65535,i=Math.floor(n/65536),a=n-i*65536,n=u+i+65535,i=Math.floor(n/65536),u=n-i*65536,n=l+i+65535,i=Math.floor(n/65536),l=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=d+i+65535,i=Math.floor(n/65536),d=n-i*65536,n=y+i+65535,i=Math.floor(n/65536),y=n-i*65536,n=m+i+65535,i=Math.floor(n/65536),m=n-i*65536,n=v+i+65535,i=Math.floor(n/65536),v=n-i*65536,n=T+i+65535,i=Math.floor(n/65536),T=n-i*65536,n=B+i+65535,i=Math.floor(n/65536),B=n-i*65536,n=A+i+65535,i=Math.floor(n/65536),A=n-i*65536,n=D+i+65535,i=Math.floor(n/65536),D=n-i*65536,n=x+i+65535,i=Math.floor(n/65536),x=n-i*65536,n=R+i+65535,i=Math.floor(n/65536),R=n-i*65536,s+=i-1+37*(i-1),i=1,n=s+i+65535,i=Math.floor(n/65536),s=n-i*65536,n=o+i+65535,i=Math.floor(n/65536),o=n-i*65536,n=a+i+65535,i=Math.floor(n/65536),a=n-i*65536,n=u+i+65535,i=Math.floor(n/65536),u=n-i*65536,n=l+i+65535,i=Math.floor(n/65536),l=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=d+i+65535,i=Math.floor(n/65536),d=n-i*65536,n=y+i+65535,i=Math.floor(n/65536),y=n-i*65536,n=m+i+65535,i=Math.floor(n/65536),m=n-i*65536,n=v+i+65535,i=Math.floor(n/65536),v=n-i*65536,n=T+i+65535,i=Math.floor(n/65536),T=n-i*65536,n=B+i+65535,i=Math.floor(n/65536),B=n-i*65536,n=A+i+65535,i=Math.floor(n/65536),A=n-i*65536,n=D+i+65535,i=Math.floor(n/65536),D=n-i*65536,n=x+i+65535,i=Math.floor(n/65536),x=n-i*65536,n=R+i+65535,i=Math.floor(n/65536),R=n-i*65536,s+=i-1+37*(i-1),t[0]=s,t[1]=o,t[2]=a,t[3]=u,t[4]=l,t[5]=f,t[6]=d,t[7]=y,t[8]=m,t[9]=v,t[10]=T,t[11]=B,t[12]=A,t[13]=D,t[14]=x,t[15]=R}function Ol(t,e){ei(t,e,e)}function FQ(t,e){let r=Cn();for(let n=0;n<16;n++)r[n]=e[n];for(let n=253;n>=0;n--)Ol(r,r),n!==2&&n!==4&&ei(r,r,e);for(let n=0;n<16;n++)t[n]=r[n]}function _v(t,e){let r=new Uint8Array(32),n=new Float64Array(80),i=Cn(),s=Cn(),o=Cn(),a=Cn(),u=Cn(),l=Cn();for(let m=0;m<31;m++)r[m]=t[m];r[31]=t[31]&127|64,r[0]&=248,LQ(n,e);for(let m=0;m<16;m++)s[m]=n[m];i[0]=a[0]=1;for(let m=254;m>=0;--m){let v=r[m>>>3]>>>(m&7)&1;Nl(i,s,v),Nl(o,a,v),Ep(u,i,o),vp(i,i,o),Ep(o,s,a),vp(s,s,a),Ol(a,u),Ol(l,i),ei(i,o,i),ei(o,s,u),Ep(u,i,o),vp(i,i,o),Ol(s,i),vp(o,a,l),ei(i,o,RQ),Ep(i,i,a),ei(o,o,i),ei(i,a,l),ei(a,s,n),Ol(s,u),Nl(i,s,v),Nl(o,a,v)}for(let m=0;m<16;m++)n[m+16]=i[m],n[m+32]=o[m],n[m+48]=s[m],n[m+64]=a[m];let f=n.subarray(32),d=n.subarray(16);FQ(f,f),ei(d,d,f);let y=new Uint8Array(32);return BQ(y,d),y}lt.scalarMult=_v;function lD(t){return _v(t,cD)}lt.scalarMultBase=lD;function fD(t){if(t.length!==lt.SECRET_KEY_LENGTH)throw new Error(`x25519: seed must be ${lt.SECRET_KEY_LENGTH} bytes`);let e=new Uint8Array(t);return{publicKey:lD(e),secretKey:e}}lt.generateKeyPairFromSeed=fD;function MQ(t){let e=(0,DQ.randomBytes)(32,t),r=fD(e);return(0,PQ.wipe)(e),r}lt.generateKeyPair=MQ;function UQ(t,e,r=!1){if(t.length!==lt.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect secret key length");if(e.length!==lt.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect public key length");let n=_v(t,e);if(r){let i=0;for(let s=0;s<n.length;s++)i|=n[s];if(i===0)throw new Error("X25519: invalid shared key")}return n}lt.sharedKey=UQ});function dD(t,e){for(let r=0;r<t.byteLength;r++){if(t[r]<e[r])return-1;if(t[r]>e[r])return 1}return t.byteLength>e.byteLength?1:t.byteLength<e.byteLength?-1:0}var pD=ge(()=>{c()});function gD(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}var yD=ge(()=>{c()});function mD(t,e){if(t.length!==e.length)throw new Error("Inputs should have the same length");let r=Tu(t.length);for(let n=0;n<t.length;n++)r[n]=t[n]^e[n];return qi(r)}var wD=ge(()=>{c();op();El()});var Iv={};at(Iv,{compare:()=>dD,concat:()=>ap,equals:()=>gD,fromString:()=>In,toString:()=>Jn,xor:()=>mD});var Sv=ge(()=>{c();pD();U1();yD();fv();lv();wD()});var OD=w(Ze=>{"use strict";c();var ED=Ze&&Ze.__spreadArray||function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))};Object.defineProperty(Ze,"__esModule",{value:!0});Ze.getNodeVersion=Ze.detectOS=Ze.parseUserAgent=Ze.browserName=Ze.detect=Ze.ReactNativeInfo=Ze.BotInfo=Ze.SearchBotDeviceInfo=Ze.NodeInfo=Ze.BrowserInfo=void 0;var bD=function(){function t(e,r,n){this.name=e,this.version=r,this.os=n,this.type="browser"}return t}();Ze.BrowserInfo=bD;var _D=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=p.default.platform}return t}();Ze.NodeInfo=_D;var ID=function(){function t(e,r,n,i){this.name=e,this.version=r,this.os=n,this.bot=i,this.type="bot-device"}return t}();Ze.SearchBotDeviceInfo=ID;var SD=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}();Ze.BotInfo=SD;var CD=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}();Ze.ReactNativeInfo=CD;var qQ=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,VQ=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,vD=3,jQ=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",qQ]],AD=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function HQ(t){return t?Cv(t):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new CD:typeof navigator<"u"?Cv(navigator.userAgent):ND()}Ze.detect=HQ;function TD(t){return t!==""&&jQ.reduce(function(e,r){var n=r[0],i=r[1];if(e)return e;var s=i.exec(t);return!!s&&[n,s]},!1)}function GQ(t){var e=TD(t);return e?e[0]:null}Ze.browserName=GQ;function Cv(t){var e=TD(t);if(!e)return null;var r=e[0],n=e[1];if(r==="searchbot")return new SD;var i=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);i?i.length<vD&&(i=ED(ED([],i,!0),QQ(vD-i.length),!0)):i=[];var s=i.join("."),o=xD(t),a=VQ.exec(t);return a&&a[1]?new ID(r,s,o,a[1]):new bD(r,s,o)}Ze.parseUserAgent=Cv;function xD(t){for(var e=0,r=AD.length;e<r;e++){var n=AD[e],i=n[0],s=n[1],o=s.exec(t);if(o)return i}return null}Ze.detectOS=xD;function ND(){var t=typeof p.default<"u"&&p.default.version;return t?new _D(p.default.version.slice(1)):null}Ze.getNodeVersion=ND;function QQ(t){for(var e=[],r=0;r<t;r++)e.push("0");return e}});var Tv=w(We=>{"use strict";c();Object.defineProperty(We,"__esModule",{value:!0});We.getLocalStorage=We.getLocalStorageOrThrow=We.getCrypto=We.getCryptoOrThrow=We.getLocation=We.getLocationOrThrow=We.getNavigator=We.getNavigatorOrThrow=We.getDocument=We.getDocumentOrThrow=We.getFromWindowOrThrow=We.getFromWindow=void 0;function yo(t){let e;return typeof window<"u"&&typeof window[t]<"u"&&(e=window[t]),e}We.getFromWindow=yo;function Lu(t){let e=yo(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}We.getFromWindowOrThrow=Lu;function kQ(){return Lu("document")}We.getDocumentOrThrow=kQ;function zQ(){return yo("document")}We.getDocument=zQ;function WQ(){return Lu("navigator")}We.getNavigatorOrThrow=WQ;function KQ(){return yo("navigator")}We.getNavigator=KQ;function $Q(){return Lu("location")}We.getLocationOrThrow=$Q;function YQ(){return yo("location")}We.getLocation=YQ;function JQ(){return Lu("crypto")}We.getCryptoOrThrow=JQ;function XQ(){return yo("crypto")}We.getCrypto=XQ;function ZQ(){return Lu("localStorage")}We.getLocalStorageOrThrow=ZQ;function ek(){return yo("localStorage")}We.getLocalStorage=ek});var PD=w(Ap=>{"use strict";c();Object.defineProperty(Ap,"__esModule",{value:!0});Ap.getWindowMetadata=void 0;var DD=Tv();function tk(){let t,e;try{t=DD.getDocumentOrThrow(),e=DD.getLocationOrThrow()}catch{return null}function r(){let d=t.getElementsByTagName("link"),y=[];for(let m=0;m<d.length;m++){let v=d[m],T=v.getAttribute("rel");if(T&&T.toLowerCase().indexOf("icon")>-1){let B=v.getAttribute("href");if(B)if(B.toLowerCase().indexOf("https:")===-1&&B.toLowerCase().indexOf("http:")===-1&&B.indexOf("//")!==0){let A=e.protocol+"//"+e.host;if(B.indexOf("/")===0)A+=B;else{let D=e.pathname.split("/");D.pop();let x=D.join("/");A+=x+"/"+B}y.push(A)}else if(B.indexOf("//")===0){let A=e.protocol+B;y.push(A)}else y.push(B)}}return y}function n(...d){let y=t.getElementsByTagName("meta");for(let m=0;m<y.length;m++){let v=y[m],T=["itemprop","property","name"].map(B=>v.getAttribute(B)).filter(B=>B?d.includes(B):!1);if(T.length&&T){let B=v.getAttribute("content");if(B)return B}}return""}function i(){let d=n("name","og:site_name","og:title","twitter:title");return d||(d=t.title),d}function s(){return n("description","og:description","twitter:description","keywords")}let o=i(),a=s(),u=e.origin,l=r();return{description:a,url:u,icons:l,name:o}}Ap.getWindowMetadata=tk});var BD=w((ufe,RD)=>{"use strict";c();RD.exports=t=>encodeURIComponent(t).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`)});var qD=w((lfe,UD)=>{"use strict";c();var MD="%[a-f0-9]{2}",LD=new RegExp("("+MD+")|([^%]+?)","gi"),FD=new RegExp("("+MD+")+","gi");function xv(t,e){try{return[decodeURIComponent(t.join(""))]}catch{}if(t.length===1)return t;e=e||1;var r=t.slice(0,e),n=t.slice(e);return Array.prototype.concat.call([],xv(r),xv(n))}function rk(t){try{return decodeURIComponent(t)}catch{for(var e=t.match(LD)||[],r=1;r<e.length;r++)t=xv(e,r).join(""),e=t.match(LD)||[];return t}}function nk(t){for(var e={"%FE%FF":"\uFFFD\uFFFD","%FF%FE":"\uFFFD\uFFFD"},r=FD.exec(t);r;){try{e[r[0]]=decodeURIComponent(r[0])}catch{var n=rk(r[0]);n!==r[0]&&(e[r[0]]=n)}r=FD.exec(t)}e["%C2"]="\uFFFD";for(var i=Object.keys(e),s=0;s<i.length;s++){var o=i[s];t=t.replace(new RegExp(o,"g"),e[o])}return t}UD.exports=function(t){if(typeof t!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch{return nk(t)}}});var jD=w((hfe,VD)=>{"use strict";c();VD.exports=(t,e)=>{if(!(typeof t=="string"&&typeof e=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e==="")return[t];let r=t.indexOf(e);return r===-1?[t]:[t.slice(0,r),t.slice(r+e.length)]}});var GD=w((pfe,HD)=>{"use strict";c();HD.exports=function(t,e){for(var r={},n=Object.keys(t),i=Array.isArray(e),s=0;s<n.length;s++){var o=n[s],a=t[o];(i?e.indexOf(o)!==-1:e(o,a,t))&&(r[o]=a)}return r}});var JD=w(or=>{"use strict";c();var ik=BD(),sk=qD(),kD=jD(),ok=GD(),ak=t=>t==null,Nv=Symbol("encodeFragmentIdentifier");function uk(t){switch(t.arrayFormat){case"index":return e=>(r,n)=>{let i=r.length;return n===void 0||t.skipNull&&n===null||t.skipEmptyString&&n===""?r:n===null?[...r,[pt(e,t),"[",i,"]"].join("")]:[...r,[pt(e,t),"[",pt(i,t),"]=",pt(n,t)].join("")]};case"bracket":return e=>(r,n)=>n===void 0||t.skipNull&&n===null||t.skipEmptyString&&n===""?r:n===null?[...r,[pt(e,t),"[]"].join("")]:[...r,[pt(e,t),"[]=",pt(n,t)].join("")];case"colon-list-separator":return e=>(r,n)=>n===void 0||t.skipNull&&n===null||t.skipEmptyString&&n===""?r:n===null?[...r,[pt(e,t),":list="].join("")]:[...r,[pt(e,t),":list=",pt(n,t)].join("")];case"comma":case"separator":case"bracket-separator":{let e=t.arrayFormat==="bracket-separator"?"[]=":"=";return r=>(n,i)=>i===void 0||t.skipNull&&i===null||t.skipEmptyString&&i===""?n:(i=i===null?"":i,n.length===0?[[pt(r,t),e,pt(i,t)].join("")]:[[n,pt(i,t)].join(t.arrayFormatSeparator)])}default:return e=>(r,n)=>n===void 0||t.skipNull&&n===null||t.skipEmptyString&&n===""?r:n===null?[...r,pt(e,t)]:[...r,[pt(e,t),"=",pt(n,t)].join("")]}}function ck(t){let e;switch(t.arrayFormat){case"index":return(r,n,i)=>{if(e=/\[(\d*)\]$/.exec(r),r=r.replace(/\[\d*\]$/,""),!e){i[r]=n;return}i[r]===void 0&&(i[r]={}),i[r][e[1]]=n};case"bracket":return(r,n,i)=>{if(e=/(\[\])$/.exec(r),r=r.replace(/\[\]$/,""),!e){i[r]=n;return}if(i[r]===void 0){i[r]=[n];return}i[r]=[].concat(i[r],n)};case"colon-list-separator":return(r,n,i)=>{if(e=/(:list)$/.exec(r),r=r.replace(/:list$/,""),!e){i[r]=n;return}if(i[r]===void 0){i[r]=[n];return}i[r]=[].concat(i[r],n)};case"comma":case"separator":return(r,n,i)=>{let s=typeof n=="string"&&n.includes(t.arrayFormatSeparator),o=typeof n=="string"&&!s&&ti(n,t).includes(t.arrayFormatSeparator);n=o?ti(n,t):n;let a=s||o?n.split(t.arrayFormatSeparator).map(u=>ti(u,t)):n===null?n:ti(n,t);i[r]=a};case"bracket-separator":return(r,n,i)=>{let s=/(\[\])$/.test(r);if(r=r.replace(/\[\]$/,""),!s){i[r]=n&&ti(n,t);return}let o=n===null?[]:n.split(t.arrayFormatSeparator).map(a=>ti(a,t));if(i[r]===void 0){i[r]=o;return}i[r]=[].concat(i[r],o)};default:return(r,n,i)=>{if(i[r]===void 0){i[r]=n;return}i[r]=[].concat(i[r],n)}}}function zD(t){if(typeof t!="string"||t.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function pt(t,e){return e.encode?e.strict?ik(t):encodeURIComponent(t):t}function ti(t,e){return e.decode?sk(t):t}function WD(t){return Array.isArray(t)?t.sort():typeof t=="object"?WD(Object.keys(t)).sort((e,r)=>Number(e)-Number(r)).map(e=>t[e]):t}function KD(t){let e=t.indexOf("#");return e!==-1&&(t=t.slice(0,e)),t}function lk(t){let e="",r=t.indexOf("#");return r!==-1&&(e=t.slice(r)),e}function $D(t){t=KD(t);let e=t.indexOf("?");return e===-1?"":t.slice(e+1)}function QD(t,e){return e.parseNumbers&&!Number.isNaN(Number(t))&&typeof t=="string"&&t.trim()!==""?t=Number(t):e.parseBooleans&&t!==null&&(t.toLowerCase()==="true"||t.toLowerCase()==="false")&&(t=t.toLowerCase()==="true"),t}function YD(t,e){e=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},e),zD(e.arrayFormatSeparator);let r=ck(e),n=Object.create(null);if(typeof t!="string"||(t=t.trim().replace(/^[?#&]/,""),!t))return n;for(let i of t.split("&")){if(i==="")continue;let[s,o]=kD(e.decode?i.replace(/\+/g," "):i,"=");o=o===void 0?null:["comma","separator","bracket-separator"].includes(e.arrayFormat)?o:ti(o,e),r(ti(s,e),o,n)}for(let i of Object.keys(n)){let s=n[i];if(typeof s=="object"&&s!==null)for(let o of Object.keys(s))s[o]=QD(s[o],e);else n[i]=QD(s,e)}return e.sort===!1?n:(e.sort===!0?Object.keys(n).sort():Object.keys(n).sort(e.sort)).reduce((i,s)=>{let o=n[s];return o&&typeof o=="object"&&!Array.isArray(o)?i[s]=WD(o):i[s]=o,i},Object.create(null))}or.extract=$D;or.parse=YD;or.stringify=(t,e)=>{if(!t)return"";e=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},e),zD(e.arrayFormatSeparator);let r=o=>e.skipNull&&ak(t[o])||e.skipEmptyString&&t[o]==="",n=uk(e),i={};for(let o of Object.keys(t))r(o)||(i[o]=t[o]);let s=Object.keys(i);return e.sort!==!1&&s.sort(e.sort),s.map(o=>{let a=t[o];return a===void 0?"":a===null?pt(o,e):Array.isArray(a)?a.length===0&&e.arrayFormat==="bracket-separator"?pt(o,e)+"[]":a.reduce(n(o),[]).join("&"):pt(o,e)+"="+pt(a,e)}).filter(o=>o.length>0).join("&")};or.parseUrl=(t,e)=>{e=Object.assign({decode:!0},e);let[r,n]=kD(t,"#");return Object.assign({url:r.split("?")[0]||"",query:YD($D(t),e)},e&&e.parseFragmentIdentifier&&n?{fragmentIdentifier:ti(n,e)}:{})};or.stringifyUrl=(t,e)=>{e=Object.assign({encode:!0,strict:!0,[Nv]:!0},e);let r=KD(t.url).split("?")[0]||"",n=or.extract(t.url),i=or.parse(n,{sort:!1}),s=Object.assign(i,t.query),o=or.stringify(s,e);o&&(o=`?${o}`);let a=lk(t.url);return t.fragmentIdentifier&&(a=`#${e[Nv]?pt(t.fragmentIdentifier,e):t.fragmentIdentifier}`),`${r}${o}${a}`};or.pick=(t,e,r)=>{r=Object.assign({parseFragmentIdentifier:!0,[Nv]:!1},r);let{url:n,query:i,fragmentIdentifier:s}=or.parseUrl(t,r);return or.stringifyUrl({url:n,query:ok(i,e),fragmentIdentifier:s},r)};or.exclude=(t,e,r)=>{let n=Array.isArray(e)?i=>!e.includes(i):(i,s)=>!e(i,s);return or.pick(t,n,r)}});var XD=ge(()=>{c()});function Gi(t,e,r="string"){if(!t[e]||typeof t[e]!==r)throw new Error(`Missing or invalid "${e}" param`)}function fk(t,e){let r=!0;return e.forEach(n=>{n in t||(r=!1)}),r}function hk(t,e){return Array.isArray(t)?t.length===e:Object.keys(t).length===e}function dk(t,e){return Array.isArray(t)?t.length>=e:Object.keys(t).length>=e}function Dl(t,e,r){return(!r.length?hk(t,e.length):dk(t,e.length))?fk(t,e):!1}function Pl(t,e,r="_"){let n=t.split(r);return n[n.length-1].trim().toLowerCase()===e.trim().toLowerCase()}var Ov=ge(()=>{c()});function pk(t){return bp(t.method)&&_p(t.params)}function bp(t){return Pl(t,"subscribe")}function _p(t){return Dl(t,["topic"],[])}function gk(t){return Ip(t.method)&&Sp(t.params)}function Ip(t){return Pl(t,"publish")}function Sp(t){return Dl(t,["message","topic","ttl"],["prompt","tag"])}function yk(t){return Cp(t.method)&&Tp(t.params)}function Cp(t){return Pl(t,"unsubscribe")}function Tp(t){return Dl(t,["id","topic"],[])}function mk(t){return xp(t.method)&&Np(t.params)}function xp(t){return Pl(t,"subscription")}function Np(t){return Dl(t,["id","data"],[])}var Dv=ge(()=>{c();Ov()});function wk(t){if(!bp(t.method))throw new Error("JSON-RPC Request has invalid subscribe method");if(!_p(t.params))throw new Error("JSON-RPC Request has invalid subscribe params");let e=t.params;return Gi(e,"topic"),e}function Ek(t){if(!Ip(t.method))throw new Error("JSON-RPC Request has invalid publish method");if(!Sp(t.params))throw new Error("JSON-RPC Request has invalid publish params");let e=t.params;return Gi(e,"topic"),Gi(e,"message"),Gi(e,"ttl","number"),e}function vk(t){if(!Cp(t.method))throw new Error("JSON-RPC Request has invalid unsubscribe method");if(!Tp(t.params))throw new Error("JSON-RPC Request has invalid unsubscribe params");let e=t.params;return Gi(e,"id"),e}function Ak(t){if(!xp(t.method))throw new Error("JSON-RPC Request has invalid subscription method");if(!Np(t.params))throw new Error("JSON-RPC Request has invalid subscription params");let e=t.params;return Gi(e,"id"),Gi(e,"data"),e}var ZD=ge(()=>{c();Ov();Dv()});var bk,e3=ge(()=>{c();bk={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe"}}});var t3={};at(t3,{RELAY_JSONRPC:()=>bk,isPublishMethod:()=>Ip,isPublishParams:()=>Sp,isPublishRequest:()=>gk,isSubscribeMethod:()=>bp,isSubscribeParams:()=>_p,isSubscribeRequest:()=>pk,isSubscriptionMethod:()=>xp,isSubscriptionParams:()=>Np,isSubscriptionRequest:()=>mk,isUnsubscribeMethod:()=>Cp,isUnsubscribeParams:()=>Tp,isUnsubscribeRequest:()=>yk,parsePublishRequest:()=>Ek,parseSubscribeRequest:()=>wk,parseSubscriptionRequest:()=>Ak,parseUnsubscribeRequest:()=>vk});var r3=ge(()=>{c();XD();ZD();e3();Dv()});var Vp=w(Q=>{"use strict";c();Object.defineProperty(Q,"__esModule",{value:!0});var h3=eD(),_k=oD(),d3=gl(),Lv=uD(),Ik=hD(),et=(Sv(),nt(Iv)),Sk=OD(),Mu=co(),Rl=Tv(),Ck=PD(),Tk=JD(),xk=(r3(),nt(t3));function p3(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}),e.default=t,Object.freeze(e)}var g3=p3(Ik),Op=p3(Tk),Rp=":";function y3(t){let[e,r]=t.split(Rp);return{namespace:e,reference:r}}function m3(t){let{namespace:e,reference:r}=t;return[e,r].join(Rp)}function Fv(t){let[e,r,n]=t.split(Rp);return{namespace:e,reference:r,address:n}}function w3(t){let{namespace:e,reference:r,address:n}=t;return[e,r,n].join(Rp)}function Mv(t,e){let r=[];return t.forEach(n=>{let i=e(n);r.includes(i)||r.push(i)}),r}function E3(t){let{address:e}=Fv(t);return e}function v3(t){let{namespace:e,reference:r}=Fv(t);return m3({namespace:e,reference:r})}function Nk(t,e){let{namespace:r,reference:n}=y3(e);return w3({namespace:r,reference:n,address:t})}function Ok(t){return Mv(t,E3)}function A3(t){return Mv(t,v3)}function Dk(t,e=[]){let r=[];return Object.keys(t).forEach(n=>{if(e.length&&!e.includes(n))return;let i=t[n];r.push(...i.accounts)}),r}function Pk(t,e=[]){let r=[];return Object.keys(t).forEach(n=>{if(e.length&&!e.includes(n))return;let i=t[n];r.push(...A3(i.accounts))}),r}function Rk(t,e=[]){let r=[];return Object.keys(t).forEach(n=>{if(e.length&&!e.includes(n))return;let i=t[n];r.push(...Bp(n,i))}),r}function Bp(t,e){return t.includes(":")?[t]:e.chains||[]}var Lp=t=>t?.split(":"),b3=t=>{let e=t&&Lp(t);if(e)return e[3]},Bk=t=>{let e=t&&Lp(t);if(e)return e[2]+":"+e[3]},_3=t=>{let e=t&&Lp(t);if(e)return e.pop()},Lk=(t,e)=>{let r=`${t.domain} wants you to sign in with your Ethereum account:`,n=_3(e),i=t.statement,s=`URI: ${t.aud}`,o=`Version: ${t.version}`,a=`Chain ID: ${b3(e)}`,u=`Nonce: ${t.nonce}`,l=`Issued At: ${t.iat}`,f=t.resources&&t.resources.length>0?`Resources:
${t.resources.map(d=>`- ${d}`).join(`
`)}`:void 0;return[r,n,"",i,"",s,o,a,u,l,f].filter(d=>d!=null).join(`
`)},Uv="base10",Jt="base16",Dp="base64pad",Fp="utf8",qv=0,Uu=1,Fk=0,n3=1,Pv=12,Vv=32;function Mk(){let t=g3.generateKeyPair();return{privateKey:et.toString(t.secretKey,Jt),publicKey:et.toString(t.publicKey,Jt)}}function Uk(){let t=d3.randomBytes(Vv);return et.toString(t,Jt)}function qk(t,e){let r=g3.sharedKey(et.fromString(t,Jt),et.fromString(e,Jt)),n=new _k.HKDF(Lv.SHA256,r).expand(Vv);return et.toString(n,Jt)}function Vk(t){let e=Lv.hash(et.fromString(t,Jt));return et.toString(e,Jt)}function jk(t){let e=Lv.hash(et.fromString(t,Fp));return et.toString(e,Jt)}function I3(t){return et.fromString(`${t}`,Uv)}function Bl(t){return Number(et.toString(t,Uv))}function Hk(t){let e=I3(typeof t.type<"u"?t.type:qv);if(Bl(e)===Uu&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");let r=typeof t.senderPublicKey<"u"?et.fromString(t.senderPublicKey,Jt):void 0,n=typeof t.iv<"u"?et.fromString(t.iv,Jt):d3.randomBytes(Pv),i=new h3.ChaCha20Poly1305(et.fromString(t.symKey,Jt)).seal(n,et.fromString(t.message,Fp));return S3({type:e,sealed:i,iv:n,senderPublicKey:r})}function Gk(t){let e=new h3.ChaCha20Poly1305(et.fromString(t.symKey,Jt)),{sealed:r,iv:n}=jv(t.encoded),i=e.open(n,r);if(i===null)throw new Error("Failed to decrypt");return et.toString(i,Fp)}function S3(t){if(Bl(t.type)===Uu){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return et.toString(et.concat([t.type,t.senderPublicKey,t.iv,t.sealed]),Dp)}return et.toString(et.concat([t.type,t.iv,t.sealed]),Dp)}function jv(t){let e=et.fromString(t,Dp),r=e.slice(Fk,n3),n=n3;if(Bl(r)===Uu){let a=n+Vv,u=a+Pv,l=e.slice(n,a),f=e.slice(a,u),d=e.slice(u);return{type:r,sealed:d,iv:f,senderPublicKey:l}}let i=n+Pv,s=e.slice(n,i),o=e.slice(i);return{type:r,sealed:o,iv:s}}function Qk(t,e){let r=jv(t);return C3({type:Bl(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?et.toString(r.senderPublicKey,Jt):void 0,receiverPublicKey:e?.receiverPublicKey})}function C3(t){let e=t?.type||qv;if(e===Uu){if(typeof t?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof t?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t?.senderPublicKey,receiverPublicKey:t?.receiverPublicKey}}function kk(t){return t.type===Uu&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}var zk=Object.defineProperty,i3=Object.getOwnPropertySymbols,Wk=Object.prototype.hasOwnProperty,Kk=Object.prototype.propertyIsEnumerable,s3=(t,e,r)=>e in t?zk(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,o3=(t,e)=>{for(var r in e||(e={}))Wk.call(e,r)&&s3(t,r,e[r]);if(i3)for(var r of i3(e))Kk.call(e,r)&&s3(t,r,e[r]);return t},T3="ReactNative",Fu={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},Pp=" ",$k=":",x3="/",Hv=2,Yk=1e3,N3="js";function Gv(){return typeof p.default<"u"&&typeof p.default.versions<"u"&&typeof p.default.versions.node<"u"}function O3(){return!Rl.getDocument()&&!!Rl.getNavigator()&&navigator.product===T3}function D3(){return!Gv()&&!!Rl.getNavigator()}function Qv(){return O3()?Fu.reactNative:Gv()?Fu.node:D3()?Fu.browser:Fu.unknown}function P3(t,e){let r=Op.parse(t);return r=o3(o3({},r),e),t=Op.stringify(r),t}function Jk(){return Ck.getWindowMetadata()||{name:"",description:"",url:"",icons:[""]}}function Xk(t,e){var r;let n=Qv(),i={protocol:t,version:e,env:n};return n==="browser"&&(i.host=((r=Rl.getLocation())==null?void 0:r.host)||"unknown"),i}function R3(){let t=Sk.detect();if(t===null)return"unknown";let e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function B3(){var t;let e=Qv();return e===Fu.browser?[e,((t=Rl.getLocation())==null?void 0:t.host)||"unknown"].join(":"):e}function L3(t,e,r){let n=R3(),i=B3();return[[t,e].join("-"),[N3,r].join("-"),n,i].join("/")}function Zk({protocol:t,version:e,relayUrl:r,sdkVersion:n,auth:i,projectId:s,useOnCloseEvent:o}){let a=r.split("?"),u=L3(t,e,n),l={auth:i,ua:u,projectId:s,useOnCloseEvent:o||void 0},f=P3(a[1]||"",l);return a[0]+"?"+f}function ez(t){let e=(t.match(/^[^:]+(?=:\/\/)/gi)||[])[0],r=typeof e<"u"?t.split("://")[1]:t;return e=e==="wss"?"https":"http",[e,r].join("://")}function tz(t,e,r){if(!t[e]||typeof t[e]!==r)throw new Error(`Missing or invalid "${e}" param`)}function F3(t,e=Hv){return M3(t.split(x3),e)}function rz(t){return F3(t).join(Pp)}function Qi(t,e){return t.filter(r=>e.includes(r)).length===t.length}function M3(t,e=Hv){return t.slice(Math.max(t.length-e,0))}function nz(t){return Object.fromEntries(t.entries())}function iz(t){return new Map(Object.entries(t))}function sz(t,e){let r={};return Object.keys(t).forEach(n=>{r[n]=e(t[n])}),r}var oz=t=>t;function U3(t){return t.trim().replace(/^\w/,e=>e.toUpperCase())}function az(t){return t.split(Pp).map(e=>U3(e)).join(Pp)}function uz(t=Mu.FIVE_MINUTES,e){let r=Mu.toMiliseconds(t||Mu.FIVE_MINUTES),n,i,s;return{resolve:o=>{s&&n&&(clearTimeout(s),n(o))},reject:o=>{s&&i&&(clearTimeout(s),i(o))},done:()=>new Promise((o,a)=>{s=setTimeout(()=>{a(new Error(e))},r),n=o,i=a})}}function cz(t,e,r){return new Promise(async(n,i)=>{let s=setTimeout(()=>i(new Error(r)),e);try{let o=await t;n(o)}catch(o){i(o)}clearTimeout(s)})}function kv(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function lz(t){return kv("topic",t)}function fz(t){return kv("id",t)}function hz(t){let[e,r]=t.split(":"),n={id:void 0,topic:void 0};if(e==="topic"&&typeof r=="string")n.topic=r;else if(e==="id"&&Number.isInteger(Number(r)))n.id=Number(r);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${r}`);return n}function dz(t,e){return Mu.fromMiliseconds((e||Date.now())+Mu.toMiliseconds(t))}function pz(t){return Date.now()>=Mu.toMiliseconds(t)}function gz(t,e){return`${t}${e?`:${e}`:""}`}function ki(t=[],e=[]){return[...new Set([...t,...e])]}var q3="irn";function yz(t){return t?.relay||{protocol:q3}}function mz(t){let e=xk.RELAY_JSONRPC[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}var wz=Object.defineProperty,a3=Object.getOwnPropertySymbols,Ez=Object.prototype.hasOwnProperty,vz=Object.prototype.propertyIsEnumerable,u3=(t,e,r)=>e in t?wz(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Az=(t,e)=>{for(var r in e||(e={}))Ez.call(e,r)&&u3(t,r,e[r]);if(a3)for(var r of a3(e))vz.call(e,r)&&u3(t,r,e[r]);return t};function V3(t,e="-"){let r={},n="relay"+e;return Object.keys(t).forEach(i=>{if(i.startsWith(n)){let s=i.replace(n,""),o=t[i];r[s]=o}}),r}function bz(t){let e=t.indexOf(":"),r=t.indexOf("?")!==-1?t.indexOf("?"):void 0,n=t.substring(0,e),i=t.substring(e+1,r).split("@"),s=typeof r<"u"?t.substring(r):"",o=Op.parse(s);return{protocol:n,topic:i[0],version:parseInt(i[1],10),symKey:o.symKey,relay:V3(o)}}function j3(t,e="-"){let r="relay",n={};return Object.keys(t).forEach(i=>{let s=r+e+i;t[i]&&(n[s]=t[i])}),n}function _z(t){return`${t.protocol}:${t.topic}@${t.version}?`+Op.stringify(Az({symKey:t.symKey},j3(t.relay)))}var Iz=Object.defineProperty,Sz=Object.defineProperties,Cz=Object.getOwnPropertyDescriptors,c3=Object.getOwnPropertySymbols,Tz=Object.prototype.hasOwnProperty,xz=Object.prototype.propertyIsEnumerable,l3=(t,e,r)=>e in t?Iz(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Nz=(t,e)=>{for(var r in e||(e={}))Tz.call(e,r)&&l3(t,r,e[r]);if(c3)for(var r of c3(e))xz.call(e,r)&&l3(t,r,e[r]);return t},Oz=(t,e)=>Sz(t,Cz(e));function wo(t){let e=[];return t.forEach(r=>{let[n,i]=r.split(":");e.push(`${n}:${i}`)}),e}function H3(t){let e=[];return Object.values(t).forEach(r=>{e.push(...wo(r.accounts))}),e}function G3(t,e){let r=[];return Object.values(t).forEach(n=>{wo(n.accounts).includes(e)&&r.push(...n.methods)}),r}function Q3(t,e){let r=[];return Object.values(t).forEach(n=>{wo(n.accounts).includes(e)&&r.push(...n.events)}),r}function Dz(t,e){let r=X3(t,e);if(r)throw new Error(r.message);let n={};for(let[i,s]of Object.entries(t))n[i]={methods:s.methods,events:s.events,chains:s.accounts.map(o=>`${o.split(":")[0]}:${o.split(":")[1]}`)};return n}function Pz(t){let{proposal:{requiredNamespaces:e,optionalNamespaces:r={}},supportedNamespaces:n}=t,i=Rv(e),s=Rv(r),o={};Object.keys(n).forEach(l=>{let f=n[l].chains,d=n[l].methods,y=n[l].events,m=n[l].accounts;o[l]={chains:f,methods:d,events:y,accounts:m}});let a=eP(e,o,"approve()");if(a)throw new Error(a.message);let u={};return Object.keys(i).forEach(l=>{let f=n[l].chains.filter(v=>{var T,B;return(B=(T=i[l])==null?void 0:T.chains)==null?void 0:B.includes(v)}),d=n[l].methods.filter(v=>{var T,B;return(B=(T=i[l])==null?void 0:T.methods)==null?void 0:B.includes(v)}),y=n[l].events.filter(v=>{var T,B;return(B=(T=i[l])==null?void 0:T.events)==null?void 0:B.includes(v)}),m=f.map(v=>n[l].accounts.filter(T=>T.includes(v))).flat();u[l]={chains:f,methods:d,events:y,accounts:m}}),Object.keys(s).forEach(l=>{var f,d,y,m,v,T;if(!n[l])return;let B=(d=(f=s[l])==null?void 0:f.chains)==null?void 0:d.filter(R=>n[l].chains.includes(R)),A=n[l].methods.filter(R=>{var P,L;return(L=(P=s[l])==null?void 0:P.methods)==null?void 0:L.includes(R)}),D=n[l].events.filter(R=>{var P,L;return(L=(P=s[l])==null?void 0:P.events)==null?void 0:L.includes(R)}),x=B?.map(R=>n[l].accounts.filter(P=>P.includes(R))).flat();u[l]={chains:ki((y=u[l])==null?void 0:y.chains,B),methods:ki((m=u[l])==null?void 0:m.methods,A),events:ki((v=u[l])==null?void 0:v.events,D),accounts:ki((T=u[l])==null?void 0:T.accounts,x)}}),u}function zv(t){return t.includes(":")}function k3(t){return zv(t)?t.split(":")[0]:t}function Rv(t){var e,r,n;let i={};if(!Mp(t))return i;for(let[s,o]of Object.entries(t)){let a=zv(s)?[s]:o.chains,u=o.methods||[],l=o.events||[],f=k3(s);i[f]=Oz(Nz({},i[f]),{chains:ki(a,(e=i[f])==null?void 0:e.chains),methods:ki(u,(r=i[f])==null?void 0:r.methods),events:ki(l,(n=i[f])==null?void 0:n.events)})}return i}var Rz={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},Bz={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function ri(t,e){let{message:r,code:n}=Bz[t];return{message:e?`${r} ${e}`:r,code:n}}function mo(t,e){let{message:r,code:n}=Rz[t];return{message:e?`${r} ${e}`:r,code:n}}function Ll(t,e){return Array.isArray(t)?typeof e<"u"&&t.length?t.every(e):!0:!1}function Mp(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function zi(t){return typeof t>"u"}function hr(t,e){return e&&zi(t)?!0:typeof t=="string"&&!!t.trim().length}function Up(t,e){return e&&zi(t)?!0:typeof t=="number"&&!isNaN(t)}function Lz(t,e){let{requiredNamespaces:r}=e,n=Object.keys(t.namespaces),i=Object.keys(r),s=!0;return Qi(i,n)?(n.forEach(o=>{let{accounts:a,methods:u,events:l}=t.namespaces[o],f=wo(a),d=r[o];(!Qi(Bp(o,d),f)||!Qi(d.methods,u)||!Qi(d.events,l))&&(s=!1)}),s):!1}function qp(t){return hr(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function z3(t){if(hr(t,!1)&&t.includes(":")){let e=t.split(":");if(e.length===3){let r=e[0]+":"+e[1];return!!e[2]&&qp(r)}}return!1}function Fz(t){if(hr(t,!1))try{return typeof new URL(t)<"u"}catch{return!1}return!1}function Mz(t){var e;return(e=t?.proposer)==null?void 0:e.publicKey}function Uz(t){return t?.topic}function qz(t,e){let r=null;return hr(t?.publicKey,!1)||(r=ri("MISSING_OR_INVALID",`${e} controller public key should be a string`)),r}function Bv(t){let e=!0;return Ll(t)?t.length&&(e=t.every(r=>hr(r,!1))):e=!1,e}function W3(t,e,r){let n=null;return Ll(e)?e.forEach(i=>{n||(!qp(i)||!i.includes(t))&&(n=mo("UNSUPPORTED_CHAINS",`${r}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):n=mo("UNSUPPORTED_CHAINS",`${r}, chains ${e} should be an array of strings conforming to "namespace:chainId" format`),n}function K3(t,e){let r=null;return Object.entries(t).forEach(([n,i])=>{if(r)return;let s=W3(n,Bp(n,i),`${e} requiredNamespace`);s&&(r=s)}),r}function $3(t,e){let r=null;return Ll(t)?t.forEach(n=>{r||z3(n)||(r=mo("UNSUPPORTED_ACCOUNTS",`${e}, account ${n} should be a string and conform to "namespace:chainId:address" format`))}):r=mo("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),r}function Y3(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;let i=$3(n?.accounts,`${e} namespace`);i&&(r=i)}),r}function J3(t,e){let r=null;return Bv(t?.methods)?Bv(t?.events)||(r=mo("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):r=mo("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),r}function Wv(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;let i=J3(n,`${e}, namespace`);i&&(r=i)}),r}function Vz(t,e,r){let n=null;if(t&&Mp(t)){let i=Wv(t,e);i&&(n=i);let s=K3(t,e);s&&(n=s)}else n=ri("MISSING_OR_INVALID",`${e}, ${r} should be an object with data`);return n}function X3(t,e){let r=null;if(t&&Mp(t)){let n=Wv(t,e);n&&(r=n);let i=Y3(t,e);i&&(r=i)}else r=ri("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return r}function Z3(t){return hr(t.protocol,!0)}function jz(t,e){let r=!1;return e&&!t?r=!0:t&&Ll(t)&&t.length&&t.forEach(n=>{r=Z3(n)}),r}function Hz(t){return typeof t=="number"}function Gz(t){return typeof t<"u"&&typeof t!==null}function Qz(t){return!(!t||typeof t!="object"||!t.code||!Up(t.code,!1)||!t.message||!hr(t.message,!1))}function kz(t){return!(zi(t)||!hr(t.method,!1))}function zz(t){return!(zi(t)||zi(t.result)&&zi(t.error)||!Up(t.id,!1)||!hr(t.jsonrpc,!1))}function Wz(t){return!(zi(t)||!hr(t.name,!1))}function Kz(t,e){return!(!qp(e)||!H3(t).includes(e))}function $z(t,e,r){return hr(r,!1)?G3(t,e).includes(r):!1}function Yz(t,e,r){return hr(r,!1)?Q3(t,e).includes(r):!1}function eP(t,e,r){let n=null,i=Jz(t),s=Xz(e),o=Object.keys(i),a=Object.keys(s),u=f3(Object.keys(t)),l=f3(Object.keys(e)),f=u.filter(d=>!l.includes(d));return f.length&&(n=ri("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.
      Required: ${f.toString()}
      Received: ${Object.keys(e).toString()}`)),Qi(o,a)||(n=ri("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${a.toString()}`)),Object.keys(e).forEach(d=>{if(!d.includes(":")||n)return;let y=wo(e[d].accounts);y.includes(d)||(n=ri("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${d}
        Required: ${d}
        Approved: ${y.toString()}`))}),o.forEach(d=>{n||(Qi(i[d].methods,s[d].methods)?Qi(i[d].events,s[d].events)||(n=ri("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${d}`)):n=ri("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${d}`))}),n}function Jz(t){let e={};return Object.keys(t).forEach(r=>{var n;r.includes(":")?e[r]=t[r]:(n=t[r].chains)==null||n.forEach(i=>{e[i]={methods:t[r].methods,events:t[r].events}})}),e}function f3(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function Xz(t){let e={};return Object.keys(t).forEach(r=>{r.includes(":")?e[r]=t[r]:wo(t[r].accounts)?.forEach(i=>{e[i]={accounts:t[r].accounts.filter(s=>s.includes(`${i}:`)),methods:t[r].methods,events:t[r].events}})}),e}function Zz(t,e){return Up(t,!1)&&t<=e.max&&t>=e.min}Q.BASE10=Uv,Q.BASE16=Jt,Q.BASE64=Dp,Q.COLON=$k,Q.DEFAULT_DEPTH=Hv,Q.EMPTY_SPACE=Pp,Q.ENV_MAP=Fu,Q.ONE_THOUSAND=Yk,Q.REACT_NATIVE_PRODUCT=T3,Q.RELAYER_DEFAULT_PROTOCOL=q3,Q.SDK_TYPE=N3,Q.SLASH=x3,Q.TYPE_0=qv,Q.TYPE_1=Uu,Q.UTF8=Fp,Q.appendToQueryString=P3,Q.assertType=tz,Q.buildApprovedNamespaces=Pz,Q.calcExpiry=dz,Q.capitalize=az,Q.capitalizeWord=U3,Q.createDelayedPromise=uz,Q.createExpiringPromise=cz,Q.decodeTypeByte=Bl,Q.decrypt=Gk,Q.deriveSymKey=qk,Q.deserialize=jv,Q.encodeTypeByte=I3,Q.encrypt=Hk,Q.engineEvent=gz,Q.enumify=oz,Q.formatAccountId=w3,Q.formatAccountWithChain=Nk,Q.formatChainId=m3,Q.formatExpirerTarget=kv,Q.formatIdTarget=fz,Q.formatMessage=Lk,Q.formatMessageContext=rz,Q.formatRelayParams=j3,Q.formatRelayRpcUrl=Zk,Q.formatTopicTarget=lz,Q.formatUA=L3,Q.formatUri=_z,Q.generateKeyPair=Mk,Q.generateRandomBytes32=Uk,Q.getAccountsChains=wo,Q.getAccountsFromNamespaces=Dk,Q.getAddressFromAccount=E3,Q.getAddressesFromAccounts=Ok,Q.getAppMetadata=Jk,Q.getChainFromAccount=v3,Q.getChainsFromAccounts=A3,Q.getChainsFromNamespace=Bp,Q.getChainsFromNamespaces=Pk,Q.getChainsFromRequiredNamespaces=Rk,Q.getDidAddress=_3,Q.getDidAddressSegments=Lp,Q.getDidChainId=b3,Q.getEnvironment=Qv,Q.getHttpUrl=ez,Q.getInternalError=ri,Q.getJavascriptID=B3,Q.getJavascriptOS=R3,Q.getLastItems=M3,Q.getNamespacedDidChainId=Bk,Q.getNamespacesChains=H3,Q.getNamespacesEventsForChainId=Q3,Q.getNamespacesMethodsForChainId=G3,Q.getRelayClientMetadata=Xk,Q.getRelayProtocolApi=mz,Q.getRelayProtocolName=yz,Q.getRequiredNamespacesFromNamespaces=Dz,Q.getSdkError=mo,Q.getUniqueValues=Mv,Q.hasOverlap=Qi,Q.hashKey=Vk,Q.hashMessage=jk,Q.isBrowser=D3,Q.isCaipNamespace=zv,Q.isConformingNamespaces=eP,Q.isExpired=pz,Q.isNode=Gv,Q.isProposalStruct=Mz,Q.isReactNative=O3,Q.isSessionCompatible=Lz,Q.isSessionStruct=Uz,Q.isTypeOneEnvelope=kk,Q.isUndefined=zi,Q.isValidAccountId=z3,Q.isValidAccounts=$3,Q.isValidActions=J3,Q.isValidArray=Ll,Q.isValidChainId=qp,Q.isValidChains=W3,Q.isValidController=qz,Q.isValidErrorReason=Qz,Q.isValidEvent=Wz,Q.isValidId=Hz,Q.isValidNamespaceAccounts=Y3,Q.isValidNamespaceActions=Wv,Q.isValidNamespaceChains=K3,Q.isValidNamespaceMethodsOrEvents=Bv,Q.isValidNamespaces=X3,Q.isValidNamespacesChainId=Kz,Q.isValidNamespacesEvent=Yz,Q.isValidNamespacesRequest=$z,Q.isValidNumber=Up,Q.isValidObject=Mp,Q.isValidParams=Gz,Q.isValidRelay=Z3,Q.isValidRelays=jz,Q.isValidRequest=kz,Q.isValidRequestExpiry=Zz,Q.isValidRequiredNamespaces=Vz,Q.isValidResponse=zz,Q.isValidString=hr,Q.isValidUrl=Fz,Q.mapEntries=sz,Q.mapToObj=nz,Q.mergeArrays=ki,Q.normalizeNamespaces=Rv,Q.objToMap=iz,Q.parseAccountId=Fv,Q.parseChainId=y3,Q.parseContextNames=F3,Q.parseExpirerTarget=hz,Q.parseNamespaceKey=k3,Q.parseRelayParams=V3,Q.parseUri=bz,Q.serialize=S3,Q.validateDecoding=Qk,Q.validateEncoding=C3});var tP,rP,nP,iP,jp,Fl,Kv,Hp,Wi,Ml,Gp=ge(()=>{c();tP="PARSE_ERROR",rP="INVALID_REQUEST",nP="METHOD_NOT_FOUND",iP="INVALID_PARAMS",jp="INTERNAL_ERROR",Fl="SERVER_ERROR",Kv=[-32700,-32600,-32601,-32602,-32603],Hp=[-32e3,-32099],Wi={[tP]:{code:-32700,message:"Parse error"},[rP]:{code:-32600,message:"Invalid Request"},[nP]:{code:-32601,message:"Method not found"},[iP]:{code:-32602,message:"Invalid params"},[jp]:{code:-32603,message:"Internal error"},[Fl]:{code:-32e3,message:"Server error"}},Ml=Fl});function eW(t){return t<=Hp[0]&&t>=Hp[1]}function Qp(t){return Kv.includes(t)}function sP(t){return typeof t=="number"}function kp(t){return Object.keys(Wi).includes(t)?Wi[t]:Wi[Ml]}function zp(t){let e=Object.values(Wi).find(r=>r.code===t);return e||Wi[Ml]}function tW(t){if(typeof t.error.code>"u")return{valid:!1,error:"Missing code for JSON-RPC error"};if(typeof t.error.message>"u")return{valid:!1,error:"Missing message for JSON-RPC error"};if(!sP(t.error.code))return{valid:!1,error:`Invalid error code type for JSON-RPC: ${t.error.code}`};if(Qp(t.error.code)){let e=zp(t.error.code);if(e.message!==Wi[Ml].message&&t.error.message===e.message)return{valid:!1,error:`Invalid error code message for JSON-RPC: ${t.error.code}`}}return{valid:!0}}function $v(t,e,r){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${r} RPC url at ${e}`):t}var Yv=ge(()=>{c();Gp()});var aP=w(Ki=>{"use strict";c();Object.defineProperty(Ki,"__esModule",{value:!0});Ki.isBrowserCryptoAvailable=Ki.getSubtleCrypto=Ki.getBrowerCrypto=void 0;function Jv(){return(global===null||global===void 0?void 0:global.crypto)||(global===null||global===void 0?void 0:global.msCrypto)||{}}Ki.getBrowerCrypto=Jv;function oP(){let t=Jv();return t.subtle||t.webkitSubtle}Ki.getSubtleCrypto=oP;function rW(){return!!Jv()&&!!oP()}Ki.isBrowserCryptoAvailable=rW});var lP=w($i=>{"use strict";c();Object.defineProperty($i,"__esModule",{value:!0});$i.isBrowser=$i.isNode=$i.isReactNative=void 0;function uP(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}$i.isReactNative=uP;function cP(){return typeof p.default<"u"&&typeof p.default.versions<"u"&&typeof p.default.versions.node<"u"}$i.isNode=cP;function nW(){return!uP()&&!cP()}$i.isBrowser=nW});var Xv=w(Wp=>{"use strict";c();Object.defineProperty(Wp,"__esModule",{value:!0});var fP=(lr(),nt(cr));fP.__exportStar(aP(),Wp);fP.__exportStar(lP(),Wp)});var Dt={};at(Dt,{isNodeJs:()=>dP});var hP,dP,pP=ge(()=>{c();hP=_e(Xv());Mt(Dt,_e(Xv()));dP=hP.isNode});function Zv(t=3){let e=Date.now()*Math.pow(10,t),r=Math.floor(Math.random()*Math.pow(10,t));return e+r}function eA(t=6){return BigInt(Zv(t))}function tA(t,e,r){return{id:r||Zv(),jsonrpc:"2.0",method:t,params:e}}function iW(t,e){return{id:t,jsonrpc:"2.0",result:e}}function rA(t,e,r){return{id:t,jsonrpc:"2.0",error:gP(e,r)}}function gP(t,e){return typeof t>"u"?kp(jp):(typeof t=="string"&&(t=Object.assign(Object.assign({},kp(Fl)),{message:t})),typeof e<"u"&&(t.data=e),Qp(t.code)&&(t=zp(t.code)),t)}var yP=ge(()=>{c();Yv();Gp()});function sW(t){return t.includes("*")?$p(t):!/\W/g.test(t)}function Kp(t){return t==="*"}function $p(t){return Kp(t)?!0:!(!t.includes("*")||t.split("*").length!==2||t.split("*").filter(e=>e.trim()==="").length!==1)}function oW(t){return!Kp(t)&&$p(t)&&!t.split("*")[0].trim()}function aW(t){return!Kp(t)&&$p(t)&&!t.split("*")[1].trim()}var mP=ge(()=>{c()});var wP=ge(()=>{c()});var qu,nA=ge(()=>{c();qu=class{}});var iA,Yp,Ul,EP=ge(()=>{c();nA();iA=class extends qu{constructor(e){super()}},Yp=class extends qu{constructor(){super()}},Ul=class extends Yp{constructor(e){super()}}});var vP=ge(()=>{c()});var AP=ge(()=>{c();wP();nA();EP();vP()});var bP=ge(()=>{c();AP()});function lW(t){let e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function _P(t,e){let r=lW(t);return typeof r>"u"?!1:new RegExp(e).test(r)}function fW(t){return _P(t,uW)}function Jp(t){return _P(t,cW)}function sA(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}var uW,cW,IP=ge(()=>{c();uW="^https?:",cW="^wss?:"});function oA(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function hW(t){return oA(t)&&"method"in t}function aA(t){return oA(t)&&(SP(t)||Xp(t))}function SP(t){return"result"in t}function Xp(t){return"error"in t}function dW(t){return"error"in t&&t.valid===!1}var CP=ge(()=>{c()});var Kt={};at(Kt,{DEFAULT_ERROR:()=>Ml,IBaseJsonRpcProvider:()=>Yp,IEvents:()=>qu,IJsonRpcConnection:()=>iA,IJsonRpcProvider:()=>Ul,INTERNAL_ERROR:()=>jp,INVALID_PARAMS:()=>iP,INVALID_REQUEST:()=>rP,METHOD_NOT_FOUND:()=>nP,PARSE_ERROR:()=>tP,RESERVED_ERROR_CODES:()=>Kv,SERVER_ERROR:()=>Fl,SERVER_ERROR_CODE_RANGE:()=>Hp,STANDARD_ERROR_MAP:()=>Wi,formatErrorMessage:()=>gP,formatJsonRpcError:()=>rA,formatJsonRpcRequest:()=>tA,formatJsonRpcResult:()=>iW,getBigIntRpcId:()=>eA,getError:()=>kp,getErrorByCode:()=>zp,isHttpUrl:()=>fW,isJsonRpcError:()=>Xp,isJsonRpcPayload:()=>oA,isJsonRpcRequest:()=>hW,isJsonRpcResponse:()=>aA,isJsonRpcResult:()=>SP,isJsonRpcValidationInvalid:()=>dW,isLocalhostUrl:()=>sA,isNodeJs:()=>dP,isReservedErrorCode:()=>Qp,isServerErrorCode:()=>eW,isValidDefaultRoute:()=>Kp,isValidErrorCode:()=>sP,isValidLeadingWildcardRoute:()=>oW,isValidRoute:()=>sW,isValidTrailingWildcardRoute:()=>aW,isValidWildcardRoute:()=>$p,isWsUrl:()=>Jp,parseConnectionError:()=>$v,payloadId:()=>Zv,validateJsonRpcError:()=>tW});var ql=ge(()=>{c();Gp();Yv();pP();Mt(Kt,Dt);yP();mP();bP();IP();CP()});var TP,Zp,xP,uA=ge(()=>{c();TP=_e(Wn());ql();Zp=class extends Ul{constructor(e){super(e),this.events=new TP.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async request(e,r){return this.requestStrict(tA(e.method,e.params||[],eA().toString()),r)}async requestStrict(e,r){return new Promise(async(n,i)=>{if(!this.connection.connected)try{await this.open()}catch(s){i(s)}this.events.on(`${e.id}`,s=>{Xp(s)?i(s.error):n(s.result)});try{await this.connection.send(e,r)}catch(s){i(s)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),aA(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}},xP=Zp});var NP={};at(NP,{JsonRpcProvider:()=>Zp,default:()=>pW});var pW,OP=ge(()=>{c();uA();uA();pW=xP});var PP=w((Mhe,DP)=>{"use strict";c();DP.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}});var BP,RP,gW,yW,mW,eg,LP,cA=ge(()=>{c();BP=_e(Wn());kd();ql();RP=10,gW=()=>typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:PP(),yW=()=>typeof window<"u",mW=gW(),eg=class{constructor(e){if(this.url=e,this.events=new BP.EventEmitter,this.registering=!1,!Jp(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,r)=>{if(typeof this.socket>"u"){r(new Error("Connection already closed"));return}this.socket.onclose=n=>{this.onClose(n),e()},this.socket.close()})}async send(e,r){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(pl(e))}catch(n){this.onError(e.id,n)}}register(e=this.url){if(!Jp(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){let r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return i(new Error("WebSocket connection is missing or invalid"));n(this.socket)})})}return this.url=e,this.registering=!0,new Promise((r,n)=>{let i=(0,Kt.isReactNative)()?void 0:{rejectUnauthorized:!sA(e)},s=new mW(e,[],i);yW()?s.onerror=o=>{let a=o;n(this.emitError(a.error))}:s.on("error",o=>{n(this.emitError(o))}),s.onopen=()=>{this.onOpen(s),r(s)}})}onOpen(e){e.onmessage=r=>this.onPayload(r),e.onclose=r=>this.onClose(r),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;let r=typeof e.data=="string"?dl(e.data):e.data;this.events.emit("payload",r)}onError(e,r){let n=this.parseError(r),i=n.message||n.toString(),s=rA(e,i);this.events.emit("payload",s)}parseError(e,r=this.url){return $v(e,r,"WS")}resetMaxListeners(){this.events.getMaxListeners()>RP&&this.events.setMaxListeners(RP)}emitError(e){let r=this.parseError(new Error(e?.message||`WebSocket connection failed for URL: ${this.url}`));return this.events.emit("register_error",r),r}},LP=eg});var FP={};at(FP,{WsConnection:()=>eg,default:()=>wW});var wW,MP=ge(()=>{c();cA();cA();wW=LP});var w6=w((Vl,ju)=>{c();var EW=200,vA="__lodash_hash_undefined__",ug=1,$P=2,YP=9007199254740991,tg="[object Arguments]",dA="[object Array]",vW="[object AsyncFunction]",JP="[object Boolean]",XP="[object Date]",ZP="[object Error]",e6="[object Function]",AW="[object GeneratorFunction]",rg="[object Map]",t6="[object Number]",bW="[object Null]",Vu="[object Object]",UP="[object Promise]",_W="[object Proxy]",r6="[object RegExp]",ng="[object Set]",n6="[object String]",IW="[object Symbol]",SW="[object Undefined]",pA="[object WeakMap]",i6="[object ArrayBuffer]",ig="[object DataView]",CW="[object Float32Array]",TW="[object Float64Array]",xW="[object Int8Array]",NW="[object Int16Array]",OW="[object Int32Array]",DW="[object Uint8Array]",PW="[object Uint8ClampedArray]",RW="[object Uint16Array]",BW="[object Uint32Array]",LW=/[\\^$.*+?()[\]{}|]/g,FW=/^\[object .+?Constructor\]$/,MW=/^(?:0|[1-9]\d*)$/,Ye={};Ye[CW]=Ye[TW]=Ye[xW]=Ye[NW]=Ye[OW]=Ye[DW]=Ye[PW]=Ye[RW]=Ye[BW]=!0;Ye[tg]=Ye[dA]=Ye[i6]=Ye[JP]=Ye[ig]=Ye[XP]=Ye[ZP]=Ye[e6]=Ye[rg]=Ye[t6]=Ye[Vu]=Ye[r6]=Ye[ng]=Ye[n6]=Ye[pA]=!1;var s6=typeof global=="object"&&global&&global.Object===Object&&global,UW=typeof self=="object"&&self&&self.Object===Object&&self,ni=s6||UW||Function("return this")(),o6=typeof Vl=="object"&&Vl&&!Vl.nodeType&&Vl,qP=o6&&typeof ju=="object"&&ju&&!ju.nodeType&&ju,a6=qP&&qP.exports===o6,lA=a6&&s6.process,VP=function(){try{return lA&&lA.binding&&lA.binding("util")}catch{}}(),jP=VP&&VP.isTypedArray;function qW(t,e){for(var r=-1,n=t==null?0:t.length,i=0,s=[];++r<n;){var o=t[r];e(o,r,t)&&(s[i++]=o)}return s}function VW(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}function jW(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}function HW(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}function GW(t){return function(e){return t(e)}}function QW(t,e){return t.has(e)}function kW(t,e){return t?.[e]}function zW(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}function WW(t,e){return function(r){return t(e(r))}}function KW(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var $W=Array.prototype,YW=Function.prototype,cg=Object.prototype,fA=ni["__core-js_shared__"],u6=YW.toString,Tn=cg.hasOwnProperty,HP=function(){var t=/[^.]+$/.exec(fA&&fA.keys&&fA.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),c6=cg.toString,JW=RegExp("^"+u6.call(Tn).replace(LW,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),GP=a6?ni.Buffer:void 0,sg=ni.Symbol,QP=ni.Uint8Array,l6=cg.propertyIsEnumerable,XW=$W.splice,Eo=sg?sg.toStringTag:void 0,kP=Object.getOwnPropertySymbols,ZW=GP?GP.isBuffer:void 0,eK=WW(Object.keys,Object),gA=Hu(ni,"DataView"),jl=Hu(ni,"Map"),yA=Hu(ni,"Promise"),mA=Hu(ni,"Set"),wA=Hu(ni,"WeakMap"),Hl=Hu(Object,"create"),tK=bo(gA),rK=bo(jl),nK=bo(yA),iK=bo(mA),sK=bo(wA),zP=sg?sg.prototype:void 0,hA=zP?zP.valueOf:void 0;function vo(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function oK(){this.__data__=Hl?Hl(null):{},this.size=0}function aK(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function uK(t){var e=this.__data__;if(Hl){var r=e[t];return r===vA?void 0:r}return Tn.call(e,t)?e[t]:void 0}function cK(t){var e=this.__data__;return Hl?e[t]!==void 0:Tn.call(e,t)}function lK(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Hl&&e===void 0?vA:e,this}vo.prototype.clear=oK;vo.prototype.delete=aK;vo.prototype.get=uK;vo.prototype.has=cK;vo.prototype.set=lK;function ii(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function fK(){this.__data__=[],this.size=0}function hK(t){var e=this.__data__,r=lg(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():XW.call(e,r,1),--this.size,!0}function dK(t){var e=this.__data__,r=lg(e,t);return r<0?void 0:e[r][1]}function pK(t){return lg(this.__data__,t)>-1}function gK(t,e){var r=this.__data__,n=lg(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}ii.prototype.clear=fK;ii.prototype.delete=hK;ii.prototype.get=dK;ii.prototype.has=pK;ii.prototype.set=gK;function Ao(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function yK(){this.size=0,this.__data__={hash:new vo,map:new(jl||ii),string:new vo}}function mK(t){var e=fg(this,t).delete(t);return this.size-=e?1:0,e}function wK(t){return fg(this,t).get(t)}function EK(t){return fg(this,t).has(t)}function vK(t,e){var r=fg(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}Ao.prototype.clear=yK;Ao.prototype.delete=mK;Ao.prototype.get=wK;Ao.prototype.has=EK;Ao.prototype.set=vK;function og(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new Ao;++e<r;)this.add(t[e])}function AK(t){return this.__data__.set(t,vA),this}function bK(t){return this.__data__.has(t)}og.prototype.add=og.prototype.push=AK;og.prototype.has=bK;function Ji(t){var e=this.__data__=new ii(t);this.size=e.size}function _K(){this.__data__=new ii,this.size=0}function IK(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function SK(t){return this.__data__.get(t)}function CK(t){return this.__data__.has(t)}function TK(t,e){var r=this.__data__;if(r instanceof ii){var n=r.__data__;if(!jl||n.length<EW-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Ao(n)}return r.set(t,e),this.size=r.size,this}Ji.prototype.clear=_K;Ji.prototype.delete=IK;Ji.prototype.get=SK;Ji.prototype.has=CK;Ji.prototype.set=TK;function xK(t,e){var r=ag(t),n=!r&&GK(t),i=!r&&!n&&EA(t),s=!r&&!n&&!i&&m6(t),o=r||n||i||s,a=o?HW(t.length,String):[],u=a.length;for(var l in t)(e||Tn.call(t,l))&&!(o&&(l=="length"||i&&(l=="offset"||l=="parent")||s&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||UK(l,u)))&&a.push(l);return a}function lg(t,e){for(var r=t.length;r--;)if(d6(t[r][0],e))return r;return-1}function NK(t,e,r){var n=e(t);return ag(t)?n:VW(n,r(t))}function Ql(t){return t==null?t===void 0?SW:bW:Eo&&Eo in Object(t)?FK(t):HK(t)}function WP(t){return Gl(t)&&Ql(t)==tg}function f6(t,e,r,n,i){return t===e?!0:t==null||e==null||!Gl(t)&&!Gl(e)?t!==t&&e!==e:OK(t,e,r,n,f6,i)}function OK(t,e,r,n,i,s){var o=ag(t),a=ag(e),u=o?dA:Yi(t),l=a?dA:Yi(e);u=u==tg?Vu:u,l=l==tg?Vu:l;var f=u==Vu,d=l==Vu,y=u==l;if(y&&EA(t)){if(!EA(e))return!1;o=!0,f=!1}if(y&&!f)return s||(s=new Ji),o||m6(t)?h6(t,e,r,n,i,s):BK(t,e,u,r,n,i,s);if(!(r&ug)){var m=f&&Tn.call(t,"__wrapped__"),v=d&&Tn.call(e,"__wrapped__");if(m||v){var T=m?t.value():t,B=v?e.value():e;return s||(s=new Ji),i(T,B,r,n,s)}}return y?(s||(s=new Ji),LK(t,e,r,n,i,s)):!1}function DK(t){if(!y6(t)||VK(t))return!1;var e=p6(t)?JW:FW;return e.test(bo(t))}function PK(t){return Gl(t)&&g6(t.length)&&!!Ye[Ql(t)]}function RK(t){if(!jK(t))return eK(t);var e=[];for(var r in Object(t))Tn.call(t,r)&&r!="constructor"&&e.push(r);return e}function h6(t,e,r,n,i,s){var o=r&ug,a=t.length,u=e.length;if(a!=u&&!(o&&u>a))return!1;var l=s.get(t);if(l&&s.get(e))return l==e;var f=-1,d=!0,y=r&$P?new og:void 0;for(s.set(t,e),s.set(e,t);++f<a;){var m=t[f],v=e[f];if(n)var T=o?n(v,m,f,e,t,s):n(m,v,f,t,e,s);if(T!==void 0){if(T)continue;d=!1;break}if(y){if(!jW(e,function(B,A){if(!QW(y,A)&&(m===B||i(m,B,r,n,s)))return y.push(A)})){d=!1;break}}else if(!(m===v||i(m,v,r,n,s))){d=!1;break}}return s.delete(t),s.delete(e),d}function BK(t,e,r,n,i,s,o){switch(r){case ig:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case i6:return!(t.byteLength!=e.byteLength||!s(new QP(t),new QP(e)));case JP:case XP:case t6:return d6(+t,+e);case ZP:return t.name==e.name&&t.message==e.message;case r6:case n6:return t==e+"";case rg:var a=zW;case ng:var u=n&ug;if(a||(a=KW),t.size!=e.size&&!u)return!1;var l=o.get(t);if(l)return l==e;n|=$P,o.set(t,e);var f=h6(a(t),a(e),n,i,s,o);return o.delete(t),f;case IW:if(hA)return hA.call(t)==hA.call(e)}return!1}function LK(t,e,r,n,i,s){var o=r&ug,a=KP(t),u=a.length,l=KP(e),f=l.length;if(u!=f&&!o)return!1;for(var d=u;d--;){var y=a[d];if(!(o?y in e:Tn.call(e,y)))return!1}var m=s.get(t);if(m&&s.get(e))return m==e;var v=!0;s.set(t,e),s.set(e,t);for(var T=o;++d<u;){y=a[d];var B=t[y],A=e[y];if(n)var D=o?n(A,B,y,e,t,s):n(B,A,y,t,e,s);if(!(D===void 0?B===A||i(B,A,r,n,s):D)){v=!1;break}T||(T=y=="constructor")}if(v&&!T){var x=t.constructor,R=e.constructor;x!=R&&"constructor"in t&&"constructor"in e&&!(typeof x=="function"&&x instanceof x&&typeof R=="function"&&R instanceof R)&&(v=!1)}return s.delete(t),s.delete(e),v}function KP(t){return NK(t,zK,MK)}function fg(t,e){var r=t.__data__;return qK(e)?r[typeof e=="string"?"string":"hash"]:r.map}function Hu(t,e){var r=kW(t,e);return DK(r)?r:void 0}function FK(t){var e=Tn.call(t,Eo),r=t[Eo];try{t[Eo]=void 0;var n=!0}catch{}var i=c6.call(t);return n&&(e?t[Eo]=r:delete t[Eo]),i}var MK=kP?function(t){return t==null?[]:(t=Object(t),qW(kP(t),function(e){return l6.call(t,e)}))}:WK,Yi=Ql;(gA&&Yi(new gA(new ArrayBuffer(1)))!=ig||jl&&Yi(new jl)!=rg||yA&&Yi(yA.resolve())!=UP||mA&&Yi(new mA)!=ng||wA&&Yi(new wA)!=pA)&&(Yi=function(t){var e=Ql(t),r=e==Vu?t.constructor:void 0,n=r?bo(r):"";if(n)switch(n){case tK:return ig;case rK:return rg;case nK:return UP;case iK:return ng;case sK:return pA}return e});function UK(t,e){return e=e??YP,!!e&&(typeof t=="number"||MW.test(t))&&t>-1&&t%1==0&&t<e}function qK(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function VK(t){return!!HP&&HP in t}function jK(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||cg;return t===r}function HK(t){return c6.call(t)}function bo(t){if(t!=null){try{return u6.call(t)}catch{}try{return t+""}catch{}}return""}function d6(t,e){return t===e||t!==t&&e!==e}var GK=WP(function(){return arguments}())?WP:function(t){return Gl(t)&&Tn.call(t,"callee")&&!l6.call(t,"callee")},ag=Array.isArray;function QK(t){return t!=null&&g6(t.length)&&!p6(t)}var EA=ZW||KK;function kK(t,e){return f6(t,e)}function p6(t){if(!y6(t))return!1;var e=Ql(t);return e==e6||e==AW||e==vW||e==_W}function g6(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=YP}function y6(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function Gl(t){return t!=null&&typeof t=="object"}var m6=jP?GW(jP):PK;function zK(t){return QK(t)?xK(t):RK(t)}function WK(){return[]}function KK(){return!1}ju.exports=kK});var v8=w(ve=>{"use strict";c();Object.defineProperty(ve,"__esModule",{value:!0});var _o=Wn(),$K=Od(),YK=Z2(),bg=gN(),tt=n1(),Xi=v1(),E6=(kd(),nt(bN)),JK=(zO(),nt(kO)),ee=Vp(),XK=(Sv(),nt(Iv)),It=co(),ZK=(OP(),nt(NP)),kr=(ql(),nt(Kt)),e$=(MP(),nt(FP)),t$=w6();function Wl(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}function r$(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}),e.default=t,Object.freeze(e)}var n$=Wl(_o),F6=Wl($K),i$=Wl(YK),hg=r$(JK),s$=Wl(e$),o$=Wl(t$);function a$(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=t.length,u=t.charAt(0),l=Math.log(a)/Math.log(256),f=Math.log(256)/Math.log(a);function d(v){if(v instanceof Uint8Array||(ArrayBuffer.isView(v)?v=new Uint8Array(v.buffer,v.byteOffset,v.byteLength):Array.isArray(v)&&(v=Uint8Array.from(v))),!(v instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(v.length===0)return"";for(var T=0,B=0,A=0,D=v.length;A!==D&&v[A]===0;)A++,T++;for(var x=(D-A)*f+1>>>0,R=new Uint8Array(x);A!==D;){for(var P=v[A],L=0,_=x-1;(P!==0||L<B)&&_!==-1;_--,L++)P+=256*R[_]>>>0,R[_]=P%a>>>0,P=P/a>>>0;if(P!==0)throw new Error("Non-zero carry");B=L,A++}for(var C=x-B;C!==x&&R[C]===0;)C++;for(var M=u.repeat(T);C<x;++C)M+=t.charAt(R[C]);return M}function y(v){if(typeof v!="string")throw new TypeError("Expected String");if(v.length===0)return new Uint8Array;var T=0;if(v[T]!==" "){for(var B=0,A=0;v[T]===u;)B++,T++;for(var D=(v.length-T)*l+1>>>0,x=new Uint8Array(D);v[T];){var R=r[v.charCodeAt(T)];if(R===255)return;for(var P=0,L=D-1;(R!==0||P<A)&&L!==-1;L--,P++)R+=a*x[L]>>>0,x[L]=R%256>>>0,R=R/256>>>0;if(R!==0)throw new Error("Non-zero carry");A=P,T++}if(v[T]!==" "){for(var _=D-A;_!==D&&x[_]===0;)_++;for(var C=new Uint8Array(B+(D-_)),M=B;_!==D;)C[M++]=x[_++];return C}}}function m(v){var T=y(v);if(T)return T;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:y,decode:m}}var u$=a$,c$=u$,M6=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},l$=t=>new TextEncoder().encode(t),f$=t=>new TextDecoder().decode(t),_A=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},IA=class{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return U6(this,e)}},SA=class{constructor(e){this.decoders=e}or(e){return U6(this,e)}decode(e){let r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},U6=(t,e)=>new SA({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}}),CA=class{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new _A(e,r,n),this.decoder=new IA(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},_g=({name:t,prefix:e,encode:r,decode:n})=>new CA(t,e,r,n),Kl=({prefix:t,name:e,alphabet:r})=>{let{encode:n,decode:i}=c$(r,e);return _g({prefix:t,name:e,encode:n,decode:s=>M6(i(s))})},h$=(t,e,r,n)=>{let i={};for(let f=0;f<e.length;++f)i[e[f]]=f;let s=t.length;for(;t[s-1]==="=";)--s;let o=new Uint8Array(s*r/8|0),a=0,u=0,l=0;for(let f=0;f<s;++f){let d=i[t[f]];if(d===void 0)throw new SyntaxError(`Non-${n} character`);u=u<<r|d,a+=r,a>=8&&(a-=8,o[l++]=255&u>>a)}if(a>=r||255&u<<8-a)throw new SyntaxError("Unexpected end of data");return o},d$=(t,e,r)=>{let n=e[e.length-1]==="=",i=(1<<r)-1,s="",o=0,a=0;for(let u=0;u<t.length;++u)for(a=a<<8|t[u],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},qt=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>_g({prefix:e,name:t,encode(i){return d$(i,n,r)},decode(i){return h$(i,n,r,t)}}),p$=_g({prefix:"\0",name:"identity",encode:t=>f$(t),decode:t=>l$(t)}),g$=Object.freeze({__proto__:null,identity:p$}),y$=qt({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),m$=Object.freeze({__proto__:null,base2:y$}),w$=qt({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),E$=Object.freeze({__proto__:null,base8:w$}),v$=Kl({prefix:"9",name:"base10",alphabet:"0123456789"}),A$=Object.freeze({__proto__:null,base10:v$}),b$=qt({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),_$=qt({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),I$=Object.freeze({__proto__:null,base16:b$,base16upper:_$}),S$=qt({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),C$=qt({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),T$=qt({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),x$=qt({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),N$=qt({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),O$=qt({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),D$=qt({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),P$=qt({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),R$=qt({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),B$=Object.freeze({__proto__:null,base32:S$,base32upper:C$,base32pad:T$,base32padupper:x$,base32hex:N$,base32hexupper:O$,base32hexpad:D$,base32hexpadupper:P$,base32z:R$}),L$=Kl({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),F$=Kl({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),M$=Object.freeze({__proto__:null,base36:L$,base36upper:F$}),U$=Kl({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),q$=Kl({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),V$=Object.freeze({__proto__:null,base58btc:U$,base58flickr:q$}),j$=qt({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),H$=qt({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),G$=qt({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Q$=qt({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),k$=Object.freeze({__proto__:null,base64:j$,base64pad:H$,base64url:G$,base64urlpad:Q$}),q6=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),z$=q6.reduce((t,e,r)=>(t[r]=e,t),[]),W$=q6.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function K$(t){return t.reduce((e,r)=>(e+=z$[r],e),"")}function $$(t){let e=[];for(let r of t){let n=W$[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}var Y$=_g({prefix:"\u{1F680}",name:"base256emoji",encode:K$,decode:$$}),J$=Object.freeze({__proto__:null,base256emoji:Y$}),X$=V6,v6=128,Z$=127,eY=~Z$,tY=Math.pow(2,31);function V6(t,e,r){e=e||[],r=r||0;for(var n=r;t>=tY;)e[r++]=t&255|v6,t/=128;for(;t&eY;)e[r++]=t&255|v6,t>>>=7;return e[r]=t|0,V6.bytes=r-n+1,e}var rY=TA,nY=128,A6=127;function TA(t,n){var r=0,n=n||0,i=0,s=n,o,a=t.length;do{if(s>=a)throw TA.bytes=0,new RangeError("Could not decode varint");o=t[s++],r+=i<28?(o&A6)<<i:(o&A6)*Math.pow(2,i),i+=7}while(o>=nY);return TA.bytes=s-n,r}var iY=Math.pow(2,7),sY=Math.pow(2,14),oY=Math.pow(2,21),aY=Math.pow(2,28),uY=Math.pow(2,35),cY=Math.pow(2,42),lY=Math.pow(2,49),fY=Math.pow(2,56),hY=Math.pow(2,63),dY=function(t){return t<iY?1:t<sY?2:t<oY?3:t<aY?4:t<uY?5:t<cY?6:t<lY?7:t<fY?8:t<hY?9:10},pY={encode:X$,decode:rY,encodingLength:dY},j6=pY,b6=(t,e,r=0)=>(j6.encode(t,e,r),e),_6=t=>j6.encodingLength(t),xA=(t,e)=>{let r=e.byteLength,n=_6(t),i=n+_6(r),s=new Uint8Array(i+r);return b6(t,s,0),b6(r,s,n),s.set(e,i),new NA(t,r,e,s)},NA=class{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}},H6=({name:t,code:e,encode:r})=>new OA(t,e,r),OA=class{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){let r=this.encode(e);return r instanceof Uint8Array?xA(this.code,r):r.then(n=>xA(this.code,n))}else throw Error("Unknown type, must be binary type")}},G6=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),gY=H6({name:"sha2-256",code:18,encode:G6("SHA-256")}),yY=H6({name:"sha2-512",code:19,encode:G6("SHA-512")}),mY=Object.freeze({__proto__:null,sha256:gY,sha512:yY}),Q6=0,wY="identity",k6=M6,EY=t=>xA(Q6,k6(t)),vY={code:Q6,name:wY,encode:k6,digest:EY},AY=Object.freeze({__proto__:null,identity:vY});new TextEncoder,new TextDecoder;var I6={...g$,...m$,...E$,...A$,...I$,...B$,...M$,...V$,...k$,...J$};({...mY,...AY});function bY(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}function z6(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}var S6=z6("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),AA=z6("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);let e=bY(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),_Y={utf8:S6,"utf-8":S6,hex:I6.base16,latin1:AA,ascii:AA,binary:AA,...I6};function IY(t,e="utf8"){let r=_Y[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t,"utf8"):r.decoder.decode(`${r.prefix}${t}`)}var BA="wc",W6=2,Ig="core",si=`${BA}@2:${Ig}:`,K6={name:Ig,logger:"error"},$6={database:":memory:"},Y6="crypto",DA="client_ed25519_seed",J6=It.ONE_DAY,X6="keychain",Z6="0.3",e8="messages",t8="0.3",r8=It.SIX_HOURS,n8="publisher",i8="irn",s8="error",LA="wss://relay.walletconnect.com",o8="relayer",Ut={message:"relayer_message",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},a8="_subscription",zl={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},u8=It.ONE_SECOND,SY={database:":memory:"},c8="2.6.2",l8="0.3",Qr={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},CY=It.THIRTY_DAYS,f8="subscription",h8="0.3",d8=It.FIVE_SECONDS*1e3,p8="pairing",g8="0.3",TY=It.THIRTY_DAYS,Gu={wc_pairingDelete:{req:{ttl:It.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:It.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:It.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:It.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:It.ONE_DAY,prompt:!1,tag:0},res:{ttl:It.ONE_DAY,prompt:!1,tag:0}}},Gr={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},y8="history",m8="0.3",w8="expirer",Dr={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},E8="0.3",xY=It.ONE_DAY,dg=class{constructor(e,r){this.core=e,this.logger=r,this.keychain=new Map,this.name=X6,this.version=Z6,this.initialized=!1,this.storagePrefix=si,this.init=async()=>{if(!this.initialized){let n=await this.getKeyChain();typeof n<"u"&&(this.keychain=n),this.initialized=!0}},this.has=n=>(this.isInitialized(),this.keychain.has(n)),this.set=async(n,i)=>{this.isInitialized(),this.keychain.set(n,i),await this.persist()},this.get=n=>{this.isInitialized();let i=this.keychain.get(n);if(typeof i>"u"){let{message:s}=ee.getInternalError("NO_MATCHING_KEY",`${this.name}: ${n}`);throw new Error(s)}return i},this.del=async n=>{this.isInitialized(),this.keychain.delete(n),await this.persist()},this.core=e,this.logger=tt.generateChildLogger(r,this.name)}get context(){return tt.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,ee.mapToObj(e))}async getKeyChain(){let e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?ee.objToMap(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){let{message:e}=ee.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}},pg=class{constructor(e,r,n){this.core=e,this.logger=r,this.name=Y6,this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=i=>(this.isInitialized(),this.keychain.has(i)),this.getClientId=async()=>{this.isInitialized();let i=await this.getClientSeed(),s=hg.generateKeyPair(i);return hg.encodeIss(s.publicKey)},this.generateKeyPair=()=>{this.isInitialized();let i=ee.generateKeyPair();return this.setPrivateKey(i.publicKey,i.privateKey)},this.signJWT=async i=>{this.isInitialized();let s=await this.getClientSeed(),o=hg.generateKeyPair(s),a=ee.generateRandomBytes32(),u=J6;return await hg.signJWT(a,i,u,o)},this.generateSharedKey=(i,s,o)=>{this.isInitialized();let a=this.getPrivateKey(i),u=ee.deriveSymKey(a,s);return this.setSymKey(u,o)},this.setSymKey=async(i,s)=>{this.isInitialized();let o=s||ee.hashKey(i);return await this.keychain.set(o,i),o},this.deleteKeyPair=async i=>{this.isInitialized(),await this.keychain.del(i)},this.deleteSymKey=async i=>{this.isInitialized(),await this.keychain.del(i)},this.encode=async(i,s,o)=>{this.isInitialized();let a=ee.validateEncoding(o),u=E6.safeJsonStringify(s);if(ee.isTypeOneEnvelope(a)){let y=a.senderPublicKey,m=a.receiverPublicKey;i=await this.generateSharedKey(y,m)}let l=this.getSymKey(i),{type:f,senderPublicKey:d}=a;return ee.encrypt({type:f,symKey:l,message:u,senderPublicKey:d})},this.decode=async(i,s,o)=>{this.isInitialized();let a=ee.validateDecoding(s,o);if(ee.isTypeOneEnvelope(a)){let f=a.receiverPublicKey,d=a.senderPublicKey;i=await this.generateSharedKey(f,d)}let u=this.getSymKey(i),l=ee.decrypt({symKey:u,encoded:s});return E6.safeJsonParse(l)},this.getPayloadType=i=>{let s=ee.deserialize(i);return ee.decodeTypeByte(s.type)},this.getPayloadSenderPublicKey=i=>{let s=ee.deserialize(i);return s.senderPublicKey?XK.toString(s.senderPublicKey,ee.BASE16):void 0},this.core=e,this.logger=tt.generateChildLogger(r,this.name),this.keychain=n||new dg(this.core,this.logger)}get context(){return tt.getLoggerContext(this.logger)}async setPrivateKey(e,r){return await this.keychain.set(e,r),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(DA)}catch{e=ee.generateRandomBytes32(),await this.keychain.set(DA,e)}return IY(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){let{message:e}=ee.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}},gg=class extends Xi.IMessageTracker{constructor(e,r){super(e,r),this.logger=e,this.core=r,this.messages=new Map,this.name=e8,this.version=t8,this.initialized=!1,this.storagePrefix=si,this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{let n=await this.getRelayerMessages();typeof n<"u"&&(this.messages=n),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(n){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(n)}finally{this.initialized=!0}}},this.set=async(n,i)=>{this.isInitialized();let s=ee.hashMessage(i),o=this.messages.get(n);return typeof o>"u"&&(o={}),typeof o[s]<"u"||(o[s]=i,this.messages.set(n,o),await this.persist()),s},this.get=n=>{this.isInitialized();let i=this.messages.get(n);return typeof i>"u"&&(i={}),i},this.has=(n,i)=>{this.isInitialized();let s=this.get(n),o=ee.hashMessage(i);return typeof s[o]<"u"},this.del=async n=>{this.isInitialized(),this.messages.delete(n),await this.persist()},this.logger=tt.generateChildLogger(e,this.name),this.core=r}get context(){return tt.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,ee.mapToObj(e))}async getRelayerMessages(){let e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?ee.objToMap(e):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){let{message:e}=ee.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}},PA=class extends Xi.IPublisher{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,this.events=new _o.EventEmitter,this.name=n8,this.queue=new Map,this.publishTimeout=1e4,this.publish=async(n,i,s)=>{this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:n,message:i,opts:s}});try{let o=s?.ttl||r8,a=ee.getRelayProtocolName(s),u=s?.prompt||!1,l=s?.tag||0,f={topic:n,message:i,opts:{ttl:o,relay:a,prompt:u,tag:l}},d=ee.hashMessage(i);this.queue.set(d,f);try{await await ee.createExpiringPromise(this.rpcPublish(n,i,o,a,u,l),this.publishTimeout),this.relayer.events.emit(Ut.publish,f)}catch{this.logger.debug("Publishing Payload stalled"),this.relayer.events.emit(Ut.connection_stalled);return}this.onPublish(d,f),this.logger.debug("Successfully Published Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:n,message:i,opts:s}})}catch(o){throw this.logger.debug("Failed to Publish Payload"),this.logger.error(o),o}},this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.relayer=e,this.logger=tt.generateChildLogger(r,this.name),this.registerEventListeners()}get context(){return tt.getLoggerContext(this.logger)}rpcPublish(e,r,n,i,s,o){var a,u,l,f;let d={method:ee.getRelayProtocolApi(i.protocol).publish,params:{topic:e,message:r,ttl:n,prompt:s,tag:o}};return ee.isUndefined((a=d.params)==null?void 0:a.prompt)&&((u=d.params)==null||delete u.prompt),ee.isUndefined((l=d.params)==null?void 0:l.tag)&&((f=d.params)==null||delete f.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:d}),this.relayer.request(d)}onPublish(e,r){this.queue.delete(e)}checkQueue(){this.queue.forEach(async e=>{let{topic:r,message:n,opts:i}=e;await this.publish(r,n,i)})}registerEventListeners(){this.relayer.core.heartbeat.on(bg.HEARTBEAT_EVENTS.pulse,()=>{this.checkQueue()})}},RA=class{constructor(){this.map=new Map,this.set=(e,r)=>{let n=this.get(e);this.exists(e,r)||this.map.set(e,[...n,r])},this.get=e=>this.map.get(e)||[],this.exists=(e,r)=>this.get(e).includes(r),this.delete=(e,r)=>{if(typeof r>"u"){this.map.delete(e);return}if(!this.map.has(e))return;let n=this.get(e);if(!this.exists(e,r))return;let i=n.filter(s=>s!==r);if(!i.length){this.map.delete(e);return}this.map.set(e,i)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}},NY=Object.defineProperty,OY=Object.defineProperties,DY=Object.getOwnPropertyDescriptors,C6=Object.getOwnPropertySymbols,PY=Object.prototype.hasOwnProperty,RY=Object.prototype.propertyIsEnumerable,T6=(t,e,r)=>e in t?NY(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,kl=(t,e)=>{for(var r in e||(e={}))PY.call(e,r)&&T6(t,r,e[r]);if(C6)for(var r of C6(e))RY.call(e,r)&&T6(t,r,e[r]);return t},bA=(t,e)=>OY(t,DY(e)),yg=class extends Xi.ISubscriber{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,this.subscriptions=new Map,this.topicMap=new RA,this.events=new _o.EventEmitter,this.name=f8,this.version=h8,this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=si,this.subscribeTimeout=1e4,this.restartInProgress=!1,this.batchSubscribeTopicsLimit=500,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restart(),this.registerEventListeners(),this.onEnable(),this.clientId=await this.relayer.core.crypto.getClientId())},this.subscribe=async(n,i)=>{await this.restartToComplete(),this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}});try{let s=ee.getRelayProtocolName(i),o={topic:n,relay:s};this.pending.set(n,o);let a=await this.rpcSubscribe(n,s);return this.onSubscribe(a,o),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}}),a}catch(s){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(s),s}},this.unsubscribe=async(n,i)=>{await this.restartToComplete(),this.isInitialized(),typeof i?.id<"u"?await this.unsubscribeById(n,i.id,i):await this.unsubscribeByTopic(n,i)},this.isSubscribed=async n=>this.topics.includes(n)?!0:await new Promise((i,s)=>{let o=new It.Watch;o.start(this.pendingSubscriptionWatchLabel);let a=setInterval(()=>{!this.pending.has(n)&&this.topics.includes(n)&&(clearInterval(a),o.stop(this.pendingSubscriptionWatchLabel),i(!0)),o.elapsed(this.pendingSubscriptionWatchLabel)>=d8&&(clearInterval(a),o.stop(this.pendingSubscriptionWatchLabel),s(!1))},this.pollingInterval)}),this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.restart=async()=>{this.restartInProgress=!0,await this.restore(),await this.reset(),this.restartInProgress=!1},this.relayer=e,this.logger=tt.generateChildLogger(r,this.name),this.clientId=""}get context(){return tt.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(e,r){let n=!1;try{n=this.getSubscription(e).topic===r}catch{}return n}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,r){let n=this.topicMap.get(e);await Promise.all(n.map(async i=>await this.unsubscribeById(e,i,r)))}async unsubscribeById(e,r,n){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}});try{let i=ee.getRelayProtocolName(n);await this.rpcUnsubscribe(e,r,i);let s=ee.getSdkError("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,r,s),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}})}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(e,r){let n={method:ee.getRelayProtocolApi(r.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{await await ee.createExpiringPromise(this.relayer.request(n),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(Ut.connection_stalled)}return ee.hashMessage(e+this.clientId)}async rpcBatchSubscribe(e){if(!e.length)return;let r=e[0].relay,n={method:ee.getRelayProtocolApi(r.protocol).batchSubscribe,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{return await await ee.createExpiringPromise(this.relayer.request(n),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Payload stalled"),this.relayer.events.emit(Ut.connection_stalled)}}rpcUnsubscribe(e,r,n){let i={method:ee.getRelayProtocolApi(n.protocol).unsubscribe,params:{topic:e,id:r}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(e,r){this.setSubscription(e,bA(kl({},r),{id:e})),this.pending.delete(r.topic)}onBatchSubscribe(e){e.length&&e.forEach(r=>{this.setSubscription(r.id,kl({},r)),this.pending.delete(r.topic)})}async onUnsubscribe(e,r,n){this.events.removeAllListeners(r),this.hasSubscription(r,e)&&this.deleteSubscription(r,n),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,r){this.subscriptions.has(e)||(this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:r}),this.addSubscription(e,r))}addSubscription(e,r){this.subscriptions.set(e,kl({},r)),this.topicMap.set(r.topic,e),this.events.emit(Qr.created,r)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});let r=this.subscriptions.get(e);if(!r){let{message:n}=ee.getInternalError("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}deleteSubscription(e,r){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:r});let n=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(n.topic,e),this.events.emit(Qr.deleted,bA(kl({},n),{reason:r}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(Qr.sync)}async reset(){if(!this.cached.length)return;let e=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<e;r++){let n=this.cached.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(n)}this.events.emit(Qr.resubscribed)}async restore(){try{let e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){let{message:r}=ee.getInternalError("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){if(!e.length)return;let r=await this.rpcBatchSubscribe(e);ee.isValidArray(r)&&this.onBatchSubscribe(r.map((n,i)=>bA(kl({},e[i]),{id:n})))}async onConnect(){this.restartInProgress||(await this.restart(),this.onEnable())}onDisconnect(){this.onDisable()}async checkPending(){if(this.relayer.transportExplicitlyClosed)return;let e=[];this.pending.forEach(r=>{e.push(r)}),await this.batchSubscribe(e)}registerEventListeners(){this.relayer.core.heartbeat.on(bg.HEARTBEAT_EVENTS.pulse,async()=>{await this.checkPending()}),this.relayer.on(Ut.connect,async()=>{await this.onConnect()}),this.relayer.on(Ut.disconnect,()=>{this.onDisconnect()}),this.events.on(Qr.created,async e=>{let r=Qr.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),await this.persist()}),this.events.on(Qr.deleted,async e=>{let r=Qr.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),await this.persist()})}isInitialized(){if(!this.initialized){let{message:e}=ee.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(){this.restartInProgress&&await new Promise(e=>{let r=setInterval(()=>{this.restartInProgress||(clearInterval(r),e())},this.pollingInterval)})}},BY=Object.defineProperty,x6=Object.getOwnPropertySymbols,LY=Object.prototype.hasOwnProperty,FY=Object.prototype.propertyIsEnumerable,N6=(t,e,r)=>e in t?BY(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,MY=(t,e)=>{for(var r in e||(e={}))LY.call(e,r)&&N6(t,r,e[r]);if(x6)for(var r of x6(e))FY.call(e,r)&&N6(t,r,e[r]);return t},mg=class extends Xi.IRelayer{constructor(e){super(e),this.protocol="wc",this.version=2,this.events=new _o.EventEmitter,this.name=o8,this.transportExplicitlyClosed=!1,this.initialized=!1,this.reconnecting=!1,this.connectionStatusPollingInterval=20,this.staleConnectionErrors=["socket hang up","socket stalled"],this.request=async r=>{this.logger.debug("Publishing Request Payload");try{return await this.toEstablishConnection(),await this.provider.request(r)}catch(n){throw this.logger.debug("Failed to Publish Request"),this.logger.error(n),n}},this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?tt.generateChildLogger(e.logger,this.name):F6.default(tt.getDefaultLoggerOptions({level:e.logger||s8})),this.messages=new gg(this.logger,e.core),this.subscriber=new yg(this,this.logger),this.publisher=new PA(this,this.logger),this.relayUrl=e?.relayUrl||LA,this.projectId=e.projectId,this.provider={}}async init(){this.logger.trace("Initialized"),await this.createProvider(),await Promise.all([this.messages.init(),this.transportOpen(),this.subscriber.init()]),this.registerEventListeners(),this.initialized=!0}get context(){return tt.getLoggerContext(this.logger)}get connected(){return this.provider.connection.connected}get connecting(){return this.provider.connection.connecting}async publish(e,r,n){this.isInitialized(),await this.publisher.publish(e,r,n),await this.recordMessageEvent({topic:e,message:r,publishedAt:Date.now()})}async subscribe(e,r){this.isInitialized();let n="";return await Promise.all([new Promise(i=>{this.subscriber.once(Qr.created,s=>{s.topic===e&&i()})}),new Promise(async i=>{n=await this.subscriber.subscribe(e,r),i()})]),n}async unsubscribe(e,r){this.isInitialized(),await this.subscriber.unsubscribe(e,r)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async transportClose(){this.transportExplicitlyClosed=!0,this.connected&&(await this.provider.disconnect(),this.events.emit(Ut.transport_closed))}async transportOpen(e){if(!this.reconnecting){this.relayUrl=e||this.relayUrl,this.transportExplicitlyClosed=!1,this.reconnecting=!0;try{await Promise.all([new Promise(r=>{this.initialized||r(),this.subscriber.once(Qr.resubscribed,()=>{r()})}),await Promise.race([new Promise(async(r,n)=>{await ee.createExpiringPromise(this.provider.connect(),5e3,"socket stalled").catch(i=>n(i)).then(()=>r()).finally(()=>this.removeListener(Ut.transport_closed,this.rejectTransportOpen))}),new Promise(r=>this.once(Ut.transport_closed,this.rejectTransportOpen))])])}catch(r){this.logger.error(r);let n=r;if(!this.isConnectionStalled(n.message))throw r;this.events.emit(Ut.transport_closed)}finally{this.reconnecting=!1}}}async restartTransport(e){this.transportExplicitlyClosed||(this.relayUrl=e||this.relayUrl,await this.transportClose(),await new Promise(r=>setTimeout(r,500)),await this.createProvider(),await this.transportOpen())}isConnectionStalled(e){return this.staleConnectionErrors.some(r=>e.includes(r))}rejectTransportOpen(){throw new Error("closeTransport called before connection was established")}async createProvider(){let e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new ZK.JsonRpcProvider(new s$.default(ee.formatRelayRpcUrl({sdkVersion:c8,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0}))),this.registerProviderListeners()}async recordMessageEvent(e){let{topic:r,message:n}=e;await this.messages.set(r,n)}async shouldIgnoreMessageEvent(e){let{topic:r,message:n}=e;return await this.subscriber.isSubscribed(r)?this.messages.has(r,n):!0}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),kr.isJsonRpcRequest(e)){if(!e.method.endsWith(a8))return;let r=e.params,{topic:n,message:i,publishedAt:s}=r.data,o={topic:n,message:i,publishedAt:s};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(MY({type:"event",event:r.id},o)),this.events.emit(r.id,o),await this.acknowledgePayload(e),await this.onMessageEvent(o)}}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(this.events.emit(Ut.message,e),await this.recordMessageEvent(e))}async acknowledgePayload(e){let r=kr.formatJsonRpcResult(e.id,!0);await this.provider.connection.send(r)}registerProviderListeners(){this.provider.on(zl.payload,e=>this.onProviderPayload(e)),this.provider.on(zl.connect,()=>{this.events.emit(Ut.connect)}),this.provider.on(zl.disconnect,()=>{this.onProviderDisconnect()}),this.provider.on(zl.error,e=>{this.logger.error(e),this.events.emit(Ut.error,e)})}registerEventListeners(){this.events.on(Ut.connection_stalled,async()=>{await this.restartTransport()})}onProviderDisconnect(){this.events.emit(Ut.disconnect),this.attemptToReconnect()}attemptToReconnect(){this.transportExplicitlyClosed||setTimeout(async()=>{await this.restartTransport()},It.toMiliseconds(u8))}isInitialized(){if(!this.initialized){let{message:e}=ee.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(!this.connected){if(this.connecting)return await new Promise(e=>{let r=setInterval(()=>{this.connected&&(clearInterval(r),e())},this.connectionStatusPollingInterval)});await this.restartTransport()}}},UY=Object.defineProperty,O6=Object.getOwnPropertySymbols,qY=Object.prototype.hasOwnProperty,VY=Object.prototype.propertyIsEnumerable,D6=(t,e,r)=>e in t?UY(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,P6=(t,e)=>{for(var r in e||(e={}))qY.call(e,r)&&D6(t,r,e[r]);if(O6)for(var r of O6(e))VY.call(e,r)&&D6(t,r,e[r]);return t},wg=class extends Xi.IStore{constructor(e,r,n,i=si,s=void 0){super(e,r,n,i),this.core=e,this.logger=r,this.name=n,this.map=new Map,this.version=l8,this.cached=[],this.initialized=!1,this.storagePrefix=si,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!ee.isUndefined(o)?this.map.set(this.getKey(o),o):ee.isProposalStruct(o)?this.map.set(o.id,o):ee.isSessionStruct(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)},this.set=async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())},this.get=o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o)),this.getAll=o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(u=>o$.default(a[u],o[u]))):this.values),this.update=async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});let u=P6(P6({},this.getData(o)),a);this.map.set(o,u),await this.persist()},this.delete=async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),await this.persist())},this.logger=tt.generateChildLogger(r,this.name),this.storagePrefix=i,this.getKey=s}get context(){return tt.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){let r=this.map.get(e);if(!r){let{message:n}=ee.getInternalError("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(n),new Error(n)}return r}async persist(){await this.setDataStore(this.values)}async restore(){try{let e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){let{message:r}=ee.getInternalError("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){let{message:e}=ee.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}},Eg=class{constructor(e,r){this.core=e,this.logger=r,this.name=p8,this.version=g8,this.events=new n$.default,this.initialized=!1,this.storagePrefix=si,this.ignoredPayloadTypes=[ee.TYPE_1],this.registeredMethods=[],this.init=async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))},this.register=({methods:n})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...n])]},this.create=async()=>{this.isInitialized();let n=ee.generateRandomBytes32(),i=await this.core.crypto.setSymKey(n),s=ee.calcExpiry(It.FIVE_MINUTES),o={protocol:i8},a={topic:i,expiry:s,relay:o,active:!1},u=ee.formatUri({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:n,relay:o});return await this.pairings.set(i,a),await this.core.relayer.subscribe(i),this.core.expirer.set(i,s),{topic:i,uri:u}},this.pair=async n=>{this.isInitialized(),this.isValidPair(n);let{topic:i,symKey:s,relay:o}=ee.parseUri(n.uri);if(this.pairings.keys.includes(i))throw new Error(`Pairing already exists: ${i}`);if(this.core.crypto.hasKeys(i))throw new Error(`Keychain already exists: ${i}`);let a=ee.calcExpiry(It.FIVE_MINUTES),u={topic:i,relay:o,expiry:a,active:!1};return await this.pairings.set(i,u),await this.core.crypto.setSymKey(s,i),await this.core.relayer.subscribe(i,{relay:o}),this.core.expirer.set(i,a),n.activatePairing&&await this.activate({topic:i}),u},this.activate=async({topic:n})=>{this.isInitialized();let i=ee.calcExpiry(It.THIRTY_DAYS);await this.pairings.update(n,{active:!0,expiry:i}),this.core.expirer.set(n,i)},this.ping=async n=>{this.isInitialized(),await this.isValidPing(n);let{topic:i}=n;if(this.pairings.keys.includes(i)){let s=await this.sendRequest(i,"wc_pairingPing",{}),{done:o,resolve:a,reject:u}=ee.createDelayedPromise();this.events.once(ee.engineEvent("pairing_ping",s),({error:l})=>{l?u(l):a()}),await o()}},this.updateExpiry=async({topic:n,expiry:i})=>{this.isInitialized(),await this.pairings.update(n,{expiry:i})},this.updateMetadata=async({topic:n,metadata:i})=>{this.isInitialized(),await this.pairings.update(n,{peerMetadata:i})},this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=async n=>{this.isInitialized(),await this.isValidDisconnect(n);let{topic:i}=n;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",ee.getSdkError("USER_DISCONNECTED")),await this.deletePairing(i))},this.sendRequest=async(n,i,s)=>{let o=kr.formatJsonRpcRequest(i,s),a=await this.core.crypto.encode(n,o),u=Gu[i].req;return this.core.history.set(n,o),await this.core.relayer.publish(n,a,u),o.id},this.sendResult=async(n,i,s)=>{let o=kr.formatJsonRpcResult(n,s),a=await this.core.crypto.encode(i,o),u=await this.core.history.get(i,n),l=Gu[u.request.method].res;await this.core.relayer.publish(i,a,l),await this.core.history.resolve(o)},this.sendError=async(n,i,s)=>{let o=kr.formatJsonRpcError(n,s),a=await this.core.crypto.encode(i,o),u=await this.core.history.get(i,n),l=Gu[u.request.method]?Gu[u.request.method].res:Gu.unregistered_method.res;await this.core.relayer.publish(i,a,l),await this.core.history.resolve(o)},this.deletePairing=async(n,i)=>{await this.core.relayer.unsubscribe(n),await Promise.all([this.pairings.delete(n,ee.getSdkError("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(n),i?Promise.resolve():this.core.expirer.del(n)])},this.cleanup=async()=>{let n=this.pairings.getAll().filter(i=>ee.isExpired(i.expiry));await Promise.all(n.map(i=>this.deletePairing(i.topic)))},this.onRelayEventRequest=n=>{let{topic:i,payload:s}=n,o=s.method;if(this.pairings.keys.includes(i))switch(o){case"wc_pairingPing":return this.onPairingPingRequest(i,s);case"wc_pairingDelete":return this.onPairingDeleteRequest(i,s);default:return this.onUnknownRpcMethodRequest(i,s)}},this.onRelayEventResponse=async n=>{let{topic:i,payload:s}=n,o=(await this.core.history.get(i,s.id)).request.method;if(this.pairings.keys.includes(i))switch(o){case"wc_pairingPing":return this.onPairingPingResponse(i,s);default:return this.onUnknownRpcMethodResponse(o)}},this.onPairingPingRequest=async(n,i)=>{let{id:s}=i;try{this.isValidPing({topic:n}),await this.sendResult(s,n,!0),this.events.emit("pairing_ping",{id:s,topic:n})}catch(o){await this.sendError(s,n,o),this.logger.error(o)}},this.onPairingPingResponse=(n,i)=>{let{id:s}=i;setTimeout(()=>{kr.isJsonRpcResult(i)?this.events.emit(ee.engineEvent("pairing_ping",s),{}):kr.isJsonRpcError(i)&&this.events.emit(ee.engineEvent("pairing_ping",s),{error:i.error})},500)},this.onPairingDeleteRequest=async(n,i)=>{let{id:s}=i;try{this.isValidDisconnect({topic:n}),await this.deletePairing(n),this.events.emit("pairing_delete",{id:s,topic:n})}catch(o){await this.sendError(s,n,o),this.logger.error(o)}},this.onUnknownRpcMethodRequest=async(n,i)=>{let{id:s,method:o}=i;try{if(this.registeredMethods.includes(o))return;let a=ee.getSdkError("WC_METHOD_UNSUPPORTED",o);await this.sendError(s,n,a),this.logger.error(a)}catch(a){await this.sendError(s,n,a),this.logger.error(a)}},this.onUnknownRpcMethodResponse=n=>{this.registeredMethods.includes(n)||this.logger.error(ee.getSdkError("WC_METHOD_UNSUPPORTED",n))},this.isValidPair=n=>{if(!ee.isValidParams(n)){let{message:i}=ee.getInternalError("MISSING_OR_INVALID",`pair() params: ${n}`);throw new Error(i)}if(!ee.isValidUrl(n.uri)){let{message:i}=ee.getInternalError("MISSING_OR_INVALID",`pair() uri: ${n.uri}`);throw new Error(i)}},this.isValidPing=async n=>{if(!ee.isValidParams(n)){let{message:s}=ee.getInternalError("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(s)}let{topic:i}=n;await this.isValidPairingTopic(i)},this.isValidDisconnect=async n=>{if(!ee.isValidParams(n)){let{message:s}=ee.getInternalError("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(s)}let{topic:i}=n;await this.isValidPairingTopic(i)},this.isValidPairingTopic=async n=>{if(!ee.isValidString(n,!1)){let{message:i}=ee.getInternalError("MISSING_OR_INVALID",`pairing topic should be a string: ${n}`);throw new Error(i)}if(!this.pairings.keys.includes(n)){let{message:i}=ee.getInternalError("NO_MATCHING_KEY",`pairing topic doesn't exist: ${n}`);throw new Error(i)}if(ee.isExpired(this.pairings.get(n).expiry)){await this.deletePairing(n);let{message:i}=ee.getInternalError("EXPIRED",`pairing topic: ${n}`);throw new Error(i)}},this.core=e,this.logger=tt.generateChildLogger(r,this.name),this.pairings=new wg(this.core,this.logger,this.name,this.storagePrefix)}get context(){return tt.getLoggerContext(this.logger)}isInitialized(){if(!this.initialized){let{message:e}=ee.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(Ut.message,async e=>{let{topic:r,message:n}=e;if(this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(n)))return;let i=await this.core.crypto.decode(r,n);kr.isJsonRpcRequest(i)?(this.core.history.set(r,i),this.onRelayEventRequest({topic:r,payload:i})):kr.isJsonRpcResponse(i)&&(await this.core.history.resolve(i),this.onRelayEventResponse({topic:r,payload:i}))})}registerExpirerEvents(){this.core.expirer.on(Dr.expired,async e=>{let{topic:r}=ee.parseExpirerTarget(e.target);r&&this.pairings.keys.includes(r)&&(await this.deletePairing(r,!0),this.events.emit("pairing_expire",{topic:r}))})}},vg=class extends Xi.IJsonRpcHistory{constructor(e,r){super(e,r),this.core=e,this.logger=r,this.records=new Map,this.events=new _o.EventEmitter,this.name=y8,this.version=m8,this.cached=[],this.initialized=!1,this.storagePrefix=si,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.records.set(n.id,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(n,i,s)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:n,request:i,chainId:s}),this.records.has(i.id))return;let o={id:i.id,topic:n,request:{method:i.method,params:i.params||null},chainId:s};this.records.set(o.id,o),this.events.emit(Gr.created,o)},this.resolve=async n=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:n}),!this.records.has(n.id))return;let i=await this.getRecord(n.id);typeof i.response>"u"&&(i.response=kr.isJsonRpcError(n)?{error:n.error}:{result:n.result},this.records.set(i.id,i),this.events.emit(Gr.updated,i))},this.get=async(n,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:n,id:i}),await this.getRecord(i)),this.delete=(n,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(s=>{if(s.topic===n){if(typeof i<"u"&&s.id!==i)return;this.records.delete(s.id),this.events.emit(Gr.deleted,s)}})},this.exists=async(n,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===n:!1),this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.logger=tt.generateChildLogger(r,this.name)}get context(){return tt.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){let e=[];return this.values.forEach(r=>{if(typeof r.response<"u")return;let n={topic:r.topic,request:kr.formatJsonRpcRequest(r.request.method,r.request.params,r.id),chainId:r.chainId};return e.push(n)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();let r=this.records.get(e);if(!r){let{message:n}=ee.getInternalError("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(Gr.sync)}async restore(){try{let e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){let{message:r}=ee.getInternalError("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(Gr.created,e=>{let r=Gr.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e}),this.persist()}),this.events.on(Gr.updated,e=>{let r=Gr.updated;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e}),this.persist()}),this.events.on(Gr.deleted,e=>{let r=Gr.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e}),this.persist()})}isInitialized(){if(!this.initialized){let{message:e}=ee.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}},Ag=class extends Xi.IExpirer{constructor(e,r){super(e,r),this.core=e,this.logger=r,this.expirations=new Map,this.events=new _o.EventEmitter,this.name=w8,this.version=E8,this.cached=[],this.initialized=!1,this.storagePrefix=si,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.expirations.set(n.target,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=n=>{try{let i=this.formatTarget(n);return typeof this.getExpiration(i)<"u"}catch{return!1}},this.set=(n,i)=>{this.isInitialized();let s=this.formatTarget(n),o={target:s,expiry:i};this.expirations.set(s,o),this.checkExpiry(s,o),this.events.emit(Dr.created,{target:s,expiration:o})},this.get=n=>{this.isInitialized();let i=this.formatTarget(n);return this.getExpiration(i)},this.del=n=>{if(this.isInitialized(),this.has(n)){let i=this.formatTarget(n),s=this.getExpiration(i);this.expirations.delete(i),this.events.emit(Dr.deleted,{target:i,expiration:s})}},this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.logger=tt.generateChildLogger(r,this.name)}get context(){return tt.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return ee.formatTopicTarget(e);if(typeof e=="number")return ee.formatIdTarget(e);let{message:r}=ee.getInternalError("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(r)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Dr.sync)}async restore(){try{let e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){let{message:r}=ee.getInternalError("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){let r=this.expirations.get(e);if(!r){let{message:n}=ee.getInternalError("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(n),new Error(n)}return r}checkExpiry(e,r){let{expiry:n}=r;It.toMiliseconds(n)-Date.now()<=0&&this.expire(e,r)}expire(e,r){this.expirations.delete(e),this.events.emit(Dr.expired,{target:e,expiration:r})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,r)=>this.checkExpiry(r,e))}registerEventListeners(){this.core.heartbeat.on(bg.HEARTBEAT_EVENTS.pulse,()=>this.checkExpirations()),this.events.on(Dr.created,e=>{let r=Dr.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(Dr.expired,e=>{let r=Dr.expired;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(Dr.deleted,e=>{let r=Dr.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()})}isInitialized(){if(!this.initialized){let{message:e}=ee.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}},jY=Object.defineProperty,R6=Object.getOwnPropertySymbols,HY=Object.prototype.hasOwnProperty,GY=Object.prototype.propertyIsEnumerable,B6=(t,e,r)=>e in t?jY(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,L6=(t,e)=>{for(var r in e||(e={}))HY.call(e,r)&&B6(t,r,e[r]);if(R6)for(var r of R6(e))GY.call(e,r)&&B6(t,r,e[r]);return t},Qu=class extends Xi.ICore{constructor(e){super(e),this.protocol=BA,this.version=W6,this.name=Ig,this.events=new _o.EventEmitter,this.initialized=!1,this.on=(n,i)=>this.events.on(n,i),this.once=(n,i)=>this.events.once(n,i),this.off=(n,i)=>this.events.off(n,i),this.removeListener=(n,i)=>this.events.removeListener(n,i),this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||LA;let r=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:F6.default(tt.getDefaultLoggerOptions({level:e?.logger||K6.logger}));this.logger=tt.generateChildLogger(r,this.name),this.heartbeat=new bg.HeartBeat,this.crypto=new pg(this,this.logger,e?.keychain),this.history=new vg(this,this.logger),this.expirer=new Ag(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new i$.default(L6(L6({},$6),e?.storageOptions)),this.relayer=new mg({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new Eg(this,this.logger)}static async init(e){let r=new Qu(e);return await r.initialize(),r}get context(){return tt.getLoggerContext(this.logger)}async start(){this.initialized||await this.initialize()}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}},QY=Qu;ve.CORE_CONTEXT=Ig,ve.CORE_DEFAULT=K6,ve.CORE_PROTOCOL=BA,ve.CORE_STORAGE_OPTIONS=$6,ve.CORE_STORAGE_PREFIX=si,ve.CORE_VERSION=W6,ve.CRYPTO_CLIENT_SEED=DA,ve.CRYPTO_CONTEXT=Y6,ve.CRYPTO_JWT_TTL=J6,ve.Core=QY,ve.Crypto=pg,ve.EXPIRER_CONTEXT=w8,ve.EXPIRER_DEFAULT_TTL=xY,ve.EXPIRER_EVENTS=Dr,ve.EXPIRER_STORAGE_VERSION=E8,ve.Expirer=Ag,ve.HISTORY_CONTEXT=y8,ve.HISTORY_EVENTS=Gr,ve.HISTORY_STORAGE_VERSION=m8,ve.JsonRpcHistory=vg,ve.KEYCHAIN_CONTEXT=X6,ve.KEYCHAIN_STORAGE_VERSION=Z6,ve.KeyChain=dg,ve.MESSAGES_CONTEXT=e8,ve.MESSAGES_STORAGE_VERSION=t8,ve.MessageTracker=gg,ve.PAIRING_CONTEXT=p8,ve.PAIRING_DEFAULT_TTL=TY,ve.PAIRING_RPC_OPTS=Gu,ve.PAIRING_STORAGE_VERSION=g8,ve.PENDING_SUB_RESOLUTION_TIMEOUT=d8,ve.PUBLISHER_CONTEXT=n8,ve.PUBLISHER_DEFAULT_TTL=r8,ve.Pairing=Eg,ve.RELAYER_CONTEXT=o8,ve.RELAYER_DEFAULT_LOGGER=s8,ve.RELAYER_DEFAULT_PROTOCOL=i8,ve.RELAYER_DEFAULT_RELAY_URL=LA,ve.RELAYER_EVENTS=Ut,ve.RELAYER_PROVIDER_EVENTS=zl,ve.RELAYER_RECONNECT_TIMEOUT=u8,ve.RELAYER_SDK_VERSION=c8,ve.RELAYER_STORAGE_OPTIONS=SY,ve.RELAYER_SUBSCRIBER_SUFFIX=a8,ve.Relayer=mg,ve.STORE_STORAGE_VERSION=l8,ve.SUBSCRIBER_CONTEXT=f8,ve.SUBSCRIBER_DEFAULT_TTL=CY,ve.SUBSCRIBER_EVENTS=Qr,ve.SUBSCRIBER_STORAGE_VERSION=h8,ve.Store=wg,ve.Subscriber=yg,ve.default=Qu});var D8=w(it=>{"use strict";c();Object.defineProperty(it,"__esModule",{value:!0});var kY=Od(),Zi=v8(),FA=n1(),_8=v1(),k=Vp(),I8=Wn(),st=co(),St=(ql(),nt(Kt));function S8(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}var zY=S8(kY),WY=S8(I8),HA="wc",GA=2,QA="client",Tg=`${HA}@${GA}:${QA}:`,Sg={name:QA,logger:"error",controller:!1,relayUrl:"wss://relay.walletconnect.com"},KY={session_proposal:"session_proposal",session_update:"session_update",session_extend:"session_extend",session_ping:"session_ping",session_delete:"session_delete",session_expire:"session_expire",session_request:"session_request",session_request_sent:"session_request_sent",session_event:"session_event",proposal_expire:"proposal_expire"},$Y={database:":memory:"},YY={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},JY="history",XY="0.3",C8="proposal",ZY=st.THIRTY_DAYS,T8="Proposal expired",x8="session",$l=st.SEVEN_DAYS,N8="engine",ku={wc_sessionPropose:{req:{ttl:st.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:st.FIVE_MINUTES,prompt:!1,tag:1101}},wc_sessionSettle:{req:{ttl:st.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:st.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:st.ONE_DAY,prompt:!1,tag:1104},res:{ttl:st.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:st.ONE_DAY,prompt:!1,tag:1106},res:{ttl:st.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:st.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:st.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:st.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:st.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:st.ONE_DAY,prompt:!1,tag:1112},res:{ttl:st.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:st.THIRTY_SECONDS,prompt:!1,tag:1114},res:{ttl:st.THIRTY_SECONDS,prompt:!1,tag:1115}}},Cg={min:st.FIVE_MINUTES,max:st.SEVEN_DAYS},O8="request",eJ=Object.defineProperty,tJ=Object.defineProperties,rJ=Object.getOwnPropertyDescriptors,A8=Object.getOwnPropertySymbols,nJ=Object.prototype.hasOwnProperty,iJ=Object.prototype.propertyIsEnumerable,b8=(t,e,r)=>e in t?eJ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Pr=(t,e)=>{for(var r in e||(e={}))nJ.call(e,r)&&b8(t,r,e[r]);if(A8)for(var r of A8(e))iJ.call(e,r)&&b8(t,r,e[r]);return t},MA=(t,e)=>tJ(t,rJ(e)),UA=class extends _8.IEngine{constructor(e){super(e),this.name=N8,this.events=new WY.default,this.initialized=!1,this.ignoredPayloadTypes=[k.TYPE_1],this.init=async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.client.core.pairing.register({methods:Object.keys(ku)}),this.initialized=!0)},this.connect=async r=>{this.isInitialized();let n=MA(Pr({},r),{requiredNamespaces:r.requiredNamespaces||{},optionalNamespaces:r.optionalNamespaces||{}});await this.isValidConnect(n);let{pairingTopic:i,requiredNamespaces:s,optionalNamespaces:o,sessionProperties:a,relays:u}=n,l=i,f,d=!1;if(l&&(d=this.client.core.pairing.pairings.get(l).active),!l||!d){let{topic:x,uri:R}=await this.client.core.pairing.create();l=x,f=R}let y=await this.client.core.crypto.generateKeyPair(),m=Pr({requiredNamespaces:s,optionalNamespaces:o,relays:u??[{protocol:Zi.RELAYER_DEFAULT_PROTOCOL}],proposer:{publicKey:y,metadata:this.client.metadata}},a&&{sessionProperties:a}),{reject:v,resolve:T,done:B}=k.createDelayedPromise(st.FIVE_MINUTES,T8);if(this.events.once(k.engineEvent("session_connect"),async({error:x,session:R})=>{if(x)v(x);else if(R){R.self.publicKey=y;let P=MA(Pr({},R),{requiredNamespaces:R.requiredNamespaces,optionalNamespaces:R.optionalNamespaces});await this.client.session.set(R.topic,P),await this.setExpiry(R.topic,R.expiry),l&&await this.client.core.pairing.updateMetadata({topic:l,metadata:R.peer.metadata}),T(P)}}),!l){let{message:x}=k.getInternalError("NO_MATCHING_KEY",`connect() pairing topic: ${l}`);throw new Error(x)}let A=await this.sendRequest(l,"wc_sessionPropose",m),D=k.calcExpiry(st.FIVE_MINUTES);return await this.setProposal(A,Pr({id:A,expiry:D},m)),{uri:f,approval:B}},this.pair=async r=>(this.isInitialized(),await this.client.core.pairing.pair(r)),this.approve=async r=>{this.isInitialized(),await this.isValidApprove(r);let{id:n,relayProtocol:i,namespaces:s,sessionProperties:o}=r,a=this.client.proposal.get(n),{pairingTopic:u,proposer:l,requiredNamespaces:f,optionalNamespaces:d}=a;u=u||"",k.isValidObject(f)||(f=k.getRequiredNamespacesFromNamespaces(s,"approve()"));let y=await this.client.core.crypto.generateKeyPair(),m=l.publicKey,v=await this.client.core.crypto.generateSharedKey(y,m);u&&n&&(await this.client.core.pairing.updateMetadata({topic:u,metadata:l.metadata}),await this.sendResult(n,u,{relay:{protocol:i??"irn"},responderPublicKey:y}),await this.client.proposal.delete(n,k.getSdkError("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:u}));let T=Pr({relay:{protocol:i??"irn"},namespaces:s,requiredNamespaces:f,optionalNamespaces:d,pairingTopic:u,controller:{publicKey:y,metadata:this.client.metadata},expiry:k.calcExpiry($l)},o&&{sessionProperties:o});await this.client.core.relayer.subscribe(v),await this.sendRequest(v,"wc_sessionSettle",T);let B=MA(Pr({},T),{topic:v,pairingTopic:u,acknowledged:!1,self:T.controller,peer:{publicKey:l.publicKey,metadata:l.metadata},controller:y});return await this.client.session.set(v,B),await this.setExpiry(v,k.calcExpiry($l)),{topic:v,acknowledged:()=>new Promise(A=>A(this.client.session.get(v)))}},this.reject=async r=>{this.isInitialized(),await this.isValidReject(r);let{id:n,reason:i}=r,{pairingTopic:s}=this.client.proposal.get(n);s&&(await this.sendError(n,s,i),await this.client.proposal.delete(n,k.getSdkError("USER_DISCONNECTED")))},this.update=async r=>{this.isInitialized(),await this.isValidUpdate(r);let{topic:n,namespaces:i}=r,s=await this.sendRequest(n,"wc_sessionUpdate",{namespaces:i}),{done:o,resolve:a,reject:u}=k.createDelayedPromise();return this.events.once(k.engineEvent("session_update",s),({error:l})=>{l?u(l):a()}),await this.client.session.update(n,{namespaces:i}),{acknowledged:o}},this.extend=async r=>{this.isInitialized(),await this.isValidExtend(r);let{topic:n}=r,i=await this.sendRequest(n,"wc_sessionExtend",{}),{done:s,resolve:o,reject:a}=k.createDelayedPromise();return this.events.once(k.engineEvent("session_extend",i),({error:u})=>{u?a(u):o()}),await this.setExpiry(n,k.calcExpiry($l)),{acknowledged:s}},this.request=async r=>{this.isInitialized(),await this.isValidRequest(r);let{chainId:n,request:i,topic:s,expiry:o}=r,a=await this.sendRequest(s,"wc_sessionRequest",{request:i,chainId:n},o),{done:u,resolve:l,reject:f}=k.createDelayedPromise(o);return this.events.once(k.engineEvent("session_request",a),({error:d,result:y})=>{d?f(d):l(y)}),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:n,id:a}),await u()},this.respond=async r=>{this.isInitialized(),await this.isValidRespond(r);let{topic:n,response:i}=r,{id:s}=i;St.isJsonRpcResult(i)?await this.sendResult(s,n,i.result):St.isJsonRpcError(i)&&await this.sendError(s,n,i.error),this.deletePendingSessionRequest(r.response.id,{message:"fulfilled",code:0})},this.ping=async r=>{this.isInitialized(),await this.isValidPing(r);let{topic:n}=r;if(this.client.session.keys.includes(n)){let i=await this.sendRequest(n,"wc_sessionPing",{}),{done:s,resolve:o,reject:a}=k.createDelayedPromise();this.events.once(k.engineEvent("session_ping",i),({error:u})=>{u?a(u):o()}),await s()}else this.client.core.pairing.pairings.keys.includes(n)&&await this.client.core.pairing.ping({topic:n})},this.emit=async r=>{this.isInitialized(),await this.isValidEmit(r);let{topic:n,event:i,chainId:s}=r;await this.sendRequest(n,"wc_sessionEvent",{event:i,chainId:s})},this.disconnect=async r=>{this.isInitialized(),await this.isValidDisconnect(r);let{topic:n}=r;this.client.session.keys.includes(n)?(await this.sendRequest(n,"wc_sessionDelete",k.getSdkError("USER_DISCONNECTED")),await this.deleteSession(n)):await this.client.core.pairing.disconnect({topic:n})},this.find=r=>(this.isInitialized(),this.client.session.getAll().filter(n=>k.isSessionCompatible(n,r))),this.getPendingSessionRequests=()=>(this.isInitialized(),this.client.pendingRequest.getAll()),this.deleteSession=async(r,n)=>{let{self:i}=this.client.session.get(r);await this.client.core.relayer.unsubscribe(r),await Promise.all([this.client.session.delete(r,k.getSdkError("USER_DISCONNECTED")),this.client.core.crypto.deleteKeyPair(i.publicKey),this.client.core.crypto.deleteSymKey(r),n?Promise.resolve():this.client.core.expirer.del(r)])},this.deleteProposal=async(r,n)=>{await Promise.all([this.client.proposal.delete(r,k.getSdkError("USER_DISCONNECTED")),n?Promise.resolve():this.client.core.expirer.del(r)])},this.deletePendingSessionRequest=async(r,n,i=!1)=>{await Promise.all([this.client.pendingRequest.delete(r,n),i?Promise.resolve():this.client.core.expirer.del(r)])},this.setExpiry=async(r,n)=>{this.client.session.keys.includes(r)&&await this.client.session.update(r,{expiry:n}),this.client.core.expirer.set(r,n)},this.setProposal=async(r,n)=>{await this.client.proposal.set(r,n),this.client.core.expirer.set(r,n.expiry)},this.setPendingSessionRequest=async r=>{let n=ku.wc_sessionRequest.req.ttl,{id:i,topic:s,params:o}=r;await this.client.pendingRequest.set(i,{id:i,topic:s,params:o}),n&&this.client.core.expirer.set(i,k.calcExpiry(n))},this.sendRequest=async(r,n,i,s)=>{let o=St.formatJsonRpcRequest(n,i),a=await this.client.core.crypto.encode(r,o),u=ku[n].req;return s&&(u.ttl=s),this.client.core.history.set(r,o),this.client.core.relayer.publish(r,a,u),o.id},this.sendResult=async(r,n,i)=>{let s=St.formatJsonRpcResult(r,i),o=await this.client.core.crypto.encode(n,s),a=await this.client.core.history.get(n,r),u=ku[a.request.method].res;this.client.core.relayer.publish(n,o,u),await this.client.core.history.resolve(s)},this.sendError=async(r,n,i)=>{let s=St.formatJsonRpcError(r,i),o=await this.client.core.crypto.encode(n,s),a=await this.client.core.history.get(n,r),u=ku[a.request.method].res;this.client.core.relayer.publish(n,o,u),await this.client.core.history.resolve(s)},this.cleanup=async()=>{let r=[],n=[];this.client.session.getAll().forEach(i=>{k.isExpired(i.expiry)&&r.push(i.topic)}),this.client.proposal.getAll().forEach(i=>{k.isExpired(i.expiry)&&n.push(i.id)}),await Promise.all([...r.map(i=>this.deleteSession(i)),...n.map(i=>this.deleteProposal(i))])},this.onRelayEventRequest=r=>{let{topic:n,payload:i}=r,s=i.method;switch(s){case"wc_sessionPropose":return this.onSessionProposeRequest(n,i);case"wc_sessionSettle":return this.onSessionSettleRequest(n,i);case"wc_sessionUpdate":return this.onSessionUpdateRequest(n,i);case"wc_sessionExtend":return this.onSessionExtendRequest(n,i);case"wc_sessionPing":return this.onSessionPingRequest(n,i);case"wc_sessionDelete":return this.onSessionDeleteRequest(n,i);case"wc_sessionRequest":return this.onSessionRequest(n,i);case"wc_sessionEvent":return this.onSessionEventRequest(n,i);default:return this.client.logger.info(`Unsupported request method ${s}`)}},this.onRelayEventResponse=async r=>{let{topic:n,payload:i}=r,s=(await this.client.core.history.get(n,i.id)).request.method;switch(s){case"wc_sessionPropose":return this.onSessionProposeResponse(n,i);case"wc_sessionSettle":return this.onSessionSettleResponse(n,i);case"wc_sessionUpdate":return this.onSessionUpdateResponse(n,i);case"wc_sessionExtend":return this.onSessionExtendResponse(n,i);case"wc_sessionPing":return this.onSessionPingResponse(n,i);case"wc_sessionRequest":return this.onSessionRequestResponse(n,i);default:return this.client.logger.info(`Unsupported response method ${s}`)}},this.onSessionProposeRequest=async(r,n)=>{let{params:i,id:s}=n;try{this.isValidConnect(Pr({},n.params));let o=k.calcExpiry(st.FIVE_MINUTES),a=Pr({id:s,pairingTopic:r,expiry:o},i);await this.setProposal(s,a),this.client.events.emit("session_proposal",{id:s,params:a})}catch(o){await this.sendError(s,r,o),this.client.logger.error(o)}},this.onSessionProposeResponse=async(r,n)=>{let{id:i}=n;if(St.isJsonRpcResult(n)){let{result:s}=n;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:s});let o=this.client.proposal.get(i);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:o});let a=o.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:a});let u=s.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:u});let l=await this.client.core.crypto.generateSharedKey(a,u);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:l});let f=await this.client.core.relayer.subscribe(l);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:f}),await this.client.core.pairing.activate({topic:r})}else St.isJsonRpcError(n)&&(await this.client.proposal.delete(i,k.getSdkError("USER_DISCONNECTED")),this.events.emit(k.engineEvent("session_connect"),{error:n.error}))},this.onSessionSettleRequest=async(r,n)=>{let{id:i,params:s}=n;try{this.isValidSessionSettleRequest(s);let{relay:o,controller:a,expiry:u,namespaces:l,requiredNamespaces:f,optionalNamespaces:d,sessionProperties:y,pairingTopic:m}=n.params,v=Pr({topic:r,relay:o,expiry:u,namespaces:l,acknowledged:!0,pairingTopic:m,requiredNamespaces:f,optionalNamespaces:d,controller:a.publicKey,self:{publicKey:"",metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},y&&{sessionProperties:y});await this.sendResult(n.id,r,!0),this.events.emit(k.engineEvent("session_connect"),{session:v})}catch(o){await this.sendError(i,r,o),this.client.logger.error(o)}},this.onSessionSettleResponse=async(r,n)=>{let{id:i}=n;St.isJsonRpcResult(n)?(await this.client.session.update(r,{acknowledged:!0}),this.events.emit(k.engineEvent("session_approve",i),{})):St.isJsonRpcError(n)&&(await this.client.session.delete(r,k.getSdkError("USER_DISCONNECTED")),this.events.emit(k.engineEvent("session_approve",i),{error:n.error}))},this.onSessionUpdateRequest=async(r,n)=>{let{params:i,id:s}=n;try{this.isValidUpdate(Pr({topic:r},i)),await this.client.session.update(r,{namespaces:i.namespaces}),await this.sendResult(s,r,!0),this.client.events.emit("session_update",{id:s,topic:r,params:i})}catch(o){await this.sendError(s,r,o),this.client.logger.error(o)}},this.onSessionUpdateResponse=(r,n)=>{let{id:i}=n;St.isJsonRpcResult(n)?this.events.emit(k.engineEvent("session_update",i),{}):St.isJsonRpcError(n)&&this.events.emit(k.engineEvent("session_update",i),{error:n.error})},this.onSessionExtendRequest=async(r,n)=>{let{id:i}=n;try{this.isValidExtend({topic:r}),await this.setExpiry(r,k.calcExpiry($l)),await this.sendResult(i,r,!0),this.client.events.emit("session_extend",{id:i,topic:r})}catch(s){await this.sendError(i,r,s),this.client.logger.error(s)}},this.onSessionExtendResponse=(r,n)=>{let{id:i}=n;St.isJsonRpcResult(n)?this.events.emit(k.engineEvent("session_extend",i),{}):St.isJsonRpcError(n)&&this.events.emit(k.engineEvent("session_extend",i),{error:n.error})},this.onSessionPingRequest=async(r,n)=>{let{id:i}=n;try{this.isValidPing({topic:r}),await this.sendResult(i,r,!0),this.client.events.emit("session_ping",{id:i,topic:r})}catch(s){await this.sendError(i,r,s),this.client.logger.error(s)}},this.onSessionPingResponse=(r,n)=>{let{id:i}=n;setTimeout(()=>{St.isJsonRpcResult(n)?this.events.emit(k.engineEvent("session_ping",i),{}):St.isJsonRpcError(n)&&this.events.emit(k.engineEvent("session_ping",i),{error:n.error})},500)},this.onSessionDeleteRequest=async(r,n)=>{let{id:i}=n;try{this.isValidDisconnect({topic:r,reason:n.params}),this.client.core.relayer.once(Zi.RELAYER_EVENTS.publish,async()=>{await this.deleteSession(r)}),await this.sendResult(i,r,!0),this.client.events.emit("session_delete",{id:i,topic:r})}catch(s){await this.sendError(i,r,s),this.client.logger.error(s)}},this.onSessionRequest=async(r,n)=>{let{id:i,params:s}=n;try{this.isValidRequest(Pr({topic:r},s)),await this.setPendingSessionRequest({id:i,topic:r,params:s}),this.client.events.emit("session_request",{id:i,topic:r,params:s})}catch(o){await this.sendError(i,r,o),this.client.logger.error(o)}},this.onSessionRequestResponse=(r,n)=>{let{id:i}=n;St.isJsonRpcResult(n)?this.events.emit(k.engineEvent("session_request",i),{result:n.result}):St.isJsonRpcError(n)&&this.events.emit(k.engineEvent("session_request",i),{error:n.error})},this.onSessionEventRequest=async(r,n)=>{let{id:i,params:s}=n;try{this.isValidEmit(Pr({topic:r},s)),this.client.events.emit("session_event",{id:i,topic:r,params:s})}catch(o){await this.sendError(i,r,o),this.client.logger.error(o)}},this.isValidConnect=async r=>{if(!k.isValidParams(r)){let{message:u}=k.getInternalError("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(r)}`);throw new Error(u)}let{pairingTopic:n,requiredNamespaces:i,optionalNamespaces:s,sessionProperties:o,relays:a}=r;if(k.isUndefined(n)||await this.isValidPairingTopic(n),!k.isValidRelays(a,!0)){let{message:u}=k.getInternalError("MISSING_OR_INVALID",`connect() relays: ${a}`);throw new Error(u)}!k.isUndefined(i)&&k.isValidObject(i)!==0&&this.validateNamespaces(i,"requiredNamespaces"),!k.isUndefined(s)&&k.isValidObject(s)!==0&&this.validateNamespaces(s,"optionalNamespaces"),k.isUndefined(o)||this.validateSessionProps(o,"sessionProperties")},this.validateNamespaces=(r,n)=>{let i=k.isValidRequiredNamespaces(r,"connect()",n);if(i)throw new Error(i.message)},this.isValidApprove=async r=>{if(!k.isValidParams(r))throw new Error(k.getInternalError("MISSING_OR_INVALID",`approve() params: ${r}`).message);let{id:n,namespaces:i,relayProtocol:s,sessionProperties:o}=r;await this.isValidProposalId(n);let a=this.client.proposal.get(n),u=k.isValidNamespaces(i,"approve()");if(u)throw new Error(u.message);let l=k.isConformingNamespaces(a.requiredNamespaces,i,"approve()");if(l)throw new Error(l.message);if(!k.isValidString(s,!0)){let{message:f}=k.getInternalError("MISSING_OR_INVALID",`approve() relayProtocol: ${s}`);throw new Error(f)}k.isUndefined(o)||this.validateSessionProps(o,"sessionProperties")},this.isValidReject=async r=>{if(!k.isValidParams(r)){let{message:s}=k.getInternalError("MISSING_OR_INVALID",`reject() params: ${r}`);throw new Error(s)}let{id:n,reason:i}=r;if(await this.isValidProposalId(n),!k.isValidErrorReason(i)){let{message:s}=k.getInternalError("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(i)}`);throw new Error(s)}},this.isValidSessionSettleRequest=r=>{if(!k.isValidParams(r)){let{message:l}=k.getInternalError("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${r}`);throw new Error(l)}let{relay:n,controller:i,namespaces:s,expiry:o}=r;if(!k.isValidRelay(n)){let{message:l}=k.getInternalError("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(l)}let a=k.isValidController(i,"onSessionSettleRequest()");if(a)throw new Error(a.message);let u=k.isValidNamespaces(s,"onSessionSettleRequest()");if(u)throw new Error(u.message);if(k.isExpired(o)){let{message:l}=k.getInternalError("EXPIRED","onSessionSettleRequest()");throw new Error(l)}},this.isValidUpdate=async r=>{if(!k.isValidParams(r)){let{message:u}=k.getInternalError("MISSING_OR_INVALID",`update() params: ${r}`);throw new Error(u)}let{topic:n,namespaces:i}=r;await this.isValidSessionTopic(n);let s=this.client.session.get(n),o=k.isValidNamespaces(i,"update()");if(o)throw new Error(o.message);let a=k.isConformingNamespaces(s.requiredNamespaces,i,"update()");if(a)throw new Error(a.message)},this.isValidExtend=async r=>{if(!k.isValidParams(r)){let{message:i}=k.getInternalError("MISSING_OR_INVALID",`extend() params: ${r}`);throw new Error(i)}let{topic:n}=r;await this.isValidSessionTopic(n)},this.isValidRequest=async r=>{if(!k.isValidParams(r)){let{message:u}=k.getInternalError("MISSING_OR_INVALID",`request() params: ${r}`);throw new Error(u)}let{topic:n,request:i,chainId:s,expiry:o}=r;await this.isValidSessionTopic(n);let{namespaces:a}=this.client.session.get(n);if(!k.isValidNamespacesChainId(a,s)){let{message:u}=k.getInternalError("MISSING_OR_INVALID",`request() chainId: ${s}`);throw new Error(u)}if(!k.isValidRequest(i)){let{message:u}=k.getInternalError("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw new Error(u)}if(!k.isValidNamespacesRequest(a,s,i.method)){let{message:u}=k.getInternalError("MISSING_OR_INVALID",`request() method: ${i.method}`);throw new Error(u)}if(o&&!k.isValidRequestExpiry(o,Cg)){let{message:u}=k.getInternalError("MISSING_OR_INVALID",`request() expiry: ${o}. Expiry must be a number (in seconds) between ${Cg.min} and ${Cg.max}`);throw new Error(u)}},this.isValidRespond=async r=>{if(!k.isValidParams(r)){let{message:s}=k.getInternalError("MISSING_OR_INVALID",`respond() params: ${r}`);throw new Error(s)}let{topic:n,response:i}=r;if(await this.isValidSessionTopic(n),!k.isValidResponse(i)){let{message:s}=k.getInternalError("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(i)}`);throw new Error(s)}},this.isValidPing=async r=>{if(!k.isValidParams(r)){let{message:i}=k.getInternalError("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(i)}let{topic:n}=r;await this.isValidSessionOrPairingTopic(n)},this.isValidEmit=async r=>{if(!k.isValidParams(r)){let{message:a}=k.getInternalError("MISSING_OR_INVALID",`emit() params: ${r}`);throw new Error(a)}let{topic:n,event:i,chainId:s}=r;await this.isValidSessionTopic(n);let{namespaces:o}=this.client.session.get(n);if(!k.isValidNamespacesChainId(o,s)){let{message:a}=k.getInternalError("MISSING_OR_INVALID",`emit() chainId: ${s}`);throw new Error(a)}if(!k.isValidEvent(i)){let{message:a}=k.getInternalError("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}if(!k.isValidNamespacesEvent(o,s,i.name)){let{message:a}=k.getInternalError("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}},this.isValidDisconnect=async r=>{if(!k.isValidParams(r)){let{message:i}=k.getInternalError("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(i)}let{topic:n}=r;await this.isValidSessionOrPairingTopic(n)},this.validateSessionProps=(r,n)=>{Object.values(r).forEach(i=>{if(!k.isValidString(i,!1)){let{message:s}=k.getInternalError("MISSING_OR_INVALID",`${n} must be in Record<string, string> format. Received: ${JSON.stringify(i)}`);throw new Error(s)}})}}isInitialized(){if(!this.initialized){let{message:e}=k.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.client.core.relayer.on(Zi.RELAYER_EVENTS.message,async e=>{let{topic:r,message:n}=e;if(this.ignoredPayloadTypes.includes(this.client.core.crypto.getPayloadType(n)))return;let i=await this.client.core.crypto.decode(r,n);St.isJsonRpcRequest(i)?(this.client.core.history.set(r,i),this.onRelayEventRequest({topic:r,payload:i})):St.isJsonRpcResponse(i)&&(await this.client.core.history.resolve(i),this.onRelayEventResponse({topic:r,payload:i}))})}registerExpirerEvents(){this.client.core.expirer.on(Zi.EXPIRER_EVENTS.expired,async e=>{let{topic:r,id:n}=k.parseExpirerTarget(e.target);if(n&&this.client.pendingRequest.keys.includes(n))return await this.deletePendingSessionRequest(n,k.getInternalError("EXPIRED"),!0);r?this.client.session.keys.includes(r)&&(await this.deleteSession(r,!0),this.client.events.emit("session_expire",{topic:r})):n&&(await this.deleteProposal(n,!0),this.client.events.emit("proposal_expire",{id:n}))})}isValidPairingTopic(e){if(!k.isValidString(e,!1)){let{message:r}=k.getInternalError("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(r)}if(!this.client.core.pairing.pairings.keys.includes(e)){let{message:r}=k.getInternalError("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(r)}if(k.isExpired(this.client.core.pairing.pairings.get(e).expiry)){let{message:r}=k.getInternalError("EXPIRED",`pairing topic: ${e}`);throw new Error(r)}}async isValidSessionTopic(e){if(!k.isValidString(e,!1)){let{message:r}=k.getInternalError("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(r)}if(!this.client.session.keys.includes(e)){let{message:r}=k.getInternalError("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(r)}if(k.isExpired(this.client.session.get(e).expiry)){await this.deleteSession(e);let{message:r}=k.getInternalError("EXPIRED",`session topic: ${e}`);throw new Error(r)}}async isValidSessionOrPairingTopic(e){if(this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(k.isValidString(e,!1)){let{message:r}=k.getInternalError("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(r)}else{let{message:r}=k.getInternalError("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(r)}}async isValidProposalId(e){if(!k.isValidId(e)){let{message:r}=k.getInternalError("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(r)}if(!this.client.proposal.keys.includes(e)){let{message:r}=k.getInternalError("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(r)}if(k.isExpired(this.client.proposal.get(e).expiry)){await this.deleteProposal(e);let{message:r}=k.getInternalError("EXPIRED",`proposal id: ${e}`);throw new Error(r)}}},qA=class extends Zi.Store{constructor(e,r){super(e,r,C8,Tg),this.core=e,this.logger=r}},VA=class extends Zi.Store{constructor(e,r){super(e,r,x8,Tg),this.core=e,this.logger=r}},jA=class extends Zi.Store{constructor(e,r){super(e,r,O8,Tg,n=>n.id),this.core=e,this.logger=r}},zu=class extends _8.ISignClient{constructor(e){super(e),this.protocol=HA,this.version=GA,this.name=Sg.name,this.events=new I8.EventEmitter,this.on=(n,i)=>this.events.on(n,i),this.once=(n,i)=>this.events.once(n,i),this.off=(n,i)=>this.events.off(n,i),this.removeListener=(n,i)=>this.events.removeListener(n,i),this.removeAllListeners=n=>this.events.removeAllListeners(n),this.connect=async n=>{try{return await this.engine.connect(n)}catch(i){throw this.logger.error(i.message),i}},this.pair=async n=>{try{return await this.engine.pair(n)}catch(i){throw this.logger.error(i.message),i}},this.approve=async n=>{try{return await this.engine.approve(n)}catch(i){throw this.logger.error(i.message),i}},this.reject=async n=>{try{return await this.engine.reject(n)}catch(i){throw this.logger.error(i.message),i}},this.update=async n=>{try{return await this.engine.update(n)}catch(i){throw this.logger.error(i.message),i}},this.extend=async n=>{try{return await this.engine.extend(n)}catch(i){throw this.logger.error(i.message),i}},this.request=async n=>{try{return await this.engine.request(n)}catch(i){throw this.logger.error(i.message),i}},this.respond=async n=>{try{return await this.engine.respond(n)}catch(i){throw this.logger.error(i.message),i}},this.ping=async n=>{try{return await this.engine.ping(n)}catch(i){throw this.logger.error(i.message),i}},this.emit=async n=>{try{return await this.engine.emit(n)}catch(i){throw this.logger.error(i.message),i}},this.disconnect=async n=>{try{return await this.engine.disconnect(n)}catch(i){throw this.logger.error(i.message),i}},this.find=n=>{try{return this.engine.find(n)}catch(i){throw this.logger.error(i.message),i}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(n){throw this.logger.error(n.message),n}},this.name=e?.name||Sg.name,this.metadata=e?.metadata||k.getAppMetadata();let r=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:zY.default(FA.getDefaultLoggerOptions({level:e?.logger||Sg.logger}));this.core=e?.core||new Zi.Core(e),this.logger=FA.generateChildLogger(r,this.name),this.session=new VA(this.core,this.logger),this.proposal=new qA(this.core,this.logger),this.pendingRequest=new jA(this.core,this.logger),this.engine=new UA(this)}static async init(e){let r=new zu(e);return await r.initialize(),r}get context(){return FA.getLoggerContext(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}},sJ=zu;it.ENGINE_CONTEXT=N8,it.ENGINE_RPC_OPTS=ku,it.HISTORY_CONTEXT=JY,it.HISTORY_EVENTS=YY,it.HISTORY_STORAGE_VERSION=XY,it.PROPOSAL_CONTEXT=C8,it.PROPOSAL_EXPIRY=ZY,it.PROPOSAL_EXPIRY_MESSAGE=T8,it.REQUEST_CONTEXT=O8,it.SESSION_CONTEXT=x8,it.SESSION_EXPIRY=$l,it.SESSION_REQUEST_EXPIRY_BOUNDARIES=Cg,it.SIGN_CLIENT_CONTEXT=QA,it.SIGN_CLIENT_DEFAULT=Sg,it.SIGN_CLIENT_EVENTS=KY,it.SIGN_CLIENT_PROTOCOL=HA,it.SIGN_CLIENT_STORAGE_OPTIONS=$Y,it.SIGN_CLIENT_STORAGE_PREFIX=Tg,it.SIGN_CLIENT_VERSION=GA,it.SignClient=sJ,it.default=zu});var kA=w(Yl=>{"use strict";c();Object.defineProperty(Yl,"__esModule",{value:!0});Yl.Operation=void 0;var oJ;(function(t){t.SIGN_TRANSACTION="mvx_signTransaction",t.SIGN_TRANSACTIONS="mvx_signTransactions",t.SIGN_MESSAGE="mvx_signMessage",t.SIGN_LOGIN_TOKEN="mvx_signLoginToken"})(oJ=Yl.Operation||(Yl.Operation={}))});var P8=w(es=>{"use strict";c();Object.defineProperty(es,"__esModule",{value:!0});es.WALLETCONNECT_MULTIVERSX_METHODS=es.WALLETCONNECT_MULTIVERSX_NAMESPACE=es.WALLETCONNECT_MULTIVERSX_CHAIN_ID=void 0;var aJ=kA();es.WALLETCONNECT_MULTIVERSX_CHAIN_ID=508;es.WALLETCONNECT_MULTIVERSX_NAMESPACE="mvx";es.WALLETCONNECT_MULTIVERSX_METHODS=Object.values(aJ.Operation)});var R8=w(xg=>{"use strict";c();Object.defineProperty(xg,"__esModule",{value:!0});xg.Logger=void 0;var zA=class{static error(e){console.error(e)}static trace(e){console.trace(e)}};xg.Logger=zA});var B8=w(Wu=>{"use strict";c();Object.defineProperty(Wu,"__esModule",{value:!0});Wu.Signature=Wu.Address=void 0;var WA=class{constructor(e){this.value=e}bech32(){return this.value}};Wu.Address=WA;var Jl=class{constructor(e){this.buffer=e}static fromHex(e){return new Jl(h.Buffer.from(e,"hex"))}hex(){return this.buffer.toString("hex")}};Wu.Signature=Jl});var YA=w(zr=>{"use strict";c();Object.defineProperty(zr,"__esModule",{value:!0});zr.WalletConnectV2ProviderErrorMessagesEnum=zr.ErrBadAddress=zr.ErrNotImplemented=zr.Err=void 0;var Xl=class extends Error{constructor(e,r){super(e),this.inner=void 0,this.inner=r}};zr.Err=Xl;var KA=class extends Xl{constructor(){super("Method not yet implemented")}};zr.ErrNotImplemented=KA;var $A=class extends Xl{constructor(e,r){super(`Bad address: ${e}`,r)}};zr.ErrBadAddress=$A;var uJ;(function(t){t.unableToInit="WalletConnect is unable to init",t.notInitialized="WalletConnect is not initialized",t.unableToConnect="WalletConnect is unable to connect",t.unableToConnectExisting="WalletConnect is unable to connect to existing pairing",t.unableToSignLoginToken="WalletConnect could not sign login token",t.unableToLogin="WalletConnect is unable to login",t.unableToHandleTopic="WalletConnect: Unable to handle topic update",t.unableToHandleEvent="WalletConnect: Unable to handle events",t.unableToHandleCleanup="WalletConnect: Unable to handle cleanup",t.sessionNotConnected="WalletConnect Session is not connected",t.sessionDeleted="WalletConnect Session Deleted",t.sessionExpired="WalletConnect Session Expired",t.alreadyLoggedOut="WalletConnect: Already logged out",t.pingFailed="WalletConnect Ping Failed",t.invalidAddress="WalletConnect: Invalid address",t.requestDifferentChain="WalletConnect: Request Chain Id different than Connection Chain Id",t.invalidMessageResponse="WalletConnect could not sign the message",t.invalidMessageSignature="WalletConnect: Invalid message signature",t.invalidTransactionResponse="WalletConnect could not sign the transactions. Invalid signatures",t.invalidCustomRequestResponse="WalletConnect could not send the custom request",t.transactionError="Transaction canceled",t.connectionError="WalletConnect could not establish a connection"})(uJ=zr.WalletConnectV2ProviderErrorMessagesEnum||(zr.WalletConnectV2ProviderErrorMessagesEnum={}))});var F8=w(xn=>{"use strict";c();var cJ=xn&&xn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),lJ=xn&&xn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),fJ=xn&&xn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&cJ(e,t,r);return lJ(e,t),e};Object.defineProperty(xn,"__esModule",{value:!0});xn.UserAddress=void 0;var hJ=fJ(Qf()),L8=YA(),dJ="erd",Zl=class{constructor(e){this.value=e}static fromBech32(e){let r;try{r=hJ.decode(e)}catch(n){throw new L8.ErrBadAddress(e,n)}if(r.prefix!=dJ)throw new L8.ErrBadAddress(e);return new Zl(e)}bech32(){return this.value}};xn.UserAddress=Zl});var tf=w(Nn=>{"use strict";c();var gt=Nn&&Nn.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(f){try{l(n.next(f))}catch(d){o(d)}}function u(f){try{l(n.throw(f))}catch(d){o(d)}}function l(f){f.done?s(f.value):i(f.value).then(a,u)}l((n=n.apply(t,e||[])).next())})},pJ=Nn&&Nn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Nn,"__esModule",{value:!0});Nn.WalletConnectV2Provider=Nn.WalletConnectV2ProviderErrorMessagesEnum=void 0;var gJ=pJ(D8()),JA=Vp(),Io=P8(),Ng=kA(),Be=R8(),ef=B8(),he=YA();Object.defineProperty(Nn,"WalletConnectV2ProviderErrorMessagesEnum",{enumerable:!0,get:function(){return he.WalletConnectV2ProviderErrorMessagesEnum}});var Og=F8(),XA=class{constructor(e,r,n,i,s){this.chainId="",this.address="",this.signature="",this.namespace=Io.WALLETCONNECT_MULTIVERSX_NAMESPACE,this.isInitializing=!1,this.events=[],this.methods=[],this.processingTopic="",this.options={},this.onClientConnect=e,this.chainId=r,this.walletConnectV2Relay=n,this.walletConnectV2ProjectId=i,this.options=s}reset(){this.address="",this.signature="",this.namespace=Io.WALLETCONNECT_MULTIVERSX_NAMESPACE,this.session=void 0}init(){return gt(this,void 0,void 0,function*(){if(this.isInitialized())return this.isInitialized();try{if(!this.isInitializing){this.isInitializing=!0,this.reset();let e=yield gJ.default.init(Object.assign({relayUrl:this.walletConnectV2Relay,projectId:this.walletConnectV2ProjectId},this.options));this.walletConnector=e,this.isInitializing=!1,yield this.subscribeToEvents(e),yield this.checkPersistedState(e)}}catch{throw new Error(he.WalletConnectV2ProviderErrorMessagesEnum.unableToInit)}finally{return this.isInitializing=!1,this.isInitialized()}})}isInitialized(){return!!this.walletConnector&&!this.isInitializing}isConnected(){return new Promise((e,r)=>e(!!(this.isInitialized()&&typeof this.session<"u")))}connect(e){var r,n,i,s;return gt(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw new Error(he.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);let o=this.getConnectionParams(e);try{let a=yield this.walletConnector.connect(Object.assign({pairingTopic:e?.topic},o));return this.events=(n=(r=o?.requiredNamespaces)===null||r===void 0?void 0:r[Io.WALLETCONNECT_MULTIVERSX_NAMESPACE])===null||n===void 0?void 0:n.events,this.methods=(s=(i=o?.requiredNamespaces)===null||i===void 0?void 0:i[Io.WALLETCONNECT_MULTIVERSX_NAMESPACE])===null||s===void 0?void 0:s.methods,a}catch{throw this.reset(),Be.Logger.error(e?.topic?he.WalletConnectV2ProviderErrorMessagesEnum.unableToConnectExisting:he.WalletConnectV2ProviderErrorMessagesEnum.unableToConnect),new Error(e?.topic?he.WalletConnectV2ProviderErrorMessagesEnum.unableToConnectExisting:he.WalletConnectV2ProviderErrorMessagesEnum.unableToConnect)}})}login(e){var r;return gt(this,void 0,void 0,function*(){if(this.isInitializing=!0,typeof this.walletConnector>"u"&&(yield this.connect()),typeof this.walletConnector>"u")throw new Error(he.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);typeof this.session<"u"&&(yield this.logout({topic:(r=this.session)===null||r===void 0?void 0:r.topic}));try{if(e&&e.approval){let n=yield e.approval();if(e.token){let i=this.getAddressFromSession(n),{signature:s}=yield this.walletConnector.request({chainId:`${this.namespace}:${this.chainId}`,topic:n.topic,request:{method:Ng.Operation.SIGN_LOGIN_TOKEN,params:{token:e.token,address:i}}});if(!s)throw Be.Logger.error(he.WalletConnectV2ProviderErrorMessagesEnum.unableToSignLoginToken),new Error(he.WalletConnectV2ProviderErrorMessagesEnum.unableToSignLoginToken);return yield this.onSessionConnected({session:n,signature:s})}return yield this.onSessionConnected({session:n,signature:""})}}catch{throw this.reset(),Be.Logger.error(he.WalletConnectV2ProviderErrorMessagesEnum.unableToLogin),new Error(he.WalletConnectV2ProviderErrorMessagesEnum.unableToLogin)}finally{this.isInitializing=!1}return""})}logout(e){return gt(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw Be.Logger.error(he.WalletConnectV2ProviderErrorMessagesEnum.notInitialized),new Error(he.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);try{if(this.processingTopic===(e?.topic||this.getCurrentTopic(this.walletConnector)))return!0;if(e?.topic)this.processingTopic=e.topic,yield this.walletConnector.disconnect({topic:e.topic,reason:JA.getSdkError("USER_DISCONNECTED")});else{let r=this.getCurrentTopic(this.walletConnector);this.processingTopic=r,yield this.walletConnector.disconnect({topic:r,reason:JA.getSdkError("USER_DISCONNECTED")}),this.reset(),yield this.cleanupPendingPairings({deletePairings:!0})}}catch{Be.Logger.error(he.WalletConnectV2ProviderErrorMessagesEnum.alreadyLoggedOut)}finally{this.processingTopic=""}return!0})}getAddress(){return gt(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw Be.Logger.error(he.WalletConnectV2ProviderErrorMessagesEnum.notInitialized),new Error(he.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);return this.address})}getSignature(){return gt(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw Be.Logger.error(he.WalletConnectV2ProviderErrorMessagesEnum.notInitialized),new Error(he.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);return this.signature})}getPairings(){var e,r,n,i,s;return gt(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw Be.Logger.error(he.WalletConnectV2ProviderErrorMessagesEnum.notInitialized),new Error(he.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);return(s=(i=(n=(r=(e=this.walletConnector)===null||e===void 0?void 0:e.core)===null||r===void 0?void 0:r.pairing)===null||n===void 0?void 0:n.pairings)===null||i===void 0?void 0:i.getAll({active:!0}))!==null&&s!==void 0?s:[]})}signMessage(e){return gt(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw Be.Logger.error(he.WalletConnectV2ProviderErrorMessagesEnum.notInitialized),new Error(he.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);if(typeof this.session>"u")throw Be.Logger.error(he.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected),this.onClientConnect.onClientLogout(),new Error(he.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected);let r=yield this.getAddress(),{signature:n}=yield this.walletConnector.request({chainId:`${this.namespace}:${this.chainId}`,topic:this.getCurrentTopic(this.walletConnector),request:{method:Ng.Operation.SIGN_MESSAGE,params:{address:r,message:e.message.toString()}}});if(!n)throw Be.Logger.error(he.WalletConnectV2ProviderErrorMessagesEnum.invalidMessageResponse),new Error(he.WalletConnectV2ProviderErrorMessagesEnum.invalidMessageResponse);try{e.applySignature(new ef.Signature(n),Og.UserAddress.fromBech32(r))}catch{throw Be.Logger.error(he.WalletConnectV2ProviderErrorMessagesEnum.invalidMessageSignature),new Error(he.WalletConnectV2ProviderErrorMessagesEnum.invalidMessageSignature)}return e})}signTransaction(e){return gt(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw Be.Logger.error(he.WalletConnectV2ProviderErrorMessagesEnum.notInitialized),new Error(he.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);if(typeof this.session>"u")throw Be.Logger.error(he.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected),this.onClientConnect.onClientLogout(),new Error(he.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected);let r=yield this.getAddress(),n=new ef.Address(r),i=e.toPlainObject(n);if(this.chainId!==e.getChainID().valueOf())throw Be.Logger.error(he.WalletConnectV2ProviderErrorMessagesEnum.requestDifferentChain),new Error(he.WalletConnectV2ProviderErrorMessagesEnum.requestDifferentChain);try{let{signature:s}=yield this.walletConnector.request({chainId:`${this.namespace}:${this.chainId}`,topic:this.getCurrentTopic(this.walletConnector),request:{method:Ng.Operation.SIGN_TRANSACTION,params:{transaction:i}}});if(!s)throw Be.Logger.error(he.WalletConnectV2ProviderErrorMessagesEnum.requestDifferentChain),new Error(he.WalletConnectV2ProviderErrorMessagesEnum.requestDifferentChain);return e.applySignature(ef.Signature.fromHex(s),Og.UserAddress.fromBech32(r)),e}catch{throw new Error(he.WalletConnectV2ProviderErrorMessagesEnum.transactionError)}})}signTransactions(e){return gt(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw Be.Logger.error(he.WalletConnectV2ProviderErrorMessagesEnum.notInitialized),new Error(he.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);if(typeof this.session>"u")throw Be.Logger.error(he.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected),this.onClientConnect.onClientLogout(),new Error(he.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected);let r=yield this.getAddress(),n=new ef.Address(r),i=e.map(s=>{if(this.chainId!==s.getChainID().valueOf())throw Be.Logger.error(he.WalletConnectV2ProviderErrorMessagesEnum.requestDifferentChain),new Error(he.WalletConnectV2ProviderErrorMessagesEnum.requestDifferentChain);return s.toPlainObject(n)});try{let{signatures:s}=yield this.walletConnector.request({chainId:`${this.namespace}:${this.chainId}`,topic:this.getCurrentTopic(this.walletConnector),request:{method:Ng.Operation.SIGN_TRANSACTIONS,params:{transactions:i}}});(!s||!Array.isArray(s))&&Be.Logger.error(he.WalletConnectV2ProviderErrorMessagesEnum.invalidTransactionResponse),e.length!==s.length&&Be.Logger.error(he.WalletConnectV2ProviderErrorMessagesEnum.invalidTransactionResponse);for(let[o,a]of e.entries())a.applySignature(ef.Signature.fromHex(s[o].signature),Og.UserAddress.fromBech32(r));return e}catch{throw new Error(he.WalletConnectV2ProviderErrorMessagesEnum.transactionError)}})}sendCustomRequest(e){var r;return gt(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw Be.Logger.error(he.WalletConnectV2ProviderErrorMessagesEnum.notInitialized),new Error(he.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);if(typeof this.session>"u")throw Be.Logger.error(he.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected),this.onClientConnect.onClientLogout(),new Error(he.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected);if(!((r=e?.request)===null||r===void 0)&&r.method){let n=Object.assign({},e.request),{method:i}=n,{response:s}=yield this.walletConnector.request({chainId:`${this.namespace}:${this.chainId}`,topic:this.getCurrentTopic(this.walletConnector),request:Object.assign(Object.assign({},n),{method:i})});if(!s)throw Be.Logger.error(he.WalletConnectV2ProviderErrorMessagesEnum.invalidCustomRequestResponse),new Error(he.WalletConnectV2ProviderErrorMessagesEnum.invalidCustomRequestResponse);return s}})}ping(){return gt(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw Be.Logger.error(he.WalletConnectV2ProviderErrorMessagesEnum.notInitialized),new Error(he.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);typeof this.session>"u"&&Be.Logger.error(he.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected);try{let e=this.getCurrentTopic(this.walletConnector);return yield this.walletConnector.ping({topic:e}),!0}catch{return Be.Logger.error(he.WalletConnectV2ProviderErrorMessagesEnum.pingFailed),!1}})}loginAccount(e){return gt(this,void 0,void 0,function*(){return e?this.addressIsValid(e.address)?(this.address=e.address,e.signature&&(this.signature=e.signature),this.onClientConnect.onClientLogin(),this.address):(Be.Logger.error(`${he.WalletConnectV2ProviderErrorMessagesEnum.invalidAddress} ${e.address}`),this.walletConnector&&(yield this.logout()),""):""})}onSessionConnected(e){return gt(this,void 0,void 0,function*(){if(!e)return"";this.session=e.session;let r=this.getAddressFromSession(e.session);return r?(yield this.loginAccount({address:r,signature:e.signature}),r):""})}handleTopicUpdateEvent({topic:e}){return gt(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw new Error(he.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);try{let r=yield this.getPairings();if(this.address&&!this.isInitializing&&r)if(r?.length===0)this.onClientConnect.onClientLogout();else{let n=r[r.length-1];n?.topic===e&&this.onClientConnect.onClientLogout()}}catch{Be.Logger.error(he.WalletConnectV2ProviderErrorMessagesEnum.unableToHandleTopic)}finally{this.pairings=yield this.getPairings()}})}handleSessionEvents({topic:e,params:r}){var n;return gt(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw new Error(he.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);if(this.session&&((n=this.session)===null||n===void 0?void 0:n.topic)!==e)return;let{event:i}=r;if(i?.name&&this.getCurrentTopic(this.walletConnector)===e){let s=i.data;this.onClientConnect.onClientEvent(s)}})}subscribeToEvents(e){var r,n,i,s;return gt(this,void 0,void 0,function*(){if(typeof e>"u")throw new Error(he.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);try{e.on("session_update",({topic:o,params:a})=>{var u;if(!this.session||((u=this.session)===null||u===void 0?void 0:u.topic)!==o)return;let{namespaces:l}=a,f=e.session.get(o),d=Object.assign(Object.assign({},f),{namespaces:l});this.onSessionConnected({session:d})}),e.on("session_event",this.handleSessionEvents.bind(this)),e.on("session_delete",({topic:o})=>gt(this,void 0,void 0,function*(){var a;!this.session||((a=this.session)===null||a===void 0?void 0:a.topic)!==o||(Be.Logger.error(he.WalletConnectV2ProviderErrorMessagesEnum.sessionDeleted),this.onClientConnect.onClientLogout(),this.reset(),yield this.cleanupPendingPairings({deletePairings:!0}))})),e.on("session_expire",({topic:o})=>gt(this,void 0,void 0,function*(){var a;!this.session||((a=this.session)===null||a===void 0?void 0:a.topic)!==o||(Be.Logger.error(he.WalletConnectV2ProviderErrorMessagesEnum.sessionExpired),this.onClientConnect.onClientLogout(),this.reset(),yield this.cleanupPendingPairings({deletePairings:!0}))})),(n=(r=e.core)===null||r===void 0?void 0:r.pairing)===null||n===void 0||n.events.on("pairing_delete",this.handleTopicUpdateEvent.bind(this)),(s=(i=e.core)===null||i===void 0?void 0:i.pairing)===null||s===void 0||s.events.on("pairing_expire",this.handleTopicUpdateEvent.bind(this))}catch{Be.Logger.error(he.WalletConnectV2ProviderErrorMessagesEnum.unableToHandleEvent)}})}checkPersistedState(e){return gt(this,void 0,void 0,function*(){if(typeof e>"u")throw new Error(he.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);if(this.pairings=yield this.getPairings(),!(typeof this.session<"u")&&e.session.length&&!this.address&&!this.isInitializing){let r=this.getCurrentSession(e);if(r)return yield this.onSessionConnected({session:r}),r}})}cleanupPendingPairings(e={}){var r,n,i,s,o,a,u,l;return gt(this,void 0,void 0,function*(){if(!(typeof this.walletConnector>"u"))try{let f=(i=(n=(r=this.walletConnector.core)===null||r===void 0?void 0:r.pairing)===null||n===void 0?void 0:n.pairings)===null||i===void 0?void 0:i.getAll({active:!1});if(!JA.isValidArray(f))return;for(let d of f)e.deletePairings?(o=(s=this.walletConnector.core)===null||s===void 0?void 0:s.expirer)===null||o===void 0||o.set(d.topic,0):yield(l=(u=(a=this.walletConnector.core)===null||a===void 0?void 0:a.relayer)===null||u===void 0?void 0:u.subscriber)===null||l===void 0?void 0:l.unsubscribe(d.topic)}catch{Be.Logger.error(he.WalletConnectV2ProviderErrorMessagesEnum.unableToHandleCleanup)}})}getCurrentSession(e){if(typeof e>"u")throw new Error(he.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);let r=e.find(this.getConnectionParams()).filter(n=>n.acknowledged);if(r.length>0){let n=r.length-1;return r[n]}else if(e.session.length>0){let n=e.session.keys.length-1;return e.session.get(e.session.keys[n])}else throw Be.Logger.error(he.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected),new Error(he.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected)}getCurrentTopic(e){if(typeof e>"u")throw new Error(he.WalletConnectV2ProviderErrorMessagesEnum.notInitialized);let r=this.getCurrentSession(e);if(r?.topic)return r.topic;throw new Error(he.WalletConnectV2ProviderErrorMessagesEnum.sessionNotConnected)}getConnectionParams(e){var r,n;let i=[...Io.WALLETCONNECT_MULTIVERSX_METHODS,...(r=e?.methods)!==null&&r!==void 0?r:[]],s=[`${Io.WALLETCONNECT_MULTIVERSX_NAMESPACE}:${this.chainId}`],o=(n=e?.events)!==null&&n!==void 0?n:[];return{requiredNamespaces:{[Io.WALLETCONNECT_MULTIVERSX_NAMESPACE]:{methods:i,chains:s,events:o}}}}addressIsValid(e){try{return!!Og.UserAddress.fromBech32(e)}catch{return!1}}getAddressFromSession(e){let r=e.namespaces[this.namespace];if(r&&r.accounts){let n=r.accounts[0],[i,s,o]=n.split(":");return o}return""}};Nn.WalletConnectV2Provider=XA});var U8=w((fde,M8)=>{"use strict";c();M8.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0}});var j8=w((dde,V8)=>{"use strict";c();var q8=typeof Symbol<"u"&&Symbol,yJ=U8();V8.exports=function(){return typeof q8!="function"||typeof Symbol!="function"||typeof q8("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:yJ()}});var G8=w((gde,H8)=>{"use strict";c();var mJ="Function.prototype.bind called on incompatible ",ZA=Array.prototype.slice,wJ=Object.prototype.toString,EJ="[object Function]";H8.exports=function(e){var r=this;if(typeof r!="function"||wJ.call(r)!==EJ)throw new TypeError(mJ+r);for(var n=ZA.call(arguments,1),i,s=function(){if(this instanceof i){var f=r.apply(this,n.concat(ZA.call(arguments)));return Object(f)===f?f:this}else return r.apply(e,n.concat(ZA.call(arguments)))},o=Math.max(0,r.length-n.length),a=[],u=0;u<o;u++)a.push("$"+u);if(i=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var l=function(){};l.prototype=r.prototype,i.prototype=new l,l.prototype=null}return i}});var Dg=w((mde,Q8)=>{"use strict";c();var vJ=G8();Q8.exports=Function.prototype.bind||vJ});var z8=w((Ede,k8)=>{"use strict";c();var AJ=Dg();k8.exports=AJ.call(Function.call,Object.prototype.hasOwnProperty)});var Bg=w((Ade,J8)=>{"use strict";c();var De,Ju=SyntaxError,Y8=Function,Yu=TypeError,eb=function(t){try{return Y8('"use strict"; return ('+t+").constructor;")()}catch{}},So=Object.getOwnPropertyDescriptor;if(So)try{So({},"")}catch{So=null}var tb=function(){throw new Yu},bJ=So?function(){try{return arguments.callee,tb}catch{try{return So(arguments,"callee").get}catch{return tb}}}():tb,Ku=j8()(),On=Object.getPrototypeOf||function(t){return t.__proto__},$u={},_J=typeof Uint8Array>"u"?De:On(Uint8Array),Co={"%AggregateError%":typeof AggregateError>"u"?De:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?De:ArrayBuffer,"%ArrayIteratorPrototype%":Ku?On([][Symbol.iterator]()):De,"%AsyncFromSyncIteratorPrototype%":De,"%AsyncFunction%":$u,"%AsyncGenerator%":$u,"%AsyncGeneratorFunction%":$u,"%AsyncIteratorPrototype%":$u,"%Atomics%":typeof Atomics>"u"?De:Atomics,"%BigInt%":typeof BigInt>"u"?De:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?De:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?De:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?De:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?De:Float32Array,"%Float64Array%":typeof Float64Array>"u"?De:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?De:FinalizationRegistry,"%Function%":Y8,"%GeneratorFunction%":$u,"%Int8Array%":typeof Int8Array>"u"?De:Int8Array,"%Int16Array%":typeof Int16Array>"u"?De:Int16Array,"%Int32Array%":typeof Int32Array>"u"?De:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Ku?On(On([][Symbol.iterator]())):De,"%JSON%":typeof JSON=="object"?JSON:De,"%Map%":typeof Map>"u"?De:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Ku?De:On(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?De:Promise,"%Proxy%":typeof Proxy>"u"?De:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?De:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?De:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Ku?De:On(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?De:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Ku?On(""[Symbol.iterator]()):De,"%Symbol%":Ku?Symbol:De,"%SyntaxError%":Ju,"%ThrowTypeError%":bJ,"%TypedArray%":_J,"%TypeError%":Yu,"%Uint8Array%":typeof Uint8Array>"u"?De:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?De:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?De:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?De:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?De:WeakMap,"%WeakRef%":typeof WeakRef>"u"?De:WeakRef,"%WeakSet%":typeof WeakSet>"u"?De:WeakSet};try{null.error}catch(t){W8=On(On(t)),Co["%Error.prototype%"]=W8}var W8,IJ=function t(e){var r;if(e==="%AsyncFunction%")r=eb("async function () {}");else if(e==="%GeneratorFunction%")r=eb("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=eb("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&(r=On(i.prototype))}return Co[e]=r,r},K8={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},rf=Dg(),Pg=z8(),SJ=rf.call(Function.call,Array.prototype.concat),CJ=rf.call(Function.apply,Array.prototype.splice),$8=rf.call(Function.call,String.prototype.replace),Rg=rf.call(Function.call,String.prototype.slice),TJ=rf.call(Function.call,RegExp.prototype.exec),xJ=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,NJ=/\\(\\)?/g,OJ=function(e){var r=Rg(e,0,1),n=Rg(e,-1);if(r==="%"&&n!=="%")throw new Ju("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new Ju("invalid intrinsic syntax, expected opening `%`");var i=[];return $8(e,xJ,function(s,o,a,u){i[i.length]=a?$8(u,NJ,"$1"):o||s}),i},DJ=function(e,r){var n=e,i;if(Pg(K8,n)&&(i=K8[n],n="%"+i[0]+"%"),Pg(Co,n)){var s=Co[n];if(s===$u&&(s=IJ(n)),typeof s>"u"&&!r)throw new Yu("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new Ju("intrinsic "+e+" does not exist!")};J8.exports=function(e,r){if(typeof e!="string"||e.length===0)throw new Yu("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Yu('"allowMissing" argument must be a boolean');if(TJ(/^%?[^%]*%?$/,e)===null)throw new Ju("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=OJ(e),i=n.length>0?n[0]:"",s=DJ("%"+i+"%",r),o=s.name,a=s.value,u=!1,l=s.alias;l&&(i=l[0],CJ(n,SJ([0,1],l)));for(var f=1,d=!0;f<n.length;f+=1){var y=n[f],m=Rg(y,0,1),v=Rg(y,-1);if((m==='"'||m==="'"||m==="`"||v==='"'||v==="'"||v==="`")&&m!==v)throw new Ju("property names with quotes must have matching quotes");if((y==="constructor"||!d)&&(u=!0),i+="."+y,o="%"+i+"%",Pg(Co,o))a=Co[o];else if(a!=null){if(!(y in a)){if(!r)throw new Yu("base intrinsic for "+e+" exists, but the property is not available.");return}if(So&&f+1>=n.length){var T=So(a,y);d=!!T,d&&"get"in T&&!("originalValue"in T.get)?a=T.get:a=a[y]}else d=Pg(a,y),a=a[y];d&&!u&&(Co[o]=a)}}return a}});var nR=w((_de,Lg)=>{"use strict";c();var rb=Dg(),Xu=Bg(),eR=Xu("%Function.prototype.apply%"),tR=Xu("%Function.prototype.call%"),rR=Xu("%Reflect.apply%",!0)||rb.call(tR,eR),X8=Xu("%Object.getOwnPropertyDescriptor%",!0),To=Xu("%Object.defineProperty%",!0),PJ=Xu("%Math.max%");if(To)try{To({},"a",{value:1})}catch{To=null}Lg.exports=function(e){var r=rR(rb,tR,arguments);if(X8&&To){var n=X8(r,"length");n.configurable&&To(r,"length",{value:1+PJ(0,e.length-(arguments.length-1))})}return r};var Z8=function(){return rR(rb,eR,arguments)};To?To(Lg.exports,"apply",{value:Z8}):Lg.exports.apply=Z8});var aR=w((Sde,oR)=>{"use strict";c();var iR=Bg(),sR=nR(),RJ=sR(iR("String.prototype.indexOf"));oR.exports=function(e,r){var n=iR(e,!!r);return typeof n=="function"&&RJ(e,".prototype.")>-1?sR(n):n}});var uR=w(()=>{c()});var xR=w((Ode,TR)=>{c();var hb=typeof Map=="function"&&Map.prototype,nb=Object.getOwnPropertyDescriptor&&hb?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Mg=hb&&nb&&typeof nb.get=="function"?nb.get:null,cR=hb&&Map.prototype.forEach,db=typeof Set=="function"&&Set.prototype,ib=Object.getOwnPropertyDescriptor&&db?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Ug=db&&ib&&typeof ib.get=="function"?ib.get:null,lR=db&&Set.prototype.forEach,BJ=typeof WeakMap=="function"&&WeakMap.prototype,sf=BJ?WeakMap.prototype.has:null,LJ=typeof WeakSet=="function"&&WeakSet.prototype,of=LJ?WeakSet.prototype.has:null,FJ=typeof WeakRef=="function"&&WeakRef.prototype,fR=FJ?WeakRef.prototype.deref:null,MJ=Boolean.prototype.valueOf,UJ=Object.prototype.toString,qJ=Function.prototype.toString,VJ=String.prototype.match,pb=String.prototype.slice,rs=String.prototype.replace,jJ=String.prototype.toUpperCase,hR=String.prototype.toLowerCase,AR=RegExp.prototype.test,dR=Array.prototype.concat,Dn=Array.prototype.join,HJ=Array.prototype.slice,pR=Math.floor,ab=typeof BigInt=="function"?BigInt.prototype.valueOf:null,sb=Object.getOwnPropertySymbols,ub=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Zu=typeof Symbol=="function"&&typeof Symbol.iterator=="object",$t=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Zu||"symbol")?Symbol.toStringTag:null,bR=Object.prototype.propertyIsEnumerable,gR=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function yR(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||AR.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-pR(-t):pR(t);if(n!==t){var i=String(n),s=pb.call(e,i.length+1);return rs.call(i,r,"$&_")+"."+rs.call(rs.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return rs.call(e,r,"$&_")}var cb=uR(),mR=cb.custom,wR=IR(mR)?mR:null;TR.exports=function t(e,r,n,i){var s=r||{};if(ts(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(ts(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=ts(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(ts(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(ts(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return CR(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var u=String(e);return a?yR(e,u):u}if(typeof e=="bigint"){var l=String(e)+"n";return a?yR(e,l):l}var f=typeof s.depth>"u"?5:s.depth;if(typeof n>"u"&&(n=0),n>=f&&f>0&&typeof e=="object")return lb(e)?"[Array]":"[Object]";var d=oX(s,n);if(typeof i>"u")i=[];else if(SR(i,e)>=0)return"[Circular]";function y(G,$,de){if($&&(i=HJ.call(i),i.push($)),de){var ae={depth:s.depth};return ts(s,"quoteStyle")&&(ae.quoteStyle=s.quoteStyle),t(G,ae,n+1,i)}return t(G,s,n+1,i)}if(typeof e=="function"&&!ER(e)){var m=JJ(e),v=Fg(e,y);return"[Function"+(m?": "+m:" (anonymous)")+"]"+(v.length>0?" { "+Dn.call(v,", ")+" }":"")}if(IR(e)){var T=Zu?rs.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):ub.call(e);return typeof e=="object"&&!Zu?nf(T):T}if(nX(e)){for(var B="<"+hR.call(String(e.nodeName)),A=e.attributes||[],D=0;D<A.length;D++)B+=" "+A[D].name+"="+_R(GJ(A[D].value),"double",s);return B+=">",e.childNodes&&e.childNodes.length&&(B+="..."),B+="</"+hR.call(String(e.nodeName))+">",B}if(lb(e)){if(e.length===0)return"[]";var x=Fg(e,y);return d&&!sX(x)?"["+fb(x,d)+"]":"[ "+Dn.call(x,", ")+" ]"}if(kJ(e)){var R=Fg(e,y);return!("cause"in Error.prototype)&&"cause"in e&&!bR.call(e,"cause")?"{ ["+String(e)+"] "+Dn.call(dR.call("[cause]: "+y(e.cause),R),", ")+" }":R.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+Dn.call(R,", ")+" }"}if(typeof e=="object"&&o){if(wR&&typeof e[wR]=="function"&&cb)return cb(e,{depth:f-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(XJ(e)){var P=[];return cR&&cR.call(e,function(G,$){P.push(y($,e,!0)+" => "+y(G,e))}),vR("Map",Mg.call(e),P,d)}if(tX(e)){var L=[];return lR&&lR.call(e,function(G){L.push(y(G,e))}),vR("Set",Ug.call(e),L,d)}if(ZJ(e))return ob("WeakMap");if(rX(e))return ob("WeakSet");if(eX(e))return ob("WeakRef");if(WJ(e))return nf(y(Number(e)));if($J(e))return nf(y(ab.call(e)));if(KJ(e))return nf(MJ.call(e));if(zJ(e))return nf(y(String(e)));if(!QJ(e)&&!ER(e)){var _=Fg(e,y),C=gR?gR(e)===Object.prototype:e instanceof Object||e.constructor===Object,M=e instanceof Object?"":"null prototype",Z=!C&&$t&&Object(e)===e&&$t in e?pb.call(ns(e),8,-1):M?"Object":"",z=C||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",H=z+(Z||M?"["+Dn.call(dR.call([],Z||[],M||[]),": ")+"] ":"");return _.length===0?H+"{}":d?H+"{"+fb(_,d)+"}":H+"{ "+Dn.call(_,", ")+" }"}return String(e)};function _R(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function GJ(t){return rs.call(String(t),/"/g,"&quot;")}function lb(t){return ns(t)==="[object Array]"&&(!$t||!(typeof t=="object"&&$t in t))}function QJ(t){return ns(t)==="[object Date]"&&(!$t||!(typeof t=="object"&&$t in t))}function ER(t){return ns(t)==="[object RegExp]"&&(!$t||!(typeof t=="object"&&$t in t))}function kJ(t){return ns(t)==="[object Error]"&&(!$t||!(typeof t=="object"&&$t in t))}function zJ(t){return ns(t)==="[object String]"&&(!$t||!(typeof t=="object"&&$t in t))}function WJ(t){return ns(t)==="[object Number]"&&(!$t||!(typeof t=="object"&&$t in t))}function KJ(t){return ns(t)==="[object Boolean]"&&(!$t||!(typeof t=="object"&&$t in t))}function IR(t){if(Zu)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!ub)return!1;try{return ub.call(t),!0}catch{}return!1}function $J(t){if(!t||typeof t!="object"||!ab)return!1;try{return ab.call(t),!0}catch{}return!1}var YJ=Object.prototype.hasOwnProperty||function(t){return t in this};function ts(t,e){return YJ.call(t,e)}function ns(t){return UJ.call(t)}function JJ(t){if(t.name)return t.name;var e=VJ.call(qJ.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function SR(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function XJ(t){if(!Mg||!t||typeof t!="object")return!1;try{Mg.call(t);try{Ug.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function ZJ(t){if(!sf||!t||typeof t!="object")return!1;try{sf.call(t,sf);try{of.call(t,of)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function eX(t){if(!fR||!t||typeof t!="object")return!1;try{return fR.call(t),!0}catch{}return!1}function tX(t){if(!Ug||!t||typeof t!="object")return!1;try{Ug.call(t);try{Mg.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function rX(t){if(!of||!t||typeof t!="object")return!1;try{of.call(t,of);try{sf.call(t,sf)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function nX(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function CR(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return CR(pb.call(t,0,e.maxStringLength),e)+n}var i=rs.call(rs.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,iX);return _R(i,"single",e)}function iX(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+jJ.call(e.toString(16))}function nf(t){return"Object("+t+")"}function ob(t){return t+" { ? }"}function vR(t,e,r,n){var i=n?fb(r,n):Dn.call(r,", ");return t+" ("+e+") {"+i+"}"}function sX(t){for(var e=0;e<t.length;e++)if(SR(t[e],`
`)>=0)return!1;return!0}function oX(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=Dn.call(Array(t.indent+1)," ");else return null;return{base:r,prev:Dn.call(Array(e+1),r)}}function fb(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+Dn.call(t,","+r)+`
`+e.prev}function Fg(t,e){var r=lb(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=ts(t,i)?e(t[i],t):""}var s=typeof sb=="function"?sb(t):[],o;if(Zu){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var u in t)ts(t,u)&&(r&&String(Number(u))===u&&u<t.length||Zu&&o["$"+u]instanceof Symbol||(AR.call(/[^\w$]/,u)?n.push(e(u,t)+": "+e(t[u],t)):n.push(u+": "+e(t[u],t))));if(typeof sb=="function")for(var l=0;l<s.length;l++)bR.call(t,s[l])&&n.push("["+e(s[l])+"]: "+e(t[s[l]],t));return n}});var OR=w((Pde,NR)=>{"use strict";c();var gb=Bg(),ec=aR(),aX=xR(),uX=gb("%TypeError%"),qg=gb("%WeakMap%",!0),Vg=gb("%Map%",!0),cX=ec("WeakMap.prototype.get",!0),lX=ec("WeakMap.prototype.set",!0),fX=ec("WeakMap.prototype.has",!0),hX=ec("Map.prototype.get",!0),dX=ec("Map.prototype.set",!0),pX=ec("Map.prototype.has",!0),yb=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},gX=function(t,e){var r=yb(t,e);return r&&r.value},yX=function(t,e,r){var n=yb(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},mX=function(t,e){return!!yb(t,e)};NR.exports=function(){var e,r,n,i={assert:function(s){if(!i.has(s))throw new uX("Side channel does not contain "+aX(s))},get:function(s){if(qg&&s&&(typeof s=="object"||typeof s=="function")){if(e)return cX(e,s)}else if(Vg){if(r)return hX(r,s)}else if(n)return gX(n,s)},has:function(s){if(qg&&s&&(typeof s=="object"||typeof s=="function")){if(e)return fX(e,s)}else if(Vg){if(r)return pX(r,s)}else if(n)return mX(n,s);return!1},set:function(s,o){qg&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new qg),lX(e,s,o)):Vg?(r||(r=new Vg),dX(r,s,o)):(n||(n={key:{},next:null}),yX(n,s,o))}};return i}});var jg=w((Bde,DR)=>{"use strict";c();var wX=String.prototype.replace,EX=/%20/g,mb={RFC1738:"RFC1738",RFC3986:"RFC3986"};DR.exports={default:mb.RFC3986,formatters:{RFC1738:function(t){return wX.call(t,EX,"+")},RFC3986:function(t){return String(t)}},RFC1738:mb.RFC1738,RFC3986:mb.RFC3986}});var Eb=w((Fde,RR)=>{"use strict";c();var vX=jg(),wb=Object.prototype.hasOwnProperty,xo=Array.isArray,Pn=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),AX=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(xo(n)){for(var i=[],s=0;s<n.length;++s)typeof n[s]<"u"&&i.push(n[s]);r.obj[r.prop]=i}}},PR=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},bX=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(xo(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!wb.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return xo(e)&&!xo(r)&&(i=PR(e,n)),xo(e)&&xo(r)?(r.forEach(function(s,o){if(wb.call(e,o)){var a=e[o];a&&typeof a=="object"&&s&&typeof s=="object"?e[o]=t(a,s,n):e.push(s)}else e[o]=s}),e):Object.keys(r).reduce(function(s,o){var a=r[o];return wb.call(s,o)?s[o]=t(s[o],a,n):s[o]=a,s},i)},_X=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},IX=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},SX=function(e,r,n,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(f){return"%26%23"+parseInt(f.slice(2),16)+"%3B"});for(var a="",u=0;u<o.length;++u){var l=o.charCodeAt(u);if(l===45||l===46||l===95||l===126||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||s===vX.RFC1738&&(l===40||l===41)){a+=o.charAt(u);continue}if(l<128){a=a+Pn[l];continue}if(l<2048){a=a+(Pn[192|l>>6]+Pn[128|l&63]);continue}if(l<55296||l>=57344){a=a+(Pn[224|l>>12]+Pn[128|l>>6&63]+Pn[128|l&63]);continue}u+=1,l=65536+((l&1023)<<10|o.charCodeAt(u)&1023),a+=Pn[240|l>>18]+Pn[128|l>>12&63]+Pn[128|l>>6&63]+Pn[128|l&63]}return a},CX=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var s=r[i],o=s.obj[s.prop],a=Object.keys(o),u=0;u<a.length;++u){var l=a[u],f=o[l];typeof f=="object"&&f!==null&&n.indexOf(f)===-1&&(r.push({obj:o,prop:l}),n.push(f))}return AX(r),e},TX=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},xX=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},NX=function(e,r){return[].concat(e,r)},OX=function(e,r){if(xo(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)};RR.exports={arrayToObject:PR,assign:_X,combine:NX,compact:CX,decode:IX,encode:SX,isBuffer:xX,isRegExp:TX,maybeMap:OX,merge:bX}});var qR=w((Ude,UR)=>{"use strict";c();var FR=OR(),Ab=Eb(),af=jg(),DX=Object.prototype.hasOwnProperty,BR={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},No=Array.isArray,PX=String.prototype.split,RX=Array.prototype.push,MR=function(t,e){RX.apply(t,No(e)?e:[e])},BX=Date.prototype.toISOString,LR=af.default,Vt={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:Ab.encode,encodeValuesOnly:!1,format:LR,formatter:af.formatters[LR],indices:!1,serializeDate:function(e){return BX.call(e)},skipNulls:!1,strictNullHandling:!1},LX=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},vb={},FX=function t(e,r,n,i,s,o,a,u,l,f,d,y,m,v,T){for(var B=e,A=T,D=0,x=!1;(A=A.get(vb))!==void 0&&!x;){var R=A.get(e);if(D+=1,typeof R<"u"){if(R===D)throw new RangeError("Cyclic object value");x=!0}typeof A.get(vb)>"u"&&(D=0)}if(typeof a=="function"?B=a(r,B):B instanceof Date?B=f(B):n==="comma"&&No(B)&&(B=Ab.maybeMap(B,function(re){return re instanceof Date?f(re):re})),B===null){if(i)return o&&!m?o(r,Vt.encoder,v,"key",d):r;B=""}if(LX(B)||Ab.isBuffer(B)){if(o){var P=m?r:o(r,Vt.encoder,v,"key",d);if(n==="comma"&&m){for(var L=PX.call(String(B),","),_="",C=0;C<L.length;++C)_+=(C===0?"":",")+y(o(L[C],Vt.encoder,v,"value",d));return[y(P)+"="+_]}return[y(P)+"="+y(o(B,Vt.encoder,v,"value",d))]}return[y(r)+"="+y(String(B))]}var M=[];if(typeof B>"u")return M;var Z;if(n==="comma"&&No(B))Z=[{value:B.length>0?B.join(",")||null:void 0}];else if(No(a))Z=a;else{var z=Object.keys(B);Z=u?z.sort(u):z}for(var H=0;H<Z.length;++H){var G=Z[H],$=typeof G=="object"&&typeof G.value<"u"?G.value:B[G];if(!(s&&$===null)){var de=No(B)?typeof n=="function"?n(r,G):r:r+(l?"."+G:"["+G+"]");T.set(e,D);var ae=FR();ae.set(vb,T),MR(M,t($,de,n,i,s,o,a,u,l,f,d,y,m,v,ae))}}return M},MX=function(e){if(!e)return Vt;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||Vt.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=af.default;if(typeof e.format<"u"){if(!DX.call(af.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=af.formatters[n],s=Vt.filter;return(typeof e.filter=="function"||No(e.filter))&&(s=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Vt.addQueryPrefix,allowDots:typeof e.allowDots>"u"?Vt.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Vt.charsetSentinel,delimiter:typeof e.delimiter>"u"?Vt.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Vt.encode,encoder:typeof e.encoder=="function"?e.encoder:Vt.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Vt.encodeValuesOnly,filter:s,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Vt.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Vt.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Vt.strictNullHandling}};UR.exports=function(t,e){var r=t,n=MX(e),i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):No(n.filter)&&(s=n.filter,i=s);var o=[];if(typeof r!="object"||r===null)return"";var a;e&&e.arrayFormat in BR?a=e.arrayFormat:e&&"indices"in e?a=e.indices?"indices":"repeat":a="indices";var u=BR[a];i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var l=FR(),f=0;f<i.length;++f){var d=i[f];n.skipNulls&&r[d]===null||MR(o,FX(r[d],d,u,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,l))}var y=o.join(n.delimiter),m=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?m+="utf8=%26%2310003%3B&":m+="utf8=%E2%9C%93&"),y.length>0?m+y:""}});var HR=w((Vde,jR)=>{"use strict";c();var tc=Eb(),bb=Object.prototype.hasOwnProperty,UX=Array.isArray,Pt={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:tc.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},qX=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},VR=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},VX="utf8=%26%2310003%3B",jX="utf8=%E2%9C%93",HX=function(e,r){var n={},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,s),a=-1,u,l=r.charset;if(r.charsetSentinel)for(u=0;u<o.length;++u)o[u].indexOf("utf8=")===0&&(o[u]===jX?l="utf-8":o[u]===VX&&(l="iso-8859-1"),a=u,u=o.length);for(u=0;u<o.length;++u)if(u!==a){var f=o[u],d=f.indexOf("]="),y=d===-1?f.indexOf("="):d+1,m,v;y===-1?(m=r.decoder(f,Pt.decoder,l,"key"),v=r.strictNullHandling?null:""):(m=r.decoder(f.slice(0,y),Pt.decoder,l,"key"),v=tc.maybeMap(VR(f.slice(y+1),r),function(T){return r.decoder(T,Pt.decoder,l,"value")})),v&&r.interpretNumericEntities&&l==="iso-8859-1"&&(v=qX(v)),f.indexOf("[]=")>-1&&(v=UX(v)?[v]:v),bb.call(n,m)?n[m]=tc.combine(n[m],v):n[m]=v}return n},GX=function(t,e,r,n){for(var i=n?e:VR(e,r),s=t.length-1;s>=0;--s){var o,a=t[s];if(a==="[]"&&r.parseArrays)o=[].concat(i);else{o=r.plainObjects?Object.create(null):{};var u=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,l=parseInt(u,10);!r.parseArrays&&u===""?o={0:i}:!isNaN(l)&&a!==u&&String(l)===u&&l>=0&&r.parseArrays&&l<=r.arrayLimit?(o=[],o[l]=i):u!=="__proto__"&&(o[u]=i)}i=o}return i},QX=function(e,r,n,i){if(e){var s=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,u=n.depth>0&&o.exec(s),l=u?s.slice(0,u.index):s,f=[];if(l){if(!n.plainObjects&&bb.call(Object.prototype,l)&&!n.allowPrototypes)return;f.push(l)}for(var d=0;n.depth>0&&(u=a.exec(s))!==null&&d<n.depth;){if(d+=1,!n.plainObjects&&bb.call(Object.prototype,u[1].slice(1,-1))&&!n.allowPrototypes)return;f.push(u[1])}return u&&f.push("["+s.slice(u.index)+"]"),GX(f,r,n,i)}},kX=function(e){if(!e)return Pt;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?Pt.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?Pt.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:Pt.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:Pt.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:Pt.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Pt.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:Pt.comma,decoder:typeof e.decoder=="function"?e.decoder:Pt.decoder,delimiter:typeof e.delimiter=="string"||tc.isRegExp(e.delimiter)?e.delimiter:Pt.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:Pt.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:Pt.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:Pt.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:Pt.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Pt.strictNullHandling}};jR.exports=function(t,e){var r=kX(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?HX(t,r):t,i=r.plainObjects?Object.create(null):{},s=Object.keys(n),o=0;o<s.length;++o){var a=s[o],u=QX(a,n[a],r,typeof t=="string");i=tc.merge(i,u,r)}return r.allowSparse===!0?i:tc.compact(i)}});var QR=w((Hde,GR)=>{"use strict";c();var zX=qR(),WX=HR(),KX=jg();GR.exports={formats:KX,parse:WX,stringify:zX}});var _b=w(rt=>{"use strict";c();Object.defineProperty(rt,"__esModule",{value:!0});rt.WALLET_PROVIDER_CALLBACK_PARAM_TX_SIGNED=rt.WALLET_PROVIDER_CALLBACK_PARAM=rt.WALLET_PROVIDER_SIGN_MESSAGE_URL=rt.WALLET_PROVIDER_GUARD_TRANSACTION_URL=rt.WALLET_PROVIDER_SIGN_TRANSACTION_URL=rt.WALLET_PROVIDER_SEND_TRANSACTION_URL=rt.WALLET_PROVIDER_DISCONNECT_URL=rt.WALLET_PROVIDER_CONNECT_URL=rt.WALLET_PROVIDER_TESTNET=rt.WALLET_PROVIDER_DEVNET=rt.WALLET_PROVIDER_MAINNET=void 0;rt.WALLET_PROVIDER_MAINNET="https://wallet.multiversx.com/dapp/init";rt.WALLET_PROVIDER_DEVNET="https://devnet-wallet.multiversx.com/dapp/init";rt.WALLET_PROVIDER_TESTNET="https://testnet-wallet.multiversx.com/dapp/init";rt.WALLET_PROVIDER_CONNECT_URL="hook/login";rt.WALLET_PROVIDER_DISCONNECT_URL="hook/logout";rt.WALLET_PROVIDER_SEND_TRANSACTION_URL="hook/transaction";rt.WALLET_PROVIDER_SIGN_TRANSACTION_URL="hook/sign";rt.WALLET_PROVIDER_GUARD_TRANSACTION_URL="hook/2fa";rt.WALLET_PROVIDER_SIGN_MESSAGE_URL="hook/sign-message";rt.WALLET_PROVIDER_CALLBACK_PARAM="walletProviderStatus";rt.WALLET_PROVIDER_CALLBACK_PARAM_TX_SIGNED="transactionsSigned"});var kR=w(rc=>{"use strict";c();Object.defineProperty(rc,"__esModule",{value:!0});rc.ErrCannotSignedMessage=rc.ErrCannotGetSignedTransactions=void 0;var Ib=class extends Error{constructor(){super("Cannot get signed transaction(s)")}};rc.ErrCannotGetSignedTransactions=Ib;var Sb=class extends Error{constructor(){super("Cannot get signed message")}};rc.ErrCannotSignedMessage=Sb});var zR=w(Hg=>{"use strict";c();Object.defineProperty(Hg,"__esModule",{value:!0});Hg.PlainSignedTransaction=void 0;var Cb=class{constructor(e){this.nonce=0,this.value="",this.receiver="",this.sender="",this.gasPrice=0,this.gasLimit=0,this.data="",this.chainID="",this.version=0,this.options=void 0,this.signature="",Object.assign(this,e)}};Hg.PlainSignedTransaction=Cb});var uf=w(os=>{"use strict";c();var is=os&&os.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(f){try{l(n.next(f))}catch(d){o(d)}}function u(f){try{l(n.throw(f))}catch(d){o(d)}}function l(f){f.done?s(f.value):i(f.value).then(a,u)}l((n=n.apply(t,e||[])).next())})},$X=os&&os.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(os,"__esModule",{value:!0});os.WalletProvider=void 0;var Tb=$X(QR()),ss=_b(),xb=kR(),YX=zR(),nc=class{constructor(e){this.walletUrl=e}login(e){return is(this,void 0,void 0,function*(){let r=this.buildWalletUrl({endpoint:ss.WALLET_PROVIDER_CONNECT_URL,callbackUrl:e?.callbackUrl,params:{token:e?.token}});return yield this.redirect(r,e?.redirectDelayMilliseconds),r})}redirect(e,r){return is(this,void 0,void 0,function*(){r?yield this.redirectLater(e,r):this.redirectImmediately(e)})}redirectImmediately(e){window.location.href=e}redirectLater(e,r){return is(this,void 0,void 0,function*(){yield new Promise(n=>{setTimeout(()=>{window.location.href=e,n(!0)},r)})})}logout(e){return is(this,void 0,void 0,function*(){let r=this.buildWalletUrl({endpoint:ss.WALLET_PROVIDER_DISCONNECT_URL,callbackUrl:e?.callbackUrl});return yield this.redirect(r,e?.redirectDelayMilliseconds),!0})}signMessage(e,r){return is(this,void 0,void 0,function*(){let n=this.buildWalletUrl({endpoint:ss.WALLET_PROVIDER_SIGN_MESSAGE_URL,callbackUrl:r?.callbackUrl,params:{message:e.message.toString()}});return yield this.redirect(n),n})}getMessageSignatureFromWalletUrl(){var e,r;let n=window.location.search.slice(1);console.info("getMessageSignatureFromWalletUrl(), url:",n);let i=Tb.default.parse(n);if((((e=i.status)===null||e===void 0?void 0:e.toString())||"")!=="signed")throw new xb.ErrCannotSignedMessage;return((r=i.signature)===null||r===void 0?void 0:r.toString())||""}guardTransactions(e,r){return is(this,void 0,void 0,function*(){this.redirectTransactionsToEndpoint(ss.WALLET_PROVIDER_GUARD_TRANSACTION_URL,e,r)})}signTransactions(e,r){return is(this,void 0,void 0,function*(){this.redirectTransactionsToEndpoint(ss.WALLET_PROVIDER_SIGN_TRANSACTION_URL,e,r)})}signTransaction(e,r){return is(this,void 0,void 0,function*(){yield this.signTransactions([e],r)})}getTransactionsFromWalletUrl(){let e=Tb.default.parse(window.location.search.slice(1));return nc.isTxSignReturnSuccess(e)?this.getTxSignReturnValue(e):[]}static isTxSignReturnSuccess(e){return e.hasOwnProperty(ss.WALLET_PROVIDER_CALLBACK_PARAM)&&e[ss.WALLET_PROVIDER_CALLBACK_PARAM]===ss.WALLET_PROVIDER_CALLBACK_PARAM_TX_SIGNED}getTxSignReturnValue(e){var r;console.info("getTxSignReturnValue(), urlParams:",e);let n=["nonce","value","receiver","sender","gasPrice","gasLimit","chainID","version","signature"];for(let o of n)if(!e[o]||!Array.isArray(e[o]))throw new xb.ErrCannotGetSignedTransactions;let i=e.nonce.length;for(let o of n)if(e[o].length!==i)throw new xb.ErrCannotGetSignedTransactions;let s=[];for(let o=0;o<i;o++){let a=new YX.PlainSignedTransaction(Object.assign(Object.assign(Object.assign(Object.assign({nonce:parseInt(e.nonce[o]),value:e.value[o],receiver:e.receiver[o],sender:e.sender[o],gasPrice:parseInt(e.gasPrice[o]),gasLimit:parseInt(e.gasLimit[o]),data:(r=e.data[o])!==null&&r!==void 0?r:"",chainID:e.chainID[o],version:parseInt(e.version[o])},e.guardian&&e.guardian[o]?{guardian:e.guardian[o]}:{}),e.guardianSignature&&e.guardianSignature[o]?{guardianSignature:e.guardianSignature[o]}:{}),e.options&&e.options[o]?{options:parseInt(e.options[o])}:{}),{signature:e.signature[o]}));s.push(a)}return s}static prepareWalletTransaction(e){let r=e.toPlainObject();return r.data?r.data=h.Buffer.from(r.data,"base64").toString():r.data="",r}buildWalletUrl(e){let r=e?.callbackUrl||window.location.href,n=Tb.default.stringify(e.params||{}),i=n?`${n}&callbackUrl=${r}`:`callbackUrl=${r}`,s=`${this.baseWalletUrl()}/${e.endpoint}?${i}`;return console.info(`Redirecting to Wallet URL: ${decodeURI(s)}`),s}baseWalletUrl(){let e=this.walletUrl.split("/"),r=e[0],n=e[2];return r+"//"+n}redirectTransactionsToEndpoint(e,r,n){let i={};r.map(o=>{let a=nc.prepareWalletTransaction(o);for(let u in a)a.hasOwnProperty(u)&&!i.hasOwnProperty(u)&&(i[u]=[]),i[u].push(a[u])});let s=this.buildWalletUrl({endpoint:e,callbackUrl:n?.callbackUrl,params:i});window.location.href=s}};os.WalletProvider=nc});var Nb=w((Xde,WR)=>{"use strict";c();WR.exports=function(e,r){return function(){for(var i=new Array(arguments.length),s=0;s<i.length;s++)i[s]=arguments[s];return e.apply(r,i)}}});var Rt=w((epe,YR)=>{"use strict";c();var JX=Nb(),Db=Object.prototype.toString,Pb=function(t){return function(e){var r=Db.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())}}(Object.create(null));function Oo(t){return t=t.toLowerCase(),function(r){return Pb(r)===t}}function Rb(t){return Array.isArray(t)}function Qg(t){return typeof t>"u"}function XX(t){return t!==null&&!Qg(t)&&t.constructor!==null&&!Qg(t.constructor)&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}var KR=Oo("ArrayBuffer");function ZX(t){var e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&KR(t.buffer),e}function eZ(t){return typeof t=="string"}function tZ(t){return typeof t=="number"}function $R(t){return t!==null&&typeof t=="object"}function Gg(t){if(Pb(t)!=="object")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}var rZ=Oo("Date"),nZ=Oo("File"),iZ=Oo("Blob"),sZ=Oo("FileList");function Bb(t){return Db.call(t)==="[object Function]"}function oZ(t){return $R(t)&&Bb(t.pipe)}function aZ(t){var e="[object FormData]";return t&&(typeof FormData=="function"&&t instanceof FormData||Db.call(t)===e||Bb(t.toString)&&t.toString()===e)}var uZ=Oo("URLSearchParams");function cZ(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function lZ(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function Lb(t,e){if(!(t===null||typeof t>"u"))if(typeof t!="object"&&(t=[t]),Rb(t))for(var r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}function Ob(){var t={};function e(i,s){Gg(t[s])&&Gg(i)?t[s]=Ob(t[s],i):Gg(i)?t[s]=Ob({},i):Rb(i)?t[s]=i.slice():t[s]=i}for(var r=0,n=arguments.length;r<n;r++)Lb(arguments[r],e);return t}function fZ(t,e,r){return Lb(e,function(i,s){r&&typeof i=="function"?t[s]=JX(i,r):t[s]=i}),t}function hZ(t){return t.charCodeAt(0)===65279&&(t=t.slice(1)),t}function dZ(t,e,r,n){t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,r&&Object.assign(t.prototype,r)}function pZ(t,e,r){var n,i,s,o={};e=e||{};do{for(n=Object.getOwnPropertyNames(t),i=n.length;i-- >0;)s=n[i],o[s]||(e[s]=t[s],o[s]=!0);t=Object.getPrototypeOf(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e}function gZ(t,e,r){t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;var n=t.indexOf(e,r);return n!==-1&&n===r}function yZ(t){if(!t)return null;var e=t.length;if(Qg(e))return null;for(var r=new Array(e);e-- >0;)r[e]=t[e];return r}var mZ=function(t){return function(e){return t&&e instanceof t}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array));YR.exports={isArray:Rb,isArrayBuffer:KR,isBuffer:XX,isFormData:aZ,isArrayBufferView:ZX,isString:eZ,isNumber:tZ,isObject:$R,isPlainObject:Gg,isUndefined:Qg,isDate:rZ,isFile:nZ,isBlob:iZ,isFunction:Bb,isStream:oZ,isURLSearchParams:uZ,isStandardBrowserEnv:lZ,forEach:Lb,merge:Ob,extend:fZ,trim:cZ,stripBOM:hZ,inherits:dZ,toFlatObject:pZ,kindOf:Pb,kindOfTest:Oo,endsWith:gZ,toArray:yZ,isTypedArray:mZ,isFileList:sZ}});var Fb=w((rpe,XR)=>{"use strict";c();var ic=Rt();function JR(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}XR.exports=function(e,r,n){if(!r)return e;var i;if(n)i=n(r);else if(ic.isURLSearchParams(r))i=r.toString();else{var s=[];ic.forEach(r,function(u,l){u===null||typeof u>"u"||(ic.isArray(u)?l=l+"[]":u=[u],ic.forEach(u,function(d){ic.isDate(d)?d=d.toISOString():ic.isObject(d)&&(d=JSON.stringify(d)),s.push(JR(l)+"="+JR(d))}))}),i=s.join("&")}if(i){var o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}});var eB=w((ipe,ZR)=>{"use strict";c();var wZ=Rt();function kg(){this.handlers=[]}kg.prototype.use=function(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};kg.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};kg.prototype.forEach=function(e){wZ.forEach(this.handlers,function(n){n!==null&&e(n)})};ZR.exports=kg});var rB=w((ope,tB)=>{"use strict";c();var EZ=Rt();tB.exports=function(e,r){EZ.forEach(e,function(i,s){s!==r&&s.toUpperCase()===r.toUpperCase()&&(e[r]=i,delete e[s])})}});var Do=w((upe,oB)=>{"use strict";c();var nB=Rt();function sc(t,e,r,n,i){Error.call(this),this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i)}nB.inherits(sc,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var iB=sc.prototype,sB={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(t){sB[t]={value:t}});Object.defineProperties(sc,sB);Object.defineProperty(iB,"isAxiosError",{value:!0});sc.from=function(t,e,r,n,i,s){var o=Object.create(iB);return nB.toFlatObject(t,o,function(u){return u!==Error.prototype}),sc.call(o,t.message,e,r,n,i),o.name=t.name,s&&Object.assign(o,s),o};oB.exports=sc});var Mb=w((lpe,aB)=>{"use strict";c();aB.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}});var Ub=w((hpe,uB)=>{"use strict";c();var Wr=Rt();function vZ(t,e){e=e||new FormData;var r=[];function n(s){return s===null?"":Wr.isDate(s)?s.toISOString():Wr.isArrayBuffer(s)||Wr.isTypedArray(s)?typeof Blob=="function"?new Blob([s]):h.Buffer.from(s):s}function i(s,o){if(Wr.isPlainObject(s)||Wr.isArray(s)){if(r.indexOf(s)!==-1)throw Error("Circular reference detected in "+o);r.push(s),Wr.forEach(s,function(u,l){if(!Wr.isUndefined(u)){var f=o?o+"."+l:l,d;if(u&&!o&&typeof u=="object"){if(Wr.endsWith(l,"{}"))u=JSON.stringify(u);else if(Wr.endsWith(l,"[]")&&(d=Wr.toArray(u))){d.forEach(function(y){!Wr.isUndefined(y)&&e.append(f,n(y))});return}}i(u,f)}}),r.pop()}else e.append(o,n(s))}return i(t),e}uB.exports=vZ});var lB=w((ppe,cB)=>{"use strict";c();var qb=Do();cB.exports=function(e,r,n){var i=n.config.validateStatus;!n.status||!i||i(n.status)?e(n):r(new qb("Request failed with status code "+n.status,[qb.ERR_BAD_REQUEST,qb.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}});var hB=w((ype,fB)=>{"use strict";c();var zg=Rt();fB.exports=zg.isStandardBrowserEnv()?function(){return{write:function(r,n,i,s,o,a){var u=[];u.push(r+"="+encodeURIComponent(n)),zg.isNumber(i)&&u.push("expires="+new Date(i).toGMTString()),zg.isString(s)&&u.push("path="+s),zg.isString(o)&&u.push("domain="+o),a===!0&&u.push("secure"),document.cookie=u.join("; ")},read:function(r){var n=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()});var pB=w((wpe,dB)=>{"use strict";c();dB.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}});var yB=w((vpe,gB)=>{"use strict";c();gB.exports=function(e,r){return r?e.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):e}});var Vb=w((bpe,mB)=>{"use strict";c();var AZ=pB(),bZ=yB();mB.exports=function(e,r){return e&&!AZ(r)?bZ(e,r):r}});var EB=w((Ipe,wB)=>{"use strict";c();var jb=Rt(),_Z=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];wB.exports=function(e){var r={},n,i,s;return e&&jb.forEach(e.split(`
`),function(a){if(s=a.indexOf(":"),n=jb.trim(a.substr(0,s)).toLowerCase(),i=jb.trim(a.substr(s+1)),n){if(r[n]&&_Z.indexOf(n)>=0)return;n==="set-cookie"?r[n]=(r[n]?r[n]:[]).concat([i]):r[n]=r[n]?r[n]+", "+i:i}}),r}});var bB=w((Cpe,AB)=>{"use strict";c();var vB=Rt();AB.exports=vB.isStandardBrowserEnv()?function(){var e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),n;function i(s){var o=s;return e&&(r.setAttribute("href",o),o=r.href),r.setAttribute("href",o),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(o){var a=vB.isString(o)?i(o):o;return a.protocol===n.protocol&&a.host===n.host}}():function(){return function(){return!0}}()});var cf=w((xpe,IB)=>{"use strict";c();var Hb=Do(),IZ=Rt();function _B(t){Hb.call(this,t??"canceled",Hb.ERR_CANCELED),this.name="CanceledError"}IZ.inherits(_B,Hb,{__CANCEL__:!0});IB.exports=_B});var CB=w((Ope,SB)=>{"use strict";c();SB.exports=function(e){var r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return r&&r[1]||""}});var Gb=w((Ppe,TB)=>{"use strict";c();var lf=Rt(),SZ=lB(),CZ=hB(),TZ=Fb(),xZ=Vb(),NZ=EB(),OZ=bB(),DZ=Mb(),oi=Do(),PZ=cf(),RZ=CB();TB.exports=function(e){return new Promise(function(n,i){var s=e.data,o=e.headers,a=e.responseType,u;function l(){e.cancelToken&&e.cancelToken.unsubscribe(u),e.signal&&e.signal.removeEventListener("abort",u)}lf.isFormData(s)&&lf.isStandardBrowserEnv()&&delete o["Content-Type"];var f=new XMLHttpRequest;if(e.auth){var d=e.auth.username||"",y=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";o.Authorization="Basic "+btoa(d+":"+y)}var m=xZ(e.baseURL,e.url);f.open(e.method.toUpperCase(),TZ(m,e.params,e.paramsSerializer),!0),f.timeout=e.timeout;function v(){if(f){var A="getAllResponseHeaders"in f?NZ(f.getAllResponseHeaders()):null,D=!a||a==="text"||a==="json"?f.responseText:f.response,x={data:D,status:f.status,statusText:f.statusText,headers:A,config:e,request:f};SZ(function(P){n(P),l()},function(P){i(P),l()},x),f=null}}if("onloadend"in f?f.onloadend=v:f.onreadystatechange=function(){!f||f.readyState!==4||f.status===0&&!(f.responseURL&&f.responseURL.indexOf("file:")===0)||setTimeout(v)},f.onabort=function(){f&&(i(new oi("Request aborted",oi.ECONNABORTED,e,f)),f=null)},f.onerror=function(){i(new oi("Network Error",oi.ERR_NETWORK,e,f,f)),f=null},f.ontimeout=function(){var D=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",x=e.transitional||DZ;e.timeoutErrorMessage&&(D=e.timeoutErrorMessage),i(new oi(D,x.clarifyTimeoutError?oi.ETIMEDOUT:oi.ECONNABORTED,e,f)),f=null},lf.isStandardBrowserEnv()){var T=(e.withCredentials||OZ(m))&&e.xsrfCookieName?CZ.read(e.xsrfCookieName):void 0;T&&(o[e.xsrfHeaderName]=T)}"setRequestHeader"in f&&lf.forEach(o,function(D,x){typeof s>"u"&&x.toLowerCase()==="content-type"?delete o[x]:f.setRequestHeader(x,D)}),lf.isUndefined(e.withCredentials)||(f.withCredentials=!!e.withCredentials),a&&a!=="json"&&(f.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&f.addEventListener("progress",e.onDownloadProgress),typeof e.onUploadProgress=="function"&&f.upload&&f.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(u=function(A){f&&(i(!A||A&&A.type?new PZ:A),f.abort(),f=null)},e.cancelToken&&e.cancelToken.subscribe(u),e.signal&&(e.signal.aborted?u():e.signal.addEventListener("abort",u))),s||(s=null);var B=RZ(m);if(B&&["http","https","file"].indexOf(B)===-1){i(new oi("Unsupported protocol "+B+":",oi.ERR_BAD_REQUEST,e));return}f.send(s)})}});var NB=w((Bpe,xB)=>{c();xB.exports=null});var Kg=w((Fpe,RB)=>{"use strict";c();var Bt=Rt(),OB=rB(),DB=Do(),BZ=Mb(),LZ=Ub(),FZ={"Content-Type":"application/x-www-form-urlencoded"};function PB(t,e){!Bt.isUndefined(t)&&Bt.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function MZ(){var t;return typeof XMLHttpRequest<"u"?t=Gb():typeof p.default<"u"&&Object.prototype.toString.call(p.default)==="[object process]"&&(t=Gb()),t}function UZ(t,e,r){if(Bt.isString(t))try{return(e||JSON.parse)(t),Bt.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}var Wg={transitional:BZ,adapter:MZ(),transformRequest:[function(e,r){if(OB(r,"Accept"),OB(r,"Content-Type"),Bt.isFormData(e)||Bt.isArrayBuffer(e)||Bt.isBuffer(e)||Bt.isStream(e)||Bt.isFile(e)||Bt.isBlob(e))return e;if(Bt.isArrayBufferView(e))return e.buffer;if(Bt.isURLSearchParams(e))return PB(r,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var n=Bt.isObject(e),i=r&&r["Content-Type"],s;if((s=Bt.isFileList(e))||n&&i==="multipart/form-data"){var o=this.env&&this.env.FormData;return LZ(s?{"files[]":e}:e,o&&new o)}else if(n||i==="application/json")return PB(r,"application/json"),UZ(e);return e}],transformResponse:[function(e){var r=this.transitional||Wg.transitional,n=r&&r.silentJSONParsing,i=r&&r.forcedJSONParsing,s=!n&&this.responseType==="json";if(s||i&&Bt.isString(e)&&e.length)try{return JSON.parse(e)}catch(o){if(s)throw o.name==="SyntaxError"?DB.from(o,DB.ERR_BAD_RESPONSE,this,null,this.response):o}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:NB()},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Bt.forEach(["delete","get","head"],function(e){Wg.headers[e]={}});Bt.forEach(["post","put","patch"],function(e){Wg.headers[e]=Bt.merge(FZ)});RB.exports=Wg});var LB=w((Upe,BB)=>{"use strict";c();var qZ=Rt(),VZ=Kg();BB.exports=function(e,r,n){var i=this||VZ;return qZ.forEach(n,function(o){e=o.call(i,e,r)}),e}});var Qb=w((Vpe,FB)=>{"use strict";c();FB.exports=function(e){return!!(e&&e.__CANCEL__)}});var qB=w((Hpe,UB)=>{"use strict";c();var MB=Rt(),kb=LB(),jZ=Qb(),HZ=Kg(),GZ=cf();function zb(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new GZ}UB.exports=function(e){zb(e),e.headers=e.headers||{},e.data=kb.call(e,e.data,e.headers,e.transformRequest),e.headers=MB.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),MB.forEach(["delete","get","head","post","put","patch","common"],function(i){delete e.headers[i]});var r=e.adapter||HZ.adapter;return r(e).then(function(i){return zb(e),i.data=kb.call(e,i.data,i.headers,e.transformResponse),i},function(i){return jZ(i)||(zb(e),i&&i.response&&(i.response.data=kb.call(e,i.response.data,i.response.headers,e.transformResponse))),Promise.reject(i)})}});var Wb=w((Qpe,VB)=>{"use strict";c();var dr=Rt();VB.exports=function(e,r){r=r||{};var n={};function i(f,d){return dr.isPlainObject(f)&&dr.isPlainObject(d)?dr.merge(f,d):dr.isPlainObject(d)?dr.merge({},d):dr.isArray(d)?d.slice():d}function s(f){if(dr.isUndefined(r[f])){if(!dr.isUndefined(e[f]))return i(void 0,e[f])}else return i(e[f],r[f])}function o(f){if(!dr.isUndefined(r[f]))return i(void 0,r[f])}function a(f){if(dr.isUndefined(r[f])){if(!dr.isUndefined(e[f]))return i(void 0,e[f])}else return i(void 0,r[f])}function u(f){if(f in r)return i(e[f],r[f]);if(f in e)return i(void 0,e[f])}var l={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:u};return dr.forEach(Object.keys(e).concat(Object.keys(r)),function(d){var y=l[d]||s,m=y(d);dr.isUndefined(m)&&y!==u||(n[d]=m)}),n}});var Kb=w((zpe,jB)=>{c();jB.exports={version:"0.27.2"}});var QB=w((Kpe,GB)=>{"use strict";c();var QZ=Kb().version,as=Do(),$b={};["object","boolean","number","function","string","symbol"].forEach(function(t,e){$b[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});var HB={};$b.transitional=function(e,r,n){function i(s,o){return"[Axios v"+QZ+"] Transitional option '"+s+"'"+o+(n?". "+n:"")}return function(s,o,a){if(e===!1)throw new as(i(o," has been removed"+(r?" in "+r:"")),as.ERR_DEPRECATED);return r&&!HB[o]&&(HB[o]=!0,console.warn(i(o," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(s,o,a):!0}};function kZ(t,e,r){if(typeof t!="object")throw new as("options must be an object",as.ERR_BAD_OPTION_VALUE);for(var n=Object.keys(t),i=n.length;i-- >0;){var s=n[i],o=e[s];if(o){var a=t[s],u=a===void 0||o(a,s,t);if(u!==!0)throw new as("option "+s+" must be "+u,as.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new as("Unknown option "+s,as.ERR_BAD_OPTION)}}GB.exports={assertOptions:kZ,validators:$b}});var YB=w((Ype,$B)=>{"use strict";c();var WB=Rt(),zZ=Fb(),kB=eB(),zB=qB(),$g=Wb(),WZ=Vb(),KB=QB(),oc=KB.validators;function ac(t){this.defaults=t,this.interceptors={request:new kB,response:new kB}}ac.prototype.request=function(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=$g(this.defaults,r),r.method?r.method=r.method.toLowerCase():this.defaults.method?r.method=this.defaults.method.toLowerCase():r.method="get";var n=r.transitional;n!==void 0&&KB.assertOptions(n,{silentJSONParsing:oc.transitional(oc.boolean),forcedJSONParsing:oc.transitional(oc.boolean),clarifyTimeoutError:oc.transitional(oc.boolean)},!1);var i=[],s=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(r)===!1||(s=s&&m.synchronous,i.unshift(m.fulfilled,m.rejected))});var o=[];this.interceptors.response.forEach(function(m){o.push(m.fulfilled,m.rejected)});var a;if(!s){var u=[zB,void 0];for(Array.prototype.unshift.apply(u,i),u=u.concat(o),a=Promise.resolve(r);u.length;)a=a.then(u.shift(),u.shift());return a}for(var l=r;i.length;){var f=i.shift(),d=i.shift();try{l=f(l)}catch(y){d(y);break}}try{a=zB(l)}catch(y){return Promise.reject(y)}for(;o.length;)a=a.then(o.shift(),o.shift());return a};ac.prototype.getUri=function(e){e=$g(this.defaults,e);var r=WZ(e.baseURL,e.url);return zZ(r,e.params,e.paramsSerializer)};WB.forEach(["delete","get","head","options"],function(e){ac.prototype[e]=function(r,n){return this.request($g(n||{},{method:e,url:r,data:(n||{}).data}))}});WB.forEach(["post","put","patch"],function(e){function r(n){return function(s,o,a){return this.request($g(a||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}ac.prototype[e]=r(),ac.prototype[e+"Form"]=r(!0)});$B.exports=ac});var XB=w((Xpe,JB)=>{"use strict";c();var KZ=cf();function uc(t){if(typeof t!="function")throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(i){e=i});var r=this;this.promise.then(function(n){if(r._listeners){var i,s=r._listeners.length;for(i=0;i<s;i++)r._listeners[i](n);r._listeners=null}}),this.promise.then=function(n){var i,s=new Promise(function(o){r.subscribe(o),i=o}).then(n);return s.cancel=function(){r.unsubscribe(i)},s},t(function(i){r.reason||(r.reason=new KZ(i),e(r.reason))})}uc.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};uc.prototype.subscribe=function(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]};uc.prototype.unsubscribe=function(e){if(this._listeners){var r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}};uc.source=function(){var e,r=new uc(function(i){e=i});return{token:r,cancel:e}};JB.exports=uc});var eL=w((ege,ZB)=>{"use strict";c();ZB.exports=function(e){return function(n){return e.apply(null,n)}}});var rL=w((rge,tL)=>{"use strict";c();var $Z=Rt();tL.exports=function(e){return $Z.isObject(e)&&e.isAxiosError===!0}});var sL=w((ige,Yb)=>{"use strict";c();var nL=Rt(),YZ=Nb(),Yg=YB(),JZ=Wb(),XZ=Kg();function iL(t){var e=new Yg(t),r=YZ(Yg.prototype.request,e);return nL.extend(r,Yg.prototype,e),nL.extend(r,e),r.create=function(i){return iL(JZ(t,i))},r}var ar=iL(XZ);ar.Axios=Yg;ar.CanceledError=cf();ar.CancelToken=XB();ar.isCancel=Qb();ar.VERSION=Kb().version;ar.toFormData=Ub();ar.AxiosError=Do();ar.Cancel=ar.CanceledError;ar.all=function(e){return Promise.all(e)};ar.spread=eL();ar.isAxiosError=rL();Yb.exports=ar;Yb.exports.default=ar});var aL=w((oge,oL)=>{c();oL.exports=sL()});var uL=w(Jg=>{"use strict";c();Object.defineProperty(Jg,"__esModule",{value:!0});Jg.NativeAuthClientConfig=void 0;var Jb=class{constructor(){this.origin=typeof window<"u"?window.location.hostname:"",this.apiUrl="https://api.multiversx.com",this.expirySeconds=60*60*24}};Jg.NativeAuthClientConfig=Jb});var Zb=w(cc=>{"use strict";c();var Po=cc&&cc.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(f){try{l(n.next(f))}catch(d){o(d)}}function u(f){try{l(n.throw(f))}catch(d){o(d)}}function l(f){f.done?s(f.value):i(f.value).then(a,u)}l((n=n.apply(t,e||[])).next())})};Object.defineProperty(cc,"__esModule",{value:!0});cc.NativeAuthClient=void 0;var ZZ=aL(),eee=uL(),Xb=class{constructor(e){this.config=Object.assign(new eee.NativeAuthClientConfig,e)}getToken(e,r,n){let i=this.encodeValue(e),s=this.encodeValue(r);return`${i}.${s}.${n}`}initialize(e={}){return Po(this,void 0,void 0,function*(){let r=yield this.getCurrentBlockHash(),n=this.encodeValue(JSON.stringify(e));return`${this.encodeValue(this.config.origin)}.${r}.${this.config.expirySeconds}.${n}`})}getCurrentBlockHash(){return Po(this,void 0,void 0,function*(){return this.config.gatewayUrl?yield this.getCurrentBlockHashWithGateway():yield this.getCurrentBlockHashWithApi()})}getCurrentBlockHashWithGateway(){return Po(this,void 0,void 0,function*(){let e=yield this.getCurrentRound(),r=`${this.config.gatewayUrl}/blocks/by-round/${e}`;return(yield this.get(r)).data.data.blocks.filter(o=>o.shard===this.config.blockHashShard)[0].hash})}getCurrentRound(){return Po(this,void 0,void 0,function*(){if(!this.config.gatewayUrl)throw new Error("Gateway URL not set");if(!this.config.blockHashShard)throw new Error("Blockhash shard not set");let e=`${this.config.gatewayUrl}/network/status/${this.config.blockHashShard}`;return(yield this.get(e)).data.data.status.erd_current_round})}getCurrentBlockHashWithApi(){return Po(this,void 0,void 0,function*(){try{let e=`${this.config.apiUrl}/blocks/latest?ttl=${this.config.expirySeconds}&fields=hash`,r=yield this.get(e);if(r.data[0].hash!==void 0)return r.data[0].hash}catch{}return this.getCurrentBlockHashWithApiFallback()})}getCurrentBlockHashWithApiFallback(){return Po(this,void 0,void 0,function*(){let e=`${this.config.apiUrl}/blocks?size=1&fields=hash`;return this.config.blockHashShard!==void 0&&(e+=`&shard=${this.config.blockHashShard}`),(yield this.get(e)).data[0].hash})}encodeValue(e){return this.escape(h.Buffer.from(e,"utf8").toString("base64"))}escape(e){return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}get(e){return Po(this,void 0,void 0,function*(){return yield ZZ.default.get(e,{headers:this.config.extraRequestHeaders})})}};cc.NativeAuthClient=Xb});var dL=w(e0=>{"use strict";c();Object.defineProperty(e0,"__esModule",{value:!0});e0.TransactionStatus=void 0;var ff=class{constructor(e){this.status=(e||"").toLowerCase()}static createUnknown(){return new ff("unknown")}isPending(){return this.status=="received"||this.status=="pending"}isExecuted(){return this.isSuccessful()||this.isFailed()||this.isInvalid()}isSuccessful(){return this.status=="executed"||this.status=="success"||this.status=="successful"}isFailed(){return this.status=="fail"||this.status=="failed"||this.status=="unsuccessful"||this.isInvalid()}isInvalid(){return this.status=="invalid"}toString(){return this.status}valueOf(){return this.status}equals(e){return e?this.status==e.status:!1}};e0.TransactionStatus=ff});var hc=w(Ft=>{"use strict";c();var tee=Ft&&Ft.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ree=Ft&&Ft.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),nee=Ft&&Ft.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&tee(e,t,r);return ree(e,t),e};Object.defineProperty(Ft,"__esModule",{value:!0});Ft.zeroPadStringIfOddLength=Ft.isPaddedHex=Ft.numberToPaddedHex=Ft.Nonce=Ft.Address=void 0;var pL=nee(Qf()),iee="erd",hf=class{constructor(e){this.value=e}static fromPubkey(e){let r=pL.toWords(e),n=pL.encode(iee,r);return new hf(n)}bech32(){return this.value}toString(){return this.bech32()}};Ft.Address=hf;var e_=class{constructor(e){this.value=e}valueOf(){return this.value}hex(){return gL(this.value)}};Ft.Nonce=e_;function gL(t){let e=t.toString(16);return yL(e)}Ft.numberToPaddedHex=gL;function see(t){t=t||"";let e=h.Buffer.from(t,"hex").toString("hex");return t.toUpperCase()==e.toUpperCase()}Ft.isPaddedHex=see;function yL(t){return t=t||"",t.length%2==1?"0"+t:t}Ft.zeroPadStringIfOddLength=yL});var wL=w(t0=>{"use strict";c();Object.defineProperty(t0,"__esModule",{value:!0});t0.TransactionReceipt=void 0;var mL=hc(),df=class{constructor(){this.value="",this.sender=new mL.Address(""),this.data="",this.hash=""}static fromHttpResponse(e){let r=new df;return r.value=(e.value||0).toString(),r.sender=new mL.Address(e.sender),r.data=e.data,r.hash=e.txHash,r}};t0.TransactionReceipt=df});var EL=w(Rn=>{"use strict";c();Object.defineProperty(Rn,"__esModule",{value:!0});Rn.ErrContractQuery=Rn.ErrNetworkProvider=Rn.ErrUnexpectedCondition=Rn.Err=void 0;var dc=class extends Error{constructor(e,r){super(e),this.inner=void 0,this.inner=r}};Rn.Err=dc;var t_=class extends dc{constructor(e){super(`Unexpected condition: [${e}]`)}};Rn.ErrUnexpectedCondition=t_;var r_=class extends dc{constructor(e,r,n){let i=`Request error on url [${e}]: [${r}]`;super(i,n)}};Rn.ErrNetworkProvider=r_;var n_=class extends dc{constructor(e){super(e.message.replace("executeQuery:",""))}};Rn.ErrContractQuery=n_});var AL=w(pc=>{"use strict";c();Object.defineProperty(pc,"__esModule",{value:!0});pc.TransactionEventTopic=pc.TransactionEvent=void 0;var vL=hc(),pf=class{constructor(e){this.address=new vL.Address(""),this.identifier="",this.topics=[],this.data="",Object.assign(this,e)}static fromHttpResponse(e){let r=new pf;return r.address=new vL.Address(e.address),r.identifier=e.identifier||"",r.topics=(e.topics||[]).map(n=>new r0(n)),r.data=h.Buffer.from(e.data||"","base64").toString(),r}findFirstOrNoneTopic(e){return this.topics.filter(r=>e(r))[0]}getLastTopic(){return this.topics[this.topics.length-1]}};pc.TransactionEvent=pf;var r0=class{constructor(e){this.raw=h.Buffer.from(e||"","base64")}toString(){return this.raw.toString("utf8")}hex(){return this.raw.toString("hex")}valueOf(){return this.raw}};pc.TransactionEventTopic=r0});var i_=w(n0=>{"use strict";c();Object.defineProperty(n0,"__esModule",{value:!0});n0.TransactionLogs=void 0;var oee=EL(),bL=hc(),aee=AL(),gf=class{constructor(e){this.address=new bL.Address(""),this.events=[],Object.assign(this,e)}static fromHttpResponse(e){let r=new gf;return r.address=new bL.Address(e.address),r.events=(e.events||[]).map(n=>aee.TransactionEvent.fromHttpResponse(n)),r}findSingleOrNoneEvent(e,r){let n=this.findEvents(e,r);if(n.length>1)throw new oee.ErrUnexpectedCondition(`more than one event of type ${e}`);return n[0]}findFirstOrNoneEvent(e,r){return this.findEvents(e,r)[0]}findEvents(e,r){let n=this.events.filter(i=>i.identifier==e);return r&&(n=n.filter(i=>r(i))),n}};n0.TransactionLogs=gf});var IL=w(yc=>{"use strict";c();Object.defineProperty(yc,"__esModule",{value:!0});yc.ContractResultItem=yc.ContractResults=void 0;var _L=i_(),i0=hc(),gc=class{constructor(e){this.items=e,this.items.sort(function(r,n){return r.nonce.valueOf()-n.nonce.valueOf()})}static fromProxyHttpResponse(e){let r=e.map(n=>ai.fromProxyHttpResponse(n));return new gc(r)}static fromApiHttpResponse(e){let r=e.map(n=>ai.fromApiHttpResponse(n));return new gc(r)}};yc.ContractResults=gc;var ai=class{constructor(e){this.hash="",this.nonce=0,this.value="",this.receiver=new i0.Address(""),this.sender=new i0.Address(""),this.data="",this.previousHash="",this.originalHash="",this.gasLimit=0,this.gasPrice=0,this.callType=0,this.returnMessage="",this.logs=new _L.TransactionLogs,Object.assign(this,e)}static fromProxyHttpResponse(e){return ai.fromHttpResponse(e)}static fromApiHttpResponse(e){let r=ai.fromHttpResponse(e);return r.data=h.Buffer.from(r.data,"base64").toString(),r.callType=Number(r.callType),r}static fromHttpResponse(e){let r=new ai;return r.hash=e.hash,r.nonce=Number(e.nonce||0),r.value=(e.value||0).toString(),r.receiver=new i0.Address(e.receiver),r.sender=new i0.Address(e.sender),r.previousHash=e.prevTxHash,r.originalHash=e.originalTxHash,r.gasLimit=Number(e.gasLimit||0),r.gasPrice=Number(e.gasPrice||0),r.data=e.data||"",r.callType=e.callType,r.returnMessage=e.returnMessage,r.logs=_L.TransactionLogs.fromHttpResponse(e.logs||{}),r}};yc.ContractResultItem=ai});var SL=w(cs=>{"use strict";c();var uee=cs&&cs.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(cs,"__esModule",{value:!0});cs.EsdtContractAddress=cs.MaxUint64AsBigNumber=void 0;var cee=uee(Yt()),lee=hc();cs.MaxUint64AsBigNumber=new cee.default("18446744073709551615");cs.EsdtContractAddress=new lee.Address("erd1qqqqqqqqqqqqqqqpqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqzllls8a5w6u")});var CL=w(mc=>{"use strict";c();var fee=mc&&mc.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(mc,"__esModule",{value:!0});mc.ContractQueryResponse=void 0;var hee=fee(Yt()),dee=SL(),yf=class{constructor(e){this.returnData=e?.returnData||[],this.returnCode=e?.returnCode||"",this.returnMessage=e?.returnMessage||"",this.gasUsed=e?.gasUsed||0}static fromHttpResponse(e){let r=e.returnData||e.ReturnData,n=e.returnCode||e.ReturnCode,i=e.returnMessage||e.ReturnMessage,s=new hee.default(e.gasRemaining||e.GasRemaining||0),o=dee.MaxUint64AsBigNumber.minus(s).toNumber();return new yf({returnData:r,returnCode:n,returnMessage:i,gasUsed:o})}getReturnDataParts(){return this.returnData.map(e=>h.Buffer.from(e||"","base64"))}toJSON(){return{returnData:this.returnData,returnCode:this.returnCode,returnMessage:this.returnMessage,gasUsed:this.gasUsed.valueOf()}}};mc.ContractQueryResponse=yf});var TL=w(s0=>{"use strict";c();Object.defineProperty(s0,"__esModule",{value:!0});s0.ContractQueryRequest=void 0;var s_=class{constructor(e){this.query=e}toHttpRequest(){var e;let r={},n=this.query;return r.scAddress=n.address.bech32(),r.caller=!((e=n.caller)===null||e===void 0)&&e.bech32()?n.caller.bech32():void 0,r.funcName=n.func.toString(),r.value=n.value?n.value.toString():void 0,r.args=n.getEncodedArguments(),r}};s0.ContractQueryRequest=s_});var UL=w((S0e,ML)=>{c();ML.exports=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}});var ls=w(Lo=>{c();var o_,pee=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Lo.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};Lo.getSymbolTotalCodewords=function(e){return pee[e]};Lo.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};Lo.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');o_=e};Lo.isKanjiModeEnabled=function(){return typeof o_<"u"};Lo.toSJIS=function(e){return o_(e)}});var u0=w(Rr=>{c();Rr.L={bit:1};Rr.M={bit:0};Rr.Q={bit:3};Rr.H={bit:2};function gee(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return Rr.L;case"m":case"medium":return Rr.M;case"q":case"quartile":return Rr.Q;case"h":case"high":return Rr.H;default:throw new Error("Unknown EC Level: "+t)}}Rr.isValid=function(e){return e&&typeof e.bit<"u"&&e.bit>=0&&e.bit<4};Rr.from=function(e,r){if(Rr.isValid(e))return e;try{return gee(e)}catch{return r}}});var jL=w((D0e,VL)=>{c();function qL(){this.buffer=[],this.length=0}qL.prototype={get:function(t){let e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let r=0;r<e;r++)this.putBit((t>>>e-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){let e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};VL.exports=qL});var GL=w((R0e,HL)=>{c();function mf(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}mf.prototype.set=function(t,e,r,n){let i=t*this.size+e;this.data[i]=r,n&&(this.reservedBit[i]=!0)};mf.prototype.get=function(t,e){return this.data[t*this.size+e]};mf.prototype.xor=function(t,e,r){this.data[t*this.size+e]^=r};mf.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};HL.exports=mf});var QL=w(c0=>{c();var yee=ls().getSymbolSize;c0.getRowColCoords=function(e){if(e===1)return[];let r=Math.floor(e/7)+2,n=yee(e),i=n===145?26:Math.ceil((n-13)/(2*r-2))*2,s=[n-7];for(let o=1;o<r-1;o++)s[o]=s[o-1]-i;return s.push(6),s.reverse()};c0.getPositions=function(e){let r=[],n=c0.getRowColCoords(e),i=n.length;for(let s=0;s<i;s++)for(let o=0;o<i;o++)s===0&&o===0||s===0&&o===i-1||s===i-1&&o===0||r.push([n[s],n[o]]);return r}});var WL=w(zL=>{c();var mee=ls().getSymbolSize,kL=7;zL.getPositions=function(e){let r=mee(e);return[[0,0],[r-kL,0],[0,r-kL]]}});var KL=w(Ke=>{c();Ke.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var Fo={N1:3,N2:3,N3:40,N4:10};Ke.isValid=function(e){return e!=null&&e!==""&&!isNaN(e)&&e>=0&&e<=7};Ke.from=function(e){return Ke.isValid(e)?parseInt(e,10):void 0};Ke.getPenaltyN1=function(e){let r=e.size,n=0,i=0,s=0,o=null,a=null;for(let u=0;u<r;u++){i=s=0,o=a=null;for(let l=0;l<r;l++){let f=e.get(u,l);f===o?i++:(i>=5&&(n+=Fo.N1+(i-5)),o=f,i=1),f=e.get(l,u),f===a?s++:(s>=5&&(n+=Fo.N1+(s-5)),a=f,s=1)}i>=5&&(n+=Fo.N1+(i-5)),s>=5&&(n+=Fo.N1+(s-5))}return n};Ke.getPenaltyN2=function(e){let r=e.size,n=0;for(let i=0;i<r-1;i++)for(let s=0;s<r-1;s++){let o=e.get(i,s)+e.get(i,s+1)+e.get(i+1,s)+e.get(i+1,s+1);(o===4||o===0)&&n++}return n*Fo.N2};Ke.getPenaltyN3=function(e){let r=e.size,n=0,i=0,s=0;for(let o=0;o<r;o++){i=s=0;for(let a=0;a<r;a++)i=i<<1&2047|e.get(o,a),a>=10&&(i===1488||i===93)&&n++,s=s<<1&2047|e.get(a,o),a>=10&&(s===1488||s===93)&&n++}return n*Fo.N3};Ke.getPenaltyN4=function(e){let r=0,n=e.data.length;for(let s=0;s<n;s++)r+=e.data[s];return Math.abs(Math.ceil(r*100/n/5)-10)*Fo.N4};function wee(t,e,r){switch(t){case Ke.Patterns.PATTERN000:return(e+r)%2===0;case Ke.Patterns.PATTERN001:return e%2===0;case Ke.Patterns.PATTERN010:return r%3===0;case Ke.Patterns.PATTERN011:return(e+r)%3===0;case Ke.Patterns.PATTERN100:return(Math.floor(e/2)+Math.floor(r/3))%2===0;case Ke.Patterns.PATTERN101:return e*r%2+e*r%3===0;case Ke.Patterns.PATTERN110:return(e*r%2+e*r%3)%2===0;case Ke.Patterns.PATTERN111:return(e*r%3+(e+r)%2)%2===0;default:throw new Error("bad maskPattern:"+t)}}Ke.applyMask=function(e,r){let n=r.size;for(let i=0;i<n;i++)for(let s=0;s<n;s++)r.isReserved(s,i)||r.xor(s,i,wee(e,s,i))};Ke.getBestMask=function(e,r){let n=Object.keys(Ke.Patterns).length,i=0,s=1/0;for(let o=0;o<n;o++){r(o),Ke.applyMask(o,e);let a=Ke.getPenaltyN1(e)+Ke.getPenaltyN2(e)+Ke.getPenaltyN3(e)+Ke.getPenaltyN4(e);Ke.applyMask(o,e),a<s&&(s=a,i=o)}return i}});var u_=w(a_=>{c();var fs=u0(),l0=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],f0=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];a_.getBlocksCount=function(e,r){switch(r){case fs.L:return l0[(e-1)*4+0];case fs.M:return l0[(e-1)*4+1];case fs.Q:return l0[(e-1)*4+2];case fs.H:return l0[(e-1)*4+3];default:return}};a_.getTotalCodewordsCount=function(e,r){switch(r){case fs.L:return f0[(e-1)*4+0];case fs.M:return f0[(e-1)*4+1];case fs.Q:return f0[(e-1)*4+2];case fs.H:return f0[(e-1)*4+3];default:return}}});var $L=w(d0=>{c();var wf=new Uint8Array(512),h0=new Uint8Array(256);(function(){let e=1;for(let r=0;r<255;r++)wf[r]=e,h0[e]=r,e<<=1,e&256&&(e^=285);for(let r=255;r<512;r++)wf[r]=wf[r-255]})();d0.log=function(e){if(e<1)throw new Error("log("+e+")");return h0[e]};d0.exp=function(e){return wf[e]};d0.mul=function(e,r){return e===0||r===0?0:wf[h0[e]+h0[r]]}});var YL=w(Ef=>{c();var c_=$L();Ef.mul=function(e,r){let n=new Uint8Array(e.length+r.length-1);for(let i=0;i<e.length;i++)for(let s=0;s<r.length;s++)n[i+s]^=c_.mul(e[i],r[s]);return n};Ef.mod=function(e,r){let n=new Uint8Array(e);for(;n.length-r.length>=0;){let i=n[0];for(let o=0;o<r.length;o++)n[o]^=c_.mul(r[o],i);let s=0;for(;s<n.length&&n[s]===0;)s++;n=n.slice(s)}return n};Ef.generateECPolynomial=function(e){let r=new Uint8Array([1]);for(let n=0;n<e;n++)r=Ef.mul(r,new Uint8Array([1,c_.exp(n)]));return r}});var ZL=w((W0e,XL)=>{c();var JL=YL();function l_(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}l_.prototype.initialize=function(e){this.degree=e,this.genPoly=JL.generateECPolynomial(this.degree)};l_.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");let r=new Uint8Array(e.length+this.degree);r.set(e);let n=JL.mod(r,this.genPoly),i=this.degree-n.length;if(i>0){let s=new Uint8Array(this.degree);return s.set(n,i),s}return n};XL.exports=l_});var f_=w(eF=>{c();eF.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}});var h_=w(ui=>{c();var tF="[0-9]+",Eee="[A-Z $%*+\\-./:]+",vf="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";vf=vf.replace(/u/g,"\\u");var vee="(?:(?![A-Z0-9 $%*+\\-./:]|"+vf+`)(?:.|[\r
]))+`;ui.KANJI=new RegExp(vf,"g");ui.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");ui.BYTE=new RegExp(vee,"g");ui.NUMERIC=new RegExp(tF,"g");ui.ALPHANUMERIC=new RegExp(Eee,"g");var Aee=new RegExp("^"+vf+"$"),bee=new RegExp("^"+tF+"$"),_ee=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");ui.testKanji=function(e){return Aee.test(e)};ui.testNumeric=function(e){return bee.test(e)};ui.testAlphanumeric=function(e){return _ee.test(e)}});var hs=w(Et=>{c();var Iee=f_(),d_=h_();Et.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]};Et.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]};Et.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]};Et.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]};Et.MIXED={bit:-1};Et.getCharCountIndicator=function(e,r){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!Iee.isValid(r))throw new Error("Invalid version: "+r);return r>=1&&r<10?e.ccBits[0]:r<27?e.ccBits[1]:e.ccBits[2]};Et.getBestModeForData=function(e){return d_.testNumeric(e)?Et.NUMERIC:d_.testAlphanumeric(e)?Et.ALPHANUMERIC:d_.testKanji(e)?Et.KANJI:Et.BYTE};Et.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")};Et.isValid=function(e){return e&&e.bit&&e.ccBits};function See(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"numeric":return Et.NUMERIC;case"alphanumeric":return Et.ALPHANUMERIC;case"kanji":return Et.KANJI;case"byte":return Et.BYTE;default:throw new Error("Unknown mode: "+t)}}Et.from=function(e,r){if(Et.isValid(e))return e;try{return See(e)}catch{return r}}});var oF=w(Mo=>{c();var p0=ls(),Cee=u_(),rF=u0(),ds=hs(),p_=f_(),iF=7973,nF=p0.getBCHDigit(iF);function Tee(t,e,r){for(let n=1;n<=40;n++)if(e<=Mo.getCapacity(n,r,t))return n}function sF(t,e){return ds.getCharCountIndicator(t,e)+4}function xee(t,e){let r=0;return t.forEach(function(n){let i=sF(n.mode,e);r+=i+n.getBitsLength()}),r}function Nee(t,e){for(let r=1;r<=40;r++)if(xee(t,r)<=Mo.getCapacity(r,e,ds.MIXED))return r}Mo.from=function(e,r){return p_.isValid(e)?parseInt(e,10):r};Mo.getCapacity=function(e,r,n){if(!p_.isValid(e))throw new Error("Invalid QR Code version");typeof n>"u"&&(n=ds.BYTE);let i=p0.getSymbolTotalCodewords(e),s=Cee.getTotalCodewordsCount(e,r),o=(i-s)*8;if(n===ds.MIXED)return o;let a=o-sF(n,e);switch(n){case ds.NUMERIC:return Math.floor(a/10*3);case ds.ALPHANUMERIC:return Math.floor(a/11*2);case ds.KANJI:return Math.floor(a/13);case ds.BYTE:default:return Math.floor(a/8)}};Mo.getBestVersionForData=function(e,r){let n,i=rF.from(r,rF.M);if(Array.isArray(e)){if(e.length>1)return Nee(e,i);if(e.length===0)return 1;n=e[0]}else n=e;return Tee(n.mode,n.getLength(),i)};Mo.getEncodedBits=function(e){if(!p_.isValid(e)||e<7)throw new Error("Invalid QR Code version");let r=e<<12;for(;p0.getBCHDigit(r)-nF>=0;)r^=iF<<p0.getBCHDigit(r)-nF;return e<<12|r}});var lF=w(cF=>{c();var g_=ls(),uF=1335,Oee=21522,aF=g_.getBCHDigit(uF);cF.getEncodedBits=function(e,r){let n=e.bit<<3|r,i=n<<10;for(;g_.getBCHDigit(i)-aF>=0;)i^=uF<<g_.getBCHDigit(i)-aF;return(n<<10|i)^Oee}});var hF=w((sye,fF)=>{c();var Dee=hs();function wc(t){this.mode=Dee.NUMERIC,this.data=t.toString()}wc.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};wc.prototype.getLength=function(){return this.data.length};wc.prototype.getBitsLength=function(){return wc.getBitsLength(this.data.length)};wc.prototype.write=function(e){let r,n,i;for(r=0;r+3<=this.data.length;r+=3)n=this.data.substr(r,3),i=parseInt(n,10),e.put(i,10);let s=this.data.length-r;s>0&&(n=this.data.substr(r),i=parseInt(n,10),e.put(i,s*3+1))};fF.exports=wc});var pF=w((aye,dF)=>{c();var Pee=hs(),y_=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Ec(t){this.mode=Pee.ALPHANUMERIC,this.data=t}Ec.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};Ec.prototype.getLength=function(){return this.data.length};Ec.prototype.getBitsLength=function(){return Ec.getBitsLength(this.data.length)};Ec.prototype.write=function(e){let r;for(r=0;r+2<=this.data.length;r+=2){let n=y_.indexOf(this.data[r])*45;n+=y_.indexOf(this.data[r+1]),e.put(n,11)}this.data.length%2&&e.put(y_.indexOf(this.data[r]),6)};dF.exports=Ec});var yF=w((cye,gF)=>{"use strict";c();gF.exports=function(e){for(var r=[],n=e.length,i=0;i<n;i++){var s=e.charCodeAt(i);if(s>=55296&&s<=56319&&n>i+1){var o=e.charCodeAt(i+1);o>=56320&&o<=57343&&(s=(s-55296)*1024+o-56320+65536,i+=1)}if(s<128){r.push(s);continue}if(s<2048){r.push(s>>6|192),r.push(s&63|128);continue}if(s<55296||s>=57344&&s<65536){r.push(s>>12|224),r.push(s>>6&63|128),r.push(s&63|128);continue}if(s>=65536&&s<=1114111){r.push(s>>18|240),r.push(s>>12&63|128),r.push(s>>6&63|128),r.push(s&63|128);continue}r.push(239,191,189)}return new Uint8Array(r).buffer}});var wF=w((fye,mF)=>{c();var Ree=yF(),Bee=hs();function vc(t){this.mode=Bee.BYTE,typeof t=="string"&&(t=Ree(t)),this.data=new Uint8Array(t)}vc.getBitsLength=function(e){return e*8};vc.prototype.getLength=function(){return this.data.length};vc.prototype.getBitsLength=function(){return vc.getBitsLength(this.data.length)};vc.prototype.write=function(t){for(let e=0,r=this.data.length;e<r;e++)t.put(this.data[e],8)};mF.exports=vc});var vF=w((dye,EF)=>{c();var Lee=hs(),Fee=ls();function Ac(t){this.mode=Lee.KANJI,this.data=t}Ac.getBitsLength=function(e){return e*13};Ac.prototype.getLength=function(){return this.data.length};Ac.prototype.getBitsLength=function(){return Ac.getBitsLength(this.data.length)};Ac.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let r=Fee.toSJIS(this.data[e]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),t.put(r,13)}};EF.exports=Ac});var AF=w((gye,m_)=>{"use strict";c();var Af={single_source_shortest_paths:function(t,e,r){var n={},i={};i[e]=0;var s=Af.PriorityQueue.make();s.push(e,0);for(var o,a,u,l,f,d,y,m,v;!s.empty();){o=s.pop(),a=o.value,l=o.cost,f=t[a]||{};for(u in f)f.hasOwnProperty(u)&&(d=f[u],y=l+d,m=i[u],v=typeof i[u]>"u",(v||m>y)&&(i[u]=y,s.push(u,y),n[u]=a))}if(typeof r<"u"&&typeof i[r]>"u"){var T=["Could not find a path from ",e," to ",r,"."].join("");throw new Error(T)}return n},extract_shortest_path_from_predecessor_list:function(t,e){for(var r=[],n=e,i;n;)r.push(n),i=t[n],n=t[n];return r.reverse(),r},find_path:function(t,e,r){var n=Af.single_source_shortest_paths(t,e,r);return Af.extract_shortest_path_from_predecessor_list(n,r)},PriorityQueue:{make:function(t){var e=Af.PriorityQueue,r={},n;t=t||{};for(n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);return r.queue=[],r.sorter=t.sorter||e.default_sorter,r},default_sorter:function(t,e){return t.cost-e.cost},push:function(t,e){var r={value:t,cost:e};this.queue.push(r),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};typeof m_<"u"&&(m_.exports=Af)});var NF=w(bc=>{c();var Ve=hs(),IF=hF(),SF=pF(),CF=wF(),TF=vF(),bf=h_(),g0=ls(),Mee=AF();function bF(t){return unescape(encodeURIComponent(t)).length}function _f(t,e,r){let n=[],i;for(;(i=t.exec(r))!==null;)n.push({data:i[0],index:i.index,mode:e,length:i[0].length});return n}function xF(t){let e=_f(bf.NUMERIC,Ve.NUMERIC,t),r=_f(bf.ALPHANUMERIC,Ve.ALPHANUMERIC,t),n,i;return g0.isKanjiModeEnabled()?(n=_f(bf.BYTE,Ve.BYTE,t),i=_f(bf.KANJI,Ve.KANJI,t)):(n=_f(bf.BYTE_KANJI,Ve.BYTE,t),i=[]),e.concat(r,n,i).sort(function(o,a){return o.index-a.index}).map(function(o){return{data:o.data,mode:o.mode,length:o.length}})}function w_(t,e){switch(e){case Ve.NUMERIC:return IF.getBitsLength(t);case Ve.ALPHANUMERIC:return SF.getBitsLength(t);case Ve.KANJI:return TF.getBitsLength(t);case Ve.BYTE:return CF.getBitsLength(t)}}function Uee(t){return t.reduce(function(e,r){let n=e.length-1>=0?e[e.length-1]:null;return n&&n.mode===r.mode?(e[e.length-1].data+=r.data,e):(e.push(r),e)},[])}function qee(t){let e=[];for(let r=0;r<t.length;r++){let n=t[r];switch(n.mode){case Ve.NUMERIC:e.push([n,{data:n.data,mode:Ve.ALPHANUMERIC,length:n.length},{data:n.data,mode:Ve.BYTE,length:n.length}]);break;case Ve.ALPHANUMERIC:e.push([n,{data:n.data,mode:Ve.BYTE,length:n.length}]);break;case Ve.KANJI:e.push([n,{data:n.data,mode:Ve.BYTE,length:bF(n.data)}]);break;case Ve.BYTE:e.push([{data:n.data,mode:Ve.BYTE,length:bF(n.data)}])}}return e}function Vee(t,e){let r={},n={start:{}},i=["start"];for(let s=0;s<t.length;s++){let o=t[s],a=[];for(let u=0;u<o.length;u++){let l=o[u],f=""+s+u;a.push(f),r[f]={node:l,lastCount:0},n[f]={};for(let d=0;d<i.length;d++){let y=i[d];r[y]&&r[y].node.mode===l.mode?(n[y][f]=w_(r[y].lastCount+l.length,l.mode)-w_(r[y].lastCount,l.mode),r[y].lastCount+=l.length):(r[y]&&(r[y].lastCount=l.length),n[y][f]=w_(l.length,l.mode)+4+Ve.getCharCountIndicator(l.mode,e))}}i=a}for(let s=0;s<i.length;s++)n[i[s]].end=0;return{map:n,table:r}}function _F(t,e){let r,n=Ve.getBestModeForData(t);if(r=Ve.from(e,n),r!==Ve.BYTE&&r.bit<n.bit)throw new Error('"'+t+'" cannot be encoded with mode '+Ve.toString(r)+`.
 Suggested mode is: `+Ve.toString(n));switch(r===Ve.KANJI&&!g0.isKanjiModeEnabled()&&(r=Ve.BYTE),r){case Ve.NUMERIC:return new IF(t);case Ve.ALPHANUMERIC:return new SF(t);case Ve.KANJI:return new TF(t);case Ve.BYTE:return new CF(t)}}bc.fromArray=function(e){return e.reduce(function(r,n){return typeof n=="string"?r.push(_F(n,null)):n.data&&r.push(_F(n.data,n.mode)),r},[])};bc.fromString=function(e,r){let n=xF(e,g0.isKanjiModeEnabled()),i=qee(n),s=Vee(i,r),o=Mee.find_path(s.map,"start","end"),a=[];for(let u=1;u<o.length-1;u++)a.push(s.table[o[u]].node);return bc.fromArray(Uee(a))};bc.rawSplit=function(e){return bc.fromArray(xF(e,g0.isKanjiModeEnabled()))}});var DF=w(OF=>{c();var m0=ls(),E_=u0(),jee=jL(),Hee=GL(),Gee=QL(),Qee=WL(),b_=KL(),__=u_(),kee=ZL(),y0=oF(),zee=lF(),Wee=hs(),v_=NF();function Kee(t,e){let r=t.size,n=Qee.getPositions(e);for(let i=0;i<n.length;i++){let s=n[i][0],o=n[i][1];for(let a=-1;a<=7;a++)if(!(s+a<=-1||r<=s+a))for(let u=-1;u<=7;u++)o+u<=-1||r<=o+u||(a>=0&&a<=6&&(u===0||u===6)||u>=0&&u<=6&&(a===0||a===6)||a>=2&&a<=4&&u>=2&&u<=4?t.set(s+a,o+u,!0,!0):t.set(s+a,o+u,!1,!0))}}function $ee(t){let e=t.size;for(let r=8;r<e-8;r++){let n=r%2===0;t.set(r,6,n,!0),t.set(6,r,n,!0)}}function Yee(t,e){let r=Gee.getPositions(e);for(let n=0;n<r.length;n++){let i=r[n][0],s=r[n][1];for(let o=-2;o<=2;o++)for(let a=-2;a<=2;a++)o===-2||o===2||a===-2||a===2||o===0&&a===0?t.set(i+o,s+a,!0,!0):t.set(i+o,s+a,!1,!0)}}function Jee(t,e){let r=t.size,n=y0.getEncodedBits(e),i,s,o;for(let a=0;a<18;a++)i=Math.floor(a/3),s=a%3+r-8-3,o=(n>>a&1)===1,t.set(i,s,o,!0),t.set(s,i,o,!0)}function A_(t,e,r){let n=t.size,i=zee.getEncodedBits(e,r),s,o;for(s=0;s<15;s++)o=(i>>s&1)===1,s<6?t.set(s,8,o,!0):s<8?t.set(s+1,8,o,!0):t.set(n-15+s,8,o,!0),s<8?t.set(8,n-s-1,o,!0):s<9?t.set(8,15-s-1+1,o,!0):t.set(8,15-s-1,o,!0);t.set(n-8,8,1,!0)}function Xee(t,e){let r=t.size,n=-1,i=r-1,s=7,o=0;for(let a=r-1;a>0;a-=2)for(a===6&&a--;;){for(let u=0;u<2;u++)if(!t.isReserved(i,a-u)){let l=!1;o<e.length&&(l=(e[o]>>>s&1)===1),t.set(i,a-u,l),s--,s===-1&&(o++,s=7)}if(i+=n,i<0||r<=i){i-=n,n=-n;break}}}function Zee(t,e,r){let n=new jee;r.forEach(function(u){n.put(u.mode.bit,4),n.put(u.getLength(),Wee.getCharCountIndicator(u.mode,t)),u.write(n)});let i=m0.getSymbolTotalCodewords(t),s=__.getTotalCodewordsCount(t,e),o=(i-s)*8;for(n.getLengthInBits()+4<=o&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);let a=(o-n.getLengthInBits())/8;for(let u=0;u<a;u++)n.put(u%2?17:236,8);return ete(n,t,e)}function ete(t,e,r){let n=m0.getSymbolTotalCodewords(e),i=__.getTotalCodewordsCount(e,r),s=n-i,o=__.getBlocksCount(e,r),a=n%o,u=o-a,l=Math.floor(n/o),f=Math.floor(s/o),d=f+1,y=l-f,m=new kee(y),v=0,T=new Array(o),B=new Array(o),A=0,D=new Uint8Array(t.buffer);for(let _=0;_<o;_++){let C=_<u?f:d;T[_]=D.slice(v,v+C),B[_]=m.encode(T[_]),v+=C,A=Math.max(A,C)}let x=new Uint8Array(n),R=0,P,L;for(P=0;P<A;P++)for(L=0;L<o;L++)P<T[L].length&&(x[R++]=T[L][P]);for(P=0;P<y;P++)for(L=0;L<o;L++)x[R++]=B[L][P];return x}function tte(t,e,r,n){let i;if(Array.isArray(t))i=v_.fromArray(t);else if(typeof t=="string"){let l=e;if(!l){let f=v_.rawSplit(t);l=y0.getBestVersionForData(f,r)}i=v_.fromString(t,l||40)}else throw new Error("Invalid data");let s=y0.getBestVersionForData(i,r);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=s;else if(e<s)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+s+`.
`);let o=Zee(e,r,i),a=m0.getSymbolSize(e),u=new Hee(a);return Kee(u,e),$ee(u),Yee(u,e),A_(u,r,0),e>=7&&Jee(u,e),Xee(u,o),isNaN(n)&&(n=b_.getBestMask(u,A_.bind(null,u,r))),b_.applyMask(n,u),A_(u,r,n),{modules:u,version:e,errorCorrectionLevel:r,maskPattern:n,segments:i}}OF.create=function(e,r){if(typeof e>"u"||e==="")throw new Error("No input text");let n=E_.M,i,s;return typeof r<"u"&&(n=E_.from(r.errorCorrectionLevel,E_.M),i=y0.from(r.version),s=b_.from(r.maskPattern),r.toSJISFunc&&m0.setToSJISFunction(r.toSJISFunc)),tte(e,i,n,s)}});var I_=w(Uo=>{c();function PF(t){if(typeof t=="number"&&(t=t.toString()),typeof t!="string")throw new Error("Color should be defined as hex string");let e=t.slice().replace("#","").split("");if(e.length<3||e.length===5||e.length>8)throw new Error("Invalid hex color: "+t);(e.length===3||e.length===4)&&(e=Array.prototype.concat.apply([],e.map(function(n){return[n,n]}))),e.length===6&&e.push("F","F");let r=parseInt(e.join(""),16);return{r:r>>24&255,g:r>>16&255,b:r>>8&255,a:r&255,hex:"#"+e.slice(0,6).join("")}}Uo.getOptions=function(e){e||(e={}),e.color||(e.color={});let r=typeof e.margin>"u"||e.margin===null||e.margin<0?4:e.margin,n=e.width&&e.width>=21?e.width:void 0,i=e.scale||4;return{width:n,scale:n?4:i,margin:r,color:{dark:PF(e.color.dark||"#000000ff"),light:PF(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}};Uo.getScale=function(e,r){return r.width&&r.width>=e+r.margin*2?r.width/(e+r.margin*2):r.scale};Uo.getImageWidth=function(e,r){let n=Uo.getScale(e,r);return Math.floor((e+r.margin*2)*n)};Uo.qrToImageData=function(e,r,n){let i=r.modules.size,s=r.modules.data,o=Uo.getScale(i,n),a=Math.floor((i+n.margin*2)*o),u=n.margin*o,l=[n.color.light,n.color.dark];for(let f=0;f<a;f++)for(let d=0;d<a;d++){let y=(f*a+d)*4,m=n.color.light;if(f>=u&&d>=u&&f<a-u&&d<a-u){let v=Math.floor((f-u)/o),T=Math.floor((d-u)/o);m=l[s[v*i+T]?1:0]}e[y++]=m.r,e[y++]=m.g,e[y++]=m.b,e[y]=m.a}}});var RF=w(w0=>{c();var S_=I_();function rte(t,e,r){t.clearRect(0,0,e.width,e.height),e.style||(e.style={}),e.height=r,e.width=r,e.style.height=r+"px",e.style.width=r+"px"}function nte(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}w0.render=function(e,r,n){let i=n,s=r;typeof i>"u"&&(!r||!r.getContext)&&(i=r,r=void 0),r||(s=nte()),i=S_.getOptions(i);let o=S_.getImageWidth(e.modules.size,i),a=s.getContext("2d"),u=a.createImageData(o,o);return S_.qrToImageData(u.data,e,i),rte(a,s,o),a.putImageData(u,0,0),s};w0.renderToDataURL=function(e,r,n){let i=n;typeof i>"u"&&(!r||!r.getContext)&&(i=r,r=void 0),i||(i={});let s=w0.render(e,r,i),o=i.type||"image/png",a=i.rendererOpts||{};return s.toDataURL(o,a.quality)}});var FF=w(LF=>{c();var ite=I_();function BF(t,e){let r=t.a/255,n=e+'="'+t.hex+'"';return r<1?n+" "+e+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function C_(t,e,r){let n=t+e;return typeof r<"u"&&(n+=" "+r),n}function ste(t,e,r){let n="",i=0,s=!1,o=0;for(let a=0;a<t.length;a++){let u=Math.floor(a%e),l=Math.floor(a/e);!u&&!s&&(s=!0),t[a]?(o++,a>0&&u>0&&t[a-1]||(n+=s?C_("M",u+r,.5+l+r):C_("m",i,0),i=0,s=!1),u+1<e&&t[a+1]||(n+=C_("h",o),o=0)):i++}return n}LF.render=function(e,r,n){let i=ite.getOptions(r),s=e.modules.size,o=e.modules.data,a=s+i.margin*2,u=i.color.light.a?"<path "+BF(i.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",l="<path "+BF(i.color.dark,"stroke")+' d="'+ste(o,s,i.margin)+'"/>',f='viewBox="0 0 '+a+" "+a+'"',y='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+f+' shape-rendering="crispEdges">'+u+l+`</svg>
`;return typeof n=="function"&&n(null,y),y}});var UF=w(If=>{c();var ote=UL(),T_=DF(),MF=RF(),ate=FF();function x_(t,e,r,n,i){let s=[].slice.call(arguments,1),o=s.length,a=typeof s[o-1]=="function";if(!a&&!ote())throw new Error("Callback required as last argument");if(a){if(o<2)throw new Error("Too few arguments provided");o===2?(i=r,r=e,e=n=void 0):o===3&&(e.getContext&&typeof i>"u"?(i=n,n=void 0):(i=n,n=r,r=e,e=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(r=e,e=n=void 0):o===2&&!e.getContext&&(n=r,r=e,e=void 0),new Promise(function(u,l){try{let f=T_.create(r,n);u(t(f,e,n))}catch(f){l(f)}})}try{let u=T_.create(r,n);i(null,t(u,e,n))}catch(u){i(u)}}If.create=T_.create;If.toCanvas=x_.bind(null,MF.render);If.toDataURL=x_.bind(null,MF.renderToDataURL);If.toString=x_.bind(null,function(t,e,r){return ate.render(t,r)})});var JF=w(ps=>{"use strict";c();var Ete=ps&&ps.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),YF=ps&&ps.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Ete(e,t,r)};Object.defineProperty(ps,"__esModule",{value:!0});YF(uf(),ps);YF(_b(),ps)});c();var vte=_e(iI(),1),Ate=_e(HT(),1),bte=_e(QT(),1),_te=_e(tr(),1),Ite=_e($h(),1),Ste=_e(Wc(),1),Cte=_e(jc(),1),Tte=_e(Rw(),1),xte=_e(D2(),1),Nte=_e(Zh(),1),i5=_e(yi(),1),Bn=_e(Rc(),1),s5=_e(Oc(),1),o5=_e(aa(),1);c();c();var q2=_e(RE(),1);c();c();var Id="elvenjs_state",F2="https://devnet-api.multiversx.com";var Sd="/dapp/init",Cd="devnet",M2="https://maiar.page.link/?apn=com.elrond.maiar.wallet&isi=1519405832&ibi=com.elrond.maiar.wallet&link=https://xportal.com/",U2=["wss://relay.walletconnect.com"],An={devnet:{id:"devnet",shortId:"D",name:"Devnet",egldLabel:"xEGLD",egldDenomination:"18",decimals:"4",gasPerDataByte:"1500",walletAddress:"https://devnet-wallet.multiversx.com",apiAddress:"https://devnet-api.multiversx.com",explorerAddress:"https://devnet-explorer.multiversx.com",apiTimeout:1e4},testnet:{id:"testnet",shortId:"T",name:"Testnet",egldLabel:"xEGLD",egldDenomination:"18",decimals:"4",gasPerDataByte:"1500",walletAddress:"https://testnet-wallet.multiversx.com",apiAddress:"https://testnet-api.multiversx.com",explorerAddress:"https://testnet-explorer.multiversx.com",apiTimeout:1e4},mainnet:{id:"mainnet",shortId:"1",name:"Mainnet",egldLabel:"EGLD",egldDenomination:"18",decimals:"4",gasPerDataByte:"1500",walletAddress:"https://wallet.multiversx.com",apiAddress:"https://api.multiversx.com",explorerAddress:"https://explorer.multiversx.com",apiTimeout:1e4}};var Ie={get(t){let e=localStorage.getItem(Id);if(!e)return{};let r=JSON.parse(e);return t?r[t]:r},set(t,e){let r=this.get();r[t]=e,localStorage.setItem(Id,JSON.stringify(r))},clear(){localStorage.removeItem(Id)}};var Td=()=>Te(void 0,null,function*(){let t=q2.ExtensionProvider.getInstance();try{let e=yield t.init(),r=Ie.get();if(r!=null&&r.address&&t.setAddress(r.address),!e){console.warn("Something went wrong when trying to initialize the ExtensionProvider..");return}return t}catch(e){console.warn("Can't initialize the Dapp Provider!")}});var e5=_e(RE(),1),t5=_e(tf(),1),r5=_e(uf(),1),n5=_e(Zb(),1);c();var fL=_e(tf(),1);c();c();var Ce=class{static set(e,r){if(!e)return;let n=R_(xf({},this.events),{[e]:r});this.events=n}static get(e){if(!(!e||!this.events))return this.events[e]}static run(e,...r){var n,i;!e||!this.events||(i=(n=this.events)[e])==null||i.call(n,...r)}static clear(){this.events=void 0}};c();var Ro=(i=>(i.ledger="ledger",i.mobile="mobile",i.webWallet="web-wallet",i.browserExtension="browser-extension",i))(Ro||{});var lc=t=>Te(void 0,null,function*(){if(!t.dappProvider)throw new Error("Error: Logout failed: There is no active session!");Ce.run("onLoginPending");let e=yield t.dappProvider.logout();return e&&(Ie.clear(),Ce.run("onLogout")),e});c();var cL=_e(tr(),1),lL=_e($h(),1);c();var Lt=t=>typeof t=="string"?t.toUpperCase():t instanceof Error?t.message:`Error: ${JSON.stringify(t)}`;c();var fc=()=>new Date().setHours(new Date().getHours()+24),Xg=t=>Date.now()>t;var us=t=>Te(void 0,null,function*(){let e=Ie.get("address"),r=Ie.get("expires");if(!(r&&Xg(r))&&e&&t.networkProvider){let i=new cL.Address(e),s=new lL.Account(i);try{let o=yield t.networkProvider.getAccount(i);Ie.set("address",e),Ie.set("nonce",o.nonce.valueOf()),Ie.set("balance",o.balance.toString()),s.update(o)}catch(o){let a=Lt(o);console.warn(`Something went wrong trying to synchronize the user account: ${a}`)}}});c();function Zg(t){return t[Math.floor(Math.random()*t.length)]}var hL=t=>Te(void 0,null,function*(){if(!t.initOptions.walletConnectV2ProjectId||!t.initOptions.chainType)return;let e={onClientLogin:()=>{us(t),Ce.run("onLoggedIn")},onClientLogout:()=>lc(t),onClientEvent:i=>{console.log("wc2 session event: ",i)}},r=Zg(t.initOptions.walletConnectV2RelayAddresses),n=new fL.WalletConnectV2Provider(e,An[t.initOptions.chainType].shortId,r,t.initOptions.walletConnectV2ProjectId);try{return yield n.init(),n}catch(i){console.warn("Can't initialize the Dapp Provider!")}});c();var xL=_e(Yt(),1),o0=_e(tr(),1),NL=_e(dL(),1),OL=_e(wL(),1),DL=_e(i_(),1),PL=_e(IL(),1),RL=_e(CL(),1),BL=_e(TL(),1),LL=_e(td(),1);var a0=class{constructor({apiUrl:e,chainType:r,apiTimeout:n}){var i,s;this.chainType=r||Cd,this.apiUrl=e||((i=An[this.chainType])==null?void 0:i.apiAddress),this.apiTimeout=n||((s=An[this.chainType])==null?void 0:s.apiTimeout)}apiGet(e,r){return Te(this,null,function*(){if(typeof fetch!="undefined"){let n=new AbortController,i=setTimeout(()=>n.abort(),this.apiTimeout),s={method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"},signal:n.signal};try{let o=yield fetch(this.apiUrl+"/"+e,Object.assign(s,r||{})),a=yield o.json();if(!o.ok){let u=(a==null?void 0:a.error)||o.status;return clearTimeout(i),Promise.reject(u)}return clearTimeout(i),a}catch(o){this.handleApiError(o,e)}}})}apiPost(e,r,n){return Te(this,null,function*(){if(typeof fetch!="undefined"){let i=new AbortController,s=setTimeout(()=>i.abort(),this.apiTimeout),o={method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(r||{}),signal:i.signal};try{let a=yield fetch(this.apiUrl+"/"+e,Object.assign(o,n||{})),u=yield a.json();if(!a.ok){let l=(u==null?void 0:u.error)||a.status;return clearTimeout(s),Promise.reject(l)}return clearTimeout(s),u}catch(a){this.handleApiError(a,e)}}})}handleApiError(e,r){if(!e.response)throw new Error(`Request error on url [${r}]: [${e.toString()}]`);let n=e.response.data,i=n.error||n.message||JSON.stringify(n);throw new Error(i)}sendTransaction(e){return Te(this,null,function*(){return(yield this.apiPost("transactions",e.toSendable())).txHash})}getAccount(e){return Te(this,null,function*(){let r=yield this.apiGet(`accounts/${e.bech32()}`);return{address:new o0.Address((r==null?void 0:r.address)||""),nonce:Number((r==null?void 0:r.nonce)||0),balance:new xL.default((r==null?void 0:r.balance)||0),code:(r==null?void 0:r.code)||"",userName:(r==null?void 0:r.username)||""}})}getTransaction(e){return Te(this,null,function*(){let r=yield this.apiGet(`transactions/${e}`),n=new NL.TransactionStatus(r.status);return{hash:e,type:r.type||"",nonce:r.nonce||0,round:r.round,epoch:r.epoch||0,value:(r.value||0).toString(),sender:new o0.Address(r.sender),receiver:new o0.Address(r.receiver),gasPrice:r.gasPrice||0,gasLimit:r.gasLimit||0,data:h.Buffer.from(r.data||"","base64"),status:n,timestamp:r.timestamp||0,blockNonce:r.blockNonce||0,hyperblockNonce:r.hyperblockNonce||0,hyperblockHash:r.hyperblockHash||"",receipt:OL.TransactionReceipt.fromHttpResponse(r.receipt||{}),logs:DL.TransactionLogs.fromHttpResponse(r.logs||{}),contractResults:PL.ContractResults.fromApiHttpResponse(r.results||[]),isCompleted:!n.isPending()}})}queryContract(o){return Te(this,arguments,function*({address:e,func:r,args:n,value:i,caller:s}){try{let a=new LL.Query({address:e,func:r,args:n,value:i,caller:s}),u=new BL.ContractQueryRequest(a).toHttpRequest(),l=yield this.apiPost("query",u);return RL.ContractQueryResponse.fromHttpResponse(l)}catch(a){this.handleApiError(a,"query")}})}};c();var FL=(t,e,r,n="/")=>Te(void 0,null,function*(){let i=yield Td(),o={callbackUrl:encodeURIComponent(`${window.location.origin}${n}`),token:e};try{i&&(yield i.login(o)),Ce.run("onLoginPending")}catch(u){let l=Lt(u);console.warn(`Something went wrong trying to login the user: ${l}`)}if(!i)throw new Error("Error: There were problems with auth provider initialization!");let{signature:a}=i.account;if(Ie.set("loginToken",e),a&&Ie.set("signature",a),t.networkProvider&&a)try{let u=yield i.getAddress();if(!u)throw new Error("Canceled!");Ie.set("address",u),Ie.set("loginMethod","browser-extension"),Ie.set("expires",fc()),yield us(t),Ce.run("onLoggedIn");let l=r.getToken(u,e,a);return Ie.set("accessToken",l),i}catch(u){console.warn(`Something went wrong trying to synchronize the user account: ${u==null?void 0:u.message}`),Ce.run("onLogout")}});c();c();var qF=_e(UF(),1),VF=_e(tf(),1);var cte=t=>{var r;let e=document.createElement("template");return e.innerHTML=t.trim(),(r=e.content.firstChild)==null?void 0:r.cloneNode(!0)},lte=t=>{let e=`${M2}?wallet-connect=${encodeURIComponent(t)}`,r=document.createElement("a");return r.setAttribute("href",e),r.setAttribute("rel","noopener noreferrer nofollow"),r.setAttribute("target","_blank"),r.textContent="xPortal login",r.classList.add("elven-qr-code-deep-link"),r},fte=()=>{let t=document.createElement("div");return t.classList.add("elven-wc-pairings"),t},hte=()=>{let t=document.createElement("div");return t.textContent="Existing WalletConnect pairings:",t.classList.add("elven-wc-pairings-header"),t},N_={},dte=(t,e)=>{let r=document.createElement("button");return r.classList.add("elven-wc-pairings-remove-btn"),r.textContent="\u2716",N_[t.topic]=new AbortController,r.addEventListener("click",n=>{n.stopImmediatePropagation(),e(t.topic)},{signal:N_[t.topic].signal}),r},E0={},pte=(t,e,r)=>{var o,a;let n=document.createElement("div"),i=document.createElement("div");n.classList.add("elven-wc-pairing-item"),n.setAttribute("id",t.topic),i.classList.add("elven-wc-pairing-item-description"),i.textContent=`${(o=t.peerMetadata)==null?void 0:o.description} (${(a=t.peerMetadata)==null?void 0:a.url})`,n.appendChild(i);let s=dte(t,e);return n.appendChild(s),E0[t.topic]=new AbortController,n.addEventListener("click",()=>r(t.topic),{signal:E0[t.topic].signal}),n},gte=()=>{let t=document.createElement("div");return t.classList.add("elven-wc-pairing-item-confirm-msessage"),t.setAttribute("id","elven-wc-pairing-item-confirm-msessage"),t.innerText="Confirm on xPortal app!",t},yte=t=>{if(!t)return;let e=document.getElementById(t);e==null||e.remove()},mte=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),wte=t=>Te(void 0,null,function*(){return t?yield qF.default.toString(t,{type:"svg"}):void 0}),jF=(t,e,r,n)=>Te(void 0,null,function*(){if(!t)throw new Error("Please provide the QR Code and WalletConnect Pairings container id!");let i=null;typeof t=="string"?i=document.getElementById(t):t instanceof HTMLElement&&(i=t);let s=yield wte(e),o;if(s&&(o=cte(s)),i&&o&&(i.replaceChildren(),i.appendChild(o),mte()&&i.appendChild(lte(e))),i&&r instanceof VF.WalletConnectV2Provider){let a=r.pairings,u=f=>Te(void 0,null,function*(){try{f&&(yield r.logout({topic:f}),yte(f))}catch(d){let y=Lt(d);console.warn(`Something went wrong trying to remove the existing pairing: ${y}`)}finally{E0[f].abort()}}),l=f=>Te(void 0,null,function*(){try{let{approval:d}=yield r.connect({topic:f,methods:["mvx_cancelAction"]});if(!document.getElementById("elven-wc-pairing-item-confirm-msessage")){let m=document.getElementById(f);m==null||m.after(gte())}yield r.login({approval:d,token:n})}catch(d){let y=Lt(d);console.warn(`Something went wrong trying to login the user: ${y}`)}finally{for(let d of Object.values(E0))d==null||d.abort();for(let d of Object.values(N_))d==null||d.abort()}});if(a&&a.length>0){let f=fte();i.appendChild(f);let d=hte();f.appendChild(d);for(let y of a){let m=pte(y,u,l);f.appendChild(m)}}}return i});var v0=_e(tf(),1);var HF=(t,e,r,n)=>Te(void 0,null,function*(){if(!n)throw new Error("You haven't provided the QR code container DOM element id");let i=Zg(t.initOptions.walletConnectV2RelayAddresses);if(!i||!t.networkProvider)throw new Error("Something wen't wrong with the initialization (ApiNetworkProvider or Wallet Connect Bridge address), plese try to refresh the page!");if(!t.initOptions.walletConnectV2ProjectId)throw new Error("Please provide your WalletConnect project id. You can get it here: https://cloud.walletconnect.com)");if(!t.initOptions.chainType)throw new Error("Please provide the chain type in ElvenJS.init function!");let s,o={onClientLogin:()=>Te(void 0,null,function*(){if(t.dappProvider instanceof v0.WalletConnectV2Provider){Ce.run("onLoginPending");let u=yield t.dappProvider.getAddress(),l=yield t.dappProvider.getSignature();Ie.set("address",u),Ie.set("loginMethod","mobile"),Ie.set("expires",fc()),yield us(t),l&&Ie.set("signature",l),Ie.set("loginToken",e);let f=r.getToken(u,e,l);Ie.set("accessToken",f),Ce.run("onLoggedIn"),s==null||s.replaceChildren()}}),onClientLogout:()=>Te(void 0,null,function*(){t.dappProvider instanceof v0.WalletConnectV2Provider&&(yield lc(t),Ce.run("onLogout"))}),onClientEvent:u=>{console.log("wc2 session event: ",u)}},a=new v0.WalletConnectV2Provider(o,An[t.initOptions.chainType].shortId,i,t.initOptions.walletConnectV2ProjectId);try{if(a){t.dappProvider=a,Ce.run("onQrPending"),yield a.init();let{uri:u,approval:l}=yield a.connect({methods:["mvx_cancelAction"]}),f=e?`${u}&token=${e}`:u;return n&&f&&(s=yield jF(n,f,a,e),Ce.run("onQrLoaded")),yield a.login({approval:l,token:e}),a}}catch(u){let l=Lt(u);console.warn(`Something went wrong trying to login the user: ${l}`),Ce.run("onLogout")}});c();var GF=_e(uf(),1);var QF=(t,e,r)=>Te(void 0,null,function*(){let n=new GF.WalletProvider(`${t}${Sd}`),s={callbackUrl:typeof window!="undefined"?encodeURIComponent(`${window.location.origin}${r||"/"}`):"/",token:e};try{return Ce.run("onLoginPending"),Ie.set("loginMethod","web-wallet"),yield n.login(s),Ie.set("expires",fc()),Ie.set("loginToken",e),n}catch(o){let a=Lt(o);console.warn(`Something went wrong trying to login the user: ${a}`),Ie.set("loginMethod",""),Ce.run("onLogout")}});c();var qo=t=>{if(typeof window!="undefined"){let e=new URL(window.location.href);return new URLSearchParams(e.search).get(t)}};c();var kF=_e(uf(),1);var zF=_e(Zb(),1);var WF=(t,e)=>Te(void 0,null,function*(){let r=qo("signature"),n=qo("address"),i=Ie.get("address"),s=Ie.get("loginToken");if(r&&Ie.set("signature",r),n||i){n&&(Ie.set("address",n),window.history.replaceState(null,"",window.location.pathname));let o=new kF.WalletProvider(`${t}${Sd}`);if(r&&e&&n){let u=new zF.NativeAuthClient({apiUrl:e}).getToken(n,s,r);Ie.set("accessToken",u)}return o}});c();var KF=_e($h(),1),$F=_e(Rw(),1);var A0=(t,e)=>Te(void 0,null,function*(){Ce.run("onTxSent",t),yield new $F.TransactionWatcher(e).awaitCompleted(t);let n=t.getSender(),i=new KF.Account(n),s=yield e.getAccount(n);i.update(s),Ie.set("address",i.address.bech32()),Ie.set("nonce",i.getNonceThenIncrement().valueOf()),Ie.set("balance",i.balance.toString()),Ce.run("onTxFinalized",t)});c();var b0=_e(JF(),1),XF=_e(Wc(),1);var ZF=(t,e,r)=>Te(void 0,null,function*(){if(qo(b0.WALLET_PROVIDER_CALLBACK_PARAM)===b0.WALLET_PROVIDER_CALLBACK_PARAM_TX_SIGNED&&t&&e&&"getTransactionsFromWalletUrl"in t){let i=t.getTransactionsFromWalletUrl();window.history.replaceState(null,"",window.location.pathname);let s=i==null?void 0:i[0];if(s){s.data=h.Buffer.from(s.data).toString("base64");let o=XF.Transaction.fromPlainObject(s);o.setNonce(r);try{Ce.run("onTxStarted",o),yield e.sendTransaction(o),yield A0(o,e)}catch(a){let u=Lt(a);throw Ce.run("onTxError",o,u),new Error(`Error: Transaction signing failed! ${u}`)}}}});var Cf=class{static init(e){return Te(this,null,function*(){let r=Ie.get();if(r.expires&&Xg(r.expires)){Ie.clear(),this.dappProvider=void 0;return}this.initOptions=xf({chainType:Cd,apiUrl:F2,apiTimeout:1e4,walletConnectV2ProjectId:"",walletConnectV2RelayAddresses:U2},e),this.networkProvider=new a0(this.initOptions),this.initOptions.onLoginPending&&Ce.set("onLoginPending",this.initOptions.onLoginPending),this.initOptions.onLoggedIn&&Ce.set("onLoggedIn",this.initOptions.onLoggedIn),this.initOptions.onQrPending&&Ce.set("onQrPending",this.initOptions.onQrPending),this.initOptions.onQrLoaded&&Ce.set("onQrLoaded",this.initOptions.onQrLoaded),this.initOptions.onLogout&&Ce.set("onLogout",this.initOptions.onLogout),this.initOptions.onTxStarted&&Ce.set("onTxStarted",this.initOptions.onTxStarted),this.initOptions.onTxSent&&Ce.set("onTxSent",this.initOptions.onTxSent),this.initOptions.onTxFinalized&&Ce.set("onTxFinalized",this.initOptions.onTxFinalized),this.initOptions.onTxError&&Ce.set("onTxError",this.initOptions.onTxError),((r==null?void 0:r.address)||r.loginMethod==="web-wallet"&&qo("address"))&&(r!=null&&r.loginMethod)&&(Ce.run("onLoginPending"),r.loginMethod==="browser-extension"&&(this.dappProvider=yield Td()),r.loginMethod==="mobile"&&(this.dappProvider=yield hL(this)),r.loginMethod==="web-wallet"&&this.initOptions.chainType&&(this.dappProvider=yield WF(An[this.initOptions.chainType].walletAddress,this.initOptions.apiUrl)),yield us(this),Ce.run("onLoggedIn"),r.loginMethod==="web-wallet"&&(yield ZF(this.dappProvider,this.networkProvider,r.nonce)))})}static login(e,r){return Te(this,null,function*(){var o,a;if(!Object.values(Ro).includes(e))throw new Error("Error: Wrong login method!");if(!this.networkProvider)throw new Error("Error: Login failed: Use ElvenJs.init() first!");let i=new n5.NativeAuthClient({apiUrl:(o=this.initOptions)==null?void 0:o.apiUrl}),s=yield i.initialize();try{if(e==="browser-extension"){let u=yield FL(this,s,i,r==null?void 0:r.callbackRoute);this.dappProvider=u}if(e==="mobile"){let u=yield HF(this,s,i,r==null?void 0:r.qrCodeContainer);this.dappProvider=u}if(e==="web-wallet"&&((a=this.initOptions)!=null&&a.chainType)){let u=yield QF(An[this.initOptions.chainType].walletAddress,s,r==null?void 0:r.callbackRoute);this.dappProvider=u}}catch(u){let l=Lt(u);throw new Error(`Error: ${l}`)}})}static logout(){return Te(this,null,function*(){try{let e=yield lc(this);return this.dappProvider=void 0,e}catch(e){let r=Lt(e);console.warn("Something went wrong when logging out: ",r)}})}static signAndSendTransaction(e){return Te(this,null,function*(){if(!this.dappProvider)throw new Error("Error: Transaction signing failed: There is no active session!");if(!this.networkProvider)throw new Error("Error: Transaction signing failed: There is no active network provider!");try{Ce.run("onTxStarted",e);let r=Ie.get();e.setNonce(r.nonce),this.dappProvider instanceof e5.ExtensionProvider&&(yield this.dappProvider.signTransaction(e)),this.dappProvider instanceof t5.WalletConnectV2Provider&&(yield this.dappProvider.signTransaction(e)),this.dappProvider instanceof r5.WalletProvider&&(yield this.dappProvider.signTransaction(e)),r.loginMethod!=="web-wallet"&&(yield this.networkProvider.sendTransaction(e),yield A0(e,this.networkProvider))}catch(r){let n=Lt(r);throw Ce.run("onTxError",e,n),new Error(`Error: Transaction signing failed! ${n}`)}return e})}static queryContract(o){return Te(this,arguments,function*({address:e,func:r,args:n=[],value:i=0,caller:s}){if(!this.networkProvider)throw new Error("Error: Query failed: There is no active network provider!");if(!e||!r)throw new Error("Error: Query failed: The Query arguments are not valid! Address and func required");try{return yield this.networkProvider.queryContract({address:e,func:r,args:n,value:i,caller:s})}catch(a){let u=Lt(a);throw new Error(`Error: Smart contract query failed! ${u}`)}})}},Sf=Cf;Sf.storage=Ie,Sf.destroy=()=>{Cf.networkProvider=void 0,Cf.dappProvider=void 0,Cf.initOptions=void 0,Ce.clear()};var export_Account=Ite.Account;var export_Address=_te.Address;var export_AddressType=o5.AddressType;var export_AddressValue=o5.AddressValue;var export_BigUIntType=Bn.BigUIntType;var export_BigUIntValue=Bn.BigUIntValue;var export_BooleanType=s5.BooleanType;var export_BooleanValue=s5.BooleanValue;var export_BytesType=i5.BytesType;var export_BytesValue=i5.BytesValue;var export_ContractFunction=Nte.ContractFunction;var export_GasEstimator=bte.GasEstimator;var export_SmartContract=xte.SmartContract;var export_TokenTransfer=vte.TokenTransfer;var export_Transaction=Ste.Transaction;var export_TransactionPayload=Cte.TransactionPayload;var export_TransactionWatcher=Tte.TransactionWatcher;var export_TransferTransactionsFactory=Ate.TransferTransactionsFactory;var export_U16Type=Bn.U16Type;var export_U16Value=Bn.U16Value;var export_U32Type=Bn.U32Type;var export_U32Value=Bn.U32Value;var export_U64Type=Bn.U64Type;var export_U64Value=Bn.U64Value;var export_U8Type=Bn.U8Type;var export_U8Value=Bn.U8Value;export{export_Account as Account,export_Address as Address,export_AddressType as AddressType,export_AddressValue as AddressValue,export_BigUIntType as BigUIntType,export_BigUIntValue as BigUIntValue,export_BooleanType as BooleanType,export_BooleanValue as BooleanValue,export_BytesType as BytesType,export_BytesValue as BytesValue,export_ContractFunction as ContractFunction,Sf as ElvenJS,export_GasEstimator as GasEstimator,Ro as LoginMethodsEnum,export_SmartContract as SmartContract,export_TokenTransfer as TokenTransfer,export_Transaction as Transaction,export_TransactionPayload as TransactionPayload,export_TransactionWatcher as TransactionWatcher,export_TransferTransactionsFactory as TransferTransactionsFactory,export_U16Type as U16Type,export_U16Value as U16Value,export_U32Type as U32Type,export_U32Value as U32Value,export_U64Type as U64Type,export_U64Value as U64Value,export_U8Type as U8Type,export_U8Value as U8Value};
/*! Bundled license information:

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

punycode/punycode.js:
  (*! https://mths.be/punycode v1.4.1 by @mathias *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)
*/
