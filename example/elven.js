var A8=Object.create;var ju=Object.defineProperty,I8=Object.defineProperties,_8=Object.getOwnPropertyDescriptor,b8=Object.getOwnPropertyDescriptors,C8=Object.getOwnPropertyNames,yE=Object.getOwnPropertySymbols,S8=Object.getPrototypeOf,wE=Object.prototype.hasOwnProperty,x8=Object.prototype.propertyIsEnumerable;var mE=(r,e,t)=>e in r?ju(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,yo=(r,e)=>{for(var t in e||={})wE.call(e,t)&&mE(r,t,e[t]);if(yE)for(var t of yE(e))x8.call(e,t)&&mE(r,t,e[t]);return r},vE=(r,e)=>I8(r,b8(e));var EE=(r=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(r,{get:(e,t)=>(typeof require<"u"?require:e)[t]}):r)(function(r){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+r+'" is not supported')});var ye=(r,e)=>()=>(r&&(e=r(r=0)),e);var M=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),ot=(r,e)=>{for(var t in e)ju(r,t,{get:e[t],enumerable:!0})},Ol=(r,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of C8(e))!wE.call(r,n)&&n!==t&&ju(r,n,{get:()=>e[n],enumerable:!(i=_8(e,n))||i.enumerable});return r},Yt=(r,e,t)=>(Ol(r,e,"default"),t&&Ol(t,e,"default")),Ie=(r,e,t)=>(t=r!=null?A8(S8(r)):{},Ol(e||!r||!r.__esModule?ju(t,"default",{value:r,enumerable:!0}):t,r)),Xr=r=>Ol(ju({},"__esModule",{value:!0}),r);var Te=(r,e,t)=>new Promise((i,n)=>{var s=u=>{try{a(t.next(u))}catch(h){n(h)}},o=u=>{try{a(t.throw(u))}catch(h){n(h)}},a=u=>u.done?i(u.value):Promise.resolve(u.value).then(s,o);a((t=t.apply(r,e)).next())});var l0=M(Bl=>{"use strict";f();Bl.byteLength=N8;Bl.toByteArray=O8;Bl.fromByteArray=P8;var Zr=[],_r=[],T8=typeof Uint8Array<"u"?Uint8Array:Array,c0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(ns=0,AE=c0.length;ns<AE;++ns)Zr[ns]=c0[ns],_r[c0.charCodeAt(ns)]=ns;var ns,AE;_r["-".charCodeAt(0)]=62;_r["_".charCodeAt(0)]=63;function IE(r){var e=r.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=r.indexOf("=");t===-1&&(t=e);var i=t===e?0:4-t%4;return[t,i]}function N8(r){var e=IE(r),t=e[0],i=e[1];return(t+i)*3/4-i}function D8(r,e,t){return(e+t)*3/4-t}function O8(r){var e,t=IE(r),i=t[0],n=t[1],s=new T8(D8(r,i,n)),o=0,a=n>0?i-4:i,u;for(u=0;u<a;u+=4)e=_r[r.charCodeAt(u)]<<18|_r[r.charCodeAt(u+1)]<<12|_r[r.charCodeAt(u+2)]<<6|_r[r.charCodeAt(u+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return n===2&&(e=_r[r.charCodeAt(u)]<<2|_r[r.charCodeAt(u+1)]>>4,s[o++]=e&255),n===1&&(e=_r[r.charCodeAt(u)]<<10|_r[r.charCodeAt(u+1)]<<4|_r[r.charCodeAt(u+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function B8(r){return Zr[r>>18&63]+Zr[r>>12&63]+Zr[r>>6&63]+Zr[r&63]}function M8(r,e,t){for(var i,n=[],s=e;s<t;s+=3)i=(r[s]<<16&16711680)+(r[s+1]<<8&65280)+(r[s+2]&255),n.push(B8(i));return n.join("")}function P8(r){for(var e,t=r.length,i=t%3,n=[],s=16383,o=0,a=t-i;o<a;o+=s)n.push(M8(r,o,o+s>a?a:o+s));return i===1?(e=r[t-1],n.push(Zr[e>>2]+Zr[e<<4&63]+"==")):i===2&&(e=(r[t-2]<<8)+r[t-1],n.push(Zr[e>>10]+Zr[e>>4&63]+Zr[e<<2&63]+"=")),n.join("")}});var h0=M(f0=>{f();f0.read=function(r,e,t,i,n){var s,o,a=n*8-i-1,u=(1<<a)-1,h=u>>1,p=-7,m=t?n-1:0,O=t?-1:1,B=r[e+m];for(m+=O,s=B&(1<<-p)-1,B>>=-p,p+=a;p>0;s=s*256+r[e+m],m+=O,p-=8);for(o=s&(1<<-p)-1,s>>=-p,p+=i;p>0;o=o*256+r[e+m],m+=O,p-=8);if(s===0)s=1-h;else{if(s===u)return o?NaN:(B?-1:1)*(1/0);o=o+Math.pow(2,i),s=s-h}return(B?-1:1)*o*Math.pow(2,s-i)};f0.write=function(r,e,t,i,n,s){var o,a,u,h=s*8-n-1,p=(1<<h)-1,m=p>>1,O=n===23?Math.pow(2,-24)-Math.pow(2,-77):0,B=i?0:s-1,x=i?1:-1,V=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=p):(o=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-o))<1&&(o--,u*=2),o+m>=1?e+=O/u:e+=O*Math.pow(2,1-m),e*u>=2&&(o++,u/=2),o+m>=p?(a=0,o=p):o+m>=1?(a=(e*u-1)*Math.pow(2,n),o=o+m):(a=e*Math.pow(2,m-1)*Math.pow(2,n),o=0));n>=8;r[t+B]=a&255,B+=x,a/=256,n-=8);for(o=o<<n|a,h+=n;h>0;r[t+B]=o&255,B+=x,o/=256,h-=8);r[t+B-x]|=V*128}});var RE=M(wo=>{"use strict";f();var d0=l0(),mo=h0(),_E=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;wo.Buffer=se;wo.SlowBuffer=V8;wo.INSPECT_MAX_BYTES=50;var Ml=2147483647;wo.kMaxLength=Ml;se.TYPED_ARRAY_SUPPORT=R8();!se.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function R8(){try{var r=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(r,e),r.foo()===42}catch{return!1}}Object.defineProperty(se.prototype,"parent",{enumerable:!0,get:function(){if(!!se.isBuffer(this))return this.buffer}});Object.defineProperty(se.prototype,"offset",{enumerable:!0,get:function(){if(!!se.isBuffer(this))return this.byteOffset}});function Ri(r){if(r>Ml)throw new RangeError('The value "'+r+'" is invalid for option "size"');var e=new Uint8Array(r);return Object.setPrototypeOf(e,se.prototype),e}function se(r,e,t){if(typeof r=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return m0(r)}return SE(r,e,t)}se.poolSize=8192;function SE(r,e,t){if(typeof r=="string")return F8(r,e);if(ArrayBuffer.isView(r))return U8(r);if(r==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r);if(ei(r,ArrayBuffer)||r&&ei(r.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ei(r,SharedArrayBuffer)||r&&ei(r.buffer,SharedArrayBuffer)))return g0(r,e,t);if(typeof r=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var i=r.valueOf&&r.valueOf();if(i!=null&&i!==r)return se.from(i,e,t);var n=q8(r);if(n)return n;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof r[Symbol.toPrimitive]=="function")return se.from(r[Symbol.toPrimitive]("string"),e,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r)}se.from=function(r,e,t){return SE(r,e,t)};Object.setPrototypeOf(se.prototype,Uint8Array.prototype);Object.setPrototypeOf(se,Uint8Array);function xE(r){if(typeof r!="number")throw new TypeError('"size" argument must be of type number');if(r<0)throw new RangeError('The value "'+r+'" is invalid for option "size"')}function L8(r,e,t){return xE(r),r<=0?Ri(r):e!==void 0?typeof t=="string"?Ri(r).fill(e,t):Ri(r).fill(e):Ri(r)}se.alloc=function(r,e,t){return L8(r,e,t)};function m0(r){return xE(r),Ri(r<0?0:w0(r)|0)}se.allocUnsafe=function(r){return m0(r)};se.allocUnsafeSlow=function(r){return m0(r)};function F8(r,e){if((typeof e!="string"||e==="")&&(e="utf8"),!se.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var t=TE(r,e)|0,i=Ri(t),n=i.write(r,e);return n!==t&&(i=i.slice(0,n)),i}function p0(r){for(var e=r.length<0?0:w0(r.length)|0,t=Ri(e),i=0;i<e;i+=1)t[i]=r[i]&255;return t}function U8(r){if(ei(r,Uint8Array)){var e=new Uint8Array(r);return g0(e.buffer,e.byteOffset,e.byteLength)}return p0(r)}function g0(r,e,t){if(e<0||r.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(r.byteLength<e+(t||0))throw new RangeError('"length" is outside of buffer bounds');var i;return e===void 0&&t===void 0?i=new Uint8Array(r):t===void 0?i=new Uint8Array(r,e):i=new Uint8Array(r,e,t),Object.setPrototypeOf(i,se.prototype),i}function q8(r){if(se.isBuffer(r)){var e=w0(r.length)|0,t=Ri(e);return t.length===0||r.copy(t,0,0,e),t}if(r.length!==void 0)return typeof r.length!="number"||v0(r.length)?Ri(0):p0(r);if(r.type==="Buffer"&&Array.isArray(r.data))return p0(r.data)}function w0(r){if(r>=Ml)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Ml.toString(16)+" bytes");return r|0}function V8(r){return+r!=r&&(r=0),se.alloc(+r)}se.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==se.prototype};se.compare=function(e,t){if(ei(e,Uint8Array)&&(e=se.from(e,e.offset,e.byteLength)),ei(t,Uint8Array)&&(t=se.from(t,t.offset,t.byteLength)),!se.isBuffer(e)||!se.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var i=e.length,n=t.length,s=0,o=Math.min(i,n);s<o;++s)if(e[s]!==t[s]){i=e[s],n=t[s];break}return i<n?-1:n<i?1:0};se.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};se.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return se.alloc(0);var i;if(t===void 0)for(t=0,i=0;i<e.length;++i)t+=e[i].length;var n=se.allocUnsafe(t),s=0;for(i=0;i<e.length;++i){var o=e[i];if(ei(o,Uint8Array))s+o.length>n.length?se.from(o).copy(n,s):Uint8Array.prototype.set.call(n,o,s);else if(se.isBuffer(o))o.copy(n,s);else throw new TypeError('"list" argument must be an Array of Buffers');s+=o.length}return n};function TE(r,e){if(se.isBuffer(r))return r.length;if(ArrayBuffer.isView(r)||ei(r,ArrayBuffer))return r.byteLength;if(typeof r!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof r);var t=r.length,i=arguments.length>2&&arguments[2]===!0;if(!i&&t===0)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return y0(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return PE(r).length;default:if(n)return i?-1:y0(r).length;e=(""+e).toLowerCase(),n=!0}}se.byteLength=TE;function H8(r,e,t){var i=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,e>>>=0,t<=e))return"";for(r||(r="utf8");;)switch(r){case"hex":return J8(this,e,t);case"utf8":case"utf-8":return DE(this,e,t);case"ascii":return W8(this,e,t);case"latin1":case"binary":return Y8(this,e,t);case"base64":return k8(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return X8(this,e,t);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),i=!0}}se.prototype._isBuffer=!0;function ss(r,e,t){var i=r[e];r[e]=r[t],r[t]=i}se.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)ss(this,t,t+1);return this};se.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)ss(this,t,t+3),ss(this,t+1,t+2);return this};se.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)ss(this,t,t+7),ss(this,t+1,t+6),ss(this,t+2,t+5),ss(this,t+3,t+4);return this};se.prototype.toString=function(){var e=this.length;return e===0?"":arguments.length===0?DE(this,0,e):H8.apply(this,arguments)};se.prototype.toLocaleString=se.prototype.toString;se.prototype.equals=function(e){if(!se.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:se.compare(this,e)===0};se.prototype.inspect=function(){var e="",t=wo.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"};_E&&(se.prototype[_E]=se.prototype.inspect);se.prototype.compare=function(e,t,i,n,s){if(ei(e,Uint8Array)&&(e=se.from(e,e.offset,e.byteLength)),!se.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),i===void 0&&(i=e?e.length:0),n===void 0&&(n=0),s===void 0&&(s=this.length),t<0||i>e.length||n<0||s>this.length)throw new RangeError("out of range index");if(n>=s&&t>=i)return 0;if(n>=s)return-1;if(t>=i)return 1;if(t>>>=0,i>>>=0,n>>>=0,s>>>=0,this===e)return 0;for(var o=s-n,a=i-t,u=Math.min(o,a),h=this.slice(n,s),p=e.slice(t,i),m=0;m<u;++m)if(h[m]!==p[m]){o=h[m],a=p[m];break}return o<a?-1:a<o?1:0};function NE(r,e,t,i,n){if(r.length===0)return-1;if(typeof t=="string"?(i=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,v0(t)&&(t=n?0:r.length-1),t<0&&(t=r.length+t),t>=r.length){if(n)return-1;t=r.length-1}else if(t<0)if(n)t=0;else return-1;if(typeof e=="string"&&(e=se.from(e,i)),se.isBuffer(e))return e.length===0?-1:bE(r,e,t,i,n);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?n?Uint8Array.prototype.indexOf.call(r,e,t):Uint8Array.prototype.lastIndexOf.call(r,e,t):bE(r,[e],t,i,n);throw new TypeError("val must be string, number or Buffer")}function bE(r,e,t,i,n){var s=1,o=r.length,a=e.length;if(i!==void 0&&(i=String(i).toLowerCase(),i==="ucs2"||i==="ucs-2"||i==="utf16le"||i==="utf-16le")){if(r.length<2||e.length<2)return-1;s=2,o/=2,a/=2,t/=2}function u(B,x){return s===1?B[x]:B.readUInt16BE(x*s)}var h;if(n){var p=-1;for(h=t;h<o;h++)if(u(r,h)===u(e,p===-1?0:h-p)){if(p===-1&&(p=h),h-p+1===a)return p*s}else p!==-1&&(h-=h-p),p=-1}else for(t+a>o&&(t=o-a),h=t;h>=0;h--){for(var m=!0,O=0;O<a;O++)if(u(r,h+O)!==u(e,O)){m=!1;break}if(m)return h}return-1}se.prototype.includes=function(e,t,i){return this.indexOf(e,t,i)!==-1};se.prototype.indexOf=function(e,t,i){return NE(this,e,t,i,!0)};se.prototype.lastIndexOf=function(e,t,i){return NE(this,e,t,i,!1)};function Q8(r,e,t,i){t=Number(t)||0;var n=r.length-t;i?(i=Number(i),i>n&&(i=n)):i=n;var s=e.length;i>s/2&&(i=s/2);for(var o=0;o<i;++o){var a=parseInt(e.substr(o*2,2),16);if(v0(a))return o;r[t+o]=a}return o}function j8(r,e,t,i){return Pl(y0(e,r.length-t),r,t,i)}function G8(r,e,t,i){return Pl(tB(e),r,t,i)}function K8(r,e,t,i){return Pl(PE(e),r,t,i)}function z8(r,e,t,i){return Pl(rB(e,r.length-t),r,t,i)}se.prototype.write=function(e,t,i,n){if(t===void 0)n="utf8",i=this.length,t=0;else if(i===void 0&&typeof t=="string")n=t,i=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(i)?(i=i>>>0,n===void 0&&(n="utf8")):(n=i,i=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var s=this.length-t;if((i===void 0||i>s)&&(i=s),e.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return Q8(this,e,t,i);case"utf8":case"utf-8":return j8(this,e,t,i);case"ascii":case"latin1":case"binary":return G8(this,e,t,i);case"base64":return K8(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z8(this,e,t,i);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}};se.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function k8(r,e,t){return e===0&&t===r.length?d0.fromByteArray(r):d0.fromByteArray(r.slice(e,t))}function DE(r,e,t){t=Math.min(r.length,t);for(var i=[],n=e;n<t;){var s=r[n],o=null,a=s>239?4:s>223?3:s>191?2:1;if(n+a<=t){var u,h,p,m;switch(a){case 1:s<128&&(o=s);break;case 2:u=r[n+1],(u&192)===128&&(m=(s&31)<<6|u&63,m>127&&(o=m));break;case 3:u=r[n+1],h=r[n+2],(u&192)===128&&(h&192)===128&&(m=(s&15)<<12|(u&63)<<6|h&63,m>2047&&(m<55296||m>57343)&&(o=m));break;case 4:u=r[n+1],h=r[n+2],p=r[n+3],(u&192)===128&&(h&192)===128&&(p&192)===128&&(m=(s&15)<<18|(u&63)<<12|(h&63)<<6|p&63,m>65535&&m<1114112&&(o=m))}}o===null?(o=65533,a=1):o>65535&&(o-=65536,i.push(o>>>10&1023|55296),o=56320|o&1023),i.push(o),n+=a}return $8(i)}var CE=4096;function $8(r){var e=r.length;if(e<=CE)return String.fromCharCode.apply(String,r);for(var t="",i=0;i<e;)t+=String.fromCharCode.apply(String,r.slice(i,i+=CE));return t}function W8(r,e,t){var i="";t=Math.min(r.length,t);for(var n=e;n<t;++n)i+=String.fromCharCode(r[n]&127);return i}function Y8(r,e,t){var i="";t=Math.min(r.length,t);for(var n=e;n<t;++n)i+=String.fromCharCode(r[n]);return i}function J8(r,e,t){var i=r.length;(!e||e<0)&&(e=0),(!t||t<0||t>i)&&(t=i);for(var n="",s=e;s<t;++s)n+=iB[r[s]];return n}function X8(r,e,t){for(var i=r.slice(e,t),n="",s=0;s<i.length-1;s+=2)n+=String.fromCharCode(i[s]+i[s+1]*256);return n}se.prototype.slice=function(e,t){var i=this.length;e=~~e,t=t===void 0?i:~~t,e<0?(e+=i,e<0&&(e=0)):e>i&&(e=i),t<0?(t+=i,t<0&&(t=0)):t>i&&(t=i),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,se.prototype),n};function Ht(r,e,t){if(r%1!==0||r<0)throw new RangeError("offset is not uint");if(r+e>t)throw new RangeError("Trying to access beyond buffer length")}se.prototype.readUintLE=se.prototype.readUIntLE=function(e,t,i){e=e>>>0,t=t>>>0,i||Ht(e,t,this.length);for(var n=this[e],s=1,o=0;++o<t&&(s*=256);)n+=this[e+o]*s;return n};se.prototype.readUintBE=se.prototype.readUIntBE=function(e,t,i){e=e>>>0,t=t>>>0,i||Ht(e,t,this.length);for(var n=this[e+--t],s=1;t>0&&(s*=256);)n+=this[e+--t]*s;return n};se.prototype.readUint8=se.prototype.readUInt8=function(e,t){return e=e>>>0,t||Ht(e,1,this.length),this[e]};se.prototype.readUint16LE=se.prototype.readUInt16LE=function(e,t){return e=e>>>0,t||Ht(e,2,this.length),this[e]|this[e+1]<<8};se.prototype.readUint16BE=se.prototype.readUInt16BE=function(e,t){return e=e>>>0,t||Ht(e,2,this.length),this[e]<<8|this[e+1]};se.prototype.readUint32LE=se.prototype.readUInt32LE=function(e,t){return e=e>>>0,t||Ht(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};se.prototype.readUint32BE=se.prototype.readUInt32BE=function(e,t){return e=e>>>0,t||Ht(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};se.prototype.readIntLE=function(e,t,i){e=e>>>0,t=t>>>0,i||Ht(e,t,this.length);for(var n=this[e],s=1,o=0;++o<t&&(s*=256);)n+=this[e+o]*s;return s*=128,n>=s&&(n-=Math.pow(2,8*t)),n};se.prototype.readIntBE=function(e,t,i){e=e>>>0,t=t>>>0,i||Ht(e,t,this.length);for(var n=t,s=1,o=this[e+--n];n>0&&(s*=256);)o+=this[e+--n]*s;return s*=128,o>=s&&(o-=Math.pow(2,8*t)),o};se.prototype.readInt8=function(e,t){return e=e>>>0,t||Ht(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};se.prototype.readInt16LE=function(e,t){e=e>>>0,t||Ht(e,2,this.length);var i=this[e]|this[e+1]<<8;return i&32768?i|4294901760:i};se.prototype.readInt16BE=function(e,t){e=e>>>0,t||Ht(e,2,this.length);var i=this[e+1]|this[e]<<8;return i&32768?i|4294901760:i};se.prototype.readInt32LE=function(e,t){return e=e>>>0,t||Ht(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};se.prototype.readInt32BE=function(e,t){return e=e>>>0,t||Ht(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};se.prototype.readFloatLE=function(e,t){return e=e>>>0,t||Ht(e,4,this.length),mo.read(this,e,!0,23,4)};se.prototype.readFloatBE=function(e,t){return e=e>>>0,t||Ht(e,4,this.length),mo.read(this,e,!1,23,4)};se.prototype.readDoubleLE=function(e,t){return e=e>>>0,t||Ht(e,8,this.length),mo.read(this,e,!0,52,8)};se.prototype.readDoubleBE=function(e,t){return e=e>>>0,t||Ht(e,8,this.length),mo.read(this,e,!1,52,8)};function lr(r,e,t,i,n,s){if(!se.isBuffer(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>n||e<s)throw new RangeError('"value" argument is out of bounds');if(t+i>r.length)throw new RangeError("Index out of range")}se.prototype.writeUintLE=se.prototype.writeUIntLE=function(e,t,i,n){if(e=+e,t=t>>>0,i=i>>>0,!n){var s=Math.pow(2,8*i)-1;lr(this,e,t,i,s,0)}var o=1,a=0;for(this[t]=e&255;++a<i&&(o*=256);)this[t+a]=e/o&255;return t+i};se.prototype.writeUintBE=se.prototype.writeUIntBE=function(e,t,i,n){if(e=+e,t=t>>>0,i=i>>>0,!n){var s=Math.pow(2,8*i)-1;lr(this,e,t,i,s,0)}var o=i-1,a=1;for(this[t+o]=e&255;--o>=0&&(a*=256);)this[t+o]=e/a&255;return t+i};se.prototype.writeUint8=se.prototype.writeUInt8=function(e,t,i){return e=+e,t=t>>>0,i||lr(this,e,t,1,255,0),this[t]=e&255,t+1};se.prototype.writeUint16LE=se.prototype.writeUInt16LE=function(e,t,i){return e=+e,t=t>>>0,i||lr(this,e,t,2,65535,0),this[t]=e&255,this[t+1]=e>>>8,t+2};se.prototype.writeUint16BE=se.prototype.writeUInt16BE=function(e,t,i){return e=+e,t=t>>>0,i||lr(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=e&255,t+2};se.prototype.writeUint32LE=se.prototype.writeUInt32LE=function(e,t,i){return e=+e,t=t>>>0,i||lr(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255,t+4};se.prototype.writeUint32BE=se.prototype.writeUInt32BE=function(e,t,i){return e=+e,t=t>>>0,i||lr(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};se.prototype.writeIntLE=function(e,t,i,n){if(e=+e,t=t>>>0,!n){var s=Math.pow(2,8*i-1);lr(this,e,t,i,s-1,-s)}var o=0,a=1,u=0;for(this[t]=e&255;++o<i&&(a*=256);)e<0&&u===0&&this[t+o-1]!==0&&(u=1),this[t+o]=(e/a>>0)-u&255;return t+i};se.prototype.writeIntBE=function(e,t,i,n){if(e=+e,t=t>>>0,!n){var s=Math.pow(2,8*i-1);lr(this,e,t,i,s-1,-s)}var o=i-1,a=1,u=0;for(this[t+o]=e&255;--o>=0&&(a*=256);)e<0&&u===0&&this[t+o+1]!==0&&(u=1),this[t+o]=(e/a>>0)-u&255;return t+i};se.prototype.writeInt8=function(e,t,i){return e=+e,t=t>>>0,i||lr(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=e&255,t+1};se.prototype.writeInt16LE=function(e,t,i){return e=+e,t=t>>>0,i||lr(this,e,t,2,32767,-32768),this[t]=e&255,this[t+1]=e>>>8,t+2};se.prototype.writeInt16BE=function(e,t,i){return e=+e,t=t>>>0,i||lr(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=e&255,t+2};se.prototype.writeInt32LE=function(e,t,i){return e=+e,t=t>>>0,i||lr(this,e,t,4,2147483647,-2147483648),this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4};se.prototype.writeInt32BE=function(e,t,i){return e=+e,t=t>>>0,i||lr(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};function OE(r,e,t,i,n,s){if(t+i>r.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function BE(r,e,t,i,n){return e=+e,t=t>>>0,n||OE(r,e,t,4,34028234663852886e22,-34028234663852886e22),mo.write(r,e,t,i,23,4),t+4}se.prototype.writeFloatLE=function(e,t,i){return BE(this,e,t,!0,i)};se.prototype.writeFloatBE=function(e,t,i){return BE(this,e,t,!1,i)};function ME(r,e,t,i,n){return e=+e,t=t>>>0,n||OE(r,e,t,8,17976931348623157e292,-17976931348623157e292),mo.write(r,e,t,i,52,8),t+8}se.prototype.writeDoubleLE=function(e,t,i){return ME(this,e,t,!0,i)};se.prototype.writeDoubleBE=function(e,t,i){return ME(this,e,t,!1,i)};se.prototype.copy=function(e,t,i,n){if(!se.isBuffer(e))throw new TypeError("argument should be a Buffer");if(i||(i=0),!n&&n!==0&&(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<i&&(n=i),n===i||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-i&&(n=e.length-t+i);var s=n-i;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(t,i,n):Uint8Array.prototype.set.call(e,this.subarray(i,n),t),s};se.prototype.fill=function(e,t,i,n){if(typeof e=="string"){if(typeof t=="string"?(n=t,t=0,i=this.length):typeof i=="string"&&(n=i,i=this.length),n!==void 0&&typeof n!="string")throw new TypeError("encoding must be a string");if(typeof n=="string"&&!se.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(e.length===1){var s=e.charCodeAt(0);(n==="utf8"&&s<128||n==="latin1")&&(e=s)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;t=t>>>0,i=i===void 0?this.length:i>>>0,e||(e=0);var o;if(typeof e=="number")for(o=t;o<i;++o)this[o]=e;else{var a=se.isBuffer(e)?e:se.from(e,n),u=a.length;if(u===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<i-t;++o)this[o+t]=a[o%u]}return this};var Z8=/[^+/0-9A-Za-z-_]/g;function eB(r){if(r=r.split("=")[0],r=r.trim().replace(Z8,""),r.length<2)return"";for(;r.length%4!==0;)r=r+"=";return r}function y0(r,e){e=e||1/0;for(var t,i=r.length,n=null,s=[],o=0;o<i;++o){if(t=r.charCodeAt(o),t>55295&&t<57344){if(!n){if(t>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(o+1===i){(e-=3)>-1&&s.push(239,191,189);continue}n=t;continue}if(t<56320){(e-=3)>-1&&s.push(239,191,189),n=t;continue}t=(n-55296<<10|t-56320)+65536}else n&&(e-=3)>-1&&s.push(239,191,189);if(n=null,t<128){if((e-=1)<0)break;s.push(t)}else if(t<2048){if((e-=2)<0)break;s.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;s.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;s.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return s}function tB(r){for(var e=[],t=0;t<r.length;++t)e.push(r.charCodeAt(t)&255);return e}function rB(r,e){for(var t,i,n,s=[],o=0;o<r.length&&!((e-=2)<0);++o)t=r.charCodeAt(o),i=t>>8,n=t%256,s.push(n),s.push(i);return s}function PE(r){return d0.toByteArray(eB(r))}function Pl(r,e,t,i){for(var n=0;n<i&&!(n+t>=e.length||n>=r.length);++n)e[n+t]=r[n];return n}function ei(r,e){return r instanceof e||r!=null&&r.constructor!=null&&r.constructor.name!=null&&r.constructor.name===e.name}function v0(r){return r!==r}var iB=function(){for(var r="0123456789abcdef",e=new Array(256),t=0;t<16;++t)for(var i=t*16,n=0;n<16;++n)e[i+n]=r[t]+r[n];return e}()});var VE=M((BK,qE)=>{f();var at=qE.exports={},ti,ri;function E0(){throw new Error("setTimeout has not been defined")}function A0(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?ti=setTimeout:ti=E0}catch{ti=E0}try{typeof clearTimeout=="function"?ri=clearTimeout:ri=A0}catch{ri=A0}})();function LE(r){if(ti===setTimeout)return setTimeout(r,0);if((ti===E0||!ti)&&setTimeout)return ti=setTimeout,setTimeout(r,0);try{return ti(r,0)}catch{try{return ti.call(null,r,0)}catch{return ti.call(this,r,0)}}}function nB(r){if(ri===clearTimeout)return clearTimeout(r);if((ri===A0||!ri)&&clearTimeout)return ri=clearTimeout,clearTimeout(r);try{return ri(r)}catch{try{return ri.call(null,r)}catch{return ri.call(this,r)}}}var Li=[],vo=!1,os,Rl=-1;function sB(){!vo||!os||(vo=!1,os.length?Li=os.concat(Li):Rl=-1,Li.length&&FE())}function FE(){if(!vo){var r=LE(sB);vo=!0;for(var e=Li.length;e;){for(os=Li,Li=[];++Rl<e;)os&&os[Rl].run();Rl=-1,e=Li.length}os=null,vo=!1,nB(r)}}at.nextTick=function(r){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];Li.push(new UE(r,e)),Li.length===1&&!vo&&LE(FE)};function UE(r,e){this.fun=r,this.array=e}UE.prototype.run=function(){this.fun.apply(null,this.array)};at.title="browser";at.browser=!0;at.env={};at.argv=[];at.version="";at.versions={};function Fi(){}at.on=Fi;at.addListener=Fi;at.once=Fi;at.off=Fi;at.removeListener=Fi;at.removeAllListeners=Fi;at.emit=Fi;at.prependListener=Fi;at.prependOnceListener=Fi;at.listeners=function(r){return[]};at.binding=function(r){throw new Error("process.binding is not supported")};at.cwd=function(){return"/"};at.chdir=function(r){throw new Error("process.chdir is not supported")};at.umask=function(){return 0}});var y,_,oB,global,f=ye(()=>{y=Ie(RE()),_=Ie(VE()),oB=function(r){function e(){var i=this||self;return delete r.prototype.__magic__,i}if(typeof globalThis=="object")return globalThis;if(this)return e();r.defineProperty(r.prototype,"__magic__",{configurable:!0,get:e});var t=__magic__;return t}(Object),global=oB});var Ur=M((HE,Ll)=>{f();(function(r){"use strict";var e,t=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,i=Math.ceil,n=Math.floor,s="[BigNumber Error] ",o=s+"Number primitive has more than 15 significant digits: ",a=1e14,u=14,h=9007199254740991,p=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],m=1e7,O=1e9;function B($){var K,R,F,k=l.prototype={constructor:l,toString:null,valueOf:null},ce=new l(1),J=20,X=4,A=-7,c=21,d=-1e7,g=1e7,w=!1,v=1,S=0,N={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xA0",suffix:""},I="0123456789abcdefghijklmnopqrstuvwxyz";function l(E,b){var T,L,D,U,q,P,j,z,Q=this;if(!(Q instanceof l))return new l(E,b);if(b==null){if(E&&E._isBigNumber===!0){Q.s=E.s,!E.c||E.e>g?Q.c=Q.e=null:E.e<d?Q.c=[Q.e=0]:(Q.e=E.e,Q.c=E.c.slice());return}if((P=typeof E=="number")&&E*0==0){if(Q.s=1/E<0?(E=-E,-1):1,E===~~E){for(U=0,q=E;q>=10;q/=10,U++);U>g?Q.c=Q.e=null:(Q.e=U,Q.c=[E]);return}z=String(E)}else{if(!t.test(z=String(E)))return F(Q,z,P);Q.s=z.charCodeAt(0)==45?(z=z.slice(1),-1):1}(U=z.indexOf("."))>-1&&(z=z.replace(".","")),(q=z.search(/e/i))>0?(U<0&&(U=q),U+=+z.slice(q+1),z=z.substring(0,q)):U<0&&(U=z.length)}else{if(G(b,2,I.length,"Base"),b==10)return Q=new l(E),ee(Q,J+Q.e+1,X);if(z=String(E),P=typeof E=="number"){if(E*0!=0)return F(Q,z,P,b);if(Q.s=1/E<0?(z=z.slice(1),-1):1,l.DEBUG&&z.replace(/^0\.0*|\./,"").length>15)throw Error(o+E)}else Q.s=z.charCodeAt(0)===45?(z=z.slice(1),-1):1;for(T=I.slice(0,b),U=q=0,j=z.length;q<j;q++)if(T.indexOf(L=z.charAt(q))<0){if(L=="."){if(q>U){U=j;continue}}else if(!D&&(z==z.toUpperCase()&&(z=z.toLowerCase())||z==z.toLowerCase()&&(z=z.toUpperCase()))){D=!0,q=-1,U=0;continue}return F(Q,String(E),P,b)}P=!1,z=R(z,b,10,Q.s),(U=z.indexOf("."))>-1?z=z.replace(".",""):U=z.length}for(q=0;z.charCodeAt(q)===48;q++);for(j=z.length;z.charCodeAt(--j)===48;);if(z=z.slice(q,++j)){if(j-=q,P&&l.DEBUG&&j>15&&(E>h||E!==n(E)))throw Error(o+Q.s*E);if((U=U-q-1)>g)Q.c=Q.e=null;else if(U<d)Q.c=[Q.e=0];else{if(Q.e=U,Q.c=[],q=(U+1)%u,U<0&&(q+=u),q<j){for(q&&Q.c.push(+z.slice(0,q)),j-=u;q<j;)Q.c.push(+z.slice(q,q+=u));q=u-(z=z.slice(q)).length}else q-=j;for(;q--;z+="0");Q.c.push(+z)}}else Q.c=[Q.e=0]}l.clone=B,l.ROUND_UP=0,l.ROUND_DOWN=1,l.ROUND_CEIL=2,l.ROUND_FLOOR=3,l.ROUND_HALF_UP=4,l.ROUND_HALF_DOWN=5,l.ROUND_HALF_EVEN=6,l.ROUND_HALF_CEIL=7,l.ROUND_HALF_FLOOR=8,l.EUCLID=9,l.config=l.set=function(E){var b,T;if(E!=null)if(typeof E=="object"){if(E.hasOwnProperty(b="DECIMAL_PLACES")&&(T=E[b],G(T,0,O,b),J=T),E.hasOwnProperty(b="ROUNDING_MODE")&&(T=E[b],G(T,0,8,b),X=T),E.hasOwnProperty(b="EXPONENTIAL_AT")&&(T=E[b],T&&T.pop?(G(T[0],-O,0,b),G(T[1],0,O,b),A=T[0],c=T[1]):(G(T,-O,O,b),A=-(c=T<0?-T:T))),E.hasOwnProperty(b="RANGE"))if(T=E[b],T&&T.pop)G(T[0],-O,-1,b),G(T[1],1,O,b),d=T[0],g=T[1];else if(G(T,-O,O,b),T)d=-(g=T<0?-T:T);else throw Error(s+b+" cannot be zero: "+T);if(E.hasOwnProperty(b="CRYPTO"))if(T=E[b],T===!!T)if(T)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))w=T;else throw w=!T,Error(s+"crypto unavailable");else w=T;else throw Error(s+b+" not true or false: "+T);if(E.hasOwnProperty(b="MODULO_MODE")&&(T=E[b],G(T,0,9,b),v=T),E.hasOwnProperty(b="POW_PRECISION")&&(T=E[b],G(T,0,O,b),S=T),E.hasOwnProperty(b="FORMAT"))if(T=E[b],typeof T=="object")N=T;else throw Error(s+b+" not an object: "+T);if(E.hasOwnProperty(b="ALPHABET"))if(T=E[b],typeof T=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(T))I=T;else throw Error(s+b+" invalid: "+T)}else throw Error(s+"Object expected: "+E);return{DECIMAL_PLACES:J,ROUNDING_MODE:X,EXPONENTIAL_AT:[A,c],RANGE:[d,g],CRYPTO:w,MODULO_MODE:v,POW_PRECISION:S,FORMAT:N,ALPHABET:I}},l.isBigNumber=function(E){if(!E||E._isBigNumber!==!0)return!1;if(!l.DEBUG)return!0;var b,T,L=E.c,D=E.e,U=E.s;e:if({}.toString.call(L)=="[object Array]"){if((U===1||U===-1)&&D>=-O&&D<=O&&D===n(D)){if(L[0]===0){if(D===0&&L.length===1)return!0;break e}if(b=(D+1)%u,b<1&&(b+=u),String(L[0]).length==b){for(b=0;b<L.length;b++)if(T=L[b],T<0||T>=a||T!==n(T))break e;if(T!==0)return!0}}}else if(L===null&&D===null&&(U===null||U===1||U===-1))return!0;throw Error(s+"Invalid BigNumber: "+E)},l.maximum=l.max=function(){return Z(arguments,k.lt)},l.minimum=l.min=function(){return Z(arguments,k.gt)},l.random=function(){var E=9007199254740992,b=Math.random()*E&2097151?function(){return n(Math.random()*E)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(T){var L,D,U,q,P,j=0,z=[],Q=new l(ce);if(T==null?T=J:G(T,0,O),q=i(T/u),w)if(crypto.getRandomValues){for(L=crypto.getRandomValues(new Uint32Array(q*=2));j<q;)P=L[j]*131072+(L[j+1]>>>11),P>=9e15?(D=crypto.getRandomValues(new Uint32Array(2)),L[j]=D[0],L[j+1]=D[1]):(z.push(P%1e14),j+=2);j=q/2}else if(crypto.randomBytes){for(L=crypto.randomBytes(q*=7);j<q;)P=(L[j]&31)*281474976710656+L[j+1]*1099511627776+L[j+2]*4294967296+L[j+3]*16777216+(L[j+4]<<16)+(L[j+5]<<8)+L[j+6],P>=9e15?crypto.randomBytes(7).copy(L,j):(z.push(P%1e14),j+=7);j=q/7}else throw w=!1,Error(s+"crypto unavailable");if(!w)for(;j<q;)P=b(),P<9e15&&(z[j++]=P%1e14);for(q=z[--j],T%=u,q&&T&&(P=p[u-T],z[j]=n(q/P)*P);z[j]===0;z.pop(),j--);if(j<0)z=[U=0];else{for(U=-1;z[0]===0;z.splice(0,1),U-=u);for(j=1,P=z[0];P>=10;P/=10,j++);j<u&&(U-=u-j)}return Q.e=U,Q.c=z,Q}}(),l.sum=function(){for(var E=1,b=arguments,T=new l(b[0]);E<b.length;)T=T.plus(b[E++]);return T},R=function(){var E="0123456789";function b(T,L,D,U){for(var q,P=[0],j,z=0,Q=T.length;z<Q;){for(j=P.length;j--;P[j]*=L);for(P[0]+=U.indexOf(T.charAt(z++)),q=0;q<P.length;q++)P[q]>D-1&&(P[q+1]==null&&(P[q+1]=0),P[q+1]+=P[q]/D|0,P[q]%=D)}return P.reverse()}return function(T,L,D,U,q){var P,j,z,Q,ue,he,de,Be,_e=T.indexOf("."),Se=J,Oe=X;for(_e>=0&&(Q=S,S=0,T=T.replace(".",""),Be=new l(L),he=Be.pow(T.length-_e),S=Q,Be.c=b(W(V(he.c),he.e,"0"),10,D,E),Be.e=Be.c.length),de=b(T,L,D,q?(P=I,E):(P=E,I)),z=Q=de.length;de[--Q]==0;de.pop());if(!de[0])return P.charAt(0);if(_e<0?--z:(he.c=de,he.e=z,he.s=U,he=K(he,Be,Se,Oe,D),de=he.c,ue=he.r,z=he.e),j=z+Se+1,_e=de[j],Q=D/2,ue=ue||j<0||de[j+1]!=null,ue=Oe<4?(_e!=null||ue)&&(Oe==0||Oe==(he.s<0?3:2)):_e>Q||_e==Q&&(Oe==4||ue||Oe==6&&de[j-1]&1||Oe==(he.s<0?8:7)),j<1||!de[0])T=ue?W(P.charAt(1),-Se,P.charAt(0)):P.charAt(0);else{if(de.length=j,ue)for(--D;++de[--j]>D;)de[j]=0,j||(++z,de=[1].concat(de));for(Q=de.length;!de[--Q];);for(_e=0,T="";_e<=Q;T+=P.charAt(de[_e++]));T=W(T,z,P.charAt(0))}return T}}(),K=function(){function E(L,D,U){var q,P,j,z,Q=0,ue=L.length,he=D%m,de=D/m|0;for(L=L.slice();ue--;)j=L[ue]%m,z=L[ue]/m|0,q=de*j+z*he,P=he*j+q%m*m+Q,Q=(P/U|0)+(q/m|0)+de*z,L[ue]=P%U;return Q&&(L=[Q].concat(L)),L}function b(L,D,U,q){var P,j;if(U!=q)j=U>q?1:-1;else for(P=j=0;P<U;P++)if(L[P]!=D[P]){j=L[P]>D[P]?1:-1;break}return j}function T(L,D,U,q){for(var P=0;U--;)L[U]-=P,P=L[U]<D[U]?1:0,L[U]=P*q+L[U]-D[U];for(;!L[0]&&L.length>1;L.splice(0,1));}return function(L,D,U,q,P){var j,z,Q,ue,he,de,Be,_e,Se,Oe,Ae,De,is,Je,Xe,wr,Ge,Le=L.s==D.s?1:-1,Vt=L.c,be=D.c;if(!Vt||!Vt[0]||!be||!be[0])return new l(!L.s||!D.s||(Vt?be&&Vt[0]==be[0]:!be)?NaN:Vt&&Vt[0]==0||!be?Le*0:Le/0);for(_e=new l(Le),Se=_e.c=[],z=L.e-D.e,Le=U+z+1,P||(P=a,z=x(L.e/u)-x(D.e/u),Le=Le/u|0),Q=0;be[Q]==(Vt[Q]||0);Q++);if(be[Q]>(Vt[Q]||0)&&z--,Le<0)Se.push(1),ue=!0;else{for(Je=Vt.length,wr=be.length,Q=0,Le+=2,he=n(P/(be[0]+1)),he>1&&(be=E(be,he,P),Vt=E(Vt,he,P),wr=be.length,Je=Vt.length),is=wr,Oe=Vt.slice(0,wr),Ae=Oe.length;Ae<wr;Oe[Ae++]=0);Ge=be.slice(),Ge=[0].concat(Ge),Xe=be[0],be[1]>=P/2&&Xe++;do{if(he=0,j=b(be,Oe,wr,Ae),j<0){if(De=Oe[0],wr!=Ae&&(De=De*P+(Oe[1]||0)),he=n(De/Xe),he>1)for(he>=P&&(he=P-1),de=E(be,he,P),Be=de.length,Ae=Oe.length;b(de,Oe,Be,Ae)==1;)he--,T(de,wr<Be?Ge:be,Be,P),Be=de.length,j=1;else he==0&&(j=he=1),de=be.slice(),Be=de.length;if(Be<Ae&&(de=[0].concat(de)),T(Oe,de,Ae,P),Ae=Oe.length,j==-1)for(;b(be,Oe,wr,Ae)<1;)he++,T(Oe,wr<Ae?Ge:be,Ae,P),Ae=Oe.length}else j===0&&(he++,Oe=[0]);Se[Q++]=he,Oe[0]?Oe[Ae++]=Vt[is]||0:(Oe=[Vt[is]],Ae=1)}while((is++<Je||Oe[0]!=null)&&Le--);ue=Oe[0]!=null,Se[0]||Se.splice(0,1)}if(P==a){for(Q=1,Le=Se[0];Le>=10;Le/=10,Q++);ee(_e,U+(_e.e=Q+z*u-1)+1,q,ue)}else _e.e=z,_e.r=+ue;return _e}}();function C(E,b,T,L){var D,U,q,P,j;if(T==null?T=X:G(T,0,8),!E.c)return E.toString();if(D=E.c[0],q=E.e,b==null)j=V(E.c),j=L==1||L==2&&(q<=A||q>=c)?Y(j,q):W(j,q,"0");else if(E=ee(new l(E),b,T),U=E.e,j=V(E.c),P=j.length,L==1||L==2&&(b<=U||U<=A)){for(;P<b;j+="0",P++);j=Y(j,U)}else if(b-=q,j=W(j,U,"0"),U+1>P){if(--b>0)for(j+=".";b--;j+="0");}else if(b+=U-P,b>0)for(U+1==P&&(j+=".");b--;j+="0");return E.s<0&&D?"-"+j:j}function Z(E,b){for(var T,L=1,D=new l(E[0]);L<E.length;L++)if(T=new l(E[L]),T.s)b.call(D,T)&&(D=T);else{D=T;break}return D}function te(E,b,T){for(var L=1,D=b.length;!b[--D];b.pop());for(D=b[0];D>=10;D/=10,L++);return(T=L+T*u-1)>g?E.c=E.e=null:T<d?E.c=[E.e=0]:(E.e=T,E.c=b),E}F=function(){var E=/^(-?)0([xbo])(?=\w[\w.]*$)/i,b=/^([^.]+)\.$/,T=/^\.([^.]+)$/,L=/^-?(Infinity|NaN)$/,D=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(U,q,P,j){var z,Q=P?q:q.replace(D,"");if(L.test(Q))U.s=isNaN(Q)?null:Q<0?-1:1;else{if(!P&&(Q=Q.replace(E,function(ue,he,de){return z=(de=de.toLowerCase())=="x"?16:de=="b"?2:8,!j||j==z?he:ue}),j&&(z=j,Q=Q.replace(b,"$1").replace(T,"0.$1")),q!=Q))return new l(Q,z);if(l.DEBUG)throw Error(s+"Not a"+(j?" base "+j:"")+" number: "+q);U.s=null}U.c=U.e=null}}();function ee(E,b,T,L){var D,U,q,P,j,z,Q,ue=E.c,he=p;if(ue){e:{for(D=1,P=ue[0];P>=10;P/=10,D++);if(U=b-D,U<0)U+=u,q=b,j=ue[z=0],Q=j/he[D-q-1]%10|0;else if(z=i((U+1)/u),z>=ue.length)if(L){for(;ue.length<=z;ue.push(0));j=Q=0,D=1,U%=u,q=U-u+1}else break e;else{for(j=P=ue[z],D=1;P>=10;P/=10,D++);U%=u,q=U-u+D,Q=q<0?0:j/he[D-q-1]%10|0}if(L=L||b<0||ue[z+1]!=null||(q<0?j:j%he[D-q-1]),L=T<4?(Q||L)&&(T==0||T==(E.s<0?3:2)):Q>5||Q==5&&(T==4||L||T==6&&(U>0?q>0?j/he[D-q]:0:ue[z-1])%10&1||T==(E.s<0?8:7)),b<1||!ue[0])return ue.length=0,L?(b-=E.e+1,ue[0]=he[(u-b%u)%u],E.e=-b||0):ue[0]=E.e=0,E;if(U==0?(ue.length=z,P=1,z--):(ue.length=z+1,P=he[u-U],ue[z]=q>0?n(j/he[D-q]%he[q])*P:0),L)for(;;)if(z==0){for(U=1,q=ue[0];q>=10;q/=10,U++);for(q=ue[0]+=P,P=1;q>=10;q/=10,P++);U!=P&&(E.e++,ue[0]==a&&(ue[0]=1));break}else{if(ue[z]+=P,ue[z]!=a)break;ue[z--]=0,P=1}for(U=ue.length;ue[--U]===0;ue.pop());}E.e>g?E.c=E.e=null:E.e<d&&(E.c=[E.e=0])}return E}function ae(E){var b,T=E.e;return T===null?E.toString():(b=V(E.c),b=T<=A||T>=c?Y(b,T):W(b,T,"0"),E.s<0?"-"+b:b)}return k.absoluteValue=k.abs=function(){var E=new l(this);return E.s<0&&(E.s=1),E},k.comparedTo=function(E,b){return H(this,new l(E,b))},k.decimalPlaces=k.dp=function(E,b){var T,L,D,U=this;if(E!=null)return G(E,0,O),b==null?b=X:G(b,0,8),ee(new l(U),E+U.e+1,b);if(!(T=U.c))return null;if(L=((D=T.length-1)-x(this.e/u))*u,D=T[D])for(;D%10==0;D/=10,L--);return L<0&&(L=0),L},k.dividedBy=k.div=function(E,b){return K(this,new l(E,b),J,X)},k.dividedToIntegerBy=k.idiv=function(E,b){return K(this,new l(E,b),0,1)},k.exponentiatedBy=k.pow=function(E,b){var T,L,D,U,q,P,j,z,Q,ue=this;if(E=new l(E),E.c&&!E.isInteger())throw Error(s+"Exponent not an integer: "+ae(E));if(b!=null&&(b=new l(b)),P=E.e>14,!ue.c||!ue.c[0]||ue.c[0]==1&&!ue.e&&ue.c.length==1||!E.c||!E.c[0])return Q=new l(Math.pow(+ae(ue),P?2-ie(E):+ae(E))),b?Q.mod(b):Q;if(j=E.s<0,b){if(b.c?!b.c[0]:!b.s)return new l(NaN);L=!j&&ue.isInteger()&&b.isInteger(),L&&(ue=ue.mod(b))}else{if(E.e>9&&(ue.e>0||ue.e<-1||(ue.e==0?ue.c[0]>1||P&&ue.c[1]>=24e7:ue.c[0]<8e13||P&&ue.c[0]<=9999975e7)))return U=ue.s<0&&ie(E)?-0:0,ue.e>-1&&(U=1/U),new l(j?1/U:U);S&&(U=i(S/u+2))}for(P?(T=new l(.5),j&&(E.s=1),z=ie(E)):(D=Math.abs(+ae(E)),z=D%2),Q=new l(ce);;){if(z){if(Q=Q.times(ue),!Q.c)break;U?Q.c.length>U&&(Q.c.length=U):L&&(Q=Q.mod(b))}if(D){if(D=n(D/2),D===0)break;z=D%2}else if(E=E.times(T),ee(E,E.e+1,1),E.e>14)z=ie(E);else{if(D=+ae(E),D===0)break;z=D%2}ue=ue.times(ue),U?ue.c&&ue.c.length>U&&(ue.c.length=U):L&&(ue=ue.mod(b))}return L?Q:(j&&(Q=ce.div(Q)),b?Q.mod(b):U?ee(Q,S,X,q):Q)},k.integerValue=function(E){var b=new l(this);return E==null?E=X:G(E,0,8),ee(b,b.e+1,E)},k.isEqualTo=k.eq=function(E,b){return H(this,new l(E,b))===0},k.isFinite=function(){return!!this.c},k.isGreaterThan=k.gt=function(E,b){return H(this,new l(E,b))>0},k.isGreaterThanOrEqualTo=k.gte=function(E,b){return(b=H(this,new l(E,b)))===1||b===0},k.isInteger=function(){return!!this.c&&x(this.e/u)>this.c.length-2},k.isLessThan=k.lt=function(E,b){return H(this,new l(E,b))<0},k.isLessThanOrEqualTo=k.lte=function(E,b){return(b=H(this,new l(E,b)))===-1||b===0},k.isNaN=function(){return!this.s},k.isNegative=function(){return this.s<0},k.isPositive=function(){return this.s>0},k.isZero=function(){return!!this.c&&this.c[0]==0},k.minus=function(E,b){var T,L,D,U,q=this,P=q.s;if(E=new l(E,b),b=E.s,!P||!b)return new l(NaN);if(P!=b)return E.s=-b,q.plus(E);var j=q.e/u,z=E.e/u,Q=q.c,ue=E.c;if(!j||!z){if(!Q||!ue)return Q?(E.s=-b,E):new l(ue?q:NaN);if(!Q[0]||!ue[0])return ue[0]?(E.s=-b,E):new l(Q[0]?q:X==3?-0:0)}if(j=x(j),z=x(z),Q=Q.slice(),P=j-z){for((U=P<0)?(P=-P,D=Q):(z=j,D=ue),D.reverse(),b=P;b--;D.push(0));D.reverse()}else for(L=(U=(P=Q.length)<(b=ue.length))?P:b,P=b=0;b<L;b++)if(Q[b]!=ue[b]){U=Q[b]<ue[b];break}if(U&&(D=Q,Q=ue,ue=D,E.s=-E.s),b=(L=ue.length)-(T=Q.length),b>0)for(;b--;Q[T++]=0);for(b=a-1;L>P;){if(Q[--L]<ue[L]){for(T=L;T&&!Q[--T];Q[T]=b);--Q[T],Q[L]+=a}Q[L]-=ue[L]}for(;Q[0]==0;Q.splice(0,1),--z);return Q[0]?te(E,Q,z):(E.s=X==3?-1:1,E.c=[E.e=0],E)},k.modulo=k.mod=function(E,b){var T,L,D=this;return E=new l(E,b),!D.c||!E.s||E.c&&!E.c[0]?new l(NaN):!E.c||D.c&&!D.c[0]?new l(D):(v==9?(L=E.s,E.s=1,T=K(D,E,0,3),E.s=L,T.s*=L):T=K(D,E,0,v),E=D.minus(T.times(E)),!E.c[0]&&v==1&&(E.s=D.s),E)},k.multipliedBy=k.times=function(E,b){var T,L,D,U,q,P,j,z,Q,ue,he,de,Be,_e,Se,Oe=this,Ae=Oe.c,De=(E=new l(E,b)).c;if(!Ae||!De||!Ae[0]||!De[0])return!Oe.s||!E.s||Ae&&!Ae[0]&&!De||De&&!De[0]&&!Ae?E.c=E.e=E.s=null:(E.s*=Oe.s,!Ae||!De?E.c=E.e=null:(E.c=[0],E.e=0)),E;for(L=x(Oe.e/u)+x(E.e/u),E.s*=Oe.s,j=Ae.length,ue=De.length,j<ue&&(Be=Ae,Ae=De,De=Be,D=j,j=ue,ue=D),D=j+ue,Be=[];D--;Be.push(0));for(_e=a,Se=m,D=ue;--D>=0;){for(T=0,he=De[D]%Se,de=De[D]/Se|0,q=j,U=D+q;U>D;)z=Ae[--q]%Se,Q=Ae[q]/Se|0,P=de*z+Q*he,z=he*z+P%Se*Se+Be[U]+T,T=(z/_e|0)+(P/Se|0)+de*Q,Be[U--]=z%_e;Be[U]=T}return T?++L:Be.splice(0,1),te(E,Be,L)},k.negated=function(){var E=new l(this);return E.s=-E.s||null,E},k.plus=function(E,b){var T,L=this,D=L.s;if(E=new l(E,b),b=E.s,!D||!b)return new l(NaN);if(D!=b)return E.s=-b,L.minus(E);var U=L.e/u,q=E.e/u,P=L.c,j=E.c;if(!U||!q){if(!P||!j)return new l(D/0);if(!P[0]||!j[0])return j[0]?E:new l(P[0]?L:D*0)}if(U=x(U),q=x(q),P=P.slice(),D=U-q){for(D>0?(q=U,T=j):(D=-D,T=P),T.reverse();D--;T.push(0));T.reverse()}for(D=P.length,b=j.length,D-b<0&&(T=j,j=P,P=T,b=D),D=0;b;)D=(P[--b]=P[b]+j[b]+D)/a|0,P[b]=a===P[b]?0:P[b]%a;return D&&(P=[D].concat(P),++q),te(E,P,q)},k.precision=k.sd=function(E,b){var T,L,D,U=this;if(E!=null&&E!==!!E)return G(E,1,O),b==null?b=X:G(b,0,8),ee(new l(U),E,b);if(!(T=U.c))return null;if(D=T.length-1,L=D*u+1,D=T[D]){for(;D%10==0;D/=10,L--);for(D=T[0];D>=10;D/=10,L++);}return E&&U.e+1>L&&(L=U.e+1),L},k.shiftedBy=function(E){return G(E,-h,h),this.times("1e"+E)},k.squareRoot=k.sqrt=function(){var E,b,T,L,D,U=this,q=U.c,P=U.s,j=U.e,z=J+4,Q=new l("0.5");if(P!==1||!q||!q[0])return new l(!P||P<0&&(!q||q[0])?NaN:q?U:1/0);if(P=Math.sqrt(+ae(U)),P==0||P==1/0?(b=V(q),(b.length+j)%2==0&&(b+="0"),P=Math.sqrt(+b),j=x((j+1)/2)-(j<0||j%2),P==1/0?b="5e"+j:(b=P.toExponential(),b=b.slice(0,b.indexOf("e")+1)+j),T=new l(b)):T=new l(P+""),T.c[0]){for(j=T.e,P=j+z,P<3&&(P=0);;)if(D=T,T=Q.times(D.plus(K(U,D,z,1))),V(D.c).slice(0,P)===(b=V(T.c)).slice(0,P))if(T.e<j&&--P,b=b.slice(P-3,P+1),b=="9999"||!L&&b=="4999"){if(!L&&(ee(D,D.e+J+2,0),D.times(D).eq(U))){T=D;break}z+=4,P+=4,L=1}else{(!+b||!+b.slice(1)&&b.charAt(0)=="5")&&(ee(T,T.e+J+2,1),E=!T.times(T).eq(U));break}}return ee(T,T.e+J+1,X,E)},k.toExponential=function(E,b){return E!=null&&(G(E,0,O),E++),C(this,E,b,1)},k.toFixed=function(E,b){return E!=null&&(G(E,0,O),E=E+this.e+1),C(this,E,b)},k.toFormat=function(E,b,T){var L,D=this;if(T==null)E!=null&&b&&typeof b=="object"?(T=b,b=null):E&&typeof E=="object"?(T=E,E=b=null):T=N;else if(typeof T!="object")throw Error(s+"Argument not an object: "+T);if(L=D.toFixed(E,b),D.c){var U,q=L.split("."),P=+T.groupSize,j=+T.secondaryGroupSize,z=T.groupSeparator||"",Q=q[0],ue=q[1],he=D.s<0,de=he?Q.slice(1):Q,Be=de.length;if(j&&(U=P,P=j,j=U,Be-=U),P>0&&Be>0){for(U=Be%P||P,Q=de.substr(0,U);U<Be;U+=P)Q+=z+de.substr(U,P);j>0&&(Q+=z+de.slice(U)),he&&(Q="-"+Q)}L=ue?Q+(T.decimalSeparator||"")+((j=+T.fractionGroupSize)?ue.replace(new RegExp("\\d{"+j+"}\\B","g"),"$&"+(T.fractionGroupSeparator||"")):ue):Q}return(T.prefix||"")+L+(T.suffix||"")},k.toFraction=function(E){var b,T,L,D,U,q,P,j,z,Q,ue,he,de=this,Be=de.c;if(E!=null&&(P=new l(E),!P.isInteger()&&(P.c||P.s!==1)||P.lt(ce)))throw Error(s+"Argument "+(P.isInteger()?"out of range: ":"not an integer: ")+ae(P));if(!Be)return new l(de);for(b=new l(ce),z=T=new l(ce),L=j=new l(ce),he=V(Be),U=b.e=he.length-de.e-1,b.c[0]=p[(q=U%u)<0?u+q:q],E=!E||P.comparedTo(b)>0?U>0?b:z:P,q=g,g=1/0,P=new l(he),j.c[0]=0;Q=K(P,b,0,1),D=T.plus(Q.times(L)),D.comparedTo(E)!=1;)T=L,L=D,z=j.plus(Q.times(D=z)),j=D,b=P.minus(Q.times(D=b)),P=D;return D=K(E.minus(T),L,0,1),j=j.plus(D.times(z)),T=T.plus(D.times(L)),j.s=z.s=de.s,U=U*2,ue=K(z,L,U,X).minus(de).abs().comparedTo(K(j,T,U,X).minus(de).abs())<1?[z,L]:[j,T],g=q,ue},k.toNumber=function(){return+ae(this)},k.toPrecision=function(E,b){return E!=null&&G(E,1,O),C(this,E,b,2)},k.toString=function(E){var b,T=this,L=T.s,D=T.e;return D===null?L?(b="Infinity",L<0&&(b="-"+b)):b="NaN":(E==null?b=D<=A||D>=c?Y(V(T.c),D):W(V(T.c),D,"0"):E===10?(T=ee(new l(T),J+D+1,X),b=W(V(T.c),T.e,"0")):(G(E,2,I.length,"Base"),b=R(W(V(T.c),D,"0"),10,E,L,!0)),L<0&&T.c[0]&&(b="-"+b)),b},k.valueOf=k.toJSON=function(){return ae(this)},k._isBigNumber=!0,$!=null&&l.set($),l}function x($){var K=$|0;return $>0||$===K?K:K-1}function V($){for(var K,R,F=1,k=$.length,ce=$[0]+"";F<k;){for(K=$[F++]+"",R=u-K.length;R--;K="0"+K);ce+=K}for(k=ce.length;ce.charCodeAt(--k)===48;);return ce.slice(0,k+1||1)}function H($,K){var R,F,k=$.c,ce=K.c,J=$.s,X=K.s,A=$.e,c=K.e;if(!J||!X)return null;if(R=k&&!k[0],F=ce&&!ce[0],R||F)return R?F?0:-X:J;if(J!=X)return J;if(R=J<0,F=A==c,!k||!ce)return F?0:!k^R?1:-1;if(!F)return A>c^R?1:-1;for(X=(A=k.length)<(c=ce.length)?A:c,J=0;J<X;J++)if(k[J]!=ce[J])return k[J]>ce[J]^R?1:-1;return A==c?0:A>c^R?1:-1}function G($,K,R,F){if($<K||$>R||$!==n($))throw Error(s+(F||"Argument")+(typeof $=="number"?$<K||$>R?" out of range: ":" not an integer: ":" not a primitive number: ")+String($))}function ie($){var K=$.c.length-1;return x($.e/u)==K&&$.c[K]%2!=0}function Y($,K){return($.length>1?$.charAt(0)+"."+$.slice(1):$)+(K<0?"e":"e+")+K}function W($,K,R){var F,k;if(K<0){for(k=R+".";++K;k+=R);$=k+$}else if(F=$.length,++K>F){for(k=R,K-=F;--K;k+=R);$+=k}else K<F&&($=$.slice(0,K)+"."+$.slice(K));return $}e=B(),e.default=e.BigNumber=e,typeof define=="function"&&define.amd?define(function(){return e}):typeof Ll<"u"&&Ll.exports?Ll.exports=e:(r||(r=typeof self<"u"&&self?self:window),r.BigNumber=e)})(HE)});var $e=M(ge=>{"use strict";f();Object.defineProperty(ge,"__esModule",{value:!0});ge.ErrGasLimitShouldBe0ForInnerTransaction=ge.ErrInvalidRelayedV2BuilderArguments=ge.ErrInvalidRelayedV1BuilderArguments=ge.ErrNotImplemented=ge.ErrContractInteraction=ge.ErrCodec=ge.ErrCannotParseContractResults=ge.ErrMissingFieldOnEnum=ge.ErrMissingFieldOnStruct=ge.ErrTypeInferenceSystemRequiresRegularJavascriptObjects=ge.ErrTypingSystem=ge.ErrMock=ge.ErrContractHasNoAddress=ge.ErrContract=ge.ErrExpectedTransactionEventsNotFound=ge.ErrExpectedTransactionStatusNotReached=ge.ErrTransactionWatcherTimeout=ge.ErrAsyncTimerAborted=ge.ErrAsyncTimerAlreadyRunning=ge.ErrInvalidFunctionName=ge.ErrSignatureCannotCreate=ge.ErrTransactionOptionsInvalid=ge.ErrTransactionVersionInvalid=ge.ErrNonceInvalid=ge.ErrNotEnoughGas=ge.ErrAddressEmpty=ge.ErrAddressBadHrp=ge.ErrAddressCannotCreate=ge.ErrUnexpectedCondition=ge.ErrInvariantFailed=ge.ErrBadType=ge.ErrUnsupportedOperation=ge.ErrInvalidArgument=ge.Err=void 0;var Pe=class extends Error{constructor(e,t){super(e),this.inner=void 0,this.inner=t}summary(){let e=[];e.push({name:this.name,message:this.message});let t=this.inner;for(;t;)e.push({name:t.name,message:t.message}),t=t.inner;return e}};ge.Err=Pe;var I0=class extends Pe{constructor(e,t){super(`Invalid argument: ${e}`,t)}};ge.ErrInvalidArgument=I0;var _0=class extends Pe{constructor(e,t="not specified"){super(`Operation "${e}" not supported. Reason: ${t}`)}};ge.ErrUnsupportedOperation=_0;var b0=class extends Pe{constructor(e,t,i){super(`Bad type of "${e}": ${i}. Expected type: ${t}`)}};ge.ErrBadType=b0;var C0=class extends Pe{constructor(e){super(`Invariant failed: [${e}]`)}};ge.ErrInvariantFailed=C0;var S0=class extends Pe{constructor(e){super(`Unexpected condition: [${e}]`)}};ge.ErrUnexpectedCondition=S0;var x0=class extends Pe{constructor(e,t){let i=`Cannot create address from: ${e}`;super(i,t)}};ge.ErrAddressCannotCreate=x0;var T0=class extends Pe{constructor(e,t){super(`Wrong address HRP. Expected: ${e}, got ${t}`)}};ge.ErrAddressBadHrp=T0;var N0=class extends Pe{constructor(){super("Address is empty")}};ge.ErrAddressEmpty=N0;var D0=class extends Pe{constructor(e){super(`Not enough gas provided: ${e}`)}};ge.ErrNotEnoughGas=D0;var O0=class extends Pe{constructor(e){super(`Invalid nonce: ${e}`)}};ge.ErrNonceInvalid=O0;var B0=class extends Pe{constructor(e){super(`Invalid transaction version: ${e}`)}};ge.ErrTransactionVersionInvalid=B0;var M0=class extends Pe{constructor(e){super(`Invalid transaction options: ${e}`)}};ge.ErrTransactionOptionsInvalid=M0;var P0=class extends Pe{constructor(e,t){let i=`Cannot create signature from: ${e}`;super(i,t)}};ge.ErrSignatureCannotCreate=P0;var R0=class extends Pe{constructor(){super("Invalid function name")}};ge.ErrInvalidFunctionName=R0;var L0=class extends Pe{constructor(){super("Async timer already running")}};ge.ErrAsyncTimerAlreadyRunning=L0;var F0=class extends Pe{constructor(){super("Async timer aborted")}};ge.ErrAsyncTimerAborted=F0;var U0=class extends Pe{constructor(){super("TransactionWatcher has timed out")}};ge.ErrTransactionWatcherTimeout=U0;var q0=class extends Pe{constructor(){super("Expected transaction status not reached")}};ge.ErrExpectedTransactionStatusNotReached=q0;var V0=class extends Pe{constructor(){super("Expected transaction events not found")}};ge.ErrExpectedTransactionEventsNotFound=V0;var Fl=class extends Pe{constructor(e){super(e)}};ge.ErrContract=Fl;var H0=class extends Fl{constructor(){super(`
The smart contract has no address set. Make sure you provide the address in the constructor, or call setAddress() appropriately.
If you need to recompute the address of the contract, make use of SmartContract.computeAddress() (static method). 
`)}};ge.ErrContractHasNoAddress=H0;var Q0=class extends Pe{constructor(e){super(e)}};ge.ErrMock=Q0;var Ul=class extends Pe{constructor(e){super(e)}};ge.ErrTypingSystem=Ul;var j0=class extends Ul{constructor(e){super(`
argument at position ${e} seems to be a TypedValue. The automatic type inference system requires regular javascript objects as input.
This error might occur when you pass a TypedValue to contract.methods.myFunction([...]). For passing TypedValues instead of regular javascript objects, and bypass the automatic type inference system, use contract.methodsExplicit.myFunction([...]) instead.
Also see https://github.com/ElrondNetwork/elrond-sdk-erdjs/pull/187.
`)}};ge.ErrTypeInferenceSystemRequiresRegularJavascriptObjects=j0;var G0=class extends Pe{constructor(e,t){super(`field ${e} does not exist on struct ${t}`)}};ge.ErrMissingFieldOnStruct=G0;var K0=class extends Pe{constructor(e,t){super(`field ${e} does not exist on enum ${t}`)}};ge.ErrMissingFieldOnEnum=K0;var z0=class extends Pe{constructor(e){super(`cannot parse contract results: ${e}`)}};ge.ErrCannotParseContractResults=z0;var k0=class extends Pe{constructor(e){super(e)}};ge.ErrCodec=k0;var $0=class extends Pe{constructor(e){super(e)}};ge.ErrContractInteraction=$0;var W0=class extends Pe{constructor(){super("Method not yet implemented")}};ge.ErrNotImplemented=W0;var Y0=class extends Pe{constructor(){super("invalid arguments for relayed v1 builder")}};ge.ErrInvalidRelayedV1BuilderArguments=Y0;var J0=class extends Pe{constructor(){super("invalid arguments for relayed v2 builder")}};ge.ErrInvalidRelayedV2BuilderArguments=J0;var X0=class extends Pe{constructor(){super("gas limit must be 0 for the inner transaction for relayed v2")}};ge.ErrGasLimitShouldBe0ForInnerTransaction=X0});var Z0=M(Eo=>{"use strict";f();var aB=Eo&&Eo.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Eo,"__esModule",{value:!0});Eo.TokenPayment=void 0;var Gu=aB(Ur()),uB=$e(),QE="EGLD",jE=18;Gu.default.set({ROUNDING_MODE:1});var Ui=class{constructor(e,t,i,n){let s=new Gu.default(i);if(!s.isInteger()||s.isNegative())throw new uB.ErrInvalidArgument(`bad amountAsBigInteger: ${i}`);this.tokenIdentifier=e,this.nonce=t,this.amountAsBigInteger=s,this.numDecimals=n}static egldFromAmount(e){let t=new Gu.default(e).shiftedBy(jE).decimalPlaces(0);return this.egldFromBigInteger(t)}static egldFromBigInteger(e){return new Ui(QE,0,e,jE)}static fungibleFromAmount(e,t,i){let n=new Gu.default(t).shiftedBy(i).decimalPlaces(0);return this.fungibleFromBigInteger(e,n,i)}static fungibleFromBigInteger(e,t,i=0){return new Ui(e,0,t,i)}static nonFungible(e,t){return new Ui(e,t,1,0)}static semiFungible(e,t,i){return new Ui(e,t,i,0)}static metaEsdtFromAmount(e,t,i,n){let s=new Gu.default(i).shiftedBy(n).decimalPlaces(0);return this.metaEsdtFromBigInteger(e,t,s,n)}static metaEsdtFromBigInteger(e,t,i,n=0){return new Ui(e,t,i,n)}toString(){return this.amountAsBigInteger.toFixed(0)}valueOf(){return this.amountAsBigInteger}toPrettyString(){return`${this.toRationalNumber()} ${this.tokenIdentifier}`}toRationalNumber(){return this.amountAsBigInteger.shiftedBy(-this.numDecimals).toFixed(this.numDecimals)}isEgld(){return this.tokenIdentifier==QE}isFungible(){return this.nonce==0}};Eo.TokenPayment=Ui});var Ql=M((VK,zE)=>{"use strict";f();var Vl="qpzry9x8gf2tvdw0s3jn54khce6mua7l",eg={};for(Ku=0;Ku<Vl.length;Ku++){if(ql=Vl.charAt(Ku),eg[ql]!==void 0)throw new TypeError(ql+" is ambiguous");eg[ql]=Ku}var ql,Ku;function Ao(r){var e=r>>25;return(r&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}function GE(r){for(var e=1,t=0;t<r.length;++t){var i=r.charCodeAt(t);if(i<33||i>126)return"Invalid prefix ("+r+")";e=Ao(e)^i>>5}for(e=Ao(e),t=0;t<r.length;++t){var n=r.charCodeAt(t);e=Ao(e)^n&31}return e}function cB(r,e,t){if(t=t||90,r.length+7+e.length>t)throw new TypeError("Exceeds length limit");r=r.toLowerCase();var i=GE(r);if(typeof i=="string")throw new Error(i);for(var n=r+"1",s=0;s<e.length;++s){var o=e[s];if(o>>5!==0)throw new Error("Non 5-bit word");i=Ao(i)^o,n+=Vl.charAt(o)}for(s=0;s<6;++s)i=Ao(i);for(i^=1,s=0;s<6;++s){var a=i>>(5-s)*5&31;n+=Vl.charAt(a)}return n}function KE(r,e){if(e=e||90,r.length<8)return r+" too short";if(r.length>e)return"Exceeds length limit";var t=r.toLowerCase(),i=r.toUpperCase();if(r!==t&&r!==i)return"Mixed-case string "+r;r=t;var n=r.lastIndexOf("1");if(n===-1)return"No separator character for "+r;if(n===0)return"Missing prefix for "+r;var s=r.slice(0,n),o=r.slice(n+1);if(o.length<6)return"Data too short";var a=GE(s);if(typeof a=="string")return a;for(var u=[],h=0;h<o.length;++h){var p=o.charAt(h),m=eg[p];if(m===void 0)return"Unknown character "+p;a=Ao(a)^m,!(h+6>=o.length)&&u.push(m)}return a!==1?"Invalid checksum for "+r:{prefix:s,words:u}}function lB(){var r=KE.apply(null,arguments);if(typeof r=="object")return r}function fB(r){var e=KE.apply(null,arguments);if(typeof e=="object")return e;throw new Error(e)}function Hl(r,e,t,i){for(var n=0,s=0,o=(1<<t)-1,a=[],u=0;u<r.length;++u)for(n=n<<e|r[u],s+=e;s>=t;)s-=t,a.push(n>>s&o);if(i)s>0&&a.push(n<<t-s&o);else{if(s>=e)return"Excess padding";if(n<<t-s&o)return"Non-zero padding"}return a}function hB(r){var e=Hl(r,8,5,!0);if(Array.isArray(e))return e}function dB(r){var e=Hl(r,8,5,!0);if(Array.isArray(e))return e;throw new Error(e)}function pB(r){var e=Hl(r,5,8,!1);if(Array.isArray(e))return e}function gB(r){var e=Hl(r,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}zE.exports={decodeUnsafe:lB,decode:fB,encode:cB,toWordsUnsafe:hB,toWords:dB,fromWordsUnsafe:pB,fromWords:gB}});var qr=M(ii=>{"use strict";f();var yB=ii&&ii.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),mB=ii&&ii.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),kE=ii&&ii.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&yB(e,r,t);return mB(e,r),e};Object.defineProperty(ii,"__esModule",{value:!0});ii.Address=void 0;var jl=kE(Ql()),Io=kE($e()),tg="erd",rg=32,wB="0".repeat(16),Qt=class{constructor(e){if(this.valueHex="",!!e){if(e instanceof Qt)return Qt.fromAddress(e);if(e instanceof y.Buffer)return Qt.fromBuffer(e);if(typeof e=="string")return Qt.fromString(e);throw new Io.ErrAddressCannotCreate(e)}}static fromAddress(e){return Qt.fromValidHex(e.valueHex)}static fromValidHex(e){let t=new Qt;return t.valueHex=e,t}static fromBuffer(e){if(e.length!=rg)throw new Io.ErrAddressCannotCreate(e);return Qt.fromValidHex(e.toString("hex"))}static fromString(e){return Qt.isValidHex(e)?Qt.fromValidHex(e):Qt.fromBech32(e)}static isValidHex(e){return y.Buffer.from(e,"hex").length==rg}static fromHex(e){if(!Qt.isValidHex(e))throw new Io.ErrAddressCannotCreate(e);return Qt.fromValidHex(e)}static fromBech32(e){let t;try{t=jl.decode(e)}catch(s){throw new Io.ErrAddressCannotCreate(e,s)}let i=t.prefix;if(i!=tg)throw new Io.ErrAddressBadHrp(tg,i);let n=y.Buffer.from(jl.fromWords(t.words));if(n.length!=rg)throw new Io.ErrAddressCannotCreate(e);return Qt.fromValidHex(n.toString("hex"))}hex(){return this.isEmpty()?"":this.valueHex}bech32(){if(this.isEmpty())return"";let e=jl.toWords(this.pubkey());return jl.encode(tg,e)}pubkey(){return this.isEmpty()?y.Buffer.from([]):y.Buffer.from(this.valueHex,"hex")}isEmpty(){return!this.valueHex}equals(e){return e?this.valueHex==e.valueHex:!1}toString(){return this.bech32()}toJSON(){return{bech32:this.bech32(),pubkey:this.hex()}}static Zero(){return new Qt("0".repeat(64))}isContractAddress(){return this.hex().startsWith(wB)}};ii.Address=Qt});var br=M(Ze=>{"use strict";f();var vB=Ze&&Ze.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),EB=Ze&&Ze.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),AB=Ze&&Ze.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&vB(e,r,t);return EB(e,r),e};Object.defineProperty(Ze,"__esModule",{value:!0});Ze.isEmpty=Ze.guardEmpty=Ze.guardNotEmpty=Ze.guardLength=Ze.guardSameLength=Ze.guardValueIsSetWithMessage=Ze.guardValueIsSet=Ze.guardTrue=void 0;var _o=AB($e());function IB(r,e){if(!r)throw new _o.ErrInvariantFailed(`[<${e}>] isn't true`)}Ze.guardTrue=IB;function _B(r,e){$E(`${r} isn't set (null or undefined)`,e)}Ze.guardValueIsSet=_B;function $E(r,e){if(e==null||e===void 0)throw new _o.ErrInvariantFailed(r)}Ze.guardValueIsSetWithMessage=$E;function bB(r,e){if(r=r||[],e=e||[],r.length!=e.length)throw new _o.ErrInvariantFailed("arrays do not have the same length")}Ze.guardSameLength=bB;function CB(r,e){let t=r.length||0;if(t!=e)throw new _o.ErrInvariantFailed(`wrong length, expected: ${e}, actual: ${t}`)}Ze.guardLength=CB;function SB(r,e){if(ig(r))throw new _o.ErrInvariantFailed(`${e} is empty`)}Ze.guardNotEmpty=SB;function xB(r,e){if(!ig(r))throw new _o.ErrInvariantFailed(`${e} is not empty`)}Ze.guardEmpty=xB;function ig(r){return r.isEmpty?r.isEmpty():r.length===0}Ze.isEmpty=ig});var WE=M(Gl=>{"use strict";f();Object.defineProperty(Gl,"__esModule",{value:!0});Gl.getJavascriptPrototypesInHierarchy=void 0;function TB(r,e){let t=[],i=Object.getPrototypeOf(r);for(;i&&e(i);)t.push(i),i=Object.getPrototypeOf(i);return t}Gl.getJavascriptPrototypesInHierarchy=TB});var Ot=M(Dt=>{"use strict";f();Object.defineProperty(Dt,"__esModule",{value:!0});Dt.NullType=Dt.TypePlaceholder=Dt.isTyped=Dt.PrimitiveValue=Dt.TypedValue=Dt.CustomType=Dt.PrimitiveType=Dt.TypeCardinality=Dt.Type=void 0;var ng=WE(),YE=br(),vr=class{constructor(e,t=[],i=qi.fixed(1)){YE.guardValueIsSet("name",e),this.name=e,this.typeParameters=t,this.cardinality=i}getName(){return this.name}getClassName(){return vr.ClassName}getClassHierarchy(){return ng.getJavascriptPrototypesInHierarchy(this,i=>i.belongsToTypesystem).map(i=>i.getClassName()).reverse()}getFullyQualifiedName(){let e=this.getTypeParameters().map(t=>t.getFullyQualifiedName()).join(", ");return this.isGenericType()?`erdjs:types:${this.getName()}<${e}>`:`erdjs:types:${this.getName()}`}hasExactClass(e){return this.getClassName()==e}hasClassOrSuperclass(e){return this.getClassHierarchy().includes(e)}getTypeParameters(){return this.typeParameters}isGenericType(){return this.typeParameters.length>0}getFirstTypeParameter(){return YE.guardTrue(this.typeParameters.length>0,"type parameters length > 0"),this.typeParameters[0]}toString(){let e=this.getTypeParameters().map(i=>i.toString()).join(", "),t=e?`<${e}>`:"";return`${this.name}${t}`}equals(e){return vr.equals(this,e)}static equals(e,t){return e.getFullyQualifiedName()==t.getFullyQualifiedName()}static equalsMany(e,t){return e.every((i,n)=>i.equals(t[n]))}static isAssignableFromMany(e,t){return e.every((i,n)=>i.isAssignableFrom(t[n]))}differs(e){return!this.equals(e)}valueOf(){return this.name}isAssignableFrom(e){if(!vr.equalsMany(this.getTypeParameters(),e.getTypeParameters()))return!1;let i=this.getFullyQualifiedName();return vr.getFullyQualifiedNamesInHierarchy(e).includes(i)?!0:e.hasClassOrSuperclass(this.getClassName())}static getFullyQualifiedNamesInHierarchy(e){return ng.getJavascriptPrototypesInHierarchy(e,n=>n.belongsToTypesystem).map(n=>n.getFullyQualifiedName.call(e))}getNamesOfDependencies(){let e=[];for(let t of this.typeParameters)e.push(t.getName()),e.push(...t.getNamesOfDependencies());return[...new Set(e)]}toJSON(){return{name:this.name,typeParameters:this.typeParameters.map(e=>e.toJSON())}}getCardinality(){return this.cardinality}belongsToTypesystem(){}};Dt.Type=vr;vr.ClassName="Type";var qi=class{constructor(e,t){this.lowerBound=e,this.upperBound=t}static fixed(e){return new qi(e,e)}static variable(e){return new qi(0,e)}isSingular(){return this.lowerBound==1&&this.upperBound==1}isSingularOrNone(){return this.lowerBound==0&&this.upperBound==1}isComposite(){return this.upperBound!=1}isFixed(){return this.lowerBound==this.upperBound}getLowerBound(){return this.lowerBound}getUpperBound(){return this.upperBound||qi.MaxCardinality}};Dt.TypeCardinality=qi;qi.MaxCardinality=4096;var bo=class extends vr{constructor(e){super(e)}getClassName(){return bo.ClassName}};Dt.PrimitiveType=bo;bo.ClassName="PrimitiveType";var Co=class extends vr{getClassName(){return Co.ClassName}};Dt.CustomType=Co;Co.ClassName="CustomType";var as=class{constructor(e){this.type=e}getClassName(){return as.ClassName}getClassHierarchy(){return ng.getJavascriptPrototypesInHierarchy(this,i=>i.belongsToTypesystem).map(i=>i.getClassName()).reverse()}getType(){return this.type}hasExactClass(e){return this.getClassName()==e}hasClassOrSuperclass(e){return this.getClassHierarchy().includes(e)}belongsToTypesystem(){}};Dt.TypedValue=as;as.ClassName="TypedValue";var So=class extends as{constructor(e){super(e)}getClassName(){return So.ClassName}};Dt.PrimitiveValue=So;So.ClassName="PrimitiveValue";function NB(r){return r.belongsToTypesystem!==void 0}Dt.isTyped=NB;var xo=class extends vr{constructor(){super("...")}getClassName(){return xo.ClassName}};Dt.TypePlaceholder=xo;xo.ClassName="TypePlaceholder";var To=class extends vr{constructor(){super("?")}getClassName(){return To.ClassName}};Dt.NullType=To;To.ClassName="NullType"});var JE=M((No,Do)=>{f();(function(r){var e=typeof No=="object"&&No&&!No.nodeType&&No,t=typeof Do=="object"&&Do&&!Do.nodeType&&Do,i=typeof global=="object"&&global;(i.global===i||i.window===i||i.self===i)&&(r=i);var n,s=2147483647,o=36,a=1,u=26,h=38,p=700,m=72,O=128,B="-",x=/^xn--/,V=/[^\x20-\x7E]/,H=/[\x2E\u3002\uFF0E\uFF61]/g,G={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},ie=o-a,Y=Math.floor,W=String.fromCharCode,$;function K(v){throw new RangeError(G[v])}function R(v,S){for(var N=v.length,I=[];N--;)I[N]=S(v[N]);return I}function F(v,S){var N=v.split("@"),I="";N.length>1&&(I=N[0]+"@",v=N[1]),v=v.replace(H,".");var l=v.split("."),C=R(l,S).join(".");return I+C}function k(v){for(var S=[],N=0,I=v.length,l,C;N<I;)l=v.charCodeAt(N++),l>=55296&&l<=56319&&N<I?(C=v.charCodeAt(N++),(C&64512)==56320?S.push(((l&1023)<<10)+(C&1023)+65536):(S.push(l),N--)):S.push(l);return S}function ce(v){return R(v,function(S){var N="";return S>65535&&(S-=65536,N+=W(S>>>10&1023|55296),S=56320|S&1023),N+=W(S),N}).join("")}function J(v){return v-48<10?v-22:v-65<26?v-65:v-97<26?v-97:o}function X(v,S){return v+22+75*(v<26)-((S!=0)<<5)}function A(v,S,N){var I=0;for(v=N?Y(v/p):v>>1,v+=Y(v/S);v>ie*u>>1;I+=o)v=Y(v/ie);return Y(I+(ie+1)*v/(v+h))}function c(v){var S=[],N=v.length,I,l=0,C=O,Z=m,te,ee,ae,E,b,T,L,D,U;for(te=v.lastIndexOf(B),te<0&&(te=0),ee=0;ee<te;++ee)v.charCodeAt(ee)>=128&&K("not-basic"),S.push(v.charCodeAt(ee));for(ae=te>0?te+1:0;ae<N;){for(E=l,b=1,T=o;ae>=N&&K("invalid-input"),L=J(v.charCodeAt(ae++)),(L>=o||L>Y((s-l)/b))&&K("overflow"),l+=L*b,D=T<=Z?a:T>=Z+u?u:T-Z,!(L<D);T+=o)U=o-D,b>Y(s/U)&&K("overflow"),b*=U;I=S.length+1,Z=A(l-E,I,E==0),Y(l/I)>s-C&&K("overflow"),C+=Y(l/I),l%=I,S.splice(l++,0,C)}return ce(S)}function d(v){var S,N,I,l,C,Z,te,ee,ae,E,b,T=[],L,D,U,q;for(v=k(v),L=v.length,S=O,N=0,C=m,Z=0;Z<L;++Z)b=v[Z],b<128&&T.push(W(b));for(I=l=T.length,l&&T.push(B);I<L;){for(te=s,Z=0;Z<L;++Z)b=v[Z],b>=S&&b<te&&(te=b);for(D=I+1,te-S>Y((s-N)/D)&&K("overflow"),N+=(te-S)*D,S=te,Z=0;Z<L;++Z)if(b=v[Z],b<S&&++N>s&&K("overflow"),b==S){for(ee=N,ae=o;E=ae<=C?a:ae>=C+u?u:ae-C,!(ee<E);ae+=o)q=ee-E,U=o-E,T.push(W(X(E+q%U,0))),ee=Y(q/U);T.push(W(X(ee,0))),C=A(N,D,I==l),N=0,++I}++N,++S}return T.join("")}function g(v){return F(v,function(S){return x.test(S)?c(S.slice(4).toLowerCase()):S})}function w(v){return F(v,function(S){return V.test(S)?"xn--"+d(S):S})}if(n={version:"1.4.1",ucs2:{decode:k,encode:ce},decode:c,encode:d,toASCII:w,toUnicode:g},typeof define=="function"&&typeof define.amd=="object"&&define.amd)define("punycode",function(){return n});else if(e&&t)if(Do.exports==e)t.exports=n;else for($ in n)n.hasOwnProperty($)&&(e[$]=n[$]);else r.punycode=n})(No)});var tA=M((JK,og)=>{"use strict";f();var ZE=JE();function DB(r,e){this.__proto__=new Error(e),this.__proto__.name="BackslashError",this.offset=r}function sg(r){return r>="0"&&r<="7"}function OB(r){return r>="0"&&r<="9"||r>="a"&&r<="f"||r>="A"&&r<="F"}function XE(r){return r=parseInt(r,16),ZE.ucs2.encode([r])}function eA(r,e,t){var i=!1,n=[];function s(u){var h=r[u];if(!OB(h))throw new DB(u,"Unexpected token ILLEGAL");return h}for(;e<r.length;){var o=r[e];if(e++,i){switch(i=!1,o){case"n":n.push(`
`);continue;case"r":n.push("\r");continue;case"f":n.push("\f");continue;case"b":n.push("\b");continue;case"t":n.push("	");continue;case"v":n.push("\v");continue;case"\\":n.push("\\");continue}if(o==="x"){n.push(XE(s(e)+s(e+1))),e+=2;continue}if(o==="u"){n.push(XE(s(e)+s(e+1)+s(e+2)+s(e+3))),e+=4;continue}if(sg(o)){var a;sg(a=r[e])&&(e++,o+=a,sg(a=r[e])&&o[0]<="3"&&(e++,o+=a)),n.push(ZE.ucs2.encode([parseInt(o,8)]));continue}n.push(o)}else if(o==="\\")i=!0;else if(o===t){e--;break}else n.push(o)}return arguments.length===3?{end:e,value:n.join("")}:n.join("")}og.exports=function(e){return eA(e,0)};og.exports.parseUntil=function(e,t,i){return eA(e,t,i)}});var uA=M((ZK,aA)=>{f();var nA=tA();aA.exports={validate:BB,parse:MB};function BB(r,e){var t;if(e=e||!1,typeof r!="string")t="Input must be a string";else try{Kl(r,0,e,!1)}catch(i){t=i.message}return t}function MB(r,e){if(typeof r!="string")throw new Error("Input must be a string");e=e||!1;var t=Kl(r,0,e,!0);return t.value}function sA(r,e){for(var t=r.length,i=e,n,s=e;s<t;s++){var o=r[s];if(o===","){n=s;break}else if(o==="]"||o==="}"){n=s-1;break}else if(!us(o))throw Vi(r,s,"expecting end of expression or separator")}var a;return n===void 0?(n=t,a=r[n]):(a=r[n],n++),{start:i,end:n,value:a}}function PB(r,e){for(var t=r.length,i=e,n,s=e;s<t;s++){var o=r[s];if(o===":"){n=s;break}else if(!us(o))throw Vi(r,s,"expecting ':'")}if(n===void 0)throw Vi(r,s,"expecting ':'");return n++,{start:i,end:n}}function Kl(r,e,t,i){for(var n=r.length,s,o,a=!1,u=!1,h=!1,p=!1,m=!1,O=!1,B,x=e;x<n;x++){var V=r[x];if(s===void 0){if(!us(V)){if(V==="[")a=!0;else if(V==="{")u=!0;else if(V==='"')h=!0;else if(UB(r,x)){s=x,x=x+3,o=x,B=!0;break}else if(qB(r,x)){s=x,x=x+4,o=x,B=!1;break}else if(VB(r,x)){s=x,x=x+3,o=x,B=null;break}else if(rA(V))p=!0;else if(V==="-")p=!0;else throw Vi(r,x,"");s=x}}else if(a){var H=FB(r,x,t,i);o=H.end,B=H.value;break}else if(u){var G=LB(r,x,t,i);o=G.end,B=G.value;break}else if(h&&V==='"'&&oA(r,x-1)){o=x,B=nA(r.substring(s+1,o));break}else if(p)if(us(V))O=!0;else if(V===","||V==="]"||V==="}"){B=parseFloat(r.substring(s,o),10),o=x-1;break}else{if(rA(V)&&!O)continue;if(V==="."&&!m&&!O)m=!0;else throw Vi(r,x,"expecting number")}}if(o===void 0)if(p)B=parseFloat(r.substring(s,x),10),o=x-1;else throw Vi(r,x,"unclosed statement");return o++,{value:B,start:s,end:o}}function RB(r,e){for(var t=r.length,i,n,s=e;s<t;s++){var o=r[s];if(i===void 0){if(!us(o)){if(o!=='"')throw Vi(r,s,"expecting String");i=s}}else if(o==='"'&&oA(r,s-1)){n=s;break}}if(n===void 0)throw Vi(r,t,"expecting String");var a=nA(r.substring(i+1,n));if(a==="")throw Vi(r,i,"empty string");return n++,{start:i,end:n,value:a}}function LB(r,e,t,i){for(var n=e,s=",",o={},a=[],u=[],h=e;us(r[h]);)h++;if(r[h]==="}")return{start:e,end:h,value:o};for(;s===",";){var p=RB(r,n),m=PB(r,p.end),O=Kl(r,m.end,t,i),B=sA(r,O.end);t||a.indexOf(p.value)!==-1&&(p.value=p.value+"1"),a.push(p.value),u.push(O.value),n=B.end,s=B.value}if(i){var x=0;for(x=0;x<a.length;x++)o[a[x]]=u[x]}return{start:e,end:n,value:o}}function oA(r,e){for(var t=e,i=0;t>-1&&r[t]==="\\";)i++,t--;return i%2===0}function FB(r,e,t,i){for(var n=e,s=",",o=[],a=e;us(r[a]);)a++;if(r[a]==="]")return{start:e,end:a,value:o};for(;s===",";){var u=Kl(r,n,t,i),h=sA(r,u.end);i&&o.push(u.value),n=h.end,s=h.value}return{start:e,end:n,value:o}}function UB(r,e){return r.substr(e,4)==="true"}function qB(r,e){return r.substr(e,5)==="false"}function VB(r,e){return r.substr(e,4)==="null"}var HB=new RegExp(/^\s$/);function us(r){return HB.test(r)}var QB=new RegExp(/^\d$/);function rA(r){return QB.test(r)}function Vi(r,e,t){var i=10,n;r.length<e+i?n=r.substr(iA(r.length-i),r.length):e-i/2<0?n=r.substr(0,i):n=r.substr(iA(e-i/2),i);var s;return t?s="Syntax error: "+t+" near "+n:s="Syntax error near "+n,new Error(s)}function iA(r){return r<0?0:r}});var zl=M(ni=>{"use strict";f();var jB=ni&&ni.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),GB=ni&&ni.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),KB=ni&&ni.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&jB(e,r,t);return GB(e,r),e};Object.defineProperty(ni,"__esModule",{value:!0});ni.TypeExpressionParser=void 0;var cA=KB($e()),zB=Ot(),kB=uA(),ag=class{parse(e){let t=this.doParse(e),i=Object.keys(t);if(i.length!=1)throw new cA.ErrTypingSystem(`bad type expression: ${e}`);let n=i[0];return this.nodeToType(n,t[n])}doParse(e){let t=this.getJsonedString(e);try{return kB.parse(t)}catch{throw new cA.ErrTypingSystem(`cannot parse type expression: ${e}. internal json: ${t}.`)}}getJsonedString(e){let t="";for(var i=0;i<e.length;i++){let o=e.charAt(i),a=e.charAt(i-1),u=e.charAt(i+1);o=="<"?t+=": {":o==">"?a!=">"?t+=": {} }":t+="}":o==","?u==">"||(a==">"?t+=",":t+=": {},"):t+=o}let n=/(:|\{|\}|,|\s)/,s=t.replace(/utf\-8\sstring/ig,"utf-8-string").split(n).filter(o=>o);return t=s.map(o=>n.test(o)?o:`"${o}"`).map(o=>o.replace(/utf\-8\-string/ig,"utf-8 string")).join(""),s.length==1?`{${t}: {}}`:`{${t}}`}nodeToType(e,t){e.charAt(e.length-1)==="1"&&(e=e.slice(0,-1));let i=Object.keys(t).map(n=>this.nodeToType(n,t[n]));return new zB.Type(e,i)}};ni.TypeExpressionParser=ag});var Oo=M(fr=>{"use strict";f();var $B=fr&&fr.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),WB=fr&&fr.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),YB=fr&&fr.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&$B(e,r,t);return WB(e,r),e};Object.defineProperty(fr,"__esModule",{value:!0});fr.Fields=fr.Field=fr.FieldDefinition=void 0;var ug=YB($e()),JB=zl(),zu=class{constructor(e,t,i){this.name=e,this.description=t,this.type=i}static fromJSON(e){let t=new JB.TypeExpressionParser().parse(e.type);return new zu(e.name,e.description,t)}};fr.FieldDefinition=zu;var cg=class{constructor(e,t=""){this.value=e,this.name=t}checkTyping(e){let t=this.value.getType();if(!t.equals(e.type))throw new ug.ErrTypingSystem(`check type of field "${e.name}; expected: ${e.type}, actual: ${t}"`);if(this.name!=e.name)throw new ug.ErrTypingSystem(`check name of field "${e.name}"`)}equals(e){return this.name==e.name&&this.value.equals(e.value)}};fr.Field=cg;var lg=class{static checkTyping(e,t){if(e.length!=t.length)throw new ug.ErrTypingSystem("fields length vs. field definitions length");for(let i=0;i<e.length;i++){let n=e[i],s=t[i];n.checkTyping(s)}}static equals(e,t){if(e.length!=t.length)return!1;for(let i=0;i<e.length;i++){let n=e[i],s=t[i];if(!n.equals(s))return!1}return!0}static getNamesOfTypeDependencies(e){let t=[];for(let i of e)t.push(i.type.getName()),t.push(...i.type.getNamesOfDependencies());return[...new Set(t)]}};fr.Fields=lg});var ls=M(Mo=>{"use strict";f();Object.defineProperty(Mo,"__esModule",{value:!0});Mo.Struct=Mo.StructType=void 0;var XB=$e(),kl=Oo(),lA=Ot(),cs=class extends lA.CustomType{constructor(e,t){super(e),this.fieldsDefinitions=[],this.fieldsDefinitions=t}getClassName(){return cs.ClassName}static fromJSON(e){let t=(e.fields||[]).map(i=>kl.FieldDefinition.fromJSON(i));return new cs(e.name,t)}getFieldsDefinitions(){return this.fieldsDefinitions}getFieldDefinition(e){return this.fieldsDefinitions.find(t=>t.name==e)}getNamesOfDependencies(){return kl.Fields.getNamesOfTypeDependencies(this.fieldsDefinitions)}};Mo.StructType=cs;cs.ClassName="StructType";var Bo=class extends lA.TypedValue{constructor(e,t){super(e),this.fields=t,this.fieldsByName=new Map(t.map(i=>[i.name,i])),this.checkTyping()}getClassName(){return Bo.ClassName}checkTyping(){let t=this.getType().getFieldsDefinitions();kl.Fields.checkTyping(this.fields,t)}getFields(){return this.fields}getFieldValue(e){let t=this.fieldsByName.get(e);if(t)return t.value.valueOf();throw new XB.ErrMissingFieldOnStruct(e,this.getType().getName())}valueOf(){let e={};for(let t of this.fields)e[t.name]=t.value.valueOf();return e}equals(e){if(!this.getType().equals(e.getType()))return!1;let t=this.getFields(),i=e.getFields();return kl.Fields.equals(t,i)}};Mo.Struct=Bo;Bo.ClassName="Struct"});var Wl=M(on=>{"use strict";f();Object.defineProperty(on,"__esModule",{value:!0});on.EndpointParameterDefinition=on.EndpointModifiers=on.EndpointDefinition=void 0;var ZB=zl(),fA="?",eM="N / A",ku=class{constructor(e,t,i,n){this.input=[],this.output=[],this.name=e,this.input=t||[],this.output=i||[],this.modifiers=n}isConstructor(){return this.name=="constructor"}static fromJSON(e){e.name=e.name==null?fA:e.name,e.payableInTokens=e.payableInTokens||[],e.inputs=e.inputs||[],e.outputs=e.outputs||[];let t=e.inputs.map(s=>fs.fromJSON(s)),i=e.outputs.map(s=>fs.fromJSON(s)),n=new $l(e.mutability,e.payableInTokens);return new ku(e.name,t,i,n)}};on.EndpointDefinition=ku;var $l=class{constructor(e,t){this.mutability=e||"",this.payableInTokens=t||[]}isPayableInEGLD(){return this.isPayableInToken("EGLD")}isPayableInToken(e){return this.payableInTokens.includes(e)?!0:this.payableInTokens.includes(`!${e}`)?!1:!!this.payableInTokens.includes("*")}isPayable(){return this.payableInTokens.length!=0}isReadonly(){return this.mutability=="readonly"}};on.EndpointModifiers=$l;var fs=class{constructor(e,t,i){this.name=e,this.description=t,this.type=i}static fromJSON(e){let t=new ZB.TypeExpressionParser().parse(e.type);return new fs(e.name||fA,e.description||eM,t)}};on.EndpointParameterDefinition=fs});var fg=M(Yl=>{"use strict";f();Object.defineProperty(Yl,"__esModule",{value:!0});Yl.ContractInterface=void 0;var tM=br(),hA=Wl(),rM="?",$u=class{constructor(e,t,i){this.endpoints=[],this.name=e,this.constructorDefinition=t,this.endpoints=i}static fromJSON(e){e.name=e.name||rM,e.endpoints=e.endpoints||[];let t=iM(e),i=e.endpoints.map(n=>hA.EndpointDefinition.fromJSON(n));return new $u(e.name,t,i)}getConstructorDefinition(){return this.constructorDefinition}getEndpoint(e){let t=this.endpoints.find(i=>i.name==e);return tM.guardValueIsSetWithMessage(`endpoint [${e}] not found`,t),t}};Yl.ContractInterface=$u;function iM(r){if(r.constructor.inputs===void 0||r.constructor.outputs===void 0)return null;let e=Object.assign({name:"constructor"},r.constructor);return hA.EndpointDefinition.fromJSON(e)}});var Wu=M(un=>{"use strict";f();Object.defineProperty(un,"__esModule",{value:!0});un.EnumValue=un.EnumVariantDefinition=un.EnumType=void 0;var nM=$e(),hg=br(),Jl=Oo(),pA=Ot(),dA=256,hs=class extends pA.CustomType{constructor(e,t){super(e),this.variants=[],this.variants=t}getClassName(){return hs.ClassName}static fromJSON(e){let t=(e.variants||[]).map(i=>Po.fromJSON(i));return new hs(e.name,t)}getVariantByDiscriminant(e){let t=this.variants.find(i=>i.discriminant==e);return hg.guardValueIsSet(`variant by discriminant (${e})`,t),t}getVariantByName(e){let t=this.variants.find(i=>i.name==e);return hg.guardValueIsSet(`variant by name (${e})`,t),t}getNamesOfDependencies(){let e=[];for(let t of this.variants)e.push(...t.getNamesOfDependencies());return[...new Set(e)]}};un.EnumType=hs;hs.ClassName="EnumType";var Po=class{constructor(e,t,i=[]){this.fieldsDefinitions=[],hg.guardTrue(t<dA,`discriminant for simple enum should be less than ${dA}`),this.name=e,this.discriminant=t,this.fieldsDefinitions=i}static fromJSON(e){let t=(e.fields||[]).map(i=>Jl.FieldDefinition.fromJSON(i));return new Po(e.name,e.discriminant,t)}getFieldsDefinitions(){return this.fieldsDefinitions}getFieldDefinition(e){return this.fieldsDefinitions.find(t=>t.name==e)}getNamesOfDependencies(){return Jl.Fields.getNamesOfTypeDependencies(this.fieldsDefinitions)}};un.EnumVariantDefinition=Po;var an=class extends pA.TypedValue{constructor(e,t,i){super(e),this.fields=[],this.name=t.name,this.discriminant=t.discriminant,this.fields=i,this.fieldsByName=new Map(i.map(s=>[s.name,s]));let n=t.getFieldsDefinitions();Jl.Fields.checkTyping(this.fields,n)}getClassName(){return an.ClassName}static fromName(e,t){let i=e.getVariantByName(t);return new an(e,i,[])}static fromDiscriminant(e,t){let i=e.getVariantByDiscriminant(t);return new an(e,i,[])}equals(e){if(!this.getType().equals(e.getType()))return!1;let t=this.getFields(),i=e.getFields(),n=this.name==e.name,s=this.discriminant==e.discriminant,o=Jl.Fields.equals(t,i);return n&&s&&o}getFields(){return this.fields}getFieldValue(e){let t=this.fieldsByName.get(e);if(t)return t.value.valueOf();throw new nM.ErrMissingFieldOnEnum(e,this.getType().getName())}valueOf(){let e={name:this.name,fields:[]};return this.fields.forEach(t=>e.fields[t.name]=t.value.valueOf()),e}};un.EnumValue=an;an.ClassName="EnumValue"});var Fo=M(Lo=>{"use strict";f();Object.defineProperty(Lo,"__esModule",{value:!0});Lo.AddressValue=Lo.AddressType=void 0;var sM=qr(),gA=Ot(),ds=class extends gA.PrimitiveType{constructor(){super("Address")}getClassName(){return ds.ClassName}};Lo.AddressType=ds;ds.ClassName="AddressType";var Ro=class extends gA.PrimitiveValue{constructor(e){super(new ds),this.value=new sM.Address(e.bech32())}getClassName(){return Ro.ClassName}equals(e){return this.value.equals(e.value)}valueOf(){return this.value}};Lo.AddressValue=Ro;Ro.ClassName="AddressValue"});var Yu=M(qo=>{"use strict";f();Object.defineProperty(qo,"__esModule",{value:!0});qo.BooleanValue=qo.BooleanType=void 0;var yA=Ot(),ps=class extends yA.PrimitiveType{constructor(){super("bool")}getClassName(){return ps.ClassName}};qo.BooleanType=ps;ps.ClassName="BooleanType";var Uo=class extends yA.PrimitiveValue{constructor(e){super(new ps),this.value=e}getClassName(){return Uo.ClassName}equals(e){return this.value===e.value}isTrue(){return this.value===!0}isFalse(){return!this.isTrue()}valueOf(){return this.value}};qo.BooleanValue=Uo;Uo.ClassName="BooleanValue"});var ln=M(Vo=>{"use strict";f();Object.defineProperty(Vo,"__esModule",{value:!0});Vo.BytesValue=Vo.BytesType=void 0;var mA=Ot(),gs=class extends mA.PrimitiveType{constructor(){super("bytes")}getClassName(){return gs.ClassName}};Vo.BytesType=gs;gs.ClassName="BytesType";var cn=class extends mA.PrimitiveValue{constructor(e){super(new gs),this.value=e}getClassName(){return cn.ClassName}static fromUTF8(e){let t=y.Buffer.from(e,"utf-8");return new cn(t)}static fromHex(e){let t=y.Buffer.from(e,"hex");return new cn(t)}getLength(){return this.value.length}equals(e){return this.getLength()!=e.getLength()?!1:this.value.equals(e.value)}valueOf(){return this.value}toString(){return this.value.toString()}};Vo.BytesValue=cn;cn.ClassName="BytesValue"});var Xl=M(Ho=>{"use strict";f();Object.defineProperty(Ho,"__esModule",{value:!0});Ho.CompositeValue=Ho.CompositeType=void 0;var oM=br(),dg=Ot(),ys=class extends dg.Type{constructor(...e){super("Composite",e,dg.TypeCardinality.variable(e.length))}getClassName(){return ys.ClassName}};Ho.CompositeType=ys;ys.ClassName="CompositeType";var ms=class extends dg.TypedValue{constructor(e,t){super(e),oM.guardLength(t,e.getTypeParameters().length),this.items=t}getClassName(){return ms.ClassName}static fromItems(...e){let t=e.map(n=>n.getType()),i=new ys(...t);return new ms(i,e)}getItems(){return this.items}valueOf(){return this.items.map(e=>e?.valueOf())}equals(e){if(this.getType().differs(e.getType()))return!1;for(let t=0;t<this.items.length;t++){let i=this.items[t],n=e.items[t];if(!i.equals(n))return!1}return!0}};Ho.CompositeValue=ms;ms.ClassName="CompositeValue"});var gg=M(Zl=>{"use strict";f();Object.defineProperty(Zl,"__esModule",{value:!0});Zl.CollectionOfTypedValues=void 0;var pg=class{constructor(e){this.items=e}getLength(){return this.items.length}getItems(){return this.items}valueOf(){return this.items.map(e=>e.valueOf())}equals(e){if(this.getLength()!=e.getLength())return!1;for(let t=0;t<this.getLength();t++){let i=this.items[t],n=e.items[t];if(!i.equals(n))return!1}return!0}};Zl.CollectionOfTypedValues=pg});var Ju=M(si=>{"use strict";f();Object.defineProperty(si,"__esModule",{value:!0});si.List=si.OptionValue=si.ListType=si.OptionType=void 0;var aM=br(),uM=gg(),ws=Ot(),oi=class extends ws.Type{constructor(e){super("Option",[e])}getClassName(){return oi.ClassName}isAssignableFrom(e){if(!e.hasExactClass(oi.ClassName))return!1;let t=this.getFirstTypeParameter().equals(e.getFirstTypeParameter()),i=e.getFirstTypeParameter().hasExactClass(ws.NullType.ClassName);return t||i}};si.OptionType=oi;oi.ClassName="OptionType";var vs=class extends ws.Type{constructor(e){super("List",[e])}getClassName(){return vs.ClassName}};si.ListType=vs;vs.ClassName="ListType";var Hi=class extends ws.TypedValue{constructor(e,t=null){super(e),this.value=t}getClassName(){return Hi.ClassName}static newMissing(){let e=new oi(new ws.NullType);return new Hi(e)}static newMissingTyped(e){return new Hi(new oi(e))}static newProvided(e){let t=new oi(e.getType());return new Hi(t,e)}isSet(){return!!this.value}getTypedValue(){return aM.guardValueIsSet("value",this.value),this.value}valueOf(){return this.value?this.value.valueOf():null}equals(e){var t;return((t=this.value)===null||t===void 0?void 0:t.equals(e.value))||!1}};si.OptionValue=Hi;Hi.ClassName="OptionValue";var fn=class extends ws.TypedValue{constructor(e,t){super(e),this.backingCollection=new uM.CollectionOfTypedValues(t)}getClassName(){return fn.ClassName}static fromItems(e){if(e.length==0)return new fn(new ws.TypePlaceholder,[]);let t=e[0].getType(),i=new vs(t);return new fn(i,e)}getLength(){return this.backingCollection.getLength()}getItems(){return this.backingCollection.getItems()}valueOf(){return this.backingCollection.valueOf()}equals(e){return this.backingCollection.equals(e.backingCollection)}};si.List=fn;fn.ClassName="List"});var Xu=M(jo=>{"use strict";f();Object.defineProperty(jo,"__esModule",{value:!0});jo.H256Value=jo.H256Type=void 0;var wA=Ot(),Es=class extends wA.PrimitiveType{constructor(){super("H256")}getClassName(){return Es.ClassName}};jo.H256Type=Es;Es.ClassName="H256Type";var Qo=class extends wA.PrimitiveValue{constructor(e){super(new Es),this.value=e}getClassName(){return Qo.ClassName}equals(e){return this.value.equals(e.value)}valueOf(){return this.value}};jo.H256Value=Qo;Qo.ClassName="H256Value"});var Zu=M(Ee=>{"use strict";f();var cM=Ee&&Ee.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),lM=Ee&&Ee.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),fM=Ee&&Ee.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&cM(e,r,t);return lM(e,r),e},hM=Ee&&Ee.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ee,"__esModule",{value:!0});Ee.BigIntValue=Ee.BigUIntValue=Ee.I64Value=Ee.U64Value=Ee.I32Value=Ee.U32Value=Ee.I16Value=Ee.U16Value=Ee.I8Value=Ee.U8Value=Ee.NumericalValue=Ee.BigIntType=Ee.BigUIntType=Ee.I64Type=Ee.U64Type=Ee.I32Type=Ee.U32Type=Ee.I16Type=Ee.U16Type=Ee.I8Type=Ee.U8Type=Ee.NumericalType=void 0;var vA=fM($e()),EA=Ot(),Os=hM(Ur()),Xt=class extends EA.PrimitiveType{constructor(e,t,i){super(e),this.sizeInBytes=t,this.withSign=i}getClassName(){return Xt.ClassName}hasFixedSize(){return!!this.sizeInBytes}hasArbitrarySize(){return!this.hasFixedSize()}};Ee.NumericalType=Xt;Xt.ClassName="NumericalType";var As=class extends Xt{constructor(){super("u8",1,!1)}getClassName(){return As.ClassName}};Ee.U8Type=As;As.ClassName="U8Type";var Is=class extends Xt{constructor(){super("i8",1,!0)}getClassName(){return Is.ClassName}};Ee.I8Type=Is;Is.ClassName="I8Type";var _s=class extends Xt{constructor(){super("u16",2,!1)}getClassName(){return _s.ClassName}};Ee.U16Type=_s;_s.ClassName="U16Type";var bs=class extends Xt{constructor(){super("i16",2,!0)}getClassName(){return bs.ClassName}};Ee.I16Type=bs;bs.ClassName="I16Type";var Cs=class extends Xt{constructor(){super("u32",4,!1)}getClassName(){return Cs.ClassName}};Ee.U32Type=Cs;Cs.ClassName="U32Type";var Ss=class extends Xt{constructor(){super("i32",4,!0)}getClassName(){return Ss.ClassName}};Ee.I32Type=Ss;Ss.ClassName="I32Type";var xs=class extends Xt{constructor(){super("u64",8,!1)}getClassName(){return xs.ClassName}};Ee.U64Type=xs;xs.ClassName="U64Type";var Ts=class extends Xt{constructor(){super("i64",8,!0)}getClassName(){return Ts.ClassName}};Ee.I64Type=Ts;Ts.ClassName="I64Type";var Ns=class extends Xt{constructor(){super("BigUint",0,!1)}getClassName(){return Ns.ClassName}};Ee.BigUIntType=Ns;Ns.ClassName="BigUIntType";var Ds=class extends Xt{constructor(){super("Bigint",0,!0)}getClassName(){return Ds.ClassName}};Ee.BigIntType=Ds;Ds.ClassName="BigIntType";var Zt=class extends EA.PrimitiveValue{constructor(e,t){if(super(e),this.value=new Os.default(t),this.sizeInBytes=e.sizeInBytes,this.withSign=e.withSign,this.value.isNaN())throw new vA.ErrInvalidArgument(`not a number: ${t}`);if(!this.withSign&&this.value.isNegative())throw new vA.ErrInvalidArgument(`negative, but type is unsigned: ${t}`)}getClassName(){return Zt.ClassName}equals(e){return this.value.isEqualTo(e.value)}valueOf(){return this.value}toString(){return this.value.toString()}};Ee.NumericalValue=Zt;Zt.ClassName="NumericalValue";var Go=class extends Zt{constructor(e){super(new As,new Os.default(e))}getClassName(){return Go.ClassName}};Ee.U8Value=Go;Go.ClassName="U8Value";var Ko=class extends Zt{constructor(e){super(new Is,new Os.default(e))}getClassName(){return Ko.ClassName}};Ee.I8Value=Ko;Ko.ClassName="I8Value";var zo=class extends Zt{constructor(e){super(new _s,new Os.default(e))}getClassName(){return zo.ClassName}};Ee.U16Value=zo;zo.ClassName="U16Value";var ko=class extends Zt{constructor(e){super(new bs,new Os.default(e))}getClassName(){return ko.ClassName}};Ee.I16Value=ko;ko.ClassName="I16Value";var $o=class extends Zt{constructor(e){super(new Cs,new Os.default(e))}getClassName(){return $o.ClassName}};Ee.U32Value=$o;$o.ClassName="U32Value";var Wo=class extends Zt{constructor(e){super(new Ss,new Os.default(e))}getClassName(){return Wo.ClassName}};Ee.I32Value=Wo;Wo.ClassName="I32Value";var Yo=class extends Zt{constructor(e){super(new xs,e)}getClassName(){return Yo.ClassName}};Ee.U64Value=Yo;Yo.ClassName="U64Value";var Jo=class extends Zt{constructor(e){super(new Ts,e)}getClassName(){return Jo.ClassName}};Ee.I64Value=Jo;Jo.ClassName="I64Value";var Xo=class extends Zt{constructor(e){super(new Ns,e)}getClassName(){return Xo.ClassName}};Ee.BigUIntValue=Xo;Xo.ClassName="BigUIntValue";var Zo=class extends Zt{constructor(e){super(new Ds,e)}getClassName(){return Zo.ClassName}};Ee.BigIntValue=Zo;Zo.ClassName="BigIntValue"});var ta=M(ea=>{"use strict";f();Object.defineProperty(ea,"__esModule",{value:!0});ea.TokenIdentifierValue=ea.TokenIdentifierType=void 0;var AA=Ot(),dM="EGLD",Bs=class extends AA.PrimitiveType{constructor(){super("TokenIdentifier")}getClassName(){return Bs.ClassName}};ea.TokenIdentifierType=Bs;Bs.ClassName="TokenIdentifierType";var hn=class extends AA.PrimitiveValue{constructor(e){super(new Bs),this.value=e}static egld(){return new hn(dM)}static esdtTokenIdentifier(e){return new hn(e)}getClassName(){return hn.ClassName}getLength(){return this.value.length}equals(e){return this.getLength()!=e.getLength()?!1:this.value==e.value}valueOf(){return this.value}toString(){return this.value.toString()}};ea.TokenIdentifierValue=hn;hn.ClassName="TokenIdentifierValue"});var tf=M(ra=>{"use strict";f();Object.defineProperty(ra,"__esModule",{value:!0});ra.VariadicValue=ra.VariadicType=void 0;var ef=Ot(),pn=class extends ef.Type{constructor(e){super("Variadic",[e],ef.TypeCardinality.variable())}getClassName(){return pn.ClassName}};ra.VariadicType=pn;pn.ClassName="VariadicType";var dn=class extends ef.TypedValue{constructor(e,t){super(e),this.items=t}getClassName(){return dn.ClassName}static fromItems(...e){if(e.length==0)return new dn(new pn(new ef.TypePlaceholder),[]);let t=e[0].getType();return new dn(new pn(t),e)}getItems(){return this.items}valueOf(){return this.items.map(e=>e.valueOf())}equals(e){if(this.getType().differs(e.getType()))return!1;for(let t=0;t<this.items.length;t++){let i=this.items[t],n=e.items[t];if(!i.equals(n))return!1}return!0}};ra.VariadicValue=dn;dn.ClassName="VariadicValue"});var rf=M(ia=>{"use strict";f();Object.defineProperty(ia,"__esModule",{value:!0});ia.OptionalValue=ia.OptionalType=void 0;var pM=br(),ec=Ot(),gn=class extends ec.Type{constructor(e){super("Optional",[e],ec.TypeCardinality.variable(1))}getClassName(){return gn.ClassName}isAssignableFrom(e){if(!e.hasExactClass(gn.ClassName))return!1;let t=this.getFirstTypeParameter().equals(e.getFirstTypeParameter()),i=e.getFirstTypeParameter().hasExactClass(ec.NullType.ClassName);return t||i}};ia.OptionalType=gn;gn.ClassName="OptionalType";var Ms=class extends ec.TypedValue{constructor(e,t=null){super(e),this.value=t}getClassName(){return Ms.ClassName}static newMissing(){let e=new gn(new ec.NullType);return new Ms(e)}isSet(){return!!this.value}getTypedValue(){return pM.guardValueIsSet("value",this.value),this.value}valueOf(){return this.value?this.value.valueOf():null}equals(e){var t;return((t=this.value)===null||t===void 0?void 0:t.equals(e.value))||!1}};ia.OptionalValue=Ms;Ms.ClassName="OptionalValue"});var nf=M(oa=>{"use strict";f();Object.defineProperty(oa,"__esModule",{value:!0});oa.ArrayVec=oa.ArrayVecType=void 0;var IA=br(),gM=gg(),_A=Ot(),na=class extends _A.Type{constructor(e,t){super("Array",[t]),IA.guardTrue(e>0,"array length > 0"),this.length=e}getClassName(){return na.ClassName}};oa.ArrayVecType=na;na.ClassName="ArrayVecType";var sa=class extends _A.TypedValue{constructor(e,t){super(e),IA.guardLength(t,e.length),this.backingCollection=new gM.CollectionOfTypedValues(t)}getClassName(){return sa.ClassName}getLength(){return this.backingCollection.getLength()}getItems(){return this.backingCollection.getItems()}valueOf(){return this.backingCollection.valueOf()}equals(e){return this.backingCollection.equals(e.backingCollection)}};oa.ArrayVec=sa;sa.ClassName="ArrayVec"});var sf=M(aa=>{"use strict";f();Object.defineProperty(aa,"__esModule",{value:!0});aa.StringValue=aa.StringType=void 0;var bA=Ot(),Ps=class extends bA.PrimitiveType{constructor(){super("utf-8 string")}getClassName(){return Ps.ClassName}};aa.StringType=Ps;Ps.ClassName="StringType";var yn=class extends bA.PrimitiveValue{constructor(e){super(new Ps),this.value=e}getClassName(){return yn.ClassName}static fromUTF8(e){return new yn(e)}static fromHex(e){let t=y.Buffer.from(e,"hex").toString();return new yn(t)}getLength(){return this.value.length}equals(e){return this.value===e.value}valueOf(){return this.value}};aa.StringValue=yn;yn.ClassName="StringValue"});var of=M(Cr=>{"use strict";f();var yM=Cr&&Cr.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),mM=Cr&&Cr.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),wM=Cr&&Cr.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&yM(e,r,t);return mM(e,r),e};Object.defineProperty(Cr,"__esModule",{value:!0});Cr.Tuple=Cr.TupleType=void 0;var vM=wM($e()),EM=ls(),CA=Oo(),AM=ls(),Qi=class extends AM.StructType{constructor(...e){super(Qi.prepareName(e),Qi.prepareFieldDefinitions(e))}getClassName(){return Qi.ClassName}static prepareName(e){let t=e.map(n=>n.toString()).join(", ");return`tuple${t.length}<${t}>`}static prepareFieldDefinitions(e){return e.map((i,n)=>new CA.FieldDefinition(SA(n),"anonymous tuple field",i))}};Cr.TupleType=Qi;Qi.ClassName="TupleType";function SA(r){return`field${r}`}var Rs=class extends EM.Struct{constructor(e,t){super(e,t)}getClassName(){return Rs.ClassName}static fromItems(e){if(e.length<1)throw new vM.ErrTypingSystem("bad tuple items");let t=e.map(s=>s.getType()),i=new Qi(...t),n=e.map((s,o)=>new CA.Field(s,SA(o)));return new Rs(i,n)}};Cr.Tuple=Rs;Rs.ClassName="Tuple"});var TA=M(ua=>{"use strict";f();Object.defineProperty(ua,"__esModule",{value:!0});ua.CodeMetadataValue=ua.CodeMetadataType=void 0;var xA=Ot(),af=class extends xA.PrimitiveType{constructor(){super("CodeMetadata")}};ua.CodeMetadataType=af;var yg=class extends xA.PrimitiveValue{constructor(e){super(new af),this.value=e}equals(e){return this.value.equals(e.value)}valueOf(){return this.value}};ua.CodeMetadataValue=yg});var uf=M(la=>{"use strict";f();Object.defineProperty(la,"__esModule",{value:!0});la.NothingValue=la.NothingType=void 0;var NA=Ot(),Ls=class extends NA.PrimitiveType{constructor(){super("nothing")}getClassName(){return Ls.ClassName}};la.NothingType=Ls;Ls.ClassName="NothingType";var ca=class extends NA.PrimitiveValue{constructor(){super(new Ls)}getClassName(){return ca.ClassName}equals(e){return!1}valueOf(){return{}}};la.NothingValue=ca;ca.ClassName="NothingValue"});var Ag=M(ai=>{"use strict";f();var IM=ai&&ai.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),_M=ai&&ai.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),bM=ai&&ai.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&IM(e,r,t);return _M(e,r),e};Object.defineProperty(ai,"__esModule",{value:!0});ai.TypeMapper=void 0;var DA=bM($e()),CM=Fo(),SM=Yu(),xM=ln(),cf=Xl(),mg=Wu(),OA=Ju(),TM=Xu(),Sr=Zu(),BA=ls(),NM=Oo(),MA=ta(),wg=tf(),vg=rf(),lf=nf(),DM=sf(),mn=of(),OM=TA(),PA=uf(),Eg=class{constructor(e=[]){this.openTypesFactories=new Map([["Option",(...t)=>new OA.OptionType(t[0])],["List",(...t)=>new OA.ListType(t[0])],["VarArgs",(...t)=>new wg.VariadicType(t[0])],["MultiResultVec",(...t)=>new wg.VariadicType(t[0])],["variadic",(...t)=>new wg.VariadicType(t[0])],["OptionalArg",(...t)=>new vg.OptionalType(t[0])],["optional",(...t)=>new vg.OptionalType(t[0])],["OptionalResult",(...t)=>new vg.OptionalType(t[0])],["multi",(...t)=>new cf.CompositeType(...t)],["MultiArg",(...t)=>new cf.CompositeType(...t)],["MultiResult",(...t)=>new cf.CompositeType(...t)],["multi",(...t)=>new cf.CompositeType(...t)],["tuple",(...t)=>new mn.TupleType(...t)],["tuple2",(...t)=>new mn.TupleType(...t)],["tuple3",(...t)=>new mn.TupleType(...t)],["tuple4",(...t)=>new mn.TupleType(...t)],["tuple5",(...t)=>new mn.TupleType(...t)],["tuple6",(...t)=>new mn.TupleType(...t)],["tuple7",(...t)=>new mn.TupleType(...t)],["tuple8",(...t)=>new mn.TupleType(...t)],["array20",(...t)=>new lf.ArrayVecType(20,t[0])],["array32",(...t)=>new lf.ArrayVecType(32,t[0])],["array46",(...t)=>new lf.ArrayVecType(46,t[0])],["array64",(...t)=>new lf.ArrayVecType(64,t[0])]]),this.closedTypesMap=new Map([["u8",new Sr.U8Type],["u16",new Sr.U16Type],["u32",new Sr.U32Type],["u64",new Sr.U64Type],["U64",new Sr.U64Type],["BigUint",new Sr.BigUIntType],["i8",new Sr.I8Type],["i16",new Sr.I16Type],["i32",new Sr.I32Type],["i64",new Sr.I64Type],["Bigint",new Sr.BigIntType],["BigInt",new Sr.BigIntType],["bool",new SM.BooleanType],["bytes",new xM.BytesType],["Address",new CM.AddressType],["H256",new TM.H256Type],["utf-8 string",new DM.StringType],["TokenIdentifier",new MA.TokenIdentifierType],["EgldOrEsdtTokenIdentifier",new MA.TokenIdentifierType],["CodeMetadata",new OM.CodeMetadataType],["nothing",new PA.NothingType],["AsyncCall",new PA.NothingType]]),this.learnedTypesMap=new Map;for(let t of e)this.learnedTypesMap.set(t.getName(),t)}mapType(e){let t=this.mapRecursiveType(e);if(t)return t.isGenericType()||this.learnType(t),t;throw new DA.ErrTypingSystem(`Cannot map the type "${e.getName()}" to a known type`)}mapRecursiveType(e){let t=e.isGenericType(),i=this.learnedTypesMap.get(e.getName());if(i)return i;let n=this.closedTypesMap.get(e.getName());return n||(e.hasExactClass(mg.EnumType.ClassName)?this.mapEnumType(e):e.hasExactClass(BA.StructType.ClassName)?this.mapStructType(e):t?this.mapGenericType(e):null)}learnType(e){this.learnedTypesMap.delete(e.getName()),this.learnedTypesMap.set(e.getName(),e)}mapStructType(e){let t=this.mappedFields(e.getFieldsDefinitions());return new BA.StructType(e.getName(),t)}mapEnumType(e){let t=e.variants.map(n=>new mg.EnumVariantDefinition(n.name,n.discriminant,this.mappedFields(n.getFieldsDefinitions())));return new mg.EnumType(e.getName(),t)}mappedFields(e){return e.map(t=>new NM.FieldDefinition(t.name,t.description,this.mapType(t.type)))}mapGenericType(e){let i=e.getTypeParameters().map(s=>this.mapType(s)),n=this.openTypesFactories.get(e.getName());if(!n)throw new DA.ErrTypingSystem(`Cannot map the generic type "${e.getName()}" to a known type`);return n(...i)}};ai.TypeMapper=Eg});var VA=M(ui=>{"use strict";f();var BM=ui&&ui.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),MM=ui&&ui.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),PM=ui&&ui.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&BM(e,r,t);return MM(e,r),e};Object.defineProperty(ui,"__esModule",{value:!0});ui.AbiRegistry=void 0;var RM=PM($e()),Ig=br(),RA=ls(),LA=fg(),FA=Wu(),UA=Ag(),_g=Wl(),fa=class{constructor(){this.interfaces=[],this.customTypes=[]}static create(e){return new fa().extend(e).remapToKnownTypes()}extend(e){e.types=e.types||{};let t=LA.ContractInterface.fromJSON(e);this.interfaces.push(t);for(let i in e.types){let n=e.types[i],s=n.type;n.name=i;let o=this.createCustomType(s,n);this.customTypes.push(o)}return this.sortCustomTypesByDependencies(),this}createCustomType(e,t){if(e=="struct")return RA.StructType.fromJSON(t);if(e=="enum")return FA.EnumType.fromJSON(t);throw new RM.ErrTypingSystem(`Unknown type discriminant: ${e}`)}sortCustomTypesByDependencies(){this.customTypes.sort((e,t)=>t.getNamesOfDependencies().indexOf(e.getName())>-1?-1:1)}getInterface(e){let t=this.interfaces.find(i=>i.name==e);return Ig.guardValueIsSetWithMessage(`interface [${e}] not found`,t),t}getInterfaces(e){return e.map(t=>this.getInterface(t))}getStruct(e){let t=this.customTypes.find(i=>i.getName()==e&&i.hasExactClass(RA.StructType.ClassName));return Ig.guardValueIsSetWithMessage(`struct [${e}] not found`,t),t}getStructs(e){return e.map(t=>this.getStruct(t))}getEnum(e){let t=this.customTypes.find(i=>i.getName()==e&&i.hasExactClass(FA.EnumType.ClassName));return Ig.guardValueIsSetWithMessage(`enum [${e}] not found`,t),t}getEnums(e){return e.map(t=>this.getEnum(t))}remapToKnownTypes(){let e=new UA.TypeMapper([]),t=[],i=[];for(let s of this.customTypes){let o=e.mapType(s);t.push(o)}e=new UA.TypeMapper(t);for(let s of this.interfaces){let o=[];for(let u of s.endpoints)o.push(qA(u,e));let a=s.constructorDefinition?qA(s.constructorDefinition,e):null;i.push(new LA.ContractInterface(s.name,a,o))}let n=new fa;return n.customTypes.push(...t),n.interfaces.push(...i),n}};ui.AbiRegistry=fa;function qA(r,e){let t=r.input.map(n=>new _g.EndpointParameterDefinition(n.name,n.description,e.mapType(n.type))),i=r.output.map(n=>new _g.EndpointParameterDefinition(n.name,n.description,e.mapType(n.type)));return new _g.EndpointDefinition(r.name,t,i,r.modifiers)}});var QA=M(ha=>{"use strict";f();Object.defineProperty(ha,"__esModule",{value:!0});ha.createListOfTokenIdentifiers=ha.createListOfAddresses=void 0;var LM=Fo(),HA=Ju(),FM=ta();function UM(r){let e=r.map(i=>new LM.AddressValue(i));return HA.List.fromItems(e)}ha.createListOfAddresses=UM;function qM(r){let e=r.map(i=>new FM.TokenIdentifierValue(i));return HA.List.fromItems(e)}ha.createListOfTokenIdentifiers=qM});var rI=M(er=>{"use strict";f();var VM=er&&er.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),HM=er&&er.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),QM=er&&er.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&VM(e,r,t);return HM(e,r),e};Object.defineProperty(er,"__esModule",{value:!0});er.onPrimitiveTypeSelect=er.onPrimitiveValueSelect=er.onTypedValueSelect=er.onTypeSelect=void 0;var hf=QM($e()),jA=Fo(),GA=Yu(),KA=ln(),zA=Wu(),ff=Ju(),kA=Xu(),$A=Zu(),WA=uf(),YA=ls(),JA=ta(),XA=of(),ZA=Ot(),eI=nf(),tI=sf();function jM(r,e){if(r.hasExactClass(ff.OptionType.ClassName))return e.onOption();if(r.hasExactClass(ff.ListType.ClassName))return e.onList();if(r.hasExactClass(eI.ArrayVecType.ClassName))return e.onArray();if(r.hasClassOrSuperclass(ZA.PrimitiveType.ClassName))return e.onPrimitive();if(r.hasExactClass(YA.StructType.ClassName))return e.onStruct();if(r.hasExactClass(XA.TupleType.ClassName))return e.onTuple();if(r.hasExactClass(zA.EnumType.ClassName))return e.onEnum();if(e.onOther)return e.onOther();throw new hf.ErrTypingSystem(`type isn't known: ${r}`)}er.onTypeSelect=jM;function GM(r,e){if(r.hasClassOrSuperclass(ZA.PrimitiveValue.ClassName))return e.onPrimitive();if(r.hasExactClass(ff.OptionValue.ClassName))return e.onOption();if(r.hasExactClass(ff.List.ClassName))return e.onList();if(r.hasExactClass(eI.ArrayVec.ClassName))return e.onArray();if(r.hasExactClass(YA.Struct.ClassName))return e.onStruct();if(r.hasExactClass(XA.Tuple.ClassName))return e.onTuple();if(r.hasExactClass(zA.EnumValue.ClassName))return e.onEnum();if(e.onOther)return e.onOther();throw new hf.ErrTypingSystem(`value isn't typed: ${r}`)}er.onTypedValueSelect=GM;function KM(r,e){if(r.hasExactClass(GA.BooleanValue.ClassName))return e.onBoolean();if(r.hasClassOrSuperclass($A.NumericalValue.ClassName))return e.onNumerical();if(r.hasExactClass(jA.AddressValue.ClassName))return e.onAddress();if(r.hasExactClass(KA.BytesValue.ClassName))return e.onBytes();if(r.hasExactClass(tI.StringValue.ClassName))return e.onString();if(r.hasExactClass(kA.H256Value.ClassName))return e.onH256();if(r.hasExactClass(JA.TokenIdentifierValue.ClassName))return e.onTypeIdentifier();if(r.hasExactClass(WA.NothingValue.ClassName))return e.onNothing();if(e.onOther)return e.onOther();throw new hf.ErrTypingSystem(`value isn't a primitive: ${r.getType()}`)}er.onPrimitiveValueSelect=KM;function zM(r,e){if(r.hasExactClass(GA.BooleanType.ClassName))return e.onBoolean();if(r.hasClassOrSuperclass($A.NumericalType.ClassName))return e.onNumerical();if(r.hasExactClass(jA.AddressType.ClassName))return e.onAddress();if(r.hasExactClass(KA.BytesType.ClassName))return e.onBytes();if(r.hasExactClass(tI.StringType.ClassName))return e.onString();if(r.hasExactClass(kA.H256Type.ClassName))return e.onH256();if(r.hasExactClass(JA.TokenIdentifierType.ClassName))return e.onTokenIndetifier();if(r.hasExactClass(WA.NothingType.ClassName))return e.onNothing();if(e.onOther)return e.onOther();throw new hf.ErrTypingSystem(`type isn't a known primitive: ${r}`)}er.onPrimitiveTypeSelect=zM});var tr=M(Ue=>{"use strict";f();var kM=Ue&&Ue.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),We=Ue&&Ue.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&kM(e,r,t)};Object.defineProperty(Ue,"__esModule",{value:!0});We(VA(),Ue);We(Fo(),Ue);We(rf(),Ue);We(Yu(),Ue);We(ln(),Ue);We(Xl(),Ue);We(fg(),Ue);We(Wl(),Ue);We(Wu(),Ue);We(QA(),Ue);We(Oo(),Ue);We(Ju(),Ue);We(nf(),Ue);We(Xu(),Ue);We(rI(),Ue);We(uf(),Ue);We(Zu(),Ue);We(sf(),Ue);We(ls(),Ue);We(of(),Ue);We(ta(),Ue);We(zl(),Ue);We(Ag(),Ue);We(Ot(),Ue);We(tf(),Ue)});var nI=M(ci=>{"use strict";f();var $M=ci&&ci.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),WM=ci&&ci.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),YM=ci&&ci.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&$M(e,r,t);return WM(e,r),e};Object.defineProperty(ci,"__esModule",{value:!0});ci.OptionValueBinaryCodec=void 0;var iI=YM($e()),df=tr(),bg=class{constructor(e){this.binaryCodec=e}decodeNested(e,t){if(e[0]==0)return[df.OptionValue.newMissingTyped(t),1];if(e[0]!=1)throw new iI.ErrCodec("invalid buffer for optional value");let[i,n]=this.binaryCodec.decodeNested(e.slice(1),t);return[df.OptionValue.newProvided(i),n+1]}decodeTopLevel(e,t){if(e.length==0)return new df.OptionValue(t);if(e[0]!=1)throw new iI.ErrCodec("invalid buffer for optional value");let[i,n]=this.binaryCodec.decodeNested(e.slice(1),t);return new df.OptionValue(t,i)}encodeNested(e){return e.isSet()?y.Buffer.concat([y.Buffer.from([1]),this.binaryCodec.encodeNested(e.getTypedValue())]):y.Buffer.from([0])}encodeTopLevel(e){return e.isSet()?y.Buffer.concat([y.Buffer.from([1]),this.binaryCodec.encodeNested(e.getTypedValue())]):y.Buffer.from([])}};ci.OptionValueBinaryCodec=bg});var sI=M(pf=>{"use strict";f();Object.defineProperty(pf,"__esModule",{value:!0});pf.AddressBinaryCodec=void 0;var JM=qr(),XM=tr(),Cg=class{decodeNested(e){let t=e.slice(0,32),i=new JM.Address(t);return[new XM.AddressValue(i),32]}decodeTopLevel(e){let[t,i]=this.decodeNested(e);return t}encodeNested(e){return e.valueOf().pubkey()}encodeTopLevel(e){return e.valueOf().pubkey()}};pf.AddressBinaryCodec=Cg});var aI=M(li=>{"use strict";f();var ZM=li&&li.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),eP=li&&li.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),tP=li&&li.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&ZM(e,r,t);return eP(e,r),e};Object.defineProperty(li,"__esModule",{value:!0});li.BooleanBinaryCodec=void 0;var rP=tP($e()),oI=tr(),Vr=class{decodeNested(e){let t=e.readUInt8(0);return[new oI.BooleanValue(t==Vr.TRUE),1]}decodeTopLevel(e){if(e.length>1)throw new rP.ErrInvalidArgument("buffer should be of size <= 1");let t=e[0];return new oI.BooleanValue(t==Vr.TRUE)}encodeNested(e){return e.isTrue()?y.Buffer.from([Vr.TRUE]):y.Buffer.from([Vr.FALSE])}encodeTopLevel(e){return e.isTrue()?y.Buffer.from([Vr.TRUE]):y.Buffer.from([])}};li.BooleanBinaryCodec=Vr;Vr.TRUE=1;Vr.FALSE=0});var cI=M(fi=>{"use strict";f();var iP=fi&&fi.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(fi,"__esModule",{value:!0});fi.zeroPadStringIfOddLength=fi.isPaddedHex=fi.numberToPaddedHex=void 0;var nP=iP(Ur());function sP(r){let e=new nP.default(r).toString(16);return uI(e)}fi.numberToPaddedHex=sP;function oP(r){r=r||"";let e=y.Buffer.from(r,"hex").toString("hex");return r.toUpperCase()==e.toUpperCase()}fi.isPaddedHex=oP;function uI(r){return r=r||"",r.length%2==1?"0"+r:r}fi.zeroPadStringIfOddLength=uI});var Sg=M(Bt=>{"use strict";f();var aP=Bt&&Bt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Bt,"__esModule",{value:!0});Bt.prependByteToBuffer=Bt.flipBufferBitsInPlace=Bt.getHexMagnitudeOfBigInt=Bt.bigIntToBuffer=Bt.bufferToBigInt=Bt.cloneBuffer=Bt.isMsbZero=Bt.isMsbOne=void 0;var lI=aP(Ur()),uP=cI();function fI(r,e=0){return r[e]>>7==1}Bt.isMsbOne=fI;function cP(r,e=0){return!fI(r,e)}Bt.isMsbZero=cP;function lP(r){let e=y.Buffer.alloc(r.length);return r.copy(e),e}Bt.cloneBuffer=lP;function fP(r){let e=r.toString("hex");return new lI.default(`0x${e}`,16)}Bt.bufferToBigInt=fP;function hP(r){let e=hI(r);return y.Buffer.from(e,"hex")}Bt.bigIntToBuffer=hP;function hI(r){return r?(r.isNegative()&&(r=r.multipliedBy(new lI.default(-1))),uP.numberToPaddedHex(r)):""}Bt.getHexMagnitudeOfBigInt=hI;function dP(r){for(let e=0;e<r.length;e++)r[e]=~r[e]}Bt.flipBufferBitsInPlace=dP;function pP(r,e){return y.Buffer.concat([y.Buffer.from([e]),r])}Bt.prependByteToBuffer=pP});var yf=M(gf=>{"use strict";f();Object.defineProperty(gf,"__esModule",{value:!0});gf.SizeOfU32=void 0;gf.SizeOfU32=4});var pI=M(da=>{"use strict";f();var gP=da&&da.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(da,"__esModule",{value:!0});da.NumericalBinaryCodec=void 0;var xg=tr(),ut=Sg(),tc=gP(Ur()),dI=yf(),Tg=class{decodeNested(e,t){let i=0,n=t.sizeInBytes;n||(i=dI.SizeOfU32,n=e.readUInt32BE(0));let s=e.slice(i,i+n),o=this.decodeTopLevel(s,t),a=n+i;return[o,a]}decodeTopLevel(e,t){let i=ut.cloneBuffer(e);if(e.length==0)return new xg.NumericalValue(t,new tc.default(0));if(!t.withSign||ut.isMsbZero(i)){let h=ut.bufferToBigInt(i);return new xg.NumericalValue(t,h)}ut.flipBufferBitsInPlace(i);let u=ut.bufferToBigInt(i).multipliedBy(new tc.default(-1)).minus(new tc.default(1));return new xg.NumericalValue(t,u)}encodeNested(e){if(e.sizeInBytes)return this.encodeNestedFixedSize(e,e.sizeInBytes);let t=this.encodeTopLevel(e),i=y.Buffer.alloc(dI.SizeOfU32);return i.writeUInt32BE(t.length),y.Buffer.concat([i,t])}encodeNestedFixedSize(e,t){if(e.value.isZero())return y.Buffer.alloc(t,0);if(!e.withSign){let o=ut.bigIntToBuffer(e.value),a=y.Buffer.alloc(t-o.length,0);return y.Buffer.concat([a,o])}if(e.value.isPositive()){let o=ut.bigIntToBuffer(e.value);ut.isMsbOne(o)&&(o=ut.prependByteToBuffer(o,0));let a=y.Buffer.alloc(t-o.length,0);return y.Buffer.concat([a,o])}let i=e.value.plus(new tc.default(1)),n=ut.bigIntToBuffer(i);ut.flipBufferBitsInPlace(n),ut.isMsbZero(n)&&(n=ut.prependByteToBuffer(n,255));let s=y.Buffer.alloc(t-n.length,255);return y.Buffer.concat([s,n])}encodeTopLevel(e){let t=e.withSign;return e.value.isZero()?y.Buffer.alloc(0):t?this.encodePrimitive(e):ut.bigIntToBuffer(e.value)}encodePrimitive(e){if(e.value.isPositive()){let n=ut.bigIntToBuffer(e.value);return ut.isMsbOne(n)&&(n=ut.prependByteToBuffer(n,0)),n}let t=e.value.plus(new tc.default(1)),i=ut.bigIntToBuffer(t);return ut.flipBufferBitsInPlace(i),ut.isMsbZero(i)&&(i=ut.prependByteToBuffer(i,255)),i}};da.NumericalBinaryCodec=Tg});var gI=M(mf=>{"use strict";f();Object.defineProperty(mf,"__esModule",{value:!0});mf.H256BinaryCodec=void 0;var yP=Xu(),Ng=class{decodeNested(e){let t=e.slice(0,32);return[new yP.H256Value(t),32]}decodeTopLevel(e){let[t,i]=this.decodeNested(e);return t}encodeNested(e){return e.valueOf()}encodeTopLevel(e){return e.valueOf()}};mf.H256BinaryCodec=Ng});var Ef=M(vf=>{"use strict";f();Object.defineProperty(vf,"__esModule",{value:!0});vf.BytesBinaryCodec=void 0;var yI=ln(),wf=yf(),Dg=class{decodeNested(e){let t=e.readUInt32BE(0),i=e.slice(wf.SizeOfU32,wf.SizeOfU32+t);return[new yI.BytesValue(i),wf.SizeOfU32+t]}decodeTopLevel(e){return new yI.BytesValue(e)}encodeNested(e){let t=y.Buffer.alloc(wf.SizeOfU32);return t.writeUInt32BE(e.getLength()),y.Buffer.concat([t,e.valueOf()])}encodeTopLevel(e){return e.valueOf()}};vf.BytesBinaryCodec=Dg});var wI=M(Af=>{"use strict";f();Object.defineProperty(Af,"__esModule",{value:!0});Af.TokenIdentifierCodec=void 0;var mP=ln(),mI=ta(),wP=Ef(),Og=class{constructor(){this.bytesCodec=new wP.BytesBinaryCodec}decodeNested(e){let[t,i]=this.bytesCodec.decodeNested(e);return[new mI.TokenIdentifierValue(t.toString()),i]}decodeTopLevel(e){let t=this.bytesCodec.decodeTopLevel(e);return new mI.TokenIdentifierValue(t.toString())}encodeNested(e){let t=mP.BytesValue.fromUTF8(e.valueOf());return this.bytesCodec.encodeNested(t)}encodeTopLevel(e){return y.Buffer.from(e.valueOf())}};Af.TokenIdentifierCodec=Og});var EI=M(If=>{"use strict";f();Object.defineProperty(If,"__esModule",{value:!0});If.NothingCodec=void 0;var vI=tr(),Bg=class{decodeNested(){return[new vI.NothingValue,0]}decodeTopLevel(){return new vI.NothingValue}encodeNested(){return y.Buffer.from([])}encodeTopLevel(){return y.Buffer.from([])}};If.NothingCodec=Bg});var II=M(_f=>{"use strict";f();Object.defineProperty(_f,"__esModule",{value:!0});_f.StringBinaryCodec=void 0;var AI=tr(),vP=ln(),EP=Ef(),Mg=class{constructor(){this.bytesBinaryCodec=new EP.BytesBinaryCodec}decodeNested(e){let[t,i]=this.bytesBinaryCodec.decodeNested(e);return[new AI.StringValue(t.valueOf().toString()),i]}decodeTopLevel(e){return new AI.StringValue(e.toString())}encodeNested(e){let t=vP.BytesValue.fromUTF8(e.valueOf());return this.bytesBinaryCodec.encodeNested(t)}encodeTopLevel(e){return y.Buffer.from(e.valueOf())}};_f.StringBinaryCodec=Mg});var _I=M(Cf=>{"use strict";f();Object.defineProperty(Cf,"__esModule",{value:!0});Cf.PrimitiveBinaryCodec=void 0;var bf=tr(),AP=sI(),IP=aI(),_P=pI(),bP=gI(),CP=Ef(),SP=wI(),xP=EI(),TP=II(),Pg=class{constructor(e){this.binaryCodec=e,this.booleanCodec=new IP.BooleanBinaryCodec,this.numericalCodec=new _P.NumericalBinaryCodec,this.addressCodec=new AP.AddressBinaryCodec,this.h256Codec=new bP.H256BinaryCodec,this.bytesCodec=new CP.BytesBinaryCodec,this.stringCodec=new TP.StringBinaryCodec,this.tokenIdentifierCodec=new SP.TokenIdentifierCodec,this.nothingCodec=new xP.NothingCodec}decodeNested(e,t){return bf.onPrimitiveTypeSelect(t,{onBoolean:()=>this.booleanCodec.decodeNested(e),onNumerical:()=>this.numericalCodec.decodeNested(e,t),onAddress:()=>this.addressCodec.decodeNested(e),onBytes:()=>this.bytesCodec.decodeNested(e),onString:()=>this.stringCodec.decodeNested(e),onH256:()=>this.h256Codec.decodeNested(e),onTokenIndetifier:()=>this.tokenIdentifierCodec.decodeNested(e),onNothing:()=>this.nothingCodec.decodeNested()})}decodeTopLevel(e,t){return bf.onPrimitiveTypeSelect(t,{onBoolean:()=>this.booleanCodec.decodeTopLevel(e),onNumerical:()=>this.numericalCodec.decodeTopLevel(e,t),onAddress:()=>this.addressCodec.decodeTopLevel(e),onBytes:()=>this.bytesCodec.decodeTopLevel(e),onString:()=>this.stringCodec.decodeTopLevel(e),onH256:()=>this.h256Codec.decodeTopLevel(e),onTokenIndetifier:()=>this.tokenIdentifierCodec.decodeTopLevel(e),onNothing:()=>this.nothingCodec.decodeTopLevel()})}encodeNested(e){return bf.onPrimitiveValueSelect(e,{onBoolean:()=>this.booleanCodec.encodeNested(e),onNumerical:()=>this.numericalCodec.encodeNested(e),onAddress:()=>this.addressCodec.encodeNested(e),onBytes:()=>this.bytesCodec.encodeNested(e),onString:()=>this.stringCodec.encodeNested(e),onH256:()=>this.h256Codec.encodeNested(e),onTypeIdentifier:()=>this.tokenIdentifierCodec.encodeNested(e),onNothing:()=>this.nothingCodec.encodeNested()})}encodeTopLevel(e){return bf.onPrimitiveValueSelect(e,{onBoolean:()=>this.booleanCodec.encodeTopLevel(e),onNumerical:()=>this.numericalCodec.encodeTopLevel(e),onAddress:()=>this.addressCodec.encodeTopLevel(e),onBytes:()=>this.bytesCodec.encodeTopLevel(e),onString:()=>this.stringCodec.encodeTopLevel(e),onH256:()=>this.h256Codec.encodeTopLevel(e),onTypeIdentifier:()=>this.tokenIdentifierCodec.encodeTopLevel(e),onNothing:()=>this.nothingCodec.encodeTopLevel()})}};Cf.PrimitiveBinaryCodec=Pg});var SI=M(Sf=>{"use strict";f();Object.defineProperty(Sf,"__esModule",{value:!0});Sf.ListBinaryCodec=void 0;var bI=tr(),CI=yf(),Rg=class{constructor(e){this.binaryCodec=e}decodeNested(e,t){let i=t.getFirstTypeParameter(),n=[],s=e.readUInt32BE(0);this.binaryCodec.constraints.checkListLength(s);let o=e,a=CI.SizeOfU32;e=o.slice(a);for(let u=0;u<s;u++){let[h,p]=this.binaryCodec.decodeNested(e,i);n.push(h),a+=p,e=o.slice(a)}return[new bI.List(t,n),a]}decodeTopLevel(e,t){let i=t.getFirstTypeParameter(),n=[],s=e,o=0;for(;e.length>0;){let[a,u]=this.binaryCodec.decodeNested(e,i);n.push(a),o+=u,e=s.slice(o),this.binaryCodec.constraints.checkListLength(n.length)}return new bI.List(t,n)}encodeNested(e){this.binaryCodec.constraints.checkListLength(e.getLength());let t=y.Buffer.alloc(CI.SizeOfU32);t.writeUInt32BE(e.getLength());let i=[];for(let s of e.getItems()){let o=this.binaryCodec.encodeNested(s);i.push(o)}return y.Buffer.concat([t,...i])}encodeTopLevel(e){this.binaryCodec.constraints.checkListLength(e.getLength());let t=[];for(let n of e.getItems()){let s=this.binaryCodec.encodeNested(n);t.push(s)}return y.Buffer.concat(t)}};Sf.ListBinaryCodec=Rg});var Fg=M(xf=>{"use strict";f();Object.defineProperty(xf,"__esModule",{value:!0});xf.FieldsBinaryCodec=void 0;var NP=tr(),Lg=class{constructor(e){this.binaryCodec=e}decodeNested(e,t){let i=[],n=0;for(let s of t){let[o,a]=this.binaryCodec.decodeNested(e,s.type);e=e.slice(a),n+=a;let u=new NP.Field(o,s.name);i.push(u)}return[i,n]}encodeNested(e){let t=[];for(let i of e){let n=this.binaryCodec.encodeNested(i.value);t.push(n)}return y.Buffer.concat(t)}};xf.FieldsBinaryCodec=Lg});var qg=M(Tf=>{"use strict";f();Object.defineProperty(Tf,"__esModule",{value:!0});Tf.StructBinaryCodec=void 0;var DP=tr(),OP=Fg(),Ug=class{constructor(e){this.fieldsCodec=new OP.FieldsBinaryCodec(e)}decodeTopLevel(e,t){let[i]=this.decodeNested(e,t);return i}decodeNested(e,t){let i=t.getFieldsDefinitions(),[n,s]=this.fieldsCodec.decodeNested(e,i);return[new DP.Struct(t,n),s]}encodeNested(e){let t=e.getFields();return this.fieldsCodec.encodeNested(t)}encodeTopLevel(e){return this.encodeNested(e)}};Tf.StructBinaryCodec=Ug});var xI=M(Df=>{"use strict";f();Object.defineProperty(Df,"__esModule",{value:!0});Df.EnumBinaryCodec=void 0;var Nf=tr(),BP=Fg(),Vg=class{constructor(e){this.binaryCodec=e,this.fieldsCodec=new BP.FieldsBinaryCodec(e)}decodeTopLevel(e,t){let[i]=this.decodeNested(e,t);return i}decodeNested(e,t){let[i,n]=this.readDiscriminant(e);e=e.slice(n);let s=t.getVariantByDiscriminant(i),o=s.getFieldsDefinitions(),[a,u]=this.fieldsCodec.decodeNested(e,o);return[new Nf.EnumValue(t,s,a),n+u]}readDiscriminant(e){let[t,i]=this.binaryCodec.decodeNested(e,new Nf.U8Type);return[t.valueOf(),i]}encodeNested(e){let t=new Nf.U8Value(e.discriminant),i=this.binaryCodec.encodeNested(t),n=e.getFields(),s=this.fieldsCodec.encodeNested(n);return y.Buffer.concat([i,s])}encodeTopLevel(e){let t=e.getFields(),i=t.length>0,n=this.fieldsCodec.encodeNested(t),s=new Nf.U8Value(e.discriminant),o=i?this.binaryCodec.encodeNested(s):this.binaryCodec.encodeTopLevel(s);return y.Buffer.concat([o,n])}};Df.EnumBinaryCodec=Vg});var TI=M(Of=>{"use strict";f();Object.defineProperty(Of,"__esModule",{value:!0});Of.TupleBinaryCodec=void 0;var MP=qg(),Hg=class{constructor(e){this.structCodec=new MP.StructBinaryCodec(e)}decodeTopLevel(e,t){return this.structCodec.decodeTopLevel(e,t)}decodeNested(e,t){return this.structCodec.decodeNested(e,t)}encodeNested(e){return this.structCodec.encodeNested(e)}encodeTopLevel(e){return this.structCodec.encodeTopLevel(e)}};Of.TupleBinaryCodec=Hg});var NI=M(Bf=>{"use strict";f();Object.defineProperty(Bf,"__esModule",{value:!0});Bf.ArrayVecBinaryCodec=void 0;var PP=tr(),Qg=class{constructor(e){this.binaryCodec=e}decodeNested(e,t){let i=t.length,n=t.getFirstTypeParameter(),s=[],o=0;for(let a=0;a<i;a++){let[u,h]=this.binaryCodec.decodeNested(e,n);s.push(u),o+=h,e=e.slice(h)}return[new PP.ArrayVec(t,s),o]}decodeTopLevel(e,t){let[i,n]=this.decodeNested(e,t);return i}encodeNested(e){let t=[];for(let i of e.getItems()){let n=this.binaryCodec.encodeNested(i);t.push(n)}return y.Buffer.concat(t)}encodeTopLevel(e){return this.encodeNested(e)}};Bf.ArrayVecBinaryCodec=Qg});var Gg=M(xr=>{"use strict";f();var RP=xr&&xr.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),LP=xr&&xr.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),FP=xr&&xr.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&RP(e,r,t);return LP(e,r),e};Object.defineProperty(xr,"__esModule",{value:!0});xr.BinaryCodecConstraints=xr.BinaryCodec=void 0;var DI=FP($e()),Mf=tr(),OI=br(),UP=nI(),qP=_I(),VP=SI(),HP=qg(),QP=xI(),jP=TI(),GP=NI(),jg=class{constructor(e=null){this.constraints=e||new Pf,this.optionCodec=new UP.OptionValueBinaryCodec(this),this.listCodec=new VP.ListBinaryCodec(this),this.arrayCodec=new GP.ArrayVecBinaryCodec(this),this.primitiveCodec=new qP.PrimitiveBinaryCodec(this),this.structCodec=new HP.StructBinaryCodec(this),this.tupleCodec=new jP.TupleBinaryCodec(this),this.enumCodec=new QP.EnumBinaryCodec(this)}decodeTopLevel(e,t){return this.constraints.checkBufferLength(e),Mf.onTypeSelect(t,{onOption:()=>this.optionCodec.decodeTopLevel(e,t.getFirstTypeParameter()),onList:()=>this.listCodec.decodeTopLevel(e,t),onArray:()=>this.arrayCodec.decodeTopLevel(e,t),onPrimitive:()=>this.primitiveCodec.decodeTopLevel(e,t),onStruct:()=>this.structCodec.decodeTopLevel(e,t),onTuple:()=>this.tupleCodec.decodeTopLevel(e,t),onEnum:()=>this.enumCodec.decodeTopLevel(e,t)})}decodeNested(e,t){this.constraints.checkBufferLength(e);let[i,n]=Mf.onTypeSelect(t,{onOption:()=>this.optionCodec.decodeNested(e,t.getFirstTypeParameter()),onList:()=>this.listCodec.decodeNested(e,t),onArray:()=>this.arrayCodec.decodeNested(e,t),onPrimitive:()=>this.primitiveCodec.decodeNested(e,t),onStruct:()=>this.structCodec.decodeNested(e,t),onTuple:()=>this.tupleCodec.decodeNested(e,t),onEnum:()=>this.enumCodec.decodeNested(e,t)});return[i,n]}encodeNested(e){return OI.guardTrue(e.getType().getCardinality().isSingular(),"singular cardinality, thus encodable type"),Mf.onTypedValueSelect(e,{onPrimitive:()=>this.primitiveCodec.encodeNested(e),onOption:()=>this.optionCodec.encodeNested(e),onList:()=>this.listCodec.encodeNested(e),onArray:()=>this.arrayCodec.encodeNested(e),onStruct:()=>this.structCodec.encodeNested(e),onTuple:()=>this.tupleCodec.encodeNested(e),onEnum:()=>this.enumCodec.encodeNested(e)})}encodeTopLevel(e){return OI.guardTrue(e.getType().getCardinality().isSingular(),"singular cardinality, thus encodable type"),Mf.onTypedValueSelect(e,{onPrimitive:()=>this.primitiveCodec.encodeTopLevel(e),onOption:()=>this.optionCodec.encodeTopLevel(e),onList:()=>this.listCodec.encodeTopLevel(e),onArray:()=>this.arrayCodec.encodeTopLevel(e),onStruct:()=>this.structCodec.encodeTopLevel(e),onTuple:()=>this.tupleCodec.encodeTopLevel(e),onEnum:()=>this.enumCodec.encodeTopLevel(e)})}};xr.BinaryCodec=jg;var Pf=class{constructor(e){this.maxBufferLength=e?.maxBufferLength||40960,this.maxListLength=e?.maxListLength||8192}checkBufferLength(e){if(e.length>this.maxBufferLength)throw new DI.ErrCodec(`Buffer too large: ${e.length} > ${this.maxBufferLength}`)}checkListLength(e){if(e>this.maxListLength)throw new DI.ErrCodec(`List too large: ${e} > ${this.maxListLength}`)}};xr.BinaryCodecConstraints=Pf});var BI=M(Tr=>{"use strict";f();var KP=Tr&&Tr.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Tr,"__esModule",{value:!0});Tr.decodeBigNumber=Tr.decodeString=Tr.decodeBool=Tr.decodeUnsignedNumber=void 0;var zP=KP(Ur()),Rf=tr(),kP=Gg(),Lf=new kP.BinaryCodec;function $P(r){let e=Lf.decodeTopLevel(r,new Rf.BigUIntType);return Number(e.valueOf())}Tr.decodeUnsignedNumber=$P;function WP(r){let e=Lf.decodeTopLevel(r,new Rf.BooleanType);return Boolean(e.valueOf())}Tr.decodeBool=WP;function YP(r){let e=Lf.decodeTopLevel(r,new Rf.BytesType);return String(e.valueOf())}Tr.decodeString=YP;function JP(r){let e=Lf.decodeTopLevel(r,new Rf.BigUIntType);return new zP.default(e.valueOf())}Tr.decodeBigNumber=JP});var PI=M(wn=>{"use strict";f();var XP=wn&&wn.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),MI=wn&&wn.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&XP(e,r,t)};Object.defineProperty(wn,"__esModule",{value:!0});MI(Gg(),wn);MI(BI(),wn)});var Ff=M(vn=>{"use strict";f();Object.defineProperty(vn,"__esModule",{value:!0});vn.ArgSerializer=vn.ArgumentsSeparator=void 0;var ZP=PI(),Kg=rf(),zg=Xl(),kg=tf();vn.ArgumentsSeparator="@";var e5={codec:new ZP.BinaryCodec},$g=class{constructor(e){e=Object.assign(Object.assign({},e5),e),this.codec=e.codec}stringToValues(e,t){let i=this.stringToBuffers(e);return this.buffersToValues(i,t)}stringToBuffers(e){return e.split(vn.ArgumentsSeparator).map(t=>y.Buffer.from(t,"hex"))}buffersToValues(e,t){let i=this;e=e||[];let n=[],s=0,o=e.length;for(let p=0;p<t.length;p++){let O=t[p].type,B=a(O);n.push(B)}function a(p){if(p.hasExactClass(Kg.OptionalType.ClassName)){let m=a(p.getFirstTypeParameter());return new Kg.OptionalValue(p,m)}else if(p.hasExactClass(kg.VariadicType.ClassName)){let m=[];for(;!h();)m.push(a(p.getFirstTypeParameter()));return new kg.VariadicValue(p,m)}else if(p.hasExactClass(zg.CompositeType.ClassName)){let m=[];for(let O of p.getTypeParameters())m.push(a(O));return new zg.CompositeValue(p,m)}else return u(p)}function u(p){if(h())return null;let m=e[s++];return i.codec.decodeTopLevel(m,p)}function h(){return s>=o}return n}valuesToString(e){let t=this.valuesToStrings(e),i=t.join(vn.ArgumentsSeparator),n=t.length;return{argumentsString:i,count:n}}valuesToStrings(e){return this.valuesToBuffers(e).map(n=>n.toString("hex"))}valuesToBuffers(e){let t=this,i=[];for(let s of e)n(s);function n(s){if(s.hasExactClass(Kg.OptionalValue.ClassName)){let o=s;o.isSet()&&n(o.getTypedValue())}else if(s.hasExactClass(kg.VariadicValue.ClassName)){let o=s;for(let a of o.getItems())n(a)}else if(s.hasExactClass(zg.CompositeValue.ClassName)){let o=s;for(let a of o.getItems())n(a)}else{let o=t.codec.encodeTopLevel(s);i.push(o)}}return i}};vn.ArgSerializer=$g});var ty=M(Hr=>{"use strict";f();Object.defineProperty(Hr,"__esModule",{value:!0});Hr.ContractCallPayloadBuilder=Hr.ContractUpgradePayloadBuilder=Hr.ContractDeployPayloadBuilder=Hr.ArwenVirtualMachine=void 0;var Xg=rc(),Zg=br(),t5=Ff();Hr.ArwenVirtualMachine="0500";var Wg=class{constructor(){this.code=null,this.codeMetadata="",this.arguments=[]}setCode(e){return this.code=e,this}setCodeMetadata(e){return this.codeMetadata=e,this}addInitArg(e){return this.arguments.push(e),this}setInitArgs(e){return this.arguments=e,this}build(){Zg.guardValueIsSet("code",this.code);let e=this.code.toString(),t=this.codeMetadata.toString(),i=`${e}@${Hr.ArwenVirtualMachine}@${t}`;return i=ey(i,this.arguments),new Xg.TransactionPayload(i)}};Hr.ContractDeployPayloadBuilder=Wg;var Yg=class{constructor(){this.code=null,this.codeMetadata="",this.arguments=[]}setCode(e){return this.code=e,this}setCodeMetadata(e){return this.codeMetadata=e,this}addInitArg(e){return this.arguments.push(e),this}setInitArgs(e){return this.arguments=e,this}build(){Zg.guardValueIsSet("code",this.code);let e=this.code.toString(),t=this.codeMetadata.toString(),i=`upgradeContract@${e}@${t}`;return i=ey(i,this.arguments),new Xg.TransactionPayload(i)}};Hr.ContractUpgradePayloadBuilder=Yg;var Jg=class{constructor(){this.contractFunction=null,this.arguments=[]}setFunction(e){return this.contractFunction=e,this}addArg(e){return this.arguments.push(e),this}setArgs(e){return this.arguments=e,this}build(){Zg.guardValueIsSet("calledFunction",this.contractFunction);let e=this.contractFunction.name;return e=ey(e,this.arguments),new Xg.TransactionPayload(e)}};Hr.ContractCallPayloadBuilder=Jg;function ey(r,e){let{argumentsString:t,count:i}=new t5.ArgSerializer().valuesToString(e);return i==0?r:`${r}@${t}`}});var rc=M(Uf=>{"use strict";f();Object.defineProperty(Uf,"__esModule",{value:!0});Uf.TransactionPayload=void 0;var ry=ty(),pa=class{constructor(e){this.data=y.Buffer.from(e||[])}static fromEncoded(e){if(!e)return new pa("");let t=y.Buffer.from(e,"base64").toString();return new pa(t)}isEmpty(){return this.data.length==0}encoded(){return this.data.toString("base64")}valueOf(){return this.data}toString(){return this.data.toString()}getEncodedArguments(){return this.toString().split("@")}getRawArguments(){return this.getEncodedArguments().map(e=>y.Buffer.from(e,"hex"))}length(){return y.Buffer.from(this.data).length}static contractDeploy(){return new ry.ContractDeployPayloadBuilder}static contractUpgrade(){return new ry.ContractUpgradePayloadBuilder}static contractCall(){return new ry.ContractCallPayloadBuilder}};Uf.TransactionPayload=pa});var FI=M(En=>{"use strict";f();Object.defineProperty(En,"__esModule",{value:!0});En.MultiESDTNFTTransferPayloadBuilder=En.ESDTNFTTransferPayloadBuilder=En.ESDTTransferPayloadBuilder=void 0;var RI=qr(),oy=Ff(),Qr=tr(),LI=Z0(),ay=rc(),iy=class{constructor(){this.payment=LI.TokenPayment.fungibleFromAmount("","0",0)}setPayment(e){return this.payment=e,this}build(){let e=[Qr.BytesValue.fromUTF8(this.payment.tokenIdentifier),new Qr.BigUIntValue(this.payment.valueOf())],{argumentsString:t}=new oy.ArgSerializer().valuesToString(e),i=`ESDTTransfer@${t}`;return new ay.TransactionPayload(i)}};En.ESDTTransferPayloadBuilder=iy;var ny=class{constructor(){this.payment=LI.TokenPayment.nonFungible("",0),this.destination=new RI.Address("")}setPayment(e){return this.payment=e,this}setDestination(e){return this.destination=e,this}build(){let e=[Qr.BytesValue.fromUTF8(this.payment.tokenIdentifier),new Qr.U64Value(this.payment.nonce),new Qr.BigUIntValue(this.payment.valueOf()),new Qr.AddressValue(this.destination)],{argumentsString:t}=new oy.ArgSerializer().valuesToString(e),i=`ESDTNFTTransfer@${t}`;return new ay.TransactionPayload(i)}};En.ESDTNFTTransferPayloadBuilder=ny;var sy=class{constructor(){this.payments=[],this.destination=new RI.Address("")}setPayments(e){return this.payments=e,this}setDestination(e){return this.destination=e,this}build(){let e=[new Qr.AddressValue(this.destination),new Qr.U16Value(this.payments.length)];for(let n of this.payments)e.push(Qr.BytesValue.fromUTF8(n.tokenIdentifier),new Qr.U64Value(n.nonce),new Qr.BigUIntValue(n.valueOf()));let{argumentsString:t}=new oy.ArgSerializer().valuesToString(e),i=`MultiESDTNFTTransfer@${t}`;return new ay.TransactionPayload(i)}};En.MultiESDTNFTTransferPayloadBuilder=sy});var Vf=M(qf=>{"use strict";f();Object.defineProperty(qf,"__esModule",{value:!0});qf.Account=void 0;var r5=qr(),uy=class{constructor(e){this.address=new r5.Address,this.nonce=0,this.balance="0",this.address=e}update(e){this.nonce=e.nonce,this.balance=e.balance}incrementNonce(){this.nonce=this.nonce.valueOf()+1}getNonceThenIncrement(){let e=this.nonce;return this.nonce=this.nonce.valueOf()+1,e}toJSON(){return{address:this.address.bech32(),nonce:this.nonce.valueOf(),balance:this.balance.toString()}}};qf.Account=uy});var Hf=M(it=>{"use strict";f();Object.defineProperty(it,"__esModule",{value:!0});it.ESDT_TRANSFER_VALUE=it.MULTI_ESDTNFT_TRANSFER_FUNCTION_NAME=it.ESDTNFT_TRANSFER_FUNCTION_NAME=it.ESDT_TRANSFER_FUNCTION_NAME=it.ESDT_TRANSFER_GAS_LIMIT=it.TRANSACTION_VERSION_TX_HASH_SIGN=it.TRANSACTION_VERSION_DEFAULT=it.TRANSACTION_OPTIONS_TX_HASH_SIGN=it.TRANSACTION_OPTIONS_DEFAULT=it.TRANSACTION_MIN_GAS_PRICE=void 0;it.TRANSACTION_MIN_GAS_PRICE=1e9;it.TRANSACTION_OPTIONS_DEFAULT=0;it.TRANSACTION_OPTIONS_TX_HASH_SIGN=1;it.TRANSACTION_VERSION_DEFAULT=1;it.TRANSACTION_VERSION_TX_HASH_SIGN=2;it.ESDT_TRANSFER_GAS_LIMIT=5e5;it.ESDT_TRANSFER_FUNCTION_NAME="ESDTTransfer";it.ESDTNFT_TRANSFER_FUNCTION_NAME="ESDTNFTTransfer";it.MULTI_ESDTNFT_TRANSFER_FUNCTION_NAME="MultiESDTNFTTransfer";it.ESDT_TRANSFER_VALUE="0"});var qI=M(Nr=>{"use strict";f();var i5=Nr&&Nr.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),n5=Nr&&Nr.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),s5=Nr&&Nr.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&i5(e,r,t);return n5(e,r),e};Object.defineProperty(Nr,"__esModule",{value:!0});Nr.TransactionOptions=Nr.TransactionVersion=void 0;var UI=s5($e()),Qf=Hf(),ga=class{constructor(e){if(e=Number(e),e<1)throw new UI.ErrTransactionVersionInvalid(e);this.value=e}static withDefaultVersion(){return new ga(Qf.TRANSACTION_VERSION_DEFAULT)}static withTxHashSignVersion(){return new ga(Qf.TRANSACTION_VERSION_TX_HASH_SIGN)}valueOf(){return this.value}};Nr.TransactionVersion=ga;var ya=class{constructor(e){if(e=Number(e),e<0)throw new UI.ErrTransactionOptionsInvalid(e);this.value=e}static withDefaultOptions(){return new ya(Qf.TRANSACTION_OPTIONS_DEFAULT)}static withTxHashSignOptions(){return new ya(Qf.TRANSACTION_OPTIONS_TX_HASH_SIGN)}valueOf(){return this.value}};Nr.TransactionOptions=ya});var QI=M(hi=>{"use strict";f();var o5=hi&&hi.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),a5=hi&&hi.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),u5=hi&&hi.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&o5(e,r,t);return a5(e,r),e};Object.defineProperty(hi,"__esModule",{value:!0});hi.Signature=void 0;var VI=u5($e()),HI=64,jr=class{constructor(e){if(this.valueHex="",!!e){if(typeof e=="string")return jr.fromHex(e);if(e instanceof y.Buffer)return jr.fromBuffer(e)}}static empty(){return new jr}static fromHex(e){if(e.startsWith("0x")&&(e=e.slice(2)),!jr.isValidHex(e))throw new VI.ErrSignatureCannotCreate(e);return jr.fromValidHex(e)}static isValidHex(e){return y.Buffer.from(e,"hex").length==HI}static fromValidHex(e){let t=new jr;return t.valueHex=e,t}static fromBuffer(e){if(e.length!=HI)throw new VI.ErrSignatureCannotCreate(e);return jr.fromValidHex(e.toString("hex"))}hex(){return this.valueHex}};hi.Signature=jr});var GI=M((a$,jI)=>{"use strict";f();jI.exports=c5;function c5(r,e){for(var t=new Array(arguments.length-1),i=0,n=2,s=!0;n<arguments.length;)t[i++]=arguments[n++];return new Promise(function(a,u){t[i]=function(p){if(s)if(s=!1,p)u(p);else{for(var m=new Array(arguments.length-1),O=0;O<m.length;)m[O++]=arguments[O];a.apply(null,m)}};try{r.apply(e||null,t)}catch(h){s&&(s=!1,u(h))}})}});var $I=M(kI=>{"use strict";f();var jf=kI;jf.length=function(e){var t=e.length;if(!t)return 0;for(var i=0;--t%4>1&&e.charAt(t)==="=";)++i;return Math.ceil(e.length*3)/4-i};var ma=new Array(64),zI=new Array(123);for(Gr=0;Gr<64;)zI[ma[Gr]=Gr<26?Gr+65:Gr<52?Gr+71:Gr<62?Gr-4:Gr-59|43]=Gr++;var Gr;jf.encode=function(e,t,i){for(var n=null,s=[],o=0,a=0,u;t<i;){var h=e[t++];switch(a){case 0:s[o++]=ma[h>>2],u=(h&3)<<4,a=1;break;case 1:s[o++]=ma[u|h>>4],u=(h&15)<<2,a=2;break;case 2:s[o++]=ma[u|h>>6],s[o++]=ma[h&63],a=0;break}o>8191&&((n||(n=[])).push(String.fromCharCode.apply(String,s)),o=0)}return a&&(s[o++]=ma[u],s[o++]=61,a===1&&(s[o++]=61)),n?(o&&n.push(String.fromCharCode.apply(String,s.slice(0,o))),n.join("")):String.fromCharCode.apply(String,s.slice(0,o))};var KI="invalid encoding";jf.decode=function(e,t,i){for(var n=i,s=0,o,a=0;a<e.length;){var u=e.charCodeAt(a++);if(u===61&&s>1)break;if((u=zI[u])===void 0)throw Error(KI);switch(s){case 0:o=u,s=1;break;case 1:t[i++]=o<<2|(u&48)>>4,o=u,s=2;break;case 2:t[i++]=(o&15)<<4|(u&60)>>2,o=u,s=3;break;case 3:t[i++]=(o&3)<<6|u,s=0;break}}if(s===1)throw Error(KI);return i-n};jf.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}});var YI=M((f$,WI)=>{"use strict";f();WI.exports=Gf;function Gf(){this._listeners={}}Gf.prototype.on=function(e,t,i){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:i||this}),this};Gf.prototype.off=function(e,t){if(e===void 0)this._listeners={};else if(t===void 0)this._listeners[e]=[];else for(var i=this._listeners[e],n=0;n<i.length;)i[n].fn===t?i.splice(n,1):++n;return this};Gf.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var i=[],n=1;n<arguments.length;)i.push(arguments[n++]);for(n=0;n<t.length;)t[n].fn.apply(t[n++].ctx,i)}return this}});var i_=M((d$,r_)=>{"use strict";f();r_.exports=JI(JI);function JI(r){return typeof Float32Array<"u"?function(){var e=new Float32Array([-0]),t=new Uint8Array(e.buffer),i=t[3]===128;function n(u,h,p){e[0]=u,h[p]=t[0],h[p+1]=t[1],h[p+2]=t[2],h[p+3]=t[3]}function s(u,h,p){e[0]=u,h[p]=t[3],h[p+1]=t[2],h[p+2]=t[1],h[p+3]=t[0]}r.writeFloatLE=i?n:s,r.writeFloatBE=i?s:n;function o(u,h){return t[0]=u[h],t[1]=u[h+1],t[2]=u[h+2],t[3]=u[h+3],e[0]}function a(u,h){return t[3]=u[h],t[2]=u[h+1],t[1]=u[h+2],t[0]=u[h+3],e[0]}r.readFloatLE=i?o:a,r.readFloatBE=i?a:o}():function(){function e(i,n,s,o){var a=n<0?1:0;if(a&&(n=-n),n===0)i(1/n>0?0:2147483648,s,o);else if(isNaN(n))i(2143289344,s,o);else if(n>34028234663852886e22)i((a<<31|2139095040)>>>0,s,o);else if(n<11754943508222875e-54)i((a<<31|Math.round(n/1401298464324817e-60))>>>0,s,o);else{var u=Math.floor(Math.log(n)/Math.LN2),h=Math.round(n*Math.pow(2,-u)*8388608)&8388607;i((a<<31|u+127<<23|h)>>>0,s,o)}}r.writeFloatLE=e.bind(null,XI),r.writeFloatBE=e.bind(null,ZI);function t(i,n,s){var o=i(n,s),a=(o>>31)*2+1,u=o>>>23&255,h=o&8388607;return u===255?h?NaN:a*(1/0):u===0?a*1401298464324817e-60*h:a*Math.pow(2,u-150)*(h+8388608)}r.readFloatLE=t.bind(null,e_),r.readFloatBE=t.bind(null,t_)}(),typeof Float64Array<"u"?function(){var e=new Float64Array([-0]),t=new Uint8Array(e.buffer),i=t[7]===128;function n(u,h,p){e[0]=u,h[p]=t[0],h[p+1]=t[1],h[p+2]=t[2],h[p+3]=t[3],h[p+4]=t[4],h[p+5]=t[5],h[p+6]=t[6],h[p+7]=t[7]}function s(u,h,p){e[0]=u,h[p]=t[7],h[p+1]=t[6],h[p+2]=t[5],h[p+3]=t[4],h[p+4]=t[3],h[p+5]=t[2],h[p+6]=t[1],h[p+7]=t[0]}r.writeDoubleLE=i?n:s,r.writeDoubleBE=i?s:n;function o(u,h){return t[0]=u[h],t[1]=u[h+1],t[2]=u[h+2],t[3]=u[h+3],t[4]=u[h+4],t[5]=u[h+5],t[6]=u[h+6],t[7]=u[h+7],e[0]}function a(u,h){return t[7]=u[h],t[6]=u[h+1],t[5]=u[h+2],t[4]=u[h+3],t[3]=u[h+4],t[2]=u[h+5],t[1]=u[h+6],t[0]=u[h+7],e[0]}r.readDoubleLE=i?o:a,r.readDoubleBE=i?a:o}():function(){function e(i,n,s,o,a,u){var h=o<0?1:0;if(h&&(o=-o),o===0)i(0,a,u+n),i(1/o>0?0:2147483648,a,u+s);else if(isNaN(o))i(0,a,u+n),i(2146959360,a,u+s);else if(o>17976931348623157e292)i(0,a,u+n),i((h<<31|2146435072)>>>0,a,u+s);else{var p;if(o<22250738585072014e-324)p=o/5e-324,i(p>>>0,a,u+n),i((h<<31|p/4294967296)>>>0,a,u+s);else{var m=Math.floor(Math.log(o)/Math.LN2);m===1024&&(m=1023),p=o*Math.pow(2,-m),i(p*4503599627370496>>>0,a,u+n),i((h<<31|m+1023<<20|p*1048576&1048575)>>>0,a,u+s)}}}r.writeDoubleLE=e.bind(null,XI,0,4),r.writeDoubleBE=e.bind(null,ZI,4,0);function t(i,n,s,o,a){var u=i(o,a+n),h=i(o,a+s),p=(h>>31)*2+1,m=h>>>20&2047,O=4294967296*(h&1048575)+u;return m===2047?O?NaN:p*(1/0):m===0?p*5e-324*O:p*Math.pow(2,m-1075)*(O+4503599627370496)}r.readDoubleLE=t.bind(null,e_,0,4),r.readDoubleBE=t.bind(null,t_,4,0)}(),r}function XI(r,e,t){e[t]=r&255,e[t+1]=r>>>8&255,e[t+2]=r>>>16&255,e[t+3]=r>>>24}function ZI(r,e,t){e[t]=r>>>24,e[t+1]=r>>>16&255,e[t+2]=r>>>8&255,e[t+3]=r&255}function e_(r,e){return(r[e]|r[e+1]<<8|r[e+2]<<16|r[e+3]<<24)>>>0}function t_(r,e){return(r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3])>>>0}});var n_=M((exports,module)=>{"use strict";f();module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(r){}return null}});var o_=M(s_=>{"use strict";f();var cy=s_;cy.length=function(e){for(var t=0,i=0,n=0;n<e.length;++n)i=e.charCodeAt(n),i<128?t+=1:i<2048?t+=2:(i&64512)===55296&&(e.charCodeAt(n+1)&64512)===56320?(++n,t+=4):t+=3;return t};cy.read=function(e,t,i){var n=i-t;if(n<1)return"";for(var s=null,o=[],a=0,u;t<i;)u=e[t++],u<128?o[a++]=u:u>191&&u<224?o[a++]=(u&31)<<6|e[t++]&63:u>239&&u<365?(u=((u&7)<<18|(e[t++]&63)<<12|(e[t++]&63)<<6|e[t++]&63)-65536,o[a++]=55296+(u>>10),o[a++]=56320+(u&1023)):o[a++]=(u&15)<<12|(e[t++]&63)<<6|e[t++]&63,a>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,o)),a=0);return s?(a&&s.push(String.fromCharCode.apply(String,o.slice(0,a))),s.join("")):String.fromCharCode.apply(String,o.slice(0,a))};cy.write=function(e,t,i){for(var n=i,s,o,a=0;a<e.length;++a)s=e.charCodeAt(a),s<128?t[i++]=s:s<2048?(t[i++]=s>>6|192,t[i++]=s&63|128):(s&64512)===55296&&((o=e.charCodeAt(a+1))&64512)===56320?(s=65536+((s&1023)<<10)+(o&1023),++a,t[i++]=s>>18|240,t[i++]=s>>12&63|128,t[i++]=s>>6&63|128,t[i++]=s&63|128):(t[i++]=s>>12|224,t[i++]=s>>6&63|128,t[i++]=s&63|128);return i-n}});var u_=M((w$,a_)=>{"use strict";f();a_.exports=l5;function l5(r,e,t){var i=t||8192,n=i>>>1,s=null,o=i;return function(u){if(u<1||u>n)return r(u);o+u>i&&(s=r(i),o=0);var h=e.call(s,o,o+=u);return o&7&&(o=(o|7)+1),h}}});var l_=M((E$,c_)=>{"use strict";f();c_.exports=jt;var ic=In();function jt(r,e){this.lo=r>>>0,this.hi=e>>>0}var Fs=jt.zero=new jt(0,0);Fs.toNumber=function(){return 0};Fs.zzEncode=Fs.zzDecode=function(){return this};Fs.length=function(){return 1};var f5=jt.zeroHash="\0\0\0\0\0\0\0\0";jt.fromNumber=function(e){if(e===0)return Fs;var t=e<0;t&&(e=-e);var i=e>>>0,n=(e-i)/4294967296>>>0;return t&&(n=~n>>>0,i=~i>>>0,++i>4294967295&&(i=0,++n>4294967295&&(n=0))),new jt(i,n)};jt.from=function(e){if(typeof e=="number")return jt.fromNumber(e);if(ic.isString(e))if(ic.Long)e=ic.Long.fromString(e);else return jt.fromNumber(parseInt(e,10));return e.low||e.high?new jt(e.low>>>0,e.high>>>0):Fs};jt.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=~this.lo+1>>>0,i=~this.hi>>>0;return t||(i=i+1>>>0),-(t+i*4294967296)}return this.lo+this.hi*4294967296};jt.prototype.toLong=function(e){return ic.Long?new ic.Long(this.lo|0,this.hi|0,Boolean(e)):{low:this.lo|0,high:this.hi|0,unsigned:Boolean(e)}};var An=String.prototype.charCodeAt;jt.fromHash=function(e){return e===f5?Fs:new jt((An.call(e,0)|An.call(e,1)<<8|An.call(e,2)<<16|An.call(e,3)<<24)>>>0,(An.call(e,4)|An.call(e,5)<<8|An.call(e,6)<<16|An.call(e,7)<<24)>>>0)};jt.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};jt.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this};jt.prototype.zzDecode=function(){var e=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this};jt.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,i=this.hi>>>24;return i===0?t===0?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:i<128?9:10}});var In=M(ly=>{"use strict";f();var me=ly;me.asPromise=GI();me.base64=$I();me.EventEmitter=YI();me.float=i_();me.inquire=n_();me.utf8=o_();me.pool=u_();me.LongBits=l_();me.isNode=Boolean(typeof global<"u"&&global&&global.process&&global.process.versions&&global.process.versions.node);me.global=me.isNode&&global||typeof window<"u"&&window||typeof self<"u"&&self||ly;me.emptyArray=Object.freeze?Object.freeze([]):[];me.emptyObject=Object.freeze?Object.freeze({}):{};me.isInteger=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};me.isString=function(e){return typeof e=="string"||e instanceof String};me.isObject=function(e){return e&&typeof e=="object"};me.isset=me.isSet=function(e,t){var i=e[t];return i!=null&&e.hasOwnProperty(t)?typeof i!="object"||(Array.isArray(i)?i.length:Object.keys(i).length)>0:!1};me.Buffer=function(){try{var r=me.inquire("buffer").Buffer;return r.prototype.utf8Write?r:null}catch{return null}}();me._Buffer_from=null;me._Buffer_allocUnsafe=null;me.newBuffer=function(e){return typeof e=="number"?me.Buffer?me._Buffer_allocUnsafe(e):new me.Array(e):me.Buffer?me._Buffer_from(e):typeof Uint8Array>"u"?e:new Uint8Array(e)};me.Array=typeof Uint8Array<"u"?Uint8Array:Array;me.Long=me.global.dcodeIO&&me.global.dcodeIO.Long||me.global.Long||me.inquire("long");me.key2Re=/^true|false|0|1$/;me.key32Re=/^-?(?:0|[1-9][0-9]*)$/;me.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;me.longToHash=function(e){return e?me.LongBits.from(e).toHash():me.LongBits.zeroHash};me.longFromHash=function(e,t){var i=me.LongBits.fromHash(e);return me.Long?me.Long.fromBits(i.lo,i.hi,t):i.toNumber(Boolean(t))};function f_(r,e,t){for(var i=Object.keys(e),n=0;n<i.length;++n)(r[i[n]]===void 0||!t)&&(r[i[n]]=e[i[n]]);return r}me.merge=f_;me.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)};function h_(r){function e(t,i){if(!(this instanceof e))return new e(t,i);Object.defineProperty(this,"message",{get:function(){return t}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:new Error().stack||""}),i&&f_(this,i)}return(e.prototype=Object.create(Error.prototype)).constructor=e,Object.defineProperty(e.prototype,"name",{get:function(){return r}}),e.prototype.toString=function(){return this.name+": "+this.message},e}me.newError=h_;me.ProtocolError=h_("ProtocolError");me.oneOfGetter=function(e){for(var t={},i=0;i<e.length;++i)t[e[i]]=1;return function(){for(var n=Object.keys(this),s=n.length-1;s>-1;--s)if(t[n[s]]===1&&this[n[s]]!==void 0&&this[n[s]]!==null)return n[s]}};me.oneOfSetter=function(e){return function(t){for(var i=0;i<e.length;++i)e[i]!==t&&delete this[e[i]]}};me.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};me._configure=function(){var r=me.Buffer;if(!r){me._Buffer_from=me._Buffer_allocUnsafe=null;return}me._Buffer_from=r.from!==Uint8Array.from&&r.from||function(t,i){return new r(t,i)},me._Buffer_allocUnsafe=r.allocUnsafe||function(t){return new r(t)}}});var my=M((b$,y_)=>{"use strict";f();y_.exports=Fe;var Dr=In(),fy,Kf=Dr.LongBits,d_=Dr.base64,p_=Dr.utf8;function nc(r,e,t){this.fn=r,this.len=e,this.next=void 0,this.val=t}function dy(){}function h5(r){this.head=r.head,this.tail=r.tail,this.len=r.len,this.next=r.states}function Fe(){this.len=0,this.head=new nc(dy,0,0),this.tail=this.head,this.states=null}var g_=function(){return Dr.Buffer?function(){return(Fe.create=function(){return new fy})()}:function(){return new Fe}};Fe.create=g_();Fe.alloc=function(e){return new Dr.Array(e)};Dr.Array!==Array&&(Fe.alloc=Dr.pool(Fe.alloc,Dr.Array.prototype.subarray));Fe.prototype._push=function(e,t,i){return this.tail=this.tail.next=new nc(e,t,i),this.len+=t,this};function py(r,e,t){e[t]=r&255}function d5(r,e,t){for(;r>127;)e[t++]=r&127|128,r>>>=7;e[t]=r}function gy(r,e){this.len=r,this.next=void 0,this.val=e}gy.prototype=Object.create(nc.prototype);gy.prototype.fn=d5;Fe.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new gy((e=e>>>0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this};Fe.prototype.int32=function(e){return e<0?this._push(yy,10,Kf.fromNumber(e)):this.uint32(e)};Fe.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)};function yy(r,e,t){for(;r.hi;)e[t++]=r.lo&127|128,r.lo=(r.lo>>>7|r.hi<<25)>>>0,r.hi>>>=7;for(;r.lo>127;)e[t++]=r.lo&127|128,r.lo=r.lo>>>7;e[t++]=r.lo}Fe.prototype.uint64=function(e){var t=Kf.from(e);return this._push(yy,t.length(),t)};Fe.prototype.int64=Fe.prototype.uint64;Fe.prototype.sint64=function(e){var t=Kf.from(e).zzEncode();return this._push(yy,t.length(),t)};Fe.prototype.bool=function(e){return this._push(py,1,e?1:0)};function hy(r,e,t){e[t]=r&255,e[t+1]=r>>>8&255,e[t+2]=r>>>16&255,e[t+3]=r>>>24}Fe.prototype.fixed32=function(e){return this._push(hy,4,e>>>0)};Fe.prototype.sfixed32=Fe.prototype.fixed32;Fe.prototype.fixed64=function(e){var t=Kf.from(e);return this._push(hy,4,t.lo)._push(hy,4,t.hi)};Fe.prototype.sfixed64=Fe.prototype.fixed64;Fe.prototype.float=function(e){return this._push(Dr.float.writeFloatLE,4,e)};Fe.prototype.double=function(e){return this._push(Dr.float.writeDoubleLE,8,e)};var p5=Dr.Array.prototype.set?function(e,t,i){t.set(e,i)}:function(e,t,i){for(var n=0;n<e.length;++n)t[i+n]=e[n]};Fe.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(py,1,0);if(Dr.isString(e)){var i=Fe.alloc(t=d_.length(e));d_.decode(e,i,0),e=i}return this.uint32(t)._push(p5,t,e)};Fe.prototype.string=function(e){var t=p_.length(e);return t?this.uint32(t)._push(p_.write,t,e):this._push(py,1,0)};Fe.prototype.fork=function(){return this.states=new h5(this),this.head=this.tail=new nc(dy,0,0),this.len=0,this};Fe.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new nc(dy,0,0),this.len=0),this};Fe.prototype.ldelim=function(){var e=this.head,t=this.tail,i=this.len;return this.reset().uint32(i),i&&(this.tail.next=e.next,this.tail=t,this.len+=i),this};Fe.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),i=0;e;)e.fn(e.val,t,i),i+=e.len,e=e.next;return t};Fe._configure=function(r){fy=r,Fe.create=g_(),fy._configure()}});var v_=M((S$,w_)=>{"use strict";f();w_.exports=di;var m_=my();(di.prototype=Object.create(m_.prototype)).constructor=di;var _n=In();function di(){m_.call(this)}di._configure=function(){di.alloc=_n._Buffer_allocUnsafe,di.writeBytesBuffer=_n.Buffer&&_n.Buffer.prototype instanceof Uint8Array&&_n.Buffer.prototype.set.name==="set"?function(e,t,i){t.set(e,i)}:function(e,t,i){if(e.copy)e.copy(t,i,0,e.length);else for(var n=0;n<e.length;)t[i++]=e[n++]}};di.prototype.bytes=function(e){_n.isString(e)&&(e=_n._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(di.writeBytesBuffer,t,e),this};function g5(r,e,t){r.length<40?_n.utf8.write(r,e,t):e.utf8Write?e.utf8Write(r,t):e.write(r,t)}di.prototype.string=function(e){var t=_n.Buffer.byteLength(e);return this.uint32(t),t&&this._push(g5,t,e),this};di._configure()});var Ey=M((T$,b_)=>{"use strict";f();b_.exports=ct;var pi=In(),vy,I_=pi.LongBits,y5=pi.utf8;function Kr(r,e){return RangeError("index out of range: "+r.pos+" + "+(e||1)+" > "+r.len)}function ct(r){this.buf=r,this.pos=0,this.len=r.length}var E_=typeof Uint8Array<"u"?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new ct(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new ct(e);throw Error("illegal buffer")},__=function(){return pi.Buffer?function(t){return(ct.create=function(n){return pi.Buffer.isBuffer(n)?new vy(n):E_(n)})(t)}:E_};ct.create=__();ct.prototype._slice=pi.Array.prototype.subarray||pi.Array.prototype.slice;ct.prototype.uint32=function(){var e=4294967295;return function(){if(e=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(e=(e|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,Kr(this,10);return e}}();ct.prototype.int32=function(){return this.uint32()|0};ct.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(e&1)|0};function wy(){var r=new I_(0,0),e=0;if(this.len-this.pos>4){for(;e<4;++e)if(r.lo=(r.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return r;if(r.lo=(r.lo|(this.buf[this.pos]&127)<<28)>>>0,r.hi=(r.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return r;e=0}else{for(;e<3;++e){if(this.pos>=this.len)throw Kr(this);if(r.lo=(r.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return r}return r.lo=(r.lo|(this.buf[this.pos++]&127)<<e*7)>>>0,r}if(this.len-this.pos>4){for(;e<5;++e)if(r.hi=(r.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return r}else for(;e<5;++e){if(this.pos>=this.len)throw Kr(this);if(r.hi=(r.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return r}throw Error("invalid varint encoding")}ct.prototype.bool=function(){return this.uint32()!==0};function zf(r,e){return(r[e-4]|r[e-3]<<8|r[e-2]<<16|r[e-1]<<24)>>>0}ct.prototype.fixed32=function(){if(this.pos+4>this.len)throw Kr(this,4);return zf(this.buf,this.pos+=4)};ct.prototype.sfixed32=function(){if(this.pos+4>this.len)throw Kr(this,4);return zf(this.buf,this.pos+=4)|0};function A_(){if(this.pos+8>this.len)throw Kr(this,8);return new I_(zf(this.buf,this.pos+=4),zf(this.buf,this.pos+=4))}ct.prototype.float=function(){if(this.pos+4>this.len)throw Kr(this,4);var e=pi.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e};ct.prototype.double=function(){if(this.pos+8>this.len)throw Kr(this,4);var e=pi.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e};ct.prototype.bytes=function(){var e=this.uint32(),t=this.pos,i=this.pos+e;if(i>this.len)throw Kr(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,i):t===i?new this.buf.constructor(0):this._slice.call(this.buf,t,i)};ct.prototype.string=function(){var e=this.bytes();return y5.read(e,0,e.length)};ct.prototype.skip=function(e){if(typeof e=="number"){if(this.pos+e>this.len)throw Kr(this,e);this.pos+=e}else do if(this.pos>=this.len)throw Kr(this);while(this.buf[this.pos++]&128);return this};ct.prototype.skipType=function(r){switch(r){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(r=this.uint32()&7)!==4;)this.skipType(r);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+r+" at offset "+this.pos)}return this};ct._configure=function(r){vy=r,ct.create=__(),vy._configure();var e=pi.Long?"toLong":"toNumber";pi.merge(ct.prototype,{int64:function(){return wy.call(this)[e](!1)},uint64:function(){return wy.call(this)[e](!0)},sint64:function(){return wy.call(this).zzDecode()[e](!1)},fixed64:function(){return A_.call(this)[e](!0)},sfixed64:function(){return A_.call(this)[e](!1)}})}});var T_=M((D$,x_)=>{"use strict";f();x_.exports=Us;var S_=Ey();(Us.prototype=Object.create(S_.prototype)).constructor=Us;var C_=In();function Us(r){S_.call(this,r)}Us._configure=function(){C_.Buffer&&(Us.prototype._slice=C_.Buffer.prototype.slice)};Us.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))};Us._configure()});var D_=M((B$,N_)=>{"use strict";f();N_.exports=sc;var Ay=In();(sc.prototype=Object.create(Ay.EventEmitter.prototype)).constructor=sc;function sc(r,e,t){if(typeof r!="function")throw TypeError("rpcImpl must be a function");Ay.EventEmitter.call(this),this.rpcImpl=r,this.requestDelimited=Boolean(e),this.responseDelimited=Boolean(t)}sc.prototype.rpcCall=function r(e,t,i,n,s){if(!n)throw TypeError("request must be specified");var o=this;if(!s)return Ay.asPromise(r,o,e,t,i,n);if(!o.rpcImpl){setTimeout(function(){s(Error("already ended"))},0);return}try{return o.rpcImpl(e,t[o.requestDelimited?"encodeDelimited":"encode"](n).finish(),function(u,h){if(u)return o.emit("error",u,e),s(u);if(h===null){o.end(!0);return}if(!(h instanceof i))try{h=i[o.responseDelimited?"decodeDelimited":"decode"](h)}catch(p){return o.emit("error",p,e),s(p)}return o.emit("data",h,e),s(null,h)})}catch(a){o.emit("error",a,e),setTimeout(function(){s(a)},0);return}};sc.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}});var B_=M(O_=>{"use strict";f();var m5=O_;m5.Service=D_()});var P_=M((L$,M_)=>{"use strict";f();M_.exports={}});var F_=M(L_=>{"use strict";f();var hr=L_;hr.build="minimal";hr.Writer=my();hr.BufferWriter=v_();hr.Reader=Ey();hr.BufferReader=T_();hr.util=In();hr.rpc=B_();hr.roots=P_();hr.configure=R_;function R_(){hr.util._configure(),hr.Writer._configure(hr.BufferWriter),hr.Reader._configure(hr.BufferReader)}R_()});var q_=M((V$,U_)=>{"use strict";f();U_.exports=F_()});var H_=M((Q$,V_)=>{"use strict";f();var wa=q_(),kf=wa.Reader,w5=wa.Writer,le=wa.util,oc=wa.roots.default||(wa.roots.default={});oc.proto=function(){var r={};return r.Transaction=function(){function e(t){if(t)for(var i=Object.keys(t),n=0;n<i.length;++n)t[i[n]]!=null&&(this[i[n]]=t[i[n]])}return e.prototype.Nonce=le.Long?le.Long.fromBits(0,0,!0):0,e.prototype.Value=le.newBuffer([]),e.prototype.RcvAddr=le.newBuffer([]),e.prototype.RcvUserName=le.newBuffer([]),e.prototype.SndAddr=le.newBuffer([]),e.prototype.SndUserName=le.newBuffer([]),e.prototype.GasPrice=le.Long?le.Long.fromBits(0,0,!0):0,e.prototype.GasLimit=le.Long?le.Long.fromBits(0,0,!0):0,e.prototype.Data=le.newBuffer([]),e.prototype.ChainID=le.newBuffer([]),e.prototype.Version=0,e.prototype.Signature=le.newBuffer([]),e.prototype.Options=0,e.create=function(i){return new e(i)},e.encode=function(i,n){return n||(n=w5.create()),i.Nonce!=null&&Object.hasOwnProperty.call(i,"Nonce")&&n.uint32(8).uint64(i.Nonce),i.Value!=null&&Object.hasOwnProperty.call(i,"Value")&&n.uint32(18).bytes(i.Value),i.RcvAddr!=null&&Object.hasOwnProperty.call(i,"RcvAddr")&&n.uint32(26).bytes(i.RcvAddr),i.RcvUserName!=null&&Object.hasOwnProperty.call(i,"RcvUserName")&&n.uint32(34).bytes(i.RcvUserName),i.SndAddr!=null&&Object.hasOwnProperty.call(i,"SndAddr")&&n.uint32(42).bytes(i.SndAddr),i.SndUserName!=null&&Object.hasOwnProperty.call(i,"SndUserName")&&n.uint32(50).bytes(i.SndUserName),i.GasPrice!=null&&Object.hasOwnProperty.call(i,"GasPrice")&&n.uint32(56).uint64(i.GasPrice),i.GasLimit!=null&&Object.hasOwnProperty.call(i,"GasLimit")&&n.uint32(64).uint64(i.GasLimit),i.Data!=null&&Object.hasOwnProperty.call(i,"Data")&&n.uint32(74).bytes(i.Data),i.ChainID!=null&&Object.hasOwnProperty.call(i,"ChainID")&&n.uint32(82).bytes(i.ChainID),i.Version!=null&&Object.hasOwnProperty.call(i,"Version")&&n.uint32(88).uint32(i.Version),i.Signature!=null&&Object.hasOwnProperty.call(i,"Signature")&&n.uint32(98).bytes(i.Signature),i.Options!=null&&Object.hasOwnProperty.call(i,"Options")&&n.uint32(104).uint32(i.Options),n},e.encodeDelimited=function(i,n){return this.encode(i,n).ldelim()},e.decode=function(i,n){i instanceof kf||(i=kf.create(i));for(var s=n===void 0?i.len:i.pos+n,o=new oc.proto.Transaction;i.pos<s;){var a=i.uint32();switch(a>>>3){case 1:o.Nonce=i.uint64();break;case 2:o.Value=i.bytes();break;case 3:o.RcvAddr=i.bytes();break;case 4:o.RcvUserName=i.bytes();break;case 5:o.SndAddr=i.bytes();break;case 6:o.SndUserName=i.bytes();break;case 7:o.GasPrice=i.uint64();break;case 8:o.GasLimit=i.uint64();break;case 9:o.Data=i.bytes();break;case 10:o.ChainID=i.bytes();break;case 11:o.Version=i.uint32();break;case 12:o.Signature=i.bytes();break;case 13:o.Options=i.uint32();break;default:i.skipType(a&7);break}}return o},e.decodeDelimited=function(i){return i instanceof kf||(i=new kf(i)),this.decode(i,i.uint32())},e.verify=function(i){return typeof i!="object"||i===null?"object expected":i.Nonce!=null&&i.hasOwnProperty("Nonce")&&!le.isInteger(i.Nonce)&&!(i.Nonce&&le.isInteger(i.Nonce.low)&&le.isInteger(i.Nonce.high))?"Nonce: integer|Long expected":i.Value!=null&&i.hasOwnProperty("Value")&&!(i.Value&&typeof i.Value.length=="number"||le.isString(i.Value))?"Value: buffer expected":i.RcvAddr!=null&&i.hasOwnProperty("RcvAddr")&&!(i.RcvAddr&&typeof i.RcvAddr.length=="number"||le.isString(i.RcvAddr))?"RcvAddr: buffer expected":i.RcvUserName!=null&&i.hasOwnProperty("RcvUserName")&&!(i.RcvUserName&&typeof i.RcvUserName.length=="number"||le.isString(i.RcvUserName))?"RcvUserName: buffer expected":i.SndAddr!=null&&i.hasOwnProperty("SndAddr")&&!(i.SndAddr&&typeof i.SndAddr.length=="number"||le.isString(i.SndAddr))?"SndAddr: buffer expected":i.SndUserName!=null&&i.hasOwnProperty("SndUserName")&&!(i.SndUserName&&typeof i.SndUserName.length=="number"||le.isString(i.SndUserName))?"SndUserName: buffer expected":i.GasPrice!=null&&i.hasOwnProperty("GasPrice")&&!le.isInteger(i.GasPrice)&&!(i.GasPrice&&le.isInteger(i.GasPrice.low)&&le.isInteger(i.GasPrice.high))?"GasPrice: integer|Long expected":i.GasLimit!=null&&i.hasOwnProperty("GasLimit")&&!le.isInteger(i.GasLimit)&&!(i.GasLimit&&le.isInteger(i.GasLimit.low)&&le.isInteger(i.GasLimit.high))?"GasLimit: integer|Long expected":i.Data!=null&&i.hasOwnProperty("Data")&&!(i.Data&&typeof i.Data.length=="number"||le.isString(i.Data))?"Data: buffer expected":i.ChainID!=null&&i.hasOwnProperty("ChainID")&&!(i.ChainID&&typeof i.ChainID.length=="number"||le.isString(i.ChainID))?"ChainID: buffer expected":i.Version!=null&&i.hasOwnProperty("Version")&&!le.isInteger(i.Version)?"Version: integer expected":i.Signature!=null&&i.hasOwnProperty("Signature")&&!(i.Signature&&typeof i.Signature.length=="number"||le.isString(i.Signature))?"Signature: buffer expected":i.Options!=null&&i.hasOwnProperty("Options")&&!le.isInteger(i.Options)?"Options: integer expected":null},e.fromObject=function(i){if(i instanceof oc.proto.Transaction)return i;var n=new oc.proto.Transaction;return i.Nonce!=null&&(le.Long?(n.Nonce=le.Long.fromValue(i.Nonce)).unsigned=!0:typeof i.Nonce=="string"?n.Nonce=parseInt(i.Nonce,10):typeof i.Nonce=="number"?n.Nonce=i.Nonce:typeof i.Nonce=="object"&&(n.Nonce=new le.LongBits(i.Nonce.low>>>0,i.Nonce.high>>>0).toNumber(!0))),i.Value!=null&&(typeof i.Value=="string"?le.base64.decode(i.Value,n.Value=le.newBuffer(le.base64.length(i.Value)),0):i.Value.length&&(n.Value=i.Value)),i.RcvAddr!=null&&(typeof i.RcvAddr=="string"?le.base64.decode(i.RcvAddr,n.RcvAddr=le.newBuffer(le.base64.length(i.RcvAddr)),0):i.RcvAddr.length&&(n.RcvAddr=i.RcvAddr)),i.RcvUserName!=null&&(typeof i.RcvUserName=="string"?le.base64.decode(i.RcvUserName,n.RcvUserName=le.newBuffer(le.base64.length(i.RcvUserName)),0):i.RcvUserName.length&&(n.RcvUserName=i.RcvUserName)),i.SndAddr!=null&&(typeof i.SndAddr=="string"?le.base64.decode(i.SndAddr,n.SndAddr=le.newBuffer(le.base64.length(i.SndAddr)),0):i.SndAddr.length&&(n.SndAddr=i.SndAddr)),i.SndUserName!=null&&(typeof i.SndUserName=="string"?le.base64.decode(i.SndUserName,n.SndUserName=le.newBuffer(le.base64.length(i.SndUserName)),0):i.SndUserName.length&&(n.SndUserName=i.SndUserName)),i.GasPrice!=null&&(le.Long?(n.GasPrice=le.Long.fromValue(i.GasPrice)).unsigned=!0:typeof i.GasPrice=="string"?n.GasPrice=parseInt(i.GasPrice,10):typeof i.GasPrice=="number"?n.GasPrice=i.GasPrice:typeof i.GasPrice=="object"&&(n.GasPrice=new le.LongBits(i.GasPrice.low>>>0,i.GasPrice.high>>>0).toNumber(!0))),i.GasLimit!=null&&(le.Long?(n.GasLimit=le.Long.fromValue(i.GasLimit)).unsigned=!0:typeof i.GasLimit=="string"?n.GasLimit=parseInt(i.GasLimit,10):typeof i.GasLimit=="number"?n.GasLimit=i.GasLimit:typeof i.GasLimit=="object"&&(n.GasLimit=new le.LongBits(i.GasLimit.low>>>0,i.GasLimit.high>>>0).toNumber(!0))),i.Data!=null&&(typeof i.Data=="string"?le.base64.decode(i.Data,n.Data=le.newBuffer(le.base64.length(i.Data)),0):i.Data.length&&(n.Data=i.Data)),i.ChainID!=null&&(typeof i.ChainID=="string"?le.base64.decode(i.ChainID,n.ChainID=le.newBuffer(le.base64.length(i.ChainID)),0):i.ChainID.length&&(n.ChainID=i.ChainID)),i.Version!=null&&(n.Version=i.Version>>>0),i.Signature!=null&&(typeof i.Signature=="string"?le.base64.decode(i.Signature,n.Signature=le.newBuffer(le.base64.length(i.Signature)),0):i.Signature.length&&(n.Signature=i.Signature)),i.Options!=null&&(n.Options=i.Options>>>0),n},e.toObject=function(i,n){n||(n={});var s={};if(n.defaults){if(le.Long){var o=new le.Long(0,0,!0);s.Nonce=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else s.Nonce=n.longs===String?"0":0;if(n.bytes===String?s.Value="":(s.Value=[],n.bytes!==Array&&(s.Value=le.newBuffer(s.Value))),n.bytes===String?s.RcvAddr="":(s.RcvAddr=[],n.bytes!==Array&&(s.RcvAddr=le.newBuffer(s.RcvAddr))),n.bytes===String?s.RcvUserName="":(s.RcvUserName=[],n.bytes!==Array&&(s.RcvUserName=le.newBuffer(s.RcvUserName))),n.bytes===String?s.SndAddr="":(s.SndAddr=[],n.bytes!==Array&&(s.SndAddr=le.newBuffer(s.SndAddr))),n.bytes===String?s.SndUserName="":(s.SndUserName=[],n.bytes!==Array&&(s.SndUserName=le.newBuffer(s.SndUserName))),le.Long){var o=new le.Long(0,0,!0);s.GasPrice=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else s.GasPrice=n.longs===String?"0":0;if(le.Long){var o=new le.Long(0,0,!0);s.GasLimit=n.longs===String?o.toString():n.longs===Number?o.toNumber():o}else s.GasLimit=n.longs===String?"0":0;n.bytes===String?s.Data="":(s.Data=[],n.bytes!==Array&&(s.Data=le.newBuffer(s.Data))),n.bytes===String?s.ChainID="":(s.ChainID=[],n.bytes!==Array&&(s.ChainID=le.newBuffer(s.ChainID))),s.Version=0,n.bytes===String?s.Signature="":(s.Signature=[],n.bytes!==Array&&(s.Signature=le.newBuffer(s.Signature))),s.Options=0}return i.Nonce!=null&&i.hasOwnProperty("Nonce")&&(typeof i.Nonce=="number"?s.Nonce=n.longs===String?String(i.Nonce):i.Nonce:s.Nonce=n.longs===String?le.Long.prototype.toString.call(i.Nonce):n.longs===Number?new le.LongBits(i.Nonce.low>>>0,i.Nonce.high>>>0).toNumber(!0):i.Nonce),i.Value!=null&&i.hasOwnProperty("Value")&&(s.Value=n.bytes===String?le.base64.encode(i.Value,0,i.Value.length):n.bytes===Array?Array.prototype.slice.call(i.Value):i.Value),i.RcvAddr!=null&&i.hasOwnProperty("RcvAddr")&&(s.RcvAddr=n.bytes===String?le.base64.encode(i.RcvAddr,0,i.RcvAddr.length):n.bytes===Array?Array.prototype.slice.call(i.RcvAddr):i.RcvAddr),i.RcvUserName!=null&&i.hasOwnProperty("RcvUserName")&&(s.RcvUserName=n.bytes===String?le.base64.encode(i.RcvUserName,0,i.RcvUserName.length):n.bytes===Array?Array.prototype.slice.call(i.RcvUserName):i.RcvUserName),i.SndAddr!=null&&i.hasOwnProperty("SndAddr")&&(s.SndAddr=n.bytes===String?le.base64.encode(i.SndAddr,0,i.SndAddr.length):n.bytes===Array?Array.prototype.slice.call(i.SndAddr):i.SndAddr),i.SndUserName!=null&&i.hasOwnProperty("SndUserName")&&(s.SndUserName=n.bytes===String?le.base64.encode(i.SndUserName,0,i.SndUserName.length):n.bytes===Array?Array.prototype.slice.call(i.SndUserName):i.SndUserName),i.GasPrice!=null&&i.hasOwnProperty("GasPrice")&&(typeof i.GasPrice=="number"?s.GasPrice=n.longs===String?String(i.GasPrice):i.GasPrice:s.GasPrice=n.longs===String?le.Long.prototype.toString.call(i.GasPrice):n.longs===Number?new le.LongBits(i.GasPrice.low>>>0,i.GasPrice.high>>>0).toNumber(!0):i.GasPrice),i.GasLimit!=null&&i.hasOwnProperty("GasLimit")&&(typeof i.GasLimit=="number"?s.GasLimit=n.longs===String?String(i.GasLimit):i.GasLimit:s.GasLimit=n.longs===String?le.Long.prototype.toString.call(i.GasLimit):n.longs===Number?new le.LongBits(i.GasLimit.low>>>0,i.GasLimit.high>>>0).toNumber(!0):i.GasLimit),i.Data!=null&&i.hasOwnProperty("Data")&&(s.Data=n.bytes===String?le.base64.encode(i.Data,0,i.Data.length):n.bytes===Array?Array.prototype.slice.call(i.Data):i.Data),i.ChainID!=null&&i.hasOwnProperty("ChainID")&&(s.ChainID=n.bytes===String?le.base64.encode(i.ChainID,0,i.ChainID.length):n.bytes===Array?Array.prototype.slice.call(i.ChainID):i.ChainID),i.Version!=null&&i.hasOwnProperty("Version")&&(s.Version=i.Version),i.Signature!=null&&i.hasOwnProperty("Signature")&&(s.Signature=n.bytes===String?le.base64.encode(i.Signature,0,i.Signature.length):n.bytes===Array?Array.prototype.slice.call(i.Signature):i.Signature),i.Options!=null&&i.hasOwnProperty("Options")&&(s.Options=i.Options),s},e.prototype.toJSON=function(){return this.constructor.toObject(this,wa.util.toJSONOptions)},e}(),r}();V_.exports=oc});var G_=M(Or=>{"use strict";f();var v5=Or&&Or.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),E5=Or&&Or.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),A5=Or&&Or.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&v5(e,r,t);return E5(e,r),e},I5=Or&&Or.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Or,"__esModule",{value:!0});Or.ProtoSerializer=void 0;var _5=A5($e()),b5=Sg(),Q_=H_(),C5=Hf(),j_=qr(),S5=I5(Ur()),Iy=class{serializeTransaction(e){let t=new j_.Address(e.getReceiver().bech32()).pubkey(),i=new j_.Address(e.getSender().bech32()).pubkey(),n=new Q_.proto.Transaction({Nonce:e.getNonce().valueOf()?e.getNonce().valueOf():void 0,Value:this.serializeTransactionValue(e.getValue()),RcvAddr:t,RcvUserName:null,SndAddr:i,SndUserName:null,GasPrice:e.getGasPrice().valueOf(),GasLimit:e.getGasLimit().valueOf(),Data:e.getData().length()==0?null:e.getData().valueOf(),ChainID:y.Buffer.from(e.getChainID().valueOf()),Version:e.getVersion().valueOf(),Signature:y.Buffer.from(e.getSignature().hex(),"hex")});e.getOptions().valueOf()!==C5.TRANSACTION_OPTIONS_DEFAULT&&(n.Options=e.getOptions().valueOf());let s=Q_.proto.Transaction.encode(n).finish();return y.Buffer.from(s)}serializeTransactionValue(e){let t=new S5.default(e.toString());if(t.isZero())return y.Buffer.from([0,0]);let i=b5.bigIntToBuffer(t);return i=y.Buffer.concat([y.Buffer.from([0]),i]),i}deserializeTransaction(e){throw new _5.ErrUnsupportedOperation("deserializeTransaction")}};Or.ProtoSerializer=Iy});var K_=M(qs=>{"use strict";f();var x5=qs&&qs.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),T5=qs&&qs.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&x5(e,r,t)};Object.defineProperty(qs,"__esModule",{value:!0});T5(G_(),qs)});var z_=M(gi=>{"use strict";f();var N5=gi&&gi.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),D5=gi&&gi.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),O5=gi&&gi.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&N5(e,r,t);return D5(e,r),e};Object.defineProperty(gi,"__esModule",{value:!0});gi.Hash=void 0;var B5=O5($e()),ac=class{constructor(e){if(!e)this.hash=y.Buffer.from([]);else if(e instanceof y.Buffer)this.hash=e;else if(typeof e=="string")this.hash=y.Buffer.from(e,"hex");else throw new B5.ErrBadType("hash","buffer | string",e)}static empty(){return new ac(y.Buffer.from([]))}isEmpty(){return this.hash.length==0}toString(){return this.hex()}hex(){return this.hash.toString("hex")}valueOf(){return this.hash}};gi.Hash=ac});var _y=M((Y$,k_)=>{f();ji.notEqual=P5;ji.notOk=R5;ji.equal=M5;ji.ok=ji;k_.exports=ji;function M5(r,e,t){ji(r==e,t)}function P5(r,e,t){ji(r!=e,t)}function R5(r,e){ji(!r,e)}function ji(r,e){if(!r)throw new Error(e||"AssertionError")}});var lb=M(Ia=>{"use strict";f();var by=l0(),Ea=h0(),$_=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Ia.Buffer=re;Ia.SlowBuffer=H5;Ia.INSPECT_MAX_BYTES=50;var $f=2147483647;Ia.kMaxLength=$f;re.TYPED_ARRAY_SUPPORT=L5();!re.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function L5(){try{let r=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(r,e),r.foo()===42}catch{return!1}}Object.defineProperty(re.prototype,"parent",{enumerable:!0,get:function(){if(!!re.isBuffer(this))return this.buffer}});Object.defineProperty(re.prototype,"offset",{enumerable:!0,get:function(){if(!!re.isBuffer(this))return this.byteOffset}});function Gi(r){if(r>$f)throw new RangeError('The value "'+r+'" is invalid for option "size"');let e=new Uint8Array(r);return Object.setPrototypeOf(e,re.prototype),e}function re(r,e,t){if(typeof r=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Ty(r)}return X_(r,e,t)}re.poolSize=8192;function X_(r,e,t){if(typeof r=="string")return U5(r,e);if(ArrayBuffer.isView(r))return q5(r);if(r==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r);if(yi(r,ArrayBuffer)||r&&yi(r.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(yi(r,SharedArrayBuffer)||r&&yi(r.buffer,SharedArrayBuffer)))return Sy(r,e,t);if(typeof r=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let i=r.valueOf&&r.valueOf();if(i!=null&&i!==r)return re.from(i,e,t);let n=V5(r);if(n)return n;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof r[Symbol.toPrimitive]=="function")return re.from(r[Symbol.toPrimitive]("string"),e,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r)}re.from=function(r,e,t){return X_(r,e,t)};Object.setPrototypeOf(re.prototype,Uint8Array.prototype);Object.setPrototypeOf(re,Uint8Array);function Z_(r){if(typeof r!="number")throw new TypeError('"size" argument must be of type number');if(r<0)throw new RangeError('The value "'+r+'" is invalid for option "size"')}function F5(r,e,t){return Z_(r),r<=0?Gi(r):e!==void 0?typeof t=="string"?Gi(r).fill(e,t):Gi(r).fill(e):Gi(r)}re.alloc=function(r,e,t){return F5(r,e,t)};function Ty(r){return Z_(r),Gi(r<0?0:Ny(r)|0)}re.allocUnsafe=function(r){return Ty(r)};re.allocUnsafeSlow=function(r){return Ty(r)};function U5(r,e){if((typeof e!="string"||e==="")&&(e="utf8"),!re.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let t=eb(r,e)|0,i=Gi(t),n=i.write(r,e);return n!==t&&(i=i.slice(0,n)),i}function Cy(r){let e=r.length<0?0:Ny(r.length)|0,t=Gi(e);for(let i=0;i<e;i+=1)t[i]=r[i]&255;return t}function q5(r){if(yi(r,Uint8Array)){let e=new Uint8Array(r);return Sy(e.buffer,e.byteOffset,e.byteLength)}return Cy(r)}function Sy(r,e,t){if(e<0||r.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(r.byteLength<e+(t||0))throw new RangeError('"length" is outside of buffer bounds');let i;return e===void 0&&t===void 0?i=new Uint8Array(r):t===void 0?i=new Uint8Array(r,e):i=new Uint8Array(r,e,t),Object.setPrototypeOf(i,re.prototype),i}function V5(r){if(re.isBuffer(r)){let e=Ny(r.length)|0,t=Gi(e);return t.length===0||r.copy(t,0,0,e),t}if(r.length!==void 0)return typeof r.length!="number"||Oy(r.length)?Gi(0):Cy(r);if(r.type==="Buffer"&&Array.isArray(r.data))return Cy(r.data)}function Ny(r){if(r>=$f)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+$f.toString(16)+" bytes");return r|0}function H5(r){return+r!=r&&(r=0),re.alloc(+r)}re.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==re.prototype};re.compare=function(e,t){if(yi(e,Uint8Array)&&(e=re.from(e,e.offset,e.byteLength)),yi(t,Uint8Array)&&(t=re.from(t,t.offset,t.byteLength)),!re.isBuffer(e)||!re.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let i=e.length,n=t.length;for(let s=0,o=Math.min(i,n);s<o;++s)if(e[s]!==t[s]){i=e[s],n=t[s];break}return i<n?-1:n<i?1:0};re.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};re.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return re.alloc(0);let i;if(t===void 0)for(t=0,i=0;i<e.length;++i)t+=e[i].length;let n=re.allocUnsafe(t),s=0;for(i=0;i<e.length;++i){let o=e[i];if(yi(o,Uint8Array))s+o.length>n.length?(re.isBuffer(o)||(o=re.from(o)),o.copy(n,s)):Uint8Array.prototype.set.call(n,o,s);else if(re.isBuffer(o))o.copy(n,s);else throw new TypeError('"list" argument must be an Array of Buffers');s+=o.length}return n};function eb(r,e){if(re.isBuffer(r))return r.length;if(ArrayBuffer.isView(r)||yi(r,ArrayBuffer))return r.byteLength;if(typeof r!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof r);let t=r.length,i=arguments.length>2&&arguments[2]===!0;if(!i&&t===0)return 0;let n=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return xy(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return cb(r).length;default:if(n)return i?-1:xy(r).length;e=(""+e).toLowerCase(),n=!0}}re.byteLength=eb;function Q5(r,e,t){let i=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,e>>>=0,t<=e))return"";for(r||(r="utf8");;)switch(r){case"hex":return X5(this,e,t);case"utf8":case"utf-8":return rb(this,e,t);case"ascii":return Y5(this,e,t);case"latin1":case"binary":return J5(this,e,t);case"base64":return $5(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Z5(this,e,t);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),i=!0}}re.prototype._isBuffer=!0;function Vs(r,e,t){let i=r[e];r[e]=r[t],r[t]=i}re.prototype.swap16=function(){let e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)Vs(this,t,t+1);return this};re.prototype.swap32=function(){let e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)Vs(this,t,t+3),Vs(this,t+1,t+2);return this};re.prototype.swap64=function(){let e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)Vs(this,t,t+7),Vs(this,t+1,t+6),Vs(this,t+2,t+5),Vs(this,t+3,t+4);return this};re.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?rb(this,0,e):Q5.apply(this,arguments)};re.prototype.toLocaleString=re.prototype.toString;re.prototype.equals=function(e){if(!re.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:re.compare(this,e)===0};re.prototype.inspect=function(){let e="",t=Ia.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"};$_&&(re.prototype[$_]=re.prototype.inspect);re.prototype.compare=function(e,t,i,n,s){if(yi(e,Uint8Array)&&(e=re.from(e,e.offset,e.byteLength)),!re.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),i===void 0&&(i=e?e.length:0),n===void 0&&(n=0),s===void 0&&(s=this.length),t<0||i>e.length||n<0||s>this.length)throw new RangeError("out of range index");if(n>=s&&t>=i)return 0;if(n>=s)return-1;if(t>=i)return 1;if(t>>>=0,i>>>=0,n>>>=0,s>>>=0,this===e)return 0;let o=s-n,a=i-t,u=Math.min(o,a),h=this.slice(n,s),p=e.slice(t,i);for(let m=0;m<u;++m)if(h[m]!==p[m]){o=h[m],a=p[m];break}return o<a?-1:a<o?1:0};function tb(r,e,t,i,n){if(r.length===0)return-1;if(typeof t=="string"?(i=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,Oy(t)&&(t=n?0:r.length-1),t<0&&(t=r.length+t),t>=r.length){if(n)return-1;t=r.length-1}else if(t<0)if(n)t=0;else return-1;if(typeof e=="string"&&(e=re.from(e,i)),re.isBuffer(e))return e.length===0?-1:W_(r,e,t,i,n);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?n?Uint8Array.prototype.indexOf.call(r,e,t):Uint8Array.prototype.lastIndexOf.call(r,e,t):W_(r,[e],t,i,n);throw new TypeError("val must be string, number or Buffer")}function W_(r,e,t,i,n){let s=1,o=r.length,a=e.length;if(i!==void 0&&(i=String(i).toLowerCase(),i==="ucs2"||i==="ucs-2"||i==="utf16le"||i==="utf-16le")){if(r.length<2||e.length<2)return-1;s=2,o/=2,a/=2,t/=2}function u(p,m){return s===1?p[m]:p.readUInt16BE(m*s)}let h;if(n){let p=-1;for(h=t;h<o;h++)if(u(r,h)===u(e,p===-1?0:h-p)){if(p===-1&&(p=h),h-p+1===a)return p*s}else p!==-1&&(h-=h-p),p=-1}else for(t+a>o&&(t=o-a),h=t;h>=0;h--){let p=!0;for(let m=0;m<a;m++)if(u(r,h+m)!==u(e,m)){p=!1;break}if(p)return h}return-1}re.prototype.includes=function(e,t,i){return this.indexOf(e,t,i)!==-1};re.prototype.indexOf=function(e,t,i){return tb(this,e,t,i,!0)};re.prototype.lastIndexOf=function(e,t,i){return tb(this,e,t,i,!1)};function j5(r,e,t,i){t=Number(t)||0;let n=r.length-t;i?(i=Number(i),i>n&&(i=n)):i=n;let s=e.length;i>s/2&&(i=s/2);let o;for(o=0;o<i;++o){let a=parseInt(e.substr(o*2,2),16);if(Oy(a))return o;r[t+o]=a}return o}function G5(r,e,t,i){return Wf(xy(e,r.length-t),r,t,i)}function K5(r,e,t,i){return Wf(iR(e),r,t,i)}function z5(r,e,t,i){return Wf(cb(e),r,t,i)}function k5(r,e,t,i){return Wf(nR(e,r.length-t),r,t,i)}re.prototype.write=function(e,t,i,n){if(t===void 0)n="utf8",i=this.length,t=0;else if(i===void 0&&typeof t=="string")n=t,i=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(i)?(i=i>>>0,n===void 0&&(n="utf8")):(n=i,i=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let s=this.length-t;if((i===void 0||i>s)&&(i=s),e.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let o=!1;for(;;)switch(n){case"hex":return j5(this,e,t,i);case"utf8":case"utf-8":return G5(this,e,t,i);case"ascii":case"latin1":case"binary":return K5(this,e,t,i);case"base64":return z5(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k5(this,e,t,i);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}};re.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function $5(r,e,t){return e===0&&t===r.length?by.fromByteArray(r):by.fromByteArray(r.slice(e,t))}function rb(r,e,t){t=Math.min(r.length,t);let i=[],n=e;for(;n<t;){let s=r[n],o=null,a=s>239?4:s>223?3:s>191?2:1;if(n+a<=t){let u,h,p,m;switch(a){case 1:s<128&&(o=s);break;case 2:u=r[n+1],(u&192)===128&&(m=(s&31)<<6|u&63,m>127&&(o=m));break;case 3:u=r[n+1],h=r[n+2],(u&192)===128&&(h&192)===128&&(m=(s&15)<<12|(u&63)<<6|h&63,m>2047&&(m<55296||m>57343)&&(o=m));break;case 4:u=r[n+1],h=r[n+2],p=r[n+3],(u&192)===128&&(h&192)===128&&(p&192)===128&&(m=(s&15)<<18|(u&63)<<12|(h&63)<<6|p&63,m>65535&&m<1114112&&(o=m))}}o===null?(o=65533,a=1):o>65535&&(o-=65536,i.push(o>>>10&1023|55296),o=56320|o&1023),i.push(o),n+=a}return W5(i)}var Y_=4096;function W5(r){let e=r.length;if(e<=Y_)return String.fromCharCode.apply(String,r);let t="",i=0;for(;i<e;)t+=String.fromCharCode.apply(String,r.slice(i,i+=Y_));return t}function Y5(r,e,t){let i="";t=Math.min(r.length,t);for(let n=e;n<t;++n)i+=String.fromCharCode(r[n]&127);return i}function J5(r,e,t){let i="";t=Math.min(r.length,t);for(let n=e;n<t;++n)i+=String.fromCharCode(r[n]);return i}function X5(r,e,t){let i=r.length;(!e||e<0)&&(e=0),(!t||t<0||t>i)&&(t=i);let n="";for(let s=e;s<t;++s)n+=sR[r[s]];return n}function Z5(r,e,t){let i=r.slice(e,t),n="";for(let s=0;s<i.length-1;s+=2)n+=String.fromCharCode(i[s]+i[s+1]*256);return n}re.prototype.slice=function(e,t){let i=this.length;e=~~e,t=t===void 0?i:~~t,e<0?(e+=i,e<0&&(e=0)):e>i&&(e=i),t<0?(t+=i,t<0&&(t=0)):t>i&&(t=i),t<e&&(t=e);let n=this.subarray(e,t);return Object.setPrototypeOf(n,re.prototype),n};function Gt(r,e,t){if(r%1!==0||r<0)throw new RangeError("offset is not uint");if(r+e>t)throw new RangeError("Trying to access beyond buffer length")}re.prototype.readUintLE=re.prototype.readUIntLE=function(e,t,i){e=e>>>0,t=t>>>0,i||Gt(e,t,this.length);let n=this[e],s=1,o=0;for(;++o<t&&(s*=256);)n+=this[e+o]*s;return n};re.prototype.readUintBE=re.prototype.readUIntBE=function(e,t,i){e=e>>>0,t=t>>>0,i||Gt(e,t,this.length);let n=this[e+--t],s=1;for(;t>0&&(s*=256);)n+=this[e+--t]*s;return n};re.prototype.readUint8=re.prototype.readUInt8=function(e,t){return e=e>>>0,t||Gt(e,1,this.length),this[e]};re.prototype.readUint16LE=re.prototype.readUInt16LE=function(e,t){return e=e>>>0,t||Gt(e,2,this.length),this[e]|this[e+1]<<8};re.prototype.readUint16BE=re.prototype.readUInt16BE=function(e,t){return e=e>>>0,t||Gt(e,2,this.length),this[e]<<8|this[e+1]};re.prototype.readUint32LE=re.prototype.readUInt32LE=function(e,t){return e=e>>>0,t||Gt(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};re.prototype.readUint32BE=re.prototype.readUInt32BE=function(e,t){return e=e>>>0,t||Gt(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};re.prototype.readBigUInt64LE=bn(function(e){e=e>>>0,Aa(e,"offset");let t=this[e],i=this[e+7];(t===void 0||i===void 0)&&uc(e,this.length-8);let n=t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,s=this[++e]+this[++e]*2**8+this[++e]*2**16+i*2**24;return BigInt(n)+(BigInt(s)<<BigInt(32))});re.prototype.readBigUInt64BE=bn(function(e){e=e>>>0,Aa(e,"offset");let t=this[e],i=this[e+7];(t===void 0||i===void 0)&&uc(e,this.length-8);let n=t*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],s=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+i;return(BigInt(n)<<BigInt(32))+BigInt(s)});re.prototype.readIntLE=function(e,t,i){e=e>>>0,t=t>>>0,i||Gt(e,t,this.length);let n=this[e],s=1,o=0;for(;++o<t&&(s*=256);)n+=this[e+o]*s;return s*=128,n>=s&&(n-=Math.pow(2,8*t)),n};re.prototype.readIntBE=function(e,t,i){e=e>>>0,t=t>>>0,i||Gt(e,t,this.length);let n=t,s=1,o=this[e+--n];for(;n>0&&(s*=256);)o+=this[e+--n]*s;return s*=128,o>=s&&(o-=Math.pow(2,8*t)),o};re.prototype.readInt8=function(e,t){return e=e>>>0,t||Gt(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};re.prototype.readInt16LE=function(e,t){e=e>>>0,t||Gt(e,2,this.length);let i=this[e]|this[e+1]<<8;return i&32768?i|4294901760:i};re.prototype.readInt16BE=function(e,t){e=e>>>0,t||Gt(e,2,this.length);let i=this[e+1]|this[e]<<8;return i&32768?i|4294901760:i};re.prototype.readInt32LE=function(e,t){return e=e>>>0,t||Gt(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};re.prototype.readInt32BE=function(e,t){return e=e>>>0,t||Gt(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};re.prototype.readBigInt64LE=bn(function(e){e=e>>>0,Aa(e,"offset");let t=this[e],i=this[e+7];(t===void 0||i===void 0)&&uc(e,this.length-8);let n=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(i<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)});re.prototype.readBigInt64BE=bn(function(e){e=e>>>0,Aa(e,"offset");let t=this[e],i=this[e+7];(t===void 0||i===void 0)&&uc(e,this.length-8);let n=(t<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+i)});re.prototype.readFloatLE=function(e,t){return e=e>>>0,t||Gt(e,4,this.length),Ea.read(this,e,!0,23,4)};re.prototype.readFloatBE=function(e,t){return e=e>>>0,t||Gt(e,4,this.length),Ea.read(this,e,!1,23,4)};re.prototype.readDoubleLE=function(e,t){return e=e>>>0,t||Gt(e,8,this.length),Ea.read(this,e,!0,52,8)};re.prototype.readDoubleBE=function(e,t){return e=e>>>0,t||Gt(e,8,this.length),Ea.read(this,e,!1,52,8)};function dr(r,e,t,i,n,s){if(!re.isBuffer(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>n||e<s)throw new RangeError('"value" argument is out of bounds');if(t+i>r.length)throw new RangeError("Index out of range")}re.prototype.writeUintLE=re.prototype.writeUIntLE=function(e,t,i,n){if(e=+e,t=t>>>0,i=i>>>0,!n){let a=Math.pow(2,8*i)-1;dr(this,e,t,i,a,0)}let s=1,o=0;for(this[t]=e&255;++o<i&&(s*=256);)this[t+o]=e/s&255;return t+i};re.prototype.writeUintBE=re.prototype.writeUIntBE=function(e,t,i,n){if(e=+e,t=t>>>0,i=i>>>0,!n){let a=Math.pow(2,8*i)-1;dr(this,e,t,i,a,0)}let s=i-1,o=1;for(this[t+s]=e&255;--s>=0&&(o*=256);)this[t+s]=e/o&255;return t+i};re.prototype.writeUint8=re.prototype.writeUInt8=function(e,t,i){return e=+e,t=t>>>0,i||dr(this,e,t,1,255,0),this[t]=e&255,t+1};re.prototype.writeUint16LE=re.prototype.writeUInt16LE=function(e,t,i){return e=+e,t=t>>>0,i||dr(this,e,t,2,65535,0),this[t]=e&255,this[t+1]=e>>>8,t+2};re.prototype.writeUint16BE=re.prototype.writeUInt16BE=function(e,t,i){return e=+e,t=t>>>0,i||dr(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=e&255,t+2};re.prototype.writeUint32LE=re.prototype.writeUInt32LE=function(e,t,i){return e=+e,t=t>>>0,i||dr(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255,t+4};re.prototype.writeUint32BE=re.prototype.writeUInt32BE=function(e,t,i){return e=+e,t=t>>>0,i||dr(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};function ib(r,e,t,i,n){ub(e,i,n,r,t,7);let s=Number(e&BigInt(4294967295));r[t++]=s,s=s>>8,r[t++]=s,s=s>>8,r[t++]=s,s=s>>8,r[t++]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return r[t++]=o,o=o>>8,r[t++]=o,o=o>>8,r[t++]=o,o=o>>8,r[t++]=o,t}function nb(r,e,t,i,n){ub(e,i,n,r,t,7);let s=Number(e&BigInt(4294967295));r[t+7]=s,s=s>>8,r[t+6]=s,s=s>>8,r[t+5]=s,s=s>>8,r[t+4]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return r[t+3]=o,o=o>>8,r[t+2]=o,o=o>>8,r[t+1]=o,o=o>>8,r[t]=o,t+8}re.prototype.writeBigUInt64LE=bn(function(e,t=0){return ib(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))});re.prototype.writeBigUInt64BE=bn(function(e,t=0){return nb(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))});re.prototype.writeIntLE=function(e,t,i,n){if(e=+e,t=t>>>0,!n){let u=Math.pow(2,8*i-1);dr(this,e,t,i,u-1,-u)}let s=0,o=1,a=0;for(this[t]=e&255;++s<i&&(o*=256);)e<0&&a===0&&this[t+s-1]!==0&&(a=1),this[t+s]=(e/o>>0)-a&255;return t+i};re.prototype.writeIntBE=function(e,t,i,n){if(e=+e,t=t>>>0,!n){let u=Math.pow(2,8*i-1);dr(this,e,t,i,u-1,-u)}let s=i-1,o=1,a=0;for(this[t+s]=e&255;--s>=0&&(o*=256);)e<0&&a===0&&this[t+s+1]!==0&&(a=1),this[t+s]=(e/o>>0)-a&255;return t+i};re.prototype.writeInt8=function(e,t,i){return e=+e,t=t>>>0,i||dr(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=e&255,t+1};re.prototype.writeInt16LE=function(e,t,i){return e=+e,t=t>>>0,i||dr(this,e,t,2,32767,-32768),this[t]=e&255,this[t+1]=e>>>8,t+2};re.prototype.writeInt16BE=function(e,t,i){return e=+e,t=t>>>0,i||dr(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=e&255,t+2};re.prototype.writeInt32LE=function(e,t,i){return e=+e,t=t>>>0,i||dr(this,e,t,4,2147483647,-2147483648),this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4};re.prototype.writeInt32BE=function(e,t,i){return e=+e,t=t>>>0,i||dr(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};re.prototype.writeBigInt64LE=bn(function(e,t=0){return ib(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});re.prototype.writeBigInt64BE=bn(function(e,t=0){return nb(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function sb(r,e,t,i,n,s){if(t+i>r.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function ob(r,e,t,i,n){return e=+e,t=t>>>0,n||sb(r,e,t,4,34028234663852886e22,-34028234663852886e22),Ea.write(r,e,t,i,23,4),t+4}re.prototype.writeFloatLE=function(e,t,i){return ob(this,e,t,!0,i)};re.prototype.writeFloatBE=function(e,t,i){return ob(this,e,t,!1,i)};function ab(r,e,t,i,n){return e=+e,t=t>>>0,n||sb(r,e,t,8,17976931348623157e292,-17976931348623157e292),Ea.write(r,e,t,i,52,8),t+8}re.prototype.writeDoubleLE=function(e,t,i){return ab(this,e,t,!0,i)};re.prototype.writeDoubleBE=function(e,t,i){return ab(this,e,t,!1,i)};re.prototype.copy=function(e,t,i,n){if(!re.isBuffer(e))throw new TypeError("argument should be a Buffer");if(i||(i=0),!n&&n!==0&&(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<i&&(n=i),n===i||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-i&&(n=e.length-t+i);let s=n-i;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(t,i,n):Uint8Array.prototype.set.call(e,this.subarray(i,n),t),s};re.prototype.fill=function(e,t,i,n){if(typeof e=="string"){if(typeof t=="string"?(n=t,t=0,i=this.length):typeof i=="string"&&(n=i,i=this.length),n!==void 0&&typeof n!="string")throw new TypeError("encoding must be a string");if(typeof n=="string"&&!re.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(e.length===1){let o=e.charCodeAt(0);(n==="utf8"&&o<128||n==="latin1")&&(e=o)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;t=t>>>0,i=i===void 0?this.length:i>>>0,e||(e=0);let s;if(typeof e=="number")for(s=t;s<i;++s)this[s]=e;else{let o=re.isBuffer(e)?e:re.from(e,n),a=o.length;if(a===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(s=0;s<i-t;++s)this[s+t]=o[s%a]}return this};var va={};function Dy(r,e,t){va[r]=class extends t{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${r}]`,this.stack,delete this.name}get code(){return r}set code(n){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:n,writable:!0})}toString(){return`${this.name} [${r}]: ${this.message}`}}}Dy("ERR_BUFFER_OUT_OF_BOUNDS",function(r){return r?`${r} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);Dy("ERR_INVALID_ARG_TYPE",function(r,e){return`The "${r}" argument must be of type number. Received type ${typeof e}`},TypeError);Dy("ERR_OUT_OF_RANGE",function(r,e,t){let i=`The value of "${r}" is out of range.`,n=t;return Number.isInteger(t)&&Math.abs(t)>2**32?n=J_(String(t)):typeof t=="bigint"&&(n=String(t),(t>BigInt(2)**BigInt(32)||t<-(BigInt(2)**BigInt(32)))&&(n=J_(n)),n+="n"),i+=` It must be ${e}. Received ${n}`,i},RangeError);function J_(r){let e="",t=r.length,i=r[0]==="-"?1:0;for(;t>=i+4;t-=3)e=`_${r.slice(t-3,t)}${e}`;return`${r.slice(0,t)}${e}`}function eR(r,e,t){Aa(e,"offset"),(r[e]===void 0||r[e+t]===void 0)&&uc(e,r.length-(t+1))}function ub(r,e,t,i,n,s){if(r>t||r<e){let o=typeof e=="bigint"?"n":"",a;throw s>3?e===0||e===BigInt(0)?a=`>= 0${o} and < 2${o} ** ${(s+1)*8}${o}`:a=`>= -(2${o} ** ${(s+1)*8-1}${o}) and < 2 ** ${(s+1)*8-1}${o}`:a=`>= ${e}${o} and <= ${t}${o}`,new va.ERR_OUT_OF_RANGE("value",a,r)}eR(i,n,s)}function Aa(r,e){if(typeof r!="number")throw new va.ERR_INVALID_ARG_TYPE(e,"number",r)}function uc(r,e,t){throw Math.floor(r)!==r?(Aa(r,t),new va.ERR_OUT_OF_RANGE(t||"offset","an integer",r)):e<0?new va.ERR_BUFFER_OUT_OF_BOUNDS:new va.ERR_OUT_OF_RANGE(t||"offset",`>= ${t?1:0} and <= ${e}`,r)}var tR=/[^+/0-9A-Za-z-_]/g;function rR(r){if(r=r.split("=")[0],r=r.trim().replace(tR,""),r.length<2)return"";for(;r.length%4!==0;)r=r+"=";return r}function xy(r,e){e=e||1/0;let t,i=r.length,n=null,s=[];for(let o=0;o<i;++o){if(t=r.charCodeAt(o),t>55295&&t<57344){if(!n){if(t>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(o+1===i){(e-=3)>-1&&s.push(239,191,189);continue}n=t;continue}if(t<56320){(e-=3)>-1&&s.push(239,191,189),n=t;continue}t=(n-55296<<10|t-56320)+65536}else n&&(e-=3)>-1&&s.push(239,191,189);if(n=null,t<128){if((e-=1)<0)break;s.push(t)}else if(t<2048){if((e-=2)<0)break;s.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;s.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;s.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return s}function iR(r){let e=[];for(let t=0;t<r.length;++t)e.push(r.charCodeAt(t)&255);return e}function nR(r,e){let t,i,n,s=[];for(let o=0;o<r.length&&!((e-=2)<0);++o)t=r.charCodeAt(o),i=t>>8,n=t%256,s.push(n),s.push(i);return s}function cb(r){return by.toByteArray(rR(r))}function Wf(r,e,t,i){let n;for(n=0;n<i&&!(n+t>=e.length||n>=r.length);++n)e[n+t]=r[n];return n}function yi(r,e){return r instanceof e||r!=null&&r.constructor!=null&&r.constructor.name!=null&&r.constructor.name===e.name}function Oy(r){return r!==r}var sR=function(){let r="0123456789abcdef",e=new Array(256);for(let t=0;t<16;++t){let i=t*16;for(let n=0;n<16;++n)e[i+n]=r[t]+r[n]}return e}();function bn(r){return typeof BigInt>"u"?oR:r}function oR(){throw new Error("BigInt not supported")}});var hb=M((tW,fb)=>{f();fb.exports=By;By.supported=typeof WebAssembly<"u";function By(r){if(!By.supported)return null;var e=r&&r.imports,t=aR("AGFzbQEAAAABEANgAn9/AGADf39/AGABfwADBQQAAQICBQUBAQroBwdNBQZtZW1vcnkCAAxibGFrZTJiX2luaXQAAA5ibGFrZTJiX3VwZGF0ZQABDWJsYWtlMmJfZmluYWwAAhBibGFrZTJiX2NvbXByZXNzAAMK00AElgMAIABCADcDACAAQQhqQgA3AwAgAEEQakIANwMAIABBGGpCADcDACAAQSBqQgA3AwAgAEEoakIANwMAIABBMGpCADcDACAAQThqQgA3AwAgAEHAAGpCADcDACAAQcgAakIANwMAIABB0ABqQgA3AwAgAEHYAGpCADcDACAAQeAAakIANwMAIABB6ABqQgA3AwAgAEHwAGpCADcDACAAQfgAakIANwMAIABBgAFqQoiS853/zPmE6gBBACkDAIU3AwAgAEGIAWpCu86qptjQ67O7f0EIKQMAhTcDACAAQZABakKr8NP0r+68tzxBECkDAIU3AwAgAEGYAWpC8e30+KWn/aelf0EYKQMAhTcDACAAQaABakLRhZrv+s+Uh9EAQSApAwCFNwMAIABBqAFqQp/Y+dnCkdqCm39BKCkDAIU3AwAgAEGwAWpC6/qG2r+19sEfQTApAwCFNwMAIABBuAFqQvnC+JuRo7Pw2wBBOCkDAIU3AwAgAEHAAWpCADcDACAAQcgBakIANwMAIABB0AFqQgA3AwALbQEDfyAAQcABaiEDIABByAFqIQQgBCkDAKchBQJAA0AgASACRg0BIAVBgAFGBEAgAyADKQMAIAWtfDcDAEEAIQUgABADCyAAIAVqIAEtAAA6AAAgBUEBaiEFIAFBAWohAQwACwsgBCAFrTcDAAtkAQN/IABBwAFqIQEgAEHIAWohAiABIAEpAwAgAikDAHw3AwAgAEHQAWpCfzcDACACKQMApyEDAkADQCADQYABRg0BIAAgA2pBADoAACADQQFqIQMMAAsLIAIgA603AwAgABADC+U7AiB+CX8gAEGAAWohISAAQYgBaiEiIABBkAFqISMgAEGYAWohJCAAQaABaiElIABBqAFqISYgAEGwAWohJyAAQbgBaiEoICEpAwAhASAiKQMAIQIgIykDACEDICQpAwAhBCAlKQMAIQUgJikDACEGICcpAwAhByAoKQMAIQhCiJLznf/M+YTqACEJQrvOqqbY0Ouzu38hCkKr8NP0r+68tzwhC0Lx7fT4paf9p6V/IQxC0YWa7/rPlIfRACENQp/Y+dnCkdqCm38hDkLr+obav7X2wR8hD0L5wvibkaOz8NsAIRAgACkDACERIABBCGopAwAhEiAAQRBqKQMAIRMgAEEYaikDACEUIABBIGopAwAhFSAAQShqKQMAIRYgAEEwaikDACEXIABBOGopAwAhGCAAQcAAaikDACEZIABByABqKQMAIRogAEHQAGopAwAhGyAAQdgAaikDACEcIABB4ABqKQMAIR0gAEHoAGopAwAhHiAAQfAAaikDACEfIABB+ABqKQMAISAgDSAAQcABaikDAIUhDSAPIABB0AFqKQMAhSEPIAEgBSARfHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgEnx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBN8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAUfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgFXx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIBZ8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAXfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggGHx8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBl8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAafHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgG3x8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBx8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAdfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggHnx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIB98fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAgfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgH3x8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBt8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAVfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgGXx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBp8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAgfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggHnx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBd8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiASfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgHXx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBF8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByATfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggHHx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBh8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAWfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgFHx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIBx8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAZfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgHXx8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBF8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAWfHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgE3x8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIICB8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAefHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgG3x8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIB98fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAUfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgF3x8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBh8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCASfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgGnx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBV8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAYfHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgGnx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBR8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiASfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgHnx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIB18fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAcfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggH3x8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBN8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAXfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgFnx8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBt8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAVfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggEXx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFICB8fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAZfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgGnx8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBF8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAWfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgGHx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBN8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAVfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggG3x8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIICB8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAffHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgEnx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBx8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAdfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggF3x8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBl8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAUfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgHnx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIBN8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAdfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgF3x8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBt8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByARfHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgHHx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBl8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAUfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgFXx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIB58fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAYfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgFnx8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIICB8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCAffHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgEnx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBp8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAdfHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgFnx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBJ8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAgfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgH3x8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIB58fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAVfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggG3x8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBF8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAYfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgF3x8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBR8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAafHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggE3x8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIBl8fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAcfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgHnx8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBx8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAYfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgH3x8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIB18fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByASfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggFHx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBp8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAWfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgEXx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHICB8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAVfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggGXx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBd8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSATfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgG3x8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIBd8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAgfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgH3x8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBp8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAcfHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgFHx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBF8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAZfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgHXx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIBN8fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAefHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgGHx8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBJ8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCAVfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgG3x8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBZ8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAbfHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgE3x8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBl8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAVfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgGHx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIBd8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCASfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggFnx8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGICB8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAcfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgGnx8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIB98fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAUfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggHXx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIB58fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSARfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgEXx8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBJ8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiATfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgFHx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBV8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAWfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggF3x8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBh8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAZfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgGnx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBt8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAcfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggHXx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIB58fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAffHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgIHx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIB98fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAbfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgFXx8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBl8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAafHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgIHx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIB58fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAXfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgEnx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIB18fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByARfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgE3x8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBx8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCAYfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgFnx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBR8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFICEgISkDACABIAmFhTcDACAiICIpAwAgAiAKhYU3AwAgIyAjKQMAIAMgC4WFNwMAICQgJCkDACAEIAyFhTcDACAlICUpAwAgBSANhYU3AwAgJiAmKQMAIAYgDoWFNwMAICcgJykDACAHIA+FhTcDACAoICgpAwAgCCAQhYU3AwAL"),i=null,n={buffer:t,memory:null,exports:null,realloc:s,onload:o};return o(function(){}),n;function s(u){n.exports.memory.grow(Math.ceil(Math.abs(u-n.memory.length)/65536)),n.memory=new Uint8Array(n.exports.memory.buffer)}function o(u){if(n.exports)return u();if(i){i.then(u.bind(null,null)).catch(u);return}try{if(r&&r.async)throw new Error("async");a({instance:new WebAssembly.Instance(new WebAssembly.Module(t),e)})}catch{i=WebAssembly.instantiate(t,e).then(a)}o(u)}function a(u){n.exports=u.instance.exports,n.memory=n.exports.memory&&n.exports.memory.buffer&&new Uint8Array(n.exports.memory.buffer)}}function aR(r){return typeof atob=="function"?new Uint8Array(atob(r).split("").map(uR)):new(lb()).Buffer(r,"base64")}function uR(r){return r.charCodeAt(0)}});var vb=M((sW,wi)=>{f();var mi=_y(),Ke=hb()(),Ki=64,Yf=[];wi.exports=Br;var db=wi.exports.BYTES_MIN=16,pb=wi.exports.BYTES_MAX=64,iW=wi.exports.BYTES=32,gb=wi.exports.KEYBYTES_MIN=16,yb=wi.exports.KEYBYTES_MAX=64,nW=wi.exports.KEYBYTES=32,mb=wi.exports.SALTBYTES=16,wb=wi.exports.PERSONALBYTES=16;function Br(r,e,t,i,n){if(!(this instanceof Br))return new Br(r,e,t,i,n);if(!(Ke&&Ke.exports))throw new Error("WASM not loaded. Wait for Blake2b.ready(cb)");r||(r=32),n!==!0&&(mi(r>=db,"digestLength must be at least "+db+", was given "+r),mi(r<=pb,"digestLength must be at most "+pb+", was given "+r),e!=null&&mi(e.length>=gb,"key must be at least "+gb+", was given "+e.length),e!=null&&mi(e.length<=yb,"key must be at least "+yb+", was given "+e.length),t!=null&&mi(t.length===mb,"salt must be exactly "+mb+", was given "+t.length),i!=null&&mi(i.length===wb,"personal must be exactly "+wb+", was given "+i.length)),Yf.length||(Yf.push(Ki),Ki+=216),this.digestLength=r,this.finalized=!1,this.pointer=Yf.pop(),Ke.memory.fill(0,0,64),Ke.memory[0]=this.digestLength,Ke.memory[1]=e?e.length:0,Ke.memory[2]=1,Ke.memory[3]=1,t&&Ke.memory.set(t,32),i&&Ke.memory.set(i,48),this.pointer+216>Ke.memory.length&&Ke.realloc(this.pointer+216),Ke.exports.blake2b_init(this.pointer,this.digestLength),e&&(this.update(e),Ke.memory.fill(0,Ki,Ki+e.length),Ke.memory[this.pointer+200]=128)}Br.prototype.update=function(r){return mi(this.finalized===!1,"Hash instance finalized"),mi(r,"input must be TypedArray or Buffer"),Ki+r.length>Ke.memory.length&&Ke.realloc(Ki+r.length),Ke.memory.set(r,Ki),Ke.exports.blake2b_update(this.pointer,Ki,Ki+r.length),this};Br.prototype.digest=function(r){if(mi(this.finalized===!1,"Hash instance finalized"),this.finalized=!0,Yf.push(this.pointer),Ke.exports.blake2b_final(this.pointer),!r||r==="binary")return Ke.memory.slice(this.pointer+128,this.pointer+128+this.digestLength);if(r==="hex")return lR(Ke.memory,this.pointer+128,this.digestLength);mi(r.length>=this.digestLength,"input must be TypedArray or Buffer");for(var e=0;e<this.digestLength;e++)r[e]=Ke.memory[this.pointer+128+e];return r};Br.prototype.final=Br.prototype.digest;Br.WASM=Ke&&Ke.buffer;Br.SUPPORTED=typeof WebAssembly<"u";Br.ready=function(r){if(r||(r=cR),!Ke)return r(new Error("WebAssembly not supported"));var e=new Promise(function(t,i){Ke.onload(function(n){n?i():t(),r(n)})});return e};Br.prototype.ready=Br.ready;function cR(){}function lR(r,e,t){for(var i="",n=0;n<t;n++)i+=fR(r[e+n]);return i}function fR(r){return r<16?"0"+r.toString(16):r.toString(16)}});var Bb=M((cW,pr)=>{f();var xn=_y(),lc=vb();function Jf(r,e,t){var i=r[e]+r[t],n=r[e+1]+r[t+1];i>=4294967296&&n++,r[e]=i,r[e+1]=n}function Eb(r,e,t,i){var n=r[e]+t;t<0&&(n+=4294967296);var s=r[e+1]+i;n>=4294967296&&s++,r[e]=n,r[e+1]=s}function xb(r,e){return r[e]^r[e+1]<<8^r[e+2]<<16^r[e+3]<<24}function Cn(r,e,t,i,n,s){var o=cc[n],a=cc[n+1],u=cc[s],h=cc[s+1];Jf(Ce,r,e),Eb(Ce,r,o,a);var p=Ce[i]^Ce[r],m=Ce[i+1]^Ce[r+1];Ce[i]=m,Ce[i+1]=p,Jf(Ce,t,i),p=Ce[e]^Ce[t],m=Ce[e+1]^Ce[t+1],Ce[e]=p>>>24^m<<8,Ce[e+1]=m>>>24^p<<8,Jf(Ce,r,e),Eb(Ce,r,u,h),p=Ce[i]^Ce[r],m=Ce[i+1]^Ce[r+1],Ce[i]=p>>>16^m<<16,Ce[i+1]=m>>>16^p<<16,Jf(Ce,t,i),p=Ce[e]^Ce[t],m=Ce[e+1]^Ce[t+1],Ce[e]=m>>>31^p<<1,Ce[e+1]=p>>>31^m<<1}var Tb=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),hR=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],rr=new Uint8Array(hR.map(function(r){return r*2})),Ce=new Uint32Array(32),cc=new Uint32Array(32);function Nb(r,e){var t=0;for(t=0;t<16;t++)Ce[t]=r.h[t],Ce[t+16]=Tb[t];for(Ce[24]=Ce[24]^r.t,Ce[25]=Ce[25]^r.t/4294967296,e&&(Ce[28]=~Ce[28],Ce[29]=~Ce[29]),t=0;t<32;t++)cc[t]=xb(r.b,4*t);for(t=0;t<12;t++)Cn(0,8,16,24,rr[t*16+0],rr[t*16+1]),Cn(2,10,18,26,rr[t*16+2],rr[t*16+3]),Cn(4,12,20,28,rr[t*16+4],rr[t*16+5]),Cn(6,14,22,30,rr[t*16+6],rr[t*16+7]),Cn(0,10,20,30,rr[t*16+8],rr[t*16+9]),Cn(2,12,22,24,rr[t*16+10],rr[t*16+11]),Cn(4,14,16,26,rr[t*16+12],rr[t*16+13]),Cn(6,8,18,28,rr[t*16+14],rr[t*16+15]);for(t=0;t<16;t++)r.h[t]=r.h[t]^Ce[t]^Ce[t+16]}var Sn=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function _a(r,e,t,i){Sn.fill(0),this.b=new Uint8Array(128),this.h=new Uint32Array(16),this.t=0,this.c=0,this.outlen=r,Sn[0]=r,e&&(Sn[1]=e.length),Sn[2]=1,Sn[3]=1,t&&Sn.set(t,32),i&&Sn.set(i,48);for(var n=0;n<16;n++)this.h[n]=Tb[n]^xb(Sn,n*4);e&&(Db(this,e),this.c=128)}_a.prototype.update=function(r){return xn(r!=null,"input must be Uint8Array or Buffer"),Db(this,r),this};_a.prototype.digest=function(r){var e=!r||r==="binary"||r==="hex"?new Uint8Array(this.outlen):r;return xn(e.length>=this.outlen,"out must have at least outlen bytes of space"),dR(this,e),r==="hex"?pR(e):e};_a.prototype.final=_a.prototype.digest;_a.ready=function(r){lc.ready(function(){r()})};function Db(r,e){for(var t=0;t<e.length;t++)r.c===128&&(r.t+=r.c,Nb(r,!1),r.c=0),r.b[r.c++]=e[t]}function dR(r,e){for(r.t+=r.c;r.c<128;)r.b[r.c++]=0;Nb(r,!0);for(var t=0;t<r.outlen;t++)e[t]=r.h[t>>2]>>8*(t&3);return e}function pR(r){for(var e="",t=0;t<r.length;t++)e+=gR(r[t]);return e}function gR(r){return r<16?"0"+r.toString(16):r.toString(16)}var Ob=_a;pr.exports=function(e,t,i,n,s){return s!==!0&&(xn(e>=Ab,"outlen must be at least "+Ab+", was given "+e),xn(e<=Ib,"outlen must be at most "+Ib+", was given "+e),t!=null&&xn(t.length>=_b,"key must be at least "+_b+", was given "+t.length),t!=null&&xn(t.length<=bb,"key must be at most "+bb+", was given "+t.length),i!=null&&xn(i.length===Cb,"salt must be exactly "+Cb+", was given "+i.length),n!=null&&xn(n.length===Sb,"personal must be exactly "+Sb+", was given "+n.length)),new Ob(e,t,i,n)};pr.exports.ready=function(r){lc.ready(function(){r()})};pr.exports.WASM_SUPPORTED=lc.SUPPORTED;pr.exports.WASM_LOADED=!1;var Ab=pr.exports.BYTES_MIN=16,Ib=pr.exports.BYTES_MAX=64,aW=pr.exports.BYTES=32,_b=pr.exports.KEYBYTES_MIN=16,bb=pr.exports.KEYBYTES_MAX=64,uW=pr.exports.KEYBYTES=32,Cb=pr.exports.SALTBYTES=16,Sb=pr.exports.PERSONALBYTES=16;lc.ready(function(r){r||(pr.exports.WASM_LOADED=!0,Ob=lc)})});var Ry=M(Mr=>{"use strict";f();var yR=Mr&&Mr.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),mR=Mr&&Mr.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),wR=Mr&&Mr.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&yR(e,r,t);return mR(e,r),e};Object.defineProperty(Mr,"__esModule",{value:!0});Mr.TransactionHash=Mr.Transaction=void 0;var fc=Ur(),My=qr(),Py=qI(),Mb=QI(),vR=br(),Pb=rc(),ER=wR($e()),AR=K_(),IR=z_(),_R=Hf(),bR=Bb(),CR=32,hc=class{constructor({nonce:e,value:t,receiver:i,sender:n,gasPrice:s,gasLimit:o,data:a,chainID:u,version:h,options:p}){this.nonce=e||0,this.value=t||0,this.sender=n,this.receiver=i,this.gasPrice=s||_R.TRANSACTION_MIN_GAS_PRICE,this.gasLimit=o,this.data=a||new Pb.TransactionPayload,this.chainID=u,this.version=h||Py.TransactionVersion.withDefaultVersion(),this.options=p||Py.TransactionOptions.withDefaultOptions(),this.signature=Mb.Signature.empty(),this.hash=Hs.empty()}getNonce(){return this.nonce}setNonce(e){this.nonce=e}getValue(){return this.value}setValue(e){this.value=e}getSender(){return this.sender}getReceiver(){return this.receiver}getGasPrice(){return this.gasPrice}setGasPrice(e){this.gasPrice=e}getGasLimit(){return this.gasLimit}setGasLimit(e){this.gasLimit=e}getData(){return this.data}getChainID(){return this.chainID}setChainID(e){this.chainID=e}getVersion(){return this.version}getOptions(){return this.options}getSignature(){return this.signature}getHash(){return vR.guardNotEmpty(this.hash,"hash"),this.hash}serializeForSigning(e){let t=this.toPlainObject(e);t.signature&&delete t.signature;let i=JSON.stringify(t);return y.Buffer.from(i)}toPlainObject(e){return{nonce:this.nonce.valueOf(),value:this.value.toString(),receiver:this.receiver.bech32(),sender:e?e.bech32():this.sender.bech32(),gasPrice:this.gasPrice.valueOf(),gasLimit:this.gasLimit.valueOf(),data:this.data.length()==0?void 0:this.data.encoded(),chainID:this.chainID.valueOf(),version:this.version.valueOf(),options:this.options.valueOf()==0?void 0:this.options.valueOf(),signature:this.signature.hex()?this.signature.hex():void 0}}static fromPlainObject(e){let t=new hc({nonce:Number(e.nonce),value:new fc.BigNumber(e.value),receiver:My.Address.fromString(e.receiver),sender:My.Address.fromString(e.sender),gasPrice:Number(e.gasPrice),gasLimit:Number(e.gasLimit),data:new Pb.TransactionPayload(y.Buffer.from(e.data||"","base64")),chainID:String(e.chainID),version:new Py.TransactionVersion(e.version)});return e.signature&&t.applySignature(new Mb.Signature(e.signature),My.Address.fromString(e.sender)),t}applySignature(e,t){this.signature=e,this.sender=t,this.hash=Hs.compute(this)}toSendable(){return this.toPlainObject()}computeFee(e){let t=e.MinGasLimit.valueOf()+this.data.length()*e.GasPerDataByte.valueOf();if(t>this.gasLimit.valueOf())throw new ER.ErrNotEnoughGas(this.gasLimit.valueOf());let i=new fc.BigNumber(this.gasPrice.valueOf()),n=new fc.BigNumber(t).multipliedBy(i);if(t===this.gasLimit.valueOf())return n;let s=new fc.BigNumber(this.gasLimit.valueOf()-t),o=i.multipliedBy(new fc.BigNumber(e.GasPriceModifier.valueOf())),a=s.multipliedBy(o);return n.plus(a)}};Mr.Transaction=hc;var Hs=class extends IR.Hash{constructor(e){super(e)}static compute(e){let i=new AR.ProtoSerializer().serializeTransaction(e),n=bR(CR).update(i).digest("hex");return new Hs(n)}};Mr.TransactionHash=Hs});var Ly=M(js=>{"use strict";f();Object.defineProperty(js,"__esModule",{value:!0});js.Logger=js.LogLevel=void 0;var Qs;(function(r){r[r.Trace=0]="Trace",r[r.Debug=1]="Debug",r[r.Info=2]="Info",r[r.Warn=3]="Warn",r[r.Error=4]="Error",r[r.None=5]="None"})(Qs=js.LogLevel||(js.LogLevel={}));var zr=class{static setLevel(e){zr.logLevel=e}static trace(e,...t){zr.logLevel>=Qs.Debug||console.debug(e,t)}static debug(e,...t){zr.logLevel>=Qs.Debug||console.debug(e,t)}static info(e,...t){zr.logLevel>=Qs.Info||console.log(e,t)}static warn(e,...t){zr.logLevel>=Qs.Warn||console.warn(e,t)}static error(e,...t){zr.logLevel>=Qs.Error||console.error(e,t)}};js.Logger=zr;zr.logLevel=Qs.Debug});var Rb=M(vi=>{"use strict";f();var SR=vi&&vi.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),xR=vi&&vi.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),TR=vi&&vi.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&SR(e,r,t);return xR(e,r),e};Object.defineProperty(vi,"__esModule",{value:!0});vi.AsyncTimer=void 0;var NR=TR($e()),DR=$e(),Fy=Ly(),Uy=class{constructor(e){this.timeoutHandle=null,this.rejectionFunc=null,this.name=e,this.correlationTag=0}start(e){if(this.timeoutHandle)throw new NR.ErrAsyncTimerAlreadyRunning;return this.correlationTag++,Fy.Logger.trace(`AsyncTimer[${this.name}'${this.correlationTag}].start()`),new Promise((t,i)=>{this.rejectionFunc=i;let n=()=>{this.rejectionFunc=null,this.stop(),t()};this.timeoutHandle=setTimeout(n,e)})}abort(){Fy.Logger.trace(`AsyncTimer[${this.name}'${this.correlationTag}].abort()`),this.rejectionFunc&&(this.rejectionFunc(new DR.ErrAsyncTimerAborted),this.rejectionFunc=null),this.stop()}stop(){this.isStopped()||(Fy.Logger.trace(`AsyncTimer[${this.name}'${this.correlationTag}].stop()`),this.timeoutHandle&&(clearTimeout(this.timeoutHandle),this.timeoutHandle=null))}isStopped(){return!this.timeoutHandle}};vi.AsyncTimer=Uy});var Vy=M(Ca=>{"use strict";f();var Pr=Ca&&Ca.__awaiter||function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(p){try{h(i.next(p))}catch(m){o(m)}}function u(p){try{h(i.throw(p))}catch(m){o(m)}}function h(p){p.done?s(p.value):n(p.value).then(a,u)}h((i=i.apply(r,e||[])).next())})};Object.defineProperty(Ca,"__esModule",{value:!0});Ca.TransactionWatcher=void 0;var Lb=Rb(),Fb=Ly(),ba=$e(),Ei=class{constructor(e,t=Ei.DefaultPollingInterval,i=Ei.DefaultTimeout){this.fetcher=new qy(e),this.pollingInterval=t,this.timeout=i}awaitPending(e){return Pr(this,void 0,void 0,function*(){let t=s=>s.status.isPending(),i=()=>Pr(this,void 0,void 0,function*(){return yield this.fetcher.getTransaction(e.getHash().hex())}),n=()=>new ba.ErrExpectedTransactionStatusNotReached;return this.awaitConditionally(t,i,n)})}awaitCompleted(e){return Pr(this,void 0,void 0,function*(){let t=s=>s.isCompleted,i=()=>Pr(this,void 0,void 0,function*(){return yield this.fetcher.getTransaction(e.getHash().hex())}),n=()=>new ba.ErrExpectedTransactionStatusNotReached;return this.awaitConditionally(t,i,n)})}awaitAllEvents(e,t){return Pr(this,void 0,void 0,function*(){let i=o=>{let a=this.getAllTransactionEvents(o).map(h=>h.identifier);return t.every(h=>a.includes(h))},n=()=>Pr(this,void 0,void 0,function*(){return yield this.fetcher.getTransaction(e.getHash().hex())}),s=()=>new ba.ErrExpectedTransactionEventsNotFound;return this.awaitConditionally(i,n,s)})}awaitAnyEvent(e,t){return Pr(this,void 0,void 0,function*(){let i=o=>{let a=this.getAllTransactionEvents(o).map(h=>h.identifier);return t.find(h=>a.includes(h))!=null},n=()=>Pr(this,void 0,void 0,function*(){return yield this.fetcher.getTransaction(e.getHash().hex())}),s=()=>new ba.ErrExpectedTransactionEventsNotFound;return this.awaitConditionally(i,n,s)})}awaitOnCondition(e,t){return Pr(this,void 0,void 0,function*(){let i=()=>Pr(this,void 0,void 0,function*(){return yield this.fetcher.getTransaction(e.getHash().hex())}),n=()=>new ba.ErrExpectedTransactionStatusNotReached;return this.awaitConditionally(t,i,n)})}awaitConditionally(e,t,i){return Pr(this,void 0,void 0,function*(){let n=new Lb.AsyncTimer("watcher:periodic"),s=new Lb.AsyncTimer("watcher:timeout"),o=!1,a,u=!1;for(s.start(this.timeout).finally(()=>{s.stop(),o=!0});!o;){yield n.start(this.pollingInterval);try{if(a=yield t(),u=e(a),u||o)break}catch(h){if(Fb.Logger.debug("TransactionWatcher.awaitConditionally(): cannot (yet) fetch data."),!(h instanceof ba.Err))throw h}}if(s.isStopped()||s.stop(),!a||!u)throw i();return a})}getAllTransactionEvents(e){let t=[...e.logs.events];for(let i of e.contractResults.items)t.push(...i.logs.events);return t}};Ca.TransactionWatcher=Ei;Ei.DefaultPollingInterval=6e3;Ei.DefaultTimeout=Ei.DefaultPollingInterval*15;Ei.NoopOnStatusReceived=r=>{};var qy=class{constructor(e){this.fetcher=e}getTransaction(e){return Pr(this,void 0,void 0,function*(){return Fb.Logger.debug(`transactionWatcher, getTransaction(${e})`),yield this.fetcher.getTransaction(e)})}}});var Ub=M(Ai=>{"use strict";f();var OR=Ai&&Ai.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),BR=Ai&&Ai.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),MR=Ai&&Ai.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&OR(e,r,t);return BR(e,r),e};Object.defineProperty(Ai,"__esModule",{value:!0});Ai.ContractFunction=void 0;var PR=MR($e()),dc=class{constructor(e){if(this.name=e,e==null)throw new PR.ErrInvalidFunctionName}static none(){return new dc("untitled")}toString(){return this.name}valueOf(){return this.name}equals(e){return e?this.name==e.name:!1}};Ai.ContractFunction=dc});var qb=M(Sa=>{"use strict";f();Object.defineProperty(Sa,"__esModule",{value:!0});Sa.Signature=Sa.Address=void 0;var Hy=class{constructor(e){this.value=e}bech32(){return this.value}};Sa.Address=Hy;var Qy=class{constructor(e){this.value=e}hex(){return this.value}};Sa.Signature=Qy});var Vb=M(pc=>{"use strict";f();Object.defineProperty(pc,"__esModule",{value:!0});pc.Operation=void 0;var RR;(function(r){r.Connect="connect",r.Logout="logout",r.SignTransactions="signTransactions",r.SignMessage="signMessage",r.CancelAction="cancelAction"})(RR=pc.Operation||(pc.Operation={}))});var Hb=M(Tn=>{"use strict";f();Object.defineProperty(Tn,"__esModule",{value:!0});Tn.ErrAccountNotConnected=Tn.ErrCannotSignSingleTransaction=Tn.Err=void 0;var gc=class extends Error{constructor(e,t){super(e),this.inner=void 0,this.inner=t}};Tn.Err=gc;var jy=class extends gc{constructor(){super("Cannot sign single transaction.")}};Tn.ErrCannotSignSingleTransaction=jy;var Gy=class extends gc{constructor(){super("Account is not connected.")}};Tn.ErrAccountNotConnected=Gy});var Ky=M(xa=>{"use strict";f();var Nn=xa&&xa.__awaiter||function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(p){try{h(i.next(p))}catch(m){o(m)}}function u(p){try{h(i.throw(p))}catch(m){o(m)}}function h(p){p.done?s(p.value):n(p.value).then(a,u)}h((i=i.apply(r,e||[])).next())})};Object.defineProperty(xa,"__esModule",{value:!0});xa.ExtensionProvider=void 0;var Xf=qb(),yc=Vb(),Qb=Hb(),Ii=class{constructor(){if(this.account={address:""},this.initialized=!1,Ii._instance)throw new Error("Error: Instantiation failed: Use ExtensionProvider.getInstance() instead of new.");Ii._instance=this}static getInstance(){return Ii._instance}setAddress(e){return this.account.address=e,Ii._instance}init(){return Nn(this,void 0,void 0,function*(){return window&&window.elrondWallet&&(this.initialized=!0),this.initialized})}login(e={}){return Nn(this,void 0,void 0,function*(){if(!this.initialized)throw new Error("Extension provider is not initialised, call init() first");let{token:t}=e,i=t||"";return yield this.startBgrMsgChannel(yc.Operation.Connect,i),this.account.address})}logout(){return Nn(this,void 0,void 0,function*(){if(!this.initialized)throw new Error("Extension provider is not initialised, call init() first");try{yield this.startBgrMsgChannel(yc.Operation.Logout,this.account.address),this.disconnect()}catch(e){console.warn("Extension origin url is already cleared!",e)}return!0})}disconnect(){this.account={address:""}}getAddress(){return Nn(this,void 0,void 0,function*(){if(!this.initialized)throw new Error("Extension provider is not initialised, call init() first");return this.account?this.account.address:""})}isInitialized(){return this.initialized}isConnected(){return Nn(this,void 0,void 0,function*(){return Boolean(this.account.address)})}signTransaction(e){return Nn(this,void 0,void 0,function*(){this.ensureConnected();let t=yield this.signTransactions([e]);if(t.length!=1)throw new Qb.ErrCannotSignSingleTransaction;return t[0]})}ensureConnected(){if(!this.account.address)throw new Qb.ErrAccountNotConnected}signTransactions(e){return Nn(this,void 0,void 0,function*(){this.ensureConnected();let t=yield this.startBgrMsgChannel(yc.Operation.SignTransactions,{from:this.account.address,transactions:e.map(i=>i.toPlainObject())});try{for(let i=0;i<e.length;i++){let n=e[i],s=t[i];n.applySignature(new Xf.Signature(s.signature),new Xf.Address(this.account.address))}return e}catch(i){throw new Error(`Transaction canceled: ${i.message}.`)}})}signMessage(e){return Nn(this,void 0,void 0,function*(){this.ensureConnected();let t={account:this.account.address,message:e.message.toString()},i=yield this.startBgrMsgChannel(yc.Operation.SignMessage,t);return e.applySignature(new Xf.Signature(i.signature),new Xf.Address(this.account.address)),e})}cancelAction(){return this.startBgrMsgChannel(yc.Operation.CancelAction,{})}startBgrMsgChannel(e,t){return new Promise(i=>{window.postMessage({target:"erdw-inpage",type:e,data:t},window.origin);let n=s=>{s.isTrusted&&s.data.target==="erdw-contentScript"&&(s.data.type==="connectResponse"?(s.data.data&&Boolean(s.data.data.address)&&(this.account=s.data.data),window.removeEventListener("message",n),i(s.data.data)):(window.removeEventListener("message",n),i(s.data.data)))};window.addEventListener("message",n,!1)})}};xa.ExtensionProvider=Ii;Ii._instance=new Ii});var $b=M((UW,kb)=>{"use strict";f();function LR(r){try{return JSON.stringify(r)}catch{return'"[Circular]"'}}kb.exports=FR;function FR(r,e,t){var i=t&&t.stringify||LR,n=1;if(typeof r=="object"&&r!==null){var s=e.length+n;if(s===1)return r;var o=new Array(s);o[0]=i(r);for(var a=1;a<s;a++)o[a]=i(e[a]);return o.join(" ")}if(typeof r!="string")return r;var u=e.length;if(u===0)return r;for(var h="",p=1-n,m=-1,O=r&&r.length||0,B=0;B<O;){if(r.charCodeAt(B)===37&&B+1<O){switch(m=m>-1?m:0,r.charCodeAt(B+1)){case 100:case 102:if(p>=u||e[p]==null)break;m<B&&(h+=r.slice(m,B)),h+=Number(e[p]),m=B+2,B++;break;case 105:if(p>=u||e[p]==null)break;m<B&&(h+=r.slice(m,B)),h+=Math.floor(Number(e[p])),m=B+2,B++;break;case 79:case 111:case 106:if(p>=u||e[p]===void 0)break;m<B&&(h+=r.slice(m,B));var x=typeof e[p];if(x==="string"){h+="'"+e[p]+"'",m=B+2,B++;break}if(x==="function"){h+=e[p].name||"<anonymous>",m=B+2,B++;break}h+=i(e[p]),m=B+2,B++;break;case 115:if(p>=u)break;m<B&&(h+=r.slice(m,B)),h+=String(e[p]),m=B+2,B++;break;case 37:m<B&&(h+=r.slice(m,B)),h+="%",m=B+2,B++,p--;break}++p}++B}return m===-1?r:(m<O&&(h+=r.slice(m)),h)}});var sh=M((VW,Xb)=>{"use strict";f();var Wb=$b();Xb.exports=bi;var mc=kR().console||{},UR={mapHttpRequest:ih,mapHttpResponse:ih,wrapRequestSerializer:zy,wrapResponseSerializer:zy,wrapErrorSerializer:zy,req:ih,res:ih,err:jR};function qR(r,e){return Array.isArray(r)?r.filter(function(i){return i!=="!stdSerializers.err"}):r===!0?Object.keys(e):!1}function bi(r){r=r||{},r.browser=r.browser||{};let e=r.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");let t=r.browser.write||mc;r.browser.write&&(r.browser.asObject=!0);let i=r.serializers||{},n=qR(r.browser.serialize,i),s=r.browser.serialize;Array.isArray(r.browser.serialize)&&r.browser.serialize.indexOf("!stdSerializers.err")>-1&&(s=!1);let o=["error","fatal","warn","info","debug","trace"];typeof t=="function"&&(t.error=t.fatal=t.warn=t.info=t.debug=t.trace=t),r.enabled===!1&&(r.level="silent");let a=r.level||"info",u=Object.create(t);u.log||(u.log=wc),Object.defineProperty(u,"levelVal",{get:p}),Object.defineProperty(u,"level",{get:m,set:O});let h={transmit:e,serialize:n,asObject:r.browser.asObject,levels:o,timestamp:GR(r)};u.levels=bi.levels,u.level=a,u.setMaxListeners=u.getMaxListeners=u.emit=u.addListener=u.on=u.prependListener=u.once=u.prependOnceListener=u.removeListener=u.removeAllListeners=u.listeners=u.listenerCount=u.eventNames=u.write=u.flush=wc,u.serializers=i,u._serialize=n,u._stdErrSerialize=s,u.child=B,e&&(u._logEvent=ky());function p(){return this.level==="silent"?1/0:this.levels.values[this.level]}function m(){return this._level}function O(x){if(x!=="silent"&&!this.levels.values[x])throw Error("unknown level "+x);this._level=x,Ta(h,u,"error","log"),Ta(h,u,"fatal","error"),Ta(h,u,"warn","error"),Ta(h,u,"info","log"),Ta(h,u,"debug","log"),Ta(h,u,"trace","log")}function B(x,V){if(!x)throw new Error("missing bindings for child Pino");V=V||{},n&&x.serializers&&(V.serializers=x.serializers);let H=V.serializers;if(n&&H){var G=Object.assign({},i,H),ie=r.browser.serialize===!0?Object.keys(G):n;delete x.serializers,nh([x],ie,G,this._stdErrSerialize)}function Y(W){this._childLevel=(W._childLevel|0)+1,this.error=Na(W,x,"error"),this.fatal=Na(W,x,"fatal"),this.warn=Na(W,x,"warn"),this.info=Na(W,x,"info"),this.debug=Na(W,x,"debug"),this.trace=Na(W,x,"trace"),G&&(this.serializers=G,this._serialize=ie),e&&(this._logEvent=ky([].concat(W._logEvent.bindings,x)))}return Y.prototype=this,new Y(this)}return u}bi.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};bi.stdSerializers=UR;bi.stdTimeFunctions=Object.assign({},{nullTime:Yb,epochTime:Jb,unixTime:KR,isoTime:zR});function Ta(r,e,t,i){let n=Object.getPrototypeOf(e);e[t]=e.levelVal>e.levels.values[t]?wc:n[t]?n[t]:mc[t]||mc[i]||wc,VR(r,e,t)}function VR(r,e,t){!r.transmit&&e[t]===wc||(e[t]=function(i){return function(){let s=r.timestamp(),o=new Array(arguments.length),a=Object.getPrototypeOf&&Object.getPrototypeOf(this)===mc?mc:this;for(var u=0;u<o.length;u++)o[u]=arguments[u];if(r.serialize&&!r.asObject&&nh(o,this._serialize,this.serializers,this._stdErrSerialize),r.asObject?i.call(a,HR(this,t,o,s)):i.apply(a,o),r.transmit){let h=r.transmit.level||e.level,p=bi.levels.values[h],m=bi.levels.values[t];if(m<p)return;QR(this,{ts:s,methodLevel:t,methodValue:m,transmitLevel:h,transmitValue:bi.levels.values[r.transmit.level||e.level],send:r.transmit.send,val:e.levelVal},o)}}}(e[t]))}function HR(r,e,t,i){r._serialize&&nh(t,r._serialize,r.serializers,r._stdErrSerialize);let n=t.slice(),s=n[0],o={};i&&(o.time=i),o.level=bi.levels.values[e];let a=(r._childLevel|0)+1;if(a<1&&(a=1),s!==null&&typeof s=="object"){for(;a--&&typeof n[0]=="object";)Object.assign(o,n.shift());s=n.length?Wb(n.shift(),n):void 0}else typeof s=="string"&&(s=Wb(n.shift(),n));return s!==void 0&&(o.msg=s),o}function nh(r,e,t,i){for(let n in r)if(i&&r[n]instanceof Error)r[n]=bi.stdSerializers.err(r[n]);else if(typeof r[n]=="object"&&!Array.isArray(r[n]))for(let s in r[n])e&&e.indexOf(s)>-1&&s in t&&(r[n][s]=t[s](r[n][s]))}function Na(r,e,t){return function(){let i=new Array(1+arguments.length);i[0]=e;for(var n=1;n<i.length;n++)i[n]=arguments[n-1];return r[t].apply(this,i)}}function QR(r,e,t){let i=e.send,n=e.ts,s=e.methodLevel,o=e.methodValue,a=e.val,u=r._logEvent.bindings;nh(t,r._serialize||Object.keys(r.serializers),r.serializers,r._stdErrSerialize===void 0?!0:r._stdErrSerialize),r._logEvent.ts=n,r._logEvent.messages=t.filter(function(h){return u.indexOf(h)===-1}),r._logEvent.level.label=s,r._logEvent.level.value=o,i(s,r._logEvent,a),r._logEvent=ky(u)}function ky(r){return{ts:0,messages:[],bindings:r||[],level:{label:"",value:0}}}function jR(r){let e={type:r.constructor.name,msg:r.message,stack:r.stack};for(let t in r)e[t]===void 0&&(e[t]=r[t]);return e}function GR(r){return typeof r.timestamp=="function"?r.timestamp:r.timestamp===!1?Yb:Jb}function ih(){return{}}function zy(r){return r}function wc(){}function Yb(){return!1}function Jb(){return Date.now()}function KR(){return Math.round(Date.now()/1e3)}function zR(){return new Date(Date.now()).toISOString()}function kR(){function r(e){return typeof e<"u"&&e}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return r(self)||r(window)||r(this)||{}}}});var Gs=M((QW,$y)=>{"use strict";f();var Da=typeof Reflect=="object"?Reflect:null,Zb=Da&&typeof Da.apply=="function"?Da.apply:function(e,t,i){return Function.prototype.apply.call(e,t,i)},oh;Da&&typeof Da.ownKeys=="function"?oh=Da.ownKeys:Object.getOwnPropertySymbols?oh=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:oh=function(e){return Object.getOwnPropertyNames(e)};function $R(r){console&&console.warn&&console.warn(r)}var tC=Number.isNaN||function(e){return e!==e};function He(){He.init.call(this)}$y.exports=He;$y.exports.once=XR;He.EventEmitter=He;He.prototype._events=void 0;He.prototype._eventsCount=0;He.prototype._maxListeners=void 0;var eC=10;function ah(r){if(typeof r!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof r)}Object.defineProperty(He,"defaultMaxListeners",{enumerable:!0,get:function(){return eC},set:function(r){if(typeof r!="number"||r<0||tC(r))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+r+".");eC=r}});He.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};He.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||tC(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function rC(r){return r._maxListeners===void 0?He.defaultMaxListeners:r._maxListeners}He.prototype.getMaxListeners=function(){return rC(this)};He.prototype.emit=function(e){for(var t=[],i=1;i<arguments.length;i++)t.push(arguments[i]);var n=e==="error",s=this._events;if(s!==void 0)n=n&&s.error===void 0;else if(!n)return!1;if(n){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var u=s[e];if(u===void 0)return!1;if(typeof u=="function")Zb(u,this,t);else for(var h=u.length,p=aC(u,h),i=0;i<h;++i)Zb(p[i],this,t);return!0};function iC(r,e,t,i){var n,s,o;if(ah(t),s=r._events,s===void 0?(s=r._events=Object.create(null),r._eventsCount=0):(s.newListener!==void 0&&(r.emit("newListener",e,t.listener?t.listener:t),s=r._events),o=s[e]),o===void 0)o=s[e]=t,++r._eventsCount;else if(typeof o=="function"?o=s[e]=i?[t,o]:[o,t]:i?o.unshift(t):o.push(t),n=rC(r),n>0&&o.length>n&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=r,a.type=e,a.count=o.length,$R(a)}return r}He.prototype.addListener=function(e,t){return iC(this,e,t,!1)};He.prototype.on=He.prototype.addListener;He.prototype.prependListener=function(e,t){return iC(this,e,t,!0)};function WR(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function nC(r,e,t){var i={fired:!1,wrapFn:void 0,target:r,type:e,listener:t},n=WR.bind(i);return n.listener=t,i.wrapFn=n,n}He.prototype.once=function(e,t){return ah(t),this.on(e,nC(this,e,t)),this};He.prototype.prependOnceListener=function(e,t){return ah(t),this.prependListener(e,nC(this,e,t)),this};He.prototype.removeListener=function(e,t){var i,n,s,o,a;if(ah(t),n=this._events,n===void 0)return this;if(i=n[e],i===void 0)return this;if(i===t||i.listener===t)--this._eventsCount===0?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,i.listener||t));else if(typeof i!="function"){for(s=-1,o=i.length-1;o>=0;o--)if(i[o]===t||i[o].listener===t){a=i[o].listener,s=o;break}if(s<0)return this;s===0?i.shift():YR(i,s),i.length===1&&(n[e]=i[0]),n.removeListener!==void 0&&this.emit("removeListener",e,a||t)}return this};He.prototype.off=He.prototype.removeListener;He.prototype.removeAllListeners=function(e){var t,i,n;if(i=this._events,i===void 0)return this;if(i.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):i[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete i[e]),this;if(arguments.length===0){var s=Object.keys(i),o;for(n=0;n<s.length;++n)o=s[n],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=i[e],typeof t=="function")this.removeListener(e,t);else if(t!==void 0)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this};function sC(r,e,t){var i=r._events;if(i===void 0)return[];var n=i[e];return n===void 0?[]:typeof n=="function"?t?[n.listener||n]:[n]:t?JR(n):aC(n,n.length)}He.prototype.listeners=function(e){return sC(this,e,!0)};He.prototype.rawListeners=function(e){return sC(this,e,!1)};He.listenerCount=function(r,e){return typeof r.listenerCount=="function"?r.listenerCount(e):oC.call(r,e)};He.prototype.listenerCount=oC;function oC(r){var e=this._events;if(e!==void 0){var t=e[r];if(typeof t=="function")return 1;if(t!==void 0)return t.length}return 0}He.prototype.eventNames=function(){return this._eventsCount>0?oh(this._events):[]};function aC(r,e){for(var t=new Array(e),i=0;i<e;++i)t[i]=r[i];return t}function YR(r,e){for(;e+1<r.length;e++)r[e]=r[e+1];r.pop()}function JR(r){for(var e=new Array(r.length),t=0;t<e.length;++t)e[t]=r[t].listener||r[t];return e}function XR(r,e){return new Promise(function(t,i){function n(o){r.removeListener(e,s),i(o)}function s(){typeof r.removeListener=="function"&&r.removeListener("error",n),t([].slice.call(arguments))}uC(r,e,s,{once:!0}),e!=="error"&&ZR(r,n,{once:!0})})}function ZR(r,e,t){typeof r.on=="function"&&uC(r,"error",e,t)}function uC(r,e,t,i){if(typeof r.on=="function")i.once?r.once(e,t):r.on(e,t);else if(typeof r.addEventListener=="function")r.addEventListener(e,function n(s){i.once&&r.removeEventListener(e,n),t(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof r)}});var Er=M((GW,ch)=>{f();var cC,lC,fC,hC,dC,pC,gC,yC,mC,uh,Wy,wC,vC,Oa,EC,AC,IC,_C,bC,CC,SC,xC,TC;(function(r){var e=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(i){r(t(e,t(i)))}):typeof ch=="object"&&typeof ch.exports=="object"?r(t(e,t(ch.exports))):r(t(e));function t(i,n){return i!==e&&(typeof Object.create=="function"?Object.defineProperty(i,"__esModule",{value:!0}):i.__esModule=!0),function(s,o){return i[s]=n?n(s,o):o}}})(function(r){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])};cC=function(t,i){e(t,i);function n(){this.constructor=t}t.prototype=i===null?Object.create(i):(n.prototype=i.prototype,new n)},lC=Object.assign||function(t){for(var i,n=1,s=arguments.length;n<s;n++){i=arguments[n];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])}return t},fC=function(t,i){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(t);o<s.length;o++)i.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(t,s[o])&&(n[s[o]]=t[s[o]]);return n},hC=function(t,i,n,s){var o=arguments.length,a=o<3?i:s===null?s=Object.getOwnPropertyDescriptor(i,n):s,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,i,n,s);else for(var h=t.length-1;h>=0;h--)(u=t[h])&&(a=(o<3?u(a):o>3?u(i,n,a):u(i,n))||a);return o>3&&a&&Object.defineProperty(i,n,a),a},dC=function(t,i){return function(n,s){i(n,s,t)}},pC=function(t,i){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,i)},gC=function(t,i,n,s){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(O){try{m(s.next(O))}catch(B){u(B)}}function p(O){try{m(s.throw(O))}catch(B){u(B)}}function m(O){O.done?a(O.value):o(O.value).then(h,p)}m((s=s.apply(t,i||[])).next())})},yC=function(t,i){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},s,o,a,u;return u={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function h(m){return function(O){return p([m,O])}}function p(m){if(s)throw new TypeError("Generator is already executing.");for(;n;)try{if(s=1,o&&(a=m[0]&2?o.return:m[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,m[1])).done)return a;switch(o=0,a&&(m=[m[0]&2,a.value]),m[0]){case 0:case 1:a=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,o=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!a||m[1]>a[0]&&m[1]<a[3])){n.label=m[1];break}if(m[0]===6&&n.label<a[1]){n.label=a[1],a=m;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(m);break}a[2]&&n.ops.pop(),n.trys.pop();continue}m=i.call(t,n)}catch(O){m=[6,O],o=0}finally{s=a=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},TC=function(t,i,n,s){s===void 0&&(s=n),t[s]=i[n]},mC=function(t,i){for(var n in t)n!=="default"&&!i.hasOwnProperty(n)&&(i[n]=t[n])},uh=function(t){var i=typeof Symbol=="function"&&Symbol.iterator,n=i&&t[i],s=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},Wy=function(t,i){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var s=n.call(t),o,a=[],u;try{for(;(i===void 0||i-- >0)&&!(o=s.next()).done;)a.push(o.value)}catch(h){u={error:h}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(u)throw u.error}}return a},wC=function(){for(var t=[],i=0;i<arguments.length;i++)t=t.concat(Wy(arguments[i]));return t},vC=function(){for(var t=0,i=0,n=arguments.length;i<n;i++)t+=arguments[i].length;for(var s=Array(t),o=0,i=0;i<n;i++)for(var a=arguments[i],u=0,h=a.length;u<h;u++,o++)s[o]=a[u];return s},Oa=function(t){return this instanceof Oa?(this.v=t,this):new Oa(t)},EC=function(t,i,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n.apply(t,i||[]),o,a=[];return o={},u("next"),u("throw"),u("return"),o[Symbol.asyncIterator]=function(){return this},o;function u(x){s[x]&&(o[x]=function(V){return new Promise(function(H,G){a.push([x,V,H,G])>1||h(x,V)})})}function h(x,V){try{p(s[x](V))}catch(H){B(a[0][3],H)}}function p(x){x.value instanceof Oa?Promise.resolve(x.value.v).then(m,O):B(a[0][2],x)}function m(x){h("next",x)}function O(x){h("throw",x)}function B(x,V){x(V),a.shift(),a.length&&h(a[0][0],a[0][1])}},AC=function(t){var i,n;return i={},s("next"),s("throw",function(o){throw o}),s("return"),i[Symbol.iterator]=function(){return this},i;function s(o,a){i[o]=t[o]?function(u){return(n=!n)?{value:Oa(t[o](u)),done:o==="return"}:a?a(u):u}:a}},IC=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t[Symbol.asyncIterator],n;return i?i.call(t):(t=typeof uh=="function"?uh(t):t[Symbol.iterator](),n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n);function s(a){n[a]=t[a]&&function(u){return new Promise(function(h,p){u=t[a](u),o(h,p,u.done,u.value)})}}function o(a,u,h,p){Promise.resolve(p).then(function(m){a({value:m,done:h})},u)}},_C=function(t,i){return Object.defineProperty?Object.defineProperty(t,"raw",{value:i}):t.raw=i,t},bC=function(t){if(t&&t.__esModule)return t;var i={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(i[n]=t[n]);return i.default=t,i},CC=function(t){return t&&t.__esModule?t:{default:t}},SC=function(t,i){if(!i.has(t))throw new TypeError("attempted to get private field on non-instance");return i.get(t)},xC=function(t,i,n){if(!i.has(t))throw new TypeError("attempted to set private field on non-instance");return i.set(t,n),n},r("__extends",cC),r("__assign",lC),r("__rest",fC),r("__decorate",hC),r("__param",dC),r("__metadata",pC),r("__awaiter",gC),r("__generator",yC),r("__exportStar",mC),r("__createBinding",TC),r("__values",uh),r("__read",Wy),r("__spread",wC),r("__spreadArrays",vC),r("__await",Oa),r("__asyncGenerator",EC),r("__asyncDelegator",AC),r("__asyncValues",IC),r("__makeTemplateObject",_C),r("__importStar",bC),r("__importDefault",CC),r("__classPrivateFieldGet",SC),r("__classPrivateFieldSet",xC)})});var Yy=M(lh=>{"use strict";f();Object.defineProperty(lh,"__esModule",{value:!0});function eL(r){if(typeof r!="string")throw new Error(`Cannot safe json parse value of type ${typeof r}`);try{return JSON.parse(r)}catch{return r}}lh.safeJsonParse=eL;function tL(r){return typeof r=="string"?r:JSON.stringify(r,(e,t)=>typeof t>"u"?null:t)}lh.safeJsonStringify=tL});var NC=M(($W,fh)=>{"use strict";f();(function(){"use strict";let r;function e(){}r=e,r.prototype.getItem=function(t){return this.hasOwnProperty(t)?String(this[t]):null},r.prototype.setItem=function(t,i){this[t]=String(i)},r.prototype.removeItem=function(t){delete this[t]},r.prototype.clear=function(){let t=this;Object.keys(t).forEach(function(i){t[i]=void 0,delete t[i]})},r.prototype.key=function(t){return t=t||0,Object.keys(this)[t]},r.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof global<"u"&&global.localStorage?fh.exports=global.localStorage:typeof window<"u"&&window.localStorage?fh.exports=window.localStorage:fh.exports=new e})()});var DC=M(hh=>{"use strict";f();Object.defineProperty(hh,"__esModule",{value:!0});hh.IKeyValueStorage=void 0;var Jy=class{};hh.IKeyValueStorage=Jy});var OC=M(dh=>{"use strict";f();Object.defineProperty(dh,"__esModule",{value:!0});dh.parseEntry=void 0;var rL=Yy();function iL(r){var e;return[r[0],rL.safeJsonParse((e=r[1])!==null&&e!==void 0?e:"")]}dh.parseEntry=iL});var MC=M(ph=>{"use strict";f();Object.defineProperty(ph,"__esModule",{value:!0});var BC=Er();BC.__exportStar(DC(),ph);BC.__exportStar(OC(),ph)});var RC=M(vc=>{"use strict";f();Object.defineProperty(vc,"__esModule",{value:!0});vc.KeyValueStorage=void 0;var Ba=Er(),PC=Yy(),nL=Ba.__importDefault(NC()),sL=MC(),gh=class{constructor(){this.localStorage=nL.default}getKeys(){return Ba.__awaiter(this,void 0,void 0,function*(){return Object.keys(this.localStorage)})}getEntries(){return Ba.__awaiter(this,void 0,void 0,function*(){return Object.entries(this.localStorage).map(sL.parseEntry)})}getItem(e){return Ba.__awaiter(this,void 0,void 0,function*(){let t=this.localStorage.getItem(e);if(t!==null)return PC.safeJsonParse(t)})}setItem(e,t){return Ba.__awaiter(this,void 0,void 0,function*(){this.localStorage.setItem(e,PC.safeJsonStringify(t))})}removeItem(e){return Ba.__awaiter(this,void 0,void 0,function*(){this.localStorage.removeItem(e)})}};vc.KeyValueStorage=gh;vc.default=gh});var LC=M(yh=>{"use strict";f();Object.defineProperty(yh,"__esModule",{value:!0});yh.delay=void 0;function oL(r){return new Promise(e=>{setTimeout(()=>{e(!0)},r)})}yh.delay=oL});var FC=M(Ma=>{"use strict";f();Object.defineProperty(Ma,"__esModule",{value:!0});Ma.ONE_THOUSAND=Ma.ONE_HUNDRED=void 0;Ma.ONE_HUNDRED=100;Ma.ONE_THOUSAND=1e3});var UC=M(pe=>{"use strict";f();Object.defineProperty(pe,"__esModule",{value:!0});pe.ONE_YEAR=pe.FOUR_WEEKS=pe.THREE_WEEKS=pe.TWO_WEEKS=pe.ONE_WEEK=pe.THIRTY_DAYS=pe.SEVEN_DAYS=pe.FIVE_DAYS=pe.THREE_DAYS=pe.ONE_DAY=pe.TWENTY_FOUR_HOURS=pe.TWELVE_HOURS=pe.SIX_HOURS=pe.THREE_HOURS=pe.ONE_HOUR=pe.SIXTY_MINUTES=pe.THIRTY_MINUTES=pe.TEN_MINUTES=pe.FIVE_MINUTES=pe.ONE_MINUTE=pe.SIXTY_SECONDS=pe.THIRTY_SECONDS=pe.TEN_SECONDS=pe.FIVE_SECONDS=pe.ONE_SECOND=void 0;pe.ONE_SECOND=1;pe.FIVE_SECONDS=5;pe.TEN_SECONDS=10;pe.THIRTY_SECONDS=30;pe.SIXTY_SECONDS=60;pe.ONE_MINUTE=pe.SIXTY_SECONDS;pe.FIVE_MINUTES=pe.ONE_MINUTE*5;pe.TEN_MINUTES=pe.ONE_MINUTE*10;pe.THIRTY_MINUTES=pe.ONE_MINUTE*30;pe.SIXTY_MINUTES=pe.ONE_MINUTE*60;pe.ONE_HOUR=pe.SIXTY_MINUTES;pe.THREE_HOURS=pe.ONE_HOUR*3;pe.SIX_HOURS=pe.ONE_HOUR*6;pe.TWELVE_HOURS=pe.ONE_HOUR*12;pe.TWENTY_FOUR_HOURS=pe.ONE_HOUR*24;pe.ONE_DAY=pe.TWENTY_FOUR_HOURS;pe.THREE_DAYS=pe.ONE_DAY*3;pe.FIVE_DAYS=pe.ONE_DAY*5;pe.SEVEN_DAYS=pe.ONE_DAY*7;pe.THIRTY_DAYS=pe.ONE_DAY*30;pe.ONE_WEEK=pe.SEVEN_DAYS;pe.TWO_WEEKS=pe.ONE_WEEK*2;pe.THREE_WEEKS=pe.ONE_WEEK*3;pe.FOUR_WEEKS=pe.ONE_WEEK*4;pe.ONE_YEAR=pe.ONE_DAY*365});var Xy=M(mh=>{"use strict";f();Object.defineProperty(mh,"__esModule",{value:!0});var qC=Er();qC.__exportStar(FC(),mh);qC.__exportStar(UC(),mh)});var HC=M(Pa=>{"use strict";f();Object.defineProperty(Pa,"__esModule",{value:!0});Pa.fromMiliseconds=Pa.toMiliseconds=void 0;var VC=Xy();function aL(r){return r*VC.ONE_THOUSAND}Pa.toMiliseconds=aL;function uL(r){return Math.floor(r/VC.ONE_THOUSAND)}Pa.fromMiliseconds=uL});var jC=M(wh=>{"use strict";f();Object.defineProperty(wh,"__esModule",{value:!0});var QC=Er();QC.__exportStar(LC(),wh);QC.__exportStar(HC(),wh)});var GC=M(Ec=>{"use strict";f();Object.defineProperty(Ec,"__esModule",{value:!0});Ec.Watch=void 0;var vh=class{constructor(){this.timestamps=new Map}start(e){if(this.timestamps.has(e))throw new Error(`Watch already started for label: ${e}`);this.timestamps.set(e,{started:Date.now()})}stop(e){let t=this.get(e);if(typeof t.elapsed<"u")throw new Error(`Watch already stopped for label: ${e}`);let i=Date.now()-t.started;this.timestamps.set(e,{started:t.started,elapsed:i})}get(e){let t=this.timestamps.get(e);if(typeof t>"u")throw new Error(`No timestamp found for label: ${e}`);return t}elapsed(e){let t=this.get(e);return t.elapsed||Date.now()-t.started}};Ec.Watch=vh;Ec.default=vh});var KC=M(Eh=>{"use strict";f();Object.defineProperty(Eh,"__esModule",{value:!0});Eh.IWatch=void 0;var Zy=class{};Eh.IWatch=Zy});var zC=M(em=>{"use strict";f();Object.defineProperty(em,"__esModule",{value:!0});var cL=Er();cL.__exportStar(KC(),em)});var Ks=M(Ra=>{"use strict";f();Object.defineProperty(Ra,"__esModule",{value:!0});var Ah=Er();Ah.__exportStar(jC(),Ra);Ah.__exportStar(GC(),Ra);Ah.__exportStar(zC(),Ra);Ah.__exportStar(Xy(),Ra)});var tm,kC=ye(()=>{f();tm=class{}});var rm={};ot(rm,{IEvents:()=>tm});var im=ye(()=>{f();kC()});var $C=M(Ih=>{"use strict";f();Object.defineProperty(Ih,"__esModule",{value:!0});Ih.IHeartBeat=void 0;var lL=(im(),Xr(rm)),nm=class extends lL.IEvents{constructor(e){super()}};Ih.IHeartBeat=nm});var om=M(sm=>{"use strict";f();Object.defineProperty(sm,"__esModule",{value:!0});var fL=Er();fL.__exportStar($C(),sm)});var WC=M(La=>{"use strict";f();Object.defineProperty(La,"__esModule",{value:!0});La.HEARTBEAT_EVENTS=La.HEARTBEAT_INTERVAL=void 0;var hL=Ks();La.HEARTBEAT_INTERVAL=hL.FIVE_SECONDS;La.HEARTBEAT_EVENTS={pulse:"heartbeat_pulse"}});var um=M(am=>{"use strict";f();Object.defineProperty(am,"__esModule",{value:!0});var dL=Er();dL.__exportStar(WC(),am)});var YC=M(_h=>{"use strict";f();Object.defineProperty(_h,"__esModule",{value:!0});_h.HeartBeat=void 0;var cm=Er(),pL=Gs(),gL=Ks(),yL=om(),lm=um(),Ac=class extends yL.IHeartBeat{constructor(e){super(e),this.events=new pL.EventEmitter,this.interval=lm.HEARTBEAT_INTERVAL,this.interval=e?.interval||lm.HEARTBEAT_INTERVAL}static init(e){return cm.__awaiter(this,void 0,void 0,function*(){let t=new Ac(e);return yield t.init(),t})}init(){return cm.__awaiter(this,void 0,void 0,function*(){yield this.initialize()})}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}initialize(){return cm.__awaiter(this,void 0,void 0,function*(){setInterval(()=>this.pulse(),gL.toMiliseconds(this.interval))})}pulse(){this.events.emit(lm.HEARTBEAT_EVENTS.pulse)}};_h.HeartBeat=Ac});var JC=M(Ic=>{"use strict";f();Object.defineProperty(Ic,"__esModule",{value:!0});var fm=Er();fm.__exportStar(YC(),Ic);fm.__exportStar(om(),Ic);fm.__exportStar(um(),Ic)});var hm=M(Fa=>{"use strict";f();Object.defineProperty(Fa,"__esModule",{value:!0});Fa.PINO_CUSTOM_CONTEXT_KEY=Fa.PINO_LOGGER_DEFAULTS=void 0;Fa.PINO_LOGGER_DEFAULTS={level:"info"};Fa.PINO_CUSTOM_CONTEXT_KEY="custom_context"});var rS=M(gr=>{"use strict";f();Object.defineProperty(gr,"__esModule",{value:!0});gr.generateChildLogger=gr.formatChildLoggerContext=gr.getLoggerContext=gr.setBrowserLoggerContext=gr.getBrowserLoggerContext=gr.getDefaultLoggerOptions=void 0;var Ua=hm();function mL(r){return Object.assign(Object.assign({},r),{level:r?.level||Ua.PINO_LOGGER_DEFAULTS.level})}gr.getDefaultLoggerOptions=mL;function XC(r,e=Ua.PINO_CUSTOM_CONTEXT_KEY){return r[e]||""}gr.getBrowserLoggerContext=XC;function ZC(r,e,t=Ua.PINO_CUSTOM_CONTEXT_KEY){return r[t]=e,r}gr.setBrowserLoggerContext=ZC;function eS(r,e=Ua.PINO_CUSTOM_CONTEXT_KEY){let t="";return typeof r.bindings>"u"?t=XC(r,e):t=r.bindings().context||"",t}gr.getLoggerContext=eS;function tS(r,e,t=Ua.PINO_CUSTOM_CONTEXT_KEY){let i=eS(r,t);return i.trim()?`${i}/${e}`:e}gr.formatChildLoggerContext=tS;function wL(r,e,t=Ua.PINO_CUSTOM_CONTEXT_KEY){let i=tS(r,e,t),n=r.child({context:i});return ZC(n,i,t)}gr.generateChildLogger=wL});var pm=M(qa=>{"use strict";f();Object.defineProperty(qa,"__esModule",{value:!0});qa.pino=void 0;var dm=Er(),vL=dm.__importDefault(sh());Object.defineProperty(qa,"pino",{enumerable:!0,get:function(){return vL.default}});dm.__exportStar(hm(),qa);dm.__exportStar(rS(),qa)});var Om=M(Kt=>{"use strict";f();Object.defineProperty(Kt,"__esModule",{value:!0});var Va=(im(),Xr(rm)),iS=Gs();function EL(r){return r&&typeof r=="object"&&"default"in r?r:{default:r}}var AL=EL(iS),gm=class extends Va.IEvents{constructor(e){super(),this.opts=e,this.protocol="wc",this.version=2}},ym=class{constructor(e,t,i){this.core=e,this.logger=t}},mm=class extends Va.IEvents{constructor(e,t){super(),this.core=e,this.logger=t,this.records=new Map}},wm=class{constructor(e,t){this.logger=e,this.core=t}},vm=class extends Va.IEvents{constructor(e,t){super(),this.relayer=e,this.logger=t}},Em=class extends Va.IEvents{constructor(e){super()}},Am=class{constructor(e,t,i,n){this.core=e,this.logger=t,this.name=i}},Im=class{constructor(){this.map=new Map}},_m=class extends Va.IEvents{constructor(e,t){super(),this.relayer=e,this.logger=t}},bm=class{constructor(e,t){this.core=e,this.logger=t}},Cm=class extends Va.IEvents{constructor(e,t){super(),this.core=e,this.logger=t}},Sm=class{constructor(e,t){this.logger=e,this.core=t}},xm=class extends AL.default{constructor(){super()}},Tm=class{constructor(e){this.opts=e,this.protocol="wc",this.version=2}},Nm=class extends iS.EventEmitter{constructor(){super()}},Dm=class{constructor(e){this.client=e}};Kt.ICore=gm,Kt.ICrypto=ym,Kt.IEngine=Dm,Kt.IEngineEvents=Nm,Kt.IExpirer=Cm,Kt.IJsonRpcHistory=mm,Kt.IKeyChain=bm,Kt.IMessageTracker=wm,Kt.IPairing=Sm,Kt.IPublisher=vm,Kt.IRelayer=Em,Kt.ISignClient=Tm,Kt.ISignClientEvents=xm,Kt.IStore=Am,Kt.ISubscriber=_m,Kt.ISubscriberTopicMap=Im});var nS={};ot(nS,{safeJsonParse:()=>_c,safeJsonStringify:()=>bc});function _c(r){if(typeof r!="string")throw new Error(`Cannot safe json parse value of type ${typeof r}`);try{return JSON.parse(r)}catch{return r}}function bc(r){return typeof r=="string"?r:JSON.stringify(r)}var bh=ye(()=>{f()});var oS=M(Ch=>{"use strict";f();Object.defineProperty(Ch,"__esModule",{value:!0});Ch.BrowserRandomSource=void 0;var sS=65536,Bm=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;let e=typeof self<"u"?self.crypto||self.msCrypto:null;e&&e.getRandomValues!==void 0&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");let t=new Uint8Array(e);for(let i=0;i<t.length;i+=sS)this._crypto.getRandomValues(t.subarray(i,i+Math.min(t.length-i,sS)));return t}};Ch.BrowserRandomSource=Bm});var Rr=M(Mm=>{"use strict";f();Object.defineProperty(Mm,"__esModule",{value:!0});function IL(r){for(var e=0;e<r.length;e++)r[e]=0;return r}Mm.wipe=IL});var aS=M(()=>{f()});var uS=M(Sh=>{"use strict";f();Object.defineProperty(Sh,"__esModule",{value:!0});Sh.NodeRandomSource=void 0;var _L=Rr(),Pm=class{constructor(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof EE<"u"){let e=aS();e&&e.randomBytes&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let t=this._crypto.randomBytes(e);if(t.length!==e)throw new Error("NodeRandomSource: got fewer bytes than requested");let i=new Uint8Array(e);for(let n=0;n<i.length;n++)i[n]=t[n];return(0,_L.wipe)(t),i}};Sh.NodeRandomSource=Pm});var cS=M(xh=>{"use strict";f();Object.defineProperty(xh,"__esModule",{value:!0});xh.SystemRandomSource=void 0;var bL=oS(),CL=uS(),Rm=class{constructor(){if(this.isAvailable=!1,this.name="",this._source=new bL.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new CL.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(e)}};xh.SystemRandomSource=Rm});var lS=M(Ar=>{"use strict";f();Object.defineProperty(Ar,"__esModule",{value:!0});function SL(r,e){var t=r>>>16&65535,i=r&65535,n=e>>>16&65535,s=e&65535;return i*s+(t*s+i*n<<16>>>0)|0}Ar.mul=Math.imul||SL;function xL(r,e){return r+e|0}Ar.add=xL;function TL(r,e){return r-e|0}Ar.sub=TL;function NL(r,e){return r<<e|r>>>32-e}Ar.rotl=NL;function DL(r,e){return r<<32-e|r>>>e}Ar.rotr=DL;function OL(r){return typeof r=="number"&&isFinite(r)&&Math.floor(r)===r}Ar.isInteger=Number.isInteger||OL;Ar.MAX_SAFE_INTEGER=9007199254740991;Ar.isSafeInteger=function(r){return Ar.isInteger(r)&&r>=-Ar.MAX_SAFE_INTEGER&&r<=Ar.MAX_SAFE_INTEGER}});var Ha=M(Ne=>{"use strict";f();Object.defineProperty(Ne,"__esModule",{value:!0});var fS=lS();function BL(r,e){return e===void 0&&(e=0),(r[e+0]<<8|r[e+1])<<16>>16}Ne.readInt16BE=BL;function ML(r,e){return e===void 0&&(e=0),(r[e+0]<<8|r[e+1])>>>0}Ne.readUint16BE=ML;function PL(r,e){return e===void 0&&(e=0),(r[e+1]<<8|r[e])<<16>>16}Ne.readInt16LE=PL;function RL(r,e){return e===void 0&&(e=0),(r[e+1]<<8|r[e])>>>0}Ne.readUint16LE=RL;function hS(r,e,t){return e===void 0&&(e=new Uint8Array(2)),t===void 0&&(t=0),e[t+0]=r>>>8,e[t+1]=r>>>0,e}Ne.writeUint16BE=hS;Ne.writeInt16BE=hS;function dS(r,e,t){return e===void 0&&(e=new Uint8Array(2)),t===void 0&&(t=0),e[t+0]=r>>>0,e[t+1]=r>>>8,e}Ne.writeUint16LE=dS;Ne.writeInt16LE=dS;function Lm(r,e){return e===void 0&&(e=0),r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3]}Ne.readInt32BE=Lm;function Fm(r,e){return e===void 0&&(e=0),(r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3])>>>0}Ne.readUint32BE=Fm;function Um(r,e){return e===void 0&&(e=0),r[e+3]<<24|r[e+2]<<16|r[e+1]<<8|r[e]}Ne.readInt32LE=Um;function qm(r,e){return e===void 0&&(e=0),(r[e+3]<<24|r[e+2]<<16|r[e+1]<<8|r[e])>>>0}Ne.readUint32LE=qm;function Th(r,e,t){return e===void 0&&(e=new Uint8Array(4)),t===void 0&&(t=0),e[t+0]=r>>>24,e[t+1]=r>>>16,e[t+2]=r>>>8,e[t+3]=r>>>0,e}Ne.writeUint32BE=Th;Ne.writeInt32BE=Th;function Nh(r,e,t){return e===void 0&&(e=new Uint8Array(4)),t===void 0&&(t=0),e[t+0]=r>>>0,e[t+1]=r>>>8,e[t+2]=r>>>16,e[t+3]=r>>>24,e}Ne.writeUint32LE=Nh;Ne.writeInt32LE=Nh;function LL(r,e){e===void 0&&(e=0);var t=Lm(r,e),i=Lm(r,e+4);return t*4294967296+i-(i>>31)*4294967296}Ne.readInt64BE=LL;function FL(r,e){e===void 0&&(e=0);var t=Fm(r,e),i=Fm(r,e+4);return t*4294967296+i}Ne.readUint64BE=FL;function UL(r,e){e===void 0&&(e=0);var t=Um(r,e),i=Um(r,e+4);return i*4294967296+t-(t>>31)*4294967296}Ne.readInt64LE=UL;function qL(r,e){e===void 0&&(e=0);var t=qm(r,e),i=qm(r,e+4);return i*4294967296+t}Ne.readUint64LE=qL;function pS(r,e,t){return e===void 0&&(e=new Uint8Array(8)),t===void 0&&(t=0),Th(r/4294967296>>>0,e,t),Th(r>>>0,e,t+4),e}Ne.writeUint64BE=pS;Ne.writeInt64BE=pS;function gS(r,e,t){return e===void 0&&(e=new Uint8Array(8)),t===void 0&&(t=0),Nh(r>>>0,e,t),Nh(r/4294967296>>>0,e,t+4),e}Ne.writeUint64LE=gS;Ne.writeInt64LE=gS;function VL(r,e,t){if(t===void 0&&(t=0),r%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(r/8>e.length-t)throw new Error("readUintBE: array is too short for the given bitLength");for(var i=0,n=1,s=r/8+t-1;s>=t;s--)i+=e[s]*n,n*=256;return i}Ne.readUintBE=VL;function HL(r,e,t){if(t===void 0&&(t=0),r%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(r/8>e.length-t)throw new Error("readUintLE: array is too short for the given bitLength");for(var i=0,n=1,s=t;s<t+r/8;s++)i+=e[s]*n,n*=256;return i}Ne.readUintLE=HL;function QL(r,e,t,i){if(t===void 0&&(t=new Uint8Array(r/8)),i===void 0&&(i=0),r%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!fS.isSafeInteger(e))throw new Error("writeUintBE value must be an integer");for(var n=1,s=r/8+i-1;s>=i;s--)t[s]=e/n&255,n*=256;return t}Ne.writeUintBE=QL;function jL(r,e,t,i){if(t===void 0&&(t=new Uint8Array(r/8)),i===void 0&&(i=0),r%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!fS.isSafeInteger(e))throw new Error("writeUintLE value must be an integer");for(var n=1,s=i;s<i+r/8;s++)t[s]=e/n&255,n*=256;return t}Ne.writeUintLE=jL;function GL(r,e){e===void 0&&(e=0);var t=new DataView(r.buffer,r.byteOffset,r.byteLength);return t.getFloat32(e)}Ne.readFloat32BE=GL;function KL(r,e){e===void 0&&(e=0);var t=new DataView(r.buffer,r.byteOffset,r.byteLength);return t.getFloat32(e,!0)}Ne.readFloat32LE=KL;function zL(r,e){e===void 0&&(e=0);var t=new DataView(r.buffer,r.byteOffset,r.byteLength);return t.getFloat64(e)}Ne.readFloat64BE=zL;function kL(r,e){e===void 0&&(e=0);var t=new DataView(r.buffer,r.byteOffset,r.byteLength);return t.getFloat64(e,!0)}Ne.readFloat64LE=kL;function $L(r,e,t){e===void 0&&(e=new Uint8Array(4)),t===void 0&&(t=0);var i=new DataView(e.buffer,e.byteOffset,e.byteLength);return i.setFloat32(t,r),e}Ne.writeFloat32BE=$L;function WL(r,e,t){e===void 0&&(e=new Uint8Array(4)),t===void 0&&(t=0);var i=new DataView(e.buffer,e.byteOffset,e.byteLength);return i.setFloat32(t,r,!0),e}Ne.writeFloat32LE=WL;function YL(r,e,t){e===void 0&&(e=new Uint8Array(8)),t===void 0&&(t=0);var i=new DataView(e.buffer,e.byteOffset,e.byteLength);return i.setFloat64(t,r),e}Ne.writeFloat64BE=YL;function JL(r,e,t){e===void 0&&(e=new Uint8Array(8)),t===void 0&&(t=0);var i=new DataView(e.buffer,e.byteOffset,e.byteLength);return i.setFloat64(t,r,!0),e}Ne.writeFloat64LE=JL});var Cc=M(ir=>{"use strict";f();Object.defineProperty(ir,"__esModule",{value:!0});ir.randomStringForEntropy=ir.randomString=ir.randomUint32=ir.randomBytes=ir.defaultRandomSource=void 0;var XL=cS(),ZL=Ha(),yS=Rr();ir.defaultRandomSource=new XL.SystemRandomSource;function Vm(r,e=ir.defaultRandomSource){return e.randomBytes(r)}ir.randomBytes=Vm;function eF(r=ir.defaultRandomSource){let e=Vm(4,r),t=(0,ZL.readUint32LE)(e);return(0,yS.wipe)(e),t}ir.randomUint32=eF;var mS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function wS(r,e=mS,t=ir.defaultRandomSource){if(e.length<2)throw new Error("randomString charset is too short");if(e.length>256)throw new Error("randomString charset is too long");let i="",n=e.length,s=256-256%n;for(;r>0;){let o=Vm(Math.ceil(r*256/s),t);for(let a=0;a<o.length&&r>0;a++){let u=o[a];u<s&&(i+=e.charAt(u%n),r--)}(0,yS.wipe)(o)}return i}ir.randomString=wS;function tF(r,e=mS,t=ir.defaultRandomSource){let i=Math.ceil(r/(Math.log(e.length)/Math.LN2));return wS(i,e,t)}ir.randomStringForEntropy=tF});var AS=M(zi=>{"use strict";f();Object.defineProperty(zi,"__esModule",{value:!0});var ja=Ha(),Qa=Rr();zi.DIGEST_LENGTH=64;zi.BLOCK_SIZE=128;var ES=function(){function r(){this.digestLength=zi.DIGEST_LENGTH,this.blockSize=zi.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return r.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},r.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},r.prototype.clean=function(){Qa.wipe(this._buffer),Qa.wipe(this._tempHi),Qa.wipe(this._tempLo),this.reset()},r.prototype.update=function(e,t){if(t===void 0&&(t=e.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var i=0;if(this._bytesHashed+=t,this._bufferLength>0){for(;this._bufferLength<zi.BLOCK_SIZE&&t>0;)this._buffer[this._bufferLength++]=e[i++],t--;this._bufferLength===this.blockSize&&(Hm(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(t>=this.blockSize&&(i=Hm(this._tempHi,this._tempLo,this._stateHi,this._stateLo,e,i,t),t%=this.blockSize);t>0;)this._buffer[this._bufferLength++]=e[i++],t--;return this},r.prototype.finish=function(e){if(!this._finished){var t=this._bytesHashed,i=this._bufferLength,n=t/536870912|0,s=t<<3,o=t%128<112?128:256;this._buffer[i]=128;for(var a=i+1;a<o-8;a++)this._buffer[a]=0;ja.writeUint32BE(n,this._buffer,o-8),ja.writeUint32BE(s,this._buffer,o-4),Hm(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,o),this._finished=!0}for(var a=0;a<this.digestLength/8;a++)ja.writeUint32BE(this._stateHi[a],e,a*8),ja.writeUint32BE(this._stateLo[a],e,a*8+4);return this},r.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},r.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},r.prototype.restoreState=function(e){return this._stateHi.set(e.stateHi),this._stateLo.set(e.stateLo),this._bufferLength=e.bufferLength,e.buffer&&this._buffer.set(e.buffer),this._bytesHashed=e.bytesHashed,this._finished=!1,this},r.prototype.cleanSavedState=function(e){Qa.wipe(e.stateHi),Qa.wipe(e.stateLo),e.buffer&&Qa.wipe(e.buffer),e.bufferLength=0,e.bytesHashed=0},r}();zi.SHA512=ES;var vS=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function Hm(r,e,t,i,n,s,o){for(var a=t[0],u=t[1],h=t[2],p=t[3],m=t[4],O=t[5],B=t[6],x=t[7],V=i[0],H=i[1],G=i[2],ie=i[3],Y=i[4],W=i[5],$=i[6],K=i[7],R,F,k,ce,J,X,A,c;o>=128;){for(var d=0;d<16;d++){var g=8*d+s;r[d]=ja.readUint32BE(n,g),e[d]=ja.readUint32BE(n,g+4)}for(var d=0;d<80;d++){var w=a,v=u,S=h,N=p,I=m,l=O,C=B,Z=x,te=V,ee=H,ae=G,E=ie,b=Y,T=W,L=$,D=K;if(R=x,F=K,J=F&65535,X=F>>>16,A=R&65535,c=R>>>16,R=(m>>>14|Y<<32-14)^(m>>>18|Y<<32-18)^(Y>>>41-32|m<<32-(41-32)),F=(Y>>>14|m<<32-14)^(Y>>>18|m<<32-18)^(m>>>41-32|Y<<32-(41-32)),J+=F&65535,X+=F>>>16,A+=R&65535,c+=R>>>16,R=m&O^~m&B,F=Y&W^~Y&$,J+=F&65535,X+=F>>>16,A+=R&65535,c+=R>>>16,R=vS[d*2],F=vS[d*2+1],J+=F&65535,X+=F>>>16,A+=R&65535,c+=R>>>16,R=r[d%16],F=e[d%16],J+=F&65535,X+=F>>>16,A+=R&65535,c+=R>>>16,X+=J>>>16,A+=X>>>16,c+=A>>>16,k=A&65535|c<<16,ce=J&65535|X<<16,R=k,F=ce,J=F&65535,X=F>>>16,A=R&65535,c=R>>>16,R=(a>>>28|V<<32-28)^(V>>>34-32|a<<32-(34-32))^(V>>>39-32|a<<32-(39-32)),F=(V>>>28|a<<32-28)^(a>>>34-32|V<<32-(34-32))^(a>>>39-32|V<<32-(39-32)),J+=F&65535,X+=F>>>16,A+=R&65535,c+=R>>>16,R=a&u^a&h^u&h,F=V&H^V&G^H&G,J+=F&65535,X+=F>>>16,A+=R&65535,c+=R>>>16,X+=J>>>16,A+=X>>>16,c+=A>>>16,Z=A&65535|c<<16,D=J&65535|X<<16,R=N,F=E,J=F&65535,X=F>>>16,A=R&65535,c=R>>>16,R=k,F=ce,J+=F&65535,X+=F>>>16,A+=R&65535,c+=R>>>16,X+=J>>>16,A+=X>>>16,c+=A>>>16,N=A&65535|c<<16,E=J&65535|X<<16,u=w,h=v,p=S,m=N,O=I,B=l,x=C,a=Z,H=te,G=ee,ie=ae,Y=E,W=b,$=T,K=L,V=D,d%16===15)for(var g=0;g<16;g++)R=r[g],F=e[g],J=F&65535,X=F>>>16,A=R&65535,c=R>>>16,R=r[(g+9)%16],F=e[(g+9)%16],J+=F&65535,X+=F>>>16,A+=R&65535,c+=R>>>16,k=r[(g+1)%16],ce=e[(g+1)%16],R=(k>>>1|ce<<32-1)^(k>>>8|ce<<32-8)^k>>>7,F=(ce>>>1|k<<32-1)^(ce>>>8|k<<32-8)^(ce>>>7|k<<32-7),J+=F&65535,X+=F>>>16,A+=R&65535,c+=R>>>16,k=r[(g+14)%16],ce=e[(g+14)%16],R=(k>>>19|ce<<32-19)^(ce>>>61-32|k<<32-(61-32))^k>>>6,F=(ce>>>19|k<<32-19)^(k>>>61-32|ce<<32-(61-32))^(ce>>>6|k<<32-6),J+=F&65535,X+=F>>>16,A+=R&65535,c+=R>>>16,X+=J>>>16,A+=X>>>16,c+=A>>>16,r[g]=A&65535|c<<16,e[g]=J&65535|X<<16}R=a,F=V,J=F&65535,X=F>>>16,A=R&65535,c=R>>>16,R=t[0],F=i[0],J+=F&65535,X+=F>>>16,A+=R&65535,c+=R>>>16,X+=J>>>16,A+=X>>>16,c+=A>>>16,t[0]=a=A&65535|c<<16,i[0]=V=J&65535|X<<16,R=u,F=H,J=F&65535,X=F>>>16,A=R&65535,c=R>>>16,R=t[1],F=i[1],J+=F&65535,X+=F>>>16,A+=R&65535,c+=R>>>16,X+=J>>>16,A+=X>>>16,c+=A>>>16,t[1]=u=A&65535|c<<16,i[1]=H=J&65535|X<<16,R=h,F=G,J=F&65535,X=F>>>16,A=R&65535,c=R>>>16,R=t[2],F=i[2],J+=F&65535,X+=F>>>16,A+=R&65535,c+=R>>>16,X+=J>>>16,A+=X>>>16,c+=A>>>16,t[2]=h=A&65535|c<<16,i[2]=G=J&65535|X<<16,R=p,F=ie,J=F&65535,X=F>>>16,A=R&65535,c=R>>>16,R=t[3],F=i[3],J+=F&65535,X+=F>>>16,A+=R&65535,c+=R>>>16,X+=J>>>16,A+=X>>>16,c+=A>>>16,t[3]=p=A&65535|c<<16,i[3]=ie=J&65535|X<<16,R=m,F=Y,J=F&65535,X=F>>>16,A=R&65535,c=R>>>16,R=t[4],F=i[4],J+=F&65535,X+=F>>>16,A+=R&65535,c+=R>>>16,X+=J>>>16,A+=X>>>16,c+=A>>>16,t[4]=m=A&65535|c<<16,i[4]=Y=J&65535|X<<16,R=O,F=W,J=F&65535,X=F>>>16,A=R&65535,c=R>>>16,R=t[5],F=i[5],J+=F&65535,X+=F>>>16,A+=R&65535,c+=R>>>16,X+=J>>>16,A+=X>>>16,c+=A>>>16,t[5]=O=A&65535|c<<16,i[5]=W=J&65535|X<<16,R=B,F=$,J=F&65535,X=F>>>16,A=R&65535,c=R>>>16,R=t[6],F=i[6],J+=F&65535,X+=F>>>16,A+=R&65535,c+=R>>>16,X+=J>>>16,A+=X>>>16,c+=A>>>16,t[6]=B=A&65535|c<<16,i[6]=$=J&65535|X<<16,R=x,F=K,J=F&65535,X=F>>>16,A=R&65535,c=R>>>16,R=t[7],F=i[7],J+=F&65535,X+=F>>>16,A+=R&65535,c+=R>>>16,X+=J>>>16,A+=X>>>16,c+=A>>>16,t[7]=x=A&65535|c<<16,i[7]=K=J&65535|X<<16,s+=128,o-=128}return s}function rF(r){var e=new ES;e.update(r);var t=e.digest();return e.clean(),t}zi.hash=rF});var RS=M(qe=>{"use strict";f();Object.defineProperty(qe,"__esModule",{value:!0});qe.convertSecretKeyToX25519=qe.convertPublicKeyToX25519=qe.verify=qe.sign=qe.extractPublicKeyFromSecretKey=qe.generateKeyPair=qe.generateKeyPairFromSeed=qe.SEED_LENGTH=qe.SECRET_KEY_LENGTH=qe.PUBLIC_KEY_LENGTH=qe.SIGNATURE_LENGTH=void 0;var iF=Cc(),Sc=AS(),SS=Rr();qe.SIGNATURE_LENGTH=64;qe.PUBLIC_KEY_LENGTH=32;qe.SECRET_KEY_LENGTH=64;qe.SEED_LENGTH=32;function we(r){let e=new Float64Array(16);if(r)for(let t=0;t<r.length;t++)e[t]=r[t];return e}var nF=new Uint8Array(32);nF[0]=9;var Gm=we(),Ga=we([1]),sF=we([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),oF=we([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),IS=we([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),_S=we([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),aF=we([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function Dn(r,e){for(let t=0;t<16;t++)r[t]=e[t]|0}function Qm(r){let e=1;for(let t=0;t<16;t++){let i=r[t]+e+65535;e=Math.floor(i/65536),r[t]=i-e*65536}r[0]+=e-1+37*(e-1)}function xS(r,e,t){let i=~(t-1);for(let n=0;n<16;n++){let s=i&(r[n]^e[n]);r[n]^=s,e[n]^=s}}function xc(r,e){let t=we(),i=we();for(let n=0;n<16;n++)i[n]=e[n];Qm(i),Qm(i),Qm(i);for(let n=0;n<2;n++){t[0]=i[0]-65517;for(let o=1;o<15;o++)t[o]=i[o]-65535-(t[o-1]>>16&1),t[o-1]&=65535;t[15]=i[15]-32767-(t[14]>>16&1);let s=t[15]>>16&1;t[14]&=65535,xS(i,t,1-s)}for(let n=0;n<16;n++)r[2*n]=i[n]&255,r[2*n+1]=i[n]>>8}function TS(r,e){let t=0;for(let i=0;i<32;i++)t|=r[i]^e[i];return(1&t-1>>>8)-1}function bS(r,e){let t=new Uint8Array(32),i=new Uint8Array(32);return xc(t,r),xc(i,e),TS(t,i)}function NS(r){let e=new Uint8Array(32);return xc(e,r),e[0]&1}function uF(r,e){for(let t=0;t<16;t++)r[t]=e[2*t]+(e[2*t+1]<<8);r[15]&=32767}function zs(r,e,t){for(let i=0;i<16;i++)r[i]=e[i]+t[i]}function $s(r,e,t){for(let i=0;i<16;i++)r[i]=e[i]-t[i]}function Qe(r,e,t){let i,n,s=0,o=0,a=0,u=0,h=0,p=0,m=0,O=0,B=0,x=0,V=0,H=0,G=0,ie=0,Y=0,W=0,$=0,K=0,R=0,F=0,k=0,ce=0,J=0,X=0,A=0,c=0,d=0,g=0,w=0,v=0,S=0,N=t[0],I=t[1],l=t[2],C=t[3],Z=t[4],te=t[5],ee=t[6],ae=t[7],E=t[8],b=t[9],T=t[10],L=t[11],D=t[12],U=t[13],q=t[14],P=t[15];i=e[0],s+=i*N,o+=i*I,a+=i*l,u+=i*C,h+=i*Z,p+=i*te,m+=i*ee,O+=i*ae,B+=i*E,x+=i*b,V+=i*T,H+=i*L,G+=i*D,ie+=i*U,Y+=i*q,W+=i*P,i=e[1],o+=i*N,a+=i*I,u+=i*l,h+=i*C,p+=i*Z,m+=i*te,O+=i*ee,B+=i*ae,x+=i*E,V+=i*b,H+=i*T,G+=i*L,ie+=i*D,Y+=i*U,W+=i*q,$+=i*P,i=e[2],a+=i*N,u+=i*I,h+=i*l,p+=i*C,m+=i*Z,O+=i*te,B+=i*ee,x+=i*ae,V+=i*E,H+=i*b,G+=i*T,ie+=i*L,Y+=i*D,W+=i*U,$+=i*q,K+=i*P,i=e[3],u+=i*N,h+=i*I,p+=i*l,m+=i*C,O+=i*Z,B+=i*te,x+=i*ee,V+=i*ae,H+=i*E,G+=i*b,ie+=i*T,Y+=i*L,W+=i*D,$+=i*U,K+=i*q,R+=i*P,i=e[4],h+=i*N,p+=i*I,m+=i*l,O+=i*C,B+=i*Z,x+=i*te,V+=i*ee,H+=i*ae,G+=i*E,ie+=i*b,Y+=i*T,W+=i*L,$+=i*D,K+=i*U,R+=i*q,F+=i*P,i=e[5],p+=i*N,m+=i*I,O+=i*l,B+=i*C,x+=i*Z,V+=i*te,H+=i*ee,G+=i*ae,ie+=i*E,Y+=i*b,W+=i*T,$+=i*L,K+=i*D,R+=i*U,F+=i*q,k+=i*P,i=e[6],m+=i*N,O+=i*I,B+=i*l,x+=i*C,V+=i*Z,H+=i*te,G+=i*ee,ie+=i*ae,Y+=i*E,W+=i*b,$+=i*T,K+=i*L,R+=i*D,F+=i*U,k+=i*q,ce+=i*P,i=e[7],O+=i*N,B+=i*I,x+=i*l,V+=i*C,H+=i*Z,G+=i*te,ie+=i*ee,Y+=i*ae,W+=i*E,$+=i*b,K+=i*T,R+=i*L,F+=i*D,k+=i*U,ce+=i*q,J+=i*P,i=e[8],B+=i*N,x+=i*I,V+=i*l,H+=i*C,G+=i*Z,ie+=i*te,Y+=i*ee,W+=i*ae,$+=i*E,K+=i*b,R+=i*T,F+=i*L,k+=i*D,ce+=i*U,J+=i*q,X+=i*P,i=e[9],x+=i*N,V+=i*I,H+=i*l,G+=i*C,ie+=i*Z,Y+=i*te,W+=i*ee,$+=i*ae,K+=i*E,R+=i*b,F+=i*T,k+=i*L,ce+=i*D,J+=i*U,X+=i*q,A+=i*P,i=e[10],V+=i*N,H+=i*I,G+=i*l,ie+=i*C,Y+=i*Z,W+=i*te,$+=i*ee,K+=i*ae,R+=i*E,F+=i*b,k+=i*T,ce+=i*L,J+=i*D,X+=i*U,A+=i*q,c+=i*P,i=e[11],H+=i*N,G+=i*I,ie+=i*l,Y+=i*C,W+=i*Z,$+=i*te,K+=i*ee,R+=i*ae,F+=i*E,k+=i*b,ce+=i*T,J+=i*L,X+=i*D,A+=i*U,c+=i*q,d+=i*P,i=e[12],G+=i*N,ie+=i*I,Y+=i*l,W+=i*C,$+=i*Z,K+=i*te,R+=i*ee,F+=i*ae,k+=i*E,ce+=i*b,J+=i*T,X+=i*L,A+=i*D,c+=i*U,d+=i*q,g+=i*P,i=e[13],ie+=i*N,Y+=i*I,W+=i*l,$+=i*C,K+=i*Z,R+=i*te,F+=i*ee,k+=i*ae,ce+=i*E,J+=i*b,X+=i*T,A+=i*L,c+=i*D,d+=i*U,g+=i*q,w+=i*P,i=e[14],Y+=i*N,W+=i*I,$+=i*l,K+=i*C,R+=i*Z,F+=i*te,k+=i*ee,ce+=i*ae,J+=i*E,X+=i*b,A+=i*T,c+=i*L,d+=i*D,g+=i*U,w+=i*q,v+=i*P,i=e[15],W+=i*N,$+=i*I,K+=i*l,R+=i*C,F+=i*Z,k+=i*te,ce+=i*ee,J+=i*ae,X+=i*E,A+=i*b,c+=i*T,d+=i*L,g+=i*D,w+=i*U,v+=i*q,S+=i*P,s+=38*$,o+=38*K,a+=38*R,u+=38*F,h+=38*k,p+=38*ce,m+=38*J,O+=38*X,B+=38*A,x+=38*c,V+=38*d,H+=38*g,G+=38*w,ie+=38*v,Y+=38*S,n=1,i=s+n+65535,n=Math.floor(i/65536),s=i-n*65536,i=o+n+65535,n=Math.floor(i/65536),o=i-n*65536,i=a+n+65535,n=Math.floor(i/65536),a=i-n*65536,i=u+n+65535,n=Math.floor(i/65536),u=i-n*65536,i=h+n+65535,n=Math.floor(i/65536),h=i-n*65536,i=p+n+65535,n=Math.floor(i/65536),p=i-n*65536,i=m+n+65535,n=Math.floor(i/65536),m=i-n*65536,i=O+n+65535,n=Math.floor(i/65536),O=i-n*65536,i=B+n+65535,n=Math.floor(i/65536),B=i-n*65536,i=x+n+65535,n=Math.floor(i/65536),x=i-n*65536,i=V+n+65535,n=Math.floor(i/65536),V=i-n*65536,i=H+n+65535,n=Math.floor(i/65536),H=i-n*65536,i=G+n+65535,n=Math.floor(i/65536),G=i-n*65536,i=ie+n+65535,n=Math.floor(i/65536),ie=i-n*65536,i=Y+n+65535,n=Math.floor(i/65536),Y=i-n*65536,i=W+n+65535,n=Math.floor(i/65536),W=i-n*65536,s+=n-1+37*(n-1),n=1,i=s+n+65535,n=Math.floor(i/65536),s=i-n*65536,i=o+n+65535,n=Math.floor(i/65536),o=i-n*65536,i=a+n+65535,n=Math.floor(i/65536),a=i-n*65536,i=u+n+65535,n=Math.floor(i/65536),u=i-n*65536,i=h+n+65535,n=Math.floor(i/65536),h=i-n*65536,i=p+n+65535,n=Math.floor(i/65536),p=i-n*65536,i=m+n+65535,n=Math.floor(i/65536),m=i-n*65536,i=O+n+65535,n=Math.floor(i/65536),O=i-n*65536,i=B+n+65535,n=Math.floor(i/65536),B=i-n*65536,i=x+n+65535,n=Math.floor(i/65536),x=i-n*65536,i=V+n+65535,n=Math.floor(i/65536),V=i-n*65536,i=H+n+65535,n=Math.floor(i/65536),H=i-n*65536,i=G+n+65535,n=Math.floor(i/65536),G=i-n*65536,i=ie+n+65535,n=Math.floor(i/65536),ie=i-n*65536,i=Y+n+65535,n=Math.floor(i/65536),Y=i-n*65536,i=W+n+65535,n=Math.floor(i/65536),W=i-n*65536,s+=n-1+37*(n-1),r[0]=s,r[1]=o,r[2]=a,r[3]=u,r[4]=h,r[5]=p,r[6]=m,r[7]=O,r[8]=B,r[9]=x,r[10]=V,r[11]=H,r[12]=G,r[13]=ie,r[14]=Y,r[15]=W}function ks(r,e){Qe(r,e,e)}function DS(r,e){let t=we(),i;for(i=0;i<16;i++)t[i]=e[i];for(i=253;i>=0;i--)ks(t,t),i!==2&&i!==4&&Qe(t,t,e);for(i=0;i<16;i++)r[i]=t[i]}function cF(r,e){let t=we(),i;for(i=0;i<16;i++)t[i]=e[i];for(i=250;i>=0;i--)ks(t,t),i!==1&&Qe(t,t,e);for(i=0;i<16;i++)r[i]=t[i]}function Km(r,e){let t=we(),i=we(),n=we(),s=we(),o=we(),a=we(),u=we(),h=we(),p=we();$s(t,r[1],r[0]),$s(p,e[1],e[0]),Qe(t,t,p),zs(i,r[0],r[1]),zs(p,e[0],e[1]),Qe(i,i,p),Qe(n,r[3],e[3]),Qe(n,n,oF),Qe(s,r[2],e[2]),zs(s,s,s),$s(o,i,t),$s(a,s,n),zs(u,s,n),zs(h,i,t),Qe(r[0],o,a),Qe(r[1],h,u),Qe(r[2],u,a),Qe(r[3],o,h)}function CS(r,e,t){for(let i=0;i<4;i++)xS(r[i],e[i],t)}function km(r,e){let t=we(),i=we(),n=we();DS(n,e[2]),Qe(t,e[0],n),Qe(i,e[1],n),xc(r,i),r[31]^=NS(t)<<7}function OS(r,e,t){Dn(r[0],Gm),Dn(r[1],Ga),Dn(r[2],Ga),Dn(r[3],Gm);for(let i=255;i>=0;--i){let n=t[i/8|0]>>(i&7)&1;CS(r,e,n),Km(e,r),Km(r,r),CS(r,e,n)}}function $m(r,e){let t=[we(),we(),we(),we()];Dn(t[0],IS),Dn(t[1],_S),Dn(t[2],Ga),Qe(t[3],IS,_S),OS(r,t,e)}function BS(r){if(r.length!==qe.SEED_LENGTH)throw new Error(`ed25519: seed must be ${qe.SEED_LENGTH} bytes`);let e=(0,Sc.hash)(r);e[0]&=248,e[31]&=127,e[31]|=64;let t=new Uint8Array(32),i=[we(),we(),we(),we()];$m(i,e),km(t,i);let n=new Uint8Array(64);return n.set(r),n.set(t,32),{publicKey:t,secretKey:n}}qe.generateKeyPairFromSeed=BS;function lF(r){let e=(0,iF.randomBytes)(32,r),t=BS(e);return(0,SS.wipe)(e),t}qe.generateKeyPair=lF;function fF(r){if(r.length!==qe.SECRET_KEY_LENGTH)throw new Error(`ed25519: secret key must be ${qe.SECRET_KEY_LENGTH} bytes`);return new Uint8Array(r.subarray(32))}qe.extractPublicKeyFromSecretKey=fF;var jm=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function MS(r,e){let t,i,n,s;for(i=63;i>=32;--i){for(t=0,n=i-32,s=i-12;n<s;++n)e[n]+=t-16*e[i]*jm[n-(i-32)],t=Math.floor((e[n]+128)/256),e[n]-=t*256;e[n]+=t,e[i]=0}for(t=0,n=0;n<32;n++)e[n]+=t-(e[31]>>4)*jm[n],t=e[n]>>8,e[n]&=255;for(n=0;n<32;n++)e[n]-=t*jm[n];for(i=0;i<32;i++)e[i+1]+=e[i]>>8,r[i]=e[i]&255}function zm(r){let e=new Float64Array(64);for(let t=0;t<64;t++)e[t]=r[t];for(let t=0;t<64;t++)r[t]=0;MS(r,e)}function hF(r,e){let t=new Float64Array(64),i=[we(),we(),we(),we()],n=(0,Sc.hash)(r.subarray(0,32));n[0]&=248,n[31]&=127,n[31]|=64;let s=new Uint8Array(64);s.set(n.subarray(32),32);let o=new Sc.SHA512;o.update(s.subarray(32)),o.update(e);let a=o.digest();o.clean(),zm(a),$m(i,a),km(s,i),o.reset(),o.update(s.subarray(0,32)),o.update(r.subarray(32)),o.update(e);let u=o.digest();zm(u);for(let h=0;h<32;h++)t[h]=a[h];for(let h=0;h<32;h++)for(let p=0;p<32;p++)t[h+p]+=u[h]*n[p];return MS(s.subarray(32),t),s}qe.sign=hF;function PS(r,e){let t=we(),i=we(),n=we(),s=we(),o=we(),a=we(),u=we();return Dn(r[2],Ga),uF(r[1],e),ks(n,r[1]),Qe(s,n,sF),$s(n,n,r[2]),zs(s,r[2],s),ks(o,s),ks(a,o),Qe(u,a,o),Qe(t,u,n),Qe(t,t,s),cF(t,t),Qe(t,t,n),Qe(t,t,s),Qe(t,t,s),Qe(r[0],t,s),ks(i,r[0]),Qe(i,i,s),bS(i,n)&&Qe(r[0],r[0],aF),ks(i,r[0]),Qe(i,i,s),bS(i,n)?-1:(NS(r[0])===e[31]>>7&&$s(r[0],Gm,r[0]),Qe(r[3],r[0],r[1]),0)}function dF(r,e,t){let i=new Uint8Array(32),n=[we(),we(),we(),we()],s=[we(),we(),we(),we()];if(t.length!==qe.SIGNATURE_LENGTH)throw new Error(`ed25519: signature must be ${qe.SIGNATURE_LENGTH} bytes`);if(PS(s,r))return!1;let o=new Sc.SHA512;o.update(t.subarray(0,32)),o.update(r),o.update(e);let a=o.digest();return zm(a),OS(n,s,a),$m(s,t.subarray(32)),Km(n,s),km(i,n),!TS(t,i)}qe.verify=dF;function pF(r){let e=[we(),we(),we(),we()];if(PS(e,r))throw new Error("Ed25519: invalid public key");let t=we(),i=we(),n=e[1];zs(t,Ga,n),$s(i,Ga,n),DS(i,i),Qe(t,t,i);let s=new Uint8Array(32);return xc(s,t),s}qe.convertPublicKeyToX25519=pF;function gF(r){let e=(0,Sc.hash)(r.subarray(0,32));e[0]&=248,e[31]&=127,e[31]|=64;let t=new Uint8Array(e.subarray(0,32));return(0,SS.wipe)(e),t}qe.convertSecretKeyToX25519=gF});var Dh,Oh,Ws,Ka,Bh,Tc,Mh,Ph,Rh,za,Lh,Fh,LS,FS,Uh=ye(()=>{f();Dh="EdDSA",Oh="JWT",Ws=".",Ka="base64url",Bh="utf8",Tc="utf8",Mh=":",Ph="did",Rh="key",za="base58btc",Lh="z",Fh="K36",LS=32,FS=32});function ka(r=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(r):new Uint8Array(r)}var qh=ye(()=>{f()});function Vh(r,e){e||(e=r.reduce((n,s)=>n+s.length,0));let t=ka(e),i=0;for(let n of r)t.set(n,i),i+=n.length;return t}var Wm=ye(()=>{f();qh()});function yF(r,e){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),i=0;i<t.length;i++)t[i]=255;for(var n=0;n<r.length;n++){var s=r.charAt(n),o=s.charCodeAt(0);if(t[o]!==255)throw new TypeError(s+" is ambiguous");t[o]=n}var a=r.length,u=r.charAt(0),h=Math.log(a)/Math.log(256),p=Math.log(256)/Math.log(a);function m(x){if(x instanceof Uint8Array||(ArrayBuffer.isView(x)?x=new Uint8Array(x.buffer,x.byteOffset,x.byteLength):Array.isArray(x)&&(x=Uint8Array.from(x))),!(x instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(x.length===0)return"";for(var V=0,H=0,G=0,ie=x.length;G!==ie&&x[G]===0;)G++,V++;for(var Y=(ie-G)*p+1>>>0,W=new Uint8Array(Y);G!==ie;){for(var $=x[G],K=0,R=Y-1;($!==0||K<H)&&R!==-1;R--,K++)$+=256*W[R]>>>0,W[R]=$%a>>>0,$=$/a>>>0;if($!==0)throw new Error("Non-zero carry");H=K,G++}for(var F=Y-H;F!==Y&&W[F]===0;)F++;for(var k=u.repeat(V);F<Y;++F)k+=r.charAt(W[F]);return k}function O(x){if(typeof x!="string")throw new TypeError("Expected String");if(x.length===0)return new Uint8Array;var V=0;if(x[V]!==" "){for(var H=0,G=0;x[V]===u;)H++,V++;for(var ie=(x.length-V)*h+1>>>0,Y=new Uint8Array(ie);x[V];){var W=t[x.charCodeAt(V)];if(W===255)return;for(var $=0,K=ie-1;(W!==0||$<G)&&K!==-1;K--,$++)W+=a*Y[K]>>>0,Y[K]=W%256>>>0,W=W/256>>>0;if(W!==0)throw new Error("Non-zero carry");G=$,V++}if(x[V]!==" "){for(var R=ie-G;R!==ie&&Y[R]===0;)R++;for(var F=new Uint8Array(H+(ie-R)),k=H;R!==ie;)F[k++]=Y[R++];return F}}}function B(x){var V=O(x);if(V)return V;throw new Error(`Non-${e} character`)}return{encode:m,decodeUnsafe:O,decode:B}}var mF,wF,US,qS=ye(()=>{f();mF=yF,wF=mF,US=wF});var SJ,VS,ki,HS,QS,On=ye(()=>{f();SJ=new Uint8Array(0),VS=(r,e)=>{if(r===e)return!0;if(r.byteLength!==e.byteLength)return!1;for(let t=0;t<r.byteLength;t++)if(r[t]!==e[t])return!1;return!0},ki=r=>{if(r instanceof Uint8Array&&r.constructor.name==="Uint8Array")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")},HS=r=>new TextEncoder().encode(r),QS=r=>new TextDecoder().decode(r)});var Ym,Jm,Xm,GS,Zm,$a,Bn,vF,EF,nt,kr=ye(()=>{f();qS();On();Ym=class{constructor(e,t,i){this.name=e,this.prefix=t,this.baseEncode=i}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},Jm=class{constructor(e,t,i){if(this.name=e,this.prefix=t,t.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=i}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return GS(this,e)}},Xm=class{constructor(e){this.decoders=e}or(e){return GS(this,e)}decode(e){let t=e[0],i=this.decoders[t];if(i)return i.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},GS=(r,e)=>new Xm({...r.decoders||{[r.prefix]:r},...e.decoders||{[e.prefix]:e}}),Zm=class{constructor(e,t,i,n){this.name=e,this.prefix=t,this.baseEncode=i,this.baseDecode=n,this.encoder=new Ym(e,t,i),this.decoder=new Jm(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},$a=({name:r,prefix:e,encode:t,decode:i})=>new Zm(r,e,t,i),Bn=({prefix:r,name:e,alphabet:t})=>{let{encode:i,decode:n}=US(t,e);return $a({prefix:r,name:e,encode:i,decode:s=>ki(n(s))})},vF=(r,e,t,i)=>{let n={};for(let p=0;p<e.length;++p)n[e[p]]=p;let s=r.length;for(;r[s-1]==="=";)--s;let o=new Uint8Array(s*t/8|0),a=0,u=0,h=0;for(let p=0;p<s;++p){let m=n[r[p]];if(m===void 0)throw new SyntaxError(`Non-${i} character`);u=u<<t|m,a+=t,a>=8&&(a-=8,o[h++]=255&u>>a)}if(a>=t||255&u<<8-a)throw new SyntaxError("Unexpected end of data");return o},EF=(r,e,t)=>{let i=e[e.length-1]==="=",n=(1<<t)-1,s="",o=0,a=0;for(let u=0;u<r.length;++u)for(a=a<<8|r[u],o+=8;o>t;)o-=t,s+=e[n&a>>o];if(o&&(s+=e[n&a<<t-o]),i)for(;s.length*t&7;)s+="=";return s},nt=({name:r,prefix:e,bitsPerChar:t,alphabet:i})=>$a({prefix:e,name:r,encode(n){return EF(n,i,t)},decode(n){return vF(n,i,t,r)}})});var e1={};ot(e1,{identity:()=>AF});var AF,KS=ye(()=>{f();kr();On();AF=$a({prefix:"\0",name:"identity",encode:r=>QS(r),decode:r=>HS(r)})});var t1={};ot(t1,{base2:()=>IF});var IF,zS=ye(()=>{f();kr();IF=nt({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1})});var r1={};ot(r1,{base8:()=>_F});var _F,kS=ye(()=>{f();kr();_F=nt({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3})});var i1={};ot(i1,{base10:()=>bF});var bF,$S=ye(()=>{f();kr();bF=Bn({prefix:"9",name:"base10",alphabet:"0123456789"})});var n1={};ot(n1,{base16:()=>CF,base16upper:()=>SF});var CF,SF,WS=ye(()=>{f();kr();CF=nt({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),SF=nt({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4})});var s1={};ot(s1,{base32:()=>Wa,base32hex:()=>DF,base32hexpad:()=>BF,base32hexpadupper:()=>MF,base32hexupper:()=>OF,base32pad:()=>TF,base32padupper:()=>NF,base32upper:()=>xF,base32z:()=>PF});var Wa,xF,TF,NF,DF,OF,BF,MF,PF,o1=ye(()=>{f();kr();Wa=nt({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),xF=nt({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),TF=nt({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),NF=nt({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),DF=nt({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),OF=nt({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),BF=nt({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),MF=nt({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),PF=nt({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})});var a1={};ot(a1,{base36:()=>RF,base36upper:()=>LF});var RF,LF,YS=ye(()=>{f();kr();RF=Bn({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),LF=Bn({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})});var u1={};ot(u1,{base58btc:()=>Ci,base58flickr:()=>FF});var Ci,FF,c1=ye(()=>{f();kr();Ci=Bn({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),FF=Bn({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})});var l1={};ot(l1,{base64:()=>UF,base64pad:()=>qF,base64url:()=>VF,base64urlpad:()=>HF});var UF,qF,VF,HF,JS=ye(()=>{f();kr();UF=nt({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),qF=nt({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),VF=nt({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),HF=nt({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})});var f1={};ot(f1,{base256emoji:()=>zF});function GF(r){return r.reduce((e,t)=>(e+=QF[t],e),"")}function KF(r){let e=[];for(let t of r){let i=jF[t.codePointAt(0)];if(i===void 0)throw new Error(`Non-base256emoji character: ${t}`);e.push(i)}return new Uint8Array(e)}var XS,QF,jF,zF,ZS=ye(()=>{f();kr();XS=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),QF=XS.reduce((r,e,t)=>(r[t]=e,r),[]),jF=XS.reduce((r,e,t)=>(r[e.codePointAt(0)]=t,r),[]);zF=$a({prefix:"\u{1F680}",name:"base256emoji",encode:GF,decode:KF})});function rx(r,e,t){e=e||[],t=t||0;for(var i=t;r>=YF;)e[t++]=r&255|ex,r/=128;for(;r&WF;)e[t++]=r&255|ex,r>>>=7;return e[t]=r|0,rx.bytes=t-i+1,e}function h1(r,i){var t=0,i=i||0,n=0,s=i,o,a=r.length;do{if(s>=a)throw h1.bytes=0,new RangeError("Could not decode varint");o=r[s++],t+=n<28?(o&tx)<<n:(o&tx)*Math.pow(2,n),n+=7}while(o>=XF);return h1.bytes=s-i,t}var kF,ex,$F,WF,YF,JF,XF,tx,ZF,e4,t4,r4,i4,n4,s4,o4,a4,u4,c4,l4,Nc,ix=ye(()=>{f();kF=rx,ex=128,$F=127,WF=~$F,YF=Math.pow(2,31);JF=h1,XF=128,tx=127;ZF=Math.pow(2,7),e4=Math.pow(2,14),t4=Math.pow(2,21),r4=Math.pow(2,28),i4=Math.pow(2,35),n4=Math.pow(2,42),s4=Math.pow(2,49),o4=Math.pow(2,56),a4=Math.pow(2,63),u4=function(r){return r<ZF?1:r<e4?2:r<t4?3:r<r4?4:r<i4?5:r<n4?6:r<s4?7:r<o4?8:r<a4?9:10},c4={encode:kF,decode:JF,encodingLength:u4},l4=c4,Nc=l4});var Dc,Ya,Ja,Qh=ye(()=>{f();ix();Dc=(r,e=0)=>[Nc.decode(r,e),Nc.decode.bytes],Ya=(r,e,t=0)=>(Nc.encode(r,e,t),e),Ja=r=>Nc.encodingLength(r)});var Ys,nx,sx,Xa,Bc=ye(()=>{f();On();Qh();Ys=(r,e)=>{let t=e.byteLength,i=Ja(r),n=i+Ja(t),s=new Uint8Array(n+t);return Ya(r,s,0),Ya(t,s,i),s.set(e,n),new Xa(r,t,e,s)},nx=r=>{let e=ki(r),[t,i]=Dc(e),[n,s]=Dc(e.subarray(i)),o=e.subarray(i+s);if(o.byteLength!==n)throw new Error("Incorrect length");return new Xa(t,n,o,e)},sx=(r,e)=>r===e?!0:r.code===e.code&&r.size===e.size&&VS(r.bytes,e.bytes),Xa=class{constructor(e,t,i,n){this.code=e,this.size=t,this.digest=i,this.bytes=n}}});var p1,d1,g1=ye(()=>{f();Bc();p1=({name:r,code:e,encode:t})=>new d1(r,e,t),d1=class{constructor(e,t,i){this.name=e,this.code=t,this.encode=i}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?Ys(this.code,t):t.then(i=>Ys(this.code,i))}else throw Error("Unknown type, must be binary type")}}});var y1={};ot(y1,{sha256:()=>f4,sha512:()=>h4});var ax,f4,h4,ux=ye(()=>{f();g1();ax=r=>async e=>new Uint8Array(await crypto.subtle.digest(r,e)),f4=p1({name:"sha2-256",code:18,encode:ax("SHA-256")}),h4=p1({name:"sha2-512",code:19,encode:ax("SHA-512")})});var m1={};ot(m1,{identity:()=>g4});var cx,d4,lx,p4,g4,fx=ye(()=>{f();On();Bc();cx=0,d4="identity",lx=ki,p4=r=>Ys(cx,lx(r)),g4={code:cx,name:d4,encode:lx,digest:p4}});var hx=ye(()=>{f();On()});var hX,dX,dx=ye(()=>{f();hX=new TextEncoder,dX=new TextDecoder});var Ft,w4,v4,E4,Mc,A4,px,gx,jh,Gh,I4,_4,b4,yx=ye(()=>{f();Qh();Bc();c1();o1();On();Ft=class{constructor(e,t,i,n){this.code=t,this.version=e,this.multihash=i,this.bytes=n,this.byteOffset=n.byteOffset,this.byteLength=n.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:Gh,byteLength:Gh,code:jh,version:jh,multihash:jh,bytes:jh,_baseCache:Gh,asCID:Gh})}toV0(){switch(this.version){case 0:return this;default:{let{code:e,multihash:t}=this;if(e!==Mc)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==A4)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return Ft.createV0(t)}}}toV1(){switch(this.version){case 0:{let{code:e,digest:t}=this.multihash,i=Ys(e,t);return Ft.createV1(this.code,i)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&sx(this.multihash,e.multihash)}toString(e){let{bytes:t,version:i,_baseCache:n}=this;switch(i){case 0:return v4(t,n,e||Ci.encoder);default:return E4(t,n,e||Wa.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return _4(/^0\.0/,b4),!!(e&&(e[gx]||e.asCID===e))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof Ft)return e;if(e!=null&&e.asCID===e){let{version:t,code:i,multihash:n,bytes:s}=e;return new Ft(t,i,n,s||px(t,i,n.bytes))}else if(e!=null&&e[gx]===!0){let{version:t,multihash:i,code:n}=e,s=nx(i);return Ft.create(t,n,s)}else return null}static create(e,t,i){if(typeof t!="number")throw new Error("String codecs are no longer supported");switch(e){case 0:{if(t!==Mc)throw new Error(`Version 0 CID must use dag-pb (code: ${Mc}) block encoding`);return new Ft(e,t,i,i.bytes)}case 1:{let n=px(e,t,i.bytes);return new Ft(e,t,i,n)}default:throw new Error("Invalid version")}}static createV0(e){return Ft.create(0,Mc,e)}static createV1(e,t){return Ft.create(1,e,t)}static decode(e){let[t,i]=Ft.decodeFirst(e);if(i.length)throw new Error("Incorrect length");return t}static decodeFirst(e){let t=Ft.inspectBytes(e),i=t.size-t.multihashSize,n=ki(e.subarray(i,i+t.multihashSize));if(n.byteLength!==t.multihashSize)throw new Error("Incorrect length");let s=n.subarray(t.multihashSize-t.digestSize),o=new Xa(t.multihashCode,t.digestSize,s,n);return[t.version===0?Ft.createV0(o):Ft.createV1(t.codec,o),e.subarray(t.size)]}static inspectBytes(e){let t=0,i=()=>{let[m,O]=Dc(e.subarray(t));return t+=O,m},n=i(),s=Mc;if(n===18?(n=0,t=0):n===1&&(s=i()),n!==0&&n!==1)throw new RangeError(`Invalid CID version ${n}`);let o=t,a=i(),u=i(),h=t+u,p=h-o;return{version:n,codec:s,multihashCode:a,digestSize:u,multihashSize:p,size:h}}static parse(e,t){let[i,n]=w4(e,t),s=Ft.decode(n);return s._baseCache.set(i,e),s}},w4=(r,e)=>{switch(r[0]){case"Q":{let t=e||Ci;return[Ci.prefix,t.decode(`${Ci.prefix}${r}`)]}case Ci.prefix:{let t=e||Ci;return[Ci.prefix,t.decode(r)]}case Wa.prefix:{let t=e||Wa;return[Wa.prefix,t.decode(r)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[r[0],e.decode(r)]}}},v4=(r,e,t)=>{let{prefix:i}=t;if(i!==Ci.prefix)throw Error(`Cannot string encode V0 in ${t.name} encoding`);let n=e.get(i);if(n==null){let s=t.encode(r).slice(1);return e.set(i,s),s}else return n},E4=(r,e,t)=>{let{prefix:i}=t,n=e.get(i);if(n==null){let s=t.encode(r);return e.set(i,s),s}else return n},Mc=112,A4=18,px=(r,e,t)=>{let i=Ja(r),n=i+Ja(e),s=new Uint8Array(n+t.byteLength);return Ya(r,s,0),Ya(e,s,i),s.set(t,n),s},gx=Symbol.for("@ipld/js-cid/CID"),jh={writable:!1,configurable:!1,enumerable:!0},Gh={writable:!1,enumerable:!1,configurable:!1},I4="0.0.0-dev",_4=(r,e)=>{if(r.test(I4))console.warn(e);else throw new Error(e)},b4=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`});var mx=ye(()=>{f();yx();Qh();On();g1();Bc()});var w1,bX,wx=ye(()=>{f();KS();zS();kS();$S();WS();o1();YS();c1();JS();ZS();ux();fx();hx();dx();mx();w1={...e1,...t1,...r1,...i1,...n1,...s1,...a1,...u1,...l1,...f1},bX={...y1,...m1}});function Ex(r,e,t,i){return{name:r,prefix:e,encoder:{name:r,prefix:e,encode:t},decoder:{decode:i}}}var vx,v1,C4,Kh,E1=ye(()=>{f();wx();qh();vx=Ex("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>new TextEncoder().encode(r.substring(1))),v1=Ex("ascii","a",r=>{let e="a";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e},r=>{r=r.substring(1);let e=ka(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}),C4={utf8:vx,"utf-8":vx,hex:w1.base16,latin1:v1,ascii:v1,binary:v1,...w1},Kh=C4});function $i(r,e="utf8"){let t=Kh[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(r.buffer,r.byteOffset,r.byteLength).toString("utf8"):t.encoder.encode(r).substring(1)}var A1=ye(()=>{f();E1()});function Si(r,e="utf8"){let t=Kh[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(r,"utf8"):t.decoder.decode(`${t.prefix}${r}`)}var I1=ye(()=>{f();E1()});function Pc(r){return _c($i(Si(r,Ka),Bh))}function Rc(r){return $i(Si(bc(r),Bh),Ka)}function _1(r){let e=Si(Fh,za),t=Lh+$i(Vh([e,r]),za);return[Ph,Rh,t].join(Mh)}function b1(r){let[e,t,i]=r.split(Mh);if(e!==Ph||t!==Rh)throw new Error('Issuer must be a DID with method "key"');if(i.slice(0,1)!==Lh)throw new Error("Issuer must be a key in mulicodec format");let s=Si(i.slice(1),za);if($i(s.slice(0,2),za)!==Fh)throw new Error('Issuer must be a public key with type "Ed25519"');let a=s.slice(2);if(a.length!==32)throw new Error("Issuer must be a public key with length 32 bytes");return a}function Ax(r){return $i(r,Ka)}function Ix(r){return Si(r,Ka)}function C1(r){return Si([Rc(r.header),Rc(r.payload)].join(Ws),Tc)}function S4(r){let e=$i(r,Tc).split(Ws),t=Pc(e[0]),i=Pc(e[1]);return{header:t,payload:i}}function S1(r){return[Rc(r.header),Rc(r.payload),Ax(r.signature)].join(Ws)}function x1(r){let e=r.split(Ws),t=Pc(e[0]),i=Pc(e[1]),n=Ix(e[2]),s=Si(e.slice(0,2).join(Ws),Tc);return{header:t,payload:i,signature:n,data:s}}var T1=ye(()=>{f();Wm();A1();I1();bh();Uh()});function x4(r=(0,_x.randomBytes)(32)){return Za.generateKeyPairFromSeed(r)}async function T4(r,e,t,i,n=(0,bx.fromMiliseconds)(Date.now())){let s={alg:Dh,typ:Oh},o=_1(i.publicKey),a=n+t,u={iss:o,sub:r,aud:e,iat:n,exp:a},h=C1({header:s,payload:u}),p=Za.sign(i.secretKey,h);return S1({header:s,payload:u,signature:p})}async function N4(r){let{header:e,payload:t,data:i,signature:n}=x1(r);if(e.alg!==Dh||e.typ!==Oh)throw new Error("JWT must use EdDSA algorithm");let s=b1(t.iss);return Za.verify(s,i,n)}var Za,_x,bx,Cx=ye(()=>{f();Za=Ie(RS()),_x=Ie(Cc()),bx=Ie(Ks());Uh();T1()});var Sx=ye(()=>{f()});var xx={};ot(xx,{DATA_ENCODING:()=>Tc,DID_DELIMITER:()=>Mh,DID_METHOD:()=>Rh,DID_PREFIX:()=>Ph,JSON_ENCODING:()=>Bh,JWT_DELIMITER:()=>Ws,JWT_ENCODING:()=>Ka,JWT_IRIDIUM_ALG:()=>Dh,JWT_IRIDIUM_TYP:()=>Oh,KEY_PAIR_SEED_LENGTH:()=>FS,MULTICODEC_ED25519_BASE:()=>Lh,MULTICODEC_ED25519_ENCODING:()=>za,MULTICODEC_ED25519_HEADER:()=>Fh,MULTICODEC_ED25519_LENGTH:()=>LS,decodeData:()=>S4,decodeIss:()=>b1,decodeJSON:()=>Pc,decodeJWT:()=>x1,decodeSig:()=>Ix,encodeData:()=>C1,encodeIss:()=>_1,encodeJSON:()=>Rc,encodeJWT:()=>S1,encodeSig:()=>Ax,generateKeyPair:()=>x4,signJWT:()=>T4,verifyJWT:()=>N4});var Tx=ye(()=>{f();Cx();Uh();Sx();T1()});var Dx=M(zh=>{"use strict";f();Object.defineProperty(zh,"__esModule",{value:!0});var nr=Ha(),N1=Rr(),D4=20;function O4(r,e,t){for(var i=1634760805,n=857760878,s=2036477234,o=1797285236,a=t[3]<<24|t[2]<<16|t[1]<<8|t[0],u=t[7]<<24|t[6]<<16|t[5]<<8|t[4],h=t[11]<<24|t[10]<<16|t[9]<<8|t[8],p=t[15]<<24|t[14]<<16|t[13]<<8|t[12],m=t[19]<<24|t[18]<<16|t[17]<<8|t[16],O=t[23]<<24|t[22]<<16|t[21]<<8|t[20],B=t[27]<<24|t[26]<<16|t[25]<<8|t[24],x=t[31]<<24|t[30]<<16|t[29]<<8|t[28],V=e[3]<<24|e[2]<<16|e[1]<<8|e[0],H=e[7]<<24|e[6]<<16|e[5]<<8|e[4],G=e[11]<<24|e[10]<<16|e[9]<<8|e[8],ie=e[15]<<24|e[14]<<16|e[13]<<8|e[12],Y=i,W=n,$=s,K=o,R=a,F=u,k=h,ce=p,J=m,X=O,A=B,c=x,d=V,g=H,w=G,v=ie,S=0;S<D4;S+=2)Y=Y+R|0,d^=Y,d=d>>>32-16|d<<16,J=J+d|0,R^=J,R=R>>>32-12|R<<12,W=W+F|0,g^=W,g=g>>>32-16|g<<16,X=X+g|0,F^=X,F=F>>>32-12|F<<12,$=$+k|0,w^=$,w=w>>>32-16|w<<16,A=A+w|0,k^=A,k=k>>>32-12|k<<12,K=K+ce|0,v^=K,v=v>>>32-16|v<<16,c=c+v|0,ce^=c,ce=ce>>>32-12|ce<<12,$=$+k|0,w^=$,w=w>>>32-8|w<<8,A=A+w|0,k^=A,k=k>>>32-7|k<<7,K=K+ce|0,v^=K,v=v>>>32-8|v<<8,c=c+v|0,ce^=c,ce=ce>>>32-7|ce<<7,W=W+F|0,g^=W,g=g>>>32-8|g<<8,X=X+g|0,F^=X,F=F>>>32-7|F<<7,Y=Y+R|0,d^=Y,d=d>>>32-8|d<<8,J=J+d|0,R^=J,R=R>>>32-7|R<<7,Y=Y+F|0,v^=Y,v=v>>>32-16|v<<16,A=A+v|0,F^=A,F=F>>>32-12|F<<12,W=W+k|0,d^=W,d=d>>>32-16|d<<16,c=c+d|0,k^=c,k=k>>>32-12|k<<12,$=$+ce|0,g^=$,g=g>>>32-16|g<<16,J=J+g|0,ce^=J,ce=ce>>>32-12|ce<<12,K=K+R|0,w^=K,w=w>>>32-16|w<<16,X=X+w|0,R^=X,R=R>>>32-12|R<<12,$=$+ce|0,g^=$,g=g>>>32-8|g<<8,J=J+g|0,ce^=J,ce=ce>>>32-7|ce<<7,K=K+R|0,w^=K,w=w>>>32-8|w<<8,X=X+w|0,R^=X,R=R>>>32-7|R<<7,W=W+k|0,d^=W,d=d>>>32-8|d<<8,c=c+d|0,k^=c,k=k>>>32-7|k<<7,Y=Y+F|0,v^=Y,v=v>>>32-8|v<<8,A=A+v|0,F^=A,F=F>>>32-7|F<<7;nr.writeUint32LE(Y+i|0,r,0),nr.writeUint32LE(W+n|0,r,4),nr.writeUint32LE($+s|0,r,8),nr.writeUint32LE(K+o|0,r,12),nr.writeUint32LE(R+a|0,r,16),nr.writeUint32LE(F+u|0,r,20),nr.writeUint32LE(k+h|0,r,24),nr.writeUint32LE(ce+p|0,r,28),nr.writeUint32LE(J+m|0,r,32),nr.writeUint32LE(X+O|0,r,36),nr.writeUint32LE(A+B|0,r,40),nr.writeUint32LE(c+x|0,r,44),nr.writeUint32LE(d+V|0,r,48),nr.writeUint32LE(g+H|0,r,52),nr.writeUint32LE(w+G|0,r,56),nr.writeUint32LE(v+ie|0,r,60)}function Nx(r,e,t,i,n){if(n===void 0&&(n=0),r.length!==32)throw new Error("ChaCha: key size must be 32 bytes");if(i.length<t.length)throw new Error("ChaCha: destination is shorter than source");var s,o;if(n===0){if(e.length!==8&&e.length!==12)throw new Error("ChaCha nonce must be 8 or 12 bytes");s=new Uint8Array(16),o=s.length-e.length,s.set(e,o)}else{if(e.length!==16)throw new Error("ChaCha nonce with counter must be 16 bytes");s=e,o=n}for(var a=new Uint8Array(64),u=0;u<t.length;u+=64){O4(a,s,r);for(var h=u;h<u+64&&h<t.length;h++)i[h]=t[h]^a[h-u];M4(s,0,o)}return N1.wipe(a),n===0&&N1.wipe(s),i}zh.streamXOR=Nx;function B4(r,e,t,i){return i===void 0&&(i=0),N1.wipe(t),Nx(r,e,t,t,i)}zh.stream=B4;function M4(r,e,t){for(var i=1;t--;)i=i+(r[e]&255)|0,r[e]=i&255,i>>>=8,e++;if(i>0)throw new Error("ChaCha: counter overflow")}});var kh=M(eu=>{"use strict";f();Object.defineProperty(eu,"__esModule",{value:!0});function P4(r,e,t){return~(r-1)&e|r-1&t}eu.select=P4;function R4(r,e){return(r|0)-(e|0)-1>>>31&1}eu.lessOrEqual=R4;function Ox(r,e){if(r.length!==e.length)return 0;for(var t=0,i=0;i<r.length;i++)t|=r[i]^e[i];return 1&t-1>>>8}eu.compare=Ox;function L4(r,e){return r.length===0||e.length===0?!1:Ox(r,e)!==0}eu.equal=L4});var Mx=M(Wi=>{"use strict";f();Object.defineProperty(Wi,"__esModule",{value:!0});var F4=kh(),$h=Rr();Wi.DIGEST_LENGTH=16;var Bx=function(){function r(e){this.digestLength=Wi.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var t=e[0]|e[1]<<8;this._r[0]=t&8191;var i=e[2]|e[3]<<8;this._r[1]=(t>>>13|i<<3)&8191;var n=e[4]|e[5]<<8;this._r[2]=(i>>>10|n<<6)&7939;var s=e[6]|e[7]<<8;this._r[3]=(n>>>7|s<<9)&8191;var o=e[8]|e[9]<<8;this._r[4]=(s>>>4|o<<12)&255,this._r[5]=o>>>1&8190;var a=e[10]|e[11]<<8;this._r[6]=(o>>>14|a<<2)&8191;var u=e[12]|e[13]<<8;this._r[7]=(a>>>11|u<<5)&8065;var h=e[14]|e[15]<<8;this._r[8]=(u>>>8|h<<8)&8191,this._r[9]=h>>>5&127,this._pad[0]=e[16]|e[17]<<8,this._pad[1]=e[18]|e[19]<<8,this._pad[2]=e[20]|e[21]<<8,this._pad[3]=e[22]|e[23]<<8,this._pad[4]=e[24]|e[25]<<8,this._pad[5]=e[26]|e[27]<<8,this._pad[6]=e[28]|e[29]<<8,this._pad[7]=e[30]|e[31]<<8}return r.prototype._blocks=function(e,t,i){for(var n=this._fin?0:2048,s=this._h[0],o=this._h[1],a=this._h[2],u=this._h[3],h=this._h[4],p=this._h[5],m=this._h[6],O=this._h[7],B=this._h[8],x=this._h[9],V=this._r[0],H=this._r[1],G=this._r[2],ie=this._r[3],Y=this._r[4],W=this._r[5],$=this._r[6],K=this._r[7],R=this._r[8],F=this._r[9];i>=16;){var k=e[t+0]|e[t+1]<<8;s+=k&8191;var ce=e[t+2]|e[t+3]<<8;o+=(k>>>13|ce<<3)&8191;var J=e[t+4]|e[t+5]<<8;a+=(ce>>>10|J<<6)&8191;var X=e[t+6]|e[t+7]<<8;u+=(J>>>7|X<<9)&8191;var A=e[t+8]|e[t+9]<<8;h+=(X>>>4|A<<12)&8191,p+=A>>>1&8191;var c=e[t+10]|e[t+11]<<8;m+=(A>>>14|c<<2)&8191;var d=e[t+12]|e[t+13]<<8;O+=(c>>>11|d<<5)&8191;var g=e[t+14]|e[t+15]<<8;B+=(d>>>8|g<<8)&8191,x+=g>>>5|n;var w=0,v=w;v+=s*V,v+=o*(5*F),v+=a*(5*R),v+=u*(5*K),v+=h*(5*$),w=v>>>13,v&=8191,v+=p*(5*W),v+=m*(5*Y),v+=O*(5*ie),v+=B*(5*G),v+=x*(5*H),w+=v>>>13,v&=8191;var S=w;S+=s*H,S+=o*V,S+=a*(5*F),S+=u*(5*R),S+=h*(5*K),w=S>>>13,S&=8191,S+=p*(5*$),S+=m*(5*W),S+=O*(5*Y),S+=B*(5*ie),S+=x*(5*G),w+=S>>>13,S&=8191;var N=w;N+=s*G,N+=o*H,N+=a*V,N+=u*(5*F),N+=h*(5*R),w=N>>>13,N&=8191,N+=p*(5*K),N+=m*(5*$),N+=O*(5*W),N+=B*(5*Y),N+=x*(5*ie),w+=N>>>13,N&=8191;var I=w;I+=s*ie,I+=o*G,I+=a*H,I+=u*V,I+=h*(5*F),w=I>>>13,I&=8191,I+=p*(5*R),I+=m*(5*K),I+=O*(5*$),I+=B*(5*W),I+=x*(5*Y),w+=I>>>13,I&=8191;var l=w;l+=s*Y,l+=o*ie,l+=a*G,l+=u*H,l+=h*V,w=l>>>13,l&=8191,l+=p*(5*F),l+=m*(5*R),l+=O*(5*K),l+=B*(5*$),l+=x*(5*W),w+=l>>>13,l&=8191;var C=w;C+=s*W,C+=o*Y,C+=a*ie,C+=u*G,C+=h*H,w=C>>>13,C&=8191,C+=p*V,C+=m*(5*F),C+=O*(5*R),C+=B*(5*K),C+=x*(5*$),w+=C>>>13,C&=8191;var Z=w;Z+=s*$,Z+=o*W,Z+=a*Y,Z+=u*ie,Z+=h*G,w=Z>>>13,Z&=8191,Z+=p*H,Z+=m*V,Z+=O*(5*F),Z+=B*(5*R),Z+=x*(5*K),w+=Z>>>13,Z&=8191;var te=w;te+=s*K,te+=o*$,te+=a*W,te+=u*Y,te+=h*ie,w=te>>>13,te&=8191,te+=p*G,te+=m*H,te+=O*V,te+=B*(5*F),te+=x*(5*R),w+=te>>>13,te&=8191;var ee=w;ee+=s*R,ee+=o*K,ee+=a*$,ee+=u*W,ee+=h*Y,w=ee>>>13,ee&=8191,ee+=p*ie,ee+=m*G,ee+=O*H,ee+=B*V,ee+=x*(5*F),w+=ee>>>13,ee&=8191;var ae=w;ae+=s*F,ae+=o*R,ae+=a*K,ae+=u*$,ae+=h*W,w=ae>>>13,ae&=8191,ae+=p*Y,ae+=m*ie,ae+=O*G,ae+=B*H,ae+=x*V,w+=ae>>>13,ae&=8191,w=(w<<2)+w|0,w=w+v|0,v=w&8191,w=w>>>13,S+=w,s=v,o=S,a=N,u=I,h=l,p=C,m=Z,O=te,B=ee,x=ae,t+=16,i-=16}this._h[0]=s,this._h[1]=o,this._h[2]=a,this._h[3]=u,this._h[4]=h,this._h[5]=p,this._h[6]=m,this._h[7]=O,this._h[8]=B,this._h[9]=x},r.prototype.finish=function(e,t){t===void 0&&(t=0);var i=new Uint16Array(10),n,s,o,a;if(this._leftover){for(a=this._leftover,this._buffer[a++]=1;a<16;a++)this._buffer[a]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(n=this._h[1]>>>13,this._h[1]&=8191,a=2;a<10;a++)this._h[a]+=n,n=this._h[a]>>>13,this._h[a]&=8191;for(this._h[0]+=n*5,n=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=n,n=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=n,i[0]=this._h[0]+5,n=i[0]>>>13,i[0]&=8191,a=1;a<10;a++)i[a]=this._h[a]+n,n=i[a]>>>13,i[a]&=8191;for(i[9]-=1<<13,s=(n^1)-1,a=0;a<10;a++)i[a]&=s;for(s=~s,a=0;a<10;a++)this._h[a]=this._h[a]&s|i[a];for(this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,o=this._h[0]+this._pad[0],this._h[0]=o&65535,a=1;a<8;a++)o=(this._h[a]+this._pad[a]|0)+(o>>>16)|0,this._h[a]=o&65535;return e[t+0]=this._h[0]>>>0,e[t+1]=this._h[0]>>>8,e[t+2]=this._h[1]>>>0,e[t+3]=this._h[1]>>>8,e[t+4]=this._h[2]>>>0,e[t+5]=this._h[2]>>>8,e[t+6]=this._h[3]>>>0,e[t+7]=this._h[3]>>>8,e[t+8]=this._h[4]>>>0,e[t+9]=this._h[4]>>>8,e[t+10]=this._h[5]>>>0,e[t+11]=this._h[5]>>>8,e[t+12]=this._h[6]>>>0,e[t+13]=this._h[6]>>>8,e[t+14]=this._h[7]>>>0,e[t+15]=this._h[7]>>>8,this._finished=!0,this},r.prototype.update=function(e){var t=0,i=e.length,n;if(this._leftover){n=16-this._leftover,n>i&&(n=i);for(var s=0;s<n;s++)this._buffer[this._leftover+s]=e[t+s];if(i-=n,t+=n,this._leftover+=n,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(i>=16&&(n=i-i%16,this._blocks(e,t,n),t+=n,i-=n),i){for(var s=0;s<i;s++)this._buffer[this._leftover+s]=e[t+s];this._leftover+=i}return this},r.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var e=new Uint8Array(16);return this.finish(e),e},r.prototype.clean=function(){return $h.wipe(this._buffer),$h.wipe(this._r),$h.wipe(this._h),$h.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},r}();Wi.Poly1305=Bx;function U4(r,e){var t=new Bx(r);t.update(e);var i=t.digest();return t.clean(),i}Wi.oneTimeAuth=U4;function q4(r,e){return r.length!==Wi.DIGEST_LENGTH||e.length!==Wi.DIGEST_LENGTH?!1:F4.equal(r,e)}Wi.equal=q4});var Lx=M(Yi=>{"use strict";f();Object.defineProperty(Yi,"__esModule",{value:!0});var Wh=Dx(),V4=Mx(),Lc=Rr(),Px=Ha(),H4=kh();Yi.KEY_LENGTH=32;Yi.NONCE_LENGTH=12;Yi.TAG_LENGTH=16;var Rx=new Uint8Array(16),Q4=function(){function r(e){if(this.nonceLength=Yi.NONCE_LENGTH,this.tagLength=Yi.TAG_LENGTH,e.length!==Yi.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(e)}return r.prototype.seal=function(e,t,i,n){if(e.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var s=new Uint8Array(16);s.set(e,s.length-e.length);var o=new Uint8Array(32);Wh.stream(this._key,s,o,4);var a=t.length+this.tagLength,u;if(n){if(n.length!==a)throw new Error("ChaCha20Poly1305: incorrect destination length");u=n}else u=new Uint8Array(a);return Wh.streamXOR(this._key,s,t,u,4),this._authenticate(u.subarray(u.length-this.tagLength,u.length),o,u.subarray(0,u.length-this.tagLength),i),Lc.wipe(s),u},r.prototype.open=function(e,t,i,n){if(e.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(t.length<this.tagLength)return null;var s=new Uint8Array(16);s.set(e,s.length-e.length);var o=new Uint8Array(32);Wh.stream(this._key,s,o,4);var a=new Uint8Array(this.tagLength);if(this._authenticate(a,o,t.subarray(0,t.length-this.tagLength),i),!H4.equal(a,t.subarray(t.length-this.tagLength,t.length)))return null;var u=t.length-this.tagLength,h;if(n){if(n.length!==u)throw new Error("ChaCha20Poly1305: incorrect destination length");h=n}else h=new Uint8Array(u);return Wh.streamXOR(this._key,s,t.subarray(0,t.length-this.tagLength),h,4),Lc.wipe(s),h},r.prototype.clean=function(){return Lc.wipe(this._key),this},r.prototype._authenticate=function(e,t,i,n){var s=new V4.Poly1305(t);n&&(s.update(n),n.length%16>0&&s.update(Rx.subarray(n.length%16))),s.update(i),i.length%16>0&&s.update(Rx.subarray(i.length%16));var o=new Uint8Array(8);n&&Px.writeUint64LE(n.length,o),s.update(o),Px.writeUint64LE(i.length,o),s.update(o);for(var a=s.digest(),u=0;u<a.length;u++)e[u]=a[u];s.clean(),Lc.wipe(a),Lc.wipe(o)},r}();Yi.ChaCha20Poly1305=Q4});var Fx=M(D1=>{"use strict";f();Object.defineProperty(D1,"__esModule",{value:!0});function j4(r){return typeof r.saveState<"u"&&typeof r.restoreState<"u"&&typeof r.cleanSavedState<"u"}D1.isSerializableHash=j4});var qx=M(Fc=>{"use strict";f();Object.defineProperty(Fc,"__esModule",{value:!0});var xi=Fx(),G4=kh(),K4=Rr(),Ux=function(){function r(e,t){this._finished=!1,this._inner=new e,this._outer=new e,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var i=new Uint8Array(this.blockSize);t.length>this.blockSize?this._inner.update(t).finish(i).clean():i.set(t);for(var n=0;n<i.length;n++)i[n]^=54;this._inner.update(i);for(var n=0;n<i.length;n++)i[n]^=106;this._outer.update(i),xi.isSerializableHash(this._inner)&&xi.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),K4.wipe(i)}return r.prototype.reset=function(){if(!xi.isSerializableHash(this._inner)||!xi.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},r.prototype.clean=function(){xi.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),xi.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},r.prototype.update=function(e){return this._inner.update(e),this},r.prototype.finish=function(e){return this._finished?(this._outer.finish(e),this):(this._inner.finish(e),this._outer.update(e.subarray(0,this.digestLength)).finish(e),this._finished=!0,this)},r.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},r.prototype.saveState=function(){if(!xi.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},r.prototype.restoreState=function(e){if(!xi.isSerializableHash(this._inner)||!xi.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(e),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},r.prototype.cleanSavedState=function(e){if(!xi.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(e)},r}();Fc.HMAC=Ux;function z4(r,e,t){var i=new Ux(r,e);i.update(t);var n=i.digest();return i.clean(),n}Fc.hmac=z4;Fc.equal=G4.equal});var Qx=M(O1=>{"use strict";f();Object.defineProperty(O1,"__esModule",{value:!0});var Vx=qx(),Hx=Rr(),k4=function(){function r(e,t,i,n){i===void 0&&(i=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=e,this._info=n;var s=Vx.hmac(this._hash,i,t);this._hmac=new Vx.HMAC(e,s),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return r.prototype._fillBuffer=function(){this._counter[0]++;var e=this._counter[0];if(e===0)throw new Error("hkdf: cannot expand more");this._hmac.reset(),e>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},r.prototype.expand=function(e){for(var t=new Uint8Array(e),i=0;i<t.length;i++)this._bufpos===this._buffer.length&&this._fillBuffer(),t[i]=this._buffer[this._bufpos++];return t},r.prototype.clean=function(){this._hmac.clean(),Hx.wipe(this._buffer),Hx.wipe(this._counter),this._bufpos=0},r}();O1.HKDF=k4});var Gx=M(Mn=>{"use strict";f();Object.defineProperty(Mn,"__esModule",{value:!0});var Jh=Ha(),Yh=Rr();Mn.DIGEST_LENGTH=32;Mn.BLOCK_SIZE=64;var jx=function(){function r(){this.digestLength=Mn.DIGEST_LENGTH,this.blockSize=Mn.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return r.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},r.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},r.prototype.clean=function(){Yh.wipe(this._buffer),Yh.wipe(this._temp),this.reset()},r.prototype.update=function(e,t){if(t===void 0&&(t=e.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var i=0;if(this._bytesHashed+=t,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&t>0;)this._buffer[this._bufferLength++]=e[i++],t--;this._bufferLength===this.blockSize&&(B1(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(t>=this.blockSize&&(i=B1(this._temp,this._state,e,i,t),t%=this.blockSize);t>0;)this._buffer[this._bufferLength++]=e[i++],t--;return this},r.prototype.finish=function(e){if(!this._finished){var t=this._bytesHashed,i=this._bufferLength,n=t/536870912|0,s=t<<3,o=t%64<56?64:128;this._buffer[i]=128;for(var a=i+1;a<o-8;a++)this._buffer[a]=0;Jh.writeUint32BE(n,this._buffer,o-8),Jh.writeUint32BE(s,this._buffer,o-4),B1(this._temp,this._state,this._buffer,0,o),this._finished=!0}for(var a=0;a<this.digestLength/4;a++)Jh.writeUint32BE(this._state[a],e,a*4);return this},r.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},r.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},r.prototype.restoreState=function(e){return this._state.set(e.state),this._bufferLength=e.bufferLength,e.buffer&&this._buffer.set(e.buffer),this._bytesHashed=e.bytesHashed,this._finished=!1,this},r.prototype.cleanSavedState=function(e){Yh.wipe(e.state),e.buffer&&Yh.wipe(e.buffer),e.bufferLength=0,e.bytesHashed=0},r}();Mn.SHA256=jx;var $4=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function B1(r,e,t,i,n){for(;n>=64;){for(var s=e[0],o=e[1],a=e[2],u=e[3],h=e[4],p=e[5],m=e[6],O=e[7],B=0;B<16;B++){var x=i+B*4;r[B]=Jh.readUint32BE(t,x)}for(var B=16;B<64;B++){var V=r[B-2],H=(V>>>17|V<<32-17)^(V>>>19|V<<32-19)^V>>>10;V=r[B-15];var G=(V>>>7|V<<32-7)^(V>>>18|V<<32-18)^V>>>3;r[B]=(H+r[B-7]|0)+(G+r[B-16]|0)}for(var B=0;B<64;B++){var H=(((h>>>6|h<<26)^(h>>>11|h<<21)^(h>>>25|h<<7))+(h&p^~h&m)|0)+(O+($4[B]+r[B]|0)|0)|0,G=((s>>>2|s<<32-2)^(s>>>13|s<<32-13)^(s>>>22|s<<32-22))+(s&o^s&a^o&a)|0;O=m,m=p,p=h,h=u+H|0,u=a,a=o,o=s,s=H+G|0}e[0]+=s,e[1]+=o,e[2]+=a,e[3]+=u,e[4]+=h,e[5]+=p,e[6]+=m,e[7]+=O,i+=64,n-=64}return i}function W4(r){var e=new jx;e.update(r);var t=e.digest();return e.clean(),t}Mn.hash=W4});var $x=M(st=>{"use strict";f();Object.defineProperty(st,"__esModule",{value:!0});st.sharedKey=st.generateKeyPair=st.generateKeyPairFromSeed=st.scalarMultBase=st.scalarMult=st.SHARED_KEY_LENGTH=st.SECRET_KEY_LENGTH=st.PUBLIC_KEY_LENGTH=void 0;var Y4=Cc(),J4=Rr();st.PUBLIC_KEY_LENGTH=32;st.SECRET_KEY_LENGTH=32;st.SHARED_KEY_LENGTH=32;function Ti(r){let e=new Float64Array(16);if(r)for(let t=0;t<r.length;t++)e[t]=r[t];return e}var Kx=new Uint8Array(32);Kx[0]=9;var X4=Ti([56129,1]);function M1(r){let e=1;for(let t=0;t<16;t++){let i=r[t]+e+65535;e=Math.floor(i/65536),r[t]=i-e*65536}r[0]+=e-1+37*(e-1)}function Uc(r,e,t){let i=~(t-1);for(let n=0;n<16;n++){let s=i&(r[n]^e[n]);r[n]^=s,e[n]^=s}}function Z4(r,e){let t=Ti(),i=Ti();for(let n=0;n<16;n++)i[n]=e[n];M1(i),M1(i),M1(i);for(let n=0;n<2;n++){t[0]=i[0]-65517;for(let o=1;o<15;o++)t[o]=i[o]-65535-(t[o-1]>>16&1),t[o-1]&=65535;t[15]=i[15]-32767-(t[14]>>16&1);let s=t[15]>>16&1;t[14]&=65535,Uc(i,t,1-s)}for(let n=0;n<16;n++)r[2*n]=i[n]&255,r[2*n+1]=i[n]>>8}function eU(r,e){for(let t=0;t<16;t++)r[t]=e[2*t]+(e[2*t+1]<<8);r[15]&=32767}function Xh(r,e,t){for(let i=0;i<16;i++)r[i]=e[i]+t[i]}function Zh(r,e,t){for(let i=0;i<16;i++)r[i]=e[i]-t[i]}function Ji(r,e,t){let i,n,s=0,o=0,a=0,u=0,h=0,p=0,m=0,O=0,B=0,x=0,V=0,H=0,G=0,ie=0,Y=0,W=0,$=0,K=0,R=0,F=0,k=0,ce=0,J=0,X=0,A=0,c=0,d=0,g=0,w=0,v=0,S=0,N=t[0],I=t[1],l=t[2],C=t[3],Z=t[4],te=t[5],ee=t[6],ae=t[7],E=t[8],b=t[9],T=t[10],L=t[11],D=t[12],U=t[13],q=t[14],P=t[15];i=e[0],s+=i*N,o+=i*I,a+=i*l,u+=i*C,h+=i*Z,p+=i*te,m+=i*ee,O+=i*ae,B+=i*E,x+=i*b,V+=i*T,H+=i*L,G+=i*D,ie+=i*U,Y+=i*q,W+=i*P,i=e[1],o+=i*N,a+=i*I,u+=i*l,h+=i*C,p+=i*Z,m+=i*te,O+=i*ee,B+=i*ae,x+=i*E,V+=i*b,H+=i*T,G+=i*L,ie+=i*D,Y+=i*U,W+=i*q,$+=i*P,i=e[2],a+=i*N,u+=i*I,h+=i*l,p+=i*C,m+=i*Z,O+=i*te,B+=i*ee,x+=i*ae,V+=i*E,H+=i*b,G+=i*T,ie+=i*L,Y+=i*D,W+=i*U,$+=i*q,K+=i*P,i=e[3],u+=i*N,h+=i*I,p+=i*l,m+=i*C,O+=i*Z,B+=i*te,x+=i*ee,V+=i*ae,H+=i*E,G+=i*b,ie+=i*T,Y+=i*L,W+=i*D,$+=i*U,K+=i*q,R+=i*P,i=e[4],h+=i*N,p+=i*I,m+=i*l,O+=i*C,B+=i*Z,x+=i*te,V+=i*ee,H+=i*ae,G+=i*E,ie+=i*b,Y+=i*T,W+=i*L,$+=i*D,K+=i*U,R+=i*q,F+=i*P,i=e[5],p+=i*N,m+=i*I,O+=i*l,B+=i*C,x+=i*Z,V+=i*te,H+=i*ee,G+=i*ae,ie+=i*E,Y+=i*b,W+=i*T,$+=i*L,K+=i*D,R+=i*U,F+=i*q,k+=i*P,i=e[6],m+=i*N,O+=i*I,B+=i*l,x+=i*C,V+=i*Z,H+=i*te,G+=i*ee,ie+=i*ae,Y+=i*E,W+=i*b,$+=i*T,K+=i*L,R+=i*D,F+=i*U,k+=i*q,ce+=i*P,i=e[7],O+=i*N,B+=i*I,x+=i*l,V+=i*C,H+=i*Z,G+=i*te,ie+=i*ee,Y+=i*ae,W+=i*E,$+=i*b,K+=i*T,R+=i*L,F+=i*D,k+=i*U,ce+=i*q,J+=i*P,i=e[8],B+=i*N,x+=i*I,V+=i*l,H+=i*C,G+=i*Z,ie+=i*te,Y+=i*ee,W+=i*ae,$+=i*E,K+=i*b,R+=i*T,F+=i*L,k+=i*D,ce+=i*U,J+=i*q,X+=i*P,i=e[9],x+=i*N,V+=i*I,H+=i*l,G+=i*C,ie+=i*Z,Y+=i*te,W+=i*ee,$+=i*ae,K+=i*E,R+=i*b,F+=i*T,k+=i*L,ce+=i*D,J+=i*U,X+=i*q,A+=i*P,i=e[10],V+=i*N,H+=i*I,G+=i*l,ie+=i*C,Y+=i*Z,W+=i*te,$+=i*ee,K+=i*ae,R+=i*E,F+=i*b,k+=i*T,ce+=i*L,J+=i*D,X+=i*U,A+=i*q,c+=i*P,i=e[11],H+=i*N,G+=i*I,ie+=i*l,Y+=i*C,W+=i*Z,$+=i*te,K+=i*ee,R+=i*ae,F+=i*E,k+=i*b,ce+=i*T,J+=i*L,X+=i*D,A+=i*U,c+=i*q,d+=i*P,i=e[12],G+=i*N,ie+=i*I,Y+=i*l,W+=i*C,$+=i*Z,K+=i*te,R+=i*ee,F+=i*ae,k+=i*E,ce+=i*b,J+=i*T,X+=i*L,A+=i*D,c+=i*U,d+=i*q,g+=i*P,i=e[13],ie+=i*N,Y+=i*I,W+=i*l,$+=i*C,K+=i*Z,R+=i*te,F+=i*ee,k+=i*ae,ce+=i*E,J+=i*b,X+=i*T,A+=i*L,c+=i*D,d+=i*U,g+=i*q,w+=i*P,i=e[14],Y+=i*N,W+=i*I,$+=i*l,K+=i*C,R+=i*Z,F+=i*te,k+=i*ee,ce+=i*ae,J+=i*E,X+=i*b,A+=i*T,c+=i*L,d+=i*D,g+=i*U,w+=i*q,v+=i*P,i=e[15],W+=i*N,$+=i*I,K+=i*l,R+=i*C,F+=i*Z,k+=i*te,ce+=i*ee,J+=i*ae,X+=i*E,A+=i*b,c+=i*T,d+=i*L,g+=i*D,w+=i*U,v+=i*q,S+=i*P,s+=38*$,o+=38*K,a+=38*R,u+=38*F,h+=38*k,p+=38*ce,m+=38*J,O+=38*X,B+=38*A,x+=38*c,V+=38*d,H+=38*g,G+=38*w,ie+=38*v,Y+=38*S,n=1,i=s+n+65535,n=Math.floor(i/65536),s=i-n*65536,i=o+n+65535,n=Math.floor(i/65536),o=i-n*65536,i=a+n+65535,n=Math.floor(i/65536),a=i-n*65536,i=u+n+65535,n=Math.floor(i/65536),u=i-n*65536,i=h+n+65535,n=Math.floor(i/65536),h=i-n*65536,i=p+n+65535,n=Math.floor(i/65536),p=i-n*65536,i=m+n+65535,n=Math.floor(i/65536),m=i-n*65536,i=O+n+65535,n=Math.floor(i/65536),O=i-n*65536,i=B+n+65535,n=Math.floor(i/65536),B=i-n*65536,i=x+n+65535,n=Math.floor(i/65536),x=i-n*65536,i=V+n+65535,n=Math.floor(i/65536),V=i-n*65536,i=H+n+65535,n=Math.floor(i/65536),H=i-n*65536,i=G+n+65535,n=Math.floor(i/65536),G=i-n*65536,i=ie+n+65535,n=Math.floor(i/65536),ie=i-n*65536,i=Y+n+65535,n=Math.floor(i/65536),Y=i-n*65536,i=W+n+65535,n=Math.floor(i/65536),W=i-n*65536,s+=n-1+37*(n-1),n=1,i=s+n+65535,n=Math.floor(i/65536),s=i-n*65536,i=o+n+65535,n=Math.floor(i/65536),o=i-n*65536,i=a+n+65535,n=Math.floor(i/65536),a=i-n*65536,i=u+n+65535,n=Math.floor(i/65536),u=i-n*65536,i=h+n+65535,n=Math.floor(i/65536),h=i-n*65536,i=p+n+65535,n=Math.floor(i/65536),p=i-n*65536,i=m+n+65535,n=Math.floor(i/65536),m=i-n*65536,i=O+n+65535,n=Math.floor(i/65536),O=i-n*65536,i=B+n+65535,n=Math.floor(i/65536),B=i-n*65536,i=x+n+65535,n=Math.floor(i/65536),x=i-n*65536,i=V+n+65535,n=Math.floor(i/65536),V=i-n*65536,i=H+n+65535,n=Math.floor(i/65536),H=i-n*65536,i=G+n+65535,n=Math.floor(i/65536),G=i-n*65536,i=ie+n+65535,n=Math.floor(i/65536),ie=i-n*65536,i=Y+n+65535,n=Math.floor(i/65536),Y=i-n*65536,i=W+n+65535,n=Math.floor(i/65536),W=i-n*65536,s+=n-1+37*(n-1),r[0]=s,r[1]=o,r[2]=a,r[3]=u,r[4]=h,r[5]=p,r[6]=m,r[7]=O,r[8]=B,r[9]=x,r[10]=V,r[11]=H,r[12]=G,r[13]=ie,r[14]=Y,r[15]=W}function qc(r,e){Ji(r,e,e)}function tU(r,e){let t=Ti();for(let i=0;i<16;i++)t[i]=e[i];for(let i=253;i>=0;i--)qc(t,t),i!==2&&i!==4&&Ji(t,t,e);for(let i=0;i<16;i++)r[i]=t[i]}function P1(r,e){let t=new Uint8Array(32),i=new Float64Array(80),n=Ti(),s=Ti(),o=Ti(),a=Ti(),u=Ti(),h=Ti();for(let B=0;B<31;B++)t[B]=r[B];t[31]=r[31]&127|64,t[0]&=248,eU(i,e);for(let B=0;B<16;B++)s[B]=i[B];n[0]=a[0]=1;for(let B=254;B>=0;--B){let x=t[B>>>3]>>>(B&7)&1;Uc(n,s,x),Uc(o,a,x),Xh(u,n,o),Zh(n,n,o),Xh(o,s,a),Zh(s,s,a),qc(a,u),qc(h,n),Ji(n,o,n),Ji(o,s,u),Xh(u,n,o),Zh(n,n,o),qc(s,n),Zh(o,a,h),Ji(n,o,X4),Xh(n,n,a),Ji(o,o,n),Ji(n,a,h),Ji(a,s,i),qc(s,u),Uc(n,s,x),Uc(o,a,x)}for(let B=0;B<16;B++)i[B+16]=n[B],i[B+32]=o[B],i[B+48]=s[B],i[B+64]=a[B];let p=i.subarray(32),m=i.subarray(16);tU(p,p),Ji(m,m,p);let O=new Uint8Array(32);return Z4(O,m),O}st.scalarMult=P1;function zx(r){return P1(r,Kx)}st.scalarMultBase=zx;function kx(r){if(r.length!==st.SECRET_KEY_LENGTH)throw new Error(`x25519: seed must be ${st.SECRET_KEY_LENGTH} bytes`);let e=new Uint8Array(r);return{publicKey:zx(e),secretKey:e}}st.generateKeyPairFromSeed=kx;function rU(r){let e=(0,Y4.randomBytes)(32,r),t=kx(e);return(0,J4.wipe)(e),t}st.generateKeyPair=rU;function iU(r,e,t=!1){if(r.length!==st.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect secret key length");if(e.length!==st.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect public key length");let i=P1(r,e);if(t){let n=0;for(let s=0;s<i.length;s++)n|=i[s];if(n===0)throw new Error("X25519: invalid shared key")}return i}st.sharedKey=iU});function Wx(r,e){for(let t=0;t<r.byteLength;t++){if(r[t]<e[t])return-1;if(r[t]>e[t])return 1}return r.byteLength>e.byteLength?1:r.byteLength<e.byteLength?-1:0}var Yx=ye(()=>{f()});function Jx(r,e){if(r===e)return!0;if(r.byteLength!==e.byteLength)return!1;for(let t=0;t<r.byteLength;t++)if(r[t]!==e[t])return!1;return!0}var Xx=ye(()=>{f()});function Zx(r,e){if(r.length!==e.length)throw new Error("Inputs should have the same length");let t=ka(r.length);for(let i=0;i<r.length;i++)t[i]=r[i]^e[i];return t}var e2=ye(()=>{f();qh()});var t2={};ot(t2,{compare:()=>Wx,concat:()=>Vh,equals:()=>Jx,fromString:()=>Si,toString:()=>$i,xor:()=>Zx});var r2=ye(()=>{f();Yx();Wm();Xx();I1();A1();e2()});var p2=M(et=>{"use strict";f();var i2=et&&et.__spreadArray||function(r,e,t){if(t||arguments.length===2)for(var i=0,n=e.length,s;i<n;i++)(s||!(i in e))&&(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return r.concat(s||Array.prototype.slice.call(e))};Object.defineProperty(et,"__esModule",{value:!0});et.getNodeVersion=et.detectOS=et.parseUserAgent=et.browserName=et.detect=et.ReactNativeInfo=et.BotInfo=et.SearchBotDeviceInfo=et.NodeInfo=et.BrowserInfo=void 0;var o2=function(){function r(e,t,i){this.name=e,this.version=t,this.os=i,this.type="browser"}return r}();et.BrowserInfo=o2;var a2=function(){function r(e){this.version=e,this.type="node",this.name="node",this.os=_.default.platform}return r}();et.NodeInfo=a2;var u2=function(){function r(e,t,i,n){this.name=e,this.version=t,this.os=i,this.bot=n,this.type="bot-device"}return r}();et.SearchBotDeviceInfo=u2;var c2=function(){function r(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return r}();et.BotInfo=c2;var l2=function(){function r(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return r}();et.ReactNativeInfo=l2;var nU=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,sU=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,n2=3,oU=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",nU]],s2=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function aU(r){return r?R1(r):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new l2:typeof navigator<"u"?R1(navigator.userAgent):d2()}et.detect=aU;function f2(r){return r!==""&&oU.reduce(function(e,t){var i=t[0],n=t[1];if(e)return e;var s=n.exec(r);return!!s&&[i,s]},!1)}function uU(r){var e=f2(r);return e?e[0]:null}et.browserName=uU;function R1(r){var e=f2(r);if(!e)return null;var t=e[0],i=e[1];if(t==="searchbot")return new c2;var n=i[1]&&i[1].split(".").join("_").split("_").slice(0,3);n?n.length<n2&&(n=i2(i2([],n,!0),cU(n2-n.length),!0)):n=[];var s=n.join("."),o=h2(r),a=sU.exec(r);return a&&a[1]?new u2(t,s,o,a[1]):new o2(t,s,o)}et.parseUserAgent=R1;function h2(r){for(var e=0,t=s2.length;e<t;e++){var i=s2[e],n=i[0],s=i[1],o=s.exec(r);if(o)return n}return null}et.detectOS=h2;function d2(){var r=typeof _.default<"u"&&_.default.version;return r?new a2(_.default.version.slice(1)):null}et.getNodeVersion=d2;function cU(r){for(var e=[],t=0;t<r;t++)e.push("0");return e}});var L1=M(ze=>{"use strict";f();Object.defineProperty(ze,"__esModule",{value:!0});ze.getLocalStorage=ze.getLocalStorageOrThrow=ze.getCrypto=ze.getCryptoOrThrow=ze.getLocation=ze.getLocationOrThrow=ze.getNavigator=ze.getNavigatorOrThrow=ze.getDocument=ze.getDocumentOrThrow=ze.getFromWindowOrThrow=ze.getFromWindow=void 0;function Js(r){let e;return typeof window<"u"&&typeof window[r]<"u"&&(e=window[r]),e}ze.getFromWindow=Js;function tu(r){let e=Js(r);if(!e)throw new Error(`${r} is not defined in Window`);return e}ze.getFromWindowOrThrow=tu;function lU(){return tu("document")}ze.getDocumentOrThrow=lU;function fU(){return Js("document")}ze.getDocument=fU;function hU(){return tu("navigator")}ze.getNavigatorOrThrow=hU;function dU(){return Js("navigator")}ze.getNavigator=dU;function pU(){return tu("location")}ze.getLocationOrThrow=pU;function gU(){return Js("location")}ze.getLocation=gU;function yU(){return tu("crypto")}ze.getCryptoOrThrow=yU;function mU(){return Js("crypto")}ze.getCrypto=mU;function wU(){return tu("localStorage")}ze.getLocalStorageOrThrow=wU;function vU(){return Js("localStorage")}ze.getLocalStorage=vU});var y2=M(ed=>{"use strict";f();Object.defineProperty(ed,"__esModule",{value:!0});ed.getWindowMetadata=void 0;var g2=L1();function EU(){let r,e;try{r=g2.getDocumentOrThrow(),e=g2.getLocationOrThrow()}catch{return null}function t(){let m=r.getElementsByTagName("link"),O=[];for(let B=0;B<m.length;B++){let x=m[B],V=x.getAttribute("rel");if(V&&V.toLowerCase().indexOf("icon")>-1){let H=x.getAttribute("href");if(H)if(H.toLowerCase().indexOf("https:")===-1&&H.toLowerCase().indexOf("http:")===-1&&H.indexOf("//")!==0){let G=e.protocol+"//"+e.host;if(H.indexOf("/")===0)G+=H;else{let ie=e.pathname.split("/");ie.pop();let Y=ie.join("/");G+=Y+"/"+H}O.push(G)}else if(H.indexOf("//")===0){let G=e.protocol+H;O.push(G)}else O.push(H)}}return O}function i(...m){let O=r.getElementsByTagName("meta");for(let B=0;B<O.length;B++){let x=O[B],V=["itemprop","property","name"].map(H=>x.getAttribute(H)).filter(H=>H?m.includes(H):!1);if(V.length&&V){let H=x.getAttribute("content");if(H)return H}}return""}function n(){let m=i("name","og:site_name","og:title","twitter:title");return m||(m=r.title),m}function s(){return i("description","og:description","twitter:description","keywords")}let o=n(),a=s(),u=e.origin,h=t();return{description:a,url:u,icons:h,name:o}}ed.getWindowMetadata=EU});var w2=M((UZ,m2)=>{"use strict";f();m2.exports=r=>encodeURIComponent(r).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`)});var _2=M((VZ,I2)=>{"use strict";f();var A2="%[a-f0-9]{2}",v2=new RegExp("("+A2+")|([^%]+?)","gi"),E2=new RegExp("("+A2+")+","gi");function F1(r,e){try{return[decodeURIComponent(r.join(""))]}catch{}if(r.length===1)return r;e=e||1;var t=r.slice(0,e),i=r.slice(e);return Array.prototype.concat.call([],F1(t),F1(i))}function AU(r){try{return decodeURIComponent(r)}catch{for(var e=r.match(v2)||[],t=1;t<e.length;t++)r=F1(e,t).join(""),e=r.match(v2)||[];return r}}function IU(r){for(var e={"%FE%FF":"\uFFFD\uFFFD","%FF%FE":"\uFFFD\uFFFD"},t=E2.exec(r);t;){try{e[t[0]]=decodeURIComponent(t[0])}catch{var i=AU(t[0]);i!==t[0]&&(e[t[0]]=i)}t=E2.exec(r)}e["%C2"]="\uFFFD";for(var n=Object.keys(e),s=0;s<n.length;s++){var o=n[s];r=r.replace(new RegExp(o,"g"),e[o])}return r}I2.exports=function(r){if(typeof r!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof r+"`");try{return r=r.replace(/\+/g," "),decodeURIComponent(r)}catch{return IU(r)}}});var C2=M((QZ,b2)=>{"use strict";f();b2.exports=(r,e)=>{if(!(typeof r=="string"&&typeof e=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e==="")return[r];let t=r.indexOf(e);return t===-1?[r]:[r.slice(0,t),r.slice(t+e.length)]}});var x2=M((GZ,S2)=>{"use strict";f();S2.exports=function(r,e){for(var t={},i=Object.keys(r),n=Array.isArray(e),s=0;s<i.length;s++){var o=i[s],a=r[o];(n?e.indexOf(o)!==-1:e(o,a,r))&&(t[o]=a)}return t}});var R2=M(yr=>{"use strict";f();var _U=w2(),bU=_2(),N2=C2(),CU=x2(),SU=r=>r==null,U1=Symbol("encodeFragmentIdentifier");function xU(r){switch(r.arrayFormat){case"index":return e=>(t,i)=>{let n=t.length;return i===void 0||r.skipNull&&i===null||r.skipEmptyString&&i===""?t:i===null?[...t,[lt(e,r),"[",n,"]"].join("")]:[...t,[lt(e,r),"[",lt(n,r),"]=",lt(i,r)].join("")]};case"bracket":return e=>(t,i)=>i===void 0||r.skipNull&&i===null||r.skipEmptyString&&i===""?t:i===null?[...t,[lt(e,r),"[]"].join("")]:[...t,[lt(e,r),"[]=",lt(i,r)].join("")];case"colon-list-separator":return e=>(t,i)=>i===void 0||r.skipNull&&i===null||r.skipEmptyString&&i===""?t:i===null?[...t,[lt(e,r),":list="].join("")]:[...t,[lt(e,r),":list=",lt(i,r)].join("")];case"comma":case"separator":case"bracket-separator":{let e=r.arrayFormat==="bracket-separator"?"[]=":"=";return t=>(i,n)=>n===void 0||r.skipNull&&n===null||r.skipEmptyString&&n===""?i:(n=n===null?"":n,i.length===0?[[lt(t,r),e,lt(n,r)].join("")]:[[i,lt(n,r)].join(r.arrayFormatSeparator)])}default:return e=>(t,i)=>i===void 0||r.skipNull&&i===null||r.skipEmptyString&&i===""?t:i===null?[...t,lt(e,r)]:[...t,[lt(e,r),"=",lt(i,r)].join("")]}}function TU(r){let e;switch(r.arrayFormat){case"index":return(t,i,n)=>{if(e=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),!e){n[t]=i;return}n[t]===void 0&&(n[t]={}),n[t][e[1]]=i};case"bracket":return(t,i,n)=>{if(e=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),!e){n[t]=i;return}if(n[t]===void 0){n[t]=[i];return}n[t]=[].concat(n[t],i)};case"colon-list-separator":return(t,i,n)=>{if(e=/(:list)$/.exec(t),t=t.replace(/:list$/,""),!e){n[t]=i;return}if(n[t]===void 0){n[t]=[i];return}n[t]=[].concat(n[t],i)};case"comma":case"separator":return(t,i,n)=>{let s=typeof i=="string"&&i.includes(r.arrayFormatSeparator),o=typeof i=="string"&&!s&&Xi(i,r).includes(r.arrayFormatSeparator);i=o?Xi(i,r):i;let a=s||o?i.split(r.arrayFormatSeparator).map(u=>Xi(u,r)):i===null?i:Xi(i,r);n[t]=a};case"bracket-separator":return(t,i,n)=>{let s=/(\[\])$/.test(t);if(t=t.replace(/\[\]$/,""),!s){n[t]=i&&Xi(i,r);return}let o=i===null?[]:i.split(r.arrayFormatSeparator).map(a=>Xi(a,r));if(n[t]===void 0){n[t]=o;return}n[t]=[].concat(n[t],o)};default:return(t,i,n)=>{if(n[t]===void 0){n[t]=i;return}n[t]=[].concat(n[t],i)}}}function D2(r){if(typeof r!="string"||r.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function lt(r,e){return e.encode?e.strict?_U(r):encodeURIComponent(r):r}function Xi(r,e){return e.decode?bU(r):r}function O2(r){return Array.isArray(r)?r.sort():typeof r=="object"?O2(Object.keys(r)).sort((e,t)=>Number(e)-Number(t)).map(e=>r[e]):r}function B2(r){let e=r.indexOf("#");return e!==-1&&(r=r.slice(0,e)),r}function NU(r){let e="",t=r.indexOf("#");return t!==-1&&(e=r.slice(t)),e}function M2(r){r=B2(r);let e=r.indexOf("?");return e===-1?"":r.slice(e+1)}function T2(r,e){return e.parseNumbers&&!Number.isNaN(Number(r))&&typeof r=="string"&&r.trim()!==""?r=Number(r):e.parseBooleans&&r!==null&&(r.toLowerCase()==="true"||r.toLowerCase()==="false")&&(r=r.toLowerCase()==="true"),r}function P2(r,e){e=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},e),D2(e.arrayFormatSeparator);let t=TU(e),i=Object.create(null);if(typeof r!="string"||(r=r.trim().replace(/^[?#&]/,""),!r))return i;for(let n of r.split("&")){if(n==="")continue;let[s,o]=N2(e.decode?n.replace(/\+/g," "):n,"=");o=o===void 0?null:["comma","separator","bracket-separator"].includes(e.arrayFormat)?o:Xi(o,e),t(Xi(s,e),o,i)}for(let n of Object.keys(i)){let s=i[n];if(typeof s=="object"&&s!==null)for(let o of Object.keys(s))s[o]=T2(s[o],e);else i[n]=T2(s,e)}return e.sort===!1?i:(e.sort===!0?Object.keys(i).sort():Object.keys(i).sort(e.sort)).reduce((n,s)=>{let o=i[s];return Boolean(o)&&typeof o=="object"&&!Array.isArray(o)?n[s]=O2(o):n[s]=o,n},Object.create(null))}yr.extract=M2;yr.parse=P2;yr.stringify=(r,e)=>{if(!r)return"";e=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},e),D2(e.arrayFormatSeparator);let t=o=>e.skipNull&&SU(r[o])||e.skipEmptyString&&r[o]==="",i=xU(e),n={};for(let o of Object.keys(r))t(o)||(n[o]=r[o]);let s=Object.keys(n);return e.sort!==!1&&s.sort(e.sort),s.map(o=>{let a=r[o];return a===void 0?"":a===null?lt(o,e):Array.isArray(a)?a.length===0&&e.arrayFormat==="bracket-separator"?lt(o,e)+"[]":a.reduce(i(o),[]).join("&"):lt(o,e)+"="+lt(a,e)}).filter(o=>o.length>0).join("&")};yr.parseUrl=(r,e)=>{e=Object.assign({decode:!0},e);let[t,i]=N2(r,"#");return Object.assign({url:t.split("?")[0]||"",query:P2(M2(r),e)},e&&e.parseFragmentIdentifier&&i?{fragmentIdentifier:Xi(i,e)}:{})};yr.stringifyUrl=(r,e)=>{e=Object.assign({encode:!0,strict:!0,[U1]:!0},e);let t=B2(r.url).split("?")[0]||"",i=yr.extract(r.url),n=yr.parse(i,{sort:!1}),s=Object.assign(n,r.query),o=yr.stringify(s,e);o&&(o=`?${o}`);let a=NU(r.url);return r.fragmentIdentifier&&(a=`#${e[U1]?lt(r.fragmentIdentifier,e):r.fragmentIdentifier}`),`${t}${o}${a}`};yr.pick=(r,e,t)=>{t=Object.assign({parseFragmentIdentifier:!0,[U1]:!1},t);let{url:i,query:n,fragmentIdentifier:s}=yr.parseUrl(r,t);return yr.stringifyUrl({url:i,query:CU(n,e),fragmentIdentifier:s},t)};yr.exclude=(r,e,t)=>{let i=Array.isArray(e)?n=>!e.includes(n):(n,s)=>!e(n,s);return yr.pick(r,i,t)}});var L2=ye(()=>{f()});function Pn(r,e,t="string"){if(!r[e]||typeof r[e]!==t)throw new Error(`Missing or invalid "${e}" param`)}function DU(r,e){let t=!0;return e.forEach(i=>{i in r||(t=!1)}),t}function OU(r,e){return Array.isArray(r)?r.length===e:Object.keys(r).length===e}function BU(r,e){return Array.isArray(r)?r.length>=e:Object.keys(r).length>=e}function Vc(r,e,t){return(!t.length?OU(r,e.length):BU(r,e.length))?DU(r,e):!1}function Hc(r,e,t="_"){let i=r.split(t);return i[i.length-1].trim().toLowerCase()===e.trim().toLowerCase()}var q1=ye(()=>{f()});function MU(r){return td(r.method)&&rd(r.params)}function td(r){return Hc(r,"subscribe")}function rd(r){return Vc(r,["topic"],[])}function PU(r){return id(r.method)&&nd(r.params)}function id(r){return Hc(r,"publish")}function nd(r){return Vc(r,["message","topic","ttl"],["prompt","tag"])}function RU(r){return sd(r.method)&&od(r.params)}function sd(r){return Hc(r,"unsubscribe")}function od(r){return Vc(r,["id","topic"],[])}function LU(r){return ad(r.method)&&ud(r.params)}function ad(r){return Hc(r,"subscription")}function ud(r){return Vc(r,["id","data"],[])}var V1=ye(()=>{f();q1()});function FU(r){if(!td(r.method))throw new Error("JSON-RPC Request has invalid subscribe method");if(!rd(r.params))throw new Error("JSON-RPC Request has invalid subscribe params");let e=r.params;return Pn(e,"topic"),e}function UU(r){if(!id(r.method))throw new Error("JSON-RPC Request has invalid publish method");if(!nd(r.params))throw new Error("JSON-RPC Request has invalid publish params");let e=r.params;return Pn(e,"topic"),Pn(e,"message"),Pn(e,"ttl","number"),e}function qU(r){if(!sd(r.method))throw new Error("JSON-RPC Request has invalid unsubscribe method");if(!od(r.params))throw new Error("JSON-RPC Request has invalid unsubscribe params");let e=r.params;return Pn(e,"id"),e}function VU(r){if(!ad(r.method))throw new Error("JSON-RPC Request has invalid subscription method");if(!ud(r.params))throw new Error("JSON-RPC Request has invalid subscription params");let e=r.params;return Pn(e,"id"),Pn(e,"data"),e}var F2=ye(()=>{f();q1();V1()});var HU,U2=ye(()=>{f();HU={waku:{publish:"waku_publish",subscribe:"waku_subscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe"},irn:{publish:"irn_publish",subscribe:"irn_subscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe"},iridium:{publish:"iridium_publish",subscribe:"iridium_subscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe"}}});var q2={};ot(q2,{RELAY_JSONRPC:()=>HU,isPublishMethod:()=>id,isPublishParams:()=>nd,isPublishRequest:()=>PU,isSubscribeMethod:()=>td,isSubscribeParams:()=>rd,isSubscribeRequest:()=>MU,isSubscriptionMethod:()=>ad,isSubscriptionParams:()=>ud,isSubscriptionRequest:()=>LU,isUnsubscribeMethod:()=>sd,isUnsubscribeParams:()=>od,isUnsubscribeRequest:()=>RU,parsePublishRequest:()=>UU,parseSubscribeRequest:()=>FU,parseSubscriptionRequest:()=>VU,parseUnsubscribeRequest:()=>qU});var V2=ye(()=>{f();L2();F2();U2();V1()});var yd=M(ne=>{"use strict";f();Object.defineProperty(ne,"__esModule",{value:!0});var k2=Lx(),QU=Qx(),$2=Cc(),z1=Gx(),jU=$x(),tt=(r2(),Xr(t2)),GU=p2(),iu=Ks(),Qc=L1(),KU=y2(),zU=R2(),kU=(V2(),Xr(q2));function W2(r){if(r&&r.__esModule)return r;var e=Object.create(null);return r&&Object.keys(r).forEach(function(t){if(t!=="default"){var i=Object.getOwnPropertyDescriptor(r,t);Object.defineProperty(e,t,i.get?i:{enumerable:!0,get:function(){return r[t]}})}}),e.default=r,Object.freeze(e)}var Y2=W2(jU),cd=W2(zU),hd=":";function J2(r){let[e,t]=r.split(hd);return{namespace:e,reference:t}}function X2(r){let{namespace:e,reference:t}=r;return[e,t].join(hd)}function k1(r){let[e,t,i]=r.split(hd);return{namespace:e,reference:t,address:i}}function Z2(r){let{namespace:e,reference:t,address:i}=r;return[e,t,i].join(hd)}function $1(r,e){let t=[];return r.forEach(i=>{let n=e(i);t.includes(n)||t.push(n)}),t}function e3(r){let{address:e}=k1(r);return e}function t3(r){let{namespace:e,reference:t}=k1(r);return X2({namespace:e,reference:t})}function $U(r,e){let{namespace:t,reference:i}=J2(e);return Z2({namespace:t,reference:i,address:r})}function WU(r){return $1(r,e3)}function r3(r){return $1(r,t3)}function YU(r,e=[]){let t=[];return Object.keys(r).forEach(i=>{if(e.length&&!e.includes(i))return;let n=r[i];t.push(...n.accounts)}),t}function JU(r,e=[]){let t=[];return Object.keys(r).forEach(i=>{if(e.length&&!e.includes(i))return;let n=r[i];t.push(...r3(n.accounts))}),t}function XU(r,e=[]){let t=[];return Object.keys(r).forEach(i=>{if(e.length&&!e.includes(i))return;let n=r[i];t.push(...n.chains)}),t}var W1="base10",cr="base16",ld="base64pad",dd="utf8",Y1=0,nu=1,ZU=0,H2=1,H1=12,J1=32;function eq(){let r=Y2.generateKeyPair();return{privateKey:tt.toString(r.secretKey,cr),publicKey:tt.toString(r.publicKey,cr)}}function tq(){let r=$2.randomBytes(J1);return tt.toString(r,cr)}function rq(r,e){let t=Y2.sharedKey(tt.fromString(r,cr),tt.fromString(e,cr)),i=new QU.HKDF(z1.SHA256,t).expand(J1);return tt.toString(i,cr)}function iq(r){let e=z1.hash(tt.fromString(r,cr));return tt.toString(e,cr)}function nq(r){let e=z1.hash(tt.fromString(r,dd));return tt.toString(e,cr)}function i3(r){return tt.fromString(`${r}`,W1)}function jc(r){return Number(tt.toString(r,W1))}function sq(r){let e=i3(typeof r.type<"u"?r.type:Y1);if(jc(e)===nu&&typeof r.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");let t=typeof r.senderPublicKey<"u"?tt.fromString(r.senderPublicKey,cr):void 0,i=typeof r.iv<"u"?tt.fromString(r.iv,cr):$2.randomBytes(H1),n=new k2.ChaCha20Poly1305(tt.fromString(r.symKey,cr)).seal(i,tt.fromString(r.message,dd));return n3({type:e,sealed:n,iv:i,senderPublicKey:t})}function oq(r){let e=new k2.ChaCha20Poly1305(tt.fromString(r.symKey,cr)),{sealed:t,iv:i}=X1(r.encoded),n=e.open(i,t);if(n===null)throw new Error("Failed to decrypt");return tt.toString(n,dd)}function n3(r){if(jc(r.type)===nu){if(typeof r.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return tt.toString(tt.concat([r.type,r.senderPublicKey,r.iv,r.sealed]),ld)}return tt.toString(tt.concat([r.type,r.iv,r.sealed]),ld)}function X1(r){let e=tt.fromString(r,ld),t=e.slice(ZU,H2),i=H2;if(jc(t)===nu){let a=i+J1,u=a+H1,h=e.slice(i,a),p=e.slice(a,u),m=e.slice(u);return{type:t,sealed:m,iv:p,senderPublicKey:h}}let n=i+H1,s=e.slice(i,n),o=e.slice(n);return{type:t,sealed:o,iv:s}}function aq(r,e){let t=X1(r);return s3({type:jc(t.type),senderPublicKey:typeof t.senderPublicKey<"u"?tt.toString(t.senderPublicKey,cr):void 0,receiverPublicKey:e?.receiverPublicKey})}function s3(r){let e=r?.type||Y1;if(e===nu){if(typeof r?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof r?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:r?.senderPublicKey,receiverPublicKey:r?.receiverPublicKey}}function uq(r){return r.type===nu&&typeof r.senderPublicKey=="string"&&typeof r.receiverPublicKey=="string"}var cq=Object.defineProperty,Q2=Object.getOwnPropertySymbols,lq=Object.prototype.hasOwnProperty,fq=Object.prototype.propertyIsEnumerable,j2=(r,e,t)=>e in r?cq(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,G2=(r,e)=>{for(var t in e||(e={}))lq.call(e,t)&&j2(r,t,e[t]);if(Q2)for(var t of Q2(e))fq.call(e,t)&&j2(r,t,e[t]);return r},o3="ReactNative",ru={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},fd=" ",hq=":",a3="/",Z1=2,dq=1e3,u3="js";function ew(){return typeof _.default<"u"&&typeof _.default.versions<"u"&&typeof _.default.versions.node<"u"}function c3(){return!Qc.getDocument()&&!!Qc.getNavigator()&&navigator.product===o3}function l3(){return!ew()&&!!Qc.getNavigator()}function tw(){return c3()?ru.reactNative:ew()?ru.node:l3()?ru.browser:ru.unknown}function f3(r,e){let t=cd.parse(r);return t=G2(G2({},t),e),r=cd.stringify(t),r}function pq(){return KU.getWindowMetadata()||{name:"",description:"",url:"",icons:[""]}}function gq(r,e){var t;let i=tw(),n={protocol:r,version:e,env:i};return i==="browser"&&(n.host=((t=Qc.getLocation())==null?void 0:t.host)||"unknown"),n}function h3(){let r=GU.detect();if(r===null)return"unknown";let e=r.os?r.os.replace(" ","").toLowerCase():"unknown";return r.type==="browser"?[e,r.name,r.version].join("-"):[e,r.version].join("-")}function d3(){var r;let e=tw();return e===ru.browser?[e,((r=Qc.getLocation())==null?void 0:r.host)||"unknown"].join(":"):e}function p3(r,e,t){let i=h3(),n=d3();return[[r,e].join("-"),[u3,t].join("-"),i,n].join("/")}function yq({protocol:r,version:e,relayUrl:t,sdkVersion:i,auth:n,projectId:s}){let o=t.split("?"),a=p3(r,e,i),u={auth:n,ua:a,projectId:s},h=f3(o[1]||"",u);return o[0]+"?"+h}function mq(r){let e=(r.match(/^[^:]+(?=:\/\/)/gi)||[])[0],t=typeof e<"u"?r.split("://")[1]:r;return e=e==="wss"?"https":"http",[e,t].join("://")}function wq(r,e,t){if(!r[e]||typeof r[e]!==t)throw new Error(`Missing or invalid "${e}" param`)}function g3(r,e=Z1){return y3(r.split(a3),e)}function vq(r){return g3(r).join(fd)}function ur(r,e){return r.filter(t=>e.includes(t)).length===r.length}function y3(r,e=Z1){return r.slice(Math.max(r.length-e,0))}function Eq(r){return Object.fromEntries(r.entries())}function Aq(r){return new Map(Object.entries(r))}function Iq(r,e){let t={};return Object.keys(r).forEach(i=>{t[i]=e(r[i])}),t}var _q=r=>r;function m3(r){return r.trim().replace(/^\w/,e=>e.toUpperCase())}function bq(r){return r.split(fd).map(e=>m3(e)).join(fd)}function Cq(r,e){return iu.fromMiliseconds((e||Date.now())+iu.toMiliseconds(r))}function Sq(r){return iu.fromMiliseconds(Date.now())>=iu.toMiliseconds(r)}function xq(){let r=iu.toMiliseconds(iu.FIVE_MINUTES),e,t,i;return{resolve:n=>{i&&e&&(clearTimeout(i),e(n))},reject:n=>{i&&t&&(clearTimeout(i),t(n))},done:()=>new Promise((n,s)=>{i=setTimeout(s,r),e=n,t=s})}}function rw(r,e){if(typeof e=="string"&&e.startsWith(`${r}:`))return e;if(r.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(r.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${r}`)}function Tq(r){return rw("topic",r)}function Nq(r){return rw("id",r)}function Dq(r){let[e,t]=r.split(":"),i={id:void 0,topic:void 0};if(e==="topic"&&typeof t=="string")i.topic=t;else if(e==="id"&&Number.isInteger(Number(t)))i.id=Number(t);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${t}`);return i}function Oq(r,e){return`${r}${e?`:${e}`:""}`}var w3="irn";function Bq(r){return r?.relay||{protocol:w3}}function Mq(r){let e=kU.RELAY_JSONRPC[r];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${r}`);return e}var Pq=Object.defineProperty,K2=Object.getOwnPropertySymbols,Rq=Object.prototype.hasOwnProperty,Lq=Object.prototype.propertyIsEnumerable,z2=(r,e,t)=>e in r?Pq(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Fq=(r,e)=>{for(var t in e||(e={}))Rq.call(e,t)&&z2(r,t,e[t]);if(K2)for(var t of K2(e))Lq.call(e,t)&&z2(r,t,e[t]);return r};function v3(r,e="-"){let t={},i="relay"+e;return Object.keys(r).forEach(n=>{if(n.startsWith(i)){let s=n.replace(i,""),o=r[n];t[s]=o}}),t}function Uq(r){let e=r.indexOf(":"),t=r.indexOf("?")!==-1?r.indexOf("?"):void 0,i=r.substring(0,e),n=r.substring(e+1,t).split("@"),s=typeof t<"u"?r.substring(t):"",o=cd.parse(s);return{protocol:i,topic:n[0],version:parseInt(n[1],10),symKey:o.symKey,relay:v3(o)}}function E3(r,e="-"){let t="relay",i={};return Object.keys(r).forEach(n=>{let s=t+e+n;r[n]&&(i[s]=r[n])}),i}function qq(r){return`${r.protocol}:${r.topic}@${r.version}?`+cd.stringify(Fq({symKey:r.symKey},E3(r.relay)))}function Wr(r){let e=[];return r.forEach(t=>{let[i,n]=t.split(":");e.push(`${i}:${n}`)}),e}function A3(r){let e=[];return Object.values(r).forEach(t=>{e.push(...Wr(t.accounts)),t.extension&&t.extension.forEach(i=>{e.push(...Wr(i.accounts))})}),e}function I3(r,e){let t=[];return Object.values(r).forEach(i=>{Wr(i.accounts).includes(e)&&t.push(...i.methods),i.extension&&i.extension.forEach(n=>{Wr(n.accounts).includes(e)&&t.push(...n.methods)})}),t}function _3(r,e){let t=[];return Object.values(r).forEach(i=>{Wr(i.accounts).includes(e)&&t.push(...i.events),i.extension&&i.extension.forEach(n=>{Wr(n.accounts).includes(e)&&t.push(...n.events)})}),t}var Vq={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},Hq={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function $r(r,e){let{message:t,code:i}=Hq[r];return{message:e?`${t} ${e}`:t,code:i}}function Xs(r,e){let{message:t,code:i}=Vq[r];return{message:e?`${t} ${e}`:t,code:i}}function su(r,e){return Array.isArray(r)?typeof e<"u"&&r.length?r.every(e):!0:!1}function iw(r){return Object.getPrototypeOf(r)===Object.prototype&&Object.keys(r).length}function Zi(r){return typeof r>"u"}function Ir(r,e){return e&&Zi(r)?!0:typeof r=="string"&&Boolean(r.trim().length)}function nw(r,e){return e&&Zi(r)?!0:typeof r=="number"&&!isNaN(r)}function Qq(r,e){let{requiredNamespaces:t}=e,i=Object.keys(r.namespaces),n=Object.keys(t),s=!0;return ur(n,i)?(i.forEach(o=>{let{accounts:a,methods:u,events:h,extension:p}=r.namespaces[o],m=Wr(a),O=t[o];(!ur(O.chains,m)||!ur(O.methods,u)||!ur(O.events,h))&&(s=!1),s&&p&&p.forEach(B=>{var x;let{accounts:V,methods:H,events:G}=B,ie=Wr(V);(x=O.extension)!=null&&x.find(Y=>ur(Y.chains,ie)&&ur(Y.methods,H)&&ur(Y.events,G))||(s=!1)})}),s):!1}function pd(r){return Ir(r,!1)&&r.includes(":")?r.split(":").length===2:!1}function b3(r){if(Ir(r,!1)&&r.includes(":")){let e=r.split(":");if(e.length===3){let t=e[0]+":"+e[1];return!!e[2]&&pd(t)}}return!1}function jq(r){if(Ir(r,!1))try{return typeof new URL(r)<"u"}catch{return!1}return!1}function Gq(r){var e;return(e=r?.proposer)==null?void 0:e.publicKey}function Kq(r){return r?.topic}function zq(r,e){let t=null;return Ir(r?.publicKey,!1)||(t=$r("MISSING_OR_INVALID",`${e} controller public key should be a string`)),t}function gd(r,e){let t=null;return Zi(r?.extension)||(!su(r.extension)||!r.extension.length)&&(t=$r("MISSING_OR_INVALID",`${e} extension should be an array of namespaces, or omitted`)),t}function Q1(r){let e=!0;return su(r)?r.length&&(e=r.every(t=>Ir(t,!1))):e=!1,e}function j1(r,e,t){let i=null;return su(e)?e.forEach(n=>{i||(!pd(n)||!n.includes(r))&&(i=Xs("UNSUPPORTED_CHAINS",`${t}, chain ${n} should be a string and conform to "namespace:chainId" format`))}):i=Xs("UNSUPPORTED_CHAINS",`${t}, chains ${e} should be an array of strings conforming to "namespace:chainId" format`),i}function C3(r,e){let t=null;return Object.entries(r).forEach(([i,n])=>{if(t)return;let s=j1(i,n?.chains,`${e} requiredNamespace`),o=gd(n,e);s?t=s:o?t=o:n.extension&&n.extension.forEach(a=>{if(t)return;let u=j1(i,a.chains,`${e} extension`);u&&(t=u)})}),t}function G1(r,e){let t=null;return su(r)?r.forEach(i=>{t||b3(i)||(t=Xs("UNSUPPORTED_ACCOUNTS",`${e}, account ${i} should be a string and conform to "namespace:chainId:address" format`))}):t=Xs("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),t}function S3(r,e){let t=null;return Object.values(r).forEach(i=>{if(t)return;let n=G1(i?.accounts,`${e} namespace`),s=gd(i,e);n?t=n:s?t=s:i.extension&&i.extension.forEach(o=>{if(t)return;let a=G1(o.accounts,`${e} extension`);a&&(t=a)})}),t}function K1(r,e){let t=null;return Q1(r?.methods)?Q1(r?.events)||(t=Xs("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):t=Xs("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),t}function sw(r,e){let t=null;return Object.values(r).forEach(i=>{if(t)return;let n=K1(i,`${e}, namespace`),s=gd(i,e);n?t=n:s?t=s:i.extension&&i.extension.forEach(o=>{if(t)return;let a=K1(o,`${e}, extension`);a&&(t=a)})}),t}function kq(r,e){let t=null;if(r&&iw(r)){let i=sw(r,e);i&&(t=i);let n=C3(r,e);n&&(t=n)}else t=$r("MISSING_OR_INVALID",`${e}, requiredNamespaces should be an object with data`);return t}function $q(r,e){let t=null;if(r&&iw(r)){let i=sw(r,e);i&&(t=i);let n=S3(r,e);n&&(t=n)}else t=$r("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return t}function x3(r){return Ir(r.protocol,!0)}function Wq(r,e){let t=!1;return e&&!r?t=!0:r&&su(r)&&r.length&&r.forEach(i=>{t=x3(i)}),t}function Yq(r){return typeof r=="number"}function Jq(r){return typeof r<"u"&&typeof r!==null}function Xq(r){return!(!r||typeof r!="object"||!r.code||!nw(r.code,!1)||!r.message||!Ir(r.message,!1))}function Zq(r){return!(Zi(r)||!Ir(r.method,!1))}function eV(r){return!(Zi(r)||Zi(r.result)&&Zi(r.error)||!nw(r.id,!1)||!Ir(r.jsonrpc,!1))}function tV(r){return!(Zi(r)||!Ir(r.name,!1))}function rV(r,e){return!(!pd(e)||!A3(r).includes(e))}function iV(r,e,t){return Ir(t,!1)?I3(r,e).includes(t):!1}function nV(r,e,t){return Ir(t,!1)?_3(r,e).includes(t):!1}function sV(r,e,t){let i=null,n=Object.keys(r),s=Object.keys(e);return ur(n,s)?n.forEach(o=>{var a;if(i)return;let u=r[o].chains,h=Wr(e[o].accounts);ur(u,h)?ur(r[o].methods,e[o].methods)?ur(r[o].events,e[o].events)?r[o].extension&&!e[o].extension?i=$r("NON_CONFORMING_NAMESPACES",`${t} namespaces extension doesn't satisfy requiredNamespaces extension for ${o}`):r[o].extension&&e[o].extension&&((a=r[o].extension)==null||a.forEach(({methods:p,events:m,chains:O})=>{var B;i||(B=e[o].extension)!=null&&B.find(x=>{let V=Wr(x.accounts);return ur(O,V)&&ur(m,x.events)&&ur(p,x.methods)})||(i=$r("NON_CONFORMING_NAMESPACES",`${t} namespaces extension doesn't satisfy requiredNamespaces extension for ${o}`))})):i=$r("NON_CONFORMING_NAMESPACES",`${t} namespaces events don't satisfy requiredNamespaces events for ${o}`):i=$r("NON_CONFORMING_NAMESPACES",`${t} namespaces methods don't satisfy requiredNamespaces methods for ${o}`):i=$r("NON_CONFORMING_NAMESPACES",`${t} namespaces accounts don't satisfy requiredNamespaces chains for ${o}`)}):i=$r("NON_CONFORMING_NAMESPACES",`${t} namespaces keys don't satisfy requiredNamespaces`),i}ne.BASE10=W1,ne.BASE16=cr,ne.BASE64=ld,ne.COLON=hq,ne.DEFAULT_DEPTH=Z1,ne.EMPTY_SPACE=fd,ne.ENV_MAP=ru,ne.ONE_THOUSAND=dq,ne.REACT_NATIVE_PRODUCT=o3,ne.RELAYER_DEFAULT_PROTOCOL=w3,ne.SDK_TYPE=u3,ne.SLASH=a3,ne.TYPE_0=Y1,ne.TYPE_1=nu,ne.UTF8=dd,ne.appendToQueryString=f3,ne.assertType=wq,ne.calcExpiry=Cq,ne.capitalize=bq,ne.capitalizeWord=m3,ne.createDelayedPromise=xq,ne.decodeTypeByte=jc,ne.decrypt=oq,ne.deriveSymKey=rq,ne.deserialize=X1,ne.encodeTypeByte=i3,ne.encrypt=sq,ne.engineEvent=Oq,ne.enumify=_q,ne.formatAccountId=Z2,ne.formatAccountWithChain=$U,ne.formatChainId=X2,ne.formatExpirerTarget=rw,ne.formatIdTarget=Nq,ne.formatMessageContext=vq,ne.formatRelayParams=E3,ne.formatRelayRpcUrl=yq,ne.formatTopicTarget=Tq,ne.formatUA=p3,ne.formatUri=qq,ne.generateKeyPair=eq,ne.generateRandomBytes32=tq,ne.getAccountsChains=Wr,ne.getAccountsFromNamespaces=YU,ne.getAddressFromAccount=e3,ne.getAddressesFromAccounts=WU,ne.getAppMetadata=pq,ne.getChainFromAccount=t3,ne.getChainsFromAccounts=r3,ne.getChainsFromNamespaces=JU,ne.getChainsFromRequiredNamespaces=XU,ne.getEnvironment=tw,ne.getHttpUrl=mq,ne.getInternalError=$r,ne.getJavascriptID=d3,ne.getJavascriptOS=h3,ne.getLastItems=y3,ne.getNamespacesChains=A3,ne.getNamespacesEventsForChainId=_3,ne.getNamespacesMethodsForChainId=I3,ne.getRelayClientMetadata=gq,ne.getRelayProtocolApi=Mq,ne.getRelayProtocolName=Bq,ne.getSdkError=Xs,ne.getUniqueValues=$1,ne.hasOverlap=ur,ne.hashKey=iq,ne.hashMessage=nq,ne.isBrowser=l3,ne.isConformingNamespaces=sV,ne.isExpired=Sq,ne.isNode=ew,ne.isProposalStruct=Gq,ne.isReactNative=c3,ne.isSessionCompatible=Qq,ne.isSessionStruct=Kq,ne.isTypeOneEnvelope=uq,ne.isUndefined=Zi,ne.isValidAccountId=b3,ne.isValidAccounts=G1,ne.isValidActions=K1,ne.isValidArray=su,ne.isValidChainId=pd,ne.isValidChains=j1,ne.isValidController=zq,ne.isValidErrorReason=Xq,ne.isValidEvent=tV,ne.isValidExtension=gd,ne.isValidId=Yq,ne.isValidNamespaceAccounts=S3,ne.isValidNamespaceActions=sw,ne.isValidNamespaceChains=C3,ne.isValidNamespaceMethodsOrEvents=Q1,ne.isValidNamespaces=$q,ne.isValidNamespacesChainId=rV,ne.isValidNamespacesEvent=nV,ne.isValidNamespacesRequest=iV,ne.isValidNumber=nw,ne.isValidObject=iw,ne.isValidParams=Jq,ne.isValidRelay=x3,ne.isValidRelays=Wq,ne.isValidRequest=Zq,ne.isValidRequiredNamespaces=kq,ne.isValidResponse=eV,ne.isValidString=Ir,ne.isValidUrl=jq,ne.mapEntries=Iq,ne.mapToObj=Eq,ne.objToMap=Aq,ne.parseAccountId=k1,ne.parseChainId=J2,ne.parseContextNames=g3,ne.parseExpirerTarget=Dq,ne.parseRelayParams=v3,ne.parseUri=Uq,ne.serialize=n3,ne.validateDecoding=aq,ne.validateEncoding=s3});var T3,N3,D3,O3,md,Gc,ow,wd,Rn,Kc,vd=ye(()=>{f();T3="PARSE_ERROR",N3="INVALID_REQUEST",D3="METHOD_NOT_FOUND",O3="INVALID_PARAMS",md="INTERNAL_ERROR",Gc="SERVER_ERROR",ow=[-32700,-32600,-32601,-32602,-32603],wd=[-32e3,-32099],Rn={[T3]:{code:-32700,message:"Parse error"},[N3]:{code:-32600,message:"Invalid Request"},[D3]:{code:-32601,message:"Method not found"},[O3]:{code:-32602,message:"Invalid params"},[md]:{code:-32603,message:"Internal error"},[Gc]:{code:-32e3,message:"Server error"}},Kc=Gc});function oV(r){return r<=wd[0]&&r>=wd[1]}function Ed(r){return ow.includes(r)}function B3(r){return typeof r=="number"}function Ad(r){return Object.keys(Rn).includes(r)?Rn[r]:Rn[Kc]}function Id(r){let e=Object.values(Rn).find(t=>t.code===r);return e||Rn[Kc]}function aV(r){if(typeof r.error.code>"u")return{valid:!1,error:"Missing code for JSON-RPC error"};if(typeof r.error.message>"u")return{valid:!1,error:"Missing message for JSON-RPC error"};if(!B3(r.error.code))return{valid:!1,error:`Invalid error code type for JSON-RPC: ${r.error.code}`};if(Ed(r.error.code)){let e=Id(r.error.code);if(e.message!==Rn[Kc].message&&r.error.message===e.message)return{valid:!1,error:`Invalid error code message for JSON-RPC: ${r.error.code}`}}return{valid:!0}}function aw(r,e,t){return r.message.includes("getaddrinfo ENOTFOUND")||r.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${t} RPC url at ${e}`):r}var uw=ye(()=>{f();vd()});var P3=M(Ln=>{"use strict";f();Object.defineProperty(Ln,"__esModule",{value:!0});Ln.isBrowserCryptoAvailable=Ln.getSubtleCrypto=Ln.getBrowerCrypto=void 0;function cw(){return(global===null||global===void 0?void 0:global.crypto)||(global===null||global===void 0?void 0:global.msCrypto)||{}}Ln.getBrowerCrypto=cw;function M3(){let r=cw();return r.subtle||r.webkitSubtle}Ln.getSubtleCrypto=M3;function uV(){return!!cw()&&!!M3()}Ln.isBrowserCryptoAvailable=uV});var F3=M(Fn=>{"use strict";f();Object.defineProperty(Fn,"__esModule",{value:!0});Fn.isBrowser=Fn.isNode=Fn.isReactNative=void 0;function R3(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}Fn.isReactNative=R3;function L3(){return typeof _.default<"u"&&typeof _.default.versions<"u"&&typeof _.default.versions.node<"u"}Fn.isNode=L3;function cV(){return!R3()&&!L3()}Fn.isBrowser=cV});var lw=M(_d=>{"use strict";f();Object.defineProperty(_d,"__esModule",{value:!0});var U3=Er();U3.__exportStar(P3(),_d);U3.__exportStar(F3(),_d)});var zt={};ot(zt,{isNodeJs:()=>V3});var q3,V3,H3=ye(()=>{f();q3=Ie(lw());Yt(zt,Ie(lw()));V3=q3.isNode});function Q3(){let r=Date.now()*Math.pow(10,3),e=Math.floor(Math.random()*Math.pow(10,3));return r+e}function fw(r,e,t){return{id:t||Q3(),jsonrpc:"2.0",method:r,params:e}}function lV(r,e){return{id:r,jsonrpc:"2.0",result:e}}function hw(r,e,t){return{id:r,jsonrpc:"2.0",error:j3(e,t)}}function j3(r,e){return typeof r>"u"?Ad(md):(typeof r=="string"&&(r=Object.assign(Object.assign({},Ad(Gc)),{message:r})),typeof e<"u"&&(r.data=e),Ed(r.code)&&(r=Id(r.code)),r)}var G3=ye(()=>{f();uw();vd()});function fV(r){return r.includes("*")?Cd(r):!/\W/g.test(r)}function bd(r){return r==="*"}function Cd(r){return bd(r)?!0:!(!r.includes("*")||r.split("*").length!==2||r.split("*").filter(e=>e.trim()==="").length!==1)}function hV(r){return!bd(r)&&Cd(r)&&!r.split("*")[0].trim()}function dV(r){return!bd(r)&&Cd(r)&&!r.split("*")[1].trim()}var K3=ye(()=>{f()});var z3=ye(()=>{f()});var ou,dw=ye(()=>{f();ou=class{}});var pw,Sd,zc,k3=ye(()=>{f();dw();pw=class extends ou{constructor(e){super()}},Sd=class extends ou{constructor(){super()}},zc=class extends Sd{constructor(e){super()}}});var $3=ye(()=>{f()});var W3=ye(()=>{f();z3();dw();k3();$3()});var Y3=ye(()=>{f();W3()});function yV(r){let e=r.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function J3(r,e){let t=yV(r);return typeof t>"u"?!1:new RegExp(e).test(t)}function mV(r){return J3(r,pV)}function xd(r){return J3(r,gV)}function gw(r){return new RegExp("wss?://localhost(:d{2,5})?").test(r)}var pV,gV,X3=ye(()=>{f();pV="^https?:",gV="^wss?:"});function yw(r){return typeof r=="object"&&"id"in r&&"jsonrpc"in r&&r.jsonrpc==="2.0"}function wV(r){return yw(r)&&"method"in r}function mw(r){return yw(r)&&(Z3(r)||Td(r))}function Z3(r){return"result"in r}function Td(r){return"error"in r}function vV(r){return"error"in r&&r.valid===!1}var eT=ye(()=>{f()});var sr={};ot(sr,{DEFAULT_ERROR:()=>Kc,IBaseJsonRpcProvider:()=>Sd,IEvents:()=>ou,IJsonRpcConnection:()=>pw,IJsonRpcProvider:()=>zc,INTERNAL_ERROR:()=>md,INVALID_PARAMS:()=>O3,INVALID_REQUEST:()=>N3,METHOD_NOT_FOUND:()=>D3,PARSE_ERROR:()=>T3,RESERVED_ERROR_CODES:()=>ow,SERVER_ERROR:()=>Gc,SERVER_ERROR_CODE_RANGE:()=>wd,STANDARD_ERROR_MAP:()=>Rn,formatErrorMessage:()=>j3,formatJsonRpcError:()=>hw,formatJsonRpcRequest:()=>fw,formatJsonRpcResult:()=>lV,getError:()=>Ad,getErrorByCode:()=>Id,isHttpUrl:()=>mV,isJsonRpcError:()=>Td,isJsonRpcPayload:()=>yw,isJsonRpcRequest:()=>wV,isJsonRpcResponse:()=>mw,isJsonRpcResult:()=>Z3,isJsonRpcValidationInvalid:()=>vV,isLocalhostUrl:()=>gw,isNodeJs:()=>V3,isReservedErrorCode:()=>Ed,isServerErrorCode:()=>oV,isValidDefaultRoute:()=>bd,isValidErrorCode:()=>B3,isValidLeadingWildcardRoute:()=>hV,isValidRoute:()=>fV,isValidTrailingWildcardRoute:()=>dV,isValidWildcardRoute:()=>Cd,isWsUrl:()=>xd,parseConnectionError:()=>aw,payloadId:()=>Q3,validateJsonRpcError:()=>aV});var kc=ye(()=>{f();vd();uw();H3();Yt(sr,zt);G3();K3();Y3();X3();eT()});var tT,Nd,rT,ww=ye(()=>{f();tT=Ie(Gs());kc();Nd=class extends zc{constructor(e){super(e),this.events=new tT.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async request(e,t){return this.requestStrict(fw(e.method,e.params||[]),t)}async requestStrict(e,t){return new Promise(async(i,n)=>{if(!this.connection.connected)try{await this.open()}catch(s){n(s)}this.events.on(`${e.id}`,s=>{Td(s)?n(s.error):i(s.result)});try{await this.connection.send(e,t)}catch(s){n(s)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),mw(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",()=>this.events.emit("disconnect")),this.connection.on("error",e=>this.events.emit("error",e)),this.hasRegisteredEventListeners=!0)}},rT=Nd});var iT={};ot(iT,{JsonRpcProvider:()=>Nd,default:()=>EV});var EV,nT=ye(()=>{f();ww();ww();EV=rT});var oT=M((dte,sT)=>{"use strict";f();sT.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}});var uT,aT,AV,IV,Dd,cT,vw=ye(()=>{f();uT=Ie(Gs());bh();kc();aT=10,AV=()=>typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:oT(),IV=AV(),Dd=class{constructor(e){if(this.url=e,this.events=new uT.EventEmitter,this.registering=!1,!xd(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(e=this.url){await this.register(e)}async close(){if(typeof this.socket>"u")throw new Error("Connection already closed");this.socket.close(),this.onClose()}async send(e,t){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(bc(e))}catch(i){this.onError(e.id,i)}}register(e=this.url){if(!xd(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){let t=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=t||this.events.listenerCount("open")>=t)&&this.events.setMaxListeners(t+1),new Promise((i,n)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),n(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return n(new Error("WebSocket connection is missing or invalid"));i(this.socket)})})}return this.url=e,this.registering=!0,new Promise((t,i)=>{let n=(0,sr.isReactNative)()?void 0:{rejectUnauthorized:!gw(e)},s=new IV(e,[],n);s.onopen=()=>{this.onOpen(s),t(s)},s.onerror=o=>{let a=o,u=this.parseError(a.error||new Error(`WebSocket connection failed for URL: ${e}`));this.events.emit("register_error",u),this.onClose(),i(u)}})}onOpen(e){e.onmessage=t=>this.onPayload(t),e.onclose=()=>this.onClose(),e.onerror=t=>{let i=t,n=this.parseError(i.error||new Error(`WebSocket connection failed for URL: ${this.url}`));this.events.emit("error",n)},this.socket=e,this.registering=!1,this.events.emit("open")}onClose(){this.socket=void 0,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;let t=typeof e.data=="string"?_c(e.data):e.data;this.events.emit("payload",t)}onError(e,t){let i=this.parseError(t),n=i.message||i.toString(),s=hw(e,n);this.events.emit("payload",s)}parseError(e,t=this.url){return aw(e,t,"WS")}resetMaxListeners(){this.events.getMaxListeners()>aT&&this.events.setMaxListeners(aT)}},cT=Dd});var lT={};ot(lT,{WsConnection:()=>Dd,default:()=>_V});var _V,fT=ye(()=>{f();vw();vw();_V=cT});var zT=M(($c,uu)=>{f();var bV=200,Dw="__lodash_hash_undefined__",Ud=1,_T=2,bT=9007199254740991,Od="[object Arguments]",_w="[object Array]",CV="[object AsyncFunction]",CT="[object Boolean]",ST="[object Date]",xT="[object Error]",TT="[object Function]",SV="[object GeneratorFunction]",Bd="[object Map]",NT="[object Number]",xV="[object Null]",au="[object Object]",hT="[object Promise]",TV="[object Proxy]",DT="[object RegExp]",Md="[object Set]",OT="[object String]",NV="[object Symbol]",DV="[object Undefined]",bw="[object WeakMap]",BT="[object ArrayBuffer]",Pd="[object DataView]",OV="[object Float32Array]",BV="[object Float64Array]",MV="[object Int8Array]",PV="[object Int16Array]",RV="[object Int32Array]",LV="[object Uint8Array]",FV="[object Uint8ClampedArray]",UV="[object Uint16Array]",qV="[object Uint32Array]",VV=/[\\^$.*+?()[\]{}|]/g,HV=/^\[object .+?Constructor\]$/,QV=/^(?:0|[1-9]\d*)$/,Ye={};Ye[OV]=Ye[BV]=Ye[MV]=Ye[PV]=Ye[RV]=Ye[LV]=Ye[FV]=Ye[UV]=Ye[qV]=!0;Ye[Od]=Ye[_w]=Ye[BT]=Ye[CT]=Ye[Pd]=Ye[ST]=Ye[xT]=Ye[TT]=Ye[Bd]=Ye[NT]=Ye[au]=Ye[DT]=Ye[Md]=Ye[OT]=Ye[bw]=!1;var MT=typeof global=="object"&&global&&global.Object===Object&&global,jV=typeof self=="object"&&self&&self.Object===Object&&self,en=MT||jV||Function("return this")(),PT=typeof $c=="object"&&$c&&!$c.nodeType&&$c,dT=PT&&typeof uu=="object"&&uu&&!uu.nodeType&&uu,RT=dT&&dT.exports===PT,Ew=RT&&MT.process,pT=function(){try{return Ew&&Ew.binding&&Ew.binding("util")}catch{}}(),gT=pT&&pT.isTypedArray;function GV(r,e){for(var t=-1,i=r==null?0:r.length,n=0,s=[];++t<i;){var o=r[t];e(o,t,r)&&(s[n++]=o)}return s}function KV(r,e){for(var t=-1,i=e.length,n=r.length;++t<i;)r[n+t]=e[t];return r}function zV(r,e){for(var t=-1,i=r==null?0:r.length;++t<i;)if(e(r[t],t,r))return!0;return!1}function kV(r,e){for(var t=-1,i=Array(r);++t<r;)i[t]=e(t);return i}function $V(r){return function(e){return r(e)}}function WV(r,e){return r.has(e)}function YV(r,e){return r?.[e]}function JV(r){var e=-1,t=Array(r.size);return r.forEach(function(i,n){t[++e]=[n,i]}),t}function XV(r,e){return function(t){return r(e(t))}}function ZV(r){var e=-1,t=Array(r.size);return r.forEach(function(i){t[++e]=i}),t}var e7=Array.prototype,t7=Function.prototype,qd=Object.prototype,Aw=en["__core-js_shared__"],LT=t7.toString,Ni=qd.hasOwnProperty,yT=function(){var r=/[^.]+$/.exec(Aw&&Aw.keys&&Aw.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}(),FT=qd.toString,r7=RegExp("^"+LT.call(Ni).replace(VV,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),mT=RT?en.Buffer:void 0,Rd=en.Symbol,wT=en.Uint8Array,UT=qd.propertyIsEnumerable,i7=e7.splice,Zs=Rd?Rd.toStringTag:void 0,vT=Object.getOwnPropertySymbols,n7=mT?mT.isBuffer:void 0,s7=XV(Object.keys,Object),Cw=cu(en,"DataView"),Wc=cu(en,"Map"),Sw=cu(en,"Promise"),xw=cu(en,"Set"),Tw=cu(en,"WeakMap"),Yc=cu(Object,"create"),o7=ro(Cw),a7=ro(Wc),u7=ro(Sw),c7=ro(xw),l7=ro(Tw),ET=Rd?Rd.prototype:void 0,Iw=ET?ET.valueOf:void 0;function eo(r){var e=-1,t=r==null?0:r.length;for(this.clear();++e<t;){var i=r[e];this.set(i[0],i[1])}}function f7(){this.__data__=Yc?Yc(null):{},this.size=0}function h7(r){var e=this.has(r)&&delete this.__data__[r];return this.size-=e?1:0,e}function d7(r){var e=this.__data__;if(Yc){var t=e[r];return t===Dw?void 0:t}return Ni.call(e,r)?e[r]:void 0}function p7(r){var e=this.__data__;return Yc?e[r]!==void 0:Ni.call(e,r)}function g7(r,e){var t=this.__data__;return this.size+=this.has(r)?0:1,t[r]=Yc&&e===void 0?Dw:e,this}eo.prototype.clear=f7;eo.prototype.delete=h7;eo.prototype.get=d7;eo.prototype.has=p7;eo.prototype.set=g7;function tn(r){var e=-1,t=r==null?0:r.length;for(this.clear();++e<t;){var i=r[e];this.set(i[0],i[1])}}function y7(){this.__data__=[],this.size=0}function m7(r){var e=this.__data__,t=Vd(e,r);if(t<0)return!1;var i=e.length-1;return t==i?e.pop():i7.call(e,t,1),--this.size,!0}function w7(r){var e=this.__data__,t=Vd(e,r);return t<0?void 0:e[t][1]}function v7(r){return Vd(this.__data__,r)>-1}function E7(r,e){var t=this.__data__,i=Vd(t,r);return i<0?(++this.size,t.push([r,e])):t[i][1]=e,this}tn.prototype.clear=y7;tn.prototype.delete=m7;tn.prototype.get=w7;tn.prototype.has=v7;tn.prototype.set=E7;function to(r){var e=-1,t=r==null?0:r.length;for(this.clear();++e<t;){var i=r[e];this.set(i[0],i[1])}}function A7(){this.size=0,this.__data__={hash:new eo,map:new(Wc||tn),string:new eo}}function I7(r){var e=Hd(this,r).delete(r);return this.size-=e?1:0,e}function _7(r){return Hd(this,r).get(r)}function b7(r){return Hd(this,r).has(r)}function C7(r,e){var t=Hd(this,r),i=t.size;return t.set(r,e),this.size+=t.size==i?0:1,this}to.prototype.clear=A7;to.prototype.delete=I7;to.prototype.get=_7;to.prototype.has=b7;to.prototype.set=C7;function Ld(r){var e=-1,t=r==null?0:r.length;for(this.__data__=new to;++e<t;)this.add(r[e])}function S7(r){return this.__data__.set(r,Dw),this}function x7(r){return this.__data__.has(r)}Ld.prototype.add=Ld.prototype.push=S7;Ld.prototype.has=x7;function qn(r){var e=this.__data__=new tn(r);this.size=e.size}function T7(){this.__data__=new tn,this.size=0}function N7(r){var e=this.__data__,t=e.delete(r);return this.size=e.size,t}function D7(r){return this.__data__.get(r)}function O7(r){return this.__data__.has(r)}function B7(r,e){var t=this.__data__;if(t instanceof tn){var i=t.__data__;if(!Wc||i.length<bV-1)return i.push([r,e]),this.size=++t.size,this;t=this.__data__=new to(i)}return t.set(r,e),this.size=t.size,this}qn.prototype.clear=T7;qn.prototype.delete=N7;qn.prototype.get=D7;qn.prototype.has=O7;qn.prototype.set=B7;function M7(r,e){var t=Fd(r),i=!t&&$7(r),n=!t&&!i&&Nw(r),s=!t&&!i&&!n&&KT(r),o=t||i||n||s,a=o?kV(r.length,String):[],u=a.length;for(var h in r)(e||Ni.call(r,h))&&!(o&&(h=="length"||n&&(h=="offset"||h=="parent")||s&&(h=="buffer"||h=="byteLength"||h=="byteOffset")||j7(h,u)))&&a.push(h);return a}function Vd(r,e){for(var t=r.length;t--;)if(HT(r[t][0],e))return t;return-1}function P7(r,e,t){var i=e(r);return Fd(r)?i:KV(i,t(r))}function Xc(r){return r==null?r===void 0?DV:xV:Zs&&Zs in Object(r)?H7(r):k7(r)}function AT(r){return Jc(r)&&Xc(r)==Od}function qT(r,e,t,i,n){return r===e?!0:r==null||e==null||!Jc(r)&&!Jc(e)?r!==r&&e!==e:R7(r,e,t,i,qT,n)}function R7(r,e,t,i,n,s){var o=Fd(r),a=Fd(e),u=o?_w:Un(r),h=a?_w:Un(e);u=u==Od?au:u,h=h==Od?au:h;var p=u==au,m=h==au,O=u==h;if(O&&Nw(r)){if(!Nw(e))return!1;o=!0,p=!1}if(O&&!p)return s||(s=new qn),o||KT(r)?VT(r,e,t,i,n,s):q7(r,e,u,t,i,n,s);if(!(t&Ud)){var B=p&&Ni.call(r,"__wrapped__"),x=m&&Ni.call(e,"__wrapped__");if(B||x){var V=B?r.value():r,H=x?e.value():e;return s||(s=new qn),n(V,H,t,i,s)}}return O?(s||(s=new qn),V7(r,e,t,i,n,s)):!1}function L7(r){if(!GT(r)||K7(r))return!1;var e=QT(r)?r7:HV;return e.test(ro(r))}function F7(r){return Jc(r)&&jT(r.length)&&!!Ye[Xc(r)]}function U7(r){if(!z7(r))return s7(r);var e=[];for(var t in Object(r))Ni.call(r,t)&&t!="constructor"&&e.push(t);return e}function VT(r,e,t,i,n,s){var o=t&Ud,a=r.length,u=e.length;if(a!=u&&!(o&&u>a))return!1;var h=s.get(r);if(h&&s.get(e))return h==e;var p=-1,m=!0,O=t&_T?new Ld:void 0;for(s.set(r,e),s.set(e,r);++p<a;){var B=r[p],x=e[p];if(i)var V=o?i(x,B,p,e,r,s):i(B,x,p,r,e,s);if(V!==void 0){if(V)continue;m=!1;break}if(O){if(!zV(e,function(H,G){if(!WV(O,G)&&(B===H||n(B,H,t,i,s)))return O.push(G)})){m=!1;break}}else if(!(B===x||n(B,x,t,i,s))){m=!1;break}}return s.delete(r),s.delete(e),m}function q7(r,e,t,i,n,s,o){switch(t){case Pd:if(r.byteLength!=e.byteLength||r.byteOffset!=e.byteOffset)return!1;r=r.buffer,e=e.buffer;case BT:return!(r.byteLength!=e.byteLength||!s(new wT(r),new wT(e)));case CT:case ST:case NT:return HT(+r,+e);case xT:return r.name==e.name&&r.message==e.message;case DT:case OT:return r==e+"";case Bd:var a=JV;case Md:var u=i&Ud;if(a||(a=ZV),r.size!=e.size&&!u)return!1;var h=o.get(r);if(h)return h==e;i|=_T,o.set(r,e);var p=VT(a(r),a(e),i,n,s,o);return o.delete(r),p;case NV:if(Iw)return Iw.call(r)==Iw.call(e)}return!1}function V7(r,e,t,i,n,s){var o=t&Ud,a=IT(r),u=a.length,h=IT(e),p=h.length;if(u!=p&&!o)return!1;for(var m=u;m--;){var O=a[m];if(!(o?O in e:Ni.call(e,O)))return!1}var B=s.get(r);if(B&&s.get(e))return B==e;var x=!0;s.set(r,e),s.set(e,r);for(var V=o;++m<u;){O=a[m];var H=r[O],G=e[O];if(i)var ie=o?i(G,H,O,e,r,s):i(H,G,O,r,e,s);if(!(ie===void 0?H===G||n(H,G,t,i,s):ie)){x=!1;break}V||(V=O=="constructor")}if(x&&!V){var Y=r.constructor,W=e.constructor;Y!=W&&"constructor"in r&&"constructor"in e&&!(typeof Y=="function"&&Y instanceof Y&&typeof W=="function"&&W instanceof W)&&(x=!1)}return s.delete(r),s.delete(e),x}function IT(r){return P7(r,J7,Q7)}function Hd(r,e){var t=r.__data__;return G7(e)?t[typeof e=="string"?"string":"hash"]:t.map}function cu(r,e){var t=YV(r,e);return L7(t)?t:void 0}function H7(r){var e=Ni.call(r,Zs),t=r[Zs];try{r[Zs]=void 0;var i=!0}catch{}var n=FT.call(r);return i&&(e?r[Zs]=t:delete r[Zs]),n}var Q7=vT?function(r){return r==null?[]:(r=Object(r),GV(vT(r),function(e){return UT.call(r,e)}))}:X7,Un=Xc;(Cw&&Un(new Cw(new ArrayBuffer(1)))!=Pd||Wc&&Un(new Wc)!=Bd||Sw&&Un(Sw.resolve())!=hT||xw&&Un(new xw)!=Md||Tw&&Un(new Tw)!=bw)&&(Un=function(r){var e=Xc(r),t=e==au?r.constructor:void 0,i=t?ro(t):"";if(i)switch(i){case o7:return Pd;case a7:return Bd;case u7:return hT;case c7:return Md;case l7:return bw}return e});function j7(r,e){return e=e??bT,!!e&&(typeof r=="number"||QV.test(r))&&r>-1&&r%1==0&&r<e}function G7(r){var e=typeof r;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?r!=="__proto__":r===null}function K7(r){return!!yT&&yT in r}function z7(r){var e=r&&r.constructor,t=typeof e=="function"&&e.prototype||qd;return r===t}function k7(r){return FT.call(r)}function ro(r){if(r!=null){try{return LT.call(r)}catch{}try{return r+""}catch{}}return""}function HT(r,e){return r===e||r!==r&&e!==e}var $7=AT(function(){return arguments}())?AT:function(r){return Jc(r)&&Ni.call(r,"callee")&&!UT.call(r,"callee")},Fd=Array.isArray;function W7(r){return r!=null&&jT(r.length)&&!QT(r)}var Nw=n7||Z7;function Y7(r,e){return qT(r,e)}function QT(r){if(!GT(r))return!1;var e=Xc(r);return e==TT||e==SV||e==CV||e==TV}function jT(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=bT}function GT(r){var e=typeof r;return r!=null&&(e=="object"||e=="function")}function Jc(r){return r!=null&&typeof r=="object"}var KT=gT?$V(gT):F7;function J7(r){return W7(r)?M7(r):U7(r)}function X7(){return[]}function Z7(){return!1}uu.exports=Y7});var WN=M(ve=>{"use strict";f();Object.defineProperty(ve,"__esModule",{value:!0});var no=Gs(),eH=sh(),tH=RC(),Zd=JC(),rt=pm(),Vn=Om(),kT=(bh(),Xr(nS)),rH=(Tx(),Xr(xx)),fe=yd(),Ut=Ks(),iH=(nT(),Xr(iT)),Jr=(kc(),Xr(sr)),nH=(fT(),Xr(lT)),sH=zT();function Zc(r){return r&&typeof r=="object"&&"default"in r?r:{default:r}}function oH(r){if(r&&r.__esModule)return r;var e=Object.create(null);return r&&Object.keys(r).forEach(function(t){if(t!=="default"){var i=Object.getOwnPropertyDescriptor(r,t);Object.defineProperty(e,t,i.get?i:{enumerable:!0,get:function(){return r[t]}})}}),e.default=r,Object.freeze(e)}var aH=Zc(no),lN=Zc(eH),uH=Zc(tH),Qd=oH(rH),cH=Zc(nH),lH=Zc(sH);function fH(r,e){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),i=0;i<t.length;i++)t[i]=255;for(var n=0;n<r.length;n++){var s=r.charAt(n),o=s.charCodeAt(0);if(t[o]!==255)throw new TypeError(s+" is ambiguous");t[o]=n}var a=r.length,u=r.charAt(0),h=Math.log(a)/Math.log(256),p=Math.log(256)/Math.log(a);function m(x){if(x instanceof Uint8Array||(ArrayBuffer.isView(x)?x=new Uint8Array(x.buffer,x.byteOffset,x.byteLength):Array.isArray(x)&&(x=Uint8Array.from(x))),!(x instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(x.length===0)return"";for(var V=0,H=0,G=0,ie=x.length;G!==ie&&x[G]===0;)G++,V++;for(var Y=(ie-G)*p+1>>>0,W=new Uint8Array(Y);G!==ie;){for(var $=x[G],K=0,R=Y-1;($!==0||K<H)&&R!==-1;R--,K++)$+=256*W[R]>>>0,W[R]=$%a>>>0,$=$/a>>>0;if($!==0)throw new Error("Non-zero carry");H=K,G++}for(var F=Y-H;F!==Y&&W[F]===0;)F++;for(var k=u.repeat(V);F<Y;++F)k+=r.charAt(W[F]);return k}function O(x){if(typeof x!="string")throw new TypeError("Expected String");if(x.length===0)return new Uint8Array;var V=0;if(x[V]!==" "){for(var H=0,G=0;x[V]===u;)H++,V++;for(var ie=(x.length-V)*h+1>>>0,Y=new Uint8Array(ie);x[V];){var W=t[x.charCodeAt(V)];if(W===255)return;for(var $=0,K=ie-1;(W!==0||$<G)&&K!==-1;K--,$++)W+=a*Y[K]>>>0,Y[K]=W%256>>>0,W=W/256>>>0;if(W!==0)throw new Error("Non-zero carry");G=$,V++}if(x[V]!==" "){for(var R=ie-G;R!==ie&&Y[R]===0;)R++;for(var F=new Uint8Array(H+(ie-R)),k=H;R!==ie;)F[k++]=Y[R++];return F}}}function B(x){var V=O(x);if(V)return V;throw new Error(`Non-${e} character`)}return{encode:m,decodeUnsafe:O,decode:B}}var hH=fH,dH=hH,fN=r=>{if(r instanceof Uint8Array&&r.constructor.name==="Uint8Array")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")},pH=r=>new TextEncoder().encode(r),gH=r=>new TextDecoder().decode(r),Mw=class{constructor(e,t,i){this.name=e,this.prefix=t,this.baseEncode=i}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},Pw=class{constructor(e,t,i){if(this.name=e,this.prefix=t,t.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=i}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return hN(this,e)}},Rw=class{constructor(e){this.decoders=e}or(e){return hN(this,e)}decode(e){let t=e[0],i=this.decoders[t];if(i)return i.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},hN=(r,e)=>new Rw({...r.decoders||{[r.prefix]:r},...e.decoders||{[e.prefix]:e}}),Lw=class{constructor(e,t,i,n){this.name=e,this.prefix=t,this.baseEncode=i,this.baseDecode=n,this.encoder=new Mw(e,t,i),this.decoder=new Pw(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},ep=({name:r,prefix:e,encode:t,decode:i})=>new Lw(r,e,t,i),el=({prefix:r,name:e,alphabet:t})=>{let{encode:i,decode:n}=dH(t,e);return ep({prefix:r,name:e,encode:i,decode:s=>fN(n(s))})},yH=(r,e,t,i)=>{let n={};for(let p=0;p<e.length;++p)n[e[p]]=p;let s=r.length;for(;r[s-1]==="=";)--s;let o=new Uint8Array(s*t/8|0),a=0,u=0,h=0;for(let p=0;p<s;++p){let m=n[r[p]];if(m===void 0)throw new SyntaxError(`Non-${i} character`);u=u<<t|m,a+=t,a>=8&&(a-=8,o[h++]=255&u>>a)}if(a>=t||255&u<<8-a)throw new SyntaxError("Unexpected end of data");return o},mH=(r,e,t)=>{let i=e[e.length-1]==="=",n=(1<<t)-1,s="",o=0,a=0;for(let u=0;u<r.length;++u)for(a=a<<8|r[u],o+=8;o>t;)o-=t,s+=e[n&a>>o];if(o&&(s+=e[n&a<<t-o]),i)for(;s.length*t&7;)s+="=";return s},Jt=({name:r,prefix:e,bitsPerChar:t,alphabet:i})=>ep({prefix:e,name:r,encode(n){return mH(n,i,t)},decode(n){return yH(n,i,t,r)}}),wH=ep({prefix:"\0",name:"identity",encode:r=>gH(r),decode:r=>pH(r)}),vH=Object.freeze({__proto__:null,identity:wH}),EH=Jt({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),AH=Object.freeze({__proto__:null,base2:EH}),IH=Jt({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),_H=Object.freeze({__proto__:null,base8:IH}),bH=el({prefix:"9",name:"base10",alphabet:"0123456789"}),CH=Object.freeze({__proto__:null,base10:bH}),SH=Jt({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),xH=Jt({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),TH=Object.freeze({__proto__:null,base16:SH,base16upper:xH}),NH=Jt({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),DH=Jt({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),OH=Jt({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),BH=Jt({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),MH=Jt({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),PH=Jt({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),RH=Jt({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),LH=Jt({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),FH=Jt({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),UH=Object.freeze({__proto__:null,base32:NH,base32upper:DH,base32pad:OH,base32padupper:BH,base32hex:MH,base32hexupper:PH,base32hexpad:RH,base32hexpadupper:LH,base32z:FH}),qH=el({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),VH=el({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),HH=Object.freeze({__proto__:null,base36:qH,base36upper:VH}),QH=el({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),jH=el({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),GH=Object.freeze({__proto__:null,base58btc:QH,base58flickr:jH}),KH=Jt({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),zH=Jt({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),kH=Jt({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),$H=Jt({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),WH=Object.freeze({__proto__:null,base64:KH,base64pad:zH,base64url:kH,base64urlpad:$H}),dN=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),YH=dN.reduce((r,e,t)=>(r[t]=e,r),[]),JH=dN.reduce((r,e,t)=>(r[e.codePointAt(0)]=t,r),[]);function XH(r){return r.reduce((e,t)=>(e+=YH[t],e),"")}function ZH(r){let e=[];for(let t of r){let i=JH[t.codePointAt(0)];if(i===void 0)throw new Error(`Non-base256emoji character: ${t}`);e.push(i)}return new Uint8Array(e)}var e9=ep({prefix:"\u{1F680}",name:"base256emoji",encode:XH,decode:ZH}),t9=Object.freeze({__proto__:null,base256emoji:e9}),r9=pN,$T=128,i9=127,n9=~i9,s9=Math.pow(2,31);function pN(r,e,t){e=e||[],t=t||0;for(var i=t;r>=s9;)e[t++]=r&255|$T,r/=128;for(;r&n9;)e[t++]=r&255|$T,r>>>=7;return e[t]=r|0,pN.bytes=t-i+1,e}var o9=Fw,a9=128,WT=127;function Fw(r,i){var t=0,i=i||0,n=0,s=i,o,a=r.length;do{if(s>=a)throw Fw.bytes=0,new RangeError("Could not decode varint");o=r[s++],t+=n<28?(o&WT)<<n:(o&WT)*Math.pow(2,n),n+=7}while(o>=a9);return Fw.bytes=s-i,t}var u9=Math.pow(2,7),c9=Math.pow(2,14),l9=Math.pow(2,21),f9=Math.pow(2,28),h9=Math.pow(2,35),d9=Math.pow(2,42),p9=Math.pow(2,49),g9=Math.pow(2,56),y9=Math.pow(2,63),m9=function(r){return r<u9?1:r<c9?2:r<l9?3:r<f9?4:r<h9?5:r<d9?6:r<p9?7:r<g9?8:r<y9?9:10},w9={encode:r9,decode:o9,encodingLength:m9},gN=w9,YT=(r,e,t=0)=>(gN.encode(r,e,t),e),JT=r=>gN.encodingLength(r),Uw=(r,e)=>{let t=e.byteLength,i=JT(r),n=i+JT(t),s=new Uint8Array(n+t);return YT(r,s,0),YT(t,s,i),s.set(e,n),new qw(r,t,e,s)},qw=class{constructor(e,t,i,n){this.code=e,this.size=t,this.digest=i,this.bytes=n}},yN=({name:r,code:e,encode:t})=>new Vw(r,e,t),Vw=class{constructor(e,t,i){this.name=e,this.code=t,this.encode=i}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?Uw(this.code,t):t.then(i=>Uw(this.code,i))}else throw Error("Unknown type, must be binary type")}},mN=r=>async e=>new Uint8Array(await crypto.subtle.digest(r,e)),v9=yN({name:"sha2-256",code:18,encode:mN("SHA-256")}),E9=yN({name:"sha2-512",code:19,encode:mN("SHA-512")}),A9=Object.freeze({__proto__:null,sha256:v9,sha512:E9}),wN=0,I9="identity",vN=fN,_9=r=>Uw(wN,vN(r)),b9={code:wN,name:I9,encode:vN,digest:_9},C9=Object.freeze({__proto__:null,identity:b9});new TextEncoder,new TextDecoder;var XT={...vH,...AH,..._H,...CH,...TH,...UH,...HH,...GH,...WH,...t9};({...A9,...C9});function S9(r=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(r):new Uint8Array(r)}function EN(r,e,t,i){return{name:r,prefix:e,encoder:{name:r,prefix:e,encode:t},decoder:{decode:i}}}var ZT=EN("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>new TextEncoder().encode(r.substring(1))),Ow=EN("ascii","a",r=>{let e="a";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e},r=>{r=r.substring(1);let e=S9(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}),x9={utf8:ZT,"utf-8":ZT,hex:XT.base16,latin1:Ow,ascii:Ow,binary:Ow,...XT};function T9(r,e="utf8"){let t=x9[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(r,"utf8"):t.decoder.decode(`${t.prefix}${r}`)}var Gw="wc",AN=2,tp="core",rn=`${Gw}@${2}:${tp}:`,IN={name:tp,logger:"error"},_N={database:":memory:"},bN="crypto",Hw="client_ed25519_seed",CN=Ut.ONE_DAY,SN="keychain",xN="0.3",TN="messages",NN="0.3",DN=Ut.SIX_HOURS,ON="publisher",BN="irn",MN="error",PN="wss://relay.walletconnect.com",RN="relayer",fu={message:"relayer_message",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error"},LN="_subscription",io={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},FN=Ut.ONE_SECOND,N9={database:":memory:"},UN="2.1.3",qN="0.3",Di={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},D9=Ut.THIRTY_DAYS,VN="subscription",HN="0.3",QN=Ut.FIVE_SECONDS*1e3,jN="pairing",GN="0.3",O9=Ut.THIRTY_DAYS,lu={wc_pairingDelete:{req:{ttl:Ut.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:Ut.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:Ut.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:Ut.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:Ut.ONE_DAY,prompt:!1,tag:0},res:{ttl:Ut.ONE_DAY,prompt:!1,tag:0}}},Yr={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},KN="history",zN="0.3",kN="expirer",Lr={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},$N="0.3",B9=Ut.ONE_DAY,Gd=class{constructor(e,t){this.core=e,this.logger=t,this.keychain=new Map,this.name=SN,this.version=xN,this.initialized=!1,this.storagePrefix=rn,this.init=async()=>{if(!this.initialized){let i=await this.getKeyChain();typeof i<"u"&&(this.keychain=i),this.initialized=!0}},this.has=i=>(this.isInitialized(),this.keychain.has(i)),this.set=async(i,n)=>{this.isInitialized(),this.keychain.set(i,n),await this.persist()},this.get=i=>{this.isInitialized();let n=this.keychain.get(i);if(typeof n>"u"){let{message:s}=fe.getInternalError("NO_MATCHING_KEY",`${this.name}: ${i}`);throw new Error(s)}return n},this.del=async i=>{this.isInitialized(),this.keychain.delete(i),await this.persist()},this.core=e,this.logger=rt.generateChildLogger(t,this.name)}get context(){return rt.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,fe.mapToObj(e))}async getKeyChain(){let e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?fe.objToMap(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){let{message:e}=fe.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}},Kd=class{constructor(e,t,i){this.core=e,this.logger=t,this.name=bN,this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=n=>(this.isInitialized(),this.keychain.has(n)),this.getClientId=async()=>{this.isInitialized();let n=await this.getClientSeed(),s=Qd.generateKeyPair(n);return Qd.encodeIss(s.publicKey)},this.generateKeyPair=()=>{this.isInitialized();let n=fe.generateKeyPair();return this.setPrivateKey(n.publicKey,n.privateKey)},this.signJWT=async n=>{this.isInitialized();let s=await this.getClientSeed(),o=Qd.generateKeyPair(s),a=fe.generateRandomBytes32(),u=CN;return await Qd.signJWT(a,n,u,o)},this.generateSharedKey=(n,s,o)=>{this.isInitialized();let a=this.getPrivateKey(n),u=fe.deriveSymKey(a,s);return this.setSymKey(u,o)},this.setSymKey=async(n,s)=>{this.isInitialized();let o=s||fe.hashKey(n);return await this.keychain.set(o,n),o},this.deleteKeyPair=async n=>{this.isInitialized(),await this.keychain.del(n)},this.deleteSymKey=async n=>{this.isInitialized(),await this.keychain.del(n)},this.encode=async(n,s,o)=>{this.isInitialized();let a=fe.validateEncoding(o),u=kT.safeJsonStringify(s);if(fe.isTypeOneEnvelope(a)){let O=a.senderPublicKey,B=a.receiverPublicKey;n=await this.generateSharedKey(O,B)}let h=this.getSymKey(n),{type:p,senderPublicKey:m}=a;return fe.encrypt({type:p,symKey:h,message:u,senderPublicKey:m})},this.decode=async(n,s,o)=>{this.isInitialized();let a=fe.validateDecoding(s,o);if(fe.isTypeOneEnvelope(a)){let p=a.receiverPublicKey,m=a.senderPublicKey;n=await this.generateSharedKey(p,m)}let u=this.getSymKey(n),h=fe.decrypt({symKey:u,encoded:s});return kT.safeJsonParse(h)},this.core=e,this.logger=rt.generateChildLogger(t,this.name),this.keychain=i||new Gd(this.core,this.logger)}get context(){return rt.getLoggerContext(this.logger)}getPayloadType(e){let t=fe.deserialize(e);return fe.decodeTypeByte(t.type)}async setPrivateKey(e,t){return await this.keychain.set(e,t),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(Hw)}catch{e=fe.generateRandomBytes32(),await this.keychain.set(Hw,e)}return T9(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){let{message:e}=fe.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}},zd=class extends Vn.IMessageTracker{constructor(e,t){super(e,t),this.logger=e,this.core=t,this.messages=new Map,this.name=TN,this.version=NN,this.initialized=!1,this.storagePrefix=rn,this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{let i=await this.getRelayerMessages();typeof i<"u"&&(this.messages=i),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(i){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(i)}finally{this.initialized=!0}}},this.set=async(i,n)=>{this.isInitialized();let s=fe.hashMessage(n),o=this.messages.get(i);return typeof o>"u"&&(o={}),typeof o[s]<"u"||(o[s]=n,this.messages.set(i,o),await this.persist()),s},this.get=i=>{this.isInitialized();let n=this.messages.get(i);return typeof n>"u"&&(n={}),n},this.has=(i,n)=>{this.isInitialized();let s=this.get(i),o=fe.hashMessage(n);return typeof s[o]<"u"},this.del=async i=>{this.isInitialized(),this.messages.delete(i),await this.persist()},this.logger=rt.generateChildLogger(e,this.name),this.core=t}get context(){return rt.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,fe.mapToObj(e))}async getRelayerMessages(){let e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?fe.objToMap(e):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){let{message:e}=fe.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}},Qw=class extends Vn.IPublisher{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,this.events=new no.EventEmitter,this.name=ON,this.queue=new Map,this.publish=async(i,n,s)=>{this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:i,message:n,opts:s}});try{let o=s?.ttl||DN,a=fe.getRelayProtocolName(s),u=s?.prompt||!1,h=s?.tag||0,p={topic:i,message:n,opts:{ttl:o,relay:a,prompt:u,tag:h}},m=fe.hashMessage(n);this.queue.set(m,p),await this.rpcPublish(i,n,o,a,u,h),this.onPublish(m,p),this.logger.debug("Successfully Published Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:i,message:n,opts:s}})}catch(o){throw this.logger.debug("Failed to Publish Payload"),this.logger.error(o),o}},this.on=(i,n)=>{this.events.on(i,n)},this.once=(i,n)=>{this.events.once(i,n)},this.off=(i,n)=>{this.events.off(i,n)},this.removeListener=(i,n)=>{this.events.removeListener(i,n)},this.relayer=e,this.logger=rt.generateChildLogger(t,this.name),this.registerEventListeners()}get context(){return rt.getLoggerContext(this.logger)}rpcPublish(e,t,i,n,s,o){var a,u,h,p;let m={method:fe.getRelayProtocolApi(n.protocol).publish,params:{topic:e,message:t,ttl:i,prompt:s,tag:o}};return fe.isUndefined((a=m.params)==null?void 0:a.prompt)&&((u=m.params)==null||delete u.prompt),fe.isUndefined((h=m.params)==null?void 0:h.tag)&&((p=m.params)==null||delete p.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:m}),this.relayer.provider.request(m)}onPublish(e,t){this.queue.delete(e)}checkQueue(){this.queue.forEach(async e=>{let{topic:t,message:i,opts:{ttl:n,relay:s,prompt:o,tag:a}}=e,u=fe.hashMessage(i);await this.rpcPublish(t,i,n,s,o,a),this.onPublish(u,e)})}registerEventListeners(){this.relayer.core.heartbeat.on(Zd.HEARTBEAT_EVENTS.pulse,()=>{this.checkQueue()})}},jw=class{constructor(){this.map=new Map,this.set=(e,t)=>{let i=this.get(e);this.exists(e,t)||this.map.set(e,[...i,t])},this.get=e=>this.map.get(e)||[],this.exists=(e,t)=>this.get(e).includes(t),this.delete=(e,t)=>{if(typeof t>"u"){this.map.delete(e);return}if(!this.map.has(e))return;let i=this.get(e);if(!this.exists(e,t))return;let n=i.filter(s=>s!==t);if(!n.length){this.map.delete(e);return}this.map.set(e,n)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}},M9=Object.defineProperty,P9=Object.defineProperties,R9=Object.getOwnPropertyDescriptors,eN=Object.getOwnPropertySymbols,L9=Object.prototype.hasOwnProperty,F9=Object.prototype.propertyIsEnumerable,tN=(r,e,t)=>e in r?M9(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,jd=(r,e)=>{for(var t in e||(e={}))L9.call(e,t)&&tN(r,t,e[t]);if(eN)for(var t of eN(e))F9.call(e,t)&&tN(r,t,e[t]);return r},Bw=(r,e)=>P9(r,R9(e)),kd=class extends Vn.ISubscriber{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,this.subscriptions=new Map,this.topicMap=new jw,this.events=new no.EventEmitter,this.name=VN,this.version=HN,this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pendingSubInterval=20,this.storagePrefix=rn,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restart(),this.registerEventListeners(),this.onEnable())},this.subscribe=async(i,n)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:i,opts:n}});try{let s=fe.getRelayProtocolName(n),o={topic:i,relay:s};this.pending.set(i,o);let a=await this.rpcSubscribe(i,s);return this.onSubscribe(a,o),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:i,opts:n}}),a}catch(s){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(s),s}},this.unsubscribe=async(i,n)=>{this.isInitialized(),typeof n?.id<"u"?await this.unsubscribeById(i,n.id,n):await this.unsubscribeByTopic(i,n)},this.isSubscribed=async i=>this.topics.includes(i)?!0:await new Promise((n,s)=>{let o=new Ut.Watch;o.start(this.pendingSubscriptionWatchLabel);let a=setInterval(()=>{!this.pending.has(i)&&this.topics.includes(i)&&(clearInterval(a),o.stop(this.pendingSubscriptionWatchLabel),n(!0)),o.elapsed(this.pendingSubscriptionWatchLabel)>=QN&&(clearInterval(a),o.stop(this.pendingSubscriptionWatchLabel),s(!1))},this.pendingSubInterval)}),this.on=(i,n)=>{this.events.on(i,n)},this.once=(i,n)=>{this.events.once(i,n)},this.off=(i,n)=>{this.events.off(i,n)},this.removeListener=(i,n)=>{this.events.removeListener(i,n)},this.restart=async()=>{await this.restore(),await this.reset()},this.relayer=e,this.logger=rt.generateChildLogger(t,this.name)}get context(){return rt.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(e,t){let i=!1;try{i=this.getSubscription(e).topic===t}catch{}return i}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear(),this.initialized=!1}async unsubscribeByTopic(e,t){let i=this.topicMap.get(e);await Promise.all(i.map(async n=>await this.unsubscribeById(e,n,t)))}async unsubscribeById(e,t,i){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:i}});try{let n=fe.getRelayProtocolName(i);await this.rpcUnsubscribe(e,t,n);let s=fe.getSdkError("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,t,s),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:i}})}catch(n){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(n),n}}async rpcSubscribe(e,t){let i={method:fe.getRelayProtocolApi(t.protocol).subscribe,params:{topic:e}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),await this.relayer.provider.request(i)}rpcUnsubscribe(e,t,i){let n={method:fe.getRelayProtocolApi(i.protocol).unsubscribe,params:{topic:e,id:t}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n}),this.relayer.provider.request(n)}onSubscribe(e,t){this.setSubscription(e,Bw(jd({},t),{id:e})),this.pending.delete(t.topic)}onResubscribe(e,t){this.addSubscription(e,Bw(jd({},t),{id:e})),this.pending.delete(t.topic)}async onUnsubscribe(e,t,i){this.events.removeAllListeners(t),this.hasSubscription(t,e)&&this.deleteSubscription(t,i),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,t){this.subscriptions.has(e)||(this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:t}),this.addSubscription(e,t))}addSubscription(e,t){this.subscriptions.set(e,jd({},t)),this.topicMap.set(t.topic,e),this.events.emit(Di.created,t)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});let t=this.subscriptions.get(e);if(!t){let{message:i}=fe.getInternalError("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(i)}return t}deleteSubscription(e,t){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:t});let i=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(i.topic,e),this.events.emit(Di.deleted,Bw(jd({},i),{reason:t}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(Di.sync)}async reset(){this.cached.length&&await Promise.all(this.cached.map(async e=>await this.resubscribe(e))),this.events.emit(Di.resubscribed)}async restore(){try{let e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){let{message:t}=fe.getInternalError("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async resubscribe(e){if(!this.ids.includes(e.id)){let{topic:t,relay:i}=e,n={topic:t,relay:i};this.pending.set(n.topic,n);let s=await this.rpcSubscribe(n.topic,n.relay);this.onResubscribe(s,n)}}async onConnect(){await this.restart(),this.onEnable()}onDisconnect(){this.onDisable()}checkPending(){this.relayer.transportExplicitlyClosed||this.pending.forEach(async e=>{let t=await this.rpcSubscribe(e.topic,e.relay);this.onSubscribe(t,e)})}registerEventListeners(){this.relayer.core.heartbeat.on(Zd.HEARTBEAT_EVENTS.pulse,()=>{this.checkPending()}),this.relayer.provider.on(io.connect,async()=>{await this.onConnect()}),this.relayer.provider.on(io.disconnect,()=>{this.onDisconnect()}),this.events.on(Di.created,async e=>{let t=Di.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),await this.persist()}),this.events.on(Di.deleted,async e=>{let t=Di.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),await this.persist()})}isInitialized(){if(!this.initialized){let{message:e}=fe.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}},U9=Object.defineProperty,rN=Object.getOwnPropertySymbols,q9=Object.prototype.hasOwnProperty,V9=Object.prototype.propertyIsEnumerable,iN=(r,e,t)=>e in r?U9(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,H9=(r,e)=>{for(var t in e||(e={}))q9.call(e,t)&&iN(r,t,e[t]);if(rN)for(var t of rN(e))V9.call(e,t)&&iN(r,t,e[t]);return r},$d=class extends Vn.IRelayer{constructor(e){super(e),this.protocol="wc",this.version=2,this.events=new no.EventEmitter,this.name=RN,this.transportExplicitlyClosed=!1,this.initialized=!1,this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?rt.generateChildLogger(e.logger,this.name):lN.default(rt.getDefaultLoggerOptions({level:e.logger||MN})),this.messages=new zd(this.logger,e.core),this.subscriber=new kd(this,this.logger),this.publisher=new Qw(this,this.logger),this.relayUrl=e?.relayUrl||PN,this.projectId=e.projectId,this.provider={}}async init(){this.logger.trace("Initialized"),this.provider=await this.createProvider(),await Promise.all([this.messages.init(),this.provider.connect(),this.subscriber.init()]),this.registerEventListeners(),this.initialized=!0}get context(){return rt.getLoggerContext(this.logger)}get connected(){return this.provider.connection.connected}get connecting(){return this.provider.connection.connecting}async publish(e,t,i){this.isInitialized(),await this.publisher.publish(e,t,i),await this.recordMessageEvent({topic:e,message:t})}async subscribe(e,t){return this.isInitialized(),await this.subscriber.subscribe(e,t)}async unsubscribe(e,t){this.isInitialized(),await this.subscriber.unsubscribe(e,t)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async transportClose(){this.transportExplicitlyClosed=!0,await this.provider.disconnect()}async transportOpen(e){this.relayUrl=e||this.relayUrl,this.transportExplicitlyClosed=!1,await this.provider.connect(),await new Promise(t=>{this.subscriber.once(Di.resubscribed,()=>{t()})})}async createProvider(){let e=await this.core.crypto.signJWT(this.relayUrl);return new iH.JsonRpcProvider(new cH.default(fe.formatRelayRpcUrl({sdkVersion:UN,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e})))}async recordMessageEvent(e){let{topic:t,message:i}=e;await this.messages.set(t,i)}async shouldIgnoreMessageEvent(e){let{topic:t,message:i}=e;return await this.subscriber.isSubscribed(t)?this.messages.has(t,i):!0}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),Jr.isJsonRpcRequest(e)){if(!e.method.endsWith(LN))return;let t=e.params,{topic:i,message:n}=t.data,s={topic:i,message:n};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(H9({type:"event",event:t.id},s)),this.events.emit(t.id,s),await this.acknowledgePayload(e),await this.onMessageEvent(s)}}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(this.events.emit(fu.message,e),await this.recordMessageEvent(e))}async acknowledgePayload(e){let t=Jr.formatJsonRpcResult(e.id,!0);await this.provider.connection.send(t)}registerEventListeners(){this.provider.on(io.payload,e=>this.onProviderPayload(e)),this.provider.on(io.connect,()=>{this.events.emit(fu.connect)}),this.provider.on(io.disconnect,()=>{this.events.emit(fu.disconnect),this.attemptToReconnect()}),this.provider.on(io.error,e=>this.events.emit(fu.error,e))}attemptToReconnect(){this.transportExplicitlyClosed||setTimeout(()=>{this.provider.connect()},Ut.toMiliseconds(FN))}isInitialized(){if(!this.initialized){let{message:e}=fe.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}},Q9=Object.defineProperty,nN=Object.getOwnPropertySymbols,j9=Object.prototype.hasOwnProperty,G9=Object.prototype.propertyIsEnumerable,sN=(r,e,t)=>e in r?Q9(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,oN=(r,e)=>{for(var t in e||(e={}))j9.call(e,t)&&sN(r,t,e[t]);if(nN)for(var t of nN(e))G9.call(e,t)&&sN(r,t,e[t]);return r},Wd=class extends Vn.IStore{constructor(e,t,i,n=rn,s=void 0){super(e,t,i,n),this.core=e,this.logger=t,this.name=i,this.map=new Map,this.version=qN,this.cached=[],this.initialized=!1,this.storagePrefix=rn,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{fe.isProposalStruct(o)?this.map.set(o.id,o):fe.isSessionStruct(o)?this.map.set(o.topic,o):this.getKey&&o!==null&&!fe.isUndefined(o)&&this.map.set(this.getKey(o),o)}),this.cached=[],this.initialized=!0)},this.set=async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())},this.get=o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o)),this.getAll=o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(u=>lH.default(a[u],o[u]))):this.values),this.update=async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});let u=oN(oN({},this.getData(o)),a);this.map.set(o,u),await this.persist()},this.delete=async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),await this.persist())},this.logger=rt.generateChildLogger(t,this.name),this.storagePrefix=n,this.getKey=s}get context(){return rt.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){let t=this.map.get(e);if(!t){let{message:i}=fe.getInternalError("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}return t}async persist(){await this.setDataStore(this.values)}async restore(){try{let e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){let{message:t}=fe.getInternalError("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){let{message:e}=fe.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}},Yd=class{constructor(e,t){this.core=e,this.logger=t,this.name=jN,this.version=GN,this.events=new aH.default,this.initialized=!1,this.storagePrefix=rn,this.ignoredPayloadTypes=[fe.TYPE_1],this.registeredMethods=[],this.init=async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))},this.register=({methods:i})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...i])]},this.create=async()=>{this.isInitialized();let i=fe.generateRandomBytes32(),n=await this.core.crypto.setSymKey(i),s=fe.calcExpiry(Ut.FIVE_MINUTES),o={protocol:BN},a={topic:n,expiry:s,relay:o,active:!1},u=fe.formatUri({protocol:this.core.protocol,version:this.core.version,topic:n,symKey:i,relay:o});return await this.pairings.set(n,a),await this.core.relayer.subscribe(n),this.core.expirer.set(n,s),{topic:n,uri:u}},this.pair=async i=>{this.isInitialized(),this.isValidPair(i);let{topic:n,symKey:s,relay:o}=fe.parseUri(i.uri),a=fe.calcExpiry(Ut.FIVE_MINUTES),u={topic:n,relay:o,expiry:a,active:!1};return await this.pairings.set(n,u),await this.core.crypto.setSymKey(s,n),await this.core.relayer.subscribe(n,{relay:o}),this.core.expirer.set(n,a),i.activatePairing&&await this.activate({topic:n}),u},this.activate=async({topic:i})=>{this.isInitialized();let n=fe.calcExpiry(Ut.THIRTY_DAYS);await this.pairings.update(i,{active:!0,expiry:n}),this.core.expirer.set(i,n)},this.ping=async i=>{this.isInitialized(),await this.isValidPing(i);let{topic:n}=i;if(this.pairings.keys.includes(n)){let s=await this.sendRequest(n,"wc_pairingPing",{}),{done:o,resolve:a,reject:u}=fe.createDelayedPromise();this.events.once(fe.engineEvent("pairing_ping",s),({error:h})=>{h?u(h):a()}),await o()}},this.updateExpiry=async({topic:i,expiry:n})=>{this.isInitialized(),await this.pairings.update(i,{expiry:n})},this.updateMetadata=async({topic:i,metadata:n})=>{this.isInitialized(),await this.pairings.update(i,{peerMetadata:n})},this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=async i=>{this.isInitialized(),await this.isValidDisconnect(i);let{topic:n}=i;this.pairings.keys.includes(n)&&(await this.sendRequest(n,"wc_pairingDelete",fe.getSdkError("USER_DISCONNECTED")),await this.deletePairing(n))},this.sendRequest=async(i,n,s)=>{let o=Jr.formatJsonRpcRequest(n,s),a=await this.core.crypto.encode(i,o),u=lu[n].req;return this.core.history.set(i,o),await this.core.relayer.publish(i,a,u),o.id},this.sendResult=async(i,n,s)=>{let o=Jr.formatJsonRpcResult(i,s),a=await this.core.crypto.encode(n,o),u=await this.core.history.get(n,i),h=lu[u.request.method].res;await this.core.relayer.publish(n,a,h),await this.core.history.resolve(o)},this.sendError=async(i,n,s)=>{let o=Jr.formatJsonRpcError(i,s),a=await this.core.crypto.encode(n,o),u=await this.core.history.get(n,i),h=lu[u.request.method]?lu[u.request.method].res:lu.unregistered_method.res;await this.core.relayer.publish(n,a,h),await this.core.history.resolve(o)},this.deletePairing=async(i,n)=>{await this.core.relayer.unsubscribe(i),await Promise.all([this.pairings.delete(i,fe.getSdkError("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(i),n?Promise.resolve():this.core.expirer.del(i)])},this.cleanup=async()=>{let i=this.pairings.getAll().filter(n=>fe.isExpired(n.expiry));await Promise.all(i.map(n=>this.deletePairing(n.topic)))},this.onRelayEventRequest=i=>{let{topic:n,payload:s}=i;switch(s.method){case"wc_pairingPing":return this.onPairingPingRequest(n,s);case"wc_pairingDelete":return this.onPairingDeleteRequest(n,s);default:return this.onUnknownRpcMethodRequest(n,s)}},this.onRelayEventResponse=async i=>{let{topic:n,payload:s}=i,o=(await this.core.history.get(n,s.id)).request.method;switch(o){case"wc_pairingPing":return this.onPairingPingResponse(n,s);default:return this.onUnknownRpcMethodResponse(o)}},this.onPairingPingRequest=async(i,n)=>{let{id:s}=n;try{this.isValidPing({topic:i}),await this.sendResult(s,i,!0),this.events.emit("pairing_ping",{id:s,topic:i})}catch(o){await this.sendError(s,i,o),this.logger.error(o)}},this.onPairingPingResponse=(i,n)=>{let{id:s}=n;setTimeout(()=>{Jr.isJsonRpcResult(n)?this.events.emit(fe.engineEvent("pairing_ping",s),{}):Jr.isJsonRpcError(n)&&this.events.emit(fe.engineEvent("pairing_ping",s),{error:n.error})},500)},this.onPairingDeleteRequest=async(i,n)=>{let{id:s}=n;try{this.isValidDisconnect({topic:i}),await this.sendResult(s,i,!0),await this.deletePairing(i),this.events.emit("pairing_delete",{id:s,topic:i})}catch(o){await this.sendError(s,i,o),this.logger.error(o)}},this.onUnknownRpcMethodRequest=async(i,n)=>{let{id:s,method:o}=n;try{if(this.registeredMethods.includes(o))return;let a=fe.getSdkError("WC_METHOD_UNSUPPORTED",o);await this.sendError(s,i,a),this.logger.error(a)}catch(a){await this.sendError(s,i,a),this.logger.error(a)}},this.onUnknownRpcMethodResponse=i=>{this.registeredMethods.includes(i)||this.logger.error(fe.getSdkError("WC_METHOD_UNSUPPORTED",i))},this.isValidPair=i=>{if(!fe.isValidParams(i)){let{message:n}=fe.getInternalError("MISSING_OR_INVALID",`pair() params: ${i}`);throw new Error(n)}if(!fe.isValidUrl(i.uri)){let{message:n}=fe.getInternalError("MISSING_OR_INVALID",`pair() uri: ${i.uri}`);throw new Error(n)}},this.isValidPing=async i=>{if(!fe.isValidParams(i)){let{message:s}=fe.getInternalError("MISSING_OR_INVALID",`ping() params: ${i}`);throw new Error(s)}let{topic:n}=i;await this.isValidPairingTopic(n)},this.isValidDisconnect=async i=>{if(!fe.isValidParams(i)){let{message:s}=fe.getInternalError("MISSING_OR_INVALID",`disconnect() params: ${i}`);throw new Error(s)}let{topic:n}=i;await this.isValidPairingTopic(n)},this.isValidPairingTopic=async i=>{if(!fe.isValidString(i,!1)){let{message:n}=fe.getInternalError("MISSING_OR_INVALID",`pairing topic should be a string: ${i}`);throw new Error(n)}if(!this.pairings.keys.includes(i)){let{message:n}=fe.getInternalError("NO_MATCHING_KEY",`pairing topic doesn't exist: ${i}`);throw new Error(n)}if(fe.isExpired(this.pairings.get(i).expiry)){await this.deletePairing(i);let{message:n}=fe.getInternalError("EXPIRED",`pairing topic: ${i}`);throw new Error(n)}},this.core=e,this.logger=rt.generateChildLogger(t,this.name),this.pairings=new Wd(this.core,this.logger,this.name,this.storagePrefix)}get context(){return rt.getLoggerContext(this.logger)}isInitialized(){if(!this.initialized){let{message:e}=fe.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(fu.message,async e=>{let{topic:t,message:i}=e;if(this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(i)))return;let n=await this.core.crypto.decode(t,i);Jr.isJsonRpcRequest(n)?(this.core.history.set(t,n),this.onRelayEventRequest({topic:t,payload:n})):Jr.isJsonRpcResponse(n)&&(await this.core.history.resolve(n),this.onRelayEventResponse({topic:t,payload:n}))})}registerExpirerEvents(){this.core.expirer.on(Lr.expired,async e=>{let{topic:t}=fe.parseExpirerTarget(e.target);t&&this.pairings.keys.includes(t)&&(await this.deletePairing(t,!0),this.events.emit("pairing_expire",{topic:t}))})}},Jd=class extends Vn.IJsonRpcHistory{constructor(e,t){super(e,t),this.core=e,this.logger=t,this.records=new Map,this.events=new no.EventEmitter,this.name=KN,this.version=zN,this.cached=[],this.initialized=!1,this.storagePrefix=rn,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(i=>this.records.set(i.id,i)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(i,n,s)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:i,request:n,chainId:s}),this.records.has(n.id))return;let o={id:n.id,topic:i,request:{method:n.method,params:n.params||null},chainId:s};this.records.set(o.id,o),this.events.emit(Yr.created,o)},this.resolve=async i=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:i}),!this.records.has(i.id))return;let n=await this.getRecord(i.id);typeof n.response>"u"&&(n.response=Jr.isJsonRpcError(i)?{error:i.error}:{result:i.result},this.records.set(n.id,n),this.events.emit(Yr.updated,n))},this.get=async(i,n)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:i,id:n}),await this.getRecord(n)),this.delete=(i,n)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:n}),this.values.forEach(s=>{if(s.topic===i){if(typeof n<"u"&&s.id!==n)return;this.records.delete(s.id),this.events.emit(Yr.deleted,s)}})},this.exists=async(i,n)=>(this.isInitialized(),this.records.has(n)?(await this.getRecord(n)).topic===i:!1),this.on=(i,n)=>{this.events.on(i,n)},this.once=(i,n)=>{this.events.once(i,n)},this.off=(i,n)=>{this.events.off(i,n)},this.removeListener=(i,n)=>{this.events.removeListener(i,n)},this.logger=rt.generateChildLogger(t,this.name)}get context(){return rt.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){let e=[];return this.values.forEach(t=>{if(typeof t.response<"u")return;let i={topic:t.topic,request:Jr.formatJsonRpcRequest(t.request.method,t.request.params,t.id),chainId:t.chainId};return e.push(i)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();let t=this.records.get(e);if(!t){let{message:i}=fe.getInternalError("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(i)}return t}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(Yr.sync)}async restore(){try{let e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){let{message:t}=fe.getInternalError("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(Yr.created,e=>{let t=Yr.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e}),this.persist()}),this.events.on(Yr.updated,e=>{let t=Yr.updated;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e}),this.persist()}),this.events.on(Yr.deleted,e=>{let t=Yr.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e}),this.persist()})}isInitialized(){if(!this.initialized){let{message:e}=fe.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}},Xd=class extends Vn.IExpirer{constructor(e,t){super(e,t),this.core=e,this.logger=t,this.expirations=new Map,this.events=new no.EventEmitter,this.name=kN,this.version=$N,this.cached=[],this.initialized=!1,this.storagePrefix=rn,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(i=>this.expirations.set(i.target,i)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=i=>{try{let n=this.formatTarget(i);return typeof this.getExpiration(n)<"u"}catch{return!1}},this.set=(i,n)=>{this.isInitialized();let s=this.formatTarget(i),o={target:s,expiry:n};this.expirations.set(s,o),this.checkExpiry(s,o),this.events.emit(Lr.created,{target:s,expiration:o})},this.get=i=>{this.isInitialized();let n=this.formatTarget(i);return this.getExpiration(n)},this.del=i=>{this.isInitialized();let n=this.formatTarget(i);if(this.has(n)){let s=this.getExpiration(n);this.expirations.delete(n),this.events.emit(Lr.deleted,{target:n,expiration:s})}},this.on=(i,n)=>{this.events.on(i,n)},this.once=(i,n)=>{this.events.once(i,n)},this.off=(i,n)=>{this.events.off(i,n)},this.removeListener=(i,n)=>{this.events.removeListener(i,n)},this.logger=rt.generateChildLogger(t,this.name)}get context(){return rt.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return fe.formatTopicTarget(e);if(typeof e=="number")return fe.formatIdTarget(e);let{message:t}=fe.getInternalError("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(t)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Lr.sync)}async restore(){try{let e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){let{message:t}=fe.getInternalError("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){let t=this.expirations.get(e);if(!t){let{message:i}=fe.getInternalError("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}return t}checkExpiry(e,t){let{expiry:i}=t;Ut.toMiliseconds(i)-Date.now()<=0&&this.expire(e,t)}expire(e,t){this.expirations.delete(e),this.events.emit(Lr.expired,{target:e,expiration:t})}checkExpirations(){this.expirations.forEach((e,t)=>this.checkExpiry(t,e))}registerEventListeners(){this.core.heartbeat.on(Zd.HEARTBEAT_EVENTS.pulse,()=>this.checkExpirations()),this.events.on(Lr.created,e=>{let t=Lr.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(Lr.expired,e=>{let t=Lr.expired;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(Lr.deleted,e=>{let t=Lr.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()})}isInitialized(){if(!this.initialized){let{message:e}=fe.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}},K9=Object.defineProperty,aN=Object.getOwnPropertySymbols,z9=Object.prototype.hasOwnProperty,k9=Object.prototype.propertyIsEnumerable,uN=(r,e,t)=>e in r?K9(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,cN=(r,e)=>{for(var t in e||(e={}))z9.call(e,t)&&uN(r,t,e[t]);if(aN)for(var t of aN(e))k9.call(e,t)&&uN(r,t,e[t]);return r},hu=class extends Vn.ICore{constructor(e){super(e),this.protocol=Gw,this.version=AN,this.name=tp,this.events=new no.EventEmitter,this.initialized=!1,this.on=(i,n)=>this.events.on(i,n),this.once=(i,n)=>this.events.once(i,n),this.off=(i,n)=>this.events.off(i,n),this.removeListener=(i,n)=>this.events.removeListener(i,n),this.projectId=e?.projectId;let t=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:lN.default(rt.getDefaultLoggerOptions({level:e?.logger||IN.logger}));this.logger=rt.generateChildLogger(t,this.name),this.heartbeat=new Zd.HeartBeat,this.crypto=new Kd(this,this.logger,e?.keychain),this.history=new Jd(this,this.logger),this.expirer=new Xd(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new uH.default(cN(cN({},_N),e?.storageOptions)),this.relayer=new $d({core:this,logger:this.logger,relayUrl:e?.relayUrl,projectId:this.projectId}),this.pairing=new Yd(this,this.logger)}static async init(e){let t=new hu(e);return await t.initialize(),t}get context(){return rt.getLoggerContext(this.logger)}async start(){this.initialized||await this.initialize()}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.initialized=!0,this.logger.info("Core Initilization Success")}catch(e){throw this.logger.warn(`Core Initilization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}},$9=hu;ve.CORE_CONTEXT=tp,ve.CORE_DEFAULT=IN,ve.CORE_PROTOCOL=Gw,ve.CORE_STORAGE_OPTIONS=_N,ve.CORE_STORAGE_PREFIX=rn,ve.CORE_VERSION=AN,ve.CRYPTO_CLIENT_SEED=Hw,ve.CRYPTO_CONTEXT=bN,ve.CRYPTO_JWT_TTL=CN,ve.Core=$9,ve.Crypto=Kd,ve.EXPIRER_CONTEXT=kN,ve.EXPIRER_DEFAULT_TTL=B9,ve.EXPIRER_EVENTS=Lr,ve.EXPIRER_STORAGE_VERSION=$N,ve.Expirer=Xd,ve.HISTORY_CONTEXT=KN,ve.HISTORY_EVENTS=Yr,ve.HISTORY_STORAGE_VERSION=zN,ve.JsonRpcHistory=Jd,ve.KEYCHAIN_CONTEXT=SN,ve.KEYCHAIN_STORAGE_VERSION=xN,ve.KeyChain=Gd,ve.MESSAGES_CONTEXT=TN,ve.MESSAGES_STORAGE_VERSION=NN,ve.MessageTracker=zd,ve.PAIRING_CONTEXT=jN,ve.PAIRING_DEFAULT_TTL=O9,ve.PAIRING_RPC_OPTS=lu,ve.PAIRING_STORAGE_VERSION=GN,ve.PENDING_SUB_RESOLUTION_TIMEOUT=QN,ve.PUBLISHER_CONTEXT=ON,ve.PUBLISHER_DEFAULT_TTL=DN,ve.Pairing=Yd,ve.RELAYER_CONTEXT=RN,ve.RELAYER_DEFAULT_LOGGER=MN,ve.RELAYER_DEFAULT_PROTOCOL=BN,ve.RELAYER_DEFAULT_RELAY_URL=PN,ve.RELAYER_EVENTS=fu,ve.RELAYER_PROVIDER_EVENTS=io,ve.RELAYER_RECONNECT_TIMEOUT=FN,ve.RELAYER_SDK_VERSION=UN,ve.RELAYER_STORAGE_OPTIONS=N9,ve.RELAYER_SUBSCRIBER_SUFFIX=LN,ve.Relayer=$d,ve.STORE_STORAGE_VERSION=qN,ve.SUBSCRIBER_CONTEXT=VN,ve.SUBSCRIBER_DEFAULT_TTL=D9,ve.SUBSCRIBER_EVENTS=Di,ve.SUBSCRIBER_STORAGE_VERSION=HN,ve.Store=Wd,ve.Subscriber=kd,ve.default=hu});var s6=M(Mt=>{"use strict";f();Object.defineProperty(Mt,"__esModule",{value:!0});var W9=sh(),du=WN(),Kw=pm(),ZN=Om(),oe=yd(),e6=Gs(),Pt=Ks(),qt=(kc(),Xr(sr));function t6(r){return r&&typeof r=="object"&&"default"in r?r:{default:r}}var Y9=t6(W9),J9=t6(e6),Ww="wc",Yw=2,Jw="client",Xw=`${Ww}@${Yw}:${Jw}:`,rp={name:Jw,logger:"error",controller:!1,relayUrl:"wss://relay.walletconnect.com"},X9={session_proposal:"session_proposal",session_update:"session_update",session_extend:"session_extend",session_ping:"session_ping",session_delete:"session_delete",session_expire:"session_expire",session_request:"session_request",session_event:"session_event",proposal_expire:"proposal_expire"},Z9={database:":memory:"},eQ={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},tQ="history",rQ="0.3",r6="proposal",iQ=Pt.THIRTY_DAYS,i6="session",tl=Pt.SEVEN_DAYS,n6="engine",rl={wc_sessionPropose:{req:{ttl:Pt.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:Pt.FIVE_MINUTES,prompt:!1,tag:1101}},wc_sessionSettle:{req:{ttl:Pt.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:Pt.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:Pt.ONE_DAY,prompt:!1,tag:1104},res:{ttl:Pt.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:Pt.ONE_DAY,prompt:!1,tag:1106},res:{ttl:Pt.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:Pt.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:Pt.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:Pt.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:Pt.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:Pt.ONE_DAY,prompt:!1,tag:1112},res:{ttl:Pt.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:Pt.THIRTY_SECONDS,prompt:!1,tag:1114},res:{ttl:Pt.THIRTY_SECONDS,prompt:!1,tag:1115}}},nQ=Object.defineProperty,sQ=Object.defineProperties,oQ=Object.getOwnPropertyDescriptors,YN=Object.getOwnPropertySymbols,aQ=Object.prototype.hasOwnProperty,uQ=Object.prototype.propertyIsEnumerable,JN=(r,e,t)=>e in r?nQ(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Hn=(r,e)=>{for(var t in e||(e={}))aQ.call(e,t)&&JN(r,t,e[t]);if(YN)for(var t of YN(e))uQ.call(e,t)&&JN(r,t,e[t]);return r},XN=(r,e)=>sQ(r,oQ(e)),zw=class extends ZN.IEngine{constructor(e){super(e),this.name=n6,this.events=new J9.default,this.initialized=!1,this.ignoredPayloadTypes=[oe.TYPE_1],this.init=async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.client.core.pairing.register({methods:Object.keys(rl)}),this.initialized=!0)},this.connect=async t=>{this.isInitialized(),await this.isValidConnect(t);let{pairingTopic:i,requiredNamespaces:n,relays:s}=t,o=i,a,u=!1;if(o&&(u=this.client.core.pairing.pairings.get(o).active),!o||!u){let{topic:H,uri:G}=await this.client.core.pairing.create();o=H,a=G}let h=await this.client.core.crypto.generateKeyPair(),p={requiredNamespaces:n,relays:s??[{protocol:du.RELAYER_DEFAULT_PROTOCOL}],proposer:{publicKey:h,metadata:this.client.metadata}},{reject:m,resolve:O,done:B}=oe.createDelayedPromise();if(this.events.once(oe.engineEvent("session_connect"),async({error:H,session:G})=>{if(H)m(H);else if(G){G.self.publicKey=h;let ie=XN(Hn({},G),{requiredNamespaces:n});await this.client.session.set(G.topic,ie),await this.setExpiry(G.topic,G.expiry),o&&await this.client.core.pairing.updateMetadata({topic:o,metadata:G.peer.metadata}),O(ie)}}),!o){let{message:H}=oe.getInternalError("NO_MATCHING_KEY",`connect() pairing topic: ${o}`);throw new Error(H)}let x=await this.sendRequest(o,"wc_sessionPropose",p),V=oe.calcExpiry(Pt.FIVE_MINUTES);return await this.setProposal(x,Hn({id:x,expiry:V},p)),{uri:a,approval:B}},this.pair=async t=>(this.isInitialized(),await this.client.core.pairing.pair(t)),this.approve=async t=>{this.isInitialized(),await this.isValidApprove(t);let{id:i,relayProtocol:n,namespaces:s}=t,{pairingTopic:o,proposer:a,requiredNamespaces:u}=this.client.proposal.get(i),h=await this.client.core.crypto.generateKeyPair(),p=a.publicKey,m=await this.client.core.crypto.generateSharedKey(h,p),O={relay:{protocol:n??"irn"},namespaces:s,requiredNamespaces:u,controller:{publicKey:h,metadata:this.client.metadata},expiry:oe.calcExpiry(tl)};await this.client.core.relayer.subscribe(m);let B=await this.sendRequest(m,"wc_sessionSettle",O),{done:x,resolve:V,reject:H}=oe.createDelayedPromise();this.events.once(oe.engineEvent("session_approve",B),({error:ie})=>{ie?H(ie):V(this.client.session.get(m))});let G=XN(Hn({},O),{topic:m,acknowledged:!1,self:O.controller,peer:{publicKey:a.publicKey,metadata:a.metadata},controller:h});return await this.client.session.set(m,G),await this.setExpiry(m,oe.calcExpiry(tl)),o&&await this.client.core.pairing.updateMetadata({topic:o,metadata:G.peer.metadata}),o&&i&&(await this.sendResult(i,o,{relay:{protocol:n??"irn"},responderPublicKey:h}),await this.client.proposal.delete(i,oe.getSdkError("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:o})),{topic:m,acknowledged:x}},this.reject=async t=>{this.isInitialized(),await this.isValidReject(t);let{id:i,reason:n}=t,{pairingTopic:s}=this.client.proposal.get(i);s&&(await this.sendError(i,s,n),await this.client.proposal.delete(i,oe.getSdkError("USER_DISCONNECTED")))},this.update=async t=>{this.isInitialized(),await this.isValidUpdate(t);let{topic:i,namespaces:n}=t,s=await this.sendRequest(i,"wc_sessionUpdate",{namespaces:n}),{done:o,resolve:a,reject:u}=oe.createDelayedPromise();return this.events.once(oe.engineEvent("session_update",s),({error:h})=>{h?u(h):a()}),await this.client.session.update(i,{namespaces:n}),{acknowledged:o}},this.extend=async t=>{this.isInitialized(),await this.isValidExtend(t);let{topic:i}=t,n=await this.sendRequest(i,"wc_sessionExtend",{}),{done:s,resolve:o,reject:a}=oe.createDelayedPromise();return this.events.once(oe.engineEvent("session_extend",n),({error:u})=>{u?a(u):o()}),await this.setExpiry(i,oe.calcExpiry(tl)),{acknowledged:s}},this.request=async t=>{this.isInitialized(),await this.isValidRequest(t);let{chainId:i,request:n,topic:s}=t,o=await this.sendRequest(s,"wc_sessionRequest",{request:n,chainId:i}),{done:a,resolve:u,reject:h}=oe.createDelayedPromise();return this.events.once(oe.engineEvent("session_request",o),({error:p,result:m})=>{p?h(p):u(m)}),await a()},this.respond=async t=>{this.isInitialized(),await this.isValidRespond(t);let{topic:i,response:n}=t,{id:s}=n;qt.isJsonRpcResult(n)?await this.sendResult(s,i,n.result):qt.isJsonRpcError(n)&&await this.sendError(s,i,n.error)},this.ping=async t=>{this.isInitialized(),await this.isValidPing(t);let{topic:i}=t;if(this.client.session.keys.includes(i)){let n=await this.sendRequest(i,"wc_sessionPing",{}),{done:s,resolve:o,reject:a}=oe.createDelayedPromise();this.events.once(oe.engineEvent("session_ping",n),({error:u})=>{u?a(u):o()}),await s()}else this.client.core.pairing.pairings.keys.includes(i)&&await this.client.core.pairing.ping({topic:i})},this.emit=async t=>{this.isInitialized(),await this.isValidEmit(t);let{topic:i,event:n,chainId:s}=t;await this.sendRequest(i,"wc_sessionEvent",{event:n,chainId:s})},this.disconnect=async t=>{this.isInitialized(),await this.isValidDisconnect(t);let{topic:i}=t;this.client.session.keys.includes(i)?(await this.sendRequest(i,"wc_sessionDelete",oe.getSdkError("USER_DISCONNECTED")),await this.deleteSession(i)):await this.client.core.pairing.disconnect({topic:i})},this.find=t=>(this.isInitialized(),this.client.session.getAll().filter(i=>oe.isSessionCompatible(i,t))),this.deleteSession=async(t,i)=>{let{self:n}=this.client.session.get(t);await this.client.core.relayer.unsubscribe(t),await Promise.all([this.client.session.delete(t,oe.getSdkError("USER_DISCONNECTED")),this.client.core.crypto.deleteKeyPair(n.publicKey),this.client.core.crypto.deleteSymKey(t),i?Promise.resolve():this.client.core.expirer.del(t)])},this.deleteProposal=async(t,i)=>{await Promise.all([this.client.proposal.delete(t,oe.getSdkError("USER_DISCONNECTED")),i?Promise.resolve():this.client.core.expirer.del(t)])},this.setExpiry=async(t,i)=>{this.client.session.keys.includes(t)&&await this.client.session.update(t,{expiry:i}),this.client.core.expirer.set(t,i)},this.setProposal=async(t,i)=>{await this.client.proposal.set(t,i),this.client.core.expirer.set(t,i.expiry)},this.sendRequest=async(t,i,n)=>{let s=qt.formatJsonRpcRequest(i,n),o=await this.client.core.crypto.encode(t,s),a=rl[i].req;return this.client.core.history.set(t,s),this.client.core.relayer.publish(t,o,a),s.id},this.sendResult=async(t,i,n)=>{let s=qt.formatJsonRpcResult(t,n),o=await this.client.core.crypto.encode(i,s),a=await this.client.core.history.get(i,t),u=rl[a.request.method].res;this.client.core.relayer.publish(i,o,u),await this.client.core.history.resolve(s)},this.sendError=async(t,i,n)=>{let s=qt.formatJsonRpcError(t,n),o=await this.client.core.crypto.encode(i,s),a=await this.client.core.history.get(i,t),u=rl[a.request.method].res;this.client.core.relayer.publish(i,o,u),await this.client.core.history.resolve(s)},this.cleanup=async()=>{let t=[],i=[];this.client.session.getAll().forEach(n=>{oe.isExpired(n.expiry)&&t.push(n.topic)}),this.client.proposal.getAll().forEach(n=>{oe.isExpired(n.expiry)&&i.push(n.id)}),await Promise.all([...t.map(n=>this.deleteSession(n)),...i.map(n=>this.deleteProposal(n))])},this.onRelayEventRequest=t=>{let{topic:i,payload:n}=t,s=n.method;switch(s){case"wc_sessionPropose":return this.onSessionProposeRequest(i,n);case"wc_sessionSettle":return this.onSessionSettleRequest(i,n);case"wc_sessionUpdate":return this.onSessionUpdateRequest(i,n);case"wc_sessionExtend":return this.onSessionExtendRequest(i,n);case"wc_sessionPing":return this.onSessionPingRequest(i,n);case"wc_sessionDelete":return this.onSessionDeleteRequest(i,n);case"wc_sessionRequest":return this.onSessionRequest(i,n);case"wc_sessionEvent":return this.onSessionEventRequest(i,n);default:return this.client.logger.info(`Unsupported request method ${s}`)}},this.onRelayEventResponse=async t=>{let{topic:i,payload:n}=t,s=(await this.client.core.history.get(i,n.id)).request.method;switch(s){case"wc_sessionPropose":return this.onSessionProposeResponse(i,n);case"wc_sessionSettle":return this.onSessionSettleResponse(i,n);case"wc_sessionUpdate":return this.onSessionUpdateResponse(i,n);case"wc_sessionExtend":return this.onSessionExtendResponse(i,n);case"wc_sessionPing":return this.onSessionPingResponse(i,n);case"wc_sessionRequest":return this.onSessionRequestResponse(i,n);default:return this.client.logger.info(`Unsupported response method ${s}`)}},this.onSessionProposeRequest=async(t,i)=>{let{params:n,id:s}=i;try{this.isValidConnect(Hn({},i.params));let o=oe.calcExpiry(Pt.FIVE_MINUTES),a=Hn({id:s,pairingTopic:t,expiry:o},n);await this.setProposal(s,a),this.client.events.emit("session_proposal",{id:s,params:a})}catch(o){await this.sendError(s,t,o),this.client.logger.error(o)}},this.onSessionProposeResponse=async(t,i)=>{let{id:n}=i;if(qt.isJsonRpcResult(i)){let{result:s}=i;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:s});let o=this.client.proposal.get(n);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:o});let a=o.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:a});let u=s.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:u});let h=await this.client.core.crypto.generateSharedKey(a,u);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:h});let p=await this.client.core.relayer.subscribe(h);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:p}),await this.client.core.pairing.activate({topic:t})}else qt.isJsonRpcError(i)&&(await this.client.proposal.delete(n,oe.getSdkError("USER_DISCONNECTED")),this.events.emit(oe.engineEvent("session_connect"),{error:i.error}))},this.onSessionSettleRequest=async(t,i)=>{let{id:n,params:s}=i;try{this.isValidSessionSettleRequest(s);let{relay:o,controller:a,expiry:u,namespaces:h}=i.params,p={topic:t,relay:o,expiry:u,namespaces:h,acknowledged:!0,controller:a.publicKey,self:{publicKey:"",metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}};await this.sendResult(i.id,t,!0),this.events.emit(oe.engineEvent("session_connect"),{session:p})}catch(o){await this.sendError(n,t,o),this.client.logger.error(o)}},this.onSessionSettleResponse=async(t,i)=>{let{id:n}=i;qt.isJsonRpcResult(i)?(await this.client.session.update(t,{acknowledged:!0}),this.events.emit(oe.engineEvent("session_approve",n),{})):qt.isJsonRpcError(i)&&(await this.client.session.delete(t,oe.getSdkError("USER_DISCONNECTED")),this.events.emit(oe.engineEvent("session_approve",n),{error:i.error}))},this.onSessionUpdateRequest=async(t,i)=>{let{params:n,id:s}=i;try{this.isValidUpdate(Hn({topic:t},n)),await this.client.session.update(t,{namespaces:n.namespaces}),await this.sendResult(s,t,!0),this.client.events.emit("session_update",{id:s,topic:t,params:n})}catch(o){await this.sendError(s,t,o),this.client.logger.error(o)}},this.onSessionUpdateResponse=(t,i)=>{let{id:n}=i;qt.isJsonRpcResult(i)?this.events.emit(oe.engineEvent("session_update",n),{}):qt.isJsonRpcError(i)&&this.events.emit(oe.engineEvent("session_update",n),{error:i.error})},this.onSessionExtendRequest=async(t,i)=>{let{id:n}=i;try{this.isValidExtend({topic:t}),await this.setExpiry(t,oe.calcExpiry(tl)),await this.sendResult(n,t,!0),this.client.events.emit("session_extend",{id:n,topic:t})}catch(s){await this.sendError(n,t,s),this.client.logger.error(s)}},this.onSessionExtendResponse=(t,i)=>{let{id:n}=i;qt.isJsonRpcResult(i)?this.events.emit(oe.engineEvent("session_extend",n),{}):qt.isJsonRpcError(i)&&this.events.emit(oe.engineEvent("session_extend",n),{error:i.error})},this.onSessionPingRequest=async(t,i)=>{let{id:n}=i;try{this.isValidPing({topic:t}),await this.sendResult(n,t,!0),this.client.events.emit("session_ping",{id:n,topic:t})}catch(s){await this.sendError(n,t,s),this.client.logger.error(s)}},this.onSessionPingResponse=(t,i)=>{let{id:n}=i;setTimeout(()=>{qt.isJsonRpcResult(i)?this.events.emit(oe.engineEvent("session_ping",n),{}):qt.isJsonRpcError(i)&&this.events.emit(oe.engineEvent("session_ping",n),{error:i.error})},500)},this.onSessionDeleteRequest=async(t,i)=>{let{id:n}=i;try{this.isValidDisconnect({topic:t,reason:i.params}),await this.sendResult(n,t,!0),await this.deleteSession(t),this.client.events.emit("session_delete",{id:n,topic:t})}catch(s){await this.sendError(n,t,s),this.client.logger.error(s)}},this.onSessionRequest=async(t,i)=>{let{id:n,params:s}=i;try{this.isValidRequest(Hn({topic:t},s)),this.client.events.emit("session_request",{id:n,topic:t,params:s})}catch(o){await this.sendError(n,t,o),this.client.logger.error(o)}},this.onSessionRequestResponse=(t,i)=>{let{id:n}=i;qt.isJsonRpcResult(i)?this.events.emit(oe.engineEvent("session_request",n),{result:i.result}):qt.isJsonRpcError(i)&&this.events.emit(oe.engineEvent("session_request",n),{error:i.error})},this.onSessionEventRequest=async(t,i)=>{let{id:n,params:s}=i;try{this.isValidEmit(Hn({topic:t},s)),this.client.events.emit("session_event",{id:n,topic:t,params:s})}catch(o){await this.sendError(n,t,o),this.client.logger.error(o)}},this.isValidConnect=async t=>{if(!oe.isValidParams(t)){let{message:a}=oe.getInternalError("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(t)}`);throw new Error(a)}let{pairingTopic:i,requiredNamespaces:n,relays:s}=t;oe.isUndefined(i)||await this.isValidPairingTopic(i);let o=oe.isValidRequiredNamespaces(n,"connect()");if(o)throw new Error(o.message);if(!oe.isValidRelays(s,!0)){let{message:a}=oe.getInternalError("MISSING_OR_INVALID",`connect() relays: ${s}`);throw new Error(a)}},this.isValidApprove=async t=>{if(!oe.isValidParams(t))throw new Error(oe.getInternalError("MISSING_OR_INVALID",`approve() params: ${t}`).message);let{id:i,namespaces:n,relayProtocol:s}=t;await this.isValidProposalId(i);let o=this.client.proposal.get(i),a=oe.isValidNamespaces(n,"approve()");if(a)throw new Error(a.message);let u=oe.isConformingNamespaces(o.requiredNamespaces,n,"update()");if(u)throw new Error(u.message);if(!oe.isValidString(s,!0)){let{message:h}=oe.getInternalError("MISSING_OR_INVALID",`approve() relayProtocol: ${s}`);throw new Error(h)}},this.isValidReject=async t=>{if(!oe.isValidParams(t)){let{message:s}=oe.getInternalError("MISSING_OR_INVALID",`reject() params: ${t}`);throw new Error(s)}let{id:i,reason:n}=t;if(await this.isValidProposalId(i),!oe.isValidErrorReason(n)){let{message:s}=oe.getInternalError("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(n)}`);throw new Error(s)}},this.isValidSessionSettleRequest=t=>{if(!oe.isValidParams(t)){let{message:h}=oe.getInternalError("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${t}`);throw new Error(h)}let{relay:i,controller:n,namespaces:s,expiry:o}=t;if(!oe.isValidRelay(i)){let{message:h}=oe.getInternalError("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(h)}let a=oe.isValidController(n,"onSessionSettleRequest()");if(a)throw new Error(a.message);let u=oe.isValidNamespaces(s,"onSessionSettleRequest()");if(u)throw new Error(u.message);if(oe.isExpired(o)){let{message:h}=oe.getInternalError("EXPIRED","onSessionSettleRequest()");throw new Error(h)}},this.isValidUpdate=async t=>{if(!oe.isValidParams(t)){let{message:u}=oe.getInternalError("MISSING_OR_INVALID",`update() params: ${t}`);throw new Error(u)}let{topic:i,namespaces:n}=t;await this.isValidSessionTopic(i);let s=this.client.session.get(i),o=oe.isValidNamespaces(n,"update()");if(o)throw new Error(o.message);let a=oe.isConformingNamespaces(s.requiredNamespaces,n,"update()");if(a)throw new Error(a.message)},this.isValidExtend=async t=>{if(!oe.isValidParams(t)){let{message:n}=oe.getInternalError("MISSING_OR_INVALID",`extend() params: ${t}`);throw new Error(n)}let{topic:i}=t;await this.isValidSessionTopic(i)},this.isValidRequest=async t=>{if(!oe.isValidParams(t)){let{message:a}=oe.getInternalError("MISSING_OR_INVALID",`request() params: ${t}`);throw new Error(a)}let{topic:i,request:n,chainId:s}=t;await this.isValidSessionTopic(i);let{namespaces:o}=this.client.session.get(i);if(!oe.isValidNamespacesChainId(o,s)){let{message:a}=oe.getInternalError("MISSING_OR_INVALID",`request() chainId: ${s}`);throw new Error(a)}if(!oe.isValidRequest(n)){let{message:a}=oe.getInternalError("MISSING_OR_INVALID",`request() ${JSON.stringify(n)}`);throw new Error(a)}if(!oe.isValidNamespacesRequest(o,s,n.method)){let{message:a}=oe.getInternalError("MISSING_OR_INVALID",`request() method: ${n.method}`);throw new Error(a)}},this.isValidRespond=async t=>{if(!oe.isValidParams(t)){let{message:s}=oe.getInternalError("MISSING_OR_INVALID",`respond() params: ${t}`);throw new Error(s)}let{topic:i,response:n}=t;if(await this.isValidSessionTopic(i),!oe.isValidResponse(n)){let{message:s}=oe.getInternalError("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(n)}`);throw new Error(s)}},this.isValidPing=async t=>{if(!oe.isValidParams(t)){let{message:n}=oe.getInternalError("MISSING_OR_INVALID",`ping() params: ${t}`);throw new Error(n)}let{topic:i}=t;await this.isValidSessionOrPairingTopic(i)},this.isValidEmit=async t=>{if(!oe.isValidParams(t)){let{message:a}=oe.getInternalError("MISSING_OR_INVALID",`emit() params: ${t}`);throw new Error(a)}let{topic:i,event:n,chainId:s}=t;await this.isValidSessionTopic(i);let{namespaces:o}=this.client.session.get(i);if(!oe.isValidNamespacesChainId(o,s)){let{message:a}=oe.getInternalError("MISSING_OR_INVALID",`emit() chainId: ${s}`);throw new Error(a)}if(!oe.isValidEvent(n)){let{message:a}=oe.getInternalError("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(n)}`);throw new Error(a)}if(!oe.isValidNamespacesEvent(o,s,n.name)){let{message:a}=oe.getInternalError("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(n)}`);throw new Error(a)}},this.isValidDisconnect=async t=>{if(!oe.isValidParams(t)){let{message:n}=oe.getInternalError("MISSING_OR_INVALID",`disconnect() params: ${t}`);throw new Error(n)}let{topic:i}=t;await this.isValidSessionOrPairingTopic(i)}}isInitialized(){if(!this.initialized){let{message:e}=oe.getInternalError("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.client.core.relayer.on(du.RELAYER_EVENTS.message,async e=>{let{topic:t,message:i}=e;if(this.ignoredPayloadTypes.includes(this.client.core.crypto.getPayloadType(i)))return;let n=await this.client.core.crypto.decode(t,i);qt.isJsonRpcRequest(n)?(this.client.core.history.set(t,n),this.onRelayEventRequest({topic:t,payload:n})):qt.isJsonRpcResponse(n)&&(await this.client.core.history.resolve(n),this.onRelayEventResponse({topic:t,payload:n}))})}registerExpirerEvents(){this.client.core.expirer.on(du.EXPIRER_EVENTS.expired,async e=>{let{topic:t,id:i}=oe.parseExpirerTarget(e.target);t?this.client.session.keys.includes(t)&&(await this.deleteSession(t,!0),this.client.events.emit("session_expire",{topic:t})):i&&await this.deleteProposal(i,!0)})}isValidPairingTopic(e){if(!oe.isValidString(e,!1)){let{message:t}=oe.getInternalError("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(t)}if(!this.client.core.pairing.pairings.keys.includes(e)){let{message:t}=oe.getInternalError("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(t)}if(oe.isExpired(this.client.core.pairing.pairings.get(e).expiry)){let{message:t}=oe.getInternalError("EXPIRED",`pairing topic: ${e}`);throw new Error(t)}}async isValidSessionTopic(e){if(!oe.isValidString(e,!1)){let{message:t}=oe.getInternalError("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(t)}if(!this.client.session.keys.includes(e)){let{message:t}=oe.getInternalError("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(t)}if(oe.isExpired(this.client.session.get(e).expiry)){await this.deleteSession(e);let{message:t}=oe.getInternalError("EXPIRED",`session topic: ${e}`);throw new Error(t)}}async isValidSessionOrPairingTopic(e){if(this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(oe.isValidString(e,!1)){let{message:t}=oe.getInternalError("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(t)}else{let{message:t}=oe.getInternalError("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(t)}}async isValidProposalId(e){if(!oe.isValidId(e)){let{message:t}=oe.getInternalError("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(t)}if(!this.client.proposal.keys.includes(e)){let{message:t}=oe.getInternalError("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(t)}if(oe.isExpired(this.client.proposal.get(e).expiry)){await this.deleteProposal(e);let{message:t}=oe.getInternalError("EXPIRED",`proposal id: ${e}`);throw new Error(t)}}},kw=class extends du.Store{constructor(e,t){super(e,t,r6,Xw),this.core=e,this.logger=t}},$w=class extends du.Store{constructor(e,t){super(e,t,i6,Xw),this.core=e,this.logger=t}},pu=class extends ZN.ISignClient{constructor(e){super(e),this.protocol=Ww,this.version=Yw,this.name=rp.name,this.events=new e6.EventEmitter,this.on=(i,n)=>this.events.on(i,n),this.once=(i,n)=>this.events.once(i,n),this.off=(i,n)=>this.events.off(i,n),this.removeListener=(i,n)=>this.events.removeListener(i,n),this.connect=async i=>{try{return await this.engine.connect(i)}catch(n){throw this.logger.error(n.message),n}},this.pair=async i=>{try{return await this.engine.pair(i)}catch(n){throw this.logger.error(n.message),n}},this.approve=async i=>{try{return await this.engine.approve(i)}catch(n){throw this.logger.error(n.message),n}},this.reject=async i=>{try{return await this.engine.reject(i)}catch(n){throw this.logger.error(n.message),n}},this.update=async i=>{try{return await this.engine.update(i)}catch(n){throw this.logger.error(n.message),n}},this.extend=async i=>{try{return await this.engine.extend(i)}catch(n){throw this.logger.error(n.message),n}},this.request=async i=>{try{return await this.engine.request(i)}catch(n){throw this.logger.error(n.message),n}},this.respond=async i=>{try{return await this.engine.respond(i)}catch(n){throw this.logger.error(n.message),n}},this.ping=async i=>{try{return await this.engine.ping(i)}catch(n){throw this.logger.error(n.message),n}},this.emit=async i=>{try{return await this.engine.emit(i)}catch(n){throw this.logger.error(n.message),n}},this.disconnect=async i=>{try{return await this.engine.disconnect(i)}catch(n){throw this.logger.error(n.message),n}},this.find=i=>{try{return this.engine.find(i)}catch(n){throw this.logger.error(n.message),n}},this.name=e?.name||rp.name,this.metadata=e?.metadata||oe.getAppMetadata();let t=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:Y9.default(Kw.getDefaultLoggerOptions({level:e?.logger||rp.logger}));this.core=e?.core||new du.Core(e),this.logger=Kw.generateChildLogger(t,this.name),this.session=new $w(this.core,this.logger),this.proposal=new kw(this.core,this.logger),this.engine=new zw(this)}static async init(e){let t=new pu(e);return await t.initialize(),t}get context(){return Kw.getLoggerContext(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.engine.init(),this.logger.info("SignClient Initilization Success")}catch(e){throw this.logger.info("SignClient Initilization Failure"),this.logger.error(e.message),e}}},cQ=pu;Mt.ENGINE_CONTEXT=n6,Mt.ENGINE_RPC_OPTS=rl,Mt.HISTORY_CONTEXT=tQ,Mt.HISTORY_EVENTS=eQ,Mt.HISTORY_STORAGE_VERSION=rQ,Mt.PROPOSAL_CONTEXT=r6,Mt.PROPOSAL_EXPIRY=iQ,Mt.SESSION_CONTEXT=i6,Mt.SESSION_EXPIRY=tl,Mt.SIGN_CLIENT_CONTEXT=Jw,Mt.SIGN_CLIENT_DEFAULT=rp,Mt.SIGN_CLIENT_EVENTS=X9,Mt.SIGN_CLIENT_PROTOCOL=Ww,Mt.SIGN_CLIENT_STORAGE_OPTIONS=Z9,Mt.SIGN_CLIENT_STORAGE_PREFIX=Xw,Mt.SIGN_CLIENT_VERSION=Yw,Mt.SignClient=cQ,Mt.default=pu});var o6=M(gu=>{"use strict";f();Object.defineProperty(gu,"__esModule",{value:!0});gu.WALLETCONNECT_ELROND_NAMESPACE=gu.WALLETCONNECT_ELROND_CHAIN_ID=void 0;gu.WALLETCONNECT_ELROND_CHAIN_ID=508;gu.WALLETCONNECT_ELROND_NAMESPACE="elrond"});var a6=M(il=>{"use strict";f();Object.defineProperty(il,"__esModule",{value:!0});il.Operation=void 0;var lQ;(function(r){r.SIGN_TRANSACTION="erd_signTransaction",r.SIGN_TRANSACTIONS="erd_signTransactions",r.SIGN_MESSAGE="erd_signMessage",r.SIGN_LOGIN_TOKEN="erd_signLoginToken"})(lQ=il.Operation||(il.Operation={}))});var u6=M(ip=>{"use strict";f();Object.defineProperty(ip,"__esModule",{value:!0});ip.Logger=void 0;var Zw=class{static error(e){console.error(e)}static trace(e){console.trace(e)}};ip.Logger=Zw});var c6=M(yu=>{"use strict";f();Object.defineProperty(yu,"__esModule",{value:!0});yu.Signature=yu.Address=void 0;var ev=class{constructor(e){this.value=e}bech32(){return this.value}};yu.Address=ev;var nl=class{constructor(e){this.buffer=e}static fromHex(e){return new nl(y.Buffer.from(e,"hex"))}hex(){return this.buffer.toString("hex")}};yu.Signature=nl});var l6=M(Qn=>{"use strict";f();Object.defineProperty(Qn,"__esModule",{value:!0});Qn.ErrBadAddress=Qn.ErrNotImplemented=Qn.Err=void 0;var sl=class extends Error{constructor(e,t){super(e),this.inner=void 0,this.inner=t}};Qn.Err=sl;var tv=class extends sl{constructor(){super("Method not yet implemented")}};Qn.ErrNotImplemented=tv;var rv=class extends sl{constructor(e,t){super(`Bad address: ${e}`,t)}};Qn.ErrBadAddress=rv});var h6=M(Oi=>{"use strict";f();var fQ=Oi&&Oi.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),hQ=Oi&&Oi.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),dQ=Oi&&Oi.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&fQ(e,r,t);return hQ(e,r),e};Object.defineProperty(Oi,"__esModule",{value:!0});Oi.UserAddress=void 0;var pQ=dQ(Ql()),f6=l6(),gQ="erd",ol=class{constructor(e){this.value=e}static fromBech32(e){let t;try{t=pQ.decode(e)}catch(i){throw new f6.ErrBadAddress(e,i)}if(t.prefix!=gQ)throw new f6.ErrBadAddress(e);return new ol(e)}bech32(){return this.value}};Oi.UserAddress=ol});var sp=M(Gn=>{"use strict";f();var kt=Gn&&Gn.__awaiter||function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(p){try{h(i.next(p))}catch(m){o(m)}}function u(p){try{h(i.throw(p))}catch(m){o(m)}}function h(p){p.done?s(p.value):n(p.value).then(a,u)}h((i=i.apply(r,e||[])).next())})},yQ=Gn&&Gn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Gn,"__esModule",{value:!0});Gn.WalletConnectV2Provider=void 0;var mQ=yQ(s6()),d6=yd(),jn=o6(),al=a6(),je=u6(),ul=c6(),np=h6(),iv=class{constructor(e,t,i,n,s){this.chainId="",this.address="",this.signature="",this.isInitializing=!1,this.events=[],this.methods=[],this.options={},this.onClientConnect=e,this.chainId=t,this.walletConnectV2Relay=i,this.walletConnectV2ProjectId=n,this.options=s}init(){return kt(this,void 0,void 0,function*(){try{let e=yield mQ.default.init(Object.assign({relayUrl:this.walletConnectV2Relay,projectId:this.walletConnectV2ProjectId},this.options));this.walletConnector=e,yield this.subscribeToEvents(e),yield this.checkPersistedState(e)}catch{throw new Error("connect: WalletConnect is unable to init")}finally{this.isInitializing=!1}return!0})}isInitialized(){return!!this.walletConnector}isConnected(){return new Promise((e,t)=>e(Boolean(this.isInitialized()&&typeof this.session<"u")))}connect(e){var t,i;return kt(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u"&&(yield this.init()),typeof this.walletConnector>"u")throw new Error("WalletConnect is not initialized");let n=[...Object.values(al.Operation),...(t=e?.methods)!==null&&t!==void 0?t:[]],s=[`${jn.WALLETCONNECT_ELROND_NAMESPACE}:${this.chainId}`],o=(i=e?.events)!==null&&i!==void 0?i:[];try{let a=yield this.walletConnector.connect({pairingTopic:e?.topic,requiredNamespaces:{[jn.WALLETCONNECT_ELROND_NAMESPACE]:{methods:n,chains:s,events:o}}});return this.events=o,this.methods=n,a}catch{throw e?.topic?(yield this.logout({topic:e.topic}),je.Logger.error("connect: WalletConnect is unable to connect to existing pairing"),new Error("connect: WalletConnect is unable to connect to existing pairing")):(je.Logger.error("connect: WalletConnect is unable to connect"),new Error("connect: WalletConnect is unable to connect"))}})}login(e){return kt(this,void 0,void 0,function*(){if(this.isInitializing=!0,typeof this.walletConnector>"u"&&(yield this.connect()),typeof this.walletConnector>"u")throw new Error("WalletConnect is not initialized");typeof this.session<"u"&&(yield this.logout());try{if(e&&e.approval){let t=yield e.approval();if(e.token){let i=this.getAddressFromSession(t),{signature:n}=yield this.walletConnector.request({chainId:`${jn.WALLETCONNECT_ELROND_NAMESPACE}:${this.chainId}`,topic:t.topic,request:{method:al.Operation.SIGN_LOGIN_TOKEN,params:{token:e.token,address:i}}});if(!n)throw je.Logger.error("login: WalletConnect could not sign login token"),new Error("WalletConnect could not sign login token");return yield this.onSessionConnected({session:t,signature:n})}return yield this.onSessionConnected({session:t,signature:""})}}catch{throw je.Logger.error("login: WalletConnect is unable to login"),new Error("login: WalletConnect is unable to login")}finally{this.isInitializing=!1}return""})}logout(e){var t,i;return kt(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw je.Logger.error("logout: WalletConnect not initialised, call init() first"),new Error("WalletConnect not initialised, call init() first");try{let n=(t=e?.topic)!==null&&t!==void 0?t:(i=this.session)===null||i===void 0?void 0:i.topic;if(n){yield this.walletConnector.disconnect({topic:n,reason:d6.getSdkError("USER_DISCONNECTED")});let s=this.walletConnector.pairing.getAll({active:!0}).filter(o=>o.topic!==n);this.pairings=s}}catch{je.Logger.error("logout: WalletConnect was unable to logout")}return this.session=void 0,!0})}getAddress(){return kt(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw je.Logger.error("getAddress: WalletConnect not initialised, call init() first"),new Error("WalletConnect not initialised, call init() first");return this.address})}getSignature(){return kt(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw je.Logger.error("getSignature: WalletConnect not initialised, call init() first"),new Error("WalletConnect not initialised, call init() first");return this.signature})}getPairings(){var e;return kt(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw je.Logger.error("getPairings: WalletConnect not initialised, call init() first"),new Error("WalletConnect not initialised, call init() first");return(e=this.pairings)!==null&&e!==void 0?e:this.walletConnector.pairing.getAll({active:!0})})}signMessage(e){return kt(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw je.Logger.error("signMessage: WalletConnect not initialised, call init() first"),new Error("WalletConnect not initialised, call init() first");if(typeof this.session>"u")throw je.Logger.error("signMessage: Session is not connected"),this.onClientConnect.onClientLogout(),new Error("Session is not connected");let t=yield this.getAddress(),{signature:i}=yield this.walletConnector.request({chainId:`${jn.WALLETCONNECT_ELROND_NAMESPACE}:${this.chainId}`,topic:this.session.topic,request:{method:al.Operation.SIGN_MESSAGE,params:{address:t,message:e.message.toString()}}});if(!i)throw je.Logger.error("signMessage: WalletConnect could not sign the message"),new Error("WalletConnect could not sign the message");return e.applySignature(new ul.Signature(i),np.UserAddress.fromBech32(t)),e})}signTransaction(e){return kt(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw je.Logger.error("signTransaction: WalletConnect not initialised, call init() first"),new Error("WalletConnect not initialised, call init() first");if(typeof this.session>"u")throw je.Logger.error("signTransaction: Session is not connected"),this.onClientConnect.onClientLogout(),new Error("Session is not connected");let t=yield this.getAddress(),i=new ul.Address(t),n=e.toPlainObject(i);if(this.chainId!==e.getChainID().valueOf())throw je.Logger.error("signTransaction: Transaction Chain Id different than Connection Chain Id"),new Error("Transaction Chain Id different than Connection Chain Id");let{signature:s}=yield this.walletConnector.request({chainId:`${jn.WALLETCONNECT_ELROND_NAMESPACE}:${this.chainId}`,topic:this.session.topic,request:{method:al.Operation.SIGN_TRANSACTION,params:{transaction:n}}});if(!s)throw je.Logger.error("signTransaction: WalletConnect could not sign the transaction"),new Error("WalletConnect could not sign the transaction");return e.applySignature(ul.Signature.fromHex(s),np.UserAddress.fromBech32(t)),e})}signTransactions(e){return kt(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw je.Logger.error("signTransactions: WalletConnect not initialised, call init() first"),new Error("WalletConnect not initialised, call init() first");if(typeof this.session>"u")throw je.Logger.error("signTransactions: Session is not connected"),this.onClientConnect.onClientLogout(),new Error("Session is not connected");let t=yield this.getAddress(),i=new ul.Address(t),n=e.map(o=>{if(this.chainId!==o.getChainID().valueOf())throw je.Logger.error("signTransactions: Transaction Chain Id different than Connection Chain Id"),new Error("Transactions Chain Id different than Connection Chain Id");return o.toPlainObject(i)}),{signatures:s}=yield this.walletConnector.request({chainId:`${jn.WALLETCONNECT_ELROND_NAMESPACE}:${this.chainId}`,topic:this.session.topic,request:{method:al.Operation.SIGN_TRANSACTIONS,params:{transactions:n}}});if(!s||!Array.isArray(s))throw je.Logger.error("signTransactions: WalletConnect could not sign the transactions"),new Error("WalletConnect could not sign the transactions");if(e.length!==s.length)throw je.Logger.error("signTransactions: WalletConnect could not sign the transactions. Invalid signatures."),new Error("WalletConnect could not sign the transactions. Invalid signatures.");for(let[o,a]of e.entries())a.applySignature(ul.Signature.fromHex(s[o].signature),np.UserAddress.fromBech32(t));return e})}sendCustomRequest(e){return kt(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw je.Logger.error("sendCustomRequest: WalletConnect not initialised, call init() first"),new Error("WalletConnect not initialised, call init() first");if(typeof this.session>"u")throw je.Logger.error("sendCustomRequest: Session is not connected"),this.onClientConnect.onClientLogout(),new Error("Session is not connected");if(e?.request){let{response:t}=yield this.walletConnector.request({chainId:`${jn.WALLETCONNECT_ELROND_NAMESPACE}:${this.chainId}`,topic:this.session.topic,request:e.request});if(!t)throw je.Logger.error("sendCustomRequest: WalletConnect could not send the custom request"),new Error("WalletConnect could not send the custom request");return t}})}ping(){return kt(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw je.Logger.error("ping: WalletConnect not initialised, call init() first"),new Error("WalletConnect not initialised, call init() first");if(typeof this.session>"u")throw je.Logger.error("ping: Session is not connected"),this.onClientConnect.onClientLogout(),new Error("Session is not connected");try{return yield this.walletConnector.ping({topic:this.session.topic}),!0}catch{return je.Logger.error("ping: Ping failed"),!1}})}loginAccount(e){var t;return kt(this,void 0,void 0,function*(){if(!!e){if(this.addressIsValid(e.address)){this.address=e.address,e.signature&&(this.signature=e.signature),this.onClientConnect.onClientLogin();return}if(je.Logger.error(`WalletConnect invalid address ${e.address}`),((t=this.session)===null||t===void 0?void 0:t.topic)&&this.walletConnector){yield this.walletConnector.disconnect({topic:this.session.topic,reason:d6.getSdkError("USER_DISCONNECTED")});let i=this.walletConnector.pairing.getAll({active:!0});this.pairings=i}}})}onSessionConnected(e){return kt(this,void 0,void 0,function*(){if(!e)return"";this.session=e.session;let t=this.getAddressFromSession(e.session);return t&&(yield this.loginAccount({address:t,signature:e.signature})),""})}handleTopicUpdateEvent({topic:e}){var t;return kt(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw new Error("WalletConnect is not initialized");this.pairings=this.walletConnector.pairing.getAll({active:!0}),this.address&&!this.isInitializing&&(((t=this===null||this===void 0?void 0:this.session)===null||t===void 0?void 0:t.topic)===e||this.pairings.length===0)&&this.onClientConnect.onClientLogout()})}handleSessionEvents({topic:e,params:t}){var i;return kt(this,void 0,void 0,function*(){if(typeof this.walletConnector>"u")throw new Error("WalletConnect is not initialized");let{event:n}=t;if(n?.name&&((i=this.session)===null||i===void 0?void 0:i.topic)===e){let s=n.data;this.onClientConnect.onClientEvent(s)}})}subscribeToEvents(e){return kt(this,void 0,void 0,function*(){if(typeof e>"u")throw new Error("WalletConnect is not initialized");e.on("session_update",({topic:t,params:i})=>{let{namespaces:n}=i,s=e.session.get(t),o=Object.assign(Object.assign({},s),{namespaces:n});this.onSessionConnected({session:o})}),e.on("session_event",this.handleSessionEvents.bind(this)),e.on("session_delete",this.handleTopicUpdateEvent.bind(this)),e.on("session_expire",this.handleTopicUpdateEvent.bind(this))})}checkPersistedState(e){return kt(this,void 0,void 0,function*(){if(typeof e>"u")throw new Error("WalletConnect is not initialized");if(this.pairings=e.pairing.getAll({active:!0}),!(typeof this.session<"u")&&e.session.length&&!this.address&&!this.isInitializing){let t=e.session.keys.length-1,i=e.session.get(e.session.keys[t]);return yield this.onSessionConnected({session:i}),i}})}addressIsValid(e){try{return!!np.UserAddress.fromBech32(e)}catch{return!1}}getAddressFromSession(e){let t=e.namespaces[jn.WALLETCONNECT_ELROND_NAMESPACE];if(t&&t.accounts){let i=t.accounts[0],[n,s,o]=i.split(":");return o}return""}};Gn.WalletConnectV2Provider=iv});var g6=M((Hte,p6)=>{"use strict";f();p6.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),i=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(i)!=="[object Symbol]")return!1;var n=42;e[t]=n;for(t in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,t);if(o.value!==n||o.enumerable!==!0)return!1}return!0}});var w6=M((jte,m6)=>{"use strict";f();var y6=typeof Symbol<"u"&&Symbol,wQ=g6();m6.exports=function(){return typeof y6!="function"||typeof Symbol!="function"||typeof y6("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:wQ()}});var E6=M((Kte,v6)=>{"use strict";f();var vQ="Function.prototype.bind called on incompatible ",nv=Array.prototype.slice,EQ=Object.prototype.toString,AQ="[object Function]";v6.exports=function(e){var t=this;if(typeof t!="function"||EQ.call(t)!==AQ)throw new TypeError(vQ+t);for(var i=nv.call(arguments,1),n,s=function(){if(this instanceof n){var p=t.apply(this,i.concat(nv.call(arguments)));return Object(p)===p?p:this}else return t.apply(e,i.concat(nv.call(arguments)))},o=Math.max(0,t.length-i.length),a=[],u=0;u<o;u++)a.push("$"+u);if(n=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(s),t.prototype){var h=function(){};h.prototype=t.prototype,n.prototype=new h,h.prototype=null}return n}});var op=M((kte,A6)=>{"use strict";f();var IQ=E6();A6.exports=Function.prototype.bind||IQ});var _6=M((Wte,I6)=>{"use strict";f();var _Q=op();I6.exports=_Q.call(Function.call,Object.prototype.hasOwnProperty)});var cp=M((Jte,x6)=>{"use strict";f();var Re,Au=SyntaxError,S6=Function,vu=TypeError,sv=function(r){try{return S6('"use strict"; return ('+r+").constructor;")()}catch{}},so=Object.getOwnPropertyDescriptor;if(so)try{so({},"")}catch{so=null}var ov=function(){throw new vu},bQ=so?function(){try{return arguments.callee,ov}catch{try{return so(arguments,"callee").get}catch{return ov}}}():ov,mu=w6()(),Kn=Object.getPrototypeOf||function(r){return r.__proto__},wu={},CQ=typeof Uint8Array>"u"?Re:Kn(Uint8Array),Eu={"%AggregateError%":typeof AggregateError>"u"?Re:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Re:ArrayBuffer,"%ArrayIteratorPrototype%":mu?Kn([][Symbol.iterator]()):Re,"%AsyncFromSyncIteratorPrototype%":Re,"%AsyncFunction%":wu,"%AsyncGenerator%":wu,"%AsyncGeneratorFunction%":wu,"%AsyncIteratorPrototype%":wu,"%Atomics%":typeof Atomics>"u"?Re:Atomics,"%BigInt%":typeof BigInt>"u"?Re:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Re:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?Re:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Re:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Re:FinalizationRegistry,"%Function%":S6,"%GeneratorFunction%":wu,"%Int8Array%":typeof Int8Array>"u"?Re:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Re:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Re:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":mu?Kn(Kn([][Symbol.iterator]())):Re,"%JSON%":typeof JSON=="object"?JSON:Re,"%Map%":typeof Map>"u"?Re:Map,"%MapIteratorPrototype%":typeof Map>"u"||!mu?Re:Kn(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Re:Promise,"%Proxy%":typeof Proxy>"u"?Re:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?Re:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Re:Set,"%SetIteratorPrototype%":typeof Set>"u"||!mu?Re:Kn(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Re:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":mu?Kn(""[Symbol.iterator]()):Re,"%Symbol%":mu?Symbol:Re,"%SyntaxError%":Au,"%ThrowTypeError%":bQ,"%TypedArray%":CQ,"%TypeError%":vu,"%Uint8Array%":typeof Uint8Array>"u"?Re:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Re:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Re:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Re:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?Re:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Re:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Re:WeakSet},SQ=function r(e){var t;if(e==="%AsyncFunction%")t=sv("async function () {}");else if(e==="%GeneratorFunction%")t=sv("function* () {}");else if(e==="%AsyncGeneratorFunction%")t=sv("async function* () {}");else if(e==="%AsyncGenerator%"){var i=r("%AsyncGeneratorFunction%");i&&(t=i.prototype)}else if(e==="%AsyncIteratorPrototype%"){var n=r("%AsyncGenerator%");n&&(t=Kn(n.prototype))}return Eu[e]=t,t},b6={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},cl=op(),ap=_6(),xQ=cl.call(Function.call,Array.prototype.concat),TQ=cl.call(Function.apply,Array.prototype.splice),C6=cl.call(Function.call,String.prototype.replace),up=cl.call(Function.call,String.prototype.slice),NQ=cl.call(Function.call,RegExp.prototype.exec),DQ=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,OQ=/\\(\\)?/g,BQ=function(e){var t=up(e,0,1),i=up(e,-1);if(t==="%"&&i!=="%")throw new Au("invalid intrinsic syntax, expected closing `%`");if(i==="%"&&t!=="%")throw new Au("invalid intrinsic syntax, expected opening `%`");var n=[];return C6(e,DQ,function(s,o,a,u){n[n.length]=a?C6(u,OQ,"$1"):o||s}),n},MQ=function(e,t){var i=e,n;if(ap(b6,i)&&(n=b6[i],i="%"+n[0]+"%"),ap(Eu,i)){var s=Eu[i];if(s===wu&&(s=SQ(i)),typeof s>"u"&&!t)throw new vu("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:i,value:s}}throw new Au("intrinsic "+e+" does not exist!")};x6.exports=function(e,t){if(typeof e!="string"||e.length===0)throw new vu("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof t!="boolean")throw new vu('"allowMissing" argument must be a boolean');if(NQ(/^%?[^%]*%?$/,e)===null)throw new Au("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var i=BQ(e),n=i.length>0?i[0]:"",s=MQ("%"+n+"%",t),o=s.name,a=s.value,u=!1,h=s.alias;h&&(n=h[0],TQ(i,xQ([0,1],h)));for(var p=1,m=!0;p<i.length;p+=1){var O=i[p],B=up(O,0,1),x=up(O,-1);if((B==='"'||B==="'"||B==="`"||x==='"'||x==="'"||x==="`")&&B!==x)throw new Au("property names with quotes must have matching quotes");if((O==="constructor"||!m)&&(u=!0),n+="."+O,o="%"+n+"%",ap(Eu,o))a=Eu[o];else if(a!=null){if(!(O in a)){if(!t)throw new vu("base intrinsic for "+e+" exists, but the property is not available.");return}if(so&&p+1>=i.length){var V=so(a,O);m=!!V,m&&"get"in V&&!("originalValue"in V.get)?a=V.get:a=a[O]}else m=ap(a,O),a=a[O];m&&!u&&(Eu[o]=a)}}return a}});var M6=M((Zte,lp)=>{"use strict";f();var av=op(),Iu=cp(),D6=Iu("%Function.prototype.apply%"),O6=Iu("%Function.prototype.call%"),B6=Iu("%Reflect.apply%",!0)||av.call(O6,D6),T6=Iu("%Object.getOwnPropertyDescriptor%",!0),oo=Iu("%Object.defineProperty%",!0),PQ=Iu("%Math.max%");if(oo)try{oo({},"a",{value:1})}catch{oo=null}lp.exports=function(e){var t=B6(av,O6,arguments);if(T6&&oo){var i=T6(t,"length");i.configurable&&oo(t,"length",{value:1+PQ(0,e.length-(arguments.length-1))})}return t};var N6=function(){return B6(av,D6,arguments)};oo?oo(lp.exports,"apply",{value:N6}):lp.exports.apply=N6});var F6=M((tre,L6)=>{"use strict";f();var P6=cp(),R6=M6(),RQ=R6(P6("String.prototype.indexOf"));L6.exports=function(e,t){var i=P6(e,!!t);return typeof i=="function"&&RQ(e,".prototype.")>-1?R6(i):i}});var U6=M(()=>{f()});var rD=M((ore,tD)=>{f();var mv=typeof Map=="function"&&Map.prototype,uv=Object.getOwnPropertyDescriptor&&mv?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,hp=mv&&uv&&typeof uv.get=="function"?uv.get:null,LQ=mv&&Map.prototype.forEach,wv=typeof Set=="function"&&Set.prototype,cv=Object.getOwnPropertyDescriptor&&wv?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,dp=wv&&cv&&typeof cv.get=="function"?cv.get:null,FQ=wv&&Set.prototype.forEach,UQ=typeof WeakMap=="function"&&WeakMap.prototype,fl=UQ?WeakMap.prototype.has:null,qQ=typeof WeakSet=="function"&&WeakSet.prototype,hl=qQ?WeakSet.prototype.has:null,VQ=typeof WeakRef=="function"&&WeakRef.prototype,q6=VQ?WeakRef.prototype.deref:null,HQ=Boolean.prototype.valueOf,QQ=Object.prototype.toString,jQ=Function.prototype.toString,GQ=String.prototype.match,vv=String.prototype.slice,kn=String.prototype.replace,KQ=String.prototype.toUpperCase,V6=String.prototype.toLowerCase,W6=RegExp.prototype.test,H6=Array.prototype.concat,Bi=Array.prototype.join,zQ=Array.prototype.slice,Q6=Math.floor,hv=typeof BigInt=="function"?BigInt.prototype.valueOf:null,lv=Object.getOwnPropertySymbols,dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,_u=typeof Symbol=="function"&&typeof Symbol.iterator=="object",or=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===_u?"object":"symbol")?Symbol.toStringTag:null,Y6=Object.prototype.propertyIsEnumerable,j6=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(r){return r.__proto__}:null);function G6(r,e){if(r===1/0||r===-1/0||r!==r||r&&r>-1e3&&r<1e3||W6.call(/e/,e))return e;var t=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof r=="number"){var i=r<0?-Q6(-r):Q6(r);if(i!==r){var n=String(i),s=vv.call(e,n.length+1);return kn.call(n,t,"$&_")+"."+kn.call(kn.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return kn.call(e,t,"$&_")}var pv=U6(),K6=pv.custom,z6=X6(K6)?K6:null;tD.exports=function r(e,t,i,n){var s=t||{};if(zn(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(zn(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=zn(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(zn(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(zn(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return eD(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var u=String(e);return a?G6(e,u):u}if(typeof e=="bigint"){var h=String(e)+"n";return a?G6(e,h):h}var p=typeof s.depth>"u"?5:s.depth;if(typeof i>"u"&&(i=0),i>=p&&p>0&&typeof e=="object")return gv(e)?"[Array]":"[Object]";var m=lj(s,i);if(typeof n>"u")n=[];else if(Z6(n,e)>=0)return"[Circular]";function O(A,c,d){if(c&&(n=zQ.call(n),n.push(c)),d){var g={depth:s.depth};return zn(s,"quoteStyle")&&(g.quoteStyle=s.quoteStyle),r(A,g,i+1,n)}return r(A,s,i+1,n)}if(typeof e=="function"&&!k6(e)){var B=tj(e),x=fp(e,O);return"[Function"+(B?": "+B:" (anonymous)")+"]"+(x.length>0?" { "+Bi.call(x,", ")+" }":"")}if(X6(e)){var V=_u?kn.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):dv.call(e);return typeof e=="object"&&!_u?ll(V):V}if(aj(e)){for(var H="<"+V6.call(String(e.nodeName)),G=e.attributes||[],ie=0;ie<G.length;ie++)H+=" "+G[ie].name+"="+J6(kQ(G[ie].value),"double",s);return H+=">",e.childNodes&&e.childNodes.length&&(H+="..."),H+="</"+V6.call(String(e.nodeName))+">",H}if(gv(e)){if(e.length===0)return"[]";var Y=fp(e,O);return m&&!cj(Y)?"["+yv(Y,m)+"]":"[ "+Bi.call(Y,", ")+" ]"}if(WQ(e)){var W=fp(e,O);return!("cause"in Error.prototype)&&"cause"in e&&!Y6.call(e,"cause")?"{ ["+String(e)+"] "+Bi.call(H6.call("[cause]: "+O(e.cause),W),", ")+" }":W.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+Bi.call(W,", ")+" }"}if(typeof e=="object"&&o){if(z6&&typeof e[z6]=="function"&&pv)return pv(e,{depth:p-i});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(rj(e)){var $=[];return LQ.call(e,function(A,c){$.push(O(c,e,!0)+" => "+O(A,e))}),$6("Map",hp.call(e),$,m)}if(sj(e)){var K=[];return FQ.call(e,function(A){K.push(O(A,e))}),$6("Set",dp.call(e),K,m)}if(ij(e))return fv("WeakMap");if(oj(e))return fv("WeakSet");if(nj(e))return fv("WeakRef");if(JQ(e))return ll(O(Number(e)));if(ZQ(e))return ll(O(hv.call(e)));if(XQ(e))return ll(HQ.call(e));if(YQ(e))return ll(O(String(e)));if(!$Q(e)&&!k6(e)){var R=fp(e,O),F=j6?j6(e)===Object.prototype:e instanceof Object||e.constructor===Object,k=e instanceof Object?"":"null prototype",ce=!F&&or&&Object(e)===e&&or in e?vv.call($n(e),8,-1):k?"Object":"",J=F||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",X=J+(ce||k?"["+Bi.call(H6.call([],ce||[],k||[]),": ")+"] ":"");return R.length===0?X+"{}":m?X+"{"+yv(R,m)+"}":X+"{ "+Bi.call(R,", ")+" }"}return String(e)};function J6(r,e,t){var i=(t.quoteStyle||e)==="double"?'"':"'";return i+r+i}function kQ(r){return kn.call(String(r),/"/g,"&quot;")}function gv(r){return $n(r)==="[object Array]"&&(!or||!(typeof r=="object"&&or in r))}function $Q(r){return $n(r)==="[object Date]"&&(!or||!(typeof r=="object"&&or in r))}function k6(r){return $n(r)==="[object RegExp]"&&(!or||!(typeof r=="object"&&or in r))}function WQ(r){return $n(r)==="[object Error]"&&(!or||!(typeof r=="object"&&or in r))}function YQ(r){return $n(r)==="[object String]"&&(!or||!(typeof r=="object"&&or in r))}function JQ(r){return $n(r)==="[object Number]"&&(!or||!(typeof r=="object"&&or in r))}function XQ(r){return $n(r)==="[object Boolean]"&&(!or||!(typeof r=="object"&&or in r))}function X6(r){if(_u)return r&&typeof r=="object"&&r instanceof Symbol;if(typeof r=="symbol")return!0;if(!r||typeof r!="object"||!dv)return!1;try{return dv.call(r),!0}catch{}return!1}function ZQ(r){if(!r||typeof r!="object"||!hv)return!1;try{return hv.call(r),!0}catch{}return!1}var ej=Object.prototype.hasOwnProperty||function(r){return r in this};function zn(r,e){return ej.call(r,e)}function $n(r){return QQ.call(r)}function tj(r){if(r.name)return r.name;var e=GQ.call(jQ.call(r),/^function\s*([\w$]+)/);return e?e[1]:null}function Z6(r,e){if(r.indexOf)return r.indexOf(e);for(var t=0,i=r.length;t<i;t++)if(r[t]===e)return t;return-1}function rj(r){if(!hp||!r||typeof r!="object")return!1;try{hp.call(r);try{dp.call(r)}catch{return!0}return r instanceof Map}catch{}return!1}function ij(r){if(!fl||!r||typeof r!="object")return!1;try{fl.call(r,fl);try{hl.call(r,hl)}catch{return!0}return r instanceof WeakMap}catch{}return!1}function nj(r){if(!q6||!r||typeof r!="object")return!1;try{return q6.call(r),!0}catch{}return!1}function sj(r){if(!dp||!r||typeof r!="object")return!1;try{dp.call(r);try{hp.call(r)}catch{return!0}return r instanceof Set}catch{}return!1}function oj(r){if(!hl||!r||typeof r!="object")return!1;try{hl.call(r,hl);try{fl.call(r,fl)}catch{return!0}return r instanceof WeakSet}catch{}return!1}function aj(r){return!r||typeof r!="object"?!1:typeof HTMLElement<"u"&&r instanceof HTMLElement?!0:typeof r.nodeName=="string"&&typeof r.getAttribute=="function"}function eD(r,e){if(r.length>e.maxStringLength){var t=r.length-e.maxStringLength,i="... "+t+" more character"+(t>1?"s":"");return eD(vv.call(r,0,e.maxStringLength),e)+i}var n=kn.call(kn.call(r,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,uj);return J6(n,"single",e)}function uj(r){var e=r.charCodeAt(0),t={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return t?"\\"+t:"\\x"+(e<16?"0":"")+KQ.call(e.toString(16))}function ll(r){return"Object("+r+")"}function fv(r){return r+" { ? }"}function $6(r,e,t,i){var n=i?yv(t,i):Bi.call(t,", ");return r+" ("+e+") {"+n+"}"}function cj(r){for(var e=0;e<r.length;e++)if(Z6(r[e],`
`)>=0)return!1;return!0}function lj(r,e){var t;if(r.indent==="	")t="	";else if(typeof r.indent=="number"&&r.indent>0)t=Bi.call(Array(r.indent+1)," ");else return null;return{base:t,prev:Bi.call(Array(e+1),t)}}function yv(r,e){if(r.length===0)return"";var t=`
`+e.prev+e.base;return t+Bi.call(r,","+t)+`
`+e.prev}function fp(r,e){var t=gv(r),i=[];if(t){i.length=r.length;for(var n=0;n<r.length;n++)i[n]=zn(r,n)?e(r[n],r):""}var s=typeof lv=="function"?lv(r):[],o;if(_u){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var u in r)!zn(r,u)||t&&String(Number(u))===u&&u<r.length||_u&&o["$"+u]instanceof Symbol||(W6.call(/[^\w$]/,u)?i.push(e(u,r)+": "+e(r[u],r)):i.push(u+": "+e(r[u],r)));if(typeof lv=="function")for(var h=0;h<s.length;h++)Y6.call(r,s[h])&&i.push("["+e(s[h])+"]: "+e(r[s[h]],r));return i}});var nD=M((ure,iD)=>{"use strict";f();var Ev=cp(),bu=F6(),fj=rD(),hj=Ev("%TypeError%"),pp=Ev("%WeakMap%",!0),gp=Ev("%Map%",!0),dj=bu("WeakMap.prototype.get",!0),pj=bu("WeakMap.prototype.set",!0),gj=bu("WeakMap.prototype.has",!0),yj=bu("Map.prototype.get",!0),mj=bu("Map.prototype.set",!0),wj=bu("Map.prototype.has",!0),Av=function(r,e){for(var t=r,i;(i=t.next)!==null;t=i)if(i.key===e)return t.next=i.next,i.next=r.next,r.next=i,i},vj=function(r,e){var t=Av(r,e);return t&&t.value},Ej=function(r,e,t){var i=Av(r,e);i?i.value=t:r.next={key:e,next:r.next,value:t}},Aj=function(r,e){return!!Av(r,e)};iD.exports=function(){var e,t,i,n={assert:function(s){if(!n.has(s))throw new hj("Side channel does not contain "+fj(s))},get:function(s){if(pp&&s&&(typeof s=="object"||typeof s=="function")){if(e)return dj(e,s)}else if(gp){if(t)return yj(t,s)}else if(i)return vj(i,s)},has:function(s){if(pp&&s&&(typeof s=="object"||typeof s=="function")){if(e)return gj(e,s)}else if(gp){if(t)return wj(t,s)}else if(i)return Aj(i,s);return!1},set:function(s,o){pp&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new pp),pj(e,s,o)):gp?(t||(t=new gp),mj(t,s,o)):(i||(i={key:{},next:null}),Ej(i,s,o))}};return n}});var yp=M((lre,sD)=>{"use strict";f();var Ij=String.prototype.replace,_j=/%20/g,Iv={RFC1738:"RFC1738",RFC3986:"RFC3986"};sD.exports={default:Iv.RFC3986,formatters:{RFC1738:function(r){return Ij.call(r,_j,"+")},RFC3986:function(r){return String(r)}},RFC1738:Iv.RFC1738,RFC3986:Iv.RFC3986}});var bv=M((hre,aD)=>{"use strict";f();var bj=yp(),_v=Object.prototype.hasOwnProperty,ao=Array.isArray,Mi=function(){for(var r=[],e=0;e<256;++e)r.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return r}(),Cj=function(e){for(;e.length>1;){var t=e.pop(),i=t.obj[t.prop];if(ao(i)){for(var n=[],s=0;s<i.length;++s)typeof i[s]<"u"&&n.push(i[s]);t.obj[t.prop]=n}}},oD=function(e,t){for(var i=t&&t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)typeof e[n]<"u"&&(i[n]=e[n]);return i},Sj=function r(e,t,i){if(!t)return e;if(typeof t!="object"){if(ao(e))e.push(t);else if(e&&typeof e=="object")(i&&(i.plainObjects||i.allowPrototypes)||!_v.call(Object.prototype,t))&&(e[t]=!0);else return[e,t];return e}if(!e||typeof e!="object")return[e].concat(t);var n=e;return ao(e)&&!ao(t)&&(n=oD(e,i)),ao(e)&&ao(t)?(t.forEach(function(s,o){if(_v.call(e,o)){var a=e[o];a&&typeof a=="object"&&s&&typeof s=="object"?e[o]=r(a,s,i):e.push(s)}else e[o]=s}),e):Object.keys(t).reduce(function(s,o){var a=t[o];return _v.call(s,o)?s[o]=r(s[o],a,i):s[o]=a,s},n)},xj=function(e,t){return Object.keys(t).reduce(function(i,n){return i[n]=t[n],i},e)},Tj=function(r,e,t){var i=r.replace(/\+/g," ");if(t==="iso-8859-1")return i.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(i)}catch{return i}},Nj=function(e,t,i,n,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),i==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(p){return"%26%23"+parseInt(p.slice(2),16)+"%3B"});for(var a="",u=0;u<o.length;++u){var h=o.charCodeAt(u);if(h===45||h===46||h===95||h===126||h>=48&&h<=57||h>=65&&h<=90||h>=97&&h<=122||s===bj.RFC1738&&(h===40||h===41)){a+=o.charAt(u);continue}if(h<128){a=a+Mi[h];continue}if(h<2048){a=a+(Mi[192|h>>6]+Mi[128|h&63]);continue}if(h<55296||h>=57344){a=a+(Mi[224|h>>12]+Mi[128|h>>6&63]+Mi[128|h&63]);continue}u+=1,h=65536+((h&1023)<<10|o.charCodeAt(u)&1023),a+=Mi[240|h>>18]+Mi[128|h>>12&63]+Mi[128|h>>6&63]+Mi[128|h&63]}return a},Dj=function(e){for(var t=[{obj:{o:e},prop:"o"}],i=[],n=0;n<t.length;++n)for(var s=t[n],o=s.obj[s.prop],a=Object.keys(o),u=0;u<a.length;++u){var h=a[u],p=o[h];typeof p=="object"&&p!==null&&i.indexOf(p)===-1&&(t.push({obj:o,prop:h}),i.push(p))}return Cj(t),e},Oj=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},Bj=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},Mj=function(e,t){return[].concat(e,t)},Pj=function(e,t){if(ao(e)){for(var i=[],n=0;n<e.length;n+=1)i.push(t(e[n]));return i}return t(e)};aD.exports={arrayToObject:oD,assign:xj,combine:Mj,compact:Dj,decode:Tj,encode:Nj,isBuffer:Bj,isRegExp:Oj,maybeMap:Pj,merge:Sj}});var dD=M((pre,hD)=>{"use strict";f();var lD=nD(),Cv=bv(),dl=yp(),Rj=Object.prototype.hasOwnProperty,uD={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},uo=Array.isArray,Lj=Array.prototype.push,fD=function(r,e){Lj.apply(r,uo(e)?e:[e])},Fj=Date.prototype.toISOString,cD=dl.default,ar={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:Cv.encode,encodeValuesOnly:!1,format:cD,formatter:dl.formatters[cD],indices:!1,serializeDate:function(e){return Fj.call(e)},skipNulls:!1,strictNullHandling:!1},Uj=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},qj=function r(e,t,i,n,s,o,a,u,h,p,m,O,B,x,V){var H=e;if(V.has(e))throw new RangeError("Cyclic object value");if(typeof a=="function"?H=a(t,H):H instanceof Date?H=p(H):i==="comma"&&uo(H)&&(H=Cv.maybeMap(H,function(ce){return ce instanceof Date?p(ce):ce})),H===null){if(n)return o&&!B?o(t,ar.encoder,x,"key",m):t;H=""}if(Uj(H)||Cv.isBuffer(H)){if(o){var G=B?t:o(t,ar.encoder,x,"key",m);return[O(G)+"="+O(o(H,ar.encoder,x,"value",m))]}return[O(t)+"="+O(String(H))]}var ie=[];if(typeof H>"u")return ie;var Y;if(i==="comma"&&uo(H))Y=[{value:H.length>0?H.join(",")||null:void 0}];else if(uo(a))Y=a;else{var W=Object.keys(H);Y=u?W.sort(u):W}for(var $=0;$<Y.length;++$){var K=Y[$],R=typeof K=="object"&&K.value!==void 0?K.value:H[K];if(!(s&&R===null)){var F=uo(H)?typeof i=="function"?i(t,K):t:t+(h?"."+K:"["+K+"]");V.set(e,!0);var k=lD();fD(ie,r(R,F,i,n,s,o,a,u,h,p,m,O,B,x,k))}}return ie},Vj=function(e){if(!e)return ar;if(e.encoder!==null&&e.encoder!==void 0&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var t=e.charset||ar.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var i=dl.default;if(typeof e.format<"u"){if(!Rj.call(dl.formatters,e.format))throw new TypeError("Unknown format option provided.");i=e.format}var n=dl.formatters[i],s=ar.filter;return(typeof e.filter=="function"||uo(e.filter))&&(s=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:ar.addQueryPrefix,allowDots:typeof e.allowDots>"u"?ar.allowDots:!!e.allowDots,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:ar.charsetSentinel,delimiter:typeof e.delimiter>"u"?ar.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:ar.encode,encoder:typeof e.encoder=="function"?e.encoder:ar.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:ar.encodeValuesOnly,filter:s,format:i,formatter:n,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:ar.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:ar.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:ar.strictNullHandling}};hD.exports=function(r,e){var t=r,i=Vj(e),n,s;typeof i.filter=="function"?(s=i.filter,t=s("",t)):uo(i.filter)&&(s=i.filter,n=s);var o=[];if(typeof t!="object"||t===null)return"";var a;e&&e.arrayFormat in uD?a=e.arrayFormat:e&&"indices"in e?a=e.indices?"indices":"repeat":a="indices";var u=uD[a];n||(n=Object.keys(t)),i.sort&&n.sort(i.sort);for(var h=lD(),p=0;p<n.length;++p){var m=n[p];i.skipNulls&&t[m]===null||fD(o,qj(t[m],m,u,i.strictNullHandling,i.skipNulls,i.encode?i.encoder:null,i.filter,i.sort,i.allowDots,i.serializeDate,i.format,i.formatter,i.encodeValuesOnly,i.charset,h))}var O=o.join(i.delimiter),B=i.addQueryPrefix===!0?"?":"";return i.charsetSentinel&&(i.charset==="iso-8859-1"?B+="utf8=%26%2310003%3B&":B+="utf8=%E2%9C%93&"),O.length>0?B+O:""}});var yD=M((yre,gD)=>{"use strict";f();var Cu=bv(),Sv=Object.prototype.hasOwnProperty,Hj=Array.isArray,$t={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:Cu.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},Qj=function(r){return r.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})},pD=function(r,e){return r&&typeof r=="string"&&e.comma&&r.indexOf(",")>-1?r.split(","):r},jj="utf8=%26%2310003%3B",Gj="utf8=%E2%9C%93",Kj=function(e,t){var i={},n=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=t.parameterLimit===1/0?void 0:t.parameterLimit,o=n.split(t.delimiter,s),a=-1,u,h=t.charset;if(t.charsetSentinel)for(u=0;u<o.length;++u)o[u].indexOf("utf8=")===0&&(o[u]===Gj?h="utf-8":o[u]===jj&&(h="iso-8859-1"),a=u,u=o.length);for(u=0;u<o.length;++u)if(u!==a){var p=o[u],m=p.indexOf("]="),O=m===-1?p.indexOf("="):m+1,B,x;O===-1?(B=t.decoder(p,$t.decoder,h,"key"),x=t.strictNullHandling?null:""):(B=t.decoder(p.slice(0,O),$t.decoder,h,"key"),x=Cu.maybeMap(pD(p.slice(O+1),t),function(V){return t.decoder(V,$t.decoder,h,"value")})),x&&t.interpretNumericEntities&&h==="iso-8859-1"&&(x=Qj(x)),p.indexOf("[]=")>-1&&(x=Hj(x)?[x]:x),Sv.call(i,B)?i[B]=Cu.combine(i[B],x):i[B]=x}return i},zj=function(r,e,t,i){for(var n=i?e:pD(e,t),s=r.length-1;s>=0;--s){var o,a=r[s];if(a==="[]"&&t.parseArrays)o=[].concat(n);else{o=t.plainObjects?Object.create(null):{};var u=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,h=parseInt(u,10);!t.parseArrays&&u===""?o={0:n}:!isNaN(h)&&a!==u&&String(h)===u&&h>=0&&t.parseArrays&&h<=t.arrayLimit?(o=[],o[h]=n):o[u]=n}n=o}return n},kj=function(e,t,i,n){if(!!e){var s=i.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,u=i.depth>0&&o.exec(s),h=u?s.slice(0,u.index):s,p=[];if(h){if(!i.plainObjects&&Sv.call(Object.prototype,h)&&!i.allowPrototypes)return;p.push(h)}for(var m=0;i.depth>0&&(u=a.exec(s))!==null&&m<i.depth;){if(m+=1,!i.plainObjects&&Sv.call(Object.prototype,u[1].slice(1,-1))&&!i.allowPrototypes)return;p.push(u[1])}return u&&p.push("["+s.slice(u.index)+"]"),zj(p,t,i,n)}},$j=function(e){if(!e)return $t;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=typeof e.charset>"u"?$t.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?$t.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:$t.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:$t.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:$t.arrayLimit,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:$t.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:$t.comma,decoder:typeof e.decoder=="function"?e.decoder:$t.decoder,delimiter:typeof e.delimiter=="string"||Cu.isRegExp(e.delimiter)?e.delimiter:$t.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:$t.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:$t.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:$t.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:$t.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:$t.strictNullHandling}};gD.exports=function(r,e){var t=$j(e);if(r===""||r===null||typeof r>"u")return t.plainObjects?Object.create(null):{};for(var i=typeof r=="string"?Kj(r,t):r,n=t.plainObjects?Object.create(null):{},s=Object.keys(i),o=0;o<s.length;++o){var a=s[o],u=kj(a,i[a],t,typeof r=="string");n=Cu.merge(n,u,t)}return t.allowSparse===!0?n:Cu.compact(n)}});var wD=M((wre,mD)=>{"use strict";f();var Wj=dD(),Yj=yD(),Jj=yp();mD.exports={formats:Jj,parse:Yj,stringify:Wj}});var xv=M(Rt=>{"use strict";f();Object.defineProperty(Rt,"__esModule",{value:!0});Rt.WALLET_PROVIDER_CALLBACK_PARAM_TX_SIGNED=Rt.WALLET_PROVIDER_CALLBACK_PARAM=Rt.WALLET_PROVIDER_SIGN_TRANSACTION_URL=Rt.WALLET_PROVIDER_SEND_TRANSACTION_URL=Rt.WALLET_PROVIDER_DISCONNECT_URL=Rt.WALLET_PROVIDER_CONNECT_URL=Rt.WALLET_PROVIDER_TESTNET=Rt.WALLET_PROVIDER_DEVNET=Rt.WALLET_PROVIDER_MAINNET=void 0;Rt.WALLET_PROVIDER_MAINNET="https://wallet.elrond.com/dapp/init";Rt.WALLET_PROVIDER_DEVNET="https://devnet-wallet.elrond.com/dapp/init";Rt.WALLET_PROVIDER_TESTNET="https://testnet-wallet.elrond.com/dapp/init";Rt.WALLET_PROVIDER_CONNECT_URL="hook/login";Rt.WALLET_PROVIDER_DISCONNECT_URL="hook/logout";Rt.WALLET_PROVIDER_SEND_TRANSACTION_URL="hook/transaction";Rt.WALLET_PROVIDER_SIGN_TRANSACTION_URL="hook/sign";Rt.WALLET_PROVIDER_CALLBACK_PARAM="walletProviderStatus";Rt.WALLET_PROVIDER_CALLBACK_PARAM_TX_SIGNED="transactionsSigned"});var vD=M(Su=>{"use strict";f();Object.defineProperty(Su,"__esModule",{value:!0});Su.ErrInvalidTxSignReturnValue=Su.Err=void 0;var mp=class extends Error{constructor(e,t){super(e),this.inner=void 0,this.inner=t}};Su.Err=mp;var Tv=class extends mp{constructor(){super("Invalid response in transaction sign return url")}};Su.ErrInvalidTxSignReturnValue=Tv});var ED=M(wp=>{"use strict";f();Object.defineProperty(wp,"__esModule",{value:!0});wp.PlainSignedTransaction=void 0;var Nv=class{constructor(e){this.nonce=0,this.value="",this.receiver="",this.sender="",this.gasPrice=0,this.gasLimit=0,this.data="",this.chainID="",this.version=0,this.options=void 0,this.signature="",Object.assign(this,e)}};wp.PlainSignedTransaction=Nv});var pl=M(Wn=>{"use strict";f();var xu=Wn&&Wn.__awaiter||function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(p){try{h(i.next(p))}catch(m){o(m)}}function u(p){try{h(i.throw(p))}catch(m){o(m)}}function h(p){p.done?s(p.value):n(p.value).then(a,u)}h((i=i.apply(r,e||[])).next())})},Xj=Wn&&Wn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Wn,"__esModule",{value:!0});Wn.WalletProvider=void 0;var AD=Xj(wD()),Tu=xv(),ID=vD(),Zj=ED(),Nu=class{constructor(e){this.walletUrl=e}login(e){return xu(this,void 0,void 0,function*(){let t=this.buildWalletUrl({endpoint:Tu.WALLET_PROVIDER_CONNECT_URL,callbackUrl:e?.callbackUrl,params:{token:e?.token}});return yield this.redirect(t,e?.redirectDelayMilliseconds),t})}redirect(e,t){return xu(this,void 0,void 0,function*(){t?yield this.redirectLater(e,t):this.redirectImmediately(e)})}redirectImmediately(e){window.location.href=e}redirectLater(e,t){return xu(this,void 0,void 0,function*(){yield new Promise(i=>{setTimeout(()=>{window.location.href=e,i(!0)},t)})})}logout(e){return xu(this,void 0,void 0,function*(){let t=this.buildWalletUrl({endpoint:Tu.WALLET_PROVIDER_DISCONNECT_URL,callbackUrl:e?.callbackUrl});return yield this.redirect(t,e?.redirectDelayMilliseconds),!0})}signTransactions(e,t){return xu(this,void 0,void 0,function*(){let i={};e.map(s=>{let o=Nu.prepareWalletTransaction(s);for(let a in o)o.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=[]),i[a].push(o[a])});let n=this.buildWalletUrl({endpoint:Tu.WALLET_PROVIDER_SIGN_TRANSACTION_URL,callbackUrl:t?.callbackUrl,params:i});window.location.href=n})}signTransaction(e,t){return xu(this,void 0,void 0,function*(){yield this.signTransactions([e],t)})}getTransactionsFromWalletUrl(){let e=AD.default.parse(window.location.search.slice(1));return Nu.isTxSignReturnSuccess(e)?this.getTxSignReturnValue(e):[]}static isTxSignReturnSuccess(e){return e.hasOwnProperty(Tu.WALLET_PROVIDER_CALLBACK_PARAM)&&e[Tu.WALLET_PROVIDER_CALLBACK_PARAM]===Tu.WALLET_PROVIDER_CALLBACK_PARAM_TX_SIGNED}getTxSignReturnValue(e){let t=["nonce","value","receiver","sender","gasPrice","gasLimit","data","chainID","version","signature"];for(let s of t)if(!e[s]||!Array.isArray(e[s]))throw new ID.ErrInvalidTxSignReturnValue;let i=e.nonce.length;for(let s of t)if(e[s].length!==i)throw new ID.ErrInvalidTxSignReturnValue;let n=[];for(let s=0;s<i;s++){let o=new Zj.PlainSignedTransaction(Object.assign(Object.assign({nonce:parseInt(e.nonce[s]),value:e.value[s],receiver:e.receiver[s],sender:e.sender[s],gasPrice:parseInt(e.gasPrice[s]),gasLimit:parseInt(e.gasLimit[s]),data:e.data[s],chainID:e.chainID[s],version:parseInt(e.version[s])},e.options&&e.options[s]?{options:parseInt(e.options[s])}:{}),{signature:e.signature[s]}));n.push(o)}return n}static prepareWalletTransaction(e){let t=e.toPlainObject();return t.data&&(t.data=y.Buffer.from(t.data,"base64").toString()),t}buildWalletUrl(e){let t=e?.callbackUrl||window.location.href,i=AD.default.stringify(e.params||{}),n=i?`${i}&callbackUrl=${t}`:`callbackUrl=${t}`;return`${this.baseWalletUrl()}/${e.endpoint}?${n}`}baseWalletUrl(){let e=this.walletUrl.split("/"),t=e[0],i=e[2];return t+"//"+i}};Wn.WalletProvider=Nu});var xD=M(()=>{f()});var ND=M((TD,Dv)=>{f();(function(r,e){"use strict";function t(A,c){if(!A)throw new Error(c||"Assertion failed")}function i(A,c){A.super_=c;var d=function(){};d.prototype=c.prototype,A.prototype=new d,A.prototype.constructor=A}function n(A,c,d){if(n.isBN(A))return A;this.negative=0,this.words=null,this.length=0,this.red=null,A!==null&&((c==="le"||c==="be")&&(d=c,c=10),this._init(A||0,c||10,d||"be"))}typeof r=="object"?r.exports=n:e.BN=n,n.BN=n,n.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=xD().Buffer}catch{}n.isBN=function(c){return c instanceof n?!0:c!==null&&typeof c=="object"&&c.constructor.wordSize===n.wordSize&&Array.isArray(c.words)},n.max=function(c,d){return c.cmp(d)>0?c:d},n.min=function(c,d){return c.cmp(d)<0?c:d},n.prototype._init=function(c,d,g){if(typeof c=="number")return this._initNumber(c,d,g);if(typeof c=="object")return this._initArray(c,d,g);d==="hex"&&(d=16),t(d===(d|0)&&d>=2&&d<=36),c=c.toString().replace(/\s+/g,"");var w=0;c[0]==="-"&&(w++,this.negative=1),w<c.length&&(d===16?this._parseHex(c,w,g):(this._parseBase(c,d,w),g==="le"&&this._initArray(this.toArray(),d,g)))},n.prototype._initNumber=function(c,d,g){c<0&&(this.negative=1,c=-c),c<67108864?(this.words=[c&67108863],this.length=1):c<4503599627370496?(this.words=[c&67108863,c/67108864&67108863],this.length=2):(t(c<9007199254740992),this.words=[c&67108863,c/67108864&67108863,1],this.length=3),g==="le"&&this._initArray(this.toArray(),d,g)},n.prototype._initArray=function(c,d,g){if(t(typeof c.length=="number"),c.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(c.length/3),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var v,S,N=0;if(g==="be")for(w=c.length-1,v=0;w>=0;w-=3)S=c[w]|c[w-1]<<8|c[w-2]<<16,this.words[v]|=S<<N&67108863,this.words[v+1]=S>>>26-N&67108863,N+=24,N>=26&&(N-=26,v++);else if(g==="le")for(w=0,v=0;w<c.length;w+=3)S=c[w]|c[w+1]<<8|c[w+2]<<16,this.words[v]|=S<<N&67108863,this.words[v+1]=S>>>26-N&67108863,N+=24,N>=26&&(N-=26,v++);return this._strip()};function o(A,c){var d=A.charCodeAt(c);if(d>=48&&d<=57)return d-48;if(d>=65&&d<=70)return d-55;if(d>=97&&d<=102)return d-87;t(!1,"Invalid character in "+A)}function a(A,c,d){var g=o(A,d);return d-1>=c&&(g|=o(A,d-1)<<4),g}n.prototype._parseHex=function(c,d,g){this.length=Math.ceil((c.length-d)/6),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var v=0,S=0,N;if(g==="be")for(w=c.length-1;w>=d;w-=2)N=a(c,d,w)<<v,this.words[S]|=N&67108863,v>=18?(v-=18,S+=1,this.words[S]|=N>>>26):v+=8;else{var I=c.length-d;for(w=I%2===0?d+1:d;w<c.length;w+=2)N=a(c,d,w)<<v,this.words[S]|=N&67108863,v>=18?(v-=18,S+=1,this.words[S]|=N>>>26):v+=8}this._strip()};function u(A,c,d,g){for(var w=0,v=0,S=Math.min(A.length,d),N=c;N<S;N++){var I=A.charCodeAt(N)-48;w*=g,I>=49?v=I-49+10:I>=17?v=I-17+10:v=I,t(I>=0&&v<g,"Invalid character"),w+=v}return w}n.prototype._parseBase=function(c,d,g){this.words=[0],this.length=1;for(var w=0,v=1;v<=67108863;v*=d)w++;w--,v=v/d|0;for(var S=c.length-g,N=S%w,I=Math.min(S,S-N)+g,l=0,C=g;C<I;C+=w)l=u(c,C,C+w,d),this.imuln(v),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(N!==0){var Z=1;for(l=u(c,C,c.length,d),C=0;C<N;C++)Z*=d;this.imuln(Z),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this._strip()},n.prototype.copy=function(c){c.words=new Array(this.length);for(var d=0;d<this.length;d++)c.words[d]=this.words[d];c.length=this.length,c.negative=this.negative,c.red=this.red};function h(A,c){A.words=c.words,A.length=c.length,A.negative=c.negative,A.red=c.red}if(n.prototype._move=function(c){h(c,this)},n.prototype.clone=function(){var c=new n(null);return this.copy(c),c},n.prototype._expand=function(c){for(;this.length<c;)this.words[this.length++]=0;return this},n.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},n.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{n.prototype[Symbol.for("nodejs.util.inspect.custom")]=p}catch{n.prototype.inspect=p}else n.prototype.inspect=p;function p(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],O=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],B=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(c,d){c=c||10,d=d|0||1;var g;if(c===16||c==="hex"){g="";for(var w=0,v=0,S=0;S<this.length;S++){var N=this.words[S],I=((N<<w|v)&16777215).toString(16);v=N>>>24-w&16777215,w+=2,w>=26&&(w-=26,S--),v!==0||S!==this.length-1?g=m[6-I.length]+I+g:g=I+g}for(v!==0&&(g=v.toString(16)+g);g.length%d!==0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}if(c===(c|0)&&c>=2&&c<=36){var l=O[c],C=B[c];g="";var Z=this.clone();for(Z.negative=0;!Z.isZero();){var te=Z.modrn(C).toString(c);Z=Z.idivn(C),Z.isZero()?g=te+g:g=m[l-te.length]+te+g}for(this.isZero()&&(g="0"+g);g.length%d!==0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}t(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var c=this.words[0];return this.length===2?c+=this.words[1]*67108864:this.length===3&&this.words[2]===1?c+=4503599627370496+this.words[1]*67108864:this.length>2&&t(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-c:c},n.prototype.toJSON=function(){return this.toString(16,2)},s&&(n.prototype.toBuffer=function(c,d){return this.toArrayLike(s,c,d)}),n.prototype.toArray=function(c,d){return this.toArrayLike(Array,c,d)};var x=function(c,d){return c.allocUnsafe?c.allocUnsafe(d):new c(d)};n.prototype.toArrayLike=function(c,d,g){this._strip();var w=this.byteLength(),v=g||Math.max(1,w);t(w<=v,"byte array longer than desired length"),t(v>0,"Requested array length <= 0");var S=x(c,v),N=d==="le"?"LE":"BE";return this["_toArrayLike"+N](S,w),S},n.prototype._toArrayLikeLE=function(c,d){for(var g=0,w=0,v=0,S=0;v<this.length;v++){var N=this.words[v]<<S|w;c[g++]=N&255,g<c.length&&(c[g++]=N>>8&255),g<c.length&&(c[g++]=N>>16&255),S===6?(g<c.length&&(c[g++]=N>>24&255),w=0,S=0):(w=N>>>24,S+=2)}if(g<c.length)for(c[g++]=w;g<c.length;)c[g++]=0},n.prototype._toArrayLikeBE=function(c,d){for(var g=c.length-1,w=0,v=0,S=0;v<this.length;v++){var N=this.words[v]<<S|w;c[g--]=N&255,g>=0&&(c[g--]=N>>8&255),g>=0&&(c[g--]=N>>16&255),S===6?(g>=0&&(c[g--]=N>>24&255),w=0,S=0):(w=N>>>24,S+=2)}if(g>=0)for(c[g--]=w;g>=0;)c[g--]=0},Math.clz32?n.prototype._countBits=function(c){return 32-Math.clz32(c)}:n.prototype._countBits=function(c){var d=c,g=0;return d>=4096&&(g+=13,d>>>=13),d>=64&&(g+=7,d>>>=7),d>=8&&(g+=4,d>>>=4),d>=2&&(g+=2,d>>>=2),g+d},n.prototype._zeroBits=function(c){if(c===0)return 26;var d=c,g=0;return(d&8191)===0&&(g+=13,d>>>=13),(d&127)===0&&(g+=7,d>>>=7),(d&15)===0&&(g+=4,d>>>=4),(d&3)===0&&(g+=2,d>>>=2),(d&1)===0&&g++,g},n.prototype.bitLength=function(){var c=this.words[this.length-1],d=this._countBits(c);return(this.length-1)*26+d};function V(A){for(var c=new Array(A.bitLength()),d=0;d<c.length;d++){var g=d/26|0,w=d%26;c[d]=A.words[g]>>>w&1}return c}n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var c=0,d=0;d<this.length;d++){var g=this._zeroBits(this.words[d]);if(c+=g,g!==26)break}return c},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(c){return this.negative!==0?this.abs().inotn(c).iaddn(1):this.clone()},n.prototype.fromTwos=function(c){return this.testn(c-1)?this.notn(c).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return this.negative!==0},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(c){for(;this.length<c.length;)this.words[this.length++]=0;for(var d=0;d<c.length;d++)this.words[d]=this.words[d]|c.words[d];return this._strip()},n.prototype.ior=function(c){return t((this.negative|c.negative)===0),this.iuor(c)},n.prototype.or=function(c){return this.length>c.length?this.clone().ior(c):c.clone().ior(this)},n.prototype.uor=function(c){return this.length>c.length?this.clone().iuor(c):c.clone().iuor(this)},n.prototype.iuand=function(c){var d;this.length>c.length?d=c:d=this;for(var g=0;g<d.length;g++)this.words[g]=this.words[g]&c.words[g];return this.length=d.length,this._strip()},n.prototype.iand=function(c){return t((this.negative|c.negative)===0),this.iuand(c)},n.prototype.and=function(c){return this.length>c.length?this.clone().iand(c):c.clone().iand(this)},n.prototype.uand=function(c){return this.length>c.length?this.clone().iuand(c):c.clone().iuand(this)},n.prototype.iuxor=function(c){var d,g;this.length>c.length?(d=this,g=c):(d=c,g=this);for(var w=0;w<g.length;w++)this.words[w]=d.words[w]^g.words[w];if(this!==d)for(;w<d.length;w++)this.words[w]=d.words[w];return this.length=d.length,this._strip()},n.prototype.ixor=function(c){return t((this.negative|c.negative)===0),this.iuxor(c)},n.prototype.xor=function(c){return this.length>c.length?this.clone().ixor(c):c.clone().ixor(this)},n.prototype.uxor=function(c){return this.length>c.length?this.clone().iuxor(c):c.clone().iuxor(this)},n.prototype.inotn=function(c){t(typeof c=="number"&&c>=0);var d=Math.ceil(c/26)|0,g=c%26;this._expand(d),g>0&&d--;for(var w=0;w<d;w++)this.words[w]=~this.words[w]&67108863;return g>0&&(this.words[w]=~this.words[w]&67108863>>26-g),this._strip()},n.prototype.notn=function(c){return this.clone().inotn(c)},n.prototype.setn=function(c,d){t(typeof c=="number"&&c>=0);var g=c/26|0,w=c%26;return this._expand(g+1),d?this.words[g]=this.words[g]|1<<w:this.words[g]=this.words[g]&~(1<<w),this._strip()},n.prototype.iadd=function(c){var d;if(this.negative!==0&&c.negative===0)return this.negative=0,d=this.isub(c),this.negative^=1,this._normSign();if(this.negative===0&&c.negative!==0)return c.negative=0,d=this.isub(c),c.negative=1,d._normSign();var g,w;this.length>c.length?(g=this,w=c):(g=c,w=this);for(var v=0,S=0;S<w.length;S++)d=(g.words[S]|0)+(w.words[S]|0)+v,this.words[S]=d&67108863,v=d>>>26;for(;v!==0&&S<g.length;S++)d=(g.words[S]|0)+v,this.words[S]=d&67108863,v=d>>>26;if(this.length=g.length,v!==0)this.words[this.length]=v,this.length++;else if(g!==this)for(;S<g.length;S++)this.words[S]=g.words[S];return this},n.prototype.add=function(c){var d;return c.negative!==0&&this.negative===0?(c.negative=0,d=this.sub(c),c.negative^=1,d):c.negative===0&&this.negative!==0?(this.negative=0,d=c.sub(this),this.negative=1,d):this.length>c.length?this.clone().iadd(c):c.clone().iadd(this)},n.prototype.isub=function(c){if(c.negative!==0){c.negative=0;var d=this.iadd(c);return c.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(c),this.negative=1,this._normSign();var g=this.cmp(c);if(g===0)return this.negative=0,this.length=1,this.words[0]=0,this;var w,v;g>0?(w=this,v=c):(w=c,v=this);for(var S=0,N=0;N<v.length;N++)d=(w.words[N]|0)-(v.words[N]|0)+S,S=d>>26,this.words[N]=d&67108863;for(;S!==0&&N<w.length;N++)d=(w.words[N]|0)+S,S=d>>26,this.words[N]=d&67108863;if(S===0&&N<w.length&&w!==this)for(;N<w.length;N++)this.words[N]=w.words[N];return this.length=Math.max(this.length,N),w!==this&&(this.negative=1),this._strip()},n.prototype.sub=function(c){return this.clone().isub(c)};function H(A,c,d){d.negative=c.negative^A.negative;var g=A.length+c.length|0;d.length=g,g=g-1|0;var w=A.words[0]|0,v=c.words[0]|0,S=w*v,N=S&67108863,I=S/67108864|0;d.words[0]=N;for(var l=1;l<g;l++){for(var C=I>>>26,Z=I&67108863,te=Math.min(l,c.length-1),ee=Math.max(0,l-A.length+1);ee<=te;ee++){var ae=l-ee|0;w=A.words[ae]|0,v=c.words[ee]|0,S=w*v+Z,C+=S/67108864|0,Z=S&67108863}d.words[l]=Z|0,I=C|0}return I!==0?d.words[l]=I|0:d.length--,d._strip()}var G=function(c,d,g){var w=c.words,v=d.words,S=g.words,N=0,I,l,C,Z=w[0]|0,te=Z&8191,ee=Z>>>13,ae=w[1]|0,E=ae&8191,b=ae>>>13,T=w[2]|0,L=T&8191,D=T>>>13,U=w[3]|0,q=U&8191,P=U>>>13,j=w[4]|0,z=j&8191,Q=j>>>13,ue=w[5]|0,he=ue&8191,de=ue>>>13,Be=w[6]|0,_e=Be&8191,Se=Be>>>13,Oe=w[7]|0,Ae=Oe&8191,De=Oe>>>13,is=w[8]|0,Je=is&8191,Xe=is>>>13,wr=w[9]|0,Ge=wr&8191,Le=wr>>>13,Vt=v[0]|0,be=Vt&8191,ft=Vt>>>13,aE=v[1]|0,ht=aE&8191,dt=aE>>>13,uE=v[2]|0,pt=uE&8191,gt=uE>>>13,cE=v[3]|0,yt=cE&8191,mt=cE>>>13,lE=v[4]|0,wt=lE&8191,vt=lE>>>13,fE=v[5]|0,Et=fE&8191,At=fE>>>13,hE=v[6]|0,It=hE&8191,_t=hE>>>13,dE=v[7]|0,bt=dE&8191,Ct=dE>>>13,pE=v[8]|0,St=pE&8191,xt=pE>>>13,gE=v[9]|0,Tt=gE&8191,Nt=gE>>>13;g.negative=c.negative^d.negative,g.length=19,I=Math.imul(te,be),l=Math.imul(te,ft),l=l+Math.imul(ee,be)|0,C=Math.imul(ee,ft);var Gp=(N+I|0)+((l&8191)<<13)|0;N=(C+(l>>>13)|0)+(Gp>>>26)|0,Gp&=67108863,I=Math.imul(E,be),l=Math.imul(E,ft),l=l+Math.imul(b,be)|0,C=Math.imul(b,ft),I=I+Math.imul(te,ht)|0,l=l+Math.imul(te,dt)|0,l=l+Math.imul(ee,ht)|0,C=C+Math.imul(ee,dt)|0;var Kp=(N+I|0)+((l&8191)<<13)|0;N=(C+(l>>>13)|0)+(Kp>>>26)|0,Kp&=67108863,I=Math.imul(L,be),l=Math.imul(L,ft),l=l+Math.imul(D,be)|0,C=Math.imul(D,ft),I=I+Math.imul(E,ht)|0,l=l+Math.imul(E,dt)|0,l=l+Math.imul(b,ht)|0,C=C+Math.imul(b,dt)|0,I=I+Math.imul(te,pt)|0,l=l+Math.imul(te,gt)|0,l=l+Math.imul(ee,pt)|0,C=C+Math.imul(ee,gt)|0;var zp=(N+I|0)+((l&8191)<<13)|0;N=(C+(l>>>13)|0)+(zp>>>26)|0,zp&=67108863,I=Math.imul(q,be),l=Math.imul(q,ft),l=l+Math.imul(P,be)|0,C=Math.imul(P,ft),I=I+Math.imul(L,ht)|0,l=l+Math.imul(L,dt)|0,l=l+Math.imul(D,ht)|0,C=C+Math.imul(D,dt)|0,I=I+Math.imul(E,pt)|0,l=l+Math.imul(E,gt)|0,l=l+Math.imul(b,pt)|0,C=C+Math.imul(b,gt)|0,I=I+Math.imul(te,yt)|0,l=l+Math.imul(te,mt)|0,l=l+Math.imul(ee,yt)|0,C=C+Math.imul(ee,mt)|0;var kp=(N+I|0)+((l&8191)<<13)|0;N=(C+(l>>>13)|0)+(kp>>>26)|0,kp&=67108863,I=Math.imul(z,be),l=Math.imul(z,ft),l=l+Math.imul(Q,be)|0,C=Math.imul(Q,ft),I=I+Math.imul(q,ht)|0,l=l+Math.imul(q,dt)|0,l=l+Math.imul(P,ht)|0,C=C+Math.imul(P,dt)|0,I=I+Math.imul(L,pt)|0,l=l+Math.imul(L,gt)|0,l=l+Math.imul(D,pt)|0,C=C+Math.imul(D,gt)|0,I=I+Math.imul(E,yt)|0,l=l+Math.imul(E,mt)|0,l=l+Math.imul(b,yt)|0,C=C+Math.imul(b,mt)|0,I=I+Math.imul(te,wt)|0,l=l+Math.imul(te,vt)|0,l=l+Math.imul(ee,wt)|0,C=C+Math.imul(ee,vt)|0;var $p=(N+I|0)+((l&8191)<<13)|0;N=(C+(l>>>13)|0)+($p>>>26)|0,$p&=67108863,I=Math.imul(he,be),l=Math.imul(he,ft),l=l+Math.imul(de,be)|0,C=Math.imul(de,ft),I=I+Math.imul(z,ht)|0,l=l+Math.imul(z,dt)|0,l=l+Math.imul(Q,ht)|0,C=C+Math.imul(Q,dt)|0,I=I+Math.imul(q,pt)|0,l=l+Math.imul(q,gt)|0,l=l+Math.imul(P,pt)|0,C=C+Math.imul(P,gt)|0,I=I+Math.imul(L,yt)|0,l=l+Math.imul(L,mt)|0,l=l+Math.imul(D,yt)|0,C=C+Math.imul(D,mt)|0,I=I+Math.imul(E,wt)|0,l=l+Math.imul(E,vt)|0,l=l+Math.imul(b,wt)|0,C=C+Math.imul(b,vt)|0,I=I+Math.imul(te,Et)|0,l=l+Math.imul(te,At)|0,l=l+Math.imul(ee,Et)|0,C=C+Math.imul(ee,At)|0;var Wp=(N+I|0)+((l&8191)<<13)|0;N=(C+(l>>>13)|0)+(Wp>>>26)|0,Wp&=67108863,I=Math.imul(_e,be),l=Math.imul(_e,ft),l=l+Math.imul(Se,be)|0,C=Math.imul(Se,ft),I=I+Math.imul(he,ht)|0,l=l+Math.imul(he,dt)|0,l=l+Math.imul(de,ht)|0,C=C+Math.imul(de,dt)|0,I=I+Math.imul(z,pt)|0,l=l+Math.imul(z,gt)|0,l=l+Math.imul(Q,pt)|0,C=C+Math.imul(Q,gt)|0,I=I+Math.imul(q,yt)|0,l=l+Math.imul(q,mt)|0,l=l+Math.imul(P,yt)|0,C=C+Math.imul(P,mt)|0,I=I+Math.imul(L,wt)|0,l=l+Math.imul(L,vt)|0,l=l+Math.imul(D,wt)|0,C=C+Math.imul(D,vt)|0,I=I+Math.imul(E,Et)|0,l=l+Math.imul(E,At)|0,l=l+Math.imul(b,Et)|0,C=C+Math.imul(b,At)|0,I=I+Math.imul(te,It)|0,l=l+Math.imul(te,_t)|0,l=l+Math.imul(ee,It)|0,C=C+Math.imul(ee,_t)|0;var Yp=(N+I|0)+((l&8191)<<13)|0;N=(C+(l>>>13)|0)+(Yp>>>26)|0,Yp&=67108863,I=Math.imul(Ae,be),l=Math.imul(Ae,ft),l=l+Math.imul(De,be)|0,C=Math.imul(De,ft),I=I+Math.imul(_e,ht)|0,l=l+Math.imul(_e,dt)|0,l=l+Math.imul(Se,ht)|0,C=C+Math.imul(Se,dt)|0,I=I+Math.imul(he,pt)|0,l=l+Math.imul(he,gt)|0,l=l+Math.imul(de,pt)|0,C=C+Math.imul(de,gt)|0,I=I+Math.imul(z,yt)|0,l=l+Math.imul(z,mt)|0,l=l+Math.imul(Q,yt)|0,C=C+Math.imul(Q,mt)|0,I=I+Math.imul(q,wt)|0,l=l+Math.imul(q,vt)|0,l=l+Math.imul(P,wt)|0,C=C+Math.imul(P,vt)|0,I=I+Math.imul(L,Et)|0,l=l+Math.imul(L,At)|0,l=l+Math.imul(D,Et)|0,C=C+Math.imul(D,At)|0,I=I+Math.imul(E,It)|0,l=l+Math.imul(E,_t)|0,l=l+Math.imul(b,It)|0,C=C+Math.imul(b,_t)|0,I=I+Math.imul(te,bt)|0,l=l+Math.imul(te,Ct)|0,l=l+Math.imul(ee,bt)|0,C=C+Math.imul(ee,Ct)|0;var Jp=(N+I|0)+((l&8191)<<13)|0;N=(C+(l>>>13)|0)+(Jp>>>26)|0,Jp&=67108863,I=Math.imul(Je,be),l=Math.imul(Je,ft),l=l+Math.imul(Xe,be)|0,C=Math.imul(Xe,ft),I=I+Math.imul(Ae,ht)|0,l=l+Math.imul(Ae,dt)|0,l=l+Math.imul(De,ht)|0,C=C+Math.imul(De,dt)|0,I=I+Math.imul(_e,pt)|0,l=l+Math.imul(_e,gt)|0,l=l+Math.imul(Se,pt)|0,C=C+Math.imul(Se,gt)|0,I=I+Math.imul(he,yt)|0,l=l+Math.imul(he,mt)|0,l=l+Math.imul(de,yt)|0,C=C+Math.imul(de,mt)|0,I=I+Math.imul(z,wt)|0,l=l+Math.imul(z,vt)|0,l=l+Math.imul(Q,wt)|0,C=C+Math.imul(Q,vt)|0,I=I+Math.imul(q,Et)|0,l=l+Math.imul(q,At)|0,l=l+Math.imul(P,Et)|0,C=C+Math.imul(P,At)|0,I=I+Math.imul(L,It)|0,l=l+Math.imul(L,_t)|0,l=l+Math.imul(D,It)|0,C=C+Math.imul(D,_t)|0,I=I+Math.imul(E,bt)|0,l=l+Math.imul(E,Ct)|0,l=l+Math.imul(b,bt)|0,C=C+Math.imul(b,Ct)|0,I=I+Math.imul(te,St)|0,l=l+Math.imul(te,xt)|0,l=l+Math.imul(ee,St)|0,C=C+Math.imul(ee,xt)|0;var Xp=(N+I|0)+((l&8191)<<13)|0;N=(C+(l>>>13)|0)+(Xp>>>26)|0,Xp&=67108863,I=Math.imul(Ge,be),l=Math.imul(Ge,ft),l=l+Math.imul(Le,be)|0,C=Math.imul(Le,ft),I=I+Math.imul(Je,ht)|0,l=l+Math.imul(Je,dt)|0,l=l+Math.imul(Xe,ht)|0,C=C+Math.imul(Xe,dt)|0,I=I+Math.imul(Ae,pt)|0,l=l+Math.imul(Ae,gt)|0,l=l+Math.imul(De,pt)|0,C=C+Math.imul(De,gt)|0,I=I+Math.imul(_e,yt)|0,l=l+Math.imul(_e,mt)|0,l=l+Math.imul(Se,yt)|0,C=C+Math.imul(Se,mt)|0,I=I+Math.imul(he,wt)|0,l=l+Math.imul(he,vt)|0,l=l+Math.imul(de,wt)|0,C=C+Math.imul(de,vt)|0,I=I+Math.imul(z,Et)|0,l=l+Math.imul(z,At)|0,l=l+Math.imul(Q,Et)|0,C=C+Math.imul(Q,At)|0,I=I+Math.imul(q,It)|0,l=l+Math.imul(q,_t)|0,l=l+Math.imul(P,It)|0,C=C+Math.imul(P,_t)|0,I=I+Math.imul(L,bt)|0,l=l+Math.imul(L,Ct)|0,l=l+Math.imul(D,bt)|0,C=C+Math.imul(D,Ct)|0,I=I+Math.imul(E,St)|0,l=l+Math.imul(E,xt)|0,l=l+Math.imul(b,St)|0,C=C+Math.imul(b,xt)|0,I=I+Math.imul(te,Tt)|0,l=l+Math.imul(te,Nt)|0,l=l+Math.imul(ee,Tt)|0,C=C+Math.imul(ee,Nt)|0;var Zp=(N+I|0)+((l&8191)<<13)|0;N=(C+(l>>>13)|0)+(Zp>>>26)|0,Zp&=67108863,I=Math.imul(Ge,ht),l=Math.imul(Ge,dt),l=l+Math.imul(Le,ht)|0,C=Math.imul(Le,dt),I=I+Math.imul(Je,pt)|0,l=l+Math.imul(Je,gt)|0,l=l+Math.imul(Xe,pt)|0,C=C+Math.imul(Xe,gt)|0,I=I+Math.imul(Ae,yt)|0,l=l+Math.imul(Ae,mt)|0,l=l+Math.imul(De,yt)|0,C=C+Math.imul(De,mt)|0,I=I+Math.imul(_e,wt)|0,l=l+Math.imul(_e,vt)|0,l=l+Math.imul(Se,wt)|0,C=C+Math.imul(Se,vt)|0,I=I+Math.imul(he,Et)|0,l=l+Math.imul(he,At)|0,l=l+Math.imul(de,Et)|0,C=C+Math.imul(de,At)|0,I=I+Math.imul(z,It)|0,l=l+Math.imul(z,_t)|0,l=l+Math.imul(Q,It)|0,C=C+Math.imul(Q,_t)|0,I=I+Math.imul(q,bt)|0,l=l+Math.imul(q,Ct)|0,l=l+Math.imul(P,bt)|0,C=C+Math.imul(P,Ct)|0,I=I+Math.imul(L,St)|0,l=l+Math.imul(L,xt)|0,l=l+Math.imul(D,St)|0,C=C+Math.imul(D,xt)|0,I=I+Math.imul(E,Tt)|0,l=l+Math.imul(E,Nt)|0,l=l+Math.imul(b,Tt)|0,C=C+Math.imul(b,Nt)|0;var e0=(N+I|0)+((l&8191)<<13)|0;N=(C+(l>>>13)|0)+(e0>>>26)|0,e0&=67108863,I=Math.imul(Ge,pt),l=Math.imul(Ge,gt),l=l+Math.imul(Le,pt)|0,C=Math.imul(Le,gt),I=I+Math.imul(Je,yt)|0,l=l+Math.imul(Je,mt)|0,l=l+Math.imul(Xe,yt)|0,C=C+Math.imul(Xe,mt)|0,I=I+Math.imul(Ae,wt)|0,l=l+Math.imul(Ae,vt)|0,l=l+Math.imul(De,wt)|0,C=C+Math.imul(De,vt)|0,I=I+Math.imul(_e,Et)|0,l=l+Math.imul(_e,At)|0,l=l+Math.imul(Se,Et)|0,C=C+Math.imul(Se,At)|0,I=I+Math.imul(he,It)|0,l=l+Math.imul(he,_t)|0,l=l+Math.imul(de,It)|0,C=C+Math.imul(de,_t)|0,I=I+Math.imul(z,bt)|0,l=l+Math.imul(z,Ct)|0,l=l+Math.imul(Q,bt)|0,C=C+Math.imul(Q,Ct)|0,I=I+Math.imul(q,St)|0,l=l+Math.imul(q,xt)|0,l=l+Math.imul(P,St)|0,C=C+Math.imul(P,xt)|0,I=I+Math.imul(L,Tt)|0,l=l+Math.imul(L,Nt)|0,l=l+Math.imul(D,Tt)|0,C=C+Math.imul(D,Nt)|0;var t0=(N+I|0)+((l&8191)<<13)|0;N=(C+(l>>>13)|0)+(t0>>>26)|0,t0&=67108863,I=Math.imul(Ge,yt),l=Math.imul(Ge,mt),l=l+Math.imul(Le,yt)|0,C=Math.imul(Le,mt),I=I+Math.imul(Je,wt)|0,l=l+Math.imul(Je,vt)|0,l=l+Math.imul(Xe,wt)|0,C=C+Math.imul(Xe,vt)|0,I=I+Math.imul(Ae,Et)|0,l=l+Math.imul(Ae,At)|0,l=l+Math.imul(De,Et)|0,C=C+Math.imul(De,At)|0,I=I+Math.imul(_e,It)|0,l=l+Math.imul(_e,_t)|0,l=l+Math.imul(Se,It)|0,C=C+Math.imul(Se,_t)|0,I=I+Math.imul(he,bt)|0,l=l+Math.imul(he,Ct)|0,l=l+Math.imul(de,bt)|0,C=C+Math.imul(de,Ct)|0,I=I+Math.imul(z,St)|0,l=l+Math.imul(z,xt)|0,l=l+Math.imul(Q,St)|0,C=C+Math.imul(Q,xt)|0,I=I+Math.imul(q,Tt)|0,l=l+Math.imul(q,Nt)|0,l=l+Math.imul(P,Tt)|0,C=C+Math.imul(P,Nt)|0;var r0=(N+I|0)+((l&8191)<<13)|0;N=(C+(l>>>13)|0)+(r0>>>26)|0,r0&=67108863,I=Math.imul(Ge,wt),l=Math.imul(Ge,vt),l=l+Math.imul(Le,wt)|0,C=Math.imul(Le,vt),I=I+Math.imul(Je,Et)|0,l=l+Math.imul(Je,At)|0,l=l+Math.imul(Xe,Et)|0,C=C+Math.imul(Xe,At)|0,I=I+Math.imul(Ae,It)|0,l=l+Math.imul(Ae,_t)|0,l=l+Math.imul(De,It)|0,C=C+Math.imul(De,_t)|0,I=I+Math.imul(_e,bt)|0,l=l+Math.imul(_e,Ct)|0,l=l+Math.imul(Se,bt)|0,C=C+Math.imul(Se,Ct)|0,I=I+Math.imul(he,St)|0,l=l+Math.imul(he,xt)|0,l=l+Math.imul(de,St)|0,C=C+Math.imul(de,xt)|0,I=I+Math.imul(z,Tt)|0,l=l+Math.imul(z,Nt)|0,l=l+Math.imul(Q,Tt)|0,C=C+Math.imul(Q,Nt)|0;var i0=(N+I|0)+((l&8191)<<13)|0;N=(C+(l>>>13)|0)+(i0>>>26)|0,i0&=67108863,I=Math.imul(Ge,Et),l=Math.imul(Ge,At),l=l+Math.imul(Le,Et)|0,C=Math.imul(Le,At),I=I+Math.imul(Je,It)|0,l=l+Math.imul(Je,_t)|0,l=l+Math.imul(Xe,It)|0,C=C+Math.imul(Xe,_t)|0,I=I+Math.imul(Ae,bt)|0,l=l+Math.imul(Ae,Ct)|0,l=l+Math.imul(De,bt)|0,C=C+Math.imul(De,Ct)|0,I=I+Math.imul(_e,St)|0,l=l+Math.imul(_e,xt)|0,l=l+Math.imul(Se,St)|0,C=C+Math.imul(Se,xt)|0,I=I+Math.imul(he,Tt)|0,l=l+Math.imul(he,Nt)|0,l=l+Math.imul(de,Tt)|0,C=C+Math.imul(de,Nt)|0;var n0=(N+I|0)+((l&8191)<<13)|0;N=(C+(l>>>13)|0)+(n0>>>26)|0,n0&=67108863,I=Math.imul(Ge,It),l=Math.imul(Ge,_t),l=l+Math.imul(Le,It)|0,C=Math.imul(Le,_t),I=I+Math.imul(Je,bt)|0,l=l+Math.imul(Je,Ct)|0,l=l+Math.imul(Xe,bt)|0,C=C+Math.imul(Xe,Ct)|0,I=I+Math.imul(Ae,St)|0,l=l+Math.imul(Ae,xt)|0,l=l+Math.imul(De,St)|0,C=C+Math.imul(De,xt)|0,I=I+Math.imul(_e,Tt)|0,l=l+Math.imul(_e,Nt)|0,l=l+Math.imul(Se,Tt)|0,C=C+Math.imul(Se,Nt)|0;var s0=(N+I|0)+((l&8191)<<13)|0;N=(C+(l>>>13)|0)+(s0>>>26)|0,s0&=67108863,I=Math.imul(Ge,bt),l=Math.imul(Ge,Ct),l=l+Math.imul(Le,bt)|0,C=Math.imul(Le,Ct),I=I+Math.imul(Je,St)|0,l=l+Math.imul(Je,xt)|0,l=l+Math.imul(Xe,St)|0,C=C+Math.imul(Xe,xt)|0,I=I+Math.imul(Ae,Tt)|0,l=l+Math.imul(Ae,Nt)|0,l=l+Math.imul(De,Tt)|0,C=C+Math.imul(De,Nt)|0;var o0=(N+I|0)+((l&8191)<<13)|0;N=(C+(l>>>13)|0)+(o0>>>26)|0,o0&=67108863,I=Math.imul(Ge,St),l=Math.imul(Ge,xt),l=l+Math.imul(Le,St)|0,C=Math.imul(Le,xt),I=I+Math.imul(Je,Tt)|0,l=l+Math.imul(Je,Nt)|0,l=l+Math.imul(Xe,Tt)|0,C=C+Math.imul(Xe,Nt)|0;var a0=(N+I|0)+((l&8191)<<13)|0;N=(C+(l>>>13)|0)+(a0>>>26)|0,a0&=67108863,I=Math.imul(Ge,Tt),l=Math.imul(Ge,Nt),l=l+Math.imul(Le,Tt)|0,C=Math.imul(Le,Nt);var u0=(N+I|0)+((l&8191)<<13)|0;return N=(C+(l>>>13)|0)+(u0>>>26)|0,u0&=67108863,S[0]=Gp,S[1]=Kp,S[2]=zp,S[3]=kp,S[4]=$p,S[5]=Wp,S[6]=Yp,S[7]=Jp,S[8]=Xp,S[9]=Zp,S[10]=e0,S[11]=t0,S[12]=r0,S[13]=i0,S[14]=n0,S[15]=s0,S[16]=o0,S[17]=a0,S[18]=u0,N!==0&&(S[19]=N,g.length++),g};Math.imul||(G=H);function ie(A,c,d){d.negative=c.negative^A.negative,d.length=A.length+c.length;for(var g=0,w=0,v=0;v<d.length-1;v++){var S=w;w=0;for(var N=g&67108863,I=Math.min(v,c.length-1),l=Math.max(0,v-A.length+1);l<=I;l++){var C=v-l,Z=A.words[C]|0,te=c.words[l]|0,ee=Z*te,ae=ee&67108863;S=S+(ee/67108864|0)|0,ae=ae+N|0,N=ae&67108863,S=S+(ae>>>26)|0,w+=S>>>26,S&=67108863}d.words[v]=N,g=S,S=w}return g!==0?d.words[v]=g:d.length--,d._strip()}function Y(A,c,d){return ie(A,c,d)}n.prototype.mulTo=function(c,d){var g,w=this.length+c.length;return this.length===10&&c.length===10?g=G(this,c,d):w<63?g=H(this,c,d):w<1024?g=ie(this,c,d):g=Y(this,c,d),g};function W(A,c){this.x=A,this.y=c}W.prototype.makeRBT=function(c){for(var d=new Array(c),g=n.prototype._countBits(c)-1,w=0;w<c;w++)d[w]=this.revBin(w,g,c);return d},W.prototype.revBin=function(c,d,g){if(c===0||c===g-1)return c;for(var w=0,v=0;v<d;v++)w|=(c&1)<<d-v-1,c>>=1;return w},W.prototype.permute=function(c,d,g,w,v,S){for(var N=0;N<S;N++)w[N]=d[c[N]],v[N]=g[c[N]]},W.prototype.transform=function(c,d,g,w,v,S){this.permute(S,c,d,g,w,v);for(var N=1;N<v;N<<=1)for(var I=N<<1,l=Math.cos(2*Math.PI/I),C=Math.sin(2*Math.PI/I),Z=0;Z<v;Z+=I)for(var te=l,ee=C,ae=0;ae<N;ae++){var E=g[Z+ae],b=w[Z+ae],T=g[Z+ae+N],L=w[Z+ae+N],D=te*T-ee*L;L=te*L+ee*T,T=D,g[Z+ae]=E+T,w[Z+ae]=b+L,g[Z+ae+N]=E-T,w[Z+ae+N]=b-L,ae!==I&&(D=l*te-C*ee,ee=l*ee+C*te,te=D)}},W.prototype.guessLen13b=function(c,d){var g=Math.max(d,c)|1,w=g&1,v=0;for(g=g/2|0;g;g=g>>>1)v++;return 1<<v+1+w},W.prototype.conjugate=function(c,d,g){if(!(g<=1))for(var w=0;w<g/2;w++){var v=c[w];c[w]=c[g-w-1],c[g-w-1]=v,v=d[w],d[w]=-d[g-w-1],d[g-w-1]=-v}},W.prototype.normalize13b=function(c,d){for(var g=0,w=0;w<d/2;w++){var v=Math.round(c[2*w+1]/d)*8192+Math.round(c[2*w]/d)+g;c[w]=v&67108863,v<67108864?g=0:g=v/67108864|0}return c},W.prototype.convert13b=function(c,d,g,w){for(var v=0,S=0;S<d;S++)v=v+(c[S]|0),g[2*S]=v&8191,v=v>>>13,g[2*S+1]=v&8191,v=v>>>13;for(S=2*d;S<w;++S)g[S]=0;t(v===0),t((v&-8192)===0)},W.prototype.stub=function(c){for(var d=new Array(c),g=0;g<c;g++)d[g]=0;return d},W.prototype.mulp=function(c,d,g){var w=2*this.guessLen13b(c.length,d.length),v=this.makeRBT(w),S=this.stub(w),N=new Array(w),I=new Array(w),l=new Array(w),C=new Array(w),Z=new Array(w),te=new Array(w),ee=g.words;ee.length=w,this.convert13b(c.words,c.length,N,w),this.convert13b(d.words,d.length,C,w),this.transform(N,S,I,l,w,v),this.transform(C,S,Z,te,w,v);for(var ae=0;ae<w;ae++){var E=I[ae]*Z[ae]-l[ae]*te[ae];l[ae]=I[ae]*te[ae]+l[ae]*Z[ae],I[ae]=E}return this.conjugate(I,l,w),this.transform(I,l,ee,S,w,v),this.conjugate(ee,S,w),this.normalize13b(ee,w),g.negative=c.negative^d.negative,g.length=c.length+d.length,g._strip()},n.prototype.mul=function(c){var d=new n(null);return d.words=new Array(this.length+c.length),this.mulTo(c,d)},n.prototype.mulf=function(c){var d=new n(null);return d.words=new Array(this.length+c.length),Y(this,c,d)},n.prototype.imul=function(c){return this.clone().mulTo(c,this)},n.prototype.imuln=function(c){var d=c<0;d&&(c=-c),t(typeof c=="number"),t(c<67108864);for(var g=0,w=0;w<this.length;w++){var v=(this.words[w]|0)*c,S=(v&67108863)+(g&67108863);g>>=26,g+=v/67108864|0,g+=S>>>26,this.words[w]=S&67108863}return g!==0&&(this.words[w]=g,this.length++),d?this.ineg():this},n.prototype.muln=function(c){return this.clone().imuln(c)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(c){var d=V(c);if(d.length===0)return new n(1);for(var g=this,w=0;w<d.length&&d[w]===0;w++,g=g.sqr());if(++w<d.length)for(var v=g.sqr();w<d.length;w++,v=v.sqr())d[w]!==0&&(g=g.mul(v));return g},n.prototype.iushln=function(c){t(typeof c=="number"&&c>=0);var d=c%26,g=(c-d)/26,w=67108863>>>26-d<<26-d,v;if(d!==0){var S=0;for(v=0;v<this.length;v++){var N=this.words[v]&w,I=(this.words[v]|0)-N<<d;this.words[v]=I|S,S=N>>>26-d}S&&(this.words[v]=S,this.length++)}if(g!==0){for(v=this.length-1;v>=0;v--)this.words[v+g]=this.words[v];for(v=0;v<g;v++)this.words[v]=0;this.length+=g}return this._strip()},n.prototype.ishln=function(c){return t(this.negative===0),this.iushln(c)},n.prototype.iushrn=function(c,d,g){t(typeof c=="number"&&c>=0);var w;d?w=(d-d%26)/26:w=0;var v=c%26,S=Math.min((c-v)/26,this.length),N=67108863^67108863>>>v<<v,I=g;if(w-=S,w=Math.max(0,w),I){for(var l=0;l<S;l++)I.words[l]=this.words[l];I.length=S}if(S!==0)if(this.length>S)for(this.length-=S,l=0;l<this.length;l++)this.words[l]=this.words[l+S];else this.words[0]=0,this.length=1;var C=0;for(l=this.length-1;l>=0&&(C!==0||l>=w);l--){var Z=this.words[l]|0;this.words[l]=C<<26-v|Z>>>v,C=Z&N}return I&&C!==0&&(I.words[I.length++]=C),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},n.prototype.ishrn=function(c,d,g){return t(this.negative===0),this.iushrn(c,d,g)},n.prototype.shln=function(c){return this.clone().ishln(c)},n.prototype.ushln=function(c){return this.clone().iushln(c)},n.prototype.shrn=function(c){return this.clone().ishrn(c)},n.prototype.ushrn=function(c){return this.clone().iushrn(c)},n.prototype.testn=function(c){t(typeof c=="number"&&c>=0);var d=c%26,g=(c-d)/26,w=1<<d;if(this.length<=g)return!1;var v=this.words[g];return!!(v&w)},n.prototype.imaskn=function(c){t(typeof c=="number"&&c>=0);var d=c%26,g=(c-d)/26;if(t(this.negative===0,"imaskn works only with positive numbers"),this.length<=g)return this;if(d!==0&&g++,this.length=Math.min(g,this.length),d!==0){var w=67108863^67108863>>>d<<d;this.words[this.length-1]&=w}return this._strip()},n.prototype.maskn=function(c){return this.clone().imaskn(c)},n.prototype.iaddn=function(c){return t(typeof c=="number"),t(c<67108864),c<0?this.isubn(-c):this.negative!==0?this.length===1&&(this.words[0]|0)<=c?(this.words[0]=c-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(c),this.negative=1,this):this._iaddn(c)},n.prototype._iaddn=function(c){this.words[0]+=c;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},n.prototype.isubn=function(c){if(t(typeof c=="number"),t(c<67108864),c<0)return this.iaddn(-c);if(this.negative!==0)return this.negative=0,this.iaddn(c),this.negative=1,this;if(this.words[0]-=c,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this._strip()},n.prototype.addn=function(c){return this.clone().iaddn(c)},n.prototype.subn=function(c){return this.clone().isubn(c)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(c,d,g){var w=c.length+g,v;this._expand(w);var S,N=0;for(v=0;v<c.length;v++){S=(this.words[v+g]|0)+N;var I=(c.words[v]|0)*d;S-=I&67108863,N=(S>>26)-(I/67108864|0),this.words[v+g]=S&67108863}for(;v<this.length-g;v++)S=(this.words[v+g]|0)+N,N=S>>26,this.words[v+g]=S&67108863;if(N===0)return this._strip();for(t(N===-1),N=0,v=0;v<this.length;v++)S=-(this.words[v]|0)+N,N=S>>26,this.words[v]=S&67108863;return this.negative=1,this._strip()},n.prototype._wordDiv=function(c,d){var g=this.length-c.length,w=this.clone(),v=c,S=v.words[v.length-1]|0,N=this._countBits(S);g=26-N,g!==0&&(v=v.ushln(g),w.iushln(g),S=v.words[v.length-1]|0);var I=w.length-v.length,l;if(d!=="mod"){l=new n(null),l.length=I+1,l.words=new Array(l.length);for(var C=0;C<l.length;C++)l.words[C]=0}var Z=w.clone()._ishlnsubmul(v,1,I);Z.negative===0&&(w=Z,l&&(l.words[I]=1));for(var te=I-1;te>=0;te--){var ee=(w.words[v.length+te]|0)*67108864+(w.words[v.length+te-1]|0);for(ee=Math.min(ee/S|0,67108863),w._ishlnsubmul(v,ee,te);w.negative!==0;)ee--,w.negative=0,w._ishlnsubmul(v,1,te),w.isZero()||(w.negative^=1);l&&(l.words[te]=ee)}return l&&l._strip(),w._strip(),d!=="div"&&g!==0&&w.iushrn(g),{div:l||null,mod:w}},n.prototype.divmod=function(c,d,g){if(t(!c.isZero()),this.isZero())return{div:new n(0),mod:new n(0)};var w,v,S;return this.negative!==0&&c.negative===0?(S=this.neg().divmod(c,d),d!=="mod"&&(w=S.div.neg()),d!=="div"&&(v=S.mod.neg(),g&&v.negative!==0&&v.iadd(c)),{div:w,mod:v}):this.negative===0&&c.negative!==0?(S=this.divmod(c.neg(),d),d!=="mod"&&(w=S.div.neg()),{div:w,mod:S.mod}):(this.negative&c.negative)!==0?(S=this.neg().divmod(c.neg(),d),d!=="div"&&(v=S.mod.neg(),g&&v.negative!==0&&v.isub(c)),{div:S.div,mod:v}):c.length>this.length||this.cmp(c)<0?{div:new n(0),mod:this}:c.length===1?d==="div"?{div:this.divn(c.words[0]),mod:null}:d==="mod"?{div:null,mod:new n(this.modrn(c.words[0]))}:{div:this.divn(c.words[0]),mod:new n(this.modrn(c.words[0]))}:this._wordDiv(c,d)},n.prototype.div=function(c){return this.divmod(c,"div",!1).div},n.prototype.mod=function(c){return this.divmod(c,"mod",!1).mod},n.prototype.umod=function(c){return this.divmod(c,"mod",!0).mod},n.prototype.divRound=function(c){var d=this.divmod(c);if(d.mod.isZero())return d.div;var g=d.div.negative!==0?d.mod.isub(c):d.mod,w=c.ushrn(1),v=c.andln(1),S=g.cmp(w);return S<0||v===1&&S===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},n.prototype.modrn=function(c){var d=c<0;d&&(c=-c),t(c<=67108863);for(var g=(1<<26)%c,w=0,v=this.length-1;v>=0;v--)w=(g*w+(this.words[v]|0))%c;return d?-w:w},n.prototype.modn=function(c){return this.modrn(c)},n.prototype.idivn=function(c){var d=c<0;d&&(c=-c),t(c<=67108863);for(var g=0,w=this.length-1;w>=0;w--){var v=(this.words[w]|0)+g*67108864;this.words[w]=v/c|0,g=v%c}return this._strip(),d?this.ineg():this},n.prototype.divn=function(c){return this.clone().idivn(c)},n.prototype.egcd=function(c){t(c.negative===0),t(!c.isZero());var d=this,g=c.clone();d.negative!==0?d=d.umod(c):d=d.clone();for(var w=new n(1),v=new n(0),S=new n(0),N=new n(1),I=0;d.isEven()&&g.isEven();)d.iushrn(1),g.iushrn(1),++I;for(var l=g.clone(),C=d.clone();!d.isZero();){for(var Z=0,te=1;(d.words[0]&te)===0&&Z<26;++Z,te<<=1);if(Z>0)for(d.iushrn(Z);Z-- >0;)(w.isOdd()||v.isOdd())&&(w.iadd(l),v.isub(C)),w.iushrn(1),v.iushrn(1);for(var ee=0,ae=1;(g.words[0]&ae)===0&&ee<26;++ee,ae<<=1);if(ee>0)for(g.iushrn(ee);ee-- >0;)(S.isOdd()||N.isOdd())&&(S.iadd(l),N.isub(C)),S.iushrn(1),N.iushrn(1);d.cmp(g)>=0?(d.isub(g),w.isub(S),v.isub(N)):(g.isub(d),S.isub(w),N.isub(v))}return{a:S,b:N,gcd:g.iushln(I)}},n.prototype._invmp=function(c){t(c.negative===0),t(!c.isZero());var d=this,g=c.clone();d.negative!==0?d=d.umod(c):d=d.clone();for(var w=new n(1),v=new n(0),S=g.clone();d.cmpn(1)>0&&g.cmpn(1)>0;){for(var N=0,I=1;(d.words[0]&I)===0&&N<26;++N,I<<=1);if(N>0)for(d.iushrn(N);N-- >0;)w.isOdd()&&w.iadd(S),w.iushrn(1);for(var l=0,C=1;(g.words[0]&C)===0&&l<26;++l,C<<=1);if(l>0)for(g.iushrn(l);l-- >0;)v.isOdd()&&v.iadd(S),v.iushrn(1);d.cmp(g)>=0?(d.isub(g),w.isub(v)):(g.isub(d),v.isub(w))}var Z;return d.cmpn(1)===0?Z=w:Z=v,Z.cmpn(0)<0&&Z.iadd(c),Z},n.prototype.gcd=function(c){if(this.isZero())return c.abs();if(c.isZero())return this.abs();var d=this.clone(),g=c.clone();d.negative=0,g.negative=0;for(var w=0;d.isEven()&&g.isEven();w++)d.iushrn(1),g.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;g.isEven();)g.iushrn(1);var v=d.cmp(g);if(v<0){var S=d;d=g,g=S}else if(v===0||g.cmpn(1)===0)break;d.isub(g)}while(!0);return g.iushln(w)},n.prototype.invm=function(c){return this.egcd(c).a.umod(c)},n.prototype.isEven=function(){return(this.words[0]&1)===0},n.prototype.isOdd=function(){return(this.words[0]&1)===1},n.prototype.andln=function(c){return this.words[0]&c},n.prototype.bincn=function(c){t(typeof c=="number");var d=c%26,g=(c-d)/26,w=1<<d;if(this.length<=g)return this._expand(g+1),this.words[g]|=w,this;for(var v=w,S=g;v!==0&&S<this.length;S++){var N=this.words[S]|0;N+=v,v=N>>>26,N&=67108863,this.words[S]=N}return v!==0&&(this.words[S]=v,this.length++),this},n.prototype.isZero=function(){return this.length===1&&this.words[0]===0},n.prototype.cmpn=function(c){var d=c<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this._strip();var g;if(this.length>1)g=1;else{d&&(c=-c),t(c<=67108863,"Number is too big");var w=this.words[0]|0;g=w===c?0:w<c?-1:1}return this.negative!==0?-g|0:g},n.prototype.cmp=function(c){if(this.negative!==0&&c.negative===0)return-1;if(this.negative===0&&c.negative!==0)return 1;var d=this.ucmp(c);return this.negative!==0?-d|0:d},n.prototype.ucmp=function(c){if(this.length>c.length)return 1;if(this.length<c.length)return-1;for(var d=0,g=this.length-1;g>=0;g--){var w=this.words[g]|0,v=c.words[g]|0;if(w!==v){w<v?d=-1:w>v&&(d=1);break}}return d},n.prototype.gtn=function(c){return this.cmpn(c)===1},n.prototype.gt=function(c){return this.cmp(c)===1},n.prototype.gten=function(c){return this.cmpn(c)>=0},n.prototype.gte=function(c){return this.cmp(c)>=0},n.prototype.ltn=function(c){return this.cmpn(c)===-1},n.prototype.lt=function(c){return this.cmp(c)===-1},n.prototype.lten=function(c){return this.cmpn(c)<=0},n.prototype.lte=function(c){return this.cmp(c)<=0},n.prototype.eqn=function(c){return this.cmpn(c)===0},n.prototype.eq=function(c){return this.cmp(c)===0},n.red=function(c){return new J(c)},n.prototype.toRed=function(c){return t(!this.red,"Already a number in reduction context"),t(this.negative===0,"red works only with positives"),c.convertTo(this)._forceRed(c)},n.prototype.fromRed=function(){return t(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(c){return this.red=c,this},n.prototype.forceRed=function(c){return t(!this.red,"Already a number in reduction context"),this._forceRed(c)},n.prototype.redAdd=function(c){return t(this.red,"redAdd works only with red numbers"),this.red.add(this,c)},n.prototype.redIAdd=function(c){return t(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,c)},n.prototype.redSub=function(c){return t(this.red,"redSub works only with red numbers"),this.red.sub(this,c)},n.prototype.redISub=function(c){return t(this.red,"redISub works only with red numbers"),this.red.isub(this,c)},n.prototype.redShl=function(c){return t(this.red,"redShl works only with red numbers"),this.red.shl(this,c)},n.prototype.redMul=function(c){return t(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.mul(this,c)},n.prototype.redIMul=function(c){return t(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.imul(this,c)},n.prototype.redSqr=function(){return t(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return t(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return t(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return t(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return t(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(c){return t(this.red&&!c.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,c)};var $={k256:null,p224:null,p192:null,p25519:null};function K(A,c){this.name=A,this.p=new n(c,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}K.prototype._tmp=function(){var c=new n(null);return c.words=new Array(Math.ceil(this.n/13)),c},K.prototype.ireduce=function(c){var d=c,g;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),g=d.bitLength();while(g>this.n);var w=g<this.n?-1:d.ucmp(this.p);return w===0?(d.words[0]=0,d.length=1):w>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},K.prototype.split=function(c,d){c.iushrn(this.n,0,d)},K.prototype.imulK=function(c){return c.imul(this.k)};function R(){K.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(R,K),R.prototype.split=function(c,d){for(var g=4194303,w=Math.min(c.length,9),v=0;v<w;v++)d.words[v]=c.words[v];if(d.length=w,c.length<=9){c.words[0]=0,c.length=1;return}var S=c.words[9];for(d.words[d.length++]=S&g,v=10;v<c.length;v++){var N=c.words[v]|0;c.words[v-10]=(N&g)<<4|S>>>22,S=N}S>>>=22,c.words[v-10]=S,S===0&&c.length>10?c.length-=10:c.length-=9},R.prototype.imulK=function(c){c.words[c.length]=0,c.words[c.length+1]=0,c.length+=2;for(var d=0,g=0;g<c.length;g++){var w=c.words[g]|0;d+=w*977,c.words[g]=d&67108863,d=w*64+(d/67108864|0)}return c.words[c.length-1]===0&&(c.length--,c.words[c.length-1]===0&&c.length--),c};function F(){K.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(F,K);function k(){K.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(k,K);function ce(){K.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(ce,K),ce.prototype.imulK=function(c){for(var d=0,g=0;g<c.length;g++){var w=(c.words[g]|0)*19+d,v=w&67108863;w>>>=26,c.words[g]=v,d=w}return d!==0&&(c.words[c.length++]=d),c},n._prime=function(c){if($[c])return $[c];var d;if(c==="k256")d=new R;else if(c==="p224")d=new F;else if(c==="p192")d=new k;else if(c==="p25519")d=new ce;else throw new Error("Unknown prime "+c);return $[c]=d,d};function J(A){if(typeof A=="string"){var c=n._prime(A);this.m=c.p,this.prime=c}else t(A.gtn(1),"modulus must be greater than 1"),this.m=A,this.prime=null}J.prototype._verify1=function(c){t(c.negative===0,"red works only with positives"),t(c.red,"red works only with red numbers")},J.prototype._verify2=function(c,d){t((c.negative|d.negative)===0,"red works only with positives"),t(c.red&&c.red===d.red,"red works only with red numbers")},J.prototype.imod=function(c){return this.prime?this.prime.ireduce(c)._forceRed(this):(h(c,c.umod(this.m)._forceRed(this)),c)},J.prototype.neg=function(c){return c.isZero()?c.clone():this.m.sub(c)._forceRed(this)},J.prototype.add=function(c,d){this._verify2(c,d);var g=c.add(d);return g.cmp(this.m)>=0&&g.isub(this.m),g._forceRed(this)},J.prototype.iadd=function(c,d){this._verify2(c,d);var g=c.iadd(d);return g.cmp(this.m)>=0&&g.isub(this.m),g},J.prototype.sub=function(c,d){this._verify2(c,d);var g=c.sub(d);return g.cmpn(0)<0&&g.iadd(this.m),g._forceRed(this)},J.prototype.isub=function(c,d){this._verify2(c,d);var g=c.isub(d);return g.cmpn(0)<0&&g.iadd(this.m),g},J.prototype.shl=function(c,d){return this._verify1(c),this.imod(c.ushln(d))},J.prototype.imul=function(c,d){return this._verify2(c,d),this.imod(c.imul(d))},J.prototype.mul=function(c,d){return this._verify2(c,d),this.imod(c.mul(d))},J.prototype.isqr=function(c){return this.imul(c,c.clone())},J.prototype.sqr=function(c){return this.mul(c,c)},J.prototype.sqrt=function(c){if(c.isZero())return c.clone();var d=this.m.andln(3);if(t(d%2===1),d===3){var g=this.m.add(new n(1)).iushrn(2);return this.pow(c,g)}for(var w=this.m.subn(1),v=0;!w.isZero()&&w.andln(1)===0;)v++,w.iushrn(1);t(!w.isZero());var S=new n(1).toRed(this),N=S.redNeg(),I=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new n(2*l*l).toRed(this);this.pow(l,I).cmp(N)!==0;)l.redIAdd(N);for(var C=this.pow(l,w),Z=this.pow(c,w.addn(1).iushrn(1)),te=this.pow(c,w),ee=v;te.cmp(S)!==0;){for(var ae=te,E=0;ae.cmp(S)!==0;E++)ae=ae.redSqr();t(E<ee);var b=this.pow(C,new n(1).iushln(ee-E-1));Z=Z.redMul(b),C=b.redSqr(),te=te.redMul(C),ee=E}return Z},J.prototype.invm=function(c){var d=c._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},J.prototype.pow=function(c,d){if(d.isZero())return new n(1).toRed(this);if(d.cmpn(1)===0)return c.clone();var g=4,w=new Array(1<<g);w[0]=new n(1).toRed(this),w[1]=c;for(var v=2;v<w.length;v++)w[v]=this.mul(w[v-1],c);var S=w[0],N=0,I=0,l=d.bitLength()%26;for(l===0&&(l=26),v=d.length-1;v>=0;v--){for(var C=d.words[v],Z=l-1;Z>=0;Z--){var te=C>>Z&1;if(S!==w[0]&&(S=this.sqr(S)),te===0&&N===0){I=0;continue}N<<=1,N|=te,I++,!(I!==g&&(v!==0||Z!==0))&&(S=this.mul(S,w[N]),I=0,N=0)}l=26}return S},J.prototype.convertTo=function(c){var d=c.umod(this.m);return d===c?d.clone():d},J.prototype.convertFrom=function(c){var d=c.clone();return d.red=null,d},n.mont=function(c){return new X(c)};function X(A){J.call(this,A),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(X,J),X.prototype.convertTo=function(c){return this.imod(c.ushln(this.shift))},X.prototype.convertFrom=function(c){var d=this.imod(c.mul(this.rinv));return d.red=null,d},X.prototype.imul=function(c,d){if(c.isZero()||d.isZero())return c.words[0]=0,c.length=1,c;var g=c.imul(d),w=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=g.isub(w).iushrn(this.shift),S=v;return v.cmp(this.m)>=0?S=v.isub(this.m):v.cmpn(0)<0&&(S=v.iadd(this.m)),S._forceRed(this)},X.prototype.mul=function(c,d){if(c.isZero()||d.isZero())return new n(0)._forceRed(this);var g=c.mul(d),w=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=g.isub(w).iushrn(this.shift),S=v;return v.cmp(this.m)>=0?S=v.isub(this.m):v.cmpn(0)<0&&(S=v.iadd(this.m)),S._forceRed(this)},X.prototype.invm=function(c){var d=this.imod(c._invmp(this.m).mul(this.r2));return d._forceRed(this)}})(typeof Dv>"u"||Dv,TD)});var DD=M(Ap=>{"use strict";f();Object.defineProperty(Ap,"__esModule",{value:!0});Ap.TransactionStatus=void 0;var gl=class{constructor(e){this.status=(e||"").toLowerCase()}static createUnknown(){return new gl("unknown")}isPending(){return this.status=="received"||this.status=="pending"}isExecuted(){return this.isSuccessful()||this.isFailed()||this.isInvalid()}isSuccessful(){return this.status=="executed"||this.status=="success"||this.status=="successful"}isFailed(){return this.status=="fail"||this.status=="failed"||this.status=="unsuccessful"||this.isInvalid()}isInvalid(){return this.status=="invalid"}toString(){return this.status}valueOf(){return this.status}equals(e){return e?this.status==e.status:!1}};Ap.TransactionStatus=gl});var Bu=M(Wt=>{"use strict";f();var eG=Wt&&Wt.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),tG=Wt&&Wt.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),rG=Wt&&Wt.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&eG(e,r,t);return tG(e,r),e};Object.defineProperty(Wt,"__esModule",{value:!0});Wt.zeroPadStringIfOddLength=Wt.isPaddedHex=Wt.numberToPaddedHex=Wt.Nonce=Wt.Address=void 0;var OD=rG(Ql()),iG="erd",yl=class{constructor(e){this.value=e}static fromPubkey(e){let t=OD.toWords(e),i=OD.encode(iG,t);return new yl(i)}bech32(){return this.value}toString(){return this.bech32()}};Wt.Address=yl;var Ov=class{constructor(e){this.value=e}valueOf(){return this.value}hex(){return BD(this.value)}};Wt.Nonce=Ov;function BD(r){let e=r.toString(16);return MD(e)}Wt.numberToPaddedHex=BD;function nG(r){r=r||"";let e=y.Buffer.from(r,"hex").toString("hex");return r.toUpperCase()==e.toUpperCase()}Wt.isPaddedHex=nG;function MD(r){return r=r||"",r.length%2==1?"0"+r:r}Wt.zeroPadStringIfOddLength=MD});var RD=M(Ip=>{"use strict";f();Object.defineProperty(Ip,"__esModule",{value:!0});Ip.TransactionReceipt=void 0;var PD=Bu(),ml=class{constructor(){this.value="",this.sender=new PD.Address(""),this.data="",this.hash=""}static fromHttpResponse(e){let t=new ml;return t.value=(e.value||0).toString(),t.sender=new PD.Address(e.sender),t.data=e.data,t.hash=e.txHash,t}};Ip.TransactionReceipt=ml});var LD=M(Pi=>{"use strict";f();Object.defineProperty(Pi,"__esModule",{value:!0});Pi.ErrContractQuery=Pi.ErrNetworkProvider=Pi.ErrUnexpectedCondition=Pi.Err=void 0;var Mu=class extends Error{constructor(e,t){super(e),this.inner=void 0,this.inner=t}};Pi.Err=Mu;var Bv=class extends Mu{constructor(e){super(`Unexpected condition: [${e}]`)}};Pi.ErrUnexpectedCondition=Bv;var Mv=class extends Mu{constructor(e,t,i){let n=`Request error on url [${e}]: [${t}]`;super(n,i)}};Pi.ErrNetworkProvider=Mv;var Pv=class extends Mu{constructor(e){super(e.message.replace("executeQuery:",""))}};Pi.ErrContractQuery=Pv});var UD=M(Pu=>{"use strict";f();Object.defineProperty(Pu,"__esModule",{value:!0});Pu.TransactionEventTopic=Pu.TransactionEvent=void 0;var FD=Bu(),wl=class{constructor(e){this.address=new FD.Address(""),this.identifier="",this.topics=[],this.data="",Object.assign(this,e)}static fromHttpResponse(e){let t=new wl;return t.address=new FD.Address(e.address),t.identifier=e.identifier||"",t.topics=(e.topics||[]).map(i=>new _p(i)),t.data=y.Buffer.from(e.data||"","base64").toString(),t}findFirstOrNoneTopic(e){return this.topics.filter(t=>e(t))[0]}getLastTopic(){return this.topics[this.topics.length-1]}};Pu.TransactionEvent=wl;var _p=class{constructor(e){this.raw=y.Buffer.from(e||"","base64")}toString(){return this.raw.toString("utf8")}hex(){return this.raw.toString("hex")}valueOf(){return this.raw}};Pu.TransactionEventTopic=_p});var Rv=M(bp=>{"use strict";f();Object.defineProperty(bp,"__esModule",{value:!0});bp.TransactionLogs=void 0;var sG=LD(),qD=Bu(),oG=UD(),vl=class{constructor(e){this.address=new qD.Address(""),this.events=[],Object.assign(this,e)}static fromHttpResponse(e){let t=new vl;return t.address=new qD.Address(e.address),t.events=(e.events||[]).map(i=>oG.TransactionEvent.fromHttpResponse(i)),t}findSingleOrNoneEvent(e,t){let i=this.findEvents(e,t);if(i.length>1)throw new sG.ErrUnexpectedCondition(`more than one event of type ${e}`);return i[0]}findFirstOrNoneEvent(e,t){return this.findEvents(e,t)[0]}findEvents(e,t){let i=this.events.filter(n=>n.identifier==e);return t&&(i=i.filter(n=>t(n))),i}};bp.TransactionLogs=vl});var HD=M(Lu=>{"use strict";f();Object.defineProperty(Lu,"__esModule",{value:!0});Lu.ContractResultItem=Lu.ContractResults=void 0;var VD=Rv(),Cp=Bu(),Ru=class{constructor(e){this.items=e,this.items.sort(function(t,i){return t.nonce.valueOf()-i.nonce.valueOf()})}static fromProxyHttpResponse(e){let t=e.map(i=>nn.fromProxyHttpResponse(i));return new Ru(t)}static fromApiHttpResponse(e){let t=e.map(i=>nn.fromApiHttpResponse(i));return new Ru(t)}};Lu.ContractResults=Ru;var nn=class{constructor(e){this.hash="",this.nonce=0,this.value="",this.receiver=new Cp.Address(""),this.sender=new Cp.Address(""),this.data="",this.previousHash="",this.originalHash="",this.gasLimit=0,this.gasPrice=0,this.callType=0,this.returnMessage="",this.logs=new VD.TransactionLogs,Object.assign(this,e)}static fromProxyHttpResponse(e){return nn.fromHttpResponse(e)}static fromApiHttpResponse(e){let t=nn.fromHttpResponse(e);return t.data=y.Buffer.from(t.data,"base64").toString(),t.callType=Number(t.callType),t}static fromHttpResponse(e){let t=new nn;return t.hash=e.hash,t.nonce=Number(e.nonce||0),t.value=(e.value||0).toString(),t.receiver=new Cp.Address(e.receiver),t.sender=new Cp.Address(e.sender),t.previousHash=e.prevTxHash,t.originalHash=e.originalTxHash,t.gasLimit=Number(e.gasLimit||0),t.gasPrice=Number(e.gasPrice||0),t.data=e.data||"",t.callType=e.callType,t.returnMessage=e.returnMessage,t.logs=VD.TransactionLogs.fromHttpResponse(e.logs||{}),t}};Lu.ContractResultItem=nn});var QD=M(Jn=>{"use strict";f();var aG=Jn&&Jn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Jn,"__esModule",{value:!0});Jn.EsdtContractAddress=Jn.MaxUint64AsBigNumber=void 0;var uG=aG(Ur()),cG=Bu();Jn.MaxUint64AsBigNumber=new uG.default("18446744073709551615");Jn.EsdtContractAddress=new cG.Address("erd1qqqqqqqqqqqqqqqpqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqzllls8a5w6u")});var jD=M(Fu=>{"use strict";f();var lG=Fu&&Fu.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Fu,"__esModule",{value:!0});Fu.ContractQueryResponse=void 0;var fG=lG(Ur()),hG=QD(),El=class{constructor(e){this.returnData=e?.returnData||[],this.returnCode=e?.returnCode||"",this.returnMessage=e?.returnMessage||"",this.gasUsed=e?.gasUsed||0}static fromHttpResponse(e){let t=e.returnData||e.ReturnData,i=e.returnCode||e.ReturnCode,n=e.returnMessage||e.ReturnMessage,s=new fG.default(e.gasRemaining||e.GasRemaining||0),o=hG.MaxUint64AsBigNumber.minus(s).toNumber();return new El({returnData:t,returnCode:i,returnMessage:n,gasUsed:o})}getReturnDataParts(){return this.returnData.map(e=>y.Buffer.from(e||"","base64"))}toJSON(){return{returnData:this.returnData,returnCode:this.returnCode,returnMessage:this.returnMessage,gasUsed:this.gasUsed.valueOf()}}};Fu.ContractQueryResponse=El});var GD=M(Sp=>{"use strict";f();Object.defineProperty(Sp,"__esModule",{value:!0});Sp.ContractQueryRequest=void 0;var Lv=class{constructor(e){this.query=e}toHttpRequest(){var e;let t={},i=this.query;return t.scAddress=i.address.bech32(),t.caller=!((e=i.caller)===null||e===void 0)&&e.bech32()?i.caller.bech32():void 0,t.funcName=i.func.toString(),t.value=i.value?i.value.toString():void 0,t.args=i.getEncodedArguments(),t}};Sp.ContractQueryRequest=Lv});var KD=M(xp=>{"use strict";f();Object.defineProperty(xp,"__esModule",{value:!0});xp.Query=void 0;var dG=qr(),pG=Ff(),Fv=class{constructor(e){this.caller=e.caller||new dG.Address,this.address=e.address,this.func=e.func,this.args=e.args||[],this.value=e.value||0}getEncodedArguments(){return new pG.ArgSerializer().valuesToStrings(this.args)}};xp.Query=Fv});var rO=M((Kie,tO)=>{f();tO.exports=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}});var Xn=M(lo=>{f();var Uv,gG=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];lo.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};lo.getSymbolTotalCodewords=function(e){return gG[e]};lo.getBCHDigit=function(r){let e=0;for(;r!==0;)e++,r>>>=1;return e};lo.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');Uv=e};lo.isKanjiModeEnabled=function(){return typeof Uv<"u"};lo.toSJIS=function(e){return Uv(e)}});var Dp=M(Fr=>{f();Fr.L={bit:1};Fr.M={bit:0};Fr.Q={bit:3};Fr.H={bit:2};function yG(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return Fr.L;case"m":case"medium":return Fr.M;case"q":case"quartile":return Fr.Q;case"h":case"high":return Fr.H;default:throw new Error("Unknown EC Level: "+r)}}Fr.isValid=function(e){return e&&typeof e.bit<"u"&&e.bit>=0&&e.bit<4};Fr.from=function(e,t){if(Fr.isValid(e))return e;try{return yG(e)}catch{return t}}});var sO=M((Jie,nO)=>{f();function iO(){this.buffer=[],this.length=0}iO.prototype={get:function(r){let e=Math.floor(r/8);return(this.buffer[e]>>>7-r%8&1)===1},put:function(r,e){for(let t=0;t<e;t++)this.putBit((r>>>e-t-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(r){let e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),r&&(this.buffer[e]|=128>>>this.length%8),this.length++}};nO.exports=iO});var aO=M((Zie,oO)=>{f();function Al(r){if(!r||r<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=r,this.data=new Uint8Array(r*r),this.reservedBit=new Uint8Array(r*r)}Al.prototype.set=function(r,e,t,i){let n=r*this.size+e;this.data[n]=t,i&&(this.reservedBit[n]=!0)};Al.prototype.get=function(r,e){return this.data[r*this.size+e]};Al.prototype.xor=function(r,e,t){this.data[r*this.size+e]^=t};Al.prototype.isReserved=function(r,e){return this.reservedBit[r*this.size+e]};oO.exports=Al});var uO=M(Op=>{f();var mG=Xn().getSymbolSize;Op.getRowColCoords=function(e){if(e===1)return[];let t=Math.floor(e/7)+2,i=mG(e),n=i===145?26:Math.ceil((i-13)/(2*t-2))*2,s=[i-7];for(let o=1;o<t-1;o++)s[o]=s[o-1]-n;return s.push(6),s.reverse()};Op.getPositions=function(e){let t=[],i=Op.getRowColCoords(e),n=i.length;for(let s=0;s<n;s++)for(let o=0;o<n;o++)s===0&&o===0||s===0&&o===n-1||s===n-1&&o===0||t.push([i[s],i[o]]);return t}});var fO=M(lO=>{f();var wG=Xn().getSymbolSize,cO=7;lO.getPositions=function(e){let t=wG(e);return[[0,0],[t-cO,0],[0,t-cO]]}});var hO=M(ke=>{f();ke.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var fo={N1:3,N2:3,N3:40,N4:10};ke.isValid=function(e){return e!=null&&e!==""&&!isNaN(e)&&e>=0&&e<=7};ke.from=function(e){return ke.isValid(e)?parseInt(e,10):void 0};ke.getPenaltyN1=function(e){let t=e.size,i=0,n=0,s=0,o=null,a=null;for(let u=0;u<t;u++){n=s=0,o=a=null;for(let h=0;h<t;h++){let p=e.get(u,h);p===o?n++:(n>=5&&(i+=fo.N1+(n-5)),o=p,n=1),p=e.get(h,u),p===a?s++:(s>=5&&(i+=fo.N1+(s-5)),a=p,s=1)}n>=5&&(i+=fo.N1+(n-5)),s>=5&&(i+=fo.N1+(s-5))}return i};ke.getPenaltyN2=function(e){let t=e.size,i=0;for(let n=0;n<t-1;n++)for(let s=0;s<t-1;s++){let o=e.get(n,s)+e.get(n,s+1)+e.get(n+1,s)+e.get(n+1,s+1);(o===4||o===0)&&i++}return i*fo.N2};ke.getPenaltyN3=function(e){let t=e.size,i=0,n=0,s=0;for(let o=0;o<t;o++){n=s=0;for(let a=0;a<t;a++)n=n<<1&2047|e.get(o,a),a>=10&&(n===1488||n===93)&&i++,s=s<<1&2047|e.get(a,o),a>=10&&(s===1488||s===93)&&i++}return i*fo.N3};ke.getPenaltyN4=function(e){let t=0,i=e.data.length;for(let s=0;s<i;s++)t+=e.data[s];return Math.abs(Math.ceil(t*100/i/5)-10)*fo.N4};function vG(r,e,t){switch(r){case ke.Patterns.PATTERN000:return(e+t)%2===0;case ke.Patterns.PATTERN001:return e%2===0;case ke.Patterns.PATTERN010:return t%3===0;case ke.Patterns.PATTERN011:return(e+t)%3===0;case ke.Patterns.PATTERN100:return(Math.floor(e/2)+Math.floor(t/3))%2===0;case ke.Patterns.PATTERN101:return e*t%2+e*t%3===0;case ke.Patterns.PATTERN110:return(e*t%2+e*t%3)%2===0;case ke.Patterns.PATTERN111:return(e*t%3+(e+t)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}ke.applyMask=function(e,t){let i=t.size;for(let n=0;n<i;n++)for(let s=0;s<i;s++)t.isReserved(s,n)||t.xor(s,n,vG(e,s,n))};ke.getBestMask=function(e,t){let i=Object.keys(ke.Patterns).length,n=0,s=1/0;for(let o=0;o<i;o++){t(o),ke.applyMask(o,e);let a=ke.getPenaltyN1(e)+ke.getPenaltyN2(e)+ke.getPenaltyN3(e)+ke.getPenaltyN4(e);ke.applyMask(o,e),a<s&&(s=a,n=o)}return n}});var Vv=M(qv=>{f();var Zn=Dp(),Bp=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Mp=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];qv.getBlocksCount=function(e,t){switch(t){case Zn.L:return Bp[(e-1)*4+0];case Zn.M:return Bp[(e-1)*4+1];case Zn.Q:return Bp[(e-1)*4+2];case Zn.H:return Bp[(e-1)*4+3];default:return}};qv.getTotalCodewordsCount=function(e,t){switch(t){case Zn.L:return Mp[(e-1)*4+0];case Zn.M:return Mp[(e-1)*4+1];case Zn.Q:return Mp[(e-1)*4+2];case Zn.H:return Mp[(e-1)*4+3];default:return}}});var dO=M(Rp=>{f();var Il=new Uint8Array(512),Pp=new Uint8Array(256);(function(){let e=1;for(let t=0;t<255;t++)Il[t]=e,Pp[e]=t,e<<=1,e&256&&(e^=285);for(let t=255;t<512;t++)Il[t]=Il[t-255]})();Rp.log=function(e){if(e<1)throw new Error("log("+e+")");return Pp[e]};Rp.exp=function(e){return Il[e]};Rp.mul=function(e,t){return e===0||t===0?0:Il[Pp[e]+Pp[t]]}});var pO=M(_l=>{f();var Hv=dO();_l.mul=function(e,t){let i=new Uint8Array(e.length+t.length-1);for(let n=0;n<e.length;n++)for(let s=0;s<t.length;s++)i[n+s]^=Hv.mul(e[n],t[s]);return i};_l.mod=function(e,t){let i=new Uint8Array(e);for(;i.length-t.length>=0;){let n=i[0];for(let o=0;o<t.length;o++)i[o]^=Hv.mul(t[o],n);let s=0;for(;s<i.length&&i[s]===0;)s++;i=i.slice(s)}return i};_l.generateECPolynomial=function(e){let t=new Uint8Array([1]);for(let i=0;i<e;i++)t=_l.mul(t,new Uint8Array([1,Hv.exp(i)]));return t}});var mO=M((dne,yO)=>{f();var gO=pO();function Qv(r){this.genPoly=void 0,this.degree=r,this.degree&&this.initialize(this.degree)}Qv.prototype.initialize=function(e){this.degree=e,this.genPoly=gO.generateECPolynomial(this.degree)};Qv.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");let t=new Uint8Array(e.length+this.degree);t.set(e);let i=gO.mod(t,this.genPoly),n=this.degree-i.length;if(n>0){let s=new Uint8Array(this.degree);return s.set(i,n),s}return i};yO.exports=Qv});var jv=M(wO=>{f();wO.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}});var Gv=M(sn=>{f();var vO="[0-9]+",EG="[A-Z $%*+\\-./:]+",bl="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";bl=bl.replace(/u/g,"\\u");var AG="(?:(?![A-Z0-9 $%*+\\-./:]|"+bl+`)(?:.|[\r
]))+`;sn.KANJI=new RegExp(bl,"g");sn.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");sn.BYTE=new RegExp(AG,"g");sn.NUMERIC=new RegExp(vO,"g");sn.ALPHANUMERIC=new RegExp(EG,"g");var IG=new RegExp("^"+bl+"$"),_G=new RegExp("^"+vO+"$"),bG=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");sn.testKanji=function(e){return IG.test(e)};sn.testNumeric=function(e){return _G.test(e)};sn.testAlphanumeric=function(e){return bG.test(e)}});var es=M(Lt=>{f();var CG=jv(),Kv=Gv();Lt.NUMERIC={id:"Numeric",bit:1<<0,ccBits:[10,12,14]};Lt.ALPHANUMERIC={id:"Alphanumeric",bit:1<<1,ccBits:[9,11,13]};Lt.BYTE={id:"Byte",bit:1<<2,ccBits:[8,16,16]};Lt.KANJI={id:"Kanji",bit:1<<3,ccBits:[8,10,12]};Lt.MIXED={bit:-1};Lt.getCharCountIndicator=function(e,t){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!CG.isValid(t))throw new Error("Invalid version: "+t);return t>=1&&t<10?e.ccBits[0]:t<27?e.ccBits[1]:e.ccBits[2]};Lt.getBestModeForData=function(e){return Kv.testNumeric(e)?Lt.NUMERIC:Kv.testAlphanumeric(e)?Lt.ALPHANUMERIC:Kv.testKanji(e)?Lt.KANJI:Lt.BYTE};Lt.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")};Lt.isValid=function(e){return e&&e.bit&&e.ccBits};function SG(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"numeric":return Lt.NUMERIC;case"alphanumeric":return Lt.ALPHANUMERIC;case"kanji":return Lt.KANJI;case"byte":return Lt.BYTE;default:throw new Error("Unknown mode: "+r)}}Lt.from=function(e,t){if(Lt.isValid(e))return e;try{return SG(e)}catch{return t}}});var bO=M(ho=>{f();var Lp=Xn(),xG=Vv(),EO=Dp(),ts=es(),zv=jv(),IO=1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,AO=Lp.getBCHDigit(IO);function TG(r,e,t){for(let i=1;i<=40;i++)if(e<=ho.getCapacity(i,t,r))return i}function _O(r,e){return ts.getCharCountIndicator(r,e)+4}function NG(r,e){let t=0;return r.forEach(function(i){let n=_O(i.mode,e);t+=n+i.getBitsLength()}),t}function DG(r,e){for(let t=1;t<=40;t++)if(NG(r,t)<=ho.getCapacity(t,e,ts.MIXED))return t}ho.from=function(e,t){return zv.isValid(e)?parseInt(e,10):t};ho.getCapacity=function(e,t,i){if(!zv.isValid(e))throw new Error("Invalid QR Code version");typeof i>"u"&&(i=ts.BYTE);let n=Lp.getSymbolTotalCodewords(e),s=xG.getTotalCodewordsCount(e,t),o=(n-s)*8;if(i===ts.MIXED)return o;let a=o-_O(i,e);switch(i){case ts.NUMERIC:return Math.floor(a/10*3);case ts.ALPHANUMERIC:return Math.floor(a/11*2);case ts.KANJI:return Math.floor(a/13);case ts.BYTE:default:return Math.floor(a/8)}};ho.getBestVersionForData=function(e,t){let i,n=EO.from(t,EO.M);if(Array.isArray(e)){if(e.length>1)return DG(e,n);if(e.length===0)return 1;i=e[0]}else i=e;return TG(i.mode,i.getLength(),n)};ho.getEncodedBits=function(e){if(!zv.isValid(e)||e<7)throw new Error("Invalid QR Code version");let t=e<<12;for(;Lp.getBCHDigit(t)-AO>=0;)t^=IO<<Lp.getBCHDigit(t)-AO;return e<<12|t}});var TO=M(xO=>{f();var kv=Xn(),SO=1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,OG=1<<14|1<<12|1<<10|1<<4|1<<1,CO=kv.getBCHDigit(SO);xO.getEncodedBits=function(e,t){let i=e.bit<<3|t,n=i<<10;for(;kv.getBCHDigit(n)-CO>=0;)n^=SO<<kv.getBCHDigit(n)-CO;return(i<<10|n)^OG}});var DO=M((Cne,NO)=>{f();var BG=es();function Uu(r){this.mode=BG.NUMERIC,this.data=r.toString()}Uu.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};Uu.prototype.getLength=function(){return this.data.length};Uu.prototype.getBitsLength=function(){return Uu.getBitsLength(this.data.length)};Uu.prototype.write=function(e){let t,i,n;for(t=0;t+3<=this.data.length;t+=3)i=this.data.substr(t,3),n=parseInt(i,10),e.put(n,10);let s=this.data.length-t;s>0&&(i=this.data.substr(t),n=parseInt(i,10),e.put(n,s*3+1))};NO.exports=Uu});var BO=M((xne,OO)=>{f();var MG=es(),$v=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function qu(r){this.mode=MG.ALPHANUMERIC,this.data=r}qu.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};qu.prototype.getLength=function(){return this.data.length};qu.prototype.getBitsLength=function(){return qu.getBitsLength(this.data.length)};qu.prototype.write=function(e){let t;for(t=0;t+2<=this.data.length;t+=2){let i=$v.indexOf(this.data[t])*45;i+=$v.indexOf(this.data[t+1]),e.put(i,11)}this.data.length%2&&e.put($v.indexOf(this.data[t]),6)};OO.exports=qu});var PO=M((Nne,MO)=>{"use strict";f();MO.exports=function(e){for(var t=[],i=e.length,n=0;n<i;n++){var s=e.charCodeAt(n);if(s>=55296&&s<=56319&&i>n+1){var o=e.charCodeAt(n+1);o>=56320&&o<=57343&&(s=(s-55296)*1024+o-56320+65536,n+=1)}if(s<128){t.push(s);continue}if(s<2048){t.push(s>>6|192),t.push(s&63|128);continue}if(s<55296||s>=57344&&s<65536){t.push(s>>12|224),t.push(s>>6&63|128),t.push(s&63|128);continue}if(s>=65536&&s<=1114111){t.push(s>>18|240),t.push(s>>12&63|128),t.push(s>>6&63|128),t.push(s&63|128);continue}t.push(239,191,189)}return new Uint8Array(t).buffer}});var LO=M((One,RO)=>{f();var PG=PO(),RG=es();function Vu(r){this.mode=RG.BYTE,typeof r=="string"&&(r=PG(r)),this.data=new Uint8Array(r)}Vu.getBitsLength=function(e){return e*8};Vu.prototype.getLength=function(){return this.data.length};Vu.prototype.getBitsLength=function(){return Vu.getBitsLength(this.data.length)};Vu.prototype.write=function(r){for(let e=0,t=this.data.length;e<t;e++)r.put(this.data[e],8)};RO.exports=Vu});var UO=M((Mne,FO)=>{f();var LG=es(),FG=Xn();function Hu(r){this.mode=LG.KANJI,this.data=r}Hu.getBitsLength=function(e){return e*13};Hu.prototype.getLength=function(){return this.data.length};Hu.prototype.getBitsLength=function(){return Hu.getBitsLength(this.data.length)};Hu.prototype.write=function(r){let e;for(e=0;e<this.data.length;e++){let t=FG.toSJIS(this.data[e]);if(t>=33088&&t<=40956)t-=33088;else if(t>=57408&&t<=60351)t-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);t=(t>>>8&255)*192+(t&255),r.put(t,13)}};FO.exports=Hu});var qO=M((Rne,Wv)=>{"use strict";f();var Cl={single_source_shortest_paths:function(r,e,t){var i={},n={};n[e]=0;var s=Cl.PriorityQueue.make();s.push(e,0);for(var o,a,u,h,p,m,O,B,x;!s.empty();){o=s.pop(),a=o.value,h=o.cost,p=r[a]||{};for(u in p)p.hasOwnProperty(u)&&(m=p[u],O=h+m,B=n[u],x=typeof n[u]>"u",(x||B>O)&&(n[u]=O,s.push(u,O),i[u]=a))}if(typeof t<"u"&&typeof n[t]>"u"){var V=["Could not find a path from ",e," to ",t,"."].join("");throw new Error(V)}return i},extract_shortest_path_from_predecessor_list:function(r,e){for(var t=[],i=e,n;i;)t.push(i),n=r[i],i=r[i];return t.reverse(),t},find_path:function(r,e,t){var i=Cl.single_source_shortest_paths(r,e,t);return Cl.extract_shortest_path_from_predecessor_list(i,t)},PriorityQueue:{make:function(r){var e=Cl.PriorityQueue,t={},i;r=r||{};for(i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t.queue=[],t.sorter=r.sorter||e.default_sorter,t},default_sorter:function(r,e){return r.cost-e.cost},push:function(r,e){var t={value:r,cost:e};this.queue.push(t),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};typeof Wv<"u"&&(Wv.exports=Cl)});var kO=M(Qu=>{f();var Ve=es(),QO=DO(),jO=BO(),GO=LO(),KO=UO(),Sl=Gv(),Fp=Xn(),UG=qO();function VO(r){return unescape(encodeURIComponent(r)).length}function xl(r,e,t){let i=[],n;for(;(n=r.exec(t))!==null;)i.push({data:n[0],index:n.index,mode:e,length:n[0].length});return i}function zO(r){let e=xl(Sl.NUMERIC,Ve.NUMERIC,r),t=xl(Sl.ALPHANUMERIC,Ve.ALPHANUMERIC,r),i,n;return Fp.isKanjiModeEnabled()?(i=xl(Sl.BYTE,Ve.BYTE,r),n=xl(Sl.KANJI,Ve.KANJI,r)):(i=xl(Sl.BYTE_KANJI,Ve.BYTE,r),n=[]),e.concat(t,i,n).sort(function(o,a){return o.index-a.index}).map(function(o){return{data:o.data,mode:o.mode,length:o.length}})}function Yv(r,e){switch(e){case Ve.NUMERIC:return QO.getBitsLength(r);case Ve.ALPHANUMERIC:return jO.getBitsLength(r);case Ve.KANJI:return KO.getBitsLength(r);case Ve.BYTE:return GO.getBitsLength(r)}}function qG(r){return r.reduce(function(e,t){let i=e.length-1>=0?e[e.length-1]:null;return i&&i.mode===t.mode?(e[e.length-1].data+=t.data,e):(e.push(t),e)},[])}function VG(r){let e=[];for(let t=0;t<r.length;t++){let i=r[t];switch(i.mode){case Ve.NUMERIC:e.push([i,{data:i.data,mode:Ve.ALPHANUMERIC,length:i.length},{data:i.data,mode:Ve.BYTE,length:i.length}]);break;case Ve.ALPHANUMERIC:e.push([i,{data:i.data,mode:Ve.BYTE,length:i.length}]);break;case Ve.KANJI:e.push([i,{data:i.data,mode:Ve.BYTE,length:VO(i.data)}]);break;case Ve.BYTE:e.push([{data:i.data,mode:Ve.BYTE,length:VO(i.data)}])}}return e}function HG(r,e){let t={},i={start:{}},n=["start"];for(let s=0;s<r.length;s++){let o=r[s],a=[];for(let u=0;u<o.length;u++){let h=o[u],p=""+s+u;a.push(p),t[p]={node:h,lastCount:0},i[p]={};for(let m=0;m<n.length;m++){let O=n[m];t[O]&&t[O].node.mode===h.mode?(i[O][p]=Yv(t[O].lastCount+h.length,h.mode)-Yv(t[O].lastCount,h.mode),t[O].lastCount+=h.length):(t[O]&&(t[O].lastCount=h.length),i[O][p]=Yv(h.length,h.mode)+4+Ve.getCharCountIndicator(h.mode,e))}}n=a}for(let s=0;s<n.length;s++)i[n[s]].end=0;return{map:i,table:t}}function HO(r,e){let t,i=Ve.getBestModeForData(r);if(t=Ve.from(e,i),t!==Ve.BYTE&&t.bit<i.bit)throw new Error('"'+r+'" cannot be encoded with mode '+Ve.toString(t)+`.
 Suggested mode is: `+Ve.toString(i));switch(t===Ve.KANJI&&!Fp.isKanjiModeEnabled()&&(t=Ve.BYTE),t){case Ve.NUMERIC:return new QO(r);case Ve.ALPHANUMERIC:return new jO(r);case Ve.KANJI:return new KO(r);case Ve.BYTE:return new GO(r)}}Qu.fromArray=function(e){return e.reduce(function(t,i){return typeof i=="string"?t.push(HO(i,null)):i.data&&t.push(HO(i.data,i.mode)),t},[])};Qu.fromString=function(e,t){let i=zO(e,Fp.isKanjiModeEnabled()),n=VG(i),s=HG(n,t),o=UG.find_path(s.map,"start","end"),a=[];for(let u=1;u<o.length-1;u++)a.push(s.table[o[u]].node);return Qu.fromArray(qG(a))};Qu.rawSplit=function(e){return Qu.fromArray(zO(e,Fp.isKanjiModeEnabled()))}});var WO=M($O=>{f();var qp=Xn(),Jv=Dp(),QG=sO(),jG=aO(),GG=uO(),KG=fO(),eE=hO(),tE=Vv(),zG=mO(),Up=bO(),kG=TO(),$G=es(),Xv=kO();function WG(r,e){let t=r.size,i=KG.getPositions(e);for(let n=0;n<i.length;n++){let s=i[n][0],o=i[n][1];for(let a=-1;a<=7;a++)if(!(s+a<=-1||t<=s+a))for(let u=-1;u<=7;u++)o+u<=-1||t<=o+u||(a>=0&&a<=6&&(u===0||u===6)||u>=0&&u<=6&&(a===0||a===6)||a>=2&&a<=4&&u>=2&&u<=4?r.set(s+a,o+u,!0,!0):r.set(s+a,o+u,!1,!0))}}function YG(r){let e=r.size;for(let t=8;t<e-8;t++){let i=t%2===0;r.set(t,6,i,!0),r.set(6,t,i,!0)}}function JG(r,e){let t=GG.getPositions(e);for(let i=0;i<t.length;i++){let n=t[i][0],s=t[i][1];for(let o=-2;o<=2;o++)for(let a=-2;a<=2;a++)o===-2||o===2||a===-2||a===2||o===0&&a===0?r.set(n+o,s+a,!0,!0):r.set(n+o,s+a,!1,!0)}}function XG(r,e){let t=r.size,i=Up.getEncodedBits(e),n,s,o;for(let a=0;a<18;a++)n=Math.floor(a/3),s=a%3+t-8-3,o=(i>>a&1)===1,r.set(n,s,o,!0),r.set(s,n,o,!0)}function Zv(r,e,t){let i=r.size,n=kG.getEncodedBits(e,t),s,o;for(s=0;s<15;s++)o=(n>>s&1)===1,s<6?r.set(s,8,o,!0):s<8?r.set(s+1,8,o,!0):r.set(i-15+s,8,o,!0),s<8?r.set(8,i-s-1,o,!0):s<9?r.set(8,15-s-1+1,o,!0):r.set(8,15-s-1,o,!0);r.set(i-8,8,1,!0)}function ZG(r,e){let t=r.size,i=-1,n=t-1,s=7,o=0;for(let a=t-1;a>0;a-=2)for(a===6&&a--;;){for(let u=0;u<2;u++)if(!r.isReserved(n,a-u)){let h=!1;o<e.length&&(h=(e[o]>>>s&1)===1),r.set(n,a-u,h),s--,s===-1&&(o++,s=7)}if(n+=i,n<0||t<=n){n-=i,i=-i;break}}}function eK(r,e,t){let i=new QG;t.forEach(function(u){i.put(u.mode.bit,4),i.put(u.getLength(),$G.getCharCountIndicator(u.mode,r)),u.write(i)});let n=qp.getSymbolTotalCodewords(r),s=tE.getTotalCodewordsCount(r,e),o=(n-s)*8;for(i.getLengthInBits()+4<=o&&i.put(0,4);i.getLengthInBits()%8!==0;)i.putBit(0);let a=(o-i.getLengthInBits())/8;for(let u=0;u<a;u++)i.put(u%2?17:236,8);return tK(i,r,e)}function tK(r,e,t){let i=qp.getSymbolTotalCodewords(e),n=tE.getTotalCodewordsCount(e,t),s=i-n,o=tE.getBlocksCount(e,t),a=i%o,u=o-a,h=Math.floor(i/o),p=Math.floor(s/o),m=p+1,O=h-p,B=new zG(O),x=0,V=new Array(o),H=new Array(o),G=0,ie=new Uint8Array(r.buffer);for(let R=0;R<o;R++){let F=R<u?p:m;V[R]=ie.slice(x,x+F),H[R]=B.encode(V[R]),x+=F,G=Math.max(G,F)}let Y=new Uint8Array(i),W=0,$,K;for($=0;$<G;$++)for(K=0;K<o;K++)$<V[K].length&&(Y[W++]=V[K][$]);for($=0;$<O;$++)for(K=0;K<o;K++)Y[W++]=H[K][$];return Y}function rK(r,e,t,i){let n;if(Array.isArray(r))n=Xv.fromArray(r);else if(typeof r=="string"){let h=e;if(!h){let p=Xv.rawSplit(r);h=Up.getBestVersionForData(p,t)}n=Xv.fromString(r,h||40)}else throw new Error("Invalid data");let s=Up.getBestVersionForData(n,t);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=s;else if(e<s)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+s+`.
`);let o=eK(e,t,n),a=qp.getSymbolSize(e),u=new jG(a);return WG(u,e),YG(u),JG(u,e),Zv(u,t,0),e>=7&&XG(u,e),ZG(u,o),isNaN(i)&&(i=eE.getBestMask(u,Zv.bind(null,u,t))),eE.applyMask(i,u),Zv(u,t,i),{modules:u,version:e,errorCorrectionLevel:t,maskPattern:i,segments:n}}$O.create=function(e,t){if(typeof e>"u"||e==="")throw new Error("No input text");let i=Jv.M,n,s;return typeof t<"u"&&(i=Jv.from(t.errorCorrectionLevel,Jv.M),n=Up.from(t.version),s=eE.from(t.maskPattern),t.toSJISFunc&&qp.setToSJISFunction(t.toSJISFunc)),rK(e,n,i,s)}});var rE=M(po=>{f();function YO(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let e=r.slice().replace("#","").split("");if(e.length<3||e.length===5||e.length>8)throw new Error("Invalid hex color: "+r);(e.length===3||e.length===4)&&(e=Array.prototype.concat.apply([],e.map(function(i){return[i,i]}))),e.length===6&&e.push("F","F");let t=parseInt(e.join(""),16);return{r:t>>24&255,g:t>>16&255,b:t>>8&255,a:t&255,hex:"#"+e.slice(0,6).join("")}}po.getOptions=function(e){e||(e={}),e.color||(e.color={});let t=typeof e.margin>"u"||e.margin===null||e.margin<0?4:e.margin,i=e.width&&e.width>=21?e.width:void 0,n=e.scale||4;return{width:i,scale:i?4:n,margin:t,color:{dark:YO(e.color.dark||"#000000ff"),light:YO(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}};po.getScale=function(e,t){return t.width&&t.width>=e+t.margin*2?t.width/(e+t.margin*2):t.scale};po.getImageWidth=function(e,t){let i=po.getScale(e,t);return Math.floor((e+t.margin*2)*i)};po.qrToImageData=function(e,t,i){let n=t.modules.size,s=t.modules.data,o=po.getScale(n,i),a=Math.floor((n+i.margin*2)*o),u=i.margin*o,h=[i.color.light,i.color.dark];for(let p=0;p<a;p++)for(let m=0;m<a;m++){let O=(p*a+m)*4,B=i.color.light;if(p>=u&&m>=u&&p<a-u&&m<a-u){let x=Math.floor((p-u)/o),V=Math.floor((m-u)/o);B=h[s[x*n+V]?1:0]}e[O++]=B.r,e[O++]=B.g,e[O++]=B.b,e[O]=B.a}}});var JO=M(Vp=>{f();var iE=rE();function iK(r,e,t){r.clearRect(0,0,e.width,e.height),e.style||(e.style={}),e.height=t,e.width=t,e.style.height=t+"px",e.style.width=t+"px"}function nK(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}Vp.render=function(e,t,i){let n=i,s=t;typeof n>"u"&&(!t||!t.getContext)&&(n=t,t=void 0),t||(s=nK()),n=iE.getOptions(n);let o=iE.getImageWidth(e.modules.size,n),a=s.getContext("2d"),u=a.createImageData(o,o);return iE.qrToImageData(u.data,e,n),iK(a,s,o),a.putImageData(u,0,0),s};Vp.renderToDataURL=function(e,t,i){let n=i;typeof n>"u"&&(!t||!t.getContext)&&(n=t,t=void 0),n||(n={});let s=Vp.render(e,t,n),o=n.type||"image/png",a=n.rendererOpts||{};return s.toDataURL(o,a.quality)}});var e8=M(ZO=>{f();var sK=rE();function XO(r,e){let t=r.a/255,i=e+'="'+r.hex+'"';return t<1?i+" "+e+'-opacity="'+t.toFixed(2).slice(1)+'"':i}function nE(r,e,t){let i=r+e;return typeof t<"u"&&(i+=" "+t),i}function oK(r,e,t){let i="",n=0,s=!1,o=0;for(let a=0;a<r.length;a++){let u=Math.floor(a%e),h=Math.floor(a/e);!u&&!s&&(s=!0),r[a]?(o++,a>0&&u>0&&r[a-1]||(i+=s?nE("M",u+t,.5+h+t):nE("m",n,0),n=0,s=!1),u+1<e&&r[a+1]||(i+=nE("h",o),o=0)):n++}return i}ZO.render=function(e,t,i){let n=sK.getOptions(t),s=e.modules.size,o=e.modules.data,a=s+n.margin*2,u=n.color.light.a?"<path "+XO(n.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",h="<path "+XO(n.color.dark,"stroke")+' d="'+oK(o,s,n.margin)+'"/>',p='viewBox="0 0 '+a+" "+a+'"',O='<svg xmlns="http://www.w3.org/2000/svg" '+(n.width?'width="'+n.width+'" height="'+n.width+'" ':"")+p+' shape-rendering="crispEdges">'+u+h+`</svg>
`;return typeof i=="function"&&i(null,O),O}});var r8=M(Tl=>{f();var aK=rO(),sE=WO(),t8=JO(),uK=e8();function oE(r,e,t,i,n){let s=[].slice.call(arguments,1),o=s.length,a=typeof s[o-1]=="function";if(!a&&!aK())throw new Error("Callback required as last argument");if(a){if(o<2)throw new Error("Too few arguments provided");o===2?(n=t,t=e,e=i=void 0):o===3&&(e.getContext&&typeof n>"u"?(n=i,i=void 0):(n=i,i=t,t=e,e=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(t=e,e=i=void 0):o===2&&!e.getContext&&(i=t,t=e,e=void 0),new Promise(function(u,h){try{let p=sE.create(t,i);u(r(p,e,i))}catch(p){h(p)}})}try{let u=sE.create(t,i);n(null,r(u,e,i))}catch(u){n(u)}}Tl.create=sE.create;Tl.toCanvas=oE.bind(null,t8.render);Tl.toDataURL=oE.bind(null,t8.renderToDataURL);Tl.toString=oE.bind(null,function(r,e,t){return uK.render(r,t)})});var d8=M(rs=>{"use strict";f();var dK=rs&&rs.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),h8=rs&&rs.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&dK(e,r,t)};Object.defineProperty(rs,"__esModule",{value:!0});h8(pl(),rs);h8(xv(),rs)});f();var pK=Ie(Z0(),1),v8=Ie(FI(),1),gK=Ie(qr(),1),yK=Ie(Vf(),1),mK=Ie(Ry(),1),wK=Ie(rc(),1),vK=Ie(Vy(),1),EK=Ie(ln(),1),E8=Ie(Zu(),1),AK=Ie(Yu(),1),IK=Ie(ty(),1),_K=Ie(Ub(),1),bK=Ie(Fo(),1);f();f();var zb=Ie(Ky(),1);f();f();var Zf="elvenjs_state",jb="https://devnet-api.elrond.com";var eh="/dapp/init",th="devnet",Gb="https://maiar.page.link/?apn=com.elrond.maiar.wallet&isi=1519405832&ibi=com.elrond.maiar.wallet&link=https://maiar.com/",Kb=["wss://relay.walletconnect.com"],_i={devnet:{id:"devnet",shortId:"D",name:"Devnet",egldLabel:"xEGLD",egldDenomination:"18",decimals:"4",gasPerDataByte:"1500",walletAddress:"https://devnet-wallet.elrond.com",apiAddress:"https://devnet-api.elrond.com",explorerAddress:"https://devnet-explorer.elrond.com",apiTimeout:1e4},testnet:{id:"testnet",shortId:"T",name:"Testnet",egldLabel:"xEGLD",egldDenomination:"18",decimals:"4",gasPerDataByte:"1500",walletAddress:"https://testnet-wallet.elrond.com",apiAddress:"https://testnet-api.elrond.com",explorerAddress:"https://testnet-explorer.elrond.com",apiTimeout:1e4},mainnet:{id:"mainnet",shortId:"1",name:"Mainnet",egldLabel:"EGLD",egldDenomination:"18",decimals:"4",gasPerDataByte:"1500",walletAddress:"https://wallet.elrond.com",apiAddress:"https://api.elrond.com",explorerAddress:"https://explorer.elrond.com",apiTimeout:1e4}};var xe={get(r){let e=localStorage.getItem(Zf);if(!e)return{};let t=JSON.parse(e);return r?t[r]:t},set(r,e){let t=this.get();t[r]=e,localStorage.setItem(Zf,JSON.stringify(t))},clear(){localStorage.removeItem(Zf)}};var rh=()=>Te(void 0,null,function*(){let r=zb.ExtensionProvider.getInstance();try{let e=yield r.init(),t=xe.get();if(t!=null&&t.address&&r.setAddress(t.address),!e){console.warn("Something went wrong when trying to initialize the ExtensionProvider..");return}return r}catch(e){console.warn("Can't initialize the Dapp Provider!")}});var y8=Ie(Ky(),1),m8=Ie(sp(),1),w8=Ie(pl(),1);f();var CD=Ie(sp(),1);f();f();var Me=class{static set(e,t){if(!e)return;let i=vE(yo({},this.events),{[e]:t});this.events=i}static get(e){if(!(!e||!this.events))return this.events[e]}static run(e,...t){var i,n;!e||!this.events||(n=(i=this.events)[e])==null||n.call(i,...t)}static clear(){this.events=void 0}};var Du=r=>Te(void 0,null,function*(){if(!r.dappProvider)throw new Error("Error: Logout failed: There is no active session!");Me.run("onLoginPending");let e=yield r.dappProvider.logout();return e&&(xe.clear(),Me.run("onLogout")),e});f();var _D=Ie(qr(),1),bD=Ie(Vf(),1);f();var mr=r=>typeof r=="string"?r.toUpperCase():r instanceof Error?r.message:`Error: ${JSON.stringify(r)}`;f();var Ou=()=>new Date().setHours(new Date().getHours()+24),vp=r=>Date.now()>r;var Yn=r=>Te(void 0,null,function*(){let e=xe.get("address"),t=xe.get("expires");if(!(t&&vp(t))&&e&&r.networkProvider){let n=new _D.Address(e),s=new bD.Account(n);try{let o=yield r.networkProvider.getAccount(n);xe.set("address",e),xe.set("nonce",o.nonce.valueOf()),xe.set("balance",o.balance.toString()),s.update(o)}catch(o){let a=mr(o);console.warn(`Something went wrong trying to synchronize the user account: ${a}`)}}});f();function Ep(r){return r[Math.floor(Math.random()*r.length)]}var SD=r=>Te(void 0,null,function*(){if(!r.initOptions.walletConnectV2ProjectId||!r.initOptions.chainType)return;let e={onClientLogin:()=>{Yn(r),Me.run("onLoggedIn")},onClientLogout:()=>Du(r),onClientEvent:n=>{console.log("wc2 session event: ",n)}},t=Ep(r.initOptions.walletConnectV2RelayAddresses),i=new CD.WalletConnectV2Provider(e,_i[r.initOptions.chainType].shortId,t,r.initOptions.walletConnectV2ProjectId);try{return yield i.init(),i}catch(n){console.warn("Can't initialize the Dapp Provider!")}});f();var zD=Ie(ND(),1),Tp=Ie(qr(),1),kD=Ie(DD(),1),$D=Ie(RD(),1),WD=Ie(Rv(),1),YD=Ie(HD(),1),JD=Ie(jD(),1),XD=Ie(GD(),1),ZD=Ie(KD(),1);var Np=class{constructor({apiUrl:e,chainType:t,apiTimeout:i}){var n,s;this.chainType=t||th,this.apiUrl=e||((n=_i[this.chainType])==null?void 0:n.apiAddress),this.apiTimeout=i||((s=_i[this.chainType])==null?void 0:s.apiTimeout)}apiGet(e,t){return Te(this,null,function*(){if(typeof fetch!="undefined"){let i=new AbortController,n=setTimeout(()=>i.abort(),this.apiTimeout),s={method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"},signal:i.signal};try{let o=yield fetch(this.apiUrl+"/"+e,Object.assign(s,t||{})),a=yield o.json();if(!o.ok){let u=(a==null?void 0:a.error)||o.status;return clearTimeout(n),Promise.reject(u)}return clearTimeout(n),a}catch(o){this.handleApiError(o,e)}}})}apiPost(e,t,i){return Te(this,null,function*(){if(typeof fetch!="undefined"){let n=new AbortController,s=setTimeout(()=>n.abort(),this.apiTimeout),o={method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(t||{}),signal:n.signal};try{let a=yield fetch(this.apiUrl+"/"+e,Object.assign(o,i||{})),u=yield a.json();if(!a.ok){let h=(u==null?void 0:u.error)||a.status;return clearTimeout(s),Promise.reject(h)}return clearTimeout(s),u}catch(a){this.handleApiError(a,e)}}})}handleApiError(e,t){if(!e.response)throw new Error(`Request error on url [${t}]: [${e.toString()}]`);let i=e.response.data,n=i.error||i.message||JSON.stringify(i);throw new Error(n)}sendTransaction(e){return Te(this,null,function*(){return(yield this.apiPost("transactions",e.toSendable())).txHash})}getAccount(e){return Te(this,null,function*(){let t=yield this.apiGet(`accounts/${e.bech32()}`);return{address:new Tp.Address((t==null?void 0:t.address)||""),nonce:Number((t==null?void 0:t.nonce)||0),balance:new zD.default((t==null?void 0:t.balance)||0),code:(t==null?void 0:t.code)||"",userName:(t==null?void 0:t.username)||""}})}getTransaction(e){return Te(this,null,function*(){let t=yield this.apiGet(`transactions/${e}`),i=new kD.TransactionStatus(t.status);return{hash:e,type:t.type||"",nonce:t.nonce||0,round:t.round,epoch:t.epoch||0,value:(t.value||0).toString(),sender:new Tp.Address(t.sender),receiver:new Tp.Address(t.receiver),gasPrice:t.gasPrice||0,gasLimit:t.gasLimit||0,data:y.Buffer.from(t.data||"","base64"),status:i,timestamp:t.timestamp||0,blockNonce:t.blockNonce||0,hyperblockNonce:t.hyperblockNonce||0,hyperblockHash:t.hyperblockHash||"",receipt:$D.TransactionReceipt.fromHttpResponse(t.receipt||{}),logs:WD.TransactionLogs.fromHttpResponse(t.logs||{}),contractResults:YD.ContractResults.fromApiHttpResponse(t.results||[]),isCompleted:!i.isPending()}})}queryContract(o){return Te(this,arguments,function*({address:e,func:t,args:i,value:n,caller:s}){try{let a=new ZD.Query({address:e,func:t,args:i,value:n,caller:s}),u=new XD.ContractQueryRequest(a).toHttpRequest(),h=yield this.apiPost("query",u);return JD.ContractQueryResponse.fromHttpResponse(h)}catch(a){this.handleApiError(a,"query")}})}};f();var co=(n=>(n.ledger="ledger",n.maiarMobile="maiar-mobile",n.webWallet="web-wallet",n.maiarBrowserExtension="maiar-browser-extension",n))(co||{});f();var eO=(r,e)=>Te(void 0,null,function*(){let t=yield rh();try{t&&(yield t.login())}catch(n){let s=mr(n);console.warn(`Something went wrong trying to login the user: ${s}`)}if(!t)throw new Error("Error: There were problems with auth provider initialization!");let{signature:i}=t.account;if(e&&xe.set("loginToken",e),i&&xe.set("signature",i),r.networkProvider)try{let n=yield t.getAddress();if(!n)throw new Error("Canceled!");return Me.run("onLoginPending"),xe.set("address",n),xe.set("loginMethod","maiar-browser-extension"),xe.set("expires",Ou()),yield Yn(r),Me.run("onLoggedIn"),t}catch(n){console.warn(`Something went wrong trying to synchronize the user account: ${n==null?void 0:n.message}`)}});f();f();var i8=Ie(r8(),1);var cK=r=>{var t;let e=document.createElement("template");return e.innerHTML=r.trim(),(t=e.content.firstChild)==null?void 0:t.cloneNode(!0)},lK=r=>{let e=`${Gb}?wallet-connect=${encodeURIComponent(r)}`,t=document.createElement("a");return t.setAttribute("href",e),t.setAttribute("rel","noopener noreferrer nofollow"),t.setAttribute("target","_blank"),t.textContent="Maiar login",t.classList.add("elven-qr-code-deep-link"),t},fK=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),hK=r=>Te(void 0,null,function*(){return r?yield i8.default.toString(r,{type:"svg"}):void 0}),n8=(r,e)=>Te(void 0,null,function*(){if(!r)throw new Error("Please provide the QR Code container id!");let t=yield hK(e),i=null;typeof r=="string"?i=document.getElementById(r):r instanceof HTMLElement&&(i=r);let n;return t&&(n=cK(t)),i&&n&&(i.appendChild(n),fK()&&i.appendChild(lK(e))),i});var Hp=Ie(sp(),1);var s8=(r,e,t)=>Te(void 0,null,function*(){if(!e)throw new Error("You haven't provided the QR code container DOM element id");let i=Ep(r.initOptions.walletConnectV2RelayAddresses);if(!i||!r.networkProvider)throw new Error("Something wen't wrong with the initialization (ApiNetworkProvider or Wallet Connect Bridge address), plese try to refresh the page!");if(!r.initOptions.walletConnectV2ProjectId)throw new Error("Please provide your WalletConnect project id. You can get it here: https://cloud.walletconnect.com)");if(!r.initOptions.chainType)throw new Error("Please provide the chain type in ElvenJS.init function!");let n,s={onClientLogin:()=>Te(void 0,null,function*(){if(r.dappProvider instanceof Hp.WalletConnectV2Provider){Me.run("onLoginPending");let a=yield r.dappProvider.getAddress(),u=yield r.dappProvider.getSignature();xe.set("address",a),xe.set("loginMethod","maiar-mobile"),xe.set("expires",Ou()),yield Yn(r),u&&xe.set("signature",u),t&&xe.set("loginToken",t),Me.run("onLoggedIn"),n==null||n.replaceChildren()}}),onClientLogout:()=>Te(void 0,null,function*(){r.dappProvider instanceof Hp.WalletConnectV2Provider&&(yield Du(r),Me.run("onLogout"))}),onClientEvent:a=>{console.log("wc2 session event: ",a)}},o=new Hp.WalletConnectV2Provider(s,_i[r.initOptions.chainType].shortId,i,r.initOptions.walletConnectV2ProjectId);try{if(o){r.dappProvider=o;let{uri:a,approval:u}=yield o.connect({methods:["erd_cancelAction"]}),h=t?`${a}&token=${t}`:a;return e&&a&&h&&(n=yield n8(e,h)),yield o.login({approval:u,token:t}),o}}catch(a){let u=mr(a);console.warn(`Something went wrong trying to login the user: ${u}`)}});f();var o8=Ie(pl(),1);var a8=(r,e,t)=>Te(void 0,null,function*(){let i=new o8.WalletProvider(`${r}${eh}`),n=typeof window!="undefined"?encodeURIComponent(`${window.location.origin}${e||"/"}`):"/",s=yo({callbackUrl:n},t?{token:t}:{});try{return Me.run("onLoginPending"),xe.set("loginMethod","web-wallet"),yield i.login(s),xe.set("expires",Ou()),t&&xe.set("loginToken",t),i}catch(o){let a=mr(o);console.warn(`Something went wrong trying to login the user: ${a}`),xe.set("loginMethod","")}});f();var go=r=>{if(typeof window!="undefined"){let e=new URL(window.location.href);return new URLSearchParams(e.search).get(r)}};f();var u8=Ie(pl(),1);var c8=r=>Te(void 0,null,function*(){let e=go("signature"),t=go("address"),i=xe.get("address");if(e&&xe.set("signature",e),t||i)return t&&(xe.set("address",t),window.history.replaceState(null,"",window.location.pathname)),new u8.WalletProvider(`${r}${eh}`)});f();var l8=Ie(Vf(),1),f8=Ie(Vy(),1);var Qp=(r,e)=>Te(void 0,null,function*(){Me.run("onTxSent",r),yield new f8.TransactionWatcher(e).awaitCompleted(r);let i=r.getSender(),n=new l8.Account(i),s=yield e.getAccount(i);n.update(s),xe.set("address",n.address.bech32()),xe.set("nonce",n.getNonceThenIncrement().valueOf()),xe.set("balance",n.balance.toString()),Me.run("onTxFinalized",r)});f();var jp=Ie(d8(),1),p8=Ie(Ry(),1);var g8=(r,e,t)=>Te(void 0,null,function*(){if(go(jp.WALLET_PROVIDER_CALLBACK_PARAM)===jp.WALLET_PROVIDER_CALLBACK_PARAM_TX_SIGNED&&r&&e&&"getTransactionsFromWalletUrl"in r){let n=r.getTransactionsFromWalletUrl();window.history.replaceState(null,"",window.location.pathname);let s=n==null?void 0:n[0];if(s){s.data=y.Buffer.from(s.data).toString("base64");let o=p8.Transaction.fromPlainObject(s);o.setNonce(t);try{Me.run("onTxStarted",o),yield e.sendTransaction(o),yield Qp(o,e)}catch(a){let u=mr(a);throw Me.run("onTxError",o,u),new Error(`Error: Transaction signing failed! ${u}`)}}}});var Dl=class{static init(e){return Te(this,null,function*(){let t=xe.get();if(t.expires&&vp(t.expires)){xe.clear(),this.dappProvider=void 0;return}this.initOptions=yo({chainType:th,apiUrl:jb,apiTimeout:1e4,walletConnectV2ProjectId:"",walletConnectV2RelayAddresses:Kb},e),this.networkProvider=new Np(this.initOptions),this.initOptions.onLoginPending&&Me.set("onLoginPending",this.initOptions.onLoginPending),this.initOptions.onLoggedIn&&Me.set("onLoggedIn",this.initOptions.onLoggedIn),this.initOptions.onLogout&&Me.set("onLogout",this.initOptions.onLogout),this.initOptions.onTxStarted&&Me.set("onTxStarted",this.initOptions.onTxStarted),this.initOptions.onTxSent&&Me.set("onTxSent",this.initOptions.onTxSent),this.initOptions.onTxFinalized&&Me.set("onTxFinalized",this.initOptions.onTxFinalized),this.initOptions.onTxError&&Me.set("onTxError",this.initOptions.onTxError),((t==null?void 0:t.address)||t.loginMethod==="web-wallet"&&go("address"))&&(t==null?void 0:t.loginMethod)&&(Me.run("onLoginPending"),t.loginMethod==="maiar-browser-extension"&&(this.dappProvider=yield rh()),t.loginMethod==="maiar-mobile"&&(this.dappProvider=yield SD(this)),t.loginMethod==="web-wallet"&&this.initOptions.chainType&&(this.dappProvider=yield c8(_i[this.initOptions.chainType].walletAddress)),yield Yn(this),Me.run("onLoggedIn"),t.loginMethod==="web-wallet"&&(yield g8(this.dappProvider,this.networkProvider,t.nonce)))})}static login(e,t){return Te(this,null,function*(){var n;if(!Object.values(co).includes(e))throw new Error("Error: Wrong login method!");if(!this.networkProvider)throw new Error("Error: Login failed: Use ElvenJs.init() first!");try{if(e==="maiar-browser-extension"){let s=yield eO(this,t==null?void 0:t.token);this.dappProvider=s}if(e==="maiar-mobile"){let s=yield s8(this,t==null?void 0:t.qrCodeContainer,t==null?void 0:t.token);this.dappProvider=s}if(e==="web-wallet"&&((n=this.initOptions)==null?void 0:n.chainType)){let s=yield a8(_i[this.initOptions.chainType].walletAddress,t==null?void 0:t.callbackRoute,t==null?void 0:t.token);this.dappProvider=s}}catch(s){let o=mr(s);throw new Error(`Error: ${o}`)}})}static logout(){return Te(this,null,function*(){let e=yield Du(this);return this.dappProvider=void 0,e})}static signAndSendTransaction(e){return Te(this,null,function*(){if(!this.dappProvider)throw new Error("Error: Transaction signing failed: There is no active session!");if(!this.networkProvider)throw new Error("Error: Transaction signing failed: There is no active network provider!");try{Me.run("onTxStarted",e);let t=xe.get();e.setNonce(t.nonce),this.dappProvider instanceof y8.ExtensionProvider&&(yield this.dappProvider.signTransaction(e)),this.dappProvider instanceof m8.WalletConnectV2Provider&&(yield this.dappProvider.signTransaction(e)),this.dappProvider instanceof w8.WalletProvider&&(yield this.dappProvider.signTransaction(e)),t.loginMethod!=="web-wallet"&&(yield this.networkProvider.sendTransaction(e),yield Qp(e,this.networkProvider))}catch(t){let i=mr(t);throw Me.run("onTxError",e,i),new Error(`Error: Transaction signing failed! ${i}`)}return e})}static queryContract(o){return Te(this,arguments,function*({address:e,func:t,args:i=[],value:n=0,caller:s}){if(!this.networkProvider)throw new Error("Error: Query failed: There is no active network provider!");if(!e||!t)throw new Error("Error: Query failed: The Query arguments are not valid! Address and func required");try{return yield this.networkProvider.queryContract({address:e,func:t,args:i,value:n,caller:s})}catch(a){let u=mr(a);throw new Error(`Error: Smart contract query failed! ${u}`)}})}},Nl=Dl;Nl.storage=xe,Nl.destroy=()=>{Dl.networkProvider=void 0,Dl.dappProvider=void 0,Dl.initOptions=void 0,Me.clear()};var export_Account=yK.Account;var export_Address=gK.Address;var export_AddressValue=bK.AddressValue;var export_BigUIntValue=E8.BigUIntValue;var export_BooleanValue=AK.BooleanValue;var export_BytesValue=EK.BytesValue;var export_ContractCallPayloadBuilder=IK.ContractCallPayloadBuilder;var export_ContractFunction=_K.ContractFunction;var export_ESDTNFTTransferPayloadBuilder=v8.ESDTNFTTransferPayloadBuilder;var export_ESDTTransferPayloadBuilder=v8.ESDTTransferPayloadBuilder;var export_TokenPayment=pK.TokenPayment;var export_Transaction=mK.Transaction;var export_TransactionPayload=wK.TransactionPayload;var export_TransactionWatcher=vK.TransactionWatcher;var export_U32Value=E8.U32Value;export{export_Account as Account,export_Address as Address,export_AddressValue as AddressValue,export_BigUIntValue as BigUIntValue,export_BooleanValue as BooleanValue,export_BytesValue as BytesValue,export_ContractCallPayloadBuilder as ContractCallPayloadBuilder,export_ContractFunction as ContractFunction,export_ESDTNFTTransferPayloadBuilder as ESDTNFTTransferPayloadBuilder,export_ESDTTransferPayloadBuilder as ESDTTransferPayloadBuilder,Nl as ElvenJS,co as LoginMethodsEnum,export_TokenPayment as TokenPayment,export_Transaction as Transaction,export_TransactionPayload as TransactionPayload,export_TransactionWatcher as TransactionWatcher,export_U32Value as U32Value};
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
/*! https://mths.be/punycode v1.4.1 by @mathias */
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
